function wre(n,t){for(var e=0;e<t.length;e++){const r=t[e];if(typeof r!="string"&&!Array.isArray(r)){for(const i in r)if(i!=="default"&&!(i in n)){const o=Object.getOwnPropertyDescriptor(r,i);o&&Object.defineProperty(n,i,o.get?o:{enumerable:!0,get:()=>r[i]})}}}return Object.freeze(Object.defineProperty(n,Symbol.toStringTag,{value:"Module"}))}(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const o of i)if(o.type==="childList")for(const a of o.addedNodes)a.tagName==="LINK"&&a.rel==="modulepreload"&&r(a)}).observe(document,{childList:!0,subtree:!0});function e(i){const o={};return i.integrity&&(o.integrity=i.integrity),i.referrerPolicy&&(o.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?o.credentials="include":i.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function r(i){if(i.ep)return;i.ep=!0;const o=e(i);fetch(i.href,o)}})();var X=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function l1(n){return n&&n.__esModule&&Object.prototype.hasOwnProperty.call(n,"default")?n.default:n}function Jl(n){if(n.__esModule)return n;var t=n.default;if(typeof t=="function"){var e=function r(){return this instanceof r?Reflect.construct(t,arguments,this.constructor):t.apply(this,arguments)};e.prototype=t.prototype}else e={};return Object.defineProperty(e,"__esModule",{value:!0}),Object.keys(n).forEach(function(r){var i=Object.getOwnPropertyDescriptor(n,r);Object.defineProperty(e,r,i.get?i:{enumerable:!0,get:function(){return n[r]}})}),e}var Q5={exports:{}},ZO={},J5={exports:{}},_t={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var uw=Symbol.for("react.element"),_re=Symbol.for("react.portal"),xre=Symbol.for("react.fragment"),Ere=Symbol.for("react.strict_mode"),bre=Symbol.for("react.profiler"),Ore=Symbol.for("react.provider"),Rre=Symbol.for("react.context"),Tre=Symbol.for("react.forward_ref"),Pre=Symbol.for("react.suspense"),Are=Symbol.for("react.memo"),Dre=Symbol.for("react.lazy"),f2=Symbol.iterator;function Mre(n){return n===null||typeof n!="object"?null:(n=f2&&n[f2]||n["@@iterator"],typeof n=="function"?n:null)}var e4={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},t4=Object.assign,r4={};function Ag(n,t,e){this.props=n,this.context=t,this.refs=r4,this.updater=e||e4}Ag.prototype.isReactComponent={};Ag.prototype.setState=function(n,t){if(typeof n!="object"&&typeof n!="function"&&n!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,n,t,"setState")};Ag.prototype.forceUpdate=function(n){this.updater.enqueueForceUpdate(this,n,"forceUpdate")};function n4(){}n4.prototype=Ag.prototype;function u1(n,t,e){this.props=n,this.context=t,this.refs=r4,this.updater=e||e4}var c1=u1.prototype=new n4;c1.constructor=u1;t4(c1,Ag.prototype);c1.isPureReactComponent=!0;var v2=Array.isArray,i4=Object.prototype.hasOwnProperty,d1={current:null},o4={key:!0,ref:!0,__self:!0,__source:!0};function a4(n,t,e){var r,i={},o=null,a=null;if(t!=null)for(r in t.ref!==void 0&&(a=t.ref),t.key!==void 0&&(o=""+t.key),t)i4.call(t,r)&&!o4.hasOwnProperty(r)&&(i[r]=t[r]);var s=arguments.length-2;if(s===1)i.children=e;else if(1<s){for(var l=Array(s),u=0;u<s;u++)l[u]=arguments[u+2];i.children=l}if(n&&n.defaultProps)for(r in s=n.defaultProps,s)i[r]===void 0&&(i[r]=s[r]);return{$$typeof:uw,type:n,key:o,ref:a,props:i,_owner:d1.current}}function Fre(n,t){return{$$typeof:uw,type:n.type,key:t,ref:n.ref,props:n.props,_owner:n._owner}}function p1(n){return typeof n=="object"&&n!==null&&n.$$typeof===uw}function Lre(n){var t={"=":"=0",":":"=2"};return"$"+n.replace(/[=:]/g,function(e){return t[e]})}var g2=/\/+/g;function RP(n,t){return typeof n=="object"&&n!==null&&n.key!=null?Lre(""+n.key):t.toString(36)}function Ax(n,t,e,r,i){var o=typeof n;(o==="undefined"||o==="boolean")&&(n=null);var a=!1;if(n===null)a=!0;else switch(o){case"string":case"number":a=!0;break;case"object":switch(n.$$typeof){case uw:case _re:a=!0}}if(a)return a=n,i=i(a),n=r===""?"."+RP(a,0):r,v2(i)?(e="",n!=null&&(e=n.replace(g2,"$&/")+"/"),Ax(i,t,e,"",function(u){return u})):i!=null&&(p1(i)&&(i=Fre(i,e+(!i.key||a&&a.key===i.key?"":(""+i.key).replace(g2,"$&/")+"/")+n)),t.push(i)),1;if(a=0,r=r===""?".":r+":",v2(n))for(var s=0;s<n.length;s++){o=n[s];var l=r+RP(o,s);a+=Ax(o,t,e,l,i)}else if(l=Mre(n),typeof l=="function")for(n=l.call(n),s=0;!(o=n.next()).done;)o=o.value,l=r+RP(o,s++),a+=Ax(o,t,e,l,i);else if(o==="object")throw t=String(n),Error("Objects are not valid as a React child (found: "+(t==="[object Object]"?"object with keys {"+Object.keys(n).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return a}function y0(n,t,e){if(n==null)return n;var r=[],i=0;return Ax(n,r,"","",function(o){return t.call(e,o,i++)}),r}function Ire(n){if(n._status===-1){var t=n._result;t=t(),t.then(function(e){(n._status===0||n._status===-1)&&(n._status=1,n._result=e)},function(e){(n._status===0||n._status===-1)&&(n._status=2,n._result=e)}),n._status===-1&&(n._status=0,n._result=t)}if(n._status===1)return n._result.default;throw n._result}var Ai={current:null},Dx={transition:null},Nre={ReactCurrentDispatcher:Ai,ReactCurrentBatchConfig:Dx,ReactCurrentOwner:d1};_t.Children={map:y0,forEach:function(n,t,e){y0(n,function(){t.apply(this,arguments)},e)},count:function(n){var t=0;return y0(n,function(){t++}),t},toArray:function(n){return y0(n,function(t){return t})||[]},only:function(n){if(!p1(n))throw Error("React.Children.only expected to receive a single React element child.");return n}};_t.Component=Ag;_t.Fragment=xre;_t.Profiler=bre;_t.PureComponent=u1;_t.StrictMode=Ere;_t.Suspense=Pre;_t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Nre;_t.cloneElement=function(n,t,e){if(n==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+n+".");var r=t4({},n.props),i=n.key,o=n.ref,a=n._owner;if(t!=null){if(t.ref!==void 0&&(o=t.ref,a=d1.current),t.key!==void 0&&(i=""+t.key),n.type&&n.type.defaultProps)var s=n.type.defaultProps;for(l in t)i4.call(t,l)&&!o4.hasOwnProperty(l)&&(r[l]=t[l]===void 0&&s!==void 0?s[l]:t[l])}var l=arguments.length-2;if(l===1)r.children=e;else if(1<l){s=Array(l);for(var u=0;u<l;u++)s[u]=arguments[u+2];r.children=s}return{$$typeof:uw,type:n.type,key:i,ref:o,props:r,_owner:a}};_t.createContext=function(n){return n={$$typeof:Rre,_currentValue:n,_currentValue2:n,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},n.Provider={$$typeof:Ore,_context:n},n.Consumer=n};_t.createElement=a4;_t.createFactory=function(n){var t=a4.bind(null,n);return t.type=n,t};_t.createRef=function(){return{current:null}};_t.forwardRef=function(n){return{$$typeof:Tre,render:n}};_t.isValidElement=p1;_t.lazy=function(n){return{$$typeof:Dre,_payload:{_status:-1,_result:n},_init:Ire}};_t.memo=function(n,t){return{$$typeof:Are,type:n,compare:t===void 0?null:t}};_t.startTransition=function(n){var t=Dx.transition;Dx.transition={};try{n()}finally{Dx.transition=t}};_t.unstable_act=function(){throw Error("act(...) is not supported in production builds of React.")};_t.useCallback=function(n,t){return Ai.current.useCallback(n,t)};_t.useContext=function(n){return Ai.current.useContext(n)};_t.useDebugValue=function(){};_t.useDeferredValue=function(n){return Ai.current.useDeferredValue(n)};_t.useEffect=function(n,t){return Ai.current.useEffect(n,t)};_t.useId=function(){return Ai.current.useId()};_t.useImperativeHandle=function(n,t,e){return Ai.current.useImperativeHandle(n,t,e)};_t.useInsertionEffect=function(n,t){return Ai.current.useInsertionEffect(n,t)};_t.useLayoutEffect=function(n,t){return Ai.current.useLayoutEffect(n,t)};_t.useMemo=function(n,t){return Ai.current.useMemo(n,t)};_t.useReducer=function(n,t,e){return Ai.current.useReducer(n,t,e)};_t.useRef=function(n){return Ai.current.useRef(n)};_t.useState=function(n){return Ai.current.useState(n)};_t.useSyncExternalStore=function(n,t,e){return Ai.current.useSyncExternalStore(n,t,e)};_t.useTransition=function(){return Ai.current.useTransition()};_t.version="18.2.0";J5.exports=_t;var I=J5.exports;const xs=l1(I),TE=wre({__proto__:null,default:xs},[I]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var kre=I,Gre=Symbol.for("react.element"),Vre=Symbol.for("react.fragment"),Bre=Object.prototype.hasOwnProperty,Hre=kre.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,jre={key:!0,ref:!0,__self:!0,__source:!0};function s4(n,t,e){var r,i={},o=null,a=null;e!==void 0&&(o=""+e),t.key!==void 0&&(o=""+t.key),t.ref!==void 0&&(a=t.ref);for(r in t)Bre.call(t,r)&&!jre.hasOwnProperty(r)&&(i[r]=t[r]);if(n&&n.defaultProps)for(r in t=n.defaultProps,t)i[r]===void 0&&(i[r]=t[r]);return{$$typeof:Gre,type:n,key:o,ref:a,props:i,_owner:Hre.current}}ZO.Fragment=Vre;ZO.jsx=s4;ZO.jsxs=s4;Q5.exports=ZO;var B=Q5.exports,kM={},l4={exports:{}},la={},u4={exports:{}},c4={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(n){function t(V,W){var K=V.length;V.push(W);e:for(;0<K;){var ee=K-1>>>1,Z=V[ee];if(0<i(Z,W))V[ee]=W,V[K]=Z,K=ee;else break e}}function e(V){return V.length===0?null:V[0]}function r(V){if(V.length===0)return null;var W=V[0],K=V.pop();if(K!==W){V[0]=K;e:for(var ee=0,Z=V.length,se=Z>>>1;ee<se;){var ie=2*(ee+1)-1,re=V[ie],Y=ie+1,le=V[Y];if(0>i(re,K))Y<Z&&0>i(le,re)?(V[ee]=le,V[Y]=K,ee=Y):(V[ee]=re,V[ie]=K,ee=ie);else if(Y<Z&&0>i(le,K))V[ee]=le,V[Y]=K,ee=Y;else break e}}return W}function i(V,W){var K=V.sortIndex-W.sortIndex;return K!==0?K:V.id-W.id}if(typeof performance=="object"&&typeof performance.now=="function"){var o=performance;n.unstable_now=function(){return o.now()}}else{var a=Date,s=a.now();n.unstable_now=function(){return a.now()-s}}var l=[],u=[],c=1,d=null,p=3,h=!1,f=!1,v=!1,g=typeof setTimeout=="function"?setTimeout:null,y=typeof clearTimeout=="function"?clearTimeout:null,m=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function C(V){for(var W=e(u);W!==null;){if(W.callback===null)r(u);else if(W.startTime<=V)r(u),W.sortIndex=W.expirationTime,t(l,W);else break;W=e(u)}}function S(V){if(v=!1,C(V),!f)if(e(l)!==null)f=!0,H(w);else{var W=e(u);W!==null&&j(S,W.startTime-V)}}function w(V,W){f=!1,v&&(v=!1,y(b),b=-1),h=!0;var K=p;try{for(C(W),d=e(l);d!==null&&(!(d.expirationTime>W)||V&&!A());){var ee=d.callback;if(typeof ee=="function"){d.callback=null,p=d.priorityLevel;var Z=ee(d.expirationTime<=W);W=n.unstable_now(),typeof Z=="function"?d.callback=Z:d===e(l)&&r(l),C(W)}else r(l);d=e(l)}if(d!==null)var se=!0;else{var ie=e(u);ie!==null&&j(S,ie.startTime-W),se=!1}return se}finally{d=null,p=K,h=!1}}var _=!1,x=null,b=-1,O=5,T=-1;function A(){return!(n.unstable_now()-T<O)}function N(){if(x!==null){var V=n.unstable_now();T=V;var W=!0;try{W=x(!0,V)}finally{W?M():(_=!1,x=null)}}else _=!1}var M;if(typeof m=="function")M=function(){m(N)};else if(typeof MessageChannel<"u"){var L=new MessageChannel,G=L.port2;L.port1.onmessage=N,M=function(){G.postMessage(null)}}else M=function(){g(N,0)};function H(V){x=V,_||(_=!0,M())}function j(V,W){b=g(function(){V(n.unstable_now())},W)}n.unstable_IdlePriority=5,n.unstable_ImmediatePriority=1,n.unstable_LowPriority=4,n.unstable_NormalPriority=3,n.unstable_Profiling=null,n.unstable_UserBlockingPriority=2,n.unstable_cancelCallback=function(V){V.callback=null},n.unstable_continueExecution=function(){f||h||(f=!0,H(w))},n.unstable_forceFrameRate=function(V){0>V||125<V?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):O=0<V?Math.floor(1e3/V):5},n.unstable_getCurrentPriorityLevel=function(){return p},n.unstable_getFirstCallbackNode=function(){return e(l)},n.unstable_next=function(V){switch(p){case 1:case 2:case 3:var W=3;break;default:W=p}var K=p;p=W;try{return V()}finally{p=K}},n.unstable_pauseExecution=function(){},n.unstable_requestPaint=function(){},n.unstable_runWithPriority=function(V,W){switch(V){case 1:case 2:case 3:case 4:case 5:break;default:V=3}var K=p;p=V;try{return W()}finally{p=K}},n.unstable_scheduleCallback=function(V,W,K){var ee=n.unstable_now();switch(typeof K=="object"&&K!==null?(K=K.delay,K=typeof K=="number"&&0<K?ee+K:ee):K=ee,V){case 1:var Z=-1;break;case 2:Z=250;break;case 5:Z=1073741823;break;case 4:Z=1e4;break;default:Z=5e3}return Z=K+Z,V={id:c++,callback:W,priorityLevel:V,startTime:K,expirationTime:Z,sortIndex:-1},K>ee?(V.sortIndex=K,t(u,V),e(l)===null&&V===e(u)&&(v?(y(b),b=-1):v=!0,j(S,K-ee))):(V.sortIndex=Z,t(l,V),f||h||(f=!0,H(w))),V},n.unstable_shouldYield=A,n.unstable_wrapCallback=function(V){var W=p;return function(){var K=p;p=W;try{return V.apply(this,arguments)}finally{p=K}}}})(c4);u4.exports=c4;var $re=u4.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var d4=I,na=$re;function me(n){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+n,e=1;e<arguments.length;e++)t+="&args[]="+encodeURIComponent(arguments[e]);return"Minified React error #"+n+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var p4=new Set,zC={};function qh(n,t){eg(n,t),eg(n+"Capture",t)}function eg(n,t){for(zC[n]=t,n=0;n<t.length;n++)p4.add(t[n])}var Bu=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),GM=Object.prototype.hasOwnProperty,Wre=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,y2={},m2={};function Ure(n){return GM.call(m2,n)?!0:GM.call(y2,n)?!1:Wre.test(n)?m2[n]=!0:(y2[n]=!0,!1)}function zre(n,t,e,r){if(e!==null&&e.type===0)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return r?!1:e!==null?!e.acceptsBooleans:(n=n.toLowerCase().slice(0,5),n!=="data-"&&n!=="aria-");default:return!1}}function Kre(n,t,e,r){if(t===null||typeof t>"u"||zre(n,t,e,r))return!0;if(r)return!1;if(e!==null)switch(e.type){case 3:return!t;case 4:return t===!1;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}function Di(n,t,e,r,i,o,a){this.acceptsBooleans=t===2||t===3||t===4,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=e,this.propertyName=n,this.type=t,this.sanitizeURL=o,this.removeEmptyString=a}var qn={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(n){qn[n]=new Di(n,0,!1,n,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(n){var t=n[0];qn[t]=new Di(t,1,!1,n[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(n){qn[n]=new Di(n,2,!1,n.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(n){qn[n]=new Di(n,2,!1,n,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(n){qn[n]=new Di(n,3,!1,n.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(n){qn[n]=new Di(n,3,!0,n,null,!1,!1)});["capture","download"].forEach(function(n){qn[n]=new Di(n,4,!1,n,null,!1,!1)});["cols","rows","size","span"].forEach(function(n){qn[n]=new Di(n,6,!1,n,null,!1,!1)});["rowSpan","start"].forEach(function(n){qn[n]=new Di(n,5,!1,n.toLowerCase(),null,!1,!1)});var h1=/[\-:]([a-z])/g;function f1(n){return n[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(n){var t=n.replace(h1,f1);qn[t]=new Di(t,1,!1,n,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(n){var t=n.replace(h1,f1);qn[t]=new Di(t,1,!1,n,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(n){var t=n.replace(h1,f1);qn[t]=new Di(t,1,!1,n,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(n){qn[n]=new Di(n,1,!1,n.toLowerCase(),null,!1,!1)});qn.xlinkHref=new Di("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(n){qn[n]=new Di(n,1,!1,n.toLowerCase(),null,!0,!0)});function v1(n,t,e,r){var i=qn.hasOwnProperty(t)?qn[t]:null;(i!==null?i.type!==0:r||!(2<t.length)||t[0]!=="o"&&t[0]!=="O"||t[1]!=="n"&&t[1]!=="N")&&(Kre(t,e,i,r)&&(e=null),r||i===null?Ure(t)&&(e===null?n.removeAttribute(t):n.setAttribute(t,""+e)):i.mustUseProperty?n[i.propertyName]=e===null?i.type===3?!1:"":e:(t=i.attributeName,r=i.attributeNamespace,e===null?n.removeAttribute(t):(i=i.type,e=i===3||i===4&&e===!0?"":""+e,r?n.setAttributeNS(r,t,e):n.setAttribute(t,e))))}var sc=d4.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,m0=Symbol.for("react.element"),tv=Symbol.for("react.portal"),rv=Symbol.for("react.fragment"),g1=Symbol.for("react.strict_mode"),VM=Symbol.for("react.profiler"),h4=Symbol.for("react.provider"),f4=Symbol.for("react.context"),y1=Symbol.for("react.forward_ref"),BM=Symbol.for("react.suspense"),HM=Symbol.for("react.suspense_list"),m1=Symbol.for("react.memo"),Yc=Symbol.for("react.lazy"),v4=Symbol.for("react.offscreen"),C2=Symbol.iterator;function cy(n){return n===null||typeof n!="object"?null:(n=C2&&n[C2]||n["@@iterator"],typeof n=="function"?n:null)}var Tr=Object.assign,TP;function Pm(n){if(TP===void 0)try{throw Error()}catch(e){var t=e.stack.trim().match(/\n( *(at )?)/);TP=t&&t[1]||""}return`
`+TP+n}var PP=!1;function AP(n,t){if(!n||PP)return"";PP=!0;var e=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(t,[])}catch(u){var r=u}Reflect.construct(n,[],t)}else{try{t.call()}catch(u){r=u}n.call(t.prototype)}else{try{throw Error()}catch(u){r=u}n()}}catch(u){if(u&&r&&typeof u.stack=="string"){for(var i=u.stack.split(`
`),o=r.stack.split(`
`),a=i.length-1,s=o.length-1;1<=a&&0<=s&&i[a]!==o[s];)s--;for(;1<=a&&0<=s;a--,s--)if(i[a]!==o[s]){if(a!==1||s!==1)do if(a--,s--,0>s||i[a]!==o[s]){var l=`
`+i[a].replace(" at new "," at ");return n.displayName&&l.includes("<anonymous>")&&(l=l.replace("<anonymous>",n.displayName)),l}while(1<=a&&0<=s);break}}}finally{PP=!1,Error.prepareStackTrace=e}return(n=n?n.displayName||n.name:"")?Pm(n):""}function Yre(n){switch(n.tag){case 5:return Pm(n.type);case 16:return Pm("Lazy");case 13:return Pm("Suspense");case 19:return Pm("SuspenseList");case 0:case 2:case 15:return n=AP(n.type,!1),n;case 11:return n=AP(n.type.render,!1),n;case 1:return n=AP(n.type,!0),n;default:return""}}function jM(n){if(n==null)return null;if(typeof n=="function")return n.displayName||n.name||null;if(typeof n=="string")return n;switch(n){case rv:return"Fragment";case tv:return"Portal";case VM:return"Profiler";case g1:return"StrictMode";case BM:return"Suspense";case HM:return"SuspenseList"}if(typeof n=="object")switch(n.$$typeof){case f4:return(n.displayName||"Context")+".Consumer";case h4:return(n._context.displayName||"Context")+".Provider";case y1:var t=n.render;return n=n.displayName,n||(n=t.displayName||t.name||"",n=n!==""?"ForwardRef("+n+")":"ForwardRef"),n;case m1:return t=n.displayName||null,t!==null?t:jM(n.type)||"Memo";case Yc:t=n._payload,n=n._init;try{return jM(n(t))}catch{}}return null}function Xre(n){var t=n.type;switch(n.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return n=t.render,n=n.displayName||n.name||"",t.displayName||(n!==""?"ForwardRef("+n+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return jM(t);case 8:return t===g1?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t}return null}function Id(n){switch(typeof n){case"boolean":case"number":case"string":case"undefined":return n;case"object":return n;default:return""}}function g4(n){var t=n.type;return(n=n.nodeName)&&n.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function qre(n){var t=g4(n)?"checked":"value",e=Object.getOwnPropertyDescriptor(n.constructor.prototype,t),r=""+n[t];if(!n.hasOwnProperty(t)&&typeof e<"u"&&typeof e.get=="function"&&typeof e.set=="function"){var i=e.get,o=e.set;return Object.defineProperty(n,t,{configurable:!0,get:function(){return i.call(this)},set:function(a){r=""+a,o.call(this,a)}}),Object.defineProperty(n,t,{enumerable:e.enumerable}),{getValue:function(){return r},setValue:function(a){r=""+a},stopTracking:function(){n._valueTracker=null,delete n[t]}}}}function C0(n){n._valueTracker||(n._valueTracker=qre(n))}function y4(n){if(!n)return!1;var t=n._valueTracker;if(!t)return!0;var e=t.getValue(),r="";return n&&(r=g4(n)?n.checked?"true":"false":n.value),n=r,n!==e?(t.setValue(n),!0):!1}function PE(n){if(n=n||(typeof document<"u"?document:void 0),typeof n>"u")return null;try{return n.activeElement||n.body}catch{return n.body}}function $M(n,t){var e=t.checked;return Tr({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:e??n._wrapperState.initialChecked})}function S2(n,t){var e=t.defaultValue==null?"":t.defaultValue,r=t.checked!=null?t.checked:t.defaultChecked;e=Id(t.value!=null?t.value:e),n._wrapperState={initialChecked:r,initialValue:e,controlled:t.type==="checkbox"||t.type==="radio"?t.checked!=null:t.value!=null}}function m4(n,t){t=t.checked,t!=null&&v1(n,"checked",t,!1)}function WM(n,t){m4(n,t);var e=Id(t.value),r=t.type;if(e!=null)r==="number"?(e===0&&n.value===""||n.value!=e)&&(n.value=""+e):n.value!==""+e&&(n.value=""+e);else if(r==="submit"||r==="reset"){n.removeAttribute("value");return}t.hasOwnProperty("value")?UM(n,t.type,e):t.hasOwnProperty("defaultValue")&&UM(n,t.type,Id(t.defaultValue)),t.checked==null&&t.defaultChecked!=null&&(n.defaultChecked=!!t.defaultChecked)}function w2(n,t,e){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var r=t.type;if(!(r!=="submit"&&r!=="reset"||t.value!==void 0&&t.value!==null))return;t=""+n._wrapperState.initialValue,e||t===n.value||(n.value=t),n.defaultValue=t}e=n.name,e!==""&&(n.name=""),n.defaultChecked=!!n._wrapperState.initialChecked,e!==""&&(n.name=e)}function UM(n,t,e){(t!=="number"||PE(n.ownerDocument)!==n)&&(e==null?n.defaultValue=""+n._wrapperState.initialValue:n.defaultValue!==""+e&&(n.defaultValue=""+e))}var Am=Array.isArray;function Pv(n,t,e,r){if(n=n.options,t){t={};for(var i=0;i<e.length;i++)t["$"+e[i]]=!0;for(e=0;e<n.length;e++)i=t.hasOwnProperty("$"+n[e].value),n[e].selected!==i&&(n[e].selected=i),i&&r&&(n[e].defaultSelected=!0)}else{for(e=""+Id(e),t=null,i=0;i<n.length;i++){if(n[i].value===e){n[i].selected=!0,r&&(n[i].defaultSelected=!0);return}t!==null||n[i].disabled||(t=n[i])}t!==null&&(t.selected=!0)}}function zM(n,t){if(t.dangerouslySetInnerHTML!=null)throw Error(me(91));return Tr({},t,{value:void 0,defaultValue:void 0,children:""+n._wrapperState.initialValue})}function _2(n,t){var e=t.value;if(e==null){if(e=t.children,t=t.defaultValue,e!=null){if(t!=null)throw Error(me(92));if(Am(e)){if(1<e.length)throw Error(me(93));e=e[0]}t=e}t==null&&(t=""),e=t}n._wrapperState={initialValue:Id(e)}}function C4(n,t){var e=Id(t.value),r=Id(t.defaultValue);e!=null&&(e=""+e,e!==n.value&&(n.value=e),t.defaultValue==null&&n.defaultValue!==e&&(n.defaultValue=e)),r!=null&&(n.defaultValue=""+r)}function x2(n){var t=n.textContent;t===n._wrapperState.initialValue&&t!==""&&t!==null&&(n.value=t)}function S4(n){switch(n){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function KM(n,t){return n==null||n==="http://www.w3.org/1999/xhtml"?S4(t):n==="http://www.w3.org/2000/svg"&&t==="foreignObject"?"http://www.w3.org/1999/xhtml":n}var S0,w4=function(n){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(t,e,r,i){MSApp.execUnsafeLocalFunction(function(){return n(t,e,r,i)})}:n}(function(n,t){if(n.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in n)n.innerHTML=t;else{for(S0=S0||document.createElement("div"),S0.innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=S0.firstChild;n.firstChild;)n.removeChild(n.firstChild);for(;t.firstChild;)n.appendChild(t.firstChild)}});function KC(n,t){if(t){var e=n.firstChild;if(e&&e===n.lastChild&&e.nodeType===3){e.nodeValue=t;return}}n.textContent=t}var uC={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},Zre=["Webkit","ms","Moz","O"];Object.keys(uC).forEach(function(n){Zre.forEach(function(t){t=t+n.charAt(0).toUpperCase()+n.substring(1),uC[t]=uC[n]})});function _4(n,t,e){return t==null||typeof t=="boolean"||t===""?"":e||typeof t!="number"||t===0||uC.hasOwnProperty(n)&&uC[n]?(""+t).trim():t+"px"}function x4(n,t){n=n.style;for(var e in t)if(t.hasOwnProperty(e)){var r=e.indexOf("--")===0,i=_4(e,t[e],r);e==="float"&&(e="cssFloat"),r?n.setProperty(e,i):n[e]=i}}var Qre=Tr({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function YM(n,t){if(t){if(Qre[n]&&(t.children!=null||t.dangerouslySetInnerHTML!=null))throw Error(me(137,n));if(t.dangerouslySetInnerHTML!=null){if(t.children!=null)throw Error(me(60));if(typeof t.dangerouslySetInnerHTML!="object"||!("__html"in t.dangerouslySetInnerHTML))throw Error(me(61))}if(t.style!=null&&typeof t.style!="object")throw Error(me(62))}}function XM(n,t){if(n.indexOf("-")===-1)return typeof t.is=="string";switch(n){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var qM=null;function C1(n){return n=n.target||n.srcElement||window,n.correspondingUseElement&&(n=n.correspondingUseElement),n.nodeType===3?n.parentNode:n}var ZM=null,Av=null,Dv=null;function E2(n){if(n=pw(n)){if(typeof ZM!="function")throw Error(me(280));var t=n.stateNode;t&&(t=rR(t),ZM(n.stateNode,n.type,t))}}function E4(n){Av?Dv?Dv.push(n):Dv=[n]:Av=n}function b4(){if(Av){var n=Av,t=Dv;if(Dv=Av=null,E2(n),t)for(n=0;n<t.length;n++)E2(t[n])}}function O4(n,t){return n(t)}function R4(){}var DP=!1;function T4(n,t,e){if(DP)return n(t,e);DP=!0;try{return O4(n,t,e)}finally{DP=!1,(Av!==null||Dv!==null)&&(R4(),b4())}}function YC(n,t){var e=n.stateNode;if(e===null)return null;var r=rR(e);if(r===null)return null;e=r[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(n=n.type,r=!(n==="button"||n==="input"||n==="select"||n==="textarea")),n=!r;break e;default:n=!1}if(n)return null;if(e&&typeof e!="function")throw Error(me(231,t,typeof e));return e}var QM=!1;if(Bu)try{var dy={};Object.defineProperty(dy,"passive",{get:function(){QM=!0}}),window.addEventListener("test",dy,dy),window.removeEventListener("test",dy,dy)}catch{QM=!1}function Jre(n,t,e,r,i,o,a,s,l){var u=Array.prototype.slice.call(arguments,3);try{t.apply(e,u)}catch(c){this.onError(c)}}var cC=!1,AE=null,DE=!1,JM=null,ene={onError:function(n){cC=!0,AE=n}};function tne(n,t,e,r,i,o,a,s,l){cC=!1,AE=null,Jre.apply(ene,arguments)}function rne(n,t,e,r,i,o,a,s,l){if(tne.apply(this,arguments),cC){if(cC){var u=AE;cC=!1,AE=null}else throw Error(me(198));DE||(DE=!0,JM=u)}}function Zh(n){var t=n,e=n;if(n.alternate)for(;t.return;)t=t.return;else{n=t;do t=n,t.flags&4098&&(e=t.return),n=t.return;while(n)}return t.tag===3?e:null}function P4(n){if(n.tag===13){var t=n.memoizedState;if(t===null&&(n=n.alternate,n!==null&&(t=n.memoizedState)),t!==null)return t.dehydrated}return null}function b2(n){if(Zh(n)!==n)throw Error(me(188))}function nne(n){var t=n.alternate;if(!t){if(t=Zh(n),t===null)throw Error(me(188));return t!==n?null:n}for(var e=n,r=t;;){var i=e.return;if(i===null)break;var o=i.alternate;if(o===null){if(r=i.return,r!==null){e=r;continue}break}if(i.child===o.child){for(o=i.child;o;){if(o===e)return b2(i),n;if(o===r)return b2(i),t;o=o.sibling}throw Error(me(188))}if(e.return!==r.return)e=i,r=o;else{for(var a=!1,s=i.child;s;){if(s===e){a=!0,e=i,r=o;break}if(s===r){a=!0,r=i,e=o;break}s=s.sibling}if(!a){for(s=o.child;s;){if(s===e){a=!0,e=o,r=i;break}if(s===r){a=!0,r=o,e=i;break}s=s.sibling}if(!a)throw Error(me(189))}}if(e.alternate!==r)throw Error(me(190))}if(e.tag!==3)throw Error(me(188));return e.stateNode.current===e?n:t}function A4(n){return n=nne(n),n!==null?D4(n):null}function D4(n){if(n.tag===5||n.tag===6)return n;for(n=n.child;n!==null;){var t=D4(n);if(t!==null)return t;n=n.sibling}return null}var M4=na.unstable_scheduleCallback,O2=na.unstable_cancelCallback,ine=na.unstable_shouldYield,one=na.unstable_requestPaint,Br=na.unstable_now,ane=na.unstable_getCurrentPriorityLevel,S1=na.unstable_ImmediatePriority,F4=na.unstable_UserBlockingPriority,ME=na.unstable_NormalPriority,sne=na.unstable_LowPriority,L4=na.unstable_IdlePriority,QO=null,kl=null;function lne(n){if(kl&&typeof kl.onCommitFiberRoot=="function")try{kl.onCommitFiberRoot(QO,n,void 0,(n.current.flags&128)===128)}catch{}}var Rs=Math.clz32?Math.clz32:dne,une=Math.log,cne=Math.LN2;function dne(n){return n>>>=0,n===0?32:31-(une(n)/cne|0)|0}var w0=64,_0=4194304;function Dm(n){switch(n&-n){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return n&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return n&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return n}}function FE(n,t){var e=n.pendingLanes;if(e===0)return 0;var r=0,i=n.suspendedLanes,o=n.pingedLanes,a=e&268435455;if(a!==0){var s=a&~i;s!==0?r=Dm(s):(o&=a,o!==0&&(r=Dm(o)))}else a=e&~i,a!==0?r=Dm(a):o!==0&&(r=Dm(o));if(r===0)return 0;if(t!==0&&t!==r&&!(t&i)&&(i=r&-r,o=t&-t,i>=o||i===16&&(o&4194240)!==0))return t;if(r&4&&(r|=e&16),t=n.entangledLanes,t!==0)for(n=n.entanglements,t&=r;0<t;)e=31-Rs(t),i=1<<e,r|=n[e],t&=~i;return r}function pne(n,t){switch(n){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function hne(n,t){for(var e=n.suspendedLanes,r=n.pingedLanes,i=n.expirationTimes,o=n.pendingLanes;0<o;){var a=31-Rs(o),s=1<<a,l=i[a];l===-1?(!(s&e)||s&r)&&(i[a]=pne(s,t)):l<=t&&(n.expiredLanes|=s),o&=~s}}function eF(n){return n=n.pendingLanes&-1073741825,n!==0?n:n&1073741824?1073741824:0}function I4(){var n=w0;return w0<<=1,!(w0&4194240)&&(w0=64),n}function MP(n){for(var t=[],e=0;31>e;e++)t.push(n);return t}function cw(n,t,e){n.pendingLanes|=t,t!==536870912&&(n.suspendedLanes=0,n.pingedLanes=0),n=n.eventTimes,t=31-Rs(t),n[t]=e}function fne(n,t){var e=n.pendingLanes&~t;n.pendingLanes=t,n.suspendedLanes=0,n.pingedLanes=0,n.expiredLanes&=t,n.mutableReadLanes&=t,n.entangledLanes&=t,t=n.entanglements;var r=n.eventTimes;for(n=n.expirationTimes;0<e;){var i=31-Rs(e),o=1<<i;t[i]=0,r[i]=-1,n[i]=-1,e&=~o}}function w1(n,t){var e=n.entangledLanes|=t;for(n=n.entanglements;e;){var r=31-Rs(e),i=1<<r;i&t|n[r]&t&&(n[r]|=t),e&=~i}}var Zt=0;function N4(n){return n&=-n,1<n?4<n?n&268435455?16:536870912:4:1}var k4,_1,G4,V4,B4,tF=!1,x0=[],yd=null,md=null,Cd=null,XC=new Map,qC=new Map,td=[],vne="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function R2(n,t){switch(n){case"focusin":case"focusout":yd=null;break;case"dragenter":case"dragleave":md=null;break;case"mouseover":case"mouseout":Cd=null;break;case"pointerover":case"pointerout":XC.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":qC.delete(t.pointerId)}}function py(n,t,e,r,i,o){return n===null||n.nativeEvent!==o?(n={blockedOn:t,domEventName:e,eventSystemFlags:r,nativeEvent:o,targetContainers:[i]},t!==null&&(t=pw(t),t!==null&&_1(t)),n):(n.eventSystemFlags|=r,t=n.targetContainers,i!==null&&t.indexOf(i)===-1&&t.push(i),n)}function gne(n,t,e,r,i){switch(t){case"focusin":return yd=py(yd,n,t,e,r,i),!0;case"dragenter":return md=py(md,n,t,e,r,i),!0;case"mouseover":return Cd=py(Cd,n,t,e,r,i),!0;case"pointerover":var o=i.pointerId;return XC.set(o,py(XC.get(o)||null,n,t,e,r,i)),!0;case"gotpointercapture":return o=i.pointerId,qC.set(o,py(qC.get(o)||null,n,t,e,r,i)),!0}return!1}function H4(n){var t=ih(n.target);if(t!==null){var e=Zh(t);if(e!==null){if(t=e.tag,t===13){if(t=P4(e),t!==null){n.blockedOn=t,B4(n.priority,function(){G4(e)});return}}else if(t===3&&e.stateNode.current.memoizedState.isDehydrated){n.blockedOn=e.tag===3?e.stateNode.containerInfo:null;return}}}n.blockedOn=null}function Mx(n){if(n.blockedOn!==null)return!1;for(var t=n.targetContainers;0<t.length;){var e=rF(n.domEventName,n.eventSystemFlags,t[0],n.nativeEvent);if(e===null){e=n.nativeEvent;var r=new e.constructor(e.type,e);qM=r,e.target.dispatchEvent(r),qM=null}else return t=pw(e),t!==null&&_1(t),n.blockedOn=e,!1;t.shift()}return!0}function T2(n,t,e){Mx(n)&&e.delete(t)}function yne(){tF=!1,yd!==null&&Mx(yd)&&(yd=null),md!==null&&Mx(md)&&(md=null),Cd!==null&&Mx(Cd)&&(Cd=null),XC.forEach(T2),qC.forEach(T2)}function hy(n,t){n.blockedOn===t&&(n.blockedOn=null,tF||(tF=!0,na.unstable_scheduleCallback(na.unstable_NormalPriority,yne)))}function ZC(n){function t(i){return hy(i,n)}if(0<x0.length){hy(x0[0],n);for(var e=1;e<x0.length;e++){var r=x0[e];r.blockedOn===n&&(r.blockedOn=null)}}for(yd!==null&&hy(yd,n),md!==null&&hy(md,n),Cd!==null&&hy(Cd,n),XC.forEach(t),qC.forEach(t),e=0;e<td.length;e++)r=td[e],r.blockedOn===n&&(r.blockedOn=null);for(;0<td.length&&(e=td[0],e.blockedOn===null);)H4(e),e.blockedOn===null&&td.shift()}var Mv=sc.ReactCurrentBatchConfig,LE=!0;function mne(n,t,e,r){var i=Zt,o=Mv.transition;Mv.transition=null;try{Zt=1,x1(n,t,e,r)}finally{Zt=i,Mv.transition=o}}function Cne(n,t,e,r){var i=Zt,o=Mv.transition;Mv.transition=null;try{Zt=4,x1(n,t,e,r)}finally{Zt=i,Mv.transition=o}}function x1(n,t,e,r){if(LE){var i=rF(n,t,e,r);if(i===null)jP(n,t,r,IE,e),R2(n,r);else if(gne(i,n,t,e,r))r.stopPropagation();else if(R2(n,r),t&4&&-1<vne.indexOf(n)){for(;i!==null;){var o=pw(i);if(o!==null&&k4(o),o=rF(n,t,e,r),o===null&&jP(n,t,r,IE,e),o===i)break;i=o}i!==null&&r.stopPropagation()}else jP(n,t,r,null,e)}}var IE=null;function rF(n,t,e,r){if(IE=null,n=C1(r),n=ih(n),n!==null)if(t=Zh(n),t===null)n=null;else if(e=t.tag,e===13){if(n=P4(t),n!==null)return n;n=null}else if(e===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;n=null}else t!==n&&(n=null);return IE=n,null}function j4(n){switch(n){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(ane()){case S1:return 1;case F4:return 4;case ME:case sne:return 16;case L4:return 536870912;default:return 16}default:return 16}}var ad=null,E1=null,Fx=null;function $4(){if(Fx)return Fx;var n,t=E1,e=t.length,r,i="value"in ad?ad.value:ad.textContent,o=i.length;for(n=0;n<e&&t[n]===i[n];n++);var a=e-n;for(r=1;r<=a&&t[e-r]===i[o-r];r++);return Fx=i.slice(n,1<r?1-r:void 0)}function Lx(n){var t=n.keyCode;return"charCode"in n?(n=n.charCode,n===0&&t===13&&(n=13)):n=t,n===10&&(n=13),32<=n||n===13?n:0}function E0(){return!0}function P2(){return!1}function ua(n){function t(e,r,i,o,a){this._reactName=e,this._targetInst=i,this.type=r,this.nativeEvent=o,this.target=a,this.currentTarget=null;for(var s in n)n.hasOwnProperty(s)&&(e=n[s],this[s]=e?e(o):o[s]);return this.isDefaultPrevented=(o.defaultPrevented!=null?o.defaultPrevented:o.returnValue===!1)?E0:P2,this.isPropagationStopped=P2,this}return Tr(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var e=this.nativeEvent;e&&(e.preventDefault?e.preventDefault():typeof e.returnValue!="unknown"&&(e.returnValue=!1),this.isDefaultPrevented=E0)},stopPropagation:function(){var e=this.nativeEvent;e&&(e.stopPropagation?e.stopPropagation():typeof e.cancelBubble!="unknown"&&(e.cancelBubble=!0),this.isPropagationStopped=E0)},persist:function(){},isPersistent:E0}),t}var Dg={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(n){return n.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},b1=ua(Dg),dw=Tr({},Dg,{view:0,detail:0}),Sne=ua(dw),FP,LP,fy,JO=Tr({},dw,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:O1,button:0,buttons:0,relatedTarget:function(n){return n.relatedTarget===void 0?n.fromElement===n.srcElement?n.toElement:n.fromElement:n.relatedTarget},movementX:function(n){return"movementX"in n?n.movementX:(n!==fy&&(fy&&n.type==="mousemove"?(FP=n.screenX-fy.screenX,LP=n.screenY-fy.screenY):LP=FP=0,fy=n),FP)},movementY:function(n){return"movementY"in n?n.movementY:LP}}),A2=ua(JO),wne=Tr({},JO,{dataTransfer:0}),_ne=ua(wne),xne=Tr({},dw,{relatedTarget:0}),IP=ua(xne),Ene=Tr({},Dg,{animationName:0,elapsedTime:0,pseudoElement:0}),bne=ua(Ene),One=Tr({},Dg,{clipboardData:function(n){return"clipboardData"in n?n.clipboardData:window.clipboardData}}),Rne=ua(One),Tne=Tr({},Dg,{data:0}),D2=ua(Tne),Pne={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Ane={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Dne={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Mne(n){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(n):(n=Dne[n])?!!t[n]:!1}function O1(){return Mne}var Fne=Tr({},dw,{key:function(n){if(n.key){var t=Pne[n.key]||n.key;if(t!=="Unidentified")return t}return n.type==="keypress"?(n=Lx(n),n===13?"Enter":String.fromCharCode(n)):n.type==="keydown"||n.type==="keyup"?Ane[n.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:O1,charCode:function(n){return n.type==="keypress"?Lx(n):0},keyCode:function(n){return n.type==="keydown"||n.type==="keyup"?n.keyCode:0},which:function(n){return n.type==="keypress"?Lx(n):n.type==="keydown"||n.type==="keyup"?n.keyCode:0}}),Lne=ua(Fne),Ine=Tr({},JO,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),M2=ua(Ine),Nne=Tr({},dw,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:O1}),kne=ua(Nne),Gne=Tr({},Dg,{propertyName:0,elapsedTime:0,pseudoElement:0}),Vne=ua(Gne),Bne=Tr({},JO,{deltaX:function(n){return"deltaX"in n?n.deltaX:"wheelDeltaX"in n?-n.wheelDeltaX:0},deltaY:function(n){return"deltaY"in n?n.deltaY:"wheelDeltaY"in n?-n.wheelDeltaY:"wheelDelta"in n?-n.wheelDelta:0},deltaZ:0,deltaMode:0}),Hne=ua(Bne),jne=[9,13,27,32],R1=Bu&&"CompositionEvent"in window,dC=null;Bu&&"documentMode"in document&&(dC=document.documentMode);var $ne=Bu&&"TextEvent"in window&&!dC,W4=Bu&&(!R1||dC&&8<dC&&11>=dC),F2=" ",L2=!1;function U4(n,t){switch(n){case"keyup":return jne.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function z4(n){return n=n.detail,typeof n=="object"&&"data"in n?n.data:null}var nv=!1;function Wne(n,t){switch(n){case"compositionend":return z4(t);case"keypress":return t.which!==32?null:(L2=!0,F2);case"textInput":return n=t.data,n===F2&&L2?null:n;default:return null}}function Une(n,t){if(nv)return n==="compositionend"||!R1&&U4(n,t)?(n=$4(),Fx=E1=ad=null,nv=!1,n):null;switch(n){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return W4&&t.locale!=="ko"?null:t.data;default:return null}}var zne={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function I2(n){var t=n&&n.nodeName&&n.nodeName.toLowerCase();return t==="input"?!!zne[n.type]:t==="textarea"}function K4(n,t,e,r){E4(r),t=NE(t,"onChange"),0<t.length&&(e=new b1("onChange","change",null,e,r),n.push({event:e,listeners:t}))}var pC=null,QC=null;function Kne(n){iK(n,0)}function eR(n){var t=av(n);if(y4(t))return n}function Yne(n,t){if(n==="change")return t}var Y4=!1;if(Bu){var NP;if(Bu){var kP="oninput"in document;if(!kP){var N2=document.createElement("div");N2.setAttribute("oninput","return;"),kP=typeof N2.oninput=="function"}NP=kP}else NP=!1;Y4=NP&&(!document.documentMode||9<document.documentMode)}function k2(){pC&&(pC.detachEvent("onpropertychange",X4),QC=pC=null)}function X4(n){if(n.propertyName==="value"&&eR(QC)){var t=[];K4(t,QC,n,C1(n)),T4(Kne,t)}}function Xne(n,t,e){n==="focusin"?(k2(),pC=t,QC=e,pC.attachEvent("onpropertychange",X4)):n==="focusout"&&k2()}function qne(n){if(n==="selectionchange"||n==="keyup"||n==="keydown")return eR(QC)}function Zne(n,t){if(n==="click")return eR(t)}function Qne(n,t){if(n==="input"||n==="change")return eR(t)}function Jne(n,t){return n===t&&(n!==0||1/n===1/t)||n!==n&&t!==t}var Ms=typeof Object.is=="function"?Object.is:Jne;function JC(n,t){if(Ms(n,t))return!0;if(typeof n!="object"||n===null||typeof t!="object"||t===null)return!1;var e=Object.keys(n),r=Object.keys(t);if(e.length!==r.length)return!1;for(r=0;r<e.length;r++){var i=e[r];if(!GM.call(t,i)||!Ms(n[i],t[i]))return!1}return!0}function G2(n){for(;n&&n.firstChild;)n=n.firstChild;return n}function V2(n,t){var e=G2(n);n=0;for(var r;e;){if(e.nodeType===3){if(r=n+e.textContent.length,n<=t&&r>=t)return{node:e,offset:t-n};n=r}e:{for(;e;){if(e.nextSibling){e=e.nextSibling;break e}e=e.parentNode}e=void 0}e=G2(e)}}function q4(n,t){return n&&t?n===t?!0:n&&n.nodeType===3?!1:t&&t.nodeType===3?q4(n,t.parentNode):"contains"in n?n.contains(t):n.compareDocumentPosition?!!(n.compareDocumentPosition(t)&16):!1:!1}function Z4(){for(var n=window,t=PE();t instanceof n.HTMLIFrameElement;){try{var e=typeof t.contentWindow.location.href=="string"}catch{e=!1}if(e)n=t.contentWindow;else break;t=PE(n.document)}return t}function T1(n){var t=n&&n.nodeName&&n.nodeName.toLowerCase();return t&&(t==="input"&&(n.type==="text"||n.type==="search"||n.type==="tel"||n.type==="url"||n.type==="password")||t==="textarea"||n.contentEditable==="true")}function eie(n){var t=Z4(),e=n.focusedElem,r=n.selectionRange;if(t!==e&&e&&e.ownerDocument&&q4(e.ownerDocument.documentElement,e)){if(r!==null&&T1(e)){if(t=r.start,n=r.end,n===void 0&&(n=t),"selectionStart"in e)e.selectionStart=t,e.selectionEnd=Math.min(n,e.value.length);else if(n=(t=e.ownerDocument||document)&&t.defaultView||window,n.getSelection){n=n.getSelection();var i=e.textContent.length,o=Math.min(r.start,i);r=r.end===void 0?o:Math.min(r.end,i),!n.extend&&o>r&&(i=r,r=o,o=i),i=V2(e,o);var a=V2(e,r);i&&a&&(n.rangeCount!==1||n.anchorNode!==i.node||n.anchorOffset!==i.offset||n.focusNode!==a.node||n.focusOffset!==a.offset)&&(t=t.createRange(),t.setStart(i.node,i.offset),n.removeAllRanges(),o>r?(n.addRange(t),n.extend(a.node,a.offset)):(t.setEnd(a.node,a.offset),n.addRange(t)))}}for(t=[],n=e;n=n.parentNode;)n.nodeType===1&&t.push({element:n,left:n.scrollLeft,top:n.scrollTop});for(typeof e.focus=="function"&&e.focus(),e=0;e<t.length;e++)n=t[e],n.element.scrollLeft=n.left,n.element.scrollTop=n.top}}var tie=Bu&&"documentMode"in document&&11>=document.documentMode,iv=null,nF=null,hC=null,iF=!1;function B2(n,t,e){var r=e.window===e?e.document:e.nodeType===9?e:e.ownerDocument;iF||iv==null||iv!==PE(r)||(r=iv,"selectionStart"in r&&T1(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),hC&&JC(hC,r)||(hC=r,r=NE(nF,"onSelect"),0<r.length&&(t=new b1("onSelect","select",null,t,e),n.push({event:t,listeners:r}),t.target=iv)))}function b0(n,t){var e={};return e[n.toLowerCase()]=t.toLowerCase(),e["Webkit"+n]="webkit"+t,e["Moz"+n]="moz"+t,e}var ov={animationend:b0("Animation","AnimationEnd"),animationiteration:b0("Animation","AnimationIteration"),animationstart:b0("Animation","AnimationStart"),transitionend:b0("Transition","TransitionEnd")},GP={},Q4={};Bu&&(Q4=document.createElement("div").style,"AnimationEvent"in window||(delete ov.animationend.animation,delete ov.animationiteration.animation,delete ov.animationstart.animation),"TransitionEvent"in window||delete ov.transitionend.transition);function tR(n){if(GP[n])return GP[n];if(!ov[n])return n;var t=ov[n],e;for(e in t)if(t.hasOwnProperty(e)&&e in Q4)return GP[n]=t[e];return n}var J4=tR("animationend"),eK=tR("animationiteration"),tK=tR("animationstart"),rK=tR("transitionend"),nK=new Map,H2="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function zd(n,t){nK.set(n,t),qh(t,[n])}for(var VP=0;VP<H2.length;VP++){var BP=H2[VP],rie=BP.toLowerCase(),nie=BP[0].toUpperCase()+BP.slice(1);zd(rie,"on"+nie)}zd(J4,"onAnimationEnd");zd(eK,"onAnimationIteration");zd(tK,"onAnimationStart");zd("dblclick","onDoubleClick");zd("focusin","onFocus");zd("focusout","onBlur");zd(rK,"onTransitionEnd");eg("onMouseEnter",["mouseout","mouseover"]);eg("onMouseLeave",["mouseout","mouseover"]);eg("onPointerEnter",["pointerout","pointerover"]);eg("onPointerLeave",["pointerout","pointerover"]);qh("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));qh("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));qh("onBeforeInput",["compositionend","keypress","textInput","paste"]);qh("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));qh("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));qh("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Mm="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),iie=new Set("cancel close invalid load scroll toggle".split(" ").concat(Mm));function j2(n,t,e){var r=n.type||"unknown-event";n.currentTarget=e,rne(r,t,void 0,n),n.currentTarget=null}function iK(n,t){t=(t&4)!==0;for(var e=0;e<n.length;e++){var r=n[e],i=r.event;r=r.listeners;e:{var o=void 0;if(t)for(var a=r.length-1;0<=a;a--){var s=r[a],l=s.instance,u=s.currentTarget;if(s=s.listener,l!==o&&i.isPropagationStopped())break e;j2(i,s,u),o=l}else for(a=0;a<r.length;a++){if(s=r[a],l=s.instance,u=s.currentTarget,s=s.listener,l!==o&&i.isPropagationStopped())break e;j2(i,s,u),o=l}}}if(DE)throw n=JM,DE=!1,JM=null,n}function pr(n,t){var e=t[uF];e===void 0&&(e=t[uF]=new Set);var r=n+"__bubble";e.has(r)||(oK(t,n,2,!1),e.add(r))}function HP(n,t,e){var r=0;t&&(r|=4),oK(e,n,r,t)}var O0="_reactListening"+Math.random().toString(36).slice(2);function eS(n){if(!n[O0]){n[O0]=!0,p4.forEach(function(e){e!=="selectionchange"&&(iie.has(e)||HP(e,!1,n),HP(e,!0,n))});var t=n.nodeType===9?n:n.ownerDocument;t===null||t[O0]||(t[O0]=!0,HP("selectionchange",!1,t))}}function oK(n,t,e,r){switch(j4(t)){case 1:var i=mne;break;case 4:i=Cne;break;default:i=x1}e=i.bind(null,t,e,n),i=void 0,!QM||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(i=!0),r?i!==void 0?n.addEventListener(t,e,{capture:!0,passive:i}):n.addEventListener(t,e,!0):i!==void 0?n.addEventListener(t,e,{passive:i}):n.addEventListener(t,e,!1)}function jP(n,t,e,r,i){var o=r;if(!(t&1)&&!(t&2)&&r!==null)e:for(;;){if(r===null)return;var a=r.tag;if(a===3||a===4){var s=r.stateNode.containerInfo;if(s===i||s.nodeType===8&&s.parentNode===i)break;if(a===4)for(a=r.return;a!==null;){var l=a.tag;if((l===3||l===4)&&(l=a.stateNode.containerInfo,l===i||l.nodeType===8&&l.parentNode===i))return;a=a.return}for(;s!==null;){if(a=ih(s),a===null)return;if(l=a.tag,l===5||l===6){r=o=a;continue e}s=s.parentNode}}r=r.return}T4(function(){var u=o,c=C1(e),d=[];e:{var p=nK.get(n);if(p!==void 0){var h=b1,f=n;switch(n){case"keypress":if(Lx(e)===0)break e;case"keydown":case"keyup":h=Lne;break;case"focusin":f="focus",h=IP;break;case"focusout":f="blur",h=IP;break;case"beforeblur":case"afterblur":h=IP;break;case"click":if(e.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":h=A2;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":h=_ne;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":h=kne;break;case J4:case eK:case tK:h=bne;break;case rK:h=Vne;break;case"scroll":h=Sne;break;case"wheel":h=Hne;break;case"copy":case"cut":case"paste":h=Rne;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":h=M2}var v=(t&4)!==0,g=!v&&n==="scroll",y=v?p!==null?p+"Capture":null:p;v=[];for(var m=u,C;m!==null;){C=m;var S=C.stateNode;if(C.tag===5&&S!==null&&(C=S,y!==null&&(S=YC(m,y),S!=null&&v.push(tS(m,S,C)))),g)break;m=m.return}0<v.length&&(p=new h(p,f,null,e,c),d.push({event:p,listeners:v}))}}if(!(t&7)){e:{if(p=n==="mouseover"||n==="pointerover",h=n==="mouseout"||n==="pointerout",p&&e!==qM&&(f=e.relatedTarget||e.fromElement)&&(ih(f)||f[Hu]))break e;if((h||p)&&(p=c.window===c?c:(p=c.ownerDocument)?p.defaultView||p.parentWindow:window,h?(f=e.relatedTarget||e.toElement,h=u,f=f?ih(f):null,f!==null&&(g=Zh(f),f!==g||f.tag!==5&&f.tag!==6)&&(f=null)):(h=null,f=u),h!==f)){if(v=A2,S="onMouseLeave",y="onMouseEnter",m="mouse",(n==="pointerout"||n==="pointerover")&&(v=M2,S="onPointerLeave",y="onPointerEnter",m="pointer"),g=h==null?p:av(h),C=f==null?p:av(f),p=new v(S,m+"leave",h,e,c),p.target=g,p.relatedTarget=C,S=null,ih(c)===u&&(v=new v(y,m+"enter",f,e,c),v.target=C,v.relatedTarget=g,S=v),g=S,h&&f)t:{for(v=h,y=f,m=0,C=v;C;C=vf(C))m++;for(C=0,S=y;S;S=vf(S))C++;for(;0<m-C;)v=vf(v),m--;for(;0<C-m;)y=vf(y),C--;for(;m--;){if(v===y||y!==null&&v===y.alternate)break t;v=vf(v),y=vf(y)}v=null}else v=null;h!==null&&$2(d,p,h,v,!1),f!==null&&g!==null&&$2(d,g,f,v,!0)}}e:{if(p=u?av(u):window,h=p.nodeName&&p.nodeName.toLowerCase(),h==="select"||h==="input"&&p.type==="file")var w=Yne;else if(I2(p))if(Y4)w=Qne;else{w=qne;var _=Xne}else(h=p.nodeName)&&h.toLowerCase()==="input"&&(p.type==="checkbox"||p.type==="radio")&&(w=Zne);if(w&&(w=w(n,u))){K4(d,w,e,c);break e}_&&_(n,p,u),n==="focusout"&&(_=p._wrapperState)&&_.controlled&&p.type==="number"&&UM(p,"number",p.value)}switch(_=u?av(u):window,n){case"focusin":(I2(_)||_.contentEditable==="true")&&(iv=_,nF=u,hC=null);break;case"focusout":hC=nF=iv=null;break;case"mousedown":iF=!0;break;case"contextmenu":case"mouseup":case"dragend":iF=!1,B2(d,e,c);break;case"selectionchange":if(tie)break;case"keydown":case"keyup":B2(d,e,c)}var x;if(R1)e:{switch(n){case"compositionstart":var b="onCompositionStart";break e;case"compositionend":b="onCompositionEnd";break e;case"compositionupdate":b="onCompositionUpdate";break e}b=void 0}else nv?U4(n,e)&&(b="onCompositionEnd"):n==="keydown"&&e.keyCode===229&&(b="onCompositionStart");b&&(W4&&e.locale!=="ko"&&(nv||b!=="onCompositionStart"?b==="onCompositionEnd"&&nv&&(x=$4()):(ad=c,E1="value"in ad?ad.value:ad.textContent,nv=!0)),_=NE(u,b),0<_.length&&(b=new D2(b,n,null,e,c),d.push({event:b,listeners:_}),x?b.data=x:(x=z4(e),x!==null&&(b.data=x)))),(x=$ne?Wne(n,e):Une(n,e))&&(u=NE(u,"onBeforeInput"),0<u.length&&(c=new D2("onBeforeInput","beforeinput",null,e,c),d.push({event:c,listeners:u}),c.data=x))}iK(d,t)})}function tS(n,t,e){return{instance:n,listener:t,currentTarget:e}}function NE(n,t){for(var e=t+"Capture",r=[];n!==null;){var i=n,o=i.stateNode;i.tag===5&&o!==null&&(i=o,o=YC(n,e),o!=null&&r.unshift(tS(n,o,i)),o=YC(n,t),o!=null&&r.push(tS(n,o,i))),n=n.return}return r}function vf(n){if(n===null)return null;do n=n.return;while(n&&n.tag!==5);return n||null}function $2(n,t,e,r,i){for(var o=t._reactName,a=[];e!==null&&e!==r;){var s=e,l=s.alternate,u=s.stateNode;if(l!==null&&l===r)break;s.tag===5&&u!==null&&(s=u,i?(l=YC(e,o),l!=null&&a.unshift(tS(e,l,s))):i||(l=YC(e,o),l!=null&&a.push(tS(e,l,s)))),e=e.return}a.length!==0&&n.push({event:t,listeners:a})}var oie=/\r\n?/g,aie=/\u0000|\uFFFD/g;function W2(n){return(typeof n=="string"?n:""+n).replace(oie,`
`).replace(aie,"")}function R0(n,t,e){if(t=W2(t),W2(n)!==t&&e)throw Error(me(425))}function kE(){}var oF=null,aF=null;function sF(n,t){return n==="textarea"||n==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var lF=typeof setTimeout=="function"?setTimeout:void 0,sie=typeof clearTimeout=="function"?clearTimeout:void 0,U2=typeof Promise=="function"?Promise:void 0,lie=typeof queueMicrotask=="function"?queueMicrotask:typeof U2<"u"?function(n){return U2.resolve(null).then(n).catch(uie)}:lF;function uie(n){setTimeout(function(){throw n})}function $P(n,t){var e=t,r=0;do{var i=e.nextSibling;if(n.removeChild(e),i&&i.nodeType===8)if(e=i.data,e==="/$"){if(r===0){n.removeChild(i),ZC(t);return}r--}else e!=="$"&&e!=="$?"&&e!=="$!"||r++;e=i}while(e);ZC(t)}function Sd(n){for(;n!=null;n=n.nextSibling){var t=n.nodeType;if(t===1||t===3)break;if(t===8){if(t=n.data,t==="$"||t==="$!"||t==="$?")break;if(t==="/$")return null}}return n}function z2(n){n=n.previousSibling;for(var t=0;n;){if(n.nodeType===8){var e=n.data;if(e==="$"||e==="$!"||e==="$?"){if(t===0)return n;t--}else e==="/$"&&t++}n=n.previousSibling}return null}var Mg=Math.random().toString(36).slice(2),Ol="__reactFiber$"+Mg,rS="__reactProps$"+Mg,Hu="__reactContainer$"+Mg,uF="__reactEvents$"+Mg,cie="__reactListeners$"+Mg,die="__reactHandles$"+Mg;function ih(n){var t=n[Ol];if(t)return t;for(var e=n.parentNode;e;){if(t=e[Hu]||e[Ol]){if(e=t.alternate,t.child!==null||e!==null&&e.child!==null)for(n=z2(n);n!==null;){if(e=n[Ol])return e;n=z2(n)}return t}n=e,e=n.parentNode}return null}function pw(n){return n=n[Ol]||n[Hu],!n||n.tag!==5&&n.tag!==6&&n.tag!==13&&n.tag!==3?null:n}function av(n){if(n.tag===5||n.tag===6)return n.stateNode;throw Error(me(33))}function rR(n){return n[rS]||null}var cF=[],sv=-1;function Kd(n){return{current:n}}function Cr(n){0>sv||(n.current=cF[sv],cF[sv]=null,sv--)}function dr(n,t){sv++,cF[sv]=n.current,n.current=t}var Nd={},hi=Kd(Nd),lo=Kd(!1),Fh=Nd;function tg(n,t){var e=n.type.contextTypes;if(!e)return Nd;var r=n.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===t)return r.__reactInternalMemoizedMaskedChildContext;var i={},o;for(o in e)i[o]=t[o];return r&&(n=n.stateNode,n.__reactInternalMemoizedUnmaskedChildContext=t,n.__reactInternalMemoizedMaskedChildContext=i),i}function uo(n){return n=n.childContextTypes,n!=null}function GE(){Cr(lo),Cr(hi)}function K2(n,t,e){if(hi.current!==Nd)throw Error(me(168));dr(hi,t),dr(lo,e)}function aK(n,t,e){var r=n.stateNode;if(t=t.childContextTypes,typeof r.getChildContext!="function")return e;r=r.getChildContext();for(var i in r)if(!(i in t))throw Error(me(108,Xre(n)||"Unknown",i));return Tr({},e,r)}function VE(n){return n=(n=n.stateNode)&&n.__reactInternalMemoizedMergedChildContext||Nd,Fh=hi.current,dr(hi,n),dr(lo,lo.current),!0}function Y2(n,t,e){var r=n.stateNode;if(!r)throw Error(me(169));e?(n=aK(n,t,Fh),r.__reactInternalMemoizedMergedChildContext=n,Cr(lo),Cr(hi),dr(hi,n)):Cr(lo),dr(lo,e)}var Eu=null,nR=!1,WP=!1;function sK(n){Eu===null?Eu=[n]:Eu.push(n)}function pie(n){nR=!0,sK(n)}function Yd(){if(!WP&&Eu!==null){WP=!0;var n=0,t=Zt;try{var e=Eu;for(Zt=1;n<e.length;n++){var r=e[n];do r=r(!0);while(r!==null)}Eu=null,nR=!1}catch(i){throw Eu!==null&&(Eu=Eu.slice(n+1)),M4(S1,Yd),i}finally{Zt=t,WP=!1}}return null}var lv=[],uv=0,BE=null,HE=0,Ra=[],Ta=0,Lh=null,Ou=1,Ru="";function Ip(n,t){lv[uv++]=HE,lv[uv++]=BE,BE=n,HE=t}function lK(n,t,e){Ra[Ta++]=Ou,Ra[Ta++]=Ru,Ra[Ta++]=Lh,Lh=n;var r=Ou;n=Ru;var i=32-Rs(r)-1;r&=~(1<<i),e+=1;var o=32-Rs(t)+i;if(30<o){var a=i-i%5;o=(r&(1<<a)-1).toString(32),r>>=a,i-=a,Ou=1<<32-Rs(t)+i|e<<i|r,Ru=o+n}else Ou=1<<o|e<<i|r,Ru=n}function P1(n){n.return!==null&&(Ip(n,1),lK(n,1,0))}function A1(n){for(;n===BE;)BE=lv[--uv],lv[uv]=null,HE=lv[--uv],lv[uv]=null;for(;n===Lh;)Lh=Ra[--Ta],Ra[Ta]=null,Ru=Ra[--Ta],Ra[Ta]=null,Ou=Ra[--Ta],Ra[Ta]=null}var ea=null,qo=null,_r=!1,ys=null;function uK(n,t){var e=La(5,null,null,0);e.elementType="DELETED",e.stateNode=t,e.return=n,t=n.deletions,t===null?(n.deletions=[e],n.flags|=16):t.push(e)}function X2(n,t){switch(n.tag){case 5:var e=n.type;return t=t.nodeType!==1||e.toLowerCase()!==t.nodeName.toLowerCase()?null:t,t!==null?(n.stateNode=t,ea=n,qo=Sd(t.firstChild),!0):!1;case 6:return t=n.pendingProps===""||t.nodeType!==3?null:t,t!==null?(n.stateNode=t,ea=n,qo=null,!0):!1;case 13:return t=t.nodeType!==8?null:t,t!==null?(e=Lh!==null?{id:Ou,overflow:Ru}:null,n.memoizedState={dehydrated:t,treeContext:e,retryLane:1073741824},e=La(18,null,null,0),e.stateNode=t,e.return=n,n.child=e,ea=n,qo=null,!0):!1;default:return!1}}function dF(n){return(n.mode&1)!==0&&(n.flags&128)===0}function pF(n){if(_r){var t=qo;if(t){var e=t;if(!X2(n,t)){if(dF(n))throw Error(me(418));t=Sd(e.nextSibling);var r=ea;t&&X2(n,t)?uK(r,e):(n.flags=n.flags&-4097|2,_r=!1,ea=n)}}else{if(dF(n))throw Error(me(418));n.flags=n.flags&-4097|2,_r=!1,ea=n}}}function q2(n){for(n=n.return;n!==null&&n.tag!==5&&n.tag!==3&&n.tag!==13;)n=n.return;ea=n}function T0(n){if(n!==ea)return!1;if(!_r)return q2(n),_r=!0,!1;var t;if((t=n.tag!==3)&&!(t=n.tag!==5)&&(t=n.type,t=t!=="head"&&t!=="body"&&!sF(n.type,n.memoizedProps)),t&&(t=qo)){if(dF(n))throw cK(),Error(me(418));for(;t;)uK(n,t),t=Sd(t.nextSibling)}if(q2(n),n.tag===13){if(n=n.memoizedState,n=n!==null?n.dehydrated:null,!n)throw Error(me(317));e:{for(n=n.nextSibling,t=0;n;){if(n.nodeType===8){var e=n.data;if(e==="/$"){if(t===0){qo=Sd(n.nextSibling);break e}t--}else e!=="$"&&e!=="$!"&&e!=="$?"||t++}n=n.nextSibling}qo=null}}else qo=ea?Sd(n.stateNode.nextSibling):null;return!0}function cK(){for(var n=qo;n;)n=Sd(n.nextSibling)}function rg(){qo=ea=null,_r=!1}function D1(n){ys===null?ys=[n]:ys.push(n)}var hie=sc.ReactCurrentBatchConfig;function fs(n,t){if(n&&n.defaultProps){t=Tr({},t),n=n.defaultProps;for(var e in n)t[e]===void 0&&(t[e]=n[e]);return t}return t}var jE=Kd(null),$E=null,cv=null,M1=null;function F1(){M1=cv=$E=null}function L1(n){var t=jE.current;Cr(jE),n._currentValue=t}function hF(n,t,e){for(;n!==null;){var r=n.alternate;if((n.childLanes&t)!==t?(n.childLanes|=t,r!==null&&(r.childLanes|=t)):r!==null&&(r.childLanes&t)!==t&&(r.childLanes|=t),n===e)break;n=n.return}}function Fv(n,t){$E=n,M1=cv=null,n=n.dependencies,n!==null&&n.firstContext!==null&&(n.lanes&t&&(no=!0),n.firstContext=null)}function Wa(n){var t=n._currentValue;if(M1!==n)if(n={context:n,memoizedValue:t,next:null},cv===null){if($E===null)throw Error(me(308));cv=n,$E.dependencies={lanes:0,firstContext:n}}else cv=cv.next=n;return t}var oh=null;function I1(n){oh===null?oh=[n]:oh.push(n)}function dK(n,t,e,r){var i=t.interleaved;return i===null?(e.next=e,I1(t)):(e.next=i.next,i.next=e),t.interleaved=e,ju(n,r)}function ju(n,t){n.lanes|=t;var e=n.alternate;for(e!==null&&(e.lanes|=t),e=n,n=n.return;n!==null;)n.childLanes|=t,e=n.alternate,e!==null&&(e.childLanes|=t),e=n,n=n.return;return e.tag===3?e.stateNode:null}var Xc=!1;function N1(n){n.updateQueue={baseState:n.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function pK(n,t){n=n.updateQueue,t.updateQueue===n&&(t.updateQueue={baseState:n.baseState,firstBaseUpdate:n.firstBaseUpdate,lastBaseUpdate:n.lastBaseUpdate,shared:n.shared,effects:n.effects})}function Fu(n,t){return{eventTime:n,lane:t,tag:0,payload:null,callback:null,next:null}}function wd(n,t,e){var r=n.updateQueue;if(r===null)return null;if(r=r.shared,Nt&2){var i=r.pending;return i===null?t.next=t:(t.next=i.next,i.next=t),r.pending=t,ju(n,e)}return i=r.interleaved,i===null?(t.next=t,I1(r)):(t.next=i.next,i.next=t),r.interleaved=t,ju(n,e)}function Ix(n,t,e){if(t=t.updateQueue,t!==null&&(t=t.shared,(e&4194240)!==0)){var r=t.lanes;r&=n.pendingLanes,e|=r,t.lanes=e,w1(n,e)}}function Z2(n,t){var e=n.updateQueue,r=n.alternate;if(r!==null&&(r=r.updateQueue,e===r)){var i=null,o=null;if(e=e.firstBaseUpdate,e!==null){do{var a={eventTime:e.eventTime,lane:e.lane,tag:e.tag,payload:e.payload,callback:e.callback,next:null};o===null?i=o=a:o=o.next=a,e=e.next}while(e!==null);o===null?i=o=t:o=o.next=t}else i=o=t;e={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:o,shared:r.shared,effects:r.effects},n.updateQueue=e;return}n=e.lastBaseUpdate,n===null?e.firstBaseUpdate=t:n.next=t,e.lastBaseUpdate=t}function WE(n,t,e,r){var i=n.updateQueue;Xc=!1;var o=i.firstBaseUpdate,a=i.lastBaseUpdate,s=i.shared.pending;if(s!==null){i.shared.pending=null;var l=s,u=l.next;l.next=null,a===null?o=u:a.next=u,a=l;var c=n.alternate;c!==null&&(c=c.updateQueue,s=c.lastBaseUpdate,s!==a&&(s===null?c.firstBaseUpdate=u:s.next=u,c.lastBaseUpdate=l))}if(o!==null){var d=i.baseState;a=0,c=u=l=null,s=o;do{var p=s.lane,h=s.eventTime;if((r&p)===p){c!==null&&(c=c.next={eventTime:h,lane:0,tag:s.tag,payload:s.payload,callback:s.callback,next:null});e:{var f=n,v=s;switch(p=t,h=e,v.tag){case 1:if(f=v.payload,typeof f=="function"){d=f.call(h,d,p);break e}d=f;break e;case 3:f.flags=f.flags&-65537|128;case 0:if(f=v.payload,p=typeof f=="function"?f.call(h,d,p):f,p==null)break e;d=Tr({},d,p);break e;case 2:Xc=!0}}s.callback!==null&&s.lane!==0&&(n.flags|=64,p=i.effects,p===null?i.effects=[s]:p.push(s))}else h={eventTime:h,lane:p,tag:s.tag,payload:s.payload,callback:s.callback,next:null},c===null?(u=c=h,l=d):c=c.next=h,a|=p;if(s=s.next,s===null){if(s=i.shared.pending,s===null)break;p=s,s=p.next,p.next=null,i.lastBaseUpdate=p,i.shared.pending=null}}while(!0);if(c===null&&(l=d),i.baseState=l,i.firstBaseUpdate=u,i.lastBaseUpdate=c,t=i.shared.interleaved,t!==null){i=t;do a|=i.lane,i=i.next;while(i!==t)}else o===null&&(i.shared.lanes=0);Nh|=a,n.lanes=a,n.memoizedState=d}}function Q2(n,t,e){if(n=t.effects,t.effects=null,n!==null)for(t=0;t<n.length;t++){var r=n[t],i=r.callback;if(i!==null){if(r.callback=null,r=e,typeof i!="function")throw Error(me(191,i));i.call(r)}}}var hK=new d4.Component().refs;function fF(n,t,e,r){t=n.memoizedState,e=e(r,t),e=e==null?t:Tr({},t,e),n.memoizedState=e,n.lanes===0&&(n.updateQueue.baseState=e)}var iR={isMounted:function(n){return(n=n._reactInternals)?Zh(n)===n:!1},enqueueSetState:function(n,t,e){n=n._reactInternals;var r=Ti(),i=xd(n),o=Fu(r,i);o.payload=t,e!=null&&(o.callback=e),t=wd(n,o,i),t!==null&&(Ts(t,n,i,r),Ix(t,n,i))},enqueueReplaceState:function(n,t,e){n=n._reactInternals;var r=Ti(),i=xd(n),o=Fu(r,i);o.tag=1,o.payload=t,e!=null&&(o.callback=e),t=wd(n,o,i),t!==null&&(Ts(t,n,i,r),Ix(t,n,i))},enqueueForceUpdate:function(n,t){n=n._reactInternals;var e=Ti(),r=xd(n),i=Fu(e,r);i.tag=2,t!=null&&(i.callback=t),t=wd(n,i,r),t!==null&&(Ts(t,n,r,e),Ix(t,n,r))}};function J2(n,t,e,r,i,o,a){return n=n.stateNode,typeof n.shouldComponentUpdate=="function"?n.shouldComponentUpdate(r,o,a):t.prototype&&t.prototype.isPureReactComponent?!JC(e,r)||!JC(i,o):!0}function fK(n,t,e){var r=!1,i=Nd,o=t.contextType;return typeof o=="object"&&o!==null?o=Wa(o):(i=uo(t)?Fh:hi.current,r=t.contextTypes,o=(r=r!=null)?tg(n,i):Nd),t=new t(e,o),n.memoizedState=t.state!==null&&t.state!==void 0?t.state:null,t.updater=iR,n.stateNode=t,t._reactInternals=n,r&&(n=n.stateNode,n.__reactInternalMemoizedUnmaskedChildContext=i,n.__reactInternalMemoizedMaskedChildContext=o),t}function eH(n,t,e,r){n=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(e,r),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(e,r),t.state!==n&&iR.enqueueReplaceState(t,t.state,null)}function vF(n,t,e,r){var i=n.stateNode;i.props=e,i.state=n.memoizedState,i.refs=hK,N1(n);var o=t.contextType;typeof o=="object"&&o!==null?i.context=Wa(o):(o=uo(t)?Fh:hi.current,i.context=tg(n,o)),i.state=n.memoizedState,o=t.getDerivedStateFromProps,typeof o=="function"&&(fF(n,t,o,e),i.state=n.memoizedState),typeof t.getDerivedStateFromProps=="function"||typeof i.getSnapshotBeforeUpdate=="function"||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(t=i.state,typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount(),t!==i.state&&iR.enqueueReplaceState(i,i.state,null),WE(n,e,i,r),i.state=n.memoizedState),typeof i.componentDidMount=="function"&&(n.flags|=4194308)}function vy(n,t,e){if(n=e.ref,n!==null&&typeof n!="function"&&typeof n!="object"){if(e._owner){if(e=e._owner,e){if(e.tag!==1)throw Error(me(309));var r=e.stateNode}if(!r)throw Error(me(147,n));var i=r,o=""+n;return t!==null&&t.ref!==null&&typeof t.ref=="function"&&t.ref._stringRef===o?t.ref:(t=function(a){var s=i.refs;s===hK&&(s=i.refs={}),a===null?delete s[o]:s[o]=a},t._stringRef=o,t)}if(typeof n!="string")throw Error(me(284));if(!e._owner)throw Error(me(290,n))}return n}function P0(n,t){throw n=Object.prototype.toString.call(t),Error(me(31,n==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":n))}function tH(n){var t=n._init;return t(n._payload)}function vK(n){function t(y,m){if(n){var C=y.deletions;C===null?(y.deletions=[m],y.flags|=16):C.push(m)}}function e(y,m){if(!n)return null;for(;m!==null;)t(y,m),m=m.sibling;return null}function r(y,m){for(y=new Map;m!==null;)m.key!==null?y.set(m.key,m):y.set(m.index,m),m=m.sibling;return y}function i(y,m){return y=Ed(y,m),y.index=0,y.sibling=null,y}function o(y,m,C){return y.index=C,n?(C=y.alternate,C!==null?(C=C.index,C<m?(y.flags|=2,m):C):(y.flags|=2,m)):(y.flags|=1048576,m)}function a(y){return n&&y.alternate===null&&(y.flags|=2),y}function s(y,m,C,S){return m===null||m.tag!==6?(m=ZP(C,y.mode,S),m.return=y,m):(m=i(m,C),m.return=y,m)}function l(y,m,C,S){var w=C.type;return w===rv?c(y,m,C.props.children,S,C.key):m!==null&&(m.elementType===w||typeof w=="object"&&w!==null&&w.$$typeof===Yc&&tH(w)===m.type)?(S=i(m,C.props),S.ref=vy(y,m,C),S.return=y,S):(S=Hx(C.type,C.key,C.props,null,y.mode,S),S.ref=vy(y,m,C),S.return=y,S)}function u(y,m,C,S){return m===null||m.tag!==4||m.stateNode.containerInfo!==C.containerInfo||m.stateNode.implementation!==C.implementation?(m=QP(C,y.mode,S),m.return=y,m):(m=i(m,C.children||[]),m.return=y,m)}function c(y,m,C,S,w){return m===null||m.tag!==7?(m=Sh(C,y.mode,S,w),m.return=y,m):(m=i(m,C),m.return=y,m)}function d(y,m,C){if(typeof m=="string"&&m!==""||typeof m=="number")return m=ZP(""+m,y.mode,C),m.return=y,m;if(typeof m=="object"&&m!==null){switch(m.$$typeof){case m0:return C=Hx(m.type,m.key,m.props,null,y.mode,C),C.ref=vy(y,null,m),C.return=y,C;case tv:return m=QP(m,y.mode,C),m.return=y,m;case Yc:var S=m._init;return d(y,S(m._payload),C)}if(Am(m)||cy(m))return m=Sh(m,y.mode,C,null),m.return=y,m;P0(y,m)}return null}function p(y,m,C,S){var w=m!==null?m.key:null;if(typeof C=="string"&&C!==""||typeof C=="number")return w!==null?null:s(y,m,""+C,S);if(typeof C=="object"&&C!==null){switch(C.$$typeof){case m0:return C.key===w?l(y,m,C,S):null;case tv:return C.key===w?u(y,m,C,S):null;case Yc:return w=C._init,p(y,m,w(C._payload),S)}if(Am(C)||cy(C))return w!==null?null:c(y,m,C,S,null);P0(y,C)}return null}function h(y,m,C,S,w){if(typeof S=="string"&&S!==""||typeof S=="number")return y=y.get(C)||null,s(m,y,""+S,w);if(typeof S=="object"&&S!==null){switch(S.$$typeof){case m0:return y=y.get(S.key===null?C:S.key)||null,l(m,y,S,w);case tv:return y=y.get(S.key===null?C:S.key)||null,u(m,y,S,w);case Yc:var _=S._init;return h(y,m,C,_(S._payload),w)}if(Am(S)||cy(S))return y=y.get(C)||null,c(m,y,S,w,null);P0(m,S)}return null}function f(y,m,C,S){for(var w=null,_=null,x=m,b=m=0,O=null;x!==null&&b<C.length;b++){x.index>b?(O=x,x=null):O=x.sibling;var T=p(y,x,C[b],S);if(T===null){x===null&&(x=O);break}n&&x&&T.alternate===null&&t(y,x),m=o(T,m,b),_===null?w=T:_.sibling=T,_=T,x=O}if(b===C.length)return e(y,x),_r&&Ip(y,b),w;if(x===null){for(;b<C.length;b++)x=d(y,C[b],S),x!==null&&(m=o(x,m,b),_===null?w=x:_.sibling=x,_=x);return _r&&Ip(y,b),w}for(x=r(y,x);b<C.length;b++)O=h(x,y,b,C[b],S),O!==null&&(n&&O.alternate!==null&&x.delete(O.key===null?b:O.key),m=o(O,m,b),_===null?w=O:_.sibling=O,_=O);return n&&x.forEach(function(A){return t(y,A)}),_r&&Ip(y,b),w}function v(y,m,C,S){var w=cy(C);if(typeof w!="function")throw Error(me(150));if(C=w.call(C),C==null)throw Error(me(151));for(var _=w=null,x=m,b=m=0,O=null,T=C.next();x!==null&&!T.done;b++,T=C.next()){x.index>b?(O=x,x=null):O=x.sibling;var A=p(y,x,T.value,S);if(A===null){x===null&&(x=O);break}n&&x&&A.alternate===null&&t(y,x),m=o(A,m,b),_===null?w=A:_.sibling=A,_=A,x=O}if(T.done)return e(y,x),_r&&Ip(y,b),w;if(x===null){for(;!T.done;b++,T=C.next())T=d(y,T.value,S),T!==null&&(m=o(T,m,b),_===null?w=T:_.sibling=T,_=T);return _r&&Ip(y,b),w}for(x=r(y,x);!T.done;b++,T=C.next())T=h(x,y,b,T.value,S),T!==null&&(n&&T.alternate!==null&&x.delete(T.key===null?b:T.key),m=o(T,m,b),_===null?w=T:_.sibling=T,_=T);return n&&x.forEach(function(N){return t(y,N)}),_r&&Ip(y,b),w}function g(y,m,C,S){if(typeof C=="object"&&C!==null&&C.type===rv&&C.key===null&&(C=C.props.children),typeof C=="object"&&C!==null){switch(C.$$typeof){case m0:e:{for(var w=C.key,_=m;_!==null;){if(_.key===w){if(w=C.type,w===rv){if(_.tag===7){e(y,_.sibling),m=i(_,C.props.children),m.return=y,y=m;break e}}else if(_.elementType===w||typeof w=="object"&&w!==null&&w.$$typeof===Yc&&tH(w)===_.type){e(y,_.sibling),m=i(_,C.props),m.ref=vy(y,_,C),m.return=y,y=m;break e}e(y,_);break}else t(y,_);_=_.sibling}C.type===rv?(m=Sh(C.props.children,y.mode,S,C.key),m.return=y,y=m):(S=Hx(C.type,C.key,C.props,null,y.mode,S),S.ref=vy(y,m,C),S.return=y,y=S)}return a(y);case tv:e:{for(_=C.key;m!==null;){if(m.key===_)if(m.tag===4&&m.stateNode.containerInfo===C.containerInfo&&m.stateNode.implementation===C.implementation){e(y,m.sibling),m=i(m,C.children||[]),m.return=y,y=m;break e}else{e(y,m);break}else t(y,m);m=m.sibling}m=QP(C,y.mode,S),m.return=y,y=m}return a(y);case Yc:return _=C._init,g(y,m,_(C._payload),S)}if(Am(C))return f(y,m,C,S);if(cy(C))return v(y,m,C,S);P0(y,C)}return typeof C=="string"&&C!==""||typeof C=="number"?(C=""+C,m!==null&&m.tag===6?(e(y,m.sibling),m=i(m,C),m.return=y,y=m):(e(y,m),m=ZP(C,y.mode,S),m.return=y,y=m),a(y)):e(y,m)}return g}var ng=vK(!0),gK=vK(!1),hw={},Gl=Kd(hw),nS=Kd(hw),iS=Kd(hw);function ah(n){if(n===hw)throw Error(me(174));return n}function k1(n,t){switch(dr(iS,t),dr(nS,n),dr(Gl,hw),n=t.nodeType,n){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:KM(null,"");break;default:n=n===8?t.parentNode:t,t=n.namespaceURI||null,n=n.tagName,t=KM(t,n)}Cr(Gl),dr(Gl,t)}function ig(){Cr(Gl),Cr(nS),Cr(iS)}function yK(n){ah(iS.current);var t=ah(Gl.current),e=KM(t,n.type);t!==e&&(dr(nS,n),dr(Gl,e))}function G1(n){nS.current===n&&(Cr(Gl),Cr(nS))}var Or=Kd(0);function UE(n){for(var t=n;t!==null;){if(t.tag===13){var e=t.memoizedState;if(e!==null&&(e=e.dehydrated,e===null||e.data==="$?"||e.data==="$!"))return t}else if(t.tag===19&&t.memoizedProps.revealOrder!==void 0){if(t.flags&128)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===n)break;for(;t.sibling===null;){if(t.return===null||t.return===n)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var UP=[];function V1(){for(var n=0;n<UP.length;n++)UP[n]._workInProgressVersionPrimary=null;UP.length=0}var Nx=sc.ReactCurrentDispatcher,zP=sc.ReactCurrentBatchConfig,Ih=0,Rr=null,fn=null,Rn=null,zE=!1,fC=!1,oS=0,fie=0;function ei(){throw Error(me(321))}function B1(n,t){if(t===null)return!1;for(var e=0;e<t.length&&e<n.length;e++)if(!Ms(n[e],t[e]))return!1;return!0}function H1(n,t,e,r,i,o){if(Ih=o,Rr=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,Nx.current=n===null||n.memoizedState===null?mie:Cie,n=e(r,i),fC){o=0;do{if(fC=!1,oS=0,25<=o)throw Error(me(301));o+=1,Rn=fn=null,t.updateQueue=null,Nx.current=Sie,n=e(r,i)}while(fC)}if(Nx.current=KE,t=fn!==null&&fn.next!==null,Ih=0,Rn=fn=Rr=null,zE=!1,t)throw Error(me(300));return n}function j1(){var n=oS!==0;return oS=0,n}function vl(){var n={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Rn===null?Rr.memoizedState=Rn=n:Rn=Rn.next=n,Rn}function Ua(){if(fn===null){var n=Rr.alternate;n=n!==null?n.memoizedState:null}else n=fn.next;var t=Rn===null?Rr.memoizedState:Rn.next;if(t!==null)Rn=t,fn=n;else{if(n===null)throw Error(me(310));fn=n,n={memoizedState:fn.memoizedState,baseState:fn.baseState,baseQueue:fn.baseQueue,queue:fn.queue,next:null},Rn===null?Rr.memoizedState=Rn=n:Rn=Rn.next=n}return Rn}function aS(n,t){return typeof t=="function"?t(n):t}function KP(n){var t=Ua(),e=t.queue;if(e===null)throw Error(me(311));e.lastRenderedReducer=n;var r=fn,i=r.baseQueue,o=e.pending;if(o!==null){if(i!==null){var a=i.next;i.next=o.next,o.next=a}r.baseQueue=i=o,e.pending=null}if(i!==null){o=i.next,r=r.baseState;var s=a=null,l=null,u=o;do{var c=u.lane;if((Ih&c)===c)l!==null&&(l=l.next={lane:0,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),r=u.hasEagerState?u.eagerState:n(r,u.action);else{var d={lane:c,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null};l===null?(s=l=d,a=r):l=l.next=d,Rr.lanes|=c,Nh|=c}u=u.next}while(u!==null&&u!==o);l===null?a=r:l.next=s,Ms(r,t.memoizedState)||(no=!0),t.memoizedState=r,t.baseState=a,t.baseQueue=l,e.lastRenderedState=r}if(n=e.interleaved,n!==null){i=n;do o=i.lane,Rr.lanes|=o,Nh|=o,i=i.next;while(i!==n)}else i===null&&(e.lanes=0);return[t.memoizedState,e.dispatch]}function YP(n){var t=Ua(),e=t.queue;if(e===null)throw Error(me(311));e.lastRenderedReducer=n;var r=e.dispatch,i=e.pending,o=t.memoizedState;if(i!==null){e.pending=null;var a=i=i.next;do o=n(o,a.action),a=a.next;while(a!==i);Ms(o,t.memoizedState)||(no=!0),t.memoizedState=o,t.baseQueue===null&&(t.baseState=o),e.lastRenderedState=o}return[o,r]}function mK(){}function CK(n,t){var e=Rr,r=Ua(),i=t(),o=!Ms(r.memoizedState,i);if(o&&(r.memoizedState=i,no=!0),r=r.queue,$1(_K.bind(null,e,r,n),[n]),r.getSnapshot!==t||o||Rn!==null&&Rn.memoizedState.tag&1){if(e.flags|=2048,sS(9,wK.bind(null,e,r,i,t),void 0,null),Dn===null)throw Error(me(349));Ih&30||SK(e,t,i)}return i}function SK(n,t,e){n.flags|=16384,n={getSnapshot:t,value:e},t=Rr.updateQueue,t===null?(t={lastEffect:null,stores:null},Rr.updateQueue=t,t.stores=[n]):(e=t.stores,e===null?t.stores=[n]:e.push(n))}function wK(n,t,e,r){t.value=e,t.getSnapshot=r,xK(t)&&EK(n)}function _K(n,t,e){return e(function(){xK(t)&&EK(n)})}function xK(n){var t=n.getSnapshot;n=n.value;try{var e=t();return!Ms(n,e)}catch{return!0}}function EK(n){var t=ju(n,1);t!==null&&Ts(t,n,1,-1)}function rH(n){var t=vl();return typeof n=="function"&&(n=n()),t.memoizedState=t.baseState=n,n={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:aS,lastRenderedState:n},t.queue=n,n=n.dispatch=yie.bind(null,Rr,n),[t.memoizedState,n]}function sS(n,t,e,r){return n={tag:n,create:t,destroy:e,deps:r,next:null},t=Rr.updateQueue,t===null?(t={lastEffect:null,stores:null},Rr.updateQueue=t,t.lastEffect=n.next=n):(e=t.lastEffect,e===null?t.lastEffect=n.next=n:(r=e.next,e.next=n,n.next=r,t.lastEffect=n)),n}function bK(){return Ua().memoizedState}function kx(n,t,e,r){var i=vl();Rr.flags|=n,i.memoizedState=sS(1|t,e,void 0,r===void 0?null:r)}function oR(n,t,e,r){var i=Ua();r=r===void 0?null:r;var o=void 0;if(fn!==null){var a=fn.memoizedState;if(o=a.destroy,r!==null&&B1(r,a.deps)){i.memoizedState=sS(t,e,o,r);return}}Rr.flags|=n,i.memoizedState=sS(1|t,e,o,r)}function nH(n,t){return kx(8390656,8,n,t)}function $1(n,t){return oR(2048,8,n,t)}function OK(n,t){return oR(4,2,n,t)}function RK(n,t){return oR(4,4,n,t)}function TK(n,t){if(typeof t=="function")return n=n(),t(n),function(){t(null)};if(t!=null)return n=n(),t.current=n,function(){t.current=null}}function PK(n,t,e){return e=e!=null?e.concat([n]):null,oR(4,4,TK.bind(null,t,n),e)}function W1(){}function AK(n,t){var e=Ua();t=t===void 0?null:t;var r=e.memoizedState;return r!==null&&t!==null&&B1(t,r[1])?r[0]:(e.memoizedState=[n,t],n)}function DK(n,t){var e=Ua();t=t===void 0?null:t;var r=e.memoizedState;return r!==null&&t!==null&&B1(t,r[1])?r[0]:(n=n(),e.memoizedState=[n,t],n)}function MK(n,t,e){return Ih&21?(Ms(e,t)||(e=I4(),Rr.lanes|=e,Nh|=e,n.baseState=!0),t):(n.baseState&&(n.baseState=!1,no=!0),n.memoizedState=e)}function vie(n,t){var e=Zt;Zt=e!==0&&4>e?e:4,n(!0);var r=zP.transition;zP.transition={};try{n(!1),t()}finally{Zt=e,zP.transition=r}}function FK(){return Ua().memoizedState}function gie(n,t,e){var r=xd(n);if(e={lane:r,action:e,hasEagerState:!1,eagerState:null,next:null},LK(n))IK(t,e);else if(e=dK(n,t,e,r),e!==null){var i=Ti();Ts(e,n,r,i),NK(e,t,r)}}function yie(n,t,e){var r=xd(n),i={lane:r,action:e,hasEagerState:!1,eagerState:null,next:null};if(LK(n))IK(t,i);else{var o=n.alternate;if(n.lanes===0&&(o===null||o.lanes===0)&&(o=t.lastRenderedReducer,o!==null))try{var a=t.lastRenderedState,s=o(a,e);if(i.hasEagerState=!0,i.eagerState=s,Ms(s,a)){var l=t.interleaved;l===null?(i.next=i,I1(t)):(i.next=l.next,l.next=i),t.interleaved=i;return}}catch{}finally{}e=dK(n,t,i,r),e!==null&&(i=Ti(),Ts(e,n,r,i),NK(e,t,r))}}function LK(n){var t=n.alternate;return n===Rr||t!==null&&t===Rr}function IK(n,t){fC=zE=!0;var e=n.pending;e===null?t.next=t:(t.next=e.next,e.next=t),n.pending=t}function NK(n,t,e){if(e&4194240){var r=t.lanes;r&=n.pendingLanes,e|=r,t.lanes=e,w1(n,e)}}var KE={readContext:Wa,useCallback:ei,useContext:ei,useEffect:ei,useImperativeHandle:ei,useInsertionEffect:ei,useLayoutEffect:ei,useMemo:ei,useReducer:ei,useRef:ei,useState:ei,useDebugValue:ei,useDeferredValue:ei,useTransition:ei,useMutableSource:ei,useSyncExternalStore:ei,useId:ei,unstable_isNewReconciler:!1},mie={readContext:Wa,useCallback:function(n,t){return vl().memoizedState=[n,t===void 0?null:t],n},useContext:Wa,useEffect:nH,useImperativeHandle:function(n,t,e){return e=e!=null?e.concat([n]):null,kx(4194308,4,TK.bind(null,t,n),e)},useLayoutEffect:function(n,t){return kx(4194308,4,n,t)},useInsertionEffect:function(n,t){return kx(4,2,n,t)},useMemo:function(n,t){var e=vl();return t=t===void 0?null:t,n=n(),e.memoizedState=[n,t],n},useReducer:function(n,t,e){var r=vl();return t=e!==void 0?e(t):t,r.memoizedState=r.baseState=t,n={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:n,lastRenderedState:t},r.queue=n,n=n.dispatch=gie.bind(null,Rr,n),[r.memoizedState,n]},useRef:function(n){var t=vl();return n={current:n},t.memoizedState=n},useState:rH,useDebugValue:W1,useDeferredValue:function(n){return vl().memoizedState=n},useTransition:function(){var n=rH(!1),t=n[0];return n=vie.bind(null,n[1]),vl().memoizedState=n,[t,n]},useMutableSource:function(){},useSyncExternalStore:function(n,t,e){var r=Rr,i=vl();if(_r){if(e===void 0)throw Error(me(407));e=e()}else{if(e=t(),Dn===null)throw Error(me(349));Ih&30||SK(r,t,e)}i.memoizedState=e;var o={value:e,getSnapshot:t};return i.queue=o,nH(_K.bind(null,r,o,n),[n]),r.flags|=2048,sS(9,wK.bind(null,r,o,e,t),void 0,null),e},useId:function(){var n=vl(),t=Dn.identifierPrefix;if(_r){var e=Ru,r=Ou;e=(r&~(1<<32-Rs(r)-1)).toString(32)+e,t=":"+t+"R"+e,e=oS++,0<e&&(t+="H"+e.toString(32)),t+=":"}else e=fie++,t=":"+t+"r"+e.toString(32)+":";return n.memoizedState=t},unstable_isNewReconciler:!1},Cie={readContext:Wa,useCallback:AK,useContext:Wa,useEffect:$1,useImperativeHandle:PK,useInsertionEffect:OK,useLayoutEffect:RK,useMemo:DK,useReducer:KP,useRef:bK,useState:function(){return KP(aS)},useDebugValue:W1,useDeferredValue:function(n){var t=Ua();return MK(t,fn.memoizedState,n)},useTransition:function(){var n=KP(aS)[0],t=Ua().memoizedState;return[n,t]},useMutableSource:mK,useSyncExternalStore:CK,useId:FK,unstable_isNewReconciler:!1},Sie={readContext:Wa,useCallback:AK,useContext:Wa,useEffect:$1,useImperativeHandle:PK,useInsertionEffect:OK,useLayoutEffect:RK,useMemo:DK,useReducer:YP,useRef:bK,useState:function(){return YP(aS)},useDebugValue:W1,useDeferredValue:function(n){var t=Ua();return fn===null?t.memoizedState=n:MK(t,fn.memoizedState,n)},useTransition:function(){var n=YP(aS)[0],t=Ua().memoizedState;return[n,t]},useMutableSource:mK,useSyncExternalStore:CK,useId:FK,unstable_isNewReconciler:!1};function og(n,t){try{var e="",r=t;do e+=Yre(r),r=r.return;while(r);var i=e}catch(o){i=`
Error generating stack: `+o.message+`
`+o.stack}return{value:n,source:t,stack:i,digest:null}}function XP(n,t,e){return{value:n,source:null,stack:e??null,digest:t??null}}function gF(n,t){try{console.error(t.value)}catch(e){setTimeout(function(){throw e})}}var wie=typeof WeakMap=="function"?WeakMap:Map;function kK(n,t,e){e=Fu(-1,e),e.tag=3,e.payload={element:null};var r=t.value;return e.callback=function(){XE||(XE=!0,OF=r),gF(n,t)},e}function GK(n,t,e){e=Fu(-1,e),e.tag=3;var r=n.type.getDerivedStateFromError;if(typeof r=="function"){var i=t.value;e.payload=function(){return r(i)},e.callback=function(){gF(n,t)}}var o=n.stateNode;return o!==null&&typeof o.componentDidCatch=="function"&&(e.callback=function(){gF(n,t),typeof r!="function"&&(_d===null?_d=new Set([this]):_d.add(this));var a=t.stack;this.componentDidCatch(t.value,{componentStack:a!==null?a:""})}),e}function iH(n,t,e){var r=n.pingCache;if(r===null){r=n.pingCache=new wie;var i=new Set;r.set(t,i)}else i=r.get(t),i===void 0&&(i=new Set,r.set(t,i));i.has(e)||(i.add(e),n=Iie.bind(null,n,t,e),t.then(n,n))}function oH(n){do{var t;if((t=n.tag===13)&&(t=n.memoizedState,t=t!==null?t.dehydrated!==null:!0),t)return n;n=n.return}while(n!==null);return null}function aH(n,t,e,r,i){return n.mode&1?(n.flags|=65536,n.lanes=i,n):(n===t?n.flags|=65536:(n.flags|=128,e.flags|=131072,e.flags&=-52805,e.tag===1&&(e.alternate===null?e.tag=17:(t=Fu(-1,1),t.tag=2,wd(e,t,1))),e.lanes|=1),n)}var _ie=sc.ReactCurrentOwner,no=!1;function Si(n,t,e,r){t.child=n===null?gK(t,null,e,r):ng(t,n.child,e,r)}function sH(n,t,e,r,i){e=e.render;var o=t.ref;return Fv(t,i),r=H1(n,t,e,r,o,i),e=j1(),n!==null&&!no?(t.updateQueue=n.updateQueue,t.flags&=-2053,n.lanes&=~i,$u(n,t,i)):(_r&&e&&P1(t),t.flags|=1,Si(n,t,r,i),t.child)}function lH(n,t,e,r,i){if(n===null){var o=e.type;return typeof o=="function"&&!Q1(o)&&o.defaultProps===void 0&&e.compare===null&&e.defaultProps===void 0?(t.tag=15,t.type=o,VK(n,t,o,r,i)):(n=Hx(e.type,null,r,t,t.mode,i),n.ref=t.ref,n.return=t,t.child=n)}if(o=n.child,!(n.lanes&i)){var a=o.memoizedProps;if(e=e.compare,e=e!==null?e:JC,e(a,r)&&n.ref===t.ref)return $u(n,t,i)}return t.flags|=1,n=Ed(o,r),n.ref=t.ref,n.return=t,t.child=n}function VK(n,t,e,r,i){if(n!==null){var o=n.memoizedProps;if(JC(o,r)&&n.ref===t.ref)if(no=!1,t.pendingProps=r=o,(n.lanes&i)!==0)n.flags&131072&&(no=!0);else return t.lanes=n.lanes,$u(n,t,i)}return yF(n,t,e,r,i)}function BK(n,t,e){var r=t.pendingProps,i=r.children,o=n!==null?n.memoizedState:null;if(r.mode==="hidden")if(!(t.mode&1))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},dr(pv,Vo),Vo|=e;else{if(!(e&1073741824))return n=o!==null?o.baseLanes|e:e,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:n,cachePool:null,transitions:null},t.updateQueue=null,dr(pv,Vo),Vo|=n,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=o!==null?o.baseLanes:e,dr(pv,Vo),Vo|=r}else o!==null?(r=o.baseLanes|e,t.memoizedState=null):r=e,dr(pv,Vo),Vo|=r;return Si(n,t,i,e),t.child}function HK(n,t){var e=t.ref;(n===null&&e!==null||n!==null&&n.ref!==e)&&(t.flags|=512,t.flags|=2097152)}function yF(n,t,e,r,i){var o=uo(e)?Fh:hi.current;return o=tg(t,o),Fv(t,i),e=H1(n,t,e,r,o,i),r=j1(),n!==null&&!no?(t.updateQueue=n.updateQueue,t.flags&=-2053,n.lanes&=~i,$u(n,t,i)):(_r&&r&&P1(t),t.flags|=1,Si(n,t,e,i),t.child)}function uH(n,t,e,r,i){if(uo(e)){var o=!0;VE(t)}else o=!1;if(Fv(t,i),t.stateNode===null)Gx(n,t),fK(t,e,r),vF(t,e,r,i),r=!0;else if(n===null){var a=t.stateNode,s=t.memoizedProps;a.props=s;var l=a.context,u=e.contextType;typeof u=="object"&&u!==null?u=Wa(u):(u=uo(e)?Fh:hi.current,u=tg(t,u));var c=e.getDerivedStateFromProps,d=typeof c=="function"||typeof a.getSnapshotBeforeUpdate=="function";d||typeof a.UNSAFE_componentWillReceiveProps!="function"&&typeof a.componentWillReceiveProps!="function"||(s!==r||l!==u)&&eH(t,a,r,u),Xc=!1;var p=t.memoizedState;a.state=p,WE(t,r,a,i),l=t.memoizedState,s!==r||p!==l||lo.current||Xc?(typeof c=="function"&&(fF(t,e,c,r),l=t.memoizedState),(s=Xc||J2(t,e,s,r,p,l,u))?(d||typeof a.UNSAFE_componentWillMount!="function"&&typeof a.componentWillMount!="function"||(typeof a.componentWillMount=="function"&&a.componentWillMount(),typeof a.UNSAFE_componentWillMount=="function"&&a.UNSAFE_componentWillMount()),typeof a.componentDidMount=="function"&&(t.flags|=4194308)):(typeof a.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=r,t.memoizedState=l),a.props=r,a.state=l,a.context=u,r=s):(typeof a.componentDidMount=="function"&&(t.flags|=4194308),r=!1)}else{a=t.stateNode,pK(n,t),s=t.memoizedProps,u=t.type===t.elementType?s:fs(t.type,s),a.props=u,d=t.pendingProps,p=a.context,l=e.contextType,typeof l=="object"&&l!==null?l=Wa(l):(l=uo(e)?Fh:hi.current,l=tg(t,l));var h=e.getDerivedStateFromProps;(c=typeof h=="function"||typeof a.getSnapshotBeforeUpdate=="function")||typeof a.UNSAFE_componentWillReceiveProps!="function"&&typeof a.componentWillReceiveProps!="function"||(s!==d||p!==l)&&eH(t,a,r,l),Xc=!1,p=t.memoizedState,a.state=p,WE(t,r,a,i);var f=t.memoizedState;s!==d||p!==f||lo.current||Xc?(typeof h=="function"&&(fF(t,e,h,r),f=t.memoizedState),(u=Xc||J2(t,e,u,r,p,f,l)||!1)?(c||typeof a.UNSAFE_componentWillUpdate!="function"&&typeof a.componentWillUpdate!="function"||(typeof a.componentWillUpdate=="function"&&a.componentWillUpdate(r,f,l),typeof a.UNSAFE_componentWillUpdate=="function"&&a.UNSAFE_componentWillUpdate(r,f,l)),typeof a.componentDidUpdate=="function"&&(t.flags|=4),typeof a.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof a.componentDidUpdate!="function"||s===n.memoizedProps&&p===n.memoizedState||(t.flags|=4),typeof a.getSnapshotBeforeUpdate!="function"||s===n.memoizedProps&&p===n.memoizedState||(t.flags|=1024),t.memoizedProps=r,t.memoizedState=f),a.props=r,a.state=f,a.context=l,r=u):(typeof a.componentDidUpdate!="function"||s===n.memoizedProps&&p===n.memoizedState||(t.flags|=4),typeof a.getSnapshotBeforeUpdate!="function"||s===n.memoizedProps&&p===n.memoizedState||(t.flags|=1024),r=!1)}return mF(n,t,e,r,o,i)}function mF(n,t,e,r,i,o){HK(n,t);var a=(t.flags&128)!==0;if(!r&&!a)return i&&Y2(t,e,!1),$u(n,t,o);r=t.stateNode,_ie.current=t;var s=a&&typeof e.getDerivedStateFromError!="function"?null:r.render();return t.flags|=1,n!==null&&a?(t.child=ng(t,n.child,null,o),t.child=ng(t,null,s,o)):Si(n,t,s,o),t.memoizedState=r.state,i&&Y2(t,e,!0),t.child}function jK(n){var t=n.stateNode;t.pendingContext?K2(n,t.pendingContext,t.pendingContext!==t.context):t.context&&K2(n,t.context,!1),k1(n,t.containerInfo)}function cH(n,t,e,r,i){return rg(),D1(i),t.flags|=256,Si(n,t,e,r),t.child}var CF={dehydrated:null,treeContext:null,retryLane:0};function SF(n){return{baseLanes:n,cachePool:null,transitions:null}}function $K(n,t,e){var r=t.pendingProps,i=Or.current,o=!1,a=(t.flags&128)!==0,s;if((s=a)||(s=n!==null&&n.memoizedState===null?!1:(i&2)!==0),s?(o=!0,t.flags&=-129):(n===null||n.memoizedState!==null)&&(i|=1),dr(Or,i&1),n===null)return pF(t),n=t.memoizedState,n!==null&&(n=n.dehydrated,n!==null)?(t.mode&1?n.data==="$!"?t.lanes=8:t.lanes=1073741824:t.lanes=1,null):(a=r.children,n=r.fallback,o?(r=t.mode,o=t.child,a={mode:"hidden",children:a},!(r&1)&&o!==null?(o.childLanes=0,o.pendingProps=a):o=lR(a,r,0,null),n=Sh(n,r,e,null),o.return=t,n.return=t,o.sibling=n,t.child=o,t.child.memoizedState=SF(e),t.memoizedState=CF,n):U1(t,a));if(i=n.memoizedState,i!==null&&(s=i.dehydrated,s!==null))return xie(n,t,a,r,s,i,e);if(o){o=r.fallback,a=t.mode,i=n.child,s=i.sibling;var l={mode:"hidden",children:r.children};return!(a&1)&&t.child!==i?(r=t.child,r.childLanes=0,r.pendingProps=l,t.deletions=null):(r=Ed(i,l),r.subtreeFlags=i.subtreeFlags&14680064),s!==null?o=Ed(s,o):(o=Sh(o,a,e,null),o.flags|=2),o.return=t,r.return=t,r.sibling=o,t.child=r,r=o,o=t.child,a=n.child.memoizedState,a=a===null?SF(e):{baseLanes:a.baseLanes|e,cachePool:null,transitions:a.transitions},o.memoizedState=a,o.childLanes=n.childLanes&~e,t.memoizedState=CF,r}return o=n.child,n=o.sibling,r=Ed(o,{mode:"visible",children:r.children}),!(t.mode&1)&&(r.lanes=e),r.return=t,r.sibling=null,n!==null&&(e=t.deletions,e===null?(t.deletions=[n],t.flags|=16):e.push(n)),t.child=r,t.memoizedState=null,r}function U1(n,t){return t=lR({mode:"visible",children:t},n.mode,0,null),t.return=n,n.child=t}function A0(n,t,e,r){return r!==null&&D1(r),ng(t,n.child,null,e),n=U1(t,t.pendingProps.children),n.flags|=2,t.memoizedState=null,n}function xie(n,t,e,r,i,o,a){if(e)return t.flags&256?(t.flags&=-257,r=XP(Error(me(422))),A0(n,t,a,r)):t.memoizedState!==null?(t.child=n.child,t.flags|=128,null):(o=r.fallback,i=t.mode,r=lR({mode:"visible",children:r.children},i,0,null),o=Sh(o,i,a,null),o.flags|=2,r.return=t,o.return=t,r.sibling=o,t.child=r,t.mode&1&&ng(t,n.child,null,a),t.child.memoizedState=SF(a),t.memoizedState=CF,o);if(!(t.mode&1))return A0(n,t,a,null);if(i.data==="$!"){if(r=i.nextSibling&&i.nextSibling.dataset,r)var s=r.dgst;return r=s,o=Error(me(419)),r=XP(o,r,void 0),A0(n,t,a,r)}if(s=(a&n.childLanes)!==0,no||s){if(r=Dn,r!==null){switch(a&-a){case 4:i=2;break;case 16:i=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:i=32;break;case 536870912:i=268435456;break;default:i=0}i=i&(r.suspendedLanes|a)?0:i,i!==0&&i!==o.retryLane&&(o.retryLane=i,ju(n,i),Ts(r,n,i,-1))}return Z1(),r=XP(Error(me(421))),A0(n,t,a,r)}return i.data==="$?"?(t.flags|=128,t.child=n.child,t=Nie.bind(null,n),i._reactRetry=t,null):(n=o.treeContext,qo=Sd(i.nextSibling),ea=t,_r=!0,ys=null,n!==null&&(Ra[Ta++]=Ou,Ra[Ta++]=Ru,Ra[Ta++]=Lh,Ou=n.id,Ru=n.overflow,Lh=t),t=U1(t,r.children),t.flags|=4096,t)}function dH(n,t,e){n.lanes|=t;var r=n.alternate;r!==null&&(r.lanes|=t),hF(n.return,t,e)}function qP(n,t,e,r,i){var o=n.memoizedState;o===null?n.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:r,tail:e,tailMode:i}:(o.isBackwards=t,o.rendering=null,o.renderingStartTime=0,o.last=r,o.tail=e,o.tailMode=i)}function WK(n,t,e){var r=t.pendingProps,i=r.revealOrder,o=r.tail;if(Si(n,t,r.children,e),r=Or.current,r&2)r=r&1|2,t.flags|=128;else{if(n!==null&&n.flags&128)e:for(n=t.child;n!==null;){if(n.tag===13)n.memoizedState!==null&&dH(n,e,t);else if(n.tag===19)dH(n,e,t);else if(n.child!==null){n.child.return=n,n=n.child;continue}if(n===t)break e;for(;n.sibling===null;){if(n.return===null||n.return===t)break e;n=n.return}n.sibling.return=n.return,n=n.sibling}r&=1}if(dr(Or,r),!(t.mode&1))t.memoizedState=null;else switch(i){case"forwards":for(e=t.child,i=null;e!==null;)n=e.alternate,n!==null&&UE(n)===null&&(i=e),e=e.sibling;e=i,e===null?(i=t.child,t.child=null):(i=e.sibling,e.sibling=null),qP(t,!1,i,e,o);break;case"backwards":for(e=null,i=t.child,t.child=null;i!==null;){if(n=i.alternate,n!==null&&UE(n)===null){t.child=i;break}n=i.sibling,i.sibling=e,e=i,i=n}qP(t,!0,e,null,o);break;case"together":qP(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function Gx(n,t){!(t.mode&1)&&n!==null&&(n.alternate=null,t.alternate=null,t.flags|=2)}function $u(n,t,e){if(n!==null&&(t.dependencies=n.dependencies),Nh|=t.lanes,!(e&t.childLanes))return null;if(n!==null&&t.child!==n.child)throw Error(me(153));if(t.child!==null){for(n=t.child,e=Ed(n,n.pendingProps),t.child=e,e.return=t;n.sibling!==null;)n=n.sibling,e=e.sibling=Ed(n,n.pendingProps),e.return=t;e.sibling=null}return t.child}function Eie(n,t,e){switch(t.tag){case 3:jK(t),rg();break;case 5:yK(t);break;case 1:uo(t.type)&&VE(t);break;case 4:k1(t,t.stateNode.containerInfo);break;case 10:var r=t.type._context,i=t.memoizedProps.value;dr(jE,r._currentValue),r._currentValue=i;break;case 13:if(r=t.memoizedState,r!==null)return r.dehydrated!==null?(dr(Or,Or.current&1),t.flags|=128,null):e&t.child.childLanes?$K(n,t,e):(dr(Or,Or.current&1),n=$u(n,t,e),n!==null?n.sibling:null);dr(Or,Or.current&1);break;case 19:if(r=(e&t.childLanes)!==0,n.flags&128){if(r)return WK(n,t,e);t.flags|=128}if(i=t.memoizedState,i!==null&&(i.rendering=null,i.tail=null,i.lastEffect=null),dr(Or,Or.current),r)break;return null;case 22:case 23:return t.lanes=0,BK(n,t,e)}return $u(n,t,e)}var UK,wF,zK,KK;UK=function(n,t){for(var e=t.child;e!==null;){if(e.tag===5||e.tag===6)n.appendChild(e.stateNode);else if(e.tag!==4&&e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return;e=e.return}e.sibling.return=e.return,e=e.sibling}};wF=function(){};zK=function(n,t,e,r){var i=n.memoizedProps;if(i!==r){n=t.stateNode,ah(Gl.current);var o=null;switch(e){case"input":i=$M(n,i),r=$M(n,r),o=[];break;case"select":i=Tr({},i,{value:void 0}),r=Tr({},r,{value:void 0}),o=[];break;case"textarea":i=zM(n,i),r=zM(n,r),o=[];break;default:typeof i.onClick!="function"&&typeof r.onClick=="function"&&(n.onclick=kE)}YM(e,r);var a;e=null;for(u in i)if(!r.hasOwnProperty(u)&&i.hasOwnProperty(u)&&i[u]!=null)if(u==="style"){var s=i[u];for(a in s)s.hasOwnProperty(a)&&(e||(e={}),e[a]="")}else u!=="dangerouslySetInnerHTML"&&u!=="children"&&u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&u!=="autoFocus"&&(zC.hasOwnProperty(u)?o||(o=[]):(o=o||[]).push(u,null));for(u in r){var l=r[u];if(s=i!=null?i[u]:void 0,r.hasOwnProperty(u)&&l!==s&&(l!=null||s!=null))if(u==="style")if(s){for(a in s)!s.hasOwnProperty(a)||l&&l.hasOwnProperty(a)||(e||(e={}),e[a]="");for(a in l)l.hasOwnProperty(a)&&s[a]!==l[a]&&(e||(e={}),e[a]=l[a])}else e||(o||(o=[]),o.push(u,e)),e=l;else u==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,s=s?s.__html:void 0,l!=null&&s!==l&&(o=o||[]).push(u,l)):u==="children"?typeof l!="string"&&typeof l!="number"||(o=o||[]).push(u,""+l):u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&(zC.hasOwnProperty(u)?(l!=null&&u==="onScroll"&&pr("scroll",n),o||s===l||(o=[])):(o=o||[]).push(u,l))}e&&(o=o||[]).push("style",e);var u=o;(t.updateQueue=u)&&(t.flags|=4)}};KK=function(n,t,e,r){e!==r&&(t.flags|=4)};function gy(n,t){if(!_r)switch(n.tailMode){case"hidden":t=n.tail;for(var e=null;t!==null;)t.alternate!==null&&(e=t),t=t.sibling;e===null?n.tail=null:e.sibling=null;break;case"collapsed":e=n.tail;for(var r=null;e!==null;)e.alternate!==null&&(r=e),e=e.sibling;r===null?t||n.tail===null?n.tail=null:n.tail.sibling=null:r.sibling=null}}function ti(n){var t=n.alternate!==null&&n.alternate.child===n.child,e=0,r=0;if(t)for(var i=n.child;i!==null;)e|=i.lanes|i.childLanes,r|=i.subtreeFlags&14680064,r|=i.flags&14680064,i.return=n,i=i.sibling;else for(i=n.child;i!==null;)e|=i.lanes|i.childLanes,r|=i.subtreeFlags,r|=i.flags,i.return=n,i=i.sibling;return n.subtreeFlags|=r,n.childLanes=e,t}function bie(n,t,e){var r=t.pendingProps;switch(A1(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return ti(t),null;case 1:return uo(t.type)&&GE(),ti(t),null;case 3:return r=t.stateNode,ig(),Cr(lo),Cr(hi),V1(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(n===null||n.child===null)&&(T0(t)?t.flags|=4:n===null||n.memoizedState.isDehydrated&&!(t.flags&256)||(t.flags|=1024,ys!==null&&(PF(ys),ys=null))),wF(n,t),ti(t),null;case 5:G1(t);var i=ah(iS.current);if(e=t.type,n!==null&&t.stateNode!=null)zK(n,t,e,r,i),n.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!r){if(t.stateNode===null)throw Error(me(166));return ti(t),null}if(n=ah(Gl.current),T0(t)){r=t.stateNode,e=t.type;var o=t.memoizedProps;switch(r[Ol]=t,r[rS]=o,n=(t.mode&1)!==0,e){case"dialog":pr("cancel",r),pr("close",r);break;case"iframe":case"object":case"embed":pr("load",r);break;case"video":case"audio":for(i=0;i<Mm.length;i++)pr(Mm[i],r);break;case"source":pr("error",r);break;case"img":case"image":case"link":pr("error",r),pr("load",r);break;case"details":pr("toggle",r);break;case"input":S2(r,o),pr("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!o.multiple},pr("invalid",r);break;case"textarea":_2(r,o),pr("invalid",r)}YM(e,o),i=null;for(var a in o)if(o.hasOwnProperty(a)){var s=o[a];a==="children"?typeof s=="string"?r.textContent!==s&&(o.suppressHydrationWarning!==!0&&R0(r.textContent,s,n),i=["children",s]):typeof s=="number"&&r.textContent!==""+s&&(o.suppressHydrationWarning!==!0&&R0(r.textContent,s,n),i=["children",""+s]):zC.hasOwnProperty(a)&&s!=null&&a==="onScroll"&&pr("scroll",r)}switch(e){case"input":C0(r),w2(r,o,!0);break;case"textarea":C0(r),x2(r);break;case"select":case"option":break;default:typeof o.onClick=="function"&&(r.onclick=kE)}r=i,t.updateQueue=r,r!==null&&(t.flags|=4)}else{a=i.nodeType===9?i:i.ownerDocument,n==="http://www.w3.org/1999/xhtml"&&(n=S4(e)),n==="http://www.w3.org/1999/xhtml"?e==="script"?(n=a.createElement("div"),n.innerHTML="<script><\/script>",n=n.removeChild(n.firstChild)):typeof r.is=="string"?n=a.createElement(e,{is:r.is}):(n=a.createElement(e),e==="select"&&(a=n,r.multiple?a.multiple=!0:r.size&&(a.size=r.size))):n=a.createElementNS(n,e),n[Ol]=t,n[rS]=r,UK(n,t,!1,!1),t.stateNode=n;e:{switch(a=XM(e,r),e){case"dialog":pr("cancel",n),pr("close",n),i=r;break;case"iframe":case"object":case"embed":pr("load",n),i=r;break;case"video":case"audio":for(i=0;i<Mm.length;i++)pr(Mm[i],n);i=r;break;case"source":pr("error",n),i=r;break;case"img":case"image":case"link":pr("error",n),pr("load",n),i=r;break;case"details":pr("toggle",n),i=r;break;case"input":S2(n,r),i=$M(n,r),pr("invalid",n);break;case"option":i=r;break;case"select":n._wrapperState={wasMultiple:!!r.multiple},i=Tr({},r,{value:void 0}),pr("invalid",n);break;case"textarea":_2(n,r),i=zM(n,r),pr("invalid",n);break;default:i=r}YM(e,i),s=i;for(o in s)if(s.hasOwnProperty(o)){var l=s[o];o==="style"?x4(n,l):o==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,l!=null&&w4(n,l)):o==="children"?typeof l=="string"?(e!=="textarea"||l!=="")&&KC(n,l):typeof l=="number"&&KC(n,""+l):o!=="suppressContentEditableWarning"&&o!=="suppressHydrationWarning"&&o!=="autoFocus"&&(zC.hasOwnProperty(o)?l!=null&&o==="onScroll"&&pr("scroll",n):l!=null&&v1(n,o,l,a))}switch(e){case"input":C0(n),w2(n,r,!1);break;case"textarea":C0(n),x2(n);break;case"option":r.value!=null&&n.setAttribute("value",""+Id(r.value));break;case"select":n.multiple=!!r.multiple,o=r.value,o!=null?Pv(n,!!r.multiple,o,!1):r.defaultValue!=null&&Pv(n,!!r.multiple,r.defaultValue,!0);break;default:typeof i.onClick=="function"&&(n.onclick=kE)}switch(e){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(t.flags|=4)}t.ref!==null&&(t.flags|=512,t.flags|=2097152)}return ti(t),null;case 6:if(n&&t.stateNode!=null)KK(n,t,n.memoizedProps,r);else{if(typeof r!="string"&&t.stateNode===null)throw Error(me(166));if(e=ah(iS.current),ah(Gl.current),T0(t)){if(r=t.stateNode,e=t.memoizedProps,r[Ol]=t,(o=r.nodeValue!==e)&&(n=ea,n!==null))switch(n.tag){case 3:R0(r.nodeValue,e,(n.mode&1)!==0);break;case 5:n.memoizedProps.suppressHydrationWarning!==!0&&R0(r.nodeValue,e,(n.mode&1)!==0)}o&&(t.flags|=4)}else r=(e.nodeType===9?e:e.ownerDocument).createTextNode(r),r[Ol]=t,t.stateNode=r}return ti(t),null;case 13:if(Cr(Or),r=t.memoizedState,n===null||n.memoizedState!==null&&n.memoizedState.dehydrated!==null){if(_r&&qo!==null&&t.mode&1&&!(t.flags&128))cK(),rg(),t.flags|=98560,o=!1;else if(o=T0(t),r!==null&&r.dehydrated!==null){if(n===null){if(!o)throw Error(me(318));if(o=t.memoizedState,o=o!==null?o.dehydrated:null,!o)throw Error(me(317));o[Ol]=t}else rg(),!(t.flags&128)&&(t.memoizedState=null),t.flags|=4;ti(t),o=!1}else ys!==null&&(PF(ys),ys=null),o=!0;if(!o)return t.flags&65536?t:null}return t.flags&128?(t.lanes=e,t):(r=r!==null,r!==(n!==null&&n.memoizedState!==null)&&r&&(t.child.flags|=8192,t.mode&1&&(n===null||Or.current&1?Cn===0&&(Cn=3):Z1())),t.updateQueue!==null&&(t.flags|=4),ti(t),null);case 4:return ig(),wF(n,t),n===null&&eS(t.stateNode.containerInfo),ti(t),null;case 10:return L1(t.type._context),ti(t),null;case 17:return uo(t.type)&&GE(),ti(t),null;case 19:if(Cr(Or),o=t.memoizedState,o===null)return ti(t),null;if(r=(t.flags&128)!==0,a=o.rendering,a===null)if(r)gy(o,!1);else{if(Cn!==0||n!==null&&n.flags&128)for(n=t.child;n!==null;){if(a=UE(n),a!==null){for(t.flags|=128,gy(o,!1),r=a.updateQueue,r!==null&&(t.updateQueue=r,t.flags|=4),t.subtreeFlags=0,r=e,e=t.child;e!==null;)o=e,n=r,o.flags&=14680066,a=o.alternate,a===null?(o.childLanes=0,o.lanes=n,o.child=null,o.subtreeFlags=0,o.memoizedProps=null,o.memoizedState=null,o.updateQueue=null,o.dependencies=null,o.stateNode=null):(o.childLanes=a.childLanes,o.lanes=a.lanes,o.child=a.child,o.subtreeFlags=0,o.deletions=null,o.memoizedProps=a.memoizedProps,o.memoizedState=a.memoizedState,o.updateQueue=a.updateQueue,o.type=a.type,n=a.dependencies,o.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext}),e=e.sibling;return dr(Or,Or.current&1|2),t.child}n=n.sibling}o.tail!==null&&Br()>ag&&(t.flags|=128,r=!0,gy(o,!1),t.lanes=4194304)}else{if(!r)if(n=UE(a),n!==null){if(t.flags|=128,r=!0,e=n.updateQueue,e!==null&&(t.updateQueue=e,t.flags|=4),gy(o,!0),o.tail===null&&o.tailMode==="hidden"&&!a.alternate&&!_r)return ti(t),null}else 2*Br()-o.renderingStartTime>ag&&e!==1073741824&&(t.flags|=128,r=!0,gy(o,!1),t.lanes=4194304);o.isBackwards?(a.sibling=t.child,t.child=a):(e=o.last,e!==null?e.sibling=a:t.child=a,o.last=a)}return o.tail!==null?(t=o.tail,o.rendering=t,o.tail=t.sibling,o.renderingStartTime=Br(),t.sibling=null,e=Or.current,dr(Or,r?e&1|2:e&1),t):(ti(t),null);case 22:case 23:return q1(),r=t.memoizedState!==null,n!==null&&n.memoizedState!==null!==r&&(t.flags|=8192),r&&t.mode&1?Vo&1073741824&&(ti(t),t.subtreeFlags&6&&(t.flags|=8192)):ti(t),null;case 24:return null;case 25:return null}throw Error(me(156,t.tag))}function Oie(n,t){switch(A1(t),t.tag){case 1:return uo(t.type)&&GE(),n=t.flags,n&65536?(t.flags=n&-65537|128,t):null;case 3:return ig(),Cr(lo),Cr(hi),V1(),n=t.flags,n&65536&&!(n&128)?(t.flags=n&-65537|128,t):null;case 5:return G1(t),null;case 13:if(Cr(Or),n=t.memoizedState,n!==null&&n.dehydrated!==null){if(t.alternate===null)throw Error(me(340));rg()}return n=t.flags,n&65536?(t.flags=n&-65537|128,t):null;case 19:return Cr(Or),null;case 4:return ig(),null;case 10:return L1(t.type._context),null;case 22:case 23:return q1(),null;case 24:return null;default:return null}}var D0=!1,si=!1,Rie=typeof WeakSet=="function"?WeakSet:Set,Ae=null;function dv(n,t){var e=n.ref;if(e!==null)if(typeof e=="function")try{e(null)}catch(r){Fr(n,t,r)}else e.current=null}function _F(n,t,e){try{e()}catch(r){Fr(n,t,r)}}var pH=!1;function Tie(n,t){if(oF=LE,n=Z4(),T1(n)){if("selectionStart"in n)var e={start:n.selectionStart,end:n.selectionEnd};else e:{e=(e=n.ownerDocument)&&e.defaultView||window;var r=e.getSelection&&e.getSelection();if(r&&r.rangeCount!==0){e=r.anchorNode;var i=r.anchorOffset,o=r.focusNode;r=r.focusOffset;try{e.nodeType,o.nodeType}catch{e=null;break e}var a=0,s=-1,l=-1,u=0,c=0,d=n,p=null;t:for(;;){for(var h;d!==e||i!==0&&d.nodeType!==3||(s=a+i),d!==o||r!==0&&d.nodeType!==3||(l=a+r),d.nodeType===3&&(a+=d.nodeValue.length),(h=d.firstChild)!==null;)p=d,d=h;for(;;){if(d===n)break t;if(p===e&&++u===i&&(s=a),p===o&&++c===r&&(l=a),(h=d.nextSibling)!==null)break;d=p,p=d.parentNode}d=h}e=s===-1||l===-1?null:{start:s,end:l}}else e=null}e=e||{start:0,end:0}}else e=null;for(aF={focusedElem:n,selectionRange:e},LE=!1,Ae=t;Ae!==null;)if(t=Ae,n=t.child,(t.subtreeFlags&1028)!==0&&n!==null)n.return=t,Ae=n;else for(;Ae!==null;){t=Ae;try{var f=t.alternate;if(t.flags&1024)switch(t.tag){case 0:case 11:case 15:break;case 1:if(f!==null){var v=f.memoizedProps,g=f.memoizedState,y=t.stateNode,m=y.getSnapshotBeforeUpdate(t.elementType===t.type?v:fs(t.type,v),g);y.__reactInternalSnapshotBeforeUpdate=m}break;case 3:var C=t.stateNode.containerInfo;C.nodeType===1?C.textContent="":C.nodeType===9&&C.documentElement&&C.removeChild(C.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(me(163))}}catch(S){Fr(t,t.return,S)}if(n=t.sibling,n!==null){n.return=t.return,Ae=n;break}Ae=t.return}return f=pH,pH=!1,f}function vC(n,t,e){var r=t.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var i=r=r.next;do{if((i.tag&n)===n){var o=i.destroy;i.destroy=void 0,o!==void 0&&_F(t,e,o)}i=i.next}while(i!==r)}}function aR(n,t){if(t=t.updateQueue,t=t!==null?t.lastEffect:null,t!==null){var e=t=t.next;do{if((e.tag&n)===n){var r=e.create;e.destroy=r()}e=e.next}while(e!==t)}}function xF(n){var t=n.ref;if(t!==null){var e=n.stateNode;switch(n.tag){case 5:n=e;break;default:n=e}typeof t=="function"?t(n):t.current=n}}function YK(n){var t=n.alternate;t!==null&&(n.alternate=null,YK(t)),n.child=null,n.deletions=null,n.sibling=null,n.tag===5&&(t=n.stateNode,t!==null&&(delete t[Ol],delete t[rS],delete t[uF],delete t[cie],delete t[die])),n.stateNode=null,n.return=null,n.dependencies=null,n.memoizedProps=null,n.memoizedState=null,n.pendingProps=null,n.stateNode=null,n.updateQueue=null}function XK(n){return n.tag===5||n.tag===3||n.tag===4}function hH(n){e:for(;;){for(;n.sibling===null;){if(n.return===null||XK(n.return))return null;n=n.return}for(n.sibling.return=n.return,n=n.sibling;n.tag!==5&&n.tag!==6&&n.tag!==18;){if(n.flags&2||n.child===null||n.tag===4)continue e;n.child.return=n,n=n.child}if(!(n.flags&2))return n.stateNode}}function EF(n,t,e){var r=n.tag;if(r===5||r===6)n=n.stateNode,t?e.nodeType===8?e.parentNode.insertBefore(n,t):e.insertBefore(n,t):(e.nodeType===8?(t=e.parentNode,t.insertBefore(n,e)):(t=e,t.appendChild(n)),e=e._reactRootContainer,e!=null||t.onclick!==null||(t.onclick=kE));else if(r!==4&&(n=n.child,n!==null))for(EF(n,t,e),n=n.sibling;n!==null;)EF(n,t,e),n=n.sibling}function bF(n,t,e){var r=n.tag;if(r===5||r===6)n=n.stateNode,t?e.insertBefore(n,t):e.appendChild(n);else if(r!==4&&(n=n.child,n!==null))for(bF(n,t,e),n=n.sibling;n!==null;)bF(n,t,e),n=n.sibling}var Hn=null,vs=!1;function Ec(n,t,e){for(e=e.child;e!==null;)qK(n,t,e),e=e.sibling}function qK(n,t,e){if(kl&&typeof kl.onCommitFiberUnmount=="function")try{kl.onCommitFiberUnmount(QO,e)}catch{}switch(e.tag){case 5:si||dv(e,t);case 6:var r=Hn,i=vs;Hn=null,Ec(n,t,e),Hn=r,vs=i,Hn!==null&&(vs?(n=Hn,e=e.stateNode,n.nodeType===8?n.parentNode.removeChild(e):n.removeChild(e)):Hn.removeChild(e.stateNode));break;case 18:Hn!==null&&(vs?(n=Hn,e=e.stateNode,n.nodeType===8?$P(n.parentNode,e):n.nodeType===1&&$P(n,e),ZC(n)):$P(Hn,e.stateNode));break;case 4:r=Hn,i=vs,Hn=e.stateNode.containerInfo,vs=!0,Ec(n,t,e),Hn=r,vs=i;break;case 0:case 11:case 14:case 15:if(!si&&(r=e.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){i=r=r.next;do{var o=i,a=o.destroy;o=o.tag,a!==void 0&&(o&2||o&4)&&_F(e,t,a),i=i.next}while(i!==r)}Ec(n,t,e);break;case 1:if(!si&&(dv(e,t),r=e.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=e.memoizedProps,r.state=e.memoizedState,r.componentWillUnmount()}catch(s){Fr(e,t,s)}Ec(n,t,e);break;case 21:Ec(n,t,e);break;case 22:e.mode&1?(si=(r=si)||e.memoizedState!==null,Ec(n,t,e),si=r):Ec(n,t,e);break;default:Ec(n,t,e)}}function fH(n){var t=n.updateQueue;if(t!==null){n.updateQueue=null;var e=n.stateNode;e===null&&(e=n.stateNode=new Rie),t.forEach(function(r){var i=kie.bind(null,n,r);e.has(r)||(e.add(r),r.then(i,i))})}}function ls(n,t){var e=t.deletions;if(e!==null)for(var r=0;r<e.length;r++){var i=e[r];try{var o=n,a=t,s=a;e:for(;s!==null;){switch(s.tag){case 5:Hn=s.stateNode,vs=!1;break e;case 3:Hn=s.stateNode.containerInfo,vs=!0;break e;case 4:Hn=s.stateNode.containerInfo,vs=!0;break e}s=s.return}if(Hn===null)throw Error(me(160));qK(o,a,i),Hn=null,vs=!1;var l=i.alternate;l!==null&&(l.return=null),i.return=null}catch(u){Fr(i,t,u)}}if(t.subtreeFlags&12854)for(t=t.child;t!==null;)ZK(t,n),t=t.sibling}function ZK(n,t){var e=n.alternate,r=n.flags;switch(n.tag){case 0:case 11:case 14:case 15:if(ls(t,n),Js(n),r&4){try{vC(3,n,n.return),aR(3,n)}catch(v){Fr(n,n.return,v)}try{vC(5,n,n.return)}catch(v){Fr(n,n.return,v)}}break;case 1:ls(t,n),Js(n),r&512&&e!==null&&dv(e,e.return);break;case 5:if(ls(t,n),Js(n),r&512&&e!==null&&dv(e,e.return),n.flags&32){var i=n.stateNode;try{KC(i,"")}catch(v){Fr(n,n.return,v)}}if(r&4&&(i=n.stateNode,i!=null)){var o=n.memoizedProps,a=e!==null?e.memoizedProps:o,s=n.type,l=n.updateQueue;if(n.updateQueue=null,l!==null)try{s==="input"&&o.type==="radio"&&o.name!=null&&m4(i,o),XM(s,a);var u=XM(s,o);for(a=0;a<l.length;a+=2){var c=l[a],d=l[a+1];c==="style"?x4(i,d):c==="dangerouslySetInnerHTML"?w4(i,d):c==="children"?KC(i,d):v1(i,c,d,u)}switch(s){case"input":WM(i,o);break;case"textarea":C4(i,o);break;case"select":var p=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!o.multiple;var h=o.value;h!=null?Pv(i,!!o.multiple,h,!1):p!==!!o.multiple&&(o.defaultValue!=null?Pv(i,!!o.multiple,o.defaultValue,!0):Pv(i,!!o.multiple,o.multiple?[]:"",!1))}i[rS]=o}catch(v){Fr(n,n.return,v)}}break;case 6:if(ls(t,n),Js(n),r&4){if(n.stateNode===null)throw Error(me(162));i=n.stateNode,o=n.memoizedProps;try{i.nodeValue=o}catch(v){Fr(n,n.return,v)}}break;case 3:if(ls(t,n),Js(n),r&4&&e!==null&&e.memoizedState.isDehydrated)try{ZC(t.containerInfo)}catch(v){Fr(n,n.return,v)}break;case 4:ls(t,n),Js(n);break;case 13:ls(t,n),Js(n),i=n.child,i.flags&8192&&(o=i.memoizedState!==null,i.stateNode.isHidden=o,!o||i.alternate!==null&&i.alternate.memoizedState!==null||(Y1=Br())),r&4&&fH(n);break;case 22:if(c=e!==null&&e.memoizedState!==null,n.mode&1?(si=(u=si)||c,ls(t,n),si=u):ls(t,n),Js(n),r&8192){if(u=n.memoizedState!==null,(n.stateNode.isHidden=u)&&!c&&n.mode&1)for(Ae=n,c=n.child;c!==null;){for(d=Ae=c;Ae!==null;){switch(p=Ae,h=p.child,p.tag){case 0:case 11:case 14:case 15:vC(4,p,p.return);break;case 1:dv(p,p.return);var f=p.stateNode;if(typeof f.componentWillUnmount=="function"){r=p,e=p.return;try{t=r,f.props=t.memoizedProps,f.state=t.memoizedState,f.componentWillUnmount()}catch(v){Fr(r,e,v)}}break;case 5:dv(p,p.return);break;case 22:if(p.memoizedState!==null){gH(d);continue}}h!==null?(h.return=p,Ae=h):gH(d)}c=c.sibling}e:for(c=null,d=n;;){if(d.tag===5){if(c===null){c=d;try{i=d.stateNode,u?(o=i.style,typeof o.setProperty=="function"?o.setProperty("display","none","important"):o.display="none"):(s=d.stateNode,l=d.memoizedProps.style,a=l!=null&&l.hasOwnProperty("display")?l.display:null,s.style.display=_4("display",a))}catch(v){Fr(n,n.return,v)}}}else if(d.tag===6){if(c===null)try{d.stateNode.nodeValue=u?"":d.memoizedProps}catch(v){Fr(n,n.return,v)}}else if((d.tag!==22&&d.tag!==23||d.memoizedState===null||d===n)&&d.child!==null){d.child.return=d,d=d.child;continue}if(d===n)break e;for(;d.sibling===null;){if(d.return===null||d.return===n)break e;c===d&&(c=null),d=d.return}c===d&&(c=null),d.sibling.return=d.return,d=d.sibling}}break;case 19:ls(t,n),Js(n),r&4&&fH(n);break;case 21:break;default:ls(t,n),Js(n)}}function Js(n){var t=n.flags;if(t&2){try{e:{for(var e=n.return;e!==null;){if(XK(e)){var r=e;break e}e=e.return}throw Error(me(160))}switch(r.tag){case 5:var i=r.stateNode;r.flags&32&&(KC(i,""),r.flags&=-33);var o=hH(n);bF(n,o,i);break;case 3:case 4:var a=r.stateNode.containerInfo,s=hH(n);EF(n,s,a);break;default:throw Error(me(161))}}catch(l){Fr(n,n.return,l)}n.flags&=-3}t&4096&&(n.flags&=-4097)}function Pie(n,t,e){Ae=n,QK(n)}function QK(n,t,e){for(var r=(n.mode&1)!==0;Ae!==null;){var i=Ae,o=i.child;if(i.tag===22&&r){var a=i.memoizedState!==null||D0;if(!a){var s=i.alternate,l=s!==null&&s.memoizedState!==null||si;s=D0;var u=si;if(D0=a,(si=l)&&!u)for(Ae=i;Ae!==null;)a=Ae,l=a.child,a.tag===22&&a.memoizedState!==null?yH(i):l!==null?(l.return=a,Ae=l):yH(i);for(;o!==null;)Ae=o,QK(o),o=o.sibling;Ae=i,D0=s,si=u}vH(n)}else i.subtreeFlags&8772&&o!==null?(o.return=i,Ae=o):vH(n)}}function vH(n){for(;Ae!==null;){var t=Ae;if(t.flags&8772){var e=t.alternate;try{if(t.flags&8772)switch(t.tag){case 0:case 11:case 15:si||aR(5,t);break;case 1:var r=t.stateNode;if(t.flags&4&&!si)if(e===null)r.componentDidMount();else{var i=t.elementType===t.type?e.memoizedProps:fs(t.type,e.memoizedProps);r.componentDidUpdate(i,e.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var o=t.updateQueue;o!==null&&Q2(t,o,r);break;case 3:var a=t.updateQueue;if(a!==null){if(e=null,t.child!==null)switch(t.child.tag){case 5:e=t.child.stateNode;break;case 1:e=t.child.stateNode}Q2(t,a,e)}break;case 5:var s=t.stateNode;if(e===null&&t.flags&4){e=s;var l=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":l.autoFocus&&e.focus();break;case"img":l.src&&(e.src=l.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(t.memoizedState===null){var u=t.alternate;if(u!==null){var c=u.memoizedState;if(c!==null){var d=c.dehydrated;d!==null&&ZC(d)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(me(163))}si||t.flags&512&&xF(t)}catch(p){Fr(t,t.return,p)}}if(t===n){Ae=null;break}if(e=t.sibling,e!==null){e.return=t.return,Ae=e;break}Ae=t.return}}function gH(n){for(;Ae!==null;){var t=Ae;if(t===n){Ae=null;break}var e=t.sibling;if(e!==null){e.return=t.return,Ae=e;break}Ae=t.return}}function yH(n){for(;Ae!==null;){var t=Ae;try{switch(t.tag){case 0:case 11:case 15:var e=t.return;try{aR(4,t)}catch(l){Fr(t,e,l)}break;case 1:var r=t.stateNode;if(typeof r.componentDidMount=="function"){var i=t.return;try{r.componentDidMount()}catch(l){Fr(t,i,l)}}var o=t.return;try{xF(t)}catch(l){Fr(t,o,l)}break;case 5:var a=t.return;try{xF(t)}catch(l){Fr(t,a,l)}}}catch(l){Fr(t,t.return,l)}if(t===n){Ae=null;break}var s=t.sibling;if(s!==null){s.return=t.return,Ae=s;break}Ae=t.return}}var Aie=Math.ceil,YE=sc.ReactCurrentDispatcher,z1=sc.ReactCurrentOwner,Va=sc.ReactCurrentBatchConfig,Nt=0,Dn=null,en=null,Yn=0,Vo=0,pv=Kd(0),Cn=0,lS=null,Nh=0,sR=0,K1=0,gC=null,to=null,Y1=0,ag=1/0,wu=null,XE=!1,OF=null,_d=null,M0=!1,sd=null,qE=0,yC=0,RF=null,Vx=-1,Bx=0;function Ti(){return Nt&6?Br():Vx!==-1?Vx:Vx=Br()}function xd(n){return n.mode&1?Nt&2&&Yn!==0?Yn&-Yn:hie.transition!==null?(Bx===0&&(Bx=I4()),Bx):(n=Zt,n!==0||(n=window.event,n=n===void 0?16:j4(n.type)),n):1}function Ts(n,t,e,r){if(50<yC)throw yC=0,RF=null,Error(me(185));cw(n,e,r),(!(Nt&2)||n!==Dn)&&(n===Dn&&(!(Nt&2)&&(sR|=e),Cn===4&&rd(n,Yn)),co(n,r),e===1&&Nt===0&&!(t.mode&1)&&(ag=Br()+500,nR&&Yd()))}function co(n,t){var e=n.callbackNode;hne(n,t);var r=FE(n,n===Dn?Yn:0);if(r===0)e!==null&&O2(e),n.callbackNode=null,n.callbackPriority=0;else if(t=r&-r,n.callbackPriority!==t){if(e!=null&&O2(e),t===1)n.tag===0?pie(mH.bind(null,n)):sK(mH.bind(null,n)),lie(function(){!(Nt&6)&&Yd()}),e=null;else{switch(N4(r)){case 1:e=S1;break;case 4:e=F4;break;case 16:e=ME;break;case 536870912:e=L4;break;default:e=ME}e=a6(e,JK.bind(null,n))}n.callbackPriority=t,n.callbackNode=e}}function JK(n,t){if(Vx=-1,Bx=0,Nt&6)throw Error(me(327));var e=n.callbackNode;if(Lv()&&n.callbackNode!==e)return null;var r=FE(n,n===Dn?Yn:0);if(r===0)return null;if(r&30||r&n.expiredLanes||t)t=ZE(n,r);else{t=r;var i=Nt;Nt|=2;var o=t6();(Dn!==n||Yn!==t)&&(wu=null,ag=Br()+500,Ch(n,t));do try{Fie();break}catch(s){e6(n,s)}while(!0);F1(),YE.current=o,Nt=i,en!==null?t=0:(Dn=null,Yn=0,t=Cn)}if(t!==0){if(t===2&&(i=eF(n),i!==0&&(r=i,t=TF(n,i))),t===1)throw e=lS,Ch(n,0),rd(n,r),co(n,Br()),e;if(t===6)rd(n,r);else{if(i=n.current.alternate,!(r&30)&&!Die(i)&&(t=ZE(n,r),t===2&&(o=eF(n),o!==0&&(r=o,t=TF(n,o))),t===1))throw e=lS,Ch(n,0),rd(n,r),co(n,Br()),e;switch(n.finishedWork=i,n.finishedLanes=r,t){case 0:case 1:throw Error(me(345));case 2:Np(n,to,wu);break;case 3:if(rd(n,r),(r&130023424)===r&&(t=Y1+500-Br(),10<t)){if(FE(n,0)!==0)break;if(i=n.suspendedLanes,(i&r)!==r){Ti(),n.pingedLanes|=n.suspendedLanes&i;break}n.timeoutHandle=lF(Np.bind(null,n,to,wu),t);break}Np(n,to,wu);break;case 4:if(rd(n,r),(r&4194240)===r)break;for(t=n.eventTimes,i=-1;0<r;){var a=31-Rs(r);o=1<<a,a=t[a],a>i&&(i=a),r&=~o}if(r=i,r=Br()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*Aie(r/1960))-r,10<r){n.timeoutHandle=lF(Np.bind(null,n,to,wu),r);break}Np(n,to,wu);break;case 5:Np(n,to,wu);break;default:throw Error(me(329))}}}return co(n,Br()),n.callbackNode===e?JK.bind(null,n):null}function TF(n,t){var e=gC;return n.current.memoizedState.isDehydrated&&(Ch(n,t).flags|=256),n=ZE(n,t),n!==2&&(t=to,to=e,t!==null&&PF(t)),n}function PF(n){to===null?to=n:to.push.apply(to,n)}function Die(n){for(var t=n;;){if(t.flags&16384){var e=t.updateQueue;if(e!==null&&(e=e.stores,e!==null))for(var r=0;r<e.length;r++){var i=e[r],o=i.getSnapshot;i=i.value;try{if(!Ms(o(),i))return!1}catch{return!1}}}if(e=t.child,t.subtreeFlags&16384&&e!==null)e.return=t,t=e;else{if(t===n)break;for(;t.sibling===null;){if(t.return===null||t.return===n)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function rd(n,t){for(t&=~K1,t&=~sR,n.suspendedLanes|=t,n.pingedLanes&=~t,n=n.expirationTimes;0<t;){var e=31-Rs(t),r=1<<e;n[e]=-1,t&=~r}}function mH(n){if(Nt&6)throw Error(me(327));Lv();var t=FE(n,0);if(!(t&1))return co(n,Br()),null;var e=ZE(n,t);if(n.tag!==0&&e===2){var r=eF(n);r!==0&&(t=r,e=TF(n,r))}if(e===1)throw e=lS,Ch(n,0),rd(n,t),co(n,Br()),e;if(e===6)throw Error(me(345));return n.finishedWork=n.current.alternate,n.finishedLanes=t,Np(n,to,wu),co(n,Br()),null}function X1(n,t){var e=Nt;Nt|=1;try{return n(t)}finally{Nt=e,Nt===0&&(ag=Br()+500,nR&&Yd())}}function kh(n){sd!==null&&sd.tag===0&&!(Nt&6)&&Lv();var t=Nt;Nt|=1;var e=Va.transition,r=Zt;try{if(Va.transition=null,Zt=1,n)return n()}finally{Zt=r,Va.transition=e,Nt=t,!(Nt&6)&&Yd()}}function q1(){Vo=pv.current,Cr(pv)}function Ch(n,t){n.finishedWork=null,n.finishedLanes=0;var e=n.timeoutHandle;if(e!==-1&&(n.timeoutHandle=-1,sie(e)),en!==null)for(e=en.return;e!==null;){var r=e;switch(A1(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&GE();break;case 3:ig(),Cr(lo),Cr(hi),V1();break;case 5:G1(r);break;case 4:ig();break;case 13:Cr(Or);break;case 19:Cr(Or);break;case 10:L1(r.type._context);break;case 22:case 23:q1()}e=e.return}if(Dn=n,en=n=Ed(n.current,null),Yn=Vo=t,Cn=0,lS=null,K1=sR=Nh=0,to=gC=null,oh!==null){for(t=0;t<oh.length;t++)if(e=oh[t],r=e.interleaved,r!==null){e.interleaved=null;var i=r.next,o=e.pending;if(o!==null){var a=o.next;o.next=i,r.next=a}e.pending=r}oh=null}return n}function e6(n,t){do{var e=en;try{if(F1(),Nx.current=KE,zE){for(var r=Rr.memoizedState;r!==null;){var i=r.queue;i!==null&&(i.pending=null),r=r.next}zE=!1}if(Ih=0,Rn=fn=Rr=null,fC=!1,oS=0,z1.current=null,e===null||e.return===null){Cn=1,lS=t,en=null;break}e:{var o=n,a=e.return,s=e,l=t;if(t=Yn,s.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){var u=l,c=s,d=c.tag;if(!(c.mode&1)&&(d===0||d===11||d===15)){var p=c.alternate;p?(c.updateQueue=p.updateQueue,c.memoizedState=p.memoizedState,c.lanes=p.lanes):(c.updateQueue=null,c.memoizedState=null)}var h=oH(a);if(h!==null){h.flags&=-257,aH(h,a,s,o,t),h.mode&1&&iH(o,u,t),t=h,l=u;var f=t.updateQueue;if(f===null){var v=new Set;v.add(l),t.updateQueue=v}else f.add(l);break e}else{if(!(t&1)){iH(o,u,t),Z1();break e}l=Error(me(426))}}else if(_r&&s.mode&1){var g=oH(a);if(g!==null){!(g.flags&65536)&&(g.flags|=256),aH(g,a,s,o,t),D1(og(l,s));break e}}o=l=og(l,s),Cn!==4&&(Cn=2),gC===null?gC=[o]:gC.push(o),o=a;do{switch(o.tag){case 3:o.flags|=65536,t&=-t,o.lanes|=t;var y=kK(o,l,t);Z2(o,y);break e;case 1:s=l;var m=o.type,C=o.stateNode;if(!(o.flags&128)&&(typeof m.getDerivedStateFromError=="function"||C!==null&&typeof C.componentDidCatch=="function"&&(_d===null||!_d.has(C)))){o.flags|=65536,t&=-t,o.lanes|=t;var S=GK(o,s,t);Z2(o,S);break e}}o=o.return}while(o!==null)}n6(e)}catch(w){t=w,en===e&&e!==null&&(en=e=e.return);continue}break}while(!0)}function t6(){var n=YE.current;return YE.current=KE,n===null?KE:n}function Z1(){(Cn===0||Cn===3||Cn===2)&&(Cn=4),Dn===null||!(Nh&268435455)&&!(sR&268435455)||rd(Dn,Yn)}function ZE(n,t){var e=Nt;Nt|=2;var r=t6();(Dn!==n||Yn!==t)&&(wu=null,Ch(n,t));do try{Mie();break}catch(i){e6(n,i)}while(!0);if(F1(),Nt=e,YE.current=r,en!==null)throw Error(me(261));return Dn=null,Yn=0,Cn}function Mie(){for(;en!==null;)r6(en)}function Fie(){for(;en!==null&&!ine();)r6(en)}function r6(n){var t=o6(n.alternate,n,Vo);n.memoizedProps=n.pendingProps,t===null?n6(n):en=t,z1.current=null}function n6(n){var t=n;do{var e=t.alternate;if(n=t.return,t.flags&32768){if(e=Oie(e,t),e!==null){e.flags&=32767,en=e;return}if(n!==null)n.flags|=32768,n.subtreeFlags=0,n.deletions=null;else{Cn=6,en=null;return}}else if(e=bie(e,t,Vo),e!==null){en=e;return}if(t=t.sibling,t!==null){en=t;return}en=t=n}while(t!==null);Cn===0&&(Cn=5)}function Np(n,t,e){var r=Zt,i=Va.transition;try{Va.transition=null,Zt=1,Lie(n,t,e,r)}finally{Va.transition=i,Zt=r}return null}function Lie(n,t,e,r){do Lv();while(sd!==null);if(Nt&6)throw Error(me(327));e=n.finishedWork;var i=n.finishedLanes;if(e===null)return null;if(n.finishedWork=null,n.finishedLanes=0,e===n.current)throw Error(me(177));n.callbackNode=null,n.callbackPriority=0;var o=e.lanes|e.childLanes;if(fne(n,o),n===Dn&&(en=Dn=null,Yn=0),!(e.subtreeFlags&2064)&&!(e.flags&2064)||M0||(M0=!0,a6(ME,function(){return Lv(),null})),o=(e.flags&15990)!==0,e.subtreeFlags&15990||o){o=Va.transition,Va.transition=null;var a=Zt;Zt=1;var s=Nt;Nt|=4,z1.current=null,Tie(n,e),ZK(e,n),eie(aF),LE=!!oF,aF=oF=null,n.current=e,Pie(e),one(),Nt=s,Zt=a,Va.transition=o}else n.current=e;if(M0&&(M0=!1,sd=n,qE=i),o=n.pendingLanes,o===0&&(_d=null),lne(e.stateNode),co(n,Br()),t!==null)for(r=n.onRecoverableError,e=0;e<t.length;e++)i=t[e],r(i.value,{componentStack:i.stack,digest:i.digest});if(XE)throw XE=!1,n=OF,OF=null,n;return qE&1&&n.tag!==0&&Lv(),o=n.pendingLanes,o&1?n===RF?yC++:(yC=0,RF=n):yC=0,Yd(),null}function Lv(){if(sd!==null){var n=N4(qE),t=Va.transition,e=Zt;try{if(Va.transition=null,Zt=16>n?16:n,sd===null)var r=!1;else{if(n=sd,sd=null,qE=0,Nt&6)throw Error(me(331));var i=Nt;for(Nt|=4,Ae=n.current;Ae!==null;){var o=Ae,a=o.child;if(Ae.flags&16){var s=o.deletions;if(s!==null){for(var l=0;l<s.length;l++){var u=s[l];for(Ae=u;Ae!==null;){var c=Ae;switch(c.tag){case 0:case 11:case 15:vC(8,c,o)}var d=c.child;if(d!==null)d.return=c,Ae=d;else for(;Ae!==null;){c=Ae;var p=c.sibling,h=c.return;if(YK(c),c===u){Ae=null;break}if(p!==null){p.return=h,Ae=p;break}Ae=h}}}var f=o.alternate;if(f!==null){var v=f.child;if(v!==null){f.child=null;do{var g=v.sibling;v.sibling=null,v=g}while(v!==null)}}Ae=o}}if(o.subtreeFlags&2064&&a!==null)a.return=o,Ae=a;else e:for(;Ae!==null;){if(o=Ae,o.flags&2048)switch(o.tag){case 0:case 11:case 15:vC(9,o,o.return)}var y=o.sibling;if(y!==null){y.return=o.return,Ae=y;break e}Ae=o.return}}var m=n.current;for(Ae=m;Ae!==null;){a=Ae;var C=a.child;if(a.subtreeFlags&2064&&C!==null)C.return=a,Ae=C;else e:for(a=m;Ae!==null;){if(s=Ae,s.flags&2048)try{switch(s.tag){case 0:case 11:case 15:aR(9,s)}}catch(w){Fr(s,s.return,w)}if(s===a){Ae=null;break e}var S=s.sibling;if(S!==null){S.return=s.return,Ae=S;break e}Ae=s.return}}if(Nt=i,Yd(),kl&&typeof kl.onPostCommitFiberRoot=="function")try{kl.onPostCommitFiberRoot(QO,n)}catch{}r=!0}return r}finally{Zt=e,Va.transition=t}}return!1}function CH(n,t,e){t=og(e,t),t=kK(n,t,1),n=wd(n,t,1),t=Ti(),n!==null&&(cw(n,1,t),co(n,t))}function Fr(n,t,e){if(n.tag===3)CH(n,n,e);else for(;t!==null;){if(t.tag===3){CH(t,n,e);break}else if(t.tag===1){var r=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(_d===null||!_d.has(r))){n=og(e,n),n=GK(t,n,1),t=wd(t,n,1),n=Ti(),t!==null&&(cw(t,1,n),co(t,n));break}}t=t.return}}function Iie(n,t,e){var r=n.pingCache;r!==null&&r.delete(t),t=Ti(),n.pingedLanes|=n.suspendedLanes&e,Dn===n&&(Yn&e)===e&&(Cn===4||Cn===3&&(Yn&130023424)===Yn&&500>Br()-Y1?Ch(n,0):K1|=e),co(n,t)}function i6(n,t){t===0&&(n.mode&1?(t=_0,_0<<=1,!(_0&130023424)&&(_0=4194304)):t=1);var e=Ti();n=ju(n,t),n!==null&&(cw(n,t,e),co(n,e))}function Nie(n){var t=n.memoizedState,e=0;t!==null&&(e=t.retryLane),i6(n,e)}function kie(n,t){var e=0;switch(n.tag){case 13:var r=n.stateNode,i=n.memoizedState;i!==null&&(e=i.retryLane);break;case 19:r=n.stateNode;break;default:throw Error(me(314))}r!==null&&r.delete(t),i6(n,e)}var o6;o6=function(n,t,e){if(n!==null)if(n.memoizedProps!==t.pendingProps||lo.current)no=!0;else{if(!(n.lanes&e)&&!(t.flags&128))return no=!1,Eie(n,t,e);no=!!(n.flags&131072)}else no=!1,_r&&t.flags&1048576&&lK(t,HE,t.index);switch(t.lanes=0,t.tag){case 2:var r=t.type;Gx(n,t),n=t.pendingProps;var i=tg(t,hi.current);Fv(t,e),i=H1(null,t,r,n,i,e);var o=j1();return t.flags|=1,typeof i=="object"&&i!==null&&typeof i.render=="function"&&i.$$typeof===void 0?(t.tag=1,t.memoizedState=null,t.updateQueue=null,uo(r)?(o=!0,VE(t)):o=!1,t.memoizedState=i.state!==null&&i.state!==void 0?i.state:null,N1(t),i.updater=iR,t.stateNode=i,i._reactInternals=t,vF(t,r,n,e),t=mF(null,t,r,!0,o,e)):(t.tag=0,_r&&o&&P1(t),Si(null,t,i,e),t=t.child),t;case 16:r=t.elementType;e:{switch(Gx(n,t),n=t.pendingProps,i=r._init,r=i(r._payload),t.type=r,i=t.tag=Vie(r),n=fs(r,n),i){case 0:t=yF(null,t,r,n,e);break e;case 1:t=uH(null,t,r,n,e);break e;case 11:t=sH(null,t,r,n,e);break e;case 14:t=lH(null,t,r,fs(r.type,n),e);break e}throw Error(me(306,r,""))}return t;case 0:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:fs(r,i),yF(n,t,r,i,e);case 1:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:fs(r,i),uH(n,t,r,i,e);case 3:e:{if(jK(t),n===null)throw Error(me(387));r=t.pendingProps,o=t.memoizedState,i=o.element,pK(n,t),WE(t,r,null,e);var a=t.memoizedState;if(r=a.element,o.isDehydrated)if(o={element:r,isDehydrated:!1,cache:a.cache,pendingSuspenseBoundaries:a.pendingSuspenseBoundaries,transitions:a.transitions},t.updateQueue.baseState=o,t.memoizedState=o,t.flags&256){i=og(Error(me(423)),t),t=cH(n,t,r,e,i);break e}else if(r!==i){i=og(Error(me(424)),t),t=cH(n,t,r,e,i);break e}else for(qo=Sd(t.stateNode.containerInfo.firstChild),ea=t,_r=!0,ys=null,e=gK(t,null,r,e),t.child=e;e;)e.flags=e.flags&-3|4096,e=e.sibling;else{if(rg(),r===i){t=$u(n,t,e);break e}Si(n,t,r,e)}t=t.child}return t;case 5:return yK(t),n===null&&pF(t),r=t.type,i=t.pendingProps,o=n!==null?n.memoizedProps:null,a=i.children,sF(r,i)?a=null:o!==null&&sF(r,o)&&(t.flags|=32),HK(n,t),Si(n,t,a,e),t.child;case 6:return n===null&&pF(t),null;case 13:return $K(n,t,e);case 4:return k1(t,t.stateNode.containerInfo),r=t.pendingProps,n===null?t.child=ng(t,null,r,e):Si(n,t,r,e),t.child;case 11:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:fs(r,i),sH(n,t,r,i,e);case 7:return Si(n,t,t.pendingProps,e),t.child;case 8:return Si(n,t,t.pendingProps.children,e),t.child;case 12:return Si(n,t,t.pendingProps.children,e),t.child;case 10:e:{if(r=t.type._context,i=t.pendingProps,o=t.memoizedProps,a=i.value,dr(jE,r._currentValue),r._currentValue=a,o!==null)if(Ms(o.value,a)){if(o.children===i.children&&!lo.current){t=$u(n,t,e);break e}}else for(o=t.child,o!==null&&(o.return=t);o!==null;){var s=o.dependencies;if(s!==null){a=o.child;for(var l=s.firstContext;l!==null;){if(l.context===r){if(o.tag===1){l=Fu(-1,e&-e),l.tag=2;var u=o.updateQueue;if(u!==null){u=u.shared;var c=u.pending;c===null?l.next=l:(l.next=c.next,c.next=l),u.pending=l}}o.lanes|=e,l=o.alternate,l!==null&&(l.lanes|=e),hF(o.return,e,t),s.lanes|=e;break}l=l.next}}else if(o.tag===10)a=o.type===t.type?null:o.child;else if(o.tag===18){if(a=o.return,a===null)throw Error(me(341));a.lanes|=e,s=a.alternate,s!==null&&(s.lanes|=e),hF(a,e,t),a=o.sibling}else a=o.child;if(a!==null)a.return=o;else for(a=o;a!==null;){if(a===t){a=null;break}if(o=a.sibling,o!==null){o.return=a.return,a=o;break}a=a.return}o=a}Si(n,t,i.children,e),t=t.child}return t;case 9:return i=t.type,r=t.pendingProps.children,Fv(t,e),i=Wa(i),r=r(i),t.flags|=1,Si(n,t,r,e),t.child;case 14:return r=t.type,i=fs(r,t.pendingProps),i=fs(r.type,i),lH(n,t,r,i,e);case 15:return VK(n,t,t.type,t.pendingProps,e);case 17:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:fs(r,i),Gx(n,t),t.tag=1,uo(r)?(n=!0,VE(t)):n=!1,Fv(t,e),fK(t,r,i),vF(t,r,i,e),mF(null,t,r,!0,n,e);case 19:return WK(n,t,e);case 22:return BK(n,t,e)}throw Error(me(156,t.tag))};function a6(n,t){return M4(n,t)}function Gie(n,t,e,r){this.tag=n,this.key=e,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function La(n,t,e,r){return new Gie(n,t,e,r)}function Q1(n){return n=n.prototype,!(!n||!n.isReactComponent)}function Vie(n){if(typeof n=="function")return Q1(n)?1:0;if(n!=null){if(n=n.$$typeof,n===y1)return 11;if(n===m1)return 14}return 2}function Ed(n,t){var e=n.alternate;return e===null?(e=La(n.tag,t,n.key,n.mode),e.elementType=n.elementType,e.type=n.type,e.stateNode=n.stateNode,e.alternate=n,n.alternate=e):(e.pendingProps=t,e.type=n.type,e.flags=0,e.subtreeFlags=0,e.deletions=null),e.flags=n.flags&14680064,e.childLanes=n.childLanes,e.lanes=n.lanes,e.child=n.child,e.memoizedProps=n.memoizedProps,e.memoizedState=n.memoizedState,e.updateQueue=n.updateQueue,t=n.dependencies,e.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},e.sibling=n.sibling,e.index=n.index,e.ref=n.ref,e}function Hx(n,t,e,r,i,o){var a=2;if(r=n,typeof n=="function")Q1(n)&&(a=1);else if(typeof n=="string")a=5;else e:switch(n){case rv:return Sh(e.children,i,o,t);case g1:a=8,i|=8;break;case VM:return n=La(12,e,t,i|2),n.elementType=VM,n.lanes=o,n;case BM:return n=La(13,e,t,i),n.elementType=BM,n.lanes=o,n;case HM:return n=La(19,e,t,i),n.elementType=HM,n.lanes=o,n;case v4:return lR(e,i,o,t);default:if(typeof n=="object"&&n!==null)switch(n.$$typeof){case h4:a=10;break e;case f4:a=9;break e;case y1:a=11;break e;case m1:a=14;break e;case Yc:a=16,r=null;break e}throw Error(me(130,n==null?n:typeof n,""))}return t=La(a,e,t,i),t.elementType=n,t.type=r,t.lanes=o,t}function Sh(n,t,e,r){return n=La(7,n,r,t),n.lanes=e,n}function lR(n,t,e,r){return n=La(22,n,r,t),n.elementType=v4,n.lanes=e,n.stateNode={isHidden:!1},n}function ZP(n,t,e){return n=La(6,n,null,t),n.lanes=e,n}function QP(n,t,e){return t=La(4,n.children!==null?n.children:[],n.key,t),t.lanes=e,t.stateNode={containerInfo:n.containerInfo,pendingChildren:null,implementation:n.implementation},t}function Bie(n,t,e,r,i){this.tag=t,this.containerInfo=n,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=MP(0),this.expirationTimes=MP(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=MP(0),this.identifierPrefix=r,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function J1(n,t,e,r,i,o,a,s,l){return n=new Bie(n,t,e,s,l),t===1?(t=1,o===!0&&(t|=8)):t=0,o=La(3,null,null,t),n.current=o,o.stateNode=n,o.memoizedState={element:r,isDehydrated:e,cache:null,transitions:null,pendingSuspenseBoundaries:null},N1(o),n}function Hie(n,t,e){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:tv,key:r==null?null:""+r,children:n,containerInfo:t,implementation:e}}function s6(n){if(!n)return Nd;n=n._reactInternals;e:{if(Zh(n)!==n||n.tag!==1)throw Error(me(170));var t=n;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(uo(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(t!==null);throw Error(me(171))}if(n.tag===1){var e=n.type;if(uo(e))return aK(n,e,t)}return t}function l6(n,t,e,r,i,o,a,s,l){return n=J1(e,r,!0,n,i,o,a,s,l),n.context=s6(null),e=n.current,r=Ti(),i=xd(e),o=Fu(r,i),o.callback=t??null,wd(e,o,i),n.current.lanes=i,cw(n,i,r),co(n,r),n}function uR(n,t,e,r){var i=t.current,o=Ti(),a=xd(i);return e=s6(e),t.context===null?t.context=e:t.pendingContext=e,t=Fu(o,a),t.payload={element:n},r=r===void 0?null:r,r!==null&&(t.callback=r),n=wd(i,t,a),n!==null&&(Ts(n,i,a,o),Ix(n,i,a)),a}function QE(n){if(n=n.current,!n.child)return null;switch(n.child.tag){case 5:return n.child.stateNode;default:return n.child.stateNode}}function SH(n,t){if(n=n.memoizedState,n!==null&&n.dehydrated!==null){var e=n.retryLane;n.retryLane=e!==0&&e<t?e:t}}function eN(n,t){SH(n,t),(n=n.alternate)&&SH(n,t)}function jie(){return null}var u6=typeof reportError=="function"?reportError:function(n){console.error(n)};function tN(n){this._internalRoot=n}cR.prototype.render=tN.prototype.render=function(n){var t=this._internalRoot;if(t===null)throw Error(me(409));uR(n,t,null,null)};cR.prototype.unmount=tN.prototype.unmount=function(){var n=this._internalRoot;if(n!==null){this._internalRoot=null;var t=n.containerInfo;kh(function(){uR(null,n,null,null)}),t[Hu]=null}};function cR(n){this._internalRoot=n}cR.prototype.unstable_scheduleHydration=function(n){if(n){var t=V4();n={blockedOn:null,target:n,priority:t};for(var e=0;e<td.length&&t!==0&&t<td[e].priority;e++);td.splice(e,0,n),e===0&&H4(n)}};function rN(n){return!(!n||n.nodeType!==1&&n.nodeType!==9&&n.nodeType!==11)}function dR(n){return!(!n||n.nodeType!==1&&n.nodeType!==9&&n.nodeType!==11&&(n.nodeType!==8||n.nodeValue!==" react-mount-point-unstable "))}function wH(){}function $ie(n,t,e,r,i){if(i){if(typeof r=="function"){var o=r;r=function(){var u=QE(a);o.call(u)}}var a=l6(t,r,n,0,null,!1,!1,"",wH);return n._reactRootContainer=a,n[Hu]=a.current,eS(n.nodeType===8?n.parentNode:n),kh(),a}for(;i=n.lastChild;)n.removeChild(i);if(typeof r=="function"){var s=r;r=function(){var u=QE(l);s.call(u)}}var l=J1(n,0,!1,null,null,!1,!1,"",wH);return n._reactRootContainer=l,n[Hu]=l.current,eS(n.nodeType===8?n.parentNode:n),kh(function(){uR(t,l,e,r)}),l}function pR(n,t,e,r,i){var o=e._reactRootContainer;if(o){var a=o;if(typeof i=="function"){var s=i;i=function(){var l=QE(a);s.call(l)}}uR(t,a,n,i)}else a=$ie(e,t,n,i,r);return QE(a)}k4=function(n){switch(n.tag){case 3:var t=n.stateNode;if(t.current.memoizedState.isDehydrated){var e=Dm(t.pendingLanes);e!==0&&(w1(t,e|1),co(t,Br()),!(Nt&6)&&(ag=Br()+500,Yd()))}break;case 13:kh(function(){var r=ju(n,1);if(r!==null){var i=Ti();Ts(r,n,1,i)}}),eN(n,1)}};_1=function(n){if(n.tag===13){var t=ju(n,134217728);if(t!==null){var e=Ti();Ts(t,n,134217728,e)}eN(n,134217728)}};G4=function(n){if(n.tag===13){var t=xd(n),e=ju(n,t);if(e!==null){var r=Ti();Ts(e,n,t,r)}eN(n,t)}};V4=function(){return Zt};B4=function(n,t){var e=Zt;try{return Zt=n,t()}finally{Zt=e}};ZM=function(n,t,e){switch(t){case"input":if(WM(n,e),t=e.name,e.type==="radio"&&t!=null){for(e=n;e.parentNode;)e=e.parentNode;for(e=e.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<e.length;t++){var r=e[t];if(r!==n&&r.form===n.form){var i=rR(r);if(!i)throw Error(me(90));y4(r),WM(r,i)}}}break;case"textarea":C4(n,e);break;case"select":t=e.value,t!=null&&Pv(n,!!e.multiple,t,!1)}};O4=X1;R4=kh;var Wie={usingClientEntryPoint:!1,Events:[pw,av,rR,E4,b4,X1]},yy={findFiberByHostInstance:ih,bundleType:0,version:"18.2.0",rendererPackageName:"react-dom"},Uie={bundleType:yy.bundleType,version:yy.version,rendererPackageName:yy.rendererPackageName,rendererConfig:yy.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:sc.ReactCurrentDispatcher,findHostInstanceByFiber:function(n){return n=A4(n),n===null?null:n.stateNode},findFiberByHostInstance:yy.findFiberByHostInstance||jie,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.2.0-next-9e3b772b8-20220608"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var F0=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!F0.isDisabled&&F0.supportsFiber)try{QO=F0.inject(Uie),kl=F0}catch{}}la.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Wie;la.createPortal=function(n,t){var e=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!rN(t))throw Error(me(200));return Hie(n,t,null,e)};la.createRoot=function(n,t){if(!rN(n))throw Error(me(299));var e=!1,r="",i=u6;return t!=null&&(t.unstable_strictMode===!0&&(e=!0),t.identifierPrefix!==void 0&&(r=t.identifierPrefix),t.onRecoverableError!==void 0&&(i=t.onRecoverableError)),t=J1(n,1,!1,null,null,e,!1,r,i),n[Hu]=t.current,eS(n.nodeType===8?n.parentNode:n),new tN(t)};la.findDOMNode=function(n){if(n==null)return null;if(n.nodeType===1)return n;var t=n._reactInternals;if(t===void 0)throw typeof n.render=="function"?Error(me(188)):(n=Object.keys(n).join(","),Error(me(268,n)));return n=A4(t),n=n===null?null:n.stateNode,n};la.flushSync=function(n){return kh(n)};la.hydrate=function(n,t,e){if(!dR(t))throw Error(me(200));return pR(null,n,t,!0,e)};la.hydrateRoot=function(n,t,e){if(!rN(n))throw Error(me(405));var r=e!=null&&e.hydratedSources||null,i=!1,o="",a=u6;if(e!=null&&(e.unstable_strictMode===!0&&(i=!0),e.identifierPrefix!==void 0&&(o=e.identifierPrefix),e.onRecoverableError!==void 0&&(a=e.onRecoverableError)),t=l6(t,null,n,1,e??null,i,!1,o,a),n[Hu]=t.current,eS(n),r)for(n=0;n<r.length;n++)e=r[n],i=e._getVersion,i=i(e._source),t.mutableSourceEagerHydrationData==null?t.mutableSourceEagerHydrationData=[e,i]:t.mutableSourceEagerHydrationData.push(e,i);return new cR(t)};la.render=function(n,t,e){if(!dR(t))throw Error(me(200));return pR(null,n,t,!1,e)};la.unmountComponentAtNode=function(n){if(!dR(n))throw Error(me(40));return n._reactRootContainer?(kh(function(){pR(null,null,n,!1,function(){n._reactRootContainer=null,n[Hu]=null})}),!0):!1};la.unstable_batchedUpdates=X1;la.unstable_renderSubtreeIntoContainer=function(n,t,e,r){if(!dR(e))throw Error(me(200));if(n==null||n._reactInternals===void 0)throw Error(me(38));return pR(n,t,e,!1,r)};la.version="18.2.0-next-9e3b772b8-20220608";function c6(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(c6)}catch(n){console.error(n)}}c6(),l4.exports=la;var Qh=l4.exports;const L0=l1(Qh);var _H=Qh;kM.createRoot=_H.createRoot,kM.hydrateRoot=_H.hydrateRoot;/**
 * @remix-run/router v1.15.2
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function JE(){return JE=Object.assign?Object.assign.bind():function(n){for(var t=1;t<arguments.length;t++){var e=arguments[t];for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(n[r]=e[r])}return n},JE.apply(this,arguments)}var ld;(function(n){n.Pop="POP",n.Push="PUSH",n.Replace="REPLACE"})(ld||(ld={}));const xH="popstate";function zie(n){n===void 0&&(n={});function t(i,o){let{pathname:a="/",search:s="",hash:l=""}=fw(i.location.hash.substr(1));return!a.startsWith("/")&&!a.startsWith(".")&&(a="/"+a),AF("",{pathname:a,search:s,hash:l},o.state&&o.state.usr||null,o.state&&o.state.key||"default")}function e(i,o){let a=i.document.querySelector("base"),s="";if(a&&a.getAttribute("href")){let l=i.location.href,u=l.indexOf("#");s=u===-1?l:l.slice(0,u)}return s+"#"+(typeof o=="string"?o:d6(o))}function r(i,o){nN(i.pathname.charAt(0)==="/","relative pathnames are not supported in hash history.push("+JSON.stringify(o)+")")}return Yie(t,e,r,n)}function fo(n,t){if(n===!1||n===null||typeof n>"u")throw new Error(t)}function nN(n,t){if(!n){typeof console<"u"&&console.warn(t);try{throw new Error(t)}catch{}}}function Kie(){return Math.random().toString(36).substr(2,8)}function EH(n,t){return{usr:n.state,key:n.key,idx:t}}function AF(n,t,e,r){return e===void 0&&(e=null),JE({pathname:typeof n=="string"?n:n.pathname,search:"",hash:""},typeof t=="string"?fw(t):t,{state:e,key:t&&t.key||r||Kie()})}function d6(n){let{pathname:t="/",search:e="",hash:r=""}=n;return e&&e!=="?"&&(t+=e.charAt(0)==="?"?e:"?"+e),r&&r!=="#"&&(t+=r.charAt(0)==="#"?r:"#"+r),t}function fw(n){let t={};if(n){let e=n.indexOf("#");e>=0&&(t.hash=n.substr(e),n=n.substr(0,e));let r=n.indexOf("?");r>=0&&(t.search=n.substr(r),n=n.substr(0,r)),n&&(t.pathname=n)}return t}function Yie(n,t,e,r){r===void 0&&(r={});let{window:i=document.defaultView,v5Compat:o=!1}=r,a=i.history,s=ld.Pop,l=null,u=c();u==null&&(u=0,a.replaceState(JE({},a.state,{idx:u}),""));function c(){return(a.state||{idx:null}).idx}function d(){s=ld.Pop;let g=c(),y=g==null?null:g-u;u=g,l&&l({action:s,location:v.location,delta:y})}function p(g,y){s=ld.Push;let m=AF(v.location,g,y);e&&e(m,g),u=c()+1;let C=EH(m,u),S=v.createHref(m);try{a.pushState(C,"",S)}catch(w){if(w instanceof DOMException&&w.name==="DataCloneError")throw w;i.location.assign(S)}o&&l&&l({action:s,location:v.location,delta:1})}function h(g,y){s=ld.Replace;let m=AF(v.location,g,y);e&&e(m,g),u=c();let C=EH(m,u),S=v.createHref(m);a.replaceState(C,"",S),o&&l&&l({action:s,location:v.location,delta:0})}function f(g){let y=i.location.origin!=="null"?i.location.origin:i.location.href,m=typeof g=="string"?g:d6(g);return m=m.replace(/ $/,"%20"),fo(y,"No window.location.(origin|href) available to create URL for href: "+m),new URL(m,y)}let v={get action(){return s},get location(){return n(i,a)},listen(g){if(l)throw new Error("A history only accepts one active listener");return i.addEventListener(xH,d),l=g,()=>{i.removeEventListener(xH,d),l=null}},createHref(g){return t(i,g)},createURL:f,encodeLocation(g){let y=f(g);return{pathname:y.pathname,search:y.search,hash:y.hash}},push:p,replace:h,go(g){return a.go(g)}};return v}var bH;(function(n){n.data="data",n.deferred="deferred",n.redirect="redirect",n.error="error"})(bH||(bH={}));function Xie(n,t,e){e===void 0&&(e="/");let r=typeof t=="string"?fw(t):t,i=f6(r.pathname||"/",e);if(i==null)return null;let o=p6(n);qie(o);let a=null;for(let s=0;a==null&&s<o.length;++s){let l=loe(i);a=ooe(o[s],l)}return a}function p6(n,t,e,r){t===void 0&&(t=[]),e===void 0&&(e=[]),r===void 0&&(r="");let i=(o,a,s)=>{let l={relativePath:s===void 0?o.path||"":s,caseSensitive:o.caseSensitive===!0,childrenIndex:a,route:o};l.relativePath.startsWith("/")&&(fo(l.relativePath.startsWith(r),'Absolute route path "'+l.relativePath+'" nested under path '+('"'+r+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),l.relativePath=l.relativePath.slice(r.length));let u=Iv([r,l.relativePath]),c=e.concat(l);o.children&&o.children.length>0&&(fo(o.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+u+'".')),p6(o.children,t,c,u)),!(o.path==null&&!o.index)&&t.push({path:u,score:noe(u,o.index),routesMeta:c})};return n.forEach((o,a)=>{var s;if(o.path===""||!((s=o.path)!=null&&s.includes("?")))i(o,a);else for(let l of h6(o.path))i(o,a,l)}),t}function h6(n){let t=n.split("/");if(t.length===0)return[];let[e,...r]=t,i=e.endsWith("?"),o=e.replace(/\?$/,"");if(r.length===0)return i?[o,""]:[o];let a=h6(r.join("/")),s=[];return s.push(...a.map(l=>l===""?o:[o,l].join("/"))),i&&s.push(...a),s.map(l=>n.startsWith("/")&&l===""?"/":l)}function qie(n){n.sort((t,e)=>t.score!==e.score?e.score-t.score:ioe(t.routesMeta.map(r=>r.childrenIndex),e.routesMeta.map(r=>r.childrenIndex)))}const Zie=/^:[\w-]+$/,Qie=3,Jie=2,eoe=1,toe=10,roe=-2,OH=n=>n==="*";function noe(n,t){let e=n.split("/"),r=e.length;return e.some(OH)&&(r+=roe),t&&(r+=Jie),e.filter(i=>!OH(i)).reduce((i,o)=>i+(Zie.test(o)?Qie:o===""?eoe:toe),r)}function ioe(n,t){return n.length===t.length&&n.slice(0,-1).every((r,i)=>r===t[i])?n[n.length-1]-t[t.length-1]:0}function ooe(n,t){let{routesMeta:e}=n,r={},i="/",o=[];for(let a=0;a<e.length;++a){let s=e[a],l=a===e.length-1,u=i==="/"?t:t.slice(i.length)||"/",c=aoe({path:s.relativePath,caseSensitive:s.caseSensitive,end:l},u);if(!c)return null;Object.assign(r,c.params);let d=s.route;o.push({params:r,pathname:Iv([i,c.pathname]),pathnameBase:uoe(Iv([i,c.pathnameBase])),route:d}),c.pathnameBase!=="/"&&(i=Iv([i,c.pathnameBase]))}return o}function aoe(n,t){typeof n=="string"&&(n={path:n,caseSensitive:!1,end:!0});let[e,r]=soe(n.path,n.caseSensitive,n.end),i=t.match(e);if(!i)return null;let o=i[0],a=o.replace(/(.)\/+$/,"$1"),s=i.slice(1);return{params:r.reduce((u,c,d)=>{let{paramName:p,isOptional:h}=c;if(p==="*"){let v=s[d]||"";a=o.slice(0,o.length-v.length).replace(/(.)\/+$/,"$1")}const f=s[d];return h&&!f?u[p]=void 0:u[p]=(f||"").replace(/%2F/g,"/"),u},{}),pathname:o,pathnameBase:a,pattern:n}}function soe(n,t,e){t===void 0&&(t=!1),e===void 0&&(e=!0),nN(n==="*"||!n.endsWith("*")||n.endsWith("/*"),'Route path "'+n+'" will be treated as if it were '+('"'+n.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+n.replace(/\*$/,"/*")+'".'));let r=[],i="^"+n.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(a,s,l)=>(r.push({paramName:s,isOptional:l!=null}),l?"/?([^\\/]+)?":"/([^\\/]+)"));return n.endsWith("*")?(r.push({paramName:"*"}),i+=n==="*"||n==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):e?i+="\\/*$":n!==""&&n!=="/"&&(i+="(?:(?=\\/|$))"),[new RegExp(i,t?void 0:"i"),r]}function loe(n){try{return n.split("/").map(t=>decodeURIComponent(t).replace(/\//g,"%2F")).join("/")}catch(t){return nN(!1,'The URL path "'+n+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+t+").")),n}}function f6(n,t){if(t==="/")return n;if(!n.toLowerCase().startsWith(t.toLowerCase()))return null;let e=t.endsWith("/")?t.length-1:t.length,r=n.charAt(e);return r&&r!=="/"?null:n.slice(e)||"/"}const Iv=n=>n.join("/").replace(/\/\/+/g,"/"),uoe=n=>n.replace(/\/+$/,"").replace(/^\/*/,"/");function coe(n){return n!=null&&typeof n.status=="number"&&typeof n.statusText=="string"&&typeof n.internal=="boolean"&&"data"in n}const v6=["post","put","patch","delete"];new Set(v6);const doe=["get",...v6];new Set(doe);/**
 * React Router v6.22.2
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function eb(){return eb=Object.assign?Object.assign.bind():function(n){for(var t=1;t<arguments.length;t++){var e=arguments[t];for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(n[r]=e[r])}return n},eb.apply(this,arguments)}const poe=I.createContext(null),hoe=I.createContext(null),g6=I.createContext(null),hR=I.createContext(null),vw=I.createContext({outlet:null,matches:[],isDataRoute:!1}),y6=I.createContext(null);function iN(){return I.useContext(hR)!=null}function m6(){return iN()||fo(!1),I.useContext(hR).location}function foe(){let{matches:n}=I.useContext(vw),t=n[n.length-1];return t?t.params:{}}function voe(n,t){return goe(n,t)}function goe(n,t,e,r){iN()||fo(!1);let{navigator:i}=I.useContext(g6),{matches:o}=I.useContext(vw),a=o[o.length-1],s=a?a.params:{};a&&a.pathname;let l=a?a.pathnameBase:"/";a&&a.route;let u=m6(),c;if(t){var d;let g=typeof t=="string"?fw(t):t;l==="/"||(d=g.pathname)!=null&&d.startsWith(l)||fo(!1),c=g}else c=u;let p=c.pathname||"/",h=p;if(l!=="/"){let g=l.replace(/^\//,"").split("/");h="/"+p.replace(/^\//,"").split("/").slice(g.length).join("/")}let f=Xie(n,{pathname:h}),v=woe(f&&f.map(g=>Object.assign({},g,{params:Object.assign({},s,g.params),pathname:Iv([l,i.encodeLocation?i.encodeLocation(g.pathname).pathname:g.pathname]),pathnameBase:g.pathnameBase==="/"?l:Iv([l,i.encodeLocation?i.encodeLocation(g.pathnameBase).pathname:g.pathnameBase])})),o,e,r);return t&&v?I.createElement(hR.Provider,{value:{location:eb({pathname:"/",search:"",hash:"",state:null,key:"default"},c),navigationType:ld.Pop}},v):v}function yoe(){let n=boe(),t=coe(n)?n.status+" "+n.statusText:n instanceof Error?n.message:JSON.stringify(n),e=n instanceof Error?n.stack:null,i={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return I.createElement(I.Fragment,null,I.createElement("h2",null,"Unexpected Application Error!"),I.createElement("h3",{style:{fontStyle:"italic"}},t),e?I.createElement("pre",{style:i},e):null,null)}const moe=I.createElement(yoe,null);class Coe extends I.Component{constructor(t){super(t),this.state={location:t.location,revalidation:t.revalidation,error:t.error}}static getDerivedStateFromError(t){return{error:t}}static getDerivedStateFromProps(t,e){return e.location!==t.location||e.revalidation!=="idle"&&t.revalidation==="idle"?{error:t.error,location:t.location,revalidation:t.revalidation}:{error:t.error!==void 0?t.error:e.error,location:e.location,revalidation:t.revalidation||e.revalidation}}componentDidCatch(t,e){console.error("React Router caught the following error during render",t,e)}render(){return this.state.error!==void 0?I.createElement(vw.Provider,{value:this.props.routeContext},I.createElement(y6.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function Soe(n){let{routeContext:t,match:e,children:r}=n,i=I.useContext(poe);return i&&i.static&&i.staticContext&&(e.route.errorElement||e.route.ErrorBoundary)&&(i.staticContext._deepestRenderedBoundaryId=e.route.id),I.createElement(vw.Provider,{value:t},r)}function woe(n,t,e,r){var i;if(t===void 0&&(t=[]),e===void 0&&(e=null),r===void 0&&(r=null),n==null){var o;if((o=e)!=null&&o.errors)n=e.matches;else return null}let a=n,s=(i=e)==null?void 0:i.errors;if(s!=null){let c=a.findIndex(d=>d.route.id&&(s==null?void 0:s[d.route.id]));c>=0||fo(!1),a=a.slice(0,Math.min(a.length,c+1))}let l=!1,u=-1;if(e&&r&&r.v7_partialHydration)for(let c=0;c<a.length;c++){let d=a[c];if((d.route.HydrateFallback||d.route.hydrateFallbackElement)&&(u=c),d.route.id){let{loaderData:p,errors:h}=e,f=d.route.loader&&p[d.route.id]===void 0&&(!h||h[d.route.id]===void 0);if(d.route.lazy||f){l=!0,u>=0?a=a.slice(0,u+1):a=[a[0]];break}}}return a.reduceRight((c,d,p)=>{let h,f=!1,v=null,g=null;e&&(h=s&&d.route.id?s[d.route.id]:void 0,v=d.route.errorElement||moe,l&&(u<0&&p===0?(Ooe("route-fallback",!1),f=!0,g=null):u===p&&(f=!0,g=d.route.hydrateFallbackElement||null)));let y=t.concat(a.slice(0,p+1)),m=()=>{let C;return h?C=v:f?C=g:d.route.Component?C=I.createElement(d.route.Component,null):d.route.element?C=d.route.element:C=c,I.createElement(Soe,{match:d,routeContext:{outlet:c,matches:y,isDataRoute:e!=null},children:C})};return e&&(d.route.ErrorBoundary||d.route.errorElement||p===0)?I.createElement(Coe,{location:e.location,revalidation:e.revalidation,component:v,error:h,children:m(),routeContext:{outlet:null,matches:y,isDataRoute:!0}}):m()},null)}var DF=function(n){return n.UseBlocker="useBlocker",n.UseLoaderData="useLoaderData",n.UseActionData="useActionData",n.UseRouteError="useRouteError",n.UseNavigation="useNavigation",n.UseRouteLoaderData="useRouteLoaderData",n.UseMatches="useMatches",n.UseRevalidator="useRevalidator",n.UseNavigateStable="useNavigate",n.UseRouteId="useRouteId",n}(DF||{});function _oe(n){let t=I.useContext(hoe);return t||fo(!1),t}function xoe(n){let t=I.useContext(vw);return t||fo(!1),t}function Eoe(n){let t=xoe(),e=t.matches[t.matches.length-1];return e.route.id||fo(!1),e.route.id}function boe(){var n;let t=I.useContext(y6),e=_oe(DF.UseRouteError),r=Eoe(DF.UseRouteError);return t!==void 0?t:(n=e.errors)==null?void 0:n[r]}const RH={};function Ooe(n,t,e){!t&&!RH[n]&&(RH[n]=!0)}function MF(n){fo(!1)}function Roe(n){let{basename:t="/",children:e=null,location:r,navigationType:i=ld.Pop,navigator:o,static:a=!1,future:s}=n;iN()&&fo(!1);let l=t.replace(/^\/*/,"/"),u=I.useMemo(()=>({basename:l,navigator:o,static:a,future:eb({v7_relativeSplatPath:!1},s)}),[l,s,o,a]);typeof r=="string"&&(r=fw(r));let{pathname:c="/",search:d="",hash:p="",state:h=null,key:f="default"}=r,v=I.useMemo(()=>{let g=f6(c,l);return g==null?null:{location:{pathname:g,search:d,hash:p,state:h,key:f},navigationType:i}},[l,c,d,p,h,f,i]);return v==null?null:I.createElement(g6.Provider,{value:u},I.createElement(hR.Provider,{children:e,value:v}))}function Toe(n){let{children:t,location:e}=n;return voe(FF(t),e)}new Promise(()=>{});function FF(n,t){t===void 0&&(t=[]);let e=[];return I.Children.forEach(n,(r,i)=>{if(!I.isValidElement(r))return;let o=[...t,i];if(r.type===I.Fragment){e.push.apply(e,FF(r.props.children,o));return}r.type!==MF&&fo(!1),!r.props.index||!r.props.children||fo(!1);let a={id:r.props.id||o.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,Component:r.props.Component,index:r.props.index,path:r.props.path,loader:r.props.loader,action:r.props.action,errorElement:r.props.errorElement,ErrorBoundary:r.props.ErrorBoundary,hasErrorBoundary:r.props.ErrorBoundary!=null||r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle,lazy:r.props.lazy};r.props.children&&(a.children=FF(r.props.children,o)),e.push(a)}),e}/**
 * React Router DOM v6.22.2
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */const Poe="6";try{window.__reactRouterVersion=Poe}catch{}const Aoe="startTransition",TH=TE[Aoe];function Doe(n){let{basename:t,children:e,future:r,window:i}=n,o=I.useRef();o.current==null&&(o.current=zie({window:i,v5Compat:!0}));let a=o.current,[s,l]=I.useState({action:a.action,location:a.location}),{v7_startTransition:u}=r||{},c=I.useCallback(d=>{u&&TH?TH(()=>l(d)):l(d)},[l,u]);return I.useLayoutEffect(()=>a.listen(c),[a,c]),I.createElement(Roe,{basename:t,children:e,location:s.location,navigationType:s.action,navigator:a,future:r})}var PH;(function(n){n.UseScrollRestoration="useScrollRestoration",n.UseSubmit="useSubmit",n.UseSubmitFetcher="useSubmitFetcher",n.UseFetcher="useFetcher",n.useViewTransitionState="useViewTransitionState"})(PH||(PH={}));var AH;(function(n){n.UseFetcher="useFetcher",n.UseFetchers="useFetchers",n.UseScrollRestoration="useScrollRestoration"})(AH||(AH={}));var oN={},C6={exports:{}};(function(n){function t(e){return e&&e.__esModule?e:{default:e}}n.exports=t,n.exports.__esModule=!0,n.exports.default=n.exports})(C6);var gw=C6.exports,JP={};function k(){return k=Object.assign?Object.assign.bind():function(n){for(var t=1;t<arguments.length;t++){var e=arguments[t];for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(n[r]=e[r])}return n},k.apply(this,arguments)}function nd(n){if(typeof n!="object"||n===null)return!1;const t=Object.getPrototypeOf(n);return(t===null||t===Object.prototype||Object.getPrototypeOf(t)===null)&&!(Symbol.toStringTag in n)&&!(Symbol.iterator in n)}function S6(n){if(!nd(n))return n;const t={};return Object.keys(n).forEach(e=>{t[e]=S6(n[e])}),t}function ta(n,t,e={clone:!0}){const r=e.clone?k({},n):n;return nd(n)&&nd(t)&&Object.keys(t).forEach(i=>{i!=="__proto__"&&(nd(t[i])&&i in n&&nd(n[i])?r[i]=ta(n[i],t[i],e):e.clone?r[i]=nd(t[i])?S6(t[i]):t[i]:r[i]=t[i])}),r}const Moe=Object.freeze(Object.defineProperty({__proto__:null,default:ta,isPlainObject:nd},Symbol.toStringTag,{value:"Module"}));var w6={exports:{}},Foe="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED",Loe=Foe,Ioe=Loe;function _6(){}function x6(){}x6.resetWarningCache=_6;var Noe=function(){function n(r,i,o,a,s,l){if(l!==Ioe){var u=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw u.name="Invariant Violation",u}}n.isRequired=n;function t(){return n}var e={array:n,bigint:n,bool:n,func:n,number:n,object:n,string:n,symbol:n,any:n,arrayOf:t,element:n,elementType:n,instanceOf:t,node:n,objectOf:t,oneOf:t,oneOfType:t,shape:t,exact:t,checkPropTypes:x6,resetWarningCache:_6};return e.PropTypes=e,e};w6.exports=Noe();var koe=w6.exports;const Xe=l1(koe);function Gh(n){let t="https://mui.com/production-error/?code="+n;for(let e=1;e<arguments.length;e+=1)t+="&args[]="+encodeURIComponent(arguments[e]);return"Minified MUI error #"+n+"; visit "+t+" for the full message."}const Goe=Object.freeze(Object.defineProperty({__proto__:null,default:Gh},Symbol.toStringTag,{value:"Module"}));var E6={exports:{}},Jt={};/**
 * @license React
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var aN=Symbol.for("react.element"),sN=Symbol.for("react.portal"),fR=Symbol.for("react.fragment"),vR=Symbol.for("react.strict_mode"),gR=Symbol.for("react.profiler"),yR=Symbol.for("react.provider"),mR=Symbol.for("react.context"),Voe=Symbol.for("react.server_context"),CR=Symbol.for("react.forward_ref"),SR=Symbol.for("react.suspense"),wR=Symbol.for("react.suspense_list"),_R=Symbol.for("react.memo"),xR=Symbol.for("react.lazy"),Boe=Symbol.for("react.offscreen"),b6;b6=Symbol.for("react.module.reference");function Qa(n){if(typeof n=="object"&&n!==null){var t=n.$$typeof;switch(t){case aN:switch(n=n.type,n){case fR:case gR:case vR:case SR:case wR:return n;default:switch(n=n&&n.$$typeof,n){case Voe:case mR:case CR:case xR:case _R:case yR:return n;default:return t}}case sN:return t}}}Jt.ContextConsumer=mR;Jt.ContextProvider=yR;Jt.Element=aN;Jt.ForwardRef=CR;Jt.Fragment=fR;Jt.Lazy=xR;Jt.Memo=_R;Jt.Portal=sN;Jt.Profiler=gR;Jt.StrictMode=vR;Jt.Suspense=SR;Jt.SuspenseList=wR;Jt.isAsyncMode=function(){return!1};Jt.isConcurrentMode=function(){return!1};Jt.isContextConsumer=function(n){return Qa(n)===mR};Jt.isContextProvider=function(n){return Qa(n)===yR};Jt.isElement=function(n){return typeof n=="object"&&n!==null&&n.$$typeof===aN};Jt.isForwardRef=function(n){return Qa(n)===CR};Jt.isFragment=function(n){return Qa(n)===fR};Jt.isLazy=function(n){return Qa(n)===xR};Jt.isMemo=function(n){return Qa(n)===_R};Jt.isPortal=function(n){return Qa(n)===sN};Jt.isProfiler=function(n){return Qa(n)===gR};Jt.isStrictMode=function(n){return Qa(n)===vR};Jt.isSuspense=function(n){return Qa(n)===SR};Jt.isSuspenseList=function(n){return Qa(n)===wR};Jt.isValidElementType=function(n){return typeof n=="string"||typeof n=="function"||n===fR||n===gR||n===vR||n===SR||n===wR||n===Boe||typeof n=="object"&&n!==null&&(n.$$typeof===xR||n.$$typeof===_R||n.$$typeof===yR||n.$$typeof===mR||n.$$typeof===CR||n.$$typeof===b6||n.getModuleId!==void 0)};Jt.typeOf=Qa;E6.exports=Jt;var DH=E6.exports;const Hoe=/^\s*function(?:\s|\s*\/\*.*\*\/\s*)+([^(\s/]*)\s*/;function O6(n){const t=`${n}`.match(Hoe);return t&&t[1]||""}function R6(n,t=""){return n.displayName||n.name||O6(n)||t}function MH(n,t,e){const r=R6(t);return n.displayName||(r!==""?`${e}(${r})`:e)}function joe(n){if(n!=null){if(typeof n=="string")return n;if(typeof n=="function")return R6(n,"Component");if(typeof n=="object")switch(n.$$typeof){case DH.ForwardRef:return MH(n,n.render,"ForwardRef");case DH.Memo:return MH(n,n.type,"memo");default:return}}}const $oe=Object.freeze(Object.defineProperty({__proto__:null,default:joe,getFunctionName:O6},Symbol.toStringTag,{value:"Module"}));function Be(n){if(typeof n!="string")throw new Error(Gh(7));return n.charAt(0).toUpperCase()+n.slice(1)}const Woe=Object.freeze(Object.defineProperty({__proto__:null,default:Be},Symbol.toStringTag,{value:"Module"}));function LF(...n){return n.reduce((t,e)=>e==null?t:function(...i){t.apply(this,i),e.apply(this,i)},()=>{})}function lN(n,t=166){let e;function r(...i){const o=()=>{n.apply(this,i)};clearTimeout(e),e=setTimeout(o,t)}return r.clear=()=>{clearTimeout(e)},r}function Uoe(n,t){return()=>null}function jx(n,t){var e,r;return I.isValidElement(n)&&t.indexOf((e=n.type.muiName)!=null?e:(r=n.type)==null||(r=r._payload)==null||(r=r.value)==null?void 0:r.muiName)!==-1}function di(n){return n&&n.ownerDocument||document}function Wu(n){return di(n).defaultView||window}function zoe(n,t){return()=>null}function tb(n,t){typeof n=="function"?n(t):n&&(n.current=t)}const Koe=typeof window<"u"?I.useLayoutEffect:I.useEffect,ia=Koe;let FH=0;function Yoe(n){const[t,e]=I.useState(n),r=n||t;return I.useEffect(()=>{t==null&&(FH+=1,e(`mui-${FH}`))},[t]),r}const LH=TE.useId;function yw(n){if(LH!==void 0){const t=LH();return n??t}return Yoe(n)}function Xoe(n,t,e,r,i){return null}function rb({controlled:n,default:t,name:e,state:r="value"}){const{current:i}=I.useRef(n!==void 0),[o,a]=I.useState(t),s=i?n:o,l=I.useCallback(u=>{i||a(u)},[]);return[s,l]}function sh(n){const t=I.useRef(n);return ia(()=>{t.current=n}),I.useRef((...e)=>(0,t.current)(...e)).current}function nn(...n){return I.useMemo(()=>n.every(t=>t==null)?null:t=>{n.forEach(e=>{tb(e,t)})},n)}const IH={};function qoe(n,t){const e=I.useRef(IH);return e.current===IH&&(e.current=n(t)),e}const Zoe=[];function Qoe(n){I.useEffect(n,Zoe)}class ER{constructor(){this.currentId=null,this.clear=()=>{this.currentId!==null&&(clearTimeout(this.currentId),this.currentId=null)},this.disposeEffect=()=>this.clear}static create(){return new ER}start(t,e){this.clear(),this.currentId=setTimeout(()=>{this.currentId=null,e()},t)}}function uN(){const n=qoe(ER.create).current;return Qoe(n.disposeEffect),n}let bR=!0,IF=!1;const Joe=new ER,eae={text:!0,search:!0,url:!0,tel:!0,email:!0,password:!0,number:!0,date:!0,month:!0,week:!0,time:!0,datetime:!0,"datetime-local":!0};function tae(n){const{type:t,tagName:e}=n;return!!(e==="INPUT"&&eae[t]&&!n.readOnly||e==="TEXTAREA"&&!n.readOnly||n.isContentEditable)}function rae(n){n.metaKey||n.altKey||n.ctrlKey||(bR=!0)}function eA(){bR=!1}function nae(){this.visibilityState==="hidden"&&IF&&(bR=!0)}function iae(n){n.addEventListener("keydown",rae,!0),n.addEventListener("mousedown",eA,!0),n.addEventListener("pointerdown",eA,!0),n.addEventListener("touchstart",eA,!0),n.addEventListener("visibilitychange",nae,!0)}function oae(n){const{target:t}=n;try{return t.matches(":focus-visible")}catch{}return bR||tae(t)}function T6(){const n=I.useCallback(i=>{i!=null&&iae(i.ownerDocument)},[]),t=I.useRef(!1);function e(){return t.current?(IF=!0,Joe.start(100,()=>{IF=!1}),t.current=!1,!0):!1}function r(i){return oae(i)?(t.current=!0,!0):!1}return{isFocusVisibleRef:t,onFocus:r,onBlur:e,ref:n}}function P6(n){const t=n.documentElement.clientWidth;return Math.abs(window.innerWidth-t)}function aae(n){return I.Children.toArray(n).filter(t=>I.isValidElement(t))}function cN(n,t){const e=k({},t);return Object.keys(n).forEach(r=>{if(r.toString().match(/^(components|slots)$/))e[r]=k({},n[r],e[r]);else if(r.toString().match(/^(componentsProps|slotProps)$/)){const i=n[r]||{},o=t[r];e[r]={},!o||!Object.keys(o)?e[r]=i:!i||!Object.keys(i)?e[r]=o:(e[r]=k({},o),Object.keys(i).forEach(a=>{e[r][a]=cN(i[a],o[a])}))}else e[r]===void 0&&(e[r]=n[r])}),e}function nt(n,t,e=void 0){const r={};return Object.keys(n).forEach(i=>{r[i]=n[i].reduce((o,a)=>{if(a){const s=t(a);s!==""&&o.push(s),e&&e[a]&&o.push(e[a])}return o},[]).join(" ")}),r}const NH=n=>n,sae=()=>{let n=NH;return{configure(t){n=t},generate(t){return n(t)},reset(){n=NH}}},dN=sae(),A6={active:"active",checked:"checked",completed:"completed",disabled:"disabled",error:"error",expanded:"expanded",focused:"focused",focusVisible:"focusVisible",open:"open",readOnly:"readOnly",required:"required",selected:"selected"};function at(n,t,e="Mui"){const r=A6[t];return r?`${e}-${r}`:`${dN.generate(n)}-${t}`}function it(n,t,e="Mui"){const r={};return t.forEach(i=>{r[i]=at(n,i,e)}),r}function lae(n,t=Number.MIN_SAFE_INTEGER,e=Number.MAX_SAFE_INTEGER){return Math.max(t,Math.min(n,e))}const uae=Object.freeze(Object.defineProperty({__proto__:null,default:lae},Symbol.toStringTag,{value:"Module"}));function _e(n,t){if(n==null)return{};var e={},r=Object.keys(n),i,o;for(o=0;o<r.length;o++)i=r[o],!(t.indexOf(i)>=0)&&(e[i]=n[i]);return e}function D6(n){var t,e,r="";if(typeof n=="string"||typeof n=="number")r+=n;else if(typeof n=="object")if(Array.isArray(n)){var i=n.length;for(t=0;t<i;t++)n[t]&&(e=D6(n[t]))&&(r&&(r+=" "),r+=e)}else for(e in n)n[e]&&(r&&(r+=" "),r+=e);return r}function We(){for(var n,t,e=0,r="",i=arguments.length;e<i;e++)(n=arguments[e])&&(t=D6(n))&&(r&&(r+=" "),r+=t);return r}function cae(n){const{theme:t,name:e,props:r}=n;return!t||!t.components||!t.components[e]||!t.components[e].defaultProps?r:cN(t.components[e].defaultProps,r)}const dae=["values","unit","step"],pae=n=>{const t=Object.keys(n).map(e=>({key:e,val:n[e]}))||[];return t.sort((e,r)=>e.val-r.val),t.reduce((e,r)=>k({},e,{[r.key]:r.val}),{})};function M6(n){const{values:t={xs:0,sm:600,md:900,lg:1200,xl:1536},unit:e="px",step:r=5}=n,i=_e(n,dae),o=pae(t),a=Object.keys(o);function s(p){return`@media (min-width:${typeof t[p]=="number"?t[p]:p}${e})`}function l(p){return`@media (max-width:${(typeof t[p]=="number"?t[p]:p)-r/100}${e})`}function u(p,h){const f=a.indexOf(h);return`@media (min-width:${typeof t[p]=="number"?t[p]:p}${e}) and (max-width:${(f!==-1&&typeof t[a[f]]=="number"?t[a[f]]:h)-r/100}${e})`}function c(p){return a.indexOf(p)+1<a.length?u(p,a[a.indexOf(p)+1]):s(p)}function d(p){const h=a.indexOf(p);return h===0?s(a[1]):h===a.length-1?l(a[h]):u(p,a[a.indexOf(p)+1]).replace("@media","@media not all and")}return k({keys:a,values:o,up:s,down:l,between:u,only:c,not:d,unit:e},i)}const hae={borderRadius:4},fae=hae;function mC(n,t){return t?ta(n,t,{clone:!1}):n}const pN={xs:0,sm:600,md:900,lg:1200,xl:1536},kH={keys:["xs","sm","md","lg","xl"],up:n=>`@media (min-width:${pN[n]}px)`};function Uu(n,t,e){const r=n.theme||{};if(Array.isArray(t)){const o=r.breakpoints||kH;return t.reduce((a,s,l)=>(a[o.up(o.keys[l])]=e(t[l]),a),{})}if(typeof t=="object"){const o=r.breakpoints||kH;return Object.keys(t).reduce((a,s)=>{if(Object.keys(o.values||pN).indexOf(s)!==-1){const l=o.up(s);a[l]=e(t[s],s)}else{const l=s;a[l]=t[l]}return a},{})}return e(t)}function vae(n={}){var t;return((t=n.keys)==null?void 0:t.reduce((r,i)=>{const o=n.up(i);return r[o]={},r},{}))||{}}function gae(n,t){return n.reduce((e,r)=>{const i=e[r];return(!i||Object.keys(i).length===0)&&delete e[r],e},t)}function OR(n,t,e=!0){if(!t||typeof t!="string")return null;if(n&&n.vars&&e){const r=`vars.${t}`.split(".").reduce((i,o)=>i&&i[o]?i[o]:null,n);if(r!=null)return r}return t.split(".").reduce((r,i)=>r&&r[i]!=null?r[i]:null,n)}function nb(n,t,e,r=e){let i;return typeof n=="function"?i=n(e):Array.isArray(n)?i=n[e]||r:i=OR(n,e)||r,t&&(i=t(i,r,n)),i}function Ur(n){const{prop:t,cssProperty:e=n.prop,themeKey:r,transform:i}=n,o=a=>{if(a[t]==null)return null;const s=a[t],l=a.theme,u=OR(l,r)||{};return Uu(a,s,d=>{let p=nb(u,i,d);return d===p&&typeof d=="string"&&(p=nb(u,i,`${t}${d==="default"?"":Be(d)}`,d)),e===!1?p:{[e]:p}})};return o.propTypes={},o.filterProps=[t],o}function yae(n){const t={};return e=>(t[e]===void 0&&(t[e]=n(e)),t[e])}const mae={m:"margin",p:"padding"},Cae={t:"Top",r:"Right",b:"Bottom",l:"Left",x:["Left","Right"],y:["Top","Bottom"]},GH={marginX:"mx",marginY:"my",paddingX:"px",paddingY:"py"},Sae=yae(n=>{if(n.length>2)if(GH[n])n=GH[n];else return[n];const[t,e]=n.split(""),r=mae[t],i=Cae[e]||"";return Array.isArray(i)?i.map(o=>r+o):[r+i]}),hN=["m","mt","mr","mb","ml","mx","my","margin","marginTop","marginRight","marginBottom","marginLeft","marginX","marginY","marginInline","marginInlineStart","marginInlineEnd","marginBlock","marginBlockStart","marginBlockEnd"],fN=["p","pt","pr","pb","pl","px","py","padding","paddingTop","paddingRight","paddingBottom","paddingLeft","paddingX","paddingY","paddingInline","paddingInlineStart","paddingInlineEnd","paddingBlock","paddingBlockStart","paddingBlockEnd"];[...hN,...fN];function mw(n,t,e,r){var i;const o=(i=OR(n,t,!1))!=null?i:e;return typeof o=="number"?a=>typeof a=="string"?a:o*a:Array.isArray(o)?a=>typeof a=="string"?a:o[a]:typeof o=="function"?o:()=>{}}function F6(n){return mw(n,"spacing",8)}function Cw(n,t){if(typeof t=="string"||t==null)return t;const e=Math.abs(t),r=n(e);return t>=0?r:typeof r=="number"?-r:`-${r}`}function wae(n,t){return e=>n.reduce((r,i)=>(r[i]=Cw(t,e),r),{})}function _ae(n,t,e,r){if(t.indexOf(e)===-1)return null;const i=Sae(e),o=wae(i,r),a=n[e];return Uu(n,a,o)}function L6(n,t){const e=F6(n.theme);return Object.keys(n).map(r=>_ae(n,t,r,e)).reduce(mC,{})}function Dr(n){return L6(n,hN)}Dr.propTypes={};Dr.filterProps=hN;function Mr(n){return L6(n,fN)}Mr.propTypes={};Mr.filterProps=fN;function xae(n=8){if(n.mui)return n;const t=F6({spacing:n}),e=(...r)=>(r.length===0?[1]:r).map(o=>{const a=t(o);return typeof a=="number"?`${a}px`:a}).join(" ");return e.mui=!0,e}function RR(...n){const t=n.reduce((r,i)=>(i.filterProps.forEach(o=>{r[o]=i}),r),{}),e=r=>Object.keys(r).reduce((i,o)=>t[o]?mC(i,t[o](r)):i,{});return e.propTypes={},e.filterProps=n.reduce((r,i)=>r.concat(i.filterProps),[]),e}function Pa(n){return typeof n!="number"?n:`${n}px solid`}function Ja(n,t){return Ur({prop:n,themeKey:"borders",transform:t})}const Eae=Ja("border",Pa),bae=Ja("borderTop",Pa),Oae=Ja("borderRight",Pa),Rae=Ja("borderBottom",Pa),Tae=Ja("borderLeft",Pa),Pae=Ja("borderColor"),Aae=Ja("borderTopColor"),Dae=Ja("borderRightColor"),Mae=Ja("borderBottomColor"),Fae=Ja("borderLeftColor"),Lae=Ja("outline",Pa),Iae=Ja("outlineColor"),TR=n=>{if(n.borderRadius!==void 0&&n.borderRadius!==null){const t=mw(n.theme,"shape.borderRadius",4),e=r=>({borderRadius:Cw(t,r)});return Uu(n,n.borderRadius,e)}return null};TR.propTypes={};TR.filterProps=["borderRadius"];RR(Eae,bae,Oae,Rae,Tae,Pae,Aae,Dae,Mae,Fae,TR,Lae,Iae);const PR=n=>{if(n.gap!==void 0&&n.gap!==null){const t=mw(n.theme,"spacing",8),e=r=>({gap:Cw(t,r)});return Uu(n,n.gap,e)}return null};PR.propTypes={};PR.filterProps=["gap"];const AR=n=>{if(n.columnGap!==void 0&&n.columnGap!==null){const t=mw(n.theme,"spacing",8),e=r=>({columnGap:Cw(t,r)});return Uu(n,n.columnGap,e)}return null};AR.propTypes={};AR.filterProps=["columnGap"];const DR=n=>{if(n.rowGap!==void 0&&n.rowGap!==null){const t=mw(n.theme,"spacing",8),e=r=>({rowGap:Cw(t,r)});return Uu(n,n.rowGap,e)}return null};DR.propTypes={};DR.filterProps=["rowGap"];const Nae=Ur({prop:"gridColumn"}),kae=Ur({prop:"gridRow"}),Gae=Ur({prop:"gridAutoFlow"}),Vae=Ur({prop:"gridAutoColumns"}),Bae=Ur({prop:"gridAutoRows"}),Hae=Ur({prop:"gridTemplateColumns"}),jae=Ur({prop:"gridTemplateRows"}),$ae=Ur({prop:"gridTemplateAreas"}),Wae=Ur({prop:"gridArea"});RR(PR,AR,DR,Nae,kae,Gae,Vae,Bae,Hae,jae,$ae,Wae);function Nv(n,t){return t==="grey"?t:n}const Uae=Ur({prop:"color",themeKey:"palette",transform:Nv}),zae=Ur({prop:"bgcolor",cssProperty:"backgroundColor",themeKey:"palette",transform:Nv}),Kae=Ur({prop:"backgroundColor",themeKey:"palette",transform:Nv});RR(Uae,zae,Kae);function Yo(n){return n<=1&&n!==0?`${n*100}%`:n}const Yae=Ur({prop:"width",transform:Yo}),vN=n=>{if(n.maxWidth!==void 0&&n.maxWidth!==null){const t=e=>{var r,i;const o=((r=n.theme)==null||(r=r.breakpoints)==null||(r=r.values)==null?void 0:r[e])||pN[e];return o?((i=n.theme)==null||(i=i.breakpoints)==null?void 0:i.unit)!=="px"?{maxWidth:`${o}${n.theme.breakpoints.unit}`}:{maxWidth:o}:{maxWidth:Yo(e)}};return Uu(n,n.maxWidth,t)}return null};vN.filterProps=["maxWidth"];const Xae=Ur({prop:"minWidth",transform:Yo}),qae=Ur({prop:"height",transform:Yo}),Zae=Ur({prop:"maxHeight",transform:Yo}),Qae=Ur({prop:"minHeight",transform:Yo});Ur({prop:"size",cssProperty:"width",transform:Yo});Ur({prop:"size",cssProperty:"height",transform:Yo});const Jae=Ur({prop:"boxSizing"});RR(Yae,vN,Xae,qae,Zae,Qae,Jae);const ese={border:{themeKey:"borders",transform:Pa},borderTop:{themeKey:"borders",transform:Pa},borderRight:{themeKey:"borders",transform:Pa},borderBottom:{themeKey:"borders",transform:Pa},borderLeft:{themeKey:"borders",transform:Pa},borderColor:{themeKey:"palette"},borderTopColor:{themeKey:"palette"},borderRightColor:{themeKey:"palette"},borderBottomColor:{themeKey:"palette"},borderLeftColor:{themeKey:"palette"},outline:{themeKey:"borders",transform:Pa},outlineColor:{themeKey:"palette"},borderRadius:{themeKey:"shape.borderRadius",style:TR},color:{themeKey:"palette",transform:Nv},bgcolor:{themeKey:"palette",cssProperty:"backgroundColor",transform:Nv},backgroundColor:{themeKey:"palette",transform:Nv},p:{style:Mr},pt:{style:Mr},pr:{style:Mr},pb:{style:Mr},pl:{style:Mr},px:{style:Mr},py:{style:Mr},padding:{style:Mr},paddingTop:{style:Mr},paddingRight:{style:Mr},paddingBottom:{style:Mr},paddingLeft:{style:Mr},paddingX:{style:Mr},paddingY:{style:Mr},paddingInline:{style:Mr},paddingInlineStart:{style:Mr},paddingInlineEnd:{style:Mr},paddingBlock:{style:Mr},paddingBlockStart:{style:Mr},paddingBlockEnd:{style:Mr},m:{style:Dr},mt:{style:Dr},mr:{style:Dr},mb:{style:Dr},ml:{style:Dr},mx:{style:Dr},my:{style:Dr},margin:{style:Dr},marginTop:{style:Dr},marginRight:{style:Dr},marginBottom:{style:Dr},marginLeft:{style:Dr},marginX:{style:Dr},marginY:{style:Dr},marginInline:{style:Dr},marginInlineStart:{style:Dr},marginInlineEnd:{style:Dr},marginBlock:{style:Dr},marginBlockStart:{style:Dr},marginBlockEnd:{style:Dr},displayPrint:{cssProperty:!1,transform:n=>({"@media print":{display:n}})},display:{},overflow:{},textOverflow:{},visibility:{},whiteSpace:{},flexBasis:{},flexDirection:{},flexWrap:{},justifyContent:{},alignItems:{},alignContent:{},order:{},flex:{},flexGrow:{},flexShrink:{},alignSelf:{},justifyItems:{},justifySelf:{},gap:{style:PR},rowGap:{style:DR},columnGap:{style:AR},gridColumn:{},gridRow:{},gridAutoFlow:{},gridAutoColumns:{},gridAutoRows:{},gridTemplateColumns:{},gridTemplateRows:{},gridTemplateAreas:{},gridArea:{},position:{},zIndex:{themeKey:"zIndex"},top:{},right:{},bottom:{},left:{},boxShadow:{themeKey:"shadows"},width:{transform:Yo},maxWidth:{style:vN},minWidth:{transform:Yo},height:{transform:Yo},maxHeight:{transform:Yo},minHeight:{transform:Yo},boxSizing:{},fontFamily:{themeKey:"typography"},fontSize:{themeKey:"typography"},fontStyle:{themeKey:"typography"},fontWeight:{themeKey:"typography"},letterSpacing:{},textTransform:{},lineHeight:{},textAlign:{},typography:{cssProperty:!1,themeKey:"typography"}},Sw=ese;function tse(...n){const t=n.reduce((r,i)=>r.concat(Object.keys(i)),[]),e=new Set(t);return n.every(r=>e.size===Object.keys(r).length)}function rse(n,t){return typeof n=="function"?n(t):n}function I6(){function n(e,r,i,o){const a={[e]:r,theme:i},s=o[e];if(!s)return{[e]:r};const{cssProperty:l=e,themeKey:u,transform:c,style:d}=s;if(r==null)return null;if(u==="typography"&&r==="inherit")return{[e]:r};const p=OR(i,u)||{};return d?d(a):Uu(a,r,f=>{let v=nb(p,c,f);return f===v&&typeof f=="string"&&(v=nb(p,c,`${e}${f==="default"?"":Be(f)}`,f)),l===!1?v:{[l]:v}})}function t(e){var r;const{sx:i,theme:o={}}=e||{};if(!i)return null;const a=(r=o.unstable_sxConfig)!=null?r:Sw;function s(l){let u=l;if(typeof l=="function")u=l(o);else if(typeof l!="object")return l;if(!u)return null;const c=vae(o.breakpoints),d=Object.keys(c);let p=c;return Object.keys(u).forEach(h=>{const f=rse(u[h],o);if(f!=null)if(typeof f=="object")if(a[h])p=mC(p,n(h,f,o,a));else{const v=Uu({theme:o},f,g=>({[h]:g}));tse(v,f)?p[h]=t({sx:f,theme:o}):p=mC(p,v)}else p=mC(p,n(h,f,o,a))}),gae(d,p)}return Array.isArray(i)?i.map(s):s(i)}return t}const ww=I6();ww.filterProps=["sx"];function N6(n,t){const e=this;return e.vars&&typeof e.getColorSchemeSelector=="function"?{[e.getColorSchemeSelector(n).replace(/(\[[^\]]+\])/,"*:where($1)")]:t}:e.palette.mode===n?t:{}}const nse=["breakpoints","palette","spacing","shape"];function gN(n={},...t){const{breakpoints:e={},palette:r={},spacing:i,shape:o={}}=n,a=_e(n,nse),s=M6(e),l=xae(i);let u=ta({breakpoints:s,direction:"ltr",components:{},palette:k({mode:"light"},r),spacing:l,shape:k({},fae,o)},a);return u.applyStyles=N6,u=t.reduce((c,d)=>ta(c,d),u),u.unstable_sxConfig=k({},Sw,a==null?void 0:a.unstable_sxConfig),u.unstable_sx=function(d){return ww({sx:d,theme:this})},u}const ise=Object.freeze(Object.defineProperty({__proto__:null,default:gN,private_createBreakpoints:M6,unstable_applyStyles:N6},Symbol.toStringTag,{value:"Module"}));function k6(n){var t=Object.create(null);return function(e){return t[e]===void 0&&(t[e]=n(e)),t[e]}}var ose=/^((children|dangerouslySetInnerHTML|key|ref|autoFocus|defaultValue|defaultChecked|innerHTML|suppressContentEditableWarning|suppressHydrationWarning|valueLink|abbr|accept|acceptCharset|accessKey|action|allow|allowUserMedia|allowPaymentRequest|allowFullScreen|allowTransparency|alt|async|autoComplete|autoPlay|capture|cellPadding|cellSpacing|challenge|charSet|checked|cite|classID|className|cols|colSpan|content|contentEditable|contextMenu|controls|controlsList|coords|crossOrigin|data|dateTime|decoding|default|defer|dir|disabled|disablePictureInPicture|disableRemotePlayback|download|draggable|encType|enterKeyHint|form|formAction|formEncType|formMethod|formNoValidate|formTarget|frameBorder|headers|height|hidden|high|href|hrefLang|htmlFor|httpEquiv|id|inputMode|integrity|is|keyParams|keyType|kind|label|lang|list|loading|loop|low|marginHeight|marginWidth|max|maxLength|media|mediaGroup|method|min|minLength|multiple|muted|name|nonce|noValidate|open|optimum|pattern|placeholder|playsInline|poster|preload|profile|radioGroup|readOnly|referrerPolicy|rel|required|reversed|role|rows|rowSpan|sandbox|scope|scoped|scrolling|seamless|selected|shape|size|sizes|slot|span|spellCheck|src|srcDoc|srcLang|srcSet|start|step|style|summary|tabIndex|target|title|translate|type|useMap|value|width|wmode|wrap|about|datatype|inlist|prefix|property|resource|typeof|vocab|autoCapitalize|autoCorrect|autoSave|color|incremental|fallback|inert|itemProp|itemScope|itemType|itemID|itemRef|on|option|results|security|unselectable|accentHeight|accumulate|additive|alignmentBaseline|allowReorder|alphabetic|amplitude|arabicForm|ascent|attributeName|attributeType|autoReverse|azimuth|baseFrequency|baselineShift|baseProfile|bbox|begin|bias|by|calcMode|capHeight|clip|clipPathUnits|clipPath|clipRule|colorInterpolation|colorInterpolationFilters|colorProfile|colorRendering|contentScriptType|contentStyleType|cursor|cx|cy|d|decelerate|descent|diffuseConstant|direction|display|divisor|dominantBaseline|dur|dx|dy|edgeMode|elevation|enableBackground|end|exponent|externalResourcesRequired|fill|fillOpacity|fillRule|filter|filterRes|filterUnits|floodColor|floodOpacity|focusable|fontFamily|fontSize|fontSizeAdjust|fontStretch|fontStyle|fontVariant|fontWeight|format|from|fr|fx|fy|g1|g2|glyphName|glyphOrientationHorizontal|glyphOrientationVertical|glyphRef|gradientTransform|gradientUnits|hanging|horizAdvX|horizOriginX|ideographic|imageRendering|in|in2|intercept|k|k1|k2|k3|k4|kernelMatrix|kernelUnitLength|kerning|keyPoints|keySplines|keyTimes|lengthAdjust|letterSpacing|lightingColor|limitingConeAngle|local|markerEnd|markerMid|markerStart|markerHeight|markerUnits|markerWidth|mask|maskContentUnits|maskUnits|mathematical|mode|numOctaves|offset|opacity|operator|order|orient|orientation|origin|overflow|overlinePosition|overlineThickness|panose1|paintOrder|pathLength|patternContentUnits|patternTransform|patternUnits|pointerEvents|points|pointsAtX|pointsAtY|pointsAtZ|preserveAlpha|preserveAspectRatio|primitiveUnits|r|radius|refX|refY|renderingIntent|repeatCount|repeatDur|requiredExtensions|requiredFeatures|restart|result|rotate|rx|ry|scale|seed|shapeRendering|slope|spacing|specularConstant|specularExponent|speed|spreadMethod|startOffset|stdDeviation|stemh|stemv|stitchTiles|stopColor|stopOpacity|strikethroughPosition|strikethroughThickness|string|stroke|strokeDasharray|strokeDashoffset|strokeLinecap|strokeLinejoin|strokeMiterlimit|strokeOpacity|strokeWidth|surfaceScale|systemLanguage|tableValues|targetX|targetY|textAnchor|textDecoration|textRendering|textLength|to|transform|u1|u2|underlinePosition|underlineThickness|unicode|unicodeBidi|unicodeRange|unitsPerEm|vAlphabetic|vHanging|vIdeographic|vMathematical|values|vectorEffect|version|vertAdvY|vertOriginX|vertOriginY|viewBox|viewTarget|visibility|widths|wordSpacing|writingMode|x|xHeight|x1|x2|xChannelSelector|xlinkActuate|xlinkArcrole|xlinkHref|xlinkRole|xlinkShow|xlinkTitle|xlinkType|xmlBase|xmlns|xmlnsXlink|xmlLang|xmlSpace|y|y1|y2|yChannelSelector|z|zoomAndPan|for|class|autofocus)|(([Dd][Aa][Tt][Aa]|[Aa][Rr][Ii][Aa]|x)-.*))$/,ase=k6(function(n){return ose.test(n)||n.charCodeAt(0)===111&&n.charCodeAt(1)===110&&n.charCodeAt(2)<91});function sse(n){if(n.sheet)return n.sheet;for(var t=0;t<document.styleSheets.length;t++)if(document.styleSheets[t].ownerNode===n)return document.styleSheets[t]}function lse(n){var t=document.createElement("style");return t.setAttribute("data-emotion",n.key),n.nonce!==void 0&&t.setAttribute("nonce",n.nonce),t.appendChild(document.createTextNode("")),t.setAttribute("data-s",""),t}var use=function(){function n(e){var r=this;this._insertTag=function(i){var o;r.tags.length===0?r.insertionPoint?o=r.insertionPoint.nextSibling:r.prepend?o=r.container.firstChild:o=r.before:o=r.tags[r.tags.length-1].nextSibling,r.container.insertBefore(i,o),r.tags.push(i)},this.isSpeedy=e.speedy===void 0?!0:e.speedy,this.tags=[],this.ctr=0,this.nonce=e.nonce,this.key=e.key,this.container=e.container,this.prepend=e.prepend,this.insertionPoint=e.insertionPoint,this.before=null}var t=n.prototype;return t.hydrate=function(r){r.forEach(this._insertTag)},t.insert=function(r){this.ctr%(this.isSpeedy?65e3:1)===0&&this._insertTag(lse(this));var i=this.tags[this.tags.length-1];if(this.isSpeedy){var o=sse(i);try{o.insertRule(r,o.cssRules.length)}catch{}}else i.appendChild(document.createTextNode(r));this.ctr++},t.flush=function(){this.tags.forEach(function(r){return r.parentNode&&r.parentNode.removeChild(r)}),this.tags=[],this.ctr=0},n}(),ni="-ms-",ib="-moz-",Ht="-webkit-",G6="comm",yN="rule",mN="decl",cse="@import",V6="@keyframes",dse="@layer",pse=Math.abs,MR=String.fromCharCode,hse=Object.assign;function fse(n,t){return $n(n,0)^45?(((t<<2^$n(n,0))<<2^$n(n,1))<<2^$n(n,2))<<2^$n(n,3):0}function B6(n){return n.trim()}function vse(n,t){return(n=t.exec(n))?n[0]:n}function jt(n,t,e){return n.replace(t,e)}function NF(n,t){return n.indexOf(t)}function $n(n,t){return n.charCodeAt(t)|0}function uS(n,t,e){return n.slice(t,e)}function wl(n){return n.length}function CN(n){return n.length}function I0(n,t){return t.push(n),n}function gse(n,t){return n.map(t).join("")}var FR=1,sg=1,H6=0,vo=0,Jr=0,Fg="";function LR(n,t,e,r,i,o,a){return{value:n,root:t,parent:e,type:r,props:i,children:o,line:FR,column:sg,length:a,return:""}}function my(n,t){return hse(LR("",null,null,"",null,null,0),n,{length:-n.length},t)}function yse(){return Jr}function mse(){return Jr=vo>0?$n(Fg,--vo):0,sg--,Jr===10&&(sg=1,FR--),Jr}function ra(){return Jr=vo<H6?$n(Fg,vo++):0,sg++,Jr===10&&(sg=1,FR++),Jr}function Vl(){return $n(Fg,vo)}function $x(){return vo}function _w(n,t){return uS(Fg,n,t)}function cS(n){switch(n){case 0:case 9:case 10:case 13:case 32:return 5;case 33:case 43:case 44:case 47:case 62:case 64:case 126:case 59:case 123:case 125:return 4;case 58:return 3;case 34:case 39:case 40:case 91:return 2;case 41:case 93:return 1}return 0}function j6(n){return FR=sg=1,H6=wl(Fg=n),vo=0,[]}function $6(n){return Fg="",n}function Wx(n){return B6(_w(vo-1,kF(n===91?n+2:n===40?n+1:n)))}function Cse(n){for(;(Jr=Vl())&&Jr<33;)ra();return cS(n)>2||cS(Jr)>3?"":" "}function Sse(n,t){for(;--t&&ra()&&!(Jr<48||Jr>102||Jr>57&&Jr<65||Jr>70&&Jr<97););return _w(n,$x()+(t<6&&Vl()==32&&ra()==32))}function kF(n){for(;ra();)switch(Jr){case n:return vo;case 34:case 39:n!==34&&n!==39&&kF(Jr);break;case 40:n===41&&kF(n);break;case 92:ra();break}return vo}function wse(n,t){for(;ra()&&n+Jr!==57;)if(n+Jr===84&&Vl()===47)break;return"/*"+_w(t,vo-1)+"*"+MR(n===47?n:ra())}function _se(n){for(;!cS(Vl());)ra();return _w(n,vo)}function xse(n){return $6(Ux("",null,null,null,[""],n=j6(n),0,[0],n))}function Ux(n,t,e,r,i,o,a,s,l){for(var u=0,c=0,d=a,p=0,h=0,f=0,v=1,g=1,y=1,m=0,C="",S=i,w=o,_=r,x=C;g;)switch(f=m,m=ra()){case 40:if(f!=108&&$n(x,d-1)==58){NF(x+=jt(Wx(m),"&","&\f"),"&\f")!=-1&&(y=-1);break}case 34:case 39:case 91:x+=Wx(m);break;case 9:case 10:case 13:case 32:x+=Cse(f);break;case 92:x+=Sse($x()-1,7);continue;case 47:switch(Vl()){case 42:case 47:I0(Ese(wse(ra(),$x()),t,e),l);break;default:x+="/"}break;case 123*v:s[u++]=wl(x)*y;case 125*v:case 59:case 0:switch(m){case 0:case 125:g=0;case 59+c:y==-1&&(x=jt(x,/\f/g,"")),h>0&&wl(x)-d&&I0(h>32?BH(x+";",r,e,d-1):BH(jt(x," ","")+";",r,e,d-2),l);break;case 59:x+=";";default:if(I0(_=VH(x,t,e,u,c,i,s,C,S=[],w=[],d),o),m===123)if(c===0)Ux(x,t,_,_,S,o,d,s,w);else switch(p===99&&$n(x,3)===110?100:p){case 100:case 108:case 109:case 115:Ux(n,_,_,r&&I0(VH(n,_,_,0,0,i,s,C,i,S=[],d),w),i,w,d,s,r?S:w);break;default:Ux(x,_,_,_,[""],w,0,s,w)}}u=c=h=0,v=y=1,C=x="",d=a;break;case 58:d=1+wl(x),h=f;default:if(v<1){if(m==123)--v;else if(m==125&&v++==0&&mse()==125)continue}switch(x+=MR(m),m*v){case 38:y=c>0?1:(x+="\f",-1);break;case 44:s[u++]=(wl(x)-1)*y,y=1;break;case 64:Vl()===45&&(x+=Wx(ra())),p=Vl(),c=d=wl(C=x+=_se($x())),m++;break;case 45:f===45&&wl(x)==2&&(v=0)}}return o}function VH(n,t,e,r,i,o,a,s,l,u,c){for(var d=i-1,p=i===0?o:[""],h=CN(p),f=0,v=0,g=0;f<r;++f)for(var y=0,m=uS(n,d+1,d=pse(v=a[f])),C=n;y<h;++y)(C=B6(v>0?p[y]+" "+m:jt(m,/&\f/g,p[y])))&&(l[g++]=C);return LR(n,t,e,i===0?yN:s,l,u,c)}function Ese(n,t,e){return LR(n,t,e,G6,MR(yse()),uS(n,2,-2),0)}function BH(n,t,e,r){return LR(n,t,e,mN,uS(n,0,r),uS(n,r+1,-1),r)}function kv(n,t){for(var e="",r=CN(n),i=0;i<r;i++)e+=t(n[i],i,n,t)||"";return e}function bse(n,t,e,r){switch(n.type){case dse:if(n.children.length)break;case cse:case mN:return n.return=n.return||n.value;case G6:return"";case V6:return n.return=n.value+"{"+kv(n.children,r)+"}";case yN:n.value=n.props.join(",")}return wl(e=kv(n.children,r))?n.return=n.value+"{"+e+"}":""}function Ose(n){var t=CN(n);return function(e,r,i,o){for(var a="",s=0;s<t;s++)a+=n[s](e,r,i,o)||"";return a}}function Rse(n){return function(t){t.root||(t=t.return)&&n(t)}}var Tse=function(t,e,r){for(var i=0,o=0;i=o,o=Vl(),i===38&&o===12&&(e[r]=1),!cS(o);)ra();return _w(t,vo)},Pse=function(t,e){var r=-1,i=44;do switch(cS(i)){case 0:i===38&&Vl()===12&&(e[r]=1),t[r]+=Tse(vo-1,e,r);break;case 2:t[r]+=Wx(i);break;case 4:if(i===44){t[++r]=Vl()===58?"&\f":"",e[r]=t[r].length;break}default:t[r]+=MR(i)}while(i=ra());return t},Ase=function(t,e){return $6(Pse(j6(t),e))},HH=new WeakMap,Dse=function(t){if(!(t.type!=="rule"||!t.parent||t.length<1)){for(var e=t.value,r=t.parent,i=t.column===r.column&&t.line===r.line;r.type!=="rule";)if(r=r.parent,!r)return;if(!(t.props.length===1&&e.charCodeAt(0)!==58&&!HH.get(r))&&!i){HH.set(t,!0);for(var o=[],a=Ase(e,o),s=r.props,l=0,u=0;l<a.length;l++)for(var c=0;c<s.length;c++,u++)t.props[u]=o[l]?a[l].replace(/&\f/g,s[c]):s[c]+" "+a[l]}}},Mse=function(t){if(t.type==="decl"){var e=t.value;e.charCodeAt(0)===108&&e.charCodeAt(2)===98&&(t.return="",t.value="")}};function W6(n,t){switch(fse(n,t)){case 5103:return Ht+"print-"+n+n;case 5737:case 4201:case 3177:case 3433:case 1641:case 4457:case 2921:case 5572:case 6356:case 5844:case 3191:case 6645:case 3005:case 6391:case 5879:case 5623:case 6135:case 4599:case 4855:case 4215:case 6389:case 5109:case 5365:case 5621:case 3829:return Ht+n+n;case 5349:case 4246:case 4810:case 6968:case 2756:return Ht+n+ib+n+ni+n+n;case 6828:case 4268:return Ht+n+ni+n+n;case 6165:return Ht+n+ni+"flex-"+n+n;case 5187:return Ht+n+jt(n,/(\w+).+(:[^]+)/,Ht+"box-$1$2"+ni+"flex-$1$2")+n;case 5443:return Ht+n+ni+"flex-item-"+jt(n,/flex-|-self/,"")+n;case 4675:return Ht+n+ni+"flex-line-pack"+jt(n,/align-content|flex-|-self/,"")+n;case 5548:return Ht+n+ni+jt(n,"shrink","negative")+n;case 5292:return Ht+n+ni+jt(n,"basis","preferred-size")+n;case 6060:return Ht+"box-"+jt(n,"-grow","")+Ht+n+ni+jt(n,"grow","positive")+n;case 4554:return Ht+jt(n,/([^-])(transform)/g,"$1"+Ht+"$2")+n;case 6187:return jt(jt(jt(n,/(zoom-|grab)/,Ht+"$1"),/(image-set)/,Ht+"$1"),n,"")+n;case 5495:case 3959:return jt(n,/(image-set\([^]*)/,Ht+"$1$`$1");case 4968:return jt(jt(n,/(.+:)(flex-)?(.*)/,Ht+"box-pack:$3"+ni+"flex-pack:$3"),/s.+-b[^;]+/,"justify")+Ht+n+n;case 4095:case 3583:case 4068:case 2532:return jt(n,/(.+)-inline(.+)/,Ht+"$1$2")+n;case 8116:case 7059:case 5753:case 5535:case 5445:case 5701:case 4933:case 4677:case 5533:case 5789:case 5021:case 4765:if(wl(n)-1-t>6)switch($n(n,t+1)){case 109:if($n(n,t+4)!==45)break;case 102:return jt(n,/(.+:)(.+)-([^]+)/,"$1"+Ht+"$2-$3$1"+ib+($n(n,t+3)==108?"$3":"$2-$3"))+n;case 115:return~NF(n,"stretch")?W6(jt(n,"stretch","fill-available"),t)+n:n}break;case 4949:if($n(n,t+1)!==115)break;case 6444:switch($n(n,wl(n)-3-(~NF(n,"!important")&&10))){case 107:return jt(n,":",":"+Ht)+n;case 101:return jt(n,/(.+:)([^;!]+)(;|!.+)?/,"$1"+Ht+($n(n,14)===45?"inline-":"")+"box$3$1"+Ht+"$2$3$1"+ni+"$2box$3")+n}break;case 5936:switch($n(n,t+11)){case 114:return Ht+n+ni+jt(n,/[svh]\w+-[tblr]{2}/,"tb")+n;case 108:return Ht+n+ni+jt(n,/[svh]\w+-[tblr]{2}/,"tb-rl")+n;case 45:return Ht+n+ni+jt(n,/[svh]\w+-[tblr]{2}/,"lr")+n}return Ht+n+ni+n+n}return n}var Fse=function(t,e,r,i){if(t.length>-1&&!t.return)switch(t.type){case mN:t.return=W6(t.value,t.length);break;case V6:return kv([my(t,{value:jt(t.value,"@","@"+Ht)})],i);case yN:if(t.length)return gse(t.props,function(o){switch(vse(o,/(::plac\w+|:read-\w+)/)){case":read-only":case":read-write":return kv([my(t,{props:[jt(o,/:(read-\w+)/,":"+ib+"$1")]})],i);case"::placeholder":return kv([my(t,{props:[jt(o,/:(plac\w+)/,":"+Ht+"input-$1")]}),my(t,{props:[jt(o,/:(plac\w+)/,":"+ib+"$1")]}),my(t,{props:[jt(o,/:(plac\w+)/,ni+"input-$1")]})],i)}return""})}},Lse=[Fse],U6=function(t){var e=t.key;if(e==="css"){var r=document.querySelectorAll("style[data-emotion]:not([data-s])");Array.prototype.forEach.call(r,function(v){var g=v.getAttribute("data-emotion");g.indexOf(" ")!==-1&&(document.head.appendChild(v),v.setAttribute("data-s",""))})}var i=t.stylisPlugins||Lse,o={},a,s=[];a=t.container||document.head,Array.prototype.forEach.call(document.querySelectorAll('style[data-emotion^="'+e+' "]'),function(v){for(var g=v.getAttribute("data-emotion").split(" "),y=1;y<g.length;y++)o[g[y]]=!0;s.push(v)});var l,u=[Dse,Mse];{var c,d=[bse,Rse(function(v){c.insert(v)})],p=Ose(u.concat(i,d)),h=function(g){return kv(xse(g),p)};l=function(g,y,m,C){c=m,h(g?g+"{"+y.styles+"}":y.styles),C&&(f.inserted[y.name]=!0)}}var f={key:e,sheet:new use({key:e,container:a,nonce:t.nonce,speedy:t.speedy,prepend:t.prepend,insertionPoint:t.insertionPoint}),nonce:t.nonce,inserted:o,registered:{},insert:l};return f.sheet.hydrate(s),f},z6={exports:{}},er={};/** @license React v16.13.1
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Mn=typeof Symbol=="function"&&Symbol.for,SN=Mn?Symbol.for("react.element"):60103,wN=Mn?Symbol.for("react.portal"):60106,IR=Mn?Symbol.for("react.fragment"):60107,NR=Mn?Symbol.for("react.strict_mode"):60108,kR=Mn?Symbol.for("react.profiler"):60114,GR=Mn?Symbol.for("react.provider"):60109,VR=Mn?Symbol.for("react.context"):60110,_N=Mn?Symbol.for("react.async_mode"):60111,BR=Mn?Symbol.for("react.concurrent_mode"):60111,HR=Mn?Symbol.for("react.forward_ref"):60112,jR=Mn?Symbol.for("react.suspense"):60113,Ise=Mn?Symbol.for("react.suspense_list"):60120,$R=Mn?Symbol.for("react.memo"):60115,WR=Mn?Symbol.for("react.lazy"):60116,Nse=Mn?Symbol.for("react.block"):60121,kse=Mn?Symbol.for("react.fundamental"):60117,Gse=Mn?Symbol.for("react.responder"):60118,Vse=Mn?Symbol.for("react.scope"):60119;function ca(n){if(typeof n=="object"&&n!==null){var t=n.$$typeof;switch(t){case SN:switch(n=n.type,n){case _N:case BR:case IR:case kR:case NR:case jR:return n;default:switch(n=n&&n.$$typeof,n){case VR:case HR:case WR:case $R:case GR:return n;default:return t}}case wN:return t}}}function K6(n){return ca(n)===BR}er.AsyncMode=_N;er.ConcurrentMode=BR;er.ContextConsumer=VR;er.ContextProvider=GR;er.Element=SN;er.ForwardRef=HR;er.Fragment=IR;er.Lazy=WR;er.Memo=$R;er.Portal=wN;er.Profiler=kR;er.StrictMode=NR;er.Suspense=jR;er.isAsyncMode=function(n){return K6(n)||ca(n)===_N};er.isConcurrentMode=K6;er.isContextConsumer=function(n){return ca(n)===VR};er.isContextProvider=function(n){return ca(n)===GR};er.isElement=function(n){return typeof n=="object"&&n!==null&&n.$$typeof===SN};er.isForwardRef=function(n){return ca(n)===HR};er.isFragment=function(n){return ca(n)===IR};er.isLazy=function(n){return ca(n)===WR};er.isMemo=function(n){return ca(n)===$R};er.isPortal=function(n){return ca(n)===wN};er.isProfiler=function(n){return ca(n)===kR};er.isStrictMode=function(n){return ca(n)===NR};er.isSuspense=function(n){return ca(n)===jR};er.isValidElementType=function(n){return typeof n=="string"||typeof n=="function"||n===IR||n===BR||n===kR||n===NR||n===jR||n===Ise||typeof n=="object"&&n!==null&&(n.$$typeof===WR||n.$$typeof===$R||n.$$typeof===GR||n.$$typeof===VR||n.$$typeof===HR||n.$$typeof===kse||n.$$typeof===Gse||n.$$typeof===Vse||n.$$typeof===Nse)};er.typeOf=ca;z6.exports=er;var Bse=z6.exports,Y6=Bse,Hse={$$typeof:!0,render:!0,defaultProps:!0,displayName:!0,propTypes:!0},jse={$$typeof:!0,compare:!0,defaultProps:!0,displayName:!0,propTypes:!0,type:!0},X6={};X6[Y6.ForwardRef]=Hse;X6[Y6.Memo]=jse;var $se=!0;function Wse(n,t,e){var r="";return e.split(" ").forEach(function(i){n[i]!==void 0?t.push(n[i]+";"):r+=i+" "}),r}var q6=function(t,e,r){var i=t.key+"-"+e.name;(r===!1||$se===!1)&&t.registered[i]===void 0&&(t.registered[i]=e.styles)},Z6=function(t,e,r){q6(t,e,r);var i=t.key+"-"+e.name;if(t.inserted[e.name]===void 0){var o=e;do t.insert(e===o?"."+i:"",o,t.sheet,!0),o=o.next;while(o!==void 0)}};function Use(n){for(var t=0,e,r=0,i=n.length;i>=4;++r,i-=4)e=n.charCodeAt(r)&255|(n.charCodeAt(++r)&255)<<8|(n.charCodeAt(++r)&255)<<16|(n.charCodeAt(++r)&255)<<24,e=(e&65535)*1540483477+((e>>>16)*59797<<16),e^=e>>>24,t=(e&65535)*1540483477+((e>>>16)*59797<<16)^(t&65535)*1540483477+((t>>>16)*59797<<16);switch(i){case 3:t^=(n.charCodeAt(r+2)&255)<<16;case 2:t^=(n.charCodeAt(r+1)&255)<<8;case 1:t^=n.charCodeAt(r)&255,t=(t&65535)*1540483477+((t>>>16)*59797<<16)}return t^=t>>>13,t=(t&65535)*1540483477+((t>>>16)*59797<<16),((t^t>>>15)>>>0).toString(36)}var zse={animationIterationCount:1,aspectRatio:1,borderImageOutset:1,borderImageSlice:1,borderImageWidth:1,boxFlex:1,boxFlexGroup:1,boxOrdinalGroup:1,columnCount:1,columns:1,flex:1,flexGrow:1,flexPositive:1,flexShrink:1,flexNegative:1,flexOrder:1,gridRow:1,gridRowEnd:1,gridRowSpan:1,gridRowStart:1,gridColumn:1,gridColumnEnd:1,gridColumnSpan:1,gridColumnStart:1,msGridRow:1,msGridRowSpan:1,msGridColumn:1,msGridColumnSpan:1,fontWeight:1,lineHeight:1,opacity:1,order:1,orphans:1,tabSize:1,widows:1,zIndex:1,zoom:1,WebkitLineClamp:1,fillOpacity:1,floodOpacity:1,stopOpacity:1,strokeDasharray:1,strokeDashoffset:1,strokeMiterlimit:1,strokeOpacity:1,strokeWidth:1},Kse=/[A-Z]|^ms/g,Yse=/_EMO_([^_]+?)_([^]*?)_EMO_/g,Q6=function(t){return t.charCodeAt(1)===45},jH=function(t){return t!=null&&typeof t!="boolean"},tA=k6(function(n){return Q6(n)?n:n.replace(Kse,"-$&").toLowerCase()}),$H=function(t,e){switch(t){case"animation":case"animationName":if(typeof e=="string")return e.replace(Yse,function(r,i,o){return _l={name:i,styles:o,next:_l},i})}return zse[t]!==1&&!Q6(t)&&typeof e=="number"&&e!==0?e+"px":e};function dS(n,t,e){if(e==null)return"";if(e.__emotion_styles!==void 0)return e;switch(typeof e){case"boolean":return"";case"object":{if(e.anim===1)return _l={name:e.name,styles:e.styles,next:_l},e.name;if(e.styles!==void 0){var r=e.next;if(r!==void 0)for(;r!==void 0;)_l={name:r.name,styles:r.styles,next:_l},r=r.next;var i=e.styles+";";return i}return Xse(n,t,e)}case"function":{if(n!==void 0){var o=_l,a=e(n);return _l=o,dS(n,t,a)}break}}if(t==null)return e;var s=t[e];return s!==void 0?s:e}function Xse(n,t,e){var r="";if(Array.isArray(e))for(var i=0;i<e.length;i++)r+=dS(n,t,e[i])+";";else for(var o in e){var a=e[o];if(typeof a!="object")t!=null&&t[a]!==void 0?r+=o+"{"+t[a]+"}":jH(a)&&(r+=tA(o)+":"+$H(o,a)+";");else if(Array.isArray(a)&&typeof a[0]=="string"&&(t==null||t[a[0]]===void 0))for(var s=0;s<a.length;s++)jH(a[s])&&(r+=tA(o)+":"+$H(o,a[s])+";");else{var l=dS(n,t,a);switch(o){case"animation":case"animationName":{r+=tA(o)+":"+l+";";break}default:r+=o+"{"+l+"}"}}}return r}var WH=/label:\s*([^\s;\n{]+)\s*(;|$)/g,_l,xN=function(t,e,r){if(t.length===1&&typeof t[0]=="object"&&t[0]!==null&&t[0].styles!==void 0)return t[0];var i=!0,o="";_l=void 0;var a=t[0];a==null||a.raw===void 0?(i=!1,o+=dS(r,e,a)):o+=a[0];for(var s=1;s<t.length;s++)o+=dS(r,e,t[s]),i&&(o+=a[s]);WH.lastIndex=0;for(var l="",u;(u=WH.exec(o))!==null;)l+="-"+u[1];var c=Use(o)+l;return{name:c,styles:o,next:_l}},qse=function(t){return t()},J6=TE.useInsertionEffect?TE.useInsertionEffect:!1,Zse=J6||qse,UH=J6||I.useLayoutEffect,e9=I.createContext(typeof HTMLElement<"u"?U6({key:"css"}):null),Qse=e9.Provider,t9=function(t){return I.forwardRef(function(e,r){var i=I.useContext(e9);return t(e,i,r)})},UR=I.createContext({}),rA={exports:{}},zH;function r9(){return zH||(zH=1,function(n){function t(){return n.exports=t=Object.assign?Object.assign.bind():function(e){for(var r=1;r<arguments.length;r++){var i=arguments[r];for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(e[o]=i[o])}return e},n.exports.__esModule=!0,n.exports.default=n.exports,t.apply(this,arguments)}n.exports=t,n.exports.__esModule=!0,n.exports.default=n.exports}(rA)),rA.exports}r9();var Jse=t9(function(n,t){var e=n.styles,r=xN([e],void 0,I.useContext(UR)),i=I.useRef();return UH(function(){var o=t.key+"-global",a=new t.sheet.constructor({key:o,nonce:t.sheet.nonce,container:t.sheet.container,speedy:t.sheet.isSpeedy}),s=!1,l=document.querySelector('style[data-emotion="'+o+" "+r.name+'"]');return t.sheet.tags.length&&(a.before=t.sheet.tags[0]),l!==null&&(s=!0,l.setAttribute("data-emotion",o),a.hydrate([l])),i.current=[a,s],function(){a.flush()}},[t]),UH(function(){var o=i.current,a=o[0],s=o[1];if(s){o[1]=!1;return}if(r.next!==void 0&&Z6(t,r.next,!0),a.tags.length){var l=a.tags[a.tags.length-1].nextElementSibling;a.before=l,a.flush()}t.insert("",r,a,!1)},[t,r.name]),null});function n9(){for(var n=arguments.length,t=new Array(n),e=0;e<n;e++)t[e]=arguments[e];return xN(t)}var zR=function(){var t=n9.apply(void 0,arguments),e="animation-"+t.name;return{name:e,styles:"@keyframes "+e+"{"+t.styles+"}",anim:1,toString:function(){return"_EMO_"+this.name+"_"+this.styles+"_EMO_"}}},ele=ase,tle=function(t){return t!=="theme"},KH=function(t){return typeof t=="string"&&t.charCodeAt(0)>96?ele:tle},YH=function(t,e,r){var i;if(e){var o=e.shouldForwardProp;i=t.__emotion_forwardProp&&o?function(a){return t.__emotion_forwardProp(a)&&o(a)}:o}return typeof i!="function"&&r&&(i=t.__emotion_forwardProp),i},rle=function(t){var e=t.cache,r=t.serialized,i=t.isStringTag;return q6(e,r,i),Zse(function(){return Z6(e,r,i)}),null},nle=function n(t,e){var r=t.__emotion_real===t,i=r&&t.__emotion_base||t,o,a;e!==void 0&&(o=e.label,a=e.target);var s=YH(t,e,r),l=s||KH(i),u=!l("as");return function(){var c=arguments,d=r&&t.__emotion_styles!==void 0?t.__emotion_styles.slice(0):[];if(o!==void 0&&d.push("label:"+o+";"),c[0]==null||c[0].raw===void 0)d.push.apply(d,c);else{d.push(c[0][0]);for(var p=c.length,h=1;h<p;h++)d.push(c[h],c[0][h])}var f=t9(function(v,g,y){var m=u&&v.as||i,C="",S=[],w=v;if(v.theme==null){w={};for(var _ in v)w[_]=v[_];w.theme=I.useContext(UR)}typeof v.className=="string"?C=Wse(g.registered,S,v.className):v.className!=null&&(C=v.className+" ");var x=xN(d.concat(S),g.registered,w);C+=g.key+"-"+x.name,a!==void 0&&(C+=" "+a);var b=u&&s===void 0?KH(m):l,O={};for(var T in v)u&&T==="as"||b(T)&&(O[T]=v[T]);return O.className=C,O.ref=y,I.createElement(I.Fragment,null,I.createElement(rle,{cache:g,serialized:x,isStringTag:typeof m=="string"}),I.createElement(m,O))});return f.displayName=o!==void 0?o:"Styled("+(typeof i=="string"?i:i.displayName||i.name||"Component")+")",f.defaultProps=t.defaultProps,f.__emotion_real=f,f.__emotion_base=i,f.__emotion_styles=d,f.__emotion_forwardProp=s,Object.defineProperty(f,"toString",{value:function(){return"."+a}}),f.withComponent=function(v,g){return n(v,k({},e,g,{shouldForwardProp:YH(f,g,!0)})).apply(void 0,d)},f}},ile=["a","abbr","address","area","article","aside","audio","b","base","bdi","bdo","big","blockquote","body","br","button","canvas","caption","cite","code","col","colgroup","data","datalist","dd","del","details","dfn","dialog","div","dl","dt","em","embed","fieldset","figcaption","figure","footer","form","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","html","i","iframe","img","input","ins","kbd","keygen","label","legend","li","link","main","map","mark","marquee","menu","menuitem","meta","meter","nav","noscript","object","ol","optgroup","option","output","p","param","picture","pre","progress","q","rp","rt","ruby","s","samp","script","section","select","small","source","span","strong","style","sub","summary","sup","table","tbody","td","textarea","tfoot","th","thead","time","title","tr","track","u","ul","var","video","wbr","circle","clipPath","defs","ellipse","foreignObject","g","image","line","linearGradient","mask","path","pattern","polygon","polyline","radialGradient","rect","stop","svg","text","tspan"],GF=nle.bind();ile.forEach(function(n){GF[n]=GF(n)});let VF;typeof document=="object"&&(VF=U6({key:"css",prepend:!0}));function ole(n){const{injectFirst:t,children:e}=n;return t&&VF?B.jsx(Qse,{value:VF,children:e}):e}function ale(n){return n==null||Object.keys(n).length===0}function i9(n){const{styles:t,defaultTheme:e={}}=n,r=typeof t=="function"?i=>t(ale(i)?e:i):t;return B.jsx(Jse,{styles:r})}function o9(n,t){return GF(n,t)}const sle=(n,t)=>{Array.isArray(n.__emotion_styles)&&(n.__emotion_styles=t(n.__emotion_styles))},lle=Object.freeze(Object.defineProperty({__proto__:null,GlobalStyles:i9,StyledEngineProvider:ole,ThemeContext:UR,css:n9,default:o9,internal_processStyles:sle,keyframes:zR},Symbol.toStringTag,{value:"Module"}));function ule(n){return Object.keys(n).length===0}function cle(n=null){const t=I.useContext(UR);return!t||ule(t)?n:t}const dle=gN();function KR(n=dle){return cle(n)}function ple({props:n,name:t,defaultTheme:e,themeId:r}){let i=KR(e);return r&&(i=i[r]||i),cae({theme:i,name:t,props:n})}const hle=["sx"],fle=n=>{var t,e;const r={systemProps:{},otherProps:{}},i=(t=n==null||(e=n.theme)==null?void 0:e.unstable_sxConfig)!=null?t:Sw;return Object.keys(n).forEach(o=>{i[o]?r.systemProps[o]=n[o]:r.otherProps[o]=n[o]}),r};function EN(n){const{sx:t}=n,e=_e(n,hle),{systemProps:r,otherProps:i}=fle(e);let o;return Array.isArray(t)?o=[r,...t]:typeof t=="function"?o=(...a)=>{const s=t(...a);return nd(s)?k({},r,s):r}:o=k({},r,t),k({},i,{sx:o})}const vle=Object.freeze(Object.defineProperty({__proto__:null,default:ww,extendSxProp:EN,unstable_createStyleFunctionSx:I6,unstable_defaultSxConfig:Sw},Symbol.toStringTag,{value:"Module"}));function gle(n,t){return k({toolbar:{minHeight:56,[n.up("xs")]:{"@media (orientation: landscape)":{minHeight:48}},[n.up("sm")]:{minHeight:64}}},t)}var zr={};const yle=Jl(Goe),mle=Jl(uae);var a9=gw;Object.defineProperty(zr,"__esModule",{value:!0});var Tu=zr.alpha=c9;zr.blend=Dle;zr.colorChannel=void 0;var Cle=zr.darken=ON;zr.decomposeColor=za;var XH=zr.emphasize=Ale,Sle=zr.getContrastRatio=Ole;zr.getLuminance=ob;zr.hexToRgb=s9;zr.hslToRgb=u9;var wle=zr.lighten=RN;zr.private_safeAlpha=Rle;zr.private_safeColorChannel=void 0;zr.private_safeDarken=Tle;zr.private_safeEmphasize=d9;zr.private_safeLighten=Ple;zr.recomposeColor=Lg;zr.rgbToHex=ble;var qH=a9(yle),_le=a9(mle);function bN(n,t=0,e=1){return(0,_le.default)(n,t,e)}function s9(n){n=n.slice(1);const t=new RegExp(`.{1,${n.length>=6?2:1}}`,"g");let e=n.match(t);return e&&e[0].length===1&&(e=e.map(r=>r+r)),e?`rgb${e.length===4?"a":""}(${e.map((r,i)=>i<3?parseInt(r,16):Math.round(parseInt(r,16)/255*1e3)/1e3).join(", ")})`:""}function xle(n){const t=n.toString(16);return t.length===1?`0${t}`:t}function za(n){if(n.type)return n;if(n.charAt(0)==="#")return za(s9(n));const t=n.indexOf("("),e=n.substring(0,t);if(["rgb","rgba","hsl","hsla","color"].indexOf(e)===-1)throw new Error((0,qH.default)(9,n));let r=n.substring(t+1,n.length-1),i;if(e==="color"){if(r=r.split(" "),i=r.shift(),r.length===4&&r[3].charAt(0)==="/"&&(r[3]=r[3].slice(1)),["srgb","display-p3","a98-rgb","prophoto-rgb","rec-2020"].indexOf(i)===-1)throw new Error((0,qH.default)(10,i))}else r=r.split(",");return r=r.map(o=>parseFloat(o)),{type:e,values:r,colorSpace:i}}const l9=n=>{const t=za(n);return t.values.slice(0,3).map((e,r)=>t.type.indexOf("hsl")!==-1&&r!==0?`${e}%`:e).join(" ")};zr.colorChannel=l9;const Ele=(n,t)=>{try{return l9(n)}catch{return n}};zr.private_safeColorChannel=Ele;function Lg(n){const{type:t,colorSpace:e}=n;let{values:r}=n;return t.indexOf("rgb")!==-1?r=r.map((i,o)=>o<3?parseInt(i,10):i):t.indexOf("hsl")!==-1&&(r[1]=`${r[1]}%`,r[2]=`${r[2]}%`),t.indexOf("color")!==-1?r=`${e} ${r.join(" ")}`:r=`${r.join(", ")}`,`${t}(${r})`}function ble(n){if(n.indexOf("#")===0)return n;const{values:t}=za(n);return`#${t.map((e,r)=>xle(r===3?Math.round(255*e):e)).join("")}`}function u9(n){n=za(n);const{values:t}=n,e=t[0],r=t[1]/100,i=t[2]/100,o=r*Math.min(i,1-i),a=(u,c=(u+e/30)%12)=>i-o*Math.max(Math.min(c-3,9-c,1),-1);let s="rgb";const l=[Math.round(a(0)*255),Math.round(a(8)*255),Math.round(a(4)*255)];return n.type==="hsla"&&(s+="a",l.push(t[3])),Lg({type:s,values:l})}function ob(n){n=za(n);let t=n.type==="hsl"||n.type==="hsla"?za(u9(n)).values:n.values;return t=t.map(e=>(n.type!=="color"&&(e/=255),e<=.03928?e/12.92:((e+.055)/1.055)**2.4)),Number((.2126*t[0]+.7152*t[1]+.0722*t[2]).toFixed(3))}function Ole(n,t){const e=ob(n),r=ob(t);return(Math.max(e,r)+.05)/(Math.min(e,r)+.05)}function c9(n,t){return n=za(n),t=bN(t),(n.type==="rgb"||n.type==="hsl")&&(n.type+="a"),n.type==="color"?n.values[3]=`/${t}`:n.values[3]=t,Lg(n)}function Rle(n,t,e){try{return c9(n,t)}catch{return n}}function ON(n,t){if(n=za(n),t=bN(t),n.type.indexOf("hsl")!==-1)n.values[2]*=1-t;else if(n.type.indexOf("rgb")!==-1||n.type.indexOf("color")!==-1)for(let e=0;e<3;e+=1)n.values[e]*=1-t;return Lg(n)}function Tle(n,t,e){try{return ON(n,t)}catch{return n}}function RN(n,t){if(n=za(n),t=bN(t),n.type.indexOf("hsl")!==-1)n.values[2]+=(100-n.values[2])*t;else if(n.type.indexOf("rgb")!==-1)for(let e=0;e<3;e+=1)n.values[e]+=(255-n.values[e])*t;else if(n.type.indexOf("color")!==-1)for(let e=0;e<3;e+=1)n.values[e]+=(1-n.values[e])*t;return Lg(n)}function Ple(n,t,e){try{return RN(n,t)}catch{return n}}function Ale(n,t=.15){return ob(n)>.5?ON(n,t):RN(n,t)}function d9(n,t,e){try{return d9(n,t)}catch{return n}}function Dle(n,t,e,r=1){const i=(l,u)=>Math.round((l**(1/r)*(1-e)+u**(1/r)*e)**r),o=za(n),a=za(t),s=[i(o.values[0],a.values[0]),i(o.values[1],a.values[1]),i(o.values[2],a.values[2])];return Lg({type:"rgb",values:s})}const Mle={black:"#000",white:"#fff"},pS=Mle,Fle={50:"#fafafa",100:"#f5f5f5",200:"#eeeeee",300:"#e0e0e0",400:"#bdbdbd",500:"#9e9e9e",600:"#757575",700:"#616161",800:"#424242",900:"#212121",A100:"#f5f5f5",A200:"#eeeeee",A400:"#bdbdbd",A700:"#616161"},Lle=Fle,Ile={50:"#f3e5f5",100:"#e1bee7",200:"#ce93d8",300:"#ba68c8",400:"#ab47bc",500:"#9c27b0",600:"#8e24aa",700:"#7b1fa2",800:"#6a1b9a",900:"#4a148c",A100:"#ea80fc",A200:"#e040fb",A400:"#d500f9",A700:"#aa00ff"},gf=Ile,Nle={50:"#ffebee",100:"#ffcdd2",200:"#ef9a9a",300:"#e57373",400:"#ef5350",500:"#f44336",600:"#e53935",700:"#d32f2f",800:"#c62828",900:"#b71c1c",A100:"#ff8a80",A200:"#ff5252",A400:"#ff1744",A700:"#d50000"},yf=Nle,kle={50:"#fff3e0",100:"#ffe0b2",200:"#ffcc80",300:"#ffb74d",400:"#ffa726",500:"#ff9800",600:"#fb8c00",700:"#f57c00",800:"#ef6c00",900:"#e65100",A100:"#ffd180",A200:"#ffab40",A400:"#ff9100",A700:"#ff6d00"},Cy=kle,Gle={50:"#e3f2fd",100:"#bbdefb",200:"#90caf9",300:"#64b5f6",400:"#42a5f5",500:"#2196f3",600:"#1e88e5",700:"#1976d2",800:"#1565c0",900:"#0d47a1",A100:"#82b1ff",A200:"#448aff",A400:"#2979ff",A700:"#2962ff"},mf=Gle,Vle={50:"#e1f5fe",100:"#b3e5fc",200:"#81d4fa",300:"#4fc3f7",400:"#29b6f6",500:"#03a9f4",600:"#039be5",700:"#0288d1",800:"#0277bd",900:"#01579b",A100:"#80d8ff",A200:"#40c4ff",A400:"#00b0ff",A700:"#0091ea"},Cf=Vle,Ble={50:"#e8f5e9",100:"#c8e6c9",200:"#a5d6a7",300:"#81c784",400:"#66bb6a",500:"#4caf50",600:"#43a047",700:"#388e3c",800:"#2e7d32",900:"#1b5e20",A100:"#b9f6ca",A200:"#69f0ae",A400:"#00e676",A700:"#00c853"},Sf=Ble,Hle=["mode","contrastThreshold","tonalOffset"],ZH={text:{primary:"rgba(0, 0, 0, 0.87)",secondary:"rgba(0, 0, 0, 0.6)",disabled:"rgba(0, 0, 0, 0.38)"},divider:"rgba(0, 0, 0, 0.12)",background:{paper:pS.white,default:pS.white},action:{active:"rgba(0, 0, 0, 0.54)",hover:"rgba(0, 0, 0, 0.04)",hoverOpacity:.04,selected:"rgba(0, 0, 0, 0.08)",selectedOpacity:.08,disabled:"rgba(0, 0, 0, 0.26)",disabledBackground:"rgba(0, 0, 0, 0.12)",disabledOpacity:.38,focus:"rgba(0, 0, 0, 0.12)",focusOpacity:.12,activatedOpacity:.12}},nA={text:{primary:pS.white,secondary:"rgba(255, 255, 255, 0.7)",disabled:"rgba(255, 255, 255, 0.5)",icon:"rgba(255, 255, 255, 0.5)"},divider:"rgba(255, 255, 255, 0.12)",background:{paper:"#121212",default:"#121212"},action:{active:pS.white,hover:"rgba(255, 255, 255, 0.08)",hoverOpacity:.08,selected:"rgba(255, 255, 255, 0.16)",selectedOpacity:.16,disabled:"rgba(255, 255, 255, 0.3)",disabledBackground:"rgba(255, 255, 255, 0.12)",disabledOpacity:.38,focus:"rgba(255, 255, 255, 0.12)",focusOpacity:.12,activatedOpacity:.24}};function QH(n,t,e,r){const i=r.light||r,o=r.dark||r*1.5;n[t]||(n.hasOwnProperty(e)?n[t]=n[e]:t==="light"?n.light=wle(n.main,i):t==="dark"&&(n.dark=Cle(n.main,o)))}function jle(n="light"){return n==="dark"?{main:mf[200],light:mf[50],dark:mf[400]}:{main:mf[700],light:mf[400],dark:mf[800]}}function $le(n="light"){return n==="dark"?{main:gf[200],light:gf[50],dark:gf[400]}:{main:gf[500],light:gf[300],dark:gf[700]}}function Wle(n="light"){return n==="dark"?{main:yf[500],light:yf[300],dark:yf[700]}:{main:yf[700],light:yf[400],dark:yf[800]}}function Ule(n="light"){return n==="dark"?{main:Cf[400],light:Cf[300],dark:Cf[700]}:{main:Cf[700],light:Cf[500],dark:Cf[900]}}function zle(n="light"){return n==="dark"?{main:Sf[400],light:Sf[300],dark:Sf[700]}:{main:Sf[800],light:Sf[500],dark:Sf[900]}}function Kle(n="light"){return n==="dark"?{main:Cy[400],light:Cy[300],dark:Cy[700]}:{main:"#ed6c02",light:Cy[500],dark:Cy[900]}}function Yle(n){const{mode:t="light",contrastThreshold:e=3,tonalOffset:r=.2}=n,i=_e(n,Hle),o=n.primary||jle(t),a=n.secondary||$le(t),s=n.error||Wle(t),l=n.info||Ule(t),u=n.success||zle(t),c=n.warning||Kle(t);function d(v){return Sle(v,nA.text.primary)>=e?nA.text.primary:ZH.text.primary}const p=({color:v,name:g,mainShade:y=500,lightShade:m=300,darkShade:C=700})=>{if(v=k({},v),!v.main&&v[y]&&(v.main=v[y]),!v.hasOwnProperty("main"))throw new Error(Gh(11,g?` (${g})`:"",y));if(typeof v.main!="string")throw new Error(Gh(12,g?` (${g})`:"",JSON.stringify(v.main)));return QH(v,"light",m,r),QH(v,"dark",C,r),v.contrastText||(v.contrastText=d(v.main)),v},h={dark:nA,light:ZH};return ta(k({common:k({},pS),mode:t,primary:p({color:o,name:"primary"}),secondary:p({color:a,name:"secondary",mainShade:"A400",lightShade:"A200",darkShade:"A700"}),error:p({color:s,name:"error"}),warning:p({color:c,name:"warning"}),info:p({color:l,name:"info"}),success:p({color:u,name:"success"}),grey:Lle,contrastThreshold:e,getContrastText:d,augmentColor:p,tonalOffset:r},h[t]),i)}const Xle=["fontFamily","fontSize","fontWeightLight","fontWeightRegular","fontWeightMedium","fontWeightBold","htmlFontSize","allVariants","pxToRem"];function qle(n){return Math.round(n*1e5)/1e5}const JH={textTransform:"uppercase"},ej='"Roboto", "Helvetica", "Arial", sans-serif';function Zle(n,t){const e=typeof t=="function"?t(n):t,{fontFamily:r=ej,fontSize:i=14,fontWeightLight:o=300,fontWeightRegular:a=400,fontWeightMedium:s=500,fontWeightBold:l=700,htmlFontSize:u=16,allVariants:c,pxToRem:d}=e,p=_e(e,Xle),h=i/14,f=d||(y=>`${y/u*h}rem`),v=(y,m,C,S,w)=>k({fontFamily:r,fontWeight:y,fontSize:f(m),lineHeight:C},r===ej?{letterSpacing:`${qle(S/m)}em`}:{},w,c),g={h1:v(o,96,1.167,-1.5),h2:v(o,60,1.2,-.5),h3:v(a,48,1.167,0),h4:v(a,34,1.235,.25),h5:v(a,24,1.334,0),h6:v(s,20,1.6,.15),subtitle1:v(a,16,1.75,.15),subtitle2:v(s,14,1.57,.1),body1:v(a,16,1.5,.15),body2:v(a,14,1.43,.15),button:v(s,14,1.75,.4,JH),caption:v(a,12,1.66,.4),overline:v(a,12,2.66,1,JH),inherit:{fontFamily:"inherit",fontWeight:"inherit",fontSize:"inherit",lineHeight:"inherit",letterSpacing:"inherit"}};return ta(k({htmlFontSize:u,pxToRem:f,fontFamily:r,fontSize:i,fontWeightLight:o,fontWeightRegular:a,fontWeightMedium:s,fontWeightBold:l},g),p,{clone:!1})}const Qle=.2,Jle=.14,eue=.12;function wr(...n){return[`${n[0]}px ${n[1]}px ${n[2]}px ${n[3]}px rgba(0,0,0,${Qle})`,`${n[4]}px ${n[5]}px ${n[6]}px ${n[7]}px rgba(0,0,0,${Jle})`,`${n[8]}px ${n[9]}px ${n[10]}px ${n[11]}px rgba(0,0,0,${eue})`].join(",")}const tue=["none",wr(0,2,1,-1,0,1,1,0,0,1,3,0),wr(0,3,1,-2,0,2,2,0,0,1,5,0),wr(0,3,3,-2,0,3,4,0,0,1,8,0),wr(0,2,4,-1,0,4,5,0,0,1,10,0),wr(0,3,5,-1,0,5,8,0,0,1,14,0),wr(0,3,5,-1,0,6,10,0,0,1,18,0),wr(0,4,5,-2,0,7,10,1,0,2,16,1),wr(0,5,5,-3,0,8,10,1,0,3,14,2),wr(0,5,6,-3,0,9,12,1,0,3,16,2),wr(0,6,6,-3,0,10,14,1,0,4,18,3),wr(0,6,7,-4,0,11,15,1,0,4,20,3),wr(0,7,8,-4,0,12,17,2,0,5,22,4),wr(0,7,8,-4,0,13,19,2,0,5,24,4),wr(0,7,9,-4,0,14,21,2,0,5,26,4),wr(0,8,9,-5,0,15,22,2,0,6,28,5),wr(0,8,10,-5,0,16,24,2,0,6,30,5),wr(0,8,11,-5,0,17,26,2,0,6,32,5),wr(0,9,11,-5,0,18,28,2,0,7,34,6),wr(0,9,12,-6,0,19,29,2,0,7,36,6),wr(0,10,13,-6,0,20,31,3,0,8,38,7),wr(0,10,13,-6,0,21,33,3,0,8,40,7),wr(0,10,14,-6,0,22,35,3,0,8,42,7),wr(0,11,14,-7,0,23,36,3,0,9,44,8),wr(0,11,15,-7,0,24,38,3,0,9,46,8)],rue=["duration","easing","delay"],nue={easeInOut:"cubic-bezier(0.4, 0, 0.2, 1)",easeOut:"cubic-bezier(0.0, 0, 0.2, 1)",easeIn:"cubic-bezier(0.4, 0, 1, 1)",sharp:"cubic-bezier(0.4, 0, 0.6, 1)"},p9={shortest:150,shorter:200,short:250,standard:300,complex:375,enteringScreen:225,leavingScreen:195};function tj(n){return`${Math.round(n)}ms`}function iue(n){if(!n)return 0;const t=n/36;return Math.round((4+15*t**.25+t/5)*10)}function oue(n){const t=k({},nue,n.easing),e=k({},p9,n.duration);return k({getAutoHeightDuration:iue,create:(i=["all"],o={})=>{const{duration:a=e.standard,easing:s=t.easeInOut,delay:l=0}=o;return _e(o,rue),(Array.isArray(i)?i:[i]).map(u=>`${u} ${typeof a=="string"?a:tj(a)} ${s} ${typeof l=="string"?l:tj(l)}`).join(",")}},n,{easing:t,duration:e})}const aue={mobileStepper:1e3,fab:1050,speedDial:1050,appBar:1100,drawer:1200,modal:1300,snackbar:1400,tooltip:1500},sue=aue,lue=["breakpoints","mixins","spacing","palette","transitions","typography","shape"];function uue(n={},...t){const{mixins:e={},palette:r={},transitions:i={},typography:o={}}=n,a=_e(n,lue);if(n.vars)throw new Error(Gh(18));const s=Yle(r),l=gN(n);let u=ta(l,{mixins:gle(l.breakpoints,e),palette:s,shadows:tue.slice(),typography:Zle(s,o),transitions:oue(i),zIndex:k({},sue)});return u=ta(u,a),u=t.reduce((c,d)=>ta(c,d),u),u.unstable_sxConfig=k({},Sw,a==null?void 0:a.unstable_sxConfig),u.unstable_sx=function(d){return ww({sx:d,theme:this})},u}const cue=uue(),YR=cue,XR="$$material";function At({props:n,name:t}){return ple({props:n,name:t,defaultTheme:YR,themeId:XR})}var xw={},iA={exports:{}},rj;function due(){return rj||(rj=1,function(n){function t(e,r){if(e==null)return{};var i={},o=Object.keys(e),a,s;for(s=0;s<o.length;s++)a=o[s],!(r.indexOf(a)>=0)&&(i[a]=e[a]);return i}n.exports=t,n.exports.__esModule=!0,n.exports.default=n.exports}(iA)),iA.exports}const pue=Jl(lle),hue=Jl(Moe),fue=Jl(Woe),vue=Jl($oe),gue=Jl(ise),yue=Jl(vle);var Ig=gw;Object.defineProperty(xw,"__esModule",{value:!0});var mue=xw.default=Due,h9=xw.shouldForwardProp=zx;xw.systemDefaultTheme=void 0;var Ea=Ig(r9()),BF=Ig(due()),nj=bue(pue),Cue=hue;Ig(fue);Ig(vue);var Sue=Ig(gue),wue=Ig(yue);const _ue=["ownerState"],xue=["variants"],Eue=["name","slot","skipVariantsResolver","skipSx","overridesResolver"];function f9(n){if(typeof WeakMap!="function")return null;var t=new WeakMap,e=new WeakMap;return(f9=function(r){return r?e:t})(n)}function bue(n,t){if(!t&&n&&n.__esModule)return n;if(n===null||typeof n!="object"&&typeof n!="function")return{default:n};var e=f9(t);if(e&&e.has(n))return e.get(n);var r={__proto__:null},i=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in n)if(o!=="default"&&Object.prototype.hasOwnProperty.call(n,o)){var a=i?Object.getOwnPropertyDescriptor(n,o):null;a&&(a.get||a.set)?Object.defineProperty(r,o,a):r[o]=n[o]}return r.default=n,e&&e.set(n,r),r}function Oue(n){return Object.keys(n).length===0}function Rue(n){return typeof n=="string"&&n.charCodeAt(0)>96}function zx(n){return n!=="ownerState"&&n!=="theme"&&n!=="sx"&&n!=="as"}const Tue=xw.systemDefaultTheme=(0,Sue.default)(),Pue=n=>n&&n.charAt(0).toLowerCase()+n.slice(1);function N0({defaultTheme:n,theme:t,themeId:e}){return Oue(t)?n:t[e]||t}function Aue(n){return n?(t,e)=>e[n]:null}function Kx(n,t){let{ownerState:e}=t,r=(0,BF.default)(t,_ue);const i=typeof n=="function"?n((0,Ea.default)({ownerState:e},r)):n;if(Array.isArray(i))return i.flatMap(o=>Kx(o,(0,Ea.default)({ownerState:e},r)));if(i&&typeof i=="object"&&Array.isArray(i.variants)){const{variants:o=[]}=i;let s=(0,BF.default)(i,xue);return o.forEach(l=>{let u=!0;typeof l.props=="function"?u=l.props((0,Ea.default)({ownerState:e},r,e)):Object.keys(l.props).forEach(c=>{(e==null?void 0:e[c])!==l.props[c]&&r[c]!==l.props[c]&&(u=!1)}),u&&(Array.isArray(s)||(s=[s]),s.push(typeof l.style=="function"?l.style((0,Ea.default)({ownerState:e},r,e)):l.style))}),s}return i}function Due(n={}){const{themeId:t,defaultTheme:e=Tue,rootShouldForwardProp:r=zx,slotShouldForwardProp:i=zx}=n,o=a=>(0,wue.default)((0,Ea.default)({},a,{theme:N0((0,Ea.default)({},a,{defaultTheme:e,themeId:t}))}));return o.__mui_systemSx=!0,(a,s={})=>{(0,nj.internal_processStyles)(a,w=>w.filter(_=>!(_!=null&&_.__mui_systemSx)));const{name:l,slot:u,skipVariantsResolver:c,skipSx:d,overridesResolver:p=Aue(Pue(u))}=s,h=(0,BF.default)(s,Eue),f=c!==void 0?c:u&&u!=="Root"&&u!=="root"||!1,v=d||!1;let g,y=zx;u==="Root"||u==="root"?y=r:u?y=i:Rue(a)&&(y=void 0);const m=(0,nj.default)(a,(0,Ea.default)({shouldForwardProp:y,label:g},h)),C=w=>typeof w=="function"&&w.__emotion_real!==w||(0,Cue.isPlainObject)(w)?_=>Kx(w,(0,Ea.default)({},_,{theme:N0({theme:_.theme,defaultTheme:e,themeId:t})})):w,S=(w,..._)=>{let x=C(w);const b=_?_.map(C):[];l&&p&&b.push(A=>{const N=N0((0,Ea.default)({},A,{defaultTheme:e,themeId:t}));if(!N.components||!N.components[l]||!N.components[l].styleOverrides)return null;const M=N.components[l].styleOverrides,L={};return Object.entries(M).forEach(([G,H])=>{L[G]=Kx(H,(0,Ea.default)({},A,{theme:N}))}),p(A,L)}),l&&!f&&b.push(A=>{var N;const M=N0((0,Ea.default)({},A,{defaultTheme:e,themeId:t})),L=M==null||(N=M.components)==null||(N=N[l])==null?void 0:N.variants;return Kx({variants:L},(0,Ea.default)({},A,{theme:M}))}),v||b.push(o);const O=b.length-_.length;if(Array.isArray(w)&&O>0){const A=new Array(O).fill("");x=[...w,...A],x.raw=[...w.raw,...A]}const T=m(x,...b);return a.muiName&&(T.muiName=a.muiName),T};return m.withConfig&&(S.withConfig=m.withConfig),S}}const Gs=n=>h9(n)&&n!=="classes",Mue=h9,be=mue({themeId:XR,defaultTheme:YR,rootShouldForwardProp:Gs});function Fue(n){return at("MuiSvgIcon",n)}it("MuiSvgIcon",["root","colorPrimary","colorSecondary","colorAction","colorError","colorDisabled","fontSizeInherit","fontSizeSmall","fontSizeMedium","fontSizeLarge"]);const Lue=["children","className","color","component","fontSize","htmlColor","inheritViewBox","titleAccess","viewBox"],Iue=n=>{const{color:t,fontSize:e,classes:r}=n,i={root:["root",t!=="inherit"&&`color${Be(t)}`,`fontSize${Be(e)}`]};return nt(i,Fue,r)},Nue=be("svg",{name:"MuiSvgIcon",slot:"Root",overridesResolver:(n,t)=>{const{ownerState:e}=n;return[t.root,e.color!=="inherit"&&t[`color${Be(e.color)}`],t[`fontSize${Be(e.fontSize)}`]]}})(({theme:n,ownerState:t})=>{var e,r,i,o,a,s,l,u,c,d,p,h,f;return{userSelect:"none",width:"1em",height:"1em",display:"inline-block",fill:t.hasSvgAsChild?void 0:"currentColor",flexShrink:0,transition:(e=n.transitions)==null||(r=e.create)==null?void 0:r.call(e,"fill",{duration:(i=n.transitions)==null||(i=i.duration)==null?void 0:i.shorter}),fontSize:{inherit:"inherit",small:((o=n.typography)==null||(a=o.pxToRem)==null?void 0:a.call(o,20))||"1.25rem",medium:((s=n.typography)==null||(l=s.pxToRem)==null?void 0:l.call(s,24))||"1.5rem",large:((u=n.typography)==null||(c=u.pxToRem)==null?void 0:c.call(u,35))||"2.1875rem"}[t.fontSize],color:(d=(p=(n.vars||n).palette)==null||(p=p[t.color])==null?void 0:p.main)!=null?d:{action:(h=(n.vars||n).palette)==null||(h=h.action)==null?void 0:h.active,disabled:(f=(n.vars||n).palette)==null||(f=f.action)==null?void 0:f.disabled,inherit:void 0}[t.color]}}),HF=I.forwardRef(function(t,e){const r=At({props:t,name:"MuiSvgIcon"}),{children:i,className:o,color:a="inherit",component:s="svg",fontSize:l="medium",htmlColor:u,inheritViewBox:c=!1,titleAccess:d,viewBox:p="0 0 24 24"}=r,h=_e(r,Lue),f=I.isValidElement(i)&&i.type==="svg",v=k({},r,{color:a,component:s,fontSize:l,instanceFontSize:t.fontSize,inheritViewBox:c,viewBox:p,hasSvgAsChild:f}),g={};c||(g.viewBox=p);const y=Iue(v);return B.jsxs(Nue,k({as:s,className:We(y.root,o),focusable:"false",color:u,"aria-hidden":d?void 0:!0,role:d?"img":void 0,ref:e},g,h,f&&i.props,{ownerState:v,children:[f?i.props.children:i,d?B.jsx("title",{children:d}):null]}))});HF.muiName="SvgIcon";function TN(n,t){function e(r,i){return B.jsx(HF,k({"data-testid":`${t}Icon`,ref:i},r,{children:n}))}return e.muiName=HF.muiName,I.memo(I.forwardRef(e))}const kue={configure:n=>{dN.configure(n)}},Gue=Object.freeze(Object.defineProperty({__proto__:null,capitalize:Be,createChainedFunction:LF,createSvgIcon:TN,debounce:lN,deprecatedPropType:Uoe,isMuiElement:jx,ownerDocument:di,ownerWindow:Wu,requirePropFactory:zoe,setRef:tb,unstable_ClassNameGenerator:kue,unstable_useEnhancedEffect:ia,unstable_useId:yw,unsupportedProp:Xoe,useControlled:rb,useEventCallback:sh,useForkRef:nn,useIsFocusVisible:T6},Symbol.toStringTag,{value:"Module"})),Vue=Jl(Gue);var ij;function PN(){return ij||(ij=1,function(n){"use client";Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"default",{enumerable:!0,get:function(){return t.createSvgIcon}});var t=Vue}(JP)),JP}var Bue=gw;Object.defineProperty(oN,"__esModule",{value:!0});var v9=oN.default=void 0,Hue=Bue(PN()),jue=B;v9=oN.default=(0,Hue.default)((0,jue.jsx)("path",{d:"M19 3h-4.18C14.4 1.84 13.3 1 12 1c-1.3 0-2.4.84-2.82 2H5c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2m-7 0c.55 0 1 .45 1 1s-.45 1-1 1-1-.45-1-1 .45-1 1-1m2 14H7v-2h7zm3-4H7v-2h10zm0-4H7V7h10z"}),"Assignment");function $ue({styles:n,themeId:t,defaultTheme:e={}}){const r=KR(e),i=typeof n=="function"?n(t&&r[t]||r):n;return B.jsx(i9,{styles:i})}const Wue=["className","component"];function Uue(n={}){const{themeId:t,defaultTheme:e,defaultClassName:r="MuiBox-root",generateClassName:i}=n,o=o9("div",{shouldForwardProp:s=>s!=="theme"&&s!=="sx"&&s!=="as"})(ww);return I.forwardRef(function(l,u){const c=KR(e),d=EN(l),{className:p,component:h="div"}=d,f=_e(d,Wue);return B.jsx(o,k({as:h,ref:u,className:We(p,i?i(r):r),theme:t&&c[t]||c},f))})}const zue=it("MuiBox",["root"]),Kue=zue,Yue=Uue({defaultClassName:Kue.root,generateClassName:dN.generate}),Xue=Yue;function lc(){const n=KR(YR);return n[XR]||n}const oj=n=>{let t;return n<1?t=5.11916*n**2:t=4.5*Math.log(n+1)+2,(t/100).toFixed(2)};function jF(n,t){return jF=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},jF(n,t)}function g9(n,t){n.prototype=Object.create(t.prototype),n.prototype.constructor=n,jF(n,t)}const aj={disabled:!1},ab=xs.createContext(null);var que=function(t){return t.scrollTop},Fm="unmounted",kp="exited",Gp="entering",Qf="entered",$F="exiting",uc=function(n){g9(t,n);function t(r,i){var o;o=n.call(this,r,i)||this;var a=i,s=a&&!a.isMounting?r.enter:r.appear,l;return o.appearStatus=null,r.in?s?(l=kp,o.appearStatus=Gp):l=Qf:r.unmountOnExit||r.mountOnEnter?l=Fm:l=kp,o.state={status:l},o.nextCallback=null,o}t.getDerivedStateFromProps=function(i,o){var a=i.in;return a&&o.status===Fm?{status:kp}:null};var e=t.prototype;return e.componentDidMount=function(){this.updateStatus(!0,this.appearStatus)},e.componentDidUpdate=function(i){var o=null;if(i!==this.props){var a=this.state.status;this.props.in?a!==Gp&&a!==Qf&&(o=Gp):(a===Gp||a===Qf)&&(o=$F)}this.updateStatus(!1,o)},e.componentWillUnmount=function(){this.cancelNextCallback()},e.getTimeouts=function(){var i=this.props.timeout,o,a,s;return o=a=s=i,i!=null&&typeof i!="number"&&(o=i.exit,a=i.enter,s=i.appear!==void 0?i.appear:a),{exit:o,enter:a,appear:s}},e.updateStatus=function(i,o){if(i===void 0&&(i=!1),o!==null)if(this.cancelNextCallback(),o===Gp){if(this.props.unmountOnExit||this.props.mountOnEnter){var a=this.props.nodeRef?this.props.nodeRef.current:L0.findDOMNode(this);a&&que(a)}this.performEnter(i)}else this.performExit();else this.props.unmountOnExit&&this.state.status===kp&&this.setState({status:Fm})},e.performEnter=function(i){var o=this,a=this.props.enter,s=this.context?this.context.isMounting:i,l=this.props.nodeRef?[s]:[L0.findDOMNode(this),s],u=l[0],c=l[1],d=this.getTimeouts(),p=s?d.appear:d.enter;if(!i&&!a||aj.disabled){this.safeSetState({status:Qf},function(){o.props.onEntered(u)});return}this.props.onEnter(u,c),this.safeSetState({status:Gp},function(){o.props.onEntering(u,c),o.onTransitionEnd(p,function(){o.safeSetState({status:Qf},function(){o.props.onEntered(u,c)})})})},e.performExit=function(){var i=this,o=this.props.exit,a=this.getTimeouts(),s=this.props.nodeRef?void 0:L0.findDOMNode(this);if(!o||aj.disabled){this.safeSetState({status:kp},function(){i.props.onExited(s)});return}this.props.onExit(s),this.safeSetState({status:$F},function(){i.props.onExiting(s),i.onTransitionEnd(a.exit,function(){i.safeSetState({status:kp},function(){i.props.onExited(s)})})})},e.cancelNextCallback=function(){this.nextCallback!==null&&(this.nextCallback.cancel(),this.nextCallback=null)},e.safeSetState=function(i,o){o=this.setNextCallback(o),this.setState(i,o)},e.setNextCallback=function(i){var o=this,a=!0;return this.nextCallback=function(s){a&&(a=!1,o.nextCallback=null,i(s))},this.nextCallback.cancel=function(){a=!1},this.nextCallback},e.onTransitionEnd=function(i,o){this.setNextCallback(o);var a=this.props.nodeRef?this.props.nodeRef.current:L0.findDOMNode(this),s=i==null&&!this.props.addEndListener;if(!a||s){setTimeout(this.nextCallback,0);return}if(this.props.addEndListener){var l=this.props.nodeRef?[this.nextCallback]:[a,this.nextCallback],u=l[0],c=l[1];this.props.addEndListener(u,c)}i!=null&&setTimeout(this.nextCallback,i)},e.render=function(){var i=this.state.status;if(i===Fm)return null;var o=this.props,a=o.children;o.in,o.mountOnEnter,o.unmountOnExit,o.appear,o.enter,o.exit,o.timeout,o.addEndListener,o.onEnter,o.onEntering,o.onEntered,o.onExit,o.onExiting,o.onExited,o.nodeRef;var s=_e(o,["children","in","mountOnEnter","unmountOnExit","appear","enter","exit","timeout","addEndListener","onEnter","onEntering","onEntered","onExit","onExiting","onExited","nodeRef"]);return xs.createElement(ab.Provider,{value:null},typeof a=="function"?a(i,s):xs.cloneElement(xs.Children.only(a),s))},t}(xs.Component);uc.contextType=ab;uc.propTypes={};function wf(){}uc.defaultProps={in:!1,mountOnEnter:!1,unmountOnExit:!1,appear:!1,enter:!0,exit:!0,onEnter:wf,onEntering:wf,onEntered:wf,onExit:wf,onExiting:wf,onExited:wf};uc.UNMOUNTED=Fm;uc.EXITED=kp;uc.ENTERING=Gp;uc.ENTERED=Qf;uc.EXITING=$F;const AN=uc;function Zue(n){if(n===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return n}function DN(n,t){var e=function(o){return t&&I.isValidElement(o)?t(o):o},r=Object.create(null);return n&&I.Children.map(n,function(i){return i}).forEach(function(i){r[i.key]=e(i)}),r}function Que(n,t){n=n||{},t=t||{};function e(c){return c in t?t[c]:n[c]}var r=Object.create(null),i=[];for(var o in n)o in t?i.length&&(r[o]=i,i=[]):i.push(o);var a,s={};for(var l in t){if(r[l])for(a=0;a<r[l].length;a++){var u=r[l][a];s[r[l][a]]=e(u)}s[l]=e(l)}for(a=0;a<i.length;a++)s[i[a]]=e(i[a]);return s}function lh(n,t,e){return e[t]!=null?e[t]:n.props[t]}function Jue(n,t){return DN(n.children,function(e){return I.cloneElement(e,{onExited:t.bind(null,e),in:!0,appear:lh(e,"appear",n),enter:lh(e,"enter",n),exit:lh(e,"exit",n)})})}function ece(n,t,e){var r=DN(n.children),i=Que(t,r);return Object.keys(i).forEach(function(o){var a=i[o];if(I.isValidElement(a)){var s=o in t,l=o in r,u=t[o],c=I.isValidElement(u)&&!u.props.in;l&&(!s||c)?i[o]=I.cloneElement(a,{onExited:e.bind(null,a),in:!0,exit:lh(a,"exit",n),enter:lh(a,"enter",n)}):!l&&s&&!c?i[o]=I.cloneElement(a,{in:!1}):l&&s&&I.isValidElement(u)&&(i[o]=I.cloneElement(a,{onExited:e.bind(null,a),in:u.props.in,exit:lh(a,"exit",n),enter:lh(a,"enter",n)}))}}),i}var tce=Object.values||function(n){return Object.keys(n).map(function(t){return n[t]})},rce={component:"div",childFactory:function(t){return t}},MN=function(n){g9(t,n);function t(r,i){var o;o=n.call(this,r,i)||this;var a=o.handleExited.bind(Zue(o));return o.state={contextValue:{isMounting:!0},handleExited:a,firstRender:!0},o}var e=t.prototype;return e.componentDidMount=function(){this.mounted=!0,this.setState({contextValue:{isMounting:!1}})},e.componentWillUnmount=function(){this.mounted=!1},t.getDerivedStateFromProps=function(i,o){var a=o.children,s=o.handleExited,l=o.firstRender;return{children:l?Jue(i,s):ece(i,a,s),firstRender:!1}},e.handleExited=function(i,o){var a=DN(this.props.children);i.key in a||(i.props.onExited&&i.props.onExited(o),this.mounted&&this.setState(function(s){var l=k({},s.children);return delete l[i.key],{children:l}}))},e.render=function(){var i=this.props,o=i.component,a=i.childFactory,s=_e(i,["component","childFactory"]),l=this.state.contextValue,u=tce(this.state.children).map(a);return delete s.appear,delete s.enter,delete s.exit,o===null?xs.createElement(ab.Provider,{value:l},u):xs.createElement(ab.Provider,{value:l},xs.createElement(o,s,u))},t}(xs.Component);MN.propTypes={};MN.defaultProps=rce;const nce=MN,y9=n=>n.scrollTop;function lg(n,t){var e,r;const{timeout:i,easing:o,style:a={}}=n;return{duration:(e=a.transitionDuration)!=null?e:typeof i=="number"?i:i[t.mode]||0,easing:(r=a.transitionTimingFunction)!=null?r:typeof o=="object"?o[t.mode]:o,delay:a.transitionDelay}}function ice(n){return at("MuiCollapse",n)}it("MuiCollapse",["root","horizontal","vertical","entered","hidden","wrapper","wrapperInner"]);const oce=["addEndListener","children","className","collapsedSize","component","easing","in","onEnter","onEntered","onEntering","onExit","onExited","onExiting","orientation","style","timeout","TransitionComponent"],ace=n=>{const{orientation:t,classes:e}=n,r={root:["root",`${t}`],entered:["entered"],hidden:["hidden"],wrapper:["wrapper",`${t}`],wrapperInner:["wrapperInner",`${t}`]};return nt(r,ice,e)},sce=be("div",{name:"MuiCollapse",slot:"Root",overridesResolver:(n,t)=>{const{ownerState:e}=n;return[t.root,t[e.orientation],e.state==="entered"&&t.entered,e.state==="exited"&&!e.in&&e.collapsedSize==="0px"&&t.hidden]}})(({theme:n,ownerState:t})=>k({height:0,overflow:"hidden",transition:n.transitions.create("height")},t.orientation==="horizontal"&&{height:"auto",width:0,transition:n.transitions.create("width")},t.state==="entered"&&k({height:"auto",overflow:"visible"},t.orientation==="horizontal"&&{width:"auto"}),t.state==="exited"&&!t.in&&t.collapsedSize==="0px"&&{visibility:"hidden"})),lce=be("div",{name:"MuiCollapse",slot:"Wrapper",overridesResolver:(n,t)=>t.wrapper})(({ownerState:n})=>k({display:"flex",width:"100%"},n.orientation==="horizontal"&&{width:"auto",height:"100%"})),uce=be("div",{name:"MuiCollapse",slot:"WrapperInner",overridesResolver:(n,t)=>t.wrapperInner})(({ownerState:n})=>k({width:"100%"},n.orientation==="horizontal"&&{width:"auto",height:"100%"})),m9=I.forwardRef(function(t,e){const r=At({props:t,name:"MuiCollapse"}),{addEndListener:i,children:o,className:a,collapsedSize:s="0px",component:l,easing:u,in:c,onEnter:d,onEntered:p,onEntering:h,onExit:f,onExited:v,onExiting:g,orientation:y="vertical",style:m,timeout:C=p9.standard,TransitionComponent:S=AN}=r,w=_e(r,oce),_=k({},r,{orientation:y,collapsedSize:s}),x=ace(_),b=lc(),O=uN(),T=I.useRef(null),A=I.useRef(),N=typeof s=="number"?`${s}px`:s,M=y==="horizontal",L=M?"width":"height",G=I.useRef(null),H=nn(e,G),j=Y=>le=>{if(Y){const ye=G.current;le===void 0?Y(ye):Y(ye,le)}},V=()=>T.current?T.current[M?"clientWidth":"clientHeight"]:0,W=j((Y,le)=>{T.current&&M&&(T.current.style.position="absolute"),Y.style[L]=N,d&&d(Y,le)}),K=j((Y,le)=>{const ye=V();T.current&&M&&(T.current.style.position="");const{duration:Q,easing:he}=lg({style:m,timeout:C,easing:u},{mode:"enter"});if(C==="auto"){const ue=b.transitions.getAutoHeightDuration(ye);Y.style.transitionDuration=`${ue}ms`,A.current=ue}else Y.style.transitionDuration=typeof Q=="string"?Q:`${Q}ms`;Y.style[L]=`${ye}px`,Y.style.transitionTimingFunction=he,h&&h(Y,le)}),ee=j((Y,le)=>{Y.style[L]="auto",p&&p(Y,le)}),Z=j(Y=>{Y.style[L]=`${V()}px`,f&&f(Y)}),se=j(v),ie=j(Y=>{const le=V(),{duration:ye,easing:Q}=lg({style:m,timeout:C,easing:u},{mode:"exit"});if(C==="auto"){const he=b.transitions.getAutoHeightDuration(le);Y.style.transitionDuration=`${he}ms`,A.current=he}else Y.style.transitionDuration=typeof ye=="string"?ye:`${ye}ms`;Y.style[L]=N,Y.style.transitionTimingFunction=Q,g&&g(Y)}),re=Y=>{C==="auto"&&O.start(A.current||0,Y),i&&i(G.current,Y)};return B.jsx(S,k({in:c,onEnter:W,onEntered:ee,onEntering:K,onExit:Z,onExited:se,onExiting:ie,addEndListener:re,nodeRef:G,timeout:C==="auto"?null:C},w,{children:(Y,le)=>B.jsx(sce,k({as:l,className:We(x.root,a,{entered:x.entered,exited:!c&&N==="0px"&&x.hidden}[Y]),style:k({[M?"minWidth":"minHeight"]:N},m),ref:H},le,{ownerState:k({},_,{state:Y}),children:B.jsx(lce,{ownerState:k({},_,{state:Y}),className:x.wrapper,ref:T,children:B.jsx(uce,{ownerState:k({},_,{state:Y}),className:x.wrapperInner,children:o})})}))}))});m9.muiSupportAuto=!0;const cce=m9;function dce(n){return at("MuiPaper",n)}it("MuiPaper",["root","rounded","outlined","elevation","elevation0","elevation1","elevation2","elevation3","elevation4","elevation5","elevation6","elevation7","elevation8","elevation9","elevation10","elevation11","elevation12","elevation13","elevation14","elevation15","elevation16","elevation17","elevation18","elevation19","elevation20","elevation21","elevation22","elevation23","elevation24"]);const pce=["className","component","elevation","square","variant"],hce=n=>{const{square:t,elevation:e,variant:r,classes:i}=n,o={root:["root",r,!t&&"rounded",r==="elevation"&&`elevation${e}`]};return nt(o,dce,i)},fce=be("div",{name:"MuiPaper",slot:"Root",overridesResolver:(n,t)=>{const{ownerState:e}=n;return[t.root,t[e.variant],!e.square&&t.rounded,e.variant==="elevation"&&t[`elevation${e.elevation}`]]}})(({theme:n,ownerState:t})=>{var e;return k({backgroundColor:(n.vars||n).palette.background.paper,color:(n.vars||n).palette.text.primary,transition:n.transitions.create("box-shadow")},!t.square&&{borderRadius:n.shape.borderRadius},t.variant==="outlined"&&{border:`1px solid ${(n.vars||n).palette.divider}`},t.variant==="elevation"&&k({boxShadow:(n.vars||n).shadows[t.elevation]},!n.vars&&n.palette.mode==="dark"&&{backgroundImage:`linear-gradient(${Tu("#fff",oj(t.elevation))}, ${Tu("#fff",oj(t.elevation))})`},n.vars&&{backgroundImage:(e=n.vars.overlays)==null?void 0:e[t.elevation]}))}),vce=I.forwardRef(function(t,e){const r=At({props:t,name:"MuiPaper"}),{className:i,component:o="div",elevation:a=1,square:s=!1,variant:l="elevation"}=r,u=_e(r,pce),c=k({},r,{component:o,elevation:a,square:s,variant:l}),d=hce(c);return B.jsx(fce,k({as:o,ownerState:c,className:We(d.root,i),ref:e},u))}),FN=vce,C9=I.createContext({});function sb(n){return typeof n=="string"}function S9(n,t,e){return n===void 0||sb(n)?t:k({},t,{ownerState:k({},t.ownerState,e)})}const gce={disableDefaultClasses:!1},yce=I.createContext(gce);function mce(n){const{disableDefaultClasses:t}=I.useContext(yce);return e=>t?"":n(e)}function w9(n,t=[]){if(n===void 0)return{};const e={};return Object.keys(n).filter(r=>r.match(/^on[A-Z]/)&&typeof n[r]=="function"&&!t.includes(r)).forEach(r=>{e[r]=n[r]}),e}function _9(n,t,e){return typeof n=="function"?n(t,e):n}function sj(n){if(n===void 0)return{};const t={};return Object.keys(n).filter(e=>!(e.match(/^on[A-Z]/)&&typeof n[e]=="function")).forEach(e=>{t[e]=n[e]}),t}function x9(n){const{getSlotProps:t,additionalProps:e,externalSlotProps:r,externalForwardedProps:i,className:o}=n;if(!t){const h=We(e==null?void 0:e.className,o,i==null?void 0:i.className,r==null?void 0:r.className),f=k({},e==null?void 0:e.style,i==null?void 0:i.style,r==null?void 0:r.style),v=k({},e,i,r);return h.length>0&&(v.className=h),Object.keys(f).length>0&&(v.style=f),{props:v,internalRef:void 0}}const a=w9(k({},i,r)),s=sj(r),l=sj(i),u=t(a),c=We(u==null?void 0:u.className,e==null?void 0:e.className,o,i==null?void 0:i.className,r==null?void 0:r.className),d=k({},u==null?void 0:u.style,e==null?void 0:e.style,i==null?void 0:i.style,r==null?void 0:r.style),p=k({},u,e,l,s);return c.length>0&&(p.className=c),Object.keys(d).length>0&&(p.style=d),{props:p,internalRef:u.ref}}const Cce=["elementType","externalSlotProps","ownerState","skipResolvingSlotProps"];function wn(n){var t;const{elementType:e,externalSlotProps:r,ownerState:i,skipResolvingSlotProps:o=!1}=n,a=_e(n,Cce),s=o?{}:_9(r,i),{props:l,internalRef:u}=x9(k({},a,{externalSlotProps:s})),c=nn(u,s==null?void 0:s.ref,(t=n.additionalProps)==null?void 0:t.ref);return S9(e,k({},l,{ref:c}),i)}const Sce=["className","elementType","ownerState","externalForwardedProps","getSlotOwnerState","internalForwardedProps"],wce=["component","slots","slotProps"],_ce=["component"];function xce(n,t){const{className:e,elementType:r,ownerState:i,externalForwardedProps:o,getSlotOwnerState:a,internalForwardedProps:s}=t,l=_e(t,Sce),{component:u,slots:c={[n]:void 0},slotProps:d={[n]:void 0}}=o,p=_e(o,wce),h=c[n]||r,f=_9(d[n],i),v=x9(k({className:e},l,{externalForwardedProps:n==="root"?p:void 0,externalSlotProps:f})),{props:{component:g},internalRef:y}=v,m=_e(v.props,_ce),C=nn(y,f==null?void 0:f.ref,t.ref),S=a?a(m):{},w=k({},i,S),_=n==="root"?g||u:g,x=S9(h,k({},n==="root"&&!u&&!c[n]&&s,n!=="root"&&!c[n]&&s,m,_&&{as:_},{ref:C}),w);return Object.keys(S).forEach(b=>{delete x[b]}),[h,x]}function Ece(n){return at("MuiAccordion",n)}const bce=it("MuiAccordion",["root","rounded","expanded","disabled","gutters","region"]),k0=bce,Oce=["children","className","defaultExpanded","disabled","disableGutters","expanded","onChange","square","slots","slotProps","TransitionComponent","TransitionProps"],Rce=n=>{const{classes:t,square:e,expanded:r,disabled:i,disableGutters:o}=n;return nt({root:["root",!e&&"rounded",r&&"expanded",i&&"disabled",!o&&"gutters"],region:["region"]},Ece,t)},Tce=be(FN,{name:"MuiAccordion",slot:"Root",overridesResolver:(n,t)=>{const{ownerState:e}=n;return[{[`& .${k0.region}`]:t.region},t.root,!e.square&&t.rounded,!e.disableGutters&&t.gutters]}})(({theme:n})=>{const t={duration:n.transitions.duration.shortest};return{position:"relative",transition:n.transitions.create(["margin"],t),overflowAnchor:"none","&::before":{position:"absolute",left:0,top:-1,right:0,height:1,content:'""',opacity:1,backgroundColor:(n.vars||n).palette.divider,transition:n.transitions.create(["opacity","background-color"],t)},"&:first-of-type":{"&::before":{display:"none"}},[`&.${k0.expanded}`]:{"&::before":{opacity:0},"&:first-of-type":{marginTop:0},"&:last-of-type":{marginBottom:0},"& + &":{"&::before":{display:"none"}}},[`&.${k0.disabled}`]:{backgroundColor:(n.vars||n).palette.action.disabledBackground}}},({theme:n,ownerState:t})=>k({},!t.square&&{borderRadius:0,"&:first-of-type":{borderTopLeftRadius:(n.vars||n).shape.borderRadius,borderTopRightRadius:(n.vars||n).shape.borderRadius},"&:last-of-type":{borderBottomLeftRadius:(n.vars||n).shape.borderRadius,borderBottomRightRadius:(n.vars||n).shape.borderRadius,"@supports (-ms-ime-align: auto)":{borderBottomLeftRadius:0,borderBottomRightRadius:0}}},!t.disableGutters&&{[`&.${k0.expanded}`]:{margin:"16px 0"}})),Pce=I.forwardRef(function(t,e){const r=At({props:t,name:"MuiAccordion"}),{children:i,className:o,defaultExpanded:a=!1,disabled:s=!1,disableGutters:l=!1,expanded:u,onChange:c,square:d=!1,slots:p={},slotProps:h={},TransitionComponent:f,TransitionProps:v}=r,g=_e(r,Oce),[y,m]=rb({controlled:u,default:a,name:"Accordion",state:"expanded"}),C=I.useCallback(M=>{m(!y),c&&c(M,!y)},[y,c,m]),[S,...w]=I.Children.toArray(i),_=I.useMemo(()=>({expanded:y,disabled:s,disableGutters:l,toggle:C}),[y,s,l,C]),x=k({},r,{square:d,disabled:s,disableGutters:l,expanded:y}),b=Rce(x),O=k({transition:f},p),T=k({transition:v},h),[A,N]=xce("transition",{elementType:cce,externalForwardedProps:{slots:O,slotProps:T},ownerState:x});return B.jsxs(Tce,k({className:We(b.root,o),ref:e,ownerState:x,square:d},g,{children:[B.jsx(C9.Provider,{value:_,children:S}),B.jsx(A,k({in:y,timeout:"auto"},N,{children:B.jsx("div",{"aria-labelledby":S.props.id,id:S.props["aria-controls"],role:"region",className:b.region,children:w})}))]}))}),G0=Pce;function Ace(n){return at("MuiAccordionDetails",n)}it("MuiAccordionDetails",["root"]);const Dce=["className"],Mce=n=>{const{classes:t}=n;return nt({root:["root"]},Ace,t)},Fce=be("div",{name:"MuiAccordionDetails",slot:"Root",overridesResolver:(n,t)=>t.root})(({theme:n})=>({padding:n.spacing(1,2,2)})),Lce=I.forwardRef(function(t,e){const r=At({props:t,name:"MuiAccordionDetails"}),{className:i}=r,o=_e(r,Dce),a=r,s=Mce(a);return B.jsx(Fce,k({className:We(s.root,i),ref:e,ownerState:a},o))}),V0=Lce;function Ice(n){const{className:t,classes:e,pulsate:r=!1,rippleX:i,rippleY:o,rippleSize:a,in:s,onExited:l,timeout:u}=n,[c,d]=I.useState(!1),p=We(t,e.ripple,e.rippleVisible,r&&e.ripplePulsate),h={width:a,height:a,top:-(a/2)+o,left:-(a/2)+i},f=We(e.child,c&&e.childLeaving,r&&e.childPulsate);return!s&&!c&&d(!0),I.useEffect(()=>{if(!s&&l!=null){const v=setTimeout(l,u);return()=>{clearTimeout(v)}}},[l,s,u]),B.jsx("span",{className:p,style:h,children:B.jsx("span",{className:f})})}const ba=it("MuiTouchRipple",["root","ripple","rippleVisible","ripplePulsate","child","childLeaving","childPulsate"]),Nce=["center","classes","className"];let qR=n=>n,lj,uj,cj,dj;const WF=550,kce=80,Gce=zR(lj||(lj=qR`
  0% {
    transform: scale(0);
    opacity: 0.1;
  }

  100% {
    transform: scale(1);
    opacity: 0.3;
  }
`)),Vce=zR(uj||(uj=qR`
  0% {
    opacity: 1;
  }

  100% {
    opacity: 0;
  }
`)),Bce=zR(cj||(cj=qR`
  0% {
    transform: scale(1);
  }

  50% {
    transform: scale(0.92);
  }

  100% {
    transform: scale(1);
  }
`)),Hce=be("span",{name:"MuiTouchRipple",slot:"Root"})({overflow:"hidden",pointerEvents:"none",position:"absolute",zIndex:0,top:0,right:0,bottom:0,left:0,borderRadius:"inherit"}),jce=be(Ice,{name:"MuiTouchRipple",slot:"Ripple"})(dj||(dj=qR`
  opacity: 0;
  position: absolute;

  &.${0} {
    opacity: 0.3;
    transform: scale(1);
    animation-name: ${0};
    animation-duration: ${0}ms;
    animation-timing-function: ${0};
  }

  &.${0} {
    animation-duration: ${0}ms;
  }

  & .${0} {
    opacity: 1;
    display: block;
    width: 100%;
    height: 100%;
    border-radius: 50%;
    background-color: currentColor;
  }

  & .${0} {
    opacity: 0;
    animation-name: ${0};
    animation-duration: ${0}ms;
    animation-timing-function: ${0};
  }

  & .${0} {
    position: absolute;
    /* @noflip */
    left: 0px;
    top: 0;
    animation-name: ${0};
    animation-duration: 2500ms;
    animation-timing-function: ${0};
    animation-iteration-count: infinite;
    animation-delay: 200ms;
  }
`),ba.rippleVisible,Gce,WF,({theme:n})=>n.transitions.easing.easeInOut,ba.ripplePulsate,({theme:n})=>n.transitions.duration.shorter,ba.child,ba.childLeaving,Vce,WF,({theme:n})=>n.transitions.easing.easeInOut,ba.childPulsate,Bce,({theme:n})=>n.transitions.easing.easeInOut),$ce=I.forwardRef(function(t,e){const r=At({props:t,name:"MuiTouchRipple"}),{center:i=!1,classes:o={},className:a}=r,s=_e(r,Nce),[l,u]=I.useState([]),c=I.useRef(0),d=I.useRef(null);I.useEffect(()=>{d.current&&(d.current(),d.current=null)},[l]);const p=I.useRef(!1),h=uN(),f=I.useRef(null),v=I.useRef(null),g=I.useCallback(S=>{const{pulsate:w,rippleX:_,rippleY:x,rippleSize:b,cb:O}=S;u(T=>[...T,B.jsx(jce,{classes:{ripple:We(o.ripple,ba.ripple),rippleVisible:We(o.rippleVisible,ba.rippleVisible),ripplePulsate:We(o.ripplePulsate,ba.ripplePulsate),child:We(o.child,ba.child),childLeaving:We(o.childLeaving,ba.childLeaving),childPulsate:We(o.childPulsate,ba.childPulsate)},timeout:WF,pulsate:w,rippleX:_,rippleY:x,rippleSize:b},c.current)]),c.current+=1,d.current=O},[o]),y=I.useCallback((S={},w={},_=()=>{})=>{const{pulsate:x=!1,center:b=i||w.pulsate,fakeElement:O=!1}=w;if((S==null?void 0:S.type)==="mousedown"&&p.current){p.current=!1;return}(S==null?void 0:S.type)==="touchstart"&&(p.current=!0);const T=O?null:v.current,A=T?T.getBoundingClientRect():{width:0,height:0,left:0,top:0};let N,M,L;if(b||S===void 0||S.clientX===0&&S.clientY===0||!S.clientX&&!S.touches)N=Math.round(A.width/2),M=Math.round(A.height/2);else{const{clientX:G,clientY:H}=S.touches&&S.touches.length>0?S.touches[0]:S;N=Math.round(G-A.left),M=Math.round(H-A.top)}if(b)L=Math.sqrt((2*A.width**2+A.height**2)/3),L%2===0&&(L+=1);else{const G=Math.max(Math.abs((T?T.clientWidth:0)-N),N)*2+2,H=Math.max(Math.abs((T?T.clientHeight:0)-M),M)*2+2;L=Math.sqrt(G**2+H**2)}S!=null&&S.touches?f.current===null&&(f.current=()=>{g({pulsate:x,rippleX:N,rippleY:M,rippleSize:L,cb:_})},h.start(kce,()=>{f.current&&(f.current(),f.current=null)})):g({pulsate:x,rippleX:N,rippleY:M,rippleSize:L,cb:_})},[i,g,h]),m=I.useCallback(()=>{y({},{pulsate:!0})},[y]),C=I.useCallback((S,w)=>{if(h.clear(),(S==null?void 0:S.type)==="touchend"&&f.current){f.current(),f.current=null,h.start(0,()=>{C(S,w)});return}f.current=null,u(_=>_.length>0?_.slice(1):_),d.current=w},[h]);return I.useImperativeHandle(e,()=>({pulsate:m,start:y,stop:C}),[m,y,C]),B.jsx(Hce,k({className:We(ba.root,o.root,a),ref:v},s,{children:B.jsx(nce,{component:null,exit:!0,children:l})}))}),Wce=$ce;function Uce(n){return at("MuiButtonBase",n)}const zce=it("MuiButtonBase",["root","disabled","focusVisible"]),Kce=["action","centerRipple","children","className","component","disabled","disableRipple","disableTouchRipple","focusRipple","focusVisibleClassName","LinkComponent","onBlur","onClick","onContextMenu","onDragLeave","onFocus","onFocusVisible","onKeyDown","onKeyUp","onMouseDown","onMouseLeave","onMouseUp","onTouchEnd","onTouchMove","onTouchStart","tabIndex","TouchRippleProps","touchRippleRef","type"],Yce=n=>{const{disabled:t,focusVisible:e,focusVisibleClassName:r,classes:i}=n,a=nt({root:["root",t&&"disabled",e&&"focusVisible"]},Uce,i);return e&&r&&(a.root+=` ${r}`),a},Xce=be("button",{name:"MuiButtonBase",slot:"Root",overridesResolver:(n,t)=>t.root})({display:"inline-flex",alignItems:"center",justifyContent:"center",position:"relative",boxSizing:"border-box",WebkitTapHighlightColor:"transparent",backgroundColor:"transparent",outline:0,border:0,margin:0,borderRadius:0,padding:0,cursor:"pointer",userSelect:"none",verticalAlign:"middle",MozAppearance:"none",WebkitAppearance:"none",textDecoration:"none",color:"inherit","&::-moz-focus-inner":{borderStyle:"none"},[`&.${zce.disabled}`]:{pointerEvents:"none",cursor:"default"},"@media print":{colorAdjust:"exact"}}),qce=I.forwardRef(function(t,e){const r=At({props:t,name:"MuiButtonBase"}),{action:i,centerRipple:o=!1,children:a,className:s,component:l="button",disabled:u=!1,disableRipple:c=!1,disableTouchRipple:d=!1,focusRipple:p=!1,LinkComponent:h="a",onBlur:f,onClick:v,onContextMenu:g,onDragLeave:y,onFocus:m,onFocusVisible:C,onKeyDown:S,onKeyUp:w,onMouseDown:_,onMouseLeave:x,onMouseUp:b,onTouchEnd:O,onTouchMove:T,onTouchStart:A,tabIndex:N=0,TouchRippleProps:M,touchRippleRef:L,type:G}=r,H=_e(r,Kce),j=I.useRef(null),V=I.useRef(null),W=nn(V,L),{isFocusVisibleRef:K,onFocus:ee,onBlur:Z,ref:se}=T6(),[ie,re]=I.useState(!1);u&&ie&&re(!1),I.useImperativeHandle(i,()=>({focusVisible:()=>{re(!0),j.current.focus()}}),[]);const[Y,le]=I.useState(!1);I.useEffect(()=>{le(!0)},[]);const ye=Y&&!c&&!u;I.useEffect(()=>{ie&&p&&!c&&Y&&V.current.pulsate()},[c,p,ie,Y]);function Q(Fe,Ft,Nr=d){return sh(_o=>(Ft&&Ft(_o),!Nr&&V.current&&V.current[Fe](_o),!0))}const he=Q("start",_),ue=Q("stop",g),J=Q("stop",y),ve=Q("stop",b),we=Q("stop",Fe=>{ie&&Fe.preventDefault(),x&&x(Fe)}),Ee=Q("start",A),De=Q("stop",O),$e=Q("stop",T),Ze=Q("stop",Fe=>{Z(Fe),K.current===!1&&re(!1),f&&f(Fe)},!1),Ut=sh(Fe=>{j.current||(j.current=Fe.currentTarget),ee(Fe),K.current===!0&&(re(!0),C&&C(Fe)),m&&m(Fe)}),Ne=()=>{const Fe=j.current;return l&&l!=="button"&&!(Fe.tagName==="A"&&Fe.href)},tt=I.useRef(!1),zt=sh(Fe=>{p&&!tt.current&&ie&&V.current&&Fe.key===" "&&(tt.current=!0,V.current.stop(Fe,()=>{V.current.start(Fe)})),Fe.target===Fe.currentTarget&&Ne()&&Fe.key===" "&&Fe.preventDefault(),S&&S(Fe),Fe.target===Fe.currentTarget&&Ne()&&Fe.key==="Enter"&&!u&&(Fe.preventDefault(),v&&v(Fe))}),xt=sh(Fe=>{p&&Fe.key===" "&&V.current&&ie&&!Fe.defaultPrevented&&(tt.current=!1,V.current.stop(Fe,()=>{V.current.pulsate(Fe)})),w&&w(Fe),v&&Fe.target===Fe.currentTarget&&Ne()&&Fe.key===" "&&!Fe.defaultPrevented&&v(Fe)});let He=l;He==="button"&&(H.href||H.to)&&(He=h);const St={};He==="button"?(St.type=G===void 0?"button":G,St.disabled=u):(!H.href&&!H.to&&(St.role="button"),u&&(St["aria-disabled"]=u));const wt=nn(e,se,j),Mt=k({},r,{centerRipple:o,component:l,disabled:u,disableRipple:c,disableTouchRipple:d,focusRipple:p,tabIndex:N,focusVisible:ie}),st=Yce(Mt);return B.jsxs(Xce,k({as:He,className:We(st.root,s),ownerState:Mt,onBlur:Ze,onClick:v,onContextMenu:ue,onFocus:Ut,onKeyDown:zt,onKeyUp:xt,onMouseDown:he,onMouseLeave:we,onMouseUp:ve,onDragLeave:J,onTouchEnd:De,onTouchMove:$e,onTouchStart:Ee,ref:wt,tabIndex:u?-1:N,type:G},St,H,{children:[a,ye?B.jsx(Wce,k({ref:W,center:o},M)):null]}))}),ZR=qce;function Zce(n){return at("MuiAccordionSummary",n)}const Qce=it("MuiAccordionSummary",["root","expanded","focusVisible","disabled","gutters","contentGutters","content","expandIconWrapper"]),hv=Qce,Jce=["children","className","expandIcon","focusVisibleClassName","onClick"],ede=n=>{const{classes:t,expanded:e,disabled:r,disableGutters:i}=n;return nt({root:["root",e&&"expanded",r&&"disabled",!i&&"gutters"],focusVisible:["focusVisible"],content:["content",e&&"expanded",!i&&"contentGutters"],expandIconWrapper:["expandIconWrapper",e&&"expanded"]},Zce,t)},tde=be(ZR,{name:"MuiAccordionSummary",slot:"Root",overridesResolver:(n,t)=>t.root})(({theme:n,ownerState:t})=>{const e={duration:n.transitions.duration.shortest};return k({display:"flex",minHeight:48,padding:n.spacing(0,2),transition:n.transitions.create(["min-height","background-color"],e),[`&.${hv.focusVisible}`]:{backgroundColor:(n.vars||n).palette.action.focus},[`&.${hv.disabled}`]:{opacity:(n.vars||n).palette.action.disabledOpacity},[`&:hover:not(.${hv.disabled})`]:{cursor:"pointer"}},!t.disableGutters&&{[`&.${hv.expanded}`]:{minHeight:64}})}),rde=be("div",{name:"MuiAccordionSummary",slot:"Content",overridesResolver:(n,t)=>t.content})(({theme:n,ownerState:t})=>k({display:"flex",flexGrow:1,margin:"12px 0"},!t.disableGutters&&{transition:n.transitions.create(["margin"],{duration:n.transitions.duration.shortest}),[`&.${hv.expanded}`]:{margin:"20px 0"}})),nde=be("div",{name:"MuiAccordionSummary",slot:"ExpandIconWrapper",overridesResolver:(n,t)=>t.expandIconWrapper})(({theme:n})=>({display:"flex",color:(n.vars||n).palette.action.active,transform:"rotate(0deg)",transition:n.transitions.create("transform",{duration:n.transitions.duration.shortest}),[`&.${hv.expanded}`]:{transform:"rotate(180deg)"}})),ide=I.forwardRef(function(t,e){const r=At({props:t,name:"MuiAccordionSummary"}),{children:i,className:o,expandIcon:a,focusVisibleClassName:s,onClick:l}=r,u=_e(r,Jce),{disabled:c=!1,disableGutters:d,expanded:p,toggle:h}=I.useContext(C9),f=y=>{h&&h(y),l&&l(y)},v=k({},r,{expanded:p,disabled:c,disableGutters:d}),g=ede(v);return B.jsxs(tde,k({focusRipple:!1,disableRipple:!0,disabled:c,component:"div","aria-expanded":p,className:We(g.root,o),focusVisibleClassName:We(g.focusVisible,s),onClick:f,ref:e,ownerState:v},u,{children:[B.jsx(rde,{className:g.content,ownerState:v,children:i}),a&&B.jsx(nde,{className:g.expandIconWrapper,ownerState:v,children:a})]}))}),B0=ide;function ode(n){return at("MuiIconButton",n)}const ade=it("MuiIconButton",["root","disabled","colorInherit","colorPrimary","colorSecondary","colorError","colorInfo","colorSuccess","colorWarning","edgeStart","edgeEnd","sizeSmall","sizeMedium","sizeLarge"]),sde=["edge","children","className","color","disabled","disableFocusRipple","size"],lde=n=>{const{classes:t,disabled:e,color:r,edge:i,size:o}=n,a={root:["root",e&&"disabled",r!=="default"&&`color${Be(r)}`,i&&`edge${Be(i)}`,`size${Be(o)}`]};return nt(a,ode,t)},ude=be(ZR,{name:"MuiIconButton",slot:"Root",overridesResolver:(n,t)=>{const{ownerState:e}=n;return[t.root,e.color!=="default"&&t[`color${Be(e.color)}`],e.edge&&t[`edge${Be(e.edge)}`],t[`size${Be(e.size)}`]]}})(({theme:n,ownerState:t})=>k({textAlign:"center",flex:"0 0 auto",fontSize:n.typography.pxToRem(24),padding:8,borderRadius:"50%",overflow:"visible",color:(n.vars||n).palette.action.active,transition:n.transitions.create("background-color",{duration:n.transitions.duration.shortest})},!t.disableRipple&&{"&:hover":{backgroundColor:n.vars?`rgba(${n.vars.palette.action.activeChannel} / ${n.vars.palette.action.hoverOpacity})`:Tu(n.palette.action.active,n.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:"transparent"}}},t.edge==="start"&&{marginLeft:t.size==="small"?-3:-12},t.edge==="end"&&{marginRight:t.size==="small"?-3:-12}),({theme:n,ownerState:t})=>{var e;const r=(e=(n.vars||n).palette)==null?void 0:e[t.color];return k({},t.color==="inherit"&&{color:"inherit"},t.color!=="inherit"&&t.color!=="default"&&k({color:r==null?void 0:r.main},!t.disableRipple&&{"&:hover":k({},r&&{backgroundColor:n.vars?`rgba(${r.mainChannel} / ${n.vars.palette.action.hoverOpacity})`:Tu(r.main,n.palette.action.hoverOpacity)},{"@media (hover: none)":{backgroundColor:"transparent"}})}),t.size==="small"&&{padding:5,fontSize:n.typography.pxToRem(18)},t.size==="large"&&{padding:12,fontSize:n.typography.pxToRem(28)},{[`&.${ade.disabled}`]:{backgroundColor:"transparent",color:(n.vars||n).palette.action.disabled}})}),cde=I.forwardRef(function(t,e){const r=At({props:t,name:"MuiIconButton"}),{edge:i=!1,children:o,className:a,color:s="default",disabled:l=!1,disableFocusRipple:u=!1,size:c="medium"}=r,d=_e(r,sde),p=k({},r,{edge:i,color:s,disabled:l,disableFocusRipple:u,size:c}),h=lde(p);return B.jsx(ude,k({className:We(h.root,a),centerRipple:!0,focusRipple:!u,disabled:l,ref:e},d,{ownerState:p,children:o}))}),dde=cde;function pde(n){return at("MuiTypography",n)}it("MuiTypography",["root","h1","h2","h3","h4","h5","h6","subtitle1","subtitle2","body1","body2","inherit","button","caption","overline","alignLeft","alignRight","alignCenter","alignJustify","noWrap","gutterBottom","paragraph"]);const hde=["align","className","component","gutterBottom","noWrap","paragraph","variant","variantMapping"],fde=n=>{const{align:t,gutterBottom:e,noWrap:r,paragraph:i,variant:o,classes:a}=n,s={root:["root",o,n.align!=="inherit"&&`align${Be(t)}`,e&&"gutterBottom",r&&"noWrap",i&&"paragraph"]};return nt(s,pde,a)},vde=be("span",{name:"MuiTypography",slot:"Root",overridesResolver:(n,t)=>{const{ownerState:e}=n;return[t.root,e.variant&&t[e.variant],e.align!=="inherit"&&t[`align${Be(e.align)}`],e.noWrap&&t.noWrap,e.gutterBottom&&t.gutterBottom,e.paragraph&&t.paragraph]}})(({theme:n,ownerState:t})=>k({margin:0},t.variant==="inherit"&&{font:"inherit"},t.variant!=="inherit"&&n.typography[t.variant],t.align!=="inherit"&&{textAlign:t.align},t.noWrap&&{overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap"},t.gutterBottom&&{marginBottom:"0.35em"},t.paragraph&&{marginBottom:16})),pj={h1:"h1",h2:"h2",h3:"h3",h4:"h4",h5:"h5",h6:"h6",subtitle1:"h6",subtitle2:"h6",body1:"p",body2:"p",inherit:"p"},gde={primary:"primary.main",textPrimary:"text.primary",secondary:"secondary.main",textSecondary:"text.secondary",error:"error.main"},yde=n=>gde[n]||n,mde=I.forwardRef(function(t,e){const r=At({props:t,name:"MuiTypography"}),i=yde(r.color),o=EN(k({},r,{color:i})),{align:a="inherit",className:s,component:l,gutterBottom:u=!1,noWrap:c=!1,paragraph:d=!1,variant:p="body1",variantMapping:h=pj}=o,f=_e(o,hde),v=k({},o,{align:a,color:i,className:s,component:l,gutterBottom:u,noWrap:c,paragraph:d,variant:p,variantMapping:h}),g=l||(d?"p":h[p]||pj[p])||"span",y=fde(v);return B.jsx(vde,k({as:g,ref:e,ownerState:v,className:We(y.root,s)},f))}),Yx=mde;function Cde(n){return at("MuiAppBar",n)}it("MuiAppBar",["root","positionFixed","positionAbsolute","positionSticky","positionStatic","positionRelative","colorDefault","colorPrimary","colorSecondary","colorInherit","colorTransparent","colorError","colorInfo","colorSuccess","colorWarning"]);const Sde=["className","color","enableColorOnDark","position"],wde=n=>{const{color:t,position:e,classes:r}=n,i={root:["root",`color${Be(t)}`,`position${Be(e)}`]};return nt(i,Cde,r)},H0=(n,t)=>n?`${n==null?void 0:n.replace(")","")}, ${t})`:t,_de=be(FN,{name:"MuiAppBar",slot:"Root",overridesResolver:(n,t)=>{const{ownerState:e}=n;return[t.root,t[`position${Be(e.position)}`],t[`color${Be(e.color)}`]]}})(({theme:n,ownerState:t})=>{const e=n.palette.mode==="light"?n.palette.grey[100]:n.palette.grey[900];return k({display:"flex",flexDirection:"column",width:"100%",boxSizing:"border-box",flexShrink:0},t.position==="fixed"&&{position:"fixed",zIndex:(n.vars||n).zIndex.appBar,top:0,left:"auto",right:0,"@media print":{position:"absolute"}},t.position==="absolute"&&{position:"absolute",zIndex:(n.vars||n).zIndex.appBar,top:0,left:"auto",right:0},t.position==="sticky"&&{position:"sticky",zIndex:(n.vars||n).zIndex.appBar,top:0,left:"auto",right:0},t.position==="static"&&{position:"static"},t.position==="relative"&&{position:"relative"},!n.vars&&k({},t.color==="default"&&{backgroundColor:e,color:n.palette.getContrastText(e)},t.color&&t.color!=="default"&&t.color!=="inherit"&&t.color!=="transparent"&&{backgroundColor:n.palette[t.color].main,color:n.palette[t.color].contrastText},t.color==="inherit"&&{color:"inherit"},n.palette.mode==="dark"&&!t.enableColorOnDark&&{backgroundColor:null,color:null},t.color==="transparent"&&k({backgroundColor:"transparent",color:"inherit"},n.palette.mode==="dark"&&{backgroundImage:"none"})),n.vars&&k({},t.color==="default"&&{"--AppBar-background":t.enableColorOnDark?n.vars.palette.AppBar.defaultBg:H0(n.vars.palette.AppBar.darkBg,n.vars.palette.AppBar.defaultBg),"--AppBar-color":t.enableColorOnDark?n.vars.palette.text.primary:H0(n.vars.palette.AppBar.darkColor,n.vars.palette.text.primary)},t.color&&!t.color.match(/^(default|inherit|transparent)$/)&&{"--AppBar-background":t.enableColorOnDark?n.vars.palette[t.color].main:H0(n.vars.palette.AppBar.darkBg,n.vars.palette[t.color].main),"--AppBar-color":t.enableColorOnDark?n.vars.palette[t.color].contrastText:H0(n.vars.palette.AppBar.darkColor,n.vars.palette[t.color].contrastText)},{backgroundColor:"var(--AppBar-background)",color:t.color==="inherit"?"inherit":"var(--AppBar-color)"},t.color==="transparent"&&{backgroundImage:"none",backgroundColor:"transparent",color:"inherit"}))}),xde=I.forwardRef(function(t,e){const r=At({props:t,name:"MuiAppBar"}),{className:i,color:o="primary",enableColorOnDark:a=!1,position:s="fixed"}=r,l=_e(r,Sde),u=k({},r,{color:o,position:s,enableColorOnDark:a}),c=wde(u);return B.jsx(_de,k({square:!0,component:"header",ownerState:u,elevation:4,className:We(c.root,i,s==="fixed"&&"mui-fixed"),ref:e},l))}),Ede=xde,E9="base";function bde(n){return`${E9}--${n}`}function Ode(n,t){return`${E9}-${n}-${t}`}function b9(n,t){const e=A6[t];return e?bde(e):Ode(n,t)}function Rde(n,t){const e={};return t.forEach(r=>{e[r]=b9(n,r)}),e}const Tde=["input","select","textarea","a[href]","button","[tabindex]","audio[controls]","video[controls]",'[contenteditable]:not([contenteditable="false"])'].join(",");function Pde(n){const t=parseInt(n.getAttribute("tabindex")||"",10);return Number.isNaN(t)?n.contentEditable==="true"||(n.nodeName==="AUDIO"||n.nodeName==="VIDEO"||n.nodeName==="DETAILS")&&n.getAttribute("tabindex")===null?0:n.tabIndex:t}function Ade(n){if(n.tagName!=="INPUT"||n.type!=="radio"||!n.name)return!1;const t=r=>n.ownerDocument.querySelector(`input[type="radio"]${r}`);let e=t(`[name="${n.name}"]:checked`);return e||(e=t(`[name="${n.name}"]`)),e!==n}function Dde(n){return!(n.disabled||n.tagName==="INPUT"&&n.type==="hidden"||Ade(n))}function Mde(n){const t=[],e=[];return Array.from(n.querySelectorAll(Tde)).forEach((r,i)=>{const o=Pde(r);o===-1||!Dde(r)||(o===0?t.push(r):e.push({documentOrder:i,tabIndex:o,node:r}))}),e.sort((r,i)=>r.tabIndex===i.tabIndex?r.documentOrder-i.documentOrder:r.tabIndex-i.tabIndex).map(r=>r.node).concat(t)}function Fde(){return!0}function Lde(n){const{children:t,disableAutoFocus:e=!1,disableEnforceFocus:r=!1,disableRestoreFocus:i=!1,getTabbable:o=Mde,isEnabled:a=Fde,open:s}=n,l=I.useRef(!1),u=I.useRef(null),c=I.useRef(null),d=I.useRef(null),p=I.useRef(null),h=I.useRef(!1),f=I.useRef(null),v=nn(t.ref,f),g=I.useRef(null);I.useEffect(()=>{!s||!f.current||(h.current=!e)},[e,s]),I.useEffect(()=>{if(!s||!f.current)return;const C=di(f.current);return f.current.contains(C.activeElement)||(f.current.hasAttribute("tabIndex")||f.current.setAttribute("tabIndex","-1"),h.current&&f.current.focus()),()=>{i||(d.current&&d.current.focus&&(l.current=!0,d.current.focus()),d.current=null)}},[s]),I.useEffect(()=>{if(!s||!f.current)return;const C=di(f.current),S=x=>{g.current=x,!(r||!a()||x.key!=="Tab")&&C.activeElement===f.current&&x.shiftKey&&(l.current=!0,c.current&&c.current.focus())},w=()=>{const x=f.current;if(x===null)return;if(!C.hasFocus()||!a()||l.current){l.current=!1;return}if(x.contains(C.activeElement)||r&&C.activeElement!==u.current&&C.activeElement!==c.current)return;if(C.activeElement!==p.current)p.current=null;else if(p.current!==null)return;if(!h.current)return;let b=[];if((C.activeElement===u.current||C.activeElement===c.current)&&(b=o(f.current)),b.length>0){var O,T;const A=!!((O=g.current)!=null&&O.shiftKey&&((T=g.current)==null?void 0:T.key)==="Tab"),N=b[0],M=b[b.length-1];typeof N!="string"&&typeof M!="string"&&(A?M.focus():N.focus())}else x.focus()};C.addEventListener("focusin",w),C.addEventListener("keydown",S,!0);const _=setInterval(()=>{C.activeElement&&C.activeElement.tagName==="BODY"&&w()},50);return()=>{clearInterval(_),C.removeEventListener("focusin",w),C.removeEventListener("keydown",S,!0)}},[e,r,i,a,s,o]);const y=C=>{d.current===null&&(d.current=C.relatedTarget),h.current=!0,p.current=C.target;const S=t.props.onFocus;S&&S(C)},m=C=>{d.current===null&&(d.current=C.relatedTarget),h.current=!0};return B.jsxs(I.Fragment,{children:[B.jsx("div",{tabIndex:s?0:-1,onFocus:m,ref:u,"data-testid":"sentinelStart"}),I.cloneElement(t,{ref:v,onFocus:y}),B.jsx("div",{tabIndex:s?0:-1,onFocus:m,ref:c,"data-testid":"sentinelEnd"})]})}function Ide(n){return typeof n=="function"?n():n}const O9=I.forwardRef(function(t,e){const{children:r,container:i,disablePortal:o=!1}=t,[a,s]=I.useState(null),l=nn(I.isValidElement(r)?r.ref:null,e);if(ia(()=>{o||s(Ide(i)||document.body)},[i,o]),ia(()=>{if(a&&!o)return tb(e,a),()=>{tb(e,null)}},[e,a,o]),o){if(I.isValidElement(r)){const u={ref:l};return I.cloneElement(r,u)}return B.jsx(I.Fragment,{children:r})}return B.jsx(I.Fragment,{children:a&&Qh.createPortal(r,a)})});function Nde(n){const t=di(n);return t.body===n?Wu(n).innerWidth>t.documentElement.clientWidth:n.scrollHeight>n.clientHeight}function CC(n,t){t?n.setAttribute("aria-hidden","true"):n.removeAttribute("aria-hidden")}function hj(n){return parseInt(Wu(n).getComputedStyle(n).paddingRight,10)||0}function kde(n){const e=["TEMPLATE","SCRIPT","STYLE","LINK","MAP","META","NOSCRIPT","PICTURE","COL","COLGROUP","PARAM","SLOT","SOURCE","TRACK"].indexOf(n.tagName)!==-1,r=n.tagName==="INPUT"&&n.getAttribute("type")==="hidden";return e||r}function fj(n,t,e,r,i){const o=[t,e,...r];[].forEach.call(n.children,a=>{const s=o.indexOf(a)===-1,l=!kde(a);s&&l&&CC(a,i)})}function oA(n,t){let e=-1;return n.some((r,i)=>t(r)?(e=i,!0):!1),e}function Gde(n,t){const e=[],r=n.container;if(!t.disableScrollLock){if(Nde(r)){const a=P6(di(r));e.push({value:r.style.paddingRight,property:"padding-right",el:r}),r.style.paddingRight=`${hj(r)+a}px`;const s=di(r).querySelectorAll(".mui-fixed");[].forEach.call(s,l=>{e.push({value:l.style.paddingRight,property:"padding-right",el:l}),l.style.paddingRight=`${hj(l)+a}px`})}let o;if(r.parentNode instanceof DocumentFragment)o=di(r).body;else{const a=r.parentElement,s=Wu(r);o=(a==null?void 0:a.nodeName)==="HTML"&&s.getComputedStyle(a).overflowY==="scroll"?a:r}e.push({value:o.style.overflow,property:"overflow",el:o},{value:o.style.overflowX,property:"overflow-x",el:o},{value:o.style.overflowY,property:"overflow-y",el:o}),o.style.overflow="hidden"}return()=>{e.forEach(({value:o,el:a,property:s})=>{o?a.style.setProperty(s,o):a.style.removeProperty(s)})}}function Vde(n){const t=[];return[].forEach.call(n.children,e=>{e.getAttribute("aria-hidden")==="true"&&t.push(e)}),t}class Bde{constructor(){this.containers=void 0,this.modals=void 0,this.modals=[],this.containers=[]}add(t,e){let r=this.modals.indexOf(t);if(r!==-1)return r;r=this.modals.length,this.modals.push(t),t.modalRef&&CC(t.modalRef,!1);const i=Vde(e);fj(e,t.mount,t.modalRef,i,!0);const o=oA(this.containers,a=>a.container===e);return o!==-1?(this.containers[o].modals.push(t),r):(this.containers.push({modals:[t],container:e,restore:null,hiddenSiblings:i}),r)}mount(t,e){const r=oA(this.containers,o=>o.modals.indexOf(t)!==-1),i=this.containers[r];i.restore||(i.restore=Gde(i,e))}remove(t,e=!0){const r=this.modals.indexOf(t);if(r===-1)return r;const i=oA(this.containers,a=>a.modals.indexOf(t)!==-1),o=this.containers[i];if(o.modals.splice(o.modals.indexOf(t),1),this.modals.splice(r,1),o.modals.length===0)o.restore&&o.restore(),t.modalRef&&CC(t.modalRef,e),fj(o.container,t.mount,t.modalRef,o.hiddenSiblings,!1),this.containers.splice(i,1);else{const a=o.modals[o.modals.length-1];a.modalRef&&CC(a.modalRef,!1)}return r}isTopModal(t){return this.modals.length>0&&this.modals[this.modals.length-1]===t}}function Hde(n){return typeof n=="function"?n():n}function jde(n){return n?n.props.hasOwnProperty("in"):!1}const $de=new Bde;function Wde(n){const{container:t,disableEscapeKeyDown:e=!1,disableScrollLock:r=!1,manager:i=$de,closeAfterTransition:o=!1,onTransitionEnter:a,onTransitionExited:s,children:l,onClose:u,open:c,rootRef:d}=n,p=I.useRef({}),h=I.useRef(null),f=I.useRef(null),v=nn(f,d),[g,y]=I.useState(!c),m=jde(l);let C=!0;(n["aria-hidden"]==="false"||n["aria-hidden"]===!1)&&(C=!1);const S=()=>di(h.current),w=()=>(p.current.modalRef=f.current,p.current.mount=h.current,p.current),_=()=>{i.mount(w(),{disableScrollLock:r}),f.current&&(f.current.scrollTop=0)},x=sh(()=>{const H=Hde(t)||S().body;i.add(w(),H),f.current&&_()}),b=I.useCallback(()=>i.isTopModal(w()),[i]),O=sh(H=>{h.current=H,H&&(c&&b()?_():f.current&&CC(f.current,C))}),T=I.useCallback(()=>{i.remove(w(),C)},[C,i]);I.useEffect(()=>()=>{T()},[T]),I.useEffect(()=>{c?x():(!m||!o)&&T()},[c,T,m,o,x]);const A=H=>j=>{var V;(V=H.onKeyDown)==null||V.call(H,j),!(j.key!=="Escape"||j.which===229||!b())&&(e||(j.stopPropagation(),u&&u(j,"escapeKeyDown")))},N=H=>j=>{var V;(V=H.onClick)==null||V.call(H,j),j.target===j.currentTarget&&u&&u(j,"backdropClick")};return{getRootProps:(H={})=>{const j=w9(n);delete j.onTransitionEnter,delete j.onTransitionExited;const V=k({},j,H);return k({role:"presentation"},V,{onKeyDown:A(V),ref:v})},getBackdropProps:(H={})=>{const j=H;return k({"aria-hidden":!0},j,{onClick:N(j),open:c})},getTransitionProps:()=>{const H=()=>{y(!1),a&&a()},j=()=>{y(!0),s&&s(),o&&T()};return{onEnter:LF(H,l==null?void 0:l.props.onEnter),onExited:LF(j,l==null?void 0:l.props.onExited)}},rootRef:v,portalRef:O,isTopModal:b,exited:g,hasTransition:m}}function R9(n){const{children:t,defer:e=!1,fallback:r=null}=n,[i,o]=I.useState(!1);return ia(()=>{e||o(!0)},[e]),I.useEffect(()=>{e&&o(!0)},[e]),B.jsx(I.Fragment,{children:i?t:r})}var po="top",Ka="bottom",Ya="right",ho="left",LN="auto",Ew=[po,Ka,Ya,ho],ug="start",hS="end",Ude="clippingParents",T9="viewport",Sy="popper",zde="reference",vj=Ew.reduce(function(n,t){return n.concat([t+"-"+ug,t+"-"+hS])},[]),P9=[].concat(Ew,[LN]).reduce(function(n,t){return n.concat([t,t+"-"+ug,t+"-"+hS])},[]),Kde="beforeRead",Yde="read",Xde="afterRead",qde="beforeMain",Zde="main",Qde="afterMain",Jde="beforeWrite",epe="write",tpe="afterWrite",rpe=[Kde,Yde,Xde,qde,Zde,Qde,Jde,epe,tpe];function Kl(n){return n?(n.nodeName||"").toLowerCase():null}function oa(n){if(n==null)return window;if(n.toString()!=="[object Window]"){var t=n.ownerDocument;return t&&t.defaultView||window}return n}function Vh(n){var t=oa(n).Element;return n instanceof t||n instanceof Element}function Ba(n){var t=oa(n).HTMLElement;return n instanceof t||n instanceof HTMLElement}function IN(n){if(typeof ShadowRoot>"u")return!1;var t=oa(n).ShadowRoot;return n instanceof t||n instanceof ShadowRoot}function npe(n){var t=n.state;Object.keys(t.elements).forEach(function(e){var r=t.styles[e]||{},i=t.attributes[e]||{},o=t.elements[e];!Ba(o)||!Kl(o)||(Object.assign(o.style,r),Object.keys(i).forEach(function(a){var s=i[a];s===!1?o.removeAttribute(a):o.setAttribute(a,s===!0?"":s)}))})}function ipe(n){var t=n.state,e={popper:{position:t.options.strategy,left:"0",top:"0",margin:"0"},arrow:{position:"absolute"},reference:{}};return Object.assign(t.elements.popper.style,e.popper),t.styles=e,t.elements.arrow&&Object.assign(t.elements.arrow.style,e.arrow),function(){Object.keys(t.elements).forEach(function(r){var i=t.elements[r],o=t.attributes[r]||{},a=Object.keys(t.styles.hasOwnProperty(r)?t.styles[r]:e[r]),s=a.reduce(function(l,u){return l[u]="",l},{});!Ba(i)||!Kl(i)||(Object.assign(i.style,s),Object.keys(o).forEach(function(l){i.removeAttribute(l)}))})}}const ope={name:"applyStyles",enabled:!0,phase:"write",fn:npe,effect:ipe,requires:["computeStyles"]};function Bl(n){return n.split("-")[0]}var wh=Math.max,lb=Math.min,cg=Math.round;function UF(){var n=navigator.userAgentData;return n!=null&&n.brands&&Array.isArray(n.brands)?n.brands.map(function(t){return t.brand+"/"+t.version}).join(" "):navigator.userAgent}function A9(){return!/^((?!chrome|android).)*safari/i.test(UF())}function dg(n,t,e){t===void 0&&(t=!1),e===void 0&&(e=!1);var r=n.getBoundingClientRect(),i=1,o=1;t&&Ba(n)&&(i=n.offsetWidth>0&&cg(r.width)/n.offsetWidth||1,o=n.offsetHeight>0&&cg(r.height)/n.offsetHeight||1);var a=Vh(n)?oa(n):window,s=a.visualViewport,l=!A9()&&e,u=(r.left+(l&&s?s.offsetLeft:0))/i,c=(r.top+(l&&s?s.offsetTop:0))/o,d=r.width/i,p=r.height/o;return{width:d,height:p,top:c,right:u+d,bottom:c+p,left:u,x:u,y:c}}function NN(n){var t=dg(n),e=n.offsetWidth,r=n.offsetHeight;return Math.abs(t.width-e)<=1&&(e=t.width),Math.abs(t.height-r)<=1&&(r=t.height),{x:n.offsetLeft,y:n.offsetTop,width:e,height:r}}function D9(n,t){var e=t.getRootNode&&t.getRootNode();if(n.contains(t))return!0;if(e&&IN(e)){var r=t;do{if(r&&n.isSameNode(r))return!0;r=r.parentNode||r.host}while(r)}return!1}function zu(n){return oa(n).getComputedStyle(n)}function ape(n){return["table","td","th"].indexOf(Kl(n))>=0}function Xd(n){return((Vh(n)?n.ownerDocument:n.document)||window.document).documentElement}function QR(n){return Kl(n)==="html"?n:n.assignedSlot||n.parentNode||(IN(n)?n.host:null)||Xd(n)}function gj(n){return!Ba(n)||zu(n).position==="fixed"?null:n.offsetParent}function spe(n){var t=/firefox/i.test(UF()),e=/Trident/i.test(UF());if(e&&Ba(n)){var r=zu(n);if(r.position==="fixed")return null}var i=QR(n);for(IN(i)&&(i=i.host);Ba(i)&&["html","body"].indexOf(Kl(i))<0;){var o=zu(i);if(o.transform!=="none"||o.perspective!=="none"||o.contain==="paint"||["transform","perspective"].indexOf(o.willChange)!==-1||t&&o.willChange==="filter"||t&&o.filter&&o.filter!=="none")return i;i=i.parentNode}return null}function bw(n){for(var t=oa(n),e=gj(n);e&&ape(e)&&zu(e).position==="static";)e=gj(e);return e&&(Kl(e)==="html"||Kl(e)==="body"&&zu(e).position==="static")?t:e||spe(n)||t}function kN(n){return["top","bottom"].indexOf(n)>=0?"x":"y"}function SC(n,t,e){return wh(n,lb(t,e))}function lpe(n,t,e){var r=SC(n,t,e);return r>e?e:r}function M9(){return{top:0,right:0,bottom:0,left:0}}function F9(n){return Object.assign({},M9(),n)}function L9(n,t){return t.reduce(function(e,r){return e[r]=n,e},{})}var upe=function(t,e){return t=typeof t=="function"?t(Object.assign({},e.rects,{placement:e.placement})):t,F9(typeof t!="number"?t:L9(t,Ew))};function cpe(n){var t,e=n.state,r=n.name,i=n.options,o=e.elements.arrow,a=e.modifiersData.popperOffsets,s=Bl(e.placement),l=kN(s),u=[ho,Ya].indexOf(s)>=0,c=u?"height":"width";if(!(!o||!a)){var d=upe(i.padding,e),p=NN(o),h=l==="y"?po:ho,f=l==="y"?Ka:Ya,v=e.rects.reference[c]+e.rects.reference[l]-a[l]-e.rects.popper[c],g=a[l]-e.rects.reference[l],y=bw(o),m=y?l==="y"?y.clientHeight||0:y.clientWidth||0:0,C=v/2-g/2,S=d[h],w=m-p[c]-d[f],_=m/2-p[c]/2+C,x=SC(S,_,w),b=l;e.modifiersData[r]=(t={},t[b]=x,t.centerOffset=x-_,t)}}function dpe(n){var t=n.state,e=n.options,r=e.element,i=r===void 0?"[data-popper-arrow]":r;i!=null&&(typeof i=="string"&&(i=t.elements.popper.querySelector(i),!i)||D9(t.elements.popper,i)&&(t.elements.arrow=i))}const ppe={name:"arrow",enabled:!0,phase:"main",fn:cpe,effect:dpe,requires:["popperOffsets"],requiresIfExists:["preventOverflow"]};function pg(n){return n.split("-")[1]}var hpe={top:"auto",right:"auto",bottom:"auto",left:"auto"};function fpe(n,t){var e=n.x,r=n.y,i=t.devicePixelRatio||1;return{x:cg(e*i)/i||0,y:cg(r*i)/i||0}}function yj(n){var t,e=n.popper,r=n.popperRect,i=n.placement,o=n.variation,a=n.offsets,s=n.position,l=n.gpuAcceleration,u=n.adaptive,c=n.roundOffsets,d=n.isFixed,p=a.x,h=p===void 0?0:p,f=a.y,v=f===void 0?0:f,g=typeof c=="function"?c({x:h,y:v}):{x:h,y:v};h=g.x,v=g.y;var y=a.hasOwnProperty("x"),m=a.hasOwnProperty("y"),C=ho,S=po,w=window;if(u){var _=bw(e),x="clientHeight",b="clientWidth";if(_===oa(e)&&(_=Xd(e),zu(_).position!=="static"&&s==="absolute"&&(x="scrollHeight",b="scrollWidth")),_=_,i===po||(i===ho||i===Ya)&&o===hS){S=Ka;var O=d&&_===w&&w.visualViewport?w.visualViewport.height:_[x];v-=O-r.height,v*=l?1:-1}if(i===ho||(i===po||i===Ka)&&o===hS){C=Ya;var T=d&&_===w&&w.visualViewport?w.visualViewport.width:_[b];h-=T-r.width,h*=l?1:-1}}var A=Object.assign({position:s},u&&hpe),N=c===!0?fpe({x:h,y:v},oa(e)):{x:h,y:v};if(h=N.x,v=N.y,l){var M;return Object.assign({},A,(M={},M[S]=m?"0":"",M[C]=y?"0":"",M.transform=(w.devicePixelRatio||1)<=1?"translate("+h+"px, "+v+"px)":"translate3d("+h+"px, "+v+"px, 0)",M))}return Object.assign({},A,(t={},t[S]=m?v+"px":"",t[C]=y?h+"px":"",t.transform="",t))}function vpe(n){var t=n.state,e=n.options,r=e.gpuAcceleration,i=r===void 0?!0:r,o=e.adaptive,a=o===void 0?!0:o,s=e.roundOffsets,l=s===void 0?!0:s,u={placement:Bl(t.placement),variation:pg(t.placement),popper:t.elements.popper,popperRect:t.rects.popper,gpuAcceleration:i,isFixed:t.options.strategy==="fixed"};t.modifiersData.popperOffsets!=null&&(t.styles.popper=Object.assign({},t.styles.popper,yj(Object.assign({},u,{offsets:t.modifiersData.popperOffsets,position:t.options.strategy,adaptive:a,roundOffsets:l})))),t.modifiersData.arrow!=null&&(t.styles.arrow=Object.assign({},t.styles.arrow,yj(Object.assign({},u,{offsets:t.modifiersData.arrow,position:"absolute",adaptive:!1,roundOffsets:l})))),t.attributes.popper=Object.assign({},t.attributes.popper,{"data-popper-placement":t.placement})}const gpe={name:"computeStyles",enabled:!0,phase:"beforeWrite",fn:vpe,data:{}};var j0={passive:!0};function ype(n){var t=n.state,e=n.instance,r=n.options,i=r.scroll,o=i===void 0?!0:i,a=r.resize,s=a===void 0?!0:a,l=oa(t.elements.popper),u=[].concat(t.scrollParents.reference,t.scrollParents.popper);return o&&u.forEach(function(c){c.addEventListener("scroll",e.update,j0)}),s&&l.addEventListener("resize",e.update,j0),function(){o&&u.forEach(function(c){c.removeEventListener("scroll",e.update,j0)}),s&&l.removeEventListener("resize",e.update,j0)}}const mpe={name:"eventListeners",enabled:!0,phase:"write",fn:function(){},effect:ype,data:{}};var Cpe={left:"right",right:"left",bottom:"top",top:"bottom"};function Xx(n){return n.replace(/left|right|bottom|top/g,function(t){return Cpe[t]})}var Spe={start:"end",end:"start"};function mj(n){return n.replace(/start|end/g,function(t){return Spe[t]})}function GN(n){var t=oa(n),e=t.pageXOffset,r=t.pageYOffset;return{scrollLeft:e,scrollTop:r}}function VN(n){return dg(Xd(n)).left+GN(n).scrollLeft}function wpe(n,t){var e=oa(n),r=Xd(n),i=e.visualViewport,o=r.clientWidth,a=r.clientHeight,s=0,l=0;if(i){o=i.width,a=i.height;var u=A9();(u||!u&&t==="fixed")&&(s=i.offsetLeft,l=i.offsetTop)}return{width:o,height:a,x:s+VN(n),y:l}}function _pe(n){var t,e=Xd(n),r=GN(n),i=(t=n.ownerDocument)==null?void 0:t.body,o=wh(e.scrollWidth,e.clientWidth,i?i.scrollWidth:0,i?i.clientWidth:0),a=wh(e.scrollHeight,e.clientHeight,i?i.scrollHeight:0,i?i.clientHeight:0),s=-r.scrollLeft+VN(n),l=-r.scrollTop;return zu(i||e).direction==="rtl"&&(s+=wh(e.clientWidth,i?i.clientWidth:0)-o),{width:o,height:a,x:s,y:l}}function BN(n){var t=zu(n),e=t.overflow,r=t.overflowX,i=t.overflowY;return/auto|scroll|overlay|hidden/.test(e+i+r)}function I9(n){return["html","body","#document"].indexOf(Kl(n))>=0?n.ownerDocument.body:Ba(n)&&BN(n)?n:I9(QR(n))}function wC(n,t){var e;t===void 0&&(t=[]);var r=I9(n),i=r===((e=n.ownerDocument)==null?void 0:e.body),o=oa(r),a=i?[o].concat(o.visualViewport||[],BN(r)?r:[]):r,s=t.concat(a);return i?s:s.concat(wC(QR(a)))}function zF(n){return Object.assign({},n,{left:n.x,top:n.y,right:n.x+n.width,bottom:n.y+n.height})}function xpe(n,t){var e=dg(n,!1,t==="fixed");return e.top=e.top+n.clientTop,e.left=e.left+n.clientLeft,e.bottom=e.top+n.clientHeight,e.right=e.left+n.clientWidth,e.width=n.clientWidth,e.height=n.clientHeight,e.x=e.left,e.y=e.top,e}function Cj(n,t,e){return t===T9?zF(wpe(n,e)):Vh(t)?xpe(t,e):zF(_pe(Xd(n)))}function Epe(n){var t=wC(QR(n)),e=["absolute","fixed"].indexOf(zu(n).position)>=0,r=e&&Ba(n)?bw(n):n;return Vh(r)?t.filter(function(i){return Vh(i)&&D9(i,r)&&Kl(i)!=="body"}):[]}function bpe(n,t,e,r){var i=t==="clippingParents"?Epe(n):[].concat(t),o=[].concat(i,[e]),a=o[0],s=o.reduce(function(l,u){var c=Cj(n,u,r);return l.top=wh(c.top,l.top),l.right=lb(c.right,l.right),l.bottom=lb(c.bottom,l.bottom),l.left=wh(c.left,l.left),l},Cj(n,a,r));return s.width=s.right-s.left,s.height=s.bottom-s.top,s.x=s.left,s.y=s.top,s}function N9(n){var t=n.reference,e=n.element,r=n.placement,i=r?Bl(r):null,o=r?pg(r):null,a=t.x+t.width/2-e.width/2,s=t.y+t.height/2-e.height/2,l;switch(i){case po:l={x:a,y:t.y-e.height};break;case Ka:l={x:a,y:t.y+t.height};break;case Ya:l={x:t.x+t.width,y:s};break;case ho:l={x:t.x-e.width,y:s};break;default:l={x:t.x,y:t.y}}var u=i?kN(i):null;if(u!=null){var c=u==="y"?"height":"width";switch(o){case ug:l[u]=l[u]-(t[c]/2-e[c]/2);break;case hS:l[u]=l[u]+(t[c]/2-e[c]/2);break}}return l}function fS(n,t){t===void 0&&(t={});var e=t,r=e.placement,i=r===void 0?n.placement:r,o=e.strategy,a=o===void 0?n.strategy:o,s=e.boundary,l=s===void 0?Ude:s,u=e.rootBoundary,c=u===void 0?T9:u,d=e.elementContext,p=d===void 0?Sy:d,h=e.altBoundary,f=h===void 0?!1:h,v=e.padding,g=v===void 0?0:v,y=F9(typeof g!="number"?g:L9(g,Ew)),m=p===Sy?zde:Sy,C=n.rects.popper,S=n.elements[f?m:p],w=bpe(Vh(S)?S:S.contextElement||Xd(n.elements.popper),l,c,a),_=dg(n.elements.reference),x=N9({reference:_,element:C,strategy:"absolute",placement:i}),b=zF(Object.assign({},C,x)),O=p===Sy?b:_,T={top:w.top-O.top+y.top,bottom:O.bottom-w.bottom+y.bottom,left:w.left-O.left+y.left,right:O.right-w.right+y.right},A=n.modifiersData.offset;if(p===Sy&&A){var N=A[i];Object.keys(T).forEach(function(M){var L=[Ya,Ka].indexOf(M)>=0?1:-1,G=[po,Ka].indexOf(M)>=0?"y":"x";T[M]+=N[G]*L})}return T}function Ope(n,t){t===void 0&&(t={});var e=t,r=e.placement,i=e.boundary,o=e.rootBoundary,a=e.padding,s=e.flipVariations,l=e.allowedAutoPlacements,u=l===void 0?P9:l,c=pg(r),d=c?s?vj:vj.filter(function(f){return pg(f)===c}):Ew,p=d.filter(function(f){return u.indexOf(f)>=0});p.length===0&&(p=d);var h=p.reduce(function(f,v){return f[v]=fS(n,{placement:v,boundary:i,rootBoundary:o,padding:a})[Bl(v)],f},{});return Object.keys(h).sort(function(f,v){return h[f]-h[v]})}function Rpe(n){if(Bl(n)===LN)return[];var t=Xx(n);return[mj(n),t,mj(t)]}function Tpe(n){var t=n.state,e=n.options,r=n.name;if(!t.modifiersData[r]._skip){for(var i=e.mainAxis,o=i===void 0?!0:i,a=e.altAxis,s=a===void 0?!0:a,l=e.fallbackPlacements,u=e.padding,c=e.boundary,d=e.rootBoundary,p=e.altBoundary,h=e.flipVariations,f=h===void 0?!0:h,v=e.allowedAutoPlacements,g=t.options.placement,y=Bl(g),m=y===g,C=l||(m||!f?[Xx(g)]:Rpe(g)),S=[g].concat(C).reduce(function(ie,re){return ie.concat(Bl(re)===LN?Ope(t,{placement:re,boundary:c,rootBoundary:d,padding:u,flipVariations:f,allowedAutoPlacements:v}):re)},[]),w=t.rects.reference,_=t.rects.popper,x=new Map,b=!0,O=S[0],T=0;T<S.length;T++){var A=S[T],N=Bl(A),M=pg(A)===ug,L=[po,Ka].indexOf(N)>=0,G=L?"width":"height",H=fS(t,{placement:A,boundary:c,rootBoundary:d,altBoundary:p,padding:u}),j=L?M?Ya:ho:M?Ka:po;w[G]>_[G]&&(j=Xx(j));var V=Xx(j),W=[];if(o&&W.push(H[N]<=0),s&&W.push(H[j]<=0,H[V]<=0),W.every(function(ie){return ie})){O=A,b=!1;break}x.set(A,W)}if(b)for(var K=f?3:1,ee=function(re){var Y=S.find(function(le){var ye=x.get(le);if(ye)return ye.slice(0,re).every(function(Q){return Q})});if(Y)return O=Y,"break"},Z=K;Z>0;Z--){var se=ee(Z);if(se==="break")break}t.placement!==O&&(t.modifiersData[r]._skip=!0,t.placement=O,t.reset=!0)}}const Ppe={name:"flip",enabled:!0,phase:"main",fn:Tpe,requiresIfExists:["offset"],data:{_skip:!1}};function Sj(n,t,e){return e===void 0&&(e={x:0,y:0}),{top:n.top-t.height-e.y,right:n.right-t.width+e.x,bottom:n.bottom-t.height+e.y,left:n.left-t.width-e.x}}function wj(n){return[po,Ya,Ka,ho].some(function(t){return n[t]>=0})}function Ape(n){var t=n.state,e=n.name,r=t.rects.reference,i=t.rects.popper,o=t.modifiersData.preventOverflow,a=fS(t,{elementContext:"reference"}),s=fS(t,{altBoundary:!0}),l=Sj(a,r),u=Sj(s,i,o),c=wj(l),d=wj(u);t.modifiersData[e]={referenceClippingOffsets:l,popperEscapeOffsets:u,isReferenceHidden:c,hasPopperEscaped:d},t.attributes.popper=Object.assign({},t.attributes.popper,{"data-popper-reference-hidden":c,"data-popper-escaped":d})}const Dpe={name:"hide",enabled:!0,phase:"main",requiresIfExists:["preventOverflow"],fn:Ape};function Mpe(n,t,e){var r=Bl(n),i=[ho,po].indexOf(r)>=0?-1:1,o=typeof e=="function"?e(Object.assign({},t,{placement:n})):e,a=o[0],s=o[1];return a=a||0,s=(s||0)*i,[ho,Ya].indexOf(r)>=0?{x:s,y:a}:{x:a,y:s}}function Fpe(n){var t=n.state,e=n.options,r=n.name,i=e.offset,o=i===void 0?[0,0]:i,a=P9.reduce(function(c,d){return c[d]=Mpe(d,t.rects,o),c},{}),s=a[t.placement],l=s.x,u=s.y;t.modifiersData.popperOffsets!=null&&(t.modifiersData.popperOffsets.x+=l,t.modifiersData.popperOffsets.y+=u),t.modifiersData[r]=a}const Lpe={name:"offset",enabled:!0,phase:"main",requires:["popperOffsets"],fn:Fpe};function Ipe(n){var t=n.state,e=n.name;t.modifiersData[e]=N9({reference:t.rects.reference,element:t.rects.popper,strategy:"absolute",placement:t.placement})}const Npe={name:"popperOffsets",enabled:!0,phase:"read",fn:Ipe,data:{}};function kpe(n){return n==="x"?"y":"x"}function Gpe(n){var t=n.state,e=n.options,r=n.name,i=e.mainAxis,o=i===void 0?!0:i,a=e.altAxis,s=a===void 0?!1:a,l=e.boundary,u=e.rootBoundary,c=e.altBoundary,d=e.padding,p=e.tether,h=p===void 0?!0:p,f=e.tetherOffset,v=f===void 0?0:f,g=fS(t,{boundary:l,rootBoundary:u,padding:d,altBoundary:c}),y=Bl(t.placement),m=pg(t.placement),C=!m,S=kN(y),w=kpe(S),_=t.modifiersData.popperOffsets,x=t.rects.reference,b=t.rects.popper,O=typeof v=="function"?v(Object.assign({},t.rects,{placement:t.placement})):v,T=typeof O=="number"?{mainAxis:O,altAxis:O}:Object.assign({mainAxis:0,altAxis:0},O),A=t.modifiersData.offset?t.modifiersData.offset[t.placement]:null,N={x:0,y:0};if(_){if(o){var M,L=S==="y"?po:ho,G=S==="y"?Ka:Ya,H=S==="y"?"height":"width",j=_[S],V=j+g[L],W=j-g[G],K=h?-b[H]/2:0,ee=m===ug?x[H]:b[H],Z=m===ug?-b[H]:-x[H],se=t.elements.arrow,ie=h&&se?NN(se):{width:0,height:0},re=t.modifiersData["arrow#persistent"]?t.modifiersData["arrow#persistent"].padding:M9(),Y=re[L],le=re[G],ye=SC(0,x[H],ie[H]),Q=C?x[H]/2-K-ye-Y-T.mainAxis:ee-ye-Y-T.mainAxis,he=C?-x[H]/2+K+ye+le+T.mainAxis:Z+ye+le+T.mainAxis,ue=t.elements.arrow&&bw(t.elements.arrow),J=ue?S==="y"?ue.clientTop||0:ue.clientLeft||0:0,ve=(M=A==null?void 0:A[S])!=null?M:0,we=j+Q-ve-J,Ee=j+he-ve,De=SC(h?lb(V,we):V,j,h?wh(W,Ee):W);_[S]=De,N[S]=De-j}if(s){var $e,Ze=S==="x"?po:ho,Ut=S==="x"?Ka:Ya,Ne=_[w],tt=w==="y"?"height":"width",zt=Ne+g[Ze],xt=Ne-g[Ut],He=[po,ho].indexOf(y)!==-1,St=($e=A==null?void 0:A[w])!=null?$e:0,wt=He?zt:Ne-x[tt]-b[tt]-St+T.altAxis,Mt=He?Ne+x[tt]+b[tt]-St-T.altAxis:xt,st=h&&He?lpe(wt,Ne,Mt):SC(h?wt:zt,Ne,h?Mt:xt);_[w]=st,N[w]=st-Ne}t.modifiersData[r]=N}}const Vpe={name:"preventOverflow",enabled:!0,phase:"main",fn:Gpe,requiresIfExists:["offset"]};function Bpe(n){return{scrollLeft:n.scrollLeft,scrollTop:n.scrollTop}}function Hpe(n){return n===oa(n)||!Ba(n)?GN(n):Bpe(n)}function jpe(n){var t=n.getBoundingClientRect(),e=cg(t.width)/n.offsetWidth||1,r=cg(t.height)/n.offsetHeight||1;return e!==1||r!==1}function $pe(n,t,e){e===void 0&&(e=!1);var r=Ba(t),i=Ba(t)&&jpe(t),o=Xd(t),a=dg(n,i,e),s={scrollLeft:0,scrollTop:0},l={x:0,y:0};return(r||!r&&!e)&&((Kl(t)!=="body"||BN(o))&&(s=Hpe(t)),Ba(t)?(l=dg(t,!0),l.x+=t.clientLeft,l.y+=t.clientTop):o&&(l.x=VN(o))),{x:a.left+s.scrollLeft-l.x,y:a.top+s.scrollTop-l.y,width:a.width,height:a.height}}function Wpe(n){var t=new Map,e=new Set,r=[];n.forEach(function(o){t.set(o.name,o)});function i(o){e.add(o.name);var a=[].concat(o.requires||[],o.requiresIfExists||[]);a.forEach(function(s){if(!e.has(s)){var l=t.get(s);l&&i(l)}}),r.push(o)}return n.forEach(function(o){e.has(o.name)||i(o)}),r}function Upe(n){var t=Wpe(n);return rpe.reduce(function(e,r){return e.concat(t.filter(function(i){return i.phase===r}))},[])}function zpe(n){var t;return function(){return t||(t=new Promise(function(e){Promise.resolve().then(function(){t=void 0,e(n())})})),t}}function Kpe(n){var t=n.reduce(function(e,r){var i=e[r.name];return e[r.name]=i?Object.assign({},i,r,{options:Object.assign({},i.options,r.options),data:Object.assign({},i.data,r.data)}):r,e},{});return Object.keys(t).map(function(e){return t[e]})}var _j={placement:"bottom",modifiers:[],strategy:"absolute"};function xj(){for(var n=arguments.length,t=new Array(n),e=0;e<n;e++)t[e]=arguments[e];return!t.some(function(r){return!(r&&typeof r.getBoundingClientRect=="function")})}function Ype(n){n===void 0&&(n={});var t=n,e=t.defaultModifiers,r=e===void 0?[]:e,i=t.defaultOptions,o=i===void 0?_j:i;return function(s,l,u){u===void 0&&(u=o);var c={placement:"bottom",orderedModifiers:[],options:Object.assign({},_j,o),modifiersData:{},elements:{reference:s,popper:l},attributes:{},styles:{}},d=[],p=!1,h={state:c,setOptions:function(y){var m=typeof y=="function"?y(c.options):y;v(),c.options=Object.assign({},o,c.options,m),c.scrollParents={reference:Vh(s)?wC(s):s.contextElement?wC(s.contextElement):[],popper:wC(l)};var C=Upe(Kpe([].concat(r,c.options.modifiers)));return c.orderedModifiers=C.filter(function(S){return S.enabled}),f(),h.update()},forceUpdate:function(){if(!p){var y=c.elements,m=y.reference,C=y.popper;if(xj(m,C)){c.rects={reference:$pe(m,bw(C),c.options.strategy==="fixed"),popper:NN(C)},c.reset=!1,c.placement=c.options.placement,c.orderedModifiers.forEach(function(T){return c.modifiersData[T.name]=Object.assign({},T.data)});for(var S=0;S<c.orderedModifiers.length;S++){if(c.reset===!0){c.reset=!1,S=-1;continue}var w=c.orderedModifiers[S],_=w.fn,x=w.options,b=x===void 0?{}:x,O=w.name;typeof _=="function"&&(c=_({state:c,options:b,name:O,instance:h})||c)}}}},update:zpe(function(){return new Promise(function(g){h.forceUpdate(),g(c)})}),destroy:function(){v(),p=!0}};if(!xj(s,l))return h;h.setOptions(u).then(function(g){!p&&u.onFirstUpdate&&u.onFirstUpdate(g)});function f(){c.orderedModifiers.forEach(function(g){var y=g.name,m=g.options,C=m===void 0?{}:m,S=g.effect;if(typeof S=="function"){var w=S({state:c,name:y,instance:h,options:C}),_=function(){};d.push(w||_)}})}function v(){d.forEach(function(g){return g()}),d=[]}return h}}var Xpe=[mpe,Npe,gpe,ope,Lpe,Ppe,Vpe,ppe,Dpe],qpe=Ype({defaultModifiers:Xpe});const k9="Popper";function Zpe(n){return b9(k9,n)}Rde(k9,["root"]);const Qpe=["anchorEl","children","direction","disablePortal","modifiers","open","placement","popperOptions","popperRef","slotProps","slots","TransitionProps","ownerState"],Jpe=["anchorEl","children","container","direction","disablePortal","keepMounted","modifiers","open","placement","popperOptions","popperRef","style","transition","slotProps","slots"];function ehe(n,t){if(t==="ltr")return n;switch(n){case"bottom-end":return"bottom-start";case"bottom-start":return"bottom-end";case"top-end":return"top-start";case"top-start":return"top-end";default:return n}}function KF(n){return typeof n=="function"?n():n}function the(n){return n.nodeType!==void 0}const rhe=()=>nt({root:["root"]},mce(Zpe)),nhe={},ihe=I.forwardRef(function(t,e){var r;const{anchorEl:i,children:o,direction:a,disablePortal:s,modifiers:l,open:u,placement:c,popperOptions:d,popperRef:p,slotProps:h={},slots:f={},TransitionProps:v}=t,g=_e(t,Qpe),y=I.useRef(null),m=nn(y,e),C=I.useRef(null),S=nn(C,p),w=I.useRef(S);ia(()=>{w.current=S},[S]),I.useImperativeHandle(p,()=>C.current,[]);const _=ehe(c,a),[x,b]=I.useState(_),[O,T]=I.useState(KF(i));I.useEffect(()=>{C.current&&C.current.forceUpdate()}),I.useEffect(()=>{i&&T(KF(i))},[i]),ia(()=>{if(!O||!u)return;const G=V=>{b(V.placement)};let H=[{name:"preventOverflow",options:{altBoundary:s}},{name:"flip",options:{altBoundary:s}},{name:"onUpdate",enabled:!0,phase:"afterWrite",fn:({state:V})=>{G(V)}}];l!=null&&(H=H.concat(l)),d&&d.modifiers!=null&&(H=H.concat(d.modifiers));const j=qpe(O,y.current,k({placement:_},d,{modifiers:H}));return w.current(j),()=>{j.destroy(),w.current(null)}},[O,s,l,u,d,_]);const A={placement:x};v!==null&&(A.TransitionProps=v);const N=rhe(),M=(r=f.root)!=null?r:"div",L=wn({elementType:M,externalSlotProps:h.root,externalForwardedProps:g,additionalProps:{role:"tooltip",ref:m},ownerState:t,className:N.root});return B.jsx(M,k({},L,{children:typeof o=="function"?o(A):o}))}),ohe=I.forwardRef(function(t,e){const{anchorEl:r,children:i,container:o,direction:a="ltr",disablePortal:s=!1,keepMounted:l=!1,modifiers:u,open:c,placement:d="bottom",popperOptions:p=nhe,popperRef:h,style:f,transition:v=!1,slotProps:g={},slots:y={}}=t,m=_e(t,Jpe),[C,S]=I.useState(!0),w=()=>{S(!1)},_=()=>{S(!0)};if(!l&&!c&&(!v||C))return null;let x;if(o)x=o;else if(r){const T=KF(r);x=T&&the(T)?di(T).body:di(null).body}const b=!c&&l&&(!v||C)?"none":void 0,O=v?{in:c,onEnter:w,onExited:_}:void 0;return B.jsx(O9,{disablePortal:s,container:x,children:B.jsx(ihe,k({anchorEl:r,direction:a,disablePortal:s,modifiers:u,ref:e,open:v?!C:c,placement:d,popperOptions:p,popperRef:h,slotProps:g,slots:y},m,{style:k({position:"fixed",top:0,left:0,display:b},f),TransitionProps:O,children:i}))})}),ahe=["onChange","maxRows","minRows","style","value"];function $0(n){return parseInt(n,10)||0}const she={shadow:{visibility:"hidden",position:"absolute",overflow:"hidden",height:0,top:0,left:0,transform:"translateZ(0)"}};function lhe(n){return n==null||Object.keys(n).length===0||n.outerHeightStyle===0&&!n.overflowing}const uhe=I.forwardRef(function(t,e){const{onChange:r,maxRows:i,minRows:o=1,style:a,value:s}=t,l=_e(t,ahe),{current:u}=I.useRef(s!=null),c=I.useRef(null),d=nn(e,c),p=I.useRef(null),h=I.useCallback(()=>{const g=c.current,m=Wu(g).getComputedStyle(g);if(m.width==="0px")return{outerHeightStyle:0,overflowing:!1};const C=p.current;C.style.width=m.width,C.value=g.value||t.placeholder||"x",C.value.slice(-1)===`
`&&(C.value+=" ");const S=m.boxSizing,w=$0(m.paddingBottom)+$0(m.paddingTop),_=$0(m.borderBottomWidth)+$0(m.borderTopWidth),x=C.scrollHeight;C.value="x";const b=C.scrollHeight;let O=x;o&&(O=Math.max(Number(o)*b,O)),i&&(O=Math.min(Number(i)*b,O)),O=Math.max(O,b);const T=O+(S==="border-box"?w+_:0),A=Math.abs(O-x)<=1;return{outerHeightStyle:T,overflowing:A}},[i,o,t.placeholder]),f=I.useCallback(()=>{const g=h();if(lhe(g))return;const y=c.current;y.style.height=`${g.outerHeightStyle}px`,y.style.overflow=g.overflowing?"hidden":""},[h]);ia(()=>{const g=()=>{f()};let y;const m=lN(g),C=c.current,S=Wu(C);S.addEventListener("resize",m);let w;return typeof ResizeObserver<"u"&&(w=new ResizeObserver(g),w.observe(C)),()=>{m.clear(),cancelAnimationFrame(y),S.removeEventListener("resize",m),w&&w.disconnect()}},[h,f]),ia(()=>{f()});const v=g=>{u||f(),r&&r(g)};return B.jsxs(I.Fragment,{children:[B.jsx("textarea",k({value:s,onChange:v,ref:d,rows:o},l)),B.jsx("textarea",{"aria-hidden":!0,className:t.className,readOnly:!0,ref:p,tabIndex:-1,style:k({},she.shadow,a,{paddingTop:0,paddingBottom:0})})]})});function Ng({props:n,states:t,muiFormControl:e}){return t.reduce((r,i)=>(r[i]=n[i],e&&typeof n[i]>"u"&&(r[i]=e[i]),r),{})}const che=I.createContext(void 0),HN=che;function kg(){return I.useContext(HN)}function dhe(n){return B.jsx($ue,k({},n,{defaultTheme:YR,themeId:XR}))}function Ej(n){return n!=null&&!(Array.isArray(n)&&n.length===0)}function ub(n,t=!1){return n&&(Ej(n.value)&&n.value!==""||t&&Ej(n.defaultValue)&&n.defaultValue!=="")}function phe(n){return n.startAdornment}function hhe(n){return at("MuiInputBase",n)}const fhe=it("MuiInputBase",["root","formControl","focused","disabled","adornedStart","adornedEnd","error","sizeSmall","multiline","colorSecondary","fullWidth","hiddenLabel","readOnly","input","inputSizeSmall","inputMultiline","inputTypeSearch","inputAdornedStart","inputAdornedEnd","inputHiddenLabel"]),hg=fhe,vhe=["aria-describedby","autoComplete","autoFocus","className","color","components","componentsProps","defaultValue","disabled","disableInjectingGlobalStyles","endAdornment","error","fullWidth","id","inputComponent","inputProps","inputRef","margin","maxRows","minRows","multiline","name","onBlur","onChange","onClick","onFocus","onKeyDown","onKeyUp","placeholder","readOnly","renderSuffix","rows","size","slotProps","slots","startAdornment","type","value"],JR=(n,t)=>{const{ownerState:e}=n;return[t.root,e.formControl&&t.formControl,e.startAdornment&&t.adornedStart,e.endAdornment&&t.adornedEnd,e.error&&t.error,e.size==="small"&&t.sizeSmall,e.multiline&&t.multiline,e.color&&t[`color${Be(e.color)}`],e.fullWidth&&t.fullWidth,e.hiddenLabel&&t.hiddenLabel]},eT=(n,t)=>{const{ownerState:e}=n;return[t.input,e.size==="small"&&t.inputSizeSmall,e.multiline&&t.inputMultiline,e.type==="search"&&t.inputTypeSearch,e.startAdornment&&t.inputAdornedStart,e.endAdornment&&t.inputAdornedEnd,e.hiddenLabel&&t.inputHiddenLabel]},ghe=n=>{const{classes:t,color:e,disabled:r,error:i,endAdornment:o,focused:a,formControl:s,fullWidth:l,hiddenLabel:u,multiline:c,readOnly:d,size:p,startAdornment:h,type:f}=n,v={root:["root",`color${Be(e)}`,r&&"disabled",i&&"error",l&&"fullWidth",a&&"focused",s&&"formControl",p&&p!=="medium"&&`size${Be(p)}`,c&&"multiline",h&&"adornedStart",o&&"adornedEnd",u&&"hiddenLabel",d&&"readOnly"],input:["input",r&&"disabled",f==="search"&&"inputTypeSearch",c&&"inputMultiline",p==="small"&&"inputSizeSmall",u&&"inputHiddenLabel",h&&"inputAdornedStart",o&&"inputAdornedEnd",d&&"readOnly"]};return nt(v,hhe,t)},tT=be("div",{name:"MuiInputBase",slot:"Root",overridesResolver:JR})(({theme:n,ownerState:t})=>k({},n.typography.body1,{color:(n.vars||n).palette.text.primary,lineHeight:"1.4375em",boxSizing:"border-box",position:"relative",cursor:"text",display:"inline-flex",alignItems:"center",[`&.${hg.disabled}`]:{color:(n.vars||n).palette.text.disabled,cursor:"default"}},t.multiline&&k({padding:"4px 0 5px"},t.size==="small"&&{paddingTop:1}),t.fullWidth&&{width:"100%"})),rT=be("input",{name:"MuiInputBase",slot:"Input",overridesResolver:eT})(({theme:n,ownerState:t})=>{const e=n.palette.mode==="light",r=k({color:"currentColor"},n.vars?{opacity:n.vars.opacity.inputPlaceholder}:{opacity:e?.42:.5},{transition:n.transitions.create("opacity",{duration:n.transitions.duration.shorter})}),i={opacity:"0 !important"},o=n.vars?{opacity:n.vars.opacity.inputPlaceholder}:{opacity:e?.42:.5};return k({font:"inherit",letterSpacing:"inherit",color:"currentColor",padding:"4px 0 5px",border:0,boxSizing:"content-box",background:"none",height:"1.4375em",margin:0,WebkitTapHighlightColor:"transparent",display:"block",minWidth:0,width:"100%",animationName:"mui-auto-fill-cancel",animationDuration:"10ms","&::-webkit-input-placeholder":r,"&::-moz-placeholder":r,"&:-ms-input-placeholder":r,"&::-ms-input-placeholder":r,"&:focus":{outline:0},"&:invalid":{boxShadow:"none"},"&::-webkit-search-decoration":{WebkitAppearance:"none"},[`label[data-shrink=false] + .${hg.formControl} &`]:{"&::-webkit-input-placeholder":i,"&::-moz-placeholder":i,"&:-ms-input-placeholder":i,"&::-ms-input-placeholder":i,"&:focus::-webkit-input-placeholder":o,"&:focus::-moz-placeholder":o,"&:focus:-ms-input-placeholder":o,"&:focus::-ms-input-placeholder":o},[`&.${hg.disabled}`]:{opacity:1,WebkitTextFillColor:(n.vars||n).palette.text.disabled},"&:-webkit-autofill":{animationDuration:"5000s",animationName:"mui-auto-fill"}},t.size==="small"&&{paddingTop:1},t.multiline&&{height:"auto",resize:"none",padding:0,paddingTop:0},t.type==="search"&&{MozAppearance:"textfield"})}),yhe=B.jsx(dhe,{styles:{"@keyframes mui-auto-fill":{from:{display:"block"}},"@keyframes mui-auto-fill-cancel":{from:{display:"block"}}}}),mhe=I.forwardRef(function(t,e){var r;const i=At({props:t,name:"MuiInputBase"}),{"aria-describedby":o,autoComplete:a,autoFocus:s,className:l,components:u={},componentsProps:c={},defaultValue:d,disabled:p,disableInjectingGlobalStyles:h,endAdornment:f,fullWidth:v=!1,id:g,inputComponent:y="input",inputProps:m={},inputRef:C,maxRows:S,minRows:w,multiline:_=!1,name:x,onBlur:b,onChange:O,onClick:T,onFocus:A,onKeyDown:N,onKeyUp:M,placeholder:L,readOnly:G,renderSuffix:H,rows:j,slotProps:V={},slots:W={},startAdornment:K,type:ee="text",value:Z}=i,se=_e(i,vhe),ie=m.value!=null?m.value:Z,{current:re}=I.useRef(ie!=null),Y=I.useRef(),le=I.useCallback(st=>{},[]),ye=nn(Y,C,m.ref,le),[Q,he]=I.useState(!1),ue=kg(),J=Ng({props:i,muiFormControl:ue,states:["color","disabled","error","hiddenLabel","size","required","filled"]});J.focused=ue?ue.focused:Q,I.useEffect(()=>{!ue&&p&&Q&&(he(!1),b&&b())},[ue,p,Q,b]);const ve=ue&&ue.onFilled,we=ue&&ue.onEmpty,Ee=I.useCallback(st=>{ub(st)?ve&&ve():we&&we()},[ve,we]);ia(()=>{re&&Ee({value:ie})},[ie,Ee,re]);const De=st=>{if(J.disabled){st.stopPropagation();return}A&&A(st),m.onFocus&&m.onFocus(st),ue&&ue.onFocus?ue.onFocus(st):he(!0)},$e=st=>{b&&b(st),m.onBlur&&m.onBlur(st),ue&&ue.onBlur?ue.onBlur(st):he(!1)},Ze=(st,...Fe)=>{if(!re){const Ft=st.target||Y.current;if(Ft==null)throw new Error(Gh(1));Ee({value:Ft.value})}m.onChange&&m.onChange(st,...Fe),O&&O(st,...Fe)};I.useEffect(()=>{Ee(Y.current)},[]);const Ut=st=>{Y.current&&st.currentTarget===st.target&&Y.current.focus(),T&&T(st)};let Ne=y,tt=m;_&&Ne==="input"&&(j?tt=k({type:void 0,minRows:j,maxRows:j},tt):tt=k({type:void 0,maxRows:S,minRows:w},tt),Ne=uhe);const zt=st=>{Ee(st.animationName==="mui-auto-fill-cancel"?Y.current:{value:"x"})};I.useEffect(()=>{ue&&ue.setAdornedStart(!!K)},[ue,K]);const xt=k({},i,{color:J.color||"primary",disabled:J.disabled,endAdornment:f,error:J.error,focused:J.focused,formControl:ue,fullWidth:v,hiddenLabel:J.hiddenLabel,multiline:_,size:J.size,startAdornment:K,type:ee}),He=ghe(xt),St=W.root||u.Root||tT,wt=V.root||c.root||{},Mt=W.input||u.Input||rT;return tt=k({},tt,(r=V.input)!=null?r:c.input),B.jsxs(I.Fragment,{children:[!h&&yhe,B.jsxs(St,k({},wt,!sb(St)&&{ownerState:k({},xt,wt.ownerState)},{ref:e,onClick:Ut},se,{className:We(He.root,wt.className,l,G&&"MuiInputBase-readOnly"),children:[K,B.jsx(HN.Provider,{value:null,children:B.jsx(Mt,k({ownerState:xt,"aria-invalid":J.error,"aria-describedby":o,autoComplete:a,autoFocus:s,defaultValue:d,disabled:J.disabled,id:g,onAnimationStart:zt,name:x,placeholder:L,readOnly:G,required:J.required,rows:j,value:ie,onKeyDown:N,onKeyUp:M,type:ee},tt,!sb(Mt)&&{as:Ne,ownerState:k({},xt,tt.ownerState)},{ref:ye,className:We(He.input,tt.className,G&&"MuiInputBase-readOnly"),onBlur:$e,onChange:Ze,onFocus:De}))}),f,H?H(k({},J,{startAdornment:K})):null]}))]})}),jN=mhe;function Che(n){return at("MuiInput",n)}const She=k({},hg,it("MuiInput",["root","underline","input"])),wy=She;function whe(n){return at("MuiOutlinedInput",n)}const _he=k({},hg,it("MuiOutlinedInput",["root","notchedOutline","input"])),bc=_he;function xhe(n){return at("MuiFilledInput",n)}const Ehe=k({},hg,it("MuiFilledInput",["root","underline","input"])),hp=Ehe,bhe=TN(B.jsx("path",{d:"M7 10l5 5 5-5z"}),"ArrowDropDown"),Ohe=["addEndListener","appear","children","easing","in","onEnter","onEntered","onEntering","onExit","onExited","onExiting","style","timeout","TransitionComponent"],Rhe={entering:{opacity:1},entered:{opacity:1}},The=I.forwardRef(function(t,e){const r=lc(),i={enter:r.transitions.duration.enteringScreen,exit:r.transitions.duration.leavingScreen},{addEndListener:o,appear:a=!0,children:s,easing:l,in:u,onEnter:c,onEntered:d,onEntering:p,onExit:h,onExited:f,onExiting:v,style:g,timeout:y=i,TransitionComponent:m=AN}=t,C=_e(t,Ohe),S=I.useRef(null),w=nn(S,s.ref,e),_=L=>G=>{if(L){const H=S.current;G===void 0?L(H):L(H,G)}},x=_(p),b=_((L,G)=>{y9(L);const H=lg({style:g,timeout:y,easing:l},{mode:"enter"});L.style.webkitTransition=r.transitions.create("opacity",H),L.style.transition=r.transitions.create("opacity",H),c&&c(L,G)}),O=_(d),T=_(v),A=_(L=>{const G=lg({style:g,timeout:y,easing:l},{mode:"exit"});L.style.webkitTransition=r.transitions.create("opacity",G),L.style.transition=r.transitions.create("opacity",G),h&&h(L)}),N=_(f),M=L=>{o&&o(S.current,L)};return B.jsx(m,k({appear:a,in:u,nodeRef:S,onEnter:b,onEntered:O,onEntering:x,onExit:A,onExited:N,onExiting:T,addEndListener:M,timeout:y},C,{children:(L,G)=>I.cloneElement(s,k({style:k({opacity:0,visibility:L==="exited"&&!u?"hidden":void 0},Rhe[L],g,s.props.style),ref:w},G))}))}),Phe=The;function Ahe(n){return at("MuiBackdrop",n)}it("MuiBackdrop",["root","invisible"]);const Dhe=["children","className","component","components","componentsProps","invisible","open","slotProps","slots","TransitionComponent","transitionDuration"],Mhe=n=>{const{classes:t,invisible:e}=n;return nt({root:["root",e&&"invisible"]},Ahe,t)},Fhe=be("div",{name:"MuiBackdrop",slot:"Root",overridesResolver:(n,t)=>{const{ownerState:e}=n;return[t.root,e.invisible&&t.invisible]}})(({ownerState:n})=>k({position:"fixed",display:"flex",alignItems:"center",justifyContent:"center",right:0,bottom:0,top:0,left:0,backgroundColor:"rgba(0, 0, 0, 0.5)",WebkitTapHighlightColor:"transparent"},n.invisible&&{backgroundColor:"transparent"})),Lhe=I.forwardRef(function(t,e){var r,i,o;const a=At({props:t,name:"MuiBackdrop"}),{children:s,className:l,component:u="div",components:c={},componentsProps:d={},invisible:p=!1,open:h,slotProps:f={},slots:v={},TransitionComponent:g=Phe,transitionDuration:y}=a,m=_e(a,Dhe),C=k({},a,{component:u,invisible:p}),S=Mhe(C),w=(r=f.root)!=null?r:d.root;return B.jsx(g,k({in:h,timeout:y},m,{children:B.jsx(Fhe,k({"aria-hidden":!0},w,{as:(i=(o=v.root)!=null?o:c.Root)!=null?i:u,className:We(S.root,l,w==null?void 0:w.className),ownerState:k({},C,w==null?void 0:w.ownerState),classes:S,ref:e,children:s}))}))}),Ihe=Lhe,Nhe=TN(B.jsx("path",{d:"M6 10c-1.1 0-2 .9-2 2s.9 2 2 2 2-.9 2-2-.9-2-2-2zm12 0c-1.1 0-2 .9-2 2s.9 2 2 2 2-.9 2-2-.9-2-2-2zm-6 0c-1.1 0-2 .9-2 2s.9 2 2 2 2-.9 2-2-.9-2-2-2z"}),"MoreHoriz"),khe=["slots","slotProps"],Ghe=be(ZR)(({theme:n})=>k({display:"flex",marginLeft:`calc(${n.spacing(1)} * 0.5)`,marginRight:`calc(${n.spacing(1)} * 0.5)`},n.palette.mode==="light"?{backgroundColor:n.palette.grey[100],color:n.palette.grey[700]}:{backgroundColor:n.palette.grey[700],color:n.palette.grey[100]},{borderRadius:2,"&:hover, &:focus":k({},n.palette.mode==="light"?{backgroundColor:n.palette.grey[200]}:{backgroundColor:n.palette.grey[600]}),"&:active":k({boxShadow:n.shadows[0]},n.palette.mode==="light"?{backgroundColor:XH(n.palette.grey[200],.12)}:{backgroundColor:XH(n.palette.grey[600],.12)})})),Vhe=be(Nhe)({width:24,height:16});function Bhe(n){const{slots:t={},slotProps:e={}}=n,r=_e(n,khe),i=n;return B.jsx("li",{children:B.jsx(Ghe,k({focusRipple:!0},r,{ownerState:i,children:B.jsx(Vhe,k({as:t.CollapsedIcon,ownerState:i},e.collapsedIcon))}))})}function Hhe(n){return at("MuiBreadcrumbs",n)}const jhe=it("MuiBreadcrumbs",["root","ol","li","separator"]),$he=jhe,Whe=["children","className","component","slots","slotProps","expandText","itemsAfterCollapse","itemsBeforeCollapse","maxItems","separator"],Uhe=n=>{const{classes:t}=n;return nt({root:["root"],li:["li"],ol:["ol"],separator:["separator"]},Hhe,t)},zhe=be(Yx,{name:"MuiBreadcrumbs",slot:"Root",overridesResolver:(n,t)=>[{[`& .${$he.li}`]:t.li},t.root]})({}),Khe=be("ol",{name:"MuiBreadcrumbs",slot:"Ol",overridesResolver:(n,t)=>t.ol})({display:"flex",flexWrap:"wrap",alignItems:"center",padding:0,margin:0,listStyle:"none"}),Yhe=be("li",{name:"MuiBreadcrumbs",slot:"Separator",overridesResolver:(n,t)=>t.separator})({display:"flex",userSelect:"none",marginLeft:8,marginRight:8});function Xhe(n,t,e,r){return n.reduce((i,o,a)=>(a<n.length-1?i=i.concat(o,B.jsx(Yhe,{"aria-hidden":!0,className:t,ownerState:r,children:e},`separator-${a}`)):i.push(o),i),[])}const qhe=I.forwardRef(function(t,e){const r=At({props:t,name:"MuiBreadcrumbs"}),{children:i,className:o,component:a="nav",slots:s={},slotProps:l={},expandText:u="Show path",itemsAfterCollapse:c=1,itemsBeforeCollapse:d=1,maxItems:p=8,separator:h="/"}=r,f=_e(r,Whe),[v,g]=I.useState(!1),y=k({},r,{component:a,expanded:v,expandText:u,itemsAfterCollapse:c,itemsBeforeCollapse:d,maxItems:p,separator:h}),m=Uhe(y),C=wn({elementType:s.CollapsedIcon,externalSlotProps:l.collapsedIcon,ownerState:y}),S=I.useRef(null),w=x=>{const b=()=>{g(!0);const O=S.current.querySelector("a[href],button,[tabindex]");O&&O.focus()};return d+c>=x.length?x:[...x.slice(0,d),B.jsx(Bhe,{"aria-label":u,slots:{CollapsedIcon:s.CollapsedIcon},slotProps:{collapsedIcon:C},onClick:b},"ellipsis"),...x.slice(x.length-c,x.length)]},_=I.Children.toArray(i).filter(x=>I.isValidElement(x)).map((x,b)=>B.jsx("li",{className:m.li,children:x},`child-${b}`));return B.jsx(zhe,k({ref:e,component:a,color:"text.secondary",className:We(m.root,o),ownerState:y},f,{children:B.jsx(Khe,{className:m.ol,ref:S,ownerState:y,children:Xhe(v||p&&_.length<=p?_:w(_),m.separator,h,y)})}))}),Zhe=qhe;function Qhe(n){return at("MuiButton",n)}const Jhe=it("MuiButton",["root","text","textInherit","textPrimary","textSecondary","textSuccess","textError","textInfo","textWarning","outlined","outlinedInherit","outlinedPrimary","outlinedSecondary","outlinedSuccess","outlinedError","outlinedInfo","outlinedWarning","contained","containedInherit","containedPrimary","containedSecondary","containedSuccess","containedError","containedInfo","containedWarning","disableElevation","focusVisible","disabled","colorInherit","colorPrimary","colorSecondary","colorSuccess","colorError","colorInfo","colorWarning","textSizeSmall","textSizeMedium","textSizeLarge","outlinedSizeSmall","outlinedSizeMedium","outlinedSizeLarge","containedSizeSmall","containedSizeMedium","containedSizeLarge","sizeMedium","sizeSmall","sizeLarge","fullWidth","startIcon","endIcon","icon","iconSizeSmall","iconSizeMedium","iconSizeLarge"]),W0=Jhe,efe=I.createContext({}),G9=efe,tfe=I.createContext(void 0),V9=tfe,rfe=["children","color","component","className","disabled","disableElevation","disableFocusRipple","endIcon","focusVisibleClassName","fullWidth","size","startIcon","type","variant"],nfe=n=>{const{color:t,disableElevation:e,fullWidth:r,size:i,variant:o,classes:a}=n,s={root:["root",o,`${o}${Be(t)}`,`size${Be(i)}`,`${o}Size${Be(i)}`,`color${Be(t)}`,e&&"disableElevation",r&&"fullWidth"],label:["label"],startIcon:["icon","startIcon",`iconSize${Be(i)}`],endIcon:["icon","endIcon",`iconSize${Be(i)}`]},l=nt(s,Qhe,a);return k({},a,l)},B9=n=>k({},n.size==="small"&&{"& > *:nth-of-type(1)":{fontSize:18}},n.size==="medium"&&{"& > *:nth-of-type(1)":{fontSize:20}},n.size==="large"&&{"& > *:nth-of-type(1)":{fontSize:22}}),ife=be(ZR,{shouldForwardProp:n=>Gs(n)||n==="classes",name:"MuiButton",slot:"Root",overridesResolver:(n,t)=>{const{ownerState:e}=n;return[t.root,t[e.variant],t[`${e.variant}${Be(e.color)}`],t[`size${Be(e.size)}`],t[`${e.variant}Size${Be(e.size)}`],e.color==="inherit"&&t.colorInherit,e.disableElevation&&t.disableElevation,e.fullWidth&&t.fullWidth]}})(({theme:n,ownerState:t})=>{var e,r;const i=n.palette.mode==="light"?n.palette.grey[300]:n.palette.grey[800],o=n.palette.mode==="light"?n.palette.grey.A100:n.palette.grey[700];return k({},n.typography.button,{minWidth:64,padding:"6px 16px",borderRadius:(n.vars||n).shape.borderRadius,transition:n.transitions.create(["background-color","box-shadow","border-color","color"],{duration:n.transitions.duration.short}),"&:hover":k({textDecoration:"none",backgroundColor:n.vars?`rgba(${n.vars.palette.text.primaryChannel} / ${n.vars.palette.action.hoverOpacity})`:Tu(n.palette.text.primary,n.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:"transparent"}},t.variant==="text"&&t.color!=="inherit"&&{backgroundColor:n.vars?`rgba(${n.vars.palette[t.color].mainChannel} / ${n.vars.palette.action.hoverOpacity})`:Tu(n.palette[t.color].main,n.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:"transparent"}},t.variant==="outlined"&&t.color!=="inherit"&&{border:`1px solid ${(n.vars||n).palette[t.color].main}`,backgroundColor:n.vars?`rgba(${n.vars.palette[t.color].mainChannel} / ${n.vars.palette.action.hoverOpacity})`:Tu(n.palette[t.color].main,n.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:"transparent"}},t.variant==="contained"&&{backgroundColor:n.vars?n.vars.palette.Button.inheritContainedHoverBg:o,boxShadow:(n.vars||n).shadows[4],"@media (hover: none)":{boxShadow:(n.vars||n).shadows[2],backgroundColor:(n.vars||n).palette.grey[300]}},t.variant==="contained"&&t.color!=="inherit"&&{backgroundColor:(n.vars||n).palette[t.color].dark,"@media (hover: none)":{backgroundColor:(n.vars||n).palette[t.color].main}}),"&:active":k({},t.variant==="contained"&&{boxShadow:(n.vars||n).shadows[8]}),[`&.${W0.focusVisible}`]:k({},t.variant==="contained"&&{boxShadow:(n.vars||n).shadows[6]}),[`&.${W0.disabled}`]:k({color:(n.vars||n).palette.action.disabled},t.variant==="outlined"&&{border:`1px solid ${(n.vars||n).palette.action.disabledBackground}`},t.variant==="contained"&&{color:(n.vars||n).palette.action.disabled,boxShadow:(n.vars||n).shadows[0],backgroundColor:(n.vars||n).palette.action.disabledBackground})},t.variant==="text"&&{padding:"6px 8px"},t.variant==="text"&&t.color!=="inherit"&&{color:(n.vars||n).palette[t.color].main},t.variant==="outlined"&&{padding:"5px 15px",border:"1px solid currentColor"},t.variant==="outlined"&&t.color!=="inherit"&&{color:(n.vars||n).palette[t.color].main,border:n.vars?`1px solid rgba(${n.vars.palette[t.color].mainChannel} / 0.5)`:`1px solid ${Tu(n.palette[t.color].main,.5)}`},t.variant==="contained"&&{color:n.vars?n.vars.palette.text.primary:(e=(r=n.palette).getContrastText)==null?void 0:e.call(r,n.palette.grey[300]),backgroundColor:n.vars?n.vars.palette.Button.inheritContainedBg:i,boxShadow:(n.vars||n).shadows[2]},t.variant==="contained"&&t.color!=="inherit"&&{color:(n.vars||n).palette[t.color].contrastText,backgroundColor:(n.vars||n).palette[t.color].main},t.color==="inherit"&&{color:"inherit",borderColor:"currentColor"},t.size==="small"&&t.variant==="text"&&{padding:"4px 5px",fontSize:n.typography.pxToRem(13)},t.size==="large"&&t.variant==="text"&&{padding:"8px 11px",fontSize:n.typography.pxToRem(15)},t.size==="small"&&t.variant==="outlined"&&{padding:"3px 9px",fontSize:n.typography.pxToRem(13)},t.size==="large"&&t.variant==="outlined"&&{padding:"7px 21px",fontSize:n.typography.pxToRem(15)},t.size==="small"&&t.variant==="contained"&&{padding:"4px 10px",fontSize:n.typography.pxToRem(13)},t.size==="large"&&t.variant==="contained"&&{padding:"8px 22px",fontSize:n.typography.pxToRem(15)},t.fullWidth&&{width:"100%"})},({ownerState:n})=>n.disableElevation&&{boxShadow:"none","&:hover":{boxShadow:"none"},[`&.${W0.focusVisible}`]:{boxShadow:"none"},"&:active":{boxShadow:"none"},[`&.${W0.disabled}`]:{boxShadow:"none"}}),ofe=be("span",{name:"MuiButton",slot:"StartIcon",overridesResolver:(n,t)=>{const{ownerState:e}=n;return[t.startIcon,t[`iconSize${Be(e.size)}`]]}})(({ownerState:n})=>k({display:"inherit",marginRight:8,marginLeft:-4},n.size==="small"&&{marginLeft:-2},B9(n))),afe=be("span",{name:"MuiButton",slot:"EndIcon",overridesResolver:(n,t)=>{const{ownerState:e}=n;return[t.endIcon,t[`iconSize${Be(e.size)}`]]}})(({ownerState:n})=>k({display:"inherit",marginRight:-4,marginLeft:8},n.size==="small"&&{marginRight:-2},B9(n))),sfe=I.forwardRef(function(t,e){const r=I.useContext(G9),i=I.useContext(V9),o=cN(r,t),a=At({props:o,name:"MuiButton"}),{children:s,color:l="primary",component:u="button",className:c,disabled:d=!1,disableElevation:p=!1,disableFocusRipple:h=!1,endIcon:f,focusVisibleClassName:v,fullWidth:g=!1,size:y="medium",startIcon:m,type:C,variant:S="text"}=a,w=_e(a,rfe),_=k({},a,{color:l,component:u,disabled:d,disableElevation:p,disableFocusRipple:h,fullWidth:g,size:y,type:C,variant:S}),x=nfe(_),b=m&&B.jsx(ofe,{className:x.startIcon,ownerState:_,children:m}),O=f&&B.jsx(afe,{className:x.endIcon,ownerState:_,children:f}),T=i||"";return B.jsxs(ife,k({ownerState:_,className:We(r.className,x.root,c,T),component:u,disabled:d,focusRipple:!h,focusVisibleClassName:We(x.focusVisible,v),ref:e,type:C},w,{classes:x,children:[b,s,O]}))}),Ss=sfe;function lfe(n){return at("MuiButtonGroup",n)}const jn=it("MuiButtonGroup",["root","contained","outlined","text","disableElevation","disabled","firstButton","fullWidth","vertical","grouped","groupedHorizontal","groupedVertical","groupedText","groupedTextHorizontal","groupedTextVertical","groupedTextPrimary","groupedTextSecondary","groupedOutlined","groupedOutlinedHorizontal","groupedOutlinedVertical","groupedOutlinedPrimary","groupedOutlinedSecondary","groupedContained","groupedContainedHorizontal","groupedContainedVertical","groupedContainedPrimary","groupedContainedSecondary","lastButton","middleButton"]),ufe=["children","className","color","component","disabled","disableElevation","disableFocusRipple","disableRipple","fullWidth","orientation","size","variant"],cfe=(n,t)=>{const{ownerState:e}=n;return[{[`& .${jn.grouped}`]:t.grouped},{[`& .${jn.grouped}`]:t[`grouped${Be(e.orientation)}`]},{[`& .${jn.grouped}`]:t[`grouped${Be(e.variant)}`]},{[`& .${jn.grouped}`]:t[`grouped${Be(e.variant)}${Be(e.orientation)}`]},{[`& .${jn.grouped}`]:t[`grouped${Be(e.variant)}${Be(e.color)}`]},{[`& .${jn.firstButton}`]:t.firstButton},{[`& .${jn.lastButton}`]:t.lastButton},{[`& .${jn.middleButton}`]:t.middleButton},t.root,t[e.variant],e.disableElevation===!0&&t.disableElevation,e.fullWidth&&t.fullWidth,e.orientation==="vertical"&&t.vertical]},dfe=n=>{const{classes:t,color:e,disabled:r,disableElevation:i,fullWidth:o,orientation:a,variant:s}=n,l={root:["root",s,a==="vertical"&&"vertical",o&&"fullWidth",i&&"disableElevation"],grouped:["grouped",`grouped${Be(a)}`,`grouped${Be(s)}`,`grouped${Be(s)}${Be(a)}`,`grouped${Be(s)}${Be(e)}`,r&&"disabled"],firstButton:["firstButton"],lastButton:["lastButton"],middleButton:["middleButton"]};return nt(l,lfe,t)},pfe=be("div",{name:"MuiButtonGroup",slot:"Root",overridesResolver:cfe})(({theme:n,ownerState:t})=>k({display:"inline-flex",borderRadius:(n.vars||n).shape.borderRadius},t.variant==="contained"&&{boxShadow:(n.vars||n).shadows[2]},t.disableElevation&&{boxShadow:"none"},t.fullWidth&&{width:"100%"},t.orientation==="vertical"&&{flexDirection:"column"},{[`& .${jn.grouped}`]:k({minWidth:40,"&:hover":k({},t.variant==="contained"&&{boxShadow:"none"})},t.variant==="contained"&&{boxShadow:"none"}),[`& .${jn.firstButton},& .${jn.middleButton}`]:k({},t.orientation==="horizontal"&&{borderTopRightRadius:0,borderBottomRightRadius:0},t.orientation==="vertical"&&{borderBottomRightRadius:0,borderBottomLeftRadius:0},t.variant==="text"&&t.orientation==="horizontal"&&{borderRight:n.vars?`1px solid rgba(${n.vars.palette.common.onBackgroundChannel} / 0.23)`:`1px solid ${n.palette.mode==="light"?"rgba(0, 0, 0, 0.23)":"rgba(255, 255, 255, 0.23)"}`,[`&.${jn.disabled}`]:{borderRight:`1px solid ${(n.vars||n).palette.action.disabled}`}},t.variant==="text"&&t.orientation==="vertical"&&{borderBottom:n.vars?`1px solid rgba(${n.vars.palette.common.onBackgroundChannel} / 0.23)`:`1px solid ${n.palette.mode==="light"?"rgba(0, 0, 0, 0.23)":"rgba(255, 255, 255, 0.23)"}`,[`&.${jn.disabled}`]:{borderBottom:`1px solid ${(n.vars||n).palette.action.disabled}`}},t.variant==="text"&&t.color!=="inherit"&&{borderColor:n.vars?`rgba(${n.vars.palette[t.color].mainChannel} / 0.5)`:Tu(n.palette[t.color].main,.5)},t.variant==="outlined"&&t.orientation==="horizontal"&&{borderRightColor:"transparent"},t.variant==="outlined"&&t.orientation==="vertical"&&{borderBottomColor:"transparent"},t.variant==="contained"&&t.orientation==="horizontal"&&{borderRight:`1px solid ${(n.vars||n).palette.grey[400]}`,[`&.${jn.disabled}`]:{borderRight:`1px solid ${(n.vars||n).palette.action.disabled}`}},t.variant==="contained"&&t.orientation==="vertical"&&{borderBottom:`1px solid ${(n.vars||n).palette.grey[400]}`,[`&.${jn.disabled}`]:{borderBottom:`1px solid ${(n.vars||n).palette.action.disabled}`}},t.variant==="contained"&&t.color!=="inherit"&&{borderColor:(n.vars||n).palette[t.color].dark},{"&:hover":k({},t.variant==="outlined"&&t.orientation==="horizontal"&&{borderRightColor:"currentColor"},t.variant==="outlined"&&t.orientation==="vertical"&&{borderBottomColor:"currentColor"})}),[`& .${jn.lastButton},& .${jn.middleButton}`]:k({},t.orientation==="horizontal"&&{borderTopLeftRadius:0,borderBottomLeftRadius:0},t.orientation==="vertical"&&{borderTopRightRadius:0,borderTopLeftRadius:0},t.variant==="outlined"&&t.orientation==="horizontal"&&{marginLeft:-1},t.variant==="outlined"&&t.orientation==="vertical"&&{marginTop:-1})})),hfe=I.forwardRef(function(t,e){const r=At({props:t,name:"MuiButtonGroup"}),{children:i,className:o,color:a="primary",component:s="div",disabled:l=!1,disableElevation:u=!1,disableFocusRipple:c=!1,disableRipple:d=!1,fullWidth:p=!1,orientation:h="horizontal",size:f="medium",variant:v="outlined"}=r,g=_e(r,ufe),y=k({},r,{color:a,component:s,disabled:l,disableElevation:u,disableFocusRipple:c,disableRipple:d,fullWidth:p,orientation:h,size:f,variant:v}),m=dfe(y),C=I.useMemo(()=>({className:m.grouped,color:a,disabled:l,disableElevation:u,disableFocusRipple:c,disableRipple:d,fullWidth:p,size:f,variant:v}),[a,l,u,c,d,p,f,v,m.grouped]),S=aae(i),w=S.length,_=x=>{const b=x===0,O=x===w-1;return b&&O?"":b?m.firstButton:O?m.lastButton:m.middleButton};return B.jsx(pfe,k({as:s,role:"group",className:We(m.root,o),ref:e,ownerState:y},g,{children:B.jsx(G9.Provider,{value:C,children:S.map((x,b)=>B.jsx(V9.Provider,{value:_(b),children:x},b))})}))}),YF=hfe;function ffe(n){return at("MuiModal",n)}it("MuiModal",["root","hidden","backdrop"]);const vfe=["BackdropComponent","BackdropProps","classes","className","closeAfterTransition","children","container","component","components","componentsProps","disableAutoFocus","disableEnforceFocus","disableEscapeKeyDown","disablePortal","disableRestoreFocus","disableScrollLock","hideBackdrop","keepMounted","onBackdropClick","onClose","onTransitionEnter","onTransitionExited","open","slotProps","slots","theme"],gfe=n=>{const{open:t,exited:e,classes:r}=n;return nt({root:["root",!t&&e&&"hidden"],backdrop:["backdrop"]},ffe,r)},yfe=be("div",{name:"MuiModal",slot:"Root",overridesResolver:(n,t)=>{const{ownerState:e}=n;return[t.root,!e.open&&e.exited&&t.hidden]}})(({theme:n,ownerState:t})=>k({position:"fixed",zIndex:(n.vars||n).zIndex.modal,right:0,bottom:0,top:0,left:0},!t.open&&t.exited&&{visibility:"hidden"})),mfe=be(Ihe,{name:"MuiModal",slot:"Backdrop",overridesResolver:(n,t)=>t.backdrop})({zIndex:-1}),Cfe=I.forwardRef(function(t,e){var r,i,o,a,s,l;const u=At({name:"MuiModal",props:t}),{BackdropComponent:c=mfe,BackdropProps:d,className:p,closeAfterTransition:h=!1,children:f,container:v,component:g,components:y={},componentsProps:m={},disableAutoFocus:C=!1,disableEnforceFocus:S=!1,disableEscapeKeyDown:w=!1,disablePortal:_=!1,disableRestoreFocus:x=!1,disableScrollLock:b=!1,hideBackdrop:O=!1,keepMounted:T=!1,onBackdropClick:A,open:N,slotProps:M,slots:L}=u,G=_e(u,vfe),H=k({},u,{closeAfterTransition:h,disableAutoFocus:C,disableEnforceFocus:S,disableEscapeKeyDown:w,disablePortal:_,disableRestoreFocus:x,disableScrollLock:b,hideBackdrop:O,keepMounted:T}),{getRootProps:j,getBackdropProps:V,getTransitionProps:W,portalRef:K,isTopModal:ee,exited:Z,hasTransition:se}=Wde(k({},H,{rootRef:e})),ie=k({},H,{exited:Z}),re=gfe(ie),Y={};if(f.props.tabIndex===void 0&&(Y.tabIndex="-1"),se){const{onEnter:ve,onExited:we}=W();Y.onEnter=ve,Y.onExited=we}const le=(r=(i=L==null?void 0:L.root)!=null?i:y.Root)!=null?r:yfe,ye=(o=(a=L==null?void 0:L.backdrop)!=null?a:y.Backdrop)!=null?o:c,Q=(s=M==null?void 0:M.root)!=null?s:m.root,he=(l=M==null?void 0:M.backdrop)!=null?l:m.backdrop,ue=wn({elementType:le,externalSlotProps:Q,externalForwardedProps:G,getSlotProps:j,additionalProps:{ref:e,as:g},ownerState:ie,className:We(p,Q==null?void 0:Q.className,re==null?void 0:re.root,!ie.open&&ie.exited&&(re==null?void 0:re.hidden))}),J=wn({elementType:ye,externalSlotProps:he,additionalProps:d,getSlotProps:ve=>V(k({},ve,{onClick:we=>{A&&A(we),ve!=null&&ve.onClick&&ve.onClick(we)}})),className:We(he==null?void 0:he.className,d==null?void 0:d.className,re==null?void 0:re.backdrop),ownerState:ie});return!T&&!N&&(!se||Z)?null:B.jsx(O9,{ref:K,container:v,disablePortal:_,children:B.jsxs(le,k({},ue,{children:[!O&&c?B.jsx(ye,k({},J)):null,B.jsx(Lde,{disableEnforceFocus:S,disableAutoFocus:C,disableRestoreFocus:x,isEnabled:ee,open:N,children:I.cloneElement(f,Y)})]}))})}),Sfe=Cfe,wfe=["disableUnderline","components","componentsProps","fullWidth","hiddenLabel","inputComponent","multiline","slotProps","slots","type"],_fe=n=>{const{classes:t,disableUnderline:e}=n,i=nt({root:["root",!e&&"underline"],input:["input"]},xhe,t);return k({},t,i)},xfe=be(tT,{shouldForwardProp:n=>Gs(n)||n==="classes",name:"MuiFilledInput",slot:"Root",overridesResolver:(n,t)=>{const{ownerState:e}=n;return[...JR(n,t),!e.disableUnderline&&t.underline]}})(({theme:n,ownerState:t})=>{var e;const r=n.palette.mode==="light",i=r?"rgba(0, 0, 0, 0.42)":"rgba(255, 255, 255, 0.7)",o=r?"rgba(0, 0, 0, 0.06)":"rgba(255, 255, 255, 0.09)",a=r?"rgba(0, 0, 0, 0.09)":"rgba(255, 255, 255, 0.13)",s=r?"rgba(0, 0, 0, 0.12)":"rgba(255, 255, 255, 0.12)";return k({position:"relative",backgroundColor:n.vars?n.vars.palette.FilledInput.bg:o,borderTopLeftRadius:(n.vars||n).shape.borderRadius,borderTopRightRadius:(n.vars||n).shape.borderRadius,transition:n.transitions.create("background-color",{duration:n.transitions.duration.shorter,easing:n.transitions.easing.easeOut}),"&:hover":{backgroundColor:n.vars?n.vars.palette.FilledInput.hoverBg:a,"@media (hover: none)":{backgroundColor:n.vars?n.vars.palette.FilledInput.bg:o}},[`&.${hp.focused}`]:{backgroundColor:n.vars?n.vars.palette.FilledInput.bg:o},[`&.${hp.disabled}`]:{backgroundColor:n.vars?n.vars.palette.FilledInput.disabledBg:s}},!t.disableUnderline&&{"&::after":{borderBottom:`2px solid ${(e=(n.vars||n).palette[t.color||"primary"])==null?void 0:e.main}`,left:0,bottom:0,content:'""',position:"absolute",right:0,transform:"scaleX(0)",transition:n.transitions.create("transform",{duration:n.transitions.duration.shorter,easing:n.transitions.easing.easeOut}),pointerEvents:"none"},[`&.${hp.focused}:after`]:{transform:"scaleX(1) translateX(0)"},[`&.${hp.error}`]:{"&::before, &::after":{borderBottomColor:(n.vars||n).palette.error.main}},"&::before":{borderBottom:`1px solid ${n.vars?`rgba(${n.vars.palette.common.onBackgroundChannel} / ${n.vars.opacity.inputUnderline})`:i}`,left:0,bottom:0,content:'"\\00a0"',position:"absolute",right:0,transition:n.transitions.create("border-bottom-color",{duration:n.transitions.duration.shorter}),pointerEvents:"none"},[`&:hover:not(.${hp.disabled}, .${hp.error}):before`]:{borderBottom:`1px solid ${(n.vars||n).palette.text.primary}`},[`&.${hp.disabled}:before`]:{borderBottomStyle:"dotted"}},t.startAdornment&&{paddingLeft:12},t.endAdornment&&{paddingRight:12},t.multiline&&k({padding:"25px 12px 8px"},t.size==="small"&&{paddingTop:21,paddingBottom:4},t.hiddenLabel&&{paddingTop:16,paddingBottom:17},t.hiddenLabel&&t.size==="small"&&{paddingTop:8,paddingBottom:9}))}),Efe=be(rT,{name:"MuiFilledInput",slot:"Input",overridesResolver:eT})(({theme:n,ownerState:t})=>k({paddingTop:25,paddingRight:12,paddingBottom:8,paddingLeft:12},!n.vars&&{"&:-webkit-autofill":{WebkitBoxShadow:n.palette.mode==="light"?null:"0 0 0 100px #266798 inset",WebkitTextFillColor:n.palette.mode==="light"?null:"#fff",caretColor:n.palette.mode==="light"?null:"#fff",borderTopLeftRadius:"inherit",borderTopRightRadius:"inherit"}},n.vars&&{"&:-webkit-autofill":{borderTopLeftRadius:"inherit",borderTopRightRadius:"inherit"},[n.getColorSchemeSelector("dark")]:{"&:-webkit-autofill":{WebkitBoxShadow:"0 0 0 100px #266798 inset",WebkitTextFillColor:"#fff",caretColor:"#fff"}}},t.size==="small"&&{paddingTop:21,paddingBottom:4},t.hiddenLabel&&{paddingTop:16,paddingBottom:17},t.startAdornment&&{paddingLeft:0},t.endAdornment&&{paddingRight:0},t.hiddenLabel&&t.size==="small"&&{paddingTop:8,paddingBottom:9},t.multiline&&{paddingTop:0,paddingBottom:0,paddingLeft:0,paddingRight:0})),H9=I.forwardRef(function(t,e){var r,i,o,a;const s=At({props:t,name:"MuiFilledInput"}),{components:l={},componentsProps:u,fullWidth:c=!1,inputComponent:d="input",multiline:p=!1,slotProps:h,slots:f={},type:v="text"}=s,g=_e(s,wfe),y=k({},s,{fullWidth:c,inputComponent:d,multiline:p,type:v}),m=_fe(s),C={root:{ownerState:y},input:{ownerState:y}},S=h??u?ta(C,h??u):C,w=(r=(i=f.root)!=null?i:l.Root)!=null?r:xfe,_=(o=(a=f.input)!=null?a:l.Input)!=null?o:Efe;return B.jsx(jN,k({slots:{root:w,input:_},componentsProps:S,fullWidth:c,inputComponent:d,multiline:p,ref:e,type:v},g,{classes:m}))});H9.muiName="Input";const j9=H9;function bfe(n){return at("MuiFormControl",n)}it("MuiFormControl",["root","marginNone","marginNormal","marginDense","fullWidth","disabled"]);const Ofe=["children","className","color","component","disabled","error","focused","fullWidth","hiddenLabel","margin","required","size","variant"],Rfe=n=>{const{classes:t,margin:e,fullWidth:r}=n,i={root:["root",e!=="none"&&`margin${Be(e)}`,r&&"fullWidth"]};return nt(i,bfe,t)},Tfe=be("div",{name:"MuiFormControl",slot:"Root",overridesResolver:({ownerState:n},t)=>k({},t.root,t[`margin${Be(n.margin)}`],n.fullWidth&&t.fullWidth)})(({ownerState:n})=>k({display:"inline-flex",flexDirection:"column",position:"relative",minWidth:0,padding:0,margin:0,border:0,verticalAlign:"top"},n.margin==="normal"&&{marginTop:16,marginBottom:8},n.margin==="dense"&&{marginTop:8,marginBottom:4},n.fullWidth&&{width:"100%"})),Pfe=I.forwardRef(function(t,e){const r=At({props:t,name:"MuiFormControl"}),{children:i,className:o,color:a="primary",component:s="div",disabled:l=!1,error:u=!1,focused:c,fullWidth:d=!1,hiddenLabel:p=!1,margin:h="none",required:f=!1,size:v="medium",variant:g="outlined"}=r,y=_e(r,Ofe),m=k({},r,{color:a,component:s,disabled:l,error:u,fullWidth:d,hiddenLabel:p,margin:h,required:f,size:v,variant:g}),C=Rfe(m),[S,w]=I.useState(()=>{let M=!1;return i&&I.Children.forEach(i,L=>{if(!jx(L,["Input","Select"]))return;const G=jx(L,["Select"])?L.props.input:L;G&&phe(G.props)&&(M=!0)}),M}),[_,x]=I.useState(()=>{let M=!1;return i&&I.Children.forEach(i,L=>{jx(L,["Input","Select"])&&(ub(L.props,!0)||ub(L.props.inputProps,!0))&&(M=!0)}),M}),[b,O]=I.useState(!1);l&&b&&O(!1);const T=c!==void 0&&!l?c:b;let A;const N=I.useMemo(()=>({adornedStart:S,setAdornedStart:w,color:a,disabled:l,error:u,filled:_,focused:T,fullWidth:d,hiddenLabel:p,size:v,onBlur:()=>{O(!1)},onEmpty:()=>{x(!1)},onFilled:()=>{x(!0)},onFocus:()=>{O(!0)},registerEffect:A,required:f,variant:g}),[S,a,l,u,_,T,d,p,A,f,v,g]);return B.jsx(HN.Provider,{value:N,children:B.jsx(Tfe,k({as:s,ownerState:m,className:We(C.root,o),ref:e},y,{children:i}))})}),Afe=Pfe;function Dfe(n){return at("MuiFormHelperText",n)}const Mfe=it("MuiFormHelperText",["root","error","disabled","sizeSmall","sizeMedium","contained","focused","filled","required"]),bj=Mfe;var Oj;const Ffe=["children","className","component","disabled","error","filled","focused","margin","required","variant"],Lfe=n=>{const{classes:t,contained:e,size:r,disabled:i,error:o,filled:a,focused:s,required:l}=n,u={root:["root",i&&"disabled",o&&"error",r&&`size${Be(r)}`,e&&"contained",s&&"focused",a&&"filled",l&&"required"]};return nt(u,Dfe,t)},Ife=be("p",{name:"MuiFormHelperText",slot:"Root",overridesResolver:(n,t)=>{const{ownerState:e}=n;return[t.root,e.size&&t[`size${Be(e.size)}`],e.contained&&t.contained,e.filled&&t.filled]}})(({theme:n,ownerState:t})=>k({color:(n.vars||n).palette.text.secondary},n.typography.caption,{textAlign:"left",marginTop:3,marginRight:0,marginBottom:0,marginLeft:0,[`&.${bj.disabled}`]:{color:(n.vars||n).palette.text.disabled},[`&.${bj.error}`]:{color:(n.vars||n).palette.error.main}},t.size==="small"&&{marginTop:4},t.contained&&{marginLeft:14,marginRight:14})),Nfe=I.forwardRef(function(t,e){const r=At({props:t,name:"MuiFormHelperText"}),{children:i,className:o,component:a="p"}=r,s=_e(r,Ffe),l=kg(),u=Ng({props:r,muiFormControl:l,states:["variant","size","disabled","error","filled","focused","required"]}),c=k({},r,{component:a,contained:u.variant==="filled"||u.variant==="outlined",variant:u.variant,size:u.size,disabled:u.disabled,error:u.error,filled:u.filled,focused:u.focused,required:u.required}),d=Lfe(c);return B.jsx(Ife,k({as:a,ownerState:c,className:We(d.root,o),ref:e},s,{children:i===" "?Oj||(Oj=B.jsx("span",{className:"notranslate",children:"​"})):i}))}),kfe=Nfe;function Gfe(n){return at("MuiFormLabel",n)}const Vfe=it("MuiFormLabel",["root","colorSecondary","focused","disabled","error","filled","required","asterisk"]),_C=Vfe,Bfe=["children","className","color","component","disabled","error","filled","focused","required"],Hfe=n=>{const{classes:t,color:e,focused:r,disabled:i,error:o,filled:a,required:s}=n,l={root:["root",`color${Be(e)}`,i&&"disabled",o&&"error",a&&"filled",r&&"focused",s&&"required"],asterisk:["asterisk",o&&"error"]};return nt(l,Gfe,t)},jfe=be("label",{name:"MuiFormLabel",slot:"Root",overridesResolver:({ownerState:n},t)=>k({},t.root,n.color==="secondary"&&t.colorSecondary,n.filled&&t.filled)})(({theme:n,ownerState:t})=>k({color:(n.vars||n).palette.text.secondary},n.typography.body1,{lineHeight:"1.4375em",padding:0,position:"relative",[`&.${_C.focused}`]:{color:(n.vars||n).palette[t.color].main},[`&.${_C.disabled}`]:{color:(n.vars||n).palette.text.disabled},[`&.${_C.error}`]:{color:(n.vars||n).palette.error.main}})),$fe=be("span",{name:"MuiFormLabel",slot:"Asterisk",overridesResolver:(n,t)=>t.asterisk})(({theme:n})=>({[`&.${_C.error}`]:{color:(n.vars||n).palette.error.main}})),Wfe=I.forwardRef(function(t,e){const r=At({props:t,name:"MuiFormLabel"}),{children:i,className:o,component:a="label"}=r,s=_e(r,Bfe),l=kg(),u=Ng({props:r,muiFormControl:l,states:["color","required","focused","disabled","error","filled"]}),c=k({},r,{color:u.color||"primary",component:a,disabled:u.disabled,error:u.error,filled:u.filled,focused:u.focused,required:u.required}),d=Hfe(c);return B.jsxs(jfe,k({as:a,ownerState:c,className:We(d.root,o),ref:e},s,{children:[i,u.required&&B.jsxs($fe,{ownerState:c,"aria-hidden":!0,className:d.asterisk,children:[" ","*"]})]}))}),Ufe=Wfe,zfe=["addEndListener","appear","children","easing","in","onEnter","onEntered","onEntering","onExit","onExited","onExiting","style","timeout","TransitionComponent"];function XF(n){return`scale(${n}, ${n**2})`}const Kfe={entering:{opacity:1,transform:XF(1)},entered:{opacity:1,transform:"none"}},aA=typeof navigator<"u"&&/^((?!chrome|android).)*(safari|mobile)/i.test(navigator.userAgent)&&/(os |version\/)15(.|_)4/i.test(navigator.userAgent),$9=I.forwardRef(function(t,e){const{addEndListener:r,appear:i=!0,children:o,easing:a,in:s,onEnter:l,onEntered:u,onEntering:c,onExit:d,onExited:p,onExiting:h,style:f,timeout:v="auto",TransitionComponent:g=AN}=t,y=_e(t,zfe),m=uN(),C=I.useRef(),S=lc(),w=I.useRef(null),_=nn(w,o.ref,e),x=G=>H=>{if(G){const j=w.current;H===void 0?G(j):G(j,H)}},b=x(c),O=x((G,H)=>{y9(G);const{duration:j,delay:V,easing:W}=lg({style:f,timeout:v,easing:a},{mode:"enter"});let K;v==="auto"?(K=S.transitions.getAutoHeightDuration(G.clientHeight),C.current=K):K=j,G.style.transition=[S.transitions.create("opacity",{duration:K,delay:V}),S.transitions.create("transform",{duration:aA?K:K*.666,delay:V,easing:W})].join(","),l&&l(G,H)}),T=x(u),A=x(h),N=x(G=>{const{duration:H,delay:j,easing:V}=lg({style:f,timeout:v,easing:a},{mode:"exit"});let W;v==="auto"?(W=S.transitions.getAutoHeightDuration(G.clientHeight),C.current=W):W=H,G.style.transition=[S.transitions.create("opacity",{duration:W,delay:j}),S.transitions.create("transform",{duration:aA?W:W*.666,delay:aA?j:j||W*.333,easing:V})].join(","),G.style.opacity=0,G.style.transform=XF(.75),d&&d(G)}),M=x(p),L=G=>{v==="auto"&&m.start(C.current||0,G),r&&r(w.current,G)};return B.jsx(g,k({appear:i,in:s,nodeRef:w,onEnter:O,onEntered:T,onEntering:b,onExit:N,onExited:M,onExiting:A,addEndListener:L,timeout:v==="auto"?null:v},y,{children:(G,H)=>I.cloneElement(o,k({style:k({opacity:0,transform:XF(.75),visibility:G==="exited"&&!s?"hidden":void 0},Kfe[G],f,o.props.style),ref:_},H))}))});$9.muiSupportAuto=!0;const Yfe=$9,Xfe=["disableUnderline","components","componentsProps","fullWidth","inputComponent","multiline","slotProps","slots","type"],qfe=n=>{const{classes:t,disableUnderline:e}=n,i=nt({root:["root",!e&&"underline"],input:["input"]},Che,t);return k({},t,i)},Zfe=be(tT,{shouldForwardProp:n=>Gs(n)||n==="classes",name:"MuiInput",slot:"Root",overridesResolver:(n,t)=>{const{ownerState:e}=n;return[...JR(n,t),!e.disableUnderline&&t.underline]}})(({theme:n,ownerState:t})=>{let r=n.palette.mode==="light"?"rgba(0, 0, 0, 0.42)":"rgba(255, 255, 255, 0.7)";return n.vars&&(r=`rgba(${n.vars.palette.common.onBackgroundChannel} / ${n.vars.opacity.inputUnderline})`),k({position:"relative"},t.formControl&&{"label + &":{marginTop:16}},!t.disableUnderline&&{"&::after":{borderBottom:`2px solid ${(n.vars||n).palette[t.color].main}`,left:0,bottom:0,content:'""',position:"absolute",right:0,transform:"scaleX(0)",transition:n.transitions.create("transform",{duration:n.transitions.duration.shorter,easing:n.transitions.easing.easeOut}),pointerEvents:"none"},[`&.${wy.focused}:after`]:{transform:"scaleX(1) translateX(0)"},[`&.${wy.error}`]:{"&::before, &::after":{borderBottomColor:(n.vars||n).palette.error.main}},"&::before":{borderBottom:`1px solid ${r}`,left:0,bottom:0,content:'"\\00a0"',position:"absolute",right:0,transition:n.transitions.create("border-bottom-color",{duration:n.transitions.duration.shorter}),pointerEvents:"none"},[`&:hover:not(.${wy.disabled}, .${wy.error}):before`]:{borderBottom:`2px solid ${(n.vars||n).palette.text.primary}`,"@media (hover: none)":{borderBottom:`1px solid ${r}`}},[`&.${wy.disabled}:before`]:{borderBottomStyle:"dotted"}})}),Qfe=be(rT,{name:"MuiInput",slot:"Input",overridesResolver:eT})({}),W9=I.forwardRef(function(t,e){var r,i,o,a;const s=At({props:t,name:"MuiInput"}),{disableUnderline:l,components:u={},componentsProps:c,fullWidth:d=!1,inputComponent:p="input",multiline:h=!1,slotProps:f,slots:v={},type:g="text"}=s,y=_e(s,Xfe),m=qfe(s),S={root:{ownerState:{disableUnderline:l}}},w=f??c?ta(f??c,S):S,_=(r=(i=v.root)!=null?i:u.Root)!=null?r:Zfe,x=(o=(a=v.input)!=null?a:u.Input)!=null?o:Qfe;return B.jsx(jN,k({slots:{root:_,input:x},slotProps:w,fullWidth:d,inputComponent:p,multiline:h,ref:e,type:g},y,{classes:m}))});W9.muiName="Input";const U9=W9;function Jfe(n){return at("MuiInputLabel",n)}it("MuiInputLabel",["root","focused","disabled","error","required","asterisk","formControl","sizeSmall","shrink","animated","standard","filled","outlined"]);const eve=["disableAnimation","margin","shrink","variant","className"],tve=n=>{const{classes:t,formControl:e,size:r,shrink:i,disableAnimation:o,variant:a,required:s}=n,l={root:["root",e&&"formControl",!o&&"animated",i&&"shrink",r&&r!=="normal"&&`size${Be(r)}`,a],asterisk:[s&&"asterisk"]},u=nt(l,Jfe,t);return k({},t,u)},rve=be(Ufe,{shouldForwardProp:n=>Gs(n)||n==="classes",name:"MuiInputLabel",slot:"Root",overridesResolver:(n,t)=>{const{ownerState:e}=n;return[{[`& .${_C.asterisk}`]:t.asterisk},t.root,e.formControl&&t.formControl,e.size==="small"&&t.sizeSmall,e.shrink&&t.shrink,!e.disableAnimation&&t.animated,e.focused&&t.focused,t[e.variant]]}})(({theme:n,ownerState:t})=>k({display:"block",transformOrigin:"top left",whiteSpace:"nowrap",overflow:"hidden",textOverflow:"ellipsis",maxWidth:"100%"},t.formControl&&{position:"absolute",left:0,top:0,transform:"translate(0, 20px) scale(1)"},t.size==="small"&&{transform:"translate(0, 17px) scale(1)"},t.shrink&&{transform:"translate(0, -1.5px) scale(0.75)",transformOrigin:"top left",maxWidth:"133%"},!t.disableAnimation&&{transition:n.transitions.create(["color","transform","max-width"],{duration:n.transitions.duration.shorter,easing:n.transitions.easing.easeOut})},t.variant==="filled"&&k({zIndex:1,pointerEvents:"none",transform:"translate(12px, 16px) scale(1)",maxWidth:"calc(100% - 24px)"},t.size==="small"&&{transform:"translate(12px, 13px) scale(1)"},t.shrink&&k({userSelect:"none",pointerEvents:"auto",transform:"translate(12px, 7px) scale(0.75)",maxWidth:"calc(133% - 24px)"},t.size==="small"&&{transform:"translate(12px, 4px) scale(0.75)"})),t.variant==="outlined"&&k({zIndex:1,pointerEvents:"none",transform:"translate(14px, 16px) scale(1)",maxWidth:"calc(100% - 24px)"},t.size==="small"&&{transform:"translate(14px, 9px) scale(1)"},t.shrink&&{userSelect:"none",pointerEvents:"auto",maxWidth:"calc(133% - 32px)",transform:"translate(14px, -9px) scale(0.75)"}))),nve=I.forwardRef(function(t,e){const r=At({name:"MuiInputLabel",props:t}),{disableAnimation:i=!1,shrink:o,className:a}=r,s=_e(r,eve),l=kg();let u=o;typeof u>"u"&&l&&(u=l.filled||l.focused||l.adornedStart);const c=Ng({props:r,muiFormControl:l,states:["size","variant","required","focused"]}),d=k({},r,{disableAnimation:i,formControl:l,shrink:u,size:c.size,variant:c.variant,required:c.required,focused:c.focused}),p=tve(d);return B.jsx(rve,k({"data-shrink":u,ownerState:d,ref:e,className:We(p.root,a)},s,{classes:p}))}),ive=nve,ove=I.createContext({}),ave=ove;function sve(n){return at("MuiList",n)}it("MuiList",["root","padding","dense","subheader"]);const lve=["children","className","component","dense","disablePadding","subheader"],uve=n=>{const{classes:t,disablePadding:e,dense:r,subheader:i}=n;return nt({root:["root",!e&&"padding",r&&"dense",i&&"subheader"]},sve,t)},cve=be("ul",{name:"MuiList",slot:"Root",overridesResolver:(n,t)=>{const{ownerState:e}=n;return[t.root,!e.disablePadding&&t.padding,e.dense&&t.dense,e.subheader&&t.subheader]}})(({ownerState:n})=>k({listStyle:"none",margin:0,padding:0,position:"relative"},!n.disablePadding&&{paddingTop:8,paddingBottom:8},n.subheader&&{paddingTop:0})),dve=I.forwardRef(function(t,e){const r=At({props:t,name:"MuiList"}),{children:i,className:o,component:a="ul",dense:s=!1,disablePadding:l=!1,subheader:u}=r,c=_e(r,lve),d=I.useMemo(()=>({dense:s}),[s]),p=k({},r,{component:a,dense:s,disablePadding:l}),h=uve(p);return B.jsx(ave.Provider,{value:d,children:B.jsxs(cve,k({as:a,className:We(h.root,o),ref:e,ownerState:p},c,{children:[u,i]}))})}),pve=dve,hve=["actions","autoFocus","autoFocusItem","children","className","disabledItemsFocusable","disableListWrap","onKeyDown","variant"];function sA(n,t,e){return n===t?n.firstChild:t&&t.nextElementSibling?t.nextElementSibling:e?null:n.firstChild}function Rj(n,t,e){return n===t?e?n.firstChild:n.lastChild:t&&t.previousElementSibling?t.previousElementSibling:e?null:n.lastChild}function z9(n,t){if(t===void 0)return!0;let e=n.innerText;return e===void 0&&(e=n.textContent),e=e.trim().toLowerCase(),e.length===0?!1:t.repeating?e[0]===t.keys[0]:e.indexOf(t.keys.join(""))===0}function _y(n,t,e,r,i,o){let a=!1,s=i(n,t,t?e:!1);for(;s;){if(s===n.firstChild){if(a)return!1;a=!0}const l=r?!1:s.disabled||s.getAttribute("aria-disabled")==="true";if(!s.hasAttribute("tabindex")||!z9(s,o)||l)s=i(n,s,e);else return s.focus(),!0}return!1}const fve=I.forwardRef(function(t,e){const{actions:r,autoFocus:i=!1,autoFocusItem:o=!1,children:a,className:s,disabledItemsFocusable:l=!1,disableListWrap:u=!1,onKeyDown:c,variant:d="selectedMenu"}=t,p=_e(t,hve),h=I.useRef(null),f=I.useRef({keys:[],repeating:!0,previousKeyMatched:!0,lastTime:null});ia(()=>{i&&h.current.focus()},[i]),I.useImperativeHandle(r,()=>({adjustStyleForScrollbar:(C,S)=>{const w=!h.current.style.width;if(C.clientHeight<h.current.clientHeight&&w){const _=`${P6(di(C))}px`;h.current.style[S.direction==="rtl"?"paddingLeft":"paddingRight"]=_,h.current.style.width=`calc(100% + ${_})`}return h.current}}),[]);const v=C=>{const S=h.current,w=C.key,_=di(S).activeElement;if(w==="ArrowDown")C.preventDefault(),_y(S,_,u,l,sA);else if(w==="ArrowUp")C.preventDefault(),_y(S,_,u,l,Rj);else if(w==="Home")C.preventDefault(),_y(S,null,u,l,sA);else if(w==="End")C.preventDefault(),_y(S,null,u,l,Rj);else if(w.length===1){const x=f.current,b=w.toLowerCase(),O=performance.now();x.keys.length>0&&(O-x.lastTime>500?(x.keys=[],x.repeating=!0,x.previousKeyMatched=!0):x.repeating&&b!==x.keys[0]&&(x.repeating=!1)),x.lastTime=O,x.keys.push(b);const T=_&&!x.repeating&&z9(_,x);x.previousKeyMatched&&(T||_y(S,_,!1,l,sA,x))?C.preventDefault():x.previousKeyMatched=!1}c&&c(C)},g=nn(h,e);let y=-1;I.Children.forEach(a,(C,S)=>{if(!I.isValidElement(C)){y===S&&(y+=1,y>=a.length&&(y=-1));return}C.props.disabled||(d==="selectedMenu"&&C.props.selected||y===-1)&&(y=S),y===S&&(C.props.disabled||C.props.muiSkipListHighlight||C.type.muiSkipListHighlight)&&(y+=1,y>=a.length&&(y=-1))});const m=I.Children.map(a,(C,S)=>{if(S===y){const w={};return o&&(w.autoFocus=!0),C.props.tabIndex===void 0&&d==="selectedMenu"&&(w.tabIndex=0),I.cloneElement(C,w)}return C});return B.jsx(pve,k({role:"menu",ref:g,className:s,onKeyDown:v,tabIndex:i?0:-1},p,{children:m}))}),vve=fve;function gve(n){return at("MuiPopover",n)}it("MuiPopover",["root","paper"]);const yve=["onEntering"],mve=["action","anchorEl","anchorOrigin","anchorPosition","anchorReference","children","className","container","elevation","marginThreshold","open","PaperProps","slots","slotProps","transformOrigin","TransitionComponent","transitionDuration","TransitionProps","disableScrollLock"],Cve=["slotProps"];function Tj(n,t){let e=0;return typeof t=="number"?e=t:t==="center"?e=n.height/2:t==="bottom"&&(e=n.height),e}function Pj(n,t){let e=0;return typeof t=="number"?e=t:t==="center"?e=n.width/2:t==="right"&&(e=n.width),e}function Aj(n){return[n.horizontal,n.vertical].map(t=>typeof t=="number"?`${t}px`:t).join(" ")}function lA(n){return typeof n=="function"?n():n}const Sve=n=>{const{classes:t}=n;return nt({root:["root"],paper:["paper"]},gve,t)},wve=be(Sfe,{name:"MuiPopover",slot:"Root",overridesResolver:(n,t)=>t.root})({}),K9=be(FN,{name:"MuiPopover",slot:"Paper",overridesResolver:(n,t)=>t.paper})({position:"absolute",overflowY:"auto",overflowX:"hidden",minWidth:16,minHeight:16,maxWidth:"calc(100% - 32px)",maxHeight:"calc(100% - 32px)",outline:0}),_ve=I.forwardRef(function(t,e){var r,i,o;const a=At({props:t,name:"MuiPopover"}),{action:s,anchorEl:l,anchorOrigin:u={vertical:"top",horizontal:"left"},anchorPosition:c,anchorReference:d="anchorEl",children:p,className:h,container:f,elevation:v=8,marginThreshold:g=16,open:y,PaperProps:m={},slots:C,slotProps:S,transformOrigin:w={vertical:"top",horizontal:"left"},TransitionComponent:_=Yfe,transitionDuration:x="auto",TransitionProps:{onEntering:b}={},disableScrollLock:O=!1}=a,T=_e(a.TransitionProps,yve),A=_e(a,mve),N=(r=S==null?void 0:S.paper)!=null?r:m,M=I.useRef(),L=nn(M,N.ref),G=k({},a,{anchorOrigin:u,anchorReference:d,elevation:v,marginThreshold:g,externalPaperSlotProps:N,transformOrigin:w,TransitionComponent:_,transitionDuration:x,TransitionProps:T}),H=Sve(G),j=I.useCallback(()=>{if(d==="anchorPosition")return c;const ve=lA(l),Ee=(ve&&ve.nodeType===1?ve:di(M.current).body).getBoundingClientRect();return{top:Ee.top+Tj(Ee,u.vertical),left:Ee.left+Pj(Ee,u.horizontal)}},[l,u.horizontal,u.vertical,c,d]),V=I.useCallback(ve=>({vertical:Tj(ve,w.vertical),horizontal:Pj(ve,w.horizontal)}),[w.horizontal,w.vertical]),W=I.useCallback(ve=>{const we={width:ve.offsetWidth,height:ve.offsetHeight},Ee=V(we);if(d==="none")return{top:null,left:null,transformOrigin:Aj(Ee)};const De=j();let $e=De.top-Ee.vertical,Ze=De.left-Ee.horizontal;const Ut=$e+we.height,Ne=Ze+we.width,tt=Wu(lA(l)),zt=tt.innerHeight-g,xt=tt.innerWidth-g;if(g!==null&&$e<g){const He=$e-g;$e-=He,Ee.vertical+=He}else if(g!==null&&Ut>zt){const He=Ut-zt;$e-=He,Ee.vertical+=He}if(g!==null&&Ze<g){const He=Ze-g;Ze-=He,Ee.horizontal+=He}else if(Ne>xt){const He=Ne-xt;Ze-=He,Ee.horizontal+=He}return{top:`${Math.round($e)}px`,left:`${Math.round(Ze)}px`,transformOrigin:Aj(Ee)}},[l,d,j,V,g]),[K,ee]=I.useState(y),Z=I.useCallback(()=>{const ve=M.current;if(!ve)return;const we=W(ve);we.top!==null&&(ve.style.top=we.top),we.left!==null&&(ve.style.left=we.left),ve.style.transformOrigin=we.transformOrigin,ee(!0)},[W]);I.useEffect(()=>(O&&window.addEventListener("scroll",Z),()=>window.removeEventListener("scroll",Z)),[l,O,Z]);const se=(ve,we)=>{b&&b(ve,we),Z()},ie=()=>{ee(!1)};I.useEffect(()=>{y&&Z()}),I.useImperativeHandle(s,()=>y?{updatePosition:()=>{Z()}}:null,[y,Z]),I.useEffect(()=>{if(!y)return;const ve=lN(()=>{Z()}),we=Wu(l);return we.addEventListener("resize",ve),()=>{ve.clear(),we.removeEventListener("resize",ve)}},[l,y,Z]);let re=x;x==="auto"&&!_.muiSupportAuto&&(re=void 0);const Y=f||(l?di(lA(l)).body:void 0),le=(i=C==null?void 0:C.root)!=null?i:wve,ye=(o=C==null?void 0:C.paper)!=null?o:K9,Q=wn({elementType:ye,externalSlotProps:k({},N,{style:K?N.style:k({},N.style,{opacity:0})}),additionalProps:{elevation:v,ref:L},ownerState:G,className:We(H.paper,N==null?void 0:N.className)}),he=wn({elementType:le,externalSlotProps:(S==null?void 0:S.root)||{},externalForwardedProps:A,additionalProps:{ref:e,slotProps:{backdrop:{invisible:!0}},container:Y,open:y},ownerState:G,className:We(H.root,h)}),{slotProps:ue}=he,J=_e(he,Cve);return B.jsx(le,k({},J,!sb(le)&&{slotProps:ue,disableScrollLock:O},{children:B.jsx(_,k({appear:!0,in:y,onEntering:se,onExited:ie,timeout:re},T,{children:B.jsx(ye,k({},Q,{children:p}))}))}))}),xve=_ve;function Eve(n){return at("MuiMenu",n)}it("MuiMenu",["root","paper","list"]);const bve=["onEntering"],Ove=["autoFocus","children","className","disableAutoFocusItem","MenuListProps","onClose","open","PaperProps","PopoverClasses","transitionDuration","TransitionProps","variant","slots","slotProps"],Rve={vertical:"top",horizontal:"right"},Tve={vertical:"top",horizontal:"left"},Pve=n=>{const{classes:t}=n;return nt({root:["root"],paper:["paper"],list:["list"]},Eve,t)},Ave=be(xve,{shouldForwardProp:n=>Gs(n)||n==="classes",name:"MuiMenu",slot:"Root",overridesResolver:(n,t)=>t.root})({}),Dve=be(K9,{name:"MuiMenu",slot:"Paper",overridesResolver:(n,t)=>t.paper})({maxHeight:"calc(100% - 96px)",WebkitOverflowScrolling:"touch"}),Mve=be(vve,{name:"MuiMenu",slot:"List",overridesResolver:(n,t)=>t.list})({outline:0}),Fve=I.forwardRef(function(t,e){var r,i;const o=At({props:t,name:"MuiMenu"}),{autoFocus:a=!0,children:s,className:l,disableAutoFocusItem:u=!1,MenuListProps:c={},onClose:d,open:p,PaperProps:h={},PopoverClasses:f,transitionDuration:v="auto",TransitionProps:{onEntering:g}={},variant:y="selectedMenu",slots:m={},slotProps:C={}}=o,S=_e(o.TransitionProps,bve),w=_e(o,Ove),_=lc(),x=_.direction==="rtl",b=k({},o,{autoFocus:a,disableAutoFocusItem:u,MenuListProps:c,onEntering:g,PaperProps:h,transitionDuration:v,TransitionProps:S,variant:y}),O=Pve(b),T=a&&!u&&p,A=I.useRef(null),N=(W,K)=>{A.current&&A.current.adjustStyleForScrollbar(W,_),g&&g(W,K)},M=W=>{W.key==="Tab"&&(W.preventDefault(),d&&d(W,"tabKeyDown"))};let L=-1;I.Children.map(s,(W,K)=>{I.isValidElement(W)&&(W.props.disabled||(y==="selectedMenu"&&W.props.selected||L===-1)&&(L=K))});const G=(r=m.paper)!=null?r:Dve,H=(i=C.paper)!=null?i:h,j=wn({elementType:m.root,externalSlotProps:C.root,ownerState:b,className:[O.root,l]}),V=wn({elementType:G,externalSlotProps:H,ownerState:b,className:O.paper});return B.jsx(Ave,k({onClose:d,anchorOrigin:{vertical:"bottom",horizontal:x?"right":"left"},transformOrigin:x?Rve:Tve,slots:{paper:G,root:m.root},slotProps:{root:j,paper:V},open:p,ref:e,transitionDuration:v,TransitionProps:k({onEntering:N},S),ownerState:b},w,{classes:f,children:B.jsx(Mve,k({onKeyDown:M,actions:A,autoFocus:a&&(L===-1||u),autoFocusItem:T,variant:y},c,{className:We(O.list,c.className),children:s}))}))}),Lve=Fve;function Ive(n){return at("MuiNativeSelect",n)}const Nve=it("MuiNativeSelect",["root","select","multiple","filled","outlined","standard","disabled","icon","iconOpen","iconFilled","iconOutlined","iconStandard","nativeInput","error"]),$N=Nve,kve=["className","disabled","error","IconComponent","inputRef","variant"],Gve=n=>{const{classes:t,variant:e,disabled:r,multiple:i,open:o,error:a}=n,s={select:["select",e,r&&"disabled",i&&"multiple",a&&"error"],icon:["icon",`icon${Be(e)}`,o&&"iconOpen",r&&"disabled"]};return nt(s,Ive,t)},Y9=({ownerState:n,theme:t})=>k({MozAppearance:"none",WebkitAppearance:"none",userSelect:"none",borderRadius:0,cursor:"pointer","&:focus":k({},t.vars?{backgroundColor:`rgba(${t.vars.palette.common.onBackgroundChannel} / 0.05)`}:{backgroundColor:t.palette.mode==="light"?"rgba(0, 0, 0, 0.05)":"rgba(255, 255, 255, 0.05)"},{borderRadius:0}),"&::-ms-expand":{display:"none"},[`&.${$N.disabled}`]:{cursor:"default"},"&[multiple]":{height:"auto"},"&:not([multiple]) option, &:not([multiple]) optgroup":{backgroundColor:(t.vars||t).palette.background.paper},"&&&":{paddingRight:24,minWidth:16}},n.variant==="filled"&&{"&&&":{paddingRight:32}},n.variant==="outlined"&&{borderRadius:(t.vars||t).shape.borderRadius,"&:focus":{borderRadius:(t.vars||t).shape.borderRadius},"&&&":{paddingRight:32}}),Vve=be("select",{name:"MuiNativeSelect",slot:"Select",shouldForwardProp:Gs,overridesResolver:(n,t)=>{const{ownerState:e}=n;return[t.select,t[e.variant],e.error&&t.error,{[`&.${$N.multiple}`]:t.multiple}]}})(Y9),X9=({ownerState:n,theme:t})=>k({position:"absolute",right:0,top:"calc(50% - .5em)",pointerEvents:"none",color:(t.vars||t).palette.action.active,[`&.${$N.disabled}`]:{color:(t.vars||t).palette.action.disabled}},n.open&&{transform:"rotate(180deg)"},n.variant==="filled"&&{right:7},n.variant==="outlined"&&{right:7}),Bve=be("svg",{name:"MuiNativeSelect",slot:"Icon",overridesResolver:(n,t)=>{const{ownerState:e}=n;return[t.icon,e.variant&&t[`icon${Be(e.variant)}`],e.open&&t.iconOpen]}})(X9),Hve=I.forwardRef(function(t,e){const{className:r,disabled:i,error:o,IconComponent:a,inputRef:s,variant:l="standard"}=t,u=_e(t,kve),c=k({},t,{disabled:i,variant:l,error:o}),d=Gve(c);return B.jsxs(I.Fragment,{children:[B.jsx(Vve,k({ownerState:c,className:We(d.select,r),disabled:i,ref:s||e},u)),t.multiple?null:B.jsx(Bve,{as:a,ownerState:c,className:d.icon})]})}),jve=Hve;var Dj;const $ve=["children","classes","className","label","notched"],Wve=be("fieldset",{shouldForwardProp:Gs})({textAlign:"left",position:"absolute",bottom:0,right:0,top:-5,left:0,margin:0,padding:"0 8px",pointerEvents:"none",borderRadius:"inherit",borderStyle:"solid",borderWidth:1,overflow:"hidden",minWidth:"0%"}),Uve=be("legend",{shouldForwardProp:Gs})(({ownerState:n,theme:t})=>k({float:"unset",width:"auto",overflow:"hidden"},!n.withLabel&&{padding:0,lineHeight:"11px",transition:t.transitions.create("width",{duration:150,easing:t.transitions.easing.easeOut})},n.withLabel&&k({display:"block",padding:0,height:11,fontSize:"0.75em",visibility:"hidden",maxWidth:.01,transition:t.transitions.create("max-width",{duration:50,easing:t.transitions.easing.easeOut}),whiteSpace:"nowrap","& > span":{paddingLeft:5,paddingRight:5,display:"inline-block",opacity:0,visibility:"visible"}},n.notched&&{maxWidth:"100%",transition:t.transitions.create("max-width",{duration:100,easing:t.transitions.easing.easeOut,delay:50})})));function zve(n){const{className:t,label:e,notched:r}=n,i=_e(n,$ve),o=e!=null&&e!=="",a=k({},n,{notched:r,withLabel:o});return B.jsx(Wve,k({"aria-hidden":!0,className:t,ownerState:a},i,{children:B.jsx(Uve,{ownerState:a,children:o?B.jsx("span",{children:e}):Dj||(Dj=B.jsx("span",{className:"notranslate",children:"​"}))})}))}const Kve=["components","fullWidth","inputComponent","label","multiline","notched","slots","type"],Yve=n=>{const{classes:t}=n,r=nt({root:["root"],notchedOutline:["notchedOutline"],input:["input"]},whe,t);return k({},t,r)},Xve=be(tT,{shouldForwardProp:n=>Gs(n)||n==="classes",name:"MuiOutlinedInput",slot:"Root",overridesResolver:JR})(({theme:n,ownerState:t})=>{const e=n.palette.mode==="light"?"rgba(0, 0, 0, 0.23)":"rgba(255, 255, 255, 0.23)";return k({position:"relative",borderRadius:(n.vars||n).shape.borderRadius,[`&:hover .${bc.notchedOutline}`]:{borderColor:(n.vars||n).palette.text.primary},"@media (hover: none)":{[`&:hover .${bc.notchedOutline}`]:{borderColor:n.vars?`rgba(${n.vars.palette.common.onBackgroundChannel} / 0.23)`:e}},[`&.${bc.focused} .${bc.notchedOutline}`]:{borderColor:(n.vars||n).palette[t.color].main,borderWidth:2},[`&.${bc.error} .${bc.notchedOutline}`]:{borderColor:(n.vars||n).palette.error.main},[`&.${bc.disabled} .${bc.notchedOutline}`]:{borderColor:(n.vars||n).palette.action.disabled}},t.startAdornment&&{paddingLeft:14},t.endAdornment&&{paddingRight:14},t.multiline&&k({padding:"16.5px 14px"},t.size==="small"&&{padding:"8.5px 14px"}))}),qve=be(zve,{name:"MuiOutlinedInput",slot:"NotchedOutline",overridesResolver:(n,t)=>t.notchedOutline})(({theme:n})=>{const t=n.palette.mode==="light"?"rgba(0, 0, 0, 0.23)":"rgba(255, 255, 255, 0.23)";return{borderColor:n.vars?`rgba(${n.vars.palette.common.onBackgroundChannel} / 0.23)`:t}}),Zve=be(rT,{name:"MuiOutlinedInput",slot:"Input",overridesResolver:eT})(({theme:n,ownerState:t})=>k({padding:"16.5px 14px"},!n.vars&&{"&:-webkit-autofill":{WebkitBoxShadow:n.palette.mode==="light"?null:"0 0 0 100px #266798 inset",WebkitTextFillColor:n.palette.mode==="light"?null:"#fff",caretColor:n.palette.mode==="light"?null:"#fff",borderRadius:"inherit"}},n.vars&&{"&:-webkit-autofill":{borderRadius:"inherit"},[n.getColorSchemeSelector("dark")]:{"&:-webkit-autofill":{WebkitBoxShadow:"0 0 0 100px #266798 inset",WebkitTextFillColor:"#fff",caretColor:"#fff"}}},t.size==="small"&&{padding:"8.5px 14px"},t.multiline&&{padding:0},t.startAdornment&&{paddingLeft:0},t.endAdornment&&{paddingRight:0})),q9=I.forwardRef(function(t,e){var r,i,o,a,s;const l=At({props:t,name:"MuiOutlinedInput"}),{components:u={},fullWidth:c=!1,inputComponent:d="input",label:p,multiline:h=!1,notched:f,slots:v={},type:g="text"}=l,y=_e(l,Kve),m=Yve(l),C=kg(),S=Ng({props:l,muiFormControl:C,states:["color","disabled","error","focused","hiddenLabel","size","required"]}),w=k({},l,{color:S.color||"primary",disabled:S.disabled,error:S.error,focused:S.focused,formControl:C,fullWidth:c,hiddenLabel:S.hiddenLabel,multiline:h,size:S.size,type:g}),_=(r=(i=v.root)!=null?i:u.Root)!=null?r:Xve,x=(o=(a=v.input)!=null?a:u.Input)!=null?o:Zve;return B.jsx(jN,k({slots:{root:_,input:x},renderSuffix:b=>B.jsx(qve,{ownerState:w,className:m.notchedOutline,label:p!=null&&p!==""&&S.required?s||(s=B.jsxs(I.Fragment,{children:[p," ","*"]})):p,notched:typeof f<"u"?f:!!(b.startAdornment||b.filled||b.focused)}),fullWidth:c,inputComponent:d,multiline:h,ref:e,type:g},y,{classes:k({},m,{notchedOutline:null})}))});q9.muiName="Input";const Z9=q9;function Qve(n){return at("MuiSelect",n)}const xy=it("MuiSelect",["root","select","multiple","filled","outlined","standard","disabled","focused","icon","iconOpen","iconFilled","iconOutlined","iconStandard","nativeInput","error"]);var Mj;const Jve=["aria-describedby","aria-label","autoFocus","autoWidth","children","className","defaultOpen","defaultValue","disabled","displayEmpty","error","IconComponent","inputRef","labelId","MenuProps","multiple","name","onBlur","onChange","onClose","onFocus","onOpen","open","readOnly","renderValue","SelectDisplayProps","tabIndex","type","value","variant"],ege=be("div",{name:"MuiSelect",slot:"Select",overridesResolver:(n,t)=>{const{ownerState:e}=n;return[{[`&.${xy.select}`]:t.select},{[`&.${xy.select}`]:t[e.variant]},{[`&.${xy.error}`]:t.error},{[`&.${xy.multiple}`]:t.multiple}]}})(Y9,{[`&.${xy.select}`]:{height:"auto",minHeight:"1.4375em",textOverflow:"ellipsis",whiteSpace:"nowrap",overflow:"hidden"}}),tge=be("svg",{name:"MuiSelect",slot:"Icon",overridesResolver:(n,t)=>{const{ownerState:e}=n;return[t.icon,e.variant&&t[`icon${Be(e.variant)}`],e.open&&t.iconOpen]}})(X9),rge=be("input",{shouldForwardProp:n=>Mue(n)&&n!=="classes",name:"MuiSelect",slot:"NativeInput",overridesResolver:(n,t)=>t.nativeInput})({bottom:0,left:0,position:"absolute",opacity:0,pointerEvents:"none",width:"100%",boxSizing:"border-box"});function Fj(n,t){return typeof t=="object"&&t!==null?n===t:String(n)===String(t)}function nge(n){return n==null||typeof n=="string"&&!n.trim()}const ige=n=>{const{classes:t,variant:e,disabled:r,multiple:i,open:o,error:a}=n,s={select:["select",e,r&&"disabled",i&&"multiple",a&&"error"],icon:["icon",`icon${Be(e)}`,o&&"iconOpen",r&&"disabled"],nativeInput:["nativeInput"]};return nt(s,Qve,t)},oge=I.forwardRef(function(t,e){var r;const{"aria-describedby":i,"aria-label":o,autoFocus:a,autoWidth:s,children:l,className:u,defaultOpen:c,defaultValue:d,disabled:p,displayEmpty:h,error:f=!1,IconComponent:v,inputRef:g,labelId:y,MenuProps:m={},multiple:C,name:S,onBlur:w,onChange:_,onClose:x,onFocus:b,onOpen:O,open:T,readOnly:A,renderValue:N,SelectDisplayProps:M={},tabIndex:L,value:G,variant:H="standard"}=t,j=_e(t,Jve),[V,W]=rb({controlled:G,default:d,name:"Select"}),[K,ee]=rb({controlled:T,default:c,name:"Select"}),Z=I.useRef(null),se=I.useRef(null),[ie,re]=I.useState(null),{current:Y}=I.useRef(T!=null),[le,ye]=I.useState(),Q=nn(e,g),he=I.useCallback(Ve=>{se.current=Ve,Ve&&re(Ve)},[]),ue=ie==null?void 0:ie.parentNode;I.useImperativeHandle(Q,()=>({focus:()=>{se.current.focus()},node:Z.current,value:V}),[V]),I.useEffect(()=>{c&&K&&ie&&!Y&&(ye(s?null:ue.clientWidth),se.current.focus())},[ie,s]),I.useEffect(()=>{a&&se.current.focus()},[a]),I.useEffect(()=>{if(!y)return;const Ve=di(se.current).getElementById(y);if(Ve){const ir=()=>{getSelection().isCollapsed&&se.current.focus()};return Ve.addEventListener("click",ir),()=>{Ve.removeEventListener("click",ir)}}},[y]);const J=(Ve,ir)=>{Ve?O&&O(ir):x&&x(ir),Y||(ye(s?null:ue.clientWidth),ee(Ve))},ve=Ve=>{Ve.button===0&&(Ve.preventDefault(),se.current.focus(),J(!0,Ve))},we=Ve=>{J(!1,Ve)},Ee=I.Children.toArray(l),De=Ve=>{const ir=Ee.find(cn=>cn.props.value===Ve.target.value);ir!==void 0&&(W(ir.props.value),_&&_(Ve,ir))},$e=Ve=>ir=>{let cn;if(ir.currentTarget.hasAttribute("tabindex")){if(C){cn=Array.isArray(V)?V.slice():[];const ki=V.indexOf(Ve.props.value);ki===-1?cn.push(Ve.props.value):cn.splice(ki,1)}else cn=Ve.props.value;if(Ve.props.onClick&&Ve.props.onClick(ir),V!==cn&&(W(cn),_)){const ki=ir.nativeEvent||ir,ly=new ki.constructor(ki.type,ki);Object.defineProperty(ly,"target",{writable:!0,value:{value:cn,name:S}}),_(ly,Ve)}C||J(!1,ir)}},Ze=Ve=>{A||[" ","ArrowUp","ArrowDown","Enter"].indexOf(Ve.key)!==-1&&(Ve.preventDefault(),J(!0,Ve))},Ut=ie!==null&&K,Ne=Ve=>{!Ut&&w&&(Object.defineProperty(Ve,"target",{writable:!0,value:{value:V,name:S}}),w(Ve))};delete j["aria-invalid"];let tt,zt;const xt=[];let He=!1;(ub({value:V})||h)&&(N?tt=N(V):He=!0);const St=Ee.map(Ve=>{if(!I.isValidElement(Ve))return null;let ir;if(C){if(!Array.isArray(V))throw new Error(Gh(2));ir=V.some(cn=>Fj(cn,Ve.props.value)),ir&&He&&xt.push(Ve.props.children)}else ir=Fj(V,Ve.props.value),ir&&He&&(zt=Ve.props.children);return I.cloneElement(Ve,{"aria-selected":ir?"true":"false",onClick:$e(Ve),onKeyUp:cn=>{cn.key===" "&&cn.preventDefault(),Ve.props.onKeyUp&&Ve.props.onKeyUp(cn)},role:"option",selected:ir,value:void 0,"data-value":Ve.props.value})});He&&(C?xt.length===0?tt=null:tt=xt.reduce((Ve,ir,cn)=>(Ve.push(ir),cn<xt.length-1&&Ve.push(", "),Ve),[]):tt=zt);let wt=le;!s&&Y&&ie&&(wt=ue.clientWidth);let Mt;typeof L<"u"?Mt=L:Mt=p?null:0;const st=M.id||(S?`mui-component-select-${S}`:void 0),Fe=k({},t,{variant:H,value:V,open:Ut,error:f}),Ft=ige(Fe),Nr=k({},m.PaperProps,(r=m.slotProps)==null?void 0:r.paper),_o=yw();return B.jsxs(I.Fragment,{children:[B.jsx(ege,k({ref:he,tabIndex:Mt,role:"combobox","aria-controls":_o,"aria-disabled":p?"true":void 0,"aria-expanded":Ut?"true":"false","aria-haspopup":"listbox","aria-label":o,"aria-labelledby":[y,st].filter(Boolean).join(" ")||void 0,"aria-describedby":i,onKeyDown:Ze,onMouseDown:p||A?null:ve,onBlur:Ne,onFocus:b},M,{ownerState:Fe,className:We(M.className,Ft.select,u),id:st,children:nge(tt)?Mj||(Mj=B.jsx("span",{className:"notranslate",children:"​"})):tt})),B.jsx(rge,k({"aria-invalid":f,value:Array.isArray(V)?V.join(","):V,name:S,ref:Z,"aria-hidden":!0,onChange:De,tabIndex:-1,disabled:p,className:Ft.nativeInput,autoFocus:a,ownerState:Fe},j)),B.jsx(tge,{as:v,className:Ft.icon,ownerState:Fe}),B.jsx(Lve,k({id:`menu-${S||""}`,anchorEl:ue,open:Ut,onClose:we,anchorOrigin:{vertical:"bottom",horizontal:"center"},transformOrigin:{vertical:"top",horizontal:"center"}},m,{MenuListProps:k({"aria-labelledby":y,role:"listbox","aria-multiselectable":C?"true":void 0,disableListWrap:!0,id:_o},m.MenuListProps),slotProps:k({},m.slotProps,{paper:k({},Nr,{style:k({minWidth:wt},Nr!=null?Nr.style:null)})}),children:St}))]})}),age=oge,sge=["autoWidth","children","classes","className","defaultOpen","displayEmpty","IconComponent","id","input","inputProps","label","labelId","MenuProps","multiple","native","onClose","onOpen","open","renderValue","SelectDisplayProps","variant"],lge=["root"],uge=n=>{const{classes:t}=n;return t},WN={name:"MuiSelect",overridesResolver:(n,t)=>t.root,shouldForwardProp:n=>Gs(n)&&n!=="variant",slot:"Root"},cge=be(U9,WN)(""),dge=be(Z9,WN)(""),pge=be(j9,WN)(""),Q9=I.forwardRef(function(t,e){const r=At({name:"MuiSelect",props:t}),{autoWidth:i=!1,children:o,classes:a={},className:s,defaultOpen:l=!1,displayEmpty:u=!1,IconComponent:c=bhe,id:d,input:p,inputProps:h,label:f,labelId:v,MenuProps:g,multiple:y=!1,native:m=!1,onClose:C,onOpen:S,open:w,renderValue:_,SelectDisplayProps:x,variant:b="outlined"}=r,O=_e(r,sge),T=m?jve:age,A=kg(),N=Ng({props:r,muiFormControl:A,states:["variant","error"]}),M=N.variant||b,L=k({},r,{variant:M,classes:a}),G=uge(L),H=_e(G,lge),j=p||{standard:B.jsx(cge,{ownerState:L}),outlined:B.jsx(dge,{label:f,ownerState:L}),filled:B.jsx(pge,{ownerState:L})}[M],V=nn(e,j.ref);return B.jsx(I.Fragment,{children:I.cloneElement(j,k({inputComponent:T,inputProps:k({children:o,error:N.error,IconComponent:c,variant:M,type:void 0,multiple:y},m?{id:d}:{autoWidth:i,defaultOpen:l,displayEmpty:u,labelId:v,MenuProps:g,onClose:C,onOpen:S,open:w,renderValue:_,SelectDisplayProps:k({id:d},x)},h,{classes:h?ta(H,h.classes):H},p?p.props.inputProps:{})},(y&&m||u)&&M==="outlined"?{notched:!0}:{},{ref:V,className:We(j.props.className,s,G.root)},!p&&{variant:M},O))})});Q9.muiName="Select";const hge=Q9;function fge(n){return at("MuiToolbar",n)}it("MuiToolbar",["root","gutters","regular","dense"]);const vge=["className","component","disableGutters","variant"],gge=n=>{const{classes:t,disableGutters:e,variant:r}=n;return nt({root:["root",!e&&"gutters",r]},fge,t)},yge=be("div",{name:"MuiToolbar",slot:"Root",overridesResolver:(n,t)=>{const{ownerState:e}=n;return[t.root,!e.disableGutters&&t.gutters,t[e.variant]]}})(({theme:n,ownerState:t})=>k({position:"relative",display:"flex",alignItems:"center"},!t.disableGutters&&{paddingLeft:n.spacing(2),paddingRight:n.spacing(2),[n.breakpoints.up("sm")]:{paddingLeft:n.spacing(3),paddingRight:n.spacing(3)}},t.variant==="dense"&&{minHeight:48}),({theme:n,ownerState:t})=>t.variant==="regular"&&n.mixins.toolbar),mge=I.forwardRef(function(t,e){const r=At({props:t,name:"MuiToolbar"}),{className:i,component:o="div",disableGutters:a=!1,variant:s="regular"}=r,l=_e(r,vge),u=k({},r,{component:o,disableGutters:a,variant:s}),c=gge(u);return B.jsx(yge,k({as:o,className:We(c.root,i),ref:e,ownerState:u},l))}),Cge=mge;function Sge(n){return at("MuiTextField",n)}it("MuiTextField",["root"]);const wge=["autoComplete","autoFocus","children","className","color","defaultValue","disabled","error","FormHelperTextProps","fullWidth","helperText","id","InputLabelProps","inputProps","InputProps","inputRef","label","maxRows","minRows","multiline","name","onBlur","onChange","onFocus","placeholder","required","rows","select","SelectProps","type","value","variant"],_ge={standard:U9,filled:j9,outlined:Z9},xge=n=>{const{classes:t}=n;return nt({root:["root"]},Sge,t)},Ege=be(Afe,{name:"MuiTextField",slot:"Root",overridesResolver:(n,t)=>t.root})({}),bge=I.forwardRef(function(t,e){const r=At({props:t,name:"MuiTextField"}),{autoComplete:i,autoFocus:o=!1,children:a,className:s,color:l="primary",defaultValue:u,disabled:c=!1,error:d=!1,FormHelperTextProps:p,fullWidth:h=!1,helperText:f,id:v,InputLabelProps:g,inputProps:y,InputProps:m,inputRef:C,label:S,maxRows:w,minRows:_,multiline:x=!1,name:b,onBlur:O,onChange:T,onFocus:A,placeholder:N,required:M=!1,rows:L,select:G=!1,SelectProps:H,type:j,value:V,variant:W="outlined"}=r,K=_e(r,wge),ee=k({},r,{autoFocus:o,color:l,disabled:c,error:d,fullWidth:h,multiline:x,required:M,select:G,variant:W}),Z=xge(ee),se={};W==="outlined"&&(g&&typeof g.shrink<"u"&&(se.notched=g.shrink),se.label=S),G&&((!H||!H.native)&&(se.id=void 0),se["aria-describedby"]=void 0);const ie=yw(v),re=f&&ie?`${ie}-helper-text`:void 0,Y=S&&ie?`${ie}-label`:void 0,le=_ge[W],ye=B.jsx(le,k({"aria-describedby":re,autoComplete:i,autoFocus:o,defaultValue:u,fullWidth:h,multiline:x,name:b,rows:L,maxRows:w,minRows:_,type:j,value:V,id:ie,inputRef:C,onBlur:O,onChange:T,onFocus:A,placeholder:N,inputProps:y},se,m));return B.jsxs(Ege,k({className:We(Z.root,s),disabled:c,error:d,fullWidth:h,ref:e,required:M,color:l,variant:W,ownerState:ee},K,{children:[S!=null&&S!==""&&B.jsx(ive,k({htmlFor:ie,id:Y},g,{children:S})),G?B.jsx(hge,k({"aria-describedby":re,id:ie,labelId:Y,value:V,input:ye},H,{children:a})):ye,f&&B.jsx(kfe,k({id:re},p,{children:f}))]}))}),U0=bge;var UN={},Oge=gw;Object.defineProperty(UN,"__esModule",{value:!0});var J9=UN.default=void 0,Rge=Oge(PN()),Tge=B;J9=UN.default=(0,Rge.default)((0,Tge.jsx)("path",{d:"M10 6 8.59 7.41 13.17 12l-4.58 4.59L10 18l6-6z"}),"NavigateNext");const Gg=[{id:1,params:{title:"Основная информация",value:[{title:"ФИО",value:"Сидорова Анна Петровна"},{title:"Дата рождения",value:"1988-03-09"},{title:"Номер телефона",value:"+7 (945) 873-69-19"},{title:"Адрес",value:"г. Москва, ул. Комсомольская, д. 71, кв. 107"},{title:"Пол",value:"Женский"}]},modules:{education:{title:"Образование",value:[{title:"Среднее",value:"Колледж"},{title:"Бакалавриат",value:"Национальный исследовательский университет «Высшая школа экономики» (НИУ ВШЭ)"},{title:"Магистратура",value:"Первый Московский государственный медицинский университет имени И. М. Сеченова (Сеченовский Университет)"}]},career:{title:"Карьера",value:[{title:"Стаж",value:"5 (в годах)"},{title:"Зарплата",value:"285262 руб."},{title:"Должность",value:"Аналитик"},{title:"Отдел",value:"Продажи"}]},family:{title:"Семья",value:[{title:"Отец",value:"Петров Петр Сергеевич"},{title:"Мать",value:"Сидорова Анна Сергеевна"},{title:"Семейное положение",value:"разведена"}]}}},{id:2,params:{title:"Основная информация",value:[{title:"ФИО",value:"Сидоров Александр Александрович"},{title:"Дата рождения",value:"1979-10-01"},{title:"Номер телефона",value:"+7 (963) 982-62-62"},{title:"Адрес",value:"г. Санкт-Петербург, ул. Пушкина, д. 96, кв. 1"},{title:"Пол",value:"Мужской"}]},modules:{education:{title:"Образование",value:[{title:"Среднее",value:"Колледж"},{title:"Бакалавриат",value:"Первый Московский государственный медицинский университет имени И. М. Сеченова (Сеченовский Университет)"}]},career:{title:"Карьера",value:[{title:"Стаж",value:"7 (в годах)"},{title:"Зарплата",value:"291432 руб."},{title:"Должность",value:"Администратор"},{title:"Отдел",value:"Продажи"}]},family:{title:"Семья",value:[{title:"Отец",value:"Кузнецов Сергей Александрович"},{title:"Мать",value:"Иванова Мария Петровна"},{title:"Семейное положение",value:"женат"}]}}},{id:3,params:{title:"Основная информация",value:[{title:"ФИО",value:"Смирнов Петр Александрович"},{title:"Дата рождения",value:"2000-06-13"},{title:"Номер телефона",value:"+7 (981) 635-94-38"},{title:"Адрес",value:"г. Москва, ул. Мира, д. 16, кв. 124"},{title:"Пол",value:"Мужской"}]},modules:{education:{title:"Образование",value:[{title:"Среднее",value:"Колледж"}]},career:{title:"Карьера",value:[{title:"Стаж",value:"15 (в годах)"},{title:"Зарплата",value:"258310 руб."},{title:"Должность",value:"Специалист"},{title:"Отдел",value:"Юридический"}]},family:{title:"Семья",value:[{title:"Отец",value:"Кузнецов Михаил Александрович"},{title:"Мать",value:"Кузнецова Ольга Михайловна"},{title:"Семейное положение",value:"разведен"}]}}},{id:4,params:{title:"Основная информация",value:[{title:"ФИО",value:"Петрова Мария Ивановна"},{title:"Дата рождения",value:"1973-03-05"},{title:"Номер телефона",value:"+7 (936) 991-45-61"},{title:"Адрес",value:"г. Москва, ул. Пушкина, д. 99, кв. 137"},{title:"Пол",value:"Женский"}]},modules:{education:{title:"Образование",value:[{title:"Среднее",value:"Колледж"}]},career:{title:"Карьера",value:[{title:"Стаж",value:"14 (в годах)"},{title:"Зарплата",value:"163461 руб."},{title:"Должность",value:"Программист"},{title:"Отдел",value:"IT"}]},family:{title:"Семья",value:[{title:"Отец",value:"Петров Иван Сергеевич"},{title:"Мать",value:"Смирнова Мария Ивановна"},{title:"Семейное положение",value:"замужем"}]}}},{id:5,params:{title:"Основная информация",value:[{title:"ФИО",value:"Смирнова Анна Ивановна"},{title:"Дата рождения",value:"1976-08-21"},{title:"Номер телефона",value:"+7 (914) 206-17-76"},{title:"Адрес",value:"г. Санкт-Петербург, ул. Пушкина, д. 59, кв. 30"},{title:"Пол",value:"Женский"}]},modules:{education:{title:"Образование",value:[{title:"Среднее",value:"Колледж"},{title:"Бакалавриат",value:"Национальный исследовательский университет «Высшая школа экономики» (НИУ ВШЭ)"},{title:"Магистратура",value:"Национальный исследовательский технологический университет «МИСИС»"}]},career:{title:"Карьера",value:[]},family:{title:"Семья",value:[{title:"Отец",value:"Смирнов Иван Сергеевич"},{title:"Мать",value:"Иванова Мария Петровна"},{title:"Семейное положение",value:"замужем"}]}}},{id:6,params:{title:"Основная информация",value:[{title:"ФИО",value:"Иванова Анна Александровна"},{title:"Дата рождения",value:"1985-03-14"},{title:"Номер телефона",value:"+7 (923) 253-42-87"},{title:"Адрес",value:"г. Екатеринбург, ул. Пушкина, д. 62, кв. 190"},{title:"Пол",value:"Женский"}]},modules:{education:{title:"Образование",value:[{title:"Среднее",value:"Колледж"}]},career:{title:"Карьера",value:[{title:"Стаж",value:"7 (в годах)"},{title:"Зарплата",value:"189341 руб."},{title:"Должность",value:"Менеджер"},{title:"Отдел",value:"Кадры"}]},family:{title:"Семья",value:[{title:"Отец",value:"Кузнецов Михаил Сергеевич"},{title:"Мать",value:"Смирнова Анна Михайловна"},{title:"Семейное положение",value:"замужем"}]}}},{id:7,params:{title:"Основная информация",value:[{title:"ФИО",value:"Петрова Мария Александровна"},{title:"Дата рождения",value:"1991-03-16"},{title:"Номер телефона",value:"+7 (958) 156-22-36"},{title:"Адрес",value:"г. Красноярск, ул. Ленина, д. 88, кв. 55"},{title:"Пол",value:"Женский"}]},modules:{education:{title:"Образование",value:[{title:"Среднее",value:"Колледж"}]},career:{title:"Карьера",value:[{title:"Стаж",value:"15 (в годах)"},{title:"Зарплата",value:"92009 руб."},{title:"Должность",value:"Разработчик"},{title:"Отдел",value:"HR"}]},family:{title:"Семья",value:[{title:"Отец",value:"Кузнецов Михаил Иванович"},{title:"Мать",value:"Кузнецова Мария Михайловна"},{title:"Семейное положение",value:"разведена"}]}}},{id:8,params:{title:"Основная информация",value:[{title:"ФИО",value:"Смирнова Мария Александровна"},{title:"Дата рождения",value:"2004-11-14"},{title:"Номер телефона",value:"+7 (947) 671-87-76"},{title:"Адрес",value:"г. Красноярск, ул. Мира, д. 90, кв. 150"},{title:"Пол",value:"Женский"}]},modules:{education:{title:"Образование",value:[{title:"Среднее",value:"Колледж"},{title:"Бакалавриат",value:"Российский университет дружбы народов (РУДН)"},{title:"Магистратура",value:"Московский государственный университет имени М. В. Ломоносова (МГУ)"}]},career:{title:"Карьера",value:[{title:"Стаж",value:"8 (в годах)"},{title:"Зарплата",value:"269984 руб."},{title:"Должность",value:"Разработчик"},{title:"Отдел",value:"Производство"}]},family:{title:"Семья",value:[{title:"Отец",value:"Петров Александр Иванович"},{title:"Мать",value:"Смирнова Анна Сергеевна"},{title:"Семейное положение",value:"разведена"}]}}},{id:9,params:{title:"Основная информация",value:[{title:"ФИО",value:"Петрова Елена Сергеевна"},{title:"Дата рождения",value:"1991-05-11"},{title:"Номер телефона",value:"+7 (962) 827-70-80"},{title:"Адрес",value:"г. Красноярск, ул. Пушкина, д. 87, кв. 64"},{title:"Пол",value:"Женский"}]},modules:{education:{title:"Образование",value:[{title:"Среднее",value:"Колледж"}]},career:{title:"Карьера",value:[{title:"Стаж",value:"7 (в годах)"},{title:"Зарплата",value:"193375 руб."},{title:"Должность",value:"Инженер"},{title:"Отдел",value:"HR"}]},family:{title:"Семья",value:[{title:"Отец",value:"Петров Михаил Михайлович"},{title:"Мать",value:"Иванова Елена Александровна"},{title:"Семейное положение",value:"разведена"}]}}},{id:10,params:{title:"Основная информация",value:[{title:"ФИО",value:"Кузнецов Александр Сергеевич"},{title:"Дата рождения",value:"1984-04-19"},{title:"Номер телефона",value:"+7 (929) 979-33-78"},{title:"Адрес",value:"г. Екатеринбург, ул. Комсомольская, д. 90, кв. 96"},{title:"Пол",value:"Мужской"}]},modules:{education:{title:"Образование",value:[{title:"Среднее",value:"Колледж"},{title:"Бакалавриат",value:"Университет ИТМО"}]},career:{title:"Карьера",value:[{title:"Стаж",value:"7 (в годах)"},{title:"Зарплата",value:"276237 руб."},{title:"Должность",value:"Бухгалтер"},{title:"Отдел",value:"Маркетинг"}]},family:{title:"Семья",value:[{title:"Отец",value:"Сидоров Александр Александрович"},{title:"Мать",value:"Иванова Ольга Михайловна"},{title:"Семейное положение",value:"женат"}]}}},{id:11,params:{title:"Основная информация",value:[{title:"ФИО",value:"Иванов Александр Петрович"},{title:"Дата рождения",value:"1970-12-13"},{title:"Номер телефона",value:"+7 (956) 382-46-30"},{title:"Адрес",value:"г. Красноярск, ул. Ленина, д. 29, кв. 128"},{title:"Пол",value:"Мужской"}]},modules:{education:{title:"Образование",value:[{title:"Среднее",value:"Колледж"}]},career:{title:"Карьера",value:[]},family:{title:"Семья",value:[{title:"Отец",value:"Петров Сергей Петрович"},{title:"Мать",value:"Иванова Светлана Петровна"},{title:"Семейное положение",value:"женат"}]}}},{id:12,params:{title:"Основная информация",value:[{title:"ФИО",value:"Иванова Елена Александровна"},{title:"Дата рождения",value:"1998-04-29"},{title:"Номер телефона",value:"+7 (997) 381-31-65"},{title:"Адрес",value:"г. Санкт-Петербург, ул. Ленина, д. 87, кв. 37"},{title:"Пол",value:"Женский"}]},modules:{education:{title:"Образование",value:[{title:"Среднее",value:"Колледж"},{title:"Бакалавриат",value:"Санкт-Петербургский государственный университет (СПбГУ)"},{title:"Магистратура",value:"Национальный исследовательский технологический университет «МИСИС»"}]},career:{title:"Карьера",value:[{title:"Стаж",value:"1 (в годах)"},{title:"Зарплата",value:"80032 руб."},{title:"Должность",value:"Аналитик"},{title:"Отдел",value:"Продажи"}]},family:{title:"Семья",value:[{title:"Отец",value:"Смирнов Иван Михайлович"},{title:"Мать",value:"Петрова Светлана Александровна"},{title:"Семейное положение",value:"холоста"}]}}},{id:13,params:{title:"Основная информация",value:[{title:"ФИО",value:"Петрова Светлана Александровна"},{title:"Дата рождения",value:"1972-11-23"},{title:"Номер телефона",value:"+7 (973) 346-74-89"},{title:"Адрес",value:"г. Москва, ул. Мира, д. 70, кв. 73"},{title:"Пол",value:"Женский"}]},modules:{education:{title:"Образование",value:[{title:"Среднее",value:"Колледж"}]},career:{title:"Карьера",value:[{title:"Стаж",value:"8 (в годах)"},{title:"Зарплата",value:"285486 руб."},{title:"Должность",value:"Менеджер"},{title:"Отдел",value:"Маркетинг"}]},family:{title:"Семья",value:[{title:"Отец",value:"Петров Иван Петрович"},{title:"Мать",value:"Кузнецова Мария Александровна"},{title:"Семейное положение",value:"холоста"}]}}},{id:14,params:{title:"Основная информация",value:[{title:"ФИО",value:"Петрова Елена Ивановна"},{title:"Дата рождения",value:"1997-08-12"},{title:"Номер телефона",value:"+7 (957) 577-14-43"},{title:"Адрес",value:"г. Москва, ул. Комсомольская, д. 57, кв. 160"},{title:"Пол",value:"Женский"}]},modules:{education:{title:"Образование",value:[{title:"Среднее",value:"Колледж"},{title:"Бакалавриат",value:"Российская академия народного хозяйства и государственной службы (РАНХиГС)"}]},career:{title:"Карьера",value:[{title:"Стаж",value:"15 (в годах)"},{title:"Зарплата",value:"67546 руб."},{title:"Должность",value:"Консультант"},{title:"Отдел",value:"Кадры"}]},family:{title:"Семья",value:[{title:"Отец",value:"Смирнов Александр Сергеевич"},{title:"Мать",value:"Иванова Мария Ивановна"},{title:"Семейное положение",value:"разведена"}]}}},{id:15,params:{title:"Основная информация",value:[{title:"ФИО",value:"Петров Иван Сергеевич"},{title:"Дата рождения",value:"1987-02-03"},{title:"Номер телефона",value:"+7 (981) 817-70-73"},{title:"Адрес",value:"г. Красноярск, ул. Комсомольская, д. 57, кв. 162"},{title:"Пол",value:"Мужской"}]},modules:{education:{title:"Образование",value:[{title:"Среднее",value:"Колледж"},{title:"Бакалавриат",value:"Российский университет дружбы народов (РУДН)"},{title:"Магистратура",value:"Национальный исследовательский ядерный университет «МИФИ»"}]},career:{title:"Карьера",value:[{title:"Стаж",value:"12 (в годах)"},{title:"Зарплата",value:"216062 руб."},{title:"Должность",value:"Консультант"},{title:"Отдел",value:"Производство"}]},family:{title:"Семья",value:[{title:"Отец",value:"Иванов Петр Александрович"},{title:"Мать",value:"Смирнова Елена Александровна"},{title:"Семейное положение",value:"женат"}]}}},{id:16,params:{title:"Основная информация",value:[{title:"ФИО",value:"Иванова Светлана Сергеевна"},{title:"Дата рождения",value:"1996-12-07"},{title:"Номер телефона",value:"+7 (987) 771-47-49"},{title:"Адрес",value:"г. Красноярск, ул. Мира, д. 57, кв. 82"},{title:"Пол",value:"Женский"}]},modules:{education:{title:"Образование",value:[{title:"Среднее",value:"Колледж"},{title:"Бакалавриат",value:"Московский государственный технический университет имени Н. Э. Баумана (МГТУ)"}]},career:{title:"Карьера",value:[{title:"Стаж",value:"4 (в годах)"},{title:"Зарплата",value:"290087 руб."},{title:"Должность",value:"Специалист"},{title:"Отдел",value:"Финансы"}]},family:{title:"Семья",value:[{title:"Отец",value:"Смирнов Сергей Михайлович"},{title:"Мать",value:"Сидорова Мария Ивановна"},{title:"Семейное положение",value:"холоста"}]}}},{id:17,params:{title:"Основная информация",value:[{title:"ФИО",value:"Петров Михаил Михайлович"},{title:"Дата рождения",value:"1998-05-18"},{title:"Номер телефона",value:"+7 (999) 431-72-65"},{title:"Адрес",value:"г. Санкт-Петербург, ул. Мира, д. 52, кв. 113"},{title:"Пол",value:"Мужской"}]},modules:{education:{title:"Образование",value:[{title:"Среднее",value:"Колледж"},{title:"Бакалавриат",value:"Санкт-Петербургский государственный университет (СПбГУ)"}]},career:{title:"Карьера",value:[{title:"Стаж",value:"2 (в годах)"},{title:"Зарплата",value:"287149 руб."},{title:"Должность",value:"Специалист"},{title:"Отдел",value:"Маркетинг"}]},family:{title:"Семья",value:[{title:"Отец",value:"Петров Сергей Михайлович"},{title:"Мать",value:"Сидорова Светлана Александровна"},{title:"Семейное положение",value:"разведен"}]}}},{id:18,params:{title:"Основная информация",value:[{title:"ФИО",value:"Петрова Анна Александровна"},{title:"Дата рождения",value:"1980-05-18"},{title:"Номер телефона",value:"+7 (934) 729-55-56"},{title:"Адрес",value:"г. Екатеринбург, ул. Комсомольская, д. 46, кв. 146"},{title:"Пол",value:"Женский"}]},modules:{education:{title:"Образование",value:[{title:"Среднее",value:"Колледж"},{title:"Бакалавриат",value:"Университет ИТМО"},{title:"Магистратура",value:"Российская академия народного хозяйства и государственной службы (РАНХиГС)"}]},career:{title:"Карьера",value:[{title:"Стаж",value:"9 (в годах)"},{title:"Зарплата",value:"202262 руб."},{title:"Должность",value:"Инженер"},{title:"Отдел",value:"Производство"}]},family:{title:"Семья",value:[{title:"Отец",value:"Смирнов Иван Иванович"},{title:"Мать",value:"Кузнецова Ольга Александровна"},{title:"Семейное положение",value:"холоста"}]}}},{id:19,params:{title:"Основная информация",value:[{title:"ФИО",value:"Петров Петр Иванович"},{title:"Дата рождения",value:"1980-06-26"},{title:"Номер телефона",value:"+7 (919) 483-94-85"},{title:"Адрес",value:"г. Санкт-Петербург, ул. Мира, д. 81, кв. 10"},{title:"Пол",value:"Мужской"}]},modules:{education:{title:"Образование",value:[{title:"Среднее",value:"Колледж"}]},career:{title:"Карьера",value:[{title:"Стаж",value:"10 (в годах)"},{title:"Зарплата",value:"103923 руб."},{title:"Должность",value:"Специалист"},{title:"Отдел",value:"Бухгалтерия"}]},family:{title:"Семья",value:[{title:"Отец",value:"Сидоров Иван Михайлович"},{title:"Мать",value:"Петрова Елена Михайловна"},{title:"Семейное положение",value:"разведен"}]}}},{id:20,params:{title:"Основная информация",value:[{title:"ФИО",value:"Петров Иван Михайлович"},{title:"Дата рождения",value:"2001-12-09"},{title:"Номер телефона",value:"+7 (978) 806-22-65"},{title:"Адрес",value:"г. Красноярск, ул. Ленина, д. 2, кв. 9"},{title:"Пол",value:"Мужской"}]},modules:{education:{title:"Образование",value:[{title:"Среднее",value:"Колледж"},{title:"Бакалавриат",value:"Первый Московский государственный медицинский университет имени И. М. Сеченова (Сеченовский Университет)"}]},career:{title:"Карьера",value:[{title:"Стаж",value:"13 (в годах)"},{title:"Зарплата",value:"136909 руб."},{title:"Должность",value:"Администратор"},{title:"Отдел",value:"Производство"}]},family:{title:"Семья",value:[{title:"Отец",value:"Сидоров Петр Михайлович"},{title:"Мать",value:"Кузнецова Мария Ивановна"},{title:"Семейное положение",value:"холост"}]}}},{id:21,params:{title:"Основная информация",value:[{title:"ФИО",value:"Сидорова Анна Михайловна"},{title:"Дата рождения",value:"1987-08-13"},{title:"Номер телефона",value:"+7 (959) 783-25-32"},{title:"Адрес",value:"г. Екатеринбург, ул. Гагарина, д. 74, кв. 14"},{title:"Пол",value:"Женский"}]},modules:{education:{title:"Образование",value:[{title:"Среднее",value:"Колледж"}]},career:{title:"Карьера",value:[]},family:{title:"Семья",value:[{title:"Отец",value:"Иванов Сергей Михайлович"},{title:"Мать",value:"Сидорова Ольга Петровна"},{title:"Семейное положение",value:"холоста"}]}}},{id:22,params:{title:"Основная информация",value:[{title:"ФИО",value:"Кузнецова Елена Михайловна"},{title:"Дата рождения",value:"2000-10-04"},{title:"Номер телефона",value:"+7 (954) 953-32-59"},{title:"Адрес",value:"г. Красноярск, ул. Гагарина, д. 88, кв. 11"},{title:"Пол",value:"Женский"}]},modules:{education:{title:"Образование",value:[{title:"Среднее",value:"Колледж"}]},career:{title:"Карьера",value:[{title:"Стаж",value:"8 (в годах)"},{title:"Зарплата",value:"200839 руб."},{title:"Должность",value:"Администратор"},{title:"Отдел",value:"Производство"}]},family:{title:"Семья",value:[{title:"Отец",value:"Петров Михаил Александрович"},{title:"Мать",value:"Петрова Ольга Ивановна"},{title:"Семейное положение",value:"холоста"}]}}},{id:23,params:{title:"Основная информация",value:[{title:"ФИО",value:"Смирнова Елена Михайловна"},{title:"Дата рождения",value:"1983-09-08"},{title:"Номер телефона",value:"+7 (972) 711-76-64"},{title:"Адрес",value:"г. Москва, ул. Ленина, д. 73, кв. 196"},{title:"Пол",value:"Женский"}]},modules:{education:{title:"Образование",value:[{title:"Среднее",value:"Колледж"},{title:"Бакалавриат",value:"Московский физико-технический институт (МФТИ)"},{title:"Магистратура",value:"Московский государственный технический университет имени Н. Э. Баумана (МГТУ)"}]},career:{title:"Карьера",value:[{title:"Стаж",value:"8 (в годах)"},{title:"Зарплата",value:"294467 руб."},{title:"Должность",value:"Аналитик"},{title:"Отдел",value:"Финансы"}]},family:{title:"Семья",value:[{title:"Отец",value:"Сидоров Петр Иванович"},{title:"Мать",value:"Иванова Елена Петровна"},{title:"Семейное положение",value:"разведена"}]}}},{id:24,params:{title:"Основная информация",value:[{title:"ФИО",value:"Смирнова Анна Сергеевна"},{title:"Дата рождения",value:"1992-03-28"},{title:"Номер телефона",value:"+7 (939) 142-63-52"},{title:"Адрес",value:"г. Санкт-Петербург, ул. Гагарина, д. 100, кв. 183"},{title:"Пол",value:"Женский"}]},modules:{education:{title:"Образование",value:[{title:"Среднее",value:"Колледж"},{title:"Бакалавриат",value:"Университет ИТМО"},{title:"Магистратура",value:"Санкт-Петербургский государственный университет (СПбГУ)"}]},career:{title:"Карьера",value:[{title:"Стаж",value:"15 (в годах)"},{title:"Зарплата",value:"91208 руб."},{title:"Должность",value:"Администратор"},{title:"Отдел",value:"Продажи"}]},family:{title:"Семья",value:[{title:"Отец",value:"Кузнецов Сергей Михайлович"},{title:"Мать",value:"Петрова Елена Сергеевна"},{title:"Семейное положение",value:"замужем"}]}}},{id:25,params:{title:"Основная информация",value:[{title:"ФИО",value:"Сидорова Светлана Ивановна"},{title:"Дата рождения",value:"1980-09-03"},{title:"Номер телефона",value:"+7 (944) 368-12-75"},{title:"Адрес",value:"г. Москва, ул. Пушкина, д. 34, кв. 39"},{title:"Пол",value:"Женский"}]},modules:{education:{title:"Образование",value:[{title:"Среднее",value:"Колледж"},{title:"Бакалавриат",value:"Московский государственный технический университет имени Н. Э. Баумана (МГТУ)"},{title:"Магистратура",value:"Московский государственный технический университет имени Н. Э. Баумана (МГТУ)"}]},career:{title:"Карьера",value:[{title:"Стаж",value:"13 (в годах)"},{title:"Зарплата",value:"106549 руб."},{title:"Должность",value:"Администратор"},{title:"Отдел",value:"Бухгалтерия"}]},family:{title:"Семья",value:[{title:"Отец",value:"Смирнов Сергей Александрович"},{title:"Мать",value:"Сидорова Мария Сергеевна"},{title:"Семейное положение",value:"разведена"}]}}},{id:26,params:{title:"Основная информация",value:[{title:"ФИО",value:"Иванова Ольга Сергеевна"},{title:"Дата рождения",value:"1992-04-08"},{title:"Номер телефона",value:"+7 (931) 206-19-22"},{title:"Адрес",value:"г. Москва, ул. Гагарина, д. 4, кв. 61"},{title:"Пол",value:"Женский"}]},modules:{education:{title:"Образование",value:[{title:"Среднее",value:"Колледж"},{title:"Бакалавриат",value:"Российский университет дружбы народов (РУДН)"}]},career:{title:"Карьера",value:[{title:"Стаж",value:"6 (в годах)"},{title:"Зарплата",value:"163067 руб."},{title:"Должность",value:"Программист"},{title:"Отдел",value:"Маркетинг"}]},family:{title:"Семья",value:[{title:"Отец",value:"Сидоров Иван Петрович"},{title:"Мать",value:"Иванова Анна Сергеевна"},{title:"Семейное положение",value:"холоста"}]}}},{id:27,params:{title:"Основная информация",value:[{title:"ФИО",value:"Кузнецов Александр Иванович"},{title:"Дата рождения",value:"1997-12-25"},{title:"Номер телефона",value:"+7 (936) 419-69-65"},{title:"Адрес",value:"г. Новосибирск, ул. Мира, д. 31, кв. 36"},{title:"Пол",value:"Мужской"}]},modules:{education:{title:"Образование",value:[{title:"Среднее",value:"Колледж"},{title:"Бакалавриат",value:"Московский государственный университет имени М. В. Ломоносова (МГУ)"},{title:"Магистратура",value:"Московский физико-технический институт (МФТИ)"}]},career:{title:"Карьера",value:[{title:"Стаж",value:"11 (в годах)"},{title:"Зарплата",value:"279086 руб."},{title:"Должность",value:"Консультант"},{title:"Отдел",value:"Маркетинг"}]},family:{title:"Семья",value:[{title:"Отец",value:"Петров Михаил Александрович"},{title:"Мать",value:"Сидорова Анна Михайловна"},{title:"Семейное положение",value:"разведен"}]}}},{id:28,params:{title:"Основная информация",value:[{title:"ФИО",value:"Иванова Ольга Александровна"},{title:"Дата рождения",value:"1990-04-29"},{title:"Номер телефона",value:"+7 (919) 435-74-45"},{title:"Адрес",value:"г. Санкт-Петербург, ул. Мира, д. 79, кв. 63"},{title:"Пол",value:"Женский"}]},modules:{education:{title:"Образование",value:[{title:"Среднее",value:"Колледж"},{title:"Бакалавриат",value:"Первый Московский государственный медицинский университет имени И. М. Сеченова (Сеченовский Университет)"},{title:"Магистратура",value:"Московский физико-технический институт (МФТИ)"}]},career:{title:"Карьера",value:[{title:"Стаж",value:"3 (в годах)"},{title:"Зарплата",value:"151447 руб."},{title:"Должность",value:"Программист"},{title:"Отдел",value:"IT"}]},family:{title:"Семья",value:[{title:"Отец",value:"Иванов Александр Михайлович"},{title:"Мать",value:"Петрова Светлана Ивановна"},{title:"Семейное положение",value:"замужем"}]}}},{id:29,params:{title:"Основная информация",value:[{title:"ФИО",value:"Петрова Мария Сергеевна"},{title:"Дата рождения",value:"2002-07-29"},{title:"Номер телефона",value:"+7 (958) 248-37-62"},{title:"Адрес",value:"г. Новосибирск, ул. Гагарина, д. 88, кв. 142"},{title:"Пол",value:"Женский"}]},modules:{education:{title:"Образование",value:[{title:"Среднее",value:"Колледж"},{title:"Бакалавриат",value:"Первый Московский государственный медицинский университет имени И. М. Сеченова (Сеченовский Университет)"}]},career:{title:"Карьера",value:[]},family:{title:"Семья",value:[{title:"Отец",value:"Смирнов Петр Иванович"},{title:"Мать",value:"Иванова Анна Ивановна"},{title:"Семейное положение",value:"замужем"}]}}},{id:30,params:{title:"Основная информация",value:[{title:"ФИО",value:"Сидоров Михаил Иванович"},{title:"Дата рождения",value:"1978-06-21"},{title:"Номер телефона",value:"+7 (991) 269-44-99"},{title:"Адрес",value:"г. Санкт-Петербург, ул. Пушкина, д. 74, кв. 176"},{title:"Пол",value:"Мужской"}]},modules:{education:{title:"Образование",value:[{title:"Среднее",value:"Колледж"}]},career:{title:"Карьера",value:[{title:"Стаж",value:"10 (в годах)"},{title:"Зарплата",value:"250732 руб."},{title:"Должность",value:"Аналитик"},{title:"Отдел",value:"IT"}]},family:{title:"Семья",value:[{title:"Отец",value:"Петров Петр Александрович"},{title:"Мать",value:"Иванова Елена Петровна"},{title:"Семейное положение",value:"женат"}]}}},{id:31,params:{title:"Основная информация",value:[{title:"ФИО",value:"Сидоров Михаил Александрович"},{title:"Дата рождения",value:"2005-05-04"},{title:"Номер телефона",value:"+7 (926) 223-52-23"},{title:"Адрес",value:"г. Санкт-Петербург, ул. Ленина, д. 53, кв. 44"},{title:"Пол",value:"Мужской"}]},modules:{education:{title:"Образование",value:[{title:"Среднее",value:"Колледж"},{title:"Бакалавриат",value:"Российская академия народного хозяйства и государственной службы (РАНХиГС)"},{title:"Магистратура",value:"Университет ИТМО"}]},career:{title:"Карьера",value:[{title:"Стаж",value:"5 (в годах)"},{title:"Зарплата",value:"155657 руб."},{title:"Должность",value:"Специалист"},{title:"Отдел",value:"Логистика"}]},family:{title:"Семья",value:[{title:"Отец",value:"Иванов Иван Иванович"},{title:"Мать",value:"Иванова Мария Петровна"},{title:"Семейное положение",value:"разведен"}]}}},{id:32,params:{title:"Основная информация",value:[{title:"ФИО",value:"Петров Михаил Михайлович"},{title:"Дата рождения",value:"1970-01-23"},{title:"Номер телефона",value:"+7 (952) 919-75-59"},{title:"Адрес",value:"г. Новосибирск, ул. Комсомольская, д. 27, кв. 44"},{title:"Пол",value:"Мужской"}]},modules:{education:{title:"Образование",value:[{title:"Среднее",value:"Колледж"},{title:"Бакалавриат",value:"Московский государственный технический университет имени Н. Э. Баумана (МГТУ)"},{title:"Магистратура",value:"Российский университет дружбы народов (РУДН)"}]},career:{title:"Карьера",value:[{title:"Стаж",value:"9 (в годах)"},{title:"Зарплата",value:"126121 руб."},{title:"Должность",value:"Аналитик"},{title:"Отдел",value:"Бухгалтерия"}]},family:{title:"Семья",value:[{title:"Отец",value:"Кузнецов Александр Александрович"},{title:"Мать",value:"Петрова Светлана Ивановна"},{title:"Семейное положение",value:"женат"}]}}},{id:33,params:{title:"Основная информация",value:[{title:"ФИО",value:"Смирнова Мария Ивановна"},{title:"Дата рождения",value:"1971-04-14"},{title:"Номер телефона",value:"+7 (971) 433-97-91"},{title:"Адрес",value:"г. Москва, ул. Мира, д. 55, кв. 18"},{title:"Пол",value:"Женский"}]},modules:{education:{title:"Образование",value:[{title:"Среднее",value:"Колледж"},{title:"Бакалавриат",value:"Российский университет дружбы народов (РУДН)"},{title:"Магистратура",value:"Московский государственный технический университет имени Н. Э. Баумана (МГТУ)"}]},career:{title:"Карьера",value:[{title:"Стаж",value:"2 (в годах)"},{title:"Зарплата",value:"185911 руб."},{title:"Должность",value:"Программист"},{title:"Отдел",value:"HR"}]},family:{title:"Семья",value:[{title:"Отец",value:"Смирнов Михаил Михайлович"},{title:"Мать",value:"Сидорова Мария Петровна"},{title:"Семейное положение",value:"холоста"}]}}},{id:34,params:{title:"Основная информация",value:[{title:"ФИО",value:"Петрова Ольга Михайловна"},{title:"Дата рождения",value:"1988-02-10"},{title:"Номер телефона",value:"+7 (985) 110-59-72"},{title:"Адрес",value:"г. Красноярск, ул. Пушкина, д. 17, кв. 94"},{title:"Пол",value:"Женский"}]},modules:{education:{title:"Образование",value:[{title:"Среднее",value:"Колледж"},{title:"Бакалавриат",value:"Российская академия народного хозяйства и государственной службы (РАНХиГС)"},{title:"Магистратура",value:"Университет ИТМО"}]},career:{title:"Карьера",value:[{title:"Стаж",value:"14 (в годах)"},{title:"Зарплата",value:"224685 руб."},{title:"Должность",value:"Программист"},{title:"Отдел",value:"Продажи"}]},family:{title:"Семья",value:[{title:"Отец",value:"Сидоров Петр Сергеевич"},{title:"Мать",value:"Смирнова Мария Петровна"},{title:"Семейное положение",value:"разведена"}]}}},{id:35,params:{title:"Основная информация",value:[{title:"ФИО",value:"Кузнецова Анна Ивановна"},{title:"Дата рождения",value:"1970-08-21"},{title:"Номер телефона",value:"+7 (976) 629-93-27"},{title:"Адрес",value:"г. Красноярск, ул. Пушкина, д. 71, кв. 42"},{title:"Пол",value:"Женский"}]},modules:{education:{title:"Образование",value:[{title:"Среднее",value:"Колледж"},{title:"Бакалавриат",value:"Московский физико-технический институт (МФТИ)"},{title:"Магистратура",value:"Московский государственный университет имени М. В. Ломоносова (МГУ)"}]},career:{title:"Карьера",value:[]},family:{title:"Семья",value:[{title:"Отец",value:"Сидоров Александр Александрович"},{title:"Мать",value:"Смирнова Ольга Александровна"},{title:"Семейное положение",value:"холоста"}]}}},{id:36,params:{title:"Основная информация",value:[{title:"ФИО",value:"Кузнецова Ольга Ивановна"},{title:"Дата рождения",value:"1983-05-25"},{title:"Номер телефона",value:"+7 (915) 424-77-23"},{title:"Адрес",value:"г. Красноярск, ул. Мира, д. 14, кв. 157"},{title:"Пол",value:"Женский"}]},modules:{education:{title:"Образование",value:[{title:"Среднее",value:"Колледж"},{title:"Бакалавриат",value:"Национальный исследовательский ядерный университет «МИФИ»"},{title:"Магистратура",value:"Московский государственный технический университет имени Н. Э. Баумана (МГТУ)"}]},career:{title:"Карьера",value:[{title:"Стаж",value:"1 (в годах)"},{title:"Зарплата",value:"174835 руб."},{title:"Должность",value:"Специалист"},{title:"Отдел",value:"Продажи"}]},family:{title:"Семья",value:[{title:"Отец",value:"Петров Иван Сергеевич"},{title:"Мать",value:"Кузнецова Елена Сергеевна"},{title:"Семейное положение",value:"замужем"}]}}},{id:37,params:{title:"Основная информация",value:[{title:"ФИО",value:"Иванова Анна Ивановна"},{title:"Дата рождения",value:"1993-08-10"},{title:"Номер телефона",value:"+7 (970) 656-39-44"},{title:"Адрес",value:"г. Екатеринбург, ул. Пушкина, д. 34, кв. 143"},{title:"Пол",value:"Женский"}]},modules:{education:{title:"Образование",value:[{title:"Среднее",value:"Колледж"},{title:"Бакалавриат",value:"Российский университет дружбы народов (РУДН)"}]},career:{title:"Карьера",value:[{title:"Стаж",value:"10 (в годах)"},{title:"Зарплата",value:"105501 руб."},{title:"Должность",value:"Директор"},{title:"Отдел",value:"Юридический"}]},family:{title:"Семья",value:[{title:"Отец",value:"Сидоров Петр Петрович"},{title:"Мать",value:"Петрова Мария Михайловна"},{title:"Семейное положение",value:"разведена"}]}}},{id:38,params:{title:"Основная информация",value:[{title:"ФИО",value:"Смирнов Александр Михайлович"},{title:"Дата рождения",value:"1970-08-08"},{title:"Номер телефона",value:"+7 (929) 156-86-18"},{title:"Адрес",value:"г. Санкт-Петербург, ул. Комсомольская, д. 54, кв. 125"},{title:"Пол",value:"Мужской"}]},modules:{education:{title:"Образование",value:[{title:"Среднее",value:"Колледж"},{title:"Бакалавриат",value:"Национальный исследовательский ядерный университет «МИФИ»"},{title:"Магистратура",value:"Национальный исследовательский университет «Высшая школа экономики» (НИУ ВШЭ)"}]},career:{title:"Карьера",value:[{title:"Стаж",value:"8 (в годах)"},{title:"Зарплата",value:"240826 руб."},{title:"Должность",value:"Разработчик"},{title:"Отдел",value:"Логистика"}]},family:{title:"Семья",value:[{title:"Отец",value:"Сидоров Иван Александрович"},{title:"Мать",value:"Петрова Светлана Михайловна"},{title:"Семейное положение",value:"женат"}]}}},{id:39,params:{title:"Основная информация",value:[{title:"ФИО",value:"Петрова Анна Петровна"},{title:"Дата рождения",value:"1972-02-12"},{title:"Номер телефона",value:"+7 (918) 239-73-57"},{title:"Адрес",value:"г. Екатеринбург, ул. Пушкина, д. 80, кв. 139"},{title:"Пол",value:"Женский"}]},modules:{education:{title:"Образование",value:[{title:"Среднее",value:"Колледж"}]},career:{title:"Карьера",value:[{title:"Стаж",value:"12 (в годах)"},{title:"Зарплата",value:"222116 руб."},{title:"Должность",value:"Администратор"},{title:"Отдел",value:"Кадры"}]},family:{title:"Семья",value:[{title:"Отец",value:"Смирнов Петр Сергеевич"},{title:"Мать",value:"Сидорова Мария Ивановна"},{title:"Семейное положение",value:"холоста"}]}}},{id:40,params:{title:"Основная информация",value:[{title:"ФИО",value:"Иванова Мария Петровна"},{title:"Дата рождения",value:"1970-09-16"},{title:"Номер телефона",value:"+7 (993) 179-12-95"},{title:"Адрес",value:"г. Новосибирск, ул. Ленина, д. 29, кв. 177"},{title:"Пол",value:"Женский"}]},modules:{education:{title:"Образование",value:[{title:"Среднее",value:"Колледж"},{title:"Бакалавриат",value:"Национальный исследовательский университет «Высшая школа экономики» (НИУ ВШЭ)"},{title:"Магистратура",value:"Национальный исследовательский ядерный университет «МИФИ»"}]},career:{title:"Карьера",value:[{title:"Стаж",value:"15 (в годах)"},{title:"Зарплата",value:"149442 руб."},{title:"Должность",value:"Аналитик"},{title:"Отдел",value:"IT"}]},family:{title:"Семья",value:[{title:"Отец",value:"Смирнов Иван Михайлович"},{title:"Мать",value:"Смирнова Мария Ивановна"},{title:"Семейное положение",value:"замужем"}]}}},{id:41,params:{title:"Основная информация",value:[{title:"ФИО",value:"Петров Сергей Сергеевич"},{title:"Дата рождения",value:"1994-07-12"},{title:"Номер телефона",value:"+7 (997) 799-03-21"},{title:"Адрес",value:"г. Новосибирск, ул. Комсомольская, д. 52, кв. 70"},{title:"Пол",value:"Мужской"}]},modules:{education:{title:"Образование",value:[{title:"Среднее",value:"Колледж"},{title:"Бакалавриат",value:"Российский университет дружбы народов (РУДН)"}]},career:{title:"Карьера",value:[{title:"Стаж",value:"11 (в годах)"},{title:"Зарплата",value:"31899 руб."},{title:"Должность",value:"Инженер"},{title:"Отдел",value:"Маркетинг"}]},family:{title:"Семья",value:[{title:"Отец",value:"Кузнецов Михаил Петрович"},{title:"Мать",value:"Смирнова Елена Сергеевна"},{title:"Семейное положение",value:"холост"}]}}},{id:42,params:{title:"Основная информация",value:[{title:"ФИО",value:"Кузнецов Александр Петрович"},{title:"Дата рождения",value:"1989-01-02"},{title:"Номер телефона",value:"+7 (949) 673-18-86"},{title:"Адрес",value:"г. Новосибирск, ул. Ленина, д. 21, кв. 27"},{title:"Пол",value:"Мужской"}]},modules:{education:{title:"Образование",value:[{title:"Среднее",value:"Колледж"}]},career:{title:"Карьера",value:[{title:"Стаж",value:"7 (в годах)"},{title:"Зарплата",value:"167808 руб."},{title:"Должность",value:"Менеджер"},{title:"Отдел",value:"Финансы"}]},family:{title:"Семья",value:[{title:"Отец",value:"Иванов Иван Александрович"},{title:"Мать",value:"Иванова Мария Александровна"},{title:"Семейное положение",value:"женат"}]}}},{id:43,params:{title:"Основная информация",value:[{title:"ФИО",value:"Смирнов Александр Александрович"},{title:"Дата рождения",value:"2004-12-05"},{title:"Номер телефона",value:"+7 (931) 183-13-34"},{title:"Адрес",value:"г. Екатеринбург, ул. Пушкина, д. 48, кв. 154"},{title:"Пол",value:"Мужской"}]},modules:{education:{title:"Образование",value:[{title:"Среднее",value:"Колледж"},{title:"Бакалавриат",value:"Российский университет дружбы народов (РУДН)"}]},career:{title:"Карьера",value:[{title:"Стаж",value:"8 (в годах)"},{title:"Зарплата",value:"98132 руб."},{title:"Должность",value:"Аналитик"},{title:"Отдел",value:"IT"}]},family:{title:"Семья",value:[{title:"Отец",value:"Сидоров Петр Александрович"},{title:"Мать",value:"Кузнецова Светлана Петровна"},{title:"Семейное положение",value:"холост"}]}}},{id:44,params:{title:"Основная информация",value:[{title:"ФИО",value:"Иванов Сергей Александрович"},{title:"Дата рождения",value:"2003-02-05"},{title:"Номер телефона",value:"+7 (967) 192-45-59"},{title:"Адрес",value:"г. Новосибирск, ул. Гагарина, д. 60, кв. 59"},{title:"Пол",value:"Мужской"}]},modules:{education:{title:"Образование",value:[{title:"Среднее",value:"Колледж"},{title:"Бакалавриат",value:"Национальный исследовательский университет «Высшая школа экономики» (НИУ ВШЭ)"},{title:"Магистратура",value:"Университет ИТМО"}]},career:{title:"Карьера",value:[{title:"Стаж",value:"6 (в годах)"},{title:"Зарплата",value:"202410 руб."},{title:"Должность",value:"Программист"},{title:"Отдел",value:"HR"}]},family:{title:"Семья",value:[{title:"Отец",value:"Сидоров Сергей Александрович"},{title:"Мать",value:"Сидорова Мария Александровна"},{title:"Семейное положение",value:"холост"}]}}},{id:45,params:{title:"Основная информация",value:[{title:"ФИО",value:"Сидорова Елена Петровна"},{title:"Дата рождения",value:"1973-03-14"},{title:"Номер телефона",value:"+7 (925) 857-21-18"},{title:"Адрес",value:"г. Москва, ул. Ленина, д. 89, кв. 98"},{title:"Пол",value:"Женский"}]},modules:{education:{title:"Образование",value:[{title:"Среднее",value:"Колледж"},{title:"Бакалавриат",value:"Московский физико-технический институт (МФТИ)"}]},career:{title:"Карьера",value:[{title:"Стаж",value:"13 (в годах)"},{title:"Зарплата",value:"198872 руб."},{title:"Должность",value:"Программист"},{title:"Отдел",value:"Маркетинг"}]},family:{title:"Семья",value:[{title:"Отец",value:"Иванов Михаил Сергеевич"},{title:"Мать",value:"Сидорова Елена Сергеевна"},{title:"Семейное положение",value:"холоста"}]}}},{id:46,params:{title:"Основная информация",value:[{title:"ФИО",value:"Иванов Иван Сергеевич"},{title:"Дата рождения",value:"1972-02-04"},{title:"Номер телефона",value:"+7 (946) 937-98-14"},{title:"Адрес",value:"г. Красноярск, ул. Комсомольская, д. 95, кв. 45"},{title:"Пол",value:"Мужской"}]},modules:{education:{title:"Образование",value:[{title:"Среднее",value:"Колледж"},{title:"Бакалавриат",value:"Российский университет дружбы народов (РУДН)"}]},career:{title:"Карьера",value:[{title:"Стаж",value:"10 (в годах)"},{title:"Зарплата",value:"97273 руб."},{title:"Должность",value:"Разработчик"},{title:"Отдел",value:"Логистика"}]},family:{title:"Семья",value:[{title:"Отец",value:"Иванов Иван Петрович"},{title:"Мать",value:"Смирнова Анна Михайловна"},{title:"Семейное положение",value:"женат"}]}}},{id:47,params:{title:"Основная информация",value:[{title:"ФИО",value:"Кузнецов Иван Александрович"},{title:"Дата рождения",value:"1975-06-07"},{title:"Номер телефона",value:"+7 (997) 384-94-44"},{title:"Адрес",value:"г. Екатеринбург, ул. Пушкина, д. 82, кв. 48"},{title:"Пол",value:"Мужской"}]},modules:{education:{title:"Образование",value:[{title:"Среднее",value:"Колледж"},{title:"Бакалавриат",value:"Российская академия народного хозяйства и государственной службы (РАНХиГС)"},{title:"Магистратура",value:"Московский государственный технический университет имени Н. Э. Баумана (МГТУ)"}]},career:{title:"Карьера",value:[{title:"Стаж",value:"10 (в годах)"},{title:"Зарплата",value:"112947 руб."},{title:"Должность",value:"Консультант"},{title:"Отдел",value:"Маркетинг"}]},family:{title:"Семья",value:[{title:"Отец",value:"Смирнов Сергей Сергеевич"},{title:"Мать",value:"Смирнова Анна Александровна"},{title:"Семейное положение",value:"женат"}]}}},{id:48,params:{title:"Основная информация",value:[{title:"ФИО",value:"Смирнов Александр Александрович"},{title:"Дата рождения",value:"1973-01-10"},{title:"Номер телефона",value:"+7 (986) 393-27-20"},{title:"Адрес",value:"г. Красноярск, ул. Гагарина, д. 76, кв. 118"},{title:"Пол",value:"Мужской"}]},modules:{education:{title:"Образование",value:[{title:"Среднее",value:"Колледж"},{title:"Бакалавриат",value:"Первый Московский государственный медицинский университет имени И. М. Сеченова (Сеченовский Университет)"},{title:"Магистратура",value:"Санкт-Петербургский государственный университет (СПбГУ)"}]},career:{title:"Карьера",value:[{title:"Стаж",value:"15 (в годах)"},{title:"Зарплата",value:"155156 руб."},{title:"Должность",value:"Бухгалтер"},{title:"Отдел",value:"HR"}]},family:{title:"Семья",value:[{title:"Отец",value:"Иванов Александр Иванович"},{title:"Мать",value:"Петрова Ольга Александровна"},{title:"Семейное положение",value:"разведен"}]}}},{id:49,params:{title:"Основная информация",value:[{title:"ФИО",value:"Иванова Анна Михайловна"},{title:"Дата рождения",value:"1990-01-29"},{title:"Номер телефона",value:"+7 (975) 155-29-67"},{title:"Адрес",value:"г. Москва, ул. Пушкина, д. 22, кв. 167"},{title:"Пол",value:"Женский"}]},modules:{education:{title:"Образование",value:[{title:"Среднее",value:"Колледж"}]},career:{title:"Карьера",value:[{title:"Стаж",value:"14 (в годах)"},{title:"Зарплата",value:"242493 руб."},{title:"Должность",value:"Администратор"},{title:"Отдел",value:"Кадры"}]},family:{title:"Семья",value:[{title:"Отец",value:"Иванов Александр Петрович"},{title:"Мать",value:"Кузнецова Ольга Ивановна"},{title:"Семейное положение",value:"холоста"}]}}},{id:50,params:{title:"Основная информация",value:[{title:"ФИО",value:"Смирнова Анна Александровна"},{title:"Дата рождения",value:"1973-10-16"},{title:"Номер телефона",value:"+7 (996) 069-70-58"},{title:"Адрес",value:"г. Новосибирск, ул. Гагарина, д. 7, кв. 196"},{title:"Пол",value:"Женский"}]},modules:{education:{title:"Образование",value:[{title:"Среднее",value:"Колледж"},{title:"Бакалавриат",value:"Московский государственный технический университет имени Н. Э. Баумана (МГТУ)"},{title:"Магистратура",value:"Московский государственный технический университет имени Н. Э. Баумана (МГТУ)"}]},career:{title:"Карьера",value:[{title:"Стаж",value:"13 (в годах)"},{title:"Зарплата",value:"246442 руб."},{title:"Должность",value:"Специалист"},{title:"Отдел",value:"Производство"}]},family:{title:"Семья",value:[{title:"Отец",value:"Иванов Петр Александрович"},{title:"Мать",value:"Петрова Ольга Сергеевна"},{title:"Семейное положение",value:"замужем"}]}}},{id:51,params:{title:"Основная информация",value:[{title:"ФИО",value:"Кузнецова Светлана Александровна"},{title:"Дата рождения",value:"1971-05-18"},{title:"Номер телефона",value:"+7 (933) 546-82-14"},{title:"Адрес",value:"г. Екатеринбург, ул. Мира, д. 56, кв. 49"},{title:"Пол",value:"Женский"}]},modules:{education:{title:"Образование",value:[{title:"Среднее",value:"Колледж"},{title:"Бакалавриат",value:"Российская академия народного хозяйства и государственной службы (РАНХиГС)"}]},career:{title:"Карьера",value:[{title:"Стаж",value:"10 (в годах)"},{title:"Зарплата",value:"276761 руб."},{title:"Должность",value:"Менеджер"},{title:"Отдел",value:"Продажи"}]},family:{title:"Семья",value:[{title:"Отец",value:"Кузнецов Иван Иванович"},{title:"Мать",value:"Кузнецова Ольга Михайловна"},{title:"Семейное положение",value:"разведена"}]}}},{id:52,params:{title:"Основная информация",value:[{title:"ФИО",value:"Иванова Анна Александровна"},{title:"Дата рождения",value:"1981-12-23"},{title:"Номер телефона",value:"+7 (973) 124-06-79"},{title:"Адрес",value:"г. Новосибирск, ул. Комсомольская, д. 15, кв. 29"},{title:"Пол",value:"Женский"}]},modules:{education:{title:"Образование",value:[{title:"Среднее",value:"Колледж"},{title:"Бакалавриат",value:"Московский государственный технический университет имени Н. Э. Баумана (МГТУ)"},{title:"Магистратура",value:"Национальный исследовательский университет «Высшая школа экономики» (НИУ ВШЭ)"}]},career:{title:"Карьера",value:[{title:"Стаж",value:"7 (в годах)"},{title:"Зарплата",value:"71765 руб."},{title:"Должность",value:"Аналитик"},{title:"Отдел",value:"HR"}]},family:{title:"Семья",value:[{title:"Отец",value:"Иванов Михаил Иванович"},{title:"Мать",value:"Петрова Анна Петровна"},{title:"Семейное положение",value:"разведена"}]}}},{id:53,params:{title:"Основная информация",value:[{title:"ФИО",value:"Сидоров Михаил Петрович"},{title:"Дата рождения",value:"2000-09-14"},{title:"Номер телефона",value:"+7 (951) 008-88-54"},{title:"Адрес",value:"г. Санкт-Петербург, ул. Гагарина, д. 70, кв. 194"},{title:"Пол",value:"Мужской"}]},modules:{education:{title:"Образование",value:[{title:"Среднее",value:"Колледж"},{title:"Бакалавриат",value:"Российская академия народного хозяйства и государственной службы (РАНХиГС)"}]},career:{title:"Карьера",value:[{title:"Стаж",value:"7 (в годах)"},{title:"Зарплата",value:"245507 руб."},{title:"Должность",value:"Разработчик"},{title:"Отдел",value:"Кадры"}]},family:{title:"Семья",value:[{title:"Отец",value:"Иванов Михаил Иванович"},{title:"Мать",value:"Петрова Ольга Михайловна"},{title:"Семейное положение",value:"холост"}]}}},{id:54,params:{title:"Основная информация",value:[{title:"ФИО",value:"Петров Иван Александрович"},{title:"Дата рождения",value:"1992-04-25"},{title:"Номер телефона",value:"+7 (904) 360-61-91"},{title:"Адрес",value:"г. Санкт-Петербург, ул. Гагарина, д. 65, кв. 59"},{title:"Пол",value:"Мужской"}]},modules:{education:{title:"Образование",value:[{title:"Среднее",value:"Колледж"}]},career:{title:"Карьера",value:[{title:"Стаж",value:"13 (в годах)"},{title:"Зарплата",value:"40026 руб."},{title:"Должность",value:"Менеджер"},{title:"Отдел",value:"Продажи"}]},family:{title:"Семья",value:[{title:"Отец",value:"Сидоров Александр Александрович"},{title:"Мать",value:"Кузнецова Мария Ивановна"},{title:"Семейное положение",value:"холост"}]}}},{id:55,params:{title:"Основная информация",value:[{title:"ФИО",value:"Иванова Светлана Александровна"},{title:"Дата рождения",value:"2001-03-22"},{title:"Номер телефона",value:"+7 (964) 771-58-93"},{title:"Адрес",value:"г. Новосибирск, ул. Пушкина, д. 62, кв. 148"},{title:"Пол",value:"Женский"}]},modules:{education:{title:"Образование",value:[{title:"Среднее",value:"Колледж"},{title:"Бакалавриат",value:"Московский государственный университет имени М. В. Ломоносова (МГУ)"},{title:"Магистратура",value:"Российский университет дружбы народов (РУДН)"}]},career:{title:"Карьера",value:[{title:"Стаж",value:"15 (в годах)"},{title:"Зарплата",value:"69136 руб."},{title:"Должность",value:"Администратор"},{title:"Отдел",value:"Маркетинг"}]},family:{title:"Семья",value:[{title:"Отец",value:"Иванов Сергей Иванович"},{title:"Мать",value:"Кузнецова Елена Сергеевна"},{title:"Семейное положение",value:"замужем"}]}}},{id:56,params:{title:"Основная информация",value:[{title:"ФИО",value:"Иванова Елена Александровна"},{title:"Дата рождения",value:"1974-06-01"},{title:"Номер телефона",value:"+7 (961) 235-82-27"},{title:"Адрес",value:"г. Новосибирск, ул. Пушкина, д. 67, кв. 121"},{title:"Пол",value:"Женский"}]},modules:{education:{title:"Образование",value:[{title:"Среднее",value:"Колледж"},{title:"Бакалавриат",value:"Московский государственный университет имени М. В. Ломоносова (МГУ)"},{title:"Магистратура",value:"Национальный исследовательский ядерный университет «МИФИ»"}]},career:{title:"Карьера",value:[{title:"Стаж",value:"1 (в годах)"},{title:"Зарплата",value:"111224 руб."},{title:"Должность",value:"Программист"},{title:"Отдел",value:"Финансы"}]},family:{title:"Семья",value:[{title:"Отец",value:"Сидоров Иван Михайлович"},{title:"Мать",value:"Смирнова Елена Ивановна"},{title:"Семейное положение",value:"разведена"}]}}},{id:57,params:{title:"Основная информация",value:[{title:"ФИО",value:"Сидорова Светлана Сергеевна"},{title:"Дата рождения",value:"1986-10-18"},{title:"Номер телефона",value:"+7 (975) 259-29-86"},{title:"Адрес",value:"г. Новосибирск, ул. Гагарина, д. 66, кв. 66"},{title:"Пол",value:"Женский"}]},modules:{education:{title:"Образование",value:[{title:"Среднее",value:"Колледж"},{title:"Бакалавриат",value:"Национальный исследовательский университет «Высшая школа экономики» (НИУ ВШЭ)"},{title:"Магистратура",value:"Национальный исследовательский ядерный университет «МИФИ»"}]},career:{title:"Карьера",value:[{title:"Стаж",value:"15 (в годах)"},{title:"Зарплата",value:"221296 руб."},{title:"Должность",value:"Программист"},{title:"Отдел",value:"Кадры"}]},family:{title:"Семья",value:[{title:"Отец",value:"Кузнецов Сергей Иванович"},{title:"Мать",value:"Сидорова Ольга Сергеевна"},{title:"Семейное положение",value:"холоста"}]}}},{id:58,params:{title:"Основная информация",value:[{title:"ФИО",value:"Петров Сергей Петрович"},{title:"Дата рождения",value:"1989-07-03"},{title:"Номер телефона",value:"+7 (953) 506-61-92"},{title:"Адрес",value:"г. Москва, ул. Пушкина, д. 68, кв. 99"},{title:"Пол",value:"Мужской"}]},modules:{education:{title:"Образование",value:[{title:"Среднее",value:"Колледж"},{title:"Бакалавриат",value:"Первый Московский государственный медицинский университет имени И. М. Сеченова (Сеченовский Университет)"}]},career:{title:"Карьера",value:[{title:"Стаж",value:"7 (в годах)"},{title:"Зарплата",value:"248977 руб."},{title:"Должность",value:"Директор"},{title:"Отдел",value:"HR"}]},family:{title:"Семья",value:[{title:"Отец",value:"Петров Петр Сергеевич"},{title:"Мать",value:"Кузнецова Ольга Сергеевна"},{title:"Семейное положение",value:"холост"}]}}},{id:59,params:{title:"Основная информация",value:[{title:"ФИО",value:"Иванова Мария Михайловна"},{title:"Дата рождения",value:"1970-07-13"},{title:"Номер телефона",value:"+7 (991) 382-52-95"},{title:"Адрес",value:"г. Москва, ул. Гагарина, д. 51, кв. 145"},{title:"Пол",value:"Женский"}]},modules:{education:{title:"Образование",value:[{title:"Среднее",value:"Колледж"}]},career:{title:"Карьера",value:[{title:"Стаж",value:"3 (в годах)"},{title:"Зарплата",value:"157129 руб."},{title:"Должность",value:"Инженер"},{title:"Отдел",value:"Финансы"}]},family:{title:"Семья",value:[{title:"Отец",value:"Сидоров Михаил Иванович"},{title:"Мать",value:"Иванова Мария Ивановна"},{title:"Семейное положение",value:"холоста"}]}}},{id:60,params:{title:"Основная информация",value:[{title:"ФИО",value:"Кузнецова Анна Сергеевна"},{title:"Дата рождения",value:"1984-08-26"},{title:"Номер телефона",value:"+7 (922) 164-29-65"},{title:"Адрес",value:"г. Санкт-Петербург, ул. Мира, д. 99, кв. 21"},{title:"Пол",value:"Женский"}]},modules:{education:{title:"Образование",value:[{title:"Среднее",value:"Колледж"},{title:"Бакалавриат",value:"Национальный исследовательский университет «Высшая школа экономики» (НИУ ВШЭ)"},{title:"Магистратура",value:"Национальный исследовательский университет «Высшая школа экономики» (НИУ ВШЭ)"}]},career:{title:"Карьера",value:[{title:"Стаж",value:"7 (в годах)"},{title:"Зарплата",value:"241818 руб."},{title:"Должность",value:"Директор"},{title:"Отдел",value:"Производство"}]},family:{title:"Семья",value:[{title:"Отец",value:"Кузнецов Иван Петрович"},{title:"Мать",value:"Иванова Светлана Сергеевна"},{title:"Семейное положение",value:"холоста"}]}}},{id:61,params:{title:"Основная информация",value:[{title:"ФИО",value:"Петрова Ольга Александровна"},{title:"Дата рождения",value:"1971-05-10"},{title:"Номер телефона",value:"+7 (970) 798-45-69"},{title:"Адрес",value:"г. Санкт-Петербург, ул. Пушкина, д. 61, кв. 128"},{title:"Пол",value:"Женский"}]},modules:{education:{title:"Образование",value:[{title:"Среднее",value:"Колледж"},{title:"Бакалавриат",value:"Московский государственный технический университет имени Н. Э. Баумана (МГТУ)"},{title:"Магистратура",value:"Первый Московский государственный медицинский университет имени И. М. Сеченова (Сеченовский Университет)"}]},career:{title:"Карьера",value:[{title:"Стаж",value:"8 (в годах)"},{title:"Зарплата",value:"35140 руб."},{title:"Должность",value:"Программист"},{title:"Отдел",value:"Производство"}]},family:{title:"Семья",value:[{title:"Отец",value:"Иванов Петр Михайлович"},{title:"Мать",value:"Сидорова Светлана Ивановна"},{title:"Семейное положение",value:"холоста"}]}}},{id:62,params:{title:"Основная информация",value:[{title:"ФИО",value:"Смирнова Ольга Сергеевна"},{title:"Дата рождения",value:"1986-04-27"},{title:"Номер телефона",value:"+7 (978) 011-28-76"},{title:"Адрес",value:"г. Москва, ул. Гагарина, д. 66, кв. 134"},{title:"Пол",value:"Женский"}]},modules:{education:{title:"Образование",value:[{title:"Среднее",value:"Колледж"},{title:"Бакалавриат",value:"Национальный исследовательский университет «Высшая школа экономики» (НИУ ВШЭ)"}]},career:{title:"Карьера",value:[{title:"Стаж",value:"6 (в годах)"},{title:"Зарплата",value:"269878 руб."},{title:"Должность",value:"Администратор"},{title:"Отдел",value:"Производство"}]},family:{title:"Семья",value:[{title:"Отец",value:"Кузнецов Сергей Петрович"},{title:"Мать",value:"Иванова Мария Петровна"},{title:"Семейное положение",value:"замужем"}]}}},{id:63,params:{title:"Основная информация",value:[{title:"ФИО",value:"Кузнецов Сергей Петрович"},{title:"Дата рождения",value:"1977-03-03"},{title:"Номер телефона",value:"+7 (996) 242-26-13"},{title:"Адрес",value:"г. Новосибирск, ул. Ленина, д. 39, кв. 15"},{title:"Пол",value:"Мужской"}]},modules:{education:{title:"Образование",value:[{title:"Среднее",value:"Колледж"},{title:"Бакалавриат",value:"Российский университет дружбы народов (РУДН)"},{title:"Магистратура",value:"Национальный исследовательский технологический университет «МИСИС»"}]},career:{title:"Карьера",value:[{title:"Стаж",value:"8 (в годах)"},{title:"Зарплата",value:"235840 руб."},{title:"Должность",value:"Менеджер"},{title:"Отдел",value:"IT"}]},family:{title:"Семья",value:[{title:"Отец",value:"Кузнецов Александр Александрович"},{title:"Мать",value:"Сидорова Светлана Михайловна"},{title:"Семейное положение",value:"холост"}]}}},{id:64,params:{title:"Основная информация",value:[{title:"ФИО",value:"Смирнов Сергей Иванович"},{title:"Дата рождения",value:"1976-02-25"},{title:"Номер телефона",value:"+7 (965) 356-05-80"},{title:"Адрес",value:"г. Екатеринбург, ул. Ленина, д. 72, кв. 89"},{title:"Пол",value:"Мужской"}]},modules:{education:{title:"Образование",value:[{title:"Среднее",value:"Колледж"}]},career:{title:"Карьера",value:[{title:"Стаж",value:"10 (в годах)"},{title:"Зарплата",value:"122783 руб."},{title:"Должность",value:"Разработчик"},{title:"Отдел",value:"HR"}]},family:{title:"Семья",value:[{title:"Отец",value:"Кузнецов Сергей Михайлович"},{title:"Мать",value:"Смирнова Светлана Ивановна"},{title:"Семейное положение",value:"разведен"}]}}},{id:65,params:{title:"Основная информация",value:[{title:"ФИО",value:"Сидоров Сергей Александрович"},{title:"Дата рождения",value:"1984-03-29"},{title:"Номер телефона",value:"+7 (932) 369-94-69"},{title:"Адрес",value:"г. Москва, ул. Комсомольская, д. 10, кв. 72"},{title:"Пол",value:"Мужской"}]},modules:{education:{title:"Образование",value:[{title:"Среднее",value:"Колледж"},{title:"Бакалавриат",value:"Первый Московский государственный медицинский университет имени И. М. Сеченова (Сеченовский Университет)"}]},career:{title:"Карьера",value:[{title:"Стаж",value:"7 (в годах)"},{title:"Зарплата",value:"64837 руб."},{title:"Должность",value:"Разработчик"},{title:"Отдел",value:"Продажи"}]},family:{title:"Семья",value:[{title:"Отец",value:"Сидоров Иван Иванович"},{title:"Мать",value:"Сидорова Светлана Сергеевна"},{title:"Семейное положение",value:"женат"}]}}},{id:66,params:{title:"Основная информация",value:[{title:"ФИО",value:"Петрова Елена Ивановна"},{title:"Дата рождения",value:"1971-02-16"},{title:"Номер телефона",value:"+7 (988) 136-69-12"},{title:"Адрес",value:"г. Москва, ул. Гагарина, д. 42, кв. 166"},{title:"Пол",value:"Женский"}]},modules:{education:{title:"Образование",value:[{title:"Среднее",value:"Колледж"}]},career:{title:"Карьера",value:[{title:"Стаж",value:"2 (в годах)"},{title:"Зарплата",value:"54924 руб."},{title:"Должность",value:"Аналитик"},{title:"Отдел",value:"Кадры"}]},family:{title:"Семья",value:[{title:"Отец",value:"Иванов Иван Иванович"},{title:"Мать",value:"Иванова Мария Сергеевна"},{title:"Семейное положение",value:"замужем"}]}}},{id:67,params:{title:"Основная информация",value:[{title:"ФИО",value:"Сидорова Ольга Сергеевна"},{title:"Дата рождения",value:"1985-03-20"},{title:"Номер телефона",value:"+7 (972) 438-54-20"},{title:"Адрес",value:"г. Новосибирск, ул. Мира, д. 91, кв. 31"},{title:"Пол",value:"Женский"}]},modules:{education:{title:"Образование",value:[{title:"Среднее",value:"Колледж"},{title:"Бакалавриат",value:"Национальный исследовательский университет «Высшая школа экономики» (НИУ ВШЭ)"},{title:"Магистратура",value:"Национальный исследовательский технологический университет «МИСИС»"}]},career:{title:"Карьера",value:[{title:"Стаж",value:"1 (в годах)"},{title:"Зарплата",value:"149585 руб."},{title:"Должность",value:"Директор"},{title:"Отдел",value:"Логистика"}]},family:{title:"Семья",value:[{title:"Отец",value:"Кузнецов Иван Иванович"},{title:"Мать",value:"Смирнова Светлана Ивановна"},{title:"Семейное положение",value:"разведена"}]}}},{id:68,params:{title:"Основная информация",value:[{title:"ФИО",value:"Иванова Анна Сергеевна"},{title:"Дата рождения",value:"1994-10-31"},{title:"Номер телефона",value:"+7 (966) 982-18-81"},{title:"Адрес",value:"г. Екатеринбург, ул. Комсомольская, д. 62, кв. 116"},{title:"Пол",value:"Женский"}]},modules:{education:{title:"Образование",value:[{title:"Среднее",value:"Колледж"},{title:"Бакалавриат",value:"Московский физико-технический институт (МФТИ)"}]},career:{title:"Карьера",value:[{title:"Стаж",value:"4 (в годах)"},{title:"Зарплата",value:"187701 руб."},{title:"Должность",value:"Бухгалтер"},{title:"Отдел",value:"Кадры"}]},family:{title:"Семья",value:[{title:"Отец",value:"Иванов Сергей Михайлович"},{title:"Мать",value:"Петрова Светлана Петровна"},{title:"Семейное положение",value:"разведена"}]}}},{id:69,params:{title:"Основная информация",value:[{title:"ФИО",value:"Петрова Светлана Михайловна"},{title:"Дата рождения",value:"1972-12-31"},{title:"Номер телефона",value:"+7 (927) 419-57-47"},{title:"Адрес",value:"г. Красноярск, ул. Мира, д. 56, кв. 46"},{title:"Пол",value:"Женский"}]},modules:{education:{title:"Образование",value:[{title:"Среднее",value:"Колледж"},{title:"Бакалавриат",value:"Московский государственный университет имени М. В. Ломоносова (МГУ)"},{title:"Магистратура",value:"Первый Московский государственный медицинский университет имени И. М. Сеченова (Сеченовский Университет)"}]},career:{title:"Карьера",value:[]},family:{title:"Семья",value:[{title:"Отец",value:"Иванов Петр Сергеевич"},{title:"Мать",value:"Иванова Анна Александровна"},{title:"Семейное положение",value:"замужем"}]}}},{id:70,params:{title:"Основная информация",value:[{title:"ФИО",value:"Иванова Анна Михайловна"},{title:"Дата рождения",value:"2003-09-29"},{title:"Номер телефона",value:"+7 (965) 005-47-22"},{title:"Адрес",value:"г. Санкт-Петербург, ул. Пушкина, д. 93, кв. 169"},{title:"Пол",value:"Женский"}]},modules:{education:{title:"Образование",value:[{title:"Среднее",value:"Колледж"},{title:"Бакалавриат",value:"Российская академия народного хозяйства и государственной службы (РАНХиГС)"},{title:"Магистратура",value:"Санкт-Петербургский государственный университет (СПбГУ)"}]},career:{title:"Карьера",value:[{title:"Стаж",value:"2 (в годах)"},{title:"Зарплата",value:"220223 руб."},{title:"Должность",value:"Программист"},{title:"Отдел",value:"Продажи"}]},family:{title:"Семья",value:[{title:"Отец",value:"Петров Сергей Александрович"},{title:"Мать",value:"Сидорова Анна Ивановна"},{title:"Семейное положение",value:"замужем"}]}}},{id:71,params:{title:"Основная информация",value:[{title:"ФИО",value:"Кузнецов Сергей Александрович"},{title:"Дата рождения",value:"2003-03-08"},{title:"Номер телефона",value:"+7 (957) 594-88-92"},{title:"Адрес",value:"г. Москва, ул. Комсомольская, д. 14, кв. 39"},{title:"Пол",value:"Мужской"}]},modules:{education:{title:"Образование",value:[{title:"Среднее",value:"Колледж"}]},career:{title:"Карьера",value:[{title:"Стаж",value:"5 (в годах)"},{title:"Зарплата",value:"175001 руб."},{title:"Должность",value:"Разработчик"},{title:"Отдел",value:"Маркетинг"}]},family:{title:"Семья",value:[{title:"Отец",value:"Петров Иван Михайлович"},{title:"Мать",value:"Кузнецова Мария Михайловна"},{title:"Семейное положение",value:"разведен"}]}}},{id:72,params:{title:"Основная информация",value:[{title:"ФИО",value:"Иванова Ольга Сергеевна"},{title:"Дата рождения",value:"1998-07-14"},{title:"Номер телефона",value:"+7 (998) 207-98-32"},{title:"Адрес",value:"г. Новосибирск, ул. Пушкина, д. 21, кв. 81"},{title:"Пол",value:"Женский"}]},modules:{education:{title:"Образование",value:[{title:"Среднее",value:"Колледж"},{title:"Бакалавриат",value:"Московский государственный технический университет имени Н. Э. Баумана (МГТУ)"},{title:"Магистратура",value:"Санкт-Петербургский государственный университет (СПбГУ)"}]},career:{title:"Карьера",value:[{title:"Стаж",value:"4 (в годах)"},{title:"Зарплата",value:"248293 руб."},{title:"Должность",value:"Разработчик"},{title:"Отдел",value:"IT"}]},family:{title:"Семья",value:[{title:"Отец",value:"Смирнов Александр Александрович"},{title:"Мать",value:"Кузнецова Мария Сергеевна"},{title:"Семейное положение",value:"замужем"}]}}},{id:73,params:{title:"Основная информация",value:[{title:"ФИО",value:"Кузнецов Иван Иванович"},{title:"Дата рождения",value:"1980-09-17"},{title:"Номер телефона",value:"+7 (913) 525-69-65"},{title:"Адрес",value:"г. Красноярск, ул. Пушкина, д. 30, кв. 99"},{title:"Пол",value:"Мужской"}]},modules:{education:{title:"Образование",value:[{title:"Среднее",value:"Колледж"},{title:"Бакалавриат",value:"Российский университет дружбы народов (РУДН)"}]},career:{title:"Карьера",value:[{title:"Стаж",value:"6 (в годах)"},{title:"Зарплата",value:"182448 руб."},{title:"Должность",value:"Консультант"},{title:"Отдел",value:"Бухгалтерия"}]},family:{title:"Семья",value:[{title:"Отец",value:"Смирнов Александр Петрович"},{title:"Мать",value:"Смирнова Елена Сергеевна"},{title:"Семейное положение",value:"разведен"}]}}},{id:74,params:{title:"Основная информация",value:[{title:"ФИО",value:"Петров Сергей Петрович"},{title:"Дата рождения",value:"2000-05-23"},{title:"Номер телефона",value:"+7 (949) 043-44-02"},{title:"Адрес",value:"г. Екатеринбург, ул. Пушкина, д. 49, кв. 110"},{title:"Пол",value:"Мужской"}]},modules:{education:{title:"Образование",value:[{title:"Среднее",value:"Колледж"}]},career:{title:"Карьера",value:[{title:"Стаж",value:"12 (в годах)"},{title:"Зарплата",value:"199822 руб."},{title:"Должность",value:"Специалист"},{title:"Отдел",value:"Производство"}]},family:{title:"Семья",value:[{title:"Отец",value:"Смирнов Иван Александрович"},{title:"Мать",value:"Петрова Светлана Ивановна"},{title:"Семейное положение",value:"холост"}]}}},{id:75,params:{title:"Основная информация",value:[{title:"ФИО",value:"Кузнецова Анна Петровна"},{title:"Дата рождения",value:"1970-08-09"},{title:"Номер телефона",value:"+7 (921) 828-38-84"},{title:"Адрес",value:"г. Новосибирск, ул. Ленина, д. 100, кв. 68"},{title:"Пол",value:"Женский"}]},modules:{education:{title:"Образование",value:[{title:"Среднее",value:"Колледж"},{title:"Бакалавриат",value:"Московский государственный технический университет имени Н. Э. Баумана (МГТУ)"}]},career:{title:"Карьера",value:[{title:"Стаж",value:"9 (в годах)"},{title:"Зарплата",value:"184637 руб."},{title:"Должность",value:"Директор"},{title:"Отдел",value:"Бухгалтерия"}]},family:{title:"Семья",value:[{title:"Отец",value:"Смирнов Сергей Сергеевич"},{title:"Мать",value:"Иванова Елена Михайловна"},{title:"Семейное положение",value:"замужем"}]}}},{id:76,params:{title:"Основная информация",value:[{title:"ФИО",value:"Смирнова Светлана Ивановна"},{title:"Дата рождения",value:"1976-05-07"},{title:"Номер телефона",value:"+7 (938) 094-89-00"},{title:"Адрес",value:"г. Красноярск, ул. Гагарина, д. 99, кв. 186"},{title:"Пол",value:"Женский"}]},modules:{education:{title:"Образование",value:[{title:"Среднее",value:"Колледж"},{title:"Бакалавриат",value:"Национальный исследовательский ядерный университет «МИФИ»"},{title:"Магистратура",value:"Московский государственный технический университет имени Н. Э. Баумана (МГТУ)"}]},career:{title:"Карьера",value:[{title:"Стаж",value:"6 (в годах)"},{title:"Зарплата",value:"258247 руб."},{title:"Должность",value:"Программист"},{title:"Отдел",value:"Бухгалтерия"}]},family:{title:"Семья",value:[{title:"Отец",value:"Кузнецов Михаил Михайлович"},{title:"Мать",value:"Иванова Елена Сергеевна"},{title:"Семейное положение",value:"разведена"}]}}},{id:77,params:{title:"Основная информация",value:[{title:"ФИО",value:"Сидорова Анна Ивановна"},{title:"Дата рождения",value:"2001-07-02"},{title:"Номер телефона",value:"+7 (962) 300-94-20"},{title:"Адрес",value:"г. Екатеринбург, ул. Гагарина, д. 72, кв. 12"},{title:"Пол",value:"Женский"}]},modules:{education:{title:"Образование",value:[{title:"Среднее",value:"Колледж"},{title:"Бакалавриат",value:"Национальный исследовательский технологический университет «МИСИС»"},{title:"Магистратура",value:"Санкт-Петербургский государственный университет (СПбГУ)"}]},career:{title:"Карьера",value:[{title:"Стаж",value:"9 (в годах)"},{title:"Зарплата",value:"90911 руб."},{title:"Должность",value:"Бухгалтер"},{title:"Отдел",value:"HR"}]},family:{title:"Семья",value:[{title:"Отец",value:"Петров Иван Михайлович"},{title:"Мать",value:"Сидорова Мария Ивановна"},{title:"Семейное положение",value:"разведена"}]}}},{id:78,params:{title:"Основная информация",value:[{title:"ФИО",value:"Петрова Анна Михайловна"},{title:"Дата рождения",value:"1990-08-08"},{title:"Номер телефона",value:"+7 (957) 176-65-25"},{title:"Адрес",value:"г. Красноярск, ул. Мира, д. 58, кв. 22"},{title:"Пол",value:"Женский"}]},modules:{education:{title:"Образование",value:[{title:"Среднее",value:"Колледж"},{title:"Бакалавриат",value:"Санкт-Петербургский государственный университет (СПбГУ)"}]},career:{title:"Карьера",value:[{title:"Стаж",value:"8 (в годах)"},{title:"Зарплата",value:"200055 руб."},{title:"Должность",value:"Консультант"},{title:"Отдел",value:"Кадры"}]},family:{title:"Семья",value:[{title:"Отец",value:"Сидоров Сергей Иванович"},{title:"Мать",value:"Кузнецова Ольга Сергеевна"},{title:"Семейное положение",value:"холоста"}]}}},{id:79,params:{title:"Основная информация",value:[{title:"ФИО",value:"Петров Михаил Иванович"},{title:"Дата рождения",value:"1995-12-14"},{title:"Номер телефона",value:"+7 (926) 167-36-95"},{title:"Адрес",value:"г. Екатеринбург, ул. Пушкина, д. 64, кв. 8"},{title:"Пол",value:"Мужской"}]},modules:{education:{title:"Образование",value:[{title:"Среднее",value:"Колледж"},{title:"Бакалавриат",value:"Московский физико-технический институт (МФТИ)"}]},career:{title:"Карьера",value:[{title:"Стаж",value:"2 (в годах)"},{title:"Зарплата",value:"67896 руб."},{title:"Должность",value:"Бухгалтер"},{title:"Отдел",value:"HR"}]},family:{title:"Семья",value:[{title:"Отец",value:"Петров Александр Петрович"},{title:"Мать",value:"Смирнова Светлана Ивановна"},{title:"Семейное положение",value:"разведен"}]}}},{id:80,params:{title:"Основная информация",value:[{title:"ФИО",value:"Иванова Елена Петровна"},{title:"Дата рождения",value:"1989-03-25"},{title:"Номер телефона",value:"+7 (937) 716-85-85"},{title:"Адрес",value:"г. Красноярск, ул. Мира, д. 43, кв. 94"},{title:"Пол",value:"Женский"}]},modules:{education:{title:"Образование",value:[{title:"Среднее",value:"Колледж"},{title:"Бакалавриат",value:"Национальный исследовательский университет «Высшая школа экономики» (НИУ ВШЭ)"},{title:"Магистратура",value:"Российская академия народного хозяйства и государственной службы (РАНХиГС)"}]},career:{title:"Карьера",value:[{title:"Стаж",value:"5 (в годах)"},{title:"Зарплата",value:"193476 руб."},{title:"Должность",value:"Администратор"},{title:"Отдел",value:"Бухгалтерия"}]},family:{title:"Семья",value:[{title:"Отец",value:"Смирнов Иван Михайлович"},{title:"Мать",value:"Иванова Светлана Ивановна"},{title:"Семейное положение",value:"холоста"}]}}},{id:81,params:{title:"Основная информация",value:[{title:"ФИО",value:"Сидоров Александр Александрович"},{title:"Дата рождения",value:"1987-03-06"},{title:"Номер телефона",value:"+7 (984) 936-29-86"},{title:"Адрес",value:"г. Красноярск, ул. Мира, д. 55, кв. 153"},{title:"Пол",value:"Мужской"}]},modules:{education:{title:"Образование",value:[{title:"Среднее",value:"Колледж"},{title:"Бакалавриат",value:"Университет ИТМО"},{title:"Магистратура",value:"Санкт-Петербургский государственный университет (СПбГУ)"}]},career:{title:"Карьера",value:[{title:"Стаж",value:"13 (в годах)"},{title:"Зарплата",value:"97528 руб."},{title:"Должность",value:"Менеджер"},{title:"Отдел",value:"Продажи"}]},family:{title:"Семья",value:[{title:"Отец",value:"Иванов Иван Сергеевич"},{title:"Мать",value:"Петрова Мария Петровна"},{title:"Семейное положение",value:"разведен"}]}}},{id:82,params:{title:"Основная информация",value:[{title:"ФИО",value:"Кузнецов Иван Иванович"},{title:"Дата рождения",value:"1974-04-20"},{title:"Номер телефона",value:"+7 (971) 767-76-96"},{title:"Адрес",value:"г. Красноярск, ул. Гагарина, д. 58, кв. 105"},{title:"Пол",value:"Мужской"}]},modules:{education:{title:"Образование",value:[{title:"Среднее",value:"Колледж"}]},career:{title:"Карьера",value:[{title:"Стаж",value:"3 (в годах)"},{title:"Зарплата",value:"38826 руб."},{title:"Должность",value:"Программист"},{title:"Отдел",value:"Маркетинг"}]},family:{title:"Семья",value:[{title:"Отец",value:"Кузнецов Александр Петрович"},{title:"Мать",value:"Иванова Анна Михайловна"},{title:"Семейное положение",value:"женат"}]}}},{id:83,params:{title:"Основная информация",value:[{title:"ФИО",value:"Сидоров Петр Сергеевич"},{title:"Дата рождения",value:"1989-10-28"},{title:"Номер телефона",value:"+7 (973) 625-46-97"},{title:"Адрес",value:"г. Санкт-Петербург, ул. Мира, д. 96, кв. 2"},{title:"Пол",value:"Мужской"}]},modules:{education:{title:"Образование",value:[{title:"Среднее",value:"Колледж"}]},career:{title:"Карьера",value:[{title:"Стаж",value:"14 (в годах)"},{title:"Зарплата",value:"43961 руб."},{title:"Должность",value:"Программист"},{title:"Отдел",value:"HR"}]},family:{title:"Семья",value:[{title:"Отец",value:"Кузнецов Петр Михайлович"},{title:"Мать",value:"Сидорова Елена Сергеевна"},{title:"Семейное положение",value:"разведен"}]}}},{id:84,params:{title:"Основная информация",value:[{title:"ФИО",value:"Иванова Елена Сергеевна"},{title:"Дата рождения",value:"1974-05-29"},{title:"Номер телефона",value:"+7 (955) 569-83-39"},{title:"Адрес",value:"г. Новосибирск, ул. Мира, д. 73, кв. 176"},{title:"Пол",value:"Женский"}]},modules:{education:{title:"Образование",value:[{title:"Среднее",value:"Колледж"}]},career:{title:"Карьера",value:[{title:"Стаж",value:"2 (в годах)"},{title:"Зарплата",value:"292583 руб."},{title:"Должность",value:"Администратор"},{title:"Отдел",value:"Бухгалтерия"}]},family:{title:"Семья",value:[{title:"Отец",value:"Смирнов Сергей Александрович"},{title:"Мать",value:"Смирнова Елена Сергеевна"},{title:"Семейное положение",value:"замужем"}]}}},{id:85,params:{title:"Основная информация",value:[{title:"ФИО",value:"Петров Александр Александрович"},{title:"Дата рождения",value:"1990-11-22"},{title:"Номер телефона",value:"+7 (984) 795-62-41"},{title:"Адрес",value:"г. Красноярск, ул. Ленина, д. 31, кв. 150"},{title:"Пол",value:"Мужской"}]},modules:{education:{title:"Образование",value:[{title:"Среднее",value:"Колледж"},{title:"Бакалавриат",value:"Национальный исследовательский ядерный университет «МИФИ»"}]},career:{title:"Карьера",value:[{title:"Стаж",value:"8 (в годах)"},{title:"Зарплата",value:"184451 руб."},{title:"Должность",value:"Разработчик"},{title:"Отдел",value:"Продажи"}]},family:{title:"Семья",value:[{title:"Отец",value:"Кузнецов Сергей Сергеевич"},{title:"Мать",value:"Иванова Елена Михайловна"},{title:"Семейное положение",value:"женат"}]}}},{id:86,params:{title:"Основная информация",value:[{title:"ФИО",value:"Иванов Иван Александрович"},{title:"Дата рождения",value:"1974-07-11"},{title:"Номер телефона",value:"+7 (912) 655-22-13"},{title:"Адрес",value:"г. Екатеринбург, ул. Комсомольская, д. 27, кв. 93"},{title:"Пол",value:"Мужской"}]},modules:{education:{title:"Образование",value:[{title:"Среднее",value:"Колледж"},{title:"Бакалавриат",value:"Первый Московский государственный медицинский университет имени И. М. Сеченова (Сеченовский Университет)"},{title:"Магистратура",value:"Университет ИТМО"}]},career:{title:"Карьера",value:[{title:"Стаж",value:"1 (в годах)"},{title:"Зарплата",value:"83943 руб."},{title:"Должность",value:"Администратор"},{title:"Отдел",value:"Финансы"}]},family:{title:"Семья",value:[{title:"Отец",value:"Кузнецов Сергей Иванович"},{title:"Мать",value:"Смирнова Мария Михайловна"},{title:"Семейное положение",value:"разведен"}]}}},{id:87,params:{title:"Основная информация",value:[{title:"ФИО",value:"Кузнецова Ольга Петровна"},{title:"Дата рождения",value:"2001-09-22"},{title:"Номер телефона",value:"+7 (970) 262-74-57"},{title:"Адрес",value:"г. Москва, ул. Мира, д. 74, кв. 187"},{title:"Пол",value:"Женский"}]},modules:{education:{title:"Образование",value:[{title:"Среднее",value:"Колледж"},{title:"Бакалавриат",value:"Санкт-Петербургский государственный университет (СПбГУ)"},{title:"Магистратура",value:"Санкт-Петербургский государственный университет (СПбГУ)"}]},career:{title:"Карьера",value:[{title:"Стаж",value:"4 (в годах)"},{title:"Зарплата",value:"106175 руб."},{title:"Должность",value:"Директор"},{title:"Отдел",value:"Продажи"}]},family:{title:"Семья",value:[{title:"Отец",value:"Петров Михаил Сергеевич"},{title:"Мать",value:"Иванова Мария Сергеевна"},{title:"Семейное положение",value:"холоста"}]}}},{id:88,params:{title:"Основная информация",value:[{title:"ФИО",value:"Петрова Ольга Александровна"},{title:"Дата рождения",value:"1974-08-04"},{title:"Номер телефона",value:"+7 (933) 238-76-85"},{title:"Адрес",value:"г. Санкт-Петербург, ул. Пушкина, д. 88, кв. 30"},{title:"Пол",value:"Женский"}]},modules:{education:{title:"Образование",value:[{title:"Среднее",value:"Колледж"},{title:"Бакалавриат",value:"Университет ИТМО"}]},career:{title:"Карьера",value:[{title:"Стаж",value:"10 (в годах)"},{title:"Зарплата",value:"128688 руб."},{title:"Должность",value:"Аналитик"},{title:"Отдел",value:"Кадры"}]},family:{title:"Семья",value:[{title:"Отец",value:"Сидоров Иван Иванович"},{title:"Мать",value:"Петрова Ольга Михайловна"},{title:"Семейное положение",value:"замужем"}]}}},{id:89,params:{title:"Основная информация",value:[{title:"ФИО",value:"Кузнецов Александр Михайлович"},{title:"Дата рождения",value:"1978-06-21"},{title:"Номер телефона",value:"+7 (972) 677-83-21"},{title:"Адрес",value:"г. Красноярск, ул. Ленина, д. 98, кв. 51"},{title:"Пол",value:"Мужской"}]},modules:{education:{title:"Образование",value:[{title:"Среднее",value:"Колледж"}]},career:{title:"Карьера",value:[{title:"Стаж",value:"15 (в годах)"},{title:"Зарплата",value:"270198 руб."},{title:"Должность",value:"Программист"},{title:"Отдел",value:"Бухгалтерия"}]},family:{title:"Семья",value:[{title:"Отец",value:"Сидоров Александр Сергеевич"},{title:"Мать",value:"Петрова Елена Петровна"},{title:"Семейное положение",value:"разведен"}]}}},{id:90,params:{title:"Основная информация",value:[{title:"ФИО",value:"Иванов Александр Александрович"},{title:"Дата рождения",value:"1981-07-17"},{title:"Номер телефона",value:"+7 (902) 171-94-84"},{title:"Адрес",value:"г. Екатеринбург, ул. Гагарина, д. 41, кв. 135"},{title:"Пол",value:"Мужской"}]},modules:{education:{title:"Образование",value:[{title:"Среднее",value:"Колледж"},{title:"Бакалавриат",value:"Московский государственный технический университет имени Н. Э. Баумана (МГТУ)"},{title:"Магистратура",value:"Российский университет дружбы народов (РУДН)"}]},career:{title:"Карьера",value:[{title:"Стаж",value:"13 (в годах)"},{title:"Зарплата",value:"87150 руб."},{title:"Должность",value:"Программист"},{title:"Отдел",value:"HR"}]},family:{title:"Семья",value:[{title:"Отец",value:"Смирнов Сергей Александрович"},{title:"Мать",value:"Кузнецова Анна Сергеевна"},{title:"Семейное положение",value:"разведен"}]}}},{id:91,params:{title:"Основная информация",value:[{title:"ФИО",value:"Смирнова Светлана Сергеевна"},{title:"Дата рождения",value:"1980-01-10"},{title:"Номер телефона",value:"+7 (999) 353-22-24"},{title:"Адрес",value:"г. Санкт-Петербург, ул. Мира, д. 77, кв. 42"},{title:"Пол",value:"Женский"}]},modules:{education:{title:"Образование",value:[{title:"Среднее",value:"Колледж"},{title:"Бакалавриат",value:"Первый Московский государственный медицинский университет имени И. М. Сеченова (Сеченовский Университет)"},{title:"Магистратура",value:"Университет ИТМО"}]},career:{title:"Карьера",value:[{title:"Стаж",value:"2 (в годах)"},{title:"Зарплата",value:"148262 руб."},{title:"Должность",value:"Консультант"},{title:"Отдел",value:"IT"}]},family:{title:"Семья",value:[{title:"Отец",value:"Иванов Михаил Михайлович"},{title:"Мать",value:"Иванова Ольга Михайловна"},{title:"Семейное положение",value:"замужем"}]}}},{id:92,params:{title:"Основная информация",value:[{title:"ФИО",value:"Кузнецов Петр Иванович"},{title:"Дата рождения",value:"1972-10-10"},{title:"Номер телефона",value:"+7 (905) 587-99-07"},{title:"Адрес",value:"г. Красноярск, ул. Комсомольская, д. 34, кв. 153"},{title:"Пол",value:"Мужской"}]},modules:{education:{title:"Образование",value:[{title:"Среднее",value:"Колледж"}]},career:{title:"Карьера",value:[{title:"Стаж",value:"8 (в годах)"},{title:"Зарплата",value:"226042 руб."},{title:"Должность",value:"Консультант"},{title:"Отдел",value:"HR"}]},family:{title:"Семья",value:[{title:"Отец",value:"Иванов Сергей Сергеевич"},{title:"Мать",value:"Кузнецова Анна Ивановна"},{title:"Семейное положение",value:"разведен"}]}}},{id:93,params:{title:"Основная информация",value:[{title:"ФИО",value:"Смирнова Ольга Сергеевна"},{title:"Дата рождения",value:"1985-04-07"},{title:"Номер телефона",value:"+7 (985) 146-88-97"},{title:"Адрес",value:"г. Красноярск, ул. Мира, д. 86, кв. 32"},{title:"Пол",value:"Женский"}]},modules:{education:{title:"Образование",value:[{title:"Среднее",value:"Колледж"},{title:"Бакалавриат",value:"Национальный исследовательский университет «Высшая школа экономики» (НИУ ВШЭ)"},{title:"Магистратура",value:"Национальный исследовательский ядерный университет «МИФИ»"}]},career:{title:"Карьера",value:[{title:"Стаж",value:"6 (в годах)"},{title:"Зарплата",value:"35846 руб."},{title:"Должность",value:"Программист"},{title:"Отдел",value:"Кадры"}]},family:{title:"Семья",value:[{title:"Отец",value:"Кузнецов Александр Сергеевич"},{title:"Мать",value:"Смирнова Анна Александровна"},{title:"Семейное положение",value:"холоста"}]}}},{id:94,params:{title:"Основная информация",value:[{title:"ФИО",value:"Петров Иван Сергеевич"},{title:"Дата рождения",value:"2001-01-14"},{title:"Номер телефона",value:"+7 (905) 934-60-54"},{title:"Адрес",value:"г. Екатеринбург, ул. Ленина, д. 12, кв. 30"},{title:"Пол",value:"Мужской"}]},modules:{education:{title:"Образование",value:[{title:"Среднее",value:"Колледж"}]},career:{title:"Карьера",value:[{title:"Стаж",value:"9 (в годах)"},{title:"Зарплата",value:"205739 руб."},{title:"Должность",value:"Менеджер"},{title:"Отдел",value:"Кадры"}]},family:{title:"Семья",value:[{title:"Отец",value:"Смирнов Сергей Петрович"},{title:"Мать",value:"Сидорова Елена Михайловна"},{title:"Семейное положение",value:"разведен"}]}}},{id:95,params:{title:"Основная информация",value:[{title:"ФИО",value:"Сидоров Михаил Иванович"},{title:"Дата рождения",value:"1993-12-30"},{title:"Номер телефона",value:"+7 (935) 734-36-53"},{title:"Адрес",value:"г. Екатеринбург, ул. Пушкина, д. 37, кв. 95"},{title:"Пол",value:"Мужской"}]},modules:{education:{title:"Образование",value:[{title:"Среднее",value:"Колледж"}]},career:{title:"Карьера",value:[{title:"Стаж",value:"3 (в годах)"},{title:"Зарплата",value:"217874 руб."},{title:"Должность",value:"Аналитик"},{title:"Отдел",value:"Кадры"}]},family:{title:"Семья",value:[{title:"Отец",value:"Иванов Александр Петрович"},{title:"Мать",value:"Петрова Елена Михайловна"},{title:"Семейное положение",value:"разведен"}]}}},{id:96,params:{title:"Основная информация",value:[{title:"ФИО",value:"Петрова Ольга Петровна"},{title:"Дата рождения",value:"1990-03-19"},{title:"Номер телефона",value:"+7 (989) 878-02-32"},{title:"Адрес",value:"г. Красноярск, ул. Комсомольская, д. 91, кв. 158"},{title:"Пол",value:"Женский"}]},modules:{education:{title:"Образование",value:[{title:"Среднее",value:"Колледж"},{title:"Бакалавриат",value:"Университет ИТМО"},{title:"Магистратура",value:"Национальный исследовательский университет «Высшая школа экономики» (НИУ ВШЭ)"}]},career:{title:"Карьера",value:[{title:"Стаж",value:"1 (в годах)"},{title:"Зарплата",value:"164339 руб."},{title:"Должность",value:"Программист"},{title:"Отдел",value:"Кадры"}]},family:{title:"Семья",value:[{title:"Отец",value:"Иванов Михаил Александрович"},{title:"Мать",value:"Кузнецова Ольга Петровна"},{title:"Семейное положение",value:"разведена"}]}}},{id:97,params:{title:"Основная информация",value:[{title:"ФИО",value:"Сидорова Елена Ивановна"},{title:"Дата рождения",value:"1986-01-02"},{title:"Номер телефона",value:"+7 (904) 083-56-85"},{title:"Адрес",value:"г. Екатеринбург, ул. Мира, д. 19, кв. 106"},{title:"Пол",value:"Женский"}]},modules:{education:{title:"Образование",value:[{title:"Среднее",value:"Колледж"},{title:"Бакалавриат",value:"Национальный исследовательский технологический университет «МИСИС»"}]},career:{title:"Карьера",value:[{title:"Стаж",value:"5 (в годах)"},{title:"Зарплата",value:"69017 руб."},{title:"Должность",value:"Специалист"},{title:"Отдел",value:"IT"}]},family:{title:"Семья",value:[{title:"Отец",value:"Иванов Петр Михайлович"},{title:"Мать",value:"Кузнецова Светлана Сергеевна"},{title:"Семейное положение",value:"холоста"}]}}},{id:98,params:{title:"Основная информация",value:[{title:"ФИО",value:"Кузнецова Светлана Сергеевна"},{title:"Дата рождения",value:"1995-02-05"},{title:"Номер телефона",value:"+7 (979) 347-38-32"},{title:"Адрес",value:"г. Екатеринбург, ул. Пушкина, д. 82, кв. 130"},{title:"Пол",value:"Женский"}]},modules:{education:{title:"Образование",value:[{title:"Среднее",value:"Колледж"}]},career:{title:"Карьера",value:[{title:"Стаж",value:"7 (в годах)"},{title:"Зарплата",value:"65865 руб."},{title:"Должность",value:"Консультант"},{title:"Отдел",value:"Бухгалтерия"}]},family:{title:"Семья",value:[{title:"Отец",value:"Смирнов Михаил Александрович"},{title:"Мать",value:"Сидорова Светлана Сергеевна"},{title:"Семейное положение",value:"разведена"}]}}},{id:99,params:{title:"Основная информация",value:[{title:"ФИО",value:"Сидорова Елена Петровна"},{title:"Дата рождения",value:"1988-08-15"},{title:"Номер телефона",value:"+7 (991) 436-79-56"},{title:"Адрес",value:"г. Красноярск, ул. Пушкина, д. 55, кв. 80"},{title:"Пол",value:"Женский"}]},modules:{education:{title:"Образование",value:[{title:"Среднее",value:"Колледж"},{title:"Бакалавриат",value:"Санкт-Петербургский государственный университет (СПбГУ)"},{title:"Магистратура",value:"Санкт-Петербургский государственный университет (СПбГУ)"}]},career:{title:"Карьера",value:[{title:"Стаж",value:"1 (в годах)"},{title:"Зарплата",value:"206626 руб."},{title:"Должность",value:"Бухгалтер"},{title:"Отдел",value:"IT"}]},family:{title:"Семья",value:[{title:"Отец",value:"Смирнов Иван Иванович"},{title:"Мать",value:"Сидорова Анна Сергеевна"},{title:"Семейное положение",value:"разведена"}]}}},{id:100,params:{title:"Основная информация",value:[{title:"ФИО",value:"Иванова Елена Ивановна"},{title:"Дата рождения",value:"1984-07-10"},{title:"Номер телефона",value:"+7 (928) 556-73-22"},{title:"Адрес",value:"г. Москва, ул. Пушкина, д. 65, кв. 177"},{title:"Пол",value:"Женский"}]},modules:{education:{title:"Образование",value:[{title:"Среднее",value:"Колледж"},{title:"Бакалавриат",value:"Национальный исследовательский технологический университет «МИСИС»"},{title:"Магистратура",value:"Национальный исследовательский университет «Высшая школа экономики» (НИУ ВШЭ)"}]},career:{title:"Карьера",value:[{title:"Стаж",value:"12 (в годах)"},{title:"Зарплата",value:"114253 руб."},{title:"Должность",value:"Директор"},{title:"Отдел",value:"Кадры"}]},family:{title:"Семья",value:[{title:"Отец",value:"Иванов Михаил Михайлович"},{title:"Мать",value:"Петрова Ольга Петровна"},{title:"Семейное положение",value:"замужем"}]}}}];function Pge(){const n=m6(),t=()=>{if(n.pathname==="/")return[B.jsx(Ss,{color:"inherit",href:"/edm-system#",sx:{color:"white",fontWeight:"bold"},children:"Главная"},"home")];if(n.pathname.startsWith("/user/")){const e=n.pathname.slice(6),r=Gg.find(i=>i.id===parseInt(e));return console.log(e),[B.jsx(Ss,{color:"inherit",href:"/edm-system#",sx:{color:"white",fontWeight:"bold"},children:"Главная"},"home"),B.jsx(Ss,{color:"inherit",href:`/edm-system#/user/${e}`,sx:{color:"white",fontWeight:"bold"},children:r?r.params.value.find(i=>i.title==="ФИО").value:"Пользователь"},"user")]}};return B.jsx(Zhe,{separator:B.jsx(J9,{fontSize:"small",sx:{color:"white"}}),"aria-label":"breadcrumb",children:t()})}const Age=()=>B.jsx(Ede,{position:"static",children:B.jsxs(Cge,{children:[B.jsx(dde,{edge:"start",color:"inherit","aria-label":"menu",children:B.jsx(v9,{})}),B.jsx(Pge,{})]})}),Ku="DEFAULT_X_AXIS_KEY",vS="DEFAULT_Y_AXIS_KEY",Dge={top:50,bottom:50,left:50,right:50},Mge=(n,t,e)=>{const r=k({},Dge,e);return I.useMemo(()=>({left:r.left,top:r.top,right:r.right,bottom:r.bottom,width:Math.max(0,n-r.left-r.right),height:Math.max(0,t-r.top-r.bottom)}),[n,t,r.top,r.bottom,r.left,r.right])},qd=I.createContext({top:0,left:0,bottom:0,right:0,height:300,width:400}),zN=I.createContext({current:null});function Fge(n){const{width:t,height:e,margin:r,svgRef:i,children:o}=n,a=Mge(t,e,r);return B.jsx(zN.Provider,{value:i,children:B.jsx(qd.Provider,{value:a,children:o})})}function lt(n){return function(){return n}}const Lj=Math.abs,ri=Math.atan2,_u=Math.cos,Lge=Math.max,uA=Math.min,Yi=Math.sin,zn=Math.sqrt,oi=1e-12,kd=Math.PI,cb=kd/2,bd=2*kd;function Ige(n){return n>1?0:n<-1?kd:Math.acos(n)}function Ij(n){return n>=1?cb:n<=-1?-cb:Math.asin(n)}const qF=Math.PI,ZF=2*qF,Vp=1e-6,Nge=ZF-Vp;function e8(n){this._+=n[0];for(let t=1,e=n.length;t<e;++t)this._+=arguments[t]+n[t]}function kge(n){let t=Math.floor(n);if(!(t>=0))throw new Error(`invalid digits: ${n}`);if(t>15)return e8;const e=10**t;return function(r){this._+=r[0];for(let i=1,o=r.length;i<o;++i)this._+=Math.round(arguments[i]*e)/e+r[i]}}let Gge=class{constructor(t){this._x0=this._y0=this._x1=this._y1=null,this._="",this._append=t==null?e8:kge(t)}moveTo(t,e){this._append`M${this._x0=this._x1=+t},${this._y0=this._y1=+e}`}closePath(){this._x1!==null&&(this._x1=this._x0,this._y1=this._y0,this._append`Z`)}lineTo(t,e){this._append`L${this._x1=+t},${this._y1=+e}`}quadraticCurveTo(t,e,r,i){this._append`Q${+t},${+e},${this._x1=+r},${this._y1=+i}`}bezierCurveTo(t,e,r,i,o,a){this._append`C${+t},${+e},${+r},${+i},${this._x1=+o},${this._y1=+a}`}arcTo(t,e,r,i,o){if(t=+t,e=+e,r=+r,i=+i,o=+o,o<0)throw new Error(`negative radius: ${o}`);let a=this._x1,s=this._y1,l=r-t,u=i-e,c=a-t,d=s-e,p=c*c+d*d;if(this._x1===null)this._append`M${this._x1=t},${this._y1=e}`;else if(p>Vp)if(!(Math.abs(d*l-u*c)>Vp)||!o)this._append`L${this._x1=t},${this._y1=e}`;else{let h=r-a,f=i-s,v=l*l+u*u,g=h*h+f*f,y=Math.sqrt(v),m=Math.sqrt(p),C=o*Math.tan((qF-Math.acos((v+p-g)/(2*y*m)))/2),S=C/m,w=C/y;Math.abs(S-1)>Vp&&this._append`L${t+S*c},${e+S*d}`,this._append`A${o},${o},0,0,${+(d*h>c*f)},${this._x1=t+w*l},${this._y1=e+w*u}`}}arc(t,e,r,i,o,a){if(t=+t,e=+e,r=+r,a=!!a,r<0)throw new Error(`negative radius: ${r}`);let s=r*Math.cos(i),l=r*Math.sin(i),u=t+s,c=e+l,d=1^a,p=a?i-o:o-i;this._x1===null?this._append`M${u},${c}`:(Math.abs(this._x1-u)>Vp||Math.abs(this._y1-c)>Vp)&&this._append`L${u},${c}`,r&&(p<0&&(p=p%ZF+ZF),p>Nge?this._append`A${r},${r},0,1,${d},${t-s},${e-l}A${r},${r},0,1,${d},${this._x1=u},${this._y1=c}`:p>Vp&&this._append`A${r},${r},0,${+(p>=qF)},${d},${this._x1=t+r*Math.cos(o)},${this._y1=e+r*Math.sin(o)}`)}rect(t,e,r,i){this._append`M${this._x0=this._x1=+t},${this._y0=this._y1=+e}h${r=+r}v${+i}h${-r}Z`}toString(){return this._}};function nT(n){let t=3;return n.digits=function(e){if(!arguments.length)return t;if(e==null)t=null;else{const r=Math.floor(e);if(!(r>=0))throw new RangeError(`invalid digits: ${e}`);t=r}return n},()=>new Gge(t)}function Vge(n){return n.innerRadius}function Bge(n){return n.outerRadius}function Hge(n){return n.startAngle}function jge(n){return n.endAngle}function $ge(n){return n&&n.padAngle}function Wge(n,t,e,r,i,o,a,s){var l=e-n,u=r-t,c=a-i,d=s-o,p=d*l-c*u;if(!(p*p<oi))return p=(c*(t-o)-d*(n-i))/p,[n+p*l,t+p*u]}function z0(n,t,e,r,i,o,a){var s=n-e,l=t-r,u=(a?o:-o)/zn(s*s+l*l),c=u*l,d=-u*s,p=n+c,h=t+d,f=e+c,v=r+d,g=(p+f)/2,y=(h+v)/2,m=f-p,C=v-h,S=m*m+C*C,w=i-o,_=p*v-f*h,x=(C<0?-1:1)*zn(Lge(0,w*w*S-_*_)),b=(_*C-m*x)/S,O=(-_*m-C*x)/S,T=(_*C+m*x)/S,A=(-_*m+C*x)/S,N=b-g,M=O-y,L=T-g,G=A-y;return N*N+M*M>L*L+G*G&&(b=T,O=A),{cx:b,cy:O,x01:-c,y01:-d,x11:b*(i/w-1),y11:O*(i/w-1)}}function t8(){var n=Vge,t=Bge,e=lt(0),r=null,i=Hge,o=jge,a=$ge,s=null,l=nT(u);function u(){var c,d,p=+n.apply(this,arguments),h=+t.apply(this,arguments),f=i.apply(this,arguments)-cb,v=o.apply(this,arguments)-cb,g=Lj(v-f),y=v>f;if(s||(s=c=l()),h<p&&(d=h,h=p,p=d),!(h>oi))s.moveTo(0,0);else if(g>bd-oi)s.moveTo(h*_u(f),h*Yi(f)),s.arc(0,0,h,f,v,!y),p>oi&&(s.moveTo(p*_u(v),p*Yi(v)),s.arc(0,0,p,v,f,y));else{var m=f,C=v,S=f,w=v,_=g,x=g,b=a.apply(this,arguments)/2,O=b>oi&&(r?+r.apply(this,arguments):zn(p*p+h*h)),T=uA(Lj(h-p)/2,+e.apply(this,arguments)),A=T,N=T,M,L;if(O>oi){var G=Ij(O/p*Yi(b)),H=Ij(O/h*Yi(b));(_-=G*2)>oi?(G*=y?1:-1,S+=G,w-=G):(_=0,S=w=(f+v)/2),(x-=H*2)>oi?(H*=y?1:-1,m+=H,C-=H):(x=0,m=C=(f+v)/2)}var j=h*_u(m),V=h*Yi(m),W=p*_u(w),K=p*Yi(w);if(T>oi){var ee=h*_u(C),Z=h*Yi(C),se=p*_u(S),ie=p*Yi(S),re;if(g<kd)if(re=Wge(j,V,se,ie,ee,Z,W,K)){var Y=j-re[0],le=V-re[1],ye=ee-re[0],Q=Z-re[1],he=1/Yi(Ige((Y*ye+le*Q)/(zn(Y*Y+le*le)*zn(ye*ye+Q*Q)))/2),ue=zn(re[0]*re[0]+re[1]*re[1]);A=uA(T,(p-ue)/(he-1)),N=uA(T,(h-ue)/(he+1))}else A=N=0}x>oi?N>oi?(M=z0(se,ie,j,V,h,N,y),L=z0(ee,Z,W,K,h,N,y),s.moveTo(M.cx+M.x01,M.cy+M.y01),N<T?s.arc(M.cx,M.cy,N,ri(M.y01,M.x01),ri(L.y01,L.x01),!y):(s.arc(M.cx,M.cy,N,ri(M.y01,M.x01),ri(M.y11,M.x11),!y),s.arc(0,0,h,ri(M.cy+M.y11,M.cx+M.x11),ri(L.cy+L.y11,L.cx+L.x11),!y),s.arc(L.cx,L.cy,N,ri(L.y11,L.x11),ri(L.y01,L.x01),!y))):(s.moveTo(j,V),s.arc(0,0,h,m,C,!y)):s.moveTo(j,V),!(p>oi)||!(_>oi)?s.lineTo(W,K):A>oi?(M=z0(W,K,ee,Z,p,-A,y),L=z0(j,V,se,ie,p,-A,y),s.lineTo(M.cx+M.x01,M.cy+M.y01),A<T?s.arc(M.cx,M.cy,A,ri(M.y01,M.x01),ri(L.y01,L.x01),!y):(s.arc(M.cx,M.cy,A,ri(M.y01,M.x01),ri(M.y11,M.x11),!y),s.arc(0,0,p,ri(M.cy+M.y11,M.cx+M.x11),ri(L.cy+L.y11,L.cx+L.x11),y),s.arc(L.cx,L.cy,A,ri(L.y11,L.x11),ri(L.y01,L.x01),!y))):s.arc(0,0,p,w,S,y)}if(s.closePath(),c)return s=null,c+""||null}return u.centroid=function(){var c=(+n.apply(this,arguments)+ +t.apply(this,arguments))/2,d=(+i.apply(this,arguments)+ +o.apply(this,arguments))/2-kd/2;return[_u(d)*c,Yi(d)*c]},u.innerRadius=function(c){return arguments.length?(n=typeof c=="function"?c:lt(+c),u):n},u.outerRadius=function(c){return arguments.length?(t=typeof c=="function"?c:lt(+c),u):t},u.cornerRadius=function(c){return arguments.length?(e=typeof c=="function"?c:lt(+c),u):e},u.padRadius=function(c){return arguments.length?(r=c==null?null:typeof c=="function"?c:lt(+c),u):r},u.startAngle=function(c){return arguments.length?(i=typeof c=="function"?c:lt(+c),u):i},u.endAngle=function(c){return arguments.length?(o=typeof c=="function"?c:lt(+c),u):o},u.padAngle=function(c){return arguments.length?(a=typeof c=="function"?c:lt(+c),u):a},u.context=function(c){return arguments.length?(s=c??null,u):s},u}function iT(n){return typeof n=="object"&&"length"in n?n:Array.from(n)}function r8(n){this._context=n}r8.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(n,t){switch(n=+n,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(n,t):this._context.moveTo(n,t);break;case 1:this._point=2;default:this._context.lineTo(n,t);break}}};function KN(n){return new r8(n)}function n8(n){return n[0]}function i8(n){return n[1]}function o8(n,t){var e=lt(!0),r=null,i=KN,o=null,a=nT(s);n=typeof n=="function"?n:n===void 0?n8:lt(n),t=typeof t=="function"?t:t===void 0?i8:lt(t);function s(l){var u,c=(l=iT(l)).length,d,p=!1,h;for(r==null&&(o=i(h=a())),u=0;u<=c;++u)!(u<c&&e(d=l[u],u,l))===p&&((p=!p)?o.lineStart():o.lineEnd()),p&&o.point(+n(d,u,l),+t(d,u,l));if(h)return o=null,h+""||null}return s.x=function(l){return arguments.length?(n=typeof l=="function"?l:lt(+l),s):n},s.y=function(l){return arguments.length?(t=typeof l=="function"?l:lt(+l),s):t},s.defined=function(l){return arguments.length?(e=typeof l=="function"?l:lt(!!l),s):e},s.curve=function(l){return arguments.length?(i=l,r!=null&&(o=i(r)),s):i},s.context=function(l){return arguments.length?(l==null?r=o=null:o=i(r=l),s):r},s}function Uge(n,t,e){var r=null,i=lt(!0),o=null,a=KN,s=null,l=nT(u);n=typeof n=="function"?n:n===void 0?n8:lt(+n),t=typeof t=="function"?t:lt(t===void 0?0:+t),e=typeof e=="function"?e:e===void 0?i8:lt(+e);function u(d){var p,h,f,v=(d=iT(d)).length,g,y=!1,m,C=new Array(v),S=new Array(v);for(o==null&&(s=a(m=l())),p=0;p<=v;++p){if(!(p<v&&i(g=d[p],p,d))===y)if(y=!y)h=p,s.areaStart(),s.lineStart();else{for(s.lineEnd(),s.lineStart(),f=p-1;f>=h;--f)s.point(C[f],S[f]);s.lineEnd(),s.areaEnd()}y&&(C[p]=+n(g,p,d),S[p]=+t(g,p,d),s.point(r?+r(g,p,d):C[p],e?+e(g,p,d):S[p]))}if(m)return s=null,m+""||null}function c(){return o8().defined(i).curve(a).context(o)}return u.x=function(d){return arguments.length?(n=typeof d=="function"?d:lt(+d),r=null,u):n},u.x0=function(d){return arguments.length?(n=typeof d=="function"?d:lt(+d),u):n},u.x1=function(d){return arguments.length?(r=d==null?null:typeof d=="function"?d:lt(+d),u):r},u.y=function(d){return arguments.length?(t=typeof d=="function"?d:lt(+d),e=null,u):t},u.y0=function(d){return arguments.length?(t=typeof d=="function"?d:lt(+d),u):t},u.y1=function(d){return arguments.length?(e=d==null?null:typeof d=="function"?d:lt(+d),u):e},u.lineX0=u.lineY0=function(){return c().x(n).y(t)},u.lineY1=function(){return c().x(n).y(e)},u.lineX1=function(){return c().x(r).y(t)},u.defined=function(d){return arguments.length?(i=typeof d=="function"?d:lt(!!d),u):i},u.curve=function(d){return arguments.length?(a=d,o!=null&&(s=a(o)),u):a},u.context=function(d){return arguments.length?(d==null?o=s=null:s=a(o=d),u):o},u}function zge(n,t){return t<n?-1:t>n?1:t>=n?0:NaN}function Kge(n){return n}function Yge(){var n=Kge,t=zge,e=null,r=lt(0),i=lt(bd),o=lt(0);function a(s){var l,u=(s=iT(s)).length,c,d,p=0,h=new Array(u),f=new Array(u),v=+r.apply(this,arguments),g=Math.min(bd,Math.max(-bd,i.apply(this,arguments)-v)),y,m=Math.min(Math.abs(g)/u,o.apply(this,arguments)),C=m*(g<0?-1:1),S;for(l=0;l<u;++l)(S=f[h[l]=l]=+n(s[l],l,s))>0&&(p+=S);for(t!=null?h.sort(function(w,_){return t(f[w],f[_])}):e!=null&&h.sort(function(w,_){return e(s[w],s[_])}),l=0,d=p?(g-u*C)/p:0;l<u;++l,v=y)c=h[l],S=f[c],y=v+(S>0?S*d:0)+C,f[c]={data:s[c],index:l,value:S,startAngle:v,endAngle:y,padAngle:m};return f}return a.value=function(s){return arguments.length?(n=typeof s=="function"?s:lt(+s),a):n},a.sortValues=function(s){return arguments.length?(t=s,e=null,a):t},a.sort=function(s){return arguments.length?(e=s,t=null,a):e},a.startAngle=function(s){return arguments.length?(r=typeof s=="function"?s:lt(+s),a):r},a.endAngle=function(s){return arguments.length?(i=typeof s=="function"?s:lt(+s),a):i},a.padAngle=function(s){return arguments.length?(o=typeof s=="function"?s:lt(+s),a):o},a}const a8={draw(n,t){const e=zn(t/kd);n.moveTo(e,0),n.arc(0,0,e,0,bd)}},Xge={draw(n,t){const e=zn(t/5)/2;n.moveTo(-3*e,-e),n.lineTo(-e,-e),n.lineTo(-e,-3*e),n.lineTo(e,-3*e),n.lineTo(e,-e),n.lineTo(3*e,-e),n.lineTo(3*e,e),n.lineTo(e,e),n.lineTo(e,3*e),n.lineTo(-e,3*e),n.lineTo(-e,e),n.lineTo(-3*e,e),n.closePath()}},s8=zn(1/3),qge=s8*2,Zge={draw(n,t){const e=zn(t/qge),r=e*s8;n.moveTo(0,-e),n.lineTo(r,0),n.lineTo(0,e),n.lineTo(-r,0),n.closePath()}},Qge={draw(n,t){const e=zn(t),r=-e/2;n.rect(r,r,e,e)}},Jge=.8908130915292852,l8=Yi(kd/10)/Yi(7*kd/10),eye=Yi(bd/10)*l8,tye=-_u(bd/10)*l8,rye={draw(n,t){const e=zn(t*Jge),r=eye*e,i=tye*e;n.moveTo(0,-e),n.lineTo(r,i);for(let o=1;o<5;++o){const a=bd*o/5,s=_u(a),l=Yi(a);n.lineTo(l*e,-s*e),n.lineTo(s*r-l*i,l*r+s*i)}n.closePath()}},cA=zn(3),nye={draw(n,t){const e=-zn(t/(cA*3));n.moveTo(0,e*2),n.lineTo(-cA*e,-e),n.lineTo(cA*e,-e),n.closePath()}},va=-.5,ga=zn(3)/2,QF=1/zn(12),iye=(QF/2+1)*3,oye={draw(n,t){const e=zn(t/iye),r=e/2,i=e*QF,o=r,a=e*QF+e,s=-o,l=a;n.moveTo(r,i),n.lineTo(o,a),n.lineTo(s,l),n.lineTo(va*r-ga*i,ga*r+va*i),n.lineTo(va*o-ga*a,ga*o+va*a),n.lineTo(va*s-ga*l,ga*s+va*l),n.lineTo(va*r+ga*i,va*i-ga*r),n.lineTo(va*o+ga*a,va*a-ga*o),n.lineTo(va*s+ga*l,va*l-ga*s),n.closePath()}},aye=[a8,Xge,Zge,Qge,rye,nye,oye];function sye(n,t){let e=null,r=nT(i);n=typeof n=="function"?n:lt(n||a8),t=typeof t=="function"?t:lt(t===void 0?64:+t);function i(){let o;if(e||(e=o=r()),n.apply(this,arguments).draw(e,+t.apply(this,arguments)),o)return e=null,o+""||null}return i.type=function(o){return arguments.length?(n=typeof o=="function"?o:lt(o),i):n},i.size=function(o){return arguments.length?(t=typeof o=="function"?o:lt(+o),i):t},i.context=function(o){return arguments.length?(e=o??null,i):e},i}function Nj(n,t,e){n._context.bezierCurveTo(n._x1+n._k*(n._x2-n._x0),n._y1+n._k*(n._y2-n._y0),n._x2+n._k*(n._x1-t),n._y2+n._k*(n._y1-e),n._x2,n._y2)}function YN(n,t){this._context=n,this._k=(1-t)/6}YN.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x2,this._y2);break;case 3:Nj(this,this._x1,this._y1);break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(n,t){switch(n=+n,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(n,t):this._context.moveTo(n,t);break;case 1:this._point=2,this._x1=n,this._y1=t;break;case 2:this._point=3;default:Nj(this,n,t);break}this._x0=this._x1,this._x1=this._x2,this._x2=n,this._y0=this._y1,this._y1=this._y2,this._y2=t}};(function n(t){function e(r){return new YN(r,t)}return e.tension=function(r){return n(+r)},e})(0);function lye(n,t,e){var r=n._x1,i=n._y1,o=n._x2,a=n._y2;if(n._l01_a>oi){var s=2*n._l01_2a+3*n._l01_a*n._l12_a+n._l12_2a,l=3*n._l01_a*(n._l01_a+n._l12_a);r=(r*s-n._x0*n._l12_2a+n._x2*n._l01_2a)/l,i=(i*s-n._y0*n._l12_2a+n._y2*n._l01_2a)/l}if(n._l23_a>oi){var u=2*n._l23_2a+3*n._l23_a*n._l12_a+n._l12_2a,c=3*n._l23_a*(n._l23_a+n._l12_a);o=(o*u+n._x1*n._l23_2a-t*n._l12_2a)/c,a=(a*u+n._y1*n._l23_2a-e*n._l12_2a)/c}n._context.bezierCurveTo(r,i,o,a,n._x2,n._y2)}function u8(n,t){this._context=n,this._alpha=t}u8.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN,this._l01_a=this._l12_a=this._l23_a=this._l01_2a=this._l12_2a=this._l23_2a=this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x2,this._y2);break;case 3:this.point(this._x2,this._y2);break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(n,t){if(n=+n,t=+t,this._point){var e=this._x2-n,r=this._y2-t;this._l23_a=Math.sqrt(this._l23_2a=Math.pow(e*e+r*r,this._alpha))}switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(n,t):this._context.moveTo(n,t);break;case 1:this._point=2;break;case 2:this._point=3;default:lye(this,n,t);break}this._l01_a=this._l12_a,this._l12_a=this._l23_a,this._l01_2a=this._l12_2a,this._l12_2a=this._l23_2a,this._x0=this._x1,this._x1=this._x2,this._x2=n,this._y0=this._y1,this._y1=this._y2,this._y2=t}};const uye=function n(t){function e(r){return t?new u8(r,t):new YN(r,0)}return e.alpha=function(r){return n(+r)},e}(.5);function kj(n){return n<0?-1:1}function Gj(n,t,e){var r=n._x1-n._x0,i=t-n._x1,o=(n._y1-n._y0)/(r||i<0&&-0),a=(e-n._y1)/(i||r<0&&-0),s=(o*i+a*r)/(r+i);return(kj(o)+kj(a))*Math.min(Math.abs(o),Math.abs(a),.5*Math.abs(s))||0}function Vj(n,t){var e=n._x1-n._x0;return e?(3*(n._y1-n._y0)/e-t)/2:t}function dA(n,t,e){var r=n._x0,i=n._y0,o=n._x1,a=n._y1,s=(o-r)/3;n._context.bezierCurveTo(r+s,i+s*t,o-s,a-s*e,o,a)}function db(n){this._context=n}db.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=this._t0=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x1,this._y1);break;case 3:dA(this,this._t0,Vj(this,this._t0));break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(n,t){var e=NaN;if(n=+n,t=+t,!(n===this._x1&&t===this._y1)){switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(n,t):this._context.moveTo(n,t);break;case 1:this._point=2;break;case 2:this._point=3,dA(this,Vj(this,e=Gj(this,n,t)),e);break;default:dA(this,this._t0,e=Gj(this,n,t));break}this._x0=this._x1,this._x1=n,this._y0=this._y1,this._y1=t,this._t0=e}}};function c8(n){this._context=new d8(n)}(c8.prototype=Object.create(db.prototype)).point=function(n,t){db.prototype.point.call(this,t,n)};function d8(n){this._context=n}d8.prototype={moveTo:function(n,t){this._context.moveTo(t,n)},closePath:function(){this._context.closePath()},lineTo:function(n,t){this._context.lineTo(t,n)},bezierCurveTo:function(n,t,e,r,i,o){this._context.bezierCurveTo(t,n,r,e,o,i)}};function Bj(n){return new db(n)}function cye(n){return new c8(n)}function p8(n){this._context=n}p8.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=[],this._y=[]},lineEnd:function(){var n=this._x,t=this._y,e=n.length;if(e)if(this._line?this._context.lineTo(n[0],t[0]):this._context.moveTo(n[0],t[0]),e===2)this._context.lineTo(n[1],t[1]);else for(var r=Hj(n),i=Hj(t),o=0,a=1;a<e;++o,++a)this._context.bezierCurveTo(r[0][o],i[0][o],r[1][o],i[1][o],n[a],t[a]);(this._line||this._line!==0&&e===1)&&this._context.closePath(),this._line=1-this._line,this._x=this._y=null},point:function(n,t){this._x.push(+n),this._y.push(+t)}};function Hj(n){var t,e=n.length-1,r,i=new Array(e),o=new Array(e),a=new Array(e);for(i[0]=0,o[0]=2,a[0]=n[0]+2*n[1],t=1;t<e-1;++t)i[t]=1,o[t]=4,a[t]=4*n[t]+2*n[t+1];for(i[e-1]=2,o[e-1]=7,a[e-1]=8*n[e-1]+n[e],t=1;t<e;++t)r=i[t]/o[t-1],o[t]-=r,a[t]-=r*a[t-1];for(i[e-1]=a[e-1]/o[e-1],t=e-2;t>=0;--t)i[t]=(a[t]-i[t+1])/o[t];for(o[e-1]=(n[e]+i[e-1])/2,t=0;t<e-1;++t)o[t]=2*n[t+1]-i[t+1];return[i,o]}function dye(n){return new p8(n)}function oT(n,t){this._context=n,this._t=t}oT.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=this._y=NaN,this._point=0},lineEnd:function(){0<this._t&&this._t<1&&this._point===2&&this._context.lineTo(this._x,this._y),(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line>=0&&(this._t=1-this._t,this._line=1-this._line)},point:function(n,t){switch(n=+n,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(n,t):this._context.moveTo(n,t);break;case 1:this._point=2;default:{if(this._t<=0)this._context.lineTo(this._x,t),this._context.lineTo(n,t);else{var e=this._x*(1-this._t)+n*this._t;this._context.lineTo(e,this._y),this._context.lineTo(e,t)}break}}this._x=n,this._y=t}};function pye(n){return new oT(n,.5)}function hye(n){return new oT(n,0)}function fye(n){return new oT(n,1)}function fg(n,t){if((a=n.length)>1)for(var e=1,r,i,o=n[t[0]],a,s=o.length;e<a;++e)for(i=o,o=n[t[e]],r=0;r<s;++r)o[r][1]+=o[r][0]=isNaN(i[r][1])?i[r][0]:i[r][1]}function vg(n){for(var t=n.length,e=new Array(t);--t>=0;)e[t]=t;return e}function vye(n,t){return n[t]}function gye(n){const t=[];return t.key=n,t}function h8(){var n=lt([]),t=vg,e=fg,r=vye;function i(o){var a=Array.from(n.apply(this,arguments),gye),s,l=a.length,u=-1,c;for(const d of o)for(s=0,++u;s<l;++s)(a[s][u]=[0,+r(d,a[s].key,u,o)]).data=d;for(s=0,c=iT(t(a));s<l;++s)a[c[s]].index=s;return e(a,c),a}return i.keys=function(o){return arguments.length?(n=typeof o=="function"?o:lt(Array.from(o)),i):n},i.value=function(o){return arguments.length?(r=typeof o=="function"?o:lt(+o),i):r},i.order=function(o){return arguments.length?(t=o==null?vg:typeof o=="function"?o:lt(Array.from(o)),i):t},i.offset=function(o){return arguments.length?(e=o??fg,i):e},i}function yye(n,t){if((r=n.length)>0){for(var e,r,i=0,o=n[0].length,a;i<o;++i){for(a=e=0;e<r;++e)a+=n[e][i][1]||0;if(a)for(e=0;e<r;++e)n[e][i][1]/=a}fg(n,t)}}function mye(n,t){if((l=n.length)>0)for(var e,r=0,i,o,a,s,l,u=n[t[0]].length;r<u;++r)for(a=s=0,e=0;e<l;++e)(o=(i=n[t[e]][r])[1]-i[0])>0?(i[0]=a,i[1]=a+=o):o<0?(i[1]=s,i[0]=s+=o):(i[0]=0,i[1]=o)}function Cye(n,t){if((i=n.length)>0){for(var e=0,r=n[t[0]],i,o=r.length;e<o;++e){for(var a=0,s=0;a<i;++a)s+=n[a][e][1]||0;r[e][1]+=r[e][0]=-s/2}fg(n,t)}}function Sye(n,t){if(!(!((a=n.length)>0)||!((o=(i=n[t[0]]).length)>0))){for(var e=0,r=1,i,o,a;r<o;++r){for(var s=0,l=0,u=0;s<a;++s){for(var c=n[t[s]],d=c[r][1]||0,p=c[r-1][1]||0,h=(d-p)/2,f=0;f<s;++f){var v=n[t[f]],g=v[r][1]||0,y=v[r-1][1]||0;h+=g-y}l+=d,u+=h*d}i[r-1][1]+=i[r-1][0]=e,l&&(e-=u/l)}i[r-1][1]+=i[r-1][0]=e,fg(n,t)}}function f8(n){var t=n.map(wye);return vg(n).sort(function(e,r){return t[e]-t[r]})}function wye(n){for(var t=-1,e=0,r=n.length,i,o=-1/0;++t<r;)(i=+n[t][1])>o&&(o=i,e=t);return e}function v8(n){var t=n.map(g8);return vg(n).sort(function(e,r){return t[e]-t[r]})}function g8(n){for(var t=0,e=-1,r=n.length,i;++e<r;)(i=+n[e][1])&&(t+=i);return t}function _ye(n){return v8(n).reverse()}function xye(n){var t=n.length,e,r,i=n.map(g8),o=f8(n),a=0,s=0,l=[],u=[];for(e=0;e<t;++e)r=o[e],a<s?(a+=i[r],l.push(r)):(s+=i[r],u.push(r));return u.reverse().concat(l)}function Eye(n){return vg(n).reverse()}const pA={appearance:f8,ascending:v8,descending:_ye,insideOut:xye,none:vg,reverse:Eye},hA={expand:yye,diverging:mye,none:fg,silhouette:Cye,wiggle:Sye},y8=n=>{const{series:t,seriesOrder:e,defaultStrategy:r}=n,i=[],o={};return e.forEach(a=>{const{stack:s,stackOrder:l,stackOffset:u}=t[a];if(s===void 0)i.push({ids:[a],stackingOrder:pA.none,stackingOffset:hA.none});else if(o[s]===void 0){var c,d;o[s]=i.length,i.push({ids:[a],stackingOrder:pA[(c=l??(r==null?void 0:r.stackOrder))!=null?c:"none"],stackingOffset:hA[(d=u??(r==null?void 0:r.stackOffset))!=null?d:"diverging"]})}else i[o[s]].ids.push(a),l!==void 0&&(i[o[s]].stackingOrder=pA[l]),u!==void 0&&(i[o[s]].stackingOffset=hA[u])}),i};function XN(n,t){const e={};return Object.keys(n).forEach(r=>{var i;e[r]=k({},n[r],{valueFormatter:(i=n[r].valueFormatter)!=null?i:t})}),e}const bye=(n,t)=>{var e;const{seriesOrder:r,series:i}=n,o=y8(n),a=(e=t)!=null?e:[];r.forEach(l=>{const u=i[l].data;if(u!==void 0)u.forEach((c,d)=>{a.length<=d?a.push({[l]:c}):a[d][l]=c});else if(t===void 0)throw new Error([`MUI-X-Charts: bar series with id='${l}' has no data.`,"Either provide a data property to the series or use the dataset prop."].join(`
`))});const s={};return o.forEach(l=>{const{ids:u,stackingOffset:c,stackingOrder:d}=l,p=h8().keys(u.map(h=>{const f=i[h].dataKey;return i[h].data===void 0&&f!==void 0?f:h})).value((h,f)=>{var v;return(v=h[f])!=null?v:0}).order(d).offset(c)(a);u.forEach((h,f)=>{const v=i[h].dataKey;s[h]=k({layout:"vertical"},i[h],{data:v?t.map(g=>{const y=g[v];return typeof y!="number"?0:y}):i[h].data,stackedData:p[f].map(([g,y])=>[g,y])})})}),{seriesOrder:r,stackingGroups:o,series:XN(s,l=>l==null?void 0:l.toLocaleString())}},Oye=bye,Rye=({series:n,seriesOrder:t})=>({series:XN(n,e=>`(${e.x}, ${e.y})`),seriesOrder:t}),Tye=Rye,Pye=(n,t)=>{var e;const{seriesOrder:r,series:i}=n,o=y8(k({},n,{defaultStrategy:{stackOffset:"none"}})),a=(e=t)!=null?e:[];r.forEach(l=>{const u=i[l].data;u!==void 0&&u.forEach((c,d)=>{a.length<=d?a.push({[l]:c}):a[d][l]=c})});const s={};return o.forEach(l=>{const{ids:u,stackingOrder:c,stackingOffset:d}=l,p=h8().keys(u.map(h=>{const f=i[h].dataKey;return i[h].data===void 0&&f!==void 0?f:h})).value((h,f)=>{var v;return(v=h[f])!=null?v:0}).order(c).offset(d)(a);u.forEach((h,f)=>{const v=i[h].dataKey;s[h]=k({},i[h],{data:v?t.map(g=>{const y=g[v];return typeof y!="number"?null:y}):i[h].data,stackedData:p[f].map(([g,y])=>[g,y])})})}),{seriesOrder:r,stackingGroups:o,series:XN(s,l=>l==null?void 0:l.toLocaleString())}},Aye=Pye,Dye=(n="none")=>{if(typeof n=="function")return n;switch(n){case"none":return null;case"desc":return(t,e)=>e-t;case"asc":return(t,e)=>t-e;default:return null}},Mye=n=>{const{seriesOrder:t,series:e}=n,r={};return t.forEach(i=>{var o,a,s,l;const u=Yge().startAngle(2*Math.PI*((o=e[i].startAngle)!=null?o:0)/360).endAngle(2*Math.PI*((a=e[i].endAngle)!=null?a:360)/360).padAngle(2*Math.PI*((s=e[i].paddingAngle)!=null?s:0)/360).sortValues(Dye((l=e[i].sortingValues)!=null?l:"none"))(e[i].data.map(c=>c.value));r[i]=k({valueFormatter:c=>c.value.toLocaleString()},e[i],{data:e[i].data.map((c,d)=>{var p;return k({},c,{id:(p=c.id)!=null?p:`auto-generated-pie-id-${i}-${d}`},u[d])}).map(c=>{var d,p,h;return k({},c,{formattedValue:(d=(p=(h=e[i]).valueFormatter)==null?void 0:p.call(h,c))!=null?d:c.value.toLocaleString()})})})}),{seriesOrder:t,series:r}},Fye=Mye,Lye=["#1f77b4","#ff7f0e","#2ca02c","#d62728","#9467bd","#8c564b","#e377c2","#7f7f7f","#bcbd22","#17becf"];function Iye(n,t,e=Lye){return n.type==="pie"?k({},n,{data:n.data.map((r,i)=>k({color:e[i%e.length]},r))}):k({color:e[t%e.length]},n)}const Nye=["#02B2AF","#2E96FF","#B800D8","#60009B","#2731C8","#03008D"],kye=["#02B2AF","#72CCFF","#DA00FF","#9001CB","#2E96FF","#3B48E0"],Gye=n=>n==="dark"?kye:Nye,Vs=I.createContext({}),fA={bar:Oye,scatter:Tye,line:Aye,pie:Fye},Vye=(n,t,e)=>{const r={};n.forEach((o,a)=>{var s;const{id:l=`auto-generated-id-${a}`,type:u}=o;if(r[u]===void 0&&(r[u]={series:{},seriesOrder:[]}),((s=r[u])==null?void 0:s.series[l])!==void 0)throw new Error(`MUI-X-Charts: series' id "${l}" is not unique`);r[u].series[l]=k({id:l},Iye(o,a,t)),r[u].seriesOrder.push(l)});const i={};return Object.keys(fA).forEach(o=>{if(r[o]!==void 0){var a,s;i[o]=(a=(s=fA[o])==null?void 0:s.call(fA,r[o],e))!=null?a:r[o]}}),i};function Bye(n){const{series:t,dataset:e,colors:r=Gye,children:i}=n,o=lc(),a=I.useMemo(()=>Vye(t,typeof r=="function"?r(o.palette.mode):r,e),[t,r,o.palette.mode,e]);return B.jsx(Vs.Provider,{value:a,children:i})}const Bs=I.createContext({item:null,axis:{x:null,y:null},dispatch:()=>null}),Hye=(n,t)=>{switch(t.type){case"enterItem":return k({},n,{item:t.data});case"leaveItem":return n.item===null||Object.keys(t.data).some(e=>t.data[e]!==n.item[e])?n:k({},n,{item:null});case"updateAxis":return k({},n,{axis:t.data});default:return n}};function jye(n){const{children:t}=n,[e,r]=I.useReducer(Hye,{item:null,axis:{x:null,y:null}}),i=I.useMemo(()=>k({},e,{dispatch:r}),[e]);return B.jsx(Bs.Provider,{value:i,children:t})}var $ye=Object.defineProperty,Wye=(n,t)=>{for(var e in t)$ye(n,e,{get:t[e],enumerable:!0})},Xa={};Wye(Xa,{assign:()=>Kye,colors:()=>Od,createStringInterpolator:()=>rk,skipAnimation:()=>E8,to:()=>x8,willAdvance:()=>nk});var qN=Rw(),rt=n=>Ow(n,qN),ZN=Rw();rt.write=n=>Ow(n,ZN);var aT=Rw();rt.onStart=n=>Ow(n,aT);var QN=Rw();rt.onFrame=n=>Ow(n,QN);var JN=Rw();rt.onFinish=n=>Ow(n,JN);var Gv=[];rt.setTimeout=(n,t)=>{const e=rt.now()+t,r=()=>{const o=Gv.findIndex(a=>a.cancel==r);~o&&Gv.splice(o,1),cd-=~o?1:0},i={time:e,handler:n,cancel:r};return Gv.splice(m8(e),0,i),cd+=1,C8(),i};var m8=n=>~(~Gv.findIndex(t=>t.time>n)||~Gv.length);rt.cancel=n=>{aT.delete(n),QN.delete(n),JN.delete(n),qN.delete(n),ZN.delete(n)};rt.sync=n=>{JF=!0,rt.batchedUpdates(n),JF=!1};rt.throttle=n=>{let t;function e(){try{n(...t)}finally{t=null}}function r(...i){t=i,rt.onStart(e)}return r.handler=n,r.cancel=()=>{aT.delete(e),t=null},r};var ek=typeof window<"u"?window.requestAnimationFrame:()=>{};rt.use=n=>ek=n;rt.now=typeof performance<"u"?()=>performance.now():Date.now;rt.batchedUpdates=n=>n();rt.catch=console.error;rt.frameLoop="always";rt.advance=()=>{rt.frameLoop!=="demand"?console.warn("Cannot call the manual advancement of rafz whilst frameLoop is not set as demand"):w8()};var ud=-1,cd=0,JF=!1;function Ow(n,t){JF?(t.delete(n),n(0)):(t.add(n),C8())}function C8(){ud<0&&(ud=0,rt.frameLoop!=="demand"&&ek(S8))}function Uye(){ud=-1}function S8(){~ud&&(ek(S8),rt.batchedUpdates(w8))}function w8(){const n=ud;ud=rt.now();const t=m8(ud);if(t&&(_8(Gv.splice(0,t),e=>e.handler()),cd-=t),!cd){Uye();return}aT.flush(),qN.flush(n?Math.min(64,ud-n):16.667),QN.flush(),ZN.flush(),JN.flush()}function Rw(){let n=new Set,t=n;return{add(e){cd+=t==n&&!n.has(e)?1:0,n.add(e)},delete(e){return cd-=t==n&&n.has(e)?1:0,n.delete(e)},flush(e){t.size&&(n=new Set,cd-=t.size,_8(t,r=>r(e)&&n.add(r)),cd+=n.size,t=n)}}}function _8(n,t){n.forEach(e=>{try{t(e)}catch(r){rt.catch(r)}})}function eL(){}var zye=(n,t,e)=>Object.defineProperty(n,t,{value:e,writable:!0,configurable:!0}),Ce={arr:Array.isArray,obj:n=>!!n&&n.constructor.name==="Object",fun:n=>typeof n=="function",str:n=>typeof n=="string",num:n=>typeof n=="number",und:n=>n===void 0};function xu(n,t){if(Ce.arr(n)){if(!Ce.arr(t)||n.length!==t.length)return!1;for(let e=0;e<n.length;e++)if(n[e]!==t[e])return!1;return!0}return n===t}var ut=(n,t)=>n.forEach(t);function Yl(n,t,e){if(Ce.arr(n)){for(let r=0;r<n.length;r++)t.call(e,n[r],`${r}`);return}for(const r in n)n.hasOwnProperty(r)&&t.call(e,n[r],r)}var bi=n=>Ce.und(n)?[]:Ce.arr(n)?n:[n];function xC(n,t){if(n.size){const e=Array.from(n);n.clear(),ut(e,t)}}var Lm=(n,...t)=>xC(n,e=>e(...t)),tk=()=>typeof window>"u"||!window.navigator||/ServerSideRendering|^Deno\//.test(window.navigator.userAgent),rk,x8,Od=null,E8=!1,nk=eL,Kye=n=>{n.to&&(x8=n.to),n.now&&(rt.now=n.now),n.colors!==void 0&&(Od=n.colors),n.skipAnimation!=null&&(E8=n.skipAnimation),n.createStringInterpolator&&(rk=n.createStringInterpolator),n.requestAnimationFrame&&rt.use(n.requestAnimationFrame),n.batchedUpdates&&(rt.batchedUpdates=n.batchedUpdates),n.willAdvance&&(nk=n.willAdvance),n.frameLoop&&(rt.frameLoop=n.frameLoop)},EC=new Set,Da=[],vA=[],pb=0,sT={get idle(){return!EC.size&&!Da.length},start(n){pb>n.priority?(EC.add(n),rt.onStart(Yye)):(b8(n),rt(tL))},advance:tL,sort(n){if(pb)rt.onFrame(()=>sT.sort(n));else{const t=Da.indexOf(n);~t&&(Da.splice(t,1),O8(n))}},clear(){Da=[],EC.clear()}};function Yye(){EC.forEach(b8),EC.clear(),rt(tL)}function b8(n){Da.includes(n)||O8(n)}function O8(n){Da.splice(Xye(Da,t=>t.priority>n.priority),0,n)}function tL(n){const t=vA;for(let e=0;e<Da.length;e++){const r=Da[e];pb=r.priority,r.idle||(nk(r),r.advance(n),r.idle||t.push(r))}return pb=0,vA=Da,vA.length=0,Da=t,Da.length>0}function Xye(n,t){const e=n.findIndex(t);return e<0?n.length:e}var qye=(n,t,e)=>Math.min(Math.max(e,n),t),Zye={transparent:0,aliceblue:4042850303,antiquewhite:4209760255,aqua:16777215,aquamarine:2147472639,azure:4043309055,beige:4126530815,bisque:4293182719,black:255,blanchedalmond:4293643775,blue:65535,blueviolet:2318131967,brown:2771004159,burlywood:3736635391,burntsienna:3934150143,cadetblue:1604231423,chartreuse:2147418367,chocolate:3530104575,coral:4286533887,cornflowerblue:1687547391,cornsilk:4294499583,crimson:3692313855,cyan:16777215,darkblue:35839,darkcyan:9145343,darkgoldenrod:3095792639,darkgray:2846468607,darkgreen:6553855,darkgrey:2846468607,darkkhaki:3182914559,darkmagenta:2332068863,darkolivegreen:1433087999,darkorange:4287365375,darkorchid:2570243327,darkred:2332033279,darksalmon:3918953215,darkseagreen:2411499519,darkslateblue:1211993087,darkslategray:793726975,darkslategrey:793726975,darkturquoise:13554175,darkviolet:2483082239,deeppink:4279538687,deepskyblue:12582911,dimgray:1768516095,dimgrey:1768516095,dodgerblue:512819199,firebrick:2988581631,floralwhite:4294635775,forestgreen:579543807,fuchsia:4278255615,gainsboro:3705462015,ghostwhite:4177068031,gold:4292280575,goldenrod:3668254975,gray:2155905279,green:8388863,greenyellow:2919182335,grey:2155905279,honeydew:4043305215,hotpink:4285117695,indianred:3445382399,indigo:1258324735,ivory:4294963455,khaki:4041641215,lavender:3873897215,lavenderblush:4293981695,lawngreen:2096890111,lemonchiffon:4294626815,lightblue:2916673279,lightcoral:4034953471,lightcyan:3774873599,lightgoldenrodyellow:4210742015,lightgray:3553874943,lightgreen:2431553791,lightgrey:3553874943,lightpink:4290167295,lightsalmon:4288707327,lightseagreen:548580095,lightskyblue:2278488831,lightslategray:2005441023,lightslategrey:2005441023,lightsteelblue:2965692159,lightyellow:4294959359,lime:16711935,limegreen:852308735,linen:4210091775,magenta:4278255615,maroon:2147483903,mediumaquamarine:1724754687,mediumblue:52735,mediumorchid:3126187007,mediumpurple:2473647103,mediumseagreen:1018393087,mediumslateblue:2070474495,mediumspringgreen:16423679,mediumturquoise:1221709055,mediumvioletred:3340076543,midnightblue:421097727,mintcream:4127193855,mistyrose:4293190143,moccasin:4293178879,navajowhite:4292783615,navy:33023,oldlace:4260751103,olive:2155872511,olivedrab:1804477439,orange:4289003775,orangered:4282712319,orchid:3664828159,palegoldenrod:4008225535,palegreen:2566625535,paleturquoise:2951671551,palevioletred:3681588223,papayawhip:4293907967,peachpuff:4292524543,peru:3448061951,pink:4290825215,plum:3718307327,powderblue:2967529215,purple:2147516671,rebeccapurple:1714657791,red:4278190335,rosybrown:3163525119,royalblue:1097458175,saddlebrown:2336560127,salmon:4202722047,sandybrown:4104413439,seagreen:780883967,seashell:4294307583,sienna:2689740287,silver:3233857791,skyblue:2278484991,slateblue:1784335871,slategray:1887473919,slategrey:1887473919,snow:4294638335,springgreen:16744447,steelblue:1182971135,tan:3535047935,teal:8421631,thistle:3636451583,tomato:4284696575,turquoise:1088475391,violet:4001558271,wheat:4125012991,white:4294967295,whitesmoke:4126537215,yellow:4294902015,yellowgreen:2597139199},Es="[-+]?\\d*\\.?\\d+",hb=Es+"%";function lT(...n){return"\\(\\s*("+n.join(")\\s*,\\s*(")+")\\s*\\)"}var Qye=new RegExp("rgb"+lT(Es,Es,Es)),Jye=new RegExp("rgba"+lT(Es,Es,Es,Es)),eme=new RegExp("hsl"+lT(Es,hb,hb)),tme=new RegExp("hsla"+lT(Es,hb,hb,Es)),rme=/^#([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,nme=/^#([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,ime=/^#([0-9a-fA-F]{6})$/,ome=/^#([0-9a-fA-F]{8})$/;function ame(n){let t;return typeof n=="number"?n>>>0===n&&n>=0&&n<=4294967295?n:null:(t=ime.exec(n))?parseInt(t[1]+"ff",16)>>>0:Od&&Od[n]!==void 0?Od[n]:(t=Qye.exec(n))?(_f(t[1])<<24|_f(t[2])<<16|_f(t[3])<<8|255)>>>0:(t=Jye.exec(n))?(_f(t[1])<<24|_f(t[2])<<16|_f(t[3])<<8|Wj(t[4]))>>>0:(t=rme.exec(n))?parseInt(t[1]+t[1]+t[2]+t[2]+t[3]+t[3]+"ff",16)>>>0:(t=ome.exec(n))?parseInt(t[1],16)>>>0:(t=nme.exec(n))?parseInt(t[1]+t[1]+t[2]+t[2]+t[3]+t[3]+t[4]+t[4],16)>>>0:(t=eme.exec(n))?(jj($j(t[1]),K0(t[2]),K0(t[3]))|255)>>>0:(t=tme.exec(n))?(jj($j(t[1]),K0(t[2]),K0(t[3]))|Wj(t[4]))>>>0:null}function gA(n,t,e){return e<0&&(e+=1),e>1&&(e-=1),e<1/6?n+(t-n)*6*e:e<1/2?t:e<2/3?n+(t-n)*(2/3-e)*6:n}function jj(n,t,e){const r=e<.5?e*(1+t):e+t-e*t,i=2*e-r,o=gA(i,r,n+1/3),a=gA(i,r,n),s=gA(i,r,n-1/3);return Math.round(o*255)<<24|Math.round(a*255)<<16|Math.round(s*255)<<8}function _f(n){const t=parseInt(n,10);return t<0?0:t>255?255:t}function $j(n){return(parseFloat(n)%360+360)%360/360}function Wj(n){const t=parseFloat(n);return t<0?0:t>1?255:Math.round(t*255)}function K0(n){const t=parseFloat(n);return t<0?0:t>100?1:t/100}function Uj(n){let t=ame(n);if(t===null)return n;t=t||0;const e=(t&4278190080)>>>24,r=(t&16711680)>>>16,i=(t&65280)>>>8,o=(t&255)/255;return`rgba(${e}, ${r}, ${i}, ${o})`}var gS=(n,t,e)=>{if(Ce.fun(n))return n;if(Ce.arr(n))return gS({range:n,output:t,extrapolate:e});if(Ce.str(n.output[0]))return rk(n);const r=n,i=r.output,o=r.range||[0,1],a=r.extrapolateLeft||r.extrapolate||"extend",s=r.extrapolateRight||r.extrapolate||"extend",l=r.easing||(u=>u);return u=>{const c=lme(u,o);return sme(u,o[c],o[c+1],i[c],i[c+1],l,a,s,r.map)}};function sme(n,t,e,r,i,o,a,s,l){let u=l?l(n):n;if(u<t){if(a==="identity")return u;a==="clamp"&&(u=t)}if(u>e){if(s==="identity")return u;s==="clamp"&&(u=e)}return r===i?r:t===e?n<=t?r:i:(t===-1/0?u=-u:e===1/0?u=u-t:u=(u-t)/(e-t),u=o(u),r===-1/0?u=-u:i===1/0?u=u+r:u=u*(i-r)+r,u)}function lme(n,t){for(var e=1;e<t.length-1&&!(t[e]>=n);++e);return e-1}var ume=(n,t="end")=>e=>{e=t==="end"?Math.min(e,.999):Math.max(e,.001);const r=e*n,i=t==="end"?Math.floor(r):Math.ceil(r);return qye(0,1,i/n)},fb=1.70158,Y0=fb*1.525,zj=fb+1,Kj=2*Math.PI/3,Yj=2*Math.PI/4.5,X0=n=>n<1/2.75?7.5625*n*n:n<2/2.75?7.5625*(n-=1.5/2.75)*n+.75:n<2.5/2.75?7.5625*(n-=2.25/2.75)*n+.9375:7.5625*(n-=2.625/2.75)*n+.984375,cme={linear:n=>n,easeInQuad:n=>n*n,easeOutQuad:n=>1-(1-n)*(1-n),easeInOutQuad:n=>n<.5?2*n*n:1-Math.pow(-2*n+2,2)/2,easeInCubic:n=>n*n*n,easeOutCubic:n=>1-Math.pow(1-n,3),easeInOutCubic:n=>n<.5?4*n*n*n:1-Math.pow(-2*n+2,3)/2,easeInQuart:n=>n*n*n*n,easeOutQuart:n=>1-Math.pow(1-n,4),easeInOutQuart:n=>n<.5?8*n*n*n*n:1-Math.pow(-2*n+2,4)/2,easeInQuint:n=>n*n*n*n*n,easeOutQuint:n=>1-Math.pow(1-n,5),easeInOutQuint:n=>n<.5?16*n*n*n*n*n:1-Math.pow(-2*n+2,5)/2,easeInSine:n=>1-Math.cos(n*Math.PI/2),easeOutSine:n=>Math.sin(n*Math.PI/2),easeInOutSine:n=>-(Math.cos(Math.PI*n)-1)/2,easeInExpo:n=>n===0?0:Math.pow(2,10*n-10),easeOutExpo:n=>n===1?1:1-Math.pow(2,-10*n),easeInOutExpo:n=>n===0?0:n===1?1:n<.5?Math.pow(2,20*n-10)/2:(2-Math.pow(2,-20*n+10))/2,easeInCirc:n=>1-Math.sqrt(1-Math.pow(n,2)),easeOutCirc:n=>Math.sqrt(1-Math.pow(n-1,2)),easeInOutCirc:n=>n<.5?(1-Math.sqrt(1-Math.pow(2*n,2)))/2:(Math.sqrt(1-Math.pow(-2*n+2,2))+1)/2,easeInBack:n=>zj*n*n*n-fb*n*n,easeOutBack:n=>1+zj*Math.pow(n-1,3)+fb*Math.pow(n-1,2),easeInOutBack:n=>n<.5?Math.pow(2*n,2)*((Y0+1)*2*n-Y0)/2:(Math.pow(2*n-2,2)*((Y0+1)*(n*2-2)+Y0)+2)/2,easeInElastic:n=>n===0?0:n===1?1:-Math.pow(2,10*n-10)*Math.sin((n*10-10.75)*Kj),easeOutElastic:n=>n===0?0:n===1?1:Math.pow(2,-10*n)*Math.sin((n*10-.75)*Kj)+1,easeInOutElastic:n=>n===0?0:n===1?1:n<.5?-(Math.pow(2,20*n-10)*Math.sin((20*n-11.125)*Yj))/2:Math.pow(2,-20*n+10)*Math.sin((20*n-11.125)*Yj)/2+1,easeInBounce:n=>1-X0(1-n),easeOutBounce:X0,easeInOutBounce:n=>n<.5?(1-X0(1-2*n))/2:(1+X0(2*n-1))/2,steps:ume},yS=Symbol.for("FluidValue.get"),gg=Symbol.for("FluidValue.observers"),Aa=n=>!!(n&&n[yS]),Qi=n=>n&&n[yS]?n[yS]():n,Xj=n=>n[gg]||null;function dme(n,t){n.eventObserved?n.eventObserved(t):n(t)}function mS(n,t){const e=n[gg];e&&e.forEach(r=>{dme(r,t)})}var R8=class{constructor(n){if(!n&&!(n=this.get))throw Error("Unknown getter");pme(this,n)}},pme=(n,t)=>T8(n,yS,t);function Vg(n,t){if(n[yS]){let e=n[gg];e||T8(n,gg,e=new Set),e.has(t)||(e.add(t),n.observerAdded&&n.observerAdded(e.size,t))}return t}function CS(n,t){const e=n[gg];if(e&&e.has(t)){const r=e.size-1;r?e.delete(t):n[gg]=null,n.observerRemoved&&n.observerRemoved(r,t)}}var T8=(n,t,e)=>Object.defineProperty(n,t,{value:e,writable:!0,configurable:!0}),qx=/[+\-]?(?:0|[1-9]\d*)(?:\.\d*)?(?:[eE][+\-]?\d+)?/g,hme=/(#(?:[0-9a-f]{2}){2,4}|(#[0-9a-f]{3})|(rgb|hsl)a?\((-?\d+%?[,\s]+){2,3}\s*[\d\.]+%?\))/gi,qj=new RegExp(`(${qx.source})(%|[a-z]+)`,"i"),fme=/rgba\(([0-9\.-]+), ([0-9\.-]+), ([0-9\.-]+), ([0-9\.-]+)\)/gi,uT=/var\((--[a-zA-Z0-9-_]+),? ?([a-zA-Z0-9 ()%#.,-]+)?\)/,P8=n=>{const[t,e]=vme(n);if(!t||tk())return n;const r=window.getComputedStyle(document.documentElement).getPropertyValue(t);if(r)return r.trim();if(e&&e.startsWith("--")){const i=window.getComputedStyle(document.documentElement).getPropertyValue(e);return i||n}else{if(e&&uT.test(e))return P8(e);if(e)return e}return n},vme=n=>{const t=uT.exec(n);if(!t)return[,];const[,e,r]=t;return[e,r]},yA,gme=(n,t,e,r,i)=>`rgba(${Math.round(t)}, ${Math.round(e)}, ${Math.round(r)}, ${i})`,A8=n=>{yA||(yA=Od?new RegExp(`(${Object.keys(Od).join("|")})(?!\\w)`,"g"):/^\b$/);const t=n.output.map(o=>Qi(o).replace(uT,P8).replace(hme,Uj).replace(yA,Uj)),e=t.map(o=>o.match(qx).map(Number)),i=e[0].map((o,a)=>e.map(s=>{if(!(a in s))throw Error('The arity of each "output" value must be equal');return s[a]})).map(o=>gS({...n,output:o}));return o=>{var l;const a=!qj.test(t[0])&&((l=t.find(u=>qj.test(u)))==null?void 0:l.replace(qx,""));let s=0;return t[0].replace(qx,()=>`${i[s++](o)}${a||""}`).replace(fme,gme)}},ik="react-spring: ",D8=n=>{const t=n;let e=!1;if(typeof t!="function")throw new TypeError(`${ik}once requires a function parameter`);return(...r)=>{e||(t(...r),e=!0)}},yme=D8(console.warn);function mme(){yme(`${ik}The "interpolate" function is deprecated in v9 (use "to" instead)`)}var Cme=D8(console.warn);function Sme(){Cme(`${ik}Directly calling start instead of using the api object is deprecated in v9 (use ".start" instead), this will be removed in later 0.X.0 versions`)}function cT(n){return Ce.str(n)&&(n[0]=="#"||/\d/.test(n)||!tk()&&uT.test(n)||n in(Od||{}))}var uh=tk()?I.useEffect:I.useLayoutEffect,wme=()=>{const n=I.useRef(!1);return uh(()=>(n.current=!0,()=>{n.current=!1}),[]),n};function M8(){const n=I.useState()[1],t=wme();return()=>{t.current&&n(Math.random())}}function _me(n,t){const[e]=I.useState(()=>({inputs:t,result:n()})),r=I.useRef(),i=r.current;let o=i;return o?t&&o.inputs&&xme(t,o.inputs)||(o={inputs:t,result:n()}):o=e,I.useEffect(()=>{r.current=o,i==e&&(e.inputs=e.result=void 0)},[o]),o.result}function xme(n,t){if(n.length!==t.length)return!1;for(let e=0;e<n.length;e++)if(n[e]!==t[e])return!1;return!0}var F8=n=>I.useEffect(n,Eme),Eme=[];function bme(n){const t=I.useRef();return I.useEffect(()=>{t.current=n}),t.current}var SS=Symbol.for("Animated:node"),Ome=n=>!!n&&n[SS]===n,Cl=n=>n&&n[SS],ok=(n,t)=>zye(n,SS,t),dT=n=>n&&n[SS]&&n[SS].getPayload(),L8=class{constructor(){ok(this,this)}getPayload(){return this.payload||[]}},Tw=class extends L8{constructor(n){super(),this._value=n,this.done=!0,this.durationProgress=0,Ce.num(this._value)&&(this.lastPosition=this._value)}static create(n){return new Tw(n)}getPayload(){return[this]}getValue(){return this._value}setValue(n,t){return Ce.num(n)&&(this.lastPosition=n,t&&(n=Math.round(n/t)*t,this.done&&(this.lastPosition=n))),this._value===n?!1:(this._value=n,!0)}reset(){const{done:n}=this;this.done=!1,Ce.num(this._value)&&(this.elapsedTime=0,this.durationProgress=0,this.lastPosition=this._value,n&&(this.lastVelocity=null),this.v0=null)}},wS=class extends Tw{constructor(n){super(0),this._string=null,this._toString=gS({output:[n,n]})}static create(n){return new wS(n)}getValue(){const n=this._string;return n??(this._string=this._toString(this._value))}setValue(n){if(Ce.str(n)){if(n==this._string)return!1;this._string=n,this._value=1}else if(super.setValue(n))this._string=null;else return!1;return!0}reset(n){n&&(this._toString=gS({output:[this.getValue(),n]})),this._value=0,super.reset()}},vb={dependencies:null},pT=class extends L8{constructor(n){super(),this.source=n,this.setValue(n)}getValue(n){const t={};return Yl(this.source,(e,r)=>{Ome(e)?t[r]=e.getValue(n):Aa(e)?t[r]=Qi(e):n||(t[r]=e)}),t}setValue(n){this.source=n,this.payload=this._makePayload(n)}reset(){this.payload&&ut(this.payload,n=>n.reset())}_makePayload(n){if(n){const t=new Set;return Yl(n,this._addToPayload,t),Array.from(t)}}_addToPayload(n){vb.dependencies&&Aa(n)&&vb.dependencies.add(n);const t=dT(n);t&&ut(t,e=>this.add(e))}},I8=class extends pT{constructor(n){super(n)}static create(n){return new I8(n)}getValue(){return this.source.map(n=>n.getValue())}setValue(n){const t=this.getPayload();return n.length==t.length?t.map((e,r)=>e.setValue(n[r])).some(Boolean):(super.setValue(n.map(Rme)),!0)}};function Rme(n){return(cT(n)?wS:Tw).create(n)}function rL(n){const t=Cl(n);return t?t.constructor:Ce.arr(n)?I8:cT(n)?wS:Tw}var Zj=(n,t)=>{const e=!Ce.fun(n)||n.prototype&&n.prototype.isReactComponent;return I.forwardRef((r,i)=>{const o=I.useRef(null),a=e&&I.useCallback(f=>{o.current=Ame(i,f)},[i]),[s,l]=Pme(r,t),u=M8(),c=()=>{const f=o.current;if(e&&!f)return;(f?t.applyAnimatedValues(f,s.getValue(!0)):!1)===!1&&u()},d=new Tme(c,l),p=I.useRef();uh(()=>(p.current=d,ut(l,f=>Vg(f,d)),()=>{p.current&&(ut(p.current.deps,f=>CS(f,p.current)),rt.cancel(p.current.update))})),I.useEffect(c,[]),F8(()=>()=>{const f=p.current;ut(f.deps,v=>CS(v,f))});const h=t.getComponentProps(s.getValue());return I.createElement(n,{...h,ref:a})})},Tme=class{constructor(n,t){this.update=n,this.deps=t}eventObserved(n){n.type=="change"&&rt.write(this.update)}};function Pme(n,t){const e=new Set;return vb.dependencies=e,n.style&&(n={...n,style:t.createAnimatedStyle(n.style)}),n=new pT(n),vb.dependencies=null,[n,e]}function Ame(n,t){return n&&(Ce.fun(n)?n(t):n.current=t),t}var Qj=Symbol.for("AnimatedComponent"),Dme=(n,{applyAnimatedValues:t=()=>!1,createAnimatedStyle:e=i=>new pT(i),getComponentProps:r=i=>i}={})=>{const i={applyAnimatedValues:t,createAnimatedStyle:e,getComponentProps:r},o=a=>{const s=Jj(a)||"Anonymous";return Ce.str(a)?a=o[a]||(o[a]=Zj(a,i)):a=a[Qj]||(a[Qj]=Zj(a,i)),a.displayName=`Animated(${s})`,a};return Yl(n,(a,s)=>{Ce.arr(n)&&(s=Jj(a)),o[s]=o(a)}),{animated:o}},Jj=n=>Ce.str(n)?n:n&&Ce.str(n.displayName)?n.displayName:Ce.fun(n)&&n.name||null;function Ji(n,...t){return Ce.fun(n)?n(...t):n}var bC=(n,t)=>n===!0||!!(t&&n&&(Ce.fun(n)?n(t):bi(n).includes(t))),N8=(n,t)=>Ce.obj(n)?t&&n[t]:n,k8=(n,t)=>n.default===!0?n[t]:n.default?n.default[t]:void 0,Mme=n=>n,ak=(n,t=Mme)=>{let e=Fme;n.default&&n.default!==!0&&(n=n.default,e=Object.keys(n));const r={};for(const i of e){const o=t(n[i],i);Ce.und(o)||(r[i]=o)}return r},Fme=["config","onProps","onStart","onChange","onPause","onResume","onRest"],Lme={config:1,from:1,to:1,ref:1,loop:1,reset:1,pause:1,cancel:1,reverse:1,immediate:1,default:1,delay:1,onProps:1,onStart:1,onChange:1,onPause:1,onResume:1,onRest:1,onResolve:1,items:1,trail:1,sort:1,expires:1,initial:1,enter:1,update:1,leave:1,children:1,onDestroyed:1,keys:1,callId:1,parentId:1};function Ime(n){const t={};let e=0;if(Yl(n,(r,i)=>{Lme[i]||(t[i]=r,e++)}),e)return t}function sk(n){const t=Ime(n);if(t){const e={to:t};return Yl(n,(r,i)=>i in t||(e[i]=r)),e}return{...n}}function _S(n){return n=Qi(n),Ce.arr(n)?n.map(_S):cT(n)?Xa.createStringInterpolator({range:[0,1],output:[n,n]})(1):n}function Nme(n){for(const t in n)return!0;return!1}function nL(n){return Ce.fun(n)||Ce.arr(n)&&Ce.obj(n[0])}function e$(n,t){var e;(e=n.ref)==null||e.delete(n),t==null||t.delete(n)}function kme(n,t){var e;t&&n.ref!==t&&((e=n.ref)==null||e.delete(n),t.add(n),n.ref=t)}var Gme={default:{tension:170,friction:26},gentle:{tension:120,friction:14},wobbly:{tension:180,friction:12},stiff:{tension:210,friction:20},slow:{tension:280,friction:60},molasses:{tension:280,friction:120}},iL={...Gme.default,mass:1,damping:1,easing:cme.linear,clamp:!1},Vme=class{constructor(){this.velocity=0,Object.assign(this,iL)}};function Bme(n,t,e){e&&(e={...e},t$(e,t),t={...e,...t}),t$(n,t),Object.assign(n,t);for(const a in iL)n[a]==null&&(n[a]=iL[a]);let{frequency:r,damping:i}=n;const{mass:o}=n;return Ce.und(r)||(r<.01&&(r=.01),i<0&&(i=0),n.tension=Math.pow(2*Math.PI/r,2)*o,n.friction=4*Math.PI*i*o/r),n}function t$(n,t){if(!Ce.und(t.decay))n.duration=void 0;else{const e=!Ce.und(t.tension)||!Ce.und(t.friction);(e||!Ce.und(t.frequency)||!Ce.und(t.damping)||!Ce.und(t.mass))&&(n.duration=void 0,n.decay=void 0),e&&(n.frequency=void 0)}}var r$=[],Hme=class{constructor(){this.changed=!1,this.values=r$,this.toValues=null,this.fromValues=r$,this.config=new Vme,this.immediate=!1}};function G8(n,{key:t,props:e,defaultProps:r,state:i,actions:o}){return new Promise((a,s)=>{let l,u,c=bC(e.cancel??(r==null?void 0:r.cancel),t);if(c)h();else{Ce.und(e.pause)||(i.paused=bC(e.pause,t));let f=r==null?void 0:r.pause;f!==!0&&(f=i.paused||bC(f,t)),l=Ji(e.delay||0,t),f?(i.resumeQueue.add(p),o.pause()):(o.resume(),p())}function d(){i.resumeQueue.add(p),i.timeouts.delete(u),u.cancel(),l=u.time-rt.now()}function p(){l>0&&!Xa.skipAnimation?(i.delayed=!0,u=rt.setTimeout(h,l),i.pauseQueue.add(d),i.timeouts.add(u)):h()}function h(){i.delayed&&(i.delayed=!1),i.pauseQueue.delete(d),i.timeouts.delete(u),n<=(i.cancelId||0)&&(c=!0);try{o.start({...e,callId:n,cancel:c},a)}catch(f){s(f)}}})}var lk=(n,t)=>t.length==1?t[0]:t.some(e=>e.cancelled)?Vv(n.get()):t.every(e=>e.noop)?V8(n.get()):ms(n.get(),t.every(e=>e.finished)),V8=n=>({value:n,noop:!0,finished:!0,cancelled:!1}),ms=(n,t,e=!1)=>({value:n,finished:t,cancelled:e}),Vv=n=>({value:n,cancelled:!0,finished:!1});function B8(n,t,e,r){const{callId:i,parentId:o,onRest:a}=t,{asyncTo:s,promise:l}=e;return!o&&n===s&&!t.reset?l:e.promise=(async()=>{e.asyncId=i,e.asyncTo=n;const u=ak(t,(g,y)=>y==="onRest"?void 0:g);let c,d;const p=new Promise((g,y)=>(c=g,d=y)),h=g=>{const y=i<=(e.cancelId||0)&&Vv(r)||i!==e.asyncId&&ms(r,!1);if(y)throw g.result=y,d(g),g},f=(g,y)=>{const m=new n$,C=new i$;return(async()=>{if(Xa.skipAnimation)throw xS(e),C.result=ms(r,!1),d(C),C;h(m);const S=Ce.obj(g)?{...g}:{...y,to:g};S.parentId=i,Yl(u,(_,x)=>{Ce.und(S[x])&&(S[x]=_)});const w=await r.start(S);return h(m),e.paused&&await new Promise(_=>{e.resumeQueue.add(_)}),w})()};let v;if(Xa.skipAnimation)return xS(e),ms(r,!1);try{let g;Ce.arr(n)?g=(async y=>{for(const m of y)await f(m)})(n):g=Promise.resolve(n(f,r.stop.bind(r))),await Promise.all([g.then(c),p]),v=ms(r.get(),!0,!1)}catch(g){if(g instanceof n$)v=g.result;else if(g instanceof i$)v=g.result;else throw g}finally{i==e.asyncId&&(e.asyncId=o,e.asyncTo=o?s:void 0,e.promise=o?l:void 0)}return Ce.fun(a)&&rt.batchedUpdates(()=>{a(v,r,r.item)}),v})()}function xS(n,t){xC(n.timeouts,e=>e.cancel()),n.pauseQueue.clear(),n.resumeQueue.clear(),n.asyncId=n.asyncTo=n.promise=void 0,t&&(n.cancelId=t)}var n$=class extends Error{constructor(){super("An async animation has been interrupted. You see this error because you forgot to use `await` or `.catch(...)` on its returned promise.")}},i$=class extends Error{constructor(){super("SkipAnimationSignal")}},oL=n=>n instanceof uk,jme=1,uk=class extends R8{constructor(){super(...arguments),this.id=jme++,this._priority=0}get priority(){return this._priority}set priority(n){this._priority!=n&&(this._priority=n,this._onPriorityChange(n))}get(){const n=Cl(this);return n&&n.getValue()}to(...n){return Xa.to(this,n)}interpolate(...n){return mme(),Xa.to(this,n)}toJSON(){return this.get()}observerAdded(n){n==1&&this._attach()}observerRemoved(n){n==0&&this._detach()}_attach(){}_detach(){}_onChange(n,t=!1){mS(this,{type:"change",parent:this,value:n,idle:t})}_onPriorityChange(n){this.idle||sT.sort(this),mS(this,{type:"priority",parent:this,priority:n})}},Bh=Symbol.for("SpringPhase"),H8=1,aL=2,sL=4,mA=n=>(n[Bh]&H8)>0,Oc=n=>(n[Bh]&aL)>0,Ey=n=>(n[Bh]&sL)>0,o$=(n,t)=>t?n[Bh]|=aL|H8:n[Bh]&=~aL,a$=(n,t)=>t?n[Bh]|=sL:n[Bh]&=~sL,$me=class extends uk{constructor(n,t){if(super(),this.animation=new Hme,this.defaultProps={},this._state={paused:!1,delayed:!1,pauseQueue:new Set,resumeQueue:new Set,timeouts:new Set},this._pendingCalls=new Set,this._lastCallId=0,this._lastToId=0,this._memoizedDuration=0,!Ce.und(n)||!Ce.und(t)){const e=Ce.obj(n)?{...n}:{...t,from:n};Ce.und(e.default)&&(e.default=!0),this.start(e)}}get idle(){return!(Oc(this)||this._state.asyncTo)||Ey(this)}get goal(){return Qi(this.animation.to)}get velocity(){const n=Cl(this);return n instanceof Tw?n.lastVelocity||0:n.getPayload().map(t=>t.lastVelocity||0)}get hasAnimated(){return mA(this)}get isAnimating(){return Oc(this)}get isPaused(){return Ey(this)}get isDelayed(){return this._state.delayed}advance(n){let t=!0,e=!1;const r=this.animation;let{toValues:i}=r;const{config:o}=r,a=dT(r.to);!a&&Aa(r.to)&&(i=bi(Qi(r.to))),r.values.forEach((u,c)=>{if(u.done)return;const d=u.constructor==wS?1:a?a[c].lastPosition:i[c];let p=r.immediate,h=d;if(!p){if(h=u.lastPosition,o.tension<=0){u.done=!0;return}let f=u.elapsedTime+=n;const v=r.fromValues[c],g=u.v0!=null?u.v0:u.v0=Ce.arr(o.velocity)?o.velocity[c]:o.velocity;let y;const m=o.precision||(v==d?.005:Math.min(1,Math.abs(d-v)*.001));if(Ce.und(o.duration))if(o.decay){const C=o.decay===!0?.998:o.decay,S=Math.exp(-(1-C)*f);h=v+g/(1-C)*(1-S),p=Math.abs(u.lastPosition-h)<=m,y=g*S}else{y=u.lastVelocity==null?g:u.lastVelocity;const C=o.restVelocity||m/10,S=o.clamp?0:o.bounce,w=!Ce.und(S),_=v==d?u.v0>0:v<d;let x,b=!1;const O=1,T=Math.ceil(n/O);for(let A=0;A<T&&(x=Math.abs(y)>C,!(!x&&(p=Math.abs(d-h)<=m,p)));++A){w&&(b=h==d||h>d==_,b&&(y=-y*S,h=d));const N=-o.tension*1e-6*(h-d),M=-o.friction*.001*y,L=(N+M)/o.mass;y=y+L*O,h=h+y*O}}else{let C=1;o.duration>0&&(this._memoizedDuration!==o.duration&&(this._memoizedDuration=o.duration,u.durationProgress>0&&(u.elapsedTime=o.duration*u.durationProgress,f=u.elapsedTime+=n)),C=(o.progress||0)+f/this._memoizedDuration,C=C>1?1:C<0?0:C,u.durationProgress=C),h=v+o.easing(C)*(d-v),y=(h-u.lastPosition)/n,p=C==1}u.lastVelocity=y,Number.isNaN(h)&&(console.warn("Got NaN while animating:",this),p=!0)}a&&!a[c].done&&(p=!1),p?u.done=!0:t=!1,u.setValue(h,o.round)&&(e=!0)});const s=Cl(this),l=s.getValue();if(t){const u=Qi(r.to);(l!==u||e)&&!o.decay?(s.setValue(u),this._onChange(u)):e&&o.decay&&this._onChange(l),this._stop()}else e&&this._onChange(l)}set(n){return rt.batchedUpdates(()=>{this._stop(),this._focus(n),this._set(n)}),this}pause(){this._update({pause:!0})}resume(){this._update({pause:!1})}finish(){if(Oc(this)){const{to:n,config:t}=this.animation;rt.batchedUpdates(()=>{this._onStart(),t.decay||this._set(n,!1),this._stop()})}return this}update(n){return(this.queue||(this.queue=[])).push(n),this}start(n,t){let e;return Ce.und(n)?(e=this.queue||[],this.queue=[]):e=[Ce.obj(n)?n:{...t,to:n}],Promise.all(e.map(r=>this._update(r))).then(r=>lk(this,r))}stop(n){const{to:t}=this.animation;return this._focus(this.get()),xS(this._state,n&&this._lastCallId),rt.batchedUpdates(()=>this._stop(t,n)),this}reset(){this._update({reset:!0})}eventObserved(n){n.type=="change"?this._start():n.type=="priority"&&(this.priority=n.priority+1)}_prepareNode(n){const t=this.key||"";let{to:e,from:r}=n;e=Ce.obj(e)?e[t]:e,(e==null||nL(e))&&(e=void 0),r=Ce.obj(r)?r[t]:r,r==null&&(r=void 0);const i={to:e,from:r};return mA(this)||(n.reverse&&([e,r]=[r,e]),r=Qi(r),Ce.und(r)?Cl(this)||this._set(e):this._set(r)),i}_update({...n},t){const{key:e,defaultProps:r}=this;n.default&&Object.assign(r,ak(n,(a,s)=>/^on/.test(s)?N8(a,e):a)),l$(this,n,"onProps"),Oy(this,"onProps",n,this);const i=this._prepareNode(n);if(Object.isFrozen(this))throw Error("Cannot animate a `SpringValue` object that is frozen. Did you forget to pass your component to `animated(...)` before animating its props?");const o=this._state;return G8(++this._lastCallId,{key:e,props:n,defaultProps:r,state:o,actions:{pause:()=>{Ey(this)||(a$(this,!0),Lm(o.pauseQueue),Oy(this,"onPause",ms(this,by(this,this.animation.to)),this))},resume:()=>{Ey(this)&&(a$(this,!1),Oc(this)&&this._resume(),Lm(o.resumeQueue),Oy(this,"onResume",ms(this,by(this,this.animation.to)),this))},start:this._merge.bind(this,i)}}).then(a=>{if(n.loop&&a.finished&&!(t&&a.noop)){const s=j8(n);if(s)return this._update(s,!0)}return a})}_merge(n,t,e){if(t.cancel)return this.stop(!0),e(Vv(this));const r=!Ce.und(n.to),i=!Ce.und(n.from);if(r||i)if(t.callId>this._lastToId)this._lastToId=t.callId;else return e(Vv(this));const{key:o,defaultProps:a,animation:s}=this,{to:l,from:u}=s;let{to:c=l,from:d=u}=n;i&&!r&&(!t.default||Ce.und(c))&&(c=d),t.reverse&&([c,d]=[d,c]);const p=!xu(d,u);p&&(s.from=d),d=Qi(d);const h=!xu(c,l);h&&this._focus(c);const f=nL(t.to),{config:v}=s,{decay:g,velocity:y}=v;(r||i)&&(v.velocity=0),t.config&&!f&&Bme(v,Ji(t.config,o),t.config!==a.config?Ji(a.config,o):void 0);let m=Cl(this);if(!m||Ce.und(c))return e(ms(this,!0));const C=Ce.und(t.reset)?i&&!t.default:!Ce.und(d)&&bC(t.reset,o),S=C?d:this.get(),w=_S(c),_=Ce.num(w)||Ce.arr(w)||cT(w),x=!f&&(!_||bC(a.immediate||t.immediate,o));if(h){const A=rL(c);if(A!==m.constructor)if(x)m=this._set(w);else throw Error(`Cannot animate between ${m.constructor.name} and ${A.name}, as the "to" prop suggests`)}const b=m.constructor;let O=Aa(c),T=!1;if(!O){const A=C||!mA(this)&&p;(h||A)&&(T=xu(_S(S),w),O=!T),(!xu(s.immediate,x)&&!x||!xu(v.decay,g)||!xu(v.velocity,y))&&(O=!0)}if(T&&Oc(this)&&(s.changed&&!C?O=!0:O||this._stop(l)),!f&&((O||Aa(l))&&(s.values=m.getPayload(),s.toValues=Aa(c)?null:b==wS?[1]:bi(w)),s.immediate!=x&&(s.immediate=x,!x&&!C&&this._set(l)),O)){const{onRest:A}=s;ut(Wme,M=>l$(this,t,M));const N=ms(this,by(this,l));Lm(this._pendingCalls,N),this._pendingCalls.add(e),s.changed&&rt.batchedUpdates(()=>{var M;s.changed=!C,A==null||A(N,this),C?Ji(a.onRest,N):(M=s.onStart)==null||M.call(s,N,this)})}C&&this._set(S),f?e(B8(t.to,t,this._state,this)):O?this._start():Oc(this)&&!h?this._pendingCalls.add(e):e(V8(S))}_focus(n){const t=this.animation;n!==t.to&&(Xj(this)&&this._detach(),t.to=n,Xj(this)&&this._attach())}_attach(){let n=0;const{to:t}=this.animation;Aa(t)&&(Vg(t,this),oL(t)&&(n=t.priority+1)),this.priority=n}_detach(){const{to:n}=this.animation;Aa(n)&&CS(n,this)}_set(n,t=!0){const e=Qi(n);if(!Ce.und(e)){const r=Cl(this);if(!r||!xu(e,r.getValue())){const i=rL(e);!r||r.constructor!=i?ok(this,i.create(e)):r.setValue(e),r&&rt.batchedUpdates(()=>{this._onChange(e,t)})}}return Cl(this)}_onStart(){const n=this.animation;n.changed||(n.changed=!0,Oy(this,"onStart",ms(this,by(this,n.to)),this))}_onChange(n,t){t||(this._onStart(),Ji(this.animation.onChange,n,this)),Ji(this.defaultProps.onChange,n,this),super._onChange(n,t)}_start(){const n=this.animation;Cl(this).reset(Qi(n.to)),n.immediate||(n.fromValues=n.values.map(t=>t.lastPosition)),Oc(this)||(o$(this,!0),Ey(this)||this._resume())}_resume(){Xa.skipAnimation?this.finish():sT.start(this)}_stop(n,t){if(Oc(this)){o$(this,!1);const e=this.animation;ut(e.values,i=>{i.done=!0}),e.toValues&&(e.onChange=e.onPause=e.onResume=void 0),mS(this,{type:"idle",parent:this});const r=t?Vv(this.get()):ms(this.get(),by(this,n??e.to));Lm(this._pendingCalls,r),e.changed&&(e.changed=!1,Oy(this,"onRest",r,this))}}};function by(n,t){const e=_S(t),r=_S(n.get());return xu(r,e)}function j8(n,t=n.loop,e=n.to){const r=Ji(t);if(r){const i=r!==!0&&sk(r),o=(i||n).reverse,a=!i||i.reset;return gb({...n,loop:t,default:!1,pause:void 0,to:!o||nL(e)?e:void 0,from:a?n.from:void 0,reset:a,...i})}}function gb(n){const{to:t,from:e}=n=sk(n),r=new Set;return Ce.obj(t)&&s$(t,r),Ce.obj(e)&&s$(e,r),n.keys=r.size?Array.from(r):null,n}function s$(n,t){Yl(n,(e,r)=>e!=null&&t.add(r))}var Wme=["onStart","onRest","onChange","onPause","onResume"];function l$(n,t,e){n.animation[e]=t[e]!==k8(t,e)?N8(t[e],n.key):void 0}function Oy(n,t,...e){var r,i,o,a;(i=(r=n.animation)[t])==null||i.call(r,...e),(a=(o=n.defaultProps)[t])==null||a.call(o,...e)}var Ume=["onStart","onChange","onRest"],zme=1,Kme=class{constructor(n,t){this.id=zme++,this.springs={},this.queue=[],this._lastAsyncId=0,this._active=new Set,this._changed=new Set,this._started=!1,this._state={paused:!1,pauseQueue:new Set,resumeQueue:new Set,timeouts:new Set},this._events={onStart:new Map,onChange:new Map,onRest:new Map},this._onFrame=this._onFrame.bind(this),t&&(this._flush=t),n&&this.start({default:!0,...n})}get idle(){return!this._state.asyncTo&&Object.values(this.springs).every(n=>n.idle&&!n.isDelayed&&!n.isPaused)}get item(){return this._item}set item(n){this._item=n}get(){const n={};return this.each((t,e)=>n[e]=t.get()),n}set(n){for(const t in n){const e=n[t];Ce.und(e)||this.springs[t].set(e)}}update(n){return n&&this.queue.push(gb(n)),this}start(n){let{queue:t}=this;return n?t=bi(n).map(gb):this.queue=[],this._flush?this._flush(this,t):(z8(this,t),Yme(this,t))}stop(n,t){if(n!==!!n&&(t=n),t){const e=this.springs;ut(bi(t),r=>e[r].stop(!!n))}else xS(this._state,this._lastAsyncId),this.each(e=>e.stop(!!n));return this}pause(n){if(Ce.und(n))this.start({pause:!0});else{const t=this.springs;ut(bi(n),e=>t[e].pause())}return this}resume(n){if(Ce.und(n))this.start({pause:!1});else{const t=this.springs;ut(bi(n),e=>t[e].resume())}return this}each(n){Yl(this.springs,n)}_onFrame(){const{onStart:n,onChange:t,onRest:e}=this._events,r=this._active.size>0,i=this._changed.size>0;(r&&!this._started||i&&!this._started)&&(this._started=!0,xC(n,([s,l])=>{l.value=this.get(),s(l,this,this._item)}));const o=!r&&this._started,a=i||o&&e.size?this.get():null;i&&t.size&&xC(t,([s,l])=>{l.value=a,s(l,this,this._item)}),o&&(this._started=!1,xC(e,([s,l])=>{l.value=a,s(l,this,this._item)}))}eventObserved(n){if(n.type=="change")this._changed.add(n.parent),n.idle||this._active.add(n.parent);else if(n.type=="idle")this._active.delete(n.parent);else return;rt.onFrame(this._onFrame)}};function Yme(n,t){return Promise.all(t.map(e=>$8(n,e))).then(e=>lk(n,e))}async function $8(n,t,e){const{keys:r,to:i,from:o,loop:a,onRest:s,onResolve:l}=t,u=Ce.obj(t.default)&&t.default;a&&(t.loop=!1),i===!1&&(t.to=null),o===!1&&(t.from=null);const c=Ce.arr(i)||Ce.fun(i)?i:void 0;c?(t.to=void 0,t.onRest=void 0,u&&(u.onRest=void 0)):ut(Ume,v=>{const g=t[v];if(Ce.fun(g)){const y=n._events[v];t[v]=({finished:m,cancelled:C})=>{const S=y.get(g);S?(m||(S.finished=!1),C&&(S.cancelled=!0)):y.set(g,{value:null,finished:m||!1,cancelled:C||!1})},u&&(u[v]=t[v])}});const d=n._state;t.pause===!d.paused?(d.paused=t.pause,Lm(t.pause?d.pauseQueue:d.resumeQueue)):d.paused&&(t.pause=!0);const p=(r||Object.keys(n.springs)).map(v=>n.springs[v].start(t)),h=t.cancel===!0||k8(t,"cancel")===!0;(c||h&&d.asyncId)&&p.push(G8(++n._lastAsyncId,{props:t,state:d,actions:{pause:eL,resume:eL,start(v,g){h?(xS(d,n._lastAsyncId),g(Vv(n))):(v.onRest=s,g(B8(c,v,d,n)))}}})),d.paused&&await new Promise(v=>{d.resumeQueue.add(v)});const f=lk(n,await Promise.all(p));if(a&&f.finished&&!(e&&f.noop)){const v=j8(t,a,i);if(v)return z8(n,[v]),$8(n,v,!0)}return l&&rt.batchedUpdates(()=>l(f,n,n.item)),f}function Xme(n,t){const e={...n.springs};return t&&ut(bi(t),r=>{Ce.und(r.keys)&&(r=gb(r)),Ce.obj(r.to)||(r={...r,to:void 0}),U8(e,r,i=>W8(i))}),qme(n,e),e}function qme(n,t){Yl(t,(e,r)=>{n.springs[r]||(n.springs[r]=e,Vg(e,n))})}function W8(n,t){const e=new $me;return e.key=n,t&&Vg(e,t),e}function U8(n,t,e){t.keys&&ut(t.keys,r=>{(n[r]||(n[r]=e(r)))._prepareNode(t)})}function z8(n,t){ut(t,e=>{U8(n.springs,e,r=>W8(r,n))})}var hT=({children:n,...t})=>{const e=I.useContext(yb),r=t.pause||!!e.pause,i=t.immediate||!!e.immediate;t=_me(()=>({pause:r,immediate:i}),[r,i]);const{Provider:o}=yb;return I.createElement(o,{value:t},n)},yb=Zme(hT,{});hT.Provider=yb.Provider;hT.Consumer=yb.Consumer;function Zme(n,t){return Object.assign(n,I.createContext(t)),n.Provider._context=n,n.Consumer._context=n,n}var Qme=()=>{const n=[],t=function(r){Sme();const i=[];return ut(n,(o,a)=>{if(Ce.und(r))i.push(o.start());else{const s=e(r,o,a);s&&i.push(o.start(s))}}),i};t.current=n,t.add=function(r){n.includes(r)||n.push(r)},t.delete=function(r){const i=n.indexOf(r);~i&&n.splice(i,1)},t.pause=function(){return ut(n,r=>r.pause(...arguments)),this},t.resume=function(){return ut(n,r=>r.resume(...arguments)),this},t.set=function(r){ut(n,(i,o)=>{const a=Ce.fun(r)?r(o,i):r;a&&i.set(a)})},t.start=function(r){const i=[];return ut(n,(o,a)=>{if(Ce.und(r))i.push(o.start());else{const s=this._getProps(r,o,a);s&&i.push(o.start(s))}}),i},t.stop=function(){return ut(n,r=>r.stop(...arguments)),this},t.update=function(r){return ut(n,(i,o)=>i.update(this._getProps(r,i,o))),this};const e=function(r,i,o){return Ce.fun(r)?r(o,i):r};return t._getProps=e,t};function ck(n,t,e){const r=Ce.fun(t)&&t,{reset:i,sort:o,trail:a=0,expires:s=!0,exitBeforeEnter:l=!1,onDestroyed:u,ref:c,config:d}=r?r():t,p=I.useMemo(()=>r||arguments.length==3?Qme():void 0,[]),h=bi(n),f=[],v=I.useRef(null),g=i?null:v.current;uh(()=>{v.current=f}),F8(()=>(ut(f,L=>{p==null||p.add(L.ctrl),L.ctrl.ref=p}),()=>{ut(v.current,L=>{L.expired&&clearTimeout(L.expirationId),e$(L.ctrl,p),L.ctrl.stop(!0)})}));const y=eCe(h,r?r():t,g),m=i&&v.current||[];uh(()=>ut(m,({ctrl:L,item:G,key:H})=>{e$(L,p),Ji(u,G,H)}));const C=[];if(g&&ut(g,(L,G)=>{L.expired?(clearTimeout(L.expirationId),m.push(L)):(G=C[G]=y.indexOf(L.key),~G&&(f[G]=L))}),ut(h,(L,G)=>{f[G]||(f[G]={key:y[G],item:L,phase:"mount",ctrl:new Kme},f[G].ctrl.item=L)}),C.length){let L=-1;const{leave:G}=r?r():t;ut(C,(H,j)=>{const V=g[j];~H?(L=f.indexOf(V),f[L]={...V,item:h[H]}):G&&f.splice(++L,0,V)})}Ce.fun(o)&&f.sort((L,G)=>o(L.item,G.item));let S=-a;const w=M8(),_=ak(t),x=new Map,b=I.useRef(new Map),O=I.useRef(!1);ut(f,(L,G)=>{const H=L.key,j=L.phase,V=r?r():t;let W,K;const ee=Ji(V.delay||0,H);if(j=="mount")W=V.enter,K="enter";else{const re=y.indexOf(H)<0;if(j!="leave")if(re)W=V.leave,K="leave";else if(W=V.update)K="update";else return;else if(!re)W=V.enter,K="enter";else return}if(W=Ji(W,L.item,G),W=Ce.obj(W)?sk(W):{to:W},!W.config){const re=d||_.config;W.config=Ji(re,L.item,G,K)}S+=a;const Z={..._,delay:ee+S,ref:c,immediate:V.immediate,reset:!1,...W};if(K=="enter"&&Ce.und(Z.from)){const re=r?r():t,Y=Ce.und(re.initial)||g?re.from:re.initial;Z.from=Ji(Y,L.item,G)}const{onResolve:se}=Z;Z.onResolve=re=>{Ji(se,re);const Y=v.current,le=Y.find(ye=>ye.key===H);if(le&&!(re.cancelled&&le.phase!="update")&&le.ctrl.idle){const ye=Y.every(Q=>Q.ctrl.idle);if(le.phase=="leave"){const Q=Ji(s,le.item);if(Q!==!1){const he=Q===!0?0:Q;if(le.expired=!0,!ye&&he>0){he<=2147483647&&(le.expirationId=setTimeout(w,he));return}}}ye&&Y.some(Q=>Q.expired)&&(b.current.delete(le),l&&(O.current=!0),w())}};const ie=Xme(L.ctrl,Z);K==="leave"&&l?b.current.set(L,{phase:K,springs:ie,payload:Z}):x.set(L,{phase:K,springs:ie,payload:Z})});const T=I.useContext(hT),A=bme(T),N=T!==A&&Nme(T);uh(()=>{N&&ut(f,L=>{L.ctrl.start({default:T})})},[T]),ut(x,(L,G)=>{if(b.current.size){const H=f.findIndex(j=>j.key===G.key);f.splice(H,1)}}),uh(()=>{ut(b.current.size?b.current:x,({phase:L,payload:G},H)=>{const{ctrl:j}=H;H.phase=L,p==null||p.add(j),N&&L=="enter"&&j.start({default:T}),G&&(kme(j,G.ref),(j.ref||p)&&!O.current?j.update(G):(j.start(G),O.current&&(O.current=!1)))})},i?void 0:e);const M=L=>I.createElement(I.Fragment,null,f.map((G,H)=>{const{springs:j}=x.get(G)||G.ctrl,V=L({...j},G.item,G,H);return V&&V.type?I.createElement(V.type,{...V.props,key:Ce.str(G.key)||Ce.num(G.key)?G.key:G.ctrl.id,ref:V.ref}):V}));return p?[M,p]:M}var Jme=1;function eCe(n,{key:t,keys:e=t},r){if(e===null){const i=new Set;return n.map(o=>{const a=r&&r.find(s=>s.item===o&&s.phase!=="leave"&&!i.has(s));return a?(i.add(a),a.key):Jme++})}return Ce.und(e)?n:Ce.fun(e)?n.map(e):bi(e)}var K8=class extends uk{constructor(n,t){super(),this.source=n,this.idle=!0,this._active=new Set,this.calc=gS(...t);const e=this._get(),r=rL(e);ok(this,r.create(e))}advance(n){const t=this._get(),e=this.get();xu(t,e)||(Cl(this).setValue(t),this._onChange(t,this.idle)),!this.idle&&u$(this._active)&&CA(this)}_get(){const n=Ce.arr(this.source)?this.source.map(Qi):bi(Qi(this.source));return this.calc(...n)}_start(){this.idle&&!u$(this._active)&&(this.idle=!1,ut(dT(this),n=>{n.done=!1}),Xa.skipAnimation?(rt.batchedUpdates(()=>this.advance()),CA(this)):sT.start(this))}_attach(){let n=1;ut(bi(this.source),t=>{Aa(t)&&Vg(t,this),oL(t)&&(t.idle||this._active.add(t),n=Math.max(n,t.priority+1))}),this.priority=n,this._start()}_detach(){ut(bi(this.source),n=>{Aa(n)&&CS(n,this)}),this._active.clear(),CA(this)}eventObserved(n){n.type=="change"?n.idle?this.advance():(this._active.add(n.parent),this._start()):n.type=="idle"?this._active.delete(n.parent):n.type=="priority"&&(this.priority=bi(this.source).reduce((t,e)=>Math.max(t,(oL(e)?e.priority:0)+1),0))}};function tCe(n){return n.idle!==!1}function u$(n){return!n.size||Array.from(n).every(tCe)}function CA(n){n.idle||(n.idle=!0,ut(dT(n),t=>{t.done=!0}),mS(n,{type:"idle",parent:n}))}var lL=(n,...t)=>new K8(n,t);Xa.assign({createStringInterpolator:A8,to:(n,t)=>new K8(n,t)});var Y8=/^--/;function rCe(n,t){return t==null||typeof t=="boolean"||t===""?"":typeof t=="number"&&t!==0&&!Y8.test(n)&&!(OC.hasOwnProperty(n)&&OC[n])?t+"px":(""+t).trim()}var c$={};function nCe(n,t){if(!n.nodeType||!n.setAttribute)return!1;const e=n.nodeName==="filter"||n.parentNode&&n.parentNode.nodeName==="filter",{style:r,children:i,scrollTop:o,scrollLeft:a,viewBox:s,...l}=t,u=Object.values(l),c=Object.keys(l).map(d=>e||n.hasAttribute(d)?d:c$[d]||(c$[d]=d.replace(/([A-Z])/g,p=>"-"+p.toLowerCase())));i!==void 0&&(n.textContent=i);for(const d in r)if(r.hasOwnProperty(d)){const p=rCe(d,r[d]);Y8.test(d)?n.style.setProperty(d,p):n.style[d]=p}c.forEach((d,p)=>{n.setAttribute(d,u[p])}),o!==void 0&&(n.scrollTop=o),a!==void 0&&(n.scrollLeft=a),s!==void 0&&n.setAttribute("viewBox",s)}var OC={animationIterationCount:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},iCe=(n,t)=>n+t.charAt(0).toUpperCase()+t.substring(1),oCe=["Webkit","Ms","Moz","O"];OC=Object.keys(OC).reduce((n,t)=>(oCe.forEach(e=>n[iCe(e,t)]=n[t]),n),OC);var aCe=/^(matrix|translate|scale|rotate|skew)/,sCe=/^(translate)/,lCe=/^(rotate|skew)/,SA=(n,t)=>Ce.num(n)&&n!==0?n+t:n,Zx=(n,t)=>Ce.arr(n)?n.every(e=>Zx(e,t)):Ce.num(n)?n===t:parseFloat(n)===t,uCe=class extends pT{constructor({x:n,y:t,z:e,...r}){const i=[],o=[];(n||t||e)&&(i.push([n||0,t||0,e||0]),o.push(a=>[`translate3d(${a.map(s=>SA(s,"px")).join(",")})`,Zx(a,0)])),Yl(r,(a,s)=>{if(s==="transform")i.push([a||""]),o.push(l=>[l,l===""]);else if(aCe.test(s)){if(delete r[s],Ce.und(a))return;const l=sCe.test(s)?"px":lCe.test(s)?"deg":"";i.push(bi(a)),o.push(s==="rotate3d"?([u,c,d,p])=>[`rotate3d(${u},${c},${d},${SA(p,l)})`,Zx(p,0)]:u=>[`${s}(${u.map(c=>SA(c,l)).join(",")})`,Zx(u,s.startsWith("scale")?1:0)])}}),i.length&&(r.transform=new cCe(i,o)),super(r)}},cCe=class extends R8{constructor(n,t){super(),this.inputs=n,this.transforms=t,this._value=null}get(){return this._value||(this._value=this._get())}_get(){let n="",t=!0;return ut(this.inputs,(e,r)=>{const i=Qi(e[0]),[o,a]=this.transforms[r](Ce.arr(i)?i:e.map(Qi));n+=" "+o,t=t&&a}),t?"none":n}observerAdded(n){n==1&&ut(this.inputs,t=>ut(t,e=>Aa(e)&&Vg(e,this)))}observerRemoved(n){n==0&&ut(this.inputs,t=>ut(t,e=>Aa(e)&&CS(e,this)))}eventObserved(n){n.type=="change"&&(this._value=null),mS(this,n)}},dCe=["a","abbr","address","area","article","aside","audio","b","base","bdi","bdo","big","blockquote","body","br","button","canvas","caption","cite","code","col","colgroup","data","datalist","dd","del","details","dfn","dialog","div","dl","dt","em","embed","fieldset","figcaption","figure","footer","form","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","html","i","iframe","img","input","ins","kbd","keygen","label","legend","li","link","main","map","mark","menu","menuitem","meta","meter","nav","noscript","object","ol","optgroup","option","output","p","param","picture","pre","progress","q","rp","rt","ruby","s","samp","script","section","select","small","source","span","strong","style","sub","summary","sup","table","tbody","td","textarea","tfoot","th","thead","time","title","tr","track","u","ul","var","video","wbr","circle","clipPath","defs","ellipse","foreignObject","g","image","line","linearGradient","mask","path","pattern","polygon","polyline","radialGradient","rect","stop","svg","text","tspan"];Xa.assign({batchedUpdates:Qh.unstable_batchedUpdates,createStringInterpolator:A8,colors:Zye});var pCe=Dme(dCe,{applyAnimatedValues:nCe,createAnimatedStyle:n=>new uCe(n),getComponentProps:({scrollTop:n,scrollLeft:t,...e})=>e}),dk=pCe.animated;const hCe=()=>{uh(()=>{const n=window.matchMedia("(prefers-reduced-motion)"),t=e=>{Xa.assign({skipAnimation:e.matches||void 0})};return t(n),n.addEventListener("change",t),()=>{n.removeEventListener("change",t)}},[])};function Qx(n,t){return n==null||t==null?NaN:n<t?-1:n>t?1:n>=t?0:NaN}function fCe(n,t){return n==null||t==null?NaN:t<n?-1:t>n?1:t>=n?0:NaN}function pk(n){let t,e,r;n.length!==2?(t=Qx,e=(s,l)=>Qx(n(s),l),r=(s,l)=>n(s)-l):(t=n===Qx||n===fCe?n:vCe,e=n,r=n);function i(s,l,u=0,c=s.length){if(u<c){if(t(l,l)!==0)return c;do{const d=u+c>>>1;e(s[d],l)<0?u=d+1:c=d}while(u<c)}return u}function o(s,l,u=0,c=s.length){if(u<c){if(t(l,l)!==0)return c;do{const d=u+c>>>1;e(s[d],l)<=0?u=d+1:c=d}while(u<c)}return u}function a(s,l,u=0,c=s.length){const d=i(s,l,u,c-1);return d>u&&r(s[d-1],l)>-r(s[d],l)?d-1:d}return{left:i,center:a,right:o}}function vCe(){return 0}function gCe(n){return n===null?NaN:+n}const yCe=pk(Qx),mCe=yCe.right;pk(gCe).center;class d$ extends Map{constructor(t,e=wCe){if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:e}}),t!=null)for(const[r,i]of t)this.set(r,i)}get(t){return super.get(p$(this,t))}has(t){return super.has(p$(this,t))}set(t,e){return super.set(CCe(this,t),e)}delete(t){return super.delete(SCe(this,t))}}function p$({_intern:n,_key:t},e){const r=t(e);return n.has(r)?n.get(r):e}function CCe({_intern:n,_key:t},e){const r=t(e);return n.has(r)?n.get(r):(n.set(r,e),e)}function SCe({_intern:n,_key:t},e){const r=t(e);return n.has(r)&&(e=n.get(r),n.delete(r)),e}function wCe(n){return n!==null&&typeof n=="object"?n.valueOf():n}const _Ce=Math.sqrt(50),xCe=Math.sqrt(10),ECe=Math.sqrt(2);function mb(n,t,e){const r=(t-n)/Math.max(0,e),i=Math.floor(Math.log10(r)),o=r/Math.pow(10,i),a=o>=_Ce?10:o>=xCe?5:o>=ECe?2:1;let s,l,u;return i<0?(u=Math.pow(10,-i)/a,s=Math.round(n*u),l=Math.round(t*u),s/u<n&&++s,l/u>t&&--l,u=-u):(u=Math.pow(10,i)*a,s=Math.round(n/u),l=Math.round(t/u),s*u<n&&++s,l*u>t&&--l),l<s&&.5<=e&&e<2?mb(n,t,e*2):[s,l,u]}function uL(n,t,e){if(t=+t,n=+n,e=+e,!(e>0))return[];if(n===t)return[n];const r=t<n,[i,o,a]=r?mb(t,n,e):mb(n,t,e);if(!(o>=i))return[];const s=o-i+1,l=new Array(s);if(r)if(a<0)for(let u=0;u<s;++u)l[u]=(o-u)/-a;else for(let u=0;u<s;++u)l[u]=(o-u)*a;else if(a<0)for(let u=0;u<s;++u)l[u]=(i+u)/-a;else for(let u=0;u<s;++u)l[u]=(i+u)*a;return l}function cL(n,t,e){return t=+t,n=+n,e=+e,mb(n,t,e)[2]}function dL(n,t,e){t=+t,n=+n,e=+e;const r=t<n,i=r?cL(t,n,e):cL(n,t,e);return(r?-1:1)*(i<0?1/-i:i)}function bCe(n,t,e){n=+n,t=+t,e=(i=arguments.length)<2?(t=n,n=0,1):i<3?1:+e;for(var r=-1,i=Math.max(0,Math.ceil((t-n)/e))|0,o=new Array(i);++r<i;)o[r]=n+r*e;return o}function Jh(n,t){switch(arguments.length){case 0:break;case 1:this.range(n);break;default:this.range(t).domain(n);break}return this}const h$=Symbol("implicit");function X8(){var n=new d$,t=[],e=[],r=h$;function i(o){let a=n.get(o);if(a===void 0){if(r!==h$)return r;n.set(o,a=t.push(o)-1)}return e[a%e.length]}return i.domain=function(o){if(!arguments.length)return t.slice();t=[],n=new d$;for(const a of o)n.has(a)||n.set(a,t.push(a)-1);return i},i.range=function(o){return arguments.length?(e=Array.from(o),i):e.slice()},i.unknown=function(o){return arguments.length?(r=o,i):r},i.copy=function(){return X8(t,e).unknown(r)},Jh.apply(i,arguments),i}function Cb(){var n=X8().unknown(void 0),t=n.domain,e=n.range,r=0,i=1,o,a,s=!1,l=0,u=0,c=.5;delete n.unknown;function d(){var p=t().length,h=i<r,f=h?i:r,v=h?r:i;o=(v-f)/Math.max(1,p-l+u*2),s&&(o=Math.floor(o)),f+=(v-f-o*(p-l))*c,a=o*(1-l),s&&(f=Math.round(f),a=Math.round(a));var g=bCe(p).map(function(y){return f+o*y});return e(h?g.reverse():g)}return n.domain=function(p){return arguments.length?(t(p),d()):t()},n.range=function(p){return arguments.length?([r,i]=p,r=+r,i=+i,d()):[r,i]},n.rangeRound=function(p){return[r,i]=p,r=+r,i=+i,s=!0,d()},n.bandwidth=function(){return a},n.step=function(){return o},n.round=function(p){return arguments.length?(s=!!p,d()):s},n.padding=function(p){return arguments.length?(l=Math.min(1,u=+p),d()):l},n.paddingInner=function(p){return arguments.length?(l=Math.min(1,p),d()):l},n.paddingOuter=function(p){return arguments.length?(u=+p,d()):u},n.align=function(p){return arguments.length?(c=Math.max(0,Math.min(1,p)),d()):c},n.copy=function(){return Cb(t(),[r,i]).round(s).paddingInner(l).paddingOuter(u).align(c)},Jh.apply(d(),arguments)}function q8(n){var t=n.copy;return n.padding=n.paddingOuter,delete n.paddingInner,delete n.paddingOuter,n.copy=function(){return q8(t())},n}function f$(){return q8(Cb.apply(null,arguments).paddingInner(1))}function hk(n,t,e){n.prototype=t.prototype=e,e.constructor=n}function Z8(n,t){var e=Object.create(n.prototype);for(var r in t)e[r]=t[r];return e}function Pw(){}var ES=.7,Sb=1/ES,Bv="\\s*([+-]?\\d+)\\s*",bS="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",Hl="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",OCe=/^#([0-9a-f]{3,8})$/,RCe=new RegExp(`^rgb\\(${Bv},${Bv},${Bv}\\)$`),TCe=new RegExp(`^rgb\\(${Hl},${Hl},${Hl}\\)$`),PCe=new RegExp(`^rgba\\(${Bv},${Bv},${Bv},${bS}\\)$`),ACe=new RegExp(`^rgba\\(${Hl},${Hl},${Hl},${bS}\\)$`),DCe=new RegExp(`^hsl\\(${bS},${Hl},${Hl}\\)$`),MCe=new RegExp(`^hsla\\(${bS},${Hl},${Hl},${bS}\\)$`),v$={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};hk(Pw,Yu,{copy(n){return Object.assign(new this.constructor,this,n)},displayable(){return this.rgb().displayable()},hex:g$,formatHex:g$,formatHex8:FCe,formatHsl:LCe,formatRgb:y$,toString:y$});function g$(){return this.rgb().formatHex()}function FCe(){return this.rgb().formatHex8()}function LCe(){return Q8(this).formatHsl()}function y$(){return this.rgb().formatRgb()}function Yu(n){var t,e;return n=(n+"").trim().toLowerCase(),(t=OCe.exec(n))?(e=t[1].length,t=parseInt(t[1],16),e===6?m$(t):e===3?new io(t>>8&15|t>>4&240,t>>4&15|t&240,(t&15)<<4|t&15,1):e===8?q0(t>>24&255,t>>16&255,t>>8&255,(t&255)/255):e===4?q0(t>>12&15|t>>8&240,t>>8&15|t>>4&240,t>>4&15|t&240,((t&15)<<4|t&15)/255):null):(t=RCe.exec(n))?new io(t[1],t[2],t[3],1):(t=TCe.exec(n))?new io(t[1]*255/100,t[2]*255/100,t[3]*255/100,1):(t=PCe.exec(n))?q0(t[1],t[2],t[3],t[4]):(t=ACe.exec(n))?q0(t[1]*255/100,t[2]*255/100,t[3]*255/100,t[4]):(t=DCe.exec(n))?w$(t[1],t[2]/100,t[3]/100,1):(t=MCe.exec(n))?w$(t[1],t[2]/100,t[3]/100,t[4]):v$.hasOwnProperty(n)?m$(v$[n]):n==="transparent"?new io(NaN,NaN,NaN,0):null}function m$(n){return new io(n>>16&255,n>>8&255,n&255,1)}function q0(n,t,e,r){return r<=0&&(n=t=e=NaN),new io(n,t,e,r)}function ICe(n){return n instanceof Pw||(n=Yu(n)),n?(n=n.rgb(),new io(n.r,n.g,n.b,n.opacity)):new io}function pL(n,t,e,r){return arguments.length===1?ICe(n):new io(n,t,e,r??1)}function io(n,t,e,r){this.r=+n,this.g=+t,this.b=+e,this.opacity=+r}hk(io,pL,Z8(Pw,{brighter(n){return n=n==null?Sb:Math.pow(Sb,n),new io(this.r*n,this.g*n,this.b*n,this.opacity)},darker(n){return n=n==null?ES:Math.pow(ES,n),new io(this.r*n,this.g*n,this.b*n,this.opacity)},rgb(){return this},clamp(){return new io(_h(this.r),_h(this.g),_h(this.b),wb(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:C$,formatHex:C$,formatHex8:NCe,formatRgb:S$,toString:S$}));function C$(){return`#${ch(this.r)}${ch(this.g)}${ch(this.b)}`}function NCe(){return`#${ch(this.r)}${ch(this.g)}${ch(this.b)}${ch((isNaN(this.opacity)?1:this.opacity)*255)}`}function S$(){const n=wb(this.opacity);return`${n===1?"rgb(":"rgba("}${_h(this.r)}, ${_h(this.g)}, ${_h(this.b)}${n===1?")":`, ${n})`}`}function wb(n){return isNaN(n)?1:Math.max(0,Math.min(1,n))}function _h(n){return Math.max(0,Math.min(255,Math.round(n)||0))}function ch(n){return n=_h(n),(n<16?"0":"")+n.toString(16)}function w$(n,t,e,r){return r<=0?n=t=e=NaN:e<=0||e>=1?n=t=NaN:t<=0&&(n=NaN),new ws(n,t,e,r)}function Q8(n){if(n instanceof ws)return new ws(n.h,n.s,n.l,n.opacity);if(n instanceof Pw||(n=Yu(n)),!n)return new ws;if(n instanceof ws)return n;n=n.rgb();var t=n.r/255,e=n.g/255,r=n.b/255,i=Math.min(t,e,r),o=Math.max(t,e,r),a=NaN,s=o-i,l=(o+i)/2;return s?(t===o?a=(e-r)/s+(e<r)*6:e===o?a=(r-t)/s+2:a=(t-e)/s+4,s/=l<.5?o+i:2-o-i,a*=60):s=l>0&&l<1?0:a,new ws(a,s,l,n.opacity)}function kCe(n,t,e,r){return arguments.length===1?Q8(n):new ws(n,t,e,r??1)}function ws(n,t,e,r){this.h=+n,this.s=+t,this.l=+e,this.opacity=+r}hk(ws,kCe,Z8(Pw,{brighter(n){return n=n==null?Sb:Math.pow(Sb,n),new ws(this.h,this.s,this.l*n,this.opacity)},darker(n){return n=n==null?ES:Math.pow(ES,n),new ws(this.h,this.s,this.l*n,this.opacity)},rgb(){var n=this.h%360+(this.h<0)*360,t=isNaN(n)||isNaN(this.s)?0:this.s,e=this.l,r=e+(e<.5?e:1-e)*t,i=2*e-r;return new io(wA(n>=240?n-240:n+120,i,r),wA(n,i,r),wA(n<120?n+240:n-120,i,r),this.opacity)},clamp(){return new ws(_$(this.h),Z0(this.s),Z0(this.l),wb(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const n=wb(this.opacity);return`${n===1?"hsl(":"hsla("}${_$(this.h)}, ${Z0(this.s)*100}%, ${Z0(this.l)*100}%${n===1?")":`, ${n})`}`}}));function _$(n){return n=(n||0)%360,n<0?n+360:n}function Z0(n){return Math.max(0,Math.min(1,n||0))}function wA(n,t,e){return(n<60?t+(e-t)*n/60:n<180?e:n<240?t+(e-t)*(240-n)/60:t)*255}const fk=n=>()=>n;function GCe(n,t){return function(e){return n+e*t}}function VCe(n,t,e){return n=Math.pow(n,e),t=Math.pow(t,e)-n,e=1/e,function(r){return Math.pow(n+r*t,e)}}function BCe(n){return(n=+n)==1?J8:function(t,e){return e-t?VCe(t,e,n):fk(isNaN(t)?e:t)}}function J8(n,t){var e=t-n;return e?GCe(n,e):fk(isNaN(n)?t:n)}const x$=function n(t){var e=BCe(t);function r(i,o){var a=e((i=pL(i)).r,(o=pL(o)).r),s=e(i.g,o.g),l=e(i.b,o.b),u=J8(i.opacity,o.opacity);return function(c){return i.r=a(c),i.g=s(c),i.b=l(c),i.opacity=u(c),i+""}}return r.gamma=n,r}(1);function HCe(n,t){t||(t=[]);var e=n?Math.min(t.length,n.length):0,r=t.slice(),i;return function(o){for(i=0;i<e;++i)r[i]=n[i]*(1-o)+t[i]*o;return r}}function jCe(n){return ArrayBuffer.isView(n)&&!(n instanceof DataView)}function $Ce(n,t){var e=t?t.length:0,r=n?Math.min(e,n.length):0,i=new Array(r),o=new Array(e),a;for(a=0;a<r;++a)i[a]=vk(n[a],t[a]);for(;a<e;++a)o[a]=t[a];return function(s){for(a=0;a<r;++a)o[a]=i[a](s);return o}}function WCe(n,t){var e=new Date;return n=+n,t=+t,function(r){return e.setTime(n*(1-r)+t*r),e}}function _b(n,t){return n=+n,t=+t,function(e){return n*(1-e)+t*e}}function UCe(n,t){var e={},r={},i;(n===null||typeof n!="object")&&(n={}),(t===null||typeof t!="object")&&(t={});for(i in t)i in n?e[i]=vk(n[i],t[i]):r[i]=t[i];return function(o){for(i in e)r[i]=e[i](o);return r}}var hL=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,_A=new RegExp(hL.source,"g");function zCe(n){return function(){return n}}function KCe(n){return function(t){return n(t)+""}}function YCe(n,t){var e=hL.lastIndex=_A.lastIndex=0,r,i,o,a=-1,s=[],l=[];for(n=n+"",t=t+"";(r=hL.exec(n))&&(i=_A.exec(t));)(o=i.index)>e&&(o=t.slice(e,o),s[a]?s[a]+=o:s[++a]=o),(r=r[0])===(i=i[0])?s[a]?s[a]+=i:s[++a]=i:(s[++a]=null,l.push({i:a,x:_b(r,i)})),e=_A.lastIndex;return e<t.length&&(o=t.slice(e),s[a]?s[a]+=o:s[++a]=o),s.length<2?l[0]?KCe(l[0].x):zCe(t):(t=l.length,function(u){for(var c=0,d;c<t;++c)s[(d=l[c]).i]=d.x(u);return s.join("")})}function vk(n,t){var e=typeof t,r;return t==null||e==="boolean"?fk(t):(e==="number"?_b:e==="string"?(r=Yu(t))?(t=r,x$):YCe:t instanceof Yu?x$:t instanceof Date?WCe:jCe(t)?HCe:Array.isArray(t)?$Ce:typeof t.valueOf!="function"&&typeof t.toString!="function"||isNaN(t)?UCe:_b)(n,t)}function XCe(n,t){return n=+n,t=+t,function(e){return Math.round(n*(1-e)+t*e)}}function qCe(n){return function(){return n}}function ZCe(n){return+n}var E$=[0,1];function Dl(n){return n}function fL(n,t){return(t-=n=+n)?function(e){return(e-n)/t}:qCe(isNaN(t)?NaN:.5)}function QCe(n,t){var e;return n>t&&(e=n,n=t,t=e),function(r){return Math.max(n,Math.min(t,r))}}function JCe(n,t,e){var r=n[0],i=n[1],o=t[0],a=t[1];return i<r?(r=fL(i,r),o=e(a,o)):(r=fL(r,i),o=e(o,a)),function(s){return o(r(s))}}function eSe(n,t,e){var r=Math.min(n.length,t.length)-1,i=new Array(r),o=new Array(r),a=-1;for(n[r]<n[0]&&(n=n.slice().reverse(),t=t.slice().reverse());++a<r;)i[a]=fL(n[a],n[a+1]),o[a]=e(t[a],t[a+1]);return function(s){var l=mCe(n,s,1,r)-1;return o[l](i[l](s))}}function fT(n,t){return t.domain(n.domain()).range(n.range()).interpolate(n.interpolate()).clamp(n.clamp()).unknown(n.unknown())}function gk(){var n=E$,t=E$,e=vk,r,i,o,a=Dl,s,l,u;function c(){var p=Math.min(n.length,t.length);return a!==Dl&&(a=QCe(n[0],n[p-1])),s=p>2?eSe:JCe,l=u=null,d}function d(p){return p==null||isNaN(p=+p)?o:(l||(l=s(n.map(r),t,e)))(r(a(p)))}return d.invert=function(p){return a(i((u||(u=s(t,n.map(r),_b)))(p)))},d.domain=function(p){return arguments.length?(n=Array.from(p,ZCe),c()):n.slice()},d.range=function(p){return arguments.length?(t=Array.from(p),c()):t.slice()},d.rangeRound=function(p){return t=Array.from(p),e=XCe,c()},d.clamp=function(p){return arguments.length?(a=p?!0:Dl,c()):a!==Dl},d.interpolate=function(p){return arguments.length?(e=p,c()):e},d.unknown=function(p){return arguments.length?(o=p,d):o},function(p,h){return r=p,i=h,c()}}function e7(){return gk()(Dl,Dl)}function tSe(n){return Math.abs(n=Math.round(n))>=1e21?n.toLocaleString("en").replace(/,/g,""):n.toString(10)}function xb(n,t){if((e=(n=t?n.toExponential(t-1):n.toExponential()).indexOf("e"))<0)return null;var e,r=n.slice(0,e);return[r.length>1?r[0]+r.slice(2):r,+n.slice(e+1)]}function yg(n){return n=xb(Math.abs(n)),n?n[1]:NaN}function rSe(n,t){return function(e,r){for(var i=e.length,o=[],a=0,s=n[0],l=0;i>0&&s>0&&(l+s+1>r&&(s=Math.max(1,r-l)),o.push(e.substring(i-=s,i+s)),!((l+=s+1)>r));)s=n[a=(a+1)%n.length];return o.reverse().join(t)}}function nSe(n){return function(t){return t.replace(/[0-9]/g,function(e){return n[+e]})}}var iSe=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function OS(n){if(!(t=iSe.exec(n)))throw new Error("invalid format: "+n);var t;return new yk({fill:t[1],align:t[2],sign:t[3],symbol:t[4],zero:t[5],width:t[6],comma:t[7],precision:t[8]&&t[8].slice(1),trim:t[9],type:t[10]})}OS.prototype=yk.prototype;function yk(n){this.fill=n.fill===void 0?" ":n.fill+"",this.align=n.align===void 0?">":n.align+"",this.sign=n.sign===void 0?"-":n.sign+"",this.symbol=n.symbol===void 0?"":n.symbol+"",this.zero=!!n.zero,this.width=n.width===void 0?void 0:+n.width,this.comma=!!n.comma,this.precision=n.precision===void 0?void 0:+n.precision,this.trim=!!n.trim,this.type=n.type===void 0?"":n.type+""}yk.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(this.width===void 0?"":Math.max(1,this.width|0))+(this.comma?",":"")+(this.precision===void 0?"":"."+Math.max(0,this.precision|0))+(this.trim?"~":"")+this.type};function oSe(n){e:for(var t=n.length,e=1,r=-1,i;e<t;++e)switch(n[e]){case".":r=i=e;break;case"0":r===0&&(r=e),i=e;break;default:if(!+n[e])break e;r>0&&(r=0);break}return r>0?n.slice(0,r)+n.slice(i+1):n}var t7;function aSe(n,t){var e=xb(n,t);if(!e)return n+"";var r=e[0],i=e[1],o=i-(t7=Math.max(-8,Math.min(8,Math.floor(i/3)))*3)+1,a=r.length;return o===a?r:o>a?r+new Array(o-a+1).join("0"):o>0?r.slice(0,o)+"."+r.slice(o):"0."+new Array(1-o).join("0")+xb(n,Math.max(0,t+o-1))[0]}function b$(n,t){var e=xb(n,t);if(!e)return n+"";var r=e[0],i=e[1];return i<0?"0."+new Array(-i).join("0")+r:r.length>i+1?r.slice(0,i+1)+"."+r.slice(i+1):r+new Array(i-r.length+2).join("0")}const O$={"%":(n,t)=>(n*100).toFixed(t),b:n=>Math.round(n).toString(2),c:n=>n+"",d:tSe,e:(n,t)=>n.toExponential(t),f:(n,t)=>n.toFixed(t),g:(n,t)=>n.toPrecision(t),o:n=>Math.round(n).toString(8),p:(n,t)=>b$(n*100,t),r:b$,s:aSe,X:n=>Math.round(n).toString(16).toUpperCase(),x:n=>Math.round(n).toString(16)};function R$(n){return n}var T$=Array.prototype.map,P$=["y","z","a","f","p","n","µ","m","","k","M","G","T","P","E","Z","Y"];function sSe(n){var t=n.grouping===void 0||n.thousands===void 0?R$:rSe(T$.call(n.grouping,Number),n.thousands+""),e=n.currency===void 0?"":n.currency[0]+"",r=n.currency===void 0?"":n.currency[1]+"",i=n.decimal===void 0?".":n.decimal+"",o=n.numerals===void 0?R$:nSe(T$.call(n.numerals,String)),a=n.percent===void 0?"%":n.percent+"",s=n.minus===void 0?"−":n.minus+"",l=n.nan===void 0?"NaN":n.nan+"";function u(d){d=OS(d);var p=d.fill,h=d.align,f=d.sign,v=d.symbol,g=d.zero,y=d.width,m=d.comma,C=d.precision,S=d.trim,w=d.type;w==="n"?(m=!0,w="g"):O$[w]||(C===void 0&&(C=12),S=!0,w="g"),(g||p==="0"&&h==="=")&&(g=!0,p="0",h="=");var _=v==="$"?e:v==="#"&&/[boxX]/.test(w)?"0"+w.toLowerCase():"",x=v==="$"?r:/[%p]/.test(w)?a:"",b=O$[w],O=/[defgprs%]/.test(w);C=C===void 0?6:/[gprs]/.test(w)?Math.max(1,Math.min(21,C)):Math.max(0,Math.min(20,C));function T(A){var N=_,M=x,L,G,H;if(w==="c")M=b(A)+M,A="";else{A=+A;var j=A<0||1/A<0;if(A=isNaN(A)?l:b(Math.abs(A),C),S&&(A=oSe(A)),j&&+A==0&&f!=="+"&&(j=!1),N=(j?f==="("?f:s:f==="-"||f==="("?"":f)+N,M=(w==="s"?P$[8+t7/3]:"")+M+(j&&f==="("?")":""),O){for(L=-1,G=A.length;++L<G;)if(H=A.charCodeAt(L),48>H||H>57){M=(H===46?i+A.slice(L+1):A.slice(L))+M,A=A.slice(0,L);break}}}m&&!g&&(A=t(A,1/0));var V=N.length+A.length+M.length,W=V<y?new Array(y-V+1).join(p):"";switch(m&&g&&(A=t(W+A,W.length?y-M.length:1/0),W=""),h){case"<":A=N+A+M+W;break;case"=":A=N+W+A+M;break;case"^":A=W.slice(0,V=W.length>>1)+N+A+M+W.slice(V);break;default:A=W+N+A+M;break}return o(A)}return T.toString=function(){return d+""},T}function c(d,p){var h=u((d=OS(d),d.type="f",d)),f=Math.max(-8,Math.min(8,Math.floor(yg(p)/3)))*3,v=Math.pow(10,-f),g=P$[8+f/3];return function(y){return h(v*y)+g}}return{format:u,formatPrefix:c}}var Q0,mk,r7;lSe({thousands:",",grouping:[3],currency:["$",""]});function lSe(n){return Q0=sSe(n),mk=Q0.format,r7=Q0.formatPrefix,Q0}function uSe(n){return Math.max(0,-yg(Math.abs(n)))}function cSe(n,t){return Math.max(0,Math.max(-8,Math.min(8,Math.floor(yg(t)/3)))*3-yg(Math.abs(n)))}function dSe(n,t){return n=Math.abs(n),t=Math.abs(t)-n,Math.max(0,yg(t)-yg(n))+1}function pSe(n,t,e,r){var i=dL(n,t,e),o;switch(r=OS(r??",f"),r.type){case"s":{var a=Math.max(Math.abs(n),Math.abs(t));return r.precision==null&&!isNaN(o=cSe(i,a))&&(r.precision=o),r7(r,a)}case"":case"e":case"g":case"p":case"r":{r.precision==null&&!isNaN(o=dSe(i,Math.max(Math.abs(n),Math.abs(t))))&&(r.precision=o-(r.type==="e"));break}case"f":case"%":{r.precision==null&&!isNaN(o=uSe(i))&&(r.precision=o-(r.type==="%")*2);break}}return mk(r)}function n7(n){var t=n.domain;return n.ticks=function(e){var r=t();return uL(r[0],r[r.length-1],e??10)},n.tickFormat=function(e,r){var i=t();return pSe(i[0],i[i.length-1],e??10,r)},n.nice=function(e){e==null&&(e=10);var r=t(),i=0,o=r.length-1,a=r[i],s=r[o],l,u,c=10;for(s<a&&(u=a,a=s,s=u,u=i,i=o,o=u);c-- >0;){if(u=cL(a,s,e),u===l)return r[i]=a,r[o]=s,t(r);if(u>0)a=Math.floor(a/u)*u,s=Math.ceil(s/u)*u;else if(u<0)a=Math.ceil(a*u)/u,s=Math.floor(s*u)/u;else break;l=u}return n},n}function i7(){var n=e7();return n.copy=function(){return fT(n,i7())},Jh.apply(n,arguments),n7(n)}function o7(n,t){n=n.slice();var e=0,r=n.length-1,i=n[e],o=n[r],a;return o<i&&(a=e,e=r,r=a,a=i,i=o,o=a),n[e]=t.floor(i),n[r]=t.ceil(o),n}function A$(n){return Math.log(n)}function D$(n){return Math.exp(n)}function hSe(n){return-Math.log(-n)}function fSe(n){return-Math.exp(-n)}function vSe(n){return isFinite(n)?+("1e"+n):n<0?0:n}function gSe(n){return n===10?vSe:n===Math.E?Math.exp:t=>Math.pow(n,t)}function ySe(n){return n===Math.E?Math.log:n===10&&Math.log10||n===2&&Math.log2||(n=Math.log(n),t=>Math.log(t)/n)}function M$(n){return(t,e)=>-n(-t,e)}function mSe(n){const t=n(A$,D$),e=t.domain;let r=10,i,o;function a(){return i=ySe(r),o=gSe(r),e()[0]<0?(i=M$(i),o=M$(o),n(hSe,fSe)):n(A$,D$),t}return t.base=function(s){return arguments.length?(r=+s,a()):r},t.domain=function(s){return arguments.length?(e(s),a()):e()},t.ticks=s=>{const l=e();let u=l[0],c=l[l.length-1];const d=c<u;d&&([u,c]=[c,u]);let p=i(u),h=i(c),f,v;const g=s==null?10:+s;let y=[];if(!(r%1)&&h-p<g){if(p=Math.floor(p),h=Math.ceil(h),u>0){for(;p<=h;++p)for(f=1;f<r;++f)if(v=p<0?f/o(-p):f*o(p),!(v<u)){if(v>c)break;y.push(v)}}else for(;p<=h;++p)for(f=r-1;f>=1;--f)if(v=p>0?f/o(-p):f*o(p),!(v<u)){if(v>c)break;y.push(v)}y.length*2<g&&(y=uL(u,c,g))}else y=uL(p,h,Math.min(h-p,g)).map(o);return d?y.reverse():y},t.tickFormat=(s,l)=>{if(s==null&&(s=10),l==null&&(l=r===10?"s":","),typeof l!="function"&&(!(r%1)&&(l=OS(l)).precision==null&&(l.trim=!0),l=mk(l)),s===1/0)return l;const u=Math.max(1,r*s/t.ticks().length);return c=>{let d=c/o(Math.round(i(c)));return d*r<r-.5&&(d*=r),d<=u?l(c):""}},t.nice=()=>e(o7(e(),{floor:s=>o(Math.floor(i(s))),ceil:s=>o(Math.ceil(i(s)))})),t}function a7(){const n=mSe(gk()).domain([1,10]);return n.copy=()=>fT(n,a7()).base(n.base()),Jh.apply(n,arguments),n}function F$(n){return function(t){return t<0?-Math.pow(-t,n):Math.pow(t,n)}}function CSe(n){return n<0?-Math.sqrt(-n):Math.sqrt(n)}function SSe(n){return n<0?-n*n:n*n}function wSe(n){var t=n(Dl,Dl),e=1;function r(){return e===1?n(Dl,Dl):e===.5?n(CSe,SSe):n(F$(e),F$(1/e))}return t.exponent=function(i){return arguments.length?(e=+i,r()):e},n7(t)}function Ck(){var n=wSe(gk());return n.copy=function(){return fT(n,Ck()).exponent(n.exponent())},Jh.apply(n,arguments),n}function _Se(){return Ck.apply(null,arguments).exponent(.5)}const xA=new Date,EA=new Date;function _n(n,t,e,r){function i(o){return n(o=arguments.length===0?new Date:new Date(+o)),o}return i.floor=o=>(n(o=new Date(+o)),o),i.ceil=o=>(n(o=new Date(o-1)),t(o,1),n(o),o),i.round=o=>{const a=i(o),s=i.ceil(o);return o-a<s-o?a:s},i.offset=(o,a)=>(t(o=new Date(+o),a==null?1:Math.floor(a)),o),i.range=(o,a,s)=>{const l=[];if(o=i.ceil(o),s=s==null?1:Math.floor(s),!(o<a)||!(s>0))return l;let u;do l.push(u=new Date(+o)),t(o,s),n(o);while(u<o&&o<a);return l},i.filter=o=>_n(a=>{if(a>=a)for(;n(a),!o(a);)a.setTime(a-1)},(a,s)=>{if(a>=a)if(s<0)for(;++s<=0;)for(;t(a,-1),!o(a););else for(;--s>=0;)for(;t(a,1),!o(a););}),e&&(i.count=(o,a)=>(xA.setTime(+o),EA.setTime(+a),n(xA),n(EA),Math.floor(e(xA,EA))),i.every=o=>(o=Math.floor(o),!isFinite(o)||!(o>0)?null:o>1?i.filter(r?a=>r(a)%o===0:a=>i.count(0,a)%o===0):i)),i}const Eb=_n(()=>{},(n,t)=>{n.setTime(+n+t)},(n,t)=>t-n);Eb.every=n=>(n=Math.floor(n),!isFinite(n)||!(n>0)?null:n>1?_n(t=>{t.setTime(Math.floor(t/n)*n)},(t,e)=>{t.setTime(+t+e*n)},(t,e)=>(e-t)/n):Eb);Eb.range;const Pu=1e3,Ia=Pu*60,Au=Ia*60,Xu=Au*24,Sk=Xu*7,L$=Xu*30,bA=Xu*365,dh=_n(n=>{n.setTime(n-n.getMilliseconds())},(n,t)=>{n.setTime(+n+t*Pu)},(n,t)=>(t-n)/Pu,n=>n.getUTCSeconds());dh.range;const wk=_n(n=>{n.setTime(n-n.getMilliseconds()-n.getSeconds()*Pu)},(n,t)=>{n.setTime(+n+t*Ia)},(n,t)=>(t-n)/Ia,n=>n.getMinutes());wk.range;const _k=_n(n=>{n.setUTCSeconds(0,0)},(n,t)=>{n.setTime(+n+t*Ia)},(n,t)=>(t-n)/Ia,n=>n.getUTCMinutes());_k.range;const xk=_n(n=>{n.setTime(n-n.getMilliseconds()-n.getSeconds()*Pu-n.getMinutes()*Ia)},(n,t)=>{n.setTime(+n+t*Au)},(n,t)=>(t-n)/Au,n=>n.getHours());xk.range;const Ek=_n(n=>{n.setUTCMinutes(0,0,0)},(n,t)=>{n.setTime(+n+t*Au)},(n,t)=>(t-n)/Au,n=>n.getUTCHours());Ek.range;const Aw=_n(n=>n.setHours(0,0,0,0),(n,t)=>n.setDate(n.getDate()+t),(n,t)=>(t-n-(t.getTimezoneOffset()-n.getTimezoneOffset())*Ia)/Xu,n=>n.getDate()-1);Aw.range;const vT=_n(n=>{n.setUTCHours(0,0,0,0)},(n,t)=>{n.setUTCDate(n.getUTCDate()+t)},(n,t)=>(t-n)/Xu,n=>n.getUTCDate()-1);vT.range;const s7=_n(n=>{n.setUTCHours(0,0,0,0)},(n,t)=>{n.setUTCDate(n.getUTCDate()+t)},(n,t)=>(t-n)/Xu,n=>Math.floor(n/Xu));s7.range;function ef(n){return _n(t=>{t.setDate(t.getDate()-(t.getDay()+7-n)%7),t.setHours(0,0,0,0)},(t,e)=>{t.setDate(t.getDate()+e*7)},(t,e)=>(e-t-(e.getTimezoneOffset()-t.getTimezoneOffset())*Ia)/Sk)}const gT=ef(0),bb=ef(1),xSe=ef(2),ESe=ef(3),mg=ef(4),bSe=ef(5),OSe=ef(6);gT.range;bb.range;xSe.range;ESe.range;mg.range;bSe.range;OSe.range;function tf(n){return _n(t=>{t.setUTCDate(t.getUTCDate()-(t.getUTCDay()+7-n)%7),t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCDate(t.getUTCDate()+e*7)},(t,e)=>(e-t)/Sk)}const yT=tf(0),Ob=tf(1),RSe=tf(2),TSe=tf(3),Cg=tf(4),PSe=tf(5),ASe=tf(6);yT.range;Ob.range;RSe.range;TSe.range;Cg.range;PSe.range;ASe.range;const bk=_n(n=>{n.setDate(1),n.setHours(0,0,0,0)},(n,t)=>{n.setMonth(n.getMonth()+t)},(n,t)=>t.getMonth()-n.getMonth()+(t.getFullYear()-n.getFullYear())*12,n=>n.getMonth());bk.range;const Ok=_n(n=>{n.setUTCDate(1),n.setUTCHours(0,0,0,0)},(n,t)=>{n.setUTCMonth(n.getUTCMonth()+t)},(n,t)=>t.getUTCMonth()-n.getUTCMonth()+(t.getUTCFullYear()-n.getUTCFullYear())*12,n=>n.getUTCMonth());Ok.range;const qu=_n(n=>{n.setMonth(0,1),n.setHours(0,0,0,0)},(n,t)=>{n.setFullYear(n.getFullYear()+t)},(n,t)=>t.getFullYear()-n.getFullYear(),n=>n.getFullYear());qu.every=n=>!isFinite(n=Math.floor(n))||!(n>0)?null:_n(t=>{t.setFullYear(Math.floor(t.getFullYear()/n)*n),t.setMonth(0,1),t.setHours(0,0,0,0)},(t,e)=>{t.setFullYear(t.getFullYear()+e*n)});qu.range;const Zu=_n(n=>{n.setUTCMonth(0,1),n.setUTCHours(0,0,0,0)},(n,t)=>{n.setUTCFullYear(n.getUTCFullYear()+t)},(n,t)=>t.getUTCFullYear()-n.getUTCFullYear(),n=>n.getUTCFullYear());Zu.every=n=>!isFinite(n=Math.floor(n))||!(n>0)?null:_n(t=>{t.setUTCFullYear(Math.floor(t.getUTCFullYear()/n)*n),t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCFullYear(t.getUTCFullYear()+e*n)});Zu.range;function l7(n,t,e,r,i,o){const a=[[dh,1,Pu],[dh,5,5*Pu],[dh,15,15*Pu],[dh,30,30*Pu],[o,1,Ia],[o,5,5*Ia],[o,15,15*Ia],[o,30,30*Ia],[i,1,Au],[i,3,3*Au],[i,6,6*Au],[i,12,12*Au],[r,1,Xu],[r,2,2*Xu],[e,1,Sk],[t,1,L$],[t,3,3*L$],[n,1,bA]];function s(u,c,d){const p=c<u;p&&([u,c]=[c,u]);const h=d&&typeof d.range=="function"?d:l(u,c,d),f=h?h.range(u,+c+1):[];return p?f.reverse():f}function l(u,c,d){const p=Math.abs(c-u)/d,h=pk(([,,g])=>g).right(a,p);if(h===a.length)return n.every(dL(u/bA,c/bA,d));if(h===0)return Eb.every(Math.max(dL(u,c,d),1));const[f,v]=a[p/a[h-1][2]<a[h][2]/p?h-1:h];return f.every(v)}return[s,l]}const[DSe,MSe]=l7(Zu,Ok,yT,s7,Ek,_k),[FSe,LSe]=l7(qu,bk,gT,Aw,xk,wk);function OA(n){if(0<=n.y&&n.y<100){var t=new Date(-1,n.m,n.d,n.H,n.M,n.S,n.L);return t.setFullYear(n.y),t}return new Date(n.y,n.m,n.d,n.H,n.M,n.S,n.L)}function RA(n){if(0<=n.y&&n.y<100){var t=new Date(Date.UTC(-1,n.m,n.d,n.H,n.M,n.S,n.L));return t.setUTCFullYear(n.y),t}return new Date(Date.UTC(n.y,n.m,n.d,n.H,n.M,n.S,n.L))}function Ry(n,t,e){return{y:n,m:t,d:e,H:0,M:0,S:0,L:0}}function ISe(n){var t=n.dateTime,e=n.date,r=n.time,i=n.periods,o=n.days,a=n.shortDays,s=n.months,l=n.shortMonths,u=Ty(i),c=Py(i),d=Ty(o),p=Py(o),h=Ty(a),f=Py(a),v=Ty(s),g=Py(s),y=Ty(l),m=Py(l),C={a:j,A:V,b:W,B:K,c:null,d:B$,e:B$,f:iwe,g:fwe,G:gwe,H:twe,I:rwe,j:nwe,L:u7,m:owe,M:awe,p:ee,q:Z,Q:$$,s:W$,S:swe,u:lwe,U:uwe,V:cwe,w:dwe,W:pwe,x:null,X:null,y:hwe,Y:vwe,Z:ywe,"%":j$},S={a:se,A:ie,b:re,B:Y,c:null,d:H$,e:H$,f:wwe,g:Dwe,G:Fwe,H:mwe,I:Cwe,j:Swe,L:d7,m:_we,M:xwe,p:le,q:ye,Q:$$,s:W$,S:Ewe,u:bwe,U:Owe,V:Rwe,w:Twe,W:Pwe,x:null,X:null,y:Awe,Y:Mwe,Z:Lwe,"%":j$},w={a:T,A,b:N,B:M,c:L,d:G$,e:G$,f:ZSe,g:k$,G:N$,H:V$,I:V$,j:KSe,L:qSe,m:zSe,M:YSe,p:O,q:USe,Q:JSe,s:ewe,S:XSe,u:BSe,U:HSe,V:jSe,w:VSe,W:$Se,x:G,X:H,y:k$,Y:N$,Z:WSe,"%":QSe};C.x=_(e,C),C.X=_(r,C),C.c=_(t,C),S.x=_(e,S),S.X=_(r,S),S.c=_(t,S);function _(Q,he){return function(ue){var J=[],ve=-1,we=0,Ee=Q.length,De,$e,Ze;for(ue instanceof Date||(ue=new Date(+ue));++ve<Ee;)Q.charCodeAt(ve)===37&&(J.push(Q.slice(we,ve)),($e=I$[De=Q.charAt(++ve)])!=null?De=Q.charAt(++ve):$e=De==="e"?" ":"0",(Ze=he[De])&&(De=Ze(ue,$e)),J.push(De),we=ve+1);return J.push(Q.slice(we,ve)),J.join("")}}function x(Q,he){return function(ue){var J=Ry(1900,void 0,1),ve=b(J,Q,ue+="",0),we,Ee;if(ve!=ue.length)return null;if("Q"in J)return new Date(J.Q);if("s"in J)return new Date(J.s*1e3+("L"in J?J.L:0));if(he&&!("Z"in J)&&(J.Z=0),"p"in J&&(J.H=J.H%12+J.p*12),J.m===void 0&&(J.m="q"in J?J.q:0),"V"in J){if(J.V<1||J.V>53)return null;"w"in J||(J.w=1),"Z"in J?(we=RA(Ry(J.y,0,1)),Ee=we.getUTCDay(),we=Ee>4||Ee===0?Ob.ceil(we):Ob(we),we=vT.offset(we,(J.V-1)*7),J.y=we.getUTCFullYear(),J.m=we.getUTCMonth(),J.d=we.getUTCDate()+(J.w+6)%7):(we=OA(Ry(J.y,0,1)),Ee=we.getDay(),we=Ee>4||Ee===0?bb.ceil(we):bb(we),we=Aw.offset(we,(J.V-1)*7),J.y=we.getFullYear(),J.m=we.getMonth(),J.d=we.getDate()+(J.w+6)%7)}else("W"in J||"U"in J)&&("w"in J||(J.w="u"in J?J.u%7:"W"in J?1:0),Ee="Z"in J?RA(Ry(J.y,0,1)).getUTCDay():OA(Ry(J.y,0,1)).getDay(),J.m=0,J.d="W"in J?(J.w+6)%7+J.W*7-(Ee+5)%7:J.w+J.U*7-(Ee+6)%7);return"Z"in J?(J.H+=J.Z/100|0,J.M+=J.Z%100,RA(J)):OA(J)}}function b(Q,he,ue,J){for(var ve=0,we=he.length,Ee=ue.length,De,$e;ve<we;){if(J>=Ee)return-1;if(De=he.charCodeAt(ve++),De===37){if(De=he.charAt(ve++),$e=w[De in I$?he.charAt(ve++):De],!$e||(J=$e(Q,ue,J))<0)return-1}else if(De!=ue.charCodeAt(J++))return-1}return J}function O(Q,he,ue){var J=u.exec(he.slice(ue));return J?(Q.p=c.get(J[0].toLowerCase()),ue+J[0].length):-1}function T(Q,he,ue){var J=h.exec(he.slice(ue));return J?(Q.w=f.get(J[0].toLowerCase()),ue+J[0].length):-1}function A(Q,he,ue){var J=d.exec(he.slice(ue));return J?(Q.w=p.get(J[0].toLowerCase()),ue+J[0].length):-1}function N(Q,he,ue){var J=y.exec(he.slice(ue));return J?(Q.m=m.get(J[0].toLowerCase()),ue+J[0].length):-1}function M(Q,he,ue){var J=v.exec(he.slice(ue));return J?(Q.m=g.get(J[0].toLowerCase()),ue+J[0].length):-1}function L(Q,he,ue){return b(Q,t,he,ue)}function G(Q,he,ue){return b(Q,e,he,ue)}function H(Q,he,ue){return b(Q,r,he,ue)}function j(Q){return a[Q.getDay()]}function V(Q){return o[Q.getDay()]}function W(Q){return l[Q.getMonth()]}function K(Q){return s[Q.getMonth()]}function ee(Q){return i[+(Q.getHours()>=12)]}function Z(Q){return 1+~~(Q.getMonth()/3)}function se(Q){return a[Q.getUTCDay()]}function ie(Q){return o[Q.getUTCDay()]}function re(Q){return l[Q.getUTCMonth()]}function Y(Q){return s[Q.getUTCMonth()]}function le(Q){return i[+(Q.getUTCHours()>=12)]}function ye(Q){return 1+~~(Q.getUTCMonth()/3)}return{format:function(Q){var he=_(Q+="",C);return he.toString=function(){return Q},he},parse:function(Q){var he=x(Q+="",!1);return he.toString=function(){return Q},he},utcFormat:function(Q){var he=_(Q+="",S);return he.toString=function(){return Q},he},utcParse:function(Q){var he=x(Q+="",!0);return he.toString=function(){return Q},he}}}var I$={"-":"",_:" ",0:"0"},Fn=/^\s*\d+/,NSe=/^%/,kSe=/[\\^$*+?|[\]().{}]/g;function Vt(n,t,e){var r=n<0?"-":"",i=(r?-n:n)+"",o=i.length;return r+(o<e?new Array(e-o+1).join(t)+i:i)}function GSe(n){return n.replace(kSe,"\\$&")}function Ty(n){return new RegExp("^(?:"+n.map(GSe).join("|")+")","i")}function Py(n){return new Map(n.map((t,e)=>[t.toLowerCase(),e]))}function VSe(n,t,e){var r=Fn.exec(t.slice(e,e+1));return r?(n.w=+r[0],e+r[0].length):-1}function BSe(n,t,e){var r=Fn.exec(t.slice(e,e+1));return r?(n.u=+r[0],e+r[0].length):-1}function HSe(n,t,e){var r=Fn.exec(t.slice(e,e+2));return r?(n.U=+r[0],e+r[0].length):-1}function jSe(n,t,e){var r=Fn.exec(t.slice(e,e+2));return r?(n.V=+r[0],e+r[0].length):-1}function $Se(n,t,e){var r=Fn.exec(t.slice(e,e+2));return r?(n.W=+r[0],e+r[0].length):-1}function N$(n,t,e){var r=Fn.exec(t.slice(e,e+4));return r?(n.y=+r[0],e+r[0].length):-1}function k$(n,t,e){var r=Fn.exec(t.slice(e,e+2));return r?(n.y=+r[0]+(+r[0]>68?1900:2e3),e+r[0].length):-1}function WSe(n,t,e){var r=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(t.slice(e,e+6));return r?(n.Z=r[1]?0:-(r[2]+(r[3]||"00")),e+r[0].length):-1}function USe(n,t,e){var r=Fn.exec(t.slice(e,e+1));return r?(n.q=r[0]*3-3,e+r[0].length):-1}function zSe(n,t,e){var r=Fn.exec(t.slice(e,e+2));return r?(n.m=r[0]-1,e+r[0].length):-1}function G$(n,t,e){var r=Fn.exec(t.slice(e,e+2));return r?(n.d=+r[0],e+r[0].length):-1}function KSe(n,t,e){var r=Fn.exec(t.slice(e,e+3));return r?(n.m=0,n.d=+r[0],e+r[0].length):-1}function V$(n,t,e){var r=Fn.exec(t.slice(e,e+2));return r?(n.H=+r[0],e+r[0].length):-1}function YSe(n,t,e){var r=Fn.exec(t.slice(e,e+2));return r?(n.M=+r[0],e+r[0].length):-1}function XSe(n,t,e){var r=Fn.exec(t.slice(e,e+2));return r?(n.S=+r[0],e+r[0].length):-1}function qSe(n,t,e){var r=Fn.exec(t.slice(e,e+3));return r?(n.L=+r[0],e+r[0].length):-1}function ZSe(n,t,e){var r=Fn.exec(t.slice(e,e+6));return r?(n.L=Math.floor(r[0]/1e3),e+r[0].length):-1}function QSe(n,t,e){var r=NSe.exec(t.slice(e,e+1));return r?e+r[0].length:-1}function JSe(n,t,e){var r=Fn.exec(t.slice(e));return r?(n.Q=+r[0],e+r[0].length):-1}function ewe(n,t,e){var r=Fn.exec(t.slice(e));return r?(n.s=+r[0],e+r[0].length):-1}function B$(n,t){return Vt(n.getDate(),t,2)}function twe(n,t){return Vt(n.getHours(),t,2)}function rwe(n,t){return Vt(n.getHours()%12||12,t,2)}function nwe(n,t){return Vt(1+Aw.count(qu(n),n),t,3)}function u7(n,t){return Vt(n.getMilliseconds(),t,3)}function iwe(n,t){return u7(n,t)+"000"}function owe(n,t){return Vt(n.getMonth()+1,t,2)}function awe(n,t){return Vt(n.getMinutes(),t,2)}function swe(n,t){return Vt(n.getSeconds(),t,2)}function lwe(n){var t=n.getDay();return t===0?7:t}function uwe(n,t){return Vt(gT.count(qu(n)-1,n),t,2)}function c7(n){var t=n.getDay();return t>=4||t===0?mg(n):mg.ceil(n)}function cwe(n,t){return n=c7(n),Vt(mg.count(qu(n),n)+(qu(n).getDay()===4),t,2)}function dwe(n){return n.getDay()}function pwe(n,t){return Vt(bb.count(qu(n)-1,n),t,2)}function hwe(n,t){return Vt(n.getFullYear()%100,t,2)}function fwe(n,t){return n=c7(n),Vt(n.getFullYear()%100,t,2)}function vwe(n,t){return Vt(n.getFullYear()%1e4,t,4)}function gwe(n,t){var e=n.getDay();return n=e>=4||e===0?mg(n):mg.ceil(n),Vt(n.getFullYear()%1e4,t,4)}function ywe(n){var t=n.getTimezoneOffset();return(t>0?"-":(t*=-1,"+"))+Vt(t/60|0,"0",2)+Vt(t%60,"0",2)}function H$(n,t){return Vt(n.getUTCDate(),t,2)}function mwe(n,t){return Vt(n.getUTCHours(),t,2)}function Cwe(n,t){return Vt(n.getUTCHours()%12||12,t,2)}function Swe(n,t){return Vt(1+vT.count(Zu(n),n),t,3)}function d7(n,t){return Vt(n.getUTCMilliseconds(),t,3)}function wwe(n,t){return d7(n,t)+"000"}function _we(n,t){return Vt(n.getUTCMonth()+1,t,2)}function xwe(n,t){return Vt(n.getUTCMinutes(),t,2)}function Ewe(n,t){return Vt(n.getUTCSeconds(),t,2)}function bwe(n){var t=n.getUTCDay();return t===0?7:t}function Owe(n,t){return Vt(yT.count(Zu(n)-1,n),t,2)}function p7(n){var t=n.getUTCDay();return t>=4||t===0?Cg(n):Cg.ceil(n)}function Rwe(n,t){return n=p7(n),Vt(Cg.count(Zu(n),n)+(Zu(n).getUTCDay()===4),t,2)}function Twe(n){return n.getUTCDay()}function Pwe(n,t){return Vt(Ob.count(Zu(n)-1,n),t,2)}function Awe(n,t){return Vt(n.getUTCFullYear()%100,t,2)}function Dwe(n,t){return n=p7(n),Vt(n.getUTCFullYear()%100,t,2)}function Mwe(n,t){return Vt(n.getUTCFullYear()%1e4,t,4)}function Fwe(n,t){var e=n.getUTCDay();return n=e>=4||e===0?Cg(n):Cg.ceil(n),Vt(n.getUTCFullYear()%1e4,t,4)}function Lwe(){return"+0000"}function j$(){return"%"}function $$(n){return+n}function W$(n){return Math.floor(+n/1e3)}var xf,h7,f7;Iwe({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});function Iwe(n){return xf=ISe(n),h7=xf.format,xf.parse,f7=xf.utcFormat,xf.utcParse,xf}function Nwe(n){return new Date(n)}function kwe(n){return n instanceof Date?+n:+new Date(+n)}function Rk(n,t,e,r,i,o,a,s,l,u){var c=e7(),d=c.invert,p=c.domain,h=u(".%L"),f=u(":%S"),v=u("%I:%M"),g=u("%I %p"),y=u("%a %d"),m=u("%b %d"),C=u("%B"),S=u("%Y");function w(_){return(l(_)<_?h:s(_)<_?f:a(_)<_?v:o(_)<_?g:r(_)<_?i(_)<_?y:m:e(_)<_?C:S)(_)}return c.invert=function(_){return new Date(d(_))},c.domain=function(_){return arguments.length?p(Array.from(_,kwe)):p().map(Nwe)},c.ticks=function(_){var x=p();return n(x[0],x[x.length-1],_??10)},c.tickFormat=function(_,x){return x==null?w:u(x)},c.nice=function(_){var x=p();return(!_||typeof _.range!="function")&&(_=t(x[0],x[x.length-1],_??10)),_?p(o7(x,_)):c},c.copy=function(){return fT(c,Rk(n,t,e,r,i,o,a,s,l,u))},c}function Gwe(){return Jh.apply(Rk(FSe,LSe,qu,bk,gT,Aw,xk,wk,dh,h7).domain([new Date(2e3,0,1),new Date(2e3,0,2)]),arguments)}function Vwe(){return Jh.apply(Rk(DSe,MSe,Zu,Ok,yT,vT,Ek,_k,dh,f7).domain([Date.UTC(2e3,0,1),Date.UTC(2e3,0,2)]),arguments)}const v7=n=>{var t,e;const{axis:r}=n,i=Math.min(...(t=r.data)!=null?t:[]),o=Math.max(...(e=r.data)!=null?e:[]);return[i,o]},g7=n=>{const{series:t,axis:e,isDefaultAxis:r}=n;return Object.keys(t).filter(i=>t[i].yAxisKey===e.id||r&&t[i].yAxisKey===void 0).reduce((i,o)=>{const[a,s]=t[o].stackedData.reduce((l,u)=>[Math.min(...u,...l[0]===null?[]:[l[0]]),Math.max(...u,...l[1]===null?[]:[l[1]])],t[o].stackedData[0]);return[i[0]===null?a:Math.min(a,i[0]),i[1]===null?s:Math.max(s,i[1])]},[null,null])},Bwe=n=>Object.keys(n.series).some(e=>n.series[e].layout==="horizontal")?g7(n):v7(n),Hwe=n=>Object.keys(n.series).some(e=>n.series[e].layout==="horizontal")?v7(n):g7(n),Rb=(n,t)=>n[0]===null||n[1]===null?t:t[0]===null||t[1]===null?n:[Math.min(n[0],t[0]),Math.max(n[1],t[1])],jwe=n=>{const{series:t,axis:e,isDefaultAxis:r}=n;return Object.keys(t).filter(i=>t[i].xAxisKey===e.id||t[i].xAxisKey===void 0&&r).reduce((i,o)=>{const a=t[o].data.reduce((s,{x:l})=>Rb(s,[l,l]),[null,null]);return Rb(i,a)},[null,null])},$we=n=>{const{series:t,axis:e,isDefaultAxis:r}=n;return Object.keys(t).filter(i=>t[i].yAxisKey===e.id||t[i].yAxisKey===void 0&&r).reduce((i,o)=>{const a=t[o].data.reduce((s,{y:l})=>Rb(s,[l,l]),[null,null]);return Rb(i,a)},[null,null])},Wwe=n=>{var t,e;const{axis:r}=n,i=Math.min(...(t=r.data)!=null?t:[]),o=Math.max(...(e=r.data)!=null?e:[]);return[i,o]};function Uwe(n,t){return t.length===0?[null,null]:t.reduce((e,r)=>{const[i,o]=n(r);return e[0]===null?[Math.min(i,o),Math.max(i,o)]:[Math.min(i,o,e[0]),Math.max(i,o,e[1])]},n(t[0]))}const zwe=n=>{const{series:t,axis:e,isDefaultAxis:r}=n;return Object.keys(t).filter(i=>t[i].yAxisKey===e.id||r&&t[i].yAxisKey===void 0).reduce((i,o)=>{const{area:a,stackedData:s}=t[o],c=Uwe(a!==void 0?h=>h:h=>[h[1],h[1]],s);if(i[0]===null)return c;if(c[0]===null)return i;const[d,p]=c;return[Math.min(d,i[0]),Math.max(p,i[1])]},[null,null])};function Tb(n){return n.scaleType==="band"}function U$(n){return n.scaleType==="point"}function z$(n,t,e){switch(n){case"log":return a7(t,e);case"pow":return Ck(t,e);case"sqrt":return _Se(t,e);case"time":return Gwe(t,e);case"utc":return Vwe(t,e);default:return i7(t,e)}}function RS(n){return n.bandwidth!==void 0}function K$(n){const{tickMaxStep:t,tickMinStep:e,tickNumber:r,range:i,domain:o}=n,a=e===void 0?999:Math.floor(Math.abs(o[1]-o[0])/e),s=t===void 0?2:Math.ceil(Math.abs(o[1]-o[0])/t),l=r??Math.floor(Math.abs(i[1]-i[0])/50);return Math.min(a,Math.max(s,l))}function y7(n){const{scale:t,tickNumber:e,valueFormatter:r,tickInterval:i}=n;return I.useMemo(()=>{if(RS(t)){const a=t.domain();return t.bandwidth()>0?[...a.map(l=>{var u;return{value:l,formattedValue:(u=r==null?void 0:r(l))!=null?u:`${l}`,offset:t(l)-(t.step()-t.bandwidth())/2,labelOffset:t.step()/2}}),{formattedValue:void 0,offset:t.range()[1],labelOffset:0}]:(typeof i=="function"&&a.filter(i)||typeof i=="object"&&i||a).map(l=>{var u;return{value:l,formattedValue:(u=r==null?void 0:r(l))!=null?u:`${l}`,offset:t(l),labelOffset:0}})}return(typeof i=="object"?i:t.ticks(e)).map(a=>{var s;return{value:a,formattedValue:(s=r==null?void 0:r(a))!=null?s:t.tickFormat(e)(a),offset:t(a),labelOffset:0}})},[e,t,r,i])}const Y$=.2,Kwe=.1,Ywe={bar:Bwe,scatter:jwe,line:Wwe},Xwe={bar:Hwe,scatter:$we,line:zwe},go=I.createContext({xAxis:{},yAxis:{},xAxisIds:[],yAxisIds:[]});function qwe(n){const{xAxis:t,yAxis:e,dataset:r,children:i}=n,o=I.useContext(Vs),a=I.useContext(qd),s=I.useMemo(()=>t==null?void 0:t.map(c=>{const d=c.dataKey;if(d===void 0||c.data!==void 0)return c;if(r===void 0)throw Error("MUI-X-Charts: x-axis uses `dataKey` but no `dataset` is provided.");return k({},c,{data:r.map(p=>p[d])})}),[t,r]),l=I.useMemo(()=>e==null?void 0:e.map(c=>{const d=c.dataKey;if(d===void 0||c.data!==void 0)return c;if(r===void 0)throw Error("MUI-X-Charts: y-axis uses `dataKey` but no `dataset` is provided.");return k({},c,{data:r.map(p=>p[d])})}),[e,r]),u=I.useMemo(()=>{var c,d;const p=(m,C,S,w,_)=>{var x,b;const O=w[C],T=(x=(b=o[C])==null?void 0:b.series)!=null?x:{},[A,N]=O({series:T,axis:S,isDefaultAxis:_}),[M,L]=m;return M===null||L===null?[A,N]:A===null||N===null?[M,L]:[Math.min(A,M),Math.max(N,L)]},h=(m,C,S)=>Object.keys(C).reduce((_,x)=>p(_,x,m,C,S),[null,null]),f=[...(c=s==null?void 0:s.map((m,C)=>k({id:`deaultized-x-axis-${C}`},m)))!=null?c:[],...s===void 0||s.findIndex(({id:m})=>m===Ku)===-1?[{id:Ku,scaleType:"linear"}]:[]],v={};f.forEach((m,C)=>{var S,w,_,x,b;const O=C===0,[T,A]=h(m,Ywe,O),N=m.reverse?[a.left+a.width,a.left]:[a.left,a.left+a.width];if(Tb(m)){var M,L;const ee=(M=m.categoryGapRatio)!=null?M:Y$,Z=(L=m.barGapRatio)!=null?L:Kwe;v[m.id]=k({categoryGapRatio:ee,barGapRatio:Z},m,{scale:Cb(m.data,N).paddingInner(ee).paddingOuter(ee/2),tickNumber:m.data.length})}if(U$(m)&&(v[m.id]=k({},m,{scale:f$(m.data,N),tickNumber:m.data.length})),m.scaleType==="band"||m.scaleType==="point")return;const G=(S=m.scaleType)!=null?S:"linear",H=[(w=m.min)!=null?w:T,(_=m.max)!=null?_:A],j=K$(k({},m,{range:N,domain:H})),V=z$(G,H,N).nice(j),W=V.domain(),K=[(x=m.min)!=null?x:W[0],(b=m.max)!=null?b:W[1]];v[m.id]=k({},m,{scaleType:G,scale:V.domain(K),tickNumber:j})});const g=[...(d=l==null?void 0:l.map((m,C)=>k({id:`deaultized-y-axis-${C}`},m)))!=null?d:[],...l===void 0||l.findIndex(({id:m})=>m===vS)===-1?[{id:vS,scaleType:"linear"}]:[]],y={};return g.forEach((m,C)=>{var S,w,_,x,b;const O=C===0,[T,A]=h(m,Xwe,O),N=m.reverse?[a.top,a.top+a.height]:[a.top+a.height,a.top];if(Tb(m)){var M;const K=(M=m.categoryGapRatio)!=null?M:Y$;y[m.id]=k({categoryGapRatio:K,barGapRatio:0},m,{scale:Cb(m.data,[N[1],N[0]]).paddingInner(K).paddingOuter(K/2),tickNumber:m.data.length})}if(U$(m)&&(y[m.id]=k({},m,{scale:f$(m.data,[N[1],N[0]]),tickNumber:m.data.length})),m.scaleType==="band"||m.scaleType==="point")return;const L=(S=m.scaleType)!=null?S:"linear",G=[(w=m.min)!=null?w:T,(_=m.max)!=null?_:A],H=K$(k({},m,{range:N,domain:G})),j=z$(L,G,N).nice(H),V=j.domain(),W=[(x=m.min)!=null?x:V[0],(b=m.max)!=null?b:V[1]];y[m.id]=k({},m,{scaleType:L,scale:j.domain(W),tickNumber:H})}),{xAxis:v,yAxis:y,xAxisIds:f.map(({id:m})=>m),yAxisIds:g.map(({id:m})=>m)}},[a.height,a.left,a.top,a.width,o,s,l]);return B.jsx(go.Provider,{value:u,children:i})}const Zwe=n=>{const t=I.useContext(zN),{width:e,height:r,top:i,left:o}=I.useContext(qd),{xAxis:a,yAxis:s,xAxisIds:l,yAxisIds:u}=I.useContext(go),{dispatch:c}=I.useContext(Bs),d=l[0],p=u[0],h=I.useRef({x:-1,y:-1});I.useEffect(()=>{const f=t.current;if(f===null||n)return()=>{};const v=(m,C)=>{if(d===null)return null;const{scale:S,data:w}=m;if(!RS(S)){const x=S.invert(C);if(w===void 0)return{value:x};const b=w==null?void 0:w.findIndex((O,T)=>O>x&&(T===0||Math.abs(x-O)<=Math.abs(x-w[T-1]))||O<=x&&(T===w.length-1||Math.abs(x-O)<Math.abs(x-w[T+1])));return{value:b!==void 0&&b>=0?w[b]:x,index:b}}const _=S.bandwidth()===0?Math.floor((C-Math.min(...S.range())+S.step()/2)/S.step()):Math.floor((C-Math.min(...S.range()))/S.step());return _<0||_>=w.length?null:{index:_,value:w[_]}},g=()=>{h.current={x:-1,y:-1},c({type:"updateAxis",data:{x:null,y:null}})},y=m=>{const C=t.current.createSVGPoint();C.x=m.clientX,C.y=m.clientY;const S=C.matrixTransform(t.current.getScreenCTM().inverse());h.current={x:S.x,y:S.y};const w=S.x<o||S.x>o+e,_=S.y<i||S.y>i+r;if(w||_){c({type:"updateAxis",data:{x:null,y:null}});return}const x=v(a[d],S.x),b=v(s[p],S.y);c({type:"updateAxis",data:{x,y:b}})};return f.addEventListener("mouseout",g),f.addEventListener("mousemove",y),()=>{f.removeEventListener("mouseout",g),f.removeEventListener("mousemove",y)}},[t,c,o,e,i,r,p,s,d,a,n])},Qwe=["children","width","height","viewBox","disableAxisListener","className"],Jwe=be("svg",{name:"MuiChartsSurface",slot:"Root"})(()=>({})),e0e=I.forwardRef(function(t,e){const{children:r,width:i,height:o,viewBox:a,disableAxisListener:s=!1}=t,l=_e(t,Qwe),u=k({width:i,height:o,x:0,y:0},a);return Zwe(s),B.jsxs(Jwe,k({width:i,height:o,viewBox:`${u.x} ${u.y} ${u.width} ${u.height}`,ref:e},l,{children:[B.jsx("title",{children:t.title}),B.jsx("desc",{children:t.desc}),r]}))}),Tk={highlighted:"none",faded:"none"},m7=I.createContext({item:null,scope:Tk,dispatch:()=>null}),t0e=(n,t)=>{switch(t.type){case"enterItem":return k({},n,{item:t.item,scope:k({},Tk,t.scope)});case"leaveItem":return n.item===null||Object.keys(t.item).some(e=>t.item[e]!==n.item[e])?n:k({},n,{item:null});default:return n}};function r0e(n){const{children:t}=n,[e,r]=I.useReducer(t0e,{item:null,scope:Tk}),i=I.useMemo(()=>k({},e,{dispatch:r}),[e]);return B.jsx(m7.Provider,{value:i,children:t})}const n0e=I.forwardRef(function(t,e){const{width:r,height:i,series:o,margin:a,xAxis:s,yAxis:l,colors:u,dataset:c,sx:d,title:p,desc:h,disableAxisListener:f,children:v}=t,g=I.useRef(null),y=nn(e,g);return hCe(),B.jsx(Fge,{width:r,height:i,margin:a,svgRef:g,children:B.jsx(Bye,{series:o,colors:u,dataset:c,children:B.jsx(qwe,{xAxis:s,yAxis:l,dataset:c,children:B.jsx(jye,{children:B.jsx(r0e,{children:B.jsx(e0e,{width:r,height:i,ref:y,sx:d,title:p,desc:h,disableAxisListener:f,children:v})})})})})})}),i0e=["width","height"],o0e=(n,t)=>{const e=I.useRef(null),r=I.useRef(!1),[i,o]=I.useState(0),[a,s]=I.useState(0),l=I.useCallback(()=>{const u=e==null?void 0:e.current;if(!u)return;const d=Wu(u).getComputedStyle(u),p=Math.floor(parseFloat(d.height))||0,h=Math.floor(parseFloat(d.width))||0;o(h),s(p)},[]);return I.useEffect(()=>{r.current=!0},[]),ia(()=>{if(n!==void 0&&t!==void 0)return()=>{};l();const u=e.current;if(typeof ResizeObserver>"u")return()=>{};let c;const d=new ResizeObserver(()=>{c=requestAnimationFrame(()=>{l()})});return u&&d.observe(u),()=>{c&&window.cancelAnimationFrame(c),u&&d.unobserve(u)}},[l,t,n]),[e,n??i,t??a]},a0e=be("div",{name:"MuiResponsiveChart",slot:"Container"})(({ownerState:n})=>{var t,e;return{width:(t=n.width)!=null?t:"100%",height:(e=n.height)!=null?e:"100%",display:"flex",position:"relative",flexGrow:1,flexDirection:"column",alignItems:"center",justifyContent:"center",overflow:"hidden","&>svg":{width:"100%",height:"100%"}}}),Pk=I.forwardRef(function(t,e){const{width:r,height:i}=t,o=_e(t,i0e),[a,s,l]=o0e(r,i);return B.jsx(a0e,{ref:a,ownerState:{width:r,height:i},children:s&&l?B.jsx(n0e,k({},o,{width:s,height:l,ref:e})):null})});function C7(n){return at("MuiChartsAxis",n)}const J0=it("MuiChartsAxis",["root","line","tickContainer","tick","tickLabel","label","directionX","directionY","top","bottom","left","right"]),S7=be("g",{name:"MuiChartsAxis",slot:"Root",overridesResolver:(n,t)=>t.root})(({theme:n})=>({[`& .${J0.tickLabel}`]:k({},n.typography.caption,{fill:(n.vars||n).palette.text.primary}),[`& .${J0.label}`]:k({},n.typography.body1,{fill:(n.vars||n).palette.text.primary}),[`& .${J0.line}`]:{stroke:(n.vars||n).palette.text.primary,shapeRendering:"crispEdges",strokeWidth:1},[`& .${J0.tick}`]:{stroke:(n.vars||n).palette.text.primary,shapeRendering:"crispEdges"}})),s0e=()=>!(typeof window<"u"&&window.document&&window.setTimeout),fp={widthCache:{},cacheCount:0},l0e=2e3,u0e={position:"absolute",top:"-20000px",left:0,padding:0,margin:0,border:"none",whiteSpace:"pre"},c0e=["minWidth","maxWidth","width","minHeight","maxHeight","height","top","left","fontSize","padding","margin","paddingLeft","paddingRight","paddingTop","paddingBottom","marginLeft","marginRight","marginTop","marginBottom"],X$="mui_measurement_span";function w7(n,t){return c0e.indexOf(n)>=0&&t===+t?`${t}px`:t}function _7(n){return n.split("").reduce((r,i)=>i===i.toUpperCase()?[...r,"-",i.toLowerCase()]:[...r,i],[]).join("")}const d0e=n=>Object.keys(n).sort().reduce((t,e)=>`${t}${_7(e)}:${w7(e,n[e])};`,""),p0e=(n,t={})=>{if(n==null||s0e())return{width:0,height:0};const e=`${n}`,r=d0e(t),i=`${e}-${r}`;if(fp.widthCache[i])return fp.widthCache[i];try{let o=document.getElementById(X$);o===null&&(o=document.createElement("span"),o.setAttribute("id",X$),o.setAttribute("aria-hidden","true"),document.body.appendChild(o));const a=k({},u0e,t);Object.keys(a).map(u=>(o.style[_7(u)]=w7(u,a[u]),u)),o.textContent=e;const s=o.getBoundingClientRect(),l={width:s.width,height:s.height};return fp.widthCache[i]=l,fp.cacheCount+1>l0e?(fp.cacheCount=0,fp.widthCache={}):fp.cacheCount+=1,l}catch{return{width:0,height:0}}};function Ak({style:n,needsComputation:t,text:e}){return e.split(`
`).map(r=>k({text:r},t?p0e(r,n):{width:0,height:0}))}const h0e=["x","y","style","text","ownerState"],f0e=["angle","textAnchor","dominantBaseline"];function TS(n){const{x:t,y:e,style:r,text:i}=n,o=_e(n,h0e),a=r??{},{angle:s,textAnchor:l,dominantBaseline:u}=a,c=_e(a,f0e),d=I.useMemo(()=>Ak({style:c,needsComputation:i.includes(`
`),text:i}),[c,i]);let p;switch(u){case"hanging":p=0;break;case"central":p=(d.length-1)/2*-d[0].height;break;default:p=(d.length-1)*-d[0].height;break}const h=[];return s&&h.push(`rotate(${s}, ${t}, ${e})`),h.length&&(o.transform=h.join(" ")),B.jsx("text",k({},o,{x:t,y:e,textAnchor:l,dominantBaseline:u,style:c,children:d.map((f,v)=>B.jsx("tspan",{x:t,dy:`${v===0?p:d[0].height}px`,dominantBaseline:u,children:f.text},v))}))}const q$=5;function v0e(n,t,e=0){const r=Math.min(Math.abs(e)%180,Math.abs(Math.abs(e)%180-180)%180);if(r<q$)return n;if(r>90-q$)return t;const i=r*Math.PI/180,o=Math.atan2(t,n);return i<o?n/Math.cos(i):t/Math.sin(i)}function g0e(n=!1){const[t,e]=I.useState(!1);return ia(()=>{n||e(!0)},[n]),I.useEffect(()=>{n&&e(!0)},[n]),t}const y0e=["scale","tickNumber","reverse"],m0e=n=>{const{classes:t,position:e}=n;return nt({root:["root","directionX",e],line:["line"],tickContainer:["tickContainer"],tick:["tick"],tickLabel:["tickLabel"],label:["label"]},C7,t)};function C0e(n,{tickLabelStyle:t,tickLabelInterval:e,reverse:r,isMounted:i}){const o=n.map(u=>{if(!i||u.formattedValue===void 0)return k({},u,{width:0,height:0});const c=Ak({style:t,needsComputation:!0,text:u.formattedValue});return k({},u,{width:Math.max(...c.map(d=>d.width)),height:Math.max(c.length*c[0].height)})});if(typeof e=="function")return o.map((u,c)=>k({},u,{skipLabel:!e(u.value,c)}));let a=0,s=0;const l=r?-1:1;return o.map((u,c)=>{const{width:d,offset:p,labelOffset:h,height:f}=u,v=v0e(d,f,t==null?void 0:t.angle),g=p+h,y=1.2;return a=g-l*(y*v)/2,c>0&&l*a<l*s?k({},u,{skipLabel:!0}):(s=g+l*(y*v)/2,u)})}const Z$={position:"bottom",disableLine:!1,disableTicks:!1,tickSize:6};function Q$(n){var t,e,r,i,o;const a=At({props:k({},Z$,n),name:"MuiChartsXAxis"}),{xAxisIds:s}=I.useContext(go),l=I.useContext(go),u=(t=a.axisId)!=null?t:s[0],{xAxis:{[u]:{scale:c,tickNumber:d,reverse:p}}}=l,h=_e(l.xAxis[u],y0e),f=g0e(),v=k({},Z$,h,a),{position:g,disableLine:y,disableTicks:m,tickLabelStyle:C,label:S,labelStyle:w,tickFontSize:_,labelFontSize:x,tickSize:b,valueFormatter:O,slots:T,slotProps:A,tickInterval:N,tickLabelInterval:M}=v,L=lc(),G=m0e(k({},v,{theme:L})),{left:H,top:j,width:V,height:W}=I.useContext(qd),K=m?4:b,ee=g==="bottom"?1:-1,Z=(e=T==null?void 0:T.axisLine)!=null?e:"line",se=(r=T==null?void 0:T.axisTick)!=null?r:"line",ie=(i=T==null?void 0:T.axisTickLabel)!=null?i:TS,re=(o=T==null?void 0:T.axisLabel)!=null?o:TS,Y=wn({elementType:ie,externalSlotProps:A==null?void 0:A.axisTickLabel,additionalProps:{style:k({textAnchor:"middle",dominantBaseline:g==="bottom"?"hanging":"auto",fontSize:_??12},C),className:G.tickLabel},className:G.tickLabel,ownerState:{}}),le=y7({scale:c,tickNumber:d,valueFormatter:O,tickInterval:N}),ye=C0e(le,{tickLabelStyle:Y.style,tickLabelInterval:M,reverse:p,isMounted:f}),Q={x:H+V/2,y:ee*(K+22)},he=wn({elementType:re,externalSlotProps:A==null?void 0:A.axisLabel,additionalProps:{style:k({fontSize:x??14,textAnchor:"middle",dominantBaseline:g==="bottom"?"hanging":"auto"},w)},ownerState:{}});return B.jsxs(S7,{transform:`translate(0, ${g==="bottom"?j+W:j})`,className:G.root,children:[!y&&B.jsx(Z,k({x1:c.range()[0],x2:c.range()[1],className:G.line},A==null?void 0:A.axisLine)),ye.map(({formattedValue:ue,offset:J,labelOffset:ve,skipLabel:we},Ee)=>{const De=ve??0,$e=ee*(K+3);return B.jsxs("g",{transform:`translate(${J}, 0)`,className:G.tickContainer,children:[!m&&B.jsx(se,k({y2:ee*K,className:G.tick},A==null?void 0:A.axisTick)),ue!==void 0&&!we&&B.jsx(ie,k({x:De,y:$e},Y,{text:ue.toString()}))]},Ee)}),S&&B.jsx("g",{className:G.label,children:B.jsx(re,k({},Q,he,{text:S}))})]})}const S0e=["scale","tickNumber"],w0e=n=>{const{classes:t,position:e}=n;return nt({root:["root","directionY",e],line:["line"],tickContainer:["tickContainer"],tick:["tick"],tickLabel:["tickLabel"],label:["label"]},C7,t)},J$={position:"left",disableLine:!1,disableTicks:!1,tickFontSize:12,labelFontSize:14,tickSize:6};function e3(n){var t,e,r,i,o;const a=At({props:k({},J$,n),name:"MuiChartsYAxis"}),{yAxisIds:s}=I.useContext(go),l=I.useContext(go),u=(t=a.axisId)!=null?t:s[0],{yAxis:{[u]:{scale:c,tickNumber:d}}}=l,p=_e(l.yAxis[u],S0e),h=k({},J$,p,a),{position:f,disableLine:v,disableTicks:g,tickFontSize:y,label:m,labelFontSize:C,labelStyle:S,tickLabelStyle:w,tickSize:_,valueFormatter:x,slots:b,slotProps:O}=h,T=lc(),A=w0e(k({},h,{theme:T})),{left:N,top:M,width:L,height:G}=I.useContext(qd),H=g?4:_,j=y7({scale:c,tickNumber:d,valueFormatter:x}),V=f==="right"?1:-1,W={x:V*(y+H+10),y:M+G/2},K=(e=b==null?void 0:b.axisLine)!=null?e:"line",ee=(r=b==null?void 0:b.axisTick)!=null?r:"line",Z=(i=b==null?void 0:b.axisTickLabel)!=null?i:TS,se=(o=b==null?void 0:b.axisLabel)!=null?o:TS,ie=wn({elementType:Z,externalSlotProps:O==null?void 0:O.axisTickLabel,additionalProps:{style:k({fontSize:y,textAnchor:f==="right"?"start":"end",dominantBaseline:"central"},w),className:A.tickLabel},ownerState:{}}),re=wn({elementType:se,externalSlotProps:O==null?void 0:O.axisLabel,additionalProps:{style:k({fontSize:C,angle:V*90,textAnchor:"middle",dominantBaseline:"auto"},S)},ownerState:{}});return B.jsxs(S7,{transform:`translate(${f==="right"?N+L:N}, 0)`,className:A.root,children:[!v&&B.jsx(K,k({y1:c.range()[0],y2:c.range()[1],className:A.line},O==null?void 0:O.axisLine)),j.map(({formattedValue:Y,offset:le,labelOffset:ye},Q)=>{const he=V*(H+2),ue=ye;return B.jsxs("g",{transform:`translate(0, ${le})`,className:A.tickContainer,children:[!g&&B.jsx(ee,k({x2:V*H,className:A.tick},O==null?void 0:O.axisTick)),Y!==void 0&&B.jsx(Z,k({x:he,y:ue,text:Y.toString()},ie))]},Q)}),m&&B.jsx("g",{className:A.label,children:B.jsx(se,k({},W,re,{text:m}))})]})}const e_=n=>{if(n==null)return null;if(typeof n=="object"){var t;return(t=n.axisId)!=null?t:null}return n},t_=(n,t,e)=>typeof n=="object"?k({},n,{slots:k({},t,n==null?void 0:n.slots),slotProps:k({},e,n==null?void 0:n.slotProps)}):{slots:t,slotProps:e};function Dk(n){const{topAxis:t,leftAxis:e,rightAxis:r,bottomAxis:i,slots:o,slotProps:a}=n,{xAxis:s,xAxisIds:l,yAxis:u,yAxisIds:c}=I.useContext(go),d=e_(e===void 0?c[0]:e),p=e_(i===void 0?l[0]:i),h=e_(t),f=e_(r);if(h!==null&&!s[h])throw Error([`MUI-X-Charts: id used for top axis "${h}" is not defined.`,`Available ids are: ${l.join(", ")}.`].join(`
`));if(d!==null&&!u[d])throw Error([`MUI-X-Charts: id used for left axis "${d}" is not defined.`,`Available ids are: ${c.join(", ")}.`].join(`
`));if(f!==null&&!u[f])throw Error([`MUI-X-Charts: id used for right axis "${f}" is not defined.`,`Available ids are: ${c.join(", ")}.`].join(`
`));if(p!==null&&!s[p])throw Error([`MUI-X-Charts: id used for bottom axis "${p}" is not defined.`,`Available ids are: ${l.join(", ")}.`].join(`
`));const v=t_(t,o,a),g=t_(i,o,a),y=t_(e,o,a),m=t_(r,o,a);return B.jsxs(I.Fragment,{children:[h&&B.jsx(Q$,k({},v,{position:"top",axisId:h})),p&&B.jsx(Q$,k({},g,{position:"bottom",axisId:p})),d&&B.jsx(e3,k({},y,{position:"left",axisId:d})),f&&B.jsx(e3,k({},m,{position:"right",axisId:f}))]})}function _0e(n){if(n===null)return{getBoundingClientRect:()=>({width:0,height:0,x:0,y:0,top:0,right:0,bottom:0,left:0,toJSON:()=>""})};const{x:t,y:e}=n;return{getBoundingClientRect:()=>({width:0,height:0,x:t,y:e,top:e,right:t,bottom:e,left:t,toJSON:()=>JSON.stringify({width:0,height:0,x:t,y:e,top:e,right:t,bottom:e,left:t})})}}function x0e(){const n=I.useContext(zN),[t,e]=I.useState(null);return I.useEffect(()=>{const r=n.current;if(r===null)return()=>{};const i=()=>{e(null)},o=a=>{e({x:a.clientX,y:a.clientY})};return r.addEventListener("mouseout",i),r.addEventListener("mousemove",o),()=>{r.removeEventListener("mouseout",i),r.removeEventListener("mousemove",o)}},[n]),t}function E0e(n,t){if(n==="item")return t!==null;const e=t.x!==null,r=t.y!==null;return e||r}function b0e(n){return at("MuiChartsTooltip",n)}const t3=it("MuiChartsTooltip",["root","table","row","cell","mark","markCell","labelCell","valueCell"]),x7=be("div",{name:"MuiChartsTooltip",slot:"Container"})(({theme:n})=>({backgroundColor:(n.vars||n).palette.background.paper,color:(n.vars||n).palette.text.primary,transition:n.transitions.create("box-shadow"),border:`1px solid ${(n.vars||n).palette.divider}`,borderRadius:n.shape.borderRadius})),E7=be("table",{name:"MuiChartsTooltip",slot:"Table"})(({theme:n})=>({borderSpacing:0,"& thead td":{borderBottom:`solid ${(n.vars||n).palette.divider} 1px`}})),vL=be("tr",{name:"MuiChartsTooltip",slot:"Row"})(({theme:n})=>({"tr:first-of-type& td":{paddingTop:n.spacing(1)},"tr:last-of-type& td":{paddingBottom:n.spacing(1)}})),ph=be("td",{name:"MuiChartsTooltip",slot:"Cell"})(({theme:n})=>({verticalAlign:"middle",color:(n.vars||n).palette.text.secondary,[`&.${t3.labelCell}`]:{paddingLeft:n.spacing(1)},[`&.${t3.valueCell}`]:{paddingLeft:n.spacing(4),color:(n.vars||n).palette.text.primary},"td:first-of-type&":{paddingLeft:n.spacing(2)},"td:last-of-type&":{paddingRight:n.spacing(2)}})),b7=be(Xue,{name:"MuiChartsTooltip",slot:"Mark"})(({theme:n,ownerState:t})=>({width:n.spacing(1),height:n.spacing(1),borderRadius:"50%",backgroundColor:t.color,borderColor:(n.vars||n).palette.background.paper,border:`solid ${(n.vars||n).palette.background.paper} ${n.spacing(.25)}`,boxSizing:"content-box"}));function O0e(n){const{series:t,itemData:e,sx:r,classes:i}=n;if(e.dataIndex===void 0)return null;const{displayedLabel:o,color:a}=t.type==="pie"?{color:t.data[e.dataIndex].color,displayedLabel:t.data[e.dataIndex].label}:{color:t.color,displayedLabel:t.label},s=t.valueFormatter(t.data[e.dataIndex]);return B.jsx(x7,{sx:r,className:i.root,children:B.jsx(E7,{className:i.table,children:B.jsx("tbody",{children:B.jsxs(vL,{className:i.row,children:[B.jsx(ph,{className:We(i.markCell,i.cell),children:B.jsx(b7,{ownerState:{color:a},className:i.mark})}),B.jsx(ph,{className:We(i.labelCell,i.cell),children:o}),B.jsx(ph,{className:We(i.valueCell,i.cell),children:s})]})})})})}function R0e(n){const{content:t,itemData:e,sx:r,classes:i,contentProps:o}=n,a=I.useContext(Vs)[e.type].series[e.seriesId],s=t??O0e,l=wn({elementType:s,externalSlotProps:o,additionalProps:{itemData:e,series:a,sx:r,classes:i},ownerState:{}});return B.jsx(s,k({},l))}function T0e(n){var t;const{series:e,axis:r,dataIndex:i,axisValue:o,sx:a,classes:s}=n;if(i==null)return null;const l=(t=r.valueFormatter)!=null?t:u=>u.toLocaleString();return B.jsx(x7,{sx:a,className:s.root,children:B.jsxs(E7,{className:s.table,children:[o!=null&&!r.hideTooltip&&B.jsx("thead",{children:B.jsx(vL,{children:B.jsx(ph,{colSpan:3,children:B.jsx(Yx,{children:l(o)})})})}),B.jsx("tbody",{children:e.map(({color:u,id:c,label:d,valueFormatter:p,data:h})=>{const f=p(h[i]);return f==null?null:B.jsxs(vL,{className:s.row,children:[B.jsx(ph,{className:We(s.markCell,s.cell),children:B.jsx(b7,{ownerState:{color:u},boxShadow:1,className:s.mark})}),B.jsx(ph,{className:We(s.labelCell,s.cell),children:d?B.jsx(Yx,{children:d}):null}),B.jsx(ph,{className:We(s.valueCell,s.cell),children:B.jsx(Yx,{children:f})})]},c)})})]})})}function P0e(n){const{content:t,contentProps:e,axisData:r,sx:i,classes:o}=n,a=(r.x&&r.x.index)!==void 0,s=a?r.x&&r.x.index:r.y&&r.y.index,l=a?r.x&&r.x.value:r.y&&r.y.value,{xAxisIds:u,xAxis:c,yAxisIds:d,yAxis:p}=I.useContext(go),h=I.useContext(Vs),f=a?u[0]:d[0],v=I.useMemo(()=>{const C=[];return Object.keys(h).filter(S=>["bar","line","scatter"].includes(S)).forEach(S=>{h[S].seriesOrder.forEach(w=>{const _=h[S].series[w],x=a?_.xAxisKey:_.yAxisKey;(x===void 0||x===f)&&C.push(h[S].series[w])})}),C},[f,a,h]),g=I.useMemo(()=>a?c[f]:p[f],[f,a,c,p]),y=t??T0e,m=wn({elementType:y,externalSlotProps:e,additionalProps:{axisData:r,series:v,axis:g,dataIndex:s,axisValue:l,sx:i,classes:o},ownerState:{}});return B.jsx(y,k({},m))}const A0e=n=>{const{classes:t}=n;return nt({root:["root"],table:["table"],row:["row"],cell:["cell"],mark:["mark"],markCell:["markCell"],labelCell:["labelCell"],valueCell:["valueCell"]},b0e,t)},D0e=be(ohe,{name:"MuiChartsTooltip",slot:"Root",overridesResolver:(n,t)=>t.root})(({theme:n})=>({pointerEvents:"none",zIndex:n.zIndex.modal}));function Mk(n){var t,e,r;const i=At({props:n,name:"MuiChartsTooltip"}),{trigger:o="axis",itemContent:a,axisContent:s,slots:l,slotProps:u}=i,c=x0e(),{item:d,axis:p}=I.useContext(Bs),h=o==="item"?d:p,f=E0e(o,h),v=c!==null&&f,g=A0e({classes:i.classes}),y=(t=l==null?void 0:l.popper)!=null?t:D0e,m=wn({elementType:y,externalSlotProps:u==null?void 0:u.popper,additionalProps:{open:v,placement:"right-start",anchorEl:_0e(c)},ownerState:{}});return o==="none"?null:B.jsx(R9,{children:v&&B.jsx(y,k({},m,{children:o==="item"?B.jsx(R0e,{itemData:h,content:(e=l==null?void 0:l.itemContent)!=null?e:a,contentProps:u==null?void 0:u.itemContent,sx:{mx:2},classes:g}):B.jsx(P0e,{axisData:h,content:(r=l==null?void 0:l.axisContent)!=null?r:s,contentProps:u==null?void 0:u.axisContent,sx:{mx:2},classes:g})}))})}const M0e=n=>{const{seriesOrder:t,series:e}=n;return t.map(i=>({color:e[i].color,label:e[i].label,id:i})).filter(i=>i.label!==void 0)},F0e=M0e,L0e=n=>{const{seriesOrder:t,series:e}=n;return t.map(i=>({color:e[i].color,label:e[i].label,id:i})).filter(i=>i.label!==void 0)},I0e=L0e,N0e=n=>{const{seriesOrder:t,series:e}=n;return t.map(i=>({color:e[i].color,label:e[i].label,id:i})).filter(i=>i.label!==void 0)},k0e=N0e,G0e=n=>{const{seriesOrder:t,series:e}=n;return t.flatMap(r=>e[r].data.map(i=>({color:i.color,label:i.label,id:i.id})).filter(i=>i.label!==void 0))},V0e=G0e,B0e={bar:F0e,scatter:I0e,line:k0e,pie:V0e};function H0e(n){return Object.keys(n).flatMap(t=>B0e[t](n[t]))}function j0e(n){return at("MuiChartsLegend",n)}it("MuiChartsLegend",["root","series","mark","label","column","row"]);const $0e=["rotate","dominantBaseline"],W0e=["label"],U0e=n=>{const{classes:t,direction:e}=n;return nt({root:["root",e],mark:["mark"],label:["label"],series:["series"]},j0e,t)},z0e=be("g",{name:"MuiChartsLegend",slot:"Root",overridesResolver:(n,t)=>t.root})({}),K0e={position:{horizontal:"middle",vertical:"top"},direction:"row"},Y0e=n=>typeof n=="number"?{left:n,right:n,top:n,bottom:n}:k({left:0,right:0,top:0,bottom:0},n);function X0e(n){const{hidden:t,position:e,direction:r,seriesToDisplay:i,drawingArea:o,classes:a,itemMarkWidth:s=20,itemMarkHeight:l=20,markGap:u=5,itemGap:c=10,padding:d=10,labelStyle:p}=n,h=lc(),f=I.useMemo(()=>k({},h.typography.subtitle1,{color:"inherit",dominantBaseline:"central",textAnchor:"start",fill:(h.vars||h).palette.text.primary,lineHeight:1},p),[p,h]),v=I.useMemo(()=>Y0e(d),[d]),g=I.useCallback((_,x={})=>{const b=_e(x,$0e),O=Ak({style:b,needsComputation:!0,text:_}),T={innerWidth:s+u+Math.max(...O.map(A=>A.width)),innerHeight:Math.max(l,O.length*O[0].height)};return k({},T,{outerWidth:T.innerWidth+c,outerHeight:T.innerHeight+c})},[c,l,s,u]),y=o.left+o.width+o.right,m=o.top+o.height+o.bottom,C=y-v.left-v.right,S=m-v.top-v.bottom,w=I.useMemo(()=>{let _=0,x=0,b=0,O=0,T=0;const A=[0],N=i.map(G=>{let{label:H}=G,j=_e(G,W0e);const V=g(H,f),W=k({},j,{label:H,positionX:_,positionY:x,innerHeight:V.innerHeight,innerWidth:V.innerWidth,outerHeight:V.outerHeight,outerWidth:V.outerWidth,rowIndex:T});return r==="row"&&(_+V.innerWidth>C&&(_=0,x+=A[T],T+=1,A.length<=T&&A.push(0),W.positionX=_,W.positionY=x,W.rowIndex=T),b=Math.max(b,_+V.outerWidth),O=Math.max(O,x+V.outerHeight),A[T]=Math.max(A[T],V.outerHeight),_+=V.outerWidth),r==="column"&&(x+V.innerHeight>S&&(_=b+c,x=0,T=0,W.positionX=_,W.positionY=x,W.rowIndex=T),A.length<=T&&A.push(0),b=Math.max(b,_+V.outerWidth),O=Math.max(O,x+V.outerHeight),T+=1,x+=V.outerHeight),W});let M=0,L=0;switch(e.horizontal){case"left":M=v.left;break;case"right":M=y-v.right-b;break;default:M=(y-b)/2;break}switch(e.vertical){case"top":L=v.top;break;case"bottom":L=m-v.bottom-O;break;default:L=(m-O)/2;break}return N.map(G=>k({},G,{positionX:G.positionX+M,positionY:G.positionY+L+(r==="row"?A[G.rowIndex]/2:G.outerHeight/2)}))},[i,e.horizontal,e.vertical,g,f,r,C,S,c,v.left,v.right,v.top,v.bottom,y,m]);return t?null:B.jsx(R9,{children:B.jsx(z0e,{className:a.root,children:w.map(({id:_,label:x,color:b,positionX:O,positionY:T})=>B.jsxs("g",{className:a.series,transform:`translate(${O} ${T})`,children:[B.jsx("rect",{className:a.mark,y:-l/2,width:s,height:l,fill:b}),B.jsx(TS,{style:f,text:x,x:s+u,y:0})]},_))})})}function Fk(n){var t;const e=At({props:k({},K0e,n),name:"MuiChartsLegend"}),{position:r,direction:i,hidden:o,slots:a,slotProps:s}=e,l=lc(),u=U0e(k({},e,{theme:l})),c=I.useContext(qd),d=I.useContext(Vs),p=H0e(d),h=(t=a==null?void 0:a.legend)!=null?t:X0e,f=wn({elementType:h,externalSlotProps:s==null?void 0:s.legend,additionalProps:{position:r,direction:i,classes:u,drawingArea:c,series:d,hidden:o,seriesToDisplay:p},ownerState:{}});return B.jsx(h,k({},f))}function Sg(n){return RS(n)?t=>n(t)+n.bandwidth()/2:t=>n(t)}function q0e(n){return at("MuiChartsAxisHighlight",n)}it("MuiChartsAxisHighlight",["root"]);const Z0e=()=>nt({root:["root"]},q0e),r_=be("path",{name:"MuiChartsAxisHighlight",slot:"Root",overridesResolver:(n,t)=>t.root})(({ownerState:n,theme:t})=>k({pointerEvents:"none"},n.axisHighlight==="band"&&{fill:t.palette.mode==="light"?"gray":"white",fillOpacity:.1},n.axisHighlight==="line"&&{strokeDasharray:"5 2",stroke:t.palette.mode==="light"?"#000000":"#ffffff"}));function Lk(n){const{x:t,y:e}=n,{xAxisIds:r,xAxis:i,yAxisIds:o,yAxis:a}=I.useContext(go),s=Z0e(),l=r[0],u=o[0],c=i[l].scale,d=a[u].scale,{axis:p}=I.useContext(Bs),h=Sg(c),f=Sg(d);return B.jsxs(I.Fragment,{children:[t==="band"&&p.x!==null&&RS(c)&&B.jsx(r_,{d:`M ${c(p.x.value)-(c.step()-c.bandwidth())/2} ${d.range()[0]} l ${c.step()} 0 l 0 ${d.range()[1]-d.range()[0]} l ${-c.step()} 0 Z`,className:s.root,ownerState:{axisHighlight:"band"}}),e==="band"&&p.y!==null&&RS(d)&&B.jsx(r_,{d:`M ${c.range()[0]} ${d(p.y.value)-(d.step()-d.bandwidth())/2} l 0 ${d.step()} l ${c.range()[1]-c.range()[0]} 0 l 0 ${-d.step()} Z`,className:s.root,ownerState:{axisHighlight:"band"}}),t==="line"&&p.x!==null&&B.jsx(r_,{d:`M ${h(p.x.value)} ${d.range()[0]} L ${h(p.x.value)} ${d.range()[1]}`,className:s.root,ownerState:{axisHighlight:"line"}}),e==="line"&&p.y!==null&&B.jsx(r_,{d:`M ${c.range()[0]} ${f(p.y.value)} L ${c.range()[1]} ${f(p.y.value)}`,className:s.root,ownerState:{axisHighlight:"line"}})]})}const Dw=n=>{const{dispatch:t}=I.useContext(Bs),{dispatch:e}=I.useContext(m7);return i=>({onMouseEnter:()=>{t({type:"enterItem",data:i}),e({type:"enterItem",item:i,scope:n})},onMouseLeave:()=>{t({type:"leaveItem",data:i}),e({type:"leaveItem",item:i})}})},Mw=(n,t,e)=>{if(!(e!=null&&e.highlighted)||e.highlighted==="none"||n===null)return!1;const r=n.type===t.type&&n.seriesId===t.seriesId;return r?e.highlighted==="series"?r:n.dataIndex!==void 0&&n.dataIndex===t.dataIndex:!1},Fw=(n,t,e)=>{if(!(e!=null&&e.faded)||e.faded==="none"||n===null)return!1;const r=n.type===t.type&&n.seriesId===t.seriesId;return e.faded==="series"?r&&n.dataIndex!==t.dataIndex:e.faded==="global"?r?n.dataIndex!==void 0&&n.dataIndex!==t.dataIndex:!0:!1},Q0e=["id","dataIndex","classes","color","highlightScope","onClick","isFaded","isHighlighted","startAngle","endAngle","paddingAngle","innerRadius","outerRadius","cornerRadius"];function J0e(n){return at("MuiPieArc",n)}it("MuiPieArc",["root","highlighted","faded"]);const e_e=n=>{const{classes:t,id:e,isFaded:r,isHighlighted:i}=n,o={root:["root",`series-${e}`,i&&"highlighted",r&&"faded"]};return nt(o,J0e,t)},t_e=be(dk.path,{name:"MuiPieArc",slot:"Root",overridesResolver:(n,t)=>t.arc})(({theme:n})=>({stroke:(n.vars||n).palette.background.paper,strokeWidth:1,strokeLinejoin:"round"}));function r_e(n){const{id:t,dataIndex:e,classes:r,color:i,highlightScope:o,onClick:a,isFaded:s,isHighlighted:l,startAngle:u,endAngle:c,paddingAngle:d,innerRadius:p,outerRadius:h,cornerRadius:f}=n,v=_e(n,Q0e),g={id:t,dataIndex:e,classes:r,color:i,isFaded:s,isHighlighted:l},y=e_e(g),m=Dw(o);return B.jsx(t_e,k({d:lL([u,c,d,p,h,f],(C,S,w,_,x,b)=>t8().cornerRadius(b)({padAngle:w,startAngle:C,endAngle:S,innerRadius:_,outerRadius:x})),onClick:a,cursor:a?"pointer":"unset",ownerState:g,className:y.root},v,m({type:"pie",seriesId:t,dataIndex:e})))}const n_e={keys:n=>n.id,from:({innerRadius:n,outerRadius:t,cornerRadius:e,startAngle:r,endAngle:i,paddingAngle:o,color:a,isFaded:s})=>({innerRadius:n,outerRadius:(n+t)/2,cornerRadius:e,startAngle:(r+i)/2,endAngle:(r+i)/2,paddingAngle:o,fill:a,opacity:s?.3:1}),leave:({innerRadius:n,startAngle:t,endAngle:e})=>({innerRadius:n,outerRadius:n,startAngle:(t+e)/2,endAngle:(t+e)/2}),enter:({innerRadius:n,outerRadius:t,startAngle:e,endAngle:r})=>({innerRadius:n,outerRadius:t,startAngle:e,endAngle:r}),update:({innerRadius:n,outerRadius:t,cornerRadius:e,startAngle:r,endAngle:i,paddingAngle:o,color:a,isFaded:s})=>({innerRadius:n,outerRadius:t,cornerRadius:e,startAngle:r,endAngle:i,paddingAngle:o,fill:a,opacity:s?.3:1}),config:{tension:120,friction:14,clamp:!0}},i_e={keys:n=>n.id,from:({innerRadius:n,outerRadius:t,arcLabelRadius:e,cornerRadius:r,startAngle:i,endAngle:o,paddingAngle:a})=>({innerRadius:n,outerRadius:(n+t)/2,cornerRadius:r,arcLabelRadius:e,startAngle:(i+o)/2,endAngle:(i+o)/2,paddingAngle:a,opacity:0}),leave:({innerRadius:n,startAngle:t,endAngle:e})=>({innerRadius:n,outerRadius:n,arcLabelRadius:n,startAngle:(t+e)/2,endAngle:(t+e)/2,opacity:0}),enter:({innerRadius:n,outerRadius:t,startAngle:e,endAngle:r,arcLabelRadius:i})=>({innerRadius:n,outerRadius:t,startAngle:e,endAngle:r,arcLabelRadius:i,opacity:1}),update:({innerRadius:n,outerRadius:t,cornerRadius:e,startAngle:r,endAngle:i,paddingAngle:o,arcLabelRadius:a})=>({innerRadius:n,outerRadius:t,cornerRadius:e,startAngle:r,endAngle:i,paddingAngle:o,arcLabelRadius:a,opacity:1}),config:{tension:120,friction:14,clamp:!0}};function O7(n){const{id:t,highlightScope:e,data:r,faded:i,highlighted:o,paddingAngle:a=0,innerRadius:s=0,arcLabelRadius:l,outerRadius:u,cornerRadius:c=0}=n,{item:d}=I.useContext(Bs),p=I.useCallback(f=>{const v=Mw(d,{type:"pie",seriesId:t,dataIndex:f},e),g=!v&&Fw(d,{type:"pie",seriesId:t,dataIndex:f},e);return{isHighlighted:v,isFaded:g}},[e,d,t]);return I.useMemo(()=>r.map((f,v)=>{var g,y,m,C,S,w;const{isHighlighted:_,isFaded:x}=p(v),b=k({additionalRadius:0},x&&i||_&&o||{}),O=Math.max(0,Math.PI*((g=b.paddingAngle)!=null?g:a)/180),T=Math.max(0,(y=b.innerRadius)!=null?y:s),A=Math.max(0,(m=b.outerRadius)!=null?m:u+b.additionalRadius),N=(C=b.cornerRadius)!=null?C:c,M=(S=(w=b.arcLabelRadius)!=null?w:l)!=null?S:(T+A)/2;return k({},f,b,{isFaded:x,isHighlighted:_,paddingAngle:O,innerRadius:T,outerRadius:A,cornerRadius:N,arcLabelRadius:M})}),[c,s,u,a,l,r,i,p,o])}const o_e=["slots","slotProps","innerRadius","outerRadius","cornerRadius","paddingAngle","id","highlightScope","highlighted","faded","data","onClick","skipAnimation"],a_e=["startAngle","endAngle","paddingAngle","innerRadius","arcLabelRadius","outerRadius","cornerRadius"];function s_e(n){var t;const{slots:e,slotProps:r,innerRadius:i=0,outerRadius:o,cornerRadius:a=0,paddingAngle:s=0,id:l,highlightScope:u,highlighted:c,faded:d={additionalRadius:-5},data:p,onClick:h,skipAnimation:f}=n,v=_e(n,o_e),g=O7({innerRadius:i,outerRadius:o,cornerRadius:a,paddingAngle:s,id:l,highlightScope:u,highlighted:c,faded:d,data:p}),y=ck(g,k({},n_e,{immediate:f}));if(p.length===0)return null;const m=(t=e==null?void 0:e.pieArc)!=null?t:r_e;return B.jsx("g",k({},v,{children:y((C,S,w,_)=>{let{startAngle:x,endAngle:b,paddingAngle:O,innerRadius:T,outerRadius:A,cornerRadius:N}=C,M=_e(C,a_e);return B.jsx(m,k({startAngle:x,endAngle:b,paddingAngle:O,innerRadius:T,outerRadius:A,cornerRadius:N,style:M,id:l,color:S.color,dataIndex:_,highlightScope:u,isFaded:S.isFaded,isHighlighted:S.isHighlighted,onClick:h&&(L=>{h(L,{type:"pie",seriesId:l,dataIndex:_},S)})},r==null?void 0:r.pieArc))})}))}const l_e=["id","classes","color","startAngle","endAngle","paddingAngle","arcLabelRadius","innerRadius","outerRadius","cornerRadius","formattedArcLabel","isHighlighted","isFaded","style"];function u_e(n){return at("MuiPieArcLabel",n)}it("MuiPieArcLabel",["root","highlighted","faded"]);const c_e=n=>{const{classes:t,id:e,isFaded:r,isHighlighted:i}=n,o={root:["root",`series-${e}`,i&&"highlighted",r&&"faded"]};return nt(o,u_e,t)},d_e=be(dk.text,{name:"MuiPieArcLabel",slot:"Root",overridesResolver:(n,t)=>t.root})(({theme:n})=>({fill:(n.vars||n).palette.text.primary,textAnchor:"middle",dominantBaseline:"middle"})),r3=(n,t)=>(e,r,i,o,a)=>{if(!n)return 0;const[s,l]=t8().cornerRadius(a).centroid({padAngle:i,startAngle:e,endAngle:r,innerRadius:o,outerRadius:o});return t==="x"?s:l};function p_e(n){const{id:t,classes:e,color:r,startAngle:i,endAngle:o,paddingAngle:a,arcLabelRadius:s,cornerRadius:l,formattedArcLabel:u,isHighlighted:c,isFaded:d,style:p}=n,h=_e(n,l_e),v=c_e({id:t,classes:e,color:r,isFaded:d,isHighlighted:c});return B.jsx(d_e,k({className:v.root},h,{style:k({x:lL([i,o,a,s,l],r3(u,"x")),y:lL([i,o,a,s,l],r3(u,"y"))},p),children:u}))}const h_e=["slots","slotProps","innerRadius","outerRadius","arcLabelRadius","cornerRadius","paddingAngle","id","highlightScope","highlighted","faded","data","arcLabel","arcLabelMinAngle","skipAnimation"],f_e=["startAngle","endAngle","paddingAngle","innerRadius","outerRadius","arcLabelRadius","cornerRadius"],v_e=180/Math.PI;function g_e(n,t,e){if(!n||(e.endAngle-e.startAngle)*v_e<t)return null;if(typeof n=="string"){var i;return(i=e[n])==null?void 0:i.toString()}return n(e)}function y_e(n){var t;const{slots:e,slotProps:r,innerRadius:i,outerRadius:o,arcLabelRadius:a,cornerRadius:s=0,paddingAngle:l=0,id:u,highlightScope:c,highlighted:d,faded:p={additionalRadius:-5},data:h,arcLabel:f,arcLabelMinAngle:v=0,skipAnimation:g}=n,y=_e(n,h_e),m=O7({innerRadius:i,outerRadius:o,arcLabelRadius:a,cornerRadius:s,paddingAngle:l,id:u,highlightScope:c,highlighted:d,faded:p,data:h}),C=ck(m,k({},i_e,{immediate:g}));if(h.length===0)return null;const S=(t=e==null?void 0:e.pieArcLabel)!=null?t:p_e;return B.jsx("g",k({},y,{children:C((w,_)=>{let{startAngle:x,endAngle:b,paddingAngle:O,innerRadius:T,outerRadius:A,arcLabelRadius:N,cornerRadius:M}=w,L=_e(w,f_e);return B.jsx(S,k({startAngle:x,endAngle:b,paddingAngle:O,innerRadius:T,outerRadius:A,arcLabelRadius:N,cornerRadius:M,style:L,id:u,color:_.color,isFaded:_.isFaded,isHighlighted:_.isHighlighted,formattedArcLabel:g_e(f,v,_)},r==null?void 0:r.pieArcLabel))})}))}function m_e(n){return"circle cross diamond square star triangle wye".split(/ /).indexOf(n)||0}function uu(n,t){if(typeof n=="number")return n;if(n==="100%")return t;if(n.endsWith("%")){const e=Number.parseFloat(n.slice(0,n.length-1));if(!Number.isNaN(e))return e*t/100}if(n.endsWith("px")){const e=Number.parseFloat(n.slice(0,n.length-2));if(!Number.isNaN(e))return e}throw Error(`MUI-Charts: Received an unknown value "${n}". It should be a number, or a string with a percentage value.`)}function C_e(n){const{skipAnimation:t,slots:e,slotProps:r,onClick:i}=n,o=I.useContext(Vs).pie,{left:a,top:s,width:l,height:u}=I.useContext(qd);if(o===void 0)return null;const c=Math.min(l,u)/2,{series:d,seriesOrder:p}=o;return B.jsxs("g",{children:[p.map(h=>{const{innerRadius:f,outerRadius:v,cornerRadius:g,paddingAngle:y,data:m,cx:C,cy:S,highlighted:w,faded:_,highlightScope:x}=d[h],b=uu(v??c,c),O=uu(f??0,c),T=uu(C??"50%",l),A=uu(S??"50%",u);return B.jsx("g",{transform:`translate(${a+T}, ${s+A})`,children:B.jsx(s_e,{innerRadius:O,outerRadius:b,cornerRadius:g,paddingAngle:y,id:h,data:m,skipAnimation:t,highlightScope:x,highlighted:w,faded:_,onClick:i,slots:e,slotProps:r})},h)}),p.map(h=>{const{innerRadius:f,outerRadius:v,arcLabelRadius:g,cornerRadius:y,paddingAngle:m,arcLabel:C,arcLabelMinAngle:S,data:w,cx:_,cy:x,highlightScope:b}=d[h],O=uu(v??c,c),T=uu(f??0,c),A=g===void 0?(O+T)/2:uu(g,c),N=uu(_??"50%",l),M=uu(x??"50%",u);return B.jsx("g",{transform:`translate(${a+N}, ${s+M})`,children:B.jsx(y_e,{innerRadius:T,outerRadius:O??c,arcLabelRadius:A,cornerRadius:y,paddingAngle:m,id:h,data:w,skipAnimation:t,arcLabel:C,arcLabelMinAngle:S,highlightScope:b})},h)})]})}const S_e={top:5,bottom:5,left:5,right:100};function w_e(n){const{xAxis:t,yAxis:e,series:r,width:i,height:o,margin:a,colors:s,sx:l,tooltip:u={trigger:"item"},axisHighlight:c={x:"none",y:"none"},skipAnimation:d,legend:p={direction:"column",position:{vertical:"middle",horizontal:"right"}},topAxis:h=null,leftAxis:f=null,rightAxis:v=null,bottomAxis:g=null,children:y,slots:m,slotProps:C,onClick:S}=n,w=k({},S_e,a);return B.jsxs(Pk,{series:r.map(_=>k({type:"pie"},_)),width:i,height:o,margin:w,xAxis:t??[{id:Ku,scaleType:"point",data:[...new Array(Math.max(...r.map(_=>_.data.length)))].map((_,x)=>x)}],yAxis:e,colors:s,sx:l,disableAxisListener:(u==null?void 0:u.trigger)!=="axis"&&(c==null?void 0:c.x)==="none"&&(c==null?void 0:c.y)==="none",children:[B.jsx(Dk,{topAxis:h,leftAxis:f,rightAxis:v,bottomAxis:g,slots:m,slotProps:C}),B.jsx(C_e,{slots:m,slotProps:C,onClick:S,skipAnimation:d}),B.jsx(Fk,k({},p,{slots:m,slotProps:C})),B.jsx(Lk,k({},c)),B.jsx(Mk,k({},u)),y]})}function __e(){const n=Gg.reduce((e,r)=>{const i=r.params.value.find(o=>o.title==="Пол").value;return e[i]=(e[i]||0)+1,e},{}),t=Object.entries(n).map(([e,r])=>({id:e,value:r,label:e}));return B.jsx(w_e,{series:[{data:t}],width:400,height:200})}const x_e=["id","classes","color","highlightScope","slots","slotProps"];function E_e(n){return at("MuiAreaElement",n)}it("MuiAreaElement",["root","highlighted","faded"]);const b_e=n=>{const{classes:t,id:e,isFaded:r,isHighlighted:i}=n,o={root:["root",`series-${e}`,i&&"highlighted",r&&"faded"]};return nt(o,E_e,t)},R7=be("path",{name:"MuiAreaElement",slot:"Root",overridesResolver:(n,t)=>t.root})(({ownerState:n})=>({stroke:"none",fill:n.isHighlighted?Yu(n.color).brighter(1).formatHex():Yu(n.color).brighter(.5).formatHex(),transition:"opacity 0.2s ease-in, fill 0.2s ease-in",opacity:n.isFaded?.3:1}));R7.propTypes={as:Xe.elementType,ownerState:Xe.shape({classes:Xe.object,color:Xe.string.isRequired,id:Xe.string.isRequired,isFaded:Xe.bool.isRequired,isHighlighted:Xe.bool.isRequired}).isRequired,sx:Xe.oneOfType([Xe.arrayOf(Xe.oneOfType([Xe.func,Xe.object,Xe.bool])),Xe.func,Xe.object])};function O_e(n){var t;const{id:e,classes:r,color:i,highlightScope:o,slots:a,slotProps:s}=n,l=_e(n,x_e),u=Dw(o),{item:c}=I.useContext(Bs),d=Mw(c,{type:"line",seriesId:e},o),p=!d&&Fw(c,{type:"line",seriesId:e},o),h={id:e,classes:r,color:i,isFaded:p,isHighlighted:d},f=b_e(h),v=(t=a==null?void 0:a.area)!=null?t:R7,g=wn({elementType:v,externalSlotProps:s==null?void 0:s.area,additionalProps:k({},l,u({type:"line",seriesId:e}),{className:f.root}),ownerState:h});return B.jsx(v,k({},g))}function T7(n){switch(n){case"catmullRom":return uye.alpha(.5);case"linear":return KN;case"monotoneX":return Bj;case"monotoneY":return cye;case"natural":return dye;case"step":return pye;case"stepBefore":return hye;case"stepAfter":return fye;default:return Bj}}const R_e=["slots","slotProps"];function T_e(n){const{slots:t,slotProps:e}=n,r=_e(n,R_e),i=I.useContext(Vs).line,o=I.useContext(go);if(i===void 0)return null;const{series:a,stackingGroups:s}=i,{xAxis:l,yAxis:u,xAxisIds:c,yAxisIds:d}=o,p=c[0],h=d[0];return B.jsx("g",k({},r,{children:s.flatMap(({ids:f})=>f.flatMap(v=>{var g;const{xAxisKey:y=p,yAxisKey:m=h,stackedData:C,data:S,connectNulls:w}=a[v],_=Sg(l[y].scale),x=u[m].scale,b=l[y].data,O=Uge().x(M=>_(M.x)).defined((M,L)=>w||S[L]!=null).y0(M=>M.y&&x(M.y[0])).y1(M=>M.y&&x(M.y[1])),T=T7(a[v].curve),A=(g=b==null?void 0:b.map((M,L)=>({x:M,y:C[L]})))!=null?g:[],N=w?A.filter((M,L)=>S[L]!=null):A;return!!a[v].area&&B.jsx(O_e,{id:v,d:O.curve(T)(N)||void 0,color:a[v].color,highlightScope:a[v].highlightScope,slots:t,slotProps:e},v)}))}))}const P_e=["id","classes","color","highlightScope","slots","slotProps"];function A_e(n){return at("MuiLineElement",n)}it("MuiLineElement",["root","highlighted","faded"]);const D_e=n=>{const{classes:t,id:e,isFaded:r,isHighlighted:i}=n,o={root:["root",`series-${e}`,i&&"highlighted",r&&"faded"]};return nt(o,A_e,t)},P7=be("path",{name:"MuiLineElement",slot:"Root",overridesResolver:(n,t)=>t.root})(({ownerState:n})=>({strokeWidth:2,strokeLinejoin:"round",fill:"none",stroke:n.isHighlighted?Yu(n.color).brighter(.5).formatHex():n.color,transition:"opacity 0.2s ease-in, stroke 0.2s ease-in",opacity:n.isFaded?.3:1}));P7.propTypes={as:Xe.elementType,ownerState:Xe.shape({classes:Xe.object,color:Xe.string.isRequired,id:Xe.string.isRequired,isFaded:Xe.bool.isRequired,isHighlighted:Xe.bool.isRequired}).isRequired,sx:Xe.oneOfType([Xe.arrayOf(Xe.oneOfType([Xe.func,Xe.object,Xe.bool])),Xe.func,Xe.object])};function M_e(n){var t;const{id:e,classes:r,color:i,highlightScope:o,slots:a,slotProps:s}=n,l=_e(n,P_e),u=Dw(o),{item:c}=I.useContext(Bs),d=Mw(c,{type:"line",seriesId:e},o),p=!d&&Fw(c,{type:"line",seriesId:e},o),h={id:e,classes:r,color:i,isFaded:p,isHighlighted:d},f=D_e(h),v=(t=a==null?void 0:a.line)!=null?t:P7,g=wn({elementType:v,externalSlotProps:s==null?void 0:s.line,additionalProps:k({},l,u({type:"line",seriesId:e}),{className:f.root}),ownerState:h});return B.jsx(v,k({},g))}const F_e=["slots","slotProps"];function L_e(n){const{slots:t,slotProps:e}=n,r=_e(n,F_e),i=I.useContext(Vs).line,o=I.useContext(go);if(i===void 0)return null;const{series:a,stackingGroups:s}=i,{xAxis:l,yAxis:u,xAxisIds:c,yAxisIds:d}=o,p=c[0],h=d[0];return B.jsx("g",k({},r,{children:s.flatMap(({ids:f})=>f.flatMap(v=>{var g;const{xAxisKey:y=p,yAxisKey:m=h,stackedData:C,data:S,connectNulls:w}=a[v],_=Sg(l[y].scale),x=u[m].scale,b=l[y].data,O=o8().x(M=>_(M.x)).defined((M,L)=>w||S[L]!=null).y(M=>x(M.y[1])),T=T7(a[v].curve),A=(g=b==null?void 0:b.map((M,L)=>({x:M,y:C[L]})))!=null?g:[],N=w?A.filter((M,L)=>S[L]!=null):A;return B.jsx(M_e,{id:v,d:O.curve(T)(N)||void 0,color:a[v].color,highlightScope:a[v].highlightScope,slots:t,slotProps:e},v)}))}))}const I_e=["x","y","id","classes","color","shape","dataIndex","highlightScope"];function N_e(n){return at("MuiMarkElement",n)}it("MuiMarkElement",["root","highlighted","faded"]);const k_e=n=>{const{classes:t,id:e,isFaded:r,isHighlighted:i}=n,o={root:["root",`series-${e}`,i&&"highlighted",r&&"faded"]};return nt(o,N_e,t)},A7=be("path",{name:"MuiMarkElement",slot:"Root",overridesResolver:(n,t)=>t.root})(({ownerState:n,theme:t})=>({transform:`translate(${n.x}px, ${n.y}px)`,transformOrigin:`${n.x}px ${n.y}px`,fill:(t.vars||t).palette.background.paper,stroke:n.color,strokeWidth:2}));A7.propTypes={as:Xe.elementType,ownerState:Xe.shape({classes:Xe.object,color:Xe.string.isRequired,id:Xe.string.isRequired,isFaded:Xe.bool.isRequired,isHighlighted:Xe.bool.isRequired,x:Xe.number.isRequired,y:Xe.number.isRequired}).isRequired,sx:Xe.oneOfType([Xe.arrayOf(Xe.oneOfType([Xe.func,Xe.object,Xe.bool])),Xe.func,Xe.object])};function G_e(n){var t;const{x:e,y:r,id:i,classes:o,color:a,shape:s,dataIndex:l,highlightScope:u}=n,c=_e(n,I_e),d=Dw(u),{item:p,axis:h}=I.useContext(Bs),f=((t=h.x)==null?void 0:t.index)===l||Mw(p,{type:"line",seriesId:i},u),v=!f&&Fw(p,{type:"line",seriesId:i},u),g={id:i,classes:o,isHighlighted:f,isFaded:v,color:a,x:e,y:r},y=k_e(g);return B.jsx(A7,k({},c,{ownerState:g,className:y.root,d:sye(aye[m_e(s)])()},d({type:"line",seriesId:i,dataIndex:l})))}const V_e=["slots","slotProps"];function B_e(n){var t;const{slots:e,slotProps:r}=n,i=_e(n,V_e),o=I.useContext(Vs).line,a=I.useContext(go),s=(t=e==null?void 0:e.mark)!=null?t:G_e;if(o===void 0)return null;const{series:l,stackingGroups:u}=o,{xAxis:c,yAxis:d,xAxisIds:p,yAxisIds:h}=a,f=p[0],v=h[0];return B.jsx("g",k({},i,{children:u.flatMap(({ids:g})=>g.flatMap(y=>{const{xAxisKey:m=f,yAxisKey:C=v,stackedData:S,data:w,showMark:_=!0}=l[y];if(_===!1)return null;const x=Sg(c[m].scale),b=d[C].scale,O=c[m].data,T=c[m].scale.range(),A=b.range(),N=({x:M,y:L})=>!(M<Math.min(...T)||M>Math.max(...T)||L<Math.min(...A)||L>Math.max(...A));if(O===void 0)throw new Error(`MUI-X-Charts: ${m===Ku?"The first `xAxis`":`The x-axis with id "${m}"`} should have data property to be able to display a line plot`);return O==null?void 0:O.map((M,L)=>{const G=w[L]==null?null:S[L][1];return{x:x(M),y:G===null?null:b(G),position:M,value:G,index:L}}).filter(({x:M,y:L,index:G,position:H,value:j})=>j===null||L===null||!N({x:M,y:L})?!1:_===!0?!0:_({x:M,y:L,index:G,position:H,value:j})).map(({x:M,y:L,index:G})=>B.jsx(s,k({id:y,dataIndex:G,shape:"circle",color:l[y].color,x:M,y:L,highlightScope:l[y].highlightScope},r==null?void 0:r.mark),`${y}-${G}`))}))}))}function D7(n){const{id:t,offset:e}=n,{left:r,top:i,width:o,height:a}=I.useContext(qd),s=k({top:0,right:0,bottom:0,left:0},e);return B.jsx("clipPath",{id:t,children:B.jsx("rect",{x:r-s.left,y:i-s.top,width:o+s.left+s.right,height:a+s.top+s.bottom})})}const H_e=["x","y","id","classes","color"];function j_e(n){return at("MuiHighlightElement",n)}it("MuiHighlightElement",["root"]);const $_e=n=>{const{classes:t,id:e}=n,r={root:["root",`series-${e}`]};return nt(r,j_e,t)},W_e=be("circle",{name:"MuiHighlightElement",slot:"Root",overridesResolver:(n,t)=>t.root})(({ownerState:n})=>({transform:`translate(${n.x}px, ${n.y}px)`,transformOrigin:`${n.x}px ${n.y}px`,fill:n.color}));function U_e(n){const{x:t,y:e,id:r,classes:i,color:o}=n,a=_e(n,H_e),s={id:r,classes:i,color:o,x:t,y:e},l=$_e(s);return B.jsx(W_e,k({},a,{ownerState:s,className:l.root,cx:0,cy:0,r:a.r===void 0?5:a.r}))}const z_e=["slots","slotProps"];function K_e(n){var t,e;const{slots:r,slotProps:i}=n,o=_e(n,z_e),a=I.useContext(Vs).line,s=I.useContext(go),{axis:l}=I.useContext(Bs),u=(t=l.x)==null?void 0:t.index;if(u===void 0||a===void 0)return null;const{series:c,stackingGroups:d}=a,{xAxis:p,yAxis:h,xAxisIds:f,yAxisIds:v}=s,g=f[0],y=v[0],m=(e=r==null?void 0:r.lineHighlight)!=null?e:U_e;return B.jsx("g",k({},o,{children:d.flatMap(({ids:C})=>C.flatMap(S=>{const{xAxisKey:w=g,yAxisKey:_=y,stackedData:x,data:b,disableHighlight:O}=c[S];if(O||b[u]==null)return null;const T=Sg(p[w].scale),A=h[_].scale,N=p[w].data;if(N===void 0)throw new Error(`MUI-X-Charts: ${w===Ku?"The first `xAxis`":`The x-axis with id "${w}"`} should have data property to be able to display a line plot.`);const M=T(N[u]),L=A(x[u][1]);return B.jsx(m,k({id:S,color:c[S].color,x:M,y:L},i==null?void 0:i.lineHighlight),`${S}`)}))}))}const Y_e=I.forwardRef(function(t,e){const{xAxis:r,yAxis:i,series:o,width:a,height:s,margin:l,colors:u,dataset:c,sx:d,tooltip:p,axisHighlight:h={x:"line"},disableLineItemHighlight:f,legend:v,topAxis:g,leftAxis:y,rightAxis:m,bottomAxis:C,children:S,slots:w,slotProps:_}=t,b=`${yw()}-clip-path`;return B.jsxs(Pk,{ref:e,series:o.map(O=>k({disableHighlight:!!f,type:"line"},O)),width:a,height:s,margin:l,xAxis:r??[{id:Ku,scaleType:"point",data:Array.from({length:Math.max(...o.map(O=>{var T,A;return((T=(A=O.data)!=null?A:c)!=null?T:[]).length}))},(O,T)=>T)}],yAxis:i,colors:u,dataset:c,sx:d,disableAxisListener:(p==null?void 0:p.trigger)!=="axis"&&(h==null?void 0:h.x)==="none"&&(h==null?void 0:h.y)==="none",children:[B.jsxs("g",{clipPath:`url(#${b})`,children:[B.jsx(T_e,{slots:w,slotProps:_}),B.jsx(L_e,{slots:w,slotProps:_})]}),B.jsx(Dk,{topAxis:g,leftAxis:y,rightAxis:m,bottomAxis:C,slots:w,slotProps:_}),B.jsx(Lk,k({},h)),B.jsx(B_e,{slots:w,slotProps:_}),B.jsx(K_e,{slots:w,slotProps:_}),B.jsx(Fk,k({},v,{slots:w,slotProps:_})),B.jsx(Mk,k({},p,{slots:w,slotProps:_})),B.jsx(D7,{id:b}),S]})});function X_e(){const[n,t]=I.useState({xAxis:[],series:[]});return I.useEffect(()=>{const e={};Gg.forEach(a=>{const s=new Date(a.params.value.find(u=>u.title==="Дата рождения").value),l=new Date().getFullYear()-s.getFullYear();e[l]=(e[l]||0)+1});const r=Object.keys(e).map(a=>parseInt(a)).sort((a,s)=>a-s),i=r,o=[{data:r.map(a=>e[a])}];t({xAxis:i,series:o})},[]),B.jsx(Y_e,{xAxis:[{data:n.xAxis,label:"Возраст",min:Math.min(...n.xAxis)-1}],yAxis:[{min:0,label:"Количество людей"}],series:n.series,width:500,height:300})}const q_e=["id","dataIndex","classes","color","highlightScope","slots","slotProps","style"];function Z_e(n){return at("MuiBarElement",n)}it("MuiBarElement",["root"]);const Q_e=n=>{const{classes:t,id:e}=n,r={root:["root",`series-${e}`]};return nt(r,Z_e,t)},J_e=be(dk.rect,{name:"MuiBarElement",slot:"Root",overridesResolver:(n,t)=>t.root})(({ownerState:n})=>({stroke:"none",shapeRendering:"crispEdges",fill:n.isHighlighted?Yu(n.color).brighter(.5).formatHex():n.color,transition:"opacity 0.2s ease-in, fill 0.2s ease-in",opacity:n.isFaded&&.3||1}));function exe(n){var t;const{id:e,dataIndex:r,classes:i,color:o,highlightScope:a,slots:s,slotProps:l,style:u}=n,c=_e(n,q_e),d=Dw(a),{item:p}=I.useContext(Bs),h=Mw(p,{type:"bar",seriesId:e,dataIndex:r},a),f=!h&&Fw(p,{type:"bar",seriesId:e,dataIndex:r},a),v={id:e,dataIndex:r,classes:i,color:o,isFaded:f,isHighlighted:h},g=Q_e(v),y=(t=s==null?void 0:s.bar)!=null?t:J_e,m=wn({elementType:y,externalSlotProps:l==null?void 0:l.bar,additionalProps:k({},c,d({type:"bar",seriesId:e,dataIndex:r}),{style:u,className:g.root}),ownerState:v});return B.jsx(y,k({},m))}const txe=["skipAnimation"];function rxe({bandWidth:n,numberOfGroups:t,gapRatio:e}){if(e===0)return{barWidth:n/t,offset:0};const r=n/(t+(t-1)*e),i=e*r;return{barWidth:r,offset:i}}const nxe=()=>{var n;const t=(n=I.useContext(Vs).bar)!=null?n:{series:{},stackingGroups:[],seriesOrder:[]},e=I.useContext(go),{series:r,stackingGroups:i}=t,{xAxis:o,yAxis:a,xAxisIds:s,yAxisIds:l}=e,u=s[0],c=l[0];return i.flatMap(({ids:p},h)=>p.flatMap(f=>{var v,g;const y=(v=r[f].xAxisKey)!=null?v:u,m=(g=r[f].yAxisKey)!=null?g:c,C=o[y],S=a[m],w=r[f].layout==="vertical";let _;if(w){if(!Tb(C))throw new Error(`MUI-X-Charts: ${y===Ku?"The first `xAxis`":`The x-axis with id "${y}"`} shoud be of type "band" to display the bar series of id "${f}"`);if(o[y].data===void 0)throw new Error(`MUI-X-Charts: ${y===Ku?"The first `xAxis`":`The x-axis with id "${y}"`} shoud have data property`);_=C}else{if(!Tb(S))throw new Error(`MUI-X-Charts: ${m===vS?"The first `yAxis`":`The y-axis with id "${m}"`} shoud be of type "band" to display the bar series of id "${f}"`);if(a[m].data===void 0)throw new Error(`MUI-X-Charts: ${m===vS?"The first `yAxis`":`The y-axis with id "${m}"`} shoud have data property`);_=S}const x=C.scale,b=S.scale,O=_.scale.bandwidth(),{barWidth:T,offset:A}=rxe({bandWidth:O,numberOfGroups:i.length,gapRatio:_.barGapRatio}),N=h*(T+A),{stackedData:M,color:L}=r[f];return M.map((G,H)=>{var j,V;const W=G.map(Z=>w?b(Z):x(Z)),K=Math.min(...W),ee=Math.max(...W);return{seriesId:f,dataIndex:H,layout:r[f].layout,x:w?x((j=o[y].data)==null?void 0:j[H])+N:K,y:w?K:b((V=a[m].data)==null?void 0:V[H])+N,xOrigin:x(0),yOrigin:b(0),height:w?ee-K:T,width:w?T:ee-K,color:L,highlightScope:r[f].highlightScope}})}))},n3=({layout:n,yOrigin:t,x:e,width:r,y:i,xOrigin:o,height:a})=>k({},n==="vertical"?{y:t,x:e,height:0,width:r}:{y:i,x:o,height:a,width:0}),i3=({x:n,width:t,y:e,height:r})=>({y:e,x:n,height:r,width:t});function ixe(n){const t=nxe(),{skipAnimation:e}=n,r=_e(n,txe),i=ck(t,{keys:o=>`${o.seriesId}-${o.dataIndex}`,from:n3,leave:n3,enter:i3,update:i3,immediate:e});return B.jsx(I.Fragment,{children:i((o,{seriesId:a,dataIndex:s,color:l,highlightScope:u})=>B.jsx(exe,k({id:a,dataIndex:s,highlightScope:u,color:l},r,{style:o})))})}const oxe=I.forwardRef(function(t,e){const{xAxis:r,yAxis:i,series:o,width:a,height:s,margin:l,colors:u,dataset:c,sx:d,layout:p,tooltip:h,axisHighlight:f,legend:v,topAxis:g,leftAxis:y,rightAxis:m,bottomAxis:C,skipAnimation:S,children:w,slots:_,slotProps:x}=t,O=`${yw()}-clip-path`,T=p==="horizontal"||p===void 0&&o.some(M=>M.layout==="horizontal"),A={scaleType:"band",data:Array.from({length:Math.max(...o.map(M=>{var L,G;return((L=(G=M.data)!=null?G:c)!=null?L:[]).length}))},(M,L)=>L)},N=k({},T?{y:"band"}:{x:"band"},f);return B.jsxs(Pk,{ref:e,series:o.map(M=>k({type:"bar"},M,{layout:T?"horizontal":"vertical"})),width:a,height:s,margin:l,xAxis:r??(T?void 0:[k({id:Ku},A)]),yAxis:i??(T?[k({id:vS},A)]:void 0),colors:u,dataset:c,sx:d,disableAxisListener:(h==null?void 0:h.trigger)!=="axis"&&(f==null?void 0:f.x)==="none"&&(f==null?void 0:f.y)==="none",children:[B.jsx("g",{clipPath:`url(#${O})`,children:B.jsx(ixe,{slots:_,slotProps:x,skipAnimation:S})}),B.jsx(Dk,{topAxis:g,leftAxis:y,rightAxis:m,bottomAxis:C,slots:_,slotProps:x}),B.jsx(Fk,k({},v,{slots:_,slotProps:x})),B.jsx(Lk,k({},N)),B.jsx(Mk,k({},h,{slots:_,slotProps:x})),B.jsx(D7,{id:O}),w]})});function axe(){const n={};Gg.forEach(r=>{const i=r.params.value.find(o=>o.title==="Адрес");if(i){const o=i.value.split(",")[0].trim();n[o]=(n[o]||0)+1}});const t=Object.keys(n),e=[{data:Object.values(n)}];return B.jsx(oxe,{xAxis:[{scaleType:"band",data:t}],yAxis:[{label:"Жители"}],series:e,width:700,height:300})}var M7={},mT={},F7={};/**
          * @ag-grid-community/all-modules - Advanced Data Grid / Data Table supporting Javascript / Typescript / React / Angular / Vue * @version v31.1.1
          * @link https://www.ag-grid.com/
          * @license MIT
          */function jl(n){return n==null||n===""?null:n}function ce(n,t){return t===void 0&&(t=!1),n!=null&&(n!==""||t)}function je(n){return!ce(n)}function Ko(n){return n==null||n.length===0}function PS(n){return n!=null&&typeof n.toString=="function"?n.toString():null}function Rd(n){if(n!==void 0){if(n===null||n==="")return null;if(typeof n=="number")return isNaN(n)?void 0:n;var t=parseInt(n,10);return isNaN(t)?void 0:t}}function Pb(n){if(n!==void 0)return n===null||n===""?!1:typeof n=="boolean"?n:/true/i.test(n)}function sxe(n){if(!(n==null||n===""))return n}function gL(n,t){var e=n?JSON.stringify(n):null,r=t?JSON.stringify(t):null;return e===r}function lxe(n,t,e){e===void 0&&(e=!1);var r=n==null,i=t==null;if(n&&n.toNumber&&(n=n.toNumber()),t&&t.toNumber&&(t=t.toNumber()),r&&i)return 0;if(r)return-1;if(i)return 1;function o(a,s){return a>s?1:a<s?-1:0}if(typeof n!="string"||!e)return o(n,t);try{return n.localeCompare(t)}catch{return o(n,t)}}function xh(n){if(n instanceof Set||n instanceof Map){var t=[];return n.forEach(function(e){return t.push(e)}),t}return Object.values(n)}var uxe=Object.freeze({__proto__:null,makeNull:jl,exists:ce,missing:je,missingOrEmpty:Ko,toStringOrNull:PS,attrToNumber:Rd,attrToBoolean:Pb,attrToString:sxe,jsonEquals:gL,defaultComparator:lxe,values:xh}),L7=function(){function n(){this.existingKeys={}}return n.prototype.addExistingKeys=function(t){for(var e=0;e<t.length;e++)this.existingKeys[t[e]]=!0},n.prototype.getUniqueKey=function(t,e){t=PS(t);for(var r=0;;){var i=void 0;if(t?(i=t,r!==0&&(i+="_"+r)):e?(i=e,r!==0&&(i+="_"+r)):i=r,!this.existingKeys[i])return this.existingKeys[i]=!0,String(i);r++}},n}(),cxe=function(n){var t=typeof Symbol=="function"&&Symbol.iterator,e=t&&n[t],r=0;if(e)return e.call(n);if(n&&typeof n.length=="number")return{next:function(){return n&&r>=n.length&&(n=void 0),{value:n&&n[r++],done:!n}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")},dxe=function(n,t){var e=typeof Symbol=="function"&&n[Symbol.iterator];if(!e)return n;var r=e.call(n),i,o=[],a;try{for(;(t===void 0||t-- >0)&&!(i=r.next()).done;)o.push(i.value)}catch(s){a={error:s}}finally{try{i&&!i.done&&(e=r.return)&&e.call(r)}finally{if(a)throw a.error}}return o};function li(n,t){var e,r;if(n!=null){if(Array.isArray(n)){for(var i=0;i<n.length;i++)t(i.toString(),n[i]);return}try{for(var o=cxe(Object.entries(n)),a=o.next();!a.done;a=o.next()){var s=dxe(a.value,2),l=s[0],u=s[1];t(l,u)}}catch(c){e={error:c}}finally{try{a&&!a.done&&(r=o.return)&&r.call(o)}finally{if(e)throw e.error}}}}function Ik(n){for(var t={},e=Object.keys(n),r=0;r<e.length;r++){var i=e[r],o=n[i];t[i]=o}return t}function Ab(n,t){if(n){var e=n,r={};return Object.keys(e).forEach(function(i){if(!(t&&t.indexOf(i)>=0)){var o=e[i],a=Db(o)&&o.constructor===Object;a?r[i]=Ab(o):r[i]=o}}),r}}function Gd(n){if(!n)return[];var t=Object;if(typeof t.values=="function")return t.values(n);var e=[];for(var r in n)n.hasOwnProperty(r)&&n.propertyIsEnumerable(r)&&e.push(n[r]);return e}function Zo(n,t,e,r){e===void 0&&(e=!0),r===void 0&&(r=!1),ce(t)&&li(t,function(i,o){var a=n[i];if(a!==o){if(r){var s=a==null&&o!=null;if(s){var l=typeof o=="object"&&o.constructor===Object,u=l;u&&(a={},n[i]=a)}}Db(o)&&Db(a)&&!Array.isArray(a)?Zo(a,o,e,r):(e||o!==void 0)&&(n[i]=o)}})}function Hv(n,t,e){if(!(!t||!n)){if(!e)return n[t];for(var r=t.split("."),i=n,o=0;o<r.length;o++){if(i==null)return;i=i[r[o]]}return i}}function I7(n,t,e){t===void 0&&(t=[]),Object.keys(n).forEach(function(a){var s=n[a];typeof s=="object"&&!t.includes(a)&&(n[a]=void 0)});var r=Object.getPrototypeOf(n),i={},o=function(a){return"AG Grid: Grid API function ".concat(a,`() cannot be called as the grid has been destroyed.
    It is recommended to remove local references to the grid api. Alternatively, check gridApi.isDestroyed() to avoid calling methods against a destroyed grid.
    To run logic when the grid is about to be destroyed use the gridPreDestroy event. See: `).concat(e)};Object.getOwnPropertyNames(r).forEach(function(a){var s=r[a];if(typeof s=="function"&&!t.includes(a)){var l=function(){console.warn(o(a))};i[a]={value:l,writable:!0}}}),Object.defineProperties(n,i)}function Db(n){return typeof n=="object"&&n!==null}var pxe=Object.freeze({__proto__:null,iterateObject:li,cloneObject:Ik,deepCloneDefinition:Ab,getAllValuesInObject:Gd,mergeDeep:Zo,getValueUsingField:Hv,removeAllReferences:I7,isNonNullObject:Db}),o3={};function Eh(n,t){o3[t]||(n(),o3[t]=!0)}function Le(n){Eh(function(){return console.warn("AG Grid: "+n)},n)}function bs(n){Eh(function(){return console.error("AG Grid: "+n)},n)}function CT(n){if(n.name)return n.name;var t=/function\s+([^\(]+)/.exec(n.toString());return t&&t.length===2?t[1].trim():null}function ST(n){return!!(n&&n.constructor&&n.call&&n.apply)}function N7(n){k7(n,400)}var TA=[],PA=!1;function yL(n){TA.push(n),!PA&&(PA=!0,window.setTimeout(function(){var t=TA.slice();TA.length=0,PA=!1,t.forEach(function(e){return e()})},0))}function k7(n,t){t===void 0&&(t=0),n.length>0&&window.setTimeout(function(){return n.forEach(function(e){return e()})},t)}function Qo(n,t){var e;return function(){for(var r=[],i=0;i<arguments.length;i++)r[i]=arguments[i];var o=this;window.clearTimeout(e),e=window.setTimeout(function(){n.apply(o,r)},t)}}function mL(n,t){var e=0;return function(){for(var r=[],i=0;i<arguments.length;i++)r[i]=arguments[i];var o=this,a=new Date().getTime();a-e<t||(e=a,n.apply(o,r))}}function Nk(n,t,e,r){e===void 0&&(e=100);var i=new Date().getTime(),o=null,a=!1,s=function(){var l=new Date().getTime()-i>e;(n()||l)&&(t(),a=!0,o!=null&&(window.clearInterval(o),o=null),l&&r&&console.warn(r))};s(),a||(o=window.setInterval(s,10))}function hxe(){for(var n=[],t=0;t<arguments.length;t++)n[t]=arguments[t];return function(e){return n.reduce(function(r,i){return i(r)},e)}}var fxe=function(){},vxe=Object.freeze({__proto__:null,doOnce:Eh,warnOnce:Le,errorOnce:bs,getFunctionName:CT,isFunction:ST,executeInAWhile:N7,executeNextVMTurn:yL,executeAfter:k7,debounce:Qo,throttle:mL,waitUntil:Nk,compose:hxe,noop:fxe}),fe;(function(n){n.CommunityCoreModule="@ag-grid-community/core",n.InfiniteRowModelModule="@ag-grid-community/infinite-row-model",n.ClientSideRowModelModule="@ag-grid-community/client-side-row-model",n.CsvExportModule="@ag-grid-community/csv-export",n.EnterpriseCoreModule="@ag-grid-enterprise/core",n.RowGroupingModule="@ag-grid-enterprise/row-grouping",n.ColumnsToolPanelModule="@ag-grid-enterprise/column-tool-panel",n.FiltersToolPanelModule="@ag-grid-enterprise/filter-tool-panel",n.MenuModule="@ag-grid-enterprise/menu",n.SetFilterModule="@ag-grid-enterprise/set-filter",n.MultiFilterModule="@ag-grid-enterprise/multi-filter",n.StatusBarModule="@ag-grid-enterprise/status-bar",n.SideBarModule="@ag-grid-enterprise/side-bar",n.RangeSelectionModule="@ag-grid-enterprise/range-selection",n.MasterDetailModule="@ag-grid-enterprise/master-detail",n.RichSelectModule="@ag-grid-enterprise/rich-select",n.GridChartsModule="@ag-grid-enterprise/charts",n.ViewportRowModelModule="@ag-grid-enterprise/viewport-row-model",n.ServerSideRowModelModule="@ag-grid-enterprise/server-side-row-model",n.ExcelExportModule="@ag-grid-enterprise/excel-export",n.ClipboardModule="@ag-grid-enterprise/clipboard",n.SparklinesModule="@ag-grid-enterprise/sparklines",n.AdvancedFilterModule="@ag-grid-enterprise/advanced-filter",n.AngularModule="@ag-grid-community/angular",n.ReactModule="@ag-grid-community/react",n.VueModule="@ag-grid-community/vue"})(fe||(fe={}));var Ay=function(n,t){var e=typeof Symbol=="function"&&n[Symbol.iterator];if(!e)return n;var r=e.call(n),i,o=[],a;try{for(;(t===void 0||t-- >0)&&!(i=r.next()).done;)o.push(i.value)}catch(s){a={error:s}}finally{try{i&&!i.done&&(e=r.return)&&e.call(r)}finally{if(a)throw a.error}}return o},a3=function(n,t,e){if(e||arguments.length===2)for(var r=0,i=t.length,o;r<i;r++)(o||!(r in t))&&(o||(o=Array.prototype.slice.call(t,0,r)),o[r]=t[r]);return n.concat(o||Array.prototype.slice.call(t))},ke=function(){function n(){}return n.register=function(t){n.__register(t,!0,void 0)},n.registerModules=function(t){n.__registerModules(t,!0,void 0)},n.__register=function(t,e,r){n.runVersionChecks(t),r!==void 0?(n.areGridScopedModules=!0,n.gridModulesMap[r]===void 0&&(n.gridModulesMap[r]={}),n.gridModulesMap[r][t.moduleName]=t):n.globalModulesMap[t.moduleName]=t,n.setModuleBased(e)},n.__unRegisterGridModules=function(t){delete n.gridModulesMap[t]},n.__registerModules=function(t,e,r){n.setModuleBased(e),t&&t.forEach(function(i){return n.__register(i,e,r)})},n.isValidModuleVersion=function(t){var e=Ay(t.version.split(".")||[],2),r=e[0],i=e[1],o=Ay(n.currentModuleVersion.split(".")||[],2),a=o[0],s=o[1];return r===a&&i===s},n.runVersionChecks=function(t){if(n.currentModuleVersion||(n.currentModuleVersion=t.version),t.version?n.isValidModuleVersion(t)||console.error("AG Grid: You are using incompatible versions of AG Grid modules. Major and minor versions should always match across modules. '".concat(t.moduleName,"' is version ").concat(t.version," but the other modules are version ").concat(this.currentModuleVersion,". Please update all modules to the same version.")):console.error("AG Grid: You are using incompatible versions of AG Grid modules. Major and minor versions should always match across modules. '".concat(t.moduleName,"' is incompatible. Please update all modules to the same version.")),t.validate){var e=t.validate();if(!e.isValid){var r=e;console.error("AG Grid: ".concat(r.message))}}},n.setModuleBased=function(t){n.moduleBased===void 0?n.moduleBased=t:n.moduleBased!==t&&Eh(function(){console.warn("AG Grid: You are mixing modules (i.e. @ag-grid-community/core) and packages (ag-grid-community) - you can only use one or the other of these mechanisms."),console.warn("Please see https://www.ag-grid.com/javascript-grid/packages-modules/ for more information.")},"ModulePackageCheck")},n.__setIsBundled=function(){n.isBundled=!0},n.__assertRegistered=function(t,e,r){var i;if(this.__isRegistered(t,r))return!0;var o=e+t,a;if(n.isBundled)a="AG Grid: unable to use ".concat(e,` as 'ag-grid-enterprise' has not been loaded. Check you are using the Enterprise bundle:
        
        <script src="https://cdn.jsdelivr.net/npm/ag-grid-enterprise@AG_GRID_VERSION/dist/ag-grid-enterprise.min.js"><\/script>
        
For more info see: https://ag-grid.com/javascript-data-grid/getting-started/#getting-started-with-ag-grid-enterprise`);else if(n.moduleBased||n.moduleBased===void 0){var s=(i=Object.entries(fe).find(function(l){var u=Ay(l,2);u[0];var c=u[1];return c===t}))===null||i===void 0?void 0:i[0];a="AG Grid: unable to use ".concat(e," as the ").concat(s," is not registered").concat(n.areGridScopedModules?" for gridId: ".concat(r):"",`. Check if you have registered the module:
           
    import { ModuleRegistry } from '@ag-grid-community/core';
    import { `).concat(s," } from '").concat(t,`';
    
    ModuleRegistry.registerModules([ `).concat(s,` ]);

For more info see: https://www.ag-grid.com/javascript-grid/modules/`)}else a="AG Grid: unable to use ".concat(e,` as package 'ag-grid-enterprise' has not been imported. Check that you have imported the package:
            
    import 'ag-grid-enterprise';
            
For more info see: https://www.ag-grid.com/javascript-grid/packages/`);return Eh(function(){console.warn(a)},o),!1},n.__warnEnterpriseChartDisabled=function(t){var e="ag-charts-enterprise",r=e+":"+t,i="https://ag-grid.com/javascript-data-grid/integrated-charts/",o="AG Grid: the '".concat(t,"' chart type is not supported in AG Charts Community. See ").concat(i," for more details.");Eh(function(){console.warn(o)},r)},n.__isRegistered=function(t,e){var r;return!!n.globalModulesMap[t]||!!(!((r=n.gridModulesMap[e])===null||r===void 0)&&r[t])},n.__getRegisteredModules=function(t){return a3(a3([],Ay(xh(n.globalModulesMap)),!1),Ay(xh(n.gridModulesMap[t]||{})),!1)},n.__getGridRegisteredModules=function(t){var e;return xh((e=n.gridModulesMap[t])!==null&&e!==void 0?e:{})||[]},n.__isPackageBased=function(){return!n.moduleBased},n.globalModulesMap={},n.gridModulesMap={},n.areGridScopedModules=!1,n}(),gxe=function(n,t){var e=typeof Symbol=="function"&&n[Symbol.iterator];if(!e)return n;var r=e.call(n),i,o=[],a;try{for(;(t===void 0||t-- >0)&&!(i=r.next()).done;)o.push(i.value)}catch(s){a={error:s}}finally{try{i&&!i.done&&(e=r.return)&&e.call(r)}finally{if(a)throw a.error}}return o},yxe=function(n,t,e){if(e||arguments.length===2)for(var r=0,i=t.length,o;r<i;r++)(o||!(r in t))&&(o||(o=Array.prototype.slice.call(t,0,r)),o[r]=t[r]);return n.concat(o||Array.prototype.slice.call(t))},G7=function(){function n(t,e){if(this.beanWrappers={},this.destroyed=!1,!(!t||!t.beanClasses)){this.contextParams=t,this.logger=e,this.logger.log(">> creating ag-Application Context"),this.createBeans();var r=this.getBeanInstances();this.wireBeans(r),this.logger.log(">> ag-Application Context ready - component is alive")}}return n.prototype.getBeanInstances=function(){return xh(this.beanWrappers).map(function(t){return t.beanInstance})},n.prototype.createBean=function(t,e){if(!t)throw Error("Can't wire to bean since it is null");return this.wireBeans([t],e),t},n.prototype.wireBeans=function(t,e){this.autoWireBeans(t),this.methodWireBeans(t),this.callLifeCycleMethods(t,"preConstructMethods"),ce(e)&&t.forEach(e),this.callLifeCycleMethods(t,"postConstructMethods")},n.prototype.createBeans=function(){var t=this;this.contextParams.beanClasses.forEach(this.createBeanWrapper.bind(this)),li(this.beanWrappers,function(r,i){var o;i.bean.__agBeanMetaData&&i.bean.__agBeanMetaData.autowireMethods&&i.bean.__agBeanMetaData.autowireMethods.agConstructor&&(o=i.bean.__agBeanMetaData.autowireMethods.agConstructor);var a=t.getBeansForParameters(o,i.bean.name),s=new(i.bean.bind.apply(i.bean,yxe([null],gxe(a),!1)));i.beanInstance=s});var e=Object.keys(this.beanWrappers).join(", ");this.logger.log("created beans: ".concat(e))},n.prototype.createBeanWrapper=function(t){var e=t.__agBeanMetaData;if(!e){var r=void 0;t.prototype.constructor?r=CT(t.prototype.constructor):r=""+t,console.error("Context item ".concat(r," is not a bean"));return}var i={bean:t,beanInstance:null,beanName:e.beanName};this.beanWrappers[e.beanName]=i},n.prototype.autoWireBeans=function(t){var e=this;t.forEach(function(r){e.forEachMetaDataInHierarchy(r,function(i,o){var a=i.agClassAttributes;a&&a.forEach(function(s){var l=e.lookupBeanInstance(o,s.beanName,s.optional);r[s.attributeName]=l})})})},n.prototype.methodWireBeans=function(t){var e=this;t.forEach(function(r){e.forEachMetaDataInHierarchy(r,function(i,o){li(i.autowireMethods,function(a,s){if(a!=="agConstructor"){var l=e.getBeansForParameters(s,o);r[a].apply(r,l)}})})})},n.prototype.forEachMetaDataInHierarchy=function(t,e){for(var r=Object.getPrototypeOf(t);r!=null;){var i=r.constructor;if(i.hasOwnProperty("__agBeanMetaData")){var o=i.__agBeanMetaData,a=this.getBeanName(i);e(o,a)}r=Object.getPrototypeOf(r)}},n.prototype.getBeanName=function(t){if(t.__agBeanMetaData&&t.__agBeanMetaData.beanName)return t.__agBeanMetaData.beanName;var e=t.toString(),r=e.substring(9,e.indexOf("("));return r},n.prototype.getBeansForParameters=function(t,e){var r=this,i=[];return t&&li(t,function(o,a){var s=r.lookupBeanInstance(e,a);i[Number(o)]=s}),i},n.prototype.lookupBeanInstance=function(t,e,r){if(r===void 0&&(r=!1),this.destroyed)return this.logger.log("AG Grid: bean reference ".concat(e," is used after the grid is destroyed!")),null;if(e==="context")return this;if(this.contextParams.providedBeanInstances&&this.contextParams.providedBeanInstances.hasOwnProperty(e))return this.contextParams.providedBeanInstances[e];var i=this.beanWrappers[e];return i?i.beanInstance:(r||console.error("AG Grid: unable to find bean reference ".concat(e," while initialising ").concat(t)),null)},n.prototype.callLifeCycleMethods=function(t,e){var r=this;t.forEach(function(i){return r.callLifeCycleMethodsOnBean(i,e)})},n.prototype.callLifeCycleMethodsOnBean=function(t,e,r){var i={};this.forEachMetaDataInHierarchy(t,function(a){var s=a[e];s&&s.forEach(function(l){l!=r&&(i[l]=!0)})});var o=Object.keys(i);o.forEach(function(a){return t[a]()})},n.prototype.getBean=function(t){return this.lookupBeanInstance("getBean",t,!0)},n.prototype.destroy=function(){if(!this.destroyed){this.destroyed=!0,this.logger.log(">> Shutting down ag-Application Context");var t=this.getBeanInstances();this.destroyBeans(t),this.contextParams.providedBeanInstances=null,ke.__unRegisterGridModules(this.contextParams.gridId),this.logger.log(">> ag-Application Context shut down - component is dead")}},n.prototype.destroyBean=function(t){t&&this.destroyBeans([t])},n.prototype.destroyBeans=function(t){var e=this;return t?(t.forEach(function(r){e.callLifeCycleMethodsOnBean(r,"preDestroyMethods","destroy");var i=r;typeof i.destroy=="function"&&i.destroy()}),[]):[]},n.prototype.isDestroyed=function(){return this.destroyed},n.prototype.getGridId=function(){return this.contextParams.gridId},n}();function Hh(n,t,e){var r=jh(n.constructor);r.preConstructMethods||(r.preConstructMethods=[]),r.preConstructMethods.push(t)}function z(n,t,e){var r=jh(n.constructor);r.postConstructMethods||(r.postConstructMethods=[]),r.postConstructMethods.push(t)}function rr(n,t,e){var r=jh(n.constructor);r.preDestroyMethods||(r.preDestroyMethods=[]),r.preDestroyMethods.push(t)}function ae(n){return function(t){var e=jh(t);e.beanName=n}}function E(n){return function(t,e,r){V7(t,n,!1,t,e,null)}}function qe(n){return function(t,e,r){V7(t,n,!0,t,e,null)}}function V7(n,t,e,r,i,o){if(t===null){console.error("AG Grid: Autowired name should not be null");return}if(typeof o=="number"){console.error("AG Grid: Autowired should be on an attribute");return}var a=jh(n.constructor);a.agClassAttributes||(a.agClassAttributes=[]),a.agClassAttributes.push({attributeName:i,beanName:t,optional:e})}function Jo(n){return function(t,e,r){var i=typeof t=="function"?t:t.constructor,o;if(typeof r=="number"){var a=void 0;e?(o=jh(i),a=e):(o=jh(i),a="agConstructor"),o.autowireMethods||(o.autowireMethods={}),o.autowireMethods[a]||(o.autowireMethods[a]={}),o.autowireMethods[a][r]=n}}}function jh(n){return n.hasOwnProperty("__agBeanMetaData")||(n.__agBeanMetaData={}),n.__agBeanMetaData}var s3=function(n,t,e,r){var i=arguments.length,o=i<3?t:r===null?r=Object.getOwnPropertyDescriptor(t,e):r,a;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(n,t,e,r);else for(var s=n.length-1;s>=0;s--)(a=n[s])&&(o=(i<3?a(o):i>3?a(t,e,o):a(t,e))||o);return i>3&&o&&Object.defineProperty(t,e,o),o},n_=function(n,t){return function(e,r){t(e,r,n)}},Hs=function(){function n(){this.allSyncListeners=new Map,this.allAsyncListeners=new Map,this.globalSyncListeners=new Set,this.globalAsyncListeners=new Set,this.asyncFunctionsQueue=[],this.scheduled=!1,this.firedEvents={}}return n.prototype.setBeans=function(t,e,r,i){if(r===void 0&&(r=null),i===void 0&&(i=null),this.frameworkOverrides=e,this.gridOptionsService=t,r){var o=t.useAsyncEvents();this.addGlobalListener(r,o)}i&&this.addGlobalListener(i,!1)},n.prototype.setFrameworkOverrides=function(t){this.frameworkOverrides=t},n.prototype.getListeners=function(t,e,r){var i=e?this.allAsyncListeners:this.allSyncListeners,o=i.get(t);return!o&&r&&(o=new Set,i.set(t,o)),o},n.prototype.noRegisteredListenersExist=function(){return this.allSyncListeners.size===0&&this.allAsyncListeners.size===0&&this.globalSyncListeners.size===0&&this.globalAsyncListeners.size===0},n.prototype.addEventListener=function(t,e,r){r===void 0&&(r=!1),this.getListeners(t,r,!0).add(e)},n.prototype.removeEventListener=function(t,e,r){r===void 0&&(r=!1);var i=this.getListeners(t,r,!1);if(i&&(i.delete(e),i.size===0)){var o=r?this.allAsyncListeners:this.allSyncListeners;o.delete(t)}},n.prototype.addGlobalListener=function(t,e){e===void 0&&(e=!1),(e?this.globalAsyncListeners:this.globalSyncListeners).add(t)},n.prototype.removeGlobalListener=function(t,e){e===void 0&&(e=!1),(e?this.globalAsyncListeners:this.globalSyncListeners).delete(t)},n.prototype.dispatchEvent=function(t){var e=t;this.gridOptionsService&&this.gridOptionsService.addGridCommonParams(e),this.dispatchToListeners(e,!0),this.dispatchToListeners(e,!1),this.firedEvents[e.type]=!0},n.prototype.dispatchEventOnce=function(t){this.firedEvents[t.type]||this.dispatchEvent(t)},n.prototype.dispatchToListeners=function(t,e){var r=this,i,o=t.type;if(e&&"event"in t){var a=t.event;a instanceof Event&&(t.eventPath=a.composedPath())}var s=function(d,p){return d.forEach(function(h){if(p.has(h)){var f=r.frameworkOverrides?function(){return r.frameworkOverrides.wrapIncoming(function(){return h(t)})}:function(){return h(t)};e?r.dispatchAsync(f):f()}})},l=(i=this.getListeners(o,e,!1))!==null&&i!==void 0?i:new Set,u=new Set(l);u.size>0&&s(u,l);var c=new Set(e?this.globalAsyncListeners:this.globalSyncListeners);c.forEach(function(d){var p=r.frameworkOverrides?function(){return r.frameworkOverrides.wrapIncoming(function(){return d(o,t)})}:function(){return d(o,t)};e?r.dispatchAsync(p):p()})},n.prototype.dispatchAsync=function(t){var e=this;this.asyncFunctionsQueue.push(t),this.scheduled||(this.frameworkOverrides.wrapIncoming(function(){window.setTimeout(e.flushAsyncQueue.bind(e),0)}),this.scheduled=!0)},n.prototype.flushAsyncQueue=function(){this.scheduled=!1;var t=this.asyncFunctionsQueue.slice();this.asyncFunctionsQueue=[],t.forEach(function(e){return e()})},s3([n_(0,Jo("gridOptionsService")),n_(1,Jo("frameworkOverrides")),n_(2,Jo("globalEventListener")),n_(3,Jo("globalSyncEventListener"))],n.prototype,"setBeans",null),n=s3([ae("eventService")],n),n}(),kk=function(){function n(t){this.frameworkOverrides=t,this.wrappedListeners=new Map,this.wrappedGlobalListeners=new Map}return n.prototype.wrap=function(t){var e=this,r=t;return this.frameworkOverrides.shouldWrapOutgoing&&(r=function(i){e.frameworkOverrides.wrapOutgoing(function(){return t(i)})},this.wrappedListeners.set(t,r)),r},n.prototype.wrapGlobal=function(t){var e=this,r=t;return this.frameworkOverrides.shouldWrapOutgoing&&(r=function(i,o){e.frameworkOverrides.wrapOutgoing(function(){return t(i,o)})},this.wrappedGlobalListeners.set(t,r)),r},n.prototype.unwrap=function(t){var e;return(e=this.wrappedListeners.get(t))!==null&&e!==void 0?e:t},n.prototype.unwrapGlobal=function(t){var e;return(e=this.wrappedGlobalListeners.get(t))!==null&&e!==void 0?e:t},n}(),Dy=function(n,t,e,r){var i=arguments.length,o=i<3?t:r===null?r=Object.getOwnPropertyDescriptor(t,e):r,a;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(n,t,e,r);else for(var s=n.length-1;s>=0;s--)(a=n[s])&&(o=(i<3?a(o):i>3?a(t,e,o):a(t,e))||o);return i>3&&o&&Object.defineProperty(t,e,o),o},mxe={resizable:!0,sortable:!0},Cxe=0;function B7(){return Cxe++}var Je=function(){function n(t,e,r,i){this.instanceId=B7(),this.autoHeaderHeight=null,this.moving=!1,this.menuVisible=!1,this.lastLeftPinned=!1,this.firstRightPinned=!1,this.filterActive=!1,this.eventService=new Hs,this.tooltipEnabled=!1,this.rowGroupActive=!1,this.pivotActive=!1,this.aggregationActive=!1,this.colDef=t,this.userProvidedColDef=e,this.colId=r,this.primary=i,this.setState(t)}return n.prototype.getInstanceId=function(){return this.instanceId},n.prototype.setState=function(t){t.sort!==void 0?(t.sort==="asc"||t.sort==="desc")&&(this.sort=t.sort):(t.initialSort==="asc"||t.initialSort==="desc")&&(this.sort=t.initialSort);var e=t.sortIndex,r=t.initialSortIndex;e!==void 0?e!==null&&(this.sortIndex=e):r!==null&&(this.sortIndex=r);var i=t.hide,o=t.initialHide;i!==void 0?this.visible=!i:this.visible=!o,t.pinned!==void 0?this.setPinned(t.pinned):this.setPinned(t.initialPinned);var a=t.flex,s=t.initialFlex;a!==void 0?this.flex=a:s!==void 0&&(this.flex=s)},n.prototype.setColDef=function(t,e,r){this.colDef=t,this.userProvidedColDef=e,this.initMinAndMaxWidths(),this.initDotNotation(),this.initTooltip(),this.eventService.dispatchEvent(this.createColumnEvent("colDefChanged",r))},n.prototype.getUserProvidedColDef=function(){return this.userProvidedColDef},n.prototype.setParent=function(t){this.parent=t},n.prototype.getParent=function(){return this.parent},n.prototype.setOriginalParent=function(t){this.originalParent=t},n.prototype.getOriginalParent=function(){return this.originalParent},n.prototype.initialise=function(){this.initMinAndMaxWidths(),this.resetActualWidth("gridInitializing"),this.initDotNotation(),this.initTooltip()},n.prototype.initDotNotation=function(){var t=this.gridOptionsService.get("suppressFieldDotNotation");this.fieldContainsDots=ce(this.colDef.field)&&this.colDef.field.indexOf(".")>=0&&!t,this.tooltipFieldContainsDots=ce(this.colDef.tooltipField)&&this.colDef.tooltipField.indexOf(".")>=0&&!t},n.prototype.initMinAndMaxWidths=function(){var t=this.colDef;this.minWidth=this.columnUtils.calculateColMinWidth(t),this.maxWidth=this.columnUtils.calculateColMaxWidth(t)},n.prototype.initTooltip=function(){this.tooltipEnabled=ce(this.colDef.tooltipField)||ce(this.colDef.tooltipValueGetter)||ce(this.colDef.tooltipComponent)},n.prototype.resetActualWidth=function(t){var e=this.columnUtils.calculateColInitialWidth(this.colDef);this.setActualWidth(e,t,!0)},n.prototype.isEmptyGroup=function(){return!1},n.prototype.isRowGroupDisplayed=function(t){if(je(this.colDef)||je(this.colDef.showRowGroup))return!1;var e=this.colDef.showRowGroup===!0,r=this.colDef.showRowGroup===t;return e||r},n.prototype.isPrimary=function(){return this.primary},n.prototype.isFilterAllowed=function(){var t=!!this.colDef.filter;return t},n.prototype.isFieldContainsDots=function(){return this.fieldContainsDots},n.prototype.isTooltipEnabled=function(){return this.tooltipEnabled},n.prototype.isTooltipFieldContainsDots=function(){return this.tooltipFieldContainsDots},n.prototype.addEventListener=function(t,e){var r,i;this.frameworkOverrides.shouldWrapOutgoing&&!this.frameworkEventListenerService&&(this.eventService.setFrameworkOverrides(this.frameworkOverrides),this.frameworkEventListenerService=new kk(this.frameworkOverrides));var o=(i=(r=this.frameworkEventListenerService)===null||r===void 0?void 0:r.wrap(e))!==null&&i!==void 0?i:e;this.eventService.addEventListener(t,o)},n.prototype.removeEventListener=function(t,e){var r,i,o=(i=(r=this.frameworkEventListenerService)===null||r===void 0?void 0:r.unwrap(e))!==null&&i!==void 0?i:e;this.eventService.removeEventListener(t,o)},n.prototype.createColumnFunctionCallbackParams=function(t){return this.gridOptionsService.addGridCommonParams({node:t,data:t.data,column:this,colDef:this.colDef})},n.prototype.isSuppressNavigable=function(t){if(typeof this.colDef.suppressNavigable=="boolean")return this.colDef.suppressNavigable;if(typeof this.colDef.suppressNavigable=="function"){var e=this.createColumnFunctionCallbackParams(t),r=this.colDef.suppressNavigable;return r(e)}return!1},n.prototype.isCellEditable=function(t){return t.group&&!this.gridOptionsService.get("enableGroupEdit")?!1:this.isColumnFunc(t,this.colDef.editable)},n.prototype.isSuppressFillHandle=function(){return!!this.colDef.suppressFillHandle},n.prototype.isAutoHeight=function(){return!!this.colDef.autoHeight},n.prototype.isAutoHeaderHeight=function(){return!!this.colDef.autoHeaderHeight},n.prototype.isRowDrag=function(t){return this.isColumnFunc(t,this.colDef.rowDrag)},n.prototype.isDndSource=function(t){return this.isColumnFunc(t,this.colDef.dndSource)},n.prototype.isCellCheckboxSelection=function(t){return this.isColumnFunc(t,this.colDef.checkboxSelection)},n.prototype.isSuppressPaste=function(t){return this.isColumnFunc(t,this.colDef?this.colDef.suppressPaste:null)},n.prototype.isResizable=function(){return!!this.getColDefValue("resizable")},n.prototype.getColDefValue=function(t){var e;return(e=this.colDef[t])!==null&&e!==void 0?e:mxe[t]},n.prototype.isColumnFunc=function(t,e){if(typeof e=="boolean")return e;if(typeof e=="function"){var r=this.createColumnFunctionCallbackParams(t),i=e;return i(r)}return!1},n.prototype.setMoving=function(t,e){this.moving=t,this.eventService.dispatchEvent(this.createColumnEvent("movingChanged",e))},n.prototype.createColumnEvent=function(t,e){return this.gridOptionsService.addGridCommonParams({type:t,column:this,columns:[this],source:e})},n.prototype.isMoving=function(){return this.moving},n.prototype.getSort=function(){return this.sort},n.prototype.setSort=function(t,e){this.sort!==t&&(this.sort=t,this.eventService.dispatchEvent(this.createColumnEvent("sortChanged",e))),this.dispatchStateUpdatedEvent("sort")},n.prototype.setMenuVisible=function(t,e){this.menuVisible!==t&&(this.menuVisible=t,this.eventService.dispatchEvent(this.createColumnEvent("menuVisibleChanged",e)))},n.prototype.isMenuVisible=function(){return this.menuVisible},n.prototype.isSortable=function(){return!!this.getColDefValue("sortable")},n.prototype.isSortAscending=function(){return this.sort==="asc"},n.prototype.isSortDescending=function(){return this.sort==="desc"},n.prototype.isSortNone=function(){return je(this.sort)},n.prototype.isSorting=function(){return ce(this.sort)},n.prototype.getSortIndex=function(){return this.sortIndex},n.prototype.setSortIndex=function(t){this.sortIndex=t,this.dispatchStateUpdatedEvent("sortIndex")},n.prototype.setAggFunc=function(t){this.aggFunc=t,this.dispatchStateUpdatedEvent("aggFunc")},n.prototype.getAggFunc=function(){return this.aggFunc},n.prototype.getLeft=function(){return this.left},n.prototype.getOldLeft=function(){return this.oldLeft},n.prototype.getRight=function(){return this.left+this.actualWidth},n.prototype.setLeft=function(t,e){this.oldLeft=this.left,this.left!==t&&(this.left=t,this.eventService.dispatchEvent(this.createColumnEvent("leftChanged",e)))},n.prototype.isFilterActive=function(){return this.filterActive},n.prototype.setFilterActive=function(t,e,r){this.filterActive!==t&&(this.filterActive=t,this.eventService.dispatchEvent(this.createColumnEvent("filterActiveChanged",e)));var i=this.createColumnEvent("filterChanged",e);r&&Zo(i,r),this.eventService.dispatchEvent(i)},n.prototype.isHovered=function(){return this.columnHoverService.isHovered(this)},n.prototype.setPinned=function(t){t===!0||t==="left"?this.pinned="left":t==="right"?this.pinned="right":this.pinned=null,this.dispatchStateUpdatedEvent("pinned")},n.prototype.setFirstRightPinned=function(t,e){this.firstRightPinned!==t&&(this.firstRightPinned=t,this.eventService.dispatchEvent(this.createColumnEvent("firstRightPinnedChanged",e)))},n.prototype.setLastLeftPinned=function(t,e){this.lastLeftPinned!==t&&(this.lastLeftPinned=t,this.eventService.dispatchEvent(this.createColumnEvent("lastLeftPinnedChanged",e)))},n.prototype.isFirstRightPinned=function(){return this.firstRightPinned},n.prototype.isLastLeftPinned=function(){return this.lastLeftPinned},n.prototype.isPinned=function(){return this.pinned==="left"||this.pinned==="right"},n.prototype.isPinnedLeft=function(){return this.pinned==="left"},n.prototype.isPinnedRight=function(){return this.pinned==="right"},n.prototype.getPinned=function(){return this.pinned},n.prototype.setVisible=function(t,e){var r=t===!0;this.visible!==r&&(this.visible=r,this.eventService.dispatchEvent(this.createColumnEvent("visibleChanged",e))),this.dispatchStateUpdatedEvent("hide")},n.prototype.isVisible=function(){return this.visible},n.prototype.isSpanHeaderHeight=function(){var t=this.getColDef();return!t.suppressSpanHeaderHeight&&!t.autoHeaderHeight},n.prototype.getColumnGroupPaddingInfo=function(){var t=this.getParent();if(!t||!t.isPadding())return{numberOfParents:0,isSpanningTotal:!1};for(var e=t.getPaddingLevel()+1,r=!0;t;){if(!t.isPadding()){r=!1;break}t=t.getParent()}return{numberOfParents:e,isSpanningTotal:r}},n.prototype.getColDef=function(){return this.colDef},n.prototype.getColumnGroupShow=function(){return this.colDef.columnGroupShow},n.prototype.getColId=function(){return this.colId},n.prototype.getId=function(){return this.colId},n.prototype.getUniqueId=function(){return this.colId},n.prototype.getDefinition=function(){return this.colDef},n.prototype.getActualWidth=function(){return this.actualWidth},n.prototype.getAutoHeaderHeight=function(){return this.autoHeaderHeight},n.prototype.setAutoHeaderHeight=function(t){var e=t!==this.autoHeaderHeight;return this.autoHeaderHeight=t,e},n.prototype.createBaseColDefParams=function(t){var e=this.gridOptionsService.addGridCommonParams({node:t,data:t.data,colDef:this.colDef,column:this});return e},n.prototype.getColSpan=function(t){if(je(this.colDef.colSpan))return 1;var e=this.createBaseColDefParams(t),r=this.colDef.colSpan(e);return Math.max(r,1)},n.prototype.getRowSpan=function(t){if(je(this.colDef.rowSpan))return 1;var e=this.createBaseColDefParams(t),r=this.colDef.rowSpan(e);return Math.max(r,1)},n.prototype.setActualWidth=function(t,e,r){r===void 0&&(r=!1),this.minWidth!=null&&(t=Math.max(t,this.minWidth)),this.maxWidth!=null&&(t=Math.min(t,this.maxWidth)),this.actualWidth!==t&&(this.actualWidth=t,this.flex&&e!=="flex"&&e!=="gridInitializing"&&(this.flex=null),r||this.fireColumnWidthChangedEvent(e)),this.dispatchStateUpdatedEvent("width")},n.prototype.fireColumnWidthChangedEvent=function(t){this.eventService.dispatchEvent(this.createColumnEvent("widthChanged",t))},n.prototype.isGreaterThanMax=function(t){return this.maxWidth!=null?t>this.maxWidth:!1},n.prototype.getMinWidth=function(){return this.minWidth},n.prototype.getMaxWidth=function(){return this.maxWidth},n.prototype.getFlex=function(){return this.flex||0},n.prototype.setFlex=function(t){this.flex!==t&&(this.flex=t),this.dispatchStateUpdatedEvent("flex")},n.prototype.setMinimum=function(t){ce(this.minWidth)&&this.setActualWidth(this.minWidth,t)},n.prototype.setRowGroupActive=function(t,e){this.rowGroupActive!==t&&(this.rowGroupActive=t,this.eventService.dispatchEvent(this.createColumnEvent("columnRowGroupChanged",e))),this.dispatchStateUpdatedEvent("rowGroup")},n.prototype.isRowGroupActive=function(){return this.rowGroupActive},n.prototype.setPivotActive=function(t,e){this.pivotActive!==t&&(this.pivotActive=t,this.eventService.dispatchEvent(this.createColumnEvent("columnPivotChanged",e))),this.dispatchStateUpdatedEvent("pivot")},n.prototype.isPivotActive=function(){return this.pivotActive},n.prototype.isAnyFunctionActive=function(){return this.isPivotActive()||this.isRowGroupActive()||this.isValueActive()},n.prototype.isAnyFunctionAllowed=function(){return this.isAllowPivot()||this.isAllowRowGroup()||this.isAllowValue()},n.prototype.setValueActive=function(t,e){this.aggregationActive!==t&&(this.aggregationActive=t,this.eventService.dispatchEvent(this.createColumnEvent("columnValueChanged",e)))},n.prototype.isValueActive=function(){return this.aggregationActive},n.prototype.isAllowPivot=function(){return this.colDef.enablePivot===!0},n.prototype.isAllowValue=function(){return this.colDef.enableValue===!0},n.prototype.isAllowRowGroup=function(){return this.colDef.enableRowGroup===!0},n.prototype.getMenuTabs=function(t){Le("As of v31.1, 'getMenuTabs' is deprecated. Use 'getColDef().menuTabs ?? defaultValues' instead.");var e=this.getColDef().menuTabs;return e==null&&(e=t),e},n.prototype.dispatchStateUpdatedEvent=function(t){this.eventService.dispatchEvent({type:n.EVENT_STATE_UPDATED,key:t})},n.EVENT_MOVING_CHANGED="movingChanged",n.EVENT_LEFT_CHANGED="leftChanged",n.EVENT_WIDTH_CHANGED="widthChanged",n.EVENT_LAST_LEFT_PINNED_CHANGED="lastLeftPinnedChanged",n.EVENT_FIRST_RIGHT_PINNED_CHANGED="firstRightPinnedChanged",n.EVENT_VISIBLE_CHANGED="visibleChanged",n.EVENT_FILTER_CHANGED="filterChanged",n.EVENT_FILTER_ACTIVE_CHANGED="filterActiveChanged",n.EVENT_SORT_CHANGED="sortChanged",n.EVENT_COL_DEF_CHANGED="colDefChanged",n.EVENT_MENU_VISIBLE_CHANGED="menuVisibleChanged",n.EVENT_ROW_GROUP_CHANGED="columnRowGroupChanged",n.EVENT_PIVOT_CHANGED="columnPivotChanged",n.EVENT_VALUE_CHANGED="columnValueChanged",n.EVENT_STATE_UPDATED="columnStateUpdated",Dy([E("gridOptionsService")],n.prototype,"gridOptionsService",void 0),Dy([E("columnUtils")],n.prototype,"columnUtils",void 0),Dy([E("columnHoverService")],n.prototype,"columnHoverService",void 0),Dy([E("frameworkOverrides")],n.prototype,"frameworkOverrides",void 0),Dy([z],n.prototype,"initialise",null),n}(),Sxe=function(n,t,e,r){var i=arguments.length,o=i<3?t:r===null?r=Object.getOwnPropertyDescriptor(t,e):r,a;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(n,t,e,r);else for(var s=n.length-1;s>=0;s--)(a=n[s])&&(o=(i<3?a(o):i>3?a(t,e,o):a(t,e))||o);return i>3&&o&&Object.defineProperty(t,e,o),o},Pt=function(){function n(t,e,r,i){this.localEventService=new Hs,this.expandable=!1,this.instanceId=B7(),this.expandableListenerRemoveCallback=null,this.colGroupDef=t,this.groupId=e,this.expanded=!!t&&!!t.openByDefault,this.padding=r,this.level=i}return n.prototype.destroy=function(){this.expandableListenerRemoveCallback&&this.reset(null,void 0)},n.prototype.reset=function(t,e){this.colGroupDef=t,this.level=e,this.originalParent=null,this.expandableListenerRemoveCallback&&this.expandableListenerRemoveCallback(),this.children=void 0,this.expandable=void 0},n.prototype.getInstanceId=function(){return this.instanceId},n.prototype.setOriginalParent=function(t){this.originalParent=t},n.prototype.getOriginalParent=function(){return this.originalParent},n.prototype.getLevel=function(){return this.level},n.prototype.isVisible=function(){return this.children?this.children.some(function(t){return t.isVisible()}):!1},n.prototype.isPadding=function(){return this.padding},n.prototype.setExpanded=function(t){this.expanded=t===void 0?!1:t;var e={type:n.EVENT_EXPANDED_CHANGED};this.localEventService.dispatchEvent(e)},n.prototype.isExpandable=function(){return this.expandable},n.prototype.isExpanded=function(){return this.expanded},n.prototype.getGroupId=function(){return this.groupId},n.prototype.getId=function(){return this.getGroupId()},n.prototype.setChildren=function(t){this.children=t},n.prototype.getChildren=function(){return this.children},n.prototype.getColGroupDef=function(){return this.colGroupDef},n.prototype.getLeafColumns=function(){var t=[];return this.addLeafColumns(t),t},n.prototype.addLeafColumns=function(t){this.children&&this.children.forEach(function(e){e instanceof Je?t.push(e):e instanceof n&&e.addLeafColumns(t)})},n.prototype.getColumnGroupShow=function(){var t=this.colGroupDef;if(t)return t.columnGroupShow},n.prototype.setupExpandable=function(){var t=this;this.setExpandable(),this.expandableListenerRemoveCallback&&this.expandableListenerRemoveCallback();var e=this.onColumnVisibilityChanged.bind(this);this.getLeafColumns().forEach(function(r){return r.addEventListener("visibleChanged",e)}),this.expandableListenerRemoveCallback=function(){t.getLeafColumns().forEach(function(r){return r.removeEventListener("visibleChanged",e)}),t.expandableListenerRemoveCallback=null}},n.prototype.setExpandable=function(){if(!this.isPadding()){for(var t=!1,e=!1,r=!1,i=this.findChildrenRemovingPadding(),o=0,a=i.length;o<a;o++){var s=i[o];if(s.isVisible()){var l=s.getColumnGroupShow();l==="open"?(t=!0,r=!0):l==="closed"?(e=!0,r=!0):(t=!0,e=!0)}}var u=t&&e&&r;if(this.expandable!==u){this.expandable=u;var c={type:n.EVENT_EXPANDABLE_CHANGED};this.localEventService.dispatchEvent(c)}}},n.prototype.findChildrenRemovingPadding=function(){var t=[],e=function(r){r.forEach(function(i){var o=i instanceof n&&i.isPadding();o?e(i.children):t.push(i)})};return e(this.children),t},n.prototype.onColumnVisibilityChanged=function(){this.setExpandable()},n.prototype.addEventListener=function(t,e){this.localEventService.addEventListener(t,e)},n.prototype.removeEventListener=function(t,e){this.localEventService.removeEventListener(t,e)},n.EVENT_EXPANDED_CHANGED="expandedChanged",n.EVENT_EXPANDABLE_CHANGED="expandableChanged",Sxe([rr],n.prototype,"destroy",null),n}(),wxe={numericColumn:{headerClass:"ag-right-aligned-header",cellClass:"ag-right-aligned-cell"},rightAligned:{headerClass:"ag-right-aligned-header",cellClass:"ag-right-aligned-cell"}};function _xe(n){return n!=null&&n.length>0}function bt(n){if(!(!n||!n.length))return n[n.length-1]}function Du(n,t,e){return n==null&&t==null?!0:n!=null&&t!=null&&n.length===t.length&&n.every(function(r,i){return e?e(r,t[i]):t[i]===r})}function xxe(n,t){return Du(n,t)}function H7(n){return n.sort(function(t,e){return t-e})}function Exe(n,t){if(n)for(var e=n.length-2;e>=0;e--){var r=n[e]===t,i=n[e+1]===t;r&&i&&n.splice(e+1,1)}}function Gk(n,t){var e=n.indexOf(t);e>=0&&(n[e]=n[n.length-1],n.pop())}function eo(n,t){var e=n.indexOf(t);e>=0&&n.splice(e,1)}function j7(n,t){for(var e=0;e<t.length;e++)Gk(n,t[e])}function $7(n,t){for(var e=0;e<t.length;e++)eo(n,t[e])}function AS(n,t,e){n.splice(e,0,t)}function bxe(n,t,e){if(!(n==null||t==null))for(var r=t.length-1;r>=0;r--){var i=t[r];AS(n,i,e)}}function CL(n,t,e){$7(n,t),t.slice().reverse().forEach(function(r){return AS(n,r,e)})}function Ps(n,t){return n.indexOf(t)>-1}function W7(n){return[].concat.apply([],n)}function SL(n,t){t==null||n==null||t.forEach(function(e){return n.push(e)})}function Oxe(n){return n.map(PS)}function Rxe(n,t){if(n!=null)for(var e=n.length-1;e>=0;e--)t(n[e],e)}var Txe=Object.freeze({__proto__:null,existsAndNotEmpty:_xe,last:bt,areEqual:Du,shallowCompare:xxe,sortNumerically:H7,removeRepeatsFromArray:Exe,removeFromUnorderedArray:Gk,removeFromArray:eo,removeAllFromUnorderedArray:j7,removeAllFromArray:$7,insertIntoArray:AS,insertArrayIntoArray:bxe,moveInArray:CL,includes:Ps,flatten:W7,pushAll:SL,toStrings:Oxe,forEachReverse:Rxe}),U7="__ag_Grid_Stop_Propagation",Pxe=["touchstart","touchend","touchmove","touchcancel","scroll"],AA={};function Fs(n){n[U7]=!0}function As(n){return n[U7]===!0}var Vk=function(){var n={select:"input",change:"input",submit:"form",reset:"form",error:"img",load:"img",abort:"img"},t=function(e){if(typeof AA[e]=="boolean")return AA[e];var r=document.createElement(n[e]||"div");return e="on"+e,AA[e]=e in r};return t}();function Mb(n,t,e){for(var r=t;r;){var i=n.getDomData(r,e);if(i)return i;r=r.parentElement}return null}function Fb(n,t){return!t||!n?!1:K7(t).indexOf(n)>=0}function z7(n){for(var t=[],e=n.target;e;)t.push(e),e=e.parentElement;return t}function K7(n){var t=n;return t.path?t.path:t.composedPath?t.composedPath():z7(t)}function Y7(n,t,e,r){var i=Ps(Pxe,e),o=i?{passive:!0}:void 0;n&&n.addEventListener&&n.addEventListener(t,e,r,o)}var Axe=Object.freeze({__proto__:null,stopPropagationForAgGrid:Fs,isStopPropagationForAgGrid:As,isEventSupported:Vk,getCtrlForEventTarget:Mb,isElementInEventPath:Fb,createEventPath:z7,getEventPath:K7,addSafePassiveEventListener:Y7}),vp=function(n,t,e,r){var i=arguments.length,o=i<3?t:r===null?r=Object.getOwnPropertyDescriptor(t,e):r,a;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(n,t,e,r);else for(var s=n.length-1;s>=0;s--)(a=n[s])&&(o=(i<3?a(o):i>3?a(t,e,o):a(t,e))||o);return i>3&&o&&Object.defineProperty(t,e,o),o},q=function(){function n(){var t=this;this.destroyFunctions=[],this.destroyed=!1,this.__v_skip=!0,this.lastChangeSetIdLookup={},this.propertyListenerId=0,this.isAlive=function(){return!t.destroyed}}return n.prototype.getFrameworkOverrides=function(){return this.frameworkOverrides},n.prototype.getContext=function(){return this.context},n.prototype.destroy=function(){this.destroyFunctions.forEach(function(t){return t()}),this.destroyFunctions.length=0,this.destroyed=!0,this.dispatchEvent({type:n.EVENT_DESTROYED})},n.prototype.addEventListener=function(t,e){this.localEventService||(this.localEventService=new Hs),this.localEventService.addEventListener(t,e)},n.prototype.removeEventListener=function(t,e){this.localEventService&&this.localEventService.removeEventListener(t,e)},n.prototype.dispatchEvent=function(t){this.localEventService&&this.localEventService.dispatchEvent(t)},n.prototype.addManagedListener=function(t,e,r){var i=this;if(!this.destroyed){t instanceof HTMLElement?Y7(this.getFrameworkOverrides(),t,e,r):t.addEventListener(e,r);var o=function(){return t.removeEventListener(e,r),i.destroyFunctions=i.destroyFunctions.filter(function(a){return a!==o}),null};return this.destroyFunctions.push(o),o}},n.prototype.setupGridOptionListener=function(t,e){var r=this;this.gridOptionsService.addEventListener(t,e);var i=function(){return r.gridOptionsService.removeEventListener(t,e),r.destroyFunctions=r.destroyFunctions.filter(function(o){return o!==i}),null};return this.destroyFunctions.push(i),i},n.prototype.addManagedPropertyListener=function(t,e){return this.destroyed?function(){return null}:this.setupGridOptionListener(t,e)},n.prototype.addManagedPropertyListeners=function(t,e){var r=this;if(!this.destroyed){var i=t.join("-")+this.propertyListenerId++,o=function(a){if(a.changeSet){if(a.changeSet&&a.changeSet.id===r.lastChangeSetIdLookup[i])return;r.lastChangeSetIdLookup[i]=a.changeSet.id}var s={type:"gridPropertyChanged",changeSet:a.changeSet,source:a.source};e(s)};t.forEach(function(a){return r.setupGridOptionListener(a,o)})}},n.prototype.addDestroyFunc=function(t){this.isAlive()?this.destroyFunctions.push(t):t()},n.prototype.createManagedBean=function(t,e){var r=this.createBean(t,e);return this.addDestroyFunc(this.destroyBean.bind(this,t,e)),r},n.prototype.createBean=function(t,e,r){return(e||this.getContext()).createBean(t,r)},n.prototype.destroyBean=function(t,e){return(e||this.getContext()).destroyBean(t)},n.prototype.destroyBeans=function(t,e){var r=this;return t&&t.forEach(function(i){return r.destroyBean(i,e)}),[]},n.EVENT_DESTROYED="destroyed",vp([E("frameworkOverrides")],n.prototype,"frameworkOverrides",void 0),vp([E("context")],n.prototype,"context",void 0),vp([E("eventService")],n.prototype,"eventService",void 0),vp([E("gridOptionsService")],n.prototype,"gridOptionsService",void 0),vp([E("localeService")],n.prototype,"localeService",void 0),vp([E("environment")],n.prototype,"environment",void 0),vp([rr],n.prototype,"destroy",null),n}(),Dxe=function(){var n=function(t,e){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])},n(t,e)};return function(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");n(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}}(),i_=function(n,t,e,r){var i=arguments.length,o=i<3?t:r===null?r=Object.getOwnPropertyDescriptor(t,e):r,a;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(n,t,e,r);else for(var s=n.length-1;s>=0;s--)(a=n[s])&&(o=(i<3?a(o):i>3?a(t,e,o):a(t,e))||o);return i>3&&o&&Object.defineProperty(t,e,o),o},Mxe=function(n,t){return function(e,r){t(e,r,n)}},X7=function(n){Dxe(t,n);function t(){return n!==null&&n.apply(this,arguments)||this}return t.prototype.setBeans=function(e){this.logger=e.create("ColumnFactory")},t.prototype.createColumnTree=function(e,r,i,o){var a=new L7,s=this.extractExistingTreeData(i),l=s.existingCols,u=s.existingGroups,c=s.existingColKeys;a.addExistingKeys(c);var d=this.recursivelyCreateColumns(e,0,r,l,a,u,o),p=this.findMaxDept(d,0);this.logger.log("Number of levels for grouped columns is "+p);var h=this.balanceColumnTree(d,0,p,a),f=function(v,g){v instanceof Pt&&v.setupExpandable(),v.setOriginalParent(g)};return this.columnUtils.depthFirstOriginalTreeSearch(null,h,f),{columnTree:h,treeDept:p}},t.prototype.extractExistingTreeData=function(e){var r=[],i=[],o=[];return e&&this.columnUtils.depthFirstOriginalTreeSearch(null,e,function(a){if(a instanceof Pt){var s=a;i.push(s)}else{var l=a;o.push(l.getId()),r.push(l)}}),{existingCols:r,existingGroups:i,existingColKeys:o}},t.prototype.createForAutoGroups=function(e,r){var i=this;return e.map(function(o){return i.createAutoGroupTreeItem(r,o)})},t.prototype.createAutoGroupTreeItem=function(e,r){for(var i=this.findDepth(e),o=r,a=i-1;a>=0;a--){var s=new Pt(null,"FAKE_PATH_".concat(r.getId(),"}_").concat(a),!0,a);this.createBean(s),s.setChildren([o]),o.setOriginalParent(s),o=s}return i===0&&r.setOriginalParent(null),o},t.prototype.findDepth=function(e){for(var r=0,i=e;i&&i[0]&&i[0]instanceof Pt;)r++,i=i[0].getChildren();return r},t.prototype.balanceColumnTree=function(e,r,i,o){for(var a=[],s=0;s<e.length;s++){var l=e[s];if(l instanceof Pt){var u=l,c=this.balanceColumnTree(u.getChildren(),r+1,i,o);u.setChildren(c),a.push(u)}else{for(var d=void 0,p=void 0,h=i-1;h>=r;h--){var f=o.getUniqueKey(null,null),v=this.createMergedColGroupDef(null),g=new Pt(v,f,!0,r);this.createBean(g),p&&p.setChildren([g]),p=g,d||(d=p)}if(d&&p){a.push(d);var y=e.some(function(m){return m instanceof Pt});if(y){p.setChildren([l]);continue}else{p.setChildren(e);break}}a.push(l)}}return a},t.prototype.findMaxDept=function(e,r){for(var i=r,o=0;o<e.length;o++){var a=e[o];if(a instanceof Pt){var s=a,l=this.findMaxDept(s.getChildren(),r+1);i<l&&(i=l)}}return i},t.prototype.recursivelyCreateColumns=function(e,r,i,o,a,s,l){if(!e)return[];for(var u=new Array(e.length),c=0;c<u.length;c++){var d=e[c];this.isColumnGroup(d)?u[c]=this.createColumnGroup(i,d,r,o,a,s,l):u[c]=this.createColumn(i,d,o,a,l)}return u},t.prototype.createColumnGroup=function(e,r,i,o,a,s,l){var u=this.createMergedColGroupDef(r),c=a.getUniqueKey(u.groupId||null,null),d=new Pt(u,c,!1,i);this.createBean(d);var p=this.findExistingGroup(r,s);p&&s.splice(p.idx,1);var h=p==null?void 0:p.group;h&&d.setExpanded(h.isExpanded());var f=this.recursivelyCreateColumns(u.children,i+1,e,o,a,s,l);return d.setChildren(f),d},t.prototype.createMergedColGroupDef=function(e){var r={};return Object.assign(r,this.gridOptionsService.get("defaultColGroupDef")),Object.assign(r,e),r},t.prototype.createColumn=function(e,r,i,o,a){var s=this.findExistingColumn(r,i);s&&(i==null||i.splice(s.idx,1));var l=s==null?void 0:s.column;if(l){var c=this.addColumnDefaultAndTypes(r,l.getColId());l.setColDef(c,r,a),this.applyColumnState(l,c,a)}else{var u=o.getUniqueKey(r.colId,r.field),c=this.addColumnDefaultAndTypes(r,u);l=new Je(c,r,u,e),this.context.createBean(l)}return this.dataTypeService.addColumnListeners(l),l},t.prototype.applyColumnState=function(e,r,i){var o=Rd(r.flex);o!==void 0&&e.setFlex(o);var a=e.getFlex()<=0;if(a){var s=Rd(r.width);if(s!=null)e.setActualWidth(s,i);else{var l=e.getActualWidth();e.setActualWidth(l,i)}}r.sort!==void 0&&(r.sort=="asc"||r.sort=="desc"?e.setSort(r.sort,i):e.setSort(void 0,i));var u=Rd(r.sortIndex);u!==void 0&&e.setSortIndex(u);var c=Pb(r.hide);c!==void 0&&e.setVisible(!c,i),r.pinned!==void 0&&e.setPinned(r.pinned)},t.prototype.findExistingColumn=function(e,r){if(r)for(var i=0;i<r.length;i++){var o=r[i].getUserProvidedColDef();if(o){var a=e.colId!=null;if(a){if(r[i].getId()===e.colId)return{idx:i,column:r[i]};continue}var s=e.field!=null;if(s){if(o.field===e.field)return{idx:i,column:r[i]};continue}if(o===e)return{idx:i,column:r[i]}}}},t.prototype.findExistingGroup=function(e,r){var i=e.groupId!=null;if(i)for(var o=0;o<r.length;o++){var a=r[o],s=a.getColGroupDef();if(s&&a.getId()===e.groupId)return{idx:o,group:a}}},t.prototype.addColumnDefaultAndTypes=function(e,r){var i={},o=this.gridOptionsService.get("defaultColDef");Zo(i,o,!1,!0);var a=this.dataTypeService.updateColDefAndGetColumnType(i,e,r);a&&this.assignColumnTypes(a,i),Zo(i,e,!1,!0);var s=this.gridOptionsService.get("autoGroupColumnDef"),l=this.gridOptionsService.isColumnsSortingCoupledToGroup();return e.rowGroup&&s&&l&&Zo(i,{sort:s.sort,initialSort:s.initialSort},!1,!0),this.dataTypeService.validateColDef(i),i},t.prototype.assignColumnTypes=function(e,r){if(e.length){var i=Object.assign({},wxe),o=this.gridOptionsService.get("columnTypes")||{};li(o,function(a,s){if(a in i)console.warn("AG Grid: the column type '".concat(a,"' is a default column type and cannot be overridden."));else{var l=s;l.type&&Le("Column type definitions 'columnTypes' with a 'type' attribute are not supported because a column type cannot refer to another column type. Only column definitions 'columnDefs' can use the 'type' attribute to refer to a column type."),i[a]=s}}),e.forEach(function(a){var s=i[a.trim()];s?Zo(r,s,!1,!0):console.warn("AG Grid: colDef.type '"+a+"' does not correspond to defined gridOptions.columnTypes")})}},t.prototype.isColumnGroup=function(e){return e.children!==void 0},i_([E("columnUtils")],t.prototype,"columnUtils",void 0),i_([E("dataTypeService")],t.prototype,"dataTypeService",void 0),i_([Mxe(0,Jo("loggerFactory"))],t.prototype,"setBeans",null),t=i_([ae("columnFactory")],t),t}(q),Fxe=function(n,t,e,r){var i=arguments.length,o=i<3?t:r===null?r=Object.getOwnPropertyDescriptor(t,e):r,a;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(n,t,e,r);else for(var s=n.length-1;s>=0;s--)(a=n[s])&&(o=(i<3?a(o):i>3?a(t,e,o):a(t,e))||o);return i>3&&o&&Object.defineProperty(t,e,o),o},Vr=function(){function n(t,e,r,i){this.displayedChildren=[],this.localEventService=new Hs,this.groupId=e,this.partId=r,this.providedColumnGroup=t,this.pinned=i}return n.createUniqueId=function(t,e){return t+"_"+e},n.prototype.reset=function(){this.parent=null,this.children=null,this.displayedChildren=null},n.prototype.getParent=function(){return this.parent},n.prototype.setParent=function(t){this.parent=t},n.prototype.getUniqueId=function(){return n.createUniqueId(this.groupId,this.partId)},n.prototype.isEmptyGroup=function(){return this.displayedChildren.length===0},n.prototype.isMoving=function(){var t=this.getProvidedColumnGroup().getLeafColumns();return!t||t.length===0?!1:t.every(function(e){return e.isMoving()})},n.prototype.checkLeft=function(){if(this.displayedChildren.forEach(function(i){i instanceof n&&i.checkLeft()}),this.displayedChildren.length>0)if(this.gridOptionsService.get("enableRtl")){var t=bt(this.displayedChildren),e=t.getLeft();this.setLeft(e)}else{var r=this.displayedChildren[0].getLeft();this.setLeft(r)}else this.setLeft(null)},n.prototype.getLeft=function(){return this.left},n.prototype.getOldLeft=function(){return this.oldLeft},n.prototype.setLeft=function(t){this.oldLeft=this.left,this.left!==t&&(this.left=t,this.localEventService.dispatchEvent(this.createAgEvent(n.EVENT_LEFT_CHANGED)))},n.prototype.getPinned=function(){return this.pinned},n.prototype.createAgEvent=function(t){return{type:t}},n.prototype.addEventListener=function(t,e){this.localEventService.addEventListener(t,e)},n.prototype.removeEventListener=function(t,e){this.localEventService.removeEventListener(t,e)},n.prototype.getGroupId=function(){return this.groupId},n.prototype.getPartId=function(){return this.partId},n.prototype.isChildInThisGroupDeepSearch=function(t){var e=!1;return this.children.forEach(function(r){t===r&&(e=!0),r instanceof n&&r.isChildInThisGroupDeepSearch(t)&&(e=!0)}),e},n.prototype.getActualWidth=function(){var t=0;return this.displayedChildren&&this.displayedChildren.forEach(function(e){t+=e.getActualWidth()}),t},n.prototype.isResizable=function(){if(!this.displayedChildren)return!1;var t=!1;return this.displayedChildren.forEach(function(e){e.isResizable()&&(t=!0)}),t},n.prototype.getMinWidth=function(){var t=0;return this.displayedChildren.forEach(function(e){t+=e.getMinWidth()||0}),t},n.prototype.addChild=function(t){this.children||(this.children=[]),this.children.push(t)},n.prototype.getDisplayedChildren=function(){return this.displayedChildren},n.prototype.getLeafColumns=function(){var t=[];return this.addLeafColumns(t),t},n.prototype.getDisplayedLeafColumns=function(){var t=[];return this.addDisplayedLeafColumns(t),t},n.prototype.getDefinition=function(){return this.providedColumnGroup.getColGroupDef()},n.prototype.getColGroupDef=function(){return this.providedColumnGroup.getColGroupDef()},n.prototype.isPadding=function(){return this.providedColumnGroup.isPadding()},n.prototype.isExpandable=function(){return this.providedColumnGroup.isExpandable()},n.prototype.isExpanded=function(){return this.providedColumnGroup.isExpanded()},n.prototype.setExpanded=function(t){this.providedColumnGroup.setExpanded(t)},n.prototype.addDisplayedLeafColumns=function(t){this.displayedChildren.forEach(function(e){e instanceof Je?t.push(e):e instanceof n&&e.addDisplayedLeafColumns(t)})},n.prototype.addLeafColumns=function(t){this.children.forEach(function(e){e instanceof Je?t.push(e):e instanceof n&&e.addLeafColumns(t)})},n.prototype.getChildren=function(){return this.children},n.prototype.getColumnGroupShow=function(){return this.providedColumnGroup.getColumnGroupShow()},n.prototype.getProvidedColumnGroup=function(){return this.providedColumnGroup},n.prototype.getPaddingLevel=function(){var t=this.getParent();return!this.isPadding()||!t||!t.isPadding()?0:1+t.getPaddingLevel()},n.prototype.calculateDisplayedColumns=function(){var t=this;this.displayedChildren=[];for(var e=this;e!=null&&e.isPadding();)e=e.getParent();var r=e?e.providedColumnGroup.isExpandable():!1;if(!r){this.displayedChildren=this.children,this.localEventService.dispatchEvent(this.createAgEvent(n.EVENT_DISPLAYED_CHILDREN_CHANGED));return}this.children.forEach(function(i){var o=i instanceof n&&(!i.displayedChildren||!i.displayedChildren.length);if(!o){var a=i.getColumnGroupShow();switch(a){case"open":e.providedColumnGroup.isExpanded()&&t.displayedChildren.push(i);break;case"closed":e.providedColumnGroup.isExpanded()||t.displayedChildren.push(i);break;default:t.displayedChildren.push(i);break}}}),this.localEventService.dispatchEvent(this.createAgEvent(n.EVENT_DISPLAYED_CHILDREN_CHANGED))},n.EVENT_LEFT_CHANGED="leftChanged",n.EVENT_DISPLAYED_CHILDREN_CHANGED="displayedChildrenChanged",Fxe([E("gridOptionsService")],n.prototype,"gridOptionsService",void 0),n}(),P=function(){function n(){}return n.EVENT_COLUMN_EVERYTHING_CHANGED="columnEverythingChanged",n.EVENT_NEW_COLUMNS_LOADED="newColumnsLoaded",n.EVENT_COLUMN_PIVOT_MODE_CHANGED="columnPivotModeChanged",n.EVENT_COLUMN_ROW_GROUP_CHANGED="columnRowGroupChanged",n.EVENT_EXPAND_COLLAPSE_ALL="expandOrCollapseAll",n.EVENT_COLUMN_PIVOT_CHANGED="columnPivotChanged",n.EVENT_GRID_COLUMNS_CHANGED="gridColumnsChanged",n.EVENT_COLUMN_VALUE_CHANGED="columnValueChanged",n.EVENT_COLUMN_MOVED="columnMoved",n.EVENT_COLUMN_VISIBLE="columnVisible",n.EVENT_COLUMN_PINNED="columnPinned",n.EVENT_COLUMN_GROUP_OPENED="columnGroupOpened",n.EVENT_COLUMN_RESIZED="columnResized",n.EVENT_DISPLAYED_COLUMNS_CHANGED="displayedColumnsChanged",n.EVENT_SUPPRESS_COLUMN_MOVE_CHANGED="suppressMovableColumns",n.EVENT_SUPPRESS_MENU_HIDE_CHANGED="suppressMenuHide",n.EVENT_SUPPRESS_FIELD_DOT_NOTATION="suppressFieldDotNotation",n.EVENT_VIRTUAL_COLUMNS_CHANGED="virtualColumnsChanged",n.EVENT_COLUMN_HEADER_MOUSE_OVER="columnHeaderMouseOver",n.EVENT_COLUMN_HEADER_MOUSE_LEAVE="columnHeaderMouseLeave",n.EVENT_COLUMN_HEADER_CLICKED="columnHeaderClicked",n.EVENT_COLUMN_HEADER_CONTEXT_MENU="columnHeaderContextMenu",n.EVENT_ASYNC_TRANSACTIONS_FLUSHED="asyncTransactionsFlushed",n.EVENT_ROW_GROUP_OPENED="rowGroupOpened",n.EVENT_ROW_DATA_UPDATED="rowDataUpdated",n.EVENT_PINNED_ROW_DATA_CHANGED="pinnedRowDataChanged",n.EVENT_RANGE_SELECTION_CHANGED="rangeSelectionChanged",n.EVENT_CHART_CREATED="chartCreated",n.EVENT_CHART_RANGE_SELECTION_CHANGED="chartRangeSelectionChanged",n.EVENT_CHART_OPTIONS_CHANGED="chartOptionsChanged",n.EVENT_CHART_DESTROYED="chartDestroyed",n.EVENT_TOOL_PANEL_VISIBLE_CHANGED="toolPanelVisibleChanged",n.EVENT_TOOL_PANEL_SIZE_CHANGED="toolPanelSizeChanged",n.EVENT_COLUMN_PANEL_ITEM_DRAG_START="columnPanelItemDragStart",n.EVENT_COLUMN_PANEL_ITEM_DRAG_END="columnPanelItemDragEnd",n.EVENT_MODEL_UPDATED="modelUpdated",n.EVENT_CUT_START="cutStart",n.EVENT_CUT_END="cutEnd",n.EVENT_PASTE_START="pasteStart",n.EVENT_PASTE_END="pasteEnd",n.EVENT_FILL_START="fillStart",n.EVENT_FILL_END="fillEnd",n.EVENT_RANGE_DELETE_START="rangeDeleteStart",n.EVENT_RANGE_DELETE_END="rangeDeleteEnd",n.EVENT_UNDO_STARTED="undoStarted",n.EVENT_UNDO_ENDED="undoEnded",n.EVENT_REDO_STARTED="redoStarted",n.EVENT_REDO_ENDED="redoEnded",n.EVENT_KEY_SHORTCUT_CHANGED_CELL_START="keyShortcutChangedCellStart",n.EVENT_KEY_SHORTCUT_CHANGED_CELL_END="keyShortcutChangedCellEnd",n.EVENT_CELL_CLICKED="cellClicked",n.EVENT_CELL_DOUBLE_CLICKED="cellDoubleClicked",n.EVENT_CELL_MOUSE_DOWN="cellMouseDown",n.EVENT_CELL_CONTEXT_MENU="cellContextMenu",n.EVENT_CELL_VALUE_CHANGED="cellValueChanged",n.EVENT_CELL_EDIT_REQUEST="cellEditRequest",n.EVENT_ROW_VALUE_CHANGED="rowValueChanged",n.EVENT_CELL_FOCUSED="cellFocused",n.EVENT_CELL_FOCUS_CLEARED="cellFocusCleared",n.EVENT_FULL_WIDTH_ROW_FOCUSED="fullWidthRowFocused",n.EVENT_ROW_SELECTED="rowSelected",n.EVENT_SELECTION_CHANGED="selectionChanged",n.EVENT_TOOLTIP_SHOW="tooltipShow",n.EVENT_TOOLTIP_HIDE="tooltipHide",n.EVENT_CELL_KEY_DOWN="cellKeyDown",n.EVENT_CELL_MOUSE_OVER="cellMouseOver",n.EVENT_CELL_MOUSE_OUT="cellMouseOut",n.EVENT_FILTER_CHANGED="filterChanged",n.EVENT_FILTER_MODIFIED="filterModified",n.EVENT_FILTER_OPENED="filterOpened",n.EVENT_ADVANCED_FILTER_BUILDER_VISIBLE_CHANGED="advancedFilterBuilderVisibleChanged",n.EVENT_SORT_CHANGED="sortChanged",n.EVENT_VIRTUAL_ROW_REMOVED="virtualRowRemoved",n.EVENT_ROW_CLICKED="rowClicked",n.EVENT_ROW_DOUBLE_CLICKED="rowDoubleClicked",n.EVENT_GRID_READY="gridReady",n.EVENT_GRID_PRE_DESTROYED="gridPreDestroyed",n.EVENT_GRID_SIZE_CHANGED="gridSizeChanged",n.EVENT_VIEWPORT_CHANGED="viewportChanged",n.EVENT_SCROLLBAR_WIDTH_CHANGED="scrollbarWidthChanged",n.EVENT_FIRST_DATA_RENDERED="firstDataRendered",n.EVENT_DRAG_STARTED="dragStarted",n.EVENT_DRAG_STOPPED="dragStopped",n.EVENT_CHECKBOX_CHANGED="checkboxChanged",n.EVENT_ROW_EDITING_STARTED="rowEditingStarted",n.EVENT_ROW_EDITING_STOPPED="rowEditingStopped",n.EVENT_CELL_EDITING_STARTED="cellEditingStarted",n.EVENT_CELL_EDITING_STOPPED="cellEditingStopped",n.EVENT_BODY_SCROLL="bodyScroll",n.EVENT_BODY_SCROLL_END="bodyScrollEnd",n.EVENT_HEIGHT_SCALE_CHANGED="heightScaleChanged",n.EVENT_PAGINATION_CHANGED="paginationChanged",n.EVENT_COMPONENT_STATE_CHANGED="componentStateChanged",n.EVENT_STORE_REFRESHED="storeRefreshed",n.EVENT_STATE_UPDATED="stateUpdated",n.EVENT_COLUMN_MENU_VISIBLE_CHANGED="columnMenuVisibleChanged",n.EVENT_BODY_HEIGHT_CHANGED="bodyHeightChanged",n.EVENT_COLUMN_CONTAINER_WIDTH_CHANGED="columnContainerWidthChanged",n.EVENT_DISPLAYED_COLUMNS_WIDTH_CHANGED="displayedColumnsWidthChanged",n.EVENT_SCROLL_VISIBILITY_CHANGED="scrollVisibilityChanged",n.EVENT_COLUMN_HOVER_CHANGED="columnHoverChanged",n.EVENT_FLASH_CELLS="flashCells",n.EVENT_PAGINATION_PIXEL_OFFSET_CHANGED="paginationPixelOffsetChanged",n.EVENT_DISPLAYED_ROWS_CHANGED="displayedRowsChanged",n.EVENT_LEFT_PINNED_WIDTH_CHANGED="leftPinnedWidthChanged",n.EVENT_RIGHT_PINNED_WIDTH_CHANGED="rightPinnedWidthChanged",n.EVENT_ROW_CONTAINER_HEIGHT_CHANGED="rowContainerHeightChanged",n.EVENT_HEADER_HEIGHT_CHANGED="headerHeightChanged",n.EVENT_COLUMN_HEADER_HEIGHT_CHANGED="columnHeaderHeightChanged",n.EVENT_ROW_DRAG_ENTER="rowDragEnter",n.EVENT_ROW_DRAG_MOVE="rowDragMove",n.EVENT_ROW_DRAG_LEAVE="rowDragLeave",n.EVENT_ROW_DRAG_END="rowDragEnd",n.EVENT_GRID_STYLES_CHANGED="gridStylesChanged",n.EVENT_POPUP_TO_FRONT="popupToFront",n.EVENT_COLUMN_ROW_GROUP_CHANGE_REQUEST="columnRowGroupChangeRequest",n.EVENT_COLUMN_PIVOT_CHANGE_REQUEST="columnPivotChangeRequest",n.EVENT_COLUMN_VALUE_CHANGE_REQUEST="columnValueChangeRequest",n.EVENT_COLUMN_AGG_FUNC_CHANGE_REQUEST="columnAggFuncChangeRequest",n.EVENT_STORE_UPDATED="storeUpdated",n.EVENT_FILTER_DESTROYED="filterDestroyed",n.EVENT_ROW_DATA_UPDATE_STARTED="rowDataUpdateStarted",n.EVENT_ROW_COUNT_READY="rowCountReady",n.EVENT_ADVANCED_FILTER_ENABLED_CHANGED="advancedFilterEnabledChanged",n.EVENT_DATA_TYPES_INFERRED="dataTypesInferred",n.EVENT_FIELD_VALUE_CHANGED="fieldValueChanged",n.EVENT_FIELD_PICKER_VALUE_SELECTED="fieldPickerValueSelected",n.EVENT_SIDE_BAR_UPDATED="sideBarUpdated",n}(),Bk=function(){function n(){this.existingIds={}}return n.prototype.getInstanceIdForKey=function(t){var e=this.existingIds[t],r;return typeof e!="number"?r=0:r=e+1,this.existingIds[t]=r,r},n}(),Lxe=function(){var n=function(t,e){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])},n(t,e)};return function(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");n(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}}(),DA=function(n,t,e,r){var i=arguments.length,o=i<3?t:r===null?r=Object.getOwnPropertyDescriptor(t,e):r,a;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(n,t,e,r);else for(var s=n.length-1;s>=0;s--)(a=n[s])&&(o=(i<3?a(o):i>3?a(t,e,o):a(t,e))||o);return i>3&&o&&Object.defineProperty(t,e,o),o},Qu="ag-Grid-AutoColumn",Ixe=function(n){Lxe(t,n);function t(){return n!==null&&n.apply(this,arguments)||this}return t.prototype.createAutoGroupColumns=function(e){var r=this,i=[],o=this.gridOptionsService.get("treeData"),a=this.gridOptionsService.isGroupMultiAutoColumn();return o&&a&&(console.warn('AG Grid: you cannot mix groupDisplayType = "multipleColumns" with treeData, only one column can be used to display groups when doing tree data'),a=!1),a?e.forEach(function(s,l){i.push(r.createOneAutoGroupColumn(s,l))}):i.push(this.createOneAutoGroupColumn()),i},t.prototype.updateAutoGroupColumns=function(e,r){var i=this;e.forEach(function(o,a){return i.updateOneAutoGroupColumn(o,a,r)})},t.prototype.createOneAutoGroupColumn=function(e,r){var i;e?i="".concat(Qu,"-").concat(e.getId()):i=Qu;var o=this.createAutoGroupColDef(i,e,r);o.colId=i;var a=new Je(o,null,i,!0);return this.context.createBean(a),a},t.prototype.updateOneAutoGroupColumn=function(e,r,i){var o=e.getColDef(),a=typeof o.showRowGroup=="string"?o.showRowGroup:void 0,s=a!=null?this.columnModel.getPrimaryColumn(a):void 0,l=this.createAutoGroupColDef(e.getId(),s??void 0,r);e.setColDef(l,null,i),this.columnFactory.applyColumnState(e,l,i)},t.prototype.createAutoGroupColDef=function(e,r,i){var o=this.createBaseColDef(r),a=this.gridOptionsService.get("autoGroupColumnDef");if(Zo(o,a),o=this.columnFactory.addColumnDefaultAndTypes(o,e),!this.gridOptionsService.get("treeData")){var s=je(o.field)&&je(o.valueGetter)&&je(o.filterValueGetter)&&o.filter!=="agGroupColumnFilter";s&&(o.filter=!1)}i&&i>0&&(o.headerCheckboxSelection=!1);var l=this.gridOptionsService.isColumnsSortingCoupledToGroup(),u=o.valueGetter||o.field!=null;return l&&!u&&(o.sortIndex=void 0,o.initialSort=void 0),o},t.prototype.createBaseColDef=function(e){var r=this.gridOptionsService.get("autoGroupColumnDef"),i=this.localeService.getLocaleTextFunc(),o={headerName:i("group","Group")},a=r&&(r.cellRenderer||r.cellRendererSelector);if(a||(o.cellRenderer="agGroupCellRenderer"),e){var s=e.getColDef();Object.assign(o,{headerName:this.columnModel.getDisplayNameForColumn(e,"header"),headerValueGetter:s.headerValueGetter}),s.cellRenderer&&Object.assign(o,{cellRendererParams:{innerRenderer:s.cellRenderer,innerRendererParams:s.cellRendererParams}}),o.showRowGroup=e.getColId()}else o.showRowGroup=!0;return o},DA([E("columnModel")],t.prototype,"columnModel",void 0),DA([E("columnFactory")],t.prototype,"columnFactory",void 0),t=DA([ae("autoGroupColService")],t),t}(q),Nxe=/[&<>"']/g,kxe={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"};function Gxe(n){var t=String.fromCharCode;function e(d){var p=[];if(!d)return[];for(var h=d.length,f=0,v,g;f<h;)v=d.charCodeAt(f++),v>=55296&&v<=56319&&f<h?(g=d.charCodeAt(f++),(g&64512)==56320?p.push(((v&1023)<<10)+(g&1023)+65536):(p.push(v),f--)):p.push(v);return p}function r(d){if(d>=55296&&d<=57343)throw Error("Lone surrogate U+"+d.toString(16).toUpperCase()+" is not a scalar value")}function i(d,p){return t(d>>p&63|128)}function o(d){if(d>=0&&d<=31&&d!==10){var p=d.toString(16).toUpperCase(),h=p.padStart(4,"0");return"_x".concat(h,"_")}if(!(d&4294967168))return t(d);var f="";return d&4294965248?d&4294901760?d&4292870144||(f=t(d>>18&7|240),f+=i(d,12),f+=i(d,6)):(r(d),f=t(d>>12&15|224),f+=i(d,6)):f=t(d>>6&31|192),f+=t(d&63|128),f}for(var a=e(n),s=a.length,l=-1,u,c="";++l<s;)u=a[l],c+=o(u);return c}function Vxe(n){return n[0].toUpperCase()+n.substring(1).toLowerCase()}function tn(n,t){if(n==null)return null;var e=n.toString().toString();return t?e:e.replace(Nxe,function(r){return kxe[r]})}function q7(n){if(!n||n==null)return null;var t=/([a-z])([A-Z])/g,e=/([A-Z]+)([A-Z])([a-z])/g,r=n.replace(t,"$1 $2").replace(e,"$1 $2$3").replace(/\./g," ").split(" ");return r.map(function(i){return i.substring(0,1).toUpperCase()+(i.length>1?i.substring(1,i.length):"")}).join(" ")}function Z7(n){return n.replace(/[A-Z]/g,function(t){return"-".concat(t.toLocaleLowerCase())})}var Bxe=Object.freeze({__proto__:null,utf8_encode:Gxe,capitalise:Vxe,escapeString:tn,camelCaseToHumanText:q7,camelCaseToHyphenated:Z7});function id(n){var t=new Map;return n.forEach(function(e){return t.set(e[0],e[1])}),t}function Hxe(n,t){var e=new Map;return n.forEach(function(r){return e.set(t(r),r)}),e}function jxe(n){var t=[];return n.forEach(function(e,r){return t.push(r)}),t}var $xe=Object.freeze({__proto__:null,convertToMap:id,mapById:Hxe,keys:jxe}),Wxe=function(){var n=function(t,e){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])},n(t,e)};return function(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");n(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}}(),kn=function(n,t,e,r){var i=arguments.length,o=i<3?t:r===null?r=Object.getOwnPropertyDescriptor(t,e):r,a;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(n,t,e,r);else for(var s=n.length-1;s>=0;s--)(a=n[s])&&(o=(i<3?a(o):i>3?a(t,e,o):a(t,e))||o);return i>3&&o&&Object.defineProperty(t,e,o),o},Uxe=function(n,t){return function(e,r){t(e,r,n)}},zxe=function(n,t){var e={};for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&t.indexOf(r)<0&&(e[r]=n[r]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(n);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(n,r[i])&&(e[r[i]]=n[r[i]]);return e},Eo=function(n,t){var e=typeof Symbol=="function"&&n[Symbol.iterator];if(!e)return n;var r=e.call(n),i,o=[],a;try{for(;(t===void 0||t-- >0)&&!(i=r.next()).done;)o.push(i.value)}catch(s){a={error:s}}finally{try{i&&!i.done&&(e=r.return)&&e.call(r)}finally{if(a)throw a.error}}return o},bo=function(n,t,e){if(e||arguments.length===2)for(var r=0,i=t.length,o;r<i;r++)(o||!(r in t))&&(o||(o=Array.prototype.slice.call(t,0,r)),o[r]=t[r]);return n.concat(o||Array.prototype.slice.call(t))},MA=function(n){var t=typeof Symbol=="function"&&Symbol.iterator,e=t&&n[t],r=0;if(e)return e.call(n);if(n&&typeof n.length=="number")return{next:function(){return n&&r>=n.length&&(n=void 0),{value:n&&n[r++],done:!n}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")},Q7=function(n){Wxe(t,n);function t(){var e=n!==null&&n.apply(this,arguments)||this;return e.primaryHeaderRowCount=0,e.secondaryHeaderRowCount=0,e.gridHeaderRowCount=0,e.displayedColumnsLeft=[],e.displayedColumnsRight=[],e.displayedColumnsCenter=[],e.displayedColumns=[],e.displayedColumnsAndGroupsMap={},e.viewportColumns=[],e.viewportColumnsHash="",e.headerViewportColumns=[],e.viewportColumnsCenter=[],e.headerViewportColumnsCenter=[],e.viewportRowLeft={},e.viewportRowRight={},e.viewportRowCenter={},e.autoHeightActiveAtLeastOnce=!1,e.rowGroupColumns=[],e.valueColumns=[],e.pivotColumns=[],e.ready=!1,e.changeEventsDispatching=!1,e.autoGroupsNeedBuilding=!1,e.forceRecreateAutoGroups=!1,e.pivotMode=!1,e.bodyWidth=0,e.leftWidth=0,e.rightWidth=0,e.bodyWidthDirty=!0,e.shouldQueueResizeOperations=!1,e.resizeOperationQueue=[],e}return t.prototype.init=function(){var e=this;this.suppressColumnVirtualisation=this.gridOptionsService.get("suppressColumnVirtualisation");var r=this.gridOptionsService.get("pivotMode");this.isPivotSettingAllowed(r)&&(this.pivotMode=r),this.addManagedPropertyListeners(["groupDisplayType","treeData","treeDataDisplayType","groupHideOpenParents"],function(i){return e.buildAutoGroupColumns(fv(i.source))}),this.addManagedPropertyListener("autoGroupColumnDef",function(i){return e.onAutoGroupColumnDefChanged(fv(i.source))}),this.addManagedPropertyListeners(["defaultColDef","columnTypes","suppressFieldDotNotation"],function(i){return e.onSharedColDefChanged(fv(i.source))}),this.addManagedPropertyListener("pivotMode",function(i){return e.setPivotMode(e.gridOptionsService.get("pivotMode"),fv(i.source))}),this.addManagedListener(this.eventService,P.EVENT_FIRST_DATA_RENDERED,function(){return e.onFirstDataRendered()})},t.prototype.buildAutoGroupColumns=function(e){this.columnDefs&&(this.autoGroupsNeedBuilding=!0,this.forceRecreateAutoGroups=!0,this.updateGridColumns(),this.updateDisplayedColumns(e))},t.prototype.onAutoGroupColumnDefChanged=function(e){this.groupAutoColumns&&this.autoGroupColService.updateAutoGroupColumns(this.groupAutoColumns,e)},t.prototype.onSharedColDefChanged=function(e){this.gridColumns&&(this.groupAutoColumns&&this.autoGroupColService.updateAutoGroupColumns(this.groupAutoColumns,e),this.createColumnsFromColumnDefs(!0,e))},t.prototype.setColumnDefs=function(e,r){var i=!!this.columnDefs;this.columnDefs=e,this.createColumnsFromColumnDefs(i,r)},t.prototype.recreateColumnDefs=function(e){this.onSharedColDefChanged(e)},t.prototype.destroyOldColumns=function(e,r){var i={};if(e){this.columnUtils.depthFirstOriginalTreeSearch(null,e,function(a){i[a.getInstanceId()]=a}),r&&this.columnUtils.depthFirstOriginalTreeSearch(null,r,function(a){i[a.getInstanceId()]=null});var o=Object.values(i).filter(function(a){return a!=null});this.destroyBeans(o)}},t.prototype.destroyColumns=function(){this.destroyOldColumns(this.primaryColumnTree),this.destroyOldColumns(this.secondaryBalancedTree),this.destroyOldColumns(this.groupAutoColsBalancedTree)},t.prototype.createColumnsFromColumnDefs=function(e,r){var i=this,o=e?this.compareColumnStatesAndDispatchEvents(r):void 0;this.valueCache.expire(),this.autoGroupsNeedBuilding=!0;var a=this.primaryColumns,s=this.primaryColumnTree,l=this.columnFactory.createColumnTree(this.columnDefs,!0,s,r);this.destroyOldColumns(this.primaryColumnTree,l.columnTree),this.primaryColumnTree=l.columnTree,this.primaryHeaderRowCount=l.treeDept+1,this.primaryColumns=this.getColumnsFromTree(this.primaryColumnTree),this.primaryColumnsMap={},this.primaryColumns.forEach(function(d){return i.primaryColumnsMap[d.getId()]=d}),this.extractRowGroupColumns(r,a),this.extractPivotColumns(r,a),this.extractValueColumns(r,a),this.ready=!0;var u=this.gridColsArePrimary===void 0,c=this.gridColsArePrimary||u||this.autoGroupsNeedBuilding;c&&(this.updateGridColumns(),e&&this.gridColsArePrimary&&!this.gridOptionsService.get("maintainColumnOrder")&&this.orderGridColumnsLikePrimary(),this.updateDisplayedColumns(r),this.checkViewportColumns()),this.dispatchEverythingChanged(r),this.changeEventsDispatching=!0,o&&o(),this.changeEventsDispatching=!1,this.dispatchNewColumnsLoaded(r)},t.prototype.shouldRowModelIgnoreRefresh=function(){return this.changeEventsDispatching},t.prototype.dispatchNewColumnsLoaded=function(e){var r={type:P.EVENT_NEW_COLUMNS_LOADED,source:e};this.eventService.dispatchEvent(r),e==="gridInitializing"&&this.onColumnsReady()},t.prototype.dispatchEverythingChanged=function(e){var r={type:P.EVENT_COLUMN_EVERYTHING_CHANGED,source:e};this.eventService.dispatchEvent(r)},t.prototype.orderGridColumnsLikePrimary=function(){var e=this,r=this.primaryColumns;if(r){var i=r.filter(function(a){return e.gridColumns.indexOf(a)>=0}),o=this.gridColumns.filter(function(a){return i.indexOf(a)<0});this.gridColumns=bo(bo([],Eo(o),!1),Eo(i),!1),this.gridColumns=this.placeLockedColumns(this.gridColumns)}},t.prototype.getAllDisplayedAutoHeightCols=function(){return this.displayedAutoHeightCols},t.prototype.setViewport=function(){this.gridOptionsService.get("enableRtl")?(this.viewportLeft=this.bodyWidth-this.scrollPosition-this.scrollWidth,this.viewportRight=this.bodyWidth-this.scrollPosition):(this.viewportLeft=this.scrollPosition,this.viewportRight=this.scrollWidth+this.scrollPosition)},t.prototype.getDisplayedColumnsStartingAt=function(e){for(var r=e,i=[];r!=null;)i.push(r),r=this.getDisplayedColAfter(r);return i},t.prototype.checkViewportColumns=function(e){if(e===void 0&&(e=!1),this.displayedColumnsCenter!=null){var r=this.extractViewport();if(r){var i={type:P.EVENT_VIRTUAL_COLUMNS_CHANGED,afterScroll:e};this.eventService.dispatchEvent(i)}}},t.prototype.setViewportPosition=function(e,r,i){i===void 0&&(i=!1),(e!==this.scrollWidth||r!==this.scrollPosition||this.bodyWidthDirty)&&(this.scrollWidth=e,this.scrollPosition=r,this.bodyWidthDirty=!0,this.setViewport(),this.ready&&this.checkViewportColumns(i))},t.prototype.isPivotMode=function(){return this.pivotMode},t.prototype.isPivotSettingAllowed=function(e){return e&&this.gridOptionsService.get("treeData")?(console.warn("AG Grid: Pivot mode not available in conjunction Tree Data i.e. 'gridOptions.treeData: true'"),!1):!0},t.prototype.setPivotMode=function(e,r){if(!(e===this.pivotMode||!this.isPivotSettingAllowed(this.pivotMode))&&(this.pivotMode=e,!!this.gridColumns)){this.autoGroupsNeedBuilding=!0,this.updateGridColumns(),this.updateDisplayedColumns(r);var i={type:P.EVENT_COLUMN_PIVOT_MODE_CHANGED};this.eventService.dispatchEvent(i)}},t.prototype.getSecondaryPivotColumn=function(e,r){if(je(this.secondaryColumns))return null;var i=this.getPrimaryColumn(r),o=null;return this.secondaryColumns.forEach(function(a){var s=a.getColDef().pivotKeys,l=a.getColDef().pivotValueColumn,u=Du(s,e),c=l===i;u&&c&&(o=a)}),o},t.prototype.setBeans=function(e){this.logger=e.create("columnModel")},t.prototype.setFirstRightAndLastLeftPinned=function(e){var r,i;this.gridOptionsService.get("enableRtl")?(r=this.displayedColumnsLeft?this.displayedColumnsLeft[0]:null,i=this.displayedColumnsRight?bt(this.displayedColumnsRight):null):(r=this.displayedColumnsLeft?bt(this.displayedColumnsLeft):null,i=this.displayedColumnsRight?this.displayedColumnsRight[0]:null),this.gridColumns.forEach(function(o){o.setLastLeftPinned(o===r,e),o.setFirstRightPinned(o===i,e)})},t.prototype.autoSizeColumns=function(e){var r=this;if(this.shouldQueueResizeOperations){this.resizeOperationQueue.push(function(){return r.autoSizeColumns(e)});return}var i=e.columns,o=e.skipHeader,a=e.skipHeaderGroups,s=e.stopAtGroup,l=e.source,u=l===void 0?"api":l;this.animationFrameService.flushAllFrames();for(var c=[],d=-1,p=o??this.gridOptionsService.get("skipHeaderOnAutoSize"),h=a??p;d!==0;)d=0,this.actionOnGridColumns(i,function(f){if(c.indexOf(f)>=0)return!1;var v=r.autoWidthCalculator.getPreferredWidthForColumn(f,p);if(v>0){var g=r.normaliseColumnWidth(f,v);f.setActualWidth(g,u),c.push(f),d++}return!0},u);h||this.autoSizeColumnGroupsByColumns(i,u,s),this.dispatchColumnResizedEvent(c,!0,"autosizeColumns")},t.prototype.dispatchColumnResizedEvent=function(e,r,i,o){if(o===void 0&&(o=null),e&&e.length){var a={type:P.EVENT_COLUMN_RESIZED,columns:e,column:e.length===1?e[0]:null,flexColumns:o,finished:r,source:i};this.eventService.dispatchEvent(a)}},t.prototype.dispatchColumnChangedEvent=function(e,r,i){var o={type:e,columns:r,column:r&&r.length==1?r[0]:null,source:i};this.eventService.dispatchEvent(o)},t.prototype.dispatchColumnMovedEvent=function(e){var r=e.movedColumns,i=e.source,o=e.toIndex,a=e.finished,s={type:P.EVENT_COLUMN_MOVED,columns:r,column:r&&r.length===1?r[0]:null,toIndex:o,finished:a,source:i};this.eventService.dispatchEvent(s)},t.prototype.dispatchColumnPinnedEvent=function(e,r){if(e.length){var i=e.length===1?e[0]:null,o=this.getCommonValue(e,function(s){return s.getPinned()}),a={type:P.EVENT_COLUMN_PINNED,pinned:o??null,columns:e,column:i,source:r};this.eventService.dispatchEvent(a)}},t.prototype.dispatchColumnVisibleEvent=function(e,r){if(e.length){var i=e.length===1?e[0]:null,o=this.getCommonValue(e,function(s){return s.isVisible()}),a={type:P.EVENT_COLUMN_VISIBLE,visible:o,columns:e,column:i,source:r};this.eventService.dispatchEvent(a)}},t.prototype.autoSizeColumn=function(e,r,i){e&&this.autoSizeColumns({columns:[e],skipHeader:i,skipHeaderGroups:!0,source:r})},t.prototype.autoSizeColumnGroupsByColumns=function(e,r,i){var o,a,s,l,u=new Set,c=this.getGridColumns(e);c.forEach(function(C){for(var S=C.getParent();S&&S!=i;)S.isPadding()||u.add(S),S=S.getParent()});var d,p=[];try{for(var h=MA(u),f=h.next();!f.done;f=h.next()){var v=f.value;try{for(var g=(s=void 0,MA(this.ctrlsService.getHeaderRowContainerCtrls())),y=g.next();!y.done;y=g.next()){var m=y.value;if(d=m.getHeaderCtrlForColumn(v),d)break}}catch(C){s={error:C}}finally{try{y&&!y.done&&(l=g.return)&&l.call(g)}finally{if(s)throw s.error}}d&&d.resizeLeafColumnsToFit(r)}}catch(C){o={error:C}}finally{try{f&&!f.done&&(a=h.return)&&a.call(h)}finally{if(o)throw o.error}}return p},t.prototype.autoSizeAllColumns=function(e,r){var i=this;if(this.shouldQueueResizeOperations){this.resizeOperationQueue.push(function(){return i.autoSizeAllColumns(e,r)});return}var o=this.getAllDisplayedColumns();this.autoSizeColumns({columns:o,skipHeader:r,source:e})},t.prototype.getColumnsFromTree=function(e){var r=[],i=function(o){for(var a=0;a<o.length;a++){var s=o[a];s instanceof Je?r.push(s):s instanceof Pt&&i(s.getChildren())}};return i(e),r},t.prototype.getAllDisplayedTrees=function(){return this.displayedTreeLeft&&this.displayedTreeRight&&this.displayedTreeCentre?this.displayedTreeLeft.concat(this.displayedTreeCentre).concat(this.displayedTreeRight):null},t.prototype.getPrimaryColumnTree=function(){return this.primaryColumnTree},t.prototype.getHeaderRowCount=function(){return this.gridHeaderRowCount},t.prototype.getDisplayedTreeLeft=function(){return this.displayedTreeLeft},t.prototype.getDisplayedTreeRight=function(){return this.displayedTreeRight},t.prototype.getDisplayedTreeCentre=function(){return this.displayedTreeCentre},t.prototype.isColumnDisplayed=function(e){return this.getAllDisplayedColumns().indexOf(e)>=0},t.prototype.getAllDisplayedColumns=function(){return this.displayedColumns},t.prototype.getViewportColumns=function(){return this.viewportColumns},t.prototype.getDisplayedLeftColumnsForRow=function(e){return this.colSpanActive?this.getDisplayedColumnsForRow(e,this.displayedColumnsLeft):this.displayedColumnsLeft},t.prototype.getDisplayedRightColumnsForRow=function(e){return this.colSpanActive?this.getDisplayedColumnsForRow(e,this.displayedColumnsRight):this.displayedColumnsRight},t.prototype.isColSpanActive=function(){return this.colSpanActive},t.prototype.getDisplayedColumnsForRow=function(e,r,i,o){for(var a=[],s=null,l=function(d){var p=r[d],h=r.length-d,f=Math.min(p.getColSpan(e),h),v=[p];if(f>1){for(var g=f-1,y=1;y<=g;y++)v.push(r[d+y]);d+=g}var m;if(i?(m=!1,v.forEach(function(S){i(S)&&(m=!0)})):m=!0,m){if(a.length===0&&s){var C=o?o(p):!1;C&&a.push(s)}a.push(p)}s=p,u=d},u,c=0;c<r.length;c++)l(c),c=u;return a},t.prototype.getViewportCenterColumnsForRow=function(e){var r=this;if(!this.colSpanActive)return this.viewportColumnsCenter;var i=function(a){var s=a.getLeft();return ce(s)&&s>r.viewportLeft},o=this.isColumnVirtualisationSuppressed()?null:this.isColumnInRowViewport.bind(this);return this.getDisplayedColumnsForRow(e,this.displayedColumnsCenter,o,i)},t.prototype.isColumnAtEdge=function(e,r){var i=this.getAllDisplayedColumns();if(!i.length)return!1;var o=r==="first",a;if(e instanceof Vr){var s=e.getDisplayedLeafColumns();if(!s.length)return!1;a=o?s[0]:bt(s)}else a=e;return(o?i[0]:bt(i))===a},t.prototype.getAriaColumnIndex=function(e){var r;return e instanceof Vr?r=e.getLeafColumns()[0]:r=e,this.ariaOrderColumns.indexOf(r)+1},t.prototype.isColumnInHeaderViewport=function(e){return e.isAutoHeaderHeight()?!0:this.isColumnInRowViewport(e)},t.prototype.isColumnInRowViewport=function(e){if(e.isAutoHeight())return!0;var r=e.getLeft()||0,i=r+e.getActualWidth(),o=this.viewportLeft-200,a=this.viewportRight+200,s=r<o&&i<o,l=r>a&&i>a;return!s&&!l},t.prototype.getDisplayedColumnsLeftWidth=function(){return this.getWidthOfColsInList(this.displayedColumnsLeft)},t.prototype.getDisplayedColumnsRightWidth=function(){return this.getWidthOfColsInList(this.displayedColumnsRight)},t.prototype.updatePrimaryColumnList=function(e,r,i,o,a,s){var l=this;if(!(!e||Ko(e))){var u=!1;if(e.forEach(function(d){if(d){var p=l.getPrimaryColumn(d);if(p){if(i){if(r.indexOf(p)>=0)return;r.push(p)}else{if(r.indexOf(p)<0)return;eo(r,p)}o(p),u=!0}}}),!!u){this.autoGroupsNeedBuilding&&this.updateGridColumns(),this.updateDisplayedColumns(s);var c={type:a,columns:r,column:r.length===1?r[0]:null,source:s};this.eventService.dispatchEvent(c)}}},t.prototype.setRowGroupColumns=function(e,r){this.autoGroupsNeedBuilding=!0,this.setPrimaryColumnList(e,this.rowGroupColumns,P.EVENT_COLUMN_ROW_GROUP_CHANGED,!0,this.setRowGroupActive.bind(this),r)},t.prototype.setRowGroupActive=function(e,r,i){e!==r.isRowGroupActive()&&(r.setRowGroupActive(e,i),e&&!this.gridOptionsService.get("suppressRowGroupHidesColumns")&&this.setColumnsVisible([r],!1,i),!e&&!this.gridOptionsService.get("suppressMakeColumnVisibleAfterUnGroup")&&this.setColumnsVisible([r],!0,i))},t.prototype.addRowGroupColumns=function(e,r){this.autoGroupsNeedBuilding=!0,this.updatePrimaryColumnList(e,this.rowGroupColumns,!0,this.setRowGroupActive.bind(this,!0),P.EVENT_COLUMN_ROW_GROUP_CHANGED,r)},t.prototype.removeRowGroupColumns=function(e,r){this.autoGroupsNeedBuilding=!0,this.updatePrimaryColumnList(e,this.rowGroupColumns,!1,this.setRowGroupActive.bind(this,!1),P.EVENT_COLUMN_ROW_GROUP_CHANGED,r)},t.prototype.addPivotColumns=function(e,r){this.updatePrimaryColumnList(e,this.pivotColumns,!0,function(i){return i.setPivotActive(!0,r)},P.EVENT_COLUMN_PIVOT_CHANGED,r)},t.prototype.setPivotColumns=function(e,r){this.setPrimaryColumnList(e,this.pivotColumns,P.EVENT_COLUMN_PIVOT_CHANGED,!0,function(i,o){o.setPivotActive(i,r)},r)},t.prototype.removePivotColumns=function(e,r){this.updatePrimaryColumnList(e,this.pivotColumns,!1,function(i){return i.setPivotActive(!1,r)},P.EVENT_COLUMN_PIVOT_CHANGED,r)},t.prototype.setPrimaryColumnList=function(e,r,i,o,a,s){var l=this;if(this.gridColumns){var u=new Map;r.forEach(function(c,d){return u.set(c,d)}),r.length=0,ce(e)&&e.forEach(function(c){var d=l.getPrimaryColumn(c);d&&r.push(d)}),r.forEach(function(c,d){var p=u.get(c);if(p===void 0){u.set(c,0);return}o&&p!==d||u.delete(c)}),(this.primaryColumns||[]).forEach(function(c){var d=r.indexOf(c)>=0;a(d,c)}),this.autoGroupsNeedBuilding&&this.updateGridColumns(),this.updateDisplayedColumns(s),this.dispatchColumnChangedEvent(i,bo([],Eo(u.keys()),!1),s)}},t.prototype.setValueColumns=function(e,r){this.setPrimaryColumnList(e,this.valueColumns,P.EVENT_COLUMN_VALUE_CHANGED,!1,this.setValueActive.bind(this),r)},t.prototype.setValueActive=function(e,r,i){if(e!==r.isValueActive()&&(r.setValueActive(e,i),e&&!r.getAggFunc())){var o=this.aggFuncService.getDefaultAggFunc(r);r.setAggFunc(o)}},t.prototype.addValueColumns=function(e,r){this.updatePrimaryColumnList(e,this.valueColumns,!0,this.setValueActive.bind(this,!0),P.EVENT_COLUMN_VALUE_CHANGED,r)},t.prototype.removeValueColumns=function(e,r){this.updatePrimaryColumnList(e,this.valueColumns,!1,this.setValueActive.bind(this,!1),P.EVENT_COLUMN_VALUE_CHANGED,r)},t.prototype.normaliseColumnWidth=function(e,r){var i=e.getMinWidth();ce(i)&&r<i&&(r=i);var o=e.getMaxWidth();return ce(o)&&e.isGreaterThanMax(r)&&(r=o),r},t.prototype.getPrimaryOrGridColumn=function(e){var r=this.getPrimaryColumn(e);return r||this.getGridColumn(e)},t.prototype.setColumnWidths=function(e,r,i,o){var a=this,s=[];e.forEach(function(l){var u=a.getPrimaryOrGridColumn(l.key);if(u){s.push({width:l.newWidth,ratios:[1],columns:[u]});var c=a.gridOptionsService.get("colResizeDefault")==="shift";if(c&&(r=!r),r){var d=a.getDisplayedColAfter(u);if(!d)return;var p=u.getActualWidth()-l.newWidth,h=d.getActualWidth()+p;s.push({width:h,ratios:[1],columns:[d]})}}}),s.length!==0&&this.resizeColumnSets({resizeSets:s,finished:i,source:o})},t.prototype.checkMinAndMaxWidthsForSet=function(e){var r=e.columns,i=e.width,o=0,a=0,s=!0;r.forEach(function(c){var d=c.getMinWidth();o+=d||0;var p=c.getMaxWidth();ce(p)&&p>0?a+=p:s=!1});var l=i>=o,u=!s||i<=a;return l&&u},t.prototype.resizeColumnSets=function(e){var r=this,i=e.resizeSets,o=e.finished,a=e.source,s=!i||i.every(function(f){return r.checkMinAndMaxWidthsForSet(f)});if(!s){if(o){var l=i&&i.length>0?i[0].columns:null;this.dispatchColumnResizedEvent(l,o,a)}return}var u=[],c=[];i.forEach(function(f){var v=f.width,g=f.columns,y=f.ratios,m={},C={};g.forEach(function(b){return c.push(b)});for(var S=!0,w=0,_=function(){if(w++,w>1e3)return console.error("AG Grid: infinite loop in resizeColumnSets"),"break";S=!1;var b=[],O=0,T=v;g.forEach(function(N,M){var L=C[N.getId()];if(L)T-=m[N.getId()];else{b.push(N);var G=y[M];O+=G}});var A=1/O;b.forEach(function(N,M){var L=M===b.length-1,G;L?G=T:(G=Math.round(y[M]*v*A),T-=G);var H=N.getMinWidth(),j=N.getMaxWidth();ce(H)&&G<H?(G=H,C[N.getId()]=!0,S=!0):ce(j)&&j>0&&G>j&&(G=j,C[N.getId()]=!0,S=!0),m[N.getId()]=G})};S;){var x=_();if(x==="break")break}g.forEach(function(b){var O=m[b.getId()],T=b.getActualWidth();T!==O&&(b.setActualWidth(O,a),u.push(b))})});var d=u.length>0,p=[];d&&(p=this.refreshFlexedColumns({resizingCols:c,skipSetLeft:!0}),this.setLeftValues(a),this.updateBodyWidths(),this.checkViewportColumns());var h=c.concat(p);(d||o)&&this.dispatchColumnResizedEvent(h,o,a,p)},t.prototype.setColumnAggFunc=function(e,r,i){if(e){var o=this.getPrimaryColumn(e);o&&(o.setAggFunc(r),this.dispatchColumnChangedEvent(P.EVENT_COLUMN_VALUE_CHANGED,[o],i))}},t.prototype.moveRowGroupColumn=function(e,r,i){if(!this.isRowGroupEmpty()){var o=this.rowGroupColumns[e],a=this.rowGroupColumns.slice(e,r);this.rowGroupColumns.splice(e,1),this.rowGroupColumns.splice(r,0,o);var s={type:P.EVENT_COLUMN_ROW_GROUP_CHANGED,columns:a,column:a.length===1?a[0]:null,source:i};this.eventService.dispatchEvent(s)}},t.prototype.moveColumns=function(e,r,i,o){if(o===void 0&&(o=!0),!!this.gridColumns){if(this.columnAnimationService.start(),r>this.gridColumns.length-e.length){console.warn("AG Grid: tried to insert columns in invalid location, toIndex = "+r),console.warn("AG Grid: remember that you should not count the moving columns when calculating the new index");return}var a=this.getGridColumns(e),s=!this.doesMovePassRules(a,r);s||(CL(this.gridColumns,a,r),this.updateDisplayedColumns(i),this.dispatchColumnMovedEvent({movedColumns:a,source:i,toIndex:r,finished:o}),this.columnAnimationService.finish())}},t.prototype.doesMovePassRules=function(e,r){var i=this.getProposedColumnOrder(e,r);return this.doesOrderPassRules(i)},t.prototype.doesOrderPassRules=function(e){return!(!this.doesMovePassMarryChildren(e)||!this.doesMovePassLockedPositions(e))},t.prototype.getProposedColumnOrder=function(e,r){var i=this.gridColumns.slice();return CL(i,e,r),i},t.prototype.sortColumnsLikeGridColumns=function(e){var r=this;if(!(!e||e.length<=1)){var i=e.filter(function(o){return r.gridColumns.indexOf(o)<0}).length>0;i||e.sort(function(o,a){var s=r.gridColumns.indexOf(o),l=r.gridColumns.indexOf(a);return s-l})}},t.prototype.doesMovePassLockedPositions=function(e){var r=0,i=!0,o=function(a){return a?a===!0||a==="left"?0:2:1};return e.forEach(function(a){var s=o(a.getColDef().lockPosition);s<r&&(i=!1),r=s}),i},t.prototype.doesMovePassMarryChildren=function(e){var r=!0;return this.columnUtils.depthFirstOriginalTreeSearch(null,this.gridBalancedTree,function(i){if(i instanceof Pt){var o=i,a=o.getColGroupDef(),s=a&&a.marryChildren;if(s){var l=[];o.getLeafColumns().forEach(function(h){var f=e.indexOf(h);l.push(f)});var u=Math.max.apply(Math,l),c=Math.min.apply(Math,l),d=u-c,p=o.getLeafColumns().length-1;d>p&&(r=!1)}}}),r},t.prototype.moveColumnByIndex=function(e,r,i){if(this.gridColumns){var o=this.gridColumns[e];this.moveColumns([o],r,i)}},t.prototype.getColumnDefs=function(){var e=this;if(this.primaryColumns){var r=this.primaryColumns.slice();return this.gridColsArePrimary?r.sort(function(i,o){return e.gridColumns.indexOf(i)-e.gridColumns.indexOf(o)}):this.lastPrimaryOrder&&r.sort(function(i,o){return e.lastPrimaryOrder.indexOf(i)-e.lastPrimaryOrder.indexOf(o)}),this.columnDefFactory.buildColumnDefs(r,this.rowGroupColumns,this.pivotColumns)}},t.prototype.getBodyContainerWidth=function(){return this.bodyWidth},t.prototype.getContainerWidth=function(e){switch(e){case"left":return this.leftWidth;case"right":return this.rightWidth;default:return this.bodyWidth}},t.prototype.updateBodyWidths=function(){var e=this.getWidthOfColsInList(this.displayedColumnsCenter),r=this.getWidthOfColsInList(this.displayedColumnsLeft),i=this.getWidthOfColsInList(this.displayedColumnsRight);this.bodyWidthDirty=this.bodyWidth!==e;var o=this.bodyWidth!==e||this.leftWidth!==r||this.rightWidth!==i;if(o){this.bodyWidth=e,this.leftWidth=r,this.rightWidth=i;var a={type:P.EVENT_COLUMN_CONTAINER_WIDTH_CHANGED};this.eventService.dispatchEvent(a);var s={type:P.EVENT_DISPLAYED_COLUMNS_WIDTH_CHANGED};this.eventService.dispatchEvent(s)}},t.prototype.getValueColumns=function(){return this.valueColumns?this.valueColumns:[]},t.prototype.getPivotColumns=function(){return this.pivotColumns?this.pivotColumns:[]},t.prototype.isPivotActive=function(){return this.pivotColumns&&this.pivotColumns.length>0&&this.pivotMode},t.prototype.getRowGroupColumns=function(){return this.rowGroupColumns?this.rowGroupColumns:[]},t.prototype.getDisplayedCenterColumns=function(){return this.displayedColumnsCenter},t.prototype.getDisplayedLeftColumns=function(){return this.displayedColumnsLeft},t.prototype.getDisplayedRightColumns=function(){return this.displayedColumnsRight},t.prototype.getDisplayedColumns=function(e){switch(e){case"left":return this.getDisplayedLeftColumns();case"right":return this.getDisplayedRightColumns();default:return this.getDisplayedCenterColumns()}},t.prototype.getAllPrimaryColumns=function(){return this.primaryColumns?this.primaryColumns:null},t.prototype.getSecondaryColumns=function(){return this.secondaryColumns?this.secondaryColumns:null},t.prototype.getAllColumnsForQuickFilter=function(){return this.columnsForQuickFilter},t.prototype.getAllGridColumns=function(){var e;return(e=this.gridColumns)!==null&&e!==void 0?e:[]},t.prototype.isEmpty=function(){return Ko(this.gridColumns)},t.prototype.isRowGroupEmpty=function(){return Ko(this.rowGroupColumns)},t.prototype.setColumnsVisible=function(e,r,i){r===void 0&&(r=!1),this.applyColumnState({state:e.map(function(o){return{colId:typeof o=="string"?o:o.getColId(),hide:!r}})},i)},t.prototype.setColumnsPinned=function(e,r,i){if(this.gridColumns){if(this.gridOptionsService.isDomLayout("print")){console.warn("AG Grid: Changing the column pinning status is not allowed with domLayout='print'");return}this.columnAnimationService.start();var o;r===!0||r==="left"?o="left":r==="right"?o="right":o=null,this.actionOnGridColumns(e,function(a){return a.getPinned()!==o?(a.setPinned(o),!0):!1},i,function(){var a={type:P.EVENT_COLUMN_PINNED,pinned:o,column:null,columns:null,source:i};return a}),this.columnAnimationService.finish()}},t.prototype.actionOnGridColumns=function(e,r,i,o){var a=this;if(!Ko(e)){var s=[];if(e.forEach(function(u){if(u){var c=a.getGridColumn(u);if(c){var d=r(c);d!==!1&&s.push(c)}}}),!!s.length&&(this.updateDisplayedColumns(i),ce(o)&&o)){var l=o();l.columns=s,l.column=s.length===1?s[0]:null,this.eventService.dispatchEvent(l)}}},t.prototype.getDisplayedColBefore=function(e){var r=this.getAllDisplayedColumns(),i=r.indexOf(e);return i>0?r[i-1]:null},t.prototype.getDisplayedColAfter=function(e){var r=this.getAllDisplayedColumns(),i=r.indexOf(e);return i<r.length-1?r[i+1]:null},t.prototype.getDisplayedGroupAfter=function(e){return this.getDisplayedGroupAtDirection(e,"After")},t.prototype.getDisplayedGroupBefore=function(e){return this.getDisplayedGroupAtDirection(e,"Before")},t.prototype.getDisplayedGroupAtDirection=function(e,r){for(var i=e.getProvidedColumnGroup().getLevel()+e.getPaddingLevel(),o=e.getDisplayedLeafColumns(),a=r==="After"?bt(o):o[0],s="getDisplayedCol".concat(r);;){var l=this[s](a);if(!l)return null;var u=this.getColumnGroupAtLevel(l,i);if(u!==e)return u}},t.prototype.getColumnGroupAtLevel=function(e,r){for(var i=e.getParent(),o,a;;){var s=i.getProvidedColumnGroup();if(o=s.getLevel(),a=i.getPaddingLevel(),o+a<=r)break;i=i.getParent()}return i},t.prototype.isPinningLeft=function(){return this.displayedColumnsLeft.length>0},t.prototype.isPinningRight=function(){return this.displayedColumnsRight.length>0},t.prototype.getPrimaryAndSecondaryAndAutoColumns=function(){var e;return(e=[]).concat.apply(e,[this.primaryColumns||[],this.groupAutoColumns||[],this.secondaryColumns||[]])},t.prototype.createStateItemFromColumn=function(e){var r=e.isRowGroupActive()?this.rowGroupColumns.indexOf(e):null,i=e.isPivotActive()?this.pivotColumns.indexOf(e):null,o=e.isValueActive()?e.getAggFunc():null,a=e.getSort()!=null?e.getSort():null,s=e.getSortIndex()!=null?e.getSortIndex():null,l=e.getFlex()!=null&&e.getFlex()>0?e.getFlex():null,u={colId:e.getColId(),width:e.getActualWidth(),hide:!e.isVisible(),pinned:e.getPinned(),sort:a,sortIndex:s,aggFunc:o,rowGroup:e.isRowGroupActive(),rowGroupIndex:r,pivot:e.isPivotActive(),pivotIndex:i,flex:l};return u},t.prototype.getColumnState=function(){if(je(this.primaryColumns)||!this.isAlive())return[];var e=this.getPrimaryAndSecondaryAndAutoColumns(),r=e.map(this.createStateItemFromColumn.bind(this));return this.orderColumnStateList(r),r},t.prototype.orderColumnStateList=function(e){var r=id(this.gridColumns.map(function(i,o){return[i.getColId(),o]}));e.sort(function(i,o){var a=r.has(i.colId)?r.get(i.colId):-1,s=r.has(o.colId)?r.get(o.colId):-1;return a-s})},t.prototype.resetColumnState=function(e){var r=this;if(!Ko(this.primaryColumns)){var i=this.getColumnsFromTree(this.primaryColumnTree),o=[],a=1e3,s=1e3,l=[];this.groupAutoColumns&&(l=l.concat(this.groupAutoColumns)),i&&(l=l.concat(i)),l.forEach(function(u){var c=r.getColumnStateFromColDef(u);je(c.rowGroupIndex)&&c.rowGroup&&(c.rowGroupIndex=a++),je(c.pivotIndex)&&c.pivot&&(c.pivotIndex=s++),o.push(c)}),this.applyColumnState({state:o,applyOrder:!0},e)}},t.prototype.getColumnStateFromColDef=function(e){var r=function(g,y){return g??y??null},i=e.getColDef(),o=r(i.sort,i.initialSort),a=r(i.sortIndex,i.initialSortIndex),s=r(i.hide,i.initialHide),l=r(i.pinned,i.initialPinned),u=r(i.width,i.initialWidth),c=r(i.flex,i.initialFlex),d=r(i.rowGroupIndex,i.initialRowGroupIndex),p=r(i.rowGroup,i.initialRowGroup);d==null&&(p==null||p==!1)&&(d=null,p=null);var h=r(i.pivotIndex,i.initialPivotIndex),f=r(i.pivot,i.initialPivot);h==null&&(f==null||f==!1)&&(h=null,f=null);var v=r(i.aggFunc,i.initialAggFunc);return{colId:e.getColId(),sort:o,sortIndex:a,hide:s,pinned:l,width:u,flex:c,rowGroup:p,rowGroupIndex:d,pivot:f,pivotIndex:h,aggFunc:v}},t.prototype.applyColumnState=function(e,r){var i=this;if(Ko(this.primaryColumns))return!1;if(e&&e.state&&!e.state.forEach)return console.warn("AG Grid: applyColumnState() - the state attribute should be an array, however an array was not found. Please provide an array of items (one for each col you want to change) for state."),!1;var o=function(u,c,d){var p=i.compareColumnStatesAndDispatchEvents(r);i.autoGroupsNeedBuilding=!0;var h=c.slice(),f={},v={},g=[],y=[],m=0,C=i.rowGroupColumns.slice(),S=i.pivotColumns.slice();u.forEach(function(b){var O=b.colId||"",T=O.startsWith(Qu);if(T){g.push(b),y.push(b);return}var A=d(O);A?(i.syncColumnWithStateItem(A,b,e.defaultState,f,v,!1,r),eo(h,A)):(y.push(b),m+=1)});var w=function(b){return i.syncColumnWithStateItem(b,null,e.defaultState,f,v,!1,r)};h.forEach(w);var _=function(b,O,T,A){var N=b[T.getId()],M=b[A.getId()],L=N!=null,G=M!=null;if(L&&G)return N-M;if(L)return-1;if(G)return 1;var H=O.indexOf(T),j=O.indexOf(A),V=H>=0,W=j>=0;return V&&W?H-j:V?-1:1};i.rowGroupColumns.sort(_.bind(i,f,C)),i.pivotColumns.sort(_.bind(i,v,S)),i.updateGridColumns();var x=i.groupAutoColumns?i.groupAutoColumns.slice():[];return g.forEach(function(b){var O=i.getAutoColumn(b.colId);eo(x,O),i.syncColumnWithStateItem(O,b,e.defaultState,null,null,!0,r)}),x.forEach(w),i.applyOrderAfterApplyState(e),i.updateDisplayedColumns(r),i.dispatchEverythingChanged(r),p(),{unmatchedAndAutoStates:y,unmatchedCount:m}};this.columnAnimationService.start();var a=o(e.state||[],this.primaryColumns||[],function(u){return i.getPrimaryColumn(u)}),s=a.unmatchedAndAutoStates,l=a.unmatchedCount;return(s.length>0||ce(e.defaultState))&&(l=o(s,this.secondaryColumns||[],function(u){return i.getSecondaryColumn(u)}).unmatchedCount),this.columnAnimationService.finish(),l===0},t.prototype.applyOrderAfterApplyState=function(e){var r=this;if(!(!e.applyOrder||!e.state)){var i=[],o={};e.state.forEach(function(s){if(!(!s.colId||o[s.colId])){var l=r.gridColumnsMap[s.colId];l&&(i.push(l),o[s.colId]=!0)}});var a=0;if(this.gridColumns.forEach(function(s){var l=s.getColId(),u=o[l]!=null;if(!u){var c=l.startsWith(Qu);c?AS(i,s,a++):i.push(s)}}),i=this.placeLockedColumns(i),!this.doesMovePassMarryChildren(i)){console.warn("AG Grid: Applying column order broke a group where columns should be married together. Applying new order has been discarded.");return}this.gridColumns=i}},t.prototype.compareColumnStatesAndDispatchEvents=function(e){var r=this,i={rowGroupColumns:this.rowGroupColumns.slice(),pivotColumns:this.pivotColumns.slice(),valueColumns:this.valueColumns.slice()},o=this.getColumnState(),a={};return o.forEach(function(s){a[s.colId]=s}),function(){var s=r.getPrimaryAndSecondaryAndAutoColumns(),l=function(m,C,S,w){var _=C.map(w),x=S.map(w),b=Du(_,x);if(!b){var O=new Set(C);S.forEach(function(N){O.delete(N)||O.add(N)});var T=bo([],Eo(O),!1),A={type:m,columns:T,column:T.length===1?T[0]:null,source:e};r.eventService.dispatchEvent(A)}},u=function(m){var C=[];return s.forEach(function(S){var w=a[S.getColId()];w&&m(w,S)&&C.push(S)}),C},c=function(m){return m.getColId()};l(P.EVENT_COLUMN_ROW_GROUP_CHANGED,i.rowGroupColumns,r.rowGroupColumns,c),l(P.EVENT_COLUMN_PIVOT_CHANGED,i.pivotColumns,r.pivotColumns,c);var d=function(m,C){var S=m.aggFunc!=null,w=S!=C.isValueActive(),_=S&&m.aggFunc!=C.getAggFunc();return w||_},p=u(d);p.length>0&&r.dispatchColumnChangedEvent(P.EVENT_COLUMN_VALUE_CHANGED,p,e);var h=function(m,C){return m.width!=C.getActualWidth()};r.dispatchColumnResizedEvent(u(h),!0,e);var f=function(m,C){return m.pinned!=C.getPinned()};r.dispatchColumnPinnedEvent(u(f),e);var v=function(m,C){return m.hide==C.isVisible()};r.dispatchColumnVisibleEvent(u(v),e);var g=function(m,C){return m.sort!=C.getSort()||m.sortIndex!=C.getSortIndex()},y=u(g);y.length>0&&r.sortController.dispatchSortChangedEvents(e,y),r.normaliseColumnMovedEventForColumnState(o,e)}},t.prototype.getCommonValue=function(e,r){if(!(!e||e.length==0)){for(var i=r(e[0]),o=1;o<e.length;o++)if(i!==r(e[o]))return;return i}},t.prototype.normaliseColumnMovedEventForColumnState=function(e,r){var i=this,o=this.getColumnState(),a={};o.forEach(function(d){return a[d.colId]=d});var s={};e.forEach(function(d){a[d.colId]&&(s[d.colId]=!0)});var l=e.filter(function(d){return s[d.colId]}),u=o.filter(function(d){return s[d.colId]}),c=[];u.forEach(function(d,p){var h=l&&l[p];if(h&&h.colId!==d.colId){var f=i.getGridColumn(h.colId);f&&c.push(f)}}),c.length&&this.dispatchColumnMovedEvent({movedColumns:c,source:r,finished:!0})},t.prototype.syncColumnWithStateItem=function(e,r,i,o,a,s,l){if(e){var u=function(b,O){var T={value1:void 0,value2:void 0},A=!1;return r&&(r[b]!==void 0&&(T.value1=r[b],A=!0),ce(O)&&r[O]!==void 0&&(T.value2=r[O],A=!0)),!A&&i&&(i[b]!==void 0&&(T.value1=i[b]),ce(O)&&i[O]!==void 0&&(T.value2=i[O])),T},c=u("hide").value1;c!==void 0&&e.setVisible(!c,l);var d=u("pinned").value1;d!==void 0&&e.setPinned(d);var p=this.columnUtils.calculateColMinWidth(e.getColDef()),h=u("flex").value1;if(h!==void 0&&e.setFlex(h),h==null){var f=u("width").value1;f!=null&&p!=null&&f>=p&&e.setActualWidth(f,l)}var v=u("sort").value1;v!==void 0&&(v==="desc"||v==="asc"?e.setSort(v,l):e.setSort(void 0,l));var g=u("sortIndex").value1;if(g!==void 0&&e.setSortIndex(g),!(s||!e.isPrimary())){var y=u("aggFunc").value1;y!==void 0&&(typeof y=="string"?(e.setAggFunc(y),e.isValueActive()||(e.setValueActive(!0,l),this.valueColumns.push(e))):(ce(y)&&console.warn("AG Grid: stateItem.aggFunc must be a string. if using your own aggregation functions, register the functions first before using them in get/set state. This is because it is intended for the column state to be stored and retrieved as simple JSON."),e.isValueActive()&&(e.setValueActive(!1,l),eo(this.valueColumns,e))));var m=u("rowGroup","rowGroupIndex"),C=m.value1,S=m.value2;(C!==void 0||S!==void 0)&&(typeof S=="number"||C?(e.isRowGroupActive()||(e.setRowGroupActive(!0,l),this.rowGroupColumns.push(e)),o&&typeof S=="number"&&(o[e.getId()]=S)):e.isRowGroupActive()&&(e.setRowGroupActive(!1,l),eo(this.rowGroupColumns,e)));var w=u("pivot","pivotIndex"),_=w.value1,x=w.value2;(_!==void 0||x!==void 0)&&(typeof x=="number"||_?(e.isPivotActive()||(e.setPivotActive(!0,l),this.pivotColumns.push(e)),a&&typeof x=="number"&&(a[e.getId()]=x)):e.isPivotActive()&&(e.setPivotActive(!1,l),eo(this.pivotColumns,e)))}}},t.prototype.getGridColumns=function(e){return this.getColumns(e,this.getGridColumn.bind(this))},t.prototype.getColumns=function(e,r){var i=[];return e&&e.forEach(function(o){var a=r(o);a&&i.push(a)}),i},t.prototype.getColumnWithValidation=function(e){if(e==null)return null;var r=this.getGridColumn(e);return r||console.warn("AG Grid: could not find column "+e),r},t.prototype.getPrimaryColumn=function(e){return this.primaryColumns?this.getColumn(e,this.primaryColumns,this.primaryColumnsMap):null},t.prototype.getGridColumn=function(e){return this.getColumn(e,this.gridColumns,this.gridColumnsMap)},t.prototype.lookupGridColumn=function(e){return this.gridColumnsMap[e]},t.prototype.getSecondaryColumn=function(e){return this.secondaryColumns?this.getColumn(e,this.secondaryColumns,this.secondaryColumnsMap):null},t.prototype.getColumn=function(e,r,i){if(!e||!i)return null;if(typeof e=="string"&&i[e])return i[e];for(var o=0;o<r.length;o++)if(this.columnsMatch(r[o],e))return r[o];return this.getAutoColumn(e)},t.prototype.getSourceColumnsForGroupColumn=function(e){var r=e.getColDef().showRowGroup;if(!r)return null;if(r===!0)return this.rowGroupColumns.slice(0);var i=this.getPrimaryColumn(r);return i?[i]:null},t.prototype.getAutoColumn=function(e){var r=this;return!this.groupAutoColumns||!ce(this.groupAutoColumns)||je(this.groupAutoColumns)?null:this.groupAutoColumns.find(function(i){return r.columnsMatch(i,e)})||null},t.prototype.columnsMatch=function(e,r){var i=e===r,o=e.getColDef()===r,a=e.getColId()==r;return i||o||a},t.prototype.getDisplayNameForColumn=function(e,r,i){if(i===void 0&&(i=!1),!e)return null;var o=this.getHeaderName(e.getColDef(),e,null,null,r);return i?this.wrapHeaderNameWithAggFunc(e,o):o},t.prototype.getDisplayNameForProvidedColumnGroup=function(e,r,i){var o=r?r.getColGroupDef():null;return o?this.getHeaderName(o,null,e,r,i):null},t.prototype.getDisplayNameForColumnGroup=function(e,r){return this.getDisplayNameForProvidedColumnGroup(e,e.getProvidedColumnGroup(),r)},t.prototype.getHeaderName=function(e,r,i,o,a){var s=e.headerValueGetter;if(s){var l=this.gridOptionsService.addGridCommonParams({colDef:e,column:r,columnGroup:i,providedColumnGroup:o,location:a});return typeof s=="function"?s(l):typeof s=="string"?this.expressionService.evaluate(s,l):(console.warn("AG Grid: headerValueGetter must be a function or a string"),"")}else{if(e.headerName!=null)return e.headerName;if(e.field)return q7(e.field)}return""},t.prototype.wrapHeaderNameWithAggFunc=function(e,r){if(this.gridOptionsService.get("suppressAggFuncInHeader"))return r;var i=e.getColDef().pivotValueColumn,o=ce(i),a=null,s;if(o){var l=this.gridOptionsService.get("removePivotHeaderRowWhenSingleValueColumn")&&this.valueColumns.length===1,u=e.getColDef().pivotTotalColumnIds!==void 0;if(l&&!u)return r;a=i?i.getAggFunc():null,s=!0}else{var c=e.isValueActive(),d=this.pivotMode||!this.isRowGroupEmpty();c&&d?(a=e.getAggFunc(),s=!0):s=!1}if(s){var p=typeof a=="string"?a:"func",h=this.localeService.getLocaleTextFunc(),f=h(p,p);return"".concat(f,"(").concat(r,")")}return r},t.prototype.getColumnGroup=function(e,r){if(!e)return null;if(e instanceof Vr)return e;var i=this.getAllDisplayedTrees(),o=typeof r=="number",a=null;return this.columnUtils.depthFirstAllColumnTreeSearch(i,function(s){if(s instanceof Vr){var l=s,u=void 0;o?u=e===l.getGroupId()&&r===l.getPartId():u=e===l.getGroupId(),u&&(a=l)}}),a},t.prototype.isReady=function(){return this.ready},t.prototype.extractValueColumns=function(e,r){this.valueColumns=this.extractColumns(r,this.valueColumns,function(i,o){return i.setValueActive(o,e)},function(){},function(){},function(i){var o=i.aggFunc;if(o===null||o==="")return null;if(o!==void 0)return!!o},function(i){return i.initialAggFunc!=null&&i.initialAggFunc!=""}),this.valueColumns.forEach(function(i){var o=i.getColDef();o.aggFunc!=null&&o.aggFunc!=""?i.setAggFunc(o.aggFunc):i.getAggFunc()||i.setAggFunc(o.initialAggFunc)})},t.prototype.extractRowGroupColumns=function(e,r){this.rowGroupColumns=this.extractColumns(r,this.rowGroupColumns,function(i,o){return i.setRowGroupActive(o,e)},function(i){return i.rowGroupIndex},function(i){return i.initialRowGroupIndex},function(i){return i.rowGroup},function(i){return i.initialRowGroup})},t.prototype.extractColumns=function(e,r,i,o,a,s,l){e===void 0&&(e=[]),r===void 0&&(r=[]);var u=[],c=[];(this.primaryColumns||[]).forEach(function(h){var f=e.indexOf(h)<0,v=h.getColDef(),g=Pb(s(v)),y=Pb(l(v)),m=Rd(o(v)),C=Rd(a(v)),S,w=g!==void 0,_=m!==void 0,x=y!==void 0,b=C!==void 0;if(w?S=g:_?m===null?S=!1:S=m>=0:f?x?S=y:b?S=C!=null&&C>=0:S=!1:S=r.indexOf(h)>=0,S){var O=f?m!=null||C!=null:m!=null;O?u.push(h):c.push(h)}});var d=function(h){var f=o(h.getColDef()),v=a(h.getColDef());return f??v};u.sort(function(h,f){var v=d(h),g=d(f);return v===g?0:v<g?-1:1});var p=[].concat(u);return r.forEach(function(h){c.indexOf(h)>=0&&p.push(h)}),c.forEach(function(h){p.indexOf(h)<0&&p.push(h)}),r.forEach(function(h){p.indexOf(h)<0&&i(h,!1)}),p.forEach(function(h){r.indexOf(h)<0&&i(h,!0)}),p},t.prototype.extractPivotColumns=function(e,r){this.pivotColumns=this.extractColumns(r,this.pivotColumns,function(i,o){return i.setPivotActive(o,e)},function(i){return i.pivotIndex},function(i){return i.initialPivotIndex},function(i){return i.pivot},function(i){return i.initialPivot})},t.prototype.resetColumnGroupState=function(e){if(this.primaryColumnTree){var r=[];this.columnUtils.depthFirstOriginalTreeSearch(null,this.primaryColumnTree,function(i){if(i instanceof Pt){var o=i.getColGroupDef(),a={groupId:i.getGroupId(),open:o?o.openByDefault:void 0};r.push(a)}}),this.setColumnGroupState(r,e)}},t.prototype.getColumnGroupState=function(){var e=[];return this.columnUtils.depthFirstOriginalTreeSearch(null,this.gridBalancedTree,function(r){r instanceof Pt&&e.push({groupId:r.getGroupId(),open:r.isExpanded()})}),e},t.prototype.setColumnGroupState=function(e,r){var i=this;if(this.gridBalancedTree){this.columnAnimationService.start();var o=[];if(e.forEach(function(s){var l=s.groupId,u=s.open,c=i.getProvidedColumnGroup(l);c&&c.isExpanded()!==u&&(i.logger.log("columnGroupOpened("+c.getGroupId()+","+u+")"),c.setExpanded(u),o.push(c))}),this.updateGroupsAndDisplayedColumns(r),this.setFirstRightAndLastLeftPinned(r),o.length){var a={type:P.EVENT_COLUMN_GROUP_OPENED,columnGroup:Pt.length===1?o[0]:void 0,columnGroups:o};this.eventService.dispatchEvent(a)}this.columnAnimationService.finish()}},t.prototype.setColumnGroupOpened=function(e,r,i){var o;e instanceof Pt?o=e.getId():o=e||"",this.setColumnGroupState([{groupId:o,open:r}],i)},t.prototype.getProvidedColumnGroup=function(e){typeof e!="string"&&console.error("AG Grid: group key must be a string");var r=null;return this.columnUtils.depthFirstOriginalTreeSearch(null,this.gridBalancedTree,function(i){i instanceof Pt&&i.getId()===e&&(r=i)}),r},t.prototype.calculateColumnsForDisplay=function(){var e=this,r;return this.pivotMode&&je(this.secondaryColumns)?r=this.gridColumns.filter(function(i){var o=e.groupAutoColumns&&Ps(e.groupAutoColumns,i),a=e.valueColumns&&Ps(e.valueColumns,i);return o||a}):r=this.gridColumns.filter(function(i){var o=e.groupAutoColumns&&Ps(e.groupAutoColumns,i);return o||i.isVisible()}),r},t.prototype.checkColSpanActiveInCols=function(e){var r=!1;return e.forEach(function(i){ce(i.getColDef().colSpan)&&(r=!0)}),r},t.prototype.calculateColumnsForGroupDisplay=function(){var e=this;this.groupDisplayColumns=[],this.groupDisplayColumnsMap={};var r=function(i){var o=i.getColDef(),a=o.showRowGroup;o&&ce(a)&&(e.groupDisplayColumns.push(i),typeof a=="string"?e.groupDisplayColumnsMap[a]=i:a===!0&&e.getRowGroupColumns().forEach(function(s){e.groupDisplayColumnsMap[s.getId()]=i}))};this.gridColumns.forEach(r)},t.prototype.getGroupDisplayColumns=function(){return this.groupDisplayColumns},t.prototype.getGroupDisplayColumnForGroup=function(e){return this.groupDisplayColumnsMap[e]},t.prototype.updateDisplayedColumns=function(e){var r=this.calculateColumnsForDisplay();this.buildDisplayedTrees(r),this.updateGroupsAndDisplayedColumns(e),this.setFirstRightAndLastLeftPinned(e)},t.prototype.isSecondaryColumnsPresent=function(){return ce(this.secondaryColumns)},t.prototype.setSecondaryColumns=function(e,r){var i=this;if(this.gridColumns){var o=e&&e.length>0;if(!(!o&&je(this.secondaryColumns))){if(o){this.processSecondaryColumnDefinitions(e);var a=this.columnFactory.createColumnTree(e,!1,this.secondaryBalancedTree||this.previousSecondaryColumns||void 0,r);this.destroyOldColumns(this.secondaryBalancedTree,a.columnTree),this.secondaryBalancedTree=a.columnTree,this.secondaryHeaderRowCount=a.treeDept+1,this.secondaryColumns=this.getColumnsFromTree(this.secondaryBalancedTree),this.secondaryColumnsMap={},this.secondaryColumns.forEach(function(s){return i.secondaryColumnsMap[s.getId()]=s}),this.previousSecondaryColumns=null}else this.previousSecondaryColumns=this.secondaryBalancedTree,this.secondaryBalancedTree=null,this.secondaryHeaderRowCount=-1,this.secondaryColumns=null,this.secondaryColumnsMap={};this.updateGridColumns(),this.updateDisplayedColumns(r)}}},t.prototype.processSecondaryColumnDefinitions=function(e){var r=this.gridOptionsService.get("processPivotResultColDef"),i=this.gridOptionsService.get("processPivotResultColGroupDef");if(!(!r&&!i)){var o=function(a){a.forEach(function(s){var l=ce(s.children);if(l){var u=s;i&&i(u),o(u.children)}else{var c=s;r&&r(c)}})};e&&o(e)}},t.prototype.updateGridColumns=function(){var e=this,r=this.gridBalancedTree;this.gridColsArePrimary?this.lastPrimaryOrder=this.gridColumns:this.lastSecondaryOrder=this.gridColumns;var i=this.createGroupAutoColumnsIfNeeded();if(i){var o=id(this.groupAutoColumns.map(function(u){return[u,!0]}));this.lastPrimaryOrder&&(this.lastPrimaryOrder=this.lastPrimaryOrder.filter(function(u){return!o.has(u)}),this.lastPrimaryOrder=bo(bo([],Eo(this.groupAutoColumns),!1),Eo(this.lastPrimaryOrder),!1)),this.lastSecondaryOrder&&(this.lastSecondaryOrder=this.lastSecondaryOrder.filter(function(u){return!o.has(u)}),this.lastSecondaryOrder=bo(bo([],Eo(this.groupAutoColumns),!1),Eo(this.lastSecondaryOrder),!1))}var a;if(this.secondaryColumns&&this.secondaryBalancedTree){var s=this.secondaryColumns.some(function(u){return e.gridColumnsMap[u.getColId()]!==void 0});this.gridBalancedTree=this.secondaryBalancedTree.slice(),this.gridHeaderRowCount=this.secondaryHeaderRowCount,this.gridColumns=this.secondaryColumns.slice(),this.gridColsArePrimary=!1,s&&(a=this.lastSecondaryOrder)}else this.primaryColumns&&(this.gridBalancedTree=this.primaryColumnTree.slice(),this.gridHeaderRowCount=this.primaryHeaderRowCount,this.gridColumns=this.primaryColumns.slice(),this.gridColsArePrimary=!0,a=this.lastPrimaryOrder);if(this.addAutoGroupToGridColumns(),this.orderGridColsLike(a),this.gridColumns=this.placeLockedColumns(this.gridColumns),this.calculateColumnsForGroupDisplay(),this.refreshQuickFilterColumns(),this.clearDisplayedAndViewportColumns(),this.colSpanActive=this.checkColSpanActiveInCols(this.gridColumns),this.gridColumnsMap={},this.gridColumns.forEach(function(u){return e.gridColumnsMap[u.getId()]=u}),this.setAutoHeightActive(),!Du(r,this.gridBalancedTree)){var l={type:P.EVENT_GRID_COLUMNS_CHANGED};this.eventService.dispatchEvent(l)}},t.prototype.setAutoHeightActive=function(){if(this.autoHeightActive=this.gridColumns.filter(function(r){return r.isAutoHeight()}).length>0,this.autoHeightActive){this.autoHeightActiveAtLeastOnce=!0;var e=this.gridOptionsService.isRowModelType("clientSide")||this.gridOptionsService.isRowModelType("serverSide");e||Le("autoHeight columns only work with Client Side Row Model and Server Side Row Model.")}},t.prototype.orderGridColsLike=function(e){if(!je(e)){var r=id(e.map(function(c,d){return[c,d]})),i=!0;if(this.gridColumns.forEach(function(c){r.has(c)&&(i=!1)}),!i){var o=id(this.gridColumns.map(function(c){return[c,!0]})),a=e.filter(function(c){return o.has(c)}),s=id(a.map(function(c){return[c,!0]})),l=this.gridColumns.filter(function(c){return!s.has(c)}),u=a.slice();l.forEach(function(c){var d=c.getOriginalParent();if(!d){u.push(c);return}for(var p=[];!p.length&&d;){var h=d.getLeafColumns();h.forEach(function(g){var y=u.indexOf(g)>=0,m=p.indexOf(g)<0;y&&m&&p.push(g)}),d=d.getOriginalParent()}if(!p.length){u.push(c);return}var f=p.map(function(g){return u.indexOf(g)}),v=Math.max.apply(Math,bo([],Eo(f),!1));AS(u,c,v+1)}),this.gridColumns=u}}},t.prototype.isPrimaryColumnGroupsPresent=function(){return this.primaryHeaderRowCount>1},t.prototype.refreshQuickFilterColumns=function(){var e,r=(e=this.isPivotMode()?this.secondaryColumns:this.primaryColumns)!==null&&e!==void 0?e:[];this.groupAutoColumns&&(r=r.concat(this.groupAutoColumns)),this.columnsForQuickFilter=this.gridOptionsService.get("includeHiddenColumnsInQuickFilter")?r:r.filter(function(i){return i.isVisible()||i.isRowGroupActive()})},t.prototype.placeLockedColumns=function(e){var r=[],i=[],o=[];return e.forEach(function(a){var s=a.getColDef().lockPosition;s==="right"?o.push(a):s==="left"||s===!0?r.push(a):i.push(a)}),bo(bo(bo([],Eo(r),!1),Eo(i),!1),Eo(o),!1)},t.prototype.addAutoGroupToGridColumns=function(){if(je(this.groupAutoColumns)){this.destroyOldColumns(this.groupAutoColsBalancedTree),this.groupAutoColsBalancedTree=null;return}this.gridColumns=this.groupAutoColumns?this.groupAutoColumns.concat(this.gridColumns):this.gridColumns;var e=this.columnFactory.createForAutoGroups(this.groupAutoColumns,this.gridBalancedTree);this.destroyOldColumns(this.groupAutoColsBalancedTree,e),this.groupAutoColsBalancedTree=e,this.gridBalancedTree=e.concat(this.gridBalancedTree)},t.prototype.clearDisplayedAndViewportColumns=function(){this.viewportRowLeft={},this.viewportRowRight={},this.viewportRowCenter={},this.displayedColumnsLeft=[],this.displayedColumnsRight=[],this.displayedColumnsCenter=[],this.displayedColumns=[],this.ariaOrderColumns=[],this.viewportColumns=[],this.headerViewportColumns=[],this.viewportColumnsHash=""},t.prototype.updateGroupsAndDisplayedColumns=function(e){this.updateOpenClosedVisibilityInColumnGroups(),this.deriveDisplayedColumns(e),this.refreshFlexedColumns(),this.extractViewport(),this.updateBodyWidths();var r={type:P.EVENT_DISPLAYED_COLUMNS_CHANGED};this.eventService.dispatchEvent(r)},t.prototype.deriveDisplayedColumns=function(e){this.derivedDisplayedColumnsFromDisplayedTree(this.displayedTreeLeft,this.displayedColumnsLeft),this.derivedDisplayedColumnsFromDisplayedTree(this.displayedTreeCentre,this.displayedColumnsCenter),this.derivedDisplayedColumnsFromDisplayedTree(this.displayedTreeRight,this.displayedColumnsRight),this.joinColumnsAriaOrder(),this.joinDisplayedColumns(),this.setLeftValues(e),this.displayedAutoHeightCols=this.displayedColumns.filter(function(r){return r.isAutoHeight()})},t.prototype.isAutoRowHeightActive=function(){return this.autoHeightActive},t.prototype.wasAutoRowHeightEverActive=function(){return this.autoHeightActiveAtLeastOnce},t.prototype.joinColumnsAriaOrder=function(){var e,r,i=this.getAllGridColumns(),o=[],a=[],s=[];try{for(var l=MA(i),u=l.next();!u.done;u=l.next()){var c=u.value,d=c.getPinned();d?d===!0||d==="left"?o.push(c):s.push(c):a.push(c)}}catch(p){e={error:p}}finally{try{u&&!u.done&&(r=l.return)&&r.call(l)}finally{if(e)throw e.error}}this.ariaOrderColumns=o.concat(a).concat(s)},t.prototype.joinDisplayedColumns=function(){this.gridOptionsService.get("enableRtl")?this.displayedColumns=this.displayedColumnsRight.concat(this.displayedColumnsCenter).concat(this.displayedColumnsLeft):this.displayedColumns=this.displayedColumnsLeft.concat(this.displayedColumnsCenter).concat(this.displayedColumnsRight)},t.prototype.setLeftValues=function(e){this.setLeftValuesOfColumns(e),this.setLeftValuesOfGroups()},t.prototype.setLeftValuesOfColumns=function(e){var r=this;if(this.primaryColumns){var i=this.getPrimaryAndSecondaryAndAutoColumns().slice(0),o=this.gridOptionsService.get("enableRtl");[this.displayedColumnsLeft,this.displayedColumnsRight,this.displayedColumnsCenter].forEach(function(a){if(o){var s=r.getWidthOfColsInList(a);a.forEach(function(u){s-=u.getActualWidth(),u.setLeft(s,e)})}else{var l=0;a.forEach(function(u){u.setLeft(l,e),l+=u.getActualWidth()})}j7(i,a)}),i.forEach(function(a){a.setLeft(null,e)})}},t.prototype.setLeftValuesOfGroups=function(){[this.displayedTreeLeft,this.displayedTreeRight,this.displayedTreeCentre].forEach(function(e){e.forEach(function(r){if(r instanceof Vr){var i=r;i.checkLeft()}})})},t.prototype.derivedDisplayedColumnsFromDisplayedTree=function(e,r){r.length=0,this.columnUtils.depthFirstDisplayedColumnTreeSearch(e,function(i){i instanceof Je&&r.push(i)})},t.prototype.isColumnVirtualisationSuppressed=function(){return this.suppressColumnVirtualisation||this.viewportRight===0},t.prototype.extractViewportColumns=function(){this.isColumnVirtualisationSuppressed()?(this.viewportColumnsCenter=this.displayedColumnsCenter,this.headerViewportColumnsCenter=this.displayedColumnsCenter):(this.viewportColumnsCenter=this.displayedColumnsCenter.filter(this.isColumnInRowViewport.bind(this)),this.headerViewportColumnsCenter=this.displayedColumnsCenter.filter(this.isColumnInHeaderViewport.bind(this))),this.viewportColumns=this.viewportColumnsCenter.concat(this.displayedColumnsLeft).concat(this.displayedColumnsRight),this.headerViewportColumns=this.headerViewportColumnsCenter.concat(this.displayedColumnsLeft).concat(this.displayedColumnsRight)},t.prototype.getVirtualHeaderGroupRow=function(e,r){var i;switch(e){case"left":i=this.viewportRowLeft[r];break;case"right":i=this.viewportRowRight[r];break;default:i=this.viewportRowCenter[r];break}return je(i)&&(i=[]),i},t.prototype.calculateHeaderRows=function(){this.viewportRowLeft={},this.viewportRowRight={},this.viewportRowCenter={};var e={};this.headerViewportColumns.forEach(function(i){return e[i.getId()]=!0});var r=function(i,o,a){for(var s=!1,l=0;l<i.length;l++){var u=i[l],c=!1;if(u instanceof Je)c=e[u.getId()]===!0;else{var d=u,p=d.getDisplayedChildren();p&&(c=r(p,o,a+1))}c&&(s=!0,o[a]||(o[a]=[]),o[a].push(u))}return s};r(this.displayedTreeLeft,this.viewportRowLeft,0),r(this.displayedTreeRight,this.viewportRowRight,0),r(this.displayedTreeCentre,this.viewportRowCenter,0)},t.prototype.extractViewport=function(){var e=function(o){return"".concat(o.getId(),"-").concat(o.getPinned()||"normal")};this.extractViewportColumns();var r=this.viewportColumns.map(e).join("#"),i=this.viewportColumnsHash!==r;return i&&(this.viewportColumnsHash=r,this.calculateHeaderRows()),i},t.prototype.refreshFlexedColumns=function(e){var r;e===void 0&&(e={});var i=e.source?e.source:"flex";if(e.viewportWidth!=null&&(this.flexViewportWidth=e.viewportWidth),!this.flexViewportWidth)return[];var o=-1;if(e.resizingCols){for(var a=new Set(e.resizingCols),s=this.displayedColumnsCenter,l=s.length-1;l>=0;l--)if(a.has(s[l])){o=l;break}}for(var u=0,c=[],d=0,p=0,l=0;l<this.displayedColumnsCenter.length;l++){var h=this.displayedColumnsCenter[l].getFlex()&&l>o;h?(c.push(this.displayedColumnsCenter[l]),p+=this.displayedColumnsCenter[l].getFlex(),d+=(r=this.displayedColumnsCenter[l].getMinWidth())!==null&&r!==void 0?r:0):u+=this.displayedColumnsCenter[l].getActualWidth()}if(!c.length)return[];var f=[];u+d>this.flexViewportWidth&&(c.forEach(function(b){var O;return b.setActualWidth((O=b.getMinWidth())!==null&&O!==void 0?O:0,i)}),f=c,c=[]);var v=[],g;e:for(;;){g=this.flexViewportWidth-u;for(var y=g/p,l=0;l<c.length;l++){var m=c[l],C=y*m.getFlex(),S=0,w=m.getMinWidth(),_=m.getMaxWidth();if(ce(w)&&C<w?S=w:ce(_)&&C>_&&(S=_),S){m.setActualWidth(S,i),Gk(c,m),p-=m.getFlex(),f.push(m),u+=m.getActualWidth();continue e}v[l]=Math.round(C)}break}var x=g;return c.forEach(function(b,O){b.setActualWidth(Math.min(v[O],x),i),f.push(b),x-=v[O]}),e.skipSetLeft||this.setLeftValues(i),e.updateBodyWidths&&this.updateBodyWidths(),e.fireResizedEvent&&this.dispatchColumnResizedEvent(f,!0,i,c),c},t.prototype.sizeColumnsToFit=function(e,r,i,o){var a=this,s,l,u,c,d;if(r===void 0&&(r="sizeColumnsToFit"),this.shouldQueueResizeOperations){this.resizeOperationQueue.push(function(){return a.sizeColumnsToFit(e,r,i,o)});return}var p={};o&&((s=o==null?void 0:o.columnLimits)===null||s===void 0||s.forEach(function(j){var V=j.key,W=zxe(j,["key"]);p[typeof V=="string"?V:V.getColId()]=W}));var h=this.getAllDisplayedColumns(),f=e===this.getWidthOfColsInList(h);if(!(e<=0||!h.length||f)){var v=[],g=[];h.forEach(function(j){j.getColDef().suppressSizeToFit===!0?g.push(j):v.push(j)});var y=v.slice(0),m=!1,C=function(j){eo(v,j),g.push(j)};for(v.forEach(function(j){var V,W;j.resetActualWidth(r);var K=p==null?void 0:p[j.getId()],ee=(V=K==null?void 0:K.minWidth)!==null&&V!==void 0?V:o==null?void 0:o.defaultMinWidth,Z=(W=K==null?void 0:K.maxWidth)!==null&&W!==void 0?W:o==null?void 0:o.defaultMaxWidth,se=j.getActualWidth();typeof ee=="number"&&se<ee?j.setActualWidth(ee,r,!0):typeof Z=="number"&&se>Z&&j.setActualWidth(Z,r,!0)});!m;){m=!0;var S=e-this.getWidthOfColsInList(g);if(S<=0)v.forEach(function(j){var V,W,K=(W=(V=p==null?void 0:p[j.getId()])===null||V===void 0?void 0:V.minWidth)!==null&&W!==void 0?W:o==null?void 0:o.defaultMinWidth;if(typeof K=="number"){j.setActualWidth(K,r,!0);return}j.setMinimum(r)});else for(var w=S/this.getWidthOfColsInList(v),_=S,x=v.length-1;x>=0;x--){var b=v[x],O=p==null?void 0:p[b.getId()],T=(l=O==null?void 0:O.minWidth)!==null&&l!==void 0?l:o==null?void 0:o.defaultMinWidth,A=(u=O==null?void 0:O.maxWidth)!==null&&u!==void 0?u:o==null?void 0:o.defaultMaxWidth,N=(c=b.getMinWidth())!==null&&c!==void 0?c:0,M=(d=b.getMaxWidth())!==null&&d!==void 0?d:Number.MAX_VALUE,L=typeof T=="number"&&T>N?T:b.getMinWidth(),G=typeof A=="number"&&A<M?A:b.getMaxWidth(),H=Math.round(b.getActualWidth()*w);ce(L)&&H<L?(H=L,C(b),m=!1):ce(G)&&H>G?(H=G,C(b),m=!1):x===0&&(H=_),b.setActualWidth(H,r,!0),_-=H}}y.forEach(function(j){j.fireColumnWidthChangedEvent(r)}),this.setLeftValues(r),this.updateBodyWidths(),!i&&this.dispatchColumnResizedEvent(y,!0,r)}},t.prototype.buildDisplayedTrees=function(e){var r=[],i=[],o=[];e.forEach(function(s){switch(s.getPinned()){case"left":r.push(s);break;case"right":i.push(s);break;default:o.push(s);break}});var a=new Bk;this.displayedTreeLeft=this.displayedGroupCreator.createDisplayedGroups(r,a,"left",this.displayedTreeLeft),this.displayedTreeRight=this.displayedGroupCreator.createDisplayedGroups(i,a,"right",this.displayedTreeRight),this.displayedTreeCentre=this.displayedGroupCreator.createDisplayedGroups(o,a,null,this.displayedTreeCentre),this.updateDisplayedMap()},t.prototype.updateDisplayedMap=function(){var e=this;this.displayedColumnsAndGroupsMap={};var r=function(i){e.displayedColumnsAndGroupsMap[i.getUniqueId()]=i};this.columnUtils.depthFirstAllColumnTreeSearch(this.displayedTreeCentre,r),this.columnUtils.depthFirstAllColumnTreeSearch(this.displayedTreeLeft,r),this.columnUtils.depthFirstAllColumnTreeSearch(this.displayedTreeRight,r)},t.prototype.isDisplayed=function(e){var r=this.displayedColumnsAndGroupsMap[e.getUniqueId()];return r===e},t.prototype.updateOpenClosedVisibilityInColumnGroups=function(){var e=this.getAllDisplayedTrees();this.columnUtils.depthFirstAllColumnTreeSearch(e,function(r){r instanceof Vr&&r.calculateDisplayedColumns()})},t.prototype.getGroupAutoColumns=function(){return this.groupAutoColumns},t.prototype.createGroupAutoColumnsIfNeeded=function(){var e=this.forceRecreateAutoGroups;if(this.forceRecreateAutoGroups=!1,!this.autoGroupsNeedBuilding)return!1;this.autoGroupsNeedBuilding=!1;var r=this.gridOptionsService.isGroupUseEntireRow(this.pivotMode),i=this.pivotMode?this.gridOptionsService.get("pivotSuppressAutoColumn"):this.isGroupSuppressAutoColumn(),o=this.rowGroupColumns.length>0||this.gridOptionsService.get("treeData"),a=o&&!i&&!r;if(a){var s=this.autoGroupColService.createAutoGroupColumns(this.rowGroupColumns),l=!this.autoColsEqual(s,this.groupAutoColumns);if(l||e)return this.groupAutoColumns=s,!0}else this.groupAutoColumns=null;return!1},t.prototype.isGroupSuppressAutoColumn=function(){var e=this.gridOptionsService.get("groupDisplayType"),r=e==="custom";if(r)return!0;var i=this.gridOptionsService.get("treeDataDisplayType");return i==="custom"},t.prototype.autoColsEqual=function(e,r){return Du(e,r,function(i,o){return i.getColId()===o.getColId()})},t.prototype.getWidthOfColsInList=function(e){return e.reduce(function(r,i){return r+i.getActualWidth()},0)},t.prototype.getFirstDisplayedColumn=function(){var e=this.gridOptionsService.get("enableRtl"),r=["getDisplayedLeftColumns","getDisplayedCenterColumns","getDisplayedRightColumns"];e&&r.reverse();for(var i=0;i<r.length;i++){var o=this[r[i]]();if(o.length)return e?bt(o):o[0]}return null},t.prototype.setColumnHeaderHeight=function(e,r){var i=e.setAutoHeaderHeight(r);if(i){var o={type:P.EVENT_COLUMN_HEADER_HEIGHT_CHANGED,column:e,columns:[e],source:"autosizeColumnHeaderHeight"};this.eventService.dispatchEvent(o)}},t.prototype.getColumnGroupHeaderRowHeight=function(){return this.isPivotMode()?this.getPivotGroupHeaderHeight():this.getGroupHeaderHeight()},t.prototype.getColumnHeaderRowHeight=function(){var e=this.isPivotMode()?this.getPivotHeaderHeight():this.getHeaderHeight(),r=this.getAllDisplayedColumns().filter(function(i){return i.isAutoHeaderHeight()}).map(function(i){return i.getAutoHeaderHeight()||0});return Math.max.apply(Math,bo([e],Eo(r),!1))},t.prototype.getHeaderHeight=function(){var e;return(e=this.gridOptionsService.get("headerHeight"))!==null&&e!==void 0?e:this.environment.getFromTheme(25,"headerHeight")},t.prototype.getFloatingFiltersHeight=function(){var e;return(e=this.gridOptionsService.get("floatingFiltersHeight"))!==null&&e!==void 0?e:this.getHeaderHeight()},t.prototype.getGroupHeaderHeight=function(){var e;return(e=this.gridOptionsService.get("groupHeaderHeight"))!==null&&e!==void 0?e:this.getHeaderHeight()},t.prototype.getPivotHeaderHeight=function(){var e;return(e=this.gridOptionsService.get("pivotHeaderHeight"))!==null&&e!==void 0?e:this.getHeaderHeight()},t.prototype.getPivotGroupHeaderHeight=function(){var e;return(e=this.gridOptionsService.get("pivotGroupHeaderHeight"))!==null&&e!==void 0?e:this.getGroupHeaderHeight()},t.prototype.queueResizeOperations=function(){this.shouldQueueResizeOperations=!0},t.prototype.processResizeOperations=function(){this.shouldQueueResizeOperations=!1,this.resizeOperationQueue.forEach(function(e){return e()}),this.resizeOperationQueue=[]},t.prototype.resetColumnDefIntoColumn=function(e,r){var i=e.getUserProvidedColDef();if(!i)return!1;var o=this.columnFactory.addColumnDefaultAndTypes(i,e.getColId());return e.setColDef(o,i,r),!0},t.prototype.isColumnGroupingLocked=function(e){var r=this.gridOptionsService.get("groupLockGroupColumns");if(!e.isRowGroupActive()||r===0)return!1;if(r===-1)return!0;var i=this.rowGroupColumns.findIndex(function(o){return o.getColId()===e.getColId()});return r>i},t.prototype.generateColumnStateForRowGroupAndPivotIndexes=function(e,r){var i=this,o={},a=function(s,l,u,c,d,p){if(!l.length||!i.primaryColumns)return[];for(var h=Object.keys(s),f=new Set(h),v=new Set(h),g=new Set(l.map(function(T){var A=T.getColId();return v.delete(A),A}).concat(h)),y=[],m={},C=0,S=0;S<i.primaryColumns.length;S++){var w=i.primaryColumns[S].getColId();g.has(w)&&(y.push(w),m[w]=C++)}var _=1e3,x=!1,b=0,O=function(T){for(var A=m[T],N=b;N<A;N++){var M=y[N];v.has(M)&&(s[M][d]=_++,v.delete(M))}b=A};l.forEach(function(T){var A=T.getColId();if(f.has(A))O(A),s[A][d]=_++;else{var N=T.getColDef(),M=N[d]===null||N[d]===void 0&&N[p]==null;if(M){if(!x){var L=N[u]||N[u]===void 0&&N[c];L?O(A):(v.forEach(function(G){s[G][d]=_+m[G]}),_+=y.length,x=!0)}o[A]||(o[A]={colId:A}),o[A][d]=_++}}})};return a(e,this.rowGroupColumns,"rowGroup","initialRowGroup","rowGroupIndex","initialRowGroupIndex"),a(r,this.pivotColumns,"pivot","initialPivot","pivotIndex","initialPivotIndex"),Object.values(o)},t.prototype.onColumnsReady=function(){var e=this,r=this.gridOptionsService.get("autoSizeStrategy");if(r){var i=r.type;setTimeout(function(){if(i==="fitGridWidth"){var o=r.columnLimits,a=r.defaultMinWidth,s=r.defaultMaxWidth,l=o==null?void 0:o.map(function(u){var c=u.colId,d=u.minWidth,p=u.maxWidth;return{key:c,minWidth:d,maxWidth:p}});e.ctrlsService.getGridBodyCtrl().sizeColumnsToFit({defaultMinWidth:a,defaultMaxWidth:s,columnLimits:l})}else i==="fitProvidedWidth"&&e.sizeColumnsToFit(r.width,"sizeColumnsToFit")})}},t.prototype.onFirstDataRendered=function(){var e=this,r=this.gridOptionsService.get("autoSizeStrategy");if((r==null?void 0:r.type)==="fitCellContents"){var i=r.colIds,o=r.skipHeader;setTimeout(function(){i?e.autoSizeColumns({columns:i,skipHeader:o,source:"autosizeColumns"}):e.autoSizeAllColumns("autosizeColumns",o)})}},kn([E("expressionService")],t.prototype,"expressionService",void 0),kn([E("columnFactory")],t.prototype,"columnFactory",void 0),kn([E("displayedGroupCreator")],t.prototype,"displayedGroupCreator",void 0),kn([E("ctrlsService")],t.prototype,"ctrlsService",void 0),kn([E("autoWidthCalculator")],t.prototype,"autoWidthCalculator",void 0),kn([E("columnUtils")],t.prototype,"columnUtils",void 0),kn([E("columnAnimationService")],t.prototype,"columnAnimationService",void 0),kn([E("autoGroupColService")],t.prototype,"autoGroupColService",void 0),kn([qe("aggFuncService")],t.prototype,"aggFuncService",void 0),kn([qe("valueCache")],t.prototype,"valueCache",void 0),kn([qe("animationFrameService")],t.prototype,"animationFrameService",void 0),kn([E("sortController")],t.prototype,"sortController",void 0),kn([E("columnDefFactory")],t.prototype,"columnDefFactory",void 0),kn([z],t.prototype,"init",null),kn([rr],t.prototype,"destroyColumns",null),kn([Uxe(0,Jo("loggerFactory"))],t.prototype,"setBeans",null),t=kn([ae("columnModel")],t),t}(q);function fv(n){return n==="gridOptionsUpdated"?"gridOptionsChanged":n}var Kxe=function(){var n=function(t,e){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])},n(t,e)};return function(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");n(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}}(),Yxe=function(n,t,e,r){var i=arguments.length,o=i<3?t:r===null?r=Object.getOwnPropertyDescriptor(t,e):r,a;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(n,t,e,r);else for(var s=n.length-1;s>=0;s--)(a=n[s])&&(o=(i<3?a(o):i>3?a(t,e,o):a(t,e))||o);return i>3&&o&&Object.defineProperty(t,e,o),o},J7=function(n){Kxe(t,n);function t(){return n!==null&&n.apply(this,arguments)||this}return t.prototype.calculateColMinWidth=function(e){return e.minWidth!=null?e.minWidth:this.environment.getMinColWidth()},t.prototype.calculateColMaxWidth=function(e){return e.maxWidth!=null?e.maxWidth:Number.MAX_SAFE_INTEGER},t.prototype.calculateColInitialWidth=function(e){var r=this.calculateColMinWidth(e),i=this.calculateColMaxWidth(e),o,a=Rd(e.width),s=Rd(e.initialWidth);return a!=null?o=a:s!=null?o=s:o=200,Math.max(Math.min(o,i),r)},t.prototype.getOriginalPathForColumn=function(e,r){var i=[],o=!1,a=function(s,l){for(var u=0;u<s.length;u++){if(o)return;var c=s[u];if(c instanceof Pt){var d=c;a(d.getChildren(),l+1),i[l]=c}else c===e&&(o=!0)}};return a(r,0),o?i:null},t.prototype.depthFirstOriginalTreeSearch=function(e,r,i){var o=this;r&&r.forEach(function(a){a instanceof Pt&&o.depthFirstOriginalTreeSearch(a,a.getChildren(),i),i(a,e)})},t.prototype.depthFirstAllColumnTreeSearch=function(e,r){var i=this;e&&e.forEach(function(o){o instanceof Vr&&i.depthFirstAllColumnTreeSearch(o.getChildren(),r),r(o)})},t.prototype.depthFirstDisplayedColumnTreeSearch=function(e,r){var i=this;e&&e.forEach(function(o){o instanceof Vr&&i.depthFirstDisplayedColumnTreeSearch(o.getDisplayedChildren(),r),r(o)})},t=Yxe([ae("columnUtils")],t),t}(q),Xxe=function(){var n=function(t,e){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])},n(t,e)};return function(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");n(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}}(),qxe=function(n,t,e,r){var i=arguments.length,o=i<3?t:r===null?r=Object.getOwnPropertyDescriptor(t,e):r,a;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(n,t,e,r);else for(var s=n.length-1;s>=0;s--)(a=n[s])&&(o=(i<3?a(o):i>3?a(t,e,o):a(t,e))||o);return i>3&&o&&Object.defineProperty(t,e,o),o},eY=function(n){Xxe(t,n);function t(){return n!==null&&n.apply(this,arguments)||this}return t.prototype.createDisplayedGroups=function(e,r,i,o){for(var a=this,s=this.mapOldGroupsById(o),l=[],u=e,c=function(){var d=u;u=[];for(var p=0,h=function(w){var _=p;p=w;var x=d[_],b=x instanceof Vr?x.getProvidedColumnGroup():x,O=b.getOriginalParent();if(O==null){for(var T=_;T<w;T++)l.push(d[T]);return}for(var A=a.createColumnGroup(O,r,s,i),T=_;T<w;T++)A.addChild(d[T]);u.push(A)},f=1;f<d.length;f++){var v=d[f],g=v instanceof Vr?v.getProvidedColumnGroup():v,y=g.getOriginalParent(),m=d[p],C=m instanceof Vr?m.getProvidedColumnGroup():m,S=C.getOriginalParent();y!==S&&h(f)}p<d.length&&h(d.length)};u.length;)c();return this.setupParentsIntoColumns(l,null),l},t.prototype.createColumnGroup=function(e,r,i,o){var a=e.getGroupId(),s=r.getInstanceIdForKey(a),l=Vr.createUniqueId(a,s),u=i[l];return u&&u.getProvidedColumnGroup()!==e&&(u=null),ce(u)?u.reset():(u=new Vr(e,a,s,o),this.context.createBean(u)),u},t.prototype.mapOldGroupsById=function(e){var r={},i=function(o){o.forEach(function(a){if(a instanceof Vr){var s=a;r[a.getUniqueId()]=s,i(s.getChildren())}})};return e&&i(e),r},t.prototype.setupParentsIntoColumns=function(e,r){var i=this;e.forEach(function(o){if(o.setParent(r),o instanceof Vr){var a=o;i.setupParentsIntoColumns(a.getChildren(),a)}})},t=qxe([ae("displayedGroupCreator")],t),t}(q),Rc=function(n,t){var e=typeof Symbol=="function"&&n[Symbol.iterator];if(!e)return n;var r=e.call(n),i,o=[],a;try{for(;(t===void 0||t-- >0)&&!(i=r.next()).done;)o.push(i.value)}catch(s){a={error:s}}finally{try{i&&!i.done&&(e=r.return)&&e.call(r)}finally{if(a)throw a.error}}return o},Tc=function(n,t,e){if(e||arguments.length===2)for(var r=0,i=t.length,o;r<i;r++)(o||!(r in t))&&(o||(o=Array.prototype.slice.call(t,0,r)),o[r]=t[r]);return n.concat(o||Array.prototype.slice.call(t))},Zxe={enableBrowserTooltips:!0,tooltipTrigger:!0,tooltipMouseTrack:!0,tooltipInteraction:!0,defaultColGroupDef:!0,suppressAutoSize:!0,skipHeaderOnAutoSize:!0,autoSizeStrategy:!0,components:!0,stopEditingWhenCellsLoseFocus:!0,undoRedoCellEditing:!0,undoRedoCellEditingLimit:!0,excelStyles:!0,cacheQuickFilter:!0,excludeHiddenColumnsFromQuickFilter:!0,advancedFilterModel:!0,customChartThemes:!0,chartThemeOverrides:!0,enableChartToolPanelsButton:!0,suppressChartToolPanelsButton:!0,chartToolPanelsDef:!0,loadingCellRendererSelector:!0,localeText:!0,keepDetailRows:!0,keepDetailRowsCount:!0,detailRowHeight:!0,detailRowAutoHeight:!0,tabIndex:!0,valueCache:!0,valueCacheNeverExpires:!0,enableCellExpressions:!0,suppressParentsInRowNodes:!0,suppressTouch:!0,suppressAsyncEvents:!0,suppressBrowserResizeObserver:!0,suppressPropertyNamesCheck:!0,debug:!0,loadingOverlayComponent:!0,suppressLoadingOverlay:!0,noRowsOverlayComponent:!0,paginationPageSizeSelector:!0,paginateChildRows:!0,pivotPanelShow:!0,pivotSuppressAutoColumn:!0,suppressExpandablePivotGroups:!0,aggFuncs:!0,suppressAggFuncInHeader:!0,suppressAggAtRootLevel:!0,removePivotHeaderRowWhenSingleValueColumn:!0,allowShowChangeAfterFilter:!0,ensureDomOrder:!0,enableRtl:!0,suppressColumnVirtualisation:!0,suppressMaxRenderedRowRestriction:!0,suppressRowVirtualisation:!0,rowDragText:!0,suppressGroupMaintainValueType:!0,groupLockGroupColumns:!0,rowGroupPanelSuppressSort:!0,suppressGroupRowsSticky:!0,rowModelType:!0,cacheOverflowSize:!0,infiniteInitialRowCount:!0,serverSideInitialRowCount:!0,suppressServerSideInfiniteScroll:!0,maxBlocksInCache:!0,maxConcurrentDatasourceRequests:!0,blockLoadDebounceMillis:!0,serverSideOnlyRefreshFilteredGroups:!0,serverSidePivotResultFieldSeparator:!0,viewportRowModelPageSize:!0,viewportRowModelBufferSize:!0,debounceVerticalScrollbar:!0,suppressAnimationFrame:!0,suppressPreventDefaultOnMouseWheel:!0,scrollbarWidth:!0,icons:!0,suppressRowTransform:!0,gridId:!0,functionsPassive:!0,enableGroupEdit:!0,initialState:!0,processUnpinnedColumns:!0,createChartContainer:!0,getLocaleText:!0,getRowId:!0,reactiveCustomComponents:!0,columnMenu:!0},gs=function(){function n(){}return n.STRING_PROPERTIES=["rowSelection","overlayLoadingTemplate","overlayNoRowsTemplate","gridId","quickFilterText","rowModelType","editType","domLayout","clipboardDelimiter","rowGroupPanelShow","multiSortKey","pivotColumnGroupTotals","pivotRowTotals","pivotPanelShow","fillHandleDirection","groupDisplayType","treeDataDisplayType","colResizeDefault","tooltipTrigger","serverSidePivotResultFieldSeparator","columnMenu"],n.OBJECT_PROPERTIES=["components","rowStyle","context","autoGroupColumnDef","localeText","icons","datasource","serverSideDatasource","viewportDatasource","groupRowRendererParams","aggFuncs","fullWidthCellRendererParams","defaultColGroupDef","defaultColDef","defaultCsvExportParams","defaultExcelExportParams","columnTypes","rowClassRules","detailCellRendererParams","loadingCellRendererParams","loadingOverlayComponentParams","noRowsOverlayComponentParams","popupParent","statusBar","sideBar","chartThemeOverrides","customChartThemes","chartToolPanelsDef","dataTypeDefinitions","advancedFilterModel","advancedFilterParent","advancedFilterBuilderParams","initialState","autoSizeStrategy"],n.ARRAY_PROPERTIES=["sortingOrder","alignedGrids","rowData","columnDefs","excelStyles","pinnedTopRowData","pinnedBottomRowData","chartThemes","rowClass","paginationPageSizeSelector"],n.NUMBER_PROPERTIES=["rowHeight","detailRowHeight","rowBuffer","headerHeight","groupHeaderHeight","groupLockGroupColumns","floatingFiltersHeight","pivotHeaderHeight","pivotGroupHeaderHeight","groupDefaultExpanded","pivotDefaultExpanded","viewportRowModelPageSize","viewportRowModelBufferSize","autoSizePadding","maxBlocksInCache","maxConcurrentDatasourceRequests","tooltipShowDelay","tooltipHideDelay","cacheOverflowSize","paginationPageSize","cacheBlockSize","infiniteInitialRowCount","serverSideInitialRowCount","scrollbarWidth","asyncTransactionWaitMillis","blockLoadDebounceMillis","keepDetailRowsCount","undoRedoCellEditingLimit","cellFlashDelay","cellFadeDelay","cellFlashDuration","cellFadeDuration","tabIndex"],n.BOOLEAN_PROPERTIES=["suppressMakeColumnVisibleAfterUnGroup","suppressRowClickSelection","suppressCellFocus","suppressHeaderFocus","suppressHorizontalScroll","groupSelectsChildren","alwaysShowHorizontalScroll","alwaysShowVerticalScroll","debug","enableBrowserTooltips","enableCellExpressions","groupIncludeTotalFooter","groupSuppressBlankHeader","suppressMenuHide","suppressRowDeselection","unSortIcon","suppressMultiSort","alwaysMultiSort","singleClickEdit","suppressLoadingOverlay","suppressNoRowsOverlay","suppressAutoSize","skipHeaderOnAutoSize","suppressParentsInRowNodes","suppressColumnMoveAnimation","suppressMovableColumns","suppressFieldDotNotation","enableRangeSelection","enableRangeHandle","enableFillHandle","suppressClearOnFillReduction","deltaSort","suppressTouch","suppressAsyncEvents","allowContextMenuWithControlKey","suppressContextMenu","enableCellChangeFlash","suppressDragLeaveHidesColumns","suppressRowGroupHidesColumns","suppressMiddleClickScrolls","suppressPreventDefaultOnMouseWheel","suppressCopyRowsToClipboard","copyHeadersToClipboard","copyGroupHeadersToClipboard","pivotMode","suppressAggFuncInHeader","suppressColumnVirtualisation","alwaysAggregateAtRootLevel","suppressAggAtRootLevel","suppressFocusAfterRefresh","functionsPassive","functionsReadOnly","animateRows","groupSelectsFiltered","groupRemoveSingleChildren","groupRemoveLowestSingleChildren","enableRtl","suppressClickEdit","rowDragEntireRow","rowDragManaged","suppressRowDrag","suppressMoveWhenRowDragging","rowDragMultiRow","enableGroupEdit","embedFullWidthRows","suppressPaginationPanel","groupHideOpenParents","groupAllowUnbalanced","pagination","paginationAutoPageSize","suppressScrollOnNewData","suppressScrollWhenPopupsAreOpen","purgeClosedRowNodes","cacheQuickFilter","includeHiddenColumnsInQuickFilter","excludeHiddenColumnsFromQuickFilter","ensureDomOrder","accentedSort","suppressChangeDetection","valueCache","valueCacheNeverExpires","aggregateOnlyChangedColumns","suppressAnimationFrame","suppressExcelExport","suppressCsvExport","includeHiddenColumnsInAdvancedFilter","suppressMultiRangeSelection","enterMovesDown","enterMovesDownAfterEdit","enterNavigatesVerticallyAfterEdit","enterNavigatesVertically","suppressPropertyNamesCheck","rowMultiSelectWithClick","suppressRowHoverHighlight","suppressRowTransform","suppressClipboardPaste","suppressLastEmptyLineOnPaste","enableCharts","enableChartToolPanelsButton","suppressChartToolPanelsButton","suppressMaintainUnsortedOrder","enableCellTextSelection","suppressBrowserResizeObserver","suppressMaxRenderedRowRestriction","excludeChildrenWhenTreeDataFiltering","tooltipMouseTrack","tooltipInteraction","keepDetailRows","paginateChildRows","preventDefaultOnContextMenu","undoRedoCellEditing","allowDragFromColumnsToolPanel","pivotSuppressAutoColumn","suppressExpandablePivotGroups","debounceVerticalScrollbar","detailRowAutoHeight","serverSideFilterAllLevels","serverSideSortAllLevels","serverSideEnableClientSideSort","serverSideOnlyRefreshFilteredGroups","serverSideSortOnServer","serverSideFilterOnServer","suppressAggFilteredOnly","showOpenedGroup","suppressClipboardApi","suppressModelUpdateAfterUpdateTransaction","stopEditingWhenCellsLoseFocus","maintainColumnOrder","groupMaintainOrder","columnHoverHighlight","readOnlyEdit","suppressRowVirtualisation","enableCellEditingOnBackspace","resetRowDataOnUpdate","removePivotHeaderRowWhenSingleValueColumn","suppressCopySingleCellRanges","suppressGroupRowsSticky","suppressCutToClipboard","suppressServerSideInfiniteScroll","rowGroupPanelSuppressSort","allowShowChangeAfterFilter","enableAdvancedFilter","masterDetail","treeData","suppressGroupMaintainValueType","reactiveCustomComponents"],n.FUNCTIONAL_PROPERTIES=["doesExternalFilterPass","processPivotResultColDef","processPivotResultColGroupDef","getBusinessKeyForNode","isRowSelectable","rowDragText","groupRowRenderer","fullWidthCellRenderer","loadingCellRenderer","loadingOverlayComponent","noRowsOverlayComponent","detailCellRenderer","quickFilterParser","quickFilterMatcher"],n.CALLBACK_PROPERTIES=["getLocaleText","isExternalFilterPresent","getRowHeight","getRowClass","getRowStyle","getContextMenuItems","getMainMenuItems","processRowPostCreate","processCellForClipboard","getGroupRowAgg","isFullWidthRow","sendToClipboard","navigateToNextHeader","tabToNextHeader","navigateToNextCell","tabToNextCell","processCellFromClipboard","getDocument","postProcessPopup","getChildCount","getDataPath","isRowMaster","postSortRows","processHeaderForClipboard","processUnpinnedColumns","processGroupHeaderForClipboard","paginationNumberFormatter","processDataFromClipboard","getServerSideGroupKey","isServerSideGroup","createChartContainer","getChartToolbarItems","fillOperation","isApplyServerSideTransaction","getServerSideGroupLevelParams","isServerSideGroupOpenByDefault","isGroupOpenByDefault","initialGroupOrderComparator","groupIncludeFooter","loadingCellRendererSelector","getRowId","groupAggFiltering"],n.FUNCTION_PROPERTIES=Tc(Tc([],Rc(n.FUNCTIONAL_PROPERTIES),!1),Rc(n.CALLBACK_PROPERTIES),!1),n.ALL_PROPERTIES=Tc(Tc(Tc(Tc(Tc(Tc([],Rc(n.ARRAY_PROPERTIES),!1),Rc(n.OBJECT_PROPERTIES),!1),Rc(n.STRING_PROPERTIES),!1),Rc(n.NUMBER_PROPERTIES),!1),Rc(n.FUNCTION_PROPERTIES),!1),Rc(n.BOOLEAN_PROPERTIES),!1),n}(),wL=function(){return wL=Object.assign||function(n){for(var t,e=1,r=arguments.length;e<r;e++){t=arguments[e];for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(n[i]=t[i])}return n},wL.apply(this,arguments)},l3=function(n,t){var e=typeof Symbol=="function"&&n[Symbol.iterator];if(!e)return n;var r=e.call(n),i,o=[],a;try{for(;(t===void 0||t-- >0)&&!(i=r.next()).done;)o.push(i.value)}catch(s){a={error:s}}finally{try{i&&!i.done&&(e=r.return)&&e.call(r)}finally{if(a)throw a.error}}return o},u3=function(n,t,e){if(e||arguments.length===2)for(var r=0,i=t.length,o;r<i;r++)(o||!(r in t))&&(o||(o=Array.prototype.slice.call(t,0,r)),o[r]=t[r]);return n.concat(o||Array.prototype.slice.call(t))},Hk=function(){function n(){}n.getCallbackForEvent=function(e){return!e||e.length<2?e:"on"+e[0].toUpperCase()+e.substring(1)},n.getGridOptionKeys=function(){return this.ALL_PROPERTIES_AND_CALLBACKS},n.combineAttributesAndGridOptions=function(e,r){typeof e!="object"&&(e={});var i=wL({},e),o=n.getGridOptionKeys();return o.forEach(function(a){var s=r[a];typeof s<"u"&&s!==n.VUE_OMITTED_PROPERTY&&(i[a]=s)}),i},n.processOnChange=function(e,r){if(e){var i={},o=!1;if(Object.keys(e).filter(function(s){return n.ALL_PROPERTIES_AND_CALLBACKS_SET.has(s)}).forEach(function(s){i[s]=e[s],o=!0}),!!o){r.__internalUpdateGridOptions(i);var a={type:P.EVENT_COMPONENT_STATE_CHANGED};li(i,function(s,l){a[s]=l}),r.dispatchEvent(a)}}};var t;return t=n,n.EVENTS=xh(P),n.VUE_OMITTED_PROPERTY="AG-VUE-OMITTED-PROPERTY",n.EXCLUDED_INTERNAL_EVENTS=[P.EVENT_SCROLLBAR_WIDTH_CHANGED,P.EVENT_CHECKBOX_CHANGED,P.EVENT_HEIGHT_SCALE_CHANGED,P.EVENT_BODY_HEIGHT_CHANGED,P.EVENT_COLUMN_CONTAINER_WIDTH_CHANGED,P.EVENT_DISPLAYED_COLUMNS_WIDTH_CHANGED,P.EVENT_SCROLL_VISIBILITY_CHANGED,P.EVENT_COLUMN_HOVER_CHANGED,P.EVENT_FLASH_CELLS,P.EVENT_PAGINATION_PIXEL_OFFSET_CHANGED,P.EVENT_DISPLAYED_ROWS_CHANGED,P.EVENT_LEFT_PINNED_WIDTH_CHANGED,P.EVENT_RIGHT_PINNED_WIDTH_CHANGED,P.EVENT_ROW_CONTAINER_HEIGHT_CHANGED,P.EVENT_POPUP_TO_FRONT,P.EVENT_STORE_UPDATED,P.EVENT_COLUMN_PANEL_ITEM_DRAG_START,P.EVENT_COLUMN_PANEL_ITEM_DRAG_END,P.EVENT_FILL_START,P.EVENT_FILL_END,P.EVENT_KEY_SHORTCUT_CHANGED_CELL_START,P.EVENT_KEY_SHORTCUT_CHANGED_CELL_END,P.EVENT_FULL_WIDTH_ROW_FOCUSED,P.EVENT_HEADER_HEIGHT_CHANGED,P.EVENT_COLUMN_HEADER_HEIGHT_CHANGED,P.EVENT_CELL_FOCUS_CLEARED,P.EVENT_GRID_STYLES_CHANGED,P.EVENT_FILTER_DESTROYED,P.EVENT_ROW_DATA_UPDATE_STARTED,P.EVENT_ADVANCED_FILTER_ENABLED_CHANGED,P.EVENT_DATA_TYPES_INFERRED,P.EVENT_FIELD_VALUE_CHANGED,P.EVENT_FIELD_PICKER_VALUE_SELECTED,P.EVENT_SUPPRESS_COLUMN_MOVE_CHANGED,P.EVENT_SUPPRESS_MENU_HIDE_CHANGED,P.EVENT_SUPPRESS_FIELD_DOT_NOTATION,P.EVENT_ROW_COUNT_READY,P.EVENT_SIDE_BAR_UPDATED],n.PUBLIC_EVENTS=n.EVENTS.filter(function(e){return!Ps(n.EXCLUDED_INTERNAL_EVENTS,e)}),n.EVENT_CALLBACKS=n.EVENTS.map(function(e){return n.getCallbackForEvent(e)}),n.STRING_PROPERTIES=gs.STRING_PROPERTIES,n.OBJECT_PROPERTIES=gs.OBJECT_PROPERTIES,n.ARRAY_PROPERTIES=gs.ARRAY_PROPERTIES,n.NUMBER_PROPERTIES=gs.NUMBER_PROPERTIES,n.BOOLEAN_PROPERTIES=gs.BOOLEAN_PROPERTIES,n.FUNCTION_PROPERTIES=gs.FUNCTION_PROPERTIES,n.ALL_PROPERTIES=gs.ALL_PROPERTIES,n.ALL_PROPERTIES_AND_CALLBACKS=u3(u3([],l3(t.ALL_PROPERTIES),!1),l3(t.EVENT_CALLBACKS),!1),n.ALL_PROPERTIES_AND_CALLBACKS_SET=new Set(n.ALL_PROPERTIES_AND_CALLBACKS),n}(),Qxe=function(){var n=function(t,e){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])},n(t,e)};return function(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");n(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}}(),Jxe=function(n,t,e,r){var i=arguments.length,o=i<3?t:r===null?r=Object.getOwnPropertyDescriptor(t,e):r,a;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(n,t,e,r);else for(var s=n.length-1;s>=0;s--)(a=n[s])&&(o=(i<3?a(o):i>3?a(t,e,o):a(t,e))||o);return i>3&&o&&Object.defineProperty(t,e,o),o},tY=function(n){Qxe(t,n);function t(){var e=n!==null&&n.apply(this,arguments)||this;return e.componentsMappedByName={},e}return t.prototype.setupComponents=function(e){var r=this;e&&e.forEach(function(i){return r.addComponent(i)})},t.prototype.addComponent=function(e){var r=e.componentName.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase(),i=r.toUpperCase();this.componentsMappedByName[i]=e.componentClass},t.prototype.getComponentClass=function(e){return this.componentsMappedByName[e]},t=Jxe([ae("agStackComponentsRegistry")],t),t}(q);function es(n,t,e){e==null||typeof e=="string"&&e==""?jk(n,t):ts(n,t,e)}function ts(n,t,e){n.setAttribute(rY(t),e.toString())}function jk(n,t){n.removeAttribute(rY(t))}function rY(n){return"aria-".concat(n)}function on(n,t){t?n.setAttribute("role",t):n.removeAttribute("role")}function nY(n){var t;return n==="asc"?t="ascending":n==="desc"?t="descending":n==="mixed"?t="other":t="none",t}function eEe(n){return parseInt(n.getAttribute("aria-level"),10)}function iY(n){return parseInt(n.getAttribute("aria-posinset"),10)}function oY(n){return n.getAttribute("aria-label")}function Zd(n,t){es(n,"label",t)}function Lb(n,t){es(n,"labelledby",t)}function tEe(n,t){es(n,"describedby",t)}function $k(n,t){es(n,"live",t)}function aY(n,t){es(n,"atomic",t)}function sY(n,t){es(n,"relevant",t)}function lY(n,t){es(n,"level",t)}function Wk(n,t){es(n,"disabled",t)}function wT(n,t){es(n,"hidden",t)}function Uk(n,t){es(n,"activedescendant",t)}function Ju(n,t){ts(n,"expanded",t)}function uY(n){jk(n,"expanded")}function zk(n,t){ts(n,"setsize",t)}function Kk(n,t){ts(n,"posinset",t)}function cY(n,t){ts(n,"multiselectable",t)}function dY(n,t){ts(n,"rowcount",t)}function Yk(n,t){ts(n,"rowindex",t)}function pY(n,t){ts(n,"colcount",t)}function Xk(n,t){ts(n,"colindex",t)}function hY(n,t){ts(n,"colspan",t)}function fY(n,t){ts(n,"sort",t)}function vY(n){jk(n,"sort")}function wg(n,t){es(n,"selected",t)}function rEe(n,t){ts(n,"checked",t===void 0?"mixed":t)}function qk(n,t){es(n,"controls",t.id),Lb(t,n.id)}function Zk(n,t){return t===void 0?n("ariaIndeterminate","indeterminate"):t===!0?n("ariaChecked","checked"):n("ariaUnchecked","unchecked")}var nEe=Object.freeze({__proto__:null,setAriaRole:on,getAriaSortState:nY,getAriaLevel:eEe,getAriaPosInSet:iY,getAriaLabel:oY,setAriaLabel:Zd,setAriaLabelledBy:Lb,setAriaDescribedBy:tEe,setAriaLive:$k,setAriaAtomic:aY,setAriaRelevant:sY,setAriaLevel:lY,setAriaDisabled:Wk,setAriaHidden:wT,setAriaActiveDescendant:Uk,setAriaExpanded:Ju,removeAriaExpanded:uY,setAriaSetSize:zk,setAriaPosInSet:Kk,setAriaMultiSelectable:cY,setAriaRowCount:dY,setAriaRowIndex:Yk,setAriaColCount:pY,setAriaColIndex:Xk,setAriaColSpan:hY,setAriaSort:fY,removeAriaSort:vY,setAriaSelected:wg,setAriaChecked:rEe,setAriaControls:qk,getAriaCheckboxStateName:Zk}),FA,o_,LA,IA,NA,kA,_L,xL;function Xl(){return FA===void 0&&(FA=/^((?!chrome|android).)*safari/i.test(navigator.userAgent)),FA}function Qk(){if(o_===void 0)if(Xl()){var n=navigator.userAgent.match(/version\/(\d+)/i);n&&(o_=n[1]!=null?parseFloat(n[1]):0)}else o_=0;return o_}function _T(){if(LA===void 0){var n=window;LA=!!n.chrome&&(!!n.chrome.webstore||!!n.chrome.runtime)||/Chrome/.test(navigator.userAgent)&&/Google Inc/.test(navigator.vendor)}return LA}function Jk(){return IA===void 0&&(IA=/(firefox)/i.test(navigator.userAgent)),IA}function eG(){return NA===void 0&&(NA=/(Mac|iPhone|iPod|iPad)/i.test(navigator.platform)),NA}function cc(){return kA===void 0&&(kA=/iPad|iPhone|iPod/.test(navigator.platform)||navigator.platform==="MacIntel"&&navigator.maxTouchPoints>1),kA}function tG(){return!Xl()||Qk()>=15}function Ib(n){if(!n)return null;var t=n.tabIndex,e=n.getAttribute("tabIndex");return t===-1&&(e===null||e===""&&!Jk())?null:t.toString()}function gY(){if(!document.body)return-1;var n=1e6,t=navigator.userAgent.toLowerCase().match(/firefox/)?6e6:1e9,e=document.createElement("div");for(document.body.appendChild(e);;){var r=n*2;if(e.style.height=r+"px",r>t||e.clientHeight!==r)break;n=r}return document.body.removeChild(e),n}function yY(){var n,t,e;return(t=(n=document.body)===null||n===void 0?void 0:n.clientWidth)!==null&&t!==void 0?t:window.innerHeight||((e=document.documentElement)===null||e===void 0?void 0:e.clientWidth)||-1}function mY(){var n,t,e;return(t=(n=document.body)===null||n===void 0?void 0:n.clientHeight)!==null&&t!==void 0?t:window.innerHeight||((e=document.documentElement)===null||e===void 0?void 0:e.clientHeight)||-1}function CY(){return xL==null&&SY(),xL}function SY(){var n=document.body,t=document.createElement("div");t.style.width=t.style.height="100px",t.style.opacity="0",t.style.overflow="scroll",t.style.msOverflowStyle="scrollbar",t.style.position="absolute",n.appendChild(t);var e=t.offsetWidth-t.clientWidth;e===0&&t.clientWidth===0&&(e=null),t.parentNode&&t.parentNode.removeChild(t),e!=null&&(xL=e,_L=e===0)}function rG(){return _L==null&&SY(),_L}var iEe=Object.freeze({__proto__:null,isBrowserSafari:Xl,getSafariVersion:Qk,isBrowserChrome:_T,isBrowserFirefox:Jk,isMacOsUserAgent:eG,isIOSUserAgent:cc,browserSupportsPreventScroll:tG,getTabIndex:Ib,getMaxDivHeight:gY,getBodyWidth:yY,getBodyHeight:mY,getScrollbarWidth:CY,isInvisibleScrollbar:rG});function jv(n,t){return n.toString().padStart(t,"0")}function wY(n,t){for(var e=[],r=n;r<=t;r++)e.push(r);return e}function oEe(n){return typeof n=="string"&&(n=parseInt(n,10)),typeof n=="number"?Math.floor(n):null}function aEe(n,t){for(var e="",r=0;r<t;r++)e+=String.fromCharCode(n&255),n>>>=8;return e}function sEe(n,t,e){return typeof n!="number"?"":nG(Math.round(n*100)/100,t,e)}function nG(n,t,e){return typeof n!="number"?"":n.toString().replace(".",e).replace(/(\d)(?=(\d{3})+(?!\d))/g,"$1".concat(t))}function lEe(n){return n==null?null:n.reduce(function(t,e){return t+e},0)}var uEe=Object.freeze({__proto__:null,padStartWidthZeros:jv,createArrayOfNumbers:wY,cleanNumber:oEe,decToHex:aEe,formatNumberTwoDecimalPlacesAndCommas:sEe,formatNumberCommas:nG,sum:lEe}),GA=function(n,t){var e=typeof Symbol=="function"&&n[Symbol.iterator];if(!e)return n;var r=e.call(n),i,o=[],a;try{for(;(t===void 0||t-- >0)&&!(i=r.next()).done;)o.push(i.value)}catch(s){a={error:s}}finally{try{i&&!i.done&&(e=r.return)&&e.call(r)}finally{if(a)throw a.error}}return o};function Ha(n,t,e){if(t===void 0&&(t=!0),e===void 0&&(e="-"),!n)return null;var r=[n.getFullYear(),n.getMonth()+1,n.getDate()].map(function(i){return jv(i,2)}).join(e);return t&&(r+=" "+[n.getHours(),n.getMinutes(),n.getSeconds()].map(function(i){return jv(i,2)}).join(":")),r}var VA=function(n){if(n>3&&n<21)return"th";var t=n%10;switch(t){case 1:return"st";case 2:return"nd";case 3:return"rd"}return"th"};function $v(n,t){t===void 0&&(t="YYYY-MM-DD");var e=jv(n.getFullYear(),4),r=["January","February","March","April","May","June","July","August","September","October","November","December"],i=["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],o={YYYY:function(){return e.slice(e.length-4,e.length)},YY:function(){return e.slice(e.length-2,e.length)},Y:function(){return"".concat(n.getFullYear())},MMMM:function(){return r[n.getMonth()]},MMM:function(){return r[n.getMonth()].slice(0,3)},MM:function(){return jv(n.getMonth()+1,2)},Mo:function(){return"".concat(n.getMonth()+1).concat(VA(n.getMonth()+1))},M:function(){return"".concat(n.getMonth()+1)},Do:function(){return"".concat(n.getDate()).concat(VA(n.getDate()))},DD:function(){return jv(n.getDate(),2)},D:function(){return"".concat(n.getDate())},dddd:function(){return i[n.getDay()]},ddd:function(){return i[n.getDay()].slice(0,3)},dd:function(){return i[n.getDay()].slice(0,2)},do:function(){return"".concat(n.getDay()).concat(VA(n.getDay()))},d:function(){return"".concat(n.getDay())}},a=new RegExp(Object.keys(o).join("|"),"g");return t.replace(a,function(s){return s in o?o[s]():s})}function oo(n){if(!n)return null;var t=GA(n.split(" "),2),e=t[0],r=t[1];if(!e)return null;var i=e.split("-").map(function(f){return parseInt(f,10)});if(i.filter(function(f){return!isNaN(f)}).length!==3)return null;var o=GA(i,3),a=o[0],s=o[1],l=o[2],u=new Date(a,s-1,l);if(u.getFullYear()!==a||u.getMonth()!==s-1||u.getDate()!==l)return null;if(!r||r==="00:00:00")return u;var c=GA(r.split(":").map(function(f){return parseInt(f,10)}),3),d=c[0],p=c[1],h=c[2];return d>=0&&d<24&&u.setHours(d),p>=0&&p<60&&u.setMinutes(p),h>=0&&h<60&&u.setSeconds(h),u}var cEe=Object.freeze({__proto__:null,serialiseDate:Ha,dateToFormattedString:$v,parseDateTimeFromString:oo}),dEe=function(n){var t=typeof Symbol=="function"&&Symbol.iterator,e=t&&n[t],r=0;if(e)return e.call(n);if(n&&typeof n.length=="number")return{next:function(){return n&&r>=n.length&&(n=void 0),{value:n&&n[r++],done:!n}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")},pEe=function(n,t){var e=typeof Symbol=="function"&&n[Symbol.iterator];if(!e)return n;var r=e.call(n),i,o=[],a;try{for(;(t===void 0||t-- >0)&&!(i=r.next()).done;)o.push(i.value)}catch(s){a={error:s}}finally{try{i&&!i.done&&(e=r.return)&&e.call(r)}finally{if(a)throw a.error}}return o},a_;function EL(n,t,e){for(var r=n.parentElement,i=r&&r.firstChild;i;)t&&i.classList.toggle(t,i===n),e&&i.classList.toggle(e,i!==n),i=i.nextSibling}var _Y="[tabindex], input, select, button, textarea, [href]",iG="[disabled], .ag-disabled:not(.ag-button), .ag-disabled *";function oG(n){var t=Element.prototype.matches||Element.prototype.msMatchesSelector,e="input, select, button, textarea",r=t.call(n,e),i=t.call(n,iG),o=aa(n),a=r&&!i&&o;return a}function mt(n,t,e){e===void 0&&(e={});var r=e.skipAriaHidden;n.classList.toggle("ag-hidden",!t),r||wT(n,!t)}function xY(n,t,e){e===void 0&&(e={});var r=e.skipAriaHidden;n.classList.toggle("ag-invisible",!t),r||wT(n,!t)}function _g(n,t){var e="disabled",r=t?function(i){return i.setAttribute(e,"")}:function(i){return i.removeAttribute(e)};r(n),pG(n.querySelectorAll("input"),function(i){return r(i)})}function bh(n,t,e){for(var r=0;n;){if(n.classList.contains(t))return!0;if(n=n.parentElement,typeof e=="number"){if(++r>e)break}else if(n===e)break}return!1}function Qd(n){var t=window.getComputedStyle(n),e=t.height,r=t.width,i=t.borderTopWidth,o=t.borderRightWidth,a=t.borderBottomWidth,s=t.borderLeftWidth,l=t.paddingTop,u=t.paddingRight,c=t.paddingBottom,d=t.paddingLeft,p=t.marginTop,h=t.marginRight,f=t.marginBottom,v=t.marginLeft,g=t.boxSizing;return{height:parseFloat(e||"0"),width:parseFloat(r||"0"),borderTopWidth:parseFloat(i||"0"),borderRightWidth:parseFloat(o||"0"),borderBottomWidth:parseFloat(a||"0"),borderLeftWidth:parseFloat(s||"0"),paddingTop:parseFloat(l||"0"),paddingRight:parseFloat(u||"0"),paddingBottom:parseFloat(c||"0"),paddingLeft:parseFloat(d||"0"),marginTop:parseFloat(p||"0"),marginRight:parseFloat(h||"0"),marginBottom:parseFloat(f||"0"),marginLeft:parseFloat(v||"0"),boxSizing:g}}function Lw(n){var t=Qd(n);return t.boxSizing==="border-box"?t.height-t.paddingTop-t.paddingBottom:t.height}function rf(n){var t=Qd(n);return t.boxSizing==="border-box"?t.width-t.paddingLeft-t.paddingRight:t.width}function aG(n){var t=Qd(n),e=t.marginBottom+t.marginTop;return Math.ceil(n.offsetHeight+e)}function DS(n){var t=Qd(n),e=t.marginLeft+t.marginRight;return Math.ceil(n.offsetWidth+e)}function sG(n){var t=n.getBoundingClientRect(),e=Qd(n),r=e.borderTopWidth,i=e.borderLeftWidth,o=e.borderRightWidth,a=e.borderBottomWidth;return{top:t.top+(r||0),left:t.left+(i||0),right:t.right+(o||0),bottom:t.bottom+(a||0)}}function MS(){if(typeof a_=="boolean")return a_;var n=document.createElement("div");return n.style.direction="rtl",n.style.width="1px",n.style.height="1px",n.style.position="fixed",n.style.top="0px",n.style.overflow="hidden",n.dir="rtl",n.innerHTML=`<div style="width: 2px">
            <span style="display: inline-block; width: 1px"></span>
            <span style="display: inline-block; width: 1px"></span>
        </div>`,document.body.appendChild(n),n.scrollLeft=1,a_=Math.floor(n.scrollLeft)===0,document.body.removeChild(n),a_}function FS(n,t){var e=n.scrollLeft;return t&&(e=Math.abs(e),_T()&&!MS()&&(e=n.scrollWidth-n.clientWidth-e)),e}function LS(n,t,e){e&&(MS()?t*=-1:(Xl()||_T())&&(t=n.scrollWidth-n.clientWidth-t)),n.scrollLeft=t}function Sn(n){for(;n&&n.firstChild;)n.removeChild(n.firstChild)}function Ml(n){n&&n.parentNode&&n.parentNode.removeChild(n)}function lG(n){return!!n.offsetParent}function aa(n){var t=n;if(t.checkVisibility)return t.checkVisibility({checkVisibilityCSS:!0});var e=!lG(n)||window.getComputedStyle(n).visibility!=="visible";return!e}function ao(n){var t=document.createElement("div");return t.innerHTML=(n||"").trim(),t.firstChild}function uG(n,t,e){e&&e.nextSibling===t||(e?e.nextSibling?n.insertBefore(t,e.nextSibling):n.appendChild(t):n.firstChild&&n.firstChild!==t&&n.insertAdjacentElement("afterbegin",t))}function cG(n,t){for(var e=0;e<t.length;e++){var r=t[e],i=n.children[e];i!==r&&n.insertBefore(r,i)}}function EY(n,t,e){e?e.insertAdjacentElement("afterend",t):n.firstChild?n.insertAdjacentElement("afterbegin",t):n.appendChild(t)}function dG(n,t){var e,r;if(t)try{for(var i=dEe(Object.entries(t)),o=i.next();!o.done;o=i.next()){var a=pEe(o.value,2),s=a[0],l=a[1];if(!(!s||!s.length||l==null)){var u=Z7(s),c=l.toString(),d=c.replace(/\s*!important/g,""),p=d.length!=c.length?"important":void 0;n.style.setProperty(u,d,p)}}}catch(h){e={error:h}}finally{try{o&&!o.done&&(r=i.return)&&r.call(i)}finally{if(e)throw e.error}}}function bY(n){return n.clientWidth<n.scrollWidth}function OY(n){return n.clientHeight<n.scrollHeight}function IS(n,t){t==="flex"?(n.style.removeProperty("width"),n.style.removeProperty("minWidth"),n.style.removeProperty("maxWidth"),n.style.flex="1 1 auto"):ja(n,t)}function ja(n,t){t=xT(t),n.style.width=t.toString(),n.style.maxWidth=t.toString(),n.style.minWidth=t.toString()}function hEe(n,t){t==="flex"?(n.style.removeProperty("height"),n.style.removeProperty("minHeight"),n.style.removeProperty("maxHeight"),n.style.flex="1 1 auto"):Oh(n,t)}function Oh(n,t){t=xT(t),n.style.height=t.toString(),n.style.maxHeight=t.toString(),n.style.minHeight=t.toString()}function xT(n){return typeof n=="number"?"".concat(n,"px"):n}function Iw(n){return n instanceof Node||n instanceof HTMLElement}function RY(n){if(n==null)return[];var t=[];return pG(n,function(e){return t.push(e)}),t}function TY(n,t){if(n)for(var e=0;e<n.length;e++){var r=n[e];t(r.name,r.value)}}function $l(n,t,e){e==null?n.removeAttribute(t):n.setAttribute(t,e.toString())}function pG(n,t){if(n!=null)for(var e=0;e<n.length;e++)t(n[e])}function hG(n,t){n.then(function(e){var r=e.getGui();r!=null&&(typeof r=="object"?t.appendChild(r):t.innerHTML=r)})}var fEe=Object.freeze({__proto__:null,radioCssClass:EL,FOCUSABLE_SELECTOR:_Y,FOCUSABLE_EXCLUDE:iG,isFocusableFormField:oG,setDisplayed:mt,setVisible:xY,setDisabled:_g,isElementChildOfClass:bh,getElementSize:Qd,getInnerHeight:Lw,getInnerWidth:rf,getAbsoluteHeight:aG,getAbsoluteWidth:DS,getElementRectWithOffset:sG,isRtlNegativeScroll:MS,getScrollLeft:FS,setScrollLeft:LS,clearElement:Sn,removeFromParent:Ml,isInDOM:lG,isVisible:aa,loadTemplate:ao,ensureDomOrder:uG,setDomChildOrder:cG,insertWithDomOrder:EY,addStylesToElement:dG,isHorizontalScrollShowing:bY,isVerticalScrollShowing:OY,setElementWidth:IS,setFixedWidth:ja,setElementHeight:hEe,setFixedHeight:Oh,formatSize:xT,isNodeOrElement:Iw,copyNodeList:RY,iterateNamedNodeMap:TY,addOrRemoveAttribute:$l,nodeListForEach:pG,bindCellRendererToHtmlElement:hG}),vEe=function(n){var t=typeof Symbol=="function"&&Symbol.iterator,e=t&&n[t],r=0;if(e)return e.call(n);if(n&&typeof n.length=="number")return{next:function(){return n&&r>=n.length&&(n=void 0),{value:n&&n[r++],done:!n}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")};function PY(n,t,e){var r={},i=n.filter(function(o){return!t.some(function(a){return a===o})});return i.length>0&&i.forEach(function(o){return r[o]=Nw(o,e).values}),r}function Nw(n,t,e,r){var i,o,a=t.map(function(f,v){return{value:f,relevance:gEe(n.toLowerCase(),f.toLocaleLowerCase()),idx:v}});if(a.sort(function(f,v){return v.relevance-f.relevance}),e&&(a=a.filter(function(f){return f.relevance!==0})),a.length>0&&r&&r>0){var s=a[0].relevance,l=s*r;a=a.filter(function(f){return l-f.relevance<0})}var u=[],c=[];try{for(var d=vEe(a),p=d.next();!p.done;p=d.next()){var h=p.value;u.push(h.value),c.push(h.idx)}}catch(f){i={error:f}}finally{try{p&&!p.done&&(o=d.return)&&o.call(d)}finally{if(i)throw i.error}}return{values:u,indices:c}}function gEe(n,t){for(var e=n.replace(/\s/g,""),r=t.replace(/\s/g,""),i=0,o=-1,a=0;a<e.length;a++){var s=r.indexOf(e[a],o+1);s!==-1&&(o=s,i+=100-o*100/1e4*100)}return i}var yEe=Object.freeze({__proto__:null,fuzzyCheckStrings:PY,fuzzySuggestions:Nw}),AY={columnGroupOpened:"expanded",columnGroupClosed:"contracted",columnSelectClosed:"tree-closed",columnSelectOpen:"tree-open",columnSelectIndeterminate:"tree-indeterminate",columnMovePin:"pin",columnMoveHide:"eye-slash",columnMoveMove:"arrows",columnMoveLeft:"left",columnMoveRight:"right",columnMoveGroup:"group",columnMoveValue:"aggregation",columnMovePivot:"pivot",dropNotAllowed:"not-allowed",groupContracted:"tree-closed",groupExpanded:"tree-open",setFilterGroupClosed:"tree-closed",setFilterGroupOpen:"tree-open",setFilterGroupIndeterminate:"tree-indeterminate",chart:"chart",close:"cross",cancel:"cancel",check:"tick",first:"first",previous:"previous",next:"next",last:"last",linked:"linked",unlinked:"unlinked",colorPicker:"color-picker",groupLoading:"loading",menu:"menu",menuAlt:"menu-alt",filter:"filter",columns:"columns",maximize:"maximize",minimize:"minimize",menuPin:"pin",menuValue:"aggregation",menuAddRowGroup:"group",menuRemoveRowGroup:"group",clipboardCopy:"copy",clipboardCut:"cut",clipboardPaste:"paste",pivotPanel:"pivot",rowGroupPanel:"group",valuePanel:"aggregation",columnDrag:"grip",rowDrag:"grip",save:"save",csvExport:"csv",excelExport:"excel",smallDown:"small-down",smallLeft:"small-left",smallRight:"small-right",smallUp:"small-up",sortAscending:"asc",sortDescending:"desc",sortUnSort:"none",advancedFilterBuilder:"group",advancedFilterBuilderDrag:"grip",advancedFilterBuilderInvalid:"not-allowed",advancedFilterBuilderMoveUp:"up",advancedFilterBuilderMoveDown:"down",advancedFilterBuilderAdd:"plus",advancedFilterBuilderRemove:"minus"};function xa(n,t,e){var r=Wr(n,t,e);if(r){var i=r.className;if(typeof i=="string"&&i.indexOf("ag-icon")>-1||typeof i=="object"&&i["ag-icon"])return r}var o=document.createElement("span");return o.appendChild(r),o}function Wr(n,t,e,r){var i=null,o=e&&e.getColDef().icons;if(o&&(i=o[n]),t&&!i){var a=t.get("icons");a&&(i=a[n])}if(i){var s=void 0;if(typeof i=="function")s=i();else if(typeof i=="string")s=i;else throw new Error("icon from grid options needs to be a string or a function");if(typeof s=="string")return ao(s);if(Iw(s))return s;console.warn("AG Grid: iconRenderer should return back a string or a dom object")}else{var l=document.createElement("span"),u=AY[n];return u||(r?u=n:(console.warn("AG Grid: Did not find icon ".concat(n)),u="")),l.setAttribute("class","ag-icon ag-icon-".concat(u)),l.setAttribute("unselectable","on"),on(l,"presentation"),l}}var mEe=Object.freeze({__proto__:null,iconNameClassMap:AY,createIcon:xa,createIconNoSpan:Wr}),U=function(){function n(){}return n.BACKSPACE="Backspace",n.TAB="Tab",n.ENTER="Enter",n.ESCAPE="Escape",n.SPACE=" ",n.LEFT="ArrowLeft",n.UP="ArrowUp",n.RIGHT="ArrowRight",n.DOWN="ArrowDown",n.DELETE="Delete",n.F2="F2",n.PAGE_UP="PageUp",n.PAGE_DOWN="PageDown",n.PAGE_HOME="Home",n.PAGE_END="End",n.A="KeyA",n.C="KeyC",n.D="KeyD",n.V="KeyV",n.X="KeyX",n.Y="KeyY",n.Z="KeyZ",n}(),CEe=65,SEe=67,wEe=86,_Ee=68,xEe=90,EEe=89;function ET(n){if(n.altKey||n.ctrlKey||n.metaKey)return!1;var t=n.key.length===1;return t}function Nb(n,t,e,r,i){var o=r?r.getColDef().suppressKeyboardEvent:void 0;if(!o)return!1;var a=n.addGridCommonParams({event:t,editing:i,column:r,node:e,data:e.data,colDef:r.getColDef()});if(o){var s=o(a);if(s)return!0}return!1}function DY(n,t,e,r){var i=r.getDefinition(),o=i&&i.suppressHeaderKeyboardEvent;if(!ce(o))return!1;var a=n.addGridCommonParams({colDef:i,column:r,headerRowIndex:e,event:t});return!!o(a)}function MY(n){var t=n.keyCode,e;switch(t){case CEe:e=U.A;break;case SEe:e=U.C;break;case wEe:e=U.V;break;case _Ee:e=U.D;break;case xEe:e=U.Z;break;case EEe:e=U.Y;break;default:e=n.code}return e}function FY(n,t){return t===void 0&&(t=!1),n===U.DELETE?!0:!t&&n===U.BACKSPACE?eG():!1}var bEe=Object.freeze({__proto__:null,isEventFromPrintableCharacter:ET,isUserSuppressingKeyboardEvent:Nb,isUserSuppressingHeaderKeyboardEvent:DY,normaliseQwertyAzerty:MY,isDeleteKey:FY});function fG(n,t,e){if(e===0)return!1;var r=Math.abs(n.clientX-t.clientX),i=Math.abs(n.clientY-t.clientY);return Math.max(r,i)<=e}var OEe=Object.freeze({__proto__:null,areEventsNear:fG});function REe(n,t){if(!n)return!1;for(var e=function(s,l){var u=t[s.id],c=t[l.id],d=u!==void 0,p=c!==void 0,h=d&&p,f=!d&&!p;return h?u-c:f?s.__objectId-l.__objectId:d?1:-1},r,i,o=!1,a=0;a<n.length-1;a++)if(r=n[a],i=n[a+1],e(r,i)>0){o=!0;break}return o?(n.sort(e),!0):!1}var TEe=Object.freeze({__proto__:null,sortRowNodesByOrder:REe});function vG(n){var t=new Set;return n.forEach(function(e){return t.add(e)}),t}var PEe=Object.freeze({__proto__:null,convertToSet:vG}),Xr=function(){return Xr=Object.assign||function(n){for(var t,e=1,r=arguments.length;e<r;e++){t=arguments[e];for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(n[i]=t[i])}return n},Xr.apply(this,arguments)},AEe=Xr(Xr(Xr(Xr(Xr(Xr(Xr(Xr(Xr(Xr(Xr(Xr(Xr(Xr(Xr(Xr(Xr(Xr({},nEe),Txe),iEe),cEe),fEe),Axe),vxe),yEe),uxe),mEe),bEe),$xe),OEe),uEe),pxe),TEe),PEe),Bxe),D=AEe,Kn=function(){function n(t,e){t===void 0&&(t=0),e===void 0&&(e=1),this.nextValue=t,this.step=e}return n.prototype.next=function(){var t=this.nextValue;return this.nextValue+=this.step,t},n.prototype.peek=function(){return this.nextValue},n.prototype.skip=function(t){this.nextValue+=t},n}(),hh;(function(n){n[n.IN_PROGRESS=0]="IN_PROGRESS",n[n.RESOLVED=1]="RESOLVED"})(hh||(hh={}));var Qe=function(){function n(t){var e=this;this.status=hh.IN_PROGRESS,this.resolution=null,this.waiters=[],t(function(r){return e.onDone(r)},function(r){return e.onReject(r)})}return n.all=function(t){return new n(function(e){var r=t.length,i=new Array(r);t.forEach(function(o,a){o.then(function(s){i[a]=s,r--,r===0&&e(i)})})})},n.resolve=function(t){return t===void 0&&(t=null),new n(function(e){return e(t)})},n.prototype.then=function(t){var e=this;return new n(function(r){e.status===hh.RESOLVED?r(t(e.resolution)):e.waiters.push(function(i){return r(t(i))})})},n.prototype.resolveNow=function(t,e){return this.status===hh.RESOLVED?e(this.resolution):t},n.prototype.onDone=function(t){this.status=hh.RESOLVED,this.resolution=t,this.waiters.forEach(function(e){return e(t)})},n.prototype.onReject=function(t){console.warn("TBI")},n}(),DEe=function(){function n(){this.timestamp=new Date().getTime()}return n.prototype.print=function(t){var e=new Date().getTime()-this.timestamp;console.info("".concat(t," = ").concat(e)),this.timestamp=new Date().getTime()},n}(),MEe=function(){var n=function(t,e){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])},n(t,e)};return function(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");n(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}}(),Zp=function(){return Zp=Object.assign||function(n){for(var t,e=1,r=arguments.length;e<r;e++){t=arguments[e];for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(n[i]=t[i])}return n},Zp.apply(this,arguments)},BA=function(n,t,e,r){var i=arguments.length,o=i<3?t:r===null?r=Object.getOwnPropertyDescriptor(t,e):r,a;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(n,t,e,r);else for(var s=n.length-1;s>=0;s--)(a=n[s])&&(o=(i<3?a(o):i>3?a(t,e,o):a(t,e))||o);return i>3&&o&&Object.defineProperty(t,e,o),o},hs;(function(n){n[n.NOTHING=0]="NOTHING",n[n.WAITING_TO_SHOW=1]="WAITING_TO_SHOW",n[n.SHOWING=2]="SHOWING"})(hs||(hs={}));var gl;(function(n){n[n.HOVER=0]="HOVER",n[n.FOCUS=1]="FOCUS"})(gl||(gl={}));var gG=function(n){MEe(t,n);function t(e,r,i){var o=n.call(this)||this;return o.parentComp=e,o.tooltipShowDelayOverride=r,o.tooltipHideDelayOverride=i,o.SHOW_QUICK_TOOLTIP_DIFF=1e3,o.FADE_OUT_TOOLTIP_TIMEOUT=1e3,o.INTERACTIVE_HIDE_DELAY=100,o.interactionEnabled=!1,o.isInteractingWithTooltip=!1,o.state=hs.NOTHING,o.tooltipInstanceCount=0,o.tooltipMouseTrack=!1,o}return t.prototype.postConstruct=function(){this.gridOptionsService.get("tooltipInteraction")&&(this.interactionEnabled=!0),this.tooltipTrigger=this.getTooltipTrigger(),this.tooltipMouseTrack=this.gridOptionsService.get("tooltipMouseTrack");var e=this.parentComp.getGui();this.tooltipTrigger===gl.HOVER&&(this.addManagedListener(e,"mouseenter",this.onMouseEnter.bind(this)),this.addManagedListener(e,"mouseleave",this.onMouseLeave.bind(this))),this.tooltipTrigger===gl.FOCUS&&(this.addManagedListener(e,"focusin",this.onFocusIn.bind(this)),this.addManagedListener(e,"focusout",this.onFocusOut.bind(this))),this.addManagedListener(e,"mousemove",this.onMouseMove.bind(this)),this.interactionEnabled||(this.addManagedListener(e,"mousedown",this.onMouseDown.bind(this)),this.addManagedListener(e,"keydown",this.onKeyDown.bind(this)))},t.prototype.getGridOptionsTooltipDelay=function(e){var r=this.gridOptionsService.get(e);return r<0&&Le("".concat(e," should not be lower than 0")),Math.max(200,r)},t.prototype.getTooltipDelay=function(e){var r,i;return e==="show"?(r=this.tooltipShowDelayOverride)!==null&&r!==void 0?r:this.getGridOptionsTooltipDelay("tooltipShowDelay"):(i=this.tooltipHideDelayOverride)!==null&&i!==void 0?i:this.getGridOptionsTooltipDelay("tooltipHideDelay")},t.prototype.destroy=function(){this.setToDoNothing(),n.prototype.destroy.call(this)},t.prototype.getTooltipTrigger=function(){var e=this.gridOptionsService.get("tooltipTrigger");return!e||e==="hover"?gl.HOVER:gl.FOCUS},t.prototype.onMouseEnter=function(e){var r=this;this.interactionEnabled&&this.interactiveTooltipTimeoutId&&(this.unlockService(),this.startHideTimeout()),!cc()&&(t.isLocked?this.showTooltipTimeoutId=window.setTimeout(function(){r.prepareToShowTooltip(e)},this.INTERACTIVE_HIDE_DELAY):this.prepareToShowTooltip(e))},t.prototype.onMouseMove=function(e){this.lastMouseEvent&&(this.lastMouseEvent=e),this.tooltipMouseTrack&&this.state===hs.SHOWING&&this.tooltipComp&&this.positionTooltip()},t.prototype.onMouseDown=function(){this.setToDoNothing()},t.prototype.onMouseLeave=function(){this.interactionEnabled?this.lockService():this.setToDoNothing()},t.prototype.onFocusIn=function(){this.prepareToShowTooltip()},t.prototype.onFocusOut=function(e){var r,i=e.relatedTarget,o=this.parentComp.getGui(),a=(r=this.tooltipComp)===null||r===void 0?void 0:r.getGui();this.isInteractingWithTooltip||o.contains(i)||this.interactionEnabled&&(a!=null&&a.contains(i))||this.setToDoNothing()},t.prototype.onKeyDown=function(){this.setToDoNothing()},t.prototype.prepareToShowTooltip=function(e){if(this.state!=hs.NOTHING||t.isLocked)return!1;var r=0;return e&&(r=this.isLastTooltipHiddenRecently()?200:this.getTooltipDelay("show")),this.lastMouseEvent=e||null,this.showTooltipTimeoutId=window.setTimeout(this.showTooltip.bind(this),r),this.state=hs.WAITING_TO_SHOW,!0},t.prototype.isLastTooltipHiddenRecently=function(){var e=new Date().getTime(),r=t.lastTooltipHideTime;return e-r<this.SHOW_QUICK_TOOLTIP_DIFF},t.prototype.setToDoNothing=function(){this.state===hs.SHOWING&&this.hideTooltip(),this.onBodyScrollEventCallback&&(this.onBodyScrollEventCallback(),this.onBodyScrollEventCallback=void 0),this.onColumnMovedEventCallback&&(this.onColumnMovedEventCallback(),this.onColumnMovedEventCallback=void 0),this.clearTimeouts(),this.state=hs.NOTHING,this.lastMouseEvent=null},t.prototype.showTooltip=function(){var e=Zp({},this.parentComp.getTooltipParams());if(!ce(e.value)){this.setToDoNothing();return}this.state=hs.SHOWING,this.tooltipInstanceCount++;var r=this.newTooltipComponentCallback.bind(this,this.tooltipInstanceCount),i=this.userComponentFactory.getTooltipCompDetails(e);i.newAgStackInstance().then(r)},t.prototype.hideTooltip=function(e){if(!(!e&&this.isInteractingWithTooltip)){this.tooltipComp&&(this.destroyTooltipComp(),t.lastTooltipHideTime=new Date().getTime());var r={type:P.EVENT_TOOLTIP_HIDE,parentGui:this.parentComp.getGui()};this.eventService.dispatchEvent(r),this.state=hs.NOTHING}},t.prototype.newTooltipComponentCallback=function(e,r){var i=this.state!==hs.SHOWING||this.tooltipInstanceCount!==e;if(i){this.getContext().destroyBean(r);return}var o=r.getGui();this.tooltipComp=r,o.classList.contains("ag-tooltip")||o.classList.add("ag-tooltip-custom"),this.tooltipTrigger===gl.HOVER&&o.classList.add("ag-tooltip-animate"),this.interactionEnabled&&o.classList.add("ag-tooltip-interactive");var a=this.localeService.getLocaleTextFunc(),s=this.popupService.addPopup({eChild:o,ariaLabel:a("ariaLabelTooltip","Tooltip")});s&&(this.tooltipPopupDestroyFunc=s.hideFunc),this.positionTooltip(),this.tooltipTrigger===gl.FOCUS&&(this.onBodyScrollEventCallback=this.addManagedListener(this.eventService,P.EVENT_BODY_SCROLL,this.setToDoNothing.bind(this)),this.onColumnMovedEventCallback=this.addManagedListener(this.eventService,P.EVENT_COLUMN_MOVED,this.setToDoNothing.bind(this))),this.interactionEnabled&&(this.tooltipTrigger===gl.HOVER?(this.tooltipMouseEnterListener=this.addManagedListener(o,"mouseenter",this.onTooltipMouseEnter.bind(this))||null,this.tooltipMouseLeaveListener=this.addManagedListener(o,"mouseleave",this.onTooltipMouseLeave.bind(this))||null):(this.tooltipFocusInListener=this.addManagedListener(o,"focusin",this.onTooltipFocusIn.bind(this))||null,this.tooltipFocusOutListener=this.addManagedListener(o,"focusout",this.onTooltipFocusOut.bind(this))||null));var l={type:P.EVENT_TOOLTIP_SHOW,tooltipGui:o,parentGui:this.parentComp.getGui()};this.eventService.dispatchEvent(l),this.startHideTimeout()},t.prototype.onTooltipMouseEnter=function(){this.isInteractingWithTooltip=!0,this.unlockService()},t.prototype.onTooltipMouseLeave=function(){this.isInteractingWithTooltip=!1,this.lockService()},t.prototype.onTooltipFocusIn=function(){this.isInteractingWithTooltip=!0},t.prototype.onTooltipFocusOut=function(e){var r,i=this.parentComp.getGui(),o=(r=this.tooltipComp)===null||r===void 0?void 0:r.getGui(),a=e.relatedTarget;o!=null&&o.contains(a)||(this.isInteractingWithTooltip=!1,i.contains(a)?this.startHideTimeout():this.hideTooltip())},t.prototype.positionTooltip=function(){var e={type:"tooltip",ePopup:this.tooltipComp.getGui(),nudgeY:18,skipObserver:this.tooltipMouseTrack};this.lastMouseEvent?this.popupService.positionPopupUnderMouseEvent(Zp(Zp({},e),{mouseEvent:this.lastMouseEvent})):this.popupService.positionPopupByComponent(Zp(Zp({},e),{eventSource:this.parentComp.getGui(),position:"under",keepWithinBounds:!0,nudgeY:5}))},t.prototype.destroyTooltipComp=function(){var e=this;this.tooltipComp.getGui().classList.add("ag-tooltip-hiding");var r=this.tooltipPopupDestroyFunc,i=this.tooltipComp,o=this.tooltipTrigger===gl.HOVER?this.FADE_OUT_TOOLTIP_TIMEOUT:0;window.setTimeout(function(){r(),e.getContext().destroyBean(i)},o),this.clearTooltipListeners(),this.tooltipPopupDestroyFunc=void 0,this.tooltipComp=void 0},t.prototype.clearTooltipListeners=function(){[this.tooltipMouseEnterListener,this.tooltipMouseLeaveListener,this.tooltipFocusInListener,this.tooltipFocusOutListener].forEach(function(e){e&&e()}),this.tooltipMouseEnterListener=this.tooltipMouseLeaveListener=this.tooltipFocusInListener=this.tooltipFocusOutListener=null},t.prototype.lockService=function(){var e=this;t.isLocked=!0,this.interactiveTooltipTimeoutId=window.setTimeout(function(){e.unlockService(),e.setToDoNothing()},this.INTERACTIVE_HIDE_DELAY)},t.prototype.unlockService=function(){t.isLocked=!1,this.clearInteractiveTimeout()},t.prototype.startHideTimeout=function(){this.clearHideTimeout(),this.hideTooltipTimeoutId=window.setTimeout(this.hideTooltip.bind(this),this.getTooltipDelay("hide"))},t.prototype.clearShowTimeout=function(){this.showTooltipTimeoutId&&(window.clearTimeout(this.showTooltipTimeoutId),this.showTooltipTimeoutId=void 0)},t.prototype.clearHideTimeout=function(){this.hideTooltipTimeoutId&&(window.clearTimeout(this.hideTooltipTimeoutId),this.hideTooltipTimeoutId=void 0)},t.prototype.clearInteractiveTimeout=function(){this.interactiveTooltipTimeoutId&&(window.clearTimeout(this.interactiveTooltipTimeoutId),this.interactiveTooltipTimeoutId=void 0)},t.prototype.clearTimeouts=function(){this.clearShowTimeout(),this.clearHideTimeout(),this.clearInteractiveTimeout()},t.isLocked=!1,BA([E("popupService")],t.prototype,"popupService",void 0),BA([E("userComponentFactory")],t.prototype,"userComponentFactory",void 0),BA([z],t.prototype,"postConstruct",null),t}(q),LY=function(){function n(t){this.cssClassStates={},this.getGui=t}return n.prototype.addCssClass=function(t){var e=this,r=(t||"").split(" ");if(r.length>1){r.forEach(function(a){return e.addCssClass(a)});return}var i=this.cssClassStates[t]!==!0;if(i&&t.length){var o=this.getGui();o&&o.classList.add(t),this.cssClassStates[t]=!0}},n.prototype.removeCssClass=function(t){var e=this,r=(t||"").split(" ");if(r.length>1){r.forEach(function(a){return e.removeCssClass(a)});return}var i=this.cssClassStates[t]!==!1;if(i&&t.length){var o=this.getGui();o&&o.classList.remove(t),this.cssClassStates[t]=!1}},n.prototype.containsCssClass=function(t){var e=this.getGui();return e?e.classList.contains(t):!1},n.prototype.addOrRemoveCssClass=function(t,e){var r=this;if(t){if(t.indexOf(" ")>=0){var i=(t||"").split(" ");if(i.length>1){i.forEach(function(s){return r.addOrRemoveCssClass(s,e)});return}}var o=this.cssClassStates[t]!==e;if(o&&t.length){var a=this.getGui();a&&a.classList.toggle(t,e),this.cssClassStates[t]=e}}},n}(),FEe=function(){var n=function(t,e){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])},n(t,e)};return function(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");n(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}}(),HA=function(n,t,e,r){var i=arguments.length,o=i<3?t:r===null?r=Object.getOwnPropertyDescriptor(t,e):r,a;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(n,t,e,r);else for(var s=n.length-1;s>=0;s--)(a=n[s])&&(o=(i<3?a(o):i>3?a(t,e,o):a(t,e))||o);return i>3&&o&&Object.defineProperty(t,e,o),o},LEe=new Kn,de=function(n){FEe(t,n);function t(e){var r=n.call(this)||this;return r.displayed=!0,r.visible=!0,r.compId=LEe.next(),r.cssClassManager=new LY(function(){return r.eGui}),e&&r.setTemplate(e),r}return t.prototype.preConstructOnComponent=function(){this.usingBrowserTooltips=this.gridOptionsService.get("enableBrowserTooltips")},t.prototype.getCompId=function(){return this.compId},t.prototype.getTooltipParams=function(){return{value:this.tooltipText,location:"UNKNOWN"}},t.prototype.setTooltip=function(e,r,i){var o=this,a=function(){o.usingBrowserTooltips?o.getGui().removeAttribute("title"):o.tooltipFeature=o.destroyBean(o.tooltipFeature)},s=function(){o.usingBrowserTooltips?o.getGui().setAttribute("title",o.tooltipText):o.tooltipFeature=o.createBean(new gG(o,r,i))};this.tooltipText!=e&&(this.tooltipText&&a(),e!=null&&(this.tooltipText=e,this.tooltipText&&s()))},t.prototype.createChildComponentsFromTags=function(e,r){var i=this,o=RY(e.childNodes);o.forEach(function(a){if(a instanceof HTMLElement){var s=i.createComponentFromElement(a,function(u){var c=u.getGui();c&&i.copyAttributesFromNode(a,u.getGui())},r);if(s){if(s.addItems&&a.children.length){i.createChildComponentsFromTags(a,r);var l=Array.prototype.slice.call(a.children);s.addItems(l)}i.swapComponentForNode(s,e,a)}else a.childNodes&&i.createChildComponentsFromTags(a,r)}})},t.prototype.createComponentFromElement=function(e,r,i){var o=e.nodeName,a=i?i[e.getAttribute("ref")]:void 0,s=this.agStackComponentsRegistry.getComponentClass(o);if(s){t.elementGettingCreated=e;var l=new s(a);return l.setParentComponent(this),this.createBean(l,null,r),l}return null},t.prototype.copyAttributesFromNode=function(e,r){TY(e.attributes,function(i,o){return r.setAttribute(i,o)})},t.prototype.swapComponentForNode=function(e,r,i){var o=e.getGui();r.replaceChild(o,i),r.insertBefore(document.createComment(i.nodeName),o),this.addDestroyFunc(this.destroyBean.bind(this,e)),this.swapInComponentForQuerySelectors(e,i)},t.prototype.swapInComponentForQuerySelectors=function(e,r){var i=this;this.iterateOverQuerySelectors(function(o){i[o.attributeName]===r&&(i[o.attributeName]=e)})},t.prototype.iterateOverQuerySelectors=function(e){for(var r=Object.getPrototypeOf(this);r!=null;){var i=r.__agComponentMetaData,o=CT(r.constructor);i&&i[o]&&i[o].querySelectors&&i[o].querySelectors.forEach(function(a){return e(a)}),r=Object.getPrototypeOf(r)}},t.prototype.activateTabIndex=function(e){var r=this.gridOptionsService.get("tabIndex");e||(e=[]),e.length||e.push(this.getGui()),e.forEach(function(i){return i.setAttribute("tabindex",r.toString())})},t.prototype.setTemplate=function(e,r){var i=ao(e);this.setTemplateFromElement(i,r)},t.prototype.setTemplateFromElement=function(e,r){this.eGui=e,this.eGui.__agComponent=this,this.wireQuerySelectors(),this.getContext()&&this.createChildComponentsFromTags(this.getGui(),r)},t.prototype.createChildComponentsPreConstruct=function(){this.getGui()&&this.createChildComponentsFromTags(this.getGui())},t.prototype.wireQuerySelectors=function(){var e=this;if(this.eGui){var r=this;this.iterateOverQuerySelectors(function(i){var o=function(l){return r[i.attributeName]=l},a=i.refSelector&&e.getAttribute("ref")===i.refSelector;if(a)o(e.eGui);else{var s=e.eGui.querySelector(i.querySelector);s&&o(s.__agComponent||s)}})}},t.prototype.getGui=function(){return this.eGui},t.prototype.getFocusableElement=function(){return this.eGui},t.prototype.getAriaElement=function(){return this.getFocusableElement()},t.prototype.setParentComponent=function(e){this.parentComponent=e},t.prototype.getParentComponent=function(){return this.parentComponent},t.prototype.setGui=function(e){this.eGui=e},t.prototype.queryForHtmlElement=function(e){return this.eGui.querySelector(e)},t.prototype.queryForHtmlInputElement=function(e){return this.eGui.querySelector(e)},t.prototype.appendChild=function(e,r){if(e!=null)if(r||(r=this.eGui),Iw(e))r.appendChild(e);else{var i=e;r.appendChild(i.getGui())}},t.prototype.isDisplayed=function(){return this.displayed},t.prototype.setVisible=function(e,r){if(r===void 0&&(r={}),e!==this.visible){this.visible=e;var i=r.skipAriaHidden;xY(this.eGui,e,{skipAriaHidden:i})}},t.prototype.setDisplayed=function(e,r){if(r===void 0&&(r={}),e!==this.displayed){this.displayed=e;var i=r.skipAriaHidden;mt(this.eGui,e,{skipAriaHidden:i});var o={type:t.EVENT_DISPLAYED_CHANGED,visible:this.displayed};this.dispatchEvent(o)}},t.prototype.destroy=function(){this.tooltipFeature&&(this.tooltipFeature=this.destroyBean(this.tooltipFeature)),this.parentComponent&&(this.parentComponent=void 0);var e=this.eGui;e&&e.__agComponent&&(e.__agComponent=void 0),n.prototype.destroy.call(this)},t.prototype.addGuiEventListener=function(e,r,i){var o=this;this.eGui.addEventListener(e,r,i),this.addDestroyFunc(function(){return o.eGui.removeEventListener(e,r)})},t.prototype.addCssClass=function(e){this.cssClassManager.addCssClass(e)},t.prototype.removeCssClass=function(e){this.cssClassManager.removeCssClass(e)},t.prototype.containsCssClass=function(e){return this.cssClassManager.containsCssClass(e)},t.prototype.addOrRemoveCssClass=function(e,r){this.cssClassManager.addOrRemoveCssClass(e,r)},t.prototype.getAttribute=function(e){var r=this.eGui;return r?r.getAttribute(e):null},t.prototype.getRefElement=function(e){return this.queryForHtmlElement('[ref="'.concat(e,'"]'))},t.EVENT_DISPLAYED_CHANGED="displayedChanged",HA([E("agStackComponentsRegistry")],t.prototype,"agStackComponentsRegistry",void 0),HA([Hh],t.prototype,"preConstructOnComponent",null),HA([Hh],t.prototype,"createChildComponentsPreConstruct",null),t}(q);function IEe(n){return IY.bind(this,n,void 0)}function $(n){return IY.bind(this,"[ref=".concat(n,"]"),n)}function IY(n,t,e,r,i){if(n===null){console.error("AG Grid: QuerySelector selector should not be null");return}if(typeof i=="number"){console.error("AG Grid: QuerySelector should be on an attribute");return}NEe(e,"querySelectors",{attributeName:r,querySelector:n,refSelector:t})}function NEe(n,t,e){var r=kEe(n,CT(n.constructor));r[t]||(r[t]=[]),r[t].push(e)}function kEe(n,t){return n.__agComponentMetaData||(n.__agComponentMetaData={}),n.__agComponentMetaData[t]||(n.__agComponentMetaData[t]={}),n.__agComponentMetaData[t]}var GEe=function(){var n=function(t,e){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])},n(t,e)};return function(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");n(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}}(),c3=function(n,t,e,r){var i=arguments.length,o=i<3?t:r===null?r=Object.getOwnPropertyDescriptor(t,e):r,a;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(n,t,e,r);else for(var s=n.length-1;s>=0;s--)(a=n[s])&&(o=(i<3?a(o):i>3?a(t,e,o):a(t,e))||o);return i>3&&o&&Object.defineProperty(t,e,o),o},VEe=function(n){GEe(t,n);function t(){return n.call(this,`
            <div class="ag-floating-filter-input" role="presentation">
                <ag-input-text-field ref="eFloatingFilterText"></ag-input-text-field>
            </div>`)||this}return t.prototype.destroy=function(){n.prototype.destroy.call(this)},t.prototype.init=function(e){this.params=e;var r=this.columnModel.getDisplayNameForColumn(e.column,"header",!0),i=this.localeService.getLocaleTextFunc();this.eFloatingFilterText.setDisabled(!0).setInputAriaLabel("".concat(r," ").concat(i("ariaFilterInput","Filter Input")))},t.prototype.onParentModelChanged=function(e){var r=this;if(e==null){this.eFloatingFilterText.setValue("");return}this.params.parentFilterInstance(function(i){if(i.getModelAsString){var o=i.getModelAsString(e);r.eFloatingFilterText.setValue(o)}})},t.prototype.onParamsUpdated=function(e){this.refresh(e)},t.prototype.refresh=function(e){this.init(e)},c3([$("eFloatingFilterText")],t.prototype,"eFloatingFilterText",void 0),c3([E("columnModel")],t.prototype,"columnModel",void 0),t}(de),NY=function(){function n(t,e,r,i){var o=this;this.alive=!0,this.context=t,this.eParent=i;var a=e.getDateCompDetails(r),s=a.newAgStackInstance();s.then(function(l){if(!o.alive){t.destroyBean(l);return}o.dateComp=l,l&&(i.appendChild(l.getGui()),l.afterGuiAttached&&l.afterGuiAttached(),o.tempValue&&l.setDate(o.tempValue),o.disabled!=null&&o.setDateCompDisabled(o.disabled))})}return n.prototype.destroy=function(){this.alive=!1,this.dateComp=this.context.destroyBean(this.dateComp)},n.prototype.getDate=function(){return this.dateComp?this.dateComp.getDate():this.tempValue},n.prototype.setDate=function(t){this.dateComp?this.dateComp.setDate(t):this.tempValue=t},n.prototype.setDisabled=function(t){this.dateComp?this.setDateCompDisabled(t):this.disabled=t},n.prototype.setDisplayed=function(t){mt(this.eParent,t)},n.prototype.setInputPlaceholder=function(t){this.dateComp&&this.dateComp.setInputPlaceholder&&this.dateComp.setInputPlaceholder(t)},n.prototype.setInputAriaLabel=function(t){this.dateComp&&this.dateComp.setInputAriaLabel&&this.dateComp.setInputAriaLabel(t)},n.prototype.afterGuiAttached=function(t){this.dateComp&&typeof this.dateComp.afterGuiAttached=="function"&&this.dateComp.afterGuiAttached(t)},n.prototype.updateParams=function(t){var e,r,i=!1;if(!((e=this.dateComp)===null||e===void 0)&&e.refresh&&typeof this.dateComp.refresh=="function"){var o=this.dateComp.refresh(t);o!==null&&(i=!0)}if(!i&&(!((r=this.dateComp)===null||r===void 0)&&r.onParamsUpdated)&&typeof this.dateComp.onParamsUpdated=="function"){var o=this.dateComp.onParamsUpdated(t);o!==null&&Le("Custom date component method 'onParamsUpdated' is deprecated. Use 'refresh' instead.")}},n.prototype.setDateCompDisabled=function(t){this.dateComp!=null&&this.dateComp.setDisabled!=null&&this.dateComp.setDisabled(t)},n}(),kY=function(){function n(){this.customFilterOptions={}}return n.prototype.init=function(t,e){this.filterOptions=t.filterOptions||e,this.mapCustomOptions(),this.selectDefaultItem(t)},n.prototype.getFilterOptions=function(){return this.filterOptions},n.prototype.mapCustomOptions=function(){var t=this;this.filterOptions&&this.filterOptions.forEach(function(e){if(typeof e!="string"){var r=[["displayKey"],["displayName"],["predicate","test"]],i=function(o){return o.some(function(a){return e[a]!=null})?!0:(console.warn("AG Grid: ignoring FilterOptionDef as it doesn't contain one of '".concat(o,"'")),!1)};if(!r.every(i)){t.filterOptions=t.filterOptions.filter(function(o){return o===e})||[];return}t.customFilterOptions[e.displayKey]=e}})},n.prototype.selectDefaultItem=function(t){if(t.defaultOption)this.defaultOption=t.defaultOption;else if(this.filterOptions.length>=1){var e=this.filterOptions[0];typeof e=="string"?this.defaultOption=e:e.displayKey?this.defaultOption=e.displayKey:console.warn("AG Grid: invalid FilterOptionDef supplied as it doesn't contain a 'displayKey'")}else console.warn("AG Grid: no filter options for filter")},n.prototype.getDefaultOption=function(){return this.defaultOption},n.prototype.getCustomOption=function(t){return this.customFilterOptions[t]},n}(),GY={applyFilter:"Apply",clearFilter:"Clear",resetFilter:"Reset",cancelFilter:"Cancel",textFilter:"Text Filter",numberFilter:"Number Filter",dateFilter:"Date Filter",setFilter:"Set Filter",filterOoo:"Filter...",empty:"Choose one",equals:"Equals",notEqual:"Does not equal",lessThan:"Less than",greaterThan:"Greater than",inRange:"Between",inRangeStart:"From",inRangeEnd:"To",lessThanOrEqual:"Less than or equal to",greaterThanOrEqual:"Greater than or equal to",contains:"Contains",notContains:"Does not contain",startsWith:"Begins with",endsWith:"Ends with",blank:"Blank",notBlank:"Not blank",before:"Before",after:"After",andCondition:"AND",orCondition:"OR",dateFormatOoo:"yyyy-mm-dd"},BEe=function(){var n=function(t,e){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])},n(t,e)};return function(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");n(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}}(),bL=function(){return bL=Object.assign||function(n){for(var t,e=1,r=arguments.length;e<r;e++){t=arguments[e];for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(n[i]=t[i])}return n},bL.apply(this,arguments)},d3=function(n,t,e,r){var i=arguments.length,o=i<3?t:r===null?r=Object.getOwnPropertyDescriptor(t,e):r,a;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(n,t,e,r);else for(var s=n.length-1;s>=0;s--)(a=n[s])&&(o=(i<3?a(o):i>3?a(t,e,o):a(t,e))||o);return i>3&&o&&Object.defineProperty(t,e,o),o},eu=function(n){BEe(t,n);function t(e,r){r===void 0&&(r={});var i=n.call(this)||this;return i.eFocusableElement=e,i.callbacks=r,i.callbacks=bL({shouldStopEventPropagation:function(){return!1},onTabKeyDown:function(o){if(!o.defaultPrevented){var a=i.focusService.findNextFocusableElement(i.eFocusableElement,!1,o.shiftKey);a&&(a.focus(),o.preventDefault())}}},r),i}return t.prototype.postConstruct=function(){this.eFocusableElement.classList.add(t.FOCUS_MANAGED_CLASS),this.addKeyDownListeners(this.eFocusableElement),this.callbacks.onFocusIn&&this.addManagedListener(this.eFocusableElement,"focusin",this.callbacks.onFocusIn),this.callbacks.onFocusOut&&this.addManagedListener(this.eFocusableElement,"focusout",this.callbacks.onFocusOut)},t.prototype.addKeyDownListeners=function(e){var r=this;this.addManagedListener(e,"keydown",function(i){if(!(i.defaultPrevented||As(i))){if(r.callbacks.shouldStopEventPropagation(i)){Fs(i);return}i.key===U.TAB?r.callbacks.onTabKeyDown(i):r.callbacks.handleKeyDown&&r.callbacks.handleKeyDown(i)}})},t.FOCUS_MANAGED_CLASS="ag-focus-managed",d3([E("focusService")],t.prototype,"focusService",void 0),d3([z],t.prototype,"postConstruct",null),t}(q),HEe=function(){var n=function(t,e){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])},n(t,e)};return function(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");n(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}}(),jA=function(n,t,e,r){var i=arguments.length,o=i<3?t:r===null?r=Object.getOwnPropertyDescriptor(t,e):r,a;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(n,t,e,r);else for(var s=n.length-1;s>=0;s--)(a=n[s])&&(o=(i<3?a(o):i>3?a(t,e,o):a(t,e))||o);return i>3&&o&&Object.defineProperty(t,e,o),o},VY="ag-resizer-wrapper",jEe='<div class="'.concat(VY,`">
        <div ref="eTopLeftResizer" class="ag-resizer ag-resizer-topLeft"></div>
        <div ref="eTopResizer" class="ag-resizer ag-resizer-top"></div>
        <div ref="eTopRightResizer" class="ag-resizer ag-resizer-topRight"></div>
        <div ref="eRightResizer" class="ag-resizer ag-resizer-right"></div>
        <div ref="eBottomRightResizer" class="ag-resizer ag-resizer-bottomRight"></div>
        <div ref="eBottomResizer" class="ag-resizer ag-resizer-bottom"></div>
        <div ref="eBottomLeftResizer" class="ag-resizer ag-resizer-bottomLeft"></div>
        <div ref="eLeftResizer" class="ag-resizer ag-resizer-left"></div>
    </div>`),kw=function(n){HEe(t,n);function t(e,r){var i=n.call(this)||this;return i.element=e,i.dragStartPosition={x:0,y:0},i.position={x:0,y:0},i.lastSize={width:-1,height:-1},i.positioned=!1,i.resizersAdded=!1,i.resizeListeners=[],i.boundaryEl=null,i.isResizing=!1,i.isMoving=!1,i.resizable={},i.movable=!1,i.currentResizer=null,i.config=Object.assign({},{popup:!1},r),i}return t.prototype.center=function(){var e=this.offsetParent,r=e.clientHeight,i=e.clientWidth,o=i/2-this.getWidth()/2,a=r/2-this.getHeight()/2;this.offsetElement(o,a)},t.prototype.initialisePosition=function(){if(!this.positioned){var e=this.config,r=e.centered,i=e.forcePopupParentAsOffsetParent,o=e.minWidth,a=e.width,s=e.minHeight,l=e.height,u=e.x,c=e.y;this.offsetParent||this.setOffsetParent();var d=0,p=0,h=aa(this.element);if(h){var f=this.findBoundaryElement(),v=window.getComputedStyle(f);if(v.minWidth!=null){var g=f.offsetWidth-this.element.offsetWidth;p=parseInt(v.minWidth,10)-g}if(v.minHeight!=null){var y=f.offsetHeight-this.element.offsetHeight;d=parseInt(v.minHeight,10)-y}}if(this.minHeight=s||d,this.minWidth=o||p,a&&this.setWidth(a),l&&this.setHeight(l),(!a||!l)&&this.refreshSize(),r)this.center();else if(u||c)this.offsetElement(u,c);else if(h&&i){var f=this.boundaryEl,m=!0;if(f||(f=this.findBoundaryElement(),m=!1),f){var C=parseFloat(f.style.top),S=parseFloat(f.style.left);m?this.offsetElement(isNaN(S)?0:S,isNaN(C)?0:C):this.setPosition(S,C)}}this.positioned=!!this.offsetParent}},t.prototype.isPositioned=function(){return this.positioned},t.prototype.getPosition=function(){return this.position},t.prototype.setMovable=function(e,r){if(!(!this.config.popup||e===this.movable)){this.movable=e;var i=this.moveElementDragListener||{eElement:r,onDragStart:this.onMoveStart.bind(this),onDragging:this.onMove.bind(this),onDragStop:this.onMoveEnd.bind(this)};e?(this.dragService.addDragSource(i),this.moveElementDragListener=i):(this.dragService.removeDragSource(i),this.moveElementDragListener=void 0)}},t.prototype.setResizable=function(e){var r=this;if(this.clearResizeListeners(),e?this.addResizers():this.removeResizers(),typeof e=="boolean"){if(e===!1)return;e={topLeft:e,top:e,topRight:e,right:e,bottomRight:e,bottom:e,bottomLeft:e,left:e}}Object.keys(e).forEach(function(i){var o=e,a=!!o[i],s=r.getResizerElement(i),l={dragStartPixels:0,eElement:s,onDragStart:function(u){return r.onResizeStart(u,i)},onDragging:r.onResize.bind(r),onDragStop:function(u){return r.onResizeEnd(u,i)}};(a||!r.isAlive()&&!a)&&(a?(r.dragService.addDragSource(l),r.resizeListeners.push(l),s.style.pointerEvents="all"):s.style.pointerEvents="none",r.resizable[i]=a)})},t.prototype.removeSizeFromEl=function(){this.element.style.removeProperty("height"),this.element.style.removeProperty("width"),this.element.style.removeProperty("flex")},t.prototype.restoreLastSize=function(){this.element.style.flex="0 0 auto";var e=this.lastSize,r=e.height,i=e.width;i!==-1&&(this.element.style.width="".concat(i,"px")),r!==-1&&(this.element.style.height="".concat(r,"px"))},t.prototype.getHeight=function(){return this.element.offsetHeight},t.prototype.setHeight=function(e){var r=this.config.popup,i=this.element,o=!1;if(typeof e=="string"&&e.indexOf("%")!==-1)Oh(i,e),e=aG(i),o=!0;else if(e=Math.max(this.minHeight,e),this.positioned){var a=this.getAvailableHeight();a&&e>a&&(e=a)}this.getHeight()!==e&&(o?(i.style.maxHeight="unset",i.style.minHeight="unset"):r?Oh(i,e):(i.style.height="".concat(e,"px"),i.style.flex="0 0 auto",this.lastSize.height=typeof e=="number"?e:parseFloat(e)))},t.prototype.getAvailableHeight=function(){var e=this.config,r=e.popup,i=e.forcePopupParentAsOffsetParent;this.positioned||this.initialisePosition();var o=this.offsetParent.clientHeight;if(!o)return null;var a=this.element.getBoundingClientRect(),s=this.offsetParent.getBoundingClientRect(),l=r?this.position.y:a.top,u=r?0:s.top,c=0;if(i){var d=this.element.parentElement;if(d){var p=d.getBoundingClientRect().bottom;c=p-a.bottom}}var h=o+u-l-c;return h},t.prototype.getWidth=function(){return this.element.offsetWidth},t.prototype.setWidth=function(e){var r=this.element,i=this.config.popup,o=!1;if(typeof e=="string"&&e.indexOf("%")!==-1)ja(r,e),e=DS(r),o=!0;else if(this.positioned){e=Math.max(this.minWidth,e);var a=this.offsetParent.clientWidth,s=i?this.position.x:this.element.getBoundingClientRect().left;a&&e+s>a&&(e=a-s)}this.getWidth()!==e&&(o?(r.style.maxWidth="unset",r.style.minWidth="unset"):this.config.popup?ja(r,e):(r.style.width="".concat(e,"px"),r.style.flex=" unset",this.lastSize.width=typeof e=="number"?e:parseFloat(e)))},t.prototype.offsetElement=function(e,r){e===void 0&&(e=0),r===void 0&&(r=0);var i=this.config.forcePopupParentAsOffsetParent,o=i?this.boundaryEl:this.element;o&&(this.popupService.positionPopup({ePopup:o,keepWithinBounds:!0,skipObserver:this.movable||this.isResizable(),updatePosition:function(){return{x:e,y:r}}}),this.setPosition(parseFloat(o.style.left),parseFloat(o.style.top)))},t.prototype.constrainSizeToAvailableHeight=function(e){var r=this;if(this.config.forcePopupParentAsOffsetParent){var i=function(){var o=r.getAvailableHeight();r.element.style.setProperty("max-height","".concat(o,"px"))};e?this.resizeObserverSubscriber=this.resizeObserverService.observeResize(this.popupService.getPopupParent(),i):(this.element.style.removeProperty("max-height"),this.resizeObserverSubscriber&&(this.resizeObserverSubscriber(),this.resizeObserverSubscriber=void 0))}},t.prototype.setPosition=function(e,r){this.position.x=e,this.position.y=r},t.prototype.updateDragStartPosition=function(e,r){this.dragStartPosition={x:e,y:r}},t.prototype.calculateMouseMovement=function(e){var r=e.e,i=e.isLeft,o=e.isTop,a=e.anywhereWithin,s=e.topBuffer,l=r.clientX-this.dragStartPosition.x,u=r.clientY-this.dragStartPosition.y,c=this.shouldSkipX(r,!!i,!!a,l)?0:l,d=this.shouldSkipY(r,!!o,s,u)?0:u;return{movementX:c,movementY:d}},t.prototype.shouldSkipX=function(e,r,i,o){var a=this.element.getBoundingClientRect(),s=this.offsetParent.getBoundingClientRect(),l=this.boundaryEl.getBoundingClientRect(),u=this.config.popup?this.position.x:a.left,c=u<=0&&s.left>=e.clientX||s.right<=e.clientX&&s.right<=l.right;return c?!0:(r?c=o<0&&e.clientX>u+s.left||o>0&&e.clientX<u+s.left:i?c=o<0&&e.clientX>l.right||o>0&&e.clientX<u+s.left:c=o<0&&e.clientX>l.right||o>0&&e.clientX<l.right,c)},t.prototype.shouldSkipY=function(e,r,i,o){i===void 0&&(i=0);var a=this.element.getBoundingClientRect(),s=this.offsetParent.getBoundingClientRect(),l=this.boundaryEl.getBoundingClientRect(),u=this.config.popup?this.position.y:a.top,c=u<=0&&s.top>=e.clientY||s.bottom<=e.clientY&&s.bottom<=l.bottom;return c?!0:(r?c=o<0&&e.clientY>u+s.top+i||o>0&&e.clientY<u+s.top:c=o<0&&e.clientY>l.bottom||o>0&&e.clientY<l.bottom,c)},t.prototype.createResizeMap=function(){var e=this.element;this.resizerMap={topLeft:{element:e.querySelector("[ref=eTopLeftResizer]")},top:{element:e.querySelector("[ref=eTopResizer]")},topRight:{element:e.querySelector("[ref=eTopRightResizer]")},right:{element:e.querySelector("[ref=eRightResizer]")},bottomRight:{element:e.querySelector("[ref=eBottomRightResizer]")},bottom:{element:e.querySelector("[ref=eBottomResizer]")},bottomLeft:{element:e.querySelector("[ref=eBottomLeftResizer]")},left:{element:e.querySelector("[ref=eLeftResizer]")}}},t.prototype.addResizers=function(){if(!this.resizersAdded){var e=this.element;if(e){var r=new DOMParser,i=r.parseFromString(jEe,"text/html").body;e.appendChild(i.firstChild),this.createResizeMap(),this.resizersAdded=!0}}},t.prototype.removeResizers=function(){this.resizerMap=void 0;var e=this.element.querySelector(".".concat(VY));e&&this.element.removeChild(e),this.resizersAdded=!1},t.prototype.getResizerElement=function(e){return this.resizerMap[e].element},t.prototype.onResizeStart=function(e,r){this.boundaryEl=this.findBoundaryElement(),this.positioned||this.initialisePosition(),this.currentResizer={isTop:!!r.match(/top/i),isRight:!!r.match(/right/i),isBottom:!!r.match(/bottom/i),isLeft:!!r.match(/left/i)},this.element.classList.add("ag-resizing"),this.resizerMap[r].element.classList.add("ag-active");var i=this.config,o=i.popup,a=i.forcePopupParentAsOffsetParent;!o&&!a&&this.applySizeToSiblings(this.currentResizer.isBottom||this.currentResizer.isTop),this.isResizing=!0,this.updateDragStartPosition(e.clientX,e.clientY)},t.prototype.getSiblings=function(){var e=this.element,r=e.parentElement;return r?Array.prototype.slice.call(r.children).filter(function(i){return!i.classList.contains("ag-hidden")}):null},t.prototype.getMinSizeOfSiblings=function(){for(var e=this.getSiblings()||[],r=0,i=0,o=0;o<e.length;o++){var a=e[o],s=!!a.style.flex&&a.style.flex!=="0 0 auto";if(a!==this.element){var l=this.minHeight||0,u=this.minWidth||0;if(s){var c=window.getComputedStyle(a);c.minHeight&&(l=parseInt(c.minHeight,10)),c.minWidth&&(u=parseInt(c.minWidth,10))}else l=a.offsetHeight,u=a.offsetWidth;r+=l,i+=u}}return{height:r,width:i}},t.prototype.applySizeToSiblings=function(e){var r=null,i=this.getSiblings();if(i){for(var o=0;o<i.length;o++){var a=i[o];a!==r&&(e?a.style.height="".concat(a.offsetHeight,"px"):a.style.width="".concat(a.offsetWidth,"px"),a.style.flex="0 0 auto",a===this.element&&(r=i[o+1]))}r&&(r.style.removeProperty("height"),r.style.removeProperty("min-height"),r.style.removeProperty("max-height"),r.style.flex="1 1 auto")}},t.prototype.isResizable=function(){return Object.values(this.resizable).some(function(e){return e})},t.prototype.onResize=function(e){if(!(!this.isResizing||!this.currentResizer)){var r=this.config,i=r.popup,o=r.forcePopupParentAsOffsetParent,a=this.currentResizer,s=a.isTop,l=a.isRight,u=a.isBottom,c=a.isLeft,d=l||c,p=u||s,h=this.calculateMouseMovement({e,isLeft:c,isTop:s}),f=h.movementX,v=h.movementY,g=this.position.x,y=this.position.y,m=0,C=0;if(d&&f){var S=c?-1:1,w=this.getWidth(),_=w+f*S,x=!1;c&&(m=w-_,(g+m<=0||_<=this.minWidth)&&(x=!0,m=0)),x||this.setWidth(_)}if(p&&v){var S=s?-1:1,b=this.getHeight(),O=b+v*S,T=!1;s?(C=b-O,(y+C<=0||O<=this.minHeight)&&(T=!0,C=0)):!this.config.popup&&!this.config.forcePopupParentAsOffsetParent&&b<O&&this.getMinSizeOfSiblings().height+O>this.element.parentElement.offsetHeight&&(T=!0),T||this.setHeight(O)}this.updateDragStartPosition(e.clientX,e.clientY),((i||o)&&m||C)&&this.offsetElement(g+m,y+C)}},t.prototype.onResizeEnd=function(e,r){this.isResizing=!1,this.currentResizer=null,this.boundaryEl=null;var i={type:"resize"};this.element.classList.remove("ag-resizing"),this.resizerMap[r].element.classList.remove("ag-active"),this.dispatchEvent(i)},t.prototype.refreshSize=function(){var e=this.element;this.config.popup&&(this.config.width||this.setWidth(e.offsetWidth),this.config.height||this.setHeight(e.offsetHeight))},t.prototype.onMoveStart=function(e){this.boundaryEl=this.findBoundaryElement(),this.positioned||this.initialisePosition(),this.isMoving=!0,this.element.classList.add("ag-moving"),this.updateDragStartPosition(e.clientX,e.clientY)},t.prototype.onMove=function(e){if(this.isMoving){var r=this.position,i=r.x,o=r.y,a;this.config.calculateTopBuffer&&(a=this.config.calculateTopBuffer());var s=this.calculateMouseMovement({e,isTop:!0,anywhereWithin:!0,topBuffer:a}),l=s.movementX,u=s.movementY;this.offsetElement(i+l,o+u),this.updateDragStartPosition(e.clientX,e.clientY)}},t.prototype.onMoveEnd=function(){this.isMoving=!1,this.boundaryEl=null,this.element.classList.remove("ag-moving")},t.prototype.setOffsetParent=function(){this.config.forcePopupParentAsOffsetParent?this.offsetParent=this.popupService.getPopupParent():this.offsetParent=this.element.offsetParent},t.prototype.findBoundaryElement=function(){for(var e=this.element;e;){if(window.getComputedStyle(e).position!=="static")return e;e=e.parentElement}return this.element},t.prototype.clearResizeListeners=function(){for(;this.resizeListeners.length;){var e=this.resizeListeners.pop();this.dragService.removeDragSource(e)}},t.prototype.destroy=function(){n.prototype.destroy.call(this),this.moveElementDragListener&&this.dragService.removeDragSource(this.moveElementDragListener),this.constrainSizeToAvailableHeight(!1),this.clearResizeListeners(),this.removeResizers()},jA([E("popupService")],t.prototype,"popupService",void 0),jA([E("resizeObserverService")],t.prototype,"resizeObserverService",void 0),jA([E("dragService")],t.prototype,"dragService",void 0),t}(q),$Ee=function(){var n=function(t,e){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])},n(t,e)};return function(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");n(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}}(),$A=function(n,t,e,r){var i=arguments.length,o=i<3?t:r===null?r=Object.getOwnPropertyDescriptor(t,e):r,a;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(n,t,e,r);else for(var s=n.length-1;s>=0;s--)(a=n[s])&&(o=(i<3?a(o):i>3?a(t,e,o):a(t,e))||o);return i>3&&o&&Object.defineProperty(t,e,o),o},Vd=function(n){$Ee(t,n);function t(e){var r=n.call(this)||this;return r.filterNameKey=e,r.applyActive=!1,r.hidePopup=null,r.debouncePending=!1,r.appliedModel=null,r.buttonListeners=[],r}return t.prototype.postConstruct=function(){this.resetTemplate(),this.createManagedBean(new eu(this.getFocusableElement(),{handleKeyDown:this.handleKeyDown.bind(this)})),this.positionableFeature=new kw(this.getPositionableElement(),{forcePopupParentAsOffsetParent:!0}),this.createBean(this.positionableFeature)},t.prototype.handleKeyDown=function(e){},t.prototype.getFilterTitle=function(){return this.translate(this.filterNameKey)},t.prototype.isFilterActive=function(){return!!this.appliedModel},t.prototype.resetTemplate=function(e){var r=this.getGui();r&&r.removeEventListener("submit",this.onFormSubmit);var i=`
            <form class="ag-filter-wrapper">
                <div class="ag-filter-body-wrapper ag-`.concat(this.getCssIdentifier(),`-body-wrapper" ref="eFilterBody">
                    `).concat(this.createBodyTemplate(),`
                </div>
            </form>`);this.setTemplate(i,e),r=this.getGui(),r&&r.addEventListener("submit",this.onFormSubmit)},t.prototype.isReadOnly=function(){return!!this.providedFilterParams.readOnly},t.prototype.init=function(e){var r=this;this.setParams(e),this.resetUiToDefaults(!0).then(function(){r.updateUiVisibility(),r.setupOnBtApplyDebounce()})},t.prototype.setParams=function(e){this.providedFilterParams=e,this.applyActive=t.isUseApplyButton(e),this.resetButtonsPanel()},t.prototype.updateParams=function(e){var r=this;this.providedFilterParams=e,this.applyActive=t.isUseApplyButton(e),this.resetUiToActiveModel(this.getModel(),function(){r.updateUiVisibility(),r.setupOnBtApplyDebounce()})},t.prototype.resetButtonsPanel=function(){var e=this,r=this.providedFilterParams.buttons,i=r&&r.length>0&&!this.isReadOnly();if(this.eButtonsPanel?(Sn(this.eButtonsPanel),this.buttonListeners.forEach(function(s){return s==null?void 0:s()}),this.buttonListeners=[]):i&&(this.eButtonsPanel=document.createElement("div"),this.eButtonsPanel.classList.add("ag-filter-apply-panel")),!i){this.eButtonsPanel&&Ml(this.eButtonsPanel);return}var o=document.createDocumentFragment(),a=function(s){var l,u;switch(s){case"apply":l=e.translate("applyFilter"),u=function(p){return e.onBtApply(!1,!1,p)};break;case"clear":l=e.translate("clearFilter"),u=function(){return e.onBtClear()};break;case"reset":l=e.translate("resetFilter"),u=function(){return e.onBtReset()};break;case"cancel":l=e.translate("cancelFilter"),u=function(p){e.onBtCancel(p)};break;default:console.warn("AG Grid: Unknown button type specified");return}var c=s==="apply"?"submit":"button",d=ao(`<button
                    type="`.concat(c,`"
                    ref="`).concat(s,`FilterButton"
                    class="ag-button ag-standard-button ag-filter-apply-panel-button"
                >`).concat(l,`
                </button>`));e.buttonListeners.push(e.addManagedListener(d,"click",u)),o.append(d)};vG(r).forEach(function(s){return a(s)}),this.eButtonsPanel.append(o),this.getGui().appendChild(this.eButtonsPanel)},t.prototype.getDefaultDebounceMs=function(){return 0},t.prototype.setupOnBtApplyDebounce=function(){var e=this,r=t.getDebounceMs(this.providedFilterParams,this.getDefaultDebounceMs()),i=Qo(this.checkApplyDebounce.bind(this),r);this.onBtApplyDebounce=function(){e.debouncePending=!0,i()}},t.prototype.checkApplyDebounce=function(){this.debouncePending&&(this.debouncePending=!1,this.onBtApply())},t.prototype.getModel=function(){return this.appliedModel?this.appliedModel:null},t.prototype.setModel=function(e){var r=this,i=e!=null?this.setModelIntoUi(e):this.resetUiToDefaults();return i.then(function(){r.updateUiVisibility(),r.applyModel("api")})},t.prototype.onBtCancel=function(e){var r=this;this.resetUiToActiveModel(this.getModel(),function(){r.handleCancelEnd(e)})},t.prototype.handleCancelEnd=function(e){this.providedFilterParams.closeOnApply&&this.close(e)},t.prototype.resetUiToActiveModel=function(e,r){var i=this,o=function(){i.onUiChanged(!1,"prevent"),r==null||r()};e!=null?this.setModelIntoUi(e).then(o):this.resetUiToDefaults().then(o)},t.prototype.onBtClear=function(){var e=this;this.resetUiToDefaults().then(function(){return e.onUiChanged()})},t.prototype.onBtReset=function(){this.onBtClear(),this.onBtApply()},t.prototype.applyModel=function(e){var r=this.getModelFromUi();if(!this.isModelValid(r))return!1;var i=this.appliedModel;return this.appliedModel=r,!this.areModelsEqual(i,r)},t.prototype.isModelValid=function(e){return!0},t.prototype.onFormSubmit=function(e){e.preventDefault()},t.prototype.onBtApply=function(e,r,i){if(e===void 0&&(e=!1),r===void 0&&(r=!1),i&&i.preventDefault(),this.applyModel(r?"rowDataUpdated":"ui")){var o="columnFilter";this.providedFilterParams.filterChangedCallback({afterFloatingFilter:e,afterDataChange:r,source:o})}var a=this.providedFilterParams.closeOnApply;a&&this.applyActive&&!e&&!r&&this.close(i)},t.prototype.onNewRowsLoaded=function(){},t.prototype.close=function(e){if(this.hidePopup){var r=e,i=r&&r.key,o;(i==="Enter"||i==="Space")&&(o={keyboardEvent:r}),this.hidePopup(o),this.hidePopup=null}},t.prototype.onUiChanged=function(e,r){if(e===void 0&&(e=!1),this.updateUiVisibility(),this.providedFilterParams.filterModifiedCallback(),this.applyActive&&!this.isReadOnly()){var i=this.isModelValid(this.getModelFromUi()),o=this.getRefElement("applyFilterButton");o&&_g(o,!i)}e&&!r||r==="immediately"?this.onBtApply(e):(!this.applyActive&&!r||r==="debounce")&&this.onBtApplyDebounce()},t.prototype.afterGuiAttached=function(e){e&&(this.hidePopup=e.hidePopup),this.refreshFilterResizer(e==null?void 0:e.container)},t.prototype.refreshFilterResizer=function(e){if(!(!this.positionableFeature||e==="toolPanel")){var r=e==="floatingFilter"||e==="columnFilter",i=this,o=i.positionableFeature,a=i.gridOptionsService;r?(o.restoreLastSize(),o.setResizable(a.get("enableRtl")?{bottom:!0,bottomLeft:!0,left:!0}:{bottom:!0,bottomRight:!0,right:!0})):(this.positionableFeature.removeSizeFromEl(),this.positionableFeature.setResizable(!1)),this.positionableFeature.constrainSizeToAvailableHeight(!0)}},t.prototype.afterGuiDetached=function(){this.checkApplyDebounce(),this.positionableFeature&&this.positionableFeature.constrainSizeToAvailableHeight(!1)},t.getDebounceMs=function(e,r){return t.isUseApplyButton(e)?(e.debounceMs!=null&&console.warn("AG Grid: debounceMs is ignored when apply button is present"),0):e.debounceMs!=null?e.debounceMs:r},t.isUseApplyButton=function(e){return!!e.buttons&&e.buttons.indexOf("apply")>=0},t.prototype.refresh=function(e){return this.providedFilterParams=e,!0},t.prototype.destroy=function(){var e=this.getGui();e&&e.removeEventListener("submit",this.onFormSubmit),this.hidePopup=null,this.positionableFeature&&(this.positionableFeature=this.destroyBean(this.positionableFeature)),this.appliedModel=null,n.prototype.destroy.call(this)},t.prototype.translate=function(e){var r=this.localeService.getLocaleTextFunc();return r(e,GY[e])},t.prototype.getCellValue=function(e){return this.providedFilterParams.getValue(e)},t.prototype.getPositionableElement=function(){return this.eFilterBody},$A([E("rowModel")],t.prototype,"rowModel",void 0),$A([$("eFilterBody")],t.prototype,"eFilterBody",void 0),$A([z],t.prototype,"postConstruct",null),t}(de),WEe=function(){var n=function(t,e){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])},n(t,e)};return function(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");n(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}}(),UEe=function(n,t,e,r){var i=arguments.length,o=i<3?t:r===null?r=Object.getOwnPropertyDescriptor(t,e):r,a;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(n,t,e,r);else for(var s=n.length-1;s>=0;s--)(a=n[s])&&(o=(i<3?a(o):i>3?a(t,e,o):a(t,e))||o);return i>3&&o&&Object.defineProperty(t,e,o),o},bT=function(n){WEe(t,n);function t(e,r){var i=n.call(this,r)||this;return i.labelSeparator="",i.labelAlignment="left",i.disabled=!1,i.label="",i.config=e||{},i}return t.prototype.postConstruct=function(){this.addCssClass("ag-labeled"),this.eLabel.classList.add("ag-label");var e=this.config,r=e.labelSeparator,i=e.label,o=e.labelWidth,a=e.labelAlignment;r!=null&&this.setLabelSeparator(r),i!=null&&this.setLabel(i),o!=null&&this.setLabelWidth(o),this.setLabelAlignment(a||this.labelAlignment),this.refreshLabel()},t.prototype.refreshLabel=function(){Sn(this.eLabel),typeof this.label=="string"?this.eLabel.innerText=this.label+this.labelSeparator:this.label&&this.eLabel.appendChild(this.label),this.label===""?(mt(this.eLabel,!1),on(this.eLabel,"presentation")):(mt(this.eLabel,!0),on(this.eLabel,null))},t.prototype.setLabelSeparator=function(e){return this.labelSeparator===e?this:(this.labelSeparator=e,this.label!=null&&this.refreshLabel(),this)},t.prototype.getLabelId=function(){return this.eLabel.id=this.eLabel.id||"ag-".concat(this.getCompId(),"-label"),this.eLabel.id},t.prototype.getLabel=function(){return this.label},t.prototype.setLabel=function(e){return this.label===e?this:(this.label=e,this.refreshLabel(),this)},t.prototype.setLabelAlignment=function(e){var r=this.getGui(),i=r.classList;return i.toggle("ag-label-align-left",e==="left"),i.toggle("ag-label-align-right",e==="right"),i.toggle("ag-label-align-top",e==="top"),this},t.prototype.setLabelEllipsis=function(e){return this.eLabel.classList.toggle("ag-label-ellipsis",e),this},t.prototype.setLabelWidth=function(e){return this.label==null?this:(IS(this.eLabel,e),this)},t.prototype.setDisabled=function(e){e=!!e;var r=this.getGui();return _g(r,e),r.classList.toggle("ag-disabled",e),this.disabled=e,this},t.prototype.isDisabled=function(){return!!this.disabled},UEe([z],t.prototype,"postConstruct",null),t}(de),zEe=function(){var n=function(t,e){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])},n(t,e)};return function(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");n(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}}(),yG=function(n){zEe(t,n);function t(e,r,i){var o=n.call(this,e,r)||this;return o.className=i,o}return t.prototype.postConstruct=function(){n.prototype.postConstruct.call(this),this.className&&this.addCssClass(this.className),this.refreshAriaLabelledBy()},t.prototype.refreshAriaLabelledBy=function(){var e=this.getAriaElement(),r=this.getLabelId();oY(e)!==null?Lb(e,""):Lb(e,r??"")},t.prototype.setAriaLabel=function(e){return Zd(this.getAriaElement(),e),this.refreshAriaLabelledBy(),this},t.prototype.onValueChange=function(e){var r=this;return this.addManagedListener(this,P.EVENT_FIELD_VALUE_CHANGED,function(){return e(r.getValue())}),this},t.prototype.getWidth=function(){return this.getGui().clientWidth},t.prototype.setWidth=function(e){return ja(this.getGui(),e),this},t.prototype.getPreviousValue=function(){return this.previousValue},t.prototype.getValue=function(){return this.value},t.prototype.setValue=function(e,r){return this.value===e?this:(this.previousValue=this.value,this.value=e,r||this.dispatchEvent({type:P.EVENT_FIELD_VALUE_CHANGED}),this)},t}(bT),KEe=function(){var n=function(t,e){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])},n(t,e)};return function(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");n(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}}(),My=function(n,t,e,r){var i=arguments.length,o=i<3?t:r===null?r=Object.getOwnPropertyDescriptor(t,e):r,a;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(n,t,e,r);else for(var s=n.length-1;s>=0;s--)(a=n[s])&&(o=(i<3?a(o):i>3?a(t,e,o):a(t,e))||o);return i>3&&o&&Object.defineProperty(t,e,o),o},YEe=`
    <div class="ag-picker-field" role="presentation">
        <div ref="eLabel"></div>
            <div ref="eWrapper" class="ag-wrapper ag-picker-field-wrapper ag-picker-collapsed">
            <div ref="eDisplayField" class="ag-picker-field-display"></div>
            <div ref="eIcon" class="ag-picker-field-icon" aria-hidden="true"></div>
        </div>
    </div>`,OT=function(n){KEe(t,n);function t(e){var r=n.call(this,e,(e==null?void 0:e.template)||YEe,e==null?void 0:e.className)||this;if(r.isPickerDisplayed=!1,r.skipClick=!1,r.pickerGap=4,r.hideCurrentPicker=null,r.ariaRole=e==null?void 0:e.ariaRole,r.onPickerFocusIn=r.onPickerFocusIn.bind(r),r.onPickerFocusOut=r.onPickerFocusOut.bind(r),!e)return r;var i=e.pickerGap,o=e.maxPickerHeight,a=e.variableWidth,s=e.minPickerWidth,l=e.maxPickerWidth;return i!=null&&(r.pickerGap=i),r.variableWidth=!!a,o!=null&&r.setPickerMaxHeight(o),s!=null&&r.setPickerMinWidth(s),l!=null&&r.setPickerMaxWidth(l),r}return t.prototype.postConstruct=function(){n.prototype.postConstruct.call(this),this.setupAria();var e="ag-".concat(this.getCompId(),"-display");this.eDisplayField.setAttribute("id",e);var r=this.getAriaElement();this.addManagedListener(r,"keydown",this.onKeyDown.bind(this)),this.addManagedListener(this.eLabel,"mousedown",this.onLabelOrWrapperMouseDown.bind(this)),this.addManagedListener(this.eWrapper,"mousedown",this.onLabelOrWrapperMouseDown.bind(this));var i=this.config.pickerIcon;if(i){var o=Wr(i,this.gridOptionsService);o&&this.eIcon.appendChild(o)}},t.prototype.setupAria=function(){var e=this.getAriaElement();e.setAttribute("tabindex",this.gridOptionsService.get("tabIndex").toString()),Ju(e,!1),this.ariaRole&&on(e,this.ariaRole)},t.prototype.onLabelOrWrapperMouseDown=function(e){if(e){var r=this.getFocusableElement();if(r!==this.eWrapper&&(e==null?void 0:e.target)===r)return;e.preventDefault(),this.getFocusableElement().focus()}if(this.skipClick){this.skipClick=!1;return}this.isDisabled()||(this.isPickerDisplayed?this.hidePicker():this.showPicker())},t.prototype.onKeyDown=function(e){switch(e.key){case U.UP:case U.DOWN:case U.ENTER:case U.SPACE:e.preventDefault(),this.onLabelOrWrapperMouseDown();break;case U.ESCAPE:this.isPickerDisplayed&&(e.preventDefault(),e.stopPropagation(),this.hideCurrentPicker&&this.hideCurrentPicker());break}},t.prototype.showPicker=function(){this.isPickerDisplayed=!0,this.pickerComponent||(this.pickerComponent=this.createPickerComponent());var e=this.pickerComponent.getGui();e.addEventListener("focusin",this.onPickerFocusIn),e.addEventListener("focusout",this.onPickerFocusOut),this.hideCurrentPicker=this.renderAndPositionPicker(),this.toggleExpandedStyles(!0)},t.prototype.renderAndPositionPicker=function(){var e=this,r=this.gridOptionsService.getDocument(),i=this.pickerComponent.getGui();this.gridOptionsService.get("suppressScrollWhenPopupsAreOpen")||(this.destroyMouseWheelFunc=this.addManagedListener(this.eventService,P.EVENT_BODY_SCROLL,function(){e.hidePicker()}));var o=this.localeService.getLocaleTextFunc(),a=this.config,s=a.pickerAriaLabelKey,l=a.pickerAriaLabelValue,u=a.modalPicker,c=u===void 0?!0:u,d={modal:c,eChild:i,closeOnEsc:!0,closedCallback:function(){var C=r.activeElement===r.body;e.beforeHidePicker(),C&&e.isAlive()&&e.getFocusableElement().focus()},ariaLabel:o(s,l)},p=this.popupService.addPopup(d),h=this,f=h.maxPickerHeight,v=h.minPickerWidth,g=h.maxPickerWidth,y=h.variableWidth;y?(v&&(i.style.minWidth=v),i.style.width=xT(DS(this.eWrapper)),g&&(i.style.maxWidth=g)):IS(i,g??DS(this.eWrapper));var m=f??"".concat(Lw(this.popupService.getPopupParent()),"px");return i.style.setProperty("max-height",m),i.style.position="absolute",this.alignPickerToComponent(),p.hideFunc},t.prototype.alignPickerToComponent=function(){if(this.pickerComponent){var e=this.config.pickerType,r=this.pickerGap,i=this.gridOptionsService.get("enableRtl")?"right":"left";this.popupService.positionPopupByComponent({type:e,eventSource:this.eWrapper,ePopup:this.pickerComponent.getGui(),position:"under",alignSide:i,keepWithinBounds:!0,nudgeY:r})}},t.prototype.beforeHidePicker=function(){this.destroyMouseWheelFunc&&(this.destroyMouseWheelFunc(),this.destroyMouseWheelFunc=void 0),this.toggleExpandedStyles(!1);var e=this.pickerComponent.getGui();e.removeEventListener("focusin",this.onPickerFocusIn),e.removeEventListener("focusout",this.onPickerFocusOut),this.isPickerDisplayed=!1,this.pickerComponent=void 0,this.hideCurrentPicker=null},t.prototype.toggleExpandedStyles=function(e){if(this.isAlive()){var r=this.getAriaElement();Ju(r,e),this.eWrapper.classList.toggle("ag-picker-expanded",e),this.eWrapper.classList.toggle("ag-picker-collapsed",!e)}},t.prototype.onPickerFocusIn=function(){this.togglePickerHasFocus(!0)},t.prototype.onPickerFocusOut=function(e){var r;!((r=this.pickerComponent)===null||r===void 0)&&r.getGui().contains(e.relatedTarget)||this.togglePickerHasFocus(!1)},t.prototype.togglePickerHasFocus=function(e){this.pickerComponent&&this.eWrapper.classList.toggle("ag-picker-has-focus",e)},t.prototype.hidePicker=function(){this.hideCurrentPicker&&this.hideCurrentPicker()},t.prototype.setInputWidth=function(e){return IS(this.eWrapper,e),this},t.prototype.getFocusableElement=function(){return this.eWrapper},t.prototype.setPickerGap=function(e){return this.pickerGap=e,this},t.prototype.setPickerMinWidth=function(e){return typeof e=="number"&&(e="".concat(e,"px")),this.minPickerWidth=e??void 0,this},t.prototype.setPickerMaxWidth=function(e){return typeof e=="number"&&(e="".concat(e,"px")),this.maxPickerWidth=e??void 0,this},t.prototype.setPickerMaxHeight=function(e){return typeof e=="number"&&(e="".concat(e,"px")),this.maxPickerHeight=e??void 0,this},t.prototype.destroy=function(){this.hidePicker(),n.prototype.destroy.call(this)},My([E("popupService")],t.prototype,"popupService",void 0),My([$("eLabel")],t.prototype,"eLabel",void 0),My([$("eWrapper")],t.prototype,"eWrapper",void 0),My([$("eDisplayField")],t.prototype,"eDisplayField",void 0),My([$("eIcon")],t.prototype,"eIcon",void 0),t}(yG),XEe=function(){var n=function(t,e){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])},n(t,e)};return function(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");n(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}}(),qEe=function(n,t,e,r){var i=arguments.length,o=i<3?t:r===null?r=Object.getOwnPropertyDescriptor(t,e):r,a;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(n,t,e,r);else for(var s=n.length-1;s>=0;s--)(a=n[s])&&(o=(i<3?a(o):i>3?a(t,e,o):a(t,e))||o);return i>3&&o&&Object.defineProperty(t,e,o),o},p3=function(n){XEe(t,n);function t(e){e===void 0&&(e="default");var r=n.call(this,'<div class="ag-list ag-'.concat(e,'-list" role="listbox"></div>'))||this;return r.cssIdentifier=e,r.options=[],r.itemEls=[],r}return t.prototype.init=function(){this.addManagedListener(this.getGui(),"keydown",this.handleKeyDown.bind(this))},t.prototype.handleKeyDown=function(e){var r=e.key;switch(r){case U.ENTER:if(!this.highlightedEl)this.setValue(this.getValue());else{var i=this.itemEls.indexOf(this.highlightedEl);this.setValueByIndex(i)}break;case U.DOWN:case U.UP:var o=r===U.DOWN,a=void 0;if(e.preventDefault(),!this.highlightedEl)a=this.itemEls[o?0:this.itemEls.length-1];else{var s=this.itemEls.indexOf(this.highlightedEl),l=s+(o?1:-1);l=Math.min(Math.max(l,0),this.itemEls.length-1),a=this.itemEls[l]}this.highlightItem(a);break}},t.prototype.addOptions=function(e){var r=this;return e.forEach(function(i){return r.addOption(i)}),this},t.prototype.addOption=function(e){var r=e.value,i=e.text,o=tn(i||r);return this.options.push({value:r,text:o}),this.renderOption(r,o),this.updateIndices(),this},t.prototype.updateIndices=function(){var e=this.getGui().querySelectorAll(".ag-list-item");e.forEach(function(r,i){Kk(r,i+1),zk(r,e.length)})},t.prototype.renderOption=function(e,r){var i=this,o=document.createElement("div");on(o,"option"),o.classList.add("ag-list-item","ag-".concat(this.cssIdentifier,"-list-item")),o.innerHTML="<span>".concat(r,"</span>"),o.tabIndex=-1,this.itemEls.push(o),this.addManagedListener(o,"mouseover",function(){return i.highlightItem(o)}),this.addManagedListener(o,"mouseleave",function(){return i.clearHighlighted()}),this.addManagedListener(o,"click",function(){return i.setValue(e)}),this.getGui().appendChild(o)},t.prototype.setValue=function(e,r){if(this.value===e)return this.fireItemSelected(),this;if(e==null)return this.reset(),this;var i=this.options.findIndex(function(a){return a.value===e});if(i!==-1){var o=this.options[i];this.value=o.value,this.displayValue=o.text!=null?o.text:o.value,this.highlightItem(this.itemEls[i]),r||this.fireChangeEvent()}return this},t.prototype.setValueByIndex=function(e){return this.setValue(this.options[e].value)},t.prototype.getValue=function(){return this.value},t.prototype.getDisplayValue=function(){return this.displayValue},t.prototype.refreshHighlighted=function(){var e=this;this.clearHighlighted();var r=this.options.findIndex(function(i){return i.value===e.value});r!==-1&&this.highlightItem(this.itemEls[r])},t.prototype.reset=function(){this.value=null,this.displayValue=null,this.clearHighlighted(),this.fireChangeEvent()},t.prototype.highlightItem=function(e){aa(e)&&(this.clearHighlighted(),this.highlightedEl=e,this.highlightedEl.classList.add(t.ACTIVE_CLASS),wg(this.highlightedEl,!0),this.highlightedEl.focus())},t.prototype.clearHighlighted=function(){!this.highlightedEl||!aa(this.highlightedEl)||(this.highlightedEl.classList.remove(t.ACTIVE_CLASS),wg(this.highlightedEl,!1),this.highlightedEl=null)},t.prototype.fireChangeEvent=function(){this.dispatchEvent({type:P.EVENT_FIELD_VALUE_CHANGED}),this.fireItemSelected()},t.prototype.fireItemSelected=function(){this.dispatchEvent({type:t.EVENT_ITEM_SELECTED})},t.EVENT_ITEM_SELECTED="selectedItem",t.ACTIVE_CLASS="ag-active-item",qEe([z],t.prototype,"init",null),t}(de),ZEe=function(){var n=function(t,e){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])},n(t,e)};return function(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");n(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}}(),OL=function(){return OL=Object.assign||function(n){for(var t,e=1,r=arguments.length;e<r;e++){t=arguments[e];for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(n[i]=t[i])}return n},OL.apply(this,arguments)},ql=function(n){ZEe(t,n);function t(e){return n.call(this,OL({pickerAriaLabelKey:"ariaLabelSelectField",pickerAriaLabelValue:"Select Field",pickerType:"ag-list",className:"ag-select",pickerIcon:"smallDown",ariaRole:"combobox"},e))||this}return t.prototype.postConstruct=function(){n.prototype.postConstruct.call(this),this.createListComponent(),this.eWrapper.tabIndex=this.gridOptionsService.get("tabIndex")},t.prototype.createListComponent=function(){var e=this;this.listComponent=this.createBean(new p3("select")),this.listComponent.setParentComponent(this);var r=this.listComponent.getAriaElement(),i="ag-select-list-".concat(this.listComponent.getCompId());r.setAttribute("id",i),qk(this.getAriaElement(),r),this.listComponent.addGuiEventListener("keydown",function(o){o.key===U.TAB&&(o.preventDefault(),o.stopImmediatePropagation(),e.getGui().dispatchEvent(new KeyboardEvent("keydown",{key:o.key,shiftKey:o.shiftKey,ctrlKey:o.ctrlKey,bubbles:!0})))}),this.listComponent.addManagedListener(this.listComponent,p3.EVENT_ITEM_SELECTED,function(){e.hidePicker(),e.dispatchEvent({type:t.EVENT_ITEM_SELECTED})}),this.listComponent.addManagedListener(this.listComponent,P.EVENT_FIELD_VALUE_CHANGED,function(){e.listComponent&&(e.setValue(e.listComponent.getValue(),!1,!0),e.hidePicker())})},t.prototype.createPickerComponent=function(){return this.listComponent},t.prototype.showPicker=function(){this.listComponent&&(n.prototype.showPicker.call(this),this.listComponent.refreshHighlighted())},t.prototype.addOptions=function(e){var r=this;return e.forEach(function(i){return r.addOption(i)}),this},t.prototype.addOption=function(e){return this.listComponent.addOption(e),this},t.prototype.setValue=function(e,r,i){if(this.value===e||!this.listComponent)return this;i||this.listComponent.setValue(e,!0);var o=this.listComponent.getValue();return o===this.getValue()?this:(this.eDisplayField.innerHTML=this.listComponent.getDisplayValue(),n.prototype.setValue.call(this,e,r))},t.prototype.destroy=function(){this.listComponent&&(this.destroyBean(this.listComponent),this.listComponent=void 0),n.prototype.destroy.call(this)},t.EVENT_ITEM_SELECTED="selectedItem",t}(OT),QEe=function(){var n=function(t,e){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])},n(t,e)};return function(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");n(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}}(),WA=function(n,t,e,r){var i=arguments.length,o=i<3?t:r===null?r=Object.getOwnPropertyDescriptor(t,e):r,a;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(n,t,e,r);else for(var s=n.length-1;s>=0;s--)(a=n[s])&&(o=(i<3?a(o):i>3?a(t,e,o):a(t,e))||o);return i>3&&o&&Object.defineProperty(t,e,o),o},dd=function(n){QEe(t,n);function t(e,r,i,o){i===void 0&&(i="text"),o===void 0&&(o="input");var a=n.call(this,e,`
            <div role="presentation">
                <div ref="eLabel" class="ag-input-field-label"></div>
                <div ref="eWrapper" class="ag-wrapper ag-input-wrapper" role="presentation">
                    <`.concat(o,' ref="eInput" class="ag-input-field-input"></').concat(o,`>
                </div>
            </div>`),r)||this;return a.inputType=i,a.displayFieldTag=o,a}return t.prototype.postConstruct=function(){n.prototype.postConstruct.call(this),this.setInputType(),this.eLabel.classList.add("".concat(this.className,"-label")),this.eWrapper.classList.add("".concat(this.className,"-input-wrapper")),this.eInput.classList.add("".concat(this.className,"-input")),this.addCssClass("ag-input-field"),this.eInput.id=this.eInput.id||"ag-".concat(this.getCompId(),"-input");var e=this.config,r=e.width,i=e.value;r!=null&&this.setWidth(r),i!=null&&this.setValue(i),this.addInputListeners(),this.activateTabIndex([this.eInput])},t.prototype.addInputListeners=function(){var e=this;this.addManagedListener(this.eInput,"input",function(r){return e.setValue(r.target.value)})},t.prototype.setInputType=function(){this.displayFieldTag==="input"&&this.eInput.setAttribute("type",this.inputType)},t.prototype.getInputElement=function(){return this.eInput},t.prototype.setInputWidth=function(e){return IS(this.eWrapper,e),this},t.prototype.setInputName=function(e){return this.getInputElement().setAttribute("name",e),this},t.prototype.getFocusableElement=function(){return this.eInput},t.prototype.setMaxLength=function(e){var r=this.eInput;return r.maxLength=e,this},t.prototype.setInputPlaceholder=function(e){return $l(this.eInput,"placeholder",e),this},t.prototype.setInputAriaLabel=function(e){return Zd(this.eInput,e),this.refreshAriaLabelledBy(),this},t.prototype.setDisabled=function(e){return _g(this.eInput,e),n.prototype.setDisabled.call(this,e)},t.prototype.setAutoComplete=function(e){if(e===!0)$l(this.eInput,"autocomplete",null);else{var r=typeof e=="string"?e:"off";$l(this.eInput,"autocomplete",r)}return this},WA([$("eLabel")],t.prototype,"eLabel",void 0),WA([$("eWrapper")],t.prototype,"eWrapper",void 0),WA([$("eInput")],t.prototype,"eInput",void 0),t}(yG),JEe=function(){var n=function(t,e){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])},n(t,e)};return function(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");n(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}}(),Lu=function(n){JEe(t,n);function t(e,r,i){r===void 0&&(r="ag-checkbox"),i===void 0&&(i="checkbox");var o=n.call(this,e,r,i)||this;return o.labelAlignment="right",o.selected=!1,o.readOnly=!1,o.passive=!1,o}return t.prototype.addInputListeners=function(){this.addManagedListener(this.eInput,"click",this.onCheckboxClick.bind(this)),this.addManagedListener(this.eLabel,"click",this.toggle.bind(this))},t.prototype.getNextValue=function(){return this.selected===void 0?!0:!this.selected},t.prototype.setPassive=function(e){this.passive=e},t.prototype.isReadOnly=function(){return this.readOnly},t.prototype.setReadOnly=function(e){this.eWrapper.classList.toggle("ag-disabled",e),this.eInput.disabled=e,this.readOnly=e},t.prototype.setDisabled=function(e){return this.eWrapper.classList.toggle("ag-disabled",e),n.prototype.setDisabled.call(this,e)},t.prototype.toggle=function(){if(!this.eInput.disabled){var e=this.isSelected(),r=this.getNextValue();this.passive?this.dispatchChange(r,e):this.setValue(r)}},t.prototype.getValue=function(){return this.isSelected()},t.prototype.setValue=function(e,r){return this.refreshSelectedClass(e),this.setSelected(e,r),this},t.prototype.setName=function(e){var r=this.getInputElement();return r.name=e,this},t.prototype.isSelected=function(){return this.selected},t.prototype.setSelected=function(e,r){this.isSelected()!==e&&(this.previousValue=this.isSelected(),e=this.selected=typeof e=="boolean"?e:void 0,this.eInput.checked=e,this.eInput.indeterminate=e===void 0,r||this.dispatchChange(this.selected,this.previousValue))},t.prototype.dispatchChange=function(e,r,i){this.dispatchEvent({type:P.EVENT_FIELD_VALUE_CHANGED,selected:e,previousValue:r,event:i});var o=this.getInputElement(),a={type:P.EVENT_CHECKBOX_CHANGED,id:o.id,name:o.name,selected:e,previousValue:r};this.eventService.dispatchEvent(a)},t.prototype.onCheckboxClick=function(e){if(!(this.passive||this.eInput.disabled)){var r=this.isSelected(),i=this.selected=e.target.checked;this.refreshSelectedClass(i),this.dispatchChange(i,r,e)}},t.prototype.refreshSelectedClass=function(e){this.eWrapper.classList.toggle("ag-checked",e===!0),this.eWrapper.classList.toggle("ag-indeterminate",e==null)},t}(dd),ebe=function(){var n=function(t,e){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])},n(t,e)};return function(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");n(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}}(),RT=function(n){ebe(t,n);function t(e){return n.call(this,e,"ag-radio-button","radio")||this}return t.prototype.isSelected=function(){return this.eInput.checked},t.prototype.toggle=function(){this.eInput.disabled||this.isSelected()||this.setValue(!0)},t.prototype.addInputListeners=function(){n.prototype.addInputListeners.call(this),this.addManagedListener(this.eventService,P.EVENT_CHECKBOX_CHANGED,this.onChange.bind(this))},t.prototype.onChange=function(e){e.selected&&e.name&&this.eInput.name&&this.eInput.name===e.name&&e.id&&this.eInput.id!==e.id&&this.setValue(!1,!0)},t}(Lu),tbe=function(){var n=function(t,e){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])},n(t,e)};return function(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");n(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}}(),rbe=function(n,t){var e=typeof Symbol=="function"&&n[Symbol.iterator];if(!e)return n;var r=e.call(n),i,o=[],a;try{for(;(t===void 0||t-- >0)&&!(i=r.next()).done;)o.push(i.value)}catch(s){a={error:s}}finally{try{i&&!i.done&&(e=r.return)&&e.call(r)}finally{if(a)throw a.error}}return o},nbe=function(n,t,e){if(e||arguments.length===2)for(var r=0,i=t.length,o;r<i;r++)(o||!(r in t))&&(o||(o=Array.prototype.slice.call(t,0,r)),o[r]=t[r]);return n.concat(o||Array.prototype.slice.call(t))},mG=function(){function n(t,e,r){this.localeService=t,this.optionsFactory=e,this.valueFormatter=r}return n.prototype.getModelAsString=function(t){var e=this;if(!t)return null;var r=t.operator!=null,i=this.localeService.getLocaleTextFunc();if(r){var o=t,a=o.conditions;if(!a){var s=o.condition1,l=o.condition2;a=[s,l]}var u=a.map(function(y){return e.getModelAsString(y)}),c=o.operator==="AND"?"andCondition":"orCondition";return u.join(" ".concat(i(c,GY[c])," "))}else{if(t.type===hr.BLANK||t.type===hr.NOT_BLANK)return i(t.type,t.type);var d=t,p=this.optionsFactory.getCustomOption(d.type),h=p||{},f=h.displayKey,v=h.displayName,g=h.numberOfInputs;return f&&v&&g===0?(i(f,v),v):this.conditionToString(d,p)}},n.prototype.updateParams=function(t){this.optionsFactory=t.optionsFactory},n.prototype.formatValue=function(t){var e;return this.valueFormatter?(e=this.valueFormatter(t??null))!==null&&e!==void 0?e:"":String(t)},n}(),hr=function(n){tbe(t,n);function t(){var e=n!==null&&n.apply(this,arguments)||this;return e.eTypes=[],e.eJoinOperatorPanels=[],e.eJoinOperatorsAnd=[],e.eJoinOperatorsOr=[],e.eConditionBodies=[],e.listener=function(){return e.onUiChanged()},e.lastUiCompletePosition=null,e.joinOperatorId=0,e}return t.prototype.getNumberOfInputs=function(e){var r=this.optionsFactory.getCustomOption(e);if(r){var i=r.numberOfInputs;return i??1}var o=[t.EMPTY,t.NOT_BLANK,t.BLANK];return e&&o.indexOf(e)>=0?0:e===t.IN_RANGE?2:1},t.prototype.onFloatingFilterChanged=function(e,r){this.setTypeFromFloatingFilter(e),this.setValueFromFloatingFilter(r),this.onUiChanged(!0)},t.prototype.setTypeFromFloatingFilter=function(e){var r=this;this.eTypes.forEach(function(i,o){o===0?i.setValue(e,!0):i.setValue(r.optionsFactory.getDefaultOption(),!0)})},t.prototype.getModelFromUi=function(){var e=this.getUiCompleteConditions();return e.length===0?null:this.maxNumConditions>1&&e.length>1?{filterType:this.getFilterType(),operator:this.getJoinOperator(),condition1:e[0],condition2:e[1],conditions:e}:e[0]},t.prototype.getConditionTypes=function(){return this.eTypes.map(function(e){return e.getValue()})},t.prototype.getConditionType=function(e){return this.eTypes[e].getValue()},t.prototype.getJoinOperator=function(){return this.eJoinOperatorsOr.length===0?this.defaultJoinOperator:this.eJoinOperatorsOr[0].getValue()===!0?"OR":"AND"},t.prototype.areModelsEqual=function(e,r){var i=this;if(!e&&!r)return!0;if(!e&&r||e&&!r)return!1;var o=!e.operator,a=!r.operator,s=!o&&a||o&&!a;if(s)return!1;var l;if(o){var u=e,c=r;l=this.areSimpleModelsEqual(u,c)}else{var d=e,p=r;l=d.operator===p.operator&&Du(d.conditions,p.conditions,function(h,f){return i.areSimpleModelsEqual(h,f)})}return l},t.prototype.shouldRefresh=function(e){var r,i,o,a=this.getModel(),s=a?(r=a.conditions)!==null&&r!==void 0?r:[a]:null,l=(o=(i=e.filterOptions)===null||i===void 0?void 0:i.map(function(c){return typeof c=="string"?c:c.displayKey}))!==null&&o!==void 0?o:this.getDefaultFilterOptions(),u=!s||s.every(function(c){return l.find(function(d){return d===c.type})!==void 0});return!(!u||typeof e.maxNumConditions=="number"&&s&&s.length>e.maxNumConditions)},t.prototype.refresh=function(e){if(!this.shouldRefresh(e))return!1;var r=n.prototype.refresh.call(this,e);return r?(this.setParams(e),this.removeConditionsAndOperators(0),this.createOption(),this.setModel(this.getModel()),!0):!1},t.prototype.setModelIntoUi=function(e){var r=this,i=e.operator;if(i){var o=e;o.conditions||(o.conditions=[o.condition1,o.condition2]);var a=this.validateAndUpdateConditions(o.conditions),s=this.getNumConditions();if(a<s)this.removeConditionsAndOperators(a);else if(a>s)for(var l=s;l<a;l++)this.createJoinOperatorPanel(),this.createOption();var u=o.operator==="OR";this.eJoinOperatorsAnd.forEach(function(d){return d.setValue(!u,!0)}),this.eJoinOperatorsOr.forEach(function(d){return d.setValue(u,!0)}),o.conditions.forEach(function(d,p){r.eTypes[p].setValue(d.type,!0),r.setConditionIntoUi(d,p)})}else{var c=e;this.getNumConditions()>1&&this.removeConditionsAndOperators(1),this.eTypes[0].setValue(c.type,!0),this.setConditionIntoUi(c,0)}return this.lastUiCompletePosition=this.getNumConditions()-1,this.createMissingConditionsAndOperators(),this.onUiChanged(),Qe.resolve()},t.prototype.validateAndUpdateConditions=function(e){var r=e.length;return r>this.maxNumConditions&&(e.splice(this.maxNumConditions),Le('Filter Model contains more conditions than "filterParams.maxNumConditions". Additional conditions have been ignored.'),r=this.maxNumConditions),r},t.prototype.doesFilterPass=function(e){var r=this,i,o=this.getModel();if(o==null)return!0;var a=o.operator,s=[];if(a){var l=o;s.push.apply(s,nbe([],rbe((i=l.conditions)!==null&&i!==void 0?i:[]),!1))}else s.push(o);var u=a&&a==="OR"?"some":"every";return s[u](function(c){return r.individualConditionPasses(e,c)})},t.prototype.setParams=function(e){n.prototype.setParams.call(this,e),this.setNumConditions(e),this.defaultJoinOperator=this.getDefaultJoinOperator(e.defaultJoinOperator),this.filterPlaceholder=e.filterPlaceholder,this.optionsFactory=new kY,this.optionsFactory.init(e,this.getDefaultFilterOptions()),this.createFilterListOptions(),this.createOption(),this.createMissingConditionsAndOperators(),this.isReadOnly()&&this.eFilterBody.setAttribute("tabindex","-1")},t.prototype.setNumConditions=function(e){var r,i;e.suppressAndOrCondition!=null&&Le('Since v29.2 "filterParams.suppressAndOrCondition" is deprecated. Use "filterParams.maxNumConditions = 1" instead.'),e.alwaysShowBothConditions!=null&&Le('Since v29.2 "filterParams.alwaysShowBothConditions" is deprecated. Use "filterParams.numAlwaysVisibleConditions = 2" instead.'),this.maxNumConditions=(r=e.maxNumConditions)!==null&&r!==void 0?r:e.suppressAndOrCondition?1:2,this.maxNumConditions<1&&(Le('"filterParams.maxNumConditions" must be greater than or equal to zero.'),this.maxNumConditions=1),this.numAlwaysVisibleConditions=(i=e.numAlwaysVisibleConditions)!==null&&i!==void 0?i:e.alwaysShowBothConditions?2:1,this.numAlwaysVisibleConditions<1&&(Le('"filterParams.numAlwaysVisibleConditions" must be greater than or equal to zero.'),this.numAlwaysVisibleConditions=1),this.numAlwaysVisibleConditions>this.maxNumConditions&&(Le('"filterParams.numAlwaysVisibleConditions" cannot be greater than "filterParams.maxNumConditions".'),this.numAlwaysVisibleConditions=this.maxNumConditions)},t.prototype.createOption=function(){var e=this,r=this.createManagedBean(new ql);this.eTypes.push(r),r.addCssClass("ag-filter-select"),this.eFilterBody.appendChild(r.getGui());var i=this.createValueElement();this.eConditionBodies.push(i),this.eFilterBody.appendChild(i),this.putOptionsIntoDropdown(r),this.resetType(r);var o=this.getNumConditions()-1;this.forEachPositionInput(o,function(a){return e.resetInput(a)}),this.addChangedListeners(r,o)},t.prototype.createJoinOperatorPanel=function(){var e=document.createElement("div");this.eJoinOperatorPanels.push(e),e.classList.add("ag-filter-condition");var r=this.createJoinOperator(this.eJoinOperatorsAnd,e,"and"),i=this.createJoinOperator(this.eJoinOperatorsOr,e,"or");this.eFilterBody.appendChild(e);var o=this.eJoinOperatorPanels.length-1,a=this.joinOperatorId++;this.resetJoinOperatorAnd(r,o,a),this.resetJoinOperatorOr(i,o,a),this.isReadOnly()||(r.onValueChange(this.listener),i.onValueChange(this.listener))},t.prototype.createJoinOperator=function(e,r,i){var o=this.createManagedBean(new RT);return e.push(o),o.addCssClass("ag-filter-condition-operator"),o.addCssClass("ag-filter-condition-operator-".concat(i)),r.appendChild(o.getGui()),o},t.prototype.getDefaultJoinOperator=function(e){return e==="AND"||e==="OR"?e:"AND"},t.prototype.createFilterListOptions=function(){var e=this,r=this.optionsFactory.getFilterOptions();this.filterListOptions=r.map(function(i){return typeof i=="string"?e.createBoilerplateListOption(i):e.createCustomListOption(i)})},t.prototype.putOptionsIntoDropdown=function(e){this.filterListOptions.forEach(function(r){e.addOption(r)}),e.setDisabled(this.filterListOptions.length<=1)},t.prototype.createBoilerplateListOption=function(e){return{value:e,text:this.translate(e)}},t.prototype.createCustomListOption=function(e){var r=e.displayKey,i=this.optionsFactory.getCustomOption(e.displayKey);return{value:r,text:i?this.localeService.getLocaleTextFunc()(i.displayKey,i.displayName):this.translate(r)}},t.prototype.isAllowTwoConditions=function(){return this.maxNumConditions>=2},t.prototype.createBodyTemplate=function(){return""},t.prototype.getCssIdentifier=function(){return"simple-filter"},t.prototype.updateUiVisibility=function(){var e=this.getJoinOperator();this.updateNumConditions(),this.updateConditionStatusesAndValues(this.lastUiCompletePosition,e)},t.prototype.updateNumConditions=function(){for(var e,r=-1,i=!0,o=0;o<this.getNumConditions();o++)this.isConditionUiComplete(o)?r=o:i=!1;if(this.shouldAddNewConditionAtEnd(i))this.createJoinOperatorPanel(),this.createOption();else{var a=(e=this.lastUiCompletePosition)!==null&&e!==void 0?e:this.getNumConditions()-2;if(r<a){this.removeConditionsAndOperators(a+1);var s=r+1,l=a-s;l>0&&this.removeConditionsAndOperators(s,l),this.createMissingConditionsAndOperators()}}this.lastUiCompletePosition=r},t.prototype.updateConditionStatusesAndValues=function(e,r){var i=this;this.eTypes.forEach(function(a,s){var l=i.isConditionDisabled(s,e);a.setDisabled(l||i.filterListOptions.length<=1),s===1&&(_g(i.eJoinOperatorPanels[0],l),i.eJoinOperatorsAnd[0].setDisabled(l),i.eJoinOperatorsOr[0].setDisabled(l))}),this.eConditionBodies.forEach(function(a,s){mt(a,i.isConditionBodyVisible(s))});var o=(r??this.getJoinOperator())==="OR";this.eJoinOperatorsAnd.forEach(function(a,s){a.setValue(!o,!0)}),this.eJoinOperatorsOr.forEach(function(a,s){a.setValue(o,!0)}),this.forEachInput(function(a,s,l,u){i.setElementDisplayed(a,s<u),i.setElementDisabled(a,i.isConditionDisabled(l,e))}),this.resetPlaceholder()},t.prototype.shouldAddNewConditionAtEnd=function(e){return e&&this.getNumConditions()<this.maxNumConditions&&!this.isReadOnly()},t.prototype.removeConditionsAndOperators=function(e,r){if(!(e>=this.getNumConditions())){this.removeComponents(this.eTypes,e,r),this.removeElements(this.eConditionBodies,e,r),this.removeValueElements(e,r);var i=Math.max(e-1,0);this.removeElements(this.eJoinOperatorPanels,i,r),this.removeComponents(this.eJoinOperatorsAnd,i,r),this.removeComponents(this.eJoinOperatorsOr,i,r)}},t.prototype.removeElements=function(e,r,i){var o=this.removeItems(e,r,i);o.forEach(function(a){return Ml(a)})},t.prototype.removeComponents=function(e,r,i){var o=this,a=this.removeItems(e,r,i);a.forEach(function(s){Ml(s.getGui()),o.destroyBean(s)})},t.prototype.removeItems=function(e,r,i){return i==null?e.splice(r):e.splice(r,i)},t.prototype.afterGuiAttached=function(e){if(n.prototype.afterGuiAttached.call(this,e),this.resetPlaceholder(),!(e!=null&&e.suppressFocus))if(this.isReadOnly())this.eFilterBody.focus();else{var r=this.getInputs(0)[0];if(!r)return;r instanceof dd&&r.getInputElement().focus()}},t.prototype.afterGuiDetached=function(){n.prototype.afterGuiDetached.call(this);var e=this.getModel();this.resetUiToActiveModel(e);for(var r=-1,i=-1,o=!1,a=this.getJoinOperator(),s=this.getNumConditions()-1;s>=0;s--)if(this.isConditionUiComplete(s))r===-1&&(r=s,i=s);else{var l=s>=this.numAlwaysVisibleConditions&&!this.isConditionUiComplete(s-1),u=s<r;(l||u)&&(this.removeConditionsAndOperators(s,1),o=!0,u&&i--)}var c=!1;this.getNumConditions()<this.numAlwaysVisibleConditions&&(this.createMissingConditionsAndOperators(),c=!0),this.shouldAddNewConditionAtEnd(i===this.getNumConditions()-1)&&(this.createJoinOperatorPanel(),this.createOption(),c=!0),c&&this.updateConditionStatusesAndValues(i,a),o&&this.updateJoinOperatorsDisabled(),this.lastUiCompletePosition=i},t.prototype.getPlaceholderText=function(e,r){var i=this.translate(e);if(ST(this.filterPlaceholder)){var o=this.filterPlaceholder,a=this.eTypes[r].getValue(),s=this.translate(a);i=o({filterOptionKey:a,filterOption:s,placeholder:i})}else typeof this.filterPlaceholder=="string"&&(i=this.filterPlaceholder);return i},t.prototype.resetPlaceholder=function(){var e=this,r=this.localeService.getLocaleTextFunc();this.forEachInput(function(i,o,a,s){if(i instanceof dd){var l=o===0&&s>1?"inRangeStart":o===0?"filterOoo":"inRangeEnd",u=o===0&&s>1?r("ariaFilterFromValue","Filter from value"):o===0?r("ariaFilterValue","Filter Value"):r("ariaFilterToValue","Filter to Value");i.setInputPlaceholder(e.getPlaceholderText(l,a)),i.setInputAriaLabel(u)}})},t.prototype.setElementValue=function(e,r,i){e instanceof dd&&e.setValue(r!=null?String(r):null,!0)},t.prototype.setElementDisplayed=function(e,r){e instanceof de&&mt(e.getGui(),r)},t.prototype.setElementDisabled=function(e,r){e instanceof de&&_g(e.getGui(),r)},t.prototype.attachElementOnChange=function(e,r){e instanceof dd&&e.onValueChange(r)},t.prototype.forEachInput=function(e){var r=this;this.getConditionTypes().forEach(function(i,o){r.forEachPositionTypeInput(o,i,e)})},t.prototype.forEachPositionInput=function(e,r){var i=this.getConditionType(e);this.forEachPositionTypeInput(e,i,r)},t.prototype.forEachPositionTypeInput=function(e,r,i){for(var o=this.getNumberOfInputs(r),a=this.getInputs(e),s=0;s<a.length;s++){var l=a[s];l!=null&&i(l,s,e,o)}},t.prototype.isConditionDisabled=function(e,r){return this.isReadOnly()?!0:e===0?!1:e>r+1},t.prototype.isConditionBodyVisible=function(e){var r=this.getConditionType(e),i=this.getNumberOfInputs(r);return i>0},t.prototype.isConditionUiComplete=function(e){if(e>=this.getNumConditions())return!1;var r=this.getConditionType(e);return!(r===t.EMPTY||this.getValues(e).some(function(i){return i==null}))},t.prototype.getNumConditions=function(){return this.eTypes.length},t.prototype.getUiCompleteConditions=function(){for(var e=[],r=0;r<this.getNumConditions();r++)this.isConditionUiComplete(r)&&e.push(this.createCondition(r));return e},t.prototype.createMissingConditionsAndOperators=function(){if(!this.isReadOnly())for(var e=this.getNumConditions();e<this.numAlwaysVisibleConditions;e++)this.createJoinOperatorPanel(),this.createOption()},t.prototype.resetUiToDefaults=function(e){var r=this;return this.removeConditionsAndOperators(this.isReadOnly()?1:this.numAlwaysVisibleConditions),this.eTypes.forEach(function(i){return r.resetType(i)}),this.eJoinOperatorsAnd.forEach(function(i,o){return r.resetJoinOperatorAnd(i,o,r.joinOperatorId+o)}),this.eJoinOperatorsOr.forEach(function(i,o){return r.resetJoinOperatorOr(i,o,r.joinOperatorId+o)}),this.joinOperatorId++,this.forEachInput(function(i){return r.resetInput(i)}),this.resetPlaceholder(),this.createMissingConditionsAndOperators(),this.lastUiCompletePosition=null,e||this.onUiChanged(),Qe.resolve()},t.prototype.resetType=function(e){var r=this.localeService.getLocaleTextFunc(),i=r("ariaFilteringOperator","Filtering operator");e.setValue(this.optionsFactory.getDefaultOption(),!0).setAriaLabel(i).setDisabled(this.isReadOnly()||this.filterListOptions.length<=1)},t.prototype.resetJoinOperatorAnd=function(e,r,i){this.resetJoinOperator(e,r,this.isDefaultOperator("AND"),this.translate("andCondition"),i)},t.prototype.resetJoinOperatorOr=function(e,r,i){this.resetJoinOperator(e,r,this.isDefaultOperator("OR"),this.translate("orCondition"),i)},t.prototype.resetJoinOperator=function(e,r,i,o,a){this.updateJoinOperatorDisabled(e.setValue(i,!0).setName("ag-simple-filter-and-or-".concat(this.getCompId(),"-").concat(a)).setLabel(o),r)},t.prototype.updateJoinOperatorsDisabled=function(){var e=this;this.eJoinOperatorsAnd.forEach(function(r,i){return e.updateJoinOperatorDisabled(r,i)}),this.eJoinOperatorsOr.forEach(function(r,i){return e.updateJoinOperatorDisabled(r,i)})},t.prototype.updateJoinOperatorDisabled=function(e,r){e.setDisabled(this.isReadOnly()||r>0)},t.prototype.resetInput=function(e){this.setElementValue(e,null),this.setElementDisabled(e,this.isReadOnly())},t.prototype.setConditionIntoUi=function(e,r){var i=this,o=this.mapValuesFromModel(e);this.forEachInput(function(a,s,l,u){l===r&&i.setElementValue(a,o[s]!=null?o[s]:null)})},t.prototype.setValueFromFloatingFilter=function(e){var r=this;this.forEachInput(function(i,o,a,s){r.setElementValue(i,o===0&&a===0?e:null,!0)})},t.prototype.isDefaultOperator=function(e){return e===this.defaultJoinOperator},t.prototype.addChangedListeners=function(e,r){var i=this;this.isReadOnly()||(e.onValueChange(this.listener),this.forEachPositionInput(r,function(o){i.attachElementOnChange(o,i.listener)}))},t.prototype.individualConditionPasses=function(e,r){var i=this.getCellValue(e.node),o=this.mapValuesFromModel(r),a=this.optionsFactory.getCustomOption(r.type),s=this.evaluateCustomFilter(a,o,i);return s??(i==null?this.evaluateNullValue(r.type):this.evaluateNonNullValue(o,i,r,e))},t.prototype.evaluateCustomFilter=function(e,r,i){if(e!=null){var o=e.predicate;if(o!=null&&!r.some(function(a){return a==null}))return o(r,i)}},t.prototype.isBlank=function(e){return e==null||typeof e=="string"&&e.trim().length===0},t.prototype.hasInvalidInputs=function(){return!1},t.EMPTY="empty",t.BLANK="blank",t.NOT_BLANK="notBlank",t.EQUALS="equals",t.NOT_EQUAL="notEqual",t.LESS_THAN="lessThan",t.LESS_THAN_OR_EQUAL="lessThanOrEqual",t.GREATER_THAN="greaterThan",t.GREATER_THAN_OR_EQUAL="greaterThanOrEqual",t.IN_RANGE="inRange",t.CONTAINS="contains",t.NOT_CONTAINS="notContains",t.STARTS_WITH="startsWith",t.ENDS_WITH="endsWith",t}(Vd),ibe=function(){var n=function(t,e){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])},n(t,e)};return function(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");n(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}}(),Gr=function(n){ibe(t,n);function t(){return n!==null&&n.apply(this,arguments)||this}return t.prototype.setParams=function(e){n.prototype.setParams.call(this,e),this.scalarFilterParams=e},t.prototype.evaluateNullValue=function(e){switch(e){case t.EQUALS:case t.NOT_EQUAL:if(this.scalarFilterParams.includeBlanksInEquals)return!0;break;case t.GREATER_THAN:case t.GREATER_THAN_OR_EQUAL:if(this.scalarFilterParams.includeBlanksInGreaterThan)return!0;break;case t.LESS_THAN:case t.LESS_THAN_OR_EQUAL:if(this.scalarFilterParams.includeBlanksInLessThan)return!0;break;case t.IN_RANGE:if(this.scalarFilterParams.includeBlanksInRange)return!0;break;case t.BLANK:return!0;case t.NOT_BLANK:return!1}return!1},t.prototype.evaluateNonNullValue=function(e,r,i){var o=this.comparator(),a=e[0]!=null?o(e[0],r):0;switch(i.type){case t.EQUALS:return a===0;case t.NOT_EQUAL:return a!==0;case t.GREATER_THAN:return a>0;case t.GREATER_THAN_OR_EQUAL:return a>=0;case t.LESS_THAN:return a<0;case t.LESS_THAN_OR_EQUAL:return a<=0;case t.IN_RANGE:{var s=o(e[1],r);return this.scalarFilterParams.inRangeInclusive?a>=0&&s<=0:a>0&&s<0}case t.BLANK:return this.isBlank(r);case t.NOT_BLANK:return!this.isBlank(r);default:return console.warn('AG Grid: Unexpected type of filter "'+i.type+'", it looks like the filter was configured with incorrect Filter Options'),!0}},t}(hr),BY=function(){var n=function(t,e){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])},n(t,e)};return function(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");n(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}}(),RL=function(){return RL=Object.assign||function(n){for(var t,e=1,r=arguments.length;e<r;e++){t=arguments[e];for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(n[i]=t[i])}return n},RL.apply(this,arguments)},obe=function(n,t,e,r){var i=arguments.length,o=i<3?t:r===null?r=Object.getOwnPropertyDescriptor(t,e):r,a;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(n,t,e,r);else for(var s=n.length-1;s>=0;s--)(a=n[s])&&(o=(i<3?a(o):i>3?a(t,e,o):a(t,e))||o);return i>3&&o&&Object.defineProperty(t,e,o),o},h3=1e3,f3=1/0,HY=function(n){BY(t,n);function t(e,r,i){var o=n.call(this,r,i)||this;return o.dateFilterParams=e,o}return t.prototype.conditionToString=function(e,r){var i=e.type,o=(r||{}).numberOfInputs,a=i==hr.IN_RANGE||o===2,s=oo(e.dateFrom),l=oo(e.dateTo),u=this.dateFilterParams.inRangeFloatingFilterDateFormat;if(a){var c=s!==null?$v(s,u):"null",d=l!==null?$v(l,u):"null";return"".concat(c,"-").concat(d)}return s!=null?$v(s,u):"".concat(i)},t.prototype.updateParams=function(e){n.prototype.updateParams.call(this,e),this.dateFilterParams=e.dateFilterParams},t}(mG),CG=function(n){BY(t,n);function t(){var e=n.call(this,"dateFilter")||this;return e.eConditionPanelsFrom=[],e.eConditionPanelsTo=[],e.dateConditionFromComps=[],e.dateConditionToComps=[],e.minValidYear=h3,e.maxValidYear=f3,e.minValidDate=null,e.maxValidDate=null,e}return t.prototype.afterGuiAttached=function(e){n.prototype.afterGuiAttached.call(this,e),this.dateConditionFromComps[0].afterGuiAttached(e)},t.prototype.mapValuesFromModel=function(e){var r=e||{},i=r.dateFrom,o=r.dateTo,a=r.type;return[i&&oo(i)||null,o&&oo(o)||null].slice(0,this.getNumberOfInputs(a))},t.prototype.comparator=function(){return this.dateFilterParams.comparator?this.dateFilterParams.comparator:this.defaultComparator.bind(this)},t.prototype.defaultComparator=function(e,r){var i=r;return r==null||i<e?-1:i>e?1:0},t.prototype.setParams=function(e){this.dateFilterParams=e,n.prototype.setParams.call(this,e);var r=function(i,o){if(e[i]!=null)if(isNaN(e[i]))console.warn("AG Grid: DateFilter ".concat(i," is not a number"));else return e[i]==null?o:Number(e[i]);return o};this.minValidYear=r("minValidYear",h3),this.maxValidYear=r("maxValidYear",f3),this.minValidYear>this.maxValidYear&&console.warn("AG Grid: DateFilter minValidYear should be <= maxValidYear"),e.minValidDate?this.minValidDate=e.minValidDate instanceof Date?e.minValidDate:oo(e.minValidDate):this.minValidDate=null,e.maxValidDate?this.maxValidDate=e.maxValidDate instanceof Date?e.maxValidDate:oo(e.maxValidDate):this.maxValidDate=null,this.minValidDate&&this.maxValidDate&&this.minValidDate>this.maxValidDate&&console.warn("AG Grid: DateFilter minValidDate should be <= maxValidDate"),this.filterModelFormatter=new HY(this.dateFilterParams,this.localeService,this.optionsFactory)},t.prototype.createDateCompWrapper=function(e){var r=this,i=new NY(this.getContext(),this.userComponentFactory,{onDateChanged:function(){return r.onUiChanged()},filterParams:this.dateFilterParams},e);return this.addDestroyFunc(function(){return i.destroy()}),i},t.prototype.setElementValue=function(e,r){e.setDate(r)},t.prototype.setElementDisplayed=function(e,r){e.setDisplayed(r)},t.prototype.setElementDisabled=function(e,r){e.setDisabled(r)},t.prototype.getDefaultFilterOptions=function(){return t.DEFAULT_FILTER_OPTIONS},t.prototype.createValueElement=function(){var e=document.createElement("div");return e.classList.add("ag-filter-body"),this.createFromToElement(e,this.eConditionPanelsFrom,this.dateConditionFromComps,"from"),this.createFromToElement(e,this.eConditionPanelsTo,this.dateConditionToComps,"to"),e},t.prototype.createFromToElement=function(e,r,i,o){var a=document.createElement("div");a.classList.add("ag-filter-".concat(o)),a.classList.add("ag-filter-date-".concat(o)),r.push(a),e.appendChild(a),i.push(this.createDateCompWrapper(a))},t.prototype.removeValueElements=function(e,r){this.removeDateComps(this.dateConditionFromComps,e,r),this.removeDateComps(this.dateConditionToComps,e,r),this.removeItems(this.eConditionPanelsFrom,e,r),this.removeItems(this.eConditionPanelsTo,e,r)},t.prototype.removeDateComps=function(e,r,i){var o=this.removeItems(e,r,i);o.forEach(function(a){return a.destroy()})},t.prototype.isValidDateValue=function(e){if(e===null)return!1;if(this.minValidDate){if(e<this.minValidDate)return!1}else if(e.getUTCFullYear()<this.minValidYear)return!1;if(this.maxValidDate){if(e>this.maxValidDate)return!1}else if(e.getUTCFullYear()>this.maxValidYear)return!1;return!0},t.prototype.isConditionUiComplete=function(e){var r=this;if(!n.prototype.isConditionUiComplete.call(this,e))return!1;var i=!0;return this.forEachInput(function(o,a,s,l){s!==e||!i||a>=l||(i=i&&r.isValidDateValue(o.getDate()))}),i},t.prototype.areSimpleModelsEqual=function(e,r){return e.dateFrom===r.dateFrom&&e.dateTo===r.dateTo&&e.type===r.type},t.prototype.getFilterType=function(){return"date"},t.prototype.createCondition=function(e){var r=this.getConditionType(e),i={},o=this.getValues(e);return o.length>0&&(i.dateFrom=Ha(o[0])),o.length>1&&(i.dateTo=Ha(o[1])),RL({dateFrom:null,dateTo:null,filterType:this.getFilterType(),type:r},i)},t.prototype.resetPlaceholder=function(){var e=this.localeService.getLocaleTextFunc(),r=this.translate("dateFormatOoo"),i=e("ariaFilterValue","Filter Value");this.forEachInput(function(o){o.setInputPlaceholder(r),o.setInputAriaLabel(i)})},t.prototype.getInputs=function(e){return e>=this.dateConditionFromComps.length?[null,null]:[this.dateConditionFromComps[e],this.dateConditionToComps[e]]},t.prototype.getValues=function(e){var r=[];return this.forEachPositionInput(e,function(i,o,a,s){o<s&&r.push(i.getDate())}),r},t.prototype.translate=function(e){return e===Gr.LESS_THAN?n.prototype.translate.call(this,"before"):e===Gr.GREATER_THAN?n.prototype.translate.call(this,"after"):n.prototype.translate.call(this,e)},t.prototype.getModelAsString=function(e){var r;return(r=this.filterModelFormatter.getModelAsString(e))!==null&&r!==void 0?r:""},t.DEFAULT_FILTER_OPTIONS=[Gr.EQUALS,Gr.NOT_EQUAL,Gr.LESS_THAN,Gr.GREATER_THAN,Gr.IN_RANGE,Gr.BLANK,Gr.NOT_BLANK],obe([E("userComponentFactory")],t.prototype,"userComponentFactory",void 0),t}(Gr),abe=function(){var n=function(t,e){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])},n(t,e)};return function(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");n(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}}(),jY=function(n){abe(t,n);function t(){return n!==null&&n.apply(this,arguments)||this}return t.prototype.getDefaultDebounceMs=function(){return 0},t.prototype.destroy=function(){n.prototype.destroy.call(this)},t.prototype.isEventFromFloatingFilter=function(e){return e&&e.afterFloatingFilter},t.prototype.isEventFromDataChange=function(e){return e==null?void 0:e.afterDataChange},t.prototype.getLastType=function(){return this.lastType},t.prototype.isReadOnly=function(){return this.readOnly},t.prototype.setLastTypeFromModel=function(e){if(!e){this.lastType=this.optionsFactory.getDefaultOption();return}var r=e.operator,i;if(r){var o=e;i=o.conditions[0]}else i=e;this.lastType=i.type},t.prototype.canWeEditAfterModelFromParentFilter=function(e){if(!e)return this.isTypeEditable(this.lastType);var r=e.operator;if(r)return!1;var i=e;return this.isTypeEditable(i.type)},t.prototype.init=function(e){this.setSimpleParams(e,!1)},t.prototype.setSimpleParams=function(e,r){r===void 0&&(r=!0),this.optionsFactory=new kY,this.optionsFactory.init(e.filterParams,this.getDefaultFilterOptions()),r||(this.lastType=this.optionsFactory.getDefaultOption()),this.readOnly=!!e.filterParams.readOnly;var i=this.isTypeEditable(this.optionsFactory.getDefaultOption());this.setEditable(i)},t.prototype.onParamsUpdated=function(e){this.refresh(e)},t.prototype.refresh=function(e){this.setSimpleParams(e)},t.prototype.doesFilterHaveSingleInput=function(e){var r=this.optionsFactory.getCustomOption(e),i=(r||{}).numberOfInputs;return i==null||i==1},t.prototype.isTypeEditable=function(e){var r=[hr.IN_RANGE,hr.EMPTY,hr.BLANK,hr.NOT_BLANK];return!!e&&!this.isReadOnly()&&this.doesFilterHaveSingleInput(e)&&r.indexOf(e)<0},t}(de),sbe=function(){var n=function(t,e){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])},n(t,e)};return function(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");n(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}}(),UA=function(n,t,e,r){var i=arguments.length,o=i<3?t:r===null?r=Object.getOwnPropertyDescriptor(t,e):r,a;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(n,t,e,r);else for(var s=n.length-1;s>=0;s--)(a=n[s])&&(o=(i<3?a(o):i>3?a(t,e,o):a(t,e))||o);return i>3&&o&&Object.defineProperty(t,e,o),o},lbe=function(n){sbe(t,n);function t(){return n.call(this,`
            <div class="ag-floating-filter-input" role="presentation">
                <ag-input-text-field ref="eReadOnlyText"></ag-input-text-field>
                <div ref="eDateWrapper" style="display: flex;"></div>
            </div>`)||this}return t.prototype.getDefaultFilterOptions=function(){return CG.DEFAULT_FILTER_OPTIONS},t.prototype.init=function(e){n.prototype.init.call(this,e),this.params=e,this.filterParams=e.filterParams,this.createDateComponent(),this.filterModelFormatter=new HY(this.filterParams,this.localeService,this.optionsFactory);var r=this.localeService.getLocaleTextFunc();this.eReadOnlyText.setDisabled(!0).setInputAriaLabel(r("ariaDateFilterInput","Date Filter Input"))},t.prototype.onParamsUpdated=function(e){this.refresh(e)},t.prototype.refresh=function(e){n.prototype.refresh.call(this,e),this.params=e,this.filterParams=e.filterParams,this.updateDateComponent(),this.filterModelFormatter.updateParams({optionsFactory:this.optionsFactory,dateFilterParams:this.filterParams}),this.updateCompOnModelChange(e.currentParentModel())},t.prototype.updateCompOnModelChange=function(e){var r=!this.isReadOnly()&&this.canWeEditAfterModelFromParentFilter(e);if(this.setEditable(r),r){if(e){var i=e;this.dateComp.setDate(oo(i.dateFrom))}else this.dateComp.setDate(null);this.eReadOnlyText.setValue("")}else this.eReadOnlyText.setValue(this.filterModelFormatter.getModelAsString(e)),this.dateComp.setDate(null)},t.prototype.setEditable=function(e){mt(this.eDateWrapper,e),mt(this.eReadOnlyText.getGui(),!e)},t.prototype.onParentModelChanged=function(e,r){this.isEventFromFloatingFilter(r)||this.isEventFromDataChange(r)||(n.prototype.setLastTypeFromModel.call(this,e),this.updateCompOnModelChange(e))},t.prototype.onDateChanged=function(){var e=this,r=this.dateComp.getDate(),i=Ha(r);this.params.parentFilterInstance(function(o){if(o){var a=oo(i);o.onFloatingFilterChanged(e.getLastType()||null,a)}})},t.prototype.getDateComponentParams=function(){var e=Vd.getDebounceMs(this.params.filterParams,this.getDefaultDebounceMs());return{onDateChanged:Qo(this.onDateChanged.bind(this),e),filterParams:this.params.column.getColDef().filterParams}},t.prototype.createDateComponent=function(){var e=this;this.dateComp=new NY(this.getContext(),this.userComponentFactory,this.getDateComponentParams(),this.eDateWrapper),this.addDestroyFunc(function(){return e.dateComp.destroy()})},t.prototype.updateDateComponent=function(){var e=this.gridOptionsService.addGridCommonParams(this.getDateComponentParams());this.dateComp.updateParams(e)},t.prototype.getFilterModelFormatter=function(){return this.filterModelFormatter},UA([E("userComponentFactory")],t.prototype,"userComponentFactory",void 0),UA([$("eReadOnlyText")],t.prototype,"eReadOnlyText",void 0),UA([$("eDateWrapper")],t.prototype,"eDateWrapper",void 0),t}(jY),ube=function(){var n=function(t,e){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])},n(t,e)};return function(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");n(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}}(),cbe=function(n,t,e,r){var i=arguments.length,o=i<3?t:r===null?r=Object.getOwnPropertyDescriptor(t,e):r,a;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(n,t,e,r);else for(var s=n.length-1;s>=0;s--)(a=n[s])&&(o=(i<3?a(o):i>3?a(t,e,o):a(t,e))||o);return i>3&&o&&Object.defineProperty(t,e,o),o},dbe=function(n,t){var e=typeof Symbol=="function"&&n[Symbol.iterator];if(!e)return n;var r=e.call(n),i,o=[],a;try{for(;(t===void 0||t-- >0)&&!(i=r.next()).done;)o.push(i.value)}catch(s){a={error:s}}finally{try{i&&!i.done&&(e=r.return)&&e.call(r)}finally{if(a)throw a.error}}return o},pbe=function(n){ube(t,n);function t(){return n.call(this,`
            <div class="ag-filter-filter">
                <ag-input-text-field class="ag-date-filter" ref="eDateInput"></ag-input-text-field>
            </div>`)||this}return t.prototype.destroy=function(){n.prototype.destroy.call(this)},t.prototype.init=function(e){var r=this;this.params=e,this.setParams(e);var i=this.gridOptionsService.getDocument(),o=this.eDateInput.getInputElement();this.addManagedListener(o,"mousedown",function(){r.eDateInput.isDisabled()||r.usingSafariDatePicker||o.focus()}),this.addManagedListener(o,"input",function(a){a.target===i.activeElement&&(r.eDateInput.isDisabled()||r.params.onDateChanged())})},t.prototype.setParams=function(e){var r=this.eDateInput.getInputElement(),i=this.shouldUseBrowserDatePicker(e);this.usingSafariDatePicker=i&&Xl(),r.type=i?"date":"text";var o=e.filterParams||{},a=o.minValidYear,s=o.maxValidYear,l=o.minValidDate,u=o.maxValidDate;if(l&&a&&Le("DateFilter should not have both minValidDate and minValidYear parameters set at the same time! minValidYear will be ignored."),u&&s&&Le("DateFilter should not have both maxValidDate and maxValidYear parameters set at the same time! maxValidYear will be ignored."),l&&u){var c=dbe([l,u].map(function(h){return h instanceof Date?h:oo(h)}),2),d=c[0],p=c[1];d&&p&&d.getTime()>p.getTime()&&Le("DateFilter parameter minValidDate should always be lower than or equal to parameter maxValidDate.")}l?l instanceof Date?r.min=$v(l):r.min=l:a&&(r.min="".concat(a,"-01-01")),u?u instanceof Date?r.max=$v(u):r.max=u:s&&(r.max="".concat(s,"-12-31"))},t.prototype.onParamsUpdated=function(e){this.refresh(e)},t.prototype.refresh=function(e){this.params=e,this.setParams(e)},t.prototype.getDate=function(){return oo(this.eDateInput.getValue())},t.prototype.setDate=function(e){this.eDateInput.setValue(Ha(e,!1))},t.prototype.setInputPlaceholder=function(e){this.eDateInput.setInputPlaceholder(e)},t.prototype.setDisabled=function(e){this.eDateInput.setDisabled(e)},t.prototype.afterGuiAttached=function(e){(!e||!e.suppressFocus)&&this.eDateInput.getInputElement().focus()},t.prototype.shouldUseBrowserDatePicker=function(e){return e.filterParams&&e.filterParams.browserDatePicker!=null?e.filterParams.browserDatePicker:_T()||Jk()||Xl()&&Qk()>=14.1},cbe([$("eDateInput")],t.prototype,"eDateInput",void 0),t}(de),hbe=function(){var n=function(t,e){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])},n(t,e)};return function(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");n(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}}(),tu=function(n){hbe(t,n);function t(e,r,i){return r===void 0&&(r="ag-text-field"),i===void 0&&(i="text"),n.call(this,e,r,i)||this}return t.prototype.postConstruct=function(){n.prototype.postConstruct.call(this),this.config.allowedCharPattern&&this.preventDisallowedCharacters()},t.prototype.setValue=function(e,r){return this.eInput.value!==e&&(this.eInput.value=ce(e)?e:""),n.prototype.setValue.call(this,e,r)},t.prototype.setStartValue=function(e){this.setValue(e,!0)},t.prototype.preventDisallowedCharacters=function(){var e=new RegExp("[".concat(this.config.allowedCharPattern,"]")),r=function(i){ET(i)&&i.key&&!e.test(i.key)&&i.preventDefault()};this.addManagedListener(this.eInput,"keydown",r),this.addManagedListener(this.eInput,"paste",function(i){var o,a=(o=i.clipboardData)===null||o===void 0?void 0:o.getData("text");a&&a.split("").some(function(s){return!e.test(s)})&&i.preventDefault()})},t}(dd),fbe=function(){var n=function(t,e){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])},n(t,e)};return function(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");n(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}}(),Gw=function(n){fbe(t,n);function t(e){return n.call(this,e,"ag-number-field","number")||this}return t.prototype.postConstruct=function(){var e=this;n.prototype.postConstruct.call(this),this.addManagedListener(this.eInput,"blur",function(){var r=parseFloat(e.eInput.value),i=isNaN(r)?"":e.normalizeValue(r.toString());e.value!==i&&e.setValue(i)}),this.addManagedListener(this.eInput,"wheel",this.onWheel.bind(this)),this.eInput.step="any"},t.prototype.onWheel=function(e){document.activeElement===this.eInput&&e.preventDefault()},t.prototype.normalizeValue=function(e){if(e==="")return"";this.precision!=null&&(e=this.adjustPrecision(e));var r=parseFloat(e);return this.min!=null&&r<this.min?e=this.min.toString():this.max!=null&&r>this.max&&(e=this.max.toString()),e},t.prototype.adjustPrecision=function(e,r){if(this.precision==null)return e;if(r){var i=parseFloat(e).toFixed(this.precision);return parseFloat(i).toString()}var o=String(e).split(".");if(o.length>1){if(o[1].length<=this.precision)return e;if(this.precision>0)return"".concat(o[0],".").concat(o[1].slice(0,this.precision))}return o[0]},t.prototype.setMin=function(e){return this.min===e?this:(this.min=e,$l(this.eInput,"min",e),this)},t.prototype.setMax=function(e){return this.max===e?this:(this.max=e,$l(this.eInput,"max",e),this)},t.prototype.setPrecision=function(e){return this.precision=e,this},t.prototype.setStep=function(e){return this.step===e?this:(this.step=e,$l(this.eInput,"step",e),this)},t.prototype.setValue=function(e,r){var i=this;return this.setValueOrInputValue(function(o){return n.prototype.setValue.call(i,o,r)},function(){return i},e)},t.prototype.setStartValue=function(e){var r=this;return this.setValueOrInputValue(function(i){return n.prototype.setValue.call(r,i,!0)},function(i){r.eInput.value=i},e)},t.prototype.setValueOrInputValue=function(e,r,i){if(ce(i)){var o=this.isScientificNotation(i);if(o&&this.eInput.validity.valid)return e(i);if(!o){i=this.adjustPrecision(i);var a=this.normalizeValue(i);o=i!=a}if(o)return r(i)}return e(i)},t.prototype.getValue=function(){if(this.eInput.validity.valid){var e=this.eInput.value;return this.isScientificNotation(e)?this.adjustPrecision(e,!0):n.prototype.getValue.call(this)}},t.prototype.isScientificNotation=function(e){return typeof e=="string"&&e.includes("e")},t}(tu),$Y=function(){var n=function(t,e){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])},n(t,e)};return function(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");n(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}}(),WY=function(n){$Y(t,n);function t(){return n!==null&&n.apply(this,arguments)||this}return t.prototype.conditionToString=function(e,r){var i=(r||{}).numberOfInputs,o=e.type==hr.IN_RANGE||i===2;return o?"".concat(this.formatValue(e.filter),"-").concat(this.formatValue(e.filterTo)):e.filter!=null?this.formatValue(e.filter):"".concat(e.type)},t}(mG);function TL(n){var t=(n??{}).allowedCharPattern;return t??null}var SG=function(n){$Y(t,n);function t(){var e=n.call(this,"numberFilter")||this;return e.eValuesFrom=[],e.eValuesTo=[],e}return t.prototype.refresh=function(e){return this.numberFilterParams.allowedCharPattern!==e.allowedCharPattern?!1:n.prototype.refresh.call(this,e)},t.prototype.mapValuesFromModel=function(e){var r=e||{},i=r.filter,o=r.filterTo,a=r.type;return[this.processValue(i),this.processValue(o)].slice(0,this.getNumberOfInputs(a))},t.prototype.getDefaultDebounceMs=function(){return 500},t.prototype.comparator=function(){return function(e,r){return e===r?0:e<r?1:-1}},t.prototype.setParams=function(e){this.numberFilterParams=e,n.prototype.setParams.call(this,e),this.filterModelFormatter=new WY(this.localeService,this.optionsFactory,this.numberFilterParams.numberFormatter)},t.prototype.getDefaultFilterOptions=function(){return t.DEFAULT_FILTER_OPTIONS},t.prototype.setElementValue=function(e,r,i){var o=!i&&this.numberFilterParams.numberFormatter?this.numberFilterParams.numberFormatter(r??null):r;n.prototype.setElementValue.call(this,e,o)},t.prototype.createValueElement=function(){var e=TL(this.numberFilterParams),r=document.createElement("div");return r.classList.add("ag-filter-body"),on(r,"presentation"),this.createFromToElement(r,this.eValuesFrom,"from",e),this.createFromToElement(r,this.eValuesTo,"to",e),r},t.prototype.createFromToElement=function(e,r,i,o){var a=this.createManagedBean(o?new tu({allowedCharPattern:o}):new Gw);a.addCssClass("ag-filter-".concat(i)),a.addCssClass("ag-filter-filter"),r.push(a),e.appendChild(a.getGui())},t.prototype.removeValueElements=function(e,r){this.removeComponents(this.eValuesFrom,e,r),this.removeComponents(this.eValuesTo,e,r)},t.prototype.getValues=function(e){var r=this,i=[];return this.forEachPositionInput(e,function(o,a,s,l){a<l&&i.push(r.processValue(r.stringToFloat(o.getValue())))}),i},t.prototype.areSimpleModelsEqual=function(e,r){return e.filter===r.filter&&e.filterTo===r.filterTo&&e.type===r.type},t.prototype.getFilterType=function(){return"number"},t.prototype.processValue=function(e){return e==null||isNaN(e)?null:e},t.prototype.stringToFloat=function(e){if(typeof e=="number")return e;var r=jl(e);return r!=null&&r.trim()===""&&(r=null),this.numberFilterParams.numberParser?this.numberFilterParams.numberParser(r):r==null||r.trim()==="-"?null:parseFloat(r)},t.prototype.createCondition=function(e){var r=this.getConditionType(e),i={filterType:this.getFilterType(),type:r},o=this.getValues(e);return o.length>0&&(i.filter=o[0]),o.length>1&&(i.filterTo=o[1]),i},t.prototype.getInputs=function(e){return e>=this.eValuesFrom.length?[null,null]:[this.eValuesFrom[e],this.eValuesTo[e]]},t.prototype.getModelAsString=function(e){var r;return(r=this.filterModelFormatter.getModelAsString(e))!==null&&r!==void 0?r:""},t.prototype.hasInvalidInputs=function(){var e=!1;return this.forEachInput(function(r){if(!r.getInputElement().validity.valid){e=!0;return}}),e},t.DEFAULT_FILTER_OPTIONS=[Gr.EQUALS,Gr.NOT_EQUAL,Gr.GREATER_THAN,Gr.GREATER_THAN_OR_EQUAL,Gr.LESS_THAN,Gr.LESS_THAN_OR_EQUAL,Gr.IN_RANGE,Gr.BLANK,Gr.NOT_BLANK],t}(Gr),UY=function(){var n=function(t,e){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])},n(t,e)};return function(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");n(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}}(),kb=function(){return kb=Object.assign||function(n){for(var t,e=1,r=arguments.length;e<r;e++){t=arguments[e];for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(n[i]=t[i])}return n},kb.apply(this,arguments)},zY=function(n){UY(t,n);function t(){return n!==null&&n.apply(this,arguments)||this}return t.prototype.conditionToString=function(e,r){var i=(r||{}).numberOfInputs,o=e.type==hr.IN_RANGE||i===2;return o?"".concat(e.filter,"-").concat(e.filterTo):e.filter!=null?"".concat(e.filter):"".concat(e.type)},t}(mG),xg=function(n){UY(t,n);function t(){var e=n.call(this,"textFilter")||this;return e.eValuesFrom=[],e.eValuesTo=[],e}return t.trimInput=function(e){var r=e&&e.trim();return r===""?e:r},t.prototype.getDefaultDebounceMs=function(){return 500},t.prototype.setParams=function(e){this.textFilterParams=e,n.prototype.setParams.call(this,e),this.matcher=this.getTextMatcher(),this.formatter=this.textFilterParams.textFormatter||(this.textFilterParams.caseSensitive?t.DEFAULT_FORMATTER:t.DEFAULT_LOWERCASE_FORMATTER),this.filterModelFormatter=new zY(this.localeService,this.optionsFactory)},t.prototype.getTextMatcher=function(){var e=this.textFilterParams.textCustomComparator;return e?(D.warnOnce("textCustomComparator is deprecated, use textMatcher instead."),function(r){var i=r.filterOption,o=r.value,a=r.filterText;return e(i,o,a)}):this.textFilterParams.textMatcher||t.DEFAULT_MATCHER},t.prototype.createCondition=function(e){var r=this.getConditionType(e),i={filterType:this.getFilterType(),type:r},o=this.getValuesWithSideEffects(e,!0);return o.length>0&&(i.filter=o[0]),o.length>1&&(i.filterTo=o[1]),i},t.prototype.getFilterType=function(){return"text"},t.prototype.areSimpleModelsEqual=function(e,r){return e.filter===r.filter&&e.filterTo===r.filterTo&&e.type===r.type},t.prototype.getInputs=function(e){return e>=this.eValuesFrom.length?[null,null]:[this.eValuesFrom[e],this.eValuesTo[e]]},t.prototype.getValues=function(e){return this.getValuesWithSideEffects(e,!1)},t.prototype.getValuesWithSideEffects=function(e,r){var i=this,o=[];return this.forEachPositionInput(e,function(a,s,l,u){var c;if(s<u){var d=jl(a.getValue());r&&i.textFilterParams.trimInput&&(d=(c=t.trimInput(d))!==null&&c!==void 0?c:null,a.setValue(d,!0)),o.push(d)}}),o},t.prototype.getDefaultFilterOptions=function(){return t.DEFAULT_FILTER_OPTIONS},t.prototype.createValueElement=function(){var e=document.createElement("div");return e.classList.add("ag-filter-body"),on(e,"presentation"),this.createFromToElement(e,this.eValuesFrom,"from"),this.createFromToElement(e,this.eValuesTo,"to"),e},t.prototype.createFromToElement=function(e,r,i){var o=this.createManagedBean(new tu);o.addCssClass("ag-filter-".concat(i)),o.addCssClass("ag-filter-filter"),r.push(o),e.appendChild(o.getGui())},t.prototype.removeValueElements=function(e,r){this.removeComponents(this.eValuesFrom,e,r),this.removeComponents(this.eValuesTo,e,r)},t.prototype.mapValuesFromModel=function(e){var r=e||{},i=r.filter,o=r.filterTo,a=r.type;return[i||null,o||null].slice(0,this.getNumberOfInputs(a))},t.prototype.evaluateNullValue=function(e){var r=[hr.NOT_EQUAL,hr.NOT_CONTAINS,hr.BLANK];return e?r.indexOf(e)>=0:!1},t.prototype.evaluateNonNullValue=function(e,r,i,o){var a=this,s=e.map(function(y){return a.formatter(y)})||[],l=this.formatter(r),u=this.textFilterParams,c=u.api,d=u.colDef,p=u.column,h=u.columnApi,f=u.context,v=u.textFormatter;if(i.type===hr.BLANK)return this.isBlank(r);if(i.type===hr.NOT_BLANK)return!this.isBlank(r);var g={api:c,colDef:d,column:p,columnApi:h,context:f,node:o.node,data:o.data,filterOption:i.type,value:l,textFormatter:v};return s.some(function(y){return a.matcher(kb(kb({},g),{filterText:y}))})},t.prototype.getModelAsString=function(e){var r;return(r=this.filterModelFormatter.getModelAsString(e))!==null&&r!==void 0?r:""},t.DEFAULT_FILTER_OPTIONS=[hr.CONTAINS,hr.NOT_CONTAINS,hr.EQUALS,hr.NOT_EQUAL,hr.STARTS_WITH,hr.ENDS_WITH,hr.BLANK,hr.NOT_BLANK],t.DEFAULT_FORMATTER=function(e){return e},t.DEFAULT_LOWERCASE_FORMATTER=function(e){return e==null?null:e.toString().toLowerCase()},t.DEFAULT_MATCHER=function(e){var r=e.filterOption,i=e.value,o=e.filterText;if(o==null)return!1;switch(r){case t.CONTAINS:return i.indexOf(o)>=0;case t.NOT_CONTAINS:return i.indexOf(o)<0;case t.EQUALS:return i===o;case t.NOT_EQUAL:return i!=o;case t.STARTS_WITH:return i.indexOf(o)===0;case t.ENDS_WITH:var a=i.lastIndexOf(o);return a>=0&&a===i.length-o.length;default:return!1}},t}(hr),KY=function(){var n=function(t,e){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])},n(t,e)};return function(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");n(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}}(),zA=function(n,t,e,r){var i=arguments.length,o=i<3?t:r===null?r=Object.getOwnPropertyDescriptor(t,e):r,a;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(n,t,e,r);else for(var s=n.length-1;s>=0;s--)(a=n[s])&&(o=(i<3?a(o):i>3?a(t,e,o):a(t,e))||o);return i>3&&o&&Object.defineProperty(t,e,o),o},YY=function(n){KY(t,n);function t(e){var r=n.call(this)||this;return r.params=e,r.valueChangedListener=function(){},r}return t.prototype.setupGui=function(e){var r=this,i;this.eFloatingFilterTextInput=this.createManagedBean(new tu((i=this.params)===null||i===void 0?void 0:i.config));var o=this.eFloatingFilterTextInput.getGui();e.appendChild(o),this.addManagedListener(o,"input",function(a){return r.valueChangedListener(a)}),this.addManagedListener(o,"keydown",function(a){return r.valueChangedListener(a)})},t.prototype.setEditable=function(e){this.eFloatingFilterTextInput.setDisabled(!e)},t.prototype.setAutoComplete=function(e){this.eFloatingFilterTextInput.setAutoComplete(e)},t.prototype.getValue=function(){return this.eFloatingFilterTextInput.getValue()},t.prototype.setValue=function(e,r){this.eFloatingFilterTextInput.setValue(e,r)},t.prototype.setValueChangedListener=function(e){this.valueChangedListener=e},t.prototype.setParams=function(e){this.setAriaLabel(e.ariaLabel),e.autoComplete!==void 0&&this.setAutoComplete(e.autoComplete)},t.prototype.setAriaLabel=function(e){this.eFloatingFilterTextInput.setInputAriaLabel(e)},t}(q),XY=function(n){KY(t,n);function t(){return n!==null&&n.apply(this,arguments)||this}return t.prototype.postConstruct=function(){this.setTemplate(`
            <div class="ag-floating-filter-input" role="presentation" ref="eFloatingFilterInputContainer"></div>
        `)},t.prototype.getDefaultDebounceMs=function(){return 500},t.prototype.onParentModelChanged=function(e,r){this.isEventFromFloatingFilter(r)||this.isEventFromDataChange(r)||(this.setLastTypeFromModel(e),this.setEditable(this.canWeEditAfterModelFromParentFilter(e)),this.floatingFilterInputService.setValue(this.getFilterModelFormatter().getModelAsString(e)))},t.prototype.init=function(e){this.setupFloatingFilterInputService(e),n.prototype.init.call(this,e),this.setTextInputParams(e)},t.prototype.setupFloatingFilterInputService=function(e){this.floatingFilterInputService=this.createFloatingFilterInputService(e),this.floatingFilterInputService.setupGui(this.eFloatingFilterInputContainer)},t.prototype.setTextInputParams=function(e){var r;this.params=e;var i=(r=e.browserAutoComplete)!==null&&r!==void 0?r:!1;if(this.floatingFilterInputService.setParams({ariaLabel:this.getAriaLabel(e),autoComplete:i}),this.applyActive=Vd.isUseApplyButton(this.params.filterParams),!this.isReadOnly()){var o=Vd.getDebounceMs(this.params.filterParams,this.getDefaultDebounceMs()),a=Qo(this.syncUpWithParentFilter.bind(this),o);this.floatingFilterInputService.setValueChangedListener(a)}},t.prototype.onParamsUpdated=function(e){this.refresh(e)},t.prototype.refresh=function(e){n.prototype.refresh.call(this,e),this.setTextInputParams(e)},t.prototype.recreateFloatingFilterInputService=function(e){var r=this.floatingFilterInputService.getValue();Sn(this.eFloatingFilterInputContainer),this.destroyBean(this.floatingFilterInputService),this.setupFloatingFilterInputService(e),this.floatingFilterInputService.setValue(r,!0)},t.prototype.getAriaLabel=function(e){var r=this.columnModel.getDisplayNameForColumn(e.column,"header",!0),i=this.localeService.getLocaleTextFunc();return"".concat(r," ").concat(i("ariaFilterInput","Filter Input"))},t.prototype.syncUpWithParentFilter=function(e){var r=this,i=e.key===U.ENTER;if(!(this.applyActive&&!i)){var o=this.floatingFilterInputService.getValue();this.params.filterParams.trimInput&&(o=xg.trimInput(o),this.floatingFilterInputService.setValue(o,!0)),this.params.parentFilterInstance(function(a){a&&a.onFloatingFilterChanged(r.getLastType()||null,o||null)})}},t.prototype.setEditable=function(e){this.floatingFilterInputService.setEditable(e)},zA([E("columnModel")],t.prototype,"columnModel",void 0),zA([$("eFloatingFilterInputContainer")],t.prototype,"eFloatingFilterInputContainer",void 0),zA([z],t.prototype,"postConstruct",null),t}(jY),qY=function(){var n=function(t,e){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])},n(t,e)};return function(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");n(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}}(),vbe=function(n){qY(t,n);function t(){var e=n!==null&&n.apply(this,arguments)||this;return e.valueChangedListener=function(){},e.numberInputActive=!0,e}return t.prototype.setupGui=function(e){var r=this;this.eFloatingFilterNumberInput=this.createManagedBean(new Gw),this.eFloatingFilterTextInput=this.createManagedBean(new tu),this.eFloatingFilterTextInput.setDisabled(!0);var i=this.eFloatingFilterNumberInput.getGui(),o=this.eFloatingFilterTextInput.getGui();e.appendChild(i),e.appendChild(o),this.setupListeners(i,function(a){return r.valueChangedListener(a)}),this.setupListeners(o,function(a){return r.valueChangedListener(a)})},t.prototype.setEditable=function(e){this.numberInputActive=e,this.eFloatingFilterNumberInput.setDisplayed(this.numberInputActive),this.eFloatingFilterTextInput.setDisplayed(!this.numberInputActive)},t.prototype.setAutoComplete=function(e){this.eFloatingFilterNumberInput.setAutoComplete(e),this.eFloatingFilterTextInput.setAutoComplete(e)},t.prototype.getValue=function(){return this.getActiveInputElement().getValue()},t.prototype.setValue=function(e,r){this.getActiveInputElement().setValue(e,r)},t.prototype.getActiveInputElement=function(){return this.numberInputActive?this.eFloatingFilterNumberInput:this.eFloatingFilterTextInput},t.prototype.setValueChangedListener=function(e){this.valueChangedListener=e},t.prototype.setupListeners=function(e,r){this.addManagedListener(e,"input",r),this.addManagedListener(e,"keydown",r)},t.prototype.setParams=function(e){this.setAriaLabel(e.ariaLabel),e.autoComplete!==void 0&&this.setAutoComplete(e.autoComplete)},t.prototype.setAriaLabel=function(e){this.eFloatingFilterNumberInput.setInputAriaLabel(e),this.eFloatingFilterTextInput.setInputAriaLabel(e)},t}(q),gbe=function(n){qY(t,n);function t(){return n!==null&&n.apply(this,arguments)||this}return t.prototype.init=function(e){var r;n.prototype.init.call(this,e),this.filterModelFormatter=new WY(this.localeService,this.optionsFactory,(r=e.filterParams)===null||r===void 0?void 0:r.numberFormatter)},t.prototype.onParamsUpdated=function(e){this.refresh(e)},t.prototype.refresh=function(e){var r=TL(e.filterParams);r!==this.allowedCharPattern&&this.recreateFloatingFilterInputService(e),n.prototype.refresh.call(this,e),this.filterModelFormatter.updateParams({optionsFactory:this.optionsFactory})},t.prototype.getDefaultFilterOptions=function(){return SG.DEFAULT_FILTER_OPTIONS},t.prototype.getFilterModelFormatter=function(){return this.filterModelFormatter},t.prototype.createFloatingFilterInputService=function(e){return this.allowedCharPattern=TL(e.filterParams),this.allowedCharPattern?this.createManagedBean(new YY({config:{allowedCharPattern:this.allowedCharPattern}})):this.createManagedBean(new vbe)},t}(XY),ybe=function(){var n=function(t,e){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])},n(t,e)};return function(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");n(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}}(),ZY=function(n){ybe(t,n);function t(){return n!==null&&n.apply(this,arguments)||this}return t.prototype.init=function(e){n.prototype.init.call(this,e),this.filterModelFormatter=new zY(this.localeService,this.optionsFactory)},t.prototype.onParamsUpdated=function(e){this.refresh(e)},t.prototype.refresh=function(e){n.prototype.refresh.call(this,e),this.filterModelFormatter.updateParams({optionsFactory:this.optionsFactory})},t.prototype.getDefaultFilterOptions=function(){return xg.DEFAULT_FILTER_OPTIONS},t.prototype.getFilterModelFormatter=function(){return this.filterModelFormatter},t.prototype.createFloatingFilterInputService=function(){return this.createManagedBean(new YY)},t}(XY),jr=function(){function n(t,e){e===void 0&&(e=!1);var r=this;this.destroyFuncs=[],this.touching=!1,this.eventService=new Hs,this.eElement=t,this.preventMouseClick=e;var i=this.onTouchStart.bind(this),o=this.onTouchMove.bind(this),a=this.onTouchEnd.bind(this);this.eElement.addEventListener("touchstart",i,{passive:!0}),this.eElement.addEventListener("touchmove",o,{passive:!0}),this.eElement.addEventListener("touchend",a,{passive:!1}),this.destroyFuncs.push(function(){r.eElement.removeEventListener("touchstart",i,{passive:!0}),r.eElement.removeEventListener("touchmove",o,{passive:!0}),r.eElement.removeEventListener("touchend",a,{passive:!1})})}return n.prototype.getActiveTouch=function(t){for(var e=0;e<t.length;e++){var r=t[e].identifier===this.touchStart.identifier;if(r)return t[e]}return null},n.prototype.addEventListener=function(t,e){this.eventService.addEventListener(t,e)},n.prototype.removeEventListener=function(t,e){this.eventService.removeEventListener(t,e)},n.prototype.onTouchStart=function(t){var e=this;if(!this.touching){this.touchStart=t.touches[0],this.touching=!0,this.moved=!1;var r=this.touchStart;window.setTimeout(function(){var i=e.touchStart===r;if(e.touching&&i&&!e.moved){e.moved=!0;var o={type:n.EVENT_LONG_TAP,touchStart:e.touchStart,touchEvent:t};e.eventService.dispatchEvent(o)}},500)}},n.prototype.onTouchMove=function(t){if(this.touching){var e=this.getActiveTouch(t.touches);if(e){var r=!fG(e,this.touchStart,4);r&&(this.moved=!0)}}},n.prototype.onTouchEnd=function(t){if(this.touching){if(!this.moved){var e={type:n.EVENT_TAP,touchStart:this.touchStart};this.eventService.dispatchEvent(e),this.checkForDoubleTap()}this.preventMouseClick&&t.cancelable&&t.preventDefault(),this.touching=!1}},n.prototype.checkForDoubleTap=function(){var t=new Date().getTime();if(this.lastTapTime&&this.lastTapTime>0){var e=t-this.lastTapTime;if(e>n.DOUBLE_TAP_MILLIS){var r={type:n.EVENT_DOUBLE_TAP,touchStart:this.touchStart};this.eventService.dispatchEvent(r),this.lastTapTime=null}else this.lastTapTime=t}else this.lastTapTime=t},n.prototype.destroy=function(){this.destroyFuncs.forEach(function(t){return t()})},n.EVENT_TAP="tap",n.EVENT_DOUBLE_TAP="doubleTap",n.EVENT_LONG_TAP="longTap",n.DOUBLE_TAP_MILLIS=500,n}(),mbe=function(){var n=function(t,e){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])},n(t,e)};return function(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");n(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}}(),gp=function(n,t,e,r){var i=arguments.length,o=i<3?t:r===null?r=Object.getOwnPropertyDescriptor(t,e):r,a;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(n,t,e,r);else for(var s=n.length-1;s>=0;s--)(a=n[s])&&(o=(i<3?a(o):i>3?a(t,e,o):a(t,e))||o);return i>3&&o&&Object.defineProperty(t,e,o),o},TT=function(n){mbe(t,n);function t(e){var r=n.call(this)||this;return e||r.setTemplate(t.TEMPLATE),r}return t.prototype.attachCustomElements=function(e,r,i,o,a){this.eSortOrder=e,this.eSortAsc=r,this.eSortDesc=i,this.eSortMixed=o,this.eSortNone=a},t.prototype.setupSort=function(e,r){var i=this;r===void 0&&(r=!1),this.column=e,this.suppressOrder=r,this.setupMultiSortIndicator(),this.column.isSortable()&&(this.addInIcon("sortAscending",this.eSortAsc,e),this.addInIcon("sortDescending",this.eSortDesc,e),this.addInIcon("sortUnSort",this.eSortNone,e),this.addManagedPropertyListener("unSortIcon",function(){return i.updateIcons()}),this.addManagedListener(this.eventService,P.EVENT_NEW_COLUMNS_LOADED,function(){return i.updateIcons()}),this.addManagedListener(this.eventService,P.EVENT_SORT_CHANGED,function(){return i.onSortChanged()}),this.addManagedListener(this.eventService,P.EVENT_COLUMN_ROW_GROUP_CHANGED,function(){return i.onSortChanged()}),this.onSortChanged())},t.prototype.addInIcon=function(e,r,i){if(r!=null){var o=Wr(e,this.gridOptionsService,i);o&&r.appendChild(o)}},t.prototype.onSortChanged=function(){this.updateIcons(),this.suppressOrder||this.updateSortOrder()},t.prototype.updateIcons=function(){var e=this.sortController.getDisplaySortForColumn(this.column);if(this.eSortAsc){var r=e==="asc";mt(this.eSortAsc,r,{skipAriaHidden:!0})}if(this.eSortDesc){var i=e==="desc";mt(this.eSortDesc,i,{skipAriaHidden:!0})}if(this.eSortNone){var o=!this.column.getColDef().unSortIcon&&!this.gridOptionsService.get("unSortIcon"),a=e==null;mt(this.eSortNone,!o&&a,{skipAriaHidden:!0})}},t.prototype.setupMultiSortIndicator=function(){var e=this;this.addInIcon("sortUnSort",this.eSortMixed,this.column);var r=this.column.getColDef().showRowGroup,i=this.gridOptionsService.isColumnsSortingCoupledToGroup();i&&r&&(this.addManagedListener(this.eventService,P.EVENT_SORT_CHANGED,function(){return e.updateMultiSortIndicator()}),this.addManagedListener(this.eventService,P.EVENT_COLUMN_ROW_GROUP_CHANGED,function(){return e.updateMultiSortIndicator()}),this.updateMultiSortIndicator())},t.prototype.updateMultiSortIndicator=function(){if(this.eSortMixed){var e=this.sortController.getDisplaySortForColumn(this.column)==="mixed";mt(this.eSortMixed,e,{skipAriaHidden:!0})}},t.prototype.updateSortOrder=function(){var e=this,r;if(this.eSortOrder){var i=this.sortController.getColumnsWithSortingOrdered(),o=(r=this.sortController.getDisplaySortIndexForColumn(this.column))!==null&&r!==void 0?r:-1,a=i.some(function(l){var u;return(u=e.sortController.getDisplaySortIndexForColumn(l))!==null&&u!==void 0?u:-1>=1}),s=o>=0&&a;mt(this.eSortOrder,s,{skipAriaHidden:!0}),o>=0?this.eSortOrder.textContent=(o+1).toString():Sn(this.eSortOrder)}},t.TEMPLATE=`<span class="ag-sort-indicator-container">
            <span ref="eSortOrder" class="ag-sort-indicator-icon ag-sort-order ag-hidden" aria-hidden="true"></span>
            <span ref="eSortAsc" class="ag-sort-indicator-icon ag-sort-ascending-icon ag-hidden" aria-hidden="true"></span>
            <span ref="eSortDesc" class="ag-sort-indicator-icon ag-sort-descending-icon ag-hidden" aria-hidden="true"></span>
            <span ref="eSortMixed" class="ag-sort-indicator-icon ag-sort-mixed-icon ag-hidden" aria-hidden="true"></span>
            <span ref="eSortNone" class="ag-sort-indicator-icon ag-sort-none-icon ag-hidden" aria-hidden="true"></span>
        </span>`,gp([$("eSortOrder")],t.prototype,"eSortOrder",void 0),gp([$("eSortAsc")],t.prototype,"eSortAsc",void 0),gp([$("eSortDesc")],t.prototype,"eSortDesc",void 0),gp([$("eSortMixed")],t.prototype,"eSortMixed",void 0),gp([$("eSortNone")],t.prototype,"eSortNone",void 0),gp([E("columnModel")],t.prototype,"columnModel",void 0),gp([E("sortController")],t.prototype,"sortController",void 0),t}(de),Cbe=function(){var n=function(t,e){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])},n(t,e)};return function(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");n(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}}(),Gi=function(n,t,e,r){var i=arguments.length,o=i<3?t:r===null?r=Object.getOwnPropertyDescriptor(t,e):r,a;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(n,t,e,r);else for(var s=n.length-1;s>=0;s--)(a=n[s])&&(o=(i<3?a(o):i>3?a(t,e,o):a(t,e))||o);return i>3&&o&&Object.defineProperty(t,e,o),o},PL=function(n){Cbe(t,n);function t(){var e=n!==null&&n.apply(this,arguments)||this;return e.lastMovingChanged=0,e}return t.prototype.destroy=function(){n.prototype.destroy.call(this)},t.prototype.refresh=function(e){return this.params=e,this.workOutTemplate()!=this.currentTemplate||this.workOutShowMenu()!=this.currentShowMenu||this.workOutSort()!=this.currentSort||this.shouldSuppressMenuHide()!=this.currentSuppressMenuHide?!1:(this.setDisplayName(e),!0)},t.prototype.workOutTemplate=function(){var e,r=(e=this.params.template)!==null&&e!==void 0?e:t.TEMPLATE;return r=r&&r.trim?r.trim():r,r},t.prototype.init=function(e){this.params=e,this.currentTemplate=this.workOutTemplate(),this.setTemplate(this.currentTemplate),this.setupTap(),this.setMenu(),this.setupSort(),this.setupFilterIcon(),this.setupFilterButton(),this.setDisplayName(e)},t.prototype.setDisplayName=function(e){if(this.currentDisplayName!=e.displayName){this.currentDisplayName=e.displayName;var r=tn(this.currentDisplayName,!0);this.eText&&(this.eText.textContent=r)}},t.prototype.addInIcon=function(e,r,i){if(r!=null){var o=Wr(e,this.gridOptionsService,i);o&&r.appendChild(o)}},t.prototype.setupTap=function(){var e=this,r=this.gridOptionsService;if(!r.get("suppressTouch")){var i=new jr(this.getGui(),!0),o=this.shouldSuppressMenuHide(),a=o&&ce(this.eMenu),s=a?new jr(this.eMenu,!0):i;if(this.params.enableMenu){var l=a?"EVENT_TAP":"EVENT_LONG_TAP",u=function(p){return e.params.showColumnMenuAfterMouseClick(p.touchStart)};this.addManagedListener(s,jr[l],u)}if(this.params.enableSorting){var c=function(p){var h,f,v=p.touchStart.target;o&&(!((h=e.eMenu)===null||h===void 0)&&h.contains(v)||!((f=e.eFilterButton)===null||f===void 0)&&f.contains(v))||e.sortController.progressSort(e.params.column,!1,"uiColumnSorted")};this.addManagedListener(i,jr.EVENT_TAP,c)}if(this.params.enableFilterButton){var d=new jr(this.eFilterButton,!0);this.addManagedListener(d,"tap",function(){return e.params.showFilter(e.eFilterButton)}),this.addDestroyFunc(function(){return d.destroy()})}this.addDestroyFunc(function(){return i.destroy()}),a&&this.addDestroyFunc(function(){return s.destroy()})}},t.prototype.workOutShowMenu=function(){return this.params.enableMenu&&this.menuService.isHeaderMenuButtonEnabled()},t.prototype.shouldSuppressMenuHide=function(){return this.menuService.isHeaderMenuButtonAlwaysShowEnabled()},t.prototype.setMenu=function(){var e=this;if(this.eMenu){if(this.currentShowMenu=this.workOutShowMenu(),!this.currentShowMenu){Ml(this.eMenu),this.eMenu=void 0;return}var r=this.menuService.isLegacyMenuEnabled();this.addInIcon(r?"menu":"menuAlt",this.eMenu,this.params.column),this.eMenu.classList.toggle("ag-header-menu-icon",!r),this.currentSuppressMenuHide=this.shouldSuppressMenuHide(),this.addManagedListener(this.eMenu,"click",function(){return e.params.showColumnMenu(e.eMenu)}),this.eMenu.classList.toggle("ag-header-menu-always-show",this.currentSuppressMenuHide)}},t.prototype.onMenuKeyboardShortcut=function(e){var r,i,o,a,s=this.params.column,l=this.menuService.isLegacyMenuEnabled();if(e&&!l){if(this.menuService.isFilterMenuInHeaderEnabled(s))return this.params.showFilter((i=(r=this.eFilterButton)!==null&&r!==void 0?r:this.eMenu)!==null&&i!==void 0?i:this.getGui()),!0}else if(this.params.enableMenu)return this.params.showColumnMenu((a=(o=this.eMenu)!==null&&o!==void 0?o:this.eFilterButton)!==null&&a!==void 0?a:this.getGui()),!0;return!1},t.prototype.workOutSort=function(){return this.params.enableSorting},t.prototype.setupSort=function(){var e=this;if(this.currentSort=this.params.enableSorting,this.eSortIndicator||(this.eSortIndicator=this.context.createBean(new TT(!0)),this.eSortIndicator.attachCustomElements(this.eSortOrder,this.eSortAsc,this.eSortDesc,this.eSortMixed,this.eSortNone)),this.eSortIndicator.setupSort(this.params.column),!!this.currentSort){this.addManagedListener(this.params.column,Je.EVENT_MOVING_CHANGED,function(){e.lastMovingChanged=new Date().getTime()}),this.eLabel&&this.addManagedListener(this.eLabel,"click",function(i){var o=e.params.column.isMoving(),a=new Date().getTime(),s=a-e.lastMovingChanged<50,l=o||s;if(!l){var u=e.gridOptionsService.get("multiSortKey")==="ctrl",c=u?i.ctrlKey||i.metaKey:i.shiftKey;e.params.progressSort(c)}});var r=function(){if(e.addOrRemoveCssClass("ag-header-cell-sorted-asc",e.params.column.isSortAscending()),e.addOrRemoveCssClass("ag-header-cell-sorted-desc",e.params.column.isSortDescending()),e.addOrRemoveCssClass("ag-header-cell-sorted-none",e.params.column.isSortNone()),e.params.column.getColDef().showRowGroup){var i=e.columnModel.getSourceColumnsForGroupColumn(e.params.column),o=i==null?void 0:i.every(function(s){return e.params.column.getSort()==s.getSort()}),a=!o;e.addOrRemoveCssClass("ag-header-cell-sorted-mixed",a)}};this.addManagedListener(this.eventService,P.EVENT_SORT_CHANGED,r),this.addManagedListener(this.eventService,P.EVENT_COLUMN_ROW_GROUP_CHANGED,r)}},t.prototype.setupFilterIcon=function(){this.eFilter&&this.configureFilter(this.params.enableFilterIcon,this.eFilter,this.onFilterChangedIcon.bind(this))},t.prototype.setupFilterButton=function(){var e=this;if(this.eFilterButton){var r=this.configureFilter(this.params.enableFilterButton,this.eFilterButton,this.onFilterChangedButton.bind(this));r?this.addManagedListener(this.eFilterButton,"click",function(){return e.params.showFilter(e.eFilterButton)}):this.eFilterButton=void 0}},t.prototype.configureFilter=function(e,r,i){if(!e)return Ml(r),!1;var o=this.params.column;return this.addInIcon("filter",r,o),this.addManagedListener(o,Je.EVENT_FILTER_CHANGED,i),i(),!0},t.prototype.onFilterChangedIcon=function(){var e=this.params.column.isFilterActive();mt(this.eFilter,e,{skipAriaHidden:!0})},t.prototype.onFilterChangedButton=function(){var e=this.params.column.isFilterActive();this.eFilterButton.classList.toggle("ag-filter-active",e)},t.prototype.getAnchorElementForMenu=function(e){var r,i,o,a;return e?(i=(r=this.eFilterButton)!==null&&r!==void 0?r:this.eMenu)!==null&&i!==void 0?i:this.getGui():(a=(o=this.eMenu)!==null&&o!==void 0?o:this.eFilterButton)!==null&&a!==void 0?a:this.getGui()},t.TEMPLATE=`<div class="ag-cell-label-container" role="presentation">
            <span ref="eMenu" class="ag-header-icon ag-header-cell-menu-button" aria-hidden="true"></span>
            <span ref="eFilterButton" class="ag-header-icon ag-header-cell-filter-button" aria-hidden="true"></span>
            <div ref="eLabel" class="ag-header-cell-label" role="presentation">
                <span ref="eText" class="ag-header-cell-text"></span>
                <span ref="eFilter" class="ag-header-icon ag-header-label-icon ag-filter-icon" aria-hidden="true"></span>
                <ag-sort-indicator ref="eSortIndicator"></ag-sort-indicator>
            </div>
        </div>`,Gi([E("sortController")],t.prototype,"sortController",void 0),Gi([E("menuService")],t.prototype,"menuService",void 0),Gi([E("columnModel")],t.prototype,"columnModel",void 0),Gi([$("eFilter")],t.prototype,"eFilter",void 0),Gi([$("eFilterButton")],t.prototype,"eFilterButton",void 0),Gi([$("eSortIndicator")],t.prototype,"eSortIndicator",void 0),Gi([$("eMenu")],t.prototype,"eMenu",void 0),Gi([$("eLabel")],t.prototype,"eLabel",void 0),Gi([$("eText")],t.prototype,"eText",void 0),Gi([$("eSortOrder")],t.prototype,"eSortOrder",void 0),Gi([$("eSortAsc")],t.prototype,"eSortAsc",void 0),Gi([$("eSortDesc")],t.prototype,"eSortDesc",void 0),Gi([$("eSortMixed")],t.prototype,"eSortMixed",void 0),Gi([$("eSortNone")],t.prototype,"eSortNone",void 0),t}(de),Sbe=function(){var n=function(t,e){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])},n(t,e)};return function(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");n(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}}(),KA=function(n,t,e,r){var i=arguments.length,o=i<3?t:r===null?r=Object.getOwnPropertyDescriptor(t,e):r,a;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(n,t,e,r);else for(var s=n.length-1;s>=0;s--)(a=n[s])&&(o=(i<3?a(o):i>3?a(t,e,o):a(t,e))||o);return i>3&&o&&Object.defineProperty(t,e,o),o},wbe=function(n){Sbe(t,n);function t(){return n.call(this,t.TEMPLATE)||this}return t.prototype.destroy=function(){n.prototype.destroy.call(this)},t.prototype.init=function(e){this.params=e,this.checkWarnings(),this.setupLabel(),this.addGroupExpandIcon(),this.setupExpandIcons()},t.prototype.checkWarnings=function(){var e=this.params;e.template&&Le("A template was provided for Header Group Comp - templates are only supported for Header Comps (not groups)")},t.prototype.setupExpandIcons=function(){var e=this;this.addInIcon("columnGroupOpened","agOpened"),this.addInIcon("columnGroupClosed","agClosed");var r=function(a){if(!As(a)){var s=!e.params.columnGroup.isExpanded();e.columnModel.setColumnGroupOpened(e.params.columnGroup.getProvidedColumnGroup(),s,"uiColumnExpanded")}};this.addTouchAndClickListeners(this.eCloseIcon,r),this.addTouchAndClickListeners(this.eOpenIcon,r);var i=function(a){Fs(a)};this.addManagedListener(this.eCloseIcon,"dblclick",i),this.addManagedListener(this.eOpenIcon,"dblclick",i),this.addManagedListener(this.getGui(),"dblclick",r),this.updateIconVisibility();var o=this.params.columnGroup.getProvidedColumnGroup();this.addManagedListener(o,Pt.EVENT_EXPANDED_CHANGED,this.updateIconVisibility.bind(this)),this.addManagedListener(o,Pt.EVENT_EXPANDABLE_CHANGED,this.updateIconVisibility.bind(this))},t.prototype.addTouchAndClickListeners=function(e,r){var i=new jr(e,!0);this.addManagedListener(i,jr.EVENT_TAP,r),this.addDestroyFunc(function(){return i.destroy()}),this.addManagedListener(e,"click",r)},t.prototype.updateIconVisibility=function(){var e=this.params.columnGroup;if(e.isExpandable()){var r=this.params.columnGroup.isExpanded();mt(this.eOpenIcon,r),mt(this.eCloseIcon,!r)}else mt(this.eOpenIcon,!1),mt(this.eCloseIcon,!1)},t.prototype.addInIcon=function(e,r){var i=Wr(e,this.gridOptionsService,null);i&&this.getRefElement(r).appendChild(i)},t.prototype.addGroupExpandIcon=function(){if(!this.params.columnGroup.isExpandable()){mt(this.eOpenIcon,!1),mt(this.eCloseIcon,!1);return}},t.prototype.setupLabel=function(){var e,r=this.params,i=r.displayName,o=r.columnGroup;if(ce(i)){var a=tn(i,!0);this.getRefElement("agLabel").textContent=a}this.addOrRemoveCssClass("ag-sticky-label",!(!((e=o.getColGroupDef())===null||e===void 0)&&e.suppressStickyLabel))},t.TEMPLATE=`<div class="ag-header-group-cell-label" ref="agContainer" role="presentation">
            <span ref="agLabel" class="ag-header-group-text" role="presentation"></span>
            <span ref="agOpened" class="ag-header-icon ag-header-expand-icon ag-header-expand-icon-expanded"></span>
            <span ref="agClosed" class="ag-header-icon ag-header-expand-icon ag-header-expand-icon-collapsed"></span>
        </div>`,KA([E("columnModel")],t.prototype,"columnModel",void 0),KA([$("agOpened")],t.prototype,"eOpenIcon",void 0),KA([$("agClosed")],t.prototype,"eCloseIcon",void 0),t}(de),_be=function(){var n=function(t,e){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])},n(t,e)};return function(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");n(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}}(),dc=function(n){_be(t,n);function t(){return n!==null&&n.apply(this,arguments)||this}return t.prototype.isPopup=function(){return!0},t.prototype.setParentComponent=function(e){e.addCssClass("ag-has-popup"),n.prototype.setParentComponent.call(this,e)},t.prototype.destroy=function(){var e=this.parentComponent,r=e&&e.isAlive();r&&e.getGui().classList.remove("ag-has-popup"),n.prototype.destroy.call(this)},t}(de),xbe=function(){var n=function(t,e){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])},n(t,e)};return function(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");n(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}}(),Ebe=function(n,t,e,r){var i=arguments.length,o=i<3?t:r===null?r=Object.getOwnPropertyDescriptor(t,e):r,a;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(n,t,e,r);else for(var s=n.length-1;s>=0;s--)(a=n[s])&&(o=(i<3?a(o):i>3?a(t,e,o):a(t,e))||o);return i>3&&o&&Object.defineProperty(t,e,o),o},QY=function(n){xbe(t,n);function t(){return n.call(this,t.TEMPLATE)||this}return t.prototype.init=function(e){this.params=e,this.focusAfterAttached=e.cellStartedEdit,this.eTextArea.setMaxLength(e.maxLength||200).setCols(e.cols||60).setRows(e.rows||10),ce(e.value,!0)&&this.eTextArea.setValue(e.value.toString(),!0),this.addGuiEventListener("keydown",this.onKeyDown.bind(this)),this.activateTabIndex()},t.prototype.onKeyDown=function(e){var r=e.key;(r===U.LEFT||r===U.UP||r===U.RIGHT||r===U.DOWN||e.shiftKey&&r===U.ENTER)&&e.stopPropagation()},t.prototype.afterGuiAttached=function(){var e=this.localeService.getLocaleTextFunc();this.eTextArea.setInputAriaLabel(e("ariaInputEditor","Input Editor")),this.focusAfterAttached&&this.eTextArea.getFocusableElement().focus()},t.prototype.getValue=function(){var e=this.eTextArea.getValue();return!ce(e)&&!ce(this.params.value)?this.params.value:this.params.parseValue(e)},t.TEMPLATE=`<div class="ag-large-text">
            <ag-input-text-area ref="eTextArea" class="ag-large-text-input"></ag-input-text-area>
        </div>`,Ebe([$("eTextArea")],t.prototype,"eTextArea",void 0),t}(dc),bbe=function(){var n=function(t,e){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])},n(t,e)};return function(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");n(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}}(),v3=function(n,t,e,r){var i=arguments.length,o=i<3?t:r===null?r=Object.getOwnPropertyDescriptor(t,e):r,a;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(n,t,e,r);else for(var s=n.length-1;s>=0;s--)(a=n[s])&&(o=(i<3?a(o):i>3?a(t,e,o):a(t,e))||o);return i>3&&o&&Object.defineProperty(t,e,o),o},JY=function(n){bbe(t,n);function t(){var e=n.call(this,`<div class="ag-cell-edit-wrapper">
                <ag-select class="ag-cell-editor" ref="eSelect"></ag-select>
            </div>`)||this;return e.startedByEnter=!1,e}return t.prototype.init=function(e){this.focusAfterAttached=e.cellStartedEdit;var r=this,i=r.eSelect,o=r.valueFormatterService,a=r.gridOptionsService,s=e.values,l=e.value,u=e.eventKey;if(je(s)){console.warn("AG Grid: no values found for select cellEditor");return}this.startedByEnter=u!=null?u===U.ENTER:!1;var c=!1;s.forEach(function(f){var v={value:f},g=o.formatValue(e.column,null,f),y=g!=null;v.text=y?g:f,i.addOption(v),c=c||l===f}),c?i.setValue(e.value,!0):e.values.length&&i.setValue(e.values[0],!0);var d=e.valueListGap,p=e.valueListMaxWidth,h=e.valueListMaxHeight;d!=null&&i.setPickerGap(d),h!=null&&i.setPickerMaxHeight(h),p!=null&&i.setPickerMaxWidth(p),a.get("editType")!=="fullRow"&&this.addManagedListener(this.eSelect,ql.EVENT_ITEM_SELECTED,function(){return e.stopEditing()})},t.prototype.afterGuiAttached=function(){var e=this;this.focusAfterAttached&&this.eSelect.getFocusableElement().focus(),this.startedByEnter&&setTimeout(function(){e.isAlive()&&e.eSelect.showPicker()})},t.prototype.focusIn=function(){this.eSelect.getFocusableElement().focus()},t.prototype.getValue=function(){return this.eSelect.getValue()},t.prototype.isPopup=function(){return!1},v3([E("valueFormatterService")],t.prototype,"valueFormatterService",void 0),v3([$("eSelect")],t.prototype,"eSelect",void 0),t}(dc),Obe=function(){var n=function(t,e){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])},n(t,e)};return function(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");n(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}}(),Rbe=function(n,t,e,r){var i=arguments.length,o=i<3?t:r===null?r=Object.getOwnPropertyDescriptor(t,e):r,a;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(n,t,e,r);else for(var s=n.length-1;s>=0;s--)(a=n[s])&&(o=(i<3?a(o):i>3?a(t,e,o):a(t,e))||o);return i>3&&o&&Object.defineProperty(t,e,o),o},PT=function(n){Obe(t,n);function t(e){var r=n.call(this,`
            <div class="ag-cell-edit-wrapper">
                `.concat(e.getTemplate(),`
            </div>`))||this;return r.cellEditorInput=e,r}return t.prototype.init=function(e){this.params=e;var r=this.eInput;this.cellEditorInput.init(r,e);var i;if(e.cellStartedEdit){this.focusAfterAttached=!0;var o=e.eventKey;o===U.BACKSPACE||e.eventKey===U.DELETE?i="":o&&o.length===1?i=o:(i=this.cellEditorInput.getStartValue(),o!==U.F2&&(this.highlightAllOnFocus=!0))}else this.focusAfterAttached=!1,i=this.cellEditorInput.getStartValue();i!=null&&r.setStartValue(i),this.addManagedListener(r.getGui(),"keydown",function(a){var s=a.key;(s===U.PAGE_UP||s===U.PAGE_DOWN)&&a.preventDefault()})},t.prototype.afterGuiAttached=function(){var e,r,i=this.localeService.getLocaleTextFunc(),o=this.eInput;if(o.setInputAriaLabel(i("ariaInputEditor","Input Editor")),!!this.focusAfterAttached){Xl()||o.getFocusableElement().focus();var a=o.getInputElement();this.highlightAllOnFocus?a.select():(r=(e=this.cellEditorInput).setCaret)===null||r===void 0||r.call(e)}},t.prototype.focusIn=function(){var e=this.eInput,r=e.getFocusableElement(),i=e.getInputElement();r.focus(),i.select()},t.prototype.getValue=function(){return this.cellEditorInput.getValue()},t.prototype.isPopup=function(){return!1},Rbe([$("eInput")],t.prototype,"eInput",void 0),t}(dc),Tbe=function(){var n=function(t,e){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])},n(t,e)};return function(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");n(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}}(),Pbe=function(){function n(){}return n.prototype.getTemplate=function(){return'<ag-input-text-field class="ag-cell-editor" ref="eInput"></ag-input-text-field>'},n.prototype.init=function(t,e){this.eInput=t,this.params=e,e.maxLength!=null&&t.setMaxLength(e.maxLength)},n.prototype.getValue=function(){var t=this.eInput.getValue();return!ce(t)&&!ce(this.params.value)?this.params.value:this.params.parseValue(t)},n.prototype.getStartValue=function(){var t=this.params.useFormatter||this.params.column.getColDef().refData;return t?this.params.formatValue(this.params.value):this.params.value},n.prototype.setCaret=function(){var t=this.eInput.getValue(),e=ce(t)&&t.length||0;e&&this.eInput.getInputElement().setSelectionRange(e,e)},n}(),AL=function(n){Tbe(t,n);function t(){return n.call(this,new Pbe)||this}return t}(PT),Abe=function(){var n=function(t,e){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])},n(t,e)};return function(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");n(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}}(),Dbe=function(n,t,e,r){var i=arguments.length,o=i<3?t:r===null?r=Object.getOwnPropertyDescriptor(t,e):r,a;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(n,t,e,r);else for(var s=n.length-1;s>=0;s--)(a=n[s])&&(o=(i<3?a(o):i>3?a(t,e,o):a(t,e))||o);return i>3&&o&&Object.defineProperty(t,e,o),o},Mbe="↑",Fbe="↓",eX=function(n){Abe(t,n);function t(){var e=n.call(this)||this;e.refreshCount=0;var r=document.createElement("span"),i=document.createElement("span");i.setAttribute("class","ag-value-change-delta");var o=document.createElement("span");return o.setAttribute("class","ag-value-change-value"),r.appendChild(i),r.appendChild(o),e.setTemplateFromElement(r),e}return t.prototype.init=function(e){this.eValue=this.queryForHtmlElement(".ag-value-change-value"),this.eDelta=this.queryForHtmlElement(".ag-value-change-delta"),this.refresh(e,!0)},t.prototype.showDelta=function(e,r){var i=Math.abs(r),o=e.formatValue(i),a=ce(o)?o:i,s=r>=0;s?this.eDelta.textContent=Mbe+a:this.eDelta.textContent=Fbe+a,this.eDelta.classList.toggle("ag-value-change-delta-up",s),this.eDelta.classList.toggle("ag-value-change-delta-down",!s)},t.prototype.setTimerToRemoveDelta=function(){var e=this;this.refreshCount++;var r=this.refreshCount;this.getFrameworkOverrides().wrapIncoming(function(){window.setTimeout(function(){r===e.refreshCount&&e.hideDeltaValue()},2e3)})},t.prototype.hideDeltaValue=function(){this.eValue.classList.remove("ag-value-change-value-highlight"),Sn(this.eDelta)},t.prototype.refresh=function(e,r){r===void 0&&(r=!1);var i=e.value;if(i===this.lastValue||(ce(e.valueFormatted)?this.eValue.textContent=e.valueFormatted:ce(e.value)?this.eValue.textContent=i:Sn(this.eValue),this.filterManager.isSuppressFlashingCellsBecauseFiltering()))return!1;if(typeof i=="number"&&typeof this.lastValue=="number"){var o=i-this.lastValue;this.showDelta(e,o)}return this.lastValue&&this.eValue.classList.add("ag-value-change-value-highlight"),r||this.setTimerToRemoveDelta(),this.lastValue=i,!0},Dbe([E("filterManager")],t.prototype,"filterManager",void 0),t}(de),Lbe=function(){var n=function(t,e){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])},n(t,e)};return function(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");n(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}}(),Ibe=function(n,t,e,r){var i=arguments.length,o=i<3?t:r===null?r=Object.getOwnPropertyDescriptor(t,e):r,a;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(n,t,e,r);else for(var s=n.length-1;s>=0;s--)(a=n[s])&&(o=(i<3?a(o):i>3?a(t,e,o):a(t,e))||o);return i>3&&o&&Object.defineProperty(t,e,o),o},tX=function(n){Lbe(t,n);function t(){var e=n.call(this)||this;e.refreshCount=0;var r=document.createElement("span"),i=document.createElement("span");return i.setAttribute("class","ag-value-slide-current"),r.appendChild(i),e.setTemplateFromElement(r),e.eCurrent=e.queryForHtmlElement(".ag-value-slide-current"),e}return t.prototype.init=function(e){this.refresh(e,!0)},t.prototype.addSlideAnimation=function(){var e=this;this.refreshCount++;var r=this.refreshCount;this.ePrevious&&this.getGui().removeChild(this.ePrevious);var i=document.createElement("span");i.setAttribute("class","ag-value-slide-previous ag-value-slide-out"),this.ePrevious=i,this.ePrevious.textContent=this.eCurrent.textContent,this.getGui().insertBefore(this.ePrevious,this.eCurrent),this.getFrameworkOverrides().wrapIncoming(function(){window.setTimeout(function(){r===e.refreshCount&&e.ePrevious.classList.add("ag-value-slide-out-end")},50),window.setTimeout(function(){r===e.refreshCount&&(e.getGui().removeChild(e.ePrevious),e.ePrevious=null)},3e3)})},t.prototype.refresh=function(e,r){r===void 0&&(r=!1);var i=e.value;return je(i)&&(i=""),i===this.lastValue||this.filterManager.isSuppressFlashingCellsBecauseFiltering()?!1:(r||this.addSlideAnimation(),this.lastValue=i,ce(e.valueFormatted)?this.eCurrent.textContent=e.valueFormatted:ce(e.value)?this.eCurrent.textContent=i:Sn(this.eCurrent),!0)},Ibe([E("filterManager")],t.prototype,"filterManager",void 0),t}(de),vv=function(){return vv=Object.assign||function(n){for(var t,e=1,r=arguments.length;e<r;e++){t=arguments[e];for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(n[i]=t[i])}return n},vv.apply(this,arguments)},Ue=function(){function n(t){this.rowIndex=null,this.key=null,this.childrenMapped={},this.displayed=!1,this.rowTop=null,this.oldRowTop=null,this.selectable=!0,this.__objectId=n.OBJECT_ID_SEQUENCE++,this.__autoHeights={},this.alreadyRendered=!1,this.highlighted=null,this.hovered=!1,this.selected=!1,this.beans=t}return n.prototype.setData=function(t){this.setDataCommon(t,!1)},n.prototype.updateData=function(t){this.setDataCommon(t,!0)},n.prototype.setDataCommon=function(t,e){var r=this.data;this.data=t,this.beans.valueCache.onDataChanged(),this.updateDataOnDetailNode(),this.checkRowSelectable(),this.resetQuickFilterAggregateText();var i=this.createDataChangedEvent(t,r,e);this.dispatchLocalEvent(i)},n.prototype.updateDataOnDetailNode=function(){this.detailNode&&(this.detailNode.data=this.data)},n.prototype.createDataChangedEvent=function(t,e,r){return{type:n.EVENT_DATA_CHANGED,node:this,oldData:e,newData:t,update:r}},n.prototype.createLocalRowEvent=function(t){return{type:t,node:this}},n.prototype.getRowIndexString=function(){return this.rowPinned==="top"?"t-"+this.rowIndex:this.rowPinned==="bottom"?"b-"+this.rowIndex:this.rowIndex.toString()},n.prototype.createDaemonNode=function(){var t=new n(this.beans);return t.id=this.id,t.data=this.data,t.__daemon=!0,t.selected=this.selected,t.level=this.level,t},n.prototype.setDataAndId=function(t,e){var r=ce(this.id)?this.createDaemonNode():null,i=this.data;this.data=t,this.updateDataOnDetailNode(),this.setId(e),this.checkRowSelectable(),this.beans.selectionService.syncInRowNode(this,r);var o=this.createDataChangedEvent(t,i,!1);this.dispatchLocalEvent(o)},n.prototype.checkRowSelectable=function(){var t=this.beans.gridOptionsService.get("isRowSelectable");this.setRowSelectable(t?t(this):!0)},n.prototype.setRowSelectable=function(t,e){if(this.selectable!==t){if(this.selectable=t,this.eventService&&this.eventService.dispatchEvent(this.createLocalRowEvent(n.EVENT_SELECTABLE_CHANGED)),e)return;var r=this.beans.gridOptionsService.get("groupSelectsChildren");if(r){var i=this.calculateSelectedFromChildren();this.setSelectedParams({newValue:i??!1,source:"selectableChanged"});return}this.isSelected()&&!this.selectable&&this.setSelectedParams({newValue:!1,source:"selectableChanged"})}},n.prototype.setId=function(t){var e=this.beans.gridOptionsService.getCallback("getRowId");if(e)if(this.data){var r=this.getGroupKeys(!0);this.id=e({data:this.data,parentKeys:r.length>0?r:void 0,level:this.level}),this.id!==null&&typeof this.id=="string"&&this.id.startsWith(n.ID_PREFIX_ROW_GROUP)&&console.error("AG Grid: Row IDs cannot start with ".concat(n.ID_PREFIX_ROW_GROUP,", this is a reserved prefix for AG Grid's row grouping feature.")),this.id!==null&&typeof this.id!="string"&&(this.id=""+this.id)}else this.id=void 0;else this.id=t},n.prototype.getGroupKeys=function(t){t===void 0&&(t=!1);var e=[],r=this;for(t&&(r=r.parent);r&&r.level>=0;)e.push(r.key),r=r.parent;return e.reverse(),e},n.prototype.isPixelInRange=function(t){return!ce(this.rowTop)||!ce(this.rowHeight)?!1:t>=this.rowTop&&t<this.rowTop+this.rowHeight},n.prototype.setFirstChild=function(t){this.firstChild!==t&&(this.firstChild=t,this.eventService&&this.eventService.dispatchEvent(this.createLocalRowEvent(n.EVENT_FIRST_CHILD_CHANGED)))},n.prototype.setLastChild=function(t){this.lastChild!==t&&(this.lastChild=t,this.eventService&&this.eventService.dispatchEvent(this.createLocalRowEvent(n.EVENT_LAST_CHILD_CHANGED)))},n.prototype.setChildIndex=function(t){this.childIndex!==t&&(this.childIndex=t,this.eventService&&this.eventService.dispatchEvent(this.createLocalRowEvent(n.EVENT_CHILD_INDEX_CHANGED)))},n.prototype.setRowTop=function(t){this.oldRowTop=this.rowTop,this.rowTop!==t&&(this.rowTop=t,this.eventService&&this.eventService.dispatchEvent(this.createLocalRowEvent(n.EVENT_TOP_CHANGED)),this.setDisplayed(t!==null))},n.prototype.clearRowTopAndRowIndex=function(){this.oldRowTop=null,this.setRowTop(null),this.setRowIndex(null)},n.prototype.setDisplayed=function(t){this.displayed!==t&&(this.displayed=t,this.eventService&&this.eventService.dispatchEvent(this.createLocalRowEvent(n.EVENT_DISPLAYED_CHANGED)))},n.prototype.setDragging=function(t){this.dragging!==t&&(this.dragging=t,this.eventService&&this.eventService.dispatchEvent(this.createLocalRowEvent(n.EVENT_DRAGGING_CHANGED)))},n.prototype.setHighlighted=function(t){t!==this.highlighted&&(this.highlighted=t,this.eventService&&this.eventService.dispatchEvent(this.createLocalRowEvent(n.EVENT_HIGHLIGHT_CHANGED)))},n.prototype.setHovered=function(t){this.hovered!==t&&(this.hovered=t)},n.prototype.isHovered=function(){return this.hovered},n.prototype.setAllChildrenCount=function(t){this.allChildrenCount!==t&&(this.allChildrenCount=t,this.eventService&&this.eventService.dispatchEvent(this.createLocalRowEvent(n.EVENT_ALL_CHILDREN_COUNT_CHANGED)))},n.prototype.setMaster=function(t){this.master!==t&&(this.master&&!t&&(this.expanded=!1),this.master=t,this.eventService&&this.eventService.dispatchEvent(this.createLocalRowEvent(n.EVENT_MASTER_CHANGED)))},n.prototype.setGroup=function(t){this.group!==t&&(this.group&&!t&&(this.expanded=!1),this.group=t,this.updateHasChildren(),this.eventService&&this.eventService.dispatchEvent(this.createLocalRowEvent(n.EVENT_GROUP_CHANGED)))},n.prototype.setRowHeight=function(t,e){e===void 0&&(e=!1),this.rowHeight=t,this.rowHeightEstimated=e,this.eventService&&this.eventService.dispatchEvent(this.createLocalRowEvent(n.EVENT_HEIGHT_CHANGED))},n.prototype.setRowAutoHeight=function(t,e){this.__autoHeights||(this.__autoHeights={}),this.__autoHeights[e.getId()]=t,t!=null&&(this.checkAutoHeightsDebounced==null&&(this.checkAutoHeightsDebounced=Qo(this.checkAutoHeights.bind(this),1)),this.checkAutoHeightsDebounced())},n.prototype.checkAutoHeights=function(){var t=this,e=!1,r=!0,i=0,o=this.__autoHeights;if(o!=null){var a=this.beans.columnModel.getAllDisplayedAutoHeightCols();if(a.forEach(function(l){var u=o[l.getId()];if(u==null)if(t.beans.columnModel.isColSpanActive()){var c=[];switch(l.getPinned()){case"left":c=t.beans.columnModel.getDisplayedLeftColumnsForRow(t);break;case"right":c=t.beans.columnModel.getDisplayedRightColumnsForRow(t);break;case null:c=t.beans.columnModel.getViewportCenterColumnsForRow(t);break}if(c.includes(l)){e=!0;return}u=-1}else{e=!0;return}else r=!1;u>i&&(i=u)}),!e&&((r||i<10)&&(i=this.beans.gridOptionsService.getRowHeightForNode(this).height),i!=this.rowHeight)){this.setRowHeight(i);var s=this.beans.rowModel;s.onRowHeightChangedDebounced&&s.onRowHeightChangedDebounced()}}},n.prototype.setRowIndex=function(t){this.rowIndex!==t&&(this.rowIndex=t,this.eventService&&this.eventService.dispatchEvent(this.createLocalRowEvent(n.EVENT_ROW_INDEX_CHANGED)))},n.prototype.setUiLevel=function(t){this.uiLevel!==t&&(this.uiLevel=t,this.eventService&&this.eventService.dispatchEvent(this.createLocalRowEvent(n.EVENT_UI_LEVEL_CHANGED)))},n.prototype.setExpanded=function(t,e){if(this.expanded!==t){this.expanded=t,this.eventService&&this.eventService.dispatchEvent(this.createLocalRowEvent(n.EVENT_EXPANDED_CHANGED));var r=Object.assign({},this.createGlobalRowEvent(P.EVENT_ROW_GROUP_OPENED),{expanded:t,event:e||null});this.beans.rowNodeEventThrottle.dispatchExpanded(r),this.sibling&&this.beans.rowRenderer.refreshCells({rowNodes:[this]})}},n.prototype.createGlobalRowEvent=function(t){return this.beans.gridOptionsService.addGridCommonParams({type:t,node:this,data:this.data,rowIndex:this.rowIndex,rowPinned:this.rowPinned})},n.prototype.dispatchLocalEvent=function(t){this.eventService&&this.eventService.dispatchEvent(t)},n.prototype.setDataValue=function(t,e,r){var i=this,o=function(){var u;return typeof t!="string"?t:(u=i.beans.columnModel.getGridColumn(t))!==null&&u!==void 0?u:i.beans.columnModel.getPrimaryColumn(t)},a=o(),s=this.getValueFromValueService(a);if(this.beans.gridOptionsService.get("readOnlyEdit"))return this.dispatchEventForSaveValueReadOnly(a,s,e,r),!1;var l=this.beans.valueService.setValue(this,a,e,r);return this.dispatchCellChangedEvent(a,e,s),this.checkRowSelectable(),l},n.prototype.getValueFromValueService=function(t){var e=this.leafGroup&&this.beans.columnModel.isPivotMode(),r=this.group&&this.expanded&&!this.footer&&!e,i=this.beans.gridOptionsService.getGroupIncludeFooter(),o=i({node:this}),a=this.beans.gridOptionsService.get("groupSuppressBlankHeader"),s=r&&o&&!a,l=this.beans.valueService.getValue(t,this,!1,s);return l},n.prototype.dispatchEventForSaveValueReadOnly=function(t,e,r,i){var o=this.beans.gridOptionsService.addGridCommonParams({type:P.EVENT_CELL_EDIT_REQUEST,event:null,rowIndex:this.rowIndex,rowPinned:this.rowPinned,column:t,colDef:t.getColDef(),data:this.data,node:this,oldValue:e,newValue:r,value:r,source:i});this.beans.eventService.dispatchEvent(o)},n.prototype.setGroupValue=function(t,e){var r=this.beans.columnModel.getGridColumn(t);je(this.groupData)&&(this.groupData={});var i=r.getColId(),o=this.groupData[i];o!==e&&(this.groupData[i]=e,this.dispatchCellChangedEvent(r,e,o))},n.prototype.setAggData=function(t){var e=this,r=this.aggData;if(this.aggData=t,this.eventService){var i=function(a){var s=e.aggData?e.aggData[a]:void 0,l=r?r[a]:void 0;if(s!==l){var u=e.beans.columnModel.lookupGridColumn(a);u&&e.dispatchCellChangedEvent(u,s,l)}};for(var o in this.aggData)i(o);for(var o in t)o in this.aggData||i(o)}},n.prototype.updateHasChildren=function(){var t=this.group&&!this.footer||this.childrenAfterGroup&&this.childrenAfterGroup.length>0,e=this.beans.gridOptionsService.isRowModelType("serverSide");if(e){var r=this.beans.gridOptionsService.get("treeData"),i=this.beans.gridOptionsService.get("isServerSideGroup");t=!this.stub&&!this.footer&&(r?!!i&&i(this.data):!!this.group)}t!==this.__hasChildren&&(this.__hasChildren=!!t,this.eventService&&this.eventService.dispatchEvent(this.createLocalRowEvent(n.EVENT_HAS_CHILDREN_CHANGED)))},n.prototype.hasChildren=function(){return this.__hasChildren==null&&this.updateHasChildren(),this.__hasChildren},n.prototype.isEmptyRowGroupNode=function(){return this.group&&Ko(this.childrenAfterGroup)},n.prototype.dispatchCellChangedEvent=function(t,e,r){var i={type:n.EVENT_CELL_CHANGED,node:this,column:t,newValue:e,oldValue:r};this.dispatchLocalEvent(i)},n.prototype.resetQuickFilterAggregateText=function(){this.quickFilterAggregateText=null},n.prototype.isExpandable=function(){return this.footer?!1:this.beans.columnModel.isPivotMode()?this.hasChildren()&&!this.leafGroup:this.hasChildren()||!!this.master},n.prototype.isSelected=function(){return this.footer?this.sibling.isSelected():this.selected},n.prototype.depthFirstSearch=function(t){this.childrenAfterGroup&&this.childrenAfterGroup.forEach(function(e){return e.depthFirstSearch(t)}),t(this)},n.prototype.calculateSelectedFromChildren=function(){var t,e=!1,r=!1,i=!1;if(!(!((t=this.childrenAfterGroup)===null||t===void 0)&&t.length))return this.selectable?this.selected:null;for(var o=0;o<this.childrenAfterGroup.length;o++){var a=this.childrenAfterGroup[o],s=a.isSelected();if(!a.selectable){var l=a.calculateSelectedFromChildren();if(l===null)continue;s=l}switch(s){case!0:e=!0;break;case!1:r=!0;break;default:i=!0;break}}if(!(i||e&&r))return e?!0:r?!1:this.selectable?this.selected:null},n.prototype.setSelectedInitialValue=function(t){this.selected=t},n.prototype.selectThisNode=function(t,e,r){r===void 0&&(r="api");var i=!this.selectable&&t,o=this.selected===t;if(i||o)return!1;if(this.selected=t,this.eventService){this.dispatchLocalEvent(this.createLocalRowEvent(n.EVENT_ROW_SELECTED));var a=this.sibling;a&&a.footer&&a.dispatchLocalEvent(a.createLocalRowEvent(n.EVENT_ROW_SELECTED))}var s=vv(vv({},this.createGlobalRowEvent(P.EVENT_ROW_SELECTED)),{event:e||null,source:r});return this.beans.eventService.dispatchEvent(s),!0},n.prototype.setSelected=function(t,e,r){if(e===void 0&&(e=!1),r===void 0&&(r="api"),typeof r=="boolean"){console.warn("AG Grid: since version v30, rowNode.setSelected() property `suppressFinishActions` has been removed, please use `gridApi.setNodesSelected()` for bulk actions, and the event `source` property for ignoring events instead.");return}this.setSelectedParams({newValue:t,clearSelection:e,rangeSelect:!1,source:r})},n.prototype.setSelectedParams=function(t){return this.rowPinned?(console.warn("AG Grid: cannot select pinned rows"),0):this.id===void 0?(console.warn("AG Grid: cannot select node until id for node is known"),0):this.beans.selectionService.setNodesSelected(vv(vv({},t),{nodes:[this.footer?this.sibling:this]}))},n.prototype.isRowPinned=function(){return this.rowPinned==="top"||this.rowPinned==="bottom"},n.prototype.isParentOfNode=function(t){for(var e=this.parent;e;){if(e===t)return!0;e=e.parent}return!1},n.prototype.addEventListener=function(t,e){var r,i;this.eventService||(this.eventService=new Hs),this.beans.frameworkOverrides.shouldWrapOutgoing&&!this.frameworkEventListenerService&&(this.eventService.setFrameworkOverrides(this.beans.frameworkOverrides),this.frameworkEventListenerService=new kk(this.beans.frameworkOverrides));var o=(i=(r=this.frameworkEventListenerService)===null||r===void 0?void 0:r.wrap(e))!==null&&i!==void 0?i:e;this.eventService.addEventListener(t,o)},n.prototype.removeEventListener=function(t,e){var r,i;if(this.eventService){var o=(i=(r=this.frameworkEventListenerService)===null||r===void 0?void 0:r.unwrap(e))!==null&&i!==void 0?i:e;this.eventService.removeEventListener(t,o),this.eventService.noRegisteredListenersExist()&&(this.eventService=null)}},n.prototype.onMouseEnter=function(){this.dispatchLocalEvent(this.createLocalRowEvent(n.EVENT_MOUSE_ENTER))},n.prototype.onMouseLeave=function(){this.dispatchLocalEvent(this.createLocalRowEvent(n.EVENT_MOUSE_LEAVE))},n.prototype.getFirstChildOfFirstChild=function(t){for(var e=this,r=!0,i=!1,o=null;r&&!i;){var a=e.parent,s=ce(a)&&e.firstChild;s?a.rowGroupColumn===t&&(i=!0,o=a):r=!1,e=a}return i?o:null},n.prototype.isFullWidthCell=function(){if(this.detail)return!0;var t=this.beans.gridOptionsService.getCallback("isFullWidthRow");return t?t({rowNode:this}):!1},n.prototype.getRoute=function(){if(this.key!=null){for(var t=[],e=this;e.key!=null;)t.push(e.key),e=e.parent;return t.reverse()}},n.prototype.createFooter=function(){var t=this;if(!this.sibling){var e=new Set(["eventService","__objectId","sticky"]),r=new n(this.beans);Object.keys(this).forEach(function(i){e.has(i)||(r[i]=t[i])}),r.footer=!0,r.setRowTop(null),r.setRowIndex(null),r.oldRowTop=null,r.id="rowGroupFooter_"+this.id,r.sibling=this,this.sibling=r}},n.prototype.destroyFooter=function(){this.sibling&&(this.sibling.setRowTop(null),this.sibling.setRowIndex(null),this.sibling=void 0)},n.ID_PREFIX_ROW_GROUP="row-group-",n.ID_PREFIX_TOP_PINNED="t-",n.ID_PREFIX_BOTTOM_PINNED="b-",n.OBJECT_ID_SEQUENCE=0,n.EVENT_ROW_SELECTED="rowSelected",n.EVENT_DATA_CHANGED="dataChanged",n.EVENT_CELL_CHANGED="cellChanged",n.EVENT_ALL_CHILDREN_COUNT_CHANGED="allChildrenCountChanged",n.EVENT_MASTER_CHANGED="masterChanged",n.EVENT_GROUP_CHANGED="groupChanged",n.EVENT_MOUSE_ENTER="mouseEnter",n.EVENT_MOUSE_LEAVE="mouseLeave",n.EVENT_HEIGHT_CHANGED="heightChanged",n.EVENT_TOP_CHANGED="topChanged",n.EVENT_DISPLAYED_CHANGED="displayedChanged",n.EVENT_FIRST_CHILD_CHANGED="firstChildChanged",n.EVENT_LAST_CHILD_CHANGED="lastChildChanged",n.EVENT_CHILD_INDEX_CHANGED="childIndexChanged",n.EVENT_ROW_INDEX_CHANGED="rowIndexChanged",n.EVENT_EXPANDED_CHANGED="expandedChanged",n.EVENT_HAS_CHILDREN_CHANGED="hasChildrenChanged",n.EVENT_SELECTABLE_CHANGED="selectableChanged",n.EVENT_UI_LEVEL_CHANGED="uiLevelChanged",n.EVENT_HIGHLIGHT_CHANGED="rowHighlightChanged",n.EVENT_DRAGGING_CHANGED="draggingChanged",n}(),Nbe=function(){var n=function(t,e){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])},n(t,e)};return function(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");n(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}}(),Gb=function(){return Gb=Object.assign||function(n){for(var t,e=1,r=arguments.length;e<r;e++){t=arguments[e];for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(n[i]=t[i])}return n},Gb.apply(this,arguments)},g3=function(n,t,e,r){var i=arguments.length,o=i<3?t:r===null?r=Object.getOwnPropertyDescriptor(t,e):r,a;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(n,t,e,r);else for(var s=n.length-1;s>=0;s--)(a=n[s])&&(o=(i<3?a(o):i>3?a(t,e,o):a(t,e))||o);return i>3&&o&&Object.defineProperty(t,e,o),o},wG=function(n){Nbe(t,n);function t(){return n.call(this,`
            <div class="ag-selection-checkbox" role="presentation">
                <ag-checkbox role="presentation" ref="eCheckbox"></ag-checkbox>
            </div>`)||this}return t.prototype.postConstruct=function(){this.eCheckbox.setPassive(!0)},t.prototype.getCheckboxId=function(){return this.eCheckbox.getInputElement().id},t.prototype.onDataChanged=function(){this.onSelectionChanged()},t.prototype.onSelectableChanged=function(){this.showOrHideSelect()},t.prototype.onSelectionChanged=function(){var e=this.rowNode.isSelected();this.eCheckbox.setValue(e,!0)},t.prototype.onClicked=function(e,r,i){return this.rowNode.setSelectedParams({newValue:e,rangeSelect:i.shiftKey,groupSelectsFiltered:r,event:i,source:"checkboxSelected"})},t.prototype.init=function(e){var r=this;this.rowNode=e.rowNode,this.column=e.column,this.overrides=e.overrides,this.onSelectionChanged(),this.addManagedListener(this.eCheckbox.getInputElement(),"dblclick",function(s){Fs(s)}),this.addManagedListener(this.eCheckbox.getInputElement(),"click",function(s){Fs(s);var l=r.gridOptionsService.get("groupSelectsFiltered"),u=r.eCheckbox.getValue();if(r.shouldHandleIndeterminateState(u,l)){var c=r.onClicked(!0,l,s||{});c===0&&r.onClicked(!1,l,s)}else u?r.onClicked(!1,l,s):r.onClicked(!0,l,s||{})}),this.addManagedListener(this.rowNode,Ue.EVENT_ROW_SELECTED,this.onSelectionChanged.bind(this)),this.addManagedListener(this.rowNode,Ue.EVENT_DATA_CHANGED,this.onDataChanged.bind(this)),this.addManagedListener(this.rowNode,Ue.EVENT_SELECTABLE_CHANGED,this.onSelectableChanged.bind(this));var i=this.gridOptionsService.get("isRowSelectable"),o=i||typeof this.getIsVisible()=="function";if(o){var a=this.showOrHideSelect.bind(this);this.addManagedListener(this.eventService,P.EVENT_DISPLAYED_COLUMNS_CHANGED,a),this.addManagedListener(this.rowNode,Ue.EVENT_DATA_CHANGED,a),this.addManagedListener(this.rowNode,Ue.EVENT_CELL_CHANGED,a),this.showOrHideSelect()}this.eCheckbox.getInputElement().setAttribute("tabindex","-1")},t.prototype.shouldHandleIndeterminateState=function(e,r){return r&&(this.eCheckbox.getPreviousValue()===void 0||e===void 0)&&this.gridOptionsService.isRowModelType("clientSide")},t.prototype.showOrHideSelect=function(){var e,r,i,o,a=this.rowNode.selectable,s=this.getIsVisible();if(a)if(typeof s=="function"){var l=(e=this.overrides)===null||e===void 0?void 0:e.callbackParams,u=(r=this.column)===null||r===void 0?void 0:r.createColumnFunctionCallbackParams(this.rowNode);a=u?s(Gb(Gb({},l),u)):!1}else a=s??!1;var c=(i=this.column)===null||i===void 0?void 0:i.getColDef().showDisabledCheckboxes;if(c){this.eCheckbox.setDisabled(!a),this.setVisible(!0),this.setDisplayed(!0);return}if(!((o=this.overrides)===null||o===void 0)&&o.removeHidden){this.setDisplayed(a);return}this.setVisible(a)},t.prototype.getIsVisible=function(){var e,r;return this.overrides?this.overrides.isVisible:(r=(e=this.column)===null||e===void 0?void 0:e.getColDef())===null||r===void 0?void 0:r.checkboxSelection},g3([$("eCheckbox")],t.prototype,"eCheckbox",void 0),g3([z],t.prototype,"postConstruct",null),t}(de),$h;(function(n){n[n.Up=0]="Up",n[n.Down=1]="Down"})($h||($h={}));var so;(function(n){n[n.Left=0]="Left",n[n.Right=1]="Right"})(so||(so={}));var kbe=function(){var n=function(t,e){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])},n(t,e)};return function(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");n(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}}(),yp=function(n,t,e,r){var i=arguments.length,o=i<3?t:r===null?r=Object.getOwnPropertyDescriptor(t,e):r,a;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(n,t,e,r);else for(var s=n.length-1;s>=0;s--)(a=n[s])&&(o=(i<3?a(o):i>3?a(t,e,o):a(t,e))||o);return i>3&&o&&Object.defineProperty(t,e,o),o},s_=function(n){var t=typeof Symbol=="function"&&Symbol.iterator,e=t&&n[t],r=0;if(e)return e.call(n);if(n&&typeof n.length=="number")return{next:function(){return n&&r>=n.length&&(n=void 0),{value:n&&n[r++],done:!n}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")},Sr;(function(n){n[n.ToolPanel=0]="ToolPanel",n[n.HeaderCell=1]="HeaderCell",n[n.RowDrag=2]="RowDrag",n[n.ChartPanel=3]="ChartPanel",n[n.AdvancedFilterBuilder=4]="AdvancedFilterBuilder"})(Sr||(Sr={}));var Ct=function(n){kbe(t,n);function t(){var r=n!==null&&n.apply(this,arguments)||this;return r.dragSourceAndParamsList=[],r.dropTargets=[],r}e=t,t.prototype.init=function(){this.ePinnedIcon=xa("columnMovePin",this.gridOptionsService,null),this.eHideIcon=xa("columnMoveHide",this.gridOptionsService,null),this.eMoveIcon=xa("columnMoveMove",this.gridOptionsService,null),this.eLeftIcon=xa("columnMoveLeft",this.gridOptionsService,null),this.eRightIcon=xa("columnMoveRight",this.gridOptionsService,null),this.eGroupIcon=xa("columnMoveGroup",this.gridOptionsService,null),this.eAggregateIcon=xa("columnMoveValue",this.gridOptionsService,null),this.ePivotIcon=xa("columnMovePivot",this.gridOptionsService,null),this.eDropNotAllowedIcon=xa("dropNotAllowed",this.gridOptionsService,null)},t.prototype.addDragSource=function(r,i){i===void 0&&(i=!1);var o={eElement:r.eElement,dragStartPixels:r.dragStartPixels,onDragStart:this.onDragStart.bind(this,r),onDragStop:this.onDragStop.bind(this),onDragging:this.onDragging.bind(this),includeTouch:i};this.dragSourceAndParamsList.push({params:o,dragSource:r}),this.dragService.addDragSource(o)},t.prototype.removeDragSource=function(r){var i=this.dragSourceAndParamsList.find(function(o){return o.dragSource===r});i&&(this.dragService.removeDragSource(i.params),eo(this.dragSourceAndParamsList,i))},t.prototype.clearDragSourceParamsList=function(){var r=this;this.dragSourceAndParamsList.forEach(function(i){return r.dragService.removeDragSource(i.params)}),this.dragSourceAndParamsList.length=0,this.dropTargets.length=0},t.prototype.nudge=function(){this.dragging&&this.onDragging(this.eventLastTime,!0)},t.prototype.onDragStart=function(r,i){this.dragging=!0,this.dragSource=r,this.eventLastTime=i,this.dragItem=this.dragSource.getDragItem(),this.dragSource.onDragStarted&&this.dragSource.onDragStarted(),this.createGhost()},t.prototype.onDragStop=function(r){if(this.eventLastTime=null,this.dragging=!1,this.dragSource.onDragStopped&&this.dragSource.onDragStopped(),this.lastDropTarget&&this.lastDropTarget.onDragStop){var i=this.createDropTargetEvent(this.lastDropTarget,r,null,null,!1);this.lastDropTarget.onDragStop(i)}this.lastDropTarget=null,this.dragItem=null,this.removeGhost()},t.prototype.onDragging=function(r,i){var o=this,a,s,l,u,c=this.getHorizontalDirection(r),d=this.getVerticalDirection(r);this.eventLastTime=r,this.positionGhost(r);var p=this.dropTargets.filter(function(v){return o.isMouseOnDropTarget(r,v)}),h=this.findCurrentDropTarget(r,p);if(h!==this.lastDropTarget)this.leaveLastTargetIfExists(r,c,d,i),this.lastDropTarget!==null&&h===null&&((s=(a=this.dragSource).onGridExit)===null||s===void 0||s.call(a,this.dragItem)),this.lastDropTarget===null&&h!==null&&((u=(l=this.dragSource).onGridEnter)===null||u===void 0||u.call(l,this.dragItem)),this.enterDragTargetIfExists(h,r,c,d,i),this.lastDropTarget=h;else if(h&&h.onDragging){var f=this.createDropTargetEvent(h,r,c,d,i);h.onDragging(f)}},t.prototype.getAllContainersFromDropTarget=function(r){var i=r.getSecondaryContainers?r.getSecondaryContainers():null,o=[[r.getContainer()]];return i?o.concat(i):o},t.prototype.allContainersIntersect=function(r,i){var o,a;try{for(var s=s_(i),l=s.next();!l.done;l=s.next()){var u=l.value,c=u.getBoundingClientRect();if(c.width===0||c.height===0)return!1;var d=r.clientX>=c.left&&r.clientX<c.right,p=r.clientY>=c.top&&r.clientY<c.bottom;if(!d||!p)return!1}}catch(h){o={error:h}}finally{try{l&&!l.done&&(a=s.return)&&a.call(s)}finally{if(o)throw o.error}}return!0},t.prototype.isMouseOnDropTarget=function(r,i){var o,a,s=this.getAllContainersFromDropTarget(i),l=!1;try{for(var u=s_(s),c=u.next();!c.done;c=u.next()){var d=c.value;if(this.allContainersIntersect(r,d)){l=!0;break}}}catch(p){o={error:p}}finally{try{c&&!c.done&&(a=u.return)&&a.call(u)}finally{if(o)throw o.error}}return i.targetContainsSource&&!i.getContainer().contains(this.dragSource.eElement)?!1:l&&i.isInterestedIn(this.dragSource.type,this.dragSource.eElement)},t.prototype.findCurrentDropTarget=function(r,i){var o,a,s,l,u=i.length;if(u===0)return null;if(u===1)return i[0];var c=this.gridOptionsService.getRootNode(),d=c.elementsFromPoint(r.clientX,r.clientY);try{for(var p=s_(d),h=p.next();!h.done;h=p.next()){var f=h.value;try{for(var v=(s=void 0,s_(i)),g=v.next();!g.done;g=v.next()){var y=g.value,m=W7(this.getAllContainersFromDropTarget(y));if(m.indexOf(f)!==-1)return y}}catch(C){s={error:C}}finally{try{g&&!g.done&&(l=v.return)&&l.call(v)}finally{if(s)throw s.error}}}}catch(C){o={error:C}}finally{try{h&&!h.done&&(a=p.return)&&a.call(p)}finally{if(o)throw o.error}}return null},t.prototype.enterDragTargetIfExists=function(r,i,o,a,s){if(r){if(r.onDragEnter){var l=this.createDropTargetEvent(r,i,o,a,s);r.onDragEnter(l)}this.setGhostIcon(r.getIconName?r.getIconName():null)}},t.prototype.leaveLastTargetIfExists=function(r,i,o,a){if(this.lastDropTarget){if(this.lastDropTarget.onDragLeave){var s=this.createDropTargetEvent(this.lastDropTarget,r,i,o,a);this.lastDropTarget.onDragLeave(s)}this.setGhostIcon(null)}},t.prototype.addDropTarget=function(r){this.dropTargets.push(r)},t.prototype.removeDropTarget=function(r){this.dropTargets=this.dropTargets.filter(function(i){return i.getContainer()!==r.getContainer()})},t.prototype.hasExternalDropZones=function(){return this.dropTargets.some(function(r){return r.external})},t.prototype.findExternalZone=function(r){var i=this.dropTargets.filter(function(o){return o.external});return i.find(function(o){return o.getContainer()===r.getContainer()})||null},t.prototype.getHorizontalDirection=function(r){var i=this.eventLastTime&&this.eventLastTime.clientX,o=r.clientX;return i===o?null:i>o?so.Left:so.Right},t.prototype.getVerticalDirection=function(r){var i=this.eventLastTime&&this.eventLastTime.clientY,o=r.clientY;return i===o?null:i>o?$h.Up:$h.Down},t.prototype.createDropTargetEvent=function(r,i,o,a,s){var l=r.getContainer(),u=l.getBoundingClientRect(),c=this,d=c.gridApi,p=c.columnApi,h=c.dragItem,f=c.dragSource,v=i.clientX-u.left,g=i.clientY-u.top;return{event:i,x:v,y:g,vDirection:a,hDirection:o,dragSource:f,fromNudge:s,dragItem:h,api:d,columnApi:p,dropZoneTarget:l}},t.prototype.positionGhost=function(r){var i=this.eGhost;if(i){var o=i.getBoundingClientRect(),a=o.height,s=yY()-2,l=mY()-2,u=sG(i.offsetParent),c=r.clientY,d=r.clientX,p=c-u.top-a/2,h=d-u.left-10,f=this.gridOptionsService.getDocument(),v=f.defaultView||window,g=v.pageYOffset||f.documentElement.scrollTop,y=v.pageXOffset||f.documentElement.scrollLeft;s>0&&h+i.clientWidth>s+y&&(h=s+y-i.clientWidth),h<0&&(h=0),l>0&&p+i.clientHeight>l+g&&(p=l+g-i.clientHeight),p<0&&(p=0),i.style.left="".concat(h,"px"),i.style.top="".concat(p,"px")}},t.prototype.removeGhost=function(){this.eGhost&&this.eGhostParent&&this.eGhostParent.removeChild(this.eGhost),this.eGhost=null},t.prototype.createGhost=function(){this.eGhost=ao(e.GHOST_TEMPLATE),this.mouseEventService.stampTopLevelGridCompWithGridInstance(this.eGhost);var r=this.environment.getTheme().theme;r&&this.eGhost.classList.add(r),this.eGhostIcon=this.eGhost.querySelector(".ag-dnd-ghost-icon"),this.setGhostIcon(null);var i=this.eGhost.querySelector(".ag-dnd-ghost-label"),o=this.dragSource.dragItemName;ST(o)&&(o=o()),i.innerHTML=tn(o)||"",this.eGhost.style.height="25px",this.eGhost.style.top="20px",this.eGhost.style.left="20px";var a=this.gridOptionsService.getDocument(),s=null,l=null;try{s=a.fullscreenElement}catch{}finally{s||(s=this.gridOptionsService.getRootNode());var u=s.querySelector("body");u?l=u:s instanceof ShadowRoot?l=s:s instanceof Document?l=s==null?void 0:s.documentElement:l=s}this.eGhostParent=l,this.eGhostParent?this.eGhostParent.appendChild(this.eGhost):console.warn("AG Grid: could not find document body, it is needed for dragging columns")},t.prototype.setGhostIcon=function(r,i){i===void 0&&(i=!1),Sn(this.eGhostIcon);var o=null;switch(r||(r=this.dragSource.getDefaultIconName?this.dragSource.getDefaultIconName():e.ICON_NOT_ALLOWED),r){case e.ICON_PINNED:o=this.ePinnedIcon;break;case e.ICON_MOVE:o=this.eMoveIcon;break;case e.ICON_LEFT:o=this.eLeftIcon;break;case e.ICON_RIGHT:o=this.eRightIcon;break;case e.ICON_GROUP:o=this.eGroupIcon;break;case e.ICON_AGGREGATE:o=this.eAggregateIcon;break;case e.ICON_PIVOT:o=this.ePivotIcon;break;case e.ICON_NOT_ALLOWED:o=this.eDropNotAllowedIcon;break;case e.ICON_HIDE:o=this.eHideIcon;break}this.eGhostIcon.classList.toggle("ag-shake-left-to-right",i),!(o===this.eHideIcon&&this.gridOptionsService.get("suppressDragLeaveHidesColumns"))&&o&&this.eGhostIcon.appendChild(o)};var e;return t.ICON_PINNED="pinned",t.ICON_MOVE="move",t.ICON_LEFT="left",t.ICON_RIGHT="right",t.ICON_GROUP="group",t.ICON_AGGREGATE="aggregate",t.ICON_PIVOT="pivot",t.ICON_NOT_ALLOWED="notAllowed",t.ICON_HIDE="hide",t.GHOST_TEMPLATE=`<div class="ag-dnd-ghost ag-unselectable">
            <span class="ag-dnd-ghost-icon ag-shake-left-to-right"></span>
            <div class="ag-dnd-ghost-label"></div>
        </div>`,yp([E("dragService")],t.prototype,"dragService",void 0),yp([E("mouseEventService")],t.prototype,"mouseEventService",void 0),yp([E("columnApi")],t.prototype,"columnApi",void 0),yp([E("gridApi")],t.prototype,"gridApi",void 0),yp([z],t.prototype,"init",null),yp([rr],t.prototype,"clearDragSourceParamsList",null),t=e=yp([ae("dragAndDropService")],t),t}(q),AT=function(){var n=function(t,e){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])},n(t,e)};return function(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");n(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}}(),RC=function(n,t,e,r){var i=arguments.length,o=i<3?t:r===null?r=Object.getOwnPropertyDescriptor(t,e):r,a;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(n,t,e,r);else for(var s=n.length-1;s>=0;s--)(a=n[s])&&(o=(i<3?a(o):i>3?a(t,e,o):a(t,e))||o);return i>3&&o&&Object.defineProperty(t,e,o),o},Vb=function(n){AT(t,n);function t(e,r,i,o,a,s){var l=n.call(this)||this;return l.cellValueFn=e,l.rowNode=r,l.column=i,l.customGui=o,l.dragStartPixels=a,l.suppressVisibilityChange=s,l.dragSource=null,l}return t.prototype.isCustomGui=function(){return this.customGui!=null},t.prototype.postConstruct=function(){if(this.customGui?this.setDragElement(this.customGui,this.dragStartPixels):(this.setTemplate('<div class="ag-drag-handle ag-row-drag" aria-hidden="true"></div>'),this.getGui().appendChild(Wr("rowDrag",this.gridOptionsService,null)),this.addDragSource()),this.checkCompatibility(),!this.suppressVisibilityChange){var e=this.gridOptionsService.get("rowDragManaged")?new Vbe(this,this.beans,this.rowNode,this.column):new Gbe(this,this.beans,this.rowNode,this.column);this.createManagedBean(e,this.beans.context)}},t.prototype.setDragElement=function(e,r){this.setTemplateFromElement(e),this.addDragSource(r)},t.prototype.getSelectedNodes=function(){var e=this.gridOptionsService.get("rowDragMultiRow");if(!e)return[this.rowNode];var r=this.beans.selectionService.getSelectedNodes();return r.indexOf(this.rowNode)!==-1?r:[this.rowNode]},t.prototype.checkCompatibility=function(){var e=this.gridOptionsService.get("rowDragManaged"),r=this.gridOptionsService.get("treeData");r&&e&&Le("If using row drag with tree data, you cannot have rowDragManaged=true")},t.prototype.getDragItem=function(){return{rowNode:this.rowNode,rowNodes:this.getSelectedNodes(),columns:this.column?[this.column]:void 0,defaultTextValue:this.cellValueFn()}},t.prototype.getRowDragText=function(e){if(e){var r=e.getColDef();if(r.rowDragText)return r.rowDragText}return this.gridOptionsService.get("rowDragText")},t.prototype.addDragSource=function(e){var r=this;e===void 0&&(e=4),this.dragSource&&this.removeDragSource();var i=this.localeService.getLocaleTextFunc();this.dragSource={type:Sr.RowDrag,eElement:this.getGui(),dragItemName:function(){var o,a=r.getDragItem(),s=((o=a.rowNodes)===null||o===void 0?void 0:o.length)||1,l=r.getRowDragText(r.column);return l?l(a,s):s===1?r.cellValueFn():"".concat(s," ").concat(i("rowDragRows","rows"))},getDragItem:function(){return r.getDragItem()},dragStartPixels:e,dragSourceDomDataKey:this.gridOptionsService.getDomDataKey()},this.beans.dragAndDropService.addDragSource(this.dragSource,!0)},t.prototype.removeDragSource=function(){this.dragSource&&this.beans.dragAndDropService.removeDragSource(this.dragSource),this.dragSource=null},RC([E("beans")],t.prototype,"beans",void 0),RC([z],t.prototype,"postConstruct",null),RC([rr],t.prototype,"removeDragSource",null),t}(de),rX=function(n){AT(t,n);function t(e,r,i){var o=n.call(this)||this;return o.parent=e,o.rowNode=r,o.column=i,o}return t.prototype.setDisplayedOrVisible=function(e){var r={skipAriaHidden:!0};if(e)this.parent.setDisplayed(!1,r);else{var i=!0,o=!1;this.column&&(i=this.column.isRowDrag(this.rowNode)||this.parent.isCustomGui(),o=ST(this.column.getColDef().rowDrag)),o?(this.parent.setDisplayed(!0,r),this.parent.setVisible(i,r)):(this.parent.setDisplayed(i,r),this.parent.setVisible(!0,r))}},t}(q),Gbe=function(n){AT(t,n);function t(e,r,i,o){var a=n.call(this,e,i,o)||this;return a.beans=r,a}return t.prototype.postConstruct=function(){this.addManagedPropertyListener("suppressRowDrag",this.onSuppressRowDrag.bind(this)),this.addManagedListener(this.rowNode,Ue.EVENT_DATA_CHANGED,this.workOutVisibility.bind(this)),this.addManagedListener(this.rowNode,Ue.EVENT_CELL_CHANGED,this.workOutVisibility.bind(this)),this.addManagedListener(this.rowNode,Ue.EVENT_CELL_CHANGED,this.workOutVisibility.bind(this)),this.addManagedListener(this.beans.eventService,P.EVENT_NEW_COLUMNS_LOADED,this.workOutVisibility.bind(this)),this.workOutVisibility()},t.prototype.onSuppressRowDrag=function(){this.workOutVisibility()},t.prototype.workOutVisibility=function(){var e=this.gridOptionsService.get("suppressRowDrag");this.setDisplayedOrVisible(e)},RC([z],t.prototype,"postConstruct",null),t}(rX),Vbe=function(n){AT(t,n);function t(e,r,i,o){var a=n.call(this,e,i,o)||this;return a.beans=r,a}return t.prototype.postConstruct=function(){this.addManagedListener(this.beans.eventService,P.EVENT_SORT_CHANGED,this.workOutVisibility.bind(this)),this.addManagedListener(this.beans.eventService,P.EVENT_FILTER_CHANGED,this.workOutVisibility.bind(this)),this.addManagedListener(this.beans.eventService,P.EVENT_COLUMN_ROW_GROUP_CHANGED,this.workOutVisibility.bind(this)),this.addManagedListener(this.beans.eventService,P.EVENT_NEW_COLUMNS_LOADED,this.workOutVisibility.bind(this)),this.addManagedListener(this.rowNode,Ue.EVENT_DATA_CHANGED,this.workOutVisibility.bind(this)),this.addManagedListener(this.rowNode,Ue.EVENT_CELL_CHANGED,this.workOutVisibility.bind(this)),this.addManagedPropertyListener("suppressRowDrag",this.onSuppressRowDrag.bind(this)),this.workOutVisibility()},t.prototype.onSuppressRowDrag=function(){this.workOutVisibility()},t.prototype.workOutVisibility=function(){var e=this.beans.ctrlsService.getGridBodyCtrl(),r=e.getRowDragFeature(),i=r&&r.shouldPreventRowMove(),o=this.gridOptionsService.get("suppressRowDrag"),a=this.beans.dragAndDropService.hasExternalDropZones(),s=i&&!a||o;this.setDisplayedOrVisible(s)},RC([z],t.prototype,"postConstruct",null),t}(rX),Bbe=function(){var n=function(t,e){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])},n(t,e)};return function(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");n(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}}(),Bb=function(){return Bb=Object.assign||function(n){for(var t,e=1,r=arguments.length;e<r;e++){t=arguments[e];for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(n[i]=t[i])}return n},Bb.apply(this,arguments)},Fy=function(n,t,e,r){var i=arguments.length,o=i<3?t:r===null?r=Object.getOwnPropertyDescriptor(t,e):r,a;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(n,t,e,r);else for(var s=n.length-1;s>=0;s--)(a=n[s])&&(o=(i<3?a(o):i>3?a(t,e,o):a(t,e))||o);return i>3&&o&&Object.defineProperty(t,e,o),o},nX=function(n){Bbe(t,n);function t(){return n!==null&&n.apply(this,arguments)||this}return t.prototype.init=function(e,r,i,o,a,s,l){var u,c,d,p;this.params=l,this.eGui=r,this.eCheckbox=i,this.eExpanded=o,this.eContracted=a,this.comp=e,this.compClass=s;var h=l.node;l.value;var f=l.colDef,v=this.isTopLevelFooter();if(!v){var g=this.isEmbeddedRowMismatch();if(g)return;if(h.footer&&this.gridOptionsService.get("groupHideOpenParents")){var y=f&&f.showRowGroup,m=h.rowGroupColumn&&h.rowGroupColumn.getColId();if(y!==m)return}}if(this.setupShowingValueForOpenedParent(),this.findDisplayedGroupNode(),!v){var C=l.node.footer&&l.node.rowGroupIndex===this.columnModel.getRowGroupColumns().findIndex(function(T){var A;return T.getColId()===((A=l.colDef)===null||A===void 0?void 0:A.showRowGroup)}),S=this.gridOptionsService.get("groupDisplayType")!="multipleColumns"||this.gridOptionsService.get("treeData"),w=S||this.gridOptionsService.get("showOpenedGroup")&&!l.node.footer&&(!l.node.group||l.node.rowGroupIndex!=null&&l.node.rowGroupIndex>this.columnModel.getRowGroupColumns().findIndex(function(T){var A;return T.getColId()===((A=l.colDef)===null||A===void 0?void 0:A.showRowGroup)})),_=!h.group&&(((u=this.params.colDef)===null||u===void 0?void 0:u.field)||((c=this.params.colDef)===null||c===void 0?void 0:c.valueGetter)),x=this.isExpandable(),b=this.columnModel.isPivotMode()&&h.leafGroup&&((d=h.rowGroupColumn)===null||d===void 0?void 0:d.getColId())===((p=l.column)===null||p===void 0?void 0:p.getColDef().showRowGroup),O=!this.showingValueForOpenedParent&&!x&&!_&&!w&&!C&&!b;if(O)return}this.addExpandAndContract(),this.addFullWidthRowDraggerIfNeeded(),this.addCheckboxIfNeeded(),this.addValueElement(),this.setupIndent(),this.refreshAriaExpanded()},t.prototype.getCellAriaRole=function(){var e,r,i=(e=this.params.colDef)===null||e===void 0?void 0:e.cellAriaRole,o=(r=this.params.column)===null||r===void 0?void 0:r.getColDef().cellAriaRole;return i||o||"gridcell"},t.prototype.destroy=function(){n.prototype.destroy.call(this),this.expandListener=null},t.prototype.refreshAriaExpanded=function(){var e=this.params,r=e.node,i=e.eGridCell;if(this.expandListener&&(this.expandListener=this.expandListener()),!this.isExpandable()){uY(i);return}var o=function(){Ju(i,!!r.expanded)};this.expandListener=this.addManagedListener(r,Ue.EVENT_EXPANDED_CHANGED,o)||null,o()},t.prototype.isTopLevelFooter=function(){if(!this.gridOptionsService.get("groupIncludeTotalFooter")||this.params.value!=null||this.params.node.level!=-1)return!1;var e=this.params.colDef,r=e==null;if(r||e.showRowGroup===!0)return!0;var i=this.columnModel.getRowGroupColumns();if(!i||i.length===0)return!0;var o=i[0];return o.getId()===e.showRowGroup},t.prototype.isEmbeddedRowMismatch=function(){if(!this.params.fullWidth||!this.gridOptionsService.get("embedFullWidthRows"))return!1;var e=this.params.pinned==="left",r=this.params.pinned==="right",i=!e&&!r;return this.gridOptionsService.get("enableRtl")?this.columnModel.isPinningLeft()?!r:!i:this.columnModel.isPinningLeft()?!e:!i},t.prototype.findDisplayedGroupNode=function(){var e=this.params.column,r=this.params.node;if(this.showingValueForOpenedParent)for(var i=r.parent;i!=null;){if(i.rowGroupColumn&&e.isRowGroupDisplayed(i.rowGroupColumn.getId())){this.displayedGroupNode=i;break}i=i.parent}je(this.displayedGroupNode)&&(this.displayedGroupNode=r)},t.prototype.setupShowingValueForOpenedParent=function(){var e=this.params.node,r=this.params.column;if(!this.gridOptionsService.get("groupHideOpenParents")){this.showingValueForOpenedParent=!1;return}if(!e.groupData){this.showingValueForOpenedParent=!1;return}var i=e.rowGroupColumn!=null;if(i){var o=e.rowGroupColumn.getId(),a=r.isRowGroupDisplayed(o);if(a){this.showingValueForOpenedParent=!1;return}}var s=e.groupData[r.getId()]!=null;this.showingValueForOpenedParent=s},t.prototype.addValueElement=function(){this.displayedGroupNode.footer?this.addFooterValue():(this.addGroupValue(),this.addChildCount())},t.prototype.addGroupValue=function(){var e,r=this.adjustParamsWithDetailsFromRelatedColumn(),i=this.getInnerCompDetails(r),o=r.valueFormatted,a=r.value,s=o;if(s==null){var l=this.displayedGroupNode.rowGroupColumn&&((e=this.params.column)===null||e===void 0?void 0:e.isRowGroupDisplayed(this.displayedGroupNode.rowGroupColumn.getId()));if(this.displayedGroupNode.key===""&&this.displayedGroupNode.group&&l){var u=this.localeService.getLocaleTextFunc();s=u("blanks","(Blanks)")}else s=a??null}this.comp.setInnerRenderer(i,s)},t.prototype.adjustParamsWithDetailsFromRelatedColumn=function(){var e=this.displayedGroupNode.rowGroupColumn,r=this.params.column;if(!e)return this.params;var i=r!=null;if(i){var o=r.isRowGroupDisplayed(e.getId());if(!o)return this.params}var a=this.params,s=this.params,l=s.value,u=s.node,c=this.valueFormatterService.formatValue(e,u,l),d=Bb(Bb({},a),{valueFormatted:c});return d},t.prototype.addFooterValue=function(){var e=this.params.footerValueGetter,r="";if(e){var i=Ik(this.params);i.value=this.params.value,typeof e=="function"?r=e(i):typeof e=="string"?r=this.expressionService.evaluate(e,i):console.warn("AG Grid: footerValueGetter should be either a function or a string (expression)")}else{var o=this.localeService.getLocaleTextFunc(),a=o("footerTotal","Total");r=a+" "+(this.params.value!=null?this.params.value:"")}var s=this.getInnerCompDetails(this.params);this.comp.setInnerRenderer(s,r)},t.prototype.getInnerCompDetails=function(e){var r=this;if(e.fullWidth)return this.userComponentFactory.getFullWidthGroupRowInnerCellRenderer(this.gridOptionsService.get("groupRowRendererParams"),e);var i=this.userComponentFactory.getInnerRendererDetails(e,e),o=function(c){return c&&c.componentClass==r.compClass};if(i&&!o(i))return i;var a=this.displayedGroupNode.rowGroupColumn,s=a?a.getColDef():void 0;if(s){var l=this.userComponentFactory.getCellRendererDetails(s,e);if(l&&!o(l))return l;if(o(l)&&s.cellRendererParams&&s.cellRendererParams.innerRenderer){var u=this.userComponentFactory.getInnerRendererDetails(s.cellRendererParams,e);return u}}},t.prototype.addChildCount=function(){this.params.suppressCount||(this.addManagedListener(this.displayedGroupNode,Ue.EVENT_ALL_CHILDREN_COUNT_CHANGED,this.updateChildCount.bind(this)),this.updateChildCount())},t.prototype.updateChildCount=function(){var e=this.displayedGroupNode.allChildrenCount,r=this.isShowRowGroupForThisRow(),i=r&&e!=null&&e>=0,o=i?"(".concat(e,")"):"";this.comp.setChildCount(o)},t.prototype.isShowRowGroupForThisRow=function(){if(this.gridOptionsService.get("treeData"))return!0;var e=this.displayedGroupNode.rowGroupColumn;if(!e)return!1;var r=this.params.column,i=r==null||r.isRowGroupDisplayed(e.getId());return i},t.prototype.addExpandAndContract=function(){var e,r=this.params,i=Wr("groupExpanded",this.gridOptionsService,null),o=Wr("groupContracted",this.gridOptionsService,null);i&&this.eExpanded.appendChild(i),o&&this.eContracted.appendChild(o);var a=r.eGridCell,s=((e=this.params.column)===null||e===void 0?void 0:e.isCellEditable(r.node))&&this.gridOptionsService.get("enableGroupEdit");!s&&this.isExpandable()&&!r.suppressDoubleClickExpand&&this.addManagedListener(a,"dblclick",this.onCellDblClicked.bind(this)),this.addManagedListener(this.eExpanded,"click",this.onExpandClicked.bind(this)),this.addManagedListener(this.eContracted,"click",this.onExpandClicked.bind(this)),this.addManagedListener(a,"keydown",this.onKeyDown.bind(this)),this.addManagedListener(r.node,Ue.EVENT_EXPANDED_CHANGED,this.showExpandAndContractIcons.bind(this)),this.showExpandAndContractIcons();var l=this.onRowNodeIsExpandableChanged.bind(this);this.addManagedListener(this.displayedGroupNode,Ue.EVENT_ALL_CHILDREN_COUNT_CHANGED,l),this.addManagedListener(this.displayedGroupNode,Ue.EVENT_MASTER_CHANGED,l),this.addManagedListener(this.displayedGroupNode,Ue.EVENT_GROUP_CHANGED,l),this.addManagedListener(this.displayedGroupNode,Ue.EVENT_HAS_CHILDREN_CHANGED,l)},t.prototype.onExpandClicked=function(e){As(e)||(Fs(e),this.onExpandOrContract(e))},t.prototype.onExpandOrContract=function(e){var r=this.displayedGroupNode,i=!r.expanded;!i&&r.sticky&&this.scrollToStickyNode(r),r.setExpanded(i,e)},t.prototype.scrollToStickyNode=function(e){var r=this.ctrlsService.getGridBodyCtrl(),i=r.getScrollFeature();i.setVerticalScrollPosition(e.rowTop-e.stickyRowTop)},t.prototype.isExpandable=function(){if(this.showingValueForOpenedParent)return!0;var e=this.displayedGroupNode,r=this.columnModel.isPivotMode()&&e.leafGroup,i=e.isExpandable()&&!e.footer&&!r;if(!i)return!1;var o=this.params.column,a=o!=null&&typeof o.getColDef().showRowGroup=="string";if(a){var s=this.isShowRowGroupForThisRow();return s}return!0},t.prototype.showExpandAndContractIcons=function(){var e=this,r=e.params,i=e.displayedGroupNode,o=e.columnModel,a=r.node,s=this.isExpandable();if(s){var l=this.showingValueForOpenedParent?!0:a.expanded;this.comp.setExpandedDisplayed(l),this.comp.setContractedDisplayed(!l)}else this.comp.setExpandedDisplayed(!1),this.comp.setContractedDisplayed(!1);var u=o.isPivotMode(),c=u&&i.leafGroup,d=s&&!c,p=a.footer&&a.level===-1;this.comp.addOrRemoveCssClass("ag-cell-expandable",d),this.comp.addOrRemoveCssClass("ag-row-group",d),u?this.comp.addOrRemoveCssClass("ag-pivot-leaf-group",c):p||this.comp.addOrRemoveCssClass("ag-row-group-leaf-indent",!d)},t.prototype.onRowNodeIsExpandableChanged=function(){this.showExpandAndContractIcons(),this.setIndent(),this.refreshAriaExpanded()},t.prototype.setupIndent=function(){var e=this.params.node,r=this.params.suppressPadding;r||(this.addManagedListener(e,Ue.EVENT_UI_LEVEL_CHANGED,this.setIndent.bind(this)),this.setIndent())},t.prototype.setIndent=function(){if(!this.gridOptionsService.get("groupHideOpenParents")){var e=this.params,r=e.node,i=!!e.colDef,o=this.gridOptionsService.get("treeData"),a=!i||o||e.colDef.showRowGroup===!0,s=a?r.uiLevel:0;this.indentClass&&this.comp.addOrRemoveCssClass(this.indentClass,!1),this.indentClass="ag-row-group-indent-"+s,this.comp.addOrRemoveCssClass(this.indentClass,!0)}},t.prototype.addFullWidthRowDraggerIfNeeded=function(){var e=this;if(!(!this.params.fullWidth||!this.params.rowDrag)){var r=new Vb(function(){return e.params.value},this.params.node);this.createManagedBean(r,this.context),this.eGui.insertAdjacentElement("afterbegin",r.getGui())}},t.prototype.isUserWantsSelected=function(){var e=this.params.checkbox;return typeof e=="function"||e===!0},t.prototype.addCheckboxIfNeeded=function(){var e=this,r=this.displayedGroupNode,i=this.isUserWantsSelected()&&!r.footer&&!r.rowPinned&&!r.detail;if(i){var o=new wG;this.getContext().createBean(o),o.init({rowNode:this.params.node,column:this.params.column,overrides:{isVisible:this.params.checkbox,callbackParams:this.params,removeHidden:!0}}),this.eCheckbox.appendChild(o.getGui()),this.addDestroyFunc(function(){return e.getContext().destroyBean(o)})}this.comp.setCheckboxVisible(i)},t.prototype.onKeyDown=function(e){var r=e.key===U.ENTER;if(!(!r||this.params.suppressEnterExpand)){var i=this.params.column&&this.params.column.isCellEditable(this.params.node);i||this.onExpandOrContract(e)}},t.prototype.onCellDblClicked=function(e){if(!As(e)){var r=Fb(this.eExpanded,e)||Fb(this.eContracted,e);r||this.onExpandOrContract(e)}},Fy([E("expressionService")],t.prototype,"expressionService",void 0),Fy([E("valueFormatterService")],t.prototype,"valueFormatterService",void 0),Fy([E("columnModel")],t.prototype,"columnModel",void 0),Fy([E("userComponentFactory")],t.prototype,"userComponentFactory",void 0),Fy([E("ctrlsService")],t.prototype,"ctrlsService",void 0),t}(q),Hbe=function(){var n=function(t,e){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])},n(t,e)};return function(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");n(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}}(),Ly=function(n,t,e,r){var i=arguments.length,o=i<3?t:r===null?r=Object.getOwnPropertyDescriptor(t,e):r,a;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(n,t,e,r);else for(var s=n.length-1;s>=0;s--)(a=n[s])&&(o=(i<3?a(o):i>3?a(t,e,o):a(t,e))||o);return i>3&&o&&Object.defineProperty(t,e,o),o},DL=function(n){Hbe(t,n);function t(){return n.call(this,t.TEMPLATE)||this}return t.prototype.init=function(e){var r=this,i={setInnerRenderer:function(l,u){return r.setRenderDetails(l,u)},setChildCount:function(l){return r.eChildCount.textContent=l},addOrRemoveCssClass:function(l,u){return r.addOrRemoveCssClass(l,u)},setContractedDisplayed:function(l){return mt(r.eContracted,l)},setExpandedDisplayed:function(l){return mt(r.eExpanded,l)},setCheckboxVisible:function(l){return r.eCheckbox.classList.toggle("ag-invisible",!l)}},o=this.createManagedBean(new nX),a=!e.colDef,s=this.getGui();o.init(i,s,this.eCheckbox,this.eExpanded,this.eContracted,this.constructor,e),a&&on(s,o.getCellAriaRole())},t.prototype.setRenderDetails=function(e,r){var i=this;if(e){var o=e.newAgStackInstance();if(!o)return;o.then(function(a){if(a){var s=function(){return i.context.destroyBean(a)};i.isAlive()?(i.eValue.appendChild(a.getGui()),i.addDestroyFunc(s)):s()}})}else this.eValue.innerText=r},t.prototype.destroy=function(){this.getContext().destroyBean(this.innerCellRenderer),n.prototype.destroy.call(this)},t.prototype.refresh=function(){return!1},t.TEMPLATE=`<span class="ag-cell-wrapper">
            <span class="ag-group-expanded" ref="eExpanded"></span>
            <span class="ag-group-contracted" ref="eContracted"></span>
            <span class="ag-group-checkbox ag-invisible" ref="eCheckbox"></span>
            <span class="ag-group-value" ref="eValue"></span>
            <span class="ag-group-child-count" ref="eChildCount"></span>
        </span>`,Ly([$("eExpanded")],t.prototype,"eExpanded",void 0),Ly([$("eContracted")],t.prototype,"eContracted",void 0),Ly([$("eCheckbox")],t.prototype,"eCheckbox",void 0),Ly([$("eValue")],t.prototype,"eValue",void 0),Ly([$("eChildCount")],t.prototype,"eChildCount",void 0),t}(de),jbe=function(){var n=function(t,e){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])},n(t,e)};return function(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");n(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}}(),y3=function(n,t,e,r){var i=arguments.length,o=i<3?t:r===null?r=Object.getOwnPropertyDescriptor(t,e):r,a;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(n,t,e,r);else for(var s=n.length-1;s>=0;s--)(a=n[s])&&(o=(i<3?a(o):i>3?a(t,e,o):a(t,e))||o);return i>3&&o&&Object.defineProperty(t,e,o),o},$be=function(n){jbe(t,n);function t(){return n.call(this,t.TEMPLATE)||this}return t.prototype.init=function(e){e.node.failedLoad?this.setupFailed():this.setupLoading()},t.prototype.setupFailed=function(){var e=this.localeService.getLocaleTextFunc();this.eLoadingText.innerText=e("loadingError","ERR")},t.prototype.setupLoading=function(){var e=Wr("groupLoading",this.gridOptionsService,null);e&&this.eLoadingIcon.appendChild(e);var r=this.localeService.getLocaleTextFunc();this.eLoadingText.innerText=r("loadingOoo","Loading")},t.prototype.refresh=function(e){return!1},t.prototype.destroy=function(){n.prototype.destroy.call(this)},t.TEMPLATE=`<div class="ag-loading">
            <span class="ag-loading-icon" ref="eLoadingIcon"></span>
            <span class="ag-loading-text" ref="eLoadingText"></span>
        </div>`,y3([$("eLoadingIcon")],t.prototype,"eLoadingIcon",void 0),y3([$("eLoadingText")],t.prototype,"eLoadingText",void 0),t}(de),Wbe=function(){var n=function(t,e){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])},n(t,e)};return function(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");n(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}}(),Ube=function(n){Wbe(t,n);function t(){return n.call(this)||this}return t.prototype.destroy=function(){n.prototype.destroy.call(this)},t.prototype.init=function(e){var r=this,i=this.gridOptionsService.get("overlayLoadingTemplate");if(this.setTemplate(i??t.DEFAULT_LOADING_OVERLAY_TEMPLATE),!i){var o=this.localeService.getLocaleTextFunc();setTimeout(function(){r.getGui().textContent=o("loadingOoo","Loading...")})}},t.DEFAULT_LOADING_OVERLAY_TEMPLATE='<span aria-live="polite" aria-atomic="true" class="ag-overlay-loading-center"></span>',t}(de),zbe=function(){var n=function(t,e){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])},n(t,e)};return function(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");n(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}}(),Kbe=function(n){zbe(t,n);function t(){return n.call(this)||this}return t.prototype.destroy=function(){n.prototype.destroy.call(this)},t.prototype.init=function(e){var r=this,i=this.gridOptionsService.get("overlayNoRowsTemplate");if(this.setTemplate(i??t.DEFAULT_NO_ROWS_TEMPLATE),!i){var o=this.localeService.getLocaleTextFunc();setTimeout(function(){r.getGui().textContent=o("noRowsToShow","No Rows To Show")})}},t.DEFAULT_NO_ROWS_TEMPLATE='<span class="ag-overlay-no-rows-center"></span>',t}(de),Ybe=function(){var n=function(t,e){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])},n(t,e)};return function(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");n(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}}(),Xbe=function(n){Ybe(t,n);function t(){return n.call(this,'<div class="ag-tooltip"></div>')||this}return t.prototype.init=function(e){var r=e.value;this.getGui().textContent=tn(r,!0)},t}(dc),qbe=function(){var n=function(t,e){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])},n(t,e)};return function(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");n(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}}(),Zbe=function(){function n(){}return n.prototype.getTemplate=function(){return'<ag-input-number-field class="ag-cell-editor" ref="eInput"></ag-input-number-field>'},n.prototype.init=function(t,e){this.eInput=t,this.params=e,e.max!=null&&t.setMax(e.max),e.min!=null&&t.setMin(e.min),e.precision!=null&&t.setPrecision(e.precision),e.step!=null&&t.setStep(e.step);var r=t.getInputElement();e.preventStepping?t.addManagedListener(r,"keydown",this.preventStepping):e.showStepperButtons&&r.classList.add("ag-number-field-input-stepper")},n.prototype.preventStepping=function(t){(t.key===U.UP||t.key===U.DOWN)&&t.preventDefault()},n.prototype.getValue=function(){var t=this.eInput.getValue();if(!ce(t)&&!ce(this.params.value))return this.params.value;var e=this.params.parseValue(t);if(e==null)return e;if(typeof e=="string"){if(e==="")return null;e=Number(e)}return isNaN(e)?null:e},n.prototype.getStartValue=function(){return this.params.value},n}(),iX=function(n){qbe(t,n);function t(){return n.call(this,new Zbe)||this}return t}(PT),Qbe=function(){var n=function(t,e){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])},n(t,e)};return function(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");n(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}}(),Jbe=function(){function n(){}return n.prototype.getTemplate=function(){return'<ag-input-date-field class="ag-cell-editor" ref="eInput"></ag-input-date-field>'},n.prototype.init=function(t,e){this.eInput=t,this.params=e,e.min!=null&&t.setMin(e.min),e.max!=null&&t.setMax(e.max),e.step!=null&&t.setStep(e.step)},n.prototype.getValue=function(){var t=this.eInput.getDate();return!ce(t)&&!ce(this.params.value)?this.params.value:t??null},n.prototype.getStartValue=function(){var t=this.params.value;if(t instanceof Date)return Ha(t,!1)},n}(),oX=function(n){Qbe(t,n);function t(){return n.call(this,new Jbe)||this}return t}(PT),eOe=function(){var n=function(t,e){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])},n(t,e)};return function(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");n(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}}(),tOe=function(n,t,e,r){var i=arguments.length,o=i<3?t:r===null?r=Object.getOwnPropertyDescriptor(t,e):r,a;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(n,t,e,r);else for(var s=n.length-1;s>=0;s--)(a=n[s])&&(o=(i<3?a(o):i>3?a(t,e,o):a(t,e))||o);return i>3&&o&&Object.defineProperty(t,e,o),o},rOe=function(){function n(t){this.getDataTypeService=t}return n.prototype.getTemplate=function(){return'<ag-input-date-field class="ag-cell-editor" ref="eInput"></ag-input-date-field>'},n.prototype.init=function(t,e){this.eInput=t,this.params=e,e.min!=null&&t.setMin(e.min),e.max!=null&&t.setMax(e.max),e.step!=null&&t.setStep(e.step)},n.prototype.getValue=function(){var t=this.formatDate(this.eInput.getDate());return!ce(t)&&!ce(this.params.value)?this.params.value:this.params.parseValue(t??"")},n.prototype.getStartValue=function(){var t,e;return Ha((e=this.parseDate((t=this.params.value)!==null&&t!==void 0?t:void 0))!==null&&e!==void 0?e:null,!1)},n.prototype.parseDate=function(t){return this.getDataTypeService().getDateParserFunction(this.params.column)(t)},n.prototype.formatDate=function(t){return this.getDataTypeService().getDateFormatterFunction(this.params.column)(t)},n}(),aX=function(n){eOe(t,n);function t(){var e=n.call(this,new rOe(function(){return e.dataTypeService}))||this;return e}return tOe([E("dataTypeService")],t.prototype,"dataTypeService",void 0),t}(PT),nOe=function(){var n=function(t,e){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])},n(t,e)};return function(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");n(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}}(),iOe=function(n,t,e,r){var i=arguments.length,o=i<3?t:r===null?r=Object.getOwnPropertyDescriptor(t,e):r,a;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(n,t,e,r);else for(var s=n.length-1;s>=0;s--)(a=n[s])&&(o=(i<3?a(o):i>3?a(t,e,o):a(t,e))||o);return i>3&&o&&Object.defineProperty(t,e,o),o},sX=function(n){nOe(t,n);function t(){return n.call(this,t.TEMPLATE)||this}return t.prototype.init=function(e){var r=this;this.params=e,this.updateCheckbox(e);var i=this.eCheckbox.getInputElement();i.setAttribute("tabindex","-1"),$k(i,"polite"),this.addManagedListener(i,"click",function(a){if(Fs(a),!r.eCheckbox.isDisabled()){var s=r.eCheckbox.getValue();r.onCheckboxChanged(s)}}),this.addManagedListener(i,"dblclick",function(a){Fs(a)});var o=this.gridOptionsService.getDocument();this.addManagedListener(this.params.eGridCell,"keydown",function(a){if(a.key===U.SPACE&&!r.eCheckbox.isDisabled()){r.params.eGridCell===o.activeElement&&r.eCheckbox.toggle();var s=r.eCheckbox.getValue();r.onCheckboxChanged(s),a.preventDefault()}})},t.prototype.refresh=function(e){return this.params=e,this.updateCheckbox(e),!0},t.prototype.updateCheckbox=function(e){var r,i,o,a,s=!0;if(e.node.group&&e.column){var l=e.column.getColId();l.startsWith(Qu)?a=e.value==null||e.value===""?void 0:e.value==="true":e.node.aggData&&e.node.aggData[l]!==void 0?a=(r=e.value)!==null&&r!==void 0?r:void 0:s=!1}else a=(i=e.value)!==null&&i!==void 0?i:void 0;if(!s){this.eCheckbox.setDisplayed(!1);return}this.eCheckbox.setValue(a);var u=e.disabled!=null?e.disabled:!(!((o=e.column)===null||o===void 0)&&o.isCellEditable(e.node));this.eCheckbox.setDisabled(u);var c=this.localeService.getLocaleTextFunc(),d=Zk(c,a),p=u?d:"".concat(c("ariaToggleCellValue","Press SPACE to toggle cell value")," (").concat(d,")");this.eCheckbox.setInputAriaLabel(p)},t.prototype.onCheckboxChanged=function(e){var r=this.params,i=r.column,o=r.node,a=r.rowIndex,s=r.value,l={type:P.EVENT_CELL_EDITING_STARTED,column:i,colDef:i==null?void 0:i.getColDef(),data:o.data,node:o,rowIndex:a,rowPinned:o.rowPinned,value:s};this.eventService.dispatchEvent(l);var u=this.params.node.setDataValue(this.params.column,e,"edit"),c={type:P.EVENT_CELL_EDITING_STOPPED,column:i,colDef:i==null?void 0:i.getColDef(),data:o.data,node:o,rowIndex:a,rowPinned:o.rowPinned,value:s,oldValue:s,newValue:e,valueChanged:u};this.eventService.dispatchEvent(c)},t.TEMPLATE=`
        <div class="ag-cell-wrapper ag-checkbox-cell" role="presentation">
            <ag-checkbox role="presentation" ref="eCheckbox"></ag-checkbox>
        </div>`,iOe([$("eCheckbox")],t.prototype,"eCheckbox",void 0),t}(de),oOe=function(){var n=function(t,e){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])},n(t,e)};return function(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");n(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}}(),aOe=function(n,t,e,r){var i=arguments.length,o=i<3?t:r===null?r=Object.getOwnPropertyDescriptor(t,e):r,a;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(n,t,e,r);else for(var s=n.length-1;s>=0;s--)(a=n[s])&&(o=(i<3?a(o):i>3?a(t,e,o):a(t,e))||o);return i>3&&o&&Object.defineProperty(t,e,o),o},lX=function(n){oOe(t,n);function t(){return n.call(this,`
            <div class="ag-cell-wrapper ag-cell-edit-wrapper ag-checkbox-edit">
                <ag-checkbox role="presentation" ref="eCheckbox"></ag-checkbox>
            </div>`)||this}return t.prototype.init=function(e){var r=this,i;this.params=e;var o=(i=e.value)!==null&&i!==void 0?i:void 0;this.eCheckbox.setValue(o);var a=this.eCheckbox.getInputElement();a.setAttribute("tabindex","-1"),this.setAriaLabel(o),this.addManagedListener(this.eCheckbox,P.EVENT_FIELD_VALUE_CHANGED,function(s){return r.setAriaLabel(s.selected)})},t.prototype.getValue=function(){return this.eCheckbox.getValue()},t.prototype.focusIn=function(){this.eCheckbox.getFocusableElement().focus()},t.prototype.afterGuiAttached=function(){this.params.cellStartedEdit&&this.focusIn()},t.prototype.isPopup=function(){return!1},t.prototype.setAriaLabel=function(e){var r=this.localeService.getLocaleTextFunc(),i=Zk(r,e),o=r("ariaToggleCellValue","Press SPACE to toggle cell value");this.eCheckbox.setInputAriaLabel("".concat(o," (").concat(i,")"))},aOe([$("eCheckbox")],t.prototype,"eCheckbox",void 0),t}(dc),sOe=function(){var n=function(t,e){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])},n(t,e)};return function(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");n(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}}(),_G=function(n){sOe(t,n);function t(){var e=n.call(this)||this;return e.setTemplate("<div></div>"),e}return t.prototype.init=function(e){var r;this.params=e,this.cssClassPrefix=(r=this.params.cssClassPrefix)!==null&&r!==void 0?r:"ag-menu-option",this.addIcon(),this.addName(),this.addShortcut(),this.addSubMenu()},t.prototype.configureDefaults=function(){return!0},t.prototype.addIcon=function(){if(!this.params.isCompact){var e=ao('<span ref="eIcon" class="'.concat(this.getClassName("part")," ").concat(this.getClassName("icon"),'" role="presentation"></span>'));this.params.checked?e.appendChild(Wr("check",this.gridOptionsService)):this.params.icon&&(Iw(this.params.icon)?e.appendChild(this.params.icon):typeof this.params.icon=="string"?e.innerHTML=this.params.icon:console.warn("AG Grid: menu item icon must be DOM node or string")),this.getGui().appendChild(e)}},t.prototype.addName=function(){var e=ao('<span ref="eName" class="'.concat(this.getClassName("part")," ").concat(this.getClassName("text"),'">').concat(this.params.name||"","</span>"));this.getGui().appendChild(e)},t.prototype.addShortcut=function(){if(!this.params.isCompact){var e=ao('<span ref="eShortcut" class="'.concat(this.getClassName("part")," ").concat(this.getClassName("shortcut"),'">').concat(this.params.shortcut||"","</span>"));this.getGui().appendChild(e)}},t.prototype.addSubMenu=function(){var e=ao('<span ref="ePopupPointer" class="'.concat(this.getClassName("part")," ").concat(this.getClassName("popup-pointer"),'"></span>')),r=this.getGui();if(this.params.subMenu){var i=this.gridOptionsService.get("enableRtl")?"smallLeft":"smallRight";Ju(r,!1),e.appendChild(Wr(i,this.gridOptionsService))}r.appendChild(e)},t.prototype.getClassName=function(e){return"".concat(this.cssClassPrefix,"-").concat(e)},t.prototype.destroy=function(){n.prototype.destroy.call(this)},t}(de),lOe=function(){var n=function(t,e){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])},n(t,e)};return function(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");n(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}}(),YA=function(n,t,e,r){var i=arguments.length,o=i<3?t:r===null?r=Object.getOwnPropertyDescriptor(t,e):r,a;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(n,t,e,r);else for(var s=n.length-1;s>=0;s--)(a=n[s])&&(o=(i<3?a(o):i>3?a(t,e,o):a(t,e))||o);return i>3&&o&&Object.defineProperty(t,e,o),o},m3=function(n,t){var e=typeof Symbol=="function"&&n[Symbol.iterator];if(!e)return n;var r=e.call(n),i,o=[],a;try{for(;(t===void 0||t-- >0)&&!(i=r.next()).done;)o.push(i.value)}catch(s){a={error:s}}finally{try{i&&!i.done&&(e=r.return)&&e.call(r)}finally{if(a)throw a.error}}return o},C3=function(n,t,e){if(e||arguments.length===2)for(var r=0,i=t.length,o;r<i;r++)(o||!(r in t))&&(o||(o=Array.prototype.slice.call(t,0,r)),o[r]=t[r]);return n.concat(o||Array.prototype.slice.call(t))},uX=function(n){lOe(t,n);function t(){var e=n!==null&&n.apply(this,arguments)||this;return e.agGridDefaults={agDateInput:pbe,agColumnHeader:PL,agColumnGroupHeader:wbe,agSortIndicator:TT,agTextColumnFloatingFilter:ZY,agNumberColumnFloatingFilter:gbe,agDateColumnFloatingFilter:lbe,agReadOnlyFloatingFilter:VEe,agAnimateShowChangeCellRenderer:eX,agAnimateSlideCellRenderer:tX,agGroupCellRenderer:DL,agGroupRowRenderer:DL,agLoadingCellRenderer:$be,agCheckboxCellRenderer:sX,agCellEditor:AL,agTextCellEditor:AL,agNumberCellEditor:iX,agDateCellEditor:oX,agDateStringCellEditor:aX,agSelectCellEditor:JY,agLargeTextCellEditor:QY,agCheckboxCellEditor:lX,agTextColumnFilter:xg,agNumberColumnFilter:SG,agDateColumnFilter:CG,agLoadingOverlay:Ube,agNoRowsOverlay:Kbe,agTooltipComponent:Xbe,agMenuItem:_G},e.enterpriseAgDefaultCompsModule={agSetColumnFilter:fe.SetFilterModule,agSetColumnFloatingFilter:fe.SetFilterModule,agMultiColumnFilter:fe.MultiFilterModule,agMultiColumnFloatingFilter:fe.MultiFilterModule,agGroupColumnFilter:fe.RowGroupingModule,agGroupColumnFloatingFilter:fe.RowGroupingModule,agRichSelect:fe.RichSelectModule,agRichSelectCellEditor:fe.RichSelectModule,agDetailCellRenderer:fe.MasterDetailModule,agSparklineCellRenderer:fe.SparklinesModule},e.jsComps={},e}return t.prototype.init=function(){var e=this;this.gridOptions.components!=null&&li(this.gridOptions.components,function(r,i){return e.registerJsComponent(r,i)})},t.prototype.registerDefaultComponent=function(e,r){if(this.agGridDefaults[e]){console.error("Trying to overwrite a default component. You should call registerComponent");return}this.agGridDefaults[e]=r},t.prototype.registerJsComponent=function(e,r){this.jsComps[e]=r},t.prototype.retrieve=function(e,r){var i=this,o=function(d,p){return{componentFromFramework:p,component:d}},a=this.getFrameworkOverrides().frameworkComponent(r,this.gridOptions.components);if(a!=null)return o(a,!0);var s=this.jsComps[r];if(s){var l=this.getFrameworkOverrides().isFrameworkComponent(s);return o(s,l)}var u=this.agGridDefaults[r];if(u)return o(u,!1);var c=this.enterpriseAgDefaultCompsModule[r];return c?ke.__assertRegistered(c,"AG Grid '".concat(e,"' component: ").concat(r),this.context.getGridId()):Eh(function(){i.warnAboutMissingComponent(e,r)},"MissingComp"+r),null},t.prototype.warnAboutMissingComponent=function(e,r){var i=C3(C3([],m3(Object.keys(this.agGridDefaults).filter(function(a){return!["agCellEditor","agGroupRowRenderer","agSortIndicator"].includes(a)})),!1),m3(Object.keys(this.jsComps)),!1),o=Nw(r,i,!0,.8).values;console.warn("AG Grid: Could not find '".concat(r,`' component. It was configured as "`).concat(e,": '").concat(r,`'" but it wasn't found in the list of registered components.`)),o.length>0&&console.warn("         Did you mean: [".concat(o.slice(0,3),"]?")),console.warn("If using a custom component check it has been registered as described in: ".concat(this.getFrameworkOverrides().getDocLink("components/")))},YA([E("gridOptions")],t.prototype,"gridOptions",void 0),YA([z],t.prototype,"init",null),t=YA([ae("userComponentRegistry")],t),t}(q),uOe={propertyName:"dateComponent",cellRenderer:!1},cOe={propertyName:"headerComponent",cellRenderer:!1},dOe={propertyName:"headerGroupComponent",cellRenderer:!1},S3={propertyName:"cellRenderer",cellRenderer:!0},pOe={propertyName:"cellEditor",cellRenderer:!1},w3={propertyName:"innerRenderer",cellRenderer:!0},hOe={propertyName:"loadingOverlayComponent",cellRenderer:!1},fOe={propertyName:"noRowsOverlayComponent",cellRenderer:!1},vOe={propertyName:"tooltipComponent",cellRenderer:!1},ML={propertyName:"filter",cellRenderer:!1},gOe={propertyName:"floatingFilterComponent",cellRenderer:!1},yOe={propertyName:"toolPanel",cellRenderer:!1},mOe={propertyName:"statusPanel",cellRenderer:!1},COe={propertyName:"fullWidthCellRenderer",cellRenderer:!0},SOe={propertyName:"loadingCellRenderer",cellRenderer:!0},wOe={propertyName:"groupRowRenderer",cellRenderer:!0},_Oe={propertyName:"detailCellRenderer",cellRenderer:!0},xOe={propertyName:"menuItem",cellRenderer:!1},cX=function(){function n(){}return n.getFloatingFilterType=function(t){return this.filterToFloatingFilterMapping[t]},n.filterToFloatingFilterMapping={set:"agSetColumnFloatingFilter",agSetColumnFilter:"agSetColumnFloatingFilter",multi:"agMultiColumnFloatingFilter",agMultiColumnFilter:"agMultiColumnFloatingFilter",group:"agGroupColumnFloatingFilter",agGroupColumnFilter:"agGroupColumnFloatingFilter",number:"agNumberColumnFloatingFilter",agNumberColumnFilter:"agNumberColumnFloatingFilter",date:"agDateColumnFloatingFilter",agDateColumnFilter:"agDateColumnFloatingFilter",text:"agTextColumnFloatingFilter",agTextColumnFilter:"agTextColumnFloatingFilter"},n}(),EOe=function(){var n=function(t,e){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])},n(t,e)};return function(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");n(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}}(),Ef=function(n,t,e,r){var i=arguments.length,o=i<3?t:r===null?r=Object.getOwnPropertyDescriptor(t,e):r,a;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(n,t,e,r);else for(var s=n.length-1;s>=0;s--)(a=n[s])&&(o=(i<3?a(o):i>3?a(t,e,o):a(t,e))||o);return i>3&&o&&Object.defineProperty(t,e,o),o},dX=function(n){EOe(t,n);function t(){return n!==null&&n.apply(this,arguments)||this}return t.prototype.getHeaderCompDetails=function(e,r){return this.getCompDetails(e,cOe,"agColumnHeader",r)},t.prototype.getHeaderGroupCompDetails=function(e){var r=e.columnGroup.getColGroupDef();return this.getCompDetails(r,dOe,"agColumnGroupHeader",e)},t.prototype.getFullWidthCellRendererDetails=function(e){return this.getCompDetails(this.gridOptions,COe,null,e,!0)},t.prototype.getFullWidthLoadingCellRendererDetails=function(e){return this.getCompDetails(this.gridOptions,SOe,"agLoadingCellRenderer",e,!0)},t.prototype.getFullWidthGroupCellRendererDetails=function(e){return this.getCompDetails(this.gridOptions,wOe,"agGroupRowRenderer",e,!0)},t.prototype.getFullWidthDetailCellRendererDetails=function(e){return this.getCompDetails(this.gridOptions,_Oe,"agDetailCellRenderer",e,!0)},t.prototype.getInnerRendererDetails=function(e,r){return this.getCompDetails(e,w3,null,r)},t.prototype.getFullWidthGroupRowInnerCellRenderer=function(e,r){return this.getCompDetails(e,w3,null,r)},t.prototype.getCellRendererDetails=function(e,r){return this.getCompDetails(e,S3,null,r)},t.prototype.getCellEditorDetails=function(e,r){return this.getCompDetails(e,pOe,"agCellEditor",r,!0)},t.prototype.getFilterDetails=function(e,r,i){return this.getCompDetails(e,ML,i,r,!0)},t.prototype.getDateCompDetails=function(e){return this.getCompDetails(this.gridOptions,uOe,"agDateInput",e,!0)},t.prototype.getLoadingOverlayCompDetails=function(e){return this.getCompDetails(this.gridOptions,hOe,"agLoadingOverlay",e,!0)},t.prototype.getNoRowsOverlayCompDetails=function(e){return this.getCompDetails(this.gridOptions,fOe,"agNoRowsOverlay",e,!0)},t.prototype.getTooltipCompDetails=function(e){return this.getCompDetails(e.colDef,vOe,"agTooltipComponent",e,!0)},t.prototype.getSetFilterCellRendererDetails=function(e,r){return this.getCompDetails(e,S3,null,r)},t.prototype.getFloatingFilterCompDetails=function(e,r,i){return this.getCompDetails(e,gOe,i,r)},t.prototype.getToolPanelCompDetails=function(e,r){return this.getCompDetails(e,yOe,null,r,!0)},t.prototype.getStatusPanelCompDetails=function(e,r){return this.getCompDetails(e,mOe,null,r,!0)},t.prototype.getMenuItemCompDetails=function(e,r){return this.getCompDetails(e,xOe,"agMenuItem",r,!0)},t.prototype.getCompDetails=function(e,r,i,o,a){var s=this;a===void 0&&(a=!1);var l=r.propertyName,u=r.cellRenderer,c=this.getCompKeys(e,r,o),d=c.compName,p=c.jsComp,h=c.fwComp,f=c.paramsFromSelector,v=c.popupFromSelector,g=c.popupPositionFromSelector,y=function(w){var _=s.userComponentRegistry.retrieve(l,w);_&&(p=_.componentFromFramework?void 0:_.component,h=_.componentFromFramework?_.component:void 0)};if(d!=null&&y(d),p==null&&h==null&&i!=null&&y(i),p&&u&&!this.agComponentUtils.doesImplementIComponent(p)&&(p=this.agComponentUtils.adaptFunction(l,p)),!p&&!h){a&&console.error("AG Grid: Could not find component ".concat(d,", did you forget to configure this component?"));return}var m=this.mergeParamsWithApplicationProvidedParams(e,r,o,f),C=p==null,S=p||h;return{componentFromFramework:C,componentClass:S,params:m,type:r,popupFromSelector:v,popupPositionFromSelector:g,newAgStackInstance:function(){return s.newAgStackInstance(S,C,m,r)}}},t.prototype.getCompKeys=function(e,r,i){var o=this,a=r.propertyName,s,l,u,c,d,p;if(e){var h=e,f=h[a+"Selector"],v=f?f(i):null,g=function(y){if(typeof y=="string")s=y;else if(y!=null&&y!==!0){var m=o.getFrameworkOverrides().isFrameworkComponent(y);m?u=y:l=y}};v?(g(v.component),c=v.params,d=v.popup,p=v.popupPosition):g(h[a])}return{compName:s,jsComp:l,fwComp:u,paramsFromSelector:c,popupFromSelector:d,popupPositionFromSelector:p}},t.prototype.newAgStackInstance=function(e,r,i,o){var a=o.propertyName,s=!r,l;if(s)l=new e;else{var u=this.componentMetadataProvider.retrieve(a);l=this.frameworkComponentWrapper.wrap(e,u.mandatoryMethodList,u.optionalMethodList,o)}var c=this.initComponent(l,i);return c==null?Qe.resolve(l):c.then(function(){return l})},t.prototype.mergeParamsWithApplicationProvidedParams=function(e,r,i,o){o===void 0&&(o=null);var a=this.gridOptionsService.getGridCommonParams();Zo(a,i);var s=e,l=s&&s[r.propertyName+"Params"];if(typeof l=="function"){var u=l(i);Zo(a,u)}else typeof l=="object"&&Zo(a,l);return Zo(a,o),a},t.prototype.initComponent=function(e,r){if(this.context.createBean(e),e.init!=null)return e.init(r)},t.prototype.getDefaultFloatingFilterType=function(e,r){if(e==null)return null;var i=null,o=this.getCompKeys(e,ML),a=o.compName,s=o.jsComp,l=o.fwComp;if(a)i=cX.getFloatingFilterType(a);else{var u=s==null&&l==null&&e.filter===!0;u&&(i=r())}return i},Ef([E("gridOptions")],t.prototype,"gridOptions",void 0),Ef([E("agComponentUtils")],t.prototype,"agComponentUtils",void 0),Ef([E("componentMetadataProvider")],t.prototype,"componentMetadataProvider",void 0),Ef([E("userComponentRegistry")],t.prototype,"userComponentRegistry",void 0),Ef([qe("frameworkComponentWrapper")],t.prototype,"frameworkComponentWrapper",void 0),t=Ef([ae("userComponentFactory")],t),t}(q),pX=function(){function n(){}return n.ColDefPropertyMap={headerName:void 0,columnGroupShow:void 0,headerClass:void 0,toolPanelClass:void 0,headerValueGetter:void 0,pivotKeys:void 0,groupId:void 0,colId:void 0,sort:void 0,initialSort:void 0,field:void 0,type:void 0,cellDataType:void 0,tooltipComponent:void 0,tooltipField:void 0,headerTooltip:void 0,cellClass:void 0,showRowGroup:void 0,filter:void 0,initialAggFunc:void 0,defaultAggFunc:void 0,aggFunc:void 0,pinned:void 0,initialPinned:void 0,chartDataType:void 0,cellAriaRole:void 0,cellEditorPopupPosition:void 0,headerGroupComponent:void 0,headerGroupComponentParams:void 0,cellStyle:void 0,cellRenderer:void 0,cellRendererParams:void 0,cellEditor:void 0,cellEditorParams:void 0,filterParams:void 0,pivotValueColumn:void 0,headerComponent:void 0,headerComponentParams:void 0,floatingFilterComponent:void 0,floatingFilterComponentParams:void 0,tooltipComponentParams:void 0,refData:void 0,columnsMenuParams:void 0,columnChooserParams:void 0,children:void 0,sortingOrder:void 0,allowedAggFuncs:void 0,menuTabs:void 0,pivotTotalColumnIds:void 0,cellClassRules:void 0,icons:void 0,sortIndex:void 0,initialSortIndex:void 0,flex:void 0,initialFlex:void 0,width:void 0,initialWidth:void 0,minWidth:void 0,maxWidth:void 0,rowGroupIndex:void 0,initialRowGroupIndex:void 0,pivotIndex:void 0,initialPivotIndex:void 0,suppressCellFlash:void 0,suppressColumnsToolPanel:void 0,suppressFiltersToolPanel:void 0,openByDefault:void 0,marryChildren:void 0,suppressStickyLabel:void 0,hide:void 0,initialHide:void 0,rowGroup:void 0,initialRowGroup:void 0,pivot:void 0,initialPivot:void 0,checkboxSelection:void 0,showDisabledCheckboxes:void 0,headerCheckboxSelection:void 0,headerCheckboxSelectionFilteredOnly:void 0,headerCheckboxSelectionCurrentPageOnly:void 0,suppressMenu:void 0,suppressHeaderMenuButton:void 0,suppressMovable:void 0,lockPosition:void 0,lockVisible:void 0,lockPinned:void 0,unSortIcon:void 0,suppressSizeToFit:void 0,suppressAutoSize:void 0,enableRowGroup:void 0,enablePivot:void 0,enableValue:void 0,editable:void 0,suppressPaste:void 0,suppressNavigable:void 0,enableCellChangeFlash:void 0,rowDrag:void 0,dndSource:void 0,autoHeight:void 0,wrapText:void 0,sortable:void 0,resizable:void 0,singleClickEdit:void 0,floatingFilter:void 0,cellEditorPopup:void 0,suppressFillHandle:void 0,wrapHeaderText:void 0,autoHeaderHeight:void 0,dndSourceOnRowDrag:void 0,valueGetter:void 0,valueSetter:void 0,filterValueGetter:void 0,keyCreator:void 0,valueFormatter:void 0,valueParser:void 0,comparator:void 0,equals:void 0,pivotComparator:void 0,suppressKeyboardEvent:void 0,suppressHeaderKeyboardEvent:void 0,colSpan:void 0,rowSpan:void 0,getQuickFilterText:void 0,onCellValueChanged:void 0,onCellClicked:void 0,onCellDoubleClicked:void 0,onCellContextMenu:void 0,rowDragText:void 0,tooltipValueGetter:void 0,cellRendererSelector:void 0,cellEditorSelector:void 0,suppressSpanHeaderHeight:void 0,useValueFormatterForExport:void 0,useValueParserForImport:void 0,mainMenuItems:void 0,contextMenuItems:void 0,suppressFloatingFilterButton:void 0,suppressHeaderFilterButton:void 0,suppressHeaderContextMenu:void 0},n.ALL_PROPERTIES=Object.keys(n.ColDefPropertyMap),n}(),Wh;(function(n){n[n.SINGLE_SHEET=0]="SINGLE_SHEET",n[n.MULTI_SHEET=1]="MULTI_SHEET"})(Wh||(Wh={}));var bOe=function(){var n=function(t,e){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])},n(t,e)};return function(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");n(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}}(),XA=function(n,t,e,r){var i=arguments.length,o=i<3?t:r===null?r=Object.getOwnPropertyDescriptor(t,e):r,a;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(n,t,e,r);else for(var s=n.length-1;s>=0;s--)(a=n[s])&&(o=(i<3?a(o):i>3?a(t,e,o):a(t,e))||o);return i>3&&o&&Object.defineProperty(t,e,o),o},hX=function(n){bOe(t,n);function t(){var e=n!==null&&n.apply(this,arguments)||this;return e.dragEndFunctions=[],e.dragSources=[],e}return t.prototype.removeAllListeners=function(){this.dragSources.forEach(this.removeListener.bind(this)),this.dragSources.length=0},t.prototype.removeListener=function(e){var r=e.dragSource.eElement,i=e.mouseDownListener;if(r.removeEventListener("mousedown",i),e.touchEnabled){var o=e.touchStartListener;r.removeEventListener("touchstart",o,{passive:!0})}},t.prototype.removeDragSource=function(e){var r=this.dragSources.find(function(i){return i.dragSource===e});r&&(this.removeListener(r),eo(this.dragSources,r))},t.prototype.isDragging=function(){return this.dragging},t.prototype.addDragSource=function(e){var r=this,i=this.onMouseDown.bind(this,e),o=e.eElement,a=e.includeTouch,s=e.stopPropagationForTouch;o.addEventListener("mousedown",i);var l=null,u=this.gridOptionsService.get("suppressTouch");a&&!u&&(l=function(c){oG(c.target)||(c.cancelable&&(c.preventDefault(),s&&c.stopPropagation()),r.onTouchStart(e,c))},o.addEventListener("touchstart",l,{passive:!1})),this.dragSources.push({dragSource:e,mouseDownListener:i,touchStartListener:l,touchEnabled:!!a})},t.prototype.getStartTarget=function(){return this.startTarget},t.prototype.onTouchStart=function(e,r){var i=this;this.currentDragParams=e,this.dragging=!1;var o=r.touches[0];this.touchLastTime=o,this.touchStart=o;var a=function(d){return i.onTouchMove(d,e.eElement)},s=function(d){return i.onTouchUp(d,e.eElement)},l=function(d){d.cancelable&&d.preventDefault()},u=r.target,c=[{target:this.gridOptionsService.getRootNode(),type:"touchmove",listener:l,options:{passive:!1}},{target:u,type:"touchmove",listener:a,options:{passive:!0}},{target:u,type:"touchend",listener:s,options:{passive:!0}},{target:u,type:"touchcancel",listener:s,options:{passive:!0}}];this.addTemporaryEvents(c),e.dragStartPixels===0&&this.onCommonMove(o,this.touchStart,e.eElement)},t.prototype.onMouseDown=function(e,r){var i=this,o=r;if(!(e.skipMouseEvent&&e.skipMouseEvent(r))&&!o._alreadyProcessedByDragService&&(o._alreadyProcessedByDragService=!0,r.button===0)){this.shouldPreventMouseEvent(r)&&r.preventDefault(),this.currentDragParams=e,this.dragging=!1,this.mouseStartEvent=r,this.startTarget=r.target;var a=function(d){return i.onMouseMove(d,e.eElement)},s=function(d){return i.onMouseUp(d,e.eElement)},l=function(d){return d.preventDefault()},u=this.gridOptionsService.getRootNode(),c=[{target:u,type:"mousemove",listener:a},{target:u,type:"mouseup",listener:s},{target:u,type:"contextmenu",listener:l}];this.addTemporaryEvents(c),e.dragStartPixels===0&&this.onMouseMove(r,e.eElement)}},t.prototype.addTemporaryEvents=function(e){e.forEach(function(r){var i=r.target,o=r.type,a=r.listener,s=r.options;i.addEventListener(o,a,s)}),this.dragEndFunctions.push(function(){e.forEach(function(r){var i=r.target,o=r.type,a=r.listener,s=r.options;i.removeEventListener(o,a,s)})})},t.prototype.isEventNearStartEvent=function(e,r){var i=this.currentDragParams.dragStartPixels,o=ce(i)?i:4;return fG(e,r,o)},t.prototype.getFirstActiveTouch=function(e){for(var r=0;r<e.length;r++)if(e[r].identifier===this.touchStart.identifier)return e[r];return null},t.prototype.onCommonMove=function(e,r,i){if(!this.dragging){if(!this.dragging&&this.isEventNearStartEvent(e,r))return;this.dragging=!0;var o={type:P.EVENT_DRAG_STARTED,target:i};this.eventService.dispatchEvent(o),this.currentDragParams.onDragStart(r),this.currentDragParams.onDragging(r)}this.currentDragParams.onDragging(e)},t.prototype.onTouchMove=function(e,r){var i=this.getFirstActiveTouch(e.touches);i&&this.onCommonMove(i,this.touchStart,r)},t.prototype.onMouseMove=function(e,r){var i;if(Xl()){var o=this.gridOptionsService.getDocument();(i=o.getSelection())===null||i===void 0||i.removeAllRanges()}this.shouldPreventMouseEvent(e)&&e.preventDefault(),this.onCommonMove(e,this.mouseStartEvent,r)},t.prototype.shouldPreventMouseEvent=function(e){var r=this.gridOptionsService.get("enableCellTextSelection"),i=e.type==="mousemove";return r&&i&&e.cancelable&&this.mouseEventService.isEventFromThisGrid(e)&&!this.isOverFormFieldElement(e)},t.prototype.isOverFormFieldElement=function(e){var r=e.target,i=r==null?void 0:r.tagName.toLocaleLowerCase();return!!(i!=null&&i.match("^a$|textarea|input|select|button"))},t.prototype.onTouchUp=function(e,r){var i=this.getFirstActiveTouch(e.changedTouches);i||(i=this.touchLastTime),this.onUpCommon(i,r)},t.prototype.onMouseUp=function(e,r){this.onUpCommon(e,r)},t.prototype.onUpCommon=function(e,r){if(this.dragging){this.dragging=!1,this.currentDragParams.onDragStop(e);var i={type:P.EVENT_DRAG_STOPPED,target:r};this.eventService.dispatchEvent(i)}this.mouseStartEvent=null,this.startTarget=null,this.touchStart=null,this.touchLastTime=null,this.currentDragParams=null,this.dragEndFunctions.forEach(function(o){return o()}),this.dragEndFunctions.length=0},XA([E("mouseEventService")],t.prototype,"mouseEventService",void 0),XA([rr],t.prototype,"removeAllListeners",null),t=XA([ae("dragService")],t),t}(q),Vw=function(){function n(t){this.tickingInterval=null,this.onScrollCallback=null,this.scrollContainer=t.scrollContainer,this.scrollHorizontally=t.scrollAxis.indexOf("x")!==-1,this.scrollVertically=t.scrollAxis.indexOf("y")!==-1,this.scrollByTick=t.scrollByTick!=null?t.scrollByTick:20,t.onScrollCallback&&(this.onScrollCallback=t.onScrollCallback),this.scrollVertically&&(this.getVerticalPosition=t.getVerticalPosition,this.setVerticalPosition=t.setVerticalPosition),this.scrollHorizontally&&(this.getHorizontalPosition=t.getHorizontalPosition,this.setHorizontalPosition=t.setHorizontalPosition),this.shouldSkipVerticalScroll=t.shouldSkipVerticalScroll||function(){return!1},this.shouldSkipHorizontalScroll=t.shouldSkipHorizontalScroll||function(){return!1}}return n.prototype.check=function(t,e){e===void 0&&(e=!1);var r=e||this.shouldSkipVerticalScroll();if(!(r&&this.shouldSkipHorizontalScroll())){var i=this.scrollContainer.getBoundingClientRect(),o=this.scrollByTick;this.tickLeft=t.clientX<i.left+o,this.tickRight=t.clientX>i.right-o,this.tickUp=t.clientY<i.top+o&&!r,this.tickDown=t.clientY>i.bottom-o&&!r,this.tickLeft||this.tickRight||this.tickUp||this.tickDown?this.ensureTickingStarted():this.ensureCleared()}},n.prototype.ensureTickingStarted=function(){this.tickingInterval===null&&(this.tickingInterval=window.setInterval(this.doTick.bind(this),100),this.tickCount=0)},n.prototype.doTick=function(){this.tickCount++;var t;if(t=this.tickCount>20?200:this.tickCount>10?80:40,this.scrollVertically){var e=this.getVerticalPosition();this.tickUp&&this.setVerticalPosition(e-t),this.tickDown&&this.setVerticalPosition(e+t)}if(this.scrollHorizontally){var r=this.getHorizontalPosition();this.tickLeft&&this.setHorizontalPosition(r-t),this.tickRight&&this.setHorizontalPosition(r+t)}this.onScrollCallback&&this.onScrollCallback()},n.prototype.ensureCleared=function(){this.tickingInterval&&(window.clearInterval(this.tickingInterval),this.tickingInterval=null)},n}(),OOe=function(){var n=function(t,e){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])},n(t,e)};return function(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");n(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}}(),_3=function(n,t,e,r){var i=arguments.length,o=i<3?t:r===null?r=Object.getOwnPropertyDescriptor(t,e):r,a;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(n,t,e,r);else for(var s=n.length-1;s>=0;s--)(a=n[s])&&(o=(i<3?a(o):i>3?a(t,e,o):a(t,e))||o);return i>3&&o&&Object.defineProperty(t,e,o),o},qA="ag-list-item-hovered",xG=function(n){OOe(t,n);function t(e,r,i){var o=n.call(this)||this;return o.comp=e,o.virtualList=r,o.params=i,o.currentDragValue=null,o.lastHoveredListItem=null,o}return t.prototype.postConstruct=function(){this.addManagedListener(this.params.eventSource,this.params.listItemDragStartEvent,this.listItemDragStart.bind(this)),this.addManagedListener(this.params.eventSource,this.params.listItemDragEndEvent,this.listItemDragEnd.bind(this)),this.createDropTarget(),this.createAutoScrollService()},t.prototype.listItemDragStart=function(e){this.currentDragValue=this.params.getCurrentDragValue(e),this.moveBlocked=this.params.isMoveBlocked(this.currentDragValue)},t.prototype.listItemDragEnd=function(){var e=this;window.setTimeout(function(){e.currentDragValue=null,e.moveBlocked=!1},10)},t.prototype.createDropTarget=function(){var e=this,r={isInterestedIn:function(i){return i===e.params.dragSourceType},getIconName:function(){return e.moveBlocked?Ct.ICON_PINNED:Ct.ICON_MOVE},getContainer:function(){return e.comp.getGui()},onDragging:function(i){return e.onDragging(i)},onDragStop:function(){return e.onDragStop()},onDragLeave:function(){return e.onDragLeave()}};this.dragAndDropService.addDropTarget(r)},t.prototype.createAutoScrollService=function(){var e=this.virtualList.getGui();this.autoScrollService=new Vw({scrollContainer:e,scrollAxis:"y",getVerticalPosition:function(){return e.scrollTop},setVerticalPosition:function(r){return e.scrollTop=r}})},t.prototype.onDragging=function(e){if(!(!this.currentDragValue||this.moveBlocked)){var r=this.getListDragItem(e),i=this.virtualList.getComponentAt(r.rowIndex);if(i){var o=i.getGui().parentElement;this.lastHoveredListItem&&this.lastHoveredListItem.rowIndex===r.rowIndex&&this.lastHoveredListItem.position===r.position||(this.autoScrollService.check(e.event),this.clearHoveredItems(),this.lastHoveredListItem=r,EL(o,qA),EL(o,"ag-item-highlight-".concat(r.position)))}}},t.prototype.getListDragItem=function(e){var r=this.virtualList.getGui(),i=parseFloat(window.getComputedStyle(r).paddingTop),o=this.virtualList.getRowHeight(),a=this.virtualList.getScrollTop(),s=Math.max(0,(e.y-i+a)/o),l=this.params.getNumRows(this.comp)-1,u=Math.min(l,s)|0;return{rowIndex:u,position:Math.round(s)>s||s>l?"bottom":"top",component:this.virtualList.getComponentAt(u)}},t.prototype.onDragStop=function(){this.moveBlocked||(this.params.moveItem(this.currentDragValue,this.lastHoveredListItem),this.clearHoveredItems(),this.autoScrollService.ensureCleared())},t.prototype.onDragLeave=function(){this.clearHoveredItems(),this.autoScrollService.ensureCleared()},t.prototype.clearHoveredItems=function(){var e=this.virtualList.getGui();e.querySelectorAll(".".concat(qA)).forEach(function(r){[qA,"ag-item-highlight-top","ag-item-highlight-bottom"].forEach(function(i){r.classList.remove(i)})}),this.lastHoveredListItem=null},_3([E("dragAndDropService")],t.prototype,"dragAndDropService",void 0),_3([z],t.prototype,"postConstruct",null),t}(q),Wl;(function(n){n[n.Above=0]="Above",n[n.Below=1]="Below"})(Wl||(Wl={}));var ft=function(n,t,e,r){var i=arguments.length,o=i<3?t:r===null?r=Object.getOwnPropertyDescriptor(t,e):r,a;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(n,t,e,r);else for(var s=n.length-1;s>=0;s--)(a=n[s])&&(o=(i<3?a(o):i>3?a(t,e,o):a(t,e))||o);return i>3&&o&&Object.defineProperty(t,e,o),o};function fh(n){var t=n,e=t!=null&&t.getFrameworkComponentInstance!=null;return e?t.getFrameworkComponentInstance():n}var EG=function(){function n(){this.detailGridInfoMap={},this.destroyCalled=!1}return n.prototype.init=function(){var t=this;switch(this.rowModel.getType()){case"clientSide":this.clientSideRowModel=this.rowModel;break;case"infinite":this.infiniteRowModel=this.rowModel;break;case"serverSide":this.serverSideRowModel=this.rowModel;break}this.ctrlsService.whenReady(function(){t.gridBodyCtrl=t.ctrlsService.getGridBodyCtrl()})},n.prototype.__getAlignedGridService=function(){return this.alignedGridsService},n.prototype.__getContext=function(){return this.context},n.prototype.__getModel=function(){return this.rowModel},n.prototype.getGridId=function(){return this.context.getGridId()},n.prototype.addDetailGridInfo=function(t,e){this.detailGridInfoMap[t]=e},n.prototype.removeDetailGridInfo=function(t){this.detailGridInfoMap[t]=void 0},n.prototype.getDetailGridInfo=function(t){return this.detailGridInfoMap[t]},n.prototype.forEachDetailGridInfo=function(t){var e=0;li(this.detailGridInfoMap,function(r,i){ce(i)&&(t(i,e),e++)})},n.prototype.getDataAsCsv=function(t){if(ke.__assertRegistered(fe.CsvExportModule,"api.getDataAsCsv",this.context.getGridId()))return this.csvCreator.getDataAsCsv(t)},n.prototype.exportDataAsCsv=function(t){ke.__assertRegistered(fe.CsvExportModule,"api.exportDataAsCSv",this.context.getGridId())&&this.csvCreator.exportDataAsCsv(t)},n.prototype.assertNotExcelMultiSheet=function(t,e){return ke.__assertRegistered(fe.ExcelExportModule,"api."+t,this.context.getGridId())?this.excelCreator.getFactoryMode()===Wh.MULTI_SHEET?(console.warn("AG Grid: The Excel Exporter is currently on Multi Sheet mode. End that operation by calling 'api.getMultipleSheetAsExcel()' or 'api.exportMultipleSheetsAsExcel()'"),!1):!0:!1},n.prototype.getDataAsExcel=function(t){if(this.assertNotExcelMultiSheet("getDataAsExcel",t))return this.excelCreator.getDataAsExcel(t)},n.prototype.exportDataAsExcel=function(t){this.assertNotExcelMultiSheet("exportDataAsExcel",t)&&this.excelCreator.exportDataAsExcel(t)},n.prototype.getSheetDataForExcel=function(t){if(ke.__assertRegistered(fe.ExcelExportModule,"api.getSheetDataForExcel",this.context.getGridId()))return this.excelCreator.setFactoryMode(Wh.MULTI_SHEET),this.excelCreator.getSheetDataForExcel(t)},n.prototype.getMultipleSheetsAsExcel=function(t){if(ke.__assertRegistered(fe.ExcelExportModule,"api.getMultipleSheetsAsExcel",this.context.getGridId()))return this.excelCreator.getMultipleSheetsAsExcel(t)},n.prototype.exportMultipleSheetsAsExcel=function(t){ke.__assertRegistered(fe.ExcelExportModule,"api.exportMultipleSheetsAsExcel",this.context.getGridId())&&this.excelCreator.exportMultipleSheetsAsExcel(t)},n.prototype.setGridAriaProperty=function(t,e){if(t){var r=this.ctrlsService.getGridBodyCtrl().getGui(),i="aria-".concat(t);e===null?r.removeAttribute(i):r.setAttribute(i,e)}},n.prototype.logMissingRowModel=function(t){for(var e=[],r=1;r<arguments.length;r++)e[r-1]=arguments[r];console.error("AG Grid: api.".concat(t," can only be called when gridOptions.rowModelType is ").concat(e.join(" or ")))},n.prototype.logDeprecation=function(t,e,r,i){Le("Since ".concat(t," api.").concat(e," is deprecated. Please use ").concat(r," instead. ").concat(i))},n.prototype.getPinnedTopRowCount=function(){return this.pinnedRowModel.getPinnedTopRowCount()},n.prototype.getPinnedBottomRowCount=function(){return this.pinnedRowModel.getPinnedBottomRowCount()},n.prototype.getPinnedTopRow=function(t){return this.pinnedRowModel.getPinnedTopRow(t)},n.prototype.getPinnedBottomRow=function(t){return this.pinnedRowModel.getPinnedBottomRow(t)},n.prototype.expireValueCache=function(){this.valueCache.expire()},n.prototype.getVerticalPixelRange=function(){return this.gridBodyCtrl.getScrollFeature().getVScrollPosition()},n.prototype.getHorizontalPixelRange=function(){return this.gridBodyCtrl.getScrollFeature().getHScrollPosition()},n.prototype.refreshCells=function(t){var e=this;t===void 0&&(t={}),this.frameworkOverrides.wrapIncoming(function(){return e.rowRenderer.refreshCells(t)})},n.prototype.flashCells=function(t){var e=this;t===void 0&&(t={});var r=function(i){return Le("Since v31.1 api.flashCells parameter '".concat(i,"Delay' is deprecated. Please use '").concat(i,"Duration' instead."))};ce(t.fadeDelay)&&r("fade"),ce(t.flashDelay)&&r("flash"),this.frameworkOverrides.wrapIncoming(function(){return e.rowRenderer.flashCells(t)})},n.prototype.redrawRows=function(t){var e=this;t===void 0&&(t={});var r=t?t.rowNodes:void 0;this.frameworkOverrides.wrapIncoming(function(){return e.rowRenderer.redrawRows(r)})},n.prototype.refreshHeader=function(){var t=this;this.frameworkOverrides.wrapIncoming(function(){return t.ctrlsService.getHeaderRowContainerCtrls().forEach(function(e){return e.refresh()})})},n.prototype.isAnyFilterPresent=function(){return this.filterManager.isAnyFilterPresent()},n.prototype.isColumnFilterPresent=function(){return this.filterManager.isColumnFilterPresent()||this.filterManager.isAggregateFilterPresent()},n.prototype.isQuickFilterPresent=function(){return this.filterManager.isQuickFilterPresent()},n.prototype.getModel=function(){return Le("Since v31.1 getModel() is deprecated. Please use the appropriate grid API methods instead."),this.rowModel},n.prototype.setRowNodeExpanded=function(t,e,r){this.expansionService.setRowNodeExpanded(t,e,r)},n.prototype.onGroupExpandedOrCollapsed=function(){if(je(this.clientSideRowModel)){this.logMissingRowModel("onGroupExpandedOrCollapsed","clientSide");return}this.expansionService.onGroupExpandedOrCollapsed()},n.prototype.refreshClientSideRowModel=function(t){if(je(this.clientSideRowModel)){this.logMissingRowModel("refreshClientSideRowModel","clientSide");return}this.clientSideRowModel.refreshModel(t)},n.prototype.isAnimationFrameQueueEmpty=function(){return this.animationFrameService.isQueueEmpty()},n.prototype.flushAllAnimationFrames=function(){this.animationFrameService.flushAllFrames()},n.prototype.getRowNode=function(t){return this.rowModel.getRowNode(t)},n.prototype.getSizesForCurrentTheme=function(){return{rowHeight:this.gos.getRowHeightAsNumber(),headerHeight:this.columnModel.getHeaderHeight()}},n.prototype.expandAll=function(){this.clientSideRowModel||this.serverSideRowModel?this.expansionService.expandAll(!0):this.logMissingRowModel("expandAll","clientSide","serverSide")},n.prototype.collapseAll=function(){this.clientSideRowModel||this.serverSideRowModel?this.expansionService.expandAll(!1):this.logMissingRowModel("collapseAll","clientSide","serverSide")},n.prototype.addRenderedRowListener=function(t,e,r){this.rowRenderer.addRenderedRowListener(t,e,r)},n.prototype.getQuickFilter=function(){return this.gos.get("quickFilterText")},n.prototype.getAdvancedFilterModel=function(){return ke.__assertRegistered(fe.AdvancedFilterModule,"api.getAdvancedFilterModel",this.context.getGridId())?this.filterManager.getAdvancedFilterModel():null},n.prototype.setAdvancedFilterModel=function(t){this.filterManager.setAdvancedFilterModel(t)},n.prototype.showAdvancedFilterBuilder=function(){ke.__assertRegistered(fe.AdvancedFilterModule,"api.setAdvancedFilterModel",this.context.getGridId())&&this.filterManager.showAdvancedFilterBuilder("api")},n.prototype.setNodesSelected=function(t){var e=t.nodes.every(function(s){return s.rowPinned?(console.warn("AG Grid: cannot select pinned rows"),!1):s.id===void 0?(console.warn("AG Grid: cannot select node until id for node is known"),!1):!0});if(e){var r=t.nodes,i=t.source,o=t.newValue,a=r;this.selectionService.setNodesSelected({nodes:a,source:i??"api",newValue:o})}},n.prototype.selectAll=function(t){t===void 0&&(t="apiSelectAll"),this.selectionService.selectAllRowNodes({source:t})},n.prototype.deselectAll=function(t){t===void 0&&(t="apiSelectAll"),this.selectionService.deselectAllRowNodes({source:t})},n.prototype.selectAllFiltered=function(t){t===void 0&&(t="apiSelectAllFiltered"),this.selectionService.selectAllRowNodes({source:t,justFiltered:!0})},n.prototype.deselectAllFiltered=function(t){t===void 0&&(t="apiSelectAllFiltered"),this.selectionService.deselectAllRowNodes({source:t,justFiltered:!0})},n.prototype.getServerSideSelectionState=function(){return je(this.serverSideRowModel)?(this.logMissingRowModel("getServerSideSelectionState","serverSide"),null):this.selectionService.getSelectionState()},n.prototype.setServerSideSelectionState=function(t){if(je(this.serverSideRowModel)){this.logMissingRowModel("setServerSideSelectionState","serverSide");return}this.selectionService.setSelectionState(t,"api")},n.prototype.selectAllOnCurrentPage=function(t){t===void 0&&(t="apiSelectAllCurrentPage"),this.selectionService.selectAllRowNodes({source:t,justCurrentPage:!0})},n.prototype.deselectAllOnCurrentPage=function(t){t===void 0&&(t="apiSelectAllCurrentPage"),this.selectionService.deselectAllRowNodes({source:t,justCurrentPage:!0})},n.prototype.showLoadingOverlay=function(){this.overlayService.showLoadingOverlay()},n.prototype.showNoRowsOverlay=function(){this.overlayService.showNoRowsOverlay()},n.prototype.hideOverlay=function(){this.overlayService.hideOverlay()},n.prototype.getSelectedNodes=function(){return this.selectionService.getSelectedNodes()},n.prototype.getSelectedRows=function(){return this.selectionService.getSelectedRows()},n.prototype.getBestCostNodeSelection=function(){if(je(this.clientSideRowModel)){this.logMissingRowModel("getBestCostNodeSelection","clientSide");return}return this.selectionService.getBestCostNodeSelection()},n.prototype.getRenderedNodes=function(){return this.rowRenderer.getRenderedNodes()},n.prototype.ensureColumnVisible=function(t,e){var r=this;e===void 0&&(e="auto"),this.frameworkOverrides.wrapIncoming(function(){return r.gridBodyCtrl.getScrollFeature().ensureColumnVisible(t,e)},"ensureVisible")},n.prototype.ensureIndexVisible=function(t,e){var r=this;this.frameworkOverrides.wrapIncoming(function(){return r.gridBodyCtrl.getScrollFeature().ensureIndexVisible(t,e)},"ensureVisible")},n.prototype.ensureNodeVisible=function(t,e){var r=this;e===void 0&&(e=null),this.frameworkOverrides.wrapIncoming(function(){return r.gridBodyCtrl.getScrollFeature().ensureNodeVisible(t,e)},"ensureVisible")},n.prototype.forEachLeafNode=function(t){if(je(this.clientSideRowModel)){this.logMissingRowModel("forEachLeafNode","clientSide");return}this.clientSideRowModel.forEachLeafNode(t)},n.prototype.forEachNode=function(t,e){this.rowModel.forEachNode(t,e)},n.prototype.forEachNodeAfterFilter=function(t){if(je(this.clientSideRowModel)){this.logMissingRowModel("forEachNodeAfterFilter","clientSide");return}this.clientSideRowModel.forEachNodeAfterFilter(t)},n.prototype.forEachNodeAfterFilterAndSort=function(t){if(je(this.clientSideRowModel)){this.logMissingRowModel("forEachNodeAfterFilterAndSort","clientSide");return}this.clientSideRowModel.forEachNodeAfterFilterAndSort(t)},n.prototype.getFilterInstance=function(t,e){return Le("'getFilterInstance' is deprecated. To get/set individual filter models, use 'getColumnFilterModel' or 'setColumnFilterModel' instead. To get hold of the filter instance, use 'getColumnFilterInstance' which returns the instance asynchronously."),this.filterManager.getFilterInstance(t,e)},n.prototype.getColumnFilterInstance=function(t){return this.filterManager.getColumnFilterInstance(t)},n.prototype.destroyFilter=function(t){var e=this.columnModel.getPrimaryColumn(t);if(e)return this.filterManager.destroyFilter(e,"api")},n.prototype.getStatusPanel=function(t){if(ke.__assertRegistered(fe.StatusBarModule,"api.getStatusPanel",this.context.getGridId())){var e=this.statusBarService.getStatusPanel(t);return fh(e)}},n.prototype.getColumnDef=function(t){var e=this.columnModel.getPrimaryColumn(t);return e?e.getColDef():null},n.prototype.getColumnDefs=function(){return this.columnModel.getColumnDefs()},n.prototype.onFilterChanged=function(t){t===void 0&&(t="api"),this.filterManager.onFilterChanged({source:t})},n.prototype.onSortChanged=function(){this.sortController.onSortChanged("api")},n.prototype.setFilterModel=function(t){var e=this;this.frameworkOverrides.wrapIncoming(function(){return e.filterManager.setFilterModel(t)})},n.prototype.getFilterModel=function(){return this.filterManager.getFilterModel()},n.prototype.getColumnFilterModel=function(t){return this.filterManager.getColumnFilterModel(t)},n.prototype.setColumnFilterModel=function(t,e){return this.filterManager.setColumnFilterModel(t,e)},n.prototype.getFocusedCell=function(){return this.focusService.getFocusedCell()},n.prototype.clearFocusedCell=function(){return this.focusService.clearFocusedCell()},n.prototype.setFocusedCell=function(t,e,r){this.focusService.setFocusedCell({rowIndex:t,column:e,rowPinned:r,forceBrowserFocus:!0})},n.prototype.addRowDropZone=function(t){this.gridBodyCtrl.getRowDragFeature().addRowDropZone(t)},n.prototype.removeRowDropZone=function(t){var e=this.dragAndDropService.findExternalZone(t);e&&this.dragAndDropService.removeDropTarget(e)},n.prototype.getRowDropZoneParams=function(t){return this.gridBodyCtrl.getRowDragFeature().getRowDropZone(t)},n.prototype.assertSideBarLoaded=function(t){return ke.__assertRegistered(fe.SideBarModule,"api."+t,this.context.getGridId())},n.prototype.isSideBarVisible=function(){return this.assertSideBarLoaded("isSideBarVisible")&&this.sideBarService.getSideBarComp().isDisplayed()},n.prototype.setSideBarVisible=function(t){this.assertSideBarLoaded("setSideBarVisible")&&this.sideBarService.getSideBarComp().setDisplayed(t)},n.prototype.setSideBarPosition=function(t){this.assertSideBarLoaded("setSideBarPosition")&&this.sideBarService.getSideBarComp().setSideBarPosition(t)},n.prototype.openToolPanel=function(t){this.assertSideBarLoaded("openToolPanel")&&this.sideBarService.getSideBarComp().openToolPanel(t,"api")},n.prototype.closeToolPanel=function(){this.assertSideBarLoaded("closeToolPanel")&&this.sideBarService.getSideBarComp().close("api")},n.prototype.getOpenedToolPanel=function(){return this.assertSideBarLoaded("getOpenedToolPanel")?this.sideBarService.getSideBarComp().openedItem():null},n.prototype.refreshToolPanel=function(){this.assertSideBarLoaded("refreshToolPanel")&&this.sideBarService.getSideBarComp().refresh()},n.prototype.isToolPanelShowing=function(){return this.assertSideBarLoaded("isToolPanelShowing")&&this.sideBarService.getSideBarComp().isToolPanelShowing()},n.prototype.getToolPanelInstance=function(t){if(this.assertSideBarLoaded("getToolPanelInstance")){var e=this.sideBarService.getSideBarComp().getToolPanelInstance(t);return fh(e)}},n.prototype.getSideBar=function(){if(this.assertSideBarLoaded("getSideBar"))return this.sideBarService.getSideBarComp().getDef()},n.prototype.resetRowHeights=function(){if(ce(this.clientSideRowModel)){if(this.columnModel.isAutoRowHeightActive()){console.warn("AG Grid: calling gridApi.resetRowHeights() makes no sense when using Auto Row Height.");return}this.clientSideRowModel.resetRowHeights()}},n.prototype.setRowCount=function(t,e){if(this.serverSideRowModel){if(this.columnModel.isRowGroupEmpty()){this.serverSideRowModel.setRowCount(t,e);return}console.error("AG Grid: setRowCount cannot be used while using row grouping.");return}if(this.infiniteRowModel){this.infiniteRowModel.setRowCount(t,e);return}this.logMissingRowModel("setRowCount","infinite","serverSide")},n.prototype.onRowHeightChanged=function(){this.clientSideRowModel?this.clientSideRowModel.onRowHeightChanged():this.serverSideRowModel&&this.serverSideRowModel.onRowHeightChanged()},n.prototype.getValue=function(t,e){var r=this.columnModel.getPrimaryColumn(t);return je(r)&&(r=this.columnModel.getGridColumn(t)),je(r)?null:this.valueService.getValue(r,e)},n.prototype.addEventListener=function(t,e){this.apiEventService.addEventListener(t,e)},n.prototype.addGlobalListener=function(t){this.apiEventService.addGlobalListener(t)},n.prototype.removeEventListener=function(t,e){this.apiEventService.removeEventListener(t,e)},n.prototype.removeGlobalListener=function(t){this.apiEventService.removeGlobalListener(t)},n.prototype.dispatchEvent=function(t){this.eventService.dispatchEvent(t)},n.prototype.destroy=function(){var t="See ".concat(this.frameworkOverrides.getDocLink("grid-lifecycle/#grid-pre-destroyed"));if(!this.destroyCalled){var e={type:P.EVENT_GRID_PRE_DESTROYED,state:this.getState()};this.dispatchEvent(e),this.destroyCalled=!0;var r=this.ctrlsService.getGridCtrl();r&&r.destroyGridUi(),this.context.destroy(),I7(this,["isDestroyed"],t)}},n.prototype.isDestroyed=function(){return this.destroyCalled},n.prototype.resetQuickFilter=function(){this.filterManager.resetQuickFilterCache()},n.prototype.getCellRanges=function(){return this.rangeService?this.rangeService.getCellRanges():(ke.__assertRegistered(fe.RangeSelectionModule,"api.getCellRanges",this.context.getGridId()),null)},n.prototype.addCellRange=function(t){if(this.rangeService){this.rangeService.addCellRange(t);return}ke.__assertRegistered(fe.RangeSelectionModule,"api.addCellRange",this.context.getGridId())},n.prototype.clearRangeSelection=function(){this.rangeService&&this.rangeService.removeAllCellRanges(),ke.__assertRegistered(fe.RangeSelectionModule,"gridApi.clearRangeSelection",this.context.getGridId())},n.prototype.undoCellEditing=function(){this.undoRedoService.undo("api")},n.prototype.redoCellEditing=function(){this.undoRedoService.redo("api")},n.prototype.getCurrentUndoSize=function(){return this.undoRedoService.getCurrentUndoStackSize()},n.prototype.getCurrentRedoSize=function(){return this.undoRedoService.getCurrentRedoStackSize()},n.prototype.assertChart=function(t,e){if(ke.__assertRegistered(fe.GridChartsModule,"api."+t,this.context.getGridId()))return this.frameworkOverrides.wrapIncoming(function(){return e()})},n.prototype.getChartModels=function(){var t=this;return this.assertChart("getChartModels",function(){return t.chartService.getChartModels()})},n.prototype.getChartRef=function(t){var e=this;return this.assertChart("getChartRef",function(){return e.chartService.getChartRef(t)})},n.prototype.getChartImageDataURL=function(t){var e=this;return this.assertChart("getChartImageDataURL",function(){return e.chartService.getChartImageDataURL(t)})},n.prototype.downloadChart=function(t){var e=this;return this.assertChart("downloadChart",function(){return e.chartService.downloadChart(t)})},n.prototype.openChartToolPanel=function(t){var e=this;return this.assertChart("openChartToolPanel",function(){return e.chartService.openChartToolPanel(t)})},n.prototype.closeChartToolPanel=function(t){var e=this;return this.assertChart("closeChartToolPanel",function(){return e.chartService.closeChartToolPanel(t.chartId)})},n.prototype.createRangeChart=function(t){var e=this;return this.assertChart("createRangeChart",function(){return e.chartService.createRangeChart(t)})},n.prototype.createPivotChart=function(t){var e=this;return this.assertChart("createPivotChart",function(){return e.chartService.createPivotChart(t)})},n.prototype.createCrossFilterChart=function(t){var e=this;return this.assertChart("createCrossFilterChart",function(){return e.chartService.createCrossFilterChart(t)})},n.prototype.updateChart=function(t){var e=this;return this.assertChart("updateChart",function(){return e.chartService.updateChart(t)})},n.prototype.restoreChart=function(t,e){var r=this;return this.assertChart("restoreChart",function(){return r.chartService.restoreChart(t,e)})},n.prototype.assertClipboard=function(t,e){ke.__assertRegistered(fe.ClipboardModule,"api"+t,this.context.getGridId())&&e()},n.prototype.copyToClipboard=function(t){var e=this;this.assertClipboard("copyToClipboard",function(){return e.clipboardService.copyToClipboard(t)})},n.prototype.cutToClipboard=function(t){var e=this;this.assertClipboard("cutToClipboard",function(){return e.clipboardService.cutToClipboard(t)})},n.prototype.copySelectedRowsToClipboard=function(t){var e=this;this.assertClipboard("copySelectedRowsToClipboard",function(){return e.clipboardService.copySelectedRowsToClipboard(t)})},n.prototype.copySelectedRangeToClipboard=function(t){var e=this;this.assertClipboard("copySelectedRangeToClipboard",function(){return e.clipboardService.copySelectedRangeToClipboard(t)})},n.prototype.copySelectedRangeDown=function(){var t=this;this.assertClipboard("copySelectedRangeDown",function(){return t.clipboardService.copyRangeDown()})},n.prototype.pasteFromClipboard=function(){var t=this;this.assertClipboard("pasteFromClipboard",function(){return t.clipboardService.pasteFromClipboard()})},n.prototype.showColumnMenuAfterButtonClick=function(t,e){Le("'showColumnMenuAfterButtonClick' is deprecated. Use 'IHeaderParams.showColumnMenu' within a header component, or 'api.showColumnMenu' elsewhere.");var r=this.columnModel.getGridColumn(t);this.menuService.showColumnMenu({column:r,buttonElement:e,positionBy:"button"})},n.prototype.showColumnMenuAfterMouseClick=function(t,e){Le("'showColumnMenuAfterMouseClick' is deprecated. Use 'IHeaderParams.showColumnMenuAfterMouseClick' within a header component, or 'api.showColumnMenu' elsewhere.");var r=this.columnModel.getGridColumn(t);if(r||(r=this.columnModel.getPrimaryColumn(t)),!r){console.error("AG Grid: column '".concat(t,"' not found"));return}this.menuService.showColumnMenu({column:r,mouseEvent:e,positionBy:"mouse"})},n.prototype.showColumnChooser=function(t){this.menuService.showColumnChooser({chooserParams:t})},n.prototype.showColumnFilter=function(t){var e=this.columnModel.getGridColumn(t);if(!e){console.error("AG Grid: column '".concat(t,"' not found"));return}this.menuService.showFilterMenu({column:e,containerType:"columnFilter",positionBy:"auto"})},n.prototype.showColumnMenu=function(t){var e=this.columnModel.getGridColumn(t);if(!e){console.error("AG Grid: column '".concat(t,"' not found"));return}this.menuService.showColumnMenu({column:e,positionBy:"auto"})},n.prototype.hidePopupMenu=function(){this.menuService.hidePopupMenu()},n.prototype.hideColumnChooser=function(){this.menuService.hideColumnChooser()},n.prototype.tabToNextCell=function(t){return this.navigationService.tabToNextCell(!1,t)},n.prototype.tabToPreviousCell=function(t){return this.navigationService.tabToNextCell(!0,t)},n.prototype.getCellRendererInstances=function(t){t===void 0&&(t={});var e=this.rowRenderer.getCellRendererInstances(t),r=e.map(fh);return r},n.prototype.getCellEditorInstances=function(t){t===void 0&&(t={});var e=this.rowRenderer.getCellEditorInstances(t),r=e.map(fh);return r},n.prototype.getEditingCells=function(){return this.rowRenderer.getEditingCells()},n.prototype.stopEditing=function(t){t===void 0&&(t=!1),this.rowRenderer.stopEditing(t)},n.prototype.startEditingCell=function(t){var e=this.columnModel.getGridColumn(t.colKey);if(!e){console.warn("AG Grid: no column found for ".concat(t.colKey));return}var r={rowIndex:t.rowIndex,rowPinned:t.rowPinned||null,column:e},i=t.rowPinned==null;i&&this.ensureIndexVisible(t.rowIndex),this.ensureColumnVisible(t.colKey);var o=this.navigationService.getCellByPosition(r);o&&(this.focusService.isCellFocused(r)||this.focusService.setFocusedCell(r),o.startRowOrCellEdit(t.key))},n.prototype.addAggFunc=function(t,e){this.logDeprecation("v31.1","addAggFunc(key, func)","addAggFuncs({ key: func })"),this.aggFuncService&&this.aggFuncService.addAggFuncs({key:e})},n.prototype.addAggFuncs=function(t){this.aggFuncService&&this.aggFuncService.addAggFuncs(t)},n.prototype.clearAggFuncs=function(){this.aggFuncService&&this.aggFuncService.clear()},n.prototype.applyServerSideTransaction=function(t){if(!this.serverSideTransactionManager){this.logMissingRowModel("applyServerSideTransaction","serverSide");return}return this.serverSideTransactionManager.applyTransaction(t)},n.prototype.applyServerSideTransactionAsync=function(t,e){if(!this.serverSideTransactionManager){this.logMissingRowModel("applyServerSideTransactionAsync","serverSide");return}return this.serverSideTransactionManager.applyTransactionAsync(t,e)},n.prototype.applyServerSideRowData=function(t){var e,r,i=(e=t.startRow)!==null&&e!==void 0?e:0,o=(r=t.route)!==null&&r!==void 0?r:[];if(i<0){console.warn("AG Grid: invalid value ".concat(t.startRow," for startRow, the value should be >= 0"));return}this.serverSideRowModel?this.serverSideRowModel.applyRowData(t.successParams,i,o):this.logMissingRowModel("setServerSideDatasource","serverSide")},n.prototype.retryServerSideLoads=function(){if(!this.serverSideRowModel){this.logMissingRowModel("retryServerSideLoads","serverSide");return}this.serverSideRowModel.retryLoads()},n.prototype.flushServerSideAsyncTransactions=function(){if(!this.serverSideTransactionManager){this.logMissingRowModel("flushServerSideAsyncTransactions","serverSide");return}return this.serverSideTransactionManager.flushAsyncTransactions()},n.prototype.applyTransaction=function(t){var e=this;if(!this.clientSideRowModel){this.logMissingRowModel("applyTransaction","clientSide");return}return this.frameworkOverrides.wrapIncoming(function(){return e.clientSideRowModel.updateRowData(t)})},n.prototype.applyTransactionAsync=function(t,e){var r=this;if(!this.clientSideRowModel){this.logMissingRowModel("applyTransactionAsync","clientSide");return}this.frameworkOverrides.wrapIncoming(function(){return r.clientSideRowModel.batchUpdateRowData(t,e)})},n.prototype.flushAsyncTransactions=function(){var t=this;if(!this.clientSideRowModel){this.logMissingRowModel("flushAsyncTransactions","clientSide");return}this.frameworkOverrides.wrapIncoming(function(){return t.clientSideRowModel.flushAsyncTransactions()})},n.prototype.refreshInfiniteCache=function(){this.infiniteRowModel?this.infiniteRowModel.refreshCache():this.logMissingRowModel("refreshInfiniteCache","infinite")},n.prototype.purgeInfiniteCache=function(){this.infiniteRowModel?this.infiniteRowModel.purgeCache():this.logMissingRowModel("purgeInfiniteCache","infinite")},n.prototype.refreshServerSide=function(t){if(!this.serverSideRowModel){this.logMissingRowModel("refreshServerSide","serverSide");return}this.serverSideRowModel.refreshStore(t)},n.prototype.getServerSideGroupLevelState=function(){return this.serverSideRowModel?this.serverSideRowModel.getStoreState():(this.logMissingRowModel("getServerSideGroupLevelState","serverSide"),[])},n.prototype.getInfiniteRowCount=function(){if(this.infiniteRowModel)return this.infiniteRowModel.getRowCount();this.logMissingRowModel("getInfiniteRowCount","infinite")},n.prototype.isLastRowIndexKnown=function(){if(this.infiniteRowModel)return this.infiniteRowModel.isLastRowIndexKnown();this.logMissingRowModel("isLastRowIndexKnown","infinite")},n.prototype.getCacheBlockState=function(){return this.rowNodeBlockLoader.getBlockState()},n.prototype.getFirstDisplayedRow=function(){return this.logDeprecation("v31.1","getFirstDisplayedRow","getFirstDisplayedRowIndex"),this.getFirstDisplayedRowIndex()},n.prototype.getFirstDisplayedRowIndex=function(){return this.rowRenderer.getFirstVirtualRenderedRow()},n.prototype.getLastDisplayedRow=function(){return this.logDeprecation("v31.1","getLastDisplayedRow","getLastDisplayedRowIndex"),this.getLastDisplayedRowIndex()},n.prototype.getLastDisplayedRowIndex=function(){return this.rowRenderer.getLastVirtualRenderedRow()},n.prototype.getDisplayedRowAtIndex=function(t){return this.rowModel.getRow(t)},n.prototype.getDisplayedRowCount=function(){return this.rowModel.getRowCount()},n.prototype.paginationIsLastPageFound=function(){return this.paginationProxy.isLastPageFound()},n.prototype.paginationGetPageSize=function(){return this.paginationProxy.getPageSize()},n.prototype.paginationGetCurrentPage=function(){return this.paginationProxy.getCurrentPage()},n.prototype.paginationGetTotalPages=function(){return this.paginationProxy.getTotalPages()},n.prototype.paginationGetRowCount=function(){return this.paginationProxy.getMasterRowCount()},n.prototype.paginationGoToNextPage=function(){this.paginationProxy.goToNextPage()},n.prototype.paginationGoToPreviousPage=function(){this.paginationProxy.goToPreviousPage()},n.prototype.paginationGoToFirstPage=function(){this.paginationProxy.goToFirstPage()},n.prototype.paginationGoToLastPage=function(){this.paginationProxy.goToLastPage()},n.prototype.paginationGoToPage=function(t){this.paginationProxy.goToPage(t)},n.prototype.sizeColumnsToFit=function(t){typeof t=="number"?this.columnModel.sizeColumnsToFit(t,"api"):this.gridBodyCtrl.sizeColumnsToFit(t)},n.prototype.setColumnGroupOpened=function(t,e){this.columnModel.setColumnGroupOpened(t,e,"api")},n.prototype.getColumnGroup=function(t,e){return this.columnModel.getColumnGroup(t,e)},n.prototype.getProvidedColumnGroup=function(t){return this.columnModel.getProvidedColumnGroup(t)},n.prototype.getDisplayNameForColumn=function(t,e){return this.columnModel.getDisplayNameForColumn(t,e)||""},n.prototype.getDisplayNameForColumnGroup=function(t,e){return this.columnModel.getDisplayNameForColumnGroup(t,e)||""},n.prototype.getColumn=function(t){return this.columnModel.getPrimaryColumn(t)},n.prototype.getColumns=function(){return this.columnModel.getAllPrimaryColumns()},n.prototype.applyColumnState=function(t){return this.columnModel.applyColumnState(t,"api")},n.prototype.getColumnState=function(){return this.columnModel.getColumnState()},n.prototype.resetColumnState=function(){this.columnModel.resetColumnState("api")},n.prototype.getColumnGroupState=function(){return this.columnModel.getColumnGroupState()},n.prototype.setColumnGroupState=function(t){this.columnModel.setColumnGroupState(t,"api")},n.prototype.resetColumnGroupState=function(){this.columnModel.resetColumnGroupState("api")},n.prototype.isPinning=function(){return this.columnModel.isPinningLeft()||this.columnModel.isPinningRight()},n.prototype.isPinningLeft=function(){return this.columnModel.isPinningLeft()},n.prototype.isPinningRight=function(){return this.columnModel.isPinningRight()},n.prototype.getDisplayedColAfter=function(t){return this.columnModel.getDisplayedColAfter(t)},n.prototype.getDisplayedColBefore=function(t){return this.columnModel.getDisplayedColBefore(t)},n.prototype.setColumnVisible=function(t,e){this.logDeprecation("v31.1","setColumnVisible(key,visible)","setColumnsVisible([key],visible)"),this.columnModel.setColumnsVisible([t],e,"api")},n.prototype.setColumnsVisible=function(t,e){this.columnModel.setColumnsVisible(t,e,"api")},n.prototype.setColumnPinned=function(t,e){this.logDeprecation("v31.1","setColumnPinned(key,pinned)","setColumnsPinned([key],pinned)"),this.columnModel.setColumnsPinned([t],e,"api")},n.prototype.setColumnsPinned=function(t,e){this.columnModel.setColumnsPinned(t,e,"api")},n.prototype.getAllGridColumns=function(){return this.columnModel.getAllGridColumns()},n.prototype.getDisplayedLeftColumns=function(){return this.columnModel.getDisplayedLeftColumns()},n.prototype.getDisplayedCenterColumns=function(){return this.columnModel.getDisplayedCenterColumns()},n.prototype.getDisplayedRightColumns=function(){return this.columnModel.getDisplayedRightColumns()},n.prototype.getAllDisplayedColumns=function(){return this.columnModel.getAllDisplayedColumns()},n.prototype.getAllDisplayedVirtualColumns=function(){return this.columnModel.getViewportColumns()},n.prototype.moveColumn=function(t,e){this.logDeprecation("v31.1","moveColumn(key, toIndex)","moveColumns([key], toIndex)"),this.columnModel.moveColumns([t],e,"api")},n.prototype.moveColumnByIndex=function(t,e){this.columnModel.moveColumnByIndex(t,e,"api")},n.prototype.moveColumns=function(t,e){this.columnModel.moveColumns(t,e,"api")},n.prototype.moveRowGroupColumn=function(t,e){this.columnModel.moveRowGroupColumn(t,e,"api")},n.prototype.setColumnAggFunc=function(t,e){this.columnModel.setColumnAggFunc(t,e,"api")},n.prototype.setColumnWidth=function(t,e,r,i){r===void 0&&(r=!0),i===void 0&&(i="api"),this.logDeprecation("v31.1","setColumnWidth(col, width)","setColumnWidths([{key: col, newWidth: width}])"),this.columnModel.setColumnWidths([{key:t,newWidth:e}],!1,r,i)},n.prototype.setColumnWidths=function(t,e,r){e===void 0&&(e=!0),r===void 0&&(r="api"),this.columnModel.setColumnWidths(t,!1,e,r)},n.prototype.isPivotMode=function(){return this.columnModel.isPivotMode()},n.prototype.getPivotResultColumn=function(t,e){return this.columnModel.getSecondaryPivotColumn(t,e)},n.prototype.setValueColumns=function(t){this.columnModel.setValueColumns(t,"api")},n.prototype.getValueColumns=function(){return this.columnModel.getValueColumns()},n.prototype.removeValueColumn=function(t){this.logDeprecation("v31.1","removeValueColumn(colKey)","removeValueColumns([colKey])"),this.columnModel.removeValueColumns([t],"api")},n.prototype.removeValueColumns=function(t){this.columnModel.removeValueColumns(t,"api")},n.prototype.addValueColumn=function(t){this.logDeprecation("v31.1","addValueColumn(colKey)","addValueColumns([colKey])"),this.columnModel.addValueColumns([t],"api")},n.prototype.addValueColumns=function(t){this.columnModel.addValueColumns(t,"api")},n.prototype.setRowGroupColumns=function(t){this.columnModel.setRowGroupColumns(t,"api")},n.prototype.removeRowGroupColumn=function(t){this.logDeprecation("v31.1","removeRowGroupColumn(colKey)","removeRowGroupColumns([colKey])"),this.columnModel.removeRowGroupColumns([t],"api")},n.prototype.removeRowGroupColumns=function(t){this.columnModel.removeRowGroupColumns(t,"api")},n.prototype.addRowGroupColumn=function(t){this.logDeprecation("v31.1","addRowGroupColumn(colKey)","addRowGroupColumns([colKey])"),this.columnModel.addRowGroupColumns([t],"api")},n.prototype.addRowGroupColumns=function(t){this.columnModel.addRowGroupColumns(t,"api")},n.prototype.getRowGroupColumns=function(){return this.columnModel.getRowGroupColumns()},n.prototype.setPivotColumns=function(t){this.columnModel.setPivotColumns(t,"api")},n.prototype.removePivotColumn=function(t){this.logDeprecation("v31.1","removePivotColumn(colKey)","removePivotColumns([colKey])"),this.columnModel.removePivotColumns([t],"api")},n.prototype.removePivotColumns=function(t){this.columnModel.removePivotColumns(t,"api")},n.prototype.addPivotColumn=function(t){this.logDeprecation("v31.1","addPivotColumn(colKey)","addPivotColumns([colKey])"),this.columnModel.addPivotColumns([t],"api")},n.prototype.addPivotColumns=function(t){this.columnModel.addPivotColumns(t,"api")},n.prototype.getPivotColumns=function(){return this.columnModel.getPivotColumns()},n.prototype.getLeftDisplayedColumnGroups=function(){return this.columnModel.getDisplayedTreeLeft()},n.prototype.getCenterDisplayedColumnGroups=function(){return this.columnModel.getDisplayedTreeCentre()},n.prototype.getRightDisplayedColumnGroups=function(){return this.columnModel.getDisplayedTreeRight()},n.prototype.getAllDisplayedColumnGroups=function(){return this.columnModel.getAllDisplayedTrees()},n.prototype.autoSizeColumn=function(t,e){return this.logDeprecation("v31.1","autoSizeColumn(key, skipHeader)","autoSizeColumns([key], skipHeader)"),this.columnModel.autoSizeColumns({columns:[t],skipHeader:e,source:"api"})},n.prototype.autoSizeColumns=function(t,e){this.columnModel.autoSizeColumns({columns:t,skipHeader:e,source:"api"})},n.prototype.autoSizeAllColumns=function(t){this.columnModel.autoSizeAllColumns("api",t)},n.prototype.setPivotResultColumns=function(t){this.columnModel.setSecondaryColumns(t,"api")},n.prototype.getPivotResultColumns=function(){return this.columnModel.getSecondaryColumns()},n.prototype.getState=function(){return this.stateService.getState()},n.prototype.getGridOption=function(t){return this.gos.get(t)},n.prototype.setGridOption=function(t,e){var r;this.updateGridOptions((r={},r[t]=e,r))},n.prototype.updateGridOptions=function(t){this.gos.updateGridOptions({options:t})},n.prototype.__internalUpdateGridOptions=function(t){this.gos.updateGridOptions({options:t,source:"gridOptionsUpdated"})},n.prototype.deprecatedUpdateGridOption=function(t,e){Le("set".concat(t.charAt(0).toUpperCase()).concat(t.slice(1,t.length)," is deprecated. Please use 'api.setGridOption('").concat(t,"', newValue)' or 'api.updateGridOptions({ ").concat(t,": newValue })' instead.")),this.setGridOption(t,e)},n.prototype.setPivotMode=function(t){this.deprecatedUpdateGridOption("pivotMode",t)},n.prototype.setPinnedTopRowData=function(t){this.deprecatedUpdateGridOption("pinnedTopRowData",t)},n.prototype.setPinnedBottomRowData=function(t){this.deprecatedUpdateGridOption("pinnedBottomRowData",t)},n.prototype.setPopupParent=function(t){this.deprecatedUpdateGridOption("popupParent",t)},n.prototype.setSuppressModelUpdateAfterUpdateTransaction=function(t){this.deprecatedUpdateGridOption("suppressModelUpdateAfterUpdateTransaction",t)},n.prototype.setDataTypeDefinitions=function(t){this.deprecatedUpdateGridOption("dataTypeDefinitions",t)},n.prototype.setPagination=function(t){this.deprecatedUpdateGridOption("pagination",t)},n.prototype.paginationSetPageSize=function(t){this.deprecatedUpdateGridOption("paginationPageSize",t)},n.prototype.setSideBar=function(t){this.deprecatedUpdateGridOption("sideBar",t)},n.prototype.setSuppressClipboardPaste=function(t){this.deprecatedUpdateGridOption("suppressClipboardPaste",t)},n.prototype.setGroupRemoveSingleChildren=function(t){this.deprecatedUpdateGridOption("groupRemoveSingleChildren",t)},n.prototype.setGroupRemoveLowestSingleChildren=function(t){this.deprecatedUpdateGridOption("groupRemoveLowestSingleChildren",t)},n.prototype.setGroupDisplayType=function(t){this.deprecatedUpdateGridOption("groupDisplayType",t)},n.prototype.setGroupIncludeFooter=function(t){this.deprecatedUpdateGridOption("groupIncludeFooter",t)},n.prototype.setGroupIncludeTotalFooter=function(t){this.deprecatedUpdateGridOption("groupIncludeTotalFooter",t)},n.prototype.setRowClass=function(t){this.deprecatedUpdateGridOption("rowClass",t)},n.prototype.setDeltaSort=function(t){this.deprecatedUpdateGridOption("deltaSort",t)},n.prototype.setSuppressRowDrag=function(t){this.deprecatedUpdateGridOption("suppressRowDrag",t)},n.prototype.setSuppressMoveWhenRowDragging=function(t){this.deprecatedUpdateGridOption("suppressMoveWhenRowDragging",t)},n.prototype.setSuppressRowClickSelection=function(t){this.deprecatedUpdateGridOption("suppressRowClickSelection",t)},n.prototype.setEnableAdvancedFilter=function(t){this.deprecatedUpdateGridOption("enableAdvancedFilter",t)},n.prototype.setIncludeHiddenColumnsInAdvancedFilter=function(t){this.deprecatedUpdateGridOption("includeHiddenColumnsInAdvancedFilter",t)},n.prototype.setAdvancedFilterParent=function(t){this.deprecatedUpdateGridOption("advancedFilterParent",t)},n.prototype.setAdvancedFilterBuilderParams=function(t){this.deprecatedUpdateGridOption("advancedFilterBuilderParams",t)},n.prototype.setQuickFilter=function(t){Le("setQuickFilter is deprecated. Please use 'api.setGridOption('quickFilterText', newValue)' or 'api.updateGridOptions({ quickFilterText: newValue })' instead."),this.gos.updateGridOptions({options:{quickFilterText:t}})},n.prototype.setExcludeHiddenColumnsFromQuickFilter=function(t){this.deprecatedUpdateGridOption("includeHiddenColumnsInQuickFilter",!t)},n.prototype.setIncludeHiddenColumnsInQuickFilter=function(t){this.deprecatedUpdateGridOption("includeHiddenColumnsInQuickFilter",t)},n.prototype.setQuickFilterParser=function(t){this.deprecatedUpdateGridOption("quickFilterParser",t)},n.prototype.setQuickFilterMatcher=function(t){this.deprecatedUpdateGridOption("quickFilterMatcher",t)},n.prototype.setAlwaysShowHorizontalScroll=function(t){this.deprecatedUpdateGridOption("alwaysShowHorizontalScroll",t)},n.prototype.setAlwaysShowVerticalScroll=function(t){this.deprecatedUpdateGridOption("alwaysShowVerticalScroll",t)},n.prototype.setFunctionsReadOnly=function(t){this.deprecatedUpdateGridOption("functionsReadOnly",t)},n.prototype.setColumnDefs=function(t,e){e===void 0&&(e="api"),Le("setColumnDefs is deprecated. Please use 'api.setGridOption('columnDefs', newValue)' or 'api.updateGridOptions({ columnDefs: newValue })' instead."),this.gos.updateGridOptions({options:{columnDefs:t},source:e})},n.prototype.setAutoGroupColumnDef=function(t,e){e===void 0&&(e="api"),Le("setAutoGroupColumnDef is deprecated. Please use 'api.setGridOption('autoGroupColumnDef', newValue)' or 'api.updateGridOptions({ autoGroupColumnDef: newValue })' instead."),this.gos.updateGridOptions({options:{autoGroupColumnDef:t},source:e})},n.prototype.setDefaultColDef=function(t,e){e===void 0&&(e="api"),Le("setDefaultColDef is deprecated. Please use 'api.setGridOption('defaultColDef', newValue)' or 'api.updateGridOptions({ defaultColDef: newValue })' instead."),this.gos.updateGridOptions({options:{defaultColDef:t},source:e})},n.prototype.setColumnTypes=function(t,e){e===void 0&&(e="api"),Le("setColumnTypes is deprecated. Please use 'api.setGridOption('columnTypes', newValue)' or 'api.updateGridOptions({ columnTypes: newValue })' instead."),this.gos.updateGridOptions({options:{columnTypes:t},source:e})},n.prototype.setTreeData=function(t){this.deprecatedUpdateGridOption("treeData",t)},n.prototype.setServerSideDatasource=function(t){this.deprecatedUpdateGridOption("serverSideDatasource",t)},n.prototype.setCacheBlockSize=function(t){this.deprecatedUpdateGridOption("cacheBlockSize",t)},n.prototype.setDatasource=function(t){this.deprecatedUpdateGridOption("datasource",t)},n.prototype.setViewportDatasource=function(t){this.deprecatedUpdateGridOption("viewportDatasource",t)},n.prototype.setRowData=function(t){this.deprecatedUpdateGridOption("rowData",t)},n.prototype.setEnableCellTextSelection=function(t){this.deprecatedUpdateGridOption("enableCellTextSelection",t)},n.prototype.setHeaderHeight=function(t){this.deprecatedUpdateGridOption("headerHeight",t)},n.prototype.setDomLayout=function(t){this.deprecatedUpdateGridOption("domLayout",t)},n.prototype.setFillHandleDirection=function(t){this.deprecatedUpdateGridOption("fillHandleDirection",t)},n.prototype.setGroupHeaderHeight=function(t){this.deprecatedUpdateGridOption("groupHeaderHeight",t)},n.prototype.setFloatingFiltersHeight=function(t){this.deprecatedUpdateGridOption("floatingFiltersHeight",t)},n.prototype.setPivotHeaderHeight=function(t){this.deprecatedUpdateGridOption("pivotHeaderHeight",t)},n.prototype.setPivotGroupHeaderHeight=function(t){this.deprecatedUpdateGridOption("pivotGroupHeaderHeight",t)},n.prototype.setAnimateRows=function(t){this.deprecatedUpdateGridOption("animateRows",t)},n.prototype.setIsExternalFilterPresent=function(t){this.deprecatedUpdateGridOption("isExternalFilterPresent",t)},n.prototype.setDoesExternalFilterPass=function(t){this.deprecatedUpdateGridOption("doesExternalFilterPass",t)},n.prototype.setNavigateToNextCell=function(t){this.deprecatedUpdateGridOption("navigateToNextCell",t)},n.prototype.setTabToNextCell=function(t){this.deprecatedUpdateGridOption("tabToNextCell",t)},n.prototype.setTabToNextHeader=function(t){this.deprecatedUpdateGridOption("tabToNextHeader",t)},n.prototype.setNavigateToNextHeader=function(t){this.deprecatedUpdateGridOption("navigateToNextHeader",t)},n.prototype.setRowGroupPanelShow=function(t){this.deprecatedUpdateGridOption("rowGroupPanelShow",t)},n.prototype.setGetGroupRowAgg=function(t){this.deprecatedUpdateGridOption("getGroupRowAgg",t)},n.prototype.setGetBusinessKeyForNode=function(t){this.deprecatedUpdateGridOption("getBusinessKeyForNode",t)},n.prototype.setGetChildCount=function(t){this.deprecatedUpdateGridOption("getChildCount",t)},n.prototype.setProcessRowPostCreate=function(t){this.deprecatedUpdateGridOption("processRowPostCreate",t)},n.prototype.setGetRowId=function(t){Le("getRowId is a static property and can no longer be updated.")},n.prototype.setGetRowClass=function(t){this.deprecatedUpdateGridOption("getRowClass",t)},n.prototype.setIsFullWidthRow=function(t){this.deprecatedUpdateGridOption("isFullWidthRow",t)},n.prototype.setIsRowSelectable=function(t){this.deprecatedUpdateGridOption("isRowSelectable",t)},n.prototype.setIsRowMaster=function(t){this.deprecatedUpdateGridOption("isRowMaster",t)},n.prototype.setPostSortRows=function(t){this.deprecatedUpdateGridOption("postSortRows",t)},n.prototype.setGetDocument=function(t){this.deprecatedUpdateGridOption("getDocument",t)},n.prototype.setGetContextMenuItems=function(t){this.deprecatedUpdateGridOption("getContextMenuItems",t)},n.prototype.setGetMainMenuItems=function(t){this.deprecatedUpdateGridOption("getMainMenuItems",t)},n.prototype.setProcessCellForClipboard=function(t){this.deprecatedUpdateGridOption("processCellForClipboard",t)},n.prototype.setSendToClipboard=function(t){this.deprecatedUpdateGridOption("sendToClipboard",t)},n.prototype.setProcessCellFromClipboard=function(t){this.deprecatedUpdateGridOption("processCellFromClipboard",t)},n.prototype.setProcessPivotResultColDef=function(t){this.deprecatedUpdateGridOption("processPivotResultColDef",t)},n.prototype.setProcessPivotResultColGroupDef=function(t){this.deprecatedUpdateGridOption("processPivotResultColGroupDef",t)},n.prototype.setPostProcessPopup=function(t){this.deprecatedUpdateGridOption("postProcessPopup",t)},n.prototype.setInitialGroupOrderComparator=function(t){this.deprecatedUpdateGridOption("initialGroupOrderComparator",t)},n.prototype.setGetChartToolbarItems=function(t){this.deprecatedUpdateGridOption("getChartToolbarItems",t)},n.prototype.setPaginationNumberFormatter=function(t){this.deprecatedUpdateGridOption("paginationNumberFormatter",t)},n.prototype.setGetServerSideGroupLevelParams=function(t){this.deprecatedUpdateGridOption("getServerSideGroupLevelParams",t)},n.prototype.setIsServerSideGroupOpenByDefault=function(t){this.deprecatedUpdateGridOption("isServerSideGroupOpenByDefault",t)},n.prototype.setIsApplyServerSideTransaction=function(t){this.deprecatedUpdateGridOption("isApplyServerSideTransaction",t)},n.prototype.setIsServerSideGroup=function(t){this.deprecatedUpdateGridOption("isServerSideGroup",t)},n.prototype.setGetServerSideGroupKey=function(t){this.deprecatedUpdateGridOption("getServerSideGroupKey",t)},n.prototype.setGetRowStyle=function(t){this.deprecatedUpdateGridOption("getRowStyle",t)},n.prototype.setGetRowHeight=function(t){this.deprecatedUpdateGridOption("getRowHeight",t)},ft([qe("csvCreator")],n.prototype,"csvCreator",void 0),ft([qe("excelCreator")],n.prototype,"excelCreator",void 0),ft([E("rowRenderer")],n.prototype,"rowRenderer",void 0),ft([E("navigationService")],n.prototype,"navigationService",void 0),ft([E("filterManager")],n.prototype,"filterManager",void 0),ft([E("columnModel")],n.prototype,"columnModel",void 0),ft([E("selectionService")],n.prototype,"selectionService",void 0),ft([E("gridOptionsService")],n.prototype,"gos",void 0),ft([E("valueService")],n.prototype,"valueService",void 0),ft([E("alignedGridsService")],n.prototype,"alignedGridsService",void 0),ft([E("eventService")],n.prototype,"eventService",void 0),ft([E("pinnedRowModel")],n.prototype,"pinnedRowModel",void 0),ft([E("context")],n.prototype,"context",void 0),ft([E("rowModel")],n.prototype,"rowModel",void 0),ft([E("sortController")],n.prototype,"sortController",void 0),ft([E("paginationProxy")],n.prototype,"paginationProxy",void 0),ft([E("focusService")],n.prototype,"focusService",void 0),ft([E("dragAndDropService")],n.prototype,"dragAndDropService",void 0),ft([qe("rangeService")],n.prototype,"rangeService",void 0),ft([qe("clipboardService")],n.prototype,"clipboardService",void 0),ft([qe("aggFuncService")],n.prototype,"aggFuncService",void 0),ft([E("menuService")],n.prototype,"menuService",void 0),ft([E("valueCache")],n.prototype,"valueCache",void 0),ft([E("animationFrameService")],n.prototype,"animationFrameService",void 0),ft([qe("statusBarService")],n.prototype,"statusBarService",void 0),ft([qe("chartService")],n.prototype,"chartService",void 0),ft([qe("undoRedoService")],n.prototype,"undoRedoService",void 0),ft([qe("rowNodeBlockLoader")],n.prototype,"rowNodeBlockLoader",void 0),ft([qe("ssrmTransactionManager")],n.prototype,"serverSideTransactionManager",void 0),ft([E("ctrlsService")],n.prototype,"ctrlsService",void 0),ft([E("overlayService")],n.prototype,"overlayService",void 0),ft([qe("sideBarService")],n.prototype,"sideBarService",void 0),ft([E("stateService")],n.prototype,"stateService",void 0),ft([E("expansionService")],n.prototype,"expansionService",void 0),ft([E("apiEventService")],n.prototype,"apiEventService",void 0),ft([E("frameworkOverrides")],n.prototype,"frameworkOverrides",void 0),ft([z],n.prototype,"init",null),n=ft([ae("gridApi")],n),n}(),ROe=function(){var n=function(t,e){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])},n(t,e)};return function(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");n(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}}(),Iy=function(n,t,e,r){var i=arguments.length,o=i<3?t:r===null?r=Object.getOwnPropertyDescriptor(t,e):r,a;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(n,t,e,r);else for(var s=n.length-1;s>=0;s--)(a=n[s])&&(o=(i<3?a(o):i>3?a(t,e,o):a(t,e))||o);return i>3&&o&&Object.defineProperty(t,e,o),o},fX=function(n){ROe(t,n);function t(){var r=n!==null&&n.apply(this,arguments)||this;return r.quickFilter=null,r.quickFilterParts=null,r}e=t,t.prototype.postConstruct=function(){var r=this;this.addManagedListener(this.eventService,P.EVENT_COLUMN_PIVOT_MODE_CHANGED,function(){return r.resetQuickFilterCache()}),this.addManagedListener(this.eventService,P.EVENT_NEW_COLUMNS_LOADED,function(){return r.resetQuickFilterCache()}),this.addManagedListener(this.eventService,P.EVENT_COLUMN_ROW_GROUP_CHANGED,function(){return r.resetQuickFilterCache()}),this.addManagedListener(this.eventService,P.EVENT_COLUMN_VISIBLE,function(){r.gridOptionsService.get("includeHiddenColumnsInQuickFilter")||r.resetQuickFilterCache()}),this.addManagedPropertyListener("quickFilterText",function(i){return r.setQuickFilter(i.currentValue)}),this.addManagedPropertyListener("includeHiddenColumnsInQuickFilter",function(){return r.onIncludeHiddenColumnsInQuickFilterChanged()}),this.quickFilter=this.parseQuickFilter(this.gridOptionsService.get("quickFilterText")),this.parser=this.gridOptionsService.get("quickFilterParser"),this.matcher=this.gridOptionsService.get("quickFilterMatcher"),this.setQuickFilterParts(),this.addManagedPropertyListeners(["quickFilterMatcher","quickFilterParser"],function(){return r.setQuickFilterParserAndMatcher()})},t.prototype.isQuickFilterPresent=function(){return this.quickFilter!==null},t.prototype.doesRowPassQuickFilter=function(r){var i=this,o=this.gridOptionsService.get("cacheQuickFilter");return this.matcher?this.doesRowPassQuickFilterMatcher(o,r):this.quickFilterParts.every(function(a){return o?i.doesRowPassQuickFilterCache(r,a):i.doesRowPassQuickFilterNoCache(r,a)})},t.prototype.resetQuickFilterCache=function(){this.rowModel.forEachNode(function(r){return r.quickFilterAggregateText=null})},t.prototype.setQuickFilterParts=function(){var r=this,i=r.quickFilter,o=r.parser;i?this.quickFilterParts=o?o(i):i.split(" "):this.quickFilterParts=null},t.prototype.parseQuickFilter=function(r){return ce(r)?this.gridOptionsService.isRowModelType("clientSide")?r.toUpperCase():(console.warn("AG Grid - Quick filtering only works with the Client-Side Row Model"),null):null},t.prototype.setQuickFilter=function(r){if(r!=null&&typeof r!="string"){console.warn("AG Grid - Grid option quickFilterText only supports string inputs, received: ".concat(typeof r));return}var i=this.parseQuickFilter(r);this.quickFilter!==i&&(this.quickFilter=i,this.setQuickFilterParts(),this.dispatchEvent({type:e.EVENT_QUICK_FILTER_CHANGED}))},t.prototype.setQuickFilterParserAndMatcher=function(){var r=this.gridOptionsService.get("quickFilterParser"),i=this.gridOptionsService.get("quickFilterMatcher"),o=r!==this.parser||i!==this.matcher;this.parser=r,this.matcher=i,o&&(this.setQuickFilterParts(),this.dispatchEvent({type:e.EVENT_QUICK_FILTER_CHANGED}))},t.prototype.onIncludeHiddenColumnsInQuickFilterChanged=function(){this.columnModel.refreshQuickFilterColumns(),this.resetQuickFilterCache(),this.isQuickFilterPresent()&&this.dispatchEvent({type:e.EVENT_QUICK_FILTER_CHANGED})},t.prototype.doesRowPassQuickFilterNoCache=function(r,i){var o=this,a=this.columnModel.getAllColumnsForQuickFilter();return a.some(function(s){var l=o.getQuickFilterTextForColumn(s,r);return ce(l)&&l.indexOf(i)>=0})},t.prototype.doesRowPassQuickFilterCache=function(r,i){return this.checkGenerateQuickFilterAggregateText(r),r.quickFilterAggregateText.indexOf(i)>=0},t.prototype.doesRowPassQuickFilterMatcher=function(r,i){var o;r?(this.checkGenerateQuickFilterAggregateText(i),o=i.quickFilterAggregateText):o=this.getQuickFilterAggregateText(i);var a=this,s=a.quickFilterParts,l=a.matcher;return l(s,o)},t.prototype.checkGenerateQuickFilterAggregateText=function(r){r.quickFilterAggregateText||(r.quickFilterAggregateText=this.getQuickFilterAggregateText(r))},t.prototype.getQuickFilterTextForColumn=function(r,i){var o=this.valueService.getValue(r,i,!0),a=r.getColDef();if(a.getQuickFilterText){var s=this.gridOptionsService.addGridCommonParams({value:o,node:i,data:i.data,column:r,colDef:a});o=a.getQuickFilterText(s)}return ce(o)?o.toString().toUpperCase():null},t.prototype.getQuickFilterAggregateText=function(r){var i=this,o=[],a=this.columnModel.getAllColumnsForQuickFilter();return a.forEach(function(s){var l=i.getQuickFilterTextForColumn(s,r);ce(l)&&o.push(l)}),o.join(e.QUICK_FILTER_SEPARATOR)};var e;return t.EVENT_QUICK_FILTER_CHANGED="quickFilterChanged",t.QUICK_FILTER_SEPARATOR=`
`,Iy([E("valueService")],t.prototype,"valueService",void 0),Iy([E("columnModel")],t.prototype,"columnModel",void 0),Iy([E("rowModel")],t.prototype,"rowModel",void 0),Iy([z],t.prototype,"postConstruct",null),t=e=Iy([ae("quickFilterService")],t),t}(q),TOe=function(){var n=function(t,e){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])},n(t,e)};return function(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");n(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}}(),yl=function(){return yl=Object.assign||function(n){for(var t,e=1,r=arguments.length;e<r;e++){t=arguments[e];for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(n[i]=t[i])}return n},yl.apply(this,arguments)},el=function(n,t,e,r){var i=arguments.length,o=i<3?t:r===null?r=Object.getOwnPropertyDescriptor(t,e):r,a;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(n,t,e,r);else for(var s=n.length-1;s>=0;s--)(a=n[s])&&(o=(i<3?a(o):i>3?a(t,e,o):a(t,e))||o);return i>3&&o&&Object.defineProperty(t,e,o),o},vX=function(n){TOe(t,n);function t(){var e=n!==null&&n.apply(this,arguments)||this;return e.allColumnFilters=new Map,e.allColumnListeners=new Map,e.activeAggregateFilters=[],e.activeColumnFilters=[],e.processingFilterChange=!1,e.filterModelUpdateQueue=[],e.columnFilterModelUpdateQueue=[],e.advancedFilterModelUpdateQueue=[],e}return t.prototype.init=function(){var e=this,r,i,o;this.addManagedListener(this.eventService,P.EVENT_GRID_COLUMNS_CHANGED,function(){return e.onColumnsChanged()}),this.addManagedListener(this.eventService,P.EVENT_COLUMN_VALUE_CHANGED,function(){return e.refreshFiltersForAggregations()}),this.addManagedListener(this.eventService,P.EVENT_COLUMN_PIVOT_CHANGED,function(){return e.refreshFiltersForAggregations()}),this.addManagedListener(this.eventService,P.EVENT_COLUMN_PIVOT_MODE_CHANGED,function(){return e.refreshFiltersForAggregations()}),this.addManagedListener(this.eventService,P.EVENT_NEW_COLUMNS_LOADED,function(){return e.updateAdvancedFilterColumns()}),this.addManagedListener(this.eventService,P.EVENT_COLUMN_VISIBLE,function(){return e.updateAdvancedFilterColumns()}),this.addManagedListener(this.eventService,P.EVENT_ROW_DATA_UPDATED,function(){return e.onNewRowsLoaded("rowDataUpdated")}),this.externalFilterPresent=this.isExternalFilterPresentCallback(),this.addManagedPropertyListeners(["isExternalFilterPresent","doesExternalFilterPass"],function(){e.onFilterChanged({source:"api"})}),this.updateAggFiltering(),this.addManagedPropertyListener("groupAggFiltering",function(){e.updateAggFiltering(),e.onFilterChanged()}),this.addManagedPropertyListener("advancedFilterModel",function(a){return e.setAdvancedFilterModel(a.currentValue)}),this.addManagedListener(this.eventService,P.EVENT_ADVANCED_FILTER_ENABLED_CHANGED,function(a){var s=a.enabled;return e.onAdvancedFilterEnabledChanged(s)}),this.addManagedListener(this.eventService,P.EVENT_DATA_TYPES_INFERRED,function(){return e.processFilterModelUpdateQueue()}),this.addManagedListener(this.quickFilterService,fX.EVENT_QUICK_FILTER_CHANGED,function(){return e.onFilterChanged({source:"quickFilter"})}),this.initialFilterModel=yl({},(o=(i=(r=this.gridOptionsService.get("initialState"))===null||r===void 0?void 0:r.filter)===null||i===void 0?void 0:i.filterModel)!==null&&o!==void 0?o:{})},t.prototype.isExternalFilterPresentCallback=function(){var e=this.gridOptionsService.getCallback("isExternalFilterPresent");return typeof e=="function"?e({}):!1},t.prototype.doesExternalFilterPass=function(e){var r=this.gridOptionsService.get("doesExternalFilterPass");return typeof r=="function"?r(e):!1},t.prototype.setFilterModel=function(e,r){var i=this;if(r===void 0&&(r="api"),this.isAdvancedFilterEnabled()){this.warnAdvancedFilters();return}if(this.dataTypeService.isPendingInference()){this.filterModelUpdateQueue.push({model:e,source:r});return}var o=[],a=this.getFilterModel();if(e){var s=vG(Object.keys(e));this.allColumnFilters.forEach(function(l,u){var c=e[u];o.push(i.setModelOnFilterWrapper(l.filterPromise,c)),s.delete(u)}),s.forEach(function(l){var u=i.columnModel.getPrimaryColumn(l)||i.columnModel.getGridColumn(l);if(!u){console.warn("AG Grid: setFilterModel() - no column found for colId: "+l);return}if(!u.isFilterAllowed()){console.warn("AG Grid: setFilterModel() - unable to fully apply model, filtering disabled for colId: "+l);return}var c=i.getOrCreateFilterWrapper(u,"NO_UI");if(!c){console.warn("AG-Grid: setFilterModel() - unable to fully apply model, unable to create filter for colId: "+l);return}o.push(i.setModelOnFilterWrapper(c.filterPromise,e[l]))})}else this.allColumnFilters.forEach(function(l){o.push(i.setModelOnFilterWrapper(l.filterPromise,null))});Qe.all(o).then(function(){var l=i.getFilterModel(),u=[];i.allColumnFilters.forEach(function(c,d){var p=a?a[d]:null,h=l?l[d]:null;D.jsonEquals(p,h)||u.push(c.column)}),u.length>0&&i.onFilterChanged({columns:u,source:r})})},t.prototype.setModelOnFilterWrapper=function(e,r){return new Qe(function(i){e.then(function(o){typeof o.setModel!="function"&&(console.warn("AG Grid: filter missing setModel method, which is needed for setFilterModel"),i()),(o.setModel(r)||Qe.resolve()).then(function(){return i()})})})},t.prototype.getFilterModel=function(){var e=this,r={};return this.allColumnFilters.forEach(function(i,o){var a=e.getModelFromFilterWrapper(i);ce(a)&&(r[o]=a)}),r},t.prototype.getModelFromFilterWrapper=function(e){var r,i=e.filterPromise,o=i.resolveNow(null,function(a){return a});return o==null?(r=this.initialFilterModel[e.column.getColId()])!==null&&r!==void 0?r:null:typeof o.getModel!="function"?(console.warn("AG Grid: filter API missing getModel method, which is needed for getFilterModel"),null):o.getModel()},t.prototype.isColumnFilterPresent=function(){return this.activeColumnFilters.length>0},t.prototype.isAggregateFilterPresent=function(){return!!this.activeAggregateFilters.length},t.prototype.isExternalFilterPresent=function(){return this.externalFilterPresent},t.prototype.isChildFilterPresent=function(){return this.isColumnFilterPresent()||this.isQuickFilterPresent()||this.isExternalFilterPresent()||this.isAdvancedFilterPresent()},t.prototype.isAdvancedFilterPresent=function(){return this.isAdvancedFilterEnabled()&&this.advancedFilterService.isFilterPresent()},t.prototype.onAdvancedFilterEnabledChanged=function(e){var r=this,i;e?this.allColumnFilters.size&&(this.allColumnFilters.forEach(function(o){return r.disposeFilterWrapper(o,"advancedFilterEnabled")}),this.onFilterChanged({source:"advancedFilter"})):!((i=this.advancedFilterService)===null||i===void 0)&&i.isFilterPresent()&&(this.advancedFilterService.setModel(null),this.onFilterChanged({source:"advancedFilter"}))},t.prototype.isAdvancedFilterEnabled=function(){var e;return(e=this.advancedFilterService)===null||e===void 0?void 0:e.isEnabled()},t.prototype.isAdvancedFilterHeaderActive=function(){return this.isAdvancedFilterEnabled()&&this.advancedFilterService.isHeaderActive()},t.prototype.doAggregateFiltersPass=function(e,r){return this.doColumnFiltersPass(e,r,!0)},t.prototype.updateActiveFilters=function(){var e=this;this.activeColumnFilters.length=0,this.activeAggregateFilters.length=0;var r=function(a){return a?a.isFilterActive?a.isFilterActive():(console.warn("AG Grid: Filter is missing isFilterActive() method"),!1):!1},i=!!this.gridOptionsService.getGroupAggFiltering(),o=function(a){var s=!a.isPrimary();if(s)return!0;var l=!e.columnModel.isPivotActive(),u=a.isValueActive();return!u||!l?!1:e.columnModel.isPivotMode()?!0:i};this.allColumnFilters.forEach(function(a){if(a.filterPromise.resolveNow(!1,r)){var s=a.filterPromise.resolveNow(null,function(l){return l});o(a.column)?e.activeAggregateFilters.push(s):e.activeColumnFilters.push(s)}})},t.prototype.updateFilterFlagInColumns=function(e,r){this.allColumnFilters.forEach(function(i){var o=i.filterPromise.resolveNow(!1,function(a){return a.isFilterActive()});i.column.setFilterActive(o,e,r)})},t.prototype.isAnyFilterPresent=function(){return this.isQuickFilterPresent()||this.isColumnFilterPresent()||this.isAggregateFilterPresent()||this.isExternalFilterPresent()||this.isAdvancedFilterPresent()},t.prototype.doColumnFiltersPass=function(e,r,i){for(var o=e.data,a=e.aggData,s=i?this.activeAggregateFilters:this.activeColumnFilters,l=i?a:o,u=0;u<s.length;u++){var c=s[u];if(!(c==null||c===r)){if(typeof c.doesFilterPass!="function")throw new Error("Filter is missing method doesFilterPass");if(!c.doesFilterPass({node:e,data:l}))return!1}}return!0},t.prototype.resetQuickFilterCache=function(){this.quickFilterService.resetQuickFilterCache()},t.prototype.refreshFiltersForAggregations=function(){var e=this.gridOptionsService.getGroupAggFiltering();e&&this.onFilterChanged()},t.prototype.callOnFilterChangedOutsideRenderCycle=function(e){var r=this,i=function(){return r.onFilterChanged(e)};this.rowRenderer.isRefreshInProgress()?setTimeout(i,0):i()},t.prototype.onFilterChanged=function(e){e===void 0&&(e={});var r=e.source,i=e.filterInstance,o=e.additionalEventAttributes,a=e.columns;this.updateDependantFilters(),this.updateActiveFilters(),this.updateFilterFlagInColumns("filterChanged",o),this.externalFilterPresent=this.isExternalFilterPresentCallback(),this.allColumnFilters.forEach(function(l){l.filterPromise&&l.filterPromise.then(function(u){u&&u!==i&&u.onAnyFilterChanged&&u.onAnyFilterChanged()})});var s={source:r,type:P.EVENT_FILTER_CHANGED,columns:a||[]};o&&Zo(s,o),this.processingFilterChange=!0,this.eventService.dispatchEvent(s),this.processingFilterChange=!1},t.prototype.isSuppressFlashingCellsBecauseFiltering=function(){var e,r=(e=this.gridOptionsService.get("allowShowChangeAfterFilter"))!==null&&e!==void 0?e:!1;return!r&&this.processingFilterChange},t.prototype.isQuickFilterPresent=function(){return this.quickFilterService.isQuickFilterPresent()},t.prototype.updateAggFiltering=function(){this.aggFiltering=!!this.gridOptionsService.getGroupAggFiltering()},t.prototype.isAggregateQuickFilterPresent=function(){return this.isQuickFilterPresent()&&(this.aggFiltering||this.columnModel.isPivotMode())},t.prototype.isNonAggregateQuickFilterPresent=function(){return this.isQuickFilterPresent()&&!(this.aggFiltering||this.columnModel.isPivotMode())},t.prototype.doesRowPassOtherFilters=function(e,r){return this.doesRowPassFilter({rowNode:r,filterInstanceToSkip:e})},t.prototype.doesRowPassAggregateFilters=function(e){return!(this.isAggregateQuickFilterPresent()&&!this.quickFilterService.doesRowPassQuickFilter(e.rowNode)||this.isAggregateFilterPresent()&&!this.doAggregateFiltersPass(e.rowNode,e.filterInstanceToSkip))},t.prototype.doesRowPassFilter=function(e){return!(this.isNonAggregateQuickFilterPresent()&&!this.quickFilterService.doesRowPassQuickFilter(e.rowNode)||this.isExternalFilterPresent()&&!this.doesExternalFilterPass(e.rowNode)||this.isColumnFilterPresent()&&!this.doColumnFiltersPass(e.rowNode,e.filterInstanceToSkip)||this.isAdvancedFilterPresent()&&!this.advancedFilterService.doesFilterPass(e.rowNode))},t.prototype.onNewRowsLoaded=function(e){this.allColumnFilters.forEach(function(r){r.filterPromise.then(function(i){i.onNewRowsLoaded&&i.onNewRowsLoaded()})}),this.updateFilterFlagInColumns(e,{afterDataChange:!0}),this.updateActiveFilters()},t.prototype.createValueGetter=function(e){var r=this;return function(i){var o=i.node;return r.valueService.getValue(e,o,!0)}},t.prototype.createGetValue=function(e){var r=this;return function(i,o){var a=o?r.columnModel.getGridColumn(o):e;return a?r.valueService.getValue(a,i,!0):void 0}},t.prototype.getFilterComponent=function(e,r,i){var o;if(i===void 0&&(i=!0),i)return((o=this.getOrCreateFilterWrapper(e,r))===null||o===void 0?void 0:o.filterPromise)||null;var a=this.cachedFilter(e);return a?a.filterPromise:null},t.prototype.isFilterActive=function(e){var r=this.cachedFilter(e);return!!r&&r.filterPromise.resolveNow(!1,function(i){return i.isFilterActive()})},t.prototype.getOrCreateFilterWrapper=function(e,r){if(!e.isFilterAllowed())return null;var i=this.cachedFilter(e);return i?r!=="NO_UI"&&this.putIntoGui(i,r):(i=this.createFilterWrapper(e,r),this.setColumnFilterWrapper(e,i)),i},t.prototype.cachedFilter=function(e){return this.allColumnFilters.get(e.getColId())},t.prototype.getDefaultFilter=function(e){var r;if(ke.__isRegistered(fe.SetFilterModule,this.context.getGridId()))r="agSetColumnFilter";else{var i=this.dataTypeService.getBaseDataType(e);i==="number"?r="agNumberColumnFilter":i==="date"||i==="dateString"?r="agDateColumnFilter":r="agTextColumnFilter"}return r},t.prototype.getDefaultFloatingFilter=function(e){var r;if(ke.__isRegistered(fe.SetFilterModule,this.context.getGridId()))r="agSetColumnFloatingFilter";else{var i=this.dataTypeService.getBaseDataType(e);i==="number"?r="agNumberColumnFloatingFilter":i==="date"||i==="dateString"?r="agDateColumnFloatingFilter":r="agTextColumnFloatingFilter"}return r},t.prototype.createFilterInstance=function(e){var r=this,i=this.getDefaultFilter(e),o=e.getColDef(),a,s=yl(yl({},this.createFilterParams(e,o)),{filterModifiedCallback:function(){return r.filterModifiedCallbackFactory(a,e)()},filterChangedCallback:function(u){return r.filterChangedCallbackFactory(a,e)(u)},doesRowPassOtherFilter:function(u){return r.doesRowPassOtherFilters(a,u)}}),l=this.userComponentFactory.getFilterDetails(o,s,i);return l?{filterPromise:function(){var u=l.newAgStackInstance();return u&&u.then(function(c){return a=c}),u},compDetails:l}:{filterPromise:null,compDetails:null}},t.prototype.createFilterParams=function(e,r){var i=this.gridOptionsService.addGridCommonParams({column:e,colDef:Ik(r),rowModel:this.rowModel,filterChangedCallback:function(){},filterModifiedCallback:function(){},valueGetter:this.createValueGetter(e),getValue:this.createGetValue(e),doesRowPassOtherFilter:function(){return!0}});return i},t.prototype.createFilterWrapper=function(e,r){var i,o={column:e,filterPromise:null,compiledElement:null,guiPromise:Qe.resolve(null),compDetails:null},a=this.createFilterInstance(e),s=a.filterPromise,l=a.compDetails;return o.filterPromise=(i=s==null?void 0:s())!==null&&i!==void 0?i:null,o.compDetails=l,s&&this.putIntoGui(o,r),o},t.prototype.putIntoGui=function(e,r){var i=this,o=document.createElement("div");o.className="ag-filter",e.guiPromise=new Qe(function(a){e.filterPromise.then(function(s){var l=s.getGui();ce(l)||console.warn("AG Grid: getGui method from filter returned ".concat(l,", it should be a DOM element or an HTML template string.")),typeof l=="string"&&(l=ao(l)),o.appendChild(l),a(o);var u={type:P.EVENT_FILTER_OPENED,column:e.column,source:r,eGui:o};i.eventService.dispatchEvent(u)})})},t.prototype.onColumnsChanged=function(){var e=this,r=[];this.allColumnFilters.forEach(function(i,o){var a;i.column.isPrimary()?a=e.columnModel.getPrimaryColumn(o):a=e.columnModel.getGridColumn(o),!a&&(r.push(i.column),e.disposeFilterWrapper(i,"columnChanged"),e.disposeColumnListener(o))}),r.length>0?this.onFilterChanged({columns:r,source:"api"}):this.updateDependantFilters()},t.prototype.updateDependantFilters=function(){var e=this,r=this.columnModel.getGroupAutoColumns();r==null||r.forEach(function(i){i.getColDef().filter==="agGroupColumnFilter"&&e.getOrCreateFilterWrapper(i,"NO_UI")})},t.prototype.isFilterAllowed=function(e){var r,i;if(this.isAdvancedFilterEnabled())return!1;var o=e.isFilterAllowed();if(!o)return!1;var a=this.allColumnFilters.get(e.getColId());return(i=(r=a==null?void 0:a.filterPromise)===null||r===void 0?void 0:r.resolveNow(!0,function(s){return typeof(s==null?void 0:s.isFilterAllowed)=="function"?s==null?void 0:s.isFilterAllowed():!0}))!==null&&i!==void 0?i:!0},t.prototype.getFloatingFilterCompDetails=function(e,r){var i=this,o=function(d){var p=i.getFilterComponent(e,"NO_UI");p!=null&&p.then(function(h){d(fh(h))})},a=e.getColDef(),s=yl(yl({},this.createFilterParams(e,a)),{filterChangedCallback:function(){return o(function(d){return i.filterChangedCallbackFactory(d,e)()})}}),l=this.userComponentFactory.mergeParamsWithApplicationProvidedParams(a,ML,s),u=this.userComponentFactory.getDefaultFloatingFilterType(a,function(){return i.getDefaultFloatingFilter(e)});u==null&&(u="agReadOnlyFloatingFilter");var c={column:e,filterParams:l,currentParentModel:function(){return i.getCurrentFloatingFilterParentModel(e)},parentFilterInstance:o,showParentFilter:r,suppressFilterButton:!1};return this.userComponentFactory.getFloatingFilterCompDetails(a,c,u)},t.prototype.getCurrentFloatingFilterParentModel=function(e){var r=this.getFilterComponent(e,"NO_UI",!1);return r?r.resolveNow(null,function(i){return i&&i.getModel()}):null},t.prototype.destroyFilter=function(e,r){r===void 0&&(r="api");var i=e.getColId(),o=this.allColumnFilters.get(i);this.disposeColumnListener(i),delete this.initialFilterModel[i],o&&(this.disposeFilterWrapper(o,r),this.onFilterChanged({columns:[e],source:"api"}))},t.prototype.disposeColumnListener=function(e){var r=this.allColumnListeners.get(e);r&&(this.allColumnListeners.delete(e),r())},t.prototype.disposeFilterWrapper=function(e,r){var i=this;e.filterPromise.then(function(o){i.getContext().destroyBean(o),e.column.setFilterActive(!1,"filterDestroyed"),i.allColumnFilters.delete(e.column.getColId());var a={type:P.EVENT_FILTER_DESTROYED,source:r,column:e.column};i.eventService.dispatchEvent(a)})},t.prototype.filterModifiedCallbackFactory=function(e,r){var i=this;return function(){var o={type:P.EVENT_FILTER_MODIFIED,column:r,filterInstance:e};i.eventService.dispatchEvent(o)}},t.prototype.filterChangedCallbackFactory=function(e,r){var i=this;return function(o){var a,s=(a=o==null?void 0:o.source)!==null&&a!==void 0?a:"api",l={filter:e,additionalEventAttributes:o,columns:[r],source:s};i.callOnFilterChangedOutsideRenderCycle(l)}},t.prototype.checkDestroyFilter=function(e){var r=this,i=this.allColumnFilters.get(e);if(i){var o=i.column,a=(o.isFilterAllowed()?this.createFilterInstance(o):{compDetails:null}).compDetails;if(this.areFilterCompsDifferent(i.compDetails,a)){this.destroyFilter(o,"paramsUpdated");return}var s=o.getColDef().filterParams;if(!i.filterPromise){this.destroyFilter(o,"paramsUpdated");return}i.filterPromise.then(function(l){var u=l!=null&&l.refresh?l.refresh(yl(yl(yl({},r.createFilterParams(o,o.getColDef())),{filterModifiedCallback:r.filterModifiedCallbackFactory(l,o),filterChangedCallback:r.filterChangedCallbackFactory(l,o),doesRowPassOtherFilter:function(c){return r.doesRowPassOtherFilters(l,c)}}),s)):!0;u===!1&&r.destroyFilter(o,"paramsUpdated")})}},t.prototype.setColumnFilterWrapper=function(e,r){var i=this,o=e.getColId();this.allColumnFilters.set(o,r),this.allColumnListeners.set(o,this.addManagedListener(e,Je.EVENT_COL_DEF_CHANGED,function(){return i.checkDestroyFilter(o)}))},t.prototype.areFilterCompsDifferent=function(e,r){if(!r||!e)return!0;var i=e.componentClass,o=r.componentClass,a=i===o||(i==null?void 0:i.render)&&(o==null?void 0:o.render)&&i.render===o.render;return!a},t.prototype.getAdvancedFilterModel=function(){return this.isAdvancedFilterEnabled()?this.advancedFilterService.getModel():null},t.prototype.setAdvancedFilterModel=function(e){if(this.isAdvancedFilterEnabled()){if(this.dataTypeService.isPendingInference()){this.advancedFilterModelUpdateQueue.push(e);return}this.advancedFilterService.setModel(e??null),this.onFilterChanged({source:"advancedFilter"})}},t.prototype.showAdvancedFilterBuilder=function(e){this.isAdvancedFilterEnabled()&&this.advancedFilterService.getCtrl().toggleFilterBuilder(e,!0)},t.prototype.updateAdvancedFilterColumns=function(){this.isAdvancedFilterEnabled()&&this.advancedFilterService.updateValidity()&&this.onFilterChanged({source:"advancedFilter"})},t.prototype.hasFloatingFilters=function(){if(this.isAdvancedFilterEnabled())return!1;var e=this.columnModel.getAllGridColumns();return e.some(function(r){return r.getColDef().floatingFilter})},t.prototype.getFilterInstance=function(e,r){if(this.isAdvancedFilterEnabled()){this.warnAdvancedFilters();return}var i=this.getFilterInstanceImpl(e,function(a){if(r){var s=fh(a);r(s)}}),o=fh(i);return o},t.prototype.getColumnFilterInstance=function(e){var r=this;return new Promise(function(i){r.getFilterInstance(e,function(o){i(o)})})},t.prototype.getFilterInstanceImpl=function(e,r){var i=this.columnModel.getPrimaryColumn(e);if(i){var o=this.getFilterComponent(i,"NO_UI"),a=o&&o.resolveNow(null,function(s){return s});return a?setTimeout(r,0,a):o&&o.then(function(s){r(s)}),a}},t.prototype.warnAdvancedFilters=function(){Le("Column Filter API methods have been disabled as Advanced Filters are enabled.")},t.prototype.setupAdvancedFilterHeaderComp=function(e){var r;(r=this.advancedFilterService)===null||r===void 0||r.getCtrl().setupHeaderComp(e)},t.prototype.getHeaderRowCount=function(){return this.isAdvancedFilterHeaderActive()?1:0},t.prototype.getHeaderHeight=function(){return this.isAdvancedFilterHeaderActive()?this.advancedFilterService.getCtrl().getHeaderHeight():0},t.prototype.processFilterModelUpdateQueue=function(){var e=this;this.filterModelUpdateQueue.forEach(function(r){var i=r.model,o=r.source;return e.setFilterModel(i,o)}),this.filterModelUpdateQueue=[],this.columnFilterModelUpdateQueue.forEach(function(r){var i=r.key,o=r.model,a=r.resolve;e.setColumnFilterModel(i,o).then(function(){return a()})}),this.columnFilterModelUpdateQueue=[],this.advancedFilterModelUpdateQueue.forEach(function(r){return e.setAdvancedFilterModel(r)}),this.advancedFilterModelUpdateQueue=[]},t.prototype.getColumnFilterModel=function(e){var r=this.getFilterWrapper(e);return r?this.getModelFromFilterWrapper(r):null},t.prototype.setColumnFilterModel=function(e,r){if(this.isAdvancedFilterEnabled())return this.warnAdvancedFilters(),Promise.resolve();if(this.dataTypeService.isPendingInference()){var i=function(){},o=new Promise(function(u){i=u});return this.columnFilterModelUpdateQueue.push({key:e,model:r,resolve:i}),o}var a=this.columnModel.getPrimaryColumn(e),s=a?this.getOrCreateFilterWrapper(a,"NO_UI"):null,l=function(u){return new Promise(function(c){u.then(function(d){return c(d)})})};return s?l(this.setModelOnFilterWrapper(s.filterPromise,r)):Promise.resolve()},t.prototype.getFilterWrapper=function(e){var r,i=this.columnModel.getPrimaryColumn(e);return i&&(r=this.cachedFilter(i))!==null&&r!==void 0?r:null},t.prototype.destroy=function(){var e=this;n.prototype.destroy.call(this),this.allColumnFilters.forEach(function(r){return e.disposeFilterWrapper(r,"gridDestroyed")}),this.allColumnListeners.clear()},el([E("valueService")],t.prototype,"valueService",void 0),el([E("columnModel")],t.prototype,"columnModel",void 0),el([E("rowModel")],t.prototype,"rowModel",void 0),el([E("userComponentFactory")],t.prototype,"userComponentFactory",void 0),el([E("rowRenderer")],t.prototype,"rowRenderer",void 0),el([E("dataTypeService")],t.prototype,"dataTypeService",void 0),el([E("quickFilterService")],t.prototype,"quickFilterService",void 0),el([qe("advancedFilterService")],t.prototype,"advancedFilterService",void 0),el([z],t.prototype,"init",null),t=el([ae("filterManager")],t),t}(q),POe=function(){var n=function(t,e){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])},n(t,e)};return function(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");n(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}}(),bG=function(n){POe(t,n);function t(e,r){var i=n.call(this,e)||this;return i.ctrl=r,i}return t.prototype.getCtrl=function(){return this.ctrl},t}(de),AOe=function(){var n=function(t,e){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])},n(t,e)};return function(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");n(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}}(),Ny=function(n,t,e,r){var i=arguments.length,o=i<3?t:r===null?r=Object.getOwnPropertyDescriptor(t,e):r,a;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(n,t,e,r);else for(var s=n.length-1;s>=0;s--)(a=n[s])&&(o=(i<3?a(o):i>3?a(t,e,o):a(t,e))||o);return i>3&&o&&Object.defineProperty(t,e,o),o},gX=function(n){AOe(t,n);function t(e){return n.call(this,t.TEMPLATE,e)||this}return t.prototype.postConstruct=function(){var e=this,r=this.getGui(),i={addOrRemoveCssClass:function(o,a){return e.addOrRemoveCssClass(o,a)},addOrRemoveBodyCssClass:function(o,a){return e.eFloatingFilterBody.classList.toggle(o,a)},setButtonWrapperDisplayed:function(o){return mt(e.eButtonWrapper,o)},setCompDetails:function(o){return e.setCompDetails(o)},getFloatingFilterComp:function(){return e.compPromise},setWidth:function(o){return r.style.width=o},setMenuIcon:function(o){return e.eButtonShowMainFilter.appendChild(o)}};this.ctrl.setComp(i,r,this.eButtonShowMainFilter,this.eFloatingFilterBody)},t.prototype.setCompDetails=function(e){var r=this;if(!e){this.destroyFloatingFilterComp(),this.compPromise=null;return}this.compPromise=e.newAgStackInstance(),this.compPromise.then(function(i){return r.afterCompCreated(i)})},t.prototype.destroyFloatingFilterComp=function(){this.floatingFilterComp&&(this.eFloatingFilterBody.removeChild(this.floatingFilterComp.getGui()),this.floatingFilterComp=this.destroyBean(this.floatingFilterComp))},t.prototype.afterCompCreated=function(e){if(e){if(!this.isAlive()){this.destroyBean(e);return}this.destroyFloatingFilterComp(),this.floatingFilterComp=e,this.eFloatingFilterBody.appendChild(e.getGui()),e.afterGuiAttached&&e.afterGuiAttached()}},t.TEMPLATE=`<div class="ag-header-cell ag-floating-filter" role="gridcell">
            <div ref="eFloatingFilterBody" role="presentation"></div>
            <div class="ag-floating-filter-button ag-hidden" ref="eButtonWrapper" role="presentation">
                <button type="button" class="ag-button ag-floating-filter-button-button" ref="eButtonShowMainFilter" tabindex="-1"></button>
            </div>
        </div>`,Ny([$("eFloatingFilterBody")],t.prototype,"eFloatingFilterBody",void 0),Ny([$("eButtonWrapper")],t.prototype,"eButtonWrapper",void 0),Ny([$("eButtonShowMainFilter")],t.prototype,"eButtonShowMainFilter",void 0),Ny([z],t.prototype,"postConstruct",null),Ny([rr],t.prototype,"destroyFloatingFilterComp",null),t}(bG),DOe=function(){var n=function(t,e){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])},n(t,e)};return function(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");n(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}}(),MOe=function(n,t,e,r){var i=arguments.length,o=i<3?t:r===null?r=Object.getOwnPropertyDescriptor(t,e):r,a;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(n,t,e,r);else for(var s=n.length-1;s>=0;s--)(a=n[s])&&(o=(i<3?a(o):i>3?a(t,e,o):a(t,e))||o);return i>3&&o&&Object.defineProperty(t,e,o),o},Hr;(function(n){n.AUTO_HEIGHT="ag-layout-auto-height",n.NORMAL="ag-layout-normal",n.PRINT="ag-layout-print"})(Hr||(Hr={}));var OG=function(n){DOe(t,n);function t(e){var r=n.call(this)||this;return r.view=e,r}return t.prototype.postConstruct=function(){this.addManagedPropertyListener("domLayout",this.updateLayoutClasses.bind(this)),this.updateLayoutClasses()},t.prototype.updateLayoutClasses=function(){var e=this.getDomLayout(),r={autoHeight:e==="autoHeight",normal:e==="normal",print:e==="print"},i=r.autoHeight?Hr.AUTO_HEIGHT:r.print?Hr.PRINT:Hr.NORMAL;this.view.updateLayoutClasses(i,r)},t.prototype.getDomLayout=function(){var e,r=(e=this.gridOptionsService.get("domLayout"))!==null&&e!==void 0?e:"normal",i=["normal","print","autoHeight"];return i.indexOf(r)===-1?(Le("".concat(r," is not valid for DOM Layout, valid values are 'normal', 'autoHeight', 'print'.")),"normal"):r},MOe([z],t.prototype,"postConstruct",null),t}(q),FOe=function(){var n=function(t,e){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])},n(t,e)};return function(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");n(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}}(),Hb=function(){return Hb=Object.assign||function(n){for(var t,e=1,r=arguments.length;e<r;e++){t=arguments[e];for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(n[i]=t[i])}return n},Hb.apply(this,arguments)},Pc=function(n,t,e,r){var i=arguments.length,o=i<3?t:r===null?r=Object.getOwnPropertyDescriptor(t,e):r,a;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(n,t,e,r);else for(var s=n.length-1;s>=0;s--)(a=n[s])&&(o=(i<3?a(o):i>3?a(t,e,o):a(t,e))||o);return i>3&&o&&Object.defineProperty(t,e,o),o},ii;(function(n){n[n.Vertical=0]="Vertical",n[n.Horizontal=1]="Horizontal"})(ii||(ii={}));var mi;(function(n){n[n.Container=0]="Container",n[n.FakeContainer=1]="FakeContainer"})(mi||(mi={}));var LOe=function(n){FOe(t,n);function t(e){var r=n.call(this)||this;return r.lastScrollSource=[null,null],r.scrollLeft=-1,r.nextScrollTop=-1,r.scrollTop=-1,r.lastOffsetHeight=-1,r.lastScrollTop=-1,r.eBodyViewport=e,r.resetLastHScrollDebounced=Qo(function(){return r.lastScrollSource[ii.Horizontal]=null},500),r.resetLastVScrollDebounced=Qo(function(){return r.lastScrollSource[ii.Vertical]=null},500),r}return t.prototype.postConstruct=function(){var e=this;this.enableRtl=this.gridOptionsService.get("enableRtl"),this.addManagedListener(this.eventService,P.EVENT_DISPLAYED_COLUMNS_WIDTH_CHANGED,this.onDisplayedColumnsWidthChanged.bind(this)),this.ctrlsService.whenReady(function(r){e.centerRowContainerCtrl=r.centerRowContainerCtrl,e.onDisplayedColumnsWidthChanged(),e.addScrollListener()})},t.prototype.addScrollListener=function(){var e=this.ctrlsService.getFakeHScrollComp(),r=this.ctrlsService.getFakeVScrollComp();this.addManagedListener(this.centerRowContainerCtrl.getViewportElement(),"scroll",this.onHScroll.bind(this)),e.onScrollCallback(this.onFakeHScroll.bind(this));var i=this.gridOptionsService.get("debounceVerticalScrollbar"),o=i?Qo(this.onVScroll.bind(this),100):this.onVScroll.bind(this),a=i?Qo(this.onFakeVScroll.bind(this),100):this.onFakeVScroll.bind(this);this.addManagedListener(this.eBodyViewport,"scroll",o),r.onScrollCallback(a)},t.prototype.onDisplayedColumnsWidthChanged=function(){this.enableRtl&&this.horizontallyScrollHeaderCenterAndFloatingCenter()},t.prototype.horizontallyScrollHeaderCenterAndFloatingCenter=function(e){var r=this.centerRowContainerCtrl==null;if(!r){e===void 0&&(e=this.centerRowContainerCtrl.getCenterViewportScrollLeft());var i=this.enableRtl?e:-e,o=this.ctrlsService.getTopCenterRowContainerCtrl(),a=this.ctrlsService.getStickyTopCenterRowContainerCtrl(),s=this.ctrlsService.getBottomCenterRowContainerCtrl(),l=this.ctrlsService.getFakeHScrollComp(),u=this.ctrlsService.getHeaderRowContainerCtrl();u.setHorizontalScroll(-i),s.setContainerTranslateX(i),o.setContainerTranslateX(i),a.setContainerTranslateX(i);var c=this.centerRowContainerCtrl.getViewportElement(),d=this.lastScrollSource[ii.Horizontal]===mi.Container;e=Math.abs(e),d?l.setScrollPosition(e):LS(c,e,this.enableRtl)}},t.prototype.isControllingScroll=function(e,r){return this.lastScrollSource[r]==null?(this.lastScrollSource[r]=e,!0):this.lastScrollSource[r]===e},t.prototype.onFakeHScroll=function(){this.isControllingScroll(mi.FakeContainer,ii.Horizontal)&&this.onHScrollCommon(mi.FakeContainer)},t.prototype.onHScroll=function(){this.isControllingScroll(mi.Container,ii.Horizontal)&&this.onHScrollCommon(mi.Container)},t.prototype.onHScrollCommon=function(e){var r=this.centerRowContainerCtrl.getViewportElement(),i=r.scrollLeft;if(!this.shouldBlockScrollUpdate(ii.Horizontal,i,!0)){var o;e===mi.Container?o=FS(r,this.enableRtl):o=this.ctrlsService.getFakeHScrollComp().getScrollPosition(),this.doHorizontalScroll(Math.round(o)),this.resetLastHScrollDebounced()}},t.prototype.onFakeVScroll=function(){this.isControllingScroll(mi.FakeContainer,ii.Vertical)&&this.onVScrollCommon(mi.FakeContainer)},t.prototype.onVScroll=function(){this.isControllingScroll(mi.Container,ii.Vertical)&&this.onVScrollCommon(mi.Container)},t.prototype.onVScrollCommon=function(e){var r;e===mi.Container?r=this.eBodyViewport.scrollTop:r=this.ctrlsService.getFakeVScrollComp().getScrollPosition(),!this.shouldBlockScrollUpdate(ii.Vertical,r,!0)&&(this.animationFrameService.setScrollTop(r),this.nextScrollTop=r,e===mi.Container?this.ctrlsService.getFakeVScrollComp().setScrollPosition(r):this.eBodyViewport.scrollTop=r,this.gridOptionsService.get("suppressAnimationFrame")?this.scrollGridIfNeeded():this.animationFrameService.schedule(),this.resetLastVScrollDebounced())},t.prototype.doHorizontalScroll=function(e){var r=this.ctrlsService.getFakeHScrollComp().getScrollPosition();this.scrollLeft===e&&e===r||(this.scrollLeft=e,this.fireScrollEvent(ii.Horizontal),this.horizontallyScrollHeaderCenterAndFloatingCenter(e),this.centerRowContainerCtrl.onHorizontalViewportChanged(!0))},t.prototype.fireScrollEvent=function(e){var r=this,i={type:P.EVENT_BODY_SCROLL,direction:e===ii.Horizontal?"horizontal":"vertical",left:this.scrollLeft,top:this.scrollTop};this.eventService.dispatchEvent(i),window.clearTimeout(this.scrollTimer),this.scrollTimer=void 0,this.scrollTimer=window.setTimeout(function(){var o=Hb(Hb({},i),{type:P.EVENT_BODY_SCROLL_END});r.eventService.dispatchEvent(o)},100)},t.prototype.shouldBlockScrollUpdate=function(e,r,i){return i===void 0&&(i=!1),i&&!cc()?!1:e===ii.Vertical?this.shouldBlockVerticalScroll(r):this.shouldBlockHorizontalScroll(r)},t.prototype.shouldBlockVerticalScroll=function(e){var r=Lw(this.eBodyViewport),i=this.eBodyViewport.scrollHeight;return e<0||e+r>i},t.prototype.shouldBlockHorizontalScroll=function(e){var r=this.centerRowContainerCtrl.getCenterWidth(),i=this.centerRowContainerCtrl.getViewportElement().scrollWidth;if(this.enableRtl&&MS()){if(e>0)return!0}else if(e<0)return!0;return Math.abs(e)+r>i},t.prototype.redrawRowsAfterScroll=function(){this.fireScrollEvent(ii.Vertical)},t.prototype.checkScrollLeft=function(){this.scrollLeft!==this.centerRowContainerCtrl.getCenterViewportScrollLeft()&&this.onHScrollCommon(mi.Container)},t.prototype.scrollGridIfNeeded=function(){var e=this.scrollTop!=this.nextScrollTop;return e&&(this.scrollTop=this.nextScrollTop,this.redrawRowsAfterScroll()),e},t.prototype.setHorizontalScrollPosition=function(e,r){r===void 0&&(r=!1);var i=0,o=this.centerRowContainerCtrl.getViewportElement().scrollWidth-this.centerRowContainerCtrl.getCenterWidth();!r&&this.shouldBlockScrollUpdate(ii.Horizontal,e)&&(this.enableRtl&&MS()?e=e>0?0:o:e=Math.min(Math.max(e,i),o)),LS(this.centerRowContainerCtrl.getViewportElement(),Math.abs(e),this.enableRtl),this.doHorizontalScroll(e)},t.prototype.setVerticalScrollPosition=function(e){this.eBodyViewport.scrollTop=e},t.prototype.getVScrollPosition=function(){this.lastScrollTop=this.eBodyViewport.scrollTop,this.lastOffsetHeight=this.eBodyViewport.offsetHeight;var e={top:this.lastScrollTop,bottom:this.lastScrollTop+this.lastOffsetHeight};return e},t.prototype.getApproximateVScollPosition=function(){return this.lastScrollTop>=0&&this.lastOffsetHeight>=0?{top:this.scrollTop,bottom:this.scrollTop+this.lastOffsetHeight}:this.getVScrollPosition()},t.prototype.getHScrollPosition=function(){return this.centerRowContainerCtrl.getHScrollPosition()},t.prototype.isHorizontalScrollShowing=function(){return this.centerRowContainerCtrl.isHorizontalScrollShowing()},t.prototype.scrollHorizontally=function(e){var r=this.centerRowContainerCtrl.getViewportElement().scrollLeft;return this.setHorizontalScrollPosition(r+e),this.centerRowContainerCtrl.getViewportElement().scrollLeft-r},t.prototype.scrollToTop=function(){this.eBodyViewport.scrollTop=0},t.prototype.ensureNodeVisible=function(e,r){r===void 0&&(r=null);for(var i=this.rowModel.getRowCount(),o=-1,a=0;a<i;a++){var s=this.rowModel.getRow(a);if(typeof e=="function"){var l=e;if(s&&l(s)){o=a;break}}else if(e===s||e===s.data){o=a;break}}o>=0&&this.ensureIndexVisible(o,r)},t.prototype.ensureIndexVisible=function(e,r){var i=this;if(!this.gridOptionsService.isDomLayout("print")){var o=this.paginationProxy.getRowCount();if(typeof e!="number"||e<0||e>=o){console.warn("AG Grid: Invalid row index for ensureIndexVisible: "+e);return}var a=this.gridOptionsService.get("pagination"),s=a&&!this.gridOptionsService.get("suppressPaginationPanel");this.getFrameworkOverrides().wrapIncoming(function(){s||i.paginationProxy.goToPageWithIndex(e);var l=i.ctrlsService.getGridBodyCtrl(),u=l.getStickyTopHeight(),c=i.paginationProxy.getRow(e),d;do{var p=c.rowTop,h=c.rowHeight,f=i.paginationProxy.getPixelOffset(),v=c.rowTop-f,g=v+c.rowHeight,y=i.getVScrollPosition(),m=i.heightScaler.getDivStretchOffset(),C=y.top+m,S=y.bottom+m,w=S-C,_=i.heightScaler.getScrollPositionForPixel(v),x=i.heightScaler.getScrollPositionForPixel(g-w),b=Math.min((_+x)/2,v),O=C+u>v,T=S<g,A=null;r==="top"?A=_:r==="bottom"?A=x:r==="middle"?A=b:O?A=_-u:T&&(A=x),A!==null&&(i.setVerticalScrollPosition(A),i.rowRenderer.redraw({afterScroll:!0})),d=p!==c.rowTop||h!==c.rowHeight}while(d);i.animationFrameService.flushAllFrames()})}},t.prototype.ensureColumnVisible=function(e,r){var i=this;r===void 0&&(r="auto");var o=this.columnModel.getGridColumn(e);if(o&&!o.isPinned()&&this.columnModel.isColumnDisplayed(o)){var a=this.getPositionedHorizontalScroll(o,r);this.getFrameworkOverrides().wrapIncoming(function(){a!==null&&i.centerRowContainerCtrl.setCenterViewportScrollLeft(a),i.centerRowContainerCtrl.onHorizontalViewportChanged(),i.animationFrameService.flushAllFrames()})}},t.prototype.setScrollPosition=function(e,r){var i=this;this.getFrameworkOverrides().wrapIncoming(function(){i.centerRowContainerCtrl.setCenterViewportScrollLeft(r),i.setVerticalScrollPosition(e),i.rowRenderer.redraw({afterScroll:!0}),i.animationFrameService.flushAllFrames()})},t.prototype.getPositionedHorizontalScroll=function(e,r){var i=this.isColumnOutsideViewport(e),o=i.columnBeforeStart,a=i.columnAfterEnd,s=this.centerRowContainerCtrl.getCenterWidth()<e.getActualWidth(),l=this.centerRowContainerCtrl.getCenterWidth(),u=this.enableRtl,c=(u?o:a)||s,d=u?a:o;r!=="auto"&&(c=r==="start",d=r==="end");var p=r==="middle";if(c||d||p){var h=this.getColumnBounds(e),f=h.colLeft,v=h.colMiddle,g=h.colRight;return p?v-l/2:c?u?g:f:u?f-l:g-l}return null},t.prototype.isColumnOutsideViewport=function(e){var r=this.getViewportBounds(),i=r.start,o=r.end,a=this.getColumnBounds(e),s=a.colLeft,l=a.colRight,u=this.enableRtl,c=u?i>l:o<l,d=u?o<s:i>s;return{columnBeforeStart:c,columnAfterEnd:d}},t.prototype.getColumnBounds=function(e){var r=this.enableRtl,i=this.columnModel.getBodyContainerWidth(),o=e.getActualWidth(),a=e.getLeft(),s=r?-1:1,l=r?i-a:a,u=l+o*s,c=l+o/2*s;return{colLeft:l,colMiddle:c,colRight:u}},t.prototype.getViewportBounds=function(){var e=this.centerRowContainerCtrl.getCenterWidth(),r=this.centerRowContainerCtrl.getCenterViewportScrollLeft(),i=r,o=e+r;return{start:i,end:o,width:e}},Pc([E("ctrlsService")],t.prototype,"ctrlsService",void 0),Pc([E("animationFrameService")],t.prototype,"animationFrameService",void 0),Pc([E("paginationProxy")],t.prototype,"paginationProxy",void 0),Pc([E("rowModel")],t.prototype,"rowModel",void 0),Pc([E("rowContainerHeightService")],t.prototype,"heightScaler",void 0),Pc([E("rowRenderer")],t.prototype,"rowRenderer",void 0),Pc([E("columnModel")],t.prototype,"columnModel",void 0),Pc([z],t.prototype,"postConstruct",null),t}(q),IOe=function(){var n=function(t,e){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])},n(t,e)};return function(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");n(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}}(),FL=function(){return FL=Object.assign||function(n){for(var t,e=1,r=arguments.length;e<r;e++){t=arguments[e];for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(n[i]=t[i])}return n},FL.apply(this,arguments)},ya=function(n,t,e,r){var i=arguments.length,o=i<3?t:r===null?r=Object.getOwnPropertyDescriptor(t,e):r,a;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(n,t,e,r);else for(var s=n.length-1;s>=0;s--)(a=n[s])&&(o=(i<3?a(o):i>3?a(t,e,o):a(t,e))||o);return i>3&&o&&Object.defineProperty(t,e,o),o},NOe=function(n,t){var e=typeof Symbol=="function"&&n[Symbol.iterator];if(!e)return n;var r=e.call(n),i,o=[],a;try{for(;(t===void 0||t-- >0)&&!(i=r.next()).done;)o.push(i.value)}catch(s){a={error:s}}finally{try{i&&!i.done&&(e=r.return)&&e.call(r)}finally{if(a)throw a.error}}return o},kOe=function(n,t,e){if(e||arguments.length===2)for(var r=0,i=t.length,o;r<i;r++)(o||!(r in t))&&(o||(o=Array.prototype.slice.call(t,0,r)),o[r]=t[r]);return n.concat(o||Array.prototype.slice.call(t))},GOe=function(n){IOe(t,n);function t(e){var r=n.call(this)||this;return r.isMultiRowDrag=!1,r.eContainer=e,r}return t.prototype.postConstruct=function(){var e=this;this.gridOptionsService.isRowModelType("clientSide")&&(this.clientSideRowModel=this.rowModel),this.ctrlsService.whenReady(function(){var r=e.ctrlsService.getGridBodyCtrl();e.autoScrollService=new Vw({scrollContainer:r.getBodyViewportElement(),scrollAxis:"y",getVerticalPosition:function(){return r.getScrollFeature().getVScrollPosition().top},setVerticalPosition:function(i){return r.getScrollFeature().setVerticalScrollPosition(i)},onScrollCallback:function(){e.onDragging(e.lastDraggingEvent)}})})},t.prototype.getContainer=function(){return this.eContainer},t.prototype.isInterestedIn=function(e){return e===Sr.RowDrag},t.prototype.getIconName=function(){var e=this.gridOptionsService.get("rowDragManaged");return e&&this.shouldPreventRowMove()?Ct.ICON_NOT_ALLOWED:Ct.ICON_MOVE},t.prototype.shouldPreventRowMove=function(){var e=this.columnModel.getRowGroupColumns();if(e.length)return!0;var r=this.filterManager.isAnyFilterPresent();if(r)return!0;var i=this.sortController.isSortActive();return!!i},t.prototype.getRowNodes=function(e){var r=this;if(!this.isFromThisGrid(e))return e.dragItem.rowNodes||[];var i=this.gridOptionsService.get("rowDragMultiRow"),o=kOe([],NOe(this.selectionService.getSelectedNodes()),!1).sort(function(s,l){return s.rowIndex==null||l.rowIndex==null?0:r.getRowIndexNumber(s)-r.getRowIndexNumber(l)}),a=e.dragItem.rowNode;return i&&o.indexOf(a)!==-1?(this.isMultiRowDrag=!0,o):(this.isMultiRowDrag=!1,[a])},t.prototype.onDragEnter=function(e){e.dragItem.rowNodes=this.getRowNodes(e),this.dispatchGridEvent(P.EVENT_ROW_DRAG_ENTER,e),this.getRowNodes(e).forEach(function(r){r.setDragging(!0)}),this.onEnterOrDragging(e)},t.prototype.onDragging=function(e){this.onEnterOrDragging(e)},t.prototype.isFromThisGrid=function(e){var r=e.dragSource.dragSourceDomDataKey;return r===this.gridOptionsService.getDomDataKey()},t.prototype.isDropZoneWithinThisGrid=function(e){var r=this.ctrlsService.getGridBodyCtrl(),i=r.getGui(),o=e.dropZoneTarget;return!i.contains(o)},t.prototype.onEnterOrDragging=function(e){this.dispatchGridEvent(P.EVENT_ROW_DRAG_MOVE,e),this.lastDraggingEvent=e;var r=this.mouseEventService.getNormalisedPosition(e).y,i=this.gridOptionsService.get("rowDragManaged");i&&this.doManagedDrag(e,r),this.autoScrollService.check(e.event)},t.prototype.doManagedDrag=function(e,r){var i=this.isFromThisGrid(e),o=this.gridOptionsService.get("rowDragManaged"),a=e.dragItem.rowNodes;o&&this.shouldPreventRowMove()||(this.gridOptionsService.get("suppressMoveWhenRowDragging")||!i?this.isDropZoneWithinThisGrid(e)||this.clientSideRowModel.highlightRowAtPixel(a[0],r):this.moveRows(a,r))},t.prototype.getRowIndexNumber=function(e){return parseInt(bt(e.getRowIndexString().split("-")),10)},t.prototype.moveRowAndClearHighlight=function(e){var r=this,i=this.clientSideRowModel.getLastHighlightedRowNode(),o=i&&i.highlighted===Wl.Below,a=this.mouseEventService.getNormalisedPosition(e).y,s=e.dragItem.rowNodes,l=o?1:0;if(this.isFromThisGrid(e))s.forEach(function(d){d.rowTop<a&&(l-=1)}),this.moveRows(s,a,l);else{var u=this.gridOptionsService.getCallback("getRowId"),c=this.clientSideRowModel.getRowIndexAtPixel(a)+1;this.clientSideRowModel.getHighlightPosition(a)===Wl.Above&&c--,this.clientSideRowModel.updateRowData({add:s.map(function(d){return d.data}).filter(function(d){return!r.clientSideRowModel.getRowNode(u?u({data:d,level:0}):d.id)}),addIndex:c})}this.clearRowHighlight()},t.prototype.clearRowHighlight=function(){this.clientSideRowModel.highlightRowAtPixel(null)},t.prototype.moveRows=function(e,r,i){i===void 0&&(i=0);var o=this.clientSideRowModel.ensureRowsAtPixel(e,r,i);o&&(this.focusService.clearFocusedCell(),this.rangeService&&this.rangeService.removeAllCellRanges())},t.prototype.addRowDropZone=function(e){var r=this;if(!e.getContainer()){Le("addRowDropZone - A container target needs to be provided");return}if(this.dragAndDropService.findExternalZone(e)){console.warn("AG Grid: addRowDropZone - target already exists in the list of DropZones. Use `removeRowDropZone` before adding it again.");return}var i={getContainer:e.getContainer};e.fromGrid?(e.fromGrid=void 0,i=e):(e.onDragEnter&&(i.onDragEnter=function(o){e.onDragEnter(r.draggingToRowDragEvent(P.EVENT_ROW_DRAG_ENTER,o))}),e.onDragLeave&&(i.onDragLeave=function(o){e.onDragLeave(r.draggingToRowDragEvent(P.EVENT_ROW_DRAG_LEAVE,o))}),e.onDragging&&(i.onDragging=function(o){e.onDragging(r.draggingToRowDragEvent(P.EVENT_ROW_DRAG_MOVE,o))}),e.onDragStop&&(i.onDragStop=function(o){e.onDragStop(r.draggingToRowDragEvent(P.EVENT_ROW_DRAG_END,o))})),this.dragAndDropService.addDropTarget(FL({isInterestedIn:function(o){return o===Sr.RowDrag},getIconName:function(){return Ct.ICON_MOVE},external:!0},i))},t.prototype.getRowDropZone=function(e){var r=this,i=this.getContainer.bind(this),o=this.onDragEnter.bind(this),a=this.onDragLeave.bind(this),s=this.onDragging.bind(this),l=this.onDragStop.bind(this);return e?{getContainer:i,onDragEnter:e.onDragEnter?function(u){o(u),e.onDragEnter(r.draggingToRowDragEvent(P.EVENT_ROW_DRAG_ENTER,u))}:o,onDragLeave:e.onDragLeave?function(u){a(u),e.onDragLeave(r.draggingToRowDragEvent(P.EVENT_ROW_DRAG_LEAVE,u))}:a,onDragging:e.onDragging?function(u){s(u),e.onDragging(r.draggingToRowDragEvent(P.EVENT_ROW_DRAG_MOVE,u))}:s,onDragStop:e.onDragStop?function(u){l(u),e.onDragStop(r.draggingToRowDragEvent(P.EVENT_ROW_DRAG_END,u))}:l,fromGrid:!0}:{getContainer:i,onDragEnter:o,onDragLeave:a,onDragging:s,onDragStop:l,fromGrid:!0}},t.prototype.draggingToRowDragEvent=function(e,r){var i=this.mouseEventService.getNormalisedPosition(r).y,o=i>this.paginationProxy.getCurrentPageHeight(),a=-1,s;o||(a=this.rowModel.getRowIndexAtPixel(i),s=this.rowModel.getRow(a));var l;switch(r.vDirection){case $h.Down:l="down";break;case $h.Up:l="up";break;default:l=null;break}var u=this.gridOptionsService.addGridCommonParams({type:e,event:r.event,node:r.dragItem.rowNode,nodes:r.dragItem.rowNodes,overIndex:a,overNode:s,y:i,vDirection:l});return u},t.prototype.dispatchGridEvent=function(e,r){var i=this.draggingToRowDragEvent(e,r);this.eventService.dispatchEvent(i)},t.prototype.onDragLeave=function(e){this.dispatchGridEvent(P.EVENT_ROW_DRAG_LEAVE,e),this.stopDragging(e),this.gridOptionsService.get("rowDragManaged")&&this.clearRowHighlight(),this.isFromThisGrid(e)&&(this.isMultiRowDrag=!1)},t.prototype.onDragStop=function(e){this.dispatchGridEvent(P.EVENT_ROW_DRAG_END,e),this.stopDragging(e),this.gridOptionsService.get("rowDragManaged")&&(this.gridOptionsService.get("suppressMoveWhenRowDragging")||!this.isFromThisGrid(e))&&!this.isDropZoneWithinThisGrid(e)&&this.moveRowAndClearHighlight(e)},t.prototype.stopDragging=function(e){this.autoScrollService.ensureCleared(),this.getRowNodes(e).forEach(function(r){r.setDragging(!1)})},ya([E("dragAndDropService")],t.prototype,"dragAndDropService",void 0),ya([E("rowModel")],t.prototype,"rowModel",void 0),ya([E("paginationProxy")],t.prototype,"paginationProxy",void 0),ya([E("columnModel")],t.prototype,"columnModel",void 0),ya([E("focusService")],t.prototype,"focusService",void 0),ya([E("sortController")],t.prototype,"sortController",void 0),ya([E("filterManager")],t.prototype,"filterManager",void 0),ya([E("selectionService")],t.prototype,"selectionService",void 0),ya([E("mouseEventService")],t.prototype,"mouseEventService",void 0),ya([E("ctrlsService")],t.prototype,"ctrlsService",void 0),ya([qe("rangeService")],t.prototype,"rangeService",void 0),ya([z],t.prototype,"postConstruct",null),t}(q),VOe=function(){var n=function(t,e){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])},n(t,e)};return function(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");n(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}}(),Vi=function(n,t,e,r){var i=arguments.length,o=i<3?t:r===null?r=Object.getOwnPropertyDescriptor(t,e):r,a;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(n,t,e,r);else for(var s=n.length-1;s>=0;s--)(a=n[s])&&(o=(i<3?a(o):i>3?a(t,e,o):a(t,e))||o);return i>3&&o&&Object.defineProperty(t,e,o),o},Uh;(function(n){n.ANIMATION_ON="ag-row-animation",n.ANIMATION_OFF="ag-row-no-animation"})(Uh||(Uh={}));var yX="ag-force-vertical-scroll",BOe="ag-selectable",HOe="ag-column-moving",mX=function(n){VOe(t,n);function t(){var e=n!==null&&n.apply(this,arguments)||this;return e.stickyTopHeight=0,e}return t.prototype.getScrollFeature=function(){return this.bodyScrollFeature},t.prototype.getBodyViewportElement=function(){return this.eBodyViewport},t.prototype.setComp=function(e,r,i,o,a,s){var l=this;this.comp=e,this.eGridBody=r,this.eBodyViewport=i,this.eTop=o,this.eBottom=a,this.eStickyTop=s,this.setCellTextSelection(this.gridOptionsService.get("enableCellTextSelection")),this.addManagedPropertyListener("enableCellTextSelection",function(u){return l.setCellTextSelection(u.currentValue)}),this.createManagedBean(new OG(this.comp)),this.bodyScrollFeature=this.createManagedBean(new LOe(this.eBodyViewport)),this.addRowDragListener(),this.setupRowAnimationCssClass(),this.addEventListeners(),this.addFocusListeners([o,i,a,s]),this.onGridColumnsChanged(),this.addBodyViewportListener(),this.setFloatingHeights(),this.disableBrowserDragging(),this.addStopEditingWhenGridLosesFocus(),this.filterManager.setupAdvancedFilterHeaderComp(o),this.ctrlsService.registerGridBodyCtrl(this)},t.prototype.getComp=function(){return this.comp},t.prototype.addEventListeners=function(){this.addManagedListener(this.eventService,P.EVENT_GRID_COLUMNS_CHANGED,this.onGridColumnsChanged.bind(this)),this.addManagedListener(this.eventService,P.EVENT_SCROLL_VISIBILITY_CHANGED,this.onScrollVisibilityChanged.bind(this)),this.addManagedListener(this.eventService,P.EVENT_PINNED_ROW_DATA_CHANGED,this.onPinnedRowDataChanged.bind(this)),this.addManagedListener(this.eventService,P.EVENT_HEADER_HEIGHT_CHANGED,this.onHeaderHeightChanged.bind(this))},t.prototype.addFocusListeners=function(e){var r=this;e.forEach(function(i){r.addManagedListener(i,"focusin",function(o){var a=o.target,s=bh(a,"ag-root",i);i.classList.toggle("ag-has-focus",!s)}),r.addManagedListener(i,"focusout",function(o){var a=o.target,s=o.relatedTarget,l=i.contains(s),u=bh(s,"ag-root",i),c=bh(a,"ag-root",i);c||(!l||u)&&i.classList.remove("ag-has-focus")})})},t.prototype.setColumnMovingCss=function(e){this.comp.setColumnMovingCss(HOe,e)},t.prototype.setCellTextSelection=function(e){e===void 0&&(e=!1),this.comp.setCellSelectableCss(BOe,e)},t.prototype.onScrollVisibilityChanged=function(){var e=this,r=this.scrollVisibleService.isVerticalScrollShowing();this.setVerticalScrollPaddingVisible(r),this.setStickyTopWidth(r);var i=r&&this.gridOptionsService.getScrollbarWidth()||0,o=rG()?16:0,a="calc(100% + ".concat(i+o,"px)");this.animationFrameService.requestAnimationFrame(function(){return e.comp.setBodyViewportWidth(a)})},t.prototype.onGridColumnsChanged=function(){var e=this.columnModel.getAllGridColumns();this.comp.setColumnCount(e.length)},t.prototype.disableBrowserDragging=function(){this.addManagedListener(this.eGridBody,"dragstart",function(e){if(e.target instanceof HTMLImageElement)return e.preventDefault(),!1})},t.prototype.addStopEditingWhenGridLosesFocus=function(){var e=this;if(this.gridOptionsService.get("stopEditingWhenCellsLoseFocus")){var r=function(o){var a=o.relatedTarget;if(Ib(a)===null){e.rowRenderer.stopEditing();return}var s=i.some(function(u){return u.contains(a)})&&e.mouseEventService.isElementInThisGrid(a);if(!s){var l=e.popupService;s=l.getActivePopups().some(function(u){return u.contains(a)})||l.isElementWithinCustomPopup(a)}s||e.rowRenderer.stopEditing()},i=[this.eBodyViewport,this.eBottom,this.eTop,this.eStickyTop];i.forEach(function(o){return e.addManagedListener(o,"focusout",r)})}},t.prototype.updateRowCount=function(){var e=this.headerNavigationService.getHeaderRowCount()+this.filterManager.getHeaderRowCount(),r=this.rowModel.isLastRowIndexKnown()?this.rowModel.getRowCount():-1,i=r===-1?-1:e+r;this.comp.setRowCount(i)},t.prototype.registerBodyViewportResizeListener=function(e){this.comp.registerBodyViewportResizeListener(e)},t.prototype.setVerticalScrollPaddingVisible=function(e){var r=e?"scroll":"hidden";this.comp.setPinnedTopBottomOverflowY(r)},t.prototype.isVerticalScrollShowing=function(){var e=this.gridOptionsService.get("alwaysShowVerticalScroll"),r=e?yX:null,i=this.gridOptionsService.isDomLayout("normal");return this.comp.setAlwaysVerticalScrollClass(r,e),e||i&&OY(this.eBodyViewport)},t.prototype.setupRowAnimationCssClass=function(){var e=this,r=function(){var i=e.gridOptionsService.isAnimateRows()&&!e.rowContainerHeightService.isStretching(),o=i?Uh.ANIMATION_ON:Uh.ANIMATION_OFF;e.comp.setRowAnimationCssOnBodyViewport(o,i)};r(),this.addManagedListener(this.eventService,P.EVENT_HEIGHT_SCALE_CHANGED,r),this.addManagedPropertyListener("animateRows",r)},t.prototype.getGridBodyElement=function(){return this.eGridBody},t.prototype.addBodyViewportListener=function(){var e=this.onBodyViewportContextMenu.bind(this);this.addManagedListener(this.eBodyViewport,"contextmenu",e),this.mockContextMenuForIPad(e),this.addManagedListener(this.eBodyViewport,"wheel",this.onBodyViewportWheel.bind(this)),this.addManagedListener(this.eStickyTop,"wheel",this.onStickyTopWheel.bind(this)),this.addFullWidthContainerWheelListener()},t.prototype.addFullWidthContainerWheelListener=function(){var e=this,r=this.eBodyViewport.querySelector(".ag-full-width-container"),i=this.eBodyViewport.querySelector(".ag-center-cols-viewport");r&&i&&this.addManagedListener(r,"wheel",function(o){return e.onFullWidthContainerWheel(o,i)})},t.prototype.onFullWidthContainerWheel=function(e,r){!e.deltaX||Math.abs(e.deltaY)>Math.abs(e.deltaX)||!this.mouseEventService.isEventFromThisGrid(e)||(e.preventDefault(),r.scrollBy({left:e.deltaX}))},t.prototype.onBodyViewportContextMenu=function(e,r,i){if(!(!e&&!i)){if(this.gridOptionsService.get("preventDefaultOnContextMenu")){var o=e||i;o.preventDefault()}var a=(e||r).target;(a===this.eBodyViewport||a===this.ctrlsService.getCenterRowContainerCtrl().getViewportElement())&&this.menuService.showContextMenu({mouseEvent:e,touchEvent:i,value:null,anchorToElement:this.eGridBody})}},t.prototype.mockContextMenuForIPad=function(e){if(cc()){var r=new jr(this.eBodyViewport),i=function(o){e(void 0,o.touchStart,o.touchEvent)};this.addManagedListener(r,jr.EVENT_LONG_TAP,i),this.addDestroyFunc(function(){return r.destroy()})}},t.prototype.onBodyViewportWheel=function(e){this.gridOptionsService.get("suppressScrollWhenPopupsAreOpen")&&this.popupService.hasAnchoredPopup()&&e.preventDefault()},t.prototype.onStickyTopWheel=function(e){e.preventDefault(),e.offsetY&&this.scrollVertically(e.deltaY)},t.prototype.getGui=function(){return this.eGridBody},t.prototype.scrollVertically=function(e){var r=this.eBodyViewport.scrollTop;return this.bodyScrollFeature.setVerticalScrollPosition(r+e),this.eBodyViewport.scrollTop-r},t.prototype.addRowDragListener=function(){this.rowDragFeature=this.createManagedBean(new GOe(this.eBodyViewport)),this.dragAndDropService.addDropTarget(this.rowDragFeature)},t.prototype.getRowDragFeature=function(){return this.rowDragFeature},t.prototype.onPinnedRowDataChanged=function(){this.setFloatingHeights()},t.prototype.setFloatingHeights=function(){var e=this.pinnedRowModel,r=e.getPinnedTopTotalHeight(),i=e.getPinnedBottomTotalHeight();this.comp.setTopHeight(r),this.comp.setBottomHeight(i),this.comp.setTopDisplay(r?"inherit":"none"),this.comp.setBottomDisplay(i?"inherit":"none"),this.setStickyTopOffsetTop()},t.prototype.setStickyTopHeight=function(e){e===void 0&&(e=0),this.comp.setStickyTopHeight("".concat(e,"px")),this.stickyTopHeight=e},t.prototype.getStickyTopHeight=function(){return this.stickyTopHeight},t.prototype.setStickyTopWidth=function(e){if(!e)this.comp.setStickyTopWidth("100%");else{var r=this.gridOptionsService.getScrollbarWidth();this.comp.setStickyTopWidth("calc(100% - ".concat(r,"px)"))}},t.prototype.onHeaderHeightChanged=function(){this.setStickyTopOffsetTop()},t.prototype.setStickyTopOffsetTop=function(){var e=this.ctrlsService.getGridHeaderCtrl(),r=e.getHeaderHeight()+this.filterManager.getHeaderHeight(),i=this.pinnedRowModel.getPinnedTopTotalHeight(),o=0;r>0&&(o+=r+1),i>0&&(o+=i+1),this.comp.setStickyTopTop("".concat(o,"px"))},t.prototype.sizeColumnsToFit=function(e,r){var i=this,o=this.isVerticalScrollShowing(),a=o?this.gridOptionsService.getScrollbarWidth():0,s=rf(this.eGridBody),l=s-a;if(l>0){this.columnModel.sizeColumnsToFit(l,"sizeColumnsToFit",!1,e);return}r===void 0?window.setTimeout(function(){i.sizeColumnsToFit(e,100)},0):r===100?window.setTimeout(function(){i.sizeColumnsToFit(e,500)},100):r===500?window.setTimeout(function(){i.sizeColumnsToFit(e,-1)},500):console.warn("AG Grid: tried to call sizeColumnsToFit() but the grid is coming back with zero width, maybe the grid is not visible yet on the screen?")},t.prototype.addScrollEventListener=function(e){this.eBodyViewport.addEventListener("scroll",e,{passive:!0})},t.prototype.removeScrollEventListener=function(e){this.eBodyViewport.removeEventListener("scroll",e)},Vi([E("animationFrameService")],t.prototype,"animationFrameService",void 0),Vi([E("rowContainerHeightService")],t.prototype,"rowContainerHeightService",void 0),Vi([E("ctrlsService")],t.prototype,"ctrlsService",void 0),Vi([E("columnModel")],t.prototype,"columnModel",void 0),Vi([E("scrollVisibleService")],t.prototype,"scrollVisibleService",void 0),Vi([E("menuService")],t.prototype,"menuService",void 0),Vi([E("headerNavigationService")],t.prototype,"headerNavigationService",void 0),Vi([E("dragAndDropService")],t.prototype,"dragAndDropService",void 0),Vi([E("pinnedRowModel")],t.prototype,"pinnedRowModel",void 0),Vi([E("rowRenderer")],t.prototype,"rowRenderer",void 0),Vi([E("popupService")],t.prototype,"popupService",void 0),Vi([E("mouseEventService")],t.prototype,"mouseEventService",void 0),Vi([E("rowModel")],t.prototype,"rowModel",void 0),Vi([E("filterManager")],t.prototype,"filterManager",void 0),t}(q),ec;(function(n){n[n.FILL=0]="FILL",n[n.RANGE=1]="RANGE"})(ec||(ec={}));var ro;(function(n){n[n.VALUE=0]="VALUE",n[n.DIMENSION=1]="DIMENSION"})(ro||(ro={}));var ky="ag-cell-range-selected",jOe="ag-cell-range-chart",$Oe="ag-cell-range-single-cell",WOe="ag-cell-range-chart-category",UOe="ag-cell-range-handle",zOe="ag-cell-range-top",KOe="ag-cell-range-right",YOe="ag-cell-range-bottom",XOe="ag-cell-range-left",qOe=function(){function n(t,e){this.beans=t,this.cellCtrl=e}return n.prototype.setComp=function(t,e){this.cellComp=t,this.eGui=e,this.onRangeSelectionChanged()},n.prototype.onRangeSelectionChanged=function(){this.cellComp&&(this.rangeCount=this.beans.rangeService.getCellRangeCount(this.cellCtrl.getCellPosition()),this.hasChartRange=this.getHasChartRange(),this.cellComp.addOrRemoveCssClass(ky,this.rangeCount!==0),this.cellComp.addOrRemoveCssClass("".concat(ky,"-1"),this.rangeCount===1),this.cellComp.addOrRemoveCssClass("".concat(ky,"-2"),this.rangeCount===2),this.cellComp.addOrRemoveCssClass("".concat(ky,"-3"),this.rangeCount===3),this.cellComp.addOrRemoveCssClass("".concat(ky,"-4"),this.rangeCount>=4),this.cellComp.addOrRemoveCssClass(jOe,this.hasChartRange),wg(this.eGui,this.rangeCount>0?!0:void 0),this.cellComp.addOrRemoveCssClass($Oe,this.isSingleCell()),this.updateRangeBorders(),this.refreshHandle())},n.prototype.updateRangeBorders=function(){var t=this.getRangeBorders(),e=this.isSingleCell(),r=!e&&t.top,i=!e&&t.right,o=!e&&t.bottom,a=!e&&t.left;this.cellComp.addOrRemoveCssClass(zOe,r),this.cellComp.addOrRemoveCssClass(KOe,i),this.cellComp.addOrRemoveCssClass(YOe,o),this.cellComp.addOrRemoveCssClass(XOe,a)},n.prototype.isSingleCell=function(){var t=this.beans.rangeService;return this.rangeCount===1&&t&&!t.isMoreThanOneCell()},n.prototype.getHasChartRange=function(){var t=this.beans.rangeService;if(!this.rangeCount||!t)return!1;var e=t.getCellRanges();return e.length>0&&e.every(function(r){return Ps([ro.DIMENSION,ro.VALUE],r.type)})},n.prototype.updateRangeBordersIfRangeCount=function(){this.rangeCount>0&&(this.updateRangeBorders(),this.refreshHandle())},n.prototype.getRangeBorders=function(){var t=this,e=this.beans.gridOptionsService.get("enableRtl"),r=!1,i=!1,o=!1,a=!1,s=this.cellCtrl.getCellPosition().column,l=this.beans,u=l.rangeService,c=l.columnModel,d,p;e?(d=c.getDisplayedColAfter(s),p=c.getDisplayedColBefore(s)):(d=c.getDisplayedColBefore(s),p=c.getDisplayedColAfter(s));var h=u.getCellRanges().filter(function(m){return u.isCellInSpecificRange(t.cellCtrl.getCellPosition(),m)});d||(a=!0),p||(i=!0);for(var f=0;f<h.length&&!(r&&i&&o&&a);f++){var v=h[f],g=u.getRangeStartRow(v),y=u.getRangeEndRow(v);!r&&this.beans.rowPositionUtils.sameRow(g,this.cellCtrl.getCellPosition())&&(r=!0),!o&&this.beans.rowPositionUtils.sameRow(y,this.cellCtrl.getCellPosition())&&(o=!0),!a&&d&&v.columns.indexOf(d)<0&&(a=!0),!i&&p&&v.columns.indexOf(p)<0&&(i=!0)}return{top:r,right:i,bottom:o,left:a}},n.prototype.refreshHandle=function(){if(!(!this.beans.rangeService||this.beans.context.isDestroyed())){var t=this.shouldHaveSelectionHandle();this.selectionHandle&&!t&&(this.selectionHandle=this.beans.context.destroyBean(this.selectionHandle)),t&&this.addSelectionHandle(),this.cellComp.addOrRemoveCssClass(UOe,!!this.selectionHandle)}},n.prototype.shouldHaveSelectionHandle=function(){var t=this.beans,e=t.gridOptionsService,r=t.rangeService,i=r.getCellRanges(),o=i.length;if(this.rangeCount<1||o<1)return!1;var a=bt(i),s=this.cellCtrl.getCellPosition(),l=e.get("enableFillHandle")&&!this.cellCtrl.isSuppressFillHandle(),u=e.get("enableRangeHandle"),c=o===1&&!this.cellCtrl.isEditing()&&(l||u);if(this.hasChartRange){var d=i[0].type===ro.DIMENSION,p=d&&r.isCellInSpecificRange(s,i[0]);this.cellComp.addOrRemoveCssClass(WOe,p),c=a.type===ro.VALUE}return c&&a.endRow!=null&&r.isContiguousRange(a)&&r.isBottomRightCell(a,s)},n.prototype.addSelectionHandle=function(){var t=this.beans,e=t.gridOptionsService,r=t.rangeService,i=bt(r.getCellRanges()).type,o=e.get("enableFillHandle")&&je(i),a=o?ec.FILL:ec.RANGE;this.selectionHandle&&this.selectionHandle.getType()!==a&&(this.selectionHandle=this.beans.context.destroyBean(this.selectionHandle)),this.selectionHandle||(this.selectionHandle=this.beans.selectionHandleFactory.createSelectionHandle(a)),this.selectionHandle.refresh(this.cellCtrl)},n.prototype.destroy=function(){this.beans.context.destroyBean(this.selectionHandle)},n}(),ZOe=function(){var n=function(t,e){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])},n(t,e)};return function(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");n(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}}(),QOe=function(n){ZOe(t,n);function t(e,r){var i=n.call(this)||this;return i.cellCtrl=e,i.beans=r,i.column=e.getColumn(),i.rowNode=e.getRowNode(),i.setupColSpan(),i.setupRowSpan(),i}return t.prototype.setupRowSpan=function(){var e=this;this.rowSpan=this.column.getRowSpan(this.rowNode),this.addManagedListener(this.beans.eventService,P.EVENT_NEW_COLUMNS_LOADED,function(){return e.onNewColumnsLoaded()})},t.prototype.setComp=function(e){this.eGui=e,this.onLeftChanged(),this.onWidthChanged(),this.applyRowSpan()},t.prototype.onNewColumnsLoaded=function(){var e=this.column.getRowSpan(this.rowNode);this.rowSpan!==e&&(this.rowSpan=e,this.applyRowSpan(!0))},t.prototype.onDisplayColumnsChanged=function(){var e=this.getColSpanningList();Du(this.colsSpanning,e)||(this.colsSpanning=e,this.onWidthChanged(),this.onLeftChanged())},t.prototype.setupColSpan=function(){this.column.getColDef().colSpan!=null&&(this.colsSpanning=this.getColSpanningList(),this.addManagedListener(this.beans.eventService,P.EVENT_DISPLAYED_COLUMNS_CHANGED,this.onDisplayColumnsChanged.bind(this)),this.addManagedListener(this.beans.eventService,P.EVENT_DISPLAYED_COLUMNS_WIDTH_CHANGED,this.onWidthChanged.bind(this)))},t.prototype.onWidthChanged=function(){if(this.eGui){var e=this.getCellWidth();this.eGui.style.width="".concat(e,"px")}},t.prototype.getCellWidth=function(){return this.colsSpanning?this.colsSpanning.reduce(function(e,r){return e+r.getActualWidth()},0):this.column.getActualWidth()},t.prototype.getColSpanningList=function(){var e=this.column.getColSpan(this.rowNode),r=[];if(e===1)r.push(this.column);else for(var i=this.column,o=this.column.getPinned(),a=0;i&&a<e&&(r.push(i),i=this.beans.columnModel.getDisplayedColAfter(i),!(!i||je(i)||o!==i.getPinned()));a++);return r},t.prototype.onLeftChanged=function(){if(this.eGui){var e=this.modifyLeftForPrintLayout(this.getCellLeft());this.eGui.style.left=e+"px"}},t.prototype.getCellLeft=function(){var e;return this.beans.gridOptionsService.get("enableRtl")&&this.colsSpanning?e=bt(this.colsSpanning):e=this.column,e.getLeft()},t.prototype.modifyLeftForPrintLayout=function(e){if(!this.cellCtrl.isPrintLayout()||this.column.getPinned()==="left")return e;var r=this.beans.columnModel.getDisplayedColumnsLeftWidth();if(this.column.getPinned()==="right"){var i=this.beans.columnModel.getBodyContainerWidth();return r+i+(e||0)}return r+(e||0)},t.prototype.applyRowSpan=function(e){if(!(this.rowSpan===1&&!e)){var r=this.beans.gridOptionsService.getRowHeightAsNumber(),i=r*this.rowSpan;this.eGui.style.height="".concat(i,"px"),this.eGui.style.zIndex="1"}},t.prototype.destroy=function(){n.prototype.destroy.call(this)},t}(q),JOe=function(){var n=function(t,e){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])},n(t,e)};return function(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");n(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}}(),eRe=function(n){JOe(t,n);function t(e,r){var i=n.call(this)||this;return i.staticClasses=[],i.cellCtrl=e,i.beans=r,i.column=e.getColumn(),i.rowNode=e.getRowNode(),i}return t.prototype.setComp=function(e){this.cellComp=e,this.applyUserStyles(),this.applyCellClassRules(),this.applyClassesFromColDef()},t.prototype.applyCellClassRules=function(){var e=this,r=this.column.getColDef(),i=r.cellClassRules,o=this.beans.gridOptionsService.addGridCommonParams({value:this.cellCtrl.getValue(),data:this.rowNode.data,node:this.rowNode,colDef:r,column:this.column,rowIndex:this.rowNode.rowIndex});this.beans.stylingService.processClassRules(i===this.cellClassRules?void 0:this.cellClassRules,i,o,function(a){return e.cellComp.addOrRemoveCssClass(a,!0)},function(a){return e.cellComp.addOrRemoveCssClass(a,!1)}),this.cellClassRules=i},t.prototype.applyUserStyles=function(){var e=this.column.getColDef();if(e.cellStyle){var r;if(typeof e.cellStyle=="function"){var i=this.beans.gridOptionsService.addGridCommonParams({column:this.column,value:this.cellCtrl.getValue(),colDef:e,data:this.rowNode.data,node:this.rowNode,rowIndex:this.rowNode.rowIndex}),o=e.cellStyle;r=o(i)}else r=e.cellStyle;r&&this.cellComp.setUserStyles(r)}},t.prototype.applyClassesFromColDef=function(){var e=this,r=this.column.getColDef(),i=this.beans.gridOptionsService.addGridCommonParams({value:this.cellCtrl.getValue(),data:this.rowNode.data,node:this.rowNode,column:this.column,colDef:r,rowIndex:this.rowNode.rowIndex});this.staticClasses.length&&this.staticClasses.forEach(function(o){return e.cellComp.addOrRemoveCssClass(o,!1)}),this.staticClasses=this.beans.stylingService.getStaticCellClasses(r,i),this.staticClasses.length&&this.staticClasses.forEach(function(o){return e.cellComp.addOrRemoveCssClass(o,!0)})},t.prototype.destroy=function(){n.prototype.destroy.call(this)},t}(q),tRe=function(){var n=function(t,e){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])},n(t,e)};return function(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");n(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}}(),Ma=function(n){tRe(t,n);function t(e,r){var i=n.call(this)||this;return i.ctrl=e,i.beans=r,i}return t.prototype.setComp=function(e){this.eGui=e,this.setupTooltip()},t.prototype.setBrowserTooltip=function(e){var r="title";e!=null&&e!=""?this.eGui.setAttribute(r,e):this.eGui.removeAttribute(r)},t.prototype.setupTooltip=function(){this.browserTooltips=this.beans.gridOptionsService.get("enableBrowserTooltips"),this.updateTooltipText(),this.browserTooltips?this.setBrowserTooltip(this.tooltip):this.createTooltipFeatureIfNeeded()},t.prototype.updateTooltipText=function(){this.tooltip=this.ctrl.getTooltipValue()},t.prototype.createTooltipFeatureIfNeeded=function(){var e=this,r,i,o,a;if(this.genericTooltipFeature==null){var s={getTooltipParams:function(){return e.getTooltipParams()},getGui:function(){return e.ctrl.getGui()}};this.genericTooltipFeature=this.createManagedBean(new gG(s,(i=(r=this.ctrl).getTooltipShowDelayOverride)===null||i===void 0?void 0:i.call(r),(a=(o=this.ctrl).getTooltipHideDelayOverride)===null||a===void 0?void 0:a.call(o)),this.beans.context)}},t.prototype.refreshToolTip=function(){this.updateTooltipText(),this.browserTooltips&&this.setBrowserTooltip(this.tooltip)},t.prototype.getTooltipParams=function(){var e=this,r=this.ctrl,i=r.getColumn?r.getColumn():void 0,o=r.getColDef?r.getColDef():void 0,a=r.getRowNode?r.getRowNode():void 0;return{location:r.getLocation(),colDef:o,column:i,rowIndex:r.getRowIndex?r.getRowIndex():void 0,node:a,data:a?a.data:void 0,value:this.getTooltipText(),valueFormatted:r.getValueFormatted?r.getValueFormatted():void 0,hideTooltipCallback:function(){return e.genericTooltipFeature.hideTooltip(!0)}}},t.prototype.getTooltipText=function(){return this.tooltip},t.prototype.destroy=function(){n.prototype.destroy.call(this)},t}(q),Ye=function(n,t,e,r){var i=arguments.length,o=i<3?t:r===null?r=Object.getOwnPropertyDescriptor(t,e):r,a;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(n,t,e,r);else for(var s=n.length-1;s>=0;s--)(a=n[s])&&(o=(i<3?a(o):i>3?a(t,e,o):a(t,e))||o);return i>3&&o&&Object.defineProperty(t,e,o),o},RG=function(){function n(){}return n.prototype.postConstruct=function(){this.gridOptionsService.isRowModelType("clientSide")&&(this.clientSideRowModel=this.rowModel),this.gridOptionsService.isRowModelType("serverSide")&&(this.serverSideRowModel=this.rowModel)},Ye([E("resizeObserverService")],n.prototype,"resizeObserverService",void 0),Ye([E("paginationProxy")],n.prototype,"paginationProxy",void 0),Ye([E("context")],n.prototype,"context",void 0),Ye([E("columnApi")],n.prototype,"columnApi",void 0),Ye([E("gridApi")],n.prototype,"gridApi",void 0),Ye([E("gridOptionsService")],n.prototype,"gridOptionsService",void 0),Ye([E("expressionService")],n.prototype,"expressionService",void 0),Ye([E("environment")],n.prototype,"environment",void 0),Ye([E("rowRenderer")],n.prototype,"rowRenderer",void 0),Ye([E("templateService")],n.prototype,"templateService",void 0),Ye([E("valueService")],n.prototype,"valueService",void 0),Ye([E("eventService")],n.prototype,"eventService",void 0),Ye([E("columnModel")],n.prototype,"columnModel",void 0),Ye([E("headerNavigationService")],n.prototype,"headerNavigationService",void 0),Ye([E("navigationService")],n.prototype,"navigationService",void 0),Ye([E("columnAnimationService")],n.prototype,"columnAnimationService",void 0),Ye([qe("rangeService")],n.prototype,"rangeService",void 0),Ye([E("focusService")],n.prototype,"focusService",void 0),Ye([E("popupService")],n.prototype,"popupService",void 0),Ye([E("valueFormatterService")],n.prototype,"valueFormatterService",void 0),Ye([E("stylingService")],n.prototype,"stylingService",void 0),Ye([E("columnHoverService")],n.prototype,"columnHoverService",void 0),Ye([E("userComponentFactory")],n.prototype,"userComponentFactory",void 0),Ye([E("userComponentRegistry")],n.prototype,"userComponentRegistry",void 0),Ye([E("animationFrameService")],n.prototype,"animationFrameService",void 0),Ye([E("dragService")],n.prototype,"dragService",void 0),Ye([E("dragAndDropService")],n.prototype,"dragAndDropService",void 0),Ye([E("sortController")],n.prototype,"sortController",void 0),Ye([E("filterManager")],n.prototype,"filterManager",void 0),Ye([E("rowContainerHeightService")],n.prototype,"rowContainerHeightService",void 0),Ye([E("frameworkOverrides")],n.prototype,"frameworkOverrides",void 0),Ye([E("cellPositionUtils")],n.prototype,"cellPositionUtils",void 0),Ye([E("rowPositionUtils")],n.prototype,"rowPositionUtils",void 0),Ye([E("selectionService")],n.prototype,"selectionService",void 0),Ye([qe("selectionHandleFactory")],n.prototype,"selectionHandleFactory",void 0),Ye([E("rowCssClassCalculator")],n.prototype,"rowCssClassCalculator",void 0),Ye([E("rowModel")],n.prototype,"rowModel",void 0),Ye([E("ctrlsService")],n.prototype,"ctrlsService",void 0),Ye([E("ctrlsFactory")],n.prototype,"ctrlsFactory",void 0),Ye([E("agStackComponentsRegistry")],n.prototype,"agStackComponentsRegistry",void 0),Ye([E("valueCache")],n.prototype,"valueCache",void 0),Ye([E("rowNodeEventThrottle")],n.prototype,"rowNodeEventThrottle",void 0),Ye([E("localeService")],n.prototype,"localeService",void 0),Ye([E("valueParserService")],n.prototype,"valueParserService",void 0),Ye([E("syncService")],n.prototype,"syncService",void 0),Ye([E("ariaAnnouncementService")],n.prototype,"ariaAnnouncementService",void 0),Ye([z],n.prototype,"postConstruct",null),n=Ye([ae("beans")],n),n}(),rRe=function(){var n=function(t,e){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])},n(t,e)};return function(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");n(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}}(),nRe=function(n){rRe(t,n);function t(e,r,i){var o=n.call(this)||this;return o.cellCtrl=e,o.beans=r,o.column=i,o}return t.prototype.onMouseEvent=function(e,r){if(!As(r))switch(e){case"click":this.onCellClicked(r);break;case"mousedown":case"touchstart":this.onMouseDown(r);break;case"dblclick":this.onCellDoubleClicked(r);break;case"mouseout":this.onMouseOut(r);break;case"mouseover":this.onMouseOver(r);break}},t.prototype.onCellClicked=function(e){var r=this;if(this.isDoubleClickOnIPad()){this.onCellDoubleClicked(e),e.preventDefault();return}var i=this.beans,o=i.eventService,a=i.rangeService,s=i.gridOptionsService,l=e.ctrlKey||e.metaKey;a&&l&&a.getCellRangeCount(this.cellCtrl.getCellPosition())>1&&a.intersectLastRange(!0);var u=this.cellCtrl.createEvent(e,P.EVENT_CELL_CLICKED);o.dispatchEvent(u);var c=this.column.getColDef();c.onCellClicked&&window.setTimeout(function(){r.beans.frameworkOverrides.wrapOutgoing(function(){c.onCellClicked(u)})},0);var d=(s.get("singleClickEdit")||c.singleClickEdit)&&!s.get("suppressClickEdit");d&&!(e.shiftKey&&(a==null?void 0:a.getCellRanges().length)!=0)&&this.cellCtrl.startRowOrCellEdit()},t.prototype.isDoubleClickOnIPad=function(){if(!cc()||Vk("dblclick"))return!1;var e=new Date().getTime(),r=e-this.lastIPadMouseClickEvent<200;return this.lastIPadMouseClickEvent=e,r},t.prototype.onCellDoubleClicked=function(e){var r=this,i=this.column.getColDef(),o=this.cellCtrl.createEvent(e,P.EVENT_CELL_DOUBLE_CLICKED);this.beans.eventService.dispatchEvent(o),typeof i.onCellDoubleClicked=="function"&&window.setTimeout(function(){r.beans.frameworkOverrides.wrapOutgoing(function(){i.onCellDoubleClicked(o)})},0);var a=!this.beans.gridOptionsService.get("singleClickEdit")&&!this.beans.gridOptionsService.get("suppressClickEdit");a&&this.cellCtrl.startRowOrCellEdit(null,e)},t.prototype.onMouseDown=function(e){var r=e.ctrlKey,i=e.metaKey,o=e.shiftKey,a=e.target,s=this,l=s.cellCtrl,u=s.beans,c=u.eventService,d=u.rangeService,p=u.focusService;if(!this.isRightClickInExistingRange(e)){var h=d&&d.getCellRanges().length!=0;if(!o||!h){var f=Xl()&&!l.isEditing()&&!oG(a);l.focusCell(f)}if(o&&h&&!p.isCellFocused(l.getCellPosition())){e.preventDefault();var v=p.getFocusedCell();if(v){var g=v.column,y=v.rowIndex,m=v.rowPinned,C=u.rowRenderer.getRowByPosition({rowIndex:y,rowPinned:m}),S=C==null?void 0:C.getCellCtrl(g);S!=null&&S.isEditing()&&S.stopEditing(),p.setFocusedCell({column:g,rowIndex:y,rowPinned:m,forceBrowserFocus:!0,preventScrollOnBrowserFocus:!0})}}if(!this.containsWidget(a)){if(d){var w=this.cellCtrl.getCellPosition();if(o)d.extendLatestRangeToCell(w);else{var _=r||i;d.setRangeToCell(w,_)}}c.dispatchEvent(this.cellCtrl.createEvent(e,P.EVENT_CELL_MOUSE_DOWN))}}},t.prototype.isRightClickInExistingRange=function(e){var r=this.beans.rangeService;if(r){var i=r.isCellInAnyRange(this.cellCtrl.getCellPosition()),o=e.button===2||e.ctrlKey&&this.beans.gridOptionsService.get("allowContextMenuWithControlKey");if(i&&o)return!0}return!1},t.prototype.containsWidget=function(e){return bh(e,"ag-selection-checkbox",3)},t.prototype.onMouseOut=function(e){if(!this.mouseStayingInsideCell(e)){var r=this.cellCtrl.createEvent(e,P.EVENT_CELL_MOUSE_OUT);this.beans.eventService.dispatchEvent(r),this.beans.columnHoverService.clearMouseOver()}},t.prototype.onMouseOver=function(e){if(!this.mouseStayingInsideCell(e)){var r=this.cellCtrl.createEvent(e,P.EVENT_CELL_MOUSE_OVER);this.beans.eventService.dispatchEvent(r),this.beans.columnHoverService.setMouseOver([this.column])}},t.prototype.mouseStayingInsideCell=function(e){if(!e.target||!e.relatedTarget)return!1;var r=this.cellCtrl.getGui(),i=r.contains(e.target),o=r.contains(e.relatedTarget);return i&&o},t.prototype.destroy=function(){},t}(RG),iRe=function(){var n=function(t,e){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])},n(t,e)};return function(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");n(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}}(),oRe=function(n){iRe(t,n);function t(e,r,i,o,a){var s=n.call(this)||this;return s.cellCtrl=e,s.beans=r,s.rowNode=o,s.rowCtrl=a,s}return t.prototype.setComp=function(e){this.eGui=e},t.prototype.onKeyDown=function(e){var r=e.key;switch(r){case U.ENTER:this.onEnterKeyDown(e);break;case U.F2:this.onF2KeyDown(e);break;case U.ESCAPE:this.onEscapeKeyDown(e);break;case U.TAB:this.onTabKeyDown(e);break;case U.BACKSPACE:case U.DELETE:this.onBackspaceOrDeleteKeyDown(r,e);break;case U.DOWN:case U.UP:case U.RIGHT:case U.LEFT:this.onNavigationKeyDown(e,r);break}},t.prototype.onNavigationKeyDown=function(e,r){this.cellCtrl.isEditing()||(e.shiftKey&&this.cellCtrl.isRangeSelectionEnabled()?this.onShiftRangeSelect(e):this.beans.navigationService.navigateToNextCell(e,r,this.cellCtrl.getCellPosition(),!0),e.preventDefault())},t.prototype.onShiftRangeSelect=function(e){if(this.beans.rangeService){var r=this.beans.rangeService.extendLatestRangeInDirection(e);r&&this.beans.navigationService.ensureCellVisible(r)}},t.prototype.onTabKeyDown=function(e){this.beans.navigationService.onTabKeyDown(this.cellCtrl,e)},t.prototype.onBackspaceOrDeleteKeyDown=function(e,r){var i=this,o=i.cellCtrl,a=i.beans,s=i.rowNode,l=a.gridOptionsService,u=a.rangeService,c=a.eventService;o.isEditing()||(c.dispatchEvent({type:P.EVENT_KEY_SHORTCUT_CHANGED_CELL_START}),FY(e,l.get("enableCellEditingOnBackspace"))?u&&l.get("enableRangeSelection")?u.clearCellRangeCellValues({dispatchWrapperEvents:!0,wrapperEventSource:"deleteKey"}):o.isCellEditable()&&s.setDataValue(o.getColumn(),null,"cellClear"):o.startRowOrCellEdit(e,r),c.dispatchEvent({type:P.EVENT_KEY_SHORTCUT_CHANGED_CELL_END}))},t.prototype.onEnterKeyDown=function(e){if(this.cellCtrl.isEditing()||this.rowCtrl.isEditing())this.cellCtrl.stopEditingAndFocus(!1,e.shiftKey);else if(this.beans.gridOptionsService.get("enterNavigatesVertically")){var r=e.shiftKey?U.UP:U.DOWN;this.beans.navigationService.navigateToNextCell(null,r,this.cellCtrl.getCellPosition(),!1)}else this.cellCtrl.startRowOrCellEdit(U.ENTER,e),this.cellCtrl.isEditing()&&e.preventDefault()},t.prototype.onF2KeyDown=function(e){this.cellCtrl.isEditing()||this.cellCtrl.startRowOrCellEdit(U.F2,e)},t.prototype.onEscapeKeyDown=function(e){this.cellCtrl.isEditing()&&(this.cellCtrl.stopRowOrCellEdit(!0),this.cellCtrl.focusCell(!0))},t.prototype.processCharacter=function(e){var r=e.target,i=r!==this.eGui;if(!(i||this.cellCtrl.isEditing())){var o=e.key;o===" "?this.onSpaceKeyDown(e):(this.cellCtrl.startRowOrCellEdit(o,e),e.preventDefault())}},t.prototype.onSpaceKeyDown=function(e){var r=this.beans.gridOptionsService;if(!this.cellCtrl.isEditing()&&r.isRowSelection()){var i=this.rowNode.isSelected(),o=!i;if(o||!r.get("suppressRowDeselection")){var a=this.beans.gridOptionsService.get("groupSelectsFiltered"),s=this.rowNode.setSelectedParams({newValue:o,rangeSelect:e.shiftKey,groupSelectsFiltered:a,event:e,source:"spaceKey"});i===void 0&&s===0&&this.rowNode.setSelectedParams({newValue:!1,rangeSelect:e.shiftKey,groupSelectsFiltered:a,event:e,source:"spaceKey"})}}e.preventDefault()},t.prototype.destroy=function(){n.prototype.destroy.call(this)},t}(q),aRe=function(){var n=function(t,e){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])},n(t,e)};return function(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");n(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}}(),sRe=function(n,t,e,r){var i=arguments.length,o=i<3?t:r===null?r=Object.getOwnPropertyDescriptor(t,e):r,a;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(n,t,e,r);else for(var s=n.length-1;s>=0;s--)(a=n[s])&&(o=(i<3?a(o):i>3?a(t,e,o):a(t,e))||o);return i>3&&o&&Object.defineProperty(t,e,o),o},lRe=function(n){aRe(t,n);function t(e,r,i){var o=n.call(this,'<div class="ag-drag-handle ag-row-drag" draggable="true"></div>')||this;return o.rowNode=e,o.column=r,o.eCell=i,o}return t.prototype.postConstruct=function(){var e=this.getGui();e.appendChild(Wr("rowDrag",this.gridOptionsService,null)),this.addGuiEventListener("mousedown",function(r){r.stopPropagation()}),this.addDragSource(),this.checkVisibility()},t.prototype.addDragSource=function(){this.addGuiEventListener("dragstart",this.onDragStart.bind(this))},t.prototype.onDragStart=function(e){var r=this,i=this.column.getColDef().dndSourceOnRowDrag;e.dataTransfer.setDragImage(this.eCell,0,0);var o=function(){try{var s=JSON.stringify(r.rowNode.data);e.dataTransfer.setData("application/json",s),e.dataTransfer.setData("text/plain",s)}catch{}};if(i){var a=this.gridOptionsService.addGridCommonParams({rowNode:this.rowNode,dragEvent:e});i(a)}else o()},t.prototype.checkVisibility=function(){var e=this.column.isDndSource(this.rowNode);this.setDisplayed(e)},sRe([z],t.prototype,"postConstruct",null),t}(de),uRe=function(n,t){var e=typeof Symbol=="function"&&n[Symbol.iterator];if(!e)return n;var r=e.call(n),i,o=[],a;try{for(;(t===void 0||t-- >0)&&!(i=r.next()).done;)o.push(i.value)}catch(s){a={error:s}}finally{try{i&&!i.done&&(e=r.return)&&e.call(r)}finally{if(a)throw a.error}}return o},cRe=function(n,t,e){if(e||arguments.length===2)for(var r=0,i=t.length,o;r<i;r++)(o||!(r in t))&&(o||(o=Array.prototype.slice.call(t,0,r)),o[r]=t[r]);return n.concat(o||Array.prototype.slice.call(t))},dRe="ag-column-first",pRe="ag-column-last",Jd=function(){function n(){}return n.getHeaderClassesFromColDef=function(t,e,r,i){return je(t)?[]:this.getColumnClassesFromCollDef(t.headerClass,t,e,r,i)},n.getToolPanelClassesFromColDef=function(t,e,r,i){return je(t)?[]:this.getColumnClassesFromCollDef(t.toolPanelClass,t,e,r,i)},n.refreshFirstAndLastStyles=function(t,e,r){t.addOrRemoveCssClass(dRe,r.isColumnAtEdge(e,"first")),t.addOrRemoveCssClass(pRe,r.isColumnAtEdge(e,"last"))},n.getClassParams=function(t,e,r,i){return e.addGridCommonParams({colDef:t,column:r,columnGroup:i})},n.getColumnClassesFromCollDef=function(t,e,r,i,o){if(je(t))return[];var a;if(typeof t=="function"){var s=this.getClassParams(e,r,i,o);a=t(s)}else a=t;return typeof a=="string"?[a]:Array.isArray(a)?cRe([],uRe(a),!1):[]},n}(),hRe=function(){var n=function(t,e){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])},n(t,e)};return function(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");n(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}}(),jb=function(){return jb=Object.assign||function(n){for(var t,e=1,r=arguments.length;e<r;e++){t=arguments[e];for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(n[i]=t[i])}return n},jb.apply(this,arguments)},fRe="ag-cell",vRe="ag-cell-auto-height",gRe="ag-cell-normal-height",yRe="ag-cell-focus",mRe="ag-cell-first-right-pinned",CRe="ag-cell-last-left-pinned",SRe="ag-cell-not-inline-editing",wRe="ag-column-hover",_Re="ag-cell-wrap-text",xRe=0,Iu=function(n){hRe(t,n);function t(e,r,i,o){var a=n.call(this)||this;return a.cellRangeFeature=null,a.cellPositionFeature=null,a.cellCustomStyleFeature=null,a.tooltipFeature=null,a.cellMouseListenerFeature=null,a.cellKeyboardListenerFeature=null,a.suppressRefreshCell=!1,a.onCellCompAttachedFuncs=[],a.column=e,a.rowNode=r,a.beans=i,a.rowCtrl=o,a.instanceId=e.getId()+"-"+xRe++,a.colIdSanitised=tn(a.column.getId()),i.gridOptionsService.get("suppressCellFocus")||(a.tabIndex=-1),a.createCellPosition(),a.addFeatures(),a.updateAndFormatValue(!1),a}return t.prototype.shouldRestoreFocus=function(){return this.beans.focusService.shouldRestoreFocus(this.cellPosition)},t.prototype.addFeatures=function(){var e=this;this.cellPositionFeature=new QOe(this,this.beans),this.addDestroyFunc(function(){var i;(i=e.cellPositionFeature)===null||i===void 0||i.destroy(),e.cellPositionFeature=null}),this.cellCustomStyleFeature=new eRe(this,this.beans),this.addDestroyFunc(function(){var i;(i=e.cellCustomStyleFeature)===null||i===void 0||i.destroy(),e.cellCustomStyleFeature=null}),this.cellMouseListenerFeature=new nRe(this,this.beans,this.column),this.addDestroyFunc(function(){var i;(i=e.cellMouseListenerFeature)===null||i===void 0||i.destroy(),e.cellMouseListenerFeature=null}),this.cellKeyboardListenerFeature=new oRe(this,this.beans,this.column,this.rowNode,this.rowCtrl),this.addDestroyFunc(function(){var i;(i=e.cellKeyboardListenerFeature)===null||i===void 0||i.destroy(),e.cellKeyboardListenerFeature=null}),this.column.isTooltipEnabled()&&(this.enableTooltipFeature(),this.addDestroyFunc(function(){e.disableTooltipFeature()}));var r=this.beans.rangeService&&this.beans.gridOptionsService.get("enableRangeSelection");r&&(this.cellRangeFeature=new qOe(this.beans,this),this.addDestroyFunc(function(){var i;(i=e.cellRangeFeature)===null||i===void 0||i.destroy(),e.cellRangeFeature=null}))},t.prototype.enableTooltipFeature=function(){var e=this,r=function(){var o=e.column.getColDef(),a=e.rowNode.data;if(o.tooltipField&&ce(a))return Hv(a,o.tooltipField,e.column.isTooltipFieldContainsDots());var s=o.tooltipValueGetter;return s?s(e.beans.gridOptionsService.addGridCommonParams({location:"cell",colDef:e.column.getColDef(),column:e.column,rowIndex:e.cellPosition.rowIndex,node:e.rowNode,data:e.rowNode.data,value:e.value,valueFormatted:e.valueFormatted})):null},i={getColumn:function(){return e.column},getColDef:function(){return e.column.getColDef()},getRowIndex:function(){return e.cellPosition.rowIndex},getRowNode:function(){return e.rowNode},getGui:function(){return e.getGui()},getLocation:function(){return"cell"},getTooltipValue:r,getValueFormatted:function(){return e.valueFormatted}};this.tooltipFeature=new Ma(i,this.beans)},t.prototype.disableTooltipFeature=function(){this.tooltipFeature&&(this.tooltipFeature.destroy(),this.tooltipFeature=null)},t.prototype.setComp=function(e,r,i,o,a){var s,l,u,c;this.cellComp=e,this.eGui=r,this.printLayout=o,this.addDomData(),this.onCellFocused(this.focusEventToRestore),this.applyStaticCssClasses(),this.setWrapText(),this.onFirstRightPinnedChanged(),this.onLastLeftPinnedChanged(),this.onColumnHover(),this.setupControlComps(),this.setupAutoHeight(i),this.refreshFirstAndLastStyles(),this.refreshAriaColIndex(),(s=this.cellPositionFeature)===null||s===void 0||s.setComp(r),(l=this.cellCustomStyleFeature)===null||l===void 0||l.setComp(e),(u=this.tooltipFeature)===null||u===void 0||u.setComp(r),(c=this.cellKeyboardListenerFeature)===null||c===void 0||c.setComp(this.eGui),this.cellRangeFeature&&this.cellRangeFeature.setComp(e,r),a&&this.isCellEditable()?this.startEditing():this.showValue(),this.onCellCompAttachedFuncs.length&&(this.onCellCompAttachedFuncs.forEach(function(d){return d()}),this.onCellCompAttachedFuncs=[])},t.prototype.setupAutoHeight=function(e){var r=this;if(this.isAutoHeight=this.column.isAutoHeight(),!(!this.isAutoHeight||!e)){var i=e.parentElement,o=this.beans.gridOptionsService.getRowHeightForNode(this.rowNode).height,a=function(u){if(!r.editing&&r.isAlive()){var c=Qd(i),d=c.paddingTop,p=c.paddingBottom,h=c.borderBottomWidth,f=c.borderTopWidth,v=d+p+h+f,g=e.offsetHeight,y=g+v;if(u<5){var m=r.beans.gridOptionsService.getDocument(),C=!m||!m.contains(e),S=y==0;if(C||S){window.setTimeout(function(){return a(u+1)},0);return}}var w=Math.max(y,o);r.rowNode.setRowAutoHeight(w,r.column)}},s=function(){return a(0)};s();var l=this.beans.resizeObserverService.observeResize(e,s);this.addDestroyFunc(function(){l(),r.rowNode.setRowAutoHeight(void 0,r.column)})}},t.prototype.getCellAriaRole=function(){var e;return(e=this.column.getColDef().cellAriaRole)!==null&&e!==void 0?e:"gridcell"},t.prototype.getInstanceId=function(){return this.instanceId},t.prototype.getIncludeSelection=function(){return this.includeSelection},t.prototype.getIncludeRowDrag=function(){return this.includeRowDrag},t.prototype.getIncludeDndSource=function(){return this.includeDndSource},t.prototype.getColumnIdSanitised=function(){return this.colIdSanitised},t.prototype.getTabIndex=function(){return this.tabIndex},t.prototype.isCellRenderer=function(){var e=this.column.getColDef();return e.cellRenderer!=null||e.cellRendererSelector!=null},t.prototype.getValueToDisplay=function(){return this.valueFormatted!=null?this.valueFormatted:this.value},t.prototype.showValue=function(e){e===void 0&&(e=!1);var r=this.getValueToDisplay(),i;if(this.isCellRenderer()){var o=this.createCellRendererParams();i=this.beans.userComponentFactory.getCellRendererDetails(this.column.getColDef(),o)}this.cellComp.setRenderDetails(i,r,e),this.refreshHandle()},t.prototype.setupControlComps=function(){var e=this.column.getColDef();this.includeSelection=this.isIncludeControl(e.checkboxSelection),this.includeRowDrag=this.isIncludeControl(e.rowDrag),this.includeDndSource=this.isIncludeControl(e.dndSource),this.cellComp.setIncludeSelection(this.includeSelection),this.cellComp.setIncludeDndSource(this.includeDndSource),this.cellComp.setIncludeRowDrag(this.includeRowDrag)},t.prototype.isForceWrapper=function(){var e=this.beans.gridOptionsService.get("enableCellTextSelection")||this.column.isAutoHeight();return e},t.prototype.isIncludeControl=function(e){var r=this.rowNode.rowPinned!=null,i=typeof e=="function",o=r?!1:i||e===!0;return o},t.prototype.refreshShouldDestroy=function(){var e=this.column.getColDef(),r=this.includeSelection!=this.isIncludeControl(e.checkboxSelection),i=this.includeRowDrag!=this.isIncludeControl(e.rowDrag),o=this.includeDndSource!=this.isIncludeControl(e.dndSource);return r||i||o},t.prototype.startEditing=function(e,r,i){var o=this;if(e===void 0&&(e=null),r===void 0&&(r=!1),i===void 0&&(i=null),!(!this.isCellEditable()||this.editing)){if(!this.cellComp){this.onCellCompAttachedFuncs.push(function(){o.startEditing(e,r,i)});return}var a=this.createCellEditorParams(e,r),s=this.column.getColDef(),l=this.beans.userComponentFactory.getCellEditorDetails(s,a);this.editCompDetails=l;var u=(l==null?void 0:l.popupFromSelector)!=null?l.popupFromSelector:!!s.cellEditorPopup,c=(l==null?void 0:l.popupPositionFromSelector)!=null?l.popupPositionFromSelector:s.cellEditorPopupPosition;this.setEditing(!0),this.cellComp.setEditDetails(l,u,c,this.beans.gridOptionsService.get("reactiveCustomComponents"));var d=this.createEvent(i,P.EVENT_CELL_EDITING_STARTED);this.beans.eventService.dispatchEvent(d)}},t.prototype.setEditing=function(e){this.editing!==e&&(this.editing=e,this.refreshHandle())},t.prototype.stopRowOrCellEdit=function(e){e===void 0&&(e=!1),this.beans.gridOptionsService.get("editType")==="fullRow"?this.rowCtrl.stopEditing(e):this.stopEditing(e)},t.prototype.onPopupEditorClosed=function(){this.isEditing()&&this.stopEditingAndFocus()},t.prototype.takeValueFromCellEditor=function(e){var r={newValueExists:!1};if(e)return r;var i=this.cellComp.getCellEditor();if(!i)return r;var o=i.isCancelAfterEnd&&i.isCancelAfterEnd();if(o)return r;var a=i.getValue();return{newValue:a,newValueExists:!0}},t.prototype.saveNewValue=function(e,r){if(r===e)return!1;this.suppressRefreshCell=!0;var i=this.rowNode.setDataValue(this.column,r,"edit");return this.suppressRefreshCell=!1,i},t.prototype.stopEditing=function(e){if(e===void 0&&(e=!1),!this.editing)return!1;var r=this.takeValueFromCellEditor(e),i=r.newValue,o=r.newValueExists,a=this.rowNode.getValueFromValueService(this.column),s=!1;return o&&(s=this.saveNewValue(a,i)),this.setEditing(!1),this.cellComp.setEditDetails(),this.editCompDetails=void 0,this.updateAndFormatValue(!1),this.refreshCell({forceRefresh:!0,suppressFlash:!0}),this.dispatchEditingStoppedEvent(a,i,!e&&!!s),s},t.prototype.dispatchEditingStoppedEvent=function(e,r,i){var o=jb(jb({},this.createEvent(null,P.EVENT_CELL_EDITING_STOPPED)),{oldValue:e,newValue:r,valueChanged:i});this.beans.eventService.dispatchEvent(o)},t.prototype.createCellEditorParams=function(e,r){return this.beans.gridOptionsService.addGridCommonParams({value:this.rowNode.getValueFromValueService(this.column),eventKey:e,column:this.column,colDef:this.column.getColDef(),rowIndex:this.getCellPosition().rowIndex,node:this.rowNode,data:this.rowNode.data,cellStartedEdit:r,onKeyDown:this.onKeyDown.bind(this),stopEditing:this.stopEditingAndFocus.bind(this),eGridCell:this.getGui(),parseValue:this.parseValue.bind(this),formatValue:this.formatValue.bind(this)})},t.prototype.createCellRendererParams=function(){var e=this,r=this.beans.gridOptionsService.addGridCommonParams({value:this.value,valueFormatted:this.valueFormatted,getValue:function(){return e.rowNode.getValueFromValueService(e.column)},setValue:function(i){return e.beans.valueService.setValue(e.rowNode,e.column,i)},formatValue:this.formatValue.bind(this),data:this.rowNode.data,node:this.rowNode,pinned:this.column.getPinned(),colDef:this.column.getColDef(),column:this.column,rowIndex:this.getCellPosition().rowIndex,refreshCell:this.refreshCell.bind(this),eGridCell:this.getGui(),eParentOfValue:this.cellComp.getParentOfValue(),registerRowDragger:function(i,o,a,s){return e.registerRowDragger(i,o,s)}});return r},t.prototype.parseValue=function(e){return this.beans.valueParserService.parseValue(this.column,this.rowNode,e,this.getValue())},t.prototype.setFocusOutOnEditor=function(){if(this.editing){var e=this.cellComp.getCellEditor();e&&e.focusOut&&e.focusOut()}},t.prototype.setFocusInOnEditor=function(){if(this.editing){var e=this.cellComp.getCellEditor();e&&e.focusIn?e.focusIn():this.focusCell(!0)}},t.prototype.onCellChanged=function(e){var r=e.column===this.column;r&&this.refreshCell({})},t.prototype.refreshOrDestroyCell=function(e){var r;this.refreshShouldDestroy()?(r=this.rowCtrl)===null||r===void 0||r.refreshCell(this):this.refreshCell(e)},t.prototype.refreshCell=function(e){var r,i,o;if(!(this.suppressRefreshCell||this.editing)){var a=this.column.getColDef(),s=e!=null&&!!e.newData,l=e!=null&&!!e.suppressFlash||!!a.suppressCellFlash,u=a.field==null&&a.valueGetter==null&&a.showRowGroup==null,c=e&&e.forceRefresh||u||s,d=!!this.cellComp,p=this.updateAndFormatValue(d),h=c||p;if(d){if(h){this.showValue(s);var f=this.beans.filterManager.isSuppressFlashingCellsBecauseFiltering(),v=!l&&!f&&(this.beans.gridOptionsService.get("enableCellChangeFlash")||a.enableCellChangeFlash);v&&this.flashCell(),(r=this.cellCustomStyleFeature)===null||r===void 0||r.applyUserStyles(),(i=this.cellCustomStyleFeature)===null||i===void 0||i.applyClassesFromColDef()}this.refreshToolTip(),(o=this.cellCustomStyleFeature)===null||o===void 0||o.applyCellClassRules()}}},t.prototype.stopEditingAndFocus=function(e,r){e===void 0&&(e=!1),r===void 0&&(r=!1),this.stopRowOrCellEdit(),this.focusCell(!0),e||this.navigateAfterEdit(r)},t.prototype.navigateAfterEdit=function(e){var r=this.beans.gridOptionsService.get("enterNavigatesVerticallyAfterEdit");if(r){var i=e?U.UP:U.DOWN;this.beans.navigationService.navigateToNextCell(null,i,this.getCellPosition(),!1)}},t.prototype.flashCell=function(e){var r,i,o=(r=e==null?void 0:e.flashDuration)!==null&&r!==void 0?r:e==null?void 0:e.flashDelay,a=(i=e==null?void 0:e.fadeDuration)!==null&&i!==void 0?i:e==null?void 0:e.fadeDelay;this.animateCell("data-changed",o,a)},t.prototype.animateCell=function(e,r,i){var o=this;if(this.cellComp){var a="ag-cell-".concat(e),s="ag-cell-".concat(e,"-animation"),l=this.beans.gridOptionsService;r||(r=l.get("cellFlashDuration")),ce(i)||(i=l.get("cellFadeDuration")),this.cellComp.addOrRemoveCssClass(a,!0),this.cellComp.addOrRemoveCssClass(s,!1),this.beans.frameworkOverrides.wrapIncoming(function(){window.setTimeout(function(){o.isAlive()&&(o.cellComp.addOrRemoveCssClass(a,!1),o.cellComp.addOrRemoveCssClass(s,!0),o.eGui.style.transition="background-color ".concat(i,"ms"),window.setTimeout(function(){o.isAlive()&&(o.cellComp.addOrRemoveCssClass(s,!1),o.eGui.style.transition="")},i))},r)})}},t.prototype.onFlashCells=function(e){if(this.cellComp){var r=this.beans.cellPositionUtils.createId(this.getCellPosition()),i=e.cells[r];i&&this.animateCell("highlight")}},t.prototype.isCellEditable=function(){return this.column.isCellEditable(this.rowNode)},t.prototype.isSuppressFillHandle=function(){return this.column.isSuppressFillHandle()},t.prototype.formatValue=function(e){var r;return(r=this.callValueFormatter(e))!==null&&r!==void 0?r:e},t.prototype.callValueFormatter=function(e){return this.beans.valueFormatterService.formatValue(this.column,this.rowNode,e)},t.prototype.updateAndFormatValue=function(e){var r=this.value,i=this.valueFormatted;return this.value=this.rowNode.getValueFromValueService(this.column),this.valueFormatted=this.callValueFormatter(this.value),e?!this.valuesAreEqual(r,this.value)||this.valueFormatted!=i:!0},t.prototype.valuesAreEqual=function(e,r){var i=this.column.getColDef();return i.equals?i.equals(e,r):e===r},t.prototype.getComp=function(){return this.cellComp},t.prototype.getValue=function(){return this.value},t.prototype.getValueFormatted=function(){return this.valueFormatted},t.prototype.addDomData=function(){var e=this,r=this.getGui();this.beans.gridOptionsService.setDomData(r,t.DOM_DATA_KEY_CELL_CTRL,this),this.addDestroyFunc(function(){return e.beans.gridOptionsService.setDomData(r,t.DOM_DATA_KEY_CELL_CTRL,null)})},t.prototype.createEvent=function(e,r){var i=this.beans.gridOptionsService.addGridCommonParams({type:r,node:this.rowNode,data:this.rowNode.data,value:this.value,column:this.column,colDef:this.column.getColDef(),rowPinned:this.rowNode.rowPinned,event:e,rowIndex:this.rowNode.rowIndex});return i},t.prototype.processCharacter=function(e){var r;(r=this.cellKeyboardListenerFeature)===null||r===void 0||r.processCharacter(e)},t.prototype.onKeyDown=function(e){var r;(r=this.cellKeyboardListenerFeature)===null||r===void 0||r.onKeyDown(e)},t.prototype.onMouseEvent=function(e,r){var i;(i=this.cellMouseListenerFeature)===null||i===void 0||i.onMouseEvent(e,r)},t.prototype.getGui=function(){return this.eGui},t.prototype.refreshToolTip=function(){var e;(e=this.tooltipFeature)===null||e===void 0||e.refreshToolTip()},t.prototype.getColSpanningList=function(){return this.cellPositionFeature.getColSpanningList()},t.prototype.onLeftChanged=function(){var e;this.cellComp&&((e=this.cellPositionFeature)===null||e===void 0||e.onLeftChanged())},t.prototype.onDisplayedColumnsChanged=function(){this.eGui&&(this.refreshAriaColIndex(),this.refreshFirstAndLastStyles())},t.prototype.refreshFirstAndLastStyles=function(){var e=this,r=e.cellComp,i=e.column,o=e.beans;Jd.refreshFirstAndLastStyles(r,i,o.columnModel)},t.prototype.refreshAriaColIndex=function(){var e=this.beans.columnModel.getAriaColumnIndex(this.column);Xk(this.getGui(),e)},t.prototype.isSuppressNavigable=function(){return this.column.isSuppressNavigable(this.rowNode)},t.prototype.onWidthChanged=function(){var e;return(e=this.cellPositionFeature)===null||e===void 0?void 0:e.onWidthChanged()},t.prototype.getColumn=function(){return this.column},t.prototype.getRowNode=function(){return this.rowNode},t.prototype.getBeans=function(){return this.beans},t.prototype.isPrintLayout=function(){return this.printLayout},t.prototype.appendChild=function(e){this.eGui.appendChild(e)},t.prototype.refreshHandle=function(){this.cellRangeFeature&&this.cellRangeFeature.refreshHandle()},t.prototype.getCellPosition=function(){return this.cellPosition},t.prototype.isEditing=function(){return this.editing},t.prototype.startRowOrCellEdit=function(e,r){var i=this;if(r===void 0&&(r=null),!this.cellComp){this.onCellCompAttachedFuncs.push(function(){i.startRowOrCellEdit(e,r)});return}this.beans.gridOptionsService.get("editType")==="fullRow"?this.rowCtrl.startRowEditing(e,this):this.startEditing(e,!0,r)},t.prototype.getRowCtrl=function(){return this.rowCtrl},t.prototype.getRowPosition=function(){return{rowIndex:this.cellPosition.rowIndex,rowPinned:this.cellPosition.rowPinned}},t.prototype.updateRangeBordersIfRangeCount=function(){this.cellComp&&this.cellRangeFeature&&this.cellRangeFeature.updateRangeBordersIfRangeCount()},t.prototype.onRangeSelectionChanged=function(){this.cellComp&&this.cellRangeFeature&&this.cellRangeFeature.onRangeSelectionChanged()},t.prototype.isRangeSelectionEnabled=function(){return this.cellRangeFeature!=null},t.prototype.focusCell=function(e){e===void 0&&(e=!1),this.beans.focusService.setFocusedCell({rowIndex:this.getCellPosition().rowIndex,column:this.column,rowPinned:this.rowNode.rowPinned,forceBrowserFocus:e})},t.prototype.onRowIndexChanged=function(){this.createCellPosition(),this.onCellFocused(),this.cellRangeFeature&&this.cellRangeFeature.onRangeSelectionChanged()},t.prototype.onFirstRightPinnedChanged=function(){if(this.cellComp){var e=this.column.isFirstRightPinned();this.cellComp.addOrRemoveCssClass(mRe,e)}},t.prototype.onLastLeftPinnedChanged=function(){if(this.cellComp){var e=this.column.isLastLeftPinned();this.cellComp.addOrRemoveCssClass(CRe,e)}},t.prototype.onCellFocused=function(e){if(!this.beans.gridOptionsService.get("suppressCellFocus")){var r=this.beans.focusService.isCellFocused(this.cellPosition);if(!this.cellComp){r&&(e!=null&&e.forceBrowserFocus)&&(this.focusEventToRestore=e);return}if(this.focusEventToRestore=void 0,this.cellComp.addOrRemoveCssClass(yRe,r),r&&e&&e.forceBrowserFocus){var i=this.cellComp.getFocusableElement();i.focus({preventScroll:!!e.preventScrollOnBrowserFocus})}var o=this.beans.gridOptionsService.get("editType")==="fullRow";!r&&!o&&this.editing&&this.stopRowOrCellEdit(),r&&this.rowCtrl.announceDescription()}},t.prototype.createCellPosition=function(){this.cellPosition={rowIndex:this.rowNode.rowIndex,rowPinned:jl(this.rowNode.rowPinned),column:this.column}},t.prototype.applyStaticCssClasses=function(){this.cellComp.addOrRemoveCssClass(fRe,!0),this.cellComp.addOrRemoveCssClass(SRe,!0);var e=this.column.isAutoHeight()==!0;this.cellComp.addOrRemoveCssClass(vRe,e),this.cellComp.addOrRemoveCssClass(gRe,!e)},t.prototype.onColumnHover=function(){if(this.cellComp&&this.beans.gridOptionsService.get("columnHoverHighlight")){var e=this.beans.columnHoverService.isHovered(this.column);this.cellComp.addOrRemoveCssClass(wRe,e)}},t.prototype.onColDefChanged=function(){var e,r;if(this.cellComp){var i=this.column.isAutoHeight();i!==this.isAutoHeight&&((e=this.rowCtrl)===null||e===void 0||e.refreshCell(this));var o=this.column.isTooltipEnabled();if(o?(this.disableTooltipFeature(),this.enableTooltipFeature(),(r=this.tooltipFeature)===null||r===void 0||r.setComp(this.eGui)):this.disableTooltipFeature(),this.setWrapText(),!this.editing)this.refreshOrDestroyCell({forceRefresh:!0,suppressFlash:!0});else{var a=this.getCellEditor();if(a!=null&&a.refresh){var s=this.editCompDetails.params,l=s.eventKey,u=s.cellStartedEdit,c=this.createCellEditorParams(l,u),d=this.column.getColDef(),p=this.beans.userComponentFactory.getCellEditorDetails(d,c);a.refresh(p.params)}}}},t.prototype.setWrapText=function(){var e=this.column.getColDef().wrapText==!0;this.cellComp.addOrRemoveCssClass(_Re,e)},t.prototype.dispatchCellContextMenuEvent=function(e){var r=this,i=this.column.getColDef(),o=this.createEvent(e,P.EVENT_CELL_CONTEXT_MENU);this.beans.eventService.dispatchEvent(o),i.onCellContextMenu&&window.setTimeout(function(){r.beans.frameworkOverrides.wrapOutgoing(function(){i.onCellContextMenu(o)})},0)},t.prototype.getCellRenderer=function(){return this.cellComp?this.cellComp.getCellRenderer():null},t.prototype.getCellEditor=function(){return this.cellComp?this.cellComp.getCellEditor():null},t.prototype.destroy=function(){this.onCellCompAttachedFuncs=[],n.prototype.destroy.call(this)},t.prototype.createSelectionCheckbox=function(){var e=new wG;return this.beans.context.createBean(e),e.init({rowNode:this.rowNode,column:this.column}),e},t.prototype.createDndSource=function(){var e=new lRe(this.rowNode,this.column,this.eGui);return this.beans.context.createBean(e),e},t.prototype.registerRowDragger=function(e,r,i){var o=this;if(this.customRowDragComp){this.customRowDragComp.setDragElement(e,r);return}var a=this.createRowDragComp(e,r,i);a&&(this.customRowDragComp=a,this.addDestroyFunc(function(){o.beans.context.destroyBean(a),o.customRowDragComp=null}))},t.prototype.createRowDragComp=function(e,r,i){var o=this,a=this.beans.gridOptionsService.get("pagination"),s=this.beans.gridOptionsService.get("rowDragManaged"),l=this.beans.gridOptionsService.isRowModelType("clientSide");if(s){if(!l){Le("managed row dragging is only allowed in the Client Side Row Model");return}if(a){Le("managed row dragging is not possible when doing pagination");return}}var u=new Vb(function(){return o.value},this.rowNode,this.column,e,r,i);return this.beans.context.createBean(u),u},t.DOM_DATA_KEY_CELL_CTRL="cellCtrl",t}(q),ERe=function(){var n=function(t,e){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])},n(t,e)};return function(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");n(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}}(),bRe=function(n){var t=typeof Symbol=="function"&&Symbol.iterator,e=t&&n[t],r=0;if(e)return e.call(n);if(n&&typeof n.length=="number")return{next:function(){return n&&r>=n.length&&(n=void 0),{value:n&&n[r++],done:!n}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")},ZA=function(n,t){var e=typeof Symbol=="function"&&n[Symbol.iterator];if(!e)return n;var r=e.call(n),i,o=[],a;try{for(;(t===void 0||t-- >0)&&!(i=r.next()).done;)o.push(i.value)}catch(s){a={error:s}}finally{try{i&&!i.done&&(e=r.return)&&e.call(r)}finally{if(a)throw a.error}}return o},QA=function(n,t,e){if(e||arguments.length===2)for(var r=0,i=t.length,o;r<i;r++)(o||!(r in t))&&(o||(o=Array.prototype.slice.call(t,0,r)),o[r]=t[r]);return n.concat(o||Array.prototype.slice.call(t))},zi;(function(n){n.Normal="Normal",n.FullWidth="FullWidth",n.FullWidthLoading="FullWidthLoading",n.FullWidthGroup="FullWidthGroup",n.FullWidthDetail="FullWidthDetail"})(zi||(zi={}));var ORe=0,Td=function(n){ERe(t,n);function t(e,r,i,o,a){var s=n.call(this)||this;return s.allRowGuis=[],s.active=!0,s.centerCellCtrls={list:[],map:{}},s.leftCellCtrls={list:[],map:{}},s.rightCellCtrls={list:[],map:{}},s.slideInAnimation={left:!1,center:!1,right:!1,fullWidth:!1},s.fadeInAnimation={left:!1,center:!1,right:!1,fullWidth:!1},s.rowDragComps=[],s.lastMouseDownOnDragger=!1,s.emptyStyle={},s.updateColumnListsPending=!1,s.rowId=null,s.businessKeySanitised=null,s.beans=r,s.gridOptionsService=r.gridOptionsService,s.rowNode=e,s.paginationPage=r.paginationProxy.getCurrentPage(),s.useAnimationFrameForCreate=o,s.printLayout=a,s.suppressRowTransform=s.gridOptionsService.get("suppressRowTransform"),s.instanceId=e.id+"-"+ORe++,s.rowId=tn(e.id),s.initRowBusinessKey(),s.rowFocused=r.focusService.isRowFocused(s.rowNode.rowIndex,s.rowNode.rowPinned),s.rowLevel=r.rowCssClassCalculator.calculateRowLevel(s.rowNode),s.setRowType(),s.setAnimateFlags(i),s.rowStyles=s.processStylesFromGridOptions(),s.isFullWidth()&&!s.gridOptionsService.get("suppressCellFocus")&&(s.tabIndex=-1),s.addListeners(),s}return t.prototype.initRowBusinessKey=function(){this.businessKeyForNodeFunc=this.gridOptionsService.get("getBusinessKeyForNode"),this.updateRowBusinessKey()},t.prototype.updateRowBusinessKey=function(){if(typeof this.businessKeyForNodeFunc=="function"){var e=this.businessKeyForNodeFunc(this.rowNode);this.businessKeySanitised=tn(e)}},t.prototype.getRowId=function(){return this.rowId},t.prototype.getRowStyles=function(){return this.rowStyles},t.prototype.getTabIndex=function(){return this.tabIndex},t.prototype.isSticky=function(){return this.rowNode.sticky},t.prototype.getBeans=function(){return this.beans},t.prototype.getInstanceId=function(){return this.instanceId},t.prototype.setComp=function(e,r,i){var o={rowComp:e,element:r,containerType:i};this.allRowGuis.push(o),i===qr.LEFT?this.leftGui=o:i===qr.RIGHT?this.rightGui=o:i===qr.FULL_WIDTH?this.fullWidthGui=o:this.centerGui=o,this.initialiseRowComp(o),this.rowType!=="FullWidthLoading"&&!this.rowNode.rowPinned&&this.beans.rowRenderer.dispatchFirstDataRenderedEvent()},t.prototype.unsetComp=function(e){switch(this.allRowGuis=this.allRowGuis.filter(function(r){return r.containerType!==e}),e){case qr.LEFT:this.leftGui=void 0;break;case qr.RIGHT:this.rightGui=void 0;break;case qr.FULL_WIDTH:this.fullWidthGui=void 0;break;case qr.CENTER:this.centerGui=void 0;break}},t.prototype.isCacheable=function(){return this.rowType===zi.FullWidthDetail&&this.gridOptionsService.get("keepDetailRows")},t.prototype.setCached=function(e){var r=e?"none":"";this.allRowGuis.forEach(function(i){return i.element.style.display=r})},t.prototype.initialiseRowComp=function(e){var r=this,i=this.gridOptionsService;this.listenOnDomOrder(e),this.beans.columnModel.wasAutoRowHeightEverActive()&&this.rowNode.checkAutoHeights(),this.onRowHeightChanged(e),this.updateRowIndexes(e),this.setFocusedClasses(e),this.setStylesFromGridOptions(!1,e),i.isRowSelection()&&this.rowNode.selectable&&this.onRowSelected(e),this.updateColumnLists(!this.useAnimationFrameForCreate);var o=e.rowComp,a=this.getInitialRowClasses(e.containerType);a.forEach(function(s){return o.addOrRemoveCssClass(s,!0)}),this.executeSlideAndFadeAnimations(e),this.rowNode.group&&Ju(e.element,this.rowNode.expanded==!0),this.setRowCompRowId(o),this.setRowCompRowBusinessKey(o),i.setDomData(e.element,t.DOM_DATA_KEY_ROW_CTRL,this),this.addDestroyFunc(function(){return i.setDomData(e.element,t.DOM_DATA_KEY_ROW_CTRL,null)}),this.useAnimationFrameForCreate?this.beans.animationFrameService.createTask(this.addHoverFunctionality.bind(this,e.element),this.rowNode.rowIndex,"createTasksP2"):this.addHoverFunctionality(e.element),this.isFullWidth()&&this.setupFullWidth(e),i.get("rowDragEntireRow")&&this.addRowDraggerToRow(e),this.useAnimationFrameForCreate&&this.beans.animationFrameService.addDestroyTask(function(){r.isAlive()&&e.rowComp.addOrRemoveCssClass("ag-after-created",!0)}),this.executeProcessRowPostCreateFunc()},t.prototype.setRowCompRowBusinessKey=function(e){this.businessKeySanitised!=null&&e.setRowBusinessKey(this.businessKeySanitised)},t.prototype.getBusinessKey=function(){return this.businessKeySanitised},t.prototype.setRowCompRowId=function(e){this.rowId=tn(this.rowNode.id),this.rowId!=null&&e.setRowId(this.rowId)},t.prototype.executeSlideAndFadeAnimations=function(e){var r=this,i=e.containerType,o=this.slideInAnimation[i];o&&(yL(function(){r.onTopChanged()}),this.slideInAnimation[i]=!1);var a=this.fadeInAnimation[i];a&&(yL(function(){e.rowComp.addOrRemoveCssClass("ag-opacity-zero",!1)}),this.fadeInAnimation[i]=!1)},t.prototype.addRowDraggerToRow=function(e){if(this.gridOptionsService.get("enableRangeSelection")){Le("Setting `rowDragEntireRow: true` in the gridOptions doesn't work with `enableRangeSelection: true`");return}var r=this.beans.localeService.getLocaleTextFunc(),i=new Vb(function(){return"1 ".concat(r("rowDragRow","row"))},this.rowNode,void 0,e.element,void 0,!0),o=this.createBean(i,this.beans.context);this.rowDragComps.push(o)},t.prototype.setupFullWidth=function(e){var r=this.getPinnedForContainer(e.containerType),i=this.createFullWidthParams(e.element,r);if(!(this.rowType==zi.FullWidthDetail&&!ke.__assertRegistered(fe.MasterDetailModule,"cell renderer 'agDetailCellRenderer' (for master detail)",this.beans.context.getGridId()))){var o;switch(this.rowType){case zi.FullWidthDetail:o=this.beans.userComponentFactory.getFullWidthDetailCellRendererDetails(i);break;case zi.FullWidthGroup:o=this.beans.userComponentFactory.getFullWidthGroupCellRendererDetails(i);break;case zi.FullWidthLoading:o=this.beans.userComponentFactory.getFullWidthLoadingCellRendererDetails(i);break;default:o=this.beans.userComponentFactory.getFullWidthCellRendererDetails(i);break}e.rowComp.showFullWidth(o)}},t.prototype.isPrintLayout=function(){return this.printLayout},t.prototype.getFullWidthCellRenderers=function(){var e,r;return this.gridOptionsService.get("embedFullWidthRows")?this.allRowGuis.map(function(i){var o;return(o=i==null?void 0:i.rowComp)===null||o===void 0?void 0:o.getFullWidthCellRenderer()}):[(r=(e=this.fullWidthGui)===null||e===void 0?void 0:e.rowComp)===null||r===void 0?void 0:r.getFullWidthCellRenderer()]},t.prototype.getCellElement=function(e){var r=this.getCellCtrl(e);return r?r.getGui():null},t.prototype.executeProcessRowPostCreateFunc=function(){var e=this.gridOptionsService.getCallback("processRowPostCreate");if(!(!e||!this.areAllContainersReady())){var r={eRow:this.centerGui.element,ePinnedLeftRow:this.leftGui?this.leftGui.element:void 0,ePinnedRightRow:this.rightGui?this.rightGui.element:void 0,node:this.rowNode,rowIndex:this.rowNode.rowIndex,addRenderedRowListener:this.addEventListener.bind(this)};e(r)}},t.prototype.areAllContainersReady=function(){var e=!!this.leftGui||!this.beans.columnModel.isPinningLeft(),r=!!this.centerGui,i=!!this.rightGui||!this.beans.columnModel.isPinningRight();return e&&r&&i},t.prototype.setRowType=function(){var e=this.rowNode.stub,r=this.rowNode.isFullWidthCell(),i=this.gridOptionsService.get("masterDetail")&&this.rowNode.detail,o=this.beans.columnModel.isPivotMode(),a=!!this.rowNode.group&&!this.rowNode.footer,s=a&&this.gridOptionsService.isGroupUseEntireRow(o);e?this.rowType=zi.FullWidthLoading:i?this.rowType=zi.FullWidthDetail:r?this.rowType=zi.FullWidth:s?this.rowType=zi.FullWidthGroup:this.rowType=zi.Normal},t.prototype.updateColumnLists=function(e,r){var i=this;if(e===void 0&&(e=!1),r===void 0&&(r=!1),!this.isFullWidth()){var o=e||this.gridOptionsService.get("suppressAnimationFrame")||this.printLayout;if(o){this.updateColumnListsImpl(r);return}this.updateColumnListsPending||(this.beans.animationFrameService.createTask(function(){i.active&&i.updateColumnListsImpl(!0)},this.rowNode.rowIndex,"createTasksP1"),this.updateColumnListsPending=!0)}},t.prototype.createCellCtrls=function(e,r,i){var o=this;i===void 0&&(i=null);var a={list:[],map:{}},s=function(l,u){a.list.push(u),a.map[l]=u};return r.forEach(function(l){var u=l.getInstanceId(),c=e.map[u];c||(c=new Iu(l,o.rowNode,o.beans,o)),s(u,c)}),e.list.forEach(function(l){var u=a.map[l.getColumn().getInstanceId()]!=null;if(!u){var c=!o.isCellEligibleToBeRemoved(l,i);if(c){s(l.getColumn().getInstanceId(),l);return}l.destroy()}}),a},t.prototype.updateColumnListsImpl=function(e){this.updateColumnListsPending=!1,this.createAllCellCtrls(),this.setCellCtrls(e)},t.prototype.setCellCtrls=function(e){var r=this;this.allRowGuis.forEach(function(i){var o=r.getCellCtrlsForContainer(i.containerType);i.rowComp.setCellCtrls(o,e)})},t.prototype.getCellCtrlsForContainer=function(e){switch(e){case qr.LEFT:return this.leftCellCtrls.list;case qr.RIGHT:return this.rightCellCtrls.list;case qr.FULL_WIDTH:return[];case qr.CENTER:return this.centerCellCtrls.list;default:var r=e;throw new Error("Unhandled case: ".concat(r))}},t.prototype.createAllCellCtrls=function(){var e=this.beans.columnModel;if(this.printLayout)this.centerCellCtrls=this.createCellCtrls(this.centerCellCtrls,e.getAllDisplayedColumns()),this.leftCellCtrls={list:[],map:{}},this.rightCellCtrls={list:[],map:{}};else{var r=e.getViewportCenterColumnsForRow(this.rowNode);this.centerCellCtrls=this.createCellCtrls(this.centerCellCtrls,r);var i=e.getDisplayedLeftColumnsForRow(this.rowNode);this.leftCellCtrls=this.createCellCtrls(this.leftCellCtrls,i,"left");var o=e.getDisplayedRightColumnsForRow(this.rowNode);this.rightCellCtrls=this.createCellCtrls(this.rightCellCtrls,o,"right")}},t.prototype.isCellEligibleToBeRemoved=function(e,r){var i=!0,o=!1,a=e.getColumn();if(a.getPinned()!=r)return i;var s=e.isEditing(),l=this.beans.focusService.isCellFocused(e.getCellPosition()),u=s||l;if(u){var c=e.getColumn(),d=this.beans.columnModel.getAllDisplayedColumns(),p=d.indexOf(c)>=0;return p?o:i}return i},t.prototype.getDomOrder=function(){var e=this.gridOptionsService.get("ensureDomOrder");return e||this.gridOptionsService.isDomLayout("print")},t.prototype.listenOnDomOrder=function(e){var r=this,i=function(){e.rowComp.setDomOrder(r.getDomOrder())};this.addManagedPropertyListener("domLayout",i),this.addManagedPropertyListener("ensureDomOrder",i)},t.prototype.setAnimateFlags=function(e){if(!(this.isSticky()||!e)){var r=ce(this.rowNode.oldRowTop),i=this.beans.columnModel.isPinningLeft(),o=this.beans.columnModel.isPinningRight();if(r){if(this.isFullWidth()&&!this.gridOptionsService.get("embedFullWidthRows")){this.slideInAnimation.fullWidth=!0;return}this.slideInAnimation.center=!0,this.slideInAnimation.left=i,this.slideInAnimation.right=o}else{if(this.isFullWidth()&&!this.gridOptionsService.get("embedFullWidthRows")){this.fadeInAnimation.fullWidth=!0;return}this.fadeInAnimation.center=!0,this.fadeInAnimation.left=i,this.fadeInAnimation.right=o}}},t.prototype.isEditing=function(){return this.editingRow},t.prototype.isFullWidth=function(){return this.rowType!==zi.Normal},t.prototype.getRowType=function(){return this.rowType},t.prototype.refreshFullWidth=function(){var e=this,r=function(u,c){return u?u.rowComp.refreshFullWidth(function(){return e.createFullWidthParams(u.element,c)}):!0},i=r(this.fullWidthGui,null),o=r(this.centerGui,null),a=r(this.leftGui,"left"),s=r(this.rightGui,"right"),l=i&&o&&a&&s;return l},t.prototype.addListeners=function(){var e=this;this.addManagedListener(this.rowNode,Ue.EVENT_HEIGHT_CHANGED,function(){return e.onRowHeightChanged()}),this.addManagedListener(this.rowNode,Ue.EVENT_ROW_SELECTED,function(){return e.onRowSelected()}),this.addManagedListener(this.rowNode,Ue.EVENT_ROW_INDEX_CHANGED,this.onRowIndexChanged.bind(this)),this.addManagedListener(this.rowNode,Ue.EVENT_TOP_CHANGED,this.onTopChanged.bind(this)),this.addManagedListener(this.rowNode,Ue.EVENT_EXPANDED_CHANGED,this.updateExpandedCss.bind(this)),this.addManagedListener(this.rowNode,Ue.EVENT_HAS_CHILDREN_CHANGED,this.updateExpandedCss.bind(this)),this.rowNode.detail&&this.addManagedListener(this.rowNode.parent,Ue.EVENT_DATA_CHANGED,this.onRowNodeDataChanged.bind(this)),this.addManagedListener(this.rowNode,Ue.EVENT_DATA_CHANGED,this.onRowNodeDataChanged.bind(this)),this.addManagedListener(this.rowNode,Ue.EVENT_CELL_CHANGED,this.postProcessCss.bind(this)),this.addManagedListener(this.rowNode,Ue.EVENT_HIGHLIGHT_CHANGED,this.onRowNodeHighlightChanged.bind(this)),this.addManagedListener(this.rowNode,Ue.EVENT_DRAGGING_CHANGED,this.postProcessRowDragging.bind(this)),this.addManagedListener(this.rowNode,Ue.EVENT_UI_LEVEL_CHANGED,this.onUiLevelChanged.bind(this));var r=this.beans.eventService;this.addManagedListener(r,P.EVENT_PAGINATION_PIXEL_OFFSET_CHANGED,this.onPaginationPixelOffsetChanged.bind(this)),this.addManagedListener(r,P.EVENT_HEIGHT_SCALE_CHANGED,this.onTopChanged.bind(this)),this.addManagedListener(r,P.EVENT_DISPLAYED_COLUMNS_CHANGED,this.onDisplayedColumnsChanged.bind(this)),this.addManagedListener(r,P.EVENT_VIRTUAL_COLUMNS_CHANGED,this.onVirtualColumnsChanged.bind(this)),this.addManagedListener(r,P.EVENT_CELL_FOCUSED,this.onCellFocusChanged.bind(this)),this.addManagedListener(r,P.EVENT_CELL_FOCUS_CLEARED,this.onCellFocusChanged.bind(this)),this.addManagedListener(r,P.EVENT_PAGINATION_CHANGED,this.onPaginationChanged.bind(this)),this.addManagedListener(r,P.EVENT_MODEL_UPDATED,this.refreshFirstAndLastRowStyles.bind(this)),this.addManagedListener(r,P.EVENT_COLUMN_MOVED,this.updateColumnLists.bind(this)),this.addDestroyFunc(function(){e.destroyBeans(e.rowDragComps,e.beans.context)}),this.addManagedPropertyListeners(["rowDragEntireRow"],function(){var i=e.gridOptionsService.get("rowDragEntireRow");if(i){e.allRowGuis.forEach(function(o){e.addRowDraggerToRow(o)});return}e.destroyBeans(e.rowDragComps,e.beans.context),e.rowDragComps=[]}),this.addListenersForCellComps()},t.prototype.addListenersForCellComps=function(){var e=this;this.addManagedListener(this.rowNode,Ue.EVENT_ROW_INDEX_CHANGED,function(){e.getAllCellCtrls().forEach(function(r){return r.onRowIndexChanged()})}),this.addManagedListener(this.rowNode,Ue.EVENT_CELL_CHANGED,function(r){e.getAllCellCtrls().forEach(function(i){return i.onCellChanged(r)})})},t.prototype.onRowNodeDataChanged=function(e){var r=this,i=this.isFullWidth()!==!!this.rowNode.isFullWidthCell();if(i){this.beans.rowRenderer.redrawRow(this.rowNode);return}if(this.isFullWidth()){var o=this.refreshFullWidth();o||this.beans.rowRenderer.redrawRow(this.rowNode);return}this.getAllCellCtrls().forEach(function(a){return a.refreshCell({suppressFlash:!e.update,newData:!e.update})}),this.allRowGuis.forEach(function(a){r.setRowCompRowId(a.rowComp),r.updateRowBusinessKey(),r.setRowCompRowBusinessKey(a.rowComp)}),this.onRowSelected(),this.postProcessCss()},t.prototype.postProcessCss=function(){this.setStylesFromGridOptions(!0),this.postProcessClassesFromGridOptions(),this.postProcessRowClassRules(),this.postProcessRowDragging()},t.prototype.onRowNodeHighlightChanged=function(){var e=this.rowNode.highlighted;this.allRowGuis.forEach(function(r){var i=e===Wl.Above,o=e===Wl.Below;r.rowComp.addOrRemoveCssClass("ag-row-highlight-above",i),r.rowComp.addOrRemoveCssClass("ag-row-highlight-below",o)})},t.prototype.postProcessRowDragging=function(){var e=this.rowNode.dragging;this.allRowGuis.forEach(function(r){return r.rowComp.addOrRemoveCssClass("ag-row-dragging",e)})},t.prototype.updateExpandedCss=function(){var e=this.rowNode.isExpandable(),r=this.rowNode.expanded==!0;this.allRowGuis.forEach(function(i){i.rowComp.addOrRemoveCssClass("ag-row-group",e),i.rowComp.addOrRemoveCssClass("ag-row-group-expanded",e&&r),i.rowComp.addOrRemoveCssClass("ag-row-group-contracted",e&&!r),Ju(i.element,e&&r)})},t.prototype.onDisplayedColumnsChanged=function(){this.updateColumnLists(!0),this.beans.columnModel.wasAutoRowHeightEverActive()&&this.rowNode.checkAutoHeights()},t.prototype.onVirtualColumnsChanged=function(){this.updateColumnLists(!1,!0)},t.prototype.getRowPosition=function(){return{rowPinned:jl(this.rowNode.rowPinned),rowIndex:this.rowNode.rowIndex}},t.prototype.onKeyboardNavigate=function(e){var r=this.allRowGuis.find(function(u){return u.element.contains(e.target)}),i=r?r.element:null,o=i===e.target;if(o){var a=this.rowNode,s=this.beans.focusService.getFocusedCell(),l={rowIndex:a.rowIndex,rowPinned:a.rowPinned,column:s&&s.column};this.beans.navigationService.navigateToNextCell(e,e.key,l,!0),e.preventDefault()}},t.prototype.onTabKeyDown=function(e){if(!(e.defaultPrevented||As(e))){var r=this.allRowGuis.find(function(s){return s.element.contains(e.target)}),i=r?r.element:null,o=i===e.target,a=null;o||(a=this.beans.focusService.findNextFocusableElement(i,!1,e.shiftKey)),(this.isFullWidth()&&o||!a)&&this.beans.navigationService.onTabKeyDown(this,e)}},t.prototype.onFullWidthRowFocused=function(e){var r,i=this.rowNode,o=e?this.isFullWidth()&&e.rowIndex===i.rowIndex&&e.rowPinned==i.rowPinned:!1,a=this.fullWidthGui?this.fullWidthGui.element:(r=this.centerGui)===null||r===void 0?void 0:r.element;a&&(a.classList.toggle("ag-full-width-focus",o),o&&a.focus({preventScroll:!0}))},t.prototype.refreshCell=function(e){this.centerCellCtrls=this.removeCellCtrl(this.centerCellCtrls,e),this.leftCellCtrls=this.removeCellCtrl(this.leftCellCtrls,e),this.rightCellCtrls=this.removeCellCtrl(this.rightCellCtrls,e),this.updateColumnLists()},t.prototype.removeCellCtrl=function(e,r){var i={list:[],map:{}};return e.list.forEach(function(o){o!==r&&(i.list.push(o),i.map[o.getInstanceId()]=o)}),i},t.prototype.onMouseEvent=function(e,r){switch(e){case"dblclick":this.onRowDblClick(r);break;case"click":this.onRowClick(r);break;case"touchstart":case"mousedown":this.onRowMouseDown(r);break}},t.prototype.createRowEvent=function(e,r){return this.gridOptionsService.addGridCommonParams({type:e,node:this.rowNode,data:this.rowNode.data,rowIndex:this.rowNode.rowIndex,rowPinned:this.rowNode.rowPinned,event:r})},t.prototype.createRowEventWithSource=function(e,r){var i=this.createRowEvent(e,r);return i.source=this,i},t.prototype.onRowDblClick=function(e){if(!As(e)){var r=this.createRowEventWithSource(P.EVENT_ROW_DOUBLE_CLICKED,e);this.beans.eventService.dispatchEvent(r)}},t.prototype.onRowMouseDown=function(e){if(this.lastMouseDownOnDragger=bh(e.target,"ag-row-drag",3),!!this.isFullWidth()){var r=this.rowNode,i=this.beans.columnModel;this.beans.rangeService&&this.beans.rangeService.removeAllCellRanges(),this.beans.focusService.setFocusedCell({rowIndex:r.rowIndex,column:i.getAllDisplayedColumns()[0],rowPinned:r.rowPinned,forceBrowserFocus:!0})}},t.prototype.onRowClick=function(e){var r=As(e)||this.lastMouseDownOnDragger;if(!r){var i=this.createRowEventWithSource(P.EVENT_ROW_CLICKED,e);this.beans.eventService.dispatchEvent(i);var o=e.ctrlKey||e.metaKey,a=e.shiftKey,s=this.gridOptionsService.get("groupSelectsChildren");if(!(s&&this.rowNode.group||this.isRowSelectionBlocked()||this.gridOptionsService.get("suppressRowClickSelection"))){var l=this.gridOptionsService.get("rowMultiSelectWithClick"),u=!this.gridOptionsService.get("suppressRowDeselection"),c="rowClicked";if(this.rowNode.isSelected())l?this.rowNode.setSelectedParams({newValue:!1,event:e,source:c}):o?u&&this.rowNode.setSelectedParams({newValue:!1,event:e,source:c}):this.rowNode.setSelectedParams({newValue:!0,clearSelection:!a,rangeSelect:a,event:e,source:c});else{var d=l?!1:!o;this.rowNode.setSelectedParams({newValue:!0,clearSelection:d,rangeSelect:a,event:e,source:c})}}}},t.prototype.isRowSelectionBlocked=function(){return!this.rowNode.selectable||!!this.rowNode.rowPinned||!this.gridOptionsService.isRowSelection()},t.prototype.setupDetailRowAutoHeight=function(e){var r=this;if(this.rowType===zi.FullWidthDetail&&this.gridOptionsService.get("detailRowAutoHeight")){var i=function(){var a=e.clientHeight;if(a!=null&&a>0){var s=function(){r.rowNode.setRowHeight(a),r.beans.clientSideRowModel?r.beans.clientSideRowModel.onRowHeightChanged():r.beans.serverSideRowModel&&r.beans.serverSideRowModel.onRowHeightChanged()};window.setTimeout(s,0)}},o=this.beans.resizeObserverService.observeResize(e,i);this.addDestroyFunc(o),i()}},t.prototype.createFullWidthParams=function(e,r){var i=this,o=this.gridOptionsService.addGridCommonParams({fullWidth:!0,data:this.rowNode.data,node:this.rowNode,value:this.rowNode.key,valueFormatted:this.rowNode.key,rowIndex:this.rowNode.rowIndex,eGridCell:e,eParentOfValue:e,pinned:r,addRenderedRowListener:this.addEventListener.bind(this),registerRowDragger:function(a,s,l,u){return i.addFullWidthRowDragging(a,s,l,u)}});return o},t.prototype.addFullWidthRowDragging=function(e,r,i,o){if(i===void 0&&(i=""),!!this.isFullWidth()){var a=new Vb(function(){return i},this.rowNode,void 0,e,r,o);this.createManagedBean(a,this.beans.context)}},t.prototype.onUiLevelChanged=function(){var e=this.beans.rowCssClassCalculator.calculateRowLevel(this.rowNode);if(this.rowLevel!=e){var r="ag-row-level-"+e,i="ag-row-level-"+this.rowLevel;this.allRowGuis.forEach(function(o){o.rowComp.addOrRemoveCssClass(r,!0),o.rowComp.addOrRemoveCssClass(i,!1)})}this.rowLevel=e},t.prototype.isFirstRowOnPage=function(){return this.rowNode.rowIndex===this.beans.paginationProxy.getPageFirstRow()},t.prototype.isLastRowOnPage=function(){return this.rowNode.rowIndex===this.beans.paginationProxy.getPageLastRow()},t.prototype.refreshFirstAndLastRowStyles=function(){var e=this.isFirstRowOnPage(),r=this.isLastRowOnPage();this.firstRowOnPage!==e&&(this.firstRowOnPage=e,this.allRowGuis.forEach(function(i){return i.rowComp.addOrRemoveCssClass("ag-row-first",e)})),this.lastRowOnPage!==r&&(this.lastRowOnPage=r,this.allRowGuis.forEach(function(i){return i.rowComp.addOrRemoveCssClass("ag-row-last",r)}))},t.prototype.stopEditing=function(e){var r,i;if(e===void 0&&(e=!1),!this.stoppingRowEdit){var o=this.getAllCellCtrls(),a=this.editingRow;this.stoppingRowEdit=!0;var s=!1;try{for(var l=bRe(o),u=l.next();!u.done;u=l.next()){var c=u.value,d=c.stopEditing(e);a&&!e&&!s&&d&&(s=!0)}}catch(h){r={error:h}}finally{try{u&&!u.done&&(i=l.return)&&i.call(l)}finally{if(r)throw r.error}}if(s){var p=this.createRowEvent(P.EVENT_ROW_VALUE_CHANGED);this.beans.eventService.dispatchEvent(p)}a&&this.setEditingRow(!1),this.stoppingRowEdit=!1}},t.prototype.setInlineEditingCss=function(e){this.allRowGuis.forEach(function(r){r.rowComp.addOrRemoveCssClass("ag-row-inline-editing",e),r.rowComp.addOrRemoveCssClass("ag-row-not-inline-editing",!e)})},t.prototype.setEditingRow=function(e){this.editingRow=e,this.allRowGuis.forEach(function(i){return i.rowComp.addOrRemoveCssClass("ag-row-editing",e)});var r=e?this.createRowEvent(P.EVENT_ROW_EDITING_STARTED):this.createRowEvent(P.EVENT_ROW_EDITING_STOPPED);this.beans.eventService.dispatchEvent(r)},t.prototype.startRowEditing=function(e,r,i){if(e===void 0&&(e=null),r===void 0&&(r=null),i===void 0&&(i=null),!this.editingRow){var o=this.getAllCellCtrls().reduce(function(a,s){var l=s===r;return l?s.startEditing(e,l,i):s.startEditing(null,l,i),a?!0:s.isEditing()},!1);o&&this.setEditingRow(!0)}},t.prototype.getAllCellCtrls=function(){if(this.leftCellCtrls.list.length===0&&this.rightCellCtrls.list.length===0)return this.centerCellCtrls.list;var e=QA(QA(QA([],ZA(this.centerCellCtrls.list),!1),ZA(this.leftCellCtrls.list),!1),ZA(this.rightCellCtrls.list),!1);return e},t.prototype.postProcessClassesFromGridOptions=function(){var e=this,r=this.beans.rowCssClassCalculator.processClassesFromGridOptions(this.rowNode);!r||!r.length||r.forEach(function(i){e.allRowGuis.forEach(function(o){return o.rowComp.addOrRemoveCssClass(i,!0)})})},t.prototype.postProcessRowClassRules=function(){var e=this;this.beans.rowCssClassCalculator.processRowClassRules(this.rowNode,function(r){e.allRowGuis.forEach(function(i){return i.rowComp.addOrRemoveCssClass(r,!0)})},function(r){e.allRowGuis.forEach(function(i){return i.rowComp.addOrRemoveCssClass(r,!1)})})},t.prototype.setStylesFromGridOptions=function(e,r){var i=this;e&&(this.rowStyles=this.processStylesFromGridOptions()),this.forEachGui(r,function(o){return o.rowComp.setUserStyles(i.rowStyles)})},t.prototype.getPinnedForContainer=function(e){var r=e===qr.LEFT?"left":e===qr.RIGHT?"right":null;return r},t.prototype.getInitialRowClasses=function(e){var r=this.getPinnedForContainer(e),i={rowNode:this.rowNode,rowFocused:this.rowFocused,fadeRowIn:this.fadeInAnimation[e],rowIsEven:this.rowNode.rowIndex%2===0,rowLevel:this.rowLevel,fullWidthRow:this.isFullWidth(),firstRowOnPage:this.isFirstRowOnPage(),lastRowOnPage:this.isLastRowOnPage(),printLayout:this.printLayout,expandable:this.rowNode.isExpandable(),pinned:r};return this.beans.rowCssClassCalculator.getInitialRowClasses(i)},t.prototype.processStylesFromGridOptions=function(){var e=this.gridOptionsService.get("rowStyle");if(e&&typeof e=="function"){console.warn("AG Grid: rowStyle should be an object of key/value styles, not be a function, use getRowStyle() instead");return}var r=this.gridOptionsService.getCallback("getRowStyle"),i;if(r){var o={data:this.rowNode.data,node:this.rowNode,rowIndex:this.rowNode.rowIndex};i=r(o)}return i||e?Object.assign({},e,i):this.emptyStyle},t.prototype.onRowSelected=function(e){var r=this,i=this.beans.gridOptionsService.getDocument(),o=!!this.rowNode.isSelected();this.forEachGui(e,function(a){a.rowComp.addOrRemoveCssClass("ag-row-selected",o),wg(a.element,o);var s=a.element.contains(i.activeElement);s&&(a===r.centerGui||a===r.fullWidthGui)&&r.announceDescription()})},t.prototype.announceDescription=function(){if(!this.isRowSelectionBlocked()){var e=this.rowNode.isSelected();if(!(e&&this.beans.gridOptionsService.get("suppressRowDeselection"))){var r=this.beans.localeService.getLocaleTextFunc(),i=r(e?"ariaRowDeselect":"ariaRowSelect","Press SPACE to ".concat(e?"deselect":"select"," this row."));this.beans.ariaAnnouncementService.announceValue(i)}}},t.prototype.isUseAnimationFrameForCreate=function(){return this.useAnimationFrameForCreate},t.prototype.addHoverFunctionality=function(e){var r=this;this.active&&(this.addManagedListener(e,"mouseenter",function(){return r.rowNode.onMouseEnter()}),this.addManagedListener(e,"mouseleave",function(){return r.rowNode.onMouseLeave()}),this.addManagedListener(this.rowNode,Ue.EVENT_MOUSE_ENTER,function(){!r.beans.dragService.isDragging()&&!r.gridOptionsService.get("suppressRowHoverHighlight")&&(e.classList.add("ag-row-hover"),r.rowNode.setHovered(!0))}),this.addManagedListener(this.rowNode,Ue.EVENT_MOUSE_LEAVE,function(){e.classList.remove("ag-row-hover"),r.rowNode.setHovered(!1)}))},t.prototype.roundRowTopToBounds=function(e){var r=this.beans.ctrlsService.getGridBodyCtrl().getScrollFeature().getApproximateVScollPosition(),i=this.applyPaginationOffset(r.top,!0)-100,o=this.applyPaginationOffset(r.bottom,!0)+100;return Math.min(Math.max(i,e),o)},t.prototype.getFrameworkOverrides=function(){return this.beans.frameworkOverrides},t.prototype.forEachGui=function(e,r){e?r(e):this.allRowGuis.forEach(r)},t.prototype.onRowHeightChanged=function(e){if(this.rowNode.rowHeight!=null){var r=this.rowNode.rowHeight,i=this.beans.environment.getDefaultRowHeight(),o=this.gridOptionsService.isGetRowHeightFunction(),a=o?this.gridOptionsService.getRowHeightForNode(this.rowNode).height:void 0,s=a?"".concat(Math.min(i,a)-2,"px"):void 0;this.forEachGui(e,function(l){l.element.style.height="".concat(r,"px"),s&&l.element.style.setProperty("--ag-line-height",s)})}},t.prototype.addEventListener=function(e,r){n.prototype.addEventListener.call(this,e,r)},t.prototype.removeEventListener=function(e,r){n.prototype.removeEventListener.call(this,e,r)},t.prototype.destroyFirstPass=function(e){if(e===void 0&&(e=!1),this.active=!1,!e&&this.gridOptionsService.isAnimateRows()&&!this.isSticky()){var r=this.rowNode.rowTop!=null;if(r){var i=this.roundRowTopToBounds(this.rowNode.rowTop);this.setRowTop(i)}else this.allRowGuis.forEach(function(a){return a.rowComp.addOrRemoveCssClass("ag-opacity-zero",!0)})}this.rowNode.setHovered(!1);var o=this.createRowEvent(P.EVENT_VIRTUAL_ROW_REMOVED);this.dispatchEvent(o),this.beans.eventService.dispatchEvent(o),n.prototype.destroy.call(this)},t.prototype.destroySecondPass=function(){this.allRowGuis.length=0,this.stopEditing();var e=function(r){return r.list.forEach(function(i){return i.destroy()}),{list:[],map:{}}};this.centerCellCtrls=e(this.centerCellCtrls),this.leftCellCtrls=e(this.leftCellCtrls),this.rightCellCtrls=e(this.rightCellCtrls)},t.prototype.setFocusedClasses=function(e){var r=this;this.forEachGui(e,function(i){i.rowComp.addOrRemoveCssClass("ag-row-focus",r.rowFocused),i.rowComp.addOrRemoveCssClass("ag-row-no-focus",!r.rowFocused)})},t.prototype.onCellFocusChanged=function(){var e=this.beans.focusService.isRowFocused(this.rowNode.rowIndex,this.rowNode.rowPinned);e!==this.rowFocused&&(this.rowFocused=e,this.setFocusedClasses()),!e&&this.editingRow&&this.stopEditing(!1)},t.prototype.onPaginationChanged=function(){var e=this.beans.paginationProxy.getCurrentPage();this.paginationPage!==e&&(this.paginationPage=e,this.onTopChanged()),this.refreshFirstAndLastRowStyles()},t.prototype.onTopChanged=function(){this.setRowTop(this.rowNode.rowTop)},t.prototype.onPaginationPixelOffsetChanged=function(){this.onTopChanged()},t.prototype.applyPaginationOffset=function(e,r){if(r===void 0&&(r=!1),this.rowNode.isRowPinned()||this.rowNode.sticky)return e;var i=this.beans.paginationProxy.getPixelOffset(),o=r?1:-1;return e+i*o},t.prototype.setRowTop=function(e){if(!this.printLayout&&ce(e)){var r=this.applyPaginationOffset(e),i=this.rowNode.isRowPinned()||this.rowNode.sticky,o=i?r:this.beans.rowContainerHeightService.getRealPixelPosition(r),a="".concat(o,"px");this.setRowTopStyle(a)}},t.prototype.getInitialRowTop=function(e){return this.suppressRowTransform?this.getInitialRowTopShared(e):void 0},t.prototype.getInitialTransform=function(e){return this.suppressRowTransform?void 0:"translateY(".concat(this.getInitialRowTopShared(e),")")},t.prototype.getInitialRowTopShared=function(e){if(this.printLayout)return"";var r;if(this.isSticky())r=this.rowNode.stickyRowTop;else{var i=this.slideInAnimation[e]?this.roundRowTopToBounds(this.rowNode.oldRowTop):this.rowNode.rowTop,o=this.applyPaginationOffset(i);r=this.rowNode.isRowPinned()?o:this.beans.rowContainerHeightService.getRealPixelPosition(o)}return r+"px"},t.prototype.setRowTopStyle=function(e){var r=this;this.allRowGuis.forEach(function(i){return r.suppressRowTransform?i.rowComp.setTop(e):i.rowComp.setTransform("translateY(".concat(e,")"))})},t.prototype.getRowNode=function(){return this.rowNode},t.prototype.getCellCtrl=function(e){var r=null;return this.getAllCellCtrls().forEach(function(i){i.getColumn()==e&&(r=i)}),r!=null||this.getAllCellCtrls().forEach(function(i){i.getColSpanningList().indexOf(e)>=0&&(r=i)}),r},t.prototype.onRowIndexChanged=function(){this.rowNode.rowIndex!=null&&(this.onCellFocusChanged(),this.updateRowIndexes(),this.postProcessCss())},t.prototype.getRowIndex=function(){return this.rowNode.getRowIndexString()},t.prototype.updateRowIndexes=function(e){var r=this.rowNode.getRowIndexString(),i=this.beans.headerNavigationService.getHeaderRowCount()+this.beans.filterManager.getHeaderRowCount(),o=this.rowNode.rowIndex%2===0,a=i+this.rowNode.rowIndex+1;this.forEachGui(e,function(s){s.rowComp.setRowIndex(r),s.rowComp.addOrRemoveCssClass("ag-row-even",o),s.rowComp.addOrRemoveCssClass("ag-row-odd",!o),Yk(s.element,a)})},t.DOM_DATA_KEY_ROW_CTRL="renderedRow",t}(q),RRe=function(){var n=function(t,e){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])},n(t,e)};return function(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");n(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}}(),Oo=function(n,t,e,r){var i=arguments.length,o=i<3?t:r===null?r=Object.getOwnPropertyDescriptor(t,e):r,a;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(n,t,e,r);else for(var s=n.length-1;s>=0;s--)(a=n[s])&&(o=(i<3?a(o):i>3?a(t,e,o):a(t,e))||o);return i>3&&o&&Object.defineProperty(t,e,o),o},TRe=function(n,t){var e=typeof Symbol=="function"&&n[Symbol.iterator];if(!e)return n;var r=e.call(n),i,o=[],a;try{for(;(t===void 0||t-- >0)&&!(i=r.next()).done;)o.push(i.value)}catch(s){a={error:s}}finally{try{i&&!i.done&&(e=r.return)&&e.call(r)}finally{if(a)throw a.error}}return o},PRe=function(n){RRe(t,n);function t(e){var r=n.call(this)||this;return r.element=e,r}return t.prototype.postConstruct=function(){this.addKeyboardListeners(),this.addMouseListeners(),this.mockContextMenuForIPad()},t.prototype.addKeyboardListeners=function(){var e="keydown",r=this.processKeyboardEvent.bind(this,e);this.addManagedListener(this.element,e,r)},t.prototype.addMouseListeners=function(){var e=this,r=Vk("touchstart")?"touchstart":"mousedown",i=["dblclick","contextmenu","mouseover","mouseout","click",r];i.forEach(function(o){var a=e.processMouseEvent.bind(e,o);e.addManagedListener(e.element,o,a)})},t.prototype.processMouseEvent=function(e,r){if(!(!this.mouseEventService.isEventFromThisGrid(r)||As(r))){var i=this.getRowForEvent(r),o=this.mouseEventService.getRenderedCellForEvent(r);e==="contextmenu"?this.handleContextMenuMouseEvent(r,void 0,i,o):(o&&o.onMouseEvent(e,r),i&&i.onMouseEvent(e,r))}},t.prototype.mockContextMenuForIPad=function(){var e=this;if(cc()){var r=new jr(this.element),i=function(o){var a=e.getRowForEvent(o.touchEvent),s=e.mouseEventService.getRenderedCellForEvent(o.touchEvent);e.handleContextMenuMouseEvent(void 0,o.touchEvent,a,s)};this.addManagedListener(r,jr.EVENT_LONG_TAP,i),this.addDestroyFunc(function(){return r.destroy()})}},t.prototype.getRowForEvent=function(e){for(var r=e.target;r;){var i=this.gridOptionsService.getDomData(r,Td.DOM_DATA_KEY_ROW_CTRL);if(i)return i;r=r.parentElement}return null},t.prototype.handleContextMenuMouseEvent=function(e,r,i,o){var a=i?i.getRowNode():null,s=o?o.getColumn():null,l=null;if(s){var u=e||r;o.dispatchCellContextMenuEvent(u??null),l=this.valueService.getValue(s,a)}var c=this.ctrlsService.getGridBodyCtrl(),d=o?o.getGui():c.getGridBodyElement();this.menuService.showContextMenu({mouseEvent:e,touchEvent:r,rowNode:a,column:s,value:l,anchorToElement:d})},t.prototype.getControlsForEventTarget=function(e){return{cellCtrl:Mb(this.gridOptionsService,e,Iu.DOM_DATA_KEY_CELL_CTRL),rowCtrl:Mb(this.gridOptionsService,e,Td.DOM_DATA_KEY_ROW_CTRL)}},t.prototype.processKeyboardEvent=function(e,r){var i=this.getControlsForEventTarget(r.target),o=i.cellCtrl,a=i.rowCtrl;r.defaultPrevented||(o?this.processCellKeyboardEvent(o,e,r):a&&a.isFullWidth()&&this.processFullWidthRowKeyboardEvent(a,e,r))},t.prototype.processCellKeyboardEvent=function(e,r,i){var o=e.getRowNode(),a=e.getColumn(),s=e.isEditing(),l=!Nb(this.gridOptionsService,i,o,a,s);if(l&&r==="keydown"){var u=!s&&this.navigationService.handlePageScrollingKey(i);u||e.onKeyDown(i),this.doGridOperations(i,e.isEditing()),ET(i)&&e.processCharacter(i)}if(r==="keydown"){var c=e.createEvent(i,P.EVENT_CELL_KEY_DOWN);this.eventService.dispatchEvent(c)}},t.prototype.processFullWidthRowKeyboardEvent=function(e,r,i){var o=e.getRowNode(),a=this.focusService.getFocusedCell(),s=a&&a.column,l=!Nb(this.gridOptionsService,i,o,s,!1);if(l){var u=i.key;if(r==="keydown")switch(u){case U.PAGE_HOME:case U.PAGE_END:case U.PAGE_UP:case U.PAGE_DOWN:this.navigationService.handlePageScrollingKey(i,!0);break;case U.UP:case U.DOWN:e.onKeyboardNavigate(i);break;case U.TAB:e.onTabKeyDown(i);break}}if(r==="keydown"){var c=e.createRowEvent(P.EVENT_CELL_KEY_DOWN,i);this.eventService.dispatchEvent(c)}},t.prototype.doGridOperations=function(e,r){if(!(!e.ctrlKey&&!e.metaKey)&&!r&&this.mouseEventService.isEventFromThisGrid(e)){var i=MY(e);if(i===U.A)return this.onCtrlAndA(e);if(i===U.C)return this.onCtrlAndC(e);if(i===U.D)return this.onCtrlAndD(e);if(i===U.V)return this.onCtrlAndV(e);if(i===U.X)return this.onCtrlAndX(e);if(i===U.Y)return this.onCtrlAndY();if(i===U.Z)return this.onCtrlAndZ(e)}},t.prototype.onCtrlAndA=function(e){var r=this,i=r.pinnedRowModel,o=r.paginationProxy,a=r.rangeService;if(a&&o.isRowsToRender()){var s=TRe([i.isEmpty("top"),i.isEmpty("bottom")],2),l=s[0],u=s[1],c=l?null:"top",d=void 0,p=void 0;u?(d=null,p=this.paginationProxy.getRowCount()-1):(d="bottom",p=i.getPinnedBottomRowData().length-1);var h=this.columnModel.getAllDisplayedColumns();if(Ko(h))return;a.setCellRange({rowStartIndex:0,rowStartPinned:c,rowEndIndex:p,rowEndPinned:d,columnStart:h[0],columnEnd:bt(h)})}e.preventDefault()},t.prototype.onCtrlAndC=function(e){if(!(!this.clipboardService||this.gridOptionsService.get("enableCellTextSelection"))){var r=this.getControlsForEventTarget(e.target),i=r.cellCtrl,o=r.rowCtrl;i!=null&&i.isEditing()||o!=null&&o.isEditing()||(e.preventDefault(),this.clipboardService.copyToClipboard())}},t.prototype.onCtrlAndX=function(e){if(!(!this.clipboardService||this.gridOptionsService.get("enableCellTextSelection")||this.gridOptionsService.get("suppressCutToClipboard"))){var r=this.getControlsForEventTarget(e.target),i=r.cellCtrl,o=r.rowCtrl;i!=null&&i.isEditing()||o!=null&&o.isEditing()||(e.preventDefault(),this.clipboardService.cutToClipboard(void 0,"ui"))}},t.prototype.onCtrlAndV=function(e){var r=this.getControlsForEventTarget(e.target),i=r.cellCtrl,o=r.rowCtrl;i!=null&&i.isEditing()||o!=null&&o.isEditing()||this.clipboardService&&!this.gridOptionsService.get("suppressClipboardPaste")&&this.clipboardService.pasteFromClipboard()},t.prototype.onCtrlAndD=function(e){this.clipboardService&&!this.gridOptionsService.get("suppressClipboardPaste")&&this.clipboardService.copyRangeDown(),e.preventDefault()},t.prototype.onCtrlAndZ=function(e){this.gridOptionsService.get("undoRedoCellEditing")&&(e.preventDefault(),e.shiftKey?this.undoRedoService.redo("ui"):this.undoRedoService.undo("ui"))},t.prototype.onCtrlAndY=function(){this.undoRedoService.redo("ui")},Oo([E("mouseEventService")],t.prototype,"mouseEventService",void 0),Oo([E("valueService")],t.prototype,"valueService",void 0),Oo([E("menuService")],t.prototype,"menuService",void 0),Oo([E("ctrlsService")],t.prototype,"ctrlsService",void 0),Oo([E("navigationService")],t.prototype,"navigationService",void 0),Oo([E("focusService")],t.prototype,"focusService",void 0),Oo([E("undoRedoService")],t.prototype,"undoRedoService",void 0),Oo([E("columnModel")],t.prototype,"columnModel",void 0),Oo([E("paginationProxy")],t.prototype,"paginationProxy",void 0),Oo([E("pinnedRowModel")],t.prototype,"pinnedRowModel",void 0),Oo([qe("rangeService")],t.prototype,"rangeService",void 0),Oo([qe("clipboardService")],t.prototype,"clipboardService",void 0),Oo([z],t.prototype,"postConstruct",null),t}(q),ARe=function(){var n=function(t,e){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])},n(t,e)};return function(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");n(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}}(),Gy=function(n,t,e,r){var i=arguments.length,o=i<3?t:r===null?r=Object.getOwnPropertyDescriptor(t,e):r,a;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(n,t,e,r);else for(var s=n.length-1;s>=0;s--)(a=n[s])&&(o=(i<3?a(o):i>3?a(t,e,o):a(t,e))||o);return i>3&&o&&Object.defineProperty(t,e,o),o},x3=function(n,t){var e=typeof Symbol=="function"&&n[Symbol.iterator];if(!e)return n;var r=e.call(n),i,o=[],a;try{for(;(t===void 0||t-- >0)&&!(i=r.next()).done;)o.push(i.value)}catch(s){a={error:s}}finally{try{i&&!i.done&&(e=r.return)&&e.call(r)}finally{if(a)throw a.error}}return o},E3=function(n,t,e){if(e||arguments.length===2)for(var r=0,i=t.length,o;r<i;r++)(o||!(r in t))&&(o||(o=Array.prototype.slice.call(t,0,r)),o[r]=t[r]);return n.concat(o||Array.prototype.slice.call(t))},DRe=function(n){ARe(t,n);function t(e){var r=n.call(this)||this;return r.centerContainerCtrl=e,r}return t.prototype.postConstruct=function(){var e=this;this.ctrlsService.whenReady(function(){e.gridBodyCtrl=e.ctrlsService.getGridBodyCtrl(),e.listenForResize()}),this.addManagedListener(this.eventService,P.EVENT_SCROLLBAR_WIDTH_CHANGED,this.onScrollbarWidthChanged.bind(this)),this.addManagedPropertyListeners(["alwaysShowHorizontalScroll","alwaysShowVerticalScroll"],function(){e.checkViewportAndScrolls()})},t.prototype.listenForResize=function(){var e=this,r=function(){return e.onCenterViewportResized()};this.centerContainerCtrl.registerViewportResizeListener(r),this.gridBodyCtrl.registerBodyViewportResizeListener(r)},t.prototype.onScrollbarWidthChanged=function(){this.checkViewportAndScrolls()},t.prototype.onCenterViewportResized=function(){if(this.centerContainerCtrl.isViewportInTheDOMTree()){this.keepPinnedColumnsNarrowerThanViewport(),this.checkViewportAndScrolls();var e=this.centerContainerCtrl.getCenterWidth();e!==this.centerWidth&&(this.centerWidth=e,this.columnModel.refreshFlexedColumns({viewportWidth:this.centerWidth,updateBodyWidths:!0,fireResizedEvent:!0}))}else this.bodyHeight=0},t.prototype.keepPinnedColumnsNarrowerThanViewport=function(){var e=this.gridBodyCtrl.getBodyViewportElement(),r=rf(e);if(!(r<=50)){var i=this.getPinnedColumnsOverflowingViewport(r-50),o=this.gridOptionsService.getCallback("processUnpinnedColumns");if(i.length){if(o){var a={columns:i,viewportWidth:r};i=o(a)}this.columnModel.setColumnsPinned(i,null,"viewportSizeFeature")}}},t.prototype.getPinnedColumnsOverflowingViewport=function(e){var r=this.pinnedWidthService.getPinnedRightWidth(),i=this.pinnedWidthService.getPinnedLeftWidth(),o=r+i;if(o<e)return[];for(var a=E3([],x3(this.columnModel.getDisplayedLeftColumns()),!1),s=E3([],x3(this.columnModel.getDisplayedRightColumns()),!1),l=0,u=0,c=0,d=[],p=o-c-e;(u<a.length||l<s.length)&&p>0;){if(l<s.length){var h=s[l++];p-=h.getActualWidth(),d.push(h)}if(u<a.length&&p>0){var h=a[u++];p-=h.getActualWidth(),d.push(h)}}return d},t.prototype.checkViewportAndScrolls=function(){this.updateScrollVisibleService(),this.checkBodyHeight(),this.onHorizontalViewportChanged(),this.gridBodyCtrl.getScrollFeature().checkScrollLeft()},t.prototype.getBodyHeight=function(){return this.bodyHeight},t.prototype.checkBodyHeight=function(){var e=this.gridBodyCtrl.getBodyViewportElement(),r=Lw(e);if(this.bodyHeight!==r){this.bodyHeight=r;var i={type:P.EVENT_BODY_HEIGHT_CHANGED};this.eventService.dispatchEvent(i)}},t.prototype.updateScrollVisibleService=function(){this.updateScrollVisibleServiceImpl(),setTimeout(this.updateScrollVisibleServiceImpl.bind(this),500)},t.prototype.updateScrollVisibleServiceImpl=function(){var e={horizontalScrollShowing:this.isHorizontalScrollShowing(),verticalScrollShowing:this.gridBodyCtrl.isVerticalScrollShowing()};this.scrollVisibleService.setScrollsVisible(e)},t.prototype.isHorizontalScrollShowing=function(){return this.centerContainerCtrl.isHorizontalScrollShowing()},t.prototype.onHorizontalViewportChanged=function(){var e=this.centerContainerCtrl.getCenterWidth(),r=this.centerContainerCtrl.getViewportScrollLeft();this.columnModel.setViewportPosition(e,r)},Gy([E("ctrlsService")],t.prototype,"ctrlsService",void 0),Gy([E("pinnedWidthService")],t.prototype,"pinnedWidthService",void 0),Gy([E("columnModel")],t.prototype,"columnModel",void 0),Gy([E("scrollVisibleService")],t.prototype,"scrollVisibleService",void 0),Gy([z],t.prototype,"postConstruct",null),t}(q),MRe=function(){var n=function(t,e){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])},n(t,e)};return function(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");n(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}}(),b3=function(n,t,e,r){var i=arguments.length,o=i<3?t:r===null?r=Object.getOwnPropertyDescriptor(t,e):r,a;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(n,t,e,r);else for(var s=n.length-1;s>=0;s--)(a=n[s])&&(o=(i<3?a(o):i>3?a(t,e,o):a(t,e))||o);return i>3&&o&&Object.defineProperty(t,e,o),o},FRe=function(n){MRe(t,n);function t(e){var r=n.call(this)||this;return r.element=e,r}return t.prototype.postConstruct=function(){this.addManagedListener(this.eventService,P.EVENT_LEFT_PINNED_WIDTH_CHANGED,this.onPinnedLeftWidthChanged.bind(this))},t.prototype.onPinnedLeftWidthChanged=function(){var e=this.pinnedWidthService.getPinnedLeftWidth(),r=e>0;mt(this.element,r),ja(this.element,e)},t.prototype.getWidth=function(){return this.pinnedWidthService.getPinnedLeftWidth()},b3([E("pinnedWidthService")],t.prototype,"pinnedWidthService",void 0),b3([z],t.prototype,"postConstruct",null),t}(q),LRe=function(){var n=function(t,e){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])},n(t,e)};return function(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");n(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}}(),O3=function(n,t,e,r){var i=arguments.length,o=i<3?t:r===null?r=Object.getOwnPropertyDescriptor(t,e):r,a;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(n,t,e,r);else for(var s=n.length-1;s>=0;s--)(a=n[s])&&(o=(i<3?a(o):i>3?a(t,e,o):a(t,e))||o);return i>3&&o&&Object.defineProperty(t,e,o),o},IRe=function(n){LRe(t,n);function t(e){var r=n.call(this)||this;return r.element=e,r}return t.prototype.postConstruct=function(){this.addManagedListener(this.eventService,P.EVENT_RIGHT_PINNED_WIDTH_CHANGED,this.onPinnedRightWidthChanged.bind(this))},t.prototype.onPinnedRightWidthChanged=function(){var e=this.pinnedWidthService.getPinnedRightWidth(),r=e>0;mt(this.element,r),ja(this.element,e)},t.prototype.getWidth=function(){return this.pinnedWidthService.getPinnedRightWidth()},O3([E("pinnedWidthService")],t.prototype,"pinnedWidthService",void 0),O3([z],t.prototype,"postConstruct",null),t}(q),NRe=function(){var n=function(t,e){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])},n(t,e)};return function(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");n(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}}(),R3=function(n,t,e,r){var i=arguments.length,o=i<3?t:r===null?r=Object.getOwnPropertyDescriptor(t,e):r,a;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(n,t,e,r);else for(var s=n.length-1;s>=0;s--)(a=n[s])&&(o=(i<3?a(o):i>3?a(t,e,o):a(t,e))||o);return i>3&&o&&Object.defineProperty(t,e,o),o},CX=function(n){NRe(t,n);function t(e,r){var i=n.call(this)||this;return i.eContainer=e,i.eViewport=r,i}return t.prototype.postConstruct=function(){this.addManagedListener(this.eventService,P.EVENT_ROW_CONTAINER_HEIGHT_CHANGED,this.onHeightChanged.bind(this))},t.prototype.onHeightChanged=function(){var e=this.maxDivHeightScaler.getUiContainerHeight(),r=e!=null?"".concat(e,"px"):"";this.eContainer.style.height=r,this.eViewport&&(this.eViewport.style.height=r)},R3([E("rowContainerHeightService")],t.prototype,"maxDivHeightScaler",void 0),R3([z],t.prototype,"postConstruct",null),t}(q),kRe=function(){var n=function(t,e){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])},n(t,e)};return function(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");n(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}}(),JA=function(n,t,e,r){var i=arguments.length,o=i<3?t:r===null?r=Object.getOwnPropertyDescriptor(t,e):r,a;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(n,t,e,r);else for(var s=n.length-1;s>=0;s--)(a=n[s])&&(o=(i<3?a(o):i>3?a(t,e,o):a(t,e))||o);return i>3&&o&&Object.defineProperty(t,e,o),o},GRe=function(n){kRe(t,n);function t(e){var r=n.call(this)||this;return r.eContainer=e,r}return t.prototype.postConstruct=function(){var e=this;if(!je(this.rangeService)){this.params={eElement:this.eContainer,onDragStart:this.rangeService.onDragStart.bind(this.rangeService),onDragStop:this.rangeService.onDragStop.bind(this.rangeService),onDragging:this.rangeService.onDragging.bind(this.rangeService)},this.addManagedPropertyListener("enableRangeSelection",function(i){var o=i.currentValue;if(o){e.enableFeature();return}e.disableFeature()}),this.addDestroyFunc(function(){return e.disableFeature()});var r=this.gridOptionsService.get("enableRangeSelection");r&&this.enableFeature()}},t.prototype.enableFeature=function(){this.dragService.addDragSource(this.params)},t.prototype.disableFeature=function(){this.dragService.removeDragSource(this.params)},JA([qe("rangeService")],t.prototype,"rangeService",void 0),JA([E("dragService")],t.prototype,"dragService",void 0),JA([z],t.prototype,"postConstruct",null),t}(q),VRe=function(){var n=function(t,e){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])},n(t,e)};return function(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");n(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}}(),eD=function(n,t,e,r){var i=arguments.length,o=i<3?t:r===null?r=Object.getOwnPropertyDescriptor(t,e):r,a;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(n,t,e,r);else for(var s=n.length-1;s>=0;s--)(a=n[s])&&(o=(i<3?a(o):i>3?a(t,e,o):a(t,e))||o);return i>3&&o&&Object.defineProperty(t,e,o),o},TG=function(n){VRe(t,n);function t(e,r){r===void 0&&(r=!1);var i=n.call(this)||this;return i.callback=e,i.addSpacer=r,i}return t.prototype.postConstruct=function(){var e=this.setWidth.bind(this);this.addManagedPropertyListener("domLayout",e),this.addManagedListener(this.eventService,P.EVENT_COLUMN_CONTAINER_WIDTH_CHANGED,e),this.addManagedListener(this.eventService,P.EVENT_DISPLAYED_COLUMNS_CHANGED,e),this.addManagedListener(this.eventService,P.EVENT_LEFT_PINNED_WIDTH_CHANGED,e),this.addSpacer&&(this.addManagedListener(this.eventService,P.EVENT_RIGHT_PINNED_WIDTH_CHANGED,e),this.addManagedListener(this.eventService,P.EVENT_SCROLL_VISIBILITY_CHANGED,e),this.addManagedListener(this.eventService,P.EVENT_SCROLLBAR_WIDTH_CHANGED,e)),this.setWidth()},t.prototype.setWidth=function(){var e=this.columnModel,r=this.gridOptionsService.isDomLayout("print"),i=e.getBodyContainerWidth(),o=e.getDisplayedColumnsLeftWidth(),a=e.getDisplayedColumnsRightWidth(),s;if(r)s=i+o+a;else if(s=i,this.addSpacer){var l=this.gridOptionsService.get("enableRtl")?o:a;l===0&&this.scrollVisibleService.isVerticalScrollShowing()&&(s+=this.gridOptionsService.getScrollbarWidth())}this.callback(s)},eD([E("columnModel")],t.prototype,"columnModel",void 0),eD([E("scrollVisibleService")],t.prototype,"scrollVisibleService",void 0),eD([z],t.prototype,"postConstruct",null),t}(q),BRe=function(){var n=function(t,e){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])},n(t,e)};return function(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");n(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}}(),bf=function(n,t,e,r){var i=arguments.length,o=i<3?t:r===null?r=Object.getOwnPropertyDescriptor(t,e):r,a;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(n,t,e,r);else for(var s=n.length-1;s>=0;s--)(a=n[s])&&(o=(i<3?a(o):i>3?a(t,e,o):a(t,e))||o);return i>3&&o&&Object.defineProperty(t,e,o),o},l_=function(n,t){var e=typeof Symbol=="function"&&n[Symbol.iterator];if(!e)return n;var r=e.call(n),i,o=[],a;try{for(;(t===void 0||t-- >0)&&!(i=r.next()).done;)o.push(i.value)}catch(s){a={error:s}}finally{try{i&&!i.done&&(e=r.return)&&e.call(r)}finally{if(a)throw a.error}}return o},u_=function(n,t,e){if(e||arguments.length===2)for(var r=0,i=t.length,o;r<i;r++)(o||!(r in t))&&(o||(o=Array.prototype.slice.call(t,0,r)),o[r]=t[r]);return n.concat(o||Array.prototype.slice.call(t))},ne;(function(n){n.LEFT="left",n.RIGHT="right",n.CENTER="center",n.FULL_WIDTH="fullWidth",n.TOP_LEFT="topLeft",n.TOP_RIGHT="topRight",n.TOP_CENTER="topCenter",n.TOP_FULL_WIDTH="topFullWidth",n.STICKY_TOP_LEFT="stickyTopLeft",n.STICKY_TOP_RIGHT="stickyTopRight",n.STICKY_TOP_CENTER="stickyTopCenter",n.STICKY_TOP_FULL_WIDTH="stickyTopFullWidth",n.BOTTOM_LEFT="bottomLeft",n.BOTTOM_RIGHT="bottomRight",n.BOTTOM_CENTER="bottomCenter",n.BOTTOM_FULL_WIDTH="bottomFullWidth"})(ne||(ne={}));var qr;(function(n){n.LEFT="left",n.RIGHT="right",n.CENTER="center",n.FULL_WIDTH="fullWidth"})(qr||(qr={}));function SX(n){switch(n){case ne.CENTER:case ne.TOP_CENTER:case ne.STICKY_TOP_CENTER:case ne.BOTTOM_CENTER:return qr.CENTER;case ne.LEFT:case ne.TOP_LEFT:case ne.STICKY_TOP_LEFT:case ne.BOTTOM_LEFT:return qr.LEFT;case ne.RIGHT:case ne.TOP_RIGHT:case ne.STICKY_TOP_RIGHT:case ne.BOTTOM_RIGHT:return qr.RIGHT;case ne.FULL_WIDTH:case ne.TOP_FULL_WIDTH:case ne.STICKY_TOP_FULL_WIDTH:case ne.BOTTOM_FULL_WIDTH:return qr.FULL_WIDTH;default:throw Error("Invalid Row Container Type")}}var HRe=id([[ne.CENTER,"ag-center-cols-container"],[ne.LEFT,"ag-pinned-left-cols-container"],[ne.RIGHT,"ag-pinned-right-cols-container"],[ne.FULL_WIDTH,"ag-full-width-container"],[ne.TOP_CENTER,"ag-floating-top-container"],[ne.TOP_LEFT,"ag-pinned-left-floating-top"],[ne.TOP_RIGHT,"ag-pinned-right-floating-top"],[ne.TOP_FULL_WIDTH,"ag-floating-top-full-width-container"],[ne.STICKY_TOP_CENTER,"ag-sticky-top-container"],[ne.STICKY_TOP_LEFT,"ag-pinned-left-sticky-top"],[ne.STICKY_TOP_RIGHT,"ag-pinned-right-sticky-top"],[ne.STICKY_TOP_FULL_WIDTH,"ag-sticky-top-full-width-container"],[ne.BOTTOM_CENTER,"ag-floating-bottom-container"],[ne.BOTTOM_LEFT,"ag-pinned-left-floating-bottom"],[ne.BOTTOM_RIGHT,"ag-pinned-right-floating-bottom"],[ne.BOTTOM_FULL_WIDTH,"ag-floating-bottom-full-width-container"]]),jRe=id([[ne.CENTER,"ag-center-cols-viewport"],[ne.TOP_CENTER,"ag-floating-top-viewport"],[ne.STICKY_TOP_CENTER,"ag-sticky-top-viewport"],[ne.BOTTOM_CENTER,"ag-floating-bottom-viewport"]]),PG=function(n){BRe(t,n);function t(e){var r=n.call(this)||this;return r.visible=!0,r.EMPTY_CTRLS=[],r.name=e,r.isFullWithContainer=r.name===ne.TOP_FULL_WIDTH||r.name===ne.STICKY_TOP_FULL_WIDTH||r.name===ne.BOTTOM_FULL_WIDTH||r.name===ne.FULL_WIDTH,r}return t.getRowContainerCssClasses=function(e){var r=HRe.get(e),i=jRe.get(e);return{container:r,viewport:i}},t.getPinned=function(e){switch(e){case ne.BOTTOM_LEFT:case ne.TOP_LEFT:case ne.STICKY_TOP_LEFT:case ne.LEFT:return"left";case ne.BOTTOM_RIGHT:case ne.TOP_RIGHT:case ne.STICKY_TOP_RIGHT:case ne.RIGHT:return"right";default:return null}},t.prototype.postConstruct=function(){var e=this;this.enableRtl=this.gridOptionsService.get("enableRtl"),this.forContainers([ne.CENTER],function(){return e.viewportSizeFeature=e.createManagedBean(new DRe(e))})},t.prototype.registerWithCtrlsService=function(){switch(this.name){case ne.CENTER:this.ctrlsService.registerCenterRowContainerCtrl(this);break;case ne.LEFT:this.ctrlsService.registerLeftRowContainerCtrl(this);break;case ne.RIGHT:this.ctrlsService.registerRightRowContainerCtrl(this);break;case ne.TOP_CENTER:this.ctrlsService.registerTopCenterRowContainerCtrl(this);break;case ne.TOP_LEFT:this.ctrlsService.registerTopLeftRowContainerCon(this);break;case ne.TOP_RIGHT:this.ctrlsService.registerTopRightRowContainerCtrl(this);break;case ne.STICKY_TOP_CENTER:this.ctrlsService.registerStickyTopCenterRowContainerCtrl(this);break;case ne.STICKY_TOP_LEFT:this.ctrlsService.registerStickyTopLeftRowContainerCon(this);break;case ne.STICKY_TOP_RIGHT:this.ctrlsService.registerStickyTopRightRowContainerCtrl(this);break;case ne.BOTTOM_CENTER:this.ctrlsService.registerBottomCenterRowContainerCtrl(this);break;case ne.BOTTOM_LEFT:this.ctrlsService.registerBottomLeftRowContainerCtrl(this);break;case ne.BOTTOM_RIGHT:this.ctrlsService.registerBottomRightRowContainerCtrl(this);break}},t.prototype.forContainers=function(e,r){e.indexOf(this.name)>=0&&r()},t.prototype.getContainerElement=function(){return this.eContainer},t.prototype.getViewportSizeFeature=function(){return this.viewportSizeFeature},t.prototype.setComp=function(e,r,i){var o=this;this.comp=e,this.eContainer=r,this.eViewport=i,this.createManagedBean(new PRe(this.eContainer)),this.addPreventScrollWhileDragging(),this.listenOnDomOrder(),this.stopHScrollOnPinnedRows();var a=[ne.TOP_CENTER,ne.TOP_LEFT,ne.TOP_RIGHT],s=[ne.STICKY_TOP_CENTER,ne.STICKY_TOP_LEFT,ne.STICKY_TOP_RIGHT],l=[ne.BOTTOM_CENTER,ne.BOTTOM_LEFT,ne.BOTTOM_RIGHT],u=[ne.CENTER,ne.LEFT,ne.RIGHT],c=u_(u_(u_(u_([],l_(a),!1),l_(l),!1),l_(u),!1),l_(s),!1),d=[ne.CENTER,ne.LEFT,ne.RIGHT,ne.FULL_WIDTH],p=[ne.CENTER,ne.TOP_CENTER,ne.STICKY_TOP_CENTER,ne.BOTTOM_CENTER],h=[ne.LEFT,ne.BOTTOM_LEFT,ne.TOP_LEFT,ne.STICKY_TOP_LEFT],f=[ne.RIGHT,ne.BOTTOM_RIGHT,ne.TOP_RIGHT,ne.STICKY_TOP_RIGHT];this.forContainers(h,function(){o.pinnedWidthFeature=o.createManagedBean(new FRe(o.eContainer)),o.addManagedListener(o.eventService,P.EVENT_LEFT_PINNED_WIDTH_CHANGED,function(){return o.onPinnedWidthChanged()})}),this.forContainers(f,function(){o.pinnedWidthFeature=o.createManagedBean(new IRe(o.eContainer)),o.addManagedListener(o.eventService,P.EVENT_RIGHT_PINNED_WIDTH_CHANGED,function(){return o.onPinnedWidthChanged()})}),this.forContainers(d,function(){return o.createManagedBean(new CX(o.eContainer,o.name===ne.CENTER?i:void 0))}),this.forContainers(c,function(){return o.createManagedBean(new GRe(o.eContainer))}),this.forContainers(p,function(){return o.createManagedBean(new TG(function(v){return o.comp.setContainerWidth("".concat(v,"px"))}))}),this.addListeners(),this.registerWithCtrlsService()},t.prototype.addListeners=function(){var e=this;this.addManagedListener(this.eventService,P.EVENT_DISPLAYED_COLUMNS_CHANGED,function(){return e.onDisplayedColumnsChanged()}),this.addManagedListener(this.eventService,P.EVENT_DISPLAYED_COLUMNS_WIDTH_CHANGED,function(){return e.onDisplayedColumnsWidthChanged()}),this.addManagedListener(this.eventService,P.EVENT_DISPLAYED_ROWS_CHANGED,function(r){return e.onDisplayedRowsChanged(r.afterScroll)}),this.onDisplayedColumnsChanged(),this.onDisplayedColumnsWidthChanged(),this.onDisplayedRowsChanged()},t.prototype.listenOnDomOrder=function(){var e=this,r=[ne.STICKY_TOP_CENTER,ne.STICKY_TOP_LEFT,ne.STICKY_TOP_RIGHT,ne.STICKY_TOP_FULL_WIDTH],i=r.indexOf(this.name)>=0;if(i){this.comp.setDomOrder(!0);return}var o=function(){var a=e.gridOptionsService.get("ensureDomOrder"),s=e.gridOptionsService.isDomLayout("print");e.comp.setDomOrder(a||s)};this.addManagedPropertyListener("domLayout",o),o()},t.prototype.stopHScrollOnPinnedRows=function(){var e=this;this.forContainers([ne.TOP_CENTER,ne.STICKY_TOP_CENTER,ne.BOTTOM_CENTER],function(){var r=function(){return e.eViewport.scrollLeft=0};e.addManagedListener(e.eViewport,"scroll",r)})},t.prototype.onDisplayedColumnsChanged=function(){var e=this;this.forContainers([ne.CENTER],function(){return e.onHorizontalViewportChanged()})},t.prototype.onDisplayedColumnsWidthChanged=function(){var e=this;this.forContainers([ne.CENTER],function(){return e.onHorizontalViewportChanged()})},t.prototype.addPreventScrollWhileDragging=function(){var e=this,r=function(i){e.dragService.isDragging()&&i.cancelable&&i.preventDefault()};this.eContainer.addEventListener("touchmove",r,{passive:!1}),this.addDestroyFunc(function(){return e.eContainer.removeEventListener("touchmove",r)})},t.prototype.onHorizontalViewportChanged=function(e){e===void 0&&(e=!1);var r=this.getCenterWidth(),i=this.getCenterViewportScrollLeft();this.columnModel.setViewportPosition(r,i,e)},t.prototype.getCenterWidth=function(){return rf(this.eViewport)},t.prototype.getCenterViewportScrollLeft=function(){return FS(this.eViewport,this.enableRtl)},t.prototype.registerViewportResizeListener=function(e){var r=this.resizeObserverService.observeResize(this.eViewport,e);this.addDestroyFunc(function(){return r()})},t.prototype.isViewportInTheDOMTree=function(){return lG(this.eViewport)},t.prototype.getViewportScrollLeft=function(){return FS(this.eViewport,this.enableRtl)},t.prototype.isHorizontalScrollShowing=function(){var e=this.gridOptionsService.get("alwaysShowHorizontalScroll");return e||bY(this.eViewport)},t.prototype.getViewportElement=function(){return this.eViewport},t.prototype.setContainerTranslateX=function(e){this.eContainer.style.transform="translateX(".concat(e,"px)")},t.prototype.getHScrollPosition=function(){var e={left:this.eViewport.scrollLeft,right:this.eViewport.scrollLeft+this.eViewport.offsetWidth};return e},t.prototype.setCenterViewportScrollLeft=function(e){LS(this.eViewport,e,this.enableRtl)},t.prototype.isContainerVisible=function(){var e=t.getPinned(this.name);return!e||!!this.pinnedWidthFeature&&this.pinnedWidthFeature.getWidth()>0},t.prototype.onPinnedWidthChanged=function(){var e=this.isContainerVisible();this.visible!=e&&(this.visible=e,this.onDisplayedRowsChanged())},t.prototype.onDisplayedRowsChanged=function(e){var r=this;if(e===void 0&&(e=!1),!this.visible){this.comp.setRowCtrls({rowCtrls:this.EMPTY_CTRLS});return}var i=this.gridOptionsService.isDomLayout("print"),o=this.gridOptionsService.get("embedFullWidthRows"),a=o||i,s=this.getRowCtrls().filter(function(l){var u=l.isFullWidth(),c=r.isFullWithContainer?!a&&u:a||!u;return c});this.comp.setRowCtrls({rowCtrls:s,useFlushSync:e})},t.prototype.getRowCtrls=function(){switch(this.name){case ne.TOP_CENTER:case ne.TOP_LEFT:case ne.TOP_RIGHT:case ne.TOP_FULL_WIDTH:return this.rowRenderer.getTopRowCtrls();case ne.STICKY_TOP_CENTER:case ne.STICKY_TOP_LEFT:case ne.STICKY_TOP_RIGHT:case ne.STICKY_TOP_FULL_WIDTH:return this.rowRenderer.getStickyTopRowCtrls();case ne.BOTTOM_CENTER:case ne.BOTTOM_LEFT:case ne.BOTTOM_RIGHT:case ne.BOTTOM_FULL_WIDTH:return this.rowRenderer.getBottomRowCtrls();default:return this.rowRenderer.getCentreRowCtrls()}},bf([E("dragService")],t.prototype,"dragService",void 0),bf([E("ctrlsService")],t.prototype,"ctrlsService",void 0),bf([E("columnModel")],t.prototype,"columnModel",void 0),bf([E("resizeObserverService")],t.prototype,"resizeObserverService",void 0),bf([E("rowRenderer")],t.prototype,"rowRenderer",void 0),bf([z],t.prototype,"postConstruct",null),t}(q),$Re=function(){var n=function(t,e){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])},n(t,e)};return function(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");n(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}}(),cu=function(n,t,e,r){var i=arguments.length,o=i<3?t:r===null?r=Object.getOwnPropertyDescriptor(t,e):r,a;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(n,t,e,r);else for(var s=n.length-1;s>=0;s--)(a=n[s])&&(o=(i<3?a(o):i>3?a(t,e,o):a(t,e))||o);return i>3&&o&&Object.defineProperty(t,e,o),o},WRe=`<div class="ag-root ag-unselectable" role="treegrid">
        <ag-header-root ref="gridHeader"></ag-header-root>
        <div class="ag-floating-top" ref="eTop" role="presentation">
            <ag-row-container ref="topLeftContainer" name="`.concat(ne.TOP_LEFT,`"></ag-row-container>
            <ag-row-container ref="topCenterContainer" name="`).concat(ne.TOP_CENTER,`"></ag-row-container>
            <ag-row-container ref="topRightContainer" name="`).concat(ne.TOP_RIGHT,`"></ag-row-container>
            <ag-row-container ref="topFullWidthContainer" name="`).concat(ne.TOP_FULL_WIDTH,`"></ag-row-container>
        </div>
        <div class="ag-body" ref="eBody" role="presentation">
            <div class="ag-body-viewport" ref="eBodyViewport" role="presentation">
                <ag-row-container ref="leftContainer" name="`).concat(ne.LEFT,`"></ag-row-container>
                <ag-row-container ref="centerContainer" name="`).concat(ne.CENTER,`"></ag-row-container>
                <ag-row-container ref="rightContainer" name="`).concat(ne.RIGHT,`"></ag-row-container>
                <ag-row-container ref="fullWidthContainer" name="`).concat(ne.FULL_WIDTH,`"></ag-row-container>
            </div>
            <ag-fake-vertical-scroll></ag-fake-vertical-scroll>
        </div>
        <div class="ag-sticky-top" ref="eStickyTop" role="presentation">
            <ag-row-container ref="stickyTopLeftContainer" name="`).concat(ne.STICKY_TOP_LEFT,`"></ag-row-container>
            <ag-row-container ref="stickyTopCenterContainer" name="`).concat(ne.STICKY_TOP_CENTER,`"></ag-row-container>
            <ag-row-container ref="stickyTopRightContainer" name="`).concat(ne.STICKY_TOP_RIGHT,`"></ag-row-container>
            <ag-row-container ref="stickyTopFullWidthContainer" name="`).concat(ne.STICKY_TOP_FULL_WIDTH,`"></ag-row-container>
        </div>
        <div class="ag-floating-bottom" ref="eBottom" role="presentation">
            <ag-row-container ref="bottomLeftContainer" name="`).concat(ne.BOTTOM_LEFT,`"></ag-row-container>
            <ag-row-container ref="bottomCenterContainer" name="`).concat(ne.BOTTOM_CENTER,`"></ag-row-container>
            <ag-row-container ref="bottomRightContainer" name="`).concat(ne.BOTTOM_RIGHT,`"></ag-row-container>
            <ag-row-container ref="bottomFullWidthContainer" name="`).concat(ne.BOTTOM_FULL_WIDTH,`"></ag-row-container>
        </div>
        <ag-fake-horizontal-scroll></ag-fake-horizontal-scroll>
        <ag-overlay-wrapper></ag-overlay-wrapper>
    </div>`),wX=function(n){$Re(t,n);function t(){return n.call(this,WRe)||this}return t.prototype.init=function(){var e=this,r=function(o,a){var s="".concat(o,"px");a.style.minHeight=s,a.style.height=s},i={setRowAnimationCssOnBodyViewport:function(o,a){return e.setRowAnimationCssOnBodyViewport(o,a)},setColumnCount:function(o){return pY(e.getGui(),o)},setRowCount:function(o){return dY(e.getGui(),o)},setTopHeight:function(o){return r(o,e.eTop)},setBottomHeight:function(o){return r(o,e.eBottom)},setTopDisplay:function(o){return e.eTop.style.display=o},setBottomDisplay:function(o){return e.eBottom.style.display=o},setStickyTopHeight:function(o){return e.eStickyTop.style.height=o},setStickyTopTop:function(o){return e.eStickyTop.style.top=o},setStickyTopWidth:function(o){return e.eStickyTop.style.width=o},setColumnMovingCss:function(o,a){return e.addOrRemoveCssClass(o,a)},updateLayoutClasses:function(o,a){var s=[e.eBodyViewport.classList,e.eBody.classList];s.forEach(function(l){l.toggle(Hr.AUTO_HEIGHT,a.autoHeight),l.toggle(Hr.NORMAL,a.normal),l.toggle(Hr.PRINT,a.print)}),e.addOrRemoveCssClass(Hr.AUTO_HEIGHT,a.autoHeight),e.addOrRemoveCssClass(Hr.NORMAL,a.normal),e.addOrRemoveCssClass(Hr.PRINT,a.print)},setAlwaysVerticalScrollClass:function(o,a){return e.eBodyViewport.classList.toggle(yX,a)},registerBodyViewportResizeListener:function(o){var a=e.resizeObserverService.observeResize(e.eBodyViewport,o);e.addDestroyFunc(function(){return a()})},setPinnedTopBottomOverflowY:function(o){return e.eTop.style.overflowY=e.eBottom.style.overflowY=o},setCellSelectableCss:function(o,a){[e.eTop,e.eBodyViewport,e.eBottom].forEach(function(s){return s.classList.toggle(o,a)})},setBodyViewportWidth:function(o){return e.eBodyViewport.style.width=o}};this.ctrl=this.createManagedBean(new mX),this.ctrl.setComp(i,this.getGui(),this.eBodyViewport,this.eTop,this.eBottom,this.eStickyTop),(this.rangeService&&this.gridOptionsService.get("enableRangeSelection")||this.gridOptionsService.get("rowSelection")==="multiple")&&cY(this.getGui(),!0)},t.prototype.setRowAnimationCssOnBodyViewport=function(e,r){var i=this.eBodyViewport.classList;i.toggle(Uh.ANIMATION_ON,r),i.toggle(Uh.ANIMATION_OFF,!r)},t.prototype.getFloatingTopBottom=function(){return[this.eTop,this.eBottom]},cu([E("resizeObserverService")],t.prototype,"resizeObserverService",void 0),cu([qe("rangeService")],t.prototype,"rangeService",void 0),cu([$("eBodyViewport")],t.prototype,"eBodyViewport",void 0),cu([$("eStickyTop")],t.prototype,"eStickyTop",void 0),cu([$("eTop")],t.prototype,"eTop",void 0),cu([$("eBottom")],t.prototype,"eBottom",void 0),cu([$("gridHeader")],t.prototype,"headerRootComp",void 0),cu([$("eBody")],t.prototype,"eBody",void 0),cu([z],t.prototype,"init",null),t}(de),URe=function(){var n=function(t,e){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])},n(t,e)};return function(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");n(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}}(),c_=function(n,t,e,r){var i=arguments.length,o=i<3?t:r===null?r=Object.getOwnPropertyDescriptor(t,e):r,a;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(n,t,e,r);else for(var s=n.length-1;s>=0;s--)(a=n[s])&&(o=(i<3?a(o):i>3?a(t,e,o):a(t,e))||o);return i>3&&o&&Object.defineProperty(t,e,o),o},_X=function(n){URe(t,n);function t(){return n!==null&&n.apply(this,arguments)||this}return t.prototype.postConstruct=function(){this.addManagedListener(this.eventService,P.EVENT_DISPLAYED_COLUMNS_CHANGED,this.onDisplayedColumnsChanged.bind(this)),this.addManagedListener(this.eventService,P.EVENT_DISPLAYED_COLUMNS_WIDTH_CHANGED,this.onDisplayedColumnsWidthChanged.bind(this))},t.prototype.onDisplayedColumnsChanged=function(){this.update()},t.prototype.onDisplayedColumnsWidthChanged=function(){this.update()},t.prototype.update=function(){var e=this;this.columnAnimationService.isActive()?this.columnAnimationService.executeLaterVMTurn(function(){e.columnAnimationService.executeLaterVMTurn(function(){return e.updateImpl()})}):this.updateImpl()},t.prototype.updateImpl=function(){var e=this.ctrlsService.getCenterRowContainerCtrl();if(!(!e||this.columnAnimationService.isActive())){var r={horizontalScrollShowing:e.isHorizontalScrollShowing(),verticalScrollShowing:this.isVerticalScrollShowing()};this.setScrollsVisible(r)}},t.prototype.setScrollsVisible=function(e){var r=this.horizontalScrollShowing!==e.horizontalScrollShowing||this.verticalScrollShowing!==e.verticalScrollShowing;if(r){this.horizontalScrollShowing=e.horizontalScrollShowing,this.verticalScrollShowing=e.verticalScrollShowing;var i={type:P.EVENT_SCROLL_VISIBILITY_CHANGED};this.eventService.dispatchEvent(i)}},t.prototype.isHorizontalScrollShowing=function(){return this.horizontalScrollShowing},t.prototype.isVerticalScrollShowing=function(){return this.verticalScrollShowing},c_([E("ctrlsService")],t.prototype,"ctrlsService",void 0),c_([E("columnAnimationService")],t.prototype,"columnAnimationService",void 0),c_([z],t.prototype,"postConstruct",null),t=c_([ae("scrollVisibleService")],t),t}(q),zRe=function(){var n=function(t,e){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])},n(t,e)};return function(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");n(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}}(),T3=function(n,t,e,r){var i=arguments.length,o=i<3?t:r===null?r=Object.getOwnPropertyDescriptor(t,e):r,a;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(n,t,e,r);else for(var s=n.length-1;s>=0;s--)(a=n[s])&&(o=(i<3?a(o):i>3?a(t,e,o):a(t,e))||o);return i>3&&o&&Object.defineProperty(t,e,o),o},xX=function(n){zRe(t,n);function t(){var r=n!==null&&n.apply(this,arguments)||this;return r.gridInstanceId=e.gridInstanceSequence.next(),r}e=t,t.prototype.stampTopLevelGridCompWithGridInstance=function(r){r[e.GRID_DOM_KEY]=this.gridInstanceId},t.prototype.getRenderedCellForEvent=function(r){return Mb(this.gridOptionsService,r.target,Iu.DOM_DATA_KEY_CELL_CTRL)},t.prototype.isEventFromThisGrid=function(r){var i=this.isElementInThisGrid(r.target);return i},t.prototype.isElementInThisGrid=function(r){for(var i=r;i;){var o=i[e.GRID_DOM_KEY];if(ce(o)){var a=o===this.gridInstanceId;return a}i=i.parentElement}return!1},t.prototype.getCellPositionForEvent=function(r){var i=this.getRenderedCellForEvent(r);return i?i.getCellPosition():null},t.prototype.getNormalisedPosition=function(r){var i=this.gridOptionsService.isDomLayout("normal"),o=r,a,s;if(o.clientX!=null||o.clientY!=null?(a=o.clientX,s=o.clientY):(a=o.x,s=o.y),i){var l=this.ctrlsService.getGridBodyCtrl(),u=l.getScrollFeature().getVScrollPosition(),c=l.getScrollFeature().getHScrollPosition();a+=c.left,s+=u.top}return{x:a,y:s}};var e;return t.gridInstanceSequence=new Kn,t.GRID_DOM_KEY="__ag_grid_instance",T3([E("ctrlsService")],t.prototype,"ctrlsService",void 0),t=e=T3([ae("mouseEventService")],t),t}(q),KRe=function(){var n=function(t,e){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])},n(t,e)};return function(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");n(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}}(),$b=function(){return $b=Object.assign||function(n){for(var t,e=1,r=arguments.length;e<r;e++){t=arguments[e];for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(n[i]=t[i])}return n},$b.apply(this,arguments)},Bi=function(n,t,e,r){var i=arguments.length,o=i<3?t:r===null?r=Object.getOwnPropertyDescriptor(t,e):r,a;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(n,t,e,r);else for(var s=n.length-1;s>=0;s--)(a=n[s])&&(o=(i<3?a(o):i>3?a(t,e,o):a(t,e))||o);return i>3&&o&&Object.defineProperty(t,e,o),o},EX=function(n){KRe(t,n);function t(){var e=n.call(this)||this;return e.onPageDown=mL(e.onPageDown,100),e.onPageUp=mL(e.onPageUp,100),e}return t.prototype.postConstruct=function(){var e=this;this.ctrlsService.whenReady(function(r){e.gridBodyCon=r.gridBodyCtrl})},t.prototype.handlePageScrollingKey=function(e,r){r===void 0&&(r=!1);var i=e.key,o=e.altKey,a=e.ctrlKey||e.metaKey,s=!!this.rangeService&&e.shiftKey,l=this.mouseEventService.getCellPositionForEvent(e),u=!1;switch(i){case U.PAGE_HOME:case U.PAGE_END:!a&&!o&&(this.onHomeOrEndKey(i),u=!0);break;case U.LEFT:case U.RIGHT:case U.UP:case U.DOWN:if(!l)return!1;a&&!o&&!s&&(this.onCtrlUpDownLeftRight(i,l),u=!0);break;case U.PAGE_DOWN:case U.PAGE_UP:!a&&!o&&(u=this.handlePageUpDown(i,l,r));break}return u&&e.preventDefault(),u},t.prototype.handlePageUpDown=function(e,r,i){return i&&(r=this.focusService.getFocusedCell()),r?(e===U.PAGE_UP?this.onPageUp(r):this.onPageDown(r),!0):!1},t.prototype.navigateTo=function(e){var r=e.scrollIndex,i=e.scrollType,o=e.scrollColumn,a=e.focusIndex,s=e.focusColumn;if(ce(o)&&!o.isPinned()&&this.gridBodyCon.getScrollFeature().ensureColumnVisible(o),ce(r)&&this.gridBodyCon.getScrollFeature().ensureIndexVisible(r,i),e.isAsync||this.gridBodyCon.getScrollFeature().ensureIndexVisible(a),this.focusService.setFocusedCell({rowIndex:a,column:s,rowPinned:null,forceBrowserFocus:!0}),this.rangeService){var l={rowIndex:a,rowPinned:null,column:s};this.rangeService.setRangeToCell(l)}},t.prototype.onPageDown=function(e){var r=this.ctrlsService.getGridBodyCtrl(),i=r.getScrollFeature().getVScrollPosition(),o=this.getViewportHeight(),a=this.paginationProxy.getPixelOffset(),s=i.top+o,l=this.paginationProxy.getRowIndexAtPixel(s+a);this.columnModel.isAutoRowHeightActive()?this.navigateToNextPageWithAutoHeight(e,l):this.navigateToNextPage(e,l)},t.prototype.onPageUp=function(e){var r=this.ctrlsService.getGridBodyCtrl(),i=r.getScrollFeature().getVScrollPosition(),o=this.paginationProxy.getPixelOffset(),a=i.top,s=this.paginationProxy.getRowIndexAtPixel(a+o);this.columnModel.isAutoRowHeightActive()?this.navigateToNextPageWithAutoHeight(e,s,!0):this.navigateToNextPage(e,s,!0)},t.prototype.navigateToNextPage=function(e,r,i){i===void 0&&(i=!1);var o=this.getViewportHeight(),a=this.paginationProxy.getPageFirstRow(),s=this.paginationProxy.getPageLastRow(),l=this.paginationProxy.getPixelOffset(),u=this.paginationProxy.getRow(e.rowIndex),c=i?(u==null?void 0:u.rowHeight)-o-l:o-l,d=(u==null?void 0:u.rowTop)+c,p=this.paginationProxy.getRowIndexAtPixel(d+l);if(p===e.rowIndex){var h=i?-1:1;r=p=e.rowIndex+h}var f;i?(f="bottom",p<a&&(p=a),r<a&&(r=a)):(f="top",p>s&&(p=s),r>s&&(r=s)),this.isRowTallerThanView(p)&&(r=p,f="top"),this.navigateTo({scrollIndex:r,scrollType:f,scrollColumn:null,focusIndex:p,focusColumn:e.column})},t.prototype.navigateToNextPageWithAutoHeight=function(e,r,i){var o=this;i===void 0&&(i=!1),this.navigateTo({scrollIndex:r,scrollType:i?"bottom":"top",scrollColumn:null,focusIndex:r,focusColumn:e.column}),setTimeout(function(){var a=o.getNextFocusIndexForAutoHeight(e,i);o.navigateTo({scrollIndex:r,scrollType:i?"bottom":"top",scrollColumn:null,focusIndex:a,focusColumn:e.column,isAsync:!0})},50)},t.prototype.getNextFocusIndexForAutoHeight=function(e,r){var i;r===void 0&&(r=!1);for(var o=r?-1:1,a=this.getViewportHeight(),s=this.paginationProxy.getPageLastRow(),l=0,u=e.rowIndex;u>=0&&u<=s;){var c=this.paginationProxy.getRow(u);if(c){var d=(i=c.rowHeight)!==null&&i!==void 0?i:0;if(l+d>a)break;l+=d}u+=o}return Math.max(0,Math.min(u,s))},t.prototype.getViewportHeight=function(){var e=this.ctrlsService.getGridBodyCtrl(),r=e.getScrollFeature().getVScrollPosition(),i=this.gridOptionsService.getScrollbarWidth(),o=r.bottom-r.top;return this.ctrlsService.getCenterRowContainerCtrl().isHorizontalScrollShowing()&&(o-=i),o},t.prototype.isRowTallerThanView=function(e){var r=this.paginationProxy.getRow(e);if(!r)return!1;var i=r.rowHeight;return typeof i!="number"?!1:i>this.getViewportHeight()},t.prototype.onCtrlUpDownLeftRight=function(e,r){var i=this.cellNavigationService.getNextCellToFocus(e,r,!0),o=i.rowIndex,a=i.column;this.navigateTo({scrollIndex:o,scrollType:null,scrollColumn:a,focusIndex:o,focusColumn:a})},t.prototype.onHomeOrEndKey=function(e){var r=e===U.PAGE_HOME,i=this.columnModel.getAllDisplayedColumns(),o=r?i[0]:bt(i),a=r?this.paginationProxy.getPageFirstRow():this.paginationProxy.getPageLastRow();this.navigateTo({scrollIndex:a,scrollType:null,scrollColumn:o,focusIndex:a,focusColumn:o})},t.prototype.onTabKeyDown=function(e,r){var i=r.shiftKey,o=this.tabToNextCellCommon(e,i,r);if(o){r.preventDefault();return}if(i){var a=e.getRowPosition(),s=a.rowIndex,l=a.rowPinned,u=l?s===0:s===this.paginationProxy.getPageFirstRow();u&&(this.gridOptionsService.get("headerHeight")===0||this.gridOptionsService.get("suppressHeaderFocus")?this.focusService.focusNextGridCoreContainer(!0,!0):(r.preventDefault(),this.focusService.focusPreviousFromFirstCell(r)))}else e instanceof Iu&&e.focusCell(!0),this.focusService.focusNextGridCoreContainer(i)&&r.preventDefault()},t.prototype.tabToNextCell=function(e,r){var i=this.focusService.getFocusedCell();if(!i)return!1;var o=this.getCellByPosition(i);return!o&&(o=this.rowRenderer.getRowByPosition(i),!o||!o.isFullWidth())?!1:this.tabToNextCellCommon(o,e,r)},t.prototype.tabToNextCellCommon=function(e,r,i){var o=e.isEditing();if(!o&&e instanceof Iu){var a=e,s=a.getRowCtrl();s&&(o=s.isEditing())}var l;return o?this.gridOptionsService.get("editType")==="fullRow"?l=this.moveToNextEditingRow(e,r,i):l=this.moveToNextEditingCell(e,r,i):l=this.moveToNextCellNotEditing(e,r),l||!!this.focusService.getFocusedHeader()},t.prototype.moveToNextEditingCell=function(e,r,i){i===void 0&&(i=null);var o=e.getCellPosition();e.getGui().focus(),e.stopEditing();var a=this.findNextCellToFocusOn(o,r,!0);return a==null?!1:(a.startEditing(null,!0,i),a.focusCell(!1),!0)},t.prototype.moveToNextEditingRow=function(e,r,i){i===void 0&&(i=null);var o=e.getCellPosition(),a=this.findNextCellToFocusOn(o,r,!0);if(a==null)return!1;var s=a.getCellPosition(),l=this.isCellEditable(o),u=this.isCellEditable(s),c=s&&o.rowIndex===s.rowIndex&&o.rowPinned===s.rowPinned;if(l&&e.setFocusOutOnEditor(),!c){var d=e.getRowCtrl();d.stopEditing();var p=a.getRowCtrl();p.startRowEditing(void 0,void 0,i)}return u?(a.setFocusInOnEditor(),a.focusCell()):a.focusCell(!0),!0},t.prototype.moveToNextCellNotEditing=function(e,r){var i=this.columnModel.getAllDisplayedColumns(),o;e instanceof Td?o=$b($b({},e.getRowPosition()),{column:r?i[0]:bt(i)}):o=e.getCellPosition();var a=this.findNextCellToFocusOn(o,r,!1);if(a instanceof Iu)a.focusCell(!0);else if(a)return this.tryToFocusFullWidthRow(a.getRowPosition(),r);return ce(a)},t.prototype.findNextCellToFocusOn=function(e,r,i){for(var o=e;;){e!==o&&(e=o),r||(o=this.getLastCellOfColSpan(o)),o=this.cellNavigationService.getNextTabbedCell(o,r);var a=this.gridOptionsService.getCallback("tabToNextCell");if(ce(a)){var s={backwards:r,editing:i,previousCellPosition:e,nextCellPosition:o||null},l=a(s);ce(l)?(l.floating&&(Le("tabToNextCellFunc return type should have attributes: rowIndex, rowPinned, column. However you had 'floating', maybe you meant 'rowPinned'?"),l.rowPinned=l.floating),o={rowIndex:l.rowIndex,column:l.column,rowPinned:l.rowPinned}):o=null}if(!o)return null;if(o.rowIndex<0){var u=this.headerNavigationService.getHeaderRowCount();return this.focusService.focusHeaderPosition({headerPosition:{headerRowIndex:u+o.rowIndex,column:o.column},fromCell:!0}),null}var c=this.gridOptionsService.get("editType")==="fullRow";if(i&&!c){var d=this.isCellEditable(o);if(!d)continue}this.ensureCellVisible(o);var p=this.getCellByPosition(o);if(!p){var h=this.rowRenderer.getRowByPosition(o);if(!h||!h.isFullWidth()||i)continue;return h}if(!p.isSuppressNavigable())return this.rangeService&&this.rangeService.setRangeToCell(o),p}},t.prototype.isCellEditable=function(e){var r=this.lookupRowNodeForCell(e);return r?e.column.isCellEditable(r):!1},t.prototype.getCellByPosition=function(e){var r=this.rowRenderer.getRowByPosition(e);return r?r.getCellCtrl(e.column):null},t.prototype.lookupRowNodeForCell=function(e){return e.rowPinned==="top"?this.pinnedRowModel.getPinnedTopRow(e.rowIndex):e.rowPinned==="bottom"?this.pinnedRowModel.getPinnedBottomRow(e.rowIndex):this.paginationProxy.getRow(e.rowIndex)},t.prototype.navigateToNextCell=function(e,r,i,o){for(var a=i,s=!1;a&&(a===i||!this.isValidNavigateCell(a));)this.gridOptionsService.get("enableRtl")?r===U.LEFT&&(a=this.getLastCellOfColSpan(a)):r===U.RIGHT&&(a=this.getLastCellOfColSpan(a)),a=this.cellNavigationService.getNextCellToFocus(r,a),s=je(a);if(s&&e&&e.key===U.UP&&(a={rowIndex:-1,rowPinned:null,column:i.column}),o){var l=this.gridOptionsService.getCallback("navigateToNextCell");if(ce(l)){var u={key:r,previousCellPosition:i,nextCellPosition:a||null,event:e},c=l(u);ce(c)?(c.floating&&(Le("tabToNextCellFunc return type should have attributes: rowIndex, rowPinned, column. However you had 'floating', maybe you meant 'rowPinned'?"),c.rowPinned=c.floating),a={rowPinned:c.rowPinned,rowIndex:c.rowIndex,column:c.column}):a=null}}if(a){if(a.rowIndex<0){var d=this.headerNavigationService.getHeaderRowCount();this.focusService.focusHeaderPosition({headerPosition:{headerRowIndex:d+a.rowIndex,column:i.column},event:e||void 0,fromCell:!0});return}var p=this.getNormalisedPosition(a);p?this.focusPosition(p):this.tryToFocusFullWidthRow(a)}},t.prototype.getNormalisedPosition=function(e){this.ensureCellVisible(e);var r=this.getCellByPosition(e);return r?(e=r.getCellPosition(),this.ensureCellVisible(e),e):null},t.prototype.tryToFocusFullWidthRow=function(e,r){r===void 0&&(r=!1);var i=this.columnModel.getAllDisplayedColumns(),o=this.rowRenderer.getRowByPosition(e);if(!o||!o.isFullWidth())return!1;var a=this.focusService.getFocusedCell(),s={rowIndex:e.rowIndex,rowPinned:e.rowPinned,column:e.column||(r?bt(i):i[0])};this.focusPosition(s);var l=a!=null?this.rowPositionUtils.before(s,a):!1,u={type:P.EVENT_FULL_WIDTH_ROW_FOCUSED,rowIndex:s.rowIndex,rowPinned:s.rowPinned,column:s.column,isFullWidthCell:!0,floating:s.rowPinned,fromBelow:l};return this.eventService.dispatchEvent(u),!0},t.prototype.focusPosition=function(e){this.focusService.setFocusedCell({rowIndex:e.rowIndex,column:e.column,rowPinned:e.rowPinned,forceBrowserFocus:!0}),this.rangeService&&this.rangeService.setRangeToCell(e)},t.prototype.isValidNavigateCell=function(e){var r=this.rowPositionUtils.getRowNode(e);return!!r},t.prototype.getLastCellOfColSpan=function(e){var r=this.getCellByPosition(e);if(!r)return e;var i=r.getColSpanningList();return i.length===1?e:{rowIndex:e.rowIndex,column:bt(i),rowPinned:e.rowPinned}},t.prototype.ensureCellVisible=function(e){var r=this.gridOptionsService.isGroupRowsSticky(),i=this.rowModel.getRow(e.rowIndex),o=r&&(i==null?void 0:i.sticky);!o&&je(e.rowPinned)&&this.gridBodyCon.getScrollFeature().ensureIndexVisible(e.rowIndex),e.column.isPinned()||this.gridBodyCon.getScrollFeature().ensureColumnVisible(e.column)},Bi([E("mouseEventService")],t.prototype,"mouseEventService",void 0),Bi([E("paginationProxy")],t.prototype,"paginationProxy",void 0),Bi([E("focusService")],t.prototype,"focusService",void 0),Bi([qe("rangeService")],t.prototype,"rangeService",void 0),Bi([E("columnModel")],t.prototype,"columnModel",void 0),Bi([E("rowModel")],t.prototype,"rowModel",void 0),Bi([E("ctrlsService")],t.prototype,"ctrlsService",void 0),Bi([E("rowRenderer")],t.prototype,"rowRenderer",void 0),Bi([E("headerNavigationService")],t.prototype,"headerNavigationService",void 0),Bi([E("rowPositionUtils")],t.prototype,"rowPositionUtils",void 0),Bi([E("cellNavigationService")],t.prototype,"cellNavigationService",void 0),Bi([E("pinnedRowModel")],t.prototype,"pinnedRowModel",void 0),Bi([z],t.prototype,"postConstruct",null),t=Bi([ae("navigationService")],t),t}(q),YRe=function(){var n=function(t,e){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])},n(t,e)};return function(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");n(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}}(),XRe=function(n,t,e,r){var i=arguments.length,o=i<3?t:r===null?r=Object.getOwnPropertyDescriptor(t,e):r,a;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(n,t,e,r);else for(var s=n.length-1;s>=0;s--)(a=n[s])&&(o=(i<3?a(o):i>3?a(t,e,o):a(t,e))||o);return i>3&&o&&Object.defineProperty(t,e,o),o},bX=function(n){YRe(t,n);function t(e){var r=n.call(this,'<div class="ag-popup-editor" tabindex="-1"/>')||this;return r.params=e,r}return t.prototype.postConstruct=function(){this.gridOptionsService.setDomData(this.getGui(),t.DOM_KEY_POPUP_EDITOR_WRAPPER,!0),this.addKeyDownListener()},t.prototype.addKeyDownListener=function(){var e=this,r=this.getGui(),i=this.params,o=function(a){Nb(e.gridOptionsService,a,i.node,i.column,!0)||i.onKeyDown(a)};this.addManagedListener(r,"keydown",o)},t.DOM_KEY_POPUP_EDITOR_WRAPPER="popupEditorWrapper",XRe([z],t.prototype,"postConstruct",null),t}(dc),qRe=function(){var n=function(t,e){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])},n(t,e)};return function(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");n(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}}(),OX=function(n){qRe(t,n);function t(e,r,i,o,a){var s=n.call(this)||this;s.rendererVersion=0,s.editorVersion=0,s.beans=e,s.column=r.getColumn(),s.rowNode=r.getRowNode(),s.rowCtrl=r.getRowCtrl(),s.eRow=o,s.cellCtrl=r;var l=document.createElement("div");l.setAttribute("comp-id","".concat(s.getCompId())),s.setTemplateFromElement(l);var u=s.getGui();s.forceWrapper=r.isForceWrapper(),s.refreshWrapper(!1);var c=function(h,f){f!=null&&f!=""?u.setAttribute(h,f):u.removeAttribute(h)};on(u,r.getCellAriaRole()),c("col-id",r.getColumnIdSanitised());var d=r.getTabIndex();d!==void 0&&c("tabindex",d.toString());var p={addOrRemoveCssClass:function(h,f){return s.addOrRemoveCssClass(h,f)},setUserStyles:function(h){return dG(u,h)},getFocusableElement:function(){return s.getFocusableElement()},setIncludeSelection:function(h){return s.includeSelection=h},setIncludeRowDrag:function(h){return s.includeRowDrag=h},setIncludeDndSource:function(h){return s.includeDndSource=h},setRenderDetails:function(h,f,v){return s.setRenderDetails(h,f,v)},setEditDetails:function(h,f,v){return s.setEditDetails(h,f,v)},getCellEditor:function(){return s.cellEditor||null},getCellRenderer:function(){return s.cellRenderer||null},getParentOfValue:function(){return s.getParentOfValue()}};return r.setComp(p,s.getGui(),s.eCellWrapper,i,a),s}return t.prototype.getParentOfValue=function(){return this.eCellValue?this.eCellValue:this.eCellWrapper?this.eCellWrapper:this.getGui()},t.prototype.setRenderDetails=function(e,r,i){var o=this.cellEditor&&!this.cellEditorPopupWrapper;if(!o){this.firstRender=this.firstRender==null;var a=this.refreshWrapper(!1);if(this.refreshEditStyles(!1),e){var s=i||a,l=s?!1:this.refreshCellRenderer(e);l||(this.destroyRenderer(),this.createCellRendererInstance(e))}else this.destroyRenderer(),this.insertValueWithoutCellRenderer(r)}},t.prototype.setEditDetails=function(e,r,i){e?this.createCellEditorInstance(e,r,i):this.destroyEditor()},t.prototype.removeControls=function(){this.checkboxSelectionComp=this.beans.context.destroyBean(this.checkboxSelectionComp),this.dndSourceComp=this.beans.context.destroyBean(this.dndSourceComp),this.rowDraggingComp=this.beans.context.destroyBean(this.rowDraggingComp)},t.prototype.refreshWrapper=function(e){var r=this.includeRowDrag||this.includeDndSource||this.includeSelection,i=r||this.forceWrapper,o=i&&this.eCellWrapper==null;if(o){var a=document.createElement("div");a.setAttribute("role","presentation"),a.setAttribute("class","ag-cell-wrapper"),this.eCellWrapper=a,this.getGui().appendChild(this.eCellWrapper)}var s=!i&&this.eCellWrapper!=null;s&&(Ml(this.eCellWrapper),this.eCellWrapper=void 0),this.addOrRemoveCssClass("ag-cell-value",!i);var l=!e&&i,u=l&&this.eCellValue==null;if(u){var c=document.createElement("span");c.setAttribute("role","presentation"),c.setAttribute("class","ag-cell-value"),this.eCellValue=c,this.eCellWrapper.appendChild(this.eCellValue)}var d=!l&&this.eCellValue!=null;d&&(Ml(this.eCellValue),this.eCellValue=void 0);var p=o||s||u||d;return p&&this.removeControls(),e||r&&this.addControls(),p},t.prototype.addControls=function(){this.includeRowDrag&&this.rowDraggingComp==null&&(this.rowDraggingComp=this.cellCtrl.createRowDragComp(),this.rowDraggingComp&&this.eCellWrapper.insertBefore(this.rowDraggingComp.getGui(),this.eCellValue)),this.includeDndSource&&this.dndSourceComp==null&&(this.dndSourceComp=this.cellCtrl.createDndSource(),this.eCellWrapper.insertBefore(this.dndSourceComp.getGui(),this.eCellValue)),this.includeSelection&&this.checkboxSelectionComp==null&&(this.checkboxSelectionComp=this.cellCtrl.createSelectionCheckbox(),this.eCellWrapper.insertBefore(this.checkboxSelectionComp.getGui(),this.eCellValue))},t.prototype.createCellEditorInstance=function(e,r,i){var o=this,a=this.editorVersion,s=e.newAgStackInstance();if(s){var l=e.params;s.then(function(c){return o.afterCellEditorCreated(a,c,l,r,i)});var u=je(this.cellEditor);u&&l.cellStartedEdit&&this.cellCtrl.focusCell(!0)}},t.prototype.insertValueWithoutCellRenderer=function(e){var r=this.getParentOfValue();Sn(r);var i=e!=null?tn(e,!0):null;i!=null&&(r.textContent=i)},t.prototype.destroyEditorAndRenderer=function(){this.destroyRenderer(),this.destroyEditor()},t.prototype.destroyRenderer=function(){var e=this.beans.context;this.cellRenderer=e.destroyBean(this.cellRenderer),Ml(this.cellRendererGui),this.cellRendererGui=null,this.rendererVersion++},t.prototype.destroyEditor=function(){var e=this.beans.context;this.hideEditorPopup&&this.hideEditorPopup(),this.hideEditorPopup=void 0,this.cellEditor=e.destroyBean(this.cellEditor),this.cellEditorPopupWrapper=e.destroyBean(this.cellEditorPopupWrapper),Ml(this.cellEditorGui),this.cellEditorGui=null,this.editorVersion++},t.prototype.refreshCellRenderer=function(e){if(this.cellRenderer==null||this.cellRenderer.refresh==null||this.cellRendererClass!==e.componentClass)return!1;var r=this.cellRenderer.refresh(e.params);return r===!0||r===void 0},t.prototype.createCellRendererInstance=function(e){var r=this,i=this.beans.gridOptionsService.get("suppressAnimationFrame"),o=!i,a=this.rendererVersion,s=e.componentClass,l=function(){var u=r.rendererVersion!==a||!r.isAlive();if(!u){var c=e.newAgStackInstance(),d=r.afterCellRendererCreated.bind(r,a,s);c&&c.then(d)}};o&&this.firstRender?this.beans.animationFrameService.createTask(l,this.rowNode.rowIndex,"createTasksP2"):l()},t.prototype.getCtrl=function(){return this.cellCtrl},t.prototype.getRowCtrl=function(){return this.rowCtrl},t.prototype.getCellRenderer=function(){return this.cellRenderer},t.prototype.getCellEditor=function(){return this.cellEditor},t.prototype.afterCellRendererCreated=function(e,r,i){var o=!this.isAlive()||e!==this.rendererVersion;if(o){this.beans.context.destroyBean(i);return}if(this.cellRenderer=i,this.cellRendererClass=r,this.cellRendererGui=this.cellRenderer.getGui(),this.cellRendererGui!=null){var a=this.getParentOfValue();Sn(a),a.appendChild(this.cellRendererGui)}},t.prototype.afterCellEditorCreated=function(e,r,i,o,a){var s=e!==this.editorVersion;if(s){this.beans.context.destroyBean(r);return}var l=r.isCancelBeforeStart&&r.isCancelBeforeStart();if(l){this.beans.context.destroyBean(r),this.cellCtrl.stopEditing(!0);return}if(!r.getGui){console.warn("AG Grid: cellEditor for column ".concat(this.column.getId()," is missing getGui() method")),this.beans.context.destroyBean(r);return}this.cellEditor=r,this.cellEditorGui=r.getGui();var u=o||r.isPopup!==void 0&&r.isPopup();u?this.addPopupCellEditor(i,a):this.addInCellEditor(),this.refreshEditStyles(!0,u),r.afterGuiAttached&&r.afterGuiAttached()},t.prototype.refreshEditStyles=function(e,r){var i;this.addOrRemoveCssClass("ag-cell-inline-editing",e&&!r),this.addOrRemoveCssClass("ag-cell-popup-editing",e&&!!r),this.addOrRemoveCssClass("ag-cell-not-inline-editing",!e||!!r),(i=this.rowCtrl)===null||i===void 0||i.setInlineEditingCss(e)},t.prototype.addInCellEditor=function(){var e=this.getGui(),r=this.beans.gridOptionsService.getDocument();if(e.contains(r.activeElement)&&e.focus(),this.destroyRenderer(),this.refreshWrapper(!0),this.clearParentOfValue(),this.cellEditorGui){var i=this.getParentOfValue();i.appendChild(this.cellEditorGui)}},t.prototype.addPopupCellEditor=function(e,r){var i=this;this.beans.gridOptionsService.get("editType")==="fullRow"&&console.warn("AG Grid: popup cellEditor does not work with fullRowEdit - you cannot use them both - either turn off fullRowEdit, or stop using popup editors.");var o=this.cellEditor;this.cellEditorPopupWrapper=this.beans.context.createBean(new bX(e));var a=this.cellEditorPopupWrapper.getGui();this.cellEditorGui&&a.appendChild(this.cellEditorGui);var s=this.beans.popupService,l=this.beans.gridOptionsService.get("stopEditingWhenCellsLoseFocus"),u=r??(o.getPopupPosition?o.getPopupPosition():"over"),c=this.beans.gridOptionsService.get("enableRtl"),d={ePopup:a,column:this.column,rowNode:this.rowNode,type:"popupCellEditor",eventSource:this.getGui(),position:u,alignSide:c?"right":"left",keepWithinBounds:!0},p=s.positionPopupByComponent.bind(s,d),h=this.beans.localeService.getLocaleTextFunc(),f=s.addPopup({modal:l,eChild:a,closeOnEsc:!0,closedCallback:function(){i.cellCtrl.onPopupEditorClosed()},anchorToElement:this.getGui(),positionCallback:p,ariaLabel:h("ariaLabelCellEditor","Cell Editor")});f&&(this.hideEditorPopup=f.hideFunc)},t.prototype.detach=function(){this.eRow.removeChild(this.getGui())},t.prototype.destroy=function(){this.cellCtrl.stopEditing(),this.destroyEditorAndRenderer(),this.removeControls(),n.prototype.destroy.call(this)},t.prototype.clearParentOfValue=function(){var e=this.getGui(),r=this.beans.gridOptionsService.getDocument();e.contains(r.activeElement)&&tG()&&e.focus({preventScroll:!0}),Sn(this.getParentOfValue())},t}(de),ZRe=function(){var n=function(t,e){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])},n(t,e)};return function(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");n(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}}(),QRe=function(n){ZRe(t,n);function t(e,r,i){var o=n.call(this)||this;o.cellComps={},o.beans=r,o.rowCtrl=e;var a=document.createElement("div");a.setAttribute("comp-id","".concat(o.getCompId())),a.setAttribute("style",o.getInitialStyle(i)),o.setTemplateFromElement(a);var s=o.getGui(),l=s.style;o.domOrder=o.rowCtrl.getDomOrder(),on(s,"row");var u=o.rowCtrl.getTabIndex();u!=null&&s.setAttribute("tabindex",u.toString());var c={setDomOrder:function(d){return o.domOrder=d},setCellCtrls:function(d){return o.setCellCtrls(d)},showFullWidth:function(d){return o.showFullWidth(d)},getFullWidthCellRenderer:function(){return o.getFullWidthCellRenderer()},addOrRemoveCssClass:function(d,p){return o.addOrRemoveCssClass(d,p)},setUserStyles:function(d){return dG(s,d)},setTop:function(d){return l.top=d},setTransform:function(d){return l.transform=d},setRowIndex:function(d){return s.setAttribute("row-index",d)},setRowId:function(d){return s.setAttribute("row-id",d)},setRowBusinessKey:function(d){return s.setAttribute("row-business-key",d)},refreshFullWidth:function(d){return o.refreshFullWidth(d)}};return e.setComp(c,o.getGui(),i),o.addDestroyFunc(function(){e.unsetComp(i)}),o}return t.prototype.getInitialStyle=function(e){var r=this.rowCtrl.getInitialTransform(e);return r?"transform: ".concat(r):"top: ".concat(this.rowCtrl.getInitialRowTop(e))},t.prototype.showFullWidth=function(e){var r=this,i=function(a){if(r.isAlive()){var s=a.getGui();r.getGui().appendChild(s),r.rowCtrl.setupDetailRowAutoHeight(s),r.setFullWidthRowComp(a)}else r.beans.context.destroyBean(a)},o=e.newAgStackInstance();o&&o.then(i)},t.prototype.setCellCtrls=function(e){var r=this,i=Object.assign({},this.cellComps);e.forEach(function(a){var s=a.getInstanceId(),l=r.cellComps[s];l==null?r.newCellComp(a):i[s]=null});var o=Gd(i).filter(function(a){return a!=null});this.destroyCells(o),this.ensureDomOrder(e)},t.prototype.ensureDomOrder=function(e){var r=this;if(this.domOrder){var i=[];e.forEach(function(o){var a=r.cellComps[o.getInstanceId()];a&&i.push(a.getGui())}),cG(this.getGui(),i)}},t.prototype.newCellComp=function(e){var r=new OX(this.beans,e,this.rowCtrl.isPrintLayout(),this.getGui(),this.rowCtrl.isEditing());this.cellComps[e.getInstanceId()]=r,this.getGui().appendChild(r.getGui())},t.prototype.destroy=function(){n.prototype.destroy.call(this),this.destroyAllCells()},t.prototype.destroyAllCells=function(){var e=Gd(this.cellComps).filter(function(r){return r!=null});this.destroyCells(e)},t.prototype.setFullWidthRowComp=function(e){var r=this;this.fullWidthCellRenderer&&console.error("AG Grid - should not be setting fullWidthRowComponent twice"),this.fullWidthCellRenderer=e,this.addDestroyFunc(function(){r.fullWidthCellRenderer=r.beans.context.destroyBean(r.fullWidthCellRenderer)})},t.prototype.getFullWidthCellRenderer=function(){return this.fullWidthCellRenderer},t.prototype.destroyCells=function(e){var r=this;e.forEach(function(i){if(i){var o=i.getCtrl().getInstanceId();r.cellComps[o]===i&&(i.detach(),i.destroy(),r.cellComps[o]=null)}})},t.prototype.refreshFullWidth=function(e){var r=this.fullWidthCellRenderer;if(!r||!r.refresh)return!1;var i=e();return r.refresh(i)},t}(de),JRe=function(){var n=function(t,e){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])},n(t,e)};return function(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");n(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}}(),LL=function(){return LL=Object.assign||function(n){for(var t,e=1,r=arguments.length;e<r;e++){t=arguments[e];for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(n[i]=t[i])}return n},LL.apply(this,arguments)},Vy=function(n,t,e,r){var i=arguments.length,o=i<3?t:r===null?r=Object.getOwnPropertyDescriptor(t,e):r,a;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(n,t,e,r);else for(var s=n.length-1;s>=0;s--)(a=n[s])&&(o=(i<3?a(o):i>3?a(t,e,o):a(t,e))||o);return i>3&&o&&Object.defineProperty(t,e,o),o};function eTe(){var n=de.elementGettingCreated.getAttribute("name"),t=PG.getRowContainerCssClasses(n),e,r=n===ne.CENTER||n===ne.TOP_CENTER||n===ne.STICKY_TOP_CENTER||n===ne.BOTTOM_CENTER;return r?e='<div class="'.concat(t.viewport,`" ref="eViewport" role="presentation">
                <div class="`).concat(t.container,`" ref="eContainer"></div>
            </div>`):e='<div class="'.concat(t.container,'" ref="eContainer"></div>'),e}var RX=function(n){JRe(t,n);function t(){var e=n.call(this,eTe())||this;return e.rowComps={},e.name=de.elementGettingCreated.getAttribute("name"),e.type=SX(e.name),e}return t.prototype.postConstruct=function(){var e=this,r={setViewportHeight:function(o){return e.eViewport.style.height=o},setRowCtrls:function(o){var a=o.rowCtrls;return e.setRowCtrls(a)},setDomOrder:function(o){e.domOrder=o},setContainerWidth:function(o){return e.eContainer.style.width=o}},i=this.createManagedBean(new PG(this.name));i.setComp(r,this.eContainer,this.eViewport)},t.prototype.preDestroy=function(){this.setRowCtrls([])},t.prototype.setRowCtrls=function(e){var r=this,i=LL({},this.rowComps);this.rowComps={},this.lastPlacedElement=null;var o=function(a){var s=a.getInstanceId(),l=i[s];if(l)r.rowComps[s]=l,delete i[s],r.ensureDomOrder(l.getGui());else{if(!a.getRowNode().displayed)return;var u=new QRe(a,r.beans,r.type);r.rowComps[s]=u,r.appendRow(u.getGui())}};e.forEach(o),Gd(i).forEach(function(a){r.eContainer.removeChild(a.getGui()),a.destroy()}),on(this.eContainer,"rowgroup")},t.prototype.appendRow=function(e){this.domOrder?EY(this.eContainer,e,this.lastPlacedElement):this.eContainer.appendChild(e),this.lastPlacedElement=e},t.prototype.ensureDomOrder=function(e){this.domOrder&&(uG(this.eContainer,e,this.lastPlacedElement),this.lastPlacedElement=e)},Vy([E("beans")],t.prototype,"beans",void 0),Vy([$("eViewport")],t.prototype,"eViewport",void 0),Vy([$("eContainer")],t.prototype,"eContainer",void 0),Vy([z],t.prototype,"postConstruct",null),Vy([rr],t.prototype,"preDestroy",null),t}(de),P3=function(n,t,e,r){var i=arguments.length,o=i<3?t:r===null?r=Object.getOwnPropertyDescriptor(t,e):r,a;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(n,t,e,r);else for(var s=n.length-1;s>=0;s--)(a=n[s])&&(o=(i<3?a(o):i>3?a(t,e,o):a(t,e))||o);return i>3&&o&&Object.defineProperty(t,e,o),o},TX=function(){function n(t){this.columnsToAggregate=[],this.columnsToGroup=[],this.columnsToPivot=[],this.pinned=t}return n.prototype.onDragEnter=function(t){var e=this;if(this.clearColumnsList(),!this.gridOptionsService.get("functionsReadOnly")){var r=t.dragItem.columns;r&&r.forEach(function(i){i.isPrimary()&&(i.isAnyFunctionActive()||(i.isAllowValue()?e.columnsToAggregate.push(i):i.isAllowRowGroup()?e.columnsToGroup.push(i):i.isAllowPivot()&&e.columnsToPivot.push(i)))})}},n.prototype.getIconName=function(){var t=this.columnsToAggregate.length+this.columnsToGroup.length+this.columnsToPivot.length;return t>0?this.pinned?Ct.ICON_PINNED:Ct.ICON_MOVE:null},n.prototype.onDragLeave=function(t){this.clearColumnsList()},n.prototype.clearColumnsList=function(){this.columnsToAggregate.length=0,this.columnsToGroup.length=0,this.columnsToPivot.length=0},n.prototype.onDragging=function(t){},n.prototype.onDragStop=function(t){this.columnsToAggregate.length>0&&this.columnModel.addValueColumns(this.columnsToAggregate,"toolPanelDragAndDrop"),this.columnsToGroup.length>0&&this.columnModel.addRowGroupColumns(this.columnsToGroup,"toolPanelDragAndDrop"),this.columnsToPivot.length>0&&this.columnModel.addPivotColumns(this.columnsToPivot,"toolPanelDragAndDrop")},P3([E("columnModel")],n.prototype,"columnModel",void 0),P3([E("gridOptionsService")],n.prototype,"gridOptionsService",void 0),n}(),tTe=function(n,t){var e=typeof Symbol=="function"&&n[Symbol.iterator];if(!e)return n;var r=e.call(n),i,o=[],a;try{for(;(t===void 0||t-- >0)&&!(i=r.next()).done;)o.push(i.value)}catch(s){a={error:s}}finally{try{i&&!i.done&&(e=r.return)&&e.call(r)}finally{if(a)throw a.error}}return o},Rh=function(){function n(){}return n.attemptMoveColumns=function(t){var e=t.isFromHeader,r=t.hDirection,i=t.xPosition,o=t.fromEnter,a=t.fakeEvent,s=t.pinned,l=t.gridOptionsService,u=t.columnModel,c=r===so.Left,d=r===so.Right,p=t.allMovingColumns;if(e){var h=[];p.forEach(function(A){for(var N,M=null,L=A.getParent();L!=null&&L.getDisplayedLeafColumns().length===1;)M=L,L=L.getParent();if(M!=null){var G=!!(!((N=M.getColGroupDef())===null||N===void 0)&&N.marryChildren),H=G?M.getProvidedColumnGroup().getLeafColumns():M.getLeafColumns();H.forEach(function(j){h.includes(j)||h.push(j)})}else h.includes(A)||h.push(A)}),p=h}var f=p.slice();u.sortColumnsLikeGridColumns(f);var v=this.calculateValidMoves({movingCols:f,draggingRight:d,xPosition:i,pinned:s,gridOptionsService:l,columnModel:u}),g=this.calculateOldIndex(f,u);if(v.length!==0){var y=v[0],m=g!==null&&!o;if(e&&(m=g!==null),!(m&&!a&&(c&&y>=g||d&&y<=g))){for(var C=u.getAllDisplayedColumns(),S=[],w=null,_=0;_<v.length;_++){var x=v[_],b=u.getProposedColumnOrder(f,x);if(u.doesOrderPassRules(b)){var O=b.filter(function(A){return C.includes(A)});if(w===null)w=O;else if(!Du(O,w))break;var T=this.groupFragCount(b);S.push({move:x,fragCount:T})}}if(S.length!==0)return S.sort(function(A,N){return A.fragCount-N.fragCount}),this.moveColumns(p,S[0].move,"uiColumnMoved",!1,u)}}},n.moveColumns=function(t,e,r,i,o){return o.moveColumns(t,e,r,i),i?null:{columns:t,toIndex:e}},n.calculateOldIndex=function(t,e){var r=e.getAllGridColumns(),i=H7(t.map(function(u){return r.indexOf(u)})),o=i[0],a=bt(i),s=a-o,l=s!==i.length-1;return l?null:o},n.groupFragCount=function(t){function e(a){for(var s=[],l=a.getOriginalParent();l!=null;)s.push(l),l=l.getOriginalParent();return s}for(var r=0,i=function(a){var s,l=e(t[a]),u=e(t[a+1]);s=tTe(l.length>u.length?[l,u]:[u,l],2),l=s[0],u=s[1],l.forEach(function(c){u.indexOf(c)===-1&&r++})},o=0;o<t.length-1;o++)i(o);return r},n.calculateValidMoves=function(t){var e=t.movingCols,r=t.draggingRight,i=t.xPosition,o=t.pinned,a=t.gridOptionsService,s=t.columnModel,l=a.get("suppressMovableColumns")||e.some(function(A){return A.getColDef().suppressMovable});if(l)return[];var u=s.getDisplayedColumns(o),c=s.getAllGridColumns(),d=u.filter(function(A){return Ps(e,A)}),p=u.filter(function(A){return!Ps(e,A)}),h=c.filter(function(A){return!Ps(e,A)}),f=0,v=i;if(r){var g=0;d.forEach(function(A){return g+=A.getActualWidth()}),v-=g}if(v>0){for(var y=0;y<p.length;y++){var m=p[y];if(v-=m.getActualWidth(),v<0)break;f++}r&&f++}var C;if(f>0){var S=p[f-1];C=h.indexOf(S)+1}else C=h.indexOf(p[0]),C===-1&&(C=0);var w=[C],_=function(A,N){return A-N};if(r){for(var x=C+1,b=c.length-1;x<=b;)w.push(x),x++;w.sort(_)}else{for(var x=C,b=c.length-1,O=c[x];x<=b&&u.indexOf(O)<0;)x++,w.push(x),O=c[x];x=C-1;for(var T=0;x>=T;)w.push(x),x--;w.sort(_).reverse()}return w},n.normaliseX=function(t,e,r,i,o){var a=o.getHeaderRowContainerCtrl(e).getViewport();if(r&&(t-=a.getBoundingClientRect().left),i.get("enableRtl")){var s=a.clientWidth;t=s-t}return e==null&&(t+=o.getCenterRowContainerCtrl().getCenterViewportScrollLeft()),t},n}(),By=function(n,t,e,r){var i=arguments.length,o=i<3?t:r===null?r=Object.getOwnPropertyDescriptor(t,e):r,a;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(n,t,e,r);else for(var s=n.length-1;s>=0;s--)(a=n[s])&&(o=(i<3?a(o):i>3?a(t,e,o):a(t,e))||o);return i>3&&o&&Object.defineProperty(t,e,o),o},PX=function(){function n(t,e){this.needToMoveLeft=!1,this.needToMoveRight=!1,this.lastMovedInfo=null,this.pinned=t,this.eContainer=e,this.centerContainer=!ce(t)}return n.prototype.init=function(){var t=this;this.ctrlsService.whenReady(function(){t.gridBodyCon=t.ctrlsService.getGridBodyCtrl()})},n.prototype.getIconName=function(){return this.pinned?Ct.ICON_PINNED:Ct.ICON_MOVE},n.prototype.onDragEnter=function(t){var e=t.dragItem.columns,r=t.dragSource.type===Sr.ToolPanel;if(r)this.setColumnsVisible(e,!0,"uiColumnDragged");else{var i=t.dragItem.visibleState,o=(e||[]).filter(function(a){return i[a.getId()]});this.setColumnsVisible(o,!0,"uiColumnDragged")}this.setColumnsPinned(e,this.pinned,"uiColumnDragged"),this.onDragging(t,!0,!0)},n.prototype.onDragLeave=function(){this.ensureIntervalCleared(),this.lastMovedInfo=null},n.prototype.setColumnsVisible=function(t,e,r){if(t){var i=t.filter(function(o){return!o.getColDef().lockVisible});this.columnModel.setColumnsVisible(i,e,r)}},n.prototype.setColumnsPinned=function(t,e,r){if(t){var i=t.filter(function(o){return!o.getColDef().lockPinned});this.columnModel.setColumnsPinned(i,e,r)}},n.prototype.onDragStop=function(){this.onDragging(this.lastDraggingEvent,!1,!0,!0),this.ensureIntervalCleared(),this.lastMovedInfo=null},n.prototype.checkCenterForScrolling=function(t){if(this.centerContainer){var e=this.ctrlsService.getCenterRowContainerCtrl().getCenterViewportScrollLeft(),r=e+this.ctrlsService.getCenterRowContainerCtrl().getCenterWidth();this.gridOptionsService.get("enableRtl")?(this.needToMoveRight=t<e+50,this.needToMoveLeft=t>r-50):(this.needToMoveLeft=t<e+50,this.needToMoveRight=t>r-50),this.needToMoveLeft||this.needToMoveRight?this.ensureIntervalStarted():this.ensureIntervalCleared()}},n.prototype.onDragging=function(t,e,r,i){var o=this,a;if(t===void 0&&(t=this.lastDraggingEvent),e===void 0&&(e=!1),r===void 0&&(r=!1),i===void 0&&(i=!1),i){if(this.lastMovedInfo){var s=this.lastMovedInfo,l=s.columns,u=s.toIndex;Rh.moveColumns(l,u,"uiColumnMoved",!0,this.columnModel)}return}if(this.lastDraggingEvent=t,!je(t.hDirection)){var c=Rh.normaliseX(t.x,this.pinned,!1,this.gridOptionsService,this.ctrlsService);e||this.checkCenterForScrolling(c);var d=this.normaliseDirection(t.hDirection),p=t.dragSource.type,h=((a=t.dragSource.getDragItem().columns)===null||a===void 0?void 0:a.filter(function(v){return v.getColDef().lockPinned?v.getPinned()==o.pinned:!0}))||[],f=Rh.attemptMoveColumns({allMovingColumns:h,isFromHeader:p===Sr.HeaderCell,hDirection:d,xPosition:c,pinned:this.pinned,fromEnter:e,fakeEvent:r,gridOptionsService:this.gridOptionsService,columnModel:this.columnModel});f&&(this.lastMovedInfo=f)}},n.prototype.normaliseDirection=function(t){if(this.gridOptionsService.get("enableRtl"))switch(t){case so.Left:return so.Right;case so.Right:return so.Left;default:console.error("AG Grid: Unknown direction ".concat(t))}else return t},n.prototype.ensureIntervalStarted=function(){this.movingIntervalId||(this.intervalCount=0,this.failedMoveAttempts=0,this.movingIntervalId=window.setInterval(this.moveInterval.bind(this),100),this.needToMoveLeft?this.dragAndDropService.setGhostIcon(Ct.ICON_LEFT,!0):this.dragAndDropService.setGhostIcon(Ct.ICON_RIGHT,!0))},n.prototype.ensureIntervalCleared=function(){this.movingIntervalId&&(window.clearInterval(this.movingIntervalId),this.movingIntervalId=null,this.dragAndDropService.setGhostIcon(Ct.ICON_MOVE))},n.prototype.moveInterval=function(){var t;this.intervalCount++,t=10+this.intervalCount*5,t>100&&(t=100);var e=null,r=this.gridBodyCon.getScrollFeature();if(this.needToMoveLeft?e=r.scrollHorizontally(-t):this.needToMoveRight&&(e=r.scrollHorizontally(t)),e!==0)this.onDragging(this.lastDraggingEvent),this.failedMoveAttempts=0;else{this.failedMoveAttempts++;var i=this.lastDraggingEvent.dragItem.columns,o=i.filter(function(s){return!s.getColDef().lockPinned});if(o.length>0&&(this.dragAndDropService.setGhostIcon(Ct.ICON_PINNED),this.failedMoveAttempts>7)){var a=this.needToMoveLeft?"left":"right";this.setColumnsPinned(o,a,"uiColumnDragged"),this.dragAndDropService.nudge()}}},By([E("columnModel")],n.prototype,"columnModel",void 0),By([E("dragAndDropService")],n.prototype,"dragAndDropService",void 0),By([E("gridOptionsService")],n.prototype,"gridOptionsService",void 0),By([E("ctrlsService")],n.prototype,"ctrlsService",void 0),By([z],n.prototype,"init",null),n}(),rTe=function(){var n=function(t,e){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])},n(t,e)};return function(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");n(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}}(),Hy=function(n,t,e,r){var i=arguments.length,o=i<3?t:r===null?r=Object.getOwnPropertyDescriptor(t,e):r,a;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(n,t,e,r);else for(var s=n.length-1;s>=0;s--)(a=n[s])&&(o=(i<3?a(o):i>3?a(t,e,o):a(t,e))||o);return i>3&&o&&Object.defineProperty(t,e,o),o},AX=function(n){rTe(t,n);function t(e,r){var i=n.call(this)||this;return i.pinned=e,i.eContainer=r,i}return t.prototype.postConstruct=function(){var e=this;this.ctrlsService.whenReady(function(r){switch(e.pinned){case"left":e.eSecondaryContainers=[[r.gridBodyCtrl.getBodyViewportElement(),r.leftRowContainerCtrl.getContainerElement()],[r.bottomLeftRowContainerCtrl.getContainerElement()],[r.topLeftRowContainerCtrl.getContainerElement()]];break;case"right":e.eSecondaryContainers=[[r.gridBodyCtrl.getBodyViewportElement(),r.rightRowContainerCtrl.getContainerElement()],[r.bottomRightRowContainerCtrl.getContainerElement()],[r.topRightRowContainerCtrl.getContainerElement()]];break;default:e.eSecondaryContainers=[[r.gridBodyCtrl.getBodyViewportElement(),r.centerRowContainerCtrl.getViewportElement()],[r.bottomCenterRowContainerCtrl.getViewportElement()],[r.topCenterRowContainerCtrl.getViewportElement()]];break}})},t.prototype.isInterestedIn=function(e){return e===Sr.HeaderCell||e===Sr.ToolPanel&&this.gridOptionsService.get("allowDragFromColumnsToolPanel")},t.prototype.getSecondaryContainers=function(){return this.eSecondaryContainers},t.prototype.getContainer=function(){return this.eContainer},t.prototype.init=function(){this.moveColumnFeature=this.createManagedBean(new PX(this.pinned,this.eContainer)),this.bodyDropPivotTarget=this.createManagedBean(new TX(this.pinned)),this.dragAndDropService.addDropTarget(this)},t.prototype.getIconName=function(){return this.currentDropListener.getIconName()},t.prototype.isDropColumnInPivotMode=function(e){return this.columnModel.isPivotMode()&&e.dragSource.type===Sr.ToolPanel},t.prototype.onDragEnter=function(e){this.currentDropListener=this.isDropColumnInPivotMode(e)?this.bodyDropPivotTarget:this.moveColumnFeature,this.currentDropListener.onDragEnter(e)},t.prototype.onDragLeave=function(e){this.currentDropListener.onDragLeave(e)},t.prototype.onDragging=function(e){this.currentDropListener.onDragging(e)},t.prototype.onDragStop=function(e){this.currentDropListener.onDragStop(e)},Hy([E("dragAndDropService")],t.prototype,"dragAndDropService",void 0),Hy([E("columnModel")],t.prototype,"columnModel",void 0),Hy([E("ctrlsService")],t.prototype,"ctrlsService",void 0),Hy([z],t.prototype,"postConstruct",null),Hy([z],t.prototype,"init",null),t}(q),nTe=function(){var n=function(t,e){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])},n(t,e)};return function(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");n(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}}(),d_=function(n,t,e,r){var i=arguments.length,o=i<3?t:r===null?r=Object.getOwnPropertyDescriptor(t,e):r,a;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(n,t,e,r);else for(var s=n.length-1;s>=0;s--)(a=n[s])&&(o=(i<3?a(o):i>3?a(t,e,o):a(t,e))||o);return i>3&&o&&Object.defineProperty(t,e,o),o},iTe=function(n){nTe(t,n);function t(e){var r=n.call(this,t.TEMPLATE,e)||this;return r.headerCompVersion=0,r.column=e.getColumnGroupChild(),r.pinned=e.getPinned(),r}return t.prototype.postConstruct=function(){var e=this,r=this.getGui(),i=function(s,l){l!=null&&l!=""?r.setAttribute(s,l):r.removeAttribute(s)};i("col-id",this.column.getColId());var o={setWidth:function(s){return r.style.width=s},addOrRemoveCssClass:function(s,l){return e.addOrRemoveCssClass(s,l)},setAriaSort:function(s){return s?fY(r,s):vY(r)},setUserCompDetails:function(s){return e.setUserCompDetails(s)},getUserCompInstance:function(){return e.headerComp}};this.ctrl.setComp(o,this.getGui(),this.eResize,this.eHeaderCompWrapper);var a=this.ctrl.getSelectAllGui();this.eResize.insertAdjacentElement("afterend",a)},t.prototype.destroyHeaderComp=function(){this.headerComp&&(this.eHeaderCompWrapper.removeChild(this.headerCompGui),this.headerComp=this.destroyBean(this.headerComp),this.headerCompGui=void 0)},t.prototype.setUserCompDetails=function(e){var r=this;this.headerCompVersion++;var i=this.headerCompVersion;e.newAgStackInstance().then(function(o){return r.afterCompCreated(i,o)})},t.prototype.afterCompCreated=function(e,r){if(e!=this.headerCompVersion||!this.isAlive()){this.destroyBean(r);return}this.destroyHeaderComp(),this.headerComp=r,this.headerCompGui=r.getGui(),this.eHeaderCompWrapper.appendChild(this.headerCompGui),this.ctrl.setDragSource(this.getGui())},t.TEMPLATE=`<div class="ag-header-cell" role="columnheader">
            <div ref="eResize" class="ag-header-cell-resize" role="presentation"></div>
            <div ref="eHeaderCompWrapper" class="ag-header-cell-comp-wrapper" role="presentation"></div>
        </div>`,d_([$("eResize")],t.prototype,"eResize",void 0),d_([$("eHeaderCompWrapper")],t.prototype,"eHeaderCompWrapper",void 0),d_([z],t.prototype,"postConstruct",null),d_([rr],t.prototype,"destroyHeaderComp",null),t}(bG),oTe=function(){var n=function(t,e){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])},n(t,e)};return function(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");n(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}}(),A3=function(n,t,e,r){var i=arguments.length,o=i<3?t:r===null?r=Object.getOwnPropertyDescriptor(t,e):r,a;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(n,t,e,r);else for(var s=n.length-1;s>=0;s--)(a=n[s])&&(o=(i<3?a(o):i>3?a(t,e,o):a(t,e))||o);return i>3&&o&&Object.defineProperty(t,e,o),o},aTe=function(n){oTe(t,n);function t(e){return n.call(this,t.TEMPLATE,e)||this}return t.prototype.postConstruct=function(){var e=this,r=this.getGui(),i=function(a,s){return s!=null?r.setAttribute(a,s):r.removeAttribute(a)};r.setAttribute("col-id",this.ctrl.getColId());var o={addOrRemoveCssClass:function(a,s){return e.addOrRemoveCssClass(a,s)},setResizableDisplayed:function(a){return mt(e.eResize,a)},setWidth:function(a){return r.style.width=a},setAriaExpanded:function(a){return i("aria-expanded",a)},setUserCompDetails:function(a){return e.setUserCompDetails(a)},getUserCompInstance:function(){return e.headerGroupComp}};this.ctrl.setComp(o,r,this.eResize)},t.prototype.setUserCompDetails=function(e){var r=this;e.newAgStackInstance().then(function(i){return r.afterHeaderCompCreated(i)})},t.prototype.afterHeaderCompCreated=function(e){var r=this,i=function(){return r.destroyBean(e)};if(!this.isAlive()){i();return}var o=this.getGui(),a=e.getGui();o.appendChild(a),this.addDestroyFunc(i),this.headerGroupComp=e,this.ctrl.setDragSource(o)},t.TEMPLATE=`<div class="ag-header-group-cell" role="columnheader">
            <div ref="eResize" class="ag-header-cell-resize" role="presentation"></div>
        </div>`,A3([$("eResize")],t.prototype,"eResize",void 0),A3([z],t.prototype,"postConstruct",null),t}(bG),sTe=function(){var n=function(t,e){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])},n(t,e)};return function(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");n(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}}(),D3=function(n,t,e,r){var i=arguments.length,o=i<3?t:r===null?r=Object.getOwnPropertyDescriptor(t,e):r,a;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(n,t,e,r);else for(var s=n.length-1;s>=0;s--)(a=n[s])&&(o=(i<3?a(o):i>3?a(t,e,o):a(t,e))||o);return i>3&&o&&Object.defineProperty(t,e,o),o},An;(function(n){n.COLUMN_GROUP="group",n.COLUMN="column",n.FLOATING_FILTER="filter"})(An||(An={}));var DX=function(n){sTe(t,n);function t(e){var r=n.call(this)||this;return r.headerComps={},r.ctrl=e,r.setTemplate('<div class="'.concat(r.ctrl.getHeaderRowClass(),'" role="row"></div>')),r}return t.prototype.init=function(){var e=this;Yk(this.getGui(),this.ctrl.getAriaRowIndex());var r={setHeight:function(i){return e.getGui().style.height=i},setTop:function(i){return e.getGui().style.top=i},setHeaderCtrls:function(i,o){return e.setHeaderCtrls(i,o)},setWidth:function(i){return e.getGui().style.width=i}};this.ctrl.setComp(r)},t.prototype.destroyHeaderCtrls=function(){this.setHeaderCtrls([],!1)},t.prototype.setHeaderCtrls=function(e,r){var i=this;if(this.isAlive()){var o=this.headerComps;if(this.headerComps={},e.forEach(function(l){var u=l.getInstanceId(),c=o[u];delete o[u],c==null&&(c=i.createHeaderComp(l),i.getGui().appendChild(c.getGui())),i.headerComps[u]=c}),li(o,function(l,u){i.getGui().removeChild(u.getGui()),i.destroyBean(u)}),r){var a=Gd(this.headerComps);a.sort(function(l,u){var c=l.getCtrl().getColumnGroupChild().getLeft(),d=u.getCtrl().getColumnGroupChild().getLeft();return c-d});var s=a.map(function(l){return l.getGui()});cG(this.getGui(),s)}}},t.prototype.createHeaderComp=function(e){var r;switch(this.ctrl.getType()){case An.COLUMN_GROUP:r=new aTe(e);break;case An.FLOATING_FILTER:r=new gX(e);break;default:r=new iTe(e);break}return this.createBean(r),r.setParentComponent(this),r},D3([z],t.prototype,"init",null),D3([rr],t.prototype,"destroyHeaderCtrls",null),t}(de),lTe=function(){var n=function(t,e){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])},n(t,e)};return function(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");n(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}}(),mp=function(n,t,e,r){var i=arguments.length,o=i<3?t:r===null?r=Object.getOwnPropertyDescriptor(t,e):r,a;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(n,t,e,r);else for(var s=n.length-1;s>=0;s--)(a=n[s])&&(o=(i<3?a(o):i>3?a(t,e,o):a(t,e))||o);return i>3&&o&&Object.defineProperty(t,e,o),o},uTe=0,Bw=function(n){lTe(t,n);function t(e,r,i){var o=n.call(this)||this;return o.resizeToggleTimeout=0,o.resizeMultiplier=1,o.resizeFeature=null,o.lastFocusEvent=null,o.dragSource=null,o.columnGroupChild=e,o.parentRowCtrl=i,o.beans=r,o.instanceId=e.getUniqueId()+"-"+uTe++,o}return t.prototype.postConstruct=function(){var e=this;this.addManagedPropertyListeners(["suppressHeaderFocus"],function(){return e.refreshTabIndex()})},t.prototype.shouldStopEventPropagation=function(e){var r=this.focusService.getFocusedHeader(),i=r.headerRowIndex,o=r.column;return DY(this.gridOptionsService,e,i,o)},t.prototype.getWrapperHasFocus=function(){var e=this.gridOptionsService.getDocument(),r=e.activeElement;return r===this.eGui},t.prototype.setGui=function(e){this.eGui=e,this.addDomData(),this.addManagedListener(this.beans.eventService,P.EVENT_DISPLAYED_COLUMNS_CHANGED,this.onDisplayedColumnsChanged.bind(this)),this.onDisplayedColumnsChanged(),this.refreshTabIndex()},t.prototype.onDisplayedColumnsChanged=function(){!this.comp||!this.column||(this.refreshFirstAndLastStyles(),this.refreshAriaColIndex())},t.prototype.refreshFirstAndLastStyles=function(){var e=this,r=e.comp,i=e.column,o=e.beans;Jd.refreshFirstAndLastStyles(r,i,o.columnModel)},t.prototype.refreshAriaColIndex=function(){var e=this,r=e.beans,i=e.column,o=r.columnModel.getAriaColumnIndex(i);Xk(this.eGui,o)},t.prototype.addResizeAndMoveKeyboardListeners=function(){this.resizeFeature&&(this.addManagedListener(this.eGui,"keydown",this.onGuiKeyDown.bind(this)),this.addManagedListener(this.eGui,"keyup",this.onGuiKeyUp.bind(this)))},t.prototype.refreshTabIndex=function(){var e=this.gridOptionsService.get("suppressHeaderFocus");e?this.eGui.removeAttribute("tabindex"):this.eGui.setAttribute("tabindex","-1")},t.prototype.onGuiKeyDown=function(e){var r,i=this.gridOptionsService.getDocument(),o=i.activeElement,a=e.key===U.LEFT||e.key===U.RIGHT;if(this.isResizing&&(e.preventDefault(),e.stopImmediatePropagation()),!(o!==this.eGui||!e.shiftKey&&!e.altKey)&&((this.isResizing||a)&&(e.preventDefault(),e.stopImmediatePropagation()),!!a)){var s=e.key===U.LEFT!==this.gridOptionsService.get("enableRtl"),l=so[s?"Left":"Right"];if(e.altKey){this.isResizing=!0,this.resizeMultiplier+=1;var u=this.getViewportAdjustedResizeDiff(e);this.resizeHeader(u,e.shiftKey),(r=this.resizeFeature)===null||r===void 0||r.toggleColumnResizing(!0)}else this.moveHeader(l)}},t.prototype.getViewportAdjustedResizeDiff=function(e){var r=this.getResizeDiff(e),i=this.column.getPinned();if(i){var o=this.pinnedWidthService.getPinnedLeftWidth(),a=this.pinnedWidthService.getPinnedRightWidth(),s=rf(this.ctrlsService.getGridBodyCtrl().getBodyViewportElement())-50;if(o+a+r>s)if(s>o+a)r=s-o-a;else return 0}return r},t.prototype.getResizeDiff=function(e){var r=e.key===U.LEFT!==this.gridOptionsService.get("enableRtl"),i=this.column.getPinned(),o=this.gridOptionsService.get("enableRtl");return i&&o!==(i==="right")&&(r=!r),(r?-1:1)*this.resizeMultiplier},t.prototype.onGuiKeyUp=function(){var e=this;this.isResizing&&(this.resizeToggleTimeout&&(window.clearTimeout(this.resizeToggleTimeout),this.resizeToggleTimeout=0),this.isResizing=!1,this.resizeMultiplier=1,this.resizeToggleTimeout=setTimeout(function(){var r;(r=e.resizeFeature)===null||r===void 0||r.toggleColumnResizing(!1)},150))},t.prototype.handleKeyDown=function(e){var r=this.getWrapperHasFocus();switch(e.key){case U.PAGE_DOWN:case U.PAGE_UP:case U.PAGE_HOME:case U.PAGE_END:r&&e.preventDefault()}},t.prototype.addDomData=function(){var e=this,r=t.DOM_DATA_KEY_HEADER_CTRL;this.gridOptionsService.setDomData(this.eGui,r,this),this.addDestroyFunc(function(){return e.gridOptionsService.setDomData(e.eGui,r,null)})},t.prototype.getGui=function(){return this.eGui},t.prototype.focus=function(e){return this.eGui?(this.lastFocusEvent=e||null,this.eGui.focus(),!0):!1},t.prototype.getRowIndex=function(){return this.parentRowCtrl.getRowIndex()},t.prototype.getParentRowCtrl=function(){return this.parentRowCtrl},t.prototype.getPinned=function(){return this.parentRowCtrl.getPinned()},t.prototype.getInstanceId=function(){return this.instanceId},t.prototype.getColumnGroupChild=function(){return this.columnGroupChild},t.prototype.removeDragSource=function(){this.dragSource&&(this.dragAndDropService.removeDragSource(this.dragSource),this.dragSource=null)},t.prototype.handleContextMenuMouseEvent=function(e,r,i){var o=e??r;this.gridOptionsService.get("preventDefaultOnContextMenu")&&o.preventDefault();var a=i instanceof Je?i:void 0;this.menuService.isHeaderContextMenuEnabled(a)&&this.menuService.showHeaderContextMenu(a,e,r),this.dispatchColumnMouseEvent(P.EVENT_COLUMN_HEADER_CONTEXT_MENU,i)},t.prototype.dispatchColumnMouseEvent=function(e,r){var i={type:e,column:r};this.eventService.dispatchEvent(i)},t.prototype.destroy=function(){n.prototype.destroy.call(this),this.removeDragSource(),this.comp=null,this.column=null,this.resizeFeature=null,this.lastFocusEvent=null,this.columnGroupChild=null,this.parentRowCtrl=null,this.eGui=null},t.DOM_DATA_KEY_HEADER_CTRL="headerCtrl",mp([E("pinnedWidthService")],t.prototype,"pinnedWidthService",void 0),mp([E("focusService")],t.prototype,"focusService",void 0),mp([E("userComponentFactory")],t.prototype,"userComponentFactory",void 0),mp([E("ctrlsService")],t.prototype,"ctrlsService",void 0),mp([E("dragAndDropService")],t.prototype,"dragAndDropService",void 0),mp([E("menuService")],t.prototype,"menuService",void 0),mp([z],t.prototype,"postConstruct",null),t}(q),cTe=function(){var n=function(t,e){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])},n(t,e)};return function(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");n(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}}(),dTe=function(n,t,e,r){var i=arguments.length,o=i<3?t:r===null?r=Object.getOwnPropertyDescriptor(t,e):r,a;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(n,t,e,r);else for(var s=n.length-1;s>=0;s--)(a=n[s])&&(o=(i<3?a(o):i>3?a(t,e,o):a(t,e))||o);return i>3&&o&&Object.defineProperty(t,e,o),o},DT=function(n){cTe(t,n);function t(e,r,i,o){var a=n.call(this)||this;return a.columnOrGroup=e,a.eCell=r,a.ariaEl=a.eCell.querySelector("[role=columnheader]")||a.eCell,a.colsSpanning=o,a.beans=i,a}return t.prototype.setColsSpanning=function(e){this.colsSpanning=e,this.onLeftChanged()},t.prototype.getColumnOrGroup=function(){return this.beans.gridOptionsService.get("enableRtl")&&this.colsSpanning?bt(this.colsSpanning):this.columnOrGroup},t.prototype.postConstruct=function(){this.addManagedListener(this.columnOrGroup,Je.EVENT_LEFT_CHANGED,this.onLeftChanged.bind(this)),this.setLeftFirstTime(),this.addManagedListener(this.eventService,P.EVENT_DISPLAYED_COLUMNS_WIDTH_CHANGED,this.onLeftChanged.bind(this)),this.addManagedPropertyListener("domLayout",this.onLeftChanged.bind(this))},t.prototype.setLeftFirstTime=function(){var e=this.beans.gridOptionsService.get("suppressColumnMoveAnimation"),r=ce(this.columnOrGroup.getOldLeft()),i=this.beans.columnAnimationService.isActive()&&r&&!e;i?this.animateInLeft():this.onLeftChanged()},t.prototype.animateInLeft=function(){var e=this,r=this.getColumnOrGroup(),i=r.getLeft(),o=r.getOldLeft(),a=this.modifyLeftForPrintLayout(r,o),s=this.modifyLeftForPrintLayout(r,i);this.setLeft(a),this.actualLeft=s,this.beans.columnAnimationService.executeNextVMTurn(function(){e.actualLeft===s&&e.setLeft(s)})},t.prototype.onLeftChanged=function(){var e=this.getColumnOrGroup(),r=e.getLeft();this.actualLeft=this.modifyLeftForPrintLayout(e,r),this.setLeft(this.actualLeft)},t.prototype.modifyLeftForPrintLayout=function(e,r){var i=this.beans.gridOptionsService.isDomLayout("print");if(!i||e.getPinned()==="left")return r;var o=this.beans.columnModel.getDisplayedColumnsLeftWidth();if(e.getPinned()==="right"){var a=this.beans.columnModel.getBodyContainerWidth();return o+a+r}return o+r},t.prototype.setLeft=function(e){if(ce(e)&&(this.eCell.style.left="".concat(e,"px")),this.columnOrGroup instanceof Je)this.columnOrGroup;else{var r=this.columnOrGroup,i=r.getLeafColumns();if(!i.length)return;i.length>1&&hY(this.ariaEl,i.length),i[0]}},dTe([z],t.prototype,"postConstruct",null),t}(q),pTe=function(){var n=function(t,e){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])},n(t,e)};return function(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");n(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}}(),M3=function(n,t,e,r){var i=arguments.length,o=i<3?t:r===null?r=Object.getOwnPropertyDescriptor(t,e):r,a;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(n,t,e,r);else for(var s=n.length-1;s>=0;s--)(a=n[s])&&(o=(i<3?a(o):i>3?a(t,e,o):a(t,e))||o);return i>3&&o&&Object.defineProperty(t,e,o),o},AG=function(n){pTe(t,n);function t(e,r){var i=n.call(this)||this;return i.columns=e,i.element=r,i}return t.prototype.postConstruct=function(){this.gridOptionsService.get("columnHoverHighlight")&&this.addMouseHoverListeners()},t.prototype.addMouseHoverListeners=function(){this.addManagedListener(this.element,"mouseout",this.onMouseOut.bind(this)),this.addManagedListener(this.element,"mouseover",this.onMouseOver.bind(this))},t.prototype.onMouseOut=function(){this.columnHoverService.clearMouseOver()},t.prototype.onMouseOver=function(){this.columnHoverService.setMouseOver(this.columns)},M3([E("columnHoverService")],t.prototype,"columnHoverService",void 0),M3([z],t.prototype,"postConstruct",null),t}(q),hTe=function(){var n=function(t,e){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])},n(t,e)};return function(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");n(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}}(),MX=function(n){hTe(t,n);function t(e,r,i){var o=n.call(this,e,r,i)||this;return o.iconCreated=!1,o.column=e,o}return t.prototype.setComp=function(e,r,i,o){this.comp=e,this.eButtonShowMainFilter=i,this.eFloatingFilterBody=o,this.setGui(r),this.setupActive(),this.setupWidth(),this.setupLeft(),this.setupHover(),this.setupFocus(),this.setupAria(),this.setupFilterButton(),this.setupUserComp(),this.setupSyncWithFilter(),this.setupUi(),this.addManagedListener(this.eButtonShowMainFilter,"click",this.showParentFilter.bind(this)),this.setupFilterChangedListener(),this.addManagedListener(this.column,Je.EVENT_COL_DEF_CHANGED,this.onColDefChanged.bind(this))},t.prototype.resizeHeader=function(){},t.prototype.moveHeader=function(){},t.prototype.setupActive=function(){var e=this.column.getColDef(),r=!!e.filter,i=!!e.floatingFilter;this.active=r&&i},t.prototype.setupUi=function(){if(this.comp.setButtonWrapperDisplayed(!this.suppressFilterButton&&this.active),this.comp.addOrRemoveBodyCssClass("ag-floating-filter-full-body",this.suppressFilterButton),this.comp.addOrRemoveBodyCssClass("ag-floating-filter-body",!this.suppressFilterButton),!(!this.active||this.iconCreated)){var e=Wr("filter",this.gridOptionsService,this.column);e&&(this.iconCreated=!0,this.eButtonShowMainFilter.appendChild(e))}},t.prototype.setupFocus=function(){this.createManagedBean(new eu(this.eGui,{shouldStopEventPropagation:this.shouldStopEventPropagation.bind(this),onTabKeyDown:this.onTabKeyDown.bind(this),handleKeyDown:this.handleKeyDown.bind(this),onFocusIn:this.onFocusIn.bind(this)}))},t.prototype.setupAria=function(){var e=this.localeService.getLocaleTextFunc();Zd(this.eButtonShowMainFilter,e("ariaFilterMenuOpen","Open Filter Menu"))},t.prototype.onTabKeyDown=function(e){var r=this.gridOptionsService.getDocument(),i=r.activeElement,o=i===this.eGui;if(!o){var a=this.focusService.findNextFocusableElement(this.eGui,null,e.shiftKey);if(a){this.beans.headerNavigationService.scrollToColumn(this.column),e.preventDefault(),a.focus();return}var s=this.findNextColumnWithFloatingFilter(e.shiftKey);s&&this.focusService.focusHeaderPosition({headerPosition:{headerRowIndex:this.getParentRowCtrl().getRowIndex(),column:s},event:e})&&e.preventDefault()}},t.prototype.findNextColumnWithFloatingFilter=function(e){var r=this.beans.columnModel,i=this.column;do if(i=e?r.getDisplayedColBefore(i):r.getDisplayedColAfter(i),!i)break;while(!i.getColDef().filter||!i.getColDef().floatingFilter);return i},t.prototype.handleKeyDown=function(e){n.prototype.handleKeyDown.call(this,e);var r=this.getWrapperHasFocus();switch(e.key){case U.UP:case U.DOWN:r||e.preventDefault();case U.LEFT:case U.RIGHT:if(r)return;e.stopPropagation();case U.ENTER:r&&this.focusService.focusInto(this.eGui)&&e.preventDefault();break;case U.ESCAPE:r||this.eGui.focus()}},t.prototype.onFocusIn=function(e){var r=this.eGui.contains(e.relatedTarget);if(!r){var i=!!e.relatedTarget&&!e.relatedTarget.classList.contains("ag-floating-filter"),o=!!e.relatedTarget&&bh(e.relatedTarget,"ag-floating-filter");if(i&&o&&e.target===this.eGui){var a=this.lastFocusEvent,s=!!(a&&a.key===U.TAB);if(a&&s){var l=a.shiftKey;this.focusService.focusInto(this.eGui,l)}}var u=this.getRowIndex();this.beans.focusService.setFocusedHeader(u,this.column)}},t.prototype.setupHover=function(){var e=this;this.createManagedBean(new AG([this.column],this.eGui));var r=function(){if(e.gridOptionsService.get("columnHoverHighlight")){var i=e.beans.columnHoverService.isHovered(e.column);e.comp.addOrRemoveCssClass("ag-column-hover",i)}};this.addManagedListener(this.eventService,P.EVENT_COLUMN_HOVER_CHANGED,r),r()},t.prototype.setupLeft=function(){var e=new DT(this.column,this.eGui,this.beans);this.createManagedBean(e)},t.prototype.setupFilterButton=function(){this.suppressFilterButton=!this.menuService.isFloatingFilterButtonEnabled(this.column),this.highlightFilterButtonWhenActive=!this.menuService.isLegacyMenuEnabled()},t.prototype.setupUserComp=function(){var e=this;if(this.active){var r=this.beans.filterManager.getFloatingFilterCompDetails(this.column,function(){return e.showParentFilter()});r&&this.setCompDetails(r)}},t.prototype.setCompDetails=function(e){this.userCompDetails=e,this.comp.setCompDetails(e)},t.prototype.showParentFilter=function(){var e=this.suppressFilterButton?this.eFloatingFilterBody:this.eButtonShowMainFilter;this.menuService.showFilterMenu({column:this.column,buttonElement:e,containerType:"floatingFilter",positionBy:"button"})},t.prototype.setupSyncWithFilter=function(){var e=this;if(this.active){var r=this.beans.filterManager,i=function(o){var a=e.comp.getFloatingFilterComp();a&&a.then(function(s){if(s){var l=r.getCurrentFloatingFilterParentModel(e.column);s.onParentModelChanged(l,o)}})};this.destroySyncListener=this.addManagedListener(this.column,Je.EVENT_FILTER_CHANGED,i),r.isFilterActive(this.column)&&i(null)}},t.prototype.setupWidth=function(){var e=this,r=function(){var i="".concat(e.column.getActualWidth(),"px");e.comp.setWidth(i)};this.addManagedListener(this.column,Je.EVENT_WIDTH_CHANGED,r),r()},t.prototype.setupFilterChangedListener=function(){this.active&&(this.destroyFilterChangedListener=this.addManagedListener(this.column,Je.EVENT_FILTER_CHANGED,this.updateFilterButton.bind(this)),this.updateFilterButton())},t.prototype.updateFilterButton=function(){if(!this.suppressFilterButton&&this.comp){var e=this.beans.filterManager.isFilterAllowed(this.column);this.comp.setButtonWrapperDisplayed(e),this.highlightFilterButtonWhenActive&&e&&this.eButtonShowMainFilter.classList.toggle("ag-filter-active",this.column.isFilterActive())}},t.prototype.onColDefChanged=function(){var e=this,r,i,o=this.active;this.setupActive();var a=!o&&this.active;o&&!this.active&&((r=this.destroySyncListener)===null||r===void 0||r.call(this),(i=this.destroyFilterChangedListener)===null||i===void 0||i.call(this));var s=this.active?this.beans.filterManager.getFloatingFilterCompDetails(this.column,function(){return e.showParentFilter()}):null,l=this.comp.getFloatingFilterComp();!l||!s?this.updateCompDetails(s,a):l.then(function(u){var c;!u||e.beans.filterManager.areFilterCompsDifferent((c=e.userCompDetails)!==null&&c!==void 0?c:null,s)?e.updateCompDetails(s,a):e.updateFloatingFilterParams(s)})},t.prototype.updateCompDetails=function(e,r){this.isAlive()&&(this.setCompDetails(e),this.setupFilterButton(),this.setupUi(),r&&(this.setupSyncWithFilter(),this.setupFilterChangedListener()))},t.prototype.updateFloatingFilterParams=function(e){var r;if(e){var i=e.params;(r=this.comp.getFloatingFilterComp())===null||r===void 0||r.then(function(o){var a=!1;if(o!=null&&o.refresh&&typeof o.refresh=="function"){var s=o.refresh(i);s!==null&&(a=!0)}if(!a&&(o!=null&&o.onParamsUpdated)&&typeof o.onParamsUpdated=="function"){var s=o.onParamsUpdated(i);s!==null&&Le("Custom floating filter method 'onParamsUpdated' is deprecated. Use 'refresh' instead.")}})}},t.prototype.destroy=function(){n.prototype.destroy.call(this),this.eButtonShowMainFilter=null,this.eFloatingFilterBody=null,this.userCompDetails=null,this.destroySyncListener=null,this.destroyFilterChangedListener=null},t}(Bw),fTe=function(){var n=function(t,e){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])},n(t,e)};return function(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");n(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}}(),jy=function(n,t,e,r){var i=arguments.length,o=i<3?t:r===null?r=Object.getOwnPropertyDescriptor(t,e):r,a;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(n,t,e,r);else for(var s=n.length-1;s>=0;s--)(a=n[s])&&(o=(i<3?a(o):i>3?a(t,e,o):a(t,e))||o);return i>3&&o&&Object.defineProperty(t,e,o),o},vTe=function(n){fTe(t,n);function t(e,r,i,o,a){var s=n.call(this)||this;return s.pinned=e,s.column=r,s.eResize=i,s.comp=o,s.ctrl=a,s}return t.prototype.postConstruct=function(){var e=this,r=[],i,o,a=function(){if(mt(e.eResize,i),!!i){var u=e.horizontalResizeService.addResizeBar({eResizeBar:e.eResize,onResizeStart:e.onResizeStart.bind(e),onResizing:e.onResizing.bind(e,!1),onResizeEnd:e.onResizing.bind(e,!0)});if(r.push(u),o){var c=e.gridOptionsService.get("skipHeaderOnAutoSize"),d=function(){e.columnModel.autoSizeColumn(e.column,"uiColumnResized",c)};e.eResize.addEventListener("dblclick",d);var p=new jr(e.eResize);p.addEventListener(jr.EVENT_DOUBLE_TAP,d),r.push(function(){e.eResize.removeEventListener("dblclick",d),p.removeEventListener(jr.EVENT_DOUBLE_TAP,d),p.destroy()})}}},s=function(){r.forEach(function(u){return u()}),r.length=0},l=function(){var u=e.column.isResizable(),c=!e.gridOptionsService.get("suppressAutoSize")&&!e.column.getColDef().suppressAutoSize,d=u!==i||c!==o;d&&(i=u,o=c,s(),a())};l(),this.addDestroyFunc(s),this.ctrl.addRefreshFunction(l)},t.prototype.onResizing=function(e,r){var i=this,o=i.column,a=i.lastResizeAmount,s=i.resizeStartWidth,l=this.normaliseResizeAmount(r),u=s+l,c=[{key:o,newWidth:u}];if(this.column.getPinned()){var d=this.pinnedWidthService.getPinnedLeftWidth(),p=this.pinnedWidthService.getPinnedRightWidth(),h=rf(this.ctrlsService.getGridBodyCtrl().getBodyViewportElement())-50;if(d+p+(l-a)>h)return}this.lastResizeAmount=l,this.columnModel.setColumnWidths(c,this.resizeWithShiftKey,e,"uiColumnResized"),e&&this.toggleColumnResizing(!1)},t.prototype.onResizeStart=function(e){this.resizeStartWidth=this.column.getActualWidth(),this.lastResizeAmount=0,this.resizeWithShiftKey=e,this.toggleColumnResizing(!0)},t.prototype.toggleColumnResizing=function(e){this.comp.addOrRemoveCssClass("ag-column-resizing",e)},t.prototype.normaliseResizeAmount=function(e){var r=e,i=this.pinned!=="left",o=this.pinned==="right";return this.gridOptionsService.get("enableRtl")?i&&(r*=-1):o&&(r*=-1),r},jy([E("horizontalResizeService")],t.prototype,"horizontalResizeService",void 0),jy([E("pinnedWidthService")],t.prototype,"pinnedWidthService",void 0),jy([E("ctrlsService")],t.prototype,"ctrlsService",void 0),jy([E("columnModel")],t.prototype,"columnModel",void 0),jy([z],t.prototype,"postConstruct",null),t}(q),gTe=function(){var n=function(t,e){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])},n(t,e)};return function(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");n(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}}(),F3=function(n,t,e,r){var i=arguments.length,o=i<3?t:r===null?r=Object.getOwnPropertyDescriptor(t,e):r,a;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(n,t,e,r);else for(var s=n.length-1;s>=0;s--)(a=n[s])&&(o=(i<3?a(o):i>3?a(t,e,o):a(t,e))||o);return i>3&&o&&Object.defineProperty(t,e,o),o},yTe=function(n){gTe(t,n);function t(e){var r=n.call(this)||this;return r.cbSelectAllVisible=!1,r.processingEventFromCheckbox=!1,r.column=e,r}return t.prototype.onSpaceKeyDown=function(e){var r=this.cbSelectAll,i=this.gridOptionsService.getDocument();r.isDisplayed()&&!r.getGui().contains(i.activeElement)&&(e.preventDefault(),r.setValue(!r.getValue()))},t.prototype.getCheckboxGui=function(){return this.cbSelectAll.getGui()},t.prototype.setComp=function(e){this.headerCellCtrl=e,this.cbSelectAll=this.createManagedBean(new Lu),this.cbSelectAll.addCssClass("ag-header-select-all"),on(this.cbSelectAll.getGui(),"presentation"),this.showOrHideSelectAll(),this.addManagedListener(this.eventService,P.EVENT_NEW_COLUMNS_LOADED,this.onNewColumnsLoaded.bind(this)),this.addManagedListener(this.eventService,P.EVENT_DISPLAYED_COLUMNS_CHANGED,this.onDisplayedColumnsChanged.bind(this)),this.addManagedListener(this.eventService,P.EVENT_SELECTION_CHANGED,this.onSelectionChanged.bind(this)),this.addManagedListener(this.eventService,P.EVENT_PAGINATION_CHANGED,this.onSelectionChanged.bind(this)),this.addManagedListener(this.eventService,P.EVENT_MODEL_UPDATED,this.onModelChanged.bind(this)),this.addManagedListener(this.cbSelectAll,P.EVENT_FIELD_VALUE_CHANGED,this.onCbSelectAll.bind(this)),wT(this.cbSelectAll.getGui(),!0),this.cbSelectAll.getInputElement().setAttribute("tabindex","-1"),this.refreshSelectAllLabel()},t.prototype.onNewColumnsLoaded=function(){this.showOrHideSelectAll()},t.prototype.onDisplayedColumnsChanged=function(){this.isAlive()&&this.showOrHideSelectAll()},t.prototype.showOrHideSelectAll=function(){this.cbSelectAllVisible=this.isCheckboxSelection(),this.cbSelectAll.setDisplayed(this.cbSelectAllVisible,{skipAriaHidden:!0}),this.cbSelectAllVisible&&(this.checkRightRowModelType("selectAllCheckbox"),this.checkSelectionType("selectAllCheckbox"),this.updateStateOfCheckbox()),this.refreshSelectAllLabel()},t.prototype.onModelChanged=function(){this.cbSelectAllVisible&&this.updateStateOfCheckbox()},t.prototype.onSelectionChanged=function(){this.cbSelectAllVisible&&this.updateStateOfCheckbox()},t.prototype.updateStateOfCheckbox=function(){if(!this.processingEventFromCheckbox){this.processingEventFromCheckbox=!0;var e=this.selectionService.getSelectAllState(this.isFilteredOnly(),this.isCurrentPageOnly());this.cbSelectAll.setValue(e);var r=this.selectionService.hasNodesToSelect(this.isFilteredOnly(),this.isCurrentPageOnly());this.cbSelectAll.setDisabled(!r),this.refreshSelectAllLabel(),this.processingEventFromCheckbox=!1}},t.prototype.refreshSelectAllLabel=function(){var e=this.localeService.getLocaleTextFunc(),r=this.cbSelectAll.getValue(),i=r?e("ariaChecked","checked"):e("ariaUnchecked","unchecked"),o=e("ariaRowSelectAll","Press Space to toggle all rows selection");this.cbSelectAllVisible?this.headerCellCtrl.setAriaDescriptionProperty("selectAll","".concat(o," (").concat(i,")")):this.headerCellCtrl.setAriaDescriptionProperty("selectAll",null),this.cbSelectAll.setInputAriaLabel("".concat(o," (").concat(i,")")),this.headerCellCtrl.announceAriaDescription()},t.prototype.checkSelectionType=function(e){var r=this.gridOptionsService.get("rowSelection")==="multiple";return r?!0:(console.warn("AG Grid: ".concat(e," is only available if using 'multiple' rowSelection.")),!1)},t.prototype.checkRightRowModelType=function(e){var r=this.rowModel.getType(),i=r==="clientSide"||r==="serverSide";return i?!0:(console.warn("AG Grid: ".concat(e," is only available if using 'clientSide' or 'serverSide' rowModelType, you are using ").concat(r,".")),!1)},t.prototype.onCbSelectAll=function(){if(!this.processingEventFromCheckbox&&this.cbSelectAllVisible){var e=this.cbSelectAll.getValue(),r=this.isFilteredOnly(),i=this.isCurrentPageOnly(),o="uiSelectAll";i?o="uiSelectAllCurrentPage":r&&(o="uiSelectAllFiltered");var a={source:o,justFiltered:r,justCurrentPage:i};e?this.selectionService.selectAllRowNodes(a):this.selectionService.deselectAllRowNodes(a)}},t.prototype.isCheckboxSelection=function(){var e=this.column.getColDef().headerCheckboxSelection;if(typeof e=="function"){var r=e,i=this.gridOptionsService.addGridCommonParams({column:this.column,colDef:this.column.getColDef()});e=r(i)}return e?this.checkRightRowModelType("headerCheckboxSelection")&&this.checkSelectionType("headerCheckboxSelection"):!1},t.prototype.isFilteredOnly=function(){return!!this.column.getColDef().headerCheckboxSelectionFilteredOnly},t.prototype.isCurrentPageOnly=function(){return!!this.column.getColDef().headerCheckboxSelectionCurrentPageOnly},F3([E("rowModel")],t.prototype,"rowModel",void 0),F3([E("selectionService")],t.prototype,"selectionService",void 0),t}(q),mTe=function(){var n=function(t,e){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])},n(t,e)};return function(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");n(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}}(),FX=function(n){mTe(t,n);function t(e,r,i){var o=n.call(this,e,r,i)||this;return o.refreshFunctions=[],o.userHeaderClasses=new Set,o.ariaDescriptionProperties=new Map,o.column=e,o}return t.prototype.setComp=function(e,r,i,o){var a=this;this.comp=e,this.setGui(r),this.updateState(),this.setupWidth(),this.setupMovingCss(),this.setupMenuClass(),this.setupSortableClass(),this.setupWrapTextClass(),this.refreshSpanHeaderHeight(),this.setupAutoHeight(o),this.addColumnHoverListener(),this.setupFilterClass(),this.setupClassesFromColDef(),this.setupTooltip(),this.addActiveHeaderMouseListeners(),this.setupSelectAll(),this.setupUserComp(),this.refreshAria(),this.resizeFeature=this.createManagedBean(new vTe(this.getPinned(),this.column,i,e,this)),this.createManagedBean(new AG([this.column],r)),this.createManagedBean(new DT(this.column,r,this.beans)),this.createManagedBean(new eu(r,{shouldStopEventPropagation:function(s){return a.shouldStopEventPropagation(s)},onTabKeyDown:function(){return null},handleKeyDown:this.handleKeyDown.bind(this),onFocusIn:this.onFocusIn.bind(this),onFocusOut:this.onFocusOut.bind(this)})),this.addResizeAndMoveKeyboardListeners(),this.addManagedPropertyListeners(["suppressMovableColumns","suppressMenuHide","suppressAggFuncInHeader"],this.refresh.bind(this)),this.addManagedListener(this.column,Je.EVENT_COL_DEF_CHANGED,this.refresh.bind(this)),this.addManagedListener(this.eventService,P.EVENT_COLUMN_VALUE_CHANGED,this.onColumnValueChanged.bind(this)),this.addManagedListener(this.eventService,P.EVENT_COLUMN_ROW_GROUP_CHANGED,this.onColumnRowGroupChanged.bind(this)),this.addManagedListener(this.eventService,P.EVENT_COLUMN_PIVOT_CHANGED,this.onColumnPivotChanged.bind(this)),this.addManagedListener(this.eventService,P.EVENT_HEADER_HEIGHT_CHANGED,this.onHeaderHeightChanged.bind(this))},t.prototype.resizeHeader=function(e,r){var i,o;if(this.column.isResizable()){var a=this.column.getActualWidth(),s=(i=this.column.getMinWidth())!==null&&i!==void 0?i:0,l=(o=this.column.getMaxWidth())!==null&&o!==void 0?o:Number.MAX_SAFE_INTEGER,u=Math.min(Math.max(a+e,s),l);this.beans.columnModel.setColumnWidths([{key:this.column,newWidth:u}],r,!0,"uiColumnResized")}},t.prototype.moveHeader=function(e){var r=this,i=r.eGui,o=r.column,a=r.gridOptionsService,s=r.ctrlsService,l=this.getPinned(),u=i.getBoundingClientRect().left,c=o.getActualWidth(),d=a.get("enableRtl"),p=e===so.Left!==d,h=Rh.normaliseX(p?u-20:u+c+20,l,!0,a,s);Rh.attemptMoveColumns({allMovingColumns:[o],isFromHeader:!0,hDirection:e,xPosition:h,pinned:l,fromEnter:!1,fakeEvent:!1,gridOptionsService:a,columnModel:this.beans.columnModel}),s.getGridBodyCtrl().getScrollFeature().ensureColumnVisible(o,"auto")},t.prototype.setupUserComp=function(){var e=this.lookupUserCompDetails();this.setCompDetails(e)},t.prototype.setCompDetails=function(e){this.userCompDetails=e,this.comp.setUserCompDetails(e)},t.prototype.lookupUserCompDetails=function(){var e=this.createParams(),r=this.column.getColDef();return this.userComponentFactory.getHeaderCompDetails(r,e)},t.prototype.createParams=function(){var e=this,r=this.gridOptionsService.addGridCommonParams({column:this.column,displayName:this.displayName,enableSorting:this.column.isSortable(),enableMenu:this.menuEnabled,enableFilterButton:this.openFilterEnabled&&this.menuService.isHeaderFilterButtonEnabled(this.column),enableFilterIcon:!this.openFilterEnabled||this.menuService.isLegacyMenuEnabled(),showColumnMenu:function(i){e.menuService.showColumnMenu({column:e.column,buttonElement:i,positionBy:"button"})},showColumnMenuAfterMouseClick:function(i){e.menuService.showColumnMenu({column:e.column,mouseEvent:i,positionBy:"mouse"})},showFilter:function(i){e.menuService.showFilterMenu({column:e.column,buttonElement:i,containerType:"columnFilter",positionBy:"button"})},progressSort:function(i){e.beans.sortController.progressSort(e.column,!!i,"uiColumnSorted")},setSort:function(i,o){e.beans.sortController.setSortForColumn(e.column,i,!!o,"uiColumnSorted")},eGridHeader:this.getGui()});return r},t.prototype.setupSelectAll=function(){this.selectAllFeature=this.createManagedBean(new yTe(this.column)),this.selectAllFeature.setComp(this)},t.prototype.getSelectAllGui=function(){return this.selectAllFeature.getCheckboxGui()},t.prototype.handleKeyDown=function(e){n.prototype.handleKeyDown.call(this,e),e.key===U.SPACE&&this.selectAllFeature.onSpaceKeyDown(e),e.key===U.ENTER&&this.onEnterKeyDown(e),e.key===U.DOWN&&e.altKey&&this.showMenuOnKeyPress(e,!1)},t.prototype.onEnterKeyDown=function(e){if(e.ctrlKey||e.metaKey)this.showMenuOnKeyPress(e,!0);else if(this.sortable){var r=e.shiftKey;this.beans.sortController.progressSort(this.column,r,"uiColumnSorted")}},t.prototype.showMenuOnKeyPress=function(e,r){var i=this.comp.getUserCompInstance();!i||!(i instanceof PL)||i.onMenuKeyboardShortcut(r)&&e.preventDefault()},t.prototype.onFocusIn=function(e){if(!this.getGui().contains(e.relatedTarget)){var r=this.getRowIndex();this.focusService.setFocusedHeader(r,this.column),this.announceAriaDescription()}this.focusService.isKeyboardMode()&&this.setActiveHeader(!0)},t.prototype.onFocusOut=function(e){this.getGui().contains(e.relatedTarget)||this.setActiveHeader(!1)},t.prototype.setupTooltip=function(){var e=this,r={getColumn:function(){return e.column},getColDef:function(){return e.column.getColDef()},getGui:function(){return e.eGui},getLocation:function(){return"header"},getTooltipValue:function(){var o=e.column.getColDef().headerTooltip;return o}},i=this.createManagedBean(new Ma(r,this.beans));i.setComp(this.eGui),this.refreshFunctions.push(function(){return i.refreshToolTip()})},t.prototype.setupClassesFromColDef=function(){var e=this,r=function(){var i=e.column.getColDef(),o=Jd.getHeaderClassesFromColDef(i,e.gridOptionsService,e.column,null),a=e.userHeaderClasses;e.userHeaderClasses=new Set(o),o.forEach(function(s){a.has(s)?a.delete(s):e.comp.addOrRemoveCssClass(s,!0)}),a.forEach(function(s){return e.comp.addOrRemoveCssClass(s,!1)})};this.refreshFunctions.push(r),r()},t.prototype.setDragSource=function(e){var r=this;if(this.dragSourceElement=e,this.removeDragSource(),!(!e||!this.draggable)){var i=this,o=i.column,a=i.beans,s=i.displayName,l=i.dragAndDropService,u=i.gridOptionsService,c=a.columnModel,d=!this.gridOptionsService.get("suppressDragLeaveHidesColumns"),p=this.dragSource={type:Sr.HeaderCell,eElement:e,getDefaultIconName:function(){return d?Ct.ICON_HIDE:Ct.ICON_NOT_ALLOWED},getDragItem:function(){return r.createDragItem(o)},dragItemName:s,onDragStarted:function(){d=!u.get("suppressDragLeaveHidesColumns"),o.setMoving(!0,"uiColumnMoved")},onDragStopped:function(){return o.setMoving(!1,"uiColumnMoved")},onGridEnter:function(h){var f;if(d){var v=((f=h==null?void 0:h.columns)===null||f===void 0?void 0:f.filter(function(g){return!g.getColDef().lockVisible}))||[];c.setColumnsVisible(v,!0,"uiColumnMoved")}},onGridExit:function(h){var f;if(d){var v=((f=h==null?void 0:h.columns)===null||f===void 0?void 0:f.filter(function(g){return!g.getColDef().lockVisible}))||[];c.setColumnsVisible(v,!1,"uiColumnMoved")}}};l.addDragSource(p,!0)}},t.prototype.createDragItem=function(e){var r={};return r[e.getId()]=e.isVisible(),{columns:[e],visibleState:r}},t.prototype.updateState=function(){this.menuEnabled=this.menuService.isColumnMenuInHeaderEnabled(this.column),this.openFilterEnabled=this.menuService.isFilterMenuInHeaderEnabled(this.column),this.sortable=this.column.isSortable(),this.displayName=this.calculateDisplayName(),this.draggable=this.workOutDraggable()},t.prototype.addRefreshFunction=function(e){this.refreshFunctions.push(e)},t.prototype.refresh=function(){this.updateState(),this.refreshHeaderComp(),this.refreshAria(),this.refreshFunctions.forEach(function(e){return e()})},t.prototype.refreshHeaderComp=function(){var e=this.lookupUserCompDetails(),r=this.comp.getUserCompInstance(),i=r!=null&&this.userCompDetails.componentClass==e.componentClass,o=i?this.attemptHeaderCompRefresh(e.params):!1;o?this.setDragSource(this.dragSourceElement):this.setCompDetails(e)},t.prototype.attemptHeaderCompRefresh=function(e){var r=this.comp.getUserCompInstance();if(!r||!r.refresh)return!1;var i=r.refresh(e);return i},t.prototype.calculateDisplayName=function(){return this.beans.columnModel.getDisplayNameForColumn(this.column,"header",!0)},t.prototype.checkDisplayName=function(){this.displayName!==this.calculateDisplayName()&&this.refresh()},t.prototype.workOutDraggable=function(){var e=this.column.getColDef(),r=this.gridOptionsService.get("suppressMovableColumns"),i=!r&&!e.suppressMovable&&!e.lockPosition;return!!i||!!e.enableRowGroup||!!e.enablePivot},t.prototype.onColumnRowGroupChanged=function(){this.checkDisplayName()},t.prototype.onColumnPivotChanged=function(){this.checkDisplayName()},t.prototype.onColumnValueChanged=function(){this.checkDisplayName()},t.prototype.setupWidth=function(){var e=this,r=function(){var i=e.column.getActualWidth();e.comp.setWidth("".concat(i,"px"))};this.addManagedListener(this.column,Je.EVENT_WIDTH_CHANGED,r),r()},t.prototype.setupMovingCss=function(){var e=this,r=function(){e.comp.addOrRemoveCssClass("ag-header-cell-moving",e.column.isMoving())};this.addManagedListener(this.column,Je.EVENT_MOVING_CHANGED,r),r()},t.prototype.setupMenuClass=function(){var e=this,r=function(){e.comp.addOrRemoveCssClass("ag-column-menu-visible",e.column.isMenuVisible())};this.addManagedListener(this.column,Je.EVENT_MENU_VISIBLE_CHANGED,r),r()},t.prototype.setupSortableClass=function(){var e=this,r=function(){e.comp.addOrRemoveCssClass("ag-header-cell-sortable",!!e.sortable)};r(),this.addRefreshFunction(r),this.addManagedListener(this.eventService,Je.EVENT_SORT_CHANGED,this.refreshAriaSort.bind(this))},t.prototype.setupFilterClass=function(){var e=this,r=function(){var i=e.column.isFilterActive();e.comp.addOrRemoveCssClass("ag-header-cell-filtered",i),e.refreshAria()};this.addManagedListener(this.column,Je.EVENT_FILTER_ACTIVE_CHANGED,r),r()},t.prototype.setupWrapTextClass=function(){var e=this,r=function(){var i=!!e.column.getColDef().wrapHeaderText;e.comp.addOrRemoveCssClass("ag-header-cell-wrap-text",i)};r(),this.addRefreshFunction(r)},t.prototype.onDisplayedColumnsChanged=function(){n.prototype.onDisplayedColumnsChanged.call(this),this.isAlive()&&this.onHeaderHeightChanged()},t.prototype.onHeaderHeightChanged=function(){this.refreshSpanHeaderHeight()},t.prototype.refreshSpanHeaderHeight=function(){var e=this,r=e.eGui,i=e.column,o=e.comp,a=e.beans;if(!i.isSpanHeaderHeight()){r.style.removeProperty("top"),r.style.removeProperty("height"),o.addOrRemoveCssClass("ag-header-span-height",!1),o.addOrRemoveCssClass("ag-header-span-total",!1);return}var s=this.column.getColumnGroupPaddingInfo(),l=s.numberOfParents,u=s.isSpanningTotal;o.addOrRemoveCssClass("ag-header-span-height",l>0);var c=a.columnModel,d=c.getColumnHeaderRowHeight();if(l===0){o.addOrRemoveCssClass("ag-header-span-total",!1),r.style.setProperty("top","0px"),r.style.setProperty("height","".concat(d,"px"));return}o.addOrRemoveCssClass("ag-header-span-total",u);var p=c.isPivotMode(),h=p?c.getPivotGroupHeaderHeight():c.getGroupHeaderHeight(),f=l*h;r.style.setProperty("top","".concat(-f,"px")),r.style.setProperty("height","".concat(d+f,"px"))},t.prototype.setupAutoHeight=function(e){var r=this,i=this.beans,o=i.columnModel,a=i.resizeObserverService,s=function(h){if(r.isAlive()){var f=Qd(r.getGui()),v=f.paddingTop,g=f.paddingBottom,y=f.borderBottomWidth,m=f.borderTopWidth,C=v+g+y+m,S=e.offsetHeight,w=S+C;if(h<5){var _=r.beans.gridOptionsService.getDocument(),x=!_||!_.contains(e),b=w==0;if(x||b){window.setTimeout(function(){return s(h+1)},0);return}}o.setColumnHeaderHeight(r.column,w)}},l=!1,u,c=function(){var h=r.column.isAutoHeaderHeight();h&&!l&&d(),!h&&l&&p()},d=function(){l=!0,s(0),r.comp.addOrRemoveCssClass("ag-header-cell-auto-height",!0),u=a.observeResize(e,function(){return s(0)})},p=function(){l=!1,u&&u(),r.comp.addOrRemoveCssClass("ag-header-cell-auto-height",!1),u=void 0};c(),this.addDestroyFunc(function(){return p()}),this.addManagedListener(this.column,Je.EVENT_WIDTH_CHANGED,function(){return l&&s(0)}),this.addManagedListener(this.eventService,Je.EVENT_SORT_CHANGED,function(){l&&window.setTimeout(function(){return s(0)})}),this.addRefreshFunction(c)},t.prototype.refreshAriaSort=function(){if(this.sortable){var e=this.localeService.getLocaleTextFunc(),r=this.beans.sortController.getDisplaySortForColumn(this.column)||null;this.comp.setAriaSort(nY(r)),this.setAriaDescriptionProperty("sort",e("ariaSortableColumn","Press ENTER to sort"))}else this.comp.setAriaSort(),this.setAriaDescriptionProperty("sort",null)},t.prototype.refreshAriaMenu=function(){if(this.menuEnabled){var e=this.localeService.getLocaleTextFunc();this.setAriaDescriptionProperty("menu",e("ariaMenuColumn","Press ALT DOWN to open column menu"))}else this.setAriaDescriptionProperty("menu",null)},t.prototype.refreshAriaFilterButton=function(){if(this.openFilterEnabled&&!this.menuService.isLegacyMenuEnabled()){var e=this.localeService.getLocaleTextFunc();this.setAriaDescriptionProperty("filterButton",e("ariaFilterColumn","Press CTRL ENTER to open filter"))}else this.setAriaDescriptionProperty("filterButton",null)},t.prototype.refreshAriaFiltered=function(){var e=this.localeService.getLocaleTextFunc(),r=this.column.isFilterActive();r?this.setAriaDescriptionProperty("filter",e("ariaColumnFiltered","Column Filtered")):this.setAriaDescriptionProperty("filter",null)},t.prototype.setAriaDescriptionProperty=function(e,r){r!=null?this.ariaDescriptionProperties.set(e,r):this.ariaDescriptionProperties.delete(e)},t.prototype.announceAriaDescription=function(){var e=this,r=this.beans.gridOptionsService.getDocument();if(this.eGui.contains(r.activeElement)){var i=Array.from(this.ariaDescriptionProperties.keys()).sort(function(o,a){return o==="filter"?-1:a.charCodeAt(0)-o.charCodeAt(0)}).map(function(o){return e.ariaDescriptionProperties.get(o)}).join(". ");this.beans.ariaAnnouncementService.announceValue(i)}},t.prototype.refreshAria=function(){this.refreshAriaSort(),this.refreshAriaMenu(),this.refreshAriaFilterButton(),this.refreshAriaFiltered()},t.prototype.addColumnHoverListener=function(){var e=this,r=function(){if(e.gridOptionsService.get("columnHoverHighlight")){var i=e.beans.columnHoverService.isHovered(e.column);e.comp.addOrRemoveCssClass("ag-column-hover",i)}};this.addManagedListener(this.eventService,P.EVENT_COLUMN_HOVER_CHANGED,r),r()},t.prototype.getColId=function(){return this.column.getColId()},t.prototype.addActiveHeaderMouseListeners=function(){var e=this,r=function(a){return e.handleMouseOverChange(a.type==="mouseenter")},i=function(){return e.dispatchColumnMouseEvent(P.EVENT_COLUMN_HEADER_CLICKED,e.column)},o=function(a){return e.handleContextMenuMouseEvent(a,void 0,e.column)};this.addManagedListener(this.getGui(),"mouseenter",r),this.addManagedListener(this.getGui(),"mouseleave",r),this.addManagedListener(this.getGui(),"click",i),this.addManagedListener(this.getGui(),"contextmenu",o)},t.prototype.handleMouseOverChange=function(e){this.setActiveHeader(e);var r=e?P.EVENT_COLUMN_HEADER_MOUSE_OVER:P.EVENT_COLUMN_HEADER_MOUSE_LEAVE,i={type:r,column:this.column};this.eventService.dispatchEvent(i)},t.prototype.setActiveHeader=function(e){this.comp.addOrRemoveCssClass("ag-header-active",e)},t.prototype.getAnchorElementForMenu=function(e){var r=this.comp.getUserCompInstance();return r instanceof PL?r.getAnchorElementForMenu(e):this.getGui()},t.prototype.destroy=function(){n.prototype.destroy.call(this),this.refreshFunctions=null,this.selectAllFeature=null,this.dragSourceElement=null,this.userCompDetails=null,this.userHeaderClasses=null,this.ariaDescriptionProperties=null},t}(Bw),CTe=function(){var n=function(t,e){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])},n(t,e)};return function(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");n(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}}(),p_=function(n,t,e,r){var i=arguments.length,o=i<3?t:r===null?r=Object.getOwnPropertyDescriptor(t,e):r,a;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(n,t,e,r);else for(var s=n.length-1;s>=0;s--)(a=n[s])&&(o=(i<3?a(o):i>3?a(t,e,o):a(t,e))||o);return i>3&&o&&Object.defineProperty(t,e,o),o},STe=function(n){CTe(t,n);function t(e,r,i,o){var a=n.call(this)||this;return a.eResize=r,a.comp=e,a.pinned=i,a.columnGroup=o,a}return t.prototype.postConstruct=function(){var e=this;if(!this.columnGroup.isResizable()){this.comp.setResizableDisplayed(!1);return}var r=this.horizontalResizeService.addResizeBar({eResizeBar:this.eResize,onResizeStart:this.onResizeStart.bind(this),onResizing:this.onResizing.bind(this,!1),onResizeEnd:this.onResizing.bind(this,!0)});if(this.addDestroyFunc(r),!this.gridOptionsService.get("suppressAutoSize")){var i=this.gridOptionsService.get("skipHeaderOnAutoSize");this.eResize.addEventListener("dblclick",function(){var o=[],a=e.columnGroup.getDisplayedLeafColumns();a.forEach(function(s){s.getColDef().suppressAutoSize||o.push(s.getColId())}),o.length>0&&e.columnModel.autoSizeColumns({columns:o,skipHeader:i,stopAtGroup:e.columnGroup,source:"uiColumnResized"}),e.resizeLeafColumnsToFit("uiColumnResized")})}},t.prototype.onResizeStart=function(e){var r=this.getInitialValues(e);this.storeLocalValues(r),this.toggleColumnResizing(!0)},t.prototype.onResizing=function(e,r,i){i===void 0&&(i="uiColumnResized");var o=this.normaliseDragChange(r),a=this.resizeStartWidth+o;this.resizeColumnsFromLocalValues(a,i,e)},t.prototype.getInitialValues=function(e){var r=this.getColumnsToResize(),i=this.getInitialSizeOfColumns(r),o=this.getSizeRatiosOfColumns(r,i),a={columnsToResize:r,resizeStartWidth:i,resizeRatios:o},s=null;if(e&&(s=this.columnModel.getDisplayedGroupAfter(this.columnGroup)),s){var l=s.getDisplayedLeafColumns(),u=a.groupAfterColumns=l.filter(function(d){return d.isResizable()}),c=a.groupAfterStartWidth=this.getInitialSizeOfColumns(u);a.groupAfterRatios=this.getSizeRatiosOfColumns(u,c)}else a.groupAfterColumns=void 0,a.groupAfterStartWidth=void 0,a.groupAfterRatios=void 0;return a},t.prototype.storeLocalValues=function(e){var r=e.columnsToResize,i=e.resizeStartWidth,o=e.resizeRatios,a=e.groupAfterColumns,s=e.groupAfterStartWidth,l=e.groupAfterRatios;this.resizeCols=r,this.resizeStartWidth=i,this.resizeRatios=o,this.resizeTakeFromCols=a,this.resizeTakeFromStartWidth=s,this.resizeTakeFromRatios=l},t.prototype.clearLocalValues=function(){this.resizeCols=void 0,this.resizeRatios=void 0,this.resizeTakeFromCols=void 0,this.resizeTakeFromRatios=void 0},t.prototype.resizeLeafColumnsToFit=function(e){var r=this.autoWidthCalculator.getPreferredWidthForColumnGroup(this.columnGroup),i=this.getInitialValues();r>i.resizeStartWidth&&this.resizeColumns(i,r,e,!0)},t.prototype.resizeColumnsFromLocalValues=function(e,r,i){var o,a,s;if(i===void 0&&(i=!0),!(!this.resizeCols||!this.resizeRatios)){var l={columnsToResize:this.resizeCols,resizeStartWidth:this.resizeStartWidth,resizeRatios:this.resizeRatios,groupAfterColumns:(o=this.resizeTakeFromCols)!==null&&o!==void 0?o:void 0,groupAfterStartWidth:(a=this.resizeTakeFromStartWidth)!==null&&a!==void 0?a:void 0,groupAfterRatios:(s=this.resizeTakeFromRatios)!==null&&s!==void 0?s:void 0};this.resizeColumns(l,e,r,i)}},t.prototype.resizeColumns=function(e,r,i,o){o===void 0&&(o=!0);var a=e.columnsToResize,s=e.resizeStartWidth,l=e.resizeRatios,u=e.groupAfterColumns,c=e.groupAfterStartWidth,d=e.groupAfterRatios,p=[];if(p.push({columns:a,ratios:l,width:r}),u){var h=r-s;p.push({columns:u,ratios:d,width:c-h})}this.columnModel.resizeColumnSets({resizeSets:p,finished:o,source:i}),o&&this.toggleColumnResizing(!1)},t.prototype.toggleColumnResizing=function(e){this.comp.addOrRemoveCssClass("ag-column-resizing",e)},t.prototype.getColumnsToResize=function(){var e=this.columnGroup.getDisplayedLeafColumns();return e.filter(function(r){return r.isResizable()})},t.prototype.getInitialSizeOfColumns=function(e){return e.reduce(function(r,i){return r+i.getActualWidth()},0)},t.prototype.getSizeRatiosOfColumns=function(e,r){return e.map(function(i){return i.getActualWidth()/r})},t.prototype.normaliseDragChange=function(e){var r=e;return this.gridOptionsService.get("enableRtl")?this.pinned!=="left"&&(r*=-1):this.pinned==="right"&&(r*=-1),r},t.prototype.destroy=function(){n.prototype.destroy.call(this),this.clearLocalValues()},p_([E("horizontalResizeService")],t.prototype,"horizontalResizeService",void 0),p_([E("autoWidthCalculator")],t.prototype,"autoWidthCalculator",void 0),p_([E("columnModel")],t.prototype,"columnModel",void 0),p_([z],t.prototype,"postConstruct",null),t}(q),wTe=function(){var n=function(t,e){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])},n(t,e)};return function(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");n(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}}(),_Te=function(n,t,e,r){var i=arguments.length,o=i<3?t:r===null?r=Object.getOwnPropertyDescriptor(t,e):r,a;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(n,t,e,r);else for(var s=n.length-1;s>=0;s--)(a=n[s])&&(o=(i<3?a(o):i>3?a(t,e,o):a(t,e))||o);return i>3&&o&&Object.defineProperty(t,e,o),o},xTe=function(n){wTe(t,n);function t(e,r){var i=n.call(this)||this;return i.removeChildListenersFuncs=[],i.columnGroup=r,i.comp=e,i}return t.prototype.postConstruct=function(){this.addListenersToChildrenColumns(),this.addManagedListener(this.columnGroup,Vr.EVENT_DISPLAYED_CHILDREN_CHANGED,this.onDisplayedChildrenChanged.bind(this)),this.onWidthChanged(),this.addDestroyFunc(this.removeListenersOnChildrenColumns.bind(this))},t.prototype.addListenersToChildrenColumns=function(){var e=this;this.removeListenersOnChildrenColumns();var r=this.onWidthChanged.bind(this);this.columnGroup.getLeafColumns().forEach(function(i){i.addEventListener("widthChanged",r),i.addEventListener("visibleChanged",r),e.removeChildListenersFuncs.push(function(){i.removeEventListener("widthChanged",r),i.removeEventListener("visibleChanged",r)})})},t.prototype.removeListenersOnChildrenColumns=function(){this.removeChildListenersFuncs.forEach(function(e){return e()}),this.removeChildListenersFuncs=[]},t.prototype.onDisplayedChildrenChanged=function(){this.addListenersToChildrenColumns(),this.onWidthChanged()},t.prototype.onWidthChanged=function(){var e=this.columnGroup.getActualWidth();this.comp.setWidth("".concat(e,"px")),this.comp.addOrRemoveCssClass("ag-hidden",e===0)},_Te([z],t.prototype,"postConstruct",null),t}(q),ETe=function(){var n=function(t,e){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])},n(t,e)};return function(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");n(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}}(),Wb=function(){return Wb=Object.assign||function(n){for(var t,e=1,r=arguments.length;e<r;e++){t=arguments[e];for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(n[i]=t[i])}return n},Wb.apply(this,arguments)},LX=function(n){ETe(t,n);function t(e,r,i){var o=n.call(this,e,r,i)||this;return o.onSuppressColMoveChange=function(){if(!o.isAlive()||o.isSuppressMoving())o.removeDragSource();else if(!o.dragSource){var a=o.getGui();o.setDragSource(a)}},o.column=e,o}return t.prototype.setComp=function(e,r,i){this.comp=e,this.setGui(r),this.displayName=this.beans.columnModel.getDisplayNameForColumnGroup(this.column,"header"),this.addClasses(),this.setupMovingCss(),this.setupExpandable(),this.setupTooltip(),this.setupUserComp(),this.addHeaderMouseListeners();var o=this.getParentRowCtrl().getPinned(),a=this.column.getProvidedColumnGroup().getLeafColumns();this.createManagedBean(new AG(a,r)),this.createManagedBean(new DT(this.column,r,this.beans)),this.createManagedBean(new xTe(e,this.column)),this.resizeFeature=this.createManagedBean(new STe(e,i,o,this.column)),this.createManagedBean(new eu(r,{shouldStopEventPropagation:this.shouldStopEventPropagation.bind(this),onTabKeyDown:function(){},handleKeyDown:this.handleKeyDown.bind(this),onFocusIn:this.onFocusIn.bind(this)})),this.addManagedPropertyListener(P.EVENT_SUPPRESS_COLUMN_MOVE_CHANGED,this.onSuppressColMoveChange),this.addResizeAndMoveKeyboardListeners()},t.prototype.resizeHeader=function(e,r){if(this.resizeFeature){var i=this.resizeFeature.getInitialValues(r);this.resizeFeature.resizeColumns(i,i.resizeStartWidth+e,"uiColumnResized",!0)}},t.prototype.moveHeader=function(e){var r=this,i=r.beans,o=r.eGui,a=r.column,s=r.gridOptionsService,l=r.ctrlsService,u=s.get("enableRtl"),c=e===so.Left,d=this.getPinned(),p=o.getBoundingClientRect(),h=p.left,f=p.width,v=Rh.normaliseX(c!==u?h-20:h+f+20,d,!0,s,l),g=a.getGroupId(),y=this.focusService.getFocusedHeader();Rh.attemptMoveColumns({allMovingColumns:this.column.getLeafColumns(),isFromHeader:!0,hDirection:e,xPosition:v,pinned:d,fromEnter:!1,fakeEvent:!1,gridOptionsService:s,columnModel:i.columnModel});var m=a.getDisplayedLeafColumns(),C=c?m[0]:bt(m);this.ctrlsService.getGridBodyCtrl().getScrollFeature().ensureColumnVisible(C,"auto"),!this.isAlive()&&y&&this.restoreFocus(g,a,y)},t.prototype.restoreFocus=function(e,r,i){var o=r.getLeafColumns();if(o.length){var a=o[0].getParent();if(a){var s=this.findGroupWidthId(a,e);s&&this.focusService.focusHeaderPosition({headerPosition:Wb(Wb({},i),{column:s})})}}},t.prototype.findGroupWidthId=function(e,r){for(;e;){if(e.getGroupId()===r)return e;e=e.getParent()}return null},t.prototype.resizeLeafColumnsToFit=function(e){this.resizeFeature&&this.resizeFeature.resizeLeafColumnsToFit(e)},t.prototype.setupUserComp=function(){var e=this,r=this.gridOptionsService.addGridCommonParams({displayName:this.displayName,columnGroup:this.column,setExpanded:function(o){e.beans.columnModel.setColumnGroupOpened(e.column.getProvidedColumnGroup(),o,"gridInitializing")}}),i=this.userComponentFactory.getHeaderGroupCompDetails(r);this.comp.setUserCompDetails(i)},t.prototype.addHeaderMouseListeners=function(){var e=this,r=function(a){return e.handleMouseOverChange(a.type==="mouseenter")},i=function(){return e.dispatchColumnMouseEvent(P.EVENT_COLUMN_HEADER_CLICKED,e.column.getProvidedColumnGroup())},o=function(a){return e.handleContextMenuMouseEvent(a,void 0,e.column.getProvidedColumnGroup())};this.addManagedListener(this.getGui(),"mouseenter",r),this.addManagedListener(this.getGui(),"mouseleave",r),this.addManagedListener(this.getGui(),"click",i),this.addManagedListener(this.getGui(),"contextmenu",o)},t.prototype.handleMouseOverChange=function(e){var r=e?P.EVENT_COLUMN_HEADER_MOUSE_OVER:P.EVENT_COLUMN_HEADER_MOUSE_LEAVE,i={type:r,column:this.column.getProvidedColumnGroup()};this.eventService.dispatchEvent(i)},t.prototype.setupTooltip=function(){var e=this,r=this.column.getColGroupDef(),i={getColumn:function(){return e.column},getGui:function(){return e.eGui},getLocation:function(){return"headerGroup"},getTooltipValue:function(){return r&&r.headerTooltip}};r&&(i.getColDef=function(){return r});var o=this.createManagedBean(new Ma(i,this.beans));o.setComp(this.eGui)},t.prototype.setupExpandable=function(){var e=this.column.getProvidedColumnGroup();this.refreshExpanded(),this.addManagedListener(e,Pt.EVENT_EXPANDABLE_CHANGED,this.refreshExpanded.bind(this)),this.addManagedListener(e,Pt.EVENT_EXPANDED_CHANGED,this.refreshExpanded.bind(this))},t.prototype.refreshExpanded=function(){var e=this.column;this.expandable=e.isExpandable();var r=e.isExpanded();this.expandable?this.comp.setAriaExpanded(r?"true":"false"):this.comp.setAriaExpanded(void 0)},t.prototype.getColId=function(){return this.column.getUniqueId()},t.prototype.addClasses=function(){var e=this,r=this.column.getColGroupDef(),i=Jd.getHeaderClassesFromColDef(r,this.gridOptionsService,null,this.column);if(this.column.isPadding()){i.push("ag-header-group-cell-no-group");var o=this.column.getLeafColumns();o.every(function(a){return a.isSpanHeaderHeight()})&&i.push("ag-header-span-height")}else i.push("ag-header-group-cell-with-group");i.forEach(function(a){return e.comp.addOrRemoveCssClass(a,!0)})},t.prototype.setupMovingCss=function(){var e=this,r=this.column.getProvidedColumnGroup(),i=r.getLeafColumns(),o=function(){return e.comp.addOrRemoveCssClass("ag-header-cell-moving",e.column.isMoving())};i.forEach(function(a){e.addManagedListener(a,Je.EVENT_MOVING_CHANGED,o)}),o()},t.prototype.onFocusIn=function(e){if(!this.eGui.contains(e.relatedTarget)){var r=this.getRowIndex();this.beans.focusService.setFocusedHeader(r,this.column)}},t.prototype.handleKeyDown=function(e){n.prototype.handleKeyDown.call(this,e);var r=this.getWrapperHasFocus();if(!(!this.expandable||!r)&&e.key===U.ENTER){var i=this.column,o=!i.isExpanded();this.beans.columnModel.setColumnGroupOpened(i.getProvidedColumnGroup(),o,"uiColumnExpanded")}},t.prototype.setDragSource=function(e){var r=this;if(!(!this.isAlive()||this.isSuppressMoving())&&(this.removeDragSource(),!!e)){var i=this,o=i.beans,a=i.column,s=i.displayName,l=i.gridOptionsService,u=i.dragAndDropService,c=o.columnModel,d=a.getProvidedColumnGroup().getLeafColumns(),p=!l.get("suppressDragLeaveHidesColumns"),h=this.dragSource={type:Sr.HeaderCell,eElement:e,getDefaultIconName:function(){return p?Ct.ICON_HIDE:Ct.ICON_NOT_ALLOWED},dragItemName:s,getDragItem:function(){return r.getDragItemForGroup(a)},onDragStarted:function(){p=!l.get("suppressDragLeaveHidesColumns"),d.forEach(function(f){return f.setMoving(!0,"uiColumnDragged")})},onDragStopped:function(){return d.forEach(function(f){return f.setMoving(!1,"uiColumnDragged")})},onGridEnter:function(f){var v;if(p){var g=((v=f==null?void 0:f.columns)===null||v===void 0?void 0:v.filter(function(y){return!y.getColDef().lockVisible}))||[];c.setColumnsVisible(g,!0,"uiColumnMoved")}},onGridExit:function(f){var v;if(p){var g=((v=f==null?void 0:f.columns)===null||v===void 0?void 0:v.filter(function(y){return!y.getColDef().lockVisible}))||[];c.setColumnsVisible(g,!1,"uiColumnMoved")}}};u.addDragSource(h,!0)}},t.prototype.getDragItemForGroup=function(e){var r=e.getProvidedColumnGroup().getLeafColumns(),i={};r.forEach(function(a){return i[a.getId()]=a.isVisible()});var o=[];return this.beans.columnModel.getAllDisplayedColumns().forEach(function(a){r.indexOf(a)>=0&&(o.push(a),eo(r,a))}),r.forEach(function(a){return o.push(a)}),{columns:o,visibleState:i}},t.prototype.isSuppressMoving=function(){var e=!1;this.column.getLeafColumns().forEach(function(i){(i.getColDef().suppressMovable||i.getColDef().lockPosition)&&(e=!0)});var r=e||this.gridOptionsService.get("suppressMovableColumns");return r},t}(Bw),bTe=function(){var n=function(t,e){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])},n(t,e)};return function(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");n(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}}(),L3=function(n,t,e,r){var i=arguments.length,o=i<3?t:r===null?r=Object.getOwnPropertyDescriptor(t,e):r,a;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(n,t,e,r);else for(var s=n.length-1;s>=0;s--)(a=n[s])&&(o=(i<3?a(o):i>3?a(t,e,o):a(t,e))||o);return i>3&&o&&Object.defineProperty(t,e,o),o},I3=function(n){var t=typeof Symbol=="function"&&Symbol.iterator,e=t&&n[t],r=0;if(e)return e.call(n);if(n&&typeof n.length=="number")return{next:function(){return n&&r>=n.length&&(n=void 0),{value:n&&n[r++],done:!n}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")},OTe=function(n,t){var e=typeof Symbol=="function"&&n[Symbol.iterator];if(!e)return n;var r=e.call(n),i,o=[],a;try{for(;(t===void 0||t-- >0)&&!(i=r.next()).done;)o.push(i.value)}catch(s){a={error:s}}finally{try{i&&!i.done&&(e=r.return)&&e.call(r)}finally{if(a)throw a.error}}return o},RTe=0,Jx=function(n){bTe(t,n);function t(e,r,i){var o=n.call(this)||this;o.instanceId=RTe++,o.rowIndex=e,o.pinned=r,o.type=i;var a=i==An.COLUMN_GROUP?"ag-header-row-column-group":i==An.FLOATING_FILTER?"ag-header-row-column-filter":"ag-header-row-column";return o.headerRowClass="ag-header-row ".concat(a),o}return t.prototype.postConstruct=function(){this.isPrintLayout=this.gridOptionsService.isDomLayout("print"),this.isEnsureDomOrder=this.gridOptionsService.get("ensureDomOrder")},t.prototype.getInstanceId=function(){return this.instanceId},t.prototype.setComp=function(e,r){r===void 0&&(r=!0),this.comp=e,r&&(this.onRowHeightChanged(),this.onVirtualColumnsChanged()),this.setWidth(),this.addEventListeners()},t.prototype.getHeaderRowClass=function(){return this.headerRowClass},t.prototype.getAriaRowIndex=function(){return this.rowIndex+1},t.prototype.addEventListeners=function(){var e=this;this.addManagedListener(this.eventService,P.EVENT_COLUMN_RESIZED,this.onColumnResized.bind(this)),this.addManagedListener(this.eventService,P.EVENT_DISPLAYED_COLUMNS_CHANGED,this.onDisplayedColumnsChanged.bind(this)),this.addManagedListener(this.eventService,P.EVENT_VIRTUAL_COLUMNS_CHANGED,function(r){return e.onVirtualColumnsChanged(r.afterScroll)}),this.addManagedListener(this.eventService,P.EVENT_COLUMN_HEADER_HEIGHT_CHANGED,this.onRowHeightChanged.bind(this)),this.addManagedListener(this.eventService,P.EVENT_GRID_STYLES_CHANGED,this.onRowHeightChanged.bind(this)),this.addManagedListener(this.eventService,P.EVENT_ADVANCED_FILTER_ENABLED_CHANGED,this.onRowHeightChanged.bind(this)),this.addManagedPropertyListener("domLayout",this.onDisplayedColumnsChanged.bind(this)),this.addManagedPropertyListener("ensureDomOrder",function(r){return e.isEnsureDomOrder=r.currentValue}),this.addManagedPropertyListener("headerHeight",this.onRowHeightChanged.bind(this)),this.addManagedPropertyListener("pivotHeaderHeight",this.onRowHeightChanged.bind(this)),this.addManagedPropertyListener("groupHeaderHeight",this.onRowHeightChanged.bind(this)),this.addManagedPropertyListener("pivotGroupHeaderHeight",this.onRowHeightChanged.bind(this)),this.addManagedPropertyListener("floatingFiltersHeight",this.onRowHeightChanged.bind(this))},t.prototype.getHeaderCellCtrl=function(e){if(this.headerCellCtrls)return xh(this.headerCellCtrls).find(function(r){return r.getColumnGroupChild()===e})},t.prototype.onDisplayedColumnsChanged=function(){this.isPrintLayout=this.gridOptionsService.isDomLayout("print"),this.onVirtualColumnsChanged(),this.setWidth(),this.onRowHeightChanged()},t.prototype.getType=function(){return this.type},t.prototype.onColumnResized=function(){this.setWidth()},t.prototype.setWidth=function(){var e=this.getWidthForRow();this.comp.setWidth("".concat(e,"px"))},t.prototype.getWidthForRow=function(){var e=this.beans.columnModel;if(this.isPrintLayout){var r=this.pinned!=null;return r?0:e.getContainerWidth("right")+e.getContainerWidth("left")+e.getContainerWidth(null)}return e.getContainerWidth(this.pinned)},t.prototype.onRowHeightChanged=function(){var e=this.getTopAndHeight(),r=e.topOffset,i=e.rowHeight;this.comp.setTop(r+"px"),this.comp.setHeight(i+"px")},t.prototype.getTopAndHeight=function(){var e=this.beans,r=e.columnModel,i=e.filterManager,o=r.getHeaderRowCount(),a=[],s=0;i.hasFloatingFilters()&&(o++,s=1);for(var l=r.getColumnGroupHeaderRowHeight(),u=r.getColumnHeaderRowHeight(),c=1+s,d=o-c,p=0;p<d;p++)a.push(l);a.push(u);for(var p=0;p<s;p++)a.push(r.getFloatingFiltersHeight());for(var h=0,p=0;p<this.rowIndex;p++)h+=a[p];var f=a[this.rowIndex];return{topOffset:h,rowHeight:f}},t.prototype.getPinned=function(){return this.pinned},t.prototype.getRowIndex=function(){return this.rowIndex},t.prototype.onVirtualColumnsChanged=function(e){e===void 0&&(e=!1);var r=this.getHeaderCtrls(),i=this.isEnsureDomOrder||this.isPrintLayout;this.comp.setHeaderCtrls(r,i,e)},t.prototype.getHeaderCtrls=function(){var e,r,i,o,a=this,s=this.headerCellCtrls;this.headerCellCtrls=new Map;var l=this.getColumnsInViewport();try{for(var u=I3(l),c=u.next();!c.done;c=u.next()){var d=c.value;this.recycleAndCreateHeaderCtrls(d,s)}}catch(S){e={error:S}}finally{try{c&&!c.done&&(r=u.return)&&r.call(u)}finally{if(e)throw e.error}}var p=function(S){var w=a.beans,_=w.focusService,x=w.columnModel,b=_.isHeaderWrapperFocused(S);if(!b)return!1;var O=x.isDisplayed(S.getColumnGroupChild());return O};if(s)try{for(var h=I3(s),f=h.next();!f.done;f=h.next()){var v=OTe(f.value,2),g=v[0],y=v[1],m=p(y);m?this.headerCellCtrls.set(g,y):this.destroyBean(y)}}catch(S){i={error:S}}finally{try{f&&!f.done&&(o=h.return)&&o.call(h)}finally{if(i)throw i.error}}var C=Array.from(this.headerCellCtrls.values());return C},t.prototype.recycleAndCreateHeaderCtrls=function(e,r){if(this.headerCellCtrls&&!e.isEmptyGroup()){var i=e.getUniqueId(),o;r&&(o=r.get(i),r.delete(i));var a=o&&o.getColumnGroupChild()!=e;if(a&&(this.destroyBean(o),o=void 0),o==null)switch(this.type){case An.FLOATING_FILTER:o=this.createBean(new MX(e,this.beans,this));break;case An.COLUMN_GROUP:o=this.createBean(new LX(e,this.beans,this));break;default:o=this.createBean(new FX(e,this.beans,this));break}this.headerCellCtrls.set(i,o)}},t.prototype.getColumnsInViewport=function(){return this.isPrintLayout?this.getColumnsInViewportPrintLayout():this.getColumnsInViewportNormalLayout()},t.prototype.getColumnsInViewportPrintLayout=function(){if(this.pinned!=null)return[];var e=[],r=this.getActualDepth(),i=this.beans.columnModel;return["left",null,"right"].forEach(function(o){var a=i.getVirtualHeaderGroupRow(o,r);e=e.concat(a)}),e},t.prototype.getActualDepth=function(){return this.type==An.FLOATING_FILTER?this.rowIndex-1:this.rowIndex},t.prototype.getColumnsInViewportNormalLayout=function(){return this.beans.columnModel.getVirtualHeaderGroupRow(this.pinned,this.getActualDepth())},t.prototype.focusHeader=function(e,r){if(!this.headerCellCtrls)return!1;var i=Array.from(this.headerCellCtrls.values()),o=i.find(function(a){return a.getColumnGroupChild()==e});return o?o.focus(r):!1},t.prototype.destroy=function(){var e=this;this.headerCellCtrls&&this.headerCellCtrls.forEach(function(r){e.destroyBean(r)}),this.headerCellCtrls=void 0,n.prototype.destroy.call(this)},L3([E("beans")],t.prototype,"beans",void 0),L3([z],t.prototype,"postConstruct",null),t}(q),TTe=function(){var n=function(t,e){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])},n(t,e)};return function(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");n(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}}(),Of=function(n,t,e,r){var i=arguments.length,o=i<3?t:r===null?r=Object.getOwnPropertyDescriptor(t,e):r,a;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(n,t,e,r);else for(var s=n.length-1;s>=0;s--)(a=n[s])&&(o=(i<3?a(o):i>3?a(t,e,o):a(t,e))||o);return i>3&&o&&Object.defineProperty(t,e,o),o},PTe=function(n,t){var e=typeof Symbol=="function"&&n[Symbol.iterator];if(!e)return n;var r=e.call(n),i,o=[],a;try{for(;(t===void 0||t-- >0)&&!(i=r.next()).done;)o.push(i.value)}catch(s){a={error:s}}finally{try{i&&!i.done&&(e=r.return)&&e.call(r)}finally{if(a)throw a.error}}return o},ATe=function(n,t,e){if(e||arguments.length===2)for(var r=0,i=t.length,o;r<i;r++)(o||!(r in t))&&(o||(o=Array.prototype.slice.call(t,0,r)),o[r]=t[r]);return n.concat(o||Array.prototype.slice.call(t))},IX=function(n){TTe(t,n);function t(e){var r=n.call(this)||this;return r.hidden=!1,r.includeFloatingFilter=!1,r.groupsRowCtrls=[],r.pinned=e,r}return t.prototype.setComp=function(e,r){this.comp=e,this.eViewport=r,this.setupCenterWidth(),this.setupPinnedWidth(),this.setupDragAndDrop(this.eViewport),this.addManagedListener(this.eventService,P.EVENT_GRID_COLUMNS_CHANGED,this.onGridColumnsChanged.bind(this)),this.addManagedListener(this.eventService,P.EVENT_DISPLAYED_COLUMNS_CHANGED,this.onDisplayedColumnsChanged.bind(this)),this.addManagedListener(this.eventService,P.EVENT_ADVANCED_FILTER_ENABLED_CHANGED,this.onDisplayedColumnsChanged.bind(this)),this.ctrlsService.registerHeaderContainer(this,this.pinned),this.columnModel.isReady()&&this.refresh()},t.prototype.setupDragAndDrop=function(e){var r=new AX(this.pinned,e);this.createManagedBean(r)},t.prototype.refresh=function(e){var r=this;e===void 0&&(e=!1);var i=new Kn,o=this.focusService.getFocusHeaderToUseAfterRefresh(),a=function(){var c=r.columnModel.getHeaderRowCount()-1;r.groupsRowCtrls=r.destroyBeans(r.groupsRowCtrls);for(var d=0;d<c;d++){var p=r.createBean(new Jx(i.next(),r.pinned,An.COLUMN_GROUP));r.groupsRowCtrls.push(p)}},s=function(){var c=i.next(),d=!r.hidden&&(r.columnsRowCtrl==null||!e||r.columnsRowCtrl.getRowIndex()!==c),p=d||r.hidden;p&&(r.columnsRowCtrl=r.destroyBean(r.columnsRowCtrl)),d&&(r.columnsRowCtrl=r.createBean(new Jx(c,r.pinned,An.COLUMN)))},l=function(){r.includeFloatingFilter=r.filterManager.hasFloatingFilters()&&!r.hidden;var c=function(){r.filtersRowCtrl=r.destroyBean(r.filtersRowCtrl)};if(!r.includeFloatingFilter){c();return}var d=i.next();if(r.filtersRowCtrl){var p=r.filtersRowCtrl.getRowIndex()!==d;(!e||p)&&c()}r.filtersRowCtrl||(r.filtersRowCtrl=r.createBean(new Jx(d,r.pinned,An.FLOATING_FILTER)))};a(),s(),l();var u=this.getAllCtrls();this.comp.setCtrls(u),this.restoreFocusOnHeader(o)},t.prototype.restoreFocusOnHeader=function(e){e==null||e.column.getPinned()!=this.pinned||this.focusService.focusHeaderPosition({headerPosition:e})},t.prototype.getAllCtrls=function(){var e=ATe([],PTe(this.groupsRowCtrls),!1);return this.columnsRowCtrl&&e.push(this.columnsRowCtrl),this.filtersRowCtrl&&e.push(this.filtersRowCtrl),e},t.prototype.onGridColumnsChanged=function(){this.refresh(!0)},t.prototype.onDisplayedColumnsChanged=function(){var e=this.filterManager.hasFloatingFilters()&&!this.hidden;this.includeFloatingFilter!==e&&this.refresh(!0)},t.prototype.setupCenterWidth=function(){var e=this;this.pinned==null&&this.createManagedBean(new TG(function(r){return e.comp.setCenterWidth("".concat(r,"px"))},!0))},t.prototype.setHorizontalScroll=function(e){this.comp.setViewportScrollLeft(e)},t.prototype.setupPinnedWidth=function(){var e=this;if(this.pinned!=null){var r=this.pinned==="left",i=this.pinned==="right";this.hidden=!0;var o=function(){var a=r?e.pinnedWidthService.getPinnedLeftWidth():e.pinnedWidthService.getPinnedRightWidth();if(a!=null){var s=a==0,l=e.hidden!==s,u=e.gridOptionsService.get("enableRtl"),c=e.gridOptionsService.getScrollbarWidth(),d=e.scrollVisibleService.isVerticalScrollShowing()&&(u&&r||!u&&i),p=d?a+c:a;e.comp.setPinnedContainerWidth("".concat(p,"px")),e.comp.setDisplayed(!s),l&&(e.hidden=s,e.refresh())}};this.addManagedListener(this.eventService,P.EVENT_LEFT_PINNED_WIDTH_CHANGED,o),this.addManagedListener(this.eventService,P.EVENT_RIGHT_PINNED_WIDTH_CHANGED,o),this.addManagedListener(this.eventService,P.EVENT_SCROLL_VISIBILITY_CHANGED,o),this.addManagedListener(this.eventService,P.EVENT_SCROLLBAR_WIDTH_CHANGED,o)}},t.prototype.getHeaderCtrlForColumn=function(e){if(e instanceof Je)return this.columnsRowCtrl?this.columnsRowCtrl.getHeaderCellCtrl(e):void 0;if(this.groupsRowCtrls.length!==0)for(var r=0;r<this.groupsRowCtrls.length;r++){var i=this.groupsRowCtrls[r].getHeaderCellCtrl(e);if(i)return i}},t.prototype.getHtmlElementForColumnHeader=function(e){var r=this.getHeaderCtrlForColumn(e);return r?r.getGui():null},t.prototype.getRowType=function(e){var r=this.getAllCtrls(),i=r[e];return i?i.getType():void 0},t.prototype.focusHeader=function(e,r,i){var o=this.getAllCtrls(),a=o[e];return a?a.focusHeader(r,i):!1},t.prototype.getViewport=function(){return this.eViewport},t.prototype.getRowCount=function(){return this.groupsRowCtrls.length+(this.columnsRowCtrl?1:0)+(this.filtersRowCtrl?1:0)},t.prototype.destroy=function(){this.filtersRowCtrl&&(this.filtersRowCtrl=this.destroyBean(this.filtersRowCtrl)),this.columnsRowCtrl&&(this.columnsRowCtrl=this.destroyBean(this.columnsRowCtrl)),this.groupsRowCtrls&&this.groupsRowCtrls.length&&(this.groupsRowCtrls=this.destroyBeans(this.groupsRowCtrls)),n.prototype.destroy.call(this)},Of([E("ctrlsService")],t.prototype,"ctrlsService",void 0),Of([E("scrollVisibleService")],t.prototype,"scrollVisibleService",void 0),Of([E("pinnedWidthService")],t.prototype,"pinnedWidthService",void 0),Of([E("columnModel")],t.prototype,"columnModel",void 0),Of([E("focusService")],t.prototype,"focusService",void 0),Of([E("filterManager")],t.prototype,"filterManager",void 0),t}(q),DTe=function(){var n=function(t,e){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])},n(t,e)};return function(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");n(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}}(),tD=function(n,t,e,r){var i=arguments.length,o=i<3?t:r===null?r=Object.getOwnPropertyDescriptor(t,e):r,a;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(n,t,e,r);else for(var s=n.length-1;s>=0;s--)(a=n[s])&&(o=(i<3?a(o):i>3?a(t,e,o):a(t,e))||o);return i>3&&o&&Object.defineProperty(t,e,o),o},eE=function(n){DTe(t,n);function t(e){var r=n.call(this)||this;return r.headerRowComps={},r.rowCompsList=[],r.pinned=e,r}return t.prototype.init=function(){var e=this;this.selectAndSetTemplate();var r={setDisplayed:function(o){return e.setDisplayed(o)},setCtrls:function(o){return e.setCtrls(o)},setCenterWidth:function(o){return e.eCenterContainer.style.width=o},setViewportScrollLeft:function(o){return e.getGui().scrollLeft=o},setPinnedContainerWidth:function(o){var a=e.getGui();a.style.width=o,a.style.maxWidth=o,a.style.minWidth=o}},i=this.createManagedBean(new IX(this.pinned));i.setComp(r,this.getGui())},t.prototype.selectAndSetTemplate=function(){var e=this.pinned=="left",r=this.pinned=="right",i=e?t.PINNED_LEFT_TEMPLATE:r?t.PINNED_RIGHT_TEMPLATE:t.CENTER_TEMPLATE;this.setTemplate(i),this.eRowContainer=this.eCenterContainer?this.eCenterContainer:this.getGui()},t.prototype.destroyRowComps=function(){this.setCtrls([])},t.prototype.destroyRowComp=function(e){this.destroyBean(e),this.eRowContainer.removeChild(e.getGui())},t.prototype.setCtrls=function(e){var r=this,i=this.headerRowComps;this.headerRowComps={},this.rowCompsList=[];var o,a=function(s){var l=s.getGui(),u=l.parentElement!=r.eRowContainer;u&&r.eRowContainer.appendChild(l),o&&uG(r.eRowContainer,l,o),o=l};e.forEach(function(s){var l=s.getInstanceId(),u=i[l];delete i[l];var c=u||r.createBean(new DX(s));r.headerRowComps[l]=c,r.rowCompsList.push(c),a(c)}),Gd(i).forEach(function(s){return r.destroyRowComp(s)})},t.PINNED_LEFT_TEMPLATE='<div class="ag-pinned-left-header" role="rowgroup"></div>',t.PINNED_RIGHT_TEMPLATE='<div class="ag-pinned-right-header" role="rowgroup"></div>',t.CENTER_TEMPLATE=`<div class="ag-header-viewport" role="presentation">
            <div class="ag-header-container" ref="eCenterContainer" role="rowgroup"></div>
        </div>`,tD([$("eCenterContainer")],t.prototype,"eCenterContainer",void 0),tD([z],t.prototype,"init",null),tD([rr],t.prototype,"destroyRowComps",null),t}(de),MTe=function(){var n=function(t,e){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])},n(t,e)};return function(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");n(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}}(),$y=function(n,t,e,r){var i=arguments.length,o=i<3?t:r===null?r=Object.getOwnPropertyDescriptor(t,e):r,a;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(n,t,e,r);else for(var s=n.length-1;s>=0;s--)(a=n[s])&&(o=(i<3?a(o):i>3?a(t,e,o):a(t,e))||o);return i>3&&o&&Object.defineProperty(t,e,o),o},Cs;(function(n){n[n.UP=0]="UP",n[n.DOWN=1]="DOWN",n[n.LEFT=2]="LEFT",n[n.RIGHT=3]="RIGHT"})(Cs||(Cs={}));var NX=function(n){MTe(t,n);function t(){var e=n!==null&&n.apply(this,arguments)||this;return e.currentHeaderRowWithoutSpan=-1,e}return t.prototype.postConstruct=function(){var e=this;this.ctrlsService.whenReady(function(i){e.gridBodyCon=i.gridBodyCtrl});var r=this.gridOptionsService.getDocument();this.addManagedListener(r,"mousedown",function(){return e.setCurrentHeaderRowWithoutSpan(-1)})},t.prototype.getHeaderRowCount=function(){var e=this.ctrlsService.getHeaderRowContainerCtrl();return e?e.getRowCount():0},t.prototype.navigateVertically=function(e,r,i){if(r||(r=this.focusService.getFocusedHeader()),!r)return!1;var o=r.headerRowIndex,a=r.column,s=this.getHeaderRowCount(),l=e===Cs.UP,u=l?this.headerPositionUtils.getColumnVisibleParent(a,o):this.headerPositionUtils.getColumnVisibleChild(a,o),c=u.headerRowIndex,d=u.column,p=u.headerRowIndexWithoutSpan,h=!1;return c<0&&(c=0,d=a,h=!0),c>=s?(c=-1,this.setCurrentHeaderRowWithoutSpan(-1)):p!==void 0&&(this.currentHeaderRowWithoutSpan=p),!h&&!d?!1:this.focusService.focusHeaderPosition({headerPosition:{headerRowIndex:c,column:d},allowUserOverride:!0,event:i})},t.prototype.setCurrentHeaderRowWithoutSpan=function(e){this.currentHeaderRowWithoutSpan=e},t.prototype.navigateHorizontally=function(e,r,i){r===void 0&&(r=!1);var o=this.focusService.getFocusedHeader(),a=e===Cs.LEFT,s=this.gridOptionsService.get("enableRtl"),l,u;return this.currentHeaderRowWithoutSpan!==-1?o.headerRowIndex=this.currentHeaderRowWithoutSpan:this.currentHeaderRowWithoutSpan=o.headerRowIndex,a!==s?(u="Before",l=this.headerPositionUtils.findHeader(o,u)):(u="After",l=this.headerPositionUtils.findHeader(o,u)),l||!r?this.focusService.focusHeaderPosition({headerPosition:l,direction:u,fromTab:r,allowUserOverride:!0,event:i}):this.focusNextHeaderRow(o,u,i)},t.prototype.focusNextHeaderRow=function(e,r,i){var o=e.headerRowIndex,a=null,s;if(r==="Before"?o>0&&(s=o-1,this.currentHeaderRowWithoutSpan-=1,a=this.headerPositionUtils.findColAtEdgeForHeaderRow(s,"end")):(s=o+1,this.currentHeaderRowWithoutSpan<this.getHeaderRowCount()?this.currentHeaderRowWithoutSpan+=1:this.setCurrentHeaderRowWithoutSpan(-1),a=this.headerPositionUtils.findColAtEdgeForHeaderRow(s,"start")),!a)return!1;var l=this.headerPositionUtils.getHeaderIndexToFocus(a.column,a==null?void 0:a.headerRowIndex),u=l.column,c=l.headerRowIndex;return this.focusService.focusHeaderPosition({headerPosition:{column:u,headerRowIndex:c},direction:r,fromTab:!0,allowUserOverride:!0,event:i})},t.prototype.scrollToColumn=function(e,r){if(r===void 0&&(r="After"),!e.getPinned()){var i;if(e instanceof Vr){var o=e.getDisplayedLeafColumns();i=r==="Before"?bt(o):o[0]}else i=e;this.gridBodyCon.getScrollFeature().ensureColumnVisible(i)}},$y([E("focusService")],t.prototype,"focusService",void 0),$y([E("headerPositionUtils")],t.prototype,"headerPositionUtils",void 0),$y([E("ctrlsService")],t.prototype,"ctrlsService",void 0),$y([z],t.prototype,"postConstruct",null),t=$y([ae("headerNavigationService")],t),t}(q),FTe=function(){var n=function(t,e){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])},n(t,e)};return function(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");n(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}}(),Rf=function(n,t,e,r){var i=arguments.length,o=i<3?t:r===null?r=Object.getOwnPropertyDescriptor(t,e):r,a;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(n,t,e,r);else for(var s=n.length-1;s>=0;s--)(a=n[s])&&(o=(i<3?a(o):i>3?a(t,e,o):a(t,e))||o);return i>3&&o&&Object.defineProperty(t,e,o),o},kX=function(n){FTe(t,n);function t(){return n!==null&&n.apply(this,arguments)||this}return t.prototype.setComp=function(e,r,i){this.comp=e,this.eGui=r,this.createManagedBean(new eu(i,{onTabKeyDown:this.onTabKeyDown.bind(this),handleKeyDown:this.handleKeyDown.bind(this),onFocusOut:this.onFocusOut.bind(this)})),this.addManagedListener(this.eventService,P.EVENT_COLUMN_PIVOT_MODE_CHANGED,this.onPivotModeChanged.bind(this)),this.addManagedListener(this.eventService,P.EVENT_DISPLAYED_COLUMNS_CHANGED,this.onDisplayedColumnsChanged.bind(this)),this.onPivotModeChanged(),this.setupHeaderHeight();var o=this.onHeaderContextMenu.bind(this);this.addManagedListener(this.eGui,"contextmenu",o),this.mockContextMenuForIPad(o),this.ctrlsService.registerGridHeaderCtrl(this)},t.prototype.setupHeaderHeight=function(){var e=this.setHeaderHeight.bind(this);e(),this.addManagedPropertyListener("headerHeight",e),this.addManagedPropertyListener("pivotHeaderHeight",e),this.addManagedPropertyListener("groupHeaderHeight",e),this.addManagedPropertyListener("pivotGroupHeaderHeight",e),this.addManagedPropertyListener("floatingFiltersHeight",e),this.addManagedListener(this.eventService,P.EVENT_DISPLAYED_COLUMNS_CHANGED,e),this.addManagedListener(this.eventService,P.EVENT_COLUMN_HEADER_HEIGHT_CHANGED,e),this.addManagedListener(this.eventService,P.EVENT_GRID_STYLES_CHANGED,e),this.addManagedListener(this.eventService,P.EVENT_ADVANCED_FILTER_ENABLED_CHANGED,e)},t.prototype.getHeaderHeight=function(){return this.headerHeight},t.prototype.setHeaderHeight=function(){var e=this.columnModel,r=0,i=e.getHeaderRowCount(),o,a=this.filterManager.hasFloatingFilters();a&&(i++,r=1);var s=this.columnModel.getColumnGroupHeaderRowHeight(),l=this.columnModel.getColumnHeaderRowHeight(),u=1+r,c=i-u;if(o=r*e.getFloatingFiltersHeight(),o+=c*s,o+=l,this.headerHeight!==o){this.headerHeight=o;var d="".concat(o+1,"px");this.comp.setHeightAndMinHeight(d),this.eventService.dispatchEvent({type:P.EVENT_HEADER_HEIGHT_CHANGED})}},t.prototype.onPivotModeChanged=function(){var e=this.columnModel.isPivotMode();this.comp.addOrRemoveCssClass("ag-pivot-on",e),this.comp.addOrRemoveCssClass("ag-pivot-off",!e)},t.prototype.onDisplayedColumnsChanged=function(){var e=this.columnModel.getAllDisplayedColumns(),r=e.some(function(i){return i.isSpanHeaderHeight()});this.comp.addOrRemoveCssClass("ag-header-allow-overflow",r)},t.prototype.onTabKeyDown=function(e){var r=this.gridOptionsService.get("enableRtl"),i=e.shiftKey!==r?Cs.LEFT:Cs.RIGHT;(this.headerNavigationService.navigateHorizontally(i,!0,e)||this.focusService.focusNextGridCoreContainer(e.shiftKey))&&e.preventDefault()},t.prototype.handleKeyDown=function(e){var r=null;switch(e.key){case U.LEFT:r=Cs.LEFT;case U.RIGHT:ce(r)||(r=Cs.RIGHT),this.headerNavigationService.navigateHorizontally(r,!1,e);break;case U.UP:r=Cs.UP;case U.DOWN:ce(r)||(r=Cs.DOWN),this.headerNavigationService.navigateVertically(r,null,e)&&e.preventDefault();break;default:return}},t.prototype.onFocusOut=function(e){var r=this.gridOptionsService.getDocument(),i=e.relatedTarget;!i&&this.eGui.contains(r.activeElement)||this.eGui.contains(i)||this.focusService.clearFocusedHeader()},t.prototype.onHeaderContextMenu=function(e,r,i){if(!(!e&&!i||!this.menuService.isHeaderContextMenuEnabled())){var o=(e??r).target;(o===this.eGui||o===this.ctrlsService.getHeaderRowContainerCtrl().getViewport())&&this.menuService.showHeaderContextMenu(void 0,e,i)}},t.prototype.mockContextMenuForIPad=function(e){if(cc()){var r=new jr(this.eGui),i=function(o){e(void 0,o.touchStart,o.touchEvent)};this.addManagedListener(r,jr.EVENT_LONG_TAP,i),this.addDestroyFunc(function(){return r.destroy()})}},Rf([E("headerNavigationService")],t.prototype,"headerNavigationService",void 0),Rf([E("focusService")],t.prototype,"focusService",void 0),Rf([E("columnModel")],t.prototype,"columnModel",void 0),Rf([E("ctrlsService")],t.prototype,"ctrlsService",void 0),Rf([E("filterManager")],t.prototype,"filterManager",void 0),Rf([E("menuService")],t.prototype,"menuService",void 0),t}(q),LTe=function(){var n=function(t,e){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])},n(t,e)};return function(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");n(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}}(),ITe=function(n,t,e,r){var i=arguments.length,o=i<3?t:r===null?r=Object.getOwnPropertyDescriptor(t,e):r,a;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(n,t,e,r);else for(var s=n.length-1;s>=0;s--)(a=n[s])&&(o=(i<3?a(o):i>3?a(t,e,o):a(t,e))||o);return i>3&&o&&Object.defineProperty(t,e,o),o},GX=function(n){LTe(t,n);function t(){return n.call(this,t.TEMPLATE)||this}return t.prototype.postConstruct=function(){var e=this,r={addOrRemoveCssClass:function(a,s){return e.addOrRemoveCssClass(a,s)},setHeightAndMinHeight:function(a){e.getGui().style.height=a,e.getGui().style.minHeight=a}},i=this.createManagedBean(new kX);i.setComp(r,this.getGui(),this.getFocusableElement());var o=function(a){e.createManagedBean(a),e.appendChild(a)};o(new eE("left")),o(new eE(null)),o(new eE("right"))},t.TEMPLATE='<div class="ag-header" role="presentation"/>',ITe([z],t.prototype,"postConstruct",null),t}(de),NTe=function(){var n=function(t,e){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])},n(t,e)};return function(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");n(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}}(),rD=function(n,t,e,r){var i=arguments.length,o=i<3?t:r===null?r=Object.getOwnPropertyDescriptor(t,e):r,a;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(n,t,e,r);else for(var s=n.length-1;s>=0;s--)(a=n[s])&&(o=(i<3?a(o):i>3?a(t,e,o):a(t,e))||o);return i>3&&o&&Object.defineProperty(t,e,o),o},VX=function(n){NTe(t,n);function t(){return n!==null&&n.apply(this,arguments)||this}return t.prototype.addResizeBar=function(e){var r=this,i={dragStartPixels:e.dragStartPixels||0,eElement:e.eResizeBar,onDragStart:this.onDragStart.bind(this,e),onDragStop:this.onDragStop.bind(this,e),onDragging:this.onDragging.bind(this,e),includeTouch:!0,stopPropagationForTouch:!0};this.dragService.addDragSource(i);var o=function(){return r.dragService.removeDragSource(i)};return o},t.prototype.onDragStart=function(e,r){this.dragStartX=r.clientX,this.setResizeIcons();var i=r instanceof MouseEvent&&r.shiftKey===!0;e.onResizeStart(i)},t.prototype.setResizeIcons=function(){var e=this.ctrlsService.getGridCtrl();e.setResizeCursor(!0),e.disableUserSelect(!0)},t.prototype.onDragStop=function(e,r){e.onResizeEnd(this.resizeAmount),this.resetIcons()},t.prototype.resetIcons=function(){var e=this.ctrlsService.getGridCtrl();e.setResizeCursor(!1),e.disableUserSelect(!1)},t.prototype.onDragging=function(e,r){this.resizeAmount=r.clientX-this.dragStartX,e.onResizing(this.resizeAmount)},rD([E("dragService")],t.prototype,"dragService",void 0),rD([E("ctrlsService")],t.prototype,"ctrlsService",void 0),t=rD([ae("horizontalResizeService")],t),t}(q),kTe=function(){var n=function(t,e){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])},n(t,e)};return function(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");n(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}}(),Tf=function(n,t,e,r){var i=arguments.length,o=i<3?t:r===null?r=Object.getOwnPropertyDescriptor(t,e):r,a;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(n,t,e,r);else for(var s=n.length-1;s>=0;s--)(a=n[s])&&(o=(i<3?a(o):i>3?a(t,e,o):a(t,e))||o);return i>3&&o&&Object.defineProperty(t,e,o),o},BX=function(n){kTe(t,n);function t(){return n!==null&&n.apply(this,arguments)||this}return t.prototype.hideActiveMenu=function(){this.hidePopup&&this.hidePopup()},t.prototype.showMenuAfterMouseEvent=function(e,r,i){var o=this;this.showPopup(e,function(a){o.popupService.positionPopupUnderMouseEvent({column:e,type:i,mouseEvent:r,ePopup:a})},i,r.target,this.menuService.isLegacyMenuEnabled())},t.prototype.showMenuAfterButtonClick=function(e,r,i){var o=this,a=-1,s="left",l=this.menuService.isLegacyMenuEnabled();!l&&this.gridOptionsService.get("enableRtl")&&(a=1,s="right");var u=l?void 0:4*a,c=l?void 0:4;this.showPopup(e,function(d){o.popupService.positionPopupByComponent({type:i,eventSource:r,ePopup:d,nudgeX:u,nudgeY:c,alignSide:s,keepWithinBounds:!0,position:"under",column:e})},i,r,l)},t.prototype.showPopup=function(e,r,i,o,a){var s=this,l=e?this.filterManager.getOrCreateFilterWrapper(e,"COLUMN_MENU"):void 0;if(!l||!e)throw new Error("AG Grid - unable to show popup filter, filter instantiation failed");var u=document.createElement("div");on(u,"presentation"),u.classList.add("ag-menu"),a||u.classList.add("ag-filter-menu"),this.tabListener=this.addManagedListener(u,"keydown",function(y){return s.trapFocusWithin(y,u)}),l.guiPromise.then(function(y){return u.appendChild(y)});var c,d=function(){var y;return(y=l.filterPromise)===null||y===void 0?void 0:y.then(function(m){var C;return(C=m==null?void 0:m.afterGuiDetached)===null||C===void 0?void 0:C.call(m)})},p=this.menuService.isColumnMenuAnchoringEnabled()?o??this.ctrlsService.getGridBodyCtrl().getGui():void 0,h=function(y){e.setMenuVisible(!1,"contextMenu");var m=y instanceof KeyboardEvent;if(s.tabListener&&(s.tabListener=s.tabListener()),m&&o&&aa(o)){var C=s.focusService.findTabbableParent(o);C&&C.focus()}d(),s.dispatchVisibleChangedEvent(!1,i,e)},f=this.localeService.getLocaleTextFunc(),v=a&&i!=="columnFilter"?f("ariaLabelColumnMenu","Column Menu"):f("ariaLabelColumnFilter","Column Filter"),g=this.popupService.addPopup({modal:!0,eChild:u,closeOnEsc:!0,closedCallback:h,positionCallback:function(){return r(u)},anchorToElement:p,ariaLabel:v});g&&(this.hidePopup=c=g.hideFunc),l.filterPromise.then(function(y){r(u),y.afterGuiAttached&&y.afterGuiAttached({container:i,hidePopup:c})}),e.setMenuVisible(!0,"contextMenu"),this.dispatchVisibleChangedEvent(!0,i,e)},t.prototype.trapFocusWithin=function(e,r){e.key!==U.TAB||e.defaultPrevented||this.focusService.findNextFocusableElement(r,!1,e.shiftKey)||(e.preventDefault(),this.focusService.focusInto(r,e.shiftKey))},t.prototype.dispatchVisibleChangedEvent=function(e,r,i){var o={type:P.EVENT_COLUMN_MENU_VISIBLE_CHANGED,visible:e,switchingTab:!1,key:r,column:i??null};this.eventService.dispatchEvent(o)},t.prototype.isMenuEnabled=function(e){var r;return e.isFilterAllowed()&&((r=e.getColDef().menuTabs)!==null&&r!==void 0?r:["filterMenuTab"]).includes("filterMenuTab")},t.prototype.showMenuAfterContextMenuEvent=function(){},Tf([E("filterManager")],t.prototype,"filterManager",void 0),Tf([E("popupService")],t.prototype,"popupService",void 0),Tf([E("focusService")],t.prototype,"focusService",void 0),Tf([E("ctrlsService")],t.prototype,"ctrlsService",void 0),Tf([E("menuService")],t.prototype,"menuService",void 0),t=Tf([ae("filterMenuFactory")],t),t}(q),GTe=function(){var n=function(t,e){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])},n(t,e)};return function(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");n(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}}(),N3=function(n,t,e,r){var i=arguments.length,o=i<3?t:r===null?r=Object.getOwnPropertyDescriptor(t,e):r,a;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(n,t,e,r);else for(var s=n.length-1;s>=0;s--)(a=n[s])&&(o=(i<3?a(o):i>3?a(t,e,o):a(t,e))||o);return i>3&&o&&Object.defineProperty(t,e,o),o},Th;(function(n){n.TAB_GUARD="ag-tab-guard",n.TAB_GUARD_TOP="ag-tab-guard-top",n.TAB_GUARD_BOTTOM="ag-tab-guard-bottom"})(Th||(Th={}));var HX=function(n){GTe(t,n);function t(e){var r=n.call(this)||this;r.skipTabGuardFocus=!1,r.forcingFocusOut=!1;var i=e.comp,o=e.eTopGuard,a=e.eBottomGuard,s=e.focusTrapActive,l=e.forceFocusOutWhenTabGuardsAreEmpty,u=e.focusInnerElement,c=e.onFocusIn,d=e.onFocusOut,p=e.shouldStopEventPropagation,h=e.onTabKeyDown,f=e.handleKeyDown,v=e.eFocusableElement;return r.comp=i,r.eTopGuard=o,r.eBottomGuard=a,r.providedFocusInnerElement=u,r.eFocusableElement=v,r.focusTrapActive=!!s,r.forceFocusOutWhenTabGuardsAreEmpty=!!l,r.providedFocusIn=c,r.providedFocusOut=d,r.providedShouldStopEventPropagation=p,r.providedOnTabKeyDown=h,r.providedHandleKeyDown=f,r}return t.prototype.postConstruct=function(){var e=this;this.createManagedBean(new eu(this.eFocusableElement,{shouldStopEventPropagation:function(){return e.shouldStopEventPropagation()},onTabKeyDown:function(r){return e.onTabKeyDown(r)},handleKeyDown:function(r){return e.handleKeyDown(r)},onFocusIn:function(r){return e.onFocusIn(r)},onFocusOut:function(r){return e.onFocusOut(r)}})),this.activateTabGuards(),[this.eTopGuard,this.eBottomGuard].forEach(function(r){return e.addManagedListener(r,"focus",e.onFocus.bind(e))})},t.prototype.handleKeyDown=function(e){this.providedHandleKeyDown&&this.providedHandleKeyDown(e)},t.prototype.tabGuardsAreActive=function(){return!!this.eTopGuard&&this.eTopGuard.hasAttribute("tabIndex")},t.prototype.shouldStopEventPropagation=function(){return this.providedShouldStopEventPropagation?this.providedShouldStopEventPropagation():!1},t.prototype.activateTabGuards=function(){if(!this.forcingFocusOut){var e=this.gridOptionsService.get("tabIndex");this.comp.setTabIndex(e.toString())}},t.prototype.deactivateTabGuards=function(){this.comp.setTabIndex()},t.prototype.onFocus=function(e){if(this.skipTabGuardFocus){this.skipTabGuardFocus=!1;return}if(this.forceFocusOutWhenTabGuardsAreEmpty){var r=this.focusService.findFocusableElements(this.eFocusableElement,".ag-tab-guard").length===0;if(r){this.findNextElementOutsideAndFocus(e.target===this.eBottomGuard);return}}var i=e.target===this.eBottomGuard;this.providedFocusInnerElement?this.providedFocusInnerElement(i):this.focusInnerElement(i)},t.prototype.findNextElementOutsideAndFocus=function(e){var r=this.gridOptionsService.getDocument(),i=this.focusService.findFocusableElements(r.body,null,!0),o=i.indexOf(e?this.eTopGuard:this.eBottomGuard);if(o!==-1){var a,s;e?(a=0,s=o):(a=o+1,s=i.length);var l=i.slice(a,s),u=this.gridOptionsService.get("tabIndex");l.sort(function(c,d){var p=parseInt(c.getAttribute("tabindex")||"0"),h=parseInt(d.getAttribute("tabindex")||"0");return h===u?1:p===u?-1:p===0?1:h===0?-1:p-h}),l[e?l.length-1:0].focus()}},t.prototype.onFocusIn=function(e){this.focusTrapActive||(this.providedFocusIn&&this.providedFocusIn(e),this.deactivateTabGuards())},t.prototype.onFocusOut=function(e){this.focusTrapActive||(this.providedFocusOut&&this.providedFocusOut(e),this.eFocusableElement.contains(e.relatedTarget)||this.activateTabGuards())},t.prototype.onTabKeyDown=function(e){var r=this;if(this.providedOnTabKeyDown){this.providedOnTabKeyDown(e);return}if(!this.focusTrapActive&&!e.defaultPrevented){var i=this.tabGuardsAreActive();i&&this.deactivateTabGuards();var o=this.getNextFocusableElement(e.shiftKey);i&&setTimeout(function(){return r.activateTabGuards()},0),o&&(o.focus(),e.preventDefault())}},t.prototype.focusInnerElement=function(e){e===void 0&&(e=!1);var r=this.focusService.findFocusableElements(this.eFocusableElement);this.tabGuardsAreActive()&&(r.splice(0,1),r.splice(r.length-1,1)),r.length&&r[e?r.length-1:0].focus({preventScroll:!0})},t.prototype.getNextFocusableElement=function(e){return this.focusService.findNextFocusableElement(this.eFocusableElement,!1,e)},t.prototype.forceFocusOutOfContainer=function(e){var r=this;if(e===void 0&&(e=!1),!this.forcingFocusOut){var i=e?this.eTopGuard:this.eBottomGuard;this.activateTabGuards(),this.skipTabGuardFocus=!0,this.forcingFocusOut=!0,i.focus(),window.setTimeout(function(){r.forcingFocusOut=!1,r.activateTabGuards()})}},t.prototype.isTabGuard=function(e){return e===this.eTopGuard||e===this.eBottomGuard},N3([E("focusService")],t.prototype,"focusService",void 0),N3([z],t.prototype,"postConstruct",null),t}(q),VTe=function(){var n=function(t,e){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])},n(t,e)};return function(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");n(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}}(),BTe=function(n,t){var e=typeof Symbol=="function"&&n[Symbol.iterator];if(!e)return n;var r=e.call(n),i,o=[],a;try{for(;(t===void 0||t-- >0)&&!(i=r.next()).done;)o.push(i.value)}catch(s){a={error:s}}finally{try{i&&!i.done&&(e=r.return)&&e.call(r)}finally{if(a)throw a.error}}return o},HTe=function(n,t,e){if(e||arguments.length===2)for(var r=0,i=t.length,o;r<i;r++)(o||!(r in t))&&(o||(o=Array.prototype.slice.call(t,0,r)),o[r]=t[r]);return n.concat(o||Array.prototype.slice.call(t))},pc=function(n){VTe(t,n);function t(){return n!==null&&n.apply(this,arguments)||this}return t.prototype.initialiseTabGuard=function(e){this.eTopGuard=this.createTabGuard("top"),this.eBottomGuard=this.createTabGuard("bottom"),this.eFocusableElement=this.getFocusableElement();var r=[this.eTopGuard,this.eBottomGuard],i={setTabIndex:function(o){r.forEach(function(a){return o!=null?a.setAttribute("tabindex",o):a.removeAttribute("tabindex")})}};this.addTabGuards(this.eTopGuard,this.eBottomGuard),this.tabGuardCtrl=this.createManagedBean(new HX({comp:i,focusTrapActive:!!e.focusTrapActive,eTopGuard:this.eTopGuard,eBottomGuard:this.eBottomGuard,eFocusableElement:this.eFocusableElement,onFocusIn:e.onFocusIn,onFocusOut:e.onFocusOut,focusInnerElement:e.focusInnerElement,handleKeyDown:e.handleKeyDown,onTabKeyDown:e.onTabKeyDown,shouldStopEventPropagation:e.shouldStopEventPropagation,forceFocusOutWhenTabGuardsAreEmpty:e.forceFocusOutWhenTabGuardsAreEmpty}))},t.prototype.createTabGuard=function(e){var r=document.createElement("div"),i=e==="top"?Th.TAB_GUARD_TOP:Th.TAB_GUARD_BOTTOM;return r.classList.add(Th.TAB_GUARD,i),on(r,"presentation"),r},t.prototype.addTabGuards=function(e,r){this.eFocusableElement.insertAdjacentElement("afterbegin",e),this.eFocusableElement.insertAdjacentElement("beforeend",r)},t.prototype.removeAllChildrenExceptTabGuards=function(){var e=[this.eTopGuard,this.eBottomGuard];Sn(this.getFocusableElement()),this.addTabGuards.apply(this,HTe([],BTe(e),!1))},t.prototype.forceFocusOutOfContainer=function(e){e===void 0&&(e=!1),this.tabGuardCtrl.forceFocusOutOfContainer(e)},t.prototype.appendChild=function(e,r){Iw(e)||(e=e.getGui());var i=this.eBottomGuard;i?i.insertAdjacentElement("beforebegin",e):n.prototype.appendChild.call(this,e,r)},t}(de),jTe=function(){var n=function(t,e){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])},n(t,e)};return function(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");n(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}}(),h_=function(n,t,e,r){var i=arguments.length,o=i<3?t:r===null?r=Object.getOwnPropertyDescriptor(t,e):r,a;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(n,t,e,r);else for(var s=n.length-1;s>=0;s--)(a=n[s])&&(o=(i<3?a(o):i>3?a(t,e,o):a(t,e))||o);return i>3&&o&&Object.defineProperty(t,e,o),o},DG=function(n){jTe(t,n);function t(e){var r=n.call(this,t.getTemplate(e.cssClass))||this;return r.items=[],r.tabbedItemScrollMap=new Map,r.params=e,e.items&&e.items.forEach(function(i){return r.addItem(i)}),r}return t.prototype.postConstruct=function(){var e=this;this.initialiseTabGuard({onTabKeyDown:this.onTabKeyDown.bind(this),handleKeyDown:this.handleKeyDown.bind(this),focusInnerElement:this.focusInnerElement.bind(this),focusTrapActive:!0}),this.addDestroyFunc(function(){var r,i,o;return(o=(i=(r=e.activeItem)===null||r===void 0?void 0:r.tabbedItem)===null||i===void 0?void 0:i.afterDetachedCallback)===null||o===void 0?void 0:o.call(i)})},t.getTemplate=function(e){return'<div class="ag-tabs '.concat(e,`">
            <div ref="eHeader" role="tablist" class="ag-tabs-header `).concat(e?"".concat(e,"-header"):"",`"></div>
            <div ref="eBody" role="presentation" class="ag-tabs-body `).concat(e?"".concat(e,"-body"):"",`"></div>
        </div>`)},t.prototype.handleKeyDown=function(e){var r=this.gridOptionsService.getDocument();switch(e.key){case U.RIGHT:case U.LEFT:if(!this.eHeader.contains(r.activeElement))return;var i=e.key===U.RIGHT,o=this.gridOptionsService.get("enableRtl"),a=this.items.indexOf(this.activeItem),s=i!==o?Math.min(a+1,this.items.length-1):Math.max(a-1,0);if(a===s)return;e.preventDefault();var l=this.items[s];this.showItemWrapper(l),l.eHeaderButton.focus();break;case U.UP:case U.DOWN:e.stopPropagation();break}},t.prototype.onTabKeyDown=function(e){if(!e.defaultPrevented){var r=this,i=r.focusService,o=r.eHeader,a=r.eBody,s=r.activeItem,l=this.gridOptionsService.getDocument(),u=l.activeElement,c=e.target;if(e.preventDefault(),o.contains(u)){this.focusBody(e.shiftKey);return}var d=null;i.isTargetUnderManagedComponent(a,c)&&(e.shiftKey&&(d=this.focusService.findFocusableElementBeforeTabGuard(a,c)),d||(d=s.eHeaderButton)),!d&&a.contains(u)&&(d=i.findNextFocusableElement(a,!1,e.shiftKey),d||this.focusHeader()),d&&d.focus()}},t.prototype.focusInnerElement=function(e){e?this.focusHeader():this.focusBody(!0)},t.prototype.focusHeader=function(){this.activeItem.eHeaderButton.focus()},t.prototype.focusBody=function(e){this.focusService.focusInto(this.eBody,e)},t.prototype.setAfterAttachedParams=function(e){this.afterAttachedParams=e},t.prototype.showFirstItem=function(){this.items.length>0&&this.showItemWrapper(this.items[0])},t.prototype.addItem=function(e){var r=document.createElement("span");on(r,"tab"),r.setAttribute("tabindex","-1"),r.appendChild(e.title),r.classList.add("ag-tab"),this.eHeader.appendChild(r),Zd(r,e.titleLabel);var i={tabbedItem:e,eHeaderButton:r};this.items.push(i),r.addEventListener("click",this.showItemWrapper.bind(this,i))},t.prototype.showItem=function(e){var r=this.items.find(function(i){return i.tabbedItem===e});r&&this.showItemWrapper(r)},t.prototype.showItemWrapper=function(e){var r=this,i,o,a,s,l,u,c=e.tabbedItem,d=e.eHeaderButton;if((o=(i=this.params).onItemClicked)===null||o===void 0||o.call(i,{item:c}),this.activeItem===e){(s=(a=this.params).onActiveItemClicked)===null||s===void 0||s.call(a);return}this.lastScrollListener&&(this.lastScrollListener=this.lastScrollListener()),Sn(this.eBody),c.bodyPromise.then(function(p){r.eBody.appendChild(p);var h=!r.focusService.isKeyboardMode();if(r.focusService.focusInto(r.eBody,!1,h),c.afterAttachedCallback&&c.afterAttachedCallback(r.afterAttachedParams),r.params.keepScrollPosition){var f=c.getScrollableContainer&&c.getScrollableContainer()||p;r.lastScrollListener=r.addManagedListener(f,"scroll",function(){r.tabbedItemScrollMap.set(c.name,f.scrollTop)});var v=r.tabbedItemScrollMap.get(c.name);v!==void 0&&setTimeout(function(){f.scrollTop=v},0)}}),this.activeItem&&(this.activeItem.eHeaderButton.classList.remove("ag-tab-selected"),(u=(l=this.activeItem.tabbedItem).afterDetachedCallback)===null||u===void 0||u.call(l)),d.classList.add("ag-tab-selected"),this.activeItem=e},h_([E("focusService")],t.prototype,"focusService",void 0),h_([$("eHeader")],t.prototype,"eHeader",void 0),h_([$("eBody")],t.prototype,"eBody",void 0),h_([z],t.prototype,"postConstruct",null),t}(pc),$Te=function(){var n=function(t,e){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])},n(t,e)};return function(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");n(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}}(),WTe=function(n,t,e,r){var i=arguments.length,o=i<3?t:r===null?r=Object.getOwnPropertyDescriptor(t,e):r,a;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(n,t,e,r);else for(var s=n.length-1;s>=0;s--)(a=n[s])&&(o=(i<3?a(o):i>3?a(t,e,o):a(t,e))||o);return i>3&&o&&Object.defineProperty(t,e,o),o},UTe=50,jX=function(n){$Te(t,n);function t(){var e=n!==null&&n.apply(this,arguments)||this;return e.polyfillFunctions=[],e}return t.prototype.observeResize=function(e,r){var i=this,o=this.gridOptionsService.getWindow(),a=function(){var c=new o.ResizeObserver(r);return c.observe(e),function(){return c.disconnect()}},s=function(){var c,d,p=(c=e==null?void 0:e.clientWidth)!==null&&c!==void 0?c:0,h=(d=e==null?void 0:e.clientHeight)!==null&&d!==void 0?d:0,f=!0,v=function(){var g,y;if(f){var m=(g=e==null?void 0:e.clientWidth)!==null&&g!==void 0?g:0,C=(y=e==null?void 0:e.clientHeight)!==null&&y!==void 0?y:0,S=m!==p||C!==h;S&&(p=m,h=C,r()),i.doNextPolyfillTurn(v)}};return v(),function(){return f=!1}},l=this.gridOptionsService.get("suppressBrowserResizeObserver"),u=!!o.ResizeObserver;return u&&!l?a():this.getFrameworkOverrides().wrapIncoming(function(){return s()},"resize-observer")},t.prototype.doNextPolyfillTurn=function(e){this.polyfillFunctions.push(e),this.schedulePolyfill()},t.prototype.schedulePolyfill=function(){var e=this;if(!this.polyfillScheduled){var r=function(){var i=e.polyfillFunctions;e.polyfillScheduled=!1,e.polyfillFunctions=[],i.forEach(function(o){return o()})};this.polyfillScheduled=!0,window.setTimeout(r,UTe)}},t=WTe([ae("resizeObserverService")],t),t}(q),zTe=function(){var n=function(t,e){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])},n(t,e)};return function(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");n(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}}(),f_=function(n,t,e,r){var i=arguments.length,o=i<3?t:r===null?r=Object.getOwnPropertyDescriptor(t,e):r,a;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(n,t,e,r);else for(var s=n.length-1;s>=0;s--)(a=n[s])&&(o=(i<3?a(o):i>3?a(t,e,o):a(t,e))||o);return i>3&&o&&Object.defineProperty(t,e,o),o},$X=function(n){zTe(t,n);function t(){var e=n!==null&&n.apply(this,arguments)||this;return e.createTasksP1={list:[],sorted:!1},e.createTasksP2={list:[],sorted:!1},e.destroyTasks=[],e.ticking=!1,e.scrollGoingDown=!0,e.lastPage=0,e.lastScrollTop=0,e.taskCount=0,e.cancelledTasks=new Set,e}return t.prototype.setScrollTop=function(e){var r=this.gridOptionsService.get("pagination");if(this.scrollGoingDown=e>=this.lastScrollTop,r&&e===0){var i=this.paginationProxy.getCurrentPage();i!==this.lastPage&&(this.lastPage=i,this.scrollGoingDown=!0)}this.lastScrollTop=e},t.prototype.init=function(){this.useAnimationFrame=!this.gridOptionsService.get("suppressAnimationFrame")},t.prototype.isOn=function(){return this.useAnimationFrame},t.prototype.verifyAnimationFrameOn=function(e){this.useAnimationFrame===!1&&console.warn("AG Grid: AnimationFrameService.".concat(e," called but animation frames are off"))},t.prototype.createTask=function(e,r,i){this.verifyAnimationFrameOn(i);var o={task:e,index:r,createOrder:++this.taskCount};this.addTaskToList(this[i],o),this.schedule()},t.prototype.cancelTask=function(e){this.cancelledTasks.add(e)},t.prototype.addTaskToList=function(e,r){e.list.push(r),e.sorted=!1},t.prototype.sortTaskList=function(e){if(!e.sorted){var r=this.scrollGoingDown?1:-1;e.list.sort(function(i,o){return i.index!==o.index?r*(o.index-i.index):o.createOrder-i.createOrder}),e.sorted=!0}},t.prototype.addDestroyTask=function(e){this.verifyAnimationFrameOn("createTasksP3"),this.destroyTasks.push(e),this.schedule()},t.prototype.executeFrame=function(e){this.verifyAnimationFrameOn("executeFrame");for(var r=this.createTasksP1,i=r.list,o=this.createTasksP2,a=o.list,s=this.destroyTasks,l=new Date().getTime(),u=new Date().getTime()-l,c=e<=0,d=this.ctrlsService.getGridBodyCtrl();c||u<e;){var p=d.getScrollFeature().scrollGridIfNeeded();if(!p){var h=void 0;if(i.length)this.sortTaskList(r),h=i.pop().task;else if(a.length)this.sortTaskList(o),h=a.pop().task;else if(s.length)h=s.pop();else{this.cancelledTasks.clear();break}this.cancelledTasks.has(h)||h()}u=new Date().getTime()-l}i.length||a.length||s.length?this.requestFrame():this.stopTicking()},t.prototype.stopTicking=function(){this.ticking=!1},t.prototype.flushAllFrames=function(){this.useAnimationFrame&&this.executeFrame(-1)},t.prototype.schedule=function(){this.useAnimationFrame&&(this.ticking||(this.ticking=!0,this.requestFrame()))},t.prototype.requestFrame=function(){var e=this.executeFrame.bind(this,60);this.requestAnimationFrame(e)},t.prototype.requestAnimationFrame=function(e){var r=this.gridOptionsService.getWindow();r.requestAnimationFrame?r.requestAnimationFrame(e):r.webkitRequestAnimationFrame?r.webkitRequestAnimationFrame(e):r.setTimeout(e,0)},t.prototype.isQueueEmpty=function(){return!this.ticking},t.prototype.debounce=function(e){var r=this,i=!1;return function(){if(!r.isOn()){window.setTimeout(e,0);return}i||(i=!0,r.addDestroyTask(function(){i=!1,e()}))}},f_([E("ctrlsService")],t.prototype,"ctrlsService",void 0),f_([E("paginationProxy")],t.prototype,"paginationProxy",void 0),f_([z],t.prototype,"init",null),t=f_([ae("animationFrameService")],t),t}(q),dt;(function(n){n.EVERYTHING="group",n.FILTER="filter",n.SORT="sort",n.MAP="map",n.AGGREGATE="aggregate",n.FILTER_AGGREGATES="filter_aggregates",n.PIVOT="pivot",n.NOTHING="nothing"})(dt||(dt={}));var KTe=function(){var n=function(t,e){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])},n(t,e)};return function(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");n(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}}(),nD=function(n,t,e,r){var i=arguments.length,o=i<3?t:r===null?r=Object.getOwnPropertyDescriptor(t,e):r,a;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(n,t,e,r);else for(var s=n.length-1;s>=0;s--)(a=n[s])&&(o=(i<3?a(o):i>3?a(t,e,o):a(t,e))||o);return i>3&&o&&Object.defineProperty(t,e,o),o},MG=function(n){KTe(t,n);function t(){return n!==null&&n.apply(this,arguments)||this}return t.prototype.postConstruct=function(){this.isClientSideRowModel=this.rowModel.getType()==="clientSide"},t.prototype.expandRows=function(e){if(this.isClientSideRowModel){var r=new Set(e);this.rowModel.forEachNode(function(i){i.id&&r.has(i.id)&&(i.expanded=!0)}),this.onGroupExpandedOrCollapsed()}},t.prototype.getExpandedRows=function(){var e=[];return this.rowModel.forEachNode(function(r){var i=r.expanded,o=r.id;i&&o&&e.push(o)}),e},t.prototype.expandAll=function(e){this.isClientSideRowModel&&this.rowModel.expandOrCollapseAll(e)},t.prototype.setRowNodeExpanded=function(e,r,i){e&&(i&&e.parent&&e.parent.level!==-1&&this.setRowNodeExpanded(e.parent,r,i),e.setExpanded(r))},t.prototype.onGroupExpandedOrCollapsed=function(){this.isClientSideRowModel&&this.rowModel.refreshModel({step:dt.MAP})},nD([E("rowModel")],t.prototype,"rowModel",void 0),nD([z],t.prototype,"postConstruct",null),t=nD([ae("expansionService")],t),t}(q),YTe=function(){var n=function(t,e){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])},n(t,e)};return function(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");n(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}}(),du=function(n,t,e,r){var i=arguments.length,o=i<3?t:r===null?r=Object.getOwnPropertyDescriptor(t,e):r,a;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(n,t,e,r);else for(var s=n.length-1;s>=0;s--)(a=n[s])&&(o=(i<3?a(o):i>3?a(t,e,o):a(t,e))||o);return i>3&&o&&Object.defineProperty(t,e,o),o},WX=function(n){YTe(t,n);function t(){return n!==null&&n.apply(this,arguments)||this}return t.prototype.postConstruct=function(){var e;this.activeMenuFactory=(e=this.enterpriseMenuFactory)!==null&&e!==void 0?e:this.filterMenuFactory},t.prototype.showColumnMenu=function(e){this.showColumnMenuCommon(this.activeMenuFactory,e,"columnMenu")},t.prototype.showFilterMenu=function(e){var r=this.enterpriseMenuFactory&&this.isLegacyMenuEnabled()?this.enterpriseMenuFactory:this.filterMenuFactory;this.showColumnMenuCommon(r,e,e.containerType,!0)},t.prototype.showHeaderContextMenu=function(e,r,i){this.activeMenuFactory.showMenuAfterContextMenuEvent(e,r,i)},t.prototype.showContextMenu=function(e){var r,i,o,a=e.column,s=e.anchorToElement,l=e.rowNode,u=e.value;(r=this.contextMenuFactory)===null||r===void 0||r.onContextMenu((i=e.mouseEvent)!==null&&i!==void 0?i:null,(o=e.touchEvent)!==null&&o!==void 0?o:null,l??null,a??null,u,s)},t.prototype.showColumnChooser=function(e){var r;(r=this.columnChooserFactory)===null||r===void 0||r.showColumnChooser(e)},t.prototype.hidePopupMenu=function(){var e;(e=this.contextMenuFactory)===null||e===void 0||e.hideActiveMenu(),this.activeMenuFactory.hideActiveMenu()},t.prototype.hideColumnChooser=function(){var e;(e=this.columnChooserFactory)===null||e===void 0||e.hideActiveColumnChooser()},t.prototype.isColumnMenuInHeaderEnabled=function(e){var r=e.getColDef(),i=r.suppressMenu,o=r.suppressHeaderMenuButton,a=o??i;return!a&&this.activeMenuFactory.isMenuEnabled(e)&&(this.isLegacyMenuEnabled()||!!this.enterpriseMenuFactory)},t.prototype.isFilterMenuInHeaderEnabled=function(e){return!e.getColDef().suppressHeaderFilterButton&&this.filterManager.isFilterAllowed(e)},t.prototype.isHeaderContextMenuEnabled=function(e){return!(e!=null&&e.getColDef().suppressHeaderContextMenu)&&this.getColumnMenuType()==="new"},t.prototype.isHeaderMenuButtonAlwaysShowEnabled=function(){return this.isSuppressMenuHide()},t.prototype.isHeaderMenuButtonEnabled=function(){var e=!this.isSuppressMenuHide(),r=cc()&&e;return!r},t.prototype.isHeaderFilterButtonEnabled=function(e){return this.isFilterMenuInHeaderEnabled(e)&&!this.isLegacyMenuEnabled()&&!this.isFloatingFilterButtonDisplayed(e)},t.prototype.isFilterMenuItemEnabled=function(e){return this.filterManager.isFilterAllowed(e)&&!this.isLegacyMenuEnabled()&&!this.isFilterMenuInHeaderEnabled(e)&&!this.isFloatingFilterButtonDisplayed(e)},t.prototype.isColumnMenuAnchoringEnabled=function(){return!this.isLegacyMenuEnabled()},t.prototype.areAdditionalColumnMenuItemsEnabled=function(){return this.getColumnMenuType()==="new"},t.prototype.isLegacyMenuEnabled=function(){return this.getColumnMenuType()==="legacy"},t.prototype.isFloatingFilterButtonEnabled=function(e){var r,i=e.getColDef(),o=(r=i.floatingFilterComponentParams)===null||r===void 0?void 0:r.suppressFilterButton;return o!=null&&Le("As of v31.1, 'colDef.floatingFilterComponentParams.suppressFilterButton' is deprecated. Use 'colDef.suppressFloatingFilterButton' instead."),i.suppressFloatingFilterButton==null?!o:!i.suppressFloatingFilterButton},t.prototype.getColumnMenuType=function(){var e;return(e=this.gridOptionsService.get("columnMenu"))!==null&&e!==void 0?e:"legacy"},t.prototype.isFloatingFilterButtonDisplayed=function(e){return!!e.getColDef().floatingFilter&&this.isFloatingFilterButtonEnabled(e)},t.prototype.isSuppressMenuHide=function(){var e=this.gridOptionsService.get("suppressMenuHide");return this.isLegacyMenuEnabled()||this.gridOptionsService.exists("suppressMenuHide")?e:!0},t.prototype.showColumnMenuCommon=function(e,r,i,o){var a=this,s=r.column,l=r.positionBy;if(l==="button"){var u=r.buttonElement;e.showMenuAfterButtonClick(s,u,i,o)}else if(l==="mouse"){var c=r.mouseEvent;e.showMenuAfterMouseEvent(s,c,i,o)}else s&&(this.ctrlsService.getGridBodyCtrl().getScrollFeature().ensureColumnVisible(s,"auto"),this.animationFrameService.requestAnimationFrame(function(){var d=a.ctrlsService.getHeaderRowContainerCtrl(s.getPinned()).getHeaderCtrlForColumn(s);e.showMenuAfterButtonClick(s,d.getAnchorElementForMenu(o),i,!0)}))},du([qe("enterpriseMenuFactory")],t.prototype,"enterpriseMenuFactory",void 0),du([E("filterMenuFactory")],t.prototype,"filterMenuFactory",void 0),du([qe("contextMenuFactory")],t.prototype,"contextMenuFactory",void 0),du([E("ctrlsService")],t.prototype,"ctrlsService",void 0),du([E("animationFrameService")],t.prototype,"animationFrameService",void 0),du([qe("columnChooserFactory")],t.prototype,"columnChooserFactory",void 0),du([E("filterManager")],t.prototype,"filterManager",void 0),du([z],t.prototype,"postConstruct",null),t=du([ae("menuService")],t),t}(q),XTe=function(){var n=function(t,e){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])},n(t,e)};return function(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");n(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}}(),Wy=function(n,t,e,r){var i=arguments.length,o=i<3?t:r===null?r=Object.getOwnPropertyDescriptor(t,e):r,a;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(n,t,e,r);else for(var s=n.length-1;s>=0;s--)(a=n[s])&&(o=(i<3?a(o):i>3?a(t,e,o):a(t,e))||o);return i>3&&o&&Object.defineProperty(t,e,o),o},UX=function(n){XTe(t,n);function t(){return n!==null&&n.apply(this,arguments)||this}return t.prototype.postConstruct=function(){var e=this;this.ctrlsService.whenReady(function(r){e.centerRowContainerCtrl=r.centerRowContainerCtrl})},t.prototype.getPreferredWidthForColumn=function(e,r){var i=this.getHeaderCellForColumn(e);if(!i)return-1;var o=this.rowRenderer.getAllCellsForColumn(e);return r||o.push(i),this.addElementsToContainerAndGetWidth(o)},t.prototype.getPreferredWidthForColumnGroup=function(e){var r=this.getHeaderCellForColumn(e);return r?this.addElementsToContainerAndGetWidth([r]):-1},t.prototype.addElementsToContainerAndGetWidth=function(e){var r=this,i=document.createElement("form");i.style.position="fixed";var o=this.centerRowContainerCtrl.getContainerElement();e.forEach(function(l){return r.cloneItemIntoDummy(l,i)}),o.appendChild(i);var a=i.offsetWidth;o.removeChild(i);var s=this.getAutoSizePadding();return a+s},t.prototype.getAutoSizePadding=function(){return this.gridOptionsService.get("autoSizePadding")},t.prototype.getHeaderCellForColumn=function(e){var r=null;return this.ctrlsService.getHeaderRowContainerCtrls().forEach(function(i){var o=i.getHtmlElementForColumnHeader(e);o!=null&&(r=o)}),r},t.prototype.cloneItemIntoDummy=function(e,r){var i=e.cloneNode(!0);i.style.width="",i.style.position="static",i.style.left="";var o=document.createElement("div"),a=o.classList,s=["ag-header-cell","ag-header-group-cell"].some(function(p){return i.classList.contains(p)});s?(a.add("ag-header","ag-header-row"),o.style.position="static"):a.add("ag-row");for(var l=e.parentElement;l;){var u=["ag-header-row","ag-row"].some(function(p){return l.classList.contains(p)});if(u){for(var c=0;c<l.classList.length;c++){var d=l.classList[c];d!="ag-row-position-absolute"&&a.add(d)}break}l=l.parentElement}o.appendChild(i),r.appendChild(o)},Wy([E("rowRenderer")],t.prototype,"rowRenderer",void 0),Wy([E("ctrlsService")],t.prototype,"ctrlsService",void 0),Wy([E("rowCssClassCalculator")],t.prototype,"rowCssClassCalculator",void 0),Wy([z],t.prototype,"postConstruct",null),t=Wy([ae("autoWidthCalculator")],t),t}(q),qTe=function(){var n=function(t,e){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])},n(t,e)};return function(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");n(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}}(),v_=function(n,t,e,r){var i=arguments.length,o=i<3?t:r===null?r=Object.getOwnPropertyDescriptor(t,e):r,a;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(n,t,e,r);else for(var s=n.length-1;s>=0;s--)(a=n[s])&&(o=(i<3?a(o):i>3?a(t,e,o):a(t,e))||o);return i>3&&o&&Object.defineProperty(t,e,o),o},ZTe=function(n){var t=typeof Symbol=="function"&&Symbol.iterator,e=t&&n[t],r=0;if(e)return e.call(n);if(n&&typeof n.length=="number")return{next:function(){return n&&r>=n.length&&(n=void 0),{value:n&&n[r++],done:!n}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")},QTe=function(n,t){var e=typeof Symbol=="function"&&n[Symbol.iterator];if(!e)return n;var r=e.call(n),i,o=[],a;try{for(;(t===void 0||t-- >0)&&!(i=r.next()).done;)o.push(i.value)}catch(s){a={error:s}}finally{try{i&&!i.done&&(e=r.return)&&e.call(r)}finally{if(a)throw a.error}}return o},JTe=function(n,t,e){if(e||arguments.length===2)for(var r=0,i=t.length,o;r<i;r++)(o||!(r in t))&&(o||(o=Array.prototype.slice.call(t,0,r)),o[r]=t[r]);return n.concat(o||Array.prototype.slice.call(t))},ePe=function(n){qTe(t,n);function t(e,r){var i=n.call(this)||this;return i.createRowCon=e,i.destroyRowCtrls=r,i.stickyRowCtrls=[],i.containerHeight=0,i}return t.prototype.postConstruct=function(){var e=this;this.isClientSide=this.rowModel.getType()==="clientSide",this.ctrlsService.whenReady(function(r){e.gridBodyCtrl=r.gridBodyCtrl})},t.prototype.getStickyRowCtrls=function(){return this.stickyRowCtrls},t.prototype.checkStickyRows=function(){var e=this,r=0;if(!this.gridOptionsService.isGroupRowsSticky())return this.refreshNodesAndContainerHeight([],r);for(var i=[],o=this.rowRenderer.getFirstVisibleVerticalPixel(),a=function(f){var v,g,y;i.push(f);var m;if(e.isClientSide){for(var C=f;C.isExpandable()&&C.expanded;)if(C.master)C=C.detailNode;else if(C.childrenAfterSort){if(C.childrenAfterSort.length===0)break;C=bt(C.childrenAfterSort)}m=C.rowTop+C.rowHeight}else if(f.master)m=f.detailNode.rowTop+f.detailNode.rowHeight;else{var S=(v=f.childStore)===null||v===void 0?void 0:v.getStoreBounds();m=((g=S==null?void 0:S.heightPx)!==null&&g!==void 0?g:0)+((y=S==null?void 0:S.topPx)!==null&&y!==void 0?y:0)}var w=o+r+f.rowHeight;m<w?f.stickyRowTop=r+(m-w):f.stickyRowTop=r,r=0,i.forEach(function(_){var x=_.stickyRowTop+_.rowHeight;r<x&&(r=x)})},s=0;;){var l=o+r,u=this.rowModel.getRowIndexAtPixel(l),c=this.rowModel.getRow(u);if(c==null||c.level<0||s++===100)break;for(var d=[],p=c.parent;p.level>=0;)d.push(p),p=p.parent;var h=d.reverse().find(function(f){return i.indexOf(f)<0&&f.displayed});if(h){a(h);continue}if(c.isExpandable()&&c.expanded&&c.rowTop<l){a(c);continue}break}return this.refreshNodesAndContainerHeight(i,r)},t.prototype.refreshStickyNode=function(e){for(var r=[],i=0;i<this.stickyRowCtrls.length;i++){var o=this.stickyRowCtrls[i].getRowNode();o!==e&&r.push(o)}this.refreshNodesAndContainerHeight(r,this.containerHeight)&&this.checkStickyRows()},t.prototype.refreshNodesAndContainerHeight=function(e,r){var i,o,a,s=this,l=!1,u=this.stickyRowCtrls.filter(function(g){return e.indexOf(g.getRowNode())===-1}),c=e.filter(function(g){return s.stickyRowCtrls.findIndex(function(y){return y.getRowNode()===g})===-1});(u.length||c.length)&&(l=!0);var d={};u.forEach(function(g){d[g.getRowNode().id]=g,s.stickyRowCtrls=s.stickyRowCtrls.filter(function(y){return y!==g})});try{for(var p=ZTe(Object.values(d)),h=p.next();!h.done;h=p.next()){var f=h.value;f.getRowNode().sticky=!1}}catch(g){i={error:g}}finally{try{h&&!h.done&&(o=p.return)&&o.call(p)}finally{if(i)throw i.error}}this.destroyRowCtrls(d,!1);var v=c.map(function(g){return g.sticky=!0,s.createRowCon(g,!1,!1)});return(a=this.stickyRowCtrls).push.apply(a,JTe([],QTe(v),!1)),this.stickyRowCtrls.forEach(function(g){return g.setRowTop(g.getRowNode().stickyRowTop)}),this.stickyRowCtrls.sort(function(g,y){return y.getRowNode().rowIndex-g.getRowNode().rowIndex}),this.containerHeight!==r&&(this.containerHeight=r,this.gridBodyCtrl.setStickyTopHeight(r),l=!0),l},v_([E("rowModel")],t.prototype,"rowModel",void 0),v_([E("rowRenderer")],t.prototype,"rowRenderer",void 0),v_([E("ctrlsService")],t.prototype,"ctrlsService",void 0),v_([z],t.prototype,"postConstruct",null),t}(q),tPe=function(){var n=function(t,e){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])},n(t,e)};return function(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");n(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}}(),us=function(n,t,e,r){var i=arguments.length,o=i<3?t:r===null?r=Object.getOwnPropertyDescriptor(t,e):r,a;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(n,t,e,r);else for(var s=n.length-1;s>=0;s--)(a=n[s])&&(o=(i<3?a(o):i>3?a(t,e,o):a(t,e))||o);return i>3&&o&&Object.defineProperty(t,e,o),o},Ac=function(n,t){var e=typeof Symbol=="function"&&n[Symbol.iterator];if(!e)return n;var r=e.call(n),i,o=[],a;try{for(;(t===void 0||t-- >0)&&!(i=r.next()).done;)o.push(i.value)}catch(s){a={error:s}}finally{try{i&&!i.done&&(e=r.return)&&e.call(r)}finally{if(a)throw a.error}}return o},Dc=function(n,t,e){if(e||arguments.length===2)for(var r=0,i=t.length,o;r<i;r++)(o||!(r in t))&&(o||(o=Array.prototype.slice.call(t,0,r)),o[r]=t[r]);return n.concat(o||Array.prototype.slice.call(t))},rPe=function(n){var t=typeof Symbol=="function"&&Symbol.iterator,e=t&&n[t],r=0;if(e)return e.call(n);if(n&&typeof n.length=="number")return{next:function(){return n&&r>=n.length&&(n=void 0),{value:n&&n[r++],done:!n}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")},zX=function(n){tPe(t,n);function t(){var e=n!==null&&n.apply(this,arguments)||this;return e.destroyFuncsForColumnListeners=[],e.rowCtrlsByRowIndex={},e.zombieRowCtrls={},e.allRowCtrls=[],e.topRowCtrls=[],e.bottomRowCtrls=[],e.refreshInProgress=!1,e.dataFirstRenderedFired=!1,e.setupRangeSelectionListeners=function(){var r=function(){e.getAllCellCtrls().forEach(function(l){return l.onRangeSelectionChanged()})},i=function(){e.getAllCellCtrls().forEach(function(l){return l.updateRangeBordersIfRangeCount()})},o=function(){e.eventService.addEventListener(P.EVENT_RANGE_SELECTION_CHANGED,r),e.eventService.addEventListener(P.EVENT_COLUMN_MOVED,i),e.eventService.addEventListener(P.EVENT_COLUMN_PINNED,i),e.eventService.addEventListener(P.EVENT_COLUMN_VISIBLE,i)},a=function(){e.eventService.removeEventListener(P.EVENT_RANGE_SELECTION_CHANGED,r),e.eventService.removeEventListener(P.EVENT_COLUMN_MOVED,i),e.eventService.removeEventListener(P.EVENT_COLUMN_PINNED,i),e.eventService.removeEventListener(P.EVENT_COLUMN_VISIBLE,i)};e.addDestroyFunc(function(){return a()}),e.addManagedPropertyListener("enableRangeSelection",function(l){var u=l.currentValue;u?o():a()});var s=e.gridOptionsService.get("enableRangeSelection");s&&o()},e}return t.prototype.postConstruct=function(){var e=this;this.ctrlsService.whenReady(function(){e.gridBodyCtrl=e.ctrlsService.getGridBodyCtrl(),e.initialise()})},t.prototype.initialise=function(){var e=this;if(this.addManagedListener(this.eventService,P.EVENT_PAGINATION_CHANGED,this.onPageLoaded.bind(this)),this.addManagedListener(this.eventService,P.EVENT_PINNED_ROW_DATA_CHANGED,this.onPinnedRowDataChanged.bind(this)),this.addManagedListener(this.eventService,P.EVENT_DISPLAYED_COLUMNS_CHANGED,this.onDisplayedColumnsChanged.bind(this)),this.addManagedListener(this.eventService,P.EVENT_BODY_SCROLL,this.onBodyScroll.bind(this)),this.addManagedListener(this.eventService,P.EVENT_BODY_HEIGHT_CHANGED,this.redraw.bind(this)),this.addManagedPropertyListeners(["domLayout","embedFullWidthRows"],function(){return e.onDomLayoutChanged()}),this.addManagedPropertyListeners(["suppressMaxRenderedRowRestriction","rowBuffer"],function(){return e.redraw()}),this.addManagedPropertyListeners(["suppressCellFocus","getBusinessKeyForNode","fullWidthCellRenderer","fullWidthCellRendererParams","rowStyle","getRowStyle","rowClass","getRowClass","rowClassRules","groupRowRenderer","groupRowRendererParams","loadingCellRenderer","loadingCellRendererParams","detailCellRenderer","detailCellRendererParams","enableRangeSelection","enableCellTextSelection"],function(){return e.redrawRows()}),this.gridOptionsService.isGroupRowsSticky()){var r=this.rowModel.getType();(r==="clientSide"||r==="serverSide")&&(this.stickyRowFeature=this.createManagedBean(new ePe(this.createRowCon.bind(this),this.destroyRowCtrls.bind(this))))}this.registerCellEventListeners(),this.initialiseCache(),this.printLayout=this.gridOptionsService.isDomLayout("print"),this.embedFullWidthRows=this.printLayout||this.gridOptionsService.get("embedFullWidthRows"),this.redrawAfterModelUpdate()},t.prototype.initialiseCache=function(){if(this.gridOptionsService.get("keepDetailRows")){var e=this.getKeepDetailRowsCount(),r=e??3;this.cachedRowCtrls=new nPe(r)}},t.prototype.getKeepDetailRowsCount=function(){return this.gridOptionsService.get("keepDetailRowsCount")},t.prototype.getStickyTopRowCtrls=function(){return this.stickyRowFeature?this.stickyRowFeature.getStickyRowCtrls():[]},t.prototype.updateAllRowCtrls=function(){var e=Gd(this.rowCtrlsByRowIndex),r=Gd(this.zombieRowCtrls),i=this.cachedRowCtrls?this.cachedRowCtrls.getEntries():[];r.length>0||i.length>0?this.allRowCtrls=Dc(Dc(Dc([],Ac(e),!1),Ac(r),!1),Ac(i),!1):this.allRowCtrls=e},t.prototype.onCellFocusChanged=function(e){this.getAllCellCtrls().forEach(function(r){return r.onCellFocused(e)}),this.getFullWidthRowCtrls().forEach(function(r){return r.onFullWidthRowFocused(e)})},t.prototype.registerCellEventListeners=function(){var e=this;this.addManagedListener(this.eventService,P.EVENT_CELL_FOCUSED,function(r){e.onCellFocusChanged(r)}),this.addManagedListener(this.eventService,P.EVENT_CELL_FOCUS_CLEARED,function(){e.onCellFocusChanged()}),this.addManagedListener(this.eventService,P.EVENT_FLASH_CELLS,function(r){e.getAllCellCtrls().forEach(function(i){return i.onFlashCells(r)})}),this.addManagedListener(this.eventService,P.EVENT_COLUMN_HOVER_CHANGED,function(){e.getAllCellCtrls().forEach(function(r){return r.onColumnHover()})}),this.addManagedListener(this.eventService,P.EVENT_DISPLAYED_COLUMNS_CHANGED,function(){e.getAllCellCtrls().forEach(function(r){return r.onDisplayedColumnsChanged()})}),this.addManagedListener(this.eventService,P.EVENT_DISPLAYED_COLUMNS_WIDTH_CHANGED,function(){e.printLayout&&e.getAllCellCtrls().forEach(function(r){return r.onLeftChanged()})}),this.setupRangeSelectionListeners(),this.refreshListenersToColumnsForCellComps(),this.addManagedListener(this.eventService,P.EVENT_GRID_COLUMNS_CHANGED,this.refreshListenersToColumnsForCellComps.bind(this)),this.addDestroyFunc(this.removeGridColumnListeners.bind(this))},t.prototype.removeGridColumnListeners=function(){this.destroyFuncsForColumnListeners.forEach(function(e){return e()}),this.destroyFuncsForColumnListeners.length=0},t.prototype.refreshListenersToColumnsForCellComps=function(){var e=this;this.removeGridColumnListeners();var r=this.columnModel.getAllGridColumns();r.forEach(function(i){var o=function(d){e.getAllCellCtrls().forEach(function(p){p.getColumn()===i&&d(p)})},a=function(){o(function(d){return d.onLeftChanged()})},s=function(){o(function(d){return d.onWidthChanged()})},l=function(){o(function(d){return d.onFirstRightPinnedChanged()})},u=function(){o(function(d){return d.onLastLeftPinnedChanged()})},c=function(){o(function(d){return d.onColDefChanged()})};i.addEventListener("leftChanged",a),i.addEventListener("widthChanged",s),i.addEventListener("firstRightPinnedChanged",l),i.addEventListener("lastLeftPinnedChanged",u),i.addEventListener("colDefChanged",c),e.destroyFuncsForColumnListeners.push(function(){i.removeEventListener("leftChanged",a),i.removeEventListener("widthChanged",s),i.removeEventListener("firstRightPinnedChanged",l),i.removeEventListener("lastLeftPinnedChanged",u),i.removeEventListener("colDefChanged",c)})})},t.prototype.onDomLayoutChanged=function(){var e=this.gridOptionsService.isDomLayout("print"),r=e||this.gridOptionsService.get("embedFullWidthRows"),i=r!==this.embedFullWidthRows||this.printLayout!==e;this.printLayout=e,this.embedFullWidthRows=r,i&&this.redrawAfterModelUpdate({domLayoutChanged:!0})},t.prototype.datasourceChanged=function(){this.firstRenderedRow=0,this.lastRenderedRow=-1;var e=Object.keys(this.rowCtrlsByRowIndex);this.removeRowCtrls(e)},t.prototype.onPageLoaded=function(e){var r={recycleRows:e.keepRenderedRows,animate:e.animate,newData:e.newData,newPage:e.newPage,onlyBody:!0};this.redrawAfterModelUpdate(r)},t.prototype.getAllCellsForColumn=function(e){var r=[];return this.getAllRowCtrls().forEach(function(i){var o=i.getCellElement(e);o&&r.push(o)}),r},t.prototype.refreshFloatingRowComps=function(){this.refreshFloatingRows(this.topRowCtrls,this.pinnedRowModel.getPinnedTopRowData()),this.refreshFloatingRows(this.bottomRowCtrls,this.pinnedRowModel.getPinnedBottomRowData())},t.prototype.getTopRowCtrls=function(){return this.topRowCtrls},t.prototype.getCentreRowCtrls=function(){return this.allRowCtrls},t.prototype.getBottomRowCtrls=function(){return this.bottomRowCtrls},t.prototype.refreshFloatingRows=function(e,r){var i=this;e.forEach(function(o){o.destroyFirstPass(),o.destroySecondPass()}),e.length=0,r&&r.forEach(function(o){var a=new Td(o,i.beans,!1,!1,i.printLayout);e.push(a)})},t.prototype.onPinnedRowDataChanged=function(){var e={recycleRows:!0};this.redrawAfterModelUpdate(e)},t.prototype.redrawRow=function(e,r){var i=this,o;if(r===void 0&&(r=!1),e.sticky)this.stickyRowFeature.refreshStickyNode(e);else if(!((o=this.cachedRowCtrls)===null||o===void 0)&&o.has(e)){this.cachedRowCtrls.removeRow(e);return}else{var a=function(s){var l=s[e.rowIndex];l&&l.getRowNode()===e&&(l.destroyFirstPass(),l.destroySecondPass(),s[e.rowIndex]=i.createRowCon(e,!1,!1))};switch(e.rowPinned){case"top":a(this.topRowCtrls);break;case"bottom":a(this.bottomRowCtrls);break;default:a(this.rowCtrlsByRowIndex),this.updateAllRowCtrls()}}r||this.dispatchDisplayedRowsChanged(!1)},t.prototype.redrawRows=function(e){var r=this,i=e!=null;if(i){e==null||e.forEach(function(o){return r.redrawRow(o,!0)}),this.dispatchDisplayedRowsChanged(!1);return}this.redrawAfterModelUpdate()},t.prototype.getCellToRestoreFocusToAfterRefresh=function(e){var r=e!=null&&e.suppressKeepFocus?null:this.focusService.getFocusCellToUseAfterRefresh();if(r==null)return null;var i=this.gridOptionsService.getDocument(),o=i.activeElement,a=this.gridOptionsService.getDomData(o,Iu.DOM_DATA_KEY_CELL_CTRL),s=this.gridOptionsService.getDomData(o,Td.DOM_DATA_KEY_ROW_CTRL),l=a||s;return l?r:null},t.prototype.redrawAfterModelUpdate=function(e){e===void 0&&(e={}),this.getLockOnRefresh();var r=this.getCellToRestoreFocusToAfterRefresh(e);this.updateContainerHeights(),this.scrollToTopIfNewData(e);var i=!e.domLayoutChanged&&!!e.recycleRows,o=e.animate&&this.gridOptionsService.isAnimateRows(),a=i?this.getRowsToRecycle():null;i||this.removeAllRowComps(),this.workOutFirstAndLastRowsToRender(),this.stickyRowFeature&&this.stickyRowFeature.checkStickyRows(),this.recycleRows(a,o),this.gridBodyCtrl.updateRowCount(),e.onlyBody||this.refreshFloatingRowComps(),this.dispatchDisplayedRowsChanged(),r!=null&&this.restoreFocusedCell(r),this.releaseLockOnRefresh()},t.prototype.scrollToTopIfNewData=function(e){var r=e.newData||e.newPage,i=this.gridOptionsService.get("suppressScrollOnNewData");r&&!i&&this.gridBodyCtrl.getScrollFeature().scrollToTop()},t.prototype.updateContainerHeights=function(){if(this.printLayout){this.rowContainerHeightService.setModelHeight(null);return}var e=this.paginationProxy.getCurrentPageHeight();e===0&&(e=1),this.rowContainerHeightService.setModelHeight(e)},t.prototype.getLockOnRefresh=function(){if(this.refreshInProgress)throw new Error("AG Grid: cannot get grid to draw rows when it is in the middle of drawing rows. Your code probably called a grid API method while the grid was in the render stage. To overcome this, put the API call into a timeout, e.g. instead of api.redrawRows(), call setTimeout(function() { api.redrawRows(); }, 0). To see what part of your code that caused the refresh check this stacktrace.");this.refreshInProgress=!0},t.prototype.releaseLockOnRefresh=function(){this.refreshInProgress=!1},t.prototype.isRefreshInProgress=function(){return this.refreshInProgress},t.prototype.restoreFocusedCell=function(e){e&&(this.focusService.setRestoreFocusedCell(e),this.onCellFocusChanged(this.beans.gridOptionsService.addGridCommonParams({rowIndex:e.rowIndex,column:e.column,rowPinned:e.rowPinned,forceBrowserFocus:!0,preventScrollOnBrowserFocus:!0,type:"mock"})))},t.prototype.stopEditing=function(e){e===void 0&&(e=!1),this.getAllRowCtrls().forEach(function(r){r.stopEditing(e)})},t.prototype.getAllCellCtrls=function(){for(var e=[],r=this.getAllRowCtrls(),i=r.length,o=0;o<i;o++)for(var a=r[o].getAllCellCtrls(),s=a.length,l=0;l<s;l++)e.push(a[l]);return e},t.prototype.getAllRowCtrls=function(){var e,r,i=this.stickyRowFeature&&this.stickyRowFeature.getStickyRowCtrls()||[],o=Dc(Dc(Dc([],Ac(this.topRowCtrls),!1),Ac(this.bottomRowCtrls),!1),Ac(i),!1);try{for(var a=rPe(Object.keys(this.rowCtrlsByRowIndex)),s=a.next();!s.done;s=a.next()){var l=s.value;o.push(this.rowCtrlsByRowIndex[l])}}catch(u){e={error:u}}finally{try{s&&!s.done&&(r=a.return)&&r.call(a)}finally{if(e)throw e.error}}return o},t.prototype.addRenderedRowListener=function(e,r,i){var o=this.rowCtrlsByRowIndex[r];o&&o.addEventListener(e,i)},t.prototype.flashCells=function(e){e===void 0&&(e={}),this.getCellCtrls(e.rowNodes,e.columns).forEach(function(r){return r.flashCell(e)})},t.prototype.refreshCells=function(e){var r=this;e===void 0&&(e={});var i={forceRefresh:e.force,newData:!1,suppressFlash:e.suppressFlash};this.getCellCtrls(e.rowNodes,e.columns).forEach(function(o){return o.refreshOrDestroyCell(i)}),e.rowNodes&&(this.getRowCtrls(e.rowNodes).forEach(function(o){if(o.isFullWidth()){var a=o.refreshFullWidth();a||r.redrawRow(o.getRowNode(),!0)}}),this.dispatchDisplayedRowsChanged(!1))},t.prototype.getCellRendererInstances=function(e){var r=this,i,o=this.getCellCtrls(e.rowNodes,e.columns).map(function(l){return l.getCellRenderer()}).filter(function(l){return l!=null});if(!((i=e.columns)===null||i===void 0)&&i.length)return o;var a=[],s=this.mapRowNodes(e.rowNodes);return this.getAllRowCtrls().forEach(function(l){if(!(s&&!r.isRowInMap(l.getRowNode(),s))&&l.isFullWidth())for(var u=l.getFullWidthCellRenderers(),c=0;c<u.length;c++){var d=u[c];d!=null&&a.push(d)}}),Dc(Dc([],Ac(a),!1),Ac(o),!1)},t.prototype.getCellEditorInstances=function(e){var r=[];return this.getCellCtrls(e.rowNodes,e.columns).forEach(function(i){var o=i.getCellEditor();o&&r.push(o)}),r},t.prototype.getEditingCells=function(){var e=[];return this.getAllCellCtrls().forEach(function(r){if(r.isEditing()){var i=r.getCellPosition();e.push(i)}}),e},t.prototype.mapRowNodes=function(e){if(e){var r={top:{},bottom:{},normal:{}};return e.forEach(function(i){var o=i.id;i.rowPinned==="top"?r.top[o]=i:i.rowPinned==="bottom"?r.bottom[o]=i:r.normal[o]=i}),r}},t.prototype.isRowInMap=function(e,r){var i=e.id,o=e.rowPinned;return o==="bottom"?r.bottom[i]!=null:o==="top"?r.top[i]!=null:r.normal[i]!=null},t.prototype.getRowCtrls=function(e){var r=this,i=this.mapRowNodes(e),o=this.getAllRowCtrls();return!e||!i?o:o.filter(function(a){var s=a.getRowNode();return r.isRowInMap(s,i)})},t.prototype.getCellCtrls=function(e,r){var i=this,o;ce(r)&&(o={},r.forEach(function(s){var l=i.columnModel.getGridColumn(s);ce(l)&&(o[l.getId()]=!0)}));var a=[];return this.getRowCtrls(e).forEach(function(s){s.getAllCellCtrls().forEach(function(l){var u=l.getColumn().getId(),c=o&&!o[u];c||a.push(l)})}),a},t.prototype.destroy=function(){this.removeAllRowComps(),n.prototype.destroy.call(this)},t.prototype.removeAllRowComps=function(){var e=Object.keys(this.rowCtrlsByRowIndex);this.removeRowCtrls(e)},t.prototype.getRowsToRecycle=function(){var e=[];li(this.rowCtrlsByRowIndex,function(i,o){var a=o.getRowNode().id==null;a&&e.push(i)}),this.removeRowCtrls(e);var r={};return li(this.rowCtrlsByRowIndex,function(i,o){var a=o.getRowNode();r[a.id]=o}),this.rowCtrlsByRowIndex={},r},t.prototype.removeRowCtrls=function(e,r){var i=this;r===void 0&&(r=!1),e.forEach(function(o){var a=i.rowCtrlsByRowIndex[o];a&&(a.destroyFirstPass(r),a.destroySecondPass()),delete i.rowCtrlsByRowIndex[o]})},t.prototype.onBodyScroll=function(e){e.direction==="vertical"&&this.redraw({afterScroll:!0})},t.prototype.redraw=function(e){e===void 0&&(e={});var r=e.afterScroll,i;this.stickyRowFeature&&tG()&&(i=this.getCellToRestoreFocusToAfterRefresh()||void 0);var o=this.firstRenderedRow,a=this.lastRenderedRow;this.workOutFirstAndLastRowsToRender();var s=!1;this.stickyRowFeature&&(s=this.stickyRowFeature.checkStickyRows());var l=this.firstRenderedRow!==o||this.lastRenderedRow!==a;if(!(r&&!s&&!l)&&(this.getLockOnRefresh(),this.recycleRows(null,!1,r),this.releaseLockOnRefresh(),this.dispatchDisplayedRowsChanged(r&&!s),i!=null)){var u=this.getCellToRestoreFocusToAfterRefresh();i!=null&&u==null&&(this.animationFrameService.flushAllFrames(),this.restoreFocusedCell(i))}},t.prototype.removeRowCompsNotToDraw=function(e,r){var i={};e.forEach(function(s){return i[s]=!0});var o=Object.keys(this.rowCtrlsByRowIndex),a=o.filter(function(s){return!i[s]});this.removeRowCtrls(a,r)},t.prototype.calculateIndexesToDraw=function(e){var r=this,i=wY(this.firstRenderedRow,this.lastRenderedRow),o=function(c,d){var p=d.getRowNode().rowIndex;p!=null&&(p<r.firstRenderedRow||p>r.lastRenderedRow)&&r.doNotUnVirtualiseRow(d)&&i.push(p)};li(this.rowCtrlsByRowIndex,o),li(e,o),i.sort(function(c,d){return c-d});for(var a=[],s=0;s<i.length;s++){var l=i[s],u=this.paginationProxy.getRow(l);u&&!u.sticky&&a.push(l)}return a},t.prototype.recycleRows=function(e,r,i){var o=this;r===void 0&&(r=!1),i===void 0&&(i=!1);var a=this.calculateIndexesToDraw(e);if((this.printLayout||i)&&(r=!1),this.removeRowCompsNotToDraw(a,!r),a.forEach(function(l){var u=o.createOrUpdateRowCtrl(l,e,r,i);ce(u)}),e){var s=i&&!this.gridOptionsService.get("suppressAnimationFrame")&&!this.printLayout;s?this.beans.animationFrameService.addDestroyTask(function(){o.destroyRowCtrls(e,r),o.updateAllRowCtrls(),o.dispatchDisplayedRowsChanged()}):this.destroyRowCtrls(e,r)}this.updateAllRowCtrls()},t.prototype.dispatchDisplayedRowsChanged=function(e){e===void 0&&(e=!1);var r={type:P.EVENT_DISPLAYED_ROWS_CHANGED,afterScroll:e};this.eventService.dispatchEvent(r)},t.prototype.onDisplayedColumnsChanged=function(){var e=this.columnModel.isPinningLeft(),r=this.columnModel.isPinningRight(),i=this.pinningLeft!==e||r!==this.pinningRight;i&&(this.pinningLeft=e,this.pinningRight=r,this.embedFullWidthRows&&this.redrawFullWidthEmbeddedRows())},t.prototype.redrawFullWidthEmbeddedRows=function(){var e=[];this.getFullWidthRowCtrls().forEach(function(r){var i=r.getRowNode().rowIndex;e.push(i.toString())}),this.refreshFloatingRowComps(),this.removeRowCtrls(e),this.redraw({afterScroll:!0})},t.prototype.getFullWidthRowCtrls=function(e){var r=this,i=this.mapRowNodes(e);return this.getAllRowCtrls().filter(function(o){if(!o.isFullWidth())return!1;var a=o.getRowNode();return!(i!=null&&!r.isRowInMap(a,i))})},t.prototype.createOrUpdateRowCtrl=function(e,r,i,o){var a,s=this.rowCtrlsByRowIndex[e];s||(a=this.paginationProxy.getRow(e),ce(a)&&ce(r)&&r[a.id]&&a.alreadyRendered&&(s=r[a.id],r[a.id]=null));var l=!s;if(l)if(a||(a=this.paginationProxy.getRow(e)),ce(a))s=this.createRowCon(a,i,o);else return;return a&&(a.alreadyRendered=!0),this.rowCtrlsByRowIndex[e]=s,s},t.prototype.destroyRowCtrls=function(e,r){var i=this,o=[];li(e,function(a,s){if(s){if(i.cachedRowCtrls&&s.isCacheable()){i.cachedRowCtrls.addRow(s);return}s.destroyFirstPass(!r),r?(i.zombieRowCtrls[s.getInstanceId()]=s,o.push(function(){s.destroySecondPass(),delete i.zombieRowCtrls[s.getInstanceId()]})):s.destroySecondPass()}}),r&&(o.push(function(){i.updateAllRowCtrls(),i.dispatchDisplayedRowsChanged()}),N7(o))},t.prototype.getRowBuffer=function(){return this.gridOptionsService.get("rowBuffer")},t.prototype.getRowBufferInPixels=function(){var e=this.getRowBuffer(),r=this.gridOptionsService.getRowHeightAsNumber();return e*r},t.prototype.workOutFirstAndLastRowsToRender=function(){this.rowContainerHeightService.updateOffset();var e,r;if(!this.paginationProxy.isRowsToRender())e=0,r=-1;else if(this.printLayout)this.environment.refreshRowHeightVariable(),e=this.paginationProxy.getPageFirstRow(),r=this.paginationProxy.getPageLastRow();else{var i=this.getRowBufferInPixels(),o=this.ctrlsService.getGridBodyCtrl(),a=this.gridOptionsService.get("suppressRowVirtualisation"),s=!1,l=void 0,u=void 0;do{var c=this.paginationProxy.getPixelOffset(),d=this.paginationProxy.getCurrentPagePixelRange(),p=d.pageFirstPixel,h=d.pageLastPixel,f=this.rowContainerHeightService.getDivStretchOffset(),v=o.getScrollFeature().getVScrollPosition(),g=v.top,y=v.bottom;a?(l=p+f,u=h+f):(l=Math.max(g+c-i,p)+f,u=Math.min(y+c+i,h)+f),this.firstVisibleVPixel=Math.max(g+c,p)+f,s=this.ensureAllRowsInRangeHaveHeightsCalculated(l,u)}while(s);var m=this.paginationProxy.getRowIndexAtPixel(l),C=this.paginationProxy.getRowIndexAtPixel(u),S=this.paginationProxy.getPageFirstRow(),w=this.paginationProxy.getPageLastRow();m<S&&(m=S),C>w&&(C=w),e=m,r=C}var _=this.gridOptionsService.isDomLayout("normal"),x=this.gridOptionsService.get("suppressMaxRenderedRowRestriction"),b=Math.max(this.getRowBuffer(),500);_&&!x&&r-e>b&&(r=e+b);var O=e!==this.firstRenderedRow,T=r!==this.lastRenderedRow;if(O||T){this.firstRenderedRow=e,this.lastRenderedRow=r;var A={type:P.EVENT_VIEWPORT_CHANGED,firstRow:e,lastRow:r};this.eventService.dispatchEvent(A)}},t.prototype.dispatchFirstDataRenderedEvent=function(){var e=this;if(!this.dataFirstRenderedFired){this.dataFirstRenderedFired=!0;var r={type:P.EVENT_FIRST_DATA_RENDERED,firstRow:this.firstRenderedRow,lastRow:this.lastRenderedRow};window.requestAnimationFrame(function(){e.beans.eventService.dispatchEvent(r)})}},t.prototype.ensureAllRowsInRangeHaveHeightsCalculated=function(e,r){var i=this.paginationProxy.ensureRowHeightsValid(e,r,-1,-1);return i&&this.updateContainerHeights(),i},t.prototype.getFirstVisibleVerticalPixel=function(){return this.firstVisibleVPixel},t.prototype.getFirstVirtualRenderedRow=function(){return this.firstRenderedRow},t.prototype.getLastVirtualRenderedRow=function(){return this.lastRenderedRow},t.prototype.doNotUnVirtualiseRow=function(e){var r=!1,i=!0,o=e.getRowNode(),a=this.focusService.isRowNodeFocused(o),s=e.isEditing(),l=o.detail,u=a||s||l;if(!u)return r;var c=this.paginationProxy.isRowPresent(o);return c?i:r},t.prototype.createRowCon=function(e,r,i){var o=this.cachedRowCtrls?this.cachedRowCtrls.getRow(e):null;if(o)return o;var a=this.gridOptionsService.get("suppressAnimationFrame"),s=i&&!a&&!this.printLayout,l=new Td(e,this.beans,r,s,this.printLayout);return l},t.prototype.getRenderedNodes=function(){var e=this.rowCtrlsByRowIndex;return Object.keys(e).map(function(r){return e[r].getRowNode()})},t.prototype.getRowByPosition=function(e){var r,i=e.rowIndex;switch(e.rowPinned){case"top":r=this.topRowCtrls[i];break;case"bottom":r=this.bottomRowCtrls[i];break;default:r=this.rowCtrlsByRowIndex[i],r||(r=this.getStickyTopRowCtrls().find(function(o){return o.getRowNode().rowIndex===i})||null);break}return r},t.prototype.getRowNode=function(e){switch(e.rowPinned){case"top":return this.pinnedRowModel.getPinnedTopRowData()[e.rowIndex];case"bottom":return this.pinnedRowModel.getPinnedBottomRowData()[e.rowIndex];default:return this.rowModel.getRow(e.rowIndex)}},t.prototype.isRangeInRenderedViewport=function(e,r){var i=e==null||r==null;if(i)return!1;var o=e>this.lastRenderedRow,a=r<this.firstRenderedRow,s=!a&&!o;return s},us([E("animationFrameService")],t.prototype,"animationFrameService",void 0),us([E("paginationProxy")],t.prototype,"paginationProxy",void 0),us([E("columnModel")],t.prototype,"columnModel",void 0),us([E("pinnedRowModel")],t.prototype,"pinnedRowModel",void 0),us([E("rowModel")],t.prototype,"rowModel",void 0),us([E("focusService")],t.prototype,"focusService",void 0),us([E("beans")],t.prototype,"beans",void 0),us([E("rowContainerHeightService")],t.prototype,"rowContainerHeightService",void 0),us([E("ctrlsService")],t.prototype,"ctrlsService",void 0),us([z],t.prototype,"postConstruct",null),t=us([ae("rowRenderer")],t),t}(q),nPe=function(){function n(t){this.entriesMap={},this.entriesList=[],this.maxCount=t}return n.prototype.addRow=function(t){if(this.entriesMap[t.getRowNode().id]=t,this.entriesList.push(t),t.setCached(!0),this.entriesList.length>this.maxCount){var e=this.entriesList[0];e.destroyFirstPass(),e.destroySecondPass(),this.removeFromCache(e)}},n.prototype.getRow=function(t){if(t==null||t.id==null)return null;var e=this.entriesMap[t.id];if(!e)return null;this.removeFromCache(e),e.setCached(!1);var r=e.getRowNode()!=t;return r?null:e},n.prototype.has=function(t){return this.entriesMap[t.id]!=null},n.prototype.removeRow=function(t){var e=t.id,r=this.entriesMap[e];delete this.entriesMap[e],eo(this.entriesList,r)},n.prototype.removeFromCache=function(t){var e=t.getRowNode().id;delete this.entriesMap[e],eo(this.entriesList,t)},n.prototype.getEntries=function(){return this.entriesList},n}(),iPe=function(){var n=function(t,e){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])},n(t,e)};return function(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");n(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}}(),k3=function(n,t,e,r){var i=arguments.length,o=i<3?t:r===null?r=Object.getOwnPropertyDescriptor(t,e):r,a;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(n,t,e,r);else for(var s=n.length-1;s>=0;s--)(a=n[s])&&(o=(i<3?a(o):i>3?a(t,e,o):a(t,e))||o);return i>3&&o&&Object.defineProperty(t,e,o),o},KX=function(n){iPe(t,n);function t(){return n!==null&&n.apply(this,arguments)||this}return t.prototype.formatValue=function(e,r,i,o,a){a===void 0&&(a=!0);var s=null,l,u=e.getColDef();if(o?l=o:a&&(l=u.valueFormatter),l){var c=this.gridOptionsService.addGridCommonParams({value:i,node:r,data:r?r.data:null,colDef:u,column:e});typeof l=="function"?s=l(c):s=this.expressionService.evaluate(l,c)}else if(u.refData)return u.refData[i]||"";return s==null&&Array.isArray(i)&&(s=i.join(", ")),s},k3([E("expressionService")],t.prototype,"expressionService",void 0),t=k3([ae("valueFormatterService")],t),t}(q),oPe=function(){var n=function(t,e){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])},n(t,e)};return function(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");n(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}}(),iD=function(n,t,e,r){var i=arguments.length,o=i<3?t:r===null?r=Object.getOwnPropertyDescriptor(t,e):r,a;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(n,t,e,r);else for(var s=n.length-1;s>=0;s--)(a=n[s])&&(o=(i<3?a(o):i>3?a(t,e,o):a(t,e))||o);return i>3&&o&&Object.defineProperty(t,e,o),o},YX=function(n){oPe(t,n);function t(){return n!==null&&n.apply(this,arguments)||this}return t.prototype.init=function(){var e=this;this.setPinnedTopRowData(),this.setPinnedBottomRowData(),this.addManagedPropertyListener("pinnedTopRowData",function(){return e.setPinnedTopRowData()}),this.addManagedPropertyListener("pinnedBottomRowData",function(){return e.setPinnedBottomRowData()})},t.prototype.isEmpty=function(e){var r=e==="top"?this.pinnedTopRows:this.pinnedBottomRows;return Ko(r)},t.prototype.isRowsToRender=function(e){return!this.isEmpty(e)},t.prototype.getRowAtPixel=function(e,r){var i=r==="top"?this.pinnedTopRows:this.pinnedBottomRows;if(Ko(i))return 0;for(var o=0;o<i.length;o++){var a=i[o],s=a.rowTop+a.rowHeight-1;if(s>=e)return o}return i.length-1},t.prototype.setPinnedTopRowData=function(){var e=this.gridOptionsService.get("pinnedTopRowData");this.pinnedTopRows=this.createNodesFromData(e,!0);var r={type:P.EVENT_PINNED_ROW_DATA_CHANGED};this.eventService.dispatchEvent(r)},t.prototype.setPinnedBottomRowData=function(){var e=this.gridOptionsService.get("pinnedBottomRowData");this.pinnedBottomRows=this.createNodesFromData(e,!1);var r={type:P.EVENT_PINNED_ROW_DATA_CHANGED};this.eventService.dispatchEvent(r)},t.prototype.createNodesFromData=function(e,r){var i=this,o=[];if(e){var a=0;e.forEach(function(s,l){var u=new Ue(i.beans);u.data=s;var c=r?Ue.ID_PREFIX_TOP_PINNED:Ue.ID_PREFIX_BOTTOM_PINNED;u.id=c+l,u.rowPinned=r?"top":"bottom",u.setRowTop(a),u.setRowHeight(i.gridOptionsService.getRowHeightForNode(u).height),u.setRowIndex(l),a+=u.rowHeight,o.push(u)})}return o},t.prototype.getPinnedTopRowData=function(){return this.pinnedTopRows},t.prototype.getPinnedBottomRowData=function(){return this.pinnedBottomRows},t.prototype.getPinnedTopTotalHeight=function(){return this.getTotalHeight(this.pinnedTopRows)},t.prototype.getPinnedTopRowCount=function(){return this.pinnedTopRows?this.pinnedTopRows.length:0},t.prototype.getPinnedBottomRowCount=function(){return this.pinnedBottomRows?this.pinnedBottomRows.length:0},t.prototype.getPinnedTopRow=function(e){return this.pinnedTopRows[e]},t.prototype.getPinnedBottomRow=function(e){return this.pinnedBottomRows[e]},t.prototype.forEachPinnedTopRow=function(e){Ko(this.pinnedTopRows)||this.pinnedTopRows.forEach(e)},t.prototype.forEachPinnedBottomRow=function(e){Ko(this.pinnedBottomRows)||this.pinnedBottomRows.forEach(e)},t.prototype.getPinnedBottomTotalHeight=function(){return this.getTotalHeight(this.pinnedBottomRows)},t.prototype.getTotalHeight=function(e){if(!e||e.length===0)return 0;var r=bt(e);return r.rowTop+r.rowHeight},iD([E("beans")],t.prototype,"beans",void 0),iD([z],t.prototype,"init",null),t=iD([ae("pinnedRowModel")],t),t}(q),Wn;(function(n){n.Applied="Applied",n.StoreNotFound="StoreNotFound",n.StoreLoading="StoreLoading",n.StoreWaitingToLoad="StoreWaitingToLoad",n.StoreLoadingFailed="StoreLoadingFailed",n.StoreWrongType="StoreWrongType",n.Cancelled="Cancelled",n.StoreNotStarted="StoreNotStarted"})(Wn||(Wn={}));var Bg=function(){function n(t,e){this.active=!0,this.nodeIdsToColumns={},this.mapToItems={},this.keepingColumns=t,this.pathRoot={rowNode:e,children:null},this.mapToItems[e.id]=this.pathRoot}return n.prototype.setInactive=function(){this.active=!1},n.prototype.isActive=function(){return this.active},n.prototype.depthFirstSearchChangedPath=function(t,e){if(t.children)for(var r=0;r<t.children.length;r++)this.depthFirstSearchChangedPath(t.children[r],e);e(t.rowNode)},n.prototype.depthFirstSearchEverything=function(t,e,r){if(t.childrenAfterGroup)for(var i=0;i<t.childrenAfterGroup.length;i++){var o=t.childrenAfterGroup[i];o.childrenAfterGroup?this.depthFirstSearchEverything(t.childrenAfterGroup[i],e,r):r&&e(o)}e(t)},n.prototype.forEachChangedNodeDepthFirst=function(t,e,r){e===void 0&&(e=!1),r===void 0&&(r=!1),this.active&&!r?this.depthFirstSearchChangedPath(this.pathRoot,t):this.depthFirstSearchEverything(this.pathRoot.rowNode,t,e)},n.prototype.executeFromRootNode=function(t){t(this.pathRoot.rowNode)},n.prototype.createPathItems=function(t){for(var e=t,r=0;!this.mapToItems[e.id];){var i={rowNode:e,children:null};this.mapToItems[e.id]=i,r++,e=e.parent}return r},n.prototype.populateColumnsMap=function(t,e){var r=this;if(!(!this.keepingColumns||!e))for(var i=t;i;)this.nodeIdsToColumns[i.id]||(this.nodeIdsToColumns[i.id]={}),e.forEach(function(o){return r.nodeIdsToColumns[i.id][o.getId()]=!0}),i=i.parent},n.prototype.linkPathItems=function(t,e){for(var r=t,i=0;i<e;i++){var o=this.mapToItems[r.id],a=this.mapToItems[r.parent.id];a.children||(a.children=[]),a.children.push(o),r=r.parent}},n.prototype.addParentNode=function(t,e){if(!(!t||t.isRowPinned())){var r=this.createPathItems(t);this.linkPathItems(t,r),this.populateColumnsMap(t,e)}},n.prototype.canSkip=function(t){return this.active&&!this.mapToItems[t.id]},n.prototype.getValueColumnsForNode=function(t,e){if(!this.keepingColumns)return e;var r=this.nodeIdsToColumns[t.id],i=e.filter(function(o){return r[o.getId()]});return i},n.prototype.getNotValueColumnsForNode=function(t,e){if(!this.keepingColumns)return null;var r=this.nodeIdsToColumns[t.id],i=e.filter(function(o){return!r[o.getId()]});return i},n}(),aPe=function(){var n=function(t,e){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])},n(t,e)};return function(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");n(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}}(),xl=function(n){aPe(t,n);function t(e){var r=n.call(this)||this;return r.state=t.STATE_WAITING_TO_LOAD,r.version=0,r.id=e,r}return t.prototype.getId=function(){return this.id},t.prototype.load=function(){this.state=t.STATE_LOADING,this.loadFromDatasource()},t.prototype.getVersion=function(){return this.version},t.prototype.setStateWaitingToLoad=function(){this.version++,this.state=t.STATE_WAITING_TO_LOAD},t.prototype.getState=function(){return this.state},t.prototype.pageLoadFailed=function(e){var r=this.isRequestMostRecentAndLive(e);r&&(this.state=t.STATE_FAILED,this.processServerFail()),this.dispatchLoadCompleted(!1)},t.prototype.success=function(e,r){this.successCommon(e,r)},t.prototype.pageLoaded=function(e,r,i){this.successCommon(e,{rowData:r,rowCount:i})},t.prototype.isRequestMostRecentAndLive=function(e){var r=e===this.version,i=this.isAlive();return r&&i},t.prototype.successCommon=function(e,r){this.dispatchLoadCompleted();var i=this.isRequestMostRecentAndLive(e);i&&(this.state=t.STATE_LOADED,this.processServerResult(r))},t.prototype.dispatchLoadCompleted=function(e){e===void 0&&(e=!0);var r={type:t.EVENT_LOAD_COMPLETE,success:e,block:this};this.dispatchEvent(r)},t.EVENT_LOAD_COMPLETE="loadComplete",t.STATE_WAITING_TO_LOAD="needsLoading",t.STATE_LOADING="loading",t.STATE_LOADED="loaded",t.STATE_FAILED="failed",t}(q),sPe=function(){var n=function(t,e){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])},n(t,e)};return function(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");n(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}}(),g_=function(n,t,e,r){var i=arguments.length,o=i<3?t:r===null?r=Object.getOwnPropertyDescriptor(t,e):r,a;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(n,t,e,r);else for(var s=n.length-1;s>=0;s--)(a=n[s])&&(o=(i<3?a(o):i>3?a(t,e,o):a(t,e))||o);return i>3&&o&&Object.defineProperty(t,e,o),o},lPe=function(n,t){return function(e,r){t(e,r,n)}},FG=function(n){sPe(t,n);function t(){var r=n!==null&&n.apply(this,arguments)||this;return r.activeBlockLoadsCount=0,r.blocks=[],r.active=!0,r}e=t,t.prototype.postConstruct=function(){this.maxConcurrentRequests=this.getMaxConcurrentDatasourceRequests();var r=this.gridOptionsService.get("blockLoadDebounceMillis");r&&r>0&&(this.checkBlockToLoadDebounce=D.debounce(this.performCheckBlocksToLoad.bind(this),r))},t.prototype.setBeans=function(r){this.logger=r.create("RowNodeBlockLoader")},t.prototype.getMaxConcurrentDatasourceRequests=function(){var r=this.gridOptionsService.get("maxConcurrentDatasourceRequests");if(r==null)return 2;if(!(r<=0))return r},t.prototype.addBlock=function(r){this.blocks.push(r),r.addEventListener(xl.EVENT_LOAD_COMPLETE,this.loadComplete.bind(this)),this.checkBlockToLoad()},t.prototype.removeBlock=function(r){D.removeFromArray(this.blocks,r)},t.prototype.destroy=function(){n.prototype.destroy.call(this),this.active=!1},t.prototype.loadComplete=function(){this.activeBlockLoadsCount--,this.checkBlockToLoad(),this.dispatchEvent({type:e.BLOCK_LOADED_EVENT}),this.activeBlockLoadsCount==0&&this.dispatchEvent({type:e.BLOCK_LOADER_FINISHED_EVENT})},t.prototype.checkBlockToLoad=function(){this.checkBlockToLoadDebounce?this.checkBlockToLoadDebounce():this.performCheckBlocksToLoad()},t.prototype.performCheckBlocksToLoad=function(){if(this.active){if(this.printCacheStatus(),this.maxConcurrentRequests!=null&&this.activeBlockLoadsCount>=this.maxConcurrentRequests){this.logger.log("checkBlockToLoad: max loads exceeded");return}var r=this.getAvailableLoadingCount(),i=this.blocks.filter(function(o){return o.getState()===xl.STATE_WAITING_TO_LOAD}).slice(0,r);this.registerLoads(i.length),i.forEach(function(o){return o.load()}),this.printCacheStatus()}},t.prototype.getBlockState=function(){if(this.gridOptionsService.isRowModelType("serverSide")){var r=this.rowModel;return r.getBlockStates()}var i={};return this.blocks.forEach(function(o){var a=o.getBlockStateJson(),s=a.id,l=a.state;i[s]=l}),i},t.prototype.printCacheStatus=function(){this.logger.isLogging()&&this.logger.log("printCacheStatus: activePageLoadsCount = ".concat(this.activeBlockLoadsCount,",")+" blocks = ".concat(JSON.stringify(this.getBlockState())))},t.prototype.isLoading=function(){return this.activeBlockLoadsCount>0},t.prototype.registerLoads=function(r){this.activeBlockLoadsCount+=r},t.prototype.getAvailableLoadingCount=function(){return this.maxConcurrentRequests!==void 0?this.maxConcurrentRequests-this.activeBlockLoadsCount:void 0};var e;return t.BLOCK_LOADED_EVENT="blockLoaded",t.BLOCK_LOADER_FINISHED_EVENT="blockLoaderFinished",g_([E("rowModel")],t.prototype,"rowModel",void 0),g_([z],t.prototype,"postConstruct",null),g_([lPe(0,Jo("loggerFactory"))],t.prototype,"setBeans",null),t=e=g_([ae("rowNodeBlockLoader")],t),t}(q),uPe=function(){var n=function(t,e){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])},n(t,e)};return function(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");n(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}}(),oD=function(n,t,e,r){var i=arguments.length,o=i<3?t:r===null?r=Object.getOwnPropertyDescriptor(t,e):r,a;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(n,t,e,r);else for(var s=n.length-1;s>=0;s--)(a=n[s])&&(o=(i<3?a(o):i>3?a(t,e,o):a(t,e))||o);return i>3&&o&&Object.defineProperty(t,e,o),o},XX=function(n){uPe(t,n);function t(){var e=n!==null&&n.apply(this,arguments)||this;return e.currentPage=0,e.topDisplayedRowIndex=0,e.bottomDisplayedRowIndex=0,e.pixelOffset=0,e.masterRowCount=0,e}return t.prototype.postConstruct=function(){this.active=this.gridOptionsService.get("pagination"),this.pageSizeFromGridOptions=this.gridOptionsService.get("paginationPageSize"),this.paginateChildRows=this.isPaginateChildRows(),this.addManagedListener(this.eventService,P.EVENT_MODEL_UPDATED,this.onModelUpdated.bind(this)),this.addManagedPropertyListener("pagination",this.onPaginationGridOptionChanged.bind(this)),this.addManagedPropertyListener("paginationPageSize",this.onPageSizeGridOptionChanged.bind(this)),this.onModelUpdated()},t.prototype.ensureRowHeightsValid=function(e,r,i,o){var a=this.rowModel.ensureRowHeightsValid(e,r,this.getPageFirstRow(),this.getPageLastRow());return a&&this.calculatePages(),a},t.prototype.isPaginateChildRows=function(){var e=this.gridOptionsService.get("groupRemoveSingleChildren")||this.gridOptionsService.get("groupRemoveLowestSingleChildren");return e?!0:this.gridOptionsService.get("paginateChildRows")},t.prototype.onModelUpdated=function(e){this.calculatePages();var r={type:P.EVENT_PAGINATION_CHANGED,animate:e?e.animate:!1,newData:e?e.newData:!1,newPage:e?e.newPage:!1,newPageSize:e?e.newPageSize:!1,keepRenderedRows:e?e.keepRenderedRows:!1};this.eventService.dispatchEvent(r)},t.prototype.onPaginationGridOptionChanged=function(){this.active=this.gridOptionsService.get("pagination"),this.calculatePages();var e={type:P.EVENT_PAGINATION_CHANGED,animate:!1,newData:!1,newPage:!1,newPageSize:!1,keepRenderedRows:!0};this.eventService.dispatchEvent(e)},t.prototype.onPageSizeGridOptionChanged=function(){this.setPageSize(this.gridOptionsService.get("paginationPageSize"),"gridOptions")},t.prototype.goToPage=function(e){if(!(!this.active||this.currentPage===e||typeof this.currentPage!="number")){this.currentPage=e;var r={type:P.EVENT_MODEL_UPDATED,animate:!1,keepRenderedRows:!1,newData:!1,newPage:!0,newPageSize:!1};this.onModelUpdated(r)}},t.prototype.getPixelOffset=function(){return this.pixelOffset},t.prototype.getRow=function(e){return this.rowModel.getRow(e)},t.prototype.getRowNode=function(e){return this.rowModel.getRowNode(e)},t.prototype.getRowIndexAtPixel=function(e){return this.rowModel.getRowIndexAtPixel(e)},t.prototype.getCurrentPageHeight=function(){return je(this.topRowBounds)||je(this.bottomRowBounds)?0:Math.max(this.bottomRowBounds.rowTop+this.bottomRowBounds.rowHeight-this.topRowBounds.rowTop,0)},t.prototype.getCurrentPagePixelRange=function(){var e=this.topRowBounds?this.topRowBounds.rowTop:0,r=this.bottomRowBounds?this.bottomRowBounds.rowTop+this.bottomRowBounds.rowHeight:0;return{pageFirstPixel:e,pageLastPixel:r}},t.prototype.isRowPresent=function(e){if(!this.rowModel.isRowPresent(e))return!1;var r=e.rowIndex>=this.topDisplayedRowIndex&&e.rowIndex<=this.bottomDisplayedRowIndex;return r},t.prototype.isEmpty=function(){return this.rowModel.isEmpty()},t.prototype.isRowsToRender=function(){return this.rowModel.isRowsToRender()},t.prototype.forEachNode=function(e){return this.rowModel.forEachNode(e)},t.prototype.forEachNodeOnPage=function(e){for(var r=this.getPageFirstRow(),i=this.getPageLastRow(),o=r;o<=i;o++){var a=this.getRow(o);a&&e(a)}},t.prototype.getType=function(){return this.rowModel.getType()},t.prototype.getRowBounds=function(e){var r=this.rowModel.getRowBounds(e);return r.rowIndex=e,r},t.prototype.getPageFirstRow=function(){return this.topRowBounds?this.topRowBounds.rowIndex:-1},t.prototype.getPageLastRow=function(){return this.bottomRowBounds?this.bottomRowBounds.rowIndex:-1},t.prototype.getRowCount=function(){return this.rowModel.getRowCount()},t.prototype.getPageForIndex=function(e){return Math.floor(e/this.pageSize)},t.prototype.goToPageWithIndex=function(e){if(this.active){var r=this.getPageForIndex(e);this.goToPage(r)}},t.prototype.isRowInPage=function(e){if(!this.active)return!0;var r=this.getPageForIndex(e.rowIndex);return r===this.currentPage},t.prototype.isLastPageFound=function(){return this.rowModel.isLastRowIndexKnown()},t.prototype.getCurrentPage=function(){return this.currentPage},t.prototype.goToNextPage=function(){this.goToPage(this.currentPage+1)},t.prototype.goToPreviousPage=function(){this.goToPage(this.currentPage-1)},t.prototype.goToFirstPage=function(){this.goToPage(0)},t.prototype.goToLastPage=function(){var e=this.rowModel.getRowCount(),r=Math.floor(e/this.pageSize);this.goToPage(r)},t.prototype.getPageSize=function(){return this.pageSize},t.prototype.getTotalPages=function(){return this.totalPages},t.prototype.setPage=function(e){this.currentPage=e},Object.defineProperty(t.prototype,"pageSize",{get:function(){return ce(this.pageSizeAutoCalculated)?this.pageSizeAutoCalculated:ce(this.pageSizeFromPageSizeSelector)?this.pageSizeFromPageSizeSelector:ce(this.pageSizeFromInitialState)?this.pageSizeFromInitialState:ce(this.pageSizeFromGridOptions)?this.pageSizeFromGridOptions:this.defaultPageSize},enumerable:!1,configurable:!0}),t.prototype.unsetAutoCalculatedPageSize=function(){if(this.pageSizeAutoCalculated!==void 0){var e=this.pageSizeAutoCalculated;this.pageSizeAutoCalculated=void 0,this.pageSize!==e&&this.onModelUpdated({type:P.EVENT_MODEL_UPDATED,animate:!1,keepRenderedRows:!1,newData:!1,newPage:!1,newPageSize:!0})}},t.prototype.setPageSize=function(e,r){var i=this.pageSize;switch(r){case"autoCalculated":this.pageSizeAutoCalculated=e;break;case"pageSizeSelector":this.pageSizeFromPageSizeSelector=e,this.currentPage!==0&&this.goToFirstPage();break;case"initialState":this.pageSizeFromInitialState=e;break;case"gridOptions":this.pageSizeFromGridOptions=e,this.pageSizeFromInitialState=void 0,this.pageSizeFromPageSizeSelector=void 0,this.currentPage!==0&&this.goToFirstPage();break}if(i!==this.pageSize){var o={type:P.EVENT_MODEL_UPDATED,animate:!1,keepRenderedRows:!1,newData:!1,newPage:!1,newPageSize:!0};this.onModelUpdated(o)}},t.prototype.calculatePages=function(){this.active?this.paginateChildRows?this.calculatePagesAllRows():this.calculatePagesMasterRowsOnly():this.calculatedPagesNotActive(),this.topRowBounds=this.rowModel.getRowBounds(this.topDisplayedRowIndex),this.topRowBounds&&(this.topRowBounds.rowIndex=this.topDisplayedRowIndex),this.bottomRowBounds=this.rowModel.getRowBounds(this.bottomDisplayedRowIndex),this.bottomRowBounds&&(this.bottomRowBounds.rowIndex=this.bottomDisplayedRowIndex),this.setPixelOffset(ce(this.topRowBounds)?this.topRowBounds.rowTop:0)},t.prototype.setPixelOffset=function(e){this.pixelOffset!==e&&(this.pixelOffset=e,this.eventService.dispatchEvent({type:P.EVENT_PAGINATION_PIXEL_OFFSET_CHANGED}))},t.prototype.setZeroRows=function(){this.masterRowCount=0,this.topDisplayedRowIndex=0,this.bottomDisplayedRowIndex=-1,this.currentPage=0,this.totalPages=0},t.prototype.adjustCurrentPageIfInvalid=function(){this.currentPage>=this.totalPages&&(this.currentPage=this.totalPages-1),(!isFinite(this.currentPage)||isNaN(this.currentPage)||this.currentPage<0)&&(this.currentPage=0)},t.prototype.calculatePagesMasterRowsOnly=function(){if(this.masterRowCount=this.rowModel.getTopLevelRowCount(),this.masterRowCount<=0){this.setZeroRows();return}var e=this.masterRowCount-1;this.totalPages=Math.floor(e/this.pageSize)+1,this.adjustCurrentPageIfInvalid();var r=this.pageSize*this.currentPage,i=this.pageSize*(this.currentPage+1)-1;if(i>e&&(i=e),this.topDisplayedRowIndex=this.rowModel.getTopLevelRowDisplayedIndex(r),i===e)this.bottomDisplayedRowIndex=this.rowModel.getRowCount()-1;else{var o=this.rowModel.getTopLevelRowDisplayedIndex(i+1);this.bottomDisplayedRowIndex=o-1}},t.prototype.getMasterRowCount=function(){return this.masterRowCount},t.prototype.calculatePagesAllRows=function(){if(this.masterRowCount=this.rowModel.getRowCount(),this.masterRowCount===0){this.setZeroRows();return}var e=this.masterRowCount-1;this.totalPages=Math.floor(e/this.pageSize)+1,this.adjustCurrentPageIfInvalid(),this.topDisplayedRowIndex=this.pageSize*this.currentPage,this.bottomDisplayedRowIndex=this.pageSize*(this.currentPage+1)-1,this.bottomDisplayedRowIndex>e&&(this.bottomDisplayedRowIndex=e)},t.prototype.calculatedPagesNotActive=function(){this.setPageSize(this.masterRowCount,"autoCalculated"),this.totalPages=1,this.currentPage=0,this.topDisplayedRowIndex=0,this.bottomDisplayedRowIndex=this.rowModel.getRowCount()-1},oD([E("rowModel")],t.prototype,"rowModel",void 0),oD([z],t.prototype,"postConstruct",null),t=oD([ae("paginationProxy")],t),t}(q),cPe=function(){var n=function(t,e){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])},n(t,e)};return function(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");n(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}}(),G3=function(n,t,e,r){var i=arguments.length,o=i<3?t:r===null?r=Object.getOwnPropertyDescriptor(t,e):r,a;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(n,t,e,r);else for(var s=n.length-1;s>=0;s--)(a=n[s])&&(o=(i<3?a(o):i>3?a(t,e,o):a(t,e))||o);return i>3&&o&&Object.defineProperty(t,e,o),o},qX=function(n){cPe(t,n);function t(){return n!==null&&n.apply(this,arguments)||this}return t.prototype.processAllCellClasses=function(e,r,i,o){this.processClassRules(void 0,e.cellClassRules,r,i,o),this.processStaticCellClasses(e,r,i)},t.prototype.processClassRules=function(e,r,i,o,a){if(!(r==null&&e==null)){var s={},l={},u=function(f,v){f.split(" ").forEach(function(g){g.trim()!=""&&v(g)})};if(r)for(var c=Object.keys(r),d=function(f){var v=c[f],g=r[v],y;typeof g=="string"?y=p.expressionService.evaluate(g,i):typeof g=="function"&&(y=g(i)),u(v,function(m){y?s[m]=!0:l[m]=!0})},p=this,h=0;h<c.length;h++)d(h);e&&a&&Object.keys(e).forEach(function(f){return u(f,function(v){s[v]||(l[v]=!0)})}),a&&Object.keys(l).forEach(a),Object.keys(s).forEach(o)}},t.prototype.getStaticCellClasses=function(e,r){var i=e.cellClass;if(!i)return[];var o;if(typeof i=="function"){var a=i;o=a(r)}else o=i;return typeof o=="string"&&(o=[o]),o||[]},t.prototype.processStaticCellClasses=function(e,r,i){var o=this.getStaticCellClasses(e,r);o.forEach(function(a){i(a)})},G3([E("expressionService")],t.prototype,"expressionService",void 0),t=G3([ae("stylingService")],t),t}(q),dPe=function(){var n=function(t,e){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])},n(t,e)};return function(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");n(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}}(),MT=function(n){dPe(t,n);function t(e){return n.call(this,e,"ag-toggle-button")||this}return t.prototype.setValue=function(e,r){return n.prototype.setValue.call(this,e,r),this.addOrRemoveCssClass("ag-selected",this.getValue()),this},t}(Lu),pPe=function(){var n=function(t,e){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])},n(t,e)};return function(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");n(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}}(),ZX=function(n){pPe(t,n);function t(e){return n.call(this,e,"ag-text-area",null,"textarea")||this}return t.prototype.setValue=function(e,r){var i=n.prototype.setValue.call(this,e,r);return this.eInput.value=e,i},t.prototype.setCols=function(e){return this.eInput.cols=e,this},t.prototype.setRows=function(e){return this.eInput.rows=e,this},t}(dd),hPe=function(){var n=function(t,e){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])},n(t,e)};return function(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");n(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}}(),LG=function(n){hPe(t,n);function t(e){return n.call(this,e,"ag-date-field","date")||this}return t.prototype.postConstruct=function(){var e=this;n.prototype.postConstruct.call(this),this.addManagedListener(this.eInput,"wheel",this.onWheel.bind(this));var r=Xl();this.addManagedListener(this.eInput,"mousedown",function(){e.isDisabled()||r||e.eInput.focus()}),this.eInput.step="any"},t.prototype.onWheel=function(e){document.activeElement===this.eInput&&e.preventDefault()},t.prototype.setMin=function(e){var r,i=e instanceof Date?(r=Ha(e??null,!1))!==null&&r!==void 0?r:void 0:e;return this.min===i?this:(this.min=i,$l(this.eInput,"min",i),this)},t.prototype.setMax=function(e){var r,i=e instanceof Date?(r=Ha(e??null,!1))!==null&&r!==void 0?r:void 0:e;return this.max===i?this:(this.max=i,$l(this.eInput,"max",i),this)},t.prototype.setStep=function(e){return this.step===e?this:(this.step=e,$l(this.eInput,"step",e),this)},t.prototype.getDate=function(){var e;if(this.eInput.validity.valid)return(e=oo(this.getValue()))!==null&&e!==void 0?e:void 0},t.prototype.setDate=function(e,r){this.setValue(Ha(e??null,!1),r)},t}(tu),fPe=function(){var n=function(t,e){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])},n(t,e)};return function(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");n(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}}(),QX=function(n){fPe(t,n);function t(e){return n.call(this,e,"ag-range-field","range")||this}return t.prototype.postConstruct=function(){n.prototype.postConstruct.call(this);var e=this.config,r=e.min,i=e.max,o=e.step;r!=null&&this.setMinValue(r),i!=null&&this.setMaxValue(i),this.setStep(o||1)},t.prototype.addInputListeners=function(){var e=this;this.addManagedListener(this.eInput,"input",function(r){var i=r.target.value;e.setValue(i)})},t.prototype.setMinValue=function(e){return this.min=e,this.eInput.setAttribute("min",e.toString()),this},t.prototype.setMaxValue=function(e){return this.max=e,this.eInput.setAttribute("max",e.toString()),this},t.prototype.setStep=function(e){return this.eInput.setAttribute("step",e.toString()),this},t.prototype.setValue=function(e,r){this.min!=null&&(e=Math.max(parseFloat(e),this.min).toString()),this.max!=null&&(e=Math.min(parseFloat(e),this.max).toString());var i=n.prototype.setValue.call(this,e,r);return this.eInput.value=e,i},t}(dd),vPe=function(){var n=function(t,e){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])},n(t,e)};return function(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");n(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}}(),V3=function(n,t,e,r){var i=arguments.length,o=i<3?t:r===null?r=Object.getOwnPropertyDescriptor(t,e):r,a;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(n,t,e,r);else for(var s=n.length-1;s>=0;s--)(a=n[s])&&(o=(i<3?a(o):i>3?a(t,e,o):a(t,e))||o);return i>3&&o&&Object.defineProperty(t,e,o),o},gPe=function(n){vPe(t,n);function t(e,r){var i=n.call(this,'<div class="ag-rich-select-row" role="presentation"></div>')||this;return i.params=e,i.wrapperEl=r,i}return t.prototype.postConstruct=function(){this.addManagedListener(this.getGui(),"click",this.onClick.bind(this))},t.prototype.setState=function(e){var r="";this.params.valueFormatter&&(r=this.params.valueFormatter(e));var i=this.populateWithRenderer(e,r);i||this.populateWithoutRenderer(e,r),this.value=e},t.prototype.highlightString=function(e){var r=this.parsedValue;if(!(this.params.cellRenderer||!ce(r))){var i=ce(e);if(i){var o=r==null?void 0:r.toLocaleLowerCase().indexOf(e.toLocaleLowerCase());if(o>=0){var a=o+e.length,s=tn(r.slice(0,o),!0),l=tn(r.slice(o,a),!0),u=tn(r.slice(a));this.renderValueWithoutRenderer("".concat(s,'<span class="ag-rich-select-row-text-highlight">').concat(l,"</span>").concat(u))}else i=!1}i||this.renderValueWithoutRenderer(r)}},t.prototype.updateHighlighted=function(e){var r,i=this.getGui(),o="ag-rich-select-row-".concat(this.getCompId());if((r=i.parentElement)===null||r===void 0||r.setAttribute("id",o),e){var a=this.getParentComponent().getAriaElement();Uk(a,o),this.wrapperEl.setAttribute("data-active-option",o)}wg(i.parentElement,e),this.addOrRemoveCssClass("ag-rich-select-row-selected",e)},t.prototype.populateWithoutRenderer=function(e,r){var i=this.gridOptionsService.getDocument(),o=this.getGui(),a=i.createElement("span");a.style.overflow="hidden",a.style.textOverflow="ellipsis";var s=tn(ce(r)?r:e,!0);this.parsedValue=ce(s)?s:null,o.appendChild(a),this.renderValueWithoutRenderer(s)},t.prototype.renderValueWithoutRenderer=function(e){var r=this.getGui().querySelector("span");r&&(r.innerHTML=ce(e)?e:"&nbsp;")},t.prototype.populateWithRenderer=function(e,r){var i=this,o,a;return this.params.cellRenderer&&(a=this.userComponentFactory.getCellRendererDetails(this.params,{value:e,valueFormatted:r})),a&&(o=a.newAgStackInstance()),o&&hG(o,this.getGui()),o?(o.then(function(s){i.addDestroyFunc(function(){i.getContext().destroyBean(s)})}),!0):!1},t.prototype.onClick=function(){var e=this.getParentComponent(),r={type:P.EVENT_FIELD_PICKER_VALUE_SELECTED,fromEnterKey:!1,value:this.value};e==null||e.dispatchEvent(r)},V3([E("userComponentFactory")],t.prototype,"userComponentFactory",void 0),V3([z],t.prototype,"postConstruct",null),t}(de),yPe=function(){var n=function(t,e){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])},n(t,e)};return function(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");n(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}}(),y_=function(n,t,e,r){var i=arguments.length,o=i<3?t:r===null?r=Object.getOwnPropertyDescriptor(t,e):r,a;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(n,t,e,r);else for(var s=n.length-1;s>=0;s--)(a=n[s])&&(o=(i<3?a(o):i>3?a(t,e,o):a(t,e))||o);return i>3&&o&&Object.defineProperty(t,e,o),o},nf=function(n){yPe(t,n);function t(e){var r=n.call(this,t.getTemplate((e==null?void 0:e.cssIdentifier)||"default"))||this;r.renderedRows=new Map,r.rowHeight=20;var i=e||{},o=i.cssIdentifier,a=o===void 0?"default":o,s=i.ariaRole,l=s===void 0?"listbox":s,u=i.listName;return r.cssIdentifier=a,r.ariaRole=l,r.listName=u,r}return t.prototype.postConstruct=function(){var e=this;this.addScrollListener(),this.rowHeight=this.getItemHeight(),this.addResizeObserver(),this.initialiseTabGuard({onFocusIn:function(r){return e.onFocusIn(r)},onFocusOut:function(r){return e.onFocusOut(r)},focusInnerElement:function(r){return e.focusInnerElement(r)},onTabKeyDown:function(r){return e.onTabKeyDown(r)},handleKeyDown:function(r){return e.handleKeyDown(r)}}),this.setAriaProperties(),this.addManagedListener(this.eventService,P.EVENT_GRID_STYLES_CHANGED,this.onGridStylesChanged.bind(this))},t.prototype.onGridStylesChanged=function(){this.rowHeight=this.getItemHeight(),this.refresh()},t.prototype.setAriaProperties=function(){var e=this.localeService.getLocaleTextFunc(),r=e("ariaDefaultListName",this.listName||"List"),i=this.eContainer;on(i,this.ariaRole),Zd(i,r)},t.prototype.addResizeObserver=function(){var e=this,r=function(){return e.animationFrameService.requestAnimationFrame(function(){return e.drawVirtualRows()})},i=this.resizeObserverService.observeResize(this.getGui(),r);this.addDestroyFunc(i)},t.prototype.focusInnerElement=function(e){this.focusRow(e?this.model.getRowCount()-1:0)},t.prototype.onFocusIn=function(e){var r=e.target;r.classList.contains("ag-virtual-list-item")&&(this.lastFocusedRowIndex=iY(r)-1)},t.prototype.onFocusOut=function(e){this.getFocusableElement().contains(e.relatedTarget)||(this.lastFocusedRowIndex=null)},t.prototype.handleKeyDown=function(e){switch(e.key){case U.UP:case U.DOWN:this.navigate(e.key===U.UP)&&e.preventDefault();break}},t.prototype.onTabKeyDown=function(e){this.navigate(e.shiftKey)?e.preventDefault():(Fs(e),this.forceFocusOutOfContainer(e.shiftKey))},t.prototype.navigate=function(e){if(this.lastFocusedRowIndex==null)return!1;var r=this.lastFocusedRowIndex+(e?-1:1);return r<0||r>=this.model.getRowCount()?!1:(this.focusRow(r),!0)},t.prototype.getLastFocusedRow=function(){return this.lastFocusedRowIndex},t.prototype.focusRow=function(e){var r=this;this.ensureIndexVisible(e),window.setTimeout(function(){if(r.isAlive()){var i=r.renderedRows.get(e);i&&i.eDiv.focus()}},10)},t.prototype.getComponentAt=function(e){var r=this.renderedRows.get(e);return r&&r.rowComponent},t.prototype.forEachRenderedRow=function(e){this.renderedRows.forEach(function(r,i){return e(r.rowComponent,i)})},t.getTemplate=function(e){return'<div class="ag-virtual-list-viewport ag-'.concat(e,`-virtual-list-viewport" role="presentation">
                <div class="ag-virtual-list-container ag-`).concat(e,`-virtual-list-container" ref="eContainer"></div>
            </div>`)},t.prototype.getItemHeight=function(){return this.environment.getListItemHeight()},t.prototype.ensureIndexVisible=function(e,r){r===void 0&&(r=!0);var i=this.model.getRowCount();if(typeof e!="number"||e<0||e>=i)return console.warn("AG Grid: invalid row index for ensureIndexVisible: "+e),!1;var o=e*this.rowHeight,a=o+this.rowHeight,s=this.getGui(),l=s.scrollTop,u=s.offsetHeight,c=l+u,d=r?0:this.rowHeight,p=l>o+d,h=c<a-d;if(p)return s.scrollTop=o,!0;if(h){var f=a-u;return s.scrollTop=f,!0}return!1},t.prototype.setComponentCreator=function(e){this.componentCreator=e},t.prototype.setComponentUpdater=function(e){this.componentUpdater=e},t.prototype.getRowHeight=function(){return this.rowHeight},t.prototype.getScrollTop=function(){return this.getGui().scrollTop},t.prototype.setRowHeight=function(e){this.rowHeight=e,this.refresh()},t.prototype.refresh=function(e){var r=this;if(!(this.model==null||!this.isAlive())){var i=this.model.getRowCount();this.eContainer.style.height="".concat(i*this.rowHeight,"px"),Nk(function(){return r.eContainer.clientHeight>=i*r.rowHeight},function(){r.isAlive()&&(r.canSoftRefresh(e)?r.drawVirtualRows(!0):(r.clearVirtualRows(),r.drawVirtualRows()))})}},t.prototype.canSoftRefresh=function(e){return!!(e&&this.renderedRows.size&&typeof this.model.areRowsEqual=="function"&&this.componentUpdater)},t.prototype.clearVirtualRows=function(){var e=this;this.renderedRows.forEach(function(r,i){return e.removeRow(i)})},t.prototype.drawVirtualRows=function(e){if(!(!this.isAlive()||!this.model)){var r=this.getGui(),i=r.scrollTop,o=i+r.offsetHeight,a=Math.floor(i/this.rowHeight),s=Math.floor(o/this.rowHeight);this.ensureRowsRendered(a,s,e)}},t.prototype.ensureRowsRendered=function(e,r,i){var o=this;this.renderedRows.forEach(function(s,l){(l<e||l>r)&&l!==o.lastFocusedRowIndex&&o.removeRow(l)}),i&&this.refreshRows();for(var a=e;a<=r;a++)this.renderedRows.has(a)||a<this.model.getRowCount()&&this.insertRow(a)},t.prototype.insertRow=function(e){var r=this,i=this.model.getRow(e),o=document.createElement("div");o.classList.add("ag-virtual-list-item","ag-".concat(this.cssIdentifier,"-virtual-list-item")),on(o,this.ariaRole==="tree"?"treeitem":"option"),zk(o,this.model.getRowCount()),Kk(o,e+1),o.setAttribute("tabindex","-1"),o.style.height="".concat(this.rowHeight,"px"),o.style.top="".concat(this.rowHeight*e,"px");var a=this.componentCreator(i,o);a.addGuiEventListener("focusin",function(){return r.lastFocusedRowIndex=e}),o.appendChild(a.getGui()),this.renderedRows.has(e-1)?this.renderedRows.get(e-1).eDiv.insertAdjacentElement("afterend",o):this.renderedRows.has(e+1)?this.renderedRows.get(e+1).eDiv.insertAdjacentElement("beforebegin",o):this.eContainer.appendChild(o),this.renderedRows.set(e,{rowComponent:a,eDiv:o,value:i})},t.prototype.removeRow=function(e){var r=this.renderedRows.get(e);this.eContainer.removeChild(r.eDiv),this.destroyBean(r.rowComponent),this.renderedRows.delete(e)},t.prototype.refreshRows=function(){var e=this,r=this.model.getRowCount();this.renderedRows.forEach(function(i,o){var a,s;if(o>=r)e.removeRow(o);else{var l=e.model.getRow(o);!((s=(a=e.model).areRowsEqual)===null||s===void 0)&&s.call(a,i.value,l)?e.componentUpdater(l,i.rowComponent):e.removeRow(o)}})},t.prototype.addScrollListener=function(){var e=this;this.addGuiEventListener("scroll",function(){return e.drawVirtualRows()},{passive:!0})},t.prototype.setModel=function(e){this.model=e},t.prototype.getAriaElement=function(){return this.eContainer},t.prototype.destroy=function(){this.isAlive()&&(this.clearVirtualRows(),n.prototype.destroy.call(this))},y_([E("resizeObserverService")],t.prototype,"resizeObserverService",void 0),y_([E("animationFrameService")],t.prototype,"animationFrameService",void 0),y_([$("eContainer")],t.prototype,"eContainer",void 0),y_([z],t.prototype,"postConstruct",null),t}(pc),mPe=function(){var n=function(t,e){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])},n(t,e)};return function(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");n(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}}(),Ub=function(){return Ub=Object.assign||function(n){for(var t,e=1,r=arguments.length;e<r;e++){t=arguments[e];for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(n[i]=t[i])}return n},Ub.apply(this,arguments)},B3=function(n,t,e,r){var i=arguments.length,o=i<3?t:r===null?r=Object.getOwnPropertyDescriptor(t,e):r,a;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(n,t,e,r);else for(var s=n.length-1;s>=0;s--)(a=n[s])&&(o=(i<3?a(o):i>3?a(t,e,o):a(t,e))||o);return i>3&&o&&Object.defineProperty(t,e,o),o},CPe=`
    <div class="ag-picker-field" role="presentation">
        <div ref="eLabel"></div>
            <div ref="eWrapper" class="ag-wrapper ag-picker-field-wrapper ag-rich-select-value ag-picker-collapsed">
            <div ref="eDisplayField" class="ag-picker-field-display"></div>
            <ag-input-text-field ref="eInput" class="ag-rich-select-field-input"></ag-input-text-field>
            <div ref="eIcon" class="ag-picker-field-icon" aria-hidden="true"></div>
        </div>
    </div>`,Hw=function(n){mPe(t,n);function t(e){var r=this,i,o;r=n.call(this,Ub(Ub({pickerAriaLabelKey:"ariaLabelRichSelectField",pickerAriaLabelValue:"Rich Select Field",pickerType:"ag-list",className:"ag-rich-select",pickerIcon:"smallDown",ariaRole:"combobox",template:(i=e==null?void 0:e.template)!==null&&i!==void 0?i:CPe,modalPicker:!1},e),{maxPickerHeight:(o=e==null?void 0:e.maxPickerHeight)!==null&&o!==void 0?o:"calc(var(--ag-row-height) * 6.5)"}))||this,r.searchString="",r.highlightedItem=-1,r.lastRowHovered=-1,r.searchStringCreator=null;var a=e||{},s=a.cellRowHeight,l=a.value,u=a.valueList,c=a.searchStringCreator;return s!=null&&(r.cellRowHeight=s),l!==void 0&&(r.value=l),u!=null&&(r.values=u),c&&(r.searchStringCreator=c),r}return t.prototype.postConstruct=function(){var e=this;n.prototype.postConstruct.call(this),this.createLoadingElement(),this.createListComponent();var r=this.config,i=r.allowTyping,o=r.placeholder;i?(this.eInput.setAutoComplete(!1).setInputPlaceholder(o),this.eDisplayField.classList.add("ag-hidden")):this.eInput.setDisplayed(!1),this.eWrapper.tabIndex=this.gridOptionsService.get("tabIndex");var a=this.config.searchDebounceDelay,s=a===void 0?300:a;this.clearSearchString=Qo(this.clearSearchString,s),this.renderSelectedValue(),i&&(this.eInput.onValueChange(function(l){return e.searchTextFromString(l)}),this.addManagedListener(this.eWrapper,"focus",this.onWrapperFocus.bind(this))),this.addManagedListener(this.eWrapper,"focusout",this.onWrapperFocusOut.bind(this))},t.prototype.createLoadingElement=function(){var e=this.gridOptionsService.getDocument(),r=this.localeService.getLocaleTextFunc(),i=e.createElement("div");i.classList.add("ag-loading-text"),i.innerText=r("loadingOoo","Loading..."),this.eLoading=i},t.prototype.createListComponent=function(){var e=this;this.listComponent=this.createBean(new nf({cssIdentifier:"rich-select"})),this.listComponent.setComponentCreator(this.createRowComponent.bind(this));var r=function(c,d){};this.listComponent.setComponentUpdater(r),this.listComponent.setParentComponent(this),this.addManagedListener(this.listComponent,P.EVENT_FIELD_PICKER_VALUE_SELECTED,function(c){e.onListValueSelected(c.value,c.fromEnterKey)});var i=this.cellRowHeight;i&&this.listComponent.setRowHeight(i);var o=this.listComponent.getGui(),a=this.listComponent.getAriaElement();this.addManagedListener(o,"mousemove",this.onPickerMouseMove.bind(this)),this.addManagedListener(o,"mousedown",function(c){return c.preventDefault()}),o.classList.add("ag-rich-select-list");var s="ag-rich-select-list-".concat(this.listComponent.getCompId());a.setAttribute("id",s);var l=this.localeService.getLocaleTextFunc(),u=l(this.config.pickerAriaLabelKey,this.config.pickerAriaLabelValue);Zd(a,u),qk(this.eWrapper,a)},t.prototype.renderSelectedValue=function(){var e=this,r=this,i=r.value,o=r.eDisplayField,a=r.config,s=this.config,l=s.allowTyping,u=s.initialInputValue,c=this.config.valueFormatter?this.config.valueFormatter(i):i;if(l){this.eInput.setValue(u??c);return}var d;a.cellRenderer&&(d=this.userComponentFactory.getCellRendererDetails(this.config,{value:i,valueFormatted:c}));var p;if(d&&(p=d.newAgStackInstance()),p)Sn(o),hG(p,o),p.then(function(f){e.addDestroyFunc(function(){return e.getContext().destroyBean(f)})});else if(ce(this.value))o.innerText=c,o.classList.remove("ag-display-as-placeholder");else{var h=a.placeholder;ce(h)?(o.innerHTML="".concat(tn(h)),o.classList.add("ag-display-as-placeholder")):Sn(o)}},t.prototype.getCurrentValueIndex=function(){var e=this,r=e.currentList,i=e.value;if(i==null||!r)return-1;for(var o=0;o<r.length;o++)if(r[o]===i)return o;return-1},t.prototype.highlightFilterMatch=function(){var e=this,r;(r=this.listComponent)===null||r===void 0||r.forEachRenderedRow(function(i,o){i.highlightString(e.searchString)})},t.prototype.highlightSelectedValue=function(e){var r=this,i;e==null&&(e=this.getCurrentValueIndex()),this.highlightedItem=e,(i=this.listComponent)===null||i===void 0||i.forEachRenderedRow(function(o,a){var s=e===-1?!1:r.highlightedItem===a;o.updateHighlighted(s)})},t.prototype.setRowHeight=function(e){e!==this.cellRowHeight&&(this.cellRowHeight=e),this.listComponent&&this.listComponent.setRowHeight(e)},t.prototype.createPickerComponent=function(){var e=this.values;return e&&this.setValueList({valueList:e}),this.listComponent},t.prototype.setSearchStringCreator=function(e){this.searchStringCreator=e},t.prototype.setValueList=function(e){var r=e.valueList,i=e.refresh;this.listComponent&&this.currentList!==r&&(this.currentList=r,this.listComponent.setModel({getRowCount:function(){return r.length},getRow:function(o){return r[o]},areRowsEqual:function(o,a){return o===a}}),i&&(this.values?this.listComponent.refresh(!0):(this.values=r,this.isPickerDisplayed&&this.showCurrentValueInPicker())))},t.prototype.showPicker=function(){n.prototype.showPicker.call(this),this.showCurrentValueInPicker(),this.displayOrHidePicker()},t.prototype.showCurrentValueInPicker=function(){var e,r;if(this.listComponent){if(!this.currentList){this.isPickerDisplayed&&this.eLoading&&this.listComponent.appendChild(this.eLoading);return}!((e=this.eLoading)===null||e===void 0)&&e.offsetParent&&((r=this.eLoading.parentElement)===null||r===void 0||r.removeChild(this.eLoading));var i=this.getCurrentValueIndex();i!==-1?(this.listComponent.refresh(),this.listComponent.ensureIndexVisible(i),this.listComponent.refresh(!0),this.highlightSelectedValue(i)):this.listComponent.refresh()}},t.prototype.beforeHidePicker=function(){this.highlightedItem=-1,n.prototype.beforeHidePicker.call(this)},t.prototype.onWrapperFocus=function(){if(this.eInput){var e=this.eInput.getFocusableElement();e.focus(),e.select()}},t.prototype.onWrapperFocusOut=function(e){this.eWrapper.contains(e.relatedTarget)||this.hidePicker()},t.prototype.buildSearchStringFromKeyboardEvent=function(e){var r=e.key;if(r===U.BACKSPACE)this.searchString=this.searchString.slice(0,-1),r="";else if(!ET(e))return;e.preventDefault(),this.searchTextFromCharacter(r)},t.prototype.searchTextFromCharacter=function(e){this.searchString+=e,this.runSearch(),this.clearSearchString()},t.prototype.searchTextFromString=function(e){e==null&&(e=""),this.searchString=e,this.runSearch()},t.prototype.buildSearchStrings=function(e){var r=this.config.valueFormatter,i=r===void 0?function(a){return a}:r,o;return typeof e[0]=="number"||typeof e[0]=="string"?o=e.map(function(a){return i(a)}):typeof e[0]=="object"&&this.searchStringCreator&&(o=this.searchStringCreator(e)),o},t.prototype.getSuggestionsAndFilteredValues=function(e,r){var i=this,o=[],a=[];if(!e.length)return{suggestions:o,filteredValues:a};var s=this.config,l=s.searchType,u=l===void 0?"fuzzy":l,c=s.filterList;if(u==="fuzzy"){var d=Nw(this.searchString,r,!0);o=d.values;var p=d.indices;if(c&&p.length)for(var h=0;h<p.length;h++)a.push(this.values[p[h]])}else o=r.filter(function(f,v){var g=f.toLocaleLowerCase(),y=i.searchString.toLocaleLowerCase(),m=u==="match"?g.startsWith(y):g.indexOf(y)!==-1;return c&&m&&a.push(i.values[v]),m});return{suggestions:o,filteredValues:a}},t.prototype.filterListModel=function(e){var r=this.config.filterList;r&&(this.setValueList({valueList:e,refresh:!0}),this.alignPickerToComponent())},t.prototype.runSearch=function(){var e,r,i=this.values,o=this.buildSearchStrings(i);if(!o){this.highlightSelectedValue(-1);return}var a=this.getSuggestionsAndFilteredValues(this.searchString,o),s=a.suggestions,l=a.filteredValues,u=this.config,c=u.filterList,d=u.highlightMatch,p=u.searchType,h=p===void 0?"fuzzy":p,f=l.length,v=!!(c&&this.searchString!=="");if(this.filterListModel(v?l:i),s.length){var g=v?0:o.indexOf(s[0]);this.selectListItem(g)}else if(this.highlightSelectedValue(-1),!v||f)(e=this.listComponent)===null||e===void 0||e.ensureIndexVisible(0);else if(v){this.getAriaElement().removeAttribute("data-active-option");var y=(r=this.listComponent)===null||r===void 0?void 0:r.getAriaElement();y&&Uk(y,null)}d&&h!=="fuzzy"&&this.highlightFilterMatch(),this.displayOrHidePicker()},t.prototype.displayOrHidePicker=function(){var e,r=(e=this.listComponent)===null||e===void 0?void 0:e.getGui(),i=this.currentList?this.currentList.length===0:!1;r==null||r.classList.toggle("ag-hidden",i)},t.prototype.clearSearchString=function(){this.searchString=""},t.prototype.selectListItem=function(e,r){if(!(!this.isPickerDisplayed||!this.currentList||!this.listComponent||e<0||e>=this.currentList.length)){var i=this.listComponent.ensureIndexVisible(e,!r);i&&!r&&this.listComponent.refresh(!0),this.highlightSelectedValue(e)}},t.prototype.setValue=function(e,r,i){var o=this.currentList?this.currentList.indexOf(e):-1;return o===-1?this:(this.value=e,i||this.selectListItem(o),this.renderSelectedValue(),n.prototype.setValue.call(this,e,r))},t.prototype.createRowComponent=function(e){var r=new gPe(this.config,this.eWrapper);r.setParentComponent(this.listComponent),this.getContext().createBean(r),r.setState(e);var i=this.config,o=i.highlightMatch,a=i.searchType,s=a===void 0?"fuzzy":a;return o&&s!=="fuzzy"&&r.highlightString(this.searchString),r},t.prototype.getRowForMouseEvent=function(e){var r=this.listComponent;if(!r)return-1;var i=r==null?void 0:r.getGui(),o=i.getBoundingClientRect(),a=r.getScrollTop(),s=e.clientY-o.top+a;return Math.floor(s/r.getRowHeight())},t.prototype.onPickerMouseMove=function(e){if(this.listComponent){var r=this.getRowForMouseEvent(e);r!==-1&&r!=this.lastRowHovered&&(this.lastRowHovered=r,this.selectListItem(r,!0))}},t.prototype.onNavigationKeyDown=function(e,r){e.preventDefault();var i=r===U.DOWN;if(!this.isPickerDisplayed&&i){this.showPicker();return}var o=this.highlightedItem,a=i?1:-1,s=o===-1?0:o+a;this.selectListItem(s)},t.prototype.onEnterKeyDown=function(e){this.isPickerDisplayed&&(e.preventDefault(),this.currentList&&this.onListValueSelected(this.currentList[this.highlightedItem],!0))},t.prototype.onTabKeyDown=function(){!this.isPickerDisplayed||!this.currentList||this.setValue(this.currentList[this.highlightedItem],!1,!0)},t.prototype.onListValueSelected=function(e,r){this.setValue(e,!1,!0),this.dispatchPickerEvent(e,r),this.hidePicker()},t.prototype.dispatchPickerEvent=function(e,r){var i={type:P.EVENT_FIELD_PICKER_VALUE_SELECTED,fromEnterKey:r,value:e};this.dispatchEvent(i)},t.prototype.getFocusableElement=function(){var e=this.config.allowTyping;return e?this.eInput.getFocusableElement():n.prototype.getFocusableElement.call(this)},t.prototype.onKeyDown=function(e){var r=e.key,i=this.config.allowTyping;switch(r){case U.LEFT:case U.RIGHT:case U.PAGE_HOME:case U.PAGE_END:i||e.preventDefault();break;case U.PAGE_UP:case U.PAGE_DOWN:e.preventDefault();break;case U.DOWN:case U.UP:this.onNavigationKeyDown(e,r);break;case U.ESCAPE:this.isPickerDisplayed&&(aa(this.listComponent.getGui())&&(e.preventDefault(),Fs(e)),this.hidePicker());break;case U.ENTER:this.onEnterKeyDown(e);break;case U.TAB:this.onTabKeyDown();break;default:i||this.buildSearchStringFromKeyboardEvent(e)}},t.prototype.destroy=function(){this.listComponent&&(this.destroyBean(this.listComponent),this.listComponent=void 0),this.eLoading=void 0,n.prototype.destroy.call(this)},B3([E("userComponentFactory")],t.prototype,"userComponentFactory",void 0),B3([$("eInput")],t.prototype,"eInput",void 0),t}(OT),SPe=function(){var n=function(t,e){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])},n(t,e)};return function(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");n(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}}(),m_=function(n,t,e,r){var i=arguments.length,o=i<3?t:r===null?r=Object.getOwnPropertyDescriptor(t,e):r,a;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(n,t,e,r);else for(var s=n.length-1;s>=0;s--)(a=n[s])&&(o=(i<3?a(o):i>3?a(t,e,o):a(t,e))||o);return i>3&&o&&Object.defineProperty(t,e,o),o},Wo=function(n){SPe(t,n);function t(e){var r=n.call(this,e,t.TEMPLATE)||this;return r.labelAlignment="top",r}return t.prototype.init=function(){this.eSlider.addCssClass("ag-slider-field")},t.prototype.onValueChange=function(e){var r=this,i=P.EVENT_FIELD_VALUE_CHANGED;return this.addManagedListener(this.eText,i,function(){var o=parseFloat(r.eText.getValue());r.eSlider.setValue(o.toString(),!0),e(o||0)}),this.addManagedListener(this.eSlider,i,function(){var o=r.eSlider.getValue();r.eText.setValue(o,!0),e(parseFloat(o))}),this},t.prototype.setSliderWidth=function(e){return this.eSlider.setWidth(e),this},t.prototype.setTextFieldWidth=function(e){return this.eText.setWidth(e),this},t.prototype.setMinValue=function(e){return this.eSlider.setMinValue(e),this.eText.setMin(e),this},t.prototype.setMaxValue=function(e){return this.eSlider.setMaxValue(e),this.eText.setMax(e),this},t.prototype.getValue=function(){return this.eText.getValue()},t.prototype.setValue=function(e){return this.getValue()===e?this:(this.eText.setValue(e,!0),this.eSlider.setValue(e,!0),this.dispatchEvent({type:P.EVENT_FIELD_VALUE_CHANGED}),this)},t.prototype.setStep=function(e){return this.eSlider.setStep(e),this.eText.setStep(e),this},t.TEMPLATE=`<div class="ag-slider">
            <label ref="eLabel"></label>
            <div class="ag-wrapper ag-slider-wrapper">
                <ag-input-range ref="eSlider"></ag-input-range>
                <ag-input-number-field ref="eText"></ag-input-number-field>
            </div>
        </div>`,m_([$("eLabel")],t.prototype,"eLabel",void 0),m_([$("eSlider")],t.prototype,"eSlider",void 0),m_([$("eText")],t.prototype,"eText",void 0),m_([z],t.prototype,"init",null),t}(bT),wPe=function(){var n=function(t,e){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])},n(t,e)};return function(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");n(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}}(),Mc=function(n,t,e,r){var i=arguments.length,o=i<3?t:r===null?r=Object.getOwnPropertyDescriptor(t,e):r,a;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(n,t,e,r);else for(var s=n.length-1;s>=0;s--)(a=n[s])&&(o=(i<3?a(o):i>3?a(t,e,o):a(t,e))||o);return i>3&&o&&Object.defineProperty(t,e,o),o},Na=function(n){wPe(t,n);function t(e){e===void 0&&(e={});var r=n.call(this,t.getTemplate(e))||this;r.suppressEnabledCheckbox=!0,r.suppressOpenCloseIcons=!1;var i=e.title,o=e.enabled,a=e.items,s=e.suppressEnabledCheckbox,l=e.suppressOpenCloseIcons;return r.title=i,r.cssIdentifier=e.cssIdentifier||"default",r.enabled=o??!0,r.items=a||[],r.alignItems=e.alignItems||"center",s!=null&&(r.suppressEnabledCheckbox=s),l!=null&&(r.suppressOpenCloseIcons=l),r}return t.getTemplate=function(e){var r=e.cssIdentifier||"default",i=e.direction||"vertical";return'<div class="ag-group ag-'.concat(r,`-group" role="presentation">
            <div class="ag-group-title-bar ag-`).concat(r,`-group-title-bar ag-unselectable" ref="eTitleBar" role="button">
                <span class="ag-group-title-bar-icon ag-`).concat(r,`-group-title-bar-icon" ref="eGroupOpenedIcon" role="presentation"></span>
                <span class="ag-group-title-bar-icon ag-`).concat(r,`-group-title-bar-icon" ref="eGroupClosedIcon" role="presentation"></span>
                <span ref="eTitle" class="ag-group-title ag-`).concat(r,`-group-title"></span>
            </div>
            <div ref="eToolbar" class="ag-group-toolbar ag-`).concat(r,`-group-toolbar">
                <ag-checkbox ref="cbGroupEnabled"></ag-checkbox>
            </div>
            <div ref="eContainer" class="ag-group-container ag-group-container-`).concat(i," ag-").concat(r,`-group-container"></div>
        </div>`)},t.prototype.postConstruct=function(){if(this.items.length){var e=this.items;this.items=[],this.addItems(e)}var r=this.localeService.getLocaleTextFunc();this.cbGroupEnabled.setLabel(r("enabled","Enabled")),this.title&&this.setTitle(this.title),this.enabled&&this.setEnabled(this.enabled),this.setAlignItems(this.alignItems),this.hideEnabledCheckbox(this.suppressEnabledCheckbox),this.hideOpenCloseIcons(this.suppressOpenCloseIcons),this.setupExpandContract(),this.refreshAriaStatus(),this.refreshChildDisplay()},t.prototype.setupExpandContract=function(){var e=this;this.eGroupClosedIcon.appendChild(xa("columnSelectClosed",this.gridOptionsService,null)),this.eGroupOpenedIcon.appendChild(xa("columnSelectOpen",this.gridOptionsService,null)),this.addManagedListener(this.eTitleBar,"click",function(){return e.toggleGroupExpand()}),this.addManagedListener(this.eTitleBar,"keydown",function(r){switch(r.key){case U.ENTER:case U.SPACE:r.preventDefault(),e.toggleGroupExpand();break;case U.RIGHT:case U.LEFT:r.preventDefault(),e.toggleGroupExpand(r.key===U.RIGHT);break}})},t.prototype.refreshAriaStatus=function(){this.suppressOpenCloseIcons||Ju(this.eTitleBar,this.expanded)},t.prototype.refreshChildDisplay=function(){var e=!this.suppressOpenCloseIcons;mt(this.eToolbar,this.expanded&&!this.suppressEnabledCheckbox),mt(this.eGroupOpenedIcon,e&&this.expanded),mt(this.eGroupClosedIcon,e&&!this.expanded)},t.prototype.isExpanded=function(){return this.expanded},t.prototype.setAlignItems=function(e){this.alignItems!==e&&this.removeCssClass("ag-group-item-alignment-".concat(this.alignItems)),this.alignItems=e;var r="ag-group-item-alignment-".concat(this.alignItems);return this.addCssClass(r),this},t.prototype.toggleGroupExpand=function(e){return this.suppressOpenCloseIcons?(this.expanded=!0,this.refreshChildDisplay(),mt(this.eContainer,!0),this):(e=e??!this.expanded,this.expanded===e?this:(this.expanded=e,this.refreshAriaStatus(),this.refreshChildDisplay(),mt(this.eContainer,e),this.dispatchEvent({type:this.expanded?t.EVENT_EXPANDED:t.EVENT_COLLAPSED}),this))},t.prototype.addItems=function(e){var r=this;e.forEach(function(i){return r.addItem(i)})},t.prototype.prependItem=function(e){this.insertItem(e,this.eContainer.firstChild)},t.prototype.addItem=function(e){this.insertItem(e,null)},t.prototype.insertItem=function(e,r){var i=this.eContainer,o=e instanceof de?e.getGui():e;o.classList.add("ag-group-item","ag-".concat(this.cssIdentifier,"-group-item")),i.insertBefore(o,r),this.items.push(o)},t.prototype.hideItem=function(e,r){var i=this.items[r];mt(i,!e)},t.prototype.setTitle=function(e){return this.eTitle.innerText=e,this},t.prototype.addCssClassToTitleBar=function(e){this.eTitleBar.classList.add(e)},t.prototype.setEnabled=function(e,r){return this.enabled=e,this.refreshDisabledStyles(),this.toggleGroupExpand(e),r||this.cbGroupEnabled.setValue(e),this},t.prototype.isEnabled=function(){return this.enabled},t.prototype.onEnableChange=function(e){var r=this;return this.cbGroupEnabled.onValueChange(function(i){r.setEnabled(i,!0),e(i)}),this},t.prototype.hideEnabledCheckbox=function(e){return this.suppressEnabledCheckbox=e,this.refreshChildDisplay(),this.refreshDisabledStyles(),this},t.prototype.hideOpenCloseIcons=function(e){return this.suppressOpenCloseIcons=e,e&&this.toggleGroupExpand(!0),this},t.prototype.refreshDisabledStyles=function(){this.addOrRemoveCssClass("ag-disabled",!this.enabled),this.suppressEnabledCheckbox&&!this.enabled?(this.eTitleBar.classList.add("ag-disabled-group-title-bar"),this.eTitleBar.removeAttribute("tabindex")):(this.eTitleBar.classList.remove("ag-disabled-group-title-bar"),this.eTitleBar.setAttribute("tabindex","0")),this.eContainer.classList.toggle("ag-disabled-group-container",!this.enabled)},t.EVENT_EXPANDED="expanded",t.EVENT_COLLAPSED="collapsed",Mc([$("eTitleBar")],t.prototype,"eTitleBar",void 0),Mc([$("eGroupOpenedIcon")],t.prototype,"eGroupOpenedIcon",void 0),Mc([$("eGroupClosedIcon")],t.prototype,"eGroupClosedIcon",void 0),Mc([$("eToolbar")],t.prototype,"eToolbar",void 0),Mc([$("cbGroupEnabled")],t.prototype,"cbGroupEnabled",void 0),Mc([$("eTitle")],t.prototype,"eTitle",void 0),Mc([$("eContainer")],t.prototype,"eContainer",void 0),Mc([z],t.prototype,"postConstruct",null),t}(de),_Pe=function(){var n=function(t,e){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])},n(t,e)};return function(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");n(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}}(),H3=function(n,t,e,r){var i=arguments.length,o=i<3?t:r===null?r=Object.getOwnPropertyDescriptor(t,e):r,a;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(n,t,e,r);else for(var s=n.length-1;s>=0;s--)(a=n[s])&&(o=(i<3?a(o):i>3?a(t,e,o):a(t,e))||o);return i>3&&o&&Object.defineProperty(t,e,o),o},jw=function(n){_Pe(t,n);function t(e,r){e===void 0&&(e=0);var i=n.call(this,'<div class="ag-menu-list" role="tree"></div>')||this;return i.level=e,i.menuItems=[],i.params=r??{column:null,node:null,value:null},i}return t.prototype.postConstruct=function(){var e=this;this.initialiseTabGuard({onTabKeyDown:function(r){return e.onTabKeyDown(r)},handleKeyDown:function(r){return e.handleKeyDown(r)},onFocusIn:function(r){return e.handleFocusIn(r)},onFocusOut:function(r){return e.handleFocusOut(r)}})},t.prototype.onTabKeyDown=function(e){var r=this.getParentComponent(),i=r&&r.getGui(),o=i&&i.classList.contains("ag-focus-managed");o||e.preventDefault(),e.shiftKey&&this.closeIfIsChild(e)},t.prototype.handleKeyDown=function(e){switch(e.key){case U.UP:case U.RIGHT:case U.DOWN:case U.LEFT:e.preventDefault(),this.handleNavKey(e.key);break;case U.ESCAPE:this.closeIfIsChild()&&Fs(e);break}},t.prototype.handleFocusIn=function(e){var r,i,o=e.relatedTarget;!this.tabGuardCtrl.isTabGuard(o)&&(this.getGui().contains(o)||!((i=(r=this.activeMenuItem)===null||r===void 0?void 0:r.getSubMenuGui())===null||i===void 0)&&i.contains(o))||(this.activeMenuItem?this.activeMenuItem.activate():this.activateFirstItem())},t.prototype.handleFocusOut=function(e){var r,i=e.relatedTarget;!this.activeMenuItem||this.getGui().contains(i)||!((r=this.activeMenuItem.getSubMenuGui())===null||r===void 0)&&r.contains(i)||this.activeMenuItem.isSubMenuOpening()||this.activeMenuItem.deactivate()},t.prototype.clearActiveItem=function(){this.activeMenuItem&&(this.activeMenuItem.deactivate(),this.activeMenuItem=null)},t.prototype.addMenuItems=function(e){var r=this;e!=null&&Qe.all(e.map(function(i){return i==="separator"?Qe.resolve({eGui:r.createSeparator()}):typeof i=="string"?(console.warn("AG Grid: unrecognised menu item ".concat(i)),Qe.resolve({eGui:null})):r.addItem(i)})).then(function(i){i.forEach(function(o){o!=null&&o.eGui&&(r.appendChild(o.eGui),o.comp&&r.menuItems.push(o.comp))})})},t.prototype.addItem=function(e){var r=this,i=this.createManagedBean(new ka);return i.init({menuItemDef:e,isAnotherSubMenuOpen:function(){return r.menuItems.some(function(o){return o.isSubMenuOpen()})},level:this.level,contextParams:this.params}).then(function(){return i.setParentComponent(r),r.addManagedListener(i,ka.EVENT_CLOSE_MENU,function(o){r.dispatchEvent(o)}),r.addManagedListener(i,ka.EVENT_MENU_ITEM_ACTIVATED,function(o){r.activeMenuItem&&r.activeMenuItem!==o.menuItem&&r.activeMenuItem.deactivate(),r.activeMenuItem=o.menuItem}),{comp:i,eGui:i.getGui()}})},t.prototype.activateFirstItem=function(){var e=this.menuItems.filter(function(r){return!r.isDisabled()})[0];e&&e.activate()},t.prototype.createSeparator=function(){var e=`
            <div class="ag-menu-separator" aria-hidden="true">
                <div class="ag-menu-separator-part"></div>
                <div class="ag-menu-separator-part"></div>
                <div class="ag-menu-separator-part"></div>
                <div class="ag-menu-separator-part"></div>
            </div>`;return ao(e)},t.prototype.handleNavKey=function(e){switch(e){case U.UP:case U.DOWN:var r=this.findNextItem(e===U.UP);r&&r!==this.activeMenuItem&&r.activate();return}var i=this.gridOptionsService.get("enableRtl")?U.RIGHT:U.LEFT;e===i?this.closeIfIsChild():this.openChild()},t.prototype.closeIfIsChild=function(e){var r=this.getParentComponent();return r&&r instanceof ka?(e&&e.preventDefault(),r.closeSubMenu(),r.getGui().focus(),!0):!1},t.prototype.openChild=function(){this.activeMenuItem&&this.activeMenuItem.openSubMenu(!0)},t.prototype.findNextItem=function(e){var r=this.menuItems.filter(function(l){return!l.isDisabled()});if(r.length){if(!this.activeMenuItem)return e?bt(r):r[0];e&&r.reverse();for(var i,o=!1,a=0;a<r.length;a++){var s=r[a];if(!o){s===this.activeMenuItem&&(o=!0);continue}i=s;break}return o&&!i?r[0]:i||this.activeMenuItem}},t.prototype.destroy=function(){this.clearActiveItem(),n.prototype.destroy.call(this)},H3([E("focusService")],t.prototype,"focusService",void 0),H3([z],t.prototype,"postConstruct",null),t}(pc),xPe=function(){var n=function(t,e){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])},n(t,e)};return function(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");n(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}}(),EPe=function(n,t,e,r){var i=arguments.length,o=i<3?t:r===null?r=Object.getOwnPropertyDescriptor(t,e):r,a;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(n,t,e,r);else for(var s=n.length-1;s>=0;s--)(a=n[s])&&(o=(i<3?a(o):i>3?a(t,e,o):a(t,e))||o);return i>3&&o&&Object.defineProperty(t,e,o),o},JX=function(n){xPe(t,n);function t(e){var r=n.call(this)||this;return r.wrappedComponent=e,r.setTemplateFromElement(e.getGui()),r}return t.prototype.postConstruct=function(){var e=this;this.initialiseTabGuard({onTabKeyDown:function(r){return e.onTabKeyDown(r)},handleKeyDown:function(r){return e.handleKeyDown(r)}})},t.prototype.handleKeyDown=function(e){e.key===U.ESCAPE&&this.closePanel()},t.prototype.onTabKeyDown=function(e){e.defaultPrevented||(this.closePanel(),e.preventDefault())},t.prototype.closePanel=function(){var e=this.parentComponent;e.closeSubMenu(),setTimeout(function(){return e.getGui().focus()},0)},EPe([z],t.prototype,"postConstruct",null),t}(pc),bPe=function(){var n=function(t,e){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])},n(t,e)};return function(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");n(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}}(),TC=function(){return TC=Object.assign||function(n){for(var t,e=1,r=arguments.length;e<r;e++){t=arguments[e];for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(n[i]=t[i])}return n},TC.apply(this,arguments)},aD=function(n,t,e,r){var i=arguments.length,o=i<3?t:r===null?r=Object.getOwnPropertyDescriptor(t,e):r,a;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(n,t,e,r);else for(var s=n.length-1;s>=0;s--)(a=n[s])&&(o=(i<3?a(o):i>3?a(t,e,o):a(t,e))||o);return i>3&&o&&Object.defineProperty(t,e,o),o},ka=function(n){bPe(t,n);function t(){var e=n!==null&&n.apply(this,arguments)||this;return e.isActive=!1,e.subMenuIsOpen=!1,e.subMenuIsOpening=!1,e.suppressRootStyles=!0,e.suppressAria=!0,e.suppressFocus=!0,e}return t.prototype.init=function(e){var r=this,i,o,a=e.menuItemDef,s=e.isAnotherSubMenuOpen,l=e.level,u=e.childComponent,c=e.contextParams;this.params=e.menuItemDef,this.level=l,this.isAnotherSubMenuOpen=s,this.childComponent=u,this.contextParams=c,this.cssClassPrefix=(o=(i=this.params.menuItemParams)===null||i===void 0?void 0:i.cssClassPrefix)!==null&&o!==void 0?o:"ag-menu-option";var d=this.userComponentFactory.getMenuItemCompDetails(this.params,TC(TC({},a),{level:l,isAnotherSubMenuOpen:s,openSubMenu:function(p){return r.openSubMenu(p)},closeSubMenu:function(){return r.closeSubMenu()},closeMenu:function(p){return r.closeMenu(p)},updateTooltip:function(p){return r.updateTooltip(p)},onItemActivated:function(){return r.onItemActivated()}}));return d.newAgStackInstance().then(function(p){var h;r.menuItemComp=p;var f=(h=p.configureDefaults)===null||h===void 0?void 0:h.call(p);f&&r.configureDefaults(f===!0?void 0:f)})},t.prototype.addListeners=function(e,r){var i=this;r!=null&&r.suppressClick||this.addManagedListener(e,"click",function(o){return i.onItemSelected(o)}),r!=null&&r.suppressKeyboardSelect||this.addManagedListener(e,"keydown",function(o){(o.key===U.ENTER||o.key===U.SPACE)&&(o.preventDefault(),i.onItemSelected(o))}),r!=null&&r.suppressMouseDown||this.addManagedListener(e,"mousedown",function(o){o.stopPropagation(),o.preventDefault()}),r!=null&&r.suppressMouseOver||(this.addManagedListener(e,"mouseenter",function(){return i.onMouseEnter()}),this.addManagedListener(e,"mouseleave",function(){return i.onMouseLeave()}))},t.prototype.isDisabled=function(){return!!this.params.disabled},t.prototype.openSubMenu=function(e){var r=this,i,o;if(e===void 0&&(e=!1),this.closeSubMenu(),!!this.params.subMenu){this.subMenuIsOpening=!0;var a=ao('<div class="ag-menu" role="presentation"></div>');this.eSubMenuGui=a;var s,l=function(){r.subMenuIsOpening=!1};if(this.childComponent){var u=this.createBean(new JX(this.childComponent));u.setParentComponent(this);var c=u.getGui(),d="mouseenter",p=function(){return r.cancelDeactivate()};c.addEventListener(d,p),s=function(){return c.removeEventListener(d,p)},a.appendChild(c),this.childComponent.afterGuiAttached&&(l=function(){r.childComponent.afterGuiAttached(),r.subMenuIsOpening=!1})}else if(this.params.subMenu){var h=this.createBean(new jw(this.level+1,this.contextParams));h.setParentComponent(this),h.addMenuItems(this.params.subMenu),a.appendChild(h.getGui()),this.addManagedListener(h,t.EVENT_CLOSE_MENU,function(y){return r.dispatchEvent(y)}),h.addGuiEventListener("mouseenter",function(){return r.cancelDeactivate()}),s=function(){return r.destroyBean(h)},e&&(l=function(){h.activateFirstItem(),r.subMenuIsOpening=!1})}var f=this.popupService.positionPopupForMenu.bind(this.popupService,{eventSource:this.eGui,ePopup:a}),v=this.localeService.getLocaleTextFunc(),g=this.popupService.addPopup({modal:!0,eChild:a,positionCallback:f,anchorToElement:this.eGui,ariaLabel:v("ariaLabelSubMenu","SubMenu"),afterGuiAttached:l});this.subMenuIsOpen=!0,this.setAriaExpanded(!0),this.hideSubMenu=function(){var y,m;g&&g.hideFunc(),r.subMenuIsOpen=!1,r.setAriaExpanded(!1),s(),(m=(y=r.menuItemComp).setExpanded)===null||m===void 0||m.call(y,!1),r.eSubMenuGui=void 0},(o=(i=this.menuItemComp).setExpanded)===null||o===void 0||o.call(i,!0)}},t.prototype.setAriaExpanded=function(e){this.suppressAria||Ju(this.eGui,e)},t.prototype.closeSubMenu=function(){this.hideSubMenu&&(this.hideSubMenu(),this.hideSubMenu=null,this.setAriaExpanded(!1))},t.prototype.isSubMenuOpen=function(){return this.subMenuIsOpen},t.prototype.isSubMenuOpening=function(){return this.subMenuIsOpening},t.prototype.activate=function(e){var r=this,i,o;this.cancelActivate(),!this.params.disabled&&(this.isActive=!0,this.suppressRootStyles||this.eGui.classList.add("".concat(this.cssClassPrefix,"-active")),(o=(i=this.menuItemComp).setActive)===null||o===void 0||o.call(i,!0),this.suppressFocus||this.eGui.focus({preventScroll:!0}),e&&this.params.subMenu&&window.setTimeout(function(){r.isAlive()&&r.isActive&&r.openSubMenu()},300),this.onItemActivated())},t.prototype.deactivate=function(){var e,r;this.cancelDeactivate(),this.suppressRootStyles||this.eGui.classList.remove("".concat(this.cssClassPrefix,"-active")),(r=(e=this.menuItemComp).setActive)===null||r===void 0||r.call(e,!1),this.isActive=!1,this.subMenuIsOpen&&this.hideSubMenu()},t.prototype.getGui=function(){return this.menuItemComp.getGui()},t.prototype.getParentComponent=function(){return this.parentComponent},t.prototype.setParentComponent=function(e){this.parentComponent=e},t.prototype.getSubMenuGui=function(){return this.eSubMenuGui},t.prototype.onItemSelected=function(e){var r=this,i,o;(o=(i=this.menuItemComp).select)===null||o===void 0||o.call(i),this.params.action?this.getFrameworkOverrides().wrapOutgoing(function(){return r.params.action(r.gridOptionsService.addGridCommonParams(TC({},r.contextParams)))}):this.openSubMenu(e&&e.type==="keydown"),!(this.params.subMenu&&!this.params.action||this.params.suppressCloseOnSelect)&&this.closeMenu(e)},t.prototype.closeMenu=function(e){var r={type:t.EVENT_CLOSE_MENU,event:e};this.dispatchEvent(r)},t.prototype.onItemActivated=function(){var e={type:t.EVENT_MENU_ITEM_ACTIVATED,menuItem:this};this.dispatchEvent(e)},t.prototype.cancelActivate=function(){this.activateTimeoutId&&(window.clearTimeout(this.activateTimeoutId),this.activateTimeoutId=0)},t.prototype.cancelDeactivate=function(){this.deactivateTimeoutId&&(window.clearTimeout(this.deactivateTimeoutId),this.deactivateTimeoutId=0)},t.prototype.onMouseEnter=function(){var e=this;this.cancelDeactivate(),this.isAnotherSubMenuOpen()?this.activateTimeoutId=window.setTimeout(function(){return e.activate(!0)},t.ACTIVATION_DELAY):this.activate(!0)},t.prototype.onMouseLeave=function(){var e=this;this.cancelActivate(),this.isSubMenuOpen()?this.deactivateTimeoutId=window.setTimeout(function(){return e.deactivate()},t.ACTIVATION_DELAY):this.deactivate()},t.prototype.configureDefaults=function(e){var r=this,i,o,a;if(this.tooltip=this.params.tooltip,!this.menuItemComp){setTimeout(function(){return r.configureDefaults(e)});return}var s=this.menuItemComp.getGui(),l=(o=(i=this.menuItemComp).getRootElement)===null||o===void 0?void 0:o.call(i);l&&(e!=null&&e.suppressRootStyles||s.classList.add("ag-menu-option-custom"),s=l),this.eGui=s,this.suppressRootStyles=!!(e!=null&&e.suppressRootStyles),this.suppressRootStyles||(s.classList.add(this.cssClassPrefix),(a=this.params.cssClasses)===null||a===void 0||a.forEach(function(u){return s.classList.add(u)}),this.params.disabled&&s.classList.add("".concat(this.cssClassPrefix,"-disabled"))),e!=null&&e.suppressTooltip||this.setTooltip(),this.suppressAria=!!(e!=null&&e.suppressAria),this.suppressAria||(on(s,"treeitem"),lY(s,this.level+1),this.params.disabled&&Wk(s,!0)),e!=null&&e.suppressTabIndex||s.setAttribute("tabindex","-1"),this.params.disabled||this.addListeners(s,e),this.suppressFocus=!!(e!=null&&e.suppressFocus)},t.prototype.updateTooltip=function(e){this.tooltip=e,!this.tooltipFeature&&this.menuItemComp&&this.setTooltip()},t.prototype.setTooltip=function(){var e=this;this.tooltip&&(this.tooltipFeature=this.createManagedBean(new Ma({getGui:function(){return e.getGui()},getTooltipValue:function(){return e.tooltip},getLocation:function(){return"menu"}},this.beans)),this.tooltipFeature.setComp(this.getGui()))},t.EVENT_CLOSE_MENU="closeMenu",t.EVENT_MENU_ITEM_ACTIVATED="menuItemActivated",t.ACTIVATION_DELAY=80,aD([E("popupService")],t.prototype,"popupService",void 0),aD([E("userComponentFactory")],t.prototype,"userComponentFactory",void 0),aD([E("beans")],t.prototype,"beans",void 0),t}(q),OPe=function(){var n=function(t,e){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])},n(t,e)};return function(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");n(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}}(),Uy=function(n,t,e,r){var i=arguments.length,o=i<3?t:r===null?r=Object.getOwnPropertyDescriptor(t,e):r,a;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(n,t,e,r);else for(var s=n.length-1;s>=0;s--)(a=n[s])&&(o=(i<3?a(o):i>3?a(t,e,o):a(t,e))||o);return i>3&&o&&Object.defineProperty(t,e,o),o},IG=function(n){OPe(t,n);function t(e){var r=n.call(this,t.getTemplate(e))||this;return r.config=e,r.closable=!0,r}return t.getTemplate=function(e){var r=e.cssIdentifier||"default";return'<div class="ag-panel ag-'.concat(r,`-panel" tabindex="-1">
            <div ref="eTitleBar" class="ag-panel-title-bar ag-`).concat(r,`-panel-title-bar ag-unselectable">
                <span ref="eTitle" class="ag-panel-title-bar-title ag-`).concat(r,`-panel-title-bar-title"></span>
                <div ref="eTitleBarButtons" class="ag-panel-title-bar-buttons ag-`).concat(r,`-panel-title-bar-buttons"></div>
            </div>
            <div ref="eContentWrapper" class="ag-panel-content-wrapper ag-`).concat(r,`-panel-content-wrapper"></div>
        </div>`)},t.prototype.postConstruct=function(){var e=this,r=this.config,i=r.component,o=r.closable,a=r.hideTitleBar,s=r.title,l=r.minWidth,u=l===void 0?250:l,c=r.width,d=r.minHeight,p=d===void 0?250:d,h=r.height,f=r.centered,v=r.popup,g=r.x,y=r.y;this.positionableFeature=new kw(this.getGui(),{minWidth:u,width:c,minHeight:p,height:h,centered:f,x:g,y,popup:v,calculateTopBuffer:function(){return e.positionableFeature.getHeight()-e.getBodyHeight()}}),this.createManagedBean(this.positionableFeature);var m=this.getGui();i&&this.setBodyComponent(i),a?mt(this.eTitleBar,!1):(s&&this.setTitle(s),this.setClosable(o??this.closable)),this.addManagedListener(this.eTitleBar,"mousedown",function(C){var S=e.gridOptionsService.getDocument();if(m.contains(C.relatedTarget)||m.contains(S.activeElement)||e.eTitleBarButtons.contains(C.target)){C.preventDefault();return}var w=e.eContentWrapper.querySelector("button, [href], input, select, textarea, [tabindex]");w&&w.focus()}),!(v&&this.positionableFeature.isPositioned())&&(this.renderComponent&&this.renderComponent(),this.positionableFeature.initialisePosition(),this.eContentWrapper.style.height="0")},t.prototype.renderComponent=function(){var e=this,r=this.getGui();r.focus(),this.close=function(){r.parentElement.removeChild(r),e.destroy()}},t.prototype.getHeight=function(){return this.positionableFeature.getHeight()},t.prototype.setHeight=function(e){this.positionableFeature.setHeight(e)},t.prototype.getWidth=function(){return this.positionableFeature.getWidth()},t.prototype.setWidth=function(e){this.positionableFeature.setWidth(e)},t.prototype.setClosable=function(e){if(e!==this.closable&&(this.closable=e),e){var r=this.closeButtonComp=new de(t.CLOSE_BTN_TEMPLATE);this.getContext().createBean(r);var i=r.getGui(),o=Wr("close",this.gridOptionsService);o.classList.add("ag-panel-title-bar-button-icon"),i.appendChild(o),this.addTitleBarButton(r),r.addManagedListener(i,"click",this.onBtClose.bind(this))}else if(this.closeButtonComp){var i=this.closeButtonComp.getGui();i.parentElement.removeChild(i),this.closeButtonComp=this.destroyBean(this.closeButtonComp)}},t.prototype.setBodyComponent=function(e){e.setParentComponent(this),this.eContentWrapper.appendChild(e.getGui())},t.prototype.addTitleBarButton=function(e,r){var i=this.eTitleBarButtons,o=i.children,a=o.length;r==null&&(r=a),r=Math.max(0,Math.min(r,a)),e.addCssClass("ag-panel-title-bar-button");var s=e.getGui();r===0?i.insertAdjacentElement("afterbegin",s):r===a?i.insertAdjacentElement("beforeend",s):o[r-1].insertAdjacentElement("afterend",s),e.setParentComponent(this)},t.prototype.getBodyHeight=function(){return Lw(this.eContentWrapper)},t.prototype.getBodyWidth=function(){return rf(this.eContentWrapper)},t.prototype.setTitle=function(e){this.eTitle.innerText=e},t.prototype.onBtClose=function(){this.close()},t.prototype.destroy=function(){this.closeButtonComp&&(this.closeButtonComp=this.destroyBean(this.closeButtonComp));var e=this.getGui();e&&aa(e)&&this.close(),n.prototype.destroy.call(this)},t.CLOSE_BTN_TEMPLATE='<div class="ag-button"></div>',Uy([$("eContentWrapper")],t.prototype,"eContentWrapper",void 0),Uy([$("eTitleBar")],t.prototype,"eTitleBar",void 0),Uy([$("eTitleBarButtons")],t.prototype,"eTitleBarButtons",void 0),Uy([$("eTitle")],t.prototype,"eTitle",void 0),Uy([z],t.prototype,"postConstruct",null),t}(de),RPe=function(){var n=function(t,e){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])},n(t,e)};return function(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");n(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}}(),zb=function(){return zb=Object.assign||function(n){for(var t,e=1,r=arguments.length;e<r;e++){t=arguments[e];for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(n[i]=t[i])}return n},zb.apply(this,arguments)},TPe=function(n,t,e,r){var i=arguments.length,o=i<3?t:r===null?r=Object.getOwnPropertyDescriptor(t,e):r,a;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(n,t,e,r);else for(var s=n.length-1;s>=0;s--)(a=n[s])&&(o=(i<3?a(o):i>3?a(t,e,o):a(t,e))||o);return i>3&&o&&Object.defineProperty(t,e,o),o},zh=function(n){RPe(t,n);function t(e){var r=n.call(this,zb(zb({},e),{popup:!0}))||this;return r.isMaximizable=!1,r.isMaximized=!1,r.maximizeListeners=[],r.resizeListenerDestroy=null,r.lastPosition={x:0,y:0,width:0,height:0},r}return t.prototype.postConstruct=function(){var e=this,r=this.getGui(),i=this.config,o=i.movable,a=i.resizable,s=i.maximizable;this.addCssClass("ag-dialog"),n.prototype.postConstruct.call(this),this.addManagedListener(r,"focusin",function(l){r.contains(l.relatedTarget)||e.popupService.bringPopupToFront(r)}),o&&this.setMovable(o),s&&this.setMaximizable(s),a&&this.setResizable(a)},t.prototype.renderComponent=function(){var e=this.getGui(),r=this.config,i=r.alwaysOnTop,o=r.modal,a=r.title,s=r.afterGuiAttached,l=this.localeService.getLocaleTextFunc(),u=this.popupService.addPopup({modal:o,eChild:e,closeOnEsc:!0,closedCallback:this.onClosed.bind(this),alwaysOnTop:i,ariaLabel:a||l("ariaLabelDialog","Dialog"),afterGuiAttached:s});u&&(this.close=u.hideFunc)},t.prototype.onClosed=function(e){var r,i;this.destroy(),(i=(r=this.config).closedCallback)===null||i===void 0||i.call(r,e)},t.prototype.toggleMaximize=function(){var e=this.positionableFeature.getPosition();if(this.isMaximized){var r=this.lastPosition,i=r.x,o=r.y,a=r.width,s=r.height;this.setWidth(a),this.setHeight(s),this.positionableFeature.offsetElement(i,o)}else this.lastPosition.width=this.getWidth(),this.lastPosition.height=this.getHeight(),this.lastPosition.x=e.x,this.lastPosition.y=e.y,this.positionableFeature.offsetElement(0,0),this.setHeight("100%"),this.setWidth("100%");this.isMaximized=!this.isMaximized,this.refreshMaximizeIcon()},t.prototype.refreshMaximizeIcon=function(){mt(this.maximizeIcon,!this.isMaximized),mt(this.minimizeIcon,this.isMaximized)},t.prototype.clearMaximizebleListeners=function(){this.maximizeListeners.length&&(this.maximizeListeners.forEach(function(e){return e()}),this.maximizeListeners.length=0),this.resizeListenerDestroy&&(this.resizeListenerDestroy(),this.resizeListenerDestroy=null)},t.prototype.destroy=function(){this.maximizeButtonComp=this.destroyBean(this.maximizeButtonComp),this.clearMaximizebleListeners(),n.prototype.destroy.call(this)},t.prototype.setResizable=function(e){this.positionableFeature.setResizable(e)},t.prototype.setMovable=function(e){this.positionableFeature.setMovable(e,this.eTitleBar)},t.prototype.setMaximizable=function(e){var r=this;if(!e){this.clearMaximizebleListeners(),this.maximizeButtonComp&&(this.destroyBean(this.maximizeButtonComp),this.maximizeButtonComp=this.maximizeIcon=this.minimizeIcon=void 0);return}var i=this.eTitleBar;if(!(!i||e===this.isMaximizable)){var o=this.buildMaximizeAndMinimizeElements();this.refreshMaximizeIcon(),o.addManagedListener(o.getGui(),"click",this.toggleMaximize.bind(this)),this.addTitleBarButton(o,0),this.maximizeListeners.push(this.addManagedListener(i,"dblclick",this.toggleMaximize.bind(this))),this.resizeListenerDestroy=this.addManagedListener(this,"resize",function(){r.isMaximized=!1,r.refreshMaximizeIcon()})}},t.prototype.buildMaximizeAndMinimizeElements=function(){var e=this.maximizeButtonComp=this.createBean(new de('<div class="ag-dialog-button"></span>')),r=e.getGui();return this.maximizeIcon=Wr("maximize",this.gridOptionsService),r.appendChild(this.maximizeIcon),this.maximizeIcon.classList.add("ag-panel-title-bar-button-icon"),this.minimizeIcon=Wr("minimize",this.gridOptionsService),r.appendChild(this.minimizeIcon),this.minimizeIcon.classList.add("ag-panel-title-bar-button-icon"),e},TPe([E("popupService")],t.prototype,"popupService",void 0),t}(IG),PPe=function(){var n=function(t,e){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])},n(t,e)};return function(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");n(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}}(),Kb=function(){return Kb=Object.assign||function(n){for(var t,e=1,r=arguments.length;e<r;e++){t=arguments[e];for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(n[i]=t[i])}return n},Kb.apply(this,arguments)},zy=function(n,t,e,r){var i=arguments.length,o=i<3?t:r===null?r=Object.getOwnPropertyDescriptor(t,e):r,a;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(n,t,e,r);else for(var s=n.length-1;s>=0;s--)(a=n[s])&&(o=(i<3?a(o):i>3?a(t,e,o):a(t,e))||o);return i>3&&o&&Object.defineProperty(t,e,o),o},j3=function(n,t){var e=typeof Symbol=="function"&&n[Symbol.iterator];if(!e)return n;var r=e.call(n),i,o=[],a;try{for(;(t===void 0||t-- >0)&&!(i=r.next()).done;)o.push(i.value)}catch(s){a={error:s}}finally{try{i&&!i.done&&(e=r.return)&&e.call(r)}finally{if(a)throw a.error}}return o},$3=function(n,t,e){if(e||arguments.length===2)for(var r=0,i=t.length,o;r<i;r++)(o||!(r in t))&&(o||(o=Array.prototype.slice.call(t,0,r)),o[r]=t[r]);return n.concat(o||Array.prototype.slice.call(t))},W3=function(n){var t=typeof Symbol=="function"&&Symbol.iterator,e=t&&n[t],r=0;if(e)return e.call(n);if(n&&typeof n.length=="number")return{next:function(){return n&&r>=n.length&&(n=void 0),{value:n&&n[r++],done:!n}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")},qc;(function(n){n[n.vertical=0]="vertical",n[n.horizontal=1]="horizontal"})(qc||(qc={}));var APe=0,eq=function(n){PPe(t,n);function t(){var r=n!==null&&n.apply(this,arguments)||this;return r.popupList=[],r}e=t,t.prototype.postConstruct=function(){var r=this;this.ctrlsService.whenReady(function(i){r.gridCtrl=i.gridCtrl}),this.addManagedListener(this.eventService,P.EVENT_GRID_STYLES_CHANGED,this.handleThemeChange.bind(this))},t.prototype.getPopupParent=function(){var r=this.gridOptionsService.get("popupParent");return r||this.gridCtrl.getGui()},t.prototype.positionPopupForMenu=function(r){var i=r.eventSource,o=r.ePopup,a=this.getPopupIndex(o);if(a!==-1){var s=this.popupList[a];s.alignedToElement=i}var l=i.getBoundingClientRect(),u=this.getParentRect(),c=this.keepXYWithinBounds(o,l.top-u.top,qc.vertical),d=o.clientWidth>0?o.clientWidth:200;o.style.minWidth="".concat(d,"px");var p=u.right-u.left,h=p-d,f;this.gridOptionsService.get("enableRtl")?(f=g(),f<0&&(f=v(),this.setAlignedStyles(o,"left")),f>h&&(f=0,this.setAlignedStyles(o,"right"))):(f=v(),f>h&&(f=g(),this.setAlignedStyles(o,"right")),f<0&&(f=0,this.setAlignedStyles(o,"left"))),o.style.left="".concat(f,"px"),o.style.top="".concat(c,"px");function v(){return l.right-u.left-2}function g(){return l.left-u.left-d}},t.prototype.positionPopupUnderMouseEvent=function(r){var i=this,o=r.ePopup,a=r.nudgeX,s=r.nudgeY,l=r.skipObserver;this.positionPopup({ePopup:o,nudgeX:a,nudgeY:s,keepWithinBounds:!0,skipObserver:l,updatePosition:function(){return i.calculatePointerAlign(r.mouseEvent)},postProcessCallback:function(){return i.callPostProcessPopup(r.type,r.ePopup,null,r.mouseEvent,r.column,r.rowNode)}})},t.prototype.calculatePointerAlign=function(r){var i=this.getParentRect();return{x:r.clientX-i.left,y:r.clientY-i.top}},t.prototype.positionPopupByComponent=function(r){var i=this,o=r.ePopup,a=r.nudgeX,s=r.nudgeY,l=r.keepWithinBounds,u=r.eventSource,c=r.alignSide,d=c===void 0?"left":c,p=r.position,h=p===void 0?"over":p,f=r.column,v=r.rowNode,g=r.type,y=u.getBoundingClientRect(),m=this.getParentRect(),C=this.getPopupIndex(o);if(C!==-1){var S=this.popupList[C];S.alignedToElement=u}var w=function(){var _=y.left-m.left;d==="right"&&(_-=o.offsetWidth-y.width);var x;if(h==="over")x=y.top-m.top,i.setAlignedStyles(o,"over");else{i.setAlignedStyles(o,"under");var b=i.shouldRenderUnderOrAbove(o,y,m,r.nudgeY||0);b==="under"?x=y.top-m.top+y.height:x=y.top-o.offsetHeight-(s||0)*2-m.top}return{x:_,y:x}};this.positionPopup({ePopup:o,nudgeX:a,nudgeY:s,keepWithinBounds:l,updatePosition:w,postProcessCallback:function(){return i.callPostProcessPopup(g,o,u,null,f,v)}})},t.prototype.shouldRenderUnderOrAbove=function(r,i,o,a){var s=o.bottom-i.bottom,l=i.top-o.top,u=r.offsetHeight+a;return s>u?"under":l>u||l>s?"above":"under"},t.prototype.setAlignedStyles=function(r,i){var o=this.getPopupIndex(r);if(o!==-1){var a=this.popupList[o],s=a.alignedToElement;if(s){var l=["right","left","over","above","under"];l.forEach(function(u){s.classList.remove("ag-has-popup-positioned-".concat(u)),r.classList.remove("ag-popup-positioned-".concat(u))}),i&&(s.classList.add("ag-has-popup-positioned-".concat(i)),r.classList.add("ag-popup-positioned-".concat(i)))}}},t.prototype.callPostProcessPopup=function(r,i,o,a,s,l){var u=this.gridOptionsService.getCallback("postProcessPopup");if(u){var c={column:s,rowNode:l,ePopup:i,type:r,eventSource:o,mouseEvent:a};u(c)}},t.prototype.positionPopup=function(r){var i=this,o=r.ePopup,a=r.keepWithinBounds,s=r.nudgeX,l=r.nudgeY,u=r.skipObserver,c=r.updatePosition,d={width:0,height:0},p=function(f){f===void 0&&(f=!1);var v=c(),g=v.x,y=v.y;f&&o.clientWidth===d.width&&o.clientHeight===d.height||(d.width=o.clientWidth,d.height=o.clientHeight,s&&(g+=s),l&&(y+=l),a&&(g=i.keepXYWithinBounds(o,g,qc.horizontal),y=i.keepXYWithinBounds(o,y,qc.vertical)),o.style.left="".concat(g,"px"),o.style.top="".concat(y,"px"),r.postProcessCallback&&r.postProcessCallback())};if(p(),!u){var h=this.resizeObserverService.observeResize(o,function(){return p(!0)});setTimeout(function(){return h()},e.WAIT_FOR_POPUP_CONTENT_RESIZE)}},t.prototype.getActivePopups=function(){return this.popupList.map(function(r){return r.element})},t.prototype.getPopupList=function(){return this.popupList},t.prototype.getParentRect=function(){var r=this.gridOptionsService.getDocument(),i=this.getPopupParent();return i===r.body?i=r.documentElement:getComputedStyle(i).position==="static"&&(i=i.offsetParent),sG(i)},t.prototype.keepXYWithinBounds=function(r,i,o){var a=o===qc.vertical,s=a?"clientHeight":"clientWidth",l=a?"top":"left",u=a?"offsetHeight":"offsetWidth",c=a?"scrollTop":"scrollLeft",d=this.gridOptionsService.getDocument(),p=d.documentElement,h=this.getPopupParent(),f=h.getBoundingClientRect(),v=d.documentElement.getBoundingClientRect(),g=h===d.body,y=r[u],m=a?aG:DS,C=g?m(p)+p[c]:h[s];g&&(C-=Math.abs(v[l]-f[l]));var S=C-y;return Math.min(Math.max(i,0),Math.abs(S))},t.prototype.addPopup=function(r){var i=this.gridOptionsService.getDocument(),o=r.eChild,a=r.ariaLabel,s=r.alwaysOnTop,l=r.positionCallback,u=r.anchorToElement;if(!i)return console.warn("AG Grid: could not find the document, document is empty"),{hideFunc:function(){}};var c=this.getPopupIndex(o);if(c!==-1){var d=this.popupList[c];return{hideFunc:d.hideFunc}}this.initialisePopupPosition(o);var p=this.createPopupWrapper(o,a,!!s),h=this.addEventListenersToPopup(Kb(Kb({},r),{wrapperEl:p}));return l&&l(),this.addPopupToPopupList(o,p,h,u),{hideFunc:h}},t.prototype.initialisePopupPosition=function(r){var i=this.getPopupParent(),o=i.getBoundingClientRect();ce(r.style.top)||(r.style.top="".concat(o.top*-1,"px")),ce(r.style.left)||(r.style.left="".concat(o.left*-1,"px"))},t.prototype.createPopupWrapper=function(r,i,o){var a,s=this.getPopupParent(),l=document.createElement("div"),u=this.environment.getTheme().allThemes;return u.length&&(a=l.classList).add.apply(a,$3([],j3(u),!1)),l.classList.add("ag-popup"),r.classList.add(this.gridOptionsService.get("enableRtl")?"ag-rtl":"ag-ltr","ag-popup-child"),r.hasAttribute("role")||on(r,"dialog"),Zd(r,i),l.appendChild(r),s.appendChild(l),o?this.setAlwaysOnTop(r,!0):this.bringPopupToFront(r),l},t.prototype.handleThemeChange=function(){var r,i,o,a,s,l=this.environment.getTheme().allThemes;try{for(var u=W3(this.popupList),c=u.next();!c.done;c=u.next()){var d=c.value;try{for(var p=(o=void 0,W3(Array.from(d.wrapper.classList))),h=p.next();!h.done;h=p.next()){var f=h.value;f.startsWith("ag-theme-")&&d.wrapper.classList.remove(f)}}catch(v){o={error:v}}finally{try{h&&!h.done&&(a=p.return)&&a.call(p)}finally{if(o)throw o.error}}l.length&&(s=d.wrapper.classList).add.apply(s,$3([],j3(l),!1))}}catch(v){r={error:v}}finally{try{c&&!c.done&&(i=u.return)&&i.call(u)}finally{if(r)throw r.error}}},t.prototype.addEventListenersToPopup=function(r){var i=this,o=this.gridOptionsService.getDocument(),a=this.getPopupParent(),s=r.wrapperEl,l=r.eChild;r.click;var u=r.closedCallback,c=r.afterGuiAttached,d=r.closeOnEsc,p=r.modal,h=!1,f=function(m){if(s.contains(o.activeElement)){var C=m.key;C===U.ESCAPE&&!As(m)&&y({keyboardEvent:m})}},v=function(m){return y({mouseEvent:m})},g=function(m){return y({touchEvent:m})},y=function(m){m===void 0&&(m={});var C=m.mouseEvent,S=m.touchEvent,w=m.keyboardEvent;i.isEventFromCurrentPopup({mouseEvent:C,touchEvent:S},l)||h||(h=!0,a.removeChild(s),o.removeEventListener("keydown",f),o.removeEventListener("mousedown",v),o.removeEventListener("touchstart",g),o.removeEventListener("contextmenu",v),i.eventService.removeEventListener(P.EVENT_DRAG_STARTED,v),u&&u(C||S||w),i.removePopupFromPopupList(l))};return c&&c({hidePopup:y}),window.setTimeout(function(){d&&o.addEventListener("keydown",f),p&&(o.addEventListener("mousedown",v),i.eventService.addEventListener(P.EVENT_DRAG_STARTED,v),o.addEventListener("touchstart",g),o.addEventListener("contextmenu",v))},0),y},t.prototype.addPopupToPopupList=function(r,i,o,a){this.popupList.push({element:r,wrapper:i,hideFunc:o,instanceId:APe++,isAnchored:!!a}),a&&this.setPopupPositionRelatedToElement(r,a)},t.prototype.getPopupIndex=function(r){return this.popupList.findIndex(function(i){return i.element===r})},t.prototype.setPopupPositionRelatedToElement=function(r,i){var o=this.getPopupIndex(r);if(o!==-1){var a=this.popupList[o];if(a.stopAnchoringPromise&&a.stopAnchoringPromise.then(function(l){return l&&l()}),a.stopAnchoringPromise=void 0,a.isAnchored=!1,!!i){var s=this.keepPopupPositionedRelativeTo({element:i,ePopup:r,hidePopup:a.hideFunc});return a.stopAnchoringPromise=s,a.isAnchored=!0,s}}},t.prototype.removePopupFromPopupList=function(r){this.setAlignedStyles(r,null),this.setPopupPositionRelatedToElement(r,null),this.popupList=this.popupList.filter(function(i){return i.element!==r})},t.prototype.keepPopupPositionedRelativeTo=function(r){var i=this,o=this.getPopupParent(),a=o.getBoundingClientRect(),s=r.element,l=r.ePopup,u=s.getBoundingClientRect(),c=a.top-u.top,d=a.left-u.left,p=c,h=d,f=l.style.top,v=parseInt(f.substring(0,f.length-1),10),g=l.style.left,y=parseInt(g.substring(0,g.length-1),10);return new Qe(function(m){i.getFrameworkOverrides().setInterval(function(){var C=o.getBoundingClientRect(),S=s.getBoundingClientRect(),w=S.top==0&&S.left==0&&S.height==0&&S.width==0;if(w){r.hidePopup();return}var _=C.top-S.top;if(_!=p){var x=i.keepXYWithinBounds(l,v+c-_,qc.vertical);l.style.top="".concat(x,"px")}p=_;var b=C.left-S.left;if(b!=h){var O=i.keepXYWithinBounds(l,y+d-b,qc.horizontal);l.style.left="".concat(O,"px")}h=b},200).then(function(C){var S=function(){C!=null&&window.clearInterval(C)};m(S)})})},t.prototype.hasAnchoredPopup=function(){return this.popupList.some(function(r){return r.isAnchored})},t.prototype.isEventFromCurrentPopup=function(r,i){var o=r.mouseEvent,a=r.touchEvent,s=o||a;if(!s)return!1;var l=this.getPopupIndex(i);if(l===-1)return!1;for(var u=l;u<this.popupList.length;u++){var c=this.popupList[u];if(Fb(c.element,s))return!0}return this.isElementWithinCustomPopup(s.target)},t.prototype.isElementWithinCustomPopup=function(r){for(var i=this.gridOptionsService.getDocument();r&&r!==i.body;){if(r.classList.contains("ag-custom-component-popup")||r.parentElement===null)return!0;r=r.parentElement}return!1},t.prototype.getWrapper=function(r){for(;!r.classList.contains("ag-popup")&&r.parentElement;)r=r.parentElement;return r.classList.contains("ag-popup")?r:null},t.prototype.setAlwaysOnTop=function(r,i){var o=this.getWrapper(r);o&&(o.classList.toggle("ag-always-on-top",!!i),i&&this.bringPopupToFront(o))},t.prototype.bringPopupToFront=function(r){var i=this.getPopupParent(),o=Array.prototype.slice.call(i.querySelectorAll(".ag-popup")),a=o.length,s=Array.prototype.slice.call(i.querySelectorAll(".ag-popup.ag-always-on-top")),l=s.length,u=this.getWrapper(r);if(!(!u||a<=1||!i.contains(r))){var c=o.indexOf(u),d=u.querySelectorAll("div"),p=[];if(d.forEach(function(g){g.scrollTop!==0&&p.push([g,g.scrollTop])}),l){var h=u.classList.contains("ag-always-on-top");h?c!==a-1&&bt(s).insertAdjacentElement("afterend",u):c!==a-l-1&&s[0].insertAdjacentElement("beforebegin",u)}else c!==a-1&&bt(o).insertAdjacentElement("afterend",u);for(;p.length;){var f=p.pop();f[0].scrollTop=f[1]}var v={type:"popupToFront",eWrapper:u};this.eventService.dispatchEvent(v)}};var e;return t.WAIT_FOR_POPUP_CONTENT_RESIZE=200,zy([E("focusService")],t.prototype,"focusService",void 0),zy([E("ctrlsService")],t.prototype,"ctrlsService",void 0),zy([E("resizeObserverService")],t.prototype,"resizeObserverService",void 0),zy([z],t.prototype,"postConstruct",null),t=e=zy([ae("popupService")],t),t}(q),DPe=function(){var n=function(t,e){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])},n(t,e)};return function(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");n(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}}(),MPe=function(n){DPe(t,n);function t(){var e=n.call(this,`
        <div class="ag-autocomplete-row" role="presentation">
            <div class="ag-autocomplete-row-label"></div>
        </div>`)||this;return e.hasHighlighting=!1,e}return t.prototype.setState=function(e,r){this.value=e,this.render(),this.updateSelected(r)},t.prototype.updateSelected=function(e){this.addOrRemoveCssClass("ag-autocomplete-row-selected",e)},t.prototype.setSearchString=function(e){var r,i=!1;if(ce(e)){var o=(r=this.value)===null||r===void 0?void 0:r.toLocaleLowerCase().indexOf(e.toLocaleLowerCase());if(o>=0){i=!0,this.hasHighlighting=!0;var a=o+e.length,s=tn(this.value.slice(0,o)),l=tn(this.value.slice(o,a)),u=tn(this.value.slice(a));this.getGui().lastElementChild.innerHTML="".concat(s,"<b>").concat(l,"</b>").concat(u)}}!i&&this.hasHighlighting&&(this.hasHighlighting=!1,this.render())},t.prototype.render=function(){var e;this.getGui().lastElementChild.innerHTML=(e=tn(this.value))!==null&&e!==void 0?e:"&nbsp;"},t}(de),FPe=function(){var n=function(t,e){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])},n(t,e)};return function(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");n(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}}(),U3=function(n,t,e,r){var i=arguments.length,o=i<3?t:r===null?r=Object.getOwnPropertyDescriptor(t,e):r,a;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(n,t,e,r);else for(var s=n.length-1;s>=0;s--)(a=n[s])&&(o=(i<3?a(o):i>3?a(t,e,o):a(t,e))||o);return i>3&&o&&Object.defineProperty(t,e,o),o},LPe=function(n){FPe(t,n);function t(e){var r=n.call(this,t.TEMPLATE)||this;return r.params=e,r.searchString="",r}return t.prototype.destroy=function(){n.prototype.destroy.call(this)},t.prototype.init=function(){var e=this;this.autocompleteEntries=this.params.autocompleteEntries,this.virtualList=this.createManagedBean(new nf({cssIdentifier:"autocomplete"})),this.virtualList.setComponentCreator(this.createRowComponent.bind(this)),this.eList.appendChild(this.virtualList.getGui()),this.virtualList.setModel({getRowCount:function(){return e.autocompleteEntries.length},getRow:function(i){return e.autocompleteEntries[i]}});var r=this.virtualList.getGui();this.addManagedListener(r,"click",function(){return e.params.onConfirmed()}),this.addManagedListener(r,"mousemove",this.onMouseMove.bind(this)),this.addManagedListener(r,"mousedown",function(i){return i.preventDefault()}),this.setSelectedValue(0)},t.prototype.onNavigationKeyDown=function(e,r){e.preventDefault();var i=this.autocompleteEntries.indexOf(this.selectedValue),o=r===U.UP?i-1:i+1;this.checkSetSelectedValue(o)},t.prototype.setSearch=function(e){this.searchString=e,ce(e)?this.runSearch():(this.autocompleteEntries=this.params.autocompleteEntries,this.virtualList.refresh(),this.checkSetSelectedValue(0)),this.updateSearchInList()},t.prototype.runContainsSearch=function(e,r){var i,o=!1,a=e.toLocaleLowerCase(),s=r.filter(function(l){var u=l.toLocaleLowerCase(),c=u.indexOf(a),d=c===0,p=c>=0;return p&&(!i||!o&&d||o===d&&l.length<i.length)&&(i=l,o=d),p});return!i&&s.length&&(i=s[0]),{topMatch:i,allMatches:s}},t.prototype.runSearch=function(){var e,r,i=this.params.autocompleteEntries,o=i.map(function(d){var p;return(p=d.displayValue)!==null&&p!==void 0?p:d.key}),a,s;if(this.params.useFuzzySearch)a=Nw(this.searchString,o,!0).values,s=a.length?a[0]:void 0;else{var l=this.runContainsSearch(this.searchString,o);a=l.allMatches,s=l.topMatch}var u=i.filter(function(d){var p=d.key,h=d.displayValue;return a.includes(h??p)});if(!u.length&&this.selectedValue&&(!((r=(e=this.params)===null||e===void 0?void 0:e.forceLastSelection)===null||r===void 0)&&r.call(e,this.selectedValue,this.searchString))&&(u=[this.selectedValue]),this.autocompleteEntries=u,this.virtualList.refresh(),!!s){var c=a.indexOf(s);this.checkSetSelectedValue(c)}},t.prototype.updateSearchInList=function(){var e=this;this.virtualList.forEachRenderedRow(function(r){return r.setSearchString(e.searchString)})},t.prototype.checkSetSelectedValue=function(e){e>=0&&e<this.autocompleteEntries.length&&this.setSelectedValue(e)},t.prototype.setSelectedValue=function(e){var r=this.autocompleteEntries[e];this.selectedValue!==r&&(this.selectedValue=r,this.virtualList.ensureIndexVisible(e),this.virtualList.forEachRenderedRow(function(i,o){i.updateSelected(e===o)}))},t.prototype.createRowComponent=function(e){var r,i=new MPe;return this.getContext().createBean(i),i.setState((r=e.displayValue)!==null&&r!==void 0?r:e.key,e===this.selectedValue),i},t.prototype.onMouseMove=function(e){var r=this.virtualList.getGui().getBoundingClientRect(),i=this.virtualList.getScrollTop(),o=e.clientY-r.top+i,a=Math.floor(o/this.virtualList.getRowHeight());this.checkSetSelectedValue(a)},t.prototype.afterGuiAttached=function(){this.virtualList.refresh()},t.prototype.getSelectedValue=function(){var e;return this.autocompleteEntries.length&&(e=this.selectedValue)!==null&&e!==void 0?e:null},t.TEMPLATE=`<div class="ag-autocomplete-list-popup">
            <div ref="eList" class="ag-autocomplete-list"></div>
        <div>`,U3([$("eList")],t.prototype,"eList",void 0),U3([z],t.prototype,"init",null),t}(dc),IPe=function(){var n=function(t,e){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])},n(t,e)};return function(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");n(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}}(),sD=function(n,t,e,r){var i=arguments.length,o=i<3?t:r===null?r=Object.getOwnPropertyDescriptor(t,e):r,a;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(n,t,e,r);else for(var s=n.length-1;s>=0;s--)(a=n[s])&&(o=(i<3?a(o):i>3?a(t,e,o):a(t,e))||o);return i>3&&o&&Object.defineProperty(t,e,o),o},gv=function(n){IPe(t,n);function t(){var e=n.call(this,`
            <div class="ag-autocomplete" role="presentation">
                <ag-input-text-field ref="eAutocompleteInput"></ag-input-text-field>
            </div>`)||this;return e.isListOpen=!1,e.lastPosition=0,e.valid=!0,e}return t.prototype.postConstruct=function(){var e=this;this.eAutocompleteInput.onValueChange(function(r){return e.onValueChanged(r)}),this.eAutocompleteInput.getInputElement().setAttribute("autocomplete","off"),this.addGuiEventListener("keydown",this.onKeyDown.bind(this)),this.addGuiEventListener("click",this.updatePositionAndList.bind(this)),this.addDestroyFunc(function(){e.destroyBean(e.autocompleteList)}),this.addGuiEventListener("focusout",function(){return e.onFocusOut()})},t.prototype.onValueChanged=function(e){var r=jl(e);this.updateValue(r),this.updateAutocompleteList(r)},t.prototype.updateValue=function(e){this.updateLastPosition(),this.dispatchEvent({type:t.EVENT_VALUE_CHANGED,value:e}),this.validate(e)},t.prototype.updateAutocompleteList=function(e){var r,i,o,a,s=(i=(r=this.listGenerator)===null||r===void 0?void 0:r.call(this,e,this.lastPosition))!==null&&i!==void 0?i:{enabled:!1};if((!s.type||s.type!==((o=this.autocompleteListParams)===null||o===void 0?void 0:o.type))&&this.isListOpen&&this.closeList(),this.autocompleteListParams=s,!((a=this.autocompleteListParams)===null||a===void 0)&&a.enabled){this.isListOpen||this.openList();var l=this.autocompleteListParams.searchString;this.autocompleteList.setSearch(l??"")}else this.isListOpen&&this.closeList()},t.prototype.onKeyDown=function(e){var r=this,i=e.key;switch(this.updateLastPosition(),i){case U.ENTER:this.onEnterKeyDown(e);break;case U.TAB:this.onTabKeyDown(e);break;case U.DOWN:case U.UP:this.onUpDownKeyDown(e,i);break;case U.LEFT:case U.RIGHT:case U.PAGE_HOME:case U.PAGE_END:setTimeout(function(){r.updatePositionAndList()});break;case U.ESCAPE:this.onEscapeKeyDown(e);break;case U.SPACE:e.ctrlKey&&!this.isListOpen&&(e.preventDefault(),this.forceOpenList());break}},t.prototype.confirmSelection=function(){var e,r=(e=this.autocompleteList)===null||e===void 0?void 0:e.getSelectedValue();r&&(this.closeList(),this.dispatchEvent({type:t.EVENT_OPTION_SELECTED,value:this.getValue(),position:this.lastPosition,updateEntry:r,autocompleteType:this.autocompleteListParams.type}))},t.prototype.onTabKeyDown=function(e){this.isListOpen&&(e.preventDefault(),e.stopPropagation(),this.confirmSelection())},t.prototype.onEnterKeyDown=function(e){e.preventDefault(),this.isListOpen?this.confirmSelection():this.onCompleted()},t.prototype.onUpDownKeyDown=function(e,r){var i;e.preventDefault(),this.isListOpen?(i=this.autocompleteList)===null||i===void 0||i.onNavigationKeyDown(e,r):this.forceOpenList()},t.prototype.onEscapeKeyDown=function(e){this.isListOpen&&(e.preventDefault(),e.stopPropagation(),this.closeList(),this.setCaret(this.lastPosition,!0))},t.prototype.onFocusOut=function(){this.isListOpen&&this.closeList()},t.prototype.updatePositionAndList=function(){var e;this.updateLastPosition(),this.updateAutocompleteList((e=this.eAutocompleteInput.getValue())!==null&&e!==void 0?e:null)},t.prototype.setCaret=function(e,r){var i=this.gridOptionsService.getDocument();r&&i.activeElement===i.body&&this.eAutocompleteInput.getFocusableElement().focus();var o=this.eAutocompleteInput.getInputElement();o.setSelectionRange(e,e),e===o.value.length&&(o.scrollLeft=o.scrollWidth)},t.prototype.forceOpenList=function(){this.onValueChanged(this.eAutocompleteInput.getValue())},t.prototype.updateLastPosition=function(){var e;this.lastPosition=(e=this.eAutocompleteInput.getInputElement().selectionStart)!==null&&e!==void 0?e:0},t.prototype.validate=function(e){var r;this.validator&&(this.validationMessage=this.validator(e),this.eAutocompleteInput.getInputElement().setCustomValidity((r=this.validationMessage)!==null&&r!==void 0?r:""),this.valid=!this.validationMessage,this.dispatchEvent({type:t.EVENT_VALID_CHANGED,isValid:this.valid,validationMessage:this.validationMessage}))},t.prototype.openList=function(){var e=this;this.isListOpen=!0,this.autocompleteList=this.createBean(new LPe({autocompleteEntries:this.autocompleteListParams.entries,onConfirmed:function(){return e.confirmSelection()},forceLastSelection:this.forceLastSelection}));var r=this.autocompleteList.getGui(),i={ePopup:r,type:"autocomplete",eventSource:this.getGui(),position:"under",alignSide:this.gridOptionsService.get("enableRtl")?"right":"left",keepWithinBounds:!0},o=this.popupService.addPopup({eChild:r,anchorToElement:this.getGui(),positionCallback:function(){return e.popupService.positionPopupByComponent(i)},ariaLabel:this.listAriaLabel});this.hidePopup=o.hideFunc,this.autocompleteList.afterGuiAttached()},t.prototype.closeList=function(){this.isListOpen=!1,this.hidePopup(),this.destroyBean(this.autocompleteList),this.autocompleteList=null},t.prototype.onCompleted=function(){this.isListOpen&&this.closeList(),this.dispatchEvent({type:t.EVENT_VALUE_CONFIRMED,value:this.getValue(),isValid:this.isValid()})},t.prototype.getValue=function(){return jl(this.eAutocompleteInput.getValue())},t.prototype.setInputPlaceholder=function(e){return this.eAutocompleteInput.setInputPlaceholder(e),this},t.prototype.setInputAriaLabel=function(e){return this.eAutocompleteInput.setInputAriaLabel(e),this},t.prototype.setListAriaLabel=function(e){return this.listAriaLabel=e,this},t.prototype.setListGenerator=function(e){return this.listGenerator=e,this},t.prototype.setValidator=function(e){return this.validator=e,this},t.prototype.isValid=function(){return this.valid},t.prototype.setValue=function(e){var r=e.value,i=e.position,o=e.silent,a=e.updateListOnlyIfOpen,s=e.restoreFocus;this.eAutocompleteInput.setValue(r,!0),this.setCaret(i??this.lastPosition,s),o||this.updateValue(r),(!a||this.isListOpen)&&this.updateAutocompleteList(r)},t.prototype.setForceLastSelection=function(e){return this.forceLastSelection=e,this},t.prototype.setInputDisabled=function(e){return this.eAutocompleteInput.setDisabled(e),this},t.EVENT_VALUE_CHANGED="eventValueChanged",t.EVENT_VALUE_CONFIRMED="eventValueConfirmed",t.EVENT_OPTION_SELECTED="eventOptionSelected",t.EVENT_VALID_CHANGED="eventValidChanged",sD([E("popupService")],t.prototype,"popupService",void 0),sD([$("eAutocompleteInput")],t.prototype,"eAutocompleteInput",void 0),sD([z],t.prototype,"postConstruct",null),t}(de),NPe=["touchstart","touchend","touchmove","touchcancel"],tq=function(){function n(t){t===void 0&&(t="javascript"),this.frameworkName=t,this.renderingEngine="vanilla",this.wrapIncoming=function(e){return e()},this.wrapOutgoing=function(e){return e()}}return n.prototype.setInterval=function(t,e){return new Qe(function(r){r(window.setInterval(t,e))})},n.prototype.addEventListener=function(t,e,r,i){var o=Ps(NPe,e);t.addEventListener(e,r,{capture:!!i,passive:o})},Object.defineProperty(n.prototype,"shouldWrapOutgoing",{get:function(){return!1},enumerable:!1,configurable:!0}),n.prototype.frameworkComponent=function(t){return null},n.prototype.isFrameworkComponent=function(t){return!1},n.prototype.getDocLink=function(t){var e=this.frameworkName==="solid"?"react":this.frameworkName;return"https://www.ag-grid.com/".concat(e,"-data-grid").concat(t?"/".concat(t):"")},n}(),kPe=function(){var n=function(t,e){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])},n(t,e)};return function(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");n(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}}(),Pf=function(n,t,e,r){var i=arguments.length,o=i<3?t:r===null?r=Object.getOwnPropertyDescriptor(t,e):r,a;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(n,t,e,r);else for(var s=n.length-1;s>=0;s--)(a=n[s])&&(o=(i<3?a(o):i>3?a(t,e,o):a(t,e))||o);return i>3&&o&&Object.defineProperty(t,e,o),o},GPe=function(n,t){var e=typeof Symbol=="function"&&n[Symbol.iterator];if(!e)return n;var r=e.call(n),i,o=[],a;try{for(;(t===void 0||t-- >0)&&!(i=r.next()).done;)o.push(i.value)}catch(s){a={error:s}}finally{try{i&&!i.done&&(e=r.return)&&e.call(r)}finally{if(a)throw a.error}}return o},VPe=function(n,t,e){if(e||arguments.length===2)for(var r=0,i=t.length,o;r<i;r++)(o||!(r in t))&&(o||(o=Array.prototype.slice.call(t,0,r)),o[r]=t[r]);return n.concat(o||Array.prototype.slice.call(t))},rq=function(n){kPe(t,n);function t(){return n!==null&&n.apply(this,arguments)||this}return t.prototype.getNextCellToFocus=function(e,r,i){return i===void 0&&(i=!1),i?this.getNextCellToFocusWithCtrlPressed(e,r):this.getNextCellToFocusWithoutCtrlPressed(e,r)},t.prototype.getNextCellToFocusWithCtrlPressed=function(e,r){var i=e===U.UP,o=e===U.DOWN,a=e===U.LEFT,s,l;if(i||o)l=i?this.paginationProxy.getPageFirstRow():this.paginationProxy.getPageLastRow(),s=r.column;else{var u=this.columnModel.getAllDisplayedColumns(),c=this.gridOptionsService.get("enableRtl");l=r.rowIndex,s=a!==c?u[0]:bt(u)}return{rowIndex:l,rowPinned:null,column:s}},t.prototype.getNextCellToFocusWithoutCtrlPressed=function(e,r){for(var i=r,o=!1;!o;){switch(e){case U.UP:i=this.getCellAbove(i);break;case U.DOWN:i=this.getCellBelow(i);break;case U.RIGHT:this.gridOptionsService.get("enableRtl")?i=this.getCellToLeft(i):i=this.getCellToRight(i);break;case U.LEFT:this.gridOptionsService.get("enableRtl")?i=this.getCellToRight(i):i=this.getCellToLeft(i);break;default:i=null,console.warn("AG Grid: unknown key for navigation "+e);break}i?o=this.isCellGoodToFocusOn(i):o=!0}return i},t.prototype.isCellGoodToFocusOn=function(e){var r=e.column,i;switch(e.rowPinned){case"top":i=this.pinnedRowModel.getPinnedTopRow(e.rowIndex);break;case"bottom":i=this.pinnedRowModel.getPinnedBottomRow(e.rowIndex);break;default:i=this.rowModel.getRow(e.rowIndex);break}if(!i)return!1;var o=r.isSuppressNavigable(i);return!o},t.prototype.getCellToLeft=function(e){if(!e)return null;var r=this.columnModel.getDisplayedColBefore(e.column);return r?{rowIndex:e.rowIndex,column:r,rowPinned:e.rowPinned}:null},t.prototype.getCellToRight=function(e){if(!e)return null;var r=this.columnModel.getDisplayedColAfter(e.column);return r?{rowIndex:e.rowIndex,column:r,rowPinned:e.rowPinned}:null},t.prototype.getRowBelow=function(e){var r=e.rowIndex,i=e.rowPinned;if(this.isLastRowInContainer(e))switch(i){case"bottom":return null;case"top":return this.rowModel.isRowsToRender()?{rowIndex:this.paginationProxy.getPageFirstRow(),rowPinned:null}:this.pinnedRowModel.isRowsToRender("bottom")?{rowIndex:0,rowPinned:"bottom"}:null;default:return this.pinnedRowModel.isRowsToRender("bottom")?{rowIndex:0,rowPinned:"bottom"}:null}var o=this.rowModel.getRow(e.rowIndex),a=this.getNextStickyPosition(o);return a||{rowIndex:r+1,rowPinned:i}},t.prototype.getNextStickyPosition=function(e,r){if(!(!this.gridOptionsService.isGroupRowsSticky()||!e||!e.sticky)){var i=VPe([],GPe(this.rowRenderer.getStickyTopRowCtrls()),!1).sort(function(l,u){return l.getRowNode().rowIndex-u.getRowNode().rowIndex}),o=r?-1:1,a=i.findIndex(function(l){return l.getRowNode().rowIndex===e.rowIndex}),s=i[a+o];if(s)return{rowIndex:s.getRowNode().rowIndex,rowPinned:null}}},t.prototype.getCellBelow=function(e){if(!e)return null;var r=this.getRowBelow(e);return r?{rowIndex:r.rowIndex,column:e.column,rowPinned:r.rowPinned}:null},t.prototype.isLastRowInContainer=function(e){var r=e.rowPinned,i=e.rowIndex;if(r==="top"){var o=this.pinnedRowModel.getPinnedTopRowData().length-1;return o<=i}if(r==="bottom"){var a=this.pinnedRowModel.getPinnedBottomRowData().length-1;return a<=i}var s=this.paginationProxy.getPageLastRow();return s<=i},t.prototype.getRowAbove=function(e){var r=e.rowIndex,i=e.rowPinned,o=i?r===0:r===this.paginationProxy.getPageFirstRow();if(o)return i==="top"?null:i?this.rowModel.isRowsToRender()?this.getLastBodyCell():this.pinnedRowModel.isRowsToRender("top")?this.getLastFloatingTopRow():null:this.pinnedRowModel.isRowsToRender("top")?this.getLastFloatingTopRow():null;var a=this.rowModel.getRow(e.rowIndex),s=this.getNextStickyPosition(a,!0);return s||{rowIndex:r-1,rowPinned:i}},t.prototype.getCellAbove=function(e){if(!e)return null;var r=this.getRowAbove({rowIndex:e.rowIndex,rowPinned:e.rowPinned});return r?{rowIndex:r.rowIndex,column:e.column,rowPinned:r.rowPinned}:null},t.prototype.getLastBodyCell=function(){var e=this.paginationProxy.getPageLastRow();return{rowIndex:e,rowPinned:null}},t.prototype.getLastFloatingTopRow=function(){var e=this.pinnedRowModel.getPinnedTopRowData().length-1;return{rowIndex:e,rowPinned:"top"}},t.prototype.getNextTabbedCell=function(e,r){return r?this.getNextTabbedCellBackwards(e):this.getNextTabbedCellForwards(e)},t.prototype.getNextTabbedCellForwards=function(e){var r=this.columnModel.getAllDisplayedColumns(),i=e.rowIndex,o=e.rowPinned,a=this.columnModel.getDisplayedColAfter(e.column);if(!a){a=r[0];var s=this.getRowBelow(e);if(je(s)||!s.rowPinned&&!this.paginationProxy.isRowInPage(s))return null;i=s?s.rowIndex:null,o=s?s.rowPinned:null}return{rowIndex:i,column:a,rowPinned:o}},t.prototype.getNextTabbedCellBackwards=function(e){var r=this.columnModel.getAllDisplayedColumns(),i=e.rowIndex,o=e.rowPinned,a=this.columnModel.getDisplayedColBefore(e.column);if(!a){a=bt(r);var s=this.getRowAbove({rowIndex:e.rowIndex,rowPinned:e.rowPinned});if(je(s)||!s.rowPinned&&!this.paginationProxy.isRowInPage(s))return null;i=s?s.rowIndex:null,o=s?s.rowPinned:null}return{rowIndex:i,column:a,rowPinned:o}},Pf([E("columnModel")],t.prototype,"columnModel",void 0),Pf([E("rowModel")],t.prototype,"rowModel",void 0),Pf([E("rowRenderer")],t.prototype,"rowRenderer",void 0),Pf([E("pinnedRowModel")],t.prototype,"pinnedRowModel",void 0),Pf([E("paginationProxy")],t.prototype,"paginationProxy",void 0),t=Pf([ae("cellNavigationService")],t),t}(q),BPe=function(){var n=function(t,e){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])},n(t,e)};return function(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");n(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}}(),Ky=function(n,t,e,r){var i=arguments.length,o=i<3?t:r===null?r=Object.getOwnPropertyDescriptor(t,e):r,a;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(n,t,e,r);else for(var s=n.length-1;s>=0;s--)(a=n[s])&&(o=(i<3?a(o):i>3?a(t,e,o):a(t,e))||o);return i>3&&o&&Object.defineProperty(t,e,o),o},HPe=function(n,t){return function(e,r){t(e,r,n)}},nq=function(n){BPe(t,n);function t(){var e=n!==null&&n.apply(this,arguments)||this;return e.consuming=!1,e}return t.prototype.setBeans=function(e){this.logger=e.create("AlignedGridsService")},t.prototype.getAlignedGridApis=function(){var e=this,r,i=(r=this.gridOptionsService.get("alignedGrids"))!==null&&r!==void 0?r:[],o=typeof i=="function";typeof i=="function"&&(i=i());var a=function(){return"See ".concat(e.getFrameworkOverrides().getDocLink("aligned-grids"))},s=i.map(function(l){var u;if(!l){bs("alignedGrids contains an undefined option."),o||bs(`You may want to configure via a callback to avoid setup race conditions:
                     "alignedGrids: () => [linkedGrid]"`),bs(a());return}if(l instanceof EG)return l;var c=l;return"current"in c?(u=c.current)===null||u===void 0?void 0:u.api:(c.api||bs("alignedGrids - No api found on the linked grid. If you are passing gridOptions to alignedGrids since v31 this is no longer valid. ".concat(a())),c.api)}).filter(function(l){return!!l&&!l.isDestroyed()});return s},t.prototype.init=function(){this.addManagedListener(this.eventService,P.EVENT_COLUMN_MOVED,this.fireColumnEvent.bind(this)),this.addManagedListener(this.eventService,P.EVENT_COLUMN_VISIBLE,this.fireColumnEvent.bind(this)),this.addManagedListener(this.eventService,P.EVENT_COLUMN_PINNED,this.fireColumnEvent.bind(this)),this.addManagedListener(this.eventService,P.EVENT_COLUMN_GROUP_OPENED,this.fireColumnEvent.bind(this)),this.addManagedListener(this.eventService,P.EVENT_COLUMN_RESIZED,this.fireColumnEvent.bind(this)),this.addManagedListener(this.eventService,P.EVENT_BODY_SCROLL,this.fireScrollEvent.bind(this))},t.prototype.fireEvent=function(e){this.consuming||this.getAlignedGridApis().forEach(function(r){var i=r.__getAlignedGridService();e(i)})},t.prototype.onEvent=function(e){this.consuming=!0,e(),this.consuming=!1},t.prototype.fireColumnEvent=function(e){this.fireEvent(function(r){r.onColumnEvent(e)})},t.prototype.fireScrollEvent=function(e){e.direction==="horizontal"&&this.fireEvent(function(r){r.onScrollEvent(e)})},t.prototype.onScrollEvent=function(e){var r=this;this.onEvent(function(){var i=r.ctrlsService.getGridBodyCtrl();i.getScrollFeature().setHorizontalScrollPosition(e.left,!0)})},t.prototype.getMasterColumns=function(e){var r=[];return e.columns?e.columns.forEach(function(i){r.push(i)}):e.column&&r.push(e.column),r},t.prototype.getColumnIds=function(e){var r=[];return e.columns?e.columns.forEach(function(i){r.push(i.getColId())}):e.column&&r.push(e.column.getColId()),r},t.prototype.onColumnEvent=function(e){var r=this;this.onEvent(function(){switch(e.type){case P.EVENT_COLUMN_MOVED:case P.EVENT_COLUMN_VISIBLE:case P.EVENT_COLUMN_PINNED:case P.EVENT_COLUMN_RESIZED:var i=e;r.processColumnEvent(i);break;case P.EVENT_COLUMN_GROUP_OPENED:var o=e;r.processGroupOpenedEvent(o);break;case P.EVENT_COLUMN_PIVOT_CHANGED:console.warn("AG Grid: pivoting is not supported with aligned grids. You can only use one of these features at a time in a grid.");break}})},t.prototype.processGroupOpenedEvent=function(e){var r=this;e.columnGroups.forEach(function(i){var o=null;if(i){var a=i.getGroupId();o=r.columnModel.getProvidedColumnGroup(a)}i&&!o||(r.logger.log("onColumnEvent-> processing "+e+" expanded = "+i.isExpanded()),r.columnModel.setColumnGroupOpened(o,i.isExpanded(),"alignedGridChanged"))})},t.prototype.processColumnEvent=function(e){var r=this,i,o=e.column,a=null;if(o&&(a=this.columnModel.getPrimaryColumn(o.getColId())),!(o&&!a)){var s=this.getMasterColumns(e);switch(e.type){case P.EVENT_COLUMN_MOVED:{var l=e,u=e.api.getColumnState(),c=u.map(function(y){return{colId:y.colId}});this.columnModel.applyColumnState({state:c,applyOrder:!0},"alignedGridChanged"),this.logger.log("onColumnEvent-> processing ".concat(e.type," toIndex = ").concat(l.toIndex))}break;case P.EVENT_COLUMN_VISIBLE:{var d=e,u=e.api.getColumnState(),c=u.map(function(C){return{colId:C.colId,hide:C.hide}});this.columnModel.applyColumnState({state:c},"alignedGridChanged"),this.logger.log("onColumnEvent-> processing ".concat(e.type," visible = ").concat(d.visible))}break;case P.EVENT_COLUMN_PINNED:{var p=e,u=e.api.getColumnState(),c=u.map(function(C){return{colId:C.colId,pinned:C.pinned}});this.columnModel.applyColumnState({state:c},"alignedGridChanged"),this.logger.log("onColumnEvent-> processing ".concat(e.type," pinned = ").concat(p.pinned))}break;case P.EVENT_COLUMN_RESIZED:var h=e,f={};s.forEach(function(y){r.logger.log("onColumnEvent-> processing ".concat(e.type," actualWidth = ").concat(y.getActualWidth())),f[y.getId()]={key:y.getColId(),newWidth:y.getActualWidth()}}),(i=h.flexColumns)===null||i===void 0||i.forEach(function(y){f[y.getId()]&&delete f[y.getId()]}),this.columnModel.setColumnWidths(Object.values(f),!1,h.finished,"alignedGridChanged");break}var v=this.ctrlsService.getGridBodyCtrl(),g=v.isVerticalScrollShowing();this.getAlignedGridApis().forEach(function(y){y.setGridOption("alwaysShowVerticalScroll",g)})}},Ky([E("columnModel")],t.prototype,"columnModel",void 0),Ky([E("ctrlsService")],t.prototype,"ctrlsService",void 0),Ky([HPe(0,Jo("loggerFactory"))],t.prototype,"setBeans",null),Ky([z],t.prototype,"init",null),t=Ky([ae("alignedGridsService")],t),t}(q),jPe=function(){var n=function(t,e){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])},n(t,e)};return function(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");n(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}}(),C_=function(n,t,e,r){var i=arguments.length,o=i<3?t:r===null?r=Object.getOwnPropertyDescriptor(t,e):r,a;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(n,t,e,r);else for(var s=n.length-1;s>=0;s--)(a=n[s])&&(o=(i<3?a(o):i>3?a(t,e,o):a(t,e))||o);return i>3&&o&&Object.defineProperty(t,e,o),o},iq=function(n){jPe(t,n);function t(){var e=n!==null&&n.apply(this,arguments)||this;return e.selectedNodes=new Map,e.lastRowNode=null,e}return t.prototype.init=function(){var e=this;this.rowSelection=this.gridOptionsService.get("rowSelection"),this.groupSelectsChildren=this.gridOptionsService.get("groupSelectsChildren"),this.addManagedPropertyListeners(["groupSelectsChildren","rowSelection"],function(){e.groupSelectsChildren=e.gridOptionsService.get("groupSelectsChildren"),e.rowSelection=e.gridOptionsService.get("rowSelection"),e.deselectAllRowNodes({source:"api"})}),this.addManagedListener(this.eventService,P.EVENT_ROW_SELECTED,this.onRowSelected.bind(this))},t.prototype.destroy=function(){n.prototype.destroy.call(this),this.resetNodes(),this.lastRowNode=null},t.prototype.isMultiselect=function(){return this.rowSelection==="multiple"},t.prototype.setNodesSelected=function(e){var r,i=e.newValue,o=e.clearSelection,a=e.suppressFinishActions,s=e.rangeSelect,l=e.nodes,u=e.event,c=e.source,d=c===void 0?"api":c;if(l.length===0)return 0;if(l.length>1&&!this.isMultiselect())return console.warn("AG Grid: cannot multi select while rowSelection='single'"),0;var p=this.groupSelectsChildren&&e.groupSelectsFiltered===!0,h=l.map(function(b){return b.footer?b.sibling:b});if(s){if(l.length>1)return console.warn("AG Grid: cannot range select while selecting multiple rows"),0;var f=null;if(d==="checkboxSelected"&&i===!1&&this.lastRowNode&&(this.lastRowNode.id?f=this.lastRowNode:this.lastRowNode=null),f==null&&(f=this.getLastSelectedNode()),f){var v=h[0],g=v!==f;if(g&&this.isMultiselect())return this.selectRange(v,f,i,d)}}this.lastRowNode=i?null:h[0];for(var y=0,m=0;m<h.length;m++){var C=h[m],S=p&&C.group;if(!S){var w=C.selectThisNode(i,u,d);w&&y++}this.groupSelectsChildren&&(!((r=C.childrenAfterGroup)===null||r===void 0)&&r.length)&&(y+=this.selectChildren(C,i,p,d))}if(!a){var _=i&&(o||!this.isMultiselect());if(_&&(y+=this.clearOtherNodes(h[0],d)),y>0){this.updateGroupsFromChildrenSelections(d);var x={type:P.EVENT_SELECTION_CHANGED,source:d};this.eventService.dispatchEvent(x)}}return y},t.prototype.selectRange=function(e,r,i,o){var a=this;i===void 0&&(i=!0);var s=this.rowModel.getNodesInRangeForSelection(e,r),l=0;s.forEach(function(c){if(!(c.group&&a.groupSelectsChildren)){var d=c.selectThisNode(i,void 0,o);d&&l++}}),this.updateGroupsFromChildrenSelections(o);var u={type:P.EVENT_SELECTION_CHANGED,source:o};return this.eventService.dispatchEvent(u),l},t.prototype.selectChildren=function(e,r,i,o){var a=i?e.childrenAfterAggFilter:e.childrenAfterGroup;return je(a)?0:this.setNodesSelected({newValue:r,clearSelection:!1,suppressFinishActions:!0,groupSelectsFiltered:i,source:o,nodes:a})},t.prototype.getLastSelectedNode=function(){var e=Array.from(this.selectedNodes.keys());if(e.length==0)return null;var r=this.selectedNodes.get(bt(e));return r||null},t.prototype.getSelectedNodes=function(){var e=[];return this.selectedNodes.forEach(function(r){r&&e.push(r)}),e},t.prototype.getSelectedRows=function(){var e=[];return this.selectedNodes.forEach(function(r){r&&r.data&&e.push(r.data)}),e},t.prototype.getSelectionCount=function(){return this.selectedNodes.size},t.prototype.filterFromSelection=function(e){var r=new Map;this.selectedNodes.forEach(function(i,o){var a=i&&e(i);a&&r.set(o,i)}),this.selectedNodes=r},t.prototype.updateGroupsFromChildrenSelections=function(e,r){if(!this.groupSelectsChildren||this.rowModel.getType()!=="clientSide")return!1;var i=this.rowModel,o=i.getRootNode();r||(r=new Bg(!0,o),r.setInactive());var a=!1;return r.forEachChangedNodeDepthFirst(function(s){if(s!==o){var l=s.calculateSelectedFromChildren();a=s.selectThisNode(l===null?!1:l,void 0,e)||a}}),a},t.prototype.clearOtherNodes=function(e,r){var i=this,o=new Map,a=0;return this.selectedNodes.forEach(function(s){if(s&&s.id!==e.id){var l=i.selectedNodes.get(s.id);a+=l.setSelectedParams({newValue:!1,clearSelection:!1,suppressFinishActions:!0,source:r}),i.groupSelectsChildren&&s.parent&&o.set(s.parent.id,s.parent)}}),o.forEach(function(s){var l=s.calculateSelectedFromChildren();s.selectThisNode(l===null?!1:l,void 0,r)}),a},t.prototype.onRowSelected=function(e){var r=e.node;this.groupSelectsChildren&&r.group||(r.isSelected()?this.selectedNodes.set(r.id,r):this.selectedNodes.delete(r.id))},t.prototype.syncInRowNode=function(e,r){this.syncInOldRowNode(e,r),this.syncInNewRowNode(e)},t.prototype.syncInOldRowNode=function(e,r){var i=ce(r)&&e.id!==r.id;if(i&&r){var o=r.id,a=this.selectedNodes.get(o)==e;a&&this.selectedNodes.set(r.id,r)}},t.prototype.syncInNewRowNode=function(e){this.selectedNodes.has(e.id)?(e.setSelectedInitialValue(!0),this.selectedNodes.set(e.id,e)):e.setSelectedInitialValue(!1)},t.prototype.reset=function(e){var r=this.getSelectionCount();if(this.resetNodes(),r){var i={type:P.EVENT_SELECTION_CHANGED,source:e};this.eventService.dispatchEvent(i)}},t.prototype.resetNodes=function(){var e;(e=this.selectedNodes)===null||e===void 0||e.clear()},t.prototype.getBestCostNodeSelection=function(){if(this.rowModel.getType()!=="clientSide")return;var e=this.rowModel,r=e.getTopLevelNodes();if(r===null)return;var i=[];function o(a){for(var s=0,l=a.length;s<l;s++){var u=a[s];if(u.isSelected())i.push(u);else{var c=u;c.group&&c.children&&o(c.children)}}}return o(r),i},t.prototype.isEmpty=function(){var e=0;return this.selectedNodes.forEach(function(r){r&&e++}),e===0},t.prototype.deselectAllRowNodes=function(e){var r=function(u){return u.selectThisNode(!1,void 0,o)},i=this.rowModel.getType()==="clientSide",o=e.source,a=e.justFiltered,s=e.justCurrentPage;if(s||a){if(!i){console.error("AG Grid: selecting just filtered only works when gridOptions.rowModelType='clientSide'");return}this.getNodesToSelect(a,s).forEach(r)}else this.selectedNodes.forEach(function(u){u&&r(u)}),this.reset(o);i&&this.groupSelectsChildren&&this.updateGroupsFromChildrenSelections(o);var l={type:P.EVENT_SELECTION_CHANGED,source:o};this.eventService.dispatchEvent(l)},t.prototype.getSelectedCounts=function(e,r){var i=this,o=0,a=0,s=function(l){i.groupSelectsChildren&&l.group||(l.isSelected()?o++:l.selectable&&a++)};return this.getNodesToSelect(e,r).forEach(s),{selectedCount:o,notSelectedCount:a}},t.prototype.getSelectAllState=function(e,r){var i=this.getSelectedCounts(e,r),o=i.selectedCount,a=i.notSelectedCount;return o===0&&a===0?!1:o>0&&a>0?null:o>0},t.prototype.hasNodesToSelect=function(e,r){return e===void 0&&(e=!1),r===void 0&&(r=!1),this.getNodesToSelect(e,r).filter(function(i){return i.selectable}).length>0},t.prototype.getNodesToSelect=function(e,r){var i=this;if(e===void 0&&(e=!1),r===void 0&&(r=!1),this.rowModel.getType()!=="clientSide")throw new Error("selectAll only available when rowModelType='clientSide', ie not ".concat(this.rowModel.getType()));var o=[];if(r)return this.paginationProxy.forEachNodeOnPage(function(s){if(!s.group){o.push(s);return}if(!s.expanded){var l=function(u){var c;o.push(u),!((c=u.childrenAfterFilter)===null||c===void 0)&&c.length&&u.childrenAfterFilter.forEach(l)};l(s);return}i.groupSelectsChildren||o.push(s)}),o;var a=this.rowModel;return e?(a.forEachNodeAfterFilter(function(s){o.push(s)}),o):(a.forEachNode(function(s){o.push(s)}),o)},t.prototype.selectAllRowNodes=function(e){if(this.rowModel.getType()!=="clientSide")throw new Error("selectAll only available when rowModelType='clientSide', ie not ".concat(this.rowModel.getType()));var r=e.source,i=e.justFiltered,o=e.justCurrentPage,a=function(l){return l.selectThisNode(!0,void 0,r)};this.getNodesToSelect(i,o).forEach(a),this.rowModel.getType()==="clientSide"&&this.groupSelectsChildren&&this.updateGroupsFromChildrenSelections(r);var s={type:P.EVENT_SELECTION_CHANGED,source:r};this.eventService.dispatchEvent(s)},t.prototype.getSelectionState=function(){var e=[];return this.selectedNodes.forEach(function(r){r!=null&&r.id&&e.push(r.id)}),e.length?e:null},t.prototype.setSelectionState=function(e,r){if(Array.isArray(e)){var i=new Set(e),o=[];this.rowModel.forEachNode(function(a){i.has(a.id)&&o.push(a)}),this.setNodesSelected({newValue:!0,nodes:o,source:r})}},C_([E("rowModel")],t.prototype,"rowModel",void 0),C_([E("paginationProxy")],t.prototype,"paginationProxy",void 0),C_([z],t.prototype,"init",null),t=C_([ae("selectionService")],t),t}(q),z3=function(n,t,e,r){var i=arguments.length,o=i<3?t:r===null?r=Object.getOwnPropertyDescriptor(t,e):r,a;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(n,t,e,r);else for(var s=n.length-1;s>=0;s--)(a=n[s])&&(o=(i<3?a(o):i>3?a(t,e,o):a(t,e))||o);return i>3&&o&&Object.defineProperty(t,e,o),o},$Pe=function(n,t){var e=typeof Symbol=="function"&&n[Symbol.iterator];if(!e)return n;var r=e.call(n),i,o=[],a;try{for(;(t===void 0||t-- >0)&&!(i=r.next()).done;)o.push(i.value)}catch(s){a={error:s}}finally{try{i&&!i.done&&(e=r.return)&&e.call(r)}finally{if(a)throw a.error}}return o},WPe=function(n,t,e){if(e||arguments.length===2)for(var r=0,i=t.length,o;r<i;r++)(o||!(r in t))&&(o||(o=Array.prototype.slice.call(t,0,r)),o[r]=t[r]);return n.concat(o||Array.prototype.slice.call(t))},$w=function(){function n(t){var e=this;this.viaApi=function(r){for(var i,o=[],a=1;a<arguments.length;a++)o[a-1]=arguments[a];return Le("Since v31, 'columnApi.".concat(r,"' is deprecated and moved to 'api.").concat(r,"'.")),(i=e.api)[r].apply(i,WPe([],$Pe(o),!1))},this.api=t}return n.prototype.sizeColumnsToFit=function(t){this.viaApi("sizeColumnsToFit",t)},n.prototype.setColumnGroupOpened=function(t,e){this.viaApi("setColumnGroupOpened",t,e)},n.prototype.getColumnGroup=function(t,e){return this.viaApi("getColumnGroup",t,e)},n.prototype.getProvidedColumnGroup=function(t){return this.viaApi("getProvidedColumnGroup",t)},n.prototype.getDisplayNameForColumn=function(t,e){return this.viaApi("getDisplayNameForColumn",t,e)},n.prototype.getDisplayNameForColumnGroup=function(t,e){return this.viaApi("getDisplayNameForColumnGroup",t,e)},n.prototype.getColumn=function(t){return this.viaApi("getColumn",t)},n.prototype.getColumns=function(){return this.viaApi("getColumns")},n.prototype.applyColumnState=function(t){return this.viaApi("applyColumnState",t)},n.prototype.getColumnState=function(){return this.viaApi("getColumnState")},n.prototype.resetColumnState=function(){this.viaApi("resetColumnState")},n.prototype.getColumnGroupState=function(){return this.viaApi("getColumnGroupState")},n.prototype.setColumnGroupState=function(t){this.viaApi("setColumnGroupState",t)},n.prototype.resetColumnGroupState=function(){this.viaApi("resetColumnGroupState")},n.prototype.isPinning=function(){return this.viaApi("isPinning")},n.prototype.isPinningLeft=function(){return this.viaApi("isPinningLeft")},n.prototype.isPinningRight=function(){return this.viaApi("isPinningRight")},n.prototype.getDisplayedColAfter=function(t){return this.viaApi("getDisplayedColAfter",t)},n.prototype.getDisplayedColBefore=function(t){return this.viaApi("getDisplayedColBefore",t)},n.prototype.setColumnVisible=function(t,e){this.viaApi("setColumnVisible",t,e)},n.prototype.setColumnsVisible=function(t,e){this.viaApi("setColumnsVisible",t,e)},n.prototype.setColumnPinned=function(t,e){this.viaApi("setColumnPinned",t,e)},n.prototype.setColumnsPinned=function(t,e){this.viaApi("setColumnsPinned",t,e)},n.prototype.getAllGridColumns=function(){return this.viaApi("getAllGridColumns")},n.prototype.getDisplayedLeftColumns=function(){return this.viaApi("getDisplayedLeftColumns")},n.prototype.getDisplayedCenterColumns=function(){return this.viaApi("getDisplayedCenterColumns")},n.prototype.getDisplayedRightColumns=function(){return this.viaApi("getDisplayedRightColumns")},n.prototype.getAllDisplayedColumns=function(){return this.viaApi("getAllDisplayedColumns")},n.prototype.getAllDisplayedVirtualColumns=function(){return this.viaApi("getAllDisplayedVirtualColumns")},n.prototype.moveColumn=function(t,e){this.viaApi("moveColumn",t,e)},n.prototype.moveColumnByIndex=function(t,e){this.viaApi("moveColumnByIndex",t,e)},n.prototype.moveColumns=function(t,e){this.viaApi("moveColumns",t,e)},n.prototype.moveRowGroupColumn=function(t,e){this.viaApi("moveRowGroupColumn",t,e)},n.prototype.setColumnAggFunc=function(t,e){this.viaApi("setColumnAggFunc",t,e)},n.prototype.setColumnWidth=function(t,e,r,i){r===void 0&&(r=!0),this.viaApi("setColumnWidth",t,e,r,i)},n.prototype.setColumnWidths=function(t,e,r){e===void 0&&(e=!0),this.viaApi("setColumnWidths",t,e,r)},n.prototype.setPivotMode=function(t){this.viaApi("setPivotMode",t)},n.prototype.isPivotMode=function(){return this.viaApi("isPivotMode")},n.prototype.getPivotResultColumn=function(t,e){return this.viaApi("getPivotResultColumn",t,e)},n.prototype.setValueColumns=function(t){this.viaApi("setValueColumns",t)},n.prototype.getValueColumns=function(){return this.viaApi("getValueColumns")},n.prototype.removeValueColumn=function(t){this.viaApi("removeValueColumn",t)},n.prototype.removeValueColumns=function(t){this.viaApi("removeValueColumns",t)},n.prototype.addValueColumn=function(t){this.viaApi("addValueColumn",t)},n.prototype.addValueColumns=function(t){this.viaApi("addValueColumns",t)},n.prototype.setRowGroupColumns=function(t){this.viaApi("setRowGroupColumns",t)},n.prototype.removeRowGroupColumn=function(t){this.viaApi("removeRowGroupColumn",t)},n.prototype.removeRowGroupColumns=function(t){this.viaApi("removeRowGroupColumns",t)},n.prototype.addRowGroupColumn=function(t){this.viaApi("addRowGroupColumn",t)},n.prototype.addRowGroupColumns=function(t){this.viaApi("addRowGroupColumns",t)},n.prototype.getRowGroupColumns=function(){return this.viaApi("getRowGroupColumns")},n.prototype.setPivotColumns=function(t){this.viaApi("setPivotColumns",t)},n.prototype.removePivotColumn=function(t){this.viaApi("removePivotColumn",t)},n.prototype.removePivotColumns=function(t){this.viaApi("removePivotColumns",t)},n.prototype.addPivotColumn=function(t){this.viaApi("addPivotColumn",t)},n.prototype.addPivotColumns=function(t){this.viaApi("addPivotColumns",t)},n.prototype.getPivotColumns=function(){return this.viaApi("getPivotColumns")},n.prototype.getLeftDisplayedColumnGroups=function(){return this.viaApi("getLeftDisplayedColumnGroups")},n.prototype.getCenterDisplayedColumnGroups=function(){return this.viaApi("getCenterDisplayedColumnGroups")},n.prototype.getRightDisplayedColumnGroups=function(){return this.viaApi("getRightDisplayedColumnGroups")},n.prototype.getAllDisplayedColumnGroups=function(){return this.viaApi("getAllDisplayedColumnGroups")},n.prototype.autoSizeColumn=function(t,e){return this.viaApi("autoSizeColumn",t,e)},n.prototype.autoSizeColumns=function(t,e){this.viaApi("autoSizeColumns",t,e)},n.prototype.autoSizeAllColumns=function(t){this.viaApi("autoSizeAllColumns",t)},n.prototype.setPivotResultColumns=function(t){this.viaApi("setPivotResultColumns",t)},n.prototype.getPivotResultColumns=function(){return this.viaApi("getPivotResultColumns")},z3([E("gridApi")],n.prototype,"api",void 0),n=z3([ae("columnApi")],n),n}(),UPe=function(){var n=function(t,e){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])},n(t,e)};return function(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");n(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}}(),Af=function(n,t,e,r){var i=arguments.length,o=i<3?t:r===null?r=Object.getOwnPropertyDescriptor(t,e):r,a;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(n,t,e,r);else for(var s=n.length-1;s>=0;s--)(a=n[s])&&(o=(i<3?a(o):i>3?a(t,e,o):a(t,e))||o);return i>3&&o&&Object.defineProperty(t,e,o),o},oq=function(n){UPe(t,n);function t(){var e=n!==null&&n.apply(this,arguments)||this;return e.initialised=!1,e.isSsrm=!1,e}return t.prototype.init=function(){var e=this;this.isSsrm=this.gridOptionsService.isRowModelType("serverSide"),this.cellExpressions=this.gridOptionsService.get("enableCellExpressions"),this.isTreeData=this.gridOptionsService.get("treeData"),this.initialised=!0;var r=function(o){return e.callColumnCellValueChangedHandler(o)},i=this.gridOptionsService.useAsyncEvents();this.eventService.addEventListener(P.EVENT_CELL_VALUE_CHANGED,r,i),this.addDestroyFunc(function(){return e.eventService.removeEventListener(P.EVENT_CELL_VALUE_CHANGED,r,i)}),this.addManagedPropertyListener("treeData",function(o){return e.isTreeData=o.currentValue})},t.prototype.getValue=function(e,r,i,o){if(i===void 0&&(i=!1),o===void 0&&(o=!1),this.initialised||this.init(),!!r){var a=e.getColDef(),s=a.field,l=e.getColId(),u=r.data,c,d=r.groupData&&r.groupData[l]!==void 0,p=!o&&r.aggData&&r.aggData[l]!==void 0,h=this.isSsrm&&o&&!!e.getColDef().aggFunc,f=this.isSsrm&&r.footer&&r.field&&(e.getColDef().showRowGroup===!0||e.getColDef().showRowGroup===r.field);if(i&&a.filterValueGetter?c=this.executeFilterValueGetter(a.filterValueGetter,u,e,r):this.isTreeData&&p?c=r.aggData[l]:this.isTreeData&&a.valueGetter?c=this.executeValueGetter(a.valueGetter,u,e,r):this.isTreeData&&s&&u?c=Hv(u,s,e.isFieldContainsDots()):d?c=r.groupData[l]:p?c=r.aggData[l]:a.valueGetter?c=this.executeValueGetter(a.valueGetter,u,e,r):f?c=Hv(u,r.field,e.isFieldContainsDots()):s&&u&&!h&&(c=Hv(u,s,e.isFieldContainsDots())),this.cellExpressions&&typeof c=="string"&&c.indexOf("=")===0){var v=c.substring(1);c=this.executeValueGetter(v,u,e,r)}if(c==null){var g=this.getOpenedGroup(r,e);if(g!=null)return g}return c}},t.prototype.getOpenedGroup=function(e,r){if(this.gridOptionsService.get("showOpenedGroup")){var i=r.getColDef();if(i.showRowGroup)for(var o=r.getColDef().showRowGroup,a=e.parent;a!=null;){if(a.rowGroupColumn&&(o===!0||o===a.rowGroupColumn.getColId()))return a.key;a=a.parent}}},t.prototype.setValue=function(e,r,i,o){var a=this.columnModel.getPrimaryColumn(r);if(!e||!a)return!1;je(e.data)&&(e.data={});var s=a.getColDef(),l=s.field,u=s.valueSetter;if(je(l)&&je(u))return console.warn("AG Grid: you need either field or valueSetter set on colDef for editing to work"),!1;if(!this.dataTypeService.checkType(a,i))return console.warn("AG Grid: Data type of the new value does not match the cell data type of the column"),!1;var c=this.gridOptionsService.addGridCommonParams({node:e,data:e.data,oldValue:this.getValue(a,e),newValue:i,colDef:a.getColDef(),column:a});c.newValue=i;var d;if(ce(u)?typeof u=="function"?d=u(c):d=this.expressionService.evaluate(u,c):d=this.setValueUsingField(e.data,l,i,a.isFieldContainsDots()),d===void 0&&(d=!0),!d)return!1;e.resetQuickFilterAggregateText(),this.valueCache.onDataChanged(),c.newValue=this.getValue(a,e);var p={type:P.EVENT_CELL_VALUE_CHANGED,event:null,rowIndex:e.rowIndex,rowPinned:e.rowPinned,column:c.column,api:c.api,columnApi:c.columnApi,colDef:c.colDef,context:c.context,data:e.data,node:e,oldValue:c.oldValue,newValue:c.newValue,value:c.newValue,source:o};return this.eventService.dispatchEvent(p),!0},t.prototype.callColumnCellValueChangedHandler=function(e){var r=e.colDef.onCellValueChanged;typeof r=="function"&&this.getFrameworkOverrides().wrapOutgoing(function(){r({node:e.node,data:e.data,oldValue:e.oldValue,newValue:e.newValue,colDef:e.colDef,column:e.column,api:e.api,columnApi:e.columnApi,context:e.context})})},t.prototype.setValueUsingField=function(e,r,i,o){if(!r)return!1;var a=!1;if(!o)a=e[r]===i,a||(e[r]=i);else for(var s=r.split("."),l=e;s.length>0&&l;){var u=s.shift();s.length===0?(a=l[u]===i,a||(l[u]=i)):l=l[u]}return!a},t.prototype.executeFilterValueGetter=function(e,r,i,o){var a=this.gridOptionsService.addGridCommonParams({data:r,node:o,column:i,colDef:i.getColDef(),getValue:this.getValueCallback.bind(this,o)});return typeof e=="function"?e(a):this.expressionService.evaluate(e,a)},t.prototype.executeValueGetter=function(e,r,i,o){var a=i.getColId(),s=this.valueCache.getValue(o,a);if(s!==void 0)return s;var l=this.gridOptionsService.addGridCommonParams({data:r,node:o,column:i,colDef:i.getColDef(),getValue:this.getValueCallback.bind(this,o)}),u;return typeof e=="function"?u=e(l):u=this.expressionService.evaluate(e,l),this.valueCache.setValue(o,a,u),u},t.prototype.getValueCallback=function(e,r){var i=this.columnModel.getPrimaryColumn(r);return i?this.getValue(i,e):null},t.prototype.getKeyForNode=function(e,r){var i=this.getValue(e,r),o=e.getColDef().keyCreator,a=i;if(o){var s=this.gridOptionsService.addGridCommonParams({value:i,colDef:e.getColDef(),column:e,node:r,data:r.data});a=o(s)}return typeof a=="string"||a==null||(a=String(a),a==="[object Object]"&&Le("a column you are grouping or pivoting by has objects as values. If you want to group by complex objects then either a) use a colDef.keyCreator (se AG Grid docs) or b) to toString() on the object to return a key")),a},Af([E("expressionService")],t.prototype,"expressionService",void 0),Af([E("columnModel")],t.prototype,"columnModel",void 0),Af([E("valueCache")],t.prototype,"valueCache",void 0),Af([E("dataTypeService")],t.prototype,"dataTypeService",void 0),Af([z],t.prototype,"init",null),t=Af([ae("valueService")],t),t}(q),zPe=function(){var n=function(t,e){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])},n(t,e)};return function(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");n(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}}(),K3=function(n,t,e,r){var i=arguments.length,o=i<3?t:r===null?r=Object.getOwnPropertyDescriptor(t,e):r,a;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(n,t,e,r);else for(var s=n.length-1;s>=0;s--)(a=n[s])&&(o=(i<3?a(o):i>3?a(t,e,o):a(t,e))||o);return i>3&&o&&Object.defineProperty(t,e,o),o},KPe=function(n,t){return function(e,r){t(e,r,n)}},aq=function(n){zPe(t,n);function t(){var e=n!==null&&n.apply(this,arguments)||this;return e.expressionToFunctionCache={},e}return t.prototype.setBeans=function(e){this.logger=e.create("ExpressionService")},t.prototype.evaluate=function(e,r){if(typeof e=="string")return this.evaluateExpression(e,r);console.error("AG Grid: value should be either a string or a function",e)},t.prototype.evaluateExpression=function(e,r){try{var i=this.createExpressionFunction(e),o=i(r.value,r.context,r.oldValue,r.newValue,r.value,r.node,r.data,r.colDef,r.rowIndex,r.api,r.columnApi,r.getValue,r.column,r.columnGroup);return o}catch(a){return console.log("Processing of the expression failed"),console.log("Expression = "+e),console.log("Params =",r),console.log("Exception = "+a),null}},t.prototype.createExpressionFunction=function(e){if(this.expressionToFunctionCache[e])return this.expressionToFunctionCache[e];var r=this.createFunctionBody(e),i=new Function("x, ctx, oldValue, newValue, value, node, data, colDef, rowIndex, api, columnApi, getValue, column, columnGroup",r);return this.expressionToFunctionCache[e]=i,i},t.prototype.createFunctionBody=function(e){return e.indexOf("return")>=0?e:"return "+e+";"},K3([KPe(0,Jo("loggerFactory"))],t.prototype,"setBeans",null),t=K3([ae("expressionService")],t),t}(q),YPe=function(){var n=function(t,e){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])},n(t,e)};return function(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");n(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}}(),XPe=function(n,t,e,r){var i=arguments.length,o=i<3?t:r===null?r=Object.getOwnPropertyDescriptor(t,e):r,a;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(n,t,e,r);else for(var s=n.length-1;s>=0;s--)(a=n[s])&&(o=(i<3?a(o):i>3?a(t,e,o):a(t,e))||o);return i>3&&o&&Object.defineProperty(t,e,o),o},sq=function(n){YPe(t,n);function t(){var e=n!==null&&n.apply(this,arguments)||this;return e.templateCache={},e.waitingCallbacks={},e}return t.prototype.getTemplate=function(e,r){var i=this.templateCache[e];if(i)return i;var o=this.waitingCallbacks[e],a=this;if(!o){o=[],this.waitingCallbacks[e]=o;var s=new XMLHttpRequest;s.onload=function(){a.handleHttpResult(this,e)},s.open("GET",e),s.send()}return r&&o.push(r),null},t.prototype.handleHttpResult=function(e,r){if(e.status!==200||e.response===null){console.warn("AG Grid: Unable to get template error ".concat(e.status," - ").concat(r));return}this.templateCache[r]=e.response||e.responseText;for(var i=this.waitingCallbacks[r],o=0;o<i.length;o++){var a=i[o];a()}},t=XPe([ae("templateService")],t),t}(q),qPe=function(){var n=function(t,e){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])},n(t,e)};return function(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");n(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}}(),Y3=function(n,t,e,r){var i=arguments.length,o=i<3?t:r===null?r=Object.getOwnPropertyDescriptor(t,e):r,a;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(n,t,e,r);else for(var s=n.length-1;s>=0;s--)(a=n[s])&&(o=(i<3?a(o):i>3?a(t,e,o):a(t,e))||o);return i>3&&o&&Object.defineProperty(t,e,o),o},ZPe=function(n,t){return function(e,r){t(e,r,n)}},lq=function(n){qPe(t,n);function t(){return n!==null&&n.apply(this,arguments)||this}return t.prototype.setBeans=function(e){this.logging=e.get("debug")},t.prototype.create=function(e){return new FT(e,this.isLogging.bind(this))},t.prototype.isLogging=function(){return this.logging},Y3([ZPe(0,Jo("gridOptionsService"))],t.prototype,"setBeans",null),t=Y3([ae("loggerFactory")],t),t}(q),FT=function(){function n(t,e){this.name=t,this.isLoggingFunc=e}return n.prototype.isLogging=function(){return this.isLoggingFunc()},n.prototype.log=function(t){this.isLoggingFunc()&&console.log("AG Grid."+this.name+": "+t)},n}(),QPe=function(){var n=function(t,e){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])},n(t,e)};return function(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");n(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}}(),Df=function(n,t,e,r){var i=arguments.length,o=i<3?t:r===null?r=Object.getOwnPropertyDescriptor(t,e):r,a;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(n,t,e,r);else for(var s=n.length-1;s>=0;s--)(a=n[s])&&(o=(i<3?a(o):i>3?a(t,e,o):a(t,e))||o);return i>3&&o&&Object.defineProperty(t,e,o),o},uq=function(n){QPe(t,n);function t(){return n!==null&&n.apply(this,arguments)||this}return t.prototype.setComp=function(e,r,i){var o=this;this.view=e,this.eGridHostDiv=r,this.eGui=i,this.eGui.setAttribute("grid-id",this.context.getGridId()),this.dragAndDropService.addDropTarget({getContainer:function(){return o.eGui},isInterestedIn:function(s){return s===Sr.HeaderCell||s===Sr.ToolPanel},getIconName:function(){return Ct.ICON_NOT_ALLOWED}}),this.mouseEventService.stampTopLevelGridCompWithGridInstance(r),this.createManagedBean(new OG(this.view)),this.addRtlSupport();var a=this.resizeObserverService.observeResize(this.eGridHostDiv,this.onGridSizeChanged.bind(this));this.addDestroyFunc(function(){return a()}),this.ctrlsService.registerGridCtrl(this)},t.prototype.isDetailGrid=function(){var e,r=this.focusService.findTabbableParent(this.getGui());return((e=r==null?void 0:r.getAttribute("row-id"))===null||e===void 0?void 0:e.startsWith("detail"))||!1},t.prototype.showDropZones=function(){return ke.__isRegistered(fe.RowGroupingModule,this.context.getGridId())},t.prototype.showSideBar=function(){return ke.__isRegistered(fe.SideBarModule,this.context.getGridId())},t.prototype.showStatusBar=function(){return ke.__isRegistered(fe.StatusBarModule,this.context.getGridId())},t.prototype.showWatermark=function(){return ke.__isRegistered(fe.EnterpriseCoreModule,this.context.getGridId())},t.prototype.onGridSizeChanged=function(){var e={type:P.EVENT_GRID_SIZE_CHANGED,clientWidth:this.eGridHostDiv.clientWidth,clientHeight:this.eGridHostDiv.clientHeight};this.eventService.dispatchEvent(e)},t.prototype.addRtlSupport=function(){var e=this.gridOptionsService.get("enableRtl")?"ag-rtl":"ag-ltr";this.view.setRtlClass(e)},t.prototype.destroyGridUi=function(){this.view.destroyGridUi()},t.prototype.getGui=function(){return this.eGui},t.prototype.setResizeCursor=function(e){this.view.setCursor(e?"ew-resize":null)},t.prototype.disableUserSelect=function(e){this.view.setUserSelect(e?"none":null)},t.prototype.focusNextInnerContainer=function(e){var r=this.gridOptionsService.getDocument(),i=this.view.getFocusableContainers(),o=i.findIndex(function(s){return s.contains(r.activeElement)}),a=o+(e?-1:1);return a<=0||a>=i.length?!1:this.focusService.focusInto(i[a])},t.prototype.focusInnerElement=function(e){var r=this.view.getFocusableContainers(),i=this.columnModel.getAllDisplayedColumns();if(e){if(r.length>1)return this.focusService.focusInto(bt(r),!0);var o=bt(i);if(this.focusService.focusGridView(o,!0))return!0}if(this.gridOptionsService.get("headerHeight")===0||this.gridOptionsService.get("suppressHeaderFocus")){if(this.focusService.focusGridView(i[0]))return!0;for(var a=1;a<r.length;a++)if(this.focusService.focusInto(r[a]))return!0;return!1}return this.focusService.focusFirstHeader()},t.prototype.forceFocusOutOfContainer=function(e){e===void 0&&(e=!1),this.view.forceFocusOutOfContainer(e)},Df([E("focusService")],t.prototype,"focusService",void 0),Df([E("resizeObserverService")],t.prototype,"resizeObserverService",void 0),Df([E("columnModel")],t.prototype,"columnModel",void 0),Df([E("ctrlsService")],t.prototype,"ctrlsService",void 0),Df([E("mouseEventService")],t.prototype,"mouseEventService",void 0),Df([E("dragAndDropService")],t.prototype,"dragAndDropService",void 0),t}(q),JPe=function(){var n=function(t,e){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])},n(t,e)};return function(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");n(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}}(),Yy=function(n,t,e,r){var i=arguments.length,o=i<3?t:r===null?r=Object.getOwnPropertyDescriptor(t,e):r,a;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(n,t,e,r);else for(var s=n.length-1;s>=0;s--)(a=n[s])&&(o=(i<3?a(o):i>3?a(t,e,o):a(t,e))||o);return i>3&&o&&Object.defineProperty(t,e,o),o},NG=function(n){JPe(t,n);function t(e){var r=n.call(this)||this;return r.eGridDiv=e,r}return t.prototype.postConstruct=function(){var e=this;this.logger=this.loggerFactory.create("GridComp");var r={destroyGridUi:function(){return e.destroyBean(e)},setRtlClass:function(o){return e.addCssClass(o)},forceFocusOutOfContainer:this.forceFocusOutOfContainer.bind(this),updateLayoutClasses:this.updateLayoutClasses.bind(this),getFocusableContainers:this.getFocusableContainers.bind(this),setUserSelect:function(o){e.getGui().style.userSelect=o??"",e.getGui().style.webkitUserSelect=o??""},setCursor:function(o){e.getGui().style.cursor=o??""}};this.ctrl=this.createManagedBean(new uq);var i=this.createTemplate();this.setTemplate(i),this.ctrl.setComp(r,this.eGridDiv,this.getGui()),this.insertGridIntoDom(),this.initialiseTabGuard({onTabKeyDown:function(){},focusInnerElement:function(o){return e.ctrl.focusInnerElement(o)},forceFocusOutWhenTabGuardsAreEmpty:!0})},t.prototype.insertGridIntoDom=function(){var e=this,r=this.getGui();this.eGridDiv.appendChild(r),this.addDestroyFunc(function(){e.eGridDiv.removeChild(r),e.logger.log("Grid removed from DOM")})},t.prototype.updateLayoutClasses=function(e,r){var i=this.eRootWrapperBody.classList;i.toggle(Hr.AUTO_HEIGHT,r.autoHeight),i.toggle(Hr.NORMAL,r.normal),i.toggle(Hr.PRINT,r.print),this.addOrRemoveCssClass(Hr.AUTO_HEIGHT,r.autoHeight),this.addOrRemoveCssClass(Hr.NORMAL,r.normal),this.addOrRemoveCssClass(Hr.PRINT,r.print)},t.prototype.createTemplate=function(){var e=this.ctrl.showDropZones()?"<ag-grid-header-drop-zones></ag-grid-header-drop-zones>":"",r=this.ctrl.showSideBar()?'<ag-side-bar ref="sideBar"></ag-side-bar>':"",i=this.ctrl.showStatusBar()?'<ag-status-bar ref="statusBar"></ag-status-bar>':"",o=this.ctrl.showWatermark()?"<ag-watermark></ag-watermark>":"",a=`<div class="ag-root-wrapper" role="presentation">
                `.concat(e,`
                <div class="ag-root-wrapper-body" ref="rootWrapperBody" role="presentation">
                    <ag-grid-body ref="gridBody"></ag-grid-body>
                    `).concat(r,`
                </div>
                `).concat(i,`
                <ag-pagination></ag-pagination>
                `).concat(o,`
            </div>`);return a},t.prototype.getFocusableElement=function(){return this.eRootWrapperBody},t.prototype.getFocusableContainers=function(){var e=[this.gridBodyComp.getGui()];return this.sideBarComp&&e.push(this.sideBarComp.getGui()),e.filter(function(r){return aa(r)})},Yy([E("loggerFactory")],t.prototype,"loggerFactory",void 0),Yy([$("gridBody")],t.prototype,"gridBodyComp",void 0),Yy([$("sideBar")],t.prototype,"sideBarComp",void 0),Yy([$("rootWrapperBody")],t.prototype,"eRootWrapperBody",void 0),Yy([z],t.prototype,"postConstruct",null),t}(pc),eAe=function(){var n=function(t,e){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])},n(t,e)};return function(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");n(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}}(),X3=function(n,t,e,r){var i=arguments.length,o=i<3?t:r===null?r=Object.getOwnPropertyDescriptor(t,e):r,a;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(n,t,e,r);else for(var s=n.length-1;s>=0;s--)(a=n[s])&&(o=(i<3?a(o):i>3?a(t,e,o):a(t,e))||o);return i>3&&o&&Object.defineProperty(t,e,o),o},tl=function(n,t){var e=typeof Symbol=="function"&&n[Symbol.iterator];if(!e)return n;var r=e.call(n),i,o=[],a;try{for(;(t===void 0||t-- >0)&&!(i=r.next()).done;)o.push(i.value)}catch(s){a={error:s}}finally{try{i&&!i.done&&(e=r.return)&&e.call(r)}finally{if(a)throw a.error}}return o},Fc=function(n,t,e){if(e||arguments.length===2)for(var r=0,i=t.length,o;r<i;r++)(o||!(r in t))&&(o||(o=Array.prototype.slice.call(t,0,r)),o[r]=t[r]);return n.concat(o||Array.prototype.slice.call(t))},cq=function(n){eAe(t,n);function t(){return n!==null&&n.apply(this,arguments)||this}e=t,t.prototype.progressSort=function(r,i,o){var a=this.getNextSortDirection(r);this.setSortForColumn(r,a,i,o)},t.prototype.setSortForColumn=function(r,i,o,a){i!=="asc"&&i!=="desc"&&(i=null);var s=this.gridOptionsService.isColumnsSortingCoupledToGroup(),l=[r];if(s&&r.getColDef().showRowGroup){var u=this.columnModel.getSourceColumnsForGroupColumn(r),c=u==null?void 0:u.filter(function(f){return f.isSortable()});c&&(l=Fc([r],tl(c),!1))}l.forEach(function(f){return f.setSort(i,a)});var d=(o||this.gridOptionsService.get("alwaysMultiSort"))&&!this.gridOptionsService.get("suppressMultiSort"),p=[];if(!d){var h=this.clearSortBarTheseColumns(l,a);p.push.apply(p,Fc([],tl(h),!1))}this.updateSortIndex(r),p.push.apply(p,Fc([],tl(l),!1)),this.dispatchSortChangedEvents(a,p)},t.prototype.updateSortIndex=function(r){var i=this.gridOptionsService.isColumnsSortingCoupledToGroup(),o=this.columnModel.getGroupDisplayColumnForGroup(r.getId()),a=i&&o||r,s=this.getColumnsWithSortingOrdered();this.columnModel.getPrimaryAndSecondaryAndAutoColumns().forEach(function(c){return c.setSortIndex(null)});var l=s.filter(function(c){return i&&c.getColDef().showRowGroup?!1:c!==a}),u=a.getSort()?Fc(Fc([],tl(l),!1),[a],!1):l;u.forEach(function(c,d){c.setSortIndex(d)})},t.prototype.onSortChanged=function(r,i){this.dispatchSortChangedEvents(r,i)},t.prototype.isSortActive=function(){var r=this.columnModel.getPrimaryAndSecondaryAndAutoColumns(),i=r.filter(function(o){return!!o.getSort()});return i&&i.length>0},t.prototype.dispatchSortChangedEvents=function(r,i){var o={type:P.EVENT_SORT_CHANGED,source:r};i&&(o.columns=i),this.eventService.dispatchEvent(o)},t.prototype.clearSortBarTheseColumns=function(r,i){var o=[];return this.columnModel.getPrimaryAndSecondaryAndAutoColumns().forEach(function(a){r.includes(a)||(a.getSort()&&o.push(a),a.setSort(void 0,i))}),o},t.prototype.getNextSortDirection=function(r){var i;if(r.getColDef().sortingOrder?i=r.getColDef().sortingOrder:this.gridOptionsService.get("sortingOrder")?i=this.gridOptionsService.get("sortingOrder"):i=e.DEFAULT_SORTING_ORDER,!Array.isArray(i)||i.length<=0)return console.warn("AG Grid: sortingOrder must be an array with at least one element, currently it's ".concat(i)),null;var o=i.indexOf(r.getSort()),a=o<0,s=o==i.length-1,l;return a||s?l=i[0]:l=i[o+1],e.DEFAULT_SORTING_ORDER.indexOf(l)<0?(console.warn("AG Grid: invalid sort type "+l),null):l},t.prototype.getIndexedSortMap=function(){var r=this,i=this.columnModel.getPrimaryAndSecondaryAndAutoColumns().filter(function(c){return!!c.getSort()});if(this.columnModel.isPivotMode()){var o=this.gridOptionsService.isColumnsSortingCoupledToGroup();i=i.filter(function(c){var d=!!c.getAggFunc(),p=!c.isPrimary(),h=o?r.columnModel.getGroupDisplayColumnForGroup(c.getId()):c.getColDef().showRowGroup;return d||p||h})}var a=this.columnModel.getRowGroupColumns().filter(function(c){return!!c.getSort()}),s=this.gridOptionsService.isColumnsSortingCoupledToGroup()&&!!a.length;s&&(i=Fc([],tl(new Set(i.map(function(c){var d;return(d=r.columnModel.getGroupDisplayColumnForGroup(c.getId()))!==null&&d!==void 0?d:c}))),!1));var l={};i.forEach(function(c,d){return l[c.getId()]=d}),i.sort(function(c,d){var p=c.getSortIndex(),h=d.getSortIndex();if(p!=null&&h!=null)return p-h;if(p==null&&h==null){var f=l[c.getId()],v=l[d.getId()];return f>v?1:-1}else return h==null?-1:1});var u=new Map;return i.forEach(function(c,d){return u.set(c,d)}),s&&a.forEach(function(c){var d=r.columnModel.getGroupDisplayColumnForGroup(c.getId());u.set(c,u.get(d))}),u},t.prototype.getColumnsWithSortingOrdered=function(){return Fc([],tl(this.getIndexedSortMap().entries()),!1).sort(function(r,i){var o=tl(r,2);o[0];var a=o[1],s=tl(i,2);s[0];var l=s[1];return a-l}).map(function(r){var i=tl(r,1),o=i[0];return o})},t.prototype.getSortModel=function(){return this.getColumnsWithSortingOrdered().filter(function(r){return r.getSort()}).map(function(r){return{sort:r.getSort(),colId:r.getId()}})},t.prototype.getSortOptions=function(){return this.getColumnsWithSortingOrdered().filter(function(r){return r.getSort()}).map(function(r){return{sort:r.getSort(),column:r}})},t.prototype.canColumnDisplayMixedSort=function(r){var i=this.gridOptionsService.isColumnsSortingCoupledToGroup(),o=!!r.getColDef().showRowGroup;return i&&o},t.prototype.getDisplaySortForColumn=function(r){var i=this.columnModel.getSourceColumnsForGroupColumn(r);if(!this.canColumnDisplayMixedSort(r)||!(i!=null&&i.length))return r.getSort();var o=r.getColDef().field!=null||!!r.getColDef().valueGetter,a=o?Fc([r],tl(i),!1):i,s=a[0].getSort(),l=a.every(function(u){return u.getSort()==s});return l?s:"mixed"},t.prototype.getDisplaySortIndexForColumn=function(r){return this.getIndexedSortMap().get(r)};var e;return t.DEFAULT_SORTING_ORDER=["asc","desc",null],X3([E("columnModel")],t.prototype,"columnModel",void 0),t=e=X3([ae("sortController")],t),t}(q),tAe=function(){var n=function(t,e){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])},n(t,e)};return function(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");n(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}}(),PC=function(){return PC=Object.assign||function(n){for(var t,e=1,r=arguments.length;e<r;e++){t=arguments[e];for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(n[i]=t[i])}return n},PC.apply(this,arguments)},Hi=function(n,t,e,r){var i=arguments.length,o=i<3?t:r===null?r=Object.getOwnPropertyDescriptor(t,e):r,a;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(n,t,e,r);else for(var s=n.length-1;s>=0;s--)(a=n[s])&&(o=(i<3?a(o):i>3?a(t,e,o):a(t,e))||o);return i>3&&o&&Object.defineProperty(t,e,o),o},dq=function(n){tAe(t,n);function t(){return n!==null&&n.apply(this,arguments)||this}e=t,t.addKeyboardModeEvents=function(r){this.instanceCount>0||(r.addEventListener("keydown",e.toggleKeyboardMode),r.addEventListener("mousedown",e.toggleKeyboardMode))},t.removeKeyboardModeEvents=function(r){this.instanceCount>0||(r.addEventListener("keydown",e.toggleKeyboardMode),r.addEventListener("mousedown",e.toggleKeyboardMode))},t.toggleKeyboardMode=function(r){var i=e.keyboardModeActive,o=r.type==="keydown";o&&(r.ctrlKey||r.metaKey||r.altKey)||i!==o&&(e.keyboardModeActive=o)},t.unregisterGridCompController=function(r){e.removeKeyboardModeEvents(r)},t.prototype.init=function(){var r=this,i=this.clearFocusedCell.bind(this);this.addManagedListener(this.eventService,P.EVENT_COLUMN_PIVOT_MODE_CHANGED,i),this.addManagedListener(this.eventService,P.EVENT_NEW_COLUMNS_LOADED,this.onColumnEverythingChanged.bind(this)),this.addManagedListener(this.eventService,P.EVENT_COLUMN_GROUP_OPENED,i),this.addManagedListener(this.eventService,P.EVENT_COLUMN_ROW_GROUP_CHANGED,i),this.registerKeyboardFocusEvents(),this.ctrlsService.whenReady(function(o){r.gridCtrl=o.gridCtrl})},t.prototype.registerKeyboardFocusEvents=function(){var r=this.gridOptionsService.getDocument();e.addKeyboardModeEvents(r),e.instanceCount++,this.addDestroyFunc(function(){e.instanceCount--,e.unregisterGridCompController(r)})},t.prototype.onColumnEverythingChanged=function(){if(this.focusedCellPosition){var r=this.focusedCellPosition.column,i=this.columnModel.getGridColumn(r.getId());r!==i&&this.clearFocusedCell()}},t.prototype.isKeyboardMode=function(){return e.keyboardModeActive},t.prototype.getFocusCellToUseAfterRefresh=function(){var r=this.gridOptionsService.getDocument();return this.gridOptionsService.get("suppressFocusAfterRefresh")||!this.focusedCellPosition||this.isDomDataMissingInHierarchy(r.activeElement,Td.DOM_DATA_KEY_ROW_CTRL)?null:this.focusedCellPosition},t.prototype.getFocusHeaderToUseAfterRefresh=function(){var r=this.gridOptionsService.getDocument();return this.gridOptionsService.get("suppressFocusAfterRefresh")||!this.focusedHeaderPosition||this.isDomDataMissingInHierarchy(r.activeElement,Bw.DOM_DATA_KEY_HEADER_CTRL)?null:this.focusedHeaderPosition},t.prototype.isDomDataMissingInHierarchy=function(r,i){for(var o=r;o;){var a=this.gridOptionsService.getDomData(o,i);if(a)return!1;o=o.parentNode}return!0},t.prototype.getFocusedCell=function(){return this.focusedCellPosition},t.prototype.shouldRestoreFocus=function(r){var i=this;return this.isCellRestoreFocused(r)?(setTimeout(function(){i.restoredFocusedCellPosition=null},0),!0):!1},t.prototype.isCellRestoreFocused=function(r){return this.restoredFocusedCellPosition==null?!1:this.cellPositionUtils.equals(r,this.restoredFocusedCellPosition)},t.prototype.setRestoreFocusedCell=function(r){this.getFrameworkOverrides().renderingEngine==="react"&&(this.restoredFocusedCellPosition=r)},t.prototype.getFocusEventParams=function(){var r=this.focusedCellPosition,i=r.rowIndex,o=r.rowPinned,a=r.column,s={rowIndex:i,rowPinned:o,column:a,isFullWidthCell:!1},l=this.rowRenderer.getRowByPosition({rowIndex:i,rowPinned:o});return l&&(s.isFullWidthCell=l.isFullWidth()),s},t.prototype.clearFocusedCell=function(){if(this.restoredFocusedCellPosition=null,this.focusedCellPosition!=null){var r=PC({type:P.EVENT_CELL_FOCUS_CLEARED},this.getFocusEventParams());this.focusedCellPosition=null,this.eventService.dispatchEvent(r)}},t.prototype.setFocusedCell=function(r){var i=r.column,o=r.rowIndex,a=r.rowPinned,s=r.forceBrowserFocus,l=s===void 0?!1:s,u=r.preventScrollOnBrowserFocus,c=u===void 0?!1:u,d=this.columnModel.getGridColumn(i);if(!d){this.focusedCellPosition=null;return}this.focusedCellPosition=d?{rowIndex:o,rowPinned:jl(a),column:d}:null;var p=PC(PC({type:P.EVENT_CELL_FOCUSED},this.getFocusEventParams()),{forceBrowserFocus:l,preventScrollOnBrowserFocus:c,floating:null});this.eventService.dispatchEvent(p)},t.prototype.isCellFocused=function(r){return this.focusedCellPosition==null?!1:this.cellPositionUtils.equals(r,this.focusedCellPosition)},t.prototype.isRowNodeFocused=function(r){return this.isRowFocused(r.rowIndex,r.rowPinned)},t.prototype.isHeaderWrapperFocused=function(r){if(this.focusedHeaderPosition==null)return!1;var i=r.getColumnGroupChild(),o=r.getRowIndex(),a=r.getPinned(),s=this.focusedHeaderPosition,l=s.column,u=s.headerRowIndex;return i===l&&o===u&&a==l.getPinned()},t.prototype.clearFocusedHeader=function(){this.focusedHeaderPosition=null},t.prototype.getFocusedHeader=function(){return this.focusedHeaderPosition},t.prototype.setFocusedHeader=function(r,i){this.focusedHeaderPosition={headerRowIndex:r,column:i}},t.prototype.focusHeaderPosition=function(r){if(this.gridOptionsService.get("suppressHeaderFocus"))return!1;var i=r.direction,o=r.fromTab,a=r.allowUserOverride,s=r.event,l=r.fromCell,u=r.rowWithoutSpanValue,c=r.headerPosition;if(l&&this.filterManager.isAdvancedFilterHeaderActive())return this.focusAdvancedFilter(c);if(a){var d=this.getFocusedHeader(),p=this.headerNavigationService.getHeaderRowCount();if(o){var h=this.gridOptionsService.getCallback("tabToNextHeader");if(h){var f={backwards:i==="Before",previousHeaderPosition:d,nextHeaderPosition:c,headerRowCount:p};c=h(f)}}else{var h=this.gridOptionsService.getCallback("navigateToNextHeader");if(h&&s){var v={key:s.key,previousHeaderPosition:d,nextHeaderPosition:c,headerRowCount:p,event:s};c=h(v)}}}if(!c)return!1;if(c.headerRowIndex===-1)return this.filterManager.isAdvancedFilterHeaderActive()?this.focusAdvancedFilter(c):this.focusGridView(c.column);this.headerNavigationService.scrollToColumn(c.column,i);var g=this.ctrlsService.getHeaderRowContainerCtrl(c.column.getPinned()),y=g.focusHeader(c.headerRowIndex,c.column,s);return y&&(u!=null||l)&&this.headerNavigationService.setCurrentHeaderRowWithoutSpan(u??-1),y},t.prototype.focusFirstHeader=function(){var r=this.columnModel.getAllDisplayedColumns()[0];if(!r)return!1;r.getParent()&&(r=this.columnModel.getColumnGroupAtLevel(r,0));var i=this.headerPositionUtils.getHeaderIndexToFocus(r,0);return this.focusHeaderPosition({headerPosition:i,rowWithoutSpanValue:0})},t.prototype.focusLastHeader=function(r){var i=this.headerNavigationService.getHeaderRowCount()-1,o=bt(this.columnModel.getAllDisplayedColumns());return this.focusHeaderPosition({headerPosition:{headerRowIndex:i,column:o},rowWithoutSpanValue:-1,event:r})},t.prototype.focusPreviousFromFirstCell=function(r){return this.filterManager.isAdvancedFilterHeaderActive()?this.focusAdvancedFilter(null):this.focusLastHeader(r)},t.prototype.isAnyCellFocused=function(){return!!this.focusedCellPosition},t.prototype.isRowFocused=function(r,i){return this.focusedCellPosition==null?!1:this.focusedCellPosition.rowIndex===r&&this.focusedCellPosition.rowPinned===jl(i)},t.prototype.findFocusableElements=function(r,i,o){o===void 0&&(o=!1);var a=_Y,s=iG;i&&(s+=", "+i),o&&(s+=', [tabindex="-1"]');var l=Array.prototype.slice.apply(r.querySelectorAll(a)).filter(function(d){return aa(d)}),u=Array.prototype.slice.apply(r.querySelectorAll(s));if(!u.length)return l;var c=function(d,p){return d.filter(function(h){return p.indexOf(h)===-1})};return c(l,u)},t.prototype.focusInto=function(r,i,o){i===void 0&&(i=!1),o===void 0&&(o=!1);var a=this.findFocusableElements(r,null,o),s=i?bt(a):a[0];return s?(s.focus({preventScroll:!0}),!0):!1},t.prototype.findFocusableElementBeforeTabGuard=function(r,i){if(!i)return null;var o=this.findFocusableElements(r),a=o.indexOf(i);if(a===-1)return null;for(var s=-1,l=a-1;l>=0;l--)if(o[l].classList.contains(Th.TAB_GUARD_TOP)){s=l;break}return s<=0?null:o[s-1]},t.prototype.findNextFocusableElement=function(r,i,o){r===void 0&&(r=this.eGridDiv);var a=this.findFocusableElements(r,i?':not([tabindex="-1"])':null),s=this.gridOptionsService.getDocument(),l=s.activeElement,u;i?u=a.findIndex(function(d){return d.contains(l)}):u=a.indexOf(l);var c=u+(o?-1:1);return c<0||c>=a.length?null:a[c]},t.prototype.isTargetUnderManagedComponent=function(r,i){if(!i)return!1;var o=r.querySelectorAll(".".concat(eu.FOCUS_MANAGED_CLASS));if(!o.length)return!1;for(var a=0;a<o.length;a++)if(o[a].contains(i))return!0;return!1},t.prototype.findTabbableParent=function(r,i){i===void 0&&(i=5);for(var o=0;r&&Ib(r)===null&&++o<=i;)r=r.parentElement;return Ib(r)===null?null:r},t.prototype.focusGridView=function(r,i){if(this.gridOptionsService.get("suppressCellFocus"))return i?this.gridOptionsService.get("suppressHeaderFocus")?this.focusNextGridCoreContainer(!0,!0):this.focusLastHeader():this.focusNextGridCoreContainer(!1);var o=i?this.rowPositionUtils.getLastRow():this.rowPositionUtils.getFirstRow();if(!o)return!1;var a=o.rowIndex,s=o.rowPinned,l=this.getFocusedHeader();if(!r&&l&&(r=l.column),a==null||!r)return!1;if(this.navigationService.ensureCellVisible({rowIndex:a,column:r,rowPinned:s}),this.setFocusedCell({rowIndex:a,column:r,rowPinned:jl(s),forceBrowserFocus:!0}),this.rangeService){var u={rowIndex:a,rowPinned:s,column:r};this.rangeService.setRangeToCell(u)}return!0},t.prototype.focusNextGridCoreContainer=function(r,i){return i===void 0&&(i=!1),!i&&this.gridCtrl.focusNextInnerContainer(r)?!0:((i||!r&&!this.gridCtrl.isDetailGrid())&&this.gridCtrl.forceFocusOutOfContainer(r),!1)},t.prototype.focusAdvancedFilter=function(r){return this.advancedFilterFocusColumn=r==null?void 0:r.column,this.advancedFilterService.getCtrl().focusHeaderComp()},t.prototype.focusNextFromAdvancedFilter=function(r,i){var o,a,s=(o=i?void 0:this.advancedFilterFocusColumn)!==null&&o!==void 0?o:(a=this.columnModel.getAllDisplayedColumns())===null||a===void 0?void 0:a[0];return r?this.focusHeaderPosition({headerPosition:{column:s,headerRowIndex:this.headerNavigationService.getHeaderRowCount()-1}}):this.focusGridView(s)},t.prototype.clearAdvancedFilterColumn=function(){this.advancedFilterFocusColumn=void 0};var e;return t.keyboardModeActive=!1,t.instanceCount=0,Hi([E("eGridDiv")],t.prototype,"eGridDiv",void 0),Hi([E("columnModel")],t.prototype,"columnModel",void 0),Hi([E("headerNavigationService")],t.prototype,"headerNavigationService",void 0),Hi([E("headerPositionUtils")],t.prototype,"headerPositionUtils",void 0),Hi([E("rowRenderer")],t.prototype,"rowRenderer",void 0),Hi([E("rowPositionUtils")],t.prototype,"rowPositionUtils",void 0),Hi([E("cellPositionUtils")],t.prototype,"cellPositionUtils",void 0),Hi([qe("rangeService")],t.prototype,"rangeService",void 0),Hi([E("navigationService")],t.prototype,"navigationService",void 0),Hi([E("ctrlsService")],t.prototype,"ctrlsService",void 0),Hi([E("filterManager")],t.prototype,"filterManager",void 0),Hi([qe("advancedFilterService")],t.prototype,"advancedFilterService",void 0),Hi([z],t.prototype,"init",null),t=e=Hi([ae("focusService")],t),t}(q),rAe=function(){var n=function(t,e){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])},n(t,e)};return function(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");n(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}}(),nAe=function(n,t,e,r){var i=arguments.length,o=i<3?t:r===null?r=Object.getOwnPropertyDescriptor(t,e):r,a;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(n,t,e,r);else for(var s=n.length-1;s>=0;s--)(a=n[s])&&(o=(i<3?a(o):i>3?a(t,e,o):a(t,e))||o);return i>3&&o&&Object.defineProperty(t,e,o),o},iAe=function(n){rAe(t,n);function t(){return n!==null&&n.apply(this,arguments)||this}return t.prototype.setMouseOver=function(e){this.selectedColumns=e;var r={type:P.EVENT_COLUMN_HOVER_CHANGED};this.eventService.dispatchEvent(r)},t.prototype.clearMouseOver=function(){this.selectedColumns=null;var e={type:P.EVENT_COLUMN_HOVER_CHANGED};this.eventService.dispatchEvent(e)},t.prototype.isHovered=function(e){return!!this.selectedColumns&&this.selectedColumns.indexOf(e)>=0},t=nAe([ae("columnHoverService")],t),t}(q),oAe=function(){var n=function(t,e){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])},n(t,e)};return function(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");n(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}}(),lD=function(n,t,e,r){var i=arguments.length,o=i<3?t:r===null?r=Object.getOwnPropertyDescriptor(t,e):r,a;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(n,t,e,r);else for(var s=n.length-1;s>=0;s--)(a=n[s])&&(o=(i<3?a(o):i>3?a(t,e,o):a(t,e))||o);return i>3&&o&&Object.defineProperty(t,e,o),o},aAe=function(n){oAe(t,n);function t(){var e=n!==null&&n.apply(this,arguments)||this;return e.executeNextFuncs=[],e.executeLaterFuncs=[],e.active=!1,e.suppressAnimation=!1,e.animationThreadCount=0,e}return t.prototype.postConstruct=function(){var e=this;this.ctrlsService.whenReady(function(r){return e.gridBodyCtrl=r.gridBodyCtrl})},t.prototype.isActive=function(){return this.active&&!this.suppressAnimation},t.prototype.setSuppressAnimation=function(e){this.suppressAnimation=e},t.prototype.start=function(){this.active||this.gridOptionsService.get("suppressColumnMoveAnimation")||this.gridOptionsService.get("enableRtl")||(this.ensureAnimationCssClassPresent(),this.active=!0)},t.prototype.finish=function(){var e=this;this.active&&this.flush(function(){e.active=!1})},t.prototype.executeNextVMTurn=function(e){this.active?this.executeNextFuncs.push(e):e()},t.prototype.executeLaterVMTurn=function(e){this.active?this.executeLaterFuncs.push(e):e()},t.prototype.ensureAnimationCssClassPresent=function(){var e=this;this.animationThreadCount++;var r=this.animationThreadCount;this.gridBodyCtrl.setColumnMovingCss(!0),this.executeLaterFuncs.push(function(){e.animationThreadCount===r&&e.gridBodyCtrl.setColumnMovingCss(!1)})},t.prototype.flush=function(e){var r=this;if(this.executeNextFuncs.length===0&&this.executeLaterFuncs.length===0){e();return}var i=function(o){for(;o.length;){var a=o.pop();a&&a()}};this.getFrameworkOverrides().wrapIncoming(function(){window.setTimeout(function(){return i(r.executeNextFuncs)},0),window.setTimeout(function(){i(r.executeLaterFuncs),e()},200)})},lD([E("ctrlsService")],t.prototype,"ctrlsService",void 0),lD([z],t.prototype,"postConstruct",null),t=lD([ae("columnAnimationService")],t),t}(q),sAe=function(){var n=function(t,e){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])},n(t,e)};return function(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");n(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}}(),S_=function(n,t,e,r){var i=arguments.length,o=i<3?t:r===null?r=Object.getOwnPropertyDescriptor(t,e):r,a;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(n,t,e,r);else for(var s=n.length-1;s>=0;s--)(a=n[s])&&(o=(i<3?a(o):i>3?a(t,e,o):a(t,e))||o);return i>3&&o&&Object.defineProperty(t,e,o),o},lAe=function(n){sAe(t,n);function t(){return n!==null&&n.apply(this,arguments)||this}return t.prototype.postConstruct=function(){var e=this;this.ctrlsService.whenReady(function(r){e.centerRowContainerCon=r.centerRowContainerCtrl,e.addManagedListener(e.eventService,P.EVENT_BODY_HEIGHT_CHANGED,e.checkPageSize.bind(e)),e.addManagedListener(e.eventService,P.EVENT_SCROLL_VISIBILITY_CHANGED,e.checkPageSize.bind(e)),e.addManagedPropertyListener("paginationAutoPageSize",e.onPaginationAutoSizeChanged.bind(e)),e.checkPageSize()})},t.prototype.notActive=function(){return!this.gridOptionsService.get("paginationAutoPageSize")||this.centerRowContainerCon==null},t.prototype.onPaginationAutoSizeChanged=function(){this.notActive()?this.paginationProxy.unsetAutoCalculatedPageSize():this.checkPageSize()},t.prototype.checkPageSize=function(){var e=this;if(!this.notActive()){var r=this.centerRowContainerCon.getViewportSizeFeature().getBodyHeight();if(r>0){var i=function(){var o=e.gridOptionsService.getRowHeightAsNumber(),a=Math.floor(r/o);e.paginationProxy.setPageSize(a,"autoCalculated")};this.isBodyRendered?Qo(function(){return i()},50)():(i(),this.isBodyRendered=!0)}else this.isBodyRendered=!1}},S_([E("ctrlsService")],t.prototype,"ctrlsService",void 0),S_([E("paginationProxy")],t.prototype,"paginationProxy",void 0),S_([z],t.prototype,"postConstruct",null),t=S_([ae("paginationAutoPageSizeService")],t),t}(q),uAe=function(){var n=function(t,e){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])},n(t,e)};return function(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");n(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}}(),q3=function(n,t,e,r){var i=arguments.length,o=i<3?t:r===null?r=Object.getOwnPropertyDescriptor(t,e):r,a;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(n,t,e,r);else for(var s=n.length-1;s>=0;s--)(a=n[s])&&(o=(i<3?a(o):i>3?a(t,e,o):a(t,e))||o);return i>3&&o&&Object.defineProperty(t,e,o),o},pq=function(n){uAe(t,n);function t(){var e=n!==null&&n.apply(this,arguments)||this;return e.cacheVersion=0,e}return t.prototype.init=function(){this.active=this.gridOptionsService.get("valueCache"),this.neverExpires=this.gridOptionsService.get("valueCacheNeverExpires")},t.prototype.onDataChanged=function(){this.neverExpires||this.expire()},t.prototype.expire=function(){this.cacheVersion++},t.prototype.setValue=function(e,r,i){this.active&&(e.__cacheVersion!==this.cacheVersion&&(e.__cacheVersion=this.cacheVersion,e.__cacheData={}),e.__cacheData[r]=i)},t.prototype.getValue=function(e,r){if(!(!this.active||e.__cacheVersion!==this.cacheVersion))return e.__cacheData[r]},q3([z],t.prototype,"init",null),t=q3([ae("valueCache")],t),t}(q),cAe=function(){var n=function(t,e){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])},n(t,e)};return function(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");n(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}}(),w_=function(n,t,e,r){var i=arguments.length,o=i<3?t:r===null?r=Object.getOwnPropertyDescriptor(t,e):r,a;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(n,t,e,r);else for(var s=n.length-1;s>=0;s--)(a=n[s])&&(o=(i<3?a(o):i>3?a(t,e,o):a(t,e))||o);return i>3&&o&&Object.defineProperty(t,e,o),o},dAe="paste",pAe=function(n){cAe(t,n);function t(){return n!==null&&n.apply(this,arguments)||this}return t.prototype.init=function(){this.rowModel.getType()==="clientSide"&&(this.clientSideRowModel=this.rowModel),this.addManagedListener(this.eventService,P.EVENT_CELL_VALUE_CHANGED,this.onCellValueChanged.bind(this))},t.prototype.onCellValueChanged=function(e){e.source!==dAe&&this.doChangeDetection(e.node,e.column)},t.prototype.doChangeDetection=function(e,r){if(!this.gridOptionsService.get("suppressChangeDetection")){var i=[e];if(this.clientSideRowModel&&!e.isRowPinned()){var o=this.gridOptionsService.get("aggregateOnlyChangedColumns"),a=new Bg(o,this.clientSideRowModel.getRootNode());a.addParentNode(e.parent,[r]),this.clientSideRowModel.doAggregate(a),a.forEachChangedNodeDepthFirst(function(s){i.push(s)})}this.rowRenderer.refreshCells({rowNodes:i})}},w_([E("rowModel")],t.prototype,"rowModel",void 0),w_([E("rowRenderer")],t.prototype,"rowRenderer",void 0),w_([z],t.prototype,"init",null),t=w_([ae("changeDetectionService")],t),t}(q),hAe=function(){var n=function(t,e){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])},n(t,e)};return function(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");n(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}}(),Z3=function(n,t,e,r){var i=arguments.length,o=i<3?t:r===null?r=Object.getOwnPropertyDescriptor(t,e):r,a;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(n,t,e,r);else for(var s=n.length-1;s>=0;s--)(a=n[s])&&(o=(i<3?a(o):i>3?a(t,e,o):a(t,e))||o);return i>3&&o&&Object.defineProperty(t,e,o),o},fAe=function(n){hAe(t,n);function t(){return n!==null&&n.apply(this,arguments)||this}return t.prototype.adaptFunction=function(e,r){var i=this.componentMetadataProvider.retrieve(e);return i&&i.functionAdapter?i.functionAdapter(r):null},t.prototype.adaptCellRendererFunction=function(e){var r=function(){function i(){}return i.prototype.refresh=function(o){return!1},i.prototype.getGui=function(){return this.eGui},i.prototype.init=function(o){var a=e(o),s=typeof a;if(s==="string"||s==="number"||s==="boolean"){this.eGui=ao("<span>"+a+"</span>");return}if(a==null){this.eGui=ao("<span></span>");return}this.eGui=a},i}();return r},t.prototype.doesImplementIComponent=function(e){return e?e.prototype&&"getGui"in e.prototype:!1},Z3([E("componentMetadataProvider")],t.prototype,"componentMetadataProvider",void 0),t=Z3([ae("agComponentUtils")],t),t}(q),vAe=function(){var n=function(t,e){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])},n(t,e)};return function(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");n(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}}(),uD=function(n,t,e,r){var i=arguments.length,o=i<3?t:r===null?r=Object.getOwnPropertyDescriptor(t,e):r,a;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(n,t,e,r);else for(var s=n.length-1;s>=0;s--)(a=n[s])&&(o=(i<3?a(o):i>3?a(t,e,o):a(t,e))||o);return i>3&&o&&Object.defineProperty(t,e,o),o},gAe=function(n){vAe(t,n);function t(){return n!==null&&n.apply(this,arguments)||this}return t.prototype.postConstruct=function(){this.componentMetaData={dateComponent:{mandatoryMethodList:["getDate","setDate"],optionalMethodList:["afterGuiAttached","setInputPlaceholder","setInputAriaLabel","setDisabled","onParamsUpdated","refresh"]},detailCellRenderer:{mandatoryMethodList:[],optionalMethodList:["refresh"],functionAdapter:this.agComponentUtils.adaptCellRendererFunction.bind(this.agComponentUtils)},headerComponent:{mandatoryMethodList:[],optionalMethodList:["refresh"]},headerGroupComponent:{mandatoryMethodList:[],optionalMethodList:[]},loadingCellRenderer:{mandatoryMethodList:[],optionalMethodList:[]},loadingOverlayComponent:{mandatoryMethodList:[],optionalMethodList:["refresh"]},noRowsOverlayComponent:{mandatoryMethodList:[],optionalMethodList:["refresh"]},floatingFilterComponent:{mandatoryMethodList:["onParentModelChanged"],optionalMethodList:["afterGuiAttached","onParamsUpdated","refresh"]},cellRenderer:{mandatoryMethodList:[],optionalMethodList:["refresh","afterGuiAttached"],functionAdapter:this.agComponentUtils.adaptCellRendererFunction.bind(this.agComponentUtils)},cellEditor:{mandatoryMethodList:["getValue"],optionalMethodList:["isPopup","isCancelBeforeStart","isCancelAfterEnd","getPopupPosition","focusIn","focusOut","afterGuiAttached","refresh"]},innerRenderer:{mandatoryMethodList:[],optionalMethodList:["afterGuiAttached"],functionAdapter:this.agComponentUtils.adaptCellRendererFunction.bind(this.agComponentUtils)},fullWidthCellRenderer:{mandatoryMethodList:[],optionalMethodList:["refresh","afterGuiAttached"],functionAdapter:this.agComponentUtils.adaptCellRendererFunction.bind(this.agComponentUtils)},groupRowRenderer:{mandatoryMethodList:[],optionalMethodList:["afterGuiAttached"],functionAdapter:this.agComponentUtils.adaptCellRendererFunction.bind(this.agComponentUtils)},filter:{mandatoryMethodList:["isFilterActive","doesFilterPass","getModel","setModel"],optionalMethodList:["afterGuiAttached","afterGuiDetached","onNewRowsLoaded","getModelAsString","onFloatingFilterChanged","onAnyFilterChanged","refresh"]},statusPanel:{mandatoryMethodList:[],optionalMethodList:["refresh"]},toolPanel:{mandatoryMethodList:[],optionalMethodList:["refresh","getState"]},tooltipComponent:{mandatoryMethodList:[],optionalMethodList:[]},menuItem:{mandatoryMethodList:[],optionalMethodList:["setActive","select","setExpanded","configureDefaults"]}}},t.prototype.retrieve=function(e){return this.componentMetaData[e]},uD([E("agComponentUtils")],t.prototype,"agComponentUtils",void 0),uD([z],t.prototype,"postConstruct",null),t=uD([ae("componentMetadataProvider")],t),t}(q),yAe=function(){var n=function(t,e){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])},n(t,e)};return function(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");n(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}}(),cD=function(n,t,e,r){var i=arguments.length,o=i<3?t:r===null?r=Object.getOwnPropertyDescriptor(t,e):r,a;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(n,t,e,r);else for(var s=n.length-1;s>=0;s--)(a=n[s])&&(o=(i<3?a(o):i>3?a(t,e,o):a(t,e))||o);return i>3&&o&&Object.defineProperty(t,e,o),o},mAe=function(n,t){var e=typeof Symbol=="function"&&n[Symbol.iterator];if(!e)return n;var r=e.call(n),i,o=[],a;try{for(;(t===void 0||t-- >0)&&!(i=r.next()).done;)o.push(i.value)}catch(s){a={error:s}}finally{try{i&&!i.done&&(e=r.return)&&e.call(r)}finally{if(a)throw a.error}}return o},CAe=function(n,t,e){if(e||arguments.length===2)for(var r=0,i=t.length,o;r<i;r++)(o||!(r in t))&&(o||(o=Array.prototype.slice.call(t,0,r)),o[r]=t[r]);return n.concat(o||Array.prototype.slice.call(t))},SAe=25,Q3=10,dD=8,wAe=4,pD=4,hD=6,_Ae=16,J3=14,fD=8,xAe={"ag-theme-custom":{headerHeight:25,headerCellMinWidth:24,listItemHeight:wAe*5,rowHeight:25,chartMenuPanelWidth:220},"ag-theme-material":{headerHeight:dD*7,headerCellMinWidth:48,listItemHeight:dD*4,rowHeight:dD*6,chartMenuPanelWidth:240},"ag-theme-balham":{headerHeight:pD*8,headerCellMinWidth:24,listItemHeight:pD*6,rowHeight:pD*7,chartMenuPanelWidth:220},"ag-theme-alpine":{headerHeight:hD*8,headerCellMinWidth:36,listItemHeight:hD*4,rowHeight:hD*7,chartMenuPanelWidth:240},"ag-theme-quartz":{headerHeight:J3+fD*4.25,headerCellMinWidth:36,listItemHeight:_Ae+fD,rowHeight:J3+fD*3.5,chartMenuPanelWidth:260}},eW={headerHeight:["ag-header-row"],headerCellMinWidth:["ag-header-cell"],listItemHeight:["ag-virtual-list-item"],rowHeight:["ag-row"],chartMenuPanelWidth:["ag-chart-docked-container"]},hq=function(n){yAe(t,n);function t(){var e=n!==null&&n.apply(this,arguments)||this;return e.calculatedSizes={},e}return t.prototype.postConstruct=function(){var e=this,r,i=(r=this.getTheme().el)!==null&&r!==void 0?r:this.eGridDiv;this.addManagedPropertyListener("rowHeight",function(){return e.refreshRowHeightVariable()}),this.mutationObserver=new MutationObserver(function(){e.calculatedSizes={},e.fireGridStylesChangedEvent()}),this.mutationObserver.observe(i||this.eGridDiv,{attributes:!0,attributeFilter:["class"]})},t.prototype.fireGridStylesChangedEvent=function(){var e={type:P.EVENT_GRID_STYLES_CHANGED};this.eventService.dispatchEvent(e)},t.prototype.getSassVariable=function(e){var r=this.getTheme(),i=r.themeFamily,o=r.el;if(!(!i||i.indexOf("ag-theme")!==0)){this.calculatedSizes||(this.calculatedSizes={}),this.calculatedSizes[i]||(this.calculatedSizes[i]={});var a=this.calculatedSizes[i][e];return a??(this.calculatedSizes[i][e]=this.calculateValueForSassProperty(e,i,o),this.calculatedSizes[i][e])}},t.prototype.calculateValueForSassProperty=function(e,r,i){var o,a="ag-theme-"+(r.match("material")?"material":r.match("balham")?"balham":r.match("alpine")?"alpine":"custom"),s=xAe[a][e],l=this.gridOptionsService.getDocument();if(i||(i=this.eGridDiv),!eW[e])return s;var u=eW[e],c=l.createElement("div"),d=Array.from(i.classList);(o=c.classList).add.apply(o,CAe([r],mAe(d),!1)),c.style.position="absolute";var p=u.reduce(function(v,g){var y=l.createElement("div");return y.style.position="static",y.classList.add(g),v.appendChild(y),y},c),h=0;if(l.body){l.body.appendChild(c);var f=e.toLowerCase().indexOf("height")!==-1?"height":"width";h=parseInt(window.getComputedStyle(p)[f],10),l.body.removeChild(c)}return h||s},t.prototype.isThemeDark=function(){var e=this.getTheme().theme;return!!e&&e.indexOf("dark")>=0},t.prototype.chartMenuPanelWidth=function(){return this.getSassVariable("chartMenuPanelWidth")},t.prototype.getTheme=function(){for(var e=/\bag-(material|(?:theme-([\w\-]*)))\b/g,r=this.eGridDiv,i=null,o=[];r;)if(i=e.exec(r.className),!i)r=r.parentElement||void 0;else{var a=r.className.match(e);a&&(o=a);break}if(!i)return{allThemes:o};var s=i[0];return{theme:s,el:r,themeFamily:s.replace(/-dark$/,""),allThemes:o}},t.prototype.getFromTheme=function(e,r){var i;return(i=this.getSassVariable(r))!==null&&i!==void 0?i:e},t.prototype.getDefaultRowHeight=function(){return this.getFromTheme(SAe,"rowHeight")},t.prototype.getListItemHeight=function(){return this.getFromTheme(20,"listItemHeight")},t.prototype.refreshRowHeightVariable=function(){var e=this.eGridDiv.style.getPropertyValue("--ag-line-height").trim(),r=this.gridOptionsService.get("rowHeight");if(r==null||isNaN(r)||!isFinite(r))return e!==null&&this.eGridDiv.style.setProperty("--ag-line-height",null),-1;var i="".concat(r,"px");return e!=i?(this.eGridDiv.style.setProperty("--ag-line-height",i),r):e!=""?parseFloat(e):-1},t.prototype.getMinColWidth=function(){var e=this.getFromTheme(null,"headerCellMinWidth");return ce(e)?Math.max(e,Q3):Q3},t.prototype.destroy=function(){this.calculatedSizes=null,this.mutationObserver&&this.mutationObserver.disconnect(),n.prototype.destroy.call(this)},cD([E("eGridDiv")],t.prototype,"eGridDiv",void 0),cD([z],t.prototype,"postConstruct",null),t=cD([ae("environment")],t),t}(q),EAe=function(){var n=function(t,e){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])},n(t,e)};return function(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");n(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}}(),__=function(n,t,e,r){var i=arguments.length,o=i<3?t:r===null?r=Object.getOwnPropertyDescriptor(t,e):r,a;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(n,t,e,r);else for(var s=n.length-1;s>=0;s--)(a=n[s])&&(o=(i<3?a(o):i>3?a(t,e,o):a(t,e))||o);return i>3&&o&&Object.defineProperty(t,e,o),o},bAe=function(n,t){return function(e,r){t(e,r,n)}},OAe=function(n){EAe(t,n);function t(){var e=n!==null&&n.apply(this,arguments)||this;return e.scrollY=0,e.uiBodyHeight=0,e}return t.prototype.agWire=function(e){this.logger=e.create("RowContainerHeightService")},t.prototype.postConstruct=function(){this.addManagedListener(this.eventService,P.EVENT_BODY_HEIGHT_CHANGED,this.updateOffset.bind(this)),this.maxDivHeight=gY(),this.logger.log("maxDivHeight = "+this.maxDivHeight)},t.prototype.isStretching=function(){return this.stretching},t.prototype.getDivStretchOffset=function(){return this.divStretchOffset},t.prototype.updateOffset=function(){if(this.stretching){var e=this.ctrlsService.getGridBodyCtrl(),r=e.getScrollFeature().getVScrollPosition().top,i=this.getUiBodyHeight(),o=r!==this.scrollY||i!==this.uiBodyHeight;o&&(this.scrollY=r,this.uiBodyHeight=i,this.calculateOffset())}},t.prototype.calculateOffset=function(){this.setUiContainerHeight(this.maxDivHeight),this.pixelsToShave=this.modelHeight-this.uiContainerHeight,this.maxScrollY=this.uiContainerHeight-this.uiBodyHeight;var e=this.scrollY/this.maxScrollY,r=e*this.pixelsToShave;this.logger.log("Div Stretch Offset = ".concat(r," (").concat(this.pixelsToShave," * ").concat(e,")")),this.setDivStretchOffset(r)},t.prototype.setUiContainerHeight=function(e){e!==this.uiContainerHeight&&(this.uiContainerHeight=e,this.eventService.dispatchEvent({type:P.EVENT_ROW_CONTAINER_HEIGHT_CHANGED}))},t.prototype.clearOffset=function(){this.setUiContainerHeight(this.modelHeight),this.pixelsToShave=0,this.setDivStretchOffset(0)},t.prototype.setDivStretchOffset=function(e){var r=typeof e=="number"?Math.floor(e):null;this.divStretchOffset!==r&&(this.divStretchOffset=r,this.eventService.dispatchEvent({type:P.EVENT_HEIGHT_SCALE_CHANGED}))},t.prototype.setModelHeight=function(e){this.modelHeight=e,this.stretching=e!=null&&this.maxDivHeight>0&&e>this.maxDivHeight,this.stretching?this.calculateOffset():this.clearOffset()},t.prototype.getUiContainerHeight=function(){return this.uiContainerHeight},t.prototype.getRealPixelPosition=function(e){return e-this.divStretchOffset},t.prototype.getUiBodyHeight=function(){var e=this.ctrlsService.getGridBodyCtrl(),r=e.getScrollFeature().getVScrollPosition();return r.bottom-r.top},t.prototype.getScrollPositionForPixel=function(e){if(this.pixelsToShave<=0)return e;var r=this.modelHeight-this.getUiBodyHeight(),i=e/r,o=this.maxScrollY*i;return o},__([E("ctrlsService")],t.prototype,"ctrlsService",void 0),__([bAe(0,Jo("loggerFactory"))],t.prototype,"agWire",null),__([z],t.prototype,"postConstruct",null),t=__([ae("rowContainerHeightService")],t),t}(q),RAe=function(){var n=function(t,e){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])},n(t,e)};return function(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");n(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}}(),x_=function(n,t,e,r){var i=arguments.length,o=i<3?t:r===null?r=Object.getOwnPropertyDescriptor(t,e):r,a;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(n,t,e,r);else for(var s=n.length-1;s>=0;s--)(a=n[s])&&(o=(i<3?a(o):i>3?a(t,e,o):a(t,e))||o);return i>3&&o&&Object.defineProperty(t,e,o),o},fq=function(n){RAe(t,n);function t(){return n!==null&&n.apply(this,arguments)||this}return t.prototype.init=function(){var e=this;this.addManagedPropertyListener("isRowSelectable",function(){return e.updateSelectable()})},t.prototype.updateSelectableAfterGrouping=function(){this.updateSelectable(!0)},t.prototype.updateSelectable=function(e){e===void 0&&(e=!1);var r=!!this.gridOptionsService.get("rowSelection"),i=this.gridOptionsService.get("isRowSelectable");if(!(!r||!i)){var o=this.gridOptionsService.get("groupSelectsChildren"),a=this.rowModel.getType()==="clientSide"&&o,s=[],l=function(d){if(!(e&&!d.group)){if(a&&d.group){var p=d.childrenAfterGroup.some(function(f){return f.selectable===!0});d.setRowSelectable(p,!0);return}var h=i?i(d):!0;d.setRowSelectable(h,!0),!h&&d.isSelected()&&s.push(d)}};if(a){var u=this.rowModel,c=new Bg(!1,u.getRootNode());c.forEachChangedNodeDepthFirst(l,!0,!0)}else this.rowModel.forEachNode(l);s.length&&this.selectionService.setNodesSelected({nodes:s,newValue:!1,source:"selectableChanged"}),a&&this.selectionService instanceof iq&&this.selectionService.updateGroupsFromChildrenSelections("selectableChanged")}},x_([E("rowModel")],t.prototype,"rowModel",void 0),x_([E("selectionService")],t.prototype,"selectionService",void 0),x_([z],t.prototype,"init",null),t=x_([ae("selectableService")],t),t}(q),TAe=function(){var n=function(t,e){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])},n(t,e)};return function(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");n(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}}(),Ro=function(n,t,e,r){var i=arguments.length,o=i<3?t:r===null?r=Object.getOwnPropertyDescriptor(t,e):r,a;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(n,t,e,r);else for(var s=n.length-1;s>=0;s--)(a=n[s])&&(o=(i<3?a(o):i>3?a(t,e,o):a(t,e))||o);return i>3&&o&&Object.defineProperty(t,e,o),o},PAe=function(n){TAe(t,n);function t(){var e=n.call(this)||this;return e.previousAndFirstButtonsDisabled=!1,e.nextButtonDisabled=!1,e.lastButtonDisabled=!1,e.areListenersSetup=!1,e}return t.prototype.postConstruct=function(){var e=this,r=this.gridOptionsService.get("enableRtl");this.setTemplate(this.getTemplate());var i=this,o=i.btFirst,a=i.btPrevious,s=i.btNext,l=i.btLast;i.pageSizeComp,this.activateTabIndex([o,a,s,l]),o.insertAdjacentElement("afterbegin",Wr(r?"last":"first",this.gridOptionsService)),a.insertAdjacentElement("afterbegin",Wr(r?"next":"previous",this.gridOptionsService)),s.insertAdjacentElement("afterbegin",Wr(r?"previous":"next",this.gridOptionsService)),l.insertAdjacentElement("afterbegin",Wr(r?"first":"last",this.gridOptionsService)),this.addManagedPropertyListener("pagination",this.onPaginationChanged.bind(this)),this.addManagedPropertyListener("suppressPaginationPanel",this.onPaginationChanged.bind(this)),this.addManagedPropertyListeners(["paginationPageSizeSelector","paginationAutoPageSize","suppressPaginationPanel"],function(){return e.onPageSizeRelatedOptionsChange()}),this.pageSizeComp.toggleSelectDisplay(this.pageSizeComp.shouldShowPageSizeSelector()),this.onPaginationChanged()},t.prototype.onPaginationChanged=function(){var e=this.gridOptionsService.get("pagination"),r=e&&!this.gridOptionsService.get("suppressPaginationPanel");this.setDisplayed(r),r&&(this.setupListeners(),this.enableOrDisableButtons(),this.updateRowLabels(),this.setCurrentPageLabel(),this.setTotalLabels(),this.onPageSizeRelatedOptionsChange())},t.prototype.onPageSizeRelatedOptionsChange=function(){this.pageSizeComp.toggleSelectDisplay(this.pageSizeComp.shouldShowPageSizeSelector())},t.prototype.setupListeners=function(){var e=this;this.areListenersSetup||(this.addManagedListener(this.eventService,P.EVENT_PAGINATION_CHANGED,this.onPaginationChanged.bind(this)),[{el:this.btFirst,fn:this.onBtFirst.bind(this)},{el:this.btPrevious,fn:this.onBtPrevious.bind(this)},{el:this.btNext,fn:this.onBtNext.bind(this)},{el:this.btLast,fn:this.onBtLast.bind(this)}].forEach(function(r){var i=r.el,o=r.fn;e.addManagedListener(i,"click",o),e.addManagedListener(i,"keydown",function(a){(a.key===U.ENTER||a.key===U.SPACE)&&(a.preventDefault(),o())})}),this.areListenersSetup=!0)},t.prototype.onBtFirst=function(){this.previousAndFirstButtonsDisabled||this.paginationProxy.goToFirstPage()},t.prototype.setCurrentPageLabel=function(){var e=this.paginationProxy.getTotalPages()>0,r=this.paginationProxy.getCurrentPage(),i=e?r+1:0;this.lbCurrent.textContent=this.formatNumber(i)},t.prototype.formatNumber=function(e){var r=this.gridOptionsService.getCallback("paginationNumberFormatter");if(r){var i={value:e};return r(i)}var o=this.localeService.getLocaleTextFunc(),a=o("thousandSeparator",","),s=o("decimalSeparator",".");return nG(e,a,s)},t.prototype.getTemplate=function(){var e=this.localeService.getLocaleTextFunc(),r=e("page","Page"),i=e("to","to"),o=e("of","of"),a=e("firstPage","First Page"),s=e("previousPage","Previous Page"),l=e("nextPage","Next Page"),u=e("lastPage","Last Page"),c=this.getCompId();return'<div class="ag-paging-panel ag-unselectable" id="ag-'.concat(c,`">
                <ag-page-size-selector ref="pageSizeComp"></ag-page-size-selector>
                <span class="ag-paging-row-summary-panel" role="status">
                    <span id="ag-`).concat(c,`-first-row" ref="lbFirstRowOnPage" class="ag-paging-row-summary-panel-number"></span>
                    <span id="ag-`).concat(c,'-to">').concat(i,`</span>
                    <span id="ag-`).concat(c,`-last-row" ref="lbLastRowOnPage" class="ag-paging-row-summary-panel-number"></span>
                    <span id="ag-`).concat(c,'-of">').concat(o,`</span>
                    <span id="ag-`).concat(c,`-row-count" ref="lbRecordCount" class="ag-paging-row-summary-panel-number"></span>
                </span>
                <span class="ag-paging-page-summary-panel" role="presentation">
                    <div ref="btFirst" class="ag-button ag-paging-button" role="button" aria-label="`).concat(a,`"></div>
                    <div ref="btPrevious" class="ag-button ag-paging-button" role="button" aria-label="`).concat(s,`"></div>
                    <span class="ag-paging-description" role="status">
                        <span id="ag-`).concat(c,'-start-page">').concat(r,`</span>
                        <span id="ag-`).concat(c,`-start-page-number" ref="lbCurrent" class="ag-paging-number"></span>
                        <span id="ag-`).concat(c,'-of-page">').concat(o,`</span>
                        <span id="ag-`).concat(c,`-of-page-number" ref="lbTotal" class="ag-paging-number"></span>
                    </span>
                    <div ref="btNext" class="ag-button ag-paging-button" role="button" aria-label="`).concat(l,`"></div>
                    <div ref="btLast" class="ag-button ag-paging-button" role="button" aria-label="`).concat(u,`"></div>
                </span>
            </div>`)},t.prototype.onBtNext=function(){this.nextButtonDisabled||this.paginationProxy.goToNextPage()},t.prototype.onBtPrevious=function(){this.previousAndFirstButtonsDisabled||this.paginationProxy.goToPreviousPage()},t.prototype.onBtLast=function(){this.lastButtonDisabled||this.paginationProxy.goToLastPage()},t.prototype.enableOrDisableButtons=function(){var e=this.paginationProxy.getCurrentPage(),r=this.paginationProxy.isLastPageFound(),i=this.paginationProxy.getTotalPages();this.previousAndFirstButtonsDisabled=e===0,this.toggleButtonDisabled(this.btFirst,this.previousAndFirstButtonsDisabled),this.toggleButtonDisabled(this.btPrevious,this.previousAndFirstButtonsDisabled);var o=this.isZeroPagesToDisplay(),a=e===i-1;this.nextButtonDisabled=a||o,this.lastButtonDisabled=!r||o||e===i-1,this.toggleButtonDisabled(this.btNext,this.nextButtonDisabled),this.toggleButtonDisabled(this.btLast,this.lastButtonDisabled)},t.prototype.toggleButtonDisabled=function(e,r){Wk(e,r),e.classList.toggle("ag-disabled",r)},t.prototype.updateRowLabels=function(){var e=this.paginationProxy.getCurrentPage(),r=this.paginationProxy.getPageSize(),i=this.paginationProxy.isLastPageFound(),o=this.paginationProxy.isLastPageFound()?this.paginationProxy.getMasterRowCount():null,a,s;if(this.isZeroPagesToDisplay()?a=s=0:(a=r*e+1,s=a+r-1,i&&s>o&&(s=o)),this.lbFirstRowOnPage.textContent=this.formatNumber(a),this.rowNodeBlockLoader.isLoading()){var l=this.localeService.getLocaleTextFunc();this.lbLastRowOnPage.innerHTML=l("pageLastRowUnknown","?")}else this.lbLastRowOnPage.textContent=this.formatNumber(s)},t.prototype.isZeroPagesToDisplay=function(){var e=this.paginationProxy.isLastPageFound(),r=this.paginationProxy.getTotalPages();return e&&r===0},t.prototype.setTotalLabels=function(){var e=this.paginationProxy.isLastPageFound(),r=this.paginationProxy.getTotalPages(),i=e?this.paginationProxy.getMasterRowCount():null;if(i===1){var o=this.paginationProxy.getRow(0),a=o&&o.group&&!(o.groupData||o.aggData);if(a){this.setTotalLabelsToZero();return}}if(e)this.lbTotal.textContent=this.formatNumber(r),this.lbRecordCount.textContent=this.formatNumber(i);else{var s=this.localeService.getLocaleTextFunc()("more","more");this.lbTotal.innerHTML=s,this.lbRecordCount.innerHTML=s}},t.prototype.setTotalLabelsToZero=function(){this.lbFirstRowOnPage.textContent=this.formatNumber(0),this.lbCurrent.textContent=this.formatNumber(0),this.lbLastRowOnPage.textContent=this.formatNumber(0),this.lbTotal.textContent=this.formatNumber(0),this.lbRecordCount.textContent=this.formatNumber(0)},Ro([E("paginationProxy")],t.prototype,"paginationProxy",void 0),Ro([E("rowNodeBlockLoader")],t.prototype,"rowNodeBlockLoader",void 0),Ro([$("btFirst")],t.prototype,"btFirst",void 0),Ro([$("btPrevious")],t.prototype,"btPrevious",void 0),Ro([$("btNext")],t.prototype,"btNext",void 0),Ro([$("btLast")],t.prototype,"btLast",void 0),Ro([$("lbRecordCount")],t.prototype,"lbRecordCount",void 0),Ro([$("lbFirstRowOnPage")],t.prototype,"lbFirstRowOnPage",void 0),Ro([$("lbLastRowOnPage")],t.prototype,"lbLastRowOnPage",void 0),Ro([$("lbCurrent")],t.prototype,"lbCurrent",void 0),Ro([$("lbTotal")],t.prototype,"lbTotal",void 0),Ro([$("pageSizeComp")],t.prototype,"pageSizeComp",void 0),Ro([z],t.prototype,"postConstruct",null),t}(de),AAe=function(){var n=function(t,e){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])},n(t,e)};return function(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");n(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}}(),vD=function(n,t,e,r){var i=arguments.length,o=i<3?t:r===null?r=Object.getOwnPropertyDescriptor(t,e):r,a;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(n,t,e,r);else for(var s=n.length-1;s>=0;s--)(a=n[s])&&(o=(i<3?a(o):i>3?a(t,e,o):a(t,e))||o);return i>3&&o&&Object.defineProperty(t,e,o),o},DAe=function(n){AAe(t,n);function t(){var e=n.call(this,t.TEMPLATE)||this;return e.inProgress=!1,e.destroyRequested=!1,e}return t.prototype.updateLayoutClasses=function(e,r){var i=this.eOverlayWrapper.classList;i.toggle(Hr.AUTO_HEIGHT,r.autoHeight),i.toggle(Hr.NORMAL,r.normal),i.toggle(Hr.PRINT,r.print)},t.prototype.postConstruct=function(){this.createManagedBean(new OG(this)),this.setDisplayed(!1,{skipAriaHidden:!0}),this.overlayService.registerOverlayWrapperComp(this)},t.prototype.setWrapperTypeClass=function(e){var r=this.eOverlayWrapper.classList;this.activeOverlayWrapperCssClass&&r.toggle(this.activeOverlayWrapperCssClass,!1),this.activeOverlayWrapperCssClass=e,r.toggle(e,!0)},t.prototype.showOverlay=function(e,r,i){var o=this;this.inProgress||(this.setWrapperTypeClass(r),this.destroyActiveOverlay(),this.inProgress=!0,e&&e.then(function(a){o.inProgress=!1,o.eOverlayWrapper.appendChild(a.getGui()),o.activeOverlay=a,o.updateListenerDestroyFunc=i,o.destroyRequested&&(o.destroyRequested=!1,o.destroyActiveOverlay())}),this.setDisplayed(!0,{skipAriaHidden:!0}))},t.prototype.destroyActiveOverlay=function(){var e;if(this.inProgress){this.destroyRequested=!0;return}this.activeOverlay&&(this.activeOverlay=this.getContext().destroyBean(this.activeOverlay),(e=this.updateListenerDestroyFunc)===null||e===void 0||e.call(this),Sn(this.eOverlayWrapper))},t.prototype.hideOverlay=function(){this.destroyActiveOverlay(),this.setDisplayed(!1,{skipAriaHidden:!0})},t.prototype.destroy=function(){this.destroyActiveOverlay(),n.prototype.destroy.call(this)},t.TEMPLATE=`
        <div class="ag-overlay" role="presentation">
            <div class="ag-overlay-panel" role="presentation">
                <div class="ag-overlay-wrapper" ref="eOverlayWrapper" role="presentation"></div>
            </div>
        </div>`,vD([E("overlayService")],t.prototype,"overlayService",void 0),vD([$("eOverlayWrapper")],t.prototype,"eOverlayWrapper",void 0),vD([z],t.prototype,"postConstruct",null),t}(de),MAe=function(){var n=function(t,e){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])},n(t,e)};return function(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");n(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}}(),E_=function(n,t,e,r){var i=arguments.length,o=i<3?t:r===null?r=Object.getOwnPropertyDescriptor(t,e):r,a;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(n,t,e,r);else for(var s=n.length-1;s>=0;s--)(a=n[s])&&(o=(i<3?a(o):i>3?a(t,e,o):a(t,e))||o);return i>3&&o&&Object.defineProperty(t,e,o),o},vq=function(n){MAe(t,n);function t(){return n!==null&&n.apply(this,arguments)||this}return t.prototype.getFirstRow=function(){var e=0,r;return this.pinnedRowModel.getPinnedTopRowCount()?r="top":this.rowModel.getRowCount()?(r=null,e=this.paginationProxy.getPageFirstRow()):this.pinnedRowModel.getPinnedBottomRowCount()&&(r="bottom"),r===void 0?null:{rowIndex:e,rowPinned:r}},t.prototype.getLastRow=function(){var e,r=null,i=this.pinnedRowModel.getPinnedBottomRowCount(),o=this.pinnedRowModel.getPinnedTopRowCount();return i?(r="bottom",e=i-1):this.rowModel.getRowCount()?(r=null,e=this.paginationProxy.getPageLastRow()):o&&(r="top",e=o-1),e===void 0?null:{rowIndex:e,rowPinned:r}},t.prototype.getRowNode=function(e){switch(e.rowPinned){case"top":return this.pinnedRowModel.getPinnedTopRowData()[e.rowIndex];case"bottom":return this.pinnedRowModel.getPinnedBottomRowData()[e.rowIndex];default:return this.rowModel.getRow(e.rowIndex)}},t.prototype.sameRow=function(e,r){return!e&&!r?!0:e&&!r||!e&&r?!1:e.rowIndex===r.rowIndex&&e.rowPinned==r.rowPinned},t.prototype.before=function(e,r){switch(e.rowPinned){case"top":if(r.rowPinned!=="top")return!0;break;case"bottom":if(r.rowPinned!=="bottom")return!1;break;default:if(ce(r.rowPinned))return r.rowPinned!=="top";break}return e.rowIndex<r.rowIndex},t.prototype.rowMax=function(e){var r=this,i;return e.forEach(function(o){(i===void 0||r.before(i,o))&&(i=o)}),i},t.prototype.rowMin=function(e){var r=this,i;return e.forEach(function(o){(i===void 0||r.before(o,i))&&(i=o)}),i},E_([E("rowModel")],t.prototype,"rowModel",void 0),E_([E("pinnedRowModel")],t.prototype,"pinnedRowModel",void 0),E_([E("paginationProxy")],t.prototype,"paginationProxy",void 0),t=E_([ae("rowPositionUtils")],t),t}(q),FAe=function(){var n=function(t,e){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])},n(t,e)};return function(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");n(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}}(),LAe=function(n,t,e,r){var i=arguments.length,o=i<3?t:r===null?r=Object.getOwnPropertyDescriptor(t,e):r,a;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(n,t,e,r);else for(var s=n.length-1;s>=0;s--)(a=n[s])&&(o=(i<3?a(o):i>3?a(t,e,o):a(t,e))||o);return i>3&&o&&Object.defineProperty(t,e,o),o},gq=function(n){FAe(t,n);function t(){return n!==null&&n.apply(this,arguments)||this}return t.prototype.createId=function(e){var r=e.rowIndex,i=e.rowPinned,o=e.column;return this.createIdFromValues({rowIndex:r,column:o,rowPinned:i})},t.prototype.createIdFromValues=function(e){var r=e.rowIndex,i=e.rowPinned,o=e.column;return"".concat(r,".").concat(i??"null",".").concat(o.getId())},t.prototype.equals=function(e,r){var i=e.column===r.column,o=e.rowPinned===r.rowPinned,a=e.rowIndex===r.rowIndex;return i&&o&&a},t=LAe([ae("cellPositionUtils")],t),t}(q),IAe=function(){var n=function(t,e){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])},n(t,e)};return function(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");n(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}}(),Im=function(){function n(t){this.cellValueChanges=t}return n}(),gD=function(n){IAe(t,n);function t(e,r,i,o){var a=n.call(this,e)||this;return a.initialRange=r,a.finalRange=i,a.ranges=o,a}return t}(Im),tW=function(){function n(t){this.actionStack=[],this.maxStackSize=t||n.DEFAULT_STACK_SIZE,this.actionStack=new Array(this.maxStackSize)}return n.prototype.pop=function(){return this.actionStack.pop()},n.prototype.push=function(t){var e=t.cellValueChanges&&t.cellValueChanges.length>0;e&&(this.actionStack.length===this.maxStackSize&&this.actionStack.shift(),this.actionStack.push(t))},n.prototype.clear=function(){this.actionStack=[]},n.prototype.getCurrentStackSize=function(){return this.actionStack.length},n.DEFAULT_STACK_SIZE=10,n}(),NAe=function(){var n=function(t,e){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])},n(t,e)};return function(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");n(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}}(),Yb=function(){return Yb=Object.assign||function(n){for(var t,e=1,r=arguments.length;e<r;e++){t=arguments[e];for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(n[i]=t[i])}return n},Yb.apply(this,arguments)},rl=function(n,t,e,r){var i=arguments.length,o=i<3?t:r===null?r=Object.getOwnPropertyDescriptor(t,e):r,a;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(n,t,e,r);else for(var s=n.length-1;s>=0;s--)(a=n[s])&&(o=(i<3?a(o):i>3?a(t,e,o):a(t,e))||o);return i>3&&o&&Object.defineProperty(t,e,o),o},kAe=function(n,t){var e=typeof Symbol=="function"&&n[Symbol.iterator];if(!e)return n;var r=e.call(n),i,o=[],a;try{for(;(t===void 0||t-- >0)&&!(i=r.next()).done;)o.push(i.value)}catch(s){a={error:s}}finally{try{i&&!i.done&&(e=r.return)&&e.call(r)}finally{if(a)throw a.error}}return o},GAe=function(n,t,e){if(e||arguments.length===2)for(var r=0,i=t.length,o;r<i;r++)(o||!(r in t))&&(o||(o=Array.prototype.slice.call(t,0,r)),o[r]=t[r]);return n.concat(o||Array.prototype.slice.call(t))},VAe=function(n){NAe(t,n);function t(){var e=n!==null&&n.apply(this,arguments)||this;return e.cellValueChanges=[],e.activeCellEdit=null,e.activeRowEdit=null,e.isPasting=!1,e.isRangeInAction=!1,e.onCellValueChanged=function(r){var i={column:r.column,rowIndex:r.rowIndex,rowPinned:r.rowPinned},o=e.activeCellEdit!==null&&e.cellPositionUtils.equals(e.activeCellEdit,i),a=e.activeRowEdit!==null&&e.rowPositionUtils.sameRow(e.activeRowEdit,i),s=o||a||e.isPasting||e.isRangeInAction;if(s){var l=r.rowPinned,u=r.rowIndex,c=r.column,d=r.oldValue,p=r.value,h={rowPinned:l,rowIndex:u,columnId:c.getColId(),newValue:p,oldValue:d};e.cellValueChanges.push(h)}},e.clearStacks=function(){e.undoStack.clear(),e.redoStack.clear()},e}return t.prototype.init=function(){var e=this;if(this.gridOptionsService.get("undoRedoCellEditing")){var r=this.gridOptionsService.get("undoRedoCellEditingLimit");r<=0||(this.undoStack=new tW(r),this.redoStack=new tW(r),this.addRowEditingListeners(),this.addCellEditingListeners(),this.addPasteListeners(),this.addFillListeners(),this.addCellKeyListeners(),this.addManagedListener(this.eventService,P.EVENT_CELL_VALUE_CHANGED,this.onCellValueChanged),this.addManagedListener(this.eventService,P.EVENT_MODEL_UPDATED,function(i){i.keepUndoRedoStack||e.clearStacks()}),this.addManagedListener(this.eventService,P.EVENT_COLUMN_PIVOT_MODE_CHANGED,this.clearStacks),this.addManagedListener(this.eventService,P.EVENT_NEW_COLUMNS_LOADED,this.clearStacks),this.addManagedListener(this.eventService,P.EVENT_COLUMN_GROUP_OPENED,this.clearStacks),this.addManagedListener(this.eventService,P.EVENT_COLUMN_ROW_GROUP_CHANGED,this.clearStacks),this.addManagedListener(this.eventService,P.EVENT_COLUMN_MOVED,this.clearStacks),this.addManagedListener(this.eventService,P.EVENT_COLUMN_PINNED,this.clearStacks),this.addManagedListener(this.eventService,P.EVENT_COLUMN_VISIBLE,this.clearStacks),this.addManagedListener(this.eventService,P.EVENT_ROW_DRAG_END,this.clearStacks),this.ctrlsService.whenReady(function(){e.gridBodyCtrl=e.ctrlsService.getGridBodyCtrl()}))}},t.prototype.getCurrentUndoStackSize=function(){return this.undoStack?this.undoStack.getCurrentStackSize():0},t.prototype.getCurrentRedoStackSize=function(){return this.redoStack?this.redoStack.getCurrentStackSize():0},t.prototype.undo=function(e){var r={type:P.EVENT_UNDO_STARTED,source:e};this.eventService.dispatchEvent(r);var i=this.undoRedo(this.undoStack,this.redoStack,"initialRange","oldValue","undo"),o={type:P.EVENT_UNDO_ENDED,source:e,operationPerformed:i};this.eventService.dispatchEvent(o)},t.prototype.redo=function(e){var r={type:P.EVENT_REDO_STARTED,source:e};this.eventService.dispatchEvent(r);var i=this.undoRedo(this.redoStack,this.undoStack,"finalRange","newValue","redo"),o={type:P.EVENT_REDO_ENDED,source:e,operationPerformed:i};this.eventService.dispatchEvent(o)},t.prototype.undoRedo=function(e,r,i,o,a){if(!e)return!1;var s=e.pop();return!s||!s.cellValueChanges?!1:(this.processAction(s,function(l){return l[o]},a),s instanceof gD?this.processRange(s.ranges||[s[i]]):this.processCell(s.cellValueChanges),r.push(s),!0)},t.prototype.processAction=function(e,r,i){var o=this;e.cellValueChanges.forEach(function(a){var s=a.rowIndex,l=a.rowPinned,u=a.columnId,c={rowIndex:s,rowPinned:l},d=o.getRowNode(c);d.displayed&&d.setDataValue(u,r(a),i)})},t.prototype.processRange=function(e){var r=this,i;this.rangeService.removeAllCellRanges(!0),e.forEach(function(o,a){if(o){var s=o.startRow,l=o.endRow;a===e.length-1&&(i={rowPinned:s.rowPinned,rowIndex:s.rowIndex,columnId:o.startColumn.getColId()},r.setLastFocusedCell(i));var u={rowStartIndex:s.rowIndex,rowStartPinned:s.rowPinned,rowEndIndex:l.rowIndex,rowEndPinned:l.rowPinned,columnStart:o.startColumn,columns:o.columns};r.rangeService.addCellRange(u)}})},t.prototype.processCell=function(e){var r=e[0],i=r.rowIndex,o=r.rowPinned,a={rowIndex:i,rowPinned:o},s=this.getRowNode(a),l={rowPinned:r.rowPinned,rowIndex:s.rowIndex,columnId:r.columnId};this.setLastFocusedCell(l,!!this.rangeService)},t.prototype.setLastFocusedCell=function(e,r){var i=e.rowIndex,o=e.columnId,a=e.rowPinned,s=this.gridBodyCtrl.getScrollFeature(),l=this.columnModel.getGridColumn(o);if(l){s.ensureIndexVisible(i),s.ensureColumnVisible(l);var u={rowIndex:i,column:l,rowPinned:a};this.focusService.setFocusedCell(Yb(Yb({},u),{forceBrowserFocus:!0})),r&&this.rangeService.setRangeToCell(u)}},t.prototype.addRowEditingListeners=function(){var e=this;this.addManagedListener(this.eventService,P.EVENT_ROW_EDITING_STARTED,function(r){e.activeRowEdit={rowIndex:r.rowIndex,rowPinned:r.rowPinned}}),this.addManagedListener(this.eventService,P.EVENT_ROW_EDITING_STOPPED,function(){var r=new Im(e.cellValueChanges);e.pushActionsToUndoStack(r),e.activeRowEdit=null})},t.prototype.addCellEditingListeners=function(){var e=this;this.addManagedListener(this.eventService,P.EVENT_CELL_EDITING_STARTED,function(r){e.activeCellEdit={column:r.column,rowIndex:r.rowIndex,rowPinned:r.rowPinned}}),this.addManagedListener(this.eventService,P.EVENT_CELL_EDITING_STOPPED,function(r){e.activeCellEdit=null;var i=r.valueChanged&&!e.activeRowEdit&&!e.isPasting&&!e.isRangeInAction;if(i){var o=new Im(e.cellValueChanges);e.pushActionsToUndoStack(o)}})},t.prototype.addPasteListeners=function(){var e=this;this.addManagedListener(this.eventService,P.EVENT_PASTE_START,function(){e.isPasting=!0}),this.addManagedListener(this.eventService,P.EVENT_PASTE_END,function(){var r=new Im(e.cellValueChanges);e.pushActionsToUndoStack(r),e.isPasting=!1})},t.prototype.addFillListeners=function(){var e=this;this.addManagedListener(this.eventService,P.EVENT_FILL_START,function(){e.isRangeInAction=!0}),this.addManagedListener(this.eventService,P.EVENT_FILL_END,function(r){var i=new gD(e.cellValueChanges,r.initialRange,r.finalRange);e.pushActionsToUndoStack(i),e.isRangeInAction=!1})},t.prototype.addCellKeyListeners=function(){var e=this;this.addManagedListener(this.eventService,P.EVENT_KEY_SHORTCUT_CHANGED_CELL_START,function(){e.isRangeInAction=!0}),this.addManagedListener(this.eventService,P.EVENT_KEY_SHORTCUT_CHANGED_CELL_END,function(){var r;e.rangeService&&e.gridOptionsService.get("enableRangeSelection")?r=new gD(e.cellValueChanges,void 0,void 0,GAe([],kAe(e.rangeService.getCellRanges()),!1)):r=new Im(e.cellValueChanges),e.pushActionsToUndoStack(r),e.isRangeInAction=!1})},t.prototype.pushActionsToUndoStack=function(e){this.undoStack.push(e),this.cellValueChanges=[],this.redoStack.clear()},t.prototype.getRowNode=function(e){switch(e.rowPinned){case"top":return this.pinnedRowModel.getPinnedTopRowData()[e.rowIndex];case"bottom":return this.pinnedRowModel.getPinnedBottomRowData()[e.rowIndex];default:return this.rowModel.getRow(e.rowIndex)}},rl([E("focusService")],t.prototype,"focusService",void 0),rl([E("ctrlsService")],t.prototype,"ctrlsService",void 0),rl([E("rowModel")],t.prototype,"rowModel",void 0),rl([E("pinnedRowModel")],t.prototype,"pinnedRowModel",void 0),rl([E("cellPositionUtils")],t.prototype,"cellPositionUtils",void 0),rl([E("rowPositionUtils")],t.prototype,"rowPositionUtils",void 0),rl([E("columnModel")],t.prototype,"columnModel",void 0),rl([qe("rangeService")],t.prototype,"rangeService",void 0),rl([z],t.prototype,"init",null),t=rl([ae("undoRedoService")],t),t}(q),BAe=function(){var n=function(t,e){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])},n(t,e)};return function(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");n(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}}(),yD=function(n,t,e,r){var i=arguments.length,o=i<3?t:r===null?r=Object.getOwnPropertyDescriptor(t,e):r,a;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(n,t,e,r);else for(var s=n.length-1;s>=0;s--)(a=n[s])&&(o=(i<3?a(o):i>3?a(t,e,o):a(t,e))||o);return i>3&&o&&Object.defineProperty(t,e,o),o},yq=function(n){BAe(t,n);function t(){return n!==null&&n.apply(this,arguments)||this}return t.prototype.findHeader=function(e,r){var i,o,a;if(e.column instanceof Vr?(o="getDisplayedGroup".concat(r),i=this.columnModel[o](e.column)):(a="getDisplayedCol".concat(r),i=this.columnModel[a](e.column)),!!i){var s=e.headerRowIndex;if(this.getHeaderRowType(s)!==An.FLOATING_FILTER){for(var l=[i];i.getParent();)i=i.getParent(),l.push(i);i=l[l.length-1-s]}var u=this.getHeaderIndexToFocus(i,s),c=u.column,d=u.headerRowIndex;return{column:c,headerRowIndex:d}}},t.prototype.getHeaderIndexToFocus=function(e,r){var i;if(e instanceof Vr&&this.isAnyChildSpanningHeaderHeight(e)&&e.isPadding()){var o=e;i=o.getLeafColumns()[0];for(var a=i;a!==o;)r++,a=a.getParent()}return{column:i||e,headerRowIndex:r}},t.prototype.isAnyChildSpanningHeaderHeight=function(e){return e?e.getLeafColumns().some(function(r){return r.isSpanHeaderHeight()}):!1},t.prototype.getColumnVisibleParent=function(e,r){var i=this.getHeaderRowType(r),o=i===An.FLOATING_FILTER,a=i===An.COLUMN,s=o?e:e.getParent(),l=r-1,u=l;if(a&&this.isAnyChildSpanningHeaderHeight(e.getParent())){for(;s&&s.isPadding();)s=s.getParent(),l--;u=l,l<0&&(s=e,l=r,u=void 0)}return{column:s,headerRowIndex:l,headerRowIndexWithoutSpan:u}},t.prototype.getColumnVisibleChild=function(e,r,i){i===void 0&&(i="After");var o=this.getHeaderRowType(r),a=e,s=r+1,l=s;if(o===An.COLUMN_GROUP){for(var u=e.getDisplayedLeafColumns(),c=i==="After"?u[0]:bt(u),d=[],p=c;p.getParent()!==e;)p=p.getParent(),d.push(p);if(a=c,c.isSpanHeaderHeight())for(var h=d.length-1;h>=0;h--){var f=d[h];if(!f.isPadding()){a=f;break}s++}else a=bt(d),a||(a=c)}return{column:a,headerRowIndex:s,headerRowIndexWithoutSpan:l}},t.prototype.getHeaderRowType=function(e){var r=this.ctrlsService.getHeaderRowContainerCtrl();if(r)return r.getRowType(e)},t.prototype.findColAtEdgeForHeaderRow=function(e,r){var i=this.columnModel.getAllDisplayedColumns(),o=i[r==="start"?0:i.length-1];if(o){var a=this.ctrlsService.getHeaderRowContainerCtrl(o.getPinned()),s=a.getRowType(e);if(s==An.COLUMN_GROUP){var l=this.columnModel.getColumnGroupAtLevel(o,e);return{headerRowIndex:e,column:l}}return{headerRowIndex:s==null?-1:e,column:o}}},yD([E("columnModel")],t.prototype,"columnModel",void 0),yD([E("ctrlsService")],t.prototype,"ctrlsService",void 0),t=yD([ae("headerPositionUtils")],t),t}(q),HAe=function(n,t,e,r){var i=arguments.length,o=i<3?t:r===null?r=Object.getOwnPropertyDescriptor(t,e):r,a;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(n,t,e,r);else for(var s=n.length-1;s>=0;s--)(a=n[s])&&(o=(i<3?a(o):i>3?a(t,e,o):a(t,e))||o);return i>3&&o&&Object.defineProperty(t,e,o),o},jAe=function(){function n(){}return n.prototype.buildColumnDefs=function(t,e,r){var i=this,o=[],a={};return t.forEach(function(s){for(var l=i.createDefFromColumn(s,e,r),u=!0,c=l,d=s.getOriginalParent(),p=null;d;){var h=null;if(d.isPadding()){d=d.getOriginalParent();continue}var f=a[d.getGroupId()];if(f){f.children.push(c),u=!1;break}if(h=i.createDefFromGroup(d),h&&(h.children=[c],a[h.groupId]=h,c=h,d=d.getOriginalParent()),d!=null&&p===d){u=!1;break}p=d}u&&o.push(c)}),o},n.prototype.createDefFromGroup=function(t){var e=Ab(t.getColGroupDef(),["children"]);return e&&(e.groupId=t.getGroupId()),e},n.prototype.createDefFromColumn=function(t,e,r){var i=Ab(t.getColDef());return i.colId=t.getColId(),i.width=t.getActualWidth(),i.rowGroup=t.isRowGroupActive(),i.rowGroupIndex=t.isRowGroupActive()?e.indexOf(t):null,i.pivot=t.isPivotActive(),i.pivotIndex=t.isPivotActive()?r.indexOf(t):null,i.aggFunc=t.isValueActive()?t.getAggFunc():null,i.hide=t.isVisible()?void 0:!0,i.pinned=t.isPinned()?t.getPinned():null,i.sort=t.getSort()?t.getSort():null,i.sortIndex=t.getSortIndex()!=null?t.getSortIndex():null,i},n=HAe([ae("columnDefFactory")],n),n}(),mD=function(n,t,e,r){var i=arguments.length,o=i<3?t:r===null?r=Object.getOwnPropertyDescriptor(t,e):r,a;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(n,t,e,r);else for(var s=n.length-1;s>=0;s--)(a=n[s])&&(o=(i<3?a(o):i>3?a(t,e,o):a(t,e))||o);return i>3&&o&&Object.defineProperty(t,e,o),o},$Ae=function(){function n(){}return n.prototype.getInitialRowClasses=function(t){var e=[];return ce(t.extraCssClass)&&e.push(t.extraCssClass),e.push("ag-row"),e.push(t.rowFocused?"ag-row-focus":"ag-row-no-focus"),t.fadeRowIn&&e.push("ag-opacity-zero"),e.push(t.rowIsEven?"ag-row-even":"ag-row-odd"),t.rowNode.isRowPinned()&&e.push("ag-row-pinned"),t.rowNode.isSelected()&&e.push("ag-row-selected"),t.rowNode.footer&&e.push("ag-row-footer"),e.push("ag-row-level-"+t.rowLevel),t.rowNode.stub&&e.push("ag-row-loading"),t.fullWidthRow&&e.push("ag-full-width-row"),t.expandable&&(e.push("ag-row-group"),e.push(t.rowNode.expanded?"ag-row-group-expanded":"ag-row-group-contracted")),t.rowNode.dragging&&e.push("ag-row-dragging"),SL(e,this.processClassesFromGridOptions(t.rowNode)),SL(e,this.preProcessRowClassRules(t.rowNode)),e.push(t.printLayout?"ag-row-position-relative":"ag-row-position-absolute"),t.firstRowOnPage&&e.push("ag-row-first"),t.lastRowOnPage&&e.push("ag-row-last"),t.fullWidthRow&&(t.pinned==="left"&&e.push("ag-cell-last-left-pinned"),t.pinned==="right"&&e.push("ag-cell-first-right-pinned")),e},n.prototype.processClassesFromGridOptions=function(t){var e=[],r=function(l){typeof l=="string"?e.push(l):Array.isArray(l)&&l.forEach(function(u){return e.push(u)})},i=this.gridOptionsService.get("rowClass");if(i){if(typeof i=="function")return console.warn("AG Grid: rowClass should not be a function, please use getRowClass instead"),[];r(i)}var o=this.gridOptionsService.getCallback("getRowClass");if(o){var a={data:t.data,node:t,rowIndex:t.rowIndex},s=o(a);r(s)}return e},n.prototype.preProcessRowClassRules=function(t){var e=[];return this.processRowClassRules(t,function(r){e.push(r)},function(r){}),e},n.prototype.processRowClassRules=function(t,e,r){var i=this.gridOptionsService.addGridCommonParams({data:t.data,node:t,rowIndex:t.rowIndex});this.stylingService.processClassRules(void 0,this.gridOptionsService.get("rowClassRules"),i,e,r)},n.prototype.calculateRowLevel=function(t){return t.group?t.level:t.parent?t.parent.level+1:0},mD([E("stylingService")],n.prototype,"stylingService",void 0),mD([E("gridOptionsService")],n.prototype,"gridOptionsService",void 0),n=mD([ae("rowCssClassCalculator")],n),n}(),WAe=function(){var n=function(t,e){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])},n(t,e)};return function(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");n(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}}(),b_=function(n,t,e,r){var i=arguments.length,o=i<3?t:r===null?r=Object.getOwnPropertyDescriptor(t,e):r,a;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(n,t,e,r);else for(var s=n.length-1;s>=0;s--)(a=n[s])&&(o=(i<3?a(o):i>3?a(t,e,o):a(t,e))||o);return i>3&&o&&Object.defineProperty(t,e,o),o},mq=function(n){WAe(t,n);function t(){return n!==null&&n.apply(this,arguments)||this}return t.prototype.init=function(){var e=this;this.isAccentedSort=this.gridOptionsService.get("accentedSort"),this.primaryColumnsSortGroups=this.gridOptionsService.isColumnsSortingCoupledToGroup(),this.addManagedPropertyListener("accentedSort",function(r){return e.isAccentedSort=r.currentValue}),this.addManagedPropertyListener("autoGroupColumnDef",function(){return e.primaryColumnsSortGroups=e.gridOptionsService.isColumnsSortingCoupledToGroup()})},t.prototype.doFullSort=function(e,r){var i=function(a,s){return{currentPos:s,rowNode:a}},o=e.map(i);return o.sort(this.compareRowNodes.bind(this,r)),o.map(function(a){return a.rowNode})},t.prototype.compareRowNodes=function(e,r,i){for(var o=r.rowNode,a=i.rowNode,s=0,l=e.length;s<l;s++){var u=e[s],c=u.sort==="desc",d=this.getValue(o,u.column),p=this.getValue(a,u.column),h=void 0,f=this.getComparator(u,o);f?h=f(d,p,o,a,c):h=D.defaultComparator(d,p,this.isAccentedSort);var v=!isNaN(h);if(v&&h!==0)return u.sort==="asc"?h:h*-1}return r.currentPos-i.currentPos},t.prototype.getComparator=function(e,r){var i=e.column,o=i.getColDef().comparator;if(o!=null)return o;if(i.getColDef().showRowGroup){var a=!r.group&&i.getColDef().field;if(a){var s=this.columnModel.getPrimaryColumn(a);if(s)return s.getColDef().comparator}}},t.prototype.getValue=function(e,r){var i,o;if(!this.primaryColumnsSortGroups)return this.valueService.getValue(r,e,!1,!1);var a=e.rowGroupColumn===r;if(a){var s=this.gridOptionsService.isGroupUseEntireRow(this.columnModel.isPivotActive());if(s){var l=(i=e.allLeafChildren)===null||i===void 0?void 0:i[0];return l?this.valueService.getValue(r,l,!1,!1):void 0}var u=this.columnModel.getGroupDisplayColumnForGroup(r.getId());return u?(o=e.groupData)===null||o===void 0?void 0:o[u.getId()]:void 0}if(!(e.group&&r.getColDef().showRowGroup))return this.valueService.getValue(r,e,!1,!1)},b_([E("valueService")],t.prototype,"valueService",void 0),b_([E("columnModel")],t.prototype,"columnModel",void 0),b_([z],t.prototype,"init",null),t=b_([ae("rowNodeSorter")],t),t}(q),UAe=function(){var n=function(t,e){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])},n(t,e)};return function(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");n(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}}(),zAe=function(n,t,e,r){var i=arguments.length,o=i<3?t:r===null?r=Object.getOwnPropertyDescriptor(t,e):r,a;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(n,t,e,r);else for(var s=n.length-1;s>=0;s--)(a=n[s])&&(o=(i<3?a(o):i>3?a(t,e,o):a(t,e))||o);return i>3&&o&&Object.defineProperty(t,e,o),o},Cq=function(n){UAe(t,n);function t(){var r=n!==null&&n.apply(this,arguments)||this;return r.ready=!1,r.readyCallbacks=[],r}e=t,t.prototype.checkReady=function(){if(this.ready=this.gridCtrl!=null&&this.gridBodyCtrl!=null&&this.centerRowContainerCtrl!=null&&this.leftRowContainerCtrl!=null&&this.rightRowContainerCtrl!=null&&this.bottomCenterRowContainerCtrl!=null&&this.bottomLeftRowContainerCtrl!=null&&this.bottomRightRowContainerCtrl!=null&&this.topCenterRowContainerCtrl!=null&&this.topLeftRowContainerCtrl!=null&&this.topRightRowContainerCtrl!=null&&this.stickyTopCenterRowContainerCtrl!=null&&this.stickyTopLeftRowContainerCtrl!=null&&this.stickyTopRightRowContainerCtrl!=null&&this.centerHeaderRowContainerCtrl!=null&&this.leftHeaderRowContainerCtrl!=null&&this.rightHeaderRowContainerCtrl!=null&&this.fakeHScrollComp!=null&&this.fakeVScrollComp!=null&&this.gridHeaderCtrl!=null,this.ready){var r=this.createReadyParams();this.readyCallbacks.forEach(function(i){return i(r)}),this.readyCallbacks.length=0}},t.prototype.whenReady=function(r){this.ready?r(this.createReadyParams()):this.readyCallbacks.push(r)},t.prototype.createReadyParams=function(){return{centerRowContainerCtrl:this.centerRowContainerCtrl,leftRowContainerCtrl:this.leftRowContainerCtrl,rightRowContainerCtrl:this.rightRowContainerCtrl,bottomCenterRowContainerCtrl:this.bottomCenterRowContainerCtrl,bottomLeftRowContainerCtrl:this.bottomLeftRowContainerCtrl,bottomRightRowContainerCtrl:this.bottomRightRowContainerCtrl,topCenterRowContainerCtrl:this.topCenterRowContainerCtrl,topLeftRowContainerCtrl:this.topLeftRowContainerCtrl,topRightRowContainerCtrl:this.topRightRowContainerCtrl,stickyTopCenterRowContainerCtrl:this.stickyTopCenterRowContainerCtrl,stickyTopLeftRowContainerCtrl:this.stickyTopLeftRowContainerCtrl,stickyTopRightRowContainerCtrl:this.stickyTopRightRowContainerCtrl,centerHeaderRowContainerCtrl:this.centerHeaderRowContainerCtrl,leftHeaderRowContainerCtrl:this.leftHeaderRowContainerCtrl,rightHeaderRowContainerCtrl:this.rightHeaderRowContainerCtrl,fakeHScrollComp:this.fakeHScrollComp,fakeVScrollComp:this.fakeVScrollComp,gridBodyCtrl:this.gridBodyCtrl,gridCtrl:this.gridCtrl,gridHeaderCtrl:this.gridHeaderCtrl}},t.prototype.registerFakeHScrollComp=function(r){this.fakeHScrollComp=r,this.checkReady()},t.prototype.registerFakeVScrollComp=function(r){this.fakeVScrollComp=r,this.checkReady()},t.prototype.registerGridHeaderCtrl=function(r){this.gridHeaderCtrl=r,this.checkReady()},t.prototype.registerCenterRowContainerCtrl=function(r){this.centerRowContainerCtrl=r,this.checkReady()},t.prototype.registerLeftRowContainerCtrl=function(r){this.leftRowContainerCtrl=r,this.checkReady()},t.prototype.registerRightRowContainerCtrl=function(r){this.rightRowContainerCtrl=r,this.checkReady()},t.prototype.registerTopCenterRowContainerCtrl=function(r){this.topCenterRowContainerCtrl=r,this.checkReady()},t.prototype.registerTopLeftRowContainerCon=function(r){this.topLeftRowContainerCtrl=r,this.checkReady()},t.prototype.registerTopRightRowContainerCtrl=function(r){this.topRightRowContainerCtrl=r,this.checkReady()},t.prototype.registerStickyTopCenterRowContainerCtrl=function(r){this.stickyTopCenterRowContainerCtrl=r,this.checkReady()},t.prototype.registerStickyTopLeftRowContainerCon=function(r){this.stickyTopLeftRowContainerCtrl=r,this.checkReady()},t.prototype.registerStickyTopRightRowContainerCtrl=function(r){this.stickyTopRightRowContainerCtrl=r,this.checkReady()},t.prototype.registerBottomCenterRowContainerCtrl=function(r){this.bottomCenterRowContainerCtrl=r,this.checkReady()},t.prototype.registerBottomLeftRowContainerCtrl=function(r){this.bottomLeftRowContainerCtrl=r,this.checkReady()},t.prototype.registerBottomRightRowContainerCtrl=function(r){this.bottomRightRowContainerCtrl=r,this.checkReady()},t.prototype.registerHeaderContainer=function(r,i){switch(i){case"left":this.leftHeaderRowContainerCtrl=r;break;case"right":this.rightHeaderRowContainerCtrl=r;break;default:this.centerHeaderRowContainerCtrl=r;break}this.checkReady()},t.prototype.registerGridBodyCtrl=function(r){this.gridBodyCtrl=r,this.checkReady()},t.prototype.registerGridCtrl=function(r){this.gridCtrl=r,this.checkReady()},t.prototype.getFakeHScrollComp=function(){return this.fakeHScrollComp},t.prototype.getFakeVScrollComp=function(){return this.fakeVScrollComp},t.prototype.getGridHeaderCtrl=function(){return this.gridHeaderCtrl},t.prototype.getGridCtrl=function(){return this.gridCtrl},t.prototype.getCenterRowContainerCtrl=function(){return this.centerRowContainerCtrl},t.prototype.getTopCenterRowContainerCtrl=function(){return this.topCenterRowContainerCtrl},t.prototype.getBottomCenterRowContainerCtrl=function(){return this.bottomCenterRowContainerCtrl},t.prototype.getStickyTopCenterRowContainerCtrl=function(){return this.stickyTopCenterRowContainerCtrl},t.prototype.getGridBodyCtrl=function(){return this.gridBodyCtrl},t.prototype.getHeaderRowContainerCtrls=function(){return[this.leftHeaderRowContainerCtrl,this.rightHeaderRowContainerCtrl,this.centerHeaderRowContainerCtrl]},t.prototype.getHeaderRowContainerCtrl=function(r){switch(r){case"left":return this.leftHeaderRowContainerCtrl;case"right":return this.rightHeaderRowContainerCtrl;default:return this.centerHeaderRowContainerCtrl}};var e;return t.NAME="ctrlsService",t=e=zAe([ae(e.NAME)],t),t}(q),KAe=function(){var n=function(t,e){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])},n(t,e)};return function(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");n(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}}(),YAe=function(n,t,e,r){var i=arguments.length,o=i<3?t:r===null?r=Object.getOwnPropertyDescriptor(t,e):r,a;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(n,t,e,r);else for(var s=n.length-1;s>=0;s--)(a=n[s])&&(o=(i<3?a(o):i>3?a(t,e,o):a(t,e))||o);return i>3&&o&&Object.defineProperty(t,e,o),o},XAe=function(n){KAe(t,n);function t(){var e=n!==null&&n.apply(this,arguments)||this;return e.registry={},e}return t.prototype.register=function(e){this.registry[e.controllerName]=e.controllerClass},t.prototype.getInstance=function(e){var r=this.registry[e];if(r!=null)return new r},t=YAe([ae("ctrlsFactory")],t),t}(q),qAe=function(){var n=function(t,e){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])},n(t,e)};return function(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");n(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}}(),Xy=function(n,t,e,r){var i=arguments.length,o=i<3?t:r===null?r=Object.getOwnPropertyDescriptor(t,e):r,a;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(n,t,e,r);else for(var s=n.length-1;s>=0;s--)(a=n[s])&&(o=(i<3?a(o):i>3?a(t,e,o):a(t,e))||o);return i>3&&o&&Object.defineProperty(t,e,o),o},Sq=function(n){qAe(t,n);function t(e,r){var i=n.call(this,e)||this;return i.direction=r,i.hideTimeout=null,i}return t.prototype.postConstruct=function(){this.addManagedListener(this.eventService,P.EVENT_SCROLL_VISIBILITY_CHANGED,this.onScrollVisibilityChanged.bind(this)),this.onScrollVisibilityChanged(),this.addOrRemoveCssClass("ag-apple-scrollbar",eG()||cc())},t.prototype.initialiseInvisibleScrollbar=function(){this.invisibleScrollbar===void 0&&(this.invisibleScrollbar=rG(),this.invisibleScrollbar&&(this.hideAndShowInvisibleScrollAsNeeded(),this.addActiveListenerToggles()))},t.prototype.addActiveListenerToggles=function(){var e=this,r=["mouseenter","mousedown","touchstart"],i=["mouseleave","touchend"],o=this.getGui();r.forEach(function(a){return e.addManagedListener(o,a,function(){return e.addOrRemoveCssClass("ag-scrollbar-active",!0)})}),i.forEach(function(a){return e.addManagedListener(o,a,function(){return e.addOrRemoveCssClass("ag-scrollbar-active",!1)})})},t.prototype.onScrollVisibilityChanged=function(){var e=this;this.invisibleScrollbar===void 0&&this.initialiseInvisibleScrollbar(),this.animationFrameService.requestAnimationFrame(function(){return e.setScrollVisible()})},t.prototype.hideAndShowInvisibleScrollAsNeeded=function(){var e=this;this.addManagedListener(this.eventService,P.EVENT_BODY_SCROLL,function(r){r.direction===e.direction&&(e.hideTimeout!==null&&(window.clearTimeout(e.hideTimeout),e.hideTimeout=null),e.addOrRemoveCssClass("ag-scrollbar-scrolling",!0))}),this.addManagedListener(this.eventService,P.EVENT_BODY_SCROLL_END,function(){e.hideTimeout=window.setTimeout(function(){e.addOrRemoveCssClass("ag-scrollbar-scrolling",!1),e.hideTimeout=null},400)})},t.prototype.attemptSettingScrollPosition=function(e){var r=this,i=this.getViewport();Nk(function(){return aa(i)},function(){return r.setScrollPosition(e)},100)},t.prototype.getViewport=function(){return this.eViewport},t.prototype.getContainer=function(){return this.eContainer},t.prototype.onScrollCallback=function(e){this.addManagedListener(this.getViewport(),"scroll",e)},Xy([$("eViewport")],t.prototype,"eViewport",void 0),Xy([$("eContainer")],t.prototype,"eContainer",void 0),Xy([E("scrollVisibleService")],t.prototype,"scrollVisibleService",void 0),Xy([E("ctrlsService")],t.prototype,"ctrlsService",void 0),Xy([E("animationFrameService")],t.prototype,"animationFrameService",void 0),t}(de),ZAe=function(){var n=function(t,e){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])},n(t,e)};return function(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");n(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}}(),qy=function(n,t,e,r){var i=arguments.length,o=i<3?t:r===null?r=Object.getOwnPropertyDescriptor(t,e):r,a;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(n,t,e,r);else for(var s=n.length-1;s>=0;s--)(a=n[s])&&(o=(i<3?a(o):i>3?a(t,e,o):a(t,e))||o);return i>3&&o&&Object.defineProperty(t,e,o),o},QAe=function(n){ZAe(t,n);function t(){return n.call(this,t.TEMPLATE,"horizontal")||this}return t.prototype.postConstruct=function(){var e=this;n.prototype.postConstruct.call(this);var r=this.setFakeHScrollSpacerWidths.bind(this);this.addManagedListener(this.eventService,P.EVENT_DISPLAYED_COLUMNS_CHANGED,r),this.addManagedListener(this.eventService,P.EVENT_DISPLAYED_COLUMNS_WIDTH_CHANGED,r),this.addManagedListener(this.eventService,P.EVENT_PINNED_ROW_DATA_CHANGED,this.onPinnedRowDataChanged.bind(this)),this.addManagedPropertyListener("domLayout",r),this.ctrlsService.registerFakeHScrollComp(this),this.createManagedBean(new TG(function(i){return e.eContainer.style.width="".concat(i,"px")})),this.addManagedPropertyListeners(["suppressHorizontalScroll"],this.onScrollVisibilityChanged.bind(this))},t.prototype.initialiseInvisibleScrollbar=function(){this.invisibleScrollbar===void 0&&(this.enableRtl=this.gridOptionsService.get("enableRtl"),n.prototype.initialiseInvisibleScrollbar.call(this),this.invisibleScrollbar&&this.refreshCompBottom())},t.prototype.onPinnedRowDataChanged=function(){this.refreshCompBottom()},t.prototype.refreshCompBottom=function(){if(this.invisibleScrollbar){var e=this.pinnedRowModel.getPinnedBottomTotalHeight();this.getGui().style.bottom="".concat(e,"px")}},t.prototype.onScrollVisibilityChanged=function(){n.prototype.onScrollVisibilityChanged.call(this),this.setFakeHScrollSpacerWidths()},t.prototype.setFakeHScrollSpacerWidths=function(){var e=this.scrollVisibleService.isVerticalScrollShowing(),r=this.columnModel.getDisplayedColumnsRightWidth(),i=!this.enableRtl&&e,o=this.gridOptionsService.getScrollbarWidth();i&&(r+=o),ja(this.eRightSpacer,r),this.eRightSpacer.classList.toggle("ag-scroller-corner",r<=o);var a=this.columnModel.getDisplayedColumnsLeftWidth(),s=this.enableRtl&&e;s&&(a+=o),ja(this.eLeftSpacer,a),this.eLeftSpacer.classList.toggle("ag-scroller-corner",a<=o)},t.prototype.setScrollVisible=function(){var e=this.scrollVisibleService.isHorizontalScrollShowing(),r=this.invisibleScrollbar,i=this.gridOptionsService.get("suppressHorizontalScroll"),o=e&&this.gridOptionsService.getScrollbarWidth()||0,a=o===0&&r?16:o,s=i?0:a;this.addOrRemoveCssClass("ag-scrollbar-invisible",r),Oh(this.getGui(),s),Oh(this.eViewport,s),Oh(this.eContainer,s),this.setDisplayed(e,{skipAriaHidden:!0})},t.prototype.getScrollPosition=function(){return FS(this.getViewport(),this.enableRtl)},t.prototype.setScrollPosition=function(e){aa(this.getViewport())||this.attemptSettingScrollPosition(e),LS(this.getViewport(),e,this.enableRtl)},t.TEMPLATE=`<div class="ag-body-horizontal-scroll" aria-hidden="true">
            <div class="ag-horizontal-left-spacer" ref="eLeftSpacer"></div>
            <div class="ag-body-horizontal-scroll-viewport" ref="eViewport">
                <div class="ag-body-horizontal-scroll-container" ref="eContainer"></div>
            </div>
            <div class="ag-horizontal-right-spacer" ref="eRightSpacer"></div>
        </div>`,qy([$("eLeftSpacer")],t.prototype,"eLeftSpacer",void 0),qy([$("eRightSpacer")],t.prototype,"eRightSpacer",void 0),qy([E("columnModel")],t.prototype,"columnModel",void 0),qy([E("pinnedRowModel")],t.prototype,"pinnedRowModel",void 0),qy([z],t.prototype,"postConstruct",null),t}(Sq),JAe=function(){var n=function(t,e){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])},n(t,e)};return function(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");n(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}}(),CD=function(n,t,e,r){var i=arguments.length,o=i<3?t:r===null?r=Object.getOwnPropertyDescriptor(t,e):r,a;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(n,t,e,r);else for(var s=n.length-1;s>=0;s--)(a=n[s])&&(o=(i<3?a(o):i>3?a(t,e,o):a(t,e))||o);return i>3&&o&&Object.defineProperty(t,e,o),o},eDe=function(n){JAe(t,n);function t(){return n!==null&&n.apply(this,arguments)||this}return t.prototype.postConstruct=function(){var e=this.checkContainerWidths.bind(this);this.addManagedListener(this.eventService,P.EVENT_DISPLAYED_COLUMNS_CHANGED,e),this.addManagedListener(this.eventService,P.EVENT_DISPLAYED_COLUMNS_WIDTH_CHANGED,e),this.addManagedPropertyListener("domLayout",e)},t.prototype.checkContainerWidths=function(){var e=this.gridOptionsService.isDomLayout("print"),r=e?0:this.columnModel.getDisplayedColumnsLeftWidth(),i=e?0:this.columnModel.getDisplayedColumnsRightWidth();r!=this.leftWidth&&(this.leftWidth=r,this.eventService.dispatchEvent({type:P.EVENT_LEFT_PINNED_WIDTH_CHANGED})),i!=this.rightWidth&&(this.rightWidth=i,this.eventService.dispatchEvent({type:P.EVENT_RIGHT_PINNED_WIDTH_CHANGED}))},t.prototype.getPinnedRightWidth=function(){return this.rightWidth},t.prototype.getPinnedLeftWidth=function(){return this.leftWidth},CD([E("columnModel")],t.prototype,"columnModel",void 0),CD([z],t.prototype,"postConstruct",null),t=CD([ae("pinnedWidthService")],t),t}(q),tDe=function(){var n=function(t,e){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])},n(t,e)};return function(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");n(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}}(),O_=function(n,t,e,r){var i=arguments.length,o=i<3?t:r===null?r=Object.getOwnPropertyDescriptor(t,e):r,a;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(n,t,e,r);else for(var s=n.length-1;s>=0;s--)(a=n[s])&&(o=(i<3?a(o):i>3?a(t,e,o):a(t,e))||o);return i>3&&o&&Object.defineProperty(t,e,o),o},rDe=function(n){tDe(t,n);function t(){var e=n!==null&&n.apply(this,arguments)||this;return e.events=[],e}return t.prototype.postConstruct=function(){this.rowModel.getType()=="clientSide"&&(this.clientSideRowModel=this.rowModel)},t.prototype.dispatchExpanded=function(e){var r=this;if(this.clientSideRowModel==null){this.eventService.dispatchEvent(e);return}this.events.push(e);var i=function(){r.clientSideRowModel&&r.clientSideRowModel.onRowGroupOpened(),r.events.forEach(function(o){return r.eventService.dispatchEvent(o)}),r.events=[]};this.dispatchExpandedDebounced==null&&(this.dispatchExpandedDebounced=this.animationFrameService.debounce(i)),this.dispatchExpandedDebounced()},O_([E("animationFrameService")],t.prototype,"animationFrameService",void 0),O_([E("rowModel")],t.prototype,"rowModel",void 0),O_([z],t.prototype,"postConstruct",null),t=O_([ae("rowNodeEventThrottle")],t),t}(q),nDe={columnsMenuParams:{version:"31.1",message:"Use `columnChooserParams` instead."},suppressMenu:{version:"31.1",message:"Use `suppressHeaderMenuButton` instead."}},Lc=function(n,t){var e;return((e=t.rowModelType)!==null&&e!==void 0?e:"clientSide")==="clientSide"?{module:fe.RowGroupingModule}:null},iDe={enableRowGroup:Lc,rowGroup:Lc,rowGroupIndex:Lc,enablePivot:Lc,enableValue:Lc,pivot:Lc,pivotIndex:Lc,aggFunc:Lc,cellEditor:function(n){return n.cellEditor==="agRichSelect"||n.cellEditor==="agRichSelectCellEditor"?{module:fe.RichSelectModule}:null},menuTabs:function(n){var t,e=["columnsMenuTab","generalMenuTab"];return!((t=n.menuTabs)===null||t===void 0)&&t.some(function(r){return e.includes(r)})?{module:fe.MenuModule}:null},columnsMenuParams:{module:[fe.MenuModule,fe.ColumnsToolPanelModule]},columnChooserParams:{module:[fe.MenuModule,fe.ColumnsToolPanelModule]},headerCheckboxSelection:{supportedRowModels:["clientSide","serverSide"],dependencies:function(n,t){var e=t.rowSelection;return e==="multiple"?null:"headerCheckboxSelection is only supported with rowSelection=multiple"}},headerCheckboxSelectionFilteredOnly:{supportedRowModels:["clientSide"],dependencies:function(n,t){var e=t.rowSelection;return e==="multiple"?null:"headerCheckboxSelectionFilteredOnly is only supported with rowSelection=multiple"}},headerCheckboxSelectionCurrentPageOnly:{supportedRowModels:["clientSide"],dependencies:function(n,t){var e=t.rowSelection;return e==="multiple"?null:"headerCheckboxSelectionCurrentPageOnly is only supported with rowSelection=multiple"}},children:function(){return yv}},yv={objectName:"colDef",allProperties:pX.ALL_PROPERTIES,docsUrl:"column-properties/",deprecations:nDe,validations:iDe},rW=function(n,t){var e=typeof Symbol=="function"&&n[Symbol.iterator];if(!e)return n;var r=e.call(n),i,o=[],a;try{for(;(t===void 0||t-- >0)&&!(i=r.next()).done;)o.push(i.value)}catch(s){a={error:s}}finally{try{i&&!i.done&&(e=r.return)&&e.call(r)}finally{if(a)throw a.error}}return o},nW=function(n,t,e){if(e||arguments.length===2)for(var r=0,i=t.length,o;r<i;r++)(o||!(r in t))&&(o||(o=Array.prototype.slice.call(t,0,r)),o[r]=t[r]);return n.concat(o||Array.prototype.slice.call(t))},oDe={enableChartToolPanelsButton:{version:"29",message:"The Chart Tool Panels button is now enabled by default. To hide the Chart Tool Panels button and display the hamburger button instead, set suppressChartToolPanelsButton=true."},functionsPassive:{version:"29.2"},onColumnRowGroupChangeRequest:{version:"29.2"},onColumnPivotChangeRequest:{version:"29.2"},onColumnValueChangeRequest:{version:"29.2"},onColumnAggFuncChangeRequest:{version:"29.2"},serverSideFilterAllLevels:{version:"30",message:"All server-side group levels are now filtered by default. This can be toggled using `serverSideOnlyRefreshFilteredGroups`."},suppressAggAtRootLevel:{version:"30",message:"The root level aggregation is now suppressed by default. This can be toggled using  `alwaysAggregateAtRootLevel`."},excludeHiddenColumnsFromQuickFilter:{version:"30",message:"Hidden columns are now excluded from the Quick Filter by default. This can be toggled using `includeHiddenColumnsInQuickFilter`."},enterMovesDown:{version:"30",renamed:"enterNavigatesVertically"},enterMovesDownAfterEdit:{version:"30",renamed:"enterNavigatesVerticallyAfterEdit"},suppressParentsInRowNodes:{version:"30.2",message:"Using suppressParentsInRowNodes is no longer recommended. To serialize nodes it is now recommended to instead remove the parent node reference before serialization."},advancedFilterModel:{version:"31",message:"Use `initialState.filter.advancedFilterModel` instead."},suppressAsyncEvents:{version:"31",message:"Events should be handled asynchronously."},cellFadeDelay:{version:"31.1",renamed:"cellFadeDuration"},cellFlashDelay:{version:"31.1",renamed:"cellFlashDuration"},suppressServerSideInfiniteScroll:{version:"31.1"},serverSideSortOnServer:{version:"31.1"},serverSideFilterOnServer:{version:"31.1"}},aDe={suppressContextMenu:!1,preventDefaultOnContextMenu:!1,allowContextMenuWithControlKey:!1,suppressMenuHide:!1,enableBrowserTooltips:!1,tooltipTrigger:"hover",tooltipShowDelay:2e3,tooltipHideDelay:1e4,tooltipMouseTrack:!1,tooltipInteraction:!1,copyHeadersToClipboard:!1,copyGroupHeadersToClipboard:!1,clipboardDelimiter:"	",suppressCopyRowsToClipboard:!1,suppressCopySingleCellRanges:!1,suppressLastEmptyLineOnPaste:!1,suppressClipboardPaste:!1,suppressClipboardApi:!1,suppressCutToClipboard:!1,maintainColumnOrder:!1,suppressFieldDotNotation:!1,allowDragFromColumnsToolPanel:!1,suppressMovableColumns:!1,suppressColumnMoveAnimation:!1,suppressDragLeaveHidesColumns:!1,suppressRowGroupHidesColumns:!1,suppressAutoSize:!1,autoSizePadding:20,skipHeaderOnAutoSize:!1,singleClickEdit:!1,suppressClickEdit:!1,readOnlyEdit:!1,stopEditingWhenCellsLoseFocus:!1,enterNavigatesVertically:!1,enterNavigatesVerticallyAfterEdit:!1,enableCellEditingOnBackspace:!1,undoRedoCellEditing:!1,undoRedoCellEditingLimit:10,suppressCsvExport:!1,suppressExcelExport:!1,cacheQuickFilter:!1,includeHiddenColumnsInQuickFilter:!1,excludeChildrenWhenTreeDataFiltering:!1,enableAdvancedFilter:!1,includeHiddenColumnsInAdvancedFilter:!1,enableCharts:!1,suppressChartToolPanelsButton:!1,masterDetail:!1,keepDetailRows:!1,keepDetailRowsCount:10,detailRowAutoHeight:!1,tabIndex:0,rowBuffer:10,valueCache:!1,valueCacheNeverExpires:!1,enableCellExpressions:!1,suppressTouch:!1,suppressFocusAfterRefresh:!1,suppressAsyncEvents:!1,suppressBrowserResizeObserver:!1,suppressPropertyNamesCheck:!1,suppressChangeDetection:!1,debug:!1,suppressLoadingOverlay:!1,suppressNoRowsOverlay:!1,pagination:!1,paginationPageSize:100,paginationPageSizeSelector:!0,paginationAutoPageSize:!1,paginateChildRows:!1,suppressPaginationPanel:!1,pivotMode:!1,pivotPanelShow:"never",pivotDefaultExpanded:0,pivotSuppressAutoColumn:!1,suppressExpandablePivotGroups:!1,functionsReadOnly:!1,suppressAggFuncInHeader:!1,alwaysAggregateAtRootLevel:!1,aggregateOnlyChangedColumns:!1,suppressAggFilteredOnly:!1,removePivotHeaderRowWhenSingleValueColumn:!1,animateRows:!0,enableCellChangeFlash:!1,cellFlashDelay:500,cellFlashDuration:500,cellFadeDelay:1e3,cellFadeDuration:1e3,allowShowChangeAfterFilter:!1,domLayout:"normal",ensureDomOrder:!1,enableRtl:!1,suppressColumnVirtualisation:!1,suppressMaxRenderedRowRestriction:!1,suppressRowVirtualisation:!1,rowDragManaged:!1,suppressRowDrag:!1,suppressMoveWhenRowDragging:!1,rowDragEntireRow:!1,rowDragMultiRow:!1,embedFullWidthRows:!1,groupDisplayType:"singleColumn",groupDefaultExpanded:0,groupMaintainOrder:!1,groupSelectsChildren:!1,groupIncludeTotalFooter:!1,groupSuppressBlankHeader:!1,groupSelectsFiltered:!1,showOpenedGroup:!1,groupRemoveSingleChildren:!1,groupRemoveLowestSingleChildren:!1,groupHideOpenParents:!1,groupAllowUnbalanced:!1,rowGroupPanelShow:"never",suppressMakeColumnVisibleAfterUnGroup:!1,treeData:!1,rowGroupPanelSuppressSort:!1,suppressGroupRowsSticky:!1,rowModelType:"clientSide",asyncTransactionWaitMillis:50,suppressModelUpdateAfterUpdateTransaction:!1,cacheOverflowSize:1,infiniteInitialRowCount:1,serverSideInitialRowCount:1,suppressServerSideInfiniteScroll:!1,cacheBlockSize:100,maxBlocksInCache:-1,maxConcurrentDatasourceRequests:2,blockLoadDebounceMillis:0,purgeClosedRowNodes:!1,serverSideSortAllLevels:!1,serverSideOnlyRefreshFilteredGroups:!1,serverSideSortOnServer:!1,serverSideFilterOnServer:!1,serverSidePivotResultFieldSeparator:"_",viewportRowModelPageSize:5,viewportRowModelBufferSize:5,alwaysShowHorizontalScroll:!1,alwaysShowVerticalScroll:!1,debounceVerticalScrollbar:!1,suppressHorizontalScroll:!1,suppressScrollOnNewData:!1,suppressScrollWhenPopupsAreOpen:!1,suppressAnimationFrame:!1,suppressMiddleClickScrolls:!1,suppressPreventDefaultOnMouseWheel:!1,rowMultiSelectWithClick:!1,suppressRowDeselection:!1,suppressRowClickSelection:!1,suppressCellFocus:!1,suppressHeaderFocus:!1,suppressMultiRangeSelection:!1,enableCellTextSelection:!1,enableRangeSelection:!1,enableRangeHandle:!1,enableFillHandle:!1,fillHandleDirection:"xy",suppressClearOnFillReduction:!1,accentedSort:!1,unSortIcon:!1,suppressMultiSort:!1,alwaysMultiSort:!1,suppressMaintainUnsortedOrder:!1,suppressRowHoverHighlight:!1,suppressRowTransform:!1,columnHoverHighlight:!1,deltaSort:!1,enableGroupEdit:!1,suppressGroupMaintainValueType:!1,functionsPassive:!1,groupLockGroupColumns:0,serverSideEnableClientSideSort:!1},sDe={sideBar:{module:fe.SideBarModule},statusBar:{module:fe.StatusBarModule},enableCharts:{module:fe.GridChartsModule},getMainMenuItems:{module:fe.MenuModule},getContextMenuItems:{module:fe.MenuModule},allowContextMenuWithControlKey:{module:fe.MenuModule},enableAdvancedFilter:{module:fe.AdvancedFilterModule},treeData:{supportedRowModels:["clientSide","serverSide"],module:fe.RowGroupingModule,dependencies:function(n){var t,e=(t=n.rowModelType)!==null&&t!==void 0?t:"clientSide";switch(e){case"clientSide":var r="treeData requires 'getDataPath' in the ".concat(e," row model.");return n.getDataPath?null:r;case"serverSide":var i="treeData requires 'isServerSideGroup' and 'getServerSideGroupKey' in the ".concat(e," row model.");return n.isServerSideGroup&&n.getServerSideGroupKey?null:i}return null}},masterDetail:{module:fe.MasterDetailModule},enableRangeSelection:{module:fe.RangeSelectionModule},enableRangeHandle:{dependencies:{enableRangeSelection:[!0]}},enableFillHandle:{dependencies:{enableRangeSelection:[!0]}},groupDefaultExpanded:{supportedRowModels:["clientSide"]},groupIncludeFooter:{supportedRowModels:["clientSide","serverSide"],dependencies:function(n){var t,e=(t=n.rowModelType)!==null&&t!==void 0?t:"clientSide";switch(e){case"clientSide":return null;case"serverSide":var r="groupIncludeFooter is not supported alongside suppressServerSideInfiniteScroll";return n.suppressServerSideInfiniteScroll?r:null}return null}},groupIncludeTotalFooter:{supportedRowModels:["clientSide"]},groupRemoveSingleChildren:{dependencies:{groupHideOpenParents:[void 0,!1],groupRemoveLowestSingleChildren:[void 0,!1]}},groupRemoveLowestSingleChildren:{dependencies:{groupHideOpenParents:[void 0,!1],groupRemoveSingleChildren:[void 0,!1]}},groupSelectsChildren:{dependencies:{rowSelection:["multiple"]}},suppressParentsInRowNodes:{dependencies:{groupSelectsChildren:[void 0,!1]}},viewportDatasource:{supportedRowModels:["viewport"],module:fe.ViewportRowModelModule},serverSideDatasource:{supportedRowModels:["serverSide"],module:fe.ServerSideRowModelModule},cacheBlockSize:{supportedRowModels:["serverSide","infinite"]},datasource:{supportedRowModels:["infinite"],module:fe.InfiniteRowModelModule},rowData:{supportedRowModels:["clientSide"],module:fe.ClientSideRowModelModule},columnDefs:function(){return yv},defaultColDef:function(){return yv},defaultColGroupDef:function(){return yv},autoGroupColumnDef:function(){return yv}},lDe={objectName:"gridOptions",allProperties:nW(nW([],rW(gs.ALL_PROPERTIES),!1),rW(Hk.EVENT_CALLBACKS),!1),propertyExceptions:["api","columnApi"],docsUrl:"grid-options/",deprecations:oDe,validations:sDe},nl=function(n,t,e,r){var i=arguments.length,o=i<3?t:r===null?r=Object.getOwnPropertyDescriptor(t,e):r,a;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(n,t,e,r);else for(var s=n.length-1;s>=0;s--)(a=n[s])&&(o=(i<3?a(o):i>3?a(t,e,o):a(t,e))||o);return i>3&&o&&Object.defineProperty(t,e,o),o},R_=function(n,t){var e=typeof Symbol=="function"&&n[Symbol.iterator];if(!e)return n;var r=e.call(n),i,o=[],a;try{for(;(t===void 0||t-- >0)&&!(i=r.next()).done;)o.push(i.value)}catch(s){a={error:s}}finally{try{i&&!i.done&&(e=r.return)&&e.call(r)}finally{if(a)throw a.error}}return o},SD=function(n,t,e){if(e||arguments.length===2)for(var r=0,i=t.length,o;r<i;r++)(o||!(r in t))&&(o||(o=Array.prototype.slice.call(t,0,r)),o[r]=t[r]);return n.concat(o||Array.prototype.slice.call(t))},kG=function(){function n(){var e=this;this.destroyed=!1,this.domDataKey="__AG_"+Math.random().toString(),this.propertyEventService=new Hs,this.globalEventHandlerFactory=function(r){return function(i,o){if(!e.destroyed){var a=t.alwaysSyncGlobalEvents.has(i);if(!(a&&!r||!a&&r)){var s=Hk.getCallbackForEvent(i),l=e.gridOptions[s];typeof l=="function"&&e.frameworkOverrides.wrapOutgoing(function(){l(o)})}}}}}t=n,Object.defineProperty(n.prototype,"context",{get:function(){return this.gridOptions.context},enumerable:!1,configurable:!0}),n.prototype.init=function(){this.columnApi=new $w(this.api);var e=!this.get("suppressAsyncEvents");this.eventService.addGlobalListener(this.globalEventHandlerFactory().bind(this),e),this.eventService.addGlobalListener(this.globalEventHandlerFactory(!0).bind(this),!1),this.propertyEventService.setFrameworkOverrides(this.frameworkOverrides),this.getScrollbarWidth()},n.prototype.destroy=function(){this.destroyed=!0,this.columnApi=void 0},n.prototype.get=function(e){var r;return(r=this.gridOptions[e])!==null&&r!==void 0?r:aDe[e]},n.prototype.getCallback=function(e){return this.mergeGridCommonParams(this.gridOptions[e])},n.prototype.exists=function(e){return ce(this.gridOptions[e])},n.prototype.mergeGridCommonParams=function(e){var r=this;if(e){var i=function(o){var a=o;return a.api=r.api,a.columnApi=r.columnApi,a.context=r.context,e(a)};return i}return e},n.toBoolean=function(e){return typeof e=="boolean"?e:typeof e=="string"?e.toUpperCase()==="TRUE"||e=="":!1},n.toNumber=function(e){if(typeof e=="number")return e;if(typeof e=="string"){var r=parseInt(e);return isNaN(r)?void 0:r}},n.toConstrainedNum=function(e,r){return function(i){var o=t.toNumber(i);if(!(o==null||o<e||o>r))return o}},n.getCoercedValue=function(e,r){var i=t.PROPERTY_COERCIONS.get(e);return i?i(r):r},n.getCoercedGridOptions=function(e){var r={};return Object.entries(e).forEach(function(i){var o=R_(i,2),a=o[0],s=o[1],l=t.getCoercedValue(a,s);r[a]=l}),r},n.prototype.updateGridOptions=function(e){var r=this,i=e.options,o=e.source,a=o===void 0?"api":o,s={id:t.changeSetId++,properties:[]},l=[];Object.entries(i).forEach(function(u){var c=R_(u,2),d=c[0],p=c[1];a==="api"&&Zxe[d]&&Le("".concat(d," is an initial property and cannot be updated."));var h=t.getCoercedValue(d,p),f=typeof h=="object"&&a==="api",v=r.gridOptions[d];if(f||v!==h){r.gridOptions[d]=h;var g={type:d,currentValue:h,previousValue:v,changeSet:s,source:a};l.push(g)}}),this.validationService.processGridOptions(this.gridOptions),s.properties=l.map(function(u){return u.type}),l.forEach(function(u){r.gridOptions.debug&&console.log("AG Grid: Updated property ".concat(u.type," from "),u.previousValue," to  ",u.currentValue),r.propertyEventService.dispatchEvent(u)})},n.prototype.addEventListener=function(e,r){this.propertyEventService.addEventListener(e,r)},n.prototype.removeEventListener=function(e,r){this.propertyEventService.removeEventListener(e,r)},n.prototype.getScrollbarWidth=function(){if(this.scrollbarWidth==null){var e=typeof this.gridOptions.scrollbarWidth=="number"&&this.gridOptions.scrollbarWidth>=0,r=e?this.gridOptions.scrollbarWidth:CY();r!=null&&(this.scrollbarWidth=r,this.eventService.dispatchEvent({type:P.EVENT_SCROLLBAR_WIDTH_CHANGED}))}return this.scrollbarWidth},n.prototype.isRowModelType=function(e){return this.gridOptions.rowModelType===e||e==="clientSide"&&je(this.gridOptions.rowModelType)},n.prototype.isDomLayout=function(e){var r,i=(r=this.gridOptions.domLayout)!==null&&r!==void 0?r:"normal";return i===e},n.prototype.isRowSelection=function(){return this.gridOptions.rowSelection==="single"||this.gridOptions.rowSelection==="multiple"},n.prototype.useAsyncEvents=function(){return!this.get("suppressAsyncEvents")},n.prototype.isGetRowHeightFunction=function(){return typeof this.gridOptions.getRowHeight=="function"},n.prototype.getRowHeightForNode=function(e,r,i){if(r===void 0&&(r=!1),i==null&&(i=this.environment.getDefaultRowHeight()),this.isGetRowHeightFunction()){if(r)return{height:i,estimated:!0};var o={node:e,data:e.data},a=this.getCallback("getRowHeight")(o);if(this.isNumeric(a))return a===0&&Le("The return of `getRowHeight` cannot be zero. If the intention is to hide rows, use a filter instead."),{height:Math.max(1,a),estimated:!1}}if(e.detail&&this.get("masterDetail"))return this.getMasterDetailRowHeight();var s=this.gridOptions.rowHeight&&this.isNumeric(this.gridOptions.rowHeight)?this.gridOptions.rowHeight:i;return{height:s,estimated:!1}},n.prototype.getMasterDetailRowHeight=function(){return this.get("detailRowAutoHeight")?{height:1,estimated:!1}:this.isNumeric(this.gridOptions.detailRowHeight)?{height:this.gridOptions.detailRowHeight,estimated:!1}:{height:300,estimated:!1}},n.prototype.getRowHeightAsNumber=function(){if(!this.gridOptions.rowHeight||je(this.gridOptions.rowHeight))return this.environment.getDefaultRowHeight();var e=this.environment.refreshRowHeightVariable();return e!==-1?e:(console.warn("AG Grid row height must be a number if not using standard row model"),this.environment.getDefaultRowHeight())},n.prototype.isNumeric=function(e){return!isNaN(e)&&typeof e=="number"&&isFinite(e)},n.prototype.getDomDataKey=function(){return this.domDataKey},n.prototype.getDomData=function(e,r){var i=e[this.getDomDataKey()];return i?i[r]:void 0},n.prototype.setDomData=function(e,r,i){var o=this.getDomDataKey(),a=e[o];je(a)&&(a={},e[o]=a),a[r]=i},n.prototype.getDocument=function(){var e=null;return this.gridOptions.getDocument&&ce(this.gridOptions.getDocument)?e=this.gridOptions.getDocument():this.eGridDiv&&(e=this.eGridDiv.ownerDocument),e&&ce(e)?e:document},n.prototype.getWindow=function(){var e=this.getDocument();return e.defaultView||window},n.prototype.getRootNode=function(){return this.eGridDiv.getRootNode()},n.prototype.getAsyncTransactionWaitMillis=function(){return ce(this.gridOptions.asyncTransactionWaitMillis)?this.gridOptions.asyncTransactionWaitMillis:50},n.prototype.isAnimateRows=function(){return this.get("ensureDomOrder")?!1:this.get("animateRows")},n.prototype.isGroupRowsSticky=function(){return!(this.get("suppressGroupRowsSticky")||this.get("paginateChildRows")||this.get("groupHideOpenParents")||this.isDomLayout("print"))},n.prototype.isColumnsSortingCoupledToGroup=function(){var e=this.gridOptions.autoGroupColumnDef;return!(e!=null&&e.comparator)&&!this.get("treeData")},n.prototype.getGroupAggFiltering=function(){var e=this.gridOptions.groupAggFiltering;if(typeof e=="function")return this.getCallback("groupAggFiltering");if(e===!0)return function(){return!0}},n.prototype.isGroupIncludeFooterTrueOrCallback=function(){var e=this.gridOptions.groupIncludeFooter;return e===!0||typeof e=="function"},n.prototype.getGroupIncludeFooter=function(){var e=this.gridOptions.groupIncludeFooter;return typeof e=="function"?this.getCallback("groupIncludeFooter"):e===!0?function(){return!0}:function(){return!1}},n.prototype.isGroupMultiAutoColumn=function(){return this.gridOptions.groupDisplayType?this.gridOptions.groupDisplayType==="multipleColumns":this.get("groupHideOpenParents")},n.prototype.isGroupUseEntireRow=function(e){return e?!1:this.gridOptions.groupDisplayType==="groupRows"},n.prototype.getGridCommonParams=function(){return{api:this.api,columnApi:this.columnApi,context:this.context}},n.prototype.addGridCommonParams=function(e){var r=e;return r.api=this.api,r.columnApi=this.columnApi,r.context=this.context,r};var t;return n.alwaysSyncGlobalEvents=new Set([P.EVENT_GRID_PRE_DESTROYED]),n.PROPERTY_COERCIONS=new Map(SD(SD(SD([],R_(gs.BOOLEAN_PROPERTIES.map(function(e){return[e,t.toBoolean]})),!1),R_(gs.NUMBER_PROPERTIES.map(function(e){return[e,t.toNumber]})),!1),[["groupAggFiltering",function(e){return typeof e=="function"?e:t.toBoolean(e)}],["pageSize",t.toConstrainedNum(1,Number.MAX_VALUE)],["autoSizePadding",t.toConstrainedNum(0,Number.MAX_VALUE)],["keepDetailRowsCount",t.toConstrainedNum(1,Number.MAX_VALUE)],["rowBuffer",t.toConstrainedNum(0,Number.MAX_VALUE)],["infiniteInitialRowCount",t.toConstrainedNum(1,Number.MAX_VALUE)],["cacheOverflowSize",t.toConstrainedNum(1,Number.MAX_VALUE)],["cacheBlockSize",t.toConstrainedNum(1,Number.MAX_VALUE)],["serverSideInitialRowCount",t.toConstrainedNum(1,Number.MAX_VALUE)],["viewportRowModelPageSize",t.toConstrainedNum(1,Number.MAX_VALUE)],["viewportRowModelBufferSize",t.toConstrainedNum(0,Number.MAX_VALUE)]],!1)),n.changeSetId=0,nl([E("gridOptions")],n.prototype,"gridOptions",void 0),nl([E("eventService")],n.prototype,"eventService",void 0),nl([E("environment")],n.prototype,"environment",void 0),nl([E("frameworkOverrides")],n.prototype,"frameworkOverrides",void 0),nl([E("eGridDiv")],n.prototype,"eGridDiv",void 0),nl([E("validationService")],n.prototype,"validationService",void 0),nl([E("gridApi")],n.prototype,"api",void 0),nl([z],n.prototype,"init",null),nl([rr],n.prototype,"destroy",null),n=t=nl([ae("gridOptionsService")],n),n}(),uDe=function(){var n=function(t,e){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])},n(t,e)};return function(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");n(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}}(),cDe=function(n,t,e,r){var i=arguments.length,o=i<3?t:r===null?r=Object.getOwnPropertyDescriptor(t,e):r,a;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(n,t,e,r);else for(var s=n.length-1;s>=0;s--)(a=n[s])&&(o=(i<3?a(o):i>3?a(t,e,o):a(t,e))||o);return i>3&&o&&Object.defineProperty(t,e,o),o},wq=function(n){uDe(t,n);function t(){return n!==null&&n.apply(this,arguments)||this}return t.prototype.getLocaleTextFunc=function(){var e=this.gridOptionsService.getCallback("getLocaleText");if(e)return function(i,o,a){var s={key:i,defaultValue:o,variableValues:a};return e(s)};var r=this.gridOptionsService.get("localeText");return function(i,o,a){var s=r&&r[i];if(s&&a&&a.length)for(var l=0;!(l>=a.length);){var u=s.indexOf("${variable}");if(u===-1)break;s=s.replace("${variable}",a[l++])}return s??o}},t=cDe([ae("localeService")],t),t}(q),dDe=function(){var n=function(t,e){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])},n(t,e)};return function(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");n(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}}(),pDe=function(n,t,e,r){var i=arguments.length,o=i<3?t:r===null?r=Object.getOwnPropertyDescriptor(t,e):r,a;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(n,t,e,r);else for(var s=n.length-1;s>=0;s--)(a=n[s])&&(o=(i<3?a(o):i>3?a(t,e,o):a(t,e))||o);return i>3&&o&&Object.defineProperty(t,e,o),o},hDe=function(n){dDe(t,n);function t(){return n.call(this,t.TEMPLATE,"vertical")||this}return t.prototype.postConstruct=function(){n.prototype.postConstruct.call(this),this.createManagedBean(new CX(this.eContainer)),this.ctrlsService.registerFakeVScrollComp(this),this.addManagedListener(this.eventService,P.EVENT_ROW_CONTAINER_HEIGHT_CHANGED,this.onRowContainerHeightChanged.bind(this))},t.prototype.setScrollVisible=function(){var e=this.scrollVisibleService.isVerticalScrollShowing(),r=this.invisibleScrollbar,i=e&&this.gridOptionsService.getScrollbarWidth()||0,o=i===0&&r?16:i;this.addOrRemoveCssClass("ag-scrollbar-invisible",r),ja(this.getGui(),o),ja(this.eViewport,o),ja(this.eContainer,o),this.setDisplayed(e,{skipAriaHidden:!0})},t.prototype.onRowContainerHeightChanged=function(){var e=this.ctrlsService,r=e.getGridBodyCtrl(),i=r.getBodyViewportElement(),o=this.getScrollPosition(),a=i.scrollTop;o!=a&&this.setScrollPosition(a,!0)},t.prototype.getScrollPosition=function(){return this.getViewport().scrollTop},t.prototype.setScrollPosition=function(e,r){!r&&!aa(this.getViewport())&&this.attemptSettingScrollPosition(e),this.getViewport().scrollTop=e},t.TEMPLATE=`<div class="ag-body-vertical-scroll" aria-hidden="true">
            <div class="ag-body-vertical-scroll-viewport" ref="eViewport">
                <div class="ag-body-vertical-scroll-container" ref="eContainer"></div>
            </div>
        </div>`,pDe([z],t.prototype,"postConstruct",null),t}(Sq),fDe=function(){var n=function(t,e){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])},n(t,e)};return function(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");n(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}}(),Ki=function(){return Ki=Object.assign||function(n){for(var t,e=1,r=arguments.length;e<r;e++){t=arguments[e];for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(n[i]=t[i])}return n},Ki.apply(this,arguments)},Cp=function(n,t,e,r){var i=arguments.length,o=i<3?t:r===null?r=Object.getOwnPropertyDescriptor(t,e):r,a;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(n,t,e,r);else for(var s=n.length-1;s>=0;s--)(a=n[s])&&(o=(i<3?a(o):i>3?a(t,e,o):a(t,e))||o);return i>3&&o&&Object.defineProperty(t,e,o),o},il=function(n,t){var e=typeof Symbol=="function"&&n[Symbol.iterator];if(!e)return n;var r=e.call(n),i,o=[],a;try{for(;(t===void 0||t-- >0)&&!(i=r.next()).done;)o.push(i.value)}catch(s){a={error:s}}finally{try{i&&!i.done&&(e=r.return)&&e.call(r)}finally{if(a)throw a.error}}return o},Zy=function(n,t,e){if(e||arguments.length===2)for(var r=0,i=t.length,o;r<i;r++)(o||!(r in t))&&(o||(o=Array.prototype.slice.call(t,0,r)),o[r]=t[r]);return n.concat(o||Array.prototype.slice.call(t))},iW={january:"January",february:"February",march:"March",april:"April",may:"May",june:"June",july:"July",august:"August",september:"September",october:"October",november:"November",december:"December"},oW=["january","february","march","april","may","june","july","august","september","october","november","december"],_q=function(n){fDe(t,n);function t(){var e=n!==null&&n.apply(this,arguments)||this;return e.dataTypeDefinitions={},e.isWaitingForRowData=!1,e.isColumnTypeOverrideInDataTypeDefinitions=!1,e.columnStateUpdatesPendingInference={},e.columnStateUpdateListenerDestroyFuncs=[],e}return t.prototype.init=function(){var e=this;this.groupHideOpenParents=this.gridOptionsService.get("groupHideOpenParents"),this.addManagedPropertyListener("groupHideOpenParents",function(){e.groupHideOpenParents=e.gridOptionsService.get("groupHideOpenParents")}),this.processDataTypeDefinitions(),this.addManagedPropertyListener("dataTypeDefinitions",function(r){e.processDataTypeDefinitions(),e.columnModel.recreateColumnDefs(fv(r.source))})},t.prototype.processDataTypeDefinitions=function(){var e=this,r,i=this.getDefaultDataTypes();this.dataTypeDefinitions={},Object.entries(i).forEach(function(a){var s=il(a,2),l=s[0],u=s[1];e.dataTypeDefinitions[l]=Ki(Ki({},u),{groupSafeValueFormatter:e.createGroupSafeValueFormatter(u)})});var o=(r=this.gridOptionsService.get("dataTypeDefinitions"))!==null&&r!==void 0?r:{};this.dataTypeMatchers={},Object.entries(o).forEach(function(a){var s=il(a,2),l=s[0],u=s[1],c=e.processDataTypeDefinition(u,o,[l],i);c&&(e.dataTypeDefinitions[l]=c,u.dataTypeMatcher&&(e.dataTypeMatchers[l]=u.dataTypeMatcher))}),this.checkObjectValueHandlers(i),["dateString","text","number","boolean","date"].forEach(function(a){var s=e.dataTypeMatchers[a];s&&delete e.dataTypeMatchers[a],e.dataTypeMatchers[a]=s??i[a].dataTypeMatcher})},t.prototype.mergeDataTypeDefinitions=function(e,r){var i=Ki(Ki({},e),r);return e.columnTypes&&r.columnTypes&&r.appendColumnTypes&&(i.columnTypes=Zy(Zy([],il(this.convertColumnTypes(e.columnTypes)),!1),il(this.convertColumnTypes(r.columnTypes)),!1)),i},t.prototype.processDataTypeDefinition=function(e,r,i,o){var a,s=e.extendsDataType;if(e.columnTypes&&(this.isColumnTypeOverrideInDataTypeDefinitions=!0),e.extendsDataType===e.baseDataType){var l=o[s],u=r[s];if(l&&u&&(l=u),!this.validateDataTypeDefinition(e,l,s))return;a=this.mergeDataTypeDefinitions(l,e)}else{if(i.includes(s)){Le('Data type definition hierarchies (via the "extendsDataType" property) cannot contain circular references.');return}var c=r[s];if(!this.validateDataTypeDefinition(e,c,s))return;var d=this.processDataTypeDefinition(c,r,Zy(Zy([],il(i),!1),[s],!1),o);if(!d)return;a=this.mergeDataTypeDefinitions(d,e)}return Ki(Ki({},a),{groupSafeValueFormatter:this.createGroupSafeValueFormatter(a)})},t.prototype.validateDataTypeDefinition=function(e,r,i){return r?r.baseDataType!==e.baseDataType?(Le('The "baseDataType" property of a data type definition must match that of its parent.'),!1):!0:(Le("The data type definition ".concat(i," does not exist.")),!1)},t.prototype.createGroupSafeValueFormatter=function(e){var r=this;if(e.valueFormatter)return function(i){var o,a;if(!((o=i.node)===null||o===void 0)&&o.group){var s=i.column.getAggFunc();if(s){if(s==="first"||s==="last")return e.valueFormatter(i);if(e.baseDataType==="number"&&s!=="count"){if(typeof i.value=="number")return e.valueFormatter(i);if(typeof i.value=="object"){if(!i.value)return;if("toNumber"in i.value)return e.valueFormatter(Ki(Ki({},i),{value:i.value.toNumber()}));if("value"in i.value)return e.valueFormatter(Ki(Ki({},i),{value:i.value.value}))}}}if(!r.gridOptionsService.get("suppressGroupMaintainValueType"))return}else if(r.groupHideOpenParents&&i.column.isRowGroupActive()){if(typeof i.value!="string"||!((a=e.dataTypeMatcher)===null||a===void 0)&&a.call(e,i.value))return e.valueFormatter(i);if(!r.gridOptionsService.get("suppressGroupMaintainValueType"))return}return e.valueFormatter(i)}},t.prototype.updateColDefAndGetDataTypeDefinitionColumnType=function(e,r,i){var o=r.cellDataType,a=r.field;if(o===void 0&&(o=e.cellDataType),(o==null||o===!0)&&(o=this.canInferCellDataType(e,r)?this.inferCellDataType(a,i):!1),!o){e.cellDataType=!1;return}var s=this.dataTypeDefinitions[o];if(!s){Le('Missing data type definition - "'.concat(o,'"'));return}return e.cellDataType=o,s.groupSafeValueFormatter&&(e.valueFormatter=s.groupSafeValueFormatter),s.valueParser&&(e.valueParser=s.valueParser),s.suppressDefaultProperties||this.setColDefPropertiesForBaseDataType(e,s,i),s.columnTypes},t.prototype.updateColDefAndGetColumnType=function(e,r,i){var o,a,s=this.updateColDefAndGetDataTypeDefinitionColumnType(e,r,i),l=(a=(o=r.type)!==null&&o!==void 0?o:s)!==null&&a!==void 0?a:e.type;return e.type=l,l?this.convertColumnTypes(l):void 0},t.prototype.addColumnListeners=function(e){if(this.isWaitingForRowData){var r=this.columnStateUpdatesPendingInference[e.getColId()];if(r){var i=function(o){r.add(o.key)};e.addEventListener(Je.EVENT_STATE_UPDATED,i),this.columnStateUpdateListenerDestroyFuncs.push(function(){return e.removeEventListener(Je.EVENT_STATE_UPDATED,i)})}}},t.prototype.canInferCellDataType=function(e,r){var i=this,o;if(this.rowModel.getType()!=="clientSide")return!1;var a={cellRenderer:!0,valueGetter:!0,valueParser:!0,refData:!0};if(this.doColDefPropsPreventInference(r,a))return!1;var s=r.type===null?e.type:r.type;if(s){var l=(o=this.gridOptionsService.get("columnTypes"))!==null&&o!==void 0?o:{},u=this.convertColumnTypes(s).some(function(c){var d=l[c.trim()];return d&&i.doColDefPropsPreventInference(d,a)});if(u)return!1}return!this.doColDefPropsPreventInference(e,a)},t.prototype.doColDefPropsPreventInference=function(e,r){var i=this;return[["cellRenderer","agSparklineCellRenderer"],["valueGetter",void 0],["valueParser",void 0],["refData",void 0]].some(function(o){var a=il(o,2),s=a[0],l=a[1];return i.doesColDefPropPreventInference(e,r,s,l)})},t.prototype.doesColDefPropPreventInference=function(e,r,i,o){if(!r[i])return!1;var a=e[i];return a===null?(r[i]=!1,!1):o===void 0?!!a:a===o},t.prototype.inferCellDataType=function(e,r){var i;if(e){var o,a=this.getInitialData();if(a){var s=e.indexOf(".")>=0&&!this.gridOptionsService.get("suppressFieldDotNotation");o=Hv(a,e,s)}else this.initWaitForRowData(r);if(o!=null){var l=il((i=Object.entries(this.dataTypeMatchers).find(function(c){var d=il(c,2);d[0];var p=d[1];return p(o)}))!==null&&i!==void 0?i:["object"],1),u=l[0];return u}}},t.prototype.getInitialData=function(){var e=this.gridOptionsService.get("rowData");if(e!=null&&e.length)return e[0];if(this.initialData)return this.initialData;var r=this.rowModel.getRootNode().allLeafChildren;return r!=null&&r.length?r[0].data:null},t.prototype.initWaitForRowData=function(e){var r=this;if(this.columnStateUpdatesPendingInference[e]=new Set,!this.isWaitingForRowData){this.isWaitingForRowData=!0;var i=this.isColumnTypeOverrideInDataTypeDefinitions;i&&this.columnModel.queueResizeOperations();var o=this.addManagedListener(this.eventService,P.EVENT_ROW_DATA_UPDATE_STARTED,function(a){var s=a.firstRowData;if(s){o==null||o(),r.isWaitingForRowData=!1,r.processColumnsPendingInference(s,i),r.columnStateUpdatesPendingInference={},i&&r.columnModel.processResizeOperations();var l={type:P.EVENT_DATA_TYPES_INFERRED};r.eventService.dispatchEvent(l)}})}},t.prototype.isPendingInference=function(){return this.isWaitingForRowData},t.prototype.processColumnsPendingInference=function(e,r){var i=this;this.initialData=e;var o=[];this.columnStateUpdateListenerDestroyFuncs.forEach(function(l){return l()}),this.columnStateUpdateListenerDestroyFuncs=[];var a={},s={};Object.entries(this.columnStateUpdatesPendingInference).forEach(function(l){var u=il(l,2),c=u[0],d=u[1],p=i.columnModel.getGridColumn(c);if(p){var h=p.getColDef();if(i.columnModel.resetColumnDefIntoColumn(p,"cellDataTypeInferred")){var f=p.getColDef();if(r&&f.type&&f.type!==h.type){var v=i.getUpdatedColumnState(p,d);v.rowGroup&&v.rowGroupIndex==null&&(a[c]=v),v.pivot&&v.pivotIndex==null&&(s[c]=v),o.push(v)}}}}),r&&o.push.apply(o,Zy([],il(this.columnModel.generateColumnStateForRowGroupAndPivotIndexes(a,s)),!1)),o.length&&this.columnModel.applyColumnState({state:o},"cellDataTypeInferred"),this.initialData=null},t.prototype.getUpdatedColumnState=function(e,r){var i=this.columnModel.getColumnStateFromColDef(e);return r.forEach(function(o){delete i[o],o==="rowGroup"?delete i.rowGroupIndex:o==="pivot"&&delete i.pivotIndex}),i},t.prototype.checkObjectValueHandlers=function(e){var r=this.dataTypeDefinitions.object,i=e.object;this.hasObjectValueParser=r.valueParser!==i.valueParser,this.hasObjectValueFormatter=r.valueFormatter!==i.valueFormatter},t.prototype.convertColumnTypes=function(e){var r=[];if(e instanceof Array){var i=e.some(function(o){return typeof o!="string"});i?console.warn("if colDef.type is supplied an array it should be of type 'string[]'"):r=e}else typeof e=="string"?r=e.split(","):console.warn("colDef.type should be of type 'string' | 'string[]'");return r},t.prototype.getDateStringTypeDefinition=function(e){var r;return e?(r=this.getDataTypeDefinition(e))!==null&&r!==void 0?r:this.dataTypeDefinitions.dateString:this.dataTypeDefinitions.dateString},t.prototype.getDateParserFunction=function(e){return this.getDateStringTypeDefinition(e).dateParser},t.prototype.getDateFormatterFunction=function(e){return this.getDateStringTypeDefinition(e).dateFormatter},t.prototype.getDataTypeDefinition=function(e){var r=e.getColDef();if(r.cellDataType)return this.dataTypeDefinitions[r.cellDataType]},t.prototype.getBaseDataType=function(e){var r;return(r=this.getDataTypeDefinition(e))===null||r===void 0?void 0:r.baseDataType},t.prototype.checkType=function(e,r){var i;if(r==null)return!0;var o=(i=this.getDataTypeDefinition(e))===null||i===void 0?void 0:i.dataTypeMatcher;return o?o(r):!0},t.prototype.validateColDef=function(e){e.cellDataType==="object"&&(e.valueFormatter===this.dataTypeDefinitions.object.groupSafeValueFormatter&&!this.hasObjectValueFormatter&&Le('Cell data type is "object" but no value formatter has been provided. Please either provide an object data type definition with a value formatter, or set "colDef.valueFormatter"'),e.editable&&e.valueParser===this.dataTypeDefinitions.object.valueParser&&!this.hasObjectValueParser&&Le('Cell data type is "object" but no value parser has been provided. Please either provide an object data type definition with a value parser, or set "colDef.valueParser"'))},t.prototype.setColDefPropertiesForBaseDataType=function(e,r,i){var o=this,a=function(d,p,h){var f=d.getColDef().valueFormatter;return f===r.groupSafeValueFormatter&&(f=r.valueFormatter),o.valueFormatterService.formatValue(d,p,h,f)},s=ke.__isRegistered(fe.SetFilterModule,this.context.getGridId()),l=this.localeService.getLocaleTextFunc(),u=function(d){var p=e.filterParams;e.filterParams=typeof p=="object"?Ki(Ki({},p),d):d};switch(r.baseDataType){case"number":{e.cellEditor="agNumberCellEditor",s&&u({comparator:function(d,p){var h=d==null?0:parseInt(d),f=p==null?0:parseInt(p);return h===f?0:h>f?1:-1}});break}case"boolean":{e.cellEditor="agCheckboxCellEditor",e.cellRenderer="agCheckboxCellRenderer",e.suppressKeyboardEvent=function(d){return!!d.colDef.editable&&d.event.key===U.SPACE},u(s?{valueFormatter:function(d){return ce(d.value)?l(String(d.value),d.value?"True":"False"):l("blanks","(Blanks)")}}:{maxNumConditions:1,debounceMs:0,filterOptions:["empty",{displayKey:"true",displayName:"True",predicate:function(d,p){return p},numberOfInputs:0},{displayKey:"false",displayName:"False",predicate:function(d,p){return p===!1},numberOfInputs:0}]});break}case"date":{e.cellEditor="agDateCellEditor",e.keyCreator=function(d){return a(d.column,d.node,d.value)},s&&u({valueFormatter:function(d){var p=a(d.column,d.node,d.value);return ce(p)?p:l("blanks","(Blanks)")},treeList:!0,treeListFormatter:function(d,p){if(p===1&&d!=null){var h=oW[Number(d)-1];return l(h,iW[h])}return d??l("blanks","(Blanks)")}});break}case"dateString":{e.cellEditor="agDateStringCellEditor",e.keyCreator=function(d){return a(d.column,d.node,d.value)};var c=r.dateParser;u(s?{valueFormatter:function(d){var p=a(d.column,d.node,d.value);return ce(p)?p:l("blanks","(Blanks)")},treeList:!0,treeListPathGetter:function(d){var p=c(d??void 0);return p?[String(p.getFullYear()),String(p.getMonth()+1),String(p.getDate())]:null},treeListFormatter:function(d,p){if(p===1&&d!=null){var h=oW[Number(d)-1];return l(h,iW[h])}return d??l("blanks","(Blanks)")}}:{comparator:function(d,p){var h=c(p);return p==null||h<d?-1:h>d?1:0}});break}case"object":{e.cellEditorParams={useFormatter:!0},e.comparator=function(d,p){var h=o.columnModel.getPrimaryColumn(i),f=h==null?void 0:h.getColDef();if(!h||!f)return 0;var v=d==null?"":a(h,null,d),g=p==null?"":a(h,null,p);return v===g?0:v>g?1:-1},e.keyCreator=function(d){return a(d.column,d.node,d.value)},s?u({valueFormatter:function(d){var p=a(d.column,d.node,d.value);return ce(p)?p:l("blanks","(Blanks)")}}):e.filterValueGetter=function(d){return a(d.column,d.node,o.valueService.getValue(d.column,d.node))};break}}},t.prototype.getDefaultDataTypes=function(){var e=function(i){return!!i.match("^\\d{4}-\\d{2}-\\d{2}$")},r=this.localeService.getLocaleTextFunc();return{number:{baseDataType:"number",valueParser:function(i){var o,a;return((a=(o=i.newValue)===null||o===void 0?void 0:o.trim)===null||a===void 0?void 0:a.call(o))===""?null:Number(i.newValue)},valueFormatter:function(i){return i.value==null?"":typeof i.value!="number"||isNaN(i.value)?r("invalidNumber","Invalid Number"):String(i.value)},dataTypeMatcher:function(i){return typeof i=="number"}},text:{baseDataType:"text",valueParser:function(i){return i.newValue===""?null:PS(i.newValue)},dataTypeMatcher:function(i){return typeof i=="string"}},boolean:{baseDataType:"boolean",valueParser:function(i){var o,a;return i.newValue==null?i.newValue:((a=(o=i.newValue)===null||o===void 0?void 0:o.trim)===null||a===void 0?void 0:a.call(o))===""?null:String(i.newValue).toLowerCase()==="true"},valueFormatter:function(i){return i.value==null?"":String(i.value)},dataTypeMatcher:function(i){return typeof i=="boolean"}},date:{baseDataType:"date",valueParser:function(i){return oo(i.newValue==null?null:String(i.newValue))},valueFormatter:function(i){var o;return i.value==null?"":!(i.value instanceof Date)||isNaN(i.value.getTime())?r("invalidDate","Invalid Date"):(o=Ha(i.value,!1))!==null&&o!==void 0?o:""},dataTypeMatcher:function(i){return i instanceof Date}},dateString:{baseDataType:"dateString",dateParser:function(i){var o;return(o=oo(i))!==null&&o!==void 0?o:void 0},dateFormatter:function(i){var o;return(o=Ha(i??null,!1))!==null&&o!==void 0?o:void 0},valueParser:function(i){return e(String(i.newValue))?i.newValue:null},valueFormatter:function(i){return e(String(i.value))?i.value:""},dataTypeMatcher:function(i){return typeof i=="string"&&e(i)}},object:{baseDataType:"object",valueParser:function(){return null},valueFormatter:function(i){var o;return(o=PS(i.value))!==null&&o!==void 0?o:""}}}},Cp([E("rowModel")],t.prototype,"rowModel",void 0),Cp([E("columnModel")],t.prototype,"columnModel",void 0),Cp([E("columnUtils")],t.prototype,"columnUtils",void 0),Cp([E("valueService")],t.prototype,"valueService",void 0),Cp([E("valueFormatterService")],t.prototype,"valueFormatterService",void 0),Cp([z],t.prototype,"init",null),t=Cp([ae("dataTypeService")],t),t}(q),vDe=function(){var n=function(t,e){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])},n(t,e)};return function(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");n(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}}(),aW=function(n,t,e,r){var i=arguments.length,o=i<3?t:r===null?r=Object.getOwnPropertyDescriptor(t,e):r,a;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(n,t,e,r);else for(var s=n.length-1;s>=0;s--)(a=n[s])&&(o=(i<3?a(o):i>3?a(t,e,o):a(t,e))||o);return i>3&&o&&Object.defineProperty(t,e,o),o},xq=function(n){vDe(t,n);function t(){return n!==null&&n.apply(this,arguments)||this}return t.prototype.parseValue=function(e,r,i,o){var a=e.getColDef(),s=this.gridOptionsService.addGridCommonParams({node:r,data:r==null?void 0:r.data,oldValue:o,newValue:i,colDef:a,column:e}),l=a.valueParser;return ce(l)?typeof l=="function"?l(s):this.expressionService.evaluate(l,s):i},aW([E("expressionService")],t.prototype,"expressionService",void 0),t=aW([ae("valueParserService")],t),t}(q),gDe=function(){var n=function(t,e){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])},n(t,e)};return function(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");n(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}}(),Qy=function(n,t,e,r){var i=arguments.length,o=i<3?t:r===null?r=Object.getOwnPropertyDescriptor(t,e):r,a;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(n,t,e,r);else for(var s=n.length-1;s>=0;s--)(a=n[s])&&(o=(i<3?a(o):i>3?a(t,e,o):a(t,e))||o);return i>3&&o&&Object.defineProperty(t,e,o),o},yDe=function(n){gDe(t,n);function t(){var e=n!==null&&n.apply(this,arguments)||this;return e.waitingForColumns=!1,e}return t.prototype.postConstruct=function(){var e=this;this.addManagedPropertyListener("columnDefs",function(r){return e.setColumnDefs(r)})},t.prototype.start=function(){var e=this;this.ctrlsService.whenReady(function(){var r=e.gridOptionsService.get("columnDefs");r?e.setColumnsAndData(r):e.waitingForColumns=!0,e.gridReady()})},t.prototype.setColumnsAndData=function(e){this.columnModel.setColumnDefs(e??[],"gridInitializing"),this.rowModel.start()},t.prototype.gridReady=function(){var e=this;this.dispatchGridReadyEvent();var r=ke.__isRegistered(fe.EnterpriseCoreModule,this.context.getGridId()),i=new FT("AG Grid",function(){return e.gridOptionsService.get("debug")});i.log("initialised successfully, enterprise = ".concat(r))},t.prototype.dispatchGridReadyEvent=function(){var e={type:P.EVENT_GRID_READY};this.eventService.dispatchEvent(e)},t.prototype.setColumnDefs=function(e){var r=this.gridOptionsService.get("columnDefs");if(r){if(this.waitingForColumns){this.waitingForColumns=!1,this.setColumnsAndData(r);return}this.columnModel.setColumnDefs(r,fv(e.source))}},Qy([E("ctrlsService")],t.prototype,"ctrlsService",void 0),Qy([E("columnModel")],t.prototype,"columnModel",void 0),Qy([E("rowModel")],t.prototype,"rowModel",void 0),Qy([z],t.prototype,"postConstruct",null),t=Qy([ae("syncService")],t),t}(q),mDe=function(){var n=function(t,e){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])},n(t,e)};return function(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");n(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}}(),IL=function(){return IL=Object.assign||function(n){for(var t,e=1,r=arguments.length;e<r;e++){t=arguments[e];for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(n[i]=t[i])}return n},IL.apply(this,arguments)},Jy=function(n,t,e,r){var i=arguments.length,o=i<3?t:r===null?r=Object.getOwnPropertyDescriptor(t,e):r,a;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(n,t,e,r);else for(var s=n.length-1;s>=0;s--)(a=n[s])&&(o=(i<3?a(o):i>3?a(t,e,o):a(t,e))||o);return i>3&&o&&Object.defineProperty(t,e,o),o},CDe=function(n){mDe(t,n);function t(){var e=n!==null&&n.apply(this,arguments)||this;return e.manuallyDisplayed=!1,e}return t.prototype.postConstruct=function(){var e=this;this.addManagedListener(this.eventService,P.EVENT_ROW_DATA_UPDATED,function(){return e.onRowDataUpdated()}),this.addManagedListener(this.eventService,P.EVENT_NEW_COLUMNS_LOADED,function(){return e.onNewColumnsLoaded()})},t.prototype.registerOverlayWrapperComp=function(e){this.overlayWrapperComp=e,(!this.gridOptionsService.get("columnDefs")||this.gridOptionsService.isRowModelType("clientSide")&&!this.gridOptionsService.get("rowData"))&&this.showLoadingOverlay()},t.prototype.showLoadingOverlay=function(){if(!this.gridOptionsService.get("suppressLoadingOverlay")){var e={},r=this.userComponentFactory.getLoadingOverlayCompDetails(e);this.showOverlay(r,"ag-overlay-loading-wrapper","loadingOverlayComponentParams")}},t.prototype.showNoRowsOverlay=function(){if(!this.gridOptionsService.get("suppressNoRowsOverlay")){var e={},r=this.userComponentFactory.getNoRowsOverlayCompDetails(e);this.showOverlay(r,"ag-overlay-no-rows-wrapper","noRowsOverlayComponentParams")}},t.prototype.showOverlay=function(e,r,i){var o=this,a=e.newAgStackInstance(),s=this.addManagedPropertyListener(i,function(l){var u=l.currentValue;a.then(function(c){c.refresh&&c.refresh(o.gridOptionsService.addGridCommonParams(IL({},u??{})))})});this.manuallyDisplayed=this.columnModel.isReady()&&!this.paginationProxy.isEmpty(),this.overlayWrapperComp.showOverlay(a,r,s)},t.prototype.hideOverlay=function(){this.manuallyDisplayed=!1,this.overlayWrapperComp.hideOverlay()},t.prototype.showOrHideOverlay=function(){var e=this.paginationProxy.isEmpty(),r=this.gridOptionsService.get("suppressNoRowsOverlay");e&&!r?this.showNoRowsOverlay():this.hideOverlay()},t.prototype.onRowDataUpdated=function(){this.showOrHideOverlay()},t.prototype.onNewColumnsLoaded=function(){this.columnModel.isReady()&&!this.paginationProxy.isEmpty()&&!this.manuallyDisplayed&&this.hideOverlay()},Jy([E("userComponentFactory")],t.prototype,"userComponentFactory",void 0),Jy([E("paginationProxy")],t.prototype,"paginationProxy",void 0),Jy([E("columnModel")],t.prototype,"columnModel",void 0),Jy([z],t.prototype,"postConstruct",null),t=Jy([ae("overlayService")],t),t}(q),SDe=function(){var n=function(t,e){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])},n(t,e)};return function(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");n(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}}(),Zc=function(){return Zc=Object.assign||function(n){for(var t,e=1,r=arguments.length;e<r;e++){t=arguments[e];for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(n[i]=t[i])}return n},Zc.apply(this,arguments)},To=function(n,t,e,r){var i=arguments.length,o=i<3?t:r===null?r=Object.getOwnPropertyDescriptor(t,e):r,a;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(n,t,e,r);else for(var s=n.length-1;s>=0;s--)(a=n[s])&&(o=(i<3?a(o):i>3?a(t,e,o):a(t,e))||o);return i>3&&o&&Object.defineProperty(t,e,o),o},wDe=function(n){var t=typeof Symbol=="function"&&Symbol.iterator,e=t&&n[t],r=0;if(e)return e.call(n);if(n&&typeof n.length=="number")return{next:function(){return n&&r>=n.length&&(n=void 0),{value:n&&n[r++],done:!n}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")},_De=function(n,t){var e=typeof Symbol=="function"&&n[Symbol.iterator];if(!e)return n;var r=e.call(n),i,o=[],a;try{for(;(t===void 0||t-- >0)&&!(i=r.next()).done;)o.push(i.value)}catch(s){a={error:s}}finally{try{i&&!i.done&&(e=r.return)&&e.call(r)}finally{if(a)throw a.error}}return o},xDe=function(n){SDe(t,n);function t(){var e=n!==null&&n.apply(this,arguments)||this;return e.suppressEvents=!0,e.queuedUpdateSources=new Set,e.dispatchStateUpdateEventDebounced=Qo(function(){return e.dispatchQueuedStateUpdateEvents()},0),e}return t.prototype.postConstruct=function(){var e=this,r;this.isClientSideRowModel=this.rowModel.getType()==="clientSide",this.cachedState=(r=this.gridOptionsService.get("initialState"))!==null&&r!==void 0?r:{},this.ctrlsService.whenReady(function(){return e.suppressEventsAndDispatchInitEvent(function(){return e.setupStateOnGridReady()})});var i=this.addManagedListener(this.eventService,P.EVENT_NEW_COLUMNS_LOADED,function(s){var l=s.source;l==="gridInitializing"&&(i==null||i(),e.suppressEventsAndDispatchInitEvent(function(){return e.setupStateOnColumnsInitialised()}))}),o=this.addManagedListener(this.eventService,P.EVENT_ROW_COUNT_READY,function(){o==null||o(),e.suppressEventsAndDispatchInitEvent(function(){return e.setupStateOnRowCountReady()})}),a=this.addManagedListener(this.eventService,P.EVENT_FIRST_DATA_RENDERED,function(){a==null||a(),e.suppressEventsAndDispatchInitEvent(function(){return e.setupStateOnFirstDataRendered()})})},t.prototype.getState=function(){return this.cachedState},t.prototype.setupStateOnGridReady=function(){var e=this;this.updateCachedState("sideBar",this.getSideBarState()),this.addManagedListener(this.eventService,P.EVENT_TOOL_PANEL_VISIBLE_CHANGED,function(){return e.updateCachedState("sideBar",e.getSideBarState())}),this.addManagedListener(this.eventService,P.EVENT_SIDE_BAR_UPDATED,function(){return e.updateCachedState("sideBar",e.getSideBarState())})},t.prototype.setupStateOnColumnsInitialised=function(){var e=this,r,i=(r=this.gridOptionsService.get("initialState"))!==null&&r!==void 0?r:{};this.setColumnState(i),this.setColumnGroupState(i),this.updateColumnState(["aggregation","columnOrder","columnPinning","columnSizing","columnVisibility","pivot","pivot","rowGroup","sort"]),this.updateCachedState("columnGroup",this.getColumnGroupState()),this.addManagedListener(this.eventService,P.EVENT_COLUMN_VALUE_CHANGED,function(){return e.updateColumnState(["aggregation"])}),this.addManagedListener(this.eventService,P.EVENT_COLUMN_MOVED,function(){return e.updateColumnState(["columnOrder"])}),this.addManagedListener(this.eventService,P.EVENT_COLUMN_PINNED,function(){return e.updateColumnState(["columnPinning"])}),this.addManagedListener(this.eventService,P.EVENT_COLUMN_RESIZED,function(){return e.updateColumnState(["columnSizing"])}),this.addManagedListener(this.eventService,P.EVENT_COLUMN_VISIBLE,function(){return e.updateColumnState(["columnVisibility"])}),this.addManagedListener(this.eventService,P.EVENT_COLUMN_PIVOT_CHANGED,function(){return e.updateColumnState(["pivot"])}),this.addManagedListener(this.eventService,P.EVENT_COLUMN_PIVOT_MODE_CHANGED,function(){return e.updateColumnState(["pivot"])}),this.addManagedListener(this.eventService,P.EVENT_COLUMN_ROW_GROUP_CHANGED,function(){return e.updateColumnState(["rowGroup"])}),this.addManagedListener(this.eventService,P.EVENT_SORT_CHANGED,function(){return e.updateColumnState(["sort"])}),this.addManagedListener(this.eventService,P.EVENT_NEW_COLUMNS_LOADED,function(){return e.updateColumnState(["aggregation","columnOrder","columnPinning","columnSizing","columnVisibility","pivot","pivot","rowGroup","sort"])}),this.addManagedListener(this.eventService,P.EVENT_COLUMN_GROUP_OPENED,function(){return e.updateCachedState("columnGroup",e.getColumnGroupState())})},t.prototype.setupStateOnRowCountReady=function(){var e=this,r,i=(r=this.gridOptionsService.get("initialState"))!==null&&r!==void 0?r:{},o=i.filter,a=i.rowGroupExpansion,s=i.rowSelection,l=i.pagination,u=this.gridOptionsService.get("advancedFilterModel");(o||u)&&this.setFilterState(o,u),a&&this.setRowGroupExpansionState(a),s&&this.setRowSelectionState(s),l&&this.setPaginationState(l),this.updateCachedState("filter",this.getFilterState()),this.updateCachedState("rowGroupExpansion",this.getRowGroupExpansionState()),this.updateCachedState("rowSelection",this.getRowSelectionState()),this.updateCachedState("pagination",this.getPaginationState()),this.addManagedListener(this.eventService,P.EVENT_FILTER_CHANGED,function(){return e.updateCachedState("filter",e.getFilterState())}),this.addManagedListener(this.eventService,P.EVENT_ROW_GROUP_OPENED,function(){return e.updateCachedState("rowGroupExpansion",e.getRowGroupExpansionState())}),this.addManagedListener(this.eventService,P.EVENT_EXPAND_COLLAPSE_ALL,function(){return e.updateCachedState("rowGroupExpansion",e.getRowGroupExpansionState())}),this.addManagedListener(this.eventService,P.EVENT_SELECTION_CHANGED,function(){return e.updateCachedState("rowSelection",e.getRowSelectionState())}),this.addManagedListener(this.eventService,P.EVENT_PAGINATION_CHANGED,function(c){(c.newPage||c.newPageSize)&&e.updateCachedState("pagination",e.getPaginationState())})},t.prototype.setupStateOnFirstDataRendered=function(){var e=this,r,i=(r=this.gridOptionsService.get("initialState"))!==null&&r!==void 0?r:{},o=i.scroll,a=i.rangeSelection,s=i.focusedCell,l=i.columnOrder;s&&this.setFocusedCellState(s),a&&this.setRangeSelectionState(a),o&&this.setScrollState(o),this.setColumnPivotState(!!(l!=null&&l.orderedColIds)),this.updateCachedState("sideBar",this.getSideBarState()),this.updateCachedState("focusedCell",this.getFocusedCellState()),this.updateCachedState("rangeSelection",this.getRangeSelectionState()),this.updateCachedState("scroll",this.getScrollState()),this.addManagedListener(this.eventService,P.EVENT_CELL_FOCUSED,function(){return e.updateCachedState("focusedCell",e.getFocusedCellState())}),this.addManagedListener(this.eventService,P.EVENT_RANGE_SELECTION_CHANGED,function(u){u.finished&&e.updateCachedState("rangeSelection",e.getRangeSelectionState())}),this.addManagedListener(this.eventService,P.EVENT_BODY_SCROLL_END,function(){return e.updateCachedState("scroll",e.getScrollState())})},t.prototype.getColumnState=function(){for(var e=this.columnModel.isPivotMode(),r=[],i=[],o=[],a=[],s=[],l=[],u=[],c=[],d=[],p=this.columnModel.getColumnState(),h=0;h<p.length;h++){var f=p[h],v=f.colId,g=f.sort,y=f.sortIndex,m=f.rowGroup,C=f.rowGroupIndex,S=f.aggFunc,w=f.pivot,_=f.pivotIndex,x=f.pinned,b=f.hide,O=f.width,T=f.flex;d.push(v),g&&(r[y??0]={colId:v,sort:g}),m&&(i[C??0]=v),typeof S=="string"&&o.push({colId:v,aggFunc:S}),w&&(a[_??0]=v),x&&(x==="right"?l:s).push(v),b&&u.push(v),(T||O)&&c.push({colId:v,flex:T??void 0,width:O})}return{sort:r.length?{sortModel:r}:void 0,rowGroup:i.length?{groupColIds:i}:void 0,aggregation:o.length?{aggregationModel:o}:void 0,pivot:a.length||e?{pivotMode:e,pivotColIds:a}:void 0,columnPinning:s.length||l.length?{leftColIds:s,rightColIds:l}:void 0,columnVisibility:u.length?{hiddenColIds:u}:void 0,columnSizing:c.length?{columnSizingModel:c}:void 0,columnOrder:d.length?{orderedColIds:d}:void 0}},t.prototype.setColumnState=function(e){var r=e.sort,i=e.rowGroup,o=e.aggregation,a=e.pivot,s=e.columnPinning,l=e.columnVisibility,u=e.columnSizing,c=e.columnOrder,d={},p=function(y){var m=d[y];return m||(m={colId:y},d[y]=m,m)};r&&r.sortModel.forEach(function(y,m){var C=y.colId,S=y.sort,w=p(C);w.sort=S,w.sortIndex=m}),i&&i.groupColIds.forEach(function(y,m){var C=p(y);C.rowGroup=!0,C.rowGroupIndex=m}),o&&o.aggregationModel.forEach(function(y){var m=y.colId,C=y.aggFunc;p(m).aggFunc=C}),a&&(a.pivotColIds.forEach(function(y,m){var C=p(y);C.pivot=!0,C.pivotIndex=m}),this.gridOptionsService.updateGridOptions({options:{pivotMode:a.pivotMode},source:"gridInitializing"})),s&&(s.leftColIds.forEach(function(y){p(y).pinned="left"}),s.rightColIds.forEach(function(y){p(y).pinned="right"})),l&&l.hiddenColIds.forEach(function(y){p(y).hide=!0}),u&&u.columnSizingModel.forEach(function(y){var m=y.colId,C=y.flex,S=y.width,w=p(m);w.flex=C??null,w.width=S});var h=c==null?void 0:c.orderedColIds,f=!!(h!=null&&h.length),v=f?h.map(function(y){return p(y)}):Object.values(d);if(v.length){this.columnStates=v;var g={sort:null,sortIndex:null,rowGroup:null,rowGroupIndex:null,aggFunc:null,pivot:null,pivotIndex:null,pinned:null,hide:null,flex:null};this.columnModel.applyColumnState({state:v,applyOrder:f,defaultState:g},"gridInitializing")}},t.prototype.setColumnPivotState=function(e){var r,i,o=this.columnStates;this.columnStates=void 0;var a=this.columnGroupStates;if(this.columnGroupStates=void 0,!!this.columnModel.isSecondaryColumnsPresent()){if(o){var s=[];try{for(var l=wDe(o),u=l.next();!u.done;u=l.next()){var c=u.value;this.columnModel.getSecondaryColumn(c.colId)&&s.push(c)}}catch(d){r={error:d}}finally{try{u&&!u.done&&(i=l.return)&&i.call(l)}finally{if(r)throw r.error}}this.columnModel.applyColumnState({state:s,applyOrder:e},"gridInitializing")}a&&this.columnModel.setColumnGroupState(a,"gridInitializing")}},t.prototype.getColumnGroupState=function(){var e=this.columnModel.getColumnGroupState(),r=[];return e.forEach(function(i){var o=i.groupId,a=i.open;a&&r.push(o)}),r.length?{openColumnGroupIds:r}:void 0},t.prototype.setColumnGroupState=function(e){var r;if(e.hasOwnProperty("columnGroup")){var i=new Set((r=e.columnGroup)===null||r===void 0?void 0:r.openColumnGroupIds),o=this.columnModel.getColumnGroupState(),a=o.map(function(s){var l=s.groupId,u=i.has(l);return u&&i.delete(l),{groupId:l,open:u}});i.forEach(function(s){a.push({groupId:s,open:!0})}),a.length&&(this.columnGroupStates=a),this.columnModel.setColumnGroupState(a,"gridInitializing")}},t.prototype.getFilterState=function(){var e,r=this.filterManager.getFilterModel();r&&Object.keys(r).length===0&&(r=void 0);var i=(e=this.filterManager.getAdvancedFilterModel())!==null&&e!==void 0?e:void 0;return r||i?{filterModel:r,advancedFilterModel:i}:void 0},t.prototype.setFilterState=function(e,r){var i=e??{advancedFilterModel:r},o=i.filterModel,a=i.advancedFilterModel;o&&this.filterManager.setFilterModel(o,"columnFilter"),a&&this.filterManager.setAdvancedFilterModel(a)},t.prototype.getRangeSelectionState=function(){var e,r=(e=this.rangeService)===null||e===void 0?void 0:e.getCellRanges().map(function(i){var o=i.id,a=i.type,s=i.startRow,l=i.endRow,u=i.columns,c=i.startColumn;return{id:o,type:a,startRow:s,endRow:l,colIds:u.map(function(d){return d.getColId()}),startColId:c.getColId()}});return r!=null&&r.length?{cellRanges:r}:void 0},t.prototype.setRangeSelectionState=function(e){var r=this,i;if(this.gridOptionsService.get("enableRangeSelection")){var o=e.cellRanges.map(function(a){return Zc(Zc({},a),{columns:a.colIds.map(function(s){return r.columnModel.getGridColumn(s)}),startColumn:r.columnModel.getGridColumn(a.startColId)})});(i=this.rangeService)===null||i===void 0||i.setCellRanges(o)}},t.prototype.getScrollState=function(){var e,r,i;if(this.isClientSideRowModel){var o=(e=this.ctrlsService.getGridBodyCtrl())===null||e===void 0?void 0:e.getScrollFeature(),a=((r=o==null?void 0:o.getHScrollPosition())!==null&&r!==void 0?r:{left:0}).left,s=((i=o==null?void 0:o.getVScrollPosition())!==null&&i!==void 0?i:{top:0}).top;return s||a?{top:s,left:a}:void 0}},t.prototype.setScrollState=function(e){var r;if(this.isClientSideRowModel){var i=e.top,o=e.left;(r=this.ctrlsService.getGridBodyCtrl())===null||r===void 0||r.getScrollFeature().setScrollPosition(i,o)}},t.prototype.getSideBarState=function(){var e,r;return(r=(e=this.sideBarService)===null||e===void 0?void 0:e.getSideBarComp())===null||r===void 0?void 0:r.getState()},t.prototype.getFocusedCellState=function(){if(this.isClientSideRowModel){var e=this.focusService.getFocusedCell();if(e){var r=e.column,i=e.rowIndex,o=e.rowPinned;return{colId:r.getColId(),rowIndex:i,rowPinned:o}}}},t.prototype.setFocusedCellState=function(e){if(this.isClientSideRowModel){var r=e.colId,i=e.rowIndex,o=e.rowPinned;this.focusService.setFocusedCell({column:this.columnModel.getGridColumn(r),rowIndex:i,rowPinned:o,forceBrowserFocus:!0,preventScrollOnBrowserFocus:!0})}},t.prototype.getPaginationState=function(){var e=this.paginationProxy.getCurrentPage(),r=this.gridOptionsService.get("paginationAutoPageSize")?void 0:this.paginationProxy.getPageSize();if(!(!e&&!r))return{page:e,pageSize:r}},t.prototype.setPaginationState=function(e){e.pageSize&&!this.gridOptionsService.get("paginationAutoPageSize")&&this.paginationProxy.setPageSize(e.pageSize,"initialState"),typeof e.page=="number"&&this.paginationProxy.setPage(e.page)},t.prototype.getRowSelectionState=function(){var e,r=this.selectionService.getSelectionState(),i=!r||!Array.isArray(r)&&(r.selectAll===!1||r.selectAllChildren===!1)&&!(!((e=r==null?void 0:r.toggledNodes)===null||e===void 0)&&e.length);return i?void 0:r},t.prototype.setRowSelectionState=function(e){this.selectionService.setSelectionState(e,"gridInitializing")},t.prototype.getRowGroupExpansionState=function(){var e=this.expansionService.getExpandedRows();return e.length?{expandedRowGroupIds:e}:void 0},t.prototype.setRowGroupExpansionState=function(e){this.expansionService.expandRows(e.expandedRowGroupIds)},t.prototype.updateColumnState=function(e){var r=this,i=this.getColumnState(),o=!1;Object.entries(i).forEach(function(a){var s=_De(a,2),l=s[0],u=s[1];gL(u,r.cachedState[l])||(o=!0)}),this.cachedState=Zc(Zc({},this.cachedState),i),o&&this.dispatchStateUpdateEvent(e)},t.prototype.updateCachedState=function(e,r){var i,o=this.cachedState[e];this.cachedState=Zc(Zc({},this.cachedState),(i={},i[e]=r,i)),gL(r,o)||this.dispatchStateUpdateEvent([e])},t.prototype.dispatchStateUpdateEvent=function(e){var r=this;this.suppressEvents||(e.forEach(function(i){return r.queuedUpdateSources.add(i)}),this.dispatchStateUpdateEventDebounced())},t.prototype.dispatchQueuedStateUpdateEvents=function(){var e=Array.from(this.queuedUpdateSources);this.queuedUpdateSources.clear();var r={type:P.EVENT_STATE_UPDATED,sources:e,state:this.cachedState};this.eventService.dispatchEvent(r)},t.prototype.suppressEventsAndDispatchInitEvent=function(e){var r=this;this.suppressEvents=!0,this.columnAnimationService.setSuppressAnimation(!0),e(),setTimeout(function(){r.suppressEvents=!1,r.queuedUpdateSources.clear(),r.isAlive()&&(r.columnAnimationService.setSuppressAnimation(!1),r.dispatchStateUpdateEvent(["gridInitializing"]))})},To([E("filterManager")],t.prototype,"filterManager",void 0),To([qe("rangeService")],t.prototype,"rangeService",void 0),To([E("ctrlsService")],t.prototype,"ctrlsService",void 0),To([qe("sideBarService")],t.prototype,"sideBarService",void 0),To([E("focusService")],t.prototype,"focusService",void 0),To([E("columnModel")],t.prototype,"columnModel",void 0),To([E("paginationProxy")],t.prototype,"paginationProxy",void 0),To([E("rowModel")],t.prototype,"rowModel",void 0),To([E("selectionService")],t.prototype,"selectionService",void 0),To([E("expansionService")],t.prototype,"expansionService",void 0),To([E("columnAnimationService")],t.prototype,"columnAnimationService",void 0),To([z],t.prototype,"postConstruct",null),t=To([ae("stateService")],t),t}(q),EDe=function(){var n=function(t,e){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])},n(t,e)};return function(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");n(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}}(),wD=function(n,t,e,r){var i=arguments.length,o=i<3?t:r===null?r=Object.getOwnPropertyDescriptor(t,e):r,a;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(n,t,e,r);else for(var s=n.length-1;s>=0;s--)(a=n[s])&&(o=(i<3?a(o):i>3?a(t,e,o):a(t,e))||o);return i>3&&o&&Object.defineProperty(t,e,o),o},Sp=function(n,t){var e=typeof Symbol=="function"&&n[Symbol.iterator];if(!e)return n;var r=e.call(n),i,o=[],a;try{for(;(t===void 0||t-- >0)&&!(i=r.next()).done;)o.push(i.value)}catch(s){a={error:s}}finally{try{i&&!i.done&&(e=r.return)&&e.call(r)}finally{if(a)throw a.error}}return o},em=function(n,t,e){if(e||arguments.length===2)for(var r=0,i=t.length,o;r<i;r++)(o||!(r in t))&&(o||(o=Array.prototype.slice.call(t,0,r)),o[r]=t[r]);return n.concat(o||Array.prototype.slice.call(t))},bDe=function(n){EDe(t,n);function t(){return n!==null&&n.apply(this,arguments)||this}return t.prototype.init=function(){this.processGridOptions(this.gridOptions)},t.prototype.processGridOptions=function(e){this.processOptions(e,lDe)},t.prototype.processColumnDefs=function(e){this.processOptions(e,yv)},t.prototype.processOptions=function(e,r){var i=this,o=r.validations,a=r.deprecations,s=r.allProperties,l=r.propertyExceptions,u=r.objectName,c=r.docsUrl;s&&this.gridOptions.suppressPropertyNamesCheck!==!0&&this.checkProperties(e,em(em([],Sp(l??[]),!1),Sp(Object.keys(a)),!1),s,u,c);var d=new Set,p=Object.keys(e);p.forEach(function(h){var f,v=a[h];if(v)if("renamed"in v){var g=v.renamed,y=v.version;d.add("As of v".concat(y,", ").concat(String(h)," is deprecated. Please use ").concat(String(g)," instead.")),e[g]=e[h]}else{var m=v.message,y=v.version;d.add("As of v".concat(y,", ").concat(String(h)," is deprecated. ").concat(m??""))}var C=e[h];if(!(C==null||C===!1)){var S=o[h],w;if(S)if(typeof S=="function"){var _=S(e,i.gridOptions);if(!_)return;if("objectName"in _){var x=e[h];if(Array.isArray(x)){x.forEach(function(G){i.processOptions(G,_)});return}i.processOptions(e[h],_);return}w=_}else w=S;else return;var b=w.module,O=w.dependencies,T=w.supportedRowModels;if(T){var A=(f=i.gridOptions.rowModelType)!==null&&f!==void 0?f:"clientSide";if(!T.includes(A)){d.add("".concat(String(h)," is not supported with the '").concat(A,"' row model."));return}}if(b){var N=Array.isArray(b)?b:[b],M=!0;if(N.forEach(function(G){ke.__assertRegistered(G,String(h),i.context.getGridId())||(M=!1,d.add("".concat(String(h)," is only available when ").concat(G," is loaded.")))}),!M)return}if(O){var L=i.checkForWarning(h,O,e);if(L){d.add(L);return}}}}),d.size>0&&d.forEach(function(h){Le(h)})},t.prototype.checkForWarning=function(e,r,i){if(typeof r=="function")return r(i,this.gridOptions);var o=Object.entries(r),a=o.find(function(c){var d=Sp(c,2),p=d[0],h=d[1],f=i[p];return!h.includes(f)});if(!a)return null;var s=Sp(a,2),l=s[0],u=s[1];return u.length>1?"'".concat(String(e),"' requires '").concat(l,"' to be one of [").concat(u.join(", "),"]."):"'".concat(String(e),"' requires '").concat(l,"' to be ").concat(u[0],".")},t.prototype.checkProperties=function(e,r,i,o,a){var s=["__ob__","__v_skip","__metadata__"],l=PY(Object.getOwnPropertyNames(e),em(em(em([],Sp(s),!1),Sp(r),!1),Sp(i),!1),i);if(li(l,function(c,d){Le("invalid ".concat(o," property '").concat(c,"' did you mean any of these: ").concat(d.slice(0,8).join(", ")))}),Object.keys(l).length>0&&a){var u=this.getFrameworkOverrides().getDocLink(a);Le("to see all the valid ".concat(o," properties please check: ").concat(u))}},wD([E("gridOptions")],t.prototype,"gridOptions",void 0),wD([z],t.prototype,"init",null),t=wD([ae("validationService")],t),t}(q),ODe=function(){var n=function(t,e){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])},n(t,e)};return function(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");n(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}}(),sW=function(n,t,e,r){var i=arguments.length,o=i<3?t:r===null?r=Object.getOwnPropertyDescriptor(t,e):r,a;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(n,t,e,r);else for(var s=n.length-1;s>=0;s--)(a=n[s])&&(o=(i<3?a(o):i>3?a(t,e,o):a(t,e))||o);return i>3&&o&&Object.defineProperty(t,e,o),o},RDe=function(n){ODe(t,n);function t(){var e=n!==null&&n.apply(this,arguments)||this;return e.syncEventListeners=new Map,e.asyncEventListeners=new Map,e.syncGlobalEventListeners=new Set,e.asyncGlobalEventListeners=new Set,e}return t.prototype.postConstruct=function(){this.frameworkEventWrappingService=new kk(this.getFrameworkOverrides())},t.prototype.addEventListener=function(e,r){var i=this.frameworkEventWrappingService.wrap(r),o=this.gridOptionsService.useAsyncEvents(),a=o?this.asyncEventListeners:this.syncEventListeners;a.has(e)||a.set(e,new Set),a.get(e).add(i),this.eventService.addEventListener(e,i,o)},t.prototype.addGlobalListener=function(e){var r=this.frameworkEventWrappingService.wrapGlobal(e),i=this.gridOptionsService.useAsyncEvents(),o=i?this.asyncGlobalEventListeners:this.syncGlobalEventListeners;o.add(r),this.eventService.addGlobalListener(r,i)},t.prototype.removeEventListener=function(e,r){var i,o=this.frameworkEventWrappingService.unwrap(r),a=this.asyncEventListeners.get(e),s=!!(a!=null&&a.delete(o));s||(i=this.asyncEventListeners.get(e))===null||i===void 0||i.delete(o),this.eventService.removeEventListener(e,o,s)},t.prototype.removeGlobalListener=function(e){var r=this.frameworkEventWrappingService.unwrapGlobal(e),i=this.asyncGlobalEventListeners.delete(r);i||this.syncGlobalEventListeners.delete(r),this.eventService.removeGlobalListener(r,i)},t.prototype.destroyEventListeners=function(e,r){var i=this;e.forEach(function(o,a){o.forEach(function(s){return i.eventService.removeEventListener(a,s,r)}),o.clear()}),e.clear()},t.prototype.destroyGlobalListeners=function(e,r){var i=this;e.forEach(function(o){return i.eventService.removeGlobalListener(o,r)}),e.clear()},t.prototype.destroy=function(){n.prototype.destroy.call(this),this.destroyEventListeners(this.syncEventListeners,!1),this.destroyEventListeners(this.asyncEventListeners,!0),this.destroyGlobalListeners(this.syncGlobalEventListeners,!1),this.destroyGlobalListeners(this.asyncGlobalEventListeners,!0)},sW([z],t.prototype,"postConstruct",null),t=sW([ae("apiEventService")],t),t}(q),TDe=function(){var n=function(t,e){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])},n(t,e)};return function(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");n(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}}(),T_=function(n,t,e,r){var i=arguments.length,o=i<3?t:r===null?r=Object.getOwnPropertyDescriptor(t,e):r,a;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(n,t,e,r);else for(var s=n.length-1;s>=0;s--)(a=n[s])&&(o=(i<3?a(o):i>3?a(t,e,o):a(t,e))||o);return i>3&&o&&Object.defineProperty(t,e,o),o},PDe=function(n,t){var e=typeof Symbol=="function"&&n[Symbol.iterator];if(!e)return n;var r=e.call(n),i,o=[],a;try{for(;(t===void 0||t-- >0)&&!(i=r.next()).done;)o.push(i.value)}catch(s){a={error:s}}finally{try{i&&!i.done&&(e=r.return)&&e.call(r)}finally{if(a)throw a.error}}return o},ADe=function(n,t,e){if(e||arguments.length===2)for(var r=0,i=t.length,o;r<i;r++)(o||!(r in t))&&(o||(o=Array.prototype.slice.call(t,0,r)),o[r]=t[r]);return n.concat(o||Array.prototype.slice.call(t))},DDe=function(n){TDe(t,n);function t(){var e=n.call(this,'<span class="ag-paging-page-size"></span>')||this;return e.hasEmptyOption=!1,e.handlePageSizeItemSelected=function(){if(e.selectPageSizeComp){var r=e.selectPageSizeComp.getValue();if(r){var i=Number(r);isNaN(i)||i<1||i===e.paginationProxy.getPageSize()||(e.paginationProxy.setPageSize(i,"pageSizeSelector"),e.hasEmptyOption&&e.toggleSelectDisplay(!0),e.selectPageSizeComp.getFocusableElement().focus())}}},e}return t.prototype.init=function(){var e=this;this.addManagedPropertyListener("paginationPageSizeSelector",function(){e.onPageSizeSelectorValuesChange()}),this.addManagedListener(this.eventService,P.EVENT_PAGINATION_CHANGED,function(r){return e.handlePaginationChanged(r)})},t.prototype.handlePaginationChanged=function(e){if(!(!this.selectPageSizeComp||!(e!=null&&e.newPageSize))){var r=this.paginationProxy.getPageSize();this.getPageSizeSelectorValues().includes(r)?this.selectPageSizeComp.setValue(r.toString()):this.hasEmptyOption?this.selectPageSizeComp.setValue(""):this.toggleSelectDisplay(!0)}},t.prototype.toggleSelectDisplay=function(e){this.selectPageSizeComp&&this.reset(),e&&(this.reloadPageSizesSelector(),this.selectPageSizeComp&&this.appendChild(this.selectPageSizeComp))},t.prototype.reset=function(){Sn(this.getGui()),this.selectPageSizeComp&&(this.destroyBean(this.selectPageSizeComp),this.selectPageSizeComp=void 0)},t.prototype.onPageSizeSelectorValuesChange=function(){this.selectPageSizeComp&&this.shouldShowPageSizeSelector()&&this.reloadPageSizesSelector()},t.prototype.shouldShowPageSizeSelector=function(){return this.gridOptionsService.get("pagination")&&!this.gridOptionsService.get("suppressPaginationPanel")&&!this.gridOptionsService.get("paginationAutoPageSize")&&this.gridOptionsService.get("paginationPageSizeSelector")!==!1},t.prototype.reloadPageSizesSelector=function(){var e=this,r=this.getPageSizeSelectorValues(),i=this.paginationProxy.getPageSize(),o=!i||!r.includes(i);o&&(r.unshift(""),Le(`The paginationPageSize grid option is set to a value that is not in the list of page size options.
                Please make sure that the paginationPageSize grid option is set to one of the values in the 
                paginationPageSizeSelector array, or set the paginationPageSizeSelector to false to hide the page size selector.`)),this.selectPageSizeComp&&(this.destroyBean(this.selectPageSizeComp),this.selectPageSizeComp=void 0);var a=this.localeService.getLocaleTextFunc(),s=a("pageSizeSelectorLabel","Page Size:"),l=r.map(function(c){return{value:String(c),text:String(c)}}),u=a("ariaPageSizeSelectorLabel","Page Size");this.selectPageSizeComp=this.createManagedBean(new ql).addOptions(l).setValue(String(o?"":i)).setAriaLabel(u).setLabel(s).onValueChange(function(){return e.handlePageSizeItemSelected()}),this.hasEmptyOption=o},t.prototype.getPageSizeSelectorValues=function(){var e=[20,50,100],r=this.gridOptionsService.get("paginationPageSizeSelector");return!Array.isArray(r)||!this.validateValues(r)?e:ADe([],PDe(r),!1).sort(function(i,o){return i-o})},t.prototype.validateValues=function(e){if(!e.length)return Le(`The paginationPageSizeSelector grid option is an empty array. This is most likely a mistake.
                If you want to hide the page size selector, please set the paginationPageSizeSelector to false.`),!1;for(var r=0;r<e.length;r++){var i=e[r],o=typeof i=="number",a=i>0;if(!o)return Le(`The paginationPageSizeSelector grid option contains a non-numeric value.
                    Please make sure that all values in the paginationPageSizeSelector array are numbers.`),!1;if(!a)return Le(`The paginationPageSizeSelector grid option contains a negative number or zero.
                    Please make sure that all values in the paginationPageSizeSelector array are positive.`),!1}return!0},t.prototype.destroy=function(){this.toggleSelectDisplay(!1),n.prototype.destroy.call(this)},T_([E("localeService")],t.prototype,"localeService",void 0),T_([E("gridOptionsService")],t.prototype,"gridOptionsService",void 0),T_([E("paginationProxy")],t.prototype,"paginationProxy",void 0),T_([z],t.prototype,"init",null),t}(de),MDe=function(){var n=function(t,e){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])},n(t,e)};return function(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");n(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}}(),_D=function(n,t,e,r){var i=arguments.length,o=i<3?t:r===null?r=Object.getOwnPropertyDescriptor(t,e):r,a;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(n,t,e,r);else for(var s=n.length-1;s>=0;s--)(a=n[s])&&(o=(i<3?a(o):i>3?a(t,e,o):a(t,e))||o);return i>3&&o&&Object.defineProperty(t,e,o),o},FDe=function(n){MDe(t,n);function t(){var e=n.call(this)||this;return e.descriptionContainer=null,e.announceValue=Qo(e.announceValue.bind(e),200),e}return t.prototype.postConstruct=function(){var e=this.gridOptionsService.getDocument(),r=this.descriptionContainer=e.createElement("div");r.classList.add("ag-aria-description-container"),$k(r,"polite"),sY(r,"additions text"),aY(r,!0),this.eGridDiv.appendChild(r)},t.prototype.announceValue=function(e){var r=this;this.descriptionContainer&&(this.descriptionContainer.textContent="",setTimeout(function(){r.descriptionContainer.textContent=e},50))},t.prototype.destroy=function(){n.prototype.destroy.call(this);var e=this.descriptionContainer;e&&(Sn(e),e.parentElement&&e.parentElement.removeChild(e)),this.descriptionContainer=null,this.eGridDiv=null},_D([E("eGridDiv")],t.prototype,"eGridDiv",void 0),_D([z],t.prototype,"postConstruct",null),t=_D([ae("ariaAnnouncementService")],t),t}(q),lW=function(n,t){var e=typeof Symbol=="function"&&n[Symbol.iterator];if(!e)return n;var r=e.call(n),i,o=[],a;try{for(;(t===void 0||t-- >0)&&!(i=r.next()).done;)o.push(i.value)}catch(s){a={error:s}}finally{try{i&&!i.done&&(e=r.return)&&e.call(r)}finally{if(a)throw a.error}}return o},uW=function(n,t,e){if(e||arguments.length===2)for(var r=0,i=t.length,o;r<i;r++)(o||!(r in t))&&(o||(o=Array.prototype.slice.call(t,0,r)),o[r]=t[r]);return n.concat(o||Array.prototype.slice.call(t))};function Eq(n,t,e){if(!t)return bs("No gridOptions provided to createGrid"),{};var r=kG.getCoercedGridOptions(t),i=new GG().create(n,r,function(a){var s=new NG(n);a.createBean(s)},void 0,e);if(!Object.isFrozen(t)&&!(e!=null&&e.frameworkOverrides)){var o="https://ag-grid.com/javascript-data-grid/grid-interface/#grid-api";Object.defineProperty(t,"api",{get:function(){bs("gridOptions.api is no longer supported. See ".concat(o,"."))},configurable:!0}),Object.defineProperty(t,"columnApi",{get:function(){bs("gridOptions.columnApi is no longer supported and all methods moved to the grid api. See ".concat(o,"."))},configurable:!0})}return i}var LDe=function(){function n(t,e,r){var i=this;if(Le("Since v31 new Grid(...) is deprecated. Use createGrid instead: `const gridApi = createGrid(...)`. The grid api is returned from createGrid and will not be available on gridOptions."),!e){bs("No gridOptions provided to the grid");return}this.gridOptions=e;var o=new GG().create(t,e,function(a){var s=new NG(t),l=a.createBean(s);l.addDestroyFunc(function(){i.destroy()})},void 0,r);this.gridOptions.api=o,this.gridOptions.columnApi=new $w(o)}return n.prototype.destroy=function(){var t;this.gridOptions&&((t=this.gridOptions.api)===null||t===void 0||t.destroy(),delete this.gridOptions.api,delete this.gridOptions.columnApi)},n}(),IDe=1,GG=function(){function n(){}return n.prototype.create=function(t,e,r,i,o){var a,s=!!e.debug,l=(a=e.gridId)!==null&&a!==void 0?a:String(IDe++),u=this.getRegisteredModules(o,l),c=this.createBeansList(e.rowModelType,u,l),d=this.createProvidedBeans(t,e,o);if(!c){bs("Failed to create grid.");return}var p={providedBeanInstances:d,beanClasses:c,debug:s,gridId:l},h=new FT("Context",function(){return p.debug}),f=new G7(p,h),v=f.getBean("beans");return this.registerModuleUserComponents(v,u),this.registerStackComponents(v,u),this.registerControllers(v,u),r(f),v.syncService.start(),i&&i(f),v.gridApi},n.prototype.registerControllers=function(t,e){e.forEach(function(r){r.controllers&&r.controllers.forEach(function(i){return t.ctrlsFactory.register(i)})})},n.prototype.registerStackComponents=function(t,e){var r=this.createAgStackComponentsList(e);t.agStackComponentsRegistry.setupComponents(r)},n.prototype.getRegisteredModules=function(t,e){var r=t?t.modules:null,i=ke.__getRegisteredModules(e),o=[],a={},s=function(l,u,c){var d=function(p){a[p.moduleName]||(a[p.moduleName]=!0,o.push(p),ke.__register(p,l,c))};d(u),u.dependantModules&&u.dependantModules.forEach(function(p){return s(l,p,c)})};return r&&r.forEach(function(l){return s(!0,l,e)}),i&&i.forEach(function(l){return s(!ke.__isPackageBased(),l,void 0)}),o},n.prototype.registerModuleUserComponents=function(t,e){var r=this.extractModuleEntity(e,function(i){return i.userComponents?i.userComponents:[]});r.forEach(function(i){t.userComponentRegistry.registerDefaultComponent(i.componentName,i.componentClass)})},n.prototype.createProvidedBeans=function(t,e,r){var i=r?r.frameworkOverrides:null;je(i)&&(i=new tq);var o={gridOptions:e,eGridDiv:t,globalEventListener:r?r.globalEventListener:null,globalSyncEventListener:r?r.globalSyncEventListener:null,frameworkOverrides:i};return r&&r.providedBeanInstances&&Object.assign(o,r.providedBeanInstances),o},n.prototype.createAgStackComponentsList=function(t){var e=[{componentName:"AgCheckbox",componentClass:Lu},{componentName:"AgRadioButton",componentClass:RT},{componentName:"AgToggleButton",componentClass:MT},{componentName:"AgInputTextField",componentClass:tu},{componentName:"AgInputTextArea",componentClass:ZX},{componentName:"AgInputNumberField",componentClass:Gw},{componentName:"AgInputDateField",componentClass:LG},{componentName:"AgInputRange",componentClass:QX},{componentName:"AgRichSelect",componentClass:Hw},{componentName:"AgSelect",componentClass:ql},{componentName:"AgSlider",componentClass:Wo},{componentName:"AgGridBody",componentClass:wX},{componentName:"AgHeaderRoot",componentClass:GX},{componentName:"AgSortIndicator",componentClass:TT},{componentName:"AgPagination",componentClass:PAe},{componentName:"AgPageSizeSelector",componentClass:DDe},{componentName:"AgOverlayWrapper",componentClass:DAe},{componentName:"AgGroupComponent",componentClass:Na},{componentName:"AgRowContainer",componentClass:RX},{componentName:"AgFakeHorizontalScroll",componentClass:QAe},{componentName:"AgFakeVerticalScroll",componentClass:hDe},{componentName:"AgAutocomplete",componentClass:gv}],r=this.extractModuleEntity(t,function(i){return i.agStackComponents?i.agStackComponents:[]});return e=e.concat(r),e},n.prototype.createBeansList=function(t,e,r){t===void 0&&(t="clientSide");var i=e.filter(function(u){return!u.rowModel||u.rowModel===t}),o={clientSide:fe.ClientSideRowModelModule,infinite:fe.InfiniteRowModelModule,serverSide:fe.ServerSideRowModelModule,viewport:fe.ViewportRowModelModule};if(!o[t]){bs("Could not find row model for rowModelType = "+t);return}if(ke.__assertRegistered(o[t],"rowModelType = '".concat(t,"'"),r)){var a=[RG,vq,gq,yq,lAe,EG,uX,fAe,gAe,jX,dX,OAe,VX,wq,bDe,YX,hX,eY,Hs,kG,eq,iq,vX,Q7,NX,XX,zX,aq,X7,sq,nq,EX,pq,oq,lq,J7,UX,BX,Ct,$w,dq,xX,hq,rq,KX,qX,_X,cq,iAe,aAe,fq,Ixe,pAe,$X,VAe,tY,jAe,$Ae,FG,mq,Cq,eDe,rDe,XAe,_q,xq,fX,yDe,CDe,xDe,MG,RDe,FDe,WX],s=this.extractModuleEntity(i,function(u){return u.beans?u.beans:[]});a.push.apply(a,uW([],lW(s),!1));var l=[];return a.forEach(function(u){l.indexOf(u)<0&&l.push(u)}),l}},n.prototype.extractModuleEntity=function(t,e){return[].concat.apply([],uW([],lW(t.map(e)),!1))},n}(),NDe=function(){function n(){}return n.prototype.wrap=function(t,e,r,i){var o=this;r===void 0&&(r=[]);var a=this.createWrapper(t,i);return e.forEach(function(s){o.createMethod(a,s,!0)}),r.forEach(function(s){o.createMethod(a,s,!1)}),a},n.prototype.unwrap=function(t){return t},n.prototype.createMethod=function(t,e,r){t.addMethod(e,this.createMethodProxy(t,e,r))},n.prototype.createMethodProxy=function(t,e,r){return function(){return t.hasMethod(e)?t.callMethod(e,arguments):(r&&console.warn("AG Grid: Framework component is missing the method "+e+"()"),null)}},n}(),bq={columnGroup:["column","stackedColumn","normalizedColumn"],barGroup:["bar","stackedBar","normalizedBar"],pieGroup:["pie","donut"],lineGroup:["line"],scatterGroup:["scatter","bubble"],areaGroup:["area","stackedArea","normalizedArea"],polarGroup:["radarLine","radarArea","nightingale","radialColumn","radialBar"],statisticalGroup:["boxPlot","histogram","rangeBar","rangeArea"],hierarchicalGroup:["treemap","sunburst"],specializedGroup:["heatmap","waterfall"],combinationGroup:["columnLineCombo","areaColumnCombo","customCombo"]},tE=["chartSettings","chartData","chartFormat"],NL=["chartUnlink","chartLink","chartDownload"],AC={settings:"chartSettings",data:"chartData",format:"chartFormat"},kDe=0,kL;(function(n){n.InsideBase="insideBase",n.InsideEnd="insideEnd",n.Center="center",n.OutsideEnd="outsideEnd"})(kL||(kL={}));/**
 * @ag-grid-community/core - Advanced Data Grid / Data Table supporting Javascript / Typescript / React / Angular / Vue
 * @version v31.1.1
 * @link https://www.ag-grid.com/
 * @license MIT
 */var Hg=typeof global>"u"?{}:global;Hg.HTMLElement=typeof HTMLElement>"u"?{}:HTMLElement;Hg.HTMLButtonElement=typeof HTMLButtonElement>"u"?{}:HTMLButtonElement;Hg.HTMLSelectElement=typeof HTMLSelectElement>"u"?{}:HTMLSelectElement;Hg.HTMLInputElement=typeof HTMLInputElement>"u"?{}:HTMLInputElement;Hg.Node=typeof Node>"u"?{}:Node;Hg.MouseEvent=typeof MouseEvent>"u"?{}:MouseEvent;var tm=function(n,t){var e=typeof Symbol=="function"&&n[Symbol.iterator];if(!e)return n;var r=e.call(n),i,o=[],a;try{for(;(t===void 0||t-- >0)&&!(i=r.next()).done;)o.push(i.value)}catch(s){a={error:s}}finally{try{i&&!i.done&&(e=r.return)&&e.call(r)}finally{if(a)throw a.error}}return o},rm=function(n,t,e){if(e||arguments.length===2)for(var r=0,i=t.length,o;r<i;r++)(o||!(r in t))&&(o||(o=Array.prototype.slice.call(t,0,r)),o[r]=t[r]);return n.concat(o||Array.prototype.slice.call(t))},GDe=function(){function n(t,e,r,i,o,a){this.nextId=0,this.rowCountReady=!1,this.allNodesMap={},this.rootNode=t,this.gridOptionsService=e,this.eventService=r,this.columnModel=i,this.beans=a,this.selectionService=o,this.rootNode.group=!0,this.rootNode.level=-1,this.rootNode.id=n.ROOT_NODE_ID,this.rootNode.allLeafChildren=[],this.rootNode.childrenAfterGroup=[],this.rootNode.childrenAfterSort=[],this.rootNode.childrenAfterAggFilter=[],this.rootNode.childrenAfterFilter=[]}return n.prototype.getCopyOfNodesMap=function(){return D.cloneObject(this.allNodesMap)},n.prototype.getRowNode=function(t){return this.allNodesMap[t]},n.prototype.setRowData=function(t){var e=this;if(typeof t=="string"){console.warn("AG Grid: rowData must be an array, however you passed in a string. If you are loading JSON, make sure you convert the JSON string to JavaScript objects first");return}this.rowCountReady=!0,this.dispatchRowDataUpdateStartedEvent(t);var r=this.rootNode,i=this.rootNode.sibling;r.childrenAfterFilter=null,r.childrenAfterGroup=null,r.childrenAfterAggFilter=null,r.childrenAfterSort=null,r.childrenMapped=null,r.updateHasChildren(),this.nextId=0,this.allNodesMap={},t?r.allLeafChildren=t.map(function(o){return e.createNode(o,e.rootNode,n.TOP_LEVEL)}):(r.allLeafChildren=[],r.childrenAfterGroup=[]),i&&(i.childrenAfterFilter=r.childrenAfterFilter,i.childrenAfterGroup=r.childrenAfterGroup,i.childrenAfterAggFilter=r.childrenAfterAggFilter,i.childrenAfterSort=r.childrenAfterSort,i.childrenMapped=r.childrenMapped,i.allLeafChildren=r.allLeafChildren)},n.prototype.updateRowData=function(t,e){this.rowCountReady=!0,this.dispatchRowDataUpdateStartedEvent(t.add);var r={remove:[],update:[],add:[]},i=[];return this.executeRemove(t,r,i),this.executeUpdate(t,r,i),this.executeAdd(t,r),this.updateSelection(i,"rowDataChanged"),e&&D.sortRowNodesByOrder(this.rootNode.allLeafChildren,e),r},n.prototype.isRowCountReady=function(){return this.rowCountReady},n.prototype.dispatchRowDataUpdateStartedEvent=function(t){var e={type:P.EVENT_ROW_DATA_UPDATE_STARTED,firstRowData:t!=null&&t.length?t[0]:null};this.eventService.dispatchEvent(e)},n.prototype.updateSelection=function(t,e){var r=t.length>0;if(r&&this.selectionService.setNodesSelected({newValue:!1,nodes:t,suppressFinishActions:!0,source:e}),this.selectionService.updateGroupsFromChildrenSelections(e),r){var i={type:P.EVENT_SELECTION_CHANGED,source:e};this.eventService.dispatchEvent(i)}},n.prototype.executeAdd=function(t,e){var r=this,i,o=t.add,a=t.addIndex;if(!D.missingOrEmpty(o)){var s=o.map(function(v){return r.createNode(v,r.rootNode,n.TOP_LEVEL)});if(typeof a=="number"&&a>=0){var l=this.rootNode.allLeafChildren,u=l.length,c=a,d=this.gridOptionsService.get("treeData");if(d&&a>0&&u>0){for(var p=0;p<u;p++)if(((i=l[p])===null||i===void 0?void 0:i.rowIndex)==a-1){c=p+1;break}}var h=l.slice(0,c),f=l.slice(c,l.length);this.rootNode.allLeafChildren=rm(rm(rm([],tm(h),!1),tm(s),!1),tm(f),!1)}else this.rootNode.allLeafChildren=rm(rm([],tm(this.rootNode.allLeafChildren),!1),tm(s),!1);this.rootNode.sibling&&(this.rootNode.sibling.allLeafChildren=this.rootNode.allLeafChildren),e.add=s}},n.prototype.executeRemove=function(t,e,r){var i=this,o=t.remove;if(!D.missingOrEmpty(o)){var a={};o.forEach(function(s){var l=i.lookupRowNode(s);l&&(l.isSelected()&&r.push(l),l.clearRowTopAndRowIndex(),a[l.id]=!0,delete i.allNodesMap[l.id],e.remove.push(l))}),this.rootNode.allLeafChildren=this.rootNode.allLeafChildren.filter(function(s){return!a[s.id]}),this.rootNode.sibling&&(this.rootNode.sibling.allLeafChildren=this.rootNode.allLeafChildren)}},n.prototype.executeUpdate=function(t,e,r){var i=this,o=t.update;D.missingOrEmpty(o)||o.forEach(function(a){var s=i.lookupRowNode(a);s&&(s.updateData(a),!s.selectable&&s.isSelected()&&r.push(s),i.setMasterForRow(s,a,n.TOP_LEVEL,!1),e.update.push(s))})},n.prototype.lookupRowNode=function(t){var e=this.gridOptionsService.getCallback("getRowId"),r;if(e){var i=e({data:t,level:0});if(r=this.allNodesMap[i],!r)return console.error("AG Grid: could not find row id=".concat(i,", data item was not found for this id")),null}else if(r=this.rootNode.allLeafChildren.find(function(o){return o.data===t}),!r)return console.error("AG Grid: could not find data item as object was not found",t),console.error("Consider using getRowId to help the Grid find matching row data"),null;return r||null},n.prototype.createNode=function(t,e,r){var i=new Ue(this.beans);i.group=!1,this.setMasterForRow(i,t,r,!0);var o=this.gridOptionsService.get("suppressParentsInRowNodes");return e&&!o&&(i.parent=e),i.level=r,i.setDataAndId(t,this.nextId.toString()),this.allNodesMap[i.id]&&console.warn("AG Grid: duplicate node id '".concat(i.id,"' detected from getRowId callback, this could cause issues in your grid.")),this.allNodesMap[i.id]=i,this.nextId++,i},n.prototype.setMasterForRow=function(t,e,r,i){var o=this.gridOptionsService.get("treeData");if(o)t.setMaster(!1),i&&(t.expanded=!1);else{var a=this.gridOptionsService.get("masterDetail");if(a){var s=this.gridOptionsService.get("isRowMaster");s?t.setMaster(s(e)):t.setMaster(!0)}else t.setMaster(!1);if(i){var l=this.columnModel.getRowGroupColumns(),u=l?l.length:0,c=r+u;t.expanded=t.master?this.isExpanded(c):!1}}},n.prototype.isExpanded=function(t){var e=this.gridOptionsService.get("groupDefaultExpanded");return e===-1?!0:t<e},n.TOP_LEVEL=0,n.ROOT_NODE_ID="ROOT_NODE_ID",n}(),VDe=function(){var n=function(t,e){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])},n(t,e)};return function(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");n(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}}(),ji=function(n,t,e,r){var i=arguments.length,o=i<3?t:r===null?r=Object.getOwnPropertyDescriptor(t,e):r,a;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(n,t,e,r);else for(var s=n.length-1;s>=0;s--)(a=n[s])&&(o=(i<3?a(o):i>3?a(t,e,o):a(t,e))||o);return i>3&&o&&Object.defineProperty(t,e,o),o},$i=function(n,t){var e=typeof Symbol=="function"&&n[Symbol.iterator];if(!e)return n;var r=e.call(n),i,o=[],a;try{for(;(t===void 0||t-- >0)&&!(i=r.next()).done;)o.push(i.value)}catch(s){a={error:s}}finally{try{i&&!i.done&&(e=r.return)&&e.call(r)}finally{if(a)throw a.error}}return o},Wi=function(n,t,e){if(e||arguments.length===2)for(var r=0,i=t.length,o;r<i;r++)(o||!(r in t))&&(o||(o=Array.prototype.slice.call(t,0,r)),o[r]=t[r]);return n.concat(o||Array.prototype.slice.call(t))},ml;(function(n){n[n.Normal=0]="Normal",n[n.AfterFilter=1]="AfterFilter",n[n.AfterFilterAndSort=2]="AfterFilterAndSort",n[n.PivotNodes=3]="PivotNodes"})(ml||(ml={}));var BDe=function(n){VDe(t,n);function t(){var e=n!==null&&n.apply(this,arguments)||this;return e.onRowHeightChanged_debounced=D.debounce(e.onRowHeightChanged.bind(e),100),e.rowsToDisplay=[],e.hasStarted=!1,e.shouldSkipSettingDataOnStart=!1,e.isRefreshingModel=!1,e.rowCountReady=!1,e}return t.prototype.init=function(){var e=this,r=this.refreshModel.bind(this,{step:dt.EVERYTHING}),i=!this.gridOptionsService.get("suppressAnimationFrame"),o=this.refreshModel.bind(this,{step:dt.EVERYTHING,afterColumnsChanged:!0,keepRenderedRows:!0,animate:i});this.addManagedListener(this.eventService,P.EVENT_NEW_COLUMNS_LOADED,o),this.addManagedListener(this.eventService,P.EVENT_COLUMN_ROW_GROUP_CHANGED,r),this.addManagedListener(this.eventService,P.EVENT_COLUMN_VALUE_CHANGED,this.onValueChanged.bind(this)),this.addManagedListener(this.eventService,P.EVENT_COLUMN_PIVOT_CHANGED,this.refreshModel.bind(this,{step:dt.PIVOT})),this.addManagedListener(this.eventService,P.EVENT_FILTER_CHANGED,this.onFilterChanged.bind(this)),this.addManagedListener(this.eventService,P.EVENT_SORT_CHANGED,this.onSortChanged.bind(this)),this.addManagedListener(this.eventService,P.EVENT_COLUMN_PIVOT_MODE_CHANGED,r),this.addManagedListener(this.eventService,P.EVENT_GRID_STYLES_CHANGED,this.onGridStylesChanges.bind(this)),this.addManagedListener(this.eventService,P.EVENT_GRID_READY,function(){return e.onGridReady()}),this.addPropertyListeners(),this.rootNode=new Ue(this.beans),this.nodeManager=new GDe(this.rootNode,this.gridOptionsService,this.eventService,this.columnModel,this.selectionService,this.beans)},t.prototype.addPropertyListeners=function(){var e=this,r=new Set(["treeData","masterDetail"]),i=new Set(["suppressParentsInRowNodes","groupDefaultExpanded","groupAllowUnbalanced","initialGroupOrderComparator","groupHideOpenParents","groupDisplayType"]),o=new Set(["excludeChildrenWhenTreeDataFiltering"]),a=new Set(["removePivotHeaderRowWhenSingleValueColumn","pivotRowTotals","pivotColumnGroupTotals","suppressExpandablePivotGroups"]),s=new Set(["getGroupRowAgg","alwaysAggregateAtRootLevel","groupIncludeTotalFooter","suppressAggFilteredOnly"]),l=new Set(["postSortRows","groupDisplayType","accentedSort"]),u=new Set([]),c=new Set(["groupRemoveSingleChildren","groupRemoveLowestSingleChildren","groupIncludeFooter"]),d=Wi(Wi(Wi(Wi(Wi(Wi(Wi(Wi(Wi([],$i(r),!1),$i(i),!1),$i(o),!1),$i(a),!1),$i(a),!1),$i(s),!1),$i(l),!1),$i(u),!1),$i(c),!1);this.addManagedPropertyListeners(d,function(p){var h,f=(h=p.changeSet)===null||h===void 0?void 0:h.properties;if(f){var v=function(g){return f.some(function(y){return g.has(y)})};if(v(r)){e.setRowData(e.rootNode.allLeafChildren.map(function(g){return g.data}));return}if(v(i)){e.refreshModel({step:dt.EVERYTHING});return}if(v(o)){e.refreshModel({step:dt.FILTER});return}if(v(a)){e.refreshModel({step:dt.PIVOT});return}if(v(s)){e.refreshModel({step:dt.AGGREGATE});return}if(v(l)){e.refreshModel({step:dt.SORT});return}if(v(u)){e.refreshModel({step:dt.FILTER_AGGREGATES});return}v(c)&&e.refreshModel({step:dt.MAP})}}),this.addManagedPropertyListener("rowHeight",function(){return e.resetRowHeights()})},t.prototype.start=function(){this.hasStarted=!0,this.shouldSkipSettingDataOnStart?this.dispatchUpdateEventsAndRefresh():this.setInitialData()},t.prototype.setInitialData=function(){var e=this.gridOptionsService.get("rowData");e&&(this.shouldSkipSettingDataOnStart=!0,this.setRowData(e))},t.prototype.ensureRowHeightsValid=function(e,r,i,o){var a,s=!1;do{a=!1;for(var l=this.getRowIndexAtPixel(e),u=this.getRowIndexAtPixel(r),c=Math.max(l,i),d=Math.min(u,o),p=c;p<=d;p++){var h=this.getRow(p);if(h.rowHeightEstimated){var f=this.gridOptionsService.getRowHeightForNode(h);h.setRowHeight(f.height),a=!0,s=!0}}a&&this.setRowTopAndRowIndex()}while(a);return s},t.prototype.setRowTopAndRowIndex=function(){for(var e=this.environment.getDefaultRowHeight(),r=0,i=new Set,o=this.gridOptionsService.isDomLayout("normal"),a=0;a<this.rowsToDisplay.length;a++){var s=this.rowsToDisplay[a];if(s.id!=null&&i.add(s.id),s.rowHeight==null){var l=this.gridOptionsService.getRowHeightForNode(s,o,e);s.setRowHeight(l.height,l.estimated)}s.setRowTop(r),s.setRowIndex(a),r+=s.rowHeight}return i},t.prototype.clearRowTopAndRowIndex=function(e,r){var i=e.isActive(),o=function(s){s&&s.id!=null&&!r.has(s.id)&&s.clearRowTopAndRowIndex()},a=function(s){if(o(s),o(s.detailNode),o(s.sibling),s.hasChildren()&&s.childrenAfterGroup){var l=s.level==-1,u=i&&!l&&!s.expanded;u||s.childrenAfterGroup.forEach(a)}};a(this.rootNode)},t.prototype.ensureRowsAtPixel=function(e,r,i){var o=this;i===void 0&&(i=0);var a=this.getRowIndexAtPixel(r),s=this.getRow(a),l=!this.gridOptionsService.get("suppressAnimationFrame");return s===e[0]?!1:(e.forEach(function(u){D.removeFromArray(o.rootNode.allLeafChildren,u)}),e.forEach(function(u,c){D.insertIntoArray(o.rootNode.allLeafChildren,u,Math.max(a+i,0)+c)}),this.refreshModel({step:dt.EVERYTHING,keepRenderedRows:!0,keepEditingRows:!0,animate:l}),!0)},t.prototype.highlightRowAtPixel=function(e,r){var i=r!=null?this.getRowIndexAtPixel(r):null,o=i!=null?this.getRow(i):null;if(!o||!e||o===e||r==null){this.lastHighlightedRow&&(this.lastHighlightedRow.setHighlighted(null),this.lastHighlightedRow=null);return}var a=this.getHighlightPosition(r,o);this.lastHighlightedRow&&this.lastHighlightedRow!==o&&(this.lastHighlightedRow.setHighlighted(null),this.lastHighlightedRow=null),o.setHighlighted(a),this.lastHighlightedRow=o},t.prototype.getHighlightPosition=function(e,r){if(!r){var i=this.getRowIndexAtPixel(e);if(r=this.getRow(i||0),!r)return Wl.Below}var o=r.rowTop,a=r.rowHeight;return e-o<a/2?Wl.Above:Wl.Below},t.prototype.getLastHighlightedRowNode=function(){return this.lastHighlightedRow},t.prototype.isLastRowIndexKnown=function(){return!0},t.prototype.getRowCount=function(){return this.rowsToDisplay?this.rowsToDisplay.length:0},t.prototype.getTopLevelRowCount=function(){var e=this.rowsToDisplay&&this.rowsToDisplay[0]===this.rootNode;if(e)return 1;var r=this.rootNode.childrenAfterAggFilter;return r?r.length:0},t.prototype.getTopLevelRowDisplayedIndex=function(e){var r=this.rowsToDisplay&&this.rowsToDisplay[0]===this.rootNode;if(r)return e;var i=this.rootNode.childrenAfterSort[e];if(this.gridOptionsService.get("groupHideOpenParents"))for(;i.expanded&&i.childrenAfterSort&&i.childrenAfterSort.length>0;)i=i.childrenAfterSort[0];return i.rowIndex},t.prototype.getRowBounds=function(e){if(D.missing(this.rowsToDisplay))return null;var r=this.rowsToDisplay[e];return r?{rowTop:r.rowTop,rowHeight:r.rowHeight}:null},t.prototype.onRowGroupOpened=function(){var e=this.gridOptionsService.isAnimateRows();this.refreshModel({step:dt.MAP,keepRenderedRows:!0,animate:e})},t.prototype.onFilterChanged=function(e){if(!e.afterDataChange){var r=this.gridOptionsService.isAnimateRows(),i=e.columns.length===0||e.columns.some(function(a){return a.isPrimary()}),o=i?dt.FILTER:dt.FILTER_AGGREGATES;this.refreshModel({step:o,keepRenderedRows:!0,animate:r})}},t.prototype.onSortChanged=function(){var e=this.gridOptionsService.isAnimateRows();this.refreshModel({step:dt.SORT,keepRenderedRows:!0,animate:e,keepEditingRows:!0})},t.prototype.getType=function(){return"clientSide"},t.prototype.onValueChanged=function(){this.columnModel.isPivotActive()?this.refreshModel({step:dt.PIVOT}):this.refreshModel({step:dt.AGGREGATE})},t.prototype.createChangePath=function(e){var r=D.missingOrEmpty(e),i=new Bg(!1,this.rootNode);return(r||this.gridOptionsService.get("treeData"))&&i.setInactive(),i},t.prototype.isSuppressModelUpdateAfterUpdateTransaction=function(e){if(!this.gridOptionsService.get("suppressModelUpdateAfterUpdateTransaction")||e.rowNodeTransactions==null)return!1;var r=e.rowNodeTransactions.filter(function(o){return o.add!=null&&o.add.length>0||o.remove!=null&&o.remove.length>0}),i=r==null||r.length==0;return i},t.prototype.buildRefreshModelParams=function(e){var r=dt.EVERYTHING,i={everything:dt.EVERYTHING,group:dt.EVERYTHING,filter:dt.FILTER,map:dt.MAP,aggregate:dt.AGGREGATE,sort:dt.SORT,pivot:dt.PIVOT};if(D.exists(e)&&(r=i[e]),D.missing(r)){console.error("AG Grid: invalid step ".concat(e,", available steps are ").concat(Object.keys(i).join(", ")));return}var o=!this.gridOptionsService.get("suppressAnimationFrame"),a={step:r,keepRenderedRows:!0,keepEditingRows:!0,animate:o};return a},t.prototype.refreshModel=function(e){if(!(!this.hasStarted||this.isRefreshingModel||this.columnModel.shouldRowModelIgnoreRefresh())){var r=typeof e=="object"&&"step"in e?e:this.buildRefreshModelParams(e);if(r&&!this.isSuppressModelUpdateAfterUpdateTransaction(r)){var i=this.createChangePath(r.rowNodeTransactions);switch(this.isRefreshingModel=!0,r.step){case dt.EVERYTHING:this.doRowGrouping(r.rowNodeTransactions,r.rowNodeOrder,i,!!r.afterColumnsChanged);case dt.FILTER:this.doFilter(i);case dt.PIVOT:this.doPivot(i);case dt.AGGREGATE:this.doAggregate(i);case dt.FILTER_AGGREGATES:this.doFilterAggregates(i);case dt.SORT:this.doSort(r.rowNodeTransactions,i);case dt.MAP:this.doRowsToDisplay()}var o=this.setRowTopAndRowIndex();this.clearRowTopAndRowIndex(i,o),this.isRefreshingModel=!1;var a={type:P.EVENT_MODEL_UPDATED,animate:r.animate,keepRenderedRows:r.keepRenderedRows,newData:r.newData,newPage:!1,keepUndoRedoStack:r.keepUndoRedoStack};this.eventService.dispatchEvent(a)}}},t.prototype.isEmpty=function(){var e=D.missing(this.rootNode.allLeafChildren)||this.rootNode.allLeafChildren.length===0;return D.missing(this.rootNode)||e||!this.columnModel.isReady()},t.prototype.isRowsToRender=function(){return D.exists(this.rowsToDisplay)&&this.rowsToDisplay.length>0},t.prototype.getNodesInRangeForSelection=function(e,r){var i=!r,o=!1,a=[],s=this.gridOptionsService.get("groupSelectsChildren");return this.forEachNodeAfterFilterAndSort(function(l){if(!o){if(i&&(l===r||l===e)&&(o=!0,l.group&&s)){a.push.apply(a,Wi([],$i(l.allLeafChildren),!1));return}if(!i){if(l!==r&&l!==e)return;i=!0}var u=!l.group||!s;if(u){a.push(l);return}}}),a},t.prototype.setDatasource=function(e){console.error("AG Grid: should never call setDatasource on clientSideRowController")},t.prototype.getTopLevelNodes=function(){return this.rootNode?this.rootNode.childrenAfterGroup:null},t.prototype.getRootNode=function(){return this.rootNode},t.prototype.getRow=function(e){return this.rowsToDisplay[e]},t.prototype.isRowPresent=function(e){return this.rowsToDisplay.indexOf(e)>=0},t.prototype.getRowIndexAtPixel=function(e){if(this.isEmpty()||this.rowsToDisplay.length===0)return-1;var r=0,i=this.rowsToDisplay.length-1;if(e<=0)return 0;var o=D.last(this.rowsToDisplay);if(o.rowTop<=e)return this.rowsToDisplay.length-1;for(var a=-1,s=-1;;){var l=Math.floor((r+i)/2),u=this.rowsToDisplay[l];if(this.isRowInPixel(u,e))return l;u.rowTop<e?r=l+1:u.rowTop>e&&(i=l-1);var c=a===r&&s===i;if(c)return l;a=r,s=i}},t.prototype.isRowInPixel=function(e,r){var i=e.rowTop,o=e.rowTop+e.rowHeight,a=i<=r&&o>r;return a},t.prototype.forEachLeafNode=function(e){this.rootNode.allLeafChildren&&this.rootNode.allLeafChildren.forEach(function(r,i){return e(r,i)})},t.prototype.forEachNode=function(e,r){r===void 0&&(r=!1),this.recursivelyWalkNodesAndCallback({nodes:Wi([],$i(this.rootNode.childrenAfterGroup||[]),!1),callback:e,recursionType:ml.Normal,index:0,includeFooterNodes:r})},t.prototype.forEachNodeAfterFilter=function(e,r){r===void 0&&(r=!1),this.recursivelyWalkNodesAndCallback({nodes:Wi([],$i(this.rootNode.childrenAfterAggFilter||[]),!1),callback:e,recursionType:ml.AfterFilter,index:0,includeFooterNodes:r})},t.prototype.forEachNodeAfterFilterAndSort=function(e,r){r===void 0&&(r=!1),this.recursivelyWalkNodesAndCallback({nodes:Wi([],$i(this.rootNode.childrenAfterSort||[]),!1),callback:e,recursionType:ml.AfterFilterAndSort,index:0,includeFooterNodes:r})},t.prototype.forEachPivotNode=function(e,r){r===void 0&&(r=!1),this.recursivelyWalkNodesAndCallback({nodes:[this.rootNode],callback:e,recursionType:ml.PivotNodes,index:0,includeFooterNodes:r})},t.prototype.recursivelyWalkNodesAndCallback=function(e){for(var r,i=e.nodes,o=e.callback,a=e.recursionType,s=e.includeFooterNodes,l=e.index,u=0;u<i.length;u++){var c=i[u];if(o(c,l++),c.hasChildren()&&!c.footer){var d=null;switch(a){case ml.Normal:d=c.childrenAfterGroup;break;case ml.AfterFilter:d=c.childrenAfterAggFilter;break;case ml.AfterFilterAndSort:d=c.childrenAfterSort;break;case ml.PivotNodes:d=c.leafGroup?null:c.childrenAfterSort;break}d&&(l=this.recursivelyWalkNodesAndCallback({nodes:Wi([],$i(d),!1),callback:o,recursionType:a,index:l,includeFooterNodes:s}))}}var p=(r=i[0])===null||r===void 0?void 0:r.parent;if(!s||!p)return l;var h=p===this.rootNode;if(h){var f=this.gridOptionsService.get("groupIncludeTotalFooter");if(!f)return l}else{var v=this.gridOptionsService.getGroupIncludeFooter();if(!v({node:p}))return l}return p.createFooter(),o(p.sibling,l++),l},t.prototype.doAggregate=function(e){this.aggregationStage&&this.aggregationStage.execute({rowNode:this.rootNode,changedPath:e})},t.prototype.doFilterAggregates=function(e){this.filterAggregatesStage?this.filterAggregatesStage.execute({rowNode:this.rootNode,changedPath:e}):this.rootNode.childrenAfterAggFilter=this.rootNode.childrenAfterFilter},t.prototype.expandOrCollapseAll=function(e){var r=this.gridOptionsService.get("treeData"),i=this.columnModel.isPivotActive(),o=function(l){l&&l.forEach(function(u){var c=function(){u.expanded=e,o(u.childrenAfterGroup)};if(r){var d=D.exists(u.childrenAfterGroup);d&&c();return}if(i){var p=!u.leafGroup;p&&c();return}var h=u.group;h&&c()})};this.rootNode&&o(this.rootNode.childrenAfterGroup),this.refreshModel({step:dt.MAP});var a=e?"expandAll":"collapseAll",s={type:P.EVENT_EXPAND_COLLAPSE_ALL,source:a};this.eventService.dispatchEvent(s)},t.prototype.doSort=function(e,r){this.sortStage.execute({rowNode:this.rootNode,rowNodeTransactions:e,changedPath:r})},t.prototype.doRowGrouping=function(e,r,i,o){if(this.groupStage){if(e?this.groupStage.execute({rowNode:this.rootNode,rowNodeTransactions:e,rowNodeOrder:r,changedPath:i}):this.groupStage.execute({rowNode:this.rootNode,changedPath:i,afterColumnsChanged:o}),this.gridOptionsService.get("groupSelectsChildren")){var a=this.selectionService.updateGroupsFromChildrenSelections("rowGroupChanged",i);if(a){var s={type:P.EVENT_SELECTION_CHANGED,source:"rowGroupChanged"};this.eventService.dispatchEvent(s)}}}else this.rootNode.childrenAfterGroup=this.rootNode.allLeafChildren,this.rootNode.sibling&&(this.rootNode.sibling.childrenAfterGroup=this.rootNode.childrenAfterGroup),this.rootNode.updateHasChildren();this.nodeManager.isRowCountReady()&&(this.rowCountReady=!0,this.eventService.dispatchEventOnce({type:P.EVENT_ROW_COUNT_READY}))},t.prototype.doFilter=function(e){this.filterStage.execute({rowNode:this.rootNode,changedPath:e})},t.prototype.doPivot=function(e){this.pivotStage&&this.pivotStage.execute({rowNode:this.rootNode,changedPath:e})},t.prototype.getCopyOfNodesMap=function(){return this.nodeManager.getCopyOfNodesMap()},t.prototype.getRowNode=function(e){var r=typeof e=="string"&&e.indexOf(Ue.ID_PREFIX_ROW_GROUP)==0;if(r){var i=void 0;return this.forEachNode(function(o){o.id===e&&(i=o)}),i}return this.nodeManager.getRowNode(e)},t.prototype.setRowData=function(e){this.selectionService.reset("rowDataChanged"),this.nodeManager.setRowData(e),this.hasStarted&&this.dispatchUpdateEventsAndRefresh()},t.prototype.dispatchUpdateEventsAndRefresh=function(){var e={type:P.EVENT_ROW_DATA_UPDATED};this.eventService.dispatchEvent(e),this.refreshModel({step:dt.EVERYTHING,newData:!0})},t.prototype.batchUpdateRowData=function(e,r){var i=this;if(this.applyAsyncTransactionsTimeout==null){this.rowDataTransactionBatch=[];var o=this.gridOptionsService.getAsyncTransactionWaitMillis();this.applyAsyncTransactionsTimeout=window.setTimeout(function(){i.executeBatchUpdateRowData()},o)}this.rowDataTransactionBatch.push({rowDataTransaction:e,callback:r})},t.prototype.flushAsyncTransactions=function(){this.applyAsyncTransactionsTimeout!=null&&(clearTimeout(this.applyAsyncTransactionsTimeout),this.executeBatchUpdateRowData())},t.prototype.executeBatchUpdateRowData=function(){var e=this;this.valueCache.onDataChanged();var r=[],i=[],o=!1;if(this.rowDataTransactionBatch&&this.rowDataTransactionBatch.forEach(function(s){var l=e.nodeManager.updateRowData(s.rowDataTransaction,void 0);i.push(l),s.callback&&r.push(s.callback.bind(null,l)),typeof s.rowDataTransaction.addIndex=="number"&&(o=!0)}),this.commonUpdateRowData(i,void 0,o),r.length>0&&window.setTimeout(function(){r.forEach(function(s){return s()})},0),i.length>0){var a={type:P.EVENT_ASYNC_TRANSACTIONS_FLUSHED,results:i};this.eventService.dispatchEvent(a)}this.rowDataTransactionBatch=null,this.applyAsyncTransactionsTimeout=void 0},t.prototype.updateRowData=function(e,r){this.valueCache.onDataChanged();var i=this.nodeManager.updateRowData(e,r),o=typeof e.addIndex=="number";return this.commonUpdateRowData([i],r,o),i},t.prototype.createRowNodeOrder=function(){var e=this.gridOptionsService.get("suppressMaintainUnsortedOrder");if(!e){var r={};if(this.rootNode&&this.rootNode.allLeafChildren)for(var i=0;i<this.rootNode.allLeafChildren.length;i++){var o=this.rootNode.allLeafChildren[i];r[o.id]=i}return r}},t.prototype.commonUpdateRowData=function(e,r,i){if(this.hasStarted){var o=!this.gridOptionsService.get("suppressAnimationFrame");i&&(r=this.createRowNodeOrder());var a={type:P.EVENT_ROW_DATA_UPDATED};this.eventService.dispatchEvent(a),this.refreshModel({step:dt.EVERYTHING,rowNodeTransactions:e,rowNodeOrder:r,keepRenderedRows:!0,keepEditingRows:!0,animate:o})}},t.prototype.doRowsToDisplay=function(){this.rowsToDisplay=this.flattenStage.execute({rowNode:this.rootNode})},t.prototype.onRowHeightChanged=function(){this.refreshModel({step:dt.MAP,keepRenderedRows:!0,keepEditingRows:!0,keepUndoRedoStack:!0})},t.prototype.onRowHeightChangedDebounced=function(){this.onRowHeightChanged_debounced()},t.prototype.resetRowHeights=function(){var e=this.resetRowHeightsForAllRowNodes();this.rootNode.setRowHeight(this.rootNode.rowHeight,!0),this.rootNode.sibling&&this.rootNode.sibling.setRowHeight(this.rootNode.sibling.rowHeight,!0),e&&this.onRowHeightChanged()},t.prototype.resetRowHeightsForAllRowNodes=function(){var e=!1;return this.forEachNode(function(r){r.setRowHeight(r.rowHeight,!0);var i=r.detailNode;i&&i.setRowHeight(i.rowHeight,!0),r.sibling&&r.sibling.setRowHeight(r.sibling.rowHeight,!0),e=!0}),e},t.prototype.onGridStylesChanges=function(){this.columnModel.isAutoRowHeightActive()||this.resetRowHeights()},t.prototype.onGridReady=function(){this.hasStarted||this.setInitialData()},t.prototype.isRowDataLoaded=function(){return this.rowCountReady},ji([E("columnModel")],t.prototype,"columnModel",void 0),ji([E("selectionService")],t.prototype,"selectionService",void 0),ji([E("filterManager")],t.prototype,"filterManager",void 0),ji([E("valueCache")],t.prototype,"valueCache",void 0),ji([E("beans")],t.prototype,"beans",void 0),ji([E("filterStage")],t.prototype,"filterStage",void 0),ji([E("sortStage")],t.prototype,"sortStage",void 0),ji([E("flattenStage")],t.prototype,"flattenStage",void 0),ji([qe("groupStage")],t.prototype,"groupStage",void 0),ji([qe("aggregationStage")],t.prototype,"aggregationStage",void 0),ji([qe("pivotStage")],t.prototype,"pivotStage",void 0),ji([qe("filterAggregatesStage")],t.prototype,"filterAggregatesStage",void 0),ji([z],t.prototype,"init",null),t=ji([ae("rowModel")],t),t}(q),HDe=function(){var n=function(t,e){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])},n(t,e)};return function(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");n(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}}(),cW=function(n,t,e,r){var i=arguments.length,o=i<3?t:r===null?r=Object.getOwnPropertyDescriptor(t,e):r,a;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(n,t,e,r);else for(var s=n.length-1;s>=0;s--)(a=n[s])&&(o=(i<3?a(o):i>3?a(t,e,o):a(t,e))||o);return i>3&&o&&Object.defineProperty(t,e,o),o},jDe=function(n){HDe(t,n);function t(){return n!==null&&n.apply(this,arguments)||this}return t.prototype.execute=function(e){var r=e.changedPath;this.filterService.filter(r)},cW([E("filterService")],t.prototype,"filterService",void 0),t=cW([ae("filterStage")],t),t}(q),$De=function(){var n=function(t,e){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])},n(t,e)};return function(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");n(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}}(),xD=function(n,t,e,r){var i=arguments.length,o=i<3?t:r===null?r=Object.getOwnPropertyDescriptor(t,e):r,a;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(n,t,e,r);else for(var s=n.length-1;s>=0;s--)(a=n[s])&&(o=(i<3?a(o):i>3?a(t,e,o):a(t,e))||o);return i>3&&o&&Object.defineProperty(t,e,o),o},WDe=function(n){$De(t,n);function t(){return n!==null&&n.apply(this,arguments)||this}return t.prototype.execute=function(e){var r=this,i=this.sortController.getSortOptions(),o=D.exists(i)&&i.length>0,a=o&&D.exists(e.rowNodeTransactions)&&this.gridOptionsService.get("deltaSort"),s=i.some(function(l){var u=r.gridOptionsService.isColumnsSortingCoupledToGroup();return u?l.column.isPrimary()&&l.column.isRowGroupActive():!!l.column.getColDef().showRowGroup});this.sortService.sort(i,o,a,e.rowNodeTransactions,e.changedPath,s)},xD([E("sortService")],t.prototype,"sortService",void 0),xD([E("sortController")],t.prototype,"sortController",void 0),t=xD([ae("sortStage")],t),t}(q),UDe=function(){var n=function(t,e){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])},n(t,e)};return function(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");n(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}}(),ED=function(n,t,e,r){var i=arguments.length,o=i<3?t:r===null?r=Object.getOwnPropertyDescriptor(t,e):r,a;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(n,t,e,r);else for(var s=n.length-1;s>=0;s--)(a=n[s])&&(o=(i<3?a(o):i>3?a(t,e,o):a(t,e))||o);return i>3&&o&&Object.defineProperty(t,e,o),o},zDe=function(n){UDe(t,n);function t(){return n!==null&&n.apply(this,arguments)||this}return t.prototype.execute=function(e){var r=e.rowNode,i=[],o=this.columnModel.isPivotMode(),a=o&&r.leafGroup,s=a?[r]:r.childrenAfterSort,l=this.getFlattenDetails();this.recursivelyAddToRowsToDisplay(l,s,i,o,0);var u=i.length>0,c=!a&&u&&l.groupIncludeTotalFooter;return c&&(r.createFooter(),this.addRowNodeToRowsToDisplay(l,r.sibling,i,0)),i},t.prototype.getFlattenDetails=function(){var e=this.gridOptionsService.get("groupRemoveSingleChildren"),r=!e&&this.gridOptionsService.get("groupRemoveLowestSingleChildren");return{groupRemoveLowestSingleChildren:r,groupRemoveSingleChildren:e,isGroupMultiAutoColumn:this.gridOptionsService.isGroupMultiAutoColumn(),hideOpenParents:this.gridOptionsService.get("groupHideOpenParents"),groupIncludeTotalFooter:this.gridOptionsService.get("groupIncludeTotalFooter"),getGroupIncludeFooter:this.gridOptionsService.getGroupIncludeFooter()}},t.prototype.recursivelyAddToRowsToDisplay=function(e,r,i,o,a){if(!D.missingOrEmpty(r))for(var s=0;s<r.length;s++){var l=r[s],u=l.hasChildren(),c=o&&!u,d=e.groupRemoveSingleChildren&&u&&l.childrenAfterGroup.length===1,p=e.groupRemoveLowestSingleChildren&&u&&l.leafGroup&&l.childrenAfterGroup.length===1,h=o&&l.leafGroup,f=e.hideOpenParents&&l.expanded&&!l.master&&!h,v=!c&&!f&&!d&&!p;if(v&&this.addRowNodeToRowsToDisplay(e,l,i,a),!(o&&l.leafGroup)){if(u){var g=d||p;if(l.expanded||g){var y=g?a:a+1;this.recursivelyAddToRowsToDisplay(e,l.childrenAfterSort,i,o,y);var m=e.getGroupIncludeFooter({node:l});m?(l.createFooter(),this.addRowNodeToRowsToDisplay(e,l.sibling,i,y)):l.destroyFooter()}}else if(l.master&&l.expanded){var C=this.createDetailNode(l);this.addRowNodeToRowsToDisplay(e,C,i,a)}}}},t.prototype.addRowNodeToRowsToDisplay=function(e,r,i,o){i.push(r),r.setUiLevel(e.isGroupMultiAutoColumn?0:o)},t.prototype.createDetailNode=function(e){if(D.exists(e.detailNode))return e.detailNode;var r=new Ue(this.beans);return r.detail=!0,r.selectable=!1,r.parent=e,D.exists(e.id)&&(r.id="detail_"+e.id),r.data=e.data,r.level=e.level+1,e.detailNode=r,r},ED([E("columnModel")],t.prototype,"columnModel",void 0),ED([E("beans")],t.prototype,"beans",void 0),t=ED([ae("flattenStage")],t),t}(q),KDe=function(){var n=function(t,e){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])},n(t,e)};return function(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");n(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}}(),bD=function(n,t,e,r){var i=arguments.length,o=i<3?t:r===null?r=Object.getOwnPropertyDescriptor(t,e):r,a;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(n,t,e,r);else for(var s=n.length-1;s>=0;s--)(a=n[s])&&(o=(i<3?a(o):i>3?a(t,e,o):a(t,e))||o);return i>3&&o&&Object.defineProperty(t,e,o),o},YDe=function(n){KDe(t,n);function t(){return n!==null&&n.apply(this,arguments)||this}return t.prototype.sort=function(e,r,i,o,a,s){var l=this,u=this.gridOptionsService.get("groupMaintainOrder"),c=this.columnModel.getAllGridColumns().some(function(v){return v.isRowGroupActive()}),d={};i&&o&&(d=this.calculateDirtyNodes(o));var p=this.columnModel.isPivotMode(),h=this.gridOptionsService.getCallback("postSortRows"),f=function(v){var g;l.pullDownGroupDataForHideOpenParents(v.childrenAfterAggFilter,!0);var y=p&&v.leafGroup,m=u&&c&&!v.leafGroup&&!s;if(m){var C=(g=l.columnModel.getRowGroupColumns())===null||g===void 0?void 0:g[v.level+1],S=(C==null?void 0:C.getSort())===null,w=v.childrenAfterAggFilter.slice(0);if(v.childrenAfterSort&&!S){var _={};v.childrenAfterSort.forEach(function(b,O){_[b.id]=O}),w.sort(function(b,O){var T,A;return((T=_[b.id])!==null&&T!==void 0?T:0)-((A=_[O.id])!==null&&A!==void 0?A:0)})}v.childrenAfterSort=w}else!r||y?v.childrenAfterSort=v.childrenAfterAggFilter.slice(0):i?v.childrenAfterSort=l.doDeltaSort(v,d,a,e):v.childrenAfterSort=l.rowNodeSorter.doFullSort(v.childrenAfterAggFilter,e);if(v.sibling&&(v.sibling.childrenAfterSort=v.childrenAfterSort),l.updateChildIndexes(v),h){var x={nodes:v.childrenAfterSort};h(x)}};a&&a.forEachChangedNodeDepthFirst(f),this.updateGroupDataForHideOpenParents(a)},t.prototype.calculateDirtyNodes=function(e){var r={},i=function(o){o&&o.forEach(function(a){return r[a.id]=!0})};return e&&e.forEach(function(o){i(o.add),i(o.update),i(o.remove)}),r},t.prototype.doDeltaSort=function(e,r,i,o){var a=this,s=e.childrenAfterAggFilter,l=e.childrenAfterSort;if(!l)return this.rowNodeSorter.doFullSort(s,o);var u={},c=[];s.forEach(function(f){r[f.id]||!i.canSkip(f)?c.push(f):u[f.id]=!0});var d=l.filter(function(f){return u[f.id]}),p=function(f,v){return{currentPos:v,rowNode:f}},h=c.map(p).sort(function(f,v){return a.rowNodeSorter.compareRowNodes(o,f,v)});return this.mergeSortedArrays(o,h,d.map(p)).map(function(f){var v=f.rowNode;return v})},t.prototype.mergeSortedArrays=function(e,r,i){for(var o=[],a=0,s=0;a<r.length&&s<i.length;){var l=this.rowNodeSorter.compareRowNodes(e,r[a],i[s]);l<0?o.push(r[a++]):o.push(i[s++])}for(;a<r.length;)o.push(r[a++]);for(;s<i.length;)o.push(i[s++]);return o},t.prototype.updateChildIndexes=function(e){if(!D.missing(e.childrenAfterSort))for(var r=e.childrenAfterSort,i=0;i<r.length;i++){var o=r[i],a=i===0,s=i===e.childrenAfterSort.length-1;o.setFirstChild(a),o.setLastChild(s),o.setChildIndex(i)}},t.prototype.updateGroupDataForHideOpenParents=function(e){var r=this;if(this.gridOptionsService.get("groupHideOpenParents")){if(this.gridOptionsService.get("treeData"))return D.warnOnce("The property hideOpenParents dose not work with Tree Data. This is because Tree Data has values at the group level, it doesn't make sense to hide them."),!1;var i=function(o){r.pullDownGroupDataForHideOpenParents(o.childrenAfterSort,!1),o.childrenAfterSort.forEach(function(a){a.hasChildren()&&i(a)})};e&&e.executeFromRootNode(function(o){return i(o)})}},t.prototype.pullDownGroupDataForHideOpenParents=function(e,r){var i=this;!this.gridOptionsService.get("groupHideOpenParents")||D.missing(e)||e.forEach(function(o){var a=i.columnModel.getGroupDisplayColumns();a.forEach(function(s){var l=s.getColDef().showRowGroup;if(typeof l!="string"){console.error("AG Grid: groupHideOpenParents only works when specifying specific columns for colDef.showRowGroup");return}var u=l,c=i.columnModel.getPrimaryColumn(u),d=c===o.rowGroupColumn;if(!d)if(r)o.setGroupValue(s.getId(),void 0);else{var p=o.getFirstChildOfFirstChild(c);p&&o.setGroupValue(s.getId(),p.key)}})})},bD([E("columnModel")],t.prototype,"columnModel",void 0),bD([E("rowNodeSorter")],t.prototype,"rowNodeSorter",void 0),t=bD([ae("sortService")],t),t}(q),XDe=function(){var n=function(t,e){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])},n(t,e)};return function(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");n(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}}(),dW=function(n,t,e,r){var i=arguments.length,o=i<3?t:r===null?r=Object.getOwnPropertyDescriptor(t,e):r,a;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(n,t,e,r);else for(var s=n.length-1;s>=0;s--)(a=n[s])&&(o=(i<3?a(o):i>3?a(t,e,o):a(t,e))||o);return i>3&&o&&Object.defineProperty(t,e,o),o},qDe=function(n){XDe(t,n);function t(){return n!==null&&n.apply(this,arguments)||this}return t.prototype.filter=function(e){var r=this.filterManager.isChildFilterPresent();this.filterNodes(r,e)},t.prototype.filterNodes=function(e,r){var i=this,o=function(u,c){u.hasChildren()&&e&&!c?u.childrenAfterFilter=u.childrenAfterGroup.filter(function(d){var p=d.childrenAfterFilter&&d.childrenAfterFilter.length>0,h=d.data&&i.filterManager.doesRowPassFilter({rowNode:d});return p||h}):u.childrenAfterFilter=u.childrenAfterGroup,u.sibling&&(u.sibling.childrenAfterFilter=u.childrenAfterFilter)};if(this.doingTreeDataFiltering()){var a=function(u,c){if(u.childrenAfterGroup)for(var d=0;d<u.childrenAfterGroup.length;d++){var p=u.childrenAfterGroup[d],h=c||i.filterManager.doesRowPassFilter({rowNode:p});p.childrenAfterGroup?a(u.childrenAfterGroup[d],h):o(p,h)}o(u,c)},s=function(u){return a(u,!1)};r.executeFromRootNode(s)}else{var l=function(u){return o(u,!1)};r.forEachChangedNodeDepthFirst(l,!0)}},t.prototype.doingTreeDataFiltering=function(){return this.gridOptionsService.get("treeData")&&!this.gridOptionsService.get("excludeChildrenWhenTreeDataFiltering")},dW([E("filterManager")],t.prototype,"filterManager",void 0),t=dW([ae("filterService")],t),t}(q),ZDe=function(){var n=function(t,e){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])},n(t,e)};return function(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");n(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}}(),nm=function(n,t,e,r){var i=arguments.length,o=i<3?t:r===null?r=Object.getOwnPropertyDescriptor(t,e):r,a;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(n,t,e,r);else for(var s=n.length-1;s>=0;s--)(a=n[s])&&(o=(i<3?a(o):i>3?a(t,e,o):a(t,e))||o);return i>3&&o&&Object.defineProperty(t,e,o),o},QDe=function(n,t){var e=typeof Symbol=="function"&&n[Symbol.iterator];if(!e)return n;var r=e.call(n),i,o=[],a;try{for(;(t===void 0||t-- >0)&&!(i=r.next()).done;)o.push(i.value)}catch(s){a={error:s}}finally{try{i&&!i.done&&(e=r.return)&&e.call(r)}finally{if(a)throw a.error}}return o},JDe=function(n){ZDe(t,n);function t(){return n!==null&&n.apply(this,arguments)||this}return t.prototype.postConstruct=function(){var e=this;this.rowModel.getType()==="clientSide"&&(this.clientSideRowModel=this.rowModel,this.addManagedPropertyListener("rowData",function(){return e.onRowDataUpdated()}))},t.prototype.isActive=function(){var e=this.gridOptionsService.exists("getRowId"),r=this.gridOptionsService.get("resetRowDataOnUpdate");return r?!1:e},t.prototype.setRowData=function(e){var r=this.createTransactionForRowData(e);if(r){var i=QDe(r,2),o=i[0],a=i[1];this.clientSideRowModel.updateRowData(o,a)}},t.prototype.createTransactionForRowData=function(e){if(D.missing(this.clientSideRowModel)){console.error("AG Grid: ImmutableService only works with ClientSideRowModel");return}var r=this.gridOptionsService.getCallback("getRowId");if(r==null){console.error("AG Grid: ImmutableService requires getRowId() callback to be implemented, your row data needs IDs!");return}var i={remove:[],update:[],add:[]},o=this.clientSideRowModel.getCopyOfNodesMap(),a=this.gridOptionsService.get("suppressMaintainUnsortedOrder"),s=a?void 0:{};return D.exists(e)&&e.forEach(function(l,u){var c=r({data:l,level:0}),d=o[c];if(s&&(s[c]=u),d){var p=d.data!==l;p&&i.update.push(l),o[c]=void 0}else i.add.push(l)}),D.iterateObject(o,function(l,u){u&&i.remove.push(u.data)}),[i,s]},t.prototype.onRowDataUpdated=function(){var e=this.gridOptionsService.get("rowData");e&&(this.isActive()?this.setRowData(e):(this.selectionService.reset("rowDataChanged"),this.clientSideRowModel.setRowData(e)))},nm([E("rowModel")],t.prototype,"rowModel",void 0),nm([E("rowRenderer")],t.prototype,"rowRenderer",void 0),nm([E("selectionService")],t.prototype,"selectionService",void 0),nm([z],t.prototype,"postConstruct",null),t=nm([ae("immutableService")],t),t}(q),eMe="31.1.1",Oq={version:eMe,moduleName:fe.ClientSideRowModelModule,rowModel:"clientSide",beans:[BDe,jDe,WDe,zDe,YDe,qDe,JDe]},tMe=function(){var n=function(t,e){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])},n(t,e)};return function(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");n(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}}(),OD=function(n,t,e,r){var i=arguments.length,o=i<3?t:r===null?r=Object.getOwnPropertyDescriptor(t,e):r,a;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(n,t,e,r);else for(var s=n.length-1;s>=0;s--)(a=n[s])&&(o=(i<3?a(o):i>3?a(t,e,o):a(t,e))||o);return i>3&&o&&Object.defineProperty(t,e,o),o},pW=function(n){tMe(t,n);function t(e,r,i){var o=n.call(this,e)||this;return o.parentCache=r,o.params=i,o.startRow=e*i.blockSize,o.endRow=o.startRow+i.blockSize,o}return t.prototype.postConstruct=function(){this.createRowNodes()},t.prototype.getBlockStateJson=function(){return{id:""+this.getId(),state:{blockNumber:this.getId(),startRow:this.getStartRow(),endRow:this.getEndRow(),pageStatus:this.getState()}}},t.prototype.setDataAndId=function(e,r,i){D.exists(r)?e.setDataAndId(r,i.toString()):e.setDataAndId(void 0,void 0)},t.prototype.loadFromDatasource=function(){var e=this,r=this.createLoadParams();if(D.missing(this.params.datasource.getRows)){console.warn("AG Grid: datasource is missing getRows method");return}window.setTimeout(function(){e.params.datasource.getRows(r)},0)},t.prototype.processServerFail=function(){},t.prototype.createLoadParams=function(){var e={startRow:this.getStartRow(),endRow:this.getEndRow(),successCallback:this.pageLoaded.bind(this,this.getVersion()),failCallback:this.pageLoadFailed.bind(this,this.getVersion()),sortModel:this.params.sortModel,filterModel:this.params.filterModel,context:this.gridOptionsService.getGridCommonParams().context};return e},t.prototype.forEachNode=function(e,r,i){var o=this;this.rowNodes.forEach(function(a,s){var l=o.startRow+s;l<i&&e(a,r.next())})},t.prototype.getLastAccessed=function(){return this.lastAccessed},t.prototype.getRow=function(e,r){r===void 0&&(r=!1),r||(this.lastAccessed=this.params.lastAccessedSequence.next());var i=e-this.startRow;return this.rowNodes[i]},t.prototype.getStartRow=function(){return this.startRow},t.prototype.getEndRow=function(){return this.endRow},t.prototype.createRowNodes=function(){this.rowNodes=[];for(var e=0;e<this.params.blockSize;e++){var r=this.startRow+e,i=new Ue(this.beans);i.setRowHeight(this.params.rowHeight),i.uiLevel=0,i.setRowIndex(r),i.setRowTop(this.params.rowHeight*r),this.rowNodes.push(i)}},t.prototype.processServerResult=function(e){var r=this;this.rowNodes.forEach(function(o,a){var s=e.rowData?e.rowData[a]:void 0;!o.id&&o.alreadyRendered&&s&&(r.rowNodes[a]=new Ue(r.beans),r.rowNodes[a].setRowIndex(o.rowIndex),r.rowNodes[a].setRowTop(o.rowTop),r.rowNodes[a].setRowHeight(o.rowHeight),o.clearRowTopAndRowIndex()),r.setDataAndId(r.rowNodes[a],s,r.startRow+a)});var i=e.rowCount!=null&&e.rowCount>=0?e.rowCount:void 0;this.parentCache.pageLoaded(this,i)},t.prototype.destroyRowNodes=function(){this.rowNodes.forEach(function(e){e.clearRowTopAndRowIndex()})},OD([E("beans")],t.prototype,"beans",void 0),OD([z],t.prototype,"postConstruct",null),OD([rr],t.prototype,"destroyRowNodes",null),t}(xl),rMe=function(){var n=function(t,e){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])},n(t,e)};return function(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");n(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}}(),P_=function(n,t,e,r){var i=arguments.length,o=i<3?t:r===null?r=Object.getOwnPropertyDescriptor(t,e):r,a;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(n,t,e,r);else for(var s=n.length-1;s>=0;s--)(a=n[s])&&(o=(i<3?a(o):i>3?a(t,e,o):a(t,e))||o);return i>3&&o&&Object.defineProperty(t,e,o),o},nMe=function(n,t){return function(e,r){t(e,r,n)}},iMe=function(n){rMe(t,n);function t(e){var r=n.call(this)||this;return r.lastRowIndexKnown=!1,r.blocks={},r.blockCount=0,r.rowCount=e.initialRowCount,r.params=e,r}return t.prototype.setBeans=function(e){this.logger=e.create("InfiniteCache")},t.prototype.getRow=function(e,r){r===void 0&&(r=!1);var i=Math.floor(e/this.params.blockSize),o=this.blocks[i];if(!o){if(r)return;o=this.createBlock(i)}return o.getRow(e)},t.prototype.createBlock=function(e){var r=this.createBean(new pW(e,this,this.params));return this.blocks[r.getId()]=r,this.blockCount++,this.purgeBlocksIfNeeded(r),this.params.rowNodeBlockLoader.addBlock(r),r},t.prototype.refreshCache=function(){var e=this.blockCount==0;if(e){this.purgeCache();return}this.getBlocksInOrder().forEach(function(r){return r.setStateWaitingToLoad()}),this.params.rowNodeBlockLoader.checkBlockToLoad()},t.prototype.destroyAllBlocks=function(){var e=this;this.getBlocksInOrder().forEach(function(r){return e.destroyBlock(r)})},t.prototype.getRowCount=function(){return this.rowCount},t.prototype.isLastRowIndexKnown=function(){return this.lastRowIndexKnown},t.prototype.pageLoaded=function(e,r){this.isAlive()&&(this.logger.log("onPageLoaded: page = ".concat(e.getId(),", lastRow = ").concat(r)),this.checkRowCount(e,r),this.onCacheUpdated())},t.prototype.purgeBlocksIfNeeded=function(e){var r=this,i=this.getBlocksInOrder().filter(function(u){return u!=e}),o=function(u,c){return c.getLastAccessed()-u.getLastAccessed()};i.sort(o);var a=this.params.maxBlocksInCache>0,s=a?this.params.maxBlocksInCache-1:null,l=t.MAX_EMPTY_BLOCKS_TO_KEEP-1;i.forEach(function(u,c){var d=u.getState()===pW.STATE_WAITING_TO_LOAD&&c>=l,p=a?c>=s:!1;if(d||p){if(r.isBlockCurrentlyDisplayed(u)||r.isBlockFocused(u))return;r.removeBlockFromCache(u)}})},t.prototype.isBlockFocused=function(e){var r=this.focusService.getFocusCellToUseAfterRefresh();if(!r||r.rowPinned!=null)return!1;var i=e.getStartRow(),o=e.getEndRow(),a=r.rowIndex>=i&&r.rowIndex<o;return a},t.prototype.isBlockCurrentlyDisplayed=function(e){var r=e.getStartRow(),i=e.getEndRow()-1;return this.rowRenderer.isRangeInRenderedViewport(r,i)},t.prototype.removeBlockFromCache=function(e){e&&this.destroyBlock(e)},t.prototype.checkRowCount=function(e,r){if(typeof r=="number"&&r>=0)this.rowCount=r,this.lastRowIndexKnown=!0;else if(!this.lastRowIndexKnown){var i=(e.getId()+1)*this.params.blockSize,o=i+this.params.overflowSize;this.rowCount<o&&(this.rowCount=o)}},t.prototype.setRowCount=function(e,r){this.rowCount=e,D.exists(r)&&(this.lastRowIndexKnown=r),this.lastRowIndexKnown||this.rowCount%this.params.blockSize===0&&this.rowCount++,this.onCacheUpdated()},t.prototype.forEachNodeDeep=function(e){var r=this,i=new Kn;this.getBlocksInOrder().forEach(function(o){return o.forEachNode(e,i,r.rowCount)})},t.prototype.getBlocksInOrder=function(){var e=function(i,o){return i.getId()-o.getId()},r=D.getAllValuesInObject(this.blocks).sort(e);return r},t.prototype.destroyBlock=function(e){delete this.blocks[e.getId()],this.destroyBean(e),this.blockCount--,this.params.rowNodeBlockLoader.removeBlock(e)},t.prototype.onCacheUpdated=function(){if(this.isAlive()){this.destroyAllBlocksPastVirtualRowCount();var e={type:P.EVENT_STORE_UPDATED};this.eventService.dispatchEvent(e)}},t.prototype.destroyAllBlocksPastVirtualRowCount=function(){var e=this,r=[];this.getBlocksInOrder().forEach(function(i){var o=i.getId()*e.params.blockSize;o>=e.rowCount&&r.push(i)}),r.length>0&&r.forEach(function(i){return e.destroyBlock(i)})},t.prototype.purgeCache=function(){var e=this;this.getBlocksInOrder().forEach(function(r){return e.removeBlockFromCache(r)}),this.lastRowIndexKnown=!1,this.rowCount===0&&(this.rowCount=this.params.initialRowCount),this.onCacheUpdated()},t.prototype.getRowNodesInRange=function(e,r){var i=this,o=[],a=-1,s=!1,l=new Kn;D.missing(e)&&(s=!0);var u=!1;this.getBlocksInOrder().forEach(function(d){if(!u){if(s&&a+1!==d.getId()){u=!0;return}a=d.getId(),d.forEachNode(function(p){var h=p===e||p===r;(s||h)&&o.push(p),h&&(s=!s)},l,i.rowCount)}});var c=u||s;return c?[]:o},t.MAX_EMPTY_BLOCKS_TO_KEEP=2,P_([E("rowRenderer")],t.prototype,"rowRenderer",void 0),P_([E("focusService")],t.prototype,"focusService",void 0),P_([nMe(0,Jo("loggerFactory"))],t.prototype,"setBeans",null),P_([rr],t.prototype,"destroyAllBlocks",null),t}(q),oMe=function(){var n=function(t,e){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])},n(t,e)};return function(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");n(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}}(),Ic=function(n,t,e,r){var i=arguments.length,o=i<3?t:r===null?r=Object.getOwnPropertyDescriptor(t,e):r,a;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(n,t,e,r);else for(var s=n.length-1;s>=0;s--)(a=n[s])&&(o=(i<3?a(o):i>3?a(t,e,o):a(t,e))||o);return i>3&&o&&Object.defineProperty(t,e,o),o},aMe=function(n){oMe(t,n);function t(){return n!==null&&n.apply(this,arguments)||this}return t.prototype.getRowBounds=function(e){return{rowHeight:this.rowHeight,rowTop:this.rowHeight*e}},t.prototype.ensureRowHeightsValid=function(e,r,i,o){return!1},t.prototype.init=function(){var e=this;this.gridOptionsService.isRowModelType("infinite")&&(this.rowHeight=this.gridOptionsService.getRowHeightAsNumber(),this.addEventListeners(),this.addDestroyFunc(function(){return e.destroyCache()}),this.verifyProps())},t.prototype.verifyProps=function(){this.gridOptionsService.exists("initialGroupOrderComparator")&&D.warnOnce("initialGroupOrderComparator cannot be used with Infinite Row Model as sorting is done on the server side")},t.prototype.start=function(){this.setDatasource(this.gridOptionsService.get("datasource"))},t.prototype.destroyDatasource=function(){this.datasource&&(this.getContext().destroyBean(this.datasource),this.rowRenderer.datasourceChanged(),this.datasource=null)},t.prototype.addEventListeners=function(){var e=this;this.addManagedListener(this.eventService,P.EVENT_FILTER_CHANGED,this.onFilterChanged.bind(this)),this.addManagedListener(this.eventService,P.EVENT_SORT_CHANGED,this.onSortChanged.bind(this)),this.addManagedListener(this.eventService,P.EVENT_NEW_COLUMNS_LOADED,this.onColumnEverything.bind(this)),this.addManagedListener(this.eventService,P.EVENT_STORE_UPDATED,this.onCacheUpdated.bind(this)),this.addManagedPropertyListener("datasource",function(){return e.setDatasource(e.gridOptionsService.get("datasource"))}),this.addManagedPropertyListener("cacheBlockSize",function(){return e.resetCache()}),this.addManagedPropertyListener("rowHeight",function(){e.rowHeight=e.gridOptionsService.getRowHeightAsNumber(),e.cacheParams.rowHeight=e.rowHeight,e.updateRowHeights()})},t.prototype.onFilterChanged=function(){this.reset()},t.prototype.onSortChanged=function(){this.reset()},t.prototype.onColumnEverything=function(){var e;this.cacheParams?e=this.isSortModelDifferent():e=!0,e&&this.reset()},t.prototype.isSortModelDifferent=function(){return!D.jsonEquals(this.cacheParams.sortModel,this.sortController.getSortModel())},t.prototype.getType=function(){return"infinite"},t.prototype.setDatasource=function(e){this.destroyDatasource(),this.datasource=e,e&&this.reset()},t.prototype.isEmpty=function(){return!this.infiniteCache},t.prototype.isRowsToRender=function(){return!!this.infiniteCache},t.prototype.getNodesInRangeForSelection=function(e,r){return this.infiniteCache?this.infiniteCache.getRowNodesInRange(e,r):[]},t.prototype.reset=function(){if(this.datasource){var e=this.gridOptionsService.getCallback("getRowId"),r=e!=null;r||this.selectionService.reset("rowDataChanged"),this.resetCache()}},t.prototype.createModelUpdatedEvent=function(){return{type:P.EVENT_MODEL_UPDATED,newPage:!1,newPageSize:!1,newData:!1,keepRenderedRows:!0,animate:!1}},t.prototype.resetCache=function(){this.destroyCache(),this.cacheParams={datasource:this.datasource,filterModel:this.filterManager.getFilterModel(),sortModel:this.sortController.getSortModel(),rowNodeBlockLoader:this.rowNodeBlockLoader,initialRowCount:this.gridOptionsService.get("infiniteInitialRowCount"),maxBlocksInCache:this.gridOptionsService.get("maxBlocksInCache"),rowHeight:this.gridOptionsService.getRowHeightAsNumber(),overflowSize:this.gridOptionsService.get("cacheOverflowSize"),blockSize:this.gridOptionsService.get("cacheBlockSize"),lastAccessedSequence:new Kn},this.infiniteCache=this.createBean(new iMe(this.cacheParams)),this.eventService.dispatchEventOnce({type:P.EVENT_ROW_COUNT_READY});var e=this.createModelUpdatedEvent();this.eventService.dispatchEvent(e)},t.prototype.updateRowHeights=function(){var e=this;this.forEachNode(function(i){i.setRowHeight(e.rowHeight),i.setRowTop(e.rowHeight*i.rowIndex)});var r=this.createModelUpdatedEvent();this.eventService.dispatchEvent(r)},t.prototype.destroyCache=function(){this.infiniteCache&&(this.infiniteCache=this.destroyBean(this.infiniteCache))},t.prototype.onCacheUpdated=function(){var e=this.createModelUpdatedEvent();this.eventService.dispatchEvent(e)},t.prototype.getRow=function(e){if(this.infiniteCache&&!(e>=this.infiniteCache.getRowCount()))return this.infiniteCache.getRow(e)},t.prototype.getRowNode=function(e){var r;return this.forEachNode(function(i){i.id===e&&(r=i)}),r},t.prototype.forEachNode=function(e){this.infiniteCache&&this.infiniteCache.forEachNodeDeep(e)},t.prototype.getTopLevelRowCount=function(){return this.getRowCount()},t.prototype.getTopLevelRowDisplayedIndex=function(e){return e},t.prototype.getRowIndexAtPixel=function(e){if(this.rowHeight!==0){var r=Math.floor(e/this.rowHeight),i=this.getRowCount()-1;return r>i?i:r}return 0},t.prototype.getRowCount=function(){return this.infiniteCache?this.infiniteCache.getRowCount():0},t.prototype.isRowPresent=function(e){var r=this.getRowNode(e.id);return!!r},t.prototype.refreshCache=function(){this.infiniteCache&&this.infiniteCache.refreshCache()},t.prototype.purgeCache=function(){this.infiniteCache&&this.infiniteCache.purgeCache()},t.prototype.isLastRowIndexKnown=function(){return this.infiniteCache?this.infiniteCache.isLastRowIndexKnown():!1},t.prototype.setRowCount=function(e,r){this.infiniteCache&&this.infiniteCache.setRowCount(e,r)},Ic([E("filterManager")],t.prototype,"filterManager",void 0),Ic([E("sortController")],t.prototype,"sortController",void 0),Ic([E("selectionService")],t.prototype,"selectionService",void 0),Ic([E("rowRenderer")],t.prototype,"rowRenderer",void 0),Ic([E("rowNodeBlockLoader")],t.prototype,"rowNodeBlockLoader",void 0),Ic([z],t.prototype,"init",null),Ic([rr],t.prototype,"destroyDatasource",null),t=Ic([ae("rowModel")],t),t}(q),sMe="31.1.1",Rq={version:sMe,moduleName:fe.InfiniteRowModelModule,rowModel:"infinite",beans:[aMe]},VG=function(){function n(){}return n.prototype.setBeans=function(t){this.beans=t},n.prototype.getFileName=function(t){var e=this.getDefaultFileExtension();return(t==null||!t.length)&&(t=this.getDefaultFileName()),t.indexOf(".")===-1?"".concat(t,".").concat(e):t},n.prototype.getData=function(t){var e=this.createSerializingSession(t);return this.beans.gridSerializer.serialize(e,t)},n.prototype.getDefaultFileName=function(){return"export.".concat(this.getDefaultFileExtension())},n}(),BG=function(){function n(t){this.groupColumns=[];var e=t.columnModel,r=t.valueService,i=t.gridOptionsService,o=t.valueFormatterService,a=t.valueParserService,s=t.processCellCallback,l=t.processHeaderCallback,u=t.processGroupHeaderCallback,c=t.processRowGroupCallback;this.columnModel=e,this.valueService=r,this.gridOptionsService=i,this.valueFormatterService=o,this.valueParserService=a,this.processCellCallback=s,this.processHeaderCallback=l,this.processGroupHeaderCallback=u,this.processRowGroupCallback=c}return n.prototype.prepare=function(t){this.groupColumns=t.filter(function(e){return!!e.getColDef().showRowGroup})},n.prototype.extractHeaderValue=function(t){var e=this.getHeaderName(this.processHeaderCallback,t);return e??""},n.prototype.extractRowCellValue=function(t,e,r,i,o){var a=this.gridOptionsService.get("groupHideOpenParents"),s=(!a||o.footer)&&this.shouldRenderGroupSummaryCell(o,t,e)?this.createValueForGroupNode(t,o):this.valueService.getValue(t,o),l=this.processCell({accumulatedRowIndex:r,rowNode:o,column:t,value:s,processCellCallback:this.processCellCallback,type:i});return l},n.prototype.shouldRenderGroupSummaryCell=function(t,e,r){var i,o=t&&t.group;if(!o)return!1;var a=this.groupColumns.indexOf(e);if(a!==-1){if(((i=t.groupData)===null||i===void 0?void 0:i[e.getId()])!=null||this.gridOptionsService.isRowModelType("serverSide")&&t.group)return!0;if(t.footer&&t.level===-1){var s=e.getColDef(),l=s==null||s.showRowGroup===!0;return l||s.showRowGroup===this.columnModel.getRowGroupColumns()[0].getId()}}var u=this.gridOptionsService.isGroupUseEntireRow(this.columnModel.isPivotMode());return r===0&&u},n.prototype.getHeaderName=function(t,e){return t?t(this.gridOptionsService.addGridCommonParams({column:e})):this.columnModel.getDisplayNameForColumn(e,"csv",!0)},n.prototype.createValueForGroupNode=function(t,e){var r=this;if(this.processRowGroupCallback)return this.processRowGroupCallback(this.gridOptionsService.addGridCommonParams({column:t,node:e}));var i=this.gridOptionsService.get("treeData"),o=this.gridOptionsService.get("suppressGroupMaintainValueType"),a=function(c){var d,p;if(i||o)return c.key;var h=(d=c.groupData)===null||d===void 0?void 0:d[t.getId()];return!h||!c.rowGroupColumn||c.rowGroupColumn.getColDef().useValueFormatterForExport===!1?h:(p=r.valueFormatterService.formatValue(c.rowGroupColumn,c,h))!==null&&p!==void 0?p:h},s=e.footer,l=[a(e)];if(!this.gridOptionsService.isGroupMultiAutoColumn())for(;e.parent;)e=e.parent,l.push(a(e));var u=l.reverse().join(" -> ");return s?"Total ".concat(u):u},n.prototype.processCell=function(t){var e=this,r,i=t.accumulatedRowIndex,o=t.rowNode,a=t.column,s=t.value,l=t.processCellCallback,u=t.type;return l?{value:(r=l(this.gridOptionsService.addGridCommonParams({accumulatedRowIndex:i,column:a,node:o,value:s,type:u,parseValue:function(c){return e.valueParserService.parseValue(a,o,c,e.valueService.getValue(a,o))},formatValue:function(c){var d;return(d=e.valueFormatterService.formatValue(a,o,c))!==null&&d!==void 0?d:c}})))!==null&&r!==void 0?r:""}:a.getColDef().useValueFormatterForExport!==!1?{value:s??"",valueFormatted:this.valueFormatterService.formatValue(a,o,s)}:{value:s??""}},n}(),LT=function(){function n(){}return n.download=function(t,e){var r=document.defaultView||window;if(!r){console.warn("AG Grid: There is no `window` associated with the current `document`");return}var i=document.createElement("a"),o=r.URL.createObjectURL(e);i.setAttribute("href",o),i.setAttribute("download",t),i.style.display="none",document.body.appendChild(i),i.dispatchEvent(new MouseEvent("click",{bubbles:!1,cancelable:!0,view:r})),document.body.removeChild(i),r.setTimeout(function(){r.URL.revokeObjectURL(o)},0)},n}(),lMe=function(){var n=function(t,e){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])},n(t,e)};return function(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");n(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}}(),hW=`\r
`,uMe=function(n){lMe(t,n);function t(e){var r=n.call(this,e)||this;r.isFirstLine=!0,r.result="";var i=e.suppressQuotes,o=e.columnSeparator;return r.suppressQuotes=i,r.columnSeparator=o,r}return t.prototype.addCustomContent=function(e){var r=this;e&&(typeof e=="string"?(/^\s*\n/.test(e)||this.beginNewLine(),e=e.replace(/\r?\n/g,hW),this.result+=e):e.forEach(function(i){r.beginNewLine(),i.forEach(function(o,a){a!==0&&(r.result+=r.columnSeparator),r.result+=r.putInQuotes(o.data.value||""),o.mergeAcross&&r.appendEmptyCells(o.mergeAcross)})}))},t.prototype.onNewHeaderGroupingRow=function(){return this.beginNewLine(),{onColumn:this.onNewHeaderGroupingRowColumn.bind(this)}},t.prototype.onNewHeaderGroupingRowColumn=function(e,r,i,o){i!=0&&(this.result+=this.columnSeparator),this.result+=this.putInQuotes(r),this.appendEmptyCells(o)},t.prototype.appendEmptyCells=function(e){for(var r=1;r<=e;r++)this.result+=this.columnSeparator+this.putInQuotes("")},t.prototype.onNewHeaderRow=function(){return this.beginNewLine(),{onColumn:this.onNewHeaderRowColumn.bind(this)}},t.prototype.onNewHeaderRowColumn=function(e,r){r!=0&&(this.result+=this.columnSeparator),this.result+=this.putInQuotes(this.extractHeaderValue(e))},t.prototype.onNewBodyRow=function(){return this.beginNewLine(),{onColumn:this.onNewBodyRowColumn.bind(this)}},t.prototype.onNewBodyRowColumn=function(e,r,i){var o;r!=0&&(this.result+=this.columnSeparator);var a=this.extractRowCellValue(e,r,r,"csv",i);this.result+=this.putInQuotes((o=a.valueFormatted)!==null&&o!==void 0?o:a.value)},t.prototype.putInQuotes=function(e){if(this.suppressQuotes)return e;if(e==null)return'""';var r;typeof e=="string"?r=e:typeof e.toString=="function"?r=e.toString():(console.warn("AG Grid: unknown value type during csv conversion"),r="");var i=r.replace(/"/g,'""');return'"'+i+'"'},t.prototype.parse=function(){return this.result},t.prototype.beginNewLine=function(){this.isFirstLine||(this.result+=hW),this.isFirstLine=!1},t}(BG),cMe=function(){var n=function(t,e){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])},n(t,e)};return function(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");n(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}}(),Nc=function(n,t,e,r){var i=arguments.length,o=i<3?t:r===null?r=Object.getOwnPropertyDescriptor(t,e):r,a;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(n,t,e,r);else for(var s=n.length-1;s>=0;s--)(a=n[s])&&(o=(i<3?a(o):i>3?a(t,e,o):a(t,e))||o);return i>3&&o&&Object.defineProperty(t,e,o),o},HG=function(n){cMe(t,n);function t(){return n!==null&&n.apply(this,arguments)||this}return t.prototype.postConstruct=function(){this.setBeans({gridSerializer:this.gridSerializer,gridOptionsService:this.gridOptionsService})},t.prototype.getMergedParams=function(e){var r=this.gridOptionsService.get("defaultCsvExportParams");return Object.assign({},r,e)},t.prototype.export=function(e){if(this.isExportSuppressed()){console.warn("AG Grid: Export cancelled. Export is not allowed as per your configuration.");return}var r=this.getMergedParams(e),i=this.getData(r),o=new Blob(["\uFEFF",i],{type:"text/plain"}),a=typeof r.fileName=="function"?r.fileName(this.gridOptionsService.getGridCommonParams()):r.fileName;LT.download(this.getFileName(a),o)},t.prototype.exportDataAsCsv=function(e){this.export(e)},t.prototype.getDataAsCsv=function(e,r){r===void 0&&(r=!1);var i=r?Object.assign({},e):this.getMergedParams(e);return this.getData(i)},t.prototype.getDefaultFileExtension=function(){return"csv"},t.prototype.createSerializingSession=function(e){var r=this,i=r.columnModel,o=r.valueService,a=r.gridOptionsService,s=r.valueFormatterService,l=r.valueParserService,u=e,c=u.processCellCallback,d=u.processHeaderCallback,p=u.processGroupHeaderCallback,h=u.processRowGroupCallback,f=u.suppressQuotes,v=u.columnSeparator;return new uMe({columnModel:i,valueService:o,gridOptionsService:a,valueFormatterService:s,valueParserService:l,processCellCallback:c||void 0,processHeaderCallback:d||void 0,processGroupHeaderCallback:p||void 0,processRowGroupCallback:h||void 0,suppressQuotes:f||!1,columnSeparator:v||","})},t.prototype.isExportSuppressed=function(){return this.gridOptionsService.get("suppressCsvExport")},Nc([E("columnModel")],t.prototype,"columnModel",void 0),Nc([E("valueService")],t.prototype,"valueService",void 0),Nc([E("gridSerializer")],t.prototype,"gridSerializer",void 0),Nc([E("gridOptionsService")],t.prototype,"gridOptionsService",void 0),Nc([E("valueFormatterService")],t.prototype,"valueFormatterService",void 0),Nc([E("valueParserService")],t.prototype,"valueParserService",void 0),Nc([z],t.prototype,"postConstruct",null),t=Nc([ae("csvCreator")],t),t}(VG),dMe=function(){var n=function(t,e){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])},n(t,e)};return function(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");n(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}}(),kc=function(n,t,e,r){var i=arguments.length,o=i<3?t:r===null?r=Object.getOwnPropertyDescriptor(t,e):r,a;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(n,t,e,r);else for(var s=n.length-1;s>=0;s--)(a=n[s])&&(o=(i<3?a(o):i>3?a(t,e,o):a(t,e))||o);return i>3&&o&&Object.defineProperty(t,e,o),o},Pd;(function(n){n[n.HEADER_GROUPING=0]="HEADER_GROUPING",n[n.HEADER=1]="HEADER",n[n.BODY=2]="BODY"})(Pd||(Pd={}));var jG=function(n){dMe(t,n);function t(){return n!==null&&n.apply(this,arguments)||this}return t.prototype.serialize=function(e,r){r===void 0&&(r={});var i=r.allColumns,o=r.columnKeys,a=r.skipRowGroups,s=this.getColumnsToExport(i,a,o),l=D.compose(this.prepareSession(s),this.prependContent(r),this.exportColumnGroups(r,s),this.exportHeaders(r,s),this.processPinnedTopRows(r,s),this.processRows(r,s),this.processPinnedBottomRows(r,s),this.appendContent(r));return l(e).parse()},t.prototype.processRow=function(e,r,i,o){var a=r.shouldRowBeSkipped||function(){return!1},s=this.gridOptionsService.get("groupRemoveSingleChildren"),l=this.gridOptionsService.get("groupRemoveLowestSingleChildren"),u=r.rowPositions!=null,c=u||!!r.onlySelected,d=this.gridOptionsService.get("groupHideOpenParents")&&!c,p=this.columnModel.isPivotMode()?o.leafGroup:!o.group,h=!!o.footer;r.skipRowGroups;var f=l&&o.leafGroup,v=o.allChildrenCount===1&&(s||f);if(!(!p&&!h&&(r.skipRowGroups||v||d)||r.onlySelected&&!o.isSelected()||r.skipPinnedTop&&o.rowPinned==="top"||r.skipPinnedBottom&&o.rowPinned==="bottom")){var g=o.level===-1;if(!(g&&!p&&!h)){var y=a(this.gridOptionsService.addGridCommonParams({node:o}));if(!y){var m=e.onNewBodyRow(o);if(i.forEach(function(S,w){m.onColumn(S,w,o)}),r.getCustomContentBelowRow){var C=r.getCustomContentBelowRow(this.gridOptionsService.addGridCommonParams({node:o}));C&&e.addCustomContent(C)}}}}},t.prototype.appendContent=function(e){return function(r){var i=e.appendContent;return i&&r.addCustomContent(i),r}},t.prototype.prependContent=function(e){return function(r){var i=e.prependContent;return i&&r.addCustomContent(i),r}},t.prototype.prepareSession=function(e){return function(r){return r.prepare(e),r}},t.prototype.exportColumnGroups=function(e,r){var i=this;return function(o){if(!e.skipColumnGroupHeaders){var a=new Bk,s=i.displayedGroupCreator.createDisplayedGroups(r,a,null);i.recursivelyAddHeaderGroups(s,o,e.processGroupHeaderCallback)}return o}},t.prototype.exportHeaders=function(e,r){return function(i){if(!e.skipColumnHeaders){var o=i.onNewHeaderRow();r.forEach(function(a,s){o.onColumn(a,s,void 0)})}return i}},t.prototype.processPinnedTopRows=function(e,r){var i=this;return function(o){var a=i.processRow.bind(i,o,e,r);return e.rowPositions?e.rowPositions.filter(function(s){return s.rowPinned==="top"}).sort(function(s,l){return s.rowIndex-l.rowIndex}).map(function(s){return i.pinnedRowModel.getPinnedTopRow(s.rowIndex)}).forEach(a):i.pinnedRowModel.forEachPinnedTopRow(a),o}},t.prototype.processRows=function(e,r){var i=this;return function(o){var a=i.rowModel,s=a.getType(),l=s==="clientSide",u=s==="serverSide",c=!l&&e.onlySelected,d=i.processRow.bind(i,o,e,r),p=e.exportedRows,h=p===void 0?"filteredAndSorted":p;if(e.rowPositions)e.rowPositions.filter(function(v){return v.rowPinned==null}).sort(function(v,g){return v.rowIndex-g.rowIndex}).map(function(v){return a.getRow(v.rowIndex)}).forEach(d);else if(i.columnModel.isPivotMode())l?a.forEachPivotNode(d,!0):u?a.forEachNodeAfterFilterAndSort(d,!0):a.forEachNode(d);else if(e.onlySelectedAllPages||c){var f=i.selectionService.getSelectedNodes();i.replicateSortedOrder(f),f.forEach(d)}else h==="all"?a.forEachNode(d):l||u?a.forEachNodeAfterFilterAndSort(d,!0):a.forEachNode(d);return o}},t.prototype.replicateSortedOrder=function(e){var r=this,i=this.sortController.getSortOptions(),o=function(a,s){var l,u,c,d;return a.rowIndex!=null&&s.rowIndex!=null?a.rowIndex-s.rowIndex:a.level===s.level?((l=a.parent)===null||l===void 0?void 0:l.id)===((u=s.parent)===null||u===void 0?void 0:u.id)?r.rowNodeSorter.compareRowNodes(i,{rowNode:a,currentPos:(c=a.rowIndex)!==null&&c!==void 0?c:-1},{rowNode:s,currentPos:(d=s.rowIndex)!==null&&d!==void 0?d:-1}):o(a.parent,s.parent):a.level>s.level?o(a.parent,s):o(a,s.parent)};e.sort(o)},t.prototype.processPinnedBottomRows=function(e,r){var i=this;return function(o){var a=i.processRow.bind(i,o,e,r);return e.rowPositions?e.rowPositions.filter(function(s){return s.rowPinned==="bottom"}).sort(function(s,l){return s.rowIndex-l.rowIndex}).map(function(s){return i.pinnedRowModel.getPinnedBottomRow(s.rowIndex)}).forEach(a):i.pinnedRowModel.forEachPinnedBottomRow(a),o}},t.prototype.getColumnsToExport=function(e,r,i){e===void 0&&(e=!1),r===void 0&&(r=!1);var o=this.columnModel.isPivotMode();if(i&&i.length)return this.columnModel.getGridColumns(i);var a=this.gridOptionsService.get("treeData"),s=[];return e&&!o?s=this.columnModel.getAllGridColumns():s=this.columnModel.getAllDisplayedColumns(),r&&!a&&(s=s.filter(function(l){return l.getColId()!==Qu})),s},t.prototype.recursivelyAddHeaderGroups=function(e,r,i){var o=[];e.forEach(function(a){var s=a;s.getChildren&&s.getChildren().forEach(function(l){return o.push(l)})}),e.length>0&&e[0]instanceof Vr&&this.doAddHeaderHeader(r,e,i),o&&o.length>0&&this.recursivelyAddHeaderGroups(o,r,i)},t.prototype.doAddHeaderHeader=function(e,r,i){var o=this,a=e.onNewHeaderGroupingRow(),s=0;r.forEach(function(l){var u=l,c;i?c=i(o.gridOptionsService.addGridCommonParams({columnGroup:u})):c=o.columnModel.getDisplayNameForColumnGroup(u,"header");var d=u.getLeafColumns().reduce(function(p,h,f,v){var g=D.last(p),y=h.getColumnGroupShow()==="open";return y?(!g||g[1]!=null)&&(g=[f],p.push(g)):g&&g[1]==null&&(g[1]=f-1),f===v.length-1&&g&&g[1]==null&&(g[1]=f),p},[]);a.onColumn(u,c||"",s++,u.getLeafColumns().length-1,d)})},kc([E("displayedGroupCreator")],t.prototype,"displayedGroupCreator",void 0),kc([E("columnModel")],t.prototype,"columnModel",void 0),kc([E("rowModel")],t.prototype,"rowModel",void 0),kc([E("pinnedRowModel")],t.prototype,"pinnedRowModel",void 0),kc([E("selectionService")],t.prototype,"selectionService",void 0),kc([E("rowNodeSorter")],t.prototype,"rowNodeSorter",void 0),kc([E("sortController")],t.prototype,"sortController",void 0),t=kc([ae("gridSerializer")],t),t}(q),pMe="31.1.1",IT={version:pMe,moduleName:fe.CsvExportModule,beans:[HG,jG]},A_=`\r
`,GL=function(){function n(){}return n.createHeader=function(t){t===void 0&&(t={});var e="<?",r="?>",i=["version"];t.version||(t.version="1.0"),t.encoding&&i.push("encoding"),t.standalone&&i.push("standalone");var o=i.map(function(a){return"".concat(a,'="').concat(t[a],'"')}).join(" ");return"".concat(e,"xml ").concat(o," ").concat(r)},n.createXml=function(t,e){var r=this,i="";t.properties&&(t.properties.prefixedAttributes&&t.properties.prefixedAttributes.forEach(function(a){Object.keys(a.map).forEach(function(s){i+=r.returnAttributeIfPopulated(a.prefix+s,a.map[s],e)})}),t.properties.rawMap&&Object.keys(t.properties.rawMap).forEach(function(a){i+=r.returnAttributeIfPopulated(a,t.properties.rawMap[a],e)}));var o="<"+t.name+i;return!t.children&&t.textNode==null?o+"/>"+A_:t.textNode!=null?o+">"+t.textNode+"</"+t.name+">"+A_:(o+=">"+A_,t.children&&t.children.forEach(function(a){o+=r.createXml(a,e)}),o+"</"+t.name+">"+A_)},n.returnAttributeIfPopulated=function(t,e,r){if(!e&&e!==""&&e!==0)return"";var i=e;return typeof e=="boolean"&&r&&(i=r(e))," ".concat(t,'="').concat(i,'"')},n}(),hMe=function(n){var t=n.getHours();return t<<=6,t=t|n.getMinutes(),t<<=5,t=t|n.getSeconds()/2,t},fMe=function(n){var t=n.getFullYear()-1980;return t<<=4,t=t|n.getMonth()+1,t<<=5,t=t|n.getDate(),t};function ai(n,t){for(var e="",r=0;r<t;r++)e+=String.fromCharCode(n&255),n>>>=8;return e}var fW=function(n){if(!n.length)return 0;for(var t=-1,e=0,r=0,i=0,o=0;o<n.length;o++)e=n[o],r=(t^e)&255,i=vMe[r],t=t>>>8^i;return t^-1},vW=function(n){return n.length?fW(typeof n=="string"?new TextEncoder().encode(n):n):0},vMe=new Uint32Array([0,1996959894,3993919788,2567524794,124634137,1886057615,3915621685,2657392035,249268274,2044508324,3772115230,2547177864,162941995,2125561021,3887607047,2428444049,498536548,1789927666,4089016648,2227061214,450548861,1843258603,4107580753,2211677639,325883990,1684777152,4251122042,2321926636,335633487,1661365465,4195302755,2366115317,997073096,1281953886,3579855332,2724688242,1006888145,1258607687,3524101629,2768942443,901097722,1119000684,3686517206,2898065728,853044451,1172266101,3705015759,2882616665,651767980,1373503546,3369554304,3218104598,565507253,1454621731,3485111705,3099436303,671266974,1594198024,3322730930,2970347812,795835527,1483230225,3244367275,3060149565,1994146192,31158534,2563907772,4023717930,1907459465,112637215,2680153253,3904427059,2013776290,251722036,2517215374,3775830040,2137656763,141376813,2439277719,3865271297,1802195444,476864866,2238001368,4066508878,1812370925,453092731,2181625025,4111451223,1706088902,314042704,2344532202,4240017532,1658658271,366619977,2362670323,4224994405,1303535960,984961486,2747007092,3569037538,1256170817,1037604311,2765210733,3554079995,1131014506,879679996,2909243462,3663771856,1141124467,855842277,2852801631,3708648649,1342533948,654459306,3188396048,3373015174,1466479909,544179635,3110523913,3462522015,1591671054,702138776,2966460450,3352799412,1504918807,783551873,3082640443,3233442989,3988292384,2596254646,62317068,1957810842,3939845945,2647816111,81470997,1943803523,3814918930,2489596804,225274430,2053790376,3826175755,2466906013,167816743,2097651377,4027552580,2265490386,503444072,1762050814,4150417245,2154129355,426522225,1852507879,4275313526,2312317920,282753626,1742555852,4189708143,2394877945,397917763,1622183637,3604390888,2714866558,953729732,1340076626,3518719985,2797360999,1068828381,1219638859,3624741850,2936675148,906185462,1090812512,3747672003,2825379669,829329135,1181335161,3412177804,3160834842,628085408,1382605366,3423369109,3138078467,570562233,1426400815,3317316542,2998733608,733239954,1555261956,3268935591,3050360625,752459403,1541320221,2607071920,3965973030,1969922972,40735498,2617837225,3943577151,1913087877,83908371,2512341634,3803740692,2075208622,213261112,2463272603,3855990285,2094854071,198958881,2262029012,4057260610,1759359992,534414190,2176718541,4139329115,1873836001,414664567,2282248934,4279200368,1711684554,285281116,2405801727,4167216745,1634467795,376229701,2685067896,3608007406,1308918612,956543938,2808555105,3495958263,1231636301,1047427035,2932959818,3654703836,1088359270,936918e3,2847714899,3736837829,1202900863,817233897,3183342108,3401237130,1404277552,615818150,3134207493,3453421203,1423857449,601450431,3009837614,3294710456,1567103746,711928724,3020668471,3272380065,1510334235,755167117]),Tq=function(n,t,e,r){function i(o){return o instanceof e?o:new e(function(a){a(o)})}return new(e||(e=Promise))(function(o,a){function s(c){try{u(r.next(c))}catch(d){a(d)}}function l(c){try{u(r.throw(c))}catch(d){a(d)}}function u(c){c.done?o(c.value):i(c.value).then(s,l)}u((r=r.apply(n,t||[])).next())})},Pq=function(n,t){var e={label:0,sent:function(){if(o[0]&1)throw o[1];return o[1]},trys:[],ops:[]},r,i,o,a;return a={next:s(0),throw:s(1),return:s(2)},typeof Symbol=="function"&&(a[Symbol.iterator]=function(){return this}),a;function s(u){return function(c){return l([u,c])}}function l(u){if(r)throw new TypeError("Generator is already executing.");for(;e;)try{if(r=1,i&&(o=u[0]&2?i.return:u[0]?i.throw||((o=i.return)&&o.call(i),0):i.next)&&!(o=o.call(i,u[1])).done)return o;switch(i=0,o&&(u=[u[0]&2,o.value]),u[0]){case 0:case 1:o=u;break;case 4:return e.label++,{value:u[1],done:!1};case 5:e.label++,i=u[1],u=[0];continue;case 7:u=e.ops.pop(),e.trys.pop();continue;default:if(o=e.trys,!(o=o.length>0&&o[o.length-1])&&(u[0]===6||u[0]===2)){e=0;continue}if(u[0]===3&&(!o||u[1]>o[0]&&u[1]<o[3])){e.label=u[1];break}if(u[0]===6&&e.label<o[1]){e.label=o[1],o=u;break}if(o&&e.label<o[2]){e.label=o[2],e.ops.push(u);break}o[2]&&e.ops.pop(),e.trys.pop();continue}u=t.call(n,e)}catch(c){u=[6,c],i=0}finally{r=o=0}if(u[0]&5)throw u[1];return{value:u[0]?u[1]:void 0,done:!0}}},gMe=function(n){return Tq(void 0,void 0,void 0,function(){var t,e,r,i,o;return Pq(this,function(a){switch(a.label){case 0:return t=0,e=[],r=new WritableStream({write:function(s){e.push(s),t+=s.length}}),i=new ReadableStream({start:function(s){var l=new FileReader;l.onload=function(u){var c;!((c=u.target)===null||c===void 0)&&c.result&&s.enqueue(u.target.result),s.close()},l.readAsArrayBuffer(n)}}),o=new window.CompressionStream("deflate-raw"),[4,i.pipeThrough(o).pipeTo(r)];case 1:return a.sent(),[2,{size:t,content:new Blob(e)}]}})})},yMe=function(n){return Tq(void 0,void 0,void 0,function(){var t,e,r,i,o,a;return Pq(this,function(s){switch(s.label){case 0:return t=new Blob([n]),[4,gMe(t)];case 1:return e=s.sent(),r=e.size,i=e.content,a=Uint8Array.bind,[4,i.arrayBuffer()];case 2:return o=new(a.apply(Uint8Array,[void 0,s.sent()])),[2,{size:r,content:o}]}})})},Eg=function(){return Eg=Object.assign||function(n){for(var t,e=1,r=arguments.length;e<r;e++){t=arguments[e];for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(n[i]=t[i])}return n},Eg.apply(this,arguments)},mMe=function(n,t,e,r){function i(o){return o instanceof e?o:new e(function(a){a(o)})}return new(e||(e=Promise))(function(o,a){function s(c){try{u(r.next(c))}catch(d){a(d)}}function l(c){try{u(r.throw(c))}catch(d){a(d)}}function u(c){c.done?o(c.value):i(c.value).then(s,l)}u((r=r.apply(n,t||[])).next())})},CMe=function(n,t){var e={label:0,sent:function(){if(o[0]&1)throw o[1];return o[1]},trys:[],ops:[]},r,i,o,a;return a={next:s(0),throw:s(1),return:s(2)},typeof Symbol=="function"&&(a[Symbol.iterator]=function(){return this}),a;function s(u){return function(c){return l([u,c])}}function l(u){if(r)throw new TypeError("Generator is already executing.");for(;e;)try{if(r=1,i&&(o=u[0]&2?i.return:u[0]?i.throw||((o=i.return)&&o.call(i),0):i.next)&&!(o=o.call(i,u[1])).done)return o;switch(i=0,o&&(u=[u[0]&2,o.value]),u[0]){case 0:case 1:o=u;break;case 4:return e.label++,{value:u[1],done:!1};case 5:e.label++,i=u[1],u=[0];continue;case 7:u=e.ops.pop(),e.trys.pop();continue;default:if(o=e.trys,!(o=o.length>0&&o[o.length-1])&&(u[0]===6||u[0]===2)){e=0;continue}if(u[0]===3&&(!o||u[1]>o[0]&&u[1]<o[3])){e.label=u[1];break}if(u[0]===6&&e.label<o[1]){e.label=o[1],o=u;break}if(o&&e.label<o[2]){e.label=o[2],e.ops.push(u);break}o[2]&&e.ops.pop(),e.trys.pop();continue}u=t.call(n,e)}catch(c){u=[6,c],i=0}finally{r=o=0}if(u[0]&5)throw u[1];return{value:u[0]?u[1]:void 0,done:!0}}},SMe=D.utf8_encode,wMe=function(n,t){return mMe(void 0,void 0,void 0,function(){var e,r,i,o,a,s,l,u,c,d;return CMe(this,function(p){switch(p.label){case 0:return e=n.content,r=e?Dq(e):{size:0,content:Uint8Array.from([])},i=r.size,o=r.content,a=void 0,s=void 0,l=!1,u=n.type==="file"&&o&&i>0,u?[4,yMe(o)]:[3,2];case 1:c=p.sent(),a=c.content,s=c.size,l=!0,p.label=2;case 2:return d=Aq(n,l,t,i,o,s),[2,Eg(Eg({},d),{content:a||o,isCompressed:l})]}})})},_Me=function(n,t){var e=n.content,r=(e?Dq(e):{content:Uint8Array.from([])}).content,i=Aq(n,!1,t,r.length,r,void 0);return Eg(Eg({},i),{content:r,isCompressed:!1})},Aq=function(n,t,e,r,i,o){var a=n.content,s=n.path,l=n.created,u=hMe(l),c=fMe(l),d=vW(i),p=o!==void 0?o:r,h=SMe(s),f=h!==s,v="";if(f){var g=ai(1,1)+ai(vW(h),4)+h;v="up"+ai(g.length,2)+g}var y="\0"+(f?"\0\b":"\0\0")+ai(t?8:0,2)+ai(u,2)+ai(c,2)+ai(p?d:0,4)+ai(o??r,4)+ai(r,4)+ai(h.length,2)+ai(v.length,2),m="PK"+y+h+v,C="PK\0"+y+"\0\0\0\0\0\0"+(a?"\0\0\0\0":"\0\0\0")+ai(e,4)+h+v;return{localFileHeader:Uint8Array.from(m,function(S){return S.charCodeAt(0)}),centralDirectoryHeader:Uint8Array.from(C,function(S){return S.charCodeAt(0)})}},xMe=function(n,t,e){var r="PK\0\0\0\0"+ai(n,2)+ai(n,2)+ai(t,4)+ai(e,4)+"\0\0";return Uint8Array.from(r,function(i){return i.charCodeAt(0)})},EMe=function(n){for(var t=new Uint8Array(n.length),e=0;e<n.length;e++)t[e]=n.charCodeAt(e);return t},Dq=function(n){var t;if(typeof n=="string"){var e=atob(n.split(";base64,")[1]);t=EMe(e)}else t=n;return{size:t.length,content:t}},gW=function(n,t,e,r){function i(o){return o instanceof e?o:new e(function(a){a(o)})}return new(e||(e=Promise))(function(o,a){function s(c){try{u(r.next(c))}catch(d){a(d)}}function l(c){try{u(r.throw(c))}catch(d){a(d)}}function u(c){c.done?o(c.value):i(c.value).then(s,l)}u((r=r.apply(n,t||[])).next())})},yW=function(n,t){var e={label:0,sent:function(){if(o[0]&1)throw o[1];return o[1]},trys:[],ops:[]},r,i,o,a;return a={next:s(0),throw:s(1),return:s(2)},typeof Symbol=="function"&&(a[Symbol.iterator]=function(){return this}),a;function s(u){return function(c){return l([u,c])}}function l(u){if(r)throw new TypeError("Generator is already executing.");for(;e;)try{if(r=1,i&&(o=u[0]&2?i.return:u[0]?i.throw||((o=i.return)&&o.call(i),0):i.next)&&!(o=o.call(i,u[1])).done)return o;switch(i=0,o&&(u=[u[0]&2,o.value]),u[0]){case 0:case 1:o=u;break;case 4:return e.label++,{value:u[1],done:!1};case 5:e.label++,i=u[1],u=[0];continue;case 7:u=e.ops.pop(),e.trys.pop();continue;default:if(o=e.trys,!(o=o.length>0&&o[o.length-1])&&(u[0]===6||u[0]===2)){e=0;continue}if(u[0]===3&&(!o||u[1]>o[0]&&u[1]<o[3])){e.label=u[1];break}if(u[0]===6&&e.label<o[1]){e.label=o[1],o=u;break}if(o&&e.label<o[2]){e.label=o[2],e.ops.push(u);break}o[2]&&e.ops.pop(),e.trys.pop();continue}u=t.call(n,e)}catch(c){u=[6,c],i=0}finally{r=o=0}if(u[0]&5)throw u[1];return{value:u[0]?u[1]:void 0,done:!0}}},RD=function(n){var t=typeof Symbol=="function"&&Symbol.iterator,e=t&&n[t],r=0;if(e)return e.call(n);if(n&&typeof n.length=="number")return{next:function(){return n&&r>=n.length&&(n=void 0),{value:n&&n[r++],done:!n}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")},D_=function(n,t){var e=typeof Symbol=="function"&&n[Symbol.iterator];if(!e)return n;var r=e.call(n),i,o=[],a;try{for(;(t===void 0||t-- >0)&&!(i=r.next()).done;)o.push(i.value)}catch(s){a={error:s}}finally{try{i&&!i.done&&(e=r.return)&&e.call(r)}finally{if(a)throw a.error}}return o},M_=function(n,t,e){if(e||arguments.length===2)for(var r=0,i=t.length,o;r<i;r++)(o||!(r in t))&&(o||(o=Array.prototype.slice.call(t,0,r)),o[r]=t[r]);return n.concat(o||Array.prototype.slice.call(t))},Tn=function(){function n(){}return n.addFolders=function(t){t.forEach(this.addFolder.bind(this))},n.addFolder=function(t){this.folders.push({path:t,created:new Date,isBase64:!1,type:"folder"})},n.addFile=function(t,e,r){r===void 0&&(r=!1),this.files.push({path:t,created:new Date,content:r?e:new TextEncoder().encode(e),isBase64:r,type:"file"})},n.getZipFile=function(t){return t===void 0&&(t="application/zip"),gW(this,void 0,void 0,function(){var e;return yW(this,function(r){switch(r.label){case 0:return[4,this.buildCompressedFileStream()];case 1:return e=r.sent(),this.clearStream(),[2,new Blob([e],{type:t})]}})})},n.getUncompressedZipFile=function(t){t===void 0&&(t="application/zip");var e=this.buildFileStream();return this.clearStream(),new Blob([e],{type:t})},n.clearStream=function(){this.folders=[],this.files=[]},n.packageFiles=function(t){var e,r,i=new Uint8Array(0),o=new Uint8Array(0),a=0,s=0;try{for(var l=RD(t),u=l.next();!u.done;u=l.next()){var c=u.value,d=c.localFileHeader,p=c.centralDirectoryHeader,h=c.content,f=new Uint8Array(i.length+d.length);f.set(i),f.set(d,i.length),i=f;var v=new Uint8Array(i.length+h.length);v.set(i),v.set(h,i.length),i=v;var g=new Uint8Array(o.length+p.length);g.set(o),g.set(p,o.length),o=g,a+=d.length+h.length,s+=p.length}}catch(C){e={error:C}}finally{try{u&&!u.done&&(r=l.return)&&r.call(l)}finally{if(e)throw e.error}}var y=xMe(t.length,s,a),m=new Uint8Array(i.length+o.length+y.length);return m.set(i),m.set(o,i.length),m.set(y,i.length+o.length),m},n.buildCompressedFileStream=function(){return gW(this,void 0,void 0,function(){var t,e,r,i,o,a,s,l,u,c,d,p;return yW(this,function(h){switch(h.label){case 0:t=M_(M_([],D_(this.folders),!1),D_(this.files),!1),e=[],r=0,h.label=1;case 1:h.trys.push([1,6,7,8]),i=RD(t),o=i.next(),h.label=2;case 2:return o.done?[3,5]:(a=o.value,[4,wMe(a,r)]);case 3:s=h.sent(),l=s.localFileHeader,u=s.content,e.push(s),r+=l.length+u.length,h.label=4;case 4:return o=i.next(),[3,2];case 5:return[3,8];case 6:return c=h.sent(),d={error:c},[3,8];case 7:try{o&&!o.done&&(p=i.return)&&p.call(i)}finally{if(d)throw d.error}return[7];case 8:return[2,this.packageFiles(e)]}})})},n.buildFileStream=function(){var t,e,r=M_(M_([],D_(this.folders),!1),D_(this.files),!1),i=[],o=0;try{for(var a=RD(r),s=a.next();!s.done;s=a.next()){var l=s.value,u=_Me(l,o),c=u.localFileHeader,d=u.content;i.push(u),o+=c.length+d.length}}catch(p){t={error:p}}finally{try{s&&!s.done&&(e=a.return)&&e.call(a)}finally{if(t)throw t.error}}return this.packageFiles(i)},n.folders=[],n.files=[],n}(),Mq=[Oq,Rq,IT];ke.registerModules(Mq);const bMe=Object.freeze(Object.defineProperty({__proto__:null,AbstractHeaderCellCtrl:Bw,AgAbstractField:yG,AgAbstractLabel:bT,AgAutocomplete:gv,AgCheckbox:Lu,AgDialog:zh,AgGroupComponent:Na,AgInputDateField:LG,AgInputNumberField:Gw,AgInputRange:QX,AgInputTextArea:ZX,AgInputTextField:tu,AgMenuItemComponent:ka,AgMenuItemRenderer:_G,AgMenuList:jw,AgMenuPanel:JX,AgPanel:IG,AgPickerField:OT,AgPromise:Qe,get AgPromiseStatus(){return hh},AgRadioButton:RT,AgRichSelect:Hw,AgSelect:ql,AgSlider:Wo,AgStackComponentsRegistry:tY,AgToggleButton:MT,AlignedGridsService:nq,AllCommunityModules:Mq,AnimateShowChangeCellRenderer:eX,AnimateSlideCellRenderer:tX,AnimationFrameService:$X,AutoScrollService:Vw,AutoWidthCalculator:UX,Autowired:E,get BarColumnLabelPlacement(){return kL},BaseComponentWrapper:NDe,BaseCreator:VG,BaseGridSerializingSession:BG,Bean:ae,BeanStub:q,Beans:RG,BodyDropPivotTarget:TX,BodyDropTarget:AX,CHART_TOOLBAR_ALLOW_LIST:NL,CHART_TOOL_PANEL_ALLOW_LIST:tE,CHART_TOOL_PANEL_MENU_OPTIONS:AC,CellComp:OX,CellCtrl:Iu,CellNavigationService:rq,CellPositionUtils:gq,get CellRangeType(){return ro},ChangedPath:Bg,CheckboxCellEditor:lX,CheckboxCellRenderer:sX,CheckboxSelectionComponent:wG,ClientSideRowModelModule:Oq,get ClientSideRowModelSteps(){return dt},ColDefUtil:pX,Column:Je,ColumnApi:$w,ColumnFactory:X7,ColumnGroup:Vr,ColumnKeyCreator:L7,ColumnModel:Q7,ColumnUtils:J7,Component:de,ComponentUtil:Hk,Context:G7,CssClassApplier:Jd,CssClassManager:LY,CsvCreator:HG,CsvExportModule:IT,CtrlsService:Cq,CustomTooltipFeature:gG,DEFAULT_CHART_GROUPS:bq,DataTypeService:_q,DateCellEditor:oX,DateFilter:CG,DateStringCellEditor:aX,DisplayedGroupCreator:eY,Downloader:LT,DragAndDropService:Ct,DragService:hX,get DragSourceType(){return Sr},Environment:hq,EventService:Hs,Events:P,get ExcelFactoryMode(){return Wh},ExpansionService:MG,ExpressionService:aq,FilterManager:vX,FloatingFilterMapper:cX,FocusService:dq,GROUP_AUTO_COLUMN_ID:Qu,Grid:LDe,GridApi:EG,GridBodyComp:wX,GridBodyCtrl:mX,GridComp:NG,GridCoreCreator:GG,GridCtrl:uq,GridHeaderComp:GX,GridHeaderCtrl:kX,GridOptionsService:kG,GridSerializer:jG,GroupCellRenderer:DL,GroupCellRendererCtrl:nX,GroupInstanceIdCreator:Bk,HeaderCellCtrl:FX,HeaderFilterCellComp:gX,HeaderFilterCellCtrl:MX,HeaderGroupCellCtrl:LX,get HeaderNavigationDirection(){return Cs},HeaderNavigationService:NX,HeaderPositionUtils:yq,HeaderRowComp:DX,HeaderRowContainerComp:eE,HeaderRowContainerCtrl:IX,HeaderRowCtrl:Jx,get HeaderRowType(){return An},get HorizontalDirection(){return so},HorizontalResizeService:VX,InfiniteRowModelModule:Rq,KeyCode:U,LargeTextCellEditor:QY,get LayoutCssClasses(){return Hr},LocaleService:wq,Logger:FT,LoggerFactory:lq,ManagedFocusFeature:eu,MenuService:WX,get ModuleNames(){return fe},ModuleRegistry:ke,MouseEventService:xX,MoveColumnFeature:PX,NavigationService:EX,NumberCellEditor:iX,NumberFilter:SG,NumberSequence:Kn,Optional:qe,PaginationProxy:XX,PinnedRowModel:YX,PopupComponent:dc,PopupEditorWrapper:bX,PopupService:eq,PositionableFeature:kw,PostConstruct:z,PreConstruct:Hh,PreDestroy:rr,PropertyKeys:gs,ProvidedColumnGroup:Pt,ProvidedFilter:Vd,Qualifier:Jo,QuerySelector:IEe,RefSelector:$,ResizeObserverService:jX,get RowAnimationCssClasses(){return Uh},RowContainerComp:RX,RowContainerCtrl:PG,get RowContainerName(){return ne},get RowContainerType(){return qr},RowCtrl:Td,get RowHighlightPosition(){return Wl},RowNode:Ue,RowNodeBlock:xl,RowNodeBlockLoader:FG,RowNodeSorter:mq,RowPositionUtils:vq,RowRenderer:zX,get RowType(){return Pd},ScalarFilter:Gr,ScrollVisibleService:_X,SelectCellEditor:JY,SelectableService:fq,get SelectionHandleType(){return ec},get ServerSideTransactionResultStatus(){return Wn},SetLeftFeature:DT,SimpleFilter:hr,SortController:cq,SortIndicatorComp:TT,StandardMenuFactory:BX,StylingService:qX,get TabGuardClassNames(){return Th},TabGuardComp:pc,TabGuardCtrl:HX,TabbedLayout:DG,TemplateService:sq,TextCellEditor:AL,TextFilter:xg,TextFloatingFilter:ZY,Timer:DEe,TooltipFeature:Ma,TouchListener:jr,UserComponentFactory:dX,UserComponentRegistry:uX,ValueCache:pq,ValueFormatterService:KX,ValueParserService:xq,ValueService:oq,VanillaFrameworkOverrides:tq,get VerticalDirection(){return $h},VirtualList:nf,VirtualListDragFeature:xG,XmlFactory:GL,ZipContainer:Tn,_:D,__FORCE_MODULE_DETECTION:kDe,createGrid:Eq,getRowContainerTypeForName:SX},Symbol.toStringTag,{value:"Module"})),xn=Jl(bMe);var NT={},Pi={},$G={},of={};Object.defineProperty(of,"__esModule",{value:!0});of.CustomContext=void 0;var OMe=I;of.CustomContext=OMe.createContext({setMethods:function(){}});var VL=X&&X.__assign||function(){return VL=Object.assign||function(n){for(var t,e=1,r=arguments.length;e<r;e++){t=arguments[e];for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(n[i]=t[i])}return n},VL.apply(this,arguments)},RMe=X&&X.__createBinding||(Object.create?function(n,t,e,r){r===void 0&&(r=e),Object.defineProperty(n,r,{enumerable:!0,get:function(){return t[e]}})}:function(n,t,e,r){r===void 0&&(r=e),n[r]=t[e]}),TMe=X&&X.__setModuleDefault||(Object.create?function(n,t){Object.defineProperty(n,"default",{enumerable:!0,value:t})}:function(n,t){n.default=t}),PMe=X&&X.__importStar||function(n){if(n&&n.__esModule)return n;var t={};if(n!=null)for(var e in n)e!=="default"&&Object.prototype.hasOwnProperty.call(n,e)&&RMe(t,n,e);return TMe(t,n),t};Object.defineProperty($G,"__esModule",{value:!0});var Nm=PMe(I),AMe=of,DMe=function(n){var t=n.initialProps,e=n.addUpdateCallback,r=n.CustomComponentClass,i=n.setMethods,o=Nm.useState(t),a=o[0],s=o[1];return Nm.useEffect(function(){e(function(l){return s(l)})},[]),Nm.default.createElement(AMe.CustomContext.Provider,{value:{setMethods:i}},Nm.default.createElement(r,VL({},a)))};$G.default=Nm.memo(DMe);var Ww={},WG={};Object.defineProperty(WG,"__esModule",{value:!0});var MMe=0;function FMe(){return"agPortalKey_"+ ++MMe}WG.default=FMe;var af={},jg={};/**
 * @license React
 * react-dom-server-legacy.browser.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Fq=I;function ot(n){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+n,e=1;e<arguments.length;e++)t+="&args[]="+encodeURIComponent(arguments[e]);return"Minified React error #"+n+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var Xi=Object.prototype.hasOwnProperty,LMe=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,mW={},CW={};function Lq(n){return Xi.call(CW,n)?!0:Xi.call(mW,n)?!1:LMe.test(n)?CW[n]=!0:(mW[n]=!0,!1)}function Mi(n,t,e,r,i,o,a){this.acceptsBooleans=t===2||t===3||t===4,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=e,this.propertyName=n,this.type=t,this.sanitizeURL=o,this.removeEmptyString=a}var Zn={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(n){Zn[n]=new Mi(n,0,!1,n,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(n){var t=n[0];Zn[t]=new Mi(t,1,!1,n[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(n){Zn[n]=new Mi(n,2,!1,n.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(n){Zn[n]=new Mi(n,2,!1,n,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(n){Zn[n]=new Mi(n,3,!1,n.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(n){Zn[n]=new Mi(n,3,!0,n,null,!1,!1)});["capture","download"].forEach(function(n){Zn[n]=new Mi(n,4,!1,n,null,!1,!1)});["cols","rows","size","span"].forEach(function(n){Zn[n]=new Mi(n,6,!1,n,null,!1,!1)});["rowSpan","start"].forEach(function(n){Zn[n]=new Mi(n,5,!1,n.toLowerCase(),null,!1,!1)});var UG=/[\-:]([a-z])/g;function zG(n){return n[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(n){var t=n.replace(UG,zG);Zn[t]=new Mi(t,1,!1,n,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(n){var t=n.replace(UG,zG);Zn[t]=new Mi(t,1,!1,n,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(n){var t=n.replace(UG,zG);Zn[t]=new Mi(t,1,!1,n,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(n){Zn[n]=new Mi(n,1,!1,n.toLowerCase(),null,!1,!1)});Zn.xlinkHref=new Mi("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(n){Zn[n]=new Mi(n,1,!1,n.toLowerCase(),null,!0,!0)});var rE={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},IMe=["Webkit","ms","Moz","O"];Object.keys(rE).forEach(function(n){IMe.forEach(function(t){t=t+n.charAt(0).toUpperCase()+n.substring(1),rE[t]=rE[n]})});var NMe=/["'&<>]/;function xi(n){if(typeof n=="boolean"||typeof n=="number")return""+n;n=""+n;var t=NMe.exec(n);if(t){var e="",r,i=0;for(r=t.index;r<n.length;r++){switch(n.charCodeAt(r)){case 34:t="&quot;";break;case 38:t="&amp;";break;case 39:t="&#x27;";break;case 60:t="&lt;";break;case 62:t="&gt;";break;default:continue}i!==r&&(e+=n.substring(i,r)),i=r+1,e+=t}n=i!==r?e+n.substring(i,r):e}return n}var kMe=/([A-Z])/g,GMe=/^ms-/,BL=Array.isArray;function pu(n,t){return{insertionMode:n,selectedValue:t}}function VMe(n,t,e){switch(t){case"select":return pu(1,e.value!=null?e.value:e.defaultValue);case"svg":return pu(2,null);case"math":return pu(3,null);case"foreignObject":return pu(1,null);case"table":return pu(4,null);case"thead":case"tbody":case"tfoot":return pu(5,null);case"colgroup":return pu(7,null);case"tr":return pu(6,null)}return 4<=n.insertionMode||n.insertionMode===0?pu(1,null):n}var SW=new Map;function Iq(n,t,e){if(typeof e!="object")throw Error(ot(62));t=!0;for(var r in e)if(Xi.call(e,r)){var i=e[r];if(i!=null&&typeof i!="boolean"&&i!==""){if(r.indexOf("--")===0){var o=xi(r);i=xi((""+i).trim())}else{o=r;var a=SW.get(o);a!==void 0||(a=xi(o.replace(kMe,"-$1").toLowerCase().replace(GMe,"-ms-")),SW.set(o,a)),o=a,i=typeof i=="number"?i===0||Xi.call(rE,r)?""+i:i+"px":xi((""+i).trim())}t?(t=!1,n.push(' style="',o,":",i)):n.push(";",o,":",i)}}t||n.push('"')}function Fo(n,t,e,r){switch(e){case"style":Iq(n,t,r);return;case"defaultValue":case"defaultChecked":case"innerHTML":case"suppressContentEditableWarning":case"suppressHydrationWarning":return}if(!(2<e.length)||e[0]!=="o"&&e[0]!=="O"||e[1]!=="n"&&e[1]!=="N"){if(t=Zn.hasOwnProperty(e)?Zn[e]:null,t!==null){switch(typeof r){case"function":case"symbol":return;case"boolean":if(!t.acceptsBooleans)return}switch(e=t.attributeName,t.type){case 3:r&&n.push(" ",e,'=""');break;case 4:r===!0?n.push(" ",e,'=""'):r!==!1&&n.push(" ",e,'="',xi(r),'"');break;case 5:isNaN(r)||n.push(" ",e,'="',xi(r),'"');break;case 6:!isNaN(r)&&1<=r&&n.push(" ",e,'="',xi(r),'"');break;default:t.sanitizeURL&&(r=""+r),n.push(" ",e,'="',xi(r),'"')}}else if(Lq(e)){switch(typeof r){case"function":case"symbol":return;case"boolean":if(t=e.toLowerCase().slice(0,5),t!=="data-"&&t!=="aria-")return}n.push(" ",e,'="',xi(r),'"')}}}function nE(n,t,e){if(t!=null){if(e!=null)throw Error(ot(60));if(typeof t!="object"||!("__html"in t))throw Error(ot(61));t=t.__html,t!=null&&n.push(""+t)}}function BMe(n){var t="";return Fq.Children.forEach(n,function(e){e!=null&&(t+=e)}),t}function TD(n,t,e,r){n.push(cl(e));var i=e=null,o;for(o in t)if(Xi.call(t,o)){var a=t[o];if(a!=null)switch(o){case"children":e=a;break;case"dangerouslySetInnerHTML":i=a;break;default:Fo(n,r,o,a)}}return n.push(">"),nE(n,i,e),typeof e=="string"?(n.push(xi(e)),null):e}var HMe=/^[a-zA-Z][a-zA-Z:_\.\-\d]*$/,wW=new Map;function cl(n){var t=wW.get(n);if(t===void 0){if(!HMe.test(n))throw Error(ot(65,n));t="<"+n,wW.set(n,t)}return t}function jMe(n,t,e,r,i){switch(t){case"select":n.push(cl("select"));var o=null,a=null;for(c in e)if(Xi.call(e,c)){var s=e[c];if(s!=null)switch(c){case"children":o=s;break;case"dangerouslySetInnerHTML":a=s;break;case"defaultValue":case"value":break;default:Fo(n,r,c,s)}}return n.push(">"),nE(n,a,o),o;case"option":a=i.selectedValue,n.push(cl("option"));var l=s=null,u=null,c=null;for(o in e)if(Xi.call(e,o)){var d=e[o];if(d!=null)switch(o){case"children":s=d;break;case"selected":u=d;break;case"dangerouslySetInnerHTML":c=d;break;case"value":l=d;default:Fo(n,r,o,d)}}if(a!=null)if(e=l!==null?""+l:BMe(s),BL(a)){for(r=0;r<a.length;r++)if(""+a[r]===e){n.push(' selected=""');break}}else""+a===e&&n.push(' selected=""');else u&&n.push(' selected=""');return n.push(">"),nE(n,c,s),s;case"textarea":n.push(cl("textarea")),c=a=o=null;for(s in e)if(Xi.call(e,s)&&(l=e[s],l!=null))switch(s){case"children":c=l;break;case"value":o=l;break;case"defaultValue":a=l;break;case"dangerouslySetInnerHTML":throw Error(ot(91));default:Fo(n,r,s,l)}if(o===null&&a!==null&&(o=a),n.push(">"),c!=null){if(o!=null)throw Error(ot(92));if(BL(c)&&1<c.length)throw Error(ot(93));o=""+c}return typeof o=="string"&&o[0]===`
`&&n.push(`
`),o!==null&&n.push(xi(""+o)),null;case"input":n.push(cl("input")),l=c=s=o=null;for(a in e)if(Xi.call(e,a)&&(u=e[a],u!=null))switch(a){case"children":case"dangerouslySetInnerHTML":throw Error(ot(399,"input"));case"defaultChecked":l=u;break;case"defaultValue":s=u;break;case"checked":c=u;break;case"value":o=u;break;default:Fo(n,r,a,u)}return c!==null?Fo(n,r,"checked",c):l!==null&&Fo(n,r,"checked",l),o!==null?Fo(n,r,"value",o):s!==null&&Fo(n,r,"value",s),n.push("/>"),null;case"menuitem":n.push(cl("menuitem"));for(var p in e)if(Xi.call(e,p)&&(o=e[p],o!=null))switch(p){case"children":case"dangerouslySetInnerHTML":throw Error(ot(400));default:Fo(n,r,p,o)}return n.push(">"),null;case"title":n.push(cl("title")),o=null;for(d in e)if(Xi.call(e,d)&&(a=e[d],a!=null))switch(d){case"children":o=a;break;case"dangerouslySetInnerHTML":throw Error(ot(434));default:Fo(n,r,d,a)}return n.push(">"),o;case"listing":case"pre":n.push(cl(t)),a=o=null;for(l in e)if(Xi.call(e,l)&&(s=e[l],s!=null))switch(l){case"children":o=s;break;case"dangerouslySetInnerHTML":a=s;break;default:Fo(n,r,l,s)}if(n.push(">"),a!=null){if(o!=null)throw Error(ot(60));if(typeof a!="object"||!("__html"in a))throw Error(ot(61));e=a.__html,e!=null&&(typeof e=="string"&&0<e.length&&e[0]===`
`?n.push(`
`,e):n.push(""+e))}return typeof o=="string"&&o[0]===`
`&&n.push(`
`),o;case"area":case"base":case"br":case"col":case"embed":case"hr":case"img":case"keygen":case"link":case"meta":case"param":case"source":case"track":case"wbr":n.push(cl(t));for(var h in e)if(Xi.call(e,h)&&(o=e[h],o!=null))switch(h){case"children":case"dangerouslySetInnerHTML":throw Error(ot(399,t));default:Fo(n,r,h,o)}return n.push("/>"),null;case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return TD(n,e,t,r);case"html":return i.insertionMode===0&&n.push("<!DOCTYPE html>"),TD(n,e,t,r);default:if(t.indexOf("-")===-1&&typeof e.is!="string")return TD(n,e,t,r);n.push(cl(t)),a=o=null;for(u in e)if(Xi.call(e,u)&&(s=e[u],s!=null))switch(u){case"children":o=s;break;case"dangerouslySetInnerHTML":a=s;break;case"style":Iq(n,r,s);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":break;default:Lq(u)&&typeof s!="function"&&typeof s!="symbol"&&n.push(" ",u,'="',xi(s),'"')}return n.push(">"),nE(n,a,o),o}}function _W(n,t,e){if(n.push('<!--$?--><template id="'),e===null)throw Error(ot(395));return n.push(e),n.push('"></template>')}function $Me(n,t,e,r){switch(e.insertionMode){case 0:case 1:return n.push('<div hidden id="'),n.push(t.segmentPrefix),t=r.toString(16),n.push(t),n.push('">');case 2:return n.push('<svg aria-hidden="true" style="display:none" id="'),n.push(t.segmentPrefix),t=r.toString(16),n.push(t),n.push('">');case 3:return n.push('<math aria-hidden="true" style="display:none" id="'),n.push(t.segmentPrefix),t=r.toString(16),n.push(t),n.push('">');case 4:return n.push('<table hidden id="'),n.push(t.segmentPrefix),t=r.toString(16),n.push(t),n.push('">');case 5:return n.push('<table hidden><tbody id="'),n.push(t.segmentPrefix),t=r.toString(16),n.push(t),n.push('">');case 6:return n.push('<table hidden><tr id="'),n.push(t.segmentPrefix),t=r.toString(16),n.push(t),n.push('">');case 7:return n.push('<table hidden><colgroup id="'),n.push(t.segmentPrefix),t=r.toString(16),n.push(t),n.push('">');default:throw Error(ot(397))}}function WMe(n,t){switch(t.insertionMode){case 0:case 1:return n.push("</div>");case 2:return n.push("</svg>");case 3:return n.push("</math>");case 4:return n.push("</table>");case 5:return n.push("</tbody></table>");case 6:return n.push("</tr></table>");case 7:return n.push("</colgroup></table>");default:throw Error(ot(397))}}var UMe=/[<\u2028\u2029]/g;function PD(n){return JSON.stringify(n).replace(UMe,function(t){switch(t){case"<":return"\\u003c";case"\u2028":return"\\u2028";case"\u2029":return"\\u2029";default:throw Error("escapeJSStringsForInstructionScripts encountered a match it does not know how to replace. this means the match regex and the replacement characters are no longer in sync. This is a bug in React")}})}function zMe(n,t){return t=t===void 0?"":t,{bootstrapChunks:[],startInlineScript:"<script>",placeholderPrefix:t+"P:",segmentPrefix:t+"S:",boundaryPrefix:t+"B:",idPrefix:t,nextSuspenseID:0,sentCompleteSegmentFunction:!1,sentCompleteBoundaryFunction:!1,sentClientRenderFunction:!1,generateStaticMarkup:n}}function xW(n,t,e,r){return e.generateStaticMarkup?(n.push(xi(t)),!1):(t===""?n=r:(r&&n.push("<!-- -->"),n.push(xi(t)),n=!0),n)}var DC=Object.assign,KMe=Symbol.for("react.element"),Nq=Symbol.for("react.portal"),kq=Symbol.for("react.fragment"),Gq=Symbol.for("react.strict_mode"),Vq=Symbol.for("react.profiler"),Bq=Symbol.for("react.provider"),Hq=Symbol.for("react.context"),jq=Symbol.for("react.forward_ref"),$q=Symbol.for("react.suspense"),Wq=Symbol.for("react.suspense_list"),Uq=Symbol.for("react.memo"),KG=Symbol.for("react.lazy"),YMe=Symbol.for("react.scope"),XMe=Symbol.for("react.debug_trace_mode"),qMe=Symbol.for("react.legacy_hidden"),ZMe=Symbol.for("react.default_value"),EW=Symbol.iterator;function HL(n){if(n==null)return null;if(typeof n=="function")return n.displayName||n.name||null;if(typeof n=="string")return n;switch(n){case kq:return"Fragment";case Nq:return"Portal";case Vq:return"Profiler";case Gq:return"StrictMode";case $q:return"Suspense";case Wq:return"SuspenseList"}if(typeof n=="object")switch(n.$$typeof){case Hq:return(n.displayName||"Context")+".Consumer";case Bq:return(n._context.displayName||"Context")+".Provider";case jq:var t=n.render;return n=n.displayName,n||(n=t.displayName||t.name||"",n=n!==""?"ForwardRef("+n+")":"ForwardRef"),n;case Uq:return t=n.displayName||null,t!==null?t:HL(n.type)||"Memo";case KG:t=n._payload,n=n._init;try{return HL(n(t))}catch{}}return null}var zq={};function bW(n,t){if(n=n.contextTypes,!n)return zq;var e={},r;for(r in n)e[r]=t[r];return e}var vh=null;function kT(n,t){if(n!==t){n.context._currentValue2=n.parentValue,n=n.parent;var e=t.parent;if(n===null){if(e!==null)throw Error(ot(401))}else{if(e===null)throw Error(ot(401));kT(n,e)}t.context._currentValue2=t.value}}function Kq(n){n.context._currentValue2=n.parentValue,n=n.parent,n!==null&&Kq(n)}function Yq(n){var t=n.parent;t!==null&&Yq(t),n.context._currentValue2=n.value}function Xq(n,t){if(n.context._currentValue2=n.parentValue,n=n.parent,n===null)throw Error(ot(402));n.depth===t.depth?kT(n,t):Xq(n,t)}function qq(n,t){var e=t.parent;if(e===null)throw Error(ot(402));n.depth===e.depth?kT(n,e):qq(n,e),t.context._currentValue2=t.value}function Xb(n){var t=vh;t!==n&&(t===null?Yq(n):n===null?Kq(t):t.depth===n.depth?kT(t,n):t.depth>n.depth?Xq(t,n):qq(t,n),vh=n)}var OW={isMounted:function(){return!1},enqueueSetState:function(n,t){n=n._reactInternals,n.queue!==null&&n.queue.push(t)},enqueueReplaceState:function(n,t){n=n._reactInternals,n.replace=!0,n.queue=[t]},enqueueForceUpdate:function(){}};function RW(n,t,e,r){var i=n.state!==void 0?n.state:null;n.updater=OW,n.props=e,n.state=i;var o={queue:[],replace:!1};n._reactInternals=o;var a=t.contextType;if(n.context=typeof a=="object"&&a!==null?a._currentValue2:r,a=t.getDerivedStateFromProps,typeof a=="function"&&(a=a(e,i),i=a==null?i:DC({},i,a),n.state=i),typeof t.getDerivedStateFromProps!="function"&&typeof n.getSnapshotBeforeUpdate!="function"&&(typeof n.UNSAFE_componentWillMount=="function"||typeof n.componentWillMount=="function"))if(t=n.state,typeof n.componentWillMount=="function"&&n.componentWillMount(),typeof n.UNSAFE_componentWillMount=="function"&&n.UNSAFE_componentWillMount(),t!==n.state&&OW.enqueueReplaceState(n,n.state,null),o.queue!==null&&0<o.queue.length)if(t=o.queue,a=o.replace,o.queue=null,o.replace=!1,a&&t.length===1)n.state=t[0];else{for(o=a?t[0]:n.state,i=!0,a=a?1:0;a<t.length;a++){var s=t[a];s=typeof s=="function"?s.call(n,o,e,r):s,s!=null&&(i?(i=!1,o=DC({},o,s)):DC(o,s))}n.state=o}else o.queue=null}var QMe={id:1,overflow:""};function jL(n,t,e){var r=n.id;n=n.overflow;var i=32-iE(r)-1;r&=~(1<<i),e+=1;var o=32-iE(t)+i;if(30<o){var a=i-i%5;return o=(r&(1<<a)-1).toString(32),r>>=a,i-=a,{id:1<<32-iE(t)+i|e<<i|r,overflow:o+n}}return{id:1<<o|e<<i|r,overflow:n}}var iE=Math.clz32?Math.clz32:tFe,JMe=Math.log,eFe=Math.LN2;function tFe(n){return n>>>=0,n===0?32:31-(JMe(n)/eFe|0)|0}function rFe(n,t){return n===t&&(n!==0||1/n===1/t)||n!==n&&t!==t}var nFe=typeof Object.is=="function"?Object.is:rFe,tc=null,YG=null,oE=null,lr=null,km=!1,qb=!1,NS=0,pd=null,GT=0;function Qp(){if(tc===null)throw Error(ot(321));return tc}function TW(){if(0<GT)throw Error(ot(312));return{memoizedState:null,queue:null,next:null}}function XG(){return lr===null?oE===null?(km=!1,oE=lr=TW()):(km=!0,lr=oE):lr.next===null?(km=!1,lr=lr.next=TW()):(km=!0,lr=lr.next),lr}function qG(){YG=tc=null,qb=!1,oE=null,GT=0,lr=pd=null}function Zq(n,t){return typeof t=="function"?t(n):t}function PW(n,t,e){if(tc=Qp(),lr=XG(),km){var r=lr.queue;if(t=r.dispatch,pd!==null&&(e=pd.get(r),e!==void 0)){pd.delete(r),r=lr.memoizedState;do r=n(r,e.action),e=e.next;while(e!==null);return lr.memoizedState=r,[r,t]}return[lr.memoizedState,t]}return n=n===Zq?typeof t=="function"?t():t:e!==void 0?e(t):t,lr.memoizedState=n,n=lr.queue={last:null,dispatch:null},n=n.dispatch=iFe.bind(null,tc,n),[lr.memoizedState,n]}function AW(n,t){if(tc=Qp(),lr=XG(),t=t===void 0?null:t,lr!==null){var e=lr.memoizedState;if(e!==null&&t!==null){var r=e[1];e:if(r===null)r=!1;else{for(var i=0;i<r.length&&i<t.length;i++)if(!nFe(t[i],r[i])){r=!1;break e}r=!0}if(r)return e[0]}}return n=n(),lr.memoizedState=[n,t],n}function iFe(n,t,e){if(25<=GT)throw Error(ot(301));if(n===tc)if(qb=!0,n={action:e,next:null},pd===null&&(pd=new Map),e=pd.get(t),e===void 0)pd.set(t,n);else{for(t=e;t.next!==null;)t=t.next;t.next=n}}function oFe(){throw Error(ot(394))}function F_(){}var DW={readContext:function(n){return n._currentValue2},useContext:function(n){return Qp(),n._currentValue2},useMemo:AW,useReducer:PW,useRef:function(n){tc=Qp(),lr=XG();var t=lr.memoizedState;return t===null?(n={current:n},lr.memoizedState=n):t},useState:function(n){return PW(Zq,n)},useInsertionEffect:F_,useLayoutEffect:function(){},useCallback:function(n,t){return AW(function(){return n},t)},useImperativeHandle:F_,useEffect:F_,useDebugValue:F_,useDeferredValue:function(n){return Qp(),n},useTransition:function(){return Qp(),[!1,oFe]},useId:function(){var n=YG.treeContext,t=n.overflow;n=n.id,n=(n&~(1<<32-iE(n)-1)).toString(32)+t;var e=aE;if(e===null)throw Error(ot(404));return t=NS++,n=":"+e.idPrefix+"R"+n,0<t&&(n+="H"+t.toString(32)),n+":"},useMutableSource:function(n,t){return Qp(),t(n._source)},useSyncExternalStore:function(n,t,e){if(e===void 0)throw Error(ot(407));return e()}},aE=null,AD=Fq.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentDispatcher;function aFe(n){return console.error(n),null}function Gm(){}function sFe(n,t,e,r,i,o,a,s,l){var u=[],c=new Set;return t={destination:null,responseState:t,progressiveChunkSize:r===void 0?12800:r,status:0,fatalError:null,nextSegmentId:0,allPendingTasks:0,pendingRootTasks:0,completedRootSegment:null,abortableTasks:c,pingedTasks:u,clientRenderedBoundaries:[],completedBoundaries:[],partialBoundaries:[],onError:i===void 0?aFe:i,onAllReady:o===void 0?Gm:o,onShellReady:a===void 0?Gm:a,onShellError:s===void 0?Gm:s,onFatalError:l===void 0?Gm:l},e=Zb(t,0,null,e,!1,!1),e.parentFlushed=!0,n=ZG(t,n,null,e,c,zq,null,QMe),u.push(n),t}function ZG(n,t,e,r,i,o,a,s){n.allPendingTasks++,e===null?n.pendingRootTasks++:e.pendingTasks++;var l={node:t,ping:function(){var u=n.pingedTasks;u.push(l),u.length===1&&eZ(n)},blockedBoundary:e,blockedSegment:r,abortSet:i,legacyContext:o,context:a,treeContext:s};return i.add(l),l}function Zb(n,t,e,r,i,o){return{status:0,id:-1,index:t,parentFlushed:!1,chunks:[],children:[],formatContext:r,boundary:e,lastPushedText:i,textEmbedded:o}}function kS(n,t){if(n=n.onError(t),n!=null&&typeof n!="string")throw Error('onError returned something with a type other than "string". onError should return a string and may return null or undefined but must not return anything else. It received something of type "'+typeof n+'" instead');return n}function Qb(n,t){var e=n.onShellError;e(t),e=n.onFatalError,e(t),n.destination!==null?(n.status=2,n.destination.destroy(t)):(n.status=1,n.fatalError=t)}function MW(n,t,e,r,i){for(tc={},YG=t,NS=0,n=e(r,i);qb;)qb=!1,NS=0,GT+=1,lr=null,n=e(r,i);return qG(),n}function FW(n,t,e,r){var i=e.render(),o=r.childContextTypes;if(o!=null){var a=t.legacyContext;if(typeof e.getChildContext!="function")r=a;else{e=e.getChildContext();for(var s in e)if(!(s in o))throw Error(ot(108,HL(r)||"Unknown",s));r=DC({},a,e)}t.legacyContext=r,Bo(n,t,i),t.legacyContext=a}else Bo(n,t,i)}function LW(n,t){if(n&&n.defaultProps){t=DC({},t),n=n.defaultProps;for(var e in n)t[e]===void 0&&(t[e]=n[e]);return t}return t}function $L(n,t,e,r,i){if(typeof e=="function")if(e.prototype&&e.prototype.isReactComponent){i=bW(e,t.legacyContext);var o=e.contextType;o=new e(r,typeof o=="object"&&o!==null?o._currentValue2:i),RW(o,e,r,i),FW(n,t,o,e)}else{o=bW(e,t.legacyContext),i=MW(n,t,e,r,o);var a=NS!==0;if(typeof i=="object"&&i!==null&&typeof i.render=="function"&&i.$$typeof===void 0)RW(i,e,r,o),FW(n,t,i,e);else if(a){r=t.treeContext,t.treeContext=jL(r,1,0);try{Bo(n,t,i)}finally{t.treeContext=r}}else Bo(n,t,i)}else if(typeof e=="string"){switch(i=t.blockedSegment,o=jMe(i.chunks,e,r,n.responseState,i.formatContext),i.lastPushedText=!1,a=i.formatContext,i.formatContext=VMe(a,e,r),WL(n,t,o),i.formatContext=a,e){case"area":case"base":case"br":case"col":case"embed":case"hr":case"img":case"input":case"keygen":case"link":case"meta":case"param":case"source":case"track":case"wbr":break;default:i.chunks.push("</",e,">")}i.lastPushedText=!1}else{switch(e){case qMe:case XMe:case Gq:case Vq:case kq:Bo(n,t,r.children);return;case Wq:Bo(n,t,r.children);return;case YMe:throw Error(ot(343));case $q:e:{e=t.blockedBoundary,i=t.blockedSegment,o=r.fallback,r=r.children,a=new Set;var s={id:null,rootSegmentID:-1,parentFlushed:!1,pendingTasks:0,forceClientRender:!1,completedSegments:[],byteSize:0,fallbackAbortableTasks:a,errorDigest:null},l=Zb(n,i.chunks.length,s,i.formatContext,!1,!1);i.children.push(l),i.lastPushedText=!1;var u=Zb(n,0,null,i.formatContext,!1,!1);u.parentFlushed=!0,t.blockedBoundary=s,t.blockedSegment=u;try{if(WL(n,t,r),n.responseState.generateStaticMarkup||u.lastPushedText&&u.textEmbedded&&u.chunks.push("<!-- -->"),u.status=1,Jb(s,u),s.pendingTasks===0)break e}catch(c){u.status=4,s.forceClientRender=!0,s.errorDigest=kS(n,c)}finally{t.blockedBoundary=e,t.blockedSegment=i}t=ZG(n,o,e,l,a,t.legacyContext,t.context,t.treeContext),n.pingedTasks.push(t)}return}if(typeof e=="object"&&e!==null)switch(e.$$typeof){case jq:if(r=MW(n,t,e.render,r,i),NS!==0){e=t.treeContext,t.treeContext=jL(e,1,0);try{Bo(n,t,r)}finally{t.treeContext=e}}else Bo(n,t,r);return;case Uq:e=e.type,r=LW(e,r),$L(n,t,e,r,i);return;case Bq:if(i=r.children,e=e._context,r=r.value,o=e._currentValue2,e._currentValue2=r,a=vh,vh=r={parent:a,depth:a===null?0:a.depth+1,context:e,parentValue:o,value:r},t.context=r,Bo(n,t,i),n=vh,n===null)throw Error(ot(403));r=n.parentValue,n.context._currentValue2=r===ZMe?n.context._defaultValue:r,n=vh=n.parent,t.context=n;return;case Hq:r=r.children,r=r(e._currentValue2),Bo(n,t,r);return;case KG:i=e._init,e=i(e._payload),r=LW(e,r),$L(n,t,e,r,void 0);return}throw Error(ot(130,e==null?e:typeof e,""))}}function Bo(n,t,e){if(t.node=e,typeof e=="object"&&e!==null){switch(e.$$typeof){case KMe:$L(n,t,e.type,e.props,e.ref);return;case Nq:throw Error(ot(257));case KG:var r=e._init;e=r(e._payload),Bo(n,t,e);return}if(BL(e)){IW(n,t,e);return}if(e===null||typeof e!="object"?r=null:(r=EW&&e[EW]||e["@@iterator"],r=typeof r=="function"?r:null),r&&(r=r.call(e))){if(e=r.next(),!e.done){var i=[];do i.push(e.value),e=r.next();while(!e.done);IW(n,t,i)}return}throw n=Object.prototype.toString.call(e),Error(ot(31,n==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":n))}typeof e=="string"?(r=t.blockedSegment,r.lastPushedText=xW(t.blockedSegment.chunks,e,n.responseState,r.lastPushedText)):typeof e=="number"&&(r=t.blockedSegment,r.lastPushedText=xW(t.blockedSegment.chunks,""+e,n.responseState,r.lastPushedText))}function IW(n,t,e){for(var r=e.length,i=0;i<r;i++){var o=t.treeContext;t.treeContext=jL(o,r,i);try{WL(n,t,e[i])}finally{t.treeContext=o}}}function WL(n,t,e){var r=t.blockedSegment.formatContext,i=t.legacyContext,o=t.context;try{return Bo(n,t,e)}catch(l){if(qG(),typeof l=="object"&&l!==null&&typeof l.then=="function"){e=l;var a=t.blockedSegment,s=Zb(n,a.chunks.length,null,a.formatContext,a.lastPushedText,!0);a.children.push(s),a.lastPushedText=!1,n=ZG(n,t.node,t.blockedBoundary,s,t.abortSet,t.legacyContext,t.context,t.treeContext).ping,e.then(n,n),t.blockedSegment.formatContext=r,t.legacyContext=i,t.context=o,Xb(o)}else throw t.blockedSegment.formatContext=r,t.legacyContext=i,t.context=o,Xb(o),l}}function lFe(n){var t=n.blockedBoundary;n=n.blockedSegment,n.status=3,Jq(this,t,n)}function Qq(n,t,e){var r=n.blockedBoundary;n.blockedSegment.status=3,r===null?(t.allPendingTasks--,t.status!==2&&(t.status=2,t.destination!==null&&t.destination.push(null))):(r.pendingTasks--,r.forceClientRender||(r.forceClientRender=!0,n=e===void 0?Error(ot(432)):e,r.errorDigest=t.onError(n),r.parentFlushed&&t.clientRenderedBoundaries.push(r)),r.fallbackAbortableTasks.forEach(function(i){return Qq(i,t,e)}),r.fallbackAbortableTasks.clear(),t.allPendingTasks--,t.allPendingTasks===0&&(r=t.onAllReady,r()))}function Jb(n,t){if(t.chunks.length===0&&t.children.length===1&&t.children[0].boundary===null){var e=t.children[0];e.id=t.id,e.parentFlushed=!0,e.status===1&&Jb(n,e)}else n.completedSegments.push(t)}function Jq(n,t,e){if(t===null){if(e.parentFlushed){if(n.completedRootSegment!==null)throw Error(ot(389));n.completedRootSegment=e}n.pendingRootTasks--,n.pendingRootTasks===0&&(n.onShellError=Gm,t=n.onShellReady,t())}else t.pendingTasks--,t.forceClientRender||(t.pendingTasks===0?(e.parentFlushed&&e.status===1&&Jb(t,e),t.parentFlushed&&n.completedBoundaries.push(t),t.fallbackAbortableTasks.forEach(lFe,n),t.fallbackAbortableTasks.clear()):e.parentFlushed&&e.status===1&&(Jb(t,e),t.completedSegments.length===1&&t.parentFlushed&&n.partialBoundaries.push(t)));n.allPendingTasks--,n.allPendingTasks===0&&(n=n.onAllReady,n())}function eZ(n){if(n.status!==2){var t=vh,e=AD.current;AD.current=DW;var r=aE;aE=n.responseState;try{var i=n.pingedTasks,o;for(o=0;o<i.length;o++){var a=i[o],s=n,l=a.blockedSegment;if(l.status===0){Xb(a.context);try{Bo(s,a,a.node),s.responseState.generateStaticMarkup||l.lastPushedText&&l.textEmbedded&&l.chunks.push("<!-- -->"),a.abortSet.delete(a),l.status=1,Jq(s,a.blockedBoundary,l)}catch(f){if(qG(),typeof f=="object"&&f!==null&&typeof f.then=="function"){var u=a.ping;f.then(u,u)}else{a.abortSet.delete(a),l.status=4;var c=a.blockedBoundary,d=f,p=kS(s,d);if(c===null?Qb(s,d):(c.pendingTasks--,c.forceClientRender||(c.forceClientRender=!0,c.errorDigest=p,c.parentFlushed&&s.clientRenderedBoundaries.push(c))),s.allPendingTasks--,s.allPendingTasks===0){var h=s.onAllReady;h()}}}finally{}}}i.splice(0,o),n.destination!==null&&QG(n,n.destination)}catch(f){kS(n,f),Qb(n,f)}finally{aE=r,AD.current=e,e===DW&&Xb(t)}}}function L_(n,t,e){switch(e.parentFlushed=!0,e.status){case 0:var r=e.id=n.nextSegmentId++;return e.lastPushedText=!1,e.textEmbedded=!1,n=n.responseState,t.push('<template id="'),t.push(n.placeholderPrefix),n=r.toString(16),t.push(n),t.push('"></template>');case 1:e.status=2;var i=!0;r=e.chunks;var o=0;e=e.children;for(var a=0;a<e.length;a++){for(i=e[a];o<i.index;o++)t.push(r[o]);i=VT(n,t,i)}for(;o<r.length-1;o++)t.push(r[o]);return o<r.length&&(i=t.push(r[o])),i;default:throw Error(ot(390))}}function VT(n,t,e){var r=e.boundary;if(r===null)return L_(n,t,e);if(r.parentFlushed=!0,r.forceClientRender)return n.responseState.generateStaticMarkup||(r=r.errorDigest,t.push("<!--$!-->"),t.push("<template"),r&&(t.push(' data-dgst="'),r=xi(r),t.push(r),t.push('"')),t.push("></template>")),L_(n,t,e),n=n.responseState.generateStaticMarkup?!0:t.push("<!--/$-->"),n;if(0<r.pendingTasks){r.rootSegmentID=n.nextSegmentId++,0<r.completedSegments.length&&n.partialBoundaries.push(r);var i=n.responseState,o=i.nextSuspenseID++;return i=i.boundaryPrefix+o.toString(16),r=r.id=i,_W(t,n.responseState,r),L_(n,t,e),t.push("<!--/$-->")}if(r.byteSize>n.progressiveChunkSize)return r.rootSegmentID=n.nextSegmentId++,n.completedBoundaries.push(r),_W(t,n.responseState,r.id),L_(n,t,e),t.push("<!--/$-->");if(n.responseState.generateStaticMarkup||t.push("<!--$-->"),e=r.completedSegments,e.length!==1)throw Error(ot(391));return VT(n,t,e[0]),n=n.responseState.generateStaticMarkup?!0:t.push("<!--/$-->"),n}function NW(n,t,e){return $Me(t,n.responseState,e.formatContext,e.id),VT(n,t,e),WMe(t,e.formatContext)}function kW(n,t,e){for(var r=e.completedSegments,i=0;i<r.length;i++)tZ(n,t,e,r[i]);if(r.length=0,n=n.responseState,r=e.id,e=e.rootSegmentID,t.push(n.startInlineScript),n.sentCompleteBoundaryFunction?t.push('$RC("'):(n.sentCompleteBoundaryFunction=!0,t.push('function $RC(a,b){a=document.getElementById(a);b=document.getElementById(b);b.parentNode.removeChild(b);if(a){a=a.previousSibling;var f=a.parentNode,c=a.nextSibling,e=0;do{if(c&&8===c.nodeType){var d=c.data;if("/$"===d)if(0===e)break;else e--;else"$"!==d&&"$?"!==d&&"$!"!==d||e++}d=c.nextSibling;f.removeChild(c);c=d}while(c);for(;b.firstChild;)f.insertBefore(b.firstChild,c);a.data="$";a._reactRetry&&a._reactRetry()}};$RC("')),r===null)throw Error(ot(395));return e=e.toString(16),t.push(r),t.push('","'),t.push(n.segmentPrefix),t.push(e),t.push('")<\/script>')}function tZ(n,t,e,r){if(r.status===2)return!0;var i=r.id;if(i===-1){if((r.id=e.rootSegmentID)===-1)throw Error(ot(392));return NW(n,t,r)}return NW(n,t,r),n=n.responseState,t.push(n.startInlineScript),n.sentCompleteSegmentFunction?t.push('$RS("'):(n.sentCompleteSegmentFunction=!0,t.push('function $RS(a,b){a=document.getElementById(a);b=document.getElementById(b);for(a.parentNode.removeChild(a);a.firstChild;)b.parentNode.insertBefore(a.firstChild,b);b.parentNode.removeChild(b)};$RS("')),t.push(n.segmentPrefix),i=i.toString(16),t.push(i),t.push('","'),t.push(n.placeholderPrefix),t.push(i),t.push('")<\/script>')}function QG(n,t){try{var e=n.completedRootSegment;if(e!==null&&n.pendingRootTasks===0){VT(n,t,e),n.completedRootSegment=null;var r=n.responseState.bootstrapChunks;for(e=0;e<r.length-1;e++)t.push(r[e]);e<r.length&&t.push(r[e])}var i=n.clientRenderedBoundaries,o;for(o=0;o<i.length;o++){var a=i[o];r=t;var s=n.responseState,l=a.id,u=a.errorDigest,c=a.errorMessage,d=a.errorComponentStack;if(r.push(s.startInlineScript),s.sentClientRenderFunction?r.push('$RX("'):(s.sentClientRenderFunction=!0,r.push('function $RX(b,c,d,e){var a=document.getElementById(b);a&&(b=a.previousSibling,b.data="$!",a=a.dataset,c&&(a.dgst=c),d&&(a.msg=d),e&&(a.stck=e),b._reactRetry&&b._reactRetry())};$RX("')),l===null)throw Error(ot(395));if(r.push(l),r.push('"'),u||c||d){r.push(",");var p=PD(u||"");r.push(p)}if(c||d){r.push(",");var h=PD(c||"");r.push(h)}if(d){r.push(",");var f=PD(d);r.push(f)}if(!r.push(")<\/script>")){n.destination=null,o++,i.splice(0,o);return}}i.splice(0,o);var v=n.completedBoundaries;for(o=0;o<v.length;o++)if(!kW(n,t,v[o])){n.destination=null,o++,v.splice(0,o);return}v.splice(0,o);var g=n.partialBoundaries;for(o=0;o<g.length;o++){var y=g[o];e:{i=n,a=t;var m=y.completedSegments;for(s=0;s<m.length;s++)if(!tZ(i,a,y,m[s])){s++,m.splice(0,s);var C=!1;break e}m.splice(0,s),C=!0}if(!C){n.destination=null,o++,g.splice(0,o);return}}g.splice(0,o);var S=n.completedBoundaries;for(o=0;o<S.length;o++)if(!kW(n,t,S[o])){n.destination=null,o++,S.splice(0,o);return}S.splice(0,o)}finally{n.allPendingTasks===0&&n.pingedTasks.length===0&&n.clientRenderedBoundaries.length===0&&n.completedBoundaries.length===0&&t.push(null)}}function uFe(n,t){try{var e=n.abortableTasks;e.forEach(function(r){return Qq(r,n,t)}),e.clear(),n.destination!==null&&QG(n,n.destination)}catch(r){kS(n,r),Qb(n,r)}}function cFe(){}function rZ(n,t,e,r){var i=!1,o=null,a="",s={push:function(u){return u!==null&&(a+=u),!0},destroy:function(u){i=!0,o=u}},l=!1;if(n=sFe(n,zMe(e,t?t.identifierPrefix:void 0),{insertionMode:1,selectedValue:null},1/0,cFe,void 0,function(){l=!0},void 0,void 0),eZ(n),uFe(n,r),n.status===1)n.status=2,s.destroy(n.fatalError);else if(n.status!==2&&n.destination===null){n.destination=s;try{QG(n,s)}catch(u){kS(n,u),Qb(n,u)}}if(i)throw o;if(!l)throw Error(ot(426));return a}jg.renderToNodeStream=function(){throw Error(ot(207))};jg.renderToStaticMarkup=function(n,t){return rZ(n,t,!0,'The server used "renderToStaticMarkup" which does not support Suspense. If you intended to have the server wait for the suspended component please switch to "renderToReadableStream" which supports Suspense on the server')};jg.renderToStaticNodeStream=function(){throw Error(ot(208))};jg.renderToString=function(n,t){return rZ(n,t,!1,'The server used "renderToString" which does not support Suspense. If you intended for this Suspense boundary to render the fallback content on the server consider throwing an Error somewhere within the Suspense boundary. If you intended to have the server wait for the suspended component please switch to "renderToReadableStream" which supports Suspense on the server')};jg.version="18.2.0";var JG={};/**
 * @license React
 * react-dom-server.browser.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var nZ=I;function ht(n){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+n,e=1;e<arguments.length;e++)t+="&args[]="+encodeURIComponent(arguments[e]);return"Minified React error #"+n+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var Ho=null,jo=0;function Me(n,t){if(t.length!==0)if(512<t.length)0<jo&&(n.enqueue(new Uint8Array(Ho.buffer,0,jo)),Ho=new Uint8Array(512),jo=0),n.enqueue(t);else{var e=Ho.length-jo;e<t.length&&(e===0?n.enqueue(Ho):(Ho.set(t.subarray(0,e),jo),n.enqueue(Ho),t=t.subarray(e)),Ho=new Uint8Array(512),jo=0),Ho.set(t,jo),jo+=t.length}}function vr(n,t){return Me(n,t),!0}function GW(n){Ho&&0<jo&&(n.enqueue(new Uint8Array(Ho.buffer,0,jo)),Ho=null,jo=0)}var iZ=new TextEncoder;function gt(n){return iZ.encode(n)}function Re(n){return iZ.encode(n)}function oZ(n,t){typeof n.error=="function"?n.error(t):n.close()}var qi=Object.prototype.hasOwnProperty,dFe=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,VW={},BW={};function aZ(n){return qi.call(BW,n)?!0:qi.call(VW,n)?!1:dFe.test(n)?BW[n]=!0:(VW[n]=!0,!1)}function Fi(n,t,e,r,i,o,a){this.acceptsBooleans=t===2||t===3||t===4,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=e,this.propertyName=n,this.type=t,this.sanitizeURL=o,this.removeEmptyString=a}var Qn={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(n){Qn[n]=new Fi(n,0,!1,n,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(n){var t=n[0];Qn[t]=new Fi(t,1,!1,n[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(n){Qn[n]=new Fi(n,2,!1,n.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(n){Qn[n]=new Fi(n,2,!1,n,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(n){Qn[n]=new Fi(n,3,!1,n.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(n){Qn[n]=new Fi(n,3,!0,n,null,!1,!1)});["capture","download"].forEach(function(n){Qn[n]=new Fi(n,4,!1,n,null,!1,!1)});["cols","rows","size","span"].forEach(function(n){Qn[n]=new Fi(n,6,!1,n,null,!1,!1)});["rowSpan","start"].forEach(function(n){Qn[n]=new Fi(n,5,!1,n.toLowerCase(),null,!1,!1)});var eV=/[\-:]([a-z])/g;function tV(n){return n[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(n){var t=n.replace(eV,tV);Qn[t]=new Fi(t,1,!1,n,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(n){var t=n.replace(eV,tV);Qn[t]=new Fi(t,1,!1,n,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(n){var t=n.replace(eV,tV);Qn[t]=new Fi(t,1,!1,n,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(n){Qn[n]=new Fi(n,1,!1,n.toLowerCase(),null,!1,!1)});Qn.xlinkHref=new Fi("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(n){Qn[n]=new Fi(n,1,!1,n.toLowerCase(),null,!0,!0)});var sE={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},pFe=["Webkit","ms","Moz","O"];Object.keys(sE).forEach(function(n){pFe.forEach(function(t){t=t+n.charAt(0).toUpperCase()+n.substring(1),sE[t]=sE[n]})});var hFe=/["'&<>]/;function Un(n){if(typeof n=="boolean"||typeof n=="number")return""+n;n=""+n;var t=hFe.exec(n);if(t){var e="",r,i=0;for(r=t.index;r<n.length;r++){switch(n.charCodeAt(r)){case 34:t="&quot;";break;case 38:t="&amp;";break;case 39:t="&#x27;";break;case 60:t="&lt;";break;case 62:t="&gt;";break;default:continue}i!==r&&(e+=n.substring(i,r)),i=r+1,e+=t}n=i!==r?e+n.substring(i,r):e}return n}var fFe=/([A-Z])/g,vFe=/^ms-/,UL=Array.isArray,gFe=Re("<script>"),yFe=Re("<\/script>"),mFe=Re('<script src="'),CFe=Re('<script type="module" src="'),HW=Re('" async=""><\/script>'),SFe=/(<\/|<)(s)(cript)/gi;function wFe(n,t,e,r){return""+t+(e==="s"?"\\u0073":"\\u0053")+r}function _Fe(n,t,e,r,i){n=n===void 0?"":n,t=t===void 0?gFe:Re('<script nonce="'+Un(t)+'">');var o=[];if(e!==void 0&&o.push(t,gt((""+e).replace(SFe,wFe)),yFe),r!==void 0)for(e=0;e<r.length;e++)o.push(mFe,gt(Un(r[e])),HW);if(i!==void 0)for(r=0;r<i.length;r++)o.push(CFe,gt(Un(i[r])),HW);return{bootstrapChunks:o,startInlineScript:t,placeholderPrefix:Re(n+"P:"),segmentPrefix:Re(n+"S:"),boundaryPrefix:n+"B:",idPrefix:n,nextSuspenseID:0,sentCompleteSegmentFunction:!1,sentCompleteBoundaryFunction:!1,sentClientRenderFunction:!1}}function dl(n,t){return{insertionMode:n,selectedValue:t}}function xFe(n){return dl(n==="http://www.w3.org/2000/svg"?2:n==="http://www.w3.org/1998/Math/MathML"?3:0,null)}function EFe(n,t,e){switch(t){case"select":return dl(1,e.value!=null?e.value:e.defaultValue);case"svg":return dl(2,null);case"math":return dl(3,null);case"foreignObject":return dl(1,null);case"table":return dl(4,null);case"thead":case"tbody":case"tfoot":return dl(5,null);case"colgroup":return dl(7,null);case"tr":return dl(6,null)}return 4<=n.insertionMode||n.insertionMode===0?dl(1,null):n}var rV=Re("<!-- -->");function jW(n,t,e,r){return t===""?r:(r&&n.push(rV),n.push(gt(Un(t))),!0)}var $W=new Map,bFe=Re(' style="'),WW=Re(":"),OFe=Re(";");function sZ(n,t,e){if(typeof e!="object")throw Error(ht(62));t=!0;for(var r in e)if(qi.call(e,r)){var i=e[r];if(i!=null&&typeof i!="boolean"&&i!==""){if(r.indexOf("--")===0){var o=gt(Un(r));i=gt(Un((""+i).trim()))}else{o=r;var a=$W.get(o);a!==void 0||(a=Re(Un(o.replace(fFe,"-$1").toLowerCase().replace(vFe,"-ms-"))),$W.set(o,a)),o=a,i=typeof i=="number"?i===0||qi.call(sE,r)?gt(""+i):gt(i+"px"):gt(Un((""+i).trim()))}t?(t=!1,n.push(bFe,o,WW,i)):n.push(OFe,o,WW,i)}}t||n.push(Jp)}var zc=Re(" "),Jf=Re('="'),Jp=Re('"'),UW=Re('=""');function Lo(n,t,e,r){switch(e){case"style":sZ(n,t,r);return;case"defaultValue":case"defaultChecked":case"innerHTML":case"suppressContentEditableWarning":case"suppressHydrationWarning":return}if(!(2<e.length)||e[0]!=="o"&&e[0]!=="O"||e[1]!=="n"&&e[1]!=="N"){if(t=Qn.hasOwnProperty(e)?Qn[e]:null,t!==null){switch(typeof r){case"function":case"symbol":return;case"boolean":if(!t.acceptsBooleans)return}switch(e=gt(t.attributeName),t.type){case 3:r&&n.push(zc,e,UW);break;case 4:r===!0?n.push(zc,e,UW):r!==!1&&n.push(zc,e,Jf,gt(Un(r)),Jp);break;case 5:isNaN(r)||n.push(zc,e,Jf,gt(Un(r)),Jp);break;case 6:!isNaN(r)&&1<=r&&n.push(zc,e,Jf,gt(Un(r)),Jp);break;default:t.sanitizeURL&&(r=""+r),n.push(zc,e,Jf,gt(Un(r)),Jp)}}else if(aZ(e)){switch(typeof r){case"function":case"symbol":return;case"boolean":if(t=e.toLowerCase().slice(0,5),t!=="data-"&&t!=="aria-")return}n.push(zc,gt(e),Jf,gt(Un(r)),Jp)}}}var Kc=Re(">"),zW=Re("/>");function lE(n,t,e){if(t!=null){if(e!=null)throw Error(ht(60));if(typeof t!="object"||!("__html"in t))throw Error(ht(61));t=t.__html,t!=null&&n.push(gt(""+t))}}function RFe(n){var t="";return nZ.Children.forEach(n,function(e){e!=null&&(t+=e)}),t}var DD=Re(' selected=""');function MD(n,t,e,r){n.push(pl(e));var i=e=null,o;for(o in t)if(qi.call(t,o)){var a=t[o];if(a!=null)switch(o){case"children":e=a;break;case"dangerouslySetInnerHTML":i=a;break;default:Lo(n,r,o,a)}}return n.push(Kc),lE(n,i,e),typeof e=="string"?(n.push(gt(Un(e))),null):e}var FD=Re(`
`),TFe=/^[a-zA-Z][a-zA-Z:_\.\-\d]*$/,KW=new Map;function pl(n){var t=KW.get(n);if(t===void 0){if(!TFe.test(n))throw Error(ht(65,n));t=Re("<"+n),KW.set(n,t)}return t}var PFe=Re("<!DOCTYPE html>");function AFe(n,t,e,r,i){switch(t){case"select":n.push(pl("select"));var o=null,a=null;for(c in e)if(qi.call(e,c)){var s=e[c];if(s!=null)switch(c){case"children":o=s;break;case"dangerouslySetInnerHTML":a=s;break;case"defaultValue":case"value":break;default:Lo(n,r,c,s)}}return n.push(Kc),lE(n,a,o),o;case"option":a=i.selectedValue,n.push(pl("option"));var l=s=null,u=null,c=null;for(o in e)if(qi.call(e,o)){var d=e[o];if(d!=null)switch(o){case"children":s=d;break;case"selected":u=d;break;case"dangerouslySetInnerHTML":c=d;break;case"value":l=d;default:Lo(n,r,o,d)}}if(a!=null)if(e=l!==null?""+l:RFe(s),UL(a)){for(r=0;r<a.length;r++)if(""+a[r]===e){n.push(DD);break}}else""+a===e&&n.push(DD);else u&&n.push(DD);return n.push(Kc),lE(n,c,s),s;case"textarea":n.push(pl("textarea")),c=a=o=null;for(s in e)if(qi.call(e,s)&&(l=e[s],l!=null))switch(s){case"children":c=l;break;case"value":o=l;break;case"defaultValue":a=l;break;case"dangerouslySetInnerHTML":throw Error(ht(91));default:Lo(n,r,s,l)}if(o===null&&a!==null&&(o=a),n.push(Kc),c!=null){if(o!=null)throw Error(ht(92));if(UL(c)&&1<c.length)throw Error(ht(93));o=""+c}return typeof o=="string"&&o[0]===`
`&&n.push(FD),o!==null&&n.push(gt(Un(""+o))),null;case"input":n.push(pl("input")),l=c=s=o=null;for(a in e)if(qi.call(e,a)&&(u=e[a],u!=null))switch(a){case"children":case"dangerouslySetInnerHTML":throw Error(ht(399,"input"));case"defaultChecked":l=u;break;case"defaultValue":s=u;break;case"checked":c=u;break;case"value":o=u;break;default:Lo(n,r,a,u)}return c!==null?Lo(n,r,"checked",c):l!==null&&Lo(n,r,"checked",l),o!==null?Lo(n,r,"value",o):s!==null&&Lo(n,r,"value",s),n.push(zW),null;case"menuitem":n.push(pl("menuitem"));for(var p in e)if(qi.call(e,p)&&(o=e[p],o!=null))switch(p){case"children":case"dangerouslySetInnerHTML":throw Error(ht(400));default:Lo(n,r,p,o)}return n.push(Kc),null;case"title":n.push(pl("title")),o=null;for(d in e)if(qi.call(e,d)&&(a=e[d],a!=null))switch(d){case"children":o=a;break;case"dangerouslySetInnerHTML":throw Error(ht(434));default:Lo(n,r,d,a)}return n.push(Kc),o;case"listing":case"pre":n.push(pl(t)),a=o=null;for(l in e)if(qi.call(e,l)&&(s=e[l],s!=null))switch(l){case"children":o=s;break;case"dangerouslySetInnerHTML":a=s;break;default:Lo(n,r,l,s)}if(n.push(Kc),a!=null){if(o!=null)throw Error(ht(60));if(typeof a!="object"||!("__html"in a))throw Error(ht(61));e=a.__html,e!=null&&(typeof e=="string"&&0<e.length&&e[0]===`
`?n.push(FD,gt(e)):n.push(gt(""+e)))}return typeof o=="string"&&o[0]===`
`&&n.push(FD),o;case"area":case"base":case"br":case"col":case"embed":case"hr":case"img":case"keygen":case"link":case"meta":case"param":case"source":case"track":case"wbr":n.push(pl(t));for(var h in e)if(qi.call(e,h)&&(o=e[h],o!=null))switch(h){case"children":case"dangerouslySetInnerHTML":throw Error(ht(399,t));default:Lo(n,r,h,o)}return n.push(zW),null;case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return MD(n,e,t,r);case"html":return i.insertionMode===0&&n.push(PFe),MD(n,e,t,r);default:if(t.indexOf("-")===-1&&typeof e.is!="string")return MD(n,e,t,r);n.push(pl(t)),a=o=null;for(u in e)if(qi.call(e,u)&&(s=e[u],s!=null))switch(u){case"children":o=s;break;case"dangerouslySetInnerHTML":a=s;break;case"style":sZ(n,r,s);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":break;default:aZ(u)&&typeof s!="function"&&typeof s!="symbol"&&n.push(zc,gt(u),Jf,gt(Un(s)),Jp)}return n.push(Kc),lE(n,a,o),o}}var DFe=Re("</"),MFe=Re(">"),FFe=Re('<template id="'),LFe=Re('"></template>'),IFe=Re("<!--$-->"),NFe=Re('<!--$?--><template id="'),kFe=Re('"></template>'),GFe=Re("<!--$!-->"),VFe=Re("<!--/$-->"),BFe=Re("<template"),HFe=Re('"'),jFe=Re(' data-dgst="');Re(' data-msg="');Re(' data-stck="');var $Fe=Re("></template>");function YW(n,t,e){if(Me(n,NFe),e===null)throw Error(ht(395));return Me(n,e),vr(n,kFe)}var WFe=Re('<div hidden id="'),UFe=Re('">'),zFe=Re("</div>"),KFe=Re('<svg aria-hidden="true" style="display:none" id="'),YFe=Re('">'),XFe=Re("</svg>"),qFe=Re('<math aria-hidden="true" style="display:none" id="'),ZFe=Re('">'),QFe=Re("</math>"),JFe=Re('<table hidden id="'),eLe=Re('">'),tLe=Re("</table>"),rLe=Re('<table hidden><tbody id="'),nLe=Re('">'),iLe=Re("</tbody></table>"),oLe=Re('<table hidden><tr id="'),aLe=Re('">'),sLe=Re("</tr></table>"),lLe=Re('<table hidden><colgroup id="'),uLe=Re('">'),cLe=Re("</colgroup></table>");function dLe(n,t,e,r){switch(e.insertionMode){case 0:case 1:return Me(n,WFe),Me(n,t.segmentPrefix),Me(n,gt(r.toString(16))),vr(n,UFe);case 2:return Me(n,KFe),Me(n,t.segmentPrefix),Me(n,gt(r.toString(16))),vr(n,YFe);case 3:return Me(n,qFe),Me(n,t.segmentPrefix),Me(n,gt(r.toString(16))),vr(n,ZFe);case 4:return Me(n,JFe),Me(n,t.segmentPrefix),Me(n,gt(r.toString(16))),vr(n,eLe);case 5:return Me(n,rLe),Me(n,t.segmentPrefix),Me(n,gt(r.toString(16))),vr(n,nLe);case 6:return Me(n,oLe),Me(n,t.segmentPrefix),Me(n,gt(r.toString(16))),vr(n,aLe);case 7:return Me(n,lLe),Me(n,t.segmentPrefix),Me(n,gt(r.toString(16))),vr(n,uLe);default:throw Error(ht(397))}}function pLe(n,t){switch(t.insertionMode){case 0:case 1:return vr(n,zFe);case 2:return vr(n,XFe);case 3:return vr(n,QFe);case 4:return vr(n,tLe);case 5:return vr(n,iLe);case 6:return vr(n,sLe);case 7:return vr(n,cLe);default:throw Error(ht(397))}}var hLe=Re('function $RS(a,b){a=document.getElementById(a);b=document.getElementById(b);for(a.parentNode.removeChild(a);a.firstChild;)b.parentNode.insertBefore(a.firstChild,b);b.parentNode.removeChild(b)};$RS("'),fLe=Re('$RS("'),vLe=Re('","'),gLe=Re('")<\/script>'),yLe=Re('function $RC(a,b){a=document.getElementById(a);b=document.getElementById(b);b.parentNode.removeChild(b);if(a){a=a.previousSibling;var f=a.parentNode,c=a.nextSibling,e=0;do{if(c&&8===c.nodeType){var d=c.data;if("/$"===d)if(0===e)break;else e--;else"$"!==d&&"$?"!==d&&"$!"!==d||e++}d=c.nextSibling;f.removeChild(c);c=d}while(c);for(;b.firstChild;)f.insertBefore(b.firstChild,c);a.data="$";a._reactRetry&&a._reactRetry()}};$RC("'),mLe=Re('$RC("'),CLe=Re('","'),SLe=Re('")<\/script>'),wLe=Re('function $RX(b,c,d,e){var a=document.getElementById(b);a&&(b=a.previousSibling,b.data="$!",a=a.dataset,c&&(a.dgst=c),d&&(a.msg=d),e&&(a.stck=e),b._reactRetry&&b._reactRetry())};$RX("'),_Le=Re('$RX("'),xLe=Re('"'),ELe=Re(")<\/script>"),LD=Re(","),bLe=/[<\u2028\u2029]/g;function ID(n){return JSON.stringify(n).replace(bLe,function(t){switch(t){case"<":return"\\u003c";case"\u2028":return"\\u2028";case"\u2029":return"\\u2029";default:throw Error("escapeJSStringsForInstructionScripts encountered a match it does not know how to replace. this means the match regex and the replacement characters are no longer in sync. This is a bug in React")}})}var MC=Object.assign,OLe=Symbol.for("react.element"),lZ=Symbol.for("react.portal"),uZ=Symbol.for("react.fragment"),cZ=Symbol.for("react.strict_mode"),dZ=Symbol.for("react.profiler"),pZ=Symbol.for("react.provider"),hZ=Symbol.for("react.context"),fZ=Symbol.for("react.forward_ref"),vZ=Symbol.for("react.suspense"),gZ=Symbol.for("react.suspense_list"),yZ=Symbol.for("react.memo"),nV=Symbol.for("react.lazy"),RLe=Symbol.for("react.scope"),TLe=Symbol.for("react.debug_trace_mode"),PLe=Symbol.for("react.legacy_hidden"),ALe=Symbol.for("react.default_value"),XW=Symbol.iterator;function zL(n){if(n==null)return null;if(typeof n=="function")return n.displayName||n.name||null;if(typeof n=="string")return n;switch(n){case uZ:return"Fragment";case lZ:return"Portal";case dZ:return"Profiler";case cZ:return"StrictMode";case vZ:return"Suspense";case gZ:return"SuspenseList"}if(typeof n=="object")switch(n.$$typeof){case hZ:return(n.displayName||"Context")+".Consumer";case pZ:return(n._context.displayName||"Context")+".Provider";case fZ:var t=n.render;return n=n.displayName,n||(n=t.displayName||t.name||"",n=n!==""?"ForwardRef("+n+")":"ForwardRef"),n;case yZ:return t=n.displayName||null,t!==null?t:zL(n.type)||"Memo";case nV:t=n._payload,n=n._init;try{return zL(n(t))}catch{}}return null}var mZ={};function qW(n,t){if(n=n.contextTypes,!n)return mZ;var e={},r;for(r in n)e[r]=t[r];return e}var gh=null;function BT(n,t){if(n!==t){n.context._currentValue=n.parentValue,n=n.parent;var e=t.parent;if(n===null){if(e!==null)throw Error(ht(401))}else{if(e===null)throw Error(ht(401));BT(n,e)}t.context._currentValue=t.value}}function CZ(n){n.context._currentValue=n.parentValue,n=n.parent,n!==null&&CZ(n)}function SZ(n){var t=n.parent;t!==null&&SZ(t),n.context._currentValue=n.value}function wZ(n,t){if(n.context._currentValue=n.parentValue,n=n.parent,n===null)throw Error(ht(402));n.depth===t.depth?BT(n,t):wZ(n,t)}function _Z(n,t){var e=t.parent;if(e===null)throw Error(ht(402));n.depth===e.depth?BT(n,e):_Z(n,e),t.context._currentValue=t.value}function eO(n){var t=gh;t!==n&&(t===null?SZ(n):n===null?CZ(t):t.depth===n.depth?BT(t,n):t.depth>n.depth?wZ(t,n):_Z(t,n),gh=n)}var ZW={isMounted:function(){return!1},enqueueSetState:function(n,t){n=n._reactInternals,n.queue!==null&&n.queue.push(t)},enqueueReplaceState:function(n,t){n=n._reactInternals,n.replace=!0,n.queue=[t]},enqueueForceUpdate:function(){}};function QW(n,t,e,r){var i=n.state!==void 0?n.state:null;n.updater=ZW,n.props=e,n.state=i;var o={queue:[],replace:!1};n._reactInternals=o;var a=t.contextType;if(n.context=typeof a=="object"&&a!==null?a._currentValue:r,a=t.getDerivedStateFromProps,typeof a=="function"&&(a=a(e,i),i=a==null?i:MC({},i,a),n.state=i),typeof t.getDerivedStateFromProps!="function"&&typeof n.getSnapshotBeforeUpdate!="function"&&(typeof n.UNSAFE_componentWillMount=="function"||typeof n.componentWillMount=="function"))if(t=n.state,typeof n.componentWillMount=="function"&&n.componentWillMount(),typeof n.UNSAFE_componentWillMount=="function"&&n.UNSAFE_componentWillMount(),t!==n.state&&ZW.enqueueReplaceState(n,n.state,null),o.queue!==null&&0<o.queue.length)if(t=o.queue,a=o.replace,o.queue=null,o.replace=!1,a&&t.length===1)n.state=t[0];else{for(o=a?t[0]:n.state,i=!0,a=a?1:0;a<t.length;a++){var s=t[a];s=typeof s=="function"?s.call(n,o,e,r):s,s!=null&&(i?(i=!1,o=MC({},o,s)):MC(o,s))}n.state=o}else o.queue=null}var DLe={id:1,overflow:""};function KL(n,t,e){var r=n.id;n=n.overflow;var i=32-uE(r)-1;r&=~(1<<i),e+=1;var o=32-uE(t)+i;if(30<o){var a=i-i%5;return o=(r&(1<<a)-1).toString(32),r>>=a,i-=a,{id:1<<32-uE(t)+i|e<<i|r,overflow:o+n}}return{id:1<<o|e<<i|r,overflow:n}}var uE=Math.clz32?Math.clz32:LLe,MLe=Math.log,FLe=Math.LN2;function LLe(n){return n>>>=0,n===0?32:31-(MLe(n)/FLe|0)|0}function ILe(n,t){return n===t&&(n!==0||1/n===1/t)||n!==n&&t!==t}var NLe=typeof Object.is=="function"?Object.is:ILe,rc=null,iV=null,cE=null,ur=null,Vm=!1,tO=!1,GS=0,hd=null,HT=0;function eh(){if(rc===null)throw Error(ht(321));return rc}function JW(){if(0<HT)throw Error(ht(312));return{memoizedState:null,queue:null,next:null}}function oV(){return ur===null?cE===null?(Vm=!1,cE=ur=JW()):(Vm=!0,ur=cE):ur.next===null?(Vm=!1,ur=ur.next=JW()):(Vm=!0,ur=ur.next),ur}function aV(){iV=rc=null,tO=!1,cE=null,HT=0,ur=hd=null}function xZ(n,t){return typeof t=="function"?t(n):t}function eU(n,t,e){if(rc=eh(),ur=oV(),Vm){var r=ur.queue;if(t=r.dispatch,hd!==null&&(e=hd.get(r),e!==void 0)){hd.delete(r),r=ur.memoizedState;do r=n(r,e.action),e=e.next;while(e!==null);return ur.memoizedState=r,[r,t]}return[ur.memoizedState,t]}return n=n===xZ?typeof t=="function"?t():t:e!==void 0?e(t):t,ur.memoizedState=n,n=ur.queue={last:null,dispatch:null},n=n.dispatch=kLe.bind(null,rc,n),[ur.memoizedState,n]}function tU(n,t){if(rc=eh(),ur=oV(),t=t===void 0?null:t,ur!==null){var e=ur.memoizedState;if(e!==null&&t!==null){var r=e[1];e:if(r===null)r=!1;else{for(var i=0;i<r.length&&i<t.length;i++)if(!NLe(t[i],r[i])){r=!1;break e}r=!0}if(r)return e[0]}}return n=n(),ur.memoizedState=[n,t],n}function kLe(n,t,e){if(25<=HT)throw Error(ht(301));if(n===rc)if(tO=!0,n={action:e,next:null},hd===null&&(hd=new Map),e=hd.get(t),e===void 0)hd.set(t,n);else{for(t=e;t.next!==null;)t=t.next;t.next=n}}function GLe(){throw Error(ht(394))}function I_(){}var rU={readContext:function(n){return n._currentValue},useContext:function(n){return eh(),n._currentValue},useMemo:tU,useReducer:eU,useRef:function(n){rc=eh(),ur=oV();var t=ur.memoizedState;return t===null?(n={current:n},ur.memoizedState=n):t},useState:function(n){return eU(xZ,n)},useInsertionEffect:I_,useLayoutEffect:function(){},useCallback:function(n,t){return tU(function(){return n},t)},useImperativeHandle:I_,useEffect:I_,useDebugValue:I_,useDeferredValue:function(n){return eh(),n},useTransition:function(){return eh(),[!1,GLe]},useId:function(){var n=iV.treeContext,t=n.overflow;n=n.id,n=(n&~(1<<32-uE(n)-1)).toString(32)+t;var e=dE;if(e===null)throw Error(ht(404));return t=GS++,n=":"+e.idPrefix+"R"+n,0<t&&(n+="H"+t.toString(32)),n+":"},useMutableSource:function(n,t){return eh(),t(n._source)},useSyncExternalStore:function(n,t,e){if(e===void 0)throw Error(ht(407));return e()}},dE=null,ND=nZ.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentDispatcher;function VLe(n){return console.error(n),null}function Bm(){}function BLe(n,t,e,r,i,o,a,s,l){var u=[],c=new Set;return t={destination:null,responseState:t,progressiveChunkSize:r===void 0?12800:r,status:0,fatalError:null,nextSegmentId:0,allPendingTasks:0,pendingRootTasks:0,completedRootSegment:null,abortableTasks:c,pingedTasks:u,clientRenderedBoundaries:[],completedBoundaries:[],partialBoundaries:[],onError:i===void 0?VLe:i,onAllReady:o===void 0?Bm:o,onShellReady:a===void 0?Bm:a,onShellError:s===void 0?Bm:s,onFatalError:l===void 0?Bm:l},e=rO(t,0,null,e,!1,!1),e.parentFlushed=!0,n=sV(t,n,null,e,c,mZ,null,DLe),u.push(n),t}function sV(n,t,e,r,i,o,a,s){n.allPendingTasks++,e===null?n.pendingRootTasks++:e.pendingTasks++;var l={node:t,ping:function(){var u=n.pingedTasks;u.push(l),u.length===1&&OZ(n)},blockedBoundary:e,blockedSegment:r,abortSet:i,legacyContext:o,context:a,treeContext:s};return i.add(l),l}function rO(n,t,e,r,i,o){return{status:0,id:-1,index:t,parentFlushed:!1,chunks:[],children:[],formatContext:r,boundary:e,lastPushedText:i,textEmbedded:o}}function VS(n,t){if(n=n.onError(t),n!=null&&typeof n!="string")throw Error('onError returned something with a type other than "string". onError should return a string and may return null or undefined but must not return anything else. It received something of type "'+typeof n+'" instead');return n}function nO(n,t){var e=n.onShellError;e(t),e=n.onFatalError,e(t),n.destination!==null?(n.status=2,oZ(n.destination,t)):(n.status=1,n.fatalError=t)}function nU(n,t,e,r,i){for(rc={},iV=t,GS=0,n=e(r,i);tO;)tO=!1,GS=0,HT+=1,ur=null,n=e(r,i);return aV(),n}function iU(n,t,e,r){var i=e.render(),o=r.childContextTypes;if(o!=null){var a=t.legacyContext;if(typeof e.getChildContext!="function")r=a;else{e=e.getChildContext();for(var s in e)if(!(s in o))throw Error(ht(108,zL(r)||"Unknown",s));r=MC({},a,e)}t.legacyContext=r,$o(n,t,i),t.legacyContext=a}else $o(n,t,i)}function oU(n,t){if(n&&n.defaultProps){t=MC({},t),n=n.defaultProps;for(var e in n)t[e]===void 0&&(t[e]=n[e]);return t}return t}function YL(n,t,e,r,i){if(typeof e=="function")if(e.prototype&&e.prototype.isReactComponent){i=qW(e,t.legacyContext);var o=e.contextType;o=new e(r,typeof o=="object"&&o!==null?o._currentValue:i),QW(o,e,r,i),iU(n,t,o,e)}else{o=qW(e,t.legacyContext),i=nU(n,t,e,r,o);var a=GS!==0;if(typeof i=="object"&&i!==null&&typeof i.render=="function"&&i.$$typeof===void 0)QW(i,e,r,o),iU(n,t,i,e);else if(a){r=t.treeContext,t.treeContext=KL(r,1,0);try{$o(n,t,i)}finally{t.treeContext=r}}else $o(n,t,i)}else if(typeof e=="string"){switch(i=t.blockedSegment,o=AFe(i.chunks,e,r,n.responseState,i.formatContext),i.lastPushedText=!1,a=i.formatContext,i.formatContext=EFe(a,e,r),XL(n,t,o),i.formatContext=a,e){case"area":case"base":case"br":case"col":case"embed":case"hr":case"img":case"input":case"keygen":case"link":case"meta":case"param":case"source":case"track":case"wbr":break;default:i.chunks.push(DFe,gt(e),MFe)}i.lastPushedText=!1}else{switch(e){case PLe:case TLe:case cZ:case dZ:case uZ:$o(n,t,r.children);return;case gZ:$o(n,t,r.children);return;case RLe:throw Error(ht(343));case vZ:e:{e=t.blockedBoundary,i=t.blockedSegment,o=r.fallback,r=r.children,a=new Set;var s={id:null,rootSegmentID:-1,parentFlushed:!1,pendingTasks:0,forceClientRender:!1,completedSegments:[],byteSize:0,fallbackAbortableTasks:a,errorDigest:null},l=rO(n,i.chunks.length,s,i.formatContext,!1,!1);i.children.push(l),i.lastPushedText=!1;var u=rO(n,0,null,i.formatContext,!1,!1);u.parentFlushed=!0,t.blockedBoundary=s,t.blockedSegment=u;try{if(XL(n,t,r),u.lastPushedText&&u.textEmbedded&&u.chunks.push(rV),u.status=1,iO(s,u),s.pendingTasks===0)break e}catch(c){u.status=4,s.forceClientRender=!0,s.errorDigest=VS(n,c)}finally{t.blockedBoundary=e,t.blockedSegment=i}t=sV(n,o,e,l,a,t.legacyContext,t.context,t.treeContext),n.pingedTasks.push(t)}return}if(typeof e=="object"&&e!==null)switch(e.$$typeof){case fZ:if(r=nU(n,t,e.render,r,i),GS!==0){e=t.treeContext,t.treeContext=KL(e,1,0);try{$o(n,t,r)}finally{t.treeContext=e}}else $o(n,t,r);return;case yZ:e=e.type,r=oU(e,r),YL(n,t,e,r,i);return;case pZ:if(i=r.children,e=e._context,r=r.value,o=e._currentValue,e._currentValue=r,a=gh,gh=r={parent:a,depth:a===null?0:a.depth+1,context:e,parentValue:o,value:r},t.context=r,$o(n,t,i),n=gh,n===null)throw Error(ht(403));r=n.parentValue,n.context._currentValue=r===ALe?n.context._defaultValue:r,n=gh=n.parent,t.context=n;return;case hZ:r=r.children,r=r(e._currentValue),$o(n,t,r);return;case nV:i=e._init,e=i(e._payload),r=oU(e,r),YL(n,t,e,r,void 0);return}throw Error(ht(130,e==null?e:typeof e,""))}}function $o(n,t,e){if(t.node=e,typeof e=="object"&&e!==null){switch(e.$$typeof){case OLe:YL(n,t,e.type,e.props,e.ref);return;case lZ:throw Error(ht(257));case nV:var r=e._init;e=r(e._payload),$o(n,t,e);return}if(UL(e)){aU(n,t,e);return}if(e===null||typeof e!="object"?r=null:(r=XW&&e[XW]||e["@@iterator"],r=typeof r=="function"?r:null),r&&(r=r.call(e))){if(e=r.next(),!e.done){var i=[];do i.push(e.value),e=r.next();while(!e.done);aU(n,t,i)}return}throw n=Object.prototype.toString.call(e),Error(ht(31,n==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":n))}typeof e=="string"?(r=t.blockedSegment,r.lastPushedText=jW(t.blockedSegment.chunks,e,n.responseState,r.lastPushedText)):typeof e=="number"&&(r=t.blockedSegment,r.lastPushedText=jW(t.blockedSegment.chunks,""+e,n.responseState,r.lastPushedText))}function aU(n,t,e){for(var r=e.length,i=0;i<r;i++){var o=t.treeContext;t.treeContext=KL(o,r,i);try{XL(n,t,e[i])}finally{t.treeContext=o}}}function XL(n,t,e){var r=t.blockedSegment.formatContext,i=t.legacyContext,o=t.context;try{return $o(n,t,e)}catch(l){if(aV(),typeof l=="object"&&l!==null&&typeof l.then=="function"){e=l;var a=t.blockedSegment,s=rO(n,a.chunks.length,null,a.formatContext,a.lastPushedText,!0);a.children.push(s),a.lastPushedText=!1,n=sV(n,t.node,t.blockedBoundary,s,t.abortSet,t.legacyContext,t.context,t.treeContext).ping,e.then(n,n),t.blockedSegment.formatContext=r,t.legacyContext=i,t.context=o,eO(o)}else throw t.blockedSegment.formatContext=r,t.legacyContext=i,t.context=o,eO(o),l}}function HLe(n){var t=n.blockedBoundary;n=n.blockedSegment,n.status=3,bZ(this,t,n)}function EZ(n,t,e){var r=n.blockedBoundary;n.blockedSegment.status=3,r===null?(t.allPendingTasks--,t.status!==2&&(t.status=2,t.destination!==null&&t.destination.close())):(r.pendingTasks--,r.forceClientRender||(r.forceClientRender=!0,n=e===void 0?Error(ht(432)):e,r.errorDigest=t.onError(n),r.parentFlushed&&t.clientRenderedBoundaries.push(r)),r.fallbackAbortableTasks.forEach(function(i){return EZ(i,t,e)}),r.fallbackAbortableTasks.clear(),t.allPendingTasks--,t.allPendingTasks===0&&(r=t.onAllReady,r()))}function iO(n,t){if(t.chunks.length===0&&t.children.length===1&&t.children[0].boundary===null){var e=t.children[0];e.id=t.id,e.parentFlushed=!0,e.status===1&&iO(n,e)}else n.completedSegments.push(t)}function bZ(n,t,e){if(t===null){if(e.parentFlushed){if(n.completedRootSegment!==null)throw Error(ht(389));n.completedRootSegment=e}n.pendingRootTasks--,n.pendingRootTasks===0&&(n.onShellError=Bm,t=n.onShellReady,t())}else t.pendingTasks--,t.forceClientRender||(t.pendingTasks===0?(e.parentFlushed&&e.status===1&&iO(t,e),t.parentFlushed&&n.completedBoundaries.push(t),t.fallbackAbortableTasks.forEach(HLe,n),t.fallbackAbortableTasks.clear()):e.parentFlushed&&e.status===1&&(iO(t,e),t.completedSegments.length===1&&t.parentFlushed&&n.partialBoundaries.push(t)));n.allPendingTasks--,n.allPendingTasks===0&&(n=n.onAllReady,n())}function OZ(n){if(n.status!==2){var t=gh,e=ND.current;ND.current=rU;var r=dE;dE=n.responseState;try{var i=n.pingedTasks,o;for(o=0;o<i.length;o++){var a=i[o],s=n,l=a.blockedSegment;if(l.status===0){eO(a.context);try{$o(s,a,a.node),l.lastPushedText&&l.textEmbedded&&l.chunks.push(rV),a.abortSet.delete(a),l.status=1,bZ(s,a.blockedBoundary,l)}catch(f){if(aV(),typeof f=="object"&&f!==null&&typeof f.then=="function"){var u=a.ping;f.then(u,u)}else{a.abortSet.delete(a),l.status=4;var c=a.blockedBoundary,d=f,p=VS(s,d);if(c===null?nO(s,d):(c.pendingTasks--,c.forceClientRender||(c.forceClientRender=!0,c.errorDigest=p,c.parentFlushed&&s.clientRenderedBoundaries.push(c))),s.allPendingTasks--,s.allPendingTasks===0){var h=s.onAllReady;h()}}}finally{}}}i.splice(0,o),n.destination!==null&&lV(n,n.destination)}catch(f){VS(n,f),nO(n,f)}finally{dE=r,ND.current=e,e===rU&&eO(t)}}}function N_(n,t,e){switch(e.parentFlushed=!0,e.status){case 0:var r=e.id=n.nextSegmentId++;return e.lastPushedText=!1,e.textEmbedded=!1,n=n.responseState,Me(t,FFe),Me(t,n.placeholderPrefix),n=gt(r.toString(16)),Me(t,n),vr(t,LFe);case 1:e.status=2;var i=!0;r=e.chunks;var o=0;e=e.children;for(var a=0;a<e.length;a++){for(i=e[a];o<i.index;o++)Me(t,r[o]);i=jT(n,t,i)}for(;o<r.length-1;o++)Me(t,r[o]);return o<r.length&&(i=vr(t,r[o])),i;default:throw Error(ht(390))}}function jT(n,t,e){var r=e.boundary;if(r===null)return N_(n,t,e);if(r.parentFlushed=!0,r.forceClientRender)r=r.errorDigest,vr(t,GFe),Me(t,BFe),r&&(Me(t,jFe),Me(t,gt(Un(r))),Me(t,HFe)),vr(t,$Fe),N_(n,t,e);else if(0<r.pendingTasks){r.rootSegmentID=n.nextSegmentId++,0<r.completedSegments.length&&n.partialBoundaries.push(r);var i=n.responseState,o=i.nextSuspenseID++;i=Re(i.boundaryPrefix+o.toString(16)),r=r.id=i,YW(t,n.responseState,r),N_(n,t,e)}else if(r.byteSize>n.progressiveChunkSize)r.rootSegmentID=n.nextSegmentId++,n.completedBoundaries.push(r),YW(t,n.responseState,r.id),N_(n,t,e);else{if(vr(t,IFe),e=r.completedSegments,e.length!==1)throw Error(ht(391));jT(n,t,e[0])}return vr(t,VFe)}function sU(n,t,e){return dLe(t,n.responseState,e.formatContext,e.id),jT(n,t,e),pLe(t,e.formatContext)}function lU(n,t,e){for(var r=e.completedSegments,i=0;i<r.length;i++)RZ(n,t,e,r[i]);if(r.length=0,n=n.responseState,r=e.id,e=e.rootSegmentID,Me(t,n.startInlineScript),n.sentCompleteBoundaryFunction?Me(t,mLe):(n.sentCompleteBoundaryFunction=!0,Me(t,yLe)),r===null)throw Error(ht(395));return e=gt(e.toString(16)),Me(t,r),Me(t,CLe),Me(t,n.segmentPrefix),Me(t,e),vr(t,SLe)}function RZ(n,t,e,r){if(r.status===2)return!0;var i=r.id;if(i===-1){if((r.id=e.rootSegmentID)===-1)throw Error(ht(392));return sU(n,t,r)}return sU(n,t,r),n=n.responseState,Me(t,n.startInlineScript),n.sentCompleteSegmentFunction?Me(t,fLe):(n.sentCompleteSegmentFunction=!0,Me(t,hLe)),Me(t,n.segmentPrefix),i=gt(i.toString(16)),Me(t,i),Me(t,vLe),Me(t,n.placeholderPrefix),Me(t,i),vr(t,gLe)}function lV(n,t){Ho=new Uint8Array(512),jo=0;try{var e=n.completedRootSegment;if(e!==null&&n.pendingRootTasks===0){jT(n,t,e),n.completedRootSegment=null;var r=n.responseState.bootstrapChunks;for(e=0;e<r.length-1;e++)Me(t,r[e]);e<r.length&&vr(t,r[e])}var i=n.clientRenderedBoundaries,o;for(o=0;o<i.length;o++){var a=i[o];r=t;var s=n.responseState,l=a.id,u=a.errorDigest,c=a.errorMessage,d=a.errorComponentStack;if(Me(r,s.startInlineScript),s.sentClientRenderFunction?Me(r,_Le):(s.sentClientRenderFunction=!0,Me(r,wLe)),l===null)throw Error(ht(395));Me(r,l),Me(r,xLe),(u||c||d)&&(Me(r,LD),Me(r,gt(ID(u||"")))),(c||d)&&(Me(r,LD),Me(r,gt(ID(c||"")))),d&&(Me(r,LD),Me(r,gt(ID(d)))),vr(r,ELe)}i.splice(0,o);var p=n.completedBoundaries;for(o=0;o<p.length;o++)lU(n,t,p[o]);p.splice(0,o),GW(t),Ho=new Uint8Array(512),jo=0;var h=n.partialBoundaries;for(o=0;o<h.length;o++){var f=h[o];e:{i=n,a=t;var v=f.completedSegments;for(s=0;s<v.length;s++)if(!RZ(i,a,f,v[s])){s++,v.splice(0,s);var g=!1;break e}v.splice(0,s),g=!0}if(!g){n.destination=null,o++,h.splice(0,o);return}}h.splice(0,o);var y=n.completedBoundaries;for(o=0;o<y.length;o++)lU(n,t,y[o]);y.splice(0,o)}finally{GW(t),n.allPendingTasks===0&&n.pingedTasks.length===0&&n.clientRenderedBoundaries.length===0&&n.completedBoundaries.length===0&&t.close()}}function uU(n,t){try{var e=n.abortableTasks;e.forEach(function(r){return EZ(r,n,t)}),e.clear(),n.destination!==null&&lV(n,n.destination)}catch(r){VS(n,r),nO(n,r)}}JG.renderToReadableStream=function(n,t){return new Promise(function(e,r){var i,o,a=new Promise(function(c,d){o=c,i=d}),s=BLe(n,_Fe(t?t.identifierPrefix:void 0,t?t.nonce:void 0,t?t.bootstrapScriptContent:void 0,t?t.bootstrapScripts:void 0,t?t.bootstrapModules:void 0),xFe(t?t.namespaceURI:void 0),t?t.progressiveChunkSize:void 0,t?t.onError:void 0,o,function(){var c=new ReadableStream({type:"bytes",pull:function(d){if(s.status===1)s.status=2,oZ(d,s.fatalError);else if(s.status!==2&&s.destination===null){s.destination=d;try{lV(s,d)}catch(p){VS(s,p),nO(s,p)}}},cancel:function(){uU(s)}},{highWaterMark:0});c.allReady=a,e(c)},function(c){a.catch(function(){}),r(c)},i);if(t&&t.signal){var l=t.signal,u=function(){uU(s,l.reason),l.removeEventListener("abort",u)};l.addEventListener("abort",u)}OZ(s)})};JG.version="18.2.0";var $g,TZ;$g=jg,TZ=JG;af.version=$g.version;af.renderToString=$g.renderToString;af.renderToStaticMarkup=$g.renderToStaticMarkup;af.renderToNodeStream=$g.renderToNodeStream;af.renderToStaticNodeStream=$g.renderToStaticNodeStream;af.renderToReadableStream=TZ.renderToReadableStream;var oO=X&&X.__assign||function(){return oO=Object.assign||function(n){for(var t,e=1,r=arguments.length;e<r;e++){t=arguments[e];for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(n[i]=t[i])}return n},oO.apply(this,arguments)},jLe=X&&X.__importDefault||function(n){return n&&n.__esModule?n:{default:n}};Object.defineProperty(Ww,"__esModule",{value:!0});Ww.ReactComponent=void 0;var cU=I,im=xn,dU=jLe(WG),$Le=Qh,WLe=af,ULe=function(){function n(t,e,r,i){var o=this;this.portal=null,this.oldPortal=null,this.reactComponent=t,this.portalManager=e,this.componentType=r,this.suppressFallbackMethods=!!i,this.statelessComponent=this.isStateless(this.reactComponent),this.key=dU.default(),this.portalKey=dU.default(),this.instanceCreated=this.isStatelessComponent()?im.AgPromise.resolve(!1):new im.AgPromise(function(a){o.resolveInstanceCreated=a})}return n.prototype.getGui=function(){return this.eParentElement},n.prototype.getRootElement=function(){var t=this.eParentElement.firstChild;return t},n.prototype.destroy=function(){return this.componentInstance&&typeof this.componentInstance.destroy=="function"&&this.componentInstance.destroy(),this.portalManager.destroyPortal(this.portal)},n.prototype.createParentElement=function(t){var e=this.portalManager.getComponentWrappingElement(),r=document.createElement(e||"div");return r.classList.add("ag-react-container"),t.reactContainer=r,r},n.prototype.addParentContainerStyleAndClasses=function(){var t=this;if(this.componentInstance&&(this.componentInstance.getReactContainerStyle&&this.componentInstance.getReactContainerStyle()&&(im._.warnOnce('Since v31.1 "getReactContainerStyle" is deprecated. Apply styling directly to ".ag-react-container" if needed.'),Object.assign(this.eParentElement.style,this.componentInstance.getReactContainerStyle())),this.componentInstance.getReactContainerClasses&&this.componentInstance.getReactContainerClasses())){im._.warnOnce('Since v31.1 "getReactContainerClasses" is deprecated. Apply styling directly to ".ag-react-container" if needed.');var e=this.componentInstance.getReactContainerClasses();e.forEach(function(r){return t.eParentElement.classList.add(r)})}},n.prototype.statelessComponentRendered=function(){return this.eParentElement.childElementCount>0||this.eParentElement.childNodes.length>0},n.prototype.getFrameworkComponentInstance=function(){return this.componentInstance},n.prototype.isStatelessComponent=function(){return this.statelessComponent},n.prototype.getReactComponentName=function(){return this.reactComponent.name},n.prototype.getMemoType=function(){return this.hasSymbol()?Symbol.for("react.memo"):60115},n.prototype.hasSymbol=function(){return typeof Symbol=="function"&&Symbol.for},n.prototype.isStateless=function(t){return typeof t=="function"&&!(t.prototype&&t.prototype.isReactComponent)||typeof t=="object"&&t.$$typeof===this.getMemoType()},n.prototype.hasMethod=function(t){var e=this.getFrameworkComponentInstance();return!!e&&e[t]!=null||this.fallbackMethodAvailable(t)},n.prototype.callMethod=function(t,e){var r=this,i=this.getFrameworkComponentInstance();if(this.isStatelessComponent())return this.fallbackMethod(t,e&&e[0]?e[0]:{});if(!i){setTimeout(function(){return r.callMethod(t,e)});return}var o=i[t];if(o)return o.apply(i,e);if(this.fallbackMethodAvailable(t))return this.fallbackMethod(t,e&&e[0]?e[0]:{})},n.prototype.addMethod=function(t,e){this[t]=e},n.prototype.init=function(t){var e=this;return this.eParentElement=this.createParentElement(t),this.params=t,this.createOrUpdatePortal(t),new im.AgPromise(function(r){return e.createReactComponent(r)})},n.prototype.createOrUpdatePortal=function(t){var e=this;this.isStatelessComponent()||(this.ref=function(r){var i;e.componentInstance=r,e.addParentContainerStyleAndClasses(),(i=e.resolveInstanceCreated)===null||i===void 0||i.call(e,!0),e.resolveInstanceCreated=void 0},t.ref=this.ref),this.reactElement=this.createElement(this.reactComponent,oO(oO({},t),{key:this.key})),this.portal=$Le.createPortal(this.reactElement,this.eParentElement,this.portalKey)},n.prototype.createElement=function(t,e){return cU.createElement(t,e)},n.prototype.createReactComponent=function(t){this.portalManager.mountReactPortal(this.portal,this,function(e){t(e)})},n.prototype.isNullValue=function(){return this.valueRenderedIsNull(this.params)},n.prototype.rendered=function(){return this.isStatelessComponent()&&this.statelessComponentRendered()||!!(!this.isStatelessComponent()&&this.getFrameworkComponentInstance())},n.prototype.valueRenderedIsNull=function(t){if(!this.componentType.cellRenderer)return!1;var e=console.error;try{console.error=function(){};var r=WLe.renderToStaticMarkup(cU.createElement(this.reactComponent,t));return r===""}catch{}finally{console.error=e}return!1},n.prototype.refreshComponent=function(t){this.oldPortal=this.portal,this.createOrUpdatePortal(t),this.portalManager.updateReactPortal(this.oldPortal,this.portal)},n.prototype.fallbackMethod=function(t,e){var r=this[t+"Component"];if(!this.suppressFallbackMethods&&r)return r.bind(this)(e)},n.prototype.fallbackMethodAvailable=function(t){if(this.suppressFallbackMethods)return!1;var e=this[t+"Component"];return!!e},n}();Ww.ReactComponent=ULe;var zLe=X&&X.__extends||function(){var n=function(t,e){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])},n(t,e)};return function(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");n(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}}(),aO=X&&X.__assign||function(){return aO=Object.assign||function(n){for(var t,e=1,r=arguments.length;e<r;e++){t=arguments[e];for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(n[i]=t[i])}return n},aO.apply(this,arguments)},KLe=X&&X.__importDefault||function(n){return n&&n.__esModule?n:{default:n}};Object.defineProperty(Pi,"__esModule",{value:!0});Pi.CustomComponentWrapper=Pi.addOptionalMethods=void 0;var kD=xn,YLe=KLe($G),XLe=Ww;function PZ(n,t,e){n.forEach(function(r){var i=t[r];i&&(e[r]=i)})}Pi.addOptionalMethods=PZ;var qLe=function(n){zLe(t,n);function t(){var e=n!==null&&n.apply(this,arguments)||this;return e.awaitUpdateCallback=new kD.AgPromise(function(r){e.resolveUpdateCallback=r}),e.wrapperComponent=YLe.default,e}return t.prototype.init=function(e){return this.sourceParams=e,n.prototype.init.call(this,this.getProps())},t.prototype.addMethod=function(){},t.prototype.getInstance=function(){var e=this;return this.instanceCreated.then(function(){return e.componentInstance})},t.prototype.getFrameworkComponentInstance=function(){return this},t.prototype.createElement=function(e,r){var i=this;return n.prototype.createElement.call(this,this.wrapperComponent,{initialProps:r,CustomComponentClass:e,setMethods:function(o){return i.setMethods(o)},addUpdateCallback:function(o){i.updateCallback=function(){return o(i.getProps()),new kD.AgPromise(function(a){setTimeout(function(){a()})})},i.resolveUpdateCallback()}})},t.prototype.setMethods=function(e){this.providedMethods=e,PZ(this.getOptionalMethods(),this.providedMethods,this)},t.prototype.getOptionalMethods=function(){return[]},t.prototype.getProps=function(){return aO(aO({},this.sourceParams),{key:this.key,ref:this.ref})},t.prototype.refreshProps=function(){var e=this;return this.updateCallback?this.updateCallback():new kD.AgPromise(function(r){return e.awaitUpdateCallback.then(function(){e.updateCallback().then(function(){return r()})})})},t}(XLe.ReactComponent);Pi.CustomComponentWrapper=qLe;var ZLe=X&&X.__extends||function(){var n=function(t,e){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])},n(t,e)};return function(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");n(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}}();Object.defineProperty(NT,"__esModule",{value:!0});NT.DateComponentWrapper=void 0;var QLe=Pi,JLe=function(n){ZLe(t,n);function t(){var e=n!==null&&n.apply(this,arguments)||this;return e.date=null,e.onDateChange=function(r){return e.updateDate(r)},e}return t.prototype.getDate=function(){return this.date},t.prototype.setDate=function(e){this.date=e,this.refreshProps()},t.prototype.refresh=function(e){this.sourceParams=e,this.refreshProps()},t.prototype.getOptionalMethods=function(){return["afterGuiAttached","setInputPlaceholder","setInputAriaLabel","setDisabled"]},t.prototype.updateDate=function(e){this.setDate(e),this.sourceParams.onDateChanged()},t.prototype.getProps=function(){var e=n.prototype.getProps.call(this);return e.date=this.date,e.onDateChange=this.onDateChange,delete e.onDateChanged,e},t}(QLe.CustomComponentWrapper);NT.DateComponentWrapper=JLe;var $T={},eIe=X&&X.__extends||function(){var n=function(t,e){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])},n(t,e)};return function(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");n(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}}();Object.defineProperty($T,"__esModule",{value:!0});$T.FilterComponentWrapper=void 0;var tIe=Pi,rIe=function(n){eIe(t,n);function t(){var e=n!==null&&n.apply(this,arguments)||this;return e.model=null,e.onModelChange=function(r){return e.updateModel(r)},e.onUiChange=function(){return e.sourceParams.filterChangedCallback()},e}return t.prototype.isFilterActive=function(){return this.model!=null},t.prototype.doesFilterPass=function(e){return this.providedMethods.doesFilterPass(e)},t.prototype.getModel=function(){return this.model},t.prototype.setModel=function(e){return this.model=e,this.refreshProps()},t.prototype.refresh=function(e){return this.sourceParams=e,this.refreshProps(),!0},t.prototype.getOptionalMethods=function(){return["afterGuiAttached","afterGuiDetached","onNewRowsLoaded","getModelAsString","onAnyFilterChanged"]},t.prototype.updateModel=function(e){var r=this;this.setModel(e).then(function(){return r.sourceParams.filterChangedCallback()})},t.prototype.getProps=function(){var e=n.prototype.getProps.call(this);return e.model=this.model,e.onModelChange=this.onModelChange,e.onUiChange=this.onUiChange,delete e.filterChangedCallback,delete e.filterModifiedCallback,delete e.valueGetter,e},t}(tIe.CustomComponentWrapper);$T.FilterComponentWrapper=rIe;var WT={},Kh={},sO=X&&X.__assign||function(){return sO=Object.assign||function(n){for(var t,e=1,r=arguments.length;e<r;e++){t=arguments[e];for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(n[i]=t[i])}return n},sO.apply(this,arguments)};Object.defineProperty(Kh,"__esModule",{value:!0});Kh.FloatingFilterComponentProxy=Kh.updateFloatingFilterParent=void 0;var nIe=xn,iIe=Pi;function AZ(n,t){n.parentFilterInstance(function(e){(e.setModel(t)||nIe.AgPromise.resolve()).then(function(){n.filterParams.filterChangedCallback()})})}Kh.updateFloatingFilterParent=AZ;var oIe=function(){function n(t,e){var r=this;this.floatingFilterParams=t,this.refreshProps=e,this.model=null,this.onModelChange=function(i){return r.updateModel(i)}}return n.prototype.getProps=function(){return sO(sO({},this.floatingFilterParams),{model:this.model,onModelChange:this.onModelChange})},n.prototype.onParentModelChanged=function(t){this.model=t,this.refreshProps()},n.prototype.refresh=function(t){this.floatingFilterParams=t,this.refreshProps()},n.prototype.setMethods=function(t){iIe.addOptionalMethods(this.getOptionalMethods(),t,this)},n.prototype.getOptionalMethods=function(){return["afterGuiAttached"]},n.prototype.updateModel=function(t){this.model=t,this.refreshProps(),AZ(this.floatingFilterParams,t)},n}();Kh.FloatingFilterComponentProxy=oIe;var aIe=X&&X.__extends||function(){var n=function(t,e){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])},n(t,e)};return function(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");n(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}}();Object.defineProperty(WT,"__esModule",{value:!0});WT.FloatingFilterComponentWrapper=void 0;var sIe=Pi,lIe=Kh,uIe=function(n){aIe(t,n);function t(){var e=n!==null&&n.apply(this,arguments)||this;return e.model=null,e.onModelChange=function(r){return e.updateModel(r)},e}return t.prototype.onParentModelChanged=function(e){this.model=e,this.refreshProps()},t.prototype.refresh=function(e){this.sourceParams=e,this.refreshProps()},t.prototype.getOptionalMethods=function(){return["afterGuiAttached"]},t.prototype.updateModel=function(e){this.model=e,this.refreshProps(),lIe.updateFloatingFilterParent(this.sourceParams,e)},t.prototype.getProps=function(){var e=n.prototype.getProps.call(this);return e.model=this.model,e.onModelChange=this.onModelChange,e},t}(sIe.CustomComponentWrapper);WT.FloatingFilterComponentWrapper=uIe;var UT={},cIe=X&&X.__extends||function(){var n=function(t,e){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])},n(t,e)};return function(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");n(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}}();Object.defineProperty(UT,"__esModule",{value:!0});UT.LoadingOverlayComponentWrapper=void 0;var dIe=Pi,pIe=function(n){cIe(t,n);function t(){return n!==null&&n.apply(this,arguments)||this}return t.prototype.refresh=function(e){this.sourceParams=e,this.refreshProps()},t}(dIe.CustomComponentWrapper);UT.LoadingOverlayComponentWrapper=pIe;var zT={},hIe=X&&X.__extends||function(){var n=function(t,e){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])},n(t,e)};return function(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");n(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}}();Object.defineProperty(zT,"__esModule",{value:!0});zT.MenuItemComponentWrapper=void 0;var fIe=Pi,vIe=function(n){hIe(t,n);function t(){var e=n!==null&&n.apply(this,arguments)||this;return e.active=!1,e.expanded=!1,e.onActiveChange=function(r){return e.updateActive(r)},e}return t.prototype.setActive=function(e){this.awaitSetActive(e)},t.prototype.setExpanded=function(e){this.expanded=e,this.refreshProps()},t.prototype.getOptionalMethods=function(){return["select","configureDefaults"]},t.prototype.awaitSetActive=function(e){return this.active=e,this.refreshProps()},t.prototype.updateActive=function(e){var r=this,i=this.awaitSetActive(e);e&&i.then(function(){return r.sourceParams.onItemActivated()})},t.prototype.getProps=function(){var e=n.prototype.getProps.call(this);return e.active=this.active,e.expanded=this.expanded,e.onActiveChange=this.onActiveChange,delete e.onItemActivated,e},t}(fIe.CustomComponentWrapper);zT.MenuItemComponentWrapper=vIe;var KT={},gIe=X&&X.__extends||function(){var n=function(t,e){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])},n(t,e)};return function(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");n(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}}();Object.defineProperty(KT,"__esModule",{value:!0});KT.NoRowsOverlayComponentWrapper=void 0;var yIe=Pi,mIe=function(n){gIe(t,n);function t(){return n!==null&&n.apply(this,arguments)||this}return t.prototype.refresh=function(e){this.sourceParams=e,this.refreshProps()},t}(yIe.CustomComponentWrapper);KT.NoRowsOverlayComponentWrapper=mIe;var YT={},CIe=X&&X.__extends||function(){var n=function(t,e){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])},n(t,e)};return function(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");n(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}}();Object.defineProperty(YT,"__esModule",{value:!0});YT.StatusPanelComponentWrapper=void 0;var SIe=Pi,wIe=function(n){CIe(t,n);function t(){return n!==null&&n.apply(this,arguments)||this}return t.prototype.refresh=function(e){return this.sourceParams=e,this.refreshProps(),!0},t}(SIe.CustomComponentWrapper);YT.StatusPanelComponentWrapper=wIe;var XT={},_Ie=X&&X.__extends||function(){var n=function(t,e){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])},n(t,e)};return function(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");n(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}}();Object.defineProperty(XT,"__esModule",{value:!0});XT.ToolPanelComponentWrapper=void 0;var xIe=Pi,EIe=function(n){_Ie(t,n);function t(){var e=n!==null&&n.apply(this,arguments)||this;return e.onStateChange=function(r){return e.updateState(r)},e}return t.prototype.refresh=function(e){return this.sourceParams=e,this.refreshProps(),!0},t.prototype.getState=function(){return this.state},t.prototype.updateState=function(e){this.state=e,this.refreshProps(),this.sourceParams.onStateUpdated()},t.prototype.getProps=function(){var e=n.prototype.getProps.call(this);return e.state=this.state,e.onStateChange=this.onStateChange,e},t}(xIe.CustomComponentWrapper);XT.ToolPanelComponentWrapper=EIe;var qT={},pU=X&&X.__spreadArray||function(n,t){for(var e=0,r=t.length,i=n.length;e<r;e++,i++)n[i]=t[e];return n};Object.defineProperty(qT,"__esModule",{value:!0});qT.PortalManager=void 0;var bIe=function(){function n(t,e,r){this.destroyed=!1,this.portals=[],this.hasPendingPortalUpdate=!1,this.wrappingElement=e||"div",this.refresher=t,this.maxComponentCreationTimeMs=r||n.MAX_COMPONENT_CREATION_TIME_IN_MS}return n.prototype.getPortals=function(){return this.portals},n.prototype.destroy=function(){this.destroyed=!0},n.prototype.destroyPortal=function(t){this.portals=this.portals.filter(function(e){return e!==t}),this.batchUpdate()},n.prototype.getComponentWrappingElement=function(){return this.wrappingElement},n.prototype.mountReactPortal=function(t,e,r){this.portals=pU(pU([],this.portals),[t]),this.waitForInstance(e,r),this.batchUpdate()},n.prototype.updateReactPortal=function(t,e){this.portals[this.portals.indexOf(t)]=e,this.batchUpdate()},n.prototype.batchUpdate=function(){var t=this;this.hasPendingPortalUpdate||(setTimeout(function(){t.destroyed||(t.refresher(),t.hasPendingPortalUpdate=!1)}),this.hasPendingPortalUpdate=!0)},n.prototype.waitForInstance=function(t,e,r){var i=this;if(r===void 0&&(r=Date.now()),this.destroyed){e(null);return}if(t.rendered())e(t);else{if(Date.now()-r>=this.maxComponentCreationTimeMs&&!this.hasPendingPortalUpdate){if(t.isNullValue()){e(t);return}console.error("AG Grid: React Component '"+t.getReactComponentName()+"' not created within "+this.maxComponentCreationTimeMs+"ms."),console.error("    If the component is using `forwardRef` but not `useImperativeHandle`, add the following: `useImperativeHandle(ref, () => ({}));`");return}window.setTimeout(function(){i.waitForInstance(t,e,r)})}},n.MAX_COMPONENT_CREATION_TIME_IN_MS=1e3,n}();qT.PortalManager=bIe;var Ln={},OIe=X&&X.__importDefault||function(n){return n&&n.__esModule?n:{default:n}};Object.defineProperty(Ln,"__esModule",{value:!0});Ln.BeansContext=void 0;var RIe=OIe(I);Ln.BeansContext=RIe.default.createContext({});var gr={},qL=X&&X.__assign||function(){return qL=Object.assign||function(n){for(var t,e=1,r=arguments.length;e<r;e++){t=arguments[e];for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(n[i]=t[i])}return n},qL.apply(this,arguments)},hU=X&&X.__spreadArray||function(n,t){for(var e=0,r=t.length,i=n.length;e<r;e++,i++)n[i]=t[e];return n},TIe=X&&X.__importDefault||function(n){return n&&n.__esModule?n:{default:n}};Object.defineProperty(gr,"__esModule",{value:!0});gr.getNextValueIfDifferent=gr.agFlushSync=gr.runWithoutFlushSync=gr.isComponentStateless=gr.CssClasses=gr.classesList=void 0;var ZL=TIe(Qh),PIe=function(){for(var n=[],t=0;t<arguments.length;t++)n[t]=arguments[t];var e=n.filter(function(r){return r!=null&&r!==""});return e.join(" ")};gr.classesList=PIe;var AIe=function(){function n(){for(var t=this,e=[],r=0;r<arguments.length;r++)e[r]=arguments[r];this.classesMap={},e.forEach(function(i){t.classesMap[i]=!0})}return n.prototype.setClass=function(t,e){var r=!!this.classesMap[t]==e;if(r)return this;var i=new n;return i.classesMap=qL({},this.classesMap),i.classesMap[t]=e,i},n.prototype.toString=function(){var t=this,e=Object.keys(this.classesMap).filter(function(r){return t.classesMap[r]}).join(" ");return e},n}();gr.CssClasses=AIe;var DIe=function(n){var t=function(){return typeof Symbol=="function"&&Symbol.for},e=function(){return t()?Symbol.for("react.memo"):60115};return typeof n=="function"&&!(n.prototype&&n.prototype.isReactComponent)||typeof n=="object"&&n.$$typeof===e()};gr.isComponentStateless=DIe;var MIe=ZL.default.createRoot!=null&&ZL.default.flushSync!=null,pE=!1;function FIe(n){return pE||setTimeout(function(){return pE=!1},0),pE=!0,n()}gr.runWithoutFlushSync=FIe;var LIe=function(n,t){MIe&&n&&!pE?ZL.default.flushSync(t):t()};gr.agFlushSync=LIe;function IIe(n,t,e){if(t==null||n==null)return t;if(n===t||t.length===0&&n.length===0)return n;if(e||n.length===0&&t.length>0||n.length>0&&t.length===0)return t;for(var r=[],i=[],o=new Map,a=new Map,s=0;s<t.length;s++){var l=t[s];a.set(l.getInstanceId(),l)}for(var s=0;s<n.length;s++){var l=n[s];o.set(l.getInstanceId(),l),a.has(l.getInstanceId())&&r.push(l)}for(var s=0;s<t.length;s++){var l=t[s],u=l.getInstanceId();o.has(u)||i.push(l)}return r.length===n.length&&i.length===0?n:r.length===0&&i.length===t.length?t:hU(hU([],r),i)}gr.getNextValueIfDifferent=IIe;var uV={},Ls={};Object.defineProperty(Ls,"__esModule",{value:!0});Ls.createSyncJsComp=Ls.showJsComp=void 0;var NIe=function(n,t,e,r){var i=!n||n.componentFromFramework||t.isDestroyed();if(!i){var o=n.newAgStackInstance();if(o){var a,s,l=!1;return o.then(function(u){if(l){t.destroyBean(u);return}a=u,s=a.getGui(),e.appendChild(s),fU(r,a)}),function(){l=!0,a&&(s&&s.parentElement&&s.parentElement.removeChild(s),t.destroyBean(a),r&&fU(r,void 0))}}}};Ls.showJsComp=NIe;var fU=function(n,t){if(n)if(n instanceof Function){var e=n;e(t)}else{var r=n;r.current=t}},kIe=function(n){var t=n.newAgStackInstance();if(t)return t.resolveNow(null,function(e){return e})};Ls.createSyncJsComp=kIe;var lO=X&&X.__assign||function(){return lO=Object.assign||function(n){for(var t,e=1,r=arguments.length;e<r;e++){t=arguments[e];for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(n[i]=t[i])}return n},lO.apply(this,arguments)},GIe=X&&X.__createBinding||(Object.create?function(n,t,e,r){r===void 0&&(r=e),Object.defineProperty(n,r,{enumerable:!0,get:function(){return t[e]}})}:function(n,t,e,r){r===void 0&&(r=e),n[r]=t[e]}),VIe=X&&X.__setModuleDefault||(Object.create?function(n,t){Object.defineProperty(n,"default",{enumerable:!0,value:t})}:function(n,t){n.default=t}),BIe=X&&X.__importStar||function(n){if(n&&n.__esModule)return n;var t={};if(n!=null)for(var e in n)e!=="default"&&Object.prototype.hasOwnProperty.call(n,e)&&GIe(t,n,e);return VIe(t,n),t};Object.defineProperty(uV,"__esModule",{value:!0});var vU=xn,Bt=BIe(I),HIe=Ln,jIe=Ls,k_=gr,DZ=Bt.forwardRef(function(n,t){var e,r=Bt.useContext(HIe.BeansContext).context,i=Bt.useRef(null),o=Bt.useRef(null),a=Bt.useRef(null),s=Bt.useRef(null),l=Bt.useRef(null),u=Bt.useRef(),c=Bt.useState(),d=c[0],p=c[1],h=Bt.useState(),f=h[0],v=h[1],g=Bt.useState(),y=g[0],m=g[1],C=Bt.useState(function(){return new k_.CssClasses}),S=C[0],w=C[1],_=Bt.useState(function(){return new k_.CssClasses("ag-hidden")}),x=_[0],b=_[1],O=Bt.useState(function(){return new k_.CssClasses("ag-hidden")}),T=O[0],A=O[1],N=Bt.useState(function(){return new k_.CssClasses("ag-invisible")}),M=N[0],L=N[1];Bt.useImperativeHandle(t,function(){return{refresh:function(){return!1}}}),Bt.useLayoutEffect(function(){return jIe.showJsComp(d,r,o.current)},[d]);var G=Bt.useCallback(function(ie){if(i.current=ie,!i.current){r.destroyBean(u.current),u.current=null;return}var re={setInnerRenderer:function(Y,le){p(Y),m(le)},setChildCount:function(Y){return v(Y)},addOrRemoveCssClass:function(Y,le){return w(function(ye){return ye.setClass(Y,le)})},setContractedDisplayed:function(Y){return A(function(le){return le.setClass("ag-hidden",!Y)})},setExpandedDisplayed:function(Y){return b(function(le){return le.setClass("ag-hidden",!Y)})},setCheckboxVisible:function(Y){return L(function(le){return le.setClass("ag-invisible",!Y)})}};u.current=r.createBean(new vU.GroupCellRendererCtrl),u.current.init(re,i.current,a.current,s.current,l.current,DZ,n)},[]),H=Bt.useMemo(function(){return"ag-cell-wrapper "+S.toString()},[S]),j=Bt.useMemo(function(){return"ag-group-expanded "+x.toString()},[x]),V=Bt.useMemo(function(){return"ag-group-contracted "+T.toString()},[T]),W=Bt.useMemo(function(){return"ag-group-checkbox "+M.toString()},[M]),K=d&&d.componentFromFramework,ee=K?d.componentClass:void 0,Z=d==null&&y!=null,se=vU._.escapeString(y,!0);return Bt.default.createElement("span",lO({className:H,ref:G},n.colDef?{}:{role:(e=u.current)===null||e===void 0?void 0:e.getCellAriaRole()}),Bt.default.createElement("span",{className:j,ref:s}),Bt.default.createElement("span",{className:V,ref:l}),Bt.default.createElement("span",{className:W,ref:a}),Bt.default.createElement("span",{className:"ag-group-value",ref:o},Z&&Bt.default.createElement(Bt.default.Fragment,null,se),K&&Bt.default.createElement(ee,lO({},d.params))),Bt.default.createElement("span",{className:"ag-group-child-count"},f))});uV.default=DZ;var cV={},dV={},pV={},hV={},fV={},vV={},uO=X&&X.__assign||function(){return uO=Object.assign||function(n){for(var t,e=1,r=arguments.length;e<r;e++){t=arguments[e];for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(n[i]=t[i])}return n},uO.apply(this,arguments)},$Ie=X&&X.__createBinding||(Object.create?function(n,t,e,r){r===void 0&&(r=e),Object.defineProperty(n,r,{enumerable:!0,get:function(){return t[e]}})}:function(n,t,e,r){r===void 0&&(r=e),n[r]=t[e]}),WIe=X&&X.__setModuleDefault||(Object.create?function(n,t){Object.defineProperty(n,"default",{enumerable:!0,value:t})}:function(n,t){n.default=t}),UIe=X&&X.__importStar||function(n){if(n&&n.__esModule)return n;var t={};if(n!=null)for(var e in n)e!=="default"&&Object.prototype.hasOwnProperty.call(n,e)&&$Ie(t,n,e);return WIe(t,n),t};Object.defineProperty(vV,"__esModule",{value:!0});var Vn=UIe(I),zIe=Ln,GD=xn,KIe=gr,YIe=Ls,XIe=function(n){var t=n.ctrl,e=t.isAlive(),r=Vn.useContext(zIe.BeansContext).context,i=e?t.getColId():void 0,o=Vn.useState(),a=o[0],s=o[1],l=Vn.useRef(null),u=Vn.useRef(null),c=Vn.useRef(null),d=Vn.useRef(),p=Vn.useRef();e&&!p.current&&(p.current=new GD.CssClassManager(function(){return l.current}));var h=Vn.useCallback(function(y){var m;if(l.current=y,!(!l.current||!e)){var C={setWidth:function(w){l.current&&(l.current.style.width=w)},addOrRemoveCssClass:function(w,_){return p.current.addOrRemoveCssClass(w,_)},setAriaSort:function(w){l.current&&(w?GD._.setAriaSort(l.current,w):GD._.removeAriaSort(l.current))},setUserCompDetails:function(w){return s(w)},getUserCompInstance:function(){return d.current||void 0}};t.setComp(C,l.current,u.current,c.current);var S=t.getSelectAllGui();(m=u.current)===null||m===void 0||m.insertAdjacentElement("afterend",S)}},[]);Vn.useLayoutEffect(function(){return YIe.showJsComp(a,r,c.current,d)},[a]),Vn.useEffect(function(){t.setDragSource(l.current)},[a]);var f=Vn.useMemo(function(){var y=(a==null?void 0:a.componentFromFramework)&&KIe.isComponentStateless(a.componentClass);return!!y},[a]),v=a&&a.componentFromFramework,g=a&&a.componentClass;return Vn.default.createElement("div",{ref:h,className:"ag-header-cell","col-id":i,role:"columnheader"},Vn.default.createElement("div",{ref:u,className:"ag-header-cell-resize",role:"presentation"}),Vn.default.createElement("div",{ref:c,className:"ag-header-cell-comp-wrapper",role:"presentation"},v&&f&&Vn.default.createElement(g,uO({},a.params)),v&&!f&&Vn.default.createElement(g,uO({},a.params,{ref:d}))))};vV.default=Vn.memo(XIe);var gV={},cO=X&&X.__assign||function(){return cO=Object.assign||function(n){for(var t,e=1,r=arguments.length;e<r;e++){t=arguments[e];for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(n[i]=t[i])}return n},cO.apply(this,arguments)},qIe=X&&X.__createBinding||(Object.create?function(n,t,e,r){r===void 0&&(r=e),Object.defineProperty(n,r,{enumerable:!0,get:function(){return t[e]}})}:function(n,t,e,r){r===void 0&&(r=e),n[r]=t[e]}),ZIe=X&&X.__setModuleDefault||(Object.create?function(n,t){Object.defineProperty(n,"default",{enumerable:!0,value:t})}:function(n,t){n.default=t}),QIe=X&&X.__importStar||function(n){if(n&&n.__esModule)return n;var t={};if(n!=null)for(var e in n)e!=="default"&&Object.prototype.hasOwnProperty.call(n,e)&&qIe(t,n,e);return ZIe(t,n),t};Object.defineProperty(gV,"__esModule",{value:!0});var kr=QIe(I),JIe=Ln,e1e=Ls,VD=gr,t1e=function(n){var t=kr.useContext(JIe.BeansContext).context,e=n.ctrl,r=kr.useState(function(){return new VD.CssClasses}),i=r[0],o=r[1],a=kr.useState(function(){return new VD.CssClasses}),s=a[0],l=a[1],u=kr.useState("false"),c=u[0],d=u[1],p=kr.useState(),h=p[0],f=p[1],v=kr.useState(),g=v[0],y=v[1],m=kr.useMemo(function(){return e.getColId()},[]),C=kr.useRef(null),S=kr.useRef(null),w=kr.useRef(),_=kr.useCallback(function(N){if(C.current=N,!!C.current){var M={setWidth:function(L){C.current&&(C.current.style.width=L)},addOrRemoveCssClass:function(L,G){return o(function(H){return H.setClass(L,G)})},setUserCompDetails:function(L){return y(L)},setResizableDisplayed:function(L){l(function(G){return G.setClass("ag-hidden",!L)}),d(L?"false":"true")},setAriaExpanded:function(L){return f(L)},getUserCompInstance:function(){return w.current||void 0}};e.setComp(M,C.current,S.current)}},[]);kr.useLayoutEffect(function(){return e1e.showJsComp(g,t,C.current)},[g]),kr.useEffect(function(){C.current&&e.setDragSource(C.current)},[g]);var x=kr.useMemo(function(){var N=(g==null?void 0:g.componentFromFramework)&&VD.isComponentStateless(g.componentClass);return!!N},[g]),b=kr.useMemo(function(){return"ag-header-group-cell "+i.toString()},[i]),O=kr.useMemo(function(){return"ag-header-cell-resize "+s.toString()},[s]),T=g&&g.componentFromFramework,A=g&&g.componentClass;return kr.default.createElement("div",{ref:_,className:b,"col-id":m,role:"columnheader","aria-expanded":h},T&&x&&kr.default.createElement(A,cO({},g.params)),T&&!x&&kr.default.createElement(A,cO({},g.params,{ref:w})),kr.default.createElement("div",{ref:S,"aria-hidden":c,className:O}))};gV.default=kr.memo(t1e);var yV={},nc={};Object.defineProperty(nc,"__esModule",{value:!0});nc.warnReactiveCustomComponents=nc.getInstance=void 0;var MZ=xn;function r1e(n,t){var e,r,i,o=(i=(r=(e=n)===null||e===void 0?void 0:e.getInstance)===null||r===void 0?void 0:r.call(e))!==null&&i!==void 0?i:MZ.AgPromise.resolve(void 0);o.then(function(a){return t(a)})}nc.getInstance=r1e;function n1e(){MZ._.warnOnce("Using custom components without `reactiveCustomComponents = true` is deprecated.")}nc.warnReactiveCustomComponents=n1e;var dO=X&&X.__assign||function(){return dO=Object.assign||function(n){for(var t,e=1,r=arguments.length;e<r;e++){t=arguments[e];for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(n[i]=t[i])}return n},dO.apply(this,arguments)},i1e=X&&X.__createBinding||(Object.create?function(n,t,e,r){r===void 0&&(r=e),Object.defineProperty(n,r,{enumerable:!0,get:function(){return t[e]}})}:function(n,t,e,r){r===void 0&&(r=e),n[r]=t[e]}),o1e=X&&X.__setModuleDefault||(Object.create?function(n,t){Object.defineProperty(n,"default",{enumerable:!0,value:t})}:function(n,t){n.default=t}),a1e=X&&X.__importStar||function(n){if(n&&n.__esModule)return n;var t={};if(n!=null)for(var e in n)e!=="default"&&Object.prototype.hasOwnProperty.call(n,e)&&i1e(t,n,e);return o1e(t,n),t};Object.defineProperty(yV,"__esModule",{value:!0});var Kt=a1e(I),s1e=Ln,l1e=xn,G_=gr,u1e=Ls,c1e=Kh,d1e=of,p1e=nc,h1e=function(n){var t=Kt.useContext(s1e.BeansContext),e=t.context,r=t.gridOptionsService,i=Kt.useState(function(){return new G_.CssClasses("ag-header-cell","ag-floating-filter")}),o=i[0],a=i[1],s=Kt.useState(function(){return new G_.CssClasses}),l=s[0],u=s[1],c=Kt.useState(function(){return new G_.CssClasses("ag-floating-filter-button","ag-hidden")}),d=c[0],p=c[1],h=Kt.useState("false"),f=h[0],v=h[1],g=Kt.useState(),y=g[0],m=g[1],C=Kt.useState(1);C[0];var S=C[1],w=Kt.useRef(null),_=Kt.useRef(null),x=Kt.useRef(null),b=Kt.useRef(null),O=Kt.useRef(),T=Kt.useRef(),A=function(se){se!=null&&O.current&&O.current(se)},N=n.ctrl,M=Kt.useCallback(function(se){if(w.current=se,!!w.current){T.current=new l1e.AgPromise(function(re){O.current=re});var ie={addOrRemoveCssClass:function(re,Y){return a(function(le){return le.setClass(re,Y)})},addOrRemoveBodyCssClass:function(re,Y){return u(function(le){return le.setClass(re,Y)})},setButtonWrapperDisplayed:function(re){p(function(Y){return Y.setClass("ag-hidden",!re)}),v(re?"false":"true")},setWidth:function(re){w.current&&(w.current.style.width=re)},setCompDetails:function(re){return m(re)},getFloatingFilterComp:function(){return T.current?T.current:null},setMenuIcon:function(re){var Y;return(Y=b.current)===null||Y===void 0?void 0:Y.appendChild(re)}};N.setComp(ie,w.current,b.current,_.current)}},[]);Kt.useLayoutEffect(function(){return u1e.showJsComp(y,e,_.current,A)},[y]);var L=Kt.useMemo(function(){return o.toString()},[o]),G=Kt.useMemo(function(){return l.toString()},[l]),H=Kt.useMemo(function(){return d.toString()},[d]),j=Kt.useMemo(function(){var se=y&&y.componentFromFramework&&G_.isComponentStateless(y.componentClass);return!!se},[y]),V=Kt.useMemo(function(){return r.get("reactiveCustomComponents")},[]),W=Kt.useMemo(function(){if(y)if(V){var se=new c1e.FloatingFilterComponentProxy(y.params,function(){return S(function(ie){return ie+1})});return A(se),se}else y.componentFromFramework&&p1e.warnReactiveCustomComponents()},[y]),K=W==null?void 0:W.getProps(),ee=y&&y.componentFromFramework,Z=y&&y.componentClass;return Kt.default.createElement("div",{ref:M,className:L,role:"gridcell"},Kt.default.createElement("div",{ref:_,className:G,role:"presentation"},ee&&!V&&Kt.default.createElement(Z,dO({},y.params,{ref:j?function(){}:A})),ee&&V&&Kt.default.createElement(d1e.CustomContext.Provider,{value:{setMethods:function(se){return W.setMethods(se)}}},Kt.default.createElement(Z,dO({},K)))),Kt.default.createElement("div",{ref:x,"aria-hidden":f,className:H,role:"presentation"},Kt.default.createElement("button",{ref:b,type:"button",className:"ag-button ag-floating-filter-button-button",tabIndex:-1})))};yV.default=Kt.memo(h1e);var f1e=X&&X.__createBinding||(Object.create?function(n,t,e,r){r===void 0&&(r=e),Object.defineProperty(n,r,{enumerable:!0,get:function(){return t[e]}})}:function(n,t,e,r){r===void 0&&(r=e),n[r]=t[e]}),v1e=X&&X.__setModuleDefault||(Object.create?function(n,t){Object.defineProperty(n,"default",{enumerable:!0,value:t})}:function(n,t){n.default=t}),g1e=X&&X.__importStar||function(n){if(n&&n.__esModule)return n;var t={};if(n!=null)for(var e in n)e!=="default"&&Object.prototype.hasOwnProperty.call(n,e)&&f1e(t,n,e);return v1e(t,n),t},mV=X&&X.__importDefault||function(n){return n&&n.__esModule?n:{default:n}};Object.defineProperty(fV,"__esModule",{value:!0});var gU=xn,Io=g1e(I),y1e=mV(vV),m1e=mV(gV),C1e=mV(yV),yU=gr,S1e=function(n){var t=n.ctrl,e=Io.useMemo(function(){return t.getTopAndHeight()},[]),r=e.topOffset,i=e.rowHeight,o=t.getAriaRowIndex(),a=t.getHeaderRowClass(),s=Io.useState(function(){return i+"px"}),l=s[0],u=s[1],c=Io.useState(function(){return r+"px"}),d=c[0],p=c[1],h=Io.useState(function(){return t.getHeaderCtrls()}),f=h[0],v=h[1],g=Io.useRef(null),y=Io.useCallback(function(S){if(g.current=S,!!S){var w={setHeight:function(_){return u(_)},setTop:function(_){return p(_)},setHeaderCtrls:function(_,x,b){yU.agFlushSync(b,function(){v(function(O){return yU.getNextValueIfDifferent(O,_,x)})})},setWidth:function(_){g.current&&(g.current.style.width=_)}};t.setComp(w,!1)}},[]),m=Io.useMemo(function(){return{height:l,top:d}},[l,d]),C=Io.useCallback(function(S){switch(t.getType()){case gU.HeaderRowType.COLUMN_GROUP:return Io.default.createElement(m1e.default,{ctrl:S,key:S.getInstanceId()});case gU.HeaderRowType.FLOATING_FILTER:return Io.default.createElement(C1e.default,{ctrl:S,key:S.getInstanceId()});default:return Io.default.createElement(y1e.default,{ctrl:S,key:S.getInstanceId()})}},[]);return Io.default.createElement("div",{ref:y,className:a,role:"row",style:m,"aria-rowindex":o},f.map(C))};fV.default=Io.memo(S1e);var w1e=X&&X.__createBinding||(Object.create?function(n,t,e,r){r===void 0&&(r=e),Object.defineProperty(n,r,{enumerable:!0,get:function(){return t[e]}})}:function(n,t,e,r){r===void 0&&(r=e),n[r]=t[e]}),_1e=X&&X.__setModuleDefault||(Object.create?function(n,t){Object.defineProperty(n,"default",{enumerable:!0,value:t})}:function(n,t){n.default=t}),x1e=X&&X.__importStar||function(n){if(n&&n.__esModule)return n;var t={};if(n!=null)for(var e in n)e!=="default"&&Object.prototype.hasOwnProperty.call(n,e)&&w1e(t,n,e);return _1e(t,n),t},E1e=X&&X.__importDefault||function(n){return n&&n.__esModule?n:{default:n}};Object.defineProperty(hV,"__esModule",{value:!0});var yi=x1e(I),b1e=Ln,O1e=xn,R1e=E1e(fV),T1e=function(n){var t=yi.useState(!0),e=t[0],r=t[1],i=yi.useState([]),o=i[0],a=i[1],s=yi.useContext(b1e.BeansContext).context,l=yi.useRef(null),u=yi.useRef(null),c=yi.useRef(null),d=n.pinned==="left",p=n.pinned==="right",h=!d&&!p,f=yi.useCallback(function(y){if(l.current=y,!l.current){s.destroyBean(c.current),c.current=null;return}var m={setDisplayed:r,setCtrls:function(C){return a(C)},setCenterWidth:function(C){u.current&&(u.current.style.width=C)},setViewportScrollLeft:function(C){l.current&&(l.current.scrollLeft=C)},setPinnedContainerWidth:function(C){l.current&&(l.current.style.width=C,l.current.style.minWidth=C,l.current.style.maxWidth=C)}};c.current=s.createBean(new O1e.HeaderRowContainerCtrl(n.pinned)),c.current.setComp(m,l.current)},[]),v=e?"":"ag-hidden",g=function(){return o.map(function(y){return yi.default.createElement(R1e.default,{ctrl:y,key:y.getInstanceId()})})};return yi.default.createElement(yi.default.Fragment,null,d&&yi.default.createElement("div",{ref:f,className:"ag-pinned-left-header "+v,"aria-hidden":!e,role:"rowgroup"},g()),p&&yi.default.createElement("div",{ref:f,className:"ag-pinned-right-header "+v,"aria-hidden":!e,role:"rowgroup"},g()),h&&yi.default.createElement("div",{ref:f,className:"ag-header-viewport "+v,role:"presentation"},yi.default.createElement("div",{ref:u,className:"ag-header-container",role:"rowgroup"},g())))};hV.default=yi.memo(T1e);var P1e=X&&X.__createBinding||(Object.create?function(n,t,e,r){r===void 0&&(r=e),Object.defineProperty(n,r,{enumerable:!0,get:function(){return t[e]}})}:function(n,t,e,r){r===void 0&&(r=e),n[r]=t[e]}),A1e=X&&X.__setModuleDefault||(Object.create?function(n,t){Object.defineProperty(n,"default",{enumerable:!0,value:t})}:function(n,t){n.default=t}),D1e=X&&X.__importStar||function(n){if(n&&n.__esModule)return n;var t={};if(n!=null)for(var e in n)e!=="default"&&Object.prototype.hasOwnProperty.call(n,e)&&P1e(t,n,e);return A1e(t,n),t},M1e=X&&X.__importDefault||function(n){return n&&n.__esModule?n:{default:n}};Object.defineProperty(pV,"__esModule",{value:!0});var No=D1e(I),F1e=Ln,L1e=xn,I1e=gr,BD=M1e(hV),N1e=function(){var n=No.useState(function(){return new I1e.CssClasses}),t=n[0],e=n[1],r=No.useState(),i=r[0],o=r[1],a=No.useContext(F1e.BeansContext).context,s=No.useRef(null),l=No.useRef(null),u=No.useCallback(function(p){if(s.current=p,!p){a.destroyBean(l.current),l.current=null;return}var h={addOrRemoveCssClass:function(f,v){return e(function(g){return g.setClass(f,v)})},setHeightAndMinHeight:function(f){return o(f)}};l.current=a.createBean(new L1e.GridHeaderCtrl),l.current.setComp(h,s.current,s.current)},[]),c=No.useMemo(function(){var p=t.toString();return"ag-header "+p},[t]),d=No.useMemo(function(){return{height:i,minHeight:i}},[i]);return No.default.createElement("div",{ref:u,className:c,style:d,role:"presentation"},No.default.createElement(BD.default,{pinned:"left"}),No.default.createElement(BD.default,{pinned:null}),No.default.createElement(BD.default,{pinned:"right"}))};pV.default=No.memo(N1e);var Uw={};Object.defineProperty(Uw,"__esModule",{value:!0});var k1e=I,G1e=function(n,t){k1e.useEffect(function(){var e=t.current;if(e){var r=e.parentElement;if(r){var i=document.createComment(n);return r.insertBefore(i,e),function(){r.removeChild(i)}}}},[n])};Uw.default=G1e;var CV={},SV={},FZ={},wV={},ZT={};Object.defineProperty(ZT,"__esModule",{value:!0});ZT.useEffectOnce=void 0;var Mf=I,V1e=function(n){var t=Mf.useRef(n),e=Mf.useRef(),r=Mf.useRef(!1),i=Mf.useRef(!1),o=Mf.useState(0),a=o[1];r.current&&(i.current=!0),Mf.useEffect(function(){return r.current||(e.current=t.current(),r.current=!0),a(function(s){return s+1}),function(){i.current&&e.current&&e.current()}},[])};ZT.useEffectOnce=V1e;var B1e=X&&X.__createBinding||(Object.create?function(n,t,e,r){r===void 0&&(r=e),Object.defineProperty(n,r,{enumerable:!0,get:function(){return t[e]}})}:function(n,t,e,r){r===void 0&&(r=e),n[r]=t[e]}),H1e=X&&X.__setModuleDefault||(Object.create?function(n,t){Object.defineProperty(n,"default",{enumerable:!0,value:t})}:function(n,t){n.default=t}),j1e=X&&X.__importStar||function(n){if(n&&n.__esModule)return n;var t={};if(n!=null)for(var e in n)e!=="default"&&Object.prototype.hasOwnProperty.call(n,e)&&B1e(t,n,e);return H1e(t,n),t};Object.defineProperty(wV,"__esModule",{value:!0});var $1e=xn,Hm=j1e(I),W1e=Qh,U1e=Ln,z1e=ZT,K1e=function(n){var t=Hm.useState(),e=t[0],r=t[1],i=Hm.useContext(U1e.BeansContext),o=i.context,a=i.popupService,s=i.localeService,l=i.gridOptionsService;return z1e.useEffectOnce(function(){var u=n.editDetails,c=n.cellCtrl,d=n.eParentCell,p=u.compDetails,h=l.get("stopEditingWhenCellsLoseFocus"),f=o.createBean(new $1e.PopupEditorWrapper(p.params)),v=f.getGui();if(n.jsChildComp){var g=n.jsChildComp.getGui();g&&v.appendChild(g)}var y={column:c.getColumn(),rowNode:c.getRowNode(),type:"popupCellEditor",eventSource:d,ePopup:v,position:u.popupPosition,keepWithinBounds:!0},m=a.positionPopupByComponent.bind(a,y),C=s.getLocaleTextFunc(),S=a.addPopup({modal:h,eChild:v,closeOnEsc:!0,closedCallback:function(){c.onPopupEditorClosed()},anchorToElement:d,positionCallback:m,ariaLabel:C("ariaLabelCellEditor","Cell Editor")}),w=S?S.hideFunc:void 0;return r(f),n.jsChildComp&&n.jsChildComp.afterGuiAttached&&n.jsChildComp.afterGuiAttached(),function(){w!=null&&w(),o.destroyBean(f)}}),Hm.default.createElement(Hm.default.Fragment,null,e&&n.wrappedContent&&W1e.createPortal(n.wrappedContent,e.getGui()))};wV.default=Hm.memo(K1e);var _V={};Object.defineProperty(_V,"__esModule",{value:!0});var V_=I,Y1e=Ln,X1e=function(n,t,e,r,i,o){var a=V_.useContext(Y1e.BeansContext).context,s=V_.useCallback(function(){var l=i.current;if(l){var u=l.getGui();u&&u.parentElement&&u.parentElement.removeChild(u),a.destroyBean(l),i.current=void 0}},[]);V_.useEffect(function(){var l=n!=null,u=n&&n.compDetails&&!n.compDetails.componentFromFramework,c=t&&e==null,d=l&&u&&!c;if(!d){s();return}var p=n.compDetails;if(i.current){var h=i.current,f=h.refresh!=null&&n.force==!1,v=f?h.refresh(p.params):!1,g=v===!0||v===void 0;if(g)return;s()}var y=p.newAgStackInstance();if(y){var m=y.resolveNow(null,function(w){return w});if(m){var C=m.getGui();if(C){var S=t?e:o.current;S.appendChild(C),i.current=m}}}},[n,t,r]),V_.useEffect(function(){return s},[])};_V.default=X1e;var QT={},pO=X&&X.__assign||function(){return pO=Object.assign||function(n){for(var t,e=1,r=arguments.length;e<r;e++){t=arguments[e];for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(n[i]=t[i])}return n},pO.apply(this,arguments)};Object.defineProperty(QT,"__esModule",{value:!0});QT.CellEditorComponentProxy=void 0;var q1e=xn,Z1e=Pi,Q1e=function(){function n(t,e){var r=this;this.cellEditorParams=t,this.refreshProps=e,this.instanceCreated=new q1e.AgPromise(function(i){r.resolveInstanceCreated=i}),this.onValueChange=function(i){return r.updateValue(i)},this.value=t.value}return n.prototype.getProps=function(){return pO(pO({},this.cellEditorParams),{initialValue:this.cellEditorParams.value,value:this.value,onValueChange:this.onValueChange})},n.prototype.getValue=function(){return this.value},n.prototype.refresh=function(t){this.cellEditorParams=t,this.refreshProps()},n.prototype.setMethods=function(t){Z1e.addOptionalMethods(this.getOptionalMethods(),t,this)},n.prototype.getInstance=function(){var t=this;return this.instanceCreated.then(function(){return t.componentInstance})},n.prototype.setRef=function(t){var e;this.componentInstance=t,(e=this.resolveInstanceCreated)===null||e===void 0||e.call(this),this.resolveInstanceCreated=void 0},n.prototype.getOptionalMethods=function(){return["isPopup","isCancelBeforeStart","isCancelAfterEnd","getPopupPosition","focusIn","focusOut","afterGuiAttached"]},n.prototype.updateValue=function(t){this.value=t,this.refreshProps()},n}();QT.CellEditorComponentProxy=Q1e;(function(n){var t=X&&X.__assign||function(){return t=Object.assign||function(_){for(var x,b=1,O=arguments.length;b<O;b++){x=arguments[b];for(var T in x)Object.prototype.hasOwnProperty.call(x,T)&&(_[T]=x[T])}return _},t.apply(this,arguments)},e=X&&X.__createBinding||(Object.create?function(_,x,b,O){O===void 0&&(O=b),Object.defineProperty(_,O,{enumerable:!0,get:function(){return x[b]}})}:function(_,x,b,O){O===void 0&&(O=b),_[O]=x[b]}),r=X&&X.__setModuleDefault||(Object.create?function(_,x){Object.defineProperty(_,"default",{enumerable:!0,value:x})}:function(_,x){_.default=x}),i=X&&X.__importStar||function(_){if(_&&_.__esModule)return _;var x={};if(_!=null)for(var b in _)b!=="default"&&Object.prototype.hasOwnProperty.call(_,b)&&e(x,_,b);return r(x,_),x},o=X&&X.__importDefault||function(_){return _&&_.__esModule?_:{default:_}};Object.defineProperty(n,"__esModule",{value:!0}),n.CellCompState=void 0;var a=xn,s=i(I),l=gr,u=o(wV),c=o(_V),d=Ln,p=Ls,h=QT,f=of,v=nc;(function(_){_[_.ShowValue=0]="ShowValue",_[_.EditValue=1]="EditValue"})(n.CellCompState||(n.CellCompState={}));var g=function(_,x,b){var O=b.getColumn();if(!_&&x.isPopup&&x.isPopup()){var T="AG Grid: Found an issue in column "+O.getColId()+". If using React, specify an editor is a popup using colDef.cellEditorPopup=true. AG Grid React cannot depend on the editor component specifying if it's in a popup (via the isPopup() method on the editor), as React needs to know this information BEFORE the component is created.";a._.doOnce(function(){return console.warn(T)},"jsEditorComp-isPopup-"+b.getColumn().getColId())}if(_&&x.getPopupPosition&&x.getPopupPosition()!=null){var A="AG Grid: Found an issue in column "+O.getColId()+". If using React, specify an editor popup position using colDef.cellEditorPopupPosition=true. AG Grid React cannot depend on the editor component specifying it's position (via the getPopupPosition() method on the editor), as React needs to know this information BEFORE the component is created.";a._.doOnce(function(){return console.warn(A)},"jsEditorComp-getPopupPosition-"+b.getColumn().getColId())}},y=function(_,x,b){var O=_.compProxy;b(O);var T=O.getProps(),A=l.isComponentStateless(x);return s.default.createElement(f.CustomContext.Provider,{value:{setMethods:function(N){return O.setMethods(N)}}},A&&s.default.createElement(x,t({},T)),!A&&s.default.createElement(x,t({},T,{ref:function(N){return O.setRef(N)}})))},m=function(_,x,b){var O=_.compProxy;return s.default.createElement(s.default.Fragment,null,!O&&s.default.createElement(x,t({},_.compDetails.params,{ref:b})),O&&y(_,x,b))},C=function(_,x,b,O,T,A){var N=_.compDetails,M=N.componentClass,L=N.componentFromFramework&&!_.popup,G=N.componentFromFramework&&_.popup,H=!N.componentFromFramework&&_.popup;return s.default.createElement(s.default.Fragment,null,L&&m(_,M,x),G&&s.default.createElement(u.default,{editDetails:_,cellCtrl:T,eParentCell:O,wrappedContent:m(_,M,b)}),H&&A&&s.default.createElement(u.default,{editDetails:_,cellCtrl:T,eParentCell:O,jsChildComp:A}))},S=function(_,x,b,O,T,A,N){var M=_.compDetails,L=_.value,G=!M,H=M&&M.componentFromFramework,j=M&&M.componentClass,V=L!=null&&L.toString?L.toString():L,W=function(){return s.default.createElement(s.default.Fragment,null,G&&s.default.createElement(s.default.Fragment,null,V),H&&!A&&s.default.createElement(j,t({},M.params,{key:x,ref:O})),H&&A&&s.default.createElement(j,t({},M.params,{key:x})))};return s.default.createElement(s.default.Fragment,null,T?s.default.createElement("span",{role:"presentation",id:"cell-"+b,className:"ag-cell-value",ref:N},W()):W())},w=function(_){var x=s.useContext(d.BeansContext).context,b=_.cellCtrl,O=_.printLayout,T=_.editingRow,A=b.getTabIndex(),N=b.getColumnIdSanitised(),M=b.getInstanceId(),L=s.useState(function(){return b.isCellRenderer()?void 0:{compDetails:void 0,value:b.getValueToDisplay(),force:!1}}),G=L[0],H=L[1],j=s.useState(),V=j[0],W=j[1],K=s.useState(1),ee=K[0],Z=K[1],se=s.useState(),ie=se[0],re=se[1],Y=s.useState(!1),le=Y[0],ye=Y[1],Q=s.useState(!1),he=Q[0],ue=Q[1],J=s.useState(!1),ve=J[0],we=J[1],Ee=s.useState(),De=Ee[0],$e=Ee[1],Ze=s.useMemo(function(){return b.isForceWrapper()},[b]),Ut=s.useMemo(function(){return b.getCellAriaRole()},[b]),Ne=s.useRef(null),tt=s.useRef(null),zt=s.useRef(),xt=s.useRef(),He=s.useRef(),St=s.useRef([]),wt=s.useRef(),Mt=s.useState(0),st=Mt[0],Fe=Mt[1],Ft=s.useCallback(function(br){wt.current=br,Fe(function(dn){return dn+1})},[]),Nr=G!=null&&(le||ve||he),_o=Ze||Nr,Ve=s.useCallback(function(br,dn){if(xt.current=dn,dn){g(br,dn,b);var ss=dn.isCancelBeforeStart&&dn.isCancelBeforeStart();ss&&setTimeout(function(){b.stopEditing(!0),b.focusCell(!0)})}},[b]),ir=s.useCallback(function(br){return Ve(!0,br)},[Ve]),cn=s.useCallback(function(br){return Ve(!1,br)},[Ve]),ki=s.useRef();ki.current||(ki.current=new a.CssClassManager(function(){return Ne.current})),c.default(G,_o,wt.current,st,zt,Ne);var ly=s.useRef();s.useLayoutEffect(function(){var br=ly.current,dn=G;if(ly.current=G,!(br==null||br.compDetails==null||dn==null||dn.compDetails==null)){var ss=br.compDetails,Et=dn.compDetails;if(ss.componentClass==Et.componentClass&&!(tt.current==null||tt.current.refresh==null)){var pn=tt.current.refresh(Et.params);pn!=!0&&Z(function(xo){return xo+1})}}},[G]),s.useLayoutEffect(function(){var br=V&&!V.compDetails.componentFromFramework;if(br){var dn=V.compDetails,ss=V.popup===!0,Et=p.createSyncJsComp(dn);if(Et){var pn=Et.getGui();if(Ve(ss,Et),!ss){var xo=(Ze?He:Ne).current;xo==null||xo.appendChild(pn),Et.afterGuiAttached&&Et.afterGuiAttached()}return $e(Et),function(){x.destroyBean(Et),Ve(ss,void 0),$e(void 0),pn&&pn.parentElement&&pn.parentElement.removeChild(pn)}}}},[V]);var mre=s.useCallback(function(br){if(He.current=br,!He.current){St.current.forEach(function(Et){return Et()}),St.current=[];return}var dn=function(Et){var pn;if(Et){var xo=Et.getGui();(pn=He.current)===null||pn===void 0||pn.insertAdjacentElement("afterbegin",xo),St.current.push(function(){x.destroyBean(Et),a._.removeFromParent(xo)})}return Et};if(le){var ss=b.createSelectionCheckbox();dn(ss)}ve&&dn(b.createDndSource()),he&&dn(b.createRowDragComp())},[b,x,ve,he,le]),Cre=s.useCallback(function(br){if(Ne.current=br,!!Ne.current&&b){var dn={addOrRemoveCssClass:function(Et,pn){return ki.current.addOrRemoveCssClass(Et,pn)},setUserStyles:function(Et){return re(Et)},getFocusableElement:function(){return Ne.current},setIncludeSelection:function(Et){return ye(Et)},setIncludeRowDrag:function(Et){return ue(Et)},setIncludeDndSource:function(Et){return we(Et)},getCellEditor:function(){return xt.current||null},getCellRenderer:function(){return tt.current?tt.current:zt.current},getParentOfValue:function(){return wt.current?wt.current:He.current?He.current:Ne.current},setRenderDetails:function(Et,pn,xo){H(function(fa){return(fa==null?void 0:fa.compDetails)!==Et||(fa==null?void 0:fa.value)!==pn||(fa==null?void 0:fa.force)!==xo?{value:pn,compDetails:Et,force:xo}:fa})},setEditDetails:function(Et,pn,xo,fa){if(Et){var h2=void 0;fa?h2=new h.CellEditorComponentProxy(Et.params,function(){return Z(function(uy){return uy+1})}):Et.componentFromFramework&&v.warnReactiveCustomComponents(),W({compDetails:Et,popup:pn,popupPosition:xo,compProxy:h2}),pn||H(void 0)}else W(function(uy){uy!=null&&uy.compProxy&&(xt.current=void 0)})}},ss=He.current||void 0;b.setComp(dn,Ne.current,ss,O,T)}},[]),Sre=s.useMemo(function(){var br=G&&G.compDetails&&G.compDetails.componentFromFramework&&l.isComponentStateless(G.compDetails.componentClass);return!!br},[G]);s.useLayoutEffect(function(){var br;Ne.current&&(ki.current.addOrRemoveCssClass("ag-cell-value",!_o),ki.current.addOrRemoveCssClass("ag-cell-inline-editing",!!V&&!V.popup),ki.current.addOrRemoveCssClass("ag-cell-popup-editing",!!V&&!!V.popup),ki.current.addOrRemoveCssClass("ag-cell-not-inline-editing",!V||!!V.popup),(br=b.getRowCtrl())===null||br===void 0||br.setInlineEditingCss(!!V),b.shouldRestoreFocus()&&!b.isEditing()&&Ne.current.focus({preventScroll:!0}))});var p2=function(){return s.default.createElement(s.default.Fragment,null,G!=null&&S(G,ee,M,tt,_o,Sre,Ft),V!=null&&C(V,cn,ir,Ne.current,b,De))};return s.default.createElement("div",{ref:Cre,style:ie,tabIndex:A,role:Ut,"col-id":N},_o?s.default.createElement("div",{className:"ag-cell-wrapper",role:"presentation",ref:mre},p2()):p2())};n.default=s.memo(w)})(FZ);var mv=X&&X.__assign||function(){return mv=Object.assign||function(n){for(var t,e=1,r=arguments.length;e<r;e++){t=arguments[e];for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(n[i]=t[i])}return n},mv.apply(this,arguments)},J1e=X&&X.__createBinding||(Object.create?function(n,t,e,r){r===void 0&&(r=e),Object.defineProperty(n,r,{enumerable:!0,get:function(){return t[e]}})}:function(n,t,e,r){r===void 0&&(r=e),n[r]=t[e]}),eNe=X&&X.__setModuleDefault||(Object.create?function(n,t){Object.defineProperty(n,"default",{enumerable:!0,value:t})}:function(n,t){n.default=t}),tNe=X&&X.__importStar||function(n){if(n&&n.__esModule)return n;var t={};if(n!=null)for(var e in n)e!=="default"&&Object.prototype.hasOwnProperty.call(n,e)&&J1e(t,n,e);return eNe(t,n),t},rNe=X&&X.__importDefault||function(n){return n&&n.__esModule?n:{default:n}};Object.defineProperty(SV,"__esModule",{value:!0});var Yt=tNe(I),nNe=xn,iNe=Ls,HD=gr,oNe=Ln,aNe=rNe(FZ),sNe=function(n){var t=Yt.useContext(oNe.BeansContext),e=t.context,r=t.gridOptionsService,i=n.rowCtrl,o=n.containerType,a=i.getTabIndex(),s=Yt.useRef(i.getDomOrder()),l=i.isFullWidth(),u=i.getRowNode().displayed,c=Yt.useState(function(){return u?i.getRowIndex():null}),d=c[0],p=c[1],h=Yt.useState(function(){return i.getRowId()}),f=h[0],v=h[1],g=Yt.useState(function(){return i.getBusinessKey()}),y=g[0],m=g[1],C=Yt.useState(function(){return i.getRowStyles()}),S=C[0],w=C[1],_=Yt.useState(function(){return null}),x=_[0],b=_[1],O=Yt.useState(),T=O[0],A=O[1],N=Yt.useState(function(){return u?i.getInitialRowTop(o):void 0}),M=N[0],L=N[1],G=Yt.useState(function(){return u?i.getInitialTransform(o):void 0}),H=G[0],j=G[1],V=Yt.useRef(null),W=Yt.useRef(),K=Yt.useRef(!1),ee=Yt.useState(0),Z=ee[0],se=ee[1];Yt.useEffect(function(){var ve;if(!K.current&&T&&!(Z>10)){var we=(ve=V.current)===null||ve===void 0?void 0:ve.firstChild;we?(i.setupDetailRowAutoHeight(we),K.current=!0):se(function(Ee){return Ee+1})}},[T,Z]);var ie=Yt.useRef();ie.current||(ie.current=new nNe.CssClassManager(function(){return V.current}));var re=Yt.useCallback(function(ve){if(V.current=ve,!V.current){i.unsetComp(o);return}if(i.isAlive()){var we={setTop:L,setTransform:j,addOrRemoveCssClass:function(Ee,De){return ie.current.addOrRemoveCssClass(Ee,De)},setDomOrder:function(Ee){return s.current=Ee},setRowIndex:p,setRowId:v,setRowBusinessKey:m,setUserStyles:w,setCellCtrls:function(Ee,De){HD.agFlushSync(De,function(){b(function($e){return HD.getNextValueIfDifferent($e,Ee,s.current)})})},showFullWidth:function(Ee){return A(Ee)},getFullWidthCellRenderer:function(){return W.current},refreshFullWidth:function(Ee){return he.current?(A(function(De){return mv(mv({},De),{params:Ee()})}),!0):!W.current||!W.current.refresh?!1:W.current.refresh(Ee())}};i.setComp(we,V.current,o)}},[]);Yt.useLayoutEffect(function(){return iNe.showJsComp(T,e,V.current,W)},[T]);var Y=Yt.useMemo(function(){var ve={top:M,transform:H};return Object.assign(ve,S),ve},[M,H,S]),le=l&&T&&T.componentFromFramework,ye=!l&&x!=null,Q=Yt.useMemo(function(){var ve=(T==null?void 0:T.componentFromFramework)&&HD.isComponentStateless(T.componentClass);return!!ve},[T]),he=Yt.useRef(!1);Yt.useEffect(function(){he.current=Q&&!!T&&!!r.get("reactiveCustomComponents")},[Q,T]);var ue=function(){return x==null?void 0:x.map(function(ve){return Yt.default.createElement(aNe.default,{cellCtrl:ve,editingRow:i.isEditing(),printLayout:i.isPrintLayout(),key:ve.getInstanceId()})})},J=function(){var ve=T.componentClass;return Yt.default.createElement(Yt.default.Fragment,null,Q&&Yt.default.createElement(ve,mv({},T.params)),!Q&&Yt.default.createElement(ve,mv({},T.params,{ref:W})))};return Yt.default.createElement("div",{ref:re,role:"row",style:Y,"row-index":d,"row-id":f,"row-business-key":y,tabIndex:a},ye&&ue(),le&&J())};SV.default=Yt.memo(sNe);var lNe=X&&X.__createBinding||(Object.create?function(n,t,e,r){r===void 0&&(r=e),Object.defineProperty(n,r,{enumerable:!0,get:function(){return t[e]}})}:function(n,t,e,r){r===void 0&&(r=e),n[r]=t[e]}),uNe=X&&X.__setModuleDefault||(Object.create?function(n,t){Object.defineProperty(n,"default",{enumerable:!0,value:t})}:function(n,t){n.default=t}),cNe=X&&X.__importStar||function(n){if(n&&n.__esModule)return n;var t={};if(n!=null)for(var e in n)e!=="default"&&Object.prototype.hasOwnProperty.call(n,e)&&lNe(t,n,e);return uNe(t,n),t},LZ=X&&X.__importDefault||function(n){return n&&n.__esModule?n:{default:n}};Object.defineProperty(CV,"__esModule",{value:!0});var wp=xn,Pr=cNe(I),B_=gr,dNe=LZ(Uw),pNe=LZ(SV),hNe=Ln,fNe=function(n){var t=Pr.useContext(hNe.BeansContext).context,e=n.name,r=Pr.useMemo(function(){return wp.getRowContainerTypeForName(e)},[e]),i=Pr.useRef(null),o=Pr.useRef(null),a=Pr.useRef([]),s=Pr.useState(function(){return[]}),l=s[0],u=s[1],c=Pr.useRef(!1),d=Pr.useRef(),p=Pr.useMemo(function(){return wp.RowContainerCtrl.getRowContainerCssClasses(e)},[e]),h=Pr.useMemo(function(){return B_.classesList(p.viewport)},[p]),f=Pr.useMemo(function(){return B_.classesList(p.container)},[p]),v=e===wp.RowContainerName.CENTER||e===wp.RowContainerName.TOP_CENTER||e===wp.RowContainerName.BOTTOM_CENTER||e===wp.RowContainerName.STICKY_TOP_CENTER,g=v?i:o;dNe.default(" AG Row Container "+e+" ",g);var y=Pr.useCallback(function(){return v?i.current!=null&&o.current!=null:o.current!=null},[]),m=Pr.useCallback(function(){return v?i.current==null&&o.current==null:o.current==null},[]),C=Pr.useCallback(function(){if(m()&&(t.destroyBean(d.current),d.current=null),y()){var x=function(O){B_.agFlushSync(O,function(){u(function(T){return B_.getNextValueIfDifferent(T,a.current,c.current)})})},b={setViewportHeight:function(O){i.current&&(i.current.style.height=O)},setRowCtrls:function(O){var T=O.rowCtrls,A=O.useFlushSync,N=!!A&&a.current.length>0&&T.length>0;a.current=T,x(N)},setDomOrder:function(O){c.current!=O&&(c.current=O,x(!1))},setContainerWidth:function(O){o.current&&(o.current.style.width=O)}};d.current=t.createBean(new wp.RowContainerCtrl(e)),d.current.setComp(b,o.current,i.current)}},[y,m]),S=Pr.useCallback(function(x){o.current=x,C()},[C]),w=Pr.useCallback(function(x){i.current=x,C()},[C]),_=function(){return Pr.default.createElement("div",{className:f,ref:S,role:"rowgroup"},l.map(function(x){return Pr.default.createElement(pNe.default,{rowCtrl:x,containerType:r,key:x.getInstanceId()})}))};return Pr.default.createElement(Pr.default.Fragment,null,v?Pr.default.createElement("div",{className:h,ref:w,role:"presentation"},_()):_())};CV.default=Pr.memo(fNe);var vNe=X&&X.__createBinding||(Object.create?function(n,t,e,r){r===void 0&&(r=e),Object.defineProperty(n,r,{enumerable:!0,get:function(){return t[e]}})}:function(n,t,e,r){r===void 0&&(r=e),n[r]=t[e]}),gNe=X&&X.__setModuleDefault||(Object.create?function(n,t){Object.defineProperty(n,"default",{enumerable:!0,value:t})}:function(n,t){n.default=t}),yNe=X&&X.__importStar||function(n){if(n&&n.__esModule)return n;var t={};if(n!=null)for(var e in n)e!=="default"&&Object.prototype.hasOwnProperty.call(n,e)&&vNe(t,n,e);return gNe(t,n),t},xV=X&&X.__importDefault||function(n){return n&&n.__esModule?n:{default:n}};Object.defineProperty(dV,"__esModule",{value:!0});var Yr=xn,vt=yNe(I),mNe=Ln,CNe=xV(pV),om=xV(Uw),SNe=xV(CV),Ff=gr,wNe=function(){var n=vt.useContext(mNe.BeansContext),t=n.context,e=n.agStackComponentsRegistry,r=n.resizeObserverService,i=vt.useState(""),o=i[0],a=i[1],s=vt.useState(0),l=s[0],u=s[1],c=vt.useState(0),d=c[0],p=c[1],h=vt.useState("0px"),f=h[0],v=h[1],g=vt.useState("0px"),y=g[0],m=g[1],C=vt.useState("100%"),S=C[0],w=C[1],_=vt.useState(""),x=_[0],b=_[1],O=vt.useState(""),T=O[0],A=O[1],N=vt.useState(null),M=N[0],L=N[1],G=vt.useState(""),H=G[0],j=G[1],V=vt.useState(null),W=V[0],K=V[1],ee=vt.useState("ag-layout-normal"),Z=ee[0],se=ee[1],ie=vt.useRef();ie.current||(ie.current=new Yr.CssClassManager(function(){return re.current}));var re=vt.useRef(null),Y=vt.useRef(null),le=vt.useRef(null),ye=vt.useRef(null),Q=vt.useRef(null),he=vt.useRef(null),ue=vt.useRef([]),J=vt.useRef([]);om.default(" AG Grid Body ",re),om.default(" AG Pinned Top ",Y),om.default(" AG Sticky Top ",le),om.default(" AG Middle ",Q),om.default(" AG Pinned Bottom ",he);var ve=vt.useCallback(function(St){if(re.current=St,!re.current){t.destroyBeans(ue.current),J.current.forEach(function(Ft){return Ft()}),ue.current=[],J.current=[];return}if(t){var wt=function(Ft){var Nr=e.getComponentClass(Ft),_o=t.createBean(new Nr);return ue.current.push(_o),_o},Mt=function(Ft,Nr){Ft.appendChild(Nr),J.current.push(function(){return Ft.removeChild(Nr)})};Mt(re.current,document.createComment(" AG Fake Horizontal Scroll ")),Mt(re.current,wt("AG-FAKE-HORIZONTAL-SCROLL").getGui()),Mt(re.current,document.createComment(" AG Overlay Wrapper ")),Mt(re.current,wt("AG-OVERLAY-WRAPPER").getGui()),ye.current&&(Mt(ye.current,document.createComment(" AG Fake Vertical Scroll ")),Mt(ye.current,wt("AG-FAKE-VERTICAL-SCROLL").getGui()));var st={setRowAnimationCssOnBodyViewport:a,setColumnCount:function(Ft){re.current&&Yr._.setAriaColCount(re.current,Ft)},setRowCount:function(Ft){re.current&&Yr._.setAriaRowCount(re.current,Ft)},setTopHeight:u,setBottomHeight:p,setStickyTopHeight:v,setStickyTopTop:m,setStickyTopWidth:w,setTopDisplay:b,setBottomDisplay:A,setColumnMovingCss:function(Ft,Nr){return ie.current.addOrRemoveCssClass(Ft,Nr)},updateLayoutClasses:se,setAlwaysVerticalScrollClass:L,setPinnedTopBottomOverflowY:j,setCellSelectableCss:function(Ft,Nr){return K(Nr?Ft:null)},setBodyViewportWidth:function(Ft){Q.current&&(Q.current.style.width=Ft)},registerBodyViewportResizeListener:function(Ft){if(Q.current){var Nr=r.observeResize(Q.current,Ft);J.current.push(function(){return Nr()})}}},Fe=t.createBean(new Yr.GridBodyCtrl);ue.current.push(Fe),Fe.setComp(st,re.current,Q.current,Y.current,he.current,le.current)}},[]),we=vt.useMemo(function(){return Ff.classesList("ag-root","ag-unselectable",Z)},[Z]),Ee=vt.useMemo(function(){return Ff.classesList("ag-body-viewport",o,Z,M,W)},[o,Z,M,W]),De=vt.useMemo(function(){return Ff.classesList("ag-body",Z)},[Z]),$e=vt.useMemo(function(){return Ff.classesList("ag-floating-top",W)},[W]),Ze=vt.useMemo(function(){return Ff.classesList("ag-sticky-top",W)},[W]),Ut=vt.useMemo(function(){return Ff.classesList("ag-floating-bottom",W)},[W]),Ne=vt.useMemo(function(){return{height:l,minHeight:l,display:x,overflowY:H}},[l,x,H]),tt=vt.useMemo(function(){return{height:f,top:y,width:S}},[f,y,S]),zt=vt.useMemo(function(){return{height:d,minHeight:d,display:T,overflowY:H}},[d,T,H]),xt=function(St){return vt.default.createElement(SNe.default,{name:St,key:St+"-container"})},He=function(St){var wt=St.section,Mt=St.children,st=St.className,Fe=St.style;return vt.default.createElement("div",{ref:wt,className:st,role:"presentation",style:Fe},Mt.map(xt))};return vt.default.createElement("div",{ref:ve,className:we,role:"treegrid"},vt.default.createElement(CNe.default,null),He({section:Y,className:$e,style:Ne,children:[Yr.RowContainerName.TOP_LEFT,Yr.RowContainerName.TOP_CENTER,Yr.RowContainerName.TOP_RIGHT,Yr.RowContainerName.TOP_FULL_WIDTH]}),vt.default.createElement("div",{className:De,ref:ye,role:"presentation"},He({section:Q,className:Ee,children:[Yr.RowContainerName.LEFT,Yr.RowContainerName.CENTER,Yr.RowContainerName.RIGHT,Yr.RowContainerName.FULL_WIDTH]})),He({section:le,className:Ze,style:tt,children:[Yr.RowContainerName.STICKY_TOP_LEFT,Yr.RowContainerName.STICKY_TOP_CENTER,Yr.RowContainerName.STICKY_TOP_RIGHT,Yr.RowContainerName.STICKY_TOP_FULL_WIDTH]}),He({section:he,className:Ut,style:zt,children:[Yr.RowContainerName.BOTTOM_LEFT,Yr.RowContainerName.BOTTOM_CENTER,Yr.RowContainerName.BOTTOM_RIGHT,Yr.RowContainerName.BOTTOM_FULL_WIDTH]}))};dV.default=vt.memo(wNe);var EV={},_Ne=X&&X.__createBinding||(Object.create?function(n,t,e,r){r===void 0&&(r=e),Object.defineProperty(n,r,{enumerable:!0,get:function(){return t[e]}})}:function(n,t,e,r){r===void 0&&(r=e),n[r]=t[e]}),xNe=X&&X.__setModuleDefault||(Object.create?function(n,t){Object.defineProperty(n,"default",{enumerable:!0,value:t})}:function(n,t){n.default=t}),ENe=X&&X.__importStar||function(n){if(n&&n.__esModule)return n;var t={};if(n!=null)for(var e in n)e!=="default"&&Object.prototype.hasOwnProperty.call(n,e)&&_Ne(t,n,e);return xNe(t,n),t};Object.defineProperty(EV,"__esModule",{value:!0});var Go=ENe(I),H_=xn,bNe=Ln,ONe=function(n,t){var e=n.children,r=n.eFocusableElement,i=n.onTabKeyDown,o=n.gridCtrl,a=n.forceFocusOutWhenTabGuardsAreEmpty,s=Go.useContext(bNe.BeansContext).context,l=Go.useRef(null),u=Go.useRef(null),c=Go.useRef(),d=function(g){var y=g==null?void 0:parseInt(g,10).toString();[l,u].forEach(function(m){var C,S;y===void 0?(C=m.current)===null||C===void 0||C.removeAttribute("tabindex"):(S=m.current)===null||S===void 0||S.setAttribute("tabindex",y)})};Go.useImperativeHandle(t,function(){return{forceFocusOutOfContainer:function(g){var y;(y=c.current)===null||y===void 0||y.forceFocusOutOfContainer(g)}}});var p=Go.useCallback(function(){if(!l.current&&!u.current){s.destroyBean(c.current),c.current=null;return}if(l.current&&u.current){var g={setTabIndex:d};c.current=s.createBean(new H_.TabGuardCtrl({comp:g,eTopGuard:l.current,eBottomGuard:u.current,eFocusableElement:r,onTabKeyDown:i,forceFocusOutWhenTabGuardsAreEmpty:a,focusInnerElement:function(y){return o.focusInnerElement(y)}}))}},[]),h=Go.useCallback(function(g){l.current=g,p()},[p]),f=Go.useCallback(function(g){u.current=g,p()},[p]),v=function(g){var y=g==="top"?H_.TabGuardClassNames.TAB_GUARD_TOP:H_.TabGuardClassNames.TAB_GUARD_BOTTOM;return Go.default.createElement("div",{className:H_.TabGuardClassNames.TAB_GUARD+" "+y,role:"presentation",ref:g==="top"?h:f})};return Go.default.createElement(Go.default.Fragment,null,v("top"),e,v("bottom"))},RNe=Go.forwardRef(ONe);EV.default=Go.memo(RNe);var TNe=X&&X.__createBinding||(Object.create?function(n,t,e,r){r===void 0&&(r=e),Object.defineProperty(n,r,{enumerable:!0,get:function(){return t[e]}})}:function(n,t,e,r){r===void 0&&(r=e),n[r]=t[e]}),PNe=X&&X.__setModuleDefault||(Object.create?function(n,t){Object.defineProperty(n,"default",{enumerable:!0,value:t})}:function(n,t){n.default=t}),ANe=X&&X.__importStar||function(n){if(n&&n.__esModule)return n;var t={};if(n!=null)for(var e in n)e!=="default"&&Object.prototype.hasOwnProperty.call(n,e)&&TNe(t,n,e);return PNe(t,n),t},bV=X&&X.__importDefault||function(n){return n&&n.__esModule?n:{default:n}};Object.defineProperty(cV,"__esModule",{value:!0});var DNe=xn,sr=ANe(I),MNe=Ln,FNe=bV(dV),LNe=bV(Uw),INe=bV(EV),mU=gr,NNe=function(n){var t=n.context,e=sr.useState(""),r=e[0],i=e[1],o=sr.useState(""),a=o[0];o[1];var s=sr.useState(""),l=s[0],u=s[1],c=sr.useState(null),d=c[0],p=c[1],h=sr.useState(null),f=h[0],v=h[1],g=sr.useState(!1),y=g[0],m=g[1],C=sr.useState(),S=C[0],w=C[1],_=sr.useRef(null),x=sr.useRef(null),b=sr.useRef(),O=sr.useState(null),T=O[0],A=O[1],N=sr.useRef(function(){}),M=sr.useCallback(function(){},[]),L=sr.useMemo(function(){return t.isDestroyed()?null:t.getBean("beans")},[t]);LNe.default(" AG Grid ",x);var G=sr.useCallback(function(K){if(x.current=K,!x.current){t.destroyBean(_.current),_.current=null;return}if(!t.isDestroyed()){_.current=t.createBean(new DNe.GridCtrl);var ee=_.current;N.current=ee.focusInnerElement.bind(ee);var Z={destroyGridUi:function(){},setRtlClass:i,forceFocusOutOfContainer:function(se){var ie;(ie=b.current)===null||ie===void 0||ie.forceFocusOutOfContainer(se)},updateLayoutClasses:u,getFocusableContainers:function(){var se,ie,re=[],Y=(se=x.current)===null||se===void 0?void 0:se.querySelector(".ag-root"),le=(ie=x.current)===null||ie===void 0?void 0:ie.querySelector(".ag-side-bar:not(.ag-hidden)");return Y&&re.push(Y),le&&re.push(le),re},setCursor:p,setUserSelect:v};ee.setComp(Z,x.current,x.current),m(!0)}},[]);sr.useEffect(function(){if(!(!S||!L||!_.current||!T||!x.current)){var K=_.current,ee=[],Z=L.agStackComponentsRegistry,se=Z.getComponentClass("AG-GRID-HEADER-DROP-ZONES"),ie=Z.getComponentClass("AG-SIDE-BAR"),re=Z.getComponentClass("AG-STATUS-BAR"),Y=Z.getComponentClass("AG-WATERMARK"),le=Z.getComponentClass("AG-PAGINATION"),ye=[],Q=x.current;if(K.showDropZones()&&se){var he=t.createBean(new se),ue=he.getGui();Q.insertAdjacentElement("afterbegin",ue),ye.push(ue),ee.push(he)}if(K.showSideBar()&&ie){var J=t.createBean(new ie),ue=J.getGui(),ve=T.querySelector(".ag-tab-guard-bottom");ve&&(ve.insertAdjacentElement("beforebegin",ue),ye.push(ue)),ee.push(J)}if(K.showStatusBar()&&re){var we=t.createBean(new re),ue=we.getGui();Q.insertAdjacentElement("beforeend",ue),ye.push(ue),ee.push(we)}if(le){var Ee=t.createBean(new le),ue=Ee.getGui();Q.insertAdjacentElement("beforeend",ue),ye.push(ue),ee.push(Ee)}if(K.showWatermark()&&Y){var De=t.createBean(new Y),ue=De.getGui();Q.insertAdjacentElement("beforeend",ue),ye.push(ue),ee.push(De)}return function(){t.destroyBeans(ee),ye.forEach(function($e){$e.parentElement&&$e.parentElement.removeChild($e)})}}},[S,T,L]);var H=sr.useMemo(function(){return mU.classesList("ag-root-wrapper",r,a,l)},[r,a,l]),j=sr.useMemo(function(){return mU.classesList("ag-root-wrapper-body","ag-focus-managed",l)},[l]),V=sr.useMemo(function(){return{userSelect:f??"",WebkitUserSelect:f??"",cursor:d??""}},[f,d]),W=sr.useCallback(function(K){b.current=K,w(K!==null)},[]);return sr.default.createElement("div",{ref:G,className:H,style:V,role:"presentation"},sr.default.createElement("div",{className:j,ref:A,role:"presentation"},y&&T&&L&&sr.default.createElement(MNe.BeansContext.Provider,{value:L},sr.default.createElement(INe.default,{ref:W,eFocusableElement:T,onTabKeyDown:M,gridCtrl:_.current,forceFocusOutWhenTabGuardsAreEmpty:!0},sr.default.createElement(FNe.default,null)))))};cV.default=sr.memo(NNe);(function(n){var t=X&&X.__extends||function(){var M=function(L,G){return M=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(H,j){H.__proto__=j}||function(H,j){for(var V in j)Object.prototype.hasOwnProperty.call(j,V)&&(H[V]=j[V])},M(L,G)};return function(L,G){if(typeof G!="function"&&G!==null)throw new TypeError("Class extends value "+String(G)+" is not a constructor or null");M(L,G);function H(){this.constructor=L}L.prototype=G===null?Object.create(G):(H.prototype=G.prototype,new H)}}(),e=X&&X.__assign||function(){return e=Object.assign||function(M){for(var L,G=1,H=arguments.length;G<H;G++){L=arguments[G];for(var j in L)Object.prototype.hasOwnProperty.call(L,j)&&(M[j]=L[j])}return M},e.apply(this,arguments)},r=X&&X.__createBinding||(Object.create?function(M,L,G,H){H===void 0&&(H=G),Object.defineProperty(M,H,{enumerable:!0,get:function(){return L[G]}})}:function(M,L,G,H){H===void 0&&(H=G),M[H]=L[G]}),i=X&&X.__setModuleDefault||(Object.create?function(M,L){Object.defineProperty(M,"default",{enumerable:!0,value:L})}:function(M,L){M.default=L}),o=X&&X.__importStar||function(M){if(M&&M.__esModule)return M;var L={};if(M!=null)for(var G in M)G!=="default"&&Object.prototype.hasOwnProperty.call(M,G)&&r(L,M,G);return i(L,M),L},a=X&&X.__importDefault||function(M){return M&&M.__esModule?M:{default:M}};Object.defineProperty(n,"__esModule",{value:!0}),n.AgGridReactUi=void 0;var s=xn,l=o(I),u=NT,c=$T,d=WT,p=UT,h=zT,f=KT,v=YT,g=XT,y=Ww,m=qT,C=Ln,S=gr,w=a(uV),_=a(cV),x=nc,b=function(M){var L,G,H=l.useRef(),j=l.useRef(null),V=l.useRef(null),W=l.useRef([]),K=l.useRef([]),ee=l.useRef(M),Z=l.useRef(!1),se=l.useState(void 0),ie=se[0],re=se[1],Y=l.useState(0),le=Y[1],ye=l.useCallback(function(ue){if(j.current=ue,!j.current){W.current.forEach(function(Ze){return Ze()}),W.current.length=0;return}var J=M.modules||[];V.current||(V.current=new m.PortalManager(function(){return le(function(Ze){return Ze+1})},M.componentWrappingElement,M.maxComponentCreationTimeMs),W.current.push(function(){var Ze;(Ze=V.current)===null||Ze===void 0||Ze.destroy(),V.current=null}));var ve=s.ComponentUtil.combineAttributesAndGridOptions(M.gridOptions,M),we={providedBeanInstances:{frameworkComponentWrapper:new T(V.current,!!ve.reactiveCustomComponents)},modules:J,frameworkOverrides:new N},Ee=function(Ze){re(Ze),W.current.push(function(){Ze.destroy()});var Ut=Ze.getBean(s.CtrlsService.NAME);Ut.whenReady(function(){if(!Ze.isDestroyed()){var Ne=H.current;Ne&&M.setGridApi&&M.setGridApi(Ne,new s.ColumnApi(Ne))}})},De=function(Ze){var Ut=Ze.getBean(s.CtrlsService.NAME);Ut.whenReady(function(){K.current.forEach(function(Ne){return Ne()}),K.current.length=0,Z.current=!0})},$e=new s.GridCoreCreator;H.current=$e.create(j.current,ve,Ee,De,we)},[]),Q=l.useMemo(function(){return e({height:"100%"},M.containerStyle||{})},[M.containerStyle]),he=l.useCallback(function(ue){Z.current?ue():K.current.push(ue)},[]);return l.useEffect(function(){var ue=O(ee.current,M);ee.current=M,he(function(){H.current&&s.ComponentUtil.processOnChange(ue,H.current)})},[M]),l.default.createElement("div",{style:Q,className:M.className,ref:ye},ie&&!ie.isDestroyed()?l.default.createElement(_.default,{context:ie}):null,(G=(L=V.current)===null||L===void 0?void 0:L.getPortals())!==null&&G!==void 0?G:null)};n.AgGridReactUi=b;function O(M,L){var G={};return Object.keys(L).forEach(function(H){var j=L[H];M[H]!==j&&(G[H]=j)}),G}var T=function(M){t(L,M);function L(G,H){var j=M.call(this)||this;return j.parent=G,j.reactiveCustomComponents=H,j}return L.prototype.createWrapper=function(G,H){if(this.reactiveCustomComponents){var j=function(K){switch(K){case"filter":return c.FilterComponentWrapper;case"floatingFilterComponent":return d.FloatingFilterComponentWrapper;case"dateComponent":return u.DateComponentWrapper;case"loadingOverlayComponent":return p.LoadingOverlayComponentWrapper;case"noRowsOverlayComponent":return f.NoRowsOverlayComponentWrapper;case"statusPanel":return v.StatusPanelComponentWrapper;case"toolPanel":return g.ToolPanelComponentWrapper;case"menuItem":return h.MenuItemComponentWrapper}},V=j(H.propertyName);if(V)return new V(G,this.parent,H)}else switch(H.propertyName){case"filter":case"floatingFilterComponent":case"dateComponent":case"loadingOverlayComponent":case"noRowsOverlayComponent":case"statusPanel":case"toolPanel":case"menuItem":x.warnReactiveCustomComponents();break}var W=!H.cellRenderer&&H.propertyName!=="toolPanel";return new y.ReactComponent(G,this.parent,H,W)},L}(s.BaseComponentWrapper),A=l.forwardRef(function(M,L){var G=l.useContext(C.BeansContext),H=G.ctrlsFactory,j=G.context,V=G.gridOptionsService,W=G.resizeObserverService,K=G.clientSideRowModel,ee=G.serverSideRowModel,Z=l.useState(function(){return new S.CssClasses}),se=Z[0],ie=Z[1],re=l.useState(function(){return new S.CssClasses}),Y=re[0],le=re[1],ye=l.useState(),Q=ye[0],he=ye[1],ue=l.useState(),J=ue[0],ve=ue[1],we=l.useRef(),Ee=l.useRef(null),De=l.useRef(),$e=l.useMemo(function(){return s.ModuleRegistry.__getGridRegisteredModules(M.api.getGridId())},[M]),Ze=l.useMemo(function(){return se.toString()+" ag-details-row"},[se]),Ut=l.useMemo(function(){return Y.toString()+" ag-details-grid"},[Y]);L&&l.useImperativeHandle(L,function(){return{refresh:function(){var zt,xt;return(xt=(zt=we.current)===null||zt===void 0?void 0:zt.refresh())!==null&&xt!==void 0?xt:!1}}}),M.template&&s._.warnOnce("detailCellRendererParams.template is not supported by AG Grid React. To change the template, provide a Custom Detail Cell Renderer. See https://ag-grid.com/react-data-grid/master-detail-custom-detail/");var Ne=l.useCallback(function(zt){if(Ee.current=zt,!Ee.current){j.destroyBean(we.current),De.current&&De.current();return}var xt={addOrRemoveCssClass:function(wt,Mt){return ie(function(st){return st.setClass(wt,Mt)})},addOrRemoveDetailGridCssClass:function(wt,Mt){return le(function(st){return st.setClass(wt,Mt)})},setDetailGrid:function(wt){return he(wt)},setRowData:function(wt){return ve(wt)},getGui:function(){return Ee.current}},He=H.getInstance("detailCellRenderer");if(He&&(j.createBean(He),He.init(xt,M),we.current=He,V.get("detailRowAutoHeight"))){var St=function(){if(Ee.current!=null){var wt=Ee.current.clientHeight;if(wt!=null&&wt>0){var Mt=function(){M.node.setRowHeight(wt),K?K.onRowHeightChanged():ee&&ee.onRowHeightChanged()};setTimeout(Mt,0)}}};De.current=W.observeResize(Ee.current,St),St()}},[]),tt=l.useCallback(function(zt,xt){var He;(He=we.current)===null||He===void 0||He.registerDetailWithMaster(zt,xt)},[]);return l.default.createElement("div",{className:Ze,ref:Ne},Q&&l.default.createElement(n.AgGridReactUi,e({className:Ut},Q,{modules:$e,rowData:J,setGridApi:tt})))}),N=function(M){t(L,M);function L(){var G=M.call(this,"react")||this;return G.frameworkComponents={agGroupCellRenderer:w.default,agGroupRowRenderer:w.default,agDetailCellRenderer:A},G.wrapIncoming=function(H,j){return j==="ensureVisible"?S.runWithoutFlushSync(H):H()},G.renderingEngine="react",G}return L.prototype.frameworkComponent=function(G){return this.frameworkComponents[G]},L.prototype.isFrameworkComponent=function(G){if(!G)return!1;var H=G.prototype,j=H&&"getGui"in H;return!j},L}(s.VanillaFrameworkOverrides)})(F7);var kNe=X&&X.__extends||function(){var n=function(t,e){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])},n(t,e)};return function(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");n(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}}(),QL=X&&X.__assign||function(){return QL=Object.assign||function(n){for(var t,e=1,r=arguments.length;e<r;e++){t=arguments[e];for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(n[i]=t[i])}return n},QL.apply(this,arguments)},GNe=X&&X.__createBinding||(Object.create?function(n,t,e,r){r===void 0&&(r=e),Object.defineProperty(n,r,{enumerable:!0,get:function(){return t[e]}})}:function(n,t,e,r){r===void 0&&(r=e),n[r]=t[e]}),VNe=X&&X.__setModuleDefault||(Object.create?function(n,t){Object.defineProperty(n,"default",{enumerable:!0,value:t})}:function(n,t){n.default=t}),BNe=X&&X.__importStar||function(n){if(n&&n.__esModule)return n;var t={};if(n!=null)for(var e in n)e!=="default"&&Object.prototype.hasOwnProperty.call(n,e)&&GNe(t,n,e);return VNe(t,n),t};Object.defineProperty(mT,"__esModule",{value:!0});mT.AgGridReact=void 0;var CU=BNe(I),HNe=F7,jNe=function(n){kNe(t,n);function t(){var e=n!==null&&n.apply(this,arguments)||this;return e.apiListeners=[],e.setGridApi=function(r,i){e.api=r,e.columnApi=i,e.apiListeners.forEach(function(o){return o(r)})},e}return t.prototype.registerApiListener=function(e){this.apiListeners.push(e)},t.prototype.componentWillUnmount=function(){this.apiListeners.length=0},t.prototype.render=function(){return CU.default.createElement(HNe.AgGridReactUi,QL({},this.props,{setGridApi:this.setGridApi}))},t}(CU.Component);mT.AgGridReact=jNe;var IZ={};(function(n){Object.defineProperty(n,"__esModule",{value:!0}),n.ChangeDetectionStrategyType=void 0,function(t){t.IdentityCheck="IdentityCheck",t.DeepValueCheck="DeepValueCheck",t.NoCheck="NoCheck"}(n.ChangeDetectionStrategyType||(n.ChangeDetectionStrategyType={}))})(IZ);var Fa={};Object.defineProperty(Fa,"__esModule",{value:!0});Fa.useGridMenuItem=Fa.useGridFloatingFilter=Fa.useGridFilter=Fa.useGridDate=Fa.useGridCellEditor=void 0;var $Ne=I,WNe=of;function zw(n){var t=$Ne.useContext(WNe.CustomContext).setMethods;t(n)}function UNe(n){zw(n)}Fa.useGridCellEditor=UNe;function zNe(n){return zw(n)}Fa.useGridDate=zNe;function KNe(n){return zw(n)}Fa.useGridFilter=KNe;function YNe(n){zw(n)}Fa.useGridFloatingFilter=YNe;function XNe(n){zw(n)}Fa.useGridMenuItem=XNe;(function(n){var t=X&&X.__createBinding||(Object.create?function(i,o,a,s){s===void 0&&(s=a),Object.defineProperty(i,s,{enumerable:!0,get:function(){return o[a]}})}:function(i,o,a,s){s===void 0&&(s=a),i[s]=o[a]}),e=X&&X.__exportStar||function(i,o){for(var a in i)a!=="default"&&!Object.prototype.hasOwnProperty.call(o,a)&&t(o,i,a)};Object.defineProperty(n,"__esModule",{value:!0}),n.AgGridReact=void 0;var r=mT;Object.defineProperty(n,"AgGridReact",{enumerable:!0,get:function(){return r.AgGridReact}}),e(IZ,n),e(Fa,n),e(nc,n)})(M7);/**
          * @ag-grid-enterprise/all-modules - Advanced Data Grid / Data Table supporting Javascript / Typescript / React / Angular / Vue * @version v31.1.1
          * @link https://www.ag-grid.com/
          * @license Commercial
          */var qNe=function(){function n(){this.ieCompatibility=!1}return n.prototype.init=function(){this.ieCompatibility=this.md5("hello")!="5d41402abc4b2a76b9719d911017c592"},n.prototype.md5cycle=function(t,e){var r=t[0],i=t[1],o=t[2],a=t[3];r=this.ff(r,i,o,a,e[0],7,-680876936),a=this.ff(a,r,i,o,e[1],12,-389564586),o=this.ff(o,a,r,i,e[2],17,606105819),i=this.ff(i,o,a,r,e[3],22,-1044525330),r=this.ff(r,i,o,a,e[4],7,-176418897),a=this.ff(a,r,i,o,e[5],12,1200080426),o=this.ff(o,a,r,i,e[6],17,-1473231341),i=this.ff(i,o,a,r,e[7],22,-45705983),r=this.ff(r,i,o,a,e[8],7,1770035416),a=this.ff(a,r,i,o,e[9],12,-1958414417),o=this.ff(o,a,r,i,e[10],17,-42063),i=this.ff(i,o,a,r,e[11],22,-1990404162),r=this.ff(r,i,o,a,e[12],7,1804603682),a=this.ff(a,r,i,o,e[13],12,-40341101),o=this.ff(o,a,r,i,e[14],17,-1502002290),i=this.ff(i,o,a,r,e[15],22,1236535329),r=this.gg(r,i,o,a,e[1],5,-165796510),a=this.gg(a,r,i,o,e[6],9,-1069501632),o=this.gg(o,a,r,i,e[11],14,643717713),i=this.gg(i,o,a,r,e[0],20,-373897302),r=this.gg(r,i,o,a,e[5],5,-701558691),a=this.gg(a,r,i,o,e[10],9,38016083),o=this.gg(o,a,r,i,e[15],14,-660478335),i=this.gg(i,o,a,r,e[4],20,-405537848),r=this.gg(r,i,o,a,e[9],5,568446438),a=this.gg(a,r,i,o,e[14],9,-1019803690),o=this.gg(o,a,r,i,e[3],14,-187363961),i=this.gg(i,o,a,r,e[8],20,1163531501),r=this.gg(r,i,o,a,e[13],5,-1444681467),a=this.gg(a,r,i,o,e[2],9,-51403784),o=this.gg(o,a,r,i,e[7],14,1735328473),i=this.gg(i,o,a,r,e[12],20,-1926607734),r=this.hh(r,i,o,a,e[5],4,-378558),a=this.hh(a,r,i,o,e[8],11,-2022574463),o=this.hh(o,a,r,i,e[11],16,1839030562),i=this.hh(i,o,a,r,e[14],23,-35309556),r=this.hh(r,i,o,a,e[1],4,-1530992060),a=this.hh(a,r,i,o,e[4],11,1272893353),o=this.hh(o,a,r,i,e[7],16,-155497632),i=this.hh(i,o,a,r,e[10],23,-1094730640),r=this.hh(r,i,o,a,e[13],4,681279174),a=this.hh(a,r,i,o,e[0],11,-358537222),o=this.hh(o,a,r,i,e[3],16,-722521979),i=this.hh(i,o,a,r,e[6],23,76029189),r=this.hh(r,i,o,a,e[9],4,-640364487),a=this.hh(a,r,i,o,e[12],11,-421815835),o=this.hh(o,a,r,i,e[15],16,530742520),i=this.hh(i,o,a,r,e[2],23,-995338651),r=this.ii(r,i,o,a,e[0],6,-198630844),a=this.ii(a,r,i,o,e[7],10,1126891415),o=this.ii(o,a,r,i,e[14],15,-1416354905),i=this.ii(i,o,a,r,e[5],21,-57434055),r=this.ii(r,i,o,a,e[12],6,1700485571),a=this.ii(a,r,i,o,e[3],10,-1894986606),o=this.ii(o,a,r,i,e[10],15,-1051523),i=this.ii(i,o,a,r,e[1],21,-2054922799),r=this.ii(r,i,o,a,e[8],6,1873313359),a=this.ii(a,r,i,o,e[15],10,-30611744),o=this.ii(o,a,r,i,e[6],15,-1560198380),i=this.ii(i,o,a,r,e[13],21,1309151649),r=this.ii(r,i,o,a,e[4],6,-145523070),a=this.ii(a,r,i,o,e[11],10,-1120210379),o=this.ii(o,a,r,i,e[2],15,718787259),i=this.ii(i,o,a,r,e[9],21,-343485551),t[0]=this.add32(r,t[0]),t[1]=this.add32(i,t[1]),t[2]=this.add32(o,t[2]),t[3]=this.add32(a,t[3])},n.prototype.cmn=function(t,e,r,i,o,a){return e=this.add32(this.add32(e,t),this.add32(i,a)),this.add32(e<<o|e>>>32-o,r)},n.prototype.ff=function(t,e,r,i,o,a,s){return this.cmn(e&r|~e&i,t,e,o,a,s)},n.prototype.gg=function(t,e,r,i,o,a,s){return this.cmn(e&i|r&~i,t,e,o,a,s)},n.prototype.hh=function(t,e,r,i,o,a,s){return this.cmn(e^r^i,t,e,o,a,s)},n.prototype.ii=function(t,e,r,i,o,a,s){return this.cmn(r^(e|~i),t,e,o,a,s)},n.prototype.md51=function(t){var e=t.length,r=[1732584193,-271733879,-1732584194,271733878],i;for(i=64;i<=t.length;i+=64)this.md5cycle(r,this.md5blk(t.substring(i-64,i)));t=t.substring(i-64);var o=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0];for(i=0;i<t.length;i++)o[i>>2]|=t.charCodeAt(i)<<(i%4<<3);if(o[i>>2]|=128<<(i%4<<3),i>55)for(this.md5cycle(r,o),i=0;i<16;i++)o[i]=0;return o[14]=e*8,this.md5cycle(r,o),r},n.prototype.md5blk=function(t){for(var e=[],r=0;r<64;r+=4)e[r>>2]=t.charCodeAt(r)+(t.charCodeAt(r+1)<<8)+(t.charCodeAt(r+2)<<16)+(t.charCodeAt(r+3)<<24);return e},n.prototype.rhex=function(t){for(var e="0123456789abcdef".split(""),r="",i=0;i<4;i++)r+=e[t>>i*8+4&15]+e[t>>i*8&15];return r},n.prototype.hex=function(t){for(var e=0;e<t.length;e++)t[e]=this.rhex(t[e]);return t.join("")},n.prototype.md5=function(t){return this.hex(this.md51(t))},n.prototype.add32=function(t,e){return this.ieCompatibility?this.add32Compat(t,e):this.add32Std(t,e)},n.prototype.add32Std=function(t,e){return t+e&4294967295},n.prototype.add32Compat=function(t,e){var r=(t&65535)+(e&65535),i=(t>>16)+(e>>16)+(r>>16);return i<<16|r&65535},n}(),ZNe=function(n,t){var e=typeof Symbol=="function"&&n[Symbol.iterator];if(!e)return n;var r=e.call(n),i,o=[],a;try{for(;(t===void 0||t-- >0)&&!(i=r.next()).done;)o.push(i.value)}catch(s){a={error:s}}finally{try{i&&!i.done&&(e=r.return)&&e.call(r)}finally{if(a)throw a.error}}return o};function jD(n){return n==null||n.length===0}var j_={"01":"GRID","02":"CHARTS","0102":"BOTH"},$_=function(){function n(t){this.watermarkMessage=void 0,this.totalMessageLength=124,this.document=t,this.md5=new qNe,this.md5.init()}return n.prototype.validateLicense=function(){var t=this.getLicenseDetails(n.licenseKey),e="AG Grid ".concat(t.currentLicenseType==="BOTH"?"and AG Charts ":"","Enterprise"),r=t.suppliedLicenseType===void 0?"":"AG ".concat(t.suppliedLicenseType==="BOTH"?"Grid and AG Charts":t.suppliedLicenseType==="GRID"?"Grid":"Charts"," Enterprise");if(t.missing)(!this.isWebsiteUrl()||this.isForceWatermark())&&this.outputMissingLicenseKey(e);else if(t.expired){var i=n.getGridReleaseDate(),o=n.formatDate(i);this.outputExpiredKey(t.expiry,o,e,r)}else t.valid?t.isTrial&&t.trialExpired&&this.outputExpiredTrialKey(t.expiry,e,r):this.outputInvalidLicenseKey(!!t.incorrectLicenseType,e,r)},n.extractExpiry=function(t){var e=t.substring(t.lastIndexOf("_")+1,t.length);return new Date(parseInt(n.decode(e),10))},n.extractLicenseComponents=function(t){var e=t.replace(/[\u200B-\u200D\uFEFF]/g,"");if(e=e.replace(/\r?\n|\r/g,""),t.length<=32)return{md5:null,license:t,version:null,isTrial:null};var r=e.length-32,i=e.substring(r),o=e.substring(0,r),a=ZNe(n.extractBracketedInformation(e),3),s=a[0],l=a[1],u=a[2];return{md5:i,license:o,version:s,isTrial:l,type:u}},n.prototype.getLicenseDetails=function(t){var e=n.chartsLicenseManager?"BOTH":"GRID";if(jD(t))return{licenseKey:t,valid:!1,missing:!0,currentLicenseType:e};var r=n.getGridReleaseDate(),i=n.extractLicenseComponents(t),o=i.md5,a=i.license,s=i.version,l=i.isTrial,u=i.type,c=o===this.md5.md5(a)&&t.indexOf("For_Trialing_ag-Grid_Only")===-1,d=void 0,p=void 0,h=null,f=!1,v=void 0;function g(){var y=new Date;d=h<y,p=void 0}if(c&&(h=n.extractExpiry(a),c=!isNaN(h.getTime()),c))switch(p=r>h,s){case"legacy":case"2":{l&&g();break}case"3":jD(u)?c=!1:(v=u,u!==j_["01"]&&u!==j_["0102"]||e==="BOTH"&&v!=="BOTH"?(c=!1,f=!0):l&&g())}return c?{licenseKey:t,valid:c,expiry:n.formatDate(h),expired:p,version:s,isTrial:l,trialExpired:d,incorrectLicenseType:f,currentLicenseType:e,suppliedLicenseType:v}:{licenseKey:t,valid:c,incorrectLicenseType:f,currentLicenseType:e,suppliedLicenseType:v}},n.prototype.isDisplayWatermark=function(){return this.isForceWatermark()||!this.isLocalhost()&&!this.isWebsiteUrl()&&!jD(this.watermarkMessage)},n.prototype.getWatermarkMessage=function(){return this.watermarkMessage||""},n.prototype.getHostname=function(){var t=this.document.defaultView||window,e=t.location,r=e.hostname,i=r===void 0?"":r;return i},n.prototype.isForceWatermark=function(){var t=this.document.defaultView||window,e=t.location,r=e.pathname;return r?r.indexOf("forceWatermark")!==-1:!1},n.prototype.isWebsiteUrl=function(){var t=this.getHostname();return t.match(/^((?:\w+\.)?ag-grid\.com)$/)!==null},n.prototype.isLocalhost=function(){var t=this.getHostname();return t.match(/^(?:127\.0\.0\.1|localhost)$/)!==null},n.formatDate=function(t){var e=["January","February","March","April","May","June","July","August","September","October","November","December"],r=t.getDate(),i=t.getMonth(),o=t.getFullYear();return r+" "+e[i]+" "+o},n.getGridReleaseDate=function(){return new Date(parseInt(n.decode(n.RELEASE_INFORMATION),10))},n.decode=function(t){for(var e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",r="",i,o,a,s,l,u,c,d=0,p=t.replace(/[^A-Za-z0-9+/=]/g,"");d<p.length;)s=e.indexOf(p.charAt(d++)),l=e.indexOf(p.charAt(d++)),u=e.indexOf(p.charAt(d++)),c=e.indexOf(p.charAt(d++)),i=s<<2|l>>4,o=(l&15)<<4|u>>2,a=(u&3)<<6|c,r=r+String.fromCharCode(i),u!=64&&(r=r+String.fromCharCode(o)),c!=64&&(r=r+String.fromCharCode(a));return r=n.utf8_decode(r),r},n.utf8_decode=function(t){t=t.replace(/rn/g,"n");for(var e="",r=0;r<t.length;r++){var i=t.charCodeAt(r);i<128?e+=String.fromCharCode(i):i>127&&i<2048?(e+=String.fromCharCode(i>>6|192),e+=String.fromCharCode(i&63|128)):(e+=String.fromCharCode(i>>12|224),e+=String.fromCharCode(i>>6&63|128),e+=String.fromCharCode(i&63|128))}return e},n.setChartsLicenseManager=function(t){this.chartsLicenseManager=t},n.setLicenseKey=function(t){this.licenseKey=t,this.chartsLicenseManager&&this.chartsLicenseManager.setLicenseKey(t,!0)},n.extractBracketedInformation=function(t){if(!t.includes("["))return["legacy",!1,void 0];var e=t.match(/\[(.*?)\]/g).map(function(s){return s.replace("[","").replace("]","")});if(!e||e.length===0)return["legacy",!1,void 0];var r=e.filter(function(s){return s==="TRIAL"}).length===1,i=e.filter(function(s){return s.indexOf("v")===0})[0],o=i?i.replace("v",""):"legacy",a=j_[e.filter(function(s){return j_[s]})[0]];return[o,r,a]},n.prototype.centerPadAndOutput=function(t){var e=this.totalMessageLength-t.length;console.error(t.padStart(e/2+t.length,"*").padEnd(this.totalMessageLength,"*"))},n.prototype.padAndOutput=function(t,e,r){e===void 0&&(e="*"),r===void 0&&(r=""),console.error(t.padEnd(this.totalMessageLength-r.length,e)+r)},n.prototype.outputInvalidLicenseKey=function(t,e,r){t?(this.centerPadAndOutput(""),this.centerPadAndOutput(" ".concat(e," License ")),this.centerPadAndOutput(" Incompatible License Key "),this.padAndOutput("* Your license key is for ".concat(r," only and does not cover you for ").concat(e,".")," ","*"),this.padAndOutput("* Please contact info@ag-grid.com to obtain a combined license key."," ","*"),this.centerPadAndOutput(""),this.centerPadAndOutput("")):(this.centerPadAndOutput(""),this.centerPadAndOutput(" ".concat(e," License ")),this.centerPadAndOutput(" Invalid License Key "),this.padAndOutput("* Your license key is not valid - please contact info@ag-grid.com to obtain a valid license."," ","*"),this.centerPadAndOutput(""),this.centerPadAndOutput("")),this.watermarkMessage="Invalid License"},n.prototype.outputExpiredTrialKey=function(t,e,r){this.centerPadAndOutput(""),this.centerPadAndOutput(" ".concat(e," License ")),this.centerPadAndOutput(" Trial Period Expired. "),this.padAndOutput("* Your trial only license for ".concat(r," expired on ").concat(t,".")," ","*"),this.padAndOutput("* Please email info@ag-grid.com to purchase a license."," ","*"),this.centerPadAndOutput(""),this.centerPadAndOutput(""),this.watermarkMessage="Trial Period Expired"},n.prototype.outputMissingLicenseKey=function(t){this.centerPadAndOutput(""),this.centerPadAndOutput(" ".concat(t," License ")),this.centerPadAndOutput(" License Key Not Found "),this.padAndOutput("* All ".concat(t," features are unlocked for trial.")," ","*"),this.padAndOutput("* If you want to hide the watermark please email info@ag-grid.com for a trial license key."," ","*"),this.centerPadAndOutput(""),this.centerPadAndOutput(""),this.watermarkMessage="For Trial Use Only"},n.prototype.outputExpiredKey=function(t,e,r,i){this.centerPadAndOutput(""),this.centerPadAndOutput(" ".concat(r," License ")),this.centerPadAndOutput(" Incompatible Software Version "),this.padAndOutput("* Your license key works with versions of ".concat(i," released before ").concat(t,".")," ","*"),this.padAndOutput("* The version you are trying to use was released on ".concat(e,".")," ","*"),this.padAndOutput("* Please contact info@ag-grid.com to renew your license key."," ","*"),this.centerPadAndOutput(""),this.centerPadAndOutput(""),this.watermarkMessage="License Expired"},n.RELEASE_INFORMATION="MTcwODI3NzkwNjI5Nw==",n}(),QNe=function(){var n=function(t,e){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])},n(t,e)};return function(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");n(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}}(),SU=function(n,t,e,r){var i=arguments.length,o=i<3?t:r===null?r=Object.getOwnPropertyDescriptor(t,e):r,a;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(n,t,e,r);else for(var s=n.length-1;s>=0;s--)(a=n[s])&&(o=(i<3?a(o):i>3?a(t,e,o):a(t,e))||o);return i>3&&o&&Object.defineProperty(t,e,o),o},JNe=function(n){QNe(t,n);function t(){return n!==null&&n.apply(this,arguments)||this}return t.prototype.validateLicense=function(){this.licenseManager=new $_(this.gridOptionsService.getDocument()),this.licenseManager.validateLicense()},t.getLicenseDetails=function(e){return new $_(null).getLicenseDetails(e)},t.prototype.isDisplayWatermark=function(){return this.licenseManager.isDisplayWatermark()},t.prototype.getWatermarkMessage=function(){return this.licenseManager.getWatermarkMessage()},t.setLicenseKey=function(e){$_.setLicenseKey(e)},t.setChartsLicenseManager=function(e){$_.setChartsLicenseManager(e)},SU([Hh],t.prototype,"validateLicense",null),t=SU([ae("licenseManager")],t),t}(q),eke=function(){var n=function(t,e){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])},n(t,e)};return function(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");n(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}}(),$D=function(n,t,e,r){var i=arguments.length,o=i<3?t:r===null?r=Object.getOwnPropertyDescriptor(t,e):r,a;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(n,t,e,r);else for(var s=n.length-1;s>=0;s--)(a=n[s])&&(o=(i<3?a(o):i>3?a(t,e,o):a(t,e))||o);return i>3&&o&&Object.defineProperty(t,e,o),o},tke=function(n){eke(t,n);function t(){return n.call(this,`<div class="ag-watermark">
                <div ref="eLicenseTextRef" class="ag-watermark-text"></div>
            </div>`)||this}return t.prototype.postConstruct=function(){var e=this,r=this.shouldDisplayWatermark();this.setDisplayed(r),r&&(this.eLicenseTextRef.innerText=this.licenseManager.getWatermarkMessage(),window.setTimeout(function(){return e.addCssClass("ag-opacity-zero")},0),window.setTimeout(function(){return e.setDisplayed(!1)},5e3))},t.prototype.shouldDisplayWatermark=function(){return this.licenseManager.isDisplayWatermark()},$D([E("licenseManager")],t.prototype,"licenseManager",void 0),$D([$("eLicenseTextRef")],t.prototype,"eLicenseTextRef",void 0),$D([z],t.prototype,"postConstruct",null),t}(de),rke="31.1.1",In={version:rke,moduleName:fe.EnterpriseCoreModule,beans:[JNe],agStackComponents:[{componentName:"AgWatermark",componentClass:tke}]},nke=function(){var n=function(t,e){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])},n(t,e)};return function(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");n(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}}(),W_=function(n,t,e,r){var i=arguments.length,o=i<3?t:r===null?r=Object.getOwnPropertyDescriptor(t,e):r,a;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(n,t,e,r);else for(var s=n.length-1;s>=0;s--)(a=n[s])&&(o=(i<3?a(o):i>3?a(t,e,o):a(t,e))||o);return i>3&&o&&Object.defineProperty(t,e,o),o},ike=function(n){nke(t,n);function t(e){var r=n.call(this,`
            <div class="ag-advanced-filter-header" role="row">
            </div>`)||this;return r.enabled=e,r}return t.prototype.postConstruct=function(){var e=this;this.setupAdvancedFilter(this.enabled),this.addDestroyFunc(function(){return e.destroyBean(e.eAdvancedFilter)}),this.addManagedListener(this.eventService,P.EVENT_GRID_COLUMNS_CHANGED,function(){return e.onGridColumnsChanged()}),this.addGuiEventListener("keydown",function(r){return e.onKeyDown(r)}),this.addGuiEventListener("focusout",function(r){e.getFocusableElement().contains(r.relatedTarget)||e.focusService.clearAdvancedFilterColumn()})},t.prototype.getFocusableElement=function(){var e,r;return(r=(e=this.eAdvancedFilter)===null||e===void 0?void 0:e.getGui())!==null&&r!==void 0?r:this.getGui()},t.prototype.setEnabled=function(e){e!==this.enabled&&this.setupAdvancedFilter(e)},t.prototype.refresh=function(){var e;(e=this.eAdvancedFilter)===null||e===void 0||e.refresh()},t.prototype.getHeight=function(){return this.height},t.prototype.setInputDisabled=function(e){var r;(r=this.eAdvancedFilter)===null||r===void 0||r.setInputDisabled(e)},t.prototype.setupAdvancedFilter=function(e){var r=this.getGui();if(e){this.eAdvancedFilter=this.createBean(new OV);var i=this.eAdvancedFilter.getGui();this.eAdvancedFilter.addCssClass("ag-advanced-filter-header-cell"),this.height=this.columnModel.getFloatingFiltersHeight();var o="".concat(this.height,"px");r.style.height=o,r.style.minHeight=o,this.setAriaRowIndex(),D.setAriaRole(i,"gridcell"),D.setAriaColIndex(i,1),this.setAriaColumnCount(i),r.appendChild(i)}else D.clearElement(r),this.destroyBean(this.eAdvancedFilter),this.height=0;D.setDisplayed(r,e),this.enabled=e},t.prototype.setAriaColumnCount=function(e){D.setAriaColSpan(e,this.columnModel.getAllGridColumns().length)},t.prototype.setAriaRowIndex=function(){D.setAriaRowIndex(this.getGui(),this.headerNavigationService.getHeaderRowCount())},t.prototype.onGridColumnsChanged=function(){this.eAdvancedFilter&&(this.setAriaColumnCount(this.eAdvancedFilter.getGui()),this.setAriaRowIndex())},t.prototype.onKeyDown=function(e){switch(e.key){case U.ENTER:{this.hasFocus()&&this.focusService.focusInto(this.getFocusableElement())&&e.preventDefault();break}case U.ESCAPE:this.hasFocus()||this.getFocusableElement().focus();break;case U.UP:this.navigateUpDown(!0,e);break;case U.DOWN:this.navigateUpDown(!1,e);break;case U.TAB:if(this.hasFocus())this.navigateLeftRight(e);else{var r=this.focusService.findNextFocusableElement(this.getFocusableElement(),null,e.shiftKey);r?(e.preventDefault(),r.focus()):this.navigateLeftRight(e)}break}},t.prototype.navigateUpDown=function(e,r){this.hasFocus()&&this.focusService.focusNextFromAdvancedFilter(e)&&r.preventDefault()},t.prototype.navigateLeftRight=function(e){(e.shiftKey?this.focusService.focusLastHeader():this.focusService.focusNextFromAdvancedFilter(!1,!0))&&e.preventDefault()},t.prototype.hasFocus=function(){var e=this.gridOptionsService.getDocument();return e.activeElement===this.getFocusableElement()},W_([E("columnModel")],t.prototype,"columnModel",void 0),W_([E("focusService")],t.prototype,"focusService",void 0),W_([E("headerNavigationService")],t.prototype,"headerNavigationService",void 0),W_([z],t.prototype,"postConstruct",null),t}(de),oke=function(){var n=function(t,e){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])},n(t,e)};return function(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");n(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}}(),hO=function(){return hO=Object.assign||function(n){for(var t,e=1,r=arguments.length;e<r;e++){t=arguments[e];for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(n[i]=t[i])}return n},hO.apply(this,arguments)},NZ=function(n){oke(t,n);function t(e){var r=n.call(this,hO(hO({},e),{template:`
                <div class="ag-picker-field" role="presentation">
                    <div ref="eLabel"></div>
                    <div ref="eWrapper" class="ag-wrapper ag-picker-collapsed">
                        <div ref="eDisplayField" class="ag-picker-field-display"></div>
                        <ag-input-text-field ref="eInput" class="ag-rich-select-field-input"></ag-input-text-field>
                        <div ref="eIcon" class="ag-picker-field-icon" aria-hidden="true"></div>
                    </div>
                </div>`}))||this;return r.params=e,r}return t.prototype.showPicker=function(){var e=this;setTimeout(function(){return n.prototype.showPicker.call(e)})},t.prototype.hidePicker=function(){var e=this;setTimeout(function(){return n.prototype.hidePicker.call(e)})},t.prototype.postConstruct=function(){n.prototype.postConstruct.call(this);var e=this.params,r=e.wrapperClassName,i=e.ariaLabel;D.setDisplayed(this.eDisplayField,!1),r&&this.eWrapper.classList.add(r),D.setAriaLabelledBy(this.eWrapper,""),D.setAriaLabel(this.eWrapper,i)},t.prototype.onEnterKeyDown=function(e){D.stopPropagationForAgGrid(e),this.isPickerDisplayed?n.prototype.onEnterKeyDown.call(this,e):(e.preventDefault(),this.showPicker())},t}(Hw),ake=function(){var n=function(t,e){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])},n(t,e)};return function(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");n(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}}(),ske=function(n,t,e,r){var i=arguments.length,o=i<3?t:r===null?r=Object.getOwnPropertyDescriptor(t,e):r,a;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(n,t,e,r);else for(var s=n.length-1;s>=0;s--)(a=n[s])&&(o=(i<3?a(o):i>3?a(t,e,o):a(t,e))||o);return i>3&&o&&Object.defineProperty(t,e,o),o},JL=function(n){ake(t,n);function t(e,r){var i=n.call(this)||this;return i.comp=e,i.virtualList=r,i}return t.prototype.postConstruct=function(){var e=this;this.createManagedBean(new xG(this.comp,this.virtualList,{dragSourceType:Sr.AdvancedFilterBuilder,listItemDragStartEvent:t.EVENT_DRAG_STARTED,listItemDragEndEvent:t.EVENT_DRAG_ENDED,eventSource:this,getCurrentDragValue:function(r){return e.getCurrentDragValue(r)},isMoveBlocked:function(){return!1},getNumRows:function(r){return r.getNumItems()},moveItem:function(r,i){return e.moveItem(r,i)}}))},t.prototype.getCurrentDragValue=function(e){return e.item},t.prototype.moveItem=function(e,r){this.comp.moveItem(e,r)},t.EVENT_DRAG_STARTED="advancedFilterBuilderDragStarted",t.EVENT_DRAG_ENDED="advancedFilterBuilderDragEnded",ske([z],t.prototype,"postConstruct",null),t}(q),lke=function(){var n=function(t,e){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])},n(t,e)};return function(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");n(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}}(),uke=function(n,t,e,r){var i=arguments.length,o=i<3?t:r===null?r=Object.getOwnPropertyDescriptor(t,e):r,a;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(n,t,e,r);else for(var s=n.length-1;s>=0;s--)(a=n[s])&&(o=(i<3?a(o):i>3?a(t,e,o):a(t,e))||o);return i>3&&o&&Object.defineProperty(t,e,o),o},kZ=function(n){lke(t,n);function t(e,r,i){var o=n.call(this)||this;return o.eGui=e,o.focusWrapper=r,o.eFocusableComp=i,o}return t.prototype.postConstruct=function(){var e=this;this.addManagedListener(this.eGui,"keydown",function(r){switch(r.key){case U.TAB:r.defaultPrevented||D.stopPropagationForAgGrid(r);break;case U.UP:case U.DOWN:D.stopPropagationForAgGrid(r);break;case U.ESCAPE:if(D.isStopPropagationForAgGrid(r))return;var i=e.gridOptionsService.getDocument();e.eGui.contains(i.activeElement)&&(r.preventDefault(),D.stopPropagationForAgGrid(r),e.focusWrapper.focus());break}}),this.addManagedListener(this.focusWrapper,"keydown",function(r){switch(r.key){case U.ENTER:if(D.isStopPropagationForAgGrid(r))return;var i=e.gridOptionsService.getDocument();i.activeElement===e.focusWrapper&&(r.preventDefault(),D.stopPropagationForAgGrid(r),e.eFocusableComp.getFocusableElement().focus());break}}),this.addManagedListener(this.focusWrapper,"focusin",function(){e.focusWrapper.classList.add("ag-advanced-filter-builder-virtual-list-item-highlight")}),this.addManagedListener(this.focusWrapper,"focusout",function(r){e.focusWrapper.contains(r.relatedTarget)||e.focusWrapper.classList.remove("ag-advanced-filter-builder-virtual-list-item-highlight")})},uke([z],t.prototype,"postConstruct",null),t}(q);function GZ(n,t){return{pickerAriaLabelKey:"ariaLabelAdvancedFilterBuilderAddField",pickerAriaLabelValue:"Advanced Filter Builder Add Field",pickerType:"ag-list",valueList:[{key:"condition",displayValue:n("advancedFilterBuilderAddCondition")},{key:"join",displayValue:n("advancedFilterBuilderAddJoin")}],valueFormatter:function(e){var r;return e==null?null:(r=e.displayValue)!==null&&r!==void 0?r:e.key},pickerIcon:"advancedFilterBuilderAdd",maxPickerWidth:"".concat(t??120,"px"),wrapperClassName:"ag-advanced-filter-builder-item-button",ariaLabel:n("advancedFilterBuilderAddButtonTooltip")}}var Uo=function(){function n(){}return n.EVENT_ADDED="advancedFilterBuilderAdded",n.EVENT_MOVED="advancedFilterBuilderMoved",n.EVENT_REMOVED="advancedFilterBuilderRemoved",n.EVENT_VALUE_CHANGED="advancedFilterBuilderValueChanged",n.EVENT_VALID_CHANGED="advancedFilterBuilderValidChanged",n}(),cke=function(){var n=function(t,e){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])},n(t,e)};return function(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");n(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}}(),wU=function(n,t,e,r){var i=arguments.length,o=i<3?t:r===null?r=Object.getOwnPropertyDescriptor(t,e):r,a;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(n,t,e,r);else for(var s=n.length-1;s>=0;s--)(a=n[s])&&(o=(i<3?a(o):i>3?a(t,e,o):a(t,e))||o);return i>3&&o&&Object.defineProperty(t,e,o),o},dke=function(n){cke(t,n);function t(){var e=n.call(this,`
            <div class="ag-advanced-filter-builder-item-condition" role="presentation"></div>
        `)||this;return e.validationMessage=null,e}return t.prototype.init=function(e){var r=this,i=e.item,o=e.createPill;this.item=i,this.createPill=o,this.filterModel=i.filterModel,this.setupColumnCondition(this.filterModel),this.validate(),this.addDestroyFunc(function(){return r.destroyBeans([r.eColumnPill,r.eOperatorPill,r.eOperandPill])})},t.prototype.getDragName=function(){return this.filterModel.colId?this.advancedFilterExpressionService.parseColumnFilterModel(this.filterModel):this.getDefaultColumnDisplayValue()},t.prototype.getAriaLabel=function(){return"".concat(this.advancedFilterExpressionService.translate("ariaAdvancedFilterBuilderFilterItem")," ").concat(this.getDragName())},t.prototype.getValidationMessage=function(){return this.validationMessage},t.prototype.getFocusableElement=function(){return this.eColumnPill.getFocusableElement()},t.prototype.setupColumnCondition=function(e){var r=this,i,o=this.advancedFilterExpressionService.getColumnDetails(e.colId);this.baseCellDataType=o.baseCellDataType,this.column=o.column,this.numOperands=this.getNumOperands(this.getOperatorKey()),this.eColumnPill=this.createPill({key:this.getColumnKey(),displayValue:(i=this.getColumnDisplayValue())!==null&&i!==void 0?i:this.getDefaultColumnDisplayValue(),cssClass:"ag-advanced-filter-builder-column-pill",isSelect:!0,getEditorParams:function(){return{values:r.advancedFilterExpressionService.getColumnAutocompleteEntries()}},update:function(a){return r.setColumnKey(a)},pickerAriaLabelKey:"ariaLabelAdvancedFilterBuilderColumnSelectField",pickerAriaLabelValue:"Advanced Filter Builder Column Select Field",ariaLabel:this.advancedFilterExpressionService.translate("ariaAdvancedFilterBuilderColumn")}),this.getGui().appendChild(this.eColumnPill.getGui()),D.exists(this.getColumnKey())&&(this.createOperatorPill(),this.hasOperand()&&this.createOperandPill())},t.prototype.createOperatorPill=function(){var e=this,r;this.eOperatorPill=this.createPill({key:this.getOperatorKey(),displayValue:(r=this.getOperatorDisplayValue())!==null&&r!==void 0?r:this.getDefaultOptionSelectValue(),cssClass:"ag-advanced-filter-builder-option-pill",isSelect:!0,getEditorParams:function(){return{values:e.getOperatorAutocompleteEntries()}},update:function(i){return e.setOperatorKey(i)},pickerAriaLabelKey:"ariaLabelAdvancedFilterBuilderOptionSelectField",pickerAriaLabelValue:"Advanced Filter Builder Option Select Field",ariaLabel:this.advancedFilterExpressionService.translate("ariaAdvancedFilterBuilderOption")}),this.eColumnPill.getGui().insertAdjacentElement("afterend",this.eOperatorPill.getGui())},t.prototype.createOperandPill=function(){var e=this,r,i=(r=this.getOperandDisplayValue())!==null&&r!==void 0?r:"";this.eOperandPill=this.createPill({key:i,displayValue:i,baseCellDataType:this.baseCellDataType,cssClass:"ag-advanced-filter-builder-value-pill",isSelect:!1,update:function(o){return e.setOperand(o)},ariaLabel:this.advancedFilterExpressionService.translate("ariaAdvancedFilterBuilderValue")}),this.getGui().appendChild(this.eOperandPill.getGui())},t.prototype.getColumnKey=function(){return this.filterModel.colId},t.prototype.getColumnDisplayValue=function(){return this.advancedFilterExpressionService.getColumnDisplayValue(this.filterModel)},t.prototype.getOperatorKey=function(){return this.filterModel.type},t.prototype.getOperatorDisplayValue=function(){return this.advancedFilterExpressionService.getOperatorDisplayValue(this.filterModel)},t.prototype.getOperandDisplayValue=function(){return this.advancedFilterExpressionService.getOperandDisplayValue(this.filterModel,!0)},t.prototype.hasOperand=function(){return this.numOperands>0},t.prototype.getOperatorAutocompleteEntries=function(){return this.column?this.advancedFilterExpressionService.getOperatorAutocompleteEntries(this.column,this.baseCellDataType):[]},t.prototype.setColumnKey=function(e){this.eOperatorPill||this.createOperatorPill();var r=this.advancedFilterExpressionService.getColumnDetails(e);this.column=r.column;var i=r.baseCellDataType;this.baseCellDataType!==i&&(this.baseCellDataType=i,this.setOperatorKey(void 0),this.eOperatorPill&&(D.removeFromParent(this.eOperatorPill.getGui()),this.destroyBean(this.eOperatorPill),this.createOperatorPill()),this.validate()),this.filterModel.colId=e,this.filterModel.filterType=this.baseCellDataType},t.prototype.setOperatorKey=function(e){var r=this.getNumOperands(e);r!==this.numOperands&&(this.numOperands=r,r===0?this.destroyOperandPill():(this.createOperandPill(),this.baseCellDataType!=="number"&&this.setOperand(""))),this.filterModel.type=e,this.validate()},t.prototype.setOperand=function(e){var r,i=e;this.column&&(i=(r=this.advancedFilterExpressionService.getOperandModelValue(e,this.baseCellDataType,this.column))!==null&&r!==void 0?r:""),this.filterModel.filter=i,this.validate()},t.prototype.getNumOperands=function(e){var r,i;return(i=(r=this.advancedFilterExpressionService.getExpressionOperator(this.baseCellDataType,e))===null||r===void 0?void 0:r.numOperands)!==null&&i!==void 0?i:0},t.prototype.destroyOperandPill=function(){delete this.filterModel.filter,this.getGui().removeChild(this.eOperandPill.getGui()),this.destroyBean(this.eOperandPill),this.eOperandPill=void 0},t.prototype.validate=function(){var e=null;D.exists(this.getColumnKey())?D.exists(this.getOperatorKey())?this.numOperands>0&&!D.exists(this.getOperandDisplayValue())&&(e=this.advancedFilterExpressionService.translate("advancedFilterBuilderValidationEnterValue")):e=this.advancedFilterExpressionService.translate("advancedFilterBuilderValidationSelectOption"):e=this.advancedFilterExpressionService.translate("advancedFilterBuilderValidationSelectColumn"),this.item.valid=!e,e!==this.validationMessage&&(this.validationMessage=e,this.dispatchEvent({type:Uo.EVENT_VALID_CHANGED}))},t.prototype.getDefaultColumnDisplayValue=function(){return this.advancedFilterExpressionService.translate("advancedFilterBuilderSelectColumn")},t.prototype.getDefaultOptionSelectValue=function(){return this.advancedFilterExpressionService.translate("advancedFilterBuilderSelectOption")},wU([E("advancedFilterExpressionService")],t.prototype,"advancedFilterExpressionService",void 0),wU([E("valueParserService")],t.prototype,"valueParserService",void 0),t}(de),pke=function(){var n=function(t,e){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])},n(t,e)};return function(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");n(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}}(),U_=function(n,t,e,r){var i=arguments.length,o=i<3?t:r===null?r=Object.getOwnPropertyDescriptor(t,e):r,a;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(n,t,e,r);else for(var s=n.length-1;s>=0;s--)(a=n[s])&&(o=(i<3?a(o):i>3?a(t,e,o):a(t,e))||o);return i>3&&o&&Object.defineProperty(t,e,o),o},hke=function(n){pke(t,n);function t(e){var r=n.call(this,`
            <div class="ag-advanced-filter-builder-pill-wrapper" role="presentation">
                <div ref="ePill" class="ag-advanced-filter-builder-pill" role="button">
                    <span ref="eLabel" class="ag-advanced-filter-builder-pill-display"></span>
                </div>
            </div>
        `)||this;return r.params=e,r.value=e.value,r}return t.prototype.postConstruct=function(){var e=this,r=this.params,i=r.cssClass,o=r.ariaLabel;this.ePill.classList.add(i),this.activateTabIndex([this.ePill]),this.eLabel.id="".concat(this.getCompId()),D.setAriaDescribedBy(this.ePill,this.eLabel.id),D.setAriaLabel(this.ePill,o),this.renderValue(),this.addManagedListener(this.ePill,"click",function(a){a.preventDefault(),e.showEditor()}),this.addManagedListener(this.ePill,"keydown",function(a){switch(a.key){case U.ENTER:a.preventDefault(),D.stopPropagationForAgGrid(a),e.showEditor();break}}),this.addDestroyFunc(function(){return e.destroyBean(e.eEditor)})},t.prototype.getFocusableElement=function(){return this.ePill},t.prototype.showEditor=function(){var e=this;if(!this.eEditor){D.setDisplayed(this.ePill,!1),this.eEditor=this.createEditorComp(this.params.type),this.eEditor.setValue(this.value);var r=this.eEditor.getGui();this.eEditor.addManagedListener(r,"keydown",function(i){switch(i.key){case U.ENTER:i.preventDefault(),D.stopPropagationForAgGrid(i),e.updateValue(!0);break;case U.ESCAPE:i.preventDefault(),D.stopPropagationForAgGrid(i),e.hideEditor(!0);break}}),this.eEditor.addManagedListener(r,"focusout",function(){e.updateValue(!1)}),this.getGui().appendChild(r),this.eEditor.getFocusableElement().focus()}},t.prototype.createEditorComp=function(e){var r;switch(e){case"text":r=new tu;break;case"number":r=new Gw;break;case"date":r=new LG;break}return this.createBean(r)},t.prototype.hideEditor=function(e){var r=this.eEditor;r&&(this.eEditor=void 0,this.getGui().removeChild(r.getGui()),this.destroyBean(r),D.setDisplayed(this.ePill,!0),e&&this.ePill.focus())},t.prototype.renderValue=function(){var e;this.eLabel.classList.remove("ag-advanced-filter-builder-value-empty","ag-advanced-filter-builder-value-number","ag-advanced-filter-builder-value-text"),D.exists(this.value)?this.params.type==="number"?(e=this.value,this.eLabel.classList.add("ag-advanced-filter-builder-value-number")):(e='"'.concat(this.value,'"'),this.eLabel.classList.add("ag-advanced-filter-builder-value-text")):(e=this.advancedFilterExpressionService.translate("advancedFilterBuilderEnterValue"),this.eLabel.classList.add("ag-advanced-filter-builder-value-empty")),this.eLabel.innerText=e},t.prototype.updateValue=function(e){var r;if(this.eEditor){var i=(r=this.eEditor.getValue())!==null&&r!==void 0?r:"";this.dispatchEvent({type:P.EVENT_FIELD_VALUE_CHANGED,value:i}),this.value=i,this.renderValue(),this.hideEditor(e)}},U_([$("ePill")],t.prototype,"ePill",void 0),U_([$("eLabel")],t.prototype,"eLabel",void 0),U_([E("advancedFilterExpressionService")],t.prototype,"advancedFilterExpressionService",void 0),U_([z],t.prototype,"postConstruct",null),t}(de),fke=function(){var n=function(t,e){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])},n(t,e)};return function(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");n(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}}(),vke=function(n,t,e,r){var i=arguments.length,o=i<3?t:r===null?r=Object.getOwnPropertyDescriptor(t,e):r,a;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(n,t,e,r);else for(var s=n.length-1;s>=0;s--)(a=n[s])&&(o=(i<3?a(o):i>3?a(t,e,o):a(t,e))||o);return i>3&&o&&Object.defineProperty(t,e,o),o},gke=function(n){fke(t,n);function t(){return n.call(this,`
            <div class="ag-advanced-filter-builder-item-condition" role="presentation"></div>
        `)||this}return t.prototype.init=function(e){var r=this,i=e.item,o=e.createPill,a=i.filterModel;this.filterModel=a,this.ePill=o({key:a.type,displayValue:this.advancedFilterExpressionService.parseJoinOperator(a),cssClass:"ag-advanced-filter-builder-join-pill",isSelect:!0,getEditorParams:function(){return{values:r.advancedFilterExpressionService.getJoinOperatorAutocompleteEntries()}},update:function(s){return a.type=s},pickerAriaLabelKey:"ariaLabelAdvancedFilterBuilderJoinSelectField",pickerAriaLabelValue:"Advanced Filter Builder Join Operator Select Field",ariaLabel:this.advancedFilterExpressionService.translate("ariaAdvancedFilterBuilderJoinOperator")}),this.getGui().appendChild(this.ePill.getGui()),this.addDestroyFunc(function(){return r.destroyBean(r.ePill)})},t.prototype.getDragName=function(){return this.advancedFilterExpressionService.parseJoinOperator(this.filterModel)},t.prototype.getAriaLabel=function(){return"".concat(this.advancedFilterExpressionService.translate("ariaAdvancedFilterBuilderGroupItem")," ").concat(this.getDragName())},t.prototype.getValidationMessage=function(){return null},t.prototype.getFocusableElement=function(){return this.ePill.getFocusableElement()},vke([E("advancedFilterExpressionService")],t.prototype,"advancedFilterExpressionService",void 0),t}(de),yke=function(){var n=function(t,e){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])},n(t,e)};return function(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");n(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}}(),fO=function(){return fO=Object.assign||function(n){for(var t,e=1,r=arguments.length;e<r;e++){t=arguments[e];for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(n[i]=t[i])}return n},fO.apply(this,arguments)},mke=function(n){yke(t,n);function t(e){var r=n.call(this,fO(fO({},e),{template:`
                <div class="ag-picker-field ag-advanced-filter-builder-pill-wrapper" role="presentation">
                    <div ref="eLabel"></div>
                    <div ref="eWrapper" class="ag-wrapper ag-advanced-filter-builder-pill ag-picker-collapsed">
                        <div ref="eDisplayField" class="ag-picker-field-display ag-advanced-filter-builder-pill-display"></div>
                        <ag-input-text-field ref="eInput" class="ag-rich-select-field-input"></ag-input-text-field>
                        <div ref="eIcon" class="ag-picker-field-icon" aria-hidden="true"></div>
                    </div>
                </div>`}))||this;return r.params=e,r}return t.prototype.getFocusableElement=function(){return this.eWrapper},t.prototype.showPicker=function(){var e=this;setTimeout(function(){return n.prototype.showPicker.call(e)})},t.prototype.hidePicker=function(){var e=this;setTimeout(function(){return n.prototype.hidePicker.call(e)})},t.prototype.postConstruct=function(){n.prototype.postConstruct.call(this);var e=this.params,r=e.wrapperClassName,i=e.ariaLabel;this.eWrapper.classList.add(r),D.setAriaLabelledBy(this.eWrapper,""),D.setAriaLabel(this.eWrapper,i)},t.prototype.createPickerComponent=function(){var e;if(!this.values){var r=this.params.getEditorParams().values;this.values=r;var i=this.value.key,o=(e=r.find(function(a){return a.key===i}))!==null&&e!==void 0?e:{key:i,displayValue:this.value.displayValue};this.value=o}return n.prototype.createPickerComponent.call(this)},t.prototype.onEnterKeyDown=function(e){D.stopPropagationForAgGrid(e),this.isPickerDisplayed?n.prototype.onEnterKeyDown.call(this,e):(e.preventDefault(),this.showPicker())},t}(Hw),Cke=function(){var n=function(t,e){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])},n(t,e)};return function(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");n(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}}(),Po=function(n,t,e,r){var i=arguments.length,o=i<3?t:r===null?r=Object.getOwnPropertyDescriptor(t,e):r,a;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(n,t,e,r);else for(var s=n.length-1;s>=0;s--)(a=n[s])&&(o=(i<3?a(o):i>3?a(t,e,o):a(t,e))||o);return i>3&&o&&Object.defineProperty(t,e,o),o},WD=function(n){Cke(t,n);function t(e,r,i){var o=n.call(this,`
            <div class="ag-advanced-filter-builder-item-wrapper" role="presentation">
                <div ref="eItem" class="ag-advanced-filter-builder-item" role="presentation">
                    <div ref="eTreeLines" class="ag-advanced-filter-builder-item-tree-lines" aria-hidden="true"></div>
                    <span ref="eDragHandle" class="ag-drag-handle" aria-hidden="true"></span>
                    <span ref="eValidation" class="ag-advanced-filter-builder-item-button ag-advanced-filter-builder-invalid" aria-hidden="true"></span>
                </div>
                <div ref="eButtons" class="ag-advanced-filter-builder-item-buttons">
                    <span ref="eMoveUpButton" class="ag-advanced-filter-builder-item-button" role="button"></span>
                    <span ref="eMoveDownButton" class="ag-advanced-filter-builder-item-button" role="button"></span>
                    <div ref="eAddButton" role="presentation"></div>
                    <span ref="eRemoveButton" class="ag-advanced-filter-builder-item-button" role="button"></span>
                </div>
            </div>
        `)||this;return o.item=e,o.dragFeature=r,o.focusWrapper=i,o.moveUpDisabled=!1,o.moveDownDisabled=!1,o}return t.prototype.postConstruct=function(){var e=this,r=this.item,i=r.filterModel,o=r.level,a=r.showMove,s=i.filterType==="join";if(this.ePillWrapper=this.createManagedBean(s?new gke:new dke),this.ePillWrapper.init({item:this.item,createPill:function(u){return e.createPill(u)}}),this.eDragHandle.insertAdjacentElement("afterend",this.ePillWrapper.getGui()),o===0){var l=document.createElement("div");l.classList.add("ag-advanced-filter-builder-item-tree-line-vertical-bottom"),l.classList.add("ag-advanced-filter-builder-item-tree-line-root"),this.eTreeLines.appendChild(l),D.setDisplayed(this.eDragHandle,!1),D.setDisplayed(this.eButtons,!1),D.setAriaExpanded(this.focusWrapper,!0)}else this.setupTreeLines(o),this.eDragHandle.appendChild(D.createIconNoSpan("advancedFilterBuilderDrag",this.gridOptionsService)),this.setupValidation(),this.setupMoveButtons(a),this.setupAddButton(),this.setupRemoveButton(),this.setupDragging(),this.updateAriaExpanded();D.setAriaLevel(this.focusWrapper,o+1),this.initialiseTabGuard({}),this.createManagedBean(new kZ(this.getGui(),this.focusWrapper,this.ePillWrapper)),this.updateAriaLabel(),this.addManagedListener(this.ePillWrapper,Uo.EVENT_VALUE_CHANGED,function(){return e.dispatchEvent({type:Uo.EVENT_VALUE_CHANGED})}),this.addManagedListener(this.ePillWrapper,Uo.EVENT_VALID_CHANGED,function(){return e.updateValidity()})},t.prototype.setState=function(e){var r=this.item.level;if(r!==0){var i=this.item.showMove,o=e.disableMoveUp,a=e.disableMoveDown,s=e.treeLines,l=e.showStartTreeLine;this.updateTreeLines(s,l),this.updateAriaExpanded(),i&&(this.moveUpDisabled=!!o,this.moveDownDisabled=!!a,this.eMoveUpButton.classList.toggle("ag-advanced-filter-builder-item-button-disabled",o),this.eMoveDownButton.classList.toggle("ag-advanced-filter-builder-item-button-disabled",a),D.setAriaDisabled(this.eMoveUpButton,!!o),D.setAriaDisabled(this.eMoveDownButton,!!a),this.moveUpTooltipFeature.refreshToolTip(),this.moveDownTooltipFeature.refreshToolTip())}},t.prototype.focusMoveButton=function(e){(e?this.eMoveUpButton:this.eMoveDownButton).focus()},t.prototype.afterAdd=function(){this.ePillWrapper.getFocusableElement().focus()},t.prototype.setupTreeLines=function(e){for(var r=0;r<e;r++){var i=document.createElement("div");this.eTreeLines.appendChild(i)}},t.prototype.updateTreeLines=function(e,r){for(var i=e.length-1,o=this.eTreeLines.children,a=0;a<i;a++){var s=o.item(a);s&&s.classList.toggle("ag-advanced-filter-builder-item-tree-line-vertical",!e[a])}var l=o.item(i);if(l){l.classList.add("ag-advanced-filter-builder-item-tree-line-horizontal");var u=e[i];l.classList.toggle("ag-advanced-filter-builder-item-tree-line-vertical-top",u),l.classList.toggle("ag-advanced-filter-builder-item-tree-line-vertical",!u)}this.eDragHandle.classList.toggle("ag-advanced-filter-builder-item-tree-line-vertical-bottom",r)},t.prototype.setupValidation=function(){var e=this;this.eValidation.appendChild(D.createIconNoSpan("advancedFilterBuilderInvalid",this.gridOptionsService)),this.validationTooltipFeature=this.createManagedBean(new Ma({getGui:function(){return e.eValidation},getLocation:function(){return"advancedFilter"},getTooltipValue:function(){return e.ePillWrapper.getValidationMessage()},getTooltipShowDelayOverride:function(){return 1e3}},this.beans)),this.validationTooltipFeature.setComp(this.eValidation),this.updateValidity()},t.prototype.setupAddButton=function(){var e=this,r,i=GZ(function(s){return e.advancedFilterExpressionService.translate(s)},(r=this.gridOptionsService.get("advancedFilterBuilderParams"))===null||r===void 0?void 0:r.addSelectWidth),o=this.createManagedBean(new NZ(i));this.addManagedListener(o,P.EVENT_FIELD_PICKER_VALUE_SELECTED,function(s){var l=s.value;return e.dispatchEvent({type:Uo.EVENT_ADDED,item:e.item,isJoin:l.key==="join"})}),this.eAddButton.appendChild(o.getGui());var a=this.createManagedBean(new Ma({getGui:function(){return e.eAddButton},getLocation:function(){return"advancedFilter"},getTooltipValue:function(){return e.advancedFilterExpressionService.translate("advancedFilterBuilderAddButtonTooltip")}},this.beans));a.setComp(this.eAddButton)},t.prototype.setupRemoveButton=function(){var e=this;this.eRemoveButton.appendChild(D.createIconNoSpan("advancedFilterBuilderRemove",this.gridOptionsService)),this.addManagedListener(this.eRemoveButton,"click",function(){return e.removeItem()}),this.addManagedListener(this.eRemoveButton,"keydown",function(i){switch(i.key){case U.ENTER:i.preventDefault(),D.stopPropagationForAgGrid(i),e.removeItem();break}});var r=this.createManagedBean(new Ma({getGui:function(){return e.eRemoveButton},getLocation:function(){return"advancedFilter"},getTooltipValue:function(){return e.advancedFilterExpressionService.translate("advancedFilterBuilderRemoveButtonTooltip")}},this.beans));r.setComp(this.eRemoveButton),D.setAriaLabel(this.eRemoveButton,this.advancedFilterExpressionService.translate("advancedFilterBuilderRemoveButtonTooltip")),this.activateTabIndex([this.eRemoveButton])},t.prototype.setupMoveButtons=function(e){var r=this;e?(this.eMoveUpButton.appendChild(D.createIconNoSpan("advancedFilterBuilderMoveUp",this.gridOptionsService)),this.addManagedListener(this.eMoveUpButton,"click",function(){return r.moveItem(!0)}),this.addManagedListener(this.eMoveUpButton,"keydown",function(i){switch(i.key){case U.ENTER:i.preventDefault(),D.stopPropagationForAgGrid(i),r.moveItem(!0);break}}),this.moveUpTooltipFeature=this.createManagedBean(new Ma({getGui:function(){return r.eMoveUpButton},getLocation:function(){return"advancedFilter"},getTooltipValue:function(){return r.moveUpDisabled?null:r.advancedFilterExpressionService.translate("advancedFilterBuilderMoveUpButtonTooltip")}},this.beans)),this.moveUpTooltipFeature.setComp(this.eMoveUpButton),D.setAriaLabel(this.eMoveUpButton,this.advancedFilterExpressionService.translate("advancedFilterBuilderMoveUpButtonTooltip")),this.eMoveDownButton.appendChild(D.createIconNoSpan("advancedFilterBuilderMoveDown",this.gridOptionsService)),this.addManagedListener(this.eMoveDownButton,"click",function(){return r.moveItem(!1)}),this.addManagedListener(this.eMoveDownButton,"keydown",function(i){switch(i.key){case U.ENTER:i.preventDefault(),D.stopPropagationForAgGrid(i),r.moveItem(!1);break}}),this.moveDownTooltipFeature=this.createManagedBean(new Ma({getGui:function(){return r.eMoveDownButton},getLocation:function(){return"advancedFilter"},getTooltipValue:function(){return r.moveDownDisabled?null:r.advancedFilterExpressionService.translate("advancedFilterBuilderMoveDownButtonTooltip")}},this.beans)),this.moveDownTooltipFeature.setComp(this.eMoveDownButton),D.setAriaLabel(this.eMoveDownButton,this.advancedFilterExpressionService.translate("advancedFilterBuilderMoveDownButtonTooltip")),this.activateTabIndex([this.eMoveUpButton,this.eMoveDownButton])):(D.setDisplayed(this.eMoveUpButton,!1),D.setDisplayed(this.eMoveDownButton,!1))},t.prototype.updateValidity=function(){D.setVisible(this.eValidation,!this.item.valid),this.validationTooltipFeature.refreshToolTip(),this.updateAriaLabel()},t.prototype.createPill=function(e){var r=this,i,o,a=e.key,s=e.displayValue,l=e.cssClass,u=e.update,c=e.ariaLabel,d=function(C){C!=null&&(u(C),r.dispatchEvent({type:Uo.EVENT_VALUE_CHANGED}))};if(e.isSelect){var p=e.getEditorParams,h=e.pickerAriaLabelKey,f=e.pickerAriaLabelValue,v=this.gridOptionsService.get("advancedFilterBuilderParams"),g="".concat((i=v==null?void 0:v.pillSelectMinWidth)!==null&&i!==void 0?i:140,"px"),y="".concat((o=v==null?void 0:v.pillSelectMaxWidth)!==null&&o!==void 0?o:200,"px"),m=this.createBean(new mke({pickerAriaLabelKey:h,pickerAriaLabelValue:f,pickerType:"ag-list",value:{key:a,displayValue:s},valueFormatter:function(C){var S;return C==null?null:(S=C.displayValue)!==null&&S!==void 0?S:C.key},variableWidth:!0,minPickerWidth:g,maxPickerWidth:y,getEditorParams:p,wrapperClassName:l,ariaLabel:c}));return this.addManagedListener(m,P.EVENT_FIELD_PICKER_VALUE_SELECTED,function(C){var S=C.value;return d(S==null?void 0:S.key)}),m}else{var m=this.createBean(new hke({value:s,cssClass:l,type:this.getInputType(e.baseCellDataType),ariaLabel:c}));return this.addManagedListener(m,P.EVENT_FIELD_VALUE_CHANGED,function(S){var w=S.value;return d(w)}),m}},t.prototype.getInputType=function(e){switch(e){case"text":case"object":case"boolean":return"text";case"number":return"number";case"date":case"dateString":return"date"}},t.prototype.setupDragging=function(){var e=this,r={type:Sr.AdvancedFilterBuilder,eElement:this.eDragHandle,dragItemName:function(){return e.ePillWrapper.getDragName()},getDefaultIconName:function(){return Ct.ICON_NOT_ALLOWED},getDragItem:function(){return{}},onDragStarted:function(){return e.dragFeature.dispatchEvent({type:JL.EVENT_DRAG_STARTED,item:e.item})},onDragStopped:function(){return e.dragFeature.dispatchEvent({type:JL.EVENT_DRAG_ENDED})}};this.dragAndDropService.addDragSource(r,!0),this.addDestroyFunc(function(){return e.dragAndDropService.removeDragSource(r)})},t.prototype.updateAriaLabel=function(){var e=this.ePillWrapper.getAriaLabel(),r="".concat(this.item.level+1),i=this.ePillWrapper.getValidationMessage(),o;i?o=this.advancedFilterExpressionService.translate("ariaAdvancedFilterBuilderItemValidation",[e,r,i]):o=this.advancedFilterExpressionService.translate("ariaAdvancedFilterBuilderItem",[e,r]),D.setAriaLabel(this.focusWrapper,o)},t.prototype.updateAriaExpanded=function(){D.removeAriaExpanded(this.focusWrapper);var e=this.item.filterModel;(e==null?void 0:e.filterType)==="join"&&e.conditions.length&&D.setAriaExpanded(this.focusWrapper,!0)},t.prototype.removeItem=function(){this.dispatchEvent({type:Uo.EVENT_REMOVED,item:this.item})},t.prototype.moveItem=function(e){this.dispatchEvent({type:Uo.EVENT_MOVED,item:this.item,backwards:e})},Po([$("eTreeLines")],t.prototype,"eTreeLines",void 0),Po([$("eDragHandle")],t.prototype,"eDragHandle",void 0),Po([$("eItem")],t.prototype,"eItem",void 0),Po([$("eButtons")],t.prototype,"eButtons",void 0),Po([$("eValidation")],t.prototype,"eValidation",void 0),Po([$("eMoveUpButton")],t.prototype,"eMoveUpButton",void 0),Po([$("eMoveDownButton")],t.prototype,"eMoveDownButton",void 0),Po([$("eAddButton")],t.prototype,"eAddButton",void 0),Po([$("eRemoveButton")],t.prototype,"eRemoveButton",void 0),Po([E("beans")],t.prototype,"beans",void 0),Po([E("dragAndDropService")],t.prototype,"dragAndDropService",void 0),Po([E("advancedFilterExpressionService")],t.prototype,"advancedFilterExpressionService",void 0),Po([z],t.prototype,"postConstruct",null),t}(pc),Ske=function(){var n=function(t,e){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])},n(t,e)};return function(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");n(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}}(),z_=function(n,t,e,r){var i=arguments.length,o=i<3?t:r===null?r=Object.getOwnPropertyDescriptor(t,e):r,a;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(n,t,e,r);else for(var s=n.length-1;s>=0;s--)(a=n[s])&&(o=(i<3?a(o):i>3?a(t,e,o):a(t,e))||o);return i>3&&o&&Object.defineProperty(t,e,o),o},wke=function(n){Ske(t,n);function t(e,r){var i=n.call(this,`
            <div class="ag-advanced-filter-builder-item-wrapper" role="presentation">
                <div ref="eItem" class="ag-advanced-filter-builder-item" role="presentation">
                    <div class="ag-advanced-filter-builder-item-tree-lines" aria-hidden="true">
                        <div class="ag-advanced-filter-builder-item-tree-line-vertical-top ag-advanced-filter-builder-item-tree-line-horizontal"></div>
                    </div>
                </div>
            </div>
        `)||this;return i.item=e,i.focusWrapper=r,i}return t.prototype.postConstruct=function(){var e=this,r;D.setAriaLevel(this.focusWrapper,2);var i=GZ(function(s){return e.advancedFilterExpressionService.translate(s)},(r=this.gridOptionsService.get("advancedFilterBuilderParams"))===null||r===void 0?void 0:r.addSelectWidth),o=this.createManagedBean(new NZ(i));this.addManagedListener(o,P.EVENT_FIELD_PICKER_VALUE_SELECTED,function(s){var l=s.value;e.dispatchEvent({type:Uo.EVENT_ADDED,item:e.item,isJoin:l.key==="join"})}),this.eItem.appendChild(o.getGui());var a=this.createManagedBean(new Ma({getGui:function(){return o.getGui()},getLocation:function(){return"advancedFilter"},getTooltipValue:function(){return e.advancedFilterExpressionService.translate("advancedFilterBuilderAddButtonTooltip")}},this.beans));a.setComp(o.getGui()),this.createManagedBean(new kZ(this.getGui(),this.focusWrapper,o)),D.setAriaLabel(this.focusWrapper,this.advancedFilterExpressionService.translate("ariaAdvancedFilterBuilderItem",[this.advancedFilterExpressionService.translate("advancedFilterBuilderAddButtonTooltip"),"".concat(this.item.level+1)]))},t.prototype.afterAdd=function(){},z_([E("beans")],t.prototype,"beans",void 0),z_([E("advancedFilterExpressionService")],t.prototype,"advancedFilterExpressionService",void 0),z_([$("eItem")],t.prototype,"eItem",void 0),z_([z],t.prototype,"postConstruct",null),t}(de),_ke=function(){var n=function(t,e){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])},n(t,e)};return function(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");n(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}}(),Gc=function(n,t,e,r){var i=arguments.length,o=i<3?t:r===null?r=Object.getOwnPropertyDescriptor(t,e):r,a;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(n,t,e,r);else for(var s=n.length-1;s>=0;s--)(a=n[s])&&(o=(i<3?a(o):i>3?a(t,e,o):a(t,e))||o);return i>3&&o&&Object.defineProperty(t,e,o),o},xke=function(n,t){var e=typeof Symbol=="function"&&n[Symbol.iterator];if(!e)return n;var r=e.call(n),i,o=[],a;try{for(;(t===void 0||t-- >0)&&!(i=r.next()).done;)o.push(i.value)}catch(s){a={error:s}}finally{try{i&&!i.done&&(e=r.return)&&e.call(r)}finally{if(a)throw a.error}}return o},Eke=function(n,t,e){if(e||arguments.length===2)for(var r=0,i=t.length,o;r<i;r++)(o||!(r in t))&&(o||(o=Array.prototype.slice.call(t,0,r)),o[r]=t[r]);return n.concat(o||Array.prototype.slice.call(t))},bke=function(n){_ke(t,n);function t(){var e=n.call(this,`
            <div role="presentation" class="ag-advanced-filter-builder" tabindex="-1">
                <div role="presentation" class="ag-advanced-filter-builder-list" ref="eList"></div>
                <div role="presentation" class="ag-advanced-filter-builder-button-panel">
                    <button class="ag-button ag-standard-button ag-advanced-filter-builder-apply-button" ref="eApplyFilterButton"></button>
                    <button class="ag-button ag-standard-button ag-advanced-filter-builder-cancel-button" ref="eCancelFilterButton"></button>
                </div>
            </div>`)||this;return e.validationMessage=null,e}return t.prototype.postConstruct=function(){var e=this,r,i=((r=this.gridOptionsService.get("advancedFilterBuilderParams"))!==null&&r!==void 0?r:{}).showMoveButtons;this.showMove=!!i,this.addManagedPropertyListener("advancedFilterBuilderParams",function(o){var a=o.currentValue;e.showMove=!!(a!=null&&a.showMoveButtons),e.refreshList(!1)}),this.filterModel=this.setupFilterModel(),this.setupVirtualList(),this.dragFeature=this.createManagedBean(new JL(this,this.virtualList)),this.setupButtons()},t.prototype.refresh=function(){var e=this.virtualList.getLastFocusedRow();this.setupFilterModel(),this.validateItems(),this.refreshList(!1),e!=null&&(this.virtualList.getComponentAt(e)||(e=0),this.virtualList.focusRow(e))},t.prototype.getNumItems=function(){return this.items.length},t.prototype.moveItem=function(e,r){!r||!e||this.moveItemToIndex(e,r.rowIndex,r.position)},t.prototype.afterGuiAttached=function(){this.virtualList.focusRow(0)},t.prototype.setupVirtualList=function(){var e=this;this.virtualList=this.createManagedBean(new nf({cssIdentifier:"advanced-filter-builder",ariaRole:"tree",listName:this.advancedFilterExpressionService.translate("ariaAdvancedFilterBuilderList")})),this.virtualList.setComponentCreator(this.createItemComponent.bind(this)),this.virtualList.setComponentUpdater(this.updateItemComponent.bind(this)),this.virtualList.setRowHeight(40),this.eList.appendChild(this.virtualList.getGui()),this.virtualList.setModel({getRowCount:function(){return e.items.length},getRow:function(r){return e.items[r]},areRowsEqual:function(r,i){return r===i}}),this.buildList(),this.virtualList.refresh()},t.prototype.setupButtons=function(){var e=this;this.eApplyFilterButton.innerText=this.advancedFilterExpressionService.translate("advancedFilterBuilderApply"),this.activateTabIndex([this.eApplyFilterButton]),this.addManagedListener(this.eApplyFilterButton,"click",function(){e.advancedFilterService.setModel(e.filterModel),e.filterManager.onFilterChanged({source:"advancedFilter"}),e.close()}),this.validationTooltipFeature=this.createManagedBean(new Ma({getGui:function(){return e.eApplyFilterButton},getLocation:function(){return"advancedFilter"},getTooltipValue:function(){return e.validationMessage},getTooltipShowDelayOverride:function(){return 1e3}},this.beans)),this.validationTooltipFeature.setComp(this.eApplyFilterButton),this.validate(),this.addManagedListener(this.eApplyFilterButton,"mouseenter",function(){return e.addOrRemoveCssClass("ag-advanced-filter-builder-validation",!0)}),this.addManagedListener(this.eApplyFilterButton,"mouseleave",function(){return e.addOrRemoveCssClass("ag-advanced-filter-builder-validation",!1)}),this.eCancelFilterButton.innerText=this.advancedFilterExpressionService.translate("advancedFilterBuilderCancel"),this.activateTabIndex([this.eCancelFilterButton]),this.addManagedListener(this.eCancelFilterButton,"click",function(){return e.close()})},t.prototype.removeItemFromParent=function(e){var r=e.parent.conditions.indexOf(e.filterModel);return e.parent.conditions.splice(r,1),r},t.prototype.moveItemToIndex=function(e,r,i){var o,a=this.items[r],s=((o=a.filterModel)===null||o===void 0?void 0:o.filterType)==="join"&&i==="bottom",l=s?a.filterModel:a.parent;if(l&&!(this.isChildOrSelf(l,e.filterModel)||a===e)){this.removeItemFromParent(e);var u;s?u=0:(u=l.conditions.indexOf(a.filterModel),u===-1?u=l.conditions.length:i==="bottom"&&(u+=1)),l.conditions.splice(u,0,e.filterModel),this.refreshList(!1)}},t.prototype.isChildOrSelf=function(e,r){var i=this;return e===r||r.filterType==="join"&&r.conditions.some(function(o){return i.isChildOrSelf(e,o)})},t.prototype.setupFilterModel=function(){var e=this.formatFilterModel(this.advancedFilterService.getModel());return this.stringifiedModel=JSON.stringify(e),e},t.prototype.formatFilterModel=function(e){return e=e??{filterType:"join",type:"AND",conditions:[]},e.filterType!=="join"&&(e={filterType:"join",type:"AND",conditions:[e]}),e},t.prototype.buildList=function(){var e=this,r=function(i,o,a,s){o.push({filterModel:i,level:a,parent:s,valid:!0,showMove:e.showMove}),i.filterType==="join"&&(i.conditions.forEach(function(l){return r(l,o,a+1,i)}),a===0&&o.push({filterModel:null,level:a+1,parent:i,valid:!0}))};this.items=[],r(this.filterModel,this.items,0)},t.prototype.refreshList=function(e){if(!e){var r=[];this.items.forEach(function(i){i.valid||r.push(i.filterModel)}),this.buildList(),r.length&&this.items.forEach(function(i){i.filterModel&&r.includes(i.filterModel)&&(i.valid=!1)})}this.virtualList.refresh(e),this.validate()},t.prototype.updateItemComponent=function(e,r){var i=this,o=this.items.indexOf(e),a=function(c,d){var p=i.items.find(function(v){return v.filterModel===c}),h=p==null?void 0:p.parent;if(h){var f=h.conditions;a(h,d),d.push(f[f.length-1]===c)}},s=[],l=e.filterModel;l&&(a(l,s),s[0]=!1);var u=(l==null?void 0:l.filterType)==="join"&&!!l.conditions.length;r.setState({disableMoveUp:o===1,disableMoveDown:!this.canMoveDown(e,o),treeLines:s,showStartTreeLine:u})},t.prototype.createItemComponent=function(e,r){var i=this,o=this.createBean(e.filterModel?new WD(e,this.dragFeature,r):new wke(e,r));return o.addManagedListener(o,Uo.EVENT_REMOVED,function(a){var s=a.item;return i.removeItem(s)}),o.addManagedListener(o,Uo.EVENT_VALUE_CHANGED,function(){return i.validate()}),o.addManagedListener(o,Uo.EVENT_ADDED,function(a){var s=a.item,l=a.isJoin;return i.addItem(s,l)}),o.addManagedListener(o,Uo.EVENT_MOVED,function(a){var s=a.item,l=a.backwards;return i.moveItemUpDown(s,l)}),o instanceof WD&&this.updateItemComponent(e,o),o},t.prototype.addItem=function(e,r){var i,o,a=e.parent,s=e.level,l=e.filterModel,u=(l==null?void 0:l.filterType)==="join",c=r?{filterType:"join",type:"AND",conditions:[]}:{},d=u?l:a,p=u?0:d.conditions.indexOf(l);p>=0?(u||(p+=1),d.conditions.splice(p,0,c)):d.conditions.push(c);var h=this.items.indexOf(e),f=h>=0;if(f){e.filterModel&&h++;var v=[{filterModel:c,level:u?s+1:s,parent:d,valid:r,showMove:this.showMove}];(i=this.items).splice.apply(i,Eke([h,0],xke(v),!1))}this.refreshList(f),f&&((o=this.virtualList.getComponentAt(h))===null||o===void 0||o.afterAdd())},t.prototype.removeItem=function(e){var r,i=e.parent,o=e.filterModel,a=i.conditions.indexOf(o);i.conditions.splice(a,1);var s=((r=e.filterModel)===null||r===void 0?void 0:r.filterType)==="join",l=this.items.indexOf(e),u=!s&&l>=0;u&&this.items.splice(l,1),this.refreshList(u),l>=0&&this.virtualList.focusRow(l)},t.prototype.moveItemUpDown=function(e,r){var i=this.items.indexOf(e),o=r?i-1:i+1;if(!(o===0||!r&&!this.canMoveDown(e,i))){var a=this.items[o],s=this.removeItemFromParent(e),l=e.level,u=e.filterModel,c=e.parent,d=a.level,p=a.filterModel,h=a.parent;if(r)if(d===l&&p.filterType==="join")p.conditions.push(u);else if(d<=l){var f=h.conditions.indexOf(p);h.conditions.splice(f,0,u)}else{var v=c.conditions[s-1];v.conditions.push(u)}else if(d===l)if(p.filterType==="join")p.conditions.splice(0,0,u);else{var g=h.conditions.indexOf(p);h.conditions.splice(g+1,0,u)}else if(s<c.conditions.length)c.conditions.splice(s+1,0,u);else{var y=this.items.find(function(w){return w.filterModel===c}),m=y.parent.conditions.indexOf(y.filterModel)+1;y.parent.conditions.splice(m,0,u)}this.refreshList(!1);var C=this.items.findIndex(function(w){var _=w.filterModel;return _===u});if(C>=0){var S=this.virtualList.getComponentAt(C);S instanceof WD&&S.focusMoveButton(r)}}},t.prototype.canMoveDown=function(e,r){return!(e.level===1&&r===this.items.length-2||e.level===1&&e.parent.conditions[e.parent.conditions.length-1]===e.filterModel)},t.prototype.close=function(){this.advancedFilterService.getCtrl().toggleFilterBuilder("ui")},t.prototype.validate=function(){var e=!this.items.every(function(r){var i=r.valid;return i});e?this.validationMessage=this.advancedFilterExpressionService.translate("advancedFilterBuilderValidationIncomplete"):(e=JSON.stringify(this.filterModel)===this.stringifiedModel,e?this.validationMessage=this.advancedFilterExpressionService.translate("advancedFilterBuilderValidationAlreadyApplied"):this.validationMessage=null),D.setDisabled(this.eApplyFilterButton,e),this.validationTooltipFeature.refreshToolTip()},t.prototype.validateItems=function(){var e=this,r=function(o){o.type=void 0},i=function(o){delete o.filter};this.items.forEach(function(o){if(!(!o.valid||!o.filterModel||o.filterModel.filterType==="join")){var a=o.filterModel,s=a.colId,l=e.advancedFilterExpressionService.getColumnAutocompleteEntries().find(function(p){var h=p.key;return h===s}),u=e.advancedFilterExpressionService.getColumnDetails(a.colId);if(!l||!u.column){o.valid=!1,a.colId=void 0,r(a),i(a);return}var c=e.advancedFilterExpressionService.getDataTypeExpressionOperator(u.baseCellDataType),d=c.operators[a.type];if(!d){o.valid=!1,r(a),i(a);return}if(d.numOperands>0&&!D.exists(a.filter)){o.valid=!1;return}}})},Gc([$("eList")],t.prototype,"eList",void 0),Gc([$("eApplyFilterButton")],t.prototype,"eApplyFilterButton",void 0),Gc([$("eCancelFilterButton")],t.prototype,"eCancelFilterButton",void 0),Gc([E("filterManager")],t.prototype,"filterManager",void 0),Gc([E("advancedFilterService")],t.prototype,"advancedFilterService",void 0),Gc([E("advancedFilterExpressionService")],t.prototype,"advancedFilterExpressionService",void 0),Gc([E("beans")],t.prototype,"beans",void 0),Gc([z],t.prototype,"postConstruct",null),t}(de),Oke=function(){var n=function(t,e){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])},n(t,e)};return function(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");n(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}}(),am=function(n,t,e,r){var i=arguments.length,o=i<3?t:r===null?r=Object.getOwnPropertyDescriptor(t,e):r,a;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(n,t,e,r);else for(var s=n.length-1;s>=0;s--)(a=n[s])&&(o=(i<3?a(o):i>3?a(t,e,o):a(t,e))||o);return i>3&&o&&Object.defineProperty(t,e,o),o},Rke=function(n,t){var e=typeof Symbol=="function"&&n[Symbol.iterator];if(!e)return n;var r=e.call(n),i,o=[],a;try{for(;(t===void 0||t-- >0)&&!(i=r.next()).done;)o.push(i.value)}catch(s){a={error:s}}finally{try{i&&!i.done&&(e=r.return)&&e.call(r)}finally{if(a)throw a.error}}return o},Tke=function(n,t,e){if(e||arguments.length===2)for(var r=0,i=t.length,o;r<i;r++)(o||!(r in t))&&(o||(o=Array.prototype.slice.call(t,0,r)),o[r]=t[r]);return n.concat(o||Array.prototype.slice.call(t))},VZ=function(n){Oke(t,n);function t(e){var r=n.call(this)||this;return r.enabled=e,r}return t.prototype.postConstruct=function(){var e=this;this.hasAdvancedFilterParent=!!this.gridOptionsService.get("advancedFilterParent"),this.ctrlsService.whenReady(function(){return e.setAdvancedFilterComp()}),this.addManagedListener(this.eventService,P.EVENT_ADVANCED_FILTER_ENABLED_CHANGED,function(r){var i=r.enabled;return e.onEnabledChanged(i)}),this.addManagedPropertyListener("advancedFilterParent",function(){return e.updateComps()}),this.addDestroyFunc(function(){e.destroyAdvancedFilterComp(),e.destroyBean(e.eBuilderComp),e.eBuilderDialog&&e.eBuilderDialog.isAlive()&&e.destroyBean(e.eBuilderDialog)})},t.prototype.setupHeaderComp=function(e){this.eHeaderComp=this.createManagedBean(new ike(this.enabled&&!this.hasAdvancedFilterParent)),e.insertAdjacentElement("beforebegin",this.eHeaderComp.getGui())},t.prototype.focusHeaderComp=function(){return this.eHeaderComp?(this.eHeaderComp.getFocusableElement().focus(),!0):!1},t.prototype.refreshComp=function(){var e,r;(e=this.eFilterComp)===null||e===void 0||e.refresh(),(r=this.eHeaderComp)===null||r===void 0||r.refresh()},t.prototype.refreshBuilderComp=function(){var e;(e=this.eBuilderComp)===null||e===void 0||e.refresh()},t.prototype.getHeaderHeight=function(){var e,r;return(r=(e=this.eHeaderComp)===null||e===void 0?void 0:e.getHeight())!==null&&r!==void 0?r:0},t.prototype.setInputDisabled=function(e){var r,i;(r=this.eFilterComp)===null||r===void 0||r.setInputDisabled(e),(i=this.eHeaderComp)===null||i===void 0||i.setInputDisabled(e)},t.prototype.toggleFilterBuilder=function(e,r){var i=this;if(!(r&&this.eBuilderDialog||r===!1&&!this.eBuilderDialog)){if(this.eBuilderDialog){this.builderDestroySource=e,this.destroyBean(this.eBuilderDialog);return}this.setInputDisabled(!0);var o=this.getBuilderDialogSize(),a=o.width,s=o.height,l=o.minWidth;this.eBuilderComp=this.createBean(new bke),this.eBuilderDialog=this.createBean(new zh({title:this.advancedFilterExpressionService.translate("advancedFilterBuilderTitle"),component:this.eBuilderComp,width:a,height:s,resizable:!0,movable:!0,maximizable:!0,centered:!0,closable:!0,minWidth:l,afterGuiAttached:function(){var u;return(u=i.eBuilderComp)===null||u===void 0?void 0:u.afterGuiAttached()}})),this.dispatchFilterBuilderVisibleChangedEvent(e,!0),this.eBuilderDialog.addEventListener(zh.EVENT_DESTROYED,function(){var u;i.destroyBean(i.eBuilderComp),i.eBuilderComp=void 0,i.eBuilderDialog=void 0,i.setInputDisabled(!1),i.dispatchEvent({type:t.EVENT_BUILDER_CLOSED}),i.dispatchFilterBuilderVisibleChangedEvent((u=i.builderDestroySource)!==null&&u!==void 0?u:"ui",!1),i.builderDestroySource=void 0})}},t.prototype.dispatchFilterBuilderVisibleChangedEvent=function(e,r){var i={type:P.EVENT_ADVANCED_FILTER_BUILDER_VISIBLE_CHANGED,source:e,visible:r};this.eventService.dispatchEvent(i)},t.prototype.getBuilderDialogSize=function(){var e,r,i=(r=(e=this.gridOptionsService.get("advancedFilterBuilderParams"))===null||e===void 0?void 0:e.minWidth)!==null&&r!==void 0?r:500,o=this.popupService.getPopupParent(),a=Math.round(D.getAbsoluteWidth(o))-2,s=Math.round(D.getAbsoluteHeight(o)*.75)-2,l=Math.min(Math.max(600,i),a),u=Math.min(600,s);return{width:l,height:u,minWidth:i}},t.prototype.onEnabledChanged=function(e){this.enabled=e,this.updateComps()},t.prototype.updateComps=function(){this.setAdvancedFilterComp(),this.setHeaderCompEnabled(),this.eventService.dispatchEvent({type:P.EVENT_HEADER_HEIGHT_CHANGED})},t.prototype.setAdvancedFilterComp=function(){var e;if(this.destroyAdvancedFilterComp(),!!this.enabled){var r=this.gridOptionsService.get("advancedFilterParent");if(this.hasAdvancedFilterParent=!!r,r){var i=this.createBean(new OV),o=i.getGui(),a=this.environment.getTheme().allThemes;a.length&&(e=o.classList).add.apply(e,Tke([],Rke(a),!1)),o.classList.add(this.gridOptionsService.get("enableRtl")?"ag-rtl":"ag-ltr"),r.appendChild(o),this.eFilterComp=i}}},t.prototype.setHeaderCompEnabled=function(){var e;(e=this.eHeaderComp)===null||e===void 0||e.setEnabled(this.enabled&&!this.hasAdvancedFilterParent)},t.prototype.destroyAdvancedFilterComp=function(){this.eFilterComp&&(D.removeFromParent(this.eFilterComp.getGui()),this.destroyBean(this.eFilterComp))},t.EVENT_BUILDER_CLOSED="advancedFilterBuilderClosed",am([E("focusService")],t.prototype,"focusService",void 0),am([E("ctrlsService")],t.prototype,"ctrlsService",void 0),am([E("popupService")],t.prototype,"popupService",void 0),am([E("advancedFilterExpressionService")],t.prototype,"advancedFilterExpressionService",void 0),am([z],t.prototype,"postConstruct",null),t}(q),Pke=function(){var n=function(t,e){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])},n(t,e)};return function(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");n(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}}(),hu=function(n,t,e,r){var i=arguments.length,o=i<3?t:r===null?r=Object.getOwnPropertyDescriptor(t,e):r,a;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(n,t,e,r);else for(var s=n.length-1;s>=0;s--)(a=n[s])&&(o=(i<3?a(o):i>3?a(t,e,o):a(t,e))||o);return i>3&&o&&Object.defineProperty(t,e,o),o},OV=function(n){Pke(t,n);function t(){var e=n.call(this,`
            <div class="ag-advanced-filter" role="presentation" tabindex="-1">
                <ag-autocomplete ref="eAutocomplete"></ag-autocomplete>
                <button class="ag-button ag-standard-button ag-advanced-filter-apply-button" ref="eApplyFilterButton"></button>
                <button class="ag-advanced-filter-builder-button" ref="eBuilderFilterButton">
                    <span ref="eBuilderFilterButtonIcon" aria-hidden="true"></span>
                    <span class="ag-advanced-filter-builder-button-label" ref="eBuilderFilterButtonLabel"></span>
                </button>
            </div>`)||this;return e.expressionParser=null,e.isApplyDisabled=!0,e.builderOpen=!1,e}return t.prototype.postConstruct=function(){var e=this;this.eAutocomplete.setListGenerator(function(r,i){return e.generateAutocompleteListParams(i)}).setValidator(function(){return e.validateValue()}).setForceLastSelection(function(r,i){return e.forceLastSelection(r,i)}).setInputAriaLabel(this.advancedFilterExpressionService.translate("ariaAdvancedFilterInput")).setListAriaLabel(this.advancedFilterExpressionService.translate("ariaLabelAdvancedFilterAutocomplete")),this.refresh(),this.addManagedListener(this.eAutocomplete,gv.EVENT_VALUE_CHANGED,function(r){var i=r.value;return e.onValueChanged(i)}),this.addManagedListener(this.eAutocomplete,gv.EVENT_VALUE_CONFIRMED,function(r){var i=r.isValid;return e.onValueConfirmed(i)}),this.addManagedListener(this.eAutocomplete,gv.EVENT_OPTION_SELECTED,function(r){var i=r.position,o=r.updateEntry,a=r.autocompleteType;return e.onOptionSelected(i,o,a)}),this.addManagedListener(this.eAutocomplete,gv.EVENT_VALID_CHANGED,function(r){var i=r.isValid,o=r.validationMessage;return e.onValidChanged(i,o)}),this.setupApplyButton(),this.setupBuilderButton()},t.prototype.refresh=function(){var e=this.advancedFilterService.getExpressionDisplayValue();this.eAutocomplete.setValue({value:e??"",position:e==null?void 0:e.length,updateListOnlyIfOpen:!0})},t.prototype.setInputDisabled=function(e){this.eAutocomplete.setInputDisabled(e),D.setDisabled(this.eApplyFilterButton,e||this.isApplyDisabled)},t.prototype.getTooltipParams=function(){var e=n.prototype.getTooltipParams.call(this);return e.location="advancedFilter",e},t.prototype.setupApplyButton=function(){var e=this;this.eApplyFilterButton.innerText=this.advancedFilterExpressionService.translate("advancedFilterApply"),this.activateTabIndex([this.eApplyFilterButton]),this.addManagedListener(this.eApplyFilterButton,"click",function(){return e.onValueConfirmed(e.eAutocomplete.isValid())}),D.setDisabled(this.eApplyFilterButton,this.isApplyDisabled)},t.prototype.setupBuilderButton=function(){var e=this;this.eBuilderFilterButtonIcon.appendChild(D.createIconNoSpan("advancedFilterBuilder",this.gridOptionsService)),this.eBuilderFilterButtonLabel.innerText=this.advancedFilterExpressionService.translate("advancedFilterBuilder"),this.activateTabIndex([this.eBuilderFilterButton]),this.addManagedListener(this.eBuilderFilterButton,"click",function(){return e.openBuilder()}),this.addManagedListener(this.advancedFilterService.getCtrl(),VZ.EVENT_BUILDER_CLOSED,function(){return e.closeBuilder()})},t.prototype.onValueChanged=function(e){var r;e=D.makeNull(e),this.advancedFilterService.setExpressionDisplayValue(e),this.expressionParser=this.advancedFilterService.createExpressionParser(e);var i=(r=this.expressionParser)===null||r===void 0?void 0:r.parseExpression();i&&i!==e&&this.eAutocomplete.setValue({value:i,silent:!0,restoreFocus:!0})},t.prototype.onValueConfirmed=function(e){!e||this.isApplyDisabled||(D.setDisabled(this.eApplyFilterButton,!0),this.advancedFilterService.applyExpression(),this.filterManager.onFilterChanged({source:"advancedFilter"}))},t.prototype.onOptionSelected=function(e,r,i){var o=this.updateExpression(e,r,i),a=o.updatedValue,s=o.updatedPosition,l=o.hideAutocomplete;this.eAutocomplete.setValue({value:a,position:s,updateListOnlyIfOpen:l,restoreFocus:!0})},t.prototype.validateValue=function(){var e,r,i;return!((e=this.expressionParser)===null||e===void 0)&&e.isValid()?null:(i=(r=this.expressionParser)===null||r===void 0?void 0:r.getValidationMessage())!==null&&i!==void 0?i:null},t.prototype.onValidChanged=function(e,r){this.isApplyDisabled=!e||this.advancedFilterService.isCurrentExpressionApplied(),D.setDisabled(this.eApplyFilterButton,this.isApplyDisabled),this.setTooltip(r,1e3)},t.prototype.generateAutocompleteListParams=function(e){return this.expressionParser?this.expressionParser.getAutocompleteListParams(e):this.advancedFilterExpressionService.getDefaultAutocompleteListParams("")},t.prototype.updateExpression=function(e,r,i){var o,a;return this.advancedFilterExpressionService.updateAutocompleteCache(r,i),(a=(o=this.expressionParser)===null||o===void 0?void 0:o.updateExpression(e,r,i))!==null&&a!==void 0?a:this.advancedFilterService.getDefaultExpression(r)},t.prototype.forceLastSelection=function(e,r){var i=e.key,o=e.displayValue;return!!r.toLocaleLowerCase().match("^".concat((o??i).toLocaleLowerCase(),"\\s*$"))},t.prototype.openBuilder=function(){this.builderOpen||(this.builderOpen=!0,D.setDisabled(this.eBuilderFilterButton,!0),this.advancedFilterService.getCtrl().toggleFilterBuilder("ui"))},t.prototype.closeBuilder=function(){this.builderOpen&&(this.builderOpen=!1,D.setDisabled(this.eBuilderFilterButton,!1),this.eBuilderFilterButton.focus())},hu([$("eAutocomplete")],t.prototype,"eAutocomplete",void 0),hu([$("eApplyFilterButton")],t.prototype,"eApplyFilterButton",void 0),hu([$("eBuilderFilterButton")],t.prototype,"eBuilderFilterButton",void 0),hu([$("eBuilderFilterButtonIcon")],t.prototype,"eBuilderFilterButtonIcon",void 0),hu([$("eBuilderFilterButtonLabel")],t.prototype,"eBuilderFilterButtonLabel",void 0),hu([E("advancedFilterService")],t.prototype,"advancedFilterService",void 0),hu([E("advancedFilterExpressionService")],t.prototype,"advancedFilterExpressionService",void 0),hu([E("filterManager")],t.prototype,"filterManager",void 0),hu([z],t.prototype,"postConstruct",null),t}(de),Ake={ariaAdvancedFilterBuilderItem:function(n){return"".concat(n[0],". Level ").concat(n[1],". Press ENTER to edit.")},ariaAdvancedFilterBuilderItemValidation:function(n){return"".concat(n[0],". Level ").concat(n[1],". ").concat(n[2]," Press ENTER to edit.")},ariaAdvancedFilterBuilderList:"Advanced Filter Builder List",ariaAdvancedFilterBuilderFilterItem:"Filter Condition",ariaAdvancedFilterBuilderGroupItem:"Filter Group",ariaAdvancedFilterBuilderColumn:"Column",ariaAdvancedFilterBuilderOption:"Option",ariaAdvancedFilterBuilderValue:"Value",ariaAdvancedFilterBuilderJoinOperator:"Join Operator",ariaAdvancedFilterInput:"Advanced Filter Input",ariaLabelAdvancedFilterAutocomplete:"Advanced Filter Autocomplete",advancedFilterContains:"contains",advancedFilterNotContains:"does not contain",advancedFilterTextEquals:"equals",advancedFilterTextNotEqual:"does not equal",advancedFilterStartsWith:"begins with",advancedFilterEndsWith:"ends with",advancedFilterBlank:"is blank",advancedFilterNotBlank:"is not blank",advancedFilterEquals:"=",advancedFilterNotEqual:"!=",advancedFilterGreaterThan:">",advancedFilterGreaterThanOrEqual:">=",advancedFilterLessThan:"<",advancedFilterLessThanOrEqual:"<=",advancedFilterTrue:"is true",advancedFilterFalse:"is false",advancedFilterAnd:"AND",advancedFilterOr:"OR",advancedFilterApply:"Apply",advancedFilterBuilder:"Builder",advancedFilterValidationMissingColumn:"Column is missing",advancedFilterValidationMissingOption:"Option is missing",advancedFilterValidationMissingValue:"Value is missing",advancedFilterValidationInvalidColumn:"Column not found",advancedFilterValidationInvalidOption:"Option not found",advancedFilterValidationMissingQuote:"Value is missing an end quote",advancedFilterValidationNotANumber:"Value is not a number",advancedFilterValidationInvalidDate:"Value is not a valid date",advancedFilterValidationMissingCondition:"Condition is missing",advancedFilterValidationJoinOperatorMismatch:"Join operators within a condition must be the same",advancedFilterValidationInvalidJoinOperator:"Join operator not found",advancedFilterValidationMissingEndBracket:"Missing end bracket",advancedFilterValidationExtraEndBracket:"Too many end brackets",advancedFilterValidationMessage:function(n){return"Expression has an error. ".concat(n[0]," - ").concat(n[1],".")},advancedFilterValidationMessageAtEnd:function(n){return"Expression has an error. ".concat(n[0]," at end of expression.")},advancedFilterBuilderTitle:"Advanced Filter",advancedFilterBuilderApply:"Apply",advancedFilterBuilderCancel:"Cancel",advancedFilterBuilderAddButtonTooltip:"Add Filter or Group",advancedFilterBuilderRemoveButtonTooltip:"Remove",advancedFilterBuilderMoveUpButtonTooltip:"Move Up",advancedFilterBuilderMoveDownButtonTooltip:"Move Down",advancedFilterBuilderAddJoin:"Add Group",advancedFilterBuilderAddCondition:"Add Filter",advancedFilterBuilderSelectColumn:"Select a column",advancedFilterBuilderSelectOption:"Select an option",advancedFilterBuilderEnterValue:"Enter a value...",advancedFilterBuilderValidationAlreadyApplied:"Current filter already applied.",advancedFilterBuilderValidationIncomplete:"Not all conditions are complete.",advancedFilterBuilderValidationSelectColumn:"Must select a column.",advancedFilterBuilderValidationSelectOption:"Must select an option.",advancedFilterBuilderValidationEnterValue:"Must enter a value."};function eI(n,t,e){if(!n)return"";var r=e-t;return r?n.slice(0,n.length-r):n}function Ad(n,t,e,r,i,o,a){var s=e+(!n.length||a?0:1),l=0;i&&(n[s]===" "?l=1:(r+=" ",o&&(r+='"')));var u=n.slice(0,t)+r+n.slice(s);return{updatedValue:u,updatedPosition:t+r.length+l}}function Dke(n,t,e){for(var r=t;r<e;){var i=n[r];if(i!==" ")break;r++}return r}function tI(n,t,e,r){for(var i=t,o=!1;i<n.length;){var a=n[i];if(a==="("){r&&n[i-1]===" "?o=!0:i=i-1;break}else if(a===" "||e&&a===")"){i=i-1;break}i++}return{endPosition:i,isEmpty:o}}function RV(n,t,e,r){e!==t&&(n.expression=Ad(n.expression,r-t.length+1,r,e).updatedValue)}function Mke(n){return n.replace(/(['"])/,"\\$1")}var vO=function(){return vO=Object.assign||function(n){for(var t,e=1,r=arguments.length;e<r;e++){t=arguments[e];for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(n[i]=t[i])}return n},vO.apply(this,arguments)},Fke=function(){function n(t,e){this.params=t,this.startPosition=e,this.type="column",this.valid=!0,this.hasStartChar=!1,this.hasEndChar=!1,this.colName=""}return n.prototype.parse=function(t,e){if(t===yh.COL_START_CHAR&&!this.colName)this.hasStartChar=!0;else if(t===yh.COL_END_CHAR&&this.hasStartChar){var r=this.parseColumn(!1,e);if(r)return this.hasEndChar=!0,!1;this.colName+=t}else this.colName+=t},n.prototype.getDisplayValue=function(){return(this.hasStartChar?yh.COL_START_CHAR:"")+this.colName+(this.hasEndChar?yh.COL_END_CHAR:"")},n.prototype.getColId=function(){return this.colId},n.prototype.complete=function(t){this.parseColumn(!0,t)},n.prototype.getValidationError=function(){var t;return this.valid?null:{message:this.params.advancedFilterExpressionService.translate("advancedFilterValidationInvalidColumn"),startPosition:this.startPosition,endPosition:(t=this.endPosition)!==null&&t!==void 0?t:this.params.expression.length-1}},n.prototype.parseColumn=function(t,e){var r;this.endPosition=e;var i=this.params.advancedFilterExpressionService.getColId(this.colName);return i&&this.hasStartChar&&(this.colId=i.colId,RV(this.params,this.colName,i.columnName,e-1),this.colName=i.columnName,this.column=this.params.columnModel.getPrimaryColumn(this.colId),this.column)?(this.baseCellDataType=(r=this.params.dataTypeService.getBaseDataType(this.column))!==null&&r!==void 0?r:"text",!0):(t&&(this.valid=!1),this.baseCellDataType="text",!1)},n}(),Lke=function(){function n(t,e,r){this.params=t,this.startPosition=e,this.baseCellDataType=r,this.type="operator",this.valid=!0,this.expectedNumOperands=0,this.operator=""}return n.prototype.parse=function(t,e){if(t===" "||t===")"){var r=this.parseOperator(!1,e-1);if(r)return!0;this.operator+=t}else this.operator+=t},n.prototype.complete=function(t){this.parseOperator(!0,t)},n.prototype.getValidationError=function(){var t;return this.valid?null:{message:this.params.advancedFilterExpressionService.translate("advancedFilterValidationInvalidOption"),startPosition:this.startPosition,endPosition:(t=this.endPosition)!==null&&t!==void 0?t:this.params.expression.length-1}},n.prototype.getDisplayValue=function(){return this.operator},n.prototype.getOperatorKey=function(){return this.parsedOperator},n.prototype.parseOperator=function(t,e){var r=this.params.advancedFilterExpressionService.getDataTypeExpressionOperator(this.baseCellDataType),i=r.findOperator(this.operator);if(this.endPosition=e,i){this.parsedOperator=i;var o=r.operators[i];this.expectedNumOperands=o.numOperands;var a=o.displayValue;return RV(this.params,this.operator,a,e),this.operator=a,!0}var s=i===null;return(t||!s)&&(this.valid=!1),!1},n}(),Ike=function(){function n(t,e,r,i){this.params=t,this.startPosition=e,this.baseCellDataType=r,this.column=i,this.type="operand",this.valid=!0,this.operand="",this.validationMessage=null}return n.prototype.parse=function(t,e){if(t===" ")if(this.quotes)this.operand+=t;else return this.parseOperand(!1,e),!0;else if(t===")"){if(this.baseCellDataType==="number"||!this.quotes)return this.parseOperand(!1,e-1),!0;this.operand+=t}else if(!this.operand&&!this.quotes&&(t==="'"||t==='"'))this.quotes=t;else{if(this.quotes&&t===this.quotes)return this.parseOperand(!1,e),!1;this.operand+=t}},n.prototype.complete=function(t){this.parseOperand(!0,t)},n.prototype.getValidationError=function(){var t;return this.validationMessage?{message:this.validationMessage,startPosition:this.startPosition,endPosition:(t=this.endPosition)!==null&&t!==void 0?t:this.params.expression.length-1}:null},n.prototype.getRawValue=function(){return this.operand},n.prototype.getModelValue=function(){return this.modelValue},n.prototype.parseOperand=function(t,e){var r=this.params.advancedFilterExpressionService;if(this.endPosition=e,this.modelValue=this.operand,t&&this.quotes)this.valid=!1,this.validationMessage=r.translate("advancedFilterValidationMissingQuote");else if(this.modelValue==="")this.valid=!1,this.validationMessage=r.translate("advancedFilterValidationMissingValue");else{var i=r.getOperandModelValue(this.operand,this.baseCellDataType,this.column);switch(i!=null&&(this.modelValue=i),this.baseCellDataType){case"number":(this.quotes||isNaN(this.modelValue))&&(this.valid=!1,this.validationMessage=r.translate("advancedFilterValidationNotANumber"));break;case"date":case"dateString":i==null&&(this.valid=!1,this.validationMessage=r.translate("advancedFilterValidationInvalidDate"));break}}},n}(),yh=function(){function n(t,e){this.params=t,this.startPosition=e,this.isAwaiting=!0}return n.prototype.parseExpression=function(){for(var t,e,r=this.startPosition,i=this.params.expression;r<i.length;){var o=i[r];if(!(o===" "&&this.isAwaiting)){if(this.isAwaiting=!1,!this.parser){var a=void 0;this.columnParser?this.operatorParser?(this.operandParser=new Ike(this.params,r,this.columnParser.baseCellDataType,this.columnParser.column),a=this.operandParser):(this.operatorParser=new Lke(this.params,r,this.columnParser.baseCellDataType),a=this.operatorParser):(this.columnParser=new Fke(this.params,r),a=this.columnParser),this.parser=a}var s=this.parser.parse(o,r);if(s!=null){if(this.isComplete())return this.returnEndPosition(s?r-1:r,!0);this.parser=void 0,this.isAwaiting=!0}}r++}return(e=(t=this.parser)===null||t===void 0?void 0:t.complete)===null||e===void 0||e.call(t,r-1),this.returnEndPosition(r)},n.prototype.isValid=function(){return this.isComplete()&&this.columnParser.valid&&this.operatorParser.valid&&(!this.operandParser||this.operandParser.valid)},n.prototype.getValidationError=function(){var t,e,r,i,o,a=(i=(e=(t=this.columnParser)===null||t===void 0?void 0:t.getValidationError())!==null&&e!==void 0?e:(r=this.operatorParser)===null||r===void 0?void 0:r.getValidationError())!==null&&i!==void 0?i:(o=this.operandParser)===null||o===void 0?void 0:o.getValidationError();if(a)return a;var s=this.params.expression.length,l;return this.columnParser?this.operatorParser?this.operatorParser.expectedNumOperands&&!this.operandParser&&(l="advancedFilterValidationMissingValue"):l="advancedFilterValidationMissingOption":l="advancedFilterValidationMissingColumn",l?{message:this.params.advancedFilterExpressionService.translate(l),startPosition:s,endPosition:s}:null},n.prototype.getFunction=function(t){var e,r,i=this.columnParser.getColId(),o=Mke(i),a=(e=this.operatorParser)===null||e===void 0?void 0:e.getOperatorKey(),s=t.operators,l=t.evaluatorParams,u=t.operands,c=this.params.advancedFilterExpressionService.getExpressionOperator(this.columnParser.baseCellDataType,a),d=this.addToListAndGetIndex(s,c),p=this.params.advancedFilterExpressionService.getExpressionEvaluatorParams(i),h=this.addToListAndGetIndex(l,p),f;if(((r=this.operatorParser)===null||r===void 0?void 0:r.expectedNumOperands)===0)f="";else{var v=this.addToListAndGetIndex(u,this.getOperandValue());f=", params.operands[".concat(v,"]")}return"params.operators[".concat(d,"].evaluator(expressionProxy.getValue('").concat(o,"', node), node, params.evaluatorParams[").concat(h,"]").concat(f,")")},n.prototype.getAutocompleteListParams=function(t){if(this.isColumnPosition(t))return this.getColumnAutocompleteListParams(t);if(this.isOperatorPosition(t))return this.getOperatorAutocompleteListParams(t);if(!this.isBeyondEndPosition(t))return{enabled:!1}},n.prototype.updateExpression=function(t,e,r){var i,o,a,s,l,u=this.params.expression;if(this.isColumnPosition(t))return Ad(this.params.expression,this.startPosition,!((i=this.columnParser)===null||i===void 0)&&i.getColId()?this.columnParser.endPosition:tI(u,t).endPosition,this.params.advancedFilterExpressionService.getColumnValue(e),!0);if(this.isOperatorPosition(t)){var c=this.getBaseCellDataTypeFromOperatorAutocompleteType(r),d=this.hasOperand(c,e.key),p=d&&this.doesOperandNeedQuotes(c),h=void 0;if(((o=this.operatorParser)===null||o===void 0?void 0:o.startPosition)!=null&&t<this.operatorParser.startPosition)h=Ad(u,t,t,(a=e.displayValue)!==null&&a!==void 0?a:e.key,d,p);else{var f=void 0,v=!1;if(!((s=this.operatorParser)===null||s===void 0)&&s.getOperatorKey())f=this.operatorParser.endPosition;else{var g=tI(u,t,!0,!0),y=g.endPosition,m=g.isEmpty;f=y,v=m}h=Ad(u,Dke(u,this.columnParser.endPosition+1,f),f,(l=e.displayValue)!==null&&l!==void 0?l:e.key,d,p,v)}return vO(vO({},h),{hideAutocomplete:!d})}return null},n.prototype.getModel=function(){var t=this.columnParser.getColId(),e={filterType:this.columnParser.baseCellDataType,colId:t,type:this.operatorParser.getOperatorKey()};return this.operatorParser.expectedNumOperands&&(e.filter=this.operandParser.getModelValue()),e},n.prototype.getOperandValue=function(){var t=this.operandParser.getRawValue(),e=this.columnParser,r=e.baseCellDataType,i=e.column;switch(r){case"number":t=Number(t);break;case"date":case"dateString":t=this.params.valueParserService.parseValue(i,null,t,void 0);break}return r==="dateString"?this.params.dataTypeService.getDateParserFunction(i)(t):t},n.prototype.isComplete=function(){return!!(this.operatorParser&&(!this.operatorParser.expectedNumOperands||this.operatorParser.expectedNumOperands&&this.operandParser))},n.prototype.isColumnPosition=function(t){return!this.columnParser||this.columnParser.endPosition==null||t<=this.columnParser.endPosition+1},n.prototype.isOperatorPosition=function(t){return!this.operatorParser||this.operatorParser.endPosition==null||t<=this.operatorParser.endPosition+1},n.prototype.isBeyondEndPosition=function(t){return this.isComplete()&&this.endPosition!=null&&t>this.endPosition+1&&this.endPosition+1<this.params.expression.length},n.prototype.returnEndPosition=function(t,e){return this.endPosition=e?t:t-1,t},n.prototype.getColumnAutocompleteListParams=function(t){return this.params.advancedFilterExpressionService.generateAutocompleteListParams(this.params.advancedFilterExpressionService.getColumnAutocompleteEntries(),"column",this.getColumnSearchString(t))},n.prototype.getColumnSearchString=function(t){var e,r,i,o,a,s=(r=(e=this.columnParser)===null||e===void 0?void 0:e.getDisplayValue())!==null&&r!==void 0?r:"",l=eI(s,t,((i=this.columnParser)===null||i===void 0?void 0:i.endPosition)==null?this.params.expression.length:this.columnParser.endPosition+1),u=((o=this.columnParser)===null||o===void 0?void 0:o.hasStartChar)&&l.length>0,c=((a=this.columnParser)===null||a===void 0?void 0:a.hasEndChar)&&l.length===s.length+2;return u?l.slice(1,c?-1:void 0):l},n.prototype.getOperatorAutocompleteListParams=function(t){var e,r,i,o,a,s=(e=this.columnParser)===null||e===void 0?void 0:e.column;if(!s)return{enabled:!1};var l=this.columnParser.baseCellDataType,u=((r=this.operatorParser)===null||r===void 0?void 0:r.startPosition)!=null&&t<this.operatorParser.startPosition?"":eI((o=(i=this.operatorParser)===null||i===void 0?void 0:i.getDisplayValue())!==null&&o!==void 0?o:"",t,((a=this.operatorParser)===null||a===void 0?void 0:a.endPosition)==null?this.params.expression.length:this.operatorParser.endPosition+1);return this.params.advancedFilterExpressionService.generateAutocompleteListParams(this.params.advancedFilterExpressionService.getOperatorAutocompleteEntries(s,l),"operator-".concat(l),u)},n.prototype.getBaseCellDataTypeFromOperatorAutocompleteType=function(t){return t==null?void 0:t.replace("operator-","")},n.prototype.hasOperand=function(t,e){var r,i;return!t||!e||((i=(r=this.params.advancedFilterExpressionService.getExpressionOperator(t,e))===null||r===void 0?void 0:r.numOperands)!==null&&i!==void 0?i:0)>0},n.prototype.doesOperandNeedQuotes=function(t){return t!=="number"},n.prototype.addToListAndGetIndex=function(t,e){var r=t.length;return t.push(e),r},n.COL_START_CHAR="[",n.COL_END_CHAR="]",n}(),Nke=function(n,t){var e=typeof Symbol=="function"&&n[Symbol.iterator];if(!e)return n;var r=e.call(n),i,o=[],a;try{for(;(t===void 0||t-- >0)&&!(i=r.next()).done;)o.push(i.value)}catch(s){a={error:s}}finally{try{i&&!i.done&&(e=r.return)&&e.call(r)}finally{if(a)throw a.error}}return o};function JT(n,t,e){var r=!1,i=n.toLocaleLowerCase(),o=i+" ",a=Object.entries(t).find(function(s){var l=Nke(s,2);l[0];var u=l[1],c=e(u).toLocaleLowerCase();return c.startsWith(o)&&(r=!0),c===i});return a?a[0]:r?null:void 0}function TV(n,t){var e=t??Object.keys(n);return e.map(function(r){return{key:r,displayValue:n[r].displayValue}})}var _U=function(){function n(t){this.params=t,this.initOperators()}return n.prototype.getEntries=function(t){return TV(this.operators,t)},n.prototype.findOperator=function(t){return JT(t,this.operators,function(e){var r=e.displayValue;return r})},n.prototype.initOperators=function(){var t=this,e=this.params.translate;this.operators={contains:{displayValue:e("advancedFilterContains"),evaluator:function(r,i,o,a){return t.evaluateExpression(r,i,o,a,!1,function(s,l){return s.includes(l)})},numOperands:1},notContains:{displayValue:e("advancedFilterNotContains"),evaluator:function(r,i,o,a){return t.evaluateExpression(r,i,o,a,!0,function(s,l){return!s.includes(l)})},numOperands:1},equals:{displayValue:e("advancedFilterTextEquals"),evaluator:function(r,i,o,a){return t.evaluateExpression(r,i,o,a,!1,function(s,l){return s===l})},numOperands:1},notEqual:{displayValue:e("advancedFilterTextNotEqual"),evaluator:function(r,i,o,a){return t.evaluateExpression(r,i,o,a,!0,function(s,l){return s!=l})},numOperands:1},startsWith:{displayValue:e("advancedFilterStartsWith"),evaluator:function(r,i,o,a){return t.evaluateExpression(r,i,o,a,!1,function(s,l){return s.startsWith(l)})},numOperands:1},endsWith:{displayValue:e("advancedFilterEndsWith"),evaluator:function(r,i,o,a){return t.evaluateExpression(r,i,o,a,!1,function(s,l){return s.endsWith(l)})},numOperands:1},blank:{displayValue:e("advancedFilterBlank"),evaluator:function(r){return r==null||typeof r=="string"&&r.trim().length===0},numOperands:0},notBlank:{displayValue:e("advancedFilterNotBlank"),evaluator:function(r){return r!=null&&(typeof r!="string"||r.trim().length>0)},numOperands:0}}},n.prototype.evaluateExpression=function(t,e,r,i,o,a){return t==null?o:r.caseSensitive?a(r.valueConverter(t,e),i):a(r.valueConverter(t,e).toLocaleLowerCase(),i.toLocaleLowerCase())},n}(),UD=function(){function n(t){this.params=t,this.initOperators()}return n.prototype.getEntries=function(t){return TV(this.operators,t)},n.prototype.findOperator=function(t){return JT(t,this.operators,function(e){var r=e.displayValue;return r})},n.prototype.initOperators=function(){var t=this,e=this.params,r=e.translate,i=e.equals;this.operators={equals:{displayValue:r("advancedFilterEquals"),evaluator:function(o,a,s,l){return t.evaluateSingleOperandExpression(o,a,s,l,!!s.includeBlanksInEquals,i)},numOperands:1},notEqual:{displayValue:r("advancedFilterNotEqual"),evaluator:function(o,a,s,l){return t.evaluateSingleOperandExpression(o,a,s,l,!!s.includeBlanksInEquals,function(u,c){return!i(u,c)})},numOperands:1},greaterThan:{displayValue:r("advancedFilterGreaterThan"),evaluator:function(o,a,s,l){return t.evaluateSingleOperandExpression(o,a,s,l,!!s.includeBlanksInGreaterThan,function(u,c){return u>c})},numOperands:1},greaterThanOrEqual:{displayValue:r("advancedFilterGreaterThanOrEqual"),evaluator:function(o,a,s,l){return t.evaluateSingleOperandExpression(o,a,s,l,!!s.includeBlanksInGreaterThan,function(u,c){return u>=c})},numOperands:1},lessThan:{displayValue:r("advancedFilterLessThan"),evaluator:function(o,a,s,l){return t.evaluateSingleOperandExpression(o,a,s,l,!!s.includeBlanksInLessThan,function(u,c){return u<c})},numOperands:1},lessThanOrEqual:{displayValue:r("advancedFilterLessThanOrEqual"),evaluator:function(o,a,s,l){return t.evaluateSingleOperandExpression(o,a,s,l,!!s.includeBlanksInLessThan,function(u,c){return u<=c})},numOperands:1},blank:{displayValue:r("advancedFilterBlank"),evaluator:function(o){return o==null},numOperands:0},notBlank:{displayValue:r("advancedFilterNotBlank"),evaluator:function(o){return o!=null},numOperands:0}}},n.prototype.evaluateSingleOperandExpression=function(t,e,r,i,o,a){return t==null?o:a(r.valueConverter(t,e),i)},n}(),kke=function(){function n(t){this.params=t,this.initOperators()}return n.prototype.getEntries=function(t){return TV(this.operators,t)},n.prototype.findOperator=function(t){return JT(t,this.operators,function(e){var r=e.displayValue;return r})},n.prototype.initOperators=function(){var t=this.params.translate;this.operators={true:{displayValue:t("advancedFilterTrue"),evaluator:function(e){return!!e},numOperands:0},false:{displayValue:t("advancedFilterFalse"),evaluator:function(e){return e===!1},numOperands:0},blank:{displayValue:t("advancedFilterBlank"),evaluator:function(e){return e==null},numOperands:0},notBlank:{displayValue:t("advancedFilterNotBlank"),evaluator:function(e){return e!=null},numOperands:0}}},n}(),Gke=function(){var n=function(t,e){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])},n(t,e)};return function(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");n(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}}(),Lf=function(n,t,e,r){var i=arguments.length,o=i<3?t:r===null?r=Object.getOwnPropertyDescriptor(t,e):r,a;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(n,t,e,r);else for(var s=n.length-1;s>=0;s--)(a=n[s])&&(o=(i<3?a(o):i>3?a(t,e,o):a(t,e))||o);return i>3&&o&&Object.defineProperty(t,e,o),o},Vke=function(n,t){var e=typeof Symbol=="function"&&n[Symbol.iterator];if(!e)return n;var r=e.call(n),i,o=[],a;try{for(;(t===void 0||t-- >0)&&!(i=r.next()).done;)o.push(i.value)}catch(s){a={error:s}}finally{try{i&&!i.done&&(e=r.return)&&e.call(r)}finally{if(a)throw a.error}}return o},Bke=function(n){Gke(t,n);function t(){var e=n!==null&&n.apply(this,arguments)||this;return e.columnNameToIdMap={},e.columnAutocompleteEntries=null,e.expressionEvaluatorParams={},e}return t.prototype.postConstruct=function(){this.expressionJoinOperators=this.generateExpressionJoinOperators(),this.expressionOperators=this.generateExpressionOperators()},t.prototype.parseJoinOperator=function(e){var r,i=e.type;return(r=this.expressionJoinOperators[i])!==null&&r!==void 0?r:i},t.prototype.getColumnDisplayValue=function(e){var r=e.colId,i=this.getColumnAutocompleteEntries(),o=i.find(function(s){var l=s.key;return l===r}),a;return o?(a=o.displayValue,this.columnNameToIdMap[a.toLocaleUpperCase()]={colId:r,columnName:a}):a=r,a},t.prototype.getOperatorDisplayValue=function(e){var r,i;return(i=(r=this.getExpressionOperator(e.filterType,e.type))===null||r===void 0?void 0:r.displayValue)!==null&&i!==void 0?i:e.type},t.prototype.getOperandModelValue=function(e,r,i){var o;switch(r){case"number":return D.exists(e)?Number(e):null;case"date":return D.serialiseDate(this.valueParserService.parseValue(i,null,e,void 0),!1);case"dateString":var a=this.valueParserService.parseValue(i,null,e,void 0);return D.serialiseDate((o=this.dataTypeService.getDateParserFunction(i)(a))!==null&&o!==void 0?o:null,!1)}return e},t.prototype.getOperandDisplayValue=function(e,r){var i,o,a=e,s=a.colId,l=a.filter,u=this.columnModel.getPrimaryColumn(s),c="";if(l!=null){var d=void 0;switch(e.filterType){case"number":d=(i=D.toStringOrNull(l))!==null&&i!==void 0?i:"";break;case"date":var p=D.parseDateTimeFromString(l);d=u?this.valueFormatterService.formatValue(u,null,p):null;break;case"dateString":var h=D.parseDateTimeFromString(l),f=u?this.dataTypeService.getDateFormatterFunction(u)(h??void 0):null;d=u?this.valueFormatterService.formatValue(u,null,f):null;break}e.filterType!=="number"&&(d=(o=d??D.toStringOrNull(l))!==null&&o!==void 0?o:"",r||(d='"'.concat(d,'"'))),c=r?d:" ".concat(d)}return c},t.prototype.parseColumnFilterModel=function(e){var r,i,o=(r=this.getColumnDisplayValue(e))!==null&&r!==void 0?r:"",a=(i=this.getOperatorDisplayValue(e))!==null&&i!==void 0?i:"",s=this.getOperandDisplayValue(e);return"[".concat(o,"] ").concat(a).concat(s)},t.prototype.updateAutocompleteCache=function(e,r){if(r==="column"){var i=e.key,o=e.displayValue;this.columnNameToIdMap[e.displayValue.toLocaleUpperCase()]={colId:i,columnName:o}}},t.prototype.translate=function(e,r){var i=Ake[e];return typeof i=="function"&&(i=i(r)),this.localeService.getLocaleTextFunc()(e,i,r)},t.prototype.generateAutocompleteListParams=function(e,r,i){return{enabled:!0,type:r,searchString:i,entries:e}},t.prototype.getColumnAutocompleteEntries=function(){var e=this,r;if(this.columnAutocompleteEntries)return this.columnAutocompleteEntries;var i=(r=this.columnModel.getAllPrimaryColumns())!==null&&r!==void 0?r:[],o=[],a=this.gridOptionsService.get("includeHiddenColumnsInAdvancedFilter");return i.forEach(function(s){s.getColDef().filter&&(a||s.isVisible()||s.isRowGroupActive())&&o.push({key:s.getColId(),displayValue:e.columnModel.getDisplayNameForColumn(s,"advancedFilter")})}),o.sort(function(s,l){var u,c,d=(u=s.displayValue)!==null&&u!==void 0?u:"",p=(c=l.displayValue)!==null&&c!==void 0?c:"";return d<p?-1:p>d?1:0}),o},t.prototype.getOperatorAutocompleteEntries=function(e,r){var i=this.getActiveOperators(e);return this.getDataTypeExpressionOperator(r).getEntries(i)},t.prototype.getJoinOperatorAutocompleteEntries=function(){return Object.entries(this.expressionJoinOperators).map(function(e){var r=Vke(e,2),i=r[0],o=r[1];return{key:i,displayValue:o}})},t.prototype.getDefaultAutocompleteListParams=function(e){return this.generateAutocompleteListParams(this.getColumnAutocompleteEntries(),"column",e)},t.prototype.getDataTypeExpressionOperator=function(e){return this.expressionOperators[e]},t.prototype.getExpressionOperator=function(e,r){var i,o;return(o=(i=this.getDataTypeExpressionOperator(e))===null||i===void 0?void 0:i.operators)===null||o===void 0?void 0:o[r]},t.prototype.getExpressionJoinOperators=function(){return this.expressionJoinOperators},t.prototype.getColId=function(e){var r=e.toLocaleUpperCase(),i=this.columnNameToIdMap[r];if(i)return i;var o=this.getColumnAutocompleteEntries(),a=o.find(function(c){var d=c.displayValue;return d.toLocaleUpperCase()===r});if(a){var s=a.key,l=a.displayValue,u={colId:s,columnName:l};return this.columnNameToIdMap[r]=u,u}return null},t.prototype.getExpressionEvaluatorParams=function(e){var r=this,i=this.expressionEvaluatorParams[e];if(i)return i;var o=this.columnModel.getPrimaryColumn(e);if(!o)return{valueConverter:function(l){return l}};var a=this.dataTypeService.getBaseDataType(o);switch(a){case"dateString":i={valueConverter:this.dataTypeService.getDateParserFunction(o)};break;case"object":o.getColDef().filterValueGetter?i={valueConverter:function(l){return l}}:i={valueConverter:function(l,u){var c;return(c=r.valueFormatterService.formatValue(o,u,l))!==null&&c!==void 0?c:typeof l.toString=="function"?l.toString():""}};break;case"text":case void 0:i={valueConverter:function(l){return D.toStringOrNull(l)}};break;default:i={valueConverter:function(l){return l}};break}var s=o.getColDef().filterParams;return s&&["caseSensitive","includeBlanksInEquals","includeBlanksInLessThan","includeBlanksInGreaterThan"].forEach(function(l){var u=s[l];u&&(i[l]=u)}),this.expressionEvaluatorParams[e]=i,i},t.prototype.getColumnDetails=function(e){var r,i,o=(r=this.columnModel.getPrimaryColumn(e))!==null&&r!==void 0?r:void 0,a=(i=o?this.dataTypeService.getBaseDataType(o):void 0)!==null&&i!==void 0?i:"text";return{column:o,baseCellDataType:a}},t.prototype.generateExpressionOperators=function(){var e=this,r=function(i,o){return e.translate(i,o)};return{text:new _U({translate:r}),boolean:new kke({translate:r}),object:new _U({translate:r}),number:new UD({translate:r,equals:function(i,o){return i===o}}),date:new UD({translate:r,equals:function(i,o){return i.getTime()===o.getTime()}}),dateString:new UD({translate:r,equals:function(i,o){return i.getTime()===o.getTime()}})}},t.prototype.getColumnValue=function(e){var r=e.displayValue;return"".concat(yh.COL_START_CHAR).concat(r).concat(yh.COL_END_CHAR)},t.prototype.generateExpressionJoinOperators=function(){return{AND:this.translate("advancedFilterAnd"),OR:this.translate("advancedFilterOr")}},t.prototype.getActiveOperators=function(e){var r,i=(r=e.getColDef().filterParams)===null||r===void 0?void 0:r.filterOptions;if(i){var o=i.every(function(a){return typeof a=="string"});return o?i:void 0}},t.prototype.resetColumnCaches=function(){this.columnAutocompleteEntries=null,this.columnNameToIdMap={},this.expressionEvaluatorParams={}},Lf([E("valueFormatterService")],t.prototype,"valueFormatterService",void 0),Lf([E("valueParserService")],t.prototype,"valueParserService",void 0),Lf([E("columnModel")],t.prototype,"columnModel",void 0),Lf([E("dataTypeService")],t.prototype,"dataTypeService",void 0),Lf([z],t.prototype,"postConstruct",null),t=Lf([ae("advancedFilterExpressionService")],t),t}(q),Hke=function(){function n(t){this.params=t,this.operators=[],this.operatorStartPositions=[],this.operatorEndPositions=[],this.activeOperator=0,this.validationError=null}return n.prototype.parseExpression=function(t){this.operators.push(""),this.operatorStartPositions.push(t),this.operatorEndPositions.push(void 0);for(var e=this.params.expression;t<e.length;){var r=e[t];if(r===" "){var i=this.parseOperator(t-1);if(i)return this.activeOperator++,t-1;this.operators[this.activeOperator]+=r}else this.operators[this.activeOperator]+=r;t++}return this.parseOperator(t-1),t},n.prototype.isValid=function(){return!this.validationError&&(!this.operators.length||!!this.parsedOperator)},n.prototype.getValidationError=function(){return this.validationError},n.prototype.getFunction=function(){return this.parsedOperator==="OR"?"||":"&&"},n.prototype.getModel=function(){return this.parsedOperator==="OR"?"OR":"AND"},n.prototype.getAutocompleteListParams=function(t,e){var r=this,i;if(e==null)i="";else{var o=this.operators[e],a=this.operatorEndPositions[e];i=eI(o,t,a==null?this.params.expression.length:a+1)}var s=this.params.advancedFilterExpressionService.getJoinOperatorAutocompleteEntries();return(e||e==null&&this.activeOperator)&&(s=s.filter(function(l){var u=l.key;return u===r.parsedOperator})),this.params.advancedFilterExpressionService.generateAutocompleteListParams(s,"join",i)},n.prototype.updateExpression=function(t,e,r){var i,o,a=this.params.expression,s=(i=e.displayValue)!==null&&i!==void 0?i:e.key;if(r===0)for(var l=this.operatorEndPositions.length-1;l>0;l--){var u=this.operatorEndPositions[l];u!=null&&(a=Ad(a,this.operatorStartPositions[l],u,s).updatedValue)}var c=this.operatorStartPositions.length>r?this.operatorStartPositions[r]:t,d=(o=this.operatorEndPositions.length>r?this.operatorEndPositions[r]:void 0)!==null&&o!==void 0?o:tI(a,t,!0).endPosition;return Ad(a,c,d,s,!0)},n.prototype.getNumOperators=function(){return this.operators.length},n.prototype.getLastOperatorEndPosition=function(){return this.operatorEndPositions[this.operatorEndPositions.length-1]},n.prototype.parseOperator=function(t){var e=this.operators.length>this.activeOperator?this.operators[this.activeOperator]:"",r=this.params.advancedFilterExpressionService.getExpressionJoinOperators(),i=JT(e,r,function(a){return a});if(i){this.operatorEndPositions[this.activeOperator]=t;var o=r[i];if(this.activeOperator){if(i!==this.parsedOperator)return this.validationError||(this.validationError={message:this.params.advancedFilterExpressionService.translate("advancedFilterValidationJoinOperatorMismatch"),startPosition:t-e.length+1,endPosition:t}),!1}else this.parsedOperator=i;return e!==o&&(RV(this.params,e,o,t),this.operators[this.activeOperator]=o),!0}else return i===null?!1:(this.validationError||(this.validationError={message:this.params.advancedFilterExpressionService.translate("advancedFilterValidationInvalidJoinOperator"),startPosition:t-e.length+1,endPosition:t}),!0)},n}(),jke=function(){function n(t,e){this.params=t,this.startPosition=e,this.expectingExpression=!0,this.expectingOperator=!1,this.expressionParsers=[],this.operatorParser=new Hke(this.params),this.missingEndBracket=!1,this.extraEndBracket=!1}return n.prototype.parseExpression=function(){for(var t=this.startPosition,e=this.params.expression;t<e.length;){var r=e[t];if(r==="("&&!this.expectingOperator){var i=new n(this.params,t+1);t=i.parseExpression(),this.expressionParsers.push(i),this.expectingExpression=!1,this.expectingOperator=!0}else{if(r===")")return this.endPosition=t-1,this.startPosition===0&&(this.extraEndBracket=!0),t;if(r!==" ")if(this.expectingExpression){var i=new yh(this.params,t);t=i.parseExpression(),this.expressionParsers.push(i),this.expectingExpression=!1,this.expectingOperator=!0}else this.expectingOperator&&(t=this.operatorParser.parseExpression(t),this.expectingOperator=!1,this.expectingExpression=!0)}t++}return this.startPosition>0&&(this.missingEndBracket=!0),t},n.prototype.isValid=function(){return!this.missingEndBracket&&!this.extraEndBracket&&this.expressionParsers.length===this.operatorParser.getNumOperators()+1&&this.operatorParser.isValid()&&this.expressionParsers.every(function(t){return t.isValid()})},n.prototype.getValidationError=function(){for(var t=this.operatorParser.getValidationError(),e=0;e<this.expressionParsers.length;e++){var r=this.expressionParsers[e].getValidationError();if(r)return t&&t.startPosition<r.startPosition?t:r}if(t)return t;if(this.extraEndBracket)return{message:this.params.advancedFilterExpressionService.translate("advancedFilterValidationExtraEndBracket"),startPosition:this.endPosition+1,endPosition:this.endPosition+1};var i;return this.expressionParsers.length===this.operatorParser.getNumOperators()?i="advancedFilterValidationMissingCondition":this.missingEndBracket&&(i="advancedFilterValidationMissingEndBracket"),i?{message:this.params.advancedFilterExpressionService.translate(i),startPosition:this.params.expression.length,endPosition:this.params.expression.length}:null},n.prototype.getFunction=function(t){var e=this.expressionParsers.length>1,r=this.expressionParsers.map(function(i){return i.getFunction(t)}).join(" ".concat(this.operatorParser.getFunction()," "));return e?"(".concat(r,")"):r},n.prototype.getAutocompleteListParams=function(t){if(!(this.endPosition!=null&&t>this.endPosition+1)){if(!this.expressionParsers.length)return this.getColumnAutocompleteListParams();var e=this.getExpressionParserIndex(t);if(e==null)return this.params.expression[t]==="("?{enabled:!1}:this.getColumnAutocompleteListParams();var r=this.expressionParsers[e],i=r.getAutocompleteListParams(t);if(!i){if(e<this.expressionParsers.length-1)return this.operatorParser.getAutocompleteListParams(t,e);if(this.expressionParsers.length===this.operatorParser.getNumOperators()){var o=this.operatorParser.getLastOperatorEndPosition();return o==null||t<=o+1?this.operatorParser.getAutocompleteListParams(t,this.operatorParser.getNumOperators()-1):this.getColumnAutocompleteListParams()}return this.params.expression[t-1]===")"?{enabled:!1}:this.operatorParser.getAutocompleteListParams(t)}return i}},n.prototype.updateExpression=function(t,e,r){var i,o=this.params.expression,a=this.getExpressionParserIndex(t);if(a==null){var s=r==="column"?this.params.advancedFilterExpressionService.getColumnValue(e):(i=e.displayValue)!==null&&i!==void 0?i:e.key;return Ad(o,this.startPosition,this.startPosition,s,!0)}var l=this.expressionParsers[a],u=l.updateExpression(t,e,r);return u??(r==="column"?Ad(o,t,o.length-1,this.params.advancedFilterExpressionService.getColumnValue(e),!0):this.endPosition!=null&&t>this.endPosition+1?null:this.operatorParser.updateExpression(t,e,a))},n.prototype.getModel=function(){return this.expressionParsers.length>1?{filterType:"join",type:this.operatorParser.getModel(),conditions:this.expressionParsers.map(function(t){return t.getModel()})}:this.expressionParsers[0].getModel()},n.prototype.getColumnAutocompleteListParams=function(){return this.params.advancedFilterExpressionService.generateAutocompleteListParams(this.params.advancedFilterExpressionService.getColumnAutocompleteEntries(),"column","")},n.prototype.getExpressionParserIndex=function(t){for(var e,r=0;r<this.expressionParsers.length;r++){var i=this.expressionParsers[r];if(i.startPosition>t)break;e=r}return e},n}(),$ke=function(){function n(t){this.params=t,this.valid=!1}return n.prototype.parseExpression=function(){this.joinExpressionParser=new jke(this.params,0);var t=this.joinExpressionParser.parseExpression();return this.valid=t>=this.params.expression.length-1&&this.joinExpressionParser.isValid(),this.params.expression},n.prototype.isValid=function(){return this.valid},n.prototype.getValidationMessage=function(){var t=this.joinExpressionParser.getValidationError();if(!t)return null;var e=t.message,r=t.startPosition,i=t.endPosition;return r<this.params.expression.length?this.params.advancedFilterExpressionService.translate("advancedFilterValidationMessage",[e,this.params.expression.slice(r,i+1).trim()]):this.params.advancedFilterExpressionService.translate("advancedFilterValidationMessageAtEnd",[e])},n.prototype.getFunction=function(){var t={operands:[],operators:[],evaluatorParams:[]},e="return ".concat(this.joinExpressionParser.getFunction(t),";");return{functionBody:e,params:t}},n.prototype.getAutocompleteListParams=function(t){var e;return(e=this.joinExpressionParser.getAutocompleteListParams(t))!==null&&e!==void 0?e:{enabled:!1}},n.prototype.updateExpression=function(t,e,r){return this.joinExpressionParser.updateExpression(t,e,r)},n.prototype.getModel=function(){return this.isValid()?this.joinExpressionParser.getModel():null},n}(),Wke=function(){var n=function(t,e){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])},n(t,e)};return function(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");n(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}}(),Vc=function(n,t,e,r){var i=arguments.length,o=i<3?t:r===null?r=Object.getOwnPropertyDescriptor(t,e):r,a;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(n,t,e,r);else for(var s=n.length-1;s>=0;s--)(a=n[s])&&(o=(i<3?a(o):i>3?a(t,e,o):a(t,e))||o);return i>3&&o&&Object.defineProperty(t,e,o),o},Uke=function(n){Wke(t,n);function t(){var e=n!==null&&n.apply(this,arguments)||this;return e.appliedExpression=null,e.expression=null,e.isValid=!0,e}return t.prototype.postConstruct=function(){var e=this;this.setEnabled(this.gridOptionsService.get("enableAdvancedFilter"),!0),this.ctrl=this.createManagedBean(new VZ(this.enabled)),this.expressionProxy={getValue:function(r,i){var o=e.columnModel.getPrimaryColumn(r);return o?e.valueService.getValue(o,i,!0):void 0}},this.addManagedPropertyListener("enableAdvancedFilter",function(r){return e.setEnabled(!!r.currentValue)}),this.addManagedListener(this.eventService,P.EVENT_NEW_COLUMNS_LOADED,function(r){return e.onNewColumnsLoaded(r)}),this.addManagedPropertyListener("includeHiddenColumnsInAdvancedFilter",function(){return e.updateValidity()})},t.prototype.isEnabled=function(){return this.enabled},t.prototype.isFilterPresent=function(){return!!this.expressionFunction},t.prototype.doesFilterPass=function(e){return this.expressionFunction(this.expressionProxy,e,this.expressionParams)},t.prototype.getModel=function(){var e,r=this.createExpressionParser(this.appliedExpression);return r==null||r.parseExpression(),(e=r==null?void 0:r.getModel())!==null&&e!==void 0?e:null},t.prototype.setModel=function(e){var r=this,i=function(a,s){if(a.filterType==="join"){var l=r.advancedFilterExpressionService.parseJoinOperator(a),u=a.conditions.map(function(c){return i(c)}).filter(function(c){return D.exists(c)}).join(" ".concat(l," "));return s||a.conditions.length<=1?u:"(".concat(u,")")}else return r.advancedFilterExpressionService.parseColumnFilterModel(a)},o=e?i(e,!0):null;this.setExpressionDisplayValue(o),this.applyExpression(),this.ctrl.refreshComp(),this.ctrl.refreshBuilderComp()},t.prototype.getExpressionDisplayValue=function(){return this.expression},t.prototype.setExpressionDisplayValue=function(e){this.expression=e},t.prototype.isCurrentExpressionApplied=function(){return this.appliedExpression===this.expression},t.prototype.createExpressionParser=function(e){return e?new $ke({expression:e,columnModel:this.columnModel,dataTypeService:this.dataTypeService,valueParserService:this.valueParserService,advancedFilterExpressionService:this.advancedFilterExpressionService}):null},t.prototype.getDefaultExpression=function(e){var r=this.advancedFilterExpressionService.getColumnValue(e)+" ";return{updatedValue:r,updatedPosition:r.length}},t.prototype.isHeaderActive=function(){return!this.gridOptionsService.get("advancedFilterParent")},t.prototype.getCtrl=function(){return this.ctrl},t.prototype.setEnabled=function(e,r){var i=this.enabled,o=this.rowModel.getType(),a=o==="clientSide"||o==="serverSide";if(e&&!o&&D.warnOnce("Advanced Filter is only supported with the Client-Side Row Model or Server-Side Row Model."),this.enabled=e&&a,!r&&this.enabled!==i){var s={type:P.EVENT_ADVANCED_FILTER_ENABLED_CHANGED,enabled:this.enabled};this.eventService.dispatchEvent(s)}},t.prototype.applyExpression=function(){var e=this.createExpressionParser(this.expression);e==null||e.parseExpression(),this.applyExpressionFromParser(e)},t.prototype.applyExpressionFromParser=function(e){if(this.isValid=!e||e.isValid(),!e||!this.isValid){this.expressionFunction=null,this.expressionParams=null,this.appliedExpression=null;return}var r=e.getFunction(),i=r.functionBody,o=r.params;this.expressionFunction=new Function("expressionProxy","node","params",i),this.expressionParams=o,this.appliedExpression=this.expression},t.prototype.updateValidity=function(){this.advancedFilterExpressionService.resetColumnCaches();var e=this.createExpressionParser(this.expression);e==null||e.parseExpression();var r=!e||e.isValid(),i=r!==this.isValid;return this.applyExpressionFromParser(e),this.ctrl.refreshComp(),this.ctrl.refreshBuilderComp(),i},t.prototype.onNewColumnsLoaded=function(e){var r=this;if(!(e.source!=="gridInitializing"||!this.dataTypeService.isPendingInference())){this.ctrl.setInputDisabled(!0);var i=this.addManagedListener(this.eventService,P.EVENT_DATA_TYPES_INFERRED,function(){i==null||i(),r.ctrl.setInputDisabled(!1)})}},Vc([E("valueService")],t.prototype,"valueService",void 0),Vc([E("columnModel")],t.prototype,"columnModel",void 0),Vc([E("dataTypeService")],t.prototype,"dataTypeService",void 0),Vc([E("valueParserService")],t.prototype,"valueParserService",void 0),Vc([E("rowModel")],t.prototype,"rowModel",void 0),Vc([E("advancedFilterExpressionService")],t.prototype,"advancedFilterExpressionService",void 0),Vc([z],t.prototype,"postConstruct",null),t=Vc([ae("advancedFilterService")],t),t}(q),zke="31.1.1",Kke={version:zke,moduleName:fe.AdvancedFilterModule,beans:[Uke,Bke],agStackComponents:[{componentName:"agAdvancedFilter",componentClass:OV}],dependantModules:[In]},Yke=function(){var n=function(t,e){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])},n(t,e)};return function(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");n(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}}(),Gn=function(n,t,e,r){var i=arguments.length,o=i<3?t:r===null?r=Object.getOwnPropertyDescriptor(t,e):r,a;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(n,t,e,r);else for(var s=n.length-1;s>=0;s--)(a=n[s])&&(o=(i<3?a(o):i>3?a(t,e,o):a(t,e))||o);return i>3&&o&&Object.defineProperty(t,e,o),o},Xke=function(n,t){var e=typeof Symbol=="function"&&n[Symbol.iterator];if(!e)return n;var r=e.call(n),i,o=[],a;try{for(;(t===void 0||t-- >0)&&!(i=r.next()).done;)o.push(i.value)}catch(s){a={error:s}}finally{try{i&&!i.done&&(e=r.return)&&e.call(r)}finally{if(a)throw a.error}}return o},qke=function(n,t,e){if(e||arguments.length===2)for(var r=0,i=t.length,o;r<i;r++)(o||!(r in t))&&(o||(o=Array.prototype.slice.call(t,0,r)),o[r]=t[r]);return n.concat(o||Array.prototype.slice.call(t))},xU=function(n){var t=typeof Symbol=="function"&&Symbol.iterator,e=t&&n[t],r=0;if(e)return e.call(n);if(n&&typeof n.length=="number")return{next:function(){return n&&r>=n.length&&(n=void 0),{value:n&&n[r++],done:!n}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")},zD="paste",KD="dragCopy",EU="clipboard",th;(function(n){n[n.CellRange=0]="CellRange",n[n.SelectedRows=1]="SelectedRows",n[n.FocusedCell=2]="FocusedCell"})(th||(th={}));var bU=function(n){return"AG Grid: Unable to use the Clipboard API (navigator.clipboard.".concat(n,"()). ")+"The reason why it could not be used has been logged in the previous line. For this reason the grid has defaulted to using a workaround which doesn't perform as well. Either fix why Clipboard API is blocked, OR stop this message from appearing by setting grid property suppressClipboardApi=true (which will default the grid to using the workaround rather than the API."},Zke=function(n){Yke(t,n);function t(){var r=n!==null&&n.apply(this,arguments)||this;return r.lastPasteOperationTime=0,r.navigatorApiFailed=!1,r}e=t,t.prototype.init=function(){var r=this;this.logger=this.loggerFactory.create("ClipboardService"),this.rowModel.getType()==="clientSide"&&(this.clientSideRowModel=this.rowModel),this.ctrlsService.whenReady(function(i){r.gridCtrl=i.gridCtrl})},t.prototype.pasteFromClipboard=function(){var r=this;this.logger.log("pasteFromClipboard");var i=!this.gridOptionsService.get("suppressClipboardApi");i&&!this.navigatorApiFailed&&navigator.clipboard&&navigator.clipboard.readText?navigator.clipboard.readText().then(this.processClipboardData.bind(this)).catch(function(o){D.doOnce(function(){console.warn(o),console.warn(bU("readText"))},"clipboardApiError"),r.navigatorApiFailed=!0,r.pasteFromClipboardLegacy()}):this.pasteFromClipboardLegacy()},t.prototype.pasteFromClipboardLegacy=function(){var r=this,i=!1,o=function(a){var s=new Date().getTime();s-r.lastPasteOperationTime<50&&(i=!0,a.preventDefault()),r.lastPasteOperationTime=s};this.executeOnTempElement(function(a){a.addEventListener("paste",o),a.focus({preventScroll:!0})},function(a){var s=a.value;i?r.refocusLastFocusedCell():r.processClipboardData(s),a.removeEventListener("paste",o)})},t.prototype.refocusLastFocusedCell=function(){var r=this.focusService.getFocusedCell();r&&this.focusService.setFocusedCell({rowIndex:r.rowIndex,column:r.column,rowPinned:r.rowPinned,forceBrowserFocus:!0})},t.prototype.getClipboardDelimiter=function(){var r=this.gridOptionsService.get("clipboardDelimiter");return D.exists(r)?r:"	"},t.prototype.processClipboardData=function(r){var i=this;if(r!=null){var o=e.stringToArray(r,this.getClipboardDelimiter()),a=this.gridOptionsService.getCallback("processDataFromClipboard");if(a&&(o=a({data:o})),o!=null){this.gridOptionsService.get("suppressLastEmptyLineOnPaste")&&this.removeLastLineIfBlank(o);var s=function(l,u,c,d){var p=i.rangeService&&i.rangeService.isMoreThanOneCell(),h=p&&!i.hasOnlyOneValueToPaste(o);h?i.pasteIntoActiveRange(o,l,u,d):i.pasteStartingFromFocusedCell(o,l,u,c,d)};this.doPasteOperation(s)}}},t.stringToArray=function(r,i){i===void 0&&(i=",");var o=[],a=function(v){return v==="\r"||v===`
`},s=!1;if(r==="")return[[""]];for(var l=function(v,g,y){var m=r[y-1],C=r[y],S=r[y+1],w=function(){o[v]||(o[v]=[]),o[v][g]||(o[v][g]="")};if(w(),C==='"'&&(s?S==='"'?(o[v][g]+='"',y++):s=!1:(m===void 0||m===i||a(m))&&(s=!0)),!s&&C!=='"'){if(C===i)return g++,w(),u=v,c=g,d=y,"continue";if(a(C))return g=0,v++,w(),C==="\r"&&S===`
`&&y++,u=v,c=g,d=y,"continue"}o[v][g]+=C,u=v,c=g,d=y},u,c,d,p=0,h=0,f=0;f<r.length;f++)l(p,h,f),p=u,h=c,f=d;return o},t.prototype.doPasteOperation=function(r){var i="clipboard";this.eventService.dispatchEvent({type:P.EVENT_PASTE_START,source:i});var o;if(this.clientSideRowModel){var a=this.gridOptionsService.get("aggregateOnlyChangedColumns");o=new Bg(a,this.clientSideRowModel.getRootNode())}var s={},l=[],u=this.focusService.getFocusedCell();r(s,l,u,o);var c=qke([],Xke(l),!1);o&&(this.clientSideRowModel.doAggregate(o),o.forEachChangedNodeDepthFirst(function(p){c.push(p)})),this.rowRenderer.refreshCells({rowNodes:c}),this.dispatchFlashCells(s),this.fireRowChanged(l),this.refocusLastFocusedCell();var d={type:P.EVENT_PASTE_END,source:i};this.eventService.dispatchEvent(d)},t.prototype.pasteIntoActiveRange=function(r,i,o,a){var s=this,l=this.getRangeSize()%r.length!=0,u=0,c=0,d=function(p,h,f,v){var g=v-u>=r.length;if(g){if(l)return;u+=c,c=0}var y=r[v-u];o.push(h);var m=s.gridOptionsService.getCallback("processCellFromClipboard");f.forEach(function(C,S){if(!(!C.isCellEditable(h)||C.isSuppressPaste(h))){S>=y.length&&(S=S%y.length);var w=s.processCell(h,C,y[S],KD,m,!0);h.setDataValue(C,w,zD),a&&a.addParentNode(h.parent,[C]);var _=p.rowIndex,x=p.rowPinned,b=s.cellPositionUtils.createIdFromValues({rowIndex:_,column:C,rowPinned:x});i[b]=!0}}),c++};this.iterateActiveRanges(!1,d)},t.prototype.pasteStartingFromFocusedCell=function(r,i,o,a,s){if(a){var l={rowIndex:a.rowIndex,rowPinned:a.rowPinned},u=this.columnModel.getDisplayedColumnsStartingAt(a.column);this.isPasteSingleValueIntoRange(r)?this.pasteSingleValueIntoRange(r,o,i,s):this.pasteMultipleValues(r,l,o,u,i,EU,s)}},t.prototype.isPasteSingleValueIntoRange=function(r){return this.hasOnlyOneValueToPaste(r)&&this.rangeService!=null&&!this.rangeService.isEmpty()},t.prototype.pasteSingleValueIntoRange=function(r,i,o,a){var s=this,l=r[0][0],u=function(c,d,p){i.push(d),p.forEach(function(h){return s.updateCellValue(d,h,l,o,EU,a)})};this.iterateActiveRanges(!1,u)},t.prototype.hasOnlyOneValueToPaste=function(r){return r.length===1&&r[0].length===1},t.prototype.copyRangeDown=function(){var r=this;if(!(!this.rangeService||this.rangeService.isEmpty())){var i=[],o=function(a,s,l,u){var c=r.gridOptionsService.getCallback("processCellForClipboard"),d=r.gridOptionsService.getCallback("processCellFromClipboard"),p=function(h,f,v){i.length?(s.push(f),v.forEach(function(g,y){if(!(!g.isCellEditable(f)||g.isSuppressPaste(f))){var m=r.processCell(f,g,i[y],KD,d,!0);f.setDataValue(g,m,zD),u&&u.addParentNode(f.parent,[g]);var C=h.rowIndex,S=h.rowPinned,w=r.cellPositionUtils.createIdFromValues({rowIndex:C,column:g,rowPinned:S});a[w]=!0}})):v.forEach(function(g){var y=r.processCell(f,g,r.valueService.getValue(g,f),KD,c,!1,!0);i.push(y)})};r.iterateActiveRanges(!0,p)};this.doPasteOperation(o)}},t.prototype.removeLastLineIfBlank=function(r){var i=D.last(r),o=i&&i.length===1&&i[0]==="";if(o){if(r.length===1)return;D.removeFromArray(r,i)}},t.prototype.fireRowChanged=function(r){var i=this;this.gridOptionsService.get("editType")==="fullRow"&&r.forEach(function(o){var a={type:P.EVENT_ROW_VALUE_CHANGED,node:o,data:o.data,rowIndex:o.rowIndex,rowPinned:o.rowPinned};i.eventService.dispatchEvent(a)})},t.prototype.pasteMultipleValues=function(r,i,o,a,s,l,u){var c=this,d=i,p=this.clientSideRowModel!=null&&!this.gridOptionsService.get("enableGroupEdit")&&!this.gridOptionsService.get("treeData"),h=function(){for(;;){if(!d)return null;var f=c.rowPositionUtils.getRowNode(d);if(d=c.cellNavigationService.getRowBelow({rowPinned:d.rowPinned,rowIndex:d.rowIndex}),f==null)return null;var v=f.detail||f.footer||p&&f.group;if(!v)return f}};r.forEach(function(f){var v=h();v&&(f.forEach(function(g,y){return c.updateCellValue(v,a[y],g,s,l,u)}),o.push(v))})},t.prototype.updateCellValue=function(r,i,o,a,s,l){if(!(!r||!i||!i.isCellEditable(r)||i.isSuppressPaste(r))&&!(r.group&&i.isValueActive())){var u=this.processCell(r,i,o,s,this.gridOptionsService.getCallback("processCellFromClipboard"),!0);r.setDataValue(i,u,zD);var c=r.rowIndex,d=r.rowPinned,p=this.cellPositionUtils.createIdFromValues({rowIndex:c,column:i,rowPinned:d});a[p]=!0,l&&l.addParentNode(r.parent,[i])}},t.prototype.copyToClipboard=function(r){r===void 0&&(r={}),this.copyOrCutToClipboard(r)},t.prototype.cutToClipboard=function(r,i){if(r===void 0&&(r={}),i===void 0&&(i="api"),!this.gridOptionsService.get("suppressCutToClipboard")){var o={type:P.EVENT_CUT_START,source:i};this.eventService.dispatchEvent(o),this.copyOrCutToClipboard(r,!0);var a={type:P.EVENT_CUT_END,source:i};this.eventService.dispatchEvent(a)}},t.prototype.copyOrCutToClipboard=function(r,i){var o=r.includeHeaders,a=r.includeGroupHeaders;this.logger.log("copyToClipboard: includeHeaders = ".concat(o)),o==null&&(o=this.gridOptionsService.get("copyHeadersToClipboard")),a==null&&(a=this.gridOptionsService.get("copyGroupHeadersToClipboard"));var s={includeHeaders:o,includeGroupHeaders:a},l=!this.gridOptionsService.get("suppressCopyRowsToClipboard"),u=null;this.rangeService&&!this.rangeService.isEmpty()&&!this.shouldSkipSingleCellRange()?(this.copySelectedRangeToClipboard(s),u=th.CellRange):l&&!this.selectionService.isEmpty()?(this.copySelectedRowsToClipboard(s),u=th.SelectedRows):this.focusService.isAnyCellFocused()&&(this.copyFocusedCellToClipboard(s),u=th.FocusedCell),i&&u!==null&&this.clearCellsAfterCopy(u)},t.prototype.clearCellsAfterCopy=function(r){if(this.eventService.dispatchEvent({type:P.EVENT_KEY_SHORTCUT_CHANGED_CELL_START}),r===th.CellRange)this.rangeService.clearCellRangeCellValues({cellEventSource:"clipboardService"});else if(r===th.SelectedRows)this.clearSelectedRows();else{var i=this.focusService.getFocusedCell();if(i==null)return;var o=this.rowPositionUtils.getRowNode(i);o&&this.clearCellValue(o,i.column)}this.eventService.dispatchEvent({type:P.EVENT_KEY_SHORTCUT_CHANGED_CELL_END})},t.prototype.clearSelectedRows=function(){var r,i,o,a,s=this.selectionService.getSelectedNodes(),l=this.columnModel.getAllDisplayedColumns();try{for(var u=xU(s),c=u.next();!c.done;c=u.next()){var d=c.value;try{for(var p=(o=void 0,xU(l)),h=p.next();!h.done;h=p.next()){var f=h.value;this.clearCellValue(d,f)}}catch(v){o={error:v}}finally{try{h&&!h.done&&(a=p.return)&&a.call(p)}finally{if(o)throw o.error}}}}catch(v){r={error:v}}finally{try{c&&!c.done&&(i=u.return)&&i.call(u)}finally{if(r)throw r.error}}},t.prototype.clearCellValue=function(r,i){i.isCellEditable(r)&&r.setDataValue(i,null,"clipboardService")},t.prototype.shouldSkipSingleCellRange=function(){return this.gridOptionsService.get("suppressCopySingleCellRanges")&&!this.rangeService.isMoreThanOneCell()},t.prototype.iterateActiveRanges=function(r,i,o){var a=this;if(!(!this.rangeService||this.rangeService.isEmpty())){var s=this.rangeService.getCellRanges();r?this.iterateActiveRange(s[0],i,o,!0):s.forEach(function(l,u){return a.iterateActiveRange(l,i,o,u===s.length-1)})}},t.prototype.iterateActiveRange=function(r,i,o,a){if(this.rangeService){var s=this.rangeService.getRangeStartRow(r),l=this.rangeService.getRangeEndRow(r);o&&r.columns&&o(r.columns);for(var u=0,c=!1;!c&&s!=null;){var d=this.rowPositionUtils.getRowNode(s);c=this.rowPositionUtils.sameRow(s,l),i(s,d,r.columns,u++,c&&a),s=this.cellNavigationService.getRowBelow(s)}}},t.prototype.copySelectedRangeToClipboard=function(r){if(r===void 0&&(r={}),!(!this.rangeService||this.rangeService.isEmpty())){var i=this.rangeService.areAllRangesAbleToMerge(),o=i?this.buildDataFromMergedRanges(r):this.buildDataFromRanges(r),a=o.data,s=o.cellsToFlash;this.copyDataToClipboard(a),this.dispatchFlashCells(s)}},t.prototype.buildDataFromMergedRanges=function(r){var i=this,o=new Set,a=this.rangeService.getCellRanges(),s=new Map,l=[],u={};a.forEach(function(h){h.columns.forEach(function(y){return o.add(y)});var f=i.getRangeRowPositionsAndCellsToFlash(h),v=f.rowPositions,g=f.cellsToFlash;v.forEach(function(y){var m="".concat(y.rowIndex,"-").concat(y.rowPinned||"null");s.get(m)||(s.set(m,!0),l.push(y))}),Object.assign(u,g)});var c=this.columnModel.getAllDisplayedColumns(),d=Array.from(o);d.sort(function(h,f){var v=c.indexOf(h),g=c.indexOf(f);return v-g});var p=this.buildExportParams({columns:d,rowPositions:l,includeHeaders:r.includeHeaders,includeGroupHeaders:r.includeGroupHeaders});return{data:p,cellsToFlash:u}},t.prototype.buildDataFromRanges=function(r){var i=this,o=this.rangeService.getCellRanges(),a=[],s={};return o.forEach(function(l){var u=i.getRangeRowPositionsAndCellsToFlash(l),c=u.rowPositions,d=u.cellsToFlash;Object.assign(s,d),a.push(i.buildExportParams({columns:l.columns,rowPositions:c,includeHeaders:r.includeHeaders,includeGroupHeaders:r.includeGroupHeaders}))}),{data:a.join(`
`),cellsToFlash:s}},t.prototype.getRangeRowPositionsAndCellsToFlash=function(r){for(var i=this,o=[],a={},s=this.rangeService.getRangeStartRow(r),l=this.rangeService.getRangeEndRow(r),u=s;u&&(o.push(u),r.columns.forEach(function(c){var d=u,p=d.rowIndex,h=d.rowPinned,f=i.cellPositionUtils.createIdFromValues({rowIndex:p,column:c,rowPinned:h});a[f]=!0}),!this.rowPositionUtils.sameRow(u,l));)u=this.cellNavigationService.getRowBelow(u);return{rowPositions:o,cellsToFlash:a}},t.prototype.getCellsToFlashFromRowNodes=function(r){for(var i=this.columnModel.getAllDisplayedColumns(),o={},a=0;a<r.length;a++){var s=r[a],l=s.rowIndex,u=s.rowPinned;if(l!=null)for(var c=0;c<i.length;c++){var d=i[c],p=this.cellPositionUtils.createIdFromValues({rowIndex:l,column:d,rowPinned:u});o[p]=!0}}return o},t.prototype.copyFocusedCellToClipboard=function(r){var i;r===void 0&&(r={});var o=this.focusService.getFocusedCell();if(o!=null){var a=this.cellPositionUtils.createId(o),s={rowPinned:o.rowPinned,rowIndex:o.rowIndex},l=o.column,u=this.buildExportParams({columns:[l],rowPositions:[s],includeHeaders:r.includeHeaders,includeGroupHeaders:r.includeGroupHeaders});this.copyDataToClipboard(u),this.dispatchFlashCells((i={},i[a]=!0,i))}},t.prototype.copySelectedRowsToClipboard=function(r){r===void 0&&(r={});var i=r.columnKeys,o=r.includeHeaders,a=r.includeGroupHeaders,s=this.buildExportParams({columns:i,includeHeaders:o,includeGroupHeaders:a});this.copyDataToClipboard(s);var l=this.selectionService.getSelectedNodes()||[];this.dispatchFlashCells(this.getCellsToFlashFromRowNodes(l))},t.prototype.buildExportParams=function(r){var i=this,o=r.columns,a=r.rowPositions,s=r.includeHeaders,l=s===void 0?!1:s,u=r.includeGroupHeaders,c=u===void 0?!1:u,d={columnKeys:o,rowPositions:a,skipColumnHeaders:!l,skipColumnGroupHeaders:!c,suppressQuotes:!0,columnSeparator:this.getClipboardDelimiter(),onlySelected:!a,processCellCallback:this.gridOptionsService.getCallback("processCellForClipboard"),processRowGroupCallback:function(p){return i.processRowGroupCallback(p)},processHeaderCallback:this.gridOptionsService.getCallback("processHeaderForClipboard"),processGroupHeaderCallback:this.gridOptionsService.getCallback("processGroupHeaderForClipboard")};return this.csvCreator.getDataAsCsv(d,!0)},t.prototype.processRowGroupCallback=function(r){var i=this,o=r.node,a=r.column,s=this.gridOptionsService.get("treeData"),l=this.gridOptionsService.get("suppressGroupMaintainValueType"),u=function(){var f,v;if(s||l||!a)return o.key;var g=(f=o.groupData)===null||f===void 0?void 0:f[a.getId()];return!g||!o.rowGroupColumn||o.rowGroupColumn.getColDef().useValueFormatterForExport===!1?g:(v=i.valueFormatterService.formatValue(o.rowGroupColumn,o,g))!==null&&v!==void 0?v:g},c=u();if(r.node.footer){var d="";c&&c.length&&(d=" ".concat(c)),c="Total".concat(d)}var p=this.gridOptionsService.getCallback("processCellForClipboard");if(p){var h=o.rowGroupColumn;return!h&&o.footer&&o.level===-1&&(h=this.columnModel.getRowGroupColumns()[0]),p({value:c,node:o,column:h,type:"clipboard",formatValue:function(f){var v;return(v=i.valueFormatterService.formatValue(h,o,f))!==null&&v!==void 0?v:f},parseValue:function(f){return i.valueParserService.parseValue(h,o,f,i.valueService.getValue(h,o))}})}return c},t.prototype.dispatchFlashCells=function(r){var i=this;window.setTimeout(function(){var o={type:P.EVENT_FLASH_CELLS,cells:r};i.eventService.dispatchEvent(o)},0)},t.prototype.processCell=function(r,i,o,a,s,l,u){var c=this,d;if(s){var p={column:i,node:r,value:o,type:a,formatValue:function(h){var f;return(f=c.valueFormatterService.formatValue(i,r??null,h))!==null&&f!==void 0?f:h},parseValue:function(h){return c.valueParserService.parseValue(i,r??null,h,c.valueService.getValue(i,r))}};return s(p)}return l&&i.getColDef().useValueParserForImport!==!1?this.valueParserService.parseValue(i,r??null,o,this.valueService.getValue(i,r)):u&&i.getColDef().useValueFormatterForExport!==!1&&(d=this.valueFormatterService.formatValue(i,r??null,o))!==null&&d!==void 0?d:o},t.prototype.copyDataToClipboard=function(r){var i=this,o=this.gridOptionsService.getCallback("sendToClipboard");if(o){o({data:r});return}var a=!this.gridOptionsService.get("suppressClipboardApi");if(a&&navigator.clipboard){navigator.clipboard.writeText(r).catch(function(s){D.doOnce(function(){console.warn(s),console.warn(bU("writeText"))},"clipboardApiError"),i.copyDataToClipboardLegacy(r)});return}this.copyDataToClipboardLegacy(r)},t.prototype.copyDataToClipboardLegacy=function(r){var i=this;this.executeOnTempElement(function(o){var a=i.gridOptionsService.getDocument(),s=a.activeElement;o.value=r||" ",o.select(),o.focus({preventScroll:!0});var l=a.execCommand("copy");l||console.warn("AG Grid: Browser did not allow document.execCommand('copy'). Ensure api.copySelectedRowsToClipboard() is invoked via a user event, i.e. button click, otherwise the browser will prevent it for security reasons."),s!=null&&s.focus!=null&&s.focus({preventScroll:!0})})},t.prototype.executeOnTempElement=function(r,i){var o=this.gridOptionsService.getDocument(),a=o.createElement("textarea");a.style.width="1px",a.style.height="1px",a.style.top=o.documentElement.scrollTop+"px",a.style.left=o.documentElement.scrollLeft+"px",a.style.position="absolute",a.style.opacity="0";var s=this.gridCtrl.getGui();s.appendChild(a);try{r(a)}catch{console.warn("AG Grid: Browser does not support document.execCommand('copy') for clipboard operations")}i?window.setTimeout(function(){i(a),s.removeChild(a)},100):s.removeChild(a)},t.prototype.getRangeSize=function(){var r=this.rangeService.getCellRanges(),i=0,o=0;return r.length>0&&(i=this.rangeService.getRangeStartRow(r[0]).rowIndex,o=this.rangeService.getRangeEndRow(r[0]).rowIndex),i-o+1};var e;return Gn([E("csvCreator")],t.prototype,"csvCreator",void 0),Gn([E("loggerFactory")],t.prototype,"loggerFactory",void 0),Gn([E("selectionService")],t.prototype,"selectionService",void 0),Gn([qe("rangeService")],t.prototype,"rangeService",void 0),Gn([E("rowModel")],t.prototype,"rowModel",void 0),Gn([E("ctrlsService")],t.prototype,"ctrlsService",void 0),Gn([E("valueService")],t.prototype,"valueService",void 0),Gn([E("focusService")],t.prototype,"focusService",void 0),Gn([E("rowRenderer")],t.prototype,"rowRenderer",void 0),Gn([E("columnModel")],t.prototype,"columnModel",void 0),Gn([E("cellNavigationService")],t.prototype,"cellNavigationService",void 0),Gn([E("cellPositionUtils")],t.prototype,"cellPositionUtils",void 0),Gn([E("rowPositionUtils")],t.prototype,"rowPositionUtils",void 0),Gn([E("valueFormatterService")],t.prototype,"valueFormatterService",void 0),Gn([E("valueParserService")],t.prototype,"valueParserService",void 0),Gn([z],t.prototype,"init",null),t=e=Gn([ae("clipboardService")],t),t}(q),Qke="31.1.1",Jke={version:Qke,moduleName:fe.ClipboardModule,beans:[Zke],dependantModules:[In,IT]},eGe=function(){var n=function(t,e){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])},n(t,e)};return function(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");n(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}}(),sm=function(n,t,e,r){var i=arguments.length,o=i<3?t:r===null?r=Object.getOwnPropertyDescriptor(t,e):r,a;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(n,t,e,r);else for(var s=n.length-1;s>=0;s--)(a=n[s])&&(o=(i<3?a(o):i>3?a(t,e,o):a(t,e))||o);return i>3&&o&&Object.defineProperty(t,e,o),o},Rl;(function(n){n[n.EXPANDED=0]="EXPANDED",n[n.COLLAPSED=1]="COLLAPSED",n[n.INDETERMINATE=2]="INDETERMINATE"})(Rl||(Rl={}));var tGe=function(n){eGe(t,n);function t(){return n.call(this,t.TEMPLATE)||this}return t.prototype.postConstruct=function(){var e=this;this.createExpandIcons(),this.addManagedListener(this.eExpand,"click",this.onExpandClicked.bind(this)),this.addManagedListener(this.eExpand,"keydown",function(i){i.key===U.SPACE&&(i.preventDefault(),e.onExpandClicked())}),this.addManagedListener(this.eSelect.getInputElement(),"click",this.onSelectClicked.bind(this)),this.addManagedPropertyListener("functionsReadOnly",function(){return e.onFunctionsReadOnlyPropChanged()}),this.eFilterTextField.setAutoComplete(!1).onValueChange(function(){return e.onFilterTextChanged()}),this.addManagedListener(this.eFilterTextField.getInputElement(),"keydown",this.onMiniFilterKeyDown.bind(this)),this.addManagedListener(this.eventService,P.EVENT_NEW_COLUMNS_LOADED,this.showOrHideOptions.bind(this));var r=this.localeService.getLocaleTextFunc();this.eSelect.setInputAriaLabel(r("ariaColumnSelectAll","Toggle Select All Columns")),this.eFilterTextField.setInputAriaLabel(r("ariaFilterColumnsInput","Filter Columns Input")),this.activateTabIndex([this.eExpand])},t.prototype.onFunctionsReadOnlyPropChanged=function(){var e=this.gridOptionsService.get("functionsReadOnly");this.eSelect.setReadOnly(e),this.eSelect.addOrRemoveCssClass("ag-column-select-column-readonly",e)},t.prototype.init=function(e){this.params=e;var r=this.gridOptionsService.get("functionsReadOnly");this.eSelect.setReadOnly(r),this.eSelect.addOrRemoveCssClass("ag-column-select-column-readonly",r),this.columnModel.isReady()&&this.showOrHideOptions()},t.prototype.createExpandIcons=function(){this.eExpand.appendChild(this.eExpandChecked=D.createIconNoSpan("columnSelectOpen",this.gridOptionsService)),this.eExpand.appendChild(this.eExpandUnchecked=D.createIconNoSpan("columnSelectClosed",this.gridOptionsService)),this.eExpand.appendChild(this.eExpandIndeterminate=D.createIconNoSpan("columnSelectIndeterminate",this.gridOptionsService)),this.setExpandState(Rl.EXPANDED)},t.prototype.showOrHideOptions=function(){var e=!this.params.suppressColumnFilter,r=!this.params.suppressColumnSelectAll,i=!this.params.suppressColumnExpandAll,o=this.columnModel.isPrimaryColumnGroupsPresent(),a=this.localeService.getLocaleTextFunc();this.eFilterTextField.setInputPlaceholder(a("searchOoo","Search...")),D.setDisplayed(this.eFilterTextField.getGui(),e),D.setDisplayed(this.eSelect.getGui(),r),D.setDisplayed(this.eExpand,i&&o)},t.prototype.onFilterTextChanged=function(){var e=this;this.onFilterTextChangedDebounced||(this.onFilterTextChangedDebounced=D.debounce(function(){var r=e.eFilterTextField.getValue();e.dispatchEvent({type:"filterChanged",filterText:r})},t.DEBOUNCE_DELAY)),this.onFilterTextChangedDebounced()},t.prototype.onMiniFilterKeyDown=function(e){var r=this;e.key===U.ENTER&&setTimeout(function(){return r.onSelectClicked()},t.DEBOUNCE_DELAY)},t.prototype.onSelectClicked=function(){this.dispatchEvent({type:this.selectState?"unselectAll":"selectAll"})},t.prototype.onExpandClicked=function(){this.dispatchEvent({type:this.expandState===Rl.EXPANDED?"collapseAll":"expandAll"})},t.prototype.setExpandState=function(e){this.expandState=e,D.setDisplayed(this.eExpandChecked,this.expandState===Rl.EXPANDED),D.setDisplayed(this.eExpandUnchecked,this.expandState===Rl.COLLAPSED),D.setDisplayed(this.eExpandIndeterminate,this.expandState===Rl.INDETERMINATE)},t.prototype.setSelectionState=function(e){this.selectState=e,this.eSelect.setValue(this.selectState)},t.DEBOUNCE_DELAY=300,t.TEMPLATE=`<div class="ag-column-select-header" role="presentation">
            <div ref="eExpand" class="ag-column-select-header-icon"></div>
            <ag-checkbox ref="eSelect" class="ag-column-select-header-checkbox"></ag-checkbox>
            <ag-input-text-field class="ag-column-select-header-filter-wrapper" ref="eFilterTextField"></ag-input-text-field>
        </div>`,sm([E("columnModel")],t.prototype,"columnModel",void 0),sm([$("eExpand")],t.prototype,"eExpand",void 0),sm([$("eSelect")],t.prototype,"eSelect",void 0),sm([$("eFilterTextField")],t.prototype,"eFilterTextField",void 0),sm([z],t.prototype,"postConstruct",null),t}(de),jm=function(){function n(t,e,r,i,o){i===void 0&&(i=!1),this.eventService=new Hs,this.displayName=t,this.dept=r,this.group=i,i?(this.columnGroup=e,this.expanded=o,this.children=[]):this.column=e}return n.prototype.isGroup=function(){return this.group},n.prototype.getDisplayName=function(){return this.displayName},n.prototype.getColumnGroup=function(){return this.columnGroup},n.prototype.getColumn=function(){return this.column},n.prototype.getDept=function(){return this.dept},n.prototype.isExpanded=function(){return!!this.expanded},n.prototype.getChildren=function(){return this.children},n.prototype.isPassesFilter=function(){return this.passesFilter},n.prototype.setExpanded=function(t){t!==this.expanded&&(this.expanded=t,this.eventService.dispatchEvent({type:n.EVENT_EXPANDED_CHANGED}))},n.prototype.setPassesFilter=function(t){this.passesFilter=t},n.prototype.addEventListener=function(t,e){this.eventService.addEventListener(t,e)},n.prototype.removeEventListener=function(t,e){this.eventService.removeEventListener(t,e)},n.EVENT_EXPANDED_CHANGED="expandedChanged",n}(),rGe=function(){var n=function(t,e){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])},n(t,e)};return function(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");n(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}}(),K_=function(n,t,e,r){var i=arguments.length,o=i<3?t:r===null?r=Object.getOwnPropertyDescriptor(t,e):r,a;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(n,t,e,r);else for(var s=n.length-1;s>=0;s--)(a=n[s])&&(o=(i<3?a(o):i>3?a(t,e,o):a(t,e))||o);return i>3&&o&&Object.defineProperty(t,e,o),o},nGe=function(n,t){var e=typeof Symbol=="function"&&n[Symbol.iterator];if(!e)return n;var r=e.call(n),i,o=[],a;try{for(;(t===void 0||t-- >0)&&!(i=r.next()).done;)o.push(i.value)}catch(s){a={error:s}}finally{try{i&&!i.done&&(e=r.return)&&e.call(r)}finally{if(a)throw a.error}}return o},iGe=function(n,t,e){if(e||arguments.length===2)for(var r=0,i=t.length,o;r<i;r++)(o||!(r in t))&&(o||(o=Array.prototype.slice.call(t,0,r)),o[r]=t[r]);return n.concat(o||Array.prototype.slice.call(t))},oGe=function(n){var t=typeof Symbol=="function"&&Symbol.iterator,e=t&&n[t],r=0;if(e)return e.call(n);if(n&&typeof n.length=="number")return{next:function(){return n&&r>=n.length&&(n=void 0),{value:n&&n[r++],done:!n}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")},BZ=function(n){rGe(t,n);function t(e,r,i){var o=n.call(this,'<div class="ag-menu"></div>')||this;return o.column=e,o.mouseEvent=r,o.parentEl=i,o.displayName=null,o}return t.prototype.postConstruct=function(){if(this.initializeProperties(this.column),this.buildMenuItemMap(),this.column instanceof Je?this.displayName=this.columnModel.getDisplayNameForColumn(this.column,"columnToolPanel"):this.displayName=this.columnModel.getDisplayNameForProvidedColumnGroup(null,this.column,"columnToolPanel"),this.isActive()){this.mouseEvent.preventDefault();var e=this.getMappedMenuItems();if(e.length===0)return;this.displayContextMenu(e)}},t.prototype.initializeProperties=function(e){e instanceof Pt?this.columns=e.getLeafColumns():this.columns=[e],this.allowGrouping=this.columns.some(function(r){return r.isPrimary()&&r.isAllowRowGroup()}),this.allowValues=this.columns.some(function(r){return r.isPrimary()&&r.isAllowValue()}),this.allowPivoting=this.columnModel.isPivotMode()&&this.columns.some(function(r){return r.isPrimary()&&r.isAllowPivot()})},t.prototype.buildMenuItemMap=function(){var e=this,r=this.localeService.getLocaleTextFunc();this.menuItemMap=new Map,this.menuItemMap.set("rowGroup",{allowedFunction:function(i){return i.isPrimary()&&i.isAllowRowGroup()&&!e.columnModel.isColumnGroupingLocked(i)},activeFunction:function(i){return i.isRowGroupActive()},activateLabel:function(){return"".concat(r("groupBy","Group by")," ").concat(e.displayName)},deactivateLabel:function(){return"".concat(r("ungroupBy","Un-Group by")," ").concat(e.displayName)},activateFunction:function(){var i=e.columnModel.getRowGroupColumns();e.columnModel.setRowGroupColumns(e.addColumnsToList(i),"toolPanelUi")},deActivateFunction:function(){var i=e.columnModel.getRowGroupColumns();e.columnModel.setRowGroupColumns(e.removeColumnsFromList(i),"toolPanelUi")},addIcon:"menuAddRowGroup",removeIcon:"menuRemoveRowGroup"}),this.menuItemMap.set("value",{allowedFunction:function(i){return i.isPrimary()&&i.isAllowValue()},activeFunction:function(i){return i.isValueActive()},activateLabel:function(){return r("addToValues","Add ".concat(e.displayName," to values"),[e.displayName])},deactivateLabel:function(){return r("removeFromValues","Remove ".concat(e.displayName," from values"),[e.displayName])},activateFunction:function(){var i=e.columnModel.getValueColumns();e.columnModel.setValueColumns(e.addColumnsToList(i),"toolPanelUi")},deActivateFunction:function(){var i=e.columnModel.getValueColumns();e.columnModel.setValueColumns(e.removeColumnsFromList(i),"toolPanelUi")},addIcon:"valuePanel",removeIcon:"valuePanel"}),this.menuItemMap.set("pivot",{allowedFunction:function(i){return e.columnModel.isPivotMode()&&i.isPrimary()&&i.isAllowPivot()},activeFunction:function(i){return i.isPivotActive()},activateLabel:function(){return r("addToLabels","Add ".concat(e.displayName," to labels"),[e.displayName])},deactivateLabel:function(){return r("removeFromLabels","Remove ".concat(e.displayName," from labels"),[e.displayName])},activateFunction:function(){var i=e.columnModel.getPivotColumns();e.columnModel.setPivotColumns(e.addColumnsToList(i),"toolPanelUi")},deActivateFunction:function(){var i=e.columnModel.getPivotColumns();e.columnModel.setPivotColumns(e.removeColumnsFromList(i),"toolPanelUi")},addIcon:"pivotPanel",removeIcon:"pivotPanel"})},t.prototype.addColumnsToList=function(e){return iGe([],nGe(e),!1).concat(this.columns.filter(function(r){return e.indexOf(r)===-1}))},t.prototype.removeColumnsFromList=function(e){var r=this;return e.filter(function(i){return r.columns.indexOf(i)===-1})},t.prototype.displayContextMenu=function(e){var r=this,i=this.getGui(),o=this.createBean(new jw),a=this.localeService.getLocaleTextFunc(),s=function(){};i.appendChild(o.getGui()),o.addMenuItems(e),o.addManagedListener(o,ka.EVENT_CLOSE_MENU,function(){r.parentEl.focus(),s()});var l=this.popupService.addPopup({modal:!0,eChild:i,closeOnEsc:!0,afterGuiAttached:function(){return r.focusService.focusInto(o.getGui())},ariaLabel:a("ariaLabelContextMenu","Context Menu"),closedCallback:function(u){u instanceof KeyboardEvent&&r.parentEl.focus(),r.destroyBean(o)}});l&&(s=l.hideFunc),this.popupService.positionPopupUnderMouseEvent({type:"columnContextMenu",mouseEvent:this.mouseEvent,ePopup:i})},t.prototype.isActive=function(){return this.allowGrouping||this.allowValues||this.allowPivoting},t.prototype.getMappedMenuItems=function(){var e,r,i=[],o=function(c){var d=a.columns.some(function(h){return c.allowedFunction(h)&&!c.activeFunction(h)}),p=a.columns.some(function(h){return c.allowedFunction(h)&&c.activeFunction(h)});d&&i.push({name:c.activateLabel(a.displayName),icon:D.createIconNoSpan(c.addIcon,a.gridOptionsService,null),action:function(){return c.activateFunction()}}),p&&i.push({name:c.deactivateLabel(a.displayName),icon:D.createIconNoSpan(c.removeIcon,a.gridOptionsService,null),action:function(){return c.deActivateFunction()}})},a=this;try{for(var s=oGe(this.menuItemMap.values()),l=s.next();!l.done;l=s.next()){var u=l.value;o(u)}}catch(c){e={error:c}}finally{try{l&&!l.done&&(r=s.return)&&r.call(s)}finally{if(e)throw e.error}}return i},K_([E("columnModel")],t.prototype,"columnModel",void 0),K_([E("popupService")],t.prototype,"popupService",void 0),K_([E("focusService")],t.prototype,"focusService",void 0),K_([z],t.prototype,"postConstruct",null),t}(de),aGe=function(){var n=function(t,e){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])},n(t,e)};return function(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");n(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}}(),fu=function(n,t,e,r){var i=arguments.length,o=i<3?t:r===null?r=Object.getOwnPropertyDescriptor(t,e):r,a;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(n,t,e,r);else for(var s=n.length-1;s>=0;s--)(a=n[s])&&(o=(i<3?a(o):i>3?a(t,e,o):a(t,e))||o);return i>3&&o&&Object.defineProperty(t,e,o),o},HZ=function(n){aGe(t,n);function t(e,r,i,o){var a=n.call(this)||this;return a.modelItem=e,a.allowDragging=r,a.eventType=i,a.focusWrapper=o,a.processingColumnStateChange=!1,a.modelItem=e,a.columnGroup=e.getColumnGroup(),a.columnDept=e.getDept(),a.displayName=e.getDisplayName(),a.allowDragging=r,a}return t.prototype.init=function(){var e=this;this.setTemplate(t.TEMPLATE),this.eDragHandle=D.createIconNoSpan("columnDrag",this.gridOptionsService),this.eDragHandle.classList.add("ag-drag-handle","ag-column-select-column-group-drag-handle");var r=this.cbSelect.getGui(),i=this.cbSelect.getInputElement();r.insertAdjacentElement("afterend",this.eDragHandle),i.setAttribute("tabindex","-1"),this.eLabel.innerHTML=this.displayName?this.displayName:"",this.setupExpandContract(),this.addCssClass("ag-column-select-indent-"+this.columnDept),this.addManagedListener(this.eventService,P.EVENT_COLUMN_PIVOT_MODE_CHANGED,this.onColumnStateChanged.bind(this)),this.addManagedListener(this.eLabel,"click",this.onLabelClicked.bind(this)),this.addManagedListener(this.cbSelect,P.EVENT_FIELD_VALUE_CHANGED,this.onCheckboxChanged.bind(this)),this.addManagedListener(this.modelItem,jm.EVENT_EXPANDED_CHANGED,this.onExpandChanged.bind(this)),this.addManagedListener(this.focusWrapper,"keydown",this.handleKeyDown.bind(this)),this.addManagedListener(this.focusWrapper,"contextmenu",this.onContextMenu.bind(this)),this.setOpenClosedIcons(),this.setupDragging(),this.onColumnStateChanged(),this.addVisibilityListenersToAllChildren(),this.refreshAriaExpanded(),this.refreshAriaLabel(),this.setupTooltip();var o=Jd.getToolPanelClassesFromColDef(this.columnGroup.getColGroupDef(),this.gridOptionsService,null,this.columnGroup);o.forEach(function(a){return e.addOrRemoveCssClass(a,!0)})},t.prototype.getColumns=function(){return this.columnGroup.getLeafColumns()},t.prototype.setupTooltip=function(){var e=this,r=this.columnGroup.getColGroupDef();if(r){var i=function(){var o=r.headerTooltip;e.setTooltip(o)};i(),this.addManagedListener(this.eventService,P.EVENT_NEW_COLUMNS_LOADED,i)}},t.prototype.getTooltipParams=function(){var e=n.prototype.getTooltipParams.call(this);return e.location="columnToolPanelColumnGroup",e},t.prototype.handleKeyDown=function(e){switch(e.key){case U.LEFT:e.preventDefault(),this.modelItem.setExpanded(!1);break;case U.RIGHT:e.preventDefault(),this.modelItem.setExpanded(!0);break;case U.SPACE:e.preventDefault(),this.isSelectable()&&this.onSelectAllChanged(!this.isSelected());break}},t.prototype.onContextMenu=function(e){var r=this,i=this,o=i.columnGroup,a=i.gridOptionsService;if(!a.get("functionsReadOnly")){var s=this.createBean(new BZ(o,e,this.focusWrapper));this.addDestroyFunc(function(){s.isAlive()&&r.destroyBean(s)})}},t.prototype.addVisibilityListenersToAllChildren=function(){var e=this;this.columnGroup.getLeafColumns().forEach(function(r){e.addManagedListener(r,Je.EVENT_VISIBLE_CHANGED,e.onColumnStateChanged.bind(e)),e.addManagedListener(r,Je.EVENT_VALUE_CHANGED,e.onColumnStateChanged.bind(e)),e.addManagedListener(r,Je.EVENT_PIVOT_CHANGED,e.onColumnStateChanged.bind(e)),e.addManagedListener(r,Je.EVENT_ROW_GROUP_CHANGED,e.onColumnStateChanged.bind(e))})},t.prototype.setupDragging=function(){var e=this;if(!this.allowDragging){D.setDisplayed(this.eDragHandle,!1);return}var r=!this.gridOptionsService.get("suppressDragLeaveHidesColumns"),i={type:Sr.ToolPanel,eElement:this.eDragHandle,dragItemName:this.displayName,getDefaultIconName:function(){return r?Ct.ICON_HIDE:Ct.ICON_NOT_ALLOWED},getDragItem:function(){return e.createDragItem()},onDragStarted:function(){r=!e.gridOptionsService.get("suppressDragLeaveHidesColumns");var o={type:P.EVENT_COLUMN_PANEL_ITEM_DRAG_START,column:e.columnGroup};e.eventService.dispatchEvent(o)},onDragStopped:function(){var o={type:P.EVENT_COLUMN_PANEL_ITEM_DRAG_END};e.eventService.dispatchEvent(o)},onGridEnter:function(o){r&&e.modelItemUtils.updateColumns({columns:e.columnGroup.getLeafColumns(),visibleState:o==null?void 0:o.visibleState,pivotState:o==null?void 0:o.pivotState,eventType:e.eventType})},onGridExit:function(){r&&e.onChangeCommon(!1)}};this.dragAndDropService.addDragSource(i,!0),this.addDestroyFunc(function(){return e.dragAndDropService.removeDragSource(i)})},t.prototype.createDragItem=function(){var e=this,r=this.columnGroup.getLeafColumns(),i={},o={};return r.forEach(function(a){var s=a.getId();i[s]=a.isVisible(),o[s]=e.modelItemUtils.createPivotState(a)}),{columns:r,visibleState:i,pivotState:o}},t.prototype.setupExpandContract=function(){this.eGroupClosedIcon.appendChild(D.createIcon("columnSelectClosed",this.gridOptionsService,null)),this.eGroupOpenedIcon.appendChild(D.createIcon("columnSelectOpen",this.gridOptionsService,null)),this.addManagedListener(this.eGroupClosedIcon,"click",this.onExpandOrContractClicked.bind(this)),this.addManagedListener(this.eGroupOpenedIcon,"click",this.onExpandOrContractClicked.bind(this));var e=new jr(this.eColumnGroupIcons,!0);this.addManagedListener(e,jr.EVENT_TAP,this.onExpandOrContractClicked.bind(this)),this.addDestroyFunc(e.destroy.bind(e))},t.prototype.onLabelClicked=function(){var e=!this.cbSelect.getValue();this.onChangeCommon(e)},t.prototype.onCheckboxChanged=function(e){this.onChangeCommon(e.selected)},t.prototype.getVisibleLeafColumns=function(){var e=[],r=function(i){i.forEach(function(o){o.isPassesFilter()&&(o.isGroup()?r(o.getChildren()):e.push(o.getColumn()))})};return r(this.modelItem.getChildren()),e},t.prototype.onChangeCommon=function(e){this.refreshAriaLabel(),!this.processingColumnStateChange&&this.modelItemUtils.selectAllChildren(this.modelItem.getChildren(),e,this.eventType)},t.prototype.refreshAriaLabel=function(){var e=this.localeService.getLocaleTextFunc(),r=e("ariaColumnGroup","Column Group"),i=this.cbSelect.getValue(),o=i===void 0?e("ariaIndeterminate","indeterminate"):i?e("ariaVisible","visible"):e("ariaHidden","hidden"),a=e("ariaToggleVisibility","Press SPACE to toggle visibility");D.setAriaLabel(this.focusWrapper,"".concat(this.displayName," ").concat(r)),this.cbSelect.setInputAriaLabel("".concat(a," (").concat(o,")")),D.setAriaDescribedBy(this.focusWrapper,this.cbSelect.getInputElement().id)},t.prototype.onColumnStateChanged=function(){var e=this.workOutSelectedValue(),r=this.workOutReadOnlyValue();this.processingColumnStateChange=!0,this.cbSelect.setValue(e),this.cbSelect.setReadOnly(r),this.addOrRemoveCssClass("ag-column-select-column-group-readonly",r),this.processingColumnStateChange=!1},t.prototype.workOutSelectedValue=function(){var e=this,r=this.columnModel.isPivotMode(),i=this.getVisibleLeafColumns(),o=0,a=0;if(i.forEach(function(s){!r&&s.getColDef().lockVisible||(e.isColumnChecked(s,r)?o++:a++)}),!(o>0&&a>0))return o>0},t.prototype.workOutReadOnlyValue=function(){var e=this.columnModel.isPivotMode(),r=0;return this.columnGroup.getLeafColumns().forEach(function(i){e?i.isAnyFunctionAllowed()&&r++:i.getColDef().lockVisible||r++}),r===0},t.prototype.isColumnChecked=function(e,r){if(r){var i=e.isPivotActive(),o=e.isRowGroupActive(),a=e.isValueActive();return i||o||a}return e.isVisible()},t.prototype.onExpandOrContractClicked=function(){var e=this.modelItem.isExpanded();this.modelItem.setExpanded(!e)},t.prototype.onExpandChanged=function(){this.setOpenClosedIcons(),this.refreshAriaExpanded()},t.prototype.setOpenClosedIcons=function(){var e=this.modelItem.isExpanded();D.setDisplayed(this.eGroupClosedIcon,!e),D.setDisplayed(this.eGroupOpenedIcon,e)},t.prototype.refreshAriaExpanded=function(){D.setAriaExpanded(this.focusWrapper,this.modelItem.isExpanded())},t.prototype.getDisplayName=function(){return this.displayName},t.prototype.onSelectAllChanged=function(e){var r=this.cbSelect.getValue(),i=this.cbSelect.isReadOnly();!i&&(e&&!r||!e&&r)&&this.cbSelect.toggle()},t.prototype.isSelected=function(){return this.cbSelect.getValue()},t.prototype.isSelectable=function(){return!this.cbSelect.isReadOnly()},t.prototype.setSelected=function(e){this.cbSelect.setValue(e,!0)},t.TEMPLATE=`<div class="ag-column-select-column-group" aria-hidden="true">
            <span class="ag-column-group-icons" ref="eColumnGroupIcons" >
                <span class="ag-column-group-closed-icon" ref="eGroupClosedIcon"></span>
                <span class="ag-column-group-opened-icon" ref="eGroupOpenedIcon"></span>
            </span>
            <ag-checkbox ref="cbSelect" class="ag-column-select-checkbox"></ag-checkbox>
            <span class="ag-column-select-column-label" ref="eLabel"></span>
        </div>`,fu([E("columnModel")],t.prototype,"columnModel",void 0),fu([E("dragAndDropService")],t.prototype,"dragAndDropService",void 0),fu([E("modelItemUtils")],t.prototype,"modelItemUtils",void 0),fu([$("cbSelect")],t.prototype,"cbSelect",void 0),fu([$("eLabel")],t.prototype,"eLabel",void 0),fu([$("eGroupOpenedIcon")],t.prototype,"eGroupOpenedIcon",void 0),fu([$("eGroupClosedIcon")],t.prototype,"eGroupClosedIcon",void 0),fu([$("eColumnGroupIcons")],t.prototype,"eColumnGroupIcons",void 0),fu([z],t.prototype,"init",null),t}(de),sGe=function(){var n=function(t,e){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])},n(t,e)};return function(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");n(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}}(),YD=function(n,t,e,r){var i=arguments.length,o=i<3?t:r===null?r=Object.getOwnPropertyDescriptor(t,e):r,a;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(n,t,e,r);else for(var s=n.length-1;s>=0;s--)(a=n[s])&&(o=(i<3?a(o):i>3?a(t,e,o):a(t,e))||o);return i>3&&o&&Object.defineProperty(t,e,o),o},lGe=function(n){sGe(t,n);function t(e,r){var i=n.call(this)||this;return i.comp=e,i.virtualList=r,i}return t.prototype.postConstruct=function(){var e=this;this.createManagedBean(new xG(this.comp,this.virtualList,{dragSourceType:Sr.ToolPanel,listItemDragStartEvent:P.EVENT_COLUMN_PANEL_ITEM_DRAG_START,listItemDragEndEvent:P.EVENT_COLUMN_PANEL_ITEM_DRAG_END,eventSource:this.eventService,getCurrentDragValue:function(r){return e.getCurrentDragValue(r)},isMoveBlocked:function(r){return e.isMoveBlocked(r)},getNumRows:function(r){return r.getDisplayedColsList().length},moveItem:function(r,i){return e.moveItem(r,i)}}))},t.prototype.getCurrentDragValue=function(e){return e.column},t.prototype.isMoveBlocked=function(e){var r=this.gridOptionsService.get("suppressMovableColumns");if(r)return!0;var i=this.getCurrentColumns(e),o=i.find(function(a){var s=a.getColDef();return!!s.suppressMovable||!!s.lockPosition});return!!o},t.prototype.moveItem=function(e,r){var i=this.getTargetIndex(e,r),o=this.getCurrentColumns(e);i!=null&&this.columnModel.moveColumns(o,i,"toolPanelUi")},t.prototype.getMoveDiff=function(e,r){var i=this.columnModel.getAllGridColumns(),o=this.getCurrentColumns(e),a=o[0],s=o.length,l=i.indexOf(a);return l<r?s:0},t.prototype.getCurrentColumns=function(e){return e instanceof Pt?e.getLeafColumns():[e]},t.prototype.getTargetIndex=function(e,r){if(!r)return null;var i=r.component,o=r.position==="top",a;if(i instanceof HZ){var s=i.getColumns();a=s[0],o=!0}else a=i.getColumn();var l=this.getCurrentColumns(e);if(l.indexOf(a)!==-1)return null;var u=this.columnModel.getAllGridColumns().indexOf(a),c=o?u:u+1,d=this.getMoveDiff(e,c);return c-d},YD([E("columnModel")],t.prototype,"columnModel",void 0),YD([E("gridOptionsService")],t.prototype,"gridOptionsService",void 0),YD([z],t.prototype,"postConstruct",null),t}(q),uGe=function(){var n=function(t,e){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])},n(t,e)};return function(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");n(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}}(),If=function(n,t,e,r){var i=arguments.length,o=i<3?t:r===null?r=Object.getOwnPropertyDescriptor(t,e):r,a;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(n,t,e,r);else for(var s=n.length-1;s>=0;s--)(a=n[s])&&(o=(i<3?a(o):i>3?a(t,e,o):a(t,e))||o);return i>3&&o&&Object.defineProperty(t,e,o),o},cGe=function(n){uGe(t,n);function t(e,r,i,o){var a=n.call(this)||this;return a.allowDragging=r,a.groupsExist=i,a.focusWrapper=o,a.processingColumnStateChange=!1,a.column=e.getColumn(),a.columnDept=e.getDept(),a.displayName=e.getDisplayName(),a}return t.prototype.init=function(){var e=this;this.setTemplate(t.TEMPLATE),this.eDragHandle=D.createIconNoSpan("columnDrag",this.gridOptionsService),this.eDragHandle.classList.add("ag-drag-handle","ag-column-select-column-drag-handle");var r=this.cbSelect.getGui(),i=this.cbSelect.getInputElement();r.insertAdjacentElement("afterend",this.eDragHandle),i.setAttribute("tabindex","-1");var o=D.escapeString(this.displayName);this.eLabel.innerHTML=o;var a=this.columnDept;this.groupsExist&&this.addCssClass("ag-column-select-add-group-indent"),this.addCssClass("ag-column-select-indent-".concat(a)),this.setupDragging(),this.addManagedListener(this.eventService,P.EVENT_COLUMN_PIVOT_MODE_CHANGED,this.onColumnStateChanged.bind(this)),this.addManagedListener(this.column,Je.EVENT_VALUE_CHANGED,this.onColumnStateChanged.bind(this)),this.addManagedListener(this.column,Je.EVENT_PIVOT_CHANGED,this.onColumnStateChanged.bind(this)),this.addManagedListener(this.column,Je.EVENT_ROW_GROUP_CHANGED,this.onColumnStateChanged.bind(this)),this.addManagedListener(this.column,Je.EVENT_VISIBLE_CHANGED,this.onColumnStateChanged.bind(this)),this.addManagedListener(this.focusWrapper,"keydown",this.handleKeyDown.bind(this)),this.addManagedListener(this.focusWrapper,"contextmenu",this.onContextMenu.bind(this)),this.addManagedPropertyListener("functionsReadOnly",this.onColumnStateChanged.bind(this)),this.addManagedListener(this.cbSelect,P.EVENT_FIELD_VALUE_CHANGED,this.onCheckboxChanged.bind(this)),this.addManagedListener(this.eLabel,"click",this.onLabelClicked.bind(this)),this.onColumnStateChanged(),this.refreshAriaLabel(),this.setupTooltip();var s=Jd.getToolPanelClassesFromColDef(this.column.getColDef(),this.gridOptionsService,this.column,null);s.forEach(function(l){return e.addOrRemoveCssClass(l,!0)})},t.prototype.getColumn=function(){return this.column},t.prototype.setupTooltip=function(){var e=this,r=function(){var i=e.column.getColDef().headerTooltip;e.setTooltip(i)};r(),this.addManagedListener(this.eventService,P.EVENT_NEW_COLUMNS_LOADED,r)},t.prototype.getTooltipParams=function(){var e=n.prototype.getTooltipParams.call(this);return e.location="columnToolPanelColumn",e.colDef=this.column.getColDef(),e},t.prototype.onContextMenu=function(e){var r=this,i=this,o=i.column,a=i.gridOptionsService;if(!a.get("functionsReadOnly")){var s=this.createBean(new BZ(o,e,this.focusWrapper));this.addDestroyFunc(function(){s.isAlive()&&r.destroyBean(s)})}},t.prototype.handleKeyDown=function(e){e.key===U.SPACE&&(e.preventDefault(),this.isSelectable()&&this.onSelectAllChanged(!this.isSelected()))},t.prototype.onLabelClicked=function(){if(!this.gridOptionsService.get("functionsReadOnly")){var e=!this.cbSelect.getValue();this.onChangeCommon(e)}},t.prototype.onCheckboxChanged=function(e){this.onChangeCommon(e.selected)},t.prototype.onChangeCommon=function(e){this.cbSelect.isReadOnly()||(this.refreshAriaLabel(),!this.processingColumnStateChange&&this.modelItemUtils.setColumn(this.column,e,"toolPanelUi"))},t.prototype.refreshAriaLabel=function(){var e=this.localeService.getLocaleTextFunc(),r=e("ariaColumn","Column"),i=this.cbSelect.getValue()?e("ariaVisible","visible"):e("ariaHidden","hidden"),o=e("ariaToggleVisibility","Press SPACE to toggle visibility");D.setAriaLabel(this.focusWrapper,"".concat(this.displayName," ").concat(r)),this.cbSelect.setInputAriaLabel("".concat(o," (").concat(i,")")),D.setAriaDescribedBy(this.focusWrapper,this.cbSelect.getInputElement().id)},t.prototype.setupDragging=function(){var e=this;if(!this.allowDragging){D.setDisplayed(this.eDragHandle,!1);return}var r=!this.gridOptionsService.get("suppressDragLeaveHidesColumns"),i={type:Sr.ToolPanel,eElement:this.eDragHandle,dragItemName:this.displayName,getDefaultIconName:function(){return r?Ct.ICON_HIDE:Ct.ICON_NOT_ALLOWED},getDragItem:function(){return e.createDragItem()},onDragStarted:function(){r=!e.gridOptionsService.get("suppressDragLeaveHidesColumns");var o={type:P.EVENT_COLUMN_PANEL_ITEM_DRAG_START,column:e.column};e.eventService.dispatchEvent(o)},onDragStopped:function(){var o={type:P.EVENT_COLUMN_PANEL_ITEM_DRAG_END};e.eventService.dispatchEvent(o)},onGridEnter:function(o){r&&e.modelItemUtils.updateColumns({columns:[e.column],visibleState:o==null?void 0:o.visibleState,pivotState:o==null?void 0:o.pivotState,eventType:"toolPanelUi"})},onGridExit:function(){r&&e.onChangeCommon(!1)}};this.dragAndDropService.addDragSource(i,!0),this.addDestroyFunc(function(){return e.dragAndDropService.removeDragSource(i)})},t.prototype.createDragItem=function(){var e,r,i=this.column.getColId(),o=(e={},e[i]=this.column.isVisible(),e),a=(r={},r[i]=this.modelItemUtils.createPivotState(this.column),r);return{columns:[this.column],visibleState:o,pivotState:a}},t.prototype.onColumnStateChanged=function(){this.processingColumnStateChange=!0;var e=this.columnModel.isPivotMode();if(e){var r=this.column.isAnyFunctionActive();this.cbSelect.setValue(r)}else this.cbSelect.setValue(this.column.isVisible());var i=!0,o=!0;if(e){var a=this.gridOptionsService.get("functionsReadOnly"),s=!this.column.isAnyFunctionAllowed();i=!a&&!s,o=i}else{var l=this.column.getColDef(),u=l.enableRowGroup,c=l.enableValue,d=l.lockPosition,p=l.suppressMovable,h=l.lockVisible,f=!!u||!!c,v=!!d||!!p;i=!h,o=f||!v}this.cbSelect.setReadOnly(!i),this.eDragHandle.classList.toggle("ag-column-select-column-readonly",!o),this.addOrRemoveCssClass("ag-column-select-column-readonly",!o&&!i);var g=e&&this.gridOptionsService.get("functionsPassive");this.cbSelect.setPassive(g),this.processingColumnStateChange=!1},t.prototype.getDisplayName=function(){return this.displayName},t.prototype.onSelectAllChanged=function(e){e!==this.cbSelect.getValue()&&(this.cbSelect.isReadOnly()||this.cbSelect.toggle())},t.prototype.isSelected=function(){return this.cbSelect.getValue()},t.prototype.isSelectable=function(){return!this.cbSelect.isReadOnly()},t.prototype.isExpandable=function(){return!1},t.prototype.setExpanded=function(e){console.warn("AG Grid: can not expand a column item that does not represent a column group header")},t.TEMPLATE=`<div class="ag-column-select-column" aria-hidden="true">
            <ag-checkbox ref="cbSelect" class="ag-column-select-checkbox"></ag-checkbox>
            <span class="ag-column-select-column-label" ref="eLabel"></span>
        </div>`,If([E("columnModel")],t.prototype,"columnModel",void 0),If([E("dragAndDropService")],t.prototype,"dragAndDropService",void 0),If([E("modelItemUtils")],t.prototype,"modelItemUtils",void 0),If([$("eLabel")],t.prototype,"eLabel",void 0),If([$("cbSelect")],t.prototype,"cbSelect",void 0),If([z],t.prototype,"init",null),t}(de),dGe=function(){var n=function(t,e){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])},n(t,e)};return function(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");n(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}}(),Y_=function(n,t,e,r){var i=arguments.length,o=i<3?t:r===null?r=Object.getOwnPropertyDescriptor(t,e):r,a;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(n,t,e,r);else for(var s=n.length-1;s>=0;s--)(a=n[s])&&(o=(i<3?a(o):i>3?a(t,e,o):a(t,e))||o);return i>3&&o&&Object.defineProperty(t,e,o),o},pGe=function(){function n(t){this.items=t}return n.prototype.getRowCount=function(){return this.items.length},n.prototype.getRow=function(t){return this.items[t]},n}(),hGe="ag-column-select-list",fGe=function(n){dGe(t,n);function t(){var e=n.call(this,t.TEMPLATE)||this;return e.destroyColumnItemFuncs=[],e.hasLoadedInitialState=!1,e.isInitialState=!1,e}return t.prototype.destroyColumnTree=function(){this.allColsTree=[],this.destroyColumnItemFuncs.forEach(function(e){return e()}),this.destroyColumnItemFuncs=[]},t.prototype.init=function(e,r,i){var o=this;this.params=e,this.allowDragging=r,this.eventType=i,this.params.suppressSyncLayoutWithGrid||this.addManagedListener(this.eventService,P.EVENT_COLUMN_MOVED,this.onColumnsChanged.bind(this)),this.addManagedListener(this.eventService,P.EVENT_NEW_COLUMNS_LOADED,this.onColumnsChanged.bind(this));var a=[P.EVENT_COLUMN_PIVOT_CHANGED,P.EVENT_COLUMN_PIVOT_MODE_CHANGED,P.EVENT_COLUMN_ROW_GROUP_CHANGED,P.EVENT_COLUMN_VALUE_CHANGED,P.EVENT_COLUMN_VISIBLE,P.EVENT_NEW_COLUMNS_LOADED];a.forEach(function(l){o.addManagedListener(o.eventService,l,o.fireSelectionChangedEvent.bind(o))}),this.expandGroupsByDefault=!this.params.contractColumnSelection,this.virtualList=this.createManagedBean(new nf({cssIdentifier:"column-select",ariaRole:"tree"})),this.appendChild(this.virtualList.getGui());var s=this.virtualList.getAriaElement();D.setAriaLive(s,"assertive"),D.setAriaAtomic(s,!1),D.setAriaRelevant(s,"text"),this.virtualList.setComponentCreator(function(l,u){return D.setAriaLevel(u,l.getDept()+1),o.createComponentFromItem(l,u)}),this.columnModel.isReady()&&this.onColumnsChanged(),!this.params.suppressColumnMove&&(this.colsListPanelItemDragFeature=this.createManagedBean(new lGe(this,this.virtualList)))},t.prototype.createComponentFromItem=function(e,r){if(e.isGroup()){var i=new HZ(e,this.allowDragging,this.eventType,r);return this.getContext().createBean(i),i}var o=new cGe(e,this.allowDragging,this.groupsExist,r);return this.getContext().createBean(o),o},t.prototype.onColumnsChanged=function(){this.hasLoadedInitialState||(this.hasLoadedInitialState=!0,this.isInitialState=!!this.params.initialState);var e=this.getExpandedStates(),r=this.columnModel.isPivotMode(),i=!this.params.suppressSyncLayoutWithGrid&&!r;i?this.buildTreeFromWhatGridIsDisplaying():this.buildTreeFromProvidedColumnDefs(),this.setExpandedStates(e),this.markFilteredColumns(),this.flattenAndFilterModel(),this.isInitialState=!1},t.prototype.getDisplayedColsList=function(){return this.displayedColsList},t.prototype.getExpandedStates=function(){var e={};if(this.isInitialState){var r=this.params.initialState.expandedGroupIds;return r.forEach(function(i){e[i]=!0}),e}return this.allColsTree?(this.forEachItem(function(i){if(i.isGroup()){var o=i.getColumnGroup();o&&(e[o.getId()]=i.isExpanded())}}),e):{}},t.prototype.setExpandedStates=function(e){if(this.allColsTree){var r=this.isInitialState;this.forEachItem(function(i){if(i.isGroup()){var o=i.getColumnGroup();if(o){var a=e[o.getId()],s=a!=null;(s||r)&&i.setExpanded(!!a)}}})}},t.prototype.buildTreeFromWhatGridIsDisplaying=function(){this.colDefService.syncLayoutWithGrid(this.setColumnLayout.bind(this))},t.prototype.setColumnLayout=function(e){var r=this.colDefService.createColumnTree(e);this.buildListModel(r),this.groupsExist=e.some(function(i){return i&&typeof i.children<"u"}),this.markFilteredColumns(),this.flattenAndFilterModel()},t.prototype.buildTreeFromProvidedColumnDefs=function(){this.buildListModel(this.columnModel.getPrimaryColumnTree()),this.groupsExist=this.columnModel.isPrimaryColumnGroupsPresent()},t.prototype.buildListModel=function(e){var r=this,i=this.onColumnExpanded.bind(this),o=function(u){u.addEventListener(jm.EVENT_EXPANDED_CHANGED,i);var c=u.removeEventListener.bind(u,jm.EVENT_EXPANDED_CHANGED,i);r.destroyColumnItemFuncs.push(c)},a=function(u,c,d){u.forEach(function(p){p instanceof Pt?s(p,c,d):l(p,c,d)})},s=function(u,c,d){var p=u.getColGroupDef(),h=p&&p.suppressColumnsToolPanel;if(!h){if(u.isPadding()){a(u.getChildren(),c,d);return}var f=r.columnModel.getDisplayNameForProvidedColumnGroup(null,u,"columnToolPanel"),v=new jm(f,u,c,!0,r.expandGroupsByDefault);d.push(v),o(v),a(u.getChildren(),c+1,v.getChildren())}},l=function(u,c,d){var p=u.getColDef()&&u.getColDef().suppressColumnsToolPanel;if(!p){var h=r.columnModel.getDisplayNameForColumn(u,"columnToolPanel");d.push(new jm(h,u,c))}};this.destroyColumnTree(),a(e,0,this.allColsTree)},t.prototype.onColumnExpanded=function(){this.flattenAndFilterModel()},t.prototype.flattenAndFilterModel=function(){var e=this;this.displayedColsList=[];var r=function(o){o.isPassesFilter()&&(e.displayedColsList.push(o),o.isGroup()&&o.isExpanded()&&o.getChildren().forEach(r))};this.allColsTree.forEach(r),this.virtualList.setModel(new pGe(this.displayedColsList));var i=this.virtualList.getLastFocusedRow();this.virtualList.refresh(),i!=null&&this.focusRowIfAlive(i),this.notifyListeners(),this.refreshAriaLabel()},t.prototype.refreshAriaLabel=function(){var e=this.localeService.getLocaleTextFunc(),r=e("ariaColumnPanelList","Column List"),i=e("columns","Columns"),o=this.displayedColsList.length;D.setAriaLabel(this.virtualList.getAriaElement(),"".concat(r," ").concat(o," ").concat(i))},t.prototype.focusRowIfAlive=function(e){var r=this;window.setTimeout(function(){r.isAlive()&&r.virtualList.focusRow(e)},0)},t.prototype.forEachItem=function(e){var r=function(i){i.forEach(function(o){e(o),o.isGroup()&&r(o.getChildren())})};this.allColsTree&&r(this.allColsTree)},t.prototype.doSetExpandedAll=function(e){this.forEachItem(function(r){r.isGroup()&&r.setExpanded(e)})},t.prototype.setGroupsExpanded=function(e,r){if(!r){this.doSetExpandedAll(e);return}var i=[];this.forEachItem(function(a){if(a.isGroup()){var s=a.getColumnGroup().getId();r.indexOf(s)>=0&&(a.setExpanded(e),i.push(s))}});var o=r.filter(function(a){return!D.includes(i,a)});o.length>0&&console.warn("AG Grid: unable to find group(s) for supplied groupIds:",o)},t.prototype.getExpandState=function(){var e=0,r=0;return this.forEachItem(function(i){i.isGroup()&&(i.isExpanded()?e++:r++)}),e>0&&r>0?Rl.INDETERMINATE:r>0?Rl.COLLAPSED:Rl.EXPANDED},t.prototype.doSetSelectedAll=function(e){this.modelItemUtils.selectAllChildren(this.allColsTree,e,this.eventType)},t.prototype.getSelectionState=function(){var e=0,r=0,i=this.columnModel.isPivotMode();if(this.forEachItem(function(o){if(!o.isGroup()&&o.isPassesFilter()){var a=o.getColumn(),s=a.getColDef(),l;if(i){var u=!a.isAllowPivot()&&!a.isAllowRowGroup()&&!a.isAllowValue();if(u)return;l=a.isValueActive()||a.isPivotActive()||a.isRowGroupActive()}else{if(s.lockVisible)return;l=a.isVisible()}l?e++:r++}}),!(e>0&&r>0))return!(e===0||r>0)},t.prototype.setFilterText=function(e){this.filterText=D.exists(e)?e.toLowerCase():null,this.markFilteredColumns(),this.flattenAndFilterModel()},t.prototype.markFilteredColumns=function(){var e=this,r=function(o){if(!D.exists(e.filterText))return!0;var a=o.getDisplayName();return a==null||a.toLowerCase().indexOf(e.filterText)!==-1},i=function(o,a){var s=!1;if(o.isGroup()){var l=r(o);o.getChildren().forEach(function(c){var d=i(c,l||a);d&&(s=d)})}var u=a||s?!0:r(o);return o.setPassesFilter(u),u};this.allColsTree.forEach(function(o){return i(o,!1)})},t.prototype.notifyListeners=function(){this.fireGroupExpandedEvent(),this.fireSelectionChangedEvent()},t.prototype.fireGroupExpandedEvent=function(){var e=this.getExpandState();this.dispatchEvent({type:"groupExpanded",state:e})},t.prototype.fireSelectionChangedEvent=function(){if(this.allColsTree){var e=this.getSelectionState();this.dispatchEvent({type:"selectionChanged",state:e})}},t.prototype.getExpandedGroups=function(){var e=[];return this.allColsTree&&this.forEachItem(function(r){r.isGroup()&&r.isExpanded()&&e.push(r.getColumnGroup().getId())}),e},t.TEMPLATE='<div class="'.concat(hGe,'" role="presentation"></div>'),Y_([E("columnModel")],t.prototype,"columnModel",void 0),Y_([E("toolPanelColDefService")],t.prototype,"colDefService",void 0),Y_([E("modelItemUtils")],t.prototype,"modelItemUtils",void 0),Y_([rr],t.prototype,"destroyColumnTree",null),t}(de),vGe=function(){var n=function(t,e){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])},n(t,e)};return function(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");n(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}}(),X_=function(n,t,e,r){var i=arguments.length,o=i<3?t:r===null?r=Object.getOwnPropertyDescriptor(t,e):r,a;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(n,t,e,r);else for(var s=n.length-1;s>=0;s--)(a=n[s])&&(o=(i<3?a(o):i>3?a(t,e,o):a(t,e))||o);return i>3&&o&&Object.defineProperty(t,e,o),o},OU=function(n){vGe(t,n);function t(){return n!==null&&n.apply(this,arguments)||this}return t.prototype.createTemplate=function(){return`<div class="ag-pivot-mode-panel">
                <ag-toggle-button ref="cbPivotMode" class="ag-pivot-mode-select"></ag-toggle-button>
            </div>`},t.prototype.init=function(){this.setTemplate(this.createTemplate()),this.cbPivotMode.setValue(this.columnModel.isPivotMode());var e=this.localeService.getLocaleTextFunc();this.cbPivotMode.setLabel(e("pivotMode","Pivot Mode")),this.addManagedListener(this.cbPivotMode,P.EVENT_FIELD_VALUE_CHANGED,this.onBtPivotMode.bind(this)),this.addManagedListener(this.eventService,P.EVENT_NEW_COLUMNS_LOADED,this.onPivotModeChanged.bind(this)),this.addManagedListener(this.eventService,P.EVENT_COLUMN_PIVOT_MODE_CHANGED,this.onPivotModeChanged.bind(this))},t.prototype.onBtPivotMode=function(){var e=!!this.cbPivotMode.getValue();if(e!==this.columnModel.isPivotMode()){this.gridOptionsService.updateGridOptions({options:{pivotMode:e},source:"toolPanelUi"});var r=this.api;r&&r.refreshHeader()}},t.prototype.onPivotModeChanged=function(){var e=this.columnModel.isPivotMode();this.cbPivotMode.setValue(e)},X_([E("columnModel")],t.prototype,"columnModel",void 0),X_([E("gridApi")],t.prototype,"api",void 0),X_([$("cbPivotMode")],t.prototype,"cbPivotMode",void 0),X_([Hh],t.prototype,"init",null),t}(de),gGe=function(){var n=function(t,e){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])},n(t,e)};return function(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");n(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}}(),q_=function(n,t,e,r){var i=arguments.length,o=i<3?t:r===null?r=Object.getOwnPropertyDescriptor(t,e):r,a;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(n,t,e,r);else for(var s=n.length-1;s>=0;s--)(a=n[s])&&(o=(i<3?a(o):i>3?a(t,e,o):a(t,e))||o);return i>3&&o&&Object.defineProperty(t,e,o),o},yGe=function(n){gGe(t,n);function t(){return n!==null&&n.apply(this,arguments)||this}return t.prototype.execute=function(e){var r=D.missingOrEmpty(this.columnModel.getValueColumns()),i=!this.gridOptionsService.getCallback("getGroupRowAgg"),o=e.changedPath&&e.changedPath.isActive();if(!(r&&i&&o)){var a=this.createAggDetails(e);this.recursivelyCreateAggData(a)}},t.prototype.createAggDetails=function(e){var r=this.columnModel.isPivotActive(),i=this.columnModel.getValueColumns(),o=r?this.columnModel.getPivotColumns():[],a={alwaysAggregateAtRootLevel:this.gridOptionsService.get("alwaysAggregateAtRootLevel"),groupIncludeTotalFooter:this.gridOptionsService.get("groupIncludeTotalFooter"),changedPath:e.changedPath,valueColumns:i,pivotColumns:o,filteredOnly:!this.isSuppressAggFilteredOnly(),userAggFunc:this.gridOptionsService.getCallback("getGroupRowAgg")};return a},t.prototype.isSuppressAggFilteredOnly=function(){var e=this.gridOptionsService.getGroupAggFiltering()!==void 0;return e||this.gridOptionsService.get("suppressAggFilteredOnly")},t.prototype.recursivelyCreateAggData=function(e){var r=this,i=function(o){var a=!o.hasChildren();if(a){o.aggData&&o.setAggData(null);return}var s=o.level===-1;if(s&&!e.groupIncludeTotalFooter){var l=!r.columnModel.isPivotMode();if(!e.alwaysAggregateAtRootLevel&&l){o.setAggData(null);return}}r.aggregateRowNode(o,e)};e.changedPath.forEachChangedNodeDepthFirst(i,!0)},t.prototype.aggregateRowNode=function(e,r){var i=r.valueColumns.length===0,o=r.pivotColumns.length===0,a;r.userAggFunc?a=r.userAggFunc({nodes:e.childrenAfterFilter}):i?a=null:o?a=this.aggregateRowNodeUsingValuesOnly(e,r):a=this.aggregateRowNodeUsingValuesAndPivot(e),e.setAggData(a),e.sibling&&e.sibling.setAggData(a)},t.prototype.aggregateRowNodeUsingValuesAndPivot=function(e){for(var r,i,o={},a=(r=this.columnModel.getSecondaryColumns())!==null&&r!==void 0?r:[],s=!0,l=0;l<a.length;l++){var u=a[l],c=u.getColDef();if(c.pivotTotalColumnIds!=null){s=!1;continue}var d=(i=c.pivotKeys)!==null&&i!==void 0?i:[],p=void 0;e.leafGroup?p=this.getValuesFromMappedSet(e.childrenMapped,d,c.pivotValueColumn):p=this.getValuesPivotNonLeaf(e,c.colId),o[c.colId]=this.aggregateValues(p,c.pivotValueColumn.getAggFunc(),c.pivotValueColumn,e,u)}if(!s)for(var l=0;l<a.length;l++){var u=a[l],c=u.getColDef();if(!(c.pivotTotalColumnIds==null||!c.pivotTotalColumnIds.length)){var h=c.pivotTotalColumnIds.map(function(y){return o[y]});o[c.colId]=this.aggregateValues(h,c.pivotValueColumn.getAggFunc(),c.pivotValueColumn,e,u)}}return o},t.prototype.aggregateRowNodeUsingValuesOnly=function(e,r){var i=this,o={},a=r.changedPath.isActive()?r.changedPath.getValueColumnsForNode(e,r.valueColumns):r.valueColumns,s=r.changedPath.isActive()?r.changedPath.getNotValueColumnsForNode(e,r.valueColumns):null,l=this.getValuesNormal(e,a,r.filteredOnly),u=e.aggData;return a.forEach(function(c,d){o[c.getId()]=i.aggregateValues(l[d],c.getAggFunc(),c,e)}),s&&u&&s.forEach(function(c){o[c.getId()]=u[c.getId()]}),o},t.prototype.getValuesPivotNonLeaf=function(e,r){return e.childrenAfterFilter.map(function(i){return i.aggData[r]})},t.prototype.getValuesFromMappedSet=function(e,r,i){for(var o=this,a=e,s=0;s<r.length;s++){var l=r[s];a=a?a[l]:null}return a?a.map(function(u){return o.valueService.getValue(i,u)}):[]},t.prototype.getValuesNormal=function(e,r,i){var o=[];r.forEach(function(){return o.push([])});for(var a=r.length,s=i?e.childrenAfterFilter:e.childrenAfterGroup,l=s.length,u=0;u<l;u++)for(var c=s[u],d=0;d<a;d++){var p=r[d],h=this.valueService.getValue(p,c);o[d].push(h)}return o},t.prototype.aggregateValues=function(e,r,i,o,a){var s=typeof r=="string"?this.aggFuncService.getAggFunc(r):r;if(typeof s!="function")return console.error("AG Grid: unrecognised aggregation function ".concat(r)),null;var l=s,u=this.gridOptionsService.addGridCommonParams({values:e,column:i,colDef:i?i.getColDef():void 0,pivotResultColumn:a,rowNode:o,data:o?o.data:void 0});return l(u)},q_([E("columnModel")],t.prototype,"columnModel",void 0),q_([E("valueService")],t.prototype,"valueService",void 0),q_([E("aggFuncService")],t.prototype,"aggFuncService",void 0),t=q_([ae("aggregationStage")],t),t}(q),XD=function(){function n(){this.allSets={},this.allParents=[]}return n.prototype.removeFromChildrenAfterGroup=function(t,e){var r=this.getSet(t);r.removeFromChildrenAfterGroup[e.id]=!0},n.prototype.isRemoveFromAllLeafChildren=function(t,e){var r=this.getSet(t);return!!r.removeFromAllLeafChildren[e.id]},n.prototype.preventRemoveFromAllLeafChildren=function(t,e){var r=this.getSet(t);delete r.removeFromAllLeafChildren[e.id]},n.prototype.removeFromAllLeafChildren=function(t,e){var r=this.getSet(t);r.removeFromAllLeafChildren[e.id]=!0},n.prototype.getSet=function(t){return this.allSets[t.id]||(this.allSets[t.id]={removeFromAllLeafChildren:{},removeFromChildrenAfterGroup:{}},this.allParents.push(t)),this.allSets[t.id]},n.prototype.getAllParents=function(){return this.allParents},n.prototype.flush=function(){var t=this;this.allParents.forEach(function(e){var r=t.allSets[e.id];e.childrenAfterGroup=e.childrenAfterGroup.filter(function(i){return!r.removeFromChildrenAfterGroup[i.id]}),e.allLeafChildren=e.allLeafChildren.filter(function(i){return!r.removeFromAllLeafChildren[i.id]}),e.updateHasChildren(),e.sibling&&(e.sibling.childrenAfterGroup=e.childrenAfterGroup,e.sibling.allLeafChildren=e.allLeafChildren)}),this.allSets={},this.allParents.length=0},n}(),mGe=function(){var n=function(t,e){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])},n(t,e)};return function(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");n(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}}(),Nf=function(n,t,e,r){var i=arguments.length,o=i<3?t:r===null?r=Object.getOwnPropertyDescriptor(t,e):r,a;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(n,t,e,r);else for(var s=n.length-1;s>=0;s--)(a=n[s])&&(o=(i<3?a(o):i>3?a(t,e,o):a(t,e))||o);return i>3&&o&&Object.defineProperty(t,e,o),o},RU=function(n,t){var e=typeof Symbol=="function"&&n[Symbol.iterator];if(!e)return n;var r=e.call(n),i,o=[],a;try{for(;(t===void 0||t-- >0)&&!(i=r.next()).done;)o.push(i.value)}catch(s){a={error:s}}finally{try{i&&!i.done&&(e=r.return)&&e.call(r)}finally{if(a)throw a.error}}return o},TU=function(n,t,e){if(e||arguments.length===2)for(var r=0,i=t.length,o;r<i;r++)(o||!(r in t))&&(o||(o=Array.prototype.slice.call(t,0,r)),o[r]=t[r]);return n.concat(o||Array.prototype.slice.call(t))},CGe=function(n){mGe(t,n);function t(){return n!==null&&n.apply(this,arguments)||this}return t.prototype.execute=function(e){var r=this.createGroupingDetails(e);if(r.transactions)this.handleTransaction(r);else{var i=e.afterColumnsChanged===!0;this.shotgunResetEverything(r,i)}r.usingTreeData||(this.positionLeafsAndGroups(e.changedPath),this.orderGroups(r)),this.selectableService.updateSelectableAfterGrouping()},t.prototype.positionLeafsAndGroups=function(e){e.forEachChangedNodeDepthFirst(function(r){if(r.childrenAfterGroup){var i=[],o=[],a;r.childrenAfterGroup.forEach(function(s){var l;!((l=s.childrenAfterGroup)===null||l===void 0)&&l.length?s.key===""&&!a?a=s:o.push(s):i.push(s)}),a&&o.push(a),r.childrenAfterGroup=TU(TU([],RU(i),!1),RU(o),!1)}},!1)},t.prototype.createGroupingDetails=function(e){var r,i=e.rowNode,o=e.changedPath,a=e.rowNodeTransactions,s=e.rowNodeOrder,l=this.gridOptionsService.get("treeData"),u=l?null:this.columnModel.getRowGroupColumns(),c={includeParents:!this.gridOptionsService.get("suppressParentsInRowNodes"),expandByDefault:this.gridOptionsService.get("groupDefaultExpanded"),groupedCols:u,rootNode:i,pivotMode:this.columnModel.isPivotMode(),groupedColCount:l||!u?0:u.length,rowNodeOrder:s,transactions:a,changedPath:o,groupAllowUnbalanced:this.gridOptionsService.get("groupAllowUnbalanced"),isGroupOpenByDefault:this.gridOptionsService.getCallback("isGroupOpenByDefault"),initialGroupOrderComparator:this.gridOptionsService.getCallback("initialGroupOrderComparator"),usingTreeData:l,suppressGroupMaintainValueType:this.gridOptionsService.get("suppressGroupMaintainValueType"),getDataPath:l?this.gridOptionsService.get("getDataPath"):void 0,keyCreators:(r=u==null?void 0:u.map(function(d){return d.getColDef().keyCreator}))!==null&&r!==void 0?r:[]};return c},t.prototype.handleTransaction=function(e){var r=this;e.transactions.forEach(function(i){var o=e.usingTreeData?void 0:new XD;if(D.existsAndNotEmpty(i.remove)&&r.removeNodes(i.remove,e,o),D.existsAndNotEmpty(i.update)&&r.moveNodesInWrongPath(i.update,e,o),D.existsAndNotEmpty(i.add)&&r.insertNodes(i.add,e,!1),o){var a=o.getAllParents().slice();o.flush(),r.removeEmptyGroups(a,e)}}),e.rowNodeOrder&&this.sortChildren(e)},t.prototype.sortChildren=function(e){e.changedPath.forEachChangedNodeDepthFirst(function(r){if(r.childrenAfterGroup){var i=D.sortRowNodesByOrder(r.childrenAfterGroup,e.rowNodeOrder);i&&e.changedPath.addParentNode(r)}},!1,!0)},t.prototype.orderGroups=function(e){var r=e.initialGroupOrderComparator;D.exists(r)&&i(e.rootNode);function i(o){var a=D.exists(o.childrenAfterGroup)&&!o.leafGroup;a&&(o.childrenAfterGroup.sort(function(s,l){return r({nodeA:s,nodeB:l})}),o.childrenAfterGroup.forEach(function(s){return i(s)}))}},t.prototype.getExistingPathForNode=function(e,r){for(var i=[],o=r.usingTreeData?e:e.parent;o&&o!==r.rootNode;)i.push({key:o.key,rowGroupColumn:o.rowGroupColumn,field:o.field}),o=o.parent;return i.reverse(),i},t.prototype.moveNodesInWrongPath=function(e,r,i){var o=this;e.forEach(function(a){r.changedPath.isActive()&&r.changedPath.addParentNode(a.parent);var s=function(d){return d.key},l=o.getExistingPathForNode(a,r).map(s),u=o.getGroupInfo(a,r).map(s),c=D.areEqual(l,u);c||o.moveNode(a,r,i)})},t.prototype.moveNode=function(e,r,i){if(this.removeNodesInStages([e],r,i),this.insertOneNode(e,r,!0,i),e.setData(e.data),r.changedPath.isActive()){var o=e.parent;r.changedPath.addParentNode(o)}},t.prototype.removeNodes=function(e,r,i){this.removeNodesInStages(e,r,i),r.changedPath.isActive()&&e.forEach(function(o){return r.changedPath.addParentNode(o.parent)})},t.prototype.removeNodesInStages=function(e,r,i){if(this.removeNodesFromParents(e,r,i),r.usingTreeData){this.postRemoveCreateFillerNodes(e,r);var o=e.map(function(a){return a.parent});this.removeEmptyGroups(o,r)}},t.prototype.forEachParentGroup=function(e,r,i){for(var o=r;o&&o!==e.rootNode;)i(o),o=o.parent},t.prototype.removeNodesFromParents=function(e,r,i){var o=this,a=i==null,s=i||new XD;e.forEach(function(l){o.removeFromParent(l,s),o.forEachParentGroup(r,l.parent,function(u){s.removeFromAllLeafChildren(u,l)})}),a&&s.flush()},t.prototype.postRemoveCreateFillerNodes=function(e,r){var i=this;e.forEach(function(o){var a=o.hasChildren();if(a){var s=i.getExistingPathForNode(o,r),l=i.findParentForNode(o,s,r);l.expanded=o.expanded,l.allLeafChildren=o.allLeafChildren,l.childrenAfterGroup=o.childrenAfterGroup,l.childrenMapped=o.childrenMapped,l.updateHasChildren(),l.childrenAfterGroup.forEach(function(u){return u.parent=l})}})},t.prototype.removeEmptyGroups=function(e,r){for(var i=this,o=!0,a=function(l){var u=i.getChildrenMappedKey(l.key,l.rowGroupColumn),c=l.parent,d=c&&c.childrenMapped?!c.childrenMapped[u]:!0;return d?!1:!!l.isEmptyRowGroupNode()},s=function(){o=!1;var l=new XD;e.forEach(function(u){i.forEachParentGroup(r,u,function(c){a(c)&&(o=!0,i.removeFromParent(c,l),c.setSelectedParams({newValue:!1,source:"rowGroupChanged"}))})}),l.flush()};o;)s()},t.prototype.removeFromParent=function(e,r){e.parent&&(r?r.removeFromChildrenAfterGroup(e.parent,e):(D.removeFromArray(e.parent.childrenAfterGroup,e),e.parent.updateHasChildren()));var i=this.getChildrenMappedKey(e.key,e.rowGroupColumn);e.parent&&e.parent.childrenMapped&&(e.parent.childrenMapped[i]=void 0),e.setRowTop(null),e.setRowIndex(null)},t.prototype.addToParent=function(e,r){var i=this.getChildrenMappedKey(e.key,e.rowGroupColumn);if(r){var o=r.childrenMapped!=null;o&&(r.childrenMapped[i]=e),r.childrenAfterGroup.push(e),r.updateHasChildren()}},t.prototype.areGroupColsEqual=function(e,r){return e==null||r==null||e.pivotMode!==r.pivotMode?!1:D.areEqual(e.groupedCols,r.groupedCols)&&D.areEqual(e.keyCreators,r.keyCreators)},t.prototype.checkAllGroupDataAfterColsChanged=function(e){var r=this,i=function(o){o&&o.forEach(function(a){var s=!e.usingTreeData&&!a.group;if(!s){var l={field:a.field,key:a.key,rowGroupColumn:a.rowGroupColumn,leafNode:a.allLeafChildren[0]};r.setGroupData(a,l,e),i(a.childrenAfterGroup)}})};i(e.rootNode.childrenAfterGroup)},t.prototype.shotgunResetEverything=function(e,r){if(!this.noChangeInGroupingColumns(e,r)){this.selectionService.filterFromSelection(function(s){return s&&!s.group});var i=e.rootNode,o=e.groupedCols;i.leafGroup=e.usingTreeData?!1:o.length===0,i.childrenAfterGroup=[],i.childrenMapped={},i.updateHasChildren();var a=i.sibling;a&&(a.childrenAfterGroup=i.childrenAfterGroup,a.childrenMapped=i.childrenMapped),this.insertNodes(i.allLeafChildren,e,!1)}},t.prototype.noChangeInGroupingColumns=function(e,r){var i=!1,o=this.columnModel.getGroupDisplayColumns(),a=o?o.map(function(s){return s.getId()}).join("-"):"";return r&&(i=e.usingTreeData||this.areGroupColsEqual(e,this.oldGroupingDetails),this.oldGroupDisplayColIds!==a&&this.checkAllGroupDataAfterColsChanged(e)),this.oldGroupingDetails=e,this.oldGroupDisplayColIds=a,i},t.prototype.insertNodes=function(e,r,i){var o=this;e.forEach(function(a){o.insertOneNode(a,r,i),r.changedPath.isActive()&&r.changedPath.addParentNode(a.parent)})},t.prototype.insertOneNode=function(e,r,i,o){var a=this.getGroupInfo(e,r),s=this.findParentForNode(e,a,r,o);s.group||console.warn("AG Grid: duplicate group keys for row data, keys should be unique",[s.data,e.data]),r.usingTreeData?this.swapGroupWithUserNode(s,e,i):(e.parent=s,e.level=a.length,s.childrenAfterGroup.push(e),s.updateHasChildren())},t.prototype.findParentForNode=function(e,r,i,o){var a=this,s=i.rootNode;return r.forEach(function(l,u){s=a.getOrCreateNextNode(s,l,u,i),o!=null&&o.isRemoveFromAllLeafChildren(s,e)?o==null||o.preventRemoveFromAllLeafChildren(s,e):s.allLeafChildren.push(e)}),s},t.prototype.swapGroupWithUserNode=function(e,r,i){r.parent=e.parent,r.key=e.key,r.field=e.field,r.groupData=e.groupData,r.level=e.level,i||(r.expanded=e.expanded),r.leafGroup=e.leafGroup,r.rowGroupIndex=e.rowGroupIndex,r.allLeafChildren=e.allLeafChildren,r.childrenAfterGroup=e.childrenAfterGroup,r.childrenMapped=e.childrenMapped,r.sibling=e.sibling,r.updateHasChildren(),this.removeFromParent(e),r.childrenAfterGroup.forEach(function(o){return o.parent=r}),this.addToParent(r,e.parent)},t.prototype.getOrCreateNextNode=function(e,r,i,o){var a=this.getChildrenMappedKey(r.key,r.rowGroupColumn),s=e.childrenMapped?e.childrenMapped[a]:void 0;return s||(s=this.createGroup(r,e,i,o),this.addToParent(s,e)),s},t.prototype.createGroup=function(e,r,i,o){var a=new Ue(this.beans);return a.group=!0,a.field=e.field,a.rowGroupColumn=e.rowGroupColumn,this.setGroupData(a,e,o),a.key=e.key,a.id=this.createGroupId(a,r,o.usingTreeData,i),a.level=i,a.leafGroup=o.usingTreeData?!1:i===o.groupedColCount-1,a.allLeafChildren=[],a.setAllChildrenCount(0),a.rowGroupIndex=o.usingTreeData?null:i,a.childrenAfterGroup=[],a.childrenMapped={},a.updateHasChildren(),a.parent=o.includeParents?r:null,this.setExpandedInitialValue(o,a),a},t.prototype.createGroupId=function(e,r,i,o){var a;return i?a=function(s,l,u){if(u<0)return null;var c=l?a(l,l.parent,u-1):null;return"".concat(c==null?"":c+"-").concat(u,"-").concat(s.key)}:a=function(s,l){if(!s.rowGroupColumn)return null;var u=l?a(l,l.parent,0):null;return"".concat(u==null?"":u+"-").concat(s.rowGroupColumn.getColId(),"-").concat(s.key)},Ue.ID_PREFIX_ROW_GROUP+a(e,r,o)},t.prototype.setGroupData=function(e,r,i){var o=this;e.groupData={};var a=this.columnModel.getGroupDisplayColumns();a.forEach(function(s){var l=i.usingTreeData;if(l){e.groupData[s.getColId()]=r.key;return}var u=e.rowGroupColumn,c=u!==null&&s.isRowGroupDisplayed(u.getId());c&&(i.suppressGroupMaintainValueType?e.groupData[s.getColId()]=r.key:e.groupData[s.getColId()]=o.valueService.getValue(u,r.leafNode))})},t.prototype.getChildrenMappedKey=function(e,r){return r?r.getId()+"-"+e:e},t.prototype.setExpandedInitialValue=function(e,r){if(e.pivotMode&&r.leafGroup){r.expanded=!1;return}var i=e.isGroupOpenByDefault;if(i){var o={rowNode:r,field:r.field,key:r.key,level:r.level,rowGroupColumn:r.rowGroupColumn};r.expanded=i(o)==!0;return}var a=e.expandByDefault;if(e.expandByDefault===-1){r.expanded=!0;return}r.expanded=r.level<a},t.prototype.getGroupInfo=function(e,r){return r.usingTreeData?this.getGroupInfoFromCallback(e,r):this.getGroupInfoFromGroupColumns(e,r)},t.prototype.getGroupInfoFromCallback=function(e,r){var i=r.getDataPath?r.getDataPath(e.data):null;(i==null||i.length===0)&&D.warnOnce("getDataPath() should not return an empty path for data ".concat(e.data));var o=function(a){return{key:a,field:null,rowGroupColumn:null}};return i?i.map(o):[]},t.prototype.getGroupInfoFromGroupColumns=function(e,r){var i=this,o=[];return r.groupedCols.forEach(function(a){var s=i.valueService.getKeyForNode(a,e),l=s!=null&&s!=="",u=r.pivotMode||!r.groupAllowUnbalanced;if(u&&!l&&(s="",l=!0),l){var c={key:s,field:a.getColDef().field,rowGroupColumn:a,leafNode:e};o.push(c)}}),o},Nf([E("columnModel")],t.prototype,"columnModel",void 0),Nf([E("selectableService")],t.prototype,"selectableService",void 0),Nf([E("valueService")],t.prototype,"valueService",void 0),Nf([E("beans")],t.prototype,"beans",void 0),Nf([E("selectionService")],t.prototype,"selectionService",void 0),t=Nf([ae("groupStage")],t),t}(q),SGe=function(){var n=function(t,e){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])},n(t,e)};return function(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");n(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}}(),gO=function(){return gO=Object.assign||function(n){for(var t,e=1,r=arguments.length;e<r;e++){t=arguments[e];for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(n[i]=t[i])}return n},gO.apply(this,arguments)},Z_=function(n,t,e,r){var i=arguments.length,o=i<3?t:r===null?r=Object.getOwnPropertyDescriptor(t,e):r,a;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(n,t,e,r);else for(var s=n.length-1;s>=0;s--)(a=n[s])&&(o=(i<3?a(o):i>3?a(t,e,o):a(t,e))||o);return i>3&&o&&Object.defineProperty(t,e,o),o},Q_=function(n,t){var e=typeof Symbol=="function"&&n[Symbol.iterator];if(!e)return n;var r=e.call(n),i,o=[],a;try{for(;(t===void 0||t-- >0)&&!(i=r.next()).done;)o.push(i.value)}catch(s){a={error:s}}finally{try{i&&!i.done&&(e=r.return)&&e.call(r)}finally{if(a)throw a.error}}return o},kf=function(n,t,e){if(e||arguments.length===2)for(var r=0,i=t.length,o;r<i;r++)(o||!(r in t))&&(o||(o=Array.prototype.slice.call(t,0,r)),o[r]=t[r]);return n.concat(o||Array.prototype.slice.call(t))},wGe=function(n){SGe(t,n);function t(){return n!==null&&n.apply(this,arguments)||this}e=t,t.prototype.init=function(){var r=this,i=function(){var a;return(a=r.gos.get("serverSidePivotResultFieldSeparator"))!==null&&a!==void 0?a:"_"};this.fieldSeparator=i(),this.addManagedPropertyListener("serverSidePivotResultFieldSeparator",function(){r.fieldSeparator=i()});var o=function(){return r.gos.get("pivotDefaultExpanded")};this.pivotDefaultExpanded=o(),this.addManagedPropertyListener("pivotDefaultExpanded",function(){r.pivotDefaultExpanded=o()})},t.prototype.createPivotColumnDefs=function(r){var i=this.createPivotColumnsFromUniqueValues(r);function o(l,u){return u===void 0&&(u=[]),l.forEach(function(c){c.children!==void 0?o(c.children,u):u.push(c)}),u}var a=o(i);this.addRowGroupTotals(i,a),this.addExpandablePivotGroups(i,a),this.addPivotTotalsToGroups(i,a);var s=a.map(function(l){return D.cloneObject(l)});return{pivotColumnGroupDefs:i,pivotColumnDefs:s}},t.prototype.createPivotColumnsFromUniqueValues=function(r){var i=this.columnModel.getPivotColumns(),o=i.length,a=this.recursivelyBuildGroup(0,r,[],o,i);return a},t.prototype.recursivelyBuildGroup=function(r,i,o,a,s){var l=this,u=this.columnModel.getValueColumns();if(r>=a)return this.buildMeasureCols(o);var c=s[r].getColDef(),d=this.headerNameComparator.bind(this,c.pivotComparator);if(u.length===1&&this.gridOptionsService.get("removePivotHeaderRowWhenSingleValueColumn")&&r===a-1){var p=[];return D.iterateObject(i,function(f){var v=kf(kf([],Q_(o),!1),[f],!1),g=l.createColDef(u[0],f,v);g.columnGroupShow="open",p.push(g)}),p.sort(d),p}var h=[];return D.iterateObject(i,function(f,v){var g=l.pivotDefaultExpanded===-1||r<l.pivotDefaultExpanded,y=kf(kf([],Q_(o),!1),[f],!1);h.push({children:l.recursivelyBuildGroup(r+1,v,y,a,s),headerName:f,pivotKeys:y,columnGroupShow:"open",openByDefault:g,groupId:l.generateColumnGroupId(y)})}),h.sort(d),h},t.prototype.buildMeasureCols=function(r){var i=this,o=this.columnModel.getValueColumns();return o.length===0?[this.createColDef(null,"-",r)]:o.map(function(a){var s=i.columnModel.getDisplayNameForColumn(a,"header");return gO(gO({},i.createColDef(a,s,r)),{columnGroupShow:"open"})})},t.prototype.addExpandablePivotGroups=function(r,i){var o=this;if(!(this.gridOptionsService.get("suppressExpandablePivotGroups")||this.gridOptionsService.get("pivotColumnGroupTotals"))){var a=function(s,l,u){var c=s;if(c.children){var d=new Map;c.children.forEach(function(g){a(g,l,d)});var p=!c.children.some(function(g){return g.children});o.columnModel.getValueColumns().forEach(function(g){var y=o.columnModel.getDisplayNameForColumn(g,"header"),m=o.createColDef(g,y,s.pivotKeys);if(m.pivotTotalColumnIds=d.get(g.getColId()),m.columnGroupShow="closed",m.aggFunc=g.getAggFunc(),!p){var C=s.children;C.push(m),l.push(m)}}),o.merge(u,d)}else{var h=s;if(!h.pivotValueColumn)return;var f=h.pivotValueColumn.getColId(),v=u.has(f)?u.get(f):[];v.push(h.colId),u.set(f,v)}};r.forEach(function(s){a(s,i,new Map)})}},t.prototype.addPivotTotalsToGroups=function(r,i){var o=this;if(this.gridOptionsService.get("pivotColumnGroupTotals")){var a=this.gridOptionsService.get("pivotColumnGroupTotals")==="after",s=this.columnModel.getValueColumns(),l=s.map(function(c){return c.getAggFunc()});if(!(!l||l.length<1||!this.sameAggFuncs(l))){var u=s[0];r.forEach(function(c){o.recursivelyAddPivotTotal(c,i,u,a)})}}},t.prototype.recursivelyAddPivotTotal=function(r,i,o,a){var s=this,l=r;if(!l.children){var u=r;return u.colId?[u.colId]:null}var c=[];if(l.children.forEach(function(v){var g=s.recursivelyAddPivotTotal(v,i,o,a);g&&(c=c.concat(g))}),l.children.length>1){var d=this.localeService.getLocaleTextFunc(),p=d("pivotColumnGroupTotals","Total"),h=this.createColDef(o,p,r.pivotKeys,!0);h.pivotTotalColumnIds=c,h.aggFunc=o.getAggFunc();var f=r.children;a?f.push(h):f.unshift(h),i.push(h)}return c},t.prototype.addRowGroupTotals=function(r,i){var o=this;if(this.gridOptionsService.get("pivotRowTotals"))for(var a=this.gridOptionsService.get("pivotRowTotals")==="after",s=this.columnModel.getValueColumns(),l=a?s.slice():s.slice().reverse(),u=function(p){var h=l[p],f=[];r.forEach(function(g){f=f.concat(o.extractColIdsForValueColumn(g,h))});var v=l.length>1||!c.gridOptionsService.get("removePivotHeaderRowWhenSingleValueColumn");c.createRowGroupTotal(r,i,h,f,a,v)},c=this,d=0;d<l.length;d++)u(d)},t.prototype.extractColIdsForValueColumn=function(r,i){var o=this,a=r;if(!a.children){var s=a;return s.pivotValueColumn===i&&s.colId?[s.colId]:[]}var l=[];return a.children.forEach(function(u){o.extractColIdsForValueColumn(u,i);var c=o.extractColIdsForValueColumn(u,i);l=l.concat(c)}),l},t.prototype.createRowGroupTotal=function(r,i,o,a,s,l){var u=this.columnModel.getValueColumns(),c;if(u.length===0)c=this.createColDef(null,"-",[]);else{var d=this.columnModel.getDisplayNameForColumn(o,"header");c=this.createColDef(o,d,[]),c.pivotTotalColumnIds=a}c.colId=e.PIVOT_ROW_TOTAL_PREFIX+c.colId,i.push(c);var p=l?{children:[c],pivotKeys:[],groupId:"".concat(e.PIVOT_ROW_TOTAL_PREFIX,"_pivotGroup_").concat(o.getColId())}:c;s?r.push(p):r.unshift(p)},t.prototype.createColDef=function(r,i,o,a){a===void 0&&(a=!1);var s={};if(r){var l=r.getColDef();Object.assign(s,l),s.hide=!1}return s.headerName=i,s.colId=this.generateColumnId(o||[],r&&!a?r.getColId():""),s.field=s.colId,s.valueGetter=function(u){var c;return(c=u.data)===null||c===void 0?void 0:c[u.colDef.field]},s.pivotKeys=o,s.pivotValueColumn=r,s.filter===!0&&(s.filter="agNumberColumnFilter"),s},t.prototype.sameAggFuncs=function(r){if(r.length==1)return!0;for(var i=1;i<r.length;i++)if(r[i]!==r[0])return!1;return!0},t.prototype.headerNameComparator=function(r,i,o){return r?r(i.headerName,o.headerName):i.headerName&&!o.headerName?1:!i.headerName&&o.headerName?-1:!i.headerName||!o.headerName?0:i.headerName<o.headerName?-1:i.headerName>o.headerName?1:0},t.prototype.merge=function(r,i){i.forEach(function(o,a,s){var l=r.has(a)?r.get(a):[],u=kf(kf([],Q_(l),!1),Q_(o),!1);r.set(a,u)})},t.prototype.generateColumnGroupId=function(r){var i=this.columnModel.getPivotColumns().map(function(o){return o.getColId()});return"pivotGroup_".concat(i.join("-"),"_").concat(r.join("-"))},t.prototype.generateColumnId=function(r,i){var o=this.columnModel.getPivotColumns().map(function(a){return a.getColId()});return"pivot_".concat(o.join("-"),"_").concat(r.join("-"),"_").concat(i)},t.prototype.createColDefsFromFields=function(r){for(var i=this,o={},a=0;a<r.length;a++)for(var s=r[a],l=s.split(this.fieldSeparator),u=o,c=0;c<l.length;c++){var d=l[c];u[d]==null&&(u[d]={}),u=u[d]}var p=function(y,m,C,S){var w,_=[];for(var x in C){var b=C[x],O=p("".concat(y).concat(i.fieldSeparator).concat(x),x,b,S+1);_.push(O)}if(_.length===0){var T=i.columnModel.getPrimaryColumn(m);if(T){var A=(w=i.columnModel.getDisplayNameForColumn(T,"header"))!==null&&w!==void 0?w:m,N=i.createColDef(T,A,void 0,!1);return N.colId=y,N.aggFunc=T.getAggFunc(),N.valueGetter=function(H){var j;return(j=H.data)===null||j===void 0?void 0:j[y]},N}var M={colId:y,headerName:m,valueGetter:function(H){var j;return(j=H.data)===null||j===void 0?void 0:j[y]}};return M}var L=i.gridOptionsService.get("removePivotHeaderRowWhenSingleValueColumn");if(L&&_.length===1&&"colId"in _[0])return _[0].headerName=m,_[0];var G={openByDefault:i.pivotDefaultExpanded===-1||S<i.pivotDefaultExpanded,groupId:y,headerName:m,children:_};return G},h=[];for(var f in o){var v=o[f],g=p(f,f,v,0);h.push(g)}return h};var e;return t.PIVOT_ROW_TOTAL_PREFIX="PivotRowTotal_",Z_([E("columnModel")],t.prototype,"columnModel",void 0),Z_([E("gridOptionsService")],t.prototype,"gos",void 0),Z_([z],t.prototype,"init",null),t=e=Z_([ae("pivotColDefService")],t),t}(q),_Ge=function(){var n=function(t,e){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])},n(t,e)};return function(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");n(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}}(),J_=function(n,t,e,r){var i=arguments.length,o=i<3?t:r===null?r=Object.getOwnPropertyDescriptor(t,e):r,a;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(n,t,e,r);else for(var s=n.length-1;s>=0;s--)(a=n[s])&&(o=(i<3?a(o):i>3?a(t,e,o):a(t,e))||o);return i>3&&o&&Object.defineProperty(t,e,o),o},xGe=function(n){_Ge(t,n);function t(){var e=n!==null&&n.apply(this,arguments)||this;return e.uniqueValues={},e}return t.prototype.execute=function(e){var r=e.changedPath;this.columnModel.isPivotActive()?this.executePivotOn(r):this.executePivotOff(r)},t.prototype.executePivotOff=function(e){this.aggregationColumnsHashLastTime=null,this.uniqueValues={},this.columnModel.isSecondaryColumnsPresent()&&(this.columnModel.setSecondaryColumns(null,"rowModelUpdated"),e&&e.setInactive())},t.prototype.executePivotOn=function(e){var r=this.bucketUpRowNodes(e),i=this.setUniqueValues(r),o=this.columnModel.getValueColumns(),a=o.map(function(S){return"".concat(S.getId(),"-").concat(S.getColDef().headerName)}).join("#"),s=o.map(function(S){return S.getAggFunc().toString()}).join("#"),l=this.aggregationColumnsHashLastTime!==a,u=this.aggregationFuncsHashLastTime!==s;this.aggregationColumnsHashLastTime=a,this.aggregationFuncsHashLastTime=s;var c=this.columnModel.getRowGroupColumns().map(function(S){return S.getId()}).join("#"),d=c!==this.groupColumnsHashLastTime;this.groupColumnsHashLastTime=c;var p=this.gridOptionsService.get("pivotRowTotals"),h=this.gridOptionsService.get("pivotColumnGroupTotals"),f=this.gridOptionsService.get("suppressExpandablePivotGroups"),v=this.gridOptionsService.get("removePivotHeaderRowWhenSingleValueColumn"),g=p!==this.pivotRowTotalsLastTime||h!==this.pivotColumnGroupTotalsLastTime||f!==this.suppressExpandablePivotGroupsLastTime||v!==this.removePivotHeaderRowWhenSingleValueColumnLastTime;if(this.pivotRowTotalsLastTime=p,this.pivotColumnGroupTotalsLastTime=h,this.suppressExpandablePivotGroupsLastTime=f,this.removePivotHeaderRowWhenSingleValueColumnLastTime=v,i||l||d||u||g){var y=this.pivotColDefService.createPivotColumnDefs(this.uniqueValues),m=y.pivotColumnGroupDefs,C=y.pivotColumnDefs;this.pivotColumnDefs=C,this.columnModel.setSecondaryColumns(m,"rowModelUpdated"),e&&e.setInactive()}},t.prototype.setUniqueValues=function(e){var r=JSON.stringify(e),i=JSON.stringify(this.uniqueValues),o=r!==i;return o?(this.uniqueValues=e,!0):!1},t.prototype.bucketUpRowNodes=function(e){var r=this,i={};e.forEachChangedNodeDepthFirst(function(a){a.leafGroup&&(a.childrenMapped=null)});var o=function(a){var s;a.leafGroup?r.bucketRowNode(a,i):(s=a.childrenAfterFilter)===null||s===void 0||s.forEach(o)};return e.executeFromRootNode(o),i},t.prototype.bucketRowNode=function(e,r){var i=this.columnModel.getPivotColumns();i.length===0?e.childrenMapped=null:e.childrenMapped=this.bucketChildren(e.childrenAfterFilter,i,0,r),e.sibling&&(e.sibling.childrenMapped=e.childrenMapped)},t.prototype.bucketChildren=function(e,r,i,o){var a=this,s={},l=r[i];if(e.forEach(function(c){var d=a.valueService.getKeyForNode(l,c);D.missing(d)&&(d=""),o[d]||(o[d]={}),s[d]||(s[d]=[]),s[d].push(c)}),i===r.length-1)return s;var u={};return D.iterateObject(s,function(c,d){u[c]=a.bucketChildren(d,r,i+1,o[c])}),u},t.prototype.getPivotColumnDefs=function(){return this.pivotColumnDefs},J_([E("valueService")],t.prototype,"valueService",void 0),J_([E("columnModel")],t.prototype,"columnModel",void 0),J_([E("pivotColDefService")],t.prototype,"pivotColDefService",void 0),t=J_([ae("pivotStage")],t),t}(q),EGe=function(){var n=function(t,e){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])},n(t,e)};return function(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");n(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}}(),PU=function(n,t,e,r){var i=arguments.length,o=i<3?t:r===null?r=Object.getOwnPropertyDescriptor(t,e):r,a;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(n,t,e,r);else for(var s=n.length-1;s>=0;s--)(a=n[s])&&(o=(i<3?a(o):i>3?a(t,e,o):a(t,e))||o);return i>3&&o&&Object.defineProperty(t,e,o),o},Sl=typeof BigInt>"u"?null:BigInt,bGe={sum:"Sum",first:"First",last:"Last",min:"Min",max:"Max",count:"Count",avg:"Average"},OGe=function(n){EGe(t,n);function t(){var r=n!==null&&n.apply(this,arguments)||this;return r.aggFuncsMap={},r.initialised=!1,r}e=t,t.prototype.init=function(){this.initialised||(this.initialiseWithDefaultAggregations(),this.addAggFuncs(this.gridOptionsService.get("aggFuncs")))},t.prototype.initialiseWithDefaultAggregations=function(){this.aggFuncsMap[e.AGG_SUM]=RGe,this.aggFuncsMap[e.AGG_FIRST]=TGe,this.aggFuncsMap[e.AGG_LAST]=PGe,this.aggFuncsMap[e.AGG_MIN]=AGe,this.aggFuncsMap[e.AGG_MAX]=DGe,this.aggFuncsMap[e.AGG_COUNT]=MGe,this.aggFuncsMap[e.AGG_AVG]=FGe,this.initialised=!0},t.prototype.isAggFuncPossible=function(r,i){var o=this.getFuncNames(r),a=D.includes(o,i),s=D.exists(this.aggFuncsMap[i]);return a&&s},t.prototype.getDefaultFuncLabel=function(r){var i;return(i=bGe[r])!==null&&i!==void 0?i:r},t.prototype.getDefaultAggFunc=function(r){var i=r.getColDef().defaultAggFunc;if(D.exists(i)&&this.isAggFuncPossible(r,i))return i;if(this.isAggFuncPossible(r,e.AGG_SUM))return e.AGG_SUM;var o=this.getFuncNames(r);return D.existsAndNotEmpty(o)?o[0]:null},t.prototype.addAggFuncs=function(r){var i=this;this.init(),D.iterateObject(r,function(o,a){i.aggFuncsMap[o]=a})},t.prototype.getAggFunc=function(r){return this.init(),this.aggFuncsMap[r]},t.prototype.getFuncNames=function(r){var i=r.getColDef().allowedAggFuncs;return i??Object.keys(this.aggFuncsMap).sort()},t.prototype.clear=function(){this.aggFuncsMap={}};var e;return t.AGG_SUM="sum",t.AGG_FIRST="first",t.AGG_LAST="last",t.AGG_MIN="min",t.AGG_MAX="max",t.AGG_COUNT="count",t.AGG_AVG="avg",PU([z],t.prototype,"init",null),t=e=PU([ae("aggFuncService")],t),t}(q);function RGe(n){for(var t=n.values,e=null,r=0;r<t.length;r++){var i=t[r];typeof i=="number"?e===null?e=i:Sl?e+=typeof e=="number"?i:Sl(i):e+=i:typeof i=="bigint"&&(e===null?e=i:e=(typeof e=="bigint"?e:Sl(e))+i)}return e}function TGe(n){return n.values.length>0?n.values[0]:null}function PGe(n){return n.values.length>0?D.last(n.values):null}function AGe(n){for(var t=n.values,e=null,r=0;r<t.length;r++){var i=t[r];(typeof i=="number"||typeof i=="bigint")&&(e===null||e>i)&&(e=i)}return e}function DGe(n){for(var t=n.values,e=null,r=0;r<t.length;r++){var i=t[r];(typeof i=="number"||typeof i=="bigint")&&(e===null||e<i)&&(e=i)}return e}function MGe(n){for(var t,e,r=n.values,i=0,o=0;o<r.length;o++){var a=r[o];i+=a!=null&&typeof a.value=="number"?a.value:1}var s=(e=(t=n.rowNode)===null||t===void 0?void 0:t.aggData)===null||e===void 0?void 0:e[n.column.getColId()];return s&&s.value===i?s:{value:i,toString:function(){return this.value.toString()},toNumber:function(){return this.value}}}function FGe(n){for(var t,e,r,i=n.values,o=0,a=0,s=0;s<i.length;s++){var l=i[s],u=null;typeof l=="number"||typeof l=="bigint"?(u=l,a++):l!=null&&(typeof l.value=="number"||typeof l.value=="bigint")&&typeof l.count=="number"&&(Sl?u=l.value*(typeof l.value=="number"?l.count:Sl(l.count)):u=l.value*l.count,a+=l.count),typeof u=="number"?Sl?o+=typeof o=="number"?u:Sl(u):o+=u:typeof u=="bigint"&&(o=(typeof o=="bigint"?o:Sl(o))+u)}var c=null;a>0&&(Sl?c=o/(typeof o=="number"?a:Sl(a)):c=o/a);var d=(e=(t=n.rowNode)===null||t===void 0?void 0:t.aggData)===null||e===void 0?void 0:e[(r=n.column)===null||r===void 0?void 0:r.getColId()];return d&&d.count===a&&d.value===c?d:{count:a,value:c,toString:function(){return typeof this.value=="number"||typeof this.value=="bigint"?this.value.toString():""},toNumber:function(){return this.value}}}var jZ=function(){var n=function(t,e){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])},n(t,e)};return function(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");n(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}}(),ol=function(n,t,e,r){var i=arguments.length,o=i<3?t:r===null?r=Object.getOwnPropertyDescriptor(t,e):r,a;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(n,t,e,r);else for(var s=n.length-1;s>=0;s--)(a=n[s])&&(o=(i<3?a(o):i>3?a(t,e,o):a(t,e))||o);return i>3&&o&&Object.defineProperty(t,e,o),o},AU=function(n){jZ(t,n);function t(e,r,i,o,a){var s=n.call(this)||this;return s.column=e,s.dragSourceDropTarget=r,s.ghost=i,s.dropZonePurpose=o,s.horizontal=a,s.popupShowing=!1,s}return t.prototype.init=function(){var e=this;this.setTemplate(t.TEMPLATE);var r=this.getGui(),i=this.gridOptionsService.get("functionsReadOnly");this.addElementClasses(r),this.addElementClasses(this.eDragHandle,"drag-handle"),this.addElementClasses(this.eText,"text"),this.addElementClasses(this.eButton,"button"),this.eDragHandle.appendChild(D.createIconNoSpan("columnDrag",this.gridOptionsService)),this.eButton.appendChild(D.createIconNoSpan("cancel",this.gridOptionsService)),this.setupSort(),this.displayName=this.columnModel.getDisplayNameForColumn(this.column,"columnDrop"),this.setupComponents(),!this.ghost&&!i&&this.addDragSource(),this.setupAria(),this.addManagedListener(this.eventService,Je.EVENT_SORT_CHANGED,function(){e.setupAria()}),this.setupTooltip(),this.activateTabIndex();var o=function(){var a=e.isGroupingAndLocked();D.setDisplayed(e.eButton,!a&&!e.gridOptionsService.get("functionsReadOnly")),e.eDragHandle.classList.toggle("ag-column-select-column-readonly",a),e.setupAria()};o(),this.isGroupingZone()&&this.addManagedPropertyListener("groupLockGroupColumns",function(){return o()})},t.prototype.getColumn=function(){return this.column},t.prototype.setupAria=function(){var e=this.localeService.getLocaleTextFunc(),r=this.getColumnAndAggFuncName(),i=r.name,o=r.aggFuncName,a=e("ariaDropZoneColumnComponentAggFuncSeparator"," of "),s={asc:e("ariaDropZoneColumnComponentSortAscending","ascending"),desc:e("ariaDropZoneColumnComponentSortDescending","descending")},l=this.column.getSort(),u=this.gridOptionsService.get("rowGroupPanelSuppressSort"),c=[[o&&"".concat(o).concat(a),i,this.isGroupingZone()&&!u&&l&&", ".concat(s[l])].filter(function(v){return!!v}).join("")],d=this.gridOptionsService.get("functionsReadOnly");if(this.isAggregationZone()&&!d){var p=e("ariaDropZoneColumnValueItemDescription","Press ENTER to change the aggregation type");c.push(p)}if(this.isGroupingZone()&&this.column.isSortable()&&!u){var h=e("ariaDropZoneColumnGroupItemDescription","Press ENTER to sort");c.push(h)}if(!this.isGroupingAndLocked()){var f=e("ariaDropZoneColumnComponentDescription","Press DELETE to remove");c.push(f)}D.setAriaLabel(this.getGui(),c.join(". "))},t.prototype.setupTooltip=function(){var e=this,r=function(){var i=e.column.getColDef().headerTooltip;e.setTooltip(i)};r(),this.addManagedListener(this.eventService,P.EVENT_NEW_COLUMNS_LOADED,r)},t.prototype.setupSort=function(){var e=this,r=this.column.isSortable(),i=this.isGroupingZone();if(!(!r||!i)&&!this.gridOptionsService.get("rowGroupPanelSuppressSort")){this.eSortIndicator.setupSort(this.column,!0);var o=function(a){a.preventDefault();var s=e.gridOptionsService.get("multiSortKey")==="ctrl",l=s?a.ctrlKey||a.metaKey:a.shiftKey;e.sortController.progressSort(e.column,l,"uiColumnSorted")};this.addGuiEventListener("click",o),this.addGuiEventListener("keydown",function(a){var s=a.key===U.ENTER;s&&e.isGroupingZone()&&o(a)})}},t.prototype.addDragSource=function(){var e=this,r=this,i=r.dragAndDropService,o=r.displayName,a=r.eDragHandle,s=r.column,l={type:Sr.ToolPanel,eElement:a,getDefaultIconName:function(){return Ct.ICON_HIDE},getDragItem:function(){return e.createDragItem(s)},dragItemName:o};i.addDragSource(l,!0),this.addDestroyFunc(function(){return i.removeDragSource(l)})},t.prototype.createDragItem=function(e){var r={};return r[e.getId()]=e.isVisible(),{columns:[e],visibleState:r}},t.prototype.setupComponents=function(){this.setTextValue(),this.setupRemove(),this.ghost&&this.addCssClass("ag-column-drop-cell-ghost"),this.isAggregationZone()&&!this.gridOptionsService.get("functionsReadOnly")&&this.addGuiEventListener("click",this.onShowAggFuncSelection.bind(this))},t.prototype.isGroupingAndLocked=function(){return this.isGroupingZone()&&this.columnModel.isColumnGroupingLocked(this.column)},t.prototype.setupRemove=function(){var e=this;D.setDisplayed(this.eButton,!this.isGroupingAndLocked()&&!this.gridOptionsService.get("functionsReadOnly"));var r={type:t.EVENT_COLUMN_REMOVE};this.addGuiEventListener("keydown",function(o){var a=o.key===U.ENTER,s=o.key===U.DELETE;s&&(e.isGroupingAndLocked()||(o.preventDefault(),e.dispatchEvent(r))),a&&e.isAggregationZone()&&!e.gridOptionsService.get("functionsReadOnly")&&(o.preventDefault(),e.onShowAggFuncSelection())}),this.addManagedListener(this.eButton,"click",function(o){e.dispatchEvent(r),o.stopPropagation()});var i=new jr(this.eButton);this.addManagedListener(i,jr.EVENT_TAP,function(){e.dispatchEvent(r)}),this.addDestroyFunc(i.destroy.bind(i))},t.prototype.getColumnAndAggFuncName=function(){var e=this.displayName,r="";if(this.isAggregationZone()){var i=this.column.getAggFunc(),o=typeof i=="string"?i:"agg",a=this.localeService.getLocaleTextFunc();r=a(o,o)}return{name:e,aggFuncName:r}},t.prototype.setTextValue=function(){var e=this.getColumnAndAggFuncName(),r=e.name,i=e.aggFuncName,o=this.isAggregationZone()?"".concat(i,"(").concat(r,")"):r,a=D.escapeString(o);this.eText.innerHTML=a},t.prototype.onShowAggFuncSelection=function(){var e=this;if(!this.popupShowing){this.popupShowing=!0;var r=new nf({cssIdentifier:"select-agg-func"}),i=this.aggFuncService.getFuncNames(this.column),o=this.getGui(),a=r.getGui();r.setModel({getRow:function(h){return i[h]},getRowCount:function(){return i.length}}),this.getContext().createBean(r);var s=D.loadTemplate('<div class="ag-select-agg-func-popup"></div>');s.style.top="0px",s.style.left="0px",s.appendChild(a),s.style.width="".concat(o.clientWidth,"px");var l=this.addManagedListener(s,"focusout",function(h){!s.contains(h.relatedTarget)&&d&&d.hideFunc()}),u=function(h){e.destroyBean(r),e.popupShowing=!1,(h==null?void 0:h.key)==="Escape"&&o.focus(),l&&l()},c=this.localeService.getLocaleTextFunc(),d=this.popupService.addPopup({modal:!0,eChild:s,closeOnEsc:!0,closedCallback:u,ariaLabel:c("ariaLabelAggregationFunction","Aggregation Function")});d&&r.setComponentCreator(this.createAggSelect.bind(this,d.hideFunc)),r.addGuiEventListener("keydown",function(h){if(h.key===U.ENTER||h.key===U.SPACE){var f=r.getLastFocusedRow();if(f==null)return;var v=r.getComponentAt(f);v&&v.selectItem()}}),this.popupService.positionPopupByComponent({type:"aggFuncSelect",eventSource:o,ePopup:s,keepWithinBounds:!0,column:this.column,position:"under"}),r.refresh();var p=i.findIndex(function(h){return h===e.column.getAggFunc()});p===-1&&(p=0),r.focusRow(p)}},t.prototype.createAggSelect=function(e,r){var i=this,o=function(){if(e(),i.gridOptionsService.get("functionsPassive")){var c={type:P.EVENT_COLUMN_AGG_FUNC_CHANGE_REQUEST,columns:[i.column],aggFunc:r};i.eventService.dispatchEvent(c)}else i.columnModel.setColumnAggFunc(i.column,r,"toolPanelDragAndDrop")},a=this.localeService.getLocaleTextFunc(),s=r.toString(),l=a(s,s),u=new LGe(o,l);return u},t.prototype.addElementClasses=function(e,r){r=r?"-".concat(r):"";var i=this.horizontal?"horizontal":"vertical";e.classList.add("ag-column-drop-cell".concat(r),"ag-column-drop-".concat(i,"-cell").concat(r))},t.prototype.isAggregationZone=function(){return this.dropZonePurpose==="aggregation"},t.prototype.isGroupingZone=function(){return this.dropZonePurpose==="rowGroup"},t.prototype.destroy=function(){n.prototype.destroy.call(this),this.column=null,this.dragSourceDropTarget=null},t.EVENT_COLUMN_REMOVE="columnRemove",t.TEMPLATE=`<span role="option">
          <span ref="eDragHandle" class="ag-drag-handle ag-column-drop-cell-drag-handle" role="presentation"></span>
          <span ref="eText" class="ag-column-drop-cell-text" aria-hidden="true"></span>
          <ag-sort-indicator ref="eSortIndicator"></ag-sort-indicator>
          <span ref="eButton" class="ag-column-drop-cell-button" role="presentation"></span>
        </span>`,ol([E("dragAndDropService")],t.prototype,"dragAndDropService",void 0),ol([E("columnModel")],t.prototype,"columnModel",void 0),ol([E("popupService")],t.prototype,"popupService",void 0),ol([qe("aggFuncService")],t.prototype,"aggFuncService",void 0),ol([E("sortController")],t.prototype,"sortController",void 0),ol([$("eText")],t.prototype,"eText",void 0),ol([$("eDragHandle")],t.prototype,"eDragHandle",void 0),ol([$("eButton")],t.prototype,"eButton",void 0),ol([$("eSortIndicator")],t.prototype,"eSortIndicator",void 0),ol([z],t.prototype,"init",null),t}(de),LGe=function(n){jZ(t,n);function t(e,r){var i=n.call(this,'<div class="ag-select-agg-func-item"/>')||this;return i.selectItem=e,i.getGui().innerText=r,i.addGuiEventListener("click",i.selectItem),i}return t}(de),IGe=function(){var n=function(t,e){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])},n(t,e)};return function(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");n(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}}(),DU=function(n,t,e,r){var i=arguments.length,o=i<3?t:r===null?r=Object.getOwnPropertyDescriptor(t,e):r,a;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(n,t,e,r);else for(var s=n.length-1;s>=0;s--)(a=n[s])&&(o=(i<3?a(o):i>3?a(t,e,o):a(t,e))||o);return i>3&&o&&Object.defineProperty(t,e,o),o},MU=function(n,t){var e=typeof Symbol=="function"&&n[Symbol.iterator];if(!e)return n;var r=e.call(n),i,o=[],a;try{for(;(t===void 0||t-- >0)&&!(i=r.next()).done;)o.push(i.value)}catch(s){a={error:s}}finally{try{i&&!i.done&&(e=r.return)&&e.call(r)}finally{if(a)throw a.error}}return o},FU=function(n,t,e){if(e||arguments.length===2)for(var r=0,i=t.length,o;r<i;r++)(o||!(r in t))&&(o||(o=Array.prototype.slice.call(t,0,r)),o[r]=t[r]);return n.concat(o||Array.prototype.slice.call(t))},PV=function(n){IGe(t,n);function t(e,r){var i=n.call(this,'<div class="ag-unselectable" role="presentation"></div>')||this;return i.horizontal=e,i.dropZonePurpose=r,i.state=t.STATE_NOT_DRAGGING,i.guiDestroyFunctions=[],i.childColumnComponents=[],i.resizeEnabled=!1,i.addElementClasses(i.getGui()),i.eColumnDropList=document.createElement("div"),i.addElementClasses(i.eColumnDropList,"list"),D.setAriaRole(i.eColumnDropList,"listbox"),i}return t.prototype.isHorizontal=function(){return this.horizontal},t.prototype.toggleResizable=function(e){this.positionableFeature.setResizable(e?{bottom:!0}:!1),this.resizeEnabled=e},t.prototype.setBeans=function(e){this.beans=e},t.prototype.isSourceEventFromTarget=function(e){var r=e.dropZoneTarget,i=e.dragSource;return r.contains(i.eElement)},t.prototype.destroy=function(){this.destroyGui(),n.prototype.destroy.call(this)},t.prototype.destroyGui=function(){this.guiDestroyFunctions.forEach(function(e){return e()}),this.guiDestroyFunctions.length=0,this.childColumnComponents.length=0,D.clearElement(this.getGui()),D.clearElement(this.eColumnDropList)},t.prototype.init=function(e){this.params=e,this.createManagedBean(new eu(this.getFocusableElement(),{handleKeyDown:this.handleKeyDown.bind(this)})),this.addManagedListener(this.beans.eventService,P.EVENT_NEW_COLUMNS_LOADED,this.refreshGui.bind(this)),this.addManagedPropertyListeners(["functionsReadOnly","rowGroupPanelSuppressSort","groupLockGroupColumns"],this.refreshGui.bind(this)),this.setupDropTarget(),this.positionableFeature=new kw(this.getGui(),{minHeight:100}),this.createManagedBean(this.positionableFeature),this.refreshGui(),D.setAriaLabel(this.eColumnDropList,this.getAriaLabel())},t.prototype.handleKeyDown=function(e){var r=!this.horizontal,i=e.key===U.DOWN,o=e.key===U.UP;if(!r){var a=this.gridOptionsService.get("enableRtl");i=!a&&e.key===U.RIGHT||a&&e.key===U.LEFT,o=!a&&e.key===U.LEFT||a&&e.key===U.RIGHT}if(!(!i&&!o)){var s=this.focusService.findNextFocusableElement(this.getFocusableElement(),!1,o);s&&(e.preventDefault(),s.focus())}},t.prototype.addElementClasses=function(e,r){r=r?"-".concat(r):"";var i=this.horizontal?"horizontal":"vertical";e.classList.add("ag-column-drop".concat(r),"ag-column-drop-".concat(i).concat(r))},t.prototype.setupDropTarget=function(){this.dropTarget={getContainer:this.getGui.bind(this),getIconName:this.getIconName.bind(this),onDragging:this.onDragging.bind(this),onDragEnter:this.onDragEnter.bind(this),onDragLeave:this.onDragLeave.bind(this),onDragStop:this.onDragStop.bind(this),isInterestedIn:this.isInterestedIn.bind(this)},this.beans.dragAndDropService.addDropTarget(this.dropTarget)},t.prototype.isInterestedIn=function(e){return e===Sr.HeaderCell||e===Sr.ToolPanel},t.prototype.minimumAllowedNewInsertIndex=function(){var e=this.gridOptionsService.get("groupLockGroupColumns"),r=this.colModel.getRowGroupColumns().length;return e===-1?r:Math.min(e,r)},t.prototype.checkInsertIndex=function(e){var r=this.getNewInsertIndex(e);if(r<0)return!1;var i=this.minimumAllowedNewInsertIndex(),o=Math.max(i,r),a=o!==this.insertIndex;return a&&(this.insertIndex=o),a},t.prototype.getNewInsertIndex=function(e){var r=this,i=e.event,o=this.horizontal?i.clientX:i.clientY,a=this.childColumnComponents.map(function(d){return d.getGui().getBoundingClientRect()}),s=a.findIndex(function(d){return r.horizontal?d.right>o&&d.left<o:d.top<o&&d.bottom>o});if(s===-1){var l=this.beans.gridOptionsService.get("enableRtl"),u=a.every(function(d){return o>(r.horizontal?d.right:d.bottom)});if(u)return l&&this.horizontal?0:this.childColumnComponents.length;var c=a.every(function(d){return o<(r.horizontal?d.left:d.top)});return c?l&&this.horizontal?this.childColumnComponents.length:0:this.insertIndex}return this.insertIndex<=s?s+1:s},t.prototype.checkDragStartedBySelf=function(e){this.state===t.STATE_NOT_DRAGGING&&(this.state=t.STATE_REARRANGE_COLUMNS,this.potentialDndColumns=e.dragSource.getDragItem().columns||[],this.refreshGui(),this.checkInsertIndex(e),this.refreshGui())},t.prototype.onDragging=function(e){this.checkDragStartedBySelf(e),this.checkInsertIndex(e)&&this.refreshGui()},t.prototype.onDragEnter=function(e){var r=this,i=e.dragSource.getDragItem().columns||[];this.state=t.STATE_NEW_COLUMNS_IN;var o=i.filter(function(c){return r.isColumnDroppable(c,e)}),a=o.every(function(c){return r.childColumnComponents.map(function(d){return d.getColumn()}).indexOf(c)!==-1});if(o.length!==0){if(this.potentialDndColumns=o,a){this.state=t.STATE_NOT_DRAGGING;return}var s=this.isRowGroupPanel()&&!this.gridOptionsService.get("suppressRowGroupHidesColumns")&&!e.fromNudge;if(s){var l=e.dragSource.getDragItem(),u=l.columns;this.setColumnsVisible(u,!1,"uiColumnDragged")}this.checkInsertIndex(e),this.refreshGui()}},t.prototype.setColumnsVisible=function(e,r,i){if(e){var o=e.filter(function(a){return!a.getColDef().lockVisible});this.colModel.setColumnsVisible(o,r,i)}},t.prototype.isPotentialDndColumns=function(){return D.existsAndNotEmpty(this.potentialDndColumns)},t.prototype.isRowGroupPanel=function(){return this.dropZonePurpose==="rowGroup"},t.prototype.onDragLeave=function(e){if(this.state===t.STATE_REARRANGE_COLUMNS){var r=e.dragSource.getDragItem().columns||[];this.removeColumns(r)}if(this.isPotentialDndColumns()){var i=this.isRowGroupPanel()&&!this.gridOptionsService.get("suppressMakeColumnVisibleAfterUnGroup")&&!e.fromNudge;if(i){var o=e.dragSource.getDragItem();this.setColumnsVisible(o.columns,!0,"uiColumnDragged")}this.potentialDndColumns=[],this.refreshGui()}this.state=t.STATE_NOT_DRAGGING},t.prototype.onDragStop=function(){if(this.isPotentialDndColumns()){var e=!1;this.state===t.STATE_NEW_COLUMNS_IN?(this.addColumns(this.potentialDndColumns),e=!0):e=this.rearrangeColumns(this.potentialDndColumns),this.potentialDndColumns=[],(!this.beans.gridOptionsService.get("functionsPassive")||!e)&&this.refreshGui()}this.state=t.STATE_NOT_DRAGGING},t.prototype.removeColumns=function(e){var r=this.getExistingColumns().filter(function(i){return!D.includes(e,i)});this.updateColumns(r)},t.prototype.addColumns=function(e){if(e){var r=this.getExistingColumns().slice(),i=e.filter(function(o){return r.indexOf(o)<0});D.insertArrayIntoArray(r,i,this.insertIndex),this.updateColumns(r)}},t.prototype.rearrangeColumns=function(e){var r=this.getNonGhostColumns().slice();return D.insertArrayIntoArray(r,e,this.insertIndex),D.areEqual(r,this.getExistingColumns())?!1:(this.updateColumns(r),!0)},t.prototype.refreshGui=function(){var e=this.eColumnDropList.scrollTop,r=this.resizeEnabled,i=this.getFocusedItem(),o=this.focusService.findNextFocusableElement();o||(o=this.focusService.findNextFocusableElement(void 0,!1,!0)),this.toggleResizable(!1),this.destroyGui(),this.addIconAndTitleToGui(),this.addEmptyMessageToGui(),this.addColumnsToGui(),this.isHorizontal()||(this.eColumnDropList.scrollTop=e),r&&this.toggleResizable(r),this.focusService.isKeyboardMode()&&this.restoreFocus(i,o)},t.prototype.getFocusedItem=function(){var e=this.getGui(),r=this.gridOptionsService.getDocument().activeElement;if(!e.contains(r))return-1;var i=Array.from(e.querySelectorAll(".ag-column-drop-cell"));return i.indexOf(r)},t.prototype.restoreFocus=function(e,r){var i=this.getGui(),o=Array.from(i.querySelectorAll(".ag-column-drop-cell"));if(e!==-1){o.length===0&&r.focus();var a=Math.min(o.length-1,e),s=o[a];s&&s.focus()}},t.prototype.getNonGhostColumns=function(){var e=this,r=this.getExistingColumns();return this.isPotentialDndColumns()?r.filter(function(i){return!D.includes(e.potentialDndColumns,i)}):r},t.prototype.addColumnsToGui=function(){var e=this,r=this.getNonGhostColumns(),i=r.map(function(a){return e.createColumnComponent(a,!1)});if(this.isPotentialDndColumns()){var o=this.potentialDndColumns.map(function(a){return e.createColumnComponent(a,!0)});this.insertIndex>=i.length?i.push.apply(i,FU([],MU(o),!1)):i.splice.apply(i,FU([this.insertIndex,0],MU(o),!1))}this.appendChild(this.eColumnDropList),i.forEach(function(a,s){s>0&&e.addArrow(e.eColumnDropList),e.eColumnDropList.appendChild(a.getGui())}),this.addAriaLabelsToComponents()},t.prototype.addAriaLabelsToComponents=function(){var e=this;this.childColumnComponents.forEach(function(r,i){var o=r.getGui();D.setAriaPosInSet(o,i+1),D.setAriaSetSize(o,e.childColumnComponents.length)})},t.prototype.createColumnComponent=function(e,r){var i=this,o=new AU(e,this.dropTarget,r,this.dropZonePurpose,this.horizontal);return o.addEventListener(AU.EVENT_COLUMN_REMOVE,this.removeColumns.bind(this,[e])),this.beans.context.createBean(o),this.guiDestroyFunctions.push(function(){return i.destroyBean(o)}),r||this.childColumnComponents.push(o),o},t.prototype.addIconAndTitleToGui=function(){var e=this.params.icon,r=document.createElement("div");if(D.setAriaHidden(r,!0),this.addElementClasses(r,"title-bar"),this.addElementClasses(e,"icon"),this.addOrRemoveCssClass("ag-column-drop-empty",this.isExistingColumnsEmpty()),r.appendChild(e),!this.horizontal){var i=document.createElement("span");this.addElementClasses(i,"title"),i.innerHTML=this.params.title,r.appendChild(i)}this.appendChild(r)},t.prototype.isExistingColumnsEmpty=function(){return this.getExistingColumns().length===0},t.prototype.addEmptyMessageToGui=function(){if(!(!this.isExistingColumnsEmpty()||this.isPotentialDndColumns())){var e=document.createElement("span");e.innerHTML=this.params.emptyMessage,this.addElementClasses(e,"empty-message"),this.eColumnDropList.appendChild(e)}},t.prototype.addArrow=function(e){if(this.horizontal){var r=this.beans.gridOptionsService.get("enableRtl"),i=D.createIconNoSpan(r?"smallLeft":"smallRight",this.beans.gridOptionsService);this.addElementClasses(i,"cell-separator"),e.appendChild(i)}},t.STATE_NOT_DRAGGING="notDragging",t.STATE_NEW_COLUMNS_IN="newColumnsIn",t.STATE_REARRANGE_COLUMNS="rearrangeColumns",DU([E("columnModel")],t.prototype,"colModel",void 0),DU([E("focusService")],t.prototype,"focusService",void 0),t}(de),NGe=function(){var n=function(t,e){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])},n(t,e)};return function(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");n(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}}(),ex=function(n,t,e,r){var i=arguments.length,o=i<3?t:r===null?r=Object.getOwnPropertyDescriptor(t,e):r,a;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(n,t,e,r);else for(var s=n.length-1;s>=0;s--)(a=n[s])&&(o=(i<3?a(o):i>3?a(t,e,o):a(t,e))||o);return i>3&&o&&Object.defineProperty(t,e,o),o},rI=function(n){NGe(t,n);function t(e){return n.call(this,e,"rowGroup")||this}return t.prototype.passBeansUp=function(){n.prototype.setBeans.call(this,{gridOptionsService:this.gridOptionsService,eventService:this.eventService,context:this.getContext(),loggerFactory:this.loggerFactory,dragAndDropService:this.dragAndDropService});var e=this.localeService.getLocaleTextFunc(),r=e("rowGroupColumnsEmptyMessage","Drag here to set row groups"),i=e("groups","Row Groups");n.prototype.init.call(this,{dragAndDropIcon:Ct.ICON_GROUP,icon:D.createIconNoSpan("rowGroupPanel",this.gridOptionsService,null),emptyMessage:r,title:i}),this.addManagedListener(this.eventService,P.EVENT_COLUMN_ROW_GROUP_CHANGED,this.refreshGui.bind(this))},t.prototype.getAriaLabel=function(){var e=this.localeService.getLocaleTextFunc(),r=e("ariaRowGroupDropZonePanelLabel","Row Groups");return r},t.prototype.getTooltipParams=function(){var e=n.prototype.getTooltipParams.call(this);return e.location="rowGroupColumnsList",e},t.prototype.isColumnDroppable=function(e,r){return this.gridOptionsService.get("functionsReadOnly")||!e.isPrimary()?!1:e.isAllowRowGroup()&&(!e.isRowGroupActive()||this.isSourceEventFromTarget(r))},t.prototype.updateColumns=function(e){if(this.gridOptionsService.get("functionsPassive")){var r={type:P.EVENT_COLUMN_ROW_GROUP_CHANGE_REQUEST,columns:e};this.eventService.dispatchEvent(r)}else this.columnModel.setRowGroupColumns(e,"toolPanelUi")},t.prototype.getIconName=function(){return this.isPotentialDndColumns()?Ct.ICON_GROUP:Ct.ICON_NOT_ALLOWED},t.prototype.getExistingColumns=function(){return this.columnModel.getRowGroupColumns()},ex([E("columnModel")],t.prototype,"columnModel",void 0),ex([E("loggerFactory")],t.prototype,"loggerFactory",void 0),ex([E("dragAndDropService")],t.prototype,"dragAndDropService",void 0),ex([z],t.prototype,"passBeansUp",null),t}(PV),kGe=function(){var n=function(t,e){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])},n(t,e)};return function(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");n(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}}(),tx=function(n,t,e,r){var i=arguments.length,o=i<3?t:r===null?r=Object.getOwnPropertyDescriptor(t,e):r,a;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(n,t,e,r);else for(var s=n.length-1;s>=0;s--)(a=n[s])&&(o=(i<3?a(o):i>3?a(t,e,o):a(t,e))||o);return i>3&&o&&Object.defineProperty(t,e,o),o},nI=function(n){kGe(t,n);function t(e){return n.call(this,e,"pivot")||this}return t.prototype.passBeansUp=function(){n.prototype.setBeans.call(this,{gridOptionsService:this.gridOptionsService,eventService:this.eventService,context:this.getContext(),loggerFactory:this.loggerFactory,dragAndDropService:this.dragAndDropService});var e=this.localeService.getLocaleTextFunc(),r=e("pivotColumnsEmptyMessage","Drag here to set column labels"),i=e("pivots","Column Labels");n.prototype.init.call(this,{dragAndDropIcon:Ct.ICON_GROUP,icon:D.createIconNoSpan("pivotPanel",this.gridOptionsService,null),emptyMessage:r,title:i}),this.addManagedListener(this.eventService,P.EVENT_NEW_COLUMNS_LOADED,this.refresh.bind(this)),this.addManagedListener(this.eventService,P.EVENT_COLUMN_PIVOT_CHANGED,this.refresh.bind(this)),this.addManagedListener(this.eventService,P.EVENT_COLUMN_PIVOT_MODE_CHANGED,this.checkVisibility.bind(this)),this.refresh()},t.prototype.getAriaLabel=function(){var e=this.localeService.getLocaleTextFunc(),r=e("ariaPivotDropZonePanelLabel","Column Labels");return r},t.prototype.getTooltipParams=function(){var e=n.prototype.getTooltipParams.call(this);return e.location="pivotColumnsList",e},t.prototype.refresh=function(){this.checkVisibility(),this.refreshGui()},t.prototype.checkVisibility=function(){var e=this.columnModel.isPivotMode();if(this.isHorizontal())switch(this.gridOptionsService.get("pivotPanelShow")){case"always":this.setDisplayed(e);break;case"onlyWhenPivoting":var r=this.columnModel.isPivotActive();this.setDisplayed(e&&r);break;default:this.setDisplayed(!1);break}else this.setDisplayed(e)},t.prototype.isColumnDroppable=function(e,r){return this.gridOptionsService.get("functionsReadOnly")||!e.isPrimary()?!1:e.isAllowPivot()&&(!e.isPivotActive()||this.isSourceEventFromTarget(r))},t.prototype.updateColumns=function(e){if(this.gridOptionsService.get("functionsPassive")){var r={type:P.EVENT_COLUMN_PIVOT_CHANGE_REQUEST,columns:e};this.eventService.dispatchEvent(r)}else this.columnModel.setPivotColumns(e,"toolPanelUi")},t.prototype.getIconName=function(){return this.isPotentialDndColumns()?Ct.ICON_PIVOT:Ct.ICON_NOT_ALLOWED},t.prototype.getExistingColumns=function(){return this.columnModel.getPivotColumns()},tx([E("columnModel")],t.prototype,"columnModel",void 0),tx([E("loggerFactory")],t.prototype,"loggerFactory",void 0),tx([E("dragAndDropService")],t.prototype,"dragAndDropService",void 0),tx([z],t.prototype,"passBeansUp",null),t}(PV),GGe=function(){var n=function(t,e){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])},n(t,e)};return function(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");n(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}}(),LU=function(n,t,e,r){var i=arguments.length,o=i<3?t:r===null?r=Object.getOwnPropertyDescriptor(t,e):r,a;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(n,t,e,r);else for(var s=n.length-1;s>=0;s--)(a=n[s])&&(o=(i<3?a(o):i>3?a(t,e,o):a(t,e))||o);return i>3&&o&&Object.defineProperty(t,e,o),o},VGe=function(n){GGe(t,n);function t(){return n.call(this)||this}return t.prototype.postConstruct=function(){var e=this;this.setGui(this.createNorthPanel()),this.addManagedListener(this.eventService,P.EVENT_COLUMN_ROW_GROUP_CHANGED,function(){return e.onRowGroupChanged()}),this.addManagedListener(this.eventService,P.EVENT_NEW_COLUMNS_LOADED,function(){return e.onRowGroupChanged()}),this.addManagedPropertyListener("rowGroupPanelShow",function(){return e.onRowGroupChanged()}),this.addManagedPropertyListener("pivotPanelShow",function(){return e.onPivotPanelShow()}),this.onRowGroupChanged()},t.prototype.createNorthPanel=function(){var e=this,r=document.createElement("div");return r.classList.add("ag-column-drop-wrapper"),D.setAriaRole(r,"presentation"),this.rowGroupComp=new rI(!0),this.createManagedBean(this.rowGroupComp),this.pivotComp=new nI(!0),this.createManagedBean(this.pivotComp),r.appendChild(this.rowGroupComp.getGui()),r.appendChild(this.pivotComp.getGui()),this.addManagedListener(this.rowGroupComp,de.EVENT_DISPLAYED_CHANGED,function(){return e.onDropPanelVisible()}),this.addManagedListener(this.pivotComp,de.EVENT_DISPLAYED_CHANGED,function(){return e.onDropPanelVisible()}),this.onDropPanelVisible(),r},t.prototype.onDropPanelVisible=function(){var e=this.rowGroupComp.isDisplayed()&&this.pivotComp.isDisplayed();this.rowGroupComp.addOrRemoveCssClass("ag-column-drop-horizontal-half-width",e),this.pivotComp.addOrRemoveCssClass("ag-column-drop-horizontal-half-width",e)},t.prototype.onRowGroupChanged=function(){if(this.rowGroupComp){var e=this.gridOptionsService.get("rowGroupPanelShow");if(e==="always")this.rowGroupComp.setDisplayed(!0);else if(e==="onlyWhenGrouping"){var r=!this.columnModel.isRowGroupEmpty();this.rowGroupComp.setDisplayed(r)}else this.rowGroupComp.setDisplayed(!1)}},t.prototype.onPivotPanelShow=function(){if(this.pivotComp){var e=this.gridOptionsService.get("pivotPanelShow");if(e==="always")this.pivotComp.setDisplayed(!0);else if(e==="onlyWhenPivoting"){var r=this.columnModel.isPivotActive();this.pivotComp.setDisplayed(r)}else this.pivotComp.setDisplayed(!1)}},LU([E("columnModel")],t.prototype,"columnModel",void 0),LU([z],t.prototype,"postConstruct",null),t}(de),BGe=function(){var n=function(t,e){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])},n(t,e)};return function(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");n(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}}(),qD=function(n,t,e,r){var i=arguments.length,o=i<3?t:r===null?r=Object.getOwnPropertyDescriptor(t,e):r,a;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(n,t,e,r);else for(var s=n.length-1;s>=0;s--)(a=n[s])&&(o=(i<3?a(o):i>3?a(t,e,o):a(t,e))||o);return i>3&&o&&Object.defineProperty(t,e,o),o},HGe=function(n){BGe(t,n);function t(){return n!==null&&n.apply(this,arguments)||this}return t.prototype.execute=function(e){var r=this,i=this.columnModel.isPivotMode(),o=this.filterManager.isAggregateFilterPresent()||this.filterManager.isAggregateQuickFilterPresent(),a=function(p){return!p.node.group},s=function(p){return p.node.leafGroup},l=this.gridOptionsService.getGroupAggFiltering()||(i?s:a),u=e.changedPath,c=function(p,h){h===void 0&&(h=!1),p.childrenAfterFilter&&(p.childrenAfterAggFilter=p.childrenAfterFilter,h&&p.childrenAfterAggFilter.forEach(function(f){return c(f,h)}),r.setAllChildrenCount(p)),p.sibling&&(p.sibling.childrenAfterAggFilter=p.childrenAfterAggFilter)},d=function(p){var h;p.childrenAfterAggFilter=((h=p.childrenAfterFilter)===null||h===void 0?void 0:h.filter(function(f){var v,g=l({node:f});if(g){var y=r.filterManager.doesRowPassAggregateFilters({rowNode:f});if(y)return c(f,!0),!0}var m=(v=f.childrenAfterAggFilter)===null||v===void 0?void 0:v.length;return m}))||null,r.setAllChildrenCount(p),p.sibling&&(p.sibling.childrenAfterAggFilter=p.childrenAfterAggFilter)};u.forEachChangedNodeDepthFirst(o?d:c,!0)},t.prototype.setAllChildrenCountTreeData=function(e){var r=0;e.childrenAfterAggFilter.forEach(function(i){r++,r+=i.allChildrenCount}),e.setAllChildrenCount(r)},t.prototype.setAllChildrenCountGridGrouping=function(e){var r=0;e.childrenAfterAggFilter.forEach(function(i){i.group?r+=i.allChildrenCount:r++}),e.setAllChildrenCount(r)},t.prototype.setAllChildrenCount=function(e){if(!e.hasChildren()){e.setAllChildrenCount(null);return}this.gridOptionsService.get("treeData")?this.setAllChildrenCountTreeData(e):this.setAllChildrenCountGridGrouping(e)},qD([E("filterManager")],t.prototype,"filterManager",void 0),qD([E("columnModel")],t.prototype,"columnModel",void 0),t=qD([ae("filterAggregatesStage")],t),t}(q),jGe="31.1.1",$Ge=function(){var n=function(t,e){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])},n(t,e)};return function(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");n(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}}(),lm=function(n,t,e,r){var i=arguments.length,o=i<3?t:r===null?r=Object.getOwnPropertyDescriptor(t,e):r,a;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(n,t,e,r);else for(var s=n.length-1;s>=0;s--)(a=n[s])&&(o=(i<3?a(o):i>3?a(t,e,o):a(t,e))||o);return i>3&&o&&Object.defineProperty(t,e,o),o},iI=function(n){$Ge(t,n);function t(){return n.call(this,`
            <div class="ag-group-filter">
                <div ref="eGroupField"></div>
                <div ref="eUnderlyingFilter"></div>
            </div>
        `)||this}return t.prototype.postConstruct=function(){this.initialiseTabGuard({})},t.prototype.init=function(e){var r=this;return this.params=e,this.validateParams(),this.updateGroups().then(function(){r.addManagedListener(r.eventService,P.EVENT_COLUMN_ROW_GROUP_CHANGED,function(){return r.onColumnRowGroupChanged()})})},t.prototype.validateParams=function(){var e=this.params.colDef;e.field&&D.warnOnce('Group Column Filter does not work with the colDef property "field". This property will be ignored.'),e.filterValueGetter&&D.warnOnce('Group Column Filter does not work with the colDef property "filterValueGetter". This property will be ignored.'),e.filterParams&&D.warnOnce('Group Column Filter does not work with the colDef property "filterParams". This property will be ignored.')},t.prototype.updateGroups=function(){var e=this.updateGroupField();return this.getUnderlyingFilters(e)},t.prototype.getSourceColumns=function(){if(this.groupColumn=this.params.column,this.gridOptionsService.get("treeData"))return D.warnOnce("Group Column Filter does not work with Tree Data enabled. Please disable Tree Data, or use a different filter."),[];var e=this.columnModel.getSourceColumnsForGroupColumn(this.groupColumn);return e||(D.warnOnce("Group Column Filter only works on group columns. Please use a different filter."),[])},t.prototype.updateGroupField=function(){var e=this;D.clearElement(this.eGroupField),this.eGroupFieldSelect&&this.destroyBean(this.eGroupFieldSelect);var r=this.getSourceColumns(),i=r.filter(function(o){return o.isFilterAllowed()});return i.length?(r.length===1?(this.selectedColumn=i[0],D.setDisplayed(this.eGroupField,!1)):((!this.selectedColumn||!i.some(function(o){return o.getId()===e.selectedColumn.getId()}))&&(this.selectedColumn=i[0]),this.createGroupFieldSelectElement(i),this.eGroupField.appendChild(this.eGroupFieldSelect.getGui()),this.eGroupField.appendChild(D.loadTemplate('<div class="ag-filter-separator"></div>')),D.setDisplayed(this.eGroupField,!0)),i):(this.selectedColumn=void 0,D.setDisplayed(this.eGroupField,!1),null)},t.prototype.createGroupFieldSelectElement=function(e){var r=this;this.eGroupFieldSelect=this.createManagedBean(new ql);var i=this.localeService.getLocaleTextFunc();this.eGroupFieldSelect.setLabel(i("groupFilterSelect","Select field:")),this.eGroupFieldSelect.setLabelAlignment("top"),this.eGroupFieldSelect.addOptions(e.map(function(o){var a;return{value:o.getId(),text:(a=r.columnModel.getDisplayNameForColumn(o,"groupFilter",!1))!==null&&a!==void 0?a:void 0}})),this.eGroupFieldSelect.setValue(this.selectedColumn.getId()),this.eGroupFieldSelect.onValueChange(function(o){return r.updateSelectedColumn(o)}),this.eGroupFieldSelect.addCssClass("ag-group-filter-field-select-wrapper"),e.length===1&&this.eGroupFieldSelect.setDisabled(!0)},t.prototype.getUnderlyingFilters=function(e){var r=this;if(!e)return this.filterColumnPairs=void 0,this.selectedFilter=void 0,this.groupColumn.setFilterActive(!1,"columnRowGroupChanged"),Qe.resolve();var i=[],o=[];return e.forEach(function(a){var s=r.filterManager.getOrCreateFilterWrapper(a,"COLUMN_MENU");s!=null&&s.filterPromise&&i.push(s.filterPromise.then(function(l){return l&&o.push({filter:l,column:a}),a.getId()===r.selectedColumn.getId()&&(r.selectedFilter=l??void 0),l}))}),Qe.all(i).then(function(){r.filterColumnPairs=o,r.groupColumn.setFilterActive(r.isFilterActive(),"columnRowGroupChanged")})},t.prototype.addUnderlyingFilterElement=function(){var e=this;if(D.clearElement(this.eUnderlyingFilter),!this.selectedColumn)return Qe.resolve();var r=this.filterManager.getOrCreateFilterWrapper(this.selectedColumn,"COLUMN_MENU");return r?r.guiPromise.then(function(i){var o;e.eUnderlyingFilter.appendChild(i),(o=r.filterPromise)===null||o===void 0||o.then(function(a){var s,l;(s=a==null?void 0:a.afterGuiAttached)===null||s===void 0||s.call(a,e.afterGuiAttachedParams),!(!((l=e.afterGuiAttachedParams)===null||l===void 0)&&l.suppressFocus)&&e.eGroupFieldSelect&&!e.eGroupFieldSelect.isDisabled()&&e.eGroupFieldSelect.getFocusableElement().focus()})}):Qe.resolve()},t.prototype.updateSelectedColumn=function(e){var r,i;if(e){(i=(r=this.selectedFilter)===null||r===void 0?void 0:r.afterGuiDetached)===null||i===void 0||i.call(r);var o=this.getFilterColumnPair(e);this.selectedColumn=o==null?void 0:o.column,this.selectedFilter=o==null?void 0:o.filter,this.dispatchEvent({type:t.EVENT_SELECTED_COLUMN_CHANGED}),this.addUnderlyingFilterElement()}},t.prototype.isFilterActive=function(){var e;return!!(!((e=this.filterColumnPairs)===null||e===void 0)&&e.some(function(r){var i=r.filter;return i.isFilterActive()}))},t.prototype.doesFilterPass=function(){return!0},t.prototype.getModel=function(){return null},t.prototype.setModel=function(){return Qe.resolve()},t.prototype.afterGuiAttached=function(e){this.afterGuiAttachedParams=e,this.addUnderlyingFilterElement()},t.prototype.afterGuiDetached=function(){var e,r;D.clearElement(this.eUnderlyingFilter),(r=(e=this.selectedFilter)===null||e===void 0?void 0:e.afterGuiDetached)===null||r===void 0||r.call(e)},t.prototype.onColumnRowGroupChanged=function(){var e=this;this.updateGroups().then(function(){e.dispatchEvent({type:t.EVENT_COLUMN_ROW_GROUP_CHANGED}),e.eventService.dispatchEvent({type:"filterAllowedUpdated"})})},t.prototype.getFilterColumnPair=function(e){var r;if(e)return(r=this.filterColumnPairs)===null||r===void 0?void 0:r.find(function(i){var o=i.column;return o.getId()===e})},t.prototype.getSelectedFilter=function(){return this.selectedFilter},t.prototype.getSelectedColumn=function(){return this.selectedColumn},t.prototype.isFilterAllowed=function(){return!!this.selectedColumn},t.prototype.destroy=function(){n.prototype.destroy.call(this)},t.EVENT_COLUMN_ROW_GROUP_CHANGED="columnRowGroupChanged",t.EVENT_SELECTED_COLUMN_CHANGED="selectedColumnChanged",lm([E("filterManager")],t.prototype,"filterManager",void 0),lm([E("columnModel")],t.prototype,"columnModel",void 0),lm([$("eGroupField")],t.prototype,"eGroupField",void 0),lm([$("eUnderlyingFilter")],t.prototype,"eUnderlyingFilter",void 0),lm([z],t.prototype,"postConstruct",null),t}(pc),WGe=function(){var n=function(t,e){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])},n(t,e)};return function(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");n(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}}(),ZD=function(n,t,e,r){var i=arguments.length,o=i<3?t:r===null?r=Object.getOwnPropertyDescriptor(t,e):r,a;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(n,t,e,r);else for(var s=n.length-1;s>=0;s--)(a=n[s])&&(o=(i<3?a(o):i>3?a(t,e,o):a(t,e))||o);return i>3&&o&&Object.defineProperty(t,e,o),o},UGe=function(n){WGe(t,n);function t(){var e=n.call(this,`
            <div ref="eFloatingFilter" class="ag-group-floating-filter ag-floating-filter-input" role="presentation"></div>
        `)||this;return e.haveAddedColumnListeners=!1,e}return t.prototype.init=function(e){var r=this;this.params=e;var i=this.gridOptionsService.get("groupDisplayType")==="multipleColumns";return new Qe(function(o){r.params.parentFilterInstance(function(a){r.parentFilterInstance=a,i?r.setupUnderlyingFloatingFilterElement().then(function(){return o()}):(r.setupReadOnlyFloatingFilterElement(),o())})}).then(function(){r.addManagedListener(r.parentFilterInstance,iI.EVENT_SELECTED_COLUMN_CHANGED,function(){return r.onSelectedColumnChanged()}),r.addManagedListener(r.parentFilterInstance,iI.EVENT_COLUMN_ROW_GROUP_CHANGED,function(){return r.onColumnRowGroupChanged()})})},t.prototype.onParamsUpdated=function(e){this.refresh(e)},t.prototype.refresh=function(e){this.params=e,this.setParams()},t.prototype.setParams=function(){var e,r=this.columnModel.getDisplayNameForColumn(this.params.column,"header",!0),i=this.localeService.getLocaleTextFunc();(e=this.eFloatingFilterText)===null||e===void 0||e.setInputAriaLabel("".concat(r," ").concat(i("ariaFilterInput","Filter Input")))},t.prototype.setupReadOnlyFloatingFilterElement=function(){var e=this;this.eFloatingFilterText||(this.eFloatingFilterText=this.createManagedBean(new tu),this.eFloatingFilterText.setDisabled(!0).addGuiEventListener("click",function(){return e.params.showParentFilter()}),this.setParams()),this.updateDisplayedValue(),this.eFloatingFilter.appendChild(this.eFloatingFilterText.getGui())},t.prototype.setupUnderlyingFloatingFilterElement=function(){var e=this;this.showingUnderlyingFloatingFilter=!1,this.underlyingFloatingFilter=void 0,D.clearElement(this.eFloatingFilter);var r=this.parentFilterInstance.getSelectedColumn();if(r&&!r.isVisible()){var i=this.filterManager.getFloatingFilterCompDetails(r,this.params.showParentFilter);if(i)return this.compDetails=i,this.haveAddedColumnListeners||(this.haveAddedColumnListeners=!0,this.addManagedListener(r,Je.EVENT_VISIBLE_CHANGED,this.onColumnVisibleChanged.bind(this)),this.addManagedListener(r,Je.EVENT_COL_DEF_CHANGED,this.onColDefChanged.bind(this))),i.newAgStackInstance().then(function(o){var a,s;e.underlyingFloatingFilter=o,(a=e.underlyingFloatingFilter)===null||a===void 0||a.onParentModelChanged((s=e.parentFilterInstance.getSelectedFilter())===null||s===void 0?void 0:s.getModel()),e.appendChild(o.getGui()),e.showingUnderlyingFloatingFilter=!0})}return this.setupReadOnlyFloatingFilterElement(),Qe.resolve()},t.prototype.onColumnVisibleChanged=function(){this.setupUnderlyingFloatingFilterElement()},t.prototype.onColDefChanged=function(e){var r,i,o;if(e.column){var a=this.filterManager.getFloatingFilterCompDetails(e.column,this.params.showParentFilter);a&&(!((r=this.underlyingFloatingFilter)===null||r===void 0)&&r.refresh?this.underlyingFloatingFilter.refresh(a.params):(o=(i=this.underlyingFloatingFilter)===null||i===void 0?void 0:i.onParamsUpdated)===null||o===void 0||o.call(i,a.params))}},t.prototype.onParentModelChanged=function(e,r){var i,o;this.showingUnderlyingFloatingFilter?(i=this.underlyingFloatingFilter)===null||i===void 0||i.onParentModelChanged((o=this.parentFilterInstance.getSelectedFilter())===null||o===void 0?void 0:o.getModel(),r):this.updateDisplayedValue()},t.prototype.updateDisplayedValue=function(){if(!(!this.parentFilterInstance||!this.eFloatingFilterText)){var e=this.parentFilterInstance.getSelectedFilter();if(!e){this.eFloatingFilterText.setValue(""),this.eFloatingFilterText.setDisplayed(!1);return}if(this.eFloatingFilterText.setDisplayed(!0),e.getModelAsString){var r=e.getModel();this.eFloatingFilterText.setValue(r==null?"":e.getModelAsString(r))}else this.eFloatingFilterText.setValue("")}},t.prototype.onSelectedColumnChanged=function(){this.showingUnderlyingFloatingFilter||this.updateDisplayedValue()},t.prototype.onColumnRowGroupChanged=function(){this.showingUnderlyingFloatingFilter||this.updateDisplayedValue()},t.prototype.destroy=function(){n.prototype.destroy.call(this)},ZD([E("columnModel")],t.prototype,"columnModel",void 0),ZD([E("filterManager")],t.prototype,"filterManager",void 0),ZD([$("eFloatingFilter")],t.prototype,"eFloatingFilter",void 0),t}(de),$Z={version:jGe,moduleName:fe.RowGroupingModule,beans:[yGe,HGe,CGe,wGe,xGe,OGe],agStackComponents:[{componentName:"AgGridHeaderDropZones",componentClass:VGe}],userComponents:[{componentName:"agGroupColumnFilter",componentClass:iI},{componentName:"agGroupColumnFloatingFilter",componentClass:UGe}],dependantModules:[In]},zGe=function(){var n=function(t,e){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])},n(t,e)};return function(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");n(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}}(),rx=function(n,t,e,r){var i=arguments.length,o=i<3?t:r===null?r=Object.getOwnPropertyDescriptor(t,e):r,a;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(n,t,e,r);else for(var s=n.length-1;s>=0;s--)(a=n[s])&&(o=(i<3?a(o):i>3?a(t,e,o):a(t,e))||o);return i>3&&o&&Object.defineProperty(t,e,o),o},IU=function(n){zGe(t,n);function t(e){return n.call(this,e,"aggregation")||this}return t.prototype.passBeansUp=function(){n.prototype.setBeans.call(this,{gridOptionsService:this.gridOptionsService,eventService:this.eventService,context:this.getContext(),loggerFactory:this.loggerFactory,dragAndDropService:this.dragAndDropService});var e=this.localeService.getLocaleTextFunc(),r=e("valueColumnsEmptyMessage","Drag here to aggregate"),i=e("values","Values");n.prototype.init.call(this,{dragAndDropIcon:Ct.ICON_AGGREGATE,icon:D.createIconNoSpan("valuePanel",this.gridOptionsService,null),emptyMessage:r,title:i}),this.addManagedListener(this.eventService,P.EVENT_COLUMN_VALUE_CHANGED,this.refreshGui.bind(this))},t.prototype.getAriaLabel=function(){var e=this.localeService.getLocaleTextFunc(),r=e("ariaValuesDropZonePanelLabel","Values");return r},t.prototype.getTooltipParams=function(){var e=n.prototype.getTooltipParams.call(this);return e.location="valueColumnsList",e},t.prototype.getIconName=function(){return this.isPotentialDndColumns()?Ct.ICON_AGGREGATE:Ct.ICON_NOT_ALLOWED},t.prototype.isColumnDroppable=function(e,r){return this.gridOptionsService.get("functionsReadOnly")||!e.isPrimary()?!1:e.isAllowValue()&&(!e.isValueActive()||this.isSourceEventFromTarget(r))},t.prototype.updateColumns=function(e){if(this.gridOptionsService.get("functionsPassive")){var r={type:P.EVENT_COLUMN_VALUE_CHANGE_REQUEST,columns:e};this.eventService.dispatchEvent(r)}else this.columnModel.setValueColumns(e,"toolPanelUi")},t.prototype.getExistingColumns=function(){return this.columnModel.getValueColumns()},rx([E("columnModel")],t.prototype,"columnModel",void 0),rx([E("loggerFactory")],t.prototype,"loggerFactory",void 0),rx([E("dragAndDropService")],t.prototype,"dragAndDropService",void 0),rx([z],t.prototype,"passBeansUp",null),t}(PV),KGe=function(){var n=function(t,e){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])},n(t,e)};return function(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");n(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}}(),NU=function(n,t,e,r){var i=arguments.length,o=i<3?t:r===null?r=Object.getOwnPropertyDescriptor(t,e):r,a;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(n,t,e,r);else for(var s=n.length-1;s>=0;s--)(a=n[s])&&(o=(i<3?a(o):i>3?a(t,e,o):a(t,e))||o);return i>3&&o&&Object.defineProperty(t,e,o),o},AV=function(n){KGe(t,n);function t(){return n.call(this,t.TEMPLATE)||this}return t.prototype.init=function(e,r,i){this.allowDragging=e,this.params=r,this.eventType=i,this.primaryColsHeaderPanel.init(this.params);var o=this.params.suppressColumnFilter,a=this.params.suppressColumnSelectAll,s=this.params.suppressColumnExpandAll;s&&o&&a&&this.primaryColsHeaderPanel.setDisplayed(!1),this.addManagedListener(this.primaryColsListPanel,"groupExpanded",this.onGroupExpanded.bind(this)),this.addManagedListener(this.primaryColsListPanel,"selectionChanged",this.onSelectionChange.bind(this)),this.primaryColsListPanel.init(this.params,this.allowDragging,this.eventType),this.addManagedListener(this.primaryColsHeaderPanel,"expandAll",this.onExpandAll.bind(this)),this.addManagedListener(this.primaryColsHeaderPanel,"collapseAll",this.onCollapseAll.bind(this)),this.addManagedListener(this.primaryColsHeaderPanel,"selectAll",this.onSelectAll.bind(this)),this.addManagedListener(this.primaryColsHeaderPanel,"unselectAll",this.onUnselectAll.bind(this)),this.addManagedListener(this.primaryColsHeaderPanel,"filterChanged",this.onFilterChanged.bind(this)),this.positionableFeature=new kw(this.getGui(),{minHeight:100}),this.createManagedBean(this.positionableFeature)},t.prototype.toggleResizable=function(e){this.positionableFeature.setResizable(e?{bottom:!0}:!1)},t.prototype.onExpandAll=function(){this.primaryColsListPanel.doSetExpandedAll(!0)},t.prototype.onCollapseAll=function(){this.primaryColsListPanel.doSetExpandedAll(!1)},t.prototype.expandGroups=function(e){this.primaryColsListPanel.setGroupsExpanded(!0,e)},t.prototype.collapseGroups=function(e){this.primaryColsListPanel.setGroupsExpanded(!1,e)},t.prototype.setColumnLayout=function(e){this.primaryColsListPanel.setColumnLayout(e)},t.prototype.onFilterChanged=function(e){this.primaryColsListPanel.setFilterText(e.filterText)},t.prototype.syncLayoutWithGrid=function(){this.primaryColsListPanel.onColumnsChanged()},t.prototype.onSelectAll=function(){this.primaryColsListPanel.doSetSelectedAll(!0)},t.prototype.onUnselectAll=function(){this.primaryColsListPanel.doSetSelectedAll(!1)},t.prototype.onGroupExpanded=function(e){this.primaryColsHeaderPanel.setExpandState(e.state),this.params.onStateUpdated()},t.prototype.onSelectionChange=function(e){this.primaryColsHeaderPanel.setSelectionState(e.state)},t.prototype.getExpandedGroups=function(){return this.primaryColsListPanel.getExpandedGroups()},t.TEMPLATE=`<div class="ag-column-select">
            <ag-primary-cols-header ref="primaryColsHeaderPanel"></ag-primary-cols-header>
            <ag-primary-cols-list ref="primaryColsListPanel"></ag-primary-cols-list>
        </div>`,NU([$("primaryColsHeaderPanel")],t.prototype,"primaryColsHeaderPanel",void 0),NU([$("primaryColsListPanel")],t.prototype,"primaryColsListPanel",void 0),t}(de),YGe=function(){var n=function(t,e){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])},n(t,e)};return function(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");n(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}}(),yO=function(){return yO=Object.assign||function(n){for(var t,e=1,r=arguments.length;e<r;e++){t=arguments[e];for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(n[i]=t[i])}return n},yO.apply(this,arguments)},XGe=function(n){YGe(t,n);function t(){var e=n.call(this,t.TEMPLATE)||this;return e.initialised=!1,e.childDestroyFuncs=[],e}return t.prototype.setVisible=function(e){n.prototype.setDisplayed.call(this,e),e&&!this.initialised&&this.init(this.params)},t.prototype.init=function(e){var r=this,i=this.gridOptionsService.addGridCommonParams({suppressColumnMove:!1,suppressColumnSelectAll:!1,suppressColumnFilter:!1,suppressColumnExpandAll:!1,contractColumnSelection:!1,suppressPivotMode:!1,suppressRowGroups:!1,suppressValues:!1,suppressPivots:!1,suppressSyncLayoutWithGrid:!1});if(this.params=yO(yO({},i),e),this.isRowGroupingModuleLoaded()&&!this.params.suppressPivotMode&&(this.pivotModePanel=this.createBean(new OU),this.childDestroyFuncs.push(function(){return r.destroyBean(r.pivotModePanel)}),this.appendChild(this.pivotModePanel)),this.primaryColsPanel=this.createBean(new AV),this.childDestroyFuncs.push(function(){return r.destroyBean(r.primaryColsPanel)}),this.primaryColsPanel.init(!0,this.params,"toolPanelUi"),this.primaryColsPanel.addCssClass("ag-column-panel-column-select"),this.appendChild(this.primaryColsPanel),this.isRowGroupingModuleLoaded()){this.params.suppressRowGroups||(this.rowGroupDropZonePanel=this.createBean(new rI(!1)),this.childDestroyFuncs.push(function(){return r.destroyBean(r.rowGroupDropZonePanel)}),this.appendChild(this.rowGroupDropZonePanel)),this.params.suppressValues||(this.valuesDropZonePanel=this.createBean(new IU(!1)),this.childDestroyFuncs.push(function(){return r.destroyBean(r.valuesDropZonePanel)}),this.appendChild(this.valuesDropZonePanel)),this.params.suppressPivots||(this.pivotDropZonePanel=this.createBean(new nI(!1)),this.childDestroyFuncs.push(function(){return r.destroyBean(r.pivotDropZonePanel)}),this.appendChild(this.pivotDropZonePanel)),this.setLastVisible();var o=this.addManagedListener(this.eventService,P.EVENT_COLUMN_PIVOT_MODE_CHANGED,function(){r.resetChildrenHeight(),r.setLastVisible()});this.childDestroyFuncs.push(function(){return o()})}this.initialised=!0},t.prototype.setPivotModeSectionVisible=function(e){var r=this;this.isRowGroupingModuleLoaded()&&(this.pivotModePanel?this.pivotModePanel.setDisplayed(e):e&&(this.pivotModePanel=this.createBean(new OU),this.getGui().insertBefore(this.pivotModePanel.getGui(),this.getGui().firstChild),this.childDestroyFuncs.push(function(){return r.destroyBean(r.pivotModePanel)})),this.setLastVisible())},t.prototype.setRowGroupsSectionVisible=function(e){this.isRowGroupingModuleLoaded()&&(this.rowGroupDropZonePanel?this.rowGroupDropZonePanel.setDisplayed(e):e&&(this.rowGroupDropZonePanel=this.createManagedBean(new rI(!1)),this.appendChild(this.rowGroupDropZonePanel)),this.setLastVisible())},t.prototype.setValuesSectionVisible=function(e){this.isRowGroupingModuleLoaded()&&(this.valuesDropZonePanel?this.valuesDropZonePanel.setDisplayed(e):e&&(this.valuesDropZonePanel=this.createManagedBean(new IU(!1)),this.appendChild(this.valuesDropZonePanel)),this.setLastVisible())},t.prototype.setPivotSectionVisible=function(e){this.isRowGroupingModuleLoaded()&&(this.pivotDropZonePanel?this.pivotDropZonePanel.setDisplayed(e):e&&(this.pivotDropZonePanel=this.createManagedBean(new nI(!1)),this.appendChild(this.pivotDropZonePanel),this.pivotDropZonePanel.setDisplayed(e)),this.setLastVisible())},t.prototype.setResizers=function(){[this.primaryColsPanel,this.rowGroupDropZonePanel,this.valuesDropZonePanel,this.pivotDropZonePanel].forEach(function(e){if(e){var r=e.getGui();e.toggleResizable(!r.classList.contains("ag-last-column-drop")&&!r.classList.contains("ag-hidden"))}})},t.prototype.setLastVisible=function(){var e=this.getGui(),r=Array.prototype.slice.call(e.querySelectorAll(".ag-column-drop"));r.forEach(function(a){return a.classList.remove("ag-last-column-drop")});var i=e.querySelectorAll(".ag-column-drop:not(.ag-hidden)"),o=D.last(i);o&&o.classList.add("ag-last-column-drop"),this.setResizers()},t.prototype.resetChildrenHeight=function(){for(var e=this.getGui(),r=e.children,i=0;i<r.length;i++){var o=r[i];o.style.removeProperty("height"),o.style.removeProperty("flex")}},t.prototype.isRowGroupingModuleLoaded=function(){return ke.__assertRegistered(fe.RowGroupingModule,"Row Grouping",this.context.getGridId())},t.prototype.expandColumnGroups=function(e){this.primaryColsPanel.expandGroups(e)},t.prototype.collapseColumnGroups=function(e){this.primaryColsPanel.collapseGroups(e)},t.prototype.setColumnLayout=function(e){this.primaryColsPanel.setColumnLayout(e)},t.prototype.syncLayoutWithGrid=function(){this.primaryColsPanel.syncLayoutWithGrid()},t.prototype.destroyChildren=function(){this.childDestroyFuncs.forEach(function(e){return e()}),this.childDestroyFuncs.length=0,D.clearElement(this.getGui())},t.prototype.refresh=function(e){return this.destroyChildren(),this.init(e),!0},t.prototype.getState=function(){return{expandedGroupIds:this.primaryColsPanel.getExpandedGroups()}},t.prototype.destroy=function(){this.destroyChildren(),n.prototype.destroy.call(this)},t.TEMPLATE='<div class="ag-column-panel"></div>',t}(de),qGe=function(){var n=function(t,e){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])},n(t,e)};return function(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");n(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}}(),kU=function(n,t,e,r){var i=arguments.length,o=i<3?t:r===null?r=Object.getOwnPropertyDescriptor(t,e):r,a;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(n,t,e,r);else for(var s=n.length-1;s>=0;s--)(a=n[s])&&(o=(i<3?a(o):i>3?a(t,e,o):a(t,e))||o);return i>3&&o&&Object.defineProperty(t,e,o),o},WZ=function(n){qGe(t,n);function t(){var e=n.call(this,'<div class="ag-tool-panel-horizontal-resize"></div>')||this;return e.minWidth=100,e.maxWidth=null,e}return t.prototype.setElementToResize=function(e){this.elementToResize=e},t.prototype.postConstruct=function(){var e=this.horizontalResizeService.addResizeBar({eResizeBar:this.getGui(),dragStartPixels:1,onResizeStart:this.onResizeStart.bind(this),onResizing:this.onResizing.bind(this),onResizeEnd:this.onResizeEnd.bind(this)});this.addDestroyFunc(e),this.setInverted(this.gridOptionsService.get("enableRtl"))},t.prototype.dispatchResizeEvent=function(e,r,i){var o={type:P.EVENT_TOOL_PANEL_SIZE_CHANGED,width:i,started:e,ended:r};this.eventService.dispatchEvent(o)},t.prototype.onResizeStart=function(){this.startingWidth=this.elementToResize.offsetWidth,this.dispatchResizeEvent(!0,!1,this.startingWidth)},t.prototype.onResizeEnd=function(e){return this.onResizing(e,!0)},t.prototype.onResizing=function(e,r){r===void 0&&(r=!1);var i=this.inverted?-1:1,o=Math.max(this.minWidth,Math.floor(this.startingWidth-e*i));this.maxWidth!=null&&(o=Math.min(this.maxWidth,o)),this.elementToResize.style.width="".concat(o,"px"),this.dispatchResizeEvent(!1,r,o)},t.prototype.setInverted=function(e){this.inverted=e},t.prototype.setMaxWidth=function(e){this.maxWidth=e},t.prototype.setMinWidth=function(e){e!=null?this.minWidth=e:this.minWidth=100},kU([E("horizontalResizeService")],t.prototype,"horizontalResizeService",void 0),kU([z],t.prototype,"postConstruct",null),t}(de),ZGe=function(){var n=function(t,e){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])},n(t,e)};return function(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");n(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}}(),nx=function(n,t,e,r){var i=arguments.length,o=i<3?t:r===null?r=Object.getOwnPropertyDescriptor(t,e):r,a;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(n,t,e,r);else for(var s=n.length-1;s>=0;s--)(a=n[s])&&(o=(i<3?a(o):i>3?a(t,e,o):a(t,e))||o);return i>3&&o&&Object.defineProperty(t,e,o),o},GU=function(n){ZGe(t,n);function t(e){var r=n.call(this)||this;return r.toolPanelDef=e,r}return t.prototype.getToolPanelId=function(){return this.toolPanelDef.id},t.prototype.postConstruct=function(){var e=this.createTemplate();this.setTemplate(e),this.setLabel(),this.setIcon(),this.addManagedListener(this.eToggleButton,"click",this.onButtonPressed.bind(this)),this.eToggleButton.setAttribute("id","ag-".concat(this.getCompId(),"-button"))},t.prototype.createTemplate=function(){var e=`<div class="ag-side-button" role="presentation">
                <button type="button" ref="eToggleButton" tabindex="-1" role="tab" aria-expanded="false" class="ag-button ag-side-button-button">
                    <div ref="eIconWrapper" class="ag-side-button-icon-wrapper" aria-hidden="true"></div>
                    <span ref ="eLabel" class="ag-side-button-label"></span>
                </button>
            </div>`;return e},t.prototype.setLabel=function(){var e=this.localeService.getLocaleTextFunc(),r=this.toolPanelDef,i=e(r.labelKey,r.labelDefault);this.eLabel.innerText=i},t.prototype.setIcon=function(){this.eIconWrapper.insertAdjacentElement("afterbegin",D.createIconNoSpan(this.toolPanelDef.iconKey,this.gridOptionsService))},t.prototype.onButtonPressed=function(){this.dispatchEvent({type:t.EVENT_TOGGLE_BUTTON_CLICKED})},t.prototype.setSelected=function(e){this.addOrRemoveCssClass("ag-selected",e),D.setAriaExpanded(this.eToggleButton,e)},t.prototype.getButtonElement=function(){return this.eToggleButton},t.EVENT_TOGGLE_BUTTON_CLICKED="toggleButtonClicked",nx([$("eToggleButton")],t.prototype,"eToggleButton",void 0),nx([$("eIconWrapper")],t.prototype,"eIconWrapper",void 0),nx([$("eLabel")],t.prototype,"eLabel",void 0),nx([z],t.prototype,"postConstruct",null),t}(de),QGe=function(){var n=function(t,e){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])},n(t,e)};return function(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");n(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}}(),ix=function(n,t,e,r){var i=arguments.length,o=i<3?t:r===null?r=Object.getOwnPropertyDescriptor(t,e):r,a;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(n,t,e,r);else for(var s=n.length-1;s>=0;s--)(a=n[s])&&(o=(i<3?a(o):i>3?a(t,e,o):a(t,e))||o);return i>3&&o&&Object.defineProperty(t,e,o),o},UZ=function(n){QGe(t,n);function t(){var e=n.call(this,t.TEMPLATE)||this;return e.buttonComps=[],e}return t.prototype.postConstruct=function(){this.addManagedListener(this.getFocusableElement(),"keydown",this.handleKeyDown.bind(this))},t.prototype.handleKeyDown=function(e){if(!(e.key!==U.TAB||!e.shiftKey)){var r=D.last(this.columnModel.getAllDisplayedColumns());this.focusService.focusGridView(r,!0)&&e.preventDefault()}},t.prototype.setActiveButton=function(e){this.buttonComps.forEach(function(r){r.setSelected(e===r.getToolPanelId())})},t.prototype.addButtonComp=function(e){var r=this,i=this.createBean(new GU(e));return this.buttonComps.push(i),this.appendChild(i),i.addEventListener(GU.EVENT_TOGGLE_BUTTON_CLICKED,function(){r.dispatchEvent({type:t.EVENT_SIDE_BAR_BUTTON_CLICKED,toolPanelId:e.id})}),i},t.prototype.clearButtons=function(){this.buttonComps=this.destroyBeans(this.buttonComps),D.clearElement(this.getGui())},t.EVENT_SIDE_BAR_BUTTON_CLICKED="sideBarButtonClicked",t.TEMPLATE='<div class="ag-side-buttons" role="tablist"></div>',ix([E("focusService")],t.prototype,"focusService",void 0),ix([E("columnModel")],t.prototype,"columnModel",void 0),ix([z],t.prototype,"postConstruct",null),ix([rr],t.prototype,"clearButtons",null),t}(de),VU=function(){function n(){}return n.parse=function(t){if(t){if(t===!0)return{toolPanels:[n.DEFAULT_COLUMN_COMP,n.DEFAULT_FILTER_COMP],defaultToolPanel:"columns"};if(typeof t=="string")return n.parse([t]);if(Array.isArray(t)){var e=[];return t.forEach(function(i){var o=n.DEFAULT_BY_KEY[i];if(!o){console.warn("AG Grid: the key ".concat(i," is not a valid key for specifying a tool panel, valid keys are: ").concat(Object.keys(n.DEFAULT_BY_KEY).join(",")));return}e.push(o)}),e.length===0?void 0:{toolPanels:e,defaultToolPanel:e[0].id}}var r={toolPanels:n.parseComponents(t.toolPanels),defaultToolPanel:t.defaultToolPanel,hiddenByDefault:t.hiddenByDefault,position:t.position};return r}},n.parseComponents=function(t){var e=[];return t&&t.forEach(function(r){var i=null;if(typeof r=="string"){var o=n.DEFAULT_BY_KEY[r];if(!o){console.warn("AG Grid: the key ".concat(r," is not a valid key for specifying a tool panel, valid keys are: ").concat(Object.keys(n.DEFAULT_BY_KEY).join(",")));return}i=o}else i=r;e.push(i)}),e},n.DEFAULT_COLUMN_COMP={id:"columns",labelDefault:"Columns",labelKey:"columns",iconKey:"columns",toolPanel:"agColumnsToolPanel"},n.DEFAULT_FILTER_COMP={id:"filters",labelDefault:"Filters",labelKey:"filters",iconKey:"filter",toolPanel:"agFiltersToolPanel"},n.DEFAULT_BY_KEY={columns:n.DEFAULT_COLUMN_COMP,filters:n.DEFAULT_FILTER_COMP},n}(),JGe=function(){var n=function(t,e){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])},n(t,e)};return function(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");n(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}}(),BU=function(n,t,e,r){var i=arguments.length,o=i<3?t:r===null?r=Object.getOwnPropertyDescriptor(t,e):r,a;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(n,t,e,r);else for(var s=n.length-1;s>=0;s--)(a=n[s])&&(o=(i<3?a(o):i>3?a(t,e,o):a(t,e))||o);return i>3&&o&&Object.defineProperty(t,e,o),o},eVe=function(n){JGe(t,n);function t(){return n.call(this,t.TEMPLATE)||this}return t.prototype.setupResize=function(){var e=this.getGui(),r=this.resizeBar=this.createManagedBean(new WZ);e.setAttribute("id","ag-".concat(this.getCompId())),r.setElementToResize(e),this.appendChild(r)},t.prototype.getToolPanelId=function(){return this.toolPanelId},t.prototype.setToolPanelDef=function(e,r){var i=e.id,o=e.minWidth,a=e.maxWidth,s=e.width;this.toolPanelId=i,this.width=s;var l=this.userComponentFactory.getToolPanelCompDetails(e,r),u=l.newAgStackInstance();if(this.params=l.params,u==null){console.warn("AG Grid: error processing tool panel component ".concat(i,". You need to specify 'toolPanel'"));return}u.then(this.setToolPanelComponent.bind(this)),o!=null&&this.resizeBar.setMinWidth(o),a!=null&&this.resizeBar.setMaxWidth(a)},t.prototype.setToolPanelComponent=function(e){var r=this;this.toolPanelCompInstance=e,this.appendChild(e.getGui()),this.addDestroyFunc(function(){r.destroyBean(e)}),this.width&&(this.getGui().style.width="".concat(this.width,"px"))},t.prototype.getToolPanelInstance=function(){return this.toolPanelCompInstance},t.prototype.setResizerSizerSide=function(e){var r=this.gridOptionsService.get("enableRtl"),i=e==="left",o=r?i:!i;this.resizeBar.setInverted(o)},t.prototype.refresh=function(){this.toolPanelCompInstance.refresh(this.params)},t.TEMPLATE='<div class="ag-tool-panel-wrapper" role="tabpanel"/>',BU([E("userComponentFactory")],t.prototype,"userComponentFactory",void 0),BU([z],t.prototype,"setupResize",null),t}(de),tVe=function(){var n=function(t,e){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])},n(t,e)};return function(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");n(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}}(),mO=function(){return mO=Object.assign||function(n){for(var t,e=1,r=arguments.length;e<r;e++){t=arguments[e];for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(n[i]=t[i])}return n},mO.apply(this,arguments)},um=function(n,t,e,r){var i=arguments.length,o=i<3?t:r===null?r=Object.getOwnPropertyDescriptor(t,e):r,a;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(n,t,e,r);else for(var s=n.length-1;s>=0;s--)(a=n[s])&&(o=(i<3?a(o):i>3?a(t,e,o):a(t,e))||o);return i>3&&o&&Object.defineProperty(t,e,o),o},rVe=function(n){var t=typeof Symbol=="function"&&Symbol.iterator,e=t&&n[t],r=0;if(e)return e.call(n);if(n&&typeof n.length=="number")return{next:function(){return n&&r>=n.length&&(n=void 0),{value:n&&n[r++],done:!n}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")},nVe=function(n){tVe(t,n);function t(){var e=n.call(this,t.TEMPLATE)||this;return e.toolPanelWrappers=[],e}return t.prototype.postConstruct=function(){var e;this.sideBarButtonsComp.addEventListener(UZ.EVENT_SIDE_BAR_BUTTON_CLICKED,this.onToolPanelButtonClicked.bind(this));var r=((e=this.gridOptionsService.get("initialState"))!==null&&e!==void 0?e:{}).sideBar;this.setSideBarDef({sideBarDef:VU.parse(this.gridOptionsService.get("sideBar")),sideBarState:r}),this.addManagedPropertyListener("sideBar",this.onSideBarUpdated.bind(this)),this.sideBarService.registerSideBarComp(this),this.createManagedBean(new eu(this.getFocusableElement(),{onTabKeyDown:this.onTabKeyDown.bind(this),handleKeyDown:this.handleKeyDown.bind(this)}))},t.prototype.onTabKeyDown=function(e){if(!e.defaultPrevented){var r=this,i=r.focusService,o=r.sideBarButtonsComp,a=this.getGui(),s=o.getGui(),l=this.gridOptionsService.getDocument(),u=l.activeElement,c=a.querySelector(".ag-tool-panel-wrapper:not(.ag-hidden)"),d=e.target;if(c){if(s.contains(u)){i.focusInto(c,e.shiftKey)&&e.preventDefault();return}if(e.shiftKey){var p=null;c.contains(u)?p=this.focusService.findNextFocusableElement(c,void 0,!0):i.isTargetUnderManagedComponent(c,d)&&e.shiftKey&&(p=this.focusService.findFocusableElementBeforeTabGuard(c,d)),p||(p=s.querySelector(".ag-selected button")),p&&p!==e.target&&(e.preventDefault(),p.focus())}}}},t.prototype.handleKeyDown=function(e){var r=this.gridOptionsService.getDocument();if(this.sideBarButtonsComp.getGui().contains(r.activeElement)){var i=this.sideBarButtonsComp.getGui(),o=Array.prototype.slice.call(i.querySelectorAll(".ag-side-button")),a=r.activeElement,s=o.findIndex(function(c){return c.contains(a)}),l=null;switch(e.key){case U.LEFT:case U.UP:l=Math.max(0,s-1);break;case U.RIGHT:case U.DOWN:l=Math.min(s+1,o.length-1);break}if(l!==null){var u=o[l].querySelector("button");u&&(u.focus(),e.preventDefault())}}},t.prototype.onToolPanelButtonClicked=function(e){var r=e.toolPanelId,i=this.openedItem();i===r?this.openToolPanel(void 0,"sideBarButtonClicked"):this.openToolPanel(r,"sideBarButtonClicked")},t.prototype.clearDownUi=function(){this.sideBarButtonsComp.clearButtons(),this.destroyToolPanelWrappers()},t.prototype.setSideBarDef=function(e){var r=e.sideBarDef,i=e.sideBarState,o=e.existingToolPanelWrappers;if(this.setDisplayed(!1),this.sideBar=r,this.sideBar&&this.sideBar.toolPanels){var a=this.sideBar.toolPanels;if(this.createToolPanelsAndSideButtons(a,i,o),!this.toolPanelWrappers.length)return;var s=i?i.visible:!this.sideBar.hiddenByDefault;if(this.setDisplayed(s),this.setSideBarPosition(i?i.position:this.sideBar.position),s)if(i){var l=i.openToolPanel;l&&this.openToolPanel(l,"sideBarInitializing")}else this.openToolPanel(this.sideBar.defaultToolPanel,"sideBarInitializing")}},t.prototype.getDef=function(){return this.sideBar},t.prototype.setSideBarPosition=function(e){e||(e="right"),this.position=e;var r=e==="left",i=r?"right":"left";return this.addOrRemoveCssClass("ag-side-bar-left",r),this.addOrRemoveCssClass("ag-side-bar-right",!r),this.toolPanelWrappers.forEach(function(o){o.setResizerSizerSide(i)}),this.eventService.dispatchEvent({type:P.EVENT_SIDE_BAR_UPDATED}),this},t.prototype.setDisplayed=function(e,r){n.prototype.setDisplayed.call(this,e,r),this.eventService.dispatchEvent({type:P.EVENT_SIDE_BAR_UPDATED})},t.prototype.getState=function(){var e={};return this.toolPanelWrappers.forEach(function(r){var i,o;e[r.getToolPanelId()]=(o=(i=r.getToolPanelInstance())===null||i===void 0?void 0:i.getState)===null||o===void 0?void 0:o.call(i)}),{visible:this.isDisplayed(),position:this.position,openToolPanel:this.openedItem(),toolPanels:e}},t.prototype.createToolPanelsAndSideButtons=function(e,r,i){var o,a,s;try{for(var l=rVe(e),u=l.next();!u.done;u=l.next()){var c=u.value;this.createToolPanelAndSideButton(c,(s=r==null?void 0:r.toolPanels)===null||s===void 0?void 0:s[c.id],i==null?void 0:i[c.id])}}catch(d){o={error:d}}finally{try{u&&!u.done&&(a=l.return)&&a.call(l)}finally{if(o)throw o.error}}},t.prototype.validateDef=function(e){if(e.id==null)return console.warn("AG Grid: please review all your toolPanel components, it seems like at least one of them doesn't have an id"),!1;if(e.toolPanel==="agColumnsToolPanel"){var r=!ke.__assertRegistered(fe.ColumnsToolPanelModule,"Column Tool Panel",this.context.getGridId());if(r)return!1}if(e.toolPanel==="agFiltersToolPanel"){var r=!ke.__assertRegistered(fe.FiltersToolPanelModule,"Filters Tool Panel",this.context.getGridId());if(r)return!1;if(this.filterManager.isAdvancedFilterEnabled())return D.warnOnce("Advanced Filter does not work with Filters Tool Panel. Filters Tool Panel has been disabled."),!1}return!0},t.prototype.createToolPanelAndSideButton=function(e,r,i){var o=this;if(this.validateDef(e)){var a=this.sideBarButtonsComp.addButtonComp(e),s;i?s=i:(s=this.getContext().createBean(new eVe),s.setToolPanelDef(e,{initialState:r,onStateUpdated:function(){return o.eventService.dispatchEvent({type:P.EVENT_SIDE_BAR_UPDATED})}})),s.setDisplayed(!1);var l=s.getGui();this.appendChild(l),this.toolPanelWrappers.push(s),D.setAriaControls(a.getButtonElement(),l)}},t.prototype.refresh=function(){this.toolPanelWrappers.forEach(function(e){return e.refresh()})},t.prototype.openToolPanel=function(e,r){r===void 0&&(r="api");var i=this.openedItem();if(i!==e){this.toolPanelWrappers.forEach(function(s){var l=e===s.getToolPanelId();s.setDisplayed(l)});var o=this.openedItem(),a=i!==o;a&&(this.sideBarButtonsComp.setActiveButton(e),this.raiseToolPanelVisibleEvent(e,i??void 0,r))}},t.prototype.getToolPanelInstance=function(e){var r=this.toolPanelWrappers.filter(function(i){return i.getToolPanelId()===e})[0];if(!r){console.warn("AG Grid: unable to lookup Tool Panel as invalid key supplied: ".concat(e));return}return r.getToolPanelInstance()},t.prototype.raiseToolPanelVisibleEvent=function(e,r,i){var o=!!e&&!!r;if(r){var a={type:P.EVENT_TOOL_PANEL_VISIBLE_CHANGED,source:i,key:r,visible:!1,switchingToolPanel:o};this.eventService.dispatchEvent(a)}if(e){var s={type:P.EVENT_TOOL_PANEL_VISIBLE_CHANGED,source:i,key:e,visible:!0,switchingToolPanel:o};this.eventService.dispatchEvent(s)}},t.prototype.close=function(e){e===void 0&&(e="api"),this.openToolPanel(void 0,e)},t.prototype.isToolPanelShowing=function(){return!!this.openedItem()},t.prototype.openedItem=function(){var e=null;return this.toolPanelWrappers.forEach(function(r){r.isDisplayed()&&(e=r.getToolPanelId())}),e},t.prototype.onSideBarUpdated=function(){var e=this,r,i=VU.parse(this.gridOptionsService.get("sideBar")),o={};i&&this.sideBar&&((r=i.toolPanels)===null||r===void 0||r.forEach(function(a){var s,l,u=a.id;if(u){var c=(s=e.sideBar.toolPanels)===null||s===void 0?void 0:s.find(function(f){return f.id===u});if(!(!c||a.toolPanel!==c.toolPanel)){var d=e.toolPanelWrappers.find(function(f){return f.getToolPanelId()===u});if(d){var p=e.gridOptionsService.addGridCommonParams(mO(mO({},(l=a.toolPanelParams)!==null&&l!==void 0?l:{}),{onStateUpdated:function(){return e.eventService.dispatchEvent({type:P.EVENT_SIDE_BAR_UPDATED})}})),h=d.getToolPanelInstance().refresh(p);h===!0&&(e.toolPanelWrappers=e.toolPanelWrappers.filter(function(f){return f!==d}),D.removeFromParent(d.getGui()),o[u]=d)}}}})),this.clearDownUi(),this.setSideBarDef({sideBarDef:i,existingToolPanelWrappers:o})},t.prototype.destroyToolPanelWrappers=function(){var e=this;this.toolPanelWrappers.forEach(function(r){D.removeFromParent(r.getGui()),e.destroyBean(r)}),this.toolPanelWrappers.length=0},t.prototype.destroy=function(){this.destroyToolPanelWrappers(),n.prototype.destroy.call(this)},t.TEMPLATE=`<div class="ag-side-bar ag-unselectable">
            <ag-side-bar-buttons ref="sideBarButtons"></ag-side-bar-buttons>
        </div>`,um([E("focusService")],t.prototype,"focusService",void 0),um([E("filterManager")],t.prototype,"filterManager",void 0),um([E("sideBarService")],t.prototype,"sideBarService",void 0),um([$("sideBarButtons")],t.prototype,"sideBarButtonsComp",void 0),um([z],t.prototype,"postConstruct",null),t}(de),iVe=function(){var n=function(t,e){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])},n(t,e)};return function(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");n(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}}(),HU=function(n,t,e,r){var i=arguments.length,o=i<3?t:r===null?r=Object.getOwnPropertyDescriptor(t,e):r,a;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(n,t,e,r);else for(var s=n.length-1;s>=0;s--)(a=n[s])&&(o=(i<3?a(o):i>3?a(t,e,o):a(t,e))||o);return i>3&&o&&Object.defineProperty(t,e,o),o},oVe=function(n){iVe(t,n);function t(){var e=n!==null&&n.apply(this,arguments)||this;return e.isColGroupDef=function(r){return r&&typeof r.children<"u"},e.getId=function(r){return e.isColGroupDef(r)?r.groupId:r.colId},e}return t.prototype.createColumnTree=function(e){var r=this,i=[],o=function(s,l){if(r.isColGroupDef(s)){var u=s,c=typeof u.groupId<"u"?u.groupId:u.headerName,d=new Pt(u,c,!1,l),p=[];return u.children.forEach(function(g){var y=o(g,l+1);y&&p.push(y)}),d.setChildren(p),d}else{var h=s,f=h.colId?h.colId:h.field,v=r.columnModel.getPrimaryColumn(f);return v||i.push(h),v}},a=[];return e.forEach(function(s){var l=o(s,0);l&&a.push(l)}),i.length>0&&console.warn("AG Grid: unable to find grid columns for the supplied colDef(s):",i),a},t.prototype.syncLayoutWithGrid=function(e){var r=this.getLeafPathTrees(),i=this.mergeLeafPathTrees(r);e(i)},t.prototype.getLeafPathTrees=function(){var e=function(o,a){var s;if(o instanceof Pt)if(o.isPadding())s=a;else{var l=Object.assign({},o.getColGroupDef());l.groupId=o.getGroupId(),l.children=[a],s=l}else{var u=Object.assign({},o.getColDef());u.colId=o.getColId(),s=u}var c=o.getOriginalParent();return c?e(c,s):s},r=this.columnModel.getAllGridColumns(),i=r.filter(function(o){var a=o.getColDef();return o.isPrimary()&&!a.showRowGroup});return i.map(function(o){return e(o,o.getColDef())})},t.prototype.mergeLeafPathTrees=function(e){for(var r=this,i=function(c,d){var p=r.isColGroupDef(c)&&r.isColGroupDef(d);return p&&r.getId(c)===r.getId(d)},o=function(c,d){if(!r.isColGroupDef(d))return c;var p=c,h=d;if(h.children&&h.groupId){var f=r.addChildrenToGroup(p,h.groupId,h.children[0]);if(f)return p}return h.children.forEach(function(v){return o(p,v)}),p},a=[],s=1;s<=e.length;s++){var l=e[s-1],u=e[s];i(l,u)?e[s]=o(l,u):a.push(l)}return a},t.prototype.addChildrenToGroup=function(e,r,i){var o=this,a=function(d,p){var h=d.children.map(o.getId),f=D.includes(h,o.getId(p)),v=D.last(d.children),g=v&&o.getId(v)!==o.getId(p);return f&&g};if(!this.isColGroupDef(e))return!0;var s=e,l=i;if(a(s,l))return s.children.push(l),!0;if(s.groupId===r){var u=s.children.map(this.getId),c=D.includes(u,this.getId(l));if(!c)return s.children.push(l),!0}return s.children.forEach(function(d){return o.addChildrenToGroup(d,r,i)}),!1},HU([E("columnModel")],t.prototype,"columnModel",void 0),t=HU([ae("toolPanelColDefService")],t),t}(q),aVe="31.1.1",sVe=function(){var n=function(t,e){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])},n(t,e)};return function(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");n(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}}(),lVe=function(n,t,e,r){var i=arguments.length,o=i<3?t:r===null?r=Object.getOwnPropertyDescriptor(t,e):r,a;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(n,t,e,r);else for(var s=n.length-1;s>=0;s--)(a=n[s])&&(o=(i<3?a(o):i>3?a(t,e,o):a(t,e))||o);return i>3&&o&&Object.defineProperty(t,e,o),o},uVe=function(n){sVe(t,n);function t(){return n!==null&&n.apply(this,arguments)||this}return t.prototype.registerSideBarComp=function(e){this.sideBarComp=e},t.prototype.getSideBarComp=function(){return this.sideBarComp},t=lVe([ae("sideBarService")],t),t}(q),DV={version:aVe,moduleName:fe.SideBarModule,beans:[oVe,uVe],agStackComponents:[{componentName:"AgHorizontalResize",componentClass:WZ},{componentName:"AgSideBar",componentClass:nVe},{componentName:"AgSideBarButtons",componentClass:UZ}],dependantModules:[In]},cm=function(n,t,e,r){var i=arguments.length,o=i<3?t:r===null?r=Object.getOwnPropertyDescriptor(t,e):r,a;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(n,t,e,r);else for(var s=n.length-1;s>=0;s--)(a=n[s])&&(o=(i<3?a(o):i>3?a(t,e,o):a(t,e))||o);return i>3&&o&&Object.defineProperty(t,e,o),o},cVe=function(){function n(){}return n.prototype.selectAllChildren=function(t,e,r){var i=this.extractAllLeafColumns(t);this.setAllColumns(i,e,r)},n.prototype.setColumn=function(t,e,r){this.setAllColumns([t],e,r)},n.prototype.setAllColumns=function(t,e,r){this.columnModel.isPivotMode()?this.setAllPivot(t,e,r):this.setAllVisible(t,e,r)},n.prototype.extractAllLeafColumns=function(t){var e=[],r=function(i){i.forEach(function(o){o.isPassesFilter()&&(o.isGroup()?r(o.getChildren()):e.push(o.getColumn()))})};return r(t),e},n.prototype.setAllVisible=function(t,e,r){var i=[];t.forEach(function(o){o.getColDef().lockVisible||o.isVisible()!=e&&i.push({colId:o.getId(),hide:!e})}),i.length>0&&this.columnModel.applyColumnState({state:i},r)},n.prototype.setAllPivot=function(t,e,r){this.gridOptionsService.get("functionsPassive")?this.setAllPivotPassive(t,e):this.setAllPivotActive(t,e,r)},n.prototype.setAllPivotPassive=function(t,e){var r=this.columnModel.getPivotColumns().slice(),i=this.columnModel.getValueColumns().slice(),o=this.columnModel.getRowGroupColumns().slice(),a=!1,s=!1,l=!1,u=function(v){v.isAnyFunctionActive()||(v.isAllowValue()?(i.push(v),s=!0):v.isAllowRowGroup()?(o.push(v),a=!0):v.isAllowPivot()&&(r.push(v),l=!0))},c=function(v){v.isAnyFunctionActive()&&(r.indexOf(v)>=0&&(D.removeFromArray(r,v),a=!0),i.indexOf(v)>=0&&(D.removeFromArray(i,v),s=!0),o.indexOf(v)>=0&&(D.removeFromArray(o,v),l=!0))},d=e?u:c;if(t.forEach(d),a){var p={type:P.EVENT_COLUMN_PIVOT_CHANGE_REQUEST,columns:r};this.eventService.dispatchEvent(p)}if(l){var h={type:P.EVENT_COLUMN_ROW_GROUP_CHANGE_REQUEST,columns:o};this.eventService.dispatchEvent(h)}if(s){var f={type:P.EVENT_COLUMN_VALUE_CHANGE_REQUEST,columns:o};this.eventService.dispatchEvent(f)}},n.prototype.setAllPivotActive=function(t,e,r){var i=this,o=[],a=function(u){if(!u.isAnyFunctionActive())if(u.isAllowValue()){var c=typeof u.getAggFunc()=="string"?u.getAggFunc():i.aggFuncService.getDefaultAggFunc(u);o.push({colId:u.getId(),aggFunc:c})}else u.isAllowRowGroup()?o.push({colId:u.getId(),rowGroup:!0}):u.isAllowPivot()&&o.push({colId:u.getId(),pivot:!0})},s=function(u){var c=u.isPivotActive()||u.isRowGroupActive()||u.isValueActive();c&&o.push({colId:u.getId(),pivot:!1,rowGroup:!1,aggFunc:null})},l=e?a:s;t.forEach(l),o.length>0&&this.columnModel.applyColumnState({state:o},r)},n.prototype.updateColumns=function(t){var e=this,r=t.columns,i=t.visibleState,o=t.pivotState,a=t.eventType,s=r.map(function(l){var u=l.getColId();if(e.columnModel.isPivotMode()){var c=o==null?void 0:o[u];return{colId:u,pivot:c==null?void 0:c.pivot,rowGroup:c==null?void 0:c.rowGroup,aggFunc:c==null?void 0:c.aggFunc}}else return{colId:u,hide:!(i!=null&&i[u])}});this.columnModel.applyColumnState({state:s},a)},n.prototype.createPivotState=function(t){return{pivot:t.isPivotActive(),rowGroup:t.isRowGroupActive(),aggFunc:t.isValueActive()?t.getAggFunc():void 0}},cm([E("aggFuncService")],n.prototype,"aggFuncService",void 0),cm([E("columnModel")],n.prototype,"columnModel",void 0),cm([E("gridOptionsService")],n.prototype,"gridOptionsService",void 0),cm([E("eventService")],n.prototype,"eventService",void 0),n=cm([ae("modelItemUtils")],n),n}(),dVe="31.1.1",pVe={version:dVe,moduleName:fe.ColumnsToolPanelModule,beans:[cVe],agStackComponents:[{componentName:"AgPrimaryColsHeader",componentClass:tGe},{componentName:"AgPrimaryColsList",componentClass:fGe},{componentName:"AgPrimaryCols",componentClass:AV}],userComponents:[{componentName:"agColumnsToolPanel",componentClass:XGe}],dependantModules:[In,$Z,DV]},hVe={getTemplate:function(n){var t=new Date,e=t.toJSON();return{name:"cp:coreProperties",properties:{prefixedAttributes:[{prefix:"xmlns:",map:{cp:"http://schemas.openxmlformats.org/package/2006/metadata/core-properties",dc:"http://purl.org/dc/elements/1.1/",dcterms:"http://purl.org/dc/terms/",dcmitype:"http://purl.org/dc/dcmitype/",xsi:"http://www.w3.org/2001/XMLSchema-instance"}}]},children:[{name:"dc:creator",textNode:n},{name:"dc:title",textNode:"Workbook"},{name:"dcterms:created",properties:{rawMap:{"xsi:type":"dcterms:W3CDTF"}},textNode:e},{name:"dcterms:modified",properties:{rawMap:{"xsi:type":"dcterms:W3CDTF"}},textNode:e}]}}},fVe={getTemplate:function(n){var t=n.name,e=n.ContentType,r=n.Extension,i=n.PartName;return{name:t,properties:{rawMap:{Extension:r,PartName:i,ContentType:e}}}}},QD=function(n,t){var e=typeof Symbol=="function"&&n[Symbol.iterator];if(!e)return n;var r=e.call(n),i,o=[],a;try{for(;(t===void 0||t-- >0)&&!(i=r.next()).done;)o.push(i.value)}catch(s){a={error:s}}finally{try{i&&!i.done&&(e=r.return)&&e.call(r)}finally{if(a)throw a.error}}return o},Gf=function(n,t,e){if(e||arguments.length===2)for(var r=0,i=t.length,o;r<i;r++)(o||!(r in t))&&(o||(o=Array.prototype.slice.call(t,0,r)),o[r]=t[r]);return n.concat(o||Array.prototype.slice.call(t))},vVe={getTemplate:function(n){var t=new Array(n).fill(void 0).map(function(s,l){return{name:"Override",ContentType:"application/vnd.openxmlformats-officedocument.spreadsheetml.worksheet+xml",PartName:"/xl/worksheets/sheet".concat(l+1,".xml")}}),e=or.worksheetImages.size,r={};or.workbookImageIds.forEach(function(s){r[s.type]=!0});var i=new Array(e).fill(void 0).map(function(s,l){return{name:"Override",ContentType:"application/vnd.openxmlformats-officedocument.drawing+xml",PartName:"/xl/drawings/drawing".concat(l+1,".xml")}}),o=Object.keys(r).map(function(s){return{name:"Default",ContentType:"image/".concat(s),Extension:s}}),a=Gf(Gf(Gf(Gf(Gf(Gf([],QD(o),!1),[{name:"Default",Extension:"rels",ContentType:"application/vnd.openxmlformats-package.relationships+xml"},{name:"Default",ContentType:"application/xml",Extension:"xml"},{name:"Override",ContentType:"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet.main+xml",PartName:"/xl/workbook.xml"}],!1),QD(t),!1),[{name:"Override",ContentType:"application/vnd.openxmlformats-officedocument.theme+xml",PartName:"/xl/theme/theme1.xml"},{name:"Override",ContentType:"application/vnd.openxmlformats-officedocument.spreadsheetml.styles+xml",PartName:"/xl/styles.xml"},{name:"Override",ContentType:"application/vnd.openxmlformats-officedocument.spreadsheetml.sharedStrings+xml",PartName:"/xl/sharedStrings.xml"}],!1),QD(i),!1),[{name:"Override",ContentType:"application/vnd.openxmlformats-package.core-properties+xml",PartName:"/docProps/core.xml"}],!1).map(function(s){return fVe.getTemplate(s)});return{name:"Types",properties:{rawMap:{xmlns:"http://schemas.openxmlformats.org/package/2006/content-types"}},children:a}}},gVe=9525,jU={0:1,"0.00":2,"#,##0":3,"#,##0.00":4,"0%":9,"0.00%":10,"0.00E+00":11,"# ?/?":12,"# ??/??":13,"mm-dd-yy":14,"d-mmm-yy":15,"d-mmm":16,"mmm-yy":17,"h:mm AM/PM":18,"h:mm:ss AM/PM":19,"h:mm":20,"h:mm:ss":21,"m/d/yy h:mm":22,"#,##0 ;(#,##0)":37,"#,##0 ;[Red](#,##0)":38,"#,##0.00;(#,##0.00)":39,"#,##0.00;[Red](#,##0.00)":40,"mm:ss":45,"[h]:mm:ss":46,"mmss.0":47,"##0.0E+0":48,"@":49},yVe=function(n){return Math.round(n*72/96)},mVe=function(n){return Math.round(n*96/72)},Vf=function(n){return Math.ceil(n*gVe)},CVe=function(n){if(n!==void 0){var t=["Automatic","Roman","Swiss","Modern","Script","Decorative"],e=t.indexOf(n||"Automatic");return Math.max(e,0)}},hE=function(n,t){if(t){var e;if(typeof t=="number")e=t;else{var r=t;e=r({rowIndex:n})}return yVe(e)}},SVe=function(n,t){var e=n.position,r=e.colSpan,i=e.column;if(n.width)if(r)for(var o=t.slice(i-1,i+r-1),a=0,s=0;s<o.length;s++){var l=o[s].getActualWidth();if(n.width<a+l){n.position.colSpan=s+1,n.totalWidth=n.width,n.width=n.totalWidth-a;break}a+=l}else n.totalWidth=n.width},wVe=function(n,t){var e=n.position,r=e.rowSpan,i=e.row;if(n.height)if(r)for(var o=0,a=0,s=i;s<i+r;s++){var l=mVe(hE(s,t)||20);if(n.height<o+l){n.position.rowSpan=a+1,n.totalHeight=n.height,n.height=n.totalHeight-o;break}o+=l,a++}else n.totalHeight=n.height},ma=function(n){var t=GL.createHeader({encoding:"UTF-8",standalone:"yes"}),e=GL.createXml(n);return"".concat(t).concat(e)},BS=function(n){var t=65,e=26,r=String.fromCharCode,i=Math.floor(n/e),o=n%e;return!i||n===e?r(t+n-1):o?i<e?r(t+i-1)+r(t+o-1):BS(i)+r(t+o-1):BS(i-1)+"Z"},$U=function(n,t){return{name:"xdr:".concat(n),children:[{name:"xdr:col",textNode:t.col.toString()},{name:"xdr:colOff",textNode:t.offsetX.toString()},{name:"xdr:row",textNode:t.row.toString()},{name:"xdr:rowOff",textNode:t.offsetY.toString()}]}},_Ve=function(n){var t=[{name:"a:ext",properties:{rawMap:{uri:"{FF2B5EF4-FFF2-40B4-BE49-F238E27FC236}"}},children:[{name:"a16:creationId",properties:{rawMap:{id:"{822E6D20-D7BC-2841-A643-D49A6EF008A2}","xmlns:a16":"http://schemas.microsoft.com/office/drawing/2014/main"}}}]}],e=n.recolor&&n.recolor.toLowerCase();switch(e){case"grayscale":case"sepia":case"washout":t.push({name:"a:ext",properties:{rawMap:{uri:"{C183D7F6-B498-43B3-948B-1728B52AA6E4}"}},children:[{name:"adec:decorative",properties:{rawMap:{val:"0","xmlns:adec":"http://schemas.microsoft.com/office/drawing/2017/decorative"}}}]})}return{name:"a:extLst",children:t}},xVe=function(n,t){return{name:"xdr:nvPicPr",children:[{name:"xdr:cNvPr",properties:{rawMap:{id:t,name:n.id,descr:n.altText!=null?n.altText:void 0}},children:[_Ve(n)]},{name:"xdr:cNvPicPr",properties:{rawMap:{preferRelativeResize:"0"}},children:[{name:"a:picLocks"}]}]}},WU=function(n){if(!(!n.saturation&&!n.tint)){var t=[];return n.saturation&&t.push({name:"a:satMod",properties:{rawMap:{val:n.saturation*1e3}}}),n.tint&&t.push({name:"a:tint",properties:{rawMap:{val:n.tint*1e3}}}),t}},EVe=function(n,t){return{name:"a:duotone",children:[{name:"a:prstClr",properties:{rawMap:{val:n.color}},children:WU(n)},{name:"a:srgbClr",properties:{rawMap:{val:t.color}},children:WU(t)}]}},bVe=function(n,t){var e;if(n.transparency){var r=Math.min(Math.max(n.transparency,0),100);e=[{name:"a:alphaModFix",properties:{rawMap:{amt:1e5-Math.round(r*1e3)}}}]}if(n.recolor)switch(e||(e=[]),n.recolor.toLocaleLowerCase()){case"grayscale":e.push({name:"a:grayscl"});break;case"sepia":e.push(EVe({color:"black"},{color:"D9C3A5",tint:50,saturation:180}));break;case"washout":e.push({name:"a:lum",properties:{rawMap:{bright:"70000",contrast:"-70000"}}});break}return{name:"xdr:blipFill",children:[{name:"a:blip",properties:{rawMap:{cstate:"print","r:embed":"rId".concat(t),"xmlns:r":"http://schemas.openxmlformats.org/officeDocument/2006/relationships"}},children:e},{name:"a:stretch",children:[{name:"a:fillRect"}]}]}},OVe=function(n,t){var e={name:"a:xfrm",children:[{name:"a:off",properties:{rawMap:{x:0,y:0}}},{name:"a:ext",properties:{rawMap:{cx:t.width,cy:t.height}}}]};if(n.rotation){var r=n.rotation;e.properties={rawMap:{rot:Math.min(Math.max(r,0),360)*6e4}}}var i={name:"a:prstGeom",properties:{rawMap:{prst:"rect"}},children:[{name:"a:avLst"}]},o={name:"xdr:spPr",children:[e,i]};return o},RVe=function(n){n.fitCell=!!n.fitCell||!n.width||!n.height;var t=n.position,e=t===void 0?{}:t,r=n.fitCell,i=n.width,o=i===void 0?0:i,a=n.height,s=a===void 0?0:a,l=n.totalHeight,u=n.totalWidth,c=e.offsetX,d=c===void 0?0:c,p=e.offsetY,h=p===void 0?0:p,f=e.row,v=f===void 0?1:f,g=e.rowSpan,y=g===void 0?1:g,m=e.column,C=m===void 0?1:m,S=e.colSpan,w=S===void 0?1:S;return{from:{row:v-1,col:C-1,offsetX:Vf(d),offsetY:Vf(h)},to:{row:v-1+(r?1:y-1),col:C-1+(r?1:w-1),offsetX:Vf(o+d),offsetY:Vf(s+h)},height:Vf(l||s),width:Vf(u||o)}},TVe=function(n,t,e,r){return{name:"xdr:pic",children:[xVe(n,t+1),bVe(n,e+1),OVe(n,r)]}},PVe={getTemplate:function(n){var t=n.sheetIndex,e=or.worksheetImages.get(t),r=or.worksheetImageIds.get(t),i=e.map(function(o,a){var s=RVe(o);return{name:"xdr:twoCellAnchor",properties:{rawMap:{editAs:"absolute"}},children:[$U("from",s.from),$U("to",s.to),TVe(o,a,r.get(o.id).index,s),{name:"xdr:clientData"}]}});return{name:"xdr:wsDr",properties:{rawMap:{"xmlns:a":"http://schemas.openxmlformats.org/drawingml/2006/main","xmlns:xdr":"http://schemas.openxmlformats.org/drawingml/2006/spreadsheetDrawing"}},children:i}}},AVe=function(n,t){var e=typeof Symbol=="function"&&n[Symbol.iterator];if(!e)return n;var r=e.call(n),i,o=[],a;try{for(;(t===void 0||t-- >0)&&!(i=r.next()).done;)o.push(i.value)}catch(s){a={error:s}}finally{try{i&&!i.done&&(e=r.return)&&e.call(r)}finally{if(a)throw a.error}}return o},Ca=function(n){var t=AVe(n,4),e=t[0],r=t[1],i=t[2],o=t[3];return{name:"a:".concat(e),children:[{name:"a:".concat(r),properties:{rawMap:{val:i,lastClr:o}}}]}},DVe={getTemplate:function(){return{name:"a:clrScheme",properties:{rawMap:{name:"Office"}},children:[Ca(["dk1","sysClr","windowText","000000"]),Ca(["lt1","sysClr","window","FFFFFF"]),Ca(["dk2","srgbClr","44546A"]),Ca(["lt2","srgbClr","E7E6E6"]),Ca(["accent1","srgbClr","4472C4"]),Ca(["accent2","srgbClr","ED7D31"]),Ca(["accent3","srgbClr","A5A5A5"]),Ca(["accent4","srgbClr","FFC000"]),Ca(["accent5","srgbClr","5B9BD5"]),Ca(["accent6","srgbClr","70AD47"]),Ca(["hlink","srgbClr","0563C1"]),Ca(["folHlink","srgbClr","954F72"])]}}},MVe=function(n,t){var e=typeof Symbol=="function"&&n[Symbol.iterator];if(!e)return n;var r=e.call(n),i,o=[],a;try{for(;(t===void 0||t-- >0)&&!(i=r.next()).done;)o.push(i.value)}catch(s){a={error:s}}finally{try{i&&!i.done&&(e=r.return)&&e.call(r)}finally{if(a)throw a.error}}return o},ge=function(n){var t=MVe(n,4),e=t[0],r=t[1],i=t[2],o=t[3];return{name:"a:".concat(e),properties:{rawMap:{script:i,typeface:r,panose:o}}}},FVe={getTemplate:function(){return{name:"a:fontScheme",properties:{rawMap:{name:"Office"}},children:[{name:"a:majorFont",children:[ge(["latin","Calibri Light",void 0,"020F0302020204030204"]),ge(["ea",""]),ge(["cs",""]),ge(["font","游ゴシック Light","Jpan"]),ge(["font","맑은 고딕","Hang"]),ge(["font","等线 Light","Hans"]),ge(["font","新細明體","Hant"]),ge(["font","Times New Roman","Arab"]),ge(["font","Times New Roman","Hebr"]),ge(["font","Tahoma","Thai"]),ge(["font","Nyala","Ethi"]),ge(["font","Vrinda","Beng"]),ge(["font","Shruti","Gujr"]),ge(["font","MoolBoran","Khmr"]),ge(["font","Tunga","Knda"]),ge(["font","Raavi","Guru"]),ge(["font","Euphemia","Cans"]),ge(["font","Plantagenet Cherokee","Cher"]),ge(["font","Microsoft Yi Baiti","Yiii"]),ge(["font","Microsoft Himalaya","Tibt"]),ge(["font","MV Boli","Thaa"]),ge(["font","Mangal","Deva"]),ge(["font","Gautami","Telu"]),ge(["font","Latha","Taml"]),ge(["font","Estrangelo Edessa","Syrc"]),ge(["font","Kalinga","Orya"]),ge(["font","Kartika","Mlym"]),ge(["font","DokChampa","Laoo"]),ge(["font","Iskoola Pota","Sinh"]),ge(["font","Mongolian Baiti","Mong"]),ge(["font","Times New Roman","Viet"]),ge(["font","Microsoft Uighur","Uigh"]),ge(["font","Sylfaen","Geor"]),ge(["font","Arial","Armn"]),ge(["font","Leelawadee UI","Bugi"]),ge(["font","Microsoft JhengHei","Bopo"]),ge(["font","Javanese Text","Java"]),ge(["font","Segoe UI","Lisu"]),ge(["font","Myanmar Text","Mymr"]),ge(["font","Ebrima","Nkoo"]),ge(["font","Nirmala UI","Olck"]),ge(["font","Ebrima","Osma"]),ge(["font","Phagspa","Phag"]),ge(["font","Estrangelo Edessa","Syrn"]),ge(["font","Estrangelo Edessa","Syrj"]),ge(["font","Estrangelo Edessa","Syre"]),ge(["font","Nirmala UI","Sora"]),ge(["font","Microsoft Tai Le","Tale"]),ge(["font","Microsoft New Tai Lue","Talu"]),ge(["font","Ebrima","Tfng"])]},{name:"a:minorFont",children:[ge(["latin","Calibri",void 0,"020F0502020204030204"]),ge(["ea",""]),ge(["cs",""]),ge(["font","游ゴシック","Jpan"]),ge(["font","맑은 고딕","Hang"]),ge(["font","等线","Hans"]),ge(["font","新細明體","Hant"]),ge(["font","Arial","Arab"]),ge(["font","Arial","Hebr"]),ge(["font","Tahoma","Thai"]),ge(["font","Nyala","Ethi"]),ge(["font","Vrinda","Beng"]),ge(["font","Shruti","Gujr"]),ge(["font","DaunPenh","Khmr"]),ge(["font","Tunga","Knda"]),ge(["font","Raavi","Guru"]),ge(["font","Euphemia","Cans"]),ge(["font","Plantagenet Cherokee","Cher"]),ge(["font","Microsoft Yi Baiti","Yiii"]),ge(["font","Microsoft Himalaya","Tibt"]),ge(["font","MV Boli","Thaa"]),ge(["font","Mangal","Deva"]),ge(["font","Gautami","Telu"]),ge(["font","Latha","Taml"]),ge(["font","Estrangelo Edessa","Syrc"]),ge(["font","Kalinga","Orya"]),ge(["font","Kartika","Mlym"]),ge(["font","DokChampa","Laoo"]),ge(["font","Iskoola Pota","Sinh"]),ge(["font","Mongolian Baiti","Mong"]),ge(["font","Arial","Viet"]),ge(["font","Microsoft Uighur","Uigh"]),ge(["font","Sylfaen","Geor"]),ge(["font","Arial","Armn"]),ge(["font","Leelawadee UI","Bugi"]),ge(["font","Microsoft JhengHei","Bopo"]),ge(["font","Javanese Text","Java"]),ge(["font","Segoe UI","Lisu"]),ge(["font","Myanmar Text","Mymr"]),ge(["font","Ebrima","Nkoo"]),ge(["font","Nirmala UI","Olck"]),ge(["font","Ebrima","Osma"]),ge(["font","Phagspa","Phag"]),ge(["font","Estrangelo Edessa","Syrn"]),ge(["font","Estrangelo Edessa","Syrj"]),ge(["font","Estrangelo Edessa","Syre"]),ge(["font","Nirmala UI","Sora"]),ge(["font","Microsoft Tai Le","Tale"]),ge(["font","Microsoft New Tai Lue","Talu"]),ge(["font","Ebrima","Tfng"])]}]}}},HS=function(n,t){var e=typeof Symbol=="function"&&n[Symbol.iterator];if(!e)return n;var r=e.call(n),i,o=[],a;try{for(;(t===void 0||t-- >0)&&!(i=r.next()).done;)o.push(i.value)}catch(s){a={error:s}}finally{try{i&&!i.done&&(e=r.return)&&e.call(r)}finally{if(a)throw a.error}}return o},Fl=function(n,t,e){return{name:"a:".concat(n),properties:{rawMap:{val:t}},children:e}},JD=function(n){var t=HS(n,6),e=t[0],r=t[1],i=t[2],o=t[3],a=t[4],s=t[5],l=[];return l.push(Fl("satMod",i)),o&&l.push(Fl("lumMod",o)),a&&l.push(Fl("tint",a)),s&&l.push(Fl("shade",s)),{name:"a:gs",properties:{rawMap:{pos:e}},children:[{name:"a:schemeClr",properties:{rawMap:{val:r}},children:l}]}},CO=function(n,t){return{name:"a:solidFill",children:[Fl("schemeClr",n,t)]}},oI=function(n){var t=HS(n,5),e=t[0],r=t[1],i=t[2],o=t[3],a=t[4],s=HS(a,2),l=s[0],u=s[1];return{name:"a:gradFill",properties:{rawMap:{rotWithShape:e}},children:[{name:"a:gsLst",children:[JD(r),JD(i),JD(o)]},{name:"a:lin",properties:{rawMap:{ang:l,scaled:u}}}]}},eM=function(n){var t=HS(n,4),e=t[0],r=t[1],i=t[2],o=t[3];return{name:"a:ln",properties:{rawMap:{w:e,cap:r,cmpd:i,algn:o}},children:[CO("phClr"),Fl("prstDash","solid"),{name:"a:miter",properties:{rawMap:{lim:"800000"}}}]}},tM=function(n){var t=[];if(n){var e=HS(n,5),r=e[0],i=e[1],o=e[2],a=e[3],s=e[4];t.push({name:"a:outerShdw",properties:{rawMap:{blurRad:r,dist:i,dir:o,algn:a,rotWithShape:s}},children:[Fl("srgbClr","000000",[Fl("alpha","63000")])]})}return{name:"a:effectStyle",children:[Object.assign({},{name:"a:effectLst"},t.length?{children:t}:{})]}},LVe=function(){return{name:"a:fillStyleLst",children:[CO("phClr"),oI(["1",["0","phClr","105000","110000","67000"],["50000","phClr","103000","105000","73000"],["100000","phClr","109000","105000","81000"],["5400000","0"]]),oI(["1",["0","phClr","103000","102000","94000"],["50000","phClr","110000","100000",void 0,"100000"],["100000","phClr","120000","99000",void 0,"78000"],["5400000","0"]])]}},IVe=function(){return{name:"a:lnStyleLst",children:[eM(["6350","flat","sng","ctr"]),eM(["12700","flat","sng","ctr"]),eM(["19050","flat","sng","ctr"])]}},NVe=function(){return{name:"a:effectStyleLst",children:[tM(),tM(),tM(["57150","19050","5400000","ctr","0"])]}},kVe=function(){return{name:"a:bgFillStyleLst",children:[CO("phClr"),CO("phClr",[Fl("tint","95000"),Fl("satMod","170000")]),oI(["1",["0","phClr","150000","102000","93000","98000"],["50000","phClr","130000","103000","98000","90000"],["100000","phClr","120000",void 0,void 0,"63000"],["5400000","0"]])]}},GVe={getTemplate:function(){return{name:"a:fmtScheme",properties:{rawMap:{name:"Office"}},children:[LVe(),IVe(),NVe(),kVe()]}}},VVe={getTemplate:function(){return{name:"a:themeElements",children:[DVe.getTemplate(),FVe.getTemplate(),GVe.getTemplate()]}}},BVe={getTemplate:function(){return{name:"a:theme",properties:{prefixedAttributes:[{prefix:"xmlns:",map:{a:"http://schemas.openxmlformats.org/drawingml/2006/main"}}],rawMap:{name:"Office Theme"}},children:[VVe.getTemplate(),{name:"a:objectDefaults"},{name:"a:extraClrSchemeLst"}]}}},HVe=function(n){var t=typeof Symbol=="function"&&Symbol.iterator,e=t&&n[t],r=0;if(e)return e.call(n);if(n&&typeof n.length=="number")return{next:function(){return n&&r>=n.length&&(n=void 0),{value:n&&n[r++],done:!n}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")},jVe=function(n){var t,e,r=[];try{for(var i=HVe(n.keys()),o=i.next();!o.done;o=i.next()){var a=o.value,s=a.toString(),l={name:"t",textNode:D.escapeString(s)},u=s.trim().length!==s.length;u&&(l.properties={rawMap:{"xml:space":"preserve"}}),r.push({name:"si",children:[l]})}}catch(c){t={error:c}}finally{try{o&&!o.done&&(e=i.return)&&e.call(i)}finally{if(t)throw t.error}}return r},$Ve={getTemplate:function(n){return{name:"sst",properties:{rawMap:{xmlns:"http://schemas.openxmlformats.org/spreadsheetml/2006/main",count:n.size,uniqueCount:n.size}},children:jVe(n)}}};function WVe(n){for(var t=n.split(/(\[[^\]]*\])/),e=0;e<t.length;e++){var r=t[e];r.length&&(r.startsWith("[")||(r=r.replace(/\$/g,'"$"')),t[e]=D.escapeString(r))}return t.join("")}var UVe={getTemplate:function(n){var t=n.formatCode,e=n.numFmtId;return t.length&&(t=WVe(t)),{name:"numFmt",properties:{rawMap:{formatCode:t,numFmtId:e}}}}},zVe={getTemplate:function(n){return{name:"numFmts",properties:{rawMap:{count:n.length}},children:n.map(function(t){return UVe.getTemplate(t)})}}},KVe={getTemplate:function(n){var t=n.size,e=n.colorTheme,r=n.color,i=r===void 0?"FF000000":r,o=n.fontName,a=o===void 0?"Calibri":o,s=n.family,l=n.scheme,u=n.italic,c=n.bold,d=n.strikeThrough,p=n.outline,h=n.shadow,f=n.underline,v=n.verticalAlign,g=[{name:"sz",properties:{rawMap:{val:t}}},{name:"color",properties:{rawMap:{theme:e,rgb:i}}},{name:"name",properties:{rawMap:{val:a}}}];return s&&g.push({name:"family",properties:{rawMap:{val:s}}}),l&&g.push({name:"scheme",properties:{rawMap:{val:l}}}),u&&g.push({name:"i"}),c&&g.push({name:"b"}),d&&g.push({name:"strike"}),p&&g.push({name:"outline"}),h&&g.push({name:"shadow"}),f&&g.push({name:"u",properties:{rawMap:{val:f}}}),v&&g.push({name:"vertAlign",properties:{rawMap:{val:v}}}),{name:"font",children:g}}},YVe={getTemplate:function(n){return{name:"fonts",properties:{rawMap:{count:n.length}},children:n.map(function(t){return KVe.getTemplate(t)})}}},XVe={getTemplate:function(n){var t=n.patternType,e=n.fgTheme,r=n.fgTint,i=n.fgRgb,o=n.bgRgb,a=n.bgIndexed,s={name:"patternFill",properties:{rawMap:{patternType:t}}};return(e||r||i)&&(s.children=[{name:"fgColor",properties:{rawMap:{theme:e,tint:r,rgb:i}}}]),(a||o)&&(s.children||(s.children=[]),s.children.push({name:"bgColor",properties:{rawMap:{indexed:a,rgb:o}}})),{name:"fill",children:[s]}}},qVe={getTemplate:function(n){return{name:"fills",properties:{rawMap:{count:n.length}},children:n.map(function(t){return XVe.getTemplate(t)})}}},ZVe=function(n){switch(n){case 1:return"thin";case 2:return"medium";case 3:return"thick";default:return"hair"}},QVe={None:"None",Dot:"Dotted",Dash:"Dashed",Double:"Double",DashDot:"DashDot",DashDotDot:"DashDotDot",SlantDashDot:"SlantDashDot"},JVe=["Dashed","DashDot","DashDotDot"],eBe={None:"none",Solid:"solid",Gray50:"mediumGray",Gray75:"darkGray",Gray25:"lightGray",HorzStripe:"darkHorizontal",VertStripe:"darkVertical",ReverseDiagStripe:"darkDown",DiagStripe:"darkUp",DiagCross:"darkGrid",ThickDiagCross:"darkTrellis",ThinHorzStripe:"lightHorizontal",ThinVertStripe:"lightVertical",ThinReverseDiagStripe:"lightDown",ThinDiagStripe:"lightUp",ThinHorzCross:"lightGrid",ThinDiagCross:"lightTrellis",Gray125:"gray125",Gray0625:"gray0625"},tBe={Automatic:"general",Left:"left",Center:"center",Right:"right",Fill:"fill",Justify:"justify",CenterAcrossSelection:"centerContinuous",Distributed:"distributed",JustifyDistributed:"justify"},rBe={Automatic:void 0,Top:"top",Bottom:"bottom",Center:"center",Justify:"justify",Distributed:"distributed",JustifyDistributed:"justify"},nBe=function(n){return n?eBe[n]||n:"none"},fd=function(n){return n==null?n:(n.charAt(0)==="#"&&(n=n.substring(1)),n.length===6?"FF"+n:n)},ox=function(n,t){if(!n)return"thin";var e=ZVe(t),r=QVe[n];return n==="Continuous"?e:e==="medium"&&JVe.indexOf(r)!==-1?"medium".concat(r):r.charAt(0).toLowerCase()+r.substring(1)},iBe=function(n){return tBe[n]||"general"},oBe=function(n){return rBe[n]||void 0},dm=function(n){return{name:"color",properties:{rawMap:{rgb:fd(n||"#000000")}}}},aBe={getTemplate:function(n){var t=n.left,e=n.right,r=n.top,i=n.bottom,o=n.diagonal,a=t?[dm(t.color)]:void 0,s=e?[dm(e.color)]:void 0,l=r?[dm(r.color)]:void 0,u=i?[dm(i.color)]:void 0,c=o?[dm(o.color)]:void 0;return{name:"border",children:[{name:"left",properties:{rawMap:{style:t&&t.style}},children:a},{name:"right",properties:{rawMap:{style:e&&e.style}},children:s},{name:"top",properties:{rawMap:{style:r&&r.style}},children:l},{name:"bottom",properties:{rawMap:{style:i&&i.style}},children:u},{name:"diagonal",properties:{rawMap:{style:o&&o.style}},children:c}]}}},sBe={getTemplate:function(n){return{name:"borders",properties:{rawMap:{count:n.length}},children:n.map(function(t){return aBe.getTemplate(t)})}}},lBe=function(n){var t=["Context","LeftToRight","RightToLeft"],e=t.indexOf(n);return Math.max(e,0)},uBe={getTemplate:function(n){var t=n.horizontal,e=n.indent,r=n.readingOrder,i=n.rotate,o=n.shrinkToFit,a=n.vertical,s=n.wrapText;return{name:"alignment",properties:{rawMap:{horizontal:t&&iBe(t),indent:e,readingOrder:r&&lBe(r),textRotation:i,shrinkToFit:o,vertical:a&&oBe(a),wrapText:s}}}}},cBe={getTemplate:function(n){var t=n.protected===!1?0:1,e=n.hideFormula===!0?1:0;return{name:"protection",properties:{rawMap:{hidden:e,locked:t}}}}},zZ={getTemplate:function(n){var t=n.alignment,e=n.borderId,r=n.fillId,i=n.fontId,o=n.numFmtId,a=n.protection,s=n.quotePrefix,l=n.xfId,u=[];return t&&u.push(uBe.getTemplate(t)),a&&u.push(cBe.getTemplate(a)),{name:"xf",properties:{rawMap:{applyAlignment:t?1:void 0,applyProtection:a?1:void 0,applyBorder:e?1:void 0,applyFill:r?1:void 0,borderId:e,fillId:r,applyFont:i?1:void 0,fontId:i,applyNumberFormat:o?1:void 0,numFmtId:o,quotePrefix:s?1:void 0,xfId:l}},children:u.length?u:void 0}}},dBe={getTemplate:function(n){return{name:"cellStyleXfs",properties:{rawMap:{count:n.length}},children:n.map(function(t){return zZ.getTemplate(t)})}}},pBe={getTemplate:function(n){return{name:"cellXfs",properties:{rawMap:{count:n.length}},children:n.map(function(t){return zZ.getTemplate(t)})}}},hBe={getTemplate:function(n){var t=n.builtinId,e=n.name,r=n.xfId;return{name:"cellStyle",properties:{rawMap:{builtinId:t,name:e,xfId:r}}}}},fBe={getTemplate:function(n){return{name:"cellStyles",properties:{rawMap:{count:n.length}},children:n.map(function(t){return hBe.getTemplate(t)})}}},SO=function(){return SO=Object.assign||function(n){for(var t,e=1,r=arguments.length;e<r;e++){t=arguments[e];for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(n[i]=t[i])}return n},SO.apply(this,arguments)},wO,Cv,FC,LC,IC,KZ,_O,YZ,aI,XZ=function(n,t){return n.indexOf("mixedStyle")!==-1&&t>1&&(n+="_".concat(t)),n},qZ=function(){wO={base:0},Cv=[],FC=[{fontName:"Calibri",colorTheme:"1",family:"2",scheme:"minor"}],LC=[{patternType:"none"},{patternType:"gray125"}],IC=[{left:void 0,right:void 0,top:void 0,bottom:void 0,diagonal:void 0}],KZ=[{borderId:0,fillId:0,fontId:0,numFmtId:0}],_O=[{borderId:0,fillId:0,fontId:0,numFmtId:0,xfId:0}],YZ=[{builtinId:0,name:"Normal",xfId:0}]},vBe=function(n){var t=nBe(n.pattern),e=fd(n.color),r=fd(n.patternColor),i=LC.findIndex(function(o){var a=o.patternType,s=o.fgRgb,l=o.bgRgb;return!(a!=t||s!=e||l!=r)});return i===-1&&(i=LC.length,LC.push({patternType:t,fgRgb:e,bgRgb:r})),i},gBe=function(n){if(jU[n])return jU[n];var t=Cv.findIndex(function(e){return e.formatCode===n});return t===-1?(t=Cv.length+164,Cv.push({formatCode:n,numFmtId:t})):t=Cv[t].numFmtId,t},yBe=function(n){var t=n.borderBottom,e=n.borderTop,r=n.borderLeft,i=n.borderRight,o,a,s,l,u,c,d,p;r&&(s=ox(r.lineStyle,r.weight),d=fd(r.color)),i&&(l=ox(i.lineStyle,i.weight),p=fd(i.color)),t&&(o=ox(t.lineStyle,t.weight),u=fd(t.color)),e&&(a=ox(e.lineStyle,e.weight),c=fd(e.color));var h=IC.findIndex(function(f){var v=f.left,g=f.right,y=f.top,m=f.bottom;if(!v&&(s||d)||!g&&(l||p)||!y&&(a||c)||!m&&(o||u))return!1;var C=v||{},S=C.style,w=C.color,_=g||{},x=_.style,b=_.color,O=y||{},T=O.style,A=O.color,N=m||{},M=N.style,L=N.color;return!(S!=s||w!=d||x!=l||b!=p||T!=a||A!=c||M!=o||L!=u)});return h===-1&&(h=IC.length,IC.push({left:{style:s,color:d},right:{style:l,color:p},top:{style:a,color:c},bottom:{style:o,color:u},diagonal:{style:void 0,color:void 0}})),h},mBe=function(n){var t=n.fontName,e=t===void 0?"Calibri":t,r=n.color,i=n.size,o=n.bold,a=n.italic,s=n.outline,l=n.shadow,u=n.strikeThrough,c=n.underline,d=n.family,p=n.verticalAlign,h=fd(r),f=CVe(d),v=c?c.toLocaleLowerCase():void 0,g=p?p.toLocaleLowerCase():void 0,y=FC.findIndex(function(m){return!(m.fontName!=e||m.color!=h||m.size!=i||m.bold!=o||m.italic!=a||m.outline!=s||m.shadow!=l||m.strikeThrough!=u||m.underline!=v||m.verticalAlign!=g||m.family!=f)});return y===-1&&(y=FC.length,FC.push({fontName:e,color:h,size:i,bold:o,italic:a,outline:s,shadow:l,strikeThrough:u,underline:v,verticalAlign:g,family:f!=null?f.toString():void 0})),y},CBe=function(n){var t=n.alignment,e=n.borders,r=n.font,i=n.interior,o=n.numberFormat,a=n.protection,s=n.quotePrefix,l=n.id,u=0,c=0,d=0,p=0;l&&(l=XZ(l,aI),wO[l]==null&&(i&&(u=vBe(i)),e&&(c=yBe(e)),r&&(d=mBe(r)),o&&(p=gBe(o.format)),wO[l]=_O.length,_O.push({alignment:t,borderId:c||0,fillId:u||0,fontId:d||0,numFmtId:p||0,protection:a,quotePrefix:s,xfId:0})))},SBe={getTemplate:function(n){var t=zVe.getTemplate(Cv),e=YVe.getTemplate(FC.map(function(l){return SO(SO({},l),{size:l.size!=null?l.size:n})})),r=qVe.getTemplate(LC),i=sBe.getTemplate(IC),o=dBe.getTemplate(KZ),a=pBe.getTemplate(_O),s=fBe.getTemplate(YZ);return qZ(),{name:"styleSheet",properties:{rawMap:{"mc:Ignorable":"x14ac x16r2 xr",xmlns:"http://schemas.openxmlformats.org/spreadsheetml/2006/main","xmlns:mc":"http://schemas.openxmlformats.org/markup-compatibility/2006","xmlns:x14ac":"http://schemas.microsoft.com/office/spreadsheetml/2009/9/ac","xmlns:x16r2":"http://schemas.microsoft.com/office/spreadsheetml/2015/02/main","xmlns:xr":"http://schemas.microsoft.com/office/spreadsheetml/2014/revision"}},children:[t,e,r,i,o,a,s,{name:"tableStyles",properties:{rawMap:{count:0,defaultPivotStyle:"PivotStyleLight16",defaultTableStyle:"TableStyleMedium2"}}}]}}},wBe=function(n,t){return wO[XZ(n,t)]||0},_Be=function(n,t){aI=t,aI===1&&qZ(),n.forEach(CBe)},xBe={getTemplate:function(n,t){var e=(t+1).toString();return{name:"sheet",properties:{rawMap:{name:n,sheetId:e,"r:id":"rId".concat(e)}}}}},EBe={getTemplate:function(n){return{name:"sheets",children:n.map(function(t,e){return xBe.getTemplate(t,e)})}}},bBe={getTemplate:function(n){return{name:"workbook",properties:{prefixedAttributes:[{prefix:"xmlns:",map:{r:"http://schemas.openxmlformats.org/officeDocument/2006/relationships"}}],rawMap:{xmlns:"http://schemas.openxmlformats.org/spreadsheetml/2006/main"}},children:[EBe.getTemplate(n)]}}},OBe=function(n){return Math.ceil((n-12)/7+1)},RBe={getTemplate:function(n){var t=n.min,e=n.max,r=n.outlineLevel,i=n.s,o=n.width,a=n.hidden,s=n.bestFit,l=1,u="0";return o>1&&(l=OBe(o),u="1"),{name:"col",properties:{rawMap:{min:t,max:e,outlineLevel:r??void 0,width:l,style:i,hidden:a?"1":"0",bestFit:s?"1":"0",customWidth:u}}}}},TBe=function(n){var t=n.charAt(0).toLowerCase();return t==="s"?"inlineStr":t},PBe={getTemplate:function(n,t,e){var r=n.ref,i=n.data,o=n.styleId,a=i||{type:"empty",value:null},s=a.type,l=a.value,u=s;s==="f"?u="str":s.charAt(0)===s.charAt(0).toUpperCase()&&(u=TBe(s));var c={name:"c",properties:{rawMap:{r,t:u==="empty"?void 0:u,s:o?wBe(o,e):void 0}}};if(u==="empty")return c;var d;return u==="str"&&s==="f"?d=[{name:"f",textNode:D.escapeString(l)}]:u==="inlineStr"?d=[{name:"is",children:[{name:"t",textNode:D.escapeString(l)}]}]:d=[{name:"v",textNode:l}],Object.assign({},c,{children:d})}},ABe=function(n,t){var e=typeof Symbol=="function"&&n[Symbol.iterator];if(!e)return n;var r=e.call(n),i,o=[],a;try{for(;(t===void 0||t-- >0)&&!(i=r.next()).done;)o.push(i.value)}catch(s){a={error:s}}finally{try{i&&!i.done&&(e=r.return)&&e.call(r)}finally{if(a)throw a.error}}return o},DBe=function(n,t,e){if(e||arguments.length===2)for(var r=0,i=t.length,o;r<i;r++)(o||!(r in t))&&(o||(o=Array.prototype.slice.call(t,0,r)),o[r]=t[r]);return n.concat(o||Array.prototype.slice.call(t))},MBe=function(n,t){for(var e=[],r=0,i=0;i<n.length;i++){var o=n[i];o.mergeAcross&&(e.push({pos:i,excelPos:r}),r+=o.mergeAcross),r++}if(e.length)for(var i=e.length-1;i>=0;i--){for(var a=[],o=n[e[i].pos],s=1;s<=o.mergeAcross;s++)a.push({ref:"".concat(BS(e[i].excelPos+1+s)).concat(t+1),styleId:o.styleId,data:{type:"empty",value:null}});a.length&&n.splice.apply(n,DBe([e[i].pos+1,0],ABe(a),!1))}},FBe=function(n){var t;return((t=n.data)===null||t===void 0?void 0:t.value)!==""||n.styleId!==void 0},LBe={getTemplate:function(n,t,e){var r=n.collapsed,i=n.hidden,o=n.height,a=n.outlineLevel,s=n.cells,l=s===void 0?[]:s;MBe(l,t);var u=l.filter(FBe).map(function(c,d){return PBe.getTemplate(c,d,e)});return{name:"row",properties:{rawMap:{r:t+1,collapsed:r?"1":"0",hidden:i?"1":"0",ht:o,customHeight:o!=null?"1":"0",spans:"1:1",outlineLevel:a||void 0}},children:u}}},IBe={getTemplate:function(n){return{name:"mergeCell",properties:{rawMap:{ref:n}}}}},NBe=function(n,t,e){var r=[],i=[];n.forEach(function(s,l){var u=s.cells,c=0,d;u.forEach(function(p,h){var f=h+c+1,v=BS(f),g=l+1;if(p.mergeAcross){c+=p.mergeAcross;var y=BS(h+c+1);r.push("".concat(v).concat(g,":").concat(y).concat(g))}t[f-1]||(t[f-1]={});var m=p.collapsibleRanges;m&&m.forEach(function(C){i.push([f+C[0],f+C[1]])}),d=t[f-1],d.min=f,d.max=f,p.ref="".concat(v).concat(g)})}),i.sort(function(s,l){return s[0]!==l[0]?s[0]-l[0]:l[1]-s[1]});var o=new Map,a=new Map;return i.filter(function(s){var l=s.toString(),u=o.get(l);return u?!1:(o.set(l,!0),!0)}).forEach(function(s){var l=t.find(function(c){return c.min==s[0]&&c.max==s[1]}),u=a.get(s[0]);t.push({min:s[0],max:s[1],outlineLevel:e?void 0:u||1,width:(l||{width:100}).width}),a.set(s[0],(u||0)+1)}),r},kBe=function(n){return!n||n!=="Portrait"&&n!=="Landscape"?"portrait":n.toLocaleLowerCase()},GBe=function(n){if(n==null)return 1;var t=["Letter","Letter Small","Tabloid","Ledger","Legal","Statement","Executive","A3","A4","A4 Small","A5","A6","B4","B5","Folio","Envelope","Envelope DL","Envelope C5","Envelope B5","Envelope C3","Envelope C4","Envelope C6","Envelope Monarch","Japanese Postcard","Japanese Double Postcard"],e=t.indexOf(n);return e===-1?1:e+1},VBe=function(n){return function(t){return n.length&&t.push({name:"cols",children:n.map(function(e){return RBe.getTemplate(e)})}),t}},BBe=function(n,t){return function(e){return n.length&&e.push({name:"sheetData",children:n.map(function(r,i){return LBe.getTemplate(r,i,t)})}),e}},HBe=function(n){return function(t){return n.length&&t.push({name:"mergeCells",properties:{rawMap:{count:n.length}},children:n.map(function(e){return IBe.getTemplate(e)})}),t}},jBe=function(n){return function(t){var e=n.top,r=e===void 0?.75:e,i=n.right,o=i===void 0?.7:i,a=n.bottom,s=a===void 0?.75:a,l=n.left,u=l===void 0?.7:l,c=n.header,d=c===void 0?.3:c,p=n.footer,h=p===void 0?.3:p;return t.push({name:"pageMargins",properties:{rawMap:{bottom:s,footer:h,header:d,left:u,right:o,top:r}}}),t}},$Be=function(n){return function(t){return n&&t.push({name:"pageSetup",properties:{rawMap:{horizontalDpi:0,verticalDpi:0,orientation:kBe(n.orientation),paperSize:GBe(n.pageSize)}}}),t}},WBe=function(n){var t={"&[Page]":"&P","&[Pages]":"&N","&[Date]":"&D","&[Time]":"&T","&[Tab]":"&A","&[Path]":"&Z","&[File]":"&F"};return D.iterateObject(t,function(e,r){n=n.replace(e,r)}),n},UBe=function(n){return n==="Center"?"C":n==="Right"?"R":"L"},zBe=function(n,t){return t&&(n+="&amp;&quot;",n+=t.fontName||"Calibri",t.bold!==t.italic?n+=t.bold?",Bold":",Italic":t.bold?n+=",Bold Italic":n+=",Regular",n+="&quot;",t.size&&(n+="&amp;".concat(t.size)),t.strikeThrough&&(n+="&amp;S"),t.underline&&(n+="&amp;".concat(t.underline==="Double"?"E":"U")),t.color&&(n+="&amp;K".concat(t.color.replace("#","").toUpperCase()))),n},KBe=function(n){return n.reduce(function(t,e){var r=UBe(e.position),i=zBe("".concat(t,"&amp;").concat(r),e.font);return"".concat(i).concat(D.escapeString(WBe(e.value)))},"")},YBe=function(n){var t=["all","first","even"],e=[];return t.forEach(function(r){var i=n[r],o=r==="all"?"odd":r;!i||!i.header&&!i.footer||D.iterateObject(i,function(a,s){var l="".concat(a.charAt(0).toUpperCase()).concat(a.slice(1));s&&e.push({name:"".concat(o).concat(l),properties:{rawMap:{"xml:space":"preserve"}},textNode:KBe(s)})})}),e},XBe=function(n){return function(t){if(!n)return t;var e=n.first!=null?1:0,r=n.even!=null?1:0;return t.push({name:"headerFooter",properties:{rawMap:{differentFirst:e,differentOddEven:r}},children:YBe(n)}),t}},qBe=function(n){return function(t){return or.worksheetImages.get(n)&&t.push({name:"drawing",properties:{rawMap:{"r:id":"rId1"}}}),t}},ZBe=function(){return function(n){return n.push({name:"sheetPr",children:[{name:"outlinePr",properties:{rawMap:{summaryBelow:0}}}]}),n}},QBe=function(n){return function(t){var e=n.reduce(function(r,i){return i.outlineLevel&&i.outlineLevel>r?i.outlineLevel:r},0);return t.push({name:"sheetFormatPr",properties:{rawMap:{baseColWidth:10,defaultRowHeight:16,outlineLevelRow:e||void 0}}}),t}},JBe={getTemplate:function(n){var t=n.worksheet,e=n.currentSheet,r=n.config,i=r.margins,o=i===void 0?{}:i,a=r.pageSetup,s=r.headerFooterConfig,l=r.suppressColumnOutline,u=t.table,c=u.rows,d=u.columns,p=d&&d.length?NBe(c,d,!!l):[],h=D.compose(ZBe(),QBe(c),VBe(d),BBe(c,e+1),HBe(p),jBe(o),$Be(a),XBe(s),qBe(e)),f=h([]);return{name:"worksheet",properties:{prefixedAttributes:[{prefix:"xmlns:",map:{r:"http://schemas.openxmlformats.org/officeDocument/2006/relationships"}}],rawMap:{xmlns:"http://schemas.openxmlformats.org/spreadsheetml/2006/main"}},children:f}}},e2e={getTemplate:function(n){var t=n.Id,e=n.Type,r=n.Target;return{name:"Relationship",properties:{rawMap:{Id:t,Type:e,Target:r}}}}},ax={getTemplate:function(n){var t=n.map(function(e){return e2e.getTemplate(e)});return{name:"Relationships",properties:{rawMap:{xmlns:"http://schemas.openxmlformats.org/package/2006/relationships"}},children:t}}},t2e=function(n,t){var e=typeof Symbol=="function"&&n[Symbol.iterator];if(!e)return n;var r=e.call(n),i,o=[],a;try{for(;(t===void 0||t-- >0)&&!(i=r.next()).done;)o.push(i.value)}catch(s){a={error:s}}finally{try{i&&!i.done&&(e=r.return)&&e.call(r)}finally{if(a)throw a.error}}return o},UU=function(n,t,e){if(e||arguments.length===2)for(var r=0,i=t.length,o;r<i;r++)(o||!(r in t))&&(o||(o=Array.prototype.slice.call(t,0,r)),o[r]=t[r]);return n.concat(o||Array.prototype.slice.call(t))},or=function(){function n(){}return n.createExcel=function(t,e,r){return this.addSheetName(e),_Be(t,this.sheetNames.length),this.createWorksheet(e,r)},n.buildImageMap=function(t,e,r,i,o){var a=this.sheetNames.length,s=this.images.get(t.id);(!t.position||!t.position.row||!t.position.column)&&(t.position||(t.position={}),t.position=Object.assign({},t.position,{row:e,column:i.indexOf(r)+1}));var l=t;if(SVe(l,i),wVe(l,o),s){var u=s.find(function(c){return c.sheetId===a});u?u.image.push(l):s.push({sheetId:a,image:[l]})}else this.images.set(l.id,[{sheetId:a,image:[l]}]),this.workbookImageIds.set(l.id,{type:l.imageType,index:this.workbookImageIds.size});this.buildSheetImageMap(a,l)},n.buildSheetImageMap=function(t,e){var r=this.worksheetImageIds.get(t);r||(r=new Map,this.worksheetImageIds.set(t,r));var i=this.worksheetImages.get(t);i?(i.push(e),r.get(e.id)||r.set(e.id,{index:r.size,type:e.imageType})):(this.worksheetImages.set(t,[e]),r.set(e.id,{index:0,type:e.imageType}))},n.addSheetName=function(t){for(var e=D.escapeString(t.name)||"",r="";this.sheetNames.indexOf("".concat(e).concat(r))!==-1;)if(r==="")r="_1";else{var i=parseInt(r.slice(1),10);r="_".concat(i+1)}t.name="".concat(e).concat(r),this.sheetNames.push(t.name)},n.getStringPosition=function(t){return this.sharedStrings.has(t)?this.sharedStrings.get(t):(this.sharedStrings.set(t,this.sharedStrings.size),this.sharedStrings.size-1)},n.resetFactory=function(){this.sharedStrings=new Map,this.images=new Map,this.worksheetImages=new Map,this.workbookImageIds=new Map,this.worksheetImageIds=new Map,this.sheetNames=[],this.factoryMode=Wh.SINGLE_SHEET},n.createWorkbook=function(){return ma(bBe.getTemplate(this.sheetNames))},n.createStylesheet=function(t){return ma(SBe.getTemplate(t))},n.createSharedStrings=function(){return ma($Ve.getTemplate(this.sharedStrings))},n.createCore=function(t){return ma(hVe.getTemplate(t))},n.createContentTypes=function(t){return ma(vVe.getTemplate(t))},n.createRels=function(){var t=ax.getTemplate([{Id:"rId1",Type:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/officeDocument",Target:"xl/workbook.xml"},{Id:"rId2",Type:"http://schemas.openxmlformats.org/package/2006/relationships/metadata/core-properties",Target:"docProps/core.xml"}]);return ma(t)},n.createTheme=function(){return ma(BVe.getTemplate())},n.createWorkbookRels=function(t){var e=new Array(t).fill(void 0).map(function(i,o){return{Id:"rId".concat(o+1),Type:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/worksheet",Target:"worksheets/sheet".concat(o+1,".xml")}}),r=ax.getTemplate(UU(UU([],t2e(e),!1),[{Id:"rId".concat(t+1),Type:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/theme",Target:"theme/theme1.xml"},{Id:"rId".concat(t+2),Type:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/styles",Target:"styles.xml"},{Id:"rId".concat(t+3),Type:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/sharedStrings",Target:"sharedStrings.xml"}],!1));return ma(r)},n.createDrawing=function(t){return ma(PVe.getTemplate({sheetIndex:t}))},n.createDrawingRel=function(t){var e=this,r=this.worksheetImageIds.get(t),i=[];return r.forEach(function(o,a){i.push({Id:"rId".concat(o.index+1),Type:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/image",Target:"../media/image".concat(e.workbookImageIds.get(a).index+1,".").concat(o.type)})}),ma(ax.getTemplate(i))},n.createWorksheetDrawingRel=function(t){var e=ax.getTemplate([{Id:"rId1",Type:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/drawing",Target:"../drawings/drawing".concat(t+1,".xml")}]);return ma(e)},n.createWorksheet=function(t,e){return ma(JBe.getTemplate({worksheet:t,currentSheet:this.sheetNames.length-1,config:e}))},n.sharedStrings=new Map,n.sheetNames=[],n.images=new Map,n.worksheetImages=new Map,n.workbookImageIds=new Map,n.worksheetImageIds=new Map,n.factoryMode=Wh.SINGLE_SHEET,n}(),r2e=function(){var n=function(t,e){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])},n(t,e)};return function(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");n(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}}(),xO=function(){return xO=Object.assign||function(n){for(var t,e=1,r=arguments.length;e<r;e++){t=arguments[e];for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(n[i]=t[i])}return n},xO.apply(this,arguments)},zU=function(n,t){var e=typeof Symbol=="function"&&n[Symbol.iterator];if(!e)return n;var r=e.call(n),i,o=[],a;try{for(;(t===void 0||t-- >0)&&!(i=r.next()).done;)o.push(i.value)}catch(s){a={error:s}}finally{try{i&&!i.done&&(e=r.return)&&e.call(r)}finally{if(a)throw a.error}}return o},rM=function(n,t,e){if(e||arguments.length===2)for(var r=0,i=t.length,o;r<i;r++)(o||!(r in t))&&(o||(o=Array.prototype.slice.call(t,0,r)),o[r]=t[r]);return n.concat(o||Array.prototype.slice.call(t))},KU=function(n){var t=typeof Symbol=="function"&&Symbol.iterator,e=t&&n[t],r=0;if(e)return e.call(n);if(n&&typeof n.length=="number")return{next:function(){return n&&r>=n.length&&(n=void 0),{value:n&&n[r++],done:!n}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")},n2e=function(n){r2e(t,n);function t(e){var r=n.call(this,e)||this;return r.mixedStyles={},r.mixedStyleCounter=0,r.rows=[],r.config=Object.assign({},e),r.stylesByIds={},r.config.baseExcelStyles.forEach(function(i){r.stylesByIds[i.id]=i}),r.excelStyles=rM(rM([],zU(r.config.baseExcelStyles),!1),[{id:"_quotePrefix",quotePrefix:1}],!1),r}return t.prototype.addCustomContent=function(e){var r=this;e.forEach(function(i){var o=r.rows.length+1,a;!r.config.suppressRowOutline&&i.outlineLevel!=null&&(a=i.outlineLevel);var s={height:hE(o,i.height||r.config.rowHeight),cells:(i.cells||[]).map(function(l,u){var c,d,p,h=r.addImage(o,r.columnsToExport[u],(c=l.data)===null||c===void 0?void 0:c.value),f=null;l.styleId&&(f=typeof l.styleId=="string"?[l.styleId]:l.styleId);var v=r.getStyleId(f);if(h)return r.createCell(v,r.getDataTypeForValue(h.value),h.value==null?"":h.value);var g=(p=(d=l.data)===null||d===void 0?void 0:d.value)!==null&&p!==void 0?p:"",y=r.getDataTypeForValue(g);return l.mergeAcross?r.createMergedCell(v,y,g,l.mergeAcross):r.createCell(v,y,g)}),outlineLevel:a};i.collapsed!=null&&(s.collapsed=i.collapsed),i.hidden!=null&&(s.hidden=i.hidden),r.rows.push(s)})},t.prototype.onNewHeaderGroupingRow=function(){var e=this,r=[];return this.rows.push({cells:r,height:hE(this.rows.length+1,this.config.headerRowHeight)}),{onColumn:function(i,o,a,s,l){var u=e.config.styleLinker({rowType:Pd.HEADER_GROUPING,rowIndex:1,value:"grouping-".concat(o),columnGroup:i});r.push(xO(xO({},e.createMergedCell(e.getStyleId(u),e.getDataTypeForValue("string"),o,s)),{collapsibleRanges:l}))}}},t.prototype.onNewHeaderRow=function(){return this.onNewRow(this.onNewHeaderColumn,this.config.headerRowHeight)},t.prototype.onNewBodyRow=function(e){var r=this.onNewRow(this.onNewBodyColumn,this.config.rowHeight);return e&&this.addRowOutlineIfNecessary(e),r},t.prototype.prepare=function(e){var r=this;n.prototype.prepare.call(this,e),this.columnsToExport=rM([],zU(e),!1),this.cols=e.map(function(i,o){return r.convertColumnToExcel(i,o)})},t.prototype.parse=function(){for(var e=this.rows.reduce(function(i,o){return Math.max(i,o.cells.length)},0);this.cols.length<e;)this.cols.push(this.convertColumnToExcel(null,this.cols.length+1));var r={name:this.config.sheetName,table:{columns:this.cols,rows:this.rows}};return this.createExcel(r)},t.prototype.addRowOutlineIfNecessary=function(e){var r=this.config,i=r.gridOptionsService,o=r.suppressRowOutline,a=r.rowGroupExpandState,s=a===void 0?"expanded":a,l=i.get("groupHideOpenParents");if(!(l||o||e.level==null)){var u=e.footer?1:0,c=D.last(this.rows);if(c.outlineLevel=e.level+u,s!=="expanded"){var d=s==="collapsed";if(e.isExpandable()){var p=!d&&e.expanded;c.collapsed=!p}c.hidden=!!e.parent&&e.parent.level!==-1&&(d||this.isAnyParentCollapsed(e.parent))}}},t.prototype.isAnyParentCollapsed=function(e){for(;e&&e.level!==-1;){if(!e.expanded)return!0;e=e.parent}return!1},t.prototype.convertColumnToExcel=function(e,r){var i=this.config.columnWidth;if(i)return typeof i=="number"?{width:i}:{width:i({column:e,index:r})};if(e){var o=75;return{width:Math.max(e.getActualWidth(),o)}}return{}},t.prototype.onNewHeaderColumn=function(e,r){var i=this;return function(o,a){var s=i.extractHeaderValue(o),l=i.config.styleLinker({rowType:Pd.HEADER,rowIndex:e,value:s,column:o});r.push(i.createCell(i.getStyleId(l),i.getDataTypeForValue("string"),s))}},t.prototype.onNewBodyColumn=function(e,r){var i=this,o=0;return function(a,s,l){if(o>0){o-=1;return}var u=i.extractRowCellValue(a,s,e,"excel",l),c=u.value,d=u.valueFormatted,p=i.config.styleLinker({rowType:Pd.BODY,rowIndex:e,value:c,column:a,node:l}),h=i.getStyleId(p),f=a.getColSpan(l),v=i.addImage(e,a,c);v?r.push(i.createCell(h,i.getDataTypeForValue(v.value),v.value==null?"":v.value)):f>1?(o=f-1,r.push(i.createMergedCell(h,i.getDataTypeForValue(c),c,f-1))):r.push(i.createCell(h,i.getDataTypeForValue(c),c,d))}},t.prototype.onNewRow=function(e,r){var i=[];return this.rows.push({cells:i,height:hE(this.rows.length+1,r)}),{onColumn:e.bind(this,this.rows.length,i)()}},t.prototype.createExcel=function(e){var r=this,i=r.excelStyles,o=r.config;return or.createExcel(i,e,o)},t.prototype.getDataTypeForValue=function(e){return e===void 0?"empty":this.isNumerical(e)?"n":"s"},t.prototype.getTypeFromStyle=function(e,r){if(this.isFormula(r))return"f";if(e&&e.dataType)switch(e.dataType.toLocaleLowerCase()){case"formula":return"f";case"string":return"s";case"number":return"n";case"datetime":return"d";case"error":return"e";case"boolean":return"b";default:console.warn("AG Grid: Unrecognized data type for excel export [".concat(e.id,".dataType=").concat(e.dataType,"]"))}return null},t.prototype.addImage=function(e,r,i){if(this.config.addImageToCell){var o=this.config.addImageToCell(e,r,i);if(o)return or.buildImageMap(o.image,e,r,this.columnsToExport,this.config.rowHeight),o}},t.prototype.createCell=function(e,r,i,o){var a=this.getStyleById(e);!(a!=null&&a.dataType)&&r==="s"&&o&&(i=o);var s=this.getTypeFromStyle(a,i)||r,l=this.getCellValue(s,i),u=l.value,c=l.escaped,d=[];return a&&d.push(e),c&&d.push("_quotePrefix"),e=this.getStyleId(d)||void 0,{styleId:e,data:{type:s,value:u}}},t.prototype.createMergedCell=function(e,r,i,o){var a=i??"";return{styleId:this.getStyleById(e)?e:void 0,data:{type:r,value:r==="s"?or.getStringPosition(a).toString():i},mergeAcross:o}},t.prototype.getCellValue=function(e,r){var i=!1;return r==null&&(e="s",r=""),e==="s"?(r&&r[0]==="'"&&(i=!0,r=r.slice(1)),r=or.getStringPosition(r).toString()):e==="f"?r=r.slice(1):e==="n"&&(r=Number(r).toString()),{value:r,escaped:i}},t.prototype.getStyleId=function(e){if(!e||!e.length)return null;if(e.length===1)return e[0];var r=e.join("-");return this.mixedStyles[r]||this.addNewMixedStyle(e),this.mixedStyles[r].excelID},t.prototype.deepCloneObject=function(e){return JSON.parse(JSON.stringify(e))},t.prototype.addNewMixedStyle=function(e){var r,i,o,a;this.mixedStyleCounter+=1;var s="mixedStyle".concat(this.mixedStyleCounter),l={};try{for(var u=KU(e),c=u.next();!c.done;c=u.next()){var d=c.value;try{for(var p=(o=void 0,KU(this.excelStyles)),h=p.next();!h.done;h=p.next()){var f=h.value;f.id===d&&D.mergeDeep(l,this.deepCloneObject(f))}}catch(g){o={error:g}}finally{try{h&&!h.done&&(a=p.return)&&a.call(p)}finally{if(o)throw o.error}}}}catch(g){r={error:g}}finally{try{c&&!c.done&&(i=u.return)&&i.call(u)}finally{if(r)throw r.error}}l.id=s,l.name=s;var v=e.join("-");this.mixedStyles[v]={excelID:s,key:v,result:l},this.excelStyles.push(l),this.stylesByIds[s]=l},t.prototype.isFormula=function(e){return e==null?!1:this.config.autoConvertFormulas&&e.toString().startsWith("=")},t.prototype.isNumerical=function(e){return typeof e=="bigint"?!0:isFinite(e)&&e!==""&&!isNaN(parseFloat(e))},t.prototype.getStyleById=function(e){return e==null?null:this.stylesByIds[e]||null},t}(BG),i2e=function(){var n=function(t,e){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])},n(t,e)};return function(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");n(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}}(),EO=function(){return EO=Object.assign||function(n){for(var t,e=1,r=arguments.length;e<r;e++){t=arguments[e];for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(n[i]=t[i])}return n},EO.apply(this,arguments)},vu=function(n,t,e,r){var i=arguments.length,o=i<3?t:r===null?r=Object.getOwnPropertyDescriptor(t,e):r,a;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(n,t,e,r);else for(var s=n.length-1;s>=0;s--)(a=n[s])&&(o=(i<3?a(o):i>3?a(t,e,o):a(t,e))||o);return i>3&&o&&Object.defineProperty(t,e,o),o},o2e=function(){if(Tn.addFolders(["_rels/","docProps/","xl/","xl/theme/","xl/_rels/","xl/worksheets/"]),!!or.images.size){Tn.addFolders(["xl/worksheets/_rels","xl/drawings/","xl/drawings/_rels","xl/media/"]);var n=0;or.images.forEach(function(t){var e=t[0].image[0],r=e.imageType;Tn.addFile("xl/media/image".concat(++n,".").concat(r),e.base64,!0)})}},a2e=function(n){var t=0;n.forEach(function(e,r){Tn.addFile("xl/worksheets/sheet".concat(r+1,".xml"),e,!1),or.images.size&&or.worksheetImages.get(r)&&u2e(r,t++)})},s2e=function(n,t,e){Tn.addFile("xl/workbook.xml",or.createWorkbook()),Tn.addFile("xl/styles.xml",or.createStylesheet(n)),Tn.addFile("xl/sharedStrings.xml",or.createSharedStrings()),Tn.addFile("xl/theme/theme1.xml",or.createTheme()),Tn.addFile("xl/_rels/workbook.xml.rels",or.createWorkbookRels(e)),Tn.addFile("docProps/core.xml",or.createCore(t)),Tn.addFile("[Content_Types].xml",or.createContentTypes(e)),Tn.addFile("_rels/.rels",or.createRels())},ZZ=function(n,t,e){return t===void 0&&(t=11),e===void 0&&(e="AG Grid"),n&&n.length>0?(o2e(),a2e(n),s2e(t,e,n.length)):console.warn("AG Grid: Invalid params supplied to getMultipleSheetsAsExcel() - `ExcelExportParams.data` is empty."),or.resetFactory(),!(!n||n.length===0)},QZ=function(n){var t=n.data,e=n.fontSize,r=n.author,i=n.mimeType||"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet";return ZZ(t,e,r)?Tn.getZipFile(i):Promise.resolve(void 0)},YU=function(n){var t=n.data,e=n.fontSize,r=n.author,i=n.mimeType||"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet";if(ZZ(t,e,r))return Tn.getUncompressedZipFile(i)},l2e=function(n){var t=n.fileName,e=t===void 0?"export.xlsx":t;QZ(n).then(function(r){if(r){var i=typeof e=="function"?e():e;LT.download(i,r)}})},u2e=function(n,t){var e="xl/drawings",r="".concat(e,"/drawing").concat(t+1,".xml"),i="".concat(e,"/_rels/drawing").concat(t+1,".xml.rels"),o="xl/worksheets/_rels/sheet".concat(n+1,".xml.rels");Tn.addFile(i,or.createDrawingRel(n)),Tn.addFile(r,or.createDrawing(n)),Tn.addFile(o,or.createWorksheetDrawingRel(t))},c2e=function(n){i2e(t,n);function t(){return n!==null&&n.apply(this,arguments)||this}return t.prototype.postConstruct=function(){this.setBeans({gridSerializer:this.gridSerializer,gridOptionsService:this.gridOptionsService})},t.prototype.getMergedParams=function(e){var r=this.gridOptionsService.get("defaultExcelExportParams");return Object.assign({},r,e)},t.prototype.export=function(e){var r=this;if(this.isExportSuppressed()){console.warn("AG Grid: Export cancelled. Export is not allowed as per your configuration.");return}var i=this.getMergedParams(e),o=this.getData(i),a={data:[o],fontSize:i.fontSize,author:i.author,mimeType:i.mimeType};this.packageCompressedFile(a).then(function(s){if(s){var l=i.fileName,u=typeof l=="function"?l(r.gridOptionsService.getGridCommonParams()):l;LT.download(r.getFileName(u),s)}})},t.prototype.exportDataAsExcel=function(e){this.export(e)},t.prototype.getDataAsExcel=function(e){var r=this.getMergedParams(e),i=this.getData(r),o={data:[i],fontSize:r.fontSize,author:r.author,mimeType:r.mimeType};return this.packageFile(o)},t.prototype.setFactoryMode=function(e){or.factoryMode=e},t.prototype.getFactoryMode=function(){return or.factoryMode},t.prototype.getSheetDataForExcel=function(e){var r=this.getMergedParams(e),i=this.getData(r);return i},t.prototype.getMultipleSheetsAsExcel=function(e){return YU(e)},t.prototype.exportMultipleSheetsAsExcel=function(e){l2e(e)},t.prototype.getDefaultFileExtension=function(){return"xlsx"},t.prototype.createSerializingSession=function(e){var r=this,i=r.columnModel,o=r.valueService,a=r.gridOptionsService,s=r.valueFormatterService,l=r.valueParserService,u;if(e.sheetName!=null){var c=e.sheetName,d=typeof c=="function"?c(this.gridOptionsService.getGridCommonParams()):c;u=String(d).substring(0,31)}else u="ag-grid";var p=EO(EO({},e),{sheetName:u,columnModel:i,valueService:o,gridOptionsService:a,valueFormatterService:s,valueParserService:l,suppressRowOutline:e.suppressRowOutline||e.skipRowGroups,headerRowHeight:e.headerRowHeight||e.rowHeight,baseExcelStyles:this.gridOptionsService.get("excelStyles")||[],styleLinker:this.styleLinker.bind(this)});return new n2e(p)},t.prototype.styleLinker=function(e){var r=e.rowType,i=e.rowIndex,o=e.value,a=e.column,s=e.columnGroup,l=e.node,u=r===Pd.HEADER,c=r===Pd.HEADER_GROUPING,d=u?a:s,p=[];if(u||c)return p.push("header"),c&&p.push("headerGroup"),d&&(p=p.concat(Jd.getHeaderClassesFromColDef(d.getDefinition(),this.gridOptionsService,a||null,s||null))),p;var h=this.gridOptionsService.get("excelStyles"),f=["cell"];if(!h||!h.length)return f;var v=h.map(function(g){return g.id});return this.stylingService.processAllCellClasses(a.getDefinition(),this.gridOptionsService.addGridCommonParams({value:o,data:l.data,node:l,colDef:a.getDefinition(),column:a,rowIndex:i}),function(g){v.indexOf(g)>-1&&f.push(g)}),f.sort(function(g,y){return v.indexOf(g)<v.indexOf(y)?-1:1})},t.prototype.isExportSuppressed=function(){return this.gridOptionsService.get("suppressExcelExport")},t.prototype.packageCompressedFile=function(e){return QZ(e)},t.prototype.packageFile=function(e){return YU(e)},vu([E("columnModel")],t.prototype,"columnModel",void 0),vu([E("valueService")],t.prototype,"valueService",void 0),vu([E("stylingService")],t.prototype,"stylingService",void 0),vu([E("gridSerializer")],t.prototype,"gridSerializer",void 0),vu([E("gridOptionsService")],t.prototype,"gridOptionsService",void 0),vu([E("valueFormatterService")],t.prototype,"valueFormatterService",void 0),vu([E("valueParserService")],t.prototype,"valueParserService",void 0),vu([z],t.prototype,"postConstruct",null),t=vu([ae("excelCreator")],t),t}(VG),d2e="31.1.1",p2e={version:d2e,moduleName:fe.ExcelExportModule,beans:[c2e,jG,HG],dependantModules:[IT,In]},h2e=function(){var n=function(t,e){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])},n(t,e)};return function(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");n(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}}(),pm=function(n,t,e,r){var i=arguments.length,o=i<3?t:r===null?r=Object.getOwnPropertyDescriptor(t,e):r,a;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(n,t,e,r);else for(var s=n.length-1;s>=0;s--)(a=n[s])&&(o=(i<3?a(o):i>3?a(t,e,o):a(t,e))||o);return i>3&&o&&Object.defineProperty(t,e,o),o},Tl;(function(n){n[n.EXPANDED=0]="EXPANDED",n[n.COLLAPSED=1]="COLLAPSED",n[n.INDETERMINATE=2]="INDETERMINATE"})(Tl||(Tl={}));var f2e=function(n){h2e(t,n);function t(){return n!==null&&n.apply(this,arguments)||this}return t.prototype.preConstruct=function(){this.setTemplate(`<div class="ag-filter-toolpanel-search" role="presentation">
                <div ref="eExpand" class="ag-filter-toolpanel-expand"></div>
                <ag-input-text-field ref="eFilterTextField" class="ag-filter-toolpanel-search-input"></ag-input-text-field>
            </div>`)},t.prototype.postConstruct=function(){var e=this.localeService.getLocaleTextFunc();this.eFilterTextField.setAutoComplete(!1).setInputAriaLabel(e("ariaFilterColumnsInput","Filter Columns Input")).onValueChange(this.onSearchTextChanged.bind(this)),this.createExpandIcons(),this.setExpandState(Tl.EXPANDED),this.addManagedListener(this.eExpand,"click",this.onExpandClicked.bind(this)),this.addManagedListener(this.eventService,P.EVENT_NEW_COLUMNS_LOADED,this.showOrHideOptions.bind(this))},t.prototype.init=function(e){this.params=e,this.columnModel.isReady()&&this.showOrHideOptions()},t.prototype.createExpandIcons=function(){this.eExpand.appendChild(this.eExpandChecked=D.createIconNoSpan("columnSelectOpen",this.gridOptionsService)),this.eExpand.appendChild(this.eExpandUnchecked=D.createIconNoSpan("columnSelectClosed",this.gridOptionsService)),this.eExpand.appendChild(this.eExpandIndeterminate=D.createIconNoSpan("columnSelectIndeterminate",this.gridOptionsService))},t.prototype.showOrHideOptions=function(){var e=!this.params.suppressFilterSearch,r=!this.params.suppressExpandAll,i=this.localeService.getLocaleTextFunc();this.eFilterTextField.setInputPlaceholder(i("searchOoo","Search..."));var o=function(s){return s.getOriginalParent()&&s.isFilterAllowed()},a=this.columnModel.getAllGridColumns().some(o);D.setDisplayed(this.eFilterTextField.getGui(),e),D.setDisplayed(this.eExpand,r&&a)},t.prototype.onSearchTextChanged=function(){var e=this;this.onSearchTextChangedDebounced||(this.onSearchTextChangedDebounced=D.debounce(function(){e.dispatchEvent({type:"searchChanged",searchText:e.eFilterTextField.getValue()})},300)),this.onSearchTextChangedDebounced()},t.prototype.onExpandClicked=function(){var e=this.currentExpandState===Tl.EXPANDED?{type:"collapseAll"}:{type:"expandAll"};this.dispatchEvent(e)},t.prototype.setExpandState=function(e){this.currentExpandState=e,D.setDisplayed(this.eExpandChecked,this.currentExpandState===Tl.EXPANDED),D.setDisplayed(this.eExpandUnchecked,this.currentExpandState===Tl.COLLAPSED),D.setDisplayed(this.eExpandIndeterminate,this.currentExpandState===Tl.INDETERMINATE)},pm([E("columnModel")],t.prototype,"columnModel",void 0),pm([$("eExpand")],t.prototype,"eExpand",void 0),pm([$("eFilterTextField")],t.prototype,"eFilterTextField",void 0),pm([Hh],t.prototype,"preConstruct",null),pm([z],t.prototype,"postConstruct",null),t}(de),v2e=function(){var n=function(t,e){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])},n(t,e)};return function(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");n(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}}(),Bc=function(n,t,e,r){var i=arguments.length,o=i<3?t:r===null?r=Object.getOwnPropertyDescriptor(t,e):r,a;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(n,t,e,r);else for(var s=n.length-1;s>=0;s--)(a=n[s])&&(o=(i<3?a(o):i>3?a(t,e,o):a(t,e))||o);return i>3&&o&&Object.defineProperty(t,e,o),o},JZ=function(n){v2e(t,n);function t(e,r){var i=n.call(this,t.TEMPLATE)||this;return i.expandedCallback=r,i.expanded=!1,i.hideHeader=e,i}return t.prototype.postConstruct=function(){this.eExpandChecked=D.createIconNoSpan("columnSelectOpen",this.gridOptionsService),this.eExpandUnchecked=D.createIconNoSpan("columnSelectClosed",this.gridOptionsService),this.eExpand.appendChild(this.eExpandChecked),this.eExpand.appendChild(this.eExpandUnchecked)},t.prototype.setColumn=function(e){var r=this;this.column=e,this.eFilterName.innerText=this.columnModel.getDisplayNameForColumn(this.column,"filterToolPanel",!1)||"",this.addManagedListener(this.eFilterToolPanelHeader,"click",this.toggleExpanded.bind(this)),this.addManagedListener(this.eFilterToolPanelHeader,"keydown",function(i){(i.key===U.ENTER||i.key===U.SPACE)&&(i.preventDefault(),r.toggleExpanded())}),this.addManagedListener(this.eventService,P.EVENT_FILTER_OPENED,this.onFilterOpened.bind(this)),this.addInIcon("filter",this.eFilterIcon,this.column),D.setDisplayed(this.eFilterIcon,this.isFilterActive(),{skipAriaHidden:!0}),D.setDisplayed(this.eExpandChecked,!1),this.hideHeader?(D.setDisplayed(this.eFilterToolPanelHeader,!1),this.eFilterToolPanelHeader.removeAttribute("tabindex")):this.eFilterToolPanelHeader.setAttribute("tabindex","0"),this.addManagedListener(this.column,Je.EVENT_FILTER_CHANGED,this.onFilterChanged.bind(this)),this.addManagedListener(this.eventService,P.EVENT_FILTER_DESTROYED,this.onFilterDestroyed.bind(this))},t.prototype.getColumn=function(){return this.column},t.prototype.getColumnFilterName=function(){return this.columnModel.getDisplayNameForColumn(this.column,"filterToolPanel",!1)},t.prototype.addCssClassToTitleBar=function(e){this.eFilterToolPanelHeader.classList.add(e)},t.prototype.addInIcon=function(e,r,i){if(r!=null){var o=D.createIconNoSpan(e,this.gridOptionsService,i);r.appendChild(o)}},t.prototype.isFilterActive=function(){return this.filterManager.isFilterActive(this.column)},t.prototype.onFilterChanged=function(){D.setDisplayed(this.eFilterIcon,this.isFilterActive(),{skipAriaHidden:!0}),this.dispatchEvent({type:Je.EVENT_FILTER_CHANGED})},t.prototype.onFilterDestroyed=function(e){this.expanded&&(e.source==="api"||e.source==="paramsUpdated")&&e.column.getId()===this.column.getId()&&this.columnModel.getPrimaryColumn(this.column)&&(this.removeFilterElement(),this.addFilterElement(!0))},t.prototype.toggleExpanded=function(){this.expanded?this.collapse():this.expand()},t.prototype.expand=function(){this.expanded||(this.expanded=!0,D.setAriaExpanded(this.eFilterToolPanelHeader,!0),D.setDisplayed(this.eExpandChecked,!0),D.setDisplayed(this.eExpandUnchecked,!1),this.addFilterElement(),this.expandedCallback())},t.prototype.addFilterElement=function(e){var r=this,i=D.loadTemplate('<div class="ag-filter-toolpanel-instance-filter"></div>'),o=this.filterManager.getOrCreateFilterWrapper(this.column,"TOOLBAR");if(o){var a=o.filterPromise,s=o.guiPromise;a==null||a.then(function(l){r.underlyingFilter=l,l&&s.then(function(u){u&&i.appendChild(u),r.agFilterToolPanelBody.appendChild(i),l.afterGuiAttached&&l.afterGuiAttached({container:"toolPanel",suppressFocus:e})})})}},t.prototype.collapse=function(){var e,r;this.expanded&&(this.expanded=!1,D.setAriaExpanded(this.eFilterToolPanelHeader,!1),this.removeFilterElement(),D.setDisplayed(this.eExpandChecked,!1),D.setDisplayed(this.eExpandUnchecked,!0),(r=(e=this.underlyingFilter)===null||e===void 0?void 0:e.afterGuiDetached)===null||r===void 0||r.call(e),this.expandedCallback())},t.prototype.removeFilterElement=function(){D.clearElement(this.agFilterToolPanelBody)},t.prototype.isExpanded=function(){return this.expanded},t.prototype.refreshFilter=function(e){var r;if(this.expanded){var i=this.underlyingFilter;i&&(e?typeof i.refreshVirtualList=="function"&&i.refreshVirtualList():(r=i.afterGuiDetached)===null||r===void 0||r.call(i))}},t.prototype.onFilterOpened=function(e){e.source==="COLUMN_MENU"&&e.column===this.column&&this.expanded&&this.collapse()},t.TEMPLATE=`
        <div class="ag-filter-toolpanel-instance">
            <div class="ag-filter-toolpanel-header ag-filter-toolpanel-instance-header" ref="eFilterToolPanelHeader" role="button" aria-expanded="false">
                <div ref="eExpand" class="ag-filter-toolpanel-expand"></div>
                <span ref="eFilterName" class="ag-header-cell-text"></span>
                <span ref="eFilterIcon" class="ag-header-icon ag-filter-icon ag-filter-toolpanel-instance-header-icon" aria-hidden="true"></span>
            </div>
            <div class="ag-filter-toolpanel-instance-body ag-filter" ref="agFilterToolPanelBody"></div>
        </div>`,Bc([$("eFilterToolPanelHeader")],t.prototype,"eFilterToolPanelHeader",void 0),Bc([$("eFilterName")],t.prototype,"eFilterName",void 0),Bc([$("agFilterToolPanelBody")],t.prototype,"agFilterToolPanelBody",void 0),Bc([$("eFilterIcon")],t.prototype,"eFilterIcon",void 0),Bc([$("eExpand")],t.prototype,"eExpand",void 0),Bc([E("filterManager")],t.prototype,"filterManager",void 0),Bc([E("columnModel")],t.prototype,"columnModel",void 0),Bc([z],t.prototype,"postConstruct",null),t}(de),g2e=function(){var n=function(t,e){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])},n(t,e)};return function(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");n(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}}(),sx=function(n,t,e,r){var i=arguments.length,o=i<3?t:r===null?r=Object.getOwnPropertyDescriptor(t,e):r,a;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(n,t,e,r);else for(var s=n.length-1;s>=0;s--)(a=n[s])&&(o=(i<3?a(o):i>3?a(t,e,o):a(t,e))||o);return i>3&&o&&Object.defineProperty(t,e,o),o},Hc=function(n){g2e(t,n);function t(e,r,i,o,a){var s=n.call(this)||this;return s.columnGroup=e,s.childFilterComps=r,s.depth=o,s.expandedCallback=i,s.showingColumn=a,s}return t.prototype.preConstruct=function(){var e={cssIdentifier:"filter-toolpanel",direction:"vertical"};this.setTemplate(t.TEMPLATE,{filterGroupComp:e})},t.prototype.init=function(){var e=this;this.setGroupTitle(),this.filterGroupComp.setAlignItems("stretch"),this.filterGroupComp.addCssClass("ag-filter-toolpanel-group-level-".concat(this.depth)),this.filterGroupComp.addCssClassToTitleBar("ag-filter-toolpanel-group-level-".concat(this.depth,"-header")),this.childFilterComps.forEach(function(r){e.filterGroupComp.addItem(r),r.addCssClassToTitleBar("ag-filter-toolpanel-group-level-".concat(e.depth+1,"-header"))}),this.refreshFilterClass(),this.addExpandCollapseListeners(),this.addFilterChangedListeners(),this.setupTooltip()},t.prototype.setupTooltip=function(){var e=this;if(this.showingColumn){var r=function(){var i=e.columnGroup.getColDef().headerTooltip;e.setTooltip(i)};r(),this.addManagedListener(this.eventService,P.EVENT_NEW_COLUMNS_LOADED,r)}},t.prototype.getTooltipParams=function(){var e=n.prototype.getTooltipParams.call(this);return e.location="filterToolPanelColumnGroup",e},t.prototype.addCssClassToTitleBar=function(e){this.filterGroupComp.addCssClassToTitleBar(e)},t.prototype.refreshFilters=function(e){this.childFilterComps.forEach(function(r){r instanceof t?r.refreshFilters(e):r.refreshFilter(e)})},t.prototype.isColumnGroup=function(){return this.columnGroup instanceof Pt},t.prototype.isExpanded=function(){return this.filterGroupComp.isExpanded()},t.prototype.getChildren=function(){return this.childFilterComps},t.prototype.getFilterGroupName=function(){return this.filterGroupName?this.filterGroupName:""},t.prototype.getFilterGroupId=function(){return this.columnGroup.getId()},t.prototype.hideGroupItem=function(e,r){this.filterGroupComp.hideItem(e,r)},t.prototype.hideGroup=function(e){this.setDisplayed(!e)},t.prototype.forEachToolPanelFilterChild=function(e){this.childFilterComps.forEach(function(r){r instanceof JZ&&e(r)})},t.prototype.addExpandCollapseListeners=function(){var e=this,r=this.isColumnGroup()?function(){return e.expandedCallback()}:function(){return e.forEachToolPanelFilterChild(function(o){return o.expand()})},i=this.isColumnGroup()?function(){return e.expandedCallback()}:function(){return e.forEachToolPanelFilterChild(function(o){return o.collapse()})};this.addManagedListener(this.filterGroupComp,Na.EVENT_EXPANDED,r),this.addManagedListener(this.filterGroupComp,Na.EVENT_COLLAPSED,i)},t.prototype.getColumns=function(){return this.columnGroup instanceof Pt?this.columnGroup.getLeafColumns():[this.columnGroup]},t.prototype.addFilterChangedListeners=function(){var e=this;this.getColumns().forEach(function(r){e.addManagedListener(r,Je.EVENT_FILTER_CHANGED,function(){return e.refreshFilterClass()})}),this.columnGroup instanceof Pt||this.addManagedListener(this.eventService,P.EVENT_FILTER_OPENED,this.onFilterOpened.bind(this))},t.prototype.refreshFilterClass=function(){var e=this.getColumns(),r=function(){return e.some(function(i){return i.isFilterActive()})};this.filterGroupComp.addOrRemoveCssClass("ag-has-filter",r())},t.prototype.onFilterOpened=function(e){e.source==="COLUMN_MENU"&&e.column===this.columnGroup&&this.isExpanded()&&this.collapse()},t.prototype.expand=function(){this.filterGroupComp.toggleGroupExpand(!0)},t.prototype.collapse=function(){this.filterGroupComp.toggleGroupExpand(!1)},t.prototype.setGroupTitle=function(){this.filterGroupName=this.columnGroup instanceof Pt?this.getColumnGroupName(this.columnGroup):this.getColumnName(this.columnGroup),this.filterGroupComp.setTitle(this.filterGroupName||"")},t.prototype.getColumnGroupName=function(e){return this.columnModel.getDisplayNameForProvidedColumnGroup(null,e,"filterToolPanel")},t.prototype.getColumnName=function(e){return this.columnModel.getDisplayNameForColumn(e,"filterToolPanel",!1)},t.prototype.destroyFilters=function(){this.childFilterComps=this.destroyBeans(this.childFilterComps),D.clearElement(this.getGui())},t.prototype.destroy=function(){this.destroyFilters(),n.prototype.destroy.call(this)},t.TEMPLATE=`<div class="ag-filter-toolpanel-group-wrapper">
            <ag-group-component ref="filterGroupComp"></ag-group-component>
        </div>`,sx([$("filterGroupComp")],t.prototype,"filterGroupComp",void 0),sx([E("columnModel")],t.prototype,"columnModel",void 0),sx([Hh],t.prototype,"preConstruct",null),sx([z],t.prototype,"init",null),t}(de),y2e=function(){var n=function(t,e){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])},n(t,e)};return function(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");n(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}}(),XU=function(n,t,e,r){var i=arguments.length,o=i<3?t:r===null?r=Object.getOwnPropertyDescriptor(t,e):r,a;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(n,t,e,r);else for(var s=n.length-1;s>=0;s--)(a=n[s])&&(o=(i<3?a(o):i>3?a(t,e,o):a(t,e))||o);return i>3&&o&&Object.defineProperty(t,e,o),o},m2e=function(n){y2e(t,n);function t(){var e=n.call(this,t.TEMPLATE)||this;return e.initialised=!1,e.hasLoadedInitialState=!1,e.isInitialState=!1,e.filterGroupComps=[],e.suppressOnColumnsChanged=!1,e.onColumnsChangedPending=!1,e}return t.prototype.init=function(e){var r=this;this.initialised=!0;var i=this.gridOptionsService.addGridCommonParams({suppressExpandAll:!1,suppressFilterSearch:!1,suppressSyncLayoutWithGrid:!1});D.mergeDeep(i,e),this.params=i,this.params.suppressSyncLayoutWithGrid||this.addManagedListener(this.eventService,P.EVENT_COLUMN_MOVED,function(){return r.onColumnsChanged()}),this.addManagedListener(this.eventService,P.EVENT_NEW_COLUMNS_LOADED,function(){return r.onColumnsChanged()}),this.addManagedListener(this.eventService,P.EVENT_TOOL_PANEL_VISIBLE_CHANGED,function(a){a.key==="filters"&&r.refreshFilters(a.visible)}),this.addManagedListener(this.eventService,P.EVENT_DRAG_STARTED,function(){r.suppressOnColumnsChanged=!0}),this.addManagedListener(this.eventService,P.EVENT_DRAG_STOPPED,function(){r.suppressOnColumnsChanged=!1,r.onColumnsChangedPending&&(r.onColumnsChangedPending=!1,r.onColumnsChanged())}),this.columnModel.isReady()&&this.onColumnsChanged();var o=this.getAriaElement();D.setAriaLive(o,"assertive"),D.setAriaAtomic(o,!1),D.setAriaRelevant(o,"text")},t.prototype.onColumnsChanged=function(){if(this.suppressOnColumnsChanged){this.onColumnsChangedPending=!0;return}var e=this.columnModel.isPivotMode(),r=!this.params.suppressSyncLayoutWithGrid&&!e;r?this.syncFilterLayout():this.buildTreeFromProvidedColumnDefs(),this.refreshAriaLabel()},t.prototype.syncFilterLayout=function(){this.toolPanelColDefService.syncLayoutWithGrid(this.setFiltersLayout.bind(this)),this.refreshAriaLabel()},t.prototype.buildTreeFromProvidedColumnDefs=function(){var e=this.columnModel.getPrimaryColumnTree();this.recreateFilters(e)},t.prototype.setFiltersLayout=function(e){var r=this.toolPanelColDefService.createColumnTree(e);this.recreateFilters(r)},t.prototype.recreateFilters=function(e){var r=this,i=this.gridOptionsService.getDocument().activeElement;this.hasLoadedInitialState||(this.hasLoadedInitialState=!0,this.isInitialState=!!this.params.initialState);var o=this.getExpansionState();this.destroyFilters(),this.filterGroupComps=this.recursivelyAddComps(e,0,o);var a=this.filterGroupComps.length;a&&(this.filterGroupComps.forEach(function(s){return r.appendChild(s)}),this.setFirstAndLastVisible(0,a-1)),D.exists(this.searchFilterText)&&this.searchFilters(this.searchFilterText),this.fireExpandedEvent(),this.getGui().contains(i)&&i.focus(),this.isInitialState=!1,this.refreshAriaLabel()},t.prototype.recursivelyAddComps=function(e,r,i){var o=this;return D.flatten(e.map(function(a){if(a instanceof Pt)return D.flatten(o.recursivelyAddFilterGroupComps(a,r,i));var s=a;if(!o.shouldDisplayFilter(s))return[];var l=r===0,u=new JZ(l,function(){return o.onFilterExpanded()});if(o.createBean(u),u.setColumn(s),i.get(s.getId())&&u.expand(),r>0)return u;var c=o.createBean(new Hc(s,[u],o.onGroupExpanded.bind(o),r,!0));return c.addCssClassToTitleBar("ag-filter-toolpanel-header"),i.get(c.getFilterGroupId())||c.collapse(),c}))},t.prototype.refreshAriaLabel=function(){var e=this.localeService.getLocaleTextFunc(),r=e("ariaFilterPanelList","Filter List"),i=e("filters","Filters"),o=this.getGui(),a=".ag-filter-toolpanel-group-wrapper",s=".ag-filter-toolpanel-group-item",l=".ag-hidden",u=o.querySelectorAll("".concat(s,":not(").concat(a,", ").concat(l,")")),c=u.length;D.setAriaLabel(this.getAriaElement(),"".concat(r," ").concat(c," ").concat(i))},t.prototype.recursivelyAddFilterGroupComps=function(e,r,i){if(this.filtersExistInChildren(e.getChildren())){var o=e.getColGroupDef();if(o&&o.suppressFiltersToolPanel)return[];var a=e.isPadding()?r:r+1,s=D.flatten(this.recursivelyAddComps(e.getChildren(),a,i));if(e.isPadding())return s;var l=new Hc(e,s,this.onGroupExpanded.bind(this),r,!1);this.createBean(l),l.addCssClassToTitleBar("ag-filter-toolpanel-header");var u=i.get(l.getFilterGroupId());return(this.isInitialState&&!u||u===!1)&&l.collapse(),[l]}},t.prototype.filtersExistInChildren=function(e){var r=this;return e.some(function(i){return i instanceof Pt?r.filtersExistInChildren(i.getChildren()):r.shouldDisplayFilter(i)})},t.prototype.shouldDisplayFilter=function(e){var r=e.getColDef()&&e.getColDef().suppressFiltersToolPanel;return e.isFilterAllowed()&&!r},t.prototype.getExpansionState=function(){var e=new Map;if(this.isInitialState){var r=this.params.initialState,i=r.expandedColIds,o=r.expandedGroupIds;return i.forEach(function(s){return e.set(s,!0)}),o.forEach(function(s){return e.set(s,!0)}),e}var a=function(s){e.set(s.getFilterGroupId(),s.isExpanded()),s.getChildren().forEach(function(l){l instanceof Hc?a(l):e.set(l.getColumn().getId(),l.isExpanded())})};return this.filterGroupComps.forEach(a),e},t.prototype.refresh=function(){},t.prototype.setVisible=function(e){n.prototype.setDisplayed.call(this,e),e&&!this.initialised&&this.init(this.params)},t.prototype.expandFilterGroups=function(e,r){var i=[],o=function(s){var l=s.getFilterGroupId(),u=!r||D.includes(r,l);u&&(e&&s.isColumnGroup()?s.expand():s.collapse(),i.push(l)),s.getChildren().forEach(function(c){c instanceof Hc&&o(c)})};if(this.filterGroupComps.forEach(o),this.onGroupExpanded(),r){var a=r.filter(function(s){return i.indexOf(s)<0});a.length>0&&console.warn("AG Grid: unable to find groups for these supplied groupIds:",a)}},t.prototype.expandFilters=function(e,r){var i=[],o=function(s){if(s instanceof Hc){var l=!1;return s.getChildren().forEach(function(d){var p=o(d);p&&(e?(s.expand(),l=!0):s.isColumnGroup()||s.collapse())}),l}var u=s.getColumn().getColId(),c=!r||D.includes(r,u);return c&&(e?s.expand():s.collapse(),i.push(u)),c};if(this.filterGroupComps.forEach(o),this.onGroupExpanded(),r){var a=r.filter(function(s){return i.indexOf(s)<0});a.length>0&&console.warn("AG Grid: unable to find columns for these supplied colIds:",a)}},t.prototype.onGroupExpanded=function(){this.fireExpandedEvent()},t.prototype.onFilterExpanded=function(){this.dispatchEvent({type:"filterExpanded"})},t.prototype.fireExpandedEvent=function(){var e=0,r=0,i=function(a){a.isColumnGroup()&&(a.isExpanded()?e++:r++,a.getChildren().forEach(function(s){s instanceof Hc&&i(s)}))};this.filterGroupComps.forEach(i);var o;e>0&&r>0?o=Tl.INDETERMINATE:r>0?o=Tl.COLLAPSED:o=Tl.EXPANDED,this.dispatchEvent({type:"groupExpanded",state:o})},t.prototype.performFilterSearch=function(e){this.searchFilterText=D.exists(e)?e.toLowerCase():null,this.searchFilters(this.searchFilterText)},t.prototype.searchFilters=function(e){var r=function(s){return!D.exists(e)||s.toLowerCase().indexOf(e)!==-1},i=function(s,l){if(!(s instanceof Hc))return r(s.getColumnFilterName()||"");var u=s.getChildren(),c=r(s.getFilterGroupName()),d=l||c;if(d){s.hideGroup(!1);for(var p=0;p<u.length;p++)i(u[p],d),s.hideGroupItem(!1,p);return!0}var h=!1;return u.forEach(function(f,v){var g=i(f,l);s.hideGroupItem(!g,v),g&&(h=!0)}),s.hideGroup(!h),h},o,a;this.filterGroupComps.forEach(function(s,l){i(s,!1),o===void 0?s.containsCssClass("ag-hidden")||(o=l,a=l):!s.containsCssClass("ag-hidden")&&a!==l&&(a=l)}),this.setFirstAndLastVisible(o,a),this.refreshAriaLabel()},t.prototype.setFirstAndLastVisible=function(e,r){this.filterGroupComps.forEach(function(i,o){i.removeCssClass("ag-first-group-visible"),i.removeCssClass("ag-last-group-visible"),o===e&&i.addCssClass("ag-first-group-visible"),o===r&&i.addCssClass("ag-last-group-visible")})},t.prototype.refreshFilters=function(e){this.filterGroupComps.forEach(function(r){return r.refreshFilters(e)})},t.prototype.getExpandedFiltersAndGroups=function(){var e=[],r=new Set,i=function(o){if(o instanceof Hc){o.getChildren().forEach(function(s){return i(s)});var a=o.getFilterGroupId();o.isExpanded()&&!r.has(a)&&e.push(a)}else o.isExpanded()&&r.add(o.getColumn().getColId())};return this.filterGroupComps.forEach(i),{expandedGroupIds:e,expandedColIds:Array.from(r)}},t.prototype.destroyFilters=function(){this.filterGroupComps=this.destroyBeans(this.filterGroupComps),D.clearElement(this.getGui())},t.prototype.destroy=function(){this.destroyFilters(),n.prototype.destroy.call(this)},t.TEMPLATE='<div class="ag-filter-list-panel"></div>',XU([E("toolPanelColDefService")],t.prototype,"toolPanelColDefService",void 0),XU([E("columnModel")],t.prototype,"columnModel",void 0),t}(de),C2e=function(){var n=function(t,e){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])},n(t,e)};return function(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");n(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}}(),bO=function(){return bO=Object.assign||function(n){for(var t,e=1,r=arguments.length;e<r;e++){t=arguments[e];for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(n[i]=t[i])}return n},bO.apply(this,arguments)},qU=function(n,t,e,r){var i=arguments.length,o=i<3?t:r===null?r=Object.getOwnPropertyDescriptor(t,e):r,a;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(n,t,e,r);else for(var s=n.length-1;s>=0;s--)(a=n[s])&&(o=(i<3?a(o):i>3?a(t,e,o):a(t,e))||o);return i>3&&o&&Object.defineProperty(t,e,o),o},S2e=function(n){C2e(t,n);function t(){var e=n.call(this,t.TEMPLATE)||this;return e.initialised=!1,e.listenerDestroyFuncs=[],e}return t.prototype.init=function(e){this.initialised&&(this.listenerDestroyFuncs.forEach(function(a){return a()}),this.listenerDestroyFuncs=[]),this.initialised=!0;var r=this.gridOptionsService.addGridCommonParams({suppressExpandAll:!1,suppressFilterSearch:!1,suppressSyncLayoutWithGrid:!1});this.params=bO(bO({},r),e),this.filtersToolPanelHeaderPanel.init(this.params),this.filtersToolPanelListPanel.init(this.params);var i=this.params.suppressExpandAll,o=this.params.suppressFilterSearch;i&&o&&this.filtersToolPanelHeaderPanel.setDisplayed(!1),this.listenerDestroyFuncs.push(this.addManagedListener(this.filtersToolPanelHeaderPanel,"expandAll",this.onExpandAll.bind(this)),this.addManagedListener(this.filtersToolPanelHeaderPanel,"collapseAll",this.onCollapseAll.bind(this)),this.addManagedListener(this.filtersToolPanelHeaderPanel,"searchChanged",this.onSearchChanged.bind(this)),this.addManagedListener(this.filtersToolPanelListPanel,"filterExpanded",this.onFilterExpanded.bind(this)),this.addManagedListener(this.filtersToolPanelListPanel,"groupExpanded",this.onGroupExpanded.bind(this)))},t.prototype.setVisible=function(e){n.prototype.setDisplayed.call(this,e),e&&!this.initialised&&this.init(this.params)},t.prototype.onExpandAll=function(){this.filtersToolPanelListPanel.expandFilterGroups(!0)},t.prototype.onCollapseAll=function(){this.filtersToolPanelListPanel.expandFilterGroups(!1)},t.prototype.onSearchChanged=function(e){this.filtersToolPanelListPanel.performFilterSearch(e.searchText)},t.prototype.setFilterLayout=function(e){this.filtersToolPanelListPanel.setFiltersLayout(e)},t.prototype.onFilterExpanded=function(){this.params.onStateUpdated()},t.prototype.onGroupExpanded=function(e){this.filtersToolPanelHeaderPanel.setExpandState(e.state),this.params.onStateUpdated()},t.prototype.expandFilterGroups=function(e){this.filtersToolPanelListPanel.expandFilterGroups(!0,e)},t.prototype.collapseFilterGroups=function(e){this.filtersToolPanelListPanel.expandFilterGroups(!1,e)},t.prototype.expandFilters=function(e){this.filtersToolPanelListPanel.expandFilters(!0,e)},t.prototype.collapseFilters=function(e){this.filtersToolPanelListPanel.expandFilters(!1,e)},t.prototype.syncLayoutWithGrid=function(){this.filtersToolPanelListPanel.syncFilterLayout()},t.prototype.refresh=function(e){return this.init(e),!0},t.prototype.getState=function(){return this.filtersToolPanelListPanel.getExpandedFiltersAndGroups()},t.prototype.destroy=function(){n.prototype.destroy.call(this)},t.TEMPLATE=`<div class="ag-filter-toolpanel">
            <ag-filters-tool-panel-header ref="filtersToolPanelHeaderPanel"></ag-filters-tool-panel-header>
            <ag-filters-tool-panel-list ref="filtersToolPanelListPanel"></ag-filters-tool-panel-list>
         </div>`,qU([$("filtersToolPanelHeaderPanel")],t.prototype,"filtersToolPanelHeaderPanel",void 0),qU([$("filtersToolPanelListPanel")],t.prototype,"filtersToolPanelListPanel",void 0),t}(de),w2e="31.1.1",_2e={version:w2e,moduleName:fe.FiltersToolPanelModule,beans:[],agStackComponents:[{componentName:"AgFiltersToolPanelHeader",componentClass:f2e},{componentName:"AgFiltersToolPanelList",componentClass:m2e}],userComponents:[{componentName:"agFiltersToolPanel",componentClass:S2e}],dependantModules:[DV,In]},MV=Object.defineProperty,x2e=Object.defineProperties,E2e=Object.getOwnPropertyDescriptor,b2e=Object.getOwnPropertyDescriptors,OO=Object.getOwnPropertySymbols,O2e=Object.getPrototypeOf,eQ=Object.prototype.hasOwnProperty,tQ=Object.prototype.propertyIsEnumerable,R2e=Reflect.get,nM=(n,t)=>(t=Symbol[n])?t:Symbol.for("Symbol."+n),pt=Math.pow,ZU=(n,t,e)=>t in n?MV(n,t,{enumerable:!0,configurable:!0,writable:!0,value:e}):n[t]=e,te=(n,t)=>{for(var e in t||(t={}))eQ.call(t,e)&&ZU(n,e,t[e]);if(OO)for(var e of OO(t))tQ.call(t,e)&&ZU(n,e,t[e]);return n},Te=(n,t)=>x2e(n,b2e(t)),yn=(n,t)=>{var e={};for(var r in n)eQ.call(n,r)&&t.indexOf(r)<0&&(e[r]=n[r]);if(n!=null&&OO)for(var r of OO(n))t.indexOf(r)<0&&tQ.call(n,r)&&(e[r]=n[r]);return e},hc=(n,t)=>{for(var e in t)MV(n,e,{get:t[e],enumerable:!0})},R=(n,t,e,r)=>{for(var i=r>1?void 0:r?E2e(t,e):t,o=n.length-1,a;o>=0;o--)(a=n[o])&&(i=(r?a(t,e,i):a(i))||i);return r&&i&&MV(t,e,i),i},fc=(n,t,e)=>R2e(O2e(n),e,t),pe=(n,t,e)=>new Promise((r,i)=>{var o=l=>{try{s(e.next(l))}catch(u){i(u)}},a=l=>{try{s(e.throw(l))}catch(u){i(u)}},s=l=>l.done?r(l.value):Promise.resolve(l.value).then(o,a);s((e=e.apply(n,t)).next())}),T2e=function(n,t){this[0]=n,this[1]=t},P2e=n=>{var t=n[nM("asyncIterator")],e=!1,r,i={};return t==null?(t=n[nM("iterator")](),r=o=>i[o]=a=>t[o](a)):(t=t.call(n),r=o=>i[o]=a=>{if(e){if(e=!1,o==="throw")throw a;return a}return e=!0,{done:!1,value:new T2e(new Promise(s=>{var l=t[o](a);if(!(l instanceof Object))throw TypeError("Object expected");s(l)}),1)}}),i[nM("iterator")]=()=>i,r("next"),"throw"in t?r("throw"):i.throw=o=>{throw o},"return"in t&&r("return"),i},rQ=(n=>(n.POINTER="pointer",n.NODE="node",n))(rQ||{}),A2e={};hc(A2e,{day:()=>cQ,friday:()=>Z2e,hour:()=>uQ,millisecond:()=>nQ,minute:()=>sQ,monday:()=>K2e,month:()=>pQ,saturday:()=>Q2e,second:()=>oQ,sunday:()=>dQ,thursday:()=>q2e,tuesday:()=>Y2e,utcDay:()=>fHe,utcHour:()=>dHe,utcMinute:()=>lHe,utcMonth:()=>yHe,utcYear:()=>SHe,wednesday:()=>X2e,year:()=>hQ});var sI=new Map;function lI(n,t){sI.has(t)||(sI.set(t,!0),n())}lI.clear=()=>sI.clear();function QU(n){return n}function D2e(n,t=0,e){const{leading:r=!1,trailing:i=!0,maxWait:o=1/0}=e??{};let a,s;if(o<t)throw new Error("Value of maxWait cannot be lower than waitMs.");function l(...u){if(r&&!s){s=Date.now(),a=setTimeout(()=>s=null,t),n(...u);return}let c=t;if(o!==1/0&&s){const d=Date.now()-s;t>o-d&&(c=o-d)}clearTimeout(a),s??(s=Date.now()),a=setTimeout(()=>{s=null,i&&n(...u)},c)}return Object.assign(l,{cancel(){clearTimeout(a),s=null}})}function JU(n,t=0,e){const{leading:r=!0,trailing:i=!0}=e??{};let o,a,s=!1;function l(){i&&a?(o=setTimeout(l,t),n(...a)):s=!1,a=null}function u(...c){s?a=c:(s=!0,o=setTimeout(l,t),r?n(...c):a=c)}return Object.assign(u,{cancel(){clearTimeout(o),s=!1,a=null}})}var Oe={log(...n){console.log(...n)},warn(n,...t){console.warn(`AG Charts - ${n}`,...t)},error(n,...t){typeof n=="object"?console.error("AG Charts error",n,...t):console.error(`AG Charts - ${n}`,...t)},table(...n){console.table(...n)},warnOnce(n,...t){lI(()=>Oe.warn(n,...t),`Logger.warn: ${n}`)},errorOnce(n,...t){lI(()=>Oe.error(n,...t),`Logger.error: ${n}`)}},jS=class{constructor(n,t,e){this._encode=n,this._decode=t,this._rangeCallback=e}floor(n){const t=new Date(n),e=this._encode(t);return this._decode(e)}ceil(n){const t=new Date(Number(n)-1),e=this._encode(t);return this._decode(e+1)}range(n,t,e){var r;const i=(r=this._rangeCallback)==null?void 0:r.call(this,n,t),o=this._encode(e?this.floor(n):this.ceil(n)),a=this._encode(e?this.ceil(t):this.floor(t));if(a<o)return[];const s=[];for(let l=o;l<=a;l++){const u=this._decode(l);s.push(u)}return i==null||i(),s}},da=class extends jS{getOffset(n,t){const e=typeof n=="number"||n instanceof Date?this._encode(new Date(n)):0;return Math.floor(e)%t}every(n,t){let e=0,r;const i=n;n=Math.max(1,Math.round(n)),i!==n&&Oe.warnOnce(`interval step of [${i}] rounded to [${n}].`);const{snapTo:o="start"}=t??{};if(typeof o=="string"){const l=e;r=(u,c)=>{const d=o==="start"?u:c;return e=this.getOffset(d,n),()=>e=l}}else typeof o=="number"?e=this.getOffset(new Date(o),n):o instanceof Date&&(e=this.getOffset(o,n));const a=l=>{const u=this._encode(l);return Math.floor((u-e)/n)},s=l=>this._decode(l*n+e);return new jS(a,s,r)}};function M2e(n){return n.getTime()}function F2e(n){return new Date(n)}var nQ=new da(M2e,F2e),L2e=nQ;new Date(0).getFullYear();var mh=1e3,Ei=mh*60,Pl=Ei*60,Dd=Pl*24,$m=Dd*7,hm=Dd*30,lx=Dd*365,iQ=new Date().getTimezoneOffset()*Ei;function I2e(n){return Math.floor((n.getTime()-iQ)/mh)}function N2e(n){return new Date(iQ+n*mh)}var oQ=new da(I2e,N2e),k2e=oQ,aQ=new Date().getTimezoneOffset()*Ei;function G2e(n){return Math.floor((n.getTime()-aQ)/Ei)}function V2e(n){return new Date(aQ+n*Ei)}var sQ=new da(G2e,V2e),B2e=sQ,lQ=new Date().getTimezoneOffset()*Ei;function H2e(n){return Math.floor((n.getTime()-lQ)/Pl)}function j2e(n){return new Date(lQ+n*Pl)}var uQ=new da(H2e,j2e),$2e=uQ;function W2e(n){const t=n.getTimezoneOffset()*Ei;return Math.floor((n.getTime()-t)/Dd)}function U2e(n){const t=new Date(1970,0,1);return t.setDate(t.getDate()+n),t}var cQ=new da(W2e,U2e),z2e=cQ;function sf(n){const e=(7+n-4)%7;function r(o){const a=o.getTimezoneOffset()*Ei;return Math.floor((o.getTime()-a)/$m-e/7)}function i(o){const a=new Date(1970,0,1);return a.setDate(a.getDate()+o*7+e),a}return new da(r,i)}var dQ=sf(0),K2e=sf(1),Y2e=sf(2),X2e=sf(3),q2e=sf(4),Z2e=sf(5),Q2e=sf(6),J2e=dQ;function eHe(n){return n.getFullYear()*12+n.getMonth()}function tHe(n){const t=Math.floor(n/12),e=n-t*12;return new Date(t,e,1)}var pQ=new da(eHe,tHe),rHe=pQ;function nHe(n){return n.getFullYear()}function iHe(n){const t=new Date;return t.setFullYear(n),t.setMonth(0,1),t.setHours(0,0,0,0),t}var hQ=new da(nHe,iHe),oHe=hQ;function aHe(n){return Math.floor(n.getTime()/Ei)}function sHe(n){return new Date(n*Ei)}var lHe=new da(aHe,sHe);function uHe(n){return Math.floor(n.getTime()/Pl)}function cHe(n){return new Date(n*Pl)}var dHe=new da(uHe,cHe);function pHe(n){return Math.floor(n.getTime()/Dd)}function hHe(n){const t=new Date(0);return t.setUTCDate(t.getUTCDate()+n),t.setUTCHours(0,0,0,0),t}var fHe=new da(pHe,hHe);function vHe(n){return n.getUTCFullYear()*12+n.getUTCMonth()}function gHe(n){const t=Math.floor(n/12),e=n-t*12;return new Date(Date.UTC(t,e,1))}var yHe=new da(vHe,gHe);function mHe(n){return n.getUTCFullYear()}function CHe(n){const t=new Date;return t.setUTCFullYear(n),t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0),t}var SHe=new da(mHe,CHe),Wv={isEnterprise:!1},FV=class{constructor(){this.destroyFns=[]}destroy(){for(const n of this.destroyFns)n()}},Ll=[];function ps(n){const t=Ll.find(e=>n.type===e.type&&n.optionsKey===e.optionsKey&&n.identifier===e.identifier);if(t){if(n.packageType==="enterprise"&&t.packageType==="community"){const e=Ll.indexOf(t);Ll.splice(e,1,n)}}else Ll.push(n)}function LV(){return Ll.some(n=>n.packageType==="enterprise")}var RO={};function fQ(n,t){RO[n]=t}function wHe(n,t){const e=RO[n];if(e)return new e(t);throw new Error(`AG Charts - unknown axis type: ${n}`)}var IV={has(n){return Object.hasOwn(RO,n)},get axesTypes(){return Object.keys(RO)}},vQ={};function ez(n,t){vQ[n]=t}function _He(n){var t;return(t=vQ[n])!=null?t:{}}var TO=Symbol("BREAK"),Uv="__decorator_config";function gQ(n,t){Object.getOwnPropertyDescriptor(n,Uv)==null&&Object.defineProperty(n,Uv,{value:{}});const e=n[Uv],r=t.toString();if(typeof e[r]<"u")return e[r];const i=new WeakMap;e[r]={setters:[],getters:[],observers:[],valuesMap:i};const o=Object.getOwnPropertyDescriptor(n,t),a=o==null?void 0:o.set,s=o==null?void 0:o.get;return Object.defineProperty(n,t,{set:function(c){const{setters:d,observers:p}=e[r];let h;d.some(f=>f.length>2)&&(h=s?s.call(this):i.get(this));for(const f of d)if(c=f(this,t,c,h),c===TO)return;a?a.call(this,c):i.set(this,c);for(const f of p)f(this,c,h)},get:function(){let c=s?s.call(this):i.get(this);for(const d of e[r].getters)if(c=d(this,t,c),c===TO)return;return c},enumerable:!0,configurable:!1}),e[r]}function ic(n,t,e){return(r,i)=>{const o=gQ(r,i);o.setters.push(n),t&&o.getters.unshift(t),e&&Object.assign(o,e)}}function xHe(n){return(t,e)=>{gQ(t,e).observers.push(n)}}function eP(n){return typeof n<"u"&&Uv in n}function zv(n){const t=new Set;for(;eP(n);)t.add(n==null?void 0:n[Uv]),n=Object.getPrototypeOf(n);return Array.from(t).flatMap(e=>Object.keys(e))}function EHe(n){return zv(n).reduce((t,e)=>{var r;return t[e]=(r=n[e])!=null?r:null,t},{})}function bHe(n,t){const e=t.toString();for(;eP(n);){const r=n[Uv];if(Object.hasOwn(r,e))return r[e];n=Object.getPrototypeOf(n)}}function uI(n){return n!=null}function an(n){return Array.isArray(n)}function yQ(n){return typeof n=="boolean"}function tP(n){return n instanceof Date}function Kw(n){return tP(n)&&!isNaN(Number(n))}function mQ(n){return n instanceof RegExp}function Wg(n){return typeof n=="function"}function Zl(n){return typeof n=="object"&&n!==null&&!an(n)}function OHe(n){return an(n)||qa(n)}function qa(n){return typeof n=="object"&&n!==null&&n.constructor===Object}function $a(n){return typeof n=="string"}function Os(n){return typeof n=="number"}function Gt(n){return Os(n)&&Number.isFinite(n)}function CQ(n){return typeof window<"u"&&n instanceof HTMLElement}function RHe(n,t){return $a(t)&&Object.keys(n).includes(t)}function SQ(n,t){return Object.values(n).includes(t)}function wQ(n){return typeof n=="symbol"}function THe(...n){return yt(...n.reverse())}function yt(...n){var t;const e={};for(const r of n){if(!Zl(r))continue;const i=eP(r)?zv(r):Object.keys(r);for(const o of i)qa(e[o])&&qa(r[o])?e[o]=yt(e[o],r[o]):(t=e[o])!=null||(e[o]=r[o])}return e}function cI(n,...t){return t&&an(n)?n.map(e=>yt(e,...t)):n}function _Q(n,t){return Object.entries(n).reduce((e,[r,i])=>(e[r]=t(i,r,n),e),{})}function xQ(n,t){return(an(t)?t:t.split(".")).reduce((r,i)=>r[i],n)}function EQ(n,t,e){const r=an(t)?t.slice():t.split("."),i=r.pop(),o=r.reduce((a,s)=>a[s],n);o[i]=e}function dI(n,t,e){if(e===void 0)return t;for(const r of n){const i=e[r];i!==void 0&&(t[r]=i)}return t}var rh={},pI={},Ga={has(n){return Object.hasOwn(rh,n)},isCartesian(n){return rh[n]==="cartesian"},isPolar(n){return rh[n]==="polar"},isHierarchy(n){return rh[n]==="hierarchy"},get seriesTypes(){return Object.keys(rh)},get cartesianTypes(){return this.seriesTypes.filter(n=>this.isCartesian(n))},get polarTypes(){return this.seriesTypes.filter(n=>this.isPolar(n))},get hierarchyTypes(){return this.seriesTypes.filter(n=>this.isHierarchy(n))}};function PHe(n,t){rh[n]=t}function AHe(n,t){pI[n]=yt(t,pI[n])}function tz(n){var t;return(t=pI[n])!=null?t:{}}function DHe(n){var t;return(t=rh[n])!=null?t:"unknown"}var Ug=[{type:"root",optionsKey:"animation",chartTypes:["cartesian","polar","hierarchy"]},{type:"root",optionsKey:"background",chartTypes:["cartesian","polar","hierarchy"],optionsInnerKey:"image"},{type:"root",optionsKey:"contextMenu",chartTypes:["cartesian","polar","hierarchy"]},{type:"root",optionsKey:"dataSource",chartTypes:["cartesian","polar","hierarchy"]},{type:"root",optionsKey:"sync",chartTypes:["cartesian"]},{type:"root",optionsKey:"zoom",chartTypes:["cartesian"]},{type:"legend",optionsKey:"gradientLegend",chartTypes:["cartesian","polar","hierarchy"],identifier:"gradient"},{type:"root",optionsKey:"navigator",chartTypes:["cartesian"],optionsInnerKey:"miniChart"},{type:"axis",optionsKey:"axes[]",chartTypes:["polar"],identifier:"angle-category"},{type:"axis",optionsKey:"axes[]",chartTypes:["polar"],identifier:"angle-number"},{type:"axis",optionsKey:"axes[]",chartTypes:["polar"],identifier:"radius-category"},{type:"axis",optionsKey:"axes[]",chartTypes:["polar"],identifier:"radius-number"},{type:"axis-option",optionsKey:"crosshair",chartTypes:["cartesian"]},{type:"series",optionsKey:"series[]",chartTypes:["cartesian"],identifier:"box-plot"},{type:"series",optionsKey:"series[]",chartTypes:["cartesian"],identifier:"bullet"},{type:"series",optionsKey:"series[]",chartTypes:["cartesian"],identifier:"heatmap"},{type:"series",optionsKey:"series[]",chartTypes:["polar"],identifier:"nightingale"},{type:"series",optionsKey:"series[]",chartTypes:["polar"],identifier:"radar-area"},{type:"series",optionsKey:"series[]",chartTypes:["polar"],identifier:"radar-line"},{type:"series",optionsKey:"series[]",chartTypes:["polar"],identifier:"radial-bar"},{type:"series",optionsKey:"series[]",chartTypes:["polar"],identifier:"radial-column"},{type:"series",optionsKey:"series[]",chartTypes:["cartesian"],identifier:"range-area"},{type:"series",optionsKey:"series[]",chartTypes:["cartesian"],identifier:"range-bar"},{type:"series",optionsKey:"series[]",chartTypes:["hierarchy"],identifier:"sunburst"},{type:"series",optionsKey:"series[]",chartTypes:["hierarchy"],identifier:"treemap"},{type:"series",optionsKey:"series[]",chartTypes:["cartesian"],identifier:"waterfall"},{type:"series-option",optionsKey:"errorBar",chartTypes:["cartesian"],identifier:"error-bars"}];function bQ(n){return Ug.some(t=>t.type==="series"&&t.identifier===n)}function NV(n){var t;return(t=Ug.find(e=>e.type==="series"&&e.identifier===n))==null?void 0:t.chartTypes}function MHe(n){var t,e;return((e=(t=Ug.find(r=>r.type==="series"&&r.identifier===n))==null?void 0:t.useCount)!=null?e:0)>0}function FHe(n){var t;return((t=NV(n))==null?void 0:t.find(r=>r==="cartesian"))==="cartesian"}function LHe(n){var t;return((t=NV(n))==null?void 0:t.find(r=>r==="polar"))==="polar"}function IHe(n){var t;return((t=NV(n))==null?void 0:t.find(r=>r==="hierarchy"))==="hierarchy"}function NHe(n){return n.packageType==="enterprise"}function kHe(n){var t;if(!NHe(n))throw new Error("AG Charts - internal configuration error, only enterprise modules need verification.");const e=Ug.find(r=>r.type===n.type&&r.optionsKey===n.optionsKey&&r.identifier===n.identifier&&n.chartTypes.every(i=>r.chartTypes.includes(i)));return e&&((t=e.useCount)!=null||(e.useCount=0),e.useCount++),e!=null}function GHe(){return Ug.filter(({useCount:n})=>n==null||n===0)}function Yw(n){var t,e,r;return(r=(e=(t=n.series)==null?void 0:t[0])==null?void 0:e.type)!=null?r:"line"}function Ph(n){const t=Yw(n);return t==null?!0:t==="cartesian"?(Oe.warnOnce(`type '${t}' is deprecated, use a series type instead`),!0):Ga.isCartesian(t)||FHe(t)}function kV(n){const t=Yw(n);return t==null?!1:t==="hierarchy"?(Oe.warnOnce(`type '${t}' is deprecated, use a series type instead`),!0):Ga.isHierarchy(t)||IHe(t)}function Xw(n){const t=Yw(n);return t==null?!1:t==="polar"?(Oe.warnOnce(`type '${t}' is deprecated, use a series type instead`),!0):Ga.isPolar(t)||LHe(t)}function VHe(n){const t=Yw(n);return Xw(n)&&t!=="pie"&&t!=="donut"}function BHe(n){return n==null?!1:Ga.has(n)}function HHe(n){return n==null?!1:IV.has(n)}function jHe(n){var t,e,r,i;const o=[],a=DHe(Yw(n));for(const{type:s,chartTypes:l,optionsKey:u,optionsInnerKey:c,identifier:d}of Ug)if(!(a!=="unknown"&&!l.includes(a))){if(s==="root"||s==="legend"){const p=n[u];if(p==null)continue;c?p[c]&&(o.push(`${u}.${c}`),delete p[c]):(o.push(u),delete n[u])}else if(s==="axis"){if(!("axes"in n)||!((t=n.axes)!=null&&t.some(p=>p.type===d)))continue;o.push(`axis[type=${d}]`),n.axes=n.axes.filter(p=>p.type!==d)}else if(s==="axis-option"){if(!("axes"in n)||!((e=n.axes)!=null&&e.some(p=>p[u])))continue;o.push(`axis.${u}`),n.axes.forEach(p=>{p[u]&&delete p[u]})}else if(s==="series"){if(!((r=n.series)!=null&&r.some(p=>p.type===d)))continue;o.push(`series[type=${d}]`),n.series=n.series.filter(p=>p.type!==d)}else if(s==="series-option"){if(!((i=n.series)!=null&&i.some(p=>p[u])))continue;o.push(`series.${u}`),n.series.forEach(p=>{p[u]&&delete p[u]})}}o.length&&Oe.warnOnce([`unable to use these enterprise features as 'ag-charts-enterprise' has not been loaded:
`,"",...o,"","See: https://charts.ag-grid.com/javascript/installation/"].join(`
`))}var tr=class{constructor(n){this.className=n}set(n){const t=new Set(Object.keys(n));for(const e of zv(this))if(t.has(e)){const r=n[e],i=this;Xo(i[e])?i[e]=i[e]instanceof qw?i[e].reset(r):i[e].set(r):i[e]=r,t.delete(e)}for(const e of t){const{className:r=this.constructor.name}=this.constructor;Oe.warn(`unable to set [${e}] in ${r} - property is unknown`)}return this}isValid(){return zv(this).every(n=>{const{optional:t}=bHe(this,n);return t||typeof this[n]<"u"})}toJson(){return zv(this).reduce((n,t)=>{const e=this[t];return n[t]=Xo(e)?e.toJson():e,n},{})}},qw=class OQ extends Array{constructor(t,...e){super(e.length),Object.defineProperty(this,"itemFactory",{value:t,enumerable:!1,configurable:!1}),this.set(e)}set(t){if(an(t)){this.length=t.length;for(let e=0;e<t.length;e++)this[e]=new this.itemFactory().set(t[e])}return this}reset(t){return new OQ(this.itemFactory,...t)}toJson(){return this.slice()}};function Xo(n){return n instanceof tr||n instanceof qw}var fE="class-instance";function sa(n,t){if(an(t)){if(!an(n)||n.length!==t.length||t.some((e,r)=>sa(n[r],e)!=null))return t}else if(qa(t)){if(!qa(n))return t;const e={},r=new Set([...Object.keys(n),...Object.keys(t)]);for(const i of r)if(n[i]!==t[i])if(typeof n[i]!=typeof t[i])e[i]=t[i];else{const o=sa(n[i],t[i]);o!==null&&(e[i]=o)}return Object.keys(e).length?e:null}else if(n!==t)return t;return null}function ui(n,t){return an(n)?n.map(e=>ui(e,t)):qa(n)?Object.entries(n).reduce((e,[r,i])=>{var o;return e[r]=(o=t==null?void 0:t.shallow)!=null&&o.includes(r)?PO(i):ui(i,t),e},{}):PO(n)}function PO(n){return an(n)?[...n]:qa(n)?te({},n):tP(n)?new Date(n):mQ(n)?new RegExp(n.source,n.flags):n}function Il(n,t,e,...r){var i;if(an(n))t(n,...r),n.forEach((o,a)=>{Il(o,t,e,...rz(r,a))});else if(qa(n)){t(n,...r);for(const o of Object.keys(n)){if((i=e==null?void 0:e.skip)!=null&&i.includes(o))continue;const a=n[o];(an(a)||qa(a))&&Il(a,t,e,...rz(r,o))}}}function Md(n,t,e={}){var r,i,o;const{path:a,matcherPath:s=a?a.replace(/(\[[0-9+]+])/i,"[]"):void 0,skip:l=[],constructors:u={},constructedArrays:c=new WeakMap,allowedTypes:d={},idx:p}=e;if(n==null)throw new Error(`AG Charts - target is uninitialised: ${a??"<root>"}`);if(t==null)return n;if(Xo(n))return n.set(t);const h=n;p!=null&&"_declarationOrder"in h&&(h._declarationOrder=p);const f=iM(n);for(const v in t){const g=`${s?s+".":""}${v}`;if(l.indexOf(g)>=0)continue;const y=t[v],m=`${a?a+".":""}${v}`,C=h.constructor,S=h[v];let w=(r=u[g])!=null?r:u[v];try{const _=iM(S),x=iM(y);if(f===fE&&!(v in n||Object.hasOwn(h,v))){Oe.warn(`unable to set [${m}] in ${C==null?void 0:C.name} - property is unknown`);continue}const b=(i=d[g])!=null?i:[_];if(!(_===fE&&x==="object")){if(_!=null&&x!=null&&!b.includes(x)){Oe.warn(`unable to set [${m}] in ${C==null?void 0:C.name} - can't apply type of [${x}], allowed types are: [${b}]`);continue}}if(x==="array")if(w=(o=w??c.get(S))!=null?o:u[`${g}[]`],Xo(h[v]))h[v].set(y);else if(w!=null){const O=y;h[v]=O.map((T,A)=>Md(new w,T,Te(te({},e),{path:m,matcherPath:g+"[]",idx:A})))}else h[v]=y;else if(x===fE)h[v]=y;else if(x==="object")if(Xo(S))h[v].set(y);else if(S!=null)Md(S,y,Te(te({},e),{path:m,matcherPath:g,idx:void 0}));else if(w!=null){const O=new w;Xo(O)?h[v]=O.set(y):h[v]=Md(O,y,Te(te({},e),{path:m,matcherPath:g,idx:void 0}))}else h[v]=y;else Xo(h[v])?h[v].set(y):h[v]=y}catch(_){Oe.warn(`unable to set [${m}] in [${C==null?void 0:C.name}]; nested error is: ${_.message}`)}}return n}function rz(n,t){return n.map(e=>e==null?void 0:e[t])}function iM(n){return n==null?null:CQ(n)||tP(n)?"primitive":an(n)?"array":Zl(n)?qa(n)?"object":fE:Wg(n)?"function":"primitive"}var RQ={},TQ={},hI={},PQ={},AQ={},DQ=new Set,MQ=new Set,FQ=new Set,LQ=new Set,fI={};function $He({identifier:n,chartTypes:[t],instanceConstructor:e,seriesDefaults:r,themeTemplate:i,enterpriseThemeTemplate:o,paletteFactory:a,solo:s,stackable:l,groupable:u,stackedByDefault:c,swapDefaultAxesCondition:d}){RQ[n]=e,TQ[n]=r,IQ(n,i,o),a&&KHe(n,a),s&&JHe(n),l&&eje(n),u&&QHe(n),c&&tje(n),d&&rje(n,d),PHe(n,t)}function IQ(n,t,e={}){const r=hI[n];hI[n]=yt(t,r),PQ[n]=yt(e,t,r)}function WHe(n,t){const e=RQ[n];if(e)return new e(t);throw new Error(`AG Charts - unknown series type: ${n}`)}function UHe(n){var t;return ui((t=TQ[n])!=null?t:{})}function zHe(n){return Wv.isEnterprise?PQ[n]:hI[n]}function KHe(n,t){AQ[n]=t}function YHe(n){return AQ[n]}function oM(n){return DQ.has(n)}function XHe(n){return MQ.has(n)}function qHe(n){return FQ.has(n)}function ZHe(n){return LQ.has(n)}function QHe(n){FQ.add(n)}function JHe(n){DQ.add(n)}function eje(n){MQ.add(n)}function tje(n){LQ.add(n)}function rje(n,t){fI[n]=t}function nje(n){var t,e;let r;for(const i of(t=n.series)!=null?t:[]){const{type:o="line"}=i,a=(e=fI[o])==null?void 0:e.call(fI,i);if(a!=null){if(r!=null&&r!=a)throw new Error("AG Charts - The provided series have incompatible directions");r=a}}return r}var NQ={};function kQ(n,t,e,r){NQ[n]=t,GQ[t]=r}var GQ={};function ije(){return GQ}function oje(){return NQ}var VQ=(n=>(n[n.SMALL=12]="SMALL",n[n.MEDIUM=13]="MEDIUM",n[n.LARGE=17]="LARGE",n))(VQ||{}),BQ=(n=>(n.NORMAL="normal",n.BOLD="bold",n.BOLDER="bolder",n.LIGHTER="lighter",n))(BQ||{}),HQ=(n=>(n.TOP="top",n.RIGHT="right",n.BOTTOM="bottom",n.LEFT="left",n))(HQ||{}),jQ=(n=>(n.CATEGORY="category",n.NUMBER="number",n.TIME="time",n.LOG="log",n))(jQ||{}),$Q=(n=>(n.ANGLE_CATEGORY="angle-category",n.ANGLE_NUMBER="angle-number",n.RADIUS_CATEGORY="radius-category",n.RADIUS_NUMBER="radius-number",n))($Q||{}),WQ=(n=>(n.CIRCLE="circle",n.POLYGON="polygon",n))(WQ||{}),El={BLUE:"#5090dc",ORANGE:"#ffa03a",GREEN:"#459d55",CYAN:"#34bfe1",YELLOW:"#e1cc00",VIOLET:"#9669cb",GRAY:"#b5b5b5",MAGENTA:"#bd5aa7",BROWN:"#8a6224",RED:"#ef5452"},Ah={BLUE:"#2b5c95",ORANGE:"#cc6f10",GREEN:"#1e652e",CYAN:"#18859e",YELLOW:"#a69400",VIOLET:"#603c88",GRAY:"#575757",MAGENTA:"#7d2f6d",BROWN:"#4f3508",RED:"#a82529"},nh=Symbol("is-dark-theme"),UQ=Symbol("extends-chart-defaults"),zQ=Symbol("extends-legend-defaults"),KQ=Symbol("extends-legend-item-defaults"),YQ=Symbol("extends-legend-item-marker-defaults"),XQ=Symbol("extends-axes-defaults"),qQ=Symbol("extends-axes-label-defaults"),ZQ=Symbol("extends-axes-line-defaults"),QQ=Symbol("extends-axes-tick-defaults"),JQ=Symbol("extends-axes-grid-line-defaults"),vc=Symbol("extends-series-defaults"),zg=Symbol("extends-cartesian-marker-defaults"),eJ=Symbol("override-series-label-defaults"),vn=Symbol("default-font"),kt=Symbol("default-label-colour"),tJ=Symbol("default-inverted-label-colour"),Kg=Symbol("default-inside-series-label-colour"),Kv=Symbol("default-muted-label-colour"),AO=Symbol("default-axis-grid-colour"),vE=Symbol("default-axis-line-colour"),NC=Symbol("default-cross-lines-colour"),$S=Symbol("default-background-colour"),Yg=Symbol("default-shadow-colour"),js=Symbol("default-waterfall-series-positive-colors"),$s=Symbol("default-waterfall-series-negative-colors"),Ws=Symbol("default-waterfall-series-total-colors"),Us=Symbol("default-waterfall-series-connector-line-stroke"),GV=Symbol("default-polar-series-stroke"),zs=Symbol("default-diverging-series-colour-range"),VV=Symbol("default-hierarchy-fills"),BV=Symbol("default-hierarchy-strokes"),aM="white",aje={fills:Object.values(El),strokes:Object.values(Ah)},vI={get cartesian(){return{seriesTypes:Ga.cartesianTypes,commonOptions:["zoom","navigator"]}},get polar(){return{seriesTypes:Ga.polarTypes,commonOptions:[]}},get hierarchy(){return{seriesTypes:Ga.hierarchyTypes,commonOptions:[]}}},sje=Object.values(vI).reduce((n,{commonOptions:t})=>[...n,...t],[]);function lje(n,t){var e,r;return n==null?null:{fills:(e=n.fills)!=null?e:t.fills,strokes:(r=n.strokes)!=null?r:t.strokes}}var Bp=class Ar{getPalette(){return aje}static getAxisDefaults(t){return yt(t,{top:{},right:{},bottom:{},left:{},title:{enabled:!1,text:"Axis Title",spacing:25,fontWeight:"normal",fontSize:13,fontFamily:vn,color:kt},label:{fontSize:12,fontFamily:vn,padding:5,color:kt,avoidCollisions:!0},line:{enabled:!0,width:1,color:vE},tick:{enabled:!1,width:1,color:vE},gridLine:{enabled:!0,style:[{stroke:AO,lineDash:[]}]},crossLines:{enabled:!1,fill:NC,stroke:NC,fillOpacity:.1,strokeWidth:1,label:{enabled:!1,fontSize:12,fontFamily:vn,padding:5,color:kt}}})}static getSeriesDefaults(){return{tooltip:{enabled:!0},visible:!0,showInLegend:!0,highlightStyle:{item:{fill:"rgba(255,255,255, 0.33)",stroke:"rgba(0, 0, 0, 0.4)",strokeWidth:2},series:{dimOpacity:1},text:{color:"black"}},nodeClickRange:"exact"}}static getCartesianSeriesMarkerDefaults(){return{enabled:!0,shape:"circle",size:7,strokeWidth:1}}static getLegendItemMarkerDefaults(){return{size:15,padding:8}}static getCaptionWrappingDefaults(){return"hyphenate"}static getChartDefaults(){return{background:{visible:!0,fill:$S},padding:{top:20,right:20,bottom:20,left:20},title:{enabled:!1,text:"Title",fontWeight:"normal",fontSize:17,fontFamily:vn,color:kt,wrapping:Ar.getCaptionWrappingDefaults()},subtitle:{enabled:!1,text:"Subtitle",spacing:20,fontSize:13,fontFamily:vn,color:Kv,wrapping:Ar.getCaptionWrappingDefaults()},footnote:{enabled:!1,text:"Footnote",spacing:20,fontSize:13,fontFamily:vn,color:"rgb(140, 140, 140)",wrapping:Ar.getCaptionWrappingDefaults()},legend:{position:"bottom",spacing:30,listeners:{},item:{paddingX:16,paddingY:8,marker:Ar.getLegendItemMarkerDefaults(),toggleSeriesVisible:!0,label:{color:kt,fontSize:12,fontFamily:vn}},reverseOrder:!1,pagination:{marker:{size:12},activeStyle:{fill:kt},inactiveStyle:{fill:Kv},highlightStyle:{fill:kt},label:{color:kt}}},tooltip:{enabled:!0,darkTheme:nh,range:"nearest",delay:0},overlays:{loading:{darkTheme:nh},noData:{darkTheme:nh},noVisibleSeries:{darkTheme:nh}},listeners:{}}}constructor(t){var e;t=ui(t??{});const{overrides:r=null,palette:i=null}=t,o=this.createChartConfigPerChartType(this.getDefaults());if(r){const{common:s}=r,l=(u,c)=>{if(c)for(const d of u){const p=d;o[p]=yt(c,o[p])}};for(const[,{seriesTypes:u,commonOptions:c}]of Object.entries(vI)){const d=te({},s);for(const p of sje)c.includes(p)||delete d[p];l(u,d)}Ga.seriesTypes.forEach(u=>{const c=u;r[c]&&(o[c]=yt(r[c],o[c]))})}const a=this.getPalette();this.palette=(e=lje(i,a))!=null?e:a,this.config=Object.freeze(this.templateTheme(o))}createChartConfigPerChartType(t){return Object.entries(vI).forEach(([e,{seriesTypes:r}])=>{const i=tz(e);r.forEach(o=>{const a=o;t[a]||(t[a]=ui(i))})}),t}getDefaults(){const t=r=>te(te(te({axes:{}},ije()),Ar.getChartDefaults()),tz(r)),e=(r,i)=>{var o;const a=t(r),s={};for(const l of i){s[l]=yt(zHe(l),(o=s[l])!=null?o:ui(a));const{axes:u}=s[l];for(const c of IV.axesTypes)u[c]=yt(u[c],_He(c),r==="cartesian"&&Ar.cartesianAxisDefault[c])}return s};return yt(e("cartesian",Ga.cartesianTypes),e("polar",Ga.polarTypes),e("hierarchy",Ga.hierarchyTypes))}templateTheme(t){const e=ui(t),{extensions:r,properties:i}=this.getTemplateParameters();return Il(e,o=>{if(o.__extends__){const a=o.__extends__,s=r.get(a);if(s==null)throw new Error(`AG Charts - no template variable provided for: ${a}`);Object.keys(s).forEach(l=>{l in o?Zl(o[l])&&(o[l]=yt(o[l],s[l])):o[l]=s[l]}),delete o.__extends__}if(o.__overrides__){const a=o.__overrides__,s=r.get(a);if(s==null)throw new Error(`AG Charts - no template variable provided for: ${a}`);Object.assign(o,s),delete o.__overrides__}if(an(o))for(let a=0;a<o.length;a++){const s=o[a];i.has(s)&&(o[a]=i.get(s))}else for(const[a,s]of Object.entries(o))i.has(s)&&(o[a]=i.get(s))}),ui(e)}static getWaterfallSeriesDefaultPositiveColors(){return{fill:El.BLUE,stroke:Ah.BLUE,label:{color:kt}}}static getWaterfallSeriesDefaultNegativeColors(){return{fill:El.ORANGE,stroke:Ah.ORANGE,label:{color:kt}}}static getWaterfallSeriesDefaultTotalColors(){return{fill:El.GRAY,stroke:Ah.GRAY,label:{color:kt}}}getTemplateParameters(){const t=new Map;t.set(UQ,Ar.getChartDefaults()),t.set(XQ,Ar.getAxisDefaults()),t.set(zQ,Ar.getChartDefaults().legend),t.set(KQ,Ar.getChartDefaults().legend.item),t.set(YQ,Ar.getLegendItemMarkerDefaults()),t.set(qQ,Ar.getAxisDefaults().label),t.set(ZQ,Ar.getAxisDefaults().line),t.set(QQ,Ar.getAxisDefaults().tick),t.set(JQ,Ar.getAxisDefaults().gridLine),t.set(vc,Ar.getSeriesDefaults()),t.set(eJ,{}),t.set(zg,Ar.getCartesianSeriesMarkerDefaults());const e=new Map;return e.set(nh,!1),e.set(vn,"Verdana, sans-serif"),e.set(kt,"rgb(70, 70, 70)"),e.set(tJ,"white"),e.set(Kv,"rgb(140, 140, 140)"),e.set(AO,"rgb(224,234,241)"),e.set(vE,"rgb(195, 195, 195)"),e.set(NC,"rgb(70, 70, 70)"),e.set(Kg,aM),e.set($S,aM),e.set(Yg,"rgba(0, 0, 0, 0.5)"),e.set(zs,[El.ORANGE,El.YELLOW,El.GREEN]),e.set(VV,["#ffffff","#e0e5ea","#c1ccd5","#a3b4c1","#859cad"]),e.set(BV,["#ffffff","#c5cbd1","#a4b1bd","#8498a9","#648096"]),e.set(GV,aM),e.set(js,Ar.getWaterfallSeriesDefaultPositiveColors()),e.set($s,Ar.getWaterfallSeriesDefaultNegativeColors()),e.set(Ws,Ar.getWaterfallSeriesDefaultTotalColors()),e.set(Us,Ar.getWaterfallSeriesDefaultTotalColors().stroke),{extensions:t,properties:e}}};Bp.cartesianAxisDefault={number:Bp.getAxisDefaults({line:{enabled:!1}}),log:Bp.getAxisDefaults({base:10,line:{enabled:!1}}),category:Bp.getAxisDefaults({groupPaddingInner:.1,label:{autoRotate:!0},gridLine:{enabled:!1}}),time:Bp.getAxisDefaults({gridLine:{enabled:!1}}),"grouped-category":Bp.getAxisDefaults()};var gc=Bp,sM="#192232",Hp={BLUE:"#5090dc",ORANGE:"#ffa03a",GREEN:"#459d55",CYAN:"#34bfe1",YELLOW:"#e1cc00",VIOLET:"#9669cb",GRAY:"#b5b5b5",MAGENTA:"#bd5aa7",BROWN:"#8a6224",RED:"#ef5452"},gE={BLUE:"#74a8e6",ORANGE:"#ffbe70",GREEN:"#6cb176",CYAN:"#75d4ef",YELLOW:"#f6e559",VIOLET:"#aa86d8",GRAY:"#a1a1a1",MAGENTA:"#ce7ab9",BROWN:"#997b52",RED:"#ff7872"},uje={fills:Object.values(Hp),strokes:Object.values(gE)},Zw=class Wm extends gc{static getWaterfallSeriesDefaultPositiveColors(){return{fill:Hp.BLUE,stroke:gE.BLUE,label:{color:"white"}}}static getWaterfallSeriesDefaultNegativeColors(){return{fill:Hp.ORANGE,stroke:gE.ORANGE,label:{color:"white"}}}static getWaterfallSeriesDefaultTotalColors(){return{fill:Hp.GRAY,stroke:gE.GRAY,label:{color:"white"}}}getTemplateParameters(){const t=super.getTemplateParameters();return t.properties.set(nh,!0),t.properties.set(js,Wm.getWaterfallSeriesDefaultPositiveColors()),t.properties.set($s,Wm.getWaterfallSeriesDefaultNegativeColors()),t.properties.set(Ws,Wm.getWaterfallSeriesDefaultTotalColors()),t.properties.set(Us,Wm.getWaterfallSeriesDefaultTotalColors().stroke),t.properties.set(GV,sM),t.properties.set(kt,"white"),t.properties.set(Kv,"#7D91A0"),t.properties.set(AO,"#545A6E"),t.properties.set(NC,"white"),t.properties.set(zs,[Hp.ORANGE,Hp.YELLOW,Hp.GREEN]),t.properties.set(VV,["#192834","#253746","#324859","#3f596c","#4d6a80"]),t.properties.set(BV,["#192834","#3b5164","#496275","#577287","#668399"]),t.properties.set($S,sM),t.properties.set(Kg,sM),t}getPalette(){return uje}constructor(t){super(t)}},jp={BLUE:"#2196F3",ORANGE:"#FF9800",GREEN:"#4CAF50",CYAN:"#00BCD4",YELLOW:"#FFEB3B",VIOLET:"#7E57C2",GRAY:"#9E9E9E",MAGENTA:"#F06292",BROWN:"#795548",RED:"#F44336"},yE={BLUE:"#90CAF9",ORANGE:"#FFCC80",GREEN:"#A5D6A7",CYAN:"#80DEEA",YELLOW:"#FFF9C4",VIOLET:"#B39DDB",GRAY:"#E0E0E0",MAGENTA:"#F48FB1",BROWN:"#A1887F",RED:"#EF9A9A"},cje={fills:Object.values(jp),strokes:Object.values(yE)},dje=class Um extends Zw{static getWaterfallSeriesDefaultPositiveColors(){return{fill:jp.BLUE,stroke:yE.BLUE,label:{color:"white"}}}static getWaterfallSeriesDefaultNegativeColors(){return{fill:jp.RED,stroke:yE.RED,label:{color:"white"}}}static getWaterfallSeriesDefaultTotalColors(){return{fill:jp.GRAY,stroke:yE.GRAY,label:{color:"white"}}}getTemplateParameters(){const t=super.getTemplateParameters();return t.properties.set(js,Um.getWaterfallSeriesDefaultPositiveColors()),t.properties.set($s,Um.getWaterfallSeriesDefaultNegativeColors()),t.properties.set(Ws,Um.getWaterfallSeriesDefaultTotalColors()),t.properties.set(zs,[jp.ORANGE,jp.YELLOW,jp.GREEN]),t.properties.set(Us,Um.getWaterfallSeriesDefaultTotalColors().stroke),t}getPalette(){return cje}},$p={BLUE:"#2196F3",ORANGE:"#FF9800",GREEN:"#4CAF50",CYAN:"#00BCD4",YELLOW:"#FFEB3B",VIOLET:"#7E57C2",GRAY:"#9E9E9E",MAGENTA:"#F06292",BROWN:"#795548",RED:"#F44336"},mE={BLUE:"#1565C0",ORANGE:"#E65100",GREEN:"#2E7D32",CYAN:"#00838F",YELLOW:"#F9A825",VIOLET:"#4527A0",GRAY:"#616161",MAGENTA:"#C2185B",BROWN:"#4E342E",RED:"#B71C1C"},pje={fills:Object.values($p),strokes:Object.values(mE)},hje=class zm extends gc{static getWaterfallSeriesDefaultPositiveColors(){return{fill:$p.BLUE,stroke:mE.BLUE,label:{color:kt}}}static getWaterfallSeriesDefaultNegativeColors(){return{fill:$p.RED,stroke:mE.RED,label:{color:kt}}}static getWaterfallSeriesDefaultTotalColors(){return{fill:$p.GRAY,stroke:mE.GRAY,label:{color:kt}}}getTemplateParameters(){const t=super.getTemplateParameters();return t.properties.set(js,zm.getWaterfallSeriesDefaultPositiveColors()),t.properties.set($s,zm.getWaterfallSeriesDefaultNegativeColors()),t.properties.set(Ws,zm.getWaterfallSeriesDefaultTotalColors()),t.properties.set(zs,[$p.ORANGE,$p.YELLOW,$p.GREEN]),t.properties.set(Us,zm.getWaterfallSeriesDefaultTotalColors().stroke),t}getPalette(){return pje}},Km={BLUE:"#436ff4",PURPLE:"#9a7bff",MAGENTA:"#d165d2",PINK:"#f0598b",RED:"#f47348",ORANGE:"#f2a602",YELLOW:"#e9e201",GREEN:"#21b448",CYAN:"#00b9a2",MODERATE_BLUE:"#00aee4"},gI={BLUE:"#6698ff",PURPLE:"#c0a3ff",MAGENTA:"#fc8dfc",PINK:"#ff82b1",RED:"#ff9b70",ORANGE:"#ffcf4e",YELLOW:"#ffff58",GREEN:"#58dd70",CYAN:"#51e2c9",MODERATE_BLUE:"#4fd7ff"},fje="#bbbbbb",vje="#eeeeee",gje={fills:Object.values(Km),strokes:Object.values(gI)},yje=class Ym extends Zw{static getWaterfallSeriesDefaultPositiveColors(){return{fill:Km.BLUE,stroke:gI.BLUE,label:{color:"white"}}}static getWaterfallSeriesDefaultNegativeColors(){return{fill:Km.RED,stroke:gI.RED,label:{color:"white"}}}static getWaterfallSeriesDefaultTotalColors(){return{fill:fje,stroke:vje,label:{color:"white"}}}getTemplateParameters(){const t=super.getTemplateParameters();return t.properties.set(js,Ym.getWaterfallSeriesDefaultPositiveColors()),t.properties.set($s,Ym.getWaterfallSeriesDefaultNegativeColors()),t.properties.set(Ws,Ym.getWaterfallSeriesDefaultTotalColors()),t.properties.set(zs,[Km.BLUE,Km.RED]),t.properties.set(Us,Ym.getWaterfallSeriesDefaultTotalColors().stroke),t}getPalette(){return gje}},Xm={BLUE:"#436ff4",PURPLE:"#9a7bff",MAGENTA:"#d165d2",PINK:"#f0598b",RED:"#f47348",ORANGE:"#f2a602",YELLOW:"#e9e201",GREEN:"#21b448",CYAN:"#00b9a2",MODERATE_BLUE:"#00aee4"},yI={BLUE:"#2346c9",PURPLE:"#7653d4",MAGENTA:"#a73da9",PINK:"#c32d66",RED:"#c84b1c",ORANGE:"#c87f00",YELLOW:"#c1b900",GREEN:"#008c1c",CYAN:"#00927c",MODERATE_BLUE:"#0087bb"},mje="#bbbbbb",Cje="#888888",Sje={fills:Object.values(Xm),strokes:Object.values(yI)},wje=class qm extends gc{static getWaterfallSeriesDefaultPositiveColors(){return{fill:Xm.BLUE,stroke:yI.BLUE,label:{color:kt}}}static getWaterfallSeriesDefaultNegativeColors(){return{fill:Xm.RED,stroke:yI.RED,label:{color:kt}}}static getWaterfallSeriesDefaultTotalColors(){return{fill:mje,stroke:Cje,label:{color:kt}}}getTemplateParameters(){const t=super.getTemplateParameters();return t.properties.set(js,qm.getWaterfallSeriesDefaultPositiveColors()),t.properties.set($s,qm.getWaterfallSeriesDefaultNegativeColors()),t.properties.set(Ws,qm.getWaterfallSeriesDefaultTotalColors()),t.properties.set(zs,[Xm.BLUE,Xm.RED]),t.properties.set(Us,qm.getWaterfallSeriesDefaultTotalColors().stroke),t}getPalette(){return Sje}},Wp={BLUE:"#4472C4",ORANGE:"#ED7D31",GRAY:"#A5A5A5",YELLOW:"#FFC000",MODERATE_BLUE:"#5B9BD5",GREEN:"#70AD47",DARK_GRAY:"#7B7B7B",DARK_BLUE:"#264478",VERY_DARK_GRAY:"#636363",DARK_YELLOW:"#997300"},CE={BLUE:"#6899ee",ORANGE:"#ffa55d",GRAY:"#cdcdcd",YELLOW:"#ffea53",MODERATE_BLUE:"#82c3ff",GREEN:"#96d56f",DARK_GRAY:"#a1a1a1",DARK_BLUE:"#47689f",VERY_DARK_GRAY:"#878787",DARK_YELLOW:"#c0993d"},_je={fills:Object.values(Wp),strokes:Object.values(CE)},xje=class Zm extends Zw{static getWaterfallSeriesDefaultPositiveColors(){return{fill:Wp.BLUE,stroke:CE.BLUE,label:{color:"white"}}}static getWaterfallSeriesDefaultNegativeColors(){return{fill:Wp.ORANGE,stroke:CE.ORANGE,label:{color:"white"}}}static getWaterfallSeriesDefaultTotalColors(){return{fill:Wp.GRAY,stroke:CE.GRAY,label:{color:"white"}}}getTemplateParameters(){const t=super.getTemplateParameters();return t.properties.set(js,Zm.getWaterfallSeriesDefaultPositiveColors()),t.properties.set($s,Zm.getWaterfallSeriesDefaultNegativeColors()),t.properties.set(Ws,Zm.getWaterfallSeriesDefaultTotalColors()),t.properties.set(zs,[Wp.ORANGE,Wp.YELLOW,Wp.GREEN]),t.properties.set(Us,Zm.getWaterfallSeriesDefaultTotalColors().stroke),t}getPalette(){return _je}},Up={BLUE:"#5281d5",ORANGE:"#ff8d44",GRAY:"#b5b5b5",YELLOW:"#ffd02f",MODERATE_BLUE:"#6aabe6",GREEN:"#7fbd57",DARK_GRAY:"#8a8a8a",DARK_BLUE:"#335287",VERY_DARK_GRAY:"#717171",DARK_YELLOW:"#a98220"},SE={BLUE:"#214d9b",ORANGE:"#c25600",GRAY:"#7f7f7f",YELLOW:"#d59800",MODERATE_BLUE:"#3575ac",GREEN:"#4b861a",DARK_GRAY:"#575757",DARK_BLUE:"#062253",VERY_DARK_GRAY:"#414141",DARK_YELLOW:"#734f00"},Eje={fills:Object.values(Up),strokes:Object.values(SE)},bje=class Qm extends gc{static getWaterfallSeriesDefaultPositiveColors(){return{fill:Up.BLUE,stroke:SE.BLUE,label:{color:kt}}}static getWaterfallSeriesDefaultNegativeColors(){return{fill:Up.ORANGE,stroke:SE.ORANGE,label:{color:kt}}}static getWaterfallSeriesDefaultTotalColors(){return{fill:Up.GRAY,stroke:SE.GRAY,label:{color:kt}}}getTemplateParameters(){const t=super.getTemplateParameters();return t.properties.set(js,Qm.getWaterfallSeriesDefaultPositiveColors()),t.properties.set($s,Qm.getWaterfallSeriesDefaultNegativeColors()),t.properties.set(Ws,Qm.getWaterfallSeriesDefaultTotalColors()),t.properties.set(zs,[Up.ORANGE,Up.YELLOW,Up.GREEN]),t.properties.set(Us,Qm.getWaterfallSeriesDefaultTotalColors().stroke),t}getPalette(){return Eje}},zp={BLUE:"#0083ff",ORANGE:"#ff6600",GREEN:"#00af00",CYAN:"#00ccff",YELLOW:"#f7c700",VIOLET:"#ac26ff",GRAY:"#a7a7b7",MAGENTA:"#e800c5",BROWN:"#b54300",RED:"#ff0000"},wE={BLUE:"#67b7ff",ORANGE:"#ffc24d",GREEN:"#5cc86f",CYAN:"#54ebff",VIOLET:"#c18aff",YELLOW:"#fff653",GRAY:"#aeaeae",MAGENTA:"#f078d4",BROWN:"#ba8438",RED:"#ff726e"},Oje={fills:Object.values(zp),strokes:Object.values(wE)},Rje=class Jm extends Zw{static getWaterfallSeriesDefaultPositiveColors(){return{fill:zp.BLUE,stroke:wE.BLUE,label:{color:"white"}}}static getWaterfallSeriesDefaultNegativeColors(){return{fill:zp.ORANGE,stroke:wE.ORANGE,label:{color:"white"}}}static getWaterfallSeriesDefaultTotalColors(){return{fill:zp.GRAY,stroke:wE.GRAY,label:{color:"white"}}}getTemplateParameters(){const t=super.getTemplateParameters();return t.properties.set(js,Jm.getWaterfallSeriesDefaultPositiveColors()),t.properties.set($s,Jm.getWaterfallSeriesDefaultNegativeColors()),t.properties.set(Ws,Jm.getWaterfallSeriesDefaultTotalColors()),t.properties.set(zs,[zp.ORANGE,zp.YELLOW,zp.GREEN]),t.properties.set(Us,Jm.getWaterfallSeriesDefaultTotalColors().stroke),t}getPalette(){return Oje}},Kp={BLUE:"#0083ff",ORANGE:"#ff6600",GREEN:"#00af00",CYAN:"#00ccff",YELLOW:"#f7c700",VIOLET:"#ac26ff",GRAY:"#a7a7b7",MAGENTA:"#e800c5",BROWN:"#b54300",RED:"#ff0000"},_E={BLUE:"#0f68c0",ORANGE:"#d47100",GREEN:"#007922",CYAN:"#009ac2",VIOLET:"#bca400",YELLOW:"#753cac",GRAY:"#646464",MAGENTA:"#9b2685",BROWN:"#6c3b00",RED:"#cb0021"},Tje={fills:Object.values(Kp),strokes:Object.values(_E)},Pje=class eC extends gc{static getWaterfallSeriesDefaultPositiveColors(){return{fill:Kp.BLUE,stroke:_E.BLUE,label:{color:kt}}}static getWaterfallSeriesDefaultNegativeColors(){return{fill:Kp.ORANGE,stroke:_E.ORANGE,label:{color:kt}}}static getWaterfallSeriesDefaultTotalColors(){return{fill:Kp.GRAY,stroke:_E.GRAY,label:{color:kt}}}getTemplateParameters(){const t=super.getTemplateParameters();return t.properties.set(js,eC.getWaterfallSeriesDefaultPositiveColors()),t.properties.set($s,eC.getWaterfallSeriesDefaultNegativeColors()),t.properties.set(Ws,eC.getWaterfallSeriesDefaultTotalColors()),t.properties.set(zs,[Kp.ORANGE,Kp.YELLOW,Kp.GREEN]),t.properties.set(Us,eC.getWaterfallSeriesDefaultTotalColors().stroke),t}getPalette(){return Tje}},kC=()=>new gc,lM=()=>new Zw,Aje={undefined:kC,null:kC,"ag-default":kC,"ag-sheets":()=>new bje,"ag-polychroma":()=>new wje,"ag-vivid":()=>new Pje,"ag-material":()=>new hje},Dje={undefined:lM,null:lM,"ag-default-dark":lM,"ag-sheets-dark":()=>new xje,"ag-polychroma-dark":()=>new yje,"ag-vivid-dark":()=>new Rje,"ag-material-dark":()=>new dje},rJ=te(te({},Dje),Aje);function Mje(n){if(n===null)return;let t=!0;const{baseTheme:e,palette:r,overrides:i}=n;if(e!==void 0&&typeof e!="string"&&typeof e!="object"&&(Oe.warn(`invalid theme.baseTheme type ${typeof e}, expected (string | object).`),t=!1),i!==void 0&&typeof i!="object"&&(Oe.warn(`invalid theme.overrides type ${typeof i}, expected object.`),t=!1),typeof r=="object"){if(r!==null){const{fills:o,strokes:a}=r;o!==void 0&&!Array.isArray(o)&&(Oe.warn("theme.overrides.fills must be undefined or an array"),t=!1),a!==void 0&&!Array.isArray(a)&&(Oe.warn("theme.overrides.strokes must be undefined or an array"),t=!1)}}else r!==void 0&&(Oe.warn(`invalid theme.palette type ${typeof r}, expected object.`),t=!1);if(t)return n}function Fje(n){if(n===void 0||typeof n=="string"||n instanceof gc)return n;if(typeof n=="object")return Mje(n);Oe.warn(`invalid theme value type ${typeof n}, expected object or string.`)}function HV(n){let t=Fje(n);if(t instanceof gc)return t;if(t===void 0||typeof t=="string"){const a=rJ[t];return a?a():(Oe.warnOnce(`the theme [${t}] is invalid, using [ag-default] instead.`),kC())}const e=[];let r;for(;typeof t=="object";)e.push(t.overrides),r??(r=t.palette),t=t.baseTheme;const i={baseTheme:t,overrides:yt(...e),palette:r},o=i.baseTheme?HV(i.baseTheme):kC();return new o.constructor(i)}function ru(n){if(n.length===0)return;let t=1/0,e=-1/0;for(let i of n)i instanceof Date&&(i=i.getTime()),typeof i=="number"&&(i<t&&(t=i),i>e&&(e=i));const r=[t,e];if(r.every(isFinite))return r}function nJ(n,t,e){return Qw(n,t,e).extent}function Qw(n,t,e){var r;let i=!1;return n.length>2&&(n=(r=ru(n))!=null?r:[NaN,NaN]),isNaN(t)||(i||(i=t>n[0]),n=[t,n[1]]),isNaN(e)||(i||(i=e<n[1]),n=[n[0],e]),n[0]>n[1]&&(n=[]),{extent:n,clipped:i}}function GC(n,t){if(n==null||t==null||n.length!==t.length)return!1;for(let e=0;e<n.length;e++)if(Array.isArray(n[e])&&Array.isArray(t[e])){if(!GC(n[e],t[e]))return!1}else if(n[e]!==t[e])return!1;return!0}function DO(n){return typeof n>"u"?[]:Array.isArray(n)?n:[n]}function jV(n){return Array.from(new Set(n))}function $V(n,t){return n.reduce((e,r)=>{var i;const o=t(r);return(i=e[o])!=null||(e[o]=[]),e[o].push(r),e},{})}function mI(n,t,e=0){if(n.length===0)return[];const r=[];for(let i=0;i<t;i++)r.push(n.at((i+e)%n.length));return r}function CI(n){const t=typeof window<"u"?window:void 0;return t==null?void 0:t[n]}var Lje=2e3,nz=Date.now(),Ije=()=>{const n=Date.now()-nz;if(n>Lje){const t=(Math.floor(n/100)/10).toFixed(1);Oe.log(`**** ${t}s since last log message ****`)}nz=Date.now()},Lr={create(...n){return Object.assign((...e)=>{Lr.check(...n)&&(typeof e[0]=="function"&&(e=DO(e[0]())),Ije(),Oe.log(...e))},{check:()=>Lr.check(...n)})},check(...n){return n.length===0&&n.push(!0),DO(CI("agChartsDebug")).some(e=>n.includes(e))}},iJ=class{constructor(n,t){var e,r,i;const o={shallow:["data"]},a=ui(n,o),s=this.optionsType(a);this.sanityCheckAndCleanup(a),this.userOptions=a,this.activeTheme=HV(a.theme),this.seriesDefaults=this.getOptionsDefaults(a),this.specialOverrides=this.specialOverridesDefaults(te({},t));const l=this.getSeriesThemeConfig(s),{axes:u={},series:c}=l,d=yn(l,["axes","series"]);this.processedOptions=ui(yt(this.userOptions,d,this.seriesDefaults),o),this.processAxesOptions(this.processedOptions,u),this.processSeriesOptions(this.processedOptions),(Ph(this.processedOptions)||VHe(this.processedOptions))&&((e=this.processedOptions.legend)==null?void 0:e.enabled)==null&&((i=(r=this.processedOptions).legend)!=null||(r.legend={}),this.processedOptions.legend.enabled=this.processedOptions.series.length>1),this.enableConfiguredOptions(this.processedOptions),Wv.isEnterprise||jHe(this.processedOptions)}getOptions(){var n;return(n=this.processedOptions)!=null?n:{}}diffOptions(n){return sa(n,this.processedOptions)}getSeriesThemeConfig(n){var t,e;return ui((e=(t=this.activeTheme)==null?void 0:t.config[n])!=null?e:{})}getOptionsDefaults(n){const t=this.optionsType(n),e=UHe(t);return nje(n)&&this.swapAxesPosition(e),e}optionsType(n){var t,e,r;return(r=(e=(t=n.series)==null?void 0:t[0])==null?void 0:e.type)!=null?r:"line"}sanityCheckAndCleanup(n){var t;this.deprecationWarnings(n),this.axesTypeIntegrity(n),this.seriesTypeIntegrity(n),this.soloSeriesIntegrity(n),this.removeDisabledOptions(n),this.removeLeftoverSymbols(n),(t=n.series)!=null&&t.some(e=>e.type==="bullet")&&n.sync!=null&&n.sync.enabled!==!1&&(Oe.warnOnce("bullet series cannot be synced, disabling synchronization."),delete n.sync)}swapAxesPosition(n){var t;if(Ph(n)){const[e,r]=(t=n.axes)!=null?t:[];n.axes=[Te(te({},e),{position:r.position}),Te(te({},r),{position:e.position})]}}processAxesOptions(n,t){"axes"in n&&(n.axes=n.axes.map(e=>{var r,i,o,a;const s=yt((r=this.seriesDefaults.axes)==null?void 0:r.find(({type:h})=>h===e.type),(i=t[e.type])==null?void 0:i[e.position],t[e.type]),{crossLines:l}=s,u=yn(s,["crossLines"]);e.crossLines&&(e.crossLines=cI(e.crossLines,l));const c=(o=u.gridLine)==null?void 0:o.style;(a=e.gridLine)!=null&&a.style&&(c!=null&&c.length)&&(e.gridLine.style=e.gridLine.style.map((h,f)=>h.stroke!=null||h.lineDash!=null?yt(h,c.at(f%c.length)):h));const d=yt(e,u);return yn(d,["top","right","bottom","left"])}))}processSeriesOptions(n){const t=this.getDefaultSeriesType(n),e=this.getTooltipPositionDefaults(n),r={colourIndex:0,userPalette:!!(Zl(n.theme)&&n.theme.palette)},i=n.series.map(o=>{var a,s;(a=o.type)!=null||(o.type=t);const l=(s=this.getSeriesThemeConfig(o.type).series)!=null?s:{},{innerLabels:u}=l,c=yn(l,["innerLabels"]),d=yt(this.getSeriesGroupingOptions(o),o,e,c,this.getSeriesPalette(o.type,r));return d.innerLabels&&(d.innerLabels=cI(d.innerLabels,u)),this.activeTheme.templateTheme(d)});n.series=this.setSeriesGroupingOptions(i)}getSeriesPalette(n,t){const e=YHe(n),{colourIndex:r,userPalette:i}=t,{fills:o=[],strokes:a=[]}=this.activeTheme.palette;return e==null?void 0:e({userPalette:i,colorsCount:Math.max(o.length,a.length),themeTemplateParameters:this.activeTheme.getTemplateParameters(),takeColors(s){return t.colourIndex+=s,{fills:mI(o,s,r),strokes:mI(a,s,r)}}})}getSeriesGroupingOptions(n){const t=qHe(n.type),e=XHe(n.type),r=ZHe(n.type);n.grouped&&!t&&Oe.warnOnce(`unsupported grouping of series type "${n.type}".`),(n.stacked||n.stackGroup)&&!e&&Oe.warnOnce(`unsupported stacking of series type "${n.type}".`);let{grouped:i,stacked:o}=n;return o??(o=(r||n.stackGroup!=null)&&!(t&&i)),i??(i=!0),{stacked:e&&o,grouped:t&&i&&!(e&&o)}}setSeriesGroupingOptions(n){const t=this.getSeriesGrouping(n);Lr.create(!0,"opts")("setSeriesGroupingOptions() - series grouping: ",t);const e={},r=t.reduce((i,o)=>{var a,s;return o.groupType==="default"||((s=i[a=o.seriesType])!=null||(i[a]=0),i[o.seriesType]+=o.groupType==="stack"?1:o.series.length),i},{});return t.flatMap(i=>{var o,a;switch((a=e[o=i.seriesType])!=null||(e[o]=0),i.groupType){case"stack":const s=e[i.seriesType]++;return i.series.map((l,u)=>Object.assign(l,{seriesGrouping:{groupIndex:s,groupCount:r[i.seriesType],stackIndex:u,stackCount:i.series.length}}));case"group":return i.series.map(l=>Object.assign(l,{seriesGrouping:{groupIndex:e[i.seriesType]++,groupCount:r[i.seriesType],stackIndex:0,stackCount:0}}))}return i.series}).map(i=>{var o=i,a=yn(o,["stacked","grouped"]);return a})}getSeriesGroupId(n){var t;return!n.stacked&&!n.grouped?"default-ag-charts-group":[n.type,n.xKey,n.stacked?(t=n.stackGroup)!=null?t:"stacked":"grouped"].filter(Boolean).join("-")}getSeriesGrouping(n){const t=new Map;return n.reduce((e,r)=>{const i=r.type;if(!r.stacked&&!r.grouped)e.push({groupType:"default",seriesType:i,series:[r]});else{const o=this.getSeriesGroupId(r);if(!t.has(o)){const s={groupType:r.stacked?"stack":"group",seriesType:i,series:[]};t.set(o,s),e.push(s)}t.get(o).series.push(r)}return e},[])}getDefaultSeriesType(n){if(Ph(n))return"line";if(kV(n))return"treemap";if(Xw(n))return"pie";throw new Error("Invalid chart options type detected.")}getTooltipPositionDefaults(n){var t;const e=(t=n.tooltip)==null?void 0:t.position;if(!qa(e))return;const{type:r,xOffset:i,yOffset:o}=e,a={};return $a(r)&&SQ(rQ,r)&&(a.type=r),Gt(i)&&(a.xOffset=i),Gt(o)&&(a.yOffset=o),{tooltip:{position:a}}}deprecationWarnings(n){Object.entries({yKeys:"yKey",yNames:"yName"}).forEach(([e,r])=>{var i;(i=n.series)!=null&&i.some(o=>o[e]!=null)&&Oe.warnOnce(`Property [series.${e}] is deprecated, please use [series.${r}] and multiple series instead.`)})}axesTypeIntegrity(n){var t;if("axes"in n){const e=(t=n.axes)!=null?t:[];for(const{type:r}of e)HHe(r)||(delete n.axes,Oe.warnOnce(`unknown axis type: ${r}; expected one of: ${IV.axesTypes.join(", ")}, ignoring.`))}}seriesTypeIntegrity(n){var t;const e=(t=n.series)!=null?t:[];n.series=e.filter(({type:r})=>{if(r==null||BHe(r)||bQ(r))return!0;Oe.warnOnce(`unknown series type: ${r}; expected one of: ${Ga.seriesTypes.join(", ")}`)})}soloSeriesIntegrity(n){const t=n.series;if(t&&t.length>1&&t.some(e=>oM(e.type))){const e=this.optionsType(n);if(oM(e))Oe.warn(`series[0] of type '${e}' is incompatible with other series types. Only processing series[0]`),n.series=t.slice(0,1);else{const{solo:r,nonSolo:i}=$V(t,a=>oM(a.type)?"solo":"nonSolo"),o=jV(r.map(a=>a.type)).join(", ");Oe.warn(`Unable to mix these series types with the lead series type: ${o}`),n.series=i}}}enableConfiguredOptions(n){Il(this.userOptions,(t,e)=>{e&&"enabled"in e&&!e._enabledFromTheme&&t.enabled==null&&(e.enabled=!0)},{skip:["data","theme"]},n),Il(n,t=>{t._enabledFromTheme!=null&&delete t._enabledFromTheme},{skip:["data","theme"]})}removeDisabledOptions(n){Il(n,t=>{"enabled"in t&&t.enabled===!1&&Object.keys(t).forEach(e=>{e!=="enabled"&&delete t[e]})},{skip:["data","theme"]})}removeLeftoverSymbols(n){Il(n,t=>{if(!(!t||!Zl(t)))for(const[e,r]of Object.entries(t))wQ(r)&&delete t[e]},{skip:["data"]})}specialOverridesDefaults(n){if(n.window==null)if(typeof window<"u")n.window=window;else if(typeof global<"u")n.window=global.window;else throw new Error("AG Charts - unable to resolve global window");if(n.document==null)if(typeof document<"u")n.document=document;else if(typeof global<"u")n.document=global.document;else throw new Error("AG Charts - unable to resolve global document");return n}};function WV(){return(n,t)=>{const e=[`Property [${n}] is deprecated.`,t].filter(Boolean).join(" ");Oe.warnOnce(e)}}function lf(n,t){const e=WV(),r=t==null?void 0:t.default;return ic((i,o,a)=>(a!==r&&e(o.toString(),n),a))}function Nje(n,t){const e=WV();return ic((r,i,o)=>(o!==r[n]&&(e(i.toString(),`Use [${n}] instead.`),r[n]=t?t(o):o),TO),(r,i)=>(e(i.toString(),`Use [${n}] instead.`),r[n]))}var oJ={};hc(oJ,{NODE_UPDATE_PHASES:()=>SJ,NODE_UPDATE_STATE_TO_PHASE_MAPPING:()=>Oi,fromToMotion:()=>yr,staticFromToMotion:()=>iu});function SI(n,t){const e={};if(Array.isArray(t))for(let r=0;r<n.length;r++)e[`${n[r]}`]=t[r];else for(let r=0;r<n.length;r++)e[`${n[r]}`]=t;return e}var wI=new Map;function aJ(){wI.clear()}function nu(n){var t;const e=n.constructor,r=Object.hasOwn(e,"className")?e.className:e.name;if(!r)throw new Error(`The ${e} is missing the 'className' property.`);const i=((t=wI.get(r))!=null?t:0)+1;return wI.set(r,i),`${r}-${i}`}var Qc=(n=>(n[n.NONE=0]="NONE",n[n.TRIVIAL=1]="TRIVIAL",n[n.MINOR=2]="MINOR",n[n.MAJOR=3]="MAJOR",n))(Qc||{});function kje(){try{return new Function("return true"),!0}catch{return!1}}var Gje=kje();function Pe(n){const{changeCb:t,convertor:e}=n??{};return function(r,i){const o=`__${i}`;r[i]||(Gje&&t==null&&e==null?Vje(r,i,o,n):Bje(r,i,o,n))}}function Vje(n,t,e,r){const{redraw:i=1,type:o="normal",checkDirtyOnAssignment:a=!1}=r??{},s=new Function("value",`
        const oldValue = this.${e};
        if (value !== oldValue) {
            this.${e} = value;
            ${o==="normal"?`this.markDirty(this, ${i});`:""}
            ${o==="transform"?`this.markDirtyTransform(${i});`:""}
            ${o==="path"?`if (!this._dirtyPath) { this._dirtyPath = true; this.markDirty(this, ${i}); }`:""}
            ${o==="font"?`if (!this._dirtyFont) { this._dirtyFont = true; this.markDirty(this, ${i}); }`:""}
        }
        ${a?"if (value != null && value._dirty > 0) { this.markDirty(value, value._dirty); }":""}
`),l=new Function(`return this.${e};`);Object.defineProperty(n,t,{set:s,get:l,enumerable:!0,configurable:!0})}function Bje(n,t,e,r){const{redraw:i=1,type:o="normal",changeCb:a,convertor:s,checkDirtyOnAssignment:l=!1}=r??{};Object.defineProperty(n,t,{set:function(d){const p=this[e];d=s?s(d):d,d!==p&&(this[e]=d,o==="normal"&&this.markDirty(this,i),o==="transform"&&this.markDirtyTransform(i),o==="path"&&!this._dirtyPath&&(this._dirtyPath=!0,this.markDirty(this,i)),o==="font"&&!this._dirtyFont&&(this._dirtyFont=!0,this.markDirty(this,i)),a&&a(this)),l&&d!=null&&d._dirty>0&&this.markDirty(d,d._dirty)},get:function(){return this[e]},enumerable:!0,configurable:!0})}var Hje=class{constructor(){this._dirty=3}markDirty(n,t=1){this._dirty<t&&(this._dirty=t)}markClean(n){this._dirty=0}isDirty(){return this._dirty>0}};function Lt(n,t,e){return Math.min(e,Math.max(n,t))}function MO(n,t){const[e,r]=oc(t);return Lt(e,n,r)}function oc(n){return n.length?[Math.min(...n),Math.max(...n)]:[]}function bg(n){const[t,e]=oc(n);return e-t}function Dh(n,t,e=1e-10){return Math.abs(n-t)<e}function Jw(n){return Math.sign(n)===-1||Object.is(n,-0)}function UV(n,t=2){const e=pt(10,t);return Math.round(n*e)/e}function rP(n,t=2){const e=Math.floor(Math.log(Math.abs(n))/Math.LN10);return e>=0||!isFinite(e)?n.toFixed(t):n.toFixed(Math.abs(e)-1+t)}function nP(n,t){return Math.floor(n%t+(n<0?t:0))}function zV(n,t=10){const[,e=""]=(Math.abs(n)%1).toLocaleString("en-GB",{minimumFractionDigits:0,maximumFractionDigits:t}).split(".");return e.length}function sJ(n,t,e=1/0){const r={nearest:void 0,distanceSquared:e};for(const i of t){const o=i.distanceSquared(n);if(o===0)return{nearest:i,distanceSquared:0};o<r.distanceSquared&&(r.nearest=i,r.distanceSquared=o)}return r}function jje(n,t,e=1/0){const r=t.transformPoint(n.x,n.y),i={nearest:void 0,distanceSquared:e};for(const o of t.children){const{nearest:a,distanceSquared:s}=o.nearestSquared(r,i.distanceSquared);if(s===0)return{nearest:a,distanceSquared:s};s<i.distanceSquared&&(i.nearest=a,i.distanceSquared=s)}return i}var _I=class xI{constructor(t,e,r,i){this.x=t,this.y=e,this.width=r,this.height=i}clone(){const{x:t,y:e,width:r,height:i}=this;return new xI(t,e,r,i)}equals(t){return this.x===t.x&&this.y===t.y&&this.width===t.width&&this.height===t.height}containsPoint(t,e){return t>=this.x&&t<=this.x+this.width&&e>=this.y&&e<=this.y+this.height}collidesBBox(t){return this.x<t.x+t.width&&this.x+this.width>t.x&&this.y<t.y+t.height&&this.y+this.height>t.y}isInfinite(){return Math.abs(this.x)===1/0||Math.abs(this.y)===1/0||Math.abs(this.width)===1/0||Math.abs(this.height)===1/0}distanceSquared(t){if(this.containsPoint(t.x,t.y))return 0;const e=t.x-Lt(this.x,t.x,this.x+this.width),r=t.y-Lt(this.y,t.y,this.y+this.height);return e*e+r*r}static nearestBox(t,e){return sJ(t,e)}shrink(t,e){const r=(i,o)=>{switch(i){case"top":this.y+=o;case"bottom":this.height-=o;break;case"left":this.x+=o;case"right":this.width-=o;break;case"vertical":this.y+=o,this.height-=o*2;break;case"horizontal":this.x+=o,this.width-=o*2;break;case void 0:this.x+=o,this.width-=o*2,this.y+=o,this.height-=o*2;break}};return typeof t=="number"?r(e,t):typeof t=="object"&&Object.entries(t).forEach(([i,o])=>r(i,o)),this}grow(t,e){if(typeof t=="number")this.shrink(-t,e);else{const r=te({},t);for(const i in r)r[i]*=-1;this.shrink(r)}return this}static merge(t){let e=1/0,r=1/0,i=-1/0,o=-1/0;return t.forEach(a=>{a.x<e&&(e=a.x),a.y<r&&(r=a.y),a.x+a.width>i&&(i=a.x+a.width),a.y+a.height>o&&(o=a.y+a.height)}),new xI(e,r,i-e,o-r)}};_I.zero=new _I(0,0,0,0);var et=_I,EI=class tC{get e(){return[...this.elements]}constructor(t=[1,0,0,1,0,0]){this.elements=t}setElements(t){const e=this.elements;return e[0]=t[0],e[1]=t[1],e[2]=t[2],e[3]=t[3],e[4]=t[4],e[5]=t[5],this}get identity(){const t=this.elements;return t[0]===1&&t[1]===0&&t[2]===0&&t[3]===1&&t[4]===0&&t[5]===0}AxB(t,e,r){const i=t[0]*e[0]+t[2]*e[1],o=t[1]*e[0]+t[3]*e[1],a=t[0]*e[2]+t[2]*e[3],s=t[1]*e[2]+t[3]*e[3],l=t[0]*e[4]+t[2]*e[5]+t[4],u=t[1]*e[4]+t[3]*e[5]+t[5];r=r??t,r[0]=i,r[1]=o,r[2]=a,r[3]=s,r[4]=l,r[5]=u}multiplySelf(t){return this.AxB(this.elements,t.elements),this}multiply(t){const e=new Array(6);return this.AxB(this.elements,t.elements,e),new tC(e)}preMultiplySelf(t){return this.AxB(t.elements,this.elements,this.elements),this}inverse(){const t=this.elements;let e=t[0],r=t[1],i=t[2],o=t[3];const a=t[4],s=t[5],l=1/(e*o-r*i);return e*=l,r*=l,i*=l,o*=l,new tC([o,-r,-i,e,i*s-o*a,r*a-e*s])}inverseTo(t){const e=this.elements;let r=e[0],i=e[1],o=e[2],a=e[3];const s=e[4],l=e[5],u=1/(r*a-i*o);return r*=u,i*=u,o*=u,a*=u,t.setElements([a,-i,-o,r,o*l-a*s,i*s-r*l]),this}invertSelf(){const t=this.elements;let e=t[0],r=t[1],i=t[2],o=t[3];const a=t[4],s=t[5],l=1/(e*o-r*i);return e*=l,r*=l,i*=l,o*=l,t[0]=o,t[1]=-r,t[2]=-i,t[3]=e,t[4]=i*s-o*a,t[5]=r*a-e*s,this}transformPoint(t,e){const r=this.elements;return{x:t*r[0]+e*r[2]+r[4],y:t*r[1]+e*r[3]+r[5]}}transformBBox(t,e){const r=this.elements,i=r[0],o=r[1],a=r[2],s=r[3],l=t.width*.5,u=t.height*.5,c=t.x+l,d=t.y+u,p=Math.abs(l*i)+Math.abs(u*a),h=Math.abs(l*o)+Math.abs(u*s);return e||(e=new et(0,0,0,0)),e.x=c*i+d*a+r[4]-p,e.y=c*o+d*s+r[5]-h,e.width=p+p,e.height=h+h,e}toContext(t){if(this.identity)return;const e=this.elements;t.transform(e[0],e[1],e[2],e[3],e[4],e[5])}static flyweight(t){return tC.instance.setElements(t.elements)}static updateTransformMatrix(t,e,r,i,o,a,s){const[l,u]=[0,0],c=e,d=r;let p,h;c===1&&d===1?(p=0,h=0):(p=(s==null?void 0:s.scalingCenterX)==null?l:s==null?void 0:s.scalingCenterX,h=(s==null?void 0:s.scalingCenterY)==null?u:s==null?void 0:s.scalingCenterY);const f=i,v=Math.cos(f),g=Math.sin(f);let y,m;f===0?(y=0,m=0):(y=(s==null?void 0:s.rotationCenterX)==null?l:s==null?void 0:s.rotationCenterX,m=(s==null?void 0:s.rotationCenterY)==null?u:s==null?void 0:s.rotationCenterY);const C=o,S=a,w=p*(1-c)-y,_=h*(1-d)-m;return t.setElements([v*c,g*c,-g*d,v*d,v*w-g*_+y+C,g*w+v*_+m+S]),t}static fromContext(t){const e=t.getTransform();return new tC([e.a,e.b,e.c,e.d,e.e,e.f])}};EI.instance=new EI;var _s=EI,lJ=(n=>(n[n.All=0]="All",n[n.None=1]="None",n))(lJ||{}),uJ=n=>{n.parent&&(n.parent.dirtyZIndex=!0),n.zIndexChanged()},yo=class cJ extends Hje{constructor({isVirtual:t,tag:e}={}){super(),this.serialNumber=cJ._nextSerialNumber++,this.id=nu(this),this.isContainerNode=!1,this._virtualChildren=[],this._children=[],this.childSet={},this.matrix=new _s,this.inverseMatrix=new _s,this.dirtyTransform=!1,this.scalingX=1,this.scalingY=1,this.scalingCenterX=null,this.scalingCenterY=null,this.rotationCenterX=null,this.rotationCenterY=null,this.rotation=0,this.translationX=0,this.translationY=0,this.visible=!0,this.dirtyZIndex=!1,this.zIndex=0,this.zIndexSubOrder=void 0,this.pointerEvents=0,this.isVirtual=t??!1,this.tag=e??NaN}get datum(){var t,e;return(e=this._datum)!=null?e:(t=this._parent)==null?void 0:t.datum}get previousDatum(){return this._previousDatum}set datum(t){this._datum!==t&&(this._previousDatum=this._datum),this._datum=t}_setLayerManager(t){this._layerManager=t,this._debug=t==null?void 0:t.debug;for(const e of this._children)e._setLayerManager(t);for(const e of this._virtualChildren)e._setLayerManager(t)}get layerManager(){return this._layerManager}get parent(){return this._parent}get children(){if(this._virtualChildren.length===0)return this._children;const t=[...this._children];for(const e of this._virtualChildren)t.push(...e.children);return t}get virtualChildren(){return this._virtualChildren}hasVirtualChildren(){return this._virtualChildren.length>0}setProperties(t,e){const r=e??Object.keys(t);for(const i of r)this[i]=t[i];return this}append(t){Array.isArray(t)||(t=[t]);for(const e of t){if(e.parent)throw new Error(`${e} already belongs to another parent: ${e.parent}.`);if(e.layerManager)throw new Error(`${e} already belongs to a scene: ${e.layerManager}.`);if(this.childSet[e.id])throw new Error(`Duplicate ${e.constructor.name} node: ${e}`);e.isVirtual?this._virtualChildren.push(e):this._children.push(e),this.childSet[e.id]=!0,e._parent=this,e._setLayerManager(this.layerManager)}this.dirtyZIndex=!0,this.markDirty(this,3)}appendChild(t){return this.append(t),t}removeChild(t){const e=()=>{throw new Error("The node to be removed is not a child of this node.")};if(t.parent!==this&&e(),t.isVirtual){const r=this._virtualChildren.indexOf(t);r<0&&e(),this._virtualChildren.splice(r,1)}else{const r=this._children.indexOf(t);r<0&&e(),this._children.splice(r,1)}return delete this.childSet[t.id],t._parent=void 0,t._setLayerManager(),this.dirtyZIndex=!0,this.markDirty(t,3),t}calculateCumulativeMatrix(){this.computeTransformMatrix();const t=_s.flyweight(this.matrix);let e=this.parent;for(;e;)e.computeTransformMatrix(),t.preMultiplySelf(e.matrix),e=e.parent;return t}transformPoint(t,e){return this.calculateCumulativeMatrix().invertSelf().transformPoint(t,e)}inverseTransformPoint(t,e){return this.calculateCumulativeMatrix().transformPoint(t,e)}transformBBox(t){return this.calculateCumulativeMatrix().invertSelf().transformBBox(t)}inverseTransformBBox(t){return this.calculateCumulativeMatrix().transformBBox(t)}markDirtyTransform(){this.dirtyTransform=!0,this.markDirty(this,3)}containsPoint(t,e){return!1}pickNode(t,e){var r;if(!this.visible||this.pointerEvents===1||!this.containsPoint(t,e))return;const i=this.children;if(i.length>1e3)for(let o=i.length-1;o>=0;o--){const a=i[o],l=((r=a.computeTransformedBBox())==null?void 0:r.containsPoint(t,e))?a.pickNode(t,e):void 0;if(l)return l}else if(i.length)for(let o=i.length-1;o>=0;o--){const a=i[o].pickNode(t,e);if(a)return a}else if(!this.isContainerNode)return this}findNodes(t){const e=t(this)?[this]:[];for(const r of this.children){const i=r.findNodes(t);i&&e.push(...i)}return e}computeBBox(){}computeTransformedBBox(){const t=this.computeBBox();if(!t)return;this.computeTransformMatrix();const e=_s.flyweight(this.matrix);let r=this.parent;for(;r;)r.computeTransformMatrix(),e.preMultiplySelf(r.matrix),r=r.parent;return e.transformBBox(t,t),t}computeTransformMatrix(){if(!this.dirtyTransform)return;const{matrix:t,scalingX:e,scalingY:r,rotation:i,translationX:o,translationY:a,scalingCenterX:s,scalingCenterY:l,rotationCenterX:u,rotationCenterY:c}=this;_s.updateTransformMatrix(t,e,r,i,o,a,{scalingCenterX:s,scalingCenterY:l,rotationCenterX:u,rotationCenterY:c}),t.inverseTo(this.inverseMatrix),this.dirtyTransform=!1}render(t){const{stats:e}=t;this._dirty=0,e&&e.nodesRendered++}clearBBox(t){const e=this.computeBBox();if(e==null)return;const{x:r,y:i,width:o,height:a}=e,s=this.transformPoint(r,i),l=this.transformPoint(r+o,i+a);t.clearRect(s.x,s.y,l.x-s.x,l.y-s.y)}markDirty(t,e=1,r=e){this._dirty>e||this._dirty===e&&e===r||(this._dirty=e,this.parent?this.parent.markDirty(this,r):this.layerManager&&this.layerManager.markDirty())}get dirty(){return this._dirty}markClean(t){const{force:e=!1,recursive:r=!0}=t??{};if(!(this._dirty===0&&!e)){if(this._dirty=0,r!==!1)for(const i of this._virtualChildren)i.markClean({force:e});if(r===!0)for(const i of this._children)i.markClean({force:e})}}visibilityChanged(){}get nodeCount(){let t=1,e=this._dirty>=0||this.dirtyTransform?1:0,r=this.visible?1:0;const i=o=>{const{count:a,visibleCount:s,dirtyCount:l}=o.nodeCount;t+=a,r+=s,e+=l};for(const o of this._children)i(o);for(const o of this._virtualChildren)i(o);return{count:t,visibleCount:r,dirtyCount:e}}zIndexChanged(){}};yo._nextSerialNumber=0;R([Pe({type:"transform"})],yo.prototype,"scalingX",2);R([Pe({type:"transform"})],yo.prototype,"scalingY",2);R([Pe({type:"transform"})],yo.prototype,"scalingCenterX",2);R([Pe({type:"transform"})],yo.prototype,"scalingCenterY",2);R([Pe({type:"transform"})],yo.prototype,"rotationCenterX",2);R([Pe({type:"transform"})],yo.prototype,"rotationCenterY",2);R([Pe({type:"transform"})],yo.prototype,"rotation",2);R([Pe({type:"transform"})],yo.prototype,"translationX",2);R([Pe({type:"transform"})],yo.prototype,"translationY",2);R([Pe({redraw:3,changeCb:n=>n.visibilityChanged()})],yo.prototype,"visible",2);R([Pe({redraw:1,changeCb:uJ})],yo.prototype,"zIndex",2);R([Pe({redraw:1,changeCb:uJ})],yo.prototype,"zIndexSubOrder",2);var Xg=yo,uM=n=>{const t=n<0?-1:1,e=Math.abs(n);return e<=.04045?n/12.92:t*pt((e+.055)/1.055,2.4)},cM=n=>{const t=n<0?-1:1,e=Math.abs(n);return e>.0031308?t*(1.055*pt(e,1/2.4)-.055):12.92*n},KV=class Tt{constructor(t,e,r,i=1){this.r=Lt(0,t||0,1),this.g=Lt(0,e||0,1),this.b=Lt(0,r||0,1),this.a=Lt(0,i||0,1)}static validColorString(t){return t.indexOf("#")>=0?!!Tt.parseHex(t):t.indexOf("rgb")>=0?!!Tt.stringToRgba(t):!!Tt.nameToHex[t.toLowerCase()]}static fromString(t){if(t.indexOf("#")>=0)return Tt.fromHexString(t);const e=Tt.nameToHex[t.toLowerCase()];if(e)return Tt.fromHexString(e);if(t.indexOf("rgb")>=0)return Tt.fromRgbaString(t);throw new Error(`Invalid color string: '${t}'`)}static tryParseFromString(t){try{return Tt.fromString(t)}catch{return Oe.warnOnce(`invalid color string: '${t}'.`),Tt.fromArray([0,0,0])}}static parseHex(t){t=t.replace(/ /g,"").slice(1);let e;switch(t.length){case 6:case 8:e=[];for(let r=0;r<t.length;r+=2)e.push(parseInt(`${t[r]}${t[r+1]}`,16));break;case 3:case 4:e=t.split("").map(r=>parseInt(r,16)).map(r=>r+r*16);break}if((e==null?void 0:e.length)>=3&&e.every(r=>r>=0))return e.length===3&&e.push(255),e}static fromHexString(t){const e=Tt.parseHex(t);if(e){const[r,i,o,a]=e;return new Tt(r/255,i/255,o/255,a/255)}throw new Error(`Malformed hexadecimal color string: '${t}'`)}static stringToRgba(t){let[e,r]=[NaN,NaN];for(let s=0;s<t.length;s++){const l=t[s];if(!e&&l==="(")e=s;else if(l===")"){r=s;break}}const i=e&&r&&t.substring(e+1,r);if(!i)return;const o=i.split(","),a=[];for(let s=0;s<o.length;s++){const l=o[s];let u=parseFloat(l);if(isNaN(u))return;l.indexOf("%")>=0?(u=Lt(0,u,100),u/=100):s===3?u=Lt(0,u,1):(u=Lt(0,u,255),u/=255),a.push(u)}return a}static fromRgbaString(t){const e=Tt.stringToRgba(t);if(e){if(e.length===3)return new Tt(e[0],e[1],e[2]);if(e.length===4)return new Tt(e[0],e[1],e[2],e[3])}throw new Error(`Malformed rgb/rgba color string: '${t}'`)}static fromArray(t){if(t.length===4)return new Tt(t[0],t[1],t[2],t[3]);if(t.length===3)return new Tt(t[0],t[1],t[2]);throw new Error("The given array should contain 3 or 4 color components (numbers).")}static fromHSB(t,e,r,i=1){const o=Tt.HSBtoRGB(t,e,r);return new Tt(o[0],o[1],o[2],i)}static fromHSL(t,e,r,i=1){const o=Tt.HSLtoRGB(t,e,r);return new Tt(o[0],o[1],o[2],i)}static fromOKLCH(t,e,r,i=1){const o=Tt.OKLCHtoRGB(t,e,r);return new Tt(o[0],o[1],o[2],i)}static padHex(t){return t.length===1?"0"+t:t}toHexString(){let t="#"+Tt.padHex(Math.round(this.r*255).toString(16))+Tt.padHex(Math.round(this.g*255).toString(16))+Tt.padHex(Math.round(this.b*255).toString(16));return this.a<1&&(t+=Tt.padHex(Math.round(this.a*255).toString(16))),t}toRgbaString(t=3){const e=[Math.round(this.r*255),Math.round(this.g*255),Math.round(this.b*255)],r=Math.pow(10,t);return this.a!==1?(e.push(Math.round(this.a*r)/r),`rgba(${e.join(", ")})`):`rgb(${e.join(", ")})`}toString(){return this.a===1?this.toHexString():this.toRgbaString()}toHSB(){return Tt.RGBtoHSB(this.r,this.g,this.b)}static RGBtoOKLCH(t,e,r){const i=uM(t),o=uM(e),a=uM(r),s=Math.cbrt(.4122214708*i+.5363325363*o+.0514459929*a),l=Math.cbrt(.2119034982*i+.6806995451*o+.1073969566*a),u=Math.cbrt(.0883024619*i+.2817188376*o+.6299787005*a),c=.2104542553*s+.793617785*l-.0040720468*u,d=1.9779984951*s-2.428592205*l+.4505937099*u,p=.0259040371*s+.7827717662*l-.808675766*u,h=Math.atan2(p,d)*180/Math.PI,f=c,v=Math.hypot(d,p),g=h>=0?h:h+360;return[f,v,g]}static OKLCHtoRGB(t,e,r){const i=t,o=e*Math.cos(r*Math.PI/180),a=e*Math.sin(r*Math.PI/180),s=pt(i+.3963377774*o+.2158037573*a,3),l=pt(i-.1055613458*o-.0638541728*a,3),u=pt(i-.0894841775*o-1.291485548*a,3),c=4.0767416621*s-3.3077115913*l+.2309699292*u,d=-1.2684380046*s+2.6097574011*l-.3413193965*u,p=-.0041960863*s-.7034186147*l+1.707614701*u,h=cM(c),f=cM(d),v=cM(p);return[h,f,v]}static RGBtoHSL(t,e,r){const i=Math.min(t,e,r),o=Math.max(t,e,r),a=(o+i)/2;let s,l;if(o===i)s=NaN,l=0;else{const u=o-i;l=a>.5?u/(2-o-i):u/(o+i),o===t?s=(e-r)/u+(e<r?6:0):o===e?s=(r-t)/u+2:s=(t-e)/u+4,s*=360/6}return[s,l,a]}static HSLtoRGB(t,e,r){if(e===0)return[r,r,r];const i=r<.5?r*(1+e):r+e-r*e,o=2*r-i;function a(c){return c<0&&(c+=1),c>1&&(c-=1),c<1/6?o+(i-o)*6*c:c<1/2?i:c<2/3?o+(i-o)*(2/3-c)*6:o}const s=a(t/360+1/3),l=a(t/360),u=a(t/360-1/3);return[s,l,u]}static RGBtoHSB(t,e,r){const i=Math.min(t,e,r),o=Math.max(t,e,r),a=o!==0?(o-i)/o:0;let s=NaN;if(i!==o){const l=o-i,u=(o-t)/l,c=(o-e)/l,d=(o-r)/l;t===o?s=d-c:e===o?s=2+u-d:s=4+c-u,s/=6,s<0&&(s=s+1)}return[s*360,a,o]}static HSBtoRGB(t,e,r){isNaN(t)&&(t=0),t=(t%360+360)%360/360;let i=0,o=0,a=0;if(e===0)i=o=a=r;else{const s=(t-Math.floor(t))*6,l=s-Math.floor(s),u=r*(1-e),c=r*(1-e*l),d=r*(1-e*(1-l));switch(s>>0){case 0:i=r,o=d,a=u;break;case 1:i=c,o=r,a=u;break;case 2:i=u,o=r,a=d;break;case 3:i=u,o=c,a=r;break;case 4:i=d,o=u,a=r;break;case 5:i=r,o=u,a=c;break}}return[i,o,a]}derive(t,e,r,i){const o=Tt.RGBtoHSB(this.r,this.g,this.b);let a=o[2];a==0&&r>1&&(a=.05);const s=((o[0]+t)%360+360)%360,l=Lt(0,o[1]*e,1);a=Lt(0,a*r,1);const u=Lt(0,this.a*i,1),c=Tt.HSBtoRGB(s,l,a);return c.push(u),Tt.fromArray(c)}brighter(){return this.derive(0,1,1/.7,1)}darker(){return this.derive(0,1,.7,1)}static interpolate(t,e){const r=Tt.tryParseFromString(t),i=Tt.tryParseFromString(e);return o=>{const a=(l,u)=>l*(1-o)+u*o;return new Tt(a(r.r,i.r),a(r.g,i.g),a(r.b,i.b),a(r.a,i.a)).toString()}}};KV.didDebug=!1;KV.nameToHex=Object.freeze({aliceblue:"#F0F8FF",antiquewhite:"#FAEBD7",aqua:"#00FFFF",aquamarine:"#7FFFD4",azure:"#F0FFFF",beige:"#F5F5DC",bisque:"#FFE4C4",black:"#000000",blanchedalmond:"#FFEBCD",blue:"#0000FF",blueviolet:"#8A2BE2",brown:"#A52A2A",burlywood:"#DEB887",cadetblue:"#5F9EA0",chartreuse:"#7FFF00",chocolate:"#D2691E",coral:"#FF7F50",cornflowerblue:"#6495ED",cornsilk:"#FFF8DC",crimson:"#DC143C",cyan:"#00FFFF",darkblue:"#00008B",darkcyan:"#008B8B",darkgoldenrod:"#B8860B",darkgray:"#A9A9A9",darkgreen:"#006400",darkgrey:"#A9A9A9",darkkhaki:"#BDB76B",darkmagenta:"#8B008B",darkolivegreen:"#556B2F",darkorange:"#FF8C00",darkorchid:"#9932CC",darkred:"#8B0000",darksalmon:"#E9967A",darkseagreen:"#8FBC8F",darkslateblue:"#483D8B",darkslategray:"#2F4F4F",darkslategrey:"#2F4F4F",darkturquoise:"#00CED1",darkviolet:"#9400D3",deeppink:"#FF1493",deepskyblue:"#00BFFF",dimgray:"#696969",dimgrey:"#696969",dodgerblue:"#1E90FF",firebrick:"#B22222",floralwhite:"#FFFAF0",forestgreen:"#228B22",fuchsia:"#FF00FF",gainsboro:"#DCDCDC",ghostwhite:"#F8F8FF",gold:"#FFD700",goldenrod:"#DAA520",gray:"#808080",green:"#008000",greenyellow:"#ADFF2F",grey:"#808080",honeydew:"#F0FFF0",hotpink:"#FF69B4",indianred:"#CD5C5C",indigo:"#4B0082",ivory:"#FFFFF0",khaki:"#F0E68C",lavender:"#E6E6FA",lavenderblush:"#FFF0F5",lawngreen:"#7CFC00",lemonchiffon:"#FFFACD",lightblue:"#ADD8E6",lightcoral:"#F08080",lightcyan:"#E0FFFF",lightgoldenrodyellow:"#FAFAD2",lightgray:"#D3D3D3",lightgreen:"#90EE90",lightgrey:"#D3D3D3",lightpink:"#FFB6C1",lightsalmon:"#FFA07A",lightseagreen:"#20B2AA",lightskyblue:"#87CEFA",lightslategray:"#778899",lightslategrey:"#778899",lightsteelblue:"#B0C4DE",lightyellow:"#FFFFE0",lime:"#00FF00",limegreen:"#32CD32",linen:"#FAF0E6",magenta:"#FF00FF",maroon:"#800000",mediumaquamarine:"#66CDAA",mediumblue:"#0000CD",mediumorchid:"#BA55D3",mediumpurple:"#9370DB",mediumseagreen:"#3CB371",mediumslateblue:"#7B68EE",mediumspringgreen:"#00FA9A",mediumturquoise:"#48D1CC",mediumvioletred:"#C71585",midnightblue:"#191970",mintcream:"#F5FFFA",mistyrose:"#FFE4E1",moccasin:"#FFE4B5",navajowhite:"#FFDEAD",navy:"#000080",oldlace:"#FDF5E6",olive:"#808000",olivedrab:"#6B8E23",orange:"#FFA500",orangered:"#FF4500",orchid:"#DA70D6",palegoldenrod:"#EEE8AA",palegreen:"#98FB98",paleturquoise:"#AFEEEE",palevioletred:"#DB7093",papayawhip:"#FFEFD5",peachpuff:"#FFDAB9",peru:"#CD853F",pink:"#FFC0CB",plum:"#DDA0DD",powderblue:"#B0E0E6",purple:"#800080",rebeccapurple:"#663399",red:"#FF0000",rosybrown:"#BC8F8F",royalblue:"#4169E1",saddlebrown:"#8B4513",salmon:"#FA8072",sandybrown:"#F4A460",seagreen:"#2E8B57",seashell:"#FFF5EE",sienna:"#A0522D",silver:"#C0C0C0",skyblue:"#87CEEB",slateblue:"#6A5ACD",slategray:"#708090",slategrey:"#708090",snow:"#FFFAFA",springgreen:"#00FF7F",steelblue:"#4682B4",tan:"#D2B48C",teal:"#008080",thistle:"#D8BFD8",tomato:"#FF6347",transparent:"#00000000",turquoise:"#40E0D0",violet:"#EE82EE",wheat:"#F5DEB3",white:"#FFFFFF",whitesmoke:"#F5F5F5",yellow:"#FFFF00",yellowgreen:"#9ACD32"});var Al=KV;function rC(n,t){return e=>Number(n)*(1-e)+Number(t)*e}function $je(n,t){if(typeof n=="string")try{n=Al.fromString(n)}catch{n=Al.fromArray([0,0,0])}if(typeof t=="string")try{t=Al.fromString(t)}catch{t=Al.fromArray([0,0,0])}const e=rC(n.r,t.r),r=rC(n.g,t.g),i=rC(n.b,t.b),o=rC(n.a,t.a);return a=>Al.fromArray([e(a),r(a),i(a),o(a)]).toRgbaString()}var YV={};hc(YV,{easeIn:()=>Wje,easeInOut:()=>Uje,easeInOutQuad:()=>Yje,easeInQuad:()=>zje,easeOut:()=>WS,easeOutQuad:()=>Kje,inverseEaseOut:()=>pJ,linear:()=>dJ});var dJ=n=>n,Wje=n=>1-Math.cos(n*Math.PI/2),WS=n=>Math.sin(n*Math.PI/2),Uje=n=>-(Math.cos(n*Math.PI)-1)/2,zje=n=>n*n,Kje=n=>1-pt(1-n,2),Yje=n=>n<.5?2*n*n:1-pt(-2*n+2,2)/2,pJ=n=>2*Math.asin(n)/Math.PI,iP=.2,hJ={animationDuration:1,animationDelay:0},fJ={animationDuration:.25,animationDelay:0},vJ={animationDuration:.5,animationDelay:.25},XV={animationDuration:.25,animationDelay:.75},gJ={animationDuration:iP,animationDelay:1},Yp=["initial","remove","update","add","trailing","end"],yJ={initial:hJ,add:XV,remove:fJ,update:vJ,trailing:gJ,end:{animationDelay:1+iP,animationDuration:0}},mJ=(n=>(n.Loop="loop",n.Reverse="reverse",n))(mJ||{});function Xje(n){return n.every(t=>t instanceof Xg)}function oP(n){return Xje(n)?{nodes:n,selections:[]}:{nodes:[],selections:n}}var CJ=class{constructor(n){this.isComplete=!1,this.elapsed=0,this.iteration=0,this.isPlaying=!1,this.isReverse=!1;var t,e,r,i,o,a,s,l;this.id=n.id,this.groupId=n.groupId,this.autoplay=(t=n.autoplay)!=null?t:!0,this.ease=(e=n.ease)!=null?e:dJ,this.phase=n.phase;const u=(r=n.duration)!=null?r:yJ[this.phase].animationDuration;this.duration=u*n.defaultDuration,this.delay=((i=n.delay)!=null?i:0)*n.defaultDuration,this.onComplete=n.onComplete,this.onPlay=n.onPlay,this.onStop=n.onStop,this.onUpdate=n.onUpdate,this.interpolate=this.createInterpolator(n.from,n.to),n.skip===!0?((o=this.onUpdate)==null||o.call(this,n.to,!1,this),(a=this.onStop)==null||a.call(this,this),(s=this.onComplete)==null||s.call(this,this),this.isComplete=!0):this.autoplay&&(this.play(),(l=this.onUpdate)==null||l.call(this,n.from,!0,this)),n.collapsable!==!1&&(this.duration=this.checkCollapse(n,this.duration))}checkCollapse(n,t){let e=n.from===n.to;return e||(e=typeof n.from=="object"&&sa(n.from,n.to)==null),e?0:t}play(){var n;!this.isPlaying&&!this.isComplete&&(this.isPlaying=!0,(n=this.onPlay)==null||n.call(this,this))}pause(){this.isPlaying&&(this.isPlaying=!1)}stop(){var n;this.isPlaying&&(this.isPlaying=!1,this.isComplete=!0,(n=this.onStop)==null||n.call(this,this))}update(n){var t,e;const r=this.elapsed;if(this.elapsed+=n,this.delay>this.elapsed)return 0;const i=this.interpolate(this.isReverse?1-this.delta:this.delta);(t=this.onUpdate)==null||t.call(this,i,!1,this);const o=this.delay+this.duration;return this.elapsed>=o?(this.stop(),this.isComplete=!0,(e=this.onComplete)==null||e.call(this,this),n-(o-r)):0}get delta(){return this.ease(Lt(0,(this.elapsed-this.delay)/this.duration,1))}createInterpolator(n,t){if(typeof t!="object")return this.interpolateValue(n,t);const e=[];for(const r in t){const i=this.interpolateValue(n[r],t[r]);i!=null&&e.push([r,i])}return r=>{const i={};for(const[o,a]of e)i[o]=a(r);return i}}interpolateValue(n,t){if(!(n===void 0||t===void 0)){try{switch(typeof n){case"number":return rC(n,t);case"string":return $je(n,t)}}catch{}throw new Error(`Unable to interpolate values: ${n}, ${t}`)}}},SJ=["removed","updated","added"],Oi={added:"add",updated:"update",removed:"remove",unknown:"initial"};function yr(n,t,e,r,i,o,a){const{fromFn:s,toFn:l,intermediateFn:u}=i,{nodes:c,selections:d}=oP(r),p={added:{},removed:{}};o&&a&&(p.added=SI(a.added,!0),p.removed=SI(a.removed,!0));const h=(v,g)=>{var y;let m,C=0,S=0;for(const w of g){const _=v[C]===w,x={last:S>=g.length-1,lastLive:C>=v.length-1,prev:g[S-1],prevFromProps:m,prevLive:v[C-1],next:g[S+1],nextLive:v[C+(_?1:0)]},b=`${n}_${t}_${w.id}`;e.stopByAnimationId(b);let O="unknown";_?o&&a&&(O=qje(w,w.datum,o,p)):O="removed";const T=s(w,w.datum,O,x),{phase:A,start:N,finish:M,delay:L,duration:G}=T,H=yn(T,["phase","start","finish","delay","duration"]),j=l(w,w.datum,O,x),{phase:V,start:W,finish:K,delay:ee,duration:Z}=j,se=yn(j,["phase","start","finish","delay","duration"]),ie=M==null&&K==null;e.animate({id:b,groupId:n,phase:(y=A??V)!=null?y:"update",duration:G??Z,delay:L??ee,from:H,to:se,ease:WS,collapsable:ie,onPlay:()=>{w.setProperties(te(te({},N),W))},onUpdate(re){w.setProperties(re),u&&w.setProperties(u(w,w.datum,O,x))},onStop:()=>{w.setProperties(te(te(te({},se),M),K))}}),_&&C++,S++,m=H}};let f=0;for(const v of d){const g=v.nodes(),y=g.filter(m=>!v.isGarbage(m));h(y,g),e.animate({id:`${n}_${t}_selection_${f}`,groupId:n,phase:"end",from:0,to:1,ease:WS,onStop(){v.cleanup()}}),f++}h(c,c)}function iu(n,t,e,r,i,o,a){const{nodes:s,selections:l}=oP(r),{start:u={},finish:c,phase:d}=a,p=c==null;e.animate({id:`${n}_${t}`,groupId:n,phase:d??"update",from:i,to:o,ease:WS,collapsable:p,onPlay:()=>{for(const h of s)h.setProperties(u);for(const h of l)for(const f of h.nodes())f.setProperties(u)},onUpdate(h){for(const f of s)f.setProperties(h);for(const f of l)for(const v of f.nodes())v.setProperties(h)},onStop:()=>{for(const h of s)h.setProperties(te(te({},o),c));for(const h of l)for(const f of h.nodes())f.setProperties(te(te({},o),c))}})}function qje(n,t,e,r){const i=e(n,t);return r.added[i]?"added":"updated"}var Nl=Math.PI*2;function $r(n){return n%=Nl,n+=Nl,n%=Nl,n}function Zje(n){return n%=Nl,n+=Nl,n!==Nl&&(n%=Nl),n}function US(n){return n%=Nl,n<-Math.PI?n+=Nl:n>=Math.PI&&(n-=Nl),n}function pi(n){return n/180*Math.PI}function Qje(n){return n/Math.PI*180}function qV(n,t){return n=$r(n),t=$r(t),t-n+(n>t?2*Math.PI:0)}var mo=(n,t)=>{const e=Symbol(String(t));n[e]=void 0,Object.defineProperty(n,t,{get(){return this[e]},set(r){this[e]!==r&&(this[e]=r,this.invalid=!0)},enumerable:!0,configurable:!1})},Ql=class{constructor(){this.type="band",this.invalid=!0,this.interval=1,this.index=new Map,this.ordinalRange=[],this._domain=[],this.range=[0,1],this._bandwidth=1,this._step=1,this._rawBandwidth=1,this._paddingInner=0,this._paddingOuter=0,this.round=!1}refresh(){this.invalid&&(this.invalid=!1,this.update(),this.invalid&&Oe.warnOnce("Expected update to not invalidate scale"))}set domain(n){this.invalid=!0;const t=[];this.index=new Map;const e=this.index;n.forEach(r=>{e.get(r)===void 0&&e.set(r,t.push(r)-1)}),this._domain=t}get domain(){return this._domain}ticks(){this.refresh();const{interval:n=1}=this,t=Math.abs(Math.round(n));return this._domain.filter((e,r)=>r%t===0)}convert(n){this.refresh();const t=this.index.get(n);if(t===void 0)return NaN;const e=this.ordinalRange[t];return e===void 0?NaN:e}invert(n){this.refresh();const t=this.ordinalRange.findIndex(e=>e===n);return this.domain[t]}get bandwidth(){return this.refresh(),this._bandwidth}get step(){return this.refresh(),this._step}get rawBandwidth(){return this.refresh(),this._rawBandwidth}set padding(n){n=Lt(0,n,1),this._paddingInner=n,this._paddingOuter=n}get padding(){return this._paddingInner}set paddingInner(n){this._paddingInner=Lt(0,n,1)}get paddingInner(){return this._paddingInner}set paddingOuter(n){this._paddingOuter=Lt(0,n,1)}get paddingOuter(){return this._paddingOuter}update(){const n=this._domain.length;if(n===0)return;const t=this.round,e=this._paddingInner,r=this._paddingOuter,[i,o]=this.range,a=o-i,s=a/Math.max(1,n+2*r-e),l=t?Math.floor(s):s,u=l*(n-e),c=i+(a-u)/2,d=t?Math.round(c):c,p=l*(1-e),h=t?Math.round(p):p,f=s*(1-e),v=[];for(let g=0;g<n;g++)v.push(d+l*g);this._bandwidth=h,this._rawBandwidth=f,this._step=l,this.ordinalRange=v}};R([mo],Ql.prototype,"interval",2);R([mo],Ql.prototype,"range",2);R([mo],Ql.prototype,"round",2);function F(n,t={}){const{optional:e=!1}=t;return ic((r,i,o)=>{var a;const s=Te(te({},t),{target:r,property:i});if(e&&typeof o>"u"||n(o,s))return Xo(r[i])&&!Xo(o)?(r[i].set(o),r[i]):o;const l=String(i).replace(/^_*/,""),u=(a=r.constructor.className)!=null?a:r.constructor.name.replace(/Properties$/,"");return Oe.warn(`Property [${l}] of [${u}] cannot be set to [${VC(o)}]${n.message?`; expecting ${n0(n,s)}`:""}, ignoring.`),TO},void 0,{optional:e})}var ou=(...n)=>{const t=[];return Qt((e,r)=>(t.length=0,n.every(i=>{const o=i(e,r);return o||t.push(n0(i,r)),o})),()=>t.filter(Boolean).join(" AND "))},uf=(...n)=>Qt((t,e)=>n.some(r=>r(t,e)),t=>n.map(o$e(t)).filter(Boolean).join(" OR ")),Ge=l$e(Qt((n,t)=>Xo(n)||Zl(n)&&Xo(t.target[t.property]),"an object")),ze=Qt(yQ,"a boolean"),rs=Qt(Wg,"a function"),xe=Qt($a,"a string"),nr=s$e(Qt(Gt,"a number")),aP=Qt(n=>Os(n)&&isNaN(n),"NaN"),Se=nr.restrict({min:0}),Wt=nr.restrict({min:0,max:1}),ep=nr.restrict({min:-360,max:360}),qg=uf(nr,aP),e0=a$e(Qt(an,"an array")),yc=(n,t)=>Qt((e,r)=>an(e)&&e.every(i=>n(i,r)),e=>{var r;const i=(r=n0(e0,e))!=null?r:"";return t?`${i} of ${t}`:i}),FO=n=>Gt(n)||Kw(n),t0=n=>Qt((t,e)=>!FO(t)||!FO(e.target[n])||t<e.target[n],`expected to be less than ${n}`),r0=n=>Qt((t,e)=>!FO(t)||!FO(e.target[n])||t>e.target[n],`expected to be greater than ${n}`),ZV=Qt(Kw,"Date object"),QV=uf(ZV,Se),wJ="A color string can be in one of the following formats to be valid: #rgb, #rrggbb, rgb(r, g, b), rgba(r, g, b, a) or a CSS color name such as 'white', 'orange', 'cyan', etc",Dt=Qt(n=>$a(n)&&Al.validColorString(n),`color String. ${wJ}`),ns=Qt(yc(Dt),`color strings. ${wJ}`),Jje=yc(ze,"boolean values"),sP=yc(nr,"numbers"),_J=yc(xe,"strings"),e$e=Qt(yc(ZV),"Date objects"),JV=Qt(yc(Ge),"objects"),xJ=Kr(["butt","round","square"],"a line cap"),t$e=Kr(["round","bevel","miter"],"a line join"),mc=Qt(yc(Se),"numbers specifying the length in pixels of alternating dashes and gaps, for example, [6, 3] means dashes with a length of 6 pixels with gaps between of 3 pixels."),eB=Kr(["top","right","bottom","left"],"a position"),tp=Kr(["normal","italic","oblique"],"a font style"),rp=uf(Kr(["normal","bold","bolder","lighter"],"a font weight"),nr.restrict({min:1,max:1e3})),lP=Kr(["never","always","hyphenate","on-space"],"a text wrap strategy"),EJ=Kr(["left","center","right"],"a text align"),r$e=Kr(["top","middle","bottom"],"a vertical align"),n$e=Kr(["ellipsis","hide"],"an overflow strategy"),bJ=Kr(["horizontal","vertical"],"a direction"),OJ=Kr(["inside","outside"],"a placement"),tB=uf(Kr(["exact","nearest"],"interaction range"),nr);function Kr(n,t="a"){return Qt(e=>n.includes(e),`${t} keyword such as ${i$e(n)}`)}var RJ=uf(ou(nr.restrict({min:1}),t0("maxSpacing")),aP),rB=uf(ou(nr.restrict({min:1}),r0("minSpacing")),aP);function Qt(n,t){return n.message=t,n}function i$e(n){const t=n.map(r=>`'${r}'`);if(t.length===1)return t[0];const e=t.pop();return`${t.join(", ")} or ${e}`}function n0(n,t){return Wg(n.message)?n.message(t):n.message}function o$e(n){return t=>n0(t,n)}function a$e(n){return Object.assign(n,{restrict({length:t,minLength:e}={}){return Qt(r=>an(r)&&(Os(t)?r.length===t:!0)&&(Os(e)?r.length>=e:!0),Os(e)&&e>0?"a non-empty array":Os(t)?`an array of length ${t}`:"an array")}})}function s$e(n){return Object.assign(n,{restrict({min:t,max:e}={}){const r=["a number"],i=Os(t),o=Os(e);return i&&o?r.push(`between ${t} and ${e} inclusive`):i?r.push(`greater than or equal to ${t}`):o&&r.push(`less than or equal to ${e}`),Qt(a=>Gt(a)&&(i?a>=t:!0)&&(o?a<=e:!0),r.join(" "))}})}function l$e(n){return Object.assign(n,{restrict(t){const e=r=>Xo(r)&&r instanceof t;return Qt((r,i)=>e(r)||Zl(r)&&e(i.target[i.property]),r=>{var i;return(i=n0(n,r))!=null?i:"an object"})}})}function VC(n){if(typeof n=="number"){if(isNaN(n))return"NaN";if(n===1/0)return"Infinity";if(n===-1/0)return"-Infinity"}return JSON.stringify(n)}var TJ=(n=>(n.X="x",n.Y="y",n))(TJ||{});function PJ(){if(typeof navigator>"u")return!1;const n=navigator.userAgent.match(/\(iPhone; CPU iPhone OS (\d+_\d+_\d+) like Mac OS X\)/);if(n==null)return!1;const t=n[1].split("_"),e=Number(t[0]);return e>16?!1:e===16?Number(t[1])<6:!0}var nB=class bI{constructor(t){this._enabled=!0,this._pixelRatio=NaN,this._width=0,this._height=0;const{document:e,window:r,width:i=600,height:o=300,domLayer:a=!1,zIndex:s=0,name:l=void 0,overrideDevicePixelRatio:u=void 0}=t;this.document=e,this.window=r,bI.document=e,this.element=e.createElement("canvas"),this.element.width=i,this.element.height=o,this.realContext=this.element.getContext("2d"),this.imageSource=this.realContext.canvas;const{style:c}=this.element;c.userSelect="none",c.display="block",a&&(c.position="absolute",c.zIndex=String(s),c.top="0",c.left="0",c.pointerEvents="none",c.opacity="1",l&&(this.element.id=l)),this.context=this.setPixelRatio(u),this.resize(i,o)}set container(t){this._container!==t&&(this.remove(),t&&t.appendChild(this.element),this._container=t)}get container(){return this._container}set enabled(t){this.element.style.display=t?"block":"none",this._enabled=!!t}get enabled(){return this._enabled}remove(){const{parentNode:t}=this.element;t!=null&&t.removeChild(this.element)}destroy(){this.element.remove(),this.element.width=0,this.element.height=0,this.context.clearRect(0,0,0,0),Object.freeze(this)}snapshot(){}clear(){this.context.save(),this.context.resetTransform(),this.context.clearRect(0,0,this.width,this.height),this.context.restore()}toImage(){const t=this.document.createElement("img");return t.src=this.getDataURL(),t}getDataURL(t){return this.element.toDataURL(t)}download(t,e="image/png"){t=(t??"").trim()||"image";const r=this.getDataURL(e),i=this.document,o=i.createElement("a");o.href=r,o.download=t,o.style.display="none",i.body.appendChild(o),o.click(),i.body.removeChild(o)}get pixelRatio(){return this._pixelRatio}setPixelRatio(t){let e=t??this.window.devicePixelRatio;return PJ()&&(e=1),this._pixelRatio=e,bI.overrideScale(this.realContext,e)}set pixelated(t){this.element.style.imageRendering=t?"pixelated":"auto"}get pixelated(){return this.element.style.imageRendering==="pixelated"}get width(){return this._width}get height(){return this._height}resize(t,e){if(!(t>0&&e>0))return;const{element:r,context:i,pixelRatio:o}=this;r.width=Math.round(t*o),r.height=Math.round(e*o),r.style.width=t+"px",r.style.height=e+"px",i.resetTransform(),this._width=t,this._height=e}static get textMeasuringContext(){if(this._textMeasuringContext)return this._textMeasuringContext;const t=this.document.createElement("canvas");return this._textMeasuringContext=t.getContext("2d"),this._textMeasuringContext}static get svgText(){if(this._svgText)return this._svgText;const t="http://www.w3.org/2000/svg",e=document.createElementNS(t,"svg");e.setAttribute("width","100"),e.setAttribute("height","100"),e.classList?e.classList.add("text-measuring-svg"):e.setAttribute("class","text-measuring-svg"),e.style.position="absolute",e.style.top="-1000px",e.style.visibility="hidden";const r=document.createElementNS(t,"text");return r.setAttribute("x","0"),r.setAttribute("y","30"),r.setAttribute("text","black"),e.appendChild(r),document.body.appendChild(e),this._svgText=r,r}static get has(){if(this._has)return this._has;const t=typeof navigator>"u"||navigator.userAgent.indexOf("Chrome")>-1,e=typeof navigator<"u"&&navigator.userAgent.indexOf("Firefox")>-1,r=!t&&typeof navigator<"u"&&navigator.userAgent.indexOf("Safari")>-1;return this._has=Object.freeze({textMetrics:this.textMeasuringContext.measureText("test").actualBoundingBoxDescent!==void 0&&!e&&!r,getTransform:this.textMeasuringContext.getTransform!==void 0}),this._has}static measureText(t,e,r,i){const o=this.textMeasuringContext;return o.font=e,o.textBaseline=r,o.textAlign=i,o.measureText(t)}static getTextSize(t,e){if(this.has.textMetrics){const r=this.textMeasuringContext;r.font=e;const i=r.measureText(t);return{width:i.width,height:i.actualBoundingBoxAscent+i.actualBoundingBoxDescent}}else return this.measureSvgText(t,e)}static measureSvgText(t,e){const r=this.textSizeCache,i=r[e];if(i){const l=i[t];if(l)return l}else r[e]={};const o=this.svgText;o.style.font=e,o.textContent=t;const a=o.getBBox(),s={width:a.width,height:a.height};return r[e][t]=s,s}static overrideScale(t,e){let r=0;const i={save(){this.$save(),r++},restore(){if(r>0)this.$restore(),r--;else throw new Error("AG Charts - Unable to restore() past depth 0")},setTransform(o,a,s,l,u,c){typeof o=="object"?this.$setTransform(o):this.$setTransform(o*e,a*e,s*e,l*e,u*e,c*e)},resetTransform(){this.$setTransform(e,0,0,e,0,0)},verifyDepthZero(){if(r!==0)throw new Error("AG Charts - Save/restore depth is non-zero: "+r)}};for(const o in i)Object.hasOwn(i,o)&&(t["$"+o]||(t["$"+o]=t[o]),t[o]=i[o]);return t}};nB.document=globalThis.document;nB.textSizeCache={};var Ir=nB,u$e=class{constructor(){this.stops=[]}},c$e=class extends u$e{constructor(){super(...arguments),this.angle=0}createGradient(n,t){const{stops:r,angle:i}=this,o=$r(pi(i+90)),a=Math.cos(o),s=Math.sin(o),l=t.width,u=t.height,c=t.x+l*.5,d=t.y+u*.5;if(l>0&&u>0){const p=Math.sqrt(u*u+l*l)/2,h=Math.atan2(u,l);let f;o<Math.PI/2?f=o:o<Math.PI?f=Math.PI-o:o<3*Math.PI/2?f=o-Math.PI:f=2*Math.PI-o;const v=p*Math.abs(Math.cos(f-h)),g=n.createLinearGradient(c+a*v,d+s*v,c-a*v,d-s*v);return r.forEach(y=>{g.addColorStop(y.offset,y.color)}),g}return"black"}},d$e=/^linear-gradient\((.*?)deg,\s*(.*?)\s*\)$/i,pa=class hl extends Xg{constructor(){super(...arguments),this.fillOpacity=1,this.strokeOpacity=1,this.fill=hl.defaultStyles.fill,this.stroke=hl.defaultStyles.stroke,this.strokeWidth=hl.defaultStyles.strokeWidth,this.lineDash=hl.defaultStyles.lineDash,this.lineDashOffset=hl.defaultStyles.lineDashOffset,this.lineCap=hl.defaultStyles.lineCap,this.lineJoin=hl.defaultStyles.lineJoin,this.opacity=hl.defaultStyles.opacity,this.fillShadow=hl.defaultStyles.fillShadow}restoreOwnStyles(){const t=this.constructor.defaultStyles,e=Object.getOwnPropertyNames(t);for(let r=0,i=e.length;r<i;r++){const o=e[r];this[o]=t[o]}}updateGradient(){const{fill:t}=this;let e;if(t!=null&&t.startsWith("linear-gradient")&&(e=d$e.exec(t))){const r=parseFloat(e[1]),i=[],o=e[2],a=/(#[0-9a-f]+)|(rgba?\(.+?\))|([a-z]+)/gi;let s;for(;s=a.exec(o);)i.push(s[0]);this.gradient=new c$e,this.gradient.angle=r,this.gradient.stops=i.map((l,u)=>({offset:u/(i.length-1),color:l}))}else this.gradient=void 0}align(t,e){var r,i,o;const a=(o=(i=(r=this.layerManager)==null?void 0:r.canvas)==null?void 0:i.pixelRatio)!=null?o:1,s=Math.round(t*a)/a;return e==null?s:e===0?0:e<1?Math.ceil(e*a)/a:Math.round((e+t)*a)/a-s}fillStroke(t){this.renderFill(t),this.renderStroke(t)}renderFill(t){if(this.fill){const{globalAlpha:e}=t;this.applyFill(t),this.applyFillAlpha(t),this.applyShadow(t),t.fill(),t.globalAlpha=e}t.shadowColor="rgba(0, 0, 0, 0)"}applyFill(t){this.gradient?t.fillStyle=this.gradient.createGradient(t,this.computeBBox()):t.fillStyle=this.fill}applyFillAlpha(t){const{globalAlpha:e}=t;t.globalAlpha=e*this.opacity*this.fillOpacity}applyShadow(t){var e,r;const i=(r=(e=this.layerManager)==null?void 0:e.canvas.pixelRatio)!=null?r:1,o=this.fillShadow;o!=null&&o.enabled&&(t.shadowColor=o.color,t.shadowOffsetX=o.xOffset*i,t.shadowOffsetY=o.yOffset*i,t.shadowBlur=o.blur*i)}renderStroke(t){if(this.stroke&&this.strokeWidth){const{globalAlpha:e}=t;t.strokeStyle=this.stroke,t.globalAlpha=e*this.opacity*this.strokeOpacity,t.lineWidth=this.strokeWidth,this.lineDash&&t.setLineDash(this.lineDash),this.lineDashOffset&&(t.lineDashOffset=this.lineDashOffset),this.lineCap&&(t.lineCap=this.lineCap),this.lineJoin&&(t.lineJoin=this.lineJoin),t.stroke(),t.globalAlpha=e}}containsPoint(t,e){return this.isPointInPath(t,e)}};pa.defaultStyles=Object.assign({},{fill:"black",stroke:void 0,strokeWidth:0,lineDash:void 0,lineDashOffset:0,lineCap:void 0,lineJoin:void 0,opacity:1,fillShadow:void 0});R([Pe({redraw:2})],pa.prototype,"fillOpacity",2);R([Pe({redraw:2})],pa.prototype,"strokeOpacity",2);R([Pe({redraw:2,changeCb:n=>n.updateGradient()})],pa.prototype,"fill",2);R([Pe({redraw:2})],pa.prototype,"stroke",2);R([Pe({redraw:2})],pa.prototype,"strokeWidth",2);R([Pe({redraw:2})],pa.prototype,"lineDash",2);R([Pe({redraw:2})],pa.prototype,"lineDashOffset",2);R([Pe({redraw:2})],pa.prototype,"lineCap",2);R([Pe({redraw:2})],pa.prototype,"lineJoin",2);R([Pe({redraw:2,convertor:n=>Lt(0,n,1)})],pa.prototype,"opacity",2);R([Pe({redraw:2,checkDirtyOnAssignment:!0})],pa.prototype,"fillShadow",2);var Za=pa,OI="…";function uP(n){const{redraw:t=3,changeCb:e}=n??{};return Pe({redraw:t,type:"font",changeCb:e})}var fi=class ko extends Za{constructor(){super(...arguments),this.x=0,this.y=0,this.lines=[],this.text=void 0,this._dirtyFont=!0,this.fontSize=10,this.fontFamily="sans-serif",this.textAlign=ko.defaultStyles.textAlign,this.textBaseline=ko.defaultStyles.textBaseline,this.lineHeight=void 0}_setLines(){this.lines=FJ(this.text)}get font(){return(this._font==null||this._dirtyFont)&&(this._dirtyFont=!1,this._font=Bd(this)),this._font}computeBBox(){return Ir.has.textMetrics?AJ(this.lines,this.x,this.y,this):DJ(this.lines,this.x,this.y,this)}getLineHeight(t){var e,r;if(this.lineHeight)return this.lineHeight;if(Ir.has.textMetrics){const i=Ir.measureText(t,this.font,this.textBaseline,this.textAlign);return((e=i.fontBoundingBoxAscent)!=null?e:i.emHeightAscent)+((r=i.fontBoundingBoxDescent)!=null?r:i.emHeightDescent)}return Ir.getTextSize(t,this.font).height}isPointInPath(t,e){const r=this.transformPoint(t,e),i=this.computeBBox();return i?i.containsPoint(r.x,r.y):!1}render(t){const{ctx:e,forceRender:r,stats:i}=t;if(this.dirty===0&&!r){i&&(i.nodesSkipped+=this.nodeCount.count);return}if(!this.lines.length||!this.layerManager){i&&(i.nodesSkipped+=this.nodeCount.count);return}this.computeTransformMatrix(),this.matrix.toContext(e);const{fill:o,stroke:a,strokeWidth:s}=this;e.font=this.font,e.textAlign=this.textAlign,e.textBaseline=this.textBaseline;const l=this.layerManager.canvas.pixelRatio||1,{globalAlpha:u}=e;if(o){e.fillStyle=o,e.globalAlpha=u*this.opacity*this.fillOpacity;const{fillShadow:c}=this;c!=null&&c.enabled&&(e.shadowColor=c.color,e.shadowOffsetX=c.xOffset*l,e.shadowOffsetY=c.yOffset*l,e.shadowBlur=c.blur*l),this.renderLines((d,p,h)=>e.fillText(d,p,h))}if(a&&s){e.strokeStyle=a,e.lineWidth=s,e.globalAlpha=u*this.opacity*this.strokeOpacity;const{lineDash:c,lineDashOffset:d,lineCap:p,lineJoin:h}=this;c&&e.setLineDash(c),d&&(e.lineDashOffset=d),p&&(e.lineCap=p),h&&(e.lineJoin=h),this.renderLines((f,v,g)=>e.strokeText(f,v,g))}super.render(t)}renderLines(t){const{lines:e,x:r,y:i}=this,o=this.lines.map(l=>this.getLineHeight(l));let s=-(o.reduce((l,u)=>l+u,0)-o[0])*MJ(this.textBaseline);for(let l=0;l<e.length;l++)t(e[l],r,i+s),s+=o[l]}static wrapLines(t,e,r,i,o,a){const s=a!=="hide",l=Bd(i),u=p$e(l),c=t.split(/\r?\n/g);if(c.length===0)return{lines:void 0,truncated:!1};if(o==="never"){const{text:f,truncated:v}=ko.truncateLine(c[0],e,u,s?"auto":"never");return{lines:f!=null?[f]:void 0,truncated:v}}const d=[];let p=0,h=!1;for(const f of c){const v=ko.wrapLine(f,e,r,u,i,o,p,s);if(v==null)return{lines:void 0,truncated:!1};if(d.push(...v.result),p=v.cumulativeHeight,v.truncated){h=!0;break}}return{lines:d,truncated:h}}static wrap(t,e,r,i,o,a="ellipsis"){const{lines:s,truncated:l}=ko.wrapLines(t,e,r,i,o,a);return{text:s!=null?s.join(`
`).trim():"",truncated:l}}static wrapLine(t,e,r,i,o,a,s,l){if(t=t.trim(),!t)return{result:[],truncated:!1,cumulativeHeight:s};const u=i.size(t);if(u.width<=e)return{result:[t],truncated:!1,cumulativeHeight:s+u.height};if(u.height>r||i.width("W")>e)return l?{result:[],truncated:!0,cumulativeHeight:s}:void 0;const c=t.split(/\s+/g),d=ko.wrapLineSequentially(c,e,r,i,o,a,s,l);if(d==null)return;s=d.cumulativeHeight;let{lines:p}=d;if(!(d.wordsBrokenOrTruncated||d.linesTruncated)){const f=d.lines.length,v=ko.wrapLineBalanced(c,e,i,f);v.length===p.length&&(p=v)}return{result:p.map(f=>f.join(" ")),truncated:d.linesTruncated,cumulativeHeight:s}}static breakWord(t,e,r,i,o){const a=h=>ko.punctuationMarks.includes(t[h]),s=i?o.width("-"):0,l=[];let u=0,c=0;for(let h=0;h<t.length;h++){const f=t[h],v=o.width(f),g=c===0?e:r;u+v+s>g&&(l.push(h),u=0,c++),u+=v}const d=[];let p=0;for(const h of l){let f=t.substring(p,h);i&&f.length>0&&!a(h-1)&&!a(h)&&(f+="-"),d.push(f),p=h}return d.push(t.substring(p)),d}static truncateLine(t,e,r,i){t=t.trimEnd();const o=r.width(t);if(o>e&&i==="never")return{text:void 0,truncated:!1};if(o<=e&&i!=="force")return{text:t,truncated:!1};const a=r.width(OI);let s=t,l=o;for(;s.length>0&&l+a>e;)s=s.slice(0,-1).trimEnd(),l=r.width(s);return l+a<=e?{text:`${s}${OI}`,truncated:!0}:{text:void 0,truncated:!1}}static wrapLineSequentially(t,e,r,i,o,a,s,l){const{fontSize:u=0,lineHeight:c=u*ko.defaultLineHeightRatio}=o,d=a==="always"||a==="hyphenate",p=a==="hyphenate",h=i.width(" ");let f=!1,v=!1;const g=[];let y=[],m=0;const C=()=>({lines:g,linesTruncated:v,wordsBrokenOrTruncated:f,cumulativeHeight:s}),S=()=>{if(!l)return;const _=y.join(" "),{text:x}=ko.truncateLine(_,e,i,"force");if(x!=null)return y.splice(0,y.length,x),v=!0,C()},w=()=>{const _=s+c;return _>=r?!1:(y=[],m=0,s=_,g.push(y),!0)};if(!w())return S();for(let _=0;_<t.length;_++){const x=t[_],b=i.width(x),O=y.length===0?0:h,T=m+O+b;if(T<=e){y.push(x),m=T;continue}if(b<=e){if(!w())return S();y.push(x),m=b;continue}if(f=!0,d){const A=e-m-O,N=ko.breakWord(x,A,e,p,i);for(let M=0;M<N.length;M++){const L=N[M];if(L&&y.push(L),M===N.length-1)m=i.width(L);else if(!w())return S()}}else if(l){if(!w())return S();const{text:A}=ko.truncateLine(x,e,i,"force");if(A==null)return;y.push(A),_<t.length-1&&(v=!0);break}else return}return C()}static wrapLineBalanced(t,e,r,i){const o=t.reduce((h,f)=>h+r.width(f),0),a=r.width(" "),s=a*(t.length-i-2),l=(o+s)/i,u=[];let c=[],d=r.width(t[0]),p=!0;for(const h of t){const f=r.width(h);if(p){c=[],c.push(h),d=f,p=!1,u.push(c);continue}const v=d+a+f;v<=l?(c.push(h),d=v):v<=e?(c.push(h),p=!0):(c=[h],d=f,u.push(c))}return u}setFont(t){this.fontFamily=t.fontFamily,this.fontSize=t.fontSize,this.fontStyle=t.fontStyle,this.fontWeight=t.fontWeight}setAlign(t){this.textAlign=t.textAlign,this.textBaseline=t.textBaseline}};fi.className="Text";fi.defaultLineHeightRatio=1.15;fi.defaultStyles=Object.assign({},Za.defaultStyles,{textAlign:"start",fontStyle:void 0,fontWeight:void 0,fontSize:10,fontFamily:"sans-serif",textBaseline:"alphabetic"});fi.ellipsis=OI;fi.punctuationMarks=[".",",","-",":",";","!","?","'",'"',"(",")"];R([Pe({redraw:3})],fi.prototype,"x",2);R([Pe({redraw:3})],fi.prototype,"y",2);R([Pe({redraw:3,changeCb:n=>n._setLines()})],fi.prototype,"text",2);R([uP()],fi.prototype,"fontStyle",2);R([uP()],fi.prototype,"fontWeight",2);R([uP()],fi.prototype,"fontSize",2);R([uP()],fi.prototype,"fontFamily",2);R([Pe({redraw:3})],fi.prototype,"textAlign",2);R([Pe({redraw:3})],fi.prototype,"textBaseline",2);R([Pe({redraw:3})],fi.prototype,"lineHeight",2);var It=fi;function p$e(n){const t=new Map,e=i=>Ir.getTextSize(i,n);return{size:e,width:i=>{if(t.has(i))return t.get(i);const{width:o}=e(i);return t.set(i,o),o}}}function Bd(n){const{fontFamily:t,fontSize:e,fontStyle:r,fontWeight:i}=n;return[r??"",i??"",e+"px",t].join(" ").trim()}function h$e(n,t,e,r){return Ir.has.textMetrics?AJ(n,t,e,r):DJ(n,t,e,r)}function AJ(n,t,e,r){var i,o;let a=0,s=0,l=0,u=0,c=0;const d=Bd(r),{lineHeight:p,textBaseline:h=It.defaultStyles.textBaseline,textAlign:f=It.defaultStyles.textAlign}=r;for(let v=0;v<n.length;v++){const g=Ir.measureText(n[v],d,h,f);a=Math.max(a,g.actualBoundingBoxLeft),l=Math.max(l,g.width),v==0?(s+=g.actualBoundingBoxAscent,u+=g.actualBoundingBoxAscent):c+=(i=g.fontBoundingBoxAscent)!=null?i:g.emHeightAscent,v==n.length-1?u+=g.actualBoundingBoxDescent:c+=(o=g.fontBoundingBoxDescent)!=null?o:g.emHeightDescent}return p!==void 0&&(c=(n.length-1)*p),u+=c,s+=c*MJ(h),new et(t-a,e-s,l,u)}function DJ(n,t,e,r){let i=0,o=0,a=0;const s=Bd(r),{lineHeight:l,textBaseline:u=It.defaultStyles.textBaseline,textAlign:c=It.defaultStyles.textAlign}=r;if(n.length>0){const d=Ir.getTextSize(n[0],s);i=d.width,o=d.height}for(let d=1;d<n.length;d++){const p=Ir.getTextSize(n[d],s);i=Math.max(i,p.width),a+=l??p.height}switch(c){case"end":case"right":t-=i;break;case"center":t-=i/2}switch(u){case"alphabetic":e-=o*.7+a*.5;break;case"middle":e-=o*.45+a*.5;break;case"ideographic":e-=o+a;break;case"hanging":e-=o*.2+a*.5;break;case"bottom":e-=o+a;break}return new et(t,e,i,o+a)}function MJ(n){switch(n){case"top":case"hanging":return 0;case"bottom":case"alphabetic":case"ideographic":return 1;case"middle":return .5}}function FJ(n){return typeof n=="string"?n.split(/\r?\n/g):[]}function np(n){const t=an(n)?n:n.split(".");if(t.length===1){const[e]=t;return ic((r,i,o)=>r[e]=o,r=>r[e])}return ic((e,r,i)=>EQ(e,t,i),e=>xQ(e,t))}function f$e(n){return ic((t,e,r)=>t[n]=r)}function ar(n,t){return ic((e,r,i)=>e[n][t??r]=i)}function En(n){const{newValue:t,oldValue:e,changeValue:r}=n;return ic((i,o,a,s)=>(a!==s&&(s!==void 0&&(e==null||e.call(i,s)),a!==void 0&&(t==null||t.call(i,a)),r==null||r.call(i,a,s)),a))}function Zg(n){return xHe(n)}function cP(n,t){const e=n.createElement("style");e.innerHTML=t,n.head.insertBefore(e,n.head.querySelector("style"))}var Zr="ag-chart-tooltip",v$e="ag-chart-dark-tooltip",g$e=`
.${Zr} {
    transition: transform 0.1s ease;
    max-width: 100%;
    position: fixed;
    left: 0px;
    top: 0px;
    z-index: 99999;
    font: 12px Verdana, sans-serif;
    color: rgb(70, 70, 70);
    box-shadow: 0 4px 8px rgba(0, 0, 0, 0.08);
}

.${Zr}-wrap-always {
    overflow-wrap: break-word;
    word-break: break-word;
    hyphens: none;
}

.${Zr}-wrap-hyphenate {
    overflow-wrap: break-word;
    word-break: break-word;
    hyphens: auto;
}

.${Zr}-wrap-on-space {
    overflow-wrap: normal;
    word-break: normal;
}

.${Zr}-wrap-never {
    white-space: pre;
    text-overflow: ellipsis;
}

.${Zr}-no-interaction {
    pointer-events: none;
    user-select: none;
}

.${Zr}-no-animation {
    transition: none !important;
}

.${Zr}-hidden {
    visibility: hidden;
}

.${Zr}-title {
    overflow: hidden;
    position: relative;
    padding: 8px 14px;
    border-top-left-radius: 2px;
    border-top-right-radius: 2px;
    color: white;
    background-color: #888888;
    z-index: 1;
    text-overflow: inherit;
}

.${Zr}-title:only-child {
    border-bottom-left-radius: 2px;
    border-bottom-right-radius: 2px;
}

.${Zr}-content {
    overflow: hidden;
    padding: 6px 14px;
    line-height: 1.7em;
    background: white;
    border-bottom-left-radius: 2px;
    border-bottom-right-radius: 2px;
    border: 1px solid rgba(0, 0, 0, 0.15);
    overflow: hidden;
    text-overflow: inherit;
}

.${Zr}-arrow::before {
    content: "";

    position: absolute;
    top: 100%;
    left: 50%;
    transform: translateX(-50%);

    border: 5px solid #d9d9d9;

    border-left-color: transparent;
    border-right-color: transparent;
    border-bottom-color: transparent;

    width: 0;
    height: 0;

    margin: 0 auto;
}

.${Zr}-arrow::after {
    content: "";

    position: absolute;
    top: calc(100% - 1px);
    left: 50%;
    transform: translateX(-50%);

    border: 5px solid white;

    border-left-color: transparent;
    border-right-color: transparent;
    border-bottom-color: transparent;

    width: 0;
    height: 0;

    margin: 0 auto;
}

.ag-chart-wrapper {
    box-sizing: border-box;
    overflow: hidden;
}
`;function zS(n,t){var e,r,i;if(typeof n=="string")return n;const{content:o=(e=t==null?void 0:t.content)!=null?e:"",title:a=t==null?void 0:t.title,color:s=(r=t==null?void 0:t.color)!=null?r:"white",backgroundColor:l=(i=t==null?void 0:t.backgroundColor)!=null?i:"#888"}=n,u=a?`<div class="${Zr}-title"
        style="color: ${s}; background-color: ${l}">${a}</div>`:"",c=o?`<div class="${Zr}-content">${o}</div>`:"";return`${u}${c}`}var i0=class extends tr{constructor(){super(...arguments),this.type="pointer",this.xOffset=0,this.yOffset=0}};R([F(Kr(["pointer","node"],"a position type"))],i0.prototype,"type",2);R([F(nr)],i0.prototype,"xOffset",2);R([F(nr)],i0.prototype,"yOffset",2);var Cc=class RI{constructor(t,e,r,i){this.enableInteraction=!1,this.enabled=!0,this.showArrow=void 0,this.class=void 0,this.lastClass=void 0,this.delay=0,this.range="nearest",this.wrapping="hyphenate",this.darkTheme=!1,this.lastVisibilityChange=Date.now(),this.position=new i0,this.showTimeout=0,this._showArrow=!0,this.tooltipRoot=i,this.window=r;const o=e.createElement("div");if(this.element=this.tooltipRoot.appendChild(o),this.element.classList.add(Zr),this.canvasElement=t,typeof IntersectionObserver<"u"){const a=new IntersectionObserver(s=>{for(const l of s)l.target===this.canvasElement&&l.intersectionRatio===0&&this.toggle(!1)},{root:this.tooltipRoot});a.observe(this.canvasElement),this.observer=a}RI.tooltipDocuments.indexOf(e)<0&&(cP(e,g$e),RI.tooltipDocuments.push(e))}destroy(){const{parentNode:t}=this.element;t&&t.removeChild(this.element),this.observer&&this.observer.unobserve(this.canvasElement)}isVisible(){const{element:t}=this;return!t.classList.contains(Zr+"-hidden")}updateClass(t,e,r=!0){const{element:i,class:o,lastClass:a,enableInteraction:s,lastVisibilityChange:l}=this,u=this.isVisible(),c=!!t;let d=1/0;if(u!==c){const g=Date.now();d=g-l,this.lastVisibilityChange=g}const p=(g,y)=>{const m=`${Zr}-${g}`;y?i.classList.add(m):i.classList.remove(m)},h=100,f=5,v=!u&&c&&d>h;d>f&&p("no-animation",v),p("no-interaction",!s),p("hidden",!t),p("arrow",!!e),i.classList.toggle(v$e,this.darkTheme),this.updateWrapping(),r?(o!==a&&(a&&i.classList.remove(a),o&&i.classList.add(o)),this.lastClass=o):(a&&i.classList.remove(a),this.lastClass=void 0)}updateWrapping(){const{element:t,wrapping:e}=this,r={always:!1,hyphenate:!1,"on-space":!1,never:!1};r[e]=!0,Object.entries(r).forEach(([i,o])=>{t.classList.toggle(`${Zr}-wrap-${i}`,o)})}show(t,e,r=!1){var i,o,a,s,l,u,c;const{element:d,canvasElement:p}=this;if(e!==void 0)d.innerHTML=e;else if(!d.innerHTML){this.toggle(!1);return}const h=(o=(i=t.position)==null?void 0:i.xOffset)!=null?o:0,f=(s=(a=t.position)==null?void 0:a.yOffset)!=null?s:0,v=p.getBoundingClientRect(),g=v.left+t.offsetX-d.clientWidth/2+h,y=v.top+t.offsetY-d.clientHeight-8+f,m=this.getWindowBoundingBox(),C=m.x+m.width-d.clientWidth-1,S=m.y+m.height-d.clientHeight,w=Lt(m.x,g,C),_=Lt(m.y,y,S),b=!(w!==g||_!==y)&&!h&&!f,O=(u=(l=t.showArrow)!=null?l:this.showArrow)!=null?u:b;if(this.updateShowArrow(O),d.style.transform=`translate(${Math.round(w)}px, ${Math.round(_)}px)`,this.enableInteraction=(c=t.enableInteraction)!=null?c:!1,this.delay>0&&!r){this.toggle(!1),this.showTimeout=this.window.setTimeout(()=>{this.toggle(!0,t.addCustomClass)},this.delay);return}this.toggle(!0,t.addCustomClass)}getWindowBoundingBox(){return new et(0,0,this.window.innerWidth,this.window.innerHeight)}toggle(t,e){t||this.window.clearTimeout(this.showTimeout),this.updateClass(t,this._showArrow,e)}pointerLeftOntoTooltip(t){var e;if(!this.enableInteraction)return!1;const r=(e=t.sourceEvent.relatedTarget)==null?void 0:e.classList,o=!!["","-title","-content"].filter(a=>r==null?void 0:r.contains(`${Zr}${a}`));return r!==void 0&&o}updateShowArrow(t){this._showArrow=t}};Cc.tooltipDocuments=[];R([F(ze)],Cc.prototype,"enabled",2);R([F(ze,{optional:!0})],Cc.prototype,"showArrow",2);R([F(xe,{optional:!0})],Cc.prototype,"class",2);R([F(Se)],Cc.prototype,"delay",2);R([F(tB)],Cc.prototype,"range",2);R([F(lP)],Cc.prototype,"wrapping",2);R([F(ze)],Cc.prototype,"darkTheme",2);var LJ=Cc,Er=class extends tr{constructor(){super(...arguments),this.id=nu(this),this.node=new It().setProperties({textAlign:"center",pointerEvents:1}),this.enabled=!1,this.textAlign="center",this.fontSize=10,this.fontFamily="sans-serif",this.wrapping="always",this.truncated=!1}registerInteraction(n){return n.interactionManager.addListener("hover",t=>this.handleMouseMove(n,t))}computeTextWrap(n,t){var e,r;const{text:i,wrapping:o}=this,a=Math.min((e=this.maxWidth)!=null?e:1/0,n),s=(r=this.maxHeight)!=null?r:t;if(!isFinite(a)&&!isFinite(s)){this.node.text=i;return}const{text:l,truncated:u}=It.wrap(i??"",a,s,this,o);this.node.text=l,this.truncated=u}handleMouseMove(n,t){if(!this.enabled)return;const{offsetX:e,offsetY:r}=t,i=this.node.computeBBox(),o=this.node.visible&&i.containsPoint(e,r);o&&t.consume(),!this.truncated||!o?n.tooltipManager.removeTooltip(this.id):n.tooltipManager.updateTooltip(this.id,{offsetX:e,offsetY:r,lastPointerEvent:t,showArrow:!1,addCustomClass:!1},zS({content:this.text}))}};Er.SMALL_PADDING=10;Er.LARGE_PADDING=20;R([F(ze)],Er.prototype,"enabled",2);R([F(xe,{optional:!0}),ar("node")],Er.prototype,"text",2);R([F(EJ,{optional:!0}),ar("node")],Er.prototype,"textAlign",2);R([F(tp,{optional:!0}),ar("node")],Er.prototype,"fontStyle",2);R([F(rp,{optional:!0}),ar("node")],Er.prototype,"fontWeight",2);R([F(Se),ar("node")],Er.prototype,"fontSize",2);R([F(xe),ar("node")],Er.prototype,"fontFamily",2);R([F(Dt,{optional:!0}),ar("node","fill")],Er.prototype,"color",2);R([F(Se,{optional:!0})],Er.prototype,"spacing",2);R([F(Se,{optional:!0})],Er.prototype,"lineHeight",2);R([F(Se,{optional:!0})],Er.prototype,"maxWidth",2);R([F(Se,{optional:!0})],Er.prototype,"maxHeight",2);R([F(lP)],Er.prototype,"wrapping",2);var Ks=class{constructor(){this.enabled=!1,this.spacing=Er.SMALL_PADDING,this.fontSize=10,this.fontFamily="sans-serif",this.wrapping="always"}};R([F(ze)],Ks.prototype,"enabled",2);R([F(xe,{optional:!0})],Ks.prototype,"text",2);R([F(Se,{optional:!0})],Ks.prototype,"spacing",2);R([F(tp,{optional:!0})],Ks.prototype,"fontStyle",2);R([F(rp,{optional:!0})],Ks.prototype,"fontWeight",2);R([F(Se)],Ks.prototype,"fontSize",2);R([F(xe)],Ks.prototype,"fontFamily",2);R([F(Dt,{optional:!0})],Ks.prototype,"color",2);R([F(lP)],Ks.prototype,"wrapping",2);R([F(rs,{optional:!0})],Ks.prototype,"formatter",2);var IJ={constructedArrays:new WeakMap};function NJ(n,t){var e;(e=IJ.constructedArrays)==null||e.set(n,t)}var iz={constructors:{"axes[].title":Ks},allowedTypes:{"legend.pagination.marker.shape":["primitive","function"],"axis[].tick.count":["primitive","class-instance"]}},au=class TI{constructor(t,e){this.invalid=!0,this.nice=!1,this.interval=void 0,this.tickCount=TI.defaultTickCount,this.minTickCount=0,this.maxTickCount=1/0,this.niceDomain=[],this.defaultClampMode="raw",this.domain=t,this.range=e}static is(t){return t instanceof TI}transform(t){return t}transformInvert(t){return t}calcBandwidth(t=1){const{range:e}=this,r=this.getDomain(),i=Math.abs(e[1]-e[0]),o=Math.abs(r[1]-r[0])/t+1,a=Math.floor(i),s=Math.min(o,a);return i/Math.max(1,s)}fromDomain(t){return typeof t=="number"?t:t instanceof Date?t.getTime():NaN}getDomain(){return this.nice&&(this.refresh(),this.niceDomain.length)?this.niceDomain:this.domain}convert(t,e){var r;const i=(r=e==null?void 0:e.clampMode)!=null?r:this.defaultClampMode;if(!this.domain||this.domain.length<2)return NaN;this.refresh();const o=this.getDomain().map(d=>this.transform(d)),[a,s]=o,{range:l}=this,[u,c]=l;if(t=this.transform(t),i==="clamped"){const d=Math.min(this.fromDomain(a),this.fromDomain(s)),p=Math.max(this.fromDomain(a),this.fromDomain(s));if(this.fromDomain(t)<d)return u;if(this.fromDomain(t)>p)return c}return a===s?(u+c)/2:t===a?u:t===s?c:u+(this.fromDomain(t)-this.fromDomain(a))/(this.fromDomain(s)-this.fromDomain(a))*(c-u)}invert(t){this.refresh();const e=this.getDomain().map(p=>this.transform(p)),[r,i]=e,{range:o}=this,[a,s]=o,l=a>s,u=l?s:a,c=l?a:s;let d;return t<u?l?i:r:t>c?l?r:i:(a===s?d=this.toDomain((this.fromDomain(r)+this.fromDomain(i))/2):d=this.toDomain(this.fromDomain(r)+(t-a)/(s-a)*(this.fromDomain(i)-this.fromDomain(r))),this.transformInvert(d))}refresh(){this.invalid&&(this.invalid=!1,this.update(),this.invalid&&Oe.warnOnce("Expected update to not invalidate scale"))}getPixelRange(){const t=this.range.slice().sort((e,r)=>e-r);return t[1]-t[0]}isDenseInterval({start:t,stop:e,interval:r,count:i}){const o=e-t,a=this.getPixelRange();return i??(i=o/(typeof r=="number"?r:1)),i>=a?(Oe.warn("the configured interval results in more than 1 item per pixel, ignoring. Supply a larger interval or omit this configuration"),!0):!1}};au.defaultTickCount=5;au.defaultMaxTickCount=6;R([mo],au.prototype,"domain",2);R([mo],au.prototype,"range",2);R([mo],au.prototype,"nice",2);R([mo],au.prototype,"interval",2);R([mo],au.prototype,"tickCount",2);R([mo],au.prototype,"minTickCount",2);R([mo],au.prototype,"maxTickCount",2);var Xt=au;function kJ(n,t){let e=0;return typeof n=="number"&&typeof t=="number"?e=n-t:typeof n=="string"&&typeof t=="string"?e=n.localeCompare(t):n==null&&t==null||(n==null?e=-1:t==null?e=1:e=String(n).localeCompare(String(t))),e}function GJ(n,t,e){const r=i=>typeof i=="function"?i():i;for(const i in n){const o=e(r(n[i]),r(t[i]));if(o!==0)return o}return 0}var iB=class PI extends Xg{constructor(t){var e;super({isVirtual:t==null?void 0:t.isVirtual}),this.opts=t,this.opacity=1,this.lastBBox=void 0;const{zIndex:r,zIndexSubOrder:i}=t??{};this.isContainerNode=!0,r!==void 0&&(this.zIndex=r),i!==void 0&&(this.zIndexSubOrder=i),this.name=(e=this.opts)==null?void 0:e.name}zIndexChanged(){var t;this.layer&&((t=this._layerManager)==null||t.moveLayer(this.layer,this.zIndex,this.zIndexSubOrder))}isLayer(){return this.layer!=null}_setLayerManager(t){var e,r;if(this._layerManager&&this.layer&&(this._layerManager.removeLayer(this.layer),this.layer=void 0),this.layer)throw new Error("AG Charts - unable to deregister scene rendering layer!");if(super._setLayerManager(t),t&&((e=this.opts)!=null&&e.layer)){const{zIndex:i,zIndexSubOrder:o,name:a}=(r=this.opts)!=null?r:{},s=()=>this.getComputedOpacity(),l=()=>this.getVisibility();this.layer=t.addLayer({zIndex:i,zIndexSubOrder:o,name:a,getComputedOpacity:s,getVisibility:l})}}getComputedOpacity(){let t=1,e=this;do e instanceof PI&&(t*=e.opacity);while(e=e.parent);return t}getVisibility(){let t=this,e=this.visible;for(;t=t.parent;)t.visible||(e=t.visible);return e}visibilityChanged(){this.layer&&(this.layer.enabled=this.visible)}markDirty(t,e=1){if(this.isVirtual){super.markDirty(t,e);return}let r=e;(e<2||this.layer!=null)&&(r=1),super.markDirty(t,e,r)}containsPoint(t,e){return!0}computeBBox(){return this.computeTransformMatrix(),PI.computeBBox(this.children)}computeTransformedBBox(){return this.computeBBox()}render(t){var e,r;const{opts:{name:i=void 0}={},_debug:o=()=>{}}=this,{dirty:a,dirtyZIndex:s,layer:l,children:u,clipRect:c,dirtyTransform:d}=this;let{ctx:p,forceRender:h,clipBBox:f}=t;const{resized:v,stats:g}=t,y=p.getTransform(),m=a>=2||s||v;let C=m,S=!1;for(const T of u)if(C||(C=T.layerManager==null&&T.dirty>=1),S||(S=T.layerManager!=null&&T.dirty>=1),C)break;if(i&&o({name:i,group:this,isDirty:m,isChildDirty:C,dirtyTransform:d,renderCtx:t,forceRender:h}),d)h="dirtyTransform";else if(l){const T=this.computeBBox();(this.lastBBox===void 0||!this.lastBBox.equals(T))&&(h="dirtyTransform",this.lastBBox=T)}if(!m&&!C&&!S&&!h){i&&g&&o({name:i,result:"skipping",renderCtx:t,counts:this.nodeCount,group:this}),l&&g&&(g.layersSkipped++,g.nodesSkipped+=this.nodeCount.count),this.markClean({recursive:!1});return}const w=this.visible;if(l){if(p=l.context,p.save(),p.resetTransform(),h!=="dirtyTransform"&&(h=C||s),h&&l.clear(),f){const{width:T,height:A,x:N,y:M}=f;o(()=>({name:i,clipBBox:f,ctxTransform:p.getTransform(),renderCtx:t,group:this})),this.clipCtx(p,N,M,T,A)}p.setTransform(y)}else p.globalAlpha*=this.opacity;if(this.computeTransformMatrix(),this.matrix.toContext(p),c){const{x:T,y:A,width:N,height:M}=c;p.save(),o(()=>({name:i,clipRect:c,ctxTransform:p.getTransform(),renderCtx:t,group:this})),this.clipCtx(p,T,A,N,M),f=this.matrix.transformBBox(c)}const _=this.hasVirtualChildren();s?(this.sortChildren(u),h!=="dirtyTransform"&&(h=!0)):_&&this.sortChildren(u);const b=h!==t.forceRender||f!==t.clipBBox||p!==t.ctx?Te(te({},t),{ctx:p,forceRender:h,clipBBox:f}):t;let O=0;for(const T of u){if(!T.visible||!w){T.markClean(),g&&(O+=T.nodeCount.count);continue}if(!h&&T.dirty===0){g&&(O+=T.nodeCount.count);continue}p.save(),T.render(b),p.restore()}if(g&&(g.nodesSkipped+=O),super.render(t),c&&p.restore(),_)for(const T of this.virtualChildren)T.markClean({recursive:"virtual"});l&&(g&&g.layersRendered++,p.restore(),h&&l.snapshot(),(r=(e=l.context).verifyDepthZero)==null||r.call(e)),i&&g&&o({name:i,result:"rendered",skipped:O,renderCtx:t,counts:this.nodeCount,group:this})}sortChildren(t){this.dirtyZIndex=!1,t.sort((e,r)=>{var i,o;return GJ([e.zIndex,...(i=e.zIndexSubOrder)!=null?i:[void 0,void 0],e.serialNumber],[r.zIndex,...(o=r.zIndexSubOrder)!=null?o:[void 0,void 0],r.serialNumber],kJ)})}clipCtx(t,e,r,i,o){t.beginPath(),t.moveTo(e,r),t.lineTo(e+i,r),t.lineTo(e+i,r+o),t.lineTo(e,r+o),t.closePath(),t.clip()}static computeBBox(t){let e=1/0,r=-1/0,i=1/0,o=-1/0;return t.forEach(a=>{if(!a.visible)return;const s=a.computeTransformedBBox();if(!s)return;const l=s.x,u=s.y;l<e&&(e=l),u<i&&(i=u),l+s.width>r&&(r=l+s.width),u+s.height>o&&(o=u+s.height)}),new et(e,i,r-e,o-i)}setClipRectInGroupCoordinateSpace(t){this.clipRect=t?this.transformBBox(t):void 0}};iB.className="Group";R([Pe({redraw:3,convertor:n=>Lt(0,n,1)})],iB.prototype,"opacity",2);var Ie=iB,su=class extends Za{constructor(n={}){super(n),this.x1=0,this.y1=0,this.x2=0,this.y2=0,this.startLine=!1,this.endLine=!1,this.isRange=!1,this.restoreOwnStyles()}computeBBox(){return new et(this.x1,this.y1,this.x2-this.x1,this.y2-this.y1)}isPointInPath(n,t){return!1}render(n){var t;const{ctx:e,forceRender:r,stats:i}=n;if(this.dirty===0&&!r){i&&(i.nodesSkipped+=this.nodeCount.count);return}this.computeTransformMatrix(),this.matrix.toContext(e);let{x1:o,y1:a,x2:s,y2:l}=this;o=this.align(o),a=this.align(a),s=this.align(s),l=this.align(l);const{fill:u,opacity:c,isRange:d}=this;if(!!(d&&u)){const{fillOpacity:m}=this;e.fillStyle=u,e.globalAlpha=c*m,e.beginPath(),e.moveTo(o,a),e.lineTo(s,a),e.lineTo(s,l),e.lineTo(o,l),e.closePath(),e.fill()}const{stroke:h,strokeWidth:f,startLine:v,endLine:g}=this;if(!!((v||g)&&h&&f)){const{strokeOpacity:m,lineDash:C,lineDashOffset:S,lineCap:w,lineJoin:_}=this;e.strokeStyle=h,e.globalAlpha=c*m,e.lineWidth=f,C&&e.setLineDash(C),S&&(e.lineDashOffset=S),w&&(e.lineCap=w),_&&(e.lineJoin=_),e.beginPath(),v&&(e.moveTo(o,a),e.lineTo(s,a)),g&&(e.moveTo(s,l),e.lineTo(o,l)),e.stroke()}(t=this.fillShadow)==null||t.markClean(),super.render(n)}};su.className="Range";su.defaultStyles=Te(te({},Za.defaultStyles),{strokeWidth:1});R([Pe({redraw:2})],su.prototype,"x1",2);R([Pe({redraw:2})],su.prototype,"y1",2);R([Pe({redraw:2})],su.prototype,"x2",2);R([Pe({redraw:2})],su.prototype,"y2",2);R([Pe({redraw:2})],su.prototype,"startLine",2);R([Pe({redraw:2})],su.prototype,"endLine",2);R([Pe({redraw:2})],su.prototype,"isRange",2);var ln=class extends tr{constructor(){super(...arguments),this.enabled=!0,this.color="#464646",this.fontSize=12,this.fontFamily="Verdana, sans-serif"}getFont(){return Bd(this)}};R([F(ze)],ln.prototype,"enabled",2);R([F(Dt)],ln.prototype,"color",2);R([F(tp,{optional:!0})],ln.prototype,"fontStyle",2);R([F(rp,{optional:!0})],ln.prototype,"fontWeight",2);R([F(Se)],ln.prototype,"fontSize",2);R([F(xe)],ln.prototype,"fontFamily",2);R([F(rs,{optional:!0})],ln.prototype,"formatter",2);function LO(n){const{parallelFlipRotation:t=0,regularFlipRotation:e=0}=n,r=n.rotation?$r(pi(n.rotation)):0,i=!r&&t>=0&&t<=Math.PI?-1:1,o=!r&&e>=0&&e<=Math.PI?-1:1;let a=0;return n.parallel?a=i*Math.PI/2:o===-1&&(a=Math.PI),{configuredRotation:r,defaultRotation:a,parallelFlipFlag:i,regularFlipFlag:o}}function y$e(n,t){return isNaN(n)?t?0:10:n}function m$e(n,t,e,r){return n&&!t?e*r===-1?"hanging":"bottom":"middle"}function dM(n,t,e,r,i){const o=t>0&&t<=Math.PI,a=e>0&&e<=Math.PI,s=o||a?-1:1;if(n)if(t||e){if(r*s===-1)return"end"}else return"center";else if(r*i===-1)return"end";return"start"}function C$e(n,t,e,r,i){const{width:o,height:a}=t,s=new et(e,r,0,0);i.transformBBox(s,t);const{x:l=0,y:u=0}=t;return t.width=o,t.height=a,{point:{x:l,y:u,size:0},label:{width:o,height:a,text:n}}}var VJ=(n=>(n[n.SERIES_BACKGROUND_ZINDEX=0]="SERIES_BACKGROUND_ZINDEX",n[n.AXIS_GRID_ZINDEX=1]="AXIS_GRID_ZINDEX",n[n.AXIS_ZINDEX=2]="AXIS_ZINDEX",n[n.SERIES_CROSSLINE_RANGE_ZINDEX=3]="SERIES_CROSSLINE_RANGE_ZINDEX",n[n.SERIES_LAYER_ZINDEX=4]="SERIES_LAYER_ZINDEX",n[n.AXIS_FOREGROUND_ZINDEX=5]="AXIS_FOREGROUND_ZINDEX",n[n.SERIES_CROSSHAIR_ZINDEX=6]="SERIES_CROSSHAIR_ZINDEX",n[n.SERIES_LABEL_ZINDEX=7]="SERIES_LABEL_ZINDEX",n[n.SERIES_CROSSLINE_LINE_ZINDEX=8]="SERIES_CROSSLINE_LINE_ZINDEX",n[n.LEGEND_ZINDEX=9]="LEGEND_ZINDEX",n))(VJ||{}),oB=n=>!!n&&Object.hasOwn(n,"toString")&&$a(n.toString()),S$e=n=>!!n&&Object.hasOwn(n,"valueOf")&&Gt(n.valueOf()),aB=n=>Gt(n)||S$e(n)||Kw(n);function KS(n,t){if(t&&aB(n))return n;if(!t)return $a(n)||oB(n)?n:String(n)}function Yv(n){return oB(n)&&Object.hasOwn(n,"id")?n.id:n}var sB=n=>n==="value"?Qt((t,e)=>e.target.type==="line",t=>t.target.type==="range"?"crossLine type 'range' to have a 'range' property instead of 'value'":"crossLine property 'type' to be 'line'"):Qt((t,e)=>e.target.type==="range",t=>t.target.type==="line"?"crossLine type 'line' to have a 'value' property instead of 'range'":"crossLine property 'type' to be 'range'"),BJ=(n,t,e,r)=>{const i=n==="line"&&t!==void 0,o=n==="range"&&e!==void 0;if(!i&&!o)return!0;const[a,s]=e??[t,void 0],l=Xt.is(r),u=KS(a,l)!=null&&!isNaN(r.convert(a)),c=KS(s,l)!=null&&!isNaN(r.convert(s));if(i&&u||o&&u&&c)return!0;const d=["Expecting crossLine"];return o?(u||d.push(`range start ${VC(a)}`),c||d.push(`${u?"":"and "}range end ${VC(s)}`)):d.push(`value ${VC(a)}`),d.push("to match the axis scale domain."),Oe.warnOnce(d.join(" ")),!1},w$e={top:{xTranslationDirection:0,yTranslationDirection:-1},bottom:{xTranslationDirection:0,yTranslationDirection:1},left:{xTranslationDirection:-1,yTranslationDirection:0},right:{xTranslationDirection:1,yTranslationDirection:0},topLeft:{xTranslationDirection:1,yTranslationDirection:-1},topRight:{xTranslationDirection:-1,yTranslationDirection:-1},bottomLeft:{xTranslationDirection:1,yTranslationDirection:1},bottomRight:{xTranslationDirection:-1,yTranslationDirection:1},inside:{xTranslationDirection:0,yTranslationDirection:0},insideLeft:{xTranslationDirection:1,yTranslationDirection:0},insideRight:{xTranslationDirection:-1,yTranslationDirection:0},insideTop:{xTranslationDirection:0,yTranslationDirection:1},insideBottom:{xTranslationDirection:0,yTranslationDirection:-1},insideTopLeft:{xTranslationDirection:1,yTranslationDirection:1},insideBottomLeft:{xTranslationDirection:1,yTranslationDirection:-1},insideTopRight:{xTranslationDirection:-1,yTranslationDirection:1},insideBottomRight:{xTranslationDirection:-1,yTranslationDirection:-1}},_$e={top:{xTranslationDirection:1,yTranslationDirection:0},bottom:{xTranslationDirection:-1,yTranslationDirection:0},left:{xTranslationDirection:0,yTranslationDirection:-1},right:{xTranslationDirection:0,yTranslationDirection:1},topLeft:{xTranslationDirection:-1,yTranslationDirection:-1},topRight:{xTranslationDirection:-1,yTranslationDirection:1},bottomLeft:{xTranslationDirection:1,yTranslationDirection:-1},bottomRight:{xTranslationDirection:1,yTranslationDirection:1},inside:{xTranslationDirection:0,yTranslationDirection:0},insideLeft:{xTranslationDirection:0,yTranslationDirection:1},insideRight:{xTranslationDirection:0,yTranslationDirection:-1},insideTop:{xTranslationDirection:-1,yTranslationDirection:0},insideBottom:{xTranslationDirection:1,yTranslationDirection:0},insideTopLeft:{xTranslationDirection:-1,yTranslationDirection:1},insideBottomLeft:{xTranslationDirection:1,yTranslationDirection:1},insideTopRight:{xTranslationDirection:-1,yTranslationDirection:-1},insideBottomRight:{xTranslationDirection:1,yTranslationDirection:-1}};function oz({yDirection:n,padding:t=0,position:e="top",bbox:r}){const i=n?w$e:_$e,{xTranslationDirection:o,yTranslationDirection:a}=i[e],s=n?r.width:r.height,l=n?r.height:r.width,u=o*(t+s/2),c=a*(t+l/2);return{xTranslation:u,yTranslation:c}}function x$e({yDirection:n,bbox:t,padding:e=0,position:r="top"}){const i={};return r.startsWith("inside")||(r==="top"&&!n?i.top=e+t.height:r==="bottom"&&!n?i.bottom=e+t.height:r==="left"&&n?i.left=e+t.width:r==="right"&&n&&(i.right=e+t.width)),i}var AI=({yDirection:n,xEnd:t,yStart:e,yEnd:r})=>n?{x:t/2,y:e}:{x:t,y:isNaN(r)?e:(e+r)/2},az=({yDirection:n,xStart:t,xEnd:e,yStart:r,yEnd:i})=>n?{x:t,y:isNaN(i)?r:(r+i)/2}:{x:e/2,y:r},sz=({yDirection:n,xEnd:t,yStart:e,yEnd:r})=>n?{x:t,y:isNaN(r)?e:(e+r)/2}:{x:t/2,y:isNaN(r)?e:r},lz=({yDirection:n,xStart:t,xEnd:e,yStart:r,yEnd:i})=>n?{x:e/2,y:isNaN(i)?r:i}:{x:t,y:isNaN(i)?r:(r+i)/2},E$e=({xEnd:n,yStart:t,yEnd:e})=>({x:n/2,y:isNaN(e)?t:(t+e)/2}),uz=({yDirection:n,xStart:t,xEnd:e,yStart:r})=>n?{x:t/2,y:r}:{x:e,y:r},cz=({yDirection:n,xStart:t,yStart:e,yEnd:r})=>n?{x:t,y:isNaN(r)?e:r}:{x:t,y:e},dz=({yDirection:n,xEnd:t,yStart:e,yEnd:r})=>n?{x:t,y:e}:{x:t,y:isNaN(r)?e:r},pz=({yDirection:n,xStart:t,xEnd:e,yStart:r,yEnd:i})=>n?{x:e,y:isNaN(i)?r:i}:{x:t,y:isNaN(i)?r:i},b$e={top:{c:AI},bottom:{c:lz},left:{c:az},right:{c:sz},topLeft:{c:uz},topRight:{c:dz},bottomLeft:{c:cz},bottomRight:{c:pz},inside:{c:E$e},insideLeft:{c:az},insideRight:{c:sz},insideTop:{c:AI},insideBottom:{c:lz},insideTopLeft:{c:uz},insideBottomLeft:{c:cz},insideTopRight:{c:dz},insideBottomRight:{c:pz}},O$e=Kr(["top","left","right","bottom","topLeft","topRight","bottomLeft","bottomRight","inside","insideLeft","insideRight","insideTop","insideBottom","insideTopLeft","insideBottomLeft","insideTopRight","insideBottomRight"],"crossLine label position"),is=class{constructor(){this.enabled=void 0,this.text=void 0,this.fontStyle=void 0,this.fontWeight=void 0,this.fontSize=14,this.fontFamily="Verdana, sans-serif",this.padding=5,this.color="rgba(87, 87, 87, 1)",this.position=void 0,this.rotation=void 0,this.parallel=void 0}};R([F(ze,{optional:!0})],is.prototype,"enabled",2);R([F(xe,{optional:!0})],is.prototype,"text",2);R([F(tp,{optional:!0})],is.prototype,"fontStyle",2);R([F(rp,{optional:!0})],is.prototype,"fontWeight",2);R([F(Se)],is.prototype,"fontSize",2);R([F(xe)],is.prototype,"fontFamily",2);R([F(nr)],is.prototype,"padding",2);R([F(Dt,{optional:!0})],is.prototype,"color",2);R([F(O$e,{optional:!0})],is.prototype,"position",2);R([F(ep,{optional:!0})],is.prototype,"rotation",2);R([F(ze,{optional:!0})],is.prototype,"parallel",2);var Li=class nC{constructor(){this.id=nu(this),this.enabled=void 0,this.type=void 0,this.range=void 0,this.value=void 0,this.fill=void 0,this.fillOpacity=void 0,this.stroke=void 0,this.strokeWidth=void 0,this.strokeOpacity=void 0,this.lineDash=void 0,this.label=new is,this.scale=void 0,this.clippedRange=[-1/0,1/0],this.gridLength=0,this.sideFlag=-1,this.parallelFlipRotation=0,this.regularFlipRotation=0,this.direction="x",this.group=new Ie({name:`${this.id}`,layer:!0,zIndex:nC.LINE_LAYER_ZINDEX}),this.labelGroup=new Ie({name:`${this.id}`,layer:!0,zIndex:nC.LABEL_LAYER_ZINDEX}),this.crossLineRange=new su,this.crossLineLabel=new It,this.labelPoint=void 0,this.data=[],this.startLine=!1,this.endLine=!1,this.isRange=!1;const{group:t,labelGroup:e,crossLineRange:r,crossLineLabel:i}=this;t.append(r),e.append(i),r.pointerEvents=1}update(t){const{enabled:e,data:r,type:i,value:o,range:a,scale:s}=this;if(!i||!s||!e||!t||!BJ(i,o,a,s)||r.length===0){this.group.visible=!1,this.labelGroup.visible=!1;return}this.group.visible=t,this.labelGroup.visible=t,this.group.zIndex=this.getZIndex(this.isRange),this.updateNodes()}calculateLayout(t,e){if(!t||!this.createNodeData(e))return;const{sideFlag:i,gridLength:o,data:a}=this,s=[],l=0,u=i*o,c=a[0],d=a[1],p=new et(Math.min(l,u),Math.min(c,d),Math.abs(l-u),Math.abs(c-d));s.push(p);const h=this.computeLabelBBox();return h&&s.push(h),et.merge(s)}updateNodes(){this.updateRangeNode(),this.label.enabled&&(this.updateLabel(),this.positionLabel())}createNodeData(t){var e,r,i;const{scale:o,gridLength:a,sideFlag:s,direction:l,label:{position:u="top"},clippedRange:c,strokeWidth:d=0}=this;if(this.data=[],!o)return!1;const p=(e=o.bandwidth)!=null?e:0,h=(r=o.step)!=null?r:0,f=(t?-1:1)*(o instanceof Ql?(h-p)/2:0),[v,g]=[0,s*a];let[y,m]=this.getRange(),[C,S]=[Number(o.convert(y,{clampMode:"clamped"}))-f,o.convert(m,{clampMode:"clamped"})+p+f];C=MO(C,c),S=MO(S,c),[y,m]=[Number(o.convert(y)),o.convert(m)+p];const w=(y===C||m===S||C!==S)&&Math.abs(S-C)>0;if(w&&C>S&&([C,S]=[S,C],[y,m]=[m,y]),y-f>=C&&(y-=f),m+f<=S&&(m+=f),this.isRange=w,this.startLine=d>0&&y>=C&&y<=C+f,this.endLine=d>0&&m>=S-p-f&&m<=S,!w&&!this.startLine&&!this.endLine)return!1;if(this.data=[C,S],this.label.enabled){const _=l==="y",{c:x=AI}=(i=b$e[u])!=null?i:{},{x:b,y:O}=x({yDirection:_,xStart:v,xEnd:g,yStart:C,yEnd:S});this.labelPoint={x:b,y:O}}return!0}updateRangeNode(){var t;const{crossLineRange:e,sideFlag:r,gridLength:i,data:o,startLine:a,endLine:s,isRange:l,fill:u,fillOpacity:c,stroke:d,strokeWidth:p,lineDash:h}=this;e.x1=0,e.x2=r*i,e.y1=o[0],e.y2=o[1],e.startLine=a,e.endLine=s,e.isRange=l,e.fill=u,e.fillOpacity=c??1,e.stroke=d,e.strokeWidth=p??1,e.strokeOpacity=(t=this.strokeOpacity)!=null?t:1,e.lineDash=h}updateLabel(){const{crossLineLabel:t,label:e}=this;e.text&&(t.fontStyle=e.fontStyle,t.fontWeight=e.fontWeight,t.fontSize=e.fontSize,t.fontFamily=e.fontFamily,t.fill=e.color,t.text=e.text)}positionLabel(){const{crossLineLabel:t,labelPoint:{x:e=void 0,y:r=void 0}={},label:{parallel:i,rotation:o,position:a="top",padding:s=0},direction:l,parallelFlipRotation:u,regularFlipRotation:c}=this;if(e===void 0||r===void 0)return;const{defaultRotation:d,configuredRotation:p}=LO({rotation:o,parallel:i,regularFlipRotation:c,parallelFlipRotation:u});t.rotation=d+p,t.textBaseline="middle",t.textAlign="center";const h=t.computeTransformedBBox();if(!h)return;const f=l==="y",{xTranslation:v,yTranslation:g}=oz({yDirection:f,padding:s,position:a,bbox:h});t.translationX=e+v,t.translationY=r+g}getZIndex(t=!1){return t?nC.RANGE_LAYER_ZINDEX:nC.LINE_LAYER_ZINDEX}getRange(){var t;const{value:e,range:r,scale:i}=this,o=Xt.is(i),a=(t=r==null?void 0:r[0])!=null?t:e;let s=r==null?void 0:r[1];return!o&&s===void 0&&(s=a),o&&a===s&&(s=void 0),[a,s]}computeLabelBBox(){const{label:t}=this;if(!t.enabled)return;const e=new It;e.fontFamily=t.fontFamily,e.fontSize=t.fontSize,e.fontStyle=t.fontStyle,e.fontWeight=t.fontWeight,e.text=t.text;const{labelPoint:{x:r=void 0,y:i=void 0}={},label:{parallel:o,rotation:a,position:s="top",padding:l=0},direction:u,parallelFlipRotation:c,regularFlipRotation:d}=this;if(r===void 0||i===void 0)return;const{configuredRotation:p}=LO({rotation:a,parallel:o,regularFlipRotation:d,parallelFlipRotation:c});e.rotation=p,e.textBaseline="middle",e.textAlign="center";const h=e.computeTransformedBBox();if(!h)return;const f=u==="y",{xTranslation:v,yTranslation:g}=oz({yDirection:f,padding:l,position:s,bbox:h});return e.translationX=r+v,e.translationY=i+g,e.computeTransformedBBox()}calculatePadding(t){var e,r,i,o,a,s,l,u;const{isRange:c,startLine:d,endLine:p,direction:h,label:{padding:f=0,position:v="top"}}=this;if(!c&&!d&&!p)return;const g=this.computeLabelBBox();if((g==null?void 0:g.x)==null||(g==null?void 0:g.y)==null)return;const y=x$e({yDirection:h==="y",padding:f,position:v,bbox:g});t.left=Math.max((e=t.left)!=null?e:0,(r=y.left)!=null?r:0),t.right=Math.max((i=t.right)!=null?i:0,(o=y.right)!=null?o:0),t.top=Math.max((a=t.top)!=null?a:0,(s=y.top)!=null?s:0),t.bottom=Math.max((l=t.bottom)!=null?l:0,(u=y.bottom)!=null?u:0)}};Li.LINE_LAYER_ZINDEX=8;Li.RANGE_LAYER_ZINDEX=3;Li.LABEL_LAYER_ZINDEX=7;Li.className="CrossLine";R([F(ze,{optional:!0})],Li.prototype,"enabled",2);R([F(Kr(["range","line"],"a crossLine type"),{optional:!0})],Li.prototype,"type",2);R([F(ou(sB("range"),e0.restrict({length:2})),{optional:!0})],Li.prototype,"range",2);R([F(sB("value"),{optional:!0})],Li.prototype,"value",2);R([F(Dt,{optional:!0})],Li.prototype,"fill",2);R([F(Wt,{optional:!0})],Li.prototype,"fillOpacity",2);R([F(Dt,{optional:!0})],Li.prototype,"stroke",2);R([F(nr,{optional:!0})],Li.prototype,"strokeWidth",2);R([F(Wt,{optional:!0})],Li.prototype,"strokeOpacity",2);R([F(mc,{optional:!0})],Li.prototype,"lineDash",2);var DI=Li,HJ=class{constructor(){this.moduleMap=new Map}addModule(n,t){if(this.moduleMap.has(n.optionsKey))throw new Error(`AG Charts - module already initialised: ${n.optionsKey}`);this.moduleMap.set(n.optionsKey,t(n))}removeModule(n){var t;const e=$a(n)?n:n.optionsKey;(t=this.moduleMap.get(e))==null||t.destroy(),this.moduleMap.delete(e)}isModuleEnabled(n){return this.moduleMap.has($a(n)?n:n.optionsKey)}getModule(n){return this.moduleMap.get($a(n)?n:n.optionsKey)}get modules(){return this.moduleMap.values()}mapValues(n){return Array.from(this.moduleMap.values()).map(n)}destroy(){for(const n of this.moduleMap.keys())this.removeModule({optionsKey:n})}},jJ={};hc(jJ,{resetMotion:()=>gn});function gn(n,t){const{nodes:e,selections:r}=oP(n);for(const i of r){for(const o of i.nodes()){const a=t(o,o.datum);o.setProperties(a)}i.cleanup()}for(const i of e){const o=t(i,i.datum);i.setProperties(o)}}var o0=class{constructor(n,t,e){this.states=t,this.preTransitionCb=e,this.debug=Lr.create(!0,"animation"),this.state=n,this.debug(`%c${this.constructor.name} | init -> ${n}`,"color: green")}transition(n,t){var e,r;const i=this.states[this.state],o=i==null?void 0:i[n];if(!o){this.debug(`%c${this.constructor.name} | ${this.state} -> ${n} -> ${this.state}`,"color: grey");return}let a=this.state;return typeof o=="string"?a=o:typeof o=="object"&&(a=o.target),this.debug(`%c${this.constructor.name} | ${this.state} -> ${n} -> ${a}`,"color: green"),(e=this.preTransitionCb)==null||e.call(this,this.state,a),this.state=a,typeof o=="function"?o(t):typeof o=="object"&&((r=o.action)==null||r.call(o,t)),this.state}},Xv=n=>`(${n})`,Su=n=>`${Xv(n)}?`,hz=n=>Su(`?:${n}`),R$e=(()=>{const n=".",t="[<>=^]",e="[+\\-( ]",r="[$€£¥₣₹#]",i="0",o="\\d+",a=",",s="\\d+",l="~",u="[%a-z]";return new RegExp(["^",hz(`${Su(n)}${Xv(t)}`),Su(e),Su(r),Su(i),Su(o),Su(a),hz(`\\.${Xv(s)}`),Su(l),Su(u),"$"].join(""),"i")})(),T$e=(()=>{const n=".*?",t=".+?",e=".*?";return new RegExp(["^",Xv(n),`#\\{${Xv(t)}\\}`,Xv(e),"$"].join(""))})();function $J(n){let t,e;const r=T$e.exec(n);r&&([,t,n,e]=r);const i=R$e.exec(n);if(!i)throw new Error(`The number formatter is invalid: ${n}`);const[,o,a,s,l,u,c,d,p,h,f]=i;return{fill:o,align:a,sign:s,symbol:l,zero:u,width:parseInt(c),comma:d,precision:parseInt(p),trim:!!h,type:f,prefix:t,suffix:e}}function WJ(n){const t=typeof n=="string"?$J(n):n,{fill:e,align:r,sign:i="-",symbol:o,zero:a,width:s,comma:l,type:u,prefix:c="",suffix:d="",precision:p}=t;let{trim:h}=t;const f=p===void 0||isNaN(p);let v;if(!u)v=zo.g,h=!0;else if(u in zo&&u in Sv)v=f?Sv[u]:zo[u];else if(u in zo)v=zo[u];else if(u in Sv)v=Sv[u];else throw new Error(`The number formatter type is invalid: ${u}`);let g;return p==null||f?g=u?6:12:g=p,y=>{let m=v(y,g);return h&&(m=P$e(m)),l&&(m=A$e(m,l)),m=L$e(y,m,i),o&&o!=="#"&&(m=`${o}${m}`),o==="#"&&u==="x"&&(m=`0x${m}`),u==="s"&&(m=`${m}${D$e(y)}`),(u==="%"||u==="p")&&(m=`${m}%`),s!=null&&!isNaN(s)&&(m=I$e(m,s,e??a,r)),m=`${c}${m}${d}`,m}}var ux=n=>Math.floor(Math.abs(n)),Sv={b:n=>ux(n).toString(2),c:n=>String.fromCharCode(n),d:n=>Math.round(Math.abs(n)).toFixed(0),o:n=>ux(n).toString(8),x:n=>ux(n).toString(16),X:n=>Sv.x(n).toUpperCase(),n:n=>Sv.d(n),"%":n=>`${ux(n*100).toFixed(0)}`},zo={e:(n,t)=>Math.abs(n).toExponential(t),E:(n,t)=>zo.e(n,t).toUpperCase(),f:(n,t)=>Math.abs(n).toFixed(t),F:(n,t)=>zo.f(n,t).toUpperCase(),g:(n,t)=>{if(n===0)return"0";const e=Math.abs(n),r=Math.floor(Math.log10(e));return r>=-4&&r<t?e.toFixed(t-1-r):e.toExponential(t-1)},G:(n,t)=>zo.g(n,t).toUpperCase(),n:(n,t)=>zo.g(n,t),p:(n,t)=>zo.r(n*100,t),r:(n,t)=>{if(n===0)return"0";const e=Math.abs(n),i=Math.floor(Math.log10(e))-(t-1);if(i<=0)return e.toFixed(-i);const o=Math.pow(10,i);return(Math.round(e/o)*o).toFixed()},s:(n,t)=>{const e=UJ(n);return zo.r(n/Math.pow(10,e),t)},"%":(n,t)=>zo.f(n*100,t)};function P$e(n){return n.replace(/\.0+$/,"").replace(/(\.[1-9])0+$/,"$1")}function A$e(n,t){let e=n.indexOf(".");e<0&&(e=n.length);const r=n.substring(0,e).split(""),i=n.substring(e);for(let o=r.length-3;o>0;o-=3)r.splice(o,0,t);return`${r.join("")}${i}`}function D$e(n){return M$e[UJ(n)]}function UJ(n){return Lt(zJ,Math.floor(Math.log10(Math.abs(n))/3)*3,KJ)}var zJ=-24,KJ=24,M$e={[zJ]:"y",[-21]:"z",[-18]:"a",[-15]:"f",[-12]:"p",[-9]:"n",[-6]:"µ",[-3]:"m",0:"",3:"k",6:"M",9:"G",12:"T",15:"P",18:"E",21:"Z",[KJ]:"Y"},F$e="−";function L$e(n,t,e=""){if(e==="(")return n>=0?t:`(${t})`;const r=e==="+"?"+":"";return`${n>=0?r:F$e}${t}`}function I$e(n,t,e=" ",r=">"){let i=n;if(r===">"||!r)i=i.padStart(t,e);else if(r==="<")i=i.padEnd(t,e);else if(r==="^"){const o=Math.max(0,t-i.length),a=Math.ceil(o/2),s=Math.floor(o/2);i=i.padStart(a+i.length,e),i=i.padEnd(s+i.length,e)}return i}function YJ(n,t){const e=$J(t??",f"),{precision:r}=e;(r==null||isNaN(r))&&(e.type==="f"||e.type==="%"?e.precision=Math.max(...n.map(o=>{if(typeof o!="number"||o===0)return 0;const a=Math.floor(Math.log10(Math.abs(o))),s=e.type?6:12,l=o.toExponential(s-1).replace(/\.?0+e/,"e"),u=l.indexOf(".");if(u<0)return a>=0?0:-a;const c=l.indexOf("e")-u;return Math.max(0,c-a-1)})):(!e.type||e.type in zo)&&(e.precision=Math.max(...n.map(o=>{if(typeof o!="number")return 0;const a=o.toExponential((e.type?6:12)-1).replace(/\.?0+e/,"e");return a.substring(0,a.indexOf("e")).replace(".","").length}))));const i=WJ(e);return o=>i(Number(o))}var YS=(n,t=[])=>Object.assign(t,{fractionDigits:n});function dP(n,t,e,r,i){if(e<2)return XS(n,t,t-n);const o=Og(n,t,e,r,i);return isNaN(o)?YS(0):(n=Math.ceil(n/o)*o,t=Math.floor(t/o)*o,XS(n,t,o))}var XJ=[1,2,5,10];function Og(n,t,e,r=0,i=1/0){const o=Math.abs(t-n),a=o/e,s=Math.floor(Math.log10(a)),l=Math.pow(10,s),u=XJ.map(c=>{const d=c*l,p=Math.ceil(o/d),h=p>=r&&p<=i,f=Math.abs(p-e);return{multiplier:c,isWithinBounds:h,diffCount:f}}).sort((c,d)=>c.isWithinBounds!==d.isWithinBounds?c.isWithinBounds?-1:1:c.diffCount-d.diffCount)[0].multiplier;return!u||isNaN(u)?NaN:u*l}function N$e(n,t){const e=Math.abs(t-n),r=Math.floor(Math.log10(e)),i=Math.pow(10,r),o=n>t?Math.ceil:Math.floor,a=t<n?Math.floor:Math.ceil;return XJ.map(s=>{const l=s*i,u=o(n/l)*l,c=a(t/l)*l;return{error:1-e/Math.abs(c-u),domain:[u,c]}}).sort((s,l)=>s.error-l.error)[0].domain}function XS(n,t,e){const r=Math.min(n,t),i=Math.max(n,t),o=zV(e),a=Math.pow(10,o),s=Math.ceil((i-r)/e),l=YS(o);for(let u=0;u<=s;u++){const c=r+e*u;l.push(Math.round(c*a)/a)}return l}var qJ=class MI extends Xt{constructor(){super([1,10],[0,1]),this.type="log",this.base=10,this.baseLog=QU,this.basePow=QU,this.log=t=>Math.min(...this.domain)>=0?this.baseLog(t):-this.baseLog(-t),this.pow=t=>Math.min(...this.domain)>=0?this.basePow(t):-this.basePow(-t),this.defaultClampMode="clamped"}toDomain(t){return t}transform(t){return Math.min(...this.domain)>=0?Math.log(t):-Math.log(-t)}transformInvert(t){return Math.min(...this.domain)>=0?Math.exp(t):-Math.exp(-t)}refresh(){this.base<=0&&(this.base=0,Oe.warnOnce("expecting a finite Number greater than to 0")),super.refresh()}update(){!this.domain||this.domain.length<2||(this.baseLog=MI.getBaseLogMethod(this.base),this.basePow=MI.getBasePowerMethod(this.base),this.nice&&this.updateNiceDomain())}updateNiceDomain(){const[t,e]=this.domain,r=t>e?Math.ceil:Math.floor,i=t>e?Math.floor:Math.ceil,o=this.pow(r(this.log(t))),a=this.pow(i(this.log(e)));this.niceDomain=[o,a]}ticks(){var t;const e=(t=this.tickCount)!=null?t:10;if(!this.domain||this.domain.length<2||e<1)return[];this.refresh();const r=this.base,[i,o]=this.getDomain(),a=Math.min(i,o),s=Math.max(i,o);let l=this.log(a),u=this.log(s);if(this.interval){const g=Math.abs(this.interval),y=Math.abs(u-l);let m=XS(l,u,Math.min(y,g));if(m=YS(m.fractionDigits,m.map(C=>this.pow(C)).filter(C=>C>=a&&C<=s)),!this.isDenseInterval({start:a,stop:s,interval:g,count:m.length}))return m}const c=r%1===0,d=u-l>=e;if(!c||d){let g=dP(l,u,Math.min(u-l,e));return g=YS(g.fractionDigits,g.map(y=>this.pow(y))),g}const p=[],h=a>0;l=Math.floor(l)-1,u=Math.round(u)+1;const f=bg(this.range)/e;let v=1/0;for(let g=l;g<=u;g++){const y=this.convert(this.pow(g+1));for(let m=1;m<r;m++){const C=h?m:r-m+1,S=this.pow(g)*C,w=this.convert(S),_=Math.abs(v-w),x=Math.abs(w-y),b=_>=f&&x>=f;S>=a&&S<=s&&(m===1||b)&&(p.push(S),v=w)}}return p}tickFormat({count:t,ticks:e,specifier:r}){return t!==1/0&&e==null&&this.ticks(),r??(r=this.base===10?".0e":","),$a(r)?WJ(r):r}static getBaseLogMethod(t){switch(t){case 10:return Math.log10;case Math.E:return Math.log;case 2:return Math.log2;default:const e=Math.log(t);return r=>Math.log(r)/e}}static getBasePowerMethod(t){switch(t){case 10:return e=>e>=0?pt(10,e):1/pt(10,-e);case Math.E:return Math.exp;default:return e=>pt(t,e)}}};R([mo],qJ.prototype,"base",2);var lB=qJ,cx={periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]};function uB(n,t=new Date(n.getFullYear(),0,1)){const e=n.getTimezoneOffset()-t.getTimezoneOffset(),r=n.getTime()-t.getTime()+e*6e4,i=36e5*24;return Math.floor(r/i)}function fz(n,t){const r=new Date(n.getFullYear(),0,1).getDay(),i=(t-r+7)%7,o=new Date(n.getFullYear(),0,i+1);return o<=n?Math.floor(uB(n,o)/7)+1:0}var k$e=0,ZJ=1,vz=4;function QJ(n,t=n.getFullYear()){const r=new Date(t,0,1).getDay(),i=(vz-r+7)%7,o=new Date(t,0,i-(vz-ZJ)+1);return o<=n?Math.floor(uB(n,o)/7)+1:QJ(n,t-1)}function G$e(n){const t=n.getTimezoneOffset(),e=Math.abs(t);return`${t>0?"-":"+"}${Bn(Math.floor(e/60),2,"0")}${Bn(Math.floor(e%60),2,"0")}`}var V$e={a:n=>cx.shortDays[n.getDay()],A:n=>cx.days[n.getDay()],b:n=>cx.shortMonths[n.getMonth()],B:n=>cx.months[n.getMonth()],c:"%x, %X",d:(n,t)=>Bn(n.getDate(),2,t??"0"),e:"%_d",f:(n,t)=>Bn(n.getMilliseconds()*1e3,6,t??"0"),H:(n,t)=>Bn(n.getHours(),2,t??"0"),I:(n,t)=>{const e=n.getHours()%12;return e===0?"12":Bn(e,2,t??"0")},j:(n,t)=>Bn(uB(n)+1,3,t??"0"),m:(n,t)=>Bn(n.getMonth()+1,2,t??"0"),M:(n,t)=>Bn(n.getMinutes(),2,t??"0"),L:(n,t)=>Bn(n.getMilliseconds(),3,t??"0"),p:n=>n.getHours()<12?"AM":"PM",Q:n=>String(n.getTime()),s:n=>String(Math.floor(n.getTime()/1e3)),S:(n,t)=>Bn(n.getSeconds(),2,t??"0"),u:n=>{let t=n.getDay();return t<1&&(t+=7),String(t%7)},U:(n,t)=>Bn(fz(n,k$e),2,t??"0"),V:(n,t)=>Bn(QJ(n),2,t??"0"),w:(n,t)=>Bn(n.getDay(),2,t??"0"),W:(n,t)=>Bn(fz(n,ZJ),2,t??"0"),x:"%-m/%-d/%Y",X:"%-I:%M:%S %p",y:(n,t)=>Bn(n.getFullYear()%100,2,t??"0"),Y:(n,t)=>Bn(n.getFullYear(),4,t??"0"),Z:n=>G$e(n),"%":()=>"%"},B$e={_:" ",0:"0","-":""};function Bn(n,t,e){const r=String(Math.floor(n));return r.length>=t?r:`${e.repeat(t-r.length)}${r}`}function FI(n){const t=[];for(;n.length>0;){let e=n.indexOf("%");if(e!==0){const s=e>0?n.substring(0,e):n;t.push(s)}if(e<0)break;const r=n[e+1],i=B$e[r];i!=null&&e++;const o=n[e+1],a=V$e[o];if(typeof a=="function")t.push([a,i]);else if(typeof a=="string"){const s=FI(a);t.push([s,i])}else t.push(`${i??""}${o}`);n=n.substring(e+2)}return e=>{const r=typeof e=="number"?new Date(e):e;return t.map(i=>typeof i=="string"?i:i[0](r,i[1])).join("")}}var _p={0:".%L",1:":%S",2:"%I:%M",3:"%I %p",4:"%a",5:"%b %d",6:"%B",7:"%y",8:"%Y"};function Sa(n){return n instanceof Date?n.getTime():n}var cB=class extends Xt{constructor(){super([],[0,1]),this.type="time",this.year=oHe,this.month=rHe,this.week=J2e,this.day=z2e,this.hour=$2e,this.minute=B2e,this.second=k2e,this.millisecond=L2e,this.tickIntervals=[[this.second,1,mh],[this.second,5,5*mh],[this.second,15,15*mh],[this.second,30,30*mh],[this.minute,1,Ei],[this.minute,5,5*Ei],[this.minute,15,15*Ei],[this.minute,30,30*Ei],[this.hour,1,Pl],[this.hour,3,3*Pl],[this.hour,6,6*Pl],[this.hour,12,12*Pl],[this.day,1,Dd],[this.day,2,2*Dd],[this.week,1,$m],[this.week,2,2*$m],[this.week,3,3*$m],[this.month,1,hm],[this.month,2,2*hm],[this.month,3,3*hm],[this.month,4,4*hm],[this.month,6,6*hm],[this.year,1,lx]]}toDomain(n){return new Date(n)}calculateDefaultTickFormat(n=[]){let t=8;const e=l=>{l<t&&(t=l)};for(const l of n){const u=this.getLowestGranularityFormat(l);e(u)}const r=Sa(n[0]),i=Sa(n.at(-1)),o=new Date(r).getFullYear(),s=new Date(i).getFullYear()-o>0;return this.buildFormatString(t,s)}buildFormatString(n,t){let e=[_p[n]],r=0;const i=this.getDomain(),o=bg(i.map(Sa));switch(n){case 1:o/Ei>1&&e.push(_p[2]);case 2:o/Pl>1&&e.push(_p[3]);case 3:r=e.length,o/Dd>1&&e.push(_p[4]);case 4:if(o/$m>1||t){const a=e.indexOf(_p[4]);a>-1&&e.splice(a,1,_p[5])}case 5:case 6:(o/lx>1||t)&&e.push(_p[8])}return r<e.length&&(e=[...e.slice(0,r),e.slice(r).join(" ")]),r>0&&(e=[...e.slice(0,r).reverse(),...e.slice(r)],r<e.length&&e.splice(r,0," ")),e.join("")}getLowestGranularityFormat(n){return this.second.floor(n)<n?0:this.minute.floor(n)<n?1:this.hour.floor(n)<n?2:this.day.floor(n)<n?3:this.month.floor(n)<n?this.week.floor(n)<n?4:5:this.year.floor(n)<n?6:8}defaultTickFormat(n){const t=this.calculateDefaultTickFormat(n);return e=>FI(t)(e)}getTickInterval({start:n,stop:t,count:e,minCount:r,maxCount:i}){const{tickIntervals:o}=this;let a,s;const l=e??Xt.defaultTickCount,u=Math.abs(t-n)/Math.max(l,1);let c=0;for(;c<o.length&&u>o[c][2];)c++;if(c===0)s=Math.max(Og(n,t,l,r,i),1),a=this.millisecond;else if(c===o.length){const d=n/lx,p=t/lx;s=Og(d,p,l,r,i),a=this.year}else{const d=u-o[c-1][2],p=o[c][2]-u,h=d<p?c-1:c;[a,s]=o[h]}return a.every(s)}invert(n){return new Date(super.invert(n))}ticks(){if(!this.domain||this.domain.length<2)return[];this.refresh();const[n,t]=this.getDomain().map(Sa),e=Math.min(n,t),r=Math.max(n,t);if(this.interval!==void 0)return this.getTicksForInterval({start:e,stop:r});if(this.nice){const{tickCount:i}=this;if(i===2)return this.niceDomain;if(i===1)return this.niceDomain.slice(0,1)}return this.getDefaultTicks({start:e,stop:r})}getDefaultTicks({start:n,stop:t}){const e=this.getTickInterval({start:n,stop:t,count:this.tickCount,minCount:this.minTickCount,maxCount:this.maxTickCount});return e?e.range(new Date(n),new Date(t)):[]}getTicksForInterval({start:n,stop:t}){const{interval:e,tickIntervals:r}=this;if(!e)return[];if(e instanceof jS){const c=e.range(new Date(n),new Date(t));return this.isDenseInterval({start:n,stop:t,interval:e,count:c.length})?this.getDefaultTicks({start:n,stop:t}):c}const i=Math.abs(e);if(this.isDenseInterval({start:n,stop:t,interval:i}))return this.getDefaultTicks({start:n,stop:t});const o=[...r];o.reverse();const a=o.find(c=>i%c[2]===0);if(a)return a[0].every(i/(a[2]/a[1])).range(new Date(n),new Date(t));let s=new Date(n);const l=new Date(t),u=[];for(;s<=l;)u.push(s),s=new Date(s),s.setMilliseconds(s.getMilliseconds()+i);return u}tickFormat({ticks:n,specifier:t}){return t==null?this.defaultTickFormat(n):FI(t)}update(){!this.domain||this.domain.length<2||this.nice&&this.updateNiceDomain()}updateNiceDomain(){let[t,e]=this.domain;for(let r=0;r<4;r++){this.updateNiceDomainIteration(t,e);const[i,o]=this.niceDomain;if(Sa(t)===Sa(i)&&Sa(e)===Sa(o))break;t=i,e=o}}updateNiceDomainIteration(n,t){const e=Math.min(Sa(n),Sa(t)),r=Math.max(Sa(n),Sa(t)),i=n>t,{interval:o}=this;let a;if(o instanceof jS)a=o;else{const s=typeof o=="number"?(r-e)/Math.max(o,1):this.tickCount;a=this.getTickInterval({start:e,stop:r,count:s,minCount:this.minTickCount,maxCount:this.maxTickCount})}if(a){const s=a.range(new Date(e),new Date(r),!0),l=i?[...s].reverse():s,u=l[0],c=l.at(-1);this.niceDomain=[u,c]}}},mr=class Xp{constructor(t,e,r=!0){this.parentNode=t,this.autoCleanup=r,this.garbageBin=new Set,this._nodesMap=new Map,this._nodes=[],this.data=[],this.debug=Lr.create(!0,"scene","scene:selections"),this.nodeFactory=Object.prototype.isPrototypeOf.call(Xg,e)?()=>new e:e}static select(t,e,r=!0){return new Xp(t,e,r)}static selectAll(t,e){const r=[],i=o=>{e(o)&&r.push(o),o.children.forEach(i)};return i(t),r}static selectByClass(t,e){return Xp.selectAll(t,r=>r instanceof e)}static selectByTag(t,e){return Xp.selectAll(t,r=>r.tag===e)}createNode(t,e,r){const i=this.nodeFactory(t);return i.datum=t,e==null||e(i),r!=null?this._nodes.splice(r,0,i):this._nodes.push(i),this.parentNode.appendChild(i),i}update(t,e,r){if(this.garbageBin.size>0&&this.debug(`Selection - update() called with pending garbage: ${t}`),r){const i=new Map(t.map((o,a)=>[r(o),[o,a]]));for(const[o,a]of this._nodesMap.entries())if(i.has(a)){const[s]=i.get(a);o.datum=s,this.garbageBin.delete(o),i.delete(a)}else this.garbageBin.add(o);for(const[o,[a,s]]of i.entries())this._nodesMap.set(this.createNode(a,e,s),o)}else{const i=Math.max(t.length,this.data.length);for(let o=0;o<i;o++)o>=t.length?this.garbageBin.add(this._nodes[o]):o>=this._nodes.length?this.createNode(t[o],e):(this._nodes[o].datum=t[o],this.garbageBin.delete(this._nodes[o]))}return this.data=t.slice(),this.autoCleanup&&this.cleanup(),this}cleanup(){return this.garbageBin.size===0?this:(this._nodes=this._nodes.filter(t=>this.garbageBin.has(t)?(this._nodesMap.delete(t),this.garbageBin.delete(t),this.parentNode.removeChild(t),!1):!0),this)}clear(){return this.update([]),this}isGarbage(t){return this.garbageBin.has(t)}hasGarbage(){return this.garbageBin.size>0}each(t){return this._nodes.forEach((e,r)=>t(e,e.datum,r)),this}*[Symbol.iterator](){for(let t=0;t<this._nodes.length;t++){const e=this._nodes[t],r=this._nodes[t].datum;yield{node:e,datum:r,index:t}}}select(t){return Xp.selectAll(this.parentNode,t)}selectByClass(t){return Xp.selectByClass(this.parentNode,t)}selectByTag(t){return Xp.selectByTag(this.parentNode,t)}nodes(){return this._nodes}},mn=class extends Za{constructor(n={}){super(n),this.x1=0,this.y1=0,this.x2=0,this.y2=0,this.restoreOwnStyles()}set x(n){this.x1=n,this.x2=n}set y(n){this.y1=n,this.y2=n}computeBBox(){return new et(Math.min(this.x1,this.x2),Math.min(this.y1,this.y2),Math.abs(this.x2-this.x1),Math.abs(this.y2-this.y1))}isPointInPath(n,t){if(this.x1===this.x2||this.y1===this.y2){const{x:e,y:r}=this.transformPoint(n,t);return this.computeBBox().grow(this.strokeWidth/2).containsPoint(e,r)}return!1}render(n){var t;const{ctx:e,forceRender:r,stats:i,devicePixelRatio:o}=n;if(this.dirty===0&&!r){i&&(i.nodesSkipped+=this.nodeCount.count);return}this.computeTransformMatrix(),this.matrix.toContext(e);let{x1:a,y1:s,x2:l,y2:u}=this;if(a===l){const{strokeWidth:c}=this,d=Math.round(a*o)/o+Math.trunc(c*o)%2/(o*2);a=d,l=d}else if(s===u){const{strokeWidth:c}=this,d=Math.round(s*o)/o+Math.trunc(c*o)%2/(o*2);s=d,u=d}e.beginPath(),e.moveTo(a,s),e.lineTo(l,u),this.fillStroke(e),(t=this.fillShadow)==null||t.markClean(),super.render(n)}};mn.className="Line";mn.defaultStyles=Object.assign({},Za.defaultStyles,{fill:void 0,strokeWidth:1});R([Pe({redraw:3})],mn.prototype,"x1",2);R([Pe({redraw:3})],mn.prototype,"y1",2);R([Pe({redraw:3})],mn.prototype,"x2",2);R([Pe({redraw:3})],mn.prototype,"y2",2);function H$e(n,t,e,r,i){let o=n.x;n.x<t?o=t:n.x>t+r&&(o=t+r);let a=n.y;n.y<e?a=e:n.y>e+i&&(a=e+i);const s=n.x-o,l=n.y-a;return Math.sqrt(s*s+l*l)<=n.size*.5}function JJ(n,t,e,r,i){const o=n.x+n.width>t&&n.x<t+r,a=n.y+n.height>e&&n.y<e+i;return o&&a}function j$e(n,t,e,r,i){return t+r<n.x+n.width&&t>n.x&&e>n.y&&e+i<n.y+n.height}function $$e(n){return n!=null&&typeof n.point=="object"&&typeof n.label=="object"}function W$e(n,t,e=5){const r=[];n=n.map(i=>i.slice().sort((o,a)=>a.point.size-o.point.size));for(let i=0;i<n.length;i++){const o=r[i]=[],a=n[i];if(a!=null&&a.length&&a[0].label)for(let s=0,l=a.length;s<l;s++){const u=a[s],c=u.label,d=u.point.size*.5,p=u.point.x-c.width*.5,h=u.point.y-d-c.height-e,{width:f,height:v}=c;!(!t||j$e(t,p,h,f,v))||n.some(C=>C.some(S=>H$e(S.point,p,h,f,v)))||r.some(C=>C.some(S=>JJ(S,p,h,f,v)))||o.push({index:s,text:c.text,x:p,y:h,width:f,height:v,datum:u})}}return r}function U$e(n,t){const e=[];for(let r=0;r<n.length;r++){const i=n[r],{point:{x:o,y:a},label:{text:s}}=i;let{label:{width:l,height:u}}=i;if(l+=t??0,u+=t??0,e.some(d=>JJ(d,o,a,l,u)))return!0;e.push({index:r,text:s,x:o,y:a,width:l,height:u,datum:i})}return!1}function z$e(n,t){return n.length===t.length&&n.every((e,r)=>Number(e)===Number(t[r]))}var K$e=["stroke","lineDash"],Y$e=yc(n=>Zl(n)&&Object.keys(n).every(t=>K$e.includes(t)),"objects with gridline style properties such as 'stroke' or 'lineDash'"),pP=class{constructor(){this.enabled=!0,this.width=1,this.style=[{stroke:void 0,lineDash:[]}]}};R([F(ze)],pP.prototype,"enabled",2);R([F(Se)],pP.prototype,"width",2);R([F(Y$e)],pP.prototype,"style",2);function Sc(n,t=[void 0]){return ic((e,r,i)=>t.includes(i)?Wg(n)?n(i):n:i)}var un=class{constructor(){this.enabled=!0,this.autoWrap=!1,this.maxWidth=void 0,this.maxHeight=void 0,this.fontStyle=void 0,this.fontWeight=void 0,this.fontSize=12,this.fontFamily="Verdana, sans-serif",this.padding=5,this.minSpacing=NaN,this.color="rgba(87, 87, 87, 1)",this.rotation=void 0,this.avoidCollisions=!0,this.mirrored=!1,this.parallel=!1,this.formatter=void 0}getSideFlag(){return this.mirrored?1:-1}getFont(){return Bd(this)}};R([F(ze)],un.prototype,"enabled",2);R([F(ze,{optional:!0})],un.prototype,"autoWrap",2);R([F(Se,{optional:!0})],un.prototype,"maxWidth",2);R([F(Se,{optional:!0})],un.prototype,"maxHeight",2);R([F(tp,{optional:!0})],un.prototype,"fontStyle",2);R([F(rp,{optional:!0})],un.prototype,"fontWeight",2);R([F(nr.restrict({min:1}))],un.prototype,"fontSize",2);R([F(xe)],un.prototype,"fontFamily",2);R([F(Se)],un.prototype,"padding",2);R([F(qg),Sc(NaN)],un.prototype,"minSpacing",2);R([F(Dt,{optional:!0})],un.prototype,"color",2);R([F(ep,{optional:!0})],un.prototype,"rotation",2);R([F(ze)],un.prototype,"avoidCollisions",2);R([F(ze)],un.prototype,"mirrored",2);R([F(ze)],un.prototype,"parallel",2);R([F(xe,{optional:!0})],un.prototype,"format",2);var a0=class{constructor(){this.enabled=!0,this.width=1,this.color=void 0}};R([F(ze)],a0.prototype,"enabled",2);R([F(Se)],a0.prototype,"width",2);R([F(Dt,{optional:!0})],a0.prototype,"color",2);var X$e=Qt(n=>Gt(n)&&n>0||n instanceof jS,"a non-zero positive Number value or, for a time axis, a Time Interval such as 'agCharts.time.month'"),Ys=class{constructor(){this.enabled=!0,this.width=1,this.size=6,this.color=void 0,this.interval=void 0,this.values=void 0,this.minSpacing=NaN}};R([F(ze)],Ys.prototype,"enabled",2);R([F(Se)],Ys.prototype,"width",2);R([F(Se)],Ys.prototype,"size",2);R([F(Dt,{optional:!0})],Ys.prototype,"color",2);R([F(X$e,{optional:!0})],Ys.prototype,"interval",2);R([F(e0,{optional:!0})],Ys.prototype,"values",2);R([F(RJ),Sc(NaN)],Ys.prototype,"minSpacing",2);function LI(n){const[t,e]=oc(n.range),r=Math.floor(t),i=Math.ceil(e);return{min:r,max:i,visible:r!==i}}var II=Math.PI*2,q$e=II/2;function Z$e(n,t){return Math.abs(t-n)<q$e?t:n>t?t+II:t-II}function eee(n){const t=(a,s)=>{const[l=n.min,u=n.max]=oc(s??[]);return a<l||a>u};return{tick:{fromFn(a,s,l){let u=a.y1+a.translationY,c=a.opacity;return(l==="added"||t(a.datum.translationY,a.datum.range))&&(u=s.translationY,c=0),{y:0,translationY:u,opacity:c,phase:Oi[l]}},toFn(a,s,l){const u=s.translationY;let c=1;return l==="removed"&&(c=0),{y:0,translationY:u,opacity:c,finish:{y:u,translationY:0}}},intermediateFn(a,s,l){return{visible:!t(a.y)}}},line:{fromFn(a,s){var l;return Te(te({},(l=a.previousDatum)!=null?l:s),{phase:Oi.updated})},toFn(a,s){return te({},s)}},label:{fromFn(a,s,l){var u;const c=(u=a.previousDatum)!=null?u:s,d=c.x,p=c.y,h=c.rotationCenterX;let f=Math.round(a.translationY),v=c.rotation,g=a.opacity;return l==="removed"||t(c.y,c.range)||(l==="added"||t(a.datum.y,a.datum.range))&&(f=Math.round(c.translationY),g=0,v=s.rotation),{x:d,y:p,rotationCenterX:h,translationY:f,rotation:v,opacity:g,phase:Oi[l]}},toFn(a,s,l){var u,c;const d=s.x,p=s.y,h=s.rotationCenterX,f=Math.round(s.translationY);let v=0,g=1;return l==="added"?(g=1,v=s.rotation):l==="removed"?(g=0,v=s.rotation):v=Z$e((c=(u=a.previousDatum)==null?void 0:u.rotation)!=null?c:s.rotation,s.rotation),{x:d,y:p,rotationCenterX:h,translationY:f,rotation:v,opacity:g,finish:{rotation:s.rotation}}}},group:{fromFn(a,s){const{rotation:l,translationX:u,translationY:c}=a;return{rotation:l,translationX:u,translationY:c,phase:Oi.updated}},toFn(a,s){const{rotation:l,translationX:u,translationY:c}=s;return{rotation:l,translationX:u,translationY:c}}}}}function tee(){return(n,t)=>({rotation:t.rotation,rotationCenterX:t.rotationCenterX,rotationCenterY:t.rotationCenterY,translationX:t.translationX,translationY:t.translationY})}function ree(n){const{visible:t,min:e,max:r}=n;return(i,o)=>{const a=o.translationY,s=t&&a>=e&&a<=r;return{y:a,translationY:0,opacity:1,visible:s}}}function nee(){return(n,t)=>({x:t.x,y:t.y,translationY:t.translationY,rotation:t.rotation,rotationCenterX:t.rotationCenterX})}function iee(){return(n,t)=>te({},t)}var oee=(n=>(n[n.TickLine=0]="TickLine",n[n.TickLabel=1]="TickLabel",n[n.GridLine=2]="GridLine",n[n.GridArc=3]="GridArc",n[n.AxisLine=4]="AxisLine",n))(oee||{}),cf=class aee{constructor(t,e,r){this.moduleCtx=t,this.scale=e,this.id=nu(this),this.nice=!0,this.reverse=!1,this.keys=[],this.dataDomain={domain:[],clipped:!1},this.boundSeries=[],this.includeInvisibleDomains=!1,this.interactionEnabled=!0,this.axisGroup=new Ie({name:`${this.id}-axis`,zIndex:2}),this.lineNode=this.axisGroup.appendChild(new mn),this.tickLineGroup=this.axisGroup.appendChild(new Ie({name:`${this.id}-Axis-tick-lines`,zIndex:2})),this.tickLabelGroup=this.axisGroup.appendChild(new Ie({name:`${this.id}-Axis-tick-labels`,zIndex:2})),this.crossLineGroup=new Ie({name:`${this.id}-CrossLines`}),this.gridGroup=new Ie({name:`${this.id}-Axis-grid`}),this.gridLineGroup=this.gridGroup.appendChild(new Ie({name:`${this.id}-gridLines`,zIndex:1})),this.tickLineGroupSelection=mr.select(this.tickLineGroup,mn,!1),this.tickLabelGroupSelection=mr.select(this.tickLabelGroup,It,!1),this.gridLineGroupSelection=mr.select(this.gridLineGroup,mn,!1),this.line=new a0,this.tick=this.createTick(),this.gridLine=new pP,this.label=this.createLabel(),this.defaultTickMinSpacing=aee.defaultTickMinSpacing,this.translation={x:0,y:0},this.rotation=0,this.layout={label:{fractionDigits:0,padding:this.label.padding,format:this.label.format}},this.destroyFns=[],this.range=[0,1],this.visibleRange=[0,1],this.title=void 0,this._titleCaption=new Er,this.gridLength=0,this.fractionDigits=0,this.gridPadding=0,this.seriesAreaPadding=0,this.tickGenerationResult=void 0,this.maxThickness=1/0,this.moduleMap=new HJ,this.refreshScale(),this._titleCaption.registerInteraction(this.moduleCtx),this._titleCaption.node.rotation=-Math.PI/2,this.axisGroup.appendChild(this._titleCaption.node),this.destroyFns.push(t.interactionManager.addListener("hover",o=>this.checkAxisHover(o))),this.animationManager=t.animationManager,this.animationState=new o0("empty",{empty:{update:{target:"ready",action:()=>this.resetSelectionNodes()},reset:"empty"},ready:{update:o=>this.animateReadyUpdate(o),resize:()=>this.resetSelectionNodes(),reset:"empty"}}),this._crossLines=[],this.assignCrossLineArrayConstructor(this._crossLines);let i;this.destroyFns.push(t.layoutService.addListener("layout-complete",o=>{i!=null&&sa(o.chart,i)!=null&&this.animationState.transition("resize"),i=te({},o.chart)})),(r==null?void 0:r.respondsToZoom)!==!1&&this.destroyFns.push(t.updateService.addListener("update-complete",o=>{this.minRect=o.minRect}))}get type(){var t;return(t=this.constructor.type)!=null?t:""}set crossLines(t){var e,r;(e=this._crossLines)==null||e.forEach(i=>this.detachCrossLine(i)),t&&this.assignCrossLineArrayConstructor(t),this._crossLines=t,(r=this._crossLines)==null||r.forEach(i=>{this.attachCrossLine(i),this.initCrossLine(i)})}get crossLines(){return this._crossLines}resetAnimation(t){t==="initial"&&this.animationState.transition("reset")}attachCrossLine(t){this.crossLineGroup.appendChild(t.group),this.crossLineGroup.appendChild(t.labelGroup)}detachCrossLine(t){this.crossLineGroup.removeChild(t.group),this.crossLineGroup.removeChild(t.labelGroup)}destroy(){this.moduleMap.destroy(),this.destroyFns.forEach(t=>t())}refreshScale(){var t;this.range=this.scale.range.slice(),(t=this.crossLines)==null||t.forEach(this.initCrossLine,this)}updateRange(){var t;const{range:e,visibleRange:r,scale:i}=this,o=(e[1]-e[0])/(r[1]-r[0]),a=o*r[0],s=e[0]-a;i.range=[s,s+o],(t=this.crossLines)==null||t.forEach(l=>{l.clippedRange=[e[0],e[1]]})}setCrossLinesVisible(t){this.crossLineGroup.visible=t}attachAxis(t,e){e.appendChild(this.gridGroup),t.appendChild(this.axisGroup),t.appendChild(this.crossLineGroup)}detachAxis(t,e){e.removeChild(this.gridGroup),t.removeChild(this.axisGroup),t.removeChild(this.crossLineGroup)}inRange(t,e=0,r=0){const[i,o]=oc(this.range);return t+e>=i-r&&t<=o+r}onLabelFormatChange(t,e){const{scale:r,fractionDigits:i}=this,a=!(r instanceof lB)&&i>0?s=>typeof s=="number"?s.toFixed(i):String(s):s=>String(s);if(e&&r&&r.tickFormat)try{this.labelFormatter=r.tickFormat({ticks:t,specifier:e})}catch{this.labelFormatter=a,Oe.warnOnce(`the axis label format string ${e} is invalid. No formatting will be applied`)}else this.labelFormatter=a}setTickInterval(t){var e;this.scale.interval=(e=this.tick.interval)!=null?e:t}setTickCount(t,e,r){const{scale:i}=this;if(t&&Xt.is(i)){if(typeof t=="number"){i.tickCount=t,i.minTickCount=e??0,i.maxTickCount=r??1/0;return}i instanceof cB&&this.setTickInterval(t)}}onGridLengthChange(t,e){var r;(e&&!t||!e&&t)&&this.onGridVisibilityChange(),(r=this.crossLines)==null||r.forEach(this.initCrossLine,this)}onGridVisibilityChange(){this.gridLineGroupSelection.clear()}createTick(){return new Ys}createLabel(){return new un}checkAxisHover(t){!this.interactionEnabled||!this.computeBBox().containsPoint(t.offsetX,t.offsetY)||this.moduleCtx.chartEventManager.axisHover(this.id,this.direction)}update(t=0,e=!0){if(!this.tickGenerationResult)return;const{rotation:r,parallelFlipRotation:i,regularFlipRotation:o}=this.calculateRotations(),a=this.label.getSideFlag();this.updatePosition();const s=this.getAxisLineCoordinates(),{tickData:l,combinedRotation:u,textBaseline:c,textAlign:d,primaryTickCount:p}=this.tickGenerationResult,h=this.tickLabelGroupSelection.nodes().map(f=>f.datum.tickId);if(this.updateSelections(s,l.ticks,{combinedRotation:u,textAlign:d,textBaseline:c,range:this.scale.range}),!e||this.animationManager.isSkipped())this.resetSelectionNodes();else{const f=this.calculateUpdateDiff(h,l);this.animationState.transition("update",f)}return this.updateAxisLine(),this.updateLabels(),this.updateVisibility(),this.updateGridLines(a),this.updateTickLines(),this.updateTitle({anyTickVisible:l.ticks.length>0}),this.updateCrossLines({rotation:r,parallelFlipRotation:i,regularFlipRotation:o}),this.updateLayoutState(),p}getAxisLineCoordinates(){const[t,e]=oc(this.range);return{x:0,y1:t,y2:e}}getTickLineCoordinates(t){const r=this.label.getSideFlag()*this.getTickSize(),i=Math.min(0,r),o=i+Math.abs(r),a=t.translationY;return{x1:i,x2:o,y:a}}getTickLabelProps(t,e){const{label:r}=this,{combinedRotation:i,textBaseline:o,textAlign:a,range:s}=e,l=t.tickLabel,c=r.getSideFlag()*(this.getTickSize()+r.padding+this.seriesAreaPadding),d=l!==""&&l!=null;return{tickId:t.tickId,translationY:t.translationY,fill:r.color,fontFamily:r.fontFamily,fontSize:r.fontSize,fontStyle:r.fontStyle,fontWeight:r.fontWeight,rotation:i,rotationCenterX:c,text:l,textAlign:a,textBaseline:o,visible:d,x:c,y:0,range:s}}getTickSize(){return this.tick.enabled?this.tick.size:this.createTick().size}setTitleProps(t,e){var r;const{title:i}=this;if(!i){t.enabled=!1;return}if(t.color=i.color,t.fontFamily=i.fontFamily,t.fontSize=i.fontSize,t.fontStyle=i.fontStyle,t.fontWeight=i.fontWeight,t.enabled=i.enabled,t.wrapping=i.wrapping,i.enabled){const o=t.node,a=((r=i.spacing)!=null?r:0)+e.spacing,s=this.label.getSideFlag(),l=$r(this.rotation),u=s===-1&&l>Math.PI&&l<Math.PI*2?-1:1,c=u*s*Math.PI/2,d=u===1?"bottom":"top",{range:p}=this,h=Math.floor(u*s*(p[0]+p[1])/2),f=Math.floor(s===-1?u*-a:-a),{callbackCache:v}=this.moduleCtx,{formatter:g=m=>m.defaultValue}=i,y=v.call(g,this.getTitleFormatterParams());o.setProperties({rotation:c,text:y,textBaseline:d,visible:!0,x:h,y:f})}}calculateLayout(t){var e,r;const{rotation:i,parallelFlipRotation:o,regularFlipRotation:a}=this.calculateRotations(),s=this.label.getSideFlag(),l=s*(this.getTickSize()+this.label.padding+this.seriesAreaPadding);this.updateScale(),this.tickGenerationResult=this.generateTicks({primaryTickCount:t,parallelFlipRotation:o,regularFlipRotation:a,labelX:l,sideFlag:s}),this.updateLayoutState();const u=this.tickGenerationResult,{tickData:c,combinedRotation:d,textBaseline:p,textAlign:h}=u,f=yn(u,["tickData","combinedRotation","textBaseline","textAlign"]),v=[],{x:g,y1:y,y2:m}=this.getAxisLineCoordinates(),C=new et(g+Math.min(s*this.seriesAreaPadding,0),y,this.seriesAreaPadding,m-y);if(v.push(C),this.tick.enabled&&c.ticks.forEach(b=>{const{x1:O,x2:T,y:A}=this.getTickLineCoordinates(b),N=new et(O,A,T-O,0);v.push(N)}),this.label.enabled){const b=new It;c.ticks.forEach(O=>{const T=this.getTickLabelProps(O,{combinedRotation:d,textAlign:h,textBaseline:p,range:this.scale.range});if(!T.visible)return;b.setProperties(Te(te({},T),{translationY:Math.round(O.translationY)}));const A=b.computeTransformedBBox();A&&v.push(A)})}const S=b=>{const O=new _s,{rotation:T,translationX:A,translationY:N,rotationCenterX:M,rotationCenterY:L}=this.getAxisTransform();return _s.updateTransformMatrix(O,1,1,T,A,N,{scalingCenterX:0,scalingCenterY:0,rotationCenterX:M,rotationCenterY:L}),O.transformBBox(b)};if((e=this.title)!=null&&e.enabled){const b=new Er,O=et.merge(v).width;this.setTitleProps(b,{spacing:O});const A=b.node.computeTransformedBBox();A&&v.push(A)}const w=et.merge(v),_=S(w),x=this.isAnySeriesActive();return(r=this.crossLines)==null||r.forEach(b=>{var O;b.sideFlag=-s,b.direction=i===-Math.PI/2?"x":"y",b instanceof DI&&(b.label.parallel=(O=b.label.parallel)!=null?O:this.label.parallel),b.parallelFlipRotation=o,b.regularFlipRotation=a,b.calculateLayout(x,this.reverse)}),t=f.primaryTickCount,{primaryTickCount:t,bbox:_}}updateLayoutState(){this.layout.label={fractionDigits:this.fractionDigits,padding:this.label.padding,format:this.label.format}}setDomain(t){this.dataDomain=this.normaliseDataDomain(t),this.reverse&&this.dataDomain.domain.reverse(),this.scale.domain=this.dataDomain.domain}updateScale(){this.updateRange(),this.calculateDomain(),this.setTickInterval(this.tick.interval);const{scale:t,nice:e}=this;Xt.is(t)&&(t.nice=e,t.update())}calculateRotations(){const t=pi(this.rotation),e=$r(t),r=$r(t-Math.PI/2);return{rotation:t,parallelFlipRotation:e,regularFlipRotation:r}}generateTicks({primaryTickCount:t,parallelFlipRotation:e,regularFlipRotation:r,labelX:i,sideFlag:o}){var a;const{scale:s,tick:l,label:{parallel:u,rotation:c,fontFamily:d,fontSize:p,fontStyle:h,fontWeight:f}}=this,v=t!==void 0,{defaultRotation:g,configuredRotation:y,parallelFlipFlag:m,regularFlipFlag:C}=LO({rotation:c,parallel:u,regularFlipRotation:r,parallelFlipRotation:e}),S=y+g,w=new _s,{maxTickCount:_}=this.estimateTickCount({minSpacing:l.minSpacing,maxSpacing:(a=l.maxSpacing)!=null?a:NaN}),b=!Xt.is(s)||isNaN(_)?10:_;let O=dM(u,y,0,o,C);const T=m$e(u,y,o,m),A={fontFamily:d,fontSize:p,fontStyle:h,fontWeight:f,textBaseline:T,textAlign:O};let N={rawTicks:[],ticks:[],labelCount:0},M=0,L=0,G=!0,H=!1;for(;G&&M<=b&&!H;){L=0,O=dM(u,y,0,o,C);const V=this.getTickStrategies({secondaryAxis:v,index:M});for(const W of V){({tickData:N,index:M,autoRotation:L,terminate:H}=W({index:M,tickData:N,textProps:A,labelOverlap:G,terminate:H,primaryTickCount:t}));const K=y!==0||L!==0,ee=S+L;O=dM(u,y,L,o,C),G=this.checkLabelOverlap(ee,K,w,N.ticks,i,Te(te({},A),{textAlign:O}))}}const j=g+y+L;return!v&&N.rawTicks.length>0&&(t=N.rawTicks.length),{tickData:N,primaryTickCount:t,combinedRotation:j,textBaseline:T,textAlign:O}}getTickStrategies({index:t,secondaryAxis:e}){const{scale:r,label:i,tick:o}=this,a=Xt.is(r),s=i.enabled&&i.avoidCollisions,l=!a&&t!==0&&s,u=i.autoRotate===!0&&i.rotation===void 0,c=[];let d;this.tick.values?d=3:e?d=1:l?d=2:d=0;const p=({index:h,tickData:f,primaryTickCount:v,terminate:g})=>this.createTickData(d,h,f,g,v);if(c.push(p),!a&&!isNaN(o.minSpacing)){const h=({index:f,tickData:v,primaryTickCount:g,terminate:y})=>this.createTickData(2,f,v,y,g);c.push(h)}if(!s)return c;if(i.autoWrap){const h=({index:f,tickData:v,textProps:g})=>this.wrapLabels(v,f,g);c.push(h)}else if(u){const h=({index:f,tickData:v,labelOverlap:g,terminate:y})=>({index:f,tickData:v,autoRotation:this.getAutoRotation(g),terminate:y});c.push(h)}return c}createTickData(t,e,r,i,o){var a;const{scale:s,tick:l}=this,{maxTickCount:u,minTickCount:c,defaultTickCount:d}=this.estimateTickCount({minSpacing:l.minSpacing,maxSpacing:(a=l.maxSpacing)!=null?a:NaN}),p=Xt.is(s),h=!p||isNaN(u)?10:u;let f=p?Math.max(d-e,c):u;const v=l.interval===void 0&&l.values===void 0&&f>c&&(p||t===2);let g=!0;for(;g&&e<=h;){const m=r.rawTicks;f=p?Math.max(d-e,c):u;const{rawTicks:C,ticks:S,labelCount:w}=this.getTicks({tickGenerationType:t,previousTicks:m,tickCount:f,minTickCount:c,maxTickCount:u,primaryTickCount:o});r.rawTicks=C,r.ticks=S,r.labelCount=w,g=v?z$e(C,m):!1,e++}const y=l.interval!==void 0||l.values!==void 0;return i||(i=y),{tickData:r,index:e,autoRotation:0,terminate:i}}checkLabelOverlap(t,e,r,i,o,a){_s.updateTransformMatrix(r,1,1,t,0,0);const s=this.createLabelData(i,o,a,r),l=y$e(this.label.minSpacing,e);return U$e(s,l)}createLabelData(t,e,r,i){const o=[];for(const a of t){const{tickLabel:s,translationY:l}=a;if(s===""||s==null)continue;const u=FJ(s),{width:c,height:d}=h$e(u,e,l,r),p=new et(e,l,c,d),h=C$e(s,p,e,l,i);o.push(h)}return o}getAutoRotation(t){var e;return t?$r(pi((e=this.label.autoRotateAngle)!=null?e:0)):0}getTicks({tickGenerationType:t,previousTicks:e,tickCount:r,minTickCount:i,maxTickCount:o,primaryTickCount:a}){var s;const{range:l,scale:u,visibleRange:c}=this;let d;switch(t){case 3:if(Xt.is(u)){const m=u.getDomain(),C=u.fromDomain(m[0]),S=u.fromDomain(m[1]),w=Math.min(C,S),_=Math.max(C,S);d=this.tick.values.filter(x=>x>=w&&x<=_).sort((x,b)=>x-b)}else d=this.tick.values;break;case 1:d=this.updateSecondaryAxisTicks(a);break;case 2:d=this.filterTicks(e,r);break;default:d=this.createTicks(r,i,o);break}this.fractionDigits=d.fractionDigits>=0?d.fractionDigits:0,this.onLabelFormatChange(d,this.label.format);const p=((s=u.bandwidth)!=null?s:0)/2,h=[];let f=0;const v=new Map,g=Math.max(0,Math.floor(c[0]*d.length)),y=Math.min(d.length,Math.ceil(c[1]*d.length));for(let m=g;m<y;m++){const C=d[m],S=u.convert(C)+p;if(l.length>0&&!this.inRange(S,0,.001))continue;const w=this.formatTick(C,m);let _=w;if(v.has(_)){const x=v.get(_);v.set(_,x+1),_=`${_}_${x}`}else v.set(_,1);h.push({tick:C,tickId:_,tickLabel:w,translationY:S}),!(w===""||w==null)&&f++}return{rawTicks:d,ticks:h,labelCount:f}}filterTicks(t,e){var r;const o=!isNaN(this.tick.minSpacing)||!isNaN((r=this.tick.maxSpacing)!=null?r:NaN)?Math.ceil(t.length/e):2;return t.filter((a,s)=>s%o===0)}createTicks(t,e,r){var i,o,a;return this.setTickCount(t,e,r),(a=(o=(i=this.scale).ticks)==null?void 0:o.call(i))!=null?a:[]}estimateTickCount({minSpacing:t,maxSpacing:e}){const{minRect:r}=this,i=this.calculateRangeWithBleed(),o=Math.max(this.defaultTickMinSpacing,i/Xt.defaultMaxTickCount);let a=!isNaN(e);isNaN(t)&&(t=o),isNaN(e)&&(e=i),t>e&&(t===o?t=e:e=t);const s=r?this.direction==="x"?r.width:r.height:1;a&&(a=s<o);const l=Lt(1,Math.floor(i/t),a?Math.floor(i/s):1/0),u=Math.min(l,Math.ceil(i/e)),c=Lt(u,Xt.defaultTickCount,l);return{minTickCount:u,maxTickCount:l,defaultTickCount:c}}updateVisibility(){this.moduleCtx.animationManager.isSkipped()&&this.resetSelectionNodes(),this.tickLineGroup.visible=this.tick.enabled,this.gridLineGroup.visible=this.gridLine.enabled,this.tickLabelGroup.visible=this.label.enabled}updateCrossLines({rotation:t,parallelFlipRotation:e,regularFlipRotation:r}){var i;const o=this.label.getSideFlag(),a=this.isAnySeriesActive();(i=this.crossLines)==null||i.forEach(s=>{var l;s.sideFlag=-o,s.direction=t===-Math.PI/2?"x":"y",s instanceof DI&&(s.label.parallel=(l=s.label.parallel)!=null?l:this.label.parallel),s.parallelFlipRotation=e,s.regularFlipRotation=r,s.update(a)})}updateTickLines(){const{tick:t,label:e}=this,r=e.getSideFlag();this.tickLineGroupSelection.each(i=>{i.strokeWidth=t.width,i.stroke=t.color,i.x1=r*this.getTickSize(),i.x2=0})}calculateAvailableRange(){return bg(this.range)}calculateRangeWithBleed(){const t=1/bg(this.visibleRange);return UV(this.calculateAvailableRange()*t,2)}calculateDomain(){const e=this.boundSeries.filter(r=>this.includeInvisibleDomains||r.isEnabled()).flatMap(r=>r.getDomain(this.direction));this.setDomain(e)}getAxisTransform(){return{rotation:pi(this.rotation),rotationCenterX:0,rotationCenterY:0,translationX:Math.floor(this.translation.x),translationY:Math.floor(this.translation.y)}}updatePosition(){const{crossLineGroup:t,axisGroup:e,gridGroup:r,translation:i,gridLineGroupSelection:o,gridPadding:a,gridLength:s}=this,{rotation:l}=this.calculateRotations(),u=this.label.getSideFlag(),c=Math.floor(i.x),d=Math.floor(i.y);t.setProperties({rotation:l,translationX:c,translationY:d}),r.setProperties({rotation:l,translationX:c,translationY:d}),e.datum=this.getAxisTransform(),o.each(p=>{p.x1=a,p.x2=-u*s+a})}updateSecondaryAxisTicks(t){throw new Error("AG Charts - unexpected call to updateSecondaryAxisTicks() - check axes configuration.")}updateSelections(t,e,r){this.lineNode.datum=t,this.gridLineGroupSelection.update(this.gridLength?e:[],i=>i.append(new mn({tag:2})),i=>i.tickId),this.tickLineGroupSelection.update(e,i=>i.appendChild(new mn({tag:0})),i=>i.tickId),this.tickLabelGroupSelection.update(e.map(i=>this.getTickLabelProps(i,r)),i=>i.appendChild(new It({tag:1})),i=>i.tickId)}updateAxisLine(){const{line:t}=this,e=t.enabled?t.width:0;this.lineNode.setProperties({stroke:t.color,strokeWidth:e})}updateGridLines(t){const{gridLine:{style:e,width:r},gridPadding:i,gridLength:o}=this;o===0||e.length===0||this.gridLineGroupSelection.each((a,s,l)=>{const{stroke:u,lineDash:c}=e[l%e.length];a.setProperties({x1:i,x2:-t*o+i,fill:void 0,stroke:u,strokeWidth:r,lineDash:c})})}updateLabels(){const{label:t}=this;t.enabled&&this.tickLabelGroupSelection.each((e,r)=>{e.setProperties(r,["fill","fontFamily","fontSize","fontStyle","fontWeight","text","textAlign","textBaseline"])})}wrapLabels(t,e,r){const{parallel:i,maxWidth:o,maxHeight:a}=this.label;let s=this.maxThickness,l=Math.round(this.calculateAvailableRange()/t.labelCount);return i&&([s,l]=[l,s]),t.ticks.forEach(u=>{const{text:c}=It.wrap(u.tickLabel,o??s,a??l,r,"hyphenate");u.tickLabel=c}),{tickData:t,index:e,autoRotation:0,terminate:!0}}updateTitle(t){const{rotation:e,title:r,_titleCaption:i,lineNode:o,tickLineGroup:a,tickLabelGroup:s}=this;if(!r){i.enabled=!1;return}let l=0;if(r.enabled&&t.anyTickVisible){const u=Ie.computeBBox([a,s,o]),c=e===0?u.width:u.height;l+=c+(this.tickLabelGroup.visible?0:this.seriesAreaPadding)}this.setTitleProps(i,{spacing:l})}formatTick(t,e){var r,i;const{label:o,labelFormatter:a,fractionDigits:s,moduleCtx:{callbackCache:l}}=this;if(o.formatter){const u=s>0?t:String(t);return(r=l.call(o.formatter,{value:u,index:e,fractionDigits:s,formatter:a}))!=null?r:u}else if(a)return(i=l.call(a,t))!=null?i:String(t);return String(t)}formatDatum(t){return String(t)}computeBBox(){return this.axisGroup.computeBBox()}initCrossLine(t){t.scale=this.scale,t.gridLength=this.gridLength}isAnySeriesActive(){return this.boundSeries.some(t=>this.includeInvisibleDomains||t.isEnabled())}clipTickLines(t,e,r,i){this.tickLineGroup.setClipRectInGroupCoordinateSpace(new et(t,e,r,i))}clipGrid(t,e,r,i){this.gridGroup.setClipRectInGroupCoordinateSpace(new et(t,e,r,i))}calculatePadding(t,e,r){const i=Math.abs(r?e:t)*.01;return[i,i]}getTitleFormatterParams(){var t;const e=this.boundSeries.reduce((r,i)=>{const o=i.getKeys(this.direction),a=i.getNames(this.direction);for(let s=0;s<o.length;s++)r.push({key:o[s],name:a[s]});return r},[]);return{direction:this.direction,boundSeries:e,defaultValue:(t=this.title)==null?void 0:t.text}}normaliseDataDomain(t){return{domain:[...t],clipped:!1}}getLayoutState(){return te({rect:this.computeBBox(),gridPadding:this.gridPadding,seriesAreaPadding:this.seriesAreaPadding,tickSize:this.getTickSize()},this.layout)}getModuleMap(){return this.moduleMap}createModuleContext(){var t;return(t=this.axisContext)!=null||(this.axisContext=this.createAxisContext()),Te(te({},this.moduleCtx),{parent:this.axisContext})}createAxisContext(){return{axisId:this.id,direction:this.direction,continuous:Xt.is(this.scale),keys:()=>this.boundSeries.flatMap(t=>t.getKeys(this.direction)),scaleValueFormatter:t=>{var e,r;return(r=(e=this.scale).tickFormat)==null?void 0:r.call(e,{specifier:t})},scaleBandwidth:()=>{var t;return(t=this.scale.bandwidth)!=null?t:0},scaleConvert:t=>this.scale.convert(t),scaleInvert:t=>{var e,r;return(r=(e=this.scale).invert)==null?void 0:r.call(e,t)}}}animateReadyUpdate(t){const{animationManager:e}=this.moduleCtx,r=LI(this),i=eee(r);yr(this.id,"axis-group",e,[this.axisGroup],i.group),yr(this.id,"line",e,[this.lineNode],i.line),yr(this.id,"line-paths",e,[this.gridLineGroupSelection,this.tickLineGroupSelection],i.tick,(o,a)=>a.tickId,t),yr(this.id,"tick-labels",e,[this.tickLabelGroupSelection],i.label,(o,a)=>a.tickId,t)}resetSelectionNodes(){const{gridLineGroupSelection:t,tickLineGroupSelection:e,tickLabelGroupSelection:r,lineNode:i}=this,o=LI(this);gn([this.axisGroup],tee()),gn([t,e],ree(o)),gn([r],nee()),gn([i],iee())}calculateUpdateDiff(t,e){const r=new Set,i=new Set,o=Math.max(t.length,e.ticks.length);for(let a=0;a<o;a++){const s=e.ticks[a],l=t[a],u=s==null?void 0:s.tickId;l!==u&&(i.has(u)?i.delete(u):u&&r.add(u),r.has(l)?r.delete(l):l&&i.add(l))}return{changed:r.size>0||i.size>0,added:Array.from(r.values()),removed:Array.from(i.values())}}isReversed(){return this.reverse}};cf.defaultTickMinSpacing=50;R([F(ze)],cf.prototype,"nice",2);R([F(ze)],cf.prototype,"reverse",2);R([F(_J)],cf.prototype,"keys",2);R([F(Qt(n=>typeof n=="object","Title object"),{optional:!0})],cf.prototype,"title",2);R([Zg((n,t,e)=>n.onGridLengthChange(t,e))],cf.prototype,"gridLength",2);var dB=cf,pB=class extends un{constructor(){super(...arguments),this.autoRotateAngle=335}};R([F(ze,{optional:!0})],pB.prototype,"autoRotate",2);R([F(ep)],pB.prototype,"autoRotateAngle",2);var hB=class see extends dB{constructor(){super(...arguments),this.thickness=0,this.position="left"}static is(t){return t instanceof see}get direction(){return["top","bottom"].includes(this.position)?"x":"y"}updateDirection(){switch(this.position){case"top":this.rotation=-90,this.label.mirrored=!0,this.label.parallel=!0;break;case"right":this.rotation=0,this.label.mirrored=!0,this.label.parallel=!1;break;case"bottom":this.rotation=-90,this.label.mirrored=!1,this.label.parallel=!0;break;case"left":this.rotation=0,this.label.mirrored=!1,this.label.parallel=!1;break}this.axisContext&&(this.axisContext.position=this.position,this.axisContext.direction=this.direction)}update(t,e){return this.updateDirection(),super.update(t,e)}calculateLayout(t){return this.updateDirection(),super.calculateLayout(t)}createAxisContext(){return Te(te({},super.createAxisContext()),{position:this.position})}assignCrossLineArrayConstructor(t){NJ(t,DI)}createLabel(){return new pB}};R([F(Se)],hB.prototype,"thickness",2);R([F(eB)],hB.prototype,"position",2);var s0=hB,ac=class extends s0{constructor(n){super(n,new Ql),this._paddingOverrideEnabled=!1,this.groupPaddingInner=.1,this.includeInvisibleDomains=!0}set paddingInner(n){this._paddingOverrideEnabled=!0,this.scale.paddingInner=n}get paddingInner(){return this._paddingOverrideEnabled=!0,this.scale.paddingInner}set paddingOuter(n){this.scale.paddingOuter=n}get paddingOuter(){return this.scale.paddingOuter}normaliseDataDomain(n){const t=[],e=new Set;for(const r of n){const i=r instanceof Date?r.getTime():r;e.has(i)||(e.add(i),t.push(r))}return{domain:t,clipped:!1}}calculateDomain(){if(!this._paddingOverrideEnabled){const n=this.boundSeries.map(t=>{var e;return(e=t.getBandScalePadding)==null?void 0:e.call(t)}).filter(t=>t!=null);n.length>0&&(this.scale.paddingInner=Math.min(...n.map(t=>t.inner)),this.scale.paddingOuter=Math.max(...n.map(t=>t.outer)))}return super.calculateDomain()}};ac.className="CategoryAxis";ac.type="category";R([F(Wt)],ac.prototype,"groupPaddingInner",2);var lee=class{constructor(n="",t,e=0){this.x=0,this.y=0,this.subtreeLeft=NaN,this.subtreeRight=NaN,this.screenX=0,this.screenY=0,this.children=[],this.leafCount=0,this.prelim=0,this.mod=0,this.ancestor=this,this.change=0,this.shift=0,this.label=n,this.parent=t,this.depth=t?t.depth+1:0,this.number=e}getLeftSibling(){return this.number>0&&this.parent?this.parent.children[this.number-1]:void 0}getLeftmostSibling(){return this.number>0&&this.parent?this.parent.children[0]:void 0}nextLeft(){return this.children?this.children[0]:this.thread}nextRight(){return this.children?this.children[this.children.length-1]:this.thread}getSiblings(){return this.parent?this.parent.children.filter((n,t)=>t!==this.number):[]}};function Q$e(n,t=!0){const e=new lee;let r=0;return t&&n.forEach(i=>r=Math.max(r,i.labels.length)),n.forEach(i=>{if(t)for(;i.labels.length<r;)i.labels.unshift("");J$e(e,i)}),e}function J$e(n,t){const e=t.labels.slice().reverse(),r=e.length-1;e.forEach((i,o)=>{const a=n.children,s=a.find(u=>u.label===i),l=o!==r;if(s&&l)n=s;else{const u=new lee(i,n);u.number=a.length,a.push(u),l&&(n=u)}})}function e3e(n,t,e){const r=t.number-n.number,i=e/r;t.change-=i,t.shift+=e,n.change+=i,t.prelim+=e,t.mod+=e}function t3e(n,t,e){return t.getSiblings().indexOf(n.ancestor)>=0?n.ancestor:e}function r3e(n){const t=n.children;if(t){let e=0,r=0;for(let i=t.length-1;i>=0;i--){const o=t[i];o.prelim+=e,o.mod+=e,r+=o.change,e+=o.shift+r}}}function n3e(n,t,e){const r=n.getLeftSibling();if(r){let i=n,o=n,a=r,s=o.getLeftmostSibling(),l=o.mod,u=i.mod,c=a.mod,d=s.mod;for(;a.nextRight()&&o.nextLeft();){a=a.nextRight(),o=o.nextLeft(),s=s.nextLeft(),i=i.nextRight(),i.ancestor=n;const p=a.prelim+c-(o.prelim+l)+e;p>0&&(e3e(t3e(a,n,t),n,p),l+=p,u+=p),c+=a.mod,l+=o.mod,d+=s.mod,u+=i.mod}a.nextRight()&&!i.nextRight()?(i.thread=a.nextRight(),i.mod+=c-u):(o.nextLeft()&&!s.nextLeft()&&(s.thread=o.nextLeft(),s.mod+=l-d),t=n)}return t}function uee(n,t){const e=n.children;if(e.length){let r=e[0];e.forEach(a=>{uee(a,t),r=n3e(a,r,t)}),r3e(n);const i=(e[0].prelim+e.at(-1).prelim)/2,o=n.getLeftSibling();o?(n.prelim=o.prelim+t,n.mod=n.prelim-i):n.prelim=i}else{const r=n.getLeftSibling();n.prelim=r?r.prelim+t:0}}var gz=class{constructor(){this.top=1/0,this.right=-1/0,this.bottom=-1/0,this.left=1/0}update(n,t){const{x:e,y:r}=t(n);e>this.right&&(this.right=e),e<this.left&&(this.left=e),r>this.bottom&&(this.bottom=r),r<this.top&&(this.top=r)}};function cee(n,t,e){n.x=n.prelim+t,n.y=n.depth,e.update(n),n.children.forEach(r=>cee(r,t+n.mod,e))}function dee(n){const t=n.children;let e=0;t.forEach(r=>{dee(r),r.children.length?e+=r.leafCount:e++}),n.leafCount=e,t.length?(n.subtreeLeft=t[0].subtreeLeft,n.subtreeRight=t[n.children.length-1].subtreeRight,n.x=(n.subtreeLeft+n.subtreeRight)/2):(n.subtreeLeft=n.x,n.subtreeRight=n.x)}function i3e(n){const t=new o3e;return uee(n,1),cee(n,-n.prelim,t),dee(n),t}var o3e=class{constructor(){this.dimensions=new gz,this.leafCount=0,this.nodes=[],this.leafNodes=[],this.nonLeafNodes=[],this.depth=0}update(n){this.dimensions.update(n,t=>({x:t.x,y:t.y})),n.children.length?this.nonLeafNodes.push(n):(this.leafCount++,this.leafNodes.push(n)),n.depth>this.depth&&(this.depth=n.depth),this.nodes.push(n)}resize(n,t,e=0,r=0,i=!1){const o=this.leafCount-1,a=this.depth,s=this.dimensions;let l=1,u=1;if(n>0&&o){const h=(s.right-s.left)/o;l=n/o/h,i&&(l=-l)}if(t>0&&a){const h=(s.bottom-s.top)/a;u=t/a/h}const c=new gz;this.nodes.forEach(h=>{h.screenX=h.x*l,h.screenY=h.y*u,c.update(h,f=>({x:f.screenX,y:f.screenY}))});const d=-c.left,p=-c.top;this.nodes.forEach(h=>{h.screenX+=d+e,h.screenY+=p+r})}},pee=class extends un{constructor(){super(...arguments),this.grid=!1}};R([F(ze)],pee.prototype,"grid",2);var Hd=class extends s0{constructor(n){super(n,new Ql),this.tickScale=new Ql,this.line=new a0,this.label=new pee,this.labelColor="rgba(87, 87, 87, 1)",this.includeInvisibleDomains=!0;const{tickLineGroup:t,tickLabelGroup:e,gridLineGroup:r,tickScale:i,scale:o}=this;o.paddingOuter=.1,o.paddingInner=o.paddingOuter*2,this.refreshScale(),i.paddingInner=1,i.paddingOuter=0,this.gridLineSelection=mr.select(r,mn),this.axisLineSelection=mr.select(t,mn),this.separatorSelection=mr.select(t,mn),this.labelSelection=mr.select(e,It)}updateRange(){const{range:n,visibleRange:t,scale:e}=this,r=(n[1]-n[0])/(t[1]-t[0]),i=r*t[0],o=n[0]-i;this.tickScale.range=e.range=[o,o+r],this.resizeTickTree()}resizeTickTree(){var n;const t=this.scale,e=t.domain.length?[t.convert(t.domain[0]),t.convert(t.domain[t.domain.length-1])]:t.range,r=this.tickTreeLayout,i=this.lineHeight;r&&r.resize(Math.abs(e[1]-e[0]),r.depth*i,(Math.min(e[0],e[1])||0)+((n=t.bandwidth)!=null?n:0)/2,-r.depth*i,e[1]-e[0]<0)}get lineHeight(){return this.label.fontSize*1.5}onGridVisibilityChange(){this.gridLineSelection.clear(),this.labelSelection.clear()}calculateDomain(){var n;const{direction:t}=this;let e=null;const r=this.boundSeries.filter(o=>o.visible).flatMap(o=>{if(t==="y"||e)return o.getDomain(t);if(e===null){const a=o.getDomain(t);return e=Os(a[0]),a}return[]});this.setDomain((n=ru(r))!=null?n:jV(r));const{domain:i}=this.dataDomain;this.tickTreeLayout=i3e(Q$e(i)),this.tickScale.domain=i.concat(""),this.resizeTickTree()}update(){this.computedLayout&&(this.updatePosition(),this.updateTitleCaption(),this.updateCategoryLabels(),this.updateSeparators(),this.updateAxisLines(),this.updateCategoryGridLines(),this.resetSelectionNodes())}updateTitleCaption(){const{_titleCaption:n}=this;n.node.visible=!1}updateCategoryLabels(){if(!this.computedLayout)return;const{tickLabelLayout:n}=this.computedLayout;this.labelSelection.update(n).each((e,r)=>{e.setProperties(r)})}updateSeparators(){if(!this.computedLayout)return;const{separatorLayout:n}=this.computedLayout,{range:t}=this,e=1e-7;this.separatorSelection.update(n).each((i,o)=>{i.x1=o.x1,i.x2=o.x2,i.y1=o.y,i.y2=o.y,i.visible=o.y>=t[0]-e&&o.y<=t[1]+e,i.stroke=this.tick.color,i.fill=void 0,i.strokeWidth=1})}updateAxisLines(){if(!this.computedLayout)return;const{axisLineLayout:n}=this.computedLayout;this.axisLineSelection.update(n).each((e,r)=>{e.setProperties(Te(te({},r),{stroke:this.line.color,strokeWidth:this.line.width})),e.x1=r.x,e.x2=r.x,e.y1=r.y1,e.y2=r.y2,e.strokeWidth=this.line.width,e.stroke=this.line.color})}updateCategoryGridLines(){const{gridLength:n,gridLine:t,label:e,range:r,tickScale:i}=this,o=i.ticks(),a=e.getSideFlag(),s=this.gridLineSelection.update(n?o:[]);if(n){const{width:l,style:u}=t,c=u.length;s.each((d,p,h)=>{const f=Math.round(i.convert(p));d.x1=0,d.x2=-a*n,d.y1=f,d.y2=f,d.visible=f>=r[0]&&f<=r[1];const{stroke:v,lineDash:g}=u[h%c];d.stroke=v,d.strokeWidth=l,d.lineDash=g,d.fill=void 0})}}computeLayout(){this.updateDirection(),this.calculateDomain(),this.updateRange();const{scale:n,label:t,label:{parallel:e},moduleCtx:{callbackCache:r},range:i,title:o,title:{formatter:a=Y=>Y.defaultValue}={}}=this,s=n.range[0],l=n.range[1],c=Math.abs(l-s)/n.domain.length||0,d=Math.ceil(t.fontSize/c),p=pi(this.rotation),h=Math.abs(Math.cos(p))<1e-8,f=t.getSideFlag(),v=this.lineHeight,g=this.tickTreeLayout,y=n.ticks(),m=g?g.nodes:[],C=g?g.depth>1:!1,{defaultRotation:S,configuredRotation:w,parallelFlipFlag:_}=LO({rotation:t.rotation,parallel:e,regularFlipRotation:$r(p-Math.PI/2),parallelFlipRotation:$r(p)}),x=[],b=Y=>({fill:Y.fill,fontFamily:Y.fontFamily,fontSize:Y.fontSize,fontStyle:Y.fontStyle,fontWeight:Y.fontWeight,rotation:Y.rotation,rotationCenterX:Y.rotationCenterX,rotationCenterY:Y.rotationCenterY,text:Y.text,textAlign:Y.textAlign,textBaseline:Y.textBaseline,translationX:Y.translationX,translationY:Y.translationY,visible:Y.visible,x:Y.x,y:Y.y}),O=new Map;let T=0;const A=new It,N=(Y,le)=>{var ye;if(A.setProperties({fill:t.color,fontFamily:t.fontFamily,fontSize:t.fontSize,fontStyle:t.fontStyle,fontWeight:t.fontWeight,textAlign:"center",textBaseline:_===-1?"bottom":"hanging",translationX:Y.screenY-t.fontSize*.25,translationY:Y.screenX}),le===0){if(!((o==null?void 0:o.enabled)&&y.length>0))return!1;const he=r.call(a,this.getTitleFormatterParams());A.setProperties({fill:o.color,fontFamily:o.fontFamily,fontSize:o.fontSize,fontStyle:o.fontStyle,fontWeight:o.fontWeight,text:he,textBaseline:"hanging",translationX:Y.screenY-t.fontSize*.25,translationY:Y.screenX})}else{if(le%d!==0)return!1;if(!(Y.screenX>=i[0]&&Y.screenX<=i[1]))return!1;t.formatter?A.text=(ye=r.call(t.formatter,{value:String(Y.label),index:le}))!=null?ye:String(Y.label):A.text=String(Y.label)}return!0};m.forEach((Y,le)=>{if(!N(Y,le))return;const Q=A.computeTransformedBBox();if(!Q)return;O.set(le,Q),!Y.children.length&&Q.width>T&&(T=Q.width)});const M=f*t.padding,L=this.label.grid,G=[];m.forEach((Y,le)=>{let ye=N(Y,le);const Q=le;A.x=M,A.rotationCenterX=M;const he=!Y.children.length;if(he)A.rotation=w,A.textAlign="end",A.textBaseline="middle";else{A.translationX-=T-v+this.label.padding;const J=Y.leafCount*c,ve=O.get(Q);ve&&ve.width>J?(ye=!1,O.delete(Q)):h?A.rotation=S:A.rotation=-Math.PI/2}if(Y.parent&&C){const J=he?Y.screenX-c/2:Y.screenX-Y.leafCount*c/2;if(he)(Y.number!==Y.children.length-1||L)&&G.push({y:J,x1:0,x2:-T-this.label.padding*2});else{const ve=-T-this.label.padding*2+Y.screenY;G.push({y:J,x1:ve+v,x2:ve})}}let ue;if(ye){const J=A.computeTransformedBBox();J&&O.set(le,J),ue=Te(te({},b(A)),{visible:ye})}else O.delete(le),ue={visible:ye};x.push(ue)});let H=0;G.forEach(Y=>H=Math.min(H,Y.x2)),G.push({y:Math.max(s,l),x1:0,x2:H});const j=[],V=[],W=1e-7;G.forEach(Y=>{if(Y.y>=i[0]-W&&Y.y<=i[1]+W){const{x1:le,x2:ye,y:Q}=Y,he=new et(Math.min(le,ye),Q,Math.abs(le-ye),0);V.push(he),j.push({x1:le,x2:ye,y:Q})}});const K=[],ee=[],Z=g?g.depth+1:1;for(let Y=0;Y<Z;Y++){const le=y.length>0&&(Y===0||L&&C),ye=Y>0?-T-this.label.padding*2-(Y-1)*v:0,Q=new et(ye,Math.min(...i),0,Math.abs(i[1]-i[0]));ee.push(Q),K.push({x:ye,y1:i[0],y2:i[1],visible:le})}const se=Y=>{const le=new _s,{rotation:ye,translationX:Q,translationY:he,rotationCenterX:ue,rotationCenterY:J}=this.getAxisTransform();return _s.updateTransformMatrix(le,1,1,ye,Q,he,{scalingCenterX:0,scalingCenterY:0,rotationCenterX:ue,rotationCenterY:J}),le.transformBBox(Y)},ie=et.merge([...O.values(),...V,...ee]);return{bbox:se(ie),tickLabelLayout:x,separatorLayout:j,axisLineLayout:K}}calculateLayout(){const{axisLineLayout:n,separatorLayout:t,tickLabelLayout:e,bbox:r}=this.computeLayout();return this.computedLayout={axisLineLayout:n,separatorLayout:t,tickLabelLayout:e},{bbox:r,primaryTickCount:void 0}}};Hd.className="GroupedCategoryAxis";Hd.type="grouped-category";R([F(Dt,{optional:!0})],Hd.prototype,"labelColor",2);var yz=class{constructor({width:n=600,height:t=300,overrideDevicePixelRatio:e}){this.enabled=!0,this._pixelRatio=NaN,this._width=0,this._height=0,this.canvas=new OffscreenCanvas(n,t),this.realContext=this.canvas.getContext("2d"),this.imageSource=this.canvas.transferToImageBitmap(),this.context=this.setPixelRatio(e),this.resize(n,t)}static isSupported(){return typeof OffscreenCanvas<"u"&&OffscreenCanvas.prototype.transferToImageBitmap!=null}snapshot(){this.imageSource.close(),this.imageSource=this.canvas.transferToImageBitmap()}destroy(){this.imageSource.close(),this.canvas.width=0,this.canvas.height=0,this.context.clearRect(0,0,0,0)}clear(){this.context.save(),this.context.resetTransform(),this.context.clearRect(0,0,this.width,this.height),this.context.restore()}get pixelRatio(){return this._pixelRatio}setPixelRatio(n){let t=n??window.devicePixelRatio;return PJ()&&(t=1),this._pixelRatio=t,Ir.overrideScale(this.realContext,t)}get width(){return this._width}get height(){return this._height}resize(n,t){if(!(n>0&&t>0))return;const{canvas:e,context:r,pixelRatio:i}=this;e.width=Math.round(n*i),e.height=Math.round(t*i),r.resetTransform(),this._width=n,this._height=t}},pM="adv-composite",hM="dom-composite",fB=class{constructor(n){this.id=nu(this),this.layers=[],this._nextZIndex=0,this._nextLayerId=0,this._dirty=!1,this._root=null,this.debug=Lr.create(!0,"scene");var t;const{document:e,window:r,mode:i=(t=CI("agChartsSceneRenderModel"))!=null?t:pM,width:o,height:a,overrideDevicePixelRatio:s=void 0}=n;this.overrideDevicePixelRatio=s,this.opts={document:e,window:r,mode:i},this.canvas=new Ir({document:e,window:r,width:o,height:a,overrideDevicePixelRatio:s})}set container(n){this.canvas.container=n}get container(){return this.canvas.container}download(n,t){this.canvas.download(n,t)}getDataURL(n){return this.canvas.getDataURL(n)}get width(){return this.pendingSize?this.pendingSize[0]:this.canvas.width}get height(){return this.pendingSize?this.pendingSize[1]:this.canvas.height}resize(n,t){n=Math.round(n),t=Math.round(t);const e=n<=0||t<=0,r=isNaN(n)||isNaN(t);return n===this.width&&t===this.height||r||e?!1:(this.pendingSize=[n,t],this.markDirty(),!0)}addLayer(n){var t;const{mode:e}=this.opts;if(!["composite",hM,pM].includes(e))return;const{zIndex:i=this._nextZIndex++,name:o,zIndexSubOrder:a,getComputedOpacity:s,getVisibility:l}=n,{width:u,height:c,overrideDevicePixelRatio:d}=this,p=e===hM,f=!(e===pM)||!yz.isSupported()?new Ir({document:this.opts.document,window:this.opts.window,width:u,height:c,domLayer:p,zIndex:i,name:o,overrideDevicePixelRatio:d}):new yz({width:u,height:c,overrideDevicePixelRatio:d}),v={id:this._nextLayerId++,name:o,zIndex:i,zIndexSubOrder:a,canvas:f,getComputedOpacity:s,getVisibility:l};if(i>=this._nextZIndex&&(this._nextZIndex=i+1),this.layers.push(v),this.sortLayers(),p){const g=this.layers.map(C=>C.canvas).filter(C=>C instanceof Ir),y=g.findIndex(C=>C===f);((t=g[y-1])!=null?t:this.canvas).element.insertAdjacentElement("afterend",f.element)}return this.debug("Scene.addLayer() - layers",this.layers),v.canvas}removeLayer(n){const t=this.layers.findIndex(e=>e.canvas===n);t>=0&&(this.layers.splice(t,1),n.destroy(),this.markDirty(),this.debug("Scene.removeLayer() -  layers",this.layers))}moveLayer(n,t,e){const r=this.layers.find(i=>i.canvas===n);r&&(r.zIndex=t,r.zIndexSubOrder=e,this.sortLayers(),this.markDirty(),this.debug("Scene.moveLayer() -  layers",this.layers))}sortLayers(){this.layers.sort((n,t)=>{var e,r;return GJ([n.zIndex,...(e=n.zIndexSubOrder)!=null?e:[void 0,void 0],n.id],[t.zIndex,...(r=t.zIndexSubOrder)!=null?r:[void 0,void 0],t.id],kJ)})}markDirty(){this._dirty=!0}get dirty(){return this._dirty}set root(n){var t;n!==this._root&&((t=this._root)==null||t._setLayerManager(),this._root=n,n&&n._setLayerManager({addLayer:e=>this.addLayer(e),moveLayer:(...e)=>this.moveLayer(...e),removeLayer:(...e)=>this.removeLayer(...e),markDirty:()=>this.markDirty(),canvas:this.canvas,debug:Lr.create("scene")}),this.markDirty())}get root(){return this._root}strip(){const{layers:n}=this;for(const t of n)t.canvas.destroy(),delete t.canvas;n.splice(0,n.length),this.root=null,this._dirty=!1,this.canvas.context.resetTransform()}destroy(){this.container=void 0,this.strip(),this.canvas.destroy(),Object.assign(this,{canvas:void 0,ctx:void 0})}render(n){return pe(this,null,function*(){var t,e;const{debugSplitTimes:r={start:performance.now()},extraDebugStats:i={}}=n??{},{canvas:o,canvas:{context:a},root:s,layers:l,pendingSize:u,opts:{mode:c}}=this;if(u&&(this.canvas.resize(...u),this.layers.forEach(h=>h.canvas.resize(...u)),this.pendingSize=void 0),s&&!s.visible){this._dirty=!1;return}if(s&&!this.dirty){this.debug("Scene.render() - no-op",{redrawType:Qc[s.dirty],tree:this.buildTree(s)}),this.debugStats(r,a,void 0,i);return}const d={ctx:a,devicePixelRatio:(t=this.canvas.pixelRatio)!=null?t:1,forceRender:!0,resized:!!u,debugNodes:{}};Lr.check("scene:stats:verbose")&&(d.stats={layersRendered:0,layersSkipped:0,nodesRendered:0,nodesSkipped:0});let p=!1;if((!s||s.dirty>=1)&&(p=!0,o.clear()),s&&Lr.check("scene:dirtyTree")){const{dirtyTree:h,paths:f}=this.buildDirtyTree(s);Lr.create("scene:dirtyTree")("Scene.render() - dirtyTree",{dirtyTree:h,paths:f})}s&&p&&(this.debug("Scene.render() - before",{redrawType:Qc[s.dirty],canvasCleared:p,tree:this.buildTree(s)}),s.visible&&(a.save(),s.render(d),a.restore())),r["✍️"]=performance.now(),c!==hM&&l.length>0&&p&&(this.sortLayers(),a.save(),a.setTransform(1/o.pixelRatio,0,0,1/o.pixelRatio,0,0),l.forEach(({canvas:{imageSource:h,enabled:f},getComputedOpacity:v,getVisibility:g})=>{!f||!g()||(a.globalAlpha=v(),a.drawImage(h,0,0))}),a.restore(),r["⛙"]=performance.now()),(e=a.verifyDepthZero)==null||e.call(a),this._dirty=!1,this.debugStats(r,a,d.stats,i),this.debugSceneNodeHighlight(a,d.debugNodes),s&&this.debug("Scene.render() - after",{redrawType:Qc[s.dirty],canvasCleared:p,tree:this.buildTree(s)})})}debugStats(n,t,e,r={}){if(Lr.check("scene:stats","scene:stats:verbose")){const i=performance.now(),o=n.start;n.end=performance.now();const a=(w,_)=>{const x=w+_;return`${w} / ${x} (${Math.round(100*w/x)}%)`},s=(w,_,x)=>`${w}: ${Math.round((x-_)*100)/100}ms`,{layersRendered:l=0,layersSkipped:u=0,nodesRendered:c=0,nodesSkipped:d=0}=e??{};let p=0;const h=Object.entries(n).filter(([w])=>w!=="end").map(([w,_],x)=>{const b=x>0?s(w,p,_):null;return p=_,b}).filter(w=>w!=null).join(" + "),f=Object.entries(r).map(([w,_])=>`${w}: ${_}`).join(" ; "),v=Lr.check("scene:stats:verbose"),y=[`${s("⏱️",o,i)} (${h})`,`${f}`,`Layers: ${v?a(l,u):this.layers.length}`,v?`Nodes: ${a(c,d)}`:null].filter(w=>w!=null).map(w=>[w,Ir.getTextSize(w,t.font)]),m=Math.max(...y.map(([,{width:w}])=>w)),C=y.reduce((w,[,{height:_}])=>w+_,0);t.save(),t.fillStyle="white",t.fillRect(0,0,m,C),t.fillStyle="black";let S=0;for(const[w,_]of y)S+=_.height,t.fillText(w,2,S);t.restore()}}debugSceneNodeHighlight(n,t){var e;const r=a=>s=>a.test(s.id)?!0:s instanceof Ie&&s.name!=null&&a.test(s.name),i=a=>s=>a===s.id?!0:s instanceof Ie&&s.name!=null&&a===s.name,o=DO(CI("agChartsSceneDebug")).flatMap(a=>a==="layout"?["seriesRoot","legend","root",/.*Axis-\d+-axis.*/]:a);for(const a of o){if(typeof a=="string"&&t[a]!=null)continue;const s=typeof a=="string"?i(a):r(a),l=(e=this.root)==null?void 0:e.findNodes(s);if(!l||l.length===0){Oe.log(`Scene.render() - no debugging node with id [${a}] in scene graph.`);continue}for(const u of l)u instanceof Ie&&u.name?t[u.name]=u:t[u.id]=u}n.save();for(const[a,s]of Object.entries(t)){const l=s.computeTransformedBBox();if(!l){Oe.log(`Scene.render() - no bbox for debugged node [${a}].`);continue}n.globalAlpha=.8,n.strokeStyle="red",n.lineWidth=1,n.strokeRect(l.x,l.y,l.width,l.height),n.fillStyle="red",n.strokeStyle="white",n.font="16px sans-serif",n.textBaseline="top",n.textAlign="left",n.lineWidth=2,n.strokeText(a,l.x,l.y,l.width),n.fillText(a,l.x,l.y,l.width)}n.restore()}buildTree(n){var t,e;const r=(t=n instanceof Ie?n.name:null)!=null?t:n.id;return this.debug.check()?te(te({name:r,node:n,dirty:Qc[n.dirty]},(e=n.parent)!=null&&e.isVirtual?{virtualParentDirty:Qc[n.parent.dirty],virtualParent:n.parent}:{}),n.children.map(i=>this.buildTree(i)).reduce((i,o)=>{let{name:a}=o;const{node:{visible:s,opacity:l,zIndex:u,zIndexSubOrder:c},node:d,virtualParent:p}=o;(!s||l<=0)&&(a=`(${a})`),d instanceof Ie&&d.isLayer()&&(a=`*${a}*`);const h=[`${a??"<unknown>"}`,`z: ${u}`,c&&`zo: ${c.map(g=>typeof g=="function"?`${g()} (fn)`:g).join(" / ")}`,p&&"(virtual parent)"].filter(g=>!!g).join(" ");let f=h,v=1;for(;i[f]!=null&&v<100;)f=`${h} (${v++})`;return i[f]=o,i},{})):{}}buildDirtyTree(n){var t;if(n.dirty===0)return{dirtyTree:{},paths:[]};const e=n.children.map(o=>this.buildDirtyTree(o)).filter(o=>o.paths.length>0),r=(t=n instanceof Ie?n.name:null)!=null?t:n.id,i=e.length===0?[r]:e.map(o=>o.paths).reduce((o,a)=>o.concat(a),[]).map(o=>`${r}.${o}`);return{dirtyTree:te({name:r,node:n,dirty:Qc[n.dirty]},e.map(o=>o.dirtyTree).filter(o=>o.dirty!==void 0).reduce((o,a)=>{var s;return o[(s=a.name)!=null?s:"<unknown>"]=a,o},{})),paths:i}}};fB.className="Scene";function a3e(n){return new Promise(t=>{setTimeout(()=>t(void 0),n)})}var s3e=class{constructor(){this.cache=new WeakMap}call(n,...t){let e,r=this.cache.get(n);const i=()=>{try{const o=n(...t);return r&&e!=null&&r.set(e,o),o}catch(o){Oe.warnOnce("User callback errored, ignoring",o);return}};try{e=JSON.stringify(t)}catch{return i()}return r==null&&(r=new Map,this.cache.set(n,r)),r.has(e)?r.get(e):i()}invalidateCache(){this.cache=new WeakMap}},l3e=class{constructor(){this.available=!0,this.acquireQueue=[]}acquire(n){return new Promise(t=>{this.acquireQueue.push([n,t]),this.available&&this.dispatchNext()})}acquireImmediately(n){return pe(this,null,function*(){return this.available?(yield this.acquire(n),!0):!1})}waitForClearAcquireQueue(){return pe(this,null,function*(){return this.acquire(()=>pe(this,null,function*(){}))})}dispatchNext(){return pe(this,null,function*(){var n,t;this.available=!1;let[e,r]=(n=this.acquireQueue.shift())!=null?n:[];for(;e;){try{yield e(),r==null||r()}catch(i){Oe.error("mutex callback error",i),r==null||r()}[e,r]=(t=this.acquireQueue.shift())!=null?t:[]}this.available=!0})}},hee=class{constructor(){this.eventListeners=new Map}addEventListener(n,t){if(typeof t!="function")throw new Error("AG Charts - listener must be a Function");const e=this.eventListeners.get(n);e?e.add(t):this.eventListeners.set(n,new Set([t]))}removeEventListener(n,t){var e;(e=this.eventListeners.get(n))==null||e.delete(t),this.eventListeners.size===0&&this.eventListeners.delete(n)}hasEventListener(n){return this.eventListeners.has(n)}clearEventListeners(){this.eventListeners.clear()}fireEvent(n){var t;(t=this.eventListeners.get(n.type))==null||t.forEach(e=>e(n))}},ip=class extends tr{constructor(n=0,t=n,e=n,r=t){super(),this.top=n,this.right=t,this.bottom=e,this.left=r}clear(){this.top=this.right=this.bottom=this.left=0}};R([F(Se)],ip.prototype,"top",2);R([F(Se)],ip.prototype,"right",2);R([F(Se)],ip.prototype,"bottom",2);R([F(Se)],ip.prototype,"left",2);function u3e(n){return fee((t,e)=>requestAnimationFrame(t),n)}function c3e(n){return fee((t,e=0)=>setTimeout(t,e),n)}function fee(n,t){let e=0,r=!1,i,o;const a=()=>r,s=()=>{r=!1,o==null||o(),o=void 0,i=void 0,e>0&&n(l)},l=()=>{const u=e;e=0,r=!0;const c=t({count:u});if(!c){s();return}c.then(s,s)};return{schedule(u){e===0&&!a()&&n(l,u),e++},await(){return pe(this,null,function*(){if(a())for(i==null&&(i=new Promise(u=>{o=u}));a();)yield i})}}}var Oa=class{static init(t){if(typeof ResizeObserver>"u"){for(const[e,r]of this.elements)this.checkClientSize(e,r);return}this.resizeObserver=new ResizeObserver(e=>{for(const r of e){const{width:i,height:o}=r.contentRect;this.checkSize(this.elements.get(r.target),r.target,i,o)}}),this.ownerDocument=t,this.ready=!0,this.documentReady=t.readyState!=="loading",this.documentReady||t.addEventListener("DOMContentLoaded",this.onContentLoaded)}static destroy(){var t,e;(t=this.ownerDocument)==null||t.removeEventListener("DOMContentLoaded",this.onContentLoaded),(e=this.resizeObserver)==null||e.disconnect(),delete this.resizeObserver,delete this.ownerDocument,this.ready=!1}static checkSize(t,e,r,i){var o,a;t&&(r!==((o=t.size)==null?void 0:o.width)||i!==((a=t.size)==null?void 0:a.height))&&(t.size={width:r,height:i},t.cb(t.size,e))}static observe(t,e){var r;if(this.ready||this.init(t.ownerDocument),!this.documentReady){this.queuedObserveRequests.push([t,e]);return}this.elements.has(t)?this.removeFromQueue(t):(r=this.resizeObserver)==null||r.observe(t),this.elements.set(t,{cb:e})}static unobserve(t){var e;(e=this.resizeObserver)==null||e.unobserve(t),this.elements.delete(t),this.removeFromQueue(t),this.elements.size||this.destroy()}static removeFromQueue(t){this.queuedObserveRequests=this.queuedObserveRequests.filter(([e])=>e!==t)}static checkClientSize(t,e){var r,i;const o=(r=t.clientWidth)!=null?r:0,a=(i=t.clientHeight)!=null?i:0;this.checkSize(e,t,o,a)}};Oa.elements=new Map;Oa.ready=!1;Oa.documentReady=!1;Oa.queuedObserveRequests=[];Oa.onContentLoaded=()=>{var n;const t=((n=Oa.ownerDocument)==null?void 0:n.readyState)!=="loading",e=Oa.documentReady;Oa.documentReady=t,t&&t!==e&&(Oa.queuedObserveRequests.forEach(([r,i])=>Oa.observe(r,i)),Oa.queuedObserveRequests=[])};var mz=Oa,vee=class{constructor(){this.range="tooltip"}};R([F(Kr(["tooltip","node"],"a range"))],vee.prototype,"range",2);var BC=(n=>(n[n.FULL=0]="FULL",n[n.UPDATE_DATA=1]="UPDATE_DATA",n[n.PROCESS_DATA=2]="PROCESS_DATA",n[n.PERFORM_LAYOUT=3]="PERFORM_LAYOUT",n[n.SERIES_UPDATE=4]="SERIES_UPDATE",n[n.TOOLTIP_RECALCULATION=5]="TOOLTIP_RECALCULATION",n[n.SCENE_RENDER=6]="SCENE_RENDER",n[n.NONE=7]="NONE",n))(BC||{}),fM=class{constructor(n){this.type=n,this.continuousDomain=[1/0,-1/0],this.discreteDomain=new Set}extend(n){this.type==="discrete"?this.discreteDomain.add(n):this.type==="continuous"&&(this.continuousDomain[0]>n&&(this.continuousDomain[0]=n),this.continuousDomain[1]<n&&(this.continuousDomain[1]=n))}getDomain(){if(this.type==="discrete")return this.discreteDomain;if(this.type==="continuous")return this.continuousDomain;throw new Error("AG Charts - Unsupported data domain type: "+this.type)}};function iC(n,t=[1/0,-1/0]){for(const e of n)typeof e=="number"&&(e<t[0]&&(t[0]=e),e>t[1]&&(t[1]=e));return t}function d3e(n){return n.map(t=>Zl(t)?JSON.stringify(t):t).join("-")}function p3e(n){return Number.isInteger(n)?n:Math.abs(n)>1e4?Math.trunc(n):Math.round(n*1e4)/1e4}function h3e(n){if(n===void 0)return[];let[t,e]=n;return t=Number(t),e=Number(e),t===0&&e===0?[0,1]:t===1/0&&e===-1/0?[]:(t===1/0&&(t=0),e===-1/0&&(e=0),Gt(t)&&Gt(e)?[t,e]:[])}function Ri(n,t){var e;const r=h3e(n);if(r.length===0)return r;let[i,o]=r;if(i===o){const[a,s]=(e=t==null?void 0:t.calculatePadding(i,o,t.isReversed()))!=null?e:[1,1];i-=a,o+=s}return[i,o]}function Cz(){return new Map([[void 0,0]])}function vB(n,t){var e;return t===void 0?0:(e=t.get(n.id))!=null?e:0}var xp=Symbol("invalid"),gee=class{constructor(n){this.debug=Lr.create(!0,"data-model");const{props:t,mode:e="standalone"}=n;this.mode=e;let r=!0;for(const a of t){if(a.type==="key"&&!r)throw new Error("AG Charts - internal config error: keys must come before values.");a.type==="value"&&r&&(r=!1)}this.opts=te({dataVisible:!0},n),this.keys=t.filter(a=>a.type==="key").map((a,s)=>Te(te({},a),{index:s,missing:Cz()})),this.values=t.filter(a=>a.type==="value").map((a,s)=>Te(te({},a),{index:s,missing:Cz()})),this.aggregates=t.filter(a=>a.type==="aggregate").map((a,s)=>Te(te({},a),{index:s})),this.groupProcessors=t.filter(a=>a.type==="group-value-processor").map((a,s)=>Te(te({},a),{index:s})),this.propertyProcessors=t.filter(a=>a.type==="property-value-processor").map((a,s)=>Te(te({},a),{index:s})),this.reducers=t.filter(a=>a.type==="reducer").map((a,s)=>Te(te({},a),{index:s})),this.processors=t.filter(a=>a.type==="processor").map((a,s)=>Te(te({},a),{index:s}));for(const a of this.values)if(a.property==null)throw new Error(`AG Charts - internal config error: no properties specified for value definitions: ${JSON.stringify(a)}`);const i=({matchGroupIds:a})=>{for(const s of a??[])if(!this.values.some(l=>l.groupId===s))throw new Error(`AG Charts - internal config error: matchGroupIds properties must match defined groups (${s}).`)},o=({matchIds:a})=>{for(const s of a??[])if(!this.values.some(l=>{var u;return(u=l.ids)==null?void 0:u.some(([c,d])=>c===s[0]&&d===s[1])}))throw new Error(`AG Charts - internal config error: matchGroupIds properties must match defined groups (${s}).`)};for(const a of[...this.groupProcessors,...this.aggregates])o(a),i(a)}resolveProcessedDataIndexById(n,t){var e;const{index:r,def:i}=(e=this.resolveProcessedDataDefById(n,t))!=null?e:{};return{index:r,def:i}}resolveProcessedDataIndicesById(n,t){return this.resolveProcessedDataDefsById(n,t).map(({index:e,def:r})=>({index:e,def:r}))}resolveProcessedDataDefById(n,t){return this.resolveProcessedDataDefsById(n,t)[0]}resolveProcessedDataDefsByIds(n,t){const e=[];for(const r of t)e.push([r,this.resolveProcessedDataDefsById(n,r)]);return e}resolveProcessedDataDefsValues(n,{keys:t,values:e}){const r={};for(const[i,[{index:o,def:a}]]of n){const s=a.type==="key"?t:e;r[i]=s[o]}return r}resolveProcessedDataDefsById(n,t){const{keys:e,values:r,aggregates:i,groupProcessors:o,reducers:a}=this,s=c=>{const{ids:d,scopes:p}=c;return d==null||n!=null&&!(p!=null&&p.some(h=>h===n.id))?!1:d.some(([h,f])=>h===n.id&&(typeof t=="string"?f===t:t.test(f)))},l=[e,r,i,o,a],u=[];for(const c of l)u.push(...c.filter(s).map(d=>({index:d.index,def:d})));if(u.length>0)return u;throw new Error(`AG Charts - didn't find property definition for [${t}, ${n.id}]`)}getDomain(n,t,e="value",r){var i,o,a,s;let l;try{l=this.resolveProcessedDataIndicesById(n,t)}catch(p){if(typeof t!="string"&&/didn't find property definition/.test(p.message))return[];throw p}let u;switch(e){case"key":u="keys";break;case"value":u="values";break;case"aggregate":u="aggValues";break;case"group-value-processor":u="groups";break;default:return[]}const c=(o=(i=r.domain[u])==null?void 0:i[l[0].index])!=null?o:[];if(l.length===1)return c;const d=[...c];for(const p of l.slice(1))iC((s=(a=r.domain[u])==null?void 0:a[p.index])!=null?s:[],d);return d}processData(n,t){const{opts:{groupByKeys:e,groupByFn:r},aggregates:i,groupProcessors:o,reducers:a,processors:s,propertyProcessors:l}=this,u=performance.now();if(e&&this.keys.length===0)return;let c=this.extractData(n,t);e?c=this.groupData(c):r&&(c=this.groupData(c,r(c))),o.length>0&&this.postProcessGroups(c),i.length>0&&this.aggregateData(c),l.length>0&&this.postProcessProperties(c),a.length>0&&this.reduceData(c),s.length>0&&this.postProcessData(c);for(const p of[...this.keys,...this.values])if(n.length>0){for(const[h,f]of p.missing)if(f>=n.length){const v=h===void 0?"":` for ${h}`;Oe.warnOnce(`the key '${p.property}' was not found in any data element${v}.`)}}const d=performance.now();return c.time=d-u,this.debug.check()&&f3e(c),c}valueGroupIdxLookup({matchGroupIds:n,matchIds:t}){return this.values.map((e,r)=>({def:e,index:r})).filter(({def:e})=>n&&(e.groupId==null||!n.includes(e.groupId))?!1:t?e.ids==null?!1:t.some(([r,i])=>{var o;return(o=e.ids)==null?void 0:o.some(([a,s])=>a===r&&s===i)}):!0).map(({index:e})=>e)}valueIdxLookup(n,t){const e=n==null||n.length===0,r=s=>{if(s==null)return!0;const u=s==null||s.length===0;return e===u?!0:s==null?void 0:s.some(c=>n.includes(c))},i=typeof t=="string"?t:t.id,o=([s,l])=>r([s])&&l===i,a=this.values.findIndex(s=>{var l;return r(s.scopes)&&(((l=s.ids)==null?void 0:l.some(u=>o(u)))||s.property===i||s.id===i)});if(a>=0)return a;throw new Error(`AG Charts - configuration error, unknown property ${JSON.stringify(t)} in scope(s) ${JSON.stringify(n)}`)}extractData(n,t){var e,r,i,o,a,s;const{keys:l,values:u,opts:{dataVisible:c}}=this,{dataDomain:d,processValue:p,scopes:h,allScopesHaveSameDefs:f}=this.initDataDomainProcessor(),v=new Array(c?n.length:0);let g=0,y=0;for(const[C,S]of n.entries()){const w={},_=h.size>0?new Set(h):void 0,x=c?new Array(l.length):void 0;let b=0,O;for(const M of l){if(O=p(M,S,O),O===xp)break;x&&(x[b++]=O)}if(O===xp)continue;const T=c&&u.length>0?new Array(u.length):void 0;let A;const N={};for(const M of t??[])N[M.id]=M;for(const[M,L]of u.entries()){for(const G of(e=L.scopes)!=null?e:h){const H=N[G],j=(r=H==null?void 0:H.data[C])!=null?r:S;A=p(L,j,A,G),!(A===xp||!T)&&(H!==void 0&&((o=w[i=H.id])!=null||(w[i]={}),w[H.id][L.property]=A),L.useScopedValues?((a=T[M])!=null||(T[M]={}),T[M][G]=A):T[M]=A)}if(A===xp){if(f)break;for(const G of(s=L.scopes)!=null?s:h)_==null||_.delete(G);if((_==null?void 0:_.size)===0)break}}if(!(A===xp&&f)&&(_==null?void 0:_.size)!==0&&c){const M={datum:te(te({},S),w),keys:x,values:T};!f&&_&&_.size<h.size&&(y++,M.validScopes=[..._]),v[g++]=M}}v.length=g;const m=C=>{const S=d.get(C).getDomain();return Array.isArray(S)&&S[0]>S[1]?[]:[...S]};return{type:"ungrouped",input:{count:n.length},data:v,domain:{keys:l.map(C=>m(C)),values:u.map(C=>m(C))},defs:{allScopesHaveSameDefs:f,keys:l,values:u},partialValidDataCount:y,time:0}}groupData(n,t){var e,r,i,o;const a=new Map;for(const c of n.data){const{keys:d,values:p,datum:h,validScopes:f}=c,v=t?t(c):d,g=d3e(v);if(a.has(g)){const y=a.get(g);if(y.values.push(p),y.datum.push(h),f!=null)for(let m=0;m<((r=(e=y.validScopes)==null?void 0:e.length)!=null?r:0);m++){const C=(i=y.validScopes)==null?void 0:i[m];f.some(S=>S===C)||(o=y.validScopes)==null||o.splice(m,1)}}else a.set(g,{keys:v,values:[p],datum:[h],validScopes:f})}const s=new Array(a.size),l=new Array(a.size);let u=0;for(const[,{keys:c,values:d,datum:p,validScopes:h}]of a.entries())(h==null?void 0:h.length)!==0&&(l[u]=c,s[u++]={keys:c,values:d,datum:p,validScopes:h});return Te(te({},n),{type:"grouped",data:s,domain:Te(te({},n.domain),{groups:l})})}aggregateData(n){var t,e,r,i,o,a,s,l;const{aggregates:u}=this;if(!u)return;const c=u.map(()=>[1/0,-1/0]),d=u.map(v=>this.valueGroupIdxLookup(v)),p=u.map(v=>v.aggregateFunction),h=u.map(v=>v.groupAggregateFunction),f=u.map(v=>v.finalFunction);for(const v of n.data){let{values:g}=v;const{validScopes:y}=v;(t=v.aggValues)!=null||(v.aggValues=new Array(d.length)),n.type==="ungrouped"&&(g=[g]);let m=0;for(const C of d){if(!((e=y==null?void 0:y.some(x=>{var b;return(b=u[m].matchScopes)==null?void 0:b.some(O=>x===O)}))!=null?e:!0)){m++;continue}let w=(i=(r=h[m])==null?void 0:r.call(h))!=null?i:iC([]);for(const x of g){const b=C.map(T=>x[T]),O=p[m](b,v.keys);O&&(w=(a=(o=h[m])==null?void 0:o.call(h,O,w))!=null?a:iC(O,w))}const _=((l=(s=f[m])==null?void 0:s.call(f,w))!=null?l:w).map(x=>p3e(x));iC(_,c[m]),v.aggValues[m++]=_}}n.domain.aggValues=c}postProcessGroups(n){var t,e,r,i,o;const{groupProcessors:a}=this;if(!a)return;const s=new Set,l=new Map,u=new Map,c=new Map;for(const p of a){const h=this.valueGroupIdxLookup(p);u.set(p,h),c.set(p,p.adjust());for(const f of h){const v=this.values[f];s.add(f),l.set(f,new fM(v.valueType==="category"?"discrete":"continuous"))}}const d=p=>{var h;for(const f of s)(h=l.get(f))==null||h.extend(p[f])};for(const p of n.data){for(const h of a){if(!((e=(t=p.validScopes)==null?void 0:t.some(y=>{var m;return(m=h.matchScopes)==null?void 0:m.some(C=>y===C)}))!=null?e:!0))continue;const v=(r=u.get(h))!=null?r:[],g=(o=(i=c.get(h))==null?void 0:i())!=null?o:()=>{};if(n.type==="grouped"){for(const y of p.values)y&&g(y,v);continue}p.values&&g(p.values,v)}if(n.type==="grouped")for(const h of p.values)d(h);else d(p.values)}for(const[p,h]of l)n.domain.values[p]=[...h.getDomain()]}postProcessProperties(n){const{propertyProcessors:t}=this;if(t)for(const{adjust:e,property:r,scopes:i}of t)e()(n,this.valueIdxLookup(i??[],r))}reduceData(n){var t,e,r;const{reducers:i}=this,o=i.map(l=>l.scopes),a=i.map(l=>l.reducer()),s=i.map(l=>l.initialValue);for(const l of n.data){let u=0;for(const c of a){if(!((e=(t=l.validScopes)==null?void 0:t.some(p=>{var h;return(h=o[u])==null?void 0:h.some(f=>p===f)}))!=null?e:!0)){u++;continue}s[u]=c(s[u],l),u++}}for(let l=0;l<s.length;l++)(r=n.reduced)!=null||(n.reduced={}),n.reduced[i[l].property]=s[l]}postProcessData(n){var t;const{processors:e}=this;for(const r of e)(t=n.reduced)!=null||(n.reduced={}),n.reduced[r.property]=r.calculate(n)}initDataDomainProcessor(){var n;const{keys:t,values:e}=this,r=new Set;for(const p of e)for(const h of(n=p.scopes)!=null?n:[])r.add(h);const i=r.size,o=new Map,a=new Map;let s=!0;const l=(p,h,f=o)=>{var v;h==="category"?f.set(p,new fM("discrete")):(f.set(p,new fM("continuous")),s&&(s=((v=p.scopes)!=null?v:[]).length===i))},u=()=>{t.forEach(p=>l(p,p.valueType)),e.forEach(p=>l(p,p.valueType))};u();const c=this.buildAccessors(...t,...e);return{dataDomain:o,processValue:(p,h,f,v)=>{var g,y,m,C,S;const w=p.property in c;let _=!1,x;if(w){try{x=c[p.property](h)}catch{}_=x!==void 0}else _=p.property in h,x=_?h[p.property]:p.missingValue;p.forceValue!=null&&(x=_&&Jw(x)?-1*p.forceValue:p.forceValue,_=!0);const b="missingValue"in p;if(!_&&!b){const O=(g=p.missing.get(v))!=null?g:0;p.missing.set(v,O+1)}if(o.has(p)||u(),_&&!((m=(y=p.validation)==null?void 0:y.call(p,x,h))!=null?m:!0))if("invalidValue"in p)x=p.invalidValue;else return this.mode!=="integrated"&&Oe.warnOnce(`invalid value of type [${typeof x}] ignored:`,`[${x}]`),xp;return p.processor&&(a.has(p)||a.set(p,p.processor()),x=(C=a.get(p))==null?void 0:C(x,f!==xp?f:void 0)),(S=o.get(p))==null||S.extend(x),x},initDataDomain:u,scopes:r,allScopesHaveSameDefs:s}}buildAccessors(...n){const t={};if(this.mode==="integrated")return t;for(const e of n){if(!(e.property.indexOf(".")>=0||e.property.indexOf("[")>=0))continue;let i;e.property.startsWith("[")?i=`return datum${e.property};`:i=`return datum.${e.property};`,t[e.property]=new Function("datum",i)}return t}};function f3e(n){var t,e;const r=(i,o)=>{o.length>0&&(Oe.log(`DataModel.processData() - ${i}`),Oe.table(o))};if(Oe.log("DataModel.processData() - processedData",n),r("Key Domains",n.domain.keys),r("Group Domains",(t=n.domain.groups)!=null?t:[]),r("Value Domains",n.domain.values),r("Aggregate Domains",(e=n.domain.aggValues)!=null?e:[]),n.type==="grouped"){const i=n.data.reduce((o,a)=>{var s,l;const u=(s=a.keys)!=null?s:[],c=(l=a.aggValues)!=null?l:[],d=a.keys.map(()=>{}),p=c==null?void 0:c.map(()=>{});return o.push(...a.values.map((h,f)=>[...f===0?u:d,...h??[],...f==0?c:p])),o},[]);r("Values",i)}else{const i=n.data.reduce((o,a)=>{var s;const l=(s=a.aggValues)!=null?s:[];return o.push([...a.keys,...a.values,...l]),o},[]);r("Values",i)}}var yee=class{constructor(n){this.mode=n,this.debug=Lr.create(!0,"data-model"),this.requested=[],this.status="setup"}request(n,t,e){return pe(this,null,function*(){if(this.status!=="setup")throw new Error("AG Charts - data request after data setup phase.");return new Promise((r,i)=>{this.requested.push({id:n,opts:e,data:t,resultCb:r,reject:i})})})}execute(){if(this.status!=="setup")throw new Error("AG Charts - data request after data setup phase.");this.status="executed",this.debug("DataController.execute() - requested",this.requested);const{valid:n,invalid:t}=this.validateRequests(this.requested);this.debug("DataController.execute() - validated",n);const e=this.mergeRequested(n);this.debug("DataController.execute() - merged",e),this.debug.check()&&(window.processedData=[]);const r=n.some(i=>i.data!=null);for(const{opts:i,data:o,resultCbs:a,rejects:s,ids:l}of e){const u=r||i.props.some(c=>{var d;return c.type!=="value"&&c.type!=="key"?!1:(d=c.useScopedValues)!=null?d:!1});try{const c=new gee(Te(te({},i),{mode:this.mode})),d=c.processData(o,n);this.debug.check()&&window.processedData.push(d),d&&d.partialValidDataCount===0?a.forEach((p,h)=>{const f=l[h];let v=d;u&&(v=this.extractScopedData(f,d)),p({dataModel:c,processedData:v})}):d?this.splitResult(c,d,l,a):s.forEach(p=>p(new Error("AG Charts - no processed data generated")))}catch(c){s.forEach(d=>d(c))}}t.forEach(({error:i,reject:o})=>o(i))}extractScopedData(n,t){const e=i=>Array.isArray(i)?i.map(e):te(te({},i),i[n]),r=i=>{var o;return Array.isArray(i)?i.map(r):(o=i==null?void 0:i[n])!=null?o:i};return Te(te({},t),{data:t.data.map(i=>Te(te({},i),{datum:e(i.datum),values:i.values.map(r)}))})}validateRequests(n){const t=[],e=[];for(const[r,i]of n.entries())r>0&&i.data.length!==n[0].data.length&&i.opts.groupByData===!1?e.push(Te(te({},i),{error:new Error("all series[].data arrays must be of the same length and have matching keys.")})):t.push(i);return{valid:t,invalid:e}}mergeRequested(n){const t=[],e=l=>l.filter(u=>u.type==="key").map(u=>u.property).join(";"),r=({opts:l,data:u})=>c=>(l.groupByData===!1||c[0].data===u)&&c[0].opts.groupByKeys===l.groupByKeys&&c[0].opts.dataVisible===l.dataVisible&&c[0].opts.groupByFn===l.groupByFn&&e(c[0].opts.props)===e(l.props),i=l=>u=>{var c;if(u.type!==l.type)return!1;const d=(c=sa(u,l))!=null?c:{};return delete d.scopes,delete d.id,delete d.ids,"useScopedValues"in d&&delete d.useScopedValues,Object.keys(d).length===0},o=l=>{var u;if(l.type!=="key"&&l.type!=="value")return;const c=new Set((u=l.scopes)!=null?u:[]);l.useScopedValues=c.size>1},a=l=>Te(te({},l[0]),{props:l.reduce((u,c)=>{var d,p,h,f,v,g;for(const y of c.props){if(y.id!=null){(d=y.ids)!=null||(y.ids=[]);for(const C of(p=y.scopes)!=null?p:[])y.ids.push([C,y.id])}const m=u.find(i(y));if(!m){o(y),u.push(y);continue}(h=m.scopes)!=null||(m.scopes=[]),m.scopes.push(...(f=y.scopes)!=null?f:[]),o(y),(m.type==="key"||m.type==="value")&&((v=y.ids)!=null&&v.length)&&((g=m.ids)==null||g.push(...y.ids))}return u},[])}),s=l=>({ids:l.map(({id:u})=>u),resultCbs:l.map(({resultCb:u})=>u),rejects:l.map(({reject:u})=>u),data:l[0].data,opts:a(l.map(({opts:u})=>u))});for(const l of n){const u=t.find(r(l));u?u.push(l):t.push([l])}return t.map(s)}splitResult(n,t,e,r){for(let i=0;i<e.length;i++){const o=e[i],a=r[i];a({dataModel:n,processedData:Te(te({},t),{data:t.data.filter(({validScopes:s})=>s==null||s.some(l=>l===o))})})}}},Qg=class{constructor(){this.registeredListeners=new Map}addListener(n,t){const e={symbol:Symbol(n),handler:t};return this.registeredListeners.has(n)?this.registeredListeners.get(n).push(e):this.registeredListeners.set(n,[e]),()=>this.removeListener(e.symbol)}removeListener(n){for(const[t,e]of this.registeredListeners.entries()){const r=e.findIndex(i=>i.symbol===n);if(r>=0){e.splice(r,1),e.length===0&&this.registeredListeners.delete(t);break}}}dispatch(n,...t){for(const e of this.getListenersByType(n))try{e.handler(...t)}catch(r){Oe.errorOnce(r)}}dispatchWrapHandlers(n,t,...e){for(const r of this.getListenersByType(n))try{t(r.handler,...e)}catch(i){Oe.errorOnce(i)}}getListenersByType(n){var t;return(t=this.registeredListeners.get(n))!=null?t:[]}destroy(){this.registeredListeners.clear()}},hP=class extends Qg{constructor(n){super(),this.animationManager=n,this.dispatchOnlyLatest=!0,this.dispatchThrottle=0,this.requestThrottle=300,this.isLoadingInitialData=!1,this.freshRequests=[],this.requestCounter=0,this.debug=Lr.create(!0,"data-model","data-source"),this.throttledFetch=this.createThrottledFetch(this.requestThrottle),this.throttledDispatch=this.createThrottledDispatch(this.dispatchThrottle)}updateCallback(n){typeof n=="function"&&(this.debug("DataService - updated data source callback"),this.dataSourceCallback=n,this.isLoadingInitialData=!0,this.animationManager.skip(),this.dispatch("data-source-change"))}clearCallback(){this.dataSourceCallback=void 0}load(n){this.throttledFetch(n)}isLazy(){return this.dataSourceCallback!=null}isLoading(){return this.isLazy()&&(this.isLoadingInitialData||this.freshRequests.length>0)}createThrottledFetch(n){return JU(t=>this.fetch(t),n,{leading:!1,trailing:!0})}createThrottledDispatch(n){return JU((t,e)=>{this.debug(`DataService - dispatching 'data-load' | ${t}`),this.dispatch("data-load",{type:"data-load",data:e})},n,{leading:!0,trailing:!0})}fetch(n){return pe(this,null,function*(){if(!this.dataSourceCallback)throw new Error("DataService - [dataSource.getData] callback not initialised");const t=performance.now(),e=this.requestCounter++;this.debug(`DataService - requesting | ${e}`),this.freshRequests.push(e);let r;try{r=yield this.dataSourceCallback(n),this.debug(`DataService - response | ${performance.now()-t}ms | ${e}`)}catch(o){this.debug(`DataService - request failed | ${e}`),Oe.errorOnce(`DataService - request failed | [${o}]`)}this.isLoadingInitialData=!1;const i=this.freshRequests.findIndex(o=>o===e);if(i===-1||this.dispatchOnlyLatest&&i!==this.freshRequests.length-1){this.debug(`DataService - discarding stale request | ${e}`);return}this.freshRequests=this.freshRequests.slice(i+1),Array.isArray(r)?this.throttledDispatch(e,r):this.dispatch("data-error")})}};R([En({newValue(n){this.throttledDispatch=this.createThrottledDispatch(n)}})],hP.prototype,"dispatchThrottle",2);R([En({newValue(n){this.throttledFetch=this.createThrottledFetch(n)}})],hP.prototype,"requestThrottle",2);var v3e=[!0,"animation"],Sz=class{constructor(){this.stoppedCbs=new Set,this.controllers=new Map,this.debug=Lr.create(...v3e),this.currentPhase=0,this.phases=new Map(Yp.map(n=>[n,[]])),this.skipAnimations=!1}get size(){return this.controllers.size}isActive(){return this.controllers.size>0}getActiveControllers(){var n;return(n=this.phases.get(Yp[this.currentPhase]))!=null?n:[]}checkOverlappingId(n){n!=null&&this.controllers.has(n)&&(this.controllers.get(n).stop(),this.debug(`Skipping animation batch due to update of existing animation: ${n}`),this.skip())}addAnimation(n){var t;if(n.isComplete)return;if(Yp.indexOf(n.phase)<this.currentPhase){this.debug("Skipping animation due to being for an earlier phase",n.id),n.stop();return}this.controllers.set(n.id,n),(t=this.phases.get(n.phase))==null||t.push(n)}removeAnimation(n){this.controllers.delete(n.id);const t=this.phases.get(n.phase),e=t==null?void 0:t.indexOf(n);e!=null&&e>=0&&(t==null||t.splice(e,1))}progress(n){const t=Yp[this.currentPhase];let e=[...this.getActiveControllers()];const r=this.controllers.size;this.debug(`AnimationBatch - progressing by ${n}; current phase ${t} with ${e==null?void 0:e.length} active controllers of ${r} total`,this.phases);let i=n===0?.01:n;const o=()=>Yp[this.currentPhase]==null,a=()=>{for(e=[...this.getActiveControllers()];!o()&&e.length===0;)this.currentPhase++,e=[...this.getActiveControllers()],this.debug(`AnimationBatch - phase changing to ${Yp[this.currentPhase]}`,{unusedTime:i},e)};for(;i>0&&!o();){a();const s=i;let l=0;for(const u of e)i=Math.min(u.update(s),i),u.isComplete&&(l++,this.removeAnimation(u));this.debug(`AnimationBatch - updated ${e.length} controllers; ${l} completed`)}}skip(n=!0){if(this.skipAnimations===!1&&n===!0){for(const t of this.controllers.values())t.stop();this.controllers.clear()}this.skipAnimations=n}play(){for(const n of this.controllers.values())n.play()}pause(){for(const n of this.controllers.values())n.pause()}stop(){for(const n of this.controllers.values())try{n.stop(),this.removeAnimation(n)}catch(t){Oe.error("Error during animation stop",t)}this.dispatchStopped()}stopByAnimationId(n){if(n!=null&&this.controllers.has(n)){const t=this.controllers.get(n);t&&(t.stop(),this.removeAnimation(t))}}stopByAnimationGroupId(n){for(const t of this.controllers.values())t.groupId===n&&this.stopByAnimationId(t.id)}dispatchStopped(){this.stoppedCbs.forEach(n=>n()),this.stoppedCbs.clear()}isSkipped(){return this.skipAnimations}destroy(){}},df=class{constructor(){this.listeners=new Qg}addListener(n,t){return this.listeners.addListener(n,t)}removeListener(n){this.listeners.removeListener(n)}destroy(){this.listeners.destroy()}},mee=["click","dblclick","contextmenu","hover","drag-start","drag","drag-end","leave","page-left","wheel"],wz=["pagehide","mousemove","mouseup"],_z=["click","dblclick","contextmenu","mousedown","mouseout","mouseenter","touchstart","touchmove","touchend","touchcancel","wheel"],g3e=`
.ag-chart-wrapper {
    touch-action: none;
}
`,IO=(n=>(n[n.Default=8]="Default",n[n.ZoomDrag=4]="ZoomDrag",n[n.ContextMenu=2]="ContextMenu",n[n.Animation=1]="Animation",n[n.All=15]="All",n))(IO||{}),y3e=[!0,"interaction"],gB=class oC extends df{constructor(t,e,r){super(),this.debug=Lr.create(...y3e),this.eventHandler=i=>this.processEvent(i),this.mouseDown=!1,this.touchDown=!1,this.stateQueue=8,this.rootElement=e.body,this.element=t,this.window=r;for(const i of _z)i.startsWith("touch")?t.addEventListener(i,this.eventHandler,{passive:!0}):i==="wheel"?t.addEventListener(i,this.eventHandler,{passive:!1}):t.addEventListener(i,this.eventHandler);for(const i of wz)this.window.addEventListener(i,this.eventHandler);oC.interactionDocuments.includes(e)||(cP(e,g3e),oC.interactionDocuments.push(e))}destroy(){super.destroy();for(const t of wz)this.window.removeEventListener(t,this.eventHandler);for(const t of _z)this.element.removeEventListener(t,this.eventHandler)}addListener(t,e,r=8){return super.addListener(t,i=>{this.getState()&r&&e(i)})}pushState(t){this.stateQueue|=t}popState(t){this.stateQueue&=~t}getState(){return this.stateQueue&-this.stateQueue}processEvent(t){const e=this.decideInteractionEventTypes(t);e.length>0&&this.dispatchEvent(t,e).catch(r=>Oe.errorOnce(r))}dispatchEvent(t,e){return pe(this,null,function*(){const r=this.calculateCoordinates(t);if(r!=null)for(const i of e)this.listeners.dispatchWrapHandlers(i,(o,a)=>{a.consumed||o(a)},this.buildEvent(te({type:i,event:t},r)))})}decideInteractionEventTypes(t){const e="drag-start";switch(t.type){case"click":case"dblclick":case"contextmenu":case"wheel":return[t.type];case"mousedown":return this.mouseDown=!0,this.dragStartElement=t.target,[e];case"touchstart":return this.touchDown=!0,this.dragStartElement=t.target,[e];case"touchmove":case"mousemove":return!this.mouseDown&&!this.touchDown&&!this.isEventOverElement(t)?[]:this.mouseDown||this.touchDown?["drag"]:["hover"];case"mouseup":return!this.mouseDown&&!this.isEventOverElement(t)?[]:(this.mouseDown=!1,this.dragStartElement=void 0,["drag-end"]);case"touchend":return!this.touchDown&&!this.isEventOverElement(t)?[]:(this.touchDown=!1,this.dragStartElement=void 0,["drag-end"]);case"mouseout":case"touchcancel":return["leave"];case"mouseenter":const r=t instanceof MouseEvent&&(t.buttons&1)===1;return this.mouseDown!==r?(this.mouseDown=r,[r?e:"drag-end"]):[];case"pagehide":return["page-left"]}return[]}isEventOverElement(t){var e;return t.target===this.element||((e=t.target)==null?void 0:e.parentElement)===this.element}calculateCoordinates(t){var e;if(t instanceof MouseEvent)return this.getMouseEventCoords(t);if(typeof TouchEvent<"u"&&t instanceof TouchEvent){const r=(e=t.touches[0])!=null?e:t.changedTouches[0],{clientX:i,clientY:o,pageX:a,pageY:s}=r;return Te(te({},oC.NULL_COORDS),{clientX:i,clientY:o,pageX:a,pageY:s})}else if(t instanceof PageTransitionEvent)return t.persisted?void 0:oC.NULL_COORDS}getMouseEventCoords(t){const{clientX:e,clientY:r,pageX:i,pageY:o}=t;let{offsetX:a,offsetY:s}=t;const l=u=>{let c=0,d=0;for(;u;)c+=u.offsetLeft,d+=u.offsetTop,u=u.offsetParent;return{x:c,y:d}};if(this.dragStartElement!=null&&t.target!==this.dragStartElement){const u=l(this.dragStartElement),c=l(t.target);a-=u.x-c.x,s-=u.y-c.y}return{clientX:e,clientY:r,pageX:i,pageY:o,offsetX:a,offsetY:s}}isWheelEvent(t){return t.type==="wheel"}buildEvent(t){const{type:e,event:r,clientX:i,clientY:o}=t;let{offsetX:a,offsetY:s,pageX:l,pageY:u}=t;if(!Gt(a)||!Gt(s)){const f=this.element.getBoundingClientRect();a=i-f.left,s=o-f.top}if(!Gt(l)||!Gt(u)){const f=this.rootElement.getBoundingClientRect();l=i-f.left,u=o-f.top}const c=f=>{const m=Math.sign(f);return(Math.log10(Math.abs(f)/60+.1)*3+3)*m};let[d,p]=[NaN,NaN];if(this.isWheelEvent(r)){const f=r.deltaMode===0?c:v=>v;d=f(r.deltaX),p=f(r.deltaY)}const h={type:e,offsetX:a,offsetY:s,pageX:l,pageY:u,deltaX:d,deltaY:p,sourceEvent:r,consumed:!1,consume(){h.consumed=!0}};return this.debug("InteractionManager - builtEvent: ",h),h}};gB.interactionDocuments=[];gB.NULL_COORDS={clientX:-1/0,clientY:-1/0,pageX:-1/0,pageY:-1/0,offsetX:-1/0,offsetY:-1/0};var Cee=gB,m3e=[!0,"animation"],See=class extends df{constructor(n,t){super(),this.interactionManager=n,this.chartUpdateMutex=t,this.defaultDuration=1e3,this.batch=new Sz,this.debug=Lr.create(...m3e),this.rafAvailable=typeof requestAnimationFrame<"u",this.isPlaying=!1,this.requestId=null,this.skipAnimations=!1}animate(n){var t=n,e=yn(t,["disableInteractions"]),r;const i=this.batch;try{i.checkOverlappingId(e.id)}catch(l){this.failsafeOnError(l);return}const o=(r=e.id)!=null?r:Math.random().toString(),a=this.isSkipped();a&&this.debug("AnimationManager - skipping animation");const s=new CJ(Te(te({},e),{id:o,skip:a,autoplay:this.isPlaying?e.autoplay:!1,phase:e.phase,defaultDuration:this.defaultDuration}));if(!this.forceTimeJump(s,this.defaultDuration))return this.batch.addAnimation(s),s}play(){if(!this.isPlaying){this.isPlaying=!0,this.debug("AnimationManager.play()");try{this.batch.play()}catch(n){this.failsafeOnError(n)}this.requestAnimation()}}pause(){if(this.isPlaying){this.isPlaying=!1,this.cancelAnimation(),this.debug("AnimationManager.pause()");try{this.batch.pause()}catch(n){this.failsafeOnError(n)}}}stop(){this.isPlaying=!1,this.cancelAnimation(),this.debug("AnimationManager.stop()"),this.batch.stop()}stopByAnimationId(n){try{this.batch.stopByAnimationId(n)}catch(t){this.failsafeOnError(t)}}stopByAnimationGroupId(n){try{this.batch.stopByAnimationGroupId(n)}catch(t){this.failsafeOnError(t)}}reset(){this.isPlaying?(this.stop(),this.play()):this.stop()}skip(n=!0){this.skipAnimations=n}isSkipped(){return!this.rafAvailable||this.skipAnimations||this.batch.isSkipped()}isActive(){return this.isPlaying&&this.batch.isActive()}skipCurrentBatch(){this.debug.check()&&this.debug("AnimationManager - skipCurrentBatch()",{stack:new Error().stack}),this.batch.skip()}isSkippingFrames(){return!0}scheduleAnimationFrame(n){this.requestId=requestAnimationFrame(n)}forceTimeJump(n,t){return!1}requestAnimation(){if(!this.rafAvailable||!this.batch.isActive()||this.requestId!==null)return;let n;const t=e=>pe(this,null,function*(){const r=()=>pe(this,null,function*(){const i=e-(n??e);n=e,this.debug("AnimationManager - onAnimationFrame()",{controllersCount:this.batch.size,deltaTime:i}),this.interactionManager.pushState(1);try{this.batch.progress(i)}catch(o){this.failsafeOnError(o)}this.listeners.dispatch("animation-frame",{type:"animation-frame",deltaMs:i})});this.isSkippingFrames()?yield this.chartUpdateMutex.acquireImmediately(r):yield this.chartUpdateMutex.acquire(r),this.batch.isActive()?this.scheduleAnimationFrame(t):this.batch.stop()});this.scheduleAnimationFrame(t)}cancelAnimation(){this.requestId!==null&&(cancelAnimationFrame(this.requestId),this.requestId=null,this.startBatch())}failsafeOnError(n,t=!0){Oe.error("Error during animation, skipping animations",n),t&&this.cancelAnimation()}startBatch(n){this.debug(`AnimationManager - startBatch() with skipAnimations=${n}.`),this.reset(),this.batch.stop(),this.batch.destroy(),this.batch=new Sz,n===!0&&this.batch.skip()}endBatch(){this.debug(`AnimationManager - endBatch() with ${this.batch.size} animations; skipped: ${this.batch.isSkipped()}.`),this.batch.isActive()||this.interactionManager.popState(1),this.batch.isSkipped()&&!this.batch.isActive()&&this.batch.skip(!1),this.requestAnimation()}onBatchStop(n){this.batch.stoppedCbs.add(n)}},wee=class extends df{legendItemClick(n,t,e,r){const i={type:"legend-item-click",series:n,itemId:t,enabled:e,legendItemName:r};this.listeners.dispatch("legend-item-click",i)}legendItemDoubleClick(n,t,e,r,i){const o={type:"legend-item-double-click",series:n,itemId:t,enabled:e,legendItemName:i,numVisibleItems:r};this.listeners.dispatch("legend-item-double-click",o)}axisHover(n,t){const e={type:"axis-hover",axisId:n,direction:t};this.listeners.dispatch("axis-hover",e)}},_ee=class{constructor(){this.defaultActions=[],this.disabledActions=new Set}copyDefaultAction(){return[...this.defaultActions]}registerDefaultAction(n){n.id&&this.defaultActions.find(({id:t})=>t===n.id)||this.defaultActions.push(n)}enableAction(n){this.disabledActions.delete(n)}disableAction(n){this.disabledActions.add(n)}isDisabled(n){return this.disabledActions.has(n)}},xee=class{constructor(n){this.states={},this.element=n}updateCursor(n,t){delete this.states[n],t!=null&&(this.states[n]={style:t}),this.applyStates()}applyStates(){let n="default";Object.entries(this.states).reverse().slice(0,1).forEach(([t,{style:e}])=>n=e),this.element.style.cursor=n}getCursor(){return this.element.style.cursor}};function C3e(n,t){const e=n.screenX-t.screenX,r=n.screenY-t.screenY;return e*e+r*r}function xz(n,t){return Math.sqrt(C3e(n,t))}var S3e=1,Eee=class extends df{constructor(n){super(),this.touchstart=t=>this.onTouchStart(t),this.touchmove=t=>this.onTouchMove(t),this.touchend=t=>this.onTouchEnd(t),this.touchcancel=t=>this.onTouchCancel(t),this.pinch={finger1:{identifier:NaN,screenX:NaN,screenY:NaN},finger2:{identifier:NaN,screenX:NaN,screenY:NaN},origin:{x:NaN,y:NaN},distance:NaN,status:0},this.element=n,n.addEventListener("touchstart",this.touchstart,{passive:!0}),n.addEventListener("touchmove",this.touchmove,{passive:!0}),n.addEventListener("touchend",this.touchend),n.addEventListener("touchcancel",this.touchcancel)}destroy(){const{element:n}=this;n.removeEventListener("touchstart",this.touchstart),n.removeEventListener("touchmove",this.touchmove),n.removeEventListener("touchend",this.touchend),n.removeEventListener("touchcancel",this.touchcancel)}findPinchTouches(n){const{touches:t}=n,{finger1:e,finger2:r}=this.pinch;if(this.pinch.status!==0&&t.length===2){if(t[0].identifier===e.identifier&&t[1].identifier===r.identifier)return[t[0],t[1]];if(t[0].identifier===r.identifier&&t[1].identifier===e.identifier)return[t[1],t[0]]}}copyTouchData(n){const t=["identifier","screenX","screenY"];dI(t,this.pinch.finger1,n.touches[0]),dI(t,this.pinch.finger2,n.touches[1]),this.pinch.distance=xz(this.pinch.finger1,this.pinch.finger2)}dispatchPinchEvent(n,t){const{finger1:e,finger2:r,origin:i}=this.pinch,o={type:n,finger1:e,finger2:r,deltaDistance:t,origin:i};this.listeners.dispatch(n,o)}onTouchStart(n){this.stopPinchTracking();const{pinch:t}=this;n.touches.length===2&&(t.status=1,this.copyTouchData(n),t.origin.x=(n.touches[0].clientX+n.touches[1].clientX)/2,t.origin.y=(n.touches[0].clientY+n.touches[1].clientY)/2)}onTouchMove(n){const t=this.findPinchTouches(n);if(t!==void 0){const[e,r]=t,{pinch:i}=this,o=xz(e,r),a=o-i.distance;i.status===1?Math.abs(a)>S3e&&(i.status=2,this.copyTouchData(n),this.dispatchPinchEvent("pinch-start",0)):i.status===2?(i.distance=o,this.copyTouchData(n),this.dispatchPinchEvent("pinch-move",a)):Oe.error(`unexpected pinch.status: ${i.status}`)}}onTouchEnd(n){this.stopPinchTracking()}onTouchCancel(n){this.stopPinchTracking()}stopPinchTracking(){const{pinch:n}=this;n.status===2&&this.dispatchPinchEvent("pinch-end",0),this.pinch.status=0}},NI=class extends df{constructor(){super(...arguments),this.highlightStates=new Map,this.pickedStates=new Map}updateHighlight(n,t){this.highlightStates.delete(n),t!=null&&this.highlightStates.set(n,t),this.applyHighlightStates()}getActiveHighlight(){return this.activeHighlight}updatePicked(n,t){this.pickedStates.delete(n),t!=null&&this.pickedStates.set(n,t),this.applyPickedStates()}getActivePicked(){return this.activePicked}applyHighlightStates(){const{activeHighlight:n}=this;this.activeHighlight=Array.from(this.highlightStates.values()).pop(),this.isEqual(this.activeHighlight,n)||this.listeners.dispatch("highlight-change",{type:"highlight-change",currentHighlight:this.activeHighlight,previousHighlight:n})}applyPickedStates(){this.activePicked=Array.from(this.pickedStates.values()).pop()}isEqual(n,t){return n===t||(n==null?void 0:n.series)===(t==null?void 0:t.series)&&(n==null?void 0:n.itemId)===(t==null?void 0:t.itemId)&&(n==null?void 0:n.datum)===(t==null?void 0:t.datum)}};function w3e(n,t,e){var r,i;return(i=(r=n.bbox.computeBBox())==null?void 0:r.containsPoint(t,e))!=null?i:!1}function Ez(n){var t;const{width:e=0,height:r=0}=(t=n.bbox.computeBBox())!=null?t:{};return e*r}var _3e=class{constructor(){this.nodes=[]}add(n,t){this.nodes.push({value:n,bbox:t})}find(n,t){return this.nodes.filter(e=>w3e(e,n,t)).sort((e,r)=>Ez(e)-Ez(r)).map(e=>e.value)}*[Symbol.iterator](){for(const{value:n}of Object.values(this.nodes))yield n}clear(){this.nodes.length=0}},x3e=class extends Qg{},E3e=class{constructor(n){this.interactionManager=n,this.eventHandler=t=>this.processEvent(t),this.regions=new _3e,this.destroyFns=[],mee.forEach(t=>this.destroyFns.push(n.addListener(t,this.eventHandler,15)))}destroy(){this.destroyFns.forEach(n=>n()),this.currentRegion=void 0;for(const n of this.regions)n.listeners.destroy();this.regions.clear()}pushRegion(n,t){const e={name:n,listeners:new x3e};return this.regions.add(e,t),e}addRegion(n,t){const e=this.pushRegion(n,t),{interactionManager:r}=this;class i{addListener(a,s,l=8){return e.listeners.addListener(a,u=>{u.consumed||r.getState()&l&&s(u)})}}return new i}processEvent(n){const{currentRegion:t}=this,e=this.pickRegion(n.offsetX,n.offsetY);t!==void 0&&(e==null?void 0:e.name)!==t.name&&(t==null||t.listeners.dispatch("leave",Te(te({},n),{type:"leave"}))),e!==void 0&&pe(this,null,function*(){return e.listeners.dispatch(n.type,n)}).catch(i=>Oe.errorOnce(i)),this.currentRegion=e}pickRegion(n,t){const e=this.regions.find(n,t);return e.length>0?e[0]:void 0}},yB=class qp extends df{constructor(t){super(),this.chart=t}subscribe(t=qp.DEFAULT_GROUP){let e=this.get(t);return e||(e=new Set,qp.chartsGroups.set(t,e)),e.add(this.chart),this}unsubscribe(t=qp.DEFAULT_GROUP){var e;return(e=this.get(t))==null||e.delete(this.chart),this}getChart(){return this.chart}getGroup(t=qp.DEFAULT_GROUP){const e=this.get(t);return e?Array.from(e):[]}getGroupSiblings(t=qp.DEFAULT_GROUP){return this.getGroup(t).filter(e=>e!==this.chart)}get(t){return qp.chartsGroups.get(t)}};yB.chartsGroups=new Map;yB.DEFAULT_GROUP=Symbol("sync-group-default");var b3e=yB,kI=class{constructor(n,t){this.states={},this.exclusiveAreas={},this.destroyFns=[],this.tooltip=n,this.destroyFns.push(t.addListener("hover",e=>this.checkExclusiveRects(e)))}getRange(){return this.tooltip.range}updateTooltip(n,t,e){var r;e==null&&(e=(r=this.states[n])==null?void 0:r.content),this.states[n]={content:e,meta:t},this.applyStates()}updateExclusiveRect(n,t){t?this.exclusiveAreas[n]=t:delete this.exclusiveAreas[n]}removeTooltip(n){delete this.states[n],this.applyStates()}getTooltipMeta(n){var t;return(t=this.states[n])==null?void 0:t.meta}destroy(){for(const n of this.destroyFns)n()}checkExclusiveRects(n){let t;for(const[e,r]of Object.entries(this.exclusiveAreas))if(r.containsPoint(n.offsetX,n.offsetY)){t=e;break}t!==this.appliedExclusiveArea&&(this.appliedExclusiveArea=t,this.applyStates())}applyStates(){var n;const t=this.appliedExclusiveArea?[this.appliedExclusiveArea]:Object.keys(this.states);let e,r;if(t.reverse(),t.slice(0,1).forEach(i=>{var o;const{content:a,meta:s}=(o=this.states[i])!=null?o:{};e=a,r=s}),r===void 0||e===void 0){this.appliedState=void 0,this.tooltip.toggle(!1);return}if(((n=this.appliedState)==null?void 0:n.content)===e){const i=this.tooltip.isVisible();this.tooltip.show(r,void 0,i)}else this.tooltip.show(r,e);this.appliedState={content:e,meta:r}}static makeTooltipMeta(n,t){var e,r,i,o;const{offsetX:a,offsetY:s}=n,{tooltip:l}=t.series.properties,u={xOffset:l.position.xOffset,yOffset:l.position.yOffset},c={offsetX:a,offsetY:s,lastPointerEvent:{offsetX:a,offsetY:s},showArrow:l.showArrow,position:u},d=(r=(e=t.yBar)==null?void 0:e.upperPoint)!=null?r:t.midPoint;if(l.position.type==="node"&&d){const{x:p,y:h}=d,f=t.series.contentGroup.inverseTransformPoint(p,h);return Te(te({},c),{offsetX:Math.round(f.x),offsetY:Math.round(f.y)})}return c.enableInteraction=(o=(i=l.interaction)==null?void 0:i.enabled)!=null?o:!1,c}},bee=class extends df{constructor(){super(...arguments),this.axisZoomManagers=new Map}updateAxes(n){var t;const e=new Map(n.map(r=>[r.id,this.axisZoomManagers.get(r.id)]));this.axisZoomManagers.clear();for(const r of n)this.axisZoomManagers.set(r.id,(t=e.get(r.id))!=null?t:new O3e(r));this.initialZoom&&(this.updateZoom(this.initialZoom),this.initialZoom=void 0)}updateZoom(n){if(this.axisZoomManagers.size===0){this.initialZoom=n;return}this.axisZoomManagers.forEach(t=>{t.updateZoom(n==null?void 0:n[t.getDirection()])}),this.applyChanges()}updateAxisZoom(n,t){var e;(e=this.axisZoomManagers.get(n))==null||e.updateZoom(t),this.applyChanges()}getZoom(){let n,t;if(this.axisZoomManagers.forEach(e=>{e.getDirection()==="x"?n??(n=e.getZoom()):e.getDirection()==="y"&&(t??(t=e.getZoom()))}),n||t)return{x:n,y:t}}getAxisZoom(n){var t,e;return(e=(t=this.axisZoomManagers.get(n))==null?void 0:t.getZoom())!=null?e:{min:0,max:1}}getAxisZooms(){const n={};for(const[t,e]of this.axisZoomManagers.entries())n[t]={direction:e.getDirection(),zoom:e.getZoom()};return n}applyChanges(){if(!Array.from(this.axisZoomManagers.values()).map(e=>e.applyChanges()).some(Boolean))return;const t={};for(const[e,r]of this.axisZoomManagers.entries())t[e]=r.getZoom();this.listeners.dispatch("zoom-change",Te(te({type:"zoom-change"},this.getZoom()),{axes:t}))}},O3e=class{constructor(n){this.pendingZoom=null,this.axis=n;const[t=0,e=1]=n.visibleRange;this.initialZoom=this.currentZoom={min:t,max:e}}getDirection(){return this.axis.direction}updateZoom(n){this.pendingZoom=n?te({},n):null}getZoom(){return ui(this.currentZoom)}applyChanges(){var n;const t=this.currentZoom;return this.currentZoom=(n=this.pendingZoom)!=null?n:this.initialZoom,t.min!==this.currentZoom.min||t.max!==this.currentZoom.max}},Oee=class extends Qg{constructor(){super(...arguments),this.layoutComplete="layout-complete"}addListener(n,t){if(this.isLayoutStage(n)||this.isLayoutComplete(n))return super.addListener(n,t);throw new Error(`AG Charts - unsupported listener type: ${n}`)}dispatchPerformLayout(n,t){return this.isLayoutStage(n)?this.getListenersByType(n).reduce((e,r)=>{try{return r.handler(e)}catch(i){return Oe.errorOnce(i),e}},t):t}dispatchLayoutComplete(n){this.dispatch(this.layoutComplete,n)}isLayoutStage(n){return n!==this.layoutComplete}isLayoutComplete(n){return n===this.layoutComplete}};function R3e({orientation:n,bboxes:t,maxHeight:e,maxWidth:r,itemPaddingY:i=0,itemPaddingX:o=0,forceResult:a=!1}){const s=n==="horizontal",l={max:s?r:e,fn:s?p=>p.width:p=>p.height,padding:s?o:i},u={max:s?e:r,fn:s?p=>p.height:p=>p.width,padding:s?i:o};let c=0;const d=[];for(;c<t.length;){const p=t.slice(c),h=T3e(p,c,l,u,a);if(!h)return;c+=h.processedBBoxCount,d.push(h.pageIndices)}return A3e(d,n,t,i,o)}function T3e(n,t,e,r,i){let a=M3e(n,e);if(a<1){if(!i)return;a=1}for(let s=a;s>=1;s--){const l=P3e(n,t,s,e,r,i);if(l==null&&s<=1)return;if(l==null)continue;if(typeof l=="number"){if(l<=1)return;s=l<s&&l>1?l:s;continue}return{processedBBoxCount:l.length*l[0].length,pageIndices:l}}}function P3e(n,t,e,r,i,o){var a;const s=[];let l=0,u=0,c=[];const d=[];for(let p=0;p<n.length;p++){const h=(p+e)%e;h===0&&(l+=u,u=0,c.length>0&&s.push(c),c=[]);const f=r.fn(n[p])+r.padding;d[h]=Math.max((a=d[h])!=null?a:0,f),u=Math.max(u,i.fn(n[p])+i.padding);const v=l+u,g=!o||s.length>0;if(v>i.max&&g){c=[];break}if(d.reduce((m,C)=>m+C,0)>r.max&&!o)return d.length<e?d.length:void 0;c.push(p+t)}return c.length>0&&s.push(c),s.length>0?s:void 0}function A3e(n,t,e,r,i){let o=0,a=0;return{pages:n.map(l=>{t==="horizontal"&&(l=D3e(l));let u=0;const c=l.map(h=>{const f=h.map(y=>(u=Math.max(y,u),e[y]));let v=0,g=0;return f.forEach(y=>{v+=y.height+r,g=Math.max(g,y.width+i)}),{indices:h,bboxes:f,columnHeight:Math.ceil(v),columnWidth:Math.ceil(g)}});let d=0,p=0;return c.forEach(h=>{d+=h.columnWidth,p=Math.max(p,h.columnHeight)}),o=Math.max(d,o),a=Math.max(p,a),{columns:c,startIndex:l[0][0],endIndex:u,pageWidth:d,pageHeight:p}}),maxPageWidth:o,maxPageHeight:a}}function D3e(n){const t=[];for(const e of n[0])t.push([]);return n.forEach((e,r)=>{e.forEach((i,o)=>{t[o][r]=i})}),t}function M3e(n,t){const e=n.length;let r=0;for(let i=0;i<e;i++)if(r+=t.fn(n[i])+t.padding,r>t.max)return e/i<2?Math.ceil(e/2):i;return e}function F3e(n,t){const e=-t/n;return n!==0&&e>=0&&e<=1?[e]:[]}function L3e(n,t,e){if(n===0)return F3e(t,e);const r=t*t-4*n*e,i=[];if(r===0){const o=-t/(2*n);o>=0&&o<=1&&i.push(o)}else if(r>0){const o=Math.sqrt(r),a=(-t-o)/(2*n),s=(-t+o)/(2*n);a>=0&&a<=1&&i.push(a),s>=0&&s<=1&&i.push(s)}return i}function I3e(n,t,e,r){if(n===0)return L3e(t,e,r);const i=t/n,o=e/n,a=r/n,s=(3*o-i*i)/9,l=(9*i*o-27*a-2*i*i*i)/54,u=s*s*s+l*l,c=1/3,d=[];if(u>=0){const p=Math.sqrt(u),h=Math.sign(l+p)*Math.pow(Math.abs(l+p),c),f=Math.sign(l-p)*Math.pow(Math.abs(l-p),c),v=Math.abs(Math.sqrt(3)*(h-f)/2),g=-c*i+(h+f);if(g>=0&&g<=1&&d.push(g),v===0){const y=-c*i-(h+f)/2;y>=0&&y<=1&&d.push(y)}}else{const p=Math.acos(l/Math.sqrt(-s*s*s)),h=c*i,f=2*Math.sqrt(-s),v=f*Math.cos(c*p)-h,g=f*Math.cos(c*(p+2*Math.PI))-h,y=f*Math.cos(c*(p+4*Math.PI))-h;v>=0&&v<=1&&d.push(v),g>=0&&g<=1&&d.push(g),y>=0&&y<=1&&d.push(y)}return d}function HC(n,t,e,r,i,o,a,s){const l=(e-n)*(s-o)-(r-t)*(a-i);if(l===0)return null;const u=((a-i)*(t-o)-(n-i)*(s-o))/l,c=((e-n)*(t-o)-(r-t)*(n-i))/l;return u>=0&&u<=1&&c>=0&&c<=1?{x:n+u*(e-n),y:t+u*(r-t)}:null}function N3e(n,t,e,r,i,o,a,s,l,u,c,d){const p=[],h=u-d,f=c-l,v=l*(d-u)-u*(c-l),g=bz(n,e,i,a),y=bz(t,r,o,s),m=h*g[0]+f*y[0],C=h*g[1]+f*y[1],S=h*g[2]+f*y[2],w=h*g[3]+f*y[3]+v,_=I3e(m,C,S,w);for(const x of _){const b=x*x,O=x*b,T=g[0]*O+g[1]*b+g[2]*x+g[3],A=y[0]*O+y[1]*b+y[2]*x+y[3];let N;l!==c?N=(T-l)/(c-l):N=(A-u)/(d-u),N>=0&&N<=1&&p.push({x:T,y:A})}return p}function bz(n,t,e,r){return[-n+3*t-3*e+r,3*n-6*t+3*e,-3*n+3*t,n]}function Ree(n,t,e,r,i,o,a,s,l,u){const c=(u-s)/(l-a),d=s-c*a,p=Math.pow(c,2)+1,h=2*(c*(d-t)-n),f=Math.pow(n,2)+Math.pow(d-t,2)-Math.pow(e,2),v=Math.pow(h,2)-4*p*f;if(v<0)return[];const g=(-h+Math.sqrt(v))/2/p,y=(-h-Math.sqrt(v))/2/p,m=[];return[g,y].forEach(C=>{if(!(C>=Math.min(a,l)&&C<=Math.max(a,l)))return;const w=c*C+d,_=$r(r);let x=$r(i),b=$r(Math.atan2(w,C));x<=_&&(x+=2*Math.PI),b<_&&(b+=2*Math.PI),o!==(b>=_&&b<=x)&&m.push({x:C,y:w})}),m}var Rg=class{constructor(){this.previousCommands=[],this.previousParams=[],this.previousClosedPath=!1,this.commands=[],this.params=[],this._closedPath=!1}isDirty(){if(this._closedPath!==this.previousClosedPath||this.previousCommands.length!==this.commands.length||this.previousParams.length!==this.params.length)return!0;for(let n=0;n<this.commands.length;n++)if(this.commands[n]!==this.previousCommands[n])return!0;for(let n=0;n<this.params.length;n++)if(this.params[n]!==this.previousParams[n])return!0;return!1}draw(n){const t=this.commands,e=this.params;let r=0;n.beginPath();for(const i of t)switch(i){case 0:n.moveTo(e[r++],e[r++]);break;case 1:n.lineTo(e[r++],e[r++]);break;case 3:n.bezierCurveTo(e[r++],e[r++],e[r++],e[r++],e[r++],e[r++]);break;case 2:n.arc(e[r++],e[r++],e[r++],e[r++],e[r++],e[r++]===1);break;case 4:n.closePath();break}t.length===0&&n.closePath()}moveTo(n,t){this.xy?(this.xy[0]=n,this.xy[1]=t):this.xy=[n,t],this.commands.push(0),this.params.push(n,t)}lineTo(n,t){this.xy?(this.commands.push(1),this.params.push(n,t),this.xy[0]=n,this.xy[1]=t):this.moveTo(n,t)}rect(n,t,e,r){this.moveTo(n,t),this.lineTo(n+e,t),this.lineTo(n+e,t+r),this.lineTo(n,t+r),this.closePath()}roundRect(n,t,e,r,i){i=Math.min(i,e/2,r/2),this.moveTo(n,t+i),this.arc(n+i,t+i,i,Math.PI,3*Math.PI/2),this.lineTo(n+i,t),this.lineTo(n+e-i,t),this.arc(n+e-i,t+i,i,3*Math.PI/2,2*Math.PI),this.lineTo(n+e,t+i),this.lineTo(n+e,t+r-i),this.arc(n+e-i,t+r-i,i,0,Math.PI/2),this.lineTo(n+e-i,t+r),this.lineTo(n+i,t+r),this.arc(n+ +i,t+r-i,i,Math.PI/2,Math.PI),this.lineTo(n,t+r-i),this.closePath()}arc(n,t,e,r,i,o=!1){const a=n+e*Math.cos(i),s=t+e*Math.sin(i);this.xy?(this.xy[0]=a,this.xy[1]=s):this.xy=[a,s],this.commands.push(2),this.params.push(n,t,e,r,i,o?1:0)}cubicCurveTo(n,t,e,r,i,o){this.xy||this.moveTo(n,t),this.commands.push(3),this.params.push(n,t,e,r,i,o),this.xy&&(this.xy[0]=i,this.xy[1]=o)}get closedPath(){return this._closedPath}closePath(){this.xy&&(this.xy=void 0,this.commands.push(4),this._closedPath=!0)}clear({trackChanges:n}={trackChanges:!1}){n?(this.previousCommands=this.commands,this.previousParams=this.params,this.previousClosedPath=this._closedPath,this.commands=[],this.params=[]):(this.commands.length=0,this.params.length=0),this.xy=void 0,this._closedPath=!1}isPointInPath(n,t){const e=this.commands,r=this.params,i=e.length,o=-1e4,a=-1e4;let s=NaN,l=NaN,u=0,c=0,d=0;for(let p=0,h=0;p<i;p++)switch(e[p]){case 0:!isNaN(s)&&HC(s,l,u,c,o,a,n,t)&&d++,u=r[h++],s=u,c=r[h++],l=c;break;case 1:HC(u,c,r[h++],r[h++],o,a,n,t)&&d++,u=r[h-2],c=r[h-1];break;case 3:d+=N3e(u,c,r[h++],r[h++],r[h++],r[h++],r[h++],r[h++],o,a,n,t).length,u=r[h-2],c=r[h-1];break;case 2:const f=r[h++],v=r[h++],g=r[h++],y=r[h++],m=r[h++],C=!!r[h++];d+=Ree(f,v,g,y,m,C,o,a,n,t).length,u=f+Math.cos(m)*g,c=v+Math.sin(m)*g;break;case 4:!isNaN(s)&&HC(s,l,u,c,o,a,n,t)&&d++;break}return d%2===1}getPoints(){const{commands:n,params:t}=this,e=[];let r=0;for(let i=0;i<n.length;i++)switch(n[i]){case 0:case 1:e.push({x:t[r++],y:t[r++]});break;case 3:r+=4,e.push({x:t[r++],y:t[r++]});break;case 2:e.push({x:t[r++],y:t[r++]}),r+=4;break}return e}};function ct(n){const{redraw:t=3,changeCb:e,convertor:r}=n??{};return Pe({redraw:t,type:"path",convertor:r,changeCb:e})}var ha=class extends Za{constructor(){super(...arguments),this.path=new Rg,this._clipX=NaN,this._clipY=NaN,this._dirtyPath=!0}set clipX(n){this._clipX=n,this.dirtyPath=!0}set clipY(n){this._clipY=n,this.dirtyPath=!0}set dirtyPath(n){this._dirtyPath!==n&&(this._dirtyPath=n,n&&this.markDirty(this,3))}get dirtyPath(){return this._dirtyPath}checkPathDirty(){var n,t,e,r;this._dirtyPath||(this.dirtyPath=this.path.isDirty()||((t=(n=this.fillShadow)==null?void 0:n.isDirty())!=null?t:!1)||((r=(e=this._clipPath)==null?void 0:e.isDirty())!=null?r:!1))}isPointInPath(n,t){const e=this.transformPoint(n,t);return this.path.closedPath&&this.path.isPointInPath(e.x,e.y)}isDirtyPath(){return!1}updatePath(){}render(n){var t,e,r,i,o;const{ctx:a,forceRender:s,stats:l}=n;if(this.dirty===0&&!s){l&&(l.nodesSkipped+=this.nodeCount.count);return}if(this.computeTransformMatrix(),this.matrix.toContext(a),(this.dirtyPath||this.isDirtyPath())&&(this.updatePath(),this.dirtyPath=!1),!isNaN(this._clipX)&&!isNaN(this._clipY)&&this.clipMode!=null){a.save();const u=this.strokeWidth/2;if((t=this._clipPath)!=null||(this._clipPath=new Rg),this._clipPath.clear(),this._clipPath.rect(-u,-u,this._clipX+u,this._clipY+u+u),this.clipMode==="normal"&&((e=this._clipPath)==null||e.draw(a),a.clip()),this._clipX>0&&this._clipY>0&&(this.path.draw(a),this.fillStroke(a)),this.clipMode==="punch-out"){(r=this._clipPath)==null||r.draw(a),a.clip();const{x:c=-1e4,y:d=-1e4,width:p=2e4,height:h=2e4}=(i=this.computeBBox())!=null?i:{};a.clearRect(c,d,p,h)}a.restore()}else this.path.draw(a),this.fillStroke(a);(o=this.fillShadow)==null||o.markClean(),super.render(n)}};ha.className="Path";R([ct()],ha.prototype,"clipMode",2);R([ct()],ha.prototype,"clipX",1);R([ct()],ha.prototype,"clipY",1);var os=class extends ha{constructor(){super(...arguments),this.x=0,this.y=0,this.size=12}computeBBox(){const{x:n,y:t,size:e}=this,r=e/2;return new et(n-r,t-r,e,e)}applyPath(n,t){const{path:e}=this;let{x:r,y:i}=this;e.clear();for(const{x:o,y:a,t:s}of t)r+=o*n,i+=a*n,s==="move"?e.moveTo(r,i):e.lineTo(r,i);e.closePath()}};R([ct()],os.prototype,"x",2);R([ct()],os.prototype,"y",2);R([ct({convertor:Math.abs})],os.prototype,"size",2);var Ul=class extends os{updatePath(){const{x:n,y:t,path:e,size:r}=this,i=r/2;e.clear(),e.arc(n,t,i,0,Math.PI*2),e.closePath()}};Ul.className="Circle";var mB=class Tee extends os{updatePath(){const t=this.size/4.2;super.applyPath(t,Tee.moves)}};mB.className="Cross";mB.moves=[{x:-1,y:0,t:"move"},{x:-1,y:-1},{x:1,y:-1},{x:1,y:1},{x:1,y:-1},{x:1,y:1},{x:-1,y:1},{x:1,y:1},{x:-1,y:1},{x:-1,y:-1},{x:-1,y:1},{x:-1,y:-1}];var k3e=mB,CB=class Pee extends os{updatePath(){const t=this.size/2;super.applyPath(t,Pee.moves)}};CB.className="Diamond";CB.moves=[{x:0,y:-1,t:"move"},{x:1,y:1},{x:-1,y:1},{x:-1,y:-1},{x:1,y:-1}];var Aee=CB,Dee=class extends os{rad(n){return n/180*Math.PI}updatePath(){const{x:n,path:t,size:e,rad:r}=this,i=e/4,o=this.y+i/2;t.clear(),t.arc(n-i,o-i,i,r(130),r(330)),t.arc(n+i,o-i,i,r(220),r(50)),t.lineTo(n,o+i),t.closePath()}};Dee.className="Heart";var SB=class Mee extends os{updatePath(){const t=this.size/3;super.applyPath(t,Mee.moves)}};SB.className="Plus";SB.moves=[{x:-.5,y:-.5,t:"move"},{x:0,y:-1},{x:1,y:0},{x:0,y:1},{x:1,y:0},{x:0,y:1},{x:-1,y:0},{x:0,y:1},{x:-1,y:0},{x:0,y:-1},{x:-1,y:0},{x:0,y:-1}];var G3e=SB,Tg=class extends os{updatePath(){const{path:n,x:t,y:e}=this,r=this.size/2;n.clear(),n.moveTo(this.align(t-r),this.align(e-r)),n.lineTo(this.align(t+r),this.align(e-r)),n.lineTo(this.align(t+r),this.align(e+r)),n.lineTo(this.align(t-r),this.align(e+r)),n.closePath()}};Tg.className="Square";var wB=class Fee extends os{updatePath(){const t=this.size*1.1;super.applyPath(t,Fee.moves)}};wB.className="Triangle";wB.moves=[{x:0,y:-.48,t:"move"},{x:.5,y:.87},{x:-1,y:0}];var qv=wB,Lee={circle:Ul,cross:k3e,diamond:Aee,heart:Dee,plus:G3e,square:Tg,triangle:qv},V3e=Object.keys(Lee);function Iee(n){return typeof n=="string"&&V3e.includes(n)}function op(n=Tg){return Iee(n)?Lee[n]:typeof n=="function"?n:Tg}var sn=class extends Ie{constructor(){super({name:"markerLabelGroup"}),this.label=new It,this.line=new mn,this._marker=new Tg,this._markerSize=15,this._spacing=8;const{marker:n,label:t,line:e}=this;t.textBaseline="middle",t.fontSize=12,t.fontFamily="Verdana, sans-serif",t.fill="black",t.y=Ir.has.textMetrics?1:0,this.append([e,n,t]),this.update()}set marker(n){this._marker!==n&&(this.removeChild(this._marker),this._marker=n,this.appendChild(n),this.update())}get marker(){return this._marker}set markerSize(n){this._markerSize!==n&&(this._markerSize=n,this.update())}get markerSize(){return this._markerSize}set spacing(n){this._spacing!==n&&(this._spacing=n,this.update())}get spacing(){return this._spacing}setSeriesStrokeOffset(n){const t=this.marker.size/2+n;this.line.x1=-t,this.line.x2=t,this.line.y1=0,this.line.y2=0,this.line.markDirtyTransform(),this.update()}update(){this.marker.size=this.markerSize;const n=this.line.visible?this.line.x2:-1/0,t=this.markerSize/2;this.label.x=Math.max(n,t)+this.spacing}render(n){this.marker.opacity=this.opacity,this.label.opacity=this.opacity,this.line.opacity=this.opacity,super.render(n)}};sn.className="MarkerLabel";R([ar("label")],sn.prototype,"text",2);R([ar("label")],sn.prototype,"fontStyle",2);R([ar("label")],sn.prototype,"fontWeight",2);R([ar("label")],sn.prototype,"fontSize",2);R([ar("label")],sn.prototype,"fontFamily",2);R([ar("label","fill")],sn.prototype,"color",2);R([ar("marker","fill")],sn.prototype,"markerFill",2);R([ar("marker","stroke")],sn.prototype,"markerStroke",2);R([ar("marker","strokeWidth")],sn.prototype,"markerStrokeWidth",2);R([ar("marker","fillOpacity")],sn.prototype,"markerFillOpacity",2);R([ar("marker","strokeOpacity")],sn.prototype,"markerStrokeOpacity",2);R([ar("marker","visible")],sn.prototype,"markerVisible",2);R([ar("line","stroke")],sn.prototype,"lineStroke",2);R([ar("line","strokeWidth")],sn.prototype,"lineStrokeWidth",2);R([ar("line","strokeOpacity")],sn.prototype,"lineStrokeOpacity",2);R([ar("line","lineDash")],sn.prototype,"lineLineDash",2);R([ar("line","visible")],sn.prototype,"lineVisible",2);var Jg=class extends tr{constructor(){super(...arguments),this.color="black",this.fontStyle=void 0,this.fontWeight=void 0,this.fontSize=12,this.fontFamily="Verdana, sans-serif"}};R([F(Dt)],Jg.prototype,"color",2);R([F(tp,{optional:!0})],Jg.prototype,"fontStyle",2);R([F(rp,{optional:!0})],Jg.prototype,"fontWeight",2);R([F(Se)],Jg.prototype,"fontSize",2);R([F(xe)],Jg.prototype,"fontFamily",2);var Nu=class extends tr{constructor(){super(...arguments),this.size=15,this.fill=void 0,this.fillOpacity=void 0,this.stroke=void 0,this.strokeWidth=1,this.strokeOpacity=1}};R([F(Se)],Nu.prototype,"size",2);R([F(Dt,{optional:!0})],Nu.prototype,"fill",2);R([F(Wt,{optional:!0})],Nu.prototype,"fillOpacity",2);R([F(Dt,{optional:!0})],Nu.prototype,"stroke",2);R([F(Se)],Nu.prototype,"strokeWidth",2);R([F(Wt)],Nu.prototype,"strokeOpacity",2);var fP=class extends tr{constructor(n){super(),this.parent=n,this.shape=qv,this.size=15,this.padding=8}};R([En({changeValue(){this.parent.marker===this&&this.parent.onMarkerShapeChange()}})],fP.prototype,"shape",2);R([F(Se)],fP.prototype,"size",2);R([F(Se)],fP.prototype,"padding",2);var pf=class extends tr{constructor(n,t,e,r){super(),this.chartUpdateCallback=n,this.pageUpdateCallback=t,this.regionManager=e,this.cursorManager=r,this.id=nu(this),this.marker=new fP(this),this.activeStyle=new Nu,this.inactiveStyle=new Nu,this.highlightStyle=new Nu,this.label=new Jg,this.group=new Ie({name:"pagination"}),this.labelNode=new It,this.destroyFns=[],this.totalPages=0,this.currentPage=0,this.translationX=0,this.translationY=0,this.nextButtonDisabled=!1,this.previousButtonDisabled=!1,this._visible=!0,this._enabled=!0,this._orientation="vertical",this._nextButton=new qv,this._previousButton=new qv,this.labelNode.setProperties({textBaseline:"middle",fontSize:12,fontFamily:"Verdana, sans-serif",fill:"black",y:Ir.has.textMetrics?1:0}),this.group.append([this.nextButton,this.previousButton,this.labelNode]);const i=this.regionManager.addRegion("pagination",this.group);this.destroyFns.push(i.addListener("click",o=>this.onPaginationClick(o)),i.addListener("hover",o=>this.onPaginationMouseMove(o))),this.update(),this.updateMarkers()}destroy(){this.destroyFns.forEach(n=>n())}set visible(n){this._visible=n,this.updateGroupVisibility()}get visible(){return this._visible}set enabled(n){this._enabled=n,this.updateGroupVisibility()}get enabled(){return this._enabled}updateGroupVisibility(){this.group.visible=this.enabled&&this.visible}set orientation(n){switch(this._orientation=n,n){case"horizontal":{this.previousButton.rotation=-Math.PI/2,this.nextButton.rotation=Math.PI/2;break}case"vertical":default:this.previousButton.rotation=0,this.nextButton.rotation=Math.PI}}get orientation(){return this._orientation}set nextButton(n){this._nextButton!==n&&(this.group.removeChild(this._nextButton),this._nextButton=n,this.group.appendChild(n))}get nextButton(){return this._nextButton}set previousButton(n){this._previousButton!==n&&(this.group.removeChild(this._previousButton),this._previousButton=n,this.group.appendChild(n))}get previousButton(){return this._previousButton}update(){this.updateLabel(),this.updatePositions(),this.enableOrDisableButtons()}updatePositions(){this.group.translationX=this.translationX,this.group.translationY=this.translationY,this.updateLabelPosition(),this.updateNextButtonPosition()}updateLabelPosition(){const{size:n,padding:t}=this.marker;this.nextButton.size=n,this.previousButton.size=n,this.labelNode.x=n/2+t}updateNextButtonPosition(){const n=this.labelNode.computeBBox();this.nextButton.translationX=n.x+n.width+this.marker.size/2+this.marker.padding}updateLabel(){const{currentPage:n,totalPages:t,labelNode:e,label:{color:r,fontStyle:i,fontWeight:o,fontSize:a,fontFamily:s}}=this;e.text=`${n+1} / ${t}`,e.fill=r,e.fontStyle=i,e.fontWeight=o,e.fontSize=a,e.fontFamily=s}updateMarkers(){const{nextButton:n,previousButton:t,nextButtonDisabled:e,previousButtonDisabled:r,activeStyle:i,inactiveStyle:o,highlightStyle:a,highlightActive:s}=this,l=(u,c)=>c?o:u===s?a:i;this.updateMarker(n,l("next",e)),this.updateMarker(t,l("previous",r))}updateMarker(n,t){var e;const{size:r}=this.marker;n.size=r,n.fill=t.fill,n.fillOpacity=(e=t.fillOpacity)!=null?e:1,n.stroke=t.stroke,n.strokeWidth=t.strokeWidth,n.strokeOpacity=t.strokeOpacity}enableOrDisableButtons(){const{currentPage:n,totalPages:t}=this,e=t===0,r=n===t-1,i=n===0;this.nextButtonDisabled=r||e,this.previousButtonDisabled=i||e}nextButtonContainsPoint(n,t){return!this.nextButtonDisabled&&this.nextButton.containsPoint(n,t)}previousButtonContainsPoint(n,t){return!this.previousButtonDisabled&&this.previousButton.containsPoint(n,t)}onPaginationClick(n){const{offsetX:t,offsetY:e}=n;this.nextButtonContainsPoint(t,e)?(this.incrementPage(),this.onPaginationChanged(),n.consume()):this.previousButtonContainsPoint(t,e)&&(this.decrementPage(),this.onPaginationChanged(),n.consume())}onPaginationMouseMove(n){const{offsetX:t,offsetY:e}=n;this.nextButtonContainsPoint(t,e)?(this.cursorManager.updateCursor(this.id,"pointer"),this.highlightActive="next"):this.previousButtonContainsPoint(t,e)?(this.cursorManager.updateCursor(this.id,"pointer"),this.highlightActive="previous"):(this.cursorManager.updateCursor(this.id),this.highlightActive=void 0),this.updateMarkers(),this.chartUpdateCallback(6)}onPaginationChanged(){this.pageUpdateCallback(this.currentPage)}incrementPage(){this.currentPage=Math.min(this.currentPage+1,this.totalPages-1)}decrementPage(){this.currentPage=Math.max(this.currentPage-1,0)}onMarkerShapeChange(){const n=op(this.marker.shape||qv);this.previousButton=new n,this.nextButton=new n,this.updatePositions(),this.updateMarkers(),this.chartUpdateCallback(6)}attachPagination(n){n.append(this.group)}computeBBox(){return this.group.computeBBox()}};pf.className="Pagination";R([F(Ge)],pf.prototype,"marker",2);R([F(Ge)],pf.prototype,"activeStyle",2);R([F(Ge)],pf.prototype,"inactiveStyle",2);R([F(Ge)],pf.prototype,"highlightStyle",2);R([F(Ge)],pf.prototype,"label",2);var ap=class extends tr{constructor(){super(...arguments),this.maxLength=void 0,this.color="black",this.fontStyle=void 0,this.fontWeight=void 0,this.fontSize=12,this.fontFamily="Verdana, sans-serif",this.formatter=void 0}};R([F(Se,{optional:!0})],ap.prototype,"maxLength",2);R([F(Dt)],ap.prototype,"color",2);R([F(tp,{optional:!0})],ap.prototype,"fontStyle",2);R([F(rp,{optional:!0})],ap.prototype,"fontWeight",2);R([F(Se)],ap.prototype,"fontSize",2);R([F(xe)],ap.prototype,"fontFamily",2);R([F(rs,{optional:!0})],ap.prototype,"formatter",2);var ey=class extends tr{constructor(){super(...arguments),this.size=15,this.padding=8,this.enabled=!0}};R([Zg(n=>{var t;return(t=n.parent)==null?void 0:t.onMarkerShapeChange()})],ey.prototype,"shape",2);R([F(Se)],ey.prototype,"size",2);R([F(Se)],ey.prototype,"padding",2);R([F(Se,{optional:!0})],ey.prototype,"strokeWidth",2);R([F(ze)],ey.prototype,"enabled",2);var _B=class extends tr{};R([F(Se,{optional:!0})],_B.prototype,"strokeWidth",2);R([F(Se,{optional:!0})],_B.prototype,"length",2);var wc=class extends tr{constructor(){super(...arguments),this.paddingX=16,this.paddingY=8,this.toggleSeriesVisible=!0,this.showSeriesStroke=!1,this.marker=new ey,this.label=new ap,this.line=new _B}};R([F(Se,{optional:!0})],wc.prototype,"maxWidth",2);R([F(Se)],wc.prototype,"paddingX",2);R([F(Se)],wc.prototype,"paddingY",2);R([F(ze)],wc.prototype,"toggleSeriesVisible",2);R([F(ze)],wc.prototype,"showSeriesStroke",2);R([F(Ge)],wc.prototype,"marker",2);R([F(Ge)],wc.prototype,"label",2);R([F(Ge)],wc.prototype,"line",2);var xB=class extends tr{};R([F(rs,{optional:!0})],xB.prototype,"legendItemClick",2);R([F(rs,{optional:!0})],xB.prototype,"legendItemDoubleClick",2);var Co=class extends tr{constructor(n){super(),this.ctx=n,this.id=nu(this),this.group=new Ie({name:"legend",layer:!0,zIndex:9}),this.itemSelection=mr.select(this.group,sn),this.oldSize=[0,0],this.pages=[],this.maxPageSize=[0,0],this.paginationTrackingIndex=0,this.truncatedItems=new Set,this._data=[],this.item=new wc,this.listeners=new xB,this.enabled=!0,this.position="bottom",this.spacing=20,this.characterWidths=new Map,this.destroyFns=[],this.size=[0,0],this._visible=!0,this.item.marker.parent=this,this.pagination=new pf(r=>n.updateService.update(r),r=>this.updatePageNumber(r),n.regionManager,n.cursorManager),this.pagination.attachPagination(this.group),this.item.marker.parent=this;const t=9,e=n.regionManager.addRegion("legend",this.group);this.destroyFns.push(e.addListener("click",r=>this.checkLegendClick(r),t),e.addListener("dblclick",r=>this.checkLegendDoubleClick(r),t),e.addListener("hover",r=>this.handleLegendMouseMove(r)),e.addListener("leave",r=>this.handleLegendMouseExit(r)),n.layoutService.addListener("start-layout",r=>this.positionLegend(r.shrinkRect)),()=>this.detachLegend())}set data(n){this._data=n,this.updateGroupVisibility()}get data(){return this._data}destroy(){this.destroyFns.forEach(n=>n()),this.pagination.destroy()}onMarkerShapeChange(){this.itemSelection.clear(),this.group.markDirty(this.group,2)}getOrientation(){if(this.orientation!==void 0)return this.orientation;switch(this.position){case"right":case"left":return"vertical";case"bottom":case"top":return"horizontal"}}getCharacterWidths(n){const{characterWidths:t}=this;if(t.has(n))return t.get(n);const e={"...":Ir.getTextSize("...",n).width};return t.set(n,e),e}set visible(n){this._visible=n,this.updateGroupVisibility()}get visible(){return this._visible}updateGroupVisibility(){this.group.visible=this.enabled&&this.visible&&this.data.length>0}attachLegend(n){n.append(this.group)}detachLegend(){var n;(n=this.group.parent)==null||n.removeChild(this.group)}getItemLabel(n){const{ctx:{callbackCache:t}}=this,{formatter:e}=this.item.label;return e?t.call(e,{itemId:n.itemId,value:n.label.text,seriesId:n.seriesId}):n.label.text}performLayout(n,t){const{paddingX:e,paddingY:r,label:i,maxWidth:o,marker:{size:a,padding:s,shape:l},label:{maxLength:u=1/0,fontStyle:c,fontWeight:d,fontSize:p,fontFamily:h},line:f,showSeriesStroke:v}=this.item,g=[...this.data];this.reverseOrder&&g.reverse(),this.itemSelection.update(g);const y=[],m=Bd(i),S=o??n*.8,w=a+s+e;if(this.itemSelection.each((M,L)=>{var G,H,j;const V=op(l??L.marker.shape),W=(G=L.marker.enabled)!=null?G:this.item.marker.enabled;M.marker&&M.marker instanceof V||(M.marker=new V),M.markerSize=a,M.spacing=s,M.fontStyle=c,M.fontWeight=d,M.fontSize=p,M.fontFamily=h;const K=(H=L.itemId)!=null?H:L.id,ee=this.getItemLabel(L),Z=(ee??"<unknown>").replace(/\r?\n/g," ");M.text=this.truncate(Z,u,S,w,m,K),v&&L.line!==void 0?(M.lineVisible=!0,M.markerVisible=W,M.setSeriesStrokeOffset((j=f.length)!=null?j:5)):(M.lineVisible=!1,M.markerVisible=!0),y.push(M.computeBBox())}),n=Math.max(1,n),t=Math.max(1,t),!isFinite(n))return!1;const _=this.size,x=this.oldSize;_[0]=n,_[1]=t,(_[0]!==x[0]||_[1]!==x[1])&&(x[0]=_[0],x[1]=_[1]);const{pages:b,maxPageHeight:O,maxPageWidth:T}=this.updatePagination(y,n,t);this.pages=b,this.maxPageSize=[T-e,O-r];const A=this.pagination.currentPage,N=this.pages[A];if(this.pages.length<1||!N){this.visible=!1;return}this.visible=!0,this.updatePositions(A),this.update()}truncate(n,t,e,r,i,o){const a="...",s=n.split("");let l=!1;if(n.length>t&&(n=`${n.substring(0,t)}`,l=!0),Math.floor(r+Ir.getTextSize(n,i).width)>e){let c="";const d=this.getCharacterWidths(i);let p=r+d[a];for(const h of s){if(d[h]||(d[h]=Ir.getTextSize(h,i).width),p+=d[h],p>e)break;c+=h}n=c,l=!0}return l?(n+=a,this.truncatedItems.add(o)):this.truncatedItems.delete(o),n}updatePagination(n,t,e){const r=this.getOrientation(),i=Math.min(this.paginationTrackingIndex,n.length);this.pagination.orientation=r,this.pagination.translationX=0,this.pagination.translationY=0;const{pages:o,maxPageHeight:a,maxPageWidth:s,paginationBBox:l,paginationVertical:u}=this.calculatePagination(n,t,e),c=o.findIndex(m=>m.endIndex>=i);this.pagination.currentPage=Lt(0,c,o.length-1);const{paddingX:d,paddingY:p}=this.item,h=8,f=s-d,v=a-p;let g=0,y=-l.y-this.item.marker.size/2;return u?y+=v+h:(g+=-l.x+f+h,y+=(v-l.height)/2),this.pagination.translationX=g,this.pagination.translationY=y,this.pagination.update(),this.pagination.updateMarkers(),{maxPageHeight:a,maxPageWidth:s,pages:o}}calculatePagination(n,t,e){var r,i,o;const{paddingX:a,paddingY:s}=this.item,l=this.getOrientation(),u=["left","right"].includes(this.position);let c=this.pagination.computeBBox(),d=new et(0,0,0,0),p=[],h=0,f=0,v=0;const g=m=>{const{width:C,height:S}=m;return C===c.width&&S===c.height},y=this.maxWidth!==void 0||this.maxHeight!==void 0;do{if(v++>10){Oe.warn("unable to find stable legend layout.");break}c=d;const m=t-(u?0:c.width),C=e-(u?c.height:0),S=R3e({orientation:l,bboxes:n,maxHeight:C,maxWidth:m,itemPaddingY:s,itemPaddingX:a,forceResult:y});p=(r=S==null?void 0:S.pages)!=null?r:[],h=(i=S==null?void 0:S.maxPageWidth)!=null?i:0,f=(o=S==null?void 0:S.maxPageHeight)!=null?o:0;const w=p.length;if(this.pagination.visible=w>1,this.pagination.totalPages=w,this.pagination.update(),d=this.pagination.computeBBox(),!this.pagination.visible)break}while(!g(d));return{maxPageWidth:h,maxPageHeight:f,pages:p,paginationBBox:c,paginationVertical:u}}updatePositions(n=0){const{item:{paddingY:t},itemSelection:e,pages:r}=this;if(r.length<1||!r[n])return;const{columns:i,startIndex:o,endIndex:a}=r[n];let s=0,l=0;const u=i.length,c=i[0].indices.length,d=this.getOrientation()==="horizontal",p=i[0].bboxes[0].height+t,h=[];e.each((f,v,g)=>{var y,m;if(g<o||g>a){f.visible=!1;return}const C=g-o;let S=0,w=0;d?(S=C%u,w=Math.floor(C/u)):(S=Math.floor(C/c),w=C%c),f.visible=!0;const _=i[S];_&&(l=p*w,s=(y=h[w])!=null?y:0,h[w]=((m=h[w])!=null?m:0)+_.columnWidth,f.translationX=Math.floor(s),f.translationY=Math.floor(l))})}updatePageNumber(n){const{pages:t}=this,{startIndex:e,endIndex:r}=t[n];e===0?this.paginationTrackingIndex=0:n===t.length-1?this.paginationTrackingIndex=r:this.paginationTrackingIndex=Math.floor((e+r)/2),this.pagination.update(),this.pagination.updateMarkers(),this.updatePositions(n),this.ctx.updateService.update(6)}update(){const{label:{color:n},marker:t,line:e,showSeriesStroke:r}=this.item;this.itemSelection.each((i,o)=>{var a,s;const l=o.marker;i.markerFill=l.fill,i.markerStroke=l.stroke,i.markerStrokeWidth=(a=t.strokeWidth)!=null?a:Math.min(2,l.strokeWidth),i.markerFillOpacity=l.fillOpacity,i.markerStrokeOpacity=l.strokeOpacity,i.opacity=o.enabled?1:.5,i.color=n;const{line:u}=o;r&&u!==void 0&&(i.lineStroke=u.stroke,i.lineStrokeOpacity=u.strokeOpacity,i.lineStrokeWidth=(s=e.strokeWidth)!=null?s:Math.min(2,u.strokeWidth),i.lineLineDash=u.lineDash)})}getDatumForPoint(n,t){const e=[],r={dist:1/0,datum:void 0};for(const o of this.group.children){if(!o.visible||!(o instanceof sn))continue;const a=o.computeBBox();if(a.grow(this.item.paddingX/2,"horizontal"),a.grow(this.item.paddingY/2,"vertical"),a.containsPoint(n,t))return o.datum;const s=n-a.x-this.item.paddingX/2,l=t-a.y-this.item.paddingY/2,u=pt(s,2)+pt(l,2);s>=0&&l>=0&&u<r.dist&&(r.dist=u,r.datum=o.datum),e.push(a)}if(et.merge(e).containsPoint(n,t))return r.datum}computePagedBBox(){const n=this.group.computeBBox();if(this.pages.length<=1)return n;const[t,e]=this.maxPageSize;return n.height=Math.max(e,n.height),n.width=Math.max(t,n.width),n}checkLegendClick(n){const{listeners:{legendItemClick:t},ctx:{chartService:e,highlightManager:r},item:{toggleSeriesVisible:i},preventHidingAll:o}=this,a=this.getDatumForPoint(n.offsetX,n.offsetY);if(!a)return;const{id:s,itemId:l,enabled:u}=a,c=e.series.find(p=>p.id===s);if(!c)return;n.consume();let d=u;i&&(d=!u,o&&!d&&e.series.flatMap(h=>h.getLegendData("category")).filter(h=>h.enabled).length<2&&(d=!0),this.ctx.chartEventManager.legendItemClick(c,l,d,a.legendItemName)),d?r.updateHighlight(this.id,{series:c,itemId:l,datum:void 0}):r.updateHighlight(this.id),this.ctx.updateService.update(2,{forceNodeDataRefresh:!0}),t==null||t({type:"click",enabled:d,itemId:l,seriesId:c.id})}checkLegendDoubleClick(n){var t;const{listeners:{legendItemDoubleClick:e},ctx:{chartService:r},item:{toggleSeriesVisible:i}}=this;if(r.mode==="integrated")return;const o=this.getDatumForPoint(n.offsetX,n.offsetY);if(!o)return;const{id:a,itemId:s,seriesId:l}=o,u=r.series.find(c=>c.id===a);if(u){if(n.consume(),i){const c=r.series.flatMap(h=>h.getLegendData("category")),d=c.filter(h=>h.enabled).length,p=c.find(h=>h.itemId===s&&h.seriesId===l);this.ctx.chartEventManager.legendItemDoubleClick(u,s,(t=p==null?void 0:p.enabled)!=null?t:!1,d,p==null?void 0:p.legendItemName)}this.ctx.updateService.update(2,{forceNodeDataRefresh:!0}),e==null||e({type:"dblclick",enabled:!0,itemId:s,seriesId:u.id})}}handleLegendMouseMove(n){var t;const{enabled:e,item:{toggleSeriesVisible:r},listeners:i}=this;if(!e)return;const{offsetX:o,offsetY:a}=n;n.consume();const s=this.getDatumForPoint(o,a);if(s===void 0){this.ctx.cursorManager.updateCursor(this.id),this.ctx.highlightManager.updateHighlight(this.id);return}const l=s?this.ctx.chartService.series.find(u=>u.id===(s==null?void 0:s.id)):void 0;s&&this.truncatedItems.has((t=s.itemId)!=null?t:s.id)?this.ctx.tooltipManager.updateTooltip(this.id,{offsetX:o,offsetY:a,lastPointerEvent:n,showArrow:!1,addCustomClass:!1},zS({content:this.getItemLabel(s)})):this.ctx.tooltipManager.removeTooltip(this.id),(r||i.legendItemClick!=null||i.legendItemDoubleClick!=null)&&this.ctx.cursorManager.updateCursor(this.id,"pointer"),s!=null&&s.enabled&&l?this.ctx.highlightManager.updateHighlight(this.id,{series:l,itemId:s==null?void 0:s.itemId,datum:void 0}):this.ctx.highlightManager.updateHighlight(this.id)}handleLegendMouseExit(n){this.ctx.cursorManager.updateCursor(this.id),this.ctx.highlightManager.updateHighlight(this.id),this.ctx.tooltipManager.removeTooltip(this.id)}positionLegend(n){const t=n.clone();if(!this.enabled||!this.data.length)return{shrinkRect:t};const[e,r]=this.calculateLegendDimensions(n);this.group.translationX=0,this.group.translationY=0,this.performLayout(e,r);const i=this.computePagedBBox(),o=()=>{switch(this.position){case"top":case"left":return 0;case"bottom":return n.height-i.height;case"right":default:return n.width-i.width}};if(this.visible){let a,s;switch(this.position){case"top":case"bottom":a=(n.width-i.width)/2,s=o(),t.shrink(i.height,this.position);break;case"left":case"right":default:a=o(),s=(n.height-i.height)/2,t.shrink(i.width,this.position)}this.group.translationX=Math.floor(-i.x+n.x+a),this.group.translationY=Math.floor(-i.y+n.y+s)}if(this.visible&&this.enabled&&this.data.length){const a=this.spacing;t.shrink(a,this.position);const s=i.clone();s.x+=this.group.translationX,s.y+=this.group.translationY,this.ctx.tooltipManager.updateExclusiveRect(this.id,s)}else this.ctx.tooltipManager.updateExclusiveRect(this.id);return{shrinkRect:t}}calculateLegendDimensions(n){const{width:t,height:e}=n,r=t/e,i=.5,o=.2,a=.25;let s,l;switch(this.position){case"top":case"bottom":const u=r<1?Math.min(i,o*(1/r)):o;s=this.maxWidth?Math.min(this.maxWidth,t):t,l=this.maxHeight?Math.min(this.maxHeight,e):Math.round(e*u);break;case"left":case"right":default:const c=r>1?Math.min(i,a*r):a;s=this.maxWidth?Math.min(this.maxWidth,t):Math.round(t*c),l=this.maxHeight?Math.min(this.maxHeight,e):e}return[s,l]}};Co.className="Legend";R([F(Ge)],Co.prototype,"pagination",2);R([F(Ge)],Co.prototype,"item",2);R([F(Ge)],Co.prototype,"listeners",2);R([Zg(n=>n.updateGroupVisibility()),F(ze)],Co.prototype,"enabled",2);R([F(eB)],Co.prototype,"position",2);R([F(Se,{optional:!0})],Co.prototype,"maxWidth",2);R([F(Se,{optional:!0})],Co.prototype,"maxHeight",2);R([F(ze,{optional:!0})],Co.prototype,"reverseOrder",2);R([F(Kr(["horizontal","vertical"],"an orientation"),{optional:!0})],Co.prototype,"orientation",2);R([F(ze,{optional:!0})],Co.prototype,"preventHidingAll",2);R([F(Se)],Co.prototype,"spacing",2);var B3e=["top","right","bottom","left"],Nee=["category","grouped-category","number","log","time"];function H3e(n){return Nee.includes(n.type)}function j3e(n){return Nee.includes(n.type)}function $3e(n){return typeof n=="string"&&B3e.includes(n)}var W3e=class{constructor(){this.result=[],this.valid=[],this.invalid=[]}push(n,t){const{result:e,valid:r,invalid:i}=this;j3e(t)&&($3e(t.position)?r.push(n):i.push(n)),e.push(n)}guessInvalidPositions(){const n=this.valid.filter(e=>H3e(e)).map(e=>e.position).filter(e=>e!==void 0),t=["top","right","bottom","left"];for(const e of this.invalid){let r=t.pop();for(;n.includes(r)&&r!==void 0;)r=t.pop();if(r===void 0)break;e.position=r}return this.result}};function U3e(n,t,e){var r,i,o;const a=["direction","xKey","yKey","sizeKey","angleKey","radiusKey","normalizedTo"],s=(f,v)=>{const g=[f];for(const y of a)y in v&&v[y]!=null&&g.push(`${y}=${v[y]}`);return g.join(";")},l=new Map;let u=0;for(const f of n){const v=s(f.type,f.properties);l.has(v)||l.set(v,[]),(r=l.get(v))==null||r.push([f,u++])}const c=new Map;for(const f of t){const v=s(f.type,f);c.has(v)||c.set(v,[]),(i=c.get(v))==null||i.push(f)}if(![...l.keys()].some(f=>c.has(f)))return{status:"no-overlap",oldKeys:l.keys(),newKeys:c.keys()};const p=[];let h=-1;for(const[f,v]of c.entries())for(const g of v){h++;const y=l.get(f);if(y==null||y.length<1){p.push({opts:g,idx:h,status:"add"}),l.delete(f);continue}const[m,C]=y.shift(),S=(o=e==null?void 0:e[C])!=null?o:{},w=sa(S,g??{});w?p.push({opts:g,series:m,diff:w,idx:C,status:"update"}):p.push({opts:g,series:m,idx:C,status:"no-op"}),y.length===0&&l.delete(f)}for(const f of l.values())for(const[v,g]of f)p.push({series:v,idx:g,status:"remove"});return{status:"overlap",changes:p}}var bu="ag-chart-overlay",GI="ag-chart-dark-overlay",Zv=class{constructor(n,t,e){this.className=n,this.parentElement=t,this.animationManager=e,this.darkTheme=!1}show(n){var t,e;this.element||(this.element=this.createElement("div"),this.element.classList.add(this.className,bu)),this.element.classList.toggle(GI,this.darkTheme);const{element:r}=this;if(r.style.position="absolute",r.style.left=`${n.x}px`,r.style.top=`${n.y}px`,r.style.width=`${n.width}px`,r.style.height=`${n.height}px`,this.renderer)r.innerHTML=this.renderer();else{const i=this.createElement("div");i.style.alignItems="center",i.style.boxSizing="border-box",i.style.display="flex",i.style.justifyContent="center",i.style.margin="8px",i.style.height="100%",i.style.font="12px Verdana, sans-serif",i.innerText=(t=this.text)!=null?t:"No data to display",r.replaceChildren(i),this.animationManager.animate({from:0,to:1,phase:"add",id:"overlay",groupId:"opacity",onUpdate(o){r.style.opacity=String(o)},onStop(){r.style.opacity="1"}})}(e=this.parentElement)==null||e.append(r)}hide(){if(!this.element)return;const n=this.element;this.animationManager.animate({from:1,to:0,phase:"remove",id:"overlay",groupId:"opacity",onUpdate(t){n.style.opacity=String(t)},onStop(){n.remove()}}),this.element=void 0}createElement(n,t){return this.parentElement.ownerDocument.createElement(n,t)}};R([F(rs,{optional:!0})],Zv.prototype,"renderer",2);R([F(xe,{optional:!0})],Zv.prototype,"text",2);R([F(ze)],Zv.prototype,"darkTheme",2);var z3e=`
.${bu} {
    color: #181d1f;
}

.${bu}.${GI} {
    color: #ffffff;
}

.${bu}--loading {
    color: rgb(140, 140, 140); /* DEFAULT_MUTED_LABEL_COLOUR */
}

.${bu}__loading-background {
    background: white; /* DEFAULT_BACKGROUND_FILL */
}

.${bu}.${GI} .${bu}__loading-background {
    background: #192232; /* DEFAULT_DARK_BACKGROUND_FILL */
}
`,kee=class VI{constructor(t,e){this.loading=new Zv("ag-chart-loading-overlay",t,e),this.loading.text="Loading data...",this.loading.renderer=()=>this.renderLoadingSpinner(t,e),this.noData=new Zv("ag-chart-no-data-overlay",t,e),this.noVisibleSeries=new Zv("ag-chart-no-visible-series",t,e),this.noVisibleSeries.text="No visible series",VI.overlayDocuments.indexOf(t.ownerDocument)<0&&(cP(t.ownerDocument,z3e),VI.overlayDocuments.push(t.ownerDocument))}destroy(){this.loading.hide(),this.noData.hide(),this.noVisibleSeries.hide()}renderLoadingSpinner(t,e){var r;const i=this.createElement(t,"div");i.className=`${bu}--loading`,i.style.display="flex",i.style.alignItems="center",i.style.justifyContent="center",i.style.flexDirection="column",i.style.height="100%",i.style.boxSizing="border-box",i.style.font="13px Verdana, sans-serif",i.style.userSelect="none",i.style.animation=`ag-charts-loading ${XV.animationDuration*e.defaultDuration}ms linear 50ms both`;const o=this.createElement(i,"span");o.style.width="45px",o.style.height="40px",o.style.backgroundImage=`${["linear-gradient(#0000 calc(1 * 100% / 6), #ccc 0 calc(3 * 100% / 6), #0000 0), ","linear-gradient(#0000 calc(2 * 100% / 6), #ccc 0 calc(4 * 100% / 6), #0000 0), ","linear-gradient(#0000 calc(3 * 100% / 6), #ccc 0 calc(5 * 100% / 6), #0000 0)"].join("")}`,o.style.backgroundSize="10px 400%",o.style.backgroundRepeat="no-repeat",o.style.animation="ag-charts-loading-matrix 1s infinite linear";const a=this.createElement(i,"p");a.style.marginTop="1em",a.innerText=(r=this.loading.text)!=null?r:"Loading data...";const s=this.createElement(t,"div");s.className=`${bu}__loading-background`,s.style.position="absolute",s.style.top="0",s.style.right="0",s.style.bottom="0",s.style.left="0",s.style.opacity="0.5",s.style.zIndex="-1";const l=this.createElement(i,"style");return l.innerText=["@keyframes ag-charts-loading { from { opacity: 0 } to { opacity: 1 } }","@keyframes ag-charts-loading-matrix {","0% { background-position: 0% 0%, 50% 0%, 100% 0%; }","100% { background-position: 0% 100%, 50% 100%, 100% 100%; }","}"].join(" "),i.replaceChildren(l,o,a,s),i.outerHTML}createElement(t,e,r){return t.ownerDocument.createElement(e,r)}};kee.overlayDocuments=[];var K3e=kee;function vP(n,t=[0,0]){for(const e of n)typeof e=="number"&&(e<0&&(t[0]+=e),e>0&&(t[1]+=e));return t}function Y3e(n,t,e){return{id:t,scopes:[n.id],matchGroupIds:[e],type:"aggregate",aggregateFunction:i=>vP(i)}}function Gee(n,t,e){return{id:t,scopes:[n.id],type:"aggregate",matchGroupIds:e?[e]:void 0,aggregateFunction:r=>vP(r),groupAggregateFunction:(r,i=[0,0])=>{var o,a;return i[0]+=(o=r==null?void 0:r[0])!=null?o:0,i[1]+=(a=r==null?void 0:r[1])!=null?a:0,i}}}function Vee(n,t,e){return{id:t,scopes:[n.id],matchGroupIds:[e],type:"aggregate",aggregateFunction:i=>iC(i)}}function X3e(n,t){return{id:t,scopes:[n.id],type:"aggregate",aggregateFunction:()=>[0,1]}}function BI(n,t){return{id:t,scopes:[n.id],type:"aggregate",aggregateFunction:()=>[0,1],groupAggregateFunction:(e,r=[0,0])=>{var i,o;return r[0]+=(i=e==null?void 0:e[0])!=null?i:0,r[1]+=(o=e==null?void 0:e[1])!=null?o:0,r}}}function q3e(n,t,e){return{id:t,scopes:[n.id],matchGroupIds:[e],type:"aggregate",aggregateFunction:i=>vP(i).map(o=>o/i.length)}}function Bee(n,t,e){return{id:t,scopes:[n.id],matchGroupIds:e?[e]:void 0,type:"aggregate",aggregateFunction:i=>vP(i),groupAggregateFunction:(i,o=[0,0,-1])=>{var a,s;return o[0]+=(a=i==null?void 0:i[0])!=null?a:0,o[1]+=(s=i==null?void 0:i[1])!=null?s:0,o[2]++,o},finalFunction:(i=[0,0,0])=>{const o=i[0]+i[1];return o>=0?[0,o/i[2]]:[o/i[2],0]}}}function HI(n,t,e,r){const i={id:t,scopes:[n.id],matchGroupIds:r?[r]:void 0,type:"aggregate",aggregateFunction:(o,a=[])=>{const s=a[1]-a[0];return e.aggregateFunction(o).map(l=>l/s)}};return e.groupAggregateFunction&&(i.groupAggregateFunction=e.groupAggregateFunction),i}function Hee(n){return()=>{let t=0;return e=>Gt(e)?(t+=n?Math.max(0,e):e,t):e}}function jee(){return()=>{let n=0;return t=>{if(!Gt(t))return t;const e=n;return n+=t,e}}}var fm=new Map;function NO(n,t){var e,r,i;const o=JSON.stringify(n,null,0);return fm.has(t)||fm.set(t,new Map),(e=fm.get(t))!=null&&e.has(o)||(r=fm.get(t))==null||r.set(o,t(n)),(i=fm.get(t))==null?void 0:i.get(o)}var jI={type:"reducer",property:"smallestKeyInterval",initialValue:1/0,reducer:()=>{let n=NaN;return(t=1/0,e)=>{const r=e.keys[0],i=Math.abs(r-n);return n=r,!isNaN(i)&&i>0&&i<t?i:t}}},Z3e={type:"processor",property:"aggValuesExtent",calculate:n=>{var t,e,r,i;const o=[...(e=(t=n.domain.aggValues)==null?void 0:t[0])!=null?e:[0,0]];for(const[a,s]of(i=(r=n.domain.aggValues)==null?void 0:r.slice(1))!=null?i:[])a<o[0]&&(o[0]=a),s>o[1]&&(o[1]=s);return o}},$ee={type:"processor",property:"sortedGroupDomain",calculate:({domain:{groups:n}})=>{if(n!=null)return[...n].sort((t,e)=>{for(let r=0;r<t.length;r++){const i=t[r]-e[r];if(i!==0)return i}return 0})}};function Q3e({normaliseTo:n,mode:t}){const e=(r,i)=>{const o=r*n/i;return o>=0?Math.min(n,o):Math.max(-n,o)};return()=>()=>(r,i)=>{const o=[0,0];for(const s of i){const l=r[s],u=l<0?0:1;t==="sum"?o[u]+=l:u===0?o[u]=Math.min(o[u],l):o[u]=Math.max(o[u],l)}const a=Math.max(Math.abs(o[0]),o[1]);for(const s of i)r[s]=e(r[s],a)}}function kO(n,t,e,r="sum"){return{scopes:[n.id],type:"group-value-processor",matchGroupIds:t,adjust:NO({normaliseTo:e,mode:r},Q3e)}}function J3e({normaliseTo:n,zeroDomain:t,rangeMin:e,rangeMax:r}){const i=n[1]-n[0],o=(a,s,l)=>{const u=n[0]+(a-s)/l*i;return l===0?t:u>=n[1]?n[1]:u<n[0]?n[0]:u};return()=>(a,s)=>{let[l,u]=a.domain.values[s];e!=null&&(l=e),r!=null&&(u=r);const c=u-l;a.domain.values[s]=[n[0],n[1]];for(const d of a.data){let p=d.values;a.type==="ungrouped"&&(p=[p]);for(const h of p)h[s]=o(h[s],l,c)}}}function qS(n,t,e,r,i,o){return{scopes:[n.id],type:"property-value-processor",property:t,adjust:NO({normaliseTo:e,rangeMin:i,rangeMax:o,zeroDomain:r},J3e)}}function ty(n,t=[]){return{type:"processor",scopes:[n.id],property:"animationValidation",calculate(e){var r;const{keys:i,values:o}=e.defs,{input:a,data:s}=e;let l=!0,u=!0;const c=[];for(let p=0;p<o.length;p++)(r=o[p].scopes)!=null&&r.some(h=>h===n.id)&&t.some(h=>o[p].id===h)&&c.push([p,o[p]]);const d=(p,h,f)=>{var v;if(h.valueType==="category"){const y=e.domain[f][p];l&&(l=y.length===a.count);return}let g=(v=s[0])==null?void 0:v[f][p];for(let y=1;(l||u)&&y<s.length;y++){const m=s[y][f][p];u&&(u=g<=m),l&&(l=g!==m),g=m}};for(let p=0;(l||u)&&p<i.length;p++)d(p,i[p],"keys");for(let p=0;(l||u)&&p<c.length;p++){const[h,f]=c[p];d(h,f,"values")}return{uniqueKeys:l,orderedKeys:u}}}}function eWe({mode:n,separateNegative:t}){return()=>()=>(e,r)=>{const i=[0,0];for(const o of r){const a=e[o],s=Jw(a)&&t?0:1;Gt(a)&&(n==="normal"&&(i[s]+=a),e[o]=i[s],n==="trailing"&&(i[s]+=a))}}}function tWe({mode:n,sum:t}){return()=>{const e=[];let r=!0;return()=>(i,o)=>{let a=0;for(const s of o){const l=i[s],u=r&&t==="current"?0:e[s];e[s]=l;const c=t==="current"?l:u;if(!Gt(l)||!Gt(u)){i[s]=a;continue}n==="normal"&&(a+=c),i[s]=a,n==="trailing"&&(a+=c)}r=!1}}}function Wee(n,t,e,r,i=!1){let o;if(e.startsWith("window")){const a=e.endsWith("-trailing")?"trailing":"normal";o=NO({mode:a,sum:r},tWe)}else o=NO({mode:e,separateNegative:i},eWe);return{scopes:[n.id],type:"group-value-processor",matchGroupIds:[t],adjust:o}}function hf(n,t=!0){return{type:"processor",property:"diff",calculate:e=>{const r={changed:!1,moved:[],added:[],updated:[],removed:[],addedIndices:[],updatedIndices:[],removedIndices:[]},i=new Map,o=new Map,a=new Map,s=new Map,l=new Map,u=new Map,c=new Map;for(let d=0;d<Math.max(n.data.length,e.data.length);d++){const p=n.data[d],h=e.data[d],f=p?jd(p.keys):"",v=h?jd(h.keys):"";if(f===v){GC(p.values,h.values)||(a.set(v,h),u.set(v,d));continue}s.has(v)?((t||!GC(s.get(v).values,h.values))&&(a.set(v,h),u.set(v,d),i.set(v,h)),s.delete(v),c.delete(v)):h&&(o.set(v,h),l.set(v,d)),o.has(f)?((t||!GC(o.get(f).values,p.values))&&(a.set(f,p),u.set(f,d),i.set(f,p)),o.delete(f),l.delete(f)):p&&(a.delete(f),u.delete(f),s.set(f,p),c.set(f,d))}return r.added=Array.from(o.keys()),r.updated=Array.from(a.keys()),r.removed=Array.from(s.keys()),r.moved=Array.from(i.keys()),r.addedIndices=Array.from(l.values()),r.updatedIndices=Array.from(u.values()),r.removedIndices=Array.from(c.values()),r.changed=r.added.length>0||r.updated.length>0||r.removed.length>0,r}}}function jd(n){return an(n)?n.map(t=>Yv(t)).join("___"):Yv(n)}var Uee=(n=>(n[n.EXACT_SHAPE_MATCH=0]="EXACT_SHAPE_MATCH",n[n.NEAREST_BY_MAIN_AXIS_FIRST=1]="NEAREST_BY_MAIN_AXIS_FIRST",n[n.NEAREST_BY_MAIN_CATEGORY_AXIS_FIRST=2]="NEAREST_BY_MAIN_CATEGORY_AXIS_FIRST",n[n.NEAREST_NODE=3]="NEAREST_NODE",n))(Uee||{});function EB(n){return KS(n,!0)!=null}function zee(n){return KS(n,!1)!=null}function Xn(n,t,e,r={}){return te({scopes:[n.id],property:t,type:"key",valueType:e?"range":"category",validation:e?EB:zee},r)}function qt(n,t,e,r={}){return te({scopes:[n.id],property:t,type:"value",valueType:e?"range":"category",validation:e?EB:zee},r)}function bB(n,t,e={}){const r=e,{min:i=-1/0,max:o=1/0}=r,a=yn(r,["min","max"]);return te({scopes:[n.id],type:"value",property:t,valueType:"range",validation:EB,processor:()=>s=>Gt(s)?Lt(i,s,o):s},a)}function rWe(n,t,e,r={}){return Te(te({},qt(n,t,e,r)),{processor:Kee()})}function Kee(){return()=>{let n=0;return t=>{const e=n;return n=t,e}}}function OB(n,t,e,r={}){const i=r,{onlyPositive:o}=i,a=yn(i,["onlyPositive"]);return Te(te({},qt(n,t,e,a)),{processor:Hee(o)})}function nWe(n,t,e,r={}){return Te(te({},qt(n,t,e,r)),{processor:jee()})}function od(n,t,e,r,i="current",o){return[qt(n,t,e,o),Wee(n,o.groupId,r,i,o.separateNegative),...o.rangeId!=null?[Vee(n,o.rangeId,o.groupId)]:[]]}var l0=class{constructor(n,t,{datum:e},r){this.type=n,this.event=t,this.datum=e,this.seriesId=r.id}},RB=class{constructor(n,t,e){this.series=n,this.seriesGrouping=t,this.oldGrouping=e,this.type="groupingChanged"}},ry=class extends hee{constructor(n){super(),this.destroyFns=[],this.seriesGrouping=void 0,this.NodeClickEvent=l0,this.internalId=nu(this),this.rootGroup=new Ie({name:"seriesRoot",isVirtual:!0}),this.axes={x:void 0,y:void 0},this.directions=["x","y"],this.nodeDataRefresh=!0,this.moduleMap=new HJ,this._declarationOrder=-1,this.seriesListeners=new Qg;const{moduleCtx:t,useLabelLayer:e=!1,pickModes:r=[1],directionKeys:i={},directionNames:o={},contentGroupVirtual:a=!0,canHaveAxes:s=!1}=n;this.ctx=t,this.directionKeys=i,this.directionNames=o,this.canHaveAxes=s,this.contentGroup=this.rootGroup.appendChild(new Ie({name:`${this.internalId}-content`,layer:!a,isVirtual:a,zIndex:4,zIndexSubOrder:this.getGroupZIndexSubOrder("data")})),this.highlightGroup=new Ie({name:`${this.internalId}-highlight`,layer:!a,isVirtual:a,zIndex:4,zIndexSubOrder:this.getGroupZIndexSubOrder("highlight")}),this.highlightNode=this.highlightGroup.appendChild(new Ie({name:"highlightNode",zIndex:0})),this.highlightLabel=this.highlightGroup.appendChild(new Ie({name:"highlightLabel",zIndex:10})),this.pickModes=r,this.labelGroup=this.rootGroup.appendChild(new Ie({name:`${this.internalId}-series-labels`,layer:e,zIndex:7})),this.annotationGroup=new Ie({name:`${this.id}-annotation`,layer:!a,isVirtual:a,zIndex:4,zIndexSubOrder:this.getGroupZIndexSubOrder("annotation")})}get id(){var n,t;return(t=(n=this.properties)==null?void 0:n.id)!=null?t:this.internalId}get type(){var n;return(n=this.constructor.type)!=null?n:""}set data(n){this._data=n,this.onDataChange()}get data(){var n;return(n=this._data)!=null?n:this._chartData}set visible(n){this.properties.visible=n,this.visibleChanged()}get visible(){return this.properties.visible}onDataChange(){this.nodeDataRefresh=!0}setChartData(n){this._chartData=n,this.data===n&&this.onDataChange()}onSeriesGroupingChange(n,t){const{internalId:e,type:r,visible:i}=this;n&&this.ctx.seriesStateManager.deregisterSeries({id:e,type:r}),t&&this.ctx.seriesStateManager.registerSeries({id:e,type:r,visible:i,seriesGrouping:t}),this.fireEvent(new RB(this,t,n))}getBandScalePadding(){return{inner:1,outer:0}}getGroupZIndexSubOrder(n,t=0){let e=0;switch(n){case"data":case"paths":break;case"labels":e+=2e4;break;case"marker":e+=1e4;break;case"highlight":t+=15e3;break;case"annotation":e+=15e3;break}return[()=>this._declarationOrder+e,t]}addListener(n,t){return this.seriesListeners.addListener(n,t)}dispatch(n,t){this.seriesListeners.dispatch(n,t)}addChartEventListeners(){}destroy(){this.destroyFns.forEach(n=>n()),this.destroyFns=[],this.ctx.seriesStateManager.deregisterSeries(this)}getDirectionValues(n,t){const e=this.resolveKeyDirection(n),r=t==null?void 0:t[e],i=[];if(!r)return i;const o=(...a)=>{for(const s of a)Array.isArray(s)?o(...s):typeof s=="object"?o(...Object.values(s)):i.push(s)};return o(...r.map(a=>this.properties[a])),i}getKeys(n){return this.getDirectionValues(n,this.directionKeys)}getNames(n){return this.getDirectionValues(n,this.directionNames)}resolveKeyDirection(n){return n}getDomain(n){const t=this.getSeriesDomain(n),e=this.moduleMap.mapValues(r=>r.getDomain(n));return t.concat(e.flat())}markNodeDataDirty(){this.nodeDataRefresh=!0}visibleChanged(){this.ctx.seriesStateManager.registerSeries(this)}getOpacity(){const{dimOpacity:t=1,enabled:e=!0}=this.properties.highlightStyle.series;if(!e||t===1)return 1;switch(this.isItemIdHighlighted()){case 0:case 1:return 1;case 2:default:return t}}getStrokeWidth(n){const{strokeWidth:t,enabled:e=!0}=this.properties.highlightStyle.series;if(!e||t===void 0)return n;switch(this.isItemIdHighlighted()){case 1:return t;case 0:case 2:return n}}isItemIdHighlighted(){var n,t;const{series:e}=(t=(n=this.ctx.highlightManager)==null?void 0:n.getActiveHighlight())!=null?t:{};return e==null?0:e!==this?2:1}getModuleTooltipParams(){return this.moduleMap.mapValues(t=>t.getTooltipParams()).reduce((t,e)=>te(te({},e),t),{})}pickNode(n,t){const{pickModes:e,visible:r,rootGroup:i}=this;if(!(!r||!i.visible))for(const o of e){if(t&&!t.includes(o))continue;let a;switch(o){case 0:a=this.pickNodeExactShape(n);break;case 1:case 2:a=this.pickNodeMainAxisFirst(n,o===2);break;case 3:a=this.pickNodeClosestDatum(n);break}if(a)return{pickMode:o,match:a.datum,distance:a.distance}}}pickNodeExactShape(n){const t=this.contentGroup.pickNode(n.x,n.y);return t&&{datum:t.datum,distance:0}}pickNodeClosestDatum(n){throw new Error("AG Charts - Series.pickNodeClosestDatum() not implemented")}pickNodeMainAxisFirst(n,t){throw new Error("AG Charts - Series.pickNodeMainAxisFirst() not implemented")}fireNodeClickEvent(n,t){this.fireEvent(new this.NodeClickEvent("nodeClick",n,t,this))}fireNodeDoubleClickEvent(n,t){this.fireEvent(new this.NodeClickEvent("nodeDoubleClick",n,t,this))}toggleSeriesItem(n,t){this.visible=t,this.nodeDataRefresh=!0,this.dispatch("visibility-changed",{itemId:n,enabled:t})}isEnabled(){return this.visible}getModuleMap(){return this.moduleMap}createModuleContext(){return Te(te({},this.ctx),{series:this})}getLabelText(n,t,e=String){var r;return n.formatter&&(r=this.ctx.callbackCache.call(n.formatter,te({seriesId:this.id},t)))!=null?r:e(t.value)}getMarkerStyle(n,t,e=n.getStyle()){var r,i;const o={size:(i=(r=t.datum.point)==null?void 0:r.size)!=null?i:0},a=yt(o,e);if(n.formatter){const s=this.ctx.callbackCache.call(n.formatter,Te(te(te({seriesId:this.id},a),t),{datum:t.datum.datum}));return yt(s,a)}return a}updateMarkerStyle(n,t,e,r=t.getStyle(),{applyTranslation:i=!0}={}){const{point:o}=e.datum,a=this.getMarkerStyle(t,e,r),s=this.visible&&a.size>0&&o&&!isNaN(o.x)&&!isNaN(o.y);i?n.setProperties(Te(te({visible:s},a),{translationX:o==null?void 0:o.x,translationY:o==null?void 0:o.y})):n.setProperties(te({visible:s},a)),typeof t.shape=="function"&&!n.dirtyPath&&(n.path.clear({trackChanges:!0}),n.updatePath(),n.checkPathDirty())}getMinRect(){}get nodeDataDependencies(){var n;return(n=this._nodeDataDependencies)!=null?n:{seriesRectWidth:NaN,seriesRectHeight:NaN}}checkResize(n){const{width:t,height:e}=n??{width:NaN,height:NaN},r=n?{seriesRectWidth:t,seriesRectHeight:e}:void 0,i=sa(this.nodeDataDependencies,r)!=null;return i&&(this._nodeDataDependencies=r,this.markNodeDataDirty()),i}};ry.highlightedZIndex=1e12;R([En({changeValue:function(n,t){this.onSeriesGroupingChange(t,n)}})],ry.prototype,"seriesGrouping",2);var Oz=30,iWe=class{constructor(n){this.groups={},this.series={},this.expectedSeriesCount=1,this.mode="normal",this.rootGroup=n}setSeriesCount(n){this.expectedSeriesCount=n}requestGroup(n){var t,e,r,i;const{internalId:o,type:a,rootGroup:s,highlightGroup:l,annotationGroup:u,seriesGrouping:c}=n,{groupIndex:d=o}=c??{};if(this.series[o]!=null)throw new Error(`AG Charts - series already has an allocated layer: ${this.series[o]}`);Object.keys(this.series).length===0&&(this.mode=this.expectedSeriesCount>=Oz?"aggressive-grouping":"normal"),(e=(t=this.groups)[a])!=null||(t[a]={});const p=this.lookupIdx(d);let h=this.groups[a][p];return h||(h=(i=(r=this.groups[a])[p])!=null?i:r[p]={seriesIds:[],group:this.rootGroup.appendChild(new Ie({name:`${a}-content`,layer:!0,zIndex:4,zIndexSubOrder:n.getGroupZIndexSubOrder("data")})),highlight:this.rootGroup.appendChild(new Ie({name:`${a}-highlight`,layer:!0,zIndex:4,zIndexSubOrder:n.getGroupZIndexSubOrder("highlight")})),annotation:this.rootGroup.appendChild(new Ie({name:`${a}-annotation`,layer:!0,zIndex:4,zIndexSubOrder:n.getGroupZIndexSubOrder("annotation")}))}),this.series[o]={layerState:h,seriesConfig:n},h.seriesIds.push(o),h.group.appendChild(s),h.highlight.appendChild(l),h.annotation.appendChild(u),h.group}changeGroup(n){var t,e;const{internalId:r,seriesGrouping:i,type:o,rootGroup:a,highlightGroup:s,annotationGroup:l,oldGrouping:u}=n,{groupIndex:c=r}=i??{};(e=(t=this.groups[o])==null?void 0:t[c])!=null&&e.seriesIds.includes(r)||(this.series[r]!=null&&this.releaseGroup({internalId:r,seriesGrouping:u,type:o,rootGroup:a,highlightGroup:s,annotationGroup:l}),this.requestGroup(n))}releaseGroup(n){var t,e,r,i,o;const{internalId:a,seriesGrouping:s,rootGroup:l,highlightGroup:u,annotationGroup:c,type:d}=n,{groupIndex:p=a}=s??{};if(this.series[a]==null)throw new Error(`AG Charts - series doesn't have an allocated layer: ${a}`);const h=this.lookupIdx(p),f=(r=(t=this.groups[d])==null?void 0:t[h])!=null?r:(e=this.series[a])==null?void 0:e.layerState;if(f&&(f.seriesIds=f.seriesIds.filter(v=>v!==a),f.group.removeChild(l),f.highlight.removeChild(u),f.annotation.removeChild(c)),(f==null?void 0:f.seriesIds.length)===0)this.rootGroup.removeChild(f.group),this.rootGroup.removeChild(f.highlight),this.rootGroup.removeChild(f.annotation),delete this.groups[d][h],delete this.groups[d][a];else if((f==null?void 0:f.seriesIds.length)>0){const v=(o=this.series[(i=f==null?void 0:f.seriesIds)==null?void 0:i[0]])==null?void 0:o.seriesConfig;f.group.zIndexSubOrder=v==null?void 0:v.getGroupZIndexSubOrder("data"),f.highlight.zIndexSubOrder=v==null?void 0:v.getGroupZIndexSubOrder("highlight"),f.annotation.zIndexSubOrder=v==null?void 0:v.getGroupZIndexSubOrder("annotation")}delete this.series[a]}lookupIdx(n){return this.mode==="normal"?n:typeof n=="string"&&(n=Number(n.split("-").slice(-1)[0]),!n)?0:Math.floor(Math.max(Math.min(n/this.expectedSeriesCount,1),0)*Oz)}destroy(){for(const n of Object.values(this.groups))for(const t of Object.values(n))this.rootGroup.removeChild(t.group),this.rootGroup.removeChild(t.highlight),this.rootGroup.removeChild(t.annotation);this.groups={},this.series={}}},oWe=class{constructor(){this.groups={}}registerSeries({id:n,seriesGrouping:t,visible:e,type:r}){var i,o;t&&((o=(i=this.groups)[r])!=null||(i[r]={}),this.groups[r][n]={grouping:t,visible:e})}deregisterSeries({id:n,type:t}){this.groups[t]&&delete this.groups[t][n],this.groups[t]&&Object.keys(this.groups[t]).length===0&&delete this.groups[t]}getVisiblePeerGroupIndex({type:n,seriesGrouping:t,visible:e}){var r;if(!t)return{visibleGroupCount:e?1:0,visibleSameStackCount:e?1:0,index:0};const i=new Set,o=new Set;for(const[s,l]of Object.entries((r=this.groups[n])!=null?r:{}))l.visible&&(i.add(l.grouping.groupIndex),l.grouping.groupIndex===t.groupIndex&&o.add(l.grouping.stackIndex));const a=[...i.values()];return a.sort((s,l)=>s-l),{visibleGroupCount:a.length,visibleSameStackCount:o.size,index:a.indexOf(t.groupIndex)}}},aWe=class{constructor(n,t){this.chartLike=n,this.layoutService=t,this.destroyFns=[],this.destroyFns.push(this.layoutService.addListener("layout-complete",e=>this.layoutComplete(e)),this.layoutService.addListener("start-layout",e=>this.positionPadding(e.shrinkRect)),this.layoutService.addListener("start-layout",e=>this.positionCaptions(e.shrinkRect)))}destroy(){this.destroyFns.forEach(n=>n())}layoutComplete({clipSeries:n,series:{paddedRect:t}}){const{seriesArea:e,seriesRoot:r}=this.chartLike;e.clip||n?r.setClipRectInGroupCoordinateSpace(t):r.setClipRectInGroupCoordinateSpace()}positionPadding(n){const{padding:t}=this.chartLike;return n.shrink(t.left,"left"),n.shrink(t.top,"top"),n.shrink(t.right,"right"),n.shrink(t.bottom,"bottom"),{shrinkRect:n}}positionCaptions(n){var t,e,r,i;const{title:o,subtitle:a,footnote:s}=this.chartLike,l=n.clone(),u=h=>{var f;const v=n.height/10,g=(f=h.lineHeight)!=null?f:h.fontSize*It.defaultLineHeightRatio,y=n.width,m=Math.max(g,v);h.computeTextWrap(y,m)},c=h=>h==="left"?l.x:h==="right"?l.x+l.width:(h!=="center"&&Oe.error(`invalid textAlign value: ${h}`),l.x+l.width/2),d=(h,f)=>{const v=l.y;h.node.x=c(h.textAlign),h.node.y=v,h.node.textBaseline="top",u(h);const g=h.node.computeBBox(),y=Math.ceil(g.y-v+g.height+f);l.shrink(y,"top")},p=(h,f)=>{const v=l.y+l.height;h.node.x=c(h.textAlign),h.node.y=v,h.node.textBaseline="bottom",u(h);const g=h.node.computeBBox(),y=Math.ceil(v-g.y+f);l.shrink(y,"bottom")};if(a&&(a.node.visible=(t=a.enabled)!=null?t:!1),o&&(o.node.visible=o.enabled,o.node.visible)){const h=a!=null&&a.node.visible?Er.SMALL_PADDING:Er.LARGE_PADDING,f=(e=o.spacing)!=null?e:h;d(o,f)}return a&&a.node.visible&&d(a,(r=a.spacing)!=null?r:0),s&&(s.node.visible=s.enabled,s.node.visible&&p(s,(i=s.spacing)!=null?i:0)),{shrinkRect:l}}},sWe=class{constructor(n,t,e,r){this.chart=n,this.dataService=t,this.updateService=e,this.zoomManager=r,this.dirtyZoom=!1,this.dirtyDataSource=!1,this.lastAxisZooms=new Map,this.destroyFns=[],this.destroyFns.push(this.dataService.addListener("data-source-change",()=>this.onDataSourceChange()),this.dataService.addListener("data-load",()=>this.onDataLoad()),this.dataService.addListener("data-error",()=>this.onDataError()),this.updateService.addListener("update-complete",()=>this.onUpdateComplete()),this.zoomManager.addListener("zoom-change",()=>this.onZoomChange()))}destroy(){this.destroyFns.forEach(n=>n())}onDataLoad(){this.updateService.update(1)}onDataError(){this.updateService.update(3)}onDataSourceChange(){this.dirtyDataSource=!0}onUpdateComplete(){!this.dirtyZoom&&!this.dirtyDataSource||this.updateWindow()}onZoomChange(){this.dirtyZoom=!0}updateWindow(){return pe(this,null,function*(){if(!this.dataService.isLazy())return;const n=this.getValidAxis();let t,e=!0;if(n){const r=this.zoomManager.getAxisZoom(n.id);t=this.getAxisWindow(n,r),e=this.shouldRefresh(n,r)}this.dirtyZoom=!1,this.dirtyDataSource=!1,e&&this.dataService.load({windowStart:t==null?void 0:t.min,windowEnd:t==null?void 0:t.max})})}getValidAxis(){return this.chart.axes.find(n=>n.type==="time")}shouldRefresh(n,t){if(this.dirtyDataSource)return!0;if(!this.dirtyZoom)return!1;const e=this.lastAxisZooms.get(n.id);return e&&t.min===e.min&&t.max===e.max?!1:(this.lastAxisZooms.set(n.id,t),!0)}getAxisWindow(n,t){var e,r;const i=(r=(e=n.scale).getDomain)==null?void 0:r.call(e);if(!t||!i||i.length===0||isNaN(Number(i[0])))return;const o=Number(i[1])-Number(i[0]),a=new Date(Number(i[0])+o*t.min),s=new Date(Number(i[0])+o*t.max);return{min:a,max:s}}},lWe=class{constructor(n,t,e,r){this.chartLike=n,this.overlays=t,this.dataService=e,this.layoutService=r,this.destroyFns=[],this.destroyFns.push(this.layoutService.addListener("layout-complete",i=>this.onLayoutComplete(i)))}destroy(){this.destroyFns.forEach(n=>n())}onLayoutComplete({series:{rect:n}}){const t=this.dataService.isLoading(),e=this.chartLike.series.some(i=>{var o;return(o=i.data)==null?void 0:o.length}),r=this.chartLike.series.some(i=>i.visible);this.toggleOverlay(this.overlays.loading,n,t),this.toggleOverlay(this.overlays.noData,n,!t&&!e),this.toggleOverlay(this.overlays.noVisibleSeries,n,e&&!r)}toggleOverlay(n,t,e){e&&t?n.show(t):n.hide()}},Yee=class extends Qg{constructor(n){super(),this.updateCallback=n}update(n=0,t){this.updateCallback(n,t)}dispatchUpdateComplete(n){this.dispatch("update-complete",{type:"update-complete",minRect:n})}},cs=Lr.create(!0,"opts"),TB=class extends tr{constructor(){super(...arguments),this.padding=new ip(0)}};R([F(ze,{optional:!0})],TB.prototype,"clip",2);R([F(Ge)],TB.prototype,"padding",2);var rn=class Xee extends hee{constructor(t,e){var r;super(),this.id=nu(this),this.seriesRoot=new Ie({name:`${this.id}-Series-root`}),this.debug=Lr.create(),this.extraDebugStats={},this.data=[],this._firstAutoSize=!0,this.padding=new ip(20),this.seriesArea=new TB,this.mode="standalone",this.destroyed=!1,this._skipSync=!1,this._destroyFns=[],this.chartAnimationPhase="initial",this.highlightManager=new NI,this.syncManager=new b3e(this),this.zoomManager=new bee,this.modules=new Map,this.legends=new Map,this.processors=[],this.processedOptions={},this.userOptions={},this.queuedUserOptions=[],this._pendingFactoryUpdatesCount=0,this._performUpdateNoRenderCount=0,this._performUpdateSkipAnimations=!1,this.performUpdateType=7,this.updateShortcutCount=0,this.seriesToUpdate=new Set,this.updateMutex=new l3e,this.updateRequestors={},this.performUpdateTrigger=c3e(d=>pe(this,[d],function*({count:p}){this.destroyed||this.updateMutex.acquire(()=>pe(this,null,function*(){try{yield this.performUpdate(p)}catch(h){Oe.error("update error",h)}}))})),this.axes=[],this.series=[],this.lastInteractionEvent=void 0,this.pointerScheduler=u3e(()=>{this.lastInteractionEvent&&(this.handlePointer(this.lastInteractionEvent,!1),this.lastInteractionEvent=void 0)}),this.onSeriesNodeClick=d=>{const p=Te(te({},d),{type:"seriesNodeClick"});Object.defineProperty(p,"series",{enumerable:!1,get:()=>d.series}),this.fireEvent(p)},this.onSeriesNodeDoubleClick=d=>{const p=Te(te({},d),{type:"seriesNodeDoubleClick"});this.fireEvent(p)},this.seriesGroupingChanged=d=>{if(!(d instanceof RB))return;const{series:p,seriesGrouping:h,oldGrouping:f}=d;p.rootGroup.parent!=null&&this.seriesLayerManager.changeGroup({internalId:p.internalId,type:p.type,rootGroup:p.rootGroup,highlightGroup:p.highlightGroup,annotationGroup:p.annotationGroup,getGroupZIndexSubOrder:v=>p.getGroupZIndexSubOrder(v),seriesGrouping:h,oldGrouping:f})},this.chartOptions=t;const{window:i,document:o}=t.specialOverrides,a=e==null?void 0:e.scene,s=(r=e==null?void 0:e.element)!=null?r:o.createElement("div"),l=e==null?void 0:e.container,u=new Ie({name:"root"});u.visible=!1,u.append(this.seriesRoot),this.axisGridGroup=new Ie({name:"Axes-Grids",layer:!0,zIndex:1}),u.appendChild(this.axisGridGroup),this.axisGroup=new Ie({name:"Axes",layer:!0,zIndex:2}),u.appendChild(this.axisGroup),this.element=s,s.classList.add("ag-chart-wrapper"),s.style.position="relative",this.scene=a??new fB(this.chartOptions.specialOverrides),this.scene.root=u,this.scene.container=s,this.autoSize=!0,this.chartEventManager=new wee,this.contextMenuRegistry=new _ee,this.cursorManager=new xee(s),this.highlightManager=new NI,this.interactionManager=new Cee(s,o,i),this.regionManager=new E3e(this.interactionManager),this.gestureDetector=new Eee(s),this.layoutService=new Oee,this.updateService=new Yee((d=0,p)=>this.update(d,p)),this.seriesStateManager=new oWe,this.seriesLayerManager=new iWe(this.seriesRoot),this.callbackCache=new s3e,this.animationManager=new See(this.interactionManager,this.updateMutex),this.animationManager.skip(),this.animationManager.play(),this.dataService=new hP(this.animationManager),this.overlays=new K3e(this.element,this.animationManager),this.processors=[new aWe(this,this.layoutService),new sWe(this,this.dataService,this.updateService,this.zoomManager),new lWe(this,this.overlays,this.dataService,this.layoutService)],this.tooltip=new LJ(this.scene.canvas.element,o,i,o.body),this.tooltipManager=new kI(this.tooltip,this.interactionManager),this.highlight=new vee,this.container=l,this.attachLegend("category",Co),this.legend=this.legends.get("category");const{All:c}=IO;mz.observe(this.element,d=>this.rawResize(d)),this._destroyFns.push(this.dataService.addListener("data-load",d=>{this.data=d.data}),this.interactionManager.addListener("click",d=>this.onClick(d)),this.interactionManager.addListener("dblclick",d=>this.onDoubleClick(d)),this.interactionManager.addListener("hover",d=>this.onMouseMove(d)),this.interactionManager.addListener("leave",d=>this.onLeave(d)),this.interactionManager.addListener("page-left",()=>this.destroy()),this.interactionManager.addListener("wheel",()=>this.resetPointer()),this.interactionManager.addListener("drag",()=>this.resetPointer()),this.interactionManager.addListener("contextmenu",d=>this.onContextMenu(d),c),this.animationManager.addListener("animation-frame",()=>{this.update(6)}),this.highlightManager.addListener("highlight-change",d=>this.changeHighlightDatum(d)),this.zoomManager.addListener("zoom-change",()=>this.update(2,{forceNodeDataRefresh:!0,skipAnimations:!0})))}static getInstance(t){return Xee.chartsInstances.get(t)}onAutoSizeChange(t){const{style:e}=this.element;if(t){if(e.display="block",e.width="100%",e.height="100%",!this._lastAutoSize)return;this.resize(void 0,void 0,"autoSize option")}else e.display="inline-block",e.width="auto",e.height="auto"}download(t,e){this.scene.download(t,e)}getOptions(){var t;return(t=this.queuedUserOptions.at(-1))!=null?t:this.userOptions}addModule(t){if(this.modules.has(t.optionsKey))throw new Error(`AG Charts - module already initialised: ${t.optionsKey}`);const e=new t.instanceConstructor(this.getModuleContext());if(t.type==="legend"){const r=e;this.legends.set(t.identifier,r),r.attachLegend(this.scene.root)}this.modules.set(t.optionsKey,e)}removeModule(t){var e;t.type==="legend"&&this.legends.delete(t.identifier),(e=this.modules.get(t.optionsKey))==null||e.destroy(),this.modules.delete(t.optionsKey)}attachLegend(t,e){const r=new e(this.getModuleContext());this.legends.set(t,r),r.attachLegend(this.scene.root)}isModuleEnabled(t){return this.modules.has(t.optionsKey)}getModuleContext(){return{window:this.chartOptions.specialOverrides.window,document:this.chartOptions.specialOverrides.document,scene:this.scene,animationManager:this.animationManager,chartEventManager:this.chartEventManager,contextMenuRegistry:this.contextMenuRegistry,cursorManager:this.cursorManager,highlightManager:this.highlightManager,interactionManager:this.interactionManager,regionManager:this.regionManager,gestureDetector:this.gestureDetector,tooltipManager:this.tooltipManager,syncManager:this.syncManager,zoomManager:this.zoomManager,chartService:this,dataService:this.dataService,layoutService:this.layoutService,updateService:this.updateService,seriesStateManager:this.seriesStateManager,callbackCache:this.callbackCache}}resetAnimations(){var t;this.chartAnimationPhase="initial";for(const e of this.series)e.resetAnimation(this.chartAnimationPhase);for(const e of this.axes)e.resetAnimation(this.chartAnimationPhase);this.animationRect=void 0,(t=this.animationManager)==null||t.reset()}skipAnimations(){this.animationManager.skipCurrentBatch(),this._performUpdateSkipAnimations=!0}destroy(t){if(this.destroyed)return;const e=t==null?void 0:t.keepTransferableResources;let r;this.performUpdateType=7,this._destroyFns.forEach(i=>i()),this.processors.forEach(i=>i.destroy()),this.tooltipManager.destroy(),this.tooltip.destroy(),this.legends.forEach(i=>i.destroy()),this.legends.clear(),this.overlays.destroy(),mz.unobserve(this.element);for(const i of this.modules.values())i==null||i.destroy();return this.modules.clear(),this.regionManager.destroy(),this.interactionManager.destroy(),this.animationManager.stop(),this.animationManager.destroy(),this.chartEventManager.destroy(),this.highlightManager.destroy(),this.zoomManager.destroy(),e?(this.scene.strip(),r={container:this.container,scene:this.scene,element:this.element}):(this.scene.destroy(),this.container=void 0),this.destroySeries(this.series),this.seriesLayerManager.destroy(),this.axes.forEach(i=>i.destroy()),this.axes=[],this.callbackCache.invalidateCache(),this.animationRect=void 0,this.animationManager.reset(),this.syncManager.destroy(),this.destroyed=!0,Object.freeze(this),r}resetPointer(t=!1){t||this.tooltipManager.removeTooltip(this.id),this.highlightManager.updateHighlight(this.id),this.lastInteractionEvent=void 0}requestFactoryUpdate(t){this.destroyed||(this._pendingFactoryUpdatesCount++,this.updateMutex.acquire(()=>pe(this,null,function*(){this.destroyed||(yield t(this),!this.destroyed&&this._pendingFactoryUpdatesCount--)})))}update(t=0,e){var r,i;const{forceNodeDataRefresh:o=!1,skipAnimations:a,seriesToUpdate:s=this.series,newAnimationBatch:l}=e??{};o&&this.series.forEach(u=>u.markNodeDataDirty());for(const u of s)this.seriesToUpdate.add(u);if(a&&(this.animationManager.skipCurrentBatch(),this._performUpdateSkipAnimations=!0),l&&this.animationManager.isActive()&&(this._performUpdateSkipAnimations=!0),this._skipSync=(r=e==null?void 0:e.skipSync)!=null?r:!1,this.debug.check()){let u=(i=new Error().stack)!=null?i:"<unknown>";u=u.replace(/\([^)]*/g,""),this.updateRequestors[u]=t}t<this.performUpdateType&&(this.performUpdateType=t,this.performUpdateTrigger.schedule(e==null?void 0:e.backOffMs))}performUpdate(t){return pe(this,null,function*(){const{performUpdateType:e,extraDebugStats:r}=this,i=[...this.seriesToUpdate];this.performUpdateType=7,this.seriesToUpdate.clear(),this.updateShortcutCount===0&&e<6&&(this.animationManager.startBatch(this._performUpdateSkipAnimations),this.animationManager.onBatchStop(()=>this.chartAnimationPhase="ready")),this.debug("Chart.performUpdate() - start",BC[e]);const o={start:performance.now()};switch(e){case 0:case 1:yield this.updateData(),o["⬇️"]=performance.now();case 2:yield this.processData(),this.resetPointer(!0),o["🏭"]=performance.now();case 3:if(this.checkUpdateShortcut(3)||!this.checkFirstAutoSize(i))break;yield this.processLayout(),o["⌖"]=performance.now();case 4:if(this.checkUpdateShortcut(4))break;const{seriesRect:s}=this;yield Promise.all(i.map(u=>u.update({seriesRect:s}))),o["🤔"]=performance.now();case 5:if(this.checkUpdateShortcut(5))break;const l=this.tooltipManager.getTooltipMeta(this.id);e<=4&&l!==void 0&&this.handlePointer(l.lastPointerEvent,!0),o["↖"]=performance.now();case 6:if(this.checkUpdateShortcut(6))break;r.updateShortcutCount=this.updateShortcutCount,yield this.scene.render({debugSplitTimes:o,extraDebugStats:r}),this.extraDebugStats={};case 7:this.updateShortcutCount=0,this.updateRequestors={},this._performUpdateSkipAnimations=!1,this.animationManager.endBatch()}this.updateService.dispatchUpdateComplete(this.getMinRect());const a=performance.now();this.debug("Chart.performUpdate() - end",{chart:this,durationMs:Math.round((a-o.start)*100)/100,count:t,performUpdateType:BC[e]})})}checkUpdateShortcut(t){return this.updateShortcutCount>3?(Oe.warn("exceeded the maximum number of simultaneous updates (4), discarding changes and rendering",this.updateRequestors),!1):this.performUpdateType<=t?(this.updateShortcutCount++,!0):!1}checkFirstAutoSize(t){if(this.autoSize&&!this._lastAutoSize){const e=this._performUpdateNoRenderCount++,r=pt(e,2)*10;if(e<8)return this.update(3,{seriesToUpdate:t,backOffMs:r}),this.debug("Chart.checkFirstAutoSize() - backing off until first size update",r),!1;this.debug("Chart.checkFirstAutoSize() - timeout for first size update.")}return this._performUpdateNoRenderCount=0,!0}onSeriesChange(t,e){var r,i;const o=(r=e==null?void 0:e.filter(a=>!t.includes(a)))!=null?r:[];this.destroySeries(o),(i=this.seriesLayerManager)==null||i.setSeriesCount(t.length);for(const a of t){if(e!=null&&e.includes(a))continue;a.rootGroup.parent==null&&this.seriesLayerManager.requestGroup(a);const s=this;a.chart={get mode(){return s.mode},get isMiniChart(){return!1},get seriesRect(){return s.seriesRect},placeLabels(){return s.placeLabels()}},a.resetAnimation(this.chartAnimationPhase),this.addSeriesListeners(a),a.addChartEventListeners()}}destroySeries(t){t==null||t.forEach(e=>{e.removeEventListener("nodeClick",this.onSeriesNodeClick),e.removeEventListener("nodeDoubleClick",this.onSeriesNodeDoubleClick),e.removeEventListener("groupingChanged",this.seriesGroupingChanged),e.destroy(),this.seriesLayerManager.releaseGroup(e),e.chart=void 0})}addSeriesListeners(t){this.hasEventListener("seriesNodeClick")&&t.addEventListener("nodeClick",this.onSeriesNodeClick),this.hasEventListener("seriesNodeDoubleClick")&&t.addEventListener("nodeDoubleClick",this.onSeriesNodeDoubleClick),t.addEventListener("groupingChanged",this.seriesGroupingChanged)}updateAllSeriesListeners(){this.series.forEach(t=>{t.removeEventListener("nodeClick",this.onSeriesNodeClick),t.removeEventListener("nodeDoubleClick",this.onSeriesNodeDoubleClick),this.addSeriesListeners(t)})}assignSeriesToAxes(){this.axes.forEach(t=>{t.boundSeries=this.series.filter(e=>e.axes[t.direction]===t)})}assignAxesToSeries(){const t=$V(this.axes,e=>e.direction);this.series.forEach(e=>{e.directions.forEach(r=>{const i=t[r];if(!i){Oe.warnOnce(`no available axis for direction [${r}]; check series and axes configuration.`);return}const o=e.getKeys(r),a=this.findMatchingAxis(i,o);if(!a){Oe.warnOnce(`no matching axis for direction [${r}] and keys [${o}]; check series and axes configuration.`);return}e.axes[r]=a})})}findMatchingAxis(t,e){for(const r of t){if(!r.keys.length)return r;if(e){for(const i of e)if(r.keys.includes(i))return r}}}rawResize(t){var e;let{width:r,height:i}=t;if(r=Math.floor(r),i=Math.floor(i),!this.autoSize||r===0&&i===0)return;const[o=0,a=0]=(e=this._lastAutoSize)!=null?e:[];o===r&&a===i||(this._lastAutoSize=[r,i],this.resize(void 0,void 0,"SizeMonitor"))}resize(t,e,r){var i,o,a,s;if(t??(t=(o=this.width)!=null?o:this.autoSize?(i=this._lastAutoSize)==null?void 0:i[0]:this.scene.canvas.width),e??(e=(s=this.height)!=null?s:this.autoSize?(a=this._lastAutoSize)==null?void 0:a[1]:this.scene.canvas.height),this.debug(`Chart.resize() from ${r}`,{width:t,height:e,stack:new Error().stack}),!(!t||!e||!Gt(t)||!Gt(e))&&this.scene.resize(t,e)){this.resetPointer(),this.animationManager.reset();let l=!0;this.autoSize&&this._firstAutoSize&&(l=!1,this._firstAutoSize=!1),this.update(3,{forceNodeDataRefresh:!0,skipAnimations:l})}}updateData(){return pe(this,null,function*(){this.series.forEach(e=>e.setChartData(this.data));const t=Array.from(this.modules.values(),e=>{var r;return(r=e.updateData)==null?void 0:r.call(e,{data:this.data})});yield Promise.all(t)})}processData(){return pe(this,null,function*(){if(this.series.some(i=>i.canHaveAxes)){this.assignAxesToSeries(),this.assignSeriesToAxes();const i=this.modules.get("sync");i!=null&&i.enabled&&i.syncAxes(this._skipSync)}const t=new yee(this.mode),e=this.series.map(i=>i.processData(t)),r=Array.from(this.modules.values(),i=>{var o;return(o=i.processData)==null?void 0:o.call(i,{dataController:t})});t.execute(),yield Promise.all([...e,...r]),yield this.updateLegend()})}placeLabels(){const t=[],e=[];for(const u of this.series){if(!u.visible)continue;const c=u.getLabelData();$$e(c==null?void 0:c[0])&&(e.push(c),t.push(u))}const{seriesRect:r}=this,{top:i,right:o,bottom:a,left:s}=this.seriesArea.padding,l=r&&e.length>0?W$e(e,{x:-s,y:-i,width:r.width+s+o,height:r.height+i+a}):[];return new Map(l.map((u,c)=>[t[c],u]))}updateLegend(){return pe(this,null,function*(){this.legends.forEach((t,e)=>{const r=o=>o.every(a=>a.legendType==="category"),i=this.series.filter(o=>o.properties.showInLegend).flatMap(o=>o.getLegendData(e));r(i)&&this.mode!=="integrated"&&this.validateCategoryLegendData(i),t.data=i})})}validateCategoryLegendData(t){const e={};t.forEach(r=>{var i,o,a,s,l;const u=(i=this.series.find(c=>c.id===r.seriesId))==null?void 0:i.type;u&&((o=e[u])!=null||(e[u]={}),(l=(a=e[u])[s=r.label.text])!=null||(a[s]=new Set),r.marker.fill!=null&&e[u][r.label.text].add(r.marker.fill))});for(const r of Object.values(e))for(const[i,o]of Object.entries(r))o.size>1&&Oe.warnOnce(`legend item '${i}' has multiple fill colors, this may cause unexpected behaviour.`)}processLayout(){return pe(this,null,function*(){var t;const e=this.animationRect;yield this.performLayout(),e&&!((t=this.animationRect)!=null&&t.equals(e))&&this.animationManager.skipCurrentBatch(),this.debug("Chart.performUpdate() - seriesRect",this.seriesRect)})}performLayout(){return pe(this,null,function*(){this.scene.root&&(this.scene.root.visible=!0);const{width:t,height:e}=this.scene;let r={shrinkRect:new et(0,0,t,e)};r=this.layoutService.dispatchPerformLayout("start-layout",r),r=this.layoutService.dispatchPerformLayout("before-series",r);const i=Array.from(this.modules.values(),o=>pe(this,null,function*(){var a;o.performLayout!=null&&(r=yield(a=o.performLayout)==null?void 0:a.call(o,r))}));return yield Promise.all(i),r.shrinkRect})}pickSeriesNode(t,e,r){var i,o;const a=performance.now(),s=e?[0]:void 0,l=[...this.series].reverse();let u;for(const c of l){if(!c.visible||!c.rootGroup.visible)continue;const{match:d,distance:p}=(i=c.pickNode(t,s))!=null?i:{};if(!(!d||p==null)&&((!u||u.distance>p)&&p<=(r??1/0)&&(u={series:c,distance:p,datum:d}),p===0))break}return this.extraDebugStats.pickSeriesNode=Math.round(((o=this.extraDebugStats.pickSeriesNode)!=null?o:0)+(performance.now()-a)),u}onMouseMove(t){this.lastInteractionEvent=t,this.pointerScheduler.schedule(),this.extraDebugStats.mouseX=t.offsetX,this.extraDebugStats.mouseY=t.offsetY,this.update(6)}onLeave(t){this.tooltip.pointerLeftOntoTooltip(t)||(this.resetPointer(),this.update(6))}onContextMenu(t){this.tooltipManager.removeTooltip(this.id);const{Default:e,ContextMenu:r}=IO;this.interactionManager.getState()&(e|r)&&this.checkSeriesNodeRange(t,(i,o)=>{this.highlightManager.updateHighlight(this.id,o)})}handlePointer(t,e){if(this.interactionManager.getState()!==8)return;const{lastPick:r,hoverRect:i}=this,{offsetX:o,offsetY:a}=t,s=(l=!1)=>{r&&this.resetPointer(l)};if(e&&this.animationManager.isActive()){s();return}if(!(i!=null&&i.containsPoint(o,a))){s();return}this.handlePointerTooltip(t,s),this.handlePointerNode(t)}handlePointerTooltip(t,e){const{lastPick:r,tooltip:i}=this,{range:o}=i,{offsetX:a,offsetY:s}=t;let l;Gt(o)&&(l=o);const u=this.pickSeriesNode({x:a,y:s},o==="exact",l);if(!u){this.tooltipManager.removeTooltip(this.id),this.highlight.range==="tooltip"&&e(!0);return}const c=this.highlight.range==="node"||!r||r!==u.datum;let d;c&&(d=u.series.getTooltipHtml(u.datum),this.highlight.range==="tooltip"&&this.highlightManager.updateHighlight(this.id,u.datum));const p=l!=null,h=this.tooltip.enabled&&u.series.properties.tooltip.enabled,f=o==="exact"&&u.distance===0,g=h&&(o==="nearest"||p||f)&&(!c||d!==void 0),y=kI.makeTooltipMeta(t,u.datum);g&&this.tooltipManager.updateTooltip(this.id,y,d)}handlePointerNode(t){this.checkSeriesNodeRange(t,(r,i)=>{(r.hasEventListener("nodeClick")||r.hasEventListener("nodeDoubleClick"))&&this.cursorManager.updateCursor("chart","pointer"),this.highlight.range==="node"&&this.highlightManager.updateHighlight(this.id,i)})||(this.cursorManager.updateCursor("chart"),this.highlight.range==="node"&&this.highlightManager.updateHighlight(this.id))}onClick(t){if(this.checkSeriesNodeClick(t)){this.update(4);return}this.fireEvent({type:"click",event:t.sourceEvent})}onDoubleClick(t){if(this.checkSeriesNodeDoubleClick(t)){this.update(4);return}this.fireEvent({type:"doubleClick",event:t.sourceEvent})}checkSeriesNodeClick(t){return this.checkSeriesNodeRange(t,(e,r)=>e.fireNodeClickEvent(t.sourceEvent,r))}checkSeriesNodeDoubleClick(t){return this.checkSeriesNodeRange(t,(e,r)=>e.fireNodeDoubleClickEvent(t.sourceEvent,r))}checkSeriesNodeRange(t,e){const r=this.pickSeriesNode({x:t.offsetX,y:t.offsetY},!1),i=r==null?void 0:r.datum,o=i==null?void 0:i.series.properties.nodeClickRange;let a;Gt(o)&&(a=o);let s=this.pickSeriesNode({x:t.offsetX,y:t.offsetY},!0);if(s?this.highlightManager.updatePicked(this.id,s.datum):this.highlightManager.updatePicked(this.id),i&&o==="nearest")return e(i.series,i),!0;if(o!=="exact"&&(s=this.pickSeriesNode({x:t.offsetX,y:t.offsetY},!1,a)),!s)return!1;const l=a!=null,u=o==="exact"&&s.distance===0;return l||u?(e(s.series,s.datum),!0):!1}changeHighlightDatum(t){var e,r;const i=new Set,{series:o=void 0,datum:a}=(e=t.currentHighlight)!=null?e:{},{series:s=void 0,datum:l}=(r=t.previousHighlight)!=null?r:{};s&&i.add(s),o&&i.add(o),s!=null&&s.properties.cursor&&l&&this.cursorManager.updateCursor(s.id),o!=null&&o.properties.cursor&&a&&this.cursorManager.updateCursor(o.id,o.properties.cursor),this.lastPick=t.currentHighlight,o==null||s==null?this.update(4):this.update(4,{seriesToUpdate:i})}waitForUpdate(t=5e3){return pe(this,null,function*(){const e=performance.now();for(this._pendingFactoryUpdatesCount>0&&(yield this.updateMutex.waitForClearAcquireQueue());this.performUpdateType!==7;){if(performance.now()-e>t)throw new Error("waitForUpdate() timeout reached.");yield a3e(5)}yield this.updateMutex.waitForClearAcquireQueue()})}getMinRect(){const t=this.series.map(e=>e.getMinRect()).filter(e=>e!==void 0);if(t.length)return new et(0,0,t.reduce((e,r)=>Math.max(e,r.width),0),t.reduce((e,r)=>Math.max(e,r.height),0))}filterMiniChartSeries(t){return t!=null?t.filter(e=>e.showInMiniChart!==!1):t}applyOptions(t){var e,r,i,o,a,s;const l=this.processedOptions,u=t.diffOptions(l),c=t.userOptions;if(u==null)return;cs("AgChartV2.updateDelta() - applying delta",u);const d=yt(u,l),p=this.applyModules(d),h=["type","data","series","listeners","theme","legend.listeners","navigator.miniChart.label"];(Ph(u)||Xw(u))&&h.push("axes"),u.listeners&&this.registerListeners(this,u.listeners),this.applyOptionValues(this,u,{skip:h});let f=!1,v="no-op";u.series&&u.series.length>0&&(v=this.applySeries(this,u.series,l==null?void 0:l.series),f=!0),v==="replaced"&&this.resetAnimations(),this.applyAxes(this,d,l,v)&&(f=!0);const g=!!u.data||v==="data-change"||v==="replaced",y=oje(),m=Object.values(y).some(O=>u[O]!=null),C=u.title!=null&&u.subtitle!=null;f=f||g||m||C,u.data&&(this.data=u.data),(e=u.legend)!=null&&e.listeners&&Object.assign(this.legend.listeners,u.legend.listeners),u.listeners&&this.updateAllSeriesListeners(),this.chartOptions=t,this.processedOptions=d,this.userOptions=yt(c,this.userOptions);const S=this.modules.get("navigator"),w=this.modules.get("zoom");!(S!=null&&S.enabled)&&!(w!=null&&w.enabled)&&this.zoomManager.updateZoom();const _=S==null?void 0:S.miniChart;if((_==null?void 0:_.enabled)===!0&&(u==null?void 0:u.series)!=null){const O=this.applySeries(_,this.filterMiniChartSeries(u.series),this.filterMiniChartSeries(l==null?void 0:l.series));this.applyAxes(_,u,l,O,["axes[].tick","axes[].thickness","axes[].title","axes[].crosshair","axes[].gridLine","axes[].label"]);const T=_.axes,A=T.find(N=>N.direction==="x");for(const N of T)N.gridLine.enabled=!1,N.label.enabled=N===A,N.tick.enabled=!1,N.interactionEnabled=!1;if(A!=null){const N=(i=(r=u.navigator)==null?void 0:r.miniChart)==null?void 0:i.label,M=(s=(a=(o=u.navigator)==null?void 0:o.miniChart)==null?void 0:a.label)==null?void 0:s.interval;Md(A.label,N,{path:"navigator.miniChart.label",skip:["navigator.miniChart.label.interval","navigator.miniChart.label.rotation","navigator.miniChart.label.minSpacing","navigator.miniChart.label.autoRotate","navigator.miniChart.label.autoRotateAngle"]}),Md(A.tick,M,{path:"navigator.miniChart.interval",skip:["navigator.miniChart.interval.enabled","navigator.miniChart.interval.width","navigator.miniChart.interval.size","navigator.miniChart.interval.color","navigator.miniChart.interval.interval","navigator.miniChart.interval.step"]});const L=M==null?void 0:M.step;L!=null&&(A.tick.interval=L)}}else(_==null?void 0:_.enabled)===!1&&(_.series=[],_.axes=[]);const b=f||p?1:3;cs("AgChartV2.applyChartOptions() - update type",BC[b]),this.update(b,{forceNodeDataRefresh:f,newAnimationBatch:!0})}applyModules(t){let e=!1;for(const r of Ll){if(r.type!=="root"&&r.type!=="legend")continue;const i=t[r.optionsKey],o=r.chartTypes.includes(this.constructor.type)&&i!=null,a=this.isModuleEnabled(r);o!==a&&(o?(this.addModule(r),this[r.optionsKey]=this.modules.get(r.optionsKey)):(this.removeModule(r),delete this[r.optionsKey]),e=!0)}return e}applySeries(t,e,r){if(!e)return"no-change";const i=U3e(t.series,e,r);if(i.status==="no-overlap")return cs(`AgChartV2.applySeries() - creating new series instances, status: ${i.status}`,i),t.series=this.createSeries(e),"replaced";cs("AgChartV2.applySeries() - matchResult",i);const o=[];for(const l of i.changes){if(l.status==="add"){const p=this.createSeries([l.opts])[0];o.push(p),cs("AgChartV2.applySeries() - created new series",p);continue}else if(l.status==="remove"){cs(`AgChartV2.applySeries() - removing series at previous idx ${l.idx}`,l.series);continue}else if(l.status==="no-op"){o.push(l.series),cs(`AgChartV2.applySeries() - no change to series at previous idx ${l.idx}`,l.series);continue}const{series:u,diff:c,idx:d}=l;cs(`AgChartV2.applySeries() - applying series diff previous idx ${d}`,c,u),this.applySeriesValues(u,c),u.markNodeDataDirty(),o.push(u)}for(let l=0;l<o.length;l++)o[l]._declarationOrder=l;cs("AgChartV2.applySeries() - final series instances",o),t.series=o;const a=i.changes.some(({diff:l})=>l&&(l.seriesGrouping!=null||l.data!=null)),s=i.changes.every(l=>l.status==="no-op");return a?"data-change":s?"no-op":"updated"}applyAxes(t,e,r,i,o=[]){if(!("axes"in e)||!e.axes)return!1;o=["axes[].type",...o];const{axes:a}=e;return!(i==="replaced")&&t.axes.length===a.length&&t.axes.every((u,c)=>u.type===a[c].type)&&Ph(r)?(t.axes.forEach((u,c)=>{var d,p;const h=(p=(d=r.axes)==null?void 0:d[c])!=null?p:{},f=sa(h,a[c]);cs(`AgChartV2.applyAxes() - applying axis diff idx ${c}`,f);const v=`axes[${c}]`;this.applyOptionValues(u,f,{path:v,skip:o})}),!0):(cs(`AgChartV2.applyAxes() - creating new axes instances; seriesStatus: ${i}`),t.axes=this.createAxis(a,o),!0)}createSeries(t){var e;const r=[],i=this.getModuleContext();for(const o of t??[]){const a=(e=o.type)!=null?e:"unknown";if(bQ(a)&&!MHe(a))continue;const s=WHe(a,i);this.applySeriesOptionModules(s,o),this.applySeriesValues(s,o),r.push(s)}return r}applySeriesOptionModules(t,e){const r=t.createModuleContext(),i=t.getModuleMap();for(const o of Ll)o.type==="series-option"&&o.optionsKey in e&&o.seriesTypes.includes(t.type)&&i.addModule(o,a=>new a.instanceConstructor(r))}applySeriesValues(t,e){const r=t.getModuleMap(),i=e,{type:o,data:a,errorBar:s,listeners:l,seriesGrouping:u,showInMiniChart:c}=i,d=yn(i,["type","data","errorBar","listeners","seriesGrouping","showInMiniChart"]);t.properties.set(d),"data"in e&&(t.data=e.data),"errorBar"in e&&r.isModuleEnabled("errorBar")&&r.getModule("errorBar").properties.set(e.errorBar),e!=null&&e.listeners&&this.registerListeners(t,e.listeners),u&&(t.seriesGrouping=te(te({},t.seriesGrouping),u))}createAxis(t,e){const r=new W3e,i=this.getModuleContext();let o=0;for(const a of t??[]){const s=wHe(a.type,i),l=`axes[${o++}]`;this.applyAxisModules(s,a),this.applyOptionValues(s,a,{path:l,skip:e}),r.push(s,a)}return r.guessInvalidPositions()}applyAxisModules(t,e){let r=!1;const i=Ll.filter(a=>a.type==="axis-option"),o=t.createModuleContext();for(const a of i){const s=e[a.optionsKey]!=null,l=t.getModuleMap(),u=l.isModuleEnabled(a);s!==u&&(r=!0,s?(l.addModule(a,c=>new c.instanceConstructor(o)),t[a.optionsKey]=l.getModule(a)):(l.removeModule(a),delete t[a.optionsKey]))}return r}applyOptionValues(t,e,{skip:r,path:i}={}){const o=this.getModuleContext();class a extends Er{constructor(){super(),this.registerInteraction(o)}}return Md(t,e,{constructors:Te(te({},iz.constructors),{title:a,subtitle:a,footnote:a}),constructedArrays:IJ.constructedArrays,allowedTypes:te({},iz.allowedTypes),skip:r,path:i})}registerListeners(t,e){t.clearEventListeners();for(const[r,i]of Object.entries(e))Wg(i)&&t.addEventListener(r,i)}};rn.chartsInstances=new WeakMap;rn.NodeValueChangeOptions={newValue(n){var t;(t=this.scene.root)==null||t.appendChild(n.node)},oldValue(n){var t;(t=this.scene.root)==null||t.removeChild(n.node)}};R([En({newValue(n){this.destroyed||(n.setAttribute("data-ag-charts",""),n.appendChild(this.element),rn.chartsInstances.set(n,this))},oldValue(n){n.removeAttribute("data-ag-charts"),n.removeChild(this.element),rn.chartsInstances.delete(n)}})],rn.prototype,"container",2);R([En({newValue(n){this.resize(n,void 0,"width option")}})],rn.prototype,"width",2);R([En({newValue(n){this.resize(void 0,n,"height option")}})],rn.prototype,"height",2);R([En({newValue(n){this.onAutoSizeChange(n)}}),F(ze)],rn.prototype,"autoSize",2);R([F(Ge)],rn.prototype,"padding",2);R([F(Ge)],rn.prototype,"seriesArea",2);R([En(rn.NodeValueChangeOptions)],rn.prototype,"title",2);R([En(rn.NodeValueChangeOptions)],rn.prototype,"subtitle",2);R([En(rn.NodeValueChangeOptions)],rn.prototype,"footnote",2);R([F(Kr(["standalone","integrated"],"a chart mode"))],rn.prototype,"mode",2);R([En({changeValue(n,t=[]){for(const e of t)n.includes(e)||(e.detachAxis(this.axisGroup,this.axisGridGroup),e.destroy());for(const e of n)t!=null&&t.includes(e)||e.attachAxis(this.axisGroup,this.axisGridGroup);this.zoomManager.updateAxes(n)}})],rn.prototype,"axes",2);R([En({changeValue(n,t){this.onSeriesChange(n,t)}})],rn.prototype,"series",2);var gP=rn,qee=class extends ry{isContinuous(){var n,t;const e=Xt.is((n=this.axes.x)==null?void 0:n.scale),r=Xt.is((t=this.axes.y)==null?void 0:t.scale);return{isContinuousX:e,isContinuousY:r}}getModulePropertyDefinitions(){return this.moduleMap.mapValues(n=>n.getPropertyDefinitions(this.isContinuous())).flat()}requestDataModel(n,t,e){return pe(this,null,function*(){e.props.push(...this.getModulePropertyDefinitions());const{dataModel:r,processedData:i}=yield n.request(this.id,t??[],e);return this.dataModel=r,this.processedData=i,this.dispatch("data-processed",{dataModel:r,processedData:i}),{dataModel:r,processedData:i}})}isProcessedDataAnimatable(){var n,t;const e=(t=(n=this.processedData)==null?void 0:n.reduced)==null?void 0:t.animationValidation;if(!e)return!0;const{orderedKeys:r,uniqueKeys:i}=e;return r&&i}checkProcessedDataAnimatable(){this.isProcessedDataAnimatable()||this.ctx.animationManager.skipCurrentBatch()}},_c=class extends tr{constructor(){super(...arguments),this.fill="rgba(255,255,255, 0.33)",this.stroke="rgba(0, 0, 0, 0.4)",this.strokeWidth=2}};R([F(Dt,{optional:!0})],_c.prototype,"fill",2);R([F(Wt,{optional:!0})],_c.prototype,"fillOpacity",2);R([F(Dt,{optional:!0})],_c.prototype,"stroke",2);R([F(Se,{optional:!0})],_c.prototype,"strokeWidth",2);R([F(Wt,{optional:!0})],_c.prototype,"strokeOpacity",2);R([F(mc,{optional:!0})],_c.prototype,"lineDash",2);R([F(Se,{optional:!0})],_c.prototype,"lineDashOffset",2);var yP=class extends tr{};R([F(Se,{optional:!0})],yP.prototype,"strokeWidth",2);R([F(Wt,{optional:!0})],yP.prototype,"dimOpacity",2);R([F(ze,{optional:!0})],yP.prototype,"enabled",2);var Zee=class extends tr{constructor(){super(...arguments),this.color="black"}};R([F(Dt,{optional:!0})],Zee.prototype,"color",2);var u0=class extends tr{constructor(){super(...arguments),this.item=new _c,this.series=new yP,this.text=new Zee}};R([F(Ge)],u0.prototype,"item",2);R([F(Ge)],u0.prototype,"series",2);R([F(Ge)],u0.prototype,"text",2);var Xs=class extends tr{constructor(){super(...arguments),this.visible=!0,this.showInLegend=!0,this.cursor="default",this.nodeClickRange="exact",this.highlightStyle=new u0}};R([F(xe,{optional:!0})],Xs.prototype,"id",2);R([F(ze)],Xs.prototype,"visible",2);R([F(ze)],Xs.prototype,"showInLegend",2);R([F(xe)],Xs.prototype,"cursor",2);R([F(tB)],Xs.prototype,"nodeClickRange",2);R([F(Ge)],Xs.prototype,"highlightStyle",2);var uWe={x:["xKey"],y:["yKey"]},cWe={x:["xName"],y:["yName"]},PB=class extends l0{constructor(n,t,e,r){super(n,t,e,r),this.xKey=r.properties.xKey,this.yKey=r.properties.yKey}},sp=class extends Xs{};R([F(xe,{optional:!0})],sp.prototype,"legendItemName",2);var lp=class extends qee{constructor(n){var t=n,{pathsPerSeries:e=1,hasMarkers:r=!1,hasHighlightedLabels:i=!1,pathsZIndexSubOrderOffset:o=[],directionKeys:a=uWe,directionNames:s=cWe,datumSelectionGarbageCollection:l=!0,markerSelectionGarbageCollection:u=!0,animationAlwaysUpdateSelections:c=!1,animationResetFns:d}=t,p=yn(t,["pathsPerSeries","hasMarkers","hasHighlightedLabels","pathsZIndexSubOrderOffset","directionKeys","directionNames","datumSelectionGarbageCollection","markerSelectionGarbageCollection","animationAlwaysUpdateSelections","animationResetFns"]);super(te({directionKeys:a,directionNames:s,useSeriesGroupLayer:!0,canHaveAxes:!0},p)),this._contextNodeData=[],this.NodeClickEvent=PB,this.highlightSelection=mr.select(this.highlightNode,()=>this.opts.hasMarkers?this.markerFactory():this.nodeFactory()),this.highlightLabelSelection=mr.select(this.highlightLabel,It),this.annotationSelections=new Set,this.subGroups=[],this.subGroupId=0,this.debug=Lr.create(),this.opts={pathsPerSeries:e,hasMarkers:r,hasHighlightedLabels:i,pathsZIndexSubOrderOffset:o,directionKeys:a,directionNames:s,animationResetFns:d,animationAlwaysUpdateSelections:c,datumSelectionGarbageCollection:l,markerSelectionGarbageCollection:u},this.animationState=new o0("empty",{empty:{update:{target:"ready",action:h=>this.animateEmptyUpdateReady(h)},reset:"empty",skip:"ready"},ready:{updateData:"waiting",clear:"clearing",highlight:h=>this.animateReadyHighlight(h),highlightMarkers:h=>this.animateReadyHighlightMarkers(h),resize:h=>this.animateReadyResize(h),reset:"empty",skip:"ready"},waiting:{update:{target:"ready",action:h=>this.animateWaitingUpdateReady(h)},reset:"empty",skip:"ready"},clearing:{update:{target:"empty",action:h=>this.animateClearingUpdateEmpty(h)},reset:"empty",skip:"ready"}},()=>this.checkProcessedDataAnimatable())}get contextNodeData(){return this._contextNodeData.slice()}resetAnimation(n){n==="initial"?this.animationState.transition("reset"):n==="ready"&&this.animationState.transition("skip")}addChartEventListeners(){this.destroyFns.push(this.ctx.chartEventManager.addListener("legend-item-click",n=>this.onLegendItemClick(n)),this.ctx.chartEventManager.addListener("legend-item-double-click",n=>this.onLegendItemDoubleClick(n)))}destroy(){super.destroy(),this._contextNodeData.splice(0,this._contextNodeData.length),this.subGroups.splice(0,this.subGroups.length)}update(n){return pe(this,arguments,function*({seriesRect:t}){var e,r;const{visible:i,_contextNodeData:o}=this,{series:a}=(r=(e=this.ctx.highlightManager)==null?void 0:e.getActiveHighlight())!=null?r:{},s=a?a===this:void 0,l=this.checkResize(t),u=yield this.updateHighlightSelection(s);yield this.updateSelections(i),yield this.updateNodes(u,s,i);const c=this.getAnimationData(t,o);l&&this.animationState.transition("resize",c),this.animationState.transition("update",c)})}updateSelections(n){return pe(this,null,function*(){const t=!this.opts.animationAlwaysUpdateSelections&&this.ctx.animationManager.isSkipped();if(!(!n&&t)&&!(!this.nodeDataRefresh&&!this.isPathOrSelectionDirty())){if(this.nodeDataRefresh){this.nodeDataRefresh=!1,this.debug("CartesianSeries.updateSelections() - calling createNodeData() for",this.id),this._contextNodeData=yield this.createNodeData();const e=this.isProcessedDataAnimatable();this._contextNodeData.forEach(o=>{var a;(a=o.animationValid)!=null||(o.animationValid=e)}),yield this.updateSeriesGroups();const{dataModel:r,processedData:i}=this;r!==void 0&&i!==void 0&&this.dispatch("data-update",{dataModel:r,processedData:i})}yield Promise.all(this.subGroups.map((e,r)=>this.updateSeriesGroupSelections(e,r)))}})}updateSeriesGroupSelections(n,t,e){return pe(this,null,function*(){const{datumSelection:r,labelSelection:i,markerSelection:o,paths:a}=n,s=this._contextNodeData[t],{nodeData:l,labelData:u,itemId:c}=s;yield this.updatePaths({seriesHighlighted:e,itemId:c,contextData:s,paths:a,seriesIdx:t}),n.datumSelection=yield this.updateDatumSelection({nodeData:l,datumSelection:r,seriesIdx:t}),n.labelSelection=yield this.updateLabelSelection({labelData:u,labelSelection:i,seriesIdx:t}),o&&(n.markerSelection=yield this.updateMarkerSelection({nodeData:l,markerSelection:o,seriesIdx:t}))})}markerFactory(){const n=op();return new n}updateSeriesGroups(){return pe(this,null,function*(){const{_contextNodeData:n,contentGroup:t,subGroups:e,opts:{pathsPerSeries:r,hasMarkers:i,datumSelectionGarbageCollection:o,markerSelectionGarbageCollection:a}}=this;if(n.length===e.length)return;n.length<e.length&&e.splice(n.length).forEach(({dataNodeGroup:l,markerGroup:u,labelGroup:c,paths:d})=>{t.removeChild(l),u&&t.removeChild(u),c&&t.removeChild(c);for(const p of d)t.removeChild(p)});const s=n.length;for(;s>e.length;){const u=this.subGroupId++,c=new Ie({name:`${this.id}-series-sub${u}-dataNodes`,layer:!1,zIndex:4,zIndexSubOrder:this.getGroupZIndexSubOrder("data",u)}),d=i?new Ie({name:`${this.id}-series-sub${this.subGroupId++}-markers`,layer:!1,zIndex:4,zIndexSubOrder:this.getGroupZIndexSubOrder("marker",u)}):void 0,p=new Ie({name:`${this.id}-series-sub${this.subGroupId++}-labels`,layer:!1,zIndex:7,zIndexSubOrder:this.getGroupZIndexSubOrder("labels",u)});t.appendChild(c),t.appendChild(p),d&&t.appendChild(d);const h=[];for(let f=0;f<r;f++)h[f]=new ha,h[f].zIndex=4,h[f].zIndexSubOrder=this.getGroupZIndexSubOrder("paths",f),t.appendChild(h[f]);e.push({paths:h,dataNodeGroup:c,markerGroup:d,labelGroup:p,labelSelection:mr.select(p,It),datumSelection:mr.select(c,()=>this.nodeFactory(),o),markerSelection:d?mr.select(d,()=>this.markerFactory(),a):void 0})}})}getGroupZIndexSubOrder(n,t=0){var e;const r=super.getGroupZIndexSubOrder(n,t);if(n==="paths"){const i=(e=this.opts.pathsZIndexSubOrderOffset[t])!=null?e:0,o=r[0];typeof o=="function"?r[0]=()=>+o()+i:r[0]=+o+i}return r}updateNodes(n,t,e){return pe(this,null,function*(){var r;const{highlightSelection:i,highlightLabelSelection:o,opts:{hasMarkers:a,hasHighlightedLabels:s}}=this,l=!this.ctx.animationManager.isSkipped(),u=this.visible&&((r=this._contextNodeData)==null?void 0:r.length)>0&&e;this.rootGroup.visible=l||u,this.contentGroup.visible=l||u,this.highlightGroup.visible=(l||u)&&!!t;const c=this.getOpacity();a?(yield this.updateMarkerNodes({markerSelection:i,isHighlight:!0,seriesIdx:-1}),this.animationState.transition("highlightMarkers",i)):(yield this.updateDatumNodes({datumSelection:i,isHighlight:!0,seriesIdx:-1}),this.animationState.transition("highlight",i)),s&&(yield this.updateLabelNodes({labelSelection:o,seriesIdx:-1})),yield Promise.all(this.subGroups.map((d,p)=>pe(this,null,function*(){const{dataNodeGroup:h,markerGroup:f,datumSelection:v,labelSelection:g,markerSelection:y,paths:m,labelGroup:C}=d,{itemId:S}=this.contextNodeData[p],w=u;h.opacity=c,h.visible=l||w,C.visible=w,f&&(f.opacity=c,f.zIndex=h.zIndex>=4?h.zIndex:h.zIndex+1,f.visible=w),C&&(C.opacity=c),yield this.updatePathNodes({seriesHighlighted:t,itemId:S,paths:m,seriesIdx:p,opacity:c,visible:w,animationEnabled:l}),h.visible&&(yield this.updateDatumNodes({datumSelection:v,highlightedItems:n,isHighlight:!1,seriesIdx:p}),yield this.updateLabelNodes({labelSelection:g,seriesIdx:p}),a&&y&&(yield this.updateMarkerNodes({markerSelection:y,isHighlight:!1,seriesIdx:p})))})))})}getHighlightLabelData(n,t){const e=n.filter(r=>r.datum===t.datum&&r.itemId===t.itemId);return e.length!==0?e:void 0}getHighlightData(n,t){return t?[t]:void 0}updateHighlightSelection(n){return pe(this,null,function*(){var t;const{highlightSelection:e,highlightLabelSelection:r,_contextNodeData:i}=this,o=(t=this.ctx.highlightManager)==null?void 0:t.getActiveHighlight(),a=n&&(o!=null&&o.datum)?o:void 0;let s,l;if(a!=null){const u=this.isLabelEnabled();for(const{labelData:c,nodeData:d}of i)if(l=this.getHighlightData(d,a),s=u?this.getHighlightLabelData(c,a):void 0,(!u||s!=null)&&l!=null)break}return this.highlightSelection=yield this.updateHighlightSelectionItem({items:l,highlightSelection:e}),this.highlightLabelSelection=yield this.updateHighlightSelectionLabel({items:s,highlightLabelSelection:r}),l})}pickNodeExactShape(n){var t;const e=super.pickNodeExactShape(n);if(e)return e;const{x:r,y:i}=n,{opts:{hasMarkers:o}}=this;for(const{dataNodeGroup:a,markerGroup:s}of this.subGroups){let l=a.pickNode(r,i);if(!l&&o&&(l=s==null?void 0:s.pickNode(r,i)),l)break}for(const a of this.moduleMap.modules){const{datum:s}=(t=a.pickNodeExact(n))!=null?t:{};if(s!==void 0)return{datum:s,distance:0}}}pickNodeClosestDatum(n){var t,e;const{x:r,y:i}=n,{axes:o,rootGroup:a,_contextNodeData:s}=this,l=o.x,u=o.y,c=a.transformPoint(r,i);let d=1/0,p;for(const h of s)for(const f of h.nodeData){const{point:{x:v=NaN,y:g=NaN}={}}=f;if(isNaN(v)||isNaN(g)||!((l==null?void 0:l.inRange(v))&&(u==null?void 0:u.inRange(g))))continue;const m=Math.max(pt(c.x-v,2)+pt(c.y-g,2),0);m<d&&(d=m,p=f)}for(const h of this.moduleMap.modules){const f=h.pickNodeNearest(n);if(f!==void 0&&f.distanceSquared<d){d=f.distanceSquared,p=f.datum;break}}if(p){const h=Math.max(Math.sqrt(d)-((e=(t=p.point)==null?void 0:t.size)!=null?e:0),0);return{datum:p,distance:h}}}pickNodeMainAxisFirst(n,t){var e,r;const{x:i,y:o}=n,{axes:a,rootGroup:s,_contextNodeData:l}=this,u=a.x,c=a.y,d=[u,c].filter(y=>y instanceof ac).map(y=>y.direction);if(t&&d.length===0)return;const[p="x"]=d,h=s.transformPoint(i,o),f=p==="x"?[h.x,h.y]:[h.y,h.x],v=[1/0,1/0];let g;for(const y of l)for(const m of y.nodeData){const{point:{x:C=NaN,y:S=NaN}={}}=m;if(isNaN(C)||isNaN(S)||!((u==null?void 0:u.inRange(C))&&(c==null?void 0:c.inRange(S))))continue;const _=p==="x"?[C,S]:[S,C];let x=!0;for(let b=0;b<_.length;b++){const O=Math.abs(_[b]-f[b]);if(O>v[b]){x=!1;break}O<v[b]&&(v[b]=O,v.fill(1/0,b+1,v.length))}x&&(g=m)}if(g){let y=Math.max(pt(v[0],2)+pt(v[1],2)-((r=(e=g.point)==null?void 0:e.size)!=null?r:0),0);for(const m of this.moduleMap.modules){const C=m.pickNodeMainAxisFirst(n);if(C!==void 0&&C.distanceSquared<y){g=C.datum,y=C.distanceSquared;break}}return{datum:g,distance:Math.sqrt(y)}}}onLegendItemClick(n){const{legendItemName:t}=this.properties,{enabled:e,itemId:r,series:i}=n,o=t!=null&&t===n.legendItemName;(i.id===this.id||o)&&this.toggleSeriesItem(r,e)}onLegendItemDoubleClick(n){const{enabled:t,itemId:e,series:r,numVisibleItems:i}=n,{legendItemName:o}=this.properties,a=o!=null&&o===n.legendItemName;r.id===this.id||a?this.toggleSeriesItem(e,!0):t&&i===1?this.toggleSeriesItem(e,!0):this.toggleSeriesItem(e,!1)}isPathOrSelectionDirty(){return!1}getLabelData(){return[]}shouldFlipXY(){return!1}getMinRect(){const[n]=this._contextNodeData;if(!(n!=null&&n.nodeData.length))return;const t=n.nodeData.map(({midPoint:r})=>{var i;return(i=r==null?void 0:r.x)!=null?i:0}).sort((r,i)=>r-i).reduce((r,i,o,a)=>o>0?Math.max(r,i-a[o-1]):r,0),e=n.nodeData.map(({midPoint:r})=>{var i;return(i=r==null?void 0:r.y)!=null?i:0}).sort((r,i)=>r-i).reduce((r,i,o,a)=>o>0?Math.max(r,i-a[o-1]):r,0);return new et(0,0,t,e)}updateHighlightSelectionItem(n){return pe(this,null,function*(){const{opts:{hasMarkers:t}}=this,{items:e,highlightSelection:r}=n,i=e??[];if(t){const o=r;return this.updateMarkerSelection({nodeData:i,markerSelection:o,seriesIdx:-1})}else return this.updateDatumSelection({nodeData:i,datumSelection:r,seriesIdx:-1})})}updateHighlightSelectionLabel(n){return pe(this,null,function*(){var t;return this.updateLabelSelection({labelData:(t=n.items)!=null?t:[],labelSelection:n.highlightLabelSelection,seriesIdx:-1})})}updateDatumSelection(n){return pe(this,null,function*(){return n.datumSelection})}updateDatumNodes(n){return pe(this,null,function*(){})}updateMarkerSelection(n){return pe(this,null,function*(){return n.markerSelection})}updateMarkerNodes(n){return pe(this,null,function*(){})}updatePaths(n){return pe(this,null,function*(){n.paths.forEach(t=>t.visible=!1)})}updatePathNodes(n){return pe(this,null,function*(){const{paths:t,opacity:e,visible:r}=n;for(const i of t)i.opacity=e,i.visible=r})}resetAllAnimation(n){var t,e;const{path:r,datum:i,label:o,marker:a}=(e=(t=this.opts)==null?void 0:t.animationResetFns)!=null?e:{};this.ctx.animationManager.stopByAnimationGroupId(this.id),r&&n.paths.forEach(s=>{gn(s,r)}),i&&gn(n.datumSelections,i),o&&gn(n.labelSelections,o),a&&gn(n.markerSelections,a),n.contextData.some(s=>s.animationValid===!1)&&this.ctx.animationManager.skipCurrentBatch()}animateEmptyUpdateReady(n){this.ctx.animationManager.skipCurrentBatch(),this.resetAllAnimation(n)}animateWaitingUpdateReady(n){this.ctx.animationManager.skipCurrentBatch(),this.resetAllAnimation(n)}animateReadyHighlight(n){var t,e;const{datum:r}=(e=(t=this.opts)==null?void 0:t.animationResetFns)!=null?e:{};r&&gn([n],r)}animateReadyHighlightMarkers(n){var t,e;const{marker:r}=(e=(t=this.opts)==null?void 0:t.animationResetFns)!=null?e:{};r&&gn([n],r)}animateReadyResize(n){this.resetAllAnimation(n)}animateClearingUpdateEmpty(n){this.ctx.animationManager.skipCurrentBatch(),this.resetAllAnimation(n)}animationTransitionClear(){this.animationState.transition("clear",this.getAnimationData())}getAnimationData(n,t){return{datumSelections:this.subGroups.map(({datumSelection:r})=>r),markerSelections:this.subGroups.filter(({markerSelection:r})=>r!==void 0).map(({markerSelection:r})=>r),labelSelections:this.subGroups.map(({labelSelection:r})=>r),annotationSelections:[...this.annotationSelections],contextData:this._contextNodeData,previousContextData:t,paths:this.subGroups.map(({paths:r})=>r),seriesRect:n}}calculateScaling(){const n={},t=e=>{const r=this.axes[e];if(r){if(r.scale instanceof lB){const{range:i,domain:o}=r.scale;n[e]={type:"log",convert:a=>r.scale.convert(a),domain:[o[0],o[1]],range:[i[0],i[1]]}}else if(r.scale instanceof Xt){const{range:i}=r.scale,o=r.scale.getDomain();n[e]={type:"continuous",domain:[o[0],o[1]],range:[i[0],i[1]]}}else if(r.scale){const{domain:i}=r.scale;n[e]={type:"category",domain:i,range:i.map(o=>r.scale.convert(o))}}}};return t("x"),t("y"),n}},dWe=["top","right","bottom","left"],AB=class Qee extends gP{constructor(t,e){super(t,e),this.paired=!0,this.firstSeriesTranslation=!0,this._lastCrossLineIds=void 0,this._lastAxisWidths={top:0,bottom:0,left:0,right:0},this._lastVisibility={crossLines:!0,series:!0}}destroySeries(t){super.destroySeries(t),this.firstSeriesTranslation=!0}performLayout(){return pe(this,null,function*(){const t=yield fc(Qee.prototype,this,"performLayout").call(this),{firstSeriesTranslation:e,seriesRoot:r}=this,{animationRect:i,seriesRect:o,visibility:a,clipSeries:s}=this.updateAxes(t);this.seriesRoot.visible=a.series,this.seriesRect=o,this.animationRect=i;const{x:l,y:u}=o;if(e)r.translationX=Math.floor(l),r.translationY=Math.floor(u),this.firstSeriesTranslation=!1;else{const{translationX:p,translationY:h}=r;iu(this.id,"seriesRect",this.animationManager,[this.seriesRoot],{translationX:p,translationY:h},{translationX:Math.floor(l),translationY:Math.floor(u)},{phase:"update"})}const c=o.clone().grow(this.seriesArea.padding);this.hoverRect=c,this.layoutService.dispatchLayoutComplete({type:"layout-complete",chart:{width:this.scene.width,height:this.scene.height},clipSeries:s,series:{rect:o,paddedRect:c,visible:a.series,shouldFlipXY:this.shouldFlipXY()},axes:this.axes.map(p=>te({id:p.id},p.getLayoutState()))});const d=Array.from(this.modules.values(),p=>{var h;return(h=p.performCartesianLayout)==null?void 0:h.call(p,{seriesRect:o})});return yield Promise.all(d),t})}updateAxes(t){var e;const r=this.axes.flatMap(y=>{var m;return(m=y.crossLines)!=null?m:[]}).map(y=>y.id),i=this._lastCrossLineIds!=null&&this._lastCrossLineIds.length===r.length&&this._lastCrossLineIds.every((y,m)=>r[m]===y);let o,a;i?(o=te({},this._lastAxisWidths),a=te({},this._lastVisibility)):(o={top:0,bottom:0,left:0,right:0},a={crossLines:!0,series:!0},this._lastCrossLineIds=r);const s=new Set(this.axes.map(y=>y.position));for(const y of Object.keys(o))s.has(y)||delete o[y];const l=(y,m)=>Object.keys(y).some(C=>o[C]==null)?!1:a.crossLines===m.crossLines&&a.series===m.series&&Object.entries(o).every(([C,S])=>{const w=y[C];return S!=null||w!=null?S===w:!0}),u=y=>_Q(y,m=>m&&Math.abs(m)===1/0?0:m!=null?Math.ceil(m):m);let c={},d={},p=!1,h=(e=this.seriesRect)==null?void 0:e.clone(),f=0,v={};do{Object.assign(o,c),Object.assign(a,d);const y=this.updateAxesPass(o,t.clone(),h);if(c=u(y.axisWidths),d=y.visibility,p=y.clipSeries,h=y.seriesRect,v=y.primaryTickCounts,f++>10){Oe.warn("unable to find stable axis layout.");break}}while(!l(c,d));this.axes.forEach(y=>{y.update(v[y.direction])});const g=5;return this.axes.forEach(y=>{if(y.setCrossLinesVisible(a.crossLines),!!h)switch(y.clipGrid(h.x,h.y,h.width+g,h.height+g),y.position){case"left":case"right":y.clipTickLines(t.x,h.y,t.width+g,h.height+g);break;case"top":case"bottom":y.clipTickLines(h.x,t.y,h.width+g,t.height+g);break}}),this._lastAxisWidths=o,this._lastVisibility=a,{seriesRect:h,animationRect:t,visibility:a,clipSeries:p}}updateAxesPass(t,e,r){const i={},o={},a={series:!0,crossLines:!0};let s=!1;const l={},u=this.applySeriesPadding(e),c=r?this.buildCrossLinePadding(t):{},d=this.buildAxisBound(u,t,c,a),p=this.buildSeriesRect(d,t);return this.axes.forEach(h=>{var f,v;const{position:g="left"}=h,{clipSeries:y,axisThickness:m,axisOffset:C}=this.calculateAxisDimensions({axis:h,seriesRect:p,paddedBounds:u,axisWidths:t,newAxisWidths:o,primaryTickCounts:l,clipSeries:s,addInterAxisPadding:((f=i[g])!=null?f:0)>0});i[g]=((v=i[g])!=null?v:0)+1,s=s||y,this.positionAxis({axis:h,axisBound:d,axisOffset:C,axisThickness:m,axisWidths:t,primaryTickCounts:l,seriesRect:p})}),{clipSeries:s,seriesRect:p,axisWidths:o,visibility:a,primaryTickCounts:l}}buildCrossLinePadding(t){var e;const r={};this.axes.forEach(i=>{i.crossLines&&i.crossLines.forEach(o=>{o.calculatePadding(r)})});for(const[i,o=0]of Object.entries(r))r[i]=Math.max(o-((e=t[i])!=null?e:0),0);return r}applySeriesPadding(t){const e=t.clone(),r=this.axes.slice().reverse();return dWe.forEach(i=>{const o=this.seriesArea.padding[i],a=r.find(s=>s.position===i);a?a.seriesAreaPadding=o:e.shrink(o,i)}),e}buildAxisBound(t,e,r,i){var o,a,s,l;const u=t.clone(),{top:c=0,right:d=0,bottom:p=0,left:h=0}=r,f=h+d,v=c+p,g=((o=e.left)!=null?o:0)+((a=e.right)!=null?a:0)+f,y=((s=e.top)!=null?s:0)+((l=e.bottom)!=null?l:0)+v;return u.width<=g||u.height<=y?(i.crossLines=!1,i.series=!1,u):(u.x+=h,u.y+=c,u.width-=f,u.height-=v,u)}buildSeriesRect(t,e){const r=t.clone(),{top:i,bottom:o,left:a,right:s}=e;return r.x+=a??0,r.y+=i??0,r.width-=(a??0)+(s??0),r.height-=(i??0)+(o??0),r.width=Math.max(0,r.width),r.height=Math.max(0,r.height),r}clampToOutsideSeriesRect(t,e,r,i){const{x:o,y:a,width:s,height:l}=t,c=[o,a,o+s,a+l][(r==="x"?0:1)+(i===1?0:2)];return(i===1?Math.min:Math.max)(e,c)}calculateAxisDimensions(t){var e,r,i,o,a;const{axis:s,seriesRect:l,paddedBounds:u,axisWidths:c,newAxisWidths:d,primaryTickCounts:p,addInterAxisPadding:h}=t;let{clipSeries:f}=t;const{position:v="left",direction:g}=s,y=A=>A instanceof ac||A instanceof Hd?[0,l.height]:[l.height,0],m=(e=d[v])!=null?e:0;switch(v){case"top":case"bottom":s.range=[0,l.width],s.gridLength=l.height;break;case"right":case"left":s.range=y(s),s.gridLength=l.width;break}const{min:C,max:S}=this.zoomManager.getAxisZoom(s.id);s.visibleRange=[C,S],f||(f=s.dataDomain.clipped||s.visibleRange[0]>0||s.visibleRange[1]<1);let w=s.nice?p[g]:void 0;const _=g==="y",x=.3;s.maxThickness=s.thickness||(_?u.width:u.height)*x;const b=s.calculateLayout(w);w=b.primaryTickCount,(r=p[g])!=null||(p[g]=w);let O;if(s.thickness!=null&&s.thickness>0)O=s.thickness;else{const{bbox:A}=b;O=_?A.width:A.height}return h&&(O+=15),O=Math.ceil(O),d[v]=((i=d[v])!=null?i:0)+O,s.gridPadding=((o=c[v])!=null?o:0)-((a=d[v])!=null?a:0),{clipSeries:f,axisThickness:O,axisOffset:m,primaryTickCount:w}}positionAxis(t){var e,r,i,o;const{axis:a,axisBound:s,axisWidths:l,seriesRect:u,axisOffset:c,axisThickness:d}=t,{position:p}=a;switch(p){case"top":a.translation.x=s.x+((e=l.left)!=null?e:0),a.translation.y=this.clampToOutsideSeriesRect(u,s.y+1+c+d,"y",1);break;case"bottom":a.translation.x=s.x+((r=l.left)!=null?r:0),a.translation.y=this.clampToOutsideSeriesRect(u,s.y+s.height+1-d-c,"y",-1);break;case"left":a.translation.y=s.y+((i=l.top)!=null?i:0),a.translation.x=this.clampToOutsideSeriesRect(u,s.x+c+d,"x",1);break;case"right":a.translation.y=s.y+((o=l.top)!=null?o:0),a.translation.x=this.clampToOutsideSeriesRect(u,s.x+s.width-d-c,"x",-1);break}a.updatePosition({rotation:pi(a.rotation),sideFlag:a.label.getSideFlag()})}shouldFlipXY(){return!this.series.some(t=>!(t instanceof lp&&t.shouldFlipXY()))}};AB.className="CartesianChart";AB.type="cartesian";var pWe=AB,jC=class Jee{static isInstance(t){var e;return t instanceof Jee||((e=t.constructor)==null?void 0:e.name)==="AgChartInstanceProxy"&&t.chart!=null?!0:t.chart!=null&&this.validateImplementation(t)}static validateImplementation(t){var e;const r=["getOptions","destroy"],i=Object.keys((e=Object.getPrototypeOf(t))!=null?e:{});return r.every(o=>i.includes(o))}constructor(t){this.chart=t}getOptions(){return ui(this.chart.getOptions())}resetAnimations(){this.chart.resetAnimations()}skipAnimations(){this.chart.skipAnimations()}destroy(){this.chart.destroy()}};jC.chartInstances=new WeakMap;R([En({oldValue(n){jC.chartInstances.delete(n)},newValue(n){jC.chartInstances.set(n,this)}})],jC.prototype,"chart",2);var wv=jC,zl=class extends Xt{constructor(){super([0,1],[0,1]),this.type="linear"}toDomain(n){return n}ticks(){var n;const t=(n=this.tickCount)!=null?n:Xt.defaultTickCount;if(!this.domain||this.domain.length<2||t<1||this.domain.some(o=>!isFinite(o)))return[];this.refresh();const[e,r]=this.getDomain(),{interval:i}=this;if(i){const o=Math.abs(i);if(!this.isDenseInterval({start:e,stop:r,interval:o}))return XS(e,r,o)}return dP(e,r,t,this.minTickCount,this.maxTickCount)}update(){!this.domain||this.domain.length<2||this.nice&&this.updateNiceDomain()}getTickStep(n,t){var e,r;const i=(e=this.tickCount)!=null?e:Xt.defaultTickCount;return(r=this.interval)!=null?r:Og(n,t,i,this.minTickCount,this.maxTickCount)}updateNiceDomain(){var n;const t=(n=this.tickCount)!=null?n:Xt.defaultTickCount;if(t<1){this.niceDomain=[...this.domain];return}let[e,r]=this.domain;if(t===1)[e,r]=N$e(e,r);else{const i=e>r?Math.ceil:Math.floor,o=r<e?Math.floor:Math.ceil,a=4;for(let s=0;s<a;s++){const l=e,u=r,c=this.getTickStep(e,r),[d,p]=this.domain;if(c>=1)e=i(d/c)*c,r=o(p/c)*c;else{const h=1/c;e=i(d*h)/h,r=o(p*h)/h}if(e===l&&r===u)break}}this.niceDomain=[e,r]}tickFormat({ticks:n,specifier:t}){return YJ(n??this.ticks(),t)}};function hWe(n,t,e){let[r,i]=oc(n);r=fWe(Math.floor(r),i,t);const o=gWe(r,i,t),a=t-1;i=r+a*o;const s=e?[i,r]:[r,i],l=vWe(r,o,t);return[s,l]}function fWe(n,t,e){const r=Math.abs(t-n)/(e-1),i=Math.floor(Math.log10(r)),o=Math.pow(10,i);return Math.floor(n/o)*o}function vWe(n,t,e){const r=Math.floor(Math.log10(t)),i=t>0&&t<1?Math.abs(r):0,o=Math.pow(10,i),a=YS(i);for(let s=0;s<e;s++){const l=n+t*s;a[s]=Math.round(l*o)/o}return a}function gWe(n,t,e){const r=e-1,i=(t-n)/r;return yWe(i)}function yWe(n){const t=Math.floor(Math.log10(n)),e=Math.pow(10,t),r=n/e*10;return r>0&&r<=1?e/10:r>1&&r<=2?2*e/10:r>1&&r<=5?5*e/10:r>5&&r<=10?10*e/10:r>10&&r<=20?20*e/10:r>20&&r<=40?40*e/10:r>40&&r<=50?50*e/10:r>50&&r<=100?100*e/10:r}var ete=class extends Ys{constructor(){super(...arguments),this.maxSpacing=NaN}};R([F(rB),Sc(NaN)],ete.prototype,"maxSpacing",2);var Yh=class extends s0{constructor(n,t=new zl){super(n,t),this.min=NaN,this.max=NaN}normaliseDataDomain(n){const{min:t,max:e}=this,{extent:r,clipped:i}=Qw(n,t,e);return{domain:r,clipped:i}}formatDatum(n){return typeof n=="number"?n.toFixed(2):(Oe.warnOnce("data contains Date objects which are being plotted against a number axis, please only use a number axis for numbers."),String(n))}createTick(){return new ete}updateSecondaryAxisTicks(n){if(this.dataDomain==null)throw new Error("AG Charts - dataDomain not calculated, cannot perform tick calculation.");if(this.dataDomain.domain.length===0)return[];const[t,e]=hWe(this.dataDomain.domain,n??0,this.reverse);return this.scale.nice=!1,this.scale.domain=t,this.scale.update(),e}};Yh.className="NumberAxis";Yh.type="number";R([F(ou(qg,t0("max"))),Sc(NaN)],Yh.prototype,"min",2);R([F(ou(qg,r0("min"))),Sc(NaN)],Yh.prototype,"max",2);var tte=Qt(n=>Os(n)&&n!==0,"a non-zero number"),$d=class extends Yh{constructor(n){super(n,new lB),this.min=NaN,this.max=NaN}normaliseDataDomain(n){const{min:t,max:e}=this,{extent:r,clipped:i}=Qw(n,t,e),o=r[0]>r[1],a=r[0]<0&&r[1]>0,s=r[0]===0&&r[1]===0;return(o||a||s)&&(n=[],a?Oe.warn("the data domain crosses zero, the chart data cannot be rendered. See log axis documentation for more information."):s&&Oe.warn("the data domain has 0 extent, no data is rendered.")),r[0]===0&&(r[0]=1),r[1]===0&&(r[1]=-1),{domain:r,clipped:i}}set base(n){this.scale.base=n}get base(){return this.scale.base}};$d.className="LogAxis";$d.type="log";R([F(ou(qg,tte,t0("max"))),Sc(NaN)],$d.prototype,"min",2);R([F(ou(qg,tte,r0("min"))),Sc(NaN)],$d.prototype,"max",2);var rte=class extends Ys{constructor(){super(...arguments),this.maxSpacing=NaN}};R([F(rB),Sc(NaN)],rte.prototype,"maxSpacing",2);var Xh=class extends s0{constructor(n){super(n,new cB),this.datumFormat="%m/%d/%y, %H:%M:%S",this.min=void 0,this.max=void 0;const{scale:t}=this;this.refreshScale(),this.datumFormatter=t.tickFormat({specifier:this.datumFormat})}normaliseDataDomain(n){var t;let{min:e,max:r}=this,i=!1;return typeof e=="number"&&(e=new Date(e)),typeof r=="number"&&(r=new Date(r)),n.length>2&&(n=((t=ru(n))!=null?t:[0,1e3]).map(o=>new Date(o))),e instanceof Date&&(i||(i=e>n[0]),n=[e,n[1]]),r instanceof Date&&(i||(i=r<n[1]),n=[n[0],r]),n[0]>n[1]&&(n=[]),{domain:n,clipped:i}}createTick(){return new rte}onLabelFormatChange(n,t){t?super.onLabelFormatChange(n,t):this.labelFormatter=this.scale.tickFormat({ticks:n})}formatDatum(n){var t;return(t=this.moduleCtx.callbackCache.call(this.datumFormatter,n))!=null?t:String(n)}calculatePadding(n,t,e){return e?[1,0]:[0,1]}};Xh.className="TimeAxis";Xh.type="time";R([F(ou(QV,t0("max")),{optional:!0})],Xh.prototype,"min",2);R([F(ou(QV,r0("min")),{optional:!0})],Xh.prototype,"max",2);var Rz=1e-6,dx=(n,t,e,r,i)=>{let o=!1,a=!1,s=r-Math.sqrt(Math.max(pt(i,2)-pt(e,2),0)),l=0,u=0,c=e-Math.sqrt(Math.max(pt(i,2)-pt(r,2),0));return s>n?(o=!0,s=n,l=e-Math.sqrt(Math.max(pt(i,2)-pt(r-n,2)))):s<Rz&&(s=0),c>t?(a=!0,u=r-Math.sqrt(Math.max(pt(i,2)-pt(e-t,2))),c=t):c<Rz&&(c=0),{leading0:s,leading1:l,trailing0:u,trailing1:c,leadingClipped:o,trailingClipped:a}},px=(n,{x0:t,y0:e,x1:r,y1:i,cx:o,cy:a},s,l)=>{if(l&&n.moveTo(t,e),t!==r||e!==i){const u=Math.atan2(e-a,t-o),c=Math.atan2(i-a,r-o);n.arc(o,a,s,u,c)}else n.lineTo(t,e)},vM=(n,t,e,r,i,o,a)=>{let{topLeft:s,topRight:l,bottomRight:u,bottomLeft:c}=o;const d=Math.max(s+c,l+u),p=Math.max(s+l,c+u);if(d<=0&&p<=0){n.rect(t,e,r,i);return}else if(a==null&&s===l&&s===u&&s===c){n.roundRect(t,e,r,i,s);return}if(r<0&&(t+=r,r=Math.abs(r)),i<0&&(e+=i,i=Math.abs(i)),a!=null){const x=Math.max(t,a.x),b=Math.min(t+r,a.x+a.width),O=Math.max(e,a.y),T=Math.min(e+i,a.y+a.height);t=x,e=O,r=b-x,i=T-O}if(r<=0||i<=0)return;a??(a=new et(t,e,r,i));const h=Math.max(d/a.height,p/a.width,1);h>1&&(s/=h,l/=h,u/=h,c/=h);let f=!0,v=!0,g=!0,y=!0,m,C,S,w;if(f){const x=dx(i,r,Math.max(a.x+s-t,0),Math.max(a.y+s-e,0),s);x.leadingClipped&&(y=!1),x.trailingClipped&&(v=!1);const b=Math.max(t+x.leading1,t),O=Math.max(e+x.leading0,e),T=Math.max(t+x.trailing1,t),A=Math.max(e+x.trailing0,e),N=a.x+s,M=a.y+s;m={x0:b,y0:O,x1:T,y1:A,cx:N,cy:M}}if(v){const x=dx(r,i,Math.max(a.y+l-e,0),Math.max(t+r-(a.x+a.width-l),0),l);x.leadingClipped&&(f=!1),x.trailingClipped&&(g=!1);const b=Math.min(t+r-x.leading0,t+r),O=Math.max(e+x.leading1,e),T=Math.min(t+r-x.trailing0,t+r),A=Math.max(e+x.trailing1,e),N=a.x+a.width-l,M=a.y+l;C={x0:b,y0:O,x1:T,y1:A,cx:N,cy:M}}if(g){const x=dx(i,r,Math.max(t+r-(a.x+a.width-u),0),Math.max(e+i-(a.y+a.height-u),0),u);x.leadingClipped&&(v=!1),x.trailingClipped&&(y=!1);const b=Math.min(t+r-x.leading1,t+r),O=Math.min(e+i-x.leading0,e+i),T=Math.min(t+r-x.trailing1,t+r),A=Math.min(e+i-x.trailing0,e+i),N=a.x+a.width-u,M=a.y+a.height-u;S={x0:b,y0:O,x1:T,y1:A,cx:N,cy:M}}if(y){const x=dx(r,i,Math.max(e+i-(a.y+a.height-c),0),Math.max(a.x+c-t,0),c);x.leadingClipped&&(g=!1),x.trailingClipped&&(f=!1);const b=Math.max(t+x.leading0,t),O=Math.min(e+i-x.leading1,e+i),T=Math.max(t+x.trailing0,t),A=Math.min(e+i-x.trailing1,e+i),N=a.x+c,M=a.y+a.height-c;w={x0:b,y0:O,x1:T,y1:A,cx:N,cy:M}}let _=!1;f&&m!=null&&(px(n,m,s,!_),_||(_=!0)),v&&C!=null&&(px(n,C,l,!_),_||(_=!0)),g&&S!=null&&(px(n,S,u,!_),_||(_=!0)),y&&w!=null&&(px(n,w,c,!_),_||(_=!0)),n.closePath()},vi=class extends ha{constructor(){super(...arguments),this.borderPath=new Rg,this.x=0,this.y=0,this.width=10,this.height=10,this.topLeftCornerRadius=0,this.topRightCornerRadius=0,this.bottomRightCornerRadius=0,this.bottomLeftCornerRadius=0,this.cornerRadiusBbox=void 0,this.crisp=!1,this.lastUpdatePathStrokeWidth=Za.defaultStyles.strokeWidth,this.effectiveStrokeWidth=Za.defaultStyles.strokeWidth,this.microPixelEffectOpacity=1}set cornerRadius(n){this.topLeftCornerRadius=n,this.topRightCornerRadius=n,this.bottomRightCornerRadius=n,this.bottomLeftCornerRadius=n}isDirtyPath(){return this.lastUpdatePathStrokeWidth!==this.strokeWidth?!0:!!(this.path.isDirty()||this.borderPath.isDirty())}updatePath(){var n,t,e;const{path:r,borderPath:i,crisp:o,topLeftCornerRadius:a,topRightCornerRadius:s,bottomRightCornerRadius:l,bottomLeftCornerRadius:u}=this;let{x:c,y:d,width:p,height:h,strokeWidth:f,cornerRadiusBbox:v}=this;const y=1/((t=(n=this.layerManager)==null?void 0:n.canvas.pixelRatio)!=null?t:1);let m=1;if(r.clear({trackChanges:!0}),i.clear({trackChanges:!0}),o&&(p<=y&&(m*=p/y),h<=y&&(m*=h/y),p=this.align(c,p),h=this.align(d,h),c=this.align(c),d=this.align(d),v=v!=null?new et(this.align(v.x),this.align(v.y),this.align(v.x,v.width),this.align(v.y,v.height)):void 0),f)if(p<y){const C=c+y/2;i.moveTo(C,d),i.lineTo(C,d+h),f=y,this.borderClipPath=void 0}else if(h<y){const C=d+y/2;i.moveTo(c,C),i.lineTo(c+p,C),f=y,this.borderClipPath=void 0}else if(f<p&&f<h){const C=f/2;c+=C,d+=C,p-=f,h-=f;const S=v==null?void 0:v.clone().shrink(C),w={topLeft:a>0?a-f:0,topRight:s>0?s-f:0,bottomRight:l>0?l-f:0,bottomLeft:u>0?u-f:0};this.borderClipPath=void 0,vM(r,c,d,p,h,w,S),vM(i,c,d,p,h,w,S)}else this.borderClipPath=(e=this.borderClipPath)!=null?e:new Rg,this.borderClipPath.clear({trackChanges:!0}),this.borderClipPath.rect(c,d,p,h),i.rect(c,d,p,h);else{const C={topLeft:a,topRight:s,bottomRight:l,bottomLeft:u};this.borderClipPath=void 0,vM(r,c,d,p,h,C,v)}this.effectiveStrokeWidth=f,this.lastUpdatePathStrokeWidth=f,this.microPixelEffectOpacity=m}computeBBox(){const{x:n,y:t,width:e,height:r}=this;return new et(n,t,e,r)}isPointInPath(n,t){const e=this.transformPoint(n,t);return this.computeBBox().containsPoint(e.x,e.y)}applyFillAlpha(n){const{fillOpacity:t,microPixelEffectOpacity:e,opacity:r}=this,{globalAlpha:i}=n;n.globalAlpha=i*r*t*e}renderStroke(n){const{stroke:t,effectiveStrokeWidth:e,borderPath:r,borderClipPath:i,opacity:o,microPixelEffectOpacity:a}=this;if(!!t&&!!e){const{strokeOpacity:l,lineDash:u,lineDashOffset:c,lineCap:d,lineJoin:p}=this;i&&(i.draw(n),n.clip()),r.draw(n);const{globalAlpha:h}=n;n.strokeStyle=t,n.globalAlpha=h*o*l*a,n.lineWidth=e,u&&n.setLineDash(u),c&&(n.lineDashOffset=c),d&&(n.lineCap=d),p&&(n.lineJoin=p),n.stroke(),n.globalAlpha=h}}};vi.className="Rect";R([ct()],vi.prototype,"x",2);R([ct()],vi.prototype,"y",2);R([ct()],vi.prototype,"width",2);R([ct()],vi.prototype,"height",2);R([ct()],vi.prototype,"topLeftCornerRadius",2);R([ct()],vi.prototype,"topRightCornerRadius",2);R([ct()],vi.prototype,"bottomRightCornerRadius",2);R([ct()],vi.prototype,"bottomLeftCornerRadius",2);R([ct()],vi.prototype,"cornerRadiusBbox",2);R([ct()],vi.prototype,"crisp",2);var c0=class extends FV{constructor(n){var t;super(),this.node=new Ie({name:"background",zIndex:0}),this.rectNode=new vi,this.visible=!0,this.fill="white",this.image=void 0,this.node.appendChild(this.rectNode),(t=n.scene.root)==null||t.appendChild(this.node),this.destroyFns.push(()=>{var e;return(e=n.scene.root)==null?void 0:e.removeChild(this.node)},n.layoutService.addListener("layout-complete",e=>this.onLayoutComplete(e)))}onLayoutComplete(n){const{width:t,height:e}=n.chart;this.rectNode.width=t,this.rectNode.height=e}};R([F(ze),ar("node","visible")],c0.prototype,"visible",2);R([F(Dt,{optional:!0}),ar("rectNode","fill")],c0.prototype,"fill",2);R([F(Ge,{optional:!0})],c0.prototype,"image",2);var nte={type:"root",optionsKey:"background",packageType:"community",chartTypes:["cartesian","polar","hierarchy"],instanceConstructor:c0},Is=class extends ha{constructor(){super(...arguments),this._fill="#f2f2f2",this._stroke="#999999",this._strokeWidth=1,this._lineCap="square",this._centerX=0,this._centerY=0,this._width=8,this._gripLineGap=2,this._gripLineLength=8,this._height=16}set centerX(n){this._centerX!==n&&(this._centerX=n,this.dirtyPath=!0)}get centerX(){return this._centerX}set centerY(n){this._centerY!==n&&(this._centerY=n,this.dirtyPath=!0)}get centerY(){return this._centerY}set width(n){this._width!==n&&(this._width=n,this.dirtyPath=!0)}get width(){return this._width}set gripLineGap(n){this._gripLineGap!==n&&(this._gripLineGap=n,this.dirtyPath=!0)}get gripLineGap(){return this._gripLineGap}set gripLineLength(n){this._gripLineLength!==n&&(this._gripLineLength=n,this.dirtyPath=!0)}get gripLineLength(){return this._gripLineLength}set height(n){this._height!==n&&(this._height=n,this.dirtyPath=!0)}get height(){return this._height}computeBBox(){const{centerX:n,centerY:t,width:e,height:r}=this,i=n-e/2,o=t-r/2;return new et(i,o,e,r)}isPointInPath(n,t){const e=this.transformPoint(n,t);return this.computeBBox().containsPoint(e.x,e.y)}updatePath(){const{path:n,centerX:t,centerY:e,width:r,height:i}=this;n.clear();const o=t-r/2,a=e-i/2,s=this.align(o),l=this.align(a),u=s+this.align(o,r),c=l+this.align(a,i);n.moveTo(s,l),n.lineTo(u,l),n.lineTo(u,c),n.lineTo(s,c),n.closePath();const d=this.gripLineGap/2,p=this.gripLineLength/2;n.moveTo(this.align(t-d),this.align(e-p)),n.lineTo(this.align(t-d),this.align(e+p)),n.moveTo(this.align(t+d),this.align(e-p)),n.lineTo(this.align(t+d),this.align(e+p))}};Is.className="RangeHandle";R([F(Dt)],Is.prototype,"_fill",2);R([F(Dt)],Is.prototype,"_stroke",2);R([F(Se)],Is.prototype,"_strokeWidth",2);R([F(xJ)],Is.prototype,"_lineCap",2);R([F(Se)],Is.prototype,"_width",2);R([F(Se)],Is.prototype,"_gripLineGap",2);R([F(Se)],Is.prototype,"_gripLineLength",2);R([F(Se)],Is.prototype,"_height",2);function mP(n,t){n!==t&&(this.dirtyPath=!0)}var up=class extends ha{constructor(){super(...arguments),this.x=0,this.y=0,this.width=200,this.height=30,this.minRange=.001,this._min=0,this._max=1}set min(n){var t;n=Lt(0,n,this.max-this.minRange),this._min!==n&&!isNaN(n)&&(this._min=n,this.dirtyPath=!0,(t=this.onRangeChange)==null||t.call(this))}get min(){return this._min}set max(n){var t;n=Lt(this.min+this.minRange,n,1),this._max!==n&&!isNaN(n)&&(this._max=n,this.dirtyPath=!0,(t=this.onRangeChange)==null||t.call(this))}get max(){return this._max}computeBBox(){const{x:n,y:t,width:e,height:r}=this;return new et(n,t,e,r)}computeVisibleRangeBBox(){const{x:n,y:t,width:e,height:r,min:i,max:o}=this,a=n+e*i,s=n+e*o;return new et(a,t,s-a,r)}updatePath(){const{path:n,x:t,y:e,width:r,height:i,min:o,max:a}=this;n.clear();const s=this.align(t),l=this.align(e),u=s+this.align(t,r),c=l+this.align(e,i);n.moveTo(s,l),n.lineTo(u,l),n.lineTo(u,c),n.lineTo(s,c),n.lineTo(s,l);const d=this.align(t+r*o),p=this.align(t+r*a);n.moveTo(d,l),n.lineTo(d,c),n.lineTo(p,c),n.lineTo(p,l),n.lineTo(d,l)}};up.className="RangeMask";R([En({changeValue:mP}),F(Se)],up.prototype,"x",2);R([En({changeValue:mP}),F(Se)],up.prototype,"y",2);R([En({changeValue:mP}),F(Se)],up.prototype,"width",2);R([En({changeValue:mP}),F(Se)],up.prototype,"height",2);R([F(nr)],up.prototype,"_min",2);R([F(nr)],up.prototype,"_max",2);var d0=class ite extends Ie{constructor(){super({name:"rangeSelectorGroup",layer:!0}),this.minHandle=new Is,this.maxHandle=new Is,this.background=(()=>{const t=new Ie({name:"navigator-background"});return t.zIndex=1,this.appendChild(t),t})(),this.mask=(()=>{const{x:t,y:e,width:r,height:i,min:o,max:a}=ite.defaults,s=new up;s.x=t,s.y=e,s.width=r,s.height=i,s.min=o,s.max=a,s.zIndex=2;const{minHandle:l,maxHandle:u}=this;return l.centerX=t,u.centerX=t+r,l.centerY=u.centerY=e+i/2,l.zIndex=4,u.zIndex=3,this.append([s,l,u]),s.onRangeChange=()=>{var c;this.updateHandles(),(c=this.onRangeChange)==null||c.call(this)},s})(),this.isContainerNode=!0}layout(t,e,r,i){this.mask.x=t,this.mask.y=e,this.mask.width=r,this.mask.height=i,this.updateHandles(),this.background.translationX=t,this.background.translationY=e}updateHandles(){const{x:t,y:e,width:r,height:i}=this.mask,{minHandle:o,maxHandle:a,min:s,max:l}=this;o.centerX=t+r*s,a.centerX=t+r*l,o.centerY=a.centerY=e+i/2,s+(l-s)/2<.5?(o.zIndex=3,a.zIndex=4):(o.zIndex=4,a.zIndex=3)}computeBBox(){return this.mask.computeBBox()}computeVisibleRangeBBox(){return this.mask.computeVisibleRangeBBox()}};d0.className="Range";d0.defaults={x:0,y:0,width:200,height:30,min:0,max:1};R([np("mask.min")],d0.prototype,"min",2);R([np("mask.max")],d0.prototype,"max",2);var mWe=d0,qs=class extends FV{constructor(n){var t;super(),this.ctx=n,this.rs=new mWe,this.miniChart=void 0,this.minHandleDragging=!1,this.maxHandleDragging=!1,this.panHandleOffset=NaN,this.enabled=!1,this.height=30,this.margin=10,this.visible=!0,this.x=0,this.y=0,this.width=0,this.rs.onRangeChange=D2e(()=>this.onRangeChange()),(t=n.scene.root)==null||t.appendChild(this.rs);const e=13;this.destroyFns.push(n.interactionManager.addListener("drag-start",r=>this.onDragStart(r),e),n.interactionManager.addListener("drag",r=>this.onDrag(r),e),n.interactionManager.addListener("hover",r=>this.onDrag(r),e),n.interactionManager.addListener("drag-end",()=>this.onDragStop(),e),n.zoomManager.addListener("zoom-change",()=>this.onZoomChange()),()=>{var r;return(r=n.scene.root)==null?void 0:r.removeChild(this.rs)},()=>delete this.rs.onRangeChange),this.updateGroupVisibility()}updateGroupVisibility(){const n=!!(this.enabled&&this.visible);n!==this.rs.visible&&(this.rs.visible=n,n&&this.onRangeChange())}performLayout(n){return pe(this,arguments,function*({shrinkRect:t}){if(this.enabled){const e=this.height+this.margin;t.shrink(e,"bottom"),this.y=t.y+t.height+this.margin}else this.y=0;return{shrinkRect:t}})}performCartesianLayout(n){return pe(this,null,function*(){const{x:t,width:e}=n.seriesRect,r=!0;if(this.enabled&&r){const{y:i,height:o}=this;this.rs.layout(t,i,e,o)}this.visible=r,this.x=t,this.width=e})}onRangeChange(){var n,t;const{min:e,max:r}=this.rs,i=this.ctx.zoomManager.getZoom();(((n=i==null?void 0:i.x)==null?void 0:n.min)!==e||((t=i==null?void 0:i.x)==null?void 0:t.max)!==r)&&this.ctx.zoomManager.updateZoom({x:{min:e,max:r},y:i==null?void 0:i.y})}onZoomChange(){const n=this.ctx.zoomManager.getZoom();n&&n.x&&(this.min=n.x.min,this.max=n.x.max)}onDragStart(n){if(!this.enabled)return;const{offsetX:t,offsetY:e}=n,{rs:r}=this,{minHandle:i,maxHandle:o,min:a}=r,{x:s,width:l}=this,u=r.computeVisibleRangeBBox();this.minHandleDragging||this.maxHandleDragging||(i.zIndex<o.zIndex?o.containsPoint(t,e)?this.maxHandleDragging=!0:i.containsPoint(t,e)&&(this.minHandleDragging=!0):i.containsPoint(t,e)?this.minHandleDragging=!0:o.containsPoint(t,e)&&(this.maxHandleDragging=!0),!this.minHandleDragging&&!this.maxHandleDragging&&u.containsPoint(t,e)&&(this.panHandleOffset=(t-s)/l-a))}onDrag(n){if(!this.enabled)return;const{rs:t,panHandleOffset:e}=this,{minHandle:r,maxHandle:i}=t,{x:o,y:a,width:s,height:l}=this,{offsetX:u,offsetY:c}=n,d=o+s*t.min,p=o+s*t.max,h=new et(d,a,p-d,l),f=()=>Lt(0,(u-o)/s,1);if(r.containsPoint(u,c)||i.containsPoint(u,c)?this.ctx.cursorManager.updateCursor("navigator","ew-resize"):h.containsPoint(u,c)?this.ctx.cursorManager.updateCursor("navigator","grab"):this.ctx.cursorManager.updateCursor("navigator"),this.minHandleDragging)t.min=f();else if(this.maxHandleDragging)t.max=f();else if(!isNaN(e)){const v=t.max-t.min,g=Math.min(f()-e,1-v);g<=t.min?(t.min=g,t.max=t.min+v):(t.max=g+v,t.min=t.max-v)}}onDragStop(){this.stopHandleDragging()}stopHandleDragging(){this.minHandleDragging=this.maxHandleDragging=!1,this.panHandleOffset=NaN}};R([F(Ge,{optional:!0})],qs.prototype,"miniChart",2);R([F(ze),Zg(n=>n.updateGroupVisibility())],qs.prototype,"enabled",2);R([np("rs.mask")],qs.prototype,"mask",2);R([np("rs.minHandle")],qs.prototype,"minHandle",2);R([np("rs.maxHandle")],qs.prototype,"maxHandle",2);R([np("rs.min")],qs.prototype,"min",2);R([np("rs.max")],qs.prototype,"max",2);R([F(Se)],qs.prototype,"margin",2);R([F(ze),Zg(n=>n.updateGroupVisibility())],qs.prototype,"visible",2);var ote={type:"root",optionsKey:"navigator",packageType:"community",chartTypes:["cartesian"],instanceConstructor:qs,themeTemplate:{navigator:{enabled:!1,height:30,mask:{fill:"#999999",stroke:"#999999",strokeWidth:1,fillOpacity:.2},minHandle:{fill:"#f2f2f2",stroke:"#999999",strokeWidth:1,width:8,height:16,gripLineGap:2,gripLineLength:8},maxHandle:{fill:"#f2f2f2",stroke:"#999999",strokeWidth:1,width:8,height:16,gripLineGap:2,gripLineLength:8}}}},DB=({takeColors:n})=>{const{fills:[t],strokes:[e]}=n(1);return{fill:t,stroke:e}},p0=n=>{const{fill:t,stroke:e}=DB(n);return{marker:{fill:t,stroke:e}}};function ate(n,t,e,r,i){const{addPhaseFn:o,updatePhaseFn:a,removePhaseFn:s}=i,l=(u,c,d)=>{e.animate({id:`${n}_${t}_${c.id}_${u}`,groupId:n,from:0,to:1,ease:WS,onUpdate(p,h){h&&u!=="removed"||(c.path.clear({trackChanges:!0}),d(p,c),c.checkPathDirty())},onStop(){u==="added"&&(c.path.clear({trackChanges:!0}),d(1,c),c.checkPathDirty())},phase:Oi[u]})};for(const u of r)e.isSkipped()||(l("removed",u,s),l("updated",u,a)),l("added",u,o)}var vm=null;function fr(n){if(n!=null)return n===""?"":(vm??(vm=document.createElement("div")),vm.textContent=String(n),vm.innerHTML)}function $t({id:n},t,e,r){iu(n,t,e,r,{opacity:0},{opacity:1},{phase:"trailing"})}function Mh({id:n},t,e,r){iu(n,t,e,r,{opacity:1},{opacity:0},{phase:"remove"})}function xc(n){return{opacity:1}}var ste=class extends tr{constructor(){super(...arguments),this._dirty=3}markDirty(n,t=1){this._dirty<t&&(this._dirty=t)}markClean(n){this._dirty=0}isDirty(){return this._dirty>0}},Zs=class extends ste{constructor(){super(...arguments),this.enabled=!0,this.color="rgba(0, 0, 0, 0.5)",this.xOffset=0,this.yOffset=0,this.blur=5}};R([F(ze),Pe({redraw:3})],Zs.prototype,"enabled",2);R([F(Dt),Pe({redraw:3})],Zs.prototype,"color",2);R([F(nr),Pe({redraw:3})],Zs.prototype,"xOffset",2);R([F(nr),Pe({redraw:3})],Zs.prototype,"yOffset",2);R([F(Se),Pe({redraw:3})],Zs.prototype,"blur",2);var CWe=Qt(n=>Iee(n)||Object.getPrototypeOf(n)===os,"a marker shape keyword such as 'circle', 'diamond' or 'square' or an object extending the Marker class"),So=class extends ste{constructor(){super(...arguments),this.enabled=!0,this.shape=Ul,this.size=6,this.fillOpacity=1,this.strokeWidth=1,this.strokeOpacity=1}getStyle(){const{size:n,fill:t,fillOpacity:e,stroke:r,strokeWidth:i,strokeOpacity:o}=this;return{size:n,fill:t,fillOpacity:e,stroke:r,strokeWidth:i,strokeOpacity:o}}getDiameter(){return this.size+this.strokeWidth}};R([F(ze),Pe({redraw:3})],So.prototype,"enabled",2);R([F(CWe),Pe({redraw:3})],So.prototype,"shape",2);R([F(Se),Pe({redraw:3})],So.prototype,"size",2);R([F(Dt,{optional:!0}),Pe({redraw:3})],So.prototype,"fill",2);R([F(Wt),Pe({redraw:3})],So.prototype,"fillOpacity",2);R([F(Dt,{optional:!0}),Pe({redraw:3})],So.prototype,"stroke",2);R([F(Se),Pe({redraw:3})],So.prototype,"strokeWidth",2);R([F(Wt),Pe({redraw:3})],So.prototype,"strokeOpacity",2);R([F(rs,{optional:!0}),Pe({redraw:3})],So.prototype,"formatter",2);var lte=class extends tr{constructor(){super(...arguments),this.enabled=!1}};R([F(ze)],lte.prototype,"enabled",2);var wo=class extends tr{constructor(){super(...arguments),this.enabled=!0,this.interaction=new lte,this.position=new i0}toTooltipHtml(n,t){return this.renderer?zS(this.renderer(t),n):zS(n)}};R([F(ze)],wo.prototype,"enabled",2);R([F(ze,{optional:!0})],wo.prototype,"showArrow",2);R([F(rs,{optional:!0})],wo.prototype,"renderer",2);R([F(Ge)],wo.prototype,"interaction",2);R([F(Ge)],wo.prototype,"position",2);var Nn=class extends sp{constructor(){super(...arguments),this.xName=void 0,this.fill="#c16068",this.fillOpacity=1,this.stroke="#874349",this.strokeWidth=2,this.strokeOpacity=1,this.lineDash=[0],this.lineDashOffset=0,this.shadow=new Zs,this.marker=new So,this.label=new ln,this.tooltip=new wo,this.connectMissingData=!1}};R([F(xe)],Nn.prototype,"xKey",2);R([F(xe,{optional:!0})],Nn.prototype,"xName",2);R([F(xe)],Nn.prototype,"yKey",2);R([F(xe,{optional:!0})],Nn.prototype,"yName",2);R([F(Se,{optional:!0})],Nn.prototype,"normalizedTo",2);R([F(Dt)],Nn.prototype,"fill",2);R([F(Wt)],Nn.prototype,"fillOpacity",2);R([F(Dt)],Nn.prototype,"stroke",2);R([F(Se)],Nn.prototype,"strokeWidth",2);R([F(Wt)],Nn.prototype,"strokeOpacity",2);R([F(mc)],Nn.prototype,"lineDash",2);R([F(Se)],Nn.prototype,"lineDashOffset",2);R([F(Ge)],Nn.prototype,"shadow",2);R([F(Ge)],Nn.prototype,"marker",2);R([F(Ge)],Nn.prototype,"label",2);R([F(Ge)],Nn.prototype,"tooltip",2);R([F(ze)],Nn.prototype,"connectMissingData",2);function ZS({id:n},t,e,r){const i={phase:r?Oi[r]:"trailing"};iu(n,"markers",t,e,{opacity:0},{opacity:1},i),e.forEach(o=>o.cleanup())}function MB({id:n},t,e){iu(n,"markers",t,e,{scalingX:0,scalingY:0},{scalingX:1,scalingY:1},{phase:"initial"}),e.forEach(r=>r.cleanup())}function FB({id:n,nodeDataDependencies:t},e,r){const i=t.seriesRectWidth;yr(n,"markers",e,r,{fromFn:(s,l)=>{var u,c;const d=(c=(u=l.midPoint)==null?void 0:u.x)!=null?c:i;return{scalingX:0,scalingY:0,delay:Lt(0,pJ(d/i),1),duration:iP,phase:"initial"}},toFn:()=>({scalingX:1,scalingY:1})})}function h0(n){return{opacity:1,scalingX:1,scalingY:1}}function QS(n,t){var e,r,i,o;return{translationX:(r=(e=t.point)==null?void 0:e.x)!=null?r:NaN,translationY:(o=(i=t.point)==null?void 0:i.y)!=null?o:NaN}}function LB(n,t){const e=(a,s)=>{const l=n[s][a];return Array.isArray(l)?l[0]:l},r=a=>{const{xValue:s}=a;return n.moved[s]?{point:e(s,"moved"),status:"updated"}:n.removed[s]?{point:e(s,"removed"),status:"removed"}:n.added[s]?{point:e(s,"added"),status:"added"}:{status:"unknown"}};return{fromFn:(a,s)=>{var l,u,c,d,p,h;const{status:f,point:v}=r(s);if(f==="unknown")return{opacity:0};const g={translationX:(u=(l=v==null?void 0:v.from)==null?void 0:l.x)!=null?u:a.translationX,translationY:(d=(c=v==null?void 0:v.from)==null?void 0:c.y)!=null?d:a.translationY,opacity:a.opacity,phase:Oi[f]};return t==="added"?Te(te({},g),{opacity:0,translationX:(p=v==null?void 0:v.to)==null?void 0:p.x,translationY:(h=v==null?void 0:v.to)==null?void 0:h.y,phase:Oi.added}):(f==="added"&&(g.opacity=0),g)},toFn:(a,s)=>{var l,u;const{status:c,point:d}=r(s);if(c==="unknown")return{opacity:0};const p={translationX:s.point.x,translationY:s.point.y,opacity:1,phase:Oi[c]};return c==="removed"||t==="removed"?Te(te({},p),{translationX:(l=d==null?void 0:d.to)==null?void 0:l.x,translationY:(u=d==null?void 0:d.to)==null?void 0:u.y,opacity:0,phase:Oi.removed}):p}}}function $I(n){return n.reduce(({min:t,max:e},r)=>((t==null||t.point.x>r.point.x)&&(t=r),(e==null||e.point.x<r.point.x)&&(e=r),{min:t,max:e}),{})}function Tz(n,t,e){const r=(t.y-n.y)/(t.x-n.x),i=(e-n.x)*r+n.y;return{x:e,y:i}}function Pz(n,t,e,r){let i=-1,o=0;const a=[];for(;o<n.length;){if(n[o].change===t){a.push(n[o]),o++;continue}if(n[o].change===e){o++;continue}a.length>0&&(r(a,i,o),a.length=0),i=o,o++}a.length>0&&r(a,i,o)}function IB(n,t){Pz(n,"out","in",(e,r,i)=>{var o,a;r===-1&&n[i]?e.forEach(s=>s.to=n[i].from):i===n.length&&n[r]?e.forEach(s=>s.to=n[r].from):t==="intersect"&&((o=n[r])!=null&&o.from)&&((a=n[i])!=null&&a.from)?e.forEach(s=>s.to=Tz(n[r].from,n[i].from,s.from.x)):e.forEach(s=>s.to=s.from)}),Pz(n,"in","out",(e,r,i)=>{var o,a;r===-1&&n[i]?e.forEach(s=>s.from=n[i].to):i===n.length&&n[r]?e.forEach(s=>s.from=n[r].to):t==="intersect"&&((o=n[r])!=null&&o.to)&&((a=n[i])!=null&&a.to)?e.forEach(s=>s.from=Tz(n[r].to,n[i].to,s.to.x)):e.forEach(s=>s.from=s.to)})}function Az(n,t,e){const r=isNaN(n.x)?t.x:n.x,i=isNaN(n.y)?t.y:n.y,o=t.x-n.x,a=t.y-n.y,s=isNaN(o)?0:o*e,l=isNaN(a)?0:a*e;return{x:r+s,y:i+l}}function NB(n,t,e){const{path:r}=e;let i;for(const o of n){const{from:a,to:s}=o,l=t[o.change];if(l==null||a==null||s==null)continue;const{x:u,y:c}=Az(a,s,l);if(o.moveTo===!1)r.lineTo(u,c);else if(o.moveTo===!0||!i)r.moveTo(u,c);else if(i){const d=o.moveTo==="in"?l:1-l,{x:p,y:h}=Az(i,{x:u,y:c},d);r.lineTo(p,h),r.moveTo(u,c)}i={x:u,y:c}}}function kB({id:n,visible:t,nodeDataDependencies:e},r,i){const{seriesRectWidth:o,seriesRectHeight:a}=e;iu(n,"path_properties",r,i,{clipX:0},{clipX:o},{phase:"initial",start:{clipMode:"normal",clipY:a,visible:t},finish:{clipMode:void 0,visible:t}})}function $C({id:n},t,e,r,i="add"){iu(n,t,e,r,{opacity:0},{opacity:1},{phase:i})}function SWe({id:n},t,e,r){iu(n,t,e,r,{opacity:1},{opacity:0},{phase:"remove"})}function GB(n){return t=>({opacity:n.getOpacity(),clipScalingX:1,clipMode:void 0})}function GO({nodeDataDependencies:n},t){const e=r=>isFinite(r)?r:0;t.clipX=e(n.seriesRectWidth),t.clipY=e(n.seriesRectHeight)}function Dz(n){return n.type==="continuous"||n.type==="log"}function Mz(n){return n.type==="category"}function Fz(n,t){return n.domain.length===t.domain.length&&n.range.length===t.range.length&&n.domain.every((e,r)=>e===t.domain[r])&&n.range.every((e,r)=>e===t.range[r])}function Lz(n,t){return n===void 0||t===void 0?n!==void 0||t!==void 0:Dz(n)&&Dz(t)?n.type===t.type&&Fz(n,t):Mz(n)&&Mz(t)?Fz(n,t):!1}function hx(n,t){if(!t)return NaN;if(n instanceof Date&&(n=n.getTime()),t.type==="continuous"&&typeof n=="number")return(n-t.domain[0])/(t.domain[1]-t.domain[0])*(t.range[1]-t.range[0])+t.range[0];if(t.type==="log"&&typeof n=="number")return t.convert(n);const e=t.domain.findIndex(r=>r===n);return e>=0?t.range[e]:NaN}function wWe(n,t){return!Lz(n.scales.x,t.scales.x)||!Lz(n.scales.y,t.scales.y)}function _We(n,t){const e=Number(n),r=Number(t);return!isNaN(e)&&!isNaN(r)?Math.abs(r-e)<.25:n===t}function ute(n=!1,t=!1){return n===t?!!n:n?"in":"out"}function JS(n,t,e={}){var r,i,o,a;const{backfillSplitMode:s="intersect"}=e,l=C=>{var S,w;return{x:hx((S=C.xValue)!=null?S:NaN,n.scales.x),y:hx((w=C.yValue)!=null?w:NaN,n.scales.y)}},u=C=>{var S,w;return{x:hx((S=C.xValue)!=null?S:NaN,t.scales.x),y:hx((w=C.yValue)!=null?w:NaN,t.scales.y)}},c=[],d={added:{},moved:{},removed:{}},p=(C,S,w,_="move")=>{C&&(isNaN(C.point.x)||isNaN(C.point.y))&&(C=S);const x={from:C==null?void 0:C.point,to:S==null?void 0:S.point,moveTo:ute(C==null?void 0:C.point.moveTo,S==null?void 0:S.point.moveTo),change:_};_==="move"?(d.moved[w]=x,y++,m++):_==="in"?(d.added[w]=x,m++):_==="out"&&(d.removed[w]=x,y++),c.push(x)},{min:h,max:f}=$I(t.nodeData),{min:v,max:g}=$I(n.nodeData);let y=0,m=0;for(;y<t.nodeData.length||m<n.nodeData.length;){const C=t.nodeData[y],S=n.nodeData[m],w=C?l(C):void 0,_=S?u(S):void 0,x=void 0;if(w&&_We(w.x,S==null?void 0:S.point.x))p(C,S,S.xValue,"move");else if(w&&w.x<((r=v==null?void 0:v.point.x)!=null?r:-1/0))p(C,x,C.xValue,"out");else if(w&&w.x>((i=g==null?void 0:g.point.x)!=null?i:1/0))p(C,x,C.xValue,"out");else if(_&&_.x<((o=h==null?void 0:h.point.x)!=null?o:-1/0))p(x,S,S.xValue,"in");else if(_&&_.x>((a=f==null?void 0:f.point.x)!=null?a:1/0))p(x,S,S.xValue,"in");else if(w&&w.x<(S==null?void 0:S.point.x))p(C,x,C.xValue,"out");else if(_&&_.x<(C==null?void 0:C.point.x))p(x,S,S.xValue,"in");else if(C)p(C,x,C.xValue,"out");else if(S)p(x,S,S.xValue,"in");else throw new Error("Unable to process points")}return IB(c,s),{result:c,resultMap:d}}function ew(n,t,e,r={}){var i,o,a;const{backfillSplitMode:s="intersect",multiDatum:l=!1}=r,u=[],c={added:{},moved:{},removed:{}},d={added:{},moved:{},removed:{}};let p,h;const f=(C,S)=>{var w,_;const x=S.change==="move"?"moved":S.change==="in"?"added":"removed";l?((_=(w=d[x])[C])!=null||(w[C]=[]),d[x][C].push(S)):c[x][C]=S,p=S,h=Yv(C)};let v=0,g=0,y=!1;for(;v<t.nodeData.length||g<n.nodeData.length;){const C=t.nodeData[v],S=n.nodeData[g],w=Yv(C==null?void 0:C.xValue),_=Yv(S==null?void 0:S.xValue);let x;if(w===_)x={change:"move",moveTo:ute((i=C.point.moveTo)!=null?i:!1,S.point.moveTo),from:C.point,to:S.point},f(C==null?void 0:C.xValue,x),v++,g++;else if(e!==void 0&&e.removed.indexOf(String(w))>=0)x={change:"out",moveTo:(o=C.point.moveTo)!=null?o:!1,from:C.point},f(C==null?void 0:C.xValue,x),v++;else if(e!==void 0&&e.added.indexOf(String(_))>=0)x={change:"in",moveTo:(a=S.point.moveTo)!=null?a:!1,to:S.point},f(S==null?void 0:S.xValue,x),g++;else if(l&&p&&h===w)x=te({},p),f(C==null?void 0:C.xValue,x),v++;else if(l&&p&&h===_)x=te({},p),f(S==null?void 0:S.xValue,x),g++;else{y=!0;break}u.push(x)}let m=-1/0;return y||(y=u.some(C=>{const{change:S,to:{x:w=-1/0}={}}=C;if(S==="out")return;const _=w<m;return m=w,_})),y?{result:void 0,resultMap:void 0}:(IB(u,s),l?{result:u,resultMap:d}:{result:u,resultMap:c})}function cte(n,t){let e="updated";const r=i=>i.visible;return!r(t)&&r(n)?e="added":r(t)&&!r(n)&&(e="removed"),e}function xWe(n,t){const e=t==="none"?"updated":n,r={fromFn:i=>{let o;return n==="removed"?o={finish:{visible:!1}}:n==="added"?o={start:{visible:!0}}:o={},te({phase:Oi[e]},o)},toFn:i=>({phase:Oi[e]})};return t==="fade"?{fromFn:i=>{const o=n==="added"?0:i.opacity;return te({opacity:o},r.fromFn(i))},toFn:i=>te({opacity:n==="removed"?0:1},r.toFn(i))}:r}function VB(n,t,e,r,i){const o=cte(n,t),a=(c,d)=>{i(e,{move:0,out:c},d)},s=(c,d)=>{i(e,{move:c},d)},l=(c,d)=>{i(e,{move:1,in:c},d)},u=xWe(o,r);return{status:o,path:{addPhaseFn:l,updatePhaseFn:s,removePhaseFn:a},pathProperties:u}}function dte(n,t,e){var r,i,o;const a=((r=n.scales.x)==null?void 0:r.type)==="category",s=((i=t.scales.x)==null?void 0:i.type)==="category";if(a!==s)return;const{result:l,resultMap:u}=a?ew(n,t,e):JS(n,t);let c="updated";if(t.visible&&!n.visible?c="removed":!t.visible&&n.visible&&(c="added"),l===void 0||u===void 0)return;const d=((o=e==null?void 0:e.changed)!=null?o:!0)||wWe(n,t)||c!=="updated",p=VB(n,t,l,"fade",NB),h=LB(u,c);return Te(te({},p),{marker:h,hasMotion:d})}var pte=(n=>(n[n.Fill=0]="Fill",n[n.Stroke=1]="Stroke",n[n.Marker=2]="Marker",n[n.Label=3]="Label",n))(pte||{});function VO(n){const{points:t}=n.fillData;return{top:t.slice(0,t.length/2),bottom:t.slice(t.length/2).reverse()}}function vd(n,t,e){return{scales:t.scales,nodeData:e[n],visible:t.visible}}function EWe(n,t,e){const r=VO(t),i=VO(n),o={multiDatum:!0};return{top:ew(vd("top",n,i),vd("top",t,r),e,o),bottom:ew(vd("bottom",n,i),vd("bottom",t,r),e,o)}}function bWe(n,t){const e=VO(t),r=VO(n);return{top:JS(vd("top",n,r),vd("top",t,e)),bottom:JS(vd("bottom",n,r),vd("bottom",t,e))}}function hte(n,t,e){var r,i;const o=((r=n.scales.x)==null?void 0:r.type)==="category",a=((i=t.scales.x)==null?void 0:i.type)==="category";if(o!==a)return;let s="updated";t.visible&&!n.visible?s="removed":!t.visible&&n.visible&&(s="added");const l=()=>o?ew(n,t,e,{backfillSplitMode:"static",multiDatum:!0}):JS(n,t,{backfillSplitMode:"static"}),u=()=>o?EWe(n,t,e):bWe(n,t),{resultMap:c}=l(),{top:d,bottom:p}=u();if(c===void 0||d.result===void 0||p.result===void 0)return;const h=[...d.result,...p.result.reverse()],v=(t.stackVisible?n.stackVisible:!1)?"none":"fade",g=VB(n,t,h,v,NB),y=LB(c,s);return{fill:g,marker:y}}var BB=class fte extends lp{constructor(t){super({moduleCtx:t,pathsPerSeries:2,pathsZIndexSubOrderOffset:[0,1e3],hasMarkers:!0,markerSelectionGarbageCollection:!1,pickModes:[1,0],animationResetFns:{path:GB({getOpacity:()=>this.getOpacity()}),label:xc,marker:(e,r)=>te(te({},h0()),QS(e,r))}}),this.properties=new Nn}processData(t){return pe(this,null,function*(){if(this.data==null||!this.properties.isValid())return;const{data:e,visible:r,seriesGrouping:{groupIndex:i=this.id,stackCount:o=1}={}}=this,{xKey:a,yKey:s,connectMissingData:l,normalizedTo:u}=this.properties,c=!this.ctx.animationManager.isSkipped(),{isContinuousX:d,isContinuousY:p}=this.isContinuous(),h=[`area-stack-${i}-yValues`,`area-stack-${i}-yValues-trailing`,`area-stack-${i}-yValues-prev`,`area-stack-${i}-yValues-trailing-prev`,`area-stack-${i}-yValues-marker`],f=[];uI(u)&&(f.push(kO(this,[h[0],h[1],h[4]],u,"range")),f.push(kO(this,[h[2],h[3]],u,"range"))),!d&&c&&this.processedData&&f.push(hf(this.processedData)),c&&f.push(ty(this));const v={invalidValue:null};l&&o>1&&(v.invalidValue=0),r||(v.forceValue=0),yield this.requestDataModel(t,e,{props:[Xn(this,a,d,{id:"xValue"}),qt(this,s,p,te({id:"yValueRaw"},v)),...od(this,s,p,"window","current",Te(te({id:"yValueEnd"},v),{groupId:h[0]})),...od(this,s,p,"window-trailing","current",Te(te({id:"yValueStart"},v),{groupId:h[1]})),...od(this,s,p,"window","last",Te(te({id:"yValuePreviousEnd"},v),{groupId:h[2]})),...od(this,s,p,"window-trailing","last",Te(te({id:"yValuePreviousStart"},v),{groupId:h[3]})),...od(this,s,p,"normal","current",Te(te({id:"yValueCumulative"},v),{groupId:h[4]})),...f],groupByKeys:!0,groupByData:!1}),this.animationState.transition("updateData")})}getSeriesDomain(t){const{processedData:e,dataModel:r,axes:i}=this;if(!e||!r||e.data.length===0)return[];const o=i.x,a=i.y,s=r.resolveProcessedDataDefById(this,"xValue"),l=r.getDomain(this,"xValue","key",e),u=r.getDomain(this,"yValueEnd","value",e);if(t==="x")return(s==null?void 0:s.def.type)==="key"&&s.def.valueType==="category"?l:Ri(ru(l),o);if(a instanceof $d||a instanceof Xh)return Ri(u,a);{const c=[u[0]>0?0:u[0],u[1]<0?0:u[1]];return Ri(c,a)}}createNodeData(){return pe(this,null,function*(){var t;const{axes:e,data:r,processedData:{data:i}={},dataModel:o}=this,a=e.x,s=e.y;if(!a||!s||!r||!o||!this.properties.isValid())return[];const{yKey:l,xKey:u,marker:c,label:d,fill:p,stroke:h,connectMissingData:f}=this.properties,{scale:v}=a,{scale:g}=s,y=Xt.is(g),m=((t=v.bandwidth)!=null?t:0)/2,C=o.resolveProcessedDataDefsByIds(this,["yValueStart","yValueEnd","yValueRaw","yValuePreviousStart","yValuePreviousEnd","yValueCumulative"]),S=V=>{const W=V,{point:K}=W,ee=yn(W,["point"]);return Te(te({},ee),{point:Te(te({},K),{moveTo:!0})})},w=(V,W,K)=>{const ee=v.convert(V)+m,Z=g.convert(W),se=g.convert(K);return[{point:{x:ee,y:se},yValue:K,xValue:V},{point:{x:ee,y:Z},yValue:W,xValue:V}]},_=(V,W,K)=>{let ee;return(uI(this.properties.normalizedTo)?y&&aB(K):!isNaN(K))&&(ee=W),{x:v.convert(V)+m,y:g.convert(ee),size:c.size}},x=l,b=[],O=[],{visibleSameStackCount:T}=this.ctx.seriesStateManager.getVisiblePeerGroupIndex(this),A={itemId:x,fillData:{itemId:x,points:[]},strokeData:{itemId:x,points:[]},labelData:b,nodeData:O,scales:fc(fte.prototype,this,"calculateScaling").call(this),visible:this.visible,stackVisible:T>0},N=A.fillData.points,M=[],L=A.strokeData.points;let G=-1,H,j=-1/0;return i==null||i.forEach(V=>{const{keys:W,keys:[K],datum:ee,values:Z}=V;Z.forEach((se,ie)=>{var re,Y,le;G++;const ye=ee[ie],Q=o.resolveProcessedDataDefsValues(C,{keys:W,values:se}),{yValueRaw:he,yValueCumulative:ue}=Q;let{yValueStart:J,yValueEnd:ve,yValuePreviousStart:we,yValuePreviousEnd:Ee}=Q;const De=he!=null,$e=_(K,+ue,he);if(De&&c&&O.push({index:G,series:this,itemId:x,datum:ye,midPoint:{x:$e.x,y:$e.y},cumulativeValue:ve,yValue:he,xValue:K,yKey:l,xKey:u,point:$e,fill:(re=c.fill)!=null?re:p,stroke:(Y=c.stroke)!=null?Y:h,strokeWidth:(le=c.strokeWidth)!=null?le:this.getStrokeWidth(this.properties.strokeWidth)}),De&&d){const He=this.getLabelText(d,{value:he,datum:ye,xKey:u,yKey:l,xName:this.properties.xName,yName:this.properties.yName},St=>Gt(St)?St.toFixed(2):String(St));b.push({index:G,series:this,itemId:l,datum:ye,x:$e.x,y:$e.y,label:He?{text:He,fontStyle:d.fontStyle,fontWeight:d.fontWeight,fontSize:d.fontSize,fontFamily:d.fontFamily,textAlign:"center",textBaseline:"bottom",fill:d.color}:void 0})}const Ze=H!=null&&K!=null,Ut=j!=null&&De;Ut||(J=J??0,ve=J??0,we=we??0,Ee=we??0);const[Ne,tt]=w(H,we,Ee),[zt,xt]=w(K,J,ve);Ze&&(!f||Ut)&&(N.push(Ne),M.push(tt),N.push(zt),M.push(xt)),Ut&&G>0&&(L.push(S(Ne)),L.push(zt)),H=K,j=he})}),L.length>0&&(L[0]=S(L[0])),M.reverse(),N.push(...M),[A]})}isPathOrSelectionDirty(){return this.properties.marker.isDirty()}markerFactory(){const{shape:t}=this.properties.marker,e=op(t);return new e}updatePathNodes(t){return pe(this,null,function*(){const{opacity:e,visible:r,animationEnabled:i}=t,[o,a]=t.paths,s=this.getStrokeWidth(this.properties.strokeWidth);a.setProperties({tag:1,fill:void 0,lineJoin:a.lineCap="round",pointerEvents:1,stroke:this.properties.stroke,strokeWidth:s,strokeOpacity:this.properties.strokeOpacity,lineDash:this.properties.lineDash,lineDashOffset:this.properties.lineDashOffset,opacity:e,visible:r}),o.setProperties({tag:0,stroke:void 0,lineJoin:"round",pointerEvents:1,fill:this.properties.fill,fillOpacity:this.properties.fillOpacity,lineDash:this.properties.lineDash,lineDashOffset:this.properties.lineDashOffset,strokeOpacity:this.properties.strokeOpacity,fillShadow:this.properties.shadow,opacity:e,visible:r||i,strokeWidth:s}),GO(this,a),GO(this,o)})}updatePaths(t){return pe(this,null,function*(){this.updateAreaPaths([t.paths],[t.contextData])})}updateAreaPaths(t,e){this.updateFillPath(t,e),this.updateStrokePath(t,e)}updateFillPath(t,e){e.forEach(({fillData:r},i)=>{const[o]=t[i],{path:a}=o;a.clear({trackChanges:!0});for(const{point:s}of r.points)s.moveTo?a.moveTo(s.x,s.y):a.lineTo(s.x,s.y);a.closePath(),o.checkPathDirty()})}updateStrokePath(t,e){e.forEach(({strokeData:r},i)=>{const[,o]=t[i],{path:a}=o;a.clear({trackChanges:!0});for(const{point:s}of r.points)s.moveTo?a.moveTo(s.x,s.y):a.lineTo(s.x,s.y);o.checkPathDirty()})}updateMarkerSelection(t){return pe(this,null,function*(){const{nodeData:e,markerSelection:r}=t;return this.properties.marker.isDirty()&&(r.clear(),r.cleanup()),r.update(this.properties.marker.enabled?e:[])})}updateMarkerNodes(t){return pe(this,null,function*(){const{markerSelection:e,isHighlight:r}=t,{xKey:i,yKey:o,marker:a,fill:s,stroke:l,strokeWidth:u,fillOpacity:c,strokeOpacity:d,highlightStyle:p}=this.properties,h=yt(r&&p.item,a.getStyle(),{fill:s,stroke:l,strokeWidth:u,fillOpacity:c,strokeOpacity:d});e.each((f,v)=>{this.updateMarkerStyle(f,a,{datum:v,highlighted:r,xKey:i,yKey:o},h)}),r||this.properties.marker.markClean()})}updateLabelSelection(t){return pe(this,null,function*(){const{labelData:e,labelSelection:r}=t;return r.update(e,i=>{i.tag=3})})}updateLabelNodes(t){return pe(this,null,function*(){const{labelSelection:e}=t,{enabled:r,fontStyle:i,fontWeight:o,fontSize:a,fontFamily:s,color:l}=this.properties.label;e.each((u,c)=>{const{x:d,y:p,label:h}=c;h&&r&&this.visible?(u.fontStyle=i,u.fontWeight=o,u.fontSize=a,u.fontFamily=s,u.textAlign=h.textAlign,u.textBaseline=h.textBaseline,u.text=h.text,u.x=d,u.y=p-10,u.fill=l,u.visible=!0):u.visible=!1})})}getTooltipHtml(t){const{id:e,axes:r,dataModel:i}=this,{xKey:o,xName:a,yName:s,tooltip:l,marker:u}=this.properties,{yKey:c,xValue:d,yValue:p,datum:h}=t,f=r.x,v=r.y;if(!this.properties.isValid()||!(f&&v&&Gt(p))||!i)return"";const g=f.formatDatum(d),y=v.formatDatum(p),m=fr(s),C=fr(g+": "+y),S=yt({fill:this.properties.fill},u.getStyle(),{stroke:this.properties.stroke,strokeWidth:this.properties.strokeWidth}),{fill:w}=this.getMarkerStyle(u,{datum:t,xKey:o,yKey:c,highlighted:!1},S);return l.toTooltipHtml({title:m,content:C,backgroundColor:w},{datum:h,xKey:o,xName:a,yKey:c,yName:s,color:w,title:m,seriesId:e})}getLegendData(t){var e,r,i,o;if(!((e=this.data)!=null&&e.length)||!this.properties.isValid()||t!=="category")return[];const{yKey:a,yName:s,fill:l,stroke:u,fillOpacity:c,strokeOpacity:d,strokeWidth:p,lineDash:h,marker:f,visible:v}=this.properties,g=!f.enabled||f.fill===void 0;return[{legendType:t,id:this.id,itemId:a,seriesId:this.id,enabled:v,label:{text:s??a},marker:{shape:f.shape,fill:g?l:f.fill,fillOpacity:g?c:f.fillOpacity,stroke:(r=f.stroke)!=null?r:u,strokeOpacity:(i=f.strokeOpacity)!=null?i:d,strokeWidth:(o=f.strokeWidth)!=null?o:0,enabled:f.enabled||p<=0},line:{stroke:u,strokeOpacity:d,strokeWidth:p,lineDash:h}}]}animateEmptyUpdateReady(t){const{markerSelections:e,labelSelections:r,contextData:i,paths:o}=t,{animationManager:a}=this.ctx;this.updateAreaPaths(o,i),kB(this,a,o.flat()),gn(e,QS),FB(this,a,e),$t(this,"labels",a,r)}animateReadyResize(t){const{contextData:e,paths:r}=t;this.updateAreaPaths(r,e),super.animateReadyResize(t)}animateWaitingUpdateReady(t){var e,r;const{animationManager:i}=this.ctx,{markerSelections:o,labelSelections:a,contextData:s,paths:l,previousContextData:u}=t,[[c,d]]=l;super.resetAllAnimation(t);const p=()=>{this.updateAreaPaths(l,s),this.updateStrokePath(l,s)},h=()=>{i.skipCurrentBatch(),p()};if(s.length===0||(u==null?void 0:u.length)===0){p(),ZS(this,i,o,"added"),$C(this,"fill_path_properties",i,[c]),$C(this,"stroke",i,[d],"trailing"),$t(this,"labels",i,a);return}const[f]=s,[v]=u??[],g=hte(f,v,(r=(e=this.processedData)==null?void 0:e.reduced)==null?void 0:r.diff);if(g===void 0){h();return}ZS(this,i,o),yr(this.id,"fill_path_properties",i,[c],g.fill.pathProperties),ate(this.id,"fill_path_update",i,[c],g.fill.path),this.updateStrokePath(l,s),$C(this,"stroke",i,[d],"trailing"),$t(this,"labels",i,a)}isLabelEnabled(){return this.properties.label.enabled}nodeFactory(){return new Ie}};BB.className="AreaSeries";BB.type="area";var OWe=BB,RWe={type:"series",optionsKey:"series[]",packageType:"community",chartTypes:["cartesian"],identifier:"area",instanceConstructor:OWe,stackable:!0,seriesDefaults:{axes:[{type:"number",position:"left"},{type:"category",position:"bottom"}]},themeTemplate:{series:{__extends__:vc,nodeClickRange:"nearest",tooltip:{position:{type:"node"}},fillOpacity:.8,strokeOpacity:1,strokeWidth:0,lineDash:[0],lineDashOffset:0,shadow:{enabled:!1,color:Yg,xOffset:3,yOffset:3,blur:5},marker:{__extends__:zg,enabled:!1,fillOpacity:1,strokeOpacity:1,strokeWidth:0},label:{enabled:!1,fontStyle:void 0,fontWeight:void 0,fontSize:12,fontFamily:vn,color:kt,formatter:void 0}}},paletteFactory:n=>{const{marker:t}=p0(n);return{fill:t.fill,stroke:t.stroke,marker:t}}},HB=class extends sp{constructor(){super(...arguments),this.direction="vertical"}};R([F(bJ)],HB.prototype,"direction",2);var vte=class extends lp{getBandScalePadding(){return{inner:.2,outer:.1}}shouldFlipXY(){return!this.isVertical()}isVertical(){return this.properties.direction==="vertical"}getBarDirection(){return this.shouldFlipXY()?"x":"y"}getCategoryDirection(){return this.shouldFlipXY()?"y":"x"}getValueAxis(){const n=this.getBarDirection();return this.axes[n]}getCategoryAxis(){const n=this.getCategoryDirection();return this.axes[n]}},gte=class extends ln{constructor(){super(...arguments),this.placement="inside"}};R([F(OJ)],gte.prototype,"placement",2);var bn=class extends HB{constructor(){super(...arguments),this.fill="#c16068",this.fillOpacity=1,this.stroke="#874349",this.strokeWidth=1,this.strokeOpacity=1,this.lineDash=[0],this.lineDashOffset=0,this.cornerRadius=0,this.shadow=new Zs,this.label=new gte,this.tooltip=new wo}};R([F(xe)],bn.prototype,"xKey",2);R([F(xe,{optional:!0})],bn.prototype,"xName",2);R([F(xe)],bn.prototype,"yKey",2);R([F(xe,{optional:!0})],bn.prototype,"yName",2);R([F(xe,{optional:!0})],bn.prototype,"stackGroup",2);R([F(nr,{optional:!0})],bn.prototype,"normalizedTo",2);R([F(Dt)],bn.prototype,"fill",2);R([F(Wt)],bn.prototype,"fillOpacity",2);R([F(Dt)],bn.prototype,"stroke",2);R([F(Se)],bn.prototype,"strokeWidth",2);R([F(Wt)],bn.prototype,"strokeOpacity",2);R([F(mc)],bn.prototype,"lineDash",2);R([F(Se)],bn.prototype,"lineDashOffset",2);R([F(Se)],bn.prototype,"cornerRadius",2);R([F(rs,{optional:!0})],bn.prototype,"formatter",2);R([F(Ge,{optional:!0})],bn.prototype,"shadow",2);R([F(Ge)],bn.prototype,"label",2);R([F(Ge)],bn.prototype,"tooltip",2);function yte({rect:n,config:t}){const{crisp:e=!0,fill:r,stroke:i,strokeWidth:o,fillOpacity:a,strokeOpacity:s,lineDash:l,lineDashOffset:u,fillShadow:c,cornerRadius:d=0,topLeftCornerRadius:p,topRightCornerRadius:h,bottomRightCornerRadius:f,bottomLeftCornerRadius:v,cornerRadiusBbox:g,visible:y=!0}=t;n.crisp=e,n.fill=r,n.stroke=i,n.strokeWidth=o,n.fillOpacity=a,n.strokeOpacity=s,n.lineDash=l,n.lineDashOffset=u,n.fillShadow=c,n.topLeftCornerRadius=p?d:0,n.topRightCornerRadius=h?d:0,n.bottomRightCornerRadius=f?d:0,n.bottomLeftCornerRadius=v?d:0,n.cornerRadiusBbox=g,n.visible=y}function mte(n){var t=n,{datum:e,isHighlighted:r,style:i,highlightStyle:o,formatter:a,seriesId:s,ctx:{callbackCache:l}}=t,u=yn(t,["datum","isHighlighted","style","highlightStyle","formatter","seriesId","ctx"]),c,d,p,h,f,v;const{fill:g,fillOpacity:y,stroke:m,strokeWidth:C}=yt(r&&o,i),{strokeOpacity:S,fillShadow:w,lineDash:_,lineDashOffset:x,cornerRadius:b=0,topLeftCornerRadius:O=!0,topRightCornerRadius:T=!0,bottomRightCornerRadius:A=!0,bottomLeftCornerRadius:N=!0,cornerRadiusBbox:M}=i;let L;return a&&(L=l.call(a,te({datum:e.datum,xKey:e.xKey,fill:g,stroke:m,strokeWidth:C,cornerRadius:b,highlighted:r,seriesId:s},u))),{fill:(c=L==null?void 0:L.fill)!=null?c:g,stroke:(d=L==null?void 0:L.stroke)!=null?d:m,strokeWidth:(p=L==null?void 0:L.strokeWidth)!=null?p:C,fillOpacity:(h=L==null?void 0:L.fillOpacity)!=null?h:y,strokeOpacity:(f=L==null?void 0:L.strokeOpacity)!=null?f:S,lineDash:_,lineDashOffset:x,fillShadow:w,cornerRadius:(v=L==null?void 0:L.cornerRadius)!=null?v:b,topLeftCornerRadius:O,topRightCornerRadius:T,bottomRightCornerRadius:A,bottomLeftCornerRadius:N,cornerRadiusBbox:M}}function Cte(n=[]){const[t,e]=n;return!(t!==0||e!==1)}var Iz=n=>{var t;return Jw((t=n.yValue)!=null?t:0)};function tw(n,t,e){const{startingX:r,startingY:i}=PWe(n,t);return{isVertical:n,calculate:(a,s)=>{let l=n?a.x:r,u=n?i:a.y,c=n?a.width:0,d=n?0:a.height;const p=a.opacity;return s&&(isNaN(l)||isNaN(u))&&({x:l,y:u}=s,c=n?s.width:0,d=n?0:s.height,n&&!Iz(s)?u+=s.height:!n&&Iz(s)&&(l+=s.width)),{x:l,y:u,width:c,height:d,opacity:p}},mode:e}}function TWe(n,t){return{isVertical:n,calculate:e=>({x:n?e.x:e.x+e.width/2,y:n?e.y+e.height/2:e.y,width:n?e.width:0,height:n?0:e.height,opacity:e.opacity}),mode:t}}function rw(n){const t=i=>i==null||isNaN(i.x)||isNaN(i.y);return{toFn:(i,o,a)=>a==="removed"&&i.datum==null&&n.mode==="fade"?Te(te({},nw(i,o)),{opacity:0}):a==="removed"||t(o)?n.calculate(o,i.previousDatum):{x:o.x,y:o.y,width:o.width,height:o.height,opacity:o.opacity},fromFn:(i,o,a)=>{a==="updated"&&t(o)?a="removed":a==="updated"&&t(i.previousDatum)&&(a="added");let s={x:i.x,y:i.y,width:i.width,height:i.height,opacity:i.opacity};a==="added"&&i.previousDatum==null&&n.mode==="fade"?s=Te(te({},nw(i,o)),{opacity:0}):(a==="unknown"||a==="added")&&(s=n.calculate(o,i.previousDatum));const l=Oi[a];return Te(te({},s),{phase:l})}}}function PWe(n,t){const e=t[n?"y":"x"];let r=1/0,i=0;return e?(n?i=e.scale.convert(Xt.is(e.scale)?0:Math.max(...e.range)):r=e.scale.convert(Xt.is(e.scale)?0:Math.min(...e.range)),{startingX:r,startingY:i}):{startingX:r,startingY:i}}function nw(n,{x:t,y:e,width:r,height:i,opacity:o}){return{x:t,y:e,width:r,height:i,opacity:o}}function Ste(n,t,e){if(t.enabled&&e){const{x:r,y:i,text:o,textAlign:a,textBaseline:s}=e,{color:l,fontStyle:u,fontWeight:c,fontSize:d,fontFamily:p}=t;n.setProperties({visible:!0,x:r,y:i,text:o,fill:l,fontStyle:u,fontWeight:c,fontSize:d,fontFamily:p,textAlign:a,textBaseline:s})}else n.visible=!1}function wte({isPositive:n,isVertical:t,placement:e,padding:r=0,rect:i}){let o=i.x+i.width/2,a=i.y+i.height/2,s="center",l="middle";switch(e){case"start":{t?(a=n?i.y+i.height+r:i.y-r,l=n?"top":"bottom"):(o=n?i.x-r:i.x+i.width+r,s=n?"start":"end");break}case"outside":case"end":{t?(a=n?i.y-r:i.y+i.height+r,l=n?"bottom":"top"):(o=n?i.x+i.width+r:i.x-r,s=n?"start":"end");break}}return{x:o,y:a,textAlign:s,textBaseline:l}}var jB=class _te extends vte{constructor(t){super({moduleCtx:t,pickModes:[0],pathsPerSeries:0,hasHighlightedLabels:!0,datumSelectionGarbageCollection:!1,animationAlwaysUpdateSelections:!0,animationResetFns:{datum:nw,label:xc}}),this.properties=new bn,this.groupScale=new Ql,this.smallestDataInterval=void 0}resolveKeyDirection(t){return this.getBarDirection()==="x"?t==="x"?"y":"x":t}processData(t){return pe(this,null,function*(){var e,r,i,o;if(!this.properties.isValid()||!this.data)return;const{seriesGrouping:{groupIndex:a=this.id}={},data:s=[]}=this,{xKey:l,yKey:u,normalizedTo:c}=this.properties,d=!this.ctx.animationManager.isSkipped(),p=Math.abs(c??NaN),h=Xt.is((e=this.getCategoryAxis())==null?void 0:e.scale),f=Xt.is((r=this.getValueAxis())==null?void 0:r.scale),v=`bar-stack-${a}-yValues`,g=`${v}-trailing`,y=p&&isFinite(p)?p:void 0,m=[];y&&m.push(kO(this,[v,g],y,"range")),d&&this.processedData&&m.push(hf(this.processedData)),d&&m.push(ty(this));const C=this.visible?{}:{forceValue:0},{processedData:S}=yield this.requestDataModel(t,s,{props:[Xn(this,l,h,{id:"xValue"}),qt(this,u,f,te({id:"yValue-raw",invalidValue:null},C)),...od(this,u,f,"normal","current",te({id:"yValue-end",rangeId:"yValue-range",invalidValue:null,missingValue:0,groupId:v,separateNegative:!0},C)),...od(this,u,f,"trailing","current",te({id:"yValue-start",invalidValue:null,missingValue:0,groupId:g,separateNegative:!0},C)),...h?[jI]:[],...m],groupByKeys:!0,groupByData:!1});this.smallestDataInterval={x:(o=(i=S.reduced)==null?void 0:i.smallestKeyInterval)!=null?o:1/0,y:1/0},this.animationState.transition("updateData")})}getSeriesDomain(t){var e;const{processedData:r,dataModel:i}=this;if(!r||!i||r.data.length===0)return[];const{reduced:{[jI.property]:o}={}}=r,a=this.getCategoryAxis(),s=this.getValueAxis(),l=i.resolveProcessedDataDefById(this,"xValue"),u=i.getDomain(this,"xValue","key",r),c=i.getDomain(this,"yValue-end","value",r);if(t===this.getCategoryDirection()){if((l==null?void 0:l.def.type)==="key"&&(l==null?void 0:l.def.valueType)==="category")return u;const d=o!=null&&isFinite(o)?o:0,p=(e=ru(u))!=null?e:[NaN,NaN],h=a==null?void 0:a.isReversed();if(t==="y"){const g=p[0]+(h?0:-d),y=p[1]+(h?d:0);return Ri([g,y],a)}const f=p[0]+(h?-d:0),v=p[1]+(h?0:d);return Ri([f,v],a)}else{if(this.getValueAxis()instanceof $d)return Ri(c,s);{const d=[c[0]>0?0:c[0],c[1]<0?0:c[1]];return Ri(d,s)}}}createNodeData(){return pe(this,null,function*(){const{dataModel:t}=this,e=this.getCategoryAxis(),r=this.getValueAxis();if(!(t&&e&&r&&this.properties.isValid()))return[];const i=e.scale,o=r.scale,{groupScale:a,processedData:s,smallestDataInterval:l,ctx:{seriesStateManager:u}}=this,{xKey:c,yKey:d,xName:p,yName:h,fill:f,stroke:v,strokeWidth:g,cornerRadius:y,legendItemName:m,label:C}=this.properties,S=r.isReversed(),w=Xt.is(i)?i.calcBandwidth(l==null?void 0:l.x):i.bandwidth,_=[],{index:x,visibleGroupCount:b}=u.getVisiblePeerGroupIndex(this);for(let j=0;j<b;j++)_.push(String(j));a.domain=_,a.range=[0,w??0],e instanceof ac?a.paddingInner=e.groupPaddingInner:e instanceof Hd?a.padding=.1:a.padding=0,a.round=a.padding!==0;const O=a.bandwidth>=1?a.bandwidth:a.rawBandwidth,T=t.resolveProcessedDataIndexById(this,"xValue").index,A=t.resolveProcessedDataIndexById(this,"yValue-raw").index,N=t.resolveProcessedDataIndexById(this,"yValue-start").index,M=t.resolveProcessedDataIndexById(this,"yValue-end").index,L=t.resolveProcessedDataDefById(this,"yValue-range").index,G=!this.ctx.animationManager.isSkipped(),H=[];return s==null||s.data.forEach(({keys:j,datum:V,values:W,aggValues:K})=>{W.forEach((ee,Z)=>{var se,ie;(se=H[Z])!=null||(H[Z]={itemId:d,nodeData:[],labelData:[],scales:fc(_te.prototype,this,"calculateScaling").call(this),visible:this.visible||G});const re=j[T],Y=i.convert(re),le=+ee[M],ye=+ee[N],Q=ee[A],he=Q>=0,ue=he!==S,J=(ie=K==null?void 0:K[L][he?1:0])!=null?ie:0,ve=Y+a.convert(String(x));if(isNaN(le))return;const we=o.convert(le),Ee=o.convert(ye),De=this.getBarDirection()==="x",$e=o.convert(J),Ze=o.convert(0),Ut=new et(De?Math.min(Ze,$e):ve,De?ve:Math.min(Ze,$e),De?Math.abs(Ze-$e):O,De?O:Math.abs(Ze-$e)),Ne={x:De?Math.min(we,Ee):ve,y:De?ve:Math.min(we,Ee),width:De?Math.abs(Ee-we):O,height:De?O:Math.abs(Ee-we),cornerRadiusBbox:Ut},{fontStyle:tt,fontWeight:zt,fontSize:xt,fontFamily:He,color:St,placement:wt}=C,Mt=this.getLabelText(this.properties.label,{datum:V[Z],value:Q,xKey:c,yKey:d,xName:p,yName:h,legendItemName:m},Nr=>Gt(Nr)?Nr.toFixed(2):""),st=Mt?te({text:Mt,fill:St,fontStyle:tt,fontWeight:zt,fontSize:xt,fontFamily:He},wte({isPositive:he,isVertical:!De,placement:wt,rect:Ne})):void 0,Fe=this.shouldFlipXY()?Ne.height:Ne.width,Ft={series:this,itemId:d,datum:V[Z],cumulativeValue:le,xValue:re,yValue:Q,yKey:d,xKey:c,capDefaults:{lengthRatioMultiplier:Fe,lengthMax:Fe},x:Ne.x,y:Ne.y,width:Ne.width,height:Ne.height,midPoint:{x:Ne.x+Ne.width/2,y:Ne.y+Ne.height/2},fill:f,stroke:v,opacity:1,strokeWidth:g,cornerRadius:y,topLeftCornerRadius:De!==ue,topRightCornerRadius:ue,bottomRightCornerRadius:De===ue,bottomLeftCornerRadius:!ue,cornerRadiusBbox:Ut,label:st};H[Z].nodeData.push(Ft),H[Z].labelData.push(Ft)})}),H})}nodeFactory(){return new vi}updateDatumSelection(t){return pe(this,null,function*(){return t.datumSelection.update(t.nodeData,e=>{e.tag=0},e=>jd(e.xValue))})}updateDatumNodes(t){return pe(this,null,function*(){if(!this.properties.isValid())return;const{yKey:e,stackGroup:r,fill:i,fillOpacity:o,stroke:a,strokeWidth:s,strokeOpacity:l,lineDash:u,lineDashOffset:c,formatter:d,shadow:p,highlightStyle:{item:h}}=this.properties,f=this.axes.x,v=Cte(f==null?void 0:f.visibleRange),g=this.getCategoryDirection()==="x";t.datumSelection.each((y,m)=>{const C={fill:i,stroke:a,fillOpacity:o,strokeOpacity:l,lineDash:u,lineDashOffset:c,fillShadow:p,strokeWidth:this.getStrokeWidth(s),cornerRadius:m.cornerRadius,topLeftCornerRadius:m.topLeftCornerRadius,topRightCornerRadius:m.topRightCornerRadius,bottomRightCornerRadius:m.bottomRightCornerRadius,bottomLeftCornerRadius:m.bottomLeftCornerRadius,cornerRadiusBbox:m.cornerRadiusBbox},S=g?m.width>0:m.height>0,w=mte({datum:m,ctx:this.ctx,seriesId:this.id,isHighlighted:t.isHighlight,highlightStyle:h,yKey:e,style:C,formatter:d,stackGroup:r});w.crisp=v,w.visible=S,yte({rect:y,config:w})})})}updateLabelSelection(t){return pe(this,null,function*(){const e=this.isLabelEnabled()?t.labelData:[];return t.labelSelection.update(e,r=>{r.tag=1,r.pointerEvents=1})})}updateLabelNodes(t){return pe(this,null,function*(){t.labelSelection.each((e,r)=>{Ste(e,this.properties.label,r.label)})})}getTooltipHtml(t){var e;const{id:r,processedData:i,ctx:{callbackCache:o}}=this,a=this.getCategoryAxis(),s=this.getValueAxis();if(!i||!this.properties.isValid()||!a||!s)return"";const{xKey:l,yKey:u,xName:c,yName:d,fill:p,stroke:h,strokeWidth:f,tooltip:v,formatter:g,stackGroup:y}=this.properties,{xValue:m,yValue:C,datum:S}=t,w=a.formatDatum(m),_=s.formatDatum(C),x=fr(d),b=fr(w+": "+_);let O;g&&(O=o.call(g,{seriesId:r,datum:S,xKey:l,yKey:u,stackGroup:y,fill:p,stroke:h,strokeWidth:this.getStrokeWidth(f),highlighted:!1}));const T=(e=O==null?void 0:O.fill)!=null?e:p;return v.toTooltipHtml({title:x,content:b,backgroundColor:T},te({seriesId:r,datum:S,xKey:l,yKey:u,xName:c,yName:d,stackGroup:y,title:x,color:T},this.getModuleTooltipParams()))}getLegendData(t){var e,r;const{showInLegend:i}=this.properties;if(t!=="category"||!((e=this.data)!=null&&e.length)||!this.properties.isValid()||!i)return[];const{yKey:o,yName:a,fill:s,stroke:l,strokeWidth:u,fillOpacity:c,strokeOpacity:d,legendItemName:p,visible:h}=this.properties;return[{legendType:"category",id:this.id,itemId:o,seriesId:this.id,enabled:h,label:{text:(r=p??a)!=null?r:o},marker:{fill:s,fillOpacity:c,stroke:l,strokeWidth:u,strokeOpacity:d},legendItemName:p}]}animateEmptyUpdateReady({datumSelections:t,labelSelections:e,annotationSelections:r}){const i=rw(tw(this.isVertical(),this.axes,"normal"));yr(this.id,"nodes",this.ctx.animationManager,t,i),$t(this,"labels",this.ctx.animationManager,e),$t(this,"annotations",this.ctx.animationManager,r)}animateWaitingUpdateReady(t){var e,r,i;const{datumSelections:o,labelSelections:a,annotationSelections:s,previousContextData:l}=t;this.ctx.animationManager.stopByAnimationGroupId(this.id);const u=(r=(e=this.processedData)==null?void 0:e.reduced)==null?void 0:r.diff,c=(l==null?void 0:l.length)===0?"fade":"normal",d=rw(tw(this.isVertical(),this.axes,c));yr(this.id,"nodes",this.ctx.animationManager,o,d,(h,f)=>jd(f.xValue),u),((i=u==null?void 0:u.changed)!=null?i:!0)&&($t(this,"labels",this.ctx.animationManager,a),$t(this,"annotations",this.ctx.animationManager,s))}isLabelEnabled(){return this.properties.label.enabled}};jB.className="BarSeries";jB.type="bar";var AWe=jB,DWe={type:"series",optionsKey:"series[]",packageType:"community",chartTypes:["cartesian"],identifier:"bar",instanceConstructor:AWe,stackable:!0,groupable:!0,seriesDefaults:{axes:[{type:"number",position:"left"},{type:"category",position:"bottom"}]},swapDefaultAxesCondition:n=>(n==null?void 0:n.direction)==="horizontal",themeTemplate:{series:{__extends__:vc,direction:"vertical",fillOpacity:1,strokeWidth:0,lineDash:[0],lineDashOffset:0,label:{enabled:!1,fontStyle:void 0,fontWeight:"normal",fontSize:12,fontFamily:vn,color:Kg,formatter:void 0,placement:"inside"},shadow:{enabled:!1,color:Yg,xOffset:3,yOffset:3,blur:5}}},enterpriseThemeTemplate:{series:{errorBar:{cap:{lengthRatio:.3}}}},paletteFactory:DB},Nz=n=>{const t=Al.fromString(n),[e,r,i]=Al.RGBtoOKLCH(t.r,t.g,t.b);return{l:e,c:r,h:i,a:t.a}},MWe=(n,t,e)=>{e=Lt(0,e,1);let r,i;if(Number.isNaN(n.h)&&Number.isNaN(t.h))r=0,i=0;else if(Number.isNaN(n.h))r=t.h,i=t.c;else if(Number.isNaN(t.h))r=n.h,i=n.c;else{const s=n.h;let l=t.h;const u=t.h-n.h;u>180?l-=360:u<-180&&(l+=360),r=s*(1-e)+l*e,i=n.c*(1-e)+t.c*e}const o=n.l*(1-e)+t.l*e,a=n.a*(1-e)+t.a*e;return Al.fromOKLCH(o,i,r,a)},ff=class{constructor(){this.invalid=!0,this.domain=[0,1],this.range=["red","blue"],this.parsedRange=this.range.map(Nz)}update(){const{domain:n,range:t}=this;n.length<2&&(Oe.warnOnce("`colorDomain` should have at least 2 values."),n.length===0?n.push(0,1):n.length===1&&n.push(n[0]+1));for(let e=1;e<n.length;e++){const r=n[e-1],i=n[e];if(r>=i){Oe.warnOnce("`colorDomain` values should be supplied in ascending order."),n.sort((o,a)=>o-a);break}}if(t.length<n.length)for(let e=t.length;e<n.length;e++)t.push(t.length>0?t[0]:"black");this.parsedRange=this.range.map(Nz)}convert(n){this.refresh();const{domain:t,range:e,parsedRange:r}=this,i=t[0],o=t.at(-1),a=e[0],s=e[e.length-1];if(n<=i)return a;if(n>=o)return s;let l,u;if(t.length===2){const p=(n-i)/(o-i),h=1/(e.length-1);l=e.length<=2?0:Math.min(Math.floor(p*(e.length-1)),e.length-2),u=(p-l*h)/h}else{for(l=0;l<t.length-2&&!(n<t[l+1]);l++);const p=t[l],h=t[l+1];u=(n-p)/(h-p)}const c=r[l],d=r[l+1];return MWe(c,d,u).toRgbaString()}refresh(){this.invalid&&(this.invalid=!1,this.update(),this.invalid&&Oe.warnOnce("Expected update to not invalidate scale"))}};R([mo],ff.prototype,"domain",2);R([mo],ff.prototype,"range",2);var $B=class extends So{constructor(){super(...arguments),this.maxSize=30}};R([F(Se),Pe({redraw:3})],$B.prototype,"maxSize",2);R([F(sP,{optional:!0}),Pe({redraw:3})],$B.prototype,"domain",2);var Jn=class extends sp{constructor(){super(...arguments),this.colorRange=["#ffff00","#00ff00","#0000ff"],this.marker=new $B,this.label=new ln,this.tooltip=new wo}};R([F(xe)],Jn.prototype,"xKey",2);R([F(xe)],Jn.prototype,"yKey",2);R([F(xe)],Jn.prototype,"sizeKey",2);R([F(xe,{optional:!0})],Jn.prototype,"labelKey",2);R([F(xe,{optional:!0})],Jn.prototype,"colorKey",2);R([F(xe,{optional:!0})],Jn.prototype,"xName",2);R([F(xe,{optional:!0})],Jn.prototype,"yName",2);R([F(xe,{optional:!0})],Jn.prototype,"sizeName",2);R([F(xe,{optional:!0})],Jn.prototype,"labelName",2);R([F(xe,{optional:!0})],Jn.prototype,"colorName",2);R([F(sP,{optional:!0})],Jn.prototype,"colorDomain",2);R([F(ns)],Jn.prototype,"colorRange",2);R([F(xe,{optional:!0})],Jn.prototype,"title",2);R([F(Ge)],Jn.prototype,"marker",2);R([F(Ge)],Jn.prototype,"label",2);R([F(Ge)],Jn.prototype,"tooltip",2);var FWe=class extends PB{constructor(n,t,e,r){super(n,t,e,r),this.sizeKey=r.properties.sizeKey}},WB=class xte extends lp{constructor(t){super({moduleCtx:t,pickModes:[2,3,0],pathsPerSeries:0,hasMarkers:!0,markerSelectionGarbageCollection:!1,animationResetFns:{label:xc,marker:h0}}),this.NodeClickEvent=FWe,this.properties=new Jn,this.sizeScale=new zl,this.colorScale=new ff}processData(t){return pe(this,null,function*(){var e,r;if(!this.properties.isValid()||this.data==null)return;const{isContinuousX:i,isContinuousY:o}=this.isContinuous(),{xKey:a,yKey:s,sizeKey:l,labelKey:u,colorDomain:c,colorRange:d,colorKey:p,marker:h}=this.properties,{dataModel:f,processedData:v}=yield this.requestDataModel(t,this.data,{props:[Xn(this,a,i,{id:"xKey-raw"}),Xn(this,s,o,{id:"yKey-raw"}),...u?[Xn(this,u,!1,{id:"labelKey-raw"})]:[],qt(this,a,i,{id:"xValue"}),qt(this,s,o,{id:"yValue"}),qt(this,l,!0,{id:"sizeValue"}),...p?[qt(this,p,!0,{id:"colorValue"})]:[],...u?[qt(this,u,!1,{id:"labelValue"})]:[]],dataVisible:this.visible}),g=f.resolveProcessedDataIndexById(this,"sizeValue").index,y=(e=v.domain.values[g])!=null?e:[];if(this.sizeScale.domain=h.domain?h.domain:y,p){const m=f.resolveProcessedDataIndexById(this,"colorValue").index;this.colorScale.domain=(r=c??v.domain.values[m])!=null?r:[],this.colorScale.range=d,this.colorScale.update()}this.animationState.transition("updateData")})}getSeriesDomain(t){const{dataModel:e,processedData:r}=this;if(!r||!e)return[];const i=t==="x"?"xValue":"yValue",o=e.resolveProcessedDataDefById(this,i),a=e.getDomain(this,i,"value",r);if((o==null?void 0:o.def.type)==="value"&&(o==null?void 0:o.def.valueType)==="category")return a;const s=this.axes[t];return Ri(ru(a),s)}createNodeData(){return pe(this,null,function*(){var t,e,r;const{axes:i,dataModel:o,processedData:a,colorScale:s,sizeScale:l}=this,{xKey:u,yKey:c,sizeKey:d,labelKey:p,xName:h,yName:f,sizeName:v,labelName:g,label:y,colorKey:m,marker:C,visible:S}=this.properties,w=i.x,_=i.y;if(!(o&&a&&S&&w&&_))return[];const x=o.resolveProcessedDataIndexById(this,"xValue").index,b=o.resolveProcessedDataIndexById(this,"yValue").index,O=d?o.resolveProcessedDataIndexById(this,"sizeValue").index:-1,T=m?o.resolveProcessedDataIndexById(this,"colorValue").index:-1,A=p?o.resolveProcessedDataIndexById(this,"labelValue").index:-1,N=w.scale,M=_.scale,L=((t=N.bandwidth)!=null?t:0)/2,G=((e=M.bandwidth)!=null?e:0)/2,H=[];l.range=[C.size,C.maxSize];const j=y.getFont();for(const{values:V,datum:W}of(r=a.data)!=null?r:[]){const K=V[x],ee=V[b],Z=N.convert(K)+L,se=M.convert(ee)+G,ie=this.getLabelText(y,{value:p?V[A]:ee,datum:W,xKey:u,yKey:c,sizeKey:d,labelKey:p,xName:h,yName:f,sizeName:v,labelName:g}),re=Ir.getTextSize(String(ie),j),Y=d?l.convert(V[O]):C.size,le=m?s.convert(V[T]):void 0;H.push({series:this,itemId:c,yKey:c,xKey:u,datum:W,xValue:K,yValue:ee,sizeValue:V[O],point:{x:Z,y:se,size:Y},midPoint:{x:Z,y:se},fill:le,label:te({text:ie},re)})}return[{itemId:c,nodeData:H,labelData:H,scales:fc(xte.prototype,this,"calculateScaling").call(this),visible:this.visible}]})}isPathOrSelectionDirty(){return this.properties.marker.isDirty()}getLabelData(){var t;return(t=this.contextNodeData)==null?void 0:t.reduce((e,r)=>e.concat(r.labelData),[])}markerFactory(){const{shape:t}=this.properties.marker,e=op(t);return new e}updateMarkerSelection(t){return pe(this,null,function*(){const{nodeData:e,markerSelection:r}=t;this.properties.marker.isDirty()&&(r.clear(),r.cleanup());const i=this.properties.marker.enabled?e:[];return r.update(i,void 0,o=>jd([o.xValue,o.yValue,o.label.text]))})}updateMarkerNodes(t){return pe(this,null,function*(){const{markerSelection:e,isHighlight:r}=t,{xKey:i,yKey:o,sizeKey:a,labelKey:s,marker:l}=this.properties,u=yt(r&&this.properties.highlightStyle.item,l.getStyle());this.sizeScale.range=[l.size,l.maxSize],e.each((c,d)=>{this.updateMarkerStyle(c,l,{datum:d,highlighted:r,xKey:i,yKey:o,sizeKey:a,labelKey:s},u)}),r||this.properties.marker.markClean()})}updateLabelSelection(t){return pe(this,null,function*(){var e,r;const i=this.properties.label.enabled?(r=(e=this.chart)==null?void 0:e.placeLabels().get(this))!=null?r:[]:[];return t.labelSelection.update(i.map(o=>Te(te({},o.datum),{point:{x:o.x,y:o.y,size:o.datum.point.size}})))})}updateLabelNodes(t){return pe(this,null,function*(){const{label:e}=this.properties;t.labelSelection.each((r,i)=>{var o,a,s,l;r.text=i.label.text,r.fill=e.color,r.x=(a=(o=i.point)==null?void 0:o.x)!=null?a:0,r.y=(l=(s=i.point)==null?void 0:s.y)!=null?l:0,r.fontStyle=e.fontStyle,r.fontWeight=e.fontWeight,r.fontSize=e.fontSize,r.fontFamily=e.fontFamily,r.textAlign="left",r.textBaseline="top"})})}getTooltipHtml(t){var e;const r=this.axes.x,i=this.axes.y;if(!this.properties.isValid()||!r||!i)return"";const{xKey:o,yKey:a,sizeKey:s,labelKey:l,xName:u,yName:c,sizeName:d,labelName:p,marker:h,tooltip:f}=this.properties,v=(e=this.properties.title)!=null?e:c,g=yt({fill:t.fill,strokeWidth:this.getStrokeWidth(h.strokeWidth)},h.getStyle()),{fill:y="gray"}=this.getMarkerStyle(h,{datum:t,highlighted:!1,xKey:o,yKey:a,sizeKey:s,labelKey:l},g),{datum:m,xValue:C,yValue:S,sizeValue:w,label:{text:_}}=t,x=fr(r.formatDatum(C)),b=fr(i.formatDatum(S));let O=`<b>${fr(u??o)}</b>: ${x}<br><b>${fr(c??a)}</b>: ${b}`;return s&&(O+=`<br><b>${fr(d??s)}</b>: ${fr(String(w))}`),l&&(O=`<b>${fr(p??l)}</b>: ${fr(_)}<br>`+O),f.toTooltipHtml({title:v,content:O,backgroundColor:y},{datum:m,xKey:o,xName:u,yKey:a,yName:c,sizeKey:s,sizeName:d,labelKey:l,labelName:p,title:v,color:y,seriesId:this.id})}getLegendData(){var t,e;if(!((t=this.data)!=null&&t.length)||!this.properties.isValid())return[];const{yKey:r,yName:i,title:o,marker:a,visible:s}=this.properties,{shape:l,fill:u,stroke:c,fillOpacity:d,strokeOpacity:p,strokeWidth:h}=a;return[{legendType:"category",id:this.id,itemId:r,seriesId:this.id,enabled:s,label:{text:(e=o??i)!=null?e:r},marker:{shape:l,fill:u??"rgba(0, 0, 0, 0)",stroke:c??"rgba(0, 0, 0, 0)",fillOpacity:d??1,strokeOpacity:p??1,strokeWidth:h??0}}]}animateEmptyUpdateReady({markerSelections:t,labelSelections:e}){MB(this,this.ctx.animationManager,t),$t(this,"labels",this.ctx.animationManager,e)}isLabelEnabled(){return this.properties.label.enabled}nodeFactory(){return new Ie}};WB.className="BubbleSeries";WB.type="bubble";var LWe=WB,IWe={type:"series",optionsKey:"series[]",packageType:"community",chartTypes:["cartesian"],identifier:"bubble",instanceConstructor:LWe,seriesDefaults:{axes:[{type:"number",position:"bottom"},{type:"number",position:"left"}]},themeTemplate:{series:{__extends__:vc,tooltip:{position:{type:"node"}},marker:{__extends__:zg,maxSize:30,fillOpacity:.8},label:{enabled:!1,fontStyle:void 0,fontWeight:void 0,fontSize:12,fontFamily:vn,color:kt}}},paletteFactory:p0},On=class extends sp{constructor(){super(...arguments),this.fillOpacity=1,this.strokeWidth=1,this.strokeOpacity=1,this.lineDash=[0],this.lineDashOffset=0,this.areaPlot=!1,this.aggregation="sum",this.shadow=new Zs,this.label=new ln,this.tooltip=new wo}};R([F(xe)],On.prototype,"xKey",2);R([F(xe,{optional:!0})],On.prototype,"yKey",2);R([F(xe,{optional:!0})],On.prototype,"xName",2);R([F(xe,{optional:!0})],On.prototype,"yName",2);R([F(Dt,{optional:!0})],On.prototype,"fill",2);R([F(Wt)],On.prototype,"fillOpacity",2);R([F(Dt,{optional:!0})],On.prototype,"stroke",2);R([F(Se)],On.prototype,"strokeWidth",2);R([F(Wt)],On.prototype,"strokeOpacity",2);R([F(mc)],On.prototype,"lineDash",2);R([F(Se)],On.prototype,"lineDashOffset",2);R([F(ze)],On.prototype,"areaPlot",2);R([F(e0,{optional:!0})],On.prototype,"bins",2);R([F(Kr(["count","sum","mean"],"a histogram aggregation"))],On.prototype,"aggregation",2);R([F(Se,{optional:!0})],On.prototype,"binCount",2);R([F(Ge)],On.prototype,"shadow",2);R([F(Ge)],On.prototype,"label",2);R([F(Ge)],On.prototype,"tooltip",2);var kz=10,UB=class Ete extends lp{constructor(t){super({moduleCtx:t,pickModes:[0],datumSelectionGarbageCollection:!1,animationResetFns:{datum:nw,label:xc}}),this.properties=new On,this.calculatedBins=[]}deriveBins(t){if(this.properties.binCount)return this.calculateNiceBins(t,this.properties.binCount);const e=dP(t[0],t[1],kz),r=Og(t[0],t[1],kz),[i]=e,o=a=>[a,a+r];return[[i-r,i],...e.map(o)]}calculateNiceBins(t,e){const r=Math.floor(t[0]),i=t[1],o=e||1,{start:a,binSize:s}=this.calculateNiceStart(r,i,o);return this.getBins(a,i,s,o)}getBins(t,e,r,i){const o=[],a=this.calculatePrecision(r);for(let s=0;s<i;s++){const l=Math.round((t+s*r)*a)/a;let u=Math.round((t+(s+1)*r)*a)/a;s===i-1&&(u=Math.max(u,e)),o[s]=[l,u]}return o}calculatePrecision(t){let e=10;if(isFinite(t)&&t>0)for(;t<1;)e*=10,t*=10;return e}calculateNiceStart(t,e,r){const i=Math.abs(e-t)/r,o=Math.floor(Math.log10(i)),a=Math.pow(10,o);return{start:Math.floor(t/a)*a,binSize:i}}processData(t){return pe(this,null,function*(){var e;const{xKey:r,yKey:i,areaPlot:o,aggregation:a}=this.properties,s=[Xn(this,r,!0),$ee];if(i){let u=BI(this,"groupCount");a==="count"||(a==="sum"?u=Gee(this,"groupAgg"):a==="mean"&&(u=Bee(this,"groupAgg"))),o&&(u=HI(this,"groupAgg",u)),s.push(qt(this,i,!0,{invalidValue:void 0}),u)}else{let u=BI(this,"groupAgg");o&&(u=HI(this,"groupAgg",u)),s.push(u)}const l=u=>{var c;const d=Ri(u.domain.keys[0]);if(d.length===0)return u.domain.groups=[],()=>[];const p=(c=this.properties.bins)!=null?c:this.deriveBins(d),h=p.length;return this.calculatedBins=[...p],f=>{const v=f.keys[0];for(let g=0;g<h;g++){const y=p[g];if(v>=y[0]&&v<y[1]||g===h-1&&v<=y[1])return y}return[]}};!this.ctx.animationManager.isSkipped()&&this.processedData&&s.push(hf(this.processedData,!1)),yield this.requestDataModel(t,(e=this.data)!=null?e:[],{props:s,dataVisible:this.visible,groupByFn:l}),this.animationState.transition("updateData")})}getSeriesDomain(t){var e,r,i,o;const{processedData:a,dataModel:s}=this;if(!a||!s||!this.calculatedBins.length)return[];const l=s.getDomain(this,"groupAgg","aggregate",a),u=(e=this.calculatedBins)==null?void 0:e[0][0],c=(o=this.calculatedBins)==null?void 0:o[((i=(r=this.calculatedBins)==null?void 0:r.length)!=null?i:0)-1][1];return Ri(t==="x"?[u,c]:l)}createNodeData(){return pe(this,null,function*(){var t;const{id:e,axes:r,processedData:i,ctx:{callbackCache:o}}=this,a=r.x,s=r.y;if(!this.visible||!a||!s||!i||i.type!=="grouped")return[];const{scale:l}=a,{scale:u}=s,{xKey:c,yKey:d,xName:p,yName:h,fill:f,stroke:v,strokeWidth:g}=this.properties,{formatter:y=b=>String(b.value),fontStyle:m,fontWeight:C,fontSize:S,fontFamily:w,color:_}=this.properties.label,x=[];return i.data.forEach(b=>{var O;const{aggValues:[[T,A]]=[[0,0]],datum:N,datum:{length:M},keys:L,keys:[G,H]}=b,j=l.convert(G),V=l.convert(H),W=T+A,K=u.convert(0),ee=u.convert(W),Z=Math.abs(V-j),se=Math.abs(ee-K),ie=Math.min(j,V),re=Math.min(K,ee),Y=W!==0?{text:(O=o.call(y,{value:W,datum:N,seriesId:e,xKey:c,yKey:d,xName:p,yName:h}))!=null?O:String(W),fontStyle:m,fontWeight:C,fontSize:S,fontFamily:w,fill:_,x:ie+Z/2,y:re+se/2}:void 0,le={x:ie+Z/2,y:re+se/2};x.push({series:this,datum:N,aggregatedValue:W,frequency:M,domain:L,yKey:d,xKey:c,x:ie,y:re,xValue:j,yValue:ee,width:Z,height:se,midPoint:le,fill:f,stroke:v,opacity:1,strokeWidth:g,label:Y})}),[{itemId:(t=this.properties.yKey)!=null?t:this.id,nodeData:x,labelData:x,scales:fc(Ete.prototype,this,"calculateScaling").call(this),animationValid:!0,visible:this.visible}]})}nodeFactory(){return new vi}updateDatumSelection(t){return pe(this,null,function*(){const{nodeData:e,datumSelection:r}=t;return r.update(e,i=>{i.tag=0,i.crisp=!0},i=>i.domain.join("_"))})}updateDatumNodes(t){return pe(this,null,function*(){const{isHighlight:e}=t,{fillOpacity:r,strokeOpacity:i,lineDash:o,lineDashOffset:a,shadow:s,highlightStyle:{item:{fill:l,fillOpacity:u=r,stroke:c,strokeWidth:d}}}=this.properties;t.datumSelection.each((p,h,f)=>{var v,g;const y=e&&d!==void 0?d:h.strokeWidth,m=e?u:r;p.fill=(v=e?l:void 0)!=null?v:h.fill,p.stroke=(g=e?c:void 0)!=null?g:h.stroke,p.fillOpacity=m,p.strokeOpacity=i,p.strokeWidth=y,p.lineDash=o,p.lineDashOffset=a,p.fillShadow=s,p.zIndex=e?ry.highlightedZIndex:f,p.visible=h.height>0})})}updateLabelSelection(t){return pe(this,null,function*(){const{labelData:e,labelSelection:r}=t;return r.update(e,i=>{i.tag=1,i.pointerEvents=1,i.textAlign="center",i.textBaseline="middle"})})}updateLabelNodes(t){return pe(this,null,function*(){const e=this.isLabelEnabled();t.labelSelection.each((r,i)=>{const o=i.label;o&&e?(r.text=o.text,r.x=o.x,r.y=o.y,r.fontStyle=o.fontStyle,r.fontWeight=o.fontWeight,r.fontSize=o.fontSize,r.fontFamily=o.fontFamily,r.fill=o.fill,r.visible=!0):r.visible=!1})})}getTooltipHtml(t){const e=this.axes.x,r=this.axes.y;if(!this.properties.isValid()||!e||!r)return"";const{xKey:i,yKey:o,xName:a,yName:s,fill:l,aggregation:u,tooltip:c}=this.properties,{aggregatedValue:d,frequency:p,domain:[h,f]}=t,v=`${fr(a??i)}: ${e.formatDatum(h)} - ${e.formatDatum(f)}`;let g=o?`<b>${fr(s??o)} (${u})</b>: ${r.formatDatum(d)}<br>`:"";g+=`<b>Frequency</b>: ${p}`;const y={title:v,backgroundColor:l,content:g};return c.toTooltipHtml(y,{datum:{data:t.datum,aggregatedValue:t.aggregatedValue,domain:t.domain,frequency:t.frequency},xKey:i,xName:a,yKey:o,yName:s,color:l,title:v,seriesId:this.id})}getLegendData(t){var e,r;if(!((e=this.data)!=null&&e.length)||t!=="category")return[];const{xKey:i,yName:o,fill:a,fillOpacity:s,stroke:l,strokeWidth:u,strokeOpacity:c,visible:d}=this.properties;return[{legendType:"category",id:this.id,itemId:i,seriesId:this.id,enabled:d,label:{text:(r=o??i)!=null?r:"Frequency"},marker:{fill:a??"rgba(0, 0, 0, 0)",stroke:l??"rgba(0, 0, 0, 0)",fillOpacity:s,strokeOpacity:c,strokeWidth:u}}]}animateEmptyUpdateReady({datumSelections:t,labelSelections:e}){const r=rw(tw(!0,this.axes,"normal"));yr(this.id,"datums",this.ctx.animationManager,t,r),$t(this,"labels",this.ctx.animationManager,e)}animateWaitingUpdateReady(t){var e,r;const i=(r=(e=this.processedData)==null?void 0:e.reduced)==null?void 0:r.diff,o=rw(tw(!0,this.axes,"normal"));yr(this.id,"datums",this.ctx.animationManager,t.datumSelections,o,(a,s)=>jd(s.domain),i),$t(this,"labels",this.ctx.animationManager,t.labelSelections)}isLabelEnabled(){return this.properties.label.enabled}};UB.className="HistogramSeries";UB.type="histogram";var NWe=UB,kWe={type:"series",optionsKey:"series[]",packageType:"community",chartTypes:["cartesian"],identifier:"histogram",instanceConstructor:NWe,seriesDefaults:{axes:[{type:"number",position:"bottom"},{type:"number",position:"left"}]},themeTemplate:{series:{__extends__:vc,strokeWidth:1,fillOpacity:1,strokeOpacity:1,lineDash:[0],lineDashOffset:0,label:{enabled:!1,fontStyle:void 0,fontWeight:void 0,fontSize:12,fontFamily:vn,color:Kg,formatter:void 0},shadow:{enabled:!1,color:Yg,xOffset:3,yOffset:3,blur:5}}},paletteFactory:({takeColors:n})=>{const{fills:[t],strokes:[e]}=n(1);return{fill:t,stroke:e}}},Ii=class extends sp{constructor(){super(...arguments),this.stroke="#874349",this.strokeWidth=2,this.strokeOpacity=1,this.lineDash=[0],this.lineDashOffset=0,this.marker=new So,this.label=new ln,this.tooltip=new wo,this.connectMissingData=!1}};R([F(xe)],Ii.prototype,"xKey",2);R([F(xe)],Ii.prototype,"yKey",2);R([F(xe,{optional:!0})],Ii.prototype,"xName",2);R([F(xe,{optional:!0})],Ii.prototype,"yName",2);R([F(xe,{optional:!0})],Ii.prototype,"title",2);R([F(Dt)],Ii.prototype,"stroke",2);R([F(Se)],Ii.prototype,"strokeWidth",2);R([F(Wt)],Ii.prototype,"strokeOpacity",2);R([F(mc)],Ii.prototype,"lineDash",2);R([F(Se)],Ii.prototype,"lineDashOffset",2);R([F(Ge)],Ii.prototype,"marker",2);R([F(Ge)],Ii.prototype,"label",2);R([F(Ge)],Ii.prototype,"tooltip",2);R([F(ze)],Ii.prototype,"connectMissingData",2);var zB=class bte extends lp{constructor(t){super({moduleCtx:t,hasMarkers:!0,pickModes:[2,3,0],markerSelectionGarbageCollection:!1,animationResetFns:{path:GB({getOpacity:()=>this.getOpacity()}),label:xc,marker:(e,r)=>te(te({},h0()),QS(e,r))}}),this.properties=new Ii}processData(t){return pe(this,null,function*(){if(!this.properties.isValid()||this.data==null)return;const{xKey:e,yKey:r}=this.properties,i=!this.ctx.animationManager.isSkipped(),{isContinuousX:o,isContinuousY:a}=this.isContinuous(),s=[];o||(s.push(Xn(this,e,o,{id:"xKey"})),i&&this.processedData&&s.push(hf(this.processedData))),i&&s.push(ty(this,o?["xValue"]:[])),s.push(qt(this,e,o,{id:"xValue"}),qt(this,r,a,{id:"yValue",invalidValue:void 0})),yield this.requestDataModel(t,this.data,{props:s}),this.animationState.transition("updateData")})}getSeriesDomain(t){const{axes:e,dataModel:r,processedData:i}=this;if(!i||!r)return[];const o=e.x,a=e.y,s=r.resolveProcessedDataDefById(this,"xValue");if(t==="x"){const l=r.getDomain(this,"xValue","value",i);return(s==null?void 0:s.def.type)==="value"&&s.def.valueType==="category"?l:Ri(ru(l),o)}else{const l=r.getDomain(this,"yValue","value",i);return Ri(l,a)}}createNodeData(){return pe(this,null,function*(){var t,e,r;const{processedData:i,dataModel:o,axes:a}=this,s=a.x,l=a.y;if(!i||!o||!s||!l)return[];const{xKey:u,yKey:c,xName:d,yName:p,marker:h,label:f,connectMissingData:v}=this.properties,g=s.scale,y=l.scale,m=((t=g.bandwidth)!=null?t:0)/2,C=((e=y.bandwidth)!=null?e:0)/2,S=[],w=h.enabled?h.size:0,_=o.resolveProcessedDataIndexById(this,"xValue").index,x=o.resolveProcessedDataIndexById(this,"yValue").index;let b=!0,O;for(let T=0;T<i.data.length;T++){const{datum:A,values:N}=O??i.data[T],M=N[_],L=N[x];if(L===void 0)b=!v;else{const G=g.convert(M)+m;if(isNaN(G)){b=!v,O=void 0;continue}O=((r=i.data[T+1])==null?void 0:r.values[x])===void 0?void 0:i.data[T+1];const H=y.convert(L)+C,j=this.getLabelText(f,{value:L,datum:A,xKey:u,yKey:c,xName:d,yName:p},V=>Gt(V)?V.toFixed(2):String(V));S.push({series:this,datum:A,yKey:c,xKey:u,point:{x:G,y:H,moveTo:b,size:w},midPoint:{x:G,y:H},yValue:L,xValue:M,capDefaults:{lengthRatioMultiplier:this.properties.marker.getDiameter(),lengthMax:1/0},label:j?{text:j,fontStyle:f.fontStyle,fontWeight:f.fontWeight,fontSize:f.fontSize,fontFamily:f.fontFamily,textAlign:"center",textBaseline:"bottom",fill:f.color}:void 0}),b=!1}}return[{itemId:c,nodeData:S,labelData:S,scales:fc(bte.prototype,this,"calculateScaling").call(this),visible:this.visible}]})}isPathOrSelectionDirty(){return this.properties.marker.isDirty()}markerFactory(){const{shape:t}=this.properties.marker,e=op(t);return new e}updatePathNodes(t){return pe(this,null,function*(){const{paths:[e],opacity:r,visible:i,animationEnabled:o}=t;e.setProperties({fill:void 0,lineJoin:"round",pointerEvents:1,opacity:r,stroke:this.properties.stroke,strokeWidth:this.getStrokeWidth(this.properties.strokeWidth),strokeOpacity:this.properties.strokeOpacity,lineDash:this.properties.lineDash,lineDashOffset:this.properties.lineDashOffset}),o||(e.visible=i),GO(this,e)})}updateMarkerSelection(t){return pe(this,null,function*(){let{nodeData:e}=t;const{markerSelection:r}=t,{shape:i,enabled:o}=this.properties.marker;return e=i&&o?e:[],this.properties.marker.isDirty()&&(r.clear(),r.cleanup()),r.update(e,void 0,a=>jd(a.xValue))})}updateMarkerNodes(t){return pe(this,null,function*(){const{markerSelection:e,isHighlight:r}=t,{xKey:i,yKey:o,stroke:a,strokeWidth:s,strokeOpacity:l,marker:u,highlightStyle:c}=this.properties,d=yt(r&&c.item,u.getStyle(),{stroke:a,strokeWidth:s,strokeOpacity:l}),p=this.ctx.animationManager.isSkipped();e.each((h,f)=>{this.updateMarkerStyle(h,u,{datum:f,highlighted:r,xKey:i,yKey:o},d,{applyTranslation:p})}),r||u.markClean()})}updateLabelSelection(t){return pe(this,null,function*(){return t.labelSelection.update(this.isLabelEnabled()?t.labelData:[])})}updateLabelNodes(t){return pe(this,null,function*(){const{enabled:e,fontStyle:r,fontWeight:i,fontSize:o,fontFamily:a,color:s}=this.properties.label;t.labelSelection.each((l,u)=>{const{point:c,label:d}=u;u&&d&&e?(l.fontStyle=r,l.fontWeight=i,l.fontSize=o,l.fontFamily=a,l.textAlign=d.textAlign,l.textBaseline=d.textBaseline,l.text=d.text,l.x=c.x,l.y=c.y-10,l.fill=s,l.visible=!0):l.visible=!1})})}getTooltipHtml(t){var e;const r=this.axes.x,i=this.axes.y;if(!this.properties.isValid()||!r||!i)return"";const{xKey:o,yKey:a,xName:s,yName:l,strokeWidth:u,marker:c,tooltip:d}=this.properties,{datum:p,xValue:h,yValue:f}=t,v=r.formatDatum(h),g=i.formatDatum(f),y=fr((e=this.properties.title)!=null?e:l),m=fr(v+": "+g),C=yt({fill:c.stroke},c.getStyle(),{strokeWidth:u}),{fill:S}=this.getMarkerStyle(c,{datum:t,xKey:o,yKey:a,highlighted:!1},C);return d.toTooltipHtml({title:y,content:m,backgroundColor:S},te({datum:p,xKey:o,xName:s,yKey:a,yName:l,title:y,color:S,seriesId:this.id},this.getModuleTooltipParams()))}getLegendData(t){var e,r,i,o,a,s,l,u,c;if(!((e=this.data)!=null&&e.length&&this.properties.isValid()&&t==="category"))return[];const{yKey:d,yName:p,stroke:h,strokeOpacity:f,strokeWidth:v,lineDash:g,title:y,marker:m,visible:C}=this.properties,S="rgba(0, 0, 0, 0)";return[{legendType:"category",id:this.id,itemId:d,seriesId:this.id,enabled:C,label:{text:(r=y??p)!=null?r:d},marker:{shape:m.shape,fill:(i=m.fill)!=null?i:S,stroke:(a=(o=m.stroke)!=null?o:h)!=null?a:S,fillOpacity:(s=m.fillOpacity)!=null?s:1,strokeOpacity:(u=(l=m.strokeOpacity)!=null?l:f)!=null?u:1,strokeWidth:(c=m.strokeWidth)!=null?c:0,enabled:m.enabled},line:{stroke:h??S,strokeOpacity:f,strokeWidth:v,lineDash:g}}]}updatePaths(t){return pe(this,null,function*(){this.updateLinePaths([t.paths],[t.contextData])})}updateLinePaths(t,e){e.forEach(({nodeData:r},i)=>{const[o]=t[i],{path:a}=o;a.clear({trackChanges:!0});for(const s of r)s.point.moveTo?a.moveTo(s.point.x,s.point.y):a.lineTo(s.point.x,s.point.y);o.checkPathDirty()})}animateEmptyUpdateReady(t){const{markerSelections:e,labelSelections:r,annotationSelections:i,contextData:o,paths:a}=t,{animationManager:s}=this.ctx;this.updateLinePaths(a,o),kB(this,s,a.flat()),gn(e,QS),FB(this,s,e),$t(this,"labels",s,r),$t(this,"annotations",s,i)}animateReadyResize(t){const{contextData:e,paths:r}=t;this.updateLinePaths(r,e),super.animateReadyResize(t)}animateWaitingUpdateReady(t){var e,r;const{animationManager:i}=this.ctx,{markerSelections:o,labelSelections:a,annotationSelections:s,contextData:l,paths:u,previousContextData:c}=t,[d]=u;super.resetAllAnimation(t);const p=()=>{this.updateLinePaths(u,l)},h=()=>{i.skipCurrentBatch(),p()};if(l.length===0||(c==null?void 0:c.length)===0){p(),ZS(this,i,o,"added"),$C(this,"path_properties",i,d??[]),$t(this,"labels",i,a),$t(this,"annotations",i,s);return}const[f]=l,[v]=c??[],g=dte(f,v,(r=(e=this.processedData)==null?void 0:e.reduced)==null?void 0:r.diff);if(g===void 0){h();return}ZS(this,i,o),yr(this.id,"path_properties",i,d,g.pathProperties),ate(this.id,"path_update",i,d,g.path),g.hasMotion&&($t(this,"labels",i,a),$t(this,"annotations",i,s))}isLabelEnabled(){return this.properties.label.enabled}getBandScalePadding(){return{inner:1,outer:.1}}nodeFactory(){return new Ie}};zB.className="LineSeries";zB.type="line";var GWe=zB,VWe={type:"series",optionsKey:"series[]",packageType:"community",chartTypes:["cartesian"],identifier:"line",instanceConstructor:GWe,seriesDefaults:{axes:[{type:"number",position:"left"},{type:"category",position:"bottom"}]},themeTemplate:{series:{__extends__:vc,tooltip:{position:{type:"node"}},strokeWidth:2,strokeOpacity:1,lineDash:[0],lineDashOffset:0,marker:{__extends__:zg,fillOpacity:1,strokeOpacity:1,strokeWidth:0},label:{enabled:!1,fontStyle:void 0,fontWeight:void 0,fontSize:12,fontFamily:vn,color:kt,formatter:void 0}}},enterpriseThemeTemplate:{series:{errorBar:{cap:{lengthRatio:1}}}},paletteFactory:n=>{const{marker:t}=p0(n);return{stroke:t.fill,marker:t}}},Ni=class extends sp{constructor(){super(...arguments),this.colorRange=["#ffff00","#00ff00","#0000ff"],this.marker=new So,this.label=new ln,this.tooltip=new wo}};R([F(xe)],Ni.prototype,"xKey",2);R([F(xe)],Ni.prototype,"yKey",2);R([F(xe,{optional:!0})],Ni.prototype,"labelKey",2);R([F(xe,{optional:!0})],Ni.prototype,"colorKey",2);R([F(xe,{optional:!0})],Ni.prototype,"xName",2);R([F(xe,{optional:!0})],Ni.prototype,"yName",2);R([F(xe,{optional:!0})],Ni.prototype,"labelName",2);R([F(xe,{optional:!0})],Ni.prototype,"colorName",2);R([F(sP,{optional:!0})],Ni.prototype,"colorDomain",2);R([F(ns)],Ni.prototype,"colorRange",2);R([F(xe,{optional:!0})],Ni.prototype,"title",2);R([F(Ge)],Ni.prototype,"marker",2);R([F(Ge)],Ni.prototype,"label",2);R([F(Ge)],Ni.prototype,"tooltip",2);var KB=class Ote extends lp{constructor(t){super({moduleCtx:t,pickModes:[2,3,0],pathsPerSeries:0,hasMarkers:!0,markerSelectionGarbageCollection:!1,animationResetFns:{marker:h0,label:xc}}),this.properties=new Ni,this.colorScale=new ff}processData(t){return pe(this,null,function*(){var e;if(!this.properties.isValid()||this.data==null)return;const{isContinuousX:r,isContinuousY:i}=this.isContinuous(),{xKey:o,yKey:a,labelKey:s,colorKey:l,colorDomain:u,colorRange:c}=this.properties,{dataModel:d,processedData:p}=yield this.requestDataModel(t,this.data,{props:[Xn(this,o,r,{id:"xKey-raw"}),Xn(this,a,i,{id:"yKey-raw"}),...s?[Xn(this,s,!1,{id:"labelKey-raw"})]:[],qt(this,o,r,{id:"xValue"}),qt(this,a,i,{id:"yValue"}),...l?[qt(this,l,!0,{id:"colorValue"})]:[],...s?[qt(this,s,!1,{id:"labelValue"})]:[]],dataVisible:this.visible});if(l){const h=d.resolveProcessedDataIndexById(this,"colorValue").index;this.colorScale.domain=(e=u??p.domain.values[h])!=null?e:[],this.colorScale.range=c,this.colorScale.update()}this.animationState.transition("updateData")})}getSeriesDomain(t){const{dataModel:e,processedData:r}=this;if(!r||!e)return[];const i=t==="x"?"xValue":"yValue",o=e.resolveProcessedDataDefById(this,i),a=e.getDomain(this,i,"value",r);if((o==null?void 0:o.def.type)==="value"&&(o==null?void 0:o.def.valueType)==="category")return a;const s=this.axes[t];return Ri(ru(a),s)}createNodeData(){return pe(this,null,function*(){var t,e,r;const{axes:i,dataModel:o,processedData:a,colorScale:s}=this,{xKey:l,yKey:u,labelKey:c,colorKey:d,xName:p,yName:h,labelName:f,marker:v,label:g,visible:y}=this.properties,m=i.x,C=i.y;if(!(o&&a&&y&&m&&C))return[];const S=o.resolveProcessedDataIndexById(this,"xValue").index,w=o.resolveProcessedDataIndexById(this,"yValue").index,_=d?o.resolveProcessedDataIndexById(this,"colorValue").index:-1,x=c?o.resolveProcessedDataIndexById(this,"labelValue").index:-1,b=m.scale,O=C.scale,T=((t=b.bandwidth)!=null?t:0)/2,A=((e=O.bandwidth)!=null?e:0)/2,N=[],M=g.getFont();for(const{values:L,datum:G}of(r=a.data)!=null?r:[]){const H=L[S],j=L[w],V=b.convert(H)+T,W=O.convert(j)+A,K=this.getLabelText(g,{value:c?L[x]:j,datum:G,xKey:l,yKey:u,labelKey:c,xName:p,yName:h,labelName:f}),ee=Ir.getTextSize(K,M),Z=d?s.convert(L[_]):void 0;N.push({series:this,itemId:u,yKey:u,xKey:l,datum:G,xValue:H,yValue:j,capDefaults:{lengthRatioMultiplier:v.getDiameter(),lengthMax:1/0},point:{x:V,y:W,size:v.size},midPoint:{x:V,y:W},fill:Z,label:te({text:K},ee)})}return[{itemId:u,nodeData:N,labelData:N,scales:fc(Ote.prototype,this,"calculateScaling").call(this),visible:this.visible}]})}isPathOrSelectionDirty(){return this.properties.marker.isDirty()}getLabelData(){var t;return(t=this.contextNodeData)==null?void 0:t.reduce((e,r)=>e.concat(r.labelData),[])}markerFactory(){const{shape:t}=this.properties.marker,e=op(t);return new e}updateMarkerSelection(t){return pe(this,null,function*(){const{nodeData:e,markerSelection:r}=t;return this.properties.marker.isDirty()&&(r.clear(),r.cleanup()),r.update(this.properties.marker.enabled?e:[])})}updateMarkerNodes(t){return pe(this,null,function*(){const{markerSelection:e,isHighlight:r}=t,{xKey:i,yKey:o,labelKey:a,marker:s,highlightStyle:l}=this.properties,u=yt(r&&l.item,s.getStyle());e.each((c,d)=>{this.updateMarkerStyle(c,s,{datum:d,highlighted:r,xKey:i,yKey:o,labelKey:a},u)}),r||s.markClean()})}updateLabelSelection(t){return pe(this,null,function*(){var e,r;const i=this.isLabelEnabled()?(r=(e=this.chart)==null?void 0:e.placeLabels().get(this))!=null?r:[]:[];return t.labelSelection.update(i.map(({datum:o,x:a,y:s})=>Te(te({},o),{point:{x:a,y:s,size:o.point.size}})),o=>{o.pointerEvents=1})})}updateLabelNodes(t){return pe(this,null,function*(){const{label:e}=this.properties;t.labelSelection.each((r,i)=>{var o,a,s,l;r.text=i.label.text,r.fill=e.color,r.x=(a=(o=i.point)==null?void 0:o.x)!=null?a:0,r.y=(l=(s=i.point)==null?void 0:s.y)!=null?l:0,r.fontStyle=e.fontStyle,r.fontWeight=e.fontWeight,r.fontSize=e.fontSize,r.fontFamily=e.fontFamily,r.textAlign="left",r.textBaseline="top"})})}getTooltipHtml(t){const e=this.axes.x,r=this.axes.y;if(!this.properties.isValid()||!e||!r)return"";const{xKey:i,yKey:o,labelKey:a,xName:s,yName:l,labelName:u,title:c=l,marker:d,tooltip:p}=this.properties,{datum:h,xValue:f,yValue:v,label:g}=t,y=yt({fill:t.fill,strokeWidth:this.getStrokeWidth(d.strokeWidth)},d.getStyle()),{fill:m="gray"}=this.getMarkerStyle(d,{datum:t,highlighted:!1,xKey:i,yKey:o,labelKey:a},y),C=fr(e.formatDatum(f)),S=fr(r.formatDatum(v));let w=`<b>${fr(s??i)}</b>: ${C}<br><b>${fr(l??o)}</b>: ${S}`;return a&&(w=`<b>${fr(u??a)}</b>: ${fr(g.text)}<br>`+w),p.toTooltipHtml({title:c,content:w,backgroundColor:m},te({datum:h,xKey:i,xName:s,yKey:o,yName:l,labelKey:a,labelName:u,title:c,color:m,seriesId:this.id},this.getModuleTooltipParams()))}getLegendData(t){var e,r,i,o,a,s;const{yKey:l,yName:u,title:c,marker:d,visible:p}=this.properties,{fill:h,stroke:f,fillOpacity:v,strokeOpacity:g,strokeWidth:y}=d;return!((e=this.data)!=null&&e.length)||!this.properties.isValid()||t!=="category"?[]:[{legendType:"category",id:this.id,itemId:l,seriesId:this.id,enabled:p,label:{text:(r=c??u)!=null?r:l},marker:{shape:d.shape,fill:(o=(i=d.fill)!=null?i:h)!=null?o:"rgba(0, 0, 0, 0)",stroke:(s=(a=d.stroke)!=null?a:f)!=null?s:"rgba(0, 0, 0, 0)",fillOpacity:v??1,strokeOpacity:g??1,strokeWidth:y??0}}]}animateEmptyUpdateReady(t){const{markerSelections:e,labelSelections:r,annotationSelections:i}=t;MB(this,this.ctx.animationManager,e),$t(this,"labels",this.ctx.animationManager,r),$t(this,"annotations",this.ctx.animationManager,i)}isLabelEnabled(){return this.properties.label.enabled}nodeFactory(){return new Ie}};KB.className="ScatterSeries";KB.type="scatter";var BWe=KB,HWe={type:"series",optionsKey:"series[]",packageType:"community",chartTypes:["cartesian"],identifier:"scatter",instanceConstructor:BWe,seriesDefaults:{axes:[{type:"number",position:"bottom"},{type:"number",position:"left"}]},themeTemplate:{series:{__extends__:vc,tooltip:{position:{type:"node"}},marker:{__extends__:zg,fillOpacity:.8},label:{enabled:!1,fontStyle:void 0,fontWeight:void 0,fontSize:12,fontFamily:vn,color:kt}}},enterpriseThemeTemplate:{series:{errorBar:{cap:{lengthRatio:1}}}},paletteFactory:p0};function YB(n,t,e){const r=Math.sqrt(Math.pow(n,2)+Math.pow(t,2)),{innerRadius:i,outerRadius:o}=e;if(e.startAngle===e.endAngle||r<Math.min(i,o)||r>Math.max(i,o))return!1;const a=US(e.startAngle),s=US(e.endAngle),l=Math.atan2(t,n);return a<s?l<=s&&l>=a:l<=s&&l>=-Math.PI||l>=a&&l<=Math.PI}function Gz(n,t){const{startAngle:e,endAngle:r,innerRadius:i,outerRadius:o}=t,a={x:o*Math.cos(e),y:o*Math.sin(e)},s={x:o*Math.cos(r),y:o*Math.sin(r)},l=i===0?{x:0,y:0}:{x:i*Math.cos(e),y:i*Math.sin(e)},u=i===0?{x:0,y:0}:{x:i*Math.cos(r),y:i*Math.sin(r)};return HC(n.start.x,n.start.y,n.end.x,n.end.y,a.x,a.y,l.x,l.y)!=null||HC(n.start.x,n.start.y,n.end.x,n.end.y,s.x,s.y,u.x,u.y)!=null||Ree(0,0,o,e,r,!0,n.start.x,n.start.y,n.end.x,n.end.y).length>0}function Rte(n,t){const e={x:n.x,y:n.y},r={x:n.x+n.width,y:n.y},i={x:n.x,y:n.y+n.height},o={x:n.x+n.width,y:n.y+n.height};return Gz({start:e,end:r},t)||Gz({start:i,end:o},t)}var as=class extends ha{constructor(){super(...arguments),this.centerX=0,this.centerY=0,this.innerRadius=10,this.outerRadius=20,this.startAngle=0,this.endAngle=Math.PI*2,this.angleOffset=0,this.inset=0}computeBBox(){const n=this.outerRadius;return new et(this.centerX-n,this.centerY-n,n*2,n*2)}updatePath(){const n=this.path,{angleOffset:t,inset:e}=this,r=this.startAngle+t,i=this.endAngle+t,o=r<=i?i-r:Math.PI*2-(r-i),a=Math.max(Math.min(this.innerRadius,this.outerRadius)+e,0),s=Math.max(Math.max(this.innerRadius,this.outerRadius)-e,0),l=o>=2*Math.PI,u=this.centerX,c=this.centerY;if(n.clear(),l)n.arc(u,c,s,r,i),a>e&&(n.moveTo(u+a*Math.cos(i),c+a*Math.sin(i)),n.arc(u,c,a,i,r,!0));else{const d=a>0?e/a:0,p=s>0?e/s:0;if(o<2*p)return;const f=a<=e||o<2*d;if(f){const v=o<Math.PI*.5?e*(1+Math.cos(o))/Math.sin(o):NaN;let g;v>0&&v<s?g=Math.max(Math.hypot(e,v),a):g=a;const y=r+o*.5;n.moveTo(u+g*Math.cos(y),c+g*Math.sin(y))}else n.moveTo(u+a*Math.cos(r+d),c+a*Math.sin(r+d));n.arc(u,c,s,r+p,i-p),f||(a>0?n.arc(u,c,a,i-d,r+d,!0):n.lineTo(u,c))}n.closePath(),this.dirtyPath=!1}isPointInPath(n,t){const{angleOffset:e}=this,r=this.startAngle+e,i=this.endAngle+e,o=Math.min(this.innerRadius,this.outerRadius),a=Math.max(this.innerRadius,this.outerRadius),s=this.transformPoint(n,t);return YB(s.x,s.y,{startAngle:r,endAngle:i,innerRadius:o,outerRadius:a})}};as.className="Sector";R([ct()],as.prototype,"centerX",2);R([ct()],as.prototype,"centerY",2);R([ct()],as.prototype,"innerRadius",2);R([ct()],as.prototype,"outerRadius",2);R([ct()],as.prototype,"startAngle",2);R([ct()],as.prototype,"endAngle",2);R([ct()],as.prototype,"angleOffset",2);R([ct()],as.prototype,"inset",2);var Tte=class extends Er{constructor(){super(...arguments),this.showInLegend=!1}};R([F(ze)],Tte.prototype,"showInLegend",2);var XB=class extends ln{constructor(){super(...arguments),this.margin=2}set(n,t){return super.set(n)}};R([F(xe)],XB.prototype,"text",2);R([F(nr)],XB.prototype,"margin",2);var qB=class extends tr{constructor(){super(...arguments),this.fill="transparent",this.fillOpacity=1}};R([F(Dt)],qB.prototype,"fill",2);R([F(Wt)],qB.prototype,"fillOpacity",2);var ny=class extends ln{constructor(){super(...arguments),this.offset=3,this.minAngle=0,this.minSpacing=4,this.maxCollisionOffset=50,this.avoidCollisions=!0}};R([F(Se)],ny.prototype,"offset",2);R([F(ep)],ny.prototype,"minAngle",2);R([F(Se)],ny.prototype,"minSpacing",2);R([F(Se)],ny.prototype,"maxCollisionOffset",2);R([F(ze)],ny.prototype,"avoidCollisions",2);var ZB=class extends ln{constructor(){super(...arguments),this.positionOffset=0,this.positionRatio=.5}};R([F(nr)],ZB.prototype,"positionOffset",2);R([F(Wt)],ZB.prototype,"positionRatio",2);var CP=class extends tr{constructor(){super(...arguments),this.length=10,this.strokeWidth=1}};R([F(ns,{optional:!0})],CP.prototype,"colors",2);R([F(Se)],CP.prototype,"length",2);R([F(Se)],CP.prototype,"strokeWidth",2);var Ot=class extends Xs{constructor(){super(...arguments),this.fills=Object.values(El),this.strokes=Object.values(Ah),this.fillOpacity=1,this.strokeOpacity=1,this.lineDash=[0],this.lineDashOffset=0,this.rotation=0,this.outerRadiusOffset=0,this.outerRadiusRatio=1,this.strokeWidth=1,this.sectorSpacing=void 0,this.innerLabels=new qw(XB),this.title=new Tte,this.innerCircle=new qB,this.shadow=new Zs,this.calloutLabel=new ny,this.sectorLabel=new ZB,this.calloutLine=new CP,this.tooltip=new wo,this.__BACKGROUND_COLOR_DO_NOT_USE=void 0}isValid(){const n=super.isValid();return this.innerRadiusRatio==null&&this.innerRadiusOffset==null?(Oe.warnOnce("Either an [innerRadiusRatio] or an [innerRadiusOffset] must be set to render a donut series."),!1):n}};R([F(xe)],Ot.prototype,"angleKey",2);R([F(xe,{optional:!0})],Ot.prototype,"angleName",2);R([F(xe,{optional:!0})],Ot.prototype,"radiusKey",2);R([F(xe,{optional:!0})],Ot.prototype,"radiusName",2);R([F(Se,{optional:!0})],Ot.prototype,"radiusMin",2);R([F(Se,{optional:!0})],Ot.prototype,"radiusMax",2);R([F(xe,{optional:!0})],Ot.prototype,"calloutLabelKey",2);R([F(xe,{optional:!0})],Ot.prototype,"calloutLabelName",2);R([F(xe,{optional:!0})],Ot.prototype,"sectorLabelKey",2);R([F(xe,{optional:!0})],Ot.prototype,"sectorLabelName",2);R([F(xe,{optional:!0})],Ot.prototype,"legendItemKey",2);R([F(ns)],Ot.prototype,"fills",2);R([F(ns)],Ot.prototype,"strokes",2);R([F(Wt)],Ot.prototype,"fillOpacity",2);R([F(Wt)],Ot.prototype,"strokeOpacity",2);R([F(mc)],Ot.prototype,"lineDash",2);R([F(Se)],Ot.prototype,"lineDashOffset",2);R([F(rs,{optional:!0})],Ot.prototype,"formatter",2);R([F(ep)],Ot.prototype,"rotation",2);R([F(nr)],Ot.prototype,"outerRadiusOffset",2);R([F(Wt)],Ot.prototype,"outerRadiusRatio",2);R([F(nr,{optional:!0})],Ot.prototype,"innerRadiusOffset",2);R([F(Wt,{optional:!0})],Ot.prototype,"innerRadiusRatio",2);R([F(Se)],Ot.prototype,"strokeWidth",2);R([F(Se,{optional:!0})],Ot.prototype,"sectorSpacing",2);R([F(JV)],Ot.prototype,"innerLabels",2);R([F(Ge)],Ot.prototype,"title",2);R([F(Ge)],Ot.prototype,"innerCircle",2);R([F(Ge)],Ot.prototype,"shadow",2);R([F(Ge)],Ot.prototype,"calloutLabel",2);R([F(Ge)],Ot.prototype,"sectorLabel",2);R([F(Ge)],Ot.prototype,"calloutLine",2);R([F(Ge)],Ot.prototype,"tooltip",2);R([F(xe,{optional:!0})],Ot.prototype,"__BACKGROUND_COLOR_DO_NOT_USE",2);function Qv(n,t,e,r){const i=[e.convert(0),e.convert(1)],o=[r.convert(0),r.convert(1)],a=Math.PI/-2+pi(t),s=({radius:h})=>({innerRadius:i[0],outerRadius:i[0]+(i[1]-i[0])*h}),l=({radius:h})=>({innerRadius:o[0],outerRadius:o[0]+(o[1]-o[0])*h});return{nodes:{toFn:(h,f,v,{prevLive:g})=>{var y,m;let{startAngle:C,endAngle:S,innerRadius:w,outerRadius:_}=f;const{stroke:x,fill:b}=f.sectorFormat;if(v==="removed"&&g?(C=(y=g.datum)==null?void 0:y.endAngle,S=(m=g.datum)==null?void 0:m.endAngle):v==="removed"&&!g&&(C=a,S=a),v==="removed"){const O=s(f);w=O.innerRadius,_=O.outerRadius}return{startAngle:C,endAngle:S,outerRadius:_,innerRadius:w,stroke:x,fill:b}},fromFn:(h,f,v,{prevFromProps:g})=>{var y,m,C,S,w,_;let{startAngle:x,endAngle:b,innerRadius:O,outerRadius:T}=h,{fill:A,stroke:N}=f.sectorFormat;if(v==="unknown"||v==="added"&&!g?(x=a,b=a,O=f.innerRadius,T=f.outerRadius):v==="added"&&g&&(x=(y=g.endAngle)!=null?y:a,b=(m=g.endAngle)!=null?m:a,O=(C=g.innerRadius)!=null?C:f.innerRadius,T=(S=g.outerRadius)!=null?S:f.outerRadius),v==="added"&&!n){const M=l(f);O=M.innerRadius,T=M.outerRadius}return v==="updated"&&(A=(w=h.fill)!=null?w:A,N=(_=h.stroke)!=null?_:N),{startAngle:x,endAngle:b,innerRadius:O,outerRadius:T,fill:A,stroke:N,phase:"initial"}}},innerCircle:{fromFn:(h,f)=>{var v,g,y;return{size:(y=(g=(v=h.previousDatum)==null?void 0:v.radius)!=null?g:h.size)!=null?y:0,phase:"initial"}},toFn:(h,f)=>{var v;return{size:(v=f.radius)!=null?v:0}}}}}function Pte(n,t){return{startAngle:t.startAngle,endAngle:t.endAngle,innerRadius:t.innerRadius,outerRadius:t.outerRadius,fill:t.sectorFormat.fill,stroke:t.sectorFormat.stroke}}var SP=class extends qee{constructor(n){var t=n,{useLabelLayer:e=!1,pickModes:r=[0],canHaveAxes:i=!1,animationResetFns:o}=t,a=yn(t,["useLabelLayer","pickModes","canHaveAxes","animationResetFns"]);super(Te(te({},a),{useLabelLayer:e,pickModes:r,contentGroupVirtual:!1,directionKeys:{x:["angleKey"],y:["radiusKey"]},directionNames:{x:["angleName"],y:["radiusName"]},canHaveAxes:i})),this.itemGroup=this.contentGroup.appendChild(new Ie),this.itemSelection=mr.select(this.itemGroup,()=>this.nodeFactory(),!1),this.labelSelection=mr.select(this.labelGroup,It,!1),this.highlightSelection=mr.select(this.highlightGroup,()=>this.nodeFactory()),this.centerX=0,this.centerY=0,this.radius=0,this.itemGroup.zIndexSubOrder=[()=>this._declarationOrder,1],this.animationResetFns=o,this.animationState=new o0("empty",{empty:{update:{target:"ready",action:s=>this.animateEmptyUpdateReady(s)},reset:"empty",skip:"ready"},ready:{updateData:"waiting",clear:"clearing",highlight:s=>this.animateReadyHighlight(s),highlightMarkers:s=>this.animateReadyHighlightMarkers(s),resize:s=>this.animateReadyResize(s),reset:"empty",skip:"ready"},waiting:{update:{target:"ready",action:s=>this.animateWaitingUpdateReady(s)},reset:"empty",skip:"ready"},clearing:{update:{target:"empty",action:s=>this.animateClearingUpdateEmpty(s)},reset:"empty",skip:"ready"}},()=>this.checkProcessedDataAnimatable())}resetAnimation(n){n==="initial"?this.animationState.transition("reset"):n==="ready"&&this.animationState.transition("skip")}getLabelData(){return[]}computeLabelsBBox(n,t){return null}resetAllAnimation(){var n;const{item:t,label:e}=(n=this.animationResetFns)!=null?n:{};this.ctx.animationManager.stopByAnimationGroupId(this.id),t&&gn([this.itemSelection,this.highlightSelection],t),e&&gn([this.labelSelection],e),this.itemSelection.cleanup(),this.labelSelection.cleanup(),this.highlightSelection.cleanup()}animateEmptyUpdateReady(n){this.ctx.animationManager.skipCurrentBatch(),this.resetAllAnimation()}animateWaitingUpdateReady(n){this.ctx.animationManager.skipCurrentBatch(),this.resetAllAnimation()}animateReadyHighlight(n){var t;const{item:e}=(t=this.animationResetFns)!=null?t:{};e&&gn([this.highlightSelection],e)}animateReadyHighlightMarkers(n){}animateReadyResize(n){this.resetAllAnimation()}animateClearingUpdateEmpty(n){this.ctx.animationManager.skipCurrentBatch(),this.resetAllAnimation()}animationTransitionClear(){this.animationState.transition("clear",this.getAnimationData())}getAnimationData(n){return{seriesRect:n}}},jWe=class extends l0{constructor(n,t,e,r){super(n,t,e,r),this.angleKey=r.properties.angleKey,this.radiusKey=r.properties.radiusKey,this.calloutLabelKey=r.properties.calloutLabelKey,this.sectorLabelKey=r.properties.sectorLabelKey}},wP=class extends SP{constructor(n){super({moduleCtx:n,useLabelLayer:!0,animationResetFns:{item:Pte,label:xc}}),this.properties=new Ot,this.previousRadiusScale=new zl,this.radiusScale=new zl,this.backgroundGroup=this.rootGroup.appendChild(new Ie({name:`${this.id}-background`,layer:!0,zIndex:0})),this.zerosumRingsGroup=this.backgroundGroup.appendChild(new Ie({name:`${this.id}-zerosumRings`})),this.zerosumOuterRing=this.zerosumRingsGroup.appendChild(new Ul),this.zerosumInnerRing=this.zerosumRingsGroup.appendChild(new Ul),this.innerCircleGroup=this.backgroundGroup.appendChild(new Ie({name:`${this.id}-innerCircle`})),this.nodeData=[],this.seriesItemEnabled=[],this.surroundingRadius=void 0,this.NodeClickEvent=jWe,this.angleScale=new zl,this.angleScale.domain=[0,1],this.angleScale.range=[-Math.PI,Math.PI].map(i=>i+Math.PI/2);const t=new Ie({name:"pieCalloutLabels"}),e=new Ie({name:"pieSectorLabels"}),r=new Ie({name:"innerLabels"});this.labelGroup.append(t),this.labelGroup.append(e),this.labelGroup.append(r),this.calloutLabelSelection=mr.select(t,Ie),this.sectorLabelSelection=mr.select(e,It),this.innerLabelsSelection=mr.select(r,It),this.innerCircleSelection=mr.select(this.innerCircleGroup,Ul);for(const i of[this.zerosumInnerRing,this.zerosumOuterRing])i.fillOpacity=0,i.stroke=this.properties.calloutLabel.color,i.strokeWidth=1,i.strokeOpacity=1}addChartEventListeners(){var n;this.destroyFns.push((n=this.ctx.chartEventManager)==null?void 0:n.addListener("legend-item-click",t=>this.onLegendItemClick(t)))}visibleChanged(){this.processSeriesItemEnabled()}get visible(){return this.seriesItemEnabled.length?this.seriesItemEnabled.some(n=>n):super.visible}processSeriesItemEnabled(){var n;const{data:t,visible:e}=this;this.seriesItemEnabled=(n=t==null?void 0:t.map(()=>e))!=null?n:[]}nodeFactory(){return new as}getSeriesDomain(n){return n==="x"?this.angleScale.domain:this.radiusScale.domain}processData(n){return pe(this,null,function*(){var t,e,r,i,o;if(this.data==null||!this.properties.isValid())return;let{data:a}=this;const{seriesItemEnabled:s}=this,{angleKey:l,radiusKey:u,calloutLabelKey:c,sectorLabelKey:d,legendItemKey:p}=this.properties,h=!this.ctx.animationManager.isSkipped(),f=[],v=[];p?f.push(Xn(this,p,!1,{id:"legendItemKey"})):c?f.push(Xn(this,c,!1,{id:"calloutLabelKey"})):d&&f.push(Xn(this,d,!1,{id:"sectorLabelKey"})),u&&v.push(bB(this,u,{id:"radiusValue",min:(t=this.properties.radiusMin)!=null?t:0,max:this.properties.radiusMax}),qt(this,u,!0,{id:"radiusRaw"}),qS(this,{id:"radiusValue"},[0,1],1,(e=this.properties.radiusMin)!=null?e:0,this.properties.radiusMax)),c&&v.push(qt(this,c,!1,{id:"calloutLabelValue"})),d&&v.push(qt(this,d,!1,{id:"sectorLabelValue"})),p&&v.push(qt(this,p,!1,{id:"legendItemValue"})),h&&this.processedData&&f.length>0&&v.push(hf(this.processedData)),v.push(ty(this)),a=a.map((g,y)=>s[y]?g:Te(te({},g),{[l]:0})),yield this.requestDataModel(n,a,{props:[...f,OB(this,l,!0,{id:"angleValue",onlyPositive:!0}),qt(this,l,!0,{id:"angleRaw"}),qS(this,{id:"angleValue"},[0,1],0,0),...v]});for(const g of(o=(i=(r=this.processedData)==null?void 0:r.defs)==null?void 0:i.values)!=null?o:[]){const{id:y,missing:m,property:C}=g,S=vB(this,m);y!=="angleRaw"&&S>0&&Oe.warnOnce(`no value was found for the key '${String(C)}' on ${S} data element${S>1?"s":""}`)}this.animationState.transition("updateData")})}maybeRefreshNodeData(){return pe(this,null,function*(){if(!this.nodeDataRefresh)return;const[{nodeData:n=[]}={}]=yield this.createNodeData();this.nodeData=n,this.nodeDataRefresh=!1})}getProcessedDataIndexes(n){const t=n.resolveProcessedDataIndexById(this,"angleValue").index,e=this.properties.radiusKey?n.resolveProcessedDataIndexById(this,"radiusValue").index:-1,r=this.properties.calloutLabelKey?n.resolveProcessedDataIndexById(this,"calloutLabelValue").index:-1,i=this.properties.sectorLabelKey?n.resolveProcessedDataIndexById(this,"sectorLabelValue").index:-1,o=this.properties.legendItemKey?n.resolveProcessedDataIndexById(this,"legendItemValue").index:-1;return{angleIdx:t,radiusIdx:e,calloutLabelIdx:r,sectorLabelIdx:i,legendItemIdx:o}}createNodeData(){return pe(this,null,function*(){const{id:n,processedData:t,dataModel:e,angleScale:r}=this,{rotation:i,innerRadiusRatio:o}=this.properties;if(!this.properties.isValid())return this.zerosumOuterRing.visible=!0,this.zerosumInnerRing.visible=!0,[{itemId:n,nodeData:[],labelData:[]}];if(!t||!e||t.type!=="ungrouped")return[];const{angleIdx:a,radiusIdx:s,calloutLabelIdx:l,sectorLabelIdx:u,legendItemIdx:c}=this.getProcessedDataIndexes(e);let d=0,p=0;const h=t.data.map((f,v)=>{var g;const{datum:y,values:m}=f,C=m[a],S=r.convert(d)+pi(i);d=C,p+=C;const w=r.convert(d)+pi(i),_=Math.abs(w-S),x=S+_/2,b=m[a+1],O=s>=0&&(g=m[s])!=null?g:1,T=s>=0?m[s+1]:void 0,A=c>=0?m[c]:void 0,N=this.getLabels(y,x,_,!0,m[l],m[u],A),M=this.getSectorFormat(y,v,!1);return te({itemId:v,series:this,datum:y,index:v,angleValue:b,midAngle:x,midCos:Math.cos(x),midSin:Math.sin(x),startAngle:S,endAngle:w,sectorFormat:M,radiusValue:T,radius:O,innerRadius:Math.max(this.radiusScale.convert(0),0),outerRadius:Math.max(this.radiusScale.convert(O),0),legendItemValue:A},N)});return this.zerosumOuterRing.visible=p===0,this.zerosumInnerRing.visible=p===0&&o!=null&&o!==1&&o>0,[{itemId:n,nodeData:h,labelData:h}]})}getLabels(n,t,e,r,i,o,a){const{calloutLabel:s,sectorLabel:l,legendItemKey:u}=this.properties,c=!r||s.enabled?this.properties.calloutLabelKey:void 0,d=!r||l.enabled?this.properties.sectorLabelKey:void 0;if(!c&&!d&&!u)return{};const p={datum:n,angleKey:this.properties.angleKey,angleName:this.properties.angleName,radiusKey:this.properties.radiusKey,radiusName:this.properties.radiusName,calloutLabelKey:this.properties.calloutLabelKey,calloutLabelName:this.properties.calloutLabelName,sectorLabelKey:this.properties.sectorLabelKey,sectorLabelName:this.properties.sectorLabelName,legendItemKey:this.properties.legendItemKey},h={};return c&&e>pi(s.minAngle)&&(h.calloutLabel=Te(te({},this.getTextAlignment(t)),{text:this.getLabelText(s,Te(te({},p),{value:i})),hidden:!1,collisionTextAlign:void 0,collisionOffsetY:0,box:void 0})),d&&(h.sectorLabel={text:this.getLabelText(l,Te(te({},p),{value:o}))}),u!=null&&a!=null&&(h.legendItem={key:u,text:a}),h}getTextAlignment(n){const t=[{textAlign:"center",textBaseline:"bottom"},{textAlign:"left",textBaseline:"middle"},{textAlign:"center",textBaseline:"hanging"},{textAlign:"right",textBaseline:"middle"}],e=US(n),r=-3*Math.PI/4,i=e-r,o=Math.floor(i/(Math.PI/2)),a=nP(o,t.length);return t[a]}getSectorFormat(n,t,e){var r,i,o,a,s;const{callbackCache:l,highlightManager:u}=this.ctx,{angleKey:c,radiusKey:d,fills:p,strokes:h,formatter:f,sectorSpacing:v,__BACKGROUND_COLOR_DO_NOT_USE:g}=this.properties,y=u.getActiveHighlight(),m=e&&(y==null?void 0:y.series)===this&&t===y.itemId,{fill:C,fillOpacity:S,stroke:w,strokeWidth:_,strokeOpacity:x}=yt(m&&this.properties.highlightStyle.item,{fill:p.length>0?p[t%p.length]:void 0,fillOpacity:this.properties.fillOpacity,stroke:v!=null?h.length>0?h[t%h.length]:void 0:h.length>0?h[t%h.length]:g,strokeWidth:this.getStrokeWidth(this.properties.strokeWidth),strokeOpacity:this.getOpacity()});let b;return f&&(b=l.call(f,{datum:n,angleKey:c,radiusKey:d,fill:C,stroke:w,fills:p,strokes:h,strokeWidth:_,highlighted:m,seriesId:this.id})),{fill:(r=b==null?void 0:b.fill)!=null?r:C,fillOpacity:(i=b==null?void 0:b.fillOpacity)!=null?i:S,stroke:(o=b==null?void 0:b.stroke)!=null?o:w,strokeWidth:(a=b==null?void 0:b.strokeWidth)!=null?a:_,strokeOpacity:(s=b==null?void 0:b.strokeOpacity)!=null?s:x}}getInnerRadius(){const{radius:n}=this,{innerRadiusRatio:t=1,innerRadiusOffset:e=0}=this.properties,r=n*t+e;return r===n||r<0?0:r}getOuterRadius(){const{outerRadiusRatio:n,outerRadiusOffset:t}=this.properties;return Math.max(this.radius*n+t,0)}updateRadiusScale(n){const t=[this.getInnerRadius(),this.getOuterRadius()];this.radiusScale.range=t,n&&(this.previousRadiusScale.range=t),this.nodeData=this.nodeData.map(e=>{var r=e,{radius:i}=r,o=yn(r,["radius"]);return Te(te({},o),{radius:i,innerRadius:Math.max(this.radiusScale.convert(0),0),outerRadius:Math.max(this.radiusScale.convert(i),0)})})}getTitleTranslationY(){var n,t;const e=Math.max(0,this.radiusScale.range[1]);if(e===0)return NaN;const i=2+((t=(n=this.properties.title)==null?void 0:n.spacing)!=null?t:0),o=Math.max(0,-e);return-e-i-o}update(n){return pe(this,arguments,function*({seriesRect:t}){const{title:e}=this.properties,r={seriesRectWidth:t==null?void 0:t.width,seriesRectHeight:t==null?void 0:t.height},i=sa(this.nodeDataDependencies,r)!=null;if(i&&(this._nodeDataDependencies=r),yield this.maybeRefreshNodeData(),this.updateTitleNodes(),this.updateRadiusScale(i),this.contentGroup.translationX=this.centerX,this.contentGroup.translationY=this.centerY,this.highlightGroup.translationX=this.centerX,this.highlightGroup.translationY=this.centerY,this.backgroundGroup.translationX=this.centerX,this.backgroundGroup.translationY=this.centerY,this.labelGroup&&(this.labelGroup.translationX=this.centerX,this.labelGroup.translationY=this.centerY),e){const o=this.getTitleTranslationY(),a=e.node.computeBBox();e.node.visible=e.enabled&&isFinite(o)&&!this.bboxIntersectsSurroundingSeries(a,0,o),e.node.translationY=isFinite(o)?o:0}this.updateNodeMidPoint(),yield this.updateSelections(),yield this.updateNodes(t)})}updateTitleNodes(){var n,t;const{oldTitle:e}=this,{title:r}=this.properties;e!==r&&(e&&((n=this.labelGroup)==null||n.removeChild(e.node)),r&&(r.node.textBaseline="bottom",(t=this.labelGroup)==null||t.appendChild(r.node)),this.oldTitle=r)}updateNodeMidPoint(){this.nodeData.forEach(n=>{const t=n.innerRadius+(n.outerRadius-n.innerRadius)/2;n.midPoint={x:n.midCos*Math.max(0,t),y:n.midSin*Math.max(0,t)}})}updateSelections(){return pe(this,null,function*(){yield this.updateGroupSelection(),this.updateInnerCircleSelection()})}updateGroupSelection(){return pe(this,null,function*(){const{itemSelection:n,highlightSelection:t,calloutLabelSelection:e,sectorLabelSelection:r,innerLabelsSelection:i}=this,o=(a,s)=>{let l=this.nodeData;s&&(l=l.map(u=>Te(te({},u),{sectorFormat:te({},u.sectorFormat)}))),a.update(l,void 0,u=>this.getDatumId(u)),this.ctx.animationManager.isSkipped()&&a.cleanup()};o(n,!1),o(t,!0),e.update(this.nodeData,a=>{const s=new mn;s.tag=1,s.pointerEvents=1,a.appendChild(s);const l=new It;l.tag=2,l.pointerEvents=1,a.appendChild(l)}),r.update(this.nodeData,a=>{a.pointerEvents=1}),i.update(this.properties.innerLabels,a=>{a.pointerEvents=1})})}updateInnerCircleSelection(){const{innerCircle:n}=this.properties;let t=0;const e=this.getInnerRadius();if(e>0){const i=Math.min(e,this.getOuterRadius());t=Math.ceil(i*2+1)}const r=n?[{radius:t}]:[];this.innerCircleSelection.update(r)}updateNodes(n){return pe(this,null,function*(){const t=this.ctx.highlightManager.getActiveHighlight(),e=this.seriesItemEnabled.indexOf(!0)>=0;this.rootGroup.visible=e,this.backgroundGroup.visible=e,this.contentGroup.visible=e,this.highlightGroup.visible=e&&(t==null?void 0:t.series)===this,this.labelGroup&&(this.labelGroup.visible=e),this.contentGroup.opacity=this.getOpacity(),this.innerCircleSelection.each((i,{radius:o})=>{var a,s;i.setProperties({fill:(a=this.properties.innerCircle)==null?void 0:a.fill,opacity:(s=this.properties.innerCircle)==null?void 0:s.fillOpacity,size:o})});const r=(i,o,a,s)=>{const l=this.getSectorFormat(o.datum,o.itemId,s);o.sectorFormat.fill=l.fill,o.sectorFormat.stroke=l.stroke;const u=this.ctx.animationManager.isSkipped();u&&(i.startAngle=o.startAngle,i.endAngle=o.endAngle,i.innerRadius=o.innerRadius,i.outerRadius=o.outerRadius),(s||u)&&(i.fill=l.fill,i.stroke=l.stroke),i.strokeWidth=l.strokeWidth,i.fillOpacity=l.fillOpacity,i.strokeOpacity=this.properties.strokeOpacity,i.lineDash=this.properties.lineDash,i.lineDashOffset=this.properties.lineDashOffset,i.fillShadow=this.properties.shadow,i.inset=this.properties.sectorSpacing!=null?(this.properties.sectorSpacing+(l.stroke!=null?l.strokeWidth:0))/2:0,i.lineJoin=this.properties.sectorSpacing!=null?"miter":"round"};this.itemSelection.each((i,o,a)=>r(i,o,a,!1)),this.highlightSelection.each((i,o,a)=>{const s=(t==null?void 0:t.series)===this&&i.datum.itemId===t.itemId;r(i,o,a,!0),i.visible=s}),this.updateCalloutLineNodes(),this.updateCalloutLabelNodes(n),this.updateSectorLabelNodes(),this.updateInnerLabelNodes(),this.updateZerosumRings(),this.animationState.transition("update")})}updateCalloutLineNodes(){var n;const{calloutLine:t}=this.properties,e=t.length,r=t.strokeWidth,i=(n=t.colors)!=null?n:this.properties.strokes,{offset:o}=this.properties.calloutLabel;this.calloutLabelSelection.selectByTag(1).forEach((a,s)=>{const l=a.datum,{calloutLabel:u,outerRadius:c}=l;if(u!=null&&u.text&&!u.hidden&&c!==0){a.visible=!0,a.strokeWidth=r,a.stroke=i[s%i.length],a.fill=void 0;const d=l.midCos*c,p=l.midSin*c;let h=l.midCos*(c+e),f=l.midSin*(c+e);if((u.collisionTextAlign||u.collisionOffsetY!==0)&&u.box!=null){const g=u.box;let y=h,m=f;h<g.x?y=g.x:h>g.x+g.width&&(y=g.x+g.width),f<g.y?m=g.y:f>g.y+g.height&&(m=g.y+g.height);const C=y-h,S=m-f,w=Math.sqrt(Math.pow(C,2)+Math.pow(S,2)),_=w-o;_>0&&(h=h+C*_/w,f=f+S*_/w)}a.x1=d,a.y1=p,a.x2=h,a.y2=f}else a.visible=!1})}getLabelOverflow(n,t,e){const r=e.x-this.centerX,i=e.x+e.width-this.centerX,o=e.y-this.centerY,a=e.y+e.height-this.centerY,s=1;let l=1;t.x+s<r?l=(t.x+t.width-r)/t.width:t.x+t.width-s>i&&(l=(i-t.x)/t.width);const u=t.y+s<o||t.y+t.height-s>a,c=l===1?n.length:Math.floor(n.length*l)-1,d=this.bboxIntersectsSurroundingSeries(t);return{textLength:c,hasVerticalOverflow:u,hasSurroundingSeriesOverflow:d}}bboxIntersectsSurroundingSeries(n,t=0,e=0){const{surroundingRadius:r}=this;if(r==null)return!1;const i=[{x:n.x+t,y:n.y+e},{x:n.x+n.width+t,y:n.y+e},{x:n.x+n.width+t,y:n.y+n.height+e},{x:n.x+t,y:n.y+n.height+e}],o=pt(r,2);return i.some(a=>pt(a.x,2)+pt(a.y,2)>o)}computeCalloutLabelCollisionOffsets(){const{radiusScale:n}=this,{calloutLabel:t,calloutLine:e}=this.properties,{offset:r,minSpacing:i}=t,o=n.convert(0),a=m=>!m.calloutLabel||m.outerRadius===0,s=this.nodeData,l=this.nodeData.filter(m=>!a(m));if(l.forEach(m=>{const C=m.calloutLabel;C!=null&&(C.hidden=!1,C.collisionTextAlign=void 0,C.collisionOffsetY=0)}),l.length<=1)return;const u=l.filter(m=>m.midCos<0).sort((m,C)=>m.midSin-C.midSin),c=l.filter(m=>m.midCos>=0).sort((m,C)=>m.midSin-C.midSin),d=l.filter(m=>{var C;return m.midSin<0&&((C=m.calloutLabel)==null?void 0:C.textAlign)==="center"}).sort((m,C)=>m.midCos-C.midCos),p=l.filter(m=>{var C;return m.midSin>=0&&((C=m.calloutLabel)==null?void 0:C.textAlign)==="center"}).sort((m,C)=>m.midCos-C.midCos),h=new It,f=m=>{var C;const S=m.calloutLabel;if(S==null)return new et(0,0,0,0);const w=m.outerRadius+e.length+r,_=m.midCos*w,x=m.midSin*w+S.collisionOffsetY;return h.text=S.text,h.x=_,h.y=x,h.setFont(this.properties.calloutLabel),h.setAlign({textAlign:(C=S.collisionTextAlign)!=null?C:S.textAlign,textBaseline:S.textBaseline}),h.computeBBox()},v=(m,C,S)=>{const w=f(m).grow(i/2),_=f(C).grow(i/2);if(w.x<_.x+_.width&&w.x+w.width>_.x&&(S==="to-top"?w.y<_.y+_.height:w.y+w.height>_.y)){const b=S==="to-top"?w.y-_.y-_.height:w.y+w.height-_.y;C.calloutLabel.collisionOffsetY=b}},g=m=>{const C=m.slice().sort((w,_)=>Math.abs(w.midSin)-Math.abs(_.midSin))[0],S=m.indexOf(C);for(let w=S-1;w>=0;w--){const _=m[w+1],x=m[w];v(_,x,"to-top")}for(let w=S+1;w<m.length;w++){const _=m[w-1],x=m[w];v(_,x,"to-bottom")}},y=m=>{const C=l.some(O=>O.calloutLabel.collisionOffsetY!==0),S=m.map(O=>f(O)),w=S.map(O=>O.clone().grow(i/2));let _=!1;for(let O=0;O<w.length&&!_;O++){const T=w[O];for(let A=O+1;A<m.length;A++){const N=w[A];if(T.collidesBBox(N)){_=!0;break}}}const x=s.map(O=>{const{startAngle:T,endAngle:A,outerRadius:N}=O;return{startAngle:T,endAngle:A,innerRadius:o,outerRadius:N}}),b=S.some(O=>x.some(T=>Rte(O,T)));!_&&!C&&!b||m.filter(O=>O.calloutLabel.textAlign==="center").forEach(O=>{const T=O.calloutLabel;O.midCos<0?T.collisionTextAlign="right":O.midCos>0?T.collisionTextAlign="left":T.collisionTextAlign="center"})};g(u),g(c),y(d),y(p)}updateCalloutLabelNodes(n){const{radiusScale:t}=this,{calloutLabel:e,calloutLine:r}=this.properties,i=r.length,{offset:o,color:a}=e,s=new It;this.calloutLabelSelection.selectByTag(2).forEach(l=>{var u;const{datum:c}=l,d=c.calloutLabel,p=t.convert(c.radius),h=Math.max(0,p);if(!(d!=null&&d.text)||h===0||d.hidden){l.visible=!1;return}const f=h+i+o,v=c.midCos*f,g=c.midSin*f+d.collisionOffsetY,y={textAlign:(u=d.collisionTextAlign)!=null?u:d.textAlign,textBaseline:d.textBaseline};s.text=d.text,s.x=v,s.y=g,s.setFont(this.properties.calloutLabel),s.setAlign(y);const m=s.computeBBox();let C=d.text,S=!0;if(e.avoidCollisions){const{textLength:w,hasVerticalOverflow:_}=this.getLabelOverflow(d.text,m,n);C=d.text.length===w?d.text:`${d.text.substring(0,w)}…`,S=!_}l.text=C,l.x=v,l.y=g,l.setFont(this.properties.calloutLabel),l.setAlign(y),l.fill=a,l.visible=S})}computeLabelsBBox(n,t){return pe(this,null,function*(){const{calloutLabel:e,calloutLine:r}=this.properties,i=r.length,{offset:o,maxCollisionOffset:a,minSpacing:s}=e;if(!e.avoidCollisions)return null;yield this.maybeRefreshNodeData(),this.updateRadiusScale(!1),this.computeCalloutLabelCollisionOffsets();const l=[],u=new It;let c;const{title:d}=this.properties;if(d!=null&&d.text&&d.enabled){const p=this.getTitleTranslationY();isFinite(p)&&(u.text=d.text,u.x=0,u.y=p,u.setFont(d),u.setAlign({textBaseline:"bottom",textAlign:"center"}),c=u.computeBBox(),l.push(c))}return this.nodeData.forEach(p=>{var h;const f=p.calloutLabel;if(!f||p.outerRadius===0)return null;const v=p.outerRadius+i+o,g=p.midCos*v,y=p.midSin*v+f.collisionOffsetY;u.text=f.text,u.x=g,u.y=y,u.setFont(this.properties.calloutLabel),u.setAlign({textAlign:(h=f.collisionTextAlign)!=null?h:f.textAlign,textBaseline:f.textBaseline});const m=u.computeBBox();if(f.box=m,Math.abs(f.collisionOffsetY)>a){f.hidden=!0;return}if(c){const C=t.y-this.centerY,S=new et(c.x-s,C,c.width+2*s,c.y+c.height+s-C);if(m.collidesBBox(S)){f.hidden=!0;return}}if(n.hideWhenNecessary){const{textLength:C,hasVerticalOverflow:S,hasSurroundingSeriesOverflow:w}=this.getLabelOverflow(f.text,m,t),_=f.text.length>2&&C<2;if(S||_||w){f.hidden=!0;return}}f.hidden=!1,l.push(m)}),l.length===0?null:et.merge(l)})}updateSectorLabelNodes(){const{radiusScale:n}=this,t=n.convert(0),{fontSize:e,fontStyle:r,fontWeight:i,fontFamily:o,positionOffset:a,positionRatio:s,color:l}=this.properties.sectorLabel;this.sectorLabelSelection.each((u,c)=>{const{sectorLabel:d,outerRadius:p}=c;let h=!1;if(d&&p!==0){const f=t*(1-s)+p*s+a;u.fill=l,u.fontStyle=r,u.fontWeight=i,u.fontSize=e,u.fontFamily=o,u.text=d.text,u.x=c.midCos*f,u.y=c.midSin*f,u.textAlign="center",u.textBaseline="middle";const v=u.computeBBox(),g=[[v.x,v.y],[v.x+v.width,v.y],[v.x+v.width,v.y+v.height],[v.x,v.y+v.height]],{startAngle:y,endAngle:m}=c,C={startAngle:y,endAngle:m,innerRadius:t,outerRadius:p};g.every(([S,w])=>YB(S,w,C))&&(h=!0)}u.visible=h})}updateInnerLabelNodes(){const n=[],t=[];this.innerLabelsSelection.each((c,d)=>{const{fontStyle:p,fontWeight:h,fontSize:f,fontFamily:v,color:g}=d;c.fontStyle=p,c.fontWeight=h,c.fontSize=f,c.fontFamily=v,c.text=d.text,c.x=0,c.y=0,c.fill=g,c.textAlign="center",c.textBaseline="alphabetic",n.push(c.computeBBox()),t.push(d.margin)});const e=c=>c===0?0:t[c],r=c=>c===t.length-1?0:t[c],i=n.reduce((c,d,p)=>c+d.height+e(p)+r(p),0),o=Math.max(...n.map(c=>c.width)),a=this.getInnerRadius(),l=Math.sqrt(Math.pow(o/2,2)+Math.pow(i/2,2))<=(a>0?a:this.getOuterRadius()),u=[];for(let c=0,d=-i/2;c<n.length;c++){const h=n[c].height+d+e(c);u.push(h),d=h+r(c)}this.innerLabelsSelection.each((c,d,p)=>{c.y=u[p],c.visible=l})}updateZerosumRings(){this.zerosumOuterRing.size=this.getOuterRadius()*2,this.zerosumInnerRing.size=this.getInnerRadius()*2}getDatumLegendName(n){const{angleKey:t,calloutLabelKey:e,sectorLabelKey:r,legendItemKey:i}=this.properties,{sectorLabel:o,calloutLabel:a,legendItem:s}=n;if(i&&s!==void 0)return s.text;if(e&&e!==t&&(a==null?void 0:a.text)!==void 0)return a.text;if(r&&r!==t&&(o==null?void 0:o.text)!==void 0)return o.text}getTooltipHtml(n){var t;if(!this.properties.isValid())return"";const{datum:e,angleValue:r,sectorFormat:{fill:i}}=n,o=fr((t=this.properties.title)==null?void 0:t.text),a=Gt(r)?rP(r):String(r),s=this.getDatumLegendName(n);return this.properties.tooltip.toTooltipHtml({title:o??s,content:o&&s?`${s}: ${a}`:a,backgroundColor:i},{datum:e,title:o,color:i,seriesId:this.id,angleKey:this.properties.angleKey,angleName:this.properties.angleName,radiusKey:this.properties.radiusKey,radiusName:this.properties.radiusName,calloutLabelKey:this.properties.calloutLabelKey,calloutLabelName:this.properties.calloutLabelName,sectorLabelKey:this.properties.sectorLabelKey,sectorLabelName:this.properties.sectorLabelName})}getLegendData(n){var t,e,r,i,o;const{processedData:a,dataModel:s}=this;if(!s||!(a!=null&&a.data.length)||!this.properties.isValid()||n!=="category")return[];const{angleKey:l,calloutLabelKey:u,sectorLabelKey:c,legendItemKey:d}=this.properties;if(!d&&(!u||u===l)&&(!c||c===l))return[];const{calloutLabelIdx:p,sectorLabelIdx:h,legendItemIdx:f}=this.getProcessedDataIndexes(s),v=((t=this.properties.title)==null?void 0:t.showInLegend)&&this.properties.title.text,g=[];for(let y=0;y<a.data.length;y++){const{datum:m,values:C}=a.data[y],S=[];v&&S.push(v);const w=this.getLabels(m,2*Math.PI,2*Math.PI,!1,C[p],C[h],C[f]);if(d&&w.legendItem!==void 0?S.push(w.legendItem.text):u&&u!==l&&((e=w.calloutLabel)==null?void 0:e.text)!==void 0?S.push((r=w.calloutLabel)==null?void 0:r.text):c&&c!==l&&((i=w.sectorLabel)==null?void 0:i.text)!==void 0&&S.push((o=w.sectorLabel)==null?void 0:o.text),S.length===0)continue;const _=this.getSectorFormat(m,y,!1);g.push({legendType:"category",id:this.id,itemId:y,seriesId:this.id,enabled:this.seriesItemEnabled[y],label:{text:S.join(" - ")},marker:{fill:_.fill,stroke:_.stroke,fillOpacity:this.properties.fillOpacity,strokeOpacity:this.properties.strokeOpacity,strokeWidth:this.properties.strokeWidth},legendItemName:d!=null?m[d]:void 0})}return g}onLegendItemClick(n){const{enabled:t,itemId:e,series:r,legendItemName:i}=n;r.id===this.id?this.toggleSeriesItem(e,t):i!=null&&this.toggleOtherSeriesItems(i,t)}toggleSeriesItem(n,t){this.seriesItemEnabled[n]=t,this.nodeDataRefresh=!0}toggleOtherSeriesItems(n,t){var e;if(!this.properties.legendItemKey||!this.dataModel)return;const r=this.dataModel.resolveProcessedDataIndexById(this,"legendItemValue").index;(e=this.processedData)==null||e.data.forEach(({values:i},o)=>{i[r]===n&&this.toggleSeriesItem(o,t)})}animateEmptyUpdateReady(n){const{animationManager:t}=this.ctx,e=Qv(!0,this.properties.rotation,this.radiusScale,this.previousRadiusScale);yr(this.id,"nodes",t,[this.itemSelection,this.highlightSelection],e.nodes),yr(this.id,"innerCircle",t,[this.innerCircleSelection],e.innerCircle),$t(this,"callout",t,[this.calloutLabelSelection]),$t(this,"sector",t,[this.sectorLabelSelection]),$t(this,"inner",t,[this.innerLabelsSelection]),this.previousRadiusScale.range=this.radiusScale.range}animateWaitingUpdateReady(){var n,t,e,r,i,o;const{itemSelection:a,highlightSelection:s,processedData:l,radiusScale:u,previousRadiusScale:c}=this,{animationManager:d}=this.ctx,p=(n=l==null?void 0:l.reduced)==null?void 0:n.diff;this.ctx.animationManager.stopByAnimationGroupId(this.id);const h=((t=p==null?void 0:p.moved.length)!=null?t:0)===0&&(p==null?void 0:p.addedIndices.every(y=>!p.removedIndices.includes(y))),f=((e=l==null?void 0:l.defs.keys.length)!=null?e:0)>0,v=(o=(i=(r=l==null?void 0:l.reduced)==null?void 0:r.animationValidation)==null?void 0:i.uniqueKeys)!=null?o:!0;(!h||!f||!v)&&this.ctx.animationManager.skipCurrentBatch();const g=Qv(!1,this.properties.rotation,u,c);yr(this.id,"nodes",d,[a,s],g.nodes,(y,m)=>this.getDatumId(m),p),yr(this.id,"innerCircle",d,[this.innerCircleSelection],g.innerCircle),$t(this,"callout",this.ctx.animationManager,[this.calloutLabelSelection]),$t(this,"sector",this.ctx.animationManager,[this.sectorLabelSelection]),$t(this,"inner",this.ctx.animationManager,[this.innerLabelsSelection]),this.previousRadiusScale.range=this.radiusScale.range}animateClearingUpdateEmpty(){const{itemSelection:n,highlightSelection:t,radiusScale:e,previousRadiusScale:r}=this,{animationManager:i}=this.ctx,o=Qv(!1,this.properties.rotation,e,r);yr(this.id,"nodes",i,[n,t],o.nodes),yr(this.id,"innerCircle",i,[this.innerCircleSelection],o.innerCircle),Mh(this,"callout",this.ctx.animationManager,[this.calloutLabelSelection]),Mh(this,"sector",this.ctx.animationManager,[this.sectorLabelSelection]),Mh(this,"inner",this.ctx.animationManager,[this.innerLabelsSelection]),this.previousRadiusScale.range=this.radiusScale.range}getDatumIdFromData(n){var t,e,r;const{calloutLabelKey:i,sectorLabelKey:o,legendItemKey:a}=this.properties;if((r=(e=(t=this.processedData)==null?void 0:t.reduced)==null?void 0:e.animationValidation)!=null&&r.uniqueKeys){if(a)return n[a];if(i)return n[i];if(o)return n[o]}}getDatumId(n){var t;const{index:e}=n;return(t=this.getDatumIdFromData(n.datum))!=null?t:`${e}`}onDataChange(){this.processSeriesItemEnabled()}};wP.className="DonutSeries";wP.type="donut";var Ate={series:{__extends__:vc,title:{enabled:!0,fontStyle:void 0,fontWeight:"normal",fontSize:14,fontFamily:vn,color:Kv,spacing:5},calloutLabel:{enabled:!0,fontStyle:void 0,fontWeight:void 0,fontSize:12,fontFamily:vn,color:kt,offset:3,minAngle:0},sectorLabel:{enabled:!0,fontStyle:void 0,fontWeight:"normal",fontSize:12,fontFamily:vn,color:Kg,positionOffset:0,positionRatio:.5},calloutLine:{length:10,strokeWidth:2},fillOpacity:1,strokeOpacity:1,strokeWidth:1,lineDash:[0],lineDashOffset:0,rotation:0,shadow:{enabled:!1,color:Yg,xOffset:3,yOffset:3,blur:5},innerLabels:{fontStyle:void 0,fontWeight:void 0,fontSize:12,fontFamily:vn,color:kt,margin:2},__BACKGROUND_COLOR_DO_NOT_USE:$S}},Dte=({takeColors:n,colorsCount:t,userPalette:e})=>{const{fills:r,strokes:i}=n(t);return{fills:r,strokes:e?i:[],calloutLine:{colors:i}}},$We={type:"series",optionsKey:"series[]",packageType:"community",chartTypes:["polar"],identifier:"donut",instanceConstructor:wP,seriesDefaults:{},themeTemplate:Ate,paletteFactory:Dte},Mte=class extends Er{constructor(){super(...arguments),this.showInLegend=!1}};R([F(ze)],Mte.prototype,"showInLegend",2);var QB=class extends ln{set(n,t){return super.set(n)}};R([lf("Use a Donut Series instead"),F(xe,{optional:!0})],QB.prototype,"text",2);R([lf("Use a Donut Series instead"),F(nr,{optional:!0})],QB.prototype,"margin",2);var JB=class extends tr{};R([lf("Use a Donut Series instead"),F(Dt,{optional:!0})],JB.prototype,"fill",2);R([lf("Use a Donut Series instead"),F(Wt,{optional:!0})],JB.prototype,"fillOpacity",2);var iy=class extends ln{constructor(){super(...arguments),this.offset=3,this.minAngle=0,this.minSpacing=4,this.maxCollisionOffset=50,this.avoidCollisions=!0}};R([F(Se)],iy.prototype,"offset",2);R([F(ep)],iy.prototype,"minAngle",2);R([F(Se)],iy.prototype,"minSpacing",2);R([F(Se)],iy.prototype,"maxCollisionOffset",2);R([F(ze)],iy.prototype,"avoidCollisions",2);var e2=class extends ln{constructor(){super(...arguments),this.positionOffset=0,this.positionRatio=.5}};R([F(nr)],e2.prototype,"positionOffset",2);R([F(Wt)],e2.prototype,"positionRatio",2);var _P=class extends tr{constructor(){super(...arguments),this.length=10,this.strokeWidth=1}};R([F(ns,{optional:!0})],_P.prototype,"colors",2);R([F(Se)],_P.prototype,"length",2);R([F(Se)],_P.prototype,"strokeWidth",2);var Rt=class extends Xs{constructor(){super(...arguments),this.fills=Object.values(El),this.strokes=Object.values(Ah),this.fillOpacity=1,this.strokeOpacity=1,this.lineDash=[0],this.lineDashOffset=0,this.rotation=0,this.outerRadiusOffset=0,this.outerRadiusRatio=1,this.strokeWidth=1,this.sectorSpacing=void 0,this.innerLabels=new qw(QB),this.title=new Mte,this.innerCircle=new JB,this.shadow=new Zs,this.calloutLabel=new iy,this.sectorLabel=new e2,this.calloutLine=new _P,this.tooltip=new wo,this.__BACKGROUND_COLOR_DO_NOT_USE=void 0}};R([F(xe)],Rt.prototype,"angleKey",2);R([F(xe,{optional:!0})],Rt.prototype,"angleName",2);R([F(xe,{optional:!0})],Rt.prototype,"radiusKey",2);R([F(xe,{optional:!0})],Rt.prototype,"radiusName",2);R([F(Se,{optional:!0})],Rt.prototype,"radiusMin",2);R([F(Se,{optional:!0})],Rt.prototype,"radiusMax",2);R([F(xe,{optional:!0})],Rt.prototype,"calloutLabelKey",2);R([F(xe,{optional:!0})],Rt.prototype,"calloutLabelName",2);R([F(xe,{optional:!0})],Rt.prototype,"sectorLabelKey",2);R([F(xe,{optional:!0})],Rt.prototype,"sectorLabelName",2);R([F(xe,{optional:!0})],Rt.prototype,"legendItemKey",2);R([F(ns)],Rt.prototype,"fills",2);R([F(ns)],Rt.prototype,"strokes",2);R([F(Wt)],Rt.prototype,"fillOpacity",2);R([F(Wt)],Rt.prototype,"strokeOpacity",2);R([F(mc)],Rt.prototype,"lineDash",2);R([F(Se)],Rt.prototype,"lineDashOffset",2);R([F(rs,{optional:!0})],Rt.prototype,"formatter",2);R([F(ep)],Rt.prototype,"rotation",2);R([F(nr)],Rt.prototype,"outerRadiusOffset",2);R([F(Wt)],Rt.prototype,"outerRadiusRatio",2);R([lf("Use a Donut Series instead"),F(nr,{optional:!0})],Rt.prototype,"innerRadiusOffset",2);R([lf("Use a Donut Series instead"),F(Wt,{optional:!0})],Rt.prototype,"innerRadiusRatio",2);R([F(Se)],Rt.prototype,"strokeWidth",2);R([F(Se,{optional:!0})],Rt.prototype,"sectorSpacing",2);R([F(JV)],Rt.prototype,"innerLabels",2);R([F(Ge)],Rt.prototype,"title",2);R([F(Ge)],Rt.prototype,"innerCircle",2);R([F(Ge)],Rt.prototype,"shadow",2);R([F(Ge)],Rt.prototype,"calloutLabel",2);R([F(Ge)],Rt.prototype,"sectorLabel",2);R([F(Ge)],Rt.prototype,"calloutLine",2);R([F(Ge)],Rt.prototype,"tooltip",2);R([F(xe,{optional:!0})],Rt.prototype,"__BACKGROUND_COLOR_DO_NOT_USE",2);var WWe=class extends l0{constructor(n,t,e,r){super(n,t,e,r),this.angleKey=r.properties.angleKey,this.radiusKey=r.properties.radiusKey,this.calloutLabelKey=r.properties.calloutLabelKey,this.sectorLabelKey=r.properties.sectorLabelKey}},xP=class extends SP{constructor(n){super({moduleCtx:n,useLabelLayer:!0,animationResetFns:{item:Pte,label:xc}}),this.properties=new Rt,this.previousRadiusScale=new zl,this.radiusScale=new zl,this.backgroundGroup=this.rootGroup.appendChild(new Ie({name:`${this.id}-background`,layer:!0,zIndex:0})),this.zerosumRingsGroup=this.backgroundGroup.appendChild(new Ie({name:`${this.id}-zerosumRings`})),this.zerosumOuterRing=this.zerosumRingsGroup.appendChild(new Ul),this.zerosumInnerRing=this.zerosumRingsGroup.appendChild(new Ul),this.innerCircleGroup=this.backgroundGroup.appendChild(new Ie({name:`${this.id}-innerCircle`})),this.nodeData=[],this.seriesItemEnabled=[],this.surroundingRadius=void 0,this.NodeClickEvent=WWe,this.angleScale=new zl,this.angleScale.domain=[0,1],this.angleScale.range=[-Math.PI,Math.PI].map(i=>i+Math.PI/2);const t=new Ie({name:"pieCalloutLabels"}),e=new Ie({name:"pieSectorLabels"}),r=new Ie({name:"innerLabels"});this.labelGroup.append(t),this.labelGroup.append(e),this.labelGroup.append(r),this.calloutLabelSelection=mr.select(t,Ie),this.sectorLabelSelection=mr.select(e,It),this.innerLabelsSelection=mr.select(r,It),this.innerCircleSelection=mr.select(this.innerCircleGroup,Ul);for(const i of[this.zerosumInnerRing,this.zerosumOuterRing])i.fillOpacity=0,i.stroke=this.properties.calloutLabel.color,i.strokeWidth=1,i.strokeOpacity=1}addChartEventListeners(){var n;this.destroyFns.push((n=this.ctx.chartEventManager)==null?void 0:n.addListener("legend-item-click",t=>this.onLegendItemClick(t)))}visibleChanged(){this.processSeriesItemEnabled()}get visible(){return this.seriesItemEnabled.length?this.seriesItemEnabled.some(n=>n):super.visible}processSeriesItemEnabled(){var n;const{data:t,visible:e}=this;this.seriesItemEnabled=(n=t==null?void 0:t.map(()=>e))!=null?n:[]}nodeFactory(){return new as}getSeriesDomain(n){return n==="x"?this.angleScale.domain:this.radiusScale.domain}processData(n){return pe(this,null,function*(){var t,e,r,i,o;if(this.data==null||!this.properties.isValid())return;let{data:a}=this;const{seriesItemEnabled:s}=this,{angleKey:l,radiusKey:u,calloutLabelKey:c,sectorLabelKey:d,legendItemKey:p}=this.properties,h=!this.ctx.animationManager.isSkipped(),f=[],v=[];p?f.push(Xn(this,p,!1,{id:"legendItemKey"})):c?f.push(Xn(this,c,!1,{id:"calloutLabelKey"})):d&&f.push(Xn(this,d,!1,{id:"sectorLabelKey"})),u&&v.push(bB(this,u,{id:"radiusValue",min:(t=this.properties.radiusMin)!=null?t:0,max:this.properties.radiusMax}),qt(this,u,!0,{id:"radiusRaw"}),qS(this,{id:"radiusValue"},[0,1],1,(e=this.properties.radiusMin)!=null?e:0,this.properties.radiusMax)),c&&v.push(qt(this,c,!1,{id:"calloutLabelValue"})),d&&v.push(qt(this,d,!1,{id:"sectorLabelValue"})),p&&v.push(qt(this,p,!1,{id:"legendItemValue"})),h&&this.processedData&&f.length>0&&v.push(hf(this.processedData)),v.push(ty(this)),a=a.map((g,y)=>s[y]?g:Te(te({},g),{[l]:0})),yield this.requestDataModel(n,a,{props:[...f,OB(this,l,!0,{id:"angleValue",onlyPositive:!0}),qt(this,l,!0,{id:"angleRaw"}),qS(this,{id:"angleValue"},[0,1],0,0),...v]});for(const g of(o=(i=(r=this.processedData)==null?void 0:r.defs)==null?void 0:i.values)!=null?o:[]){const{id:y,missing:m,property:C}=g,S=vB(this,m);y!=="angleRaw"&&S>0&&Oe.warnOnce(`no value was found for the key '${String(C)}' on ${S} data element${S>1?"s":""}`)}this.animationState.transition("updateData")})}maybeRefreshNodeData(){return pe(this,null,function*(){if(!this.nodeDataRefresh)return;const[{nodeData:n=[]}={}]=yield this.createNodeData();this.nodeData=n,this.nodeDataRefresh=!1})}getProcessedDataIndexes(n){const t=n.resolveProcessedDataIndexById(this,"angleValue").index,e=this.properties.radiusKey?n.resolveProcessedDataIndexById(this,"radiusValue").index:-1,r=this.properties.calloutLabelKey?n.resolveProcessedDataIndexById(this,"calloutLabelValue").index:-1,i=this.properties.sectorLabelKey?n.resolveProcessedDataIndexById(this,"sectorLabelValue").index:-1,o=this.properties.legendItemKey?n.resolveProcessedDataIndexById(this,"legendItemValue").index:-1;return{angleIdx:t,radiusIdx:e,calloutLabelIdx:r,sectorLabelIdx:i,legendItemIdx:o}}createNodeData(){return pe(this,null,function*(){const{id:n,processedData:t,dataModel:e,angleScale:r}=this,{rotation:i}=this.properties;if(!t||!e||t.type!=="ungrouped")return[];const{angleIdx:o,radiusIdx:a,calloutLabelIdx:s,sectorLabelIdx:l,legendItemIdx:u}=this.getProcessedDataIndexes(e);let c=0,d=0;const p=t.data.map((f,v)=>{var g;const{datum:y,values:m}=f,C=m[o],S=r.convert(c)+pi(i);c=C,d+=C;const w=r.convert(c)+pi(i),_=Math.abs(w-S),x=S+_/2,b=m[o+1],O=a>=0&&(g=m[a])!=null?g:1,T=a>=0?m[a+1]:void 0,A=u>=0?m[u]:void 0,N=this.getLabels(y,x,_,!0,m[s],m[l],A),M=this.getSectorFormat(y,v,!1);return te({itemId:v,series:this,datum:y,index:v,angleValue:b,midAngle:x,midCos:Math.cos(x),midSin:Math.sin(x),startAngle:S,endAngle:w,sectorFormat:M,radiusValue:T,radius:O,innerRadius:Math.max(this.radiusScale.convert(0),0),outerRadius:Math.max(this.radiusScale.convert(O),0),legendItemValue:A},N)});this.zerosumOuterRing.visible=d===0;const{innerRadiusRatio:h=1}=this.properties;return this.zerosumInnerRing.visible=d===0&&h!==1&&h>0,[{itemId:n,nodeData:p,labelData:p}]})}getLabels(n,t,e,r,i,o,a){const{calloutLabel:s,sectorLabel:l,legendItemKey:u}=this.properties,c=!r||s.enabled?this.properties.calloutLabelKey:void 0,d=!r||l.enabled?this.properties.sectorLabelKey:void 0;if(!c&&!d&&!u)return{};const p={datum:n,angleKey:this.properties.angleKey,angleName:this.properties.angleName,radiusKey:this.properties.radiusKey,radiusName:this.properties.radiusName,calloutLabelKey:this.properties.calloutLabelKey,calloutLabelName:this.properties.calloutLabelName,sectorLabelKey:this.properties.sectorLabelKey,sectorLabelName:this.properties.sectorLabelName,legendItemKey:this.properties.legendItemKey},h={};return c&&e>pi(s.minAngle)&&(h.calloutLabel=Te(te({},this.getTextAlignment(t)),{text:this.getLabelText(s,Te(te({},p),{value:i})),hidden:!1,collisionTextAlign:void 0,collisionOffsetY:0,box:void 0})),d&&(h.sectorLabel={text:this.getLabelText(l,Te(te({},p),{value:o}))}),u!=null&&a!=null&&(h.legendItem={key:u,text:a}),h}getTextAlignment(n){const t=[{textAlign:"center",textBaseline:"bottom"},{textAlign:"left",textBaseline:"middle"},{textAlign:"center",textBaseline:"hanging"},{textAlign:"right",textBaseline:"middle"}],e=US(n),r=-3*Math.PI/4,i=e-r,o=Math.floor(i/(Math.PI/2)),a=nP(o,t.length);return t[a]}getSectorFormat(n,t,e){var r,i,o,a,s;const{callbackCache:l,highlightManager:u}=this.ctx,{angleKey:c,radiusKey:d,fills:p,strokes:h,formatter:f,sectorSpacing:v,__BACKGROUND_COLOR_DO_NOT_USE:g}=this.properties,y=u.getActiveHighlight(),m=e&&(y==null?void 0:y.series)===this&&t===y.itemId,{fill:C,fillOpacity:S,stroke:w,strokeWidth:_,strokeOpacity:x}=yt(m&&this.properties.highlightStyle.item,{fill:p.length>0?p[t%p.length]:void 0,fillOpacity:this.properties.fillOpacity,stroke:v!=null?h.length>0?h[t%h.length]:void 0:h.length>0?h[t%h.length]:g,strokeWidth:this.getStrokeWidth(this.properties.strokeWidth),strokeOpacity:this.getOpacity()});let b;return f&&(b=l.call(f,{datum:n,angleKey:c,radiusKey:d,fill:C,stroke:w,fills:p,strokes:h,strokeWidth:_,highlighted:m,seriesId:this.id})),{fill:(r=b==null?void 0:b.fill)!=null?r:C,fillOpacity:(i=b==null?void 0:b.fillOpacity)!=null?i:S,stroke:(o=b==null?void 0:b.stroke)!=null?o:w,strokeWidth:(a=b==null?void 0:b.strokeWidth)!=null?a:_,strokeOpacity:(s=b==null?void 0:b.strokeOpacity)!=null?s:x}}getInnerRadius(){const{radius:n}=this,{innerRadiusRatio:t=1,innerRadiusOffset:e=0}=this.properties,r=n*t+e;return r===n||r<0?0:r}getOuterRadius(){return Math.max(this.radius*this.properties.outerRadiusRatio+this.properties.outerRadiusOffset,0)}updateRadiusScale(n){const t=[this.getInnerRadius(),this.getOuterRadius()];this.radiusScale.range=t,n&&(this.previousRadiusScale.range=t),this.nodeData=this.nodeData.map(e=>{var r=e,{radius:i}=r,o=yn(r,["radius"]);return Te(te({},o),{radius:i,innerRadius:Math.max(this.radiusScale.convert(0),0),outerRadius:Math.max(this.radiusScale.convert(i),0)})})}getTitleTranslationY(){var n,t;const e=Math.max(0,this.radiusScale.range[1]);if(e===0)return NaN;const i=2+((t=(n=this.properties.title)==null?void 0:n.spacing)!=null?t:0),o=Math.max(0,-e);return-e-i-o}update(n){return pe(this,arguments,function*({seriesRect:t}){const{title:e}=this.properties,r={seriesRectWidth:t==null?void 0:t.width,seriesRectHeight:t==null?void 0:t.height},i=sa(this.nodeDataDependencies,r)!=null;if(i&&(this._nodeDataDependencies=r),yield this.maybeRefreshNodeData(),this.updateTitleNodes(),this.updateRadiusScale(i),this.contentGroup.translationX=this.centerX,this.contentGroup.translationY=this.centerY,this.highlightGroup.translationX=this.centerX,this.highlightGroup.translationY=this.centerY,this.backgroundGroup.translationX=this.centerX,this.backgroundGroup.translationY=this.centerY,this.labelGroup&&(this.labelGroup.translationX=this.centerX,this.labelGroup.translationY=this.centerY),e){const o=this.getTitleTranslationY(),a=e.node.computeBBox();e.node.visible=e.enabled&&isFinite(o)&&!this.bboxIntersectsSurroundingSeries(a,0,o),e.node.translationY=isFinite(o)?o:0}this.updateNodeMidPoint(),yield this.updateSelections(),yield this.updateNodes(t)})}updateTitleNodes(){var n,t;const{oldTitle:e}=this,{title:r}=this.properties;e!==r&&(e&&((n=this.labelGroup)==null||n.removeChild(e.node)),r&&(r.node.textBaseline="bottom",(t=this.labelGroup)==null||t.appendChild(r.node)),this.oldTitle=r)}updateNodeMidPoint(){this.nodeData.forEach(n=>{const t=n.innerRadius+(n.outerRadius-n.innerRadius)/2;n.midPoint={x:n.midCos*Math.max(0,t),y:n.midSin*Math.max(0,t)}})}updateSelections(){return pe(this,null,function*(){yield this.updateGroupSelection(),this.updateInnerCircleSelection()})}updateGroupSelection(){return pe(this,null,function*(){const{itemSelection:n,highlightSelection:t,calloutLabelSelection:e,sectorLabelSelection:r,innerLabelsSelection:i}=this,o=(a,s)=>{let l=this.nodeData;s&&(l=l.map(u=>Te(te({},u),{sectorFormat:te({},u.sectorFormat)}))),a.update(l,void 0,u=>this.getDatumId(u)),this.ctx.animationManager.isSkipped()&&a.cleanup()};o(n,!1),o(t,!0),e.update(this.nodeData,a=>{const s=new mn;s.tag=1,s.pointerEvents=1,a.appendChild(s);const l=new It;l.tag=2,l.pointerEvents=1,a.appendChild(l)}),r.update(this.nodeData,a=>{a.pointerEvents=1}),i.update(this.properties.innerLabels,a=>{a.pointerEvents=1})})}updateInnerCircleSelection(){const{innerCircle:n}=this.properties;let t=0;const e=this.getInnerRadius();if(e>0){const i=Math.min(e,this.getOuterRadius());t=Math.ceil(i*2+1)}const r=n?[{radius:t}]:[];this.innerCircleSelection.update(r)}updateNodes(n){return pe(this,null,function*(){const t=this.ctx.highlightManager.getActiveHighlight(),e=this.seriesItemEnabled.indexOf(!0)>=0;this.rootGroup.visible=e,this.backgroundGroup.visible=e,this.contentGroup.visible=e,this.highlightGroup.visible=e&&(t==null?void 0:t.series)===this,this.labelGroup&&(this.labelGroup.visible=e),this.contentGroup.opacity=this.getOpacity(),this.innerCircleSelection.each((i,{radius:o})=>{var a,s;i.setProperties({fill:(a=this.properties.innerCircle)==null?void 0:a.fill,opacity:(s=this.properties.innerCircle)==null?void 0:s.fillOpacity,size:o})});const r=(i,o,a,s)=>{const l=this.getSectorFormat(o.datum,o.itemId,s);o.sectorFormat.fill=l.fill,o.sectorFormat.stroke=l.stroke;const u=this.ctx.animationManager.isSkipped();u&&(i.startAngle=o.startAngle,i.endAngle=o.endAngle,i.innerRadius=o.innerRadius,i.outerRadius=o.outerRadius),(s||u)&&(i.fill=l.fill,i.stroke=l.stroke),i.strokeWidth=l.strokeWidth,i.fillOpacity=l.fillOpacity,i.strokeOpacity=this.properties.strokeOpacity,i.lineDash=this.properties.lineDash,i.lineDashOffset=this.properties.lineDashOffset,i.fillShadow=this.properties.shadow,i.inset=this.properties.sectorSpacing!=null?(this.properties.sectorSpacing+(l.stroke!=null?l.strokeWidth:0))/2:0,i.lineJoin=this.properties.sectorSpacing!=null?"miter":"round"};this.itemSelection.each((i,o,a)=>r(i,o,a,!1)),this.highlightSelection.each((i,o,a)=>{const s=(t==null?void 0:t.series)===this&&i.datum.itemId===t.itemId;r(i,o,a,!0),i.visible=s}),this.updateCalloutLineNodes(),this.updateCalloutLabelNodes(n),this.updateSectorLabelNodes(),this.updateInnerLabelNodes(),this.updateZerosumRings(),this.animationState.transition("update")})}updateCalloutLineNodes(){var n;const{calloutLine:t}=this.properties,e=t.length,r=t.strokeWidth,i=(n=t.colors)!=null?n:this.properties.strokes,{offset:o}=this.properties.calloutLabel;this.calloutLabelSelection.selectByTag(1).forEach((a,s)=>{const l=a.datum,{calloutLabel:u,outerRadius:c}=l;if(u!=null&&u.text&&!u.hidden&&c!==0){a.visible=!0,a.strokeWidth=r,a.stroke=i[s%i.length],a.fill=void 0;const d=l.midCos*c,p=l.midSin*c;let h=l.midCos*(c+e),f=l.midSin*(c+e);if((u.collisionTextAlign||u.collisionOffsetY!==0)&&u.box!=null){const g=u.box;let y=h,m=f;h<g.x?y=g.x:h>g.x+g.width&&(y=g.x+g.width),f<g.y?m=g.y:f>g.y+g.height&&(m=g.y+g.height);const C=y-h,S=m-f,w=Math.sqrt(Math.pow(C,2)+Math.pow(S,2)),_=w-o;_>0&&(h=h+C*_/w,f=f+S*_/w)}a.x1=d,a.y1=p,a.x2=h,a.y2=f}else a.visible=!1})}getLabelOverflow(n,t,e){const r=e.x-this.centerX,i=e.x+e.width-this.centerX,o=e.y-this.centerY,a=e.y+e.height-this.centerY,s=1;let l=1;t.x+s<r?l=(t.x+t.width-r)/t.width:t.x+t.width-s>i&&(l=(i-t.x)/t.width);const u=t.y+s<o||t.y+t.height-s>a,c=l===1?n.length:Math.floor(n.length*l)-1,d=this.bboxIntersectsSurroundingSeries(t);return{textLength:c,hasVerticalOverflow:u,hasSurroundingSeriesOverflow:d}}bboxIntersectsSurroundingSeries(n,t=0,e=0){const{surroundingRadius:r}=this;if(r==null)return!1;const i=[{x:n.x+t,y:n.y+e},{x:n.x+n.width+t,y:n.y+e},{x:n.x+n.width+t,y:n.y+n.height+e},{x:n.x+t,y:n.y+n.height+e}],o=pt(r,2);return i.some(a=>pt(a.x,2)+pt(a.y,2)>o)}computeCalloutLabelCollisionOffsets(){const{radiusScale:n}=this,{calloutLabel:t,calloutLine:e}=this.properties,{offset:r,minSpacing:i}=t,o=n.convert(0),a=m=>!m.calloutLabel||m.outerRadius===0,s=this.nodeData,l=this.nodeData.filter(m=>!a(m));if(l.forEach(m=>{const C=m.calloutLabel;C!=null&&(C.hidden=!1,C.collisionTextAlign=void 0,C.collisionOffsetY=0)}),l.length<=1)return;const u=l.filter(m=>m.midCos<0).sort((m,C)=>m.midSin-C.midSin),c=l.filter(m=>m.midCos>=0).sort((m,C)=>m.midSin-C.midSin),d=l.filter(m=>{var C;return m.midSin<0&&((C=m.calloutLabel)==null?void 0:C.textAlign)==="center"}).sort((m,C)=>m.midCos-C.midCos),p=l.filter(m=>{var C;return m.midSin>=0&&((C=m.calloutLabel)==null?void 0:C.textAlign)==="center"}).sort((m,C)=>m.midCos-C.midCos),h=new It,f=m=>{var C;const S=m.calloutLabel;if(S==null)return new et(0,0,0,0);const w=m.outerRadius+e.length+r,_=m.midCos*w,x=m.midSin*w+S.collisionOffsetY;return h.text=S.text,h.x=_,h.y=x,h.setFont(this.properties.calloutLabel),h.setAlign({textAlign:(C=S.collisionTextAlign)!=null?C:S.textAlign,textBaseline:S.textBaseline}),h.computeBBox()},v=(m,C,S)=>{const w=f(m).grow(i/2),_=f(C).grow(i/2);if(w.x<_.x+_.width&&w.x+w.width>_.x&&(S==="to-top"?w.y<_.y+_.height:w.y+w.height>_.y)){const b=S==="to-top"?w.y-_.y-_.height:w.y+w.height-_.y;C.calloutLabel.collisionOffsetY=b}},g=m=>{const C=m.slice().sort((w,_)=>Math.abs(w.midSin)-Math.abs(_.midSin))[0],S=m.indexOf(C);for(let w=S-1;w>=0;w--){const _=m[w+1],x=m[w];v(_,x,"to-top")}for(let w=S+1;w<m.length;w++){const _=m[w-1],x=m[w];v(_,x,"to-bottom")}},y=m=>{const C=l.some(O=>O.calloutLabel.collisionOffsetY!==0),S=m.map(O=>f(O)),w=S.map(O=>O.clone().grow(i/2));let _=!1;for(let O=0;O<w.length&&!_;O++){const T=w[O];for(let A=O+1;A<m.length;A++){const N=w[A];if(T.collidesBBox(N)){_=!0;break}}}const x=s.map(O=>{const{startAngle:T,endAngle:A,outerRadius:N}=O;return{startAngle:T,endAngle:A,innerRadius:o,outerRadius:N}}),b=S.some(O=>x.some(T=>Rte(O,T)));!_&&!C&&!b||m.filter(O=>O.calloutLabel.textAlign==="center").forEach(O=>{const T=O.calloutLabel;O.midCos<0?T.collisionTextAlign="right":O.midCos>0?T.collisionTextAlign="left":T.collisionTextAlign="center"})};g(u),g(c),y(d),y(p)}updateCalloutLabelNodes(n){const{radiusScale:t}=this,{calloutLabel:e,calloutLine:r}=this.properties,i=r.length,{offset:o,color:a}=e,s=new It;this.calloutLabelSelection.selectByTag(2).forEach(l=>{var u;const{datum:c}=l,d=c.calloutLabel,p=t.convert(c.radius),h=Math.max(0,p);if(!(d!=null&&d.text)||h===0||d.hidden){l.visible=!1;return}const f=h+i+o,v=c.midCos*f,g=c.midSin*f+d.collisionOffsetY,y={textAlign:(u=d.collisionTextAlign)!=null?u:d.textAlign,textBaseline:d.textBaseline};s.text=d.text,s.x=v,s.y=g,s.setFont(this.properties.calloutLabel),s.setAlign(y);const m=s.computeBBox();let C=d.text,S=!0;if(e.avoidCollisions){const{textLength:w,hasVerticalOverflow:_}=this.getLabelOverflow(d.text,m,n);C=d.text.length===w?d.text:`${d.text.substring(0,w)}…`,S=!_}l.text=C,l.x=v,l.y=g,l.setFont(this.properties.calloutLabel),l.setAlign(y),l.fill=a,l.visible=S})}computeLabelsBBox(n,t){return pe(this,null,function*(){const{calloutLabel:e,calloutLine:r}=this.properties,i=r.length,{offset:o,maxCollisionOffset:a,minSpacing:s}=e;if(!e.avoidCollisions)return null;yield this.maybeRefreshNodeData(),this.updateRadiusScale(!1),this.computeCalloutLabelCollisionOffsets();const l=[],u=new It;let c;const{title:d}=this.properties;if(d!=null&&d.text&&d.enabled){const p=this.getTitleTranslationY();isFinite(p)&&(u.text=d.text,u.x=0,u.y=p,u.setFont(d),u.setAlign({textBaseline:"bottom",textAlign:"center"}),c=u.computeBBox(),l.push(c))}return this.nodeData.forEach(p=>{var h;const f=p.calloutLabel;if(!f||p.outerRadius===0)return null;const v=p.outerRadius+i+o,g=p.midCos*v,y=p.midSin*v+f.collisionOffsetY;u.text=f.text,u.x=g,u.y=y,u.setFont(this.properties.calloutLabel),u.setAlign({textAlign:(h=f.collisionTextAlign)!=null?h:f.textAlign,textBaseline:f.textBaseline});const m=u.computeBBox();if(f.box=m,Math.abs(f.collisionOffsetY)>a){f.hidden=!0;return}if(c){const C=t.y-this.centerY,S=new et(c.x-s,C,c.width+2*s,c.y+c.height+s-C);if(m.collidesBBox(S)){f.hidden=!0;return}}if(n.hideWhenNecessary){const{textLength:C,hasVerticalOverflow:S,hasSurroundingSeriesOverflow:w}=this.getLabelOverflow(f.text,m,t),_=f.text.length>2&&C<2;if(S||_||w){f.hidden=!0;return}}f.hidden=!1,l.push(m)}),l.length===0?null:et.merge(l)})}updateSectorLabelNodes(){const{radiusScale:n}=this,t=n.convert(0),{fontSize:e,fontStyle:r,fontWeight:i,fontFamily:o,positionOffset:a,positionRatio:s,color:l}=this.properties.sectorLabel,u=t>0,c=this.seriesItemEnabled.filter(Boolean).length===1;this.sectorLabelSelection.each((d,p)=>{const{sectorLabel:h,outerRadius:f}=p;let v=!1;if(h&&f!==0){const g=t*(1-s)+f*s+a;d.fill=l,d.fontStyle=r,d.fontWeight=i,d.fontSize=e,d.fontFamily=o,d.text=h.text,!u&&c?(d.x=0,d.y=0):(d.x=p.midCos*g,d.y=p.midSin*g),d.textAlign="center",d.textBaseline="middle";const m=d.computeBBox(),C=[[m.x,m.y],[m.x+m.width,m.y],[m.x+m.width,m.y+m.height],[m.x,m.y+m.height]],{startAngle:S,endAngle:w}=p,_={startAngle:S,endAngle:w,innerRadius:t,outerRadius:f};C.every(([x,b])=>YB(x,b,_))&&(v=!0)}d.visible=v})}updateInnerLabelNodes(){const n=[],t=[];this.innerLabelsSelection.each((c,d)=>{const{fontStyle:p,fontWeight:h,fontSize:f,fontFamily:v,color:g,margin:y=2}=d;c.fontStyle=p,c.fontWeight=h,c.fontSize=f,c.fontFamily=v,c.text=d.text,c.x=0,c.y=0,c.fill=g,c.textAlign="center",c.textBaseline="alphabetic",n.push(c.computeBBox()),t.push(y)});const e=c=>c===0?0:t[c],r=c=>c===t.length-1?0:t[c],i=n.reduce((c,d,p)=>c+d.height+e(p)+r(p),0),o=Math.max(...n.map(c=>c.width)),a=this.getInnerRadius(),l=Math.sqrt(Math.pow(o/2,2)+Math.pow(i/2,2))<=(a>0?a:this.getOuterRadius()),u=[];for(let c=0,d=-i/2;c<n.length;c++){const h=n[c].height+d+e(c);u.push(h),d=h+r(c)}this.innerLabelsSelection.each((c,d,p)=>{c.y=u[p],c.visible=l})}updateZerosumRings(){this.zerosumOuterRing.size=this.getOuterRadius()*2,this.zerosumInnerRing.size=this.getInnerRadius()*2}getDatumLegendName(n){const{angleKey:t,calloutLabelKey:e,sectorLabelKey:r,legendItemKey:i}=this.properties,{sectorLabel:o,calloutLabel:a,legendItem:s}=n;if(i&&s!==void 0)return s.text;if(e&&e!==t&&(a==null?void 0:a.text)!==void 0)return a.text;if(r&&r!==t&&(o==null?void 0:o.text)!==void 0)return o.text}getTooltipHtml(n){var t;if(!this.properties.isValid())return"";const{datum:e,angleValue:r,sectorFormat:{fill:i}}=n,o=fr((t=this.properties.title)==null?void 0:t.text),a=Gt(r)?rP(r):String(r),s=this.getDatumLegendName(n);return this.properties.tooltip.toTooltipHtml({title:o??s,content:o&&s?`${s}: ${a}`:a,backgroundColor:i},{datum:e,title:o,color:i,seriesId:this.id,angleKey:this.properties.angleKey,angleName:this.properties.angleName,radiusKey:this.properties.radiusKey,radiusName:this.properties.radiusName,calloutLabelKey:this.properties.calloutLabelKey,calloutLabelName:this.properties.calloutLabelName,sectorLabelKey:this.properties.sectorLabelKey,sectorLabelName:this.properties.sectorLabelName})}getLegendData(n){var t,e,r,i,o;const{processedData:a,dataModel:s}=this;if(!s||!(a!=null&&a.data.length)||n!=="category")return[];const{angleKey:l,calloutLabelKey:u,sectorLabelKey:c,legendItemKey:d}=this.properties;if(!d&&(!u||u===l)&&(!c||c===l))return[];const{calloutLabelIdx:p,sectorLabelIdx:h,legendItemIdx:f}=this.getProcessedDataIndexes(s),v=((t=this.properties.title)==null?void 0:t.showInLegend)&&this.properties.title.text,g=[];for(let y=0;y<a.data.length;y++){const{datum:m,values:C}=a.data[y],S=[];v&&S.push(v);const w=this.getLabels(m,2*Math.PI,2*Math.PI,!1,C[p],C[h],C[f]);if(d&&w.legendItem!==void 0?S.push(w.legendItem.text):u&&u!==l&&((e=w.calloutLabel)==null?void 0:e.text)!==void 0?S.push((r=w.calloutLabel)==null?void 0:r.text):c&&c!==l&&((i=w.sectorLabel)==null?void 0:i.text)!==void 0&&S.push((o=w.sectorLabel)==null?void 0:o.text),S.length===0)continue;const _=this.getSectorFormat(m,y,!1);g.push({legendType:"category",id:this.id,itemId:y,seriesId:this.id,enabled:this.seriesItemEnabled[y],label:{text:S.join(" - ")},marker:{fill:_.fill,stroke:_.stroke,fillOpacity:this.properties.fillOpacity,strokeOpacity:this.properties.strokeOpacity,strokeWidth:this.properties.strokeWidth},legendItemName:d!=null?m[d]:void 0})}return g}onLegendItemClick(n){const{enabled:t,itemId:e,series:r,legendItemName:i}=n;r.id===this.id?this.toggleSeriesItem(e,t):i!=null&&this.toggleOtherSeriesItems(i,t)}toggleSeriesItem(n,t){this.seriesItemEnabled[n]=t,this.nodeDataRefresh=!0}toggleOtherSeriesItems(n,t){var e;if(!this.properties.legendItemKey||!this.dataModel)return;const r=this.dataModel.resolveProcessedDataIndexById(this,"legendItemValue").index;(e=this.processedData)==null||e.data.forEach(({values:i},o)=>{i[r]===n&&this.toggleSeriesItem(o,t)})}animateEmptyUpdateReady(n){const{animationManager:t}=this.ctx,e=Qv(!0,this.properties.rotation,this.radiusScale,this.previousRadiusScale);yr(this.id,"nodes",t,[this.itemSelection,this.highlightSelection],e.nodes),yr(this.id,"innerCircle",t,[this.innerCircleSelection],e.innerCircle),$t(this,"callout",t,[this.calloutLabelSelection]),$t(this,"sector",t,[this.sectorLabelSelection]),$t(this,"inner",t,[this.innerLabelsSelection]),this.previousRadiusScale.range=this.radiusScale.range}animateWaitingUpdateReady(){var n,t,e,r,i,o;const{itemSelection:a,highlightSelection:s,processedData:l,radiusScale:u,previousRadiusScale:c}=this,{animationManager:d}=this.ctx,p=(n=l==null?void 0:l.reduced)==null?void 0:n.diff;this.ctx.animationManager.stopByAnimationGroupId(this.id);const h=((t=p==null?void 0:p.moved.length)!=null?t:0)===0&&(p==null?void 0:p.addedIndices.every(y=>!p.removedIndices.includes(y))),f=((e=l==null?void 0:l.defs.keys.length)!=null?e:0)>0,v=(o=(i=(r=l==null?void 0:l.reduced)==null?void 0:r.animationValidation)==null?void 0:i.uniqueKeys)!=null?o:!0;(!h||!f||!v)&&this.ctx.animationManager.skipCurrentBatch();const g=Qv(!1,this.properties.rotation,u,c);yr(this.id,"nodes",d,[a,s],g.nodes,(y,m)=>this.getDatumId(m),p),yr(this.id,"innerCircle",d,[this.innerCircleSelection],g.innerCircle),$t(this,"callout",this.ctx.animationManager,[this.calloutLabelSelection]),$t(this,"sector",this.ctx.animationManager,[this.sectorLabelSelection]),$t(this,"inner",this.ctx.animationManager,[this.innerLabelsSelection]),this.previousRadiusScale.range=this.radiusScale.range}animateClearingUpdateEmpty(){const{itemSelection:n,highlightSelection:t,radiusScale:e,previousRadiusScale:r}=this,{animationManager:i}=this.ctx,o=Qv(!1,this.properties.rotation,e,r);yr(this.id,"nodes",i,[n,t],o.nodes),yr(this.id,"innerCircle",i,[this.innerCircleSelection],o.innerCircle),Mh(this,"callout",this.ctx.animationManager,[this.calloutLabelSelection]),Mh(this,"sector",this.ctx.animationManager,[this.sectorLabelSelection]),Mh(this,"inner",this.ctx.animationManager,[this.innerLabelsSelection]),this.previousRadiusScale.range=this.radiusScale.range}getDatumIdFromData(n){var t,e,r;const{calloutLabelKey:i,sectorLabelKey:o,legendItemKey:a}=this.properties;if((r=(e=(t=this.processedData)==null?void 0:t.reduced)==null?void 0:e.animationValidation)!=null&&r.uniqueKeys){if(a)return n[a];if(i)return n[i];if(o)return n[o]}}getDatumId(n){var t;const{index:e}=n;return(t=this.getDatumIdFromData(n.datum))!=null?t:`${e}`}onDataChange(){this.processSeriesItemEnabled()}};xP.className="PieSeries";xP.type="pie";var UWe={type:"series",optionsKey:"series[]",packageType:"community",chartTypes:["polar"],identifier:"pie",instanceConstructor:xP,seriesDefaults:{},themeTemplate:Ate,paletteFactory:Dte};function zWe(){ps(nte),ps(ote),ps(RWe),ps(DWe),ps(IWe),ps(VWe),ps(HWe),ps($We),ps(UWe),ps(kWe),new Map([[Yh.type,Yh],[ac.type,ac],[Xh.type,Xh],[Hd.type,Hd],[$d.type,$d]]).forEach((t,e)=>{fQ(e,t)}),kQ("category","legend",Co,void 0)}function KWe(){for(const n of Ll){if(n.packageType==="enterprise"&&!kHe(n)&&Oe.errorOnce("Unexpected enterprise module registered: "+n.identifier),n.type==="root"&&n.themeTemplate)for(const t of n.chartTypes)AHe(t,n.themeTemplate);if(n.type==="series"){if(n.chartTypes.length>1)throw new Error(`AG Charts - Module definition error: ${n.identifier}`);$He(n)}if(n.type==="series-option"&&n.themeTemplate)for(const t of n.seriesTypes)IQ(t,n.themeTemplate);if(n.type==="axis-option"&&n.themeTemplate)for(const t of n.axisTypes){const e=n.themeTemplate[t],r=te(te({},n.themeTemplate),e);for(const i of n.axisTypes)delete r[i];ez(t,r)}n.type==="axis"&&(fQ(n.identifier,n.instanceConstructor),n.themeTemplate&&ez(n.identifier,n.themeTemplate)),n.type==="legend"&&kQ(n.identifier,n.optionsKey,n.instanceConstructor,n.themeTemplate)}if(LV()){const n=GHe();n.length>0&&Oe.errorOnce("Enterprise modules expected but not registered: ",n)}}var t2=class Fte extends gP{constructor(t,e){super(t,e),this._data={}}performLayout(){return pe(this,null,function*(){const t=yield fc(Fte.prototype,this,"performLayout").call(this),{seriesArea:{padding:e},seriesRoot:r}=this,i=t.clone();return t.shrink(e.left,"left"),t.shrink(e.top,"top"),t.shrink(e.right,"right"),t.shrink(e.bottom,"bottom"),this.seriesRect=t,this.animationRect=t,this.hoverRect=t,r.translationX=Math.floor(t.x),r.translationY=Math.floor(t.y),yield Promise.all(this.series.map(o=>pe(this,null,function*(){yield o.update({seriesRect:t})}))),r.visible=this.series[0].visible,r.setClipRectInGroupCoordinateSpace(new et(t.x,t.y,t.width,t.height)),this.layoutService.dispatchLayoutComplete({type:"layout-complete",chart:{width:this.scene.width,height:this.scene.height},clipSeries:!1,series:{rect:i,paddedRect:t,visible:!0},axes:[]}),t})}};t2.className="HierarchyChart";t2.type="hierarchy";var YWe=t2,Jv=class extends dB{constructor(){super(...arguments),this.shape="polygon",this.innerRadiusRatio=0,this.defaultTickMinSpacing=20}computeLabelsBBox(n,t){return null}};R([F(Kr(["polygon","circle"],"a polar axis shape"))],Jv.prototype,"shape",2);R([F(Wt)],Jv.prototype,"innerRadiusRatio",2);var r2=class Lte extends gP{constructor(t,e){super(t,e),this.padding=new ip(40),this.axisGroup.zIndex=5}performLayout(){return pe(this,null,function*(){const t=yield fc(Lte.prototype,this,"performLayout").call(this),e=t.clone();return this.computeSeriesRect(t),yield this.computeCircle(t),this.axes.forEach(r=>r.update()),this.hoverRect=t,this.layoutService.dispatchLayoutComplete({type:"layout-complete",chart:{width:this.scene.width,height:this.scene.height},clipSeries:!1,series:{rect:e,paddedRect:t,visible:!0},axes:[]}),t})}updateAxes(t,e,r){var i,o;const a=this.axes.find(d=>d.direction==="x"),s=this.axes.find(d=>d.direction==="y");if(!(a instanceof Jv)||!(s instanceof Jv))return;const l=a.scale,u=(i=l.ticks)==null?void 0:i.call(l).map(d=>l.convert(d)),c=s.innerRadiusRatio;a.innerRadiusRatio=c,(o=a.computeRange)==null||o.call(a),a.gridLength=r,s.gridAngles=u,s.gridRange=a.range,s.range=[r,r*c],[a,s].forEach(d=>{d.translation.x=t,d.translation.y=e,d.calculateLayout()})}computeSeriesRect(t){const{seriesArea:{padding:e}}=this;t.shrink(e.left,"left"),t.shrink(e.top,"top"),t.shrink(e.right,"right"),t.shrink(e.bottom,"bottom"),this.seriesRect=t,this.animationRect=t}computeCircle(t){return pe(this,null,function*(){const e=this.series.filter(c=>c instanceof SP),r=this.axes.filter(c=>c instanceof Jv),i=(c,d,p)=>{this.updateAxes(c,d,p),e.forEach(f=>{f.centerX=c,f.centerY=d,f.radius=p});const h=e.filter(f=>f instanceof xP||f instanceof wP);if(h.length>1){const f=h.map(v=>{const g=v.getInnerRadius();return{series:v,innerRadius:g}}).sort((v,g)=>v.innerRadius-g.innerRadius);f.at(-1).series.surroundingRadius=void 0;for(let v=0;v<f.length-1;v++)f[v].series.surroundingRadius=f[v+1].innerRadius}},o=t.x+t.width/2,a=t.y+t.height/2,s=Math.max(0,Math.min(t.width,t.height)/2);let l=s;i(o,a,l);const u=(...c)=>pe(this,[...c],function*({hideWhenNecessary:d=!1}={}){const p=[];for(const v of[...r,...e]){const g=yield v.computeLabelsBBox({hideWhenNecessary:d},t);g&&p.push(g)}if(p.length===0){i(o,a,s);return}const h=et.merge(p),f=this.refineCircle(h,l,t);i(f.centerX,f.centerY,f.radius),f.radius!==l&&(l=f.radius)});return yield u(),yield u(),yield u(),yield u({hideWhenNecessary:!0}),yield u({hideWhenNecessary:!0}),{radius:l,centerX:o,centerY:a}})}refineCircle(t,e,r){const o=-e,a=-e,s=e,l=e;let u=Math.max(0,o-t.x),c=Math.max(0,a-t.y),d=Math.max(0,t.x+t.width-s),p=Math.max(0,t.y+t.height-l);u=d=Math.max(u,d),c=p=Math.max(c,p);const h=r.width-u-d,f=r.height-c-p;let v=Math.min(h,f)/2;const g=.5*r.width/2,y=.5*r.height/2,m=Math.min(g,y);if(v<m){v=m;const w=u+d,_=c+p;if(2*v+_>r.height){const x=r.height-2*v;Math.min(c,p)*2>x?(c=x/2,p=x/2):c>p?c=x-p:p=x-c}if(2*v+w>r.width){const x=r.width-2*v;Math.min(u,d)*2>x?(u=x/2,d=x/2):u>d?u=x-d:d=x-u}}const C=u+2*v+d,S=c+2*v+p;return{centerX:r.x+(r.width-C)/2+u+v,centerY:r.y+(r.height-S)/2+c+v,radius:v}}};r2.className="PolarChart";r2.type="polar";var XWe=r2,fx=Lr.create(!0,"opts");function Vz(n){if(Ph(n))return"cartesian";if(Xw(n))return"polar";if(kV(n))return"hierarchy";throw new Error(`AG Chart - unknown type of chart for options with type: ${n.type}`)}var EP=class aC{static licenseCheck(t){var e,r,i,o;this.licenseChecked||(this.licenseManager=(r=(e=Wv).licenseManager)==null?void 0:r.call(e,t),(i=this.licenseManager)==null||i.setLicenseKey(this.licenseKey,this.gridContext),(o=this.licenseManager)==null||o.validateLicense(),this.licenseChecked=!0)}static setLicenseKey(t){this.licenseKey=t}static setGridContext(t){this.gridContext=t}static getLicenseDetails(t){var e,r;return(r=(e=Wv).licenseManager)==null?void 0:r.call(e,{}).getLicenseDetails(t)}static getInstance(t){return Bf.getInstance(t)}static create(t){var e,r,i,o;this.licenseCheck(t);const a=Bf.createOrUpdate(t);return(e=this.licenseManager)!=null&&e.isDisplayWatermark()&&((o=(i=Wv).injectWatermark)==null||o.call(i,(r=t.document)!=null?r:document,a.chart.element,this.licenseManager.getWatermarkMessage())),a}static update(t,e){if(!wv.isInstance(t))throw new Error(aC.INVALID_CHART_REF_MESSAGE);Bf.createOrUpdate(e,t)}static updateDelta(t,e){if(!wv.isInstance(t))throw new Error(aC.INVALID_CHART_REF_MESSAGE);Bf.updateUserDelta(t,e)}static download(t,e){if(!(t instanceof wv))throw new Error(aC.INVALID_CHART_REF_MESSAGE);Bf.download(t,e)}static getImageDataURL(t,e){if(!(t instanceof wv))throw new Error(aC.INVALID_CHART_REF_MESSAGE);return Bf.getImageDataURL(t,e)}};EP.INVALID_CHART_REF_MESSAGE="AG Charts - invalid chart reference passed";EP.licenseChecked=!1;EP.gridContext=!1;var ku=EP,Ite=class fl{static getInstance(t){const e=gP.getInstance(t);return e!=null?wv.chartInstances.get(e):void 0}static initialiseModules(){fl.initialised||(zWe(),KWe(),fl.initialised=!0)}static createOrUpdate(t,e){var r;fl.initialiseModules(),fx(">>> AgChartV2.createOrUpdate() user options",t);const i=t,{overrideDevicePixelRatio:o,document:a,window:s}=i,l=yn(i,["overrideDevicePixelRatio","document","window"]),u=new iJ(l,{overrideDevicePixelRatio:o,document:a,window:s});let c=e==null?void 0:e.chart;return(c==null||Vz(l)!==Vz(c.processedOptions))&&(c=fl.createChartInstance(u,c)),e==null?e=new wv(c):e.chart=c,fx.check()&&typeof window<"u"&&((r=window.agChartInstances)!=null||(window.agChartInstances={}),window.agChartInstances[c.id]=c),c.queuedUserOptions.push(l),c.requestFactoryUpdate(d=>{d.applyOptions(u),d.queuedUserOptions.splice(0,d.queuedUserOptions.indexOf(l))}),e}static updateUserDelta(t,e){e=ui(e,{shallow:["data"]}),Il(e,a=>{if(typeof a=="object")for(const[s,l]of Object.entries(a))typeof l>"u"&&Object.assign(a,{[s]:Symbol("UNSET")})},{skip:["data"]});const{chart:r}=t,i=r.getOptions(),o=yt(e,i);fx(">>> AgChartV2.updateUserDelta() user delta",e),fx("AgChartV2.updateUserDelta() - base options",i),fl.createOrUpdate(o,t)}static download(t,e){return pe(this,null,function*(){try{const r=yield fl.prepareResizedChart(t,e);r.chart.scene.download(e==null?void 0:e.fileName,e==null?void 0:e.fileFormat),r.destroy()}catch(r){Oe.errorOnce(r)}})}static getImageDataURL(t,e){return pe(this,null,function*(){const r=yield fl.prepareResizedChart(t,e),{canvas:i}=r.chart.scene,o=i.getDataURL(e==null?void 0:e.fileFormat);return r.destroy(),o})}static prepareResizedChart(t){return pe(this,arguments,function*(e,r={}){const{chart:i}=e,{width:o=i.width,height:a=i.height}=r,s=yt({container:document.createElement("div"),overrideDevicePixelRatio:1,autoSize:!1,width:o,height:a},LV()&&{animation:{enabled:!1}},i.userOptions),l=fl.createOrUpdate(s);return l.chart.zoomManager.updateZoom(e.chart.zoomManager.getZoom()),e.chart.series.forEach((u,c)=>{u.visible!==!0&&(l.chart.series[c].visible=u.visible)}),e.chart.update(0,{forceNodeDataRefresh:!0}),yield l.chart.waitForUpdate(),l})}static createChartInstance(t,e){const r=e==null?void 0:e.destroy({keepTransferableResources:!0}),i=fl.getChartByOptions(t.processedOptions);return new i(t,r)}static getChartByOptions(t){if(Ph(t))return pWe;if(kV(t))return YWe;if(Xw(t))return XWe;throw new Error("AG Charts - couldn't apply configuration, check options are correctly structured and series types are specified")}};Ite.initialised=!1;var Bf=Ite,qWe="9.1.1",oe={};hc(oe,{Arc:()=>lu,BBox:()=>et,BandScale:()=>Ql,Caption:()=>Er,Circle:()=>Ul,ContinuousScale:()=>Xt,Diamond:()=>Aee,DropShadow:()=>Zs,Group:()=>Ie,HdpiCanvas:()=>Ir,Image:()=>oy,Label:()=>ln,Line:()=>mn,LinearGradientFill:()=>bP,LinearScale:()=>zl,Marker:()=>os,Node:()=>Xg,Path:()=>ha,Path2D:()=>Rg,PointerEvents:()=>lJ,RadialColumnShape:()=>Qs,Rect:()=>vi,RedrawType:()=>Qc,Scene:()=>fB,SceneChangeDetection:()=>Pe,ScenePathChangeDetection:()=>ct,Sector:()=>as,Selection:()=>mr,Shape:()=>Za,Square:()=>Tg,Text:()=>It,Tooltip:()=>LJ,Triangle:()=>qv,easing:()=>YV,getFont:()=>Bd,getMarker:()=>op,getRadialColumnWidth:()=>ZWe,motion:()=>QWe,nearestSquared:()=>sJ,nearestSquaredInContainer:()=>jje,toRadians:()=>pi,toTooltipHtml:()=>zS});var lu=class extends ha{constructor(){super(),this.centerX=0,this.centerY=0,this.radius=10,this.startAngle=0,this.endAngle=Math.PI*2,this.counterClockwise=!1,this.type=0,this.restoreOwnStyles()}get fullPie(){return Dh($r(this.startAngle),$r(this.endAngle))}updatePath(){const n=this.path;n.clear(),n.arc(this.centerX,this.centerY,this.radius,this.startAngle,this.endAngle,this.counterClockwise),this.type===1?n.closePath():this.type===2&&!this.fullPie&&(n.lineTo(this.centerX,this.centerY),n.closePath())}computeBBox(){return new et(this.centerX-this.radius,this.centerY-this.radius,this.radius*2,this.radius*2)}isPointInPath(n,t){const e=this.transformPoint(n,t),r=this.computeBBox();return this.type!==0&&r.containsPoint(e.x,e.y)&&this.path.isPointInPath(e.x,e.y)}};lu.className="Arc";lu.defaultStyles=Object.assign({},Za.defaultStyles,{lineWidth:1,fillStyle:null});R([ct()],lu.prototype,"centerX",2);R([ct()],lu.prototype,"centerY",2);R([ct()],lu.prototype,"radius",2);R([ct()],lu.prototype,"startAngle",2);R([ct()],lu.prototype,"endAngle",2);R([ct()],lu.prototype,"counterClockwise",2);R([ct()],lu.prototype,"type",2);var bP=class extends Za{constructor(){super(...arguments),this.direction="to-right",this.stops=void 0,this._mask=void 0}get mask(){return this._mask}set mask(n){this._mask!=null&&this.removeChild(this._mask),n!=null&&this.appendChild(n),this._mask=n}isPointInPath(n,t){var e,r;return(r=(e=this.mask)==null?void 0:e.isPointInPath(n,t))!=null?r:!1}computeBBox(){var n;return(n=this.mask)==null?void 0:n.computeBBox()}render(n){const{mask:t,stops:e}=this,{ctx:r,devicePixelRatio:i}=n,o=1/i,a=t==null?void 0:t.computeTransformedBBox();if(t==null||e==null||a==null)return;t.dirtyPath&&(t.updatePath(),t.dirtyPath=!1),r.save(),r.beginPath(),t.path.draw(r),r.clip(),r.resetTransform();const s=Math.floor(a.x),l=Math.ceil(a.x+a.width),u=Math.floor(a.y),c=Math.ceil(a.y+a.height),d=new ff,[p,h]=this.direction==="to-right"?[s,l]:[u,c];if(d.domain=e.map((f,v)=>p+(h-p)*v/(e.length-1)),d.range=e,d.update(),this.direction==="to-right"){const f=c-u;for(let v=s;v<=l;v+=o)r.fillStyle=d.convert(v),r.fillRect(v,u,o,f)}else{const f=l-s;for(let v=u;v<=c;v+=o)r.fillStyle=d.convert(v),r.fillRect(s,v,f,o)}r.restore()}};R([Pe({redraw:3})],bP.prototype,"direction",2);R([Pe({redraw:3})],bP.prototype,"stops",2);R([Pe({redraw:3})],bP.prototype,"_mask",2);function Bz(n,t,e){const r=Math.sqrt(pt(n,2)+pt(t,2)),o=Math.atan2(t,n)+e;return{x:Math.cos(o)*r,y:Math.sin(o)*r}}var Qs=class extends ha{constructor(){super(...arguments),this.borderPath=new Rg,this.isBeveled=!0,this.columnWidth=0,this.startAngle=0,this.endAngle=0,this.outerRadius=0,this.innerRadius=0,this.axisInnerRadius=0,this.axisOuterRadius=0,this.isRadiusAxisReversed=!1}getRotation(){const{startAngle:n,endAngle:t}=this,e=qV(n,t);return $r(n+e/2+Math.PI/2)}updatePath(){const{isBeveled:n}=this;n?this.updateBeveledPath():this.updateRectangularPath(),this.checkPathDirty()}updateRectangularPath(){const{columnWidth:n,innerRadius:t,outerRadius:e,path:r}=this,i=-n/2,o=n/2,a=-e,s=-t,l=this.getRotation(),u=[[i,s],[i,a],[o,a],[o,s],[i,s]].map(([c,d])=>Bz(c,d,l));r.clear({trackChanges:!0}),r.moveTo(u[0].x,u[0].y),r.lineTo(u[1].x,u[1].y),r.lineTo(u[2].x,u[2].y),r.lineTo(u[3].x,u[3].y),r.lineTo(u[0].x,u[0].y),r.closePath()}updateBeveledPath(){const{columnWidth:n,path:t,outerRadius:e,innerRadius:r,axisInnerRadius:i,axisOuterRadius:o,isRadiusAxisReversed:a}=this,s=Dh(r,i),l=Math.asin(n/2/r),u=this.getRotation(),c=(b,O)=>Bz(b,O,u),d=(b,O)=>Math.sqrt(pt(b,2)+pt(O,2)),p=(b,O)=>O>b?0:Math.sqrt(pt(b,2)-pt(O,2)),h=(b,O,T)=>T?b<O:b>O,f=s&&!isNaN(l)&&l<Math.PI/6;let v=-n/2,g=n/2;const y=-e,m=-r*(f?Math.cos(l):1),C=h(o,d(r,n/2),!a);if(C){const b=p(o,r);v=-b,g=b}t.clear({trackChanges:!0});const S=c(v,m);t.moveTo(S.x,S.y);const w=Dh(r,e),_=h(o,d(e,n/2),!a);if(w&&f)t.arc(0,0,r,$r(-l-Math.PI/2)+u,$r(l-Math.PI/2)+u,!1);else if(_){const b=-p(o,n/2),O=p(o,e);if(!C){const T=c(v,b);t.lineTo(T.x,T.y)}if(t.arc(0,0,o,Math.atan2(b,v)+u,Math.atan2(y,-O)+u,!1),!Dh(O,0)){const T=c(O,y);t.lineTo(T.x,T.y)}t.arc(0,0,o,Math.atan2(y,O)+u,Math.atan2(b,g)+u,!1)}else{const b=c(v,y),O=c(g,y);t.lineTo(b.x,b.y),t.lineTo(O.x,O.y)}const x=c(g,m);if(t.lineTo(x.x,x.y),f)t.arc(0,0,r,$r(l-Math.PI/2)+u,$r(-l-Math.PI/2)+u,!0);else{const b=c(v,m);t.lineTo(b.x,b.y)}t.closePath()}};Qs.className="RadialColumnShape";R([ct()],Qs.prototype,"isBeveled",2);R([ct()],Qs.prototype,"columnWidth",2);R([ct()],Qs.prototype,"startAngle",2);R([ct()],Qs.prototype,"endAngle",2);R([ct()],Qs.prototype,"outerRadius",2);R([ct()],Qs.prototype,"innerRadius",2);R([ct()],Qs.prototype,"axisInnerRadius",2);R([ct()],Qs.prototype,"axisOuterRadius",2);R([ct()],Qs.prototype,"isRadiusAxisReversed",2);function ZWe(n,t,e,r,i){const o=qV(n,t),a=o*(1-r)/2;if(n+=a,t-=a,o<.001)return 2*e*i;if(o>=2*Math.PI){const h=n+o/2;n=h-Math.PI,t=h+Math.PI}const s=e*Math.cos(n),l=e*Math.sin(n),u=e*Math.cos(t),c=e*Math.sin(t),d=Math.floor(Math.sqrt(pt(s-u,2)+pt(l-c,2))),p=2*e*i;return Math.max(1,Math.min(p,d))}var oy=class extends Xg{constructor(n){super(),this.x=0,this.y=0,this.width=0,this.height=0,this.opacity=1,this.sourceImage=n}render(n){const{ctx:t,forceRender:e,stats:r}=n;if(this.dirty===0&&!e){r&&r.nodesSkipped++;return}this.computeTransformMatrix(),this.matrix.toContext(t);const i=this.sourceImage;t.globalAlpha=this.opacity,t.drawImage(i,0,0,i.width,i.height,this.x,this.y,this.width,this.height),super.render(n)}};R([Pe({redraw:3})],oy.prototype,"x",2);R([Pe({redraw:3})],oy.prototype,"y",2);R([Pe({redraw:3})],oy.prototype,"width",2);R([Pe({redraw:3})],oy.prototype,"height",2);R([Pe({redraw:3})],oy.prototype,"opacity",2);var QWe=te(te({},oJ),jJ),Ns={};hc(Ns,{CARTESIAN_AXIS_TYPE:()=>jQ,ChartTheme:()=>gc,DEFAULT_AXIS_GRID_COLOUR:()=>AO,DEFAULT_AXIS_LINE_COLOUR:()=>vE,DEFAULT_BACKGROUND_COLOUR:()=>$S,DEFAULT_CROSS_LINES_COLOUR:()=>NC,DEFAULT_DIVERGING_SERIES_COLOUR_RANGE:()=>zs,DEFAULT_FONT_FAMILY:()=>vn,DEFAULT_HIERARCHY_FILLS:()=>VV,DEFAULT_HIERARCHY_STROKES:()=>BV,DEFAULT_INSIDE_SERIES_LABEL_COLOUR:()=>Kg,DEFAULT_INVERTED_LABEL_COLOUR:()=>tJ,DEFAULT_LABEL_COLOUR:()=>kt,DEFAULT_MUTED_LABEL_COLOUR:()=>Kv,DEFAULT_POLAR_SERIES_STROKE:()=>GV,DEFAULT_SHADOW_COLOUR:()=>Yg,DEFAULT_WATERFALL_SERIES_CONNECTOR_LINE_STROKE:()=>Us,DEFAULT_WATERFALL_SERIES_NEGATIVE_COLOURS:()=>$s,DEFAULT_WATERFALL_SERIES_POSITIVE_COLOURS:()=>js,DEFAULT_WATERFALL_SERIES_TOTAL_COLOURS:()=>Ws,EXTENDS_AXES_DEFAULTS:()=>XQ,EXTENDS_AXES_GRID_LINE_DEFAULTS:()=>JQ,EXTENDS_AXES_LABEL_DEFAULTS:()=>qQ,EXTENDS_AXES_LINE_DEFAULTS:()=>ZQ,EXTENDS_AXES_TICK_DEFAULTS:()=>QQ,EXTENDS_CARTESIAN_MARKER_DEFAULTS:()=>zg,EXTENDS_CHART_DEFAULTS:()=>UQ,EXTENDS_LEGEND_DEFAULTS:()=>zQ,EXTENDS_LEGEND_ITEM_DEFAULTS:()=>KQ,EXTENDS_LEGEND_ITEM_MARKER_DEFAULTS:()=>YQ,EXTENDS_SERIES_DEFAULTS:()=>vc,FONT_SIZE:()=>VQ,FONT_WEIGHT:()=>BQ,IS_DARK_THEME:()=>nh,OVERRIDE_SERIES_LABEL_DEFAULTS:()=>eJ,POLAR_AXIS_SHAPE:()=>WQ,POLAR_AXIS_TYPE:()=>$Q,POSITION:()=>HQ,getChartTheme:()=>HV,themes:()=>JWe});var JWe=Object.entries(rJ).reduce((n,[t,e])=>(n[t]=e(),n),{}),cp={};hc(cp,{BandScale:()=>Ql,ColorScale:()=>ff,ContinuousScale:()=>Xt,Invalidating:()=>mo,LinearScale:()=>zl,TimeScale:()=>cB});var xr={};hc(xr,{Color:()=>Al,Logger:()=>Oe,Padding:()=>ip,angleBetween:()=>qV,checkDatum:()=>KS,clamp:()=>Lt,clampArray:()=>MO,countFractionDigits:()=>zV,createId:()=>nu,deepClone:()=>ui,extent:()=>ru,findMinMax:()=>oc,findRangeExtent:()=>bg,isContinuous:()=>aB,isDate:()=>Kw,isEqual:()=>Dh,isNegative:()=>Jw,isNumber:()=>Gt,isNumberEqual:()=>Dh,isString:()=>$a,isStringObject:()=>oB,jsonApply:()=>Md,jsonDiff:()=>sa,jsonWalk:()=>Il,mod:()=>nP,normalisedExtent:()=>nJ,normalisedExtentWithMetadata:()=>Qw,normalizeAngle180:()=>US,normalizeAngle360:()=>$r,normalizeAngle360Inclusive:()=>Zje,range:()=>XS,resetIds:()=>aJ,round:()=>UV,sanitizeHtml:()=>fr,shallowClone:()=>PO,tickFormat:()=>YJ,tickStep:()=>Og,ticks:()=>dP,toDegrees:()=>Qje,toFixed:()=>rP,toRadians:()=>pi,transformIntegratedCategoryValue:()=>Yv,zipObject:()=>SI});var n2={};hc(n2,{ADD_PHASE:()=>XV,AGG_VALUES_EXTENT:()=>Z3e,AND:()=>ou,ANIMATION_PHASE_ORDER:()=>Yp,ANIMATION_PHASE_TIMINGS:()=>yJ,ARRAY:()=>e0,ARRAY_OF:()=>yc,AbstractBarSeries:()=>vte,AbstractBarSeriesProperties:()=>HB,ActionOnSet:()=>En,Animation:()=>CJ,AnimationManager:()=>See,AreaSeriesTag:()=>pte,Axis:()=>dB,AxisLabel:()=>un,AxisTick:()=>Ys,BOOLEAN:()=>ze,BOOLEAN_ARRAY:()=>Jje,Background:()=>c0,BackgroundModule:()=>nte,BaseModuleInstance:()=>FV,BaseProperties:()=>tr,COLOR_STRING:()=>Dt,COLOR_STRING_ARRAY:()=>ns,CartesianAxis:()=>s0,CartesianSeries:()=>lp,CartesianSeriesNodeClickEvent:()=>PB,CartesianSeriesProperties:()=>sp,CategoryAxis:()=>ac,ChartAxisDirection:()=>TJ,ChartEventManager:()=>wee,ChartOptions:()=>iJ,ChartUpdateType:()=>BC,ContextMenuRegistry:()=>_ee,CursorManager:()=>xee,DATE:()=>ZV,DATE_ARRAY:()=>e$e,DATE_OR_DATETIME_MS:()=>QV,DEGREE:()=>ep,DIRECTION:()=>bJ,DataController:()=>yee,DataModel:()=>gee,DataService:()=>hP,Default:()=>Sc,Deprecated:()=>lf,DeprecatedAndRenamedTo:()=>Nje,FONT_STYLE:()=>tp,FONT_WEIGHT:()=>rp,FUNCTION:()=>rs,GREATER_THAN:()=>r0,GestureDetector:()=>Eee,GroupedCategoryAxis:()=>Hd,HierarchyNode:()=>EE,HierarchySeries:()=>tUe,HierarchySeriesProperties:()=>dp,HighlightManager:()=>NI,HighlightStyle:()=>u0,INITIAL_LOAD:()=>hJ,INTERACTION_RANGE:()=>tB,INTERACTION_TYPES:()=>mee,InteractionManager:()=>Cee,InteractionState:()=>IO,LABEL_PHASE:()=>gJ,LESS_THAN:()=>t0,LINE_CAP:()=>xJ,LINE_DASH:()=>mc,LINE_JOIN:()=>t$e,Layers:()=>VJ,LayoutService:()=>Oee,MATCHING_CROSSLINE_TYPE:()=>sB,MAX_SPACING:()=>rB,MIN_SPACING:()=>RJ,Motion:()=>YV,NAN:()=>aP,NODE_UPDATE_PHASES:()=>SJ,NODE_UPDATE_STATE_TO_PHASE_MAPPING:()=>Oi,NUMBER:()=>nr,NUMBER_ARRAY:()=>sP,NUMBER_OR_NAN:()=>qg,Navigator:()=>qs,NavigatorModule:()=>ote,OBJECT:()=>Ge,OBJECT_ARRAY:()=>JV,OR:()=>uf,OVERFLOW_STRATEGY:()=>n$e,ObserveChanges:()=>Zg,PLACEMENT:()=>OJ,POSITION:()=>eB,POSITIVE_NUMBER:()=>Se,PolarAxis:()=>Jv,PolarSeries:()=>SP,PropertiesArray:()=>qw,ProxyOnWrite:()=>f$e,ProxyProperty:()=>np,ProxyPropertyOnWrite:()=>ar,QUICK_TRANSITION:()=>iP,RATIO:()=>Wt,REGISTERED_MODULES:()=>Ll,REMOVE_PHASE:()=>fJ,RepeatType:()=>mJ,SMALLEST_KEY_INTERVAL:()=>jI,SORT_DOMAIN_GROUPS:()=>$ee,STRING:()=>xe,STRING_ARRAY:()=>_J,Series:()=>ry,SeriesGroupingChangedEvent:()=>RB,SeriesItemHighlightStyle:()=>_c,SeriesMarker:()=>So,SeriesNodeClickEvent:()=>l0,SeriesNodePickMode:()=>Uee,SeriesProperties:()=>Xs,SeriesTooltip:()=>wo,StateMachine:()=>o0,TEXT_ALIGN:()=>EJ,TEXT_WRAP:()=>lP,Tags:()=>oee,TooltipManager:()=>kI,UNION:()=>Kr,UPDATE_PHASE:()=>vJ,UpdateService:()=>Yee,VERTICAL_ALIGN:()=>r$e,Validate:()=>F,ZoomManager:()=>bee,__FORCE_MODULE_DETECTION:()=>rUe,accumulateGroup:()=>Wee,accumulatedValue:()=>Hee,accumulativeValueProperty:()=>OB,adjustLabelPlacement:()=>wte,animationValidation:()=>ty,area:()=>HI,arraysEqual:()=>GC,assignJsonApplyConstructedArray:()=>NJ,average:()=>q3e,backfillPathPointData:()=>IB,buildResetPathFn:()=>GB,checkCrisp:()=>Cte,circularSliceArray:()=>mI,clamp:()=>Lt,clampArray:()=>MO,collapsedStartingBarPosition:()=>tw,count:()=>X3e,countFractionDigits:()=>zV,createDatumId:()=>jd,createDeprecationWarning:()=>WV,deconstructSelectionsOrNodes:()=>oP,deepClone:()=>ui,deepMerge:()=>THe,determinePathStatus:()=>cte,diff:()=>hf,enterpriseModule:()=>Wv,extent:()=>ru,extractDecoratedProperties:()=>EHe,findMinMax:()=>oc,findRangeExtent:()=>bg,fixNumericExtent:()=>Ri,fromToMotion:()=>yr,getMissCount:()=>vB,getPath:()=>xQ,getRectConfig:()=>mte,groupAccumulativeValueProperty:()=>od,groupAverage:()=>Bee,groupBy:()=>$V,groupCount:()=>BI,groupSum:()=>Gee,hasRegisteredEnterpriseModules:()=>LV,injectStyle:()=>cP,invertShapeDirection:()=>eUe,isArray:()=>an,isBoolean:()=>yQ,isDate:()=>tP,isDecoratedObject:()=>eP,isDefined:()=>uI,isEnumKey:()=>RHe,isEnumValue:()=>SQ,isEqual:()=>Dh,isFiniteNumber:()=>Gt,isFunction:()=>Wg,isHtmlElement:()=>CQ,isNegative:()=>Jw,isNumber:()=>Os,isObject:()=>Zl,isObjectLike:()=>OHe,isPlainObject:()=>qa,isProperties:()=>Xo,isRegExp:()=>mQ,isString:()=>$a,isSymbol:()=>wQ,isValidDate:()=>Kw,jsonApply:()=>Md,jsonDiff:()=>sa,jsonWalk:()=>Il,keyProperty:()=>Xn,listDecoratedProperties:()=>zv,mapValues:()=>_Q,markerFadeInAnimation:()=>ZS,markerPaletteFactory:()=>p0,markerScaleInAnimation:()=>MB,markerSwipeScaleInAnimation:()=>FB,mergeArrayDefaults:()=>cI,mergeDefaults:()=>yt,midpointStartingBarPosition:()=>TWe,minMax:()=>$I,mod:()=>nP,normaliseGroupTo:()=>kO,normalisePropertyTo:()=>qS,normalisedExtent:()=>nJ,normalisedExtentWithMetadata:()=>Qw,pairCategoryData:()=>ew,pairContinuousData:()=>JS,partialAssign:()=>dI,pathFadeInAnimation:()=>$C,pathFadeOutAnimation:()=>SWe,pathSwipeInAnimation:()=>kB,predicateWithMessage:()=>Qt,prepareAreaPathAnimation:()=>hte,prepareAxisAnimationContext:()=>LI,prepareAxisAnimationFunctions:()=>eee,prepareBarAnimationFunctions:()=>rw,prepareLinePathAnimation:()=>dte,prepareLinePathAnimationFns:()=>VB,prepareMarkerAnimation:()=>LB,range:()=>Vee,rangedValueProperty:()=>bB,registerModule:()=>ps,renderPartialPath:()=>NB,resetAxisGroupFn:()=>tee,resetAxisLabelSelectionFn:()=>nee,resetAxisLineSelectionFn:()=>iee,resetAxisSelectionFn:()=>ree,resetBarSelectionsFn:()=>nw,resetIds:()=>aJ,resetLabelFn:()=>xc,resetMarkerFn:()=>h0,resetMarkerPositionFn:()=>QS,resetMotion:()=>gn,round:()=>UV,seriesLabelFadeInAnimation:()=>$t,seriesLabelFadeOutAnimation:()=>Mh,setPath:()=>EQ,shallowClone:()=>PO,singleSeriesPaletteFactory:()=>DB,staticFromToMotion:()=>iu,stringify:()=>VC,sum:()=>Y3e,toArray:()=>DO,toFixed:()=>rP,trailingAccumulatedValue:()=>jee,trailingAccumulatedValueProperty:()=>nWe,trailingValue:()=>Kee,trailingValueProperty:()=>rWe,unique:()=>jV,updateClipPath:()=>GO,updateLabelNode:()=>Ste,updateRect:()=>yte,validateCrossLineValues:()=>BJ,valueProperty:()=>qt});function eUe(...n){for(const t of n)if(t instanceof vi){const{x:e,y:r,width:i,height:o}=t;t.setProperties({x:r,y:e,width:o,height:i})}else if(t instanceof mn){const{x1:e,y1:r,x2:i,y2:o}=t;t.setProperties({x1:r,y1:e,x2:o,y2:i})}}var Nte=class xE{constructor(t,e,r,i,o,a,s,l,u,c,d){this.series=t,this.index=e,this.datum=r,this.size=i,this.colorValue=o,this.fill=a,this.stroke=s,this.sumSize=l,this.depth=u,this.parent=c,this.children=d,this.midPoint={x:0,y:0}}contains(t){let e=t;for(;e!=null&&e.index>=this.index;){if(e===this)return!0;e=e.parent}return!1}walk(t,e=xE.Walk.PreOrder){e===xE.Walk.PreOrder&&t(this),this.children.forEach(r=>{r.walk(t,e)}),e===xE.Walk.PostOrder&&t(this)}*[Symbol.iterator](){yield this;for(const t of this.children)yield*P2e(t)}};Nte.Walk={PreOrder:0,PostOrder:1};var EE=Nte,tUe=class extends ry{constructor(n){super({moduleCtx:n,pickModes:[0],contentGroupVirtual:!1}),this.rootNode=new EE(this,0,void 0,0,void 0,void 0,void 0,0,void 0,void 0,[]),this.colorDomain=[0,0],this.maxDepth=0,this.animationState=new o0("empty",{empty:{update:{target:"ready",action:t=>this.animateEmptyUpdateReady(t)},reset:"empty",skip:"ready"},ready:{updateData:"waiting",clear:"clearing",highlight:t=>this.animateReadyHighlight(t),resize:t=>this.animateReadyResize(t),reset:"empty",skip:"ready"},waiting:{update:{target:"ready",action:t=>this.animateWaitingUpdateReady(t)},reset:"empty",skip:"ready"},clearing:{update:{target:"empty",action:t=>this.animateClearingUpdateEmpty(t)},reset:"empty",skip:"ready"}},()=>this.checkProcessedDataAnimatable())}resetAnimation(n){n==="initial"?this.animationState.transition("reset"):n==="ready"&&this.animationState.transition("skip")}processData(){return pe(this,null,function*(){var n,t;const{childrenKey:e,sizeKey:r,colorKey:i,fills:o,strokes:a,colorRange:s}=this.properties;let l=0;const u=()=>(l+=1,l);let c=0,d=1/0,p=-1/0;const h=new Array(((t=(n=this.data)==null?void 0:n.length)!=null?t:0)+1).fill(void 0),f=(C,S)=>{const w=u(),_=S.depth!=null?S.depth+1:0,x=e!=null?C[e]:void 0,b=x==null||x.length===0;let O=r!=null?C[r]:void 0;Number.isFinite(O)?O=Math.max(O,0):O=b?1:0;const T=O;c=Math.max(c,_);const A=i!=null?C[i]:void 0;return typeof A=="number"&&(h[w]=A,d=Math.min(d,A),p=Math.max(p,A)),v(new EE(this,w,C,O,A,void 0,void 0,T,_,S,[]),x)},v=(C,S)=>(S==null||S.forEach(w=>{const _=f(w,C);C.children.push(_),C.sumSize+=_.sumSize}),C),g=v(new EE(this,0,void 0,0,void 0,void 0,void 0,0,void 0,void 0,[]),this.data),y=[d,p];let m;s!=null&&Number.isFinite(d)&&Number.isFinite(p)&&(m=new ff,m.domain=y,m.range=s,m.update()),g.children.forEach((C,S)=>{C.walk(w=>{let _;const x=h[w.index];x!=null&&(_=m==null?void 0:m.convert(x)),_??(_=o==null?void 0:o[S%o.length]),w.fill=_,w.stroke=m==null?a==null?void 0:a[S%a.length]:"rgba(0, 0, 0, 0.2)"})}),this.rootNode=g,this.maxDepth=c,this.colorDomain=y})}update(n){return pe(this,arguments,function*({seriesRect:t}){yield this.updateSelections(),yield this.updateNodes();const e=this.getAnimationData();this.checkResize(t)&&this.animationState.transition("resize",e),this.animationState.transition("update",e)})}resetAllAnimation(n){var t;const e=(t=this.animationResetFns)==null?void 0:t.datum;this.ctx.animationManager.stopByAnimationGroupId(this.id),e!=null&&gn(n.datumSelections,e)}animateEmptyUpdateReady(n){this.ctx.animationManager.skipCurrentBatch(),this.resetAllAnimation(n)}animateWaitingUpdateReady(n){this.ctx.animationManager.skipCurrentBatch(),this.resetAllAnimation(n)}animateReadyHighlight(n){var t;const e=(t=this.animationResetFns)==null?void 0:t.datum;e!=null&&gn([n],e)}animateReadyResize(n){this.resetAllAnimation(n)}animateClearingUpdateEmpty(n){this.ctx.animationManager.skipCurrentBatch(),this.resetAllAnimation(n)}animationTransitionClear(){this.animationState.transition("clear",this.getAnimationData())}getAnimationData(){return{datumSelections:[this.groupSelection]}}isProcessedDataAnimatable(){return!0}checkProcessedDataAnimatable(){this.isProcessedDataAnimatable()||this.ctx.animationManager.skipCurrentBatch()}getLabelData(){return[]}getSeriesDomain(){return[NaN,NaN]}getLegendData(n){const{colorKey:t,colorName:e,colorRange:r,visible:i}=this.properties;return n==="gradient"&&t!=null&&r!=null?[{legendType:"gradient",enabled:i,seriesId:this.id,colorName:e,colorRange:r,colorDomain:this.colorDomain}]:[]}getDatumIdFromData(n){return`${n.index}`}getDatumId(n){return this.getDatumIdFromData(n)}},dp=class extends Xs{constructor(){super(...arguments),this.childrenKey="children",this.fills=Object.values(El),this.strokes=Object.values(Ah)}};R([F(xe)],dp.prototype,"childrenKey",2);R([F(xe,{optional:!0})],dp.prototype,"sizeKey",2);R([F(xe,{optional:!0})],dp.prototype,"colorKey",2);R([F(xe,{optional:!0})],dp.prototype,"colorName",2);R([F(ns)],dp.prototype,"fills",2);R([F(ns)],dp.prototype,"strokes",2);R([F(ns,{optional:!0})],dp.prototype,"colorRange",2);var rUe=0,nUe=["area","bar","column","histogram","line","pie","donut","scatter","bubble","radial-column","radial-bar","radar-line","radar-area","nightingale","range-bar","range-area","box-plot","treemap","sunburst","heatmap","waterfall"];function Hz(n){switch(n){case"rangeBar":case"rangeArea":case"waterfall":case"boxPlot":case"radarLine":case"radarArea":case"nightingale":case"radialColumn":case"radialBar":case"sunburst":case"treemap":case"heatmap":return!0;default:return!1}}var iUe=new Set(["bar","groupedBar","stackedBar","normalizedBar"]);function Gu(n){return iUe.has(n)}var oUe=new Set(["stackedColumn","normalizedColumn","stackedBar","normalizedBar"]);function aUe(n){return oUe.has(n)}function kte(n){switch(n){case"radialColumn":case"radialBar":case"radarLine":case"radarArea":case"nightingale":return!0;default:return!1}}function sUe(n){switch(n){case"radialColumn":case"radialBar":return!0;default:return!1}}function gd(n){switch(n){case"treemap":case"sunburst":return!0;default:return!1}}function lUe(n){switch(n){case"treemap":case"sunburst":case"heatmap":return!0;default:return!1}}function iw(n){switch(n){case"doughnut":return"donut";default:return n}}function Ds(n){switch(n){case"bar":case"groupedBar":case"stackedBar":case"normalizedBar":return"bar";case"column":case"groupedColumn":case"stackedColumn":case"normalizedColumn":return"bar";case"line":return"line";case"area":case"stackedArea":case"normalizedArea":return"area";case"bubble":return"bubble";case"scatter":return"scatter";case"histogram":return"histogram";case"radialColumn":return"radial-column";case"radialBar":return"radial-bar";case"radarLine":return"radar-line";case"radarArea":return"radar-area";case"nightingale":return"nightingale";case"rangeBar":return"range-bar";case"rangeArea":return"range-area";case"boxPlot":return"box-plot";case"treemap":return"treemap";case"sunburst":return"sunburst";case"pie":return"pie";case"donut":case"doughnut":return"donut";case"heatmap":return"heatmap";case"waterfall":return"waterfall";default:return"cartesian"}}function i2(n){switch(n){case"pie":case"donut":return!0;default:return!1}}var Gte=["number","category","grouped-category","log","time"];function uUe(n){switch(n){case"bar":case"stackedBar":case"normalizedBar":return["number","category"];case"groupedBar":return["number","grouped-category"];case"column":case"stackedColumn":case"normalizedColumn":case"line":case"area":case"stackedArea":case"normalizedArea":case"histogram":return["category","number"];case"groupedColumn":return["grouped-category","number"];case"scatter":case"bubble":return["number","number"];default:return}}function cUe(n){return Array.isArray(n)?[]:{}}function ow(n,t){return t.clone!==!1&&t.isMergeableObject(n)?Fd(cUe(n),n,t):n}function dUe(n,t,e){return n.concat(t).map(function(r){return ow(r,e)})}function pUe(n,t){if(!t.customMerge)return Fd;var e=t.customMerge(n);return typeof e=="function"?e:Fd}function hUe(n){return Object.getOwnPropertySymbols?Object.getOwnPropertySymbols(n).filter(function(t){return n.propertyIsEnumerable(t)}):[]}function jz(n){return Object.keys(n).concat(hUe(n))}function Vte(n,t){try{return t in n}catch{return!1}}function fUe(n,t){return Vte(n,t)&&!(Object.hasOwnProperty.call(n,t)&&Object.propertyIsEnumerable.call(n,t))}function vUe(n,t,e){n===void 0&&(n={}),t===void 0&&(t={});var r={};return e.isMergeableObject(n)&&jz(n).forEach(function(i){r[i]=ow(n[i],e)}),jz(t).forEach(function(i){fUe(n,i)||(Vte(n,i)&&e.isMergeableObject(t[i])?r[i]=pUe(i,e)(n[i],t[i],e):r[i]=ow(t[i],e))}),r}function gUe(n){return yUe(n)&&!mUe(n)}function yUe(n){return!!n&&typeof n=="object"}function mUe(n){var t=Object.prototype.toString.call(n);return t==="[object RegExp]"||t==="[object Date]"}function Fd(n,t,e){e=e||{},e.arrayMerge=e.arrayMerge||dUe,e.isMergeableObject=e.isMergeableObject||gUe,e.cloneUnlessOtherwiseSpecified=ow;var r=Array.isArray(t),i=Array.isArray(n),o=r===i;return o?r?e.arrayMerge(n,t,e):vUe(n,t,e):ow(t,e)}function _v(n,t,e){if(n==null)return e;for(var r=t.split("."),i=n;r.length>1;)if(i=i[r.shift()],i==null)return e;var o=i[r[0]];return o??e}function CUe(n,t,e){if(n!=null){var r=t.split("."),i=n;r.forEach(function(o,a){i[o]||(i[o]={}),a<r.length-1&&(i=i[o])}),i[r[r.length-1]]=e}}var aw=function(){return aw=Object.assign||function(n){for(var t,e=1,r=arguments.length;e<r;e++){t=arguments[e];for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(n[i]=t[i])}return n},aw.apply(this,arguments)};function SUe(n,t){var e,r=n.chartOptionsToRestore,i=n.chartPaletteToRestore,o=n.chartThemeToRestore,a=OUe(n),s=o2(a),l=s?{baseTheme:a}:(e=Bte(n,a))!==null&&e!==void 0?e:{},u=n.getGridOptionsChartThemeOverrides(),c=n.apiChartThemeOverrides,d=Ds(n.chartType),p=i2(d)?d:"cartesian",h=n.crossFiltering?xUe(t,n,p):void 0,f=aw({},r??{}),v=function(){var C=function(S){return S?Object.keys(S).some(function(w){return _v(S[w],"title.enabled",!1)}):!1};return C(u)||C(c)},g=[s?bUe(n,v()):void 0,h,u,c,f],y=g.filter(function(C){return!!C}).reduce(function(C,S){return{baseTheme:C,overrides:S}},l);if(i&&a===o){var m=Ns.getChartTheme(l).palette;_Ue(i,m)||(y.palette=i)}return y}function wUe(n,t){return t.reduce(function(e,r){return r?{baseTheme:e,overrides:r}:e},n)}function _Ue(n,t){var e=function(r,i){return r.length!==i.length?!1:r.every(function(o,a){return o===i[a]})};return e(n.fills,t.fills)&&e(n.strokes,t.strokes)}function o2(n){return D.includes(Object.keys(Ns.themes),n)}function xUe(n,t,e){var r,i={listeners:{legendItemClick:function(a){var s=n.getChart();s.series.forEach(function(l){l.toggleSeriesItem(a.itemId,a.enabled),l.toggleSeriesItem("".concat(a.itemId,"-filtered-out"),a.enabled)})}}},o={};return r={},r[e]={tooltip:{delay:500},legend:i,listeners:{click:function(a){return t.crossFilterCallback(a,!0)}},series:o},r}var EUe=Gte.reduce(function(n,t){var e;return aw(aw({},n),(e={},e[t]={title:{_enabledFromTheme:!0}},e))},{});function bUe(n,t){var e=n.getExtraPaddingDirections();return{common:{animation:{duration:500},axes:EUe,padding:{top:!t&&e.includes("top")?40:20,right:e.includes("right")?30:20,bottom:e.includes("bottom")?40:20,left:e.includes("left")?30:20}},pie:{series:{title:{_enabledFromTheme:!0},calloutLabel:{_enabledFromTheme:!0},sectorLabel:{enabled:!1,_enabledFromTheme:!0}}},donut:{series:{title:{_enabledFromTheme:!0},calloutLabel:{_enabledFromTheme:!0},sectorLabel:{enabled:!1,_enabledFromTheme:!0}}}}}function OUe(n){var t=n.getChartThemeName(),e=n.getChartThemes();return D.includes(e,t)||(t=e[0]),t}function Bte(n,t){var e=n.customChartThemes,r=e&&e[t];return r||console.warn("AG Grid: no stock theme exists with the name '".concat(t,"' and no ")+"custom chart theme with that name was supplied to 'customChartThemes'"),r}var WI=function(){return WI=Object.assign||function(n){for(var t,e=1,r=arguments.length;e<r;e++){t=arguments[e];for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(n[i]=t[i])}return n},WI.apply(this,arguments)},gm=function(n,t){var e=typeof Symbol=="function"&&n[Symbol.iterator];if(!e)return n;var r=e.call(n),i,o=[],a;try{for(;(t===void 0||t-- >0)&&!(i=r.next()).done;)o.push(i.value)}catch(s){a={error:s}}finally{try{i&&!i.done&&(e=r.return)&&e.call(r)}finally{if(a)throw a.error}}return o},Hf=function(n,t,e){if(e||arguments.length===2)for(var r=0,i=t.length,o;r<i;r++)(o||!(r in t))&&(o||(o=Array.prototype.slice.call(t,0,r)),o[r]=t[r]);return n.concat(o||Array.prototype.slice.call(t))},RUe=function(n){var t=typeof Symbol=="function"&&Symbol.iterator,e=t&&n[t],r=0;if(e)return e.call(n);if(n&&typeof n.length=="number")return{next:function(){return n&&r>=n.length&&(n=void 0),{value:n&&n[r++],done:!n}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")},vx=function(n){return function(t){return t==null?!0:n(t)}},$z=function(n){return typeof n=="string"},Wz=function(n){return typeof n=="boolean"},TUe=function(n){return typeof n=="object"},gu=function(n,t){return function(e){return"AG Grid - unable to update chart as invalid params supplied:  `".concat(n,": ").concat(e,"`, expected ").concat(t,".")}},PUe=function(){function n(){}n.isValidChartType=function(e){return n.validChartTypes.includes(e)},n.isLegacyChartType=function(e){return n.legacyChartTypes.includes(e)},n.validateChartParams=function(e){var r=e;switch(r.type){case"rangeChartUpdate":return n.validateUpdateRangeChartParams(e);case"pivotChartUpdate":return n.validateUpdatePivotChartParams(e);case"crossFilterChartUpdate":return n.validateUpdateCrossFilterChartParams(e);default:return console.warn("AG Grid - Invalid value supplied for 'type': ".concat(e.type,". It must be either 'rangeChartUpdate', 'pivotChartUpdate', or 'crossFilterChartUpdate'.")),!1}},n.validateUpdateRangeChartParams=function(e){var r=Hf(Hf(Hf([],gm(n.commonValidations),!1),gm(n.cellRangeValidations),!1),[{property:"seriesChartTypes",validationFn:function(i){return i===void 0||Array.isArray(i)&&i.every(TUe)},warnMessage:gu("seriesChartTypes","Array of SeriesChartType")}],!1);return n.validateProperties(e,r,["type","chartId","chartType","chartThemeName","chartThemeOverrides","unlinkChart","cellRange","suppressChartRanges","aggFunc","seriesChartTypes"],"UpdateRangeChartParams")},n.validateUpdatePivotChartParams=function(e){var r=Hf([],gm(n.commonValidations),!1);return n.validateProperties(e,r,["type","chartId","chartType","chartThemeName","chartThemeOverrides","unlinkChart"],"UpdatePivotChartParams")},n.validateUpdateCrossFilterChartParams=function(e){var r=Hf(Hf([],gm(n.commonValidations),!1),gm(n.cellRangeValidations),!1);return n.validateProperties(e,r,["type","chartId","chartType","chartThemeName","chartThemeOverrides","unlinkChart","cellRange","suppressChartRanges","aggFunc"],"UpdateCrossFilterChartParams")},n.validateProperties=function(e,r,i,o){var a,s,l=void 0;try{for(var u=RUe(r),c=u.next();!c.done;c=u.next()){var d=c.value,p=d.property,h=d.validationFn,f=d.warnMessage;if(p in e){var v=e[p],g=h(v);if(g===!0)continue;if(g===!1)return console.warn(f(v)),!1;l=l||WI({},e),l[p]=g}}}catch(y){a={error:y}}finally{try{c&&!c.done&&(s=u.return)&&s.call(u)}finally{if(a)throw a.error}}for(var p in e)if(!i.includes(p))return console.warn("AG Grid - Unexpected property supplied. ".concat(o," does not contain: `").concat(p,"`.")),!1;return l||!0};var t;return t=n,n.validChartTypes=["column","groupedColumn","stackedColumn","normalizedColumn","bar","groupedBar","stackedBar","normalizedBar","line","scatter","bubble","pie","donut","area","stackedArea","normalizedArea","histogram","radialColumn","radialBar","radarLine","radarArea","nightingale","rangeBar","rangeArea","boxPlot","treemap","sunburst","heatmap","waterfall","columnLineCombo","areaColumnCombo","customCombo"],n.legacyChartTypes=["doughnut"],n.validateChartType=vx(function(e){if(t.isValidChartType(e))return!0;if(t.isLegacyChartType(e)){var r=iw(e);return console.warn("AG Grid - The chart type '".concat(e,"' has been deprecated. Please use '").concat(r,"' instead.")),r}return!1}),n.validateAgChartThemeOverrides=vx(function(e){return typeof e=="object"}),n.validateChartParamsCellRange=vx(function(e){return typeof e=="object"}),n.validateAggFunc=vx(function(e){return typeof e=="string"||typeof e=="function"}),n.commonValidations=[{property:"chartId",validationFn:$z,warnMessage:gu("chartId","string")},{property:"chartType",validationFn:n.validateChartType,warnMessage:gu("chartType",n.validChartTypes.join(", "))},{property:"chartThemeName",validationFn:$z,warnMessage:gu("chartThemeName","string")},{property:"chartThemeOverrides",validationFn:n.validateAgChartThemeOverrides,warnMessage:gu("chartThemeOverrides","AgChartThemeOverrides")},{property:"unlinkChart",validationFn:Wz,warnMessage:gu("unlinkChart","boolean")}],n.cellRangeValidations=[{property:"cellRange",validationFn:n.validateChartParamsCellRange,warnMessage:gu("cellRange","ChartParamsCellRange")},{property:"suppressChartRanges",validationFn:Wz,warnMessage:gu("suppressChartRanges","boolean")},{property:"aggFunc",validationFn:n.validateAggFunc,warnMessage:gu("aggFunc","string or IAggFunc")}],n}(),AUe=function(){var n=function(t,e){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])},n(t,e)};return function(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");n(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}}(),UI=function(){return UI=Object.assign||function(n){for(var t,e=1,r=arguments.length;e<r;e++){t=arguments[e];for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(n[i]=t[i])}return n},UI.apply(this,arguments)},Uz=function(n,t,e,r){var i=arguments.length,o=i<3?t:r===null?r=Object.getOwnPropertyDescriptor(t,e):r,a;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(n,t,e,r);else for(var s=n.length-1;s>=0;s--)(a=n[s])&&(o=(i<3?a(o):i>3?a(t,e,o):a(t,e))||o);return i>3&&o&&Object.defineProperty(t,e,o),o},DUe=function(n){var t=typeof Symbol=="function"&&Symbol.iterator,e=t&&n[t],r=0;if(e)return e.call(n);if(n&&typeof n.length=="number")return{next:function(){return n&&r>=n.length&&(n=void 0),{value:n&&n[r++],done:!n}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")},Hte=["ag-default","ag-material","ag-sheets","ag-polychroma","ag-vivid"],ks=function(n){AUe(t,n);function t(e){var r=n.call(this)||this;return r.model=e,r.isEnterprise=function(){return n2.enterpriseModule.isEnterprise},r}return t.prototype.init=function(){var e=this;this.setChartRange(),this.addManagedListener(this.eventService,P.EVENT_RANGE_SELECTION_CHANGED,function(r){r.id&&r.id===e.model.chartId&&e.updateForRangeChange()}),this.model.unlinked&&this.rangeService&&this.rangeService.setCellRanges([]),this.addManagedListener(this.eventService,P.EVENT_COLUMN_MOVED,this.updateForGridChange.bind(this)),this.addManagedListener(this.eventService,P.EVENT_COLUMN_PINNED,this.updateForGridChange.bind(this)),this.addManagedListener(this.eventService,P.EVENT_COLUMN_VISIBLE,this.updateForGridChange.bind(this)),this.addManagedListener(this.eventService,P.EVENT_COLUMN_ROW_GROUP_CHANGED,this.updateForGridChange.bind(this)),this.addManagedListener(this.eventService,P.EVENT_MODEL_UPDATED,this.updateForGridChange.bind(this)),this.addManagedListener(this.eventService,P.EVENT_CELL_VALUE_CHANGED,this.updateForDataChange.bind(this))},t.prototype.update=function(e){if(!this.validUpdateType(e))return!1;var r=PUe.validateChartParams(e);if(!r)return!1;var i=r===!0?e:r;return this.applyValidatedChartParams(i),!0},t.prototype.applyValidatedChartParams=function(e){var r,i,o,a,s,l,u,c=e.chartId,d=e.chartType,p=e.chartThemeName,h=e.unlinkChart,f={chartId:c,pivotChart:this.model.pivotChart,chartType:d??this.model.chartType,chartThemeName:p??this.model.chartThemeName,unlinkChart:h??this.model.unlinked,cellRange:this.model.suppliedCellRange,aggFunc:this.model.aggFunc,seriesChartTypes:void 0,suppressChartRanges:!1,crossFiltering:!1},v=UI({},f);switch(e.type){case"rangeChartUpdate":v.cellRange=(r=this.createCellRange(e))!==null&&r!==void 0?r:this.model.suppliedCellRange,v.aggFunc=(i=e.aggFunc)!==null&&i!==void 0?i:this.model.aggFunc,v.seriesChartTypes=e.seriesChartTypes,v.suppressChartRanges=(o=e.suppressChartRanges)!==null&&o!==void 0?o:this.model.suppressChartRanges;break;case"crossFilterChartUpdate":v.cellRange=(a=this.createCellRange(e))!==null&&a!==void 0?a:this.model.suppliedCellRange,v.aggFunc=(s=e.aggFunc)!==null&&s!==void 0?s:this.model.aggFunc,v.crossFiltering=!0,v.suppressChartRanges=(l=e.suppressChartRanges)!==null&&l!==void 0?l:this.model.suppressChartRanges;break}this.model.updateModel(v);var g=v.unlinkChart||v.suppressChartRanges;g?(u=this.rangeService)===null||u===void 0||u.setCellRanges([]):this.setChartRange()},t.prototype.updateForGridChange=function(){this.model.unlinked||(this.model.updateCellRanges(),this.model.updateData(),this.setChartRange())},t.prototype.updateForDataChange=function(){this.model.unlinked||(this.model.updateData(),this.raiseChartModelUpdateEvent())},t.prototype.updateForRangeChange=function(){this.updateForGridChange(),this.raiseChartRangeSelectionChangedEvent()},t.prototype.updateForPanelChange=function(e){this.model.updateCellRanges(e),this.model.updateData(),this.setChartRange(),this.raiseChartRangeSelectionChangedEvent()},t.prototype.getChartUpdateParams=function(e){var r=this,i=this.getSelectedValueColState(),o=i.map(function(l){return{colId:l.colId,displayName:l.displayName}}),a=this.getChartData(),s=this.getSelectedDimensions();return{data:a,grouping:this.isGrouping(),categories:s.map(function(l){return{id:l.colId,name:l.displayName,chartDataType:r.model.getChartDataType(l.colId)}}),fields:o,chartId:this.getChartId(),getCrossFilteringContext:function(){return{lastSelectedChartId:"xxx"}},seriesChartTypes:this.getSeriesChartTypes(),updatedOverrides:e}},t.prototype.getChartModel=function(){var e=this.model.pivotChart?"pivot":"range",r=this.isComboChart()?this.model.comboChartModel.seriesChartTypes:void 0;return{modelType:e,chartId:this.model.chartId,chartType:this.model.chartType,chartThemeName:this.getChartThemeName(),chartOptions:this.chartProxy.getChartThemeOverrides(),chartPalette:this.chartProxy.getChartPalette(),cellRange:this.getCellRangeParams(),suppressChartRanges:this.model.suppressChartRanges,aggFunc:this.model.aggFunc,unlinkChart:this.model.unlinked,seriesChartTypes:r}},t.prototype.getChartId=function(){return this.model.chartId},t.prototype.getChartData=function(){return this.model.chartData},t.prototype.getChartType=function(){return this.model.chartType},t.prototype.setChartType=function(e){var r,i,o=this.model.chartType;if(gd(o)&&!gd(e)){var a=!1;try{for(var s=DUe(this.model.dimensionColState),l=s.next();!l.done;l=s.next()){var u=l.value;u.selected&&(a&&(u.selected=!1),a=!0)}}catch(c){r={error:c}}finally{try{l&&!l.done&&(i=s.return)&&i.call(s)}finally{if(r)throw r.error}}}this.model.chartType=e,this.model.comboChartModel.updateSeriesChartTypes(),this.raiseChartModelUpdateEvent(),this.raiseChartOptionsChangedEvent()},t.prototype.setChartThemeName=function(e,r){this.model.chartThemeName=e,r||(this.raiseChartModelUpdateEvent(),this.raiseChartOptionsChangedEvent())},t.prototype.getChartThemeName=function(){return this.model.chartThemeName},t.prototype.isPivotChart=function(){return this.model.pivotChart},t.prototype.isPivotMode=function(){return this.model.isPivotMode()},t.prototype.isGrouping=function(){return this.model.isGrouping()},t.prototype.isCrossFilterChart=function(){return this.model.crossFiltering},t.prototype.getThemeNames=function(){return this.gridOptionsService.get("chartThemes")||Hte},t.prototype.getThemes=function(){var e=this,r=this.getThemeNames();return r.map(function(i){var o=o2(i),a=o?i:e.chartProxy.lookupCustomChartTheme(i);return Ns.getChartTheme(a)})},t.prototype.getPalettes=function(){var e=this.getThemes();return e.map(function(r){return r.palette})},t.prototype.getThemeTemplateParameters=function(){var e=this.getThemes();return e.map(function(r){return r.getTemplateParameters()})},t.prototype.getValueColState=function(){return this.model.valueColState.map(this.displayNameMapper.bind(this))},t.prototype.getSelectedValueColState=function(){return this.getValueColState().filter(function(e){return e.selected})},t.prototype.getSelectedDimensions=function(){return this.model.getSelectedDimensions()},t.prototype.displayNameMapper=function(e){var r=this.model.columnNames[e.colId];return e.displayName=r?r.join(" - "):this.model.getColDisplayName(e.column),e},t.prototype.getColStateForMenu=function(){return{dimensionCols:this.model.dimensionColState,valueCols:this.getValueColState()}},t.prototype.setChartRange=function(e){e===void 0&&(e=!1),this.rangeService&&!this.model.suppressChartRanges&&!this.model.unlinked&&this.rangeService.setCellRanges(this.getCellRanges()),e||this.raiseChartModelUpdateEvent()},t.prototype.detachChartRange=function(){this.model.unlinked=!this.model.unlinked,this.model.unlinked?this.rangeService&&this.rangeService.setCellRanges([]):this.updateForGridChange()},t.prototype.setChartProxy=function(e){this.chartProxy=e},t.prototype.getChartProxy=function(){return this.chartProxy},t.prototype.isActiveXYChart=function(){return D.includes(["scatter","bubble"],this.getChartType())},t.prototype.isChartLinked=function(){return!this.model.unlinked},t.prototype.customComboExists=function(){var e=this.model.comboChartModel.savedCustomSeriesChartTypes;return e&&e.length>0},t.prototype.getSeriesChartTypes=function(){return this.model.comboChartModel.seriesChartTypes},t.prototype.isComboChart=function(){return this.model.isComboChart()},t.prototype.updateSeriesChartType=function(e,r,i){var o=this.model.comboChartModel.seriesChartTypes.find(function(l){return l.colId===e});if(o){var a=this.model.chartType!=="customCombo";a&&(this.model.chartType="customCombo");var s=o.chartType;r!=null&&(o.chartType=r),i!=null&&(o.secondaryAxis=i),this.model.comboChartModel.savedCustomSeriesChartTypes=this.model.comboChartModel.seriesChartTypes,this.model.comboChartModel.updateSeriesChartTypes(),this.updateForDataChange(),a&&this.dispatchEvent({type:t.EVENT_CHART_TYPE_CHANGED}),s!==r&&this.dispatchEvent({type:t.EVENT_CHART_SERIES_CHART_TYPE_CHANGED}),this.raiseChartOptionsChangedEvent()}},t.prototype.getActiveSeriesChartTypes=function(){var e=this.getSelectedValueColState().map(function(r){return r.colId});return this.getSeriesChartTypes().filter(function(r){return e.includes(r.colId)})},t.prototype.getChartSeriesTypes=function(){var e=["line","bar","area"];return this.isComboChart()?e:[Ds(this.getChartType())]},t.prototype.getCellRanges=function(){return[this.model.dimensionCellRange,this.model.valueCellRange].filter(function(e){return e})},t.prototype.createCellRange=function(e){var r;return e.cellRange&&((r=this.rangeService)===null||r===void 0?void 0:r.createCellRangeFromCellRangeParams(e.cellRange))},t.prototype.validUpdateType=function(e){var r=this,i;if(!e.type)return console.warn("AG Grid - Unable to update chart as the 'type' is missing. It must be either 'rangeChartUpdate', 'pivotChartUpdate', or 'crossFilterChartUpdate'."),!1;var o={"Range Chart":function(){return!r.isPivotChart()&&!r.isCrossFilterChart()},"Pivot Chart":function(){return r.isPivotChart()},"Cross Filter Chart":function(){return r.isCrossFilterChart()}},a=(i=Object.keys(o).find(function(l){return o[l]()}))!==null&&i!==void 0?i:"Range Chart",s=e.type==="".concat(a[0].toLowerCase()).concat(a.slice(1).replace(/ /g,""),"Update");return s||console.warn("AG Grid - Unable to update chart as a '".concat(e.type,"' update type is not permitted on a ").concat(a,".")),s},t.prototype.getCellRangeParams=function(){var e=this.getCellRanges(),r=e[0],i=r&&r.startRow||null,o=r&&r.endRow||null;return{rowStartIndex:i&&i.rowIndex,rowStartPinned:i&&i.rowPinned,rowEndIndex:o&&o.rowIndex,rowEndPinned:o&&o.rowPinned,columns:e.reduce(function(a,s){return a.concat(s.columns.map(function(l){return l.getId()}))},[])}},t.prototype.raiseChartModelUpdateEvent=function(){var e={type:t.EVENT_CHART_MODEL_UPDATE};this.dispatchEvent(e)},t.prototype.raiseChartUpdatedEvent=function(){var e={type:t.EVENT_CHART_UPDATED};this.dispatchEvent(e)},t.prototype.raiseChartApiUpdateEvent=function(){var e={type:t.EVENT_CHART_API_UPDATE};this.dispatchEvent(e)},t.prototype.raiseChartOptionsChangedEvent=function(){var e=this.getChartModel(),r=e.chartId,i=e.chartType,o={type:P.EVENT_CHART_OPTIONS_CHANGED,chartId:r,chartType:i,chartThemeName:this.getChartThemeName(),chartOptions:this.chartProxy.getChartThemeOverrides()};this.eventService.dispatchEvent(o)},t.prototype.raiseChartRangeSelectionChangedEvent=function(){var e={type:P.EVENT_CHART_RANGE_SELECTION_CHANGED,id:this.model.chartId,chartId:this.model.chartId,cellRange:this.getCellRangeParams()};this.eventService.dispatchEvent(e)},t.prototype.destroy=function(){n.prototype.destroy.call(this),this.rangeService&&this.rangeService.setCellRanges([])},t.EVENT_CHART_UPDATED="chartUpdated",t.EVENT_CHART_API_UPDATE="chartApiUpdate",t.EVENT_CHART_MODEL_UPDATE="chartModelUpdate",t.EVENT_CHART_TYPE_CHANGED="chartTypeChanged",t.EVENT_CHART_SERIES_CHART_TYPE_CHANGED="chartSeriesChartTypeChanged",Uz([E("rangeService")],t.prototype,"rangeService",void 0),Uz([z],t.prototype,"init",null),t}(q),MUe=function(){var n=function(t,e){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])},n(t,e)};return function(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");n(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}}(),gM=function(n,t,e,r){var i=arguments.length,o=i<3?t:r===null?r=Object.getOwnPropertyDescriptor(t,e):r,a;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(n,t,e,r);else for(var s=n.length-1;s>=0;s--)(a=n[s])&&(o=(i<3?a(o):i>3?a(t,e,o):a(t,e))||o);return i>3&&o&&Object.defineProperty(t,e,o),o},gx=function(n,t){var e=typeof Symbol=="function"&&n[Symbol.iterator];if(!e)return n;var r=e.call(n),i,o=[],a;try{for(;(t===void 0||t-- >0)&&!(i=r.next()).done;)o.push(i.value)}catch(s){a={error:s}}finally{try{i&&!i.done&&(e=r.return)&&e.call(r)}finally{if(a)throw a.error}}return o},yx=function(n,t,e){if(e||arguments.length===2)for(var r=0,i=t.length,o;r<i;r++)(o||!(r in t))&&(o||(o=Array.prototype.slice.call(t,0,r)),o[r]=t[r]);return n.concat(o||Array.prototype.slice.call(t))},FUe=function(n){var t=typeof Symbol=="function"&&Symbol.iterator,e=t&&n[t],r=0;if(e)return e.call(n);if(n&&typeof n.length=="number")return{next:function(){return n&&r>=n.length&&(n=void 0),{value:n&&n[r++],done:!n}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")},LUe={groups:[{type:"categories",isOpen:!0},{type:"series",isOpen:!0},{type:"seriesChartType",isOpen:!0}]},IUe=function(n){MUe(t,n);function t(e,r){var i=n.call(this,t.TEMPLATE)||this;return i.chartController=e,i.chartOptionsService=r,i.columnComps=new Map,i}return t.prototype.init=function(){this.updatePanels(),this.addManagedListener(this.chartController,ks.EVENT_CHART_MODEL_UPDATE,this.updatePanels.bind(this)),this.addManagedListener(this.chartController,ks.EVENT_CHART_API_UPDATE,this.updatePanels.bind(this)),this.createAutoScrollService()},t.prototype.destroy=function(){this.clearComponents(),n.prototype.destroy.call(this)},t.prototype.updatePanels=function(){var e=this,r,i,o=this.chartType,a=this.chartController.getColStateForMenu(),s=a.dimensionCols,l=a.valueCols,u=s.map(function(h){return h.colId}).concat(l.map(function(h){return h.colId}));this.chartType=this.chartController.getChartType();var c=this.getGroupExpandedState();if(D.areEqual(D.keys(this.columnComps),u)&&this.chartType===o){if(yx(yx([],gx(s),!1),gx(l),!1).forEach(function(h){e.columnComps.get(h.colId).setValue(h.selected,!0)}),this.chartController.isActiveXYChart()){var d=this.generateGetSeriesLabel();l.forEach(function(h){e.columnComps.get(h.colId).setLabel(d(h))})}D.removeFromParent(this.getGui().querySelector("#seriesChartTypeGroup")),this.seriesChartTypeGroupComp=this.destroyBean(this.seriesChartTypeGroupComp);var p=(r=this.getDataPanelDef().groups)===null||r===void 0?void 0:r.reduce(function(h,f,v){var g=f.type;return g==="seriesChartType"?v:h},-1);p!==-1&&this.createSeriesChartTypeGroup(l,p)}else this.clearComponents(),(i=this.getDataPanelDef().groups)===null||i===void 0||i.forEach(function(h){var f=h.type;f==="categories"?e.createCategoriesGroup(s):f==="series"?e.createSeriesGroup(l):f==="seriesChartType"?e.createSeriesChartTypeGroup(l):console.warn("AG Grid: invalid charts data panel group name supplied: '".concat(f,"'"))});this.restoreGroupExpandedState(c)},t.prototype.getGroupExpandedState=function(){var e=this,r=[{groupType:"categories",comp:this.categoriesGroupComp},{groupType:"series",comp:this.seriesGroupComp},{groupType:"seriesChartType",comp:this.seriesChartTypeGroupComp}];return r.map(function(i){var o,a,s=i.groupType,l=i.comp,u=!!(!((a=(o=e.getDataPanelDef().groups)===null||o===void 0?void 0:o.find(function(c){var d=c.type;return d===s}))===null||a===void 0)&&a.isOpen);return l?l.isExpanded():u})},t.prototype.restoreGroupExpandedState=function(e){[this.categoriesGroupComp,this.seriesGroupComp,this.seriesChartTypeGroupComp].forEach(function(r,i){r&&r.toggleGroupExpand(e[i])})},t.prototype.createAutoScrollService=function(){var e=this.getGui();this.autoScrollService=new Vw({scrollContainer:e,scrollAxis:"y",getVerticalPosition:function(){return e.scrollTop},setVerticalPosition:function(r){return e.scrollTop=r}})},t.prototype.createComponent=function(e,r){var i=document.createElement("div");return i.id=r,i.className="ag-chart-data-section",i.appendChild(e.getGui()),i},t.prototype.addComponent=function(e,r,i){var o=this.createComponent(r,i);e.appendChild(o)},t.prototype.addComponentAtIndex=function(e,r,i,o){var a=this.createComponent(r,i);e.insertBefore(a,e.children[o])},t.prototype.addChangeListener=function(e,r){var i=this;this.addManagedListener(e,P.EVENT_FIELD_VALUE_CHANGED,function(){r.selected=e.getValue(),i.chartController.updateForPanelChange(r)})},t.prototype.createCategoriesGroup=function(e){var r=this;this.categoriesGroupComp=this.createBean(new Na({title:this.getCategoryGroupTitle(),enabled:!0,suppressEnabledCheckbox:!0,suppressOpenCloseIcons:!1,cssIdentifier:"charts-data"}));var i="chartDimension".concat(this.categoriesGroupComp.getCompId()),o=this.chartController.getChartType(),a=gd(o);if(e.forEach(function(u){var c=r.categoriesGroupComp.createManagedBean(a?function(){var d=new Lu;return d.addCssClass("ag-data-select-checkbox"),d}():new RT);c.setLabel(D.escapeString(u.displayName)),c.setValue(u.selected),c.setInputName(i),r.addChangeListener(c,u),r.categoriesGroupComp.addItem(c),r.columnComps.set(u.colId,c),a&&r.addDragHandle(c,u)}),this.addComponent(this.getGui(),this.categoriesGroupComp,"categoriesGroup"),a){var s=this.categoriesGroupComp.getGui(),l={getIconName:function(){return Ct.ICON_MOVE},getContainer:function(){return s},onDragging:function(u){return r.onDragging(u)},onDragLeave:function(){return r.onDragLeave()},isInterestedIn:this.isInterestedIn.bind(this),targetContainsSource:!0};this.dragAndDropService.addDropTarget(l),this.addDestroyFunc(function(){return r.dragAndDropService.removeDropTarget(l)})}},t.prototype.createSeriesGroup=function(e){var r=this;if(this.seriesGroupComp=this.createManagedBean(new Na({title:this.getSeriesGroupTitle(),enabled:!0,suppressEnabledCheckbox:!0,suppressOpenCloseIcons:!1,cssIdentifier:"charts-data"})),this.chartController.isActiveXYChart()){var i=this.seriesGroupComp.createManagedBean(new MT);i.setLabel(this.chartTranslationService.translate("paired")).setLabelAlignment("left").setLabelWidth("flex").setInputWidth("flex").setValue(this.chartOptionsService.getPairedMode()).onValueChange(function(u){r.chartOptionsService.setPairedMode(!!u),r.chartController.updateForGridChange()}),this.seriesGroupComp.addItem(i)}var o=this.generateGetSeriesLabel();e.forEach(function(u){var c=r.seriesGroupComp.createManagedBean(new Lu);c.addCssClass("ag-data-select-checkbox");var d=o(u);c.setLabel(d),c.setValue(u.selected),r.addChangeListener(c,u),r.seriesGroupComp.addItem(c),r.columnComps.set(u.colId,c),r.addDragHandle(c,u)});var a=this.getGui(),s=this.seriesGroupComp.getGui();this.addComponent(a,this.seriesGroupComp,"seriesGroup");var l={getIconName:function(){return Ct.ICON_MOVE},getContainer:function(){return s},onDragging:function(u){return r.onDragging(u)},onDragLeave:function(){return r.onDragLeave()},isInterestedIn:this.isInterestedIn.bind(this),targetContainsSource:!0};this.dragAndDropService.addDropTarget(l),this.addDestroyFunc(function(){return r.dragAndDropService.removeDropTarget(l)})},t.prototype.createSeriesChartTypeGroup=function(e,r){var i=this;if(this.chartController.isComboChart()){this.seriesChartTypeGroupComp=this.createManagedBean(new Na({title:this.chartTranslationService.translate("seriesChartType"),enabled:!0,suppressEnabledCheckbox:!0,suppressOpenCloseIcons:!1,cssIdentifier:"charts-data"}));var o=this.chartController.getSeriesChartTypes();e.forEach(function(a){if(a.selected){var s=o.filter(function(h){return h.colId===a.colId})[0];if(s){var l=i.seriesChartTypeGroupComp.createManagedBean(new Na({title:a.displayName,enabled:!0,suppressEnabledCheckbox:!0,suppressOpenCloseIcons:!0,cssIdentifier:"charts-format-sub-level"})),u=i.seriesChartTypeGroupComp.createManagedBean(new Lu).setLabel(i.chartTranslationService.translate("secondaryAxis")).setLabelWidth("flex").setDisabled(["groupedColumn","stackedColumn","stackedArea"].includes(s.chartType)).setValue(!!s.secondaryAxis).onValueChange(function(h){return i.chartController.updateSeriesChartType(a.colId,void 0,h)});l.addItem(u);var c=function(h,f){return i.chartTranslationService.translate(h,f)},d=[{value:"line",text:c("line","Line")},{value:"area",text:c("area","Area")},{value:"stackedArea",text:c("stackedArea","StackedArea")},{value:"groupedColumn",text:c("groupedColumn","Grouped Column")},{value:"stackedColumn",text:c("stackedColumn","Stacked Column")}],p=l.createManagedBean(new ql);p.setLabelAlignment("left").setLabelWidth("flex").addOptions(d).setValue(s.chartType).onValueChange(function(h){return i.chartController.updateSeriesChartType(a.colId,h)}),l.addItem(p),i.seriesChartTypeGroupComp.addItem(l)}}}),r===void 0?this.addComponent(this.getGui(),this.seriesChartTypeGroupComp,"seriesChartTypeGroup"):this.addComponentAtIndex(this.getGui(),this.seriesChartTypeGroupComp,"seriesChartTypeGroup",r)}},t.prototype.addDragHandle=function(e,r){var i=this,o=D.createIconNoSpan("columnDrag",this.gridOptionsService);o.classList.add("ag-drag-handle","ag-chart-data-column-drag-handle"),e.getGui().insertAdjacentElement("beforeend",o);var a={type:Sr.ChartPanel,eElement:o,dragItemName:r.displayName,getDragItem:function(){return{columns:[r.column]}},onDragStopped:function(){return i.onDragStop()}};this.dragAndDropService.addDragSource(a,!0),this.addDestroyFunc(function(){return i.dragAndDropService.removeDragSource(a)})},t.prototype.generateGetSeriesLabel=function(){if(!this.chartController.isActiveXYChart())return function(a){return D.escapeString(a.displayName)};var e=this.chartType==="bubble",r=this.isInPairedMode(),i=0,o=new Map;return o.set(0,"X"),o.set(1,"Y"),o.set(2,"size"),function(a){var s=D.escapeString(a.displayName);if(!a.selected)return s;var l;return r?l=o.get(i%(e?3:2)):i===0?l="X":l=e&&i%2===0?"size":"Y",i++,"".concat(s," (").concat(l,")")}},t.prototype.getCategoryGroupTitle=function(){return this.chartTranslationService.translate(this.chartController.isActiveXYChart()?"labels":"categories")},t.prototype.getSeriesGroupTitle=function(){return this.chartTranslationService.translate(this.chartController.isActiveXYChart()?"xyValues":"series")},t.prototype.getDataPanelDef=function(){var e,r=(e=this.gridOptionsService.get("chartToolPanelsDef"))===null||e===void 0?void 0:e.dataPanel;return r||LUe},t.prototype.isInPairedMode=function(){return this.chartController.isActiveXYChart()&&this.chartOptionsService.getSeriesOption("paired","scatter")},t.prototype.clearComponents=function(){D.clearElement(this.getGui()),this.categoriesGroupComp=this.destroyBean(this.categoriesGroupComp),this.seriesGroupComp=this.destroyBean(this.seriesGroupComp),this.seriesChartTypeGroupComp=this.destroyBean(this.seriesChartTypeGroupComp),this.columnComps.clear()},t.prototype.onDragging=function(e){var r=this.checkHoveredItem(e);if(r){this.lastDraggedColumn=e.dragItem.columns[0];var i=r.comp,o=r.position,a=this.lastHoveredItem||{},s=a.comp,l=a.position;if(!(i===s&&o===l)){this.autoScrollService.check(e.event),this.clearHoveredItems(),this.lastHoveredItem={comp:i,position:o};var u=i.getGui();u.classList.add("ag-list-item-hovered","ag-item-highlight-".concat(o))}}},t.prototype.checkHoveredItem=function(e){var r,i;if(D.missing(e.vDirection))return null;var o=e.event;try{for(var a=FUe(this.columnComps.values()),s=a.next();!s.done;s=a.next()){var l=s.value,u=l.getGui();if(u.querySelector(".ag-chart-data-column-drag-handle")){var c=u.getBoundingClientRect(),d=o.clientY>=c.top&&o.clientY<=c.bottom;if(d){var p=u.clientHeight,h=o.clientY>c.top+p/2?"bottom":"top";return{comp:l,position:h}}}}}catch(f){r={error:f}}finally{try{s&&!s.done&&(i=a.return)&&i.call(a)}finally{if(r)throw r.error}}return null},t.prototype.onDragLeave=function(){this.clearHoveredItems()},t.prototype.onDragStop=function(){var e=this;if(this.lastHoveredItem){var r=this.chartController.getColStateForMenu(),i=r.dimensionCols,o=r.valueCols,a=yx(yx([],gx(i),!1),gx(o),!1).find(function(l){return l.column===e.lastDraggedColumn});if(a){var s=Array.from(this.columnComps.values()).indexOf(this.lastHoveredItem.comp);this.lastHoveredItem.position==="bottom"&&s++,a.order=s,this.chartController.updateForPanelChange(a)}}this.clearHoveredItems(),this.lastDraggedColumn=void 0,this.autoScrollService.ensureCleared()},t.prototype.clearHoveredItems=function(){this.columnComps.forEach(function(e){e.getGui().classList.remove("ag-list-item-hovered","ag-item-highlight-top","ag-item-highlight-bottom")}),this.lastHoveredItem=void 0},t.prototype.isInterestedIn=function(e){return e===Sr.ChartPanel},t.TEMPLATE='<div class="ag-chart-data-wrapper ag-scrollable-container"></div>',gM([E("dragAndDropService")],t.prototype,"dragAndDropService",void 0),gM([E("chartTranslationService")],t.prototype,"chartTranslationService",void 0),gM([z],t.prototype,"init",null),t}(de),NUe=function(){var n=function(t,e){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])},n(t,e)};return function(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");n(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}}(),Ep=function(n,t,e,r){var i=arguments.length,o=i<3?t:r===null?r=Object.getOwnPropertyDescriptor(t,e):r,a;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(n,t,e,r);else for(var s=n.length-1;s>=0;s--)(a=n[s])&&(o=(i<3?a(o):i>3?a(t,e,o):a(t,e))||o);return i>3&&o&&Object.defineProperty(t,e,o),o},Wd=function(n){NUe(t,n);function t(e){var r=n.call(this)||this;return r.activeComps=[],r.params=e,r}return t.prototype.init=function(){var e={cssIdentifier:"charts-format-sub-level",direction:"vertical",suppressOpenCloseIcons:!0};this.setTemplate(t.TEMPLATE,{fontGroup:e}),this.initGroup(),this.initFontFamilySelect(),this.initFontWeightStyleSelect(),this.initFontSizeSelect(),this.initFontColorPicker()},t.prototype.addCompToPanel=function(e){this.fontGroup.addItem(e),this.activeComps.push(e)},t.prototype.setEnabled=function(e){this.fontGroup.setEnabled(e)},t.prototype.initGroup=function(){var e=this;this.fontGroup.setTitle(this.params.name||this.chartTranslationService.translate("font")).setEnabled(this.params.enabled).hideEnabledCheckbox(!!this.params.suppressEnabledCheckbox).hideOpenCloseIcons(!0).onEnableChange(function(r){e.params.setEnabled&&e.params.setEnabled(r)})},t.prototype.initFontFamilySelect=function(){var e=this,r=["Arial, sans-serif","Aria Black, sans-serif","Book Antiqua,  serif","Charcoal, sans-serif","Comic Sans MS, cursive","Courier, monospace","Courier New, monospace","Gadget, sans-serif","Geneva, sans-serif","Helvetica, sans-serif","Impact, sans-serif","Lucida Console, monospace","Lucida Grande, sans-serif","Lucida Sans Unicode,  sans-serif","Monaco, monospace","Palatino Linotype, serif","Palatino, serif","Times New Roman, serif","Times, serif","Verdana, sans-serif"],i=this.params.initialFont.family,o=r[0];if(i){var a=r.map(function(c){return c.toLowerCase()}),s=a.indexOf(i.toLowerCase());if(s>=0)o=r[s];else{var l=D.capitalise(i);r.push(l),o=l}}var u=r.sort().map(function(c){return{value:c,text:c}});this.familySelect.addOptions(u).setInputWidth("flex").setValue("".concat(o)).onValueChange(function(c){return e.params.setFont({family:c})})},t.prototype.initFontSizeSelect=function(){var e=this,r=[8,10,12,14,16,18,20,22,24,26,28,30,32,34,36],i=this.params.initialFont.size;D.includes(r,i)||r.push(i);var o=r.sort(function(a,s){return a-s}).map(function(a){return{value:"".concat(a),text:"".concat(a)}});this.sizeSelect.addOptions(o).setInputWidth("flex").setValue("".concat(i)).onValueChange(function(a){return e.params.setFont({size:parseInt(a,10)})}),this.sizeSelect.setLabel(this.chartTranslationService.translate("size"))},t.prototype.initFontWeightStyleSelect=function(){var e=this,r=this.params.initialFont,i=r.weight,o=i===void 0?"normal":i,a=r.style,s=a===void 0?"normal":a,l=[{name:"normal",weight:"normal",style:"normal"},{name:"bold",weight:"bold",style:"normal"},{name:"italic",weight:"normal",style:"italic"},{name:"boldItalic",weight:"bold",style:"italic"}],u=l.find(function(d){return d.weight===o&&d.style===s});u||(u={name:"predefined",weight:o,style:s},l.unshift(u));var c=l.map(function(d){return{value:d.name,text:e.chartTranslationService.translate(d.name)}});this.weightStyleSelect.addOptions(c).setInputWidth("flex").setValue(u.name).onValueChange(function(d){var p=l.find(function(h){return h.name===d});e.params.setFont({weight:p.weight,style:p.style})})},t.prototype.initFontColorPicker=function(){var e=this;this.colorPicker.setLabel(this.chartTranslationService.translate("color")).setInputWidth("flex").setValue("".concat(this.params.initialFont.color)).onValueChange(function(r){return e.params.setFont({color:r})})},t.prototype.addItemToPanel=function(e){this.fontGroup.addItem(e),this.activeComps.push(e)},t.prototype.destroyActiveComps=function(){var e=this;this.activeComps.forEach(function(r){D.removeFromParent(r.getGui()),e.destroyBean(r)})},t.prototype.destroy=function(){this.destroyActiveComps(),n.prototype.destroy.call(this)},t.TEMPLATE=`<div class="ag-font-panel">
            <ag-group-component ref="fontGroup">
                <ag-select ref="familySelect"></ag-select>
                <ag-select ref="weightStyleSelect"></ag-select>
                <div class="ag-charts-font-size-color">
                    <ag-select ref="sizeSelect"></ag-select>
                    <ag-color-picker ref="colorPicker"></ag-color-picker>
                </div>
            </ag-group-component>
        </div>`,Ep([$("fontGroup")],t.prototype,"fontGroup",void 0),Ep([$("familySelect")],t.prototype,"familySelect",void 0),Ep([$("weightStyleSelect")],t.prototype,"weightStyleSelect",void 0),Ep([$("sizeSelect")],t.prototype,"sizeSelect",void 0),Ep([$("colorPicker")],t.prototype,"colorPicker",void 0),Ep([E("chartTranslationService")],t.prototype,"chartTranslationService",void 0),Ep([z],t.prototype,"init",null),t}(de),kUe=function(){var n=function(t,e){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])},n(t,e)};return function(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");n(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}}(),al=function(n,t,e,r){var i=arguments.length,o=i<3?t:r===null?r=Object.getOwnPropertyDescriptor(t,e):r,a;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(n,t,e,r);else for(var s=n.length-1;s>=0;s--)(a=n[s])&&(o=(i<3?a(o):i>3?a(t,e,o):a(t,e))||o);return i>3&&o&&Object.defineProperty(t,e,o),o},GUe=function(n){kUe(t,n);function t(e){var r=e.chartOptionsService,i=e.isExpandedOnInit,o=i===void 0?!1:i,a=n.call(this)||this;return a.activePanels=[],a.chartOptionsService=r,a.isExpandedOnInit=o,a}return t.prototype.init=function(){var e={cssIdentifier:"charts-format-top-level",direction:"vertical"};this.setTemplate(t.TEMPLATE,{legendGroup:e}),this.initLegendGroup(),this.initLegendPosition(),this.initLegendPadding(),this.initLegendItems(),this.initLabelPanel()},t.prototype.initLegendGroup=function(){var e=this;this.legendGroup.setTitle(this.chartTranslationService.translate("legend")).hideEnabledCheckbox(!1).setEnabled(this.chartOptionsService.getChartOption("legend.enabled")||!1).toggleGroupExpand(this.isExpandedOnInit).onEnableChange(function(r){e.chartOptionsService.setChartOption("legend.enabled",r),e.legendGroup.toggleGroupExpand(!0)})},t.prototype.initLegendPosition=function(){var e=this,r=["top","right","bottom","left"];this.legendPositionSelect.setLabel(this.chartTranslationService.translate("position")).setLabelWidth("flex").setInputWidth("flex").addOptions(r.map(function(i){return{value:i,text:e.chartTranslationService.translate(i)}})).setValue(this.chartOptionsService.getChartOption("legend.position")).onValueChange(function(i){return e.chartOptionsService.setChartOption("legend.position",i)})},t.prototype.initLegendPadding=function(){var e=this,r=this.chartOptionsService.getChartOption("legend.spacing");this.legendPaddingSlider.setLabel(this.chartTranslationService.translate("spacing")).setMaxValue(Qr(r,200)).setValue("".concat(r)).setTextFieldWidth(45).onValueChange(function(i){return e.chartOptionsService.setChartOption("legend.spacing",i)})},t.prototype.initLegendItems=function(){var e=this,r=function(i,o,a,s){var l,u=(l=e.chartOptionsService.getChartOption("legend.".concat(i)))!==null&&l!==void 0?l:0;a.setLabel(e.chartTranslationService.translate(o)).setMaxValue(Qr(u,s)).setValue("".concat(u)).setTextFieldWidth(45).onValueChange(function(c){e.chartOptionsService.setChartOption("legend.".concat(i),c)})};r("item.marker.size","markerSize",this.markerSizeSlider,40),r("item.marker.strokeWidth","markerStroke",this.markerStrokeSlider,10),r("item.marker.padding","itemSpacing",this.markerPaddingSlider,20),r("item.paddingX","layoutHorizontalSpacing",this.itemPaddingXSlider,50),r("item.paddingY","layoutVerticalSpacing",this.itemPaddingYSlider,50)},t.prototype.initLabelPanel=function(){var e=this,r=this.chartOptionsService,i={family:r.getChartOption("legend.item.label.fontFamily"),style:r.getChartOption("legend.item.label.fontStyle"),weight:r.getChartOption("legend.item.label.fontWeight"),size:r.getChartOption("legend.item.label.fontSize"),color:r.getChartOption("legend.item.label.color")},o=function(l){var u=e.chartOptionsService;l.family&&u.setChartOption("legend.item.label.fontFamily",l.family),l.weight&&u.setChartOption("legend.item.label.fontWeight",l.weight),l.style&&u.setChartOption("legend.item.label.fontStyle",l.style),l.size&&u.setChartOption("legend.item.label.fontSize",l.size),l.color&&u.setChartOption("legend.item.label.color",l.color)},a={enabled:!0,suppressEnabledCheckbox:!0,initialFont:i,setFont:o},s=this.createBean(new Wd(a));this.legendGroup.addItem(s),this.activePanels.push(s)},t.prototype.destroyActivePanels=function(){var e=this;this.activePanels.forEach(function(r){D.removeFromParent(r.getGui()),e.destroyBean(r)})},t.prototype.destroy=function(){this.destroyActivePanels(),n.prototype.destroy.call(this)},t.TEMPLATE=`<div>
            <ag-group-component ref="legendGroup">
                <ag-select ref="legendPositionSelect"></ag-select>
                <ag-slider ref="legendPaddingSlider"></ag-slider>
                <ag-slider ref="markerSizeSlider"></ag-slider>
                <ag-slider ref="markerStrokeSlider"></ag-slider>
                <ag-slider ref="markerPaddingSlider"></ag-slider>
                <ag-slider ref="itemPaddingXSlider"></ag-slider>
                <ag-slider ref="itemPaddingYSlider"></ag-slider>
            </ag-group-component>
        </div>`,al([$("legendGroup")],t.prototype,"legendGroup",void 0),al([$("legendPositionSelect")],t.prototype,"legendPositionSelect",void 0),al([$("legendPaddingSlider")],t.prototype,"legendPaddingSlider",void 0),al([$("markerSizeSlider")],t.prototype,"markerSizeSlider",void 0),al([$("markerStrokeSlider")],t.prototype,"markerStrokeSlider",void 0),al([$("markerPaddingSlider")],t.prototype,"markerPaddingSlider",void 0),al([$("itemPaddingXSlider")],t.prototype,"itemPaddingXSlider",void 0),al([$("itemPaddingYSlider")],t.prototype,"itemPaddingYSlider",void 0),al([E("chartTranslationService")],t.prototype,"chartTranslationService",void 0),al([z],t.prototype,"init",null),t}(de),VUe=function(){var n=function(t,e){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])},n(t,e)};return function(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");n(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}}(),jf=function(n,t,e,r){var i=arguments.length,o=i<3?t:r===null?r=Object.getOwnPropertyDescriptor(t,e):r,a;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(n,t,e,r);else for(var s=n.length-1;s>=0;s--)(a=n[s])&&(o=(i<3?a(o):i>3?a(t,e,o):a(t,e))||o);return i>3&&o&&Object.defineProperty(t,e,o),o},BUe=function(n){VUe(t,n);function t(e){var r=n.call(this)||this;return r.chartOptionsService=e,r}return t.prototype.init=function(){var e={cssIdentifier:"charts-format-sub-level",direction:"vertical",suppressOpenCloseIcons:!0};this.setTemplate(t.TEMPLATE,{axisTicksGroup:e}),this.initAxisTicks()},t.prototype.initAxisTicks=function(){var e=this;this.axisTicksGroup.setTitle(this.chartTranslationService.translate("ticks")).setEnabled(this.chartOptionsService.getAxisProperty("tick.enabled")).hideOpenCloseIcons(!0).hideEnabledCheckbox(!1).onEnableChange(function(i){return e.chartOptionsService.setAxisProperty("tick.enabled",i)}),this.axisTicksColorPicker.setLabel(this.chartTranslationService.translate("color")).setLabelWidth("flex").setInputWidth("flex").setValue(this.chartOptionsService.getAxisProperty("tick.color")).onValueChange(function(i){return e.chartOptionsService.setAxisProperty("tick.color",i)});var r=function(i,o,a,s){var l=e.chartOptionsService.getAxisProperty(i);o.setLabel(a).setMaxValue(Qr(l,s)).setValue("".concat(l)).setTextFieldWidth(45).onValueChange(function(u){return e.chartOptionsService.setAxisProperty(i,u)})};r("tick.width",this.axisTicksWidthSlider,this.chartTranslationService.translate("width"),10),r("tick.size",this.axisTicksSizeSlider,this.chartTranslationService.translate("length"),30)},t.TEMPLATE=`<div>
            <ag-group-component ref="axisTicksGroup">
                <ag-color-picker ref="axisTicksColorPicker"></ag-color-picker>
                <ag-slider ref="axisTicksWidthSlider"></ag-slider>
                <ag-slider ref="axisTicksSizeSlider"></ag-slider>
            </ag-group-component>
        </div>`,jf([$("axisTicksGroup")],t.prototype,"axisTicksGroup",void 0),jf([$("axisTicksColorPicker")],t.prototype,"axisTicksColorPicker",void 0),jf([$("axisTicksWidthSlider")],t.prototype,"axisTicksWidthSlider",void 0),jf([$("axisTicksSizeSlider")],t.prototype,"axisTicksSizeSlider",void 0),jf([E("chartTranslationService")],t.prototype,"chartTranslationService",void 0),jf([z],t.prototype,"init",null),t}(de),HUe=function(){var n=function(t,e){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])},n(t,e)};return function(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");n(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}}(),ym=function(n,t,e,r){var i=arguments.length,o=i<3?t:r===null?r=Object.getOwnPropertyDescriptor(t,e):r,a;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(n,t,e,r);else for(var s=n.length-1;s>=0;s--)(a=n[s])&&(o=(i<3?a(o):i>3?a(t,e,o):a(t,e))||o);return i>3&&o&&Object.defineProperty(t,e,o),o},jte=function(n){HUe(t,n);function t(e){var r=n.call(this,e,t.TEMPLATE)||this;return r.radius=0,r.offsetX=0,r.offsetY=0,r}return t.prototype.postConstruct=function(){var e=this;n.prototype.postConstruct.call(this),this.dragListener={eElement:this.eParentCircle,dragStartPixels:0,onDragStart:function(r){e.parentCircleRect=e.eParentCircle.getBoundingClientRect()},onDragging:function(r){return e.calculateAngleDrag(r)},onDragStop:function(){}},this.dragService.addDragSource(this.dragListener),this.eAngleValue.setLabel("").setLabelWidth(5).setInputWidth(45).setMin(0).setMax(360).setValue("".concat(this.degrees)).onValueChange(function(r){(r==null||r==="")&&(r="0"),r=e.eAngleValue.normalizeValue(r);var i=parseFloat(r);i>180&&(i=i-360),e.setValue(i)}),this.updateNumberInput(),D.exists(this.getValue())&&this.eAngleValue.setValue(this.normalizeNegativeValue(this.getValue()).toString()),this.addManagedListener(this,P.EVENT_FIELD_VALUE_CHANGED,function(){var r=e.gridOptionsService.getDocument();e.eAngleValue.getInputElement().contains(r.activeElement)||e.updateNumberInput()})},t.prototype.updateNumberInput=function(){var e=this.normalizeNegativeValue(this.getValue());this.eAngleValue.setValue(e.toString())},t.prototype.positionChildCircle=function(e){var r=this.parentCircleRect||{width:24,height:24},i=this.eChildCircle,o=r.width/2,a=r.height/2;i.style.left="".concat(o+Math.cos(e)*8,"px"),i.style.top="".concat(a+Math.sin(e)*8,"px")},t.prototype.calculatePolar=function(){var e=this.offsetX,r=this.offsetY,i=Math.atan2(r,e);this.degrees=this.toDegrees(i),this.radius=Math.sqrt(e*e+r*r),this.positionChildCircle(i)},t.prototype.calculateCartesian=function(){var e=this.toRadians(this.getValue()),r=this.getRadius();this.setOffsetX(Math.cos(e)*r).setOffsetY(Math.sin(e)*r)},t.prototype.setOffsetX=function(e){return this.offsetX!==e&&(this.offsetX=e,this.calculatePolar()),this},t.prototype.setOffsetY=function(e){return this.offsetY!==e&&(this.offsetY=e,this.calculatePolar()),this},t.prototype.calculateAngleDrag=function(e){var r=this.parentCircleRect,i=r.width/2,o=r.height/2,a=e.clientX-r.left,s=e.clientY-r.top,l=a-i,u=s-o,c=Math.atan2(u,l);this.setValue(c,!0)},t.prototype.toDegrees=function(e){return e/Math.PI*180},t.prototype.toRadians=function(e){return e/180*Math.PI},t.prototype.normalizeNegativeValue=function(e){return e<0?360+e:e},t.prototype.normalizeAngle180=function(e){return e%=Math.PI*2,e<-Math.PI?e+=Math.PI*2:e>=Math.PI&&(e-=Math.PI*2),e},t.prototype.getRadius=function(){return this.radius},t.prototype.setRadius=function(e){return this.radius===e?this:(this.radius=e,this.calculateCartesian(),this)},t.prototype.onValueChange=function(e){var r=this;return this.addManagedListener(this,P.EVENT_FIELD_VALUE_CHANGED,function(){e(r.degrees)}),this},t.prototype.getValue=function(e){return e?this.toRadians(this.degrees):this.degrees},t.prototype.setValue=function(e,r){var i;return r?i=e:i=this.normalizeAngle180(this.toRadians(e)),e=this.toDegrees(i),this.degrees!==e&&(this.degrees=Math.floor(e),this.calculateCartesian(),this.positionChildCircle(i),this.dispatchEvent({type:P.EVENT_FIELD_VALUE_CHANGED})),this},t.prototype.setWidth=function(e){return D.setFixedWidth(this.getGui(),e),this},t.prototype.setDisabled=function(e){return n.prototype.setDisabled.call(this,e),this.eAngleValue.setDisabled(e),this},t.prototype.destroy=function(){this.dragService.removeDragSource(this.dragListener),n.prototype.destroy.call(this)},t.TEMPLATE=`<div class="ag-angle-select">
            <div ref="eLabel"></div>
            <div class="ag-wrapper ag-angle-select-wrapper">
                <div ref="eAngleSelectField" class="ag-angle-select-field">
                    <div ref="eParentCircle" class="ag-angle-select-parent-circle">
                        <div ref="eChildCircle" class="ag-angle-select-child-circle"></div>
                    </div>
                </div>
                <ag-input-number-field ref="eAngleValue"></ag-input-number-field>
            </div>
        </div>`,ym([$("eLabel")],t.prototype,"eLabel",void 0),ym([$("eParentCircle")],t.prototype,"eParentCircle",void 0),ym([$("eChildCircle")],t.prototype,"eChildCircle",void 0),ym([$("eAngleValue")],t.prototype,"eAngleValue",void 0),ym([E("dragService")],t.prototype,"dragService",void 0),t}(bT),jUe=function(){var n=function(t,e){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])},n(t,e)};return function(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");n(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}}(),mm=function(n,t,e,r){var i=arguments.length,o=i<3?t:r===null?r=Object.getOwnPropertyDescriptor(t,e):r,a;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(n,t,e,r);else for(var s=n.length-1;s>=0;s--)(a=n[s])&&(o=(i<3?a(o):i>3?a(t,e,o):a(t,e))||o);return i>3&&o&&Object.defineProperty(t,e,o),o},$Ue=function(n){jUe(t,n);function t(e){var r=e.chartController,i=e.chartOptionsService,o=e.isExpandedOnInit,a=o===void 0?!1:o,s=n.call(this)||this;return s.activePanels=[],s.axisLabelUpdateFuncs=[],s.prevXRotation=0,s.prevYRotation=0,s.chartController=r,s.chartOptionsService=i,s.isExpandedOnInit=a,s}return t.prototype.init=function(){var e=this,r={cssIdentifier:"charts-format-top-level",direction:"vertical"};this.setTemplate(t.TEMPLATE,{axisGroup:r}),this.initAxis(),this.initAxisTicks(),this.initAxisLabels();var i=function(){return e.axisLabelUpdateFuncs.forEach(function(o){return o()})};this.addManagedListener(this.chartController,ks.EVENT_CHART_UPDATED,i)},t.prototype.initAxis=function(){var e=this;this.axisGroup.setTitle(this.translate("axis")).toggleGroupExpand(this.isExpandedOnInit).hideEnabledCheckbox(!0),this.axisColorInput.setLabel(this.translate("color")).setLabelWidth("flex").setInputWidth("flex").setValue(this.chartOptionsService.getAxisProperty("line.color")).onValueChange(function(i){var o=e.chartOptionsService.getAxisProperty("line.width")>0;e.chartOptionsService.setAxisProperties([{expression:"line.enabled",value:o},{expression:"line.color",value:i}])});var r=this.chartOptionsService.getAxisProperty("line.width");this.axisLineWidthSlider.setMaxValue(Qr(r,10)).setLabel(this.translate("thickness")).setTextFieldWidth(45).setValue("".concat(r)).onValueChange(function(i){return e.chartOptionsService.setAxisProperties([{expression:"line.enabled",value:i!==0},{expression:"line.width",value:i}])})},t.prototype.initAxisTicks=function(){if(this.hasConfigurableAxisTicks()){var e=this.createBean(new BUe(this.chartOptionsService));this.axisGroup.addItem(e),this.activePanels.push(e)}},t.prototype.hasConfigurableAxisTicks=function(){var e=this.chartController.getChartType();switch(e){case"radarLine":case"radarArea":case"rangeBar":case"boxPlot":case"waterfall":return!1;default:return!0}},t.prototype.initAxisLabels=function(){var e=this,r={family:this.chartOptionsService.getAxisProperty("label.fontFamily"),style:this.chartOptionsService.getAxisProperty("label.fontStyle"),weight:this.chartOptionsService.getAxisProperty("label.fontWeight"),size:this.chartOptionsService.getAxisProperty("label.fontSize"),color:this.chartOptionsService.getAxisProperty("label.color")},i=function(s){s.family&&e.chartOptionsService.setAxisProperty("label.fontFamily",s.family),s.weight&&e.chartOptionsService.setAxisProperty("label.fontWeight",s.weight),s.style&&e.chartOptionsService.setAxisProperty("label.fontStyle",s.style),s.size&&e.chartOptionsService.setAxisProperty("label.fontSize",s.size),s.color&&e.chartOptionsService.setAxisProperty("label.color",s.color)},o={name:this.translate("labels"),enabled:!0,suppressEnabledCheckbox:!0,initialFont:r,setFont:i},a=this.createBean(new Wd(o));this.axisGroup.addItem(a),this.activePanels.push(a),this.addAdditionalLabelComps(a)},t.prototype.addAdditionalLabelComps=function(e){this.addLabelPadding(e);var r=this.createRotationWidgets(),i=r.xRotationComp,o=r.yRotationComp,a=this.initLabelRotations(i,o);e.addCompToPanel(a),e.addCompToPanel(i),e.addCompToPanel(o)},t.prototype.initLabelRotations=function(e,r){var i=this,o=function(d){return i.chartOptionsService.getLabelRotation(d)},a=function(d,p){i.chartOptionsService.setLabelRotation(d,p)},s=function(d){i.chartOptionsService.setAxisProperty("label.autoRotate",d),d?(i.prevXRotation=o("xAxis"),i.prevYRotation=o("yAxis"),a("xAxis",void 0),a("yAxis",void 0)):(a("xAxis",i.prevXRotation),a("yAxis",i.prevYRotation)),e.setDisabled(d),r.setDisabled(d)},l=function(){var d=o("xAxis"),p=o("yAxis");return d==null&&p==null?i.chartOptionsService.getAxisProperty("label.autoRotate"):!1},u=l(),c=this.createBean(new Lu).setLabel(this.translate("autoRotate")).setValue(u).onValueChange(s);return e.setDisabled(u),r.setDisabled(u),c},t.prototype.createRotationWidgets=function(){var e=this,r="°",i=function(o,a){var s="".concat(e.chartTranslationService.translate(o)," ").concat(r),l=e.chartOptionsService.getLabelRotation(a),u=new jte().setLabel(s).setLabelWidth("flex").setValue(l||0).onValueChange(function(c){return e.chartOptionsService.setLabelRotation(a,c)});return e.axisLabelUpdateFuncs.push(function(){var c=e.chartOptionsService.getLabelRotation(a);u.setValue(c||0)}),e.createBean(u)};return{xRotationComp:i("xRotation","xAxis"),yRotationComp:i("yRotation","yAxis")}},t.prototype.addLabelPadding=function(e){var r=this,i=this.createBean(new Wo),o=this.chartOptionsService.getAxisProperty("label.padding");i.setLabel(this.chartTranslationService.translate("padding")).setMaxValue(Qr(o,30)).setValue("".concat(o)).setTextFieldWidth(45).onValueChange(function(a){return r.chartOptionsService.setAxisProperty("label.padding",a)}),e.addCompToPanel(i)},t.prototype.translate=function(e,r){return this.chartTranslationService.translate(e,r)},t.prototype.destroyActivePanels=function(){var e=this;this.activePanels.forEach(function(r){D.removeFromParent(r.getGui()),e.destroyBean(r)})},t.prototype.destroy=function(){this.destroyActivePanels(),n.prototype.destroy.call(this)},t.TEMPLATE=`<div>
            <ag-group-component ref="axisGroup">
                <ag-color-picker ref="axisColorInput"></ag-color-picker>
                <ag-slider ref="axisLineWidthSlider"></ag-slider>
            </ag-group-component>
        </div>`,mm([$("axisGroup")],t.prototype,"axisGroup",void 0),mm([$("axisColorInput")],t.prototype,"axisColorInput",void 0),mm([$("axisLineWidthSlider")],t.prototype,"axisLineWidthSlider",void 0),mm([E("chartTranslationService")],t.prototype,"chartTranslationService",void 0),mm([z],t.prototype,"init",null),t}(de),WUe=function(){var n=function(t,e){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])},n(t,e)};return function(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");n(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}}(),Cm=function(n,t,e,r){var i=arguments.length,o=i<3?t:r===null?r=Object.getOwnPropertyDescriptor(t,e):r,a;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(n,t,e,r);else for(var s=n.length-1;s>=0;s--)(a=n[s])&&(o=(i<3?a(o):i>3?a(t,e,o):a(t,e))||o);return i>3&&o&&Object.defineProperty(t,e,o),o},UUe=function(n){WUe(t,n);function t(e){var r=e.chartController,i=e.chartOptionsService,o=e.isExpandedOnInit,a=o===void 0?!1:o,s=n.call(this)||this;return s.dynamicComponents=[],s.chartController=r,s.chartOptionsService=i,s.isExpandedOnInit=a,s}return t.prototype.init=function(){var e={cssIdentifier:"charts-format-top-level",direction:"vertical"};this.setTemplate(t.TEMPLATE,{axisGroup:e}),this.initAxis(),this.initAxisLabels(),this.initRadiusAxis()},t.prototype.initAxis=function(){var e=this;this.axisGroup.setTitle(this.translate("axis")).toggleGroupExpand(this.isExpandedOnInit).hideEnabledCheckbox(!0),this.axisColorInput.setLabel(this.translate("color")).setLabelWidth("flex").setInputWidth("flex").setValue(this.chartOptionsService.getAxisProperty("line.color")).onValueChange(function(l){return e.chartOptionsService.setAxisProperty("line.color",l)});var r=this.chartOptionsService.getAxisProperty("line.width");this.axisLineWidthSlider.setMaxValue(Qr(r,10)).setLabel(this.translate("thickness")).setTextFieldWidth(45).setValue("".concat(r)).onValueChange(function(l){return e.chartOptionsService.setAxisProperty("line.width",l)});var i=this.chartController.getChartType(),o=["radarLine","radarArea"].includes(i);if(o){var a=[{value:"circle",text:this.translate("circle")},{value:"polygon",text:this.translate("polygon")}];this.axisGroup.addItem(this.initSelect({label:"shape",options:a,currentValue:this.chartOptionsService.getAxisProperty("shape"),onValueChange:function(l){return e.chartOptionsService.setAxisProperty("shape",l)}}))}if(kte(i)){var s=this.chartOptionsService.getAxisProperty("innerRadiusRatio");this.axisGroup.addItem(this.initSlider({label:"innerRadius",maxValue:1,currentValue:s??0,onValueChange:function(l){return e.chartOptionsService.setAxisProperty("innerRadiusRatio",l)}}))}},t.prototype.initAxisLabels=function(){var e=this,r={family:this.chartOptionsService.getAxisProperty("label.fontFamily"),style:this.chartOptionsService.getAxisProperty("label.fontStyle"),weight:this.chartOptionsService.getAxisProperty("label.fontWeight"),size:this.chartOptionsService.getAxisProperty("label.fontSize"),color:this.chartOptionsService.getAxisProperty("label.color")},i=function(l){l.family&&e.chartOptionsService.setAxisProperty("label.fontFamily",l.family),l.weight&&e.chartOptionsService.setAxisProperty("label.fontWeight",l.weight),l.style&&e.chartOptionsService.setAxisProperty("label.fontStyle",l.style),l.size&&e.chartOptionsService.setAxisProperty("label.fontSize",l.size),l.color&&e.chartOptionsService.setAxisProperty("label.color",l.color)},o={name:this.translate("labels"),enabled:!0,suppressEnabledCheckbox:!0,initialFont:r,setFont:i},a=this.createBean(new Wd(o)),s=this.createOrientationWidget();a.addItemToPanel(s),this.axisGroup.addItem(a),this.dynamicComponents.push(a)},t.prototype.createOrientationWidget=function(){var e=this,r=[{value:"fixed",text:this.translate("fixed")},{value:"parallel",text:this.translate("parallel")},{value:"perpendicular",text:this.translate("perpendicular")}];return this.initSelect({label:"orientation",options:r,currentValue:this.chartOptionsService.getAxisProperty("label.orientation"),onValueChange:function(i){return e.chartOptionsService.setAxisProperty("label.orientation",i)}})},t.prototype.initRadiusAxis=function(){var e=this,r,i,o=this.chartController.getChartType();if(sUe(o)){var a=this.createBean(new Na({cssIdentifier:"charts-format-sub-level",direction:"vertical",suppressOpenCloseIcons:!0,enabled:!0,suppressEnabledCheckbox:!0,title:this.translate("padding")})).hideEnabledCheckbox(!0).hideOpenCloseIcons(!0);a.addItem(this.initSlider({label:"groupPadding",maxValue:1,currentValue:(r=this.chartOptionsService.getAxisProperty("paddingInner"))!==null&&r!==void 0?r:0,onValueChange:function(s){return e.chartOptionsService.setAxisProperty("paddingInner",s)}})),a.addItem(this.initSlider({label:"seriesPadding",maxValue:1,currentValue:(i=this.chartOptionsService.getAxisProperty("groupPaddingInner"))!==null&&i!==void 0?i:0,onValueChange:function(s){return e.chartOptionsService.setAxisProperty("groupPaddingInner",s)}})),this.axisGroup.addItem(a),this.dynamicComponents.push(a)}},t.prototype.initSlider=function(e){var r=e.label,i=e.maxValue,o=e.minValue,a=o===void 0?0:o,s=e.step,l=s===void 0?.05:s,u=e.currentValue,c=e.onValueChange,d=this.createManagedBean(new Wo);return d.setLabel(this.translate(r)).setLabelWidth("flex").setMinValue(a).setMaxValue(i).setStep(l).setValue("".concat(u)).onValueChange(c),this.dynamicComponents.push(d),d},t.prototype.initSelect=function(e){var r=e.label,i=e.options,o=e.currentValue,a=e.onValueChange,s=this.createManagedBean(new ql);return s.setLabel(this.translate(r)).setLabelAlignment("left").setLabelWidth("flex").setInputWidth("flex").addOptions(i),o!==void 0&&s.setValue(o),s.onValueChange(a),this.dynamicComponents.push(s),s},t.prototype.translate=function(e,r){return this.chartTranslationService.translate(e,r)},t.prototype.destroyDynamicComponents=function(){var e=this;this.dynamicComponents.forEach(function(r){D.removeFromParent(r.getGui()),e.destroyBean(r)}),this.dynamicComponents=[]},t.prototype.destroy=function(){this.destroyDynamicComponents(),n.prototype.destroy.call(this)},t.TEMPLATE=`<div>
            <ag-group-component ref="axisGroup">
                <ag-color-picker ref="axisColorInput"></ag-color-picker>
                <ag-slider ref="axisLineWidthSlider"></ag-slider>
            </ag-group-component>
        </div>`,Cm([$("axisGroup")],t.prototype,"axisGroup",void 0),Cm([$("axisColorInput")],t.prototype,"axisColorInput",void 0),Cm([$("axisLineWidthSlider")],t.prototype,"axisLineWidthSlider",void 0),Cm([E("chartTranslationService")],t.prototype,"chartTranslationService",void 0),Cm([z],t.prototype,"init",null),t}(de),zUe=function(){var n=function(t,e){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])},n(t,e)};return function(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");n(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}}(),mx=function(n,t,e,r){var i=arguments.length,o=i<3?t:r===null?r=Object.getOwnPropertyDescriptor(t,e):r,a;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(n,t,e,r);else for(var s=n.length-1;s>=0;s--)(a=n[s])&&(o=(i<3?a(o):i>3?a(t,e,o):a(t,e))||o);return i>3&&o&&Object.defineProperty(t,e,o),o},KUe=function(n){zUe(t,n);function t(e){var r=e.chartOptionsService,i=e.isExpandedOnInit,o=i===void 0?!1:i,a=n.call(this)||this;return a.chartOptionsService=r,a.isExpandedOnInit=o,a}return t.prototype.init=function(){var e={cssIdentifier:"charts-format-top-level",direction:"vertical"};this.setTemplate(t.TEMPLATE,{navigatorGroup:e}),this.initNavigator()},t.prototype.initNavigator=function(){var e=this,r=this.chartTranslationService;this.navigatorGroup.setTitle(r.translate("navigator")).hideEnabledCheckbox(!1).setEnabled(this.chartOptionsService.getChartOption("navigator.enabled")||!1).onEnableChange(function(o){e.chartOptionsService.setChartOption("navigator.enabled",o),e.navigatorGroup.toggleGroupExpand(!0)}).toggleGroupExpand(this.isExpandedOnInit);var i=this.chartOptionsService.getChartOption("navigator.height");this.navigatorHeightSlider.setLabel(r.translate("height")).setMinValue(10).setMaxValue(Qr(i,60)).setTextFieldWidth(45).setValue("".concat(i||30)).onValueChange(function(o){return e.chartOptionsService.setChartOption("navigator.height",o)})},t.prototype.destroy=function(){n.prototype.destroy.call(this)},t.TEMPLATE=`<div>
            <ag-group-component ref="navigatorGroup">
                <ag-slider ref="navigatorHeightSlider"></ag-slider>
            </ag-group-component>
        </div>`,mx([$("navigatorGroup")],t.prototype,"navigatorGroup",void 0),mx([$("navigatorHeightSlider")],t.prototype,"navigatorHeightSlider",void 0),mx([E("chartTranslationService")],t.prototype,"chartTranslationService",void 0),mx([z],t.prototype,"init",null),t}(de),YUe=function(){var n=function(t,e){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])},n(t,e)};return function(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");n(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}}(),bp=function(n,t,e,r){var i=arguments.length,o=i<3?t:r===null?r=Object.getOwnPropertyDescriptor(t,e):r,a;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(n,t,e,r);else for(var s=n.length-1;s>=0;s--)(a=n[s])&&(o=(i<3?a(o):i>3?a(t,e,o):a(t,e))||o);return i>3&&o&&Object.defineProperty(t,e,o),o},XUe=function(n,t){var e=typeof Symbol=="function"&&n[Symbol.iterator];if(!e)return n;var r=e.call(n),i,o=[],a;try{for(;(t===void 0||t-- >0)&&!(i=r.next()).done;)o.push(i.value)}catch(s){a={error:s}}finally{try{i&&!i.done&&(e=r.return)&&e.call(r)}finally{if(a)throw a.error}}return o},zz=function(n,t,e){if(e||arguments.length===2)for(var r=0,i=t.length,o;r<i;r++)(o||!(r in t))&&(o||(o=Array.prototype.slice.call(t,0,r)),o[r]=t[r]);return n.concat(o||Array.prototype.slice.call(t))},qUe=function(n){YUe(t,n);function t(e,r){var i=n.call(this)||this;return i.chartOptionsService=e,i.chartController=r,i}return t.prototype.init=function(){var e=this,r={cssIdentifier:"charts-format-sub-level",direction:"vertical",suppressOpenCloseIcons:!0};this.setTemplate(t.TEMPLATE,{chartPaddingGroup:r}),this.addManagedListener(this.eventService,P.EVENT_CHART_OPTIONS_CHANGED,function(i){e.updateTopPadding(i.chartOptions)}),this.initGroup(),this.initChartPaddingItems()},t.prototype.initGroup=function(){this.chartPaddingGroup.setTitle(this.chartTranslationService.translate("padding")).hideOpenCloseIcons(!0).hideEnabledCheckbox(!0)},t.prototype.initChartPaddingItems=function(){var e=this,r=function(i,o){var a=e.chartOptionsService.getChartOption("padding."+i);o.setLabel(e.chartTranslationService.translate(i)).setMaxValue(Qr(a,200)).setValue("".concat(a)).setTextFieldWidth(45).onValueChange(function(s){return e.chartOptionsService.setChartOption("padding."+i,s)})};r("top",this.paddingTopSlider),r("right",this.paddingRightSlider),r("bottom",this.paddingBottomSlider),r("left",this.paddingLeftSlider)},t.prototype.updateTopPadding=function(e){var r=zz(zz([],XUe(this.chartController.getChartSeriesTypes()),!1),["common"],!1).map(function(i){var o,a;return(a=(o=e[i])===null||o===void 0?void 0:o.padding)===null||a===void 0?void 0:a.top}).find(function(i){return i!=null});r!=null&&this.paddingTopSlider.setValue(r)},t.TEMPLATE=`<div>
            <ag-group-component ref="chartPaddingGroup">
                <ag-slider ref="paddingTopSlider"></ag-slider>
                <ag-slider ref="paddingRightSlider"></ag-slider>
                <ag-slider ref="paddingBottomSlider"></ag-slider>
                <ag-slider ref="paddingLeftSlider"></ag-slider>
            </ag-group-component>
        <div>`,bp([$("chartPaddingGroup")],t.prototype,"chartPaddingGroup",void 0),bp([$("paddingTopSlider")],t.prototype,"paddingTopSlider",void 0),bp([$("paddingRightSlider")],t.prototype,"paddingRightSlider",void 0),bp([$("paddingBottomSlider")],t.prototype,"paddingBottomSlider",void 0),bp([$("paddingLeftSlider")],t.prototype,"paddingLeftSlider",void 0),bp([E("chartTranslationService")],t.prototype,"chartTranslationService",void 0),bp([z],t.prototype,"init",null),t}(de),ZUe=function(){var n=function(t,e){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])},n(t,e)};return function(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");n(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}}(),Cx=function(n,t,e,r){var i=arguments.length,o=i<3?t:r===null?r=Object.getOwnPropertyDescriptor(t,e):r,a;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(n,t,e,r);else for(var s=n.length-1;s>=0;s--)(a=n[s])&&(o=(i<3?a(o):i>3?a(t,e,o):a(t,e))||o);return i>3&&o&&Object.defineProperty(t,e,o),o},QUe=function(n){ZUe(t,n);function t(e){var r=n.call(this)||this;return r.chartOptionsService=e,r}return t.prototype.init=function(){var e={cssIdentifier:"charts-format-sub-level",direction:"vertical",suppressOpenCloseIcons:!0};this.setTemplate(t.TEMPLATE,{chartBackgroundGroup:e}),this.initGroup(),this.initColorPicker()},t.prototype.initGroup=function(){var e=this;this.group.setTitle(this.chartTranslationService.translate("background")).setEnabled(this.chartOptionsService.getChartOption("background.visible")).hideOpenCloseIcons(!0).hideEnabledCheckbox(!1).onEnableChange(function(r){return e.chartOptionsService.setChartOption("background.visible",r)})},t.prototype.initColorPicker=function(){var e=this;this.colorPicker.setLabel(this.chartTranslationService.translate("color")).setLabelWidth("flex").setInputWidth("flex").setValue(this.chartOptionsService.getChartOption("background.fill")).onValueChange(function(r){return e.chartOptionsService.setChartOption("background.fill",r)})},t.TEMPLATE=`<div>
            <ag-group-component ref="chartBackgroundGroup">
                <ag-color-picker ref="colorPicker"></ag-color-picker>
            </ag-group-component>
        <div>`,Cx([$("chartBackgroundGroup")],t.prototype,"group",void 0),Cx([$("colorPicker")],t.prototype,"colorPicker",void 0),Cx([E("chartTranslationService")],t.prototype,"chartTranslationService",void 0),Cx([z],t.prototype,"init",null),t}(de),JUe=function(){var n=function(t,e){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])},n(t,e)};return function(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");n(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}}(),Kz=function(n,t,e,r){var i=arguments.length,o=i<3?t:r===null?r=Object.getOwnPropertyDescriptor(t,e):r,a;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(n,t,e,r);else for(var s=n.length-1;s>=0;s--)(a=n[s])&&(o=(i<3?a(o):i>3?a(t,e,o):a(t,e))||o);return i>3&&o&&Object.defineProperty(t,e,o),o},eze=function(n){JUe(t,n);function t(e){var r=n.call(this,t.TEMPLATE)||this;return r.chartOptionsService=e,r.activePanels=[],r}return t.prototype.init=function(){this.initFontPanel(),this.titlePlaceholder=this.chartTranslationService.translate("titlePlaceholder")},t.prototype.hasTitle=function(){var e=this.getOption("title");return e&&e.enabled&&e.text&&e.text.length>0},t.prototype.initFontPanel=function(){var e=this,r=this.hasTitle(),i=function(l,u){l.family&&e.setOption("title.fontFamily",l.family,u),l.weight&&e.setOption("title.fontWeight",l.weight,u),l.style&&e.setOption("title.fontStyle",l.style,u),l.size&&e.setOption("title.fontSize",l.size,u),l.color&&e.setOption("title.color",l.color,u)},o={family:this.getOption("title.fontFamily"),style:this.getOption("title.fontStyle"),weight:this.getOption("title.fontWeight"),size:this.getOption("title.fontSize"),color:this.getOption("title.color")};r||i(o,!0);var a={name:this.chartTranslationService.translate("title"),enabled:r,suppressEnabledCheckbox:!1,initialFont:o,setFont:i,setEnabled:function(l){if(e.toolbarExists()){var u=e.getOption("padding.top");e.setOption("padding.top",l?u-20:u+20)}e.setOption("title.enabled",l);var c=e.getOption("title.text"),d=c==="Title"||(c==null?void 0:c.trim().length)===0;l&&d&&e.setOption("title.text",e.titlePlaceholder)}},s=this.createBean(new Wd(a));s.addItemToPanel(this.createSpacingSlicer()),this.getGui().appendChild(s.getGui()),this.activePanels.push(s),this.addManagedListener(this.eventService,"chartTitleEdit",function(){s.setEnabled(e.hasTitle())})},t.prototype.createSpacingSlicer=function(){var e=this,r=this.createBean(new Wo),i=this.chartOptionsService.getChartOption("title.spacing")||10;return r.setLabel(this.chartTranslationService.translate("spacing")).setMaxValue(Math.max(i,100)).setValue("".concat(i)).setTextFieldWidth(45).onValueChange(function(o){return e.chartOptionsService.setChartOption("title.spacing",o)}),r},t.prototype.toolbarExists=function(){var e=this.gridOptionsService.getCallback("getChartToolbarItems");if(!e)return!0;var r={defaultItems:["chartUnlink","chartDownload"]},i=["chartLink","chartUnlink","chartDownload"];return i.some(function(o){var a;return(a=e&&e(r))===null||a===void 0?void 0:a.includes(o)})},t.prototype.getOption=function(e){return this.chartOptionsService.getChartOption(e)},t.prototype.setOption=function(e,r,i){this.chartOptionsService.setChartOption(e,r,i)},t.prototype.destroyActivePanels=function(){var e=this;this.activePanels.forEach(function(r){D.removeFromParent(r.getGui()),e.destroyBean(r)})},t.prototype.destroy=function(){this.destroyActivePanels(),n.prototype.destroy.call(this)},t.TEMPLATE="<div></div>",Kz([E("chartTranslationService")],t.prototype,"chartTranslationService",void 0),Kz([z],t.prototype,"init",null),t}(de),tze=function(){var n=function(t,e){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])},n(t,e)};return function(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");n(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}}(),yM=function(n,t,e,r){var i=arguments.length,o=i<3?t:r===null?r=Object.getOwnPropertyDescriptor(t,e):r,a;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(n,t,e,r);else for(var s=n.length-1;s>=0;s--)(a=n[s])&&(o=(i<3?a(o):i>3?a(t,e,o):a(t,e))||o);return i>3&&o&&Object.defineProperty(t,e,o),o},rze=function(n){tze(t,n);function t(e){var r=e.chartController,i=e.chartOptionsService,o=e.isExpandedOnInit,a=o===void 0?!1:o,s=n.call(this)||this;return s.activePanels=[],s.chartController=r,s.chartOptionsService=i,s.isExpandedOnInit=a,s}return t.prototype.init=function(){var e={cssIdentifier:"charts-format-top-level",direction:"vertical"};this.setTemplate(t.TEMPLATE,{chartGroup:e}),this.initGroup(),this.initTitles(),this.initPaddingPanel(),this.initBackgroundPanel()},t.prototype.initGroup=function(){this.chartGroup.setTitle(this.chartTranslationService.translate("chart")).toggleGroupExpand(this.isExpandedOnInit).hideEnabledCheckbox(!0)},t.prototype.initTitles=function(){var e=this.createBean(new eze(this.chartOptionsService));this.chartGroup.addItem(e),this.activePanels.push(e)},t.prototype.initPaddingPanel=function(){var e=this.createBean(new qUe(this.chartOptionsService,this.chartController));this.chartGroup.addItem(e),this.activePanels.push(e)},t.prototype.initBackgroundPanel=function(){var e=this.createBean(new QUe(this.chartOptionsService));this.chartGroup.addItem(e),this.activePanels.push(e)},t.prototype.destroyActivePanels=function(){var e=this;this.activePanels.forEach(function(r){D.removeFromParent(r.getGui()),e.destroyBean(r)})},t.prototype.destroy=function(){this.destroyActivePanels(),n.prototype.destroy.call(this)},t.TEMPLATE=`<div>
            <ag-group-component ref="chartGroup"></ag-group-component>
        </div>`,yM([$("chartGroup")],t.prototype,"chartGroup",void 0),yM([E("chartTranslationService")],t.prototype,"chartTranslationService",void 0),yM([z],t.prototype,"init",null),t}(de),nze=function(){var n=function(t,e){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])},n(t,e)};return function(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");n(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}}(),Op=function(n,t,e,r){var i=arguments.length,o=i<3?t:r===null?r=Object.getOwnPropertyDescriptor(t,e):r,a;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(n,t,e,r);else for(var s=n.length-1;s>=0;s--)(a=n[s])&&(o=(i<3?a(o):i>3?a(t,e,o):a(t,e))||o);return i>3&&o&&Object.defineProperty(t,e,o),o},ize=function(n){nze(t,n);function t(e,r,i){i===void 0&&(i="shadow");var o=n.call(this)||this;return o.chartOptionsService=e,o.getSelectedSeries=r,o.propertyKey=i,o}return t.prototype.init=function(){var e={cssIdentifier:"charts-format-sub-level",direction:"vertical",suppressOpenCloseIcons:!0};this.setTemplate(t.TEMPLATE,{shadowGroup:e}),this.shadowBlurSlider.setTextFieldWidth(45),this.shadowXOffsetSlider.setTextFieldWidth(45),this.shadowYOffsetSlider.setTextFieldWidth(45),this.initSeriesShadow()},t.prototype.initSeriesShadow=function(){var e=this,r=this.propertyKey;this.shadowGroup.setTitle(this.chartTranslationService.translate("shadow")).setEnabled(this.chartOptionsService.getSeriesOption("".concat(r,".enabled"),this.getSelectedSeries())).hideOpenCloseIcons(!0).hideEnabledCheckbox(!1).onEnableChange(function(o){return e.chartOptionsService.setSeriesOption("".concat(r,".enabled"),o,e.getSelectedSeries())}),this.shadowColorPicker.setLabel(this.chartTranslationService.translate("color")).setLabelWidth("flex").setInputWidth("flex").setValue(this.chartOptionsService.getSeriesOption("".concat(r,".color"),this.getSelectedSeries())).onValueChange(function(o){return e.chartOptionsService.setSeriesOption("".concat(r,".color"),o,e.getSelectedSeries())});var i=function(o,a,s,l){var u=e.chartOptionsService.getSeriesOption("".concat(r,".").concat(a),e.getSelectedSeries());o.setLabel(e.chartTranslationService.translate(a)).setMinValue(s).setMaxValue(Qr(u,l)).setValue("".concat(u)).onValueChange(function(c){return e.chartOptionsService.setSeriesOption("".concat(r,".").concat(a),c,e.getSelectedSeries())})};i(this.shadowBlurSlider,"blur",0,20),i(this.shadowXOffsetSlider,"xOffset",-10,10),i(this.shadowYOffsetSlider,"yOffset",-10,10)},t.TEMPLATE=`<div>
            <ag-group-component ref="shadowGroup">
                <ag-color-picker ref="shadowColorPicker"></ag-color-picker>
                <ag-slider ref="shadowBlurSlider"></ag-slider>
                <ag-slider ref="shadowXOffsetSlider"></ag-slider>
                <ag-slider ref="shadowYOffsetSlider"></ag-slider>
            </ag-group-component>
        </div>`,Op([$("shadowGroup")],t.prototype,"shadowGroup",void 0),Op([$("shadowColorPicker")],t.prototype,"shadowColorPicker",void 0),Op([$("shadowBlurSlider")],t.prototype,"shadowBlurSlider",void 0),Op([$("shadowXOffsetSlider")],t.prototype,"shadowXOffsetSlider",void 0),Op([$("shadowYOffsetSlider")],t.prototype,"shadowYOffsetSlider",void 0),Op([E("chartTranslationService")],t.prototype,"chartTranslationService",void 0),Op([z],t.prototype,"init",null),t}(de);function zI(n){var t=n.labelName,e=n.chartOptionsService,r=n.getSelectedSeries,i=n.seriesOptionLabelProperty,o=function(d){return"".concat(i,".").concat(d)},a=function(d){var p=o(d);return e.getSeriesOption(p,r())},s=function(d,p){var h=o(d);e.setSeriesOption(h,p,r())},l={family:a("fontFamily"),style:a("fontStyle"),weight:a("fontWeight"),size:a("fontSize"),color:a("color")},u=function(d){d.family&&s("fontFamily",d.family),d.weight&&s("fontWeight",d.weight),d.style&&s("fontStyle",d.style),d.size&&s("fontSize",d.size),d.color&&s("color",d.color)},c={name:t,enabled:a("enabled")||!1,setEnabled:function(d){return s("enabled",d)},suppressEnabledCheckbox:!1,initialFont:l,setFont:u};return c}var oze=function(){var n=function(t,e){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])},n(t,e)};return function(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");n(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}}(),Rp=function(n,t,e,r){var i=arguments.length,o=i<3?t:r===null?r=Object.getOwnPropertyDescriptor(t,e):r,a;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(n,t,e,r);else for(var s=n.length-1;s>=0;s--)(a=n[s])&&(o=(i<3?a(o):i>3?a(t,e,o):a(t,e))||o);return i>3&&o&&Object.defineProperty(t,e,o),o},aze=function(n){oze(t,n);function t(e,r){var i=n.call(this)||this;return i.chartOptionsService=e,i.getSelectedSeries=r,i}return t.prototype.init=function(){var e={cssIdentifier:"charts-format-sub-level",direction:"vertical"};this.setTemplate(t.TEMPLATE,{seriesMarkersGroup:e}),this.initMarkers()},t.prototype.initMarkers=function(){var e=this,r=[{value:"square",text:"Square"},{value:"circle",text:"Circle"},{value:"cross",text:"Cross"},{value:"diamond",text:"Diamond"},{value:"plus",text:"Plus"},{value:"triangle",text:"Triangle"},{value:"heart",text:"Heart"}];this.seriesMarkerShapeSelect.addOptions(r).setLabel(this.chartTranslationService.translate("shape")).setValue(this.getSeriesOption("marker.shape")).onValueChange(function(s){return e.setSeriesOption("marker.shape",s)});var i=this.chartOptionsService.getChartType(),o=D.includes(["scatter","bubble"],i);this.seriesMarkersGroup.setTitle(this.chartTranslationService.translate("markers")).hideEnabledCheckbox(o).setEnabled(this.getSeriesOption("marker.enabled")||!1).hideOpenCloseIcons(!0).onEnableChange(function(s){return e.setSeriesOption("marker.enabled",s)});var a=function(s,l,u,c){var d=e.getSeriesOption(s);l.setLabel(e.chartTranslationService.translate(u)).setMaxValue(Qr(d,c)).setValue("".concat(d)).setTextFieldWidth(45).onValueChange(function(p){return e.setSeriesOption(s,p)})};i==="bubble"?(a("marker.maxSize",this.seriesMarkerMinSizeSlider,"maxSize",60),a("marker.size",this.seriesMarkerSizeSlider,"minSize",60)):(this.seriesMarkerMinSizeSlider.setDisplayed(!1),a("marker.size",this.seriesMarkerSizeSlider,"size",60)),a("marker.strokeWidth",this.seriesMarkerStrokeWidthSlider,"strokeWidth",10)},t.prototype.getSeriesOption=function(e){return this.chartOptionsService.getSeriesOption(e,this.getSelectedSeries())},t.prototype.setSeriesOption=function(e,r){this.chartOptionsService.setSeriesOption(e,r,this.getSelectedSeries())},t.TEMPLATE=`<div>
            <ag-group-component ref="seriesMarkersGroup">
                <ag-select ref="seriesMarkerShapeSelect"></ag-select>
                <ag-slider ref="seriesMarkerMinSizeSlider"></ag-slider>
                <ag-slider ref="seriesMarkerSizeSlider"></ag-slider>
                <ag-slider ref="seriesMarkerStrokeWidthSlider"></ag-slider>
            </ag-group-component>
        </div>`,Rp([$("seriesMarkersGroup")],t.prototype,"seriesMarkersGroup",void 0),Rp([$("seriesMarkerShapeSelect")],t.prototype,"seriesMarkerShapeSelect",void 0),Rp([$("seriesMarkerSizeSlider")],t.prototype,"seriesMarkerSizeSlider",void 0),Rp([$("seriesMarkerMinSizeSlider")],t.prototype,"seriesMarkerMinSizeSlider",void 0),Rp([$("seriesMarkerStrokeWidthSlider")],t.prototype,"seriesMarkerStrokeWidthSlider",void 0),Rp([E("chartTranslationService")],t.prototype,"chartTranslationService",void 0),Rp([z],t.prototype,"init",null),t}(de),sze=function(){var n=function(t,e){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])},n(t,e)};return function(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");n(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}}(),yu=function(n,t,e,r){var i=arguments.length,o=i<3?t:r===null?r=Object.getOwnPropertyDescriptor(t,e):r,a;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(n,t,e,r);else for(var s=n.length-1;s>=0;s--)(a=n[s])&&(o=(i<3?a(o):i>3?a(t,e,o):a(t,e))||o);return i>3&&o&&Object.defineProperty(t,e,o),o},lze=function(n,t){var e=typeof Symbol=="function"&&n[Symbol.iterator];if(!e)return n;var r=e.call(n),i,o=[],a;try{for(;(t===void 0||t-- >0)&&!(i=r.next()).done;)o.push(i.value)}catch(s){a={error:s}}finally{try{i&&!i.done&&(e=r.return)&&e.call(r)}finally{if(a)throw a.error}}return o},uze=function(n){sze(t,n);function t(e){var r=n.call(this,t.TEMPLATE)||this;return r.H=1,r.S=1,r.B=1,r.A=1,r.isSpectrumDragging=!1,r.isSpectrumHueDragging=!1,r.isSpectrumAlphaDragging=!1,r.colorChanged=!1,r.picker=e.picker,r}return t.prototype.postConstruct=function(){var e=this;this.initTabIndex(),this.initRecentColors(),this.addGuiEventListener("focus",function(){return e.spectrumColor.focus()}),this.addGuiEventListener("keydown",function(r){r.key===U.ENTER&&!r.defaultPrevented&&e.destroy()}),this.addManagedListener(this.spectrumColor,"keydown",function(r){return e.moveDragger(r)}),this.addManagedListener(this.spectrumAlphaSlider,"keydown",function(r){return e.moveAlphaSlider(r)}),this.addManagedListener(this.spectrumHueSlider,"keydown",function(r){return e.moveHueSlider(r)}),this.addManagedListener(this.spectrumVal,"mousedown",this.onSpectrumDraggerDown.bind(this)),this.addManagedListener(this.spectrumHue,"mousedown",this.onSpectrumHueDown.bind(this)),this.addManagedListener(this.spectrumAlpha,"mousedown",this.onSpectrumAlphaDown.bind(this)),this.addGuiEventListener("mousemove",function(r){e.onSpectrumDraggerMove(r),e.onSpectrumHueMove(r),e.onSpectrumAlphaMove(r)}),this.addManagedListener(document,"mouseup",this.onMouseUp.bind(this)),this.addManagedListener(this.recentColors,"click",this.onRecentColorClick.bind(this)),this.addManagedListener(this.recentColors,"keydown",function(r){(r.key===U.ENTER||r.key===U.SPACE)&&(r.preventDefault(),e.onRecentColorClick(r))})},t.prototype.initTabIndex=function(){var e=this.tabIndex=this.gridOptionsService.get("tabIndex").toString();this.spectrumColor.setAttribute("tabindex",e),this.spectrumHueSlider.setAttribute("tabindex",e),this.spectrumAlphaSlider.setAttribute("tabindex",e)},t.prototype.refreshSpectrumRect=function(){return this.spectrumValRect=this.spectrumVal.getBoundingClientRect()},t.prototype.refreshHueRect=function(){return this.spectrumHueRect=this.spectrumHue.getBoundingClientRect()},t.prototype.refreshAlphaRect=function(){return this.spectrumAlphaRect=this.spectrumAlpha.getBoundingClientRect()},t.prototype.onSpectrumDraggerDown=function(e){this.refreshSpectrumRect(),this.isSpectrumDragging=!0,this.moveDragger(e)},t.prototype.onSpectrumDraggerMove=function(e){this.isSpectrumDragging&&this.moveDragger(e)},t.prototype.onSpectrumHueDown=function(e){this.refreshHueRect(),this.isSpectrumHueDragging=!0,this.moveHueSlider(e)},t.prototype.onSpectrumHueMove=function(e){this.isSpectrumHueDragging&&this.moveHueSlider(e)},t.prototype.onSpectrumAlphaDown=function(e){this.refreshAlphaRect(),this.isSpectrumAlphaDragging=!0,this.moveAlphaSlider(e)},t.prototype.onSpectrumAlphaMove=function(e){this.isSpectrumAlphaDragging&&this.moveAlphaSlider(e)},t.prototype.onMouseUp=function(){this.isSpectrumDragging=!1,this.isSpectrumHueDragging=!1,this.isSpectrumAlphaDragging=!1},t.prototype.moveDragger=function(e){var r=this.spectrumValRect;if(r){var i,o;if(e instanceof MouseEvent)i=e.clientX-r.left,o=e.clientY-r.top;else{var a=e.key===U.LEFT,s=e.key===U.RIGHT,l=e.key===U.UP,u=e.key===U.DOWN,c=l||u,d=a||s;if(!c&&!d)return;e.preventDefault();var p=this.getSpectrumValue(),h=p.x,f=p.y;i=h+(d?a?-5:5:0),o=f+(c?l?-5:5:0)}i=Math.max(i,0),i=Math.min(i,r.width),o=Math.max(o,0),o=Math.min(o,r.height),this.setSpectrumValue(i/r.width,1-o/r.height)}},t.prototype.moveHueSlider=function(e){var r=this.spectrumHueRect;if(r){var i=this.moveSlider(this.spectrumHueSlider,e);i!=null&&(this.H=1-i/r.width,this.update())}},t.prototype.moveAlphaSlider=function(e){var r=this.spectrumAlphaRect;if(r){var i=this.moveSlider(this.spectrumAlphaSlider,e);i!=null&&(this.A=i/r.width,this.update())}},t.prototype.moveSlider=function(e,r){var i,o=e.getBoundingClientRect(),a=(i=e.parentElement)===null||i===void 0?void 0:i.getBoundingClientRect();if(!e||!a)return null;var s;if(r instanceof MouseEvent)s=r.clientX-a.left;else{var l=r.key===U.LEFT,u=r.key===U.RIGHT;if(!l&&!u)return null;r.preventDefault();var c=l?-5:5;s=parseFloat(e.style.left)-o.width/2+c}return s=Math.max(s,0),s=Math.min(s,a.width),e.style.left=s+o.width/2+"px",s},t.prototype.update=function(){var e=xr.Color.fromHSB(this.H*360,this.S,this.B,this.A),r=xr.Color.fromHSB(this.H*360,1,1),i=e.toRgbaString(),o=this.picker,a=xr.Color.fromString(o.getValue());a.toRgbaString()!==i&&(this.colorChanged=!0),o.setValue(i),this.spectrumColor.style.backgroundColor=r.toRgbaString(),this.spectrumDragger.style.backgroundColor=i},t.prototype.setSpectrumValue=function(e,r){var i=this.spectrumValRect||this.refreshSpectrumRect();if(i!=null){var o=this.spectrumDragger,a=o.getBoundingClientRect();e=Math.max(0,e),e=Math.min(1,e),r=Math.max(0,r),r=Math.min(1,r),this.S=e,this.B=r,o.style.left=e*i.width-a.width/2+"px",o.style.top=(1-r)*i.height-a.height/2+"px",this.update()}},t.prototype.getSpectrumValue=function(){var e=this.spectrumDragger,r=e.getBoundingClientRect(),i=parseFloat(e.style.left)+r.width/2,o=parseFloat(e.style.top)+r.height/2;return{x:i,y:o}},t.prototype.initRecentColors=function(){var e=this,r=t.recentColors,i=r.map(function(o,a){return'<div class="ag-recent-color" id='.concat(a,' style="background-color: ').concat(o,'; width: 15px; height: 15px;" recent-color="').concat(o,'" tabIndex="').concat(e.tabIndex,'"></div>')});this.recentColors.innerHTML=i.join("")},t.prototype.setValue=function(e){var r=xr.Color.fromString(e),i=lze(r.toHSB(),3),o=i[0],a=i[1],s=i[2];this.H=(isNaN(o)?0:o)/360,this.A=r.a;var l=this.spectrumHueRect||this.refreshHueRect(),u=this.spectrumAlphaRect||this.refreshAlphaRect();this.spectrumHueSlider.style.left="".concat((this.H-1)*-l.width,"px"),this.spectrumAlphaSlider.style.left="".concat(this.A*u.width,"px"),this.setSpectrumValue(a,s)},t.prototype.onRecentColorClick=function(e){var r=e.target;if(D.exists(r.id)){var i=parseInt(r.id,10);this.setValue(t.recentColors[i]),this.destroy()}},t.prototype.addRecentColor=function(){var e=xr.Color.fromHSB(this.H*360,this.S,this.B,this.A),r=e.toRgbaString(),i=t.recentColors;!this.colorChanged||i[0]===r||(i=i.filter(function(o){return o!=r}),i=[r].concat(i),i.length>t.maxRecentColors&&(i=i.slice(0,t.maxRecentColors)),t.recentColors=i)},t.prototype.destroy=function(){this.addRecentColor(),n.prototype.destroy.call(this)},t.maxRecentColors=8,t.recentColors=[],t.TEMPLATE=`<div class="ag-color-panel" tabindex="-1">
            <div ref="spectrumColor" class="ag-spectrum-color">
                <div class="ag-spectrum-sat ag-spectrum-fill">
                    <div ref="spectrumVal" class="ag-spectrum-val ag-spectrum-fill">
                        <div ref="spectrumDragger" class="ag-spectrum-dragger"></div>
                    </div>
                </div>
            </div>
            <div class="ag-spectrum-tools">
                <div ref="spectrumHue" class="ag-spectrum-hue ag-spectrum-tool">
                    <div class="ag-spectrum-hue-background"></div>
                    <div ref="spectrumHueSlider" class="ag-spectrum-slider"></div>
                </div>
                <div ref="spectrumAlpha" class="ag-spectrum-alpha ag-spectrum-tool">
                    <div class="ag-spectrum-alpha-background"></div>
                    <div ref="spectrumAlphaSlider" class="ag-spectrum-slider"></div>
                </div>
                <div ref="recentColors" class="ag-recent-colors"></div>
            </div>
        </div>`,yu([$("spectrumColor")],t.prototype,"spectrumColor",void 0),yu([$("spectrumVal")],t.prototype,"spectrumVal",void 0),yu([$("spectrumDragger")],t.prototype,"spectrumDragger",void 0),yu([$("spectrumHue")],t.prototype,"spectrumHue",void 0),yu([$("spectrumHueSlider")],t.prototype,"spectrumHueSlider",void 0),yu([$("spectrumAlpha")],t.prototype,"spectrumAlpha",void 0),yu([$("spectrumAlphaSlider")],t.prototype,"spectrumAlphaSlider",void 0),yu([$("recentColors")],t.prototype,"recentColors",void 0),yu([z],t.prototype,"postConstruct",null),t}(de),cze=function(){var n=function(t,e){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])},n(t,e)};return function(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");n(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}}(),KI=function(){return KI=Object.assign||function(n){for(var t,e=1,r=arguments.length;e<r;e++){t=arguments[e];for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(n[i]=t[i])}return n},KI.apply(this,arguments)},$te=function(n){cze(t,n);function t(e){var r=n.call(this,KI({pickerAriaLabelKey:"ariaLabelColorPicker",pickerAriaLabelValue:"Color Picker",pickerType:"ag-list",className:"ag-color-picker",pickerIcon:"colorPicker"},e))||this;return e&&e.color&&(r.value=e.color),r}return t.prototype.postConstruct=function(){n.prototype.postConstruct.call(this),this.value&&this.setValue(this.value)},t.prototype.createPickerComponent=function(){var e=this.getGui().getBoundingClientRect(),r=this.createBean(new zh({closable:!1,modal:!0,hideTitleBar:!0,minWidth:190,width:190,height:250,x:e.right-190,y:e.top-250}));return r},t.prototype.renderAndPositionPicker=function(){var e=this,r=this.pickerComponent,i=this.createBean(new uze({picker:this}));return r.addCssClass("ag-color-dialog"),i.addDestroyFunc(function(){r.isAlive()&&e.destroyBean(r)}),r.setParentComponent(this),r.setBodyComponent(i),i.setValue(this.getValue()),i.getGui().focus(),r.addDestroyFunc(function(){e.isDestroyingPicker?e.isDestroyingPicker=!1:(e.beforeHidePicker(),e.isDestroyingPicker=!0,i.isAlive()&&e.destroyBean(i),e.isAlive()&&e.getFocusableElement().focus())}),function(){var o;return(o=e.pickerComponent)===null||o===void 0?void 0:o.close()}},t.prototype.setValue=function(e){return this.value===e?this:(this.eDisplayField.style.backgroundColor=e,n.prototype.setValue.call(this,e))},t.prototype.getValue=function(){return this.value},t}(OT),dze=function(){var n=function(t,e){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])},n(t,e)};return function(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");n(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}}(),$f=function(n,t,e,r){var i=arguments.length,o=i<3?t:r===null?r=Object.getOwnPropertyDescriptor(t,e):r,a;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(n,t,e,r);else for(var s=n.length-1;s>=0;s--)(a=n[s])&&(o=(i<3?a(o):i>3?a(t,e,o):a(t,e))||o);return i>3&&o&&Object.defineProperty(t,e,o),o},pze=function(n){dze(t,n);function t(e,r){var i=n.call(this)||this;return i.chartOptionsService=e,i.getSelectedSeries=r,i}return t.prototype.init=function(){var e={cssIdentifier:"charts-format-sub-level",direction:"vertical"};this.setTemplate(t.TEMPLATE,{calloutGroup:e}),this.initCalloutOptions()},t.prototype.initCalloutOptions=function(){var e=this;this.calloutGroup.setTitle(this.chartTranslationService.translate("callout")).setEnabled(!0).hideOpenCloseIcons(!0).hideEnabledCheckbox(!0);var r=function(i,o,a,s){var l=e.chartOptionsService.getSeriesOption(i,e.getSelectedSeries());o.setLabel(e.chartTranslationService.translate(a)).setMaxValue(Qr(l,s)).setValue("".concat(l)).setTextFieldWidth(45).onValueChange(function(u){return e.chartOptionsService.setSeriesOption(i,u,e.getSelectedSeries())})};r("calloutLine.length",this.calloutLengthSlider,"length",40),r("calloutLine.strokeWidth",this.calloutStrokeWidthSlider,"strokeWidth",10),r("calloutLabel.offset",this.labelOffsetSlider,"offset",30)},t.TEMPLATE=`<div>
            <ag-group-component ref="calloutGroup">
                <ag-slider ref="calloutLengthSlider"></ag-slider>
                <ag-slider ref="calloutStrokeWidthSlider"></ag-slider>
                <ag-slider ref="labelOffsetSlider"></ag-slider>
            </ag-group-component>
        </div>`,$f([$("calloutGroup")],t.prototype,"calloutGroup",void 0),$f([$("calloutLengthSlider")],t.prototype,"calloutLengthSlider",void 0),$f([$("calloutStrokeWidthSlider")],t.prototype,"calloutStrokeWidthSlider",void 0),$f([$("labelOffsetSlider")],t.prototype,"labelOffsetSlider",void 0),$f([E("chartTranslationService")],t.prototype,"chartTranslationService",void 0),$f([z],t.prototype,"init",null),t}(de),hze=function(){var n=function(t,e){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])},n(t,e)};return function(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");n(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}}(),Sx=function(n,t,e,r){var i=arguments.length,o=i<3?t:r===null?r=Object.getOwnPropertyDescriptor(t,e):r,a;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(n,t,e,r);else for(var s=n.length-1;s>=0;s--)(a=n[s])&&(o=(i<3?a(o):i>3?a(t,e,o):a(t,e))||o);return i>3&&o&&Object.defineProperty(t,e,o),o},fze=function(n){hze(t,n);function t(e,r){var i=n.call(this)||this;return i.chartOptionsService=e,i.getSelectedSeries=r,i}return t.prototype.init=function(){var e={cssIdentifier:"charts-format-sub-level",direction:"vertical",title:this.chartTranslationService.translate("cap"),enabled:!0,suppressOpenCloseIcons:!0,suppressEnabledCheckbox:!0};this.setTemplate(t.TEMPLATE,{capsGroup:e}),this.initControls()},t.prototype.initControls=function(){var e=this,r=this.chartOptionsService.getSeriesOption("cap.lengthRatio",this.getSelectedSeries());this.capLengthRatioSlider.setLabel(this.chartTranslationService.translate("capLengthRatio")).setStep(.05).setMinValue(0).setMaxValue(1).setTextFieldWidth(45).setValue("".concat(r)).onValueChange(function(i){return e.chartOptionsService.setSeriesOption("cap.lengthRatio",i,e.getSelectedSeries())})},t.TEMPLATE=`<div>
            <ag-group-component ref="capsGroup">
                <ag-slider ref="capLengthRatioSlider"></ag-slider>
            </ag-group-component>
        </div>`,Sx([$("capsGroup")],t.prototype,"capsGroup",void 0),Sx([$("capLengthRatioSlider")],t.prototype,"capLengthRatioSlider",void 0),Sx([E("chartTranslationService")],t.prototype,"chartTranslationService",void 0),Sx([z],t.prototype,"init",null),t}(de),vze=function(){var n=function(t,e){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])},n(t,e)};return function(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");n(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}}(),Wf=function(n,t,e,r){var i=arguments.length,o=i<3?t:r===null?r=Object.getOwnPropertyDescriptor(t,e):r,a;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(n,t,e,r);else for(var s=n.length-1;s>=0;s--)(a=n[s])&&(o=(i<3?a(o):i>3?a(t,e,o):a(t,e))||o);return i>3&&o&&Object.defineProperty(t,e,o),o},gze=function(n){vze(t,n);function t(e,r){var i=n.call(this)||this;return i.chartOptionsService=e,i.getSelectedSeries=r,i}return t.prototype.init=function(){var e={cssIdentifier:"charts-format-sub-level",direction:"vertical",title:this.chartTranslationService.translate("connectorLine"),enabled:!0,suppressOpenCloseIcons:!0,suppressEnabledCheckbox:!0};this.setTemplate(t.TEMPLATE,{lineGroup:e}),this.initConnectorLineControls()},t.prototype.initConnectorLineControls=function(){this.initColorPicker(this.lineColorPicker,"color","line.stroke"),this.initSlider(this.lineStrokeWidthSlider,"strokeWidth",0,10,45,"line.strokeWidth"),this.initSlider(this.lineDashSlider,"lineDash",0,30,45,"line.lineDash",1,!0),this.initSlider(this.lineOpacitySlider,"strokeOpacity",0,1,45,"line.strokeOpacity",.05,!1)},t.prototype.initColorPicker=function(e,r,i){var o=this,a=this.chartOptionsService.getSeriesOption(i,this.getSelectedSeries());e.setLabel(this.chartTranslationService.translate(r)).setLabelWidth("flex").setValue(a==null?"transparent":"".concat(a)).onValueChange(function(s){return o.chartOptionsService.setSeriesOption(i,s,o.getSelectedSeries())})},t.prototype.initSlider=function(e,r,i,o,a,s,l,u){var c=this;l===void 0&&(l=1),u===void 0&&(u=!1);var d=this.chartOptionsService.getSeriesOption(s,this.getSelectedSeries());e.setLabel(this.chartTranslationService.translate(r)).setMinValue(i).setMaxValue(o).setTextFieldWidth(a).setValue("".concat(d)).setStep(l).onValueChange(function(p){var h=u?[p]:p;c.chartOptionsService.setSeriesOption(s,h,c.getSelectedSeries())})},t.TEMPLATE=`<div>
            <ag-group-component ref="lineGroup">
                <ag-color-picker ref="lineColorPicker"></ag-color-picker>
                <ag-slider ref="lineStrokeWidthSlider"></ag-slider>
                <ag-slider ref="lineOpacitySlider"></ag-slider>
                <ag-slider ref="lineDashSlider"></ag-slider>                
            </ag-group-component>
        </div>`,Wf([$("lineColorPicker")],t.prototype,"lineColorPicker",void 0),Wf([$("lineStrokeWidthSlider")],t.prototype,"lineStrokeWidthSlider",void 0),Wf([$("lineOpacitySlider")],t.prototype,"lineOpacitySlider",void 0),Wf([$("lineDashSlider")],t.prototype,"lineDashSlider",void 0),Wf([E("chartTranslationService")],t.prototype,"chartTranslationService",void 0),Wf([z],t.prototype,"init",null),t}(de),yze=function(){var n=function(t,e){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])},n(t,e)};return function(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");n(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}}(),jc=function(n,t,e,r){var i=arguments.length,o=i<3?t:r===null?r=Object.getOwnPropertyDescriptor(t,e):r,a;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(n,t,e,r);else for(var s=n.length-1;s>=0;s--)(a=n[s])&&(o=(i<3?a(o):i>3?a(t,e,o):a(t,e))||o);return i>3&&o&&Object.defineProperty(t,e,o),o},mze=function(n){yze(t,n);function t(e,r){var i=n.call(this)||this;return i.chartOptionsService=e,i.getSelectedSeries=r,i}return t.prototype.init=function(){var e={cssIdentifier:"charts-format-sub-level",direction:"vertical",title:this.chartTranslationService.translate("whisker"),enabled:!0,suppressOpenCloseIcons:!0,suppressEnabledCheckbox:!0};this.setTemplate(t.TEMPLATE,{whiskersGroup:e}),this.initControls()},t.prototype.initControls=function(){var e=this,r=this.chartOptionsService.getSeriesOption("whisker.stroke",this.getSelectedSeries());this.whiskerColorPicker.setLabel(this.chartTranslationService.translate("color")).setLabelWidth("flex").setValue(r==null?"transparent":"".concat(r)).onValueChange(function(l){return e.chartOptionsService.setSeriesOption("whisker.stroke",l,e.getSelectedSeries())});var i=this.chartOptionsService.getSeriesOption("whisker.strokeWidth",this.getSelectedSeries());this.whiskerThicknessSlider.setLabel(this.chartTranslationService.translate("strokeWidth")).setMinValue(0).setMaxValue(10).setTextFieldWidth(45).setValue("".concat(i)).onValueChange(function(l){return e.chartOptionsService.setSeriesOption("whisker.strokeWidth",l,e.getSelectedSeries())});var o=this.chartOptionsService.getSeriesOption("whisker.strokeOpacity",this.getSelectedSeries());this.whiskerOpacitySlider.setLabel(this.chartTranslationService.translate("strokeOpacity")).setStep(.05).setMinValue(0).setMaxValue(1).setTextFieldWidth(45).setValue("".concat(o)).onValueChange(function(l){return e.chartOptionsService.setSeriesOption("whisker.strokeOpacity",l,e.getSelectedSeries())});var a=this.chartOptionsService.getSeriesOption("whisker.lineDash",this.getSelectedSeries());this.whiskerLineDashSlider.setLabel(this.chartTranslationService.translate("lineDash")).setMinValue(0).setMaxValue(30).setTextFieldWidth(45).setValue("".concat(a)).onValueChange(function(l){return e.chartOptionsService.setSeriesOption("whisker.lineDash",[l],e.getSelectedSeries())});var s=this.chartOptionsService.getSeriesOption("whisker.lineDashOffset",this.getSelectedSeries());this.whiskerLineDashOffsetSlider.setLabel(this.chartTranslationService.translate("lineDashOffset")).setMinValue(0).setMaxValue(30).setTextFieldWidth(45).setValue("".concat(s)).onValueChange(function(l){return e.chartOptionsService.setSeriesOption("whisker.lineDashOffset",l,e.getSelectedSeries())})},t.TEMPLATE=`<div>
            <ag-group-component ref="whiskersGroup">
                <ag-color-picker ref="whiskerColorPicker"></ag-color-picker>
                <ag-slider ref="whiskerThicknessSlider"></ag-slider>
                <ag-slider ref="whiskerOpacitySlider"></ag-slider>
                <ag-slider ref="whiskerLineDashSlider"></ag-slider>
                <ag-slider ref="whiskerLineDashOffsetSlider"></ag-slider>
            </ag-group-component>
        </div>`,jc([$("whiskersGroup")],t.prototype,"whiskersGroup",void 0),jc([$("whiskerColorPicker")],t.prototype,"whiskerColorPicker",void 0),jc([$("whiskerThicknessSlider")],t.prototype,"whiskerThicknessSlider",void 0),jc([$("whiskerOpacitySlider")],t.prototype,"whiskerOpacitySlider",void 0),jc([$("whiskerLineDashSlider")],t.prototype,"whiskerLineDashSlider",void 0),jc([$("whiskerLineDashOffsetSlider")],t.prototype,"whiskerLineDashOffsetSlider",void 0),jc([E("chartTranslationService")],t.prototype,"chartTranslationService",void 0),jc([z],t.prototype,"init",null),t}(de),Cze=function(){var n=function(t,e){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])},n(t,e)};return function(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");n(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}}(),wx=function(n,t,e,r){var i=arguments.length,o=i<3?t:r===null?r=Object.getOwnPropertyDescriptor(t,e):r,a;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(n,t,e,r);else for(var s=n.length-1;s>=0;s--)(a=n[s])&&(o=(i<3?a(o):i>3?a(t,e,o):a(t,e))||o);return i>3&&o&&Object.defineProperty(t,e,o),o},Sze=function(n){Cze(t,n);function t(e,r){var i=n.call(this)||this;return i.chartOptionsService=e,i.getSelectedSeries=r,i.activePanels=[],i}return t.prototype.init=function(){var e={cssIdentifier:"charts-format-sub-level",direction:"vertical",title:this.chartTranslationService.translate("seriesItems"),enabled:!0,suppressOpenCloseIcons:!0,suppressEnabledCheckbox:!0};this.setTemplate(t.TEMPLATE,{seriesItemsGroup:e}),this.initSeriesItems(),this.initSeriesControls()},t.prototype.initSeriesItems=function(){var e=this,r=[{value:"positive",text:this.chartTranslationService.translate("seriesItemPositive")},{value:"negative",text:this.chartTranslationService.translate("seriesItemNegative")}],i=function(o){e.destroyActivePanels(),e.initSeriesControls(o)};this.seriesItemSelect.setLabel(this.chartTranslationService.translate("seriesItemType")).setLabelAlignment("left").setLabelWidth("flex").setInputWidth("flex").addOptions(r).setValue("positive").onValueChange(i)},t.prototype.initSeriesControls=function(e){e===void 0&&(e="positive"),this.initSlider("strokeWidth",0,10,45,"item.".concat(e,".strokeWidth")),this.initSlider("lineDash",0,30,45,"item.".concat(e,".lineDash"),1,!0),this.initSlider("strokeOpacity",0,1,45,"item.".concat(e,".strokeOpacity"),.05,!1),this.initSlider("fillOpacity",0,1,45,"item.".concat(e,".fillOpacity"),.05,!1),this.initItemLabels(e)},t.prototype.initSlider=function(e,r,i,o,a,s,l){var u=this;s===void 0&&(s=1),l===void 0&&(l=!1);var c=this.seriesItemsGroup.createManagedBean(new Wo),d=this.chartOptionsService.getSeriesOption(a,this.getSelectedSeries()),p=function(h){var f=l?[h]:h;u.chartOptionsService.setSeriesOption(a,f,u.getSelectedSeries())};c.setLabel(this.chartTranslationService.translate(e)).setMinValue(r).setMaxValue(i).setTextFieldWidth(o).setValue("".concat(d)).setStep(s).onValueChange(p),this.seriesItemsGroup.addItem(c),this.activePanels.push(c)},t.prototype.initItemLabels=function(e){var r=this,i=zI({labelName:this.chartTranslationService.translate("seriesItemLabels"),chartOptionsService:this.chartOptionsService,getSelectedSeries:function(){return r.getSelectedSeries()},seriesOptionLabelProperty:"item.".concat(e,".label")}),o=this.createBean(new Wd(i));this.seriesItemsGroup.addItem(o),this.activePanels.push(o)},t.prototype.destroyActivePanels=function(){var e=this;this.activePanels.forEach(function(r){D.removeFromParent(r.getGui()),e.destroyBean(r)})},t.prototype.destroy=function(){this.destroyActivePanels(),n.prototype.destroy.call(this)},t.TEMPLATE=`<div>
            <ag-group-component ref="seriesItemsGroup">
                <ag-select ref="seriesItemSelect"></ag-select>
            </ag-group-component>
        </div>`,wx([$("seriesItemsGroup")],t.prototype,"seriesItemsGroup",void 0),wx([$("seriesItemSelect")],t.prototype,"seriesItemSelect",void 0),wx([E("chartTranslationService")],t.prototype,"chartTranslationService",void 0),wx([z],t.prototype,"init",null),t}(de),wze=function(){var n=function(t,e){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])},n(t,e)};return function(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");n(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}}(),xv=function(){return xv=Object.assign||function(n){for(var t,e=1,r=arguments.length;e<r;e++){t=arguments[e];for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(n[i]=t[i])}return n},xv.apply(this,arguments)},Tp=function(n,t,e,r){var i=arguments.length,o=i<3?t:r===null?r=Object.getOwnPropertyDescriptor(t,e):r,a;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(n,t,e,r);else for(var s=n.length-1;s>=0;s--)(a=n[s])&&(o=(i<3?a(o):i>3?a(t,e,o):a(t,e))||o);return i>3&&o&&Object.defineProperty(t,e,o),o},_ze=function(n){var t=typeof Symbol=="function"&&Symbol.iterator,e=t&&n[t],r=0;if(e)return e.call(n);if(n&&typeof n.length=="number")return{next:function(){return n&&r>=n.length&&(n=void 0),{value:n&&n[r++],done:!n}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")},xze=function(n){wze(t,n);function t(e,r){var i=n.call(this)||this;return i.chartOptionsService=e,i.getSelectedSeries=r,i}return t.prototype.init=function(){var e={cssIdentifier:"charts-format-sub-level",direction:"vertical",enabled:!0,suppressOpenCloseIcons:!0,suppressEnabledCheckbox:!0};this.setTemplate(t.TEMPLATE,{groupSpacing:xv(xv({},e),{title:this.chartTranslationService.translate("group")}),tileSpacing:xv(xv({},e),{title:this.chartTranslationService.translate("tile")})}),this.initControls()},t.prototype.initControls=function(){var e,r,i=this,o=[{optionNamespace:"group",components:{paddingSlider:this.groupPaddingSlider,spacingSlider:this.groupSpacingSlider}},{optionNamespace:"tile",components:{paddingSlider:this.tilePaddingSlider,spacingSlider:this.tileSpacingSlider}}],a=function(d){var p=d.optionNamespace,h=d.components,f=h.paddingSlider,v=h.spacingSlider,g=s.chartOptionsService.getSeriesOption("".concat(p,".padding"),s.getSelectedSeries());f.setLabel(s.chartTranslationService.translate("padding")).setMinValue(0).setMaxValue(10).setTextFieldWidth(45).setValue("".concat(g)).onValueChange(function(m){return i.chartOptionsService.setSeriesOption("".concat(p,".padding"),m,i.getSelectedSeries())});var y=s.chartOptionsService.getSeriesOption("".concat(p,".gap"),s.getSelectedSeries());v.setLabel(s.chartTranslationService.translate("spacing")).setMinValue(0).setMaxValue(10).setTextFieldWidth(45).setValue("".concat(y)).onValueChange(function(m){return i.chartOptionsService.setSeriesOption("".concat(p,".gap"),m,i.getSelectedSeries())})},s=this;try{for(var l=_ze(o),u=l.next();!u.done;u=l.next()){var c=u.value;a(c)}}catch(d){e={error:d}}finally{try{u&&!u.done&&(r=l.return)&&r.call(l)}finally{if(e)throw e.error}}},t.TEMPLATE=`<div>
            <ag-group-component ref="groupSpacing">
                <ag-slider ref="groupPaddingSlider"></ag-slider>
                <ag-slider ref="groupSpacingSlider"></ag-slider>
            </ag-group-component>
            <ag-group-component ref="tileSpacing">
                <ag-slider ref="tilePaddingSlider"></ag-slider>
                <ag-slider ref="tileSpacingSlider"></ag-slider>
            </ag-group-component>
        </div>`,Tp([$("groupSpacing")],t.prototype,"groupSpacing",void 0),Tp([$("groupPaddingSlider")],t.prototype,"groupPaddingSlider",void 0),Tp([$("groupSpacingSlider")],t.prototype,"groupSpacingSlider",void 0),Tp([$("tilePaddingSlider")],t.prototype,"tilePaddingSlider",void 0),Tp([$("tileSpacingSlider")],t.prototype,"tileSpacingSlider",void 0),Tp([E("chartTranslationService")],t.prototype,"chartTranslationService",void 0),Tp([z],t.prototype,"init",null),t}(de),Eze=function(){var n=function(t,e){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])},n(t,e)};return function(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");n(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}}(),mM=function(n,t,e,r){var i=arguments.length,o=i<3?t:r===null?r=Object.getOwnPropertyDescriptor(t,e):r,a;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(n,t,e,r);else for(var s=n.length-1;s>=0;s--)(a=n[s])&&(o=(i<3?a(o):i>3?a(t,e,o):a(t,e))||o);return i>3&&o&&Object.defineProperty(t,e,o),o},bze=function(n){Eze(t,n);function t(e){var r=e.chartController,i=e.chartOptionsService,o=e.seriesType,a=e.isExpandedOnInit,s=a===void 0?!1:a,l=n.call(this)||this;return l.activePanels=[],l.widgetFuncs={lineWidth:function(){return l.initStrokeWidth("lineWidth")},strokeWidth:function(){return l.initStrokeWidth("strokeWidth")},lineColor:function(){return l.initLineColor()},lineDash:function(){return l.initLineDash()},lineOpacity:function(){return l.initLineOpacity()},fillOpacity:function(){return l.initFillOpacity()},markers:function(){return l.initMarkers()},labels:function(){return l.initLabels()},shadow:function(){return l.initShadow()},tooltips:function(){return l.initTooltips()},bins:function(){return l.initBins()},whiskers:function(){return l.initWhiskers()},caps:function(){return l.initCaps()},connectorLine:function(){return l.initConnectorLine()},seriesItems:function(){return l.initSeriesItemsPanel()},tileSpacing:function(){return l.initTileSpacingPanel()}},l.seriesWidgetMappings={column:["tooltips","strokeWidth","lineDash","lineOpacity","fillOpacity","labels","shadow"],bar:["tooltips","strokeWidth","lineDash","lineOpacity","fillOpacity","labels","shadow"],pie:["tooltips","strokeWidth","lineOpacity","fillOpacity","labels","shadow"],donut:["tooltips","strokeWidth","lineOpacity","fillOpacity","labels","shadow"],line:["tooltips","lineWidth","lineDash","lineOpacity","markers","labels"],scatter:["tooltips","markers","labels"],bubble:["tooltips","markers","labels"],area:["tooltips","lineWidth","lineDash","lineOpacity","fillOpacity","markers","labels","shadow"],histogram:["tooltips","bins","strokeWidth","lineDash","lineOpacity","fillOpacity","labels","shadow"],"radial-column":["tooltips","strokeWidth","lineDash","lineOpacity","fillOpacity","labels"],"radial-bar":["tooltips","strokeWidth","lineDash","lineOpacity","fillOpacity","labels"],"radar-line":["tooltips","strokeWidth","lineDash","lineOpacity","markers","labels"],"radar-area":["tooltips","strokeWidth","lineDash","lineOpacity","fillOpacity","markers","labels"],nightingale:["tooltips","strokeWidth","lineDash","lineOpacity","fillOpacity","labels"],"box-plot":["tooltips","strokeWidth","lineDash","lineOpacity","fillOpacity","whiskers","caps"],"range-bar":["tooltips","strokeWidth","lineDash","lineOpacity","fillOpacity","labels"],"range-area":["tooltips","lineWidth","lineDash","lineOpacity","fillOpacity","markers","labels","shadow"],treemap:["tooltips","tileSpacing"],sunburst:["tooltips"],heatmap:["tooltips","labels","lineColor","lineWidth","lineOpacity"],waterfall:["tooltips","connectorLine","seriesItems"]},l.chartController=r,l.chartOptionsService=i,l.seriesType=o||l.getChartSeriesType(),l.isExpandedOnInit=s,l}return t.prototype.init=function(){var e={cssIdentifier:"charts-format-top-level",direction:"vertical"};this.setTemplate(t.TEMPLATE,{seriesGroup:e}),this.seriesGroup.setTitle(this.translate("series")).toggleGroupExpand(this.isExpandedOnInit).hideEnabledCheckbox(!0),this.addManagedListener(this.chartController,ks.EVENT_CHART_SERIES_CHART_TYPE_CHANGED,this.refreshWidgets.bind(this)),this.refreshWidgets()},t.prototype.refreshWidgets=function(){var e=this;this.destroyActivePanels();var r=this.chartController.getChartProxy().getChart();r.waitForUpdate().then(function(){var i,o=!e.isAlive();o||(e.chartController.isComboChart()&&(e.updateSeriesType(),e.initSeriesSelect()),((i=e.seriesWidgetMappings[e.seriesType])!==null&&i!==void 0?i:[]).forEach(function(a){return e.widgetFuncs[a]()}))}).catch(function(i){return console.error("AG Grid - chart rendering failed",i)})},t.prototype.initSeriesSelect=function(){var e=this,r=this.seriesGroup.createManagedBean(new ql);r.setLabel(this.translate("seriesType")).setLabelAlignment("left").setLabelWidth("flex").setInputWidth("flex").addOptions(this.getSeriesSelectOptions()).setValue("".concat(this.seriesType)).onValueChange(function(i){e.seriesType=i,e.refreshWidgets()}),this.seriesGroup.addItem(r),this.activePanels.push(r)},t.prototype.initTooltips=function(){var e=this,r=this.createBean(new MT);r.setLabel(this.translate("tooltips")).setLabelAlignment("left").setLabelWidth("flex").setInputWidth("flex").setValue(this.getSeriesOption("tooltip.enabled")||!1).onValueChange(function(i){return e.setSeriesOption("tooltip.enabled",i)}),this.addWidget(r)},t.prototype.initLineColor=function(){var e=this,r=this.getSeriesOption("stroke"),i=this.createBean(new $te);i.setLabel(this.translate("strokeColor")).setLabelWidth("flex").onValueChange(function(o){return e.setSeriesOption("stroke",o)}),r&&i.setValue(r),this.addWidget(i)},t.prototype.initStrokeWidth=function(e){var r=this,i,o=(i=this.getSeriesOption("strokeWidth"))!==null&&i!==void 0?i:0,a=this.createBean(new Wo);a.setLabel(this.translate(e)).setMaxValue(Qr(o,10)).setTextFieldWidth(45).setValue("".concat(o)).onValueChange(function(s){return r.setSeriesOption("strokeWidth",s)}),this.addWidget(a)},t.prototype.initLineDash=function(){var e=this,r=this.getSeriesOption("lineDash"),i=r?r[0]:0,o=this.createBean(new Wo);o.setLabel(this.translate("lineDash")).setMaxValue(Qr(i,30)).setTextFieldWidth(45).setValue("".concat(i)).onValueChange(function(a){return e.setSeriesOption("lineDash",[a])}),this.addWidget(o)},t.prototype.initLineOpacity=function(){var e=this,r,i=(r=this.getSeriesOption("strokeOpacity"))!==null&&r!==void 0?r:0,o=this.createBean(new Wo);o.setLabel(this.translate("strokeOpacity")).setStep(.05).setMaxValue(Qr(i,1)).setTextFieldWidth(45).setValue("".concat(i)).onValueChange(function(a){return e.setSeriesOption("strokeOpacity",a)}),this.addWidget(o)},t.prototype.initFillOpacity=function(){var e=this,r,i=(r=this.getSeriesOption("fillOpacity"))!==null&&r!==void 0?r:0,o=this.createBean(new Wo);o.setLabel(this.translate("fillOpacity")).setStep(.05).setMaxValue(Qr(i,1)).setTextFieldWidth(45).setValue("".concat(i)).onValueChange(function(a){return e.setSeriesOption("fillOpacity",a)}),this.addWidget(o)},t.prototype.initLabels=function(){var e=this,r=i2(this.seriesType),i=r?"calloutLabel":"label",o=r?this.chartTranslationService.translate("calloutLabels"):this.chartTranslationService.translate("labels"),a=zI({labelName:o,chartOptionsService:this.chartOptionsService,getSelectedSeries:function(){return e.seriesType},seriesOptionLabelProperty:i}),s=this.createBean(new Wd(a));if(r){var l=this.createBean(new pze(this.chartOptionsService,function(){return e.seriesType}));s.addCompToPanel(l),this.activePanels.push(l)}if(this.addWidget(s),r){var u=zI({labelName:this.chartTranslationService.translate("sectorLabels"),chartOptionsService:this.chartOptionsService,getSelectedSeries:function(){return e.seriesType},seriesOptionLabelProperty:"sectorLabel"}),c=this.createBean(new Wd(u)),d=this.getSectorLabelPositionRatio();c.addCompToPanel(d),this.addWidget(c)}if(this.seriesType==="range-bar"){var p=[{value:"inside",text:this.translate("inside")},{value:"outside",text:this.translate("outside")}],h=this.chartOptionsService.getSeriesOption("label.placement",this.seriesType),f=s.createManagedBean(new ql);f.setLabel(this.translate("labelPlacement")).setLabelAlignment("left").setLabelWidth("flex").setInputWidth("flex").addOptions(p).setValue(h).onValueChange(function(y){return e.chartOptionsService.setSeriesOption("label.placement",y,e.seriesType)}),s.addCompToPanel(f),this.activePanels.push(f);var v=this.chartOptionsService.getSeriesOption("label.padding",this.seriesType),g=s.createManagedBean(new Wo);g.setLabel(this.chartTranslationService.translate("padding")).setMaxValue(Qr(v,200)).setValue("".concat(v)).setTextFieldWidth(45).onValueChange(function(y){return e.chartOptionsService.setSeriesOption("label.padding",y,e.seriesType)}),s.addCompToPanel(g),this.activePanels.push(g)}},t.prototype.getSectorLabelPositionRatio=function(){var e=this,r="sectorLabel.positionRatio",i=this.chartOptionsService.getSeriesOption(r,this.seriesType),o=this.createBean(new Wo);return o.setLabel(this.translate("positionRatio")).setStep(.05).setMaxValue(Qr(i,1)).setTextFieldWidth(45).setValue("".concat(i)).onValueChange(function(a){return e.chartOptionsService.setSeriesOption(r,a,e.seriesType)})},t.prototype.initShadow=function(){var e=this,r=this.createBean(new ize(this.chartOptionsService,function(){return e.seriesType}));this.addWidget(r)},t.prototype.initMarkers=function(){var e=this,r=this.createBean(new aze(this.chartOptionsService,function(){return e.seriesType}));this.addWidget(r)},t.prototype.initBins=function(){var e=this,r,i=((r=this.getSeriesOption("bins"))!==null&&r!==void 0?r:this.getSeriesOption("calculatedBins",!0)).length,o=this.createBean(new Wo);o.setLabel(this.translate("histogramBinCount")).setMinValue(0).setMaxValue(Qr(i,20)).setTextFieldWidth(45).setValue("".concat(i)).onValueChange(function(a){return e.setSeriesOption("binCount",a)}),this.addWidget(o)},t.prototype.initWhiskers=function(){var e=this,r=this.createBean(new mze(this.chartOptionsService,function(){return e.seriesType}));this.addWidget(r)},t.prototype.initCaps=function(){var e=this,r=this.createBean(new fze(this.chartOptionsService,function(){return e.seriesType}));this.addWidget(r)},t.prototype.initConnectorLine=function(){var e=this,r=this.createBean(new gze(this.chartOptionsService,function(){return e.seriesType}));this.addWidget(r)},t.prototype.initSeriesItemsPanel=function(){var e=this,r=this.createBean(new Sze(this.chartOptionsService,function(){return e.seriesType}));this.addWidget(r)},t.prototype.initTileSpacingPanel=function(){var e=this,r=this.createBean(new xze(this.chartOptionsService,function(){return e.seriesType}));this.addWidget(r)},t.prototype.addWidget=function(e){this.seriesGroup.addItem(e),this.activePanels.push(e)},t.prototype.getSeriesOption=function(e,r){return this.chartOptionsService.getSeriesOption(e,this.seriesType,r)},t.prototype.setSeriesOption=function(e,r){this.chartOptionsService.setSeriesOption(e,r,this.seriesType)},t.prototype.getChartSeriesType=function(){if(this.chartController.getSeriesChartTypes().length===0)return"column";var e=this.chartController.getSeriesChartTypes()[0].chartType;return e==="columnLineCombo"?"column":e==="areaColumnCombo"?"area":Ds(e)},t.prototype.getSeriesSelectOptions=function(){var e=this;this.seriesSelectOptions||(this.seriesSelectOptions=new Map([["area",{value:"area",text:this.translate("area","Area")}],["bar",{value:"bar",text:this.translate("bar","Bar")}],["column",{value:"column",text:this.translate("column","Column")}],["line",{value:"line",text:this.translate("line","Line")}],["scatter",{value:"scatter",text:this.translate("scatter","Scatter")}],["histogram",{value:"histogram",text:this.translate("histogram","Histogram")}],["radial-column",{value:"radial-column",text:this.translate("radialColumn","Radial Column")}],["radial-bar",{value:"radial-bar",text:this.translate("radialBar","Radial Bar")}],["radar-line",{value:"radar-line",text:this.translate("radarLine","Radar Line")}],["radar-area",{value:"radar-area",text:this.translate("radarArea","Radar Area")}],["nightingale",{value:"nightingale",text:this.translate("nightingale","Nightingale")}],["range-bar",{value:"range-bar",text:this.translate("rangeBar","Range Bar")}],["range-area",{value:"range-area",text:this.translate("rangeArea","Range Area")}],["treemap",{value:"treemap",text:this.translate("treemap","Treemap")}],["sunburst",{value:"sunburst",text:this.translate("sunburst","Sunburst")}],["waterfall",{value:"waterfall",text:this.translate("waterfall","Waterfall")}],["box-plot",{value:"box-plot",text:this.translate("boxPlot","Box Plot")}],["pie",{value:"pie",text:this.translate("pie","Pie")}],["donut",{value:"donut",text:this.translate("donut","Donut")}]]));var r=new Set;return this.chartController.getActiveSeriesChartTypes().forEach(function(i){var o=Ds(i.chartType);r.add(e.seriesSelectOptions.get(o))}),Array.from(r)},t.prototype.updateSeriesType=function(){var e=this.chartController.getActiveSeriesChartTypes().map(function(i){return Ds(i.chartType)}),r=!e.includes(this.seriesType);r&&e.length>0&&(this.seriesType=e[0])},t.prototype.translate=function(e,r){return this.chartTranslationService.translate(e,r)},t.prototype.destroyActivePanels=function(){var e=this;this.activePanels.forEach(function(r){D.removeFromParent(r.getGui()),e.destroyBean(r)})},t.prototype.destroy=function(){this.destroyActivePanels(),n.prototype.destroy.call(this)},t.TEMPLATE=`<div>
            <ag-group-component ref="seriesGroup">
            </ag-group-component>
        </div>`,mM([$("seriesGroup")],t.prototype,"seriesGroup",void 0),mM([E("chartTranslationService")],t.prototype,"chartTranslationService",void 0),mM([z],t.prototype,"init",null),t}(de),Oze=function(){var n=function(t,e){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])},n(t,e)};return function(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");n(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}}(),$c=function(n,t,e,r){var i=arguments.length,o=i<3?t:r===null?r=Object.getOwnPropertyDescriptor(t,e):r,a;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(n,t,e,r);else for(var s=n.length-1;s>=0;s--)(a=n[s])&&(o=(i<3?a(o):i>3?a(t,e,o):a(t,e))||o);return i>3&&o&&Object.defineProperty(t,e,o),o},Rze=function(n){Oze(t,n);function t(e){var r=e.chartOptionsService,i=e.isExpandedOnInit,o=i===void 0?!1:i,a=n.call(this)||this;return a.activePanels=[],a.chartOptionsService=r,a.isExpandedOnInit=o,a}return t.prototype.init=function(){var e={cssIdentifier:"charts-format-top-level",direction:"vertical"};this.setTemplate(t.TEMPLATE,{legendGroup:e}),this.initLegendGroup(),this.initLegendPosition(),this.initLegendGradient(),this.initLegendSpacing(),this.initLabelPanel()},t.prototype.initLegendGroup=function(){var e=this;this.legendGroup.setTitle(this.chartTranslationService.translate("legend")).hideEnabledCheckbox(!1).setEnabled(this.chartOptionsService.getChartOption("gradientLegend.enabled")||!1).toggleGroupExpand(this.isExpandedOnInit).onEnableChange(function(r){e.chartOptionsService.setChartOption("gradientLegend.enabled",r),e.legendGroup.toggleGroupExpand(!0)})},t.prototype.initLegendPosition=function(){var e=this,r=["top","right","bottom","left"];this.legendPositionSelect.setLabel(this.chartTranslationService.translate("position")).setLabelWidth("flex").setInputWidth("flex").addOptions(r.map(function(i){return{value:i,text:e.chartTranslationService.translate(i)}})).setValue(this.chartOptionsService.getChartOption("gradientLegend.position")).onValueChange(function(i){return e.chartOptionsService.setChartOption("gradientLegend.position",i)})},t.prototype.initLegendGradient=function(){var e=this;this.gradientReverseCheckbox.setLabel(this.chartTranslationService.translate("reverseDirection")).setLabelWidth("flex").setValue(this.chartOptionsService.getChartOption("gradientLegend.reverseOrder")).onValueChange(function(i){return e.chartOptionsService.setChartOption("gradientLegend.reverseOrder",i)});var r=function(i,o,a,s){var l,u=(l=e.chartOptionsService.getChartOption(i))!==null&&l!==void 0?l:0;a.setLabel(e.chartTranslationService.translate(o)).setMaxValue(Qr(u,s)).setValue("".concat(u)).setTextFieldWidth(45).onValueChange(function(c){e.chartOptionsService.setChartOption(i,c)})};r("gradientLegend.gradient.thickness","thickness",this.gradientThicknessSlider,40),r("gradientLegend.gradient.preferredLength","preferredLength",this.gradientPreferredLengthSlider,300)},t.prototype.initLegendSpacing=function(){var e=this,r=this.chartOptionsService.getChartOption("gradientLegend.spacing");this.legendSpacingSlider.setLabel(this.chartTranslationService.translate("spacing")).setMaxValue(Qr(r,200)).setValue("".concat(r)).setTextFieldWidth(45).onValueChange(function(i){return e.chartOptionsService.setChartOption("gradientLegend.spacing",i)})},t.prototype.initLabelPanel=function(){var e=this,r=this.chartOptionsService,i={family:r.getChartOption("gradientLegend.scale.label.fontFamily"),style:r.getChartOption("gradientLegend.scale.label.fontStyle"),weight:r.getChartOption("gradientLegend.scale.label.fontWeight"),size:r.getChartOption("gradientLegend.scale.label.fontSize"),color:r.getChartOption("gradientLegend.scale.label.color")},o=function(l){var u=e.chartOptionsService;l.family&&u.setChartOption("gradientLegend.scale.label.fontFamily",l.family),l.weight&&u.setChartOption("gradientLegend.scale.label.fontWeight",l.weight),l.style&&u.setChartOption("gradientLegend.scale.label.fontStyle",l.style),l.size&&u.setChartOption("gradientLegend.scale.label.fontSize",l.size),l.color&&u.setChartOption("gradientLegend.scale.label.color",l.color)},a={enabled:!0,suppressEnabledCheckbox:!0,initialFont:i,setFont:o},s=this.createBean(new Wd(a));this.legendGroup.addItem(s),this.activePanels.push(s)},t.prototype.destroyActivePanels=function(){var e=this;this.activePanels.forEach(function(r){D.removeFromParent(r.getGui()),e.destroyBean(r)})},t.prototype.destroy=function(){this.destroyActivePanels(),n.prototype.destroy.call(this)},t.TEMPLATE=`<div>
            <ag-group-component ref="legendGroup">
                <ag-select ref="legendPositionSelect"></ag-select>
                <ag-checkbox ref="gradientReverseCheckbox"></ag-checkbox>
                <ag-slider ref="gradientThicknessSlider"></ag-slider>
                <ag-slider ref="gradientPreferredLengthSlider"></ag-slider>
                <ag-slider ref="legendSpacingSlider"></ag-slider>
            </ag-group-component>
        </div>`,$c([$("legendGroup")],t.prototype,"legendGroup",void 0),$c([$("gradientReverseCheckbox")],t.prototype,"gradientReverseCheckbox",void 0),$c([$("legendPositionSelect")],t.prototype,"legendPositionSelect",void 0),$c([$("gradientThicknessSlider")],t.prototype,"gradientThicknessSlider",void 0),$c([$("gradientPreferredLengthSlider")],t.prototype,"gradientPreferredLengthSlider",void 0),$c([$("legendSpacingSlider")],t.prototype,"legendSpacingSlider",void 0),$c([E("chartTranslationService")],t.prototype,"chartTranslationService",void 0),$c([z],t.prototype,"init",null),t}(de),Tze=function(){var n=function(t,e){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])},n(t,e)};return function(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");n(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}}(),Pze=function(n,t,e,r){var i=arguments.length,o=i<3?t:r===null?r=Object.getOwnPropertyDescriptor(t,e):r,a;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(n,t,e,r);else for(var s=n.length-1;s>=0;s--)(a=n[s])&&(o=(i<3?a(o):i>3?a(t,e,o):a(t,e))||o);return i>3&&o&&Object.defineProperty(t,e,o),o};function Qr(n,t){return Math.max(n,t)}var Aze={groups:[{type:"chart"},{type:"legend"},{type:"series"},{type:"axis"},{type:"navigator"}]},Dze=function(n){Tze(t,n);function t(e,r){var i=n.call(this,t.TEMPLATE)||this;return i.chartController=e,i.chartOptionsService=r,i.panels=[],i.isGroupPanelShownInSeries=function(o,a){var s,l,u=["chart","legend","series"];if(u.includes(o))return!0;var c={bar:["axis","navigator"],column:["axis","navigator"],line:["axis","navigator"],area:["axis","navigator"],scatter:["axis","navigator"],bubble:["axis","navigator"],histogram:["axis","navigator"],cartesian:["axis","navigator"],"radial-column":["axis"],"radial-bar":["axis"],"radar-line":["axis"],"radar-area":["axis"],nightingale:["axis"],"range-bar":["axis","navigator"],"range-area":["axis","navigator"],treemap:[],sunburst:[],heatmap:["axis"],waterfall:["axis","navigator"],"box-plot":["axis","navigator"]};return(l=(s=c[a])===null||s===void 0?void 0:s.includes(o))!==null&&l!==void 0?l:!1},i}return t.prototype.init=function(){var e=this;this.createPanels(),this.addManagedListener(this.chartController,ks.EVENT_CHART_UPDATED,function(){return e.createPanels(!0)}),this.addManagedListener(this.chartController,ks.EVENT_CHART_API_UPDATE,function(){return e.createPanels(!1)})},t.prototype.createPanels=function(e){var r=this,i,o=this.chartController.getChartType(),a=this.chartController.isGrouping(),s=Ds(o);e&&o===this.chartType&&a===this.isGrouping||(this.destroyPanels(),(i=this.getFormatPanelDef().groups)===null||i===void 0||i.forEach(function(l){var u=l.type;if(r.isGroupPanelShownInSeries(u,s)){var c={chartController:r.chartController,chartOptionsService:r.chartOptionsService,isExpandedOnInit:l.isOpen,seriesType:s};if(u==="chart")r.addComponent(new rze(c));else if(u==="legend"){var d=lUe(o)?new Rze(c):new GUe(c);r.addComponent(d)}else if(u==="axis"){var d=kte(o)?new UUe(c):new $Ue(c);r.addComponent(d)}else u==="series"?r.addComponent(new bze(c)):u==="navigator"?r.addComponent(new KUe(c)):console.warn("AG Grid: invalid charts format panel group name supplied: '".concat(l.type,"'"))}}),this.chartType=o,this.isGrouping=a)},t.prototype.getFormatPanelDef=function(){var e,r=(e=this.gridOptionsService.get("chartToolPanelsDef"))===null||e===void 0?void 0:e.formatPanel;return r||Aze},t.prototype.addComponent=function(e){this.createBean(e),this.panels.push(e),e.addCssClass("ag-chart-format-section"),this.getGui().appendChild(e.getGui())},t.prototype.destroyPanels=function(){var e=this;this.panels.forEach(function(r){D.removeFromParent(r.getGui()),e.destroyBean(r)}),this.panels=[]},t.prototype.destroy=function(){this.destroyPanels(),n.prototype.destroy.call(this)},t.TEMPLATE='<div class="ag-chart-format-wrapper"></div>',Pze([z],t.prototype,"init",null),t}(de),Mze=function(){var n=function(t,e){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])},n(t,e)};return function(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");n(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}}(),Yz=function(n,t,e,r){var i=arguments.length,o=i<3?t:r===null?r=Object.getOwnPropertyDescriptor(t,e):r,a;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(n,t,e,r);else for(var s=n.length-1;s>=0;s--)(a=n[s])&&(o=(i<3?a(o):i>3?a(t,e,o):a(t,e))||o);return i>3&&o&&Object.defineProperty(t,e,o),o},Fze="ag-chart-mini-thumbnail-canvas",Lze="AG Grid - chart update failed",ay=function(n){Mze(t,n);function t(e,r){var i=n.call(this)||this;i.size=58,i.padding=5,i.root=new oe.Group;var o=new oe.Scene({window,document:window.document,width:i.size,height:i.size});return o.canvas.element.classList.add(Fze),o.root=i.root,o.container=e,i.scene=o,i.tooltipName=r,i}return t.prototype.init=function(){this.scene.canvas.element.title=this.chartTranslationService.translate(this.tooltipName),this.scene.render().catch(function(e){console.error("".concat(Lze),e)})},Yz([E("chartTranslationService")],t.prototype,"chartTranslationService",void 0),Yz([z],t.prototype,"init",null),t}(de),Ize=function(){var n=function(t,e){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])},n(t,e)};return function(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");n(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}}(),Nze=function(n,t,e,r){var i=arguments.length,o=i<3?t:r===null?r=Object.getOwnPropertyDescriptor(t,e):r,a;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(n,t,e,r);else for(var s=n.length-1;s>=0;s--)(a=n[s])&&(o=(i<3?a(o):i>3?a(t,e,o):a(t,e))||o);return i>3&&o&&Object.defineProperty(t,e,o),o},gi=function(n){Ize(t,n);function t(e,r){var i=n.call(this,e,r)||this;return i.stroke="gray",i.axisOvershoot=3,i}return t.prototype.addAxes=function(){var e=this.size,r=this.padding,i=new oe.Line;i.x1=r,i.y1=r,i.x2=r,i.y2=e-r+this.axisOvershoot,i.stroke=this.stroke;var o=new oe.Line;o.x1=r-this.axisOvershoot+1,o.y1=e-r,o.x2=e-r+1,o.y2=e-r,o.stroke=this.stroke;var a=this.root;a.append(i),a.append(o)},Nze([z],t.prototype,"addAxes",null),t}(ay),YI=function(n,t){var e=typeof Symbol=="function"&&n[Symbol.iterator];if(!e)return n;var r=e.call(n),i,o=[],a;try{for(;(t===void 0||t-- >0)&&!(i=r.next()).done;)o.push(i.value)}catch(s){a={error:s}}finally{try{i&&!i.done&&(e=r.return)&&e.call(r)}finally{if(a)throw a.error}}return o},Xz=function(n,t,e){if(e||arguments.length===2)for(var r=0,i=t.length,o;r<i;r++)(o||!(r in t))&&(o||(o=Array.prototype.slice.call(t,0,r)),o[r]=t[r]);return n.concat(o||Array.prototype.slice.call(t))};function f0(n){var t=n.stacked,e=n.size,r=n.padding,i=n.xScalePadding,o=n.xScaleDomain,a=n.yScaleDomain,s=new oe.BandScale;s.domain=o,s.range=[r,e-r],s.paddingInner=i,s.paddingOuter=i;var l=new oe.LinearScale;l.domain=a,l.range=[e-r,r];var u=function(c,d,p){return c.map(function(h,f){var v=p.convert(h),g=new oe.Rect;return g.x=d.convert(f),g.y=v,g.width=d.bandwidth,g.height=p.convert(0)-v,g.strokeWidth=0,g.crisp=!0,g})};return t?n.data.map(function(c){return u(c,s,l)}):u(n.data,s,l)}function a2(n,t,e,r){var i=new oe.LinearScale;i.domain=[0,4],i.range=[r,e-r];var o=new oe.LinearScale;o.domain=[0,10],o.range=[e-r,r];var a=t.map(function(l){var u=new oe.Path;return u.strokeWidth=3,u.lineCap="round",u.fill=void 0,l.forEach(function(c,d){u.path[d>0?"lineTo":"moveTo"](i.convert(d),o.convert(c))}),u}),s=new oe.Group;return s.setClipRectInGroupCoordinateSpace(new oe.BBox(r,r,e-r*2,e-r*2)),s.append(a),n.append(s),a}function Wte(n,t,e,r,i,o){o===void 0&&(o=0);var a=new oe.LinearScale;a.domain=[0,7],a.range=[-Math.PI,Math.PI].map(function(p){return p+Math.PI/2});var s=new oe.LinearScale;s.domain=[0,10],s.range=[r,i];var l=[],u=t.map(function(p){var h=new oe.Path;return h.strokeWidth=1,h.strokeOpacity=.5,h.lineCap="round",h.fill=void 0,h.fillOpacity=.8,p.forEach(function(f,v){var g=a.convert(v),y=r+i-s.convert(f),m=y*Math.cos(g),C=y*Math.sin(g);if(h.path[v>0?"lineTo":"moveTo"](m,C),o>0){var S=new oe.Circle;S.x=m,S.y=C,S.size=o,l.push(S)}}),h.path.closePath(),h}),c=new oe.Group,d=e/2;return c.translationX=d,c.translationY=d,c.append(Xz(Xz([],YI(u),!1),YI(l),!1)),n.append(c),{paths:u,markers:l}}function OP(n){var t=YI([1/0,-1/0],2),e=t[0],r=t[1],i=n.reduce(function(o,a,s){var l,u=s>0?o[s-1]:void 0;(l=o[s])!==null&&l!==void 0||(o[s]=[]);var c=o[s];return a.forEach(function(d,p){u&&(d+=u[p]),c[p]=d,c[p]<e&&(e=c[p]),c[p]>r&&(r=c[p])}),o},[]);return{processedData:i,min:e,max:r}}var kze=function(){var n=function(t,e){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])},n(t,e)};return function(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");n(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}}(),Gze=function(n){kze(t,n);function t(e,r,i){var o=n.call(this,e,"groupedColumnTooltip")||this;o.columnData=[2,3,4];var a=o,s=a.root,l=a.columnData,u=a.size,c=a.padding;return o.columns=f0({stacked:!1,root:s,data:l,size:u,padding:c,xScaleDomain:[0,1,2],yScaleDomain:[0,4],xScalePadding:.3}),s.append(o.columns),o.updateColors(r,i),o}return t.prototype.updateColors=function(e,r){this.columns.forEach(function(i,o){i.fill=e[o],i.stroke=r[o]})},t.chartType="groupedColumn",t}(gi),Vze=function(){var n=function(t,e){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])},n(t,e)};return function(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");n(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}}(),Ute=function(n){Vze(t,n);function t(e,r,i,o,a,s,l,u){s===void 0&&(s=t.data),l===void 0&&(l=[0,16]),u===void 0&&(u="stackedColumnTooltip");var c=n.call(this,e,u)||this,d=c,p=d.root,h=d.size,f=d.padding;return c.stackedColumns=f0({stacked:!0,root:p,data:s,size:h,padding:f,xScaleDomain:[0,1,2],yScaleDomain:l,xScalePadding:.3}),p.append([].concat.apply([],c.stackedColumns)),c.updateColors(r,i),c}return t.prototype.updateColors=function(e,r){this.stackedColumns.forEach(function(i,o){return i.forEach(function(a){a.fill=e[o],a.stroke=r[o]})})},t.chartType="stackedColumn",t.data=[[8,12,16],[6,9,12],[2,3,4]],t}(gi),Bze=function(){var n=function(t,e){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])},n(t,e)};return function(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");n(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}}(),Hze=function(n){Bze(t,n);function t(e,r,i,o,a){return n.call(this,e,r,i,o,a,t.data,[0,10],"normalizedColumnTooltip")||this}return t.chartType="normalizedColumn",t.data=[[10,10,10],[6,7,8],[2,4,6]],t}(Ute),jze=function(){var n=function(t,e){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])},n(t,e)};return function(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");n(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}}(),$ze=function(n){jze(t,n);function t(e,r,i){var o=n.call(this,e,"groupedBarTooltip")||this,a=o.padding,s=o.size,l=[2,3,4],u=new oe.BandScale;u.domain=[0,1,2],u.range=[a,s-a],u.paddingInner=.3,u.paddingOuter=.3;var c=new oe.LinearScale;c.domain=[0,4],c.range=[s-a,a];var d=c.convert(0),p=u.bandwidth;return o.bars=l.map(function(h,f){var v=new oe.Rect;return v.x=a,v.y=u.convert(f),v.width=d-c.convert(h),v.height=p,v.strokeWidth=0,v.crisp=!0,v}),o.updateColors(r,i),o.root.append(o.bars),o}return t.prototype.updateColors=function(e,r){this.bars.forEach(function(i,o){i.fill=e[o],i.stroke=r[o]})},t.chartType="groupedBar",t}(gi),Wze=function(){var n=function(t,e){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])},n(t,e)};return function(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");n(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}}(),zte=function(n){Wze(t,n);function t(e,r,i,o,a,s,l,u){s===void 0&&(s=t.data),l===void 0&&(l=[0,16]),u===void 0&&(u="stackedBarTooltip");var c=n.call(this,e,u)||this,d=c.size,p=c.padding,h=new oe.BandScale;h.domain=[0,1,2],h.range=[p,d-p],h.paddingInner=.3,h.paddingOuter=.3;var f=new oe.LinearScale;f.domain=l,f.range=[d-p,p];var v=f.convert(0),g=h.bandwidth;return c.bars=s.map(function(y){return y.map(function(m,C){var S=new oe.Rect;return S.x=p,S.y=h.convert(C),S.width=v-f.convert(m),S.height=g,S.strokeWidth=0,S.crisp=!0,S})}),c.updateColors(r,i),c.root.append([].concat.apply([],c.bars)),c}return t.prototype.updateColors=function(e,r){this.bars.forEach(function(i,o){return i.forEach(function(a){a.fill=e[o],a.stroke=r[o]})})},t.chartType="stackedBar",t.data=[[8,12,16],[6,9,12],[2,3,4]],t}(gi),Uze=function(){var n=function(t,e){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])},n(t,e)};return function(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");n(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}}(),zze=function(n){Uze(t,n);function t(e,r,i,o,a){return n.call(this,e,r,i,o,a,t.data,[0,10],"normalizedBarTooltip")||this}return t.chartType="normalizedBar",t.data=[[10,10,10],[6,7,8],[2,4,6]],t}(zte),Kze=function(){var n=function(t,e){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])},n(t,e)};return function(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");n(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}}(),Yze=function(n,t){var e=typeof Symbol=="function"&&n[Symbol.iterator];if(!e)return n;var r=e.call(n),i,o=[],a;try{for(;(t===void 0||t-- >0)&&!(i=r.next()).done;)o.push(i.value)}catch(s){a={error:s}}finally{try{i&&!i.done&&(e=r.return)&&e.call(r)}finally{if(a)throw a.error}}return o},wa=oe.toRadians,XI=function(n){Kze(t,n);function t(e,r,i,o,a,s,l){s===void 0&&(s=.6),l===void 0&&(l="donutTooltip");var u=n.call(this,e,l)||this,c=(u.size-u.padding*2)/2,d=c+u.padding,p=[[wa(-90),wa(30)],[wa(30),wa(120)],[wa(120),wa(180)],[wa(180),wa(210)],[wa(210),wa(240)],[wa(240),wa(270)]];return u.sectors=p.map(function(h){var f=Yze(h,2),v=f[0],g=f[1],y=new oe.Sector;return y.centerX=d,y.centerY=d,y.innerRadius=c*s,y.outerRadius=c,y.startAngle=v,y.endAngle=g,y.stroke=void 0,y.strokeWidth=0,y.inset=.75,y}),u.updateColors(r,i),u.root.append(u.sectors),u}return t.prototype.updateColors=function(e,r){this.sectors.forEach(function(i,o){i.fill=e[o%e.length],i.stroke=r[o%r.length]})},t.chartType="donut",t}(ay),Xze=function(){var n=function(t,e){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])},n(t,e)};return function(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");n(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}}(),qze=function(n){Xze(t,n);function t(e,r,i,o,a){return n.call(this,e,r,i,o,a,0,"pieTooltip")||this}return t.chartType="pie",t}(XI),Zze=function(){var n=function(t,e){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])},n(t,e)};return function(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");n(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}}(),Qze=function(n){Zze(t,n);function t(e,r,i){var o=n.call(this,e,"lineTooltip")||this;return o.data=[[9,7,8,5,6],[5,6,3,4,1],[1,3,4,8,7]],o.lines=a2(o.root,o.data,o.size,o.padding),o.updateColors(r,i),o}return t.prototype.updateColors=function(e,r){this.lines.forEach(function(i,o){i.stroke=e[o]})},t.chartType="line",t}(gi),Jze=function(){var n=function(t,e){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])},n(t,e)};return function(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");n(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}}(),e5e=function(n,t){var e=typeof Symbol=="function"&&n[Symbol.iterator];if(!e)return n;var r=e.call(n),i,o=[],a;try{for(;(t===void 0||t-- >0)&&!(i=r.next()).done;)o.push(i.value)}catch(s){a={error:s}}finally{try{i&&!i.done&&(e=r.return)&&e.call(r)}finally{if(a)throw a.error}}return o},t5e=function(n){Jze(t,n);function t(e,r,i){var o=n.call(this,e,"scatterTooltip")||this,a=o.size,s=o.padding,l=[[[.3,3],[1.1,.9],[2,.4],[3.4,2.4]],[[0,.3],[1,2],[2.4,1.4],[3,0]]],u=new oe.LinearScale;u.domain=[-.5,4],u.range=[s*2,a-s];var c=new oe.LinearScale;c.domain=[-.5,3.5],c.range=[a-s,s];var d=[];l.forEach(function(h){h.forEach(function(f){var v=e5e(f,2),g=v[0],y=v[1],m=new oe.Arc;m.strokeWidth=0,m.centerX=u.convert(g),m.centerY=c.convert(y),m.radius=2.5,d.push(m)})}),o.points=d,o.updateColors(r,i);var p=new oe.Group;return p.setClipRectInGroupCoordinateSpace(new oe.BBox(s,s,a-s*2,a-s*2)),p.append(o.points),o.root.append(p),o}return t.prototype.updateColors=function(e,r){this.points.forEach(function(i,o){i.stroke=r[o%r.length],i.fill=e[o%e.length]})},t.chartType="scatter",t}(gi),r5e=function(){var n=function(t,e){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])},n(t,e)};return function(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");n(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}}(),n5e=function(n,t){var e=typeof Symbol=="function"&&n[Symbol.iterator];if(!e)return n;var r=e.call(n),i,o=[],a;try{for(;(t===void 0||t-- >0)&&!(i=r.next()).done;)o.push(i.value)}catch(s){a={error:s}}finally{try{i&&!i.done&&(e=r.return)&&e.call(r)}finally{if(a)throw a.error}}return o},i5e=function(n){r5e(t,n);function t(e,r,i){var o=n.call(this,e,"bubbleTooltip")||this,a=o.size,s=o.padding,l=[[[.1,.3,5],[.5,.4,7],[.2,.8,7]],[[.8,.7,5],[.7,.3,9]]],u=new oe.LinearScale;u.domain=[0,1],u.range=[s*2,a-s];var c=new oe.LinearScale;c.domain=[0,1],c.range=[a-s,s];var d=[];l.forEach(function(h){h.forEach(function(f){var v=n5e(f,3),g=v[0],y=v[1],m=v[2],C=new oe.Arc;C.strokeWidth=0,C.centerX=u.convert(g),C.centerY=c.convert(y),C.radius=m,C.fillOpacity=.7,d.push(C)})}),o.points=d,o.updateColors(r,i);var p=new oe.Group;return p.setClipRectInGroupCoordinateSpace(new oe.BBox(s,s,a-s*2,a-s*2)),p.append(o.points),o.root.append(p),o}return t.prototype.updateColors=function(e,r){this.points.forEach(function(i,o){i.stroke=r[o%r.length],i.fill=e[o%e.length]})},t.chartType="bubble",t}(gi),o5e=function(){var n=function(t,e){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])},n(t,e)};return function(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");n(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}}(),a5e=function(n){o5e(t,n);function t(e,r,i,o,a,s){s===void 0&&(s=t.data);var l=n.call(this,e,"groupedAreaTooltip")||this,u=l.size,c=l.padding,d=new oe.BandScale;d.domain=[0,1,2],d.paddingInner=1,d.paddingOuter=0,d.range=[c+.5,u-c-.5];var p=new oe.LinearScale;p.domain=[0,6],p.range=[u-c+.5,c];var h=s.length,f=h*2-1,v=[],g=p.convert(0);return s.forEach(function(y,m){var C=d.convert(m);y.forEach(function(S,w){var _=p.convert(S),x=v[w]||(v[w]=[]);x[m]={x:C,y:_},x[f-m]={x:C,y:g}})}),l.areas=v.reverse().map(function(y){var m=new oe.Path;m.strokeWidth=1,m.strokeOpacity=.75,m.fillOpacity=.7;var C=m.path;return C.clear(),y.forEach(function(S,w){return C[w>0?"lineTo":"moveTo"](S.x,S.y)}),C.closePath(),m}),l.updateColors(r,i),l.root.append(l.areas),l}return t.prototype.updateColors=function(e,r){this.areas.forEach(function(i,o){i.fill=e[o],i.stroke=r[o]})},t.chartType="area",t.data=[[1,3,5],[2,6,4],[5,3,1]],t}(gi),s5e=function(){var n=function(t,e){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])},n(t,e)};return function(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");n(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}}(),qI=function(n){s5e(t,n);function t(e,r,i,o,a,s,l){s===void 0&&(s=t.data),l===void 0&&(l="stackedAreaTooltip");var u=n.call(this,e,l)||this,c=u.size,d=u.padding,p=new oe.BandScale;p.domain=[0,1,2],p.paddingInner=1,p.paddingOuter=0,p.range=[d+.5,c-d-.5];var h=new oe.LinearScale;h.domain=[0,16],h.range=[c-d+.5,d+.5];var f=s.length,v=f*2-1,g=[];return s.forEach(function(y,m){var C=p.convert(m),S=0;y.forEach(function(w,_){var x=h.convert(S+w),b=g[_]||(g[_]=[]);b[m]={x:C,y:x},b[v-m]={x:C,y:h.convert(S)},S+=w})}),u.areas=g.map(function(y){var m=new oe.Path;m.strokeWidth=0;var C=m.path;return C.clear(),y.forEach(function(S,w){return C[w>0?"lineTo":"moveTo"](S.x,S.y)}),C.closePath(),m}),u.updateColors(r,i),u.root.append(u.areas),u}return t.prototype.updateColors=function(e,r){this.areas.forEach(function(i,o){i.fill=e[o],i.stroke=r[o]})},t.chartType="stackedArea",t.data=[[2,3,2],[3,6,5],[6,2,2]],t}(gi),l5e=function(){var n=function(t,e){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])},n(t,e)};return function(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");n(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}}(),u5e=function(n){l5e(t,n);function t(e,r,i,o,a,s){return s===void 0&&(s=t.data),n.call(this,e,r,i,o,a,s,"normalizedAreaTooltip")||this}return t.chartType="normalizedArea",t.data=qI.data.map(function(e){var r=e.reduce(function(i,o){return i+o},0);return e.map(function(i){return i/r*16})}),t}(qI),c5e=function(){var n=function(t,e){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])},n(t,e)};return function(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");n(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}}(),qz=function(n,t){var e=typeof Symbol=="function"&&n[Symbol.iterator];if(!e)return n;var r=e.call(n),i,o=[],a;try{for(;(t===void 0||t-- >0)&&!(i=r.next()).done;)o.push(i.value)}catch(s){a={error:s}}finally{try{i&&!i.done&&(e=r.return)&&e.call(r)}finally{if(a)throw a.error}}return o},d5e=function(n){c5e(t,n);function t(e,r,i){var o=n.call(this,e,"histogramTooltip")||this,a=o.padding,s=o.size,l=[2,5,11,13,10,6,1],u=new oe.LinearScale;u.domain=[0,l.length],u.range=[a,s-a];var c=new oe.LinearScale;c.domain=[0,l.reduce(function(p,h){return Math.max(p,h)},0)],c.range=[s-a,a];var d=c.convert(0);return o.bars=l.map(function(p,h){var f=c.convert(p),v=u.convert(h),g=u.convert(h+1),y=new oe.Rect;return y.x=v,y.y=f,y.width=g-v,y.height=d-f,y.strokeWidth=1,y.strokeOpacity=.75,y.crisp=!0,y}),o.updateColors(r,i),o.root.append(o.bars),o}return t.prototype.updateColors=function(e,r){var i=qz(e,1),o=i[0],a=qz(r,1),s=a[0];this.bars.forEach(function(l){l.fill=o,l.stroke=s})},t.chartType="histogram",t}(gi),p5e=function(){var n=function(t,e){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])},n(t,e)};return function(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");n(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}}(),h5e=function(n,t,e,r){var i=arguments.length,o=i<3?t:r===null?r=Object.getOwnPropertyDescriptor(t,e):r,a;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(n,t,e,r);else for(var s=n.length-1;s>=0;s--)(a=n[s])&&(o=(i<3?a(o):i>3?a(t,e,o):a(t,e))||o);return i>3&&o&&Object.defineProperty(t,e,o),o},sy=function(n){p5e(t,n);function t(e,r){var i=n.call(this,e,r)||this;return i.stroke="gray",i.showRadiusAxisLine=!0,i.showAngleAxisLines=!0,i}return t.prototype.addAxes=function(){var e=this,r=this.size,i=this.padding,o=i*2,a=(r-o)/2,s=this.showAngleAxisLines?[a,a*.8,a*.6,a*.4]:[],l=new oe.Line;l.x1=r/2,l.y1=i,l.x2=r/2,l.y2=r-i-a-s[s.length-1],l.stroke=this.stroke,l.strokeOpacity=.5,l.fill=void 0,l.visible=this.showRadiusAxisLine;var u=i+a;this.gridLines=s.map(function(d,p){var h=new oe.Path;return h.path.arc(u,u,d,0,2*Math.PI),h.strokeWidth=1,h.stroke=e.stroke,h.strokeOpacity=p===0?.5:.2,h.fill=void 0,h});var c=this.root;c.append(l),this.gridLines.length>0&&c.append(this.gridLines)},h5e([z],t.prototype,"addAxes",null),t}(ay),f5e=function(){var n=function(t,e){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])},n(t,e)};return function(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");n(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}}(),v5e=function(n){f5e(t,n);function t(e,r,i){var o=n.call(this,e,"radialColumnTooltip")||this;o.data=[[6,8,10,2,6,5],[4,4,3,6,4,4],[5,4,2,9,8,9]],o.showRadiusAxisLine=!1;var a=o,s=a.padding,l=a.size,u=a.data,c=(l-s*2)/2,d=.4,p=c*d,h=new oe.BandScale;h.domain=u[0].map(function(S,w){return w}),h.range=[0,2*Math.PI],h.paddingInner=0,h.paddingOuter=0;var f=h.bandwidth*.7,v=OP(u),g=v.processedData,y=v.max,m=new oe.LinearScale;m.domain=[0,y],m.range=[p,c];var C=o.size/2;return o.series=g.map(function(S,w){var _=w===0,x=_?void 0:g[w-1],b=new oe.Group({zIndex:1e6}),O=S.map(function(T,A){var N=x==null?void 0:x[A],M=m.convert(T),L=m.convert(N??0),G=h.convert(A),H=G+f,j=oe.getRadialColumnWidth(G,H,c,.5,.5),V=new oe.RadialColumnShape;return V.scalingCenterX=C,V.scalingCenterY=C,V.columnWidth=j,V.innerRadius=L,V.outerRadius=M,V.startAngle=G,V.endAngle=H,V.isBeveled=!0,V.axisInnerRadius=p,V.axisOuterRadius=c,V.stroke=void 0,V.strokeWidth=0,V});return b.append(O),b.translationX=C,b.translationY=C,b}),o.root.append(o.series),o.updateColors(r,i),o}return t.prototype.updateColors=function(e,r){this.series.forEach(function(i,o){var a;(a=i.children)===null||a===void 0||a.forEach(function(s){s.fill=e[o%e.length],s.stroke=r[o%r.length]})})},t.chartType="radialColumn",t}(sy),g5e=function(){var n=function(t,e){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])},n(t,e)};return function(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");n(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}}(),y5e=function(n){g5e(t,n);function t(e,r,i){var o=n.call(this,e,"radialBarTooltip")||this;o.data=[[6,8,10],[4,4,3],[5,4,2]],o.showRadiusAxisLine=!1;var a=(o.size-o.padding)/2,s=.4,l=a*s,u=a+l,c=new oe.BandScale;c.domain=o.data[0].map(function(C,S){return S}),c.range=[a,l],c.paddingInner=.5,c.paddingOuter=0;var d=c.bandwidth,p=OP(o.data),h=p.processedData,f=p.max,v=new oe.LinearScale;v.domain=[0,Math.ceil(f*1.5)];var g=3/2*Math.PI,y=g+2*Math.PI;v.range=[g,y];var m=o.size/2;return o.series=h.map(function(C,S){var w=S<0?void 0:h[S-1],_=new oe.Group({zIndex:1e6}),x=C.map(function(b,O){var T,A=(T=w==null?void 0:w[O])!==null&&T!==void 0?T:0,N=u-c.convert(O),M=N+d,L=v.convert(A),G=v.convert(b),H=new oe.Sector;return H.centerX=m,H.centerY=m,H.innerRadius=N,H.outerRadius=M,H.startAngle=L,H.endAngle=G,H.stroke=void 0,H.strokeWidth=0,H});return _.append(x),_}),o.root.append(o.series),o.updateColors(r,i),o}return t.prototype.updateColors=function(e,r){this.series.forEach(function(i,o){var a;(a=i.children)===null||a===void 0||a.forEach(function(s){s.fill=e[o%e.length],s.stroke=r[o%r.length]})})},t.chartType="radialBar",t}(sy),m5e=function(){var n=function(t,e){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])},n(t,e)};return function(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");n(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}}(),C5e=function(n){m5e(t,n);function t(e,r,i){var o=n.call(this,e,"radarLineTooltip")||this;o.markerSize=4,o.data=[[8,7,8,7,8,8,7,8],[6,8,5,10,6,7,4,6],[0,3,3,5,4,4,2,0]],o.showRadiusAxisLine=!1;var a=(o.size-o.padding*2)/2,s=0,l=Wte(o.root,o.data,o.size,a,s,o.markerSize),u=l.paths,c=l.markers;return o.lines=u,o.markers=c,o.updateColors(r,i),o}return t.prototype.updateColors=function(e,r){var i=this;this.lines.forEach(function(o,a){var s=i.data[a].length;o.stroke=e[a];var l=a*s,u=l+s,c=i.markers.slice(l,u);c.forEach(function(d){d.stroke=r[a],d.fill=e[a]})})},t.chartType="radarLine",t}(sy),S5e=function(){var n=function(t,e){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])},n(t,e)};return function(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");n(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}}(),w5e=function(n){S5e(t,n);function t(e,r,i){var o=n.call(this,e,"radarAreaTooltip")||this;o.data=[[8,10,5,7,4,1,5,8],[1,1,2,7,7,8,10,1],[4,5,9,9,4,2,3,4]],o.showRadiusAxisLine=!1;var a=(o.size-o.padding*2)/2,s=a-o.size*.3;return o.areas=Wte(o.root,o.data,o.size,a,s).paths,o.updateColors(r,i),o}return t.prototype.updateColors=function(e,r){this.areas.forEach(function(i,o){i.fill=e[o],i.stroke=r[o]})},t.chartType="radarArea",t}(sy),_5e=function(){var n=function(t,e){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])},n(t,e)};return function(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");n(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}}(),x5e=function(n){_5e(t,n);function t(e,r,i){var o=n.call(this,e,"nightingaleTooltip")||this;o.data=[[6,10,9,8,7,8],[4,6,5,4,5,5],[3,5,4,3,4,7]],o.showRadiusAxisLine=!1;var a=(o.size-o.padding*2)/2,s=new oe.BandScale;s.domain=o.data[0].map(function(f,v){return v}),s.range=[-Math.PI,Math.PI],s.paddingInner=0,s.paddingOuter=0;var l=s.bandwidth*.7,u=OP(o.data),c=u.processedData,d=u.max,p=new oe.LinearScale;p.domain=[0,d],p.range=[0,a];var h=o.size/2;return o.series=c.map(function(f,v){var g=v<0?void 0:c[v-1],y=new oe.Group({zIndex:1e6}),m=f.map(function(C,S){var w=g==null?void 0:g[S],_=p.convert(C),x=p.convert(w??0),b=s.convert(S),O=b+l,T=new oe.Sector;return T.centerX=h,T.centerY=h,T.innerRadius=x,T.outerRadius=_,T.startAngle=b,T.endAngle=O,T.stroke=void 0,T.strokeWidth=0,T});return y.append(m),y}),o.root.append(o.series),o.updateColors(r,i),o}return t.prototype.updateColors=function(e,r){this.series.forEach(function(i,o){var a;(a=i.children)===null||a===void 0||a.forEach(function(s){s.fill=e[o%e.length],s.stroke=r[o%r.length]})})},t.chartType="nightingale",t}(sy),E5e=function(){var n=function(t,e){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])},n(t,e)};return function(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");n(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}}(),b5e=function(n,t){var e=typeof Symbol=="function"&&n[Symbol.iterator];if(!e)return n;var r=e.call(n),i,o=[],a;try{for(;(t===void 0||t-- >0)&&!(i=r.next()).done;)o.push(i.value)}catch(s){a={error:s}}finally{try{i&&!i.done&&(e=r.return)&&e.call(r)}finally{if(a)throw a.error}}return o},O5e=function(n){E5e(t,n);function t(e,r,i){var o=n.call(this,e,"rangeBarTooltip")||this,a=[3,3.5,3];return o.bars=o.createRangeBar(o.root,a,o.size,o.padding,"vertical"),o.updateColors(r,i),o}return t.prototype.updateColors=function(e,r){this.bars.forEach(function(i,o){i.fill=e[o],i.stroke=r[o]})},t.prototype.createRangeBar=function(e,r,i,o,a){var s=a==="horizontal",l=2*o,u=new oe.BandScale;u.domain=r.map(function(v,g){return g}),u.range=[o,i-o],u.paddingInner=.3,u.paddingOuter=.3;var c=.7,d=1.3,p=new oe.LinearScale;p.domain=[r.reduce(function(v,g){return Math.min(v,g)},1/0)*c,r.reduce(function(v,g){return Math.max(v,g)},0)*d],p.range=[l,i-l];var h=u.bandwidth,f=r.map(function(v,g){var y=b5e([v*c,v*d],2),m=y[0],C=y[1],S=u.convert(g),w=p.convert(m),_=p.convert(C)-w,x=new oe.Rect;return x.x=s?w:S,x.y=s?S:w,x.width=s?_:h,x.height=s?h:_,x.strokeWidth=0,x.crisp=!0,x});return e.append(f),f},t.chartType="rangeBar",t}(gi),R5e=function(){var n=function(t,e){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])},n(t,e)};return function(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");n(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}}(),sC=function(n,t){var e=typeof Symbol=="function"&&n[Symbol.iterator];if(!e)return n;var r=e.call(n),i,o=[],a;try{for(;(t===void 0||t-- >0)&&!(i=r.next()).done;)o.push(i.value)}catch(s){a={error:s}}finally{try{i&&!i.done&&(e=r.return)&&e.call(r)}finally{if(a)throw a.error}}return o},Kte=function(n,t,e){if(e||arguments.length===2)for(var r=0,i=t.length,o;r<i;r++)(o||!(r in t))&&(o||(o=Array.prototype.slice.call(t,0,r)),o[r]=t[r]);return n.concat(o||Array.prototype.slice.call(t))},T5e=function(n){R5e(t,n);function t(e,r,i){var o=n.call(this,e,"rangeAreaTooltip")||this,a=4,s=[CM({offset:.375*a,length:a,pattern:{low:3,high:5,period:a}}),CM({offset:.375*a,length:a,pattern:{low:2.25,high:4.25,period:a}}),CM({offset:.75*a,length:a,pattern:{low:2.5,high:4.5,period:a}})],l=1.75,u=s.map(function(h){return h.map(function(f){var v=sC(f,2),g=v[0],y=v[1];return{x:g,low:y-.5*l,high:y+.5*l}})}),c=o.createRangeArea(o.root,u,o.size,o.padding),d=c.lines,p=c.areas;return o.lines=d,o.areas=p,o.updateColors(r,i),o}return t.prototype.updateColors=function(e,r){e=Qz(e,1,2),r=Qz(r,1,2),this.lines.forEach(function(i,o){var a=sC(i,2),s=a[0],l=a[1];s.fill=void 0,s.stroke=r[o],l.fill=void 0,l.stroke=r[o]}),this.areas.forEach(function(i,o){i.fill=e[o]})},t.prototype.createRangeArea=function(e,r,i,o){var a=r.reduce(function(g,y){return y.reduce(function(m,C){var S=C.x;return Math.min(m,S)},g)},1/0),s=r.reduce(function(g,y){return y.reduce(function(m,C){var S=C.x;return Math.max(m,S)},g)},-1/0),l=r.reduce(function(g,y){return y.reduce(function(m,C){var S=C.low;return Math.min(m,S)},g)},1/0),u=r.reduce(function(g,y){return y.reduce(function(m,C){var S=C.high;return Math.max(m,S)},g)},-1/0),c=new oe.LinearScale;c.domain=[a,s],c.range=[o,i-o];var d=2*o,p=new oe.LinearScale;p.domain=[l,u],p.range=[i-d,d];var h=[],f=[],v=r.map(function(g){var y=new oe.Path,m=new oe.Path,C=new oe.Path;return h.push([y,m]),f.push(C),y.strokeWidth=0,m.strokeWidth=0,C.strokeWidth=0,C.fillOpacity=.8,y.path.clear(),m.path.clear(),C.path.clear(),g.map(function(S,w){var _=S.x,x=S.low,b=S.high,O=c.convert(_),T=p.convert(x),A=p.convert(b),N=w>0?"lineTo":"moveTo";return y.path[N](O,A),m.path[N](O,T),C.path[N](O,A),[O,T]})});return v.forEach(function(g,y){for(var m=g.length-1,C=f[y],S=m;S>=0;S--){var w=sC(g[S],2),_=w[0],x=w[1];C.path.lineTo(_,x)}}),e.append(f.concat.apply(f,Kte([],sC(h),!1))),{lines:h,areas:f}},t.chartType="rangeArea",t}(gi);function CM(n){var t=n.offset,e=n.length,r=n.pattern,i=s(t,e,r),o=0,a=e;return(i.length===0||i[0][0]!==o)&&i.unshift(l(o,t,r)),i[i.length-1][0]!==a&&i.push(l(a,t,r)),i;function s(c,d,p){var h=p.period,f=c/h,v=[0,.5],g=v.map(function(m){return m-f}).map(Zz).sort(function(m,C){return m-C}),y=Array.from({length:Math.floor(g.length*(h/d))},function(m,C){return g[C%g.length]+Math.floor(C/g.length)});return y.map(function(m){return m*h}).map(function(m){return l(m,c,p)})}function l(c,d,p){return[c,u(d+c,p)]}function u(c,d){var p=d.low,h=d.high,f=d.period,v=Zz(c/f),g=v>.5?1-2*(v-.5):2*v;return p+(h-p)*g}}function Zz(n){var t=n%1;return t<0?t+1:t}function Qz(n,t,e){var r=Kte([],sC(n),!1),i=r[t];return r[t]=r[e],r[e]=i,r}var P5e=function(){var n=function(t,e){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])},n(t,e)};return function(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");n(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}}(),A5e=function(n,t){var e=typeof Symbol=="function"&&n[Symbol.iterator];if(!e)return n;var r=e.call(n),i,o=[],a;try{for(;(t===void 0||t-- >0)&&!(i=r.next()).done;)o.push(i.value)}catch(s){a={error:s}}finally{try{i&&!i.done&&(e=r.return)&&e.call(r)}finally{if(a)throw a.error}}return o},D5e=function(n){P5e(t,n);function t(e,r,i,o,a){var s=n.call(this,e,"boxPlotTooltip")||this,l=s.padding,u=s.size,c=[11,11.5,10.5],d=1.2,p=1.1,h=.9,f=.8,v=new oe.LinearScale;v.domain=[c.reduce(function(C,S){return Math.min(C,S)},1/0)*f,c.reduce(function(C,S){return Math.max(C,S)},0)*d],v.range=[u-1.5*l,l];var g=new oe.BandScale;g.domain=c.map(function(C,S){return S}),g.range=[l,u-l],g.paddingInner=.4,g.paddingOuter=.2;var y=Math.round(g.bandwidth),m=Math.round(g.bandwidth/2);return s.boxPlotGroups=c.map(function(C,S){var w=A5e([C*f,C*h,C*p,C*d],4),_=w[0],x=w[1],b=w[2],O=w[3],T=Math.round(v.convert(b)),A=Math.round(g.convert(S)),N=Math.round(A+y),M=Math.round(v.convert(x)),L=Math.round(v.convert(_)),G=Math.round(v.convert(C)),H=Math.round(v.convert(O)),j=A+m,V=new oe.Group,W=new oe.Rect,K=new oe.Line,ee=new oe.Line,Z=new oe.Line,se=new oe.Line,ie=new oe.Line;return W.x=A,W.y=T,W.width=y,W.height=M-T,W.strokeWidth=1,W.strokeOpacity=.75,W.crisp=!0,s.setLineProperties(K,A,N,G,G),s.setLineProperties(ee,j,j,H,T),s.setLineProperties(Z,j,j,L,M),s.setLineProperties(se,A,N,H,H),s.setLineProperties(ie,A,N,L,L),V.append([W,K,ee,Z,se,ie]),V}),s.updateColors(r,i,o,a),s.root.append(s.boxPlotGroups),s}return t.prototype.updateColors=function(e,r,i,o){var a,s=i==null?void 0:i.properties.get(Ns.DEFAULT_BACKGROUND_COLOUR),l=(a=Array.isArray(s)?s[0]:s)!==null&&a!==void 0?a:"white";this.boxPlotGroups.forEach(function(u,c){var d;(d=u.children)===null||d===void 0||d.forEach(function(p){var h=e[c%e.length];p.fill=o?h:xr.Color.interpolate(h,l)(.7),p.stroke=r[c%r.length]})})},t.prototype.setLineProperties=function(e,r,i,o,a){e.x1=r,e.x2=i,e.y1=o,e.y2=a,e.strokeOpacity=.75},t.chartType="boxPlot",t}(gi),M5e=function(){var n=function(t,e){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])},n(t,e)};return function(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");n(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}}(),F5e=function(n,t){var e=typeof Symbol=="function"&&n[Symbol.iterator];if(!e)return n;var r=e.call(n),i,o=[],a;try{for(;(t===void 0||t-- >0)&&!(i=r.next()).done;)o.push(i.value)}catch(s){a={error:s}}finally{try{i&&!i.done&&(e=r.return)&&e.call(r)}finally{if(a)throw a.error}}return o},L5e=function(n,t,e){if(e||arguments.length===2)for(var r=0,i=t.length,o;r<i;r++)(o||!(r in t))&&(o||(o=Array.prototype.slice.call(t,0,r)),o[r]=t[r]);return n.concat(o||Array.prototype.slice.call(t))},I5e=function(n){M5e(t,n);function t(e,r,i,o,a){var s=n.call(this,e,"treemapTooltip")||this,l=s,u=l.size,c=l.padding,d=[[1,1],[3,2,1]],p=d.length,h=p%2===0?.3:.2,f=[c,u-c],v=d.length,g=v*(v+1)/2,y=h/(v-1),m=f[1]-f[0],C=m-h,S=f[0];s.rects=d.reduce(function(_,x,b){_??(_=[]);var O=(v-b)/g,T=C*O,A=x.length,N=x.reduce(function(j,V){return j+=V},0),M=h/(A-1||1),L=A>1?m-h:m,G=f[0],H=x.map(function(j){var V=new oe.Rect,W=L*j/N;return V.x=S,V.y=G,V.width=T,V.height=W,V.strokeWidth=.75,V.crisp=!0,G+=W+M,V});return S+=T+y,_.push.apply(_,L5e([],F5e(H),!1)),_},[]),s.updateColors(r,i,o,a);var w=new oe.Group;return w.setClipRectInGroupCoordinateSpace(new oe.BBox(c,c,u-c,u-c)),w.append(s.rects),s.root.append(w),s}return t.prototype.updateColors=function(e,r,i,o){var a,s=(i??{}).properties,l=s==null?void 0:s.get(Ns.DEFAULT_BACKGROUND_COLOUR),u=(a=Array.isArray(l)?l[0]:l)!==null&&a!==void 0?a:"white";this.rects.forEach(function(c,d){c.fill=e[d%r.length],c.stroke=o?r[d%r.length]:u})},t.chartType="treemap",t}(ay),N5e=function(){var n=function(t,e){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])},n(t,e)};return function(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");n(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}}(),k5e=function(n){N5e(t,n);function t(e,r,i){var o=n.call(this,e,"sunburstTooltip")||this;o.data=[[[],[]],[[],[]],[[],[]]],o.angleOffset=-Math.PI/2,o.innerRadiusRatio=0,o.showRadiusAxisLine=!1,o.showAngleAxisLines=!1;var a=o,s=a.data,l=a.size,u=a.padding,c=a.angleOffset,d=a.innerRadiusRatio,p=(l-u*2)/2,h=[c+0,c+2*Math.PI],f=Math.abs(h[1]-h[0]),v=[p*d,p],g=Math.abs(v[1]-v[0]),y=0,m=function(x,b){x.forEach(function(O){var T=b+1;y=Math.max(y,T),m(O,T)})};m(s,0);var C=g/y,S=o.size/2,w=h[0];o.series=[];var _=function(x,b,O,T,A){var N=Array.isArray(x);if(N){var M=b+1,L=O;x.forEach(function(G,H,j){var V=A;V||(V=new oe.Group,o.series.push(V));var W=v[0]+b*C,K=v[0]+M*C,ee=1/j.length,Z=L,se=Z+T*ee,ie=new oe.Sector;ie.centerX=S,ie.centerY=S,ie.innerRadius=W,ie.outerRadius=K,ie.startAngle=Z,ie.endAngle=se,ie.stroke=void 0,ie.strokeWidth=0,ie.inset=.75,L=se,V.append(ie),_(G,M,Z,Math.abs(se-Z),V)})}};return _(s,0,w,f),o.root.append(o.series),o.updateColors(r,i),o}return t.prototype.updateColors=function(e,r){this.series.forEach(function(i,o){var a;(a=i.children)===null||a===void 0||a.forEach(function(s){s.fill=e[o%e.length],s.stroke=r[o%r.length]})})},t.chartType="sunburst",t}(sy),G5e=function(){var n=function(t,e){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])},n(t,e)};return function(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");n(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}}(),V5e=function(n,t){var e=typeof Symbol=="function"&&n[Symbol.iterator];if(!e)return n;var r=e.call(n),i,o=[],a;try{for(;(t===void 0||t-- >0)&&!(i=r.next()).done;)o.push(i.value)}catch(s){a={error:s}}finally{try{i&&!i.done&&(e=r.return)&&e.call(r)}finally{if(a)throw a.error}}return o},B5e=function(n,t,e){if(e||arguments.length===2)for(var r=0,i=t.length,o;r<i;r++)(o||!(r in t))&&(o||(o=Array.prototype.slice.call(t,0,r)),o[r]=t[r]);return n.concat(o||Array.prototype.slice.call(t))},H5e=function(n){G5e(t,n);function t(e,r,i,o,a){var s=this,l,u;s=n.call(this,e,"heatmapTooltip")||this;var c=s,d=c.size,p=c.padding,h=3,f=Array.from({length:h},function(w,_){return Array.from({length:h},function(x,b){return b})}),v=f.map(function(w,_){return _}),g=new oe.BandScale;g.domain=v,g.range=[p,d-p],g.paddingInner=.01,g.paddingOuter=.1;var y=new oe.BandScale;y.domain=v,y.range=[p,d-p],y.paddingInner=.01,y.paddingOuter=.1;var m=(l=g.bandwidth)!==null&&l!==void 0?l:0,C=(u=y.bandwidth)!==null&&u!==void 0?u:0;s.rects=f.reduce(function(w,_,x){w??(w=[]);var b=_.map(function(O,T){var A=new oe.Rect;return A.x=g.convert(x),A.y=y.convert(T),A.width=m,A.height=C,A.strokeWidth=0,A.crisp=!0,A});return w.push.apply(w,B5e([],V5e(b),!1)),w},[]),s.updateColors(r,i,o,a);var S=new oe.Group;return S.setClipRectInGroupCoordinateSpace(new oe.BBox(p,p,d-p,d-p)),S.append(s.rects),s.root.append(S),s}return t.prototype.updateColors=function(e,r,i,o){var a,s=(i??{}).properties,l=s==null?void 0:s.get(Ns.DEFAULT_DIVERGING_SERIES_COLOUR_RANGE),u=s==null?void 0:s.get(Ns.DEFAULT_BACKGROUND_COLOUR),c=(a=Array.isArray(u)?u[0]:u)!==null&&a!==void 0?a:"white",d=o?[e[0],e[1]]:l,p=o?r[0]:c;this.rects.forEach(function(h,f){h.fill=xr.Color.interpolate(d[0],d[1])(f*.2),h.stroke=p})},t.chartType="heatmap",t}(ay),j5e=function(){var n=function(t,e){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])},n(t,e)};return function(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");n(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}}(),$5e=function(n,t){var e=typeof Symbol=="function"&&n[Symbol.iterator];if(!e)return n;var r=e.call(n),i,o=[],a;try{for(;(t===void 0||t-- >0)&&!(i=r.next()).done;)o.push(i.value)}catch(s){a={error:s}}finally{try{i&&!i.done&&(e=r.return)&&e.call(r)}finally{if(a)throw a.error}}return o},W5e=function(n,t,e){if(e||arguments.length===2)for(var r=0,i=t.length,o;r<i;r++)(o||!(r in t))&&(o||(o=Array.prototype.slice.call(t,0,r)),o[r]=t[r]);return n.concat(o||Array.prototype.slice.call(t))},U5e=function(n){j5e(t,n);function t(e,r,i,o,a){var s=n.call(this,e,"waterfallTooltip")||this;return s.data=[4,3,-3,6,-3],s.bars=s.createWaterfall(s.root,s.data,s.size,s.padding,"vertical").bars,s.updateColors(r,i,o,a),s}return t.prototype.updateColors=function(e,r,i,o){var a,s,l=this.data,u=(i??{}).properties,c={fill:e[0],stroke:r[0]},d={fill:e[1],stroke:r[1]},p=o?c:(a=u==null?void 0:u.get(Ns.DEFAULT_WATERFALL_SERIES_POSITIVE_COLOURS))!==null&&a!==void 0?a:c,h=o?d:(s=u==null?void 0:u.get(Ns.DEFAULT_WATERFALL_SERIES_NEGATIVE_COLOURS))!==null&&s!==void 0?s:d;this.bars.forEach(function(f,v){var g=l[v]>=0;f.fill=g?p.fill:h.fill,f.stroke=g?p.stroke:h.stroke})},t.prototype.createWaterfall=function(e,r,i,o,a){var s=2*o,l=OP(r.map(function(w){return[w]})),u=l.processedData,c=l.min,d=l.max,p=u.reduce(function(w,_){return w.concat(_)},[]),h=new oe.LinearScale;h.domain=[Math.min(c,0),d],h.range=[i-s,s];var f=new oe.BandScale;f.domain=r.map(function(w,_){return _}),f.range=[o,i-o],f.paddingInner=.2,f.paddingOuter=.3;var v=f.bandwidth,g=new oe.Path;g.stroke="#575757",g.strokeWidth=0;var y=Math.floor(g.strokeWidth)%2/2,m=g.path;m.clear();var C=a==="horizontal",S=p.map(function(w,_){var x=_>0?p[_-1]:0,b=r[_],O=b>0,T=Math.round(h.convert(w)),A=Math.round(h.convert(x)),N=(O?T:A)-y,M=(O?A:T)+y,L=Math.abs(M-N),G=f.convert(_),H=new oe.Rect;H.x=C?N:G,H.y=C?G:N,H.width=C?L:v,H.height=C?v:L,H.strokeWidth=0,H.crisp=!0;var j=T+y,V=A+y;if(_>0){var W=C?V:H.x,K=C?H.y:V;m.lineTo(W,K)}var ee=C?j:H.x,Z=C?H.y:j;return m.moveTo(ee,Z),H});return e.append(W5e([g],$5e(S),!1)),{bars:S}},t.chartType="waterfall",t}(gi),z5e=function(){var n=function(t,e){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])},n(t,e)};return function(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");n(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}}(),K5e=function(n){z5e(t,n);function t(e,r,i){var o=n.call(this,e,"columnLineComboTooltip")||this;o.columnData=[3,4],o.lineData=[[5,4,6,5,4]];var a=o,s=a.root,l=a.columnData,u=a.lineData,c=a.size,d=a.padding;return o.columns=f0({stacked:!1,root:s,data:l,size:c,padding:d,xScaleDomain:[0,1],yScaleDomain:[0,4],xScalePadding:.5}),s.append(o.columns),o.lines=a2(s,u,c,d),o.updateColors(r,i),o}return t.prototype.updateColors=function(e,r){this.columns.forEach(function(i,o){i.fill=e[o],i.stroke=r[o]}),this.lines.forEach(function(i,o){i.stroke=e[o+2]})},t.chartType="columnLineCombo",t}(gi),Y5e=function(){var n=function(t,e){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])},n(t,e)};return function(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");n(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}}(),X5e=function(n){Y5e(t,n);function t(e,r,i){var o=n.call(this,e,"areaColumnComboTooltip")||this;o.columnData=[3,4.5],o.areaData=[[5,4,6,5,4]];var a=o,s=a.root,l=a.columnData,u=a.areaData,c=a.size,d=a.padding;o.columns=f0({stacked:!1,root:s,data:l,size:c,padding:d,xScaleDomain:[0,1],yScaleDomain:[0,6],xScalePadding:.5});var p=new oe.BandScale;p.range=[d,c-d],p.domain=[0,1,2,3,4],p.paddingInner=1,p.paddingOuter=0;var h=new oe.LinearScale;h.range=[c-d,d],h.domain=[0,6];var f=[],v=h.convert(0),g=p.convert(0);return u.forEach(function(y,m){var C=f[m]||(f[m]=[]);y.forEach(function(w,_){var x=w,b=_,O=p.convert(b),T=h.convert(x);C[_]={x:O,y:T}});var S=p.convert(y.length-1);f[m].push({x:S,y:v},{x:g,y:v})}),o.areas=f.map(function(y){var m=new oe.Path;m.strokeWidth=0,m.fillOpacity=.8;var C=m.path;return y.forEach(function(S,w){return C[w>0?"lineTo":"moveTo"](S.x,S.y)}),m}),s.append(o.areas),s.append([].concat.apply([],o.columns)),o.updateColors(r,i),o}return t.prototype.updateColors=function(e,r){this.areas.forEach(function(i,o){i.fill=e[o],i.stroke=r[o]}),this.columns.forEach(function(i,o){i.fill=e[o+1],i.stroke=r[o+1]})},t.chartType="areaColumnCombo",t}(gi),q5e=function(){var n=function(t,e){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])},n(t,e)};return function(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");n(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}}(),Z5e=function(n){q5e(t,n);function t(e,r,i){var o=n.call(this,e,"customComboTooltip")||this;o.columnData=[3,4],o.lineData=[[5,4,6,5,4]];var a=o,s=a.root,l=a.columnData,u=a.lineData,c=a.size,d=a.padding;o.columns=f0({stacked:!1,root:s,data:l,size:c,padding:d,xScaleDomain:[0,1],yScaleDomain:[0,4],xScalePadding:.5}),s.append(o.columns),o.lines=a2(s,u,c,d);var p="grey",h=3,f=new oe.Line;f.x1=d,f.y1=d,f.x2=d,f.y2=c-d+h,f.stroke=p;var v=new oe.Line;v.x1=d-h+1,v.y1=c-d,v.x2=c-d+1,v.y2=c-d,v.stroke=p;var g=new oe.Path;return o.buildPenIconPath(g),g.fill="whitesmoke",g.stroke="darkslategrey",g.strokeWidth=1,s.append([v,f,g]),o.updateColors(r,i),o}return t.prototype.updateColors=function(e,r){this.columns.forEach(function(i,o){i.fill=e[o],i.stroke=r[o]}),this.lines.forEach(function(i,o){i.stroke=e[o+2]})},t.prototype.buildPenIconPath=function(e){var r=e.path;r.moveTo(25.76,43.46),r.lineTo(31.27,48.53),r.moveTo(49.86,22),r.lineTo(49.86,22),r.cubicCurveTo(49.01994659053345,21.317514933510974,47.89593834348529,21.09645997825817,46.86,21.41),r.lineTo(46.86,21.41),r.cubicCurveTo(45.55460035985361,21.77260167850787,44.38777081121966,22.517979360321792,43.51,23.55),r.lineTo(25.51,43.8),r.lineTo(25.43,43.89),r.lineTo(23.01,51.89),r.lineTo(22.83,52.46),r.lineTo(31.02,48.86),r.lineTo(49.02,28.52),r.lineTo(49.02,28.52),r.cubicCurveTo(49.940716461596224,27.521914221246085,50.54302631059587,26.2720342455763,50.75,24.93),r.lineTo(50.75,24.93),r.cubicCurveTo(50.95363374988308,23.866379846512814,50.62080640232334,22.77066734274871,49.86,22),r.closePath(),r.moveTo(41.76,25.5),r.lineTo(47.34,30.5),r.moveTo(40.74,26.65),r.lineTo(46.25,31.71)},t.chartType="customCombo",t}(ay),Q5e=function(){var n=function(t,e){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])},n(t,e)};return function(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");n(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}}(),ZI=function(){return ZI=Object.assign||function(n){for(var t,e=1,r=arguments.length;e<r;e++){t=arguments[e];for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(n[i]=t[i])}return n},ZI.apply(this,arguments)},Jz=function(n,t,e,r){var i=arguments.length,o=i<3?t:r===null?r=Object.getOwnPropertyDescriptor(t,e):r,a;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(n,t,e,r);else for(var s=n.length-1;s>=0;s--)(a=n[s])&&(o=(i<3?a(o):i>3?a(t,e,o):a(t,e))||o);return i>3&&o&&Object.defineProperty(t,e,o),o},e5=function(n){var t=typeof Symbol=="function"&&Symbol.iterator,e=t&&n[t],r=0;if(e)return e.call(n);if(n&&typeof n.length=="number")return{next:function(){return n&&r>=n.length&&(n=void 0),{value:n&&n[r++],done:!n}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")},t5={columnGroup:{column:{range:!0,pivot:!0,enterprise:!1,icon:Gze},stackedColumn:{range:!0,pivot:!0,enterprise:!1,icon:Ute},normalizedColumn:{range:!0,pivot:!0,enterprise:!1,icon:Hze}},barGroup:{bar:{range:!0,pivot:!0,enterprise:!1,icon:$ze},stackedBar:{range:!0,pivot:!0,enterprise:!1,icon:zte},normalizedBar:{range:!0,pivot:!0,enterprise:!1,icon:zze}},pieGroup:{pie:{range:!0,pivot:!0,enterprise:!1,icon:qze},donut:{range:!0,pivot:!0,enterprise:!1,icon:XI},doughnut:{range:!0,pivot:!0,enterprise:!1,icon:XI}},lineGroup:{line:{range:!0,pivot:!0,enterprise:!1,icon:Qze}},scatterGroup:{scatter:{range:!0,pivot:!0,enterprise:!1,icon:t5e},bubble:{range:!0,pivot:!0,enterprise:!1,icon:i5e}},areaGroup:{area:{range:!0,pivot:!0,enterprise:!1,icon:a5e},stackedArea:{range:!0,pivot:!0,enterprise:!1,icon:qI},normalizedArea:{range:!0,pivot:!0,enterprise:!1,icon:u5e}},polarGroup:{radarLine:{range:!0,pivot:!1,enterprise:!0,icon:C5e},radarArea:{range:!0,pivot:!1,enterprise:!0,icon:w5e},nightingale:{range:!0,pivot:!1,enterprise:!0,icon:x5e},radialColumn:{range:!0,pivot:!1,enterprise:!0,icon:v5e},radialBar:{range:!0,pivot:!1,enterprise:!0,icon:y5e}},statisticalGroup:{boxPlot:{range:!0,pivot:!1,enterprise:!0,icon:D5e},histogram:{range:!0,pivot:!1,enterprise:!1,icon:d5e},rangeBar:{range:!0,pivot:!1,enterprise:!0,icon:O5e},rangeArea:{range:!0,pivot:!1,enterprise:!0,icon:T5e}},hierarchicalGroup:{treemap:{range:!0,pivot:!0,enterprise:!0,icon:I5e},sunburst:{range:!0,pivot:!0,enterprise:!0,icon:k5e}},specializedGroup:{heatmap:{range:!0,pivot:!1,enterprise:!0,icon:H5e},waterfall:{range:!0,pivot:!1,enterprise:!0,icon:U5e}},combinationGroup:{columnLineCombo:{range:!0,pivot:!0,enterprise:!1,icon:K5e},areaColumnCombo:{range:!0,pivot:!0,enterprise:!1,icon:X5e},customCombo:{range:!0,pivot:!0,enterprise:!1,icon:Z5e}}},J5e=function(n){Q5e(t,n);function t(e,r,i,o,a,s){s===void 0&&(s=bq);var l=n.call(this,t.TEMPLATE)||this;return l.wrappers={},l.chartController=e,l.fills=r,l.strokes=i,l.themeTemplateParameters=o,l.isCustomTheme=a,l.chartGroups=ZI({},s),l}return t.prototype.init=function(){var e,r,i,o,a=this,s=this.getGui(),l=this.chartController.isEnterprise(),u=this.chartController.isPivotChart(),c=!u,d=Object.keys(this.chartGroups).map(function(x){var b,O=x in t5?t5[x]:void 0;if(!O)return D.warnOnce("invalid chartGroupsDef config '".concat(x,"'")),null;var T=(b=a.chartGroups[x])!==null&&b!==void 0?b:[],A=T.map(function(N){var M=N in O?O[N]:void 0;return M?!l&&M.enterprise?null:c&&M.range||u&&M.pivot?M:null:(D.warnOnce("invalid chartGroupsDef config '".concat(x,".").concat(N,"'")),null)}).filter(function(N){return N!=null});return A.length===0?null:{label:a.chartTranslationService.translate(x),items:A}}).filter(function(x){return x!=null});try{for(var p=e5(d),h=p.next();!h.done;h=p.next()){var f=h.value,v=f.label,g=f.items,y=this.createBean(new Na({title:v,suppressEnabledCheckbox:!0,enabled:!0,suppressOpenCloseIcons:!0,cssIdentifier:"charts-settings",direction:"horizontal"})),m=function(x){var b=x.icon,O=document.createElement("div");O.classList.add("ag-chart-mini-thumbnail");var T=b.chartType;C.addManagedListener(O,"click",function(){a.chartController.setChartType(T),a.updateSelectedMiniChart()}),C.wrappers[T]=O,C.createBean(new b(O,C.fills,C.strokes,C.themeTemplateParameters,C.isCustomTheme)),y.addItem(O)},C=this;try{for(var S=(i=void 0,e5(g)),w=S.next();!w.done;w=S.next()){var _=w.value;m(_)}}catch(x){i={error:x}}finally{try{w&&!w.done&&(o=S.return)&&o.call(S)}finally{if(i)throw i.error}}s.appendChild(y.getGui())}}catch(x){e={error:x}}finally{try{h&&!h.done&&(r=p.return)&&r.call(p)}finally{if(e)throw e.error}}!this.chartController.customComboExists()&&this.chartGroups.combinationGroup&&(this.chartGroups.combinationGroup=this.chartGroups.combinationGroup.filter(function(x){return x!=="customCombo"})),this.updateSelectedMiniChart()},t.prototype.updateSelectedMiniChart=function(){var e=this.chartController.getChartType();for(var r in this.wrappers){var i=this.wrappers[r],o=r===e;i.classList.toggle("ag-selected",o)}},t.TEMPLATE='<div class="ag-chart-settings-mini-wrapper"></div>',Jz([E("chartTranslationService")],t.prototype,"chartTranslationService",void 0),Jz([z],t.prototype,"init",null),t}(de),e4e=function(){var n=function(t,e){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])},n(t,e)};return function(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");n(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}}(),Pp=function(n,t,e,r){var i=arguments.length,o=i<3?t:r===null?r=Object.getOwnPropertyDescriptor(t,e):r,a;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(n,t,e,r);else for(var s=n.length-1;s>=0;s--)(a=n[s])&&(o=(i<3?a(o):i>3?a(t,e,o):a(t,e))||o);return i>3&&o&&Object.defineProperty(t,e,o),o},t4e=function(n){e4e(t,n);function t(e){var r=n.call(this,t.TEMPLATE)||this;return r.miniChartsContainers=[],r.cardItems=[],r.activePaletteIndex=0,r.palettes=[],r.themes=[],r.chartController=e,r}return t.prototype.postConstruct=function(){var e=this;this.resetPalettes(),this.ePrevBtn.insertAdjacentElement("afterbegin",D.createIconNoSpan("previous",this.gridOptionsService)),this.eNextBtn.insertAdjacentElement("afterbegin",D.createIconNoSpan("next",this.gridOptionsService)),this.addManagedListener(this.ePrevBtn,"click",function(){return e.setActivePalette(e.getPrev(),"left")}),this.addManagedListener(this.eNextBtn,"click",function(){return e.setActivePalette(e.getNext(),"right")}),this.addManagedListener(this.chartController,ks.EVENT_CHART_TYPE_CHANGED,function(){return e.resetPalettes(!0)}),this.addManagedListener(this.chartController,ks.EVENT_CHART_API_UPDATE,function(){return e.resetPalettes(!0)}),this.scrollSelectedIntoView()},t.prototype.scrollSelectedIntoView=function(){var e=this;setTimeout(function(){var r=function(s){return!s.getGui().classList.contains("ag-hidden")},i=e.miniChartsContainers.find(r),o=i.getGui().querySelector(".ag-selected");if(o){var a=o.offsetParent;a&&e.eMiniChartsContainer.scrollTo(0,a.offsetTop)}},250)},t.prototype.resetPalettes=function(e){var r=this,i,o,a=this.chartController.getPalettes(),s=this.chartController.getThemeTemplateParameters(),l=(o=(i=this.gridOptionsService.get("chartToolPanelsDef"))===null||i===void 0?void 0:i.settingsPanel)===null||o===void 0?void 0:o.chartGroupsDef;if(!(D.shallowCompare(a,this.palettes)&&!e||this.isAnimating)){this.palettes=a,this.themes=this.chartController.getThemeNames(),this.activePaletteIndex=this.themes.findIndex(function(c){return c===r.chartController.getChartThemeName()}),this.cardItems=[],D.clearElement(this.eCardSelector),this.destroyMiniCharts();var u=this.themes;this.palettes.forEach(function(c,d){var p=r.activePaletteIndex===d,h=c.fills,f=c.strokes,v=u[d],g=!o2(v),y=r.createBean(new J5e(r.chartController,h,f,s[d],g,l));r.miniChartsContainers.push(y),r.eMiniChartsContainer.appendChild(y.getGui()),r.addCardLink(d),p?y.updateSelectedMiniChart():y.setDisplayed(!1)}),D.setDisplayed(this.eNavBar,this.palettes.length>1),D.radioCssClass(this.cardItems[this.activePaletteIndex],"ag-selected","ag-not-selected")}},t.prototype.addCardLink=function(e){var r=this,i=document.createElement("div");i.classList.add("ag-chart-settings-card-item"),this.addManagedListener(i,"click",function(){r.setActivePalette(e,e<r.activePaletteIndex?"left":"right")}),this.eCardSelector.appendChild(i),this.cardItems.push(i)},t.prototype.getPrev=function(){var e=this.activePaletteIndex-1;return e<0&&(e=this.palettes.length-1),e},t.prototype.getNext=function(){var e=this.activePaletteIndex+1;return e>=this.palettes.length&&(e=0),e},t.prototype.setActivePalette=function(e,r){var i=this;if(!(this.isAnimating||this.activePaletteIndex===e)){D.radioCssClass(this.cardItems[e],"ag-selected","ag-not-selected");var o=this.miniChartsContainers[this.activePaletteIndex],a=o.getGui(),s=this.miniChartsContainers[e],l=s.getGui();o.updateSelectedMiniChart(),s.updateSelectedMiniChart();var u=r==="left"?-1:1,c=l.style.left="".concat(D.getAbsoluteWidth(this.getGui())*u,"px");this.activePaletteIndex=e,this.isAnimating=!0;var d="ag-animating";s.setDisplayed(!0),o.addCssClass(d),s.addCssClass(d),this.chartController.setChartThemeName(this.themes[e]),window.setTimeout(function(){a.style.left="".concat(-parseFloat(c),"px"),l.style.left="0px"},0),window.setTimeout(function(){i.isAnimating=!1,o.removeCssClass(d),s.removeCssClass(d),o.setDisplayed(!1)},300)}},t.prototype.destroyMiniCharts=function(){D.clearElement(this.eMiniChartsContainer),this.miniChartsContainers=this.destroyBeans(this.miniChartsContainers)},t.prototype.destroy=function(){this.destroyMiniCharts(),n.prototype.destroy.call(this)},t.TEMPLATE=`<div class="ag-chart-settings-wrapper">
            <div ref="eMiniChartsContainer" class="ag-chart-settings-mini-charts-container ag-scrollable-container"></div>
            <div ref="eNavBar" class="ag-chart-settings-nav-bar">
                <div ref="ePrevBtn" class="ag-chart-settings-prev">
                    <button type="button" class="ag-button ag-chart-settings-prev-button"></button>
                </div>
                <div ref="eCardSelector" class="ag-chart-settings-card-selector"></div>
                <div ref="eNextBtn" class="ag-chart-settings-next">
                    <button type="button" class="ag-button ag-chart-settings-next-button"></button>
                </div>
            </div>
        </div>`,Pp([E("resizeObserverService")],t.prototype,"resizeObserverService",void 0),Pp([$("eMiniChartsContainer")],t.prototype,"eMiniChartsContainer",void 0),Pp([$("eNavBar")],t.prototype,"eNavBar",void 0),Pp([$("eCardSelector")],t.prototype,"eCardSelector",void 0),Pp([$("ePrevBtn")],t.prototype,"ePrevBtn",void 0),Pp([$("eNextBtn")],t.prototype,"eNextBtn",void 0),Pp([z],t.prototype,"postConstruct",null),t}(de),r4e=function(){var n=function(t,e){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])},n(t,e)};return function(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");n(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}}(),r5=function(n,t,e,r){var i=arguments.length,o=i<3?t:r===null?r=Object.getOwnPropertyDescriptor(t,e):r,a;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(n,t,e,r);else for(var s=n.length-1;s>=0;s--)(a=n[s])&&(o=(i<3?a(o):i>3?a(t,e,o):a(t,e))||o);return i>3&&o&&Object.defineProperty(t,e,o),o},n4e=function(n){r4e(t,n);function t(e){var r=n.call(this)||this;r.tabs=[];var i=e.controller,o=e.panels,a=e.chartOptionsService;return r.chartController=i,r.chartOptionsService=a,r.panels=o,r}return t.prototype.init=function(){var e=this;this.panels.forEach(function(r){var i=r.replace("chart","").toLowerCase(),o=e.createTab(r,i,e.getPanelClass(i)),a=o.comp,s=o.tab;e.tabs.push(s),e.addDestroyFunc(function(){return e.destroyBean(a)})}),this.tabbedLayout=new DG({items:this.tabs,cssClass:"ag-chart-tabbed-menu",keepScrollPosition:!0}),this.getContext().createBean(this.tabbedLayout)},t.prototype.createTab=function(e,r,i){var o=document.createElement("div");o.classList.add("ag-chart-tab","ag-chart-".concat(r));var a=new i(this.chartController,this.chartOptionsService);this.getContext().createBean(a),o.appendChild(a.getGui());var s=document.createElement("div"),l=this.chartTranslationService.translate(r);return s.innerText=l,{comp:a,tab:{title:s,titleLabel:l,bodyPromise:Qe.resolve(o),getScrollableContainer:function(){var u=o.querySelector(".ag-scrollable-container");return u||o},name:e}}},t.prototype.showTab=function(e){var r=this.tabs[e];this.tabbedLayout.showItem(r)},t.prototype.getGui=function(){return this.tabbedLayout&&this.tabbedLayout.getGui()},t.prototype.destroy=function(){this.parentComponent&&this.parentComponent.isAlive()&&this.destroyBean(this.parentComponent),n.prototype.destroy.call(this)},t.prototype.getPanelClass=function(e){switch(e){case t.TAB_DATA:return IUe;case t.TAB_FORMAT:return Dze;default:return t4e}},t.TAB_DATA="data",t.TAB_FORMAT="format",r5([E("chartTranslationService")],t.prototype,"chartTranslationService",void 0),r5([z],t.prototype,"init",null),t}(de),i4e=function(){var n=function(t,e){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])},n(t,e)};return function(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");n(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}}(),Sm=function(n,t,e,r){var i=arguments.length,o=i<3?t:r===null?r=Object.getOwnPropertyDescriptor(t,e):r,a;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(n,t,e,r);else for(var s=n.length-1;s>=0;s--)(a=n[s])&&(o=(i<3?a(o):i>3?a(t,e,o):a(t,e))||o);return i>3&&o&&Object.defineProperty(t,e,o),o},n5=function(n,t){var e=typeof Symbol=="function"&&n[Symbol.iterator];if(!e)return n;var r=e.call(n),i,o=[],a;try{for(;(t===void 0||t-- >0)&&!(i=r.next()).done;)o.push(i.value)}catch(s){a={error:s}}finally{try{i&&!i.done&&(e=r.return)&&e.call(r)}finally{if(a)throw a.error}}return o},o4e=function(n,t,e){if(e||arguments.length===2)for(var r=0,i=t.length,o;r<i;r++)(o||!(r in t))&&(o||(o=Array.prototype.slice.call(t,0,r)),o[r]=t[r]);return n.concat(o||Array.prototype.slice.call(t))},i5=function(n){i4e(t,n);function t(e,r,i,o){var a=n.call(this,t.TEMPLATE)||this;return a.eChartContainer=e,a.eMenuPanelContainer=r,a.chartController=i,a.chartOptionsService=o,a.buttons={chartSettings:["menu",function(){return a.showMenu(a.defaultPanel)}],chartData:["menu",function(){return a.showMenu("chartData")}],chartFormat:["menu",function(){return a.showMenu("chartFormat")}],chartLink:["linked",function(s){return a.toggleDetached(s)}],chartUnlink:["unlinked",function(s){return a.toggleDetached(s)}],chartDownload:["save",function(){return a.saveChart()}]},a.panels=[],a.buttonListenersDestroyFuncs=[],a.menuVisible=!1,a}return t.prototype.postConstruct=function(){var e=this;this.createButtons(),this.addManagedListener(this.eventService,P.EVENT_CHART_CREATED,function(r){var i;if(r.chartId===e.chartController.getChartId()){var o=!!(!((i=e.gridOptionsService.get("chartToolPanelsDef"))===null||i===void 0)&&i.defaultToolPanel);o&&e.showMenu(e.defaultPanel,!1)}}),this.refreshMenuClasses(),!this.gridOptionsService.get("suppressChartToolPanelsButton")&&this.panels.length>0&&(this.getGui().classList.add("ag-chart-tool-panel-button-enable"),this.addManagedListener(this.eHideButton,"click",this.toggleMenu.bind(this))),this.addManagedListener(this.chartController,ks.EVENT_CHART_API_UPDATE,this.createButtons.bind(this))},t.prototype.isVisible=function(){return this.menuVisible},t.prototype.getExtraPaddingDirections=function(){var e=this,r=["chartLink","chartUnlink","chartDownload"],i=["chartSettings","chartData","chartFormat"],o=[];return r.some(function(a){return e.chartToolbarOptions.includes(a)})&&o.push("top"),i.some(function(a){return e.chartToolbarOptions.includes(a)})&&o.push(this.gridOptionsService.get("enableRtl")?"left":"right"),o},t.prototype.getToolbarOptions=function(){var e=this,r,i,o,a=!!this.gridOptionsService.get("chartToolPanelsDef");if(a){var s=[this.chartController.isChartLinked()?"chartLink":"chartUnlink","chartDownload"],l=this.gridOptionsService.getCallback("getChartToolbarItems"),u={defaultItems:s},c=l?l(u).filter(function(g){if(!NL.includes(g)){var y=tE.includes(g)?"AG Grid: '".concat(g,"' is a Chart Tool Panel option and will be ignored since 'chartToolPanelsDef' is used. Please use 'chartToolPanelsDef.panels' grid option instead"):"AG Grid: '".concat(g,"' is not a valid Chart Toolbar Option");return console.warn(y),!1}return!0}):s,d=(i=(r=this.gridOptionsService.get("chartToolPanelsDef"))===null||r===void 0?void 0:r.panels)===null||i===void 0?void 0:i.map(function(g){var y=AC[g];return y||console.warn("AG Grid - invalid panel in chartToolPanelsDef.panels: '".concat(g,"'")),y}).filter(function(g){return!!g});this.panels=d||Object.values(AC),this.chartController.isPivotChart()&&(this.panels=this.panels.filter(function(g){return g!=="chartData"}));var p=(o=this.gridOptionsService.get("chartToolPanelsDef"))===null||o===void 0?void 0:o.defaultToolPanel;return this.defaultPanel=p&&AC[p]||this.panels[0],this.panels.length>0?o4e([this.panels[0]],n5(c),!1):c}else{var h=["chartSettings","chartData","chartFormat",this.chartController.isChartLinked()?"chartLink":"chartUnlink","chartDownload"],l=this.gridOptionsService.getCallback("getChartToolbarItems");if(l){var f=this.gridOptionsService.get("suppressChartToolPanelsButton"),u={defaultItems:f?h:NL};h=l(u).filter(function(m){if(e.buttons[m]){if(!f&&tE.includes(m)){var C="AG Grid: '".concat(m,"' is a Chart Tool Panel option and will be ignored. Please use 'chartToolPanelsDef.panels' grid option instead");return console.warn(C),!1}}else return console.warn("AG Grid: '".concat(m,"' is not a valid Chart Toolbar Option")),!1;return!0}),f||(h=h.concat(tE))}this.chartController.isPivotChart()&&(h=h.filter(function(y){return y!=="chartData"}));var v=["chartUnlink","chartLink","chartDownload"];return this.panels=h.filter(function(y){return v.indexOf(y)===-1}),this.defaultPanel=this.panels[0],h.filter(function(y){return v.indexOf(y)!==-1||e.panels.length&&y===e.panels[0]})}},t.prototype.toggleDetached=function(e){var r=e.target,i=r.classList.contains("ag-icon-linked");r.classList.toggle("ag-icon-linked",!i),r.classList.toggle("ag-icon-unlinked",i);var o=i?"chartUnlinkToolbarTooltip":"chartLinkToolbarTooltip",a=this.chartTranslationService.translate(o);a&&(r.title=a),this.chartController.detachChartRange()},t.prototype.createButtons=function(){var e=this;this.buttonListenersDestroyFuncs.forEach(function(i){return i()}),this.buttonListenersDestroyFuncs=[],this.chartToolbarOptions=this.getToolbarOptions();var r=this.eMenu;D.clearElement(r),this.chartToolbarOptions.forEach(function(i){var o=e.buttons[i],a=n5(o,2),s=a[0],l=a[1],u=D.createIconNoSpan(s,e.gridOptionsService,void 0,!0);u.classList.add("ag-chart-menu-icon");var c=e.chartTranslationService.translate(i+"ToolbarTooltip");c&&u instanceof HTMLElement&&(u.title=c),e.buttonListenersDestroyFuncs.push(e.addManagedListener(u,"click",l)),r.appendChild(u)})},t.prototype.saveChart=function(){var e={type:t.EVENT_DOWNLOAD_CHART};this.dispatchEvent(e)},t.prototype.createMenuPanel=function(e){var r=this,i=this.environment.chartMenuPanelWidth(),o=this.menuPanel=this.createBean(new IG({minWidth:i,width:i,height:"100%",closable:!0,hideTitleBar:!0,cssIdentifier:"chart-menu"}));return o.setParentComponent(this),this.eMenuPanelContainer.appendChild(o.getGui()),this.tabbedMenu=this.createBean(new n4e({controller:this.chartController,type:this.chartController.getChartType(),panels:this.panels,chartOptionsService:this.chartOptionsService})),this.addManagedListener(o,de.EVENT_DESTROYED,function(){return r.destroyBean(r.tabbedMenu)}),new Qe(function(a){window.setTimeout(function(){o.setBodyComponent(r.tabbedMenu),r.tabbedMenu.showTab(e),a(o),r.addManagedListener(r.eChartContainer,"click",function(s){r.getGui().contains(s.target)||r.menuVisible&&r.hideMenu()})},100)})},t.prototype.showContainer=function(){this.menuPanel&&(this.menuVisible=!0,this.showParent(this.menuPanel.getWidth()),this.refreshMenuClasses())},t.prototype.toggleMenu=function(){this.menuVisible?this.hideMenu():this.showMenu()},t.prototype.showMenu=function(e,r){var i=this;if(r===void 0&&(r=!0),r||this.eMenuPanelContainer.classList.add("ag-no-transition"),this.menuPanel&&!e)this.showContainer();else{var o=e||this.defaultPanel,a=this.panels.indexOf(o);a<0&&(console.warn("AG Grid: '".concat(e,"' is not a valid Chart Tool Panel name")),a=this.panels.indexOf(this.defaultPanel)),this.menuPanel?(this.tabbedMenu.showTab(a),this.showContainer()):this.createMenuPanel(a).then(this.showContainer.bind(this))}r||setTimeout(function(){i.isAlive()&&i.eMenuPanelContainer.classList.remove("ag-no-transition")},500)},t.prototype.hideMenu=function(){var e=this;this.hideParent(),window.setTimeout(function(){e.menuVisible=!1,e.refreshMenuClasses()},500)},t.prototype.refreshMenuClasses=function(){this.eChartContainer.classList.toggle("ag-chart-menu-visible",this.menuVisible),this.eChartContainer.classList.toggle("ag-chart-menu-hidden",!this.menuVisible),this.gridOptionsService.get("suppressChartToolPanelsButton")||(this.eHideButtonIcon.classList.toggle("ag-icon-contracted",this.menuVisible),this.eHideButtonIcon.classList.toggle("ag-icon-expanded",!this.menuVisible))},t.prototype.showParent=function(e){this.eMenuPanelContainer.style.minWidth="".concat(e,"px")},t.prototype.hideParent=function(){this.eMenuPanelContainer.style.minWidth="0"},t.prototype.destroy=function(){n.prototype.destroy.call(this),this.menuPanel&&this.menuPanel.isAlive()&&this.destroyBean(this.menuPanel),this.tabbedMenu&&this.tabbedMenu.isAlive()&&this.destroyBean(this.tabbedMenu)},t.EVENT_DOWNLOAD_CHART="downloadChart",t.TEMPLATE=`<div>
        <div class="ag-chart-menu" ref="eMenu"></div>
        <button class="ag-button ag-chart-menu-close" ref="eHideButton">
            <span class="ag-icon ag-icon-contracted" ref="eHideButtonIcon"></span>
        </button>
    </div>`,Sm([E("chartTranslationService")],t.prototype,"chartTranslationService",void 0),Sm([$("eMenu")],t.prototype,"eMenu",void 0),Sm([$("eHideButton")],t.prototype,"eHideButton",void 0),Sm([$("eHideButtonIcon")],t.prototype,"eHideButtonIcon",void 0),Sm([z],t.prototype,"postConstruct",null),t}(de),a4e=function(){var n=function(t,e){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])},n(t,e)};return function(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");n(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}}(),BO=function(){return BO=Object.assign||function(n){for(var t,e=1,r=arguments.length;e<r;e++){t=arguments[e];for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(n[i]=t[i])}return n},BO.apply(this,arguments)},o5=function(n,t,e,r){var i=arguments.length,o=i<3?t:r===null?r=Object.getOwnPropertyDescriptor(t,e):r,a;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(n,t,e,r);else for(var s=n.length-1;s>=0;s--)(a=n[s])&&(o=(i<3?a(o):i>3?a(t,e,o):a(t,e))||o);return i>3&&o&&Object.defineProperty(t,e,o),o},s4e=function(n){var t=typeof Symbol=="function"&&Symbol.iterator,e=t&&n[t],r=0;if(e)return e.call(n);if(n&&typeof n.length=="number")return{next:function(){return n&&r>=n.length&&(n=void 0),{value:n&&n[r++],done:!n}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")},l4e=function(n){a4e(t,n);function t(e){var r=n.call(this,t.TEMPLATE)||this;return r.chartMenu=e,r.destroyableChartListeners=[],r.editing=!1,r}return t.prototype.init=function(){var e=this;this.addManagedListener(this.getGui(),"keydown",function(r){e.editing&&r.key==="Enter"&&!r.shiftKey&&(e.handleEndEditing(),r.preventDefault())}),this.addManagedListener(this.getGui(),"input",function(){e.editing&&e.updateHeight()}),this.addManagedListener(this.getGui(),"blur",function(){return e.endEditing()})},t.prototype.refreshTitle=function(e,r){var i,o,a=this;this.chartController=e,this.chartOptionsService=r;try{for(var s=s4e(this.destroyableChartListeners),l=s.next();!l.done;l=s.next()){var u=l.value;u()}}catch(g){i={error:g}}finally{try{l&&!l.done&&(o=s.return)&&o.call(s)}finally{if(i)throw i.error}}this.destroyableChartListeners=[];var c=this.chartController.getChartProxy(),d=c.getChart(),p=d.scene.canvas.element,h=this.addManagedListener(p,"dblclick",function(g){var y=d.title;if(y&&y.node.containsPoint(g.offsetX,g.offsetY)){var m=y.node.computeBBox(),C=y.node.inverseTransformPoint(m.x,m.y);a.startEditing(BO(BO({},m),C),p.width)}}),f=!1,v=this.addManagedListener(p,"mousemove",function(g){var y=d.title,m=!!(y&&y.enabled&&y.node.containsPoint(g.offsetX,g.offsetY));f!==m&&(p.style.cursor=m?"pointer":""),f=m});this.destroyableChartListeners=[h,v]},t.prototype.startEditing=function(e,r){if(!(this.chartMenu&&this.chartMenu.isVisible())&&!this.editing){this.editing=!0;var i=300,o=Math.max(Math.min(e.width+20,r),i),a=this.getGui();a.classList.add("currently-editing");var s=a.style;s.fontFamily=this.chartOptionsService.getChartOption("title.fontFamily"),s.fontWeight=this.chartOptionsService.getChartOption("title.fontWeight"),s.fontStyle=this.chartOptionsService.getChartOption("title.fontStyle"),s.fontSize=this.chartOptionsService.getChartOption("title.fontSize")+"px",s.color=this.chartOptionsService.getChartOption("title.color");var l=this.chartOptionsService.getChartOption("title.text"),u=l===this.chartTranslationService.translate("titlePlaceholder");a.value=u?"":l;var c=l.split(/\r?\n/g).length;s.left=Math.round(e.x+e.width/2-o/2-1)+"px",s.top=Math.round(e.y+e.height/2-c*this.getLineHeight()/2-2)+"px",s.width=Math.round(o)+"px",s.lineHeight=this.getLineHeight()+"px",this.updateHeight(),a.focus()}},t.prototype.updateHeight=function(){var e=this.getGui(),r=this.chartOptionsService.getChartOption("title.text").split(/\r?\n/g).length,i=e.value.split(/\r?\n/g).length;e.style.height=Math.round(Math.max(r,i)*this.getLineHeight())+4+"px"},t.prototype.getLineHeight=function(){var e=this.chartOptionsService.getChartOption("title.lineHeight");return e?parseInt(e):Math.round(parseInt(this.chartOptionsService.getChartOption("title.fontSize"))*1.2)},t.prototype.handleEndEditing=function(){var e=this,r=this.chartOptionsService.getChartOption("title.color"),i="rgba(0, 0, 0, 0)";this.chartOptionsService.setChartOption("title.color",i),this.chartOptionsService.awaitChartOptionUpdate(function(){return e.endEditing()}),this.chartOptionsService.awaitChartOptionUpdate(function(){e.chartOptionsService.setChartOption("title.color",r)})},t.prototype.endEditing=function(){var e=this;if(this.editing){this.editing=!1;var r=this.getGui().value;r&&r.trim()!==""?(this.chartOptionsService.setChartOption("title.text",r),this.chartOptionsService.setChartOption("title.enabled",!0)):(this.chartOptionsService.setChartOption("title.text",""),this.chartOptionsService.setChartOption("title.enabled",!1)),this.getGui().classList.remove("currently-editing"),this.chartOptionsService.awaitChartOptionUpdate(function(){e.eventService.dispatchEvent({type:"chartTitleEdit"})})}},t.TEMPLATE=`<textarea
             class="ag-chart-title-edit"
             style="padding:0; border:none; border-radius: 0; min-height: 0; text-align: center; resize: none;" />
        `,o5([E("chartTranslationService")],t.prototype,"chartTranslationService",void 0),o5([z],t.prototype,"init",null),t}(de),u4e=function(){var n=function(t,e){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])},n(t,e)};return function(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");n(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}}(),Uf=function(n,t,e,r){var i=arguments.length,o=i<3?t:r===null?r=Object.getOwnPropertyDescriptor(t,e):r,a;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(n,t,e,r);else for(var s=n.length-1;s>=0;s--)(a=n[s])&&(o=(i<3?a(o):i>3?a(t,e,o):a(t,e))||o);return i>3&&o&&Object.defineProperty(t,e,o),o},c4e=function(n){u4e(t,n);function t(){return n!==null&&n.apply(this,arguments)||this}return t.prototype.getData=function(e){if(e.crossFiltering){if(e.grouping)return console.warn("AG Grid: crossing filtering with row grouping is not supported."),{chartData:[],columnNames:{}};if(!this.gridOptionsService.isRowModelType("clientSide"))return console.warn("AG Grid: crossing filtering is only supported in the client side row model."),{chartData:[],columnNames:{}}}var r=this.gridOptionsService.isRowModelType("serverSide");r&&e.pivoting&&this.updatePivotKeysForSSRM();var i=this.extractRowsFromGridRowModel(e);return i.chartData=this.aggregateRowsByDimension(e,i.chartData),i},t.prototype.extractRowsFromGridRowModel=function(e){var r=this,i=[],o={},a={},s={},l={},u=[],c;if(e.crossFiltering)l=this.getFilteredRowNodes(),u=this.getAllRowNodes(),c=u.length;else{var d=this.gridRowModel.getRowCount()-1,p=e.endRow>=0?Math.min(e.endRow,d):d;c=p-e.startRow+1}for(var h=function(m){var C={},S=e.crossFiltering?u[m]:f.gridRowModel.getRow(m+e.startRow);e.dimensionCols.forEach(function(w){var _=w.colId,x=r.columnModel.getGridColumn(_);if(x){var b=r.valueService.getValue(x,S);if(e.grouping){var O=b&&b.toString?String(b.toString()):"",T=t.getGroupLabels(S,O);C[_]={labels:T,toString:function(){return this.labels.filter(function(N){return!!N}).reverse().join(" - ")}},S.group&&(a[T.toString()]=m);var A=T.slice(1,T.length).toString();A&&(s[A]=a[A])}else C[_]=b}else C[sw.DEFAULT_CATEGORY]=m+1}),e.valueCols.forEach(function(w){var _=[],x=w.getColDef().pivotKeys;x&&(_=x.slice());var b=w.getColDef().headerName;b&&_.push(b),_.length>0&&(o[w.getId()]=_);var O=w.getColId();if(e.crossFiltering){var T=O+"-filtered-out",A=r.valueService.getValue(w,S),N=A!=null&&typeof A.toNumber=="function"?A.toNumber():A;l[S.id]?(C[O]=N,C[T]=e.aggFunc||e.isScatter?void 0:0):(C[O]=e.aggFunc||e.isScatter?void 0:0,C[T]=N)}else{var A=r.valueService.getValue(w,S);A&&A.hasOwnProperty("toString")&&(A=parseFloat(A.toString())),C[O]=A!=null&&typeof A.toNumber=="function"?A.toNumber():A}}),S.footer&&(C.footer=!0),i.push(C)},f=this,v=0;v<c;v++)h(v);if(e.grouping){var g=D.values(s),y=function(m,C){return!m.footer&&!D.includes(g,C)};i=i.filter(y)}return{chartData:i,columnNames:o}},t.prototype.aggregateRowsByDimension=function(e,r){var i=this,o=e.dimensionCols;if(!e.aggFunc||o.length===0)return r;var a=D.last(o),s=a&&a.colId,l={},u=[];return r.forEach(function(c){var d=l;o.forEach(function(p){var h=p.colId,f=c[h];if(h===s){var v=d[f];v||(v={__children:[]},o.forEach(function(g){var y=g.colId;v[y]=c[y]}),d[f]=v,u.push(v)),v.__children.push(c)}else d[f]||(d[f]={}),d=d[f]})}),ke.__assertRegistered(fe.RowGroupingModule,"Charting Aggregation",this.context.getGridId())&&u.forEach(function(c){return e.valueCols.forEach(function(d){if(e.crossFiltering)e.valueCols.forEach(function(f){var v=f.getColId(),g=c.__children.filter(function(w){return typeof w[v]<"u"}).map(function(w){return w[v]}),y=i.aggregationStage.aggregateValues(g,e.aggFunc);c[f.getId()]=y&&typeof y.value<"u"?y.value:y;var m="".concat(v,"-filtered-out"),C=c.__children.filter(function(w){return typeof w[m]<"u"}).map(function(w){return w[m]}),S=i.aggregationStage.aggregateValues(C,e.aggFunc);c[m]=S&&typeof S.value<"u"?S.value:S});else{var p=c.__children.map(function(f){return f[d.getId()]}),h=0;ke.__assertRegistered(fe.RowGroupingModule,"Charting Aggregation",i.context.getGridId())&&(h=i.aggregationStage.aggregateValues(p,e.aggFunc)),c[d.getId()]=h&&typeof h.value<"u"?h.value:h}})}),u},t.prototype.updatePivotKeysForSSRM=function(){var e=this.columnModel.getSecondaryColumns();if(e){var r=this.extractPivotKeySeparator(e);e.forEach(function(i){if(r==="")i.getColDef().pivotKeys=[];else{var o=i.getColId().split(r);i.getColDef().pivotKeys=o.slice(0,o.length-1)}})}},t.prototype.extractPivotKeySeparator=function(e){if(e.length===0)return"";var r=function(o,a){var s=o.getGroupId();return o.getParent()?r(o.getParent(),s):a.split(s)[1][0]},i=e[0];return i.getParent()==null?"":r(i.getParent(),i.getColId())},t.getGroupLabels=function(e,r){for(var i=[r];e&&e.level!==0;)e=e.parent,e&&i.push(e.key);return i},t.prototype.getFilteredRowNodes=function(){var e={};return this.gridRowModel.forEachNodeAfterFilterAndSort(function(r){e[r.id]=r}),e},t.prototype.getAllRowNodes=function(){var e=[];return this.gridRowModel.forEachNode(function(r){e.push(r)}),this.sortRowNodes(e)},t.prototype.sortRowNodes=function(e){var r=this.sortController.getSortOptions(),i=!r||r.length==0;return i?e:this.rowNodeSorter.doFullSort(e,r)},Uf([E("rowModel")],t.prototype,"gridRowModel",void 0),Uf([E("valueService")],t.prototype,"valueService",void 0),Uf([E("columnModel")],t.prototype,"columnModel",void 0),Uf([E("rowNodeSorter")],t.prototype,"rowNodeSorter",void 0),Uf([E("sortController")],t.prototype,"sortController",void 0),Uf([qe("aggregationStage")],t.prototype,"aggregationStage",void 0),t}(q),d4e=function(){var n=function(t,e){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])},n(t,e)};return function(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");n(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}}(),_x=function(n,t,e,r){var i=arguments.length,o=i<3?t:r===null?r=Object.getOwnPropertyDescriptor(t,e):r,a;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(n,t,e,r);else for(var s=n.length-1;s>=0;s--)(a=n[s])&&(o=(i<3?a(o):i>3?a(t,e,o):a(t,e))||o);return i>3&&o&&Object.defineProperty(t,e,o),o},p4e=function(n){d4e(t,n);function t(){return n!==null&&n.apply(this,arguments)||this}return t.prototype.getColumn=function(e){return this.columnModel.getPrimaryColumn(e)},t.prototype.getAllDisplayedColumns=function(){return this.columnModel.getAllDisplayedColumns()},t.prototype.getColDisplayName=function(e){return this.columnModel.getDisplayNameForColumn(e,"chart")},t.prototype.getRowGroupColumns=function(){return this.columnModel.getRowGroupColumns()},t.prototype.getGroupDisplayColumns=function(){return this.columnModel.getGroupDisplayColumns()},t.prototype.isPivotMode=function(){return this.columnModel.isPivotMode()},t.prototype.isPivotActive=function(){return this.columnModel.isPivotActive()},t.prototype.getChartColumns=function(){var e=this,r=this.columnModel.getAllDisplayedColumns(),i=new Set,o=new Set;return r.forEach(function(a){var s=a.getColDef(),l=s.chartDataType;if(l)switch(l){case"category":case"time":i.add(a);return;case"series":o.add(a);return;case"excluded":return;default:console.warn("AG Grid: unexpected chartDataType value '".concat(l,"' supplied, instead use 'category', 'series' or 'excluded'"));break}if(s.colId==="ag-Grid-AutoColumn"){i.add(a);return}if(!a.isPrimary()){o.add(a);return}(e.isNumberCol(a)?o:i).add(a)}),{dimensionCols:i,valueCols:o}},t.prototype.isNumberCol=function(e){if(e.getColId()==="ag-Grid-AutoColumn")return!1;var r=this.rowRenderer.getRowNode({rowIndex:0,rowPinned:null});if(!r)return!1;var i=this.valueService.getValue(e,r);return i==null&&(i=this.extractLeafData(r,e)),i!=null&&typeof i.toNumber=="function"&&(i=i.toNumber()),typeof i=="number"},t.prototype.extractLeafData=function(e,r){if(!e.allLeafChildren)return null;for(var i=0;i<e.allLeafChildren.length;i++){var o=e.allLeafChildren[i],a=this.valueService.getValue(r,o);if(a!=null)return a}return null},_x([E("columnModel")],t.prototype,"columnModel",void 0),_x([E("valueService")],t.prototype,"valueService",void 0),_x([E("rowRenderer")],t.prototype,"rowRenderer",void 0),t=_x([ae("chartColumnService")],t),t}(q),h4e=function(){var n=function(t,e){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])},n(t,e)};return function(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");n(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}}(),f4e=function(n,t,e,r){var i=arguments.length,o=i<3?t:r===null?r=Object.getOwnPropertyDescriptor(t,e):r,a;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(n,t,e,r);else for(var s=n.length-1;s>=0;s--)(a=n[s])&&(o=(i<3?a(o):i>3?a(t,e,o):a(t,e))||o);return i>3&&o&&Object.defineProperty(t,e,o),o},v4e=function(n){h4e(t,n);function t(e){var r=this,i;return r=n.call(this)||this,r.suppressComboChartWarnings=!1,r.chartDataModel=e,r.seriesChartTypes=(i=e.params.seriesChartTypes)!==null&&i!==void 0?i:[],r}return t.prototype.init=function(){this.initComboCharts()},t.prototype.update=function(e){this.seriesChartTypes=e??this.seriesChartTypes,this.initComboCharts(),this.updateSeriesChartTypes()},t.prototype.initComboCharts=function(){var e=this.seriesChartTypes&&this.seriesChartTypes.length>0,r=this.chartDataModel.chartType==="customCombo"||e;r&&(this.chartDataModel.chartType="customCombo",this.savedCustomSeriesChartTypes=this.seriesChartTypes||[])},t.prototype.updateSeriesChartTypes=function(){if(this.chartDataModel.isComboChart()){if(this.seriesChartTypes=this.seriesChartTypes.map(function(e){var r=["groupedColumn","stackedColumn","stackedArea"].includes(e.chartType);return e.secondaryAxis=r?!1:e.secondaryAxis,e}),this.chartDataModel.chartType==="customCombo"){this.updateSeriesChartTypesForCustomCombo();return}this.updateChartSeriesTypesForBuiltInCombos()}},t.prototype.updateSeriesChartTypesForCustomCombo=function(){var e=this,r=this.seriesChartTypes&&this.seriesChartTypes.length>0;!r&&!this.suppressComboChartWarnings&&console.warn("AG Grid: 'seriesChartTypes' are required when the 'customCombo' chart type is specified."),this.seriesChartTypes=this.seriesChartTypes.map(function(a){return t.SUPPORTED_COMBO_CHART_TYPES.includes(a.chartType)||(console.warn("AG Grid: invalid chartType '".concat(a.chartType,"' supplied in 'seriesChartTypes', converting to 'line' instead.")),a.chartType="line"),a});var i=function(a){(!e.savedCustomSeriesChartTypes||e.savedCustomSeriesChartTypes.length===0)&&(e.savedCustomSeriesChartTypes=e.seriesChartTypes);var s=e.savedCustomSeriesChartTypes.find(function(l){return l.colId===a.colId});return s||(a.selected&&!e.suppressComboChartWarnings&&console.warn("AG Grid: no 'seriesChartType' found for colId = '".concat(a.colId,"', defaulting to 'line'.")),{colId:a.colId,chartType:"line",secondaryAxis:!1})},o=this.chartDataModel.valueColState.map(i);this.seriesChartTypes=o,this.savedCustomSeriesChartTypes=o,this.suppressComboChartWarnings=!0},t.prototype.updateChartSeriesTypesForBuiltInCombos=function(){var e=this.chartDataModel,r=e.chartType,i=e.valueColState,o=r==="columnLineCombo"?"groupedColumn":"stackedArea",a=r==="columnLineCombo"?"line":"groupedColumn",s=i.filter(function(u){return u.selected}),l=Math.ceil(s.length/2);this.seriesChartTypes=s.map(function(u,c){var d=c>=l?a:o;return{colId:u.colId,chartType:d,secondaryAxis:!1}})},t.SUPPORTED_COMBO_CHART_TYPES=["line","groupedColumn","stackedColumn","area","stackedArea"],f4e([z],t.prototype,"init",null),t}(q),g4e=function(){var n=function(t,e){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])},n(t,e)};return function(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");n(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}}(),Ev=function(){return Ev=Object.assign||function(n){for(var t,e=1,r=arguments.length;e<r;e++){t=arguments[e];for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(n[i]=t[i])}return n},Ev.apply(this,arguments)},SM=function(n,t,e,r){var i=arguments.length,o=i<3?t:r===null?r=Object.getOwnPropertyDescriptor(t,e):r,a;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(n,t,e,r);else for(var s=n.length-1;s>=0;s--)(a=n[s])&&(o=(i<3?a(o):i>3?a(t,e,o):a(t,e))||o);return i>3&&o&&Object.defineProperty(t,e,o),o},Wc=function(n,t){var e=typeof Symbol=="function"&&n[Symbol.iterator];if(!e)return n;var r=e.call(n),i,o=[],a;try{for(;(t===void 0||t-- >0)&&!(i=r.next()).done;)o.push(i.value)}catch(s){a={error:s}}finally{try{i&&!i.done&&(e=r.return)&&e.call(r)}finally{if(a)throw a.error}}return o},Uc=function(n,t,e){if(e||arguments.length===2)for(var r=0,i=t.length,o;r<i;r++)(o||!(r in t))&&(o||(o=Array.prototype.slice.call(t,0,r)),o[r]=t[r]);return n.concat(o||Array.prototype.slice.call(t))},sw=function(n){g4e(t,n);function t(e){var r=n.call(this)||this;return r.unlinked=!1,r.chartData=[],r.valueColState=[],r.dimensionColState=[],r.columnNames={},r.crossFiltering=!1,r.grouping=!1,r.params=e,r.chartId=e.chartId,r.chartType=e.chartType,r.pivotChart=e.pivotChart,r.chartThemeName=e.chartThemeName,r.aggFunc=e.aggFunc,r.referenceCellRange=e.cellRange,r.suppliedCellRange=e.cellRange,r.suppressChartRanges=e.suppressChartRanges,r.unlinked=!!e.unlinkChart,r.crossFiltering=!!e.crossFiltering,r}return t.prototype.init=function(){this.datasource=this.createManagedBean(new c4e),this.chartColumnService=this.createManagedBean(new p4e),this.comboChartModel=this.createManagedBean(new v4e(this)),this.updateCellRanges(),this.updateData()},t.prototype.updateModel=function(e){var r=e.cellRange,i=e.chartType,o=e.pivotChart,a=e.chartThemeName,s=e.aggFunc,l=e.suppressChartRanges,u=e.unlinkChart,c=e.crossFiltering,d=e.seriesChartTypes;r!==this.suppliedCellRange&&(this.dimensionCellRange=void 0,this.valueCellRange=void 0),this.chartType=i,this.pivotChart=o,this.chartThemeName=a,this.aggFunc=s,this.referenceCellRange=r,this.suppliedCellRange=r,this.suppressChartRanges=l,this.unlinked=!!u,this.crossFiltering=!!c,this.updateSelectedDimensions(r==null?void 0:r.columns),this.updateCellRanges();var p=this.isComboChart()||d;p&&this.comboChartModel.update(d),this.unlinked||this.updateData()},t.prototype.updateCellRanges=function(e){this.valueCellRange&&(this.referenceCellRange=this.valueCellRange);var r=this.chartColumnService.getChartColumns(),i=r.dimensionCols,o=r.valueCols,a=this.getAllColumnsFromRanges();e&&this.updateColumnState(e),this.setDimensionCellRange(i,a,e),this.setValueCellRange(o,a,e),e||(this.resetColumnState(),this.syncDimensionCellRange()),this.comboChartModel.updateSeriesChartTypes()},t.prototype.updateData=function(){var e=this.getRowIndexes(),r=e.startRow,i=e.endRow;this.pivotChart&&this.resetColumnState(),this.grouping=this.isGrouping();var o={aggFunc:this.aggFunc,dimensionCols:this.getSelectedDimensions(),grouping:this.grouping,pivoting:this.isPivotActive(),crossFiltering:this.crossFiltering,valueCols:this.getSelectedValueCols(),startRow:r,endRow:i,isScatter:D.includes(["scatter","bubble"],this.chartType)},a=this.datasource.getData(o),s=a.chartData,l=a.columnNames;this.chartData=s,this.columnNames=l},t.prototype.isGrouping=function(){var e=this.gridOptionsService.get("treeData"),r=e?null:this.chartColumnService.getRowGroupColumns(),i=e||r&&r.length>0,o=this.getSelectedDimensions().map(function(l){var u=l.colId;return u}),a=this.chartColumnService.getGroupDisplayColumns(),s=a.map(function(l){return l.getColId()}).some(function(l){return o.includes(l)});return!!i&&s},t.prototype.getSelectedValueCols=function(){return this.valueColState.filter(function(e){return e.selected}).map(function(e){return e.column})},t.prototype.getSelectedDimensions=function(){return this.dimensionColState.filter(function(e){return e.selected})},t.prototype.getColDisplayName=function(e){return this.chartColumnService.getColDisplayName(e)},t.prototype.isPivotMode=function(){return this.chartColumnService.isPivotMode()},t.prototype.getChartDataType=function(e){var r=this.chartColumnService.getColumn(e);return r?r.getColDef().chartDataType:void 0},t.prototype.isPivotActive=function(){return this.chartColumnService.isPivotActive()},t.prototype.createCellRange=function(e){for(var r=[],i=1;i<arguments.length;i++)r[i-1]=arguments[i];return{id:this.chartId,startRow:this.referenceCellRange.startRow,endRow:this.referenceCellRange.endRow,columns:r,startColumn:e===ro.DIMENSION?r[0]:this.referenceCellRange.startColumn,type:e}},t.prototype.getAllColumnsFromRanges=function(){if(this.pivotChart)return D.convertToSet(this.chartColumnService.getAllDisplayedColumns());var e=this.dimensionCellRange||this.valueCellRange?[]:this.referenceCellRange.columns;return this.dimensionCellRange&&e.push.apply(e,Uc([],Wc(this.dimensionCellRange.columns),!1)),this.valueCellRange&&e.push.apply(e,Uc([],Wc(this.valueCellRange.columns),!1)),D.convertToSet(e)},t.prototype.getRowIndexes=function(){var e=0,r=0,i=this,o=i.rangeService,a=i.valueCellRange,s=i.dimensionCellRange,l=a||s;if(o&&l){e=o.getRangeStartRow(l).rowIndex;var u=o.getRangeEndRow(l);r=u.rowPinned==="bottom"?-1:u.rowIndex}return{startRow:e,endRow:r}},t.prototype.resetColumnState=function(){var e=this,r=this.chartColumnService.getChartColumns(),i=r.dimensionCols,o=r.valueCols,a=this.getAllColumnsFromRanges(),s=this.valueColState.length<1;this.dimensionColState=[],this.valueColState=[];var l=gd(this.chartType),u=!1,c=1,d=this.suppliedCellRange.columns[0];i.forEach(function(f){var v=f.getColId()==="ag-Grid-AutoColumn",g=!1;e.crossFiltering&&e.aggFunc?d.getColId()===f.getColId()&&(g=!0):g=v?!0:(!u||l)&&a.has(f),e.dimensionColState.push({column:f,colId:f.getColId(),displayName:e.getColDisplayName(f),selected:g,order:c++}),g&&(u=!0)});var p={colId:t.DEFAULT_CATEGORY,displayName:this.chartTranslationService.translate("defaultCategory"),selected:!u,order:0};this.dimensionColState.unshift(p);var h=this.referenceCellRange.columns.filter(function(f){return o.has(f)});o.forEach(function(f){s&&D.includes(e.referenceCellRange.columns,f)&&(f=h.shift()),e.valueColState.push({column:f,colId:f.getColId(),displayName:e.getColDisplayName(f),selected:a.has(f),order:c++})})},t.prototype.updateColumnState=function(e){var r=function(h){return h.colId===e.colId},i=this,o=i.dimensionColState,a=i.valueColState,s=o.find(r),l=a.find(r);if(s){var u=gd(this.chartType);if(u)s.selected=e.selected;else{var c=e.selected?s:o.filter(function(h){return h!==s}).find(function(h){var f=h.selected;return f});o.forEach(function(h){return h.selected=h===c})}}else l&&(l.selected=e.selected);var d=Uc(Uc([],Wc(o),!1),Wc(a),!1),p=[];d.forEach(function(h,f){f===e.order&&p.push(e.colId),h.colId!==e.colId&&p.push(h.colId)}),d.forEach(function(h){var f=p.indexOf(h.colId);h.order=f>=0?p.indexOf(h.colId):d.length-1}),this.reorderColState()},t.prototype.reorderColState=function(){var e=function(r,i){return r.order-i.order};this.dimensionColState.sort(e),this.valueColState.sort(e)},t.prototype.setDimensionCellRange=function(e,r,i){if(this.dimensionCellRange=void 0,!i&&!this.dimensionColState.length){var o=gd(this.chartType),a=new Array;e.forEach(function(d){a.length>0&&!o||!r.has(d)||a.push(d)}),a.length>0&&(this.dimensionCellRange=this.createCellRange.apply(this,Uc([ro.DIMENSION],Wc(a),!1)));return}var s=i?[i]:[];if(this.crossFiltering&&this.aggFunc){var l=this.suppliedCellRange.columns[0];s=this.dimensionColState.filter(function(d){return d.colId===l.getColId()})}else(s.length===0||s.some(function(d){var p=d.column;return!p||!e.has(p)}))&&(s=this.dimensionColState.filter(function(d){return d.selected}));var u=s.length===1?s[0].colId===t.DEFAULT_CATEGORY:!1,c=s.map(function(d){var p=d.column;return p}).filter(function(d){return d!=null});c.length>0&&!u&&(this.dimensionCellRange=this.createCellRange.apply(this,Uc([ro.DIMENSION],Wc(c),!1)))},t.prototype.setValueCellRange=function(e,r,i){this.valueCellRange=void 0;var o=[];if(e.forEach(function(s){i&&i.colId===s.getColId()?i.selected&&o.push(i.column):r.has(s)&&o.push(s)}),o.length>0){var a=[];this.valueColState.length>0?a=this.valueColState.map(function(s){return s.colId}):r.forEach(function(s){return a.push(s.getColId())}),o.sort(function(s,l){return a.indexOf(s.getColId())-a.indexOf(l.getColId())}),this.valueCellRange=this.createCellRange.apply(this,Uc([ro.VALUE],Wc(o),!1))}},t.prototype.updateSelectedDimensions=function(e){var r=new Set(e.map(function(u){return u.getColId()})),i=gd(this.chartType);if(i){var s=this.dimensionColState.filter(function(u){return r.has(u.colId)}),l=new Set(s.map(function(u){return u.colId}));this.dimensionColState=this.dimensionColState.map(function(u){return Ev(Ev({},u),{selected:l.has(u.colId)})})}else{var o=this.dimensionColState.find(function(u){return r.has(u.colId)})||this.dimensionColState[0],a=o.colId;this.dimensionColState=this.dimensionColState.map(function(u){return Ev(Ev({},u),{selected:u.colId===a})})}},t.prototype.syncDimensionCellRange=function(){var e=this.getSelectedDimensions();if(e.length!==0){var r=e.map(function(i){var o=i.column;return o}).filter(function(i){return i!=null});r.length>0&&(this.dimensionCellRange=this.createCellRange.apply(this,Uc([ro.DIMENSION],Wc(r),!1)))}},t.prototype.isComboChart=function(){return["columnLineCombo","areaColumnCombo","customCombo"].includes(this.chartType)},t.DEFAULT_CATEGORY="AG-GRID-DEFAULT-CATEGORY",SM([E("rangeService")],t.prototype,"rangeService",void 0),SM([E("chartTranslationService")],t.prototype,"chartTranslationService",void 0),SM([z],t.prototype,"init",null),t}(q);function a5(n){return n.chart!=null?n.chart:n}var WC=function(){return WC=Object.assign||function(n){for(var t,e=1,r=arguments.length;e<r;e++){t=arguments[e];for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(n[i]=t[i])}return n},WC.apply(this,arguments)},v0=function(){function n(t){this.chartProxyParams=t,this.clearThemeOverrides=!1,this.chart=t.chartInstance,this.chartType=t.chartType,this.crossFiltering=t.crossFiltering,this.crossFilterCallback=t.crossFilterCallback,this.standaloneChartType=Ds(this.chartType),this.chart==null?this.chart=ku.create(this.getCommonChartOptions()):this.clearThemeOverrides=!0}return n.prototype.getChart=function(){return a5(this.chart)},n.prototype.getChartRef=function(){return this.chart},n.prototype.downloadChart=function(t,e,r){var i=this.chart,o=a5(i),a=e||(o.title?o.title.text:"chart"),s=t||{},l=s.width,u=s.height;ku.download(i,{width:l,height:u,fileName:a,fileFormat:r})},n.prototype.getChartImageDataURL=function(t){return this.getChart().scene.getDataURL(t)},n.prototype.getChartOptions=function(){return this.chart.getOptions()},n.prototype.getChartThemeOverrides=function(){var t,e=this.getChartOptions().theme;return(t=e.overrides)!==null&&t!==void 0?t:{}},n.prototype.getChartPalette=function(){return Ns.getChartTheme(this.getChartOptions().theme).palette},n.prototype.setPaired=function(t){var e,r=Ds(this.chartProxyParams.chartType);ku.updateDelta(this.chart,{theme:{overrides:(e={},e[r]={paired:t},e)}})},n.prototype.isPaired=function(){var t=Ds(this.chartProxyParams.chartType);return _v(this.getChartThemeOverrides(),"".concat(t,".paired"),!0)},n.prototype.lookupCustomChartTheme=function(t){return Bte(this.chartProxyParams,t)},n.prototype.transformData=function(t,e,r){return r?t.map(function(i,o){var a=i[e],s=a&&a.toString?a.toString():"",l=WC({},i);return l[e]={id:o,value:a,toString:function(){return s}},l}):t},n.prototype.getCommonChartOptions=function(t){var e,r,i=this.clearThemeOverrides?{}:(r=(e=this.chart)===null||e===void 0?void 0:e.getOptions())!==null&&r!==void 0?r:{},o=this.chart!=null?this.getActiveFormattingPanelOverrides():void 0;this.clearThemeOverrides=!1;var a=SUe(this.chartProxyParams,this),s=this.getChartThemeDefaults(),l=wUe(a,[s,t??o]);return WC(WC({},i),{theme:l,container:this.chartProxyParams.parentElement,mode:"integrated"})},n.prototype.getChartThemeDefaults=function(){},n.prototype.getActiveFormattingPanelOverrides=function(){var t,e;if(this.clearThemeOverrides)return{};var r=(t=this.chart)===null||t===void 0?void 0:t.getOptions().theme;return(e=r==null?void 0:r.overrides)!==null&&e!==void 0?e:{}},n.prototype.destroy=function(t){var e=t===void 0?{}:t,r=e.keepChartInstance,i=r===void 0?!1:r;if(i)return this.chart.resetAnimations(),this.chart;this.destroyChart()},n.prototype.destroyChart=function(){this.chart&&(this.chart.destroy(),this.chart=void 0)},n}(),y4e=function(){var n=function(t,e){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])},n(t,e)};return function(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");n(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}}(),HO=function(){return HO=Object.assign||function(n){for(var t,e=1,r=arguments.length;e<r;e++){t=arguments[e];for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(n[i]=t[i])}return n},HO.apply(this,arguments)},xx=function(n,t){var e=typeof Symbol=="function"&&n[Symbol.iterator];if(!e)return n;var r=e.call(n),i,o=[],a;try{for(;(t===void 0||t-- >0)&&!(i=r.next()).done;)o.push(i.value)}catch(s){a={error:s}}finally{try{i&&!i.done&&(e=r.return)&&e.call(r)}finally{if(a)throw a.error}}return o},pp=function(n){y4e(t,n);function t(e){var r=n.call(this,e)||this;return r.crossFilteringAllPoints=new Set,r.crossFilteringSelectedPoints=[],r}return t.prototype.update=function(e){var r=this.getAxes(e),i=HO(HO({},this.getCommonChartOptions(e.updatedOverrides)),{data:this.getData(e,r),axes:r,series:this.getSeries(e)});ku.update(this.getChartRef(),i)},t.prototype.getData=function(e,r){var i=["area","line"].includes(this.standaloneChartType),o=r.some(function(a){return(a==null?void 0:a.type)==="category"});return this.crossFiltering&&i?this.getCrossFilterData(e):this.getDataTransformedData(e,o)},t.prototype.getDataTransformedData=function(e,r){var i=xx(e.categories,1),o=i[0];return this.transformData(e.data,o.id,r)},t.prototype.getXAxisType=function(e){return e.grouping?"grouped-category":t.isTimeAxis(e)?"time":"category"},t.isTimeAxis=function(e){var r=xx(e.categories,1),i=r[0];if(i&&i.chartDataType)return i.chartDataType==="time";var o=e.data[0];return(o&&o[i.id])instanceof Date},t.prototype.crossFilteringReset=function(){this.crossFilteringSelectedPoints=[],this.crossFilteringAllPoints.clear()},t.prototype.crossFilteringPointSelected=function(e){return this.crossFilteringSelectedPoints.length==0||this.crossFilteringSelectedPoints.includes(e)},t.prototype.crossFilteringDeselectedPoints=function(){return this.crossFilteringSelectedPoints.length>0&&this.crossFilteringAllPoints.size!==this.crossFilteringSelectedPoints.length},t.prototype.extractLineAreaCrossFilterSeries=function(e,r){var i=this,o=xx(r.categories,1),a=o[0],s=function(l){if(i.standaloneChartType==="area"){var u=r.getCrossFilteringContext().lastSelectedChartId;return u===r.chartId?l+"-total":l}return l+"-total"};return e.map(function(l){return l.yKey=s(l.yKey),l.listeners={nodeClick:function(u){var c=u.datum[l.xKey],d=u.event.metaKey||u.event.ctrlKey;i.crossFilteringAddSelectedPoint(d,c),i.crossFilterCallback(u)}},l.marker={formatter:function(u){var c=u.datum[a.id];return{fill:u.highlighted?"yellow":u.fill,size:u.highlighted?14:i.crossFilteringPointSelected(c)?8:0}}},i.standaloneChartType==="area"&&(l.fillOpacity=i.crossFilteringDeselectedPoints()?.3:1),i.standaloneChartType==="line"&&(l.strokeOpacity=i.crossFilteringDeselectedPoints()?.3:1),l})},t.prototype.getCrossFilterData=function(e){var r=this;this.crossFilteringAllPoints.clear();var i=xx(e.categories,1),o=i[0],a=e.fields[0].colId,s="".concat(a,"-filtered-out"),l=e.getCrossFilteringContext().lastSelectedChartId;return e.data.map(function(u){var c=u[o.id];r.crossFilteringAllPoints.add(c);var d=r.crossFilteringPointSelected(c);return r.standaloneChartType==="area"&&l===e.chartId&&(u["".concat(a,"-total")]=d?u[a]:u[a]+u[s]),r.standaloneChartType==="line"&&(u["".concat(a,"-total")]=d?u[a]:u[a]+u[s]),u})},t.prototype.crossFilteringAddSelectedPoint=function(e,r){e?this.crossFilteringSelectedPoints.push(r):this.crossFilteringSelectedPoints=[r]},t}(v0);function s5(n,t){var e=parseInt(n.slice(1,3),16),r=parseInt(n.slice(3,5),16),i=parseInt(n.slice(5,7),16);return t?"rgba(".concat(e,", ").concat(r,", ").concat(i,", ").concat(t,")"):"rgba(".concat(e,", ").concat(r,", ").concat(i,")")}function l5(n,t){return n.map(function(e){var r=xr.Color.fromString(e);return new xr.Color(r.r,r.g,r.b,t).toHexString()})}var m4e=function(){var n=function(t,e){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])},n(t,e)};return function(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");n(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}}(),Jc=function(){return Jc=Object.assign||function(n){for(var t,e=1,r=arguments.length;e<r;e++){t=arguments[e];for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(n[i]=t[i])}return n},Jc.apply(this,arguments)},C4e=function(n,t){var e=typeof Symbol=="function"&&n[Symbol.iterator];if(!e)return n;var r=e.call(n),i,o=[],a;try{for(;(t===void 0||t-- >0)&&!(i=r.next()).done;)o.push(i.value)}catch(s){a={error:s}}finally{try{i&&!i.done&&(e=r.return)&&e.call(r)}finally{if(a)throw a.error}}return o},S4e=function(n){m4e(t,n);function t(e){return n.call(this,e)||this}return t.prototype.getAxes=function(e){var r=[{type:this.getXAxisType(e),position:Gu(this.chartType)?"left":"bottom"},{type:"number",position:Gu(this.chartType)?"bottom":"left"}];if(this.isNormalised()){var i=r[1];i.label=Jc(Jc({},i.label),{formatter:function(o){return Math.round(o.value)+"%"}})}return r},t.prototype.getSeries=function(e){var r=this,i=C4e(e.categories,1),o=i[0],a=e.fields.map(function(s){return{type:r.standaloneChartType,direction:Gu(r.chartType)?"horizontal":"vertical",stacked:r.crossFiltering||aUe(r.chartType),normalizedTo:r.isNormalised()?100:void 0,xKey:o.id,xName:o.name,yKey:s.colId,yName:s.displayName}});return this.crossFiltering?this.extractCrossFilterSeries(a):a},t.prototype.extractCrossFilterSeries=function(e){for(var r=this,i=this.getChartPalette(),o=function(c,d){return Jc(Jc({},c),{highlightStyle:{item:{fill:void 0}},fill:i==null?void 0:i.fills[d],stroke:i==null?void 0:i.strokes[d],listeners:{nodeClick:r.crossFilterCallback}})},a=function(c){var d=c.yKey+"-filtered-out";return Jc(Jc({},Fd({},c)),{yKey:d,fill:s5(c.fill,"0.3"),stroke:s5(c.stroke,"0.3"),showInLegend:!1})},s=[],l=0;l<e.length;l++){var u=o(e[l],l);s.push(u),s.push(a(u))}return s},t.prototype.isNormalised=function(){var e=["normalizedColumn","normalizedBar"];return!this.crossFiltering&&D.includes(e,this.chartType)},t}(pp),w4e=function(){var n=function(t,e){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])},n(t,e)};return function(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");n(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}}(),jO=function(){return jO=Object.assign||function(n){for(var t,e=1,r=arguments.length;e<r;e++){t=arguments[e];for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(n[i]=t[i])}return n},jO.apply(this,arguments)},_4e=function(n,t){var e=typeof Symbol=="function"&&n[Symbol.iterator];if(!e)return n;var r=e.call(n),i,o=[],a;try{for(;(t===void 0||t-- >0)&&!(i=r.next()).done;)o.push(i.value)}catch(s){a={error:s}}finally{try{i&&!i.done&&(e=r.return)&&e.call(r)}finally{if(a)throw a.error}}return o},x4e=function(n){w4e(t,n);function t(e){return n.call(this,e)||this}return t.prototype.getAxes=function(e){var r=[{type:this.getXAxisType(e),position:"bottom"},{type:"number",position:"left"}];if(this.isNormalised()){var i=r[1];i.label=jO(jO({},i.label),{formatter:function(o){return Math.round(o.value)+"%"}})}return r},t.prototype.getSeries=function(e){var r=this,i=_4e(e.categories,1),o=i[0],a=e.fields.map(function(s){return{type:r.standaloneChartType,xKey:o.id,xName:o.name,yKey:s.colId,yName:s.displayName,normalizedTo:r.chartType==="normalizedArea"?100:void 0,stacked:["normalizedArea","stackedArea"].includes(r.chartType)}});return this.crossFiltering?this.extractLineAreaCrossFilterSeries(a,e):a},t.prototype.isNormalised=function(){return!this.crossFiltering&&this.chartType==="normalizedArea"},t}(pp),E4e=function(){var n=function(t,e){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])},n(t,e)};return function(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");n(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}}(),b4e=function(n,t){var e=typeof Symbol=="function"&&n[Symbol.iterator];if(!e)return n;var r=e.call(n),i,o=[],a;try{for(;(t===void 0||t-- >0)&&!(i=r.next()).done;)o.push(i.value)}catch(s){a={error:s}}finally{try{i&&!i.done&&(e=r.return)&&e.call(r)}finally{if(a)throw a.error}}return o},O4e=function(n){E4e(t,n);function t(e){return n.call(this,e)||this}return t.prototype.getAxes=function(e){return[{type:this.getXAxisType(e),position:"bottom"},{type:"number",position:"left"}]},t.prototype.getSeries=function(e){var r=this,i=b4e(e.categories,1),o=i[0],a=e.fields.map(function(s){return{type:r.standaloneChartType,xKey:o.id,xName:o.name,yKey:s.colId,yName:s.displayName}});return this.crossFiltering?this.extractLineAreaCrossFilterSeries(a,e):a},t}(pp),R4e=function(){var n=function(t,e){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])},n(t,e)};return function(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");n(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}}(),$O=function(){return $O=Object.assign||function(n){for(var t,e=1,r=arguments.length;e<r;e++){t=arguments[e];for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(n[i]=t[i])}return n},$O.apply(this,arguments)},u5=function(n,t){var e=typeof Symbol=="function"&&n[Symbol.iterator];if(!e)return n;var r=e.call(n),i,o=[],a;try{for(;(t===void 0||t-- >0)&&!(i=r.next()).done;)o.push(i.value)}catch(s){a={error:s}}finally{try{i&&!i.done&&(e=r.return)&&e.call(r)}finally{if(a)throw a.error}}return o},T4e=function(n){R4e(t,n);function t(e){return n.call(this,e)||this}return t.prototype.getAxes=function(e){var r=this.standaloneChartType==="radial-bar";return[{type:r?"angle-number":"angle-category"},{type:r?"radius-category":"radius-number"}]},t.prototype.getSeries=function(e){var r=this,i=e.fields,o=u5(e.categories,1),a=o[0],s=this.standaloneChartType==="radial-bar";return i.map(function(l){var u,c;return{type:r.standaloneChartType,angleKey:s?l.colId:a.id,angleName:s?(u=l.displayName)!==null&&u!==void 0?u:void 0:a.name,radiusKey:s?a.id:l.colId,radiusName:s?a.name:(c=l.displayName)!==null&&c!==void 0?c:void 0}})},t.prototype.update=function(e){var r=this.getAxes(e),i=$O($O({},this.getCommonChartOptions(e.updatedOverrides)),{data:this.getData(e,r),axes:r,series:this.getSeries(e)});ku.update(this.getChartRef(),i)},t.prototype.getData=function(e,r){var i=r.some(function(o){return o.type==="angle-category"||o.type==="radius-category"});return this.getDataTransformedData(e,i)},t.prototype.getDataTransformedData=function(e,r){var i=u5(e.categories,1),o=i[0];return this.transformData(e.data,o.id,r)},t.prototype.crossFilteringReset=function(){},t}(v0),P4e=function(){var n=function(t,e){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])},n(t,e)};return function(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");n(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}}(),_a=function(){return _a=Object.assign||function(n){for(var t,e=1,r=arguments.length;e<r;e++){t=arguments[e];for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(n[i]=t[i])}return n},_a.apply(this,arguments)},c5=function(n,t){var e=typeof Symbol=="function"&&n[Symbol.iterator];if(!e)return n;var r=e.call(n),i,o=[],a;try{for(;(t===void 0||t-- >0)&&!(i=r.next()).done;)o.push(i.value)}catch(s){a={error:s}}finally{try{i&&!i.done&&(e=r.return)&&e.call(r)}finally{if(a)throw a.error}}return o},A4e=function(n){P4e(t,n);function t(e){return n.call(this,e)||this}return t.prototype.update=function(e){var r=e.data,i=c5(e.categories,1),o=i[0],a=_a(_a({},this.getCommonChartOptions(e.updatedOverrides)),{data:this.crossFiltering?this.getCrossFilterData(e):this.transformData(r,o.id),series:this.getSeries(e)});ku.update(this.getChartRef(),a)},t.prototype.getSeries=function(e){var r=this,i=c5(e.categories,1),o=i[0],a=e.fields.length,s={currentOffset:0,offsetAmount:a>1?20:40},l=this.getFields(e).map(function(u){var c,d={type:r.standaloneChartType,angleKey:u.colId,angleName:u.displayName,sectorLabelKey:u.colId,calloutLabelName:o.name,calloutLabelKey:o.id};if(r.chartType==="donut"||r.chartType==="doughnut"){var p=t.calculateOffsets(s),h=p.outerRadiusOffset,f=p.innerRadiusOffset,v=u.displayName?{title:{text:u.displayName,showInLegend:a>1}}:void 0;return _a(_a(_a(_a({},d),{type:"donut",outerRadiusOffset:h,innerRadiusOffset:f}),v),{calloutLine:{colors:(c=r.getChartPalette())===null||c===void 0?void 0:c.strokes}})}return d});return this.crossFiltering?this.extractCrossFilterSeries(l):l},t.prototype.getCrossFilterData=function(e){var r=e.fields[0].colId,i="".concat(r,"-filtered-out");return e.data.map(function(o){var a=o[r]+o[i];return o["".concat(r,"-total")]=a,o[i]=1,o[r]=o[r]/a,o})},t.prototype.extractCrossFilterSeries=function(e){var r=this,i=this.getChartPalette(),o=function(c){return _a(_a({},c),{legendItemKey:c.calloutLabelKey,calloutLabel:{enabled:!1},highlightStyle:{item:{fill:void 0}},radiusKey:c.angleKey,angleKey:c.angleKey+"-total",radiusMin:0,radiusMax:1,listeners:{nodeClick:r.crossFilterCallback}})},a=function(c,d){var p,h;return _a(_a({},Fd({},u)),{radiusKey:d+"-filtered-out",fills:l5((p=c.fills)!==null&&p!==void 0?p:i.fills,.3),strokes:l5((h=c.strokes)!==null&&h!==void 0?h:i.strokes,.3),showInLegend:!1})},s=e[0],l=s.angleKey,u=o(s);return[a(s,l),u]},t.calculateOffsets=function(e){var r=e.currentOffset;e.currentOffset-=e.offsetAmount;var i=e.currentOffset;return e.currentOffset-=e.offsetAmount,{outerRadiusOffset:r,innerRadiusOffset:i}},t.prototype.getFields=function(e){return this.chartType==="pie"?e.fields.slice(0,1):e.fields},t.prototype.crossFilteringReset=function(){},t}(v0),D4e=function(){var n=function(t,e){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])},n(t,e)};return function(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");n(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}}(),hn=function(){return hn=Object.assign||function(n){for(var t,e=1,r=arguments.length;e<r;e++){t=arguments[e];for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(n[i]=t[i])}return n},hn.apply(this,arguments)},wM=function(n,t){var e=typeof Symbol=="function"&&n[Symbol.iterator];if(!e)return n;var r=e.call(n),i,o=[],a;try{for(;(t===void 0||t-- >0)&&!(i=r.next()).done;)o.push(i.value)}catch(s){a={error:s}}finally{try{i&&!i.done&&(e=r.return)&&e.call(r)}finally{if(a)throw a.error}}return o},M4e=function(n){var t=typeof Symbol=="function"&&Symbol.iterator,e=t&&n[t],r=0;if(e)return e.call(n);if(n&&typeof n.length=="number")return{next:function(){return n&&r>=n.length&&(n=void 0),{value:n&&n[r++],done:!n}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")},d5=function(n,t,e){if(e||arguments.length===2)for(var r=0,i=t.length,o;r<i;r++)(o||!(r in t))&&(o||(o=Array.prototype.slice.call(t,0,r)),o[r]=t[r]);return n.concat(o||Array.prototype.slice.call(t))},F4e=function(n){D4e(t,n);function t(e){return n.call(this,e)||this}return t.prototype.getAxes=function(e){return[{type:"number",position:"bottom"},{type:"number",position:"left"}]},t.prototype.getSeries=function(e){var r=wM(e.categories,1),i=r[0],o=this.isPaired(),a=this.getSeriesDefinitions(e.fields,o),s=i.id===sw.DEFAULT_CATEGORY?void 0:i,l=a.map(function(u){var c,d,p,h,f;if(u!=null&&u.sizeField){var v={type:"bubble",xKey:u.xField.colId,xName:(c=u.xField.displayName)!==null&&c!==void 0?c:void 0,yKey:u.yField.colId,yName:(d=u.yField.displayName)!==null&&d!==void 0?d:void 0,title:"".concat(u.yField.displayName," vs ").concat(u.xField.displayName),sizeKey:u.sizeField.colId,sizeName:(p=u.sizeField.displayName)!==null&&p!==void 0?p:"",labelKey:s?s.id:u.yField.colId,labelName:s?s.name:void 0};return v}var g={type:"scatter",xKey:u.xField.colId,xName:(h=u.xField.displayName)!==null&&h!==void 0?h:void 0,yKey:u.yField.colId,yName:(f=u.yField.displayName)!==null&&f!==void 0?f:void 0,title:"".concat(u.yField.displayName," vs ").concat(u.xField.displayName),labelKey:s?s.id:u.yField.colId,labelName:s?s.name:void 0};return g});return this.crossFiltering?this.extractCrossFilterSeries(l,e):l},t.prototype.extractCrossFilterSeries=function(e,r){var i=this,o=r.data,a=this.getChartPalette(),s=function(p){return"".concat(p,"-filtered-out")},l=function(p,h){var f,v,g,y=[1/0,-1/0];if(h!=null)try{for(var m=M4e(p),C=m.next();!C.done;C=m.next()){var S=C.value,w=(g=S[h])!==null&&g!==void 0?g:S[s(h)];w<y[0]&&(y[0]=w),w>y[1]&&(y[1]=w)}}catch(_){f={error:_}}finally{try{C&&!C.done&&(v=m.return)&&v.call(m)}finally{if(f)throw f.error}}if(y[0]<=y[1])return y},u=function(p,h){var f=a==null?void 0:a.fills[h],v=a==null?void 0:a.strokes[h],g=void 0;if(p.type==="bubble"){var y=p.sizeKey;g=l(o,y)}var m=hn(hn({},p.marker),{fill:f,stroke:v,domain:g});return hn(hn({},p),{marker:m,highlightStyle:{item:{fill:"yellow"}},listeners:hn(hn({},p.listeners),{nodeClick:i.crossFilterCallback})})},c=function(p){var h=p.yKey,f=p.xKey,v={};return p.type==="bubble"&&(v={sizeKey:s(p.sizeKey)}),hn(hn(hn({},p),v),{yKey:s(h),xKey:s(f),marker:hn(hn({},p.marker),{fillOpacity:.3,strokeOpacity:.3}),showInLegend:!1,listeners:hn(hn({},p.listeners),{nodeClick:function(g){var y,m=g.datum[s(f)],C=hn(hn({},g),{xKey:f,datum:hn(hn({},g.datum),(y={},y[f]=m,y))});i.crossFilterCallback(C)}})})},d=e.map(u);return d5(d5([],wM(d),!1),wM(d.map(c)),!1)},t.prototype.getSeriesDefinitions=function(e,r){if(e.length<2)return[];var i=this.chartType==="bubble";if(r)return i?e.map(function(a,s){return s%3===0?{xField:a,yField:e[s+1],sizeField:e[s+2]}:null}).filter(function(a){return a&&a.yField&&a.sizeField}):e.map(function(a,s){return s%2===0?{xField:a,yField:e[s+1]}:null}).filter(function(a){return a&&a.yField});var o=e[0];return i?e.map(function(a,s){return s%2===1?{xField:o,yField:a,sizeField:e[s+1]}:null}).filter(function(a){return a&&a.sizeField}):e.filter(function(a,s){return s>0}).map(function(a){return{xField:o,yField:a}})},t}(pp),L4e=function(){var n=function(t,e){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])},n(t,e)};return function(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");n(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}}(),_M=function(n,t){var e=typeof Symbol=="function"&&n[Symbol.iterator];if(!e)return n;var r=e.call(n),i,o=[],a;try{for(;(t===void 0||t-- >0)&&!(i=r.next()).done;)o.push(i.value)}catch(s){a={error:s}}finally{try{i&&!i.done&&(e=r.return)&&e.call(r)}finally{if(a)throw a.error}}return o},Yte=function(n){L4e(t,n);function t(e){return n.call(this,e)||this}return t.prototype.getAxes=function(e){return[{type:this.getXAxisType(e),position:Gu(this.chartType)?"left":"bottom"},{type:"number",position:Gu(this.chartType)?"bottom":"left"}]},t.prototype.computeSeriesStatistics=function(e,r){var i=e.data,o=e.fields,a=_M(e.categories,1),s=a[0],l=s.id||sw.DEFAULT_CATEGORY,u=this.groupDataByCategory(l,i);return Array.from(u).map(function(c){var d,p=_M(c,2),h=p[0],f=p[1],v=(d={},d[s.id]=h,d);return o.forEach(function(g,y){var m=f.map(function(C){return C[g.colId]}).filter(function(C){return typeof C=="number"&&!isNaN(C)});Object.entries(r(m)).forEach(function(C){var S=_M(C,2),w=S[0],_=S[1],x="".concat(w,":").concat(y);v[x]=m.length>0?_:null})}),v})},t.prototype.groupDataByCategory=function(e,r){var i=function(o){if(e===sw.DEFAULT_CATEGORY)return 1;var a=o[e];return a==null?"":a instanceof Date?a.getTime():a};return r.reduce(function(o,a){var s=i(a),l=o.get(s);return l?l.push(a):o.set(s,[a]),o},new Map)},t}(pp),I4e=function(){var n=function(t,e){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])},n(t,e)};return function(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");n(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}}(),xM=function(n,t){var e=typeof Symbol=="function"&&n[Symbol.iterator];if(!e)return n;var r=e.call(n),i,o=[],a;try{for(;(t===void 0||t-- >0)&&!(i=r.next()).done;)o.push(i.value)}catch(s){a={error:s}}finally{try{i&&!i.done&&(e=r.return)&&e.call(r)}finally{if(a)throw a.error}}return o},p5=function(n,t,e){if(e||arguments.length===2)for(var r=0,i=t.length,o;r<i;r++)(o||!(r in t))&&(o||(o=Array.prototype.slice.call(t,0,r)),o[r]=t[r]);return n.concat(o||Array.prototype.slice.call(t))},h5=function(n){I4e(t,n);function t(e){return n.call(this,e)||this}return t.prototype.getSeries=function(e){var r=this,i=xM(e.categories,1),o=i[0];return e.fields.map(function(a,s){var l;return{type:r.standaloneChartType,xKey:o.id,xName:o.name,yName:(l=a.displayName)!==null&&l!==void 0?l:void 0,yLowName:"Min",yHighName:"Max",yLowKey:"min:".concat(s),yHighKey:"max:".concat(s)}})},t.prototype.getData=function(e){return this.computeSeriesStatistics(e,function(r){return{min:Math.min.apply(Math,p5([],xM(r),!1)),max:Math.max.apply(Math,p5([],xM(r),!1))}})},t}(Yte),N4e=function(){var n=function(t,e){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])},n(t,e)};return function(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");n(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}}(),k4e=function(n){N4e(t,n);function t(e){return n.call(this,e)||this}return t.prototype.getSeries=function(e){var r=e.fields[0];return[{type:this.standaloneChartType,xKey:r.colId,xName:r.displayName,yName:this.chartProxyParams.translate("histogramFrequency"),areaPlot:!1}]},t.prototype.getAxes=function(e){return[{type:"number",position:"bottom"},{type:"number",position:"left"}]},t}(pp),G4e=function(){var n=function(t,e){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])},n(t,e)};return function(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");n(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}}(),V4e=function(n,t){var e=typeof Symbol=="function"&&n[Symbol.iterator];if(!e)return n;var r=e.call(n),i,o=[],a;try{for(;(t===void 0||t-- >0)&&!(i=r.next()).done;)o.push(i.value)}catch(s){a={error:s}}finally{try{i&&!i.done&&(e=r.return)&&e.call(r)}finally{if(a)throw a.error}}return o},B4e=function(n){G4e(t,n);function t(e){return n.call(this,e)||this}return t.prototype.getSeries=function(e){var r=this,i=V4e(e.categories,1),o=i[0];return e.fields.map(function(a,s){var l;return{type:r.standaloneChartType,direction:Gu(r.chartType)?"horizontal":"vertical",xKey:o.id,xName:o.name,yName:(l=a.displayName)!==null&&l!==void 0?l:void 0,minName:"Min",q1Name:"Q1",medianName:"Median",q3Name:"Q3",maxName:"Max",minKey:"min:".concat(s),q1Key:"q1:".concat(s),medianKey:"median:".concat(s),q3Key:"q3:".concat(s),maxKey:"max:".concat(s)}})},t.prototype.getData=function(e){var r=this;return this.computeSeriesStatistics(e,function(i){var o=i.sort(function(a,s){return a-s});return{min:o[0],q1:r.quantile(o,.25),median:r.quantile(o,.5),q3:r.quantile(o,.75),max:o[o.length-1]}})},t.prototype.quantile=function(e,r){var i=(e.length-1)*r,o=Math.floor(i),a=i-o;return e[o+1]!==void 0?e[o]+a*(e[o+1]-e[o]):e[o]},t}(Yte),WO=function(){return WO=Object.assign||function(n){for(var t,e=1,r=arguments.length;e<r;e++){t=arguments[e];for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(n[i]=t[i])}return n},WO.apply(this,arguments)},f5=function(n,t){var e=typeof Symbol=="function"&&n[Symbol.iterator];if(!e)return n;var r=e.call(n),i,o=[],a;try{for(;(t===void 0||t-- >0)&&!(i=r.next()).done;)o.push(i.value)}catch(s){a={error:s}}finally{try{i&&!i.done&&(e=r.return)&&e.call(r)}finally{if(a)throw a.error}}return o},H4e=function(n,t,e){if(e||arguments.length===2)for(var r=0,i=t.length,o;r<i;r++)(o||!(r in t))&&(o||(o=Array.prototype.slice.call(t,0,r)),o[r]=t[r]);return n.concat(o||Array.prototype.slice.call(t))},j4e=function(n){var t=typeof Symbol=="function"&&Symbol.iterator,e=t&&n[t],r=0;if(e)return e.call(n);if(n&&typeof n.length=="number")return{next:function(){return n&&r>=n.length&&(n=void 0),{value:n&&n[r++],done:!n}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")},bE="AG-GRID-DEFAULT-LABEL-KEY";function $4e(n,t){var e=Xte(n,r,i);return s2(e);function r(a){return t.length}function i(a,s){var l=t[s],u=a[l];return o(u)}function o(a){return a==null?null:String(a)}}function W4e(n,t){var e=Xte(n,r,i);return s2(e);function r(o){var a,s;return(s=(a=t(o))===null||a===void 0?void 0:a.length)!==null&&s!==void 0?s:0}function i(o,a){var s=t(o);if(!s)return null;var l=s.length-1-a;return s[l]}}function s2(n){var t,e,r=n.depth,i=n.leaves,o=n.children;if(r===0)return i.map(function(h){var f;return WO((f={},f[bE]=null,f),h)});var a=new Array,s=function(h,f){var v;f.depth===0?a.push.apply(a,H4e([],f5(f.leaves.map(function(g){var y;return WO((y={},y[bE]=h,y),g)})),!1)):a.push((v={},v[bE]=h,v.children=s2(f),v))};try{for(var l=j4e(o.entries()),u=l.next();!u.done;u=l.next()){var c=f5(u.value,2),d=c[0],p=c[1];s(d,p)}}catch(h){t={error:h}}finally{try{u&&!u.done&&(e=l.return)&&e.call(l)}finally{if(t)throw t.error}}return a}function Xte(n,t,e){var r={depth:0,leaves:[],children:new Map};return n.reduce(function(o,a){var s=t(a),l=0;return i(a,s,e,l,o)},r);function i(o,a,s,l,u){if(l===a)return u.leaves.push(o),u;var c=s(o,l),d=u.children.get(c),p=i(o,a,s,l+1,d||{depth:0,leaves:[],children:new Map});return u.children.set(c,p),u.depth=Math.max(1+p.depth,u.depth),u}}var U4e=function(){var n=function(t,e){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])},n(t,e)};return function(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");n(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}}(),UO=function(){return UO=Object.assign||function(n){for(var t,e=1,r=arguments.length;e<r;e++){t=arguments[e];for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(n[i]=t[i])}return n},UO.apply(this,arguments)},qte=function(n){U4e(t,n);function t(e){var r=n.call(this,e)||this;return r.chartProxyParams=e,r}return t.prototype.update=function(e){var r=UO(UO({},this.getCommonChartOptions(e.updatedOverrides)),{series:this.getSeries(e,bE),data:this.getData(e)});ku.update(this.getChartRef(),r)},t.prototype.getData=function(e){var r=e.categories,i=e.data,o=e.grouping;if(o)return W4e(i,z4e);var a=r.map(function(s){var l=s.id;return l});return $4e(i,a)},t}(v0);function z4e(n){var t,e;return(e=(t=n[Qu])===null||t===void 0?void 0:t.labels)!==null&&e!==void 0?e:null}var K4e=function(){var n=function(t,e){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])},n(t,e)};return function(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");n(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}}(),Y4e=function(n,t){var e=typeof Symbol=="function"&&n[Symbol.iterator];if(!e)return n;var r=e.call(n),i,o=[],a;try{for(;(t===void 0||t-- >0)&&!(i=r.next()).done;)o.push(i.value)}catch(s){a={error:s}}finally{try{i&&!i.done&&(e=r.return)&&e.call(r)}finally{if(a)throw a.error}}return o},X4e=function(n){K4e(t,n);function t(e){return n.call(this,e)||this}return t.prototype.getSeries=function(e,r){var i,o,a=e.fields,s=Y4e(a,2),l=s[0],u=s[1];return[{type:this.standaloneChartType,labelKey:r,sizeKey:l==null?void 0:l.colId,sizeName:(i=l==null?void 0:l.displayName)!==null&&i!==void 0?i:void 0,colorKey:u==null?void 0:u.colId,colorName:(o=u==null?void 0:u.displayName)!==null&&o!==void 0?o:void 0}]},t.prototype.getChartThemeDefaults=function(){return{treemap:{gradientLegend:{gradient:{preferredLength:200}}}}},t.prototype.transformData=function(e,r,i){return e},t.prototype.crossFilteringReset=function(){},t}(qte),q4e=function(){var n=function(t,e){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])},n(t,e)};return function(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");n(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}}(),Z4e=function(n,t){var e=typeof Symbol=="function"&&n[Symbol.iterator];if(!e)return n;var r=e.call(n),i,o=[],a;try{for(;(t===void 0||t-- >0)&&!(i=r.next()).done;)o.push(i.value)}catch(s){a={error:s}}finally{try{i&&!i.done&&(e=r.return)&&e.call(r)}finally{if(a)throw a.error}}return o},Q4e=function(n){q4e(t,n);function t(e){return n.call(this,e)||this}return t.prototype.getSeries=function(e,r){var i,o,a=e.fields,s=Z4e(a,2),l=s[0],u=s[1];return[{type:this.standaloneChartType,labelKey:r,sizeKey:l==null?void 0:l.colId,sizeName:(i=l==null?void 0:l.displayName)!==null&&i!==void 0?i:void 0,colorKey:u==null?void 0:u.colId,colorName:(o=u==null?void 0:u.displayName)!==null&&o!==void 0?o:void 0}]},t.prototype.getChartThemeDefaults=function(){return{sunburst:{gradientLegend:{gradient:{preferredLength:200}}}}},t.prototype.transformData=function(e,r,i){return e},t.prototype.crossFilteringReset=function(){},t}(qte);function Zte(n,t){return n.reduce(function(e,r,i,o){return e.concat(t(r,i,o))},new Array)}var J4e=function(){var n=function(t,e){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])},n(t,e)};return function(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");n(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}}(),bv=function(){return bv=Object.assign||function(n){for(var t,e=1,r=arguments.length;e<r;e++){t=arguments[e];for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(n[i]=t[i])}return n},bv.apply(this,arguments)},v5=function(n,t){var e=typeof Symbol=="function"&&n[Symbol.iterator];if(!e)return n;var r=e.call(n),i,o=[],a;try{for(;(t===void 0||t-- >0)&&!(i=r.next()).done;)o.push(i.value)}catch(s){a={error:s}}finally{try{i&&!i.done&&(e=r.return)&&e.call(r)}finally{if(a)throw a.error}}return o},eKe="AG-GRID-DEFAULT-HEATMAP-CATEGORY-KEY",tKe="AG-GRID-DEFAULT-HEATMAP-SERIES-KEY",rKe="AG-GRID-DEFAULT-HEATMAP-VALUE-KEY",nKe=function(n){J4e(t,n);function t(e){return n.call(this,e)||this}return t.prototype.update=function(e){var r=tKe,i=rKe,o=eKe,a=bv(bv({},this.getCommonChartOptions(e.updatedOverrides)),{series:this.getSeries(e,r,i,o),data:this.getData(e,r,i,o)});ku.update(this.getChartRef(),a)},t.prototype.getSeries=function(e,r,i,o){var a=v5(e.categories,1),s=a[0];return[{type:this.standaloneChartType,yKey:o,xKey:r,colorKey:i,yName:s.name,xName:void 0,colorName:void 0}]},t.prototype.getData=function(e,r,i,o){var a=v5(e.categories,1),s=a[0];return Zte(e.data,function(l,u){var c=l[s.id],d=c==null?"":String(c),p={id:u,value:c,toString:function(){return d}};return e.fields.map(function(h){var f,v=h.colId,g=h.displayName;return bv(bv({},l),(f={},f[r]=g,f[i]=l[v],f[o]=p,f))})})},t.prototype.getChartThemeDefaults=function(){return{heatmap:{gradientLegend:{gradient:{preferredLength:200}},series:{tooltip:{renderer:iKe}}}}},t.prototype.transformData=function(e,r,i){return e},t.prototype.crossFilteringReset=function(){},t}(v0);function iKe(n){var t=n.xKey,e=n.yKey,r=n.colorKey,i=n.yName,o=n.seriesId,a=n.datum,s=a[o],l=[{label:i,value:s[e]},{label:s[t],value:r&&s[r]}],u=l.map(function(c){var d=c.label,p=c.value;return"<b>".concat(g5(String(d)),":</b> ").concat(g5(String(p)))}).join("<br>");return{title:"",content:u}}function g5(n){var t={"&":"&amp;","<":"&lt;",">":"&gt;"},e="[".concat(Object.keys(t).join(""),"]"),r=new RegExp(e,"g");return n.replace(r,function(i){return t[i]})}var oKe=function(){var n=function(t,e){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])},n(t,e)};return function(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");n(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}}(),y5=function(n,t){var e=typeof Symbol=="function"&&n[Symbol.iterator];if(!e)return n;var r=e.call(n),i,o=[],a;try{for(;(t===void 0||t-- >0)&&!(i=r.next()).done;)o.push(i.value)}catch(s){a={error:s}}finally{try{i&&!i.done&&(e=r.return)&&e.call(r)}finally{if(a)throw a.error}}return o},aKe=function(n){oKe(t,n);function t(e){return n.call(this,e)||this}return t.prototype.getAxes=function(e){return[{type:this.getXAxisType(e),position:Gu(this.chartType)?"left":"bottom"},{type:"number",position:Gu(this.chartType)?"bottom":"left"}]},t.prototype.getSeries=function(e){var r,i=y5(e.categories,1),o=i[0],a=y5(e.fields,1),s=a[0],l={type:this.standaloneChartType,direction:Gu(this.chartType)?"horizontal":"vertical",xKey:o.id,xName:o.name,yKey:s.colId,yName:(r=s.displayName)!==null&&r!==void 0?r:void 0};return[l]},t}(pp),sKe=function(){var n=function(t,e){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])},n(t,e)};return function(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");n(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}}(),lKe=function(n){var t=typeof Symbol=="function"&&Symbol.iterator,e=t&&n[t],r=0;if(e)return e.call(n);if(n&&typeof n.length=="number")return{next:function(){return n&&r>=n.length&&(n=void 0),{value:n&&n[r++],done:!n}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")},uKe=function(n){sKe(t,n);function t(e){var r=n.call(this)||this;return r.chartController=e,r}return t.prototype.getChartOption=function(e){return _v(this.getChart(),e,void 0)},t.prototype.setChartOption=function(e,r,i){var o=this,a=this.chartController.getChartSeriesTypes();this.chartController.isComboChart()&&a.push("common");var s={};a.forEach(function(l){s=Fd(s,o.createChartOptions({seriesType:l,expression:e,value:r}))}),i||(this.updateChart(s),this.raiseChartOptionsChangedEvent())},t.prototype.awaitChartOptionUpdate=function(e){var r=this.chartController.getChartProxy().getChart();r.waitForUpdate().then(function(){return e()}).catch(function(i){return console.error("AG Grid - chart update failed",i)})},t.prototype.getAxisProperty=function(e){var r;return _v((r=this.getChart().axes)===null||r===void 0?void 0:r[0],e,void 0)},t.prototype.setAxisProperty=function(e,r){this.setAxisProperties([{expression:e,value:r}])},t.prototype.setAxisProperties=function(e){var r=this,i=this.getChart(),o=Zte(e,function(a){var s,l=a.expression,u=a.value,c=(s=i.axes)===null||s===void 0?void 0:s.filter(function(d){var p,h,f=l.split("."),v=d;try{for(var g=lKe(f),y=g.next();!y.done;y=g.next()){var m=y.value;if(!(m in v))return!1;v=v[m]}}catch(C){p={error:C}}finally{try{y&&!y.done&&(h=g.return)&&h.call(g)}finally{if(p)throw p.error}}return!0});return c?c.map(function(d){return r.getUpdateAxisOptions(d,l,u)}):[]}).reduce(function(a,s){return Fd(a,s)},{});Object.keys(o).length>0&&(this.updateChart(o),this.raiseChartOptionsChangedEvent())},t.prototype.getLabelRotation=function(e){var r=this.getAxis(e);return _v(r,"label.rotation",void 0)},t.prototype.setLabelRotation=function(e,r){var i=this.getAxis(e);if(i){var o=this.getUpdateAxisOptions(i,"label.rotation",r);this.updateChart(o),this.raiseChartOptionsChangedEvent()}},t.prototype.getSeriesOption=function(e,r,i){var o=this.getChart().series.find(function(a){return t.isMatchingSeries(r,a)});return _v(i?o:o==null?void 0:o.properties.toJson(),e,void 0)},t.prototype.setSeriesOption=function(e,r,i){var o=this.createChartOptions({seriesType:i,expression:"series.".concat(e),value:r});this.updateChart(o),this.raiseChartOptionsChangedEvent()},t.prototype.getPairedMode=function(){return this.chartController.getChartProxy().isPaired()},t.prototype.setPairedMode=function(e){this.chartController.getChartProxy().setPaired(e)},t.prototype.getAxis=function(e){var r=this.getChart();if(!(!r.axes||r.axes.length<1))return e==="xAxis"?r.axes&&r.axes[0].direction==="x"?r.axes[0]:r.axes[1]:r.axes&&r.axes[1].direction==="y"?r.axes[1]:r.axes[0]},t.prototype.getUpdateAxisOptions=function(e,r,i){var o=this,a=this.chartController.getChartSeriesTypes();this.chartController.isComboChart()&&a.push("common");var s=["number","category","time","grouped-category","angle-category","angle-number","radius-category","radius-number"];return s.includes(e.type)?a.map(function(l){return o.createChartOptions({seriesType:l,expression:"axes.".concat(e.type,".").concat(r),value:i})}).reduce(function(l,u){return Fd(l,u)}):{}},t.prototype.getChartType=function(){return this.chartController.getChartType()},t.prototype.getChart=function(){return this.chartController.getChartProxy().getChart()},t.prototype.updateChart=function(e){var r=this.chartController.getChartProxy().getChartRef();r.skipAnimations(),ku.updateDelta(r,e)},t.prototype.createChartOptions=function(e){var r=e.seriesType,i=e.expression,o=e.value,a={},s={theme:{overrides:a}};return CUe(a,"".concat(r,".").concat(i),o),s},t.prototype.raiseChartOptionsChangedEvent=function(){var e=this.chartController.getChartModel(),r={type:P.EVENT_CHART_OPTIONS_CHANGED,chartId:e.chartId,chartType:e.chartType,chartThemeName:this.chartController.getChartThemeName(),chartOptions:e.chartOptions};this.eventService.dispatchEvent(r)},t.isMatchingSeries=function(e,r){return nUe.includes(e)&&r.type===e},t.prototype.destroy=function(){n.prototype.destroy.call(this)},t}(q),cKe=function(){var n=function(t,e){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])},n(t,e)};return function(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");n(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}}(),QI=function(){return QI=Object.assign||function(n){for(var t,e=1,r=arguments.length;e<r;e++){t=arguments[e];for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(n[i]=t[i])}return n},QI.apply(this,arguments)},dKe=function(n,t){var e=typeof Symbol=="function"&&n[Symbol.iterator];if(!e)return n;var r=e.call(n),i,o=[],a;try{for(;(t===void 0||t-- >0)&&!(i=r.next()).done;)o.push(i.value)}catch(s){a={error:s}}finally{try{i&&!i.done&&(e=r.return)&&e.call(r)}finally{if(a)throw a.error}}return o},pKe=function(n){cKe(t,n);function t(e){return n.call(this,e)||this}return t.prototype.getAxes=function(e){var r=e?e.fields:[],i=new Map(r.map(function(u){return[u.colId,u]})),o=this.getYKeys(r,e.seriesChartTypes),a=o.primaryYKeys,s=o.secondaryYKeys,l=[{type:this.getXAxisType(e),position:"bottom"}];return a.length>0&&l.push({type:"number",keys:a,position:"left"}),s.length>0&&s.forEach(function(u){var c=i.get(u),d=c&&c.colId===u;if(d){var p={type:"number",keys:[u],position:"right"};l.push(p)}}),l},t.prototype.getSeries=function(e){var r=e.fields,i=e.seriesChartTypes,o=dKe(e.categories,1),a=o[0];return r.map(function(s){var l=i.find(function(p){return p.colId===s.colId});if(l){var u=l.chartType,c=["groupedColumn","groupedBar"].includes(u),d=c?{grouped:!0}:{};return QI({type:Ds(u),xKey:a.id,yKey:s.colId,yName:s.displayName,stacked:["stackedArea","stackedColumn"].includes(u)},d)}})},t.prototype.getYKeys=function(e,r){var i=[],o=[];return e.forEach(function(a){var s=a.colId,l=r.find(function(u){return u.colId===s});l&&(l.secondaryAxis?o.push(s):i.push(s))}),{primaryYKeys:i,secondaryYKeys:o}},t}(pp),hKe=function(){var n=function(t,e){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])},n(t,e)};return function(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");n(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}}(),sl=function(n,t,e,r){var i=arguments.length,o=i<3?t:r===null?r=Object.getOwnPropertyDescriptor(t,e):r,a;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(n,t,e,r);else for(var s=n.length-1;s>=0;s--)(a=n[s])&&(o=(i<3?a(o):i>3?a(t,e,o):a(t,e))||o);return i>3&&o&&Object.defineProperty(t,e,o),o},fKe=function(n,t){var e=typeof Symbol=="function"&&n[Symbol.iterator];if(!e)return n;var r=e.call(n),i,o=[],a;try{for(;(t===void 0||t-- >0)&&!(i=r.next()).done;)o.push(i.value)}catch(s){a={error:s}}finally{try{i&&!i.done&&(e=r.return)&&e.call(r)}finally{if(a)throw a.error}}return o},m5=function(n){hKe(t,n);function t(e){var r=n.call(this,t.TEMPLATE)||this;return r.params=e,r}return t.prototype.init=function(){var e=this,r={chartId:this.params.chartId,pivotChart:this.params.pivotChart,chartType:iw(this.params.chartType),chartThemeName:this.getThemeName(),aggFunc:this.params.aggFunc,cellRange:this.params.cellRange,suppressChartRanges:this.params.suppressChartRanges,unlinkChart:this.params.unlinkChart,crossFiltering:this.params.crossFiltering,seriesChartTypes:this.params.seriesChartTypes},i=this.gridOptionsService.get("enableRtl");this.addCssClass(i?"ag-rtl":"ag-ltr");var o=this.createBean(new sw(r));this.chartController=this.createManagedBean(new ks(o)),this.validateCustomThemes(),this.createChart(),this.params.insideDialog&&this.addDialog(),this.addMenu(),this.addTitleEditComp(),this.addManagedListener(this.getGui(),"focusin",this.setActiveChartCellRange.bind(this)),this.addManagedListener(this.chartController,ks.EVENT_CHART_MODEL_UPDATE,this.update.bind(this)),this.addManagedPropertyListeners(["chartThemeOverrides","chartThemes"],this.reactivePropertyUpdate.bind(this)),this.chartMenu&&this.addManagedListener(this.chartMenu,i5.EVENT_DOWNLOAD_CHART,function(){return e.downloadChart()}),this.update(),this.raiseChartCreatedEvent()},t.prototype.createChart=function(){var e=this,r=void 0;this.chartProxy&&(r=this.chartProxy.destroy({keepChartInstance:!0}));var i=function(l,u){var c=e.params.crossFilteringContext;c.lastSelectedChartId=u?"":e.chartController.getChartId(),u&&e.params.crossFilteringResetCallback(),e.crossFilterService.filter(l,u)},o=this.chartController.getChartType(),a={chartType:o,chartInstance:r,getChartThemeName:this.getChartThemeName.bind(this),getChartThemes:this.getChartThemes.bind(this),customChartThemes:this.gridOptionsService.get("customChartThemes"),getGridOptionsChartThemeOverrides:function(){return e.getGridOptionsChartThemeOverrides()},getExtraPaddingDirections:function(){var l,u;return(u=(l=e.chartMenu)===null||l===void 0?void 0:l.getExtraPaddingDirections())!==null&&u!==void 0?u:[]},apiChartThemeOverrides:this.params.chartThemeOverrides,crossFiltering:this.params.crossFiltering,crossFilterCallback:i,parentElement:this.eChart,grouping:this.chartController.isGrouping(),chartThemeToRestore:this.params.chartThemeName,chartOptionsToRestore:this.params.chartOptionsToRestore,chartPaletteToRestore:this.params.chartPaletteToRestore,seriesChartTypes:this.chartController.getSeriesChartTypes(),translate:function(l,u){return e.chartTranslationService.translate(l,u)}};if(this.params.chartOptionsToRestore=void 0,this.chartType=o,this.chartProxy=t.createChartProxy(a),!this.chartProxy){console.warn("AG Grid: invalid chart type supplied: ",a.chartType);return}var s=this.eChart.querySelector("canvas");s&&s.classList.add("ag-charts-canvas"),this.chartController.setChartProxy(this.chartProxy),this.chartOptionsService=this.createBean(new uKe(this.chartController)),this.titleEdit&&this.titleEdit.refreshTitle(this.chartController,this.chartOptionsService)},t.prototype.getChartThemeName=function(){return this.chartController.getChartThemeName()},t.prototype.getChartThemes=function(){return this.chartController.getThemeNames()},t.prototype.getGridOptionsChartThemeOverrides=function(){return this.gridOptionsService.get("chartThemeOverrides")},t.createChartProxy=function(e){switch(e.chartType){case"column":case"bar":case"groupedColumn":case"stackedColumn":case"normalizedColumn":case"groupedBar":case"stackedBar":case"normalizedBar":return new S4e(e);case"pie":case"donut":case"doughnut":return new A4e(e);case"area":case"stackedArea":case"normalizedArea":return new x4e(e);case"line":return new O4e(e);case"scatter":case"bubble":return new F4e(e);case"histogram":return new k4e(e);case"radarLine":case"radarArea":case"nightingale":case"radialColumn":case"radialBar":return new T4e(e);case"rangeBar":return new h5(e);case"rangeArea":return new h5(e);case"boxPlot":return new B4e(e);case"treemap":return new X4e(e);case"sunburst":return new Q4e(e);case"heatmap":return new nKe(e);case"waterfall":return new aKe(e);case"columnLineCombo":case"areaColumnCombo":case"customCombo":return new pKe(e);default:throw"AG Grid: Unable to create chart as an invalid chartType = '".concat(e.chartType,"' was supplied.")}},t.prototype.addDialog=function(){var e=this,r=this.chartTranslationService.translate(this.params.pivotChart?"pivotChartTitle":"rangeChartTitle"),i=this.getBestDialogSize(),o=i.width,a=i.height;this.chartDialog=new zh({resizable:!0,movable:!0,maximizable:!0,title:r,width:o,height:a,component:this,centered:!0,closable:!0}),this.getContext().createBean(this.chartDialog),this.chartDialog.addEventListener(zh.EVENT_DESTROYED,function(){return e.destroy()})},t.prototype.getBestDialogSize=function(){var e=this.popupService.getPopupParent(),r=D.getAbsoluteWidth(e)*.75,i=D.getAbsoluteHeight(e)*.75,o=.553,a=this.chartProxy.getChart(),s=this.params.insideDialog?850:a.width,l=this.params.insideDialog?470:a.height;return(s>r||l>i)&&(s=Math.min(s,r),l=Math.round(s*o),l>i&&(l=i,s=Math.min(s,Math.round(l/o)))),{width:s,height:l}},t.prototype.addMenu=function(){this.params.crossFiltering||(this.chartMenu=this.createBean(new i5(this.eChartContainer,this.eMenuContainer,this.chartController,this.chartOptionsService)),this.eChartContainer.appendChild(this.chartMenu.getGui()))},t.prototype.addTitleEditComp=function(){this.titleEdit=this.createBean(new l4e(this.chartMenu)),this.eTitleEditContainer.appendChild(this.titleEdit.getGui()),this.chartProxy&&this.titleEdit.refreshTitle(this.chartController,this.chartOptionsService)},t.prototype.update=function(e){var r=this;if(e!=null&&e.chartId){var i=this.chartController.update(e);if(!i)return}var o=this.chartTypeChanged(e);o&&this.createChart(),this.updateChart(e==null?void 0:e.chartThemeOverrides),e!=null&&e.chartId&&this.chartProxy.getChart().waitForUpdate().then(function(){r.chartController.raiseChartApiUpdateEvent()})},t.prototype.updateChart=function(e){var r=this,i=this.chartProxy,o=this.chartController.getSelectedValueColState(),a=o.map(function(c){return{colId:c.colId,displayName:c.displayName}}),s=this.chartController.getChartData(),l=this.handleEmptyChart(s,a);if(!l){var u=this.chartController.getChartUpdateParams(e);i.update(u),this.chartProxy.getChart().waitForUpdate().then(function(){r.chartController.raiseChartUpdatedEvent()}),this.titleEdit.refreshTitle(this.chartController,this.chartOptionsService)}},t.prototype.chartTypeChanged=function(e){var r=fKe([this.chartController.getChartType(),e==null?void 0:e.chartType],2),i=r[0],o=r[1];return this.chartType!==i||!!o&&this.chartType!==iw(o)},t.prototype.getChartModel=function(){return this.chartController.getChartModel()},t.prototype.getChartImageDataURL=function(e){return this.chartProxy.getChartImageDataURL(e)},t.prototype.handleEmptyChart=function(e,r){var i=this.chartController.isPivotChart()&&!this.chartController.isPivotMode(),o=this.chartController.getChartType(),a=1;this.chartController.isActiveXYChart()?a=o==="bubble"?3:2:gd(o)&&(a=0);var s=r.length<a||e.length===0;if(this.eChart){var l=i||s;D.setDisplayed(this.eChart,!l),D.setDisplayed(this.eEmpty,l)}return i?(this.eEmpty.innerText=this.chartTranslationService.translate("pivotChartRequiresPivotMode"),!0):s?(this.eEmpty.innerText=this.chartTranslationService.translate("noDataToChart"),!0):!1},t.prototype.downloadChart=function(e,r,i){this.chartProxy.downloadChart(e,r,i)},t.prototype.openChartToolPanel=function(e){var r=e&&AC[e];this.chartMenu.showMenu(r)},t.prototype.closeChartToolPanel=function(){this.chartMenu.hideMenu()},t.prototype.getChartId=function(){return this.chartController.getChartId()},t.prototype.getUnderlyingChart=function(){return this.chartProxy.getChartRef()},t.prototype.crossFilteringReset=function(){this.chartProxy.crossFilteringReset()},t.prototype.setActiveChartCellRange=function(e){this.getGui().contains(e.relatedTarget)||(this.chartController.setChartRange(!0),this.gridApi.focusService.clearFocusedCell())},t.prototype.getThemeName=function(){var e=this.gridOptionsService.get("chartThemes")||Hte;if(e.length===0)throw new Error("Cannot create chart: no chart themes available.");var r=this.params.chartThemeName;return D.includes(e,r)?r:e[0]},t.prototype.getAllKeysInObjects=function(e){var r={};return e.filter(function(i){return i!=null}).forEach(function(i){Object.keys(i).forEach(function(o){return r[o]=null})}),Object.keys(r)},t.prototype.validateCustomThemes=function(){var e=this.getChartThemes(),r=this.gridOptionsService.get("customChartThemes");r&&this.getAllKeysInObjects([r]).forEach(function(i){D.includes(e,i)||console.warn("AG Grid: a custom chart theme with the name '"+i+"' has been supplied but not added to the 'chartThemes' list")})},t.prototype.reactivePropertyUpdate=function(){this.chartController.setChartThemeName(this.getThemeName(),!0);var e=this.getChartId(),r=this.chartController.isCrossFilterChart()?"crossFilter":this.getChartModel().modelType,i=this.gridOptionsService.get("chartThemeOverrides")||{};this.update({type:"".concat(r,"ChartUpdate"),chartId:e,chartThemeOverrides:i})},t.prototype.raiseChartCreatedEvent=function(){var e=this,r={type:P.EVENT_CHART_CREATED,chartId:this.chartController.getChartId()};this.chartProxy.getChart().waitForUpdate().then(function(){e.eventService.dispatchEvent(r)})},t.prototype.raiseChartDestroyedEvent=function(){var e={type:P.EVENT_CHART_DESTROYED,chartId:this.chartController.getChartId()};this.eventService.dispatchEvent(e)},t.prototype.destroy=function(){var e;n.prototype.destroy.call(this),this.chartProxy&&this.chartProxy.destroy(),this.destroyBean(this.chartMenu),this.destroyBean(this.titleEdit),this.chartDialog&&this.chartDialog.isAlive()&&this.destroyBean(this.chartDialog),(e=this.onDestroyColorSchemeChangeListener)===null||e===void 0||e.call(this);var r=this.getGui();D.clearElement(r),D.removeFromParent(r),this.raiseChartDestroyedEvent()},t.TEMPLATE=`<div class="ag-chart" tabindex="-1">
            <div ref="eChartContainer" tabindex="-1" class="ag-chart-components-wrapper">
                <div ref="eChart" class="ag-chart-canvas-wrapper"></div>
                <div ref="eEmpty" class="ag-chart-empty-text ag-unselectable"></div>
            </div>
            <div ref="eTitleEditContainer"></div>
            <div ref="eMenuContainer" class="ag-chart-docked-container" style="min-width: 0px;"></div>
        </div>`,sl([$("eChart")],t.prototype,"eChart",void 0),sl([$("eChartContainer")],t.prototype,"eChartContainer",void 0),sl([$("eMenuContainer")],t.prototype,"eMenuContainer",void 0),sl([$("eEmpty")],t.prototype,"eEmpty",void 0),sl([$("eTitleEditContainer")],t.prototype,"eTitleEditContainer",void 0),sl([E("chartCrossFilterService")],t.prototype,"crossFilterService",void 0),sl([E("chartTranslationService")],t.prototype,"chartTranslationService",void 0),sl([E("gridApi")],t.prototype,"gridApi",void 0),sl([E("popupService")],t.prototype,"popupService",void 0),sl([z],t.prototype,"init",null),t}(de),lw="31.1.1",cr=function(){return cr=Object.assign||function(n){for(var t,e=1,r=arguments.length;e<r;e++){t=arguments[e];for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(n[i]=t[i])}return n},cr.apply(this,arguments)},Ld=function(n,t){var e={};for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&t.indexOf(r)<0&&(e[r]=n[r]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(n);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(n,r[i])&&(e[r[i]]=n[r[i]]);return e},C5=function(n,t){var e=typeof Symbol=="function"&&n[Symbol.iterator];if(!e)return n;var r=e.call(n),i,o=[],a;try{for(;(t===void 0||t-- >0)&&!(i=r.next()).done;)o.push(i.value)}catch(s){a={error:s}}finally{try{i&&!i.done&&(e=r.return)&&e.call(r)}finally{if(a)throw a.error}}return o},vKe=function(n){var t=typeof Symbol=="function"&&Symbol.iterator,e=t&&n[t],r=0;if(e)return e.call(n);if(n&&typeof n.length=="number")return{next:function(){return n&&r>=n.length&&(n=void 0),{value:n&&n[r++],done:!n}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")};function gKe(n){return n.version,n.version==null&&(n.version=PKe(n)),n=Ui("23.0.0",n,yKe),n=Ui("24.0.0",n,mKe),n=Ui("25.1.0",n,CKe),n=Ui("26.0.0",n,SKe),n=Ui("26.1.0",n,wKe),n=Ui("26.2.0",n,_Ke),n=Ui("28.0.0",n,xKe),n=Ui("28.2.0",n,EKe),n=Ui("29.0.0",n,bKe),n=Ui("29.1.0",n,Qte),n=Ui("29.2.0",n,Jte),n=Ui("30.0.0",n,OKe),n=Ui("31.0.0",n,RKe),n=TKe(n),n=Ui(lw,n,function(t){return t}),n}function yKe(n){return n=wi("chartOptions.legend.item.marker.type","shape",n),n=wi("chartOptions.seriesDefaults.marker.type","shape",n),n=wi("chartOptions.legend.padding","spacing",n),n}function mKe(n){var t;n=ci("chartOptions.seriesDefaults.marker.minSize",n);var e=n,r=e.chartType,i=e.chartPalette,o=e.chartOptions,a=o.xAxis,s=o.yAxis,l=Ld(o,["xAxis","yAxis"]),u=Ld(e,["chartType","chartPalette","chartOptions"]),c=uUe(r),d=c==null?void 0:c.map(function(h,f){return cr({type:h},f===0?a:s)}),p={borneo:"ag-default",material:"ag-material",bright:"ag-vivid"};return cr({chartType:r,chartThemeName:(t=p[i])!==null&&t!==void 0?t:"ag-default",chartOptions:cr(cr({},l),{axes:d,xAxis:a,yAxis:s})},u)}function CKe(n){return n=wi("chartOptions.seriesDefaults.label.minRequiredAngle","minAngle",n),n}function SKe(n){var t=function(e){var r=e.dimOpacity,i=Ld(e,["dimOpacity"]);return cr(cr({},i),r!=null?{series:{dimOpacity:r}}:{})};return n=Mu("chartOptions.seriesDefaults.highlightStyle",n,t),n=ci("chart",n),n=ci("chartOptions.seriesDefaults.tooltipClass",n),n=ci("chartOptions.seriesDefaults.tooltipTracking",n),n=w5("chartOptions.axes[].label.rotation",0,n),n=w5("chartOptions.axes[].label.rotation",335,n),n}function wKe(n){var t=function(e){var r=e.item,i=e.series,o=Ld(e,["item","series"]);return cr({item:cr(cr({},o),r)},i?{series:i}:{})};return n=Mu("chartOptions.seriesDefaults.highlightStyle",n,t),n=Mu("chartOptions.series[].highlightStyle",n,t),n}function _Ke(n){n=OE("chartOptions.seriesDefaults.fill.opacity","chartOptions.seriesDefaults.fillOpacity",n),n=OE("chartOptions.seriesDefaults.stroke.opacity","chartOptions.seriesDefaults.strokeOpacity",n),n=OE("chartOptions.seriesDefaults.stroke.width","chartOptions.seriesDefaults.strokeWidth",n),n=ci("chartOptions.seriesDefaults.fill",n),n=ci("chartOptions.seriesDefaults.stroke",n),n=ci("chartOptions.seriesDefaults.callout.colors",n),n=ci("chartOptions.xAxis",n),n=ci("chartOptions.yAxis",n);var t=n,e=t.chartType,r=t.chartOptions,i=r.axes;r.series;var o=r.seriesDefaults,a=Ld(r,["axes","series","seriesDefaults"]),s=Ld(t,["chartType","chartOptions"]),l=iw(e),u=Ds(l),c=[u],d={};if(!i2(u)){var p={top:{},bottom:{},left:{},right:{}},h=i.map(function(v){var g,y=v.type,m=Ld(v,["type"]);return g={},g[y]=cr(cr({},p),m),g}).reduce(_5,{});Gte.filter(function(v){return h[v]==null}).forEach(function(v){h[v]=cr({},p)}),d.axes=h}var f=c.map(function(v){var g;return g={},g[v]=cr(cr(cr({},d),{series:o}),a),g}).reduce(_5,{});return n=cr(cr({},s),{chartType:l,chartOptions:f}),n}function xKe(n){return n=ci("chartOptions.*.title.padding",n),n=ci("chartOptions.*.subtitle.padding",n),n=ci("chartOptions.*.axes.*.title.padding",n),n=l2("chartOptions.*.axes.*.title.enabled",!1,n),n}function EKe(n){return n=wi("chartOptions.pie.series.callout","calloutLine",n),n=wi("chartOptions.pie.series.label","calloutLabel",n),n=wi("chartOptions.pie.series.labelKey","sectorLabelKey",n),n=wi("chartOptions.pie.series.labelName","sectorLabelName",n),n=wi("chartOptions.donut.series.callout","calloutLine",n),n=wi("chartOptions.donut.series.label","calloutLabel",n),n=wi("chartOptions.donut.series.labelKey","sectorLabelKey",n),n=wi("chartOptions.donut.series.labelName","sectorLabelName",n),n}function bKe(n){return n=wm("chartOptions.scatter.series.fill","chartOptions.scatter.series.marker.fill",n),n=wm("chartOptions.scatter.series.fillOpacity","chartOptions.scatter.series.marker.fillOpacity",n),n=wm("chartOptions.scatter.series.stroke","chartOptions.scatter.series.marker.stroke",n),n=wm("chartOptions.scatter.series.strokeOpacity","chartOptions.scatter.series.marker.strokeOpacity",n),n=wm("chartOptions.scatter.series.strokeWidth","chartOptions.scatter.series.marker.strokeWidth",n),n=OE("chartOptions.scatter.series.paired","chartOptions.scatter.paired",n),n}function Qte(n){return n=ci("chartOptions.axes[].tick.count",n),n}function Jte(n){var t=function(e){var r,i,o,a,s=e.tracking,l=Ld(e,["tracking"]),u=cr({},l);return s===!1?((r=u.position)!==null&&r!==void 0||(u.position={type:"pointer"}),(i=u.range)!==null&&i!==void 0||(u.range="nearest")):s===!0&&((o=u.position)!==null&&o!==void 0||(u.position={type:"node"}),(a=u.range)!==null&&a!==void 0||(u.range="nearest")),u};return n=Mu("chartOptions.*.tooltip",n,t),n}function OKe(n){return n=wi("chartOptions.pie.series.labelKey","sectorLabelKey",n),n=wi("chartOptions.pie.series.labelName","sectorLabelName",n),n=Qte(n),n=Jte(n),n=ci("chartOptions.*.series.flipXY",n),n=ere("chartOptions.common.legend.enabled",!0,n),n=l2("chartOptions.common.legend.position","right",n),n}function RKe(n){var t={"ag-pastel":"ag-sheets","ag-solar":"ag-polychroma"},e=wi("chartOptions.column","bar",n),r=t[e.chartThemeName]||e.chartThemeName;return cr(cr({},e),{chartThemeName:r})}function TKe(n){return n=ci("chartOptions.*.width",n),n=ci("chartOptions.*.height",n),n=l2("chartOptions.*.axes.category.label.autoRotate",!0,n),n}function PKe(n){var t,e,r=n;if(n.version!=null)return n.version;var i=function(h){for(var f=[],v=1;v<arguments.length;v++)f[v-1]=arguments[v];return Object.keys(h||{}).some(function(g){return f.includes(g)})},o=r.chartOptions,a=i(o,"seriesDefaults")?o==null?void 0:o.seriesDefaults:o==null?void 0:o[Object.keys(o)[0]],s={"27.0.0":i(r,"seriesChartTypes"),"26.2.0":!i(o,"seriesDefaults"),"26.1.0":i(a==null?void 0:a.highlightStyle,"item"),"26.0.0":i(a==null?void 0:a.highlightStyle,"series"),"25.1.0":i(a==null?void 0:a.label,"minAngle"),"25.0.0":i(r,"modelType","aggFunc","unlinkChart","suppressChartRanges")||i(a,"lineDash","lineDashOffset"),"24.0.0":i(r,"chartThemeName","chart")||i(o,"series"),"23.2.0":i(o,"navigator"),"23.0.0":i((e=(t=o==null?void 0:o.legend)===null||t===void 0?void 0:t.item)===null||e===void 0?void 0:e.marker,"shape"),"22.1.0":i(r,"chartPalette","chartType")},l="27.1.0",u=Object.entries(s).filter(function(h){var f=C5(h,2);f[0];var v=f[1];return v}),c=C5(u[0],1),d=c[0],p=d===void 0?l:d;return p}function Ui(n,t,e){if(S5(n)>S5(t.version)){var r=e(t);return r.version=n,r}return t}function AKe(n){var t=typeof n=="string"?n.split(".").map(function(e){return Number(e)}):[];if(t.length!==3||t.some(function(e){return isNaN(e)}))throw new Error("AG Grid - Illegal version string: "+n);return{major:t[0],minor:t[1],patch:t[2]}}function S5(n){var t=AKe(n),e=t.major,r=t.minor,i=t.patch;return e*1e4+r*100+i}function w5(n,t,e){return Ud(n,!0,e,function(r,i){r[i]===t&&delete r[i]})}function l2(n,t,e){return Ud(n,!1,e,function(r,i){r[i]==null&&(r[i]=t)})}function ere(n,t,e){var r;typeof n=="string"&&(n=n.split("."));var i=n[0];n.length>1&&(e[i]=ere(n.slice(1),t,(r=e[i])!==null&&r!==void 0?r:{}));var o=Object.keys(e).includes(i);return o||(e[i]=t),e}function OE(n,t,e){var r=void 0,i=!1;return e=Ud(n,!0,e,function(o,a){i=!0,r=o[a],delete o[a]}),i?Ud(t,!1,e,function(o,a){o[a]=r}):e}function wm(n,t,e){var r=void 0,i=!1;return e=Ud(n,!0,e,function(o,a){i=!0,r=o[a],delete o[a]}),i?Ud(t,!1,e,function(o,a){o[a]===void 0&&(o[a]=r)}):e}function wi(n,t,e){return Ud(n,!0,e,function(r,i){r[t]=r[i],delete r[i]})}function ci(n,t){return Ud(n,!0,t,function(e,r){return delete e[r]})}function Ud(n,t,e,r){var i=n instanceof Array?n:n.split("."),o=i.slice(0,i.length-1),a=i[i.length-1];return Mu(o,e,function(s){var l=Object.keys(s).includes(a);if(t&&!l)return s;var u=cr({},s);return r(u,a),u})}function Mu(n,t,e){var r,i,o=n instanceof Array?n:n.split(".");if(t=cr({},t),o.length===0)return e(t);if(o[0].startsWith("{")){var a=o[0].substring(1,o[0].lastIndexOf("}")).split(",");try{for(var s=vKe(a),l=s.next();!l.done;l=s.next()){var u=l.value;t[u]!=null&&(t[u]=Mu(o.slice(1),t[u],e))}}catch(p){r={error:p}}finally{try{l&&!l.done&&(i=s.return)&&i.call(s)}finally{if(r)throw r.error}}}else if(o[0].endsWith("[]")){var c=o[0].substring(0,n[0].indexOf("["));t[c]instanceof Array&&(t[c]=t[c].map(function(p){return Mu(o.slice(1),p,e)}))}else if(o[0]==="*")for(var d in t)t[d]=Mu(o.slice(1),t[d],e);else t[o[0]]!=null&&(t[o[0]]=Mu(o.slice(1),t[o[0]],e));return t}var _5=function(n,t){return cr(cr({},n),t)},DKe=function(){var n=function(t,e){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])},n(t,e)};return function(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");n(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}}(),zO=function(){return zO=Object.assign||function(n){for(var t,e=1,r=arguments.length;e<r;e++){t=arguments[e];for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(n[i]=t[i])}return n},zO.apply(this,arguments)},Ex=function(n,t,e,r){var i=arguments.length,o=i<3?t:r===null?r=Object.getOwnPropertyDescriptor(t,e):r,a;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(n,t,e,r);else for(var s=n.length-1;s>=0;s--)(a=n[s])&&(o=(i<3?a(o):i>3?a(t,e,o):a(t,e))||o);return i>3&&o&&Object.defineProperty(t,e,o),o},MKe=function(n,t){var e=typeof Symbol=="function"&&n[Symbol.iterator];if(!e)return n;var r=e.call(n),i,o=[],a;try{for(;(t===void 0||t-- >0)&&!(i=r.next()).done;)o.push(i.value)}catch(s){a={error:s}}finally{try{i&&!i.done&&(e=r.return)&&e.call(r)}finally{if(a)throw a.error}}return o},FKe=function(n,t,e){if(e||arguments.length===2)for(var r=0,i=t.length,o;r<i;r++)(o||!(r in t))&&(o||(o=Array.prototype.slice.call(t,0,r)),o[r]=t[r]);return n.concat(o||Array.prototype.slice.call(t))},x5=function(n){DKe(t,n);function t(){var e=n!==null&&n.apply(this,arguments)||this;return e.activeCharts=new Set,e.activeChartComps=new Set,e.crossFilteringContext={lastSelectedChartId:""},e.isEnterprise=function(){return n2.enterpriseModule.isEnterprise},e}return t.prototype.updateChart=function(e){var r=e.chartType;if(r&&Hz(r)&&!this.isEnterprise()){ke.__warnEnterpriseChartDisabled(r);return}if(this.activeChartComps.size===0){console.warn("AG Grid - No active charts to update.");return}var i=FKe([],MKe(this.activeChartComps),!1).find(function(o){return o.getChartId()===e.chartId});if(!i){console.warn("AG Grid - Unable to update chart. No active chart found with ID: ".concat(e.chartId,"."));return}i.update(e)},t.prototype.getChartModels=function(){var e=[],r=function(i){return zO(zO({},i),{version:lw})};return this.activeChartComps.forEach(function(i){return e.push(r(i.getChartModel()))}),e},t.prototype.getChartRef=function(e){var r;return this.activeCharts.forEach(function(i){i.chartId===e&&(r=i)}),r},t.prototype.getChartComp=function(e){var r;return this.activeChartComps.forEach(function(i){i.getChartId()===e&&(r=i)}),r},t.prototype.getChartImageDataURL=function(e){var r;return this.activeChartComps.forEach(function(i){i.getChartId()===e.chartId&&(r=i.getChartImageDataURL(e.fileFormat))}),r},t.prototype.downloadChart=function(e){var r=Array.from(this.activeChartComps).find(function(i){return i.getChartId()===e.chartId});r==null||r.downloadChart(e.dimensions,e.fileName,e.fileFormat)},t.prototype.openChartToolPanel=function(e){var r=Array.from(this.activeChartComps).find(function(i){return i.getChartId()===e.chartId});r==null||r.openChartToolPanel(e.panel)},t.prototype.closeChartToolPanel=function(e){var r=Array.from(this.activeChartComps).find(function(i){return i.getChartId()===e});r==null||r.closeChartToolPanel()},t.prototype.createChartFromCurrentRange=function(e){e===void 0&&(e="groupedColumn");var r=this.getSelectedRange();return this.createChart(r,e)},t.prototype.restoreChart=function(e,r){var i=this;if(!e){console.warn("AG Grid - unable to restore chart as no chart model is provided");return}e.version!==lw&&(e=gKe(e));var o={cellRange:e.cellRange,chartType:e.chartType,chartThemeName:e.chartThemeName,chartContainer:r,suppressChartRanges:e.suppressChartRanges,aggFunc:e.aggFunc,unlinkChart:e.unlinkChart,seriesChartTypes:e.seriesChartTypes},a=function(d){return i.rangeService?i.rangeService.createCellRangeFromCellRangeParams(d):void 0};if(e.modelType==="pivot"){this.gridOptionsService.updateGridOptions({options:{pivotMode:!0},source:"pivotChart"});var s=this.columnModel.getAllDisplayedColumns().map(function(d){return d.getColId()}),l={rowStartIndex:null,rowStartPinned:void 0,rowEndIndex:null,rowEndPinned:void 0,columns:s},u=a(l);if(!u){console.warn("AG Grid - unable to create chart as there are no columns in the grid.");return}return this.createChart(u,o.chartType,o.chartThemeName,!0,!0,o.chartContainer,void 0,void 0,o.unlinkChart,!1,e.chartOptions)}var c=a(o.cellRange);if(!c){console.warn("AG Grid - unable to create chart as no range is selected");return}return this.createChart(c,o.chartType,o.chartThemeName,!1,o.suppressChartRanges,o.chartContainer,o.aggFunc,void 0,o.unlinkChart,!1,e.chartOptions,e.chartPalette,o.seriesChartTypes)},t.prototype.createRangeChart=function(e){var r,i=(r=this.rangeService)===null||r===void 0?void 0:r.createCellRangeFromCellRangeParams(e.cellRange);if(!i){console.warn("AG Grid - unable to create chart as no range is selected");return}return this.createChart(i,e.chartType,e.chartThemeName,!1,e.suppressChartRanges,e.chartContainer,e.aggFunc,e.chartThemeOverrides,e.unlinkChart,void 0,void 0,void 0,e.seriesChartTypes)},t.prototype.createPivotChart=function(e){this.gridOptionsService.updateGridOptions({options:{pivotMode:!0},source:"pivotChart"});var r={rowStartIndex:null,rowStartPinned:void 0,rowEndIndex:null,rowEndPinned:void 0,columns:this.columnModel.getAllDisplayedColumns().map(function(o){return o.getColId()})},i=this.rangeService?this.rangeService.createCellRangeFromCellRangeParams(r):void 0;if(!i){console.warn("AG Grid - unable to create chart as there are no columns in the grid.");return}return this.createChart(i,e.chartType,e.chartThemeName,!0,!0,e.chartContainer,void 0,e.chartThemeOverrides,e.unlinkChart)},t.prototype.createCrossFilterChart=function(e){var r,i=(r=this.rangeService)===null||r===void 0?void 0:r.createCellRangeFromCellRangeParams(e.cellRange);if(!i){console.warn("AG Grid - unable to create chart as no range is selected");return}var o=!0,a=typeof e.suppressChartRanges<"u"&&e.suppressChartRanges!==null,s=a?e.suppressChartRanges:!0;return this.createChart(i,e.chartType,e.chartThemeName,!1,s,e.chartContainer,e.aggFunc,e.chartThemeOverrides,e.unlinkChart,o)},t.prototype.createChart=function(e,r,i,o,a,s,l,u,c,d,p,h,f){var v=this;if(o===void 0&&(o=!1),a===void 0&&(a=!1),c===void 0&&(c=!1),d===void 0&&(d=!1),Hz(r)&&!this.isEnterprise()){ke.__warnEnterpriseChartDisabled(r);return}var g=this.gridOptionsService.getCallback("createChartContainer"),y={chartId:this.generateId(),pivotChart:o,cellRange:e,chartType:iw(r),chartThemeName:i,insideDialog:!(s||g),suppressChartRanges:a,aggFunc:l,chartThemeOverrides:u,unlinkChart:c,crossFiltering:d,crossFilteringContext:this.crossFilteringContext,chartOptionsToRestore:p,chartPaletteToRestore:h,seriesChartTypes:f,crossFilteringResetCallback:function(){return v.activeChartComps.forEach(function(w){return w.crossFilteringReset()})}},m=new m5(y);this.context.createBean(m);var C=this.createChartRef(m);if(s){s.appendChild(m.getGui());var S=this.environment.getTheme();S.el&&!S.el.contains(s)&&s.classList.add(S.theme)}else g?g(C):m.addEventListener(m5.EVENT_DESTROYED,function(){v.activeChartComps.delete(m),v.activeCharts.delete(C)});return C},t.prototype.createChartRef=function(e){var r=this,i={destroyChart:function(){r.activeCharts.has(i)&&(r.context.destroyBean(e),r.activeChartComps.delete(e),r.activeCharts.delete(i))},chartElement:e.getGui(),chart:e.getUnderlyingChart(),chartId:e.getChartModel().chartId};return this.activeCharts.add(i),this.activeChartComps.add(e),i},t.prototype.getSelectedRange=function(){var e=this.rangeService.getCellRanges();return e.length>0?e[0]:{}},t.prototype.generateId=function(){return"id-".concat(Math.random().toString(36).substring(2,18))},t.prototype.destroyAllActiveCharts=function(){this.activeCharts.forEach(function(e){return e.destroyChart()})},t.CHARTS_VERSION=qWe,Ex([qe("rangeService")],t.prototype,"rangeService",void 0),Ex([E("columnModel")],t.prototype,"columnModel",void 0),Ex([rr],t.prototype,"destroyAllActiveCharts",null),t=Ex([ae("chartService")],t),t}(q),LKe=function(){var n=function(t,e){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])},n(t,e)};return function(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");n(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}}(),IKe=function(n,t,e,r){var i=arguments.length,o=i<3?t:r===null?r=Object.getOwnPropertyDescriptor(t,e):r,a;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(n,t,e,r);else for(var s=n.length-1;s>=0;s--)(a=n[s])&&(o=(i<3?a(o):i>3?a(t,e,o):a(t,e))||o);return i>3&&o&&Object.defineProperty(t,e,o),o},NKe=function(n){LKe(t,n);function t(){return n!==null&&n.apply(this,arguments)||this}e=t,t.prototype.translate=function(r,i){var o=this.localeService.getLocaleTextFunc(),a=e.DEFAULT_TRANSLATIONS[r]||i;return o(r,a)};var e;return t.DEFAULT_TRANSLATIONS={pivotChartTitle:"Pivot Chart",rangeChartTitle:"Range Chart",settings:"Settings",data:"Data",format:"Format",categories:"Categories",defaultCategory:"(None)",series:"Series",xyValues:"X Y Values",paired:"Paired Mode",axis:"Axis",radiusAxis:"Radius Axis",navigator:"Navigator",color:"Color",thickness:"Thickness",preferredLength:"Preferred Length",xType:"X Type",automatic:"Automatic",category:"Category",number:"Number",time:"Time",autoRotate:"Auto Rotate",xRotation:"X Rotation",yRotation:"Y Rotation",labelRotation:"Rotation",circle:"Circle",orientation:"Orientation",polygon:"Polygon",fixed:"Fixed",parallel:"Parallel",perpendicular:"Perpendicular",radiusAxisPosition:"Position",ticks:"Ticks",width:"Width",height:"Height",length:"Length",padding:"Padding",spacing:"Spacing",chart:"Chart",title:"Title",titlePlaceholder:"Chart title - double click to edit",background:"Background",font:"Font",top:"Top",right:"Right",bottom:"Bottom",left:"Left",labels:"Labels",calloutLabels:"Callout Labels",sectorLabels:"Sector Labels",positionRatio:"Position Ratio",size:"Size",shape:"Shape",minSize:"Minimum Size",maxSize:"Maximum Size",legend:"Legend",position:"Position",markerSize:"Marker Size",markerStroke:"Marker Stroke",markerPadding:"Marker Padding",itemSpacing:"Item Spacing",itemPaddingX:"Item Padding X",itemPaddingY:"Item Padding Y",layoutHorizontalSpacing:"Horizontal Spacing",layoutVerticalSpacing:"Vertical Spacing",strokeWidth:"Stroke Width",offset:"Offset",offsets:"Offsets",tooltips:"Tooltips",callout:"Callout",markers:"Markers",shadow:"Shadow",blur:"Blur",xOffset:"X Offset",yOffset:"Y Offset",lineWidth:"Line Width",lineDash:"Line Dash",lineDashOffset:"Dash Offset",normal:"Normal",bold:"Bold",italic:"Italic",boldItalic:"Bold Italic",predefined:"Predefined",fillOpacity:"Fill Opacity",strokeColor:"Line Color",strokeOpacity:"Line Opacity",histogramBinCount:"Bin count",connectorLine:"Connector Line",seriesItems:"Series Items",seriesItemType:"Item Type",seriesItemPositive:"Positive",seriesItemNegative:"Negative",seriesItemLabels:"Item Labels",columnGroup:"Column",barGroup:"Bar",pieGroup:"Pie",lineGroup:"Line",scatterGroup:"X Y (Scatter)",areaGroup:"Area",polarGroup:"Polar",statisticalGroup:"Statistical",hierarchicalGroup:"Hierarchical",specializedGroup:"Specialized",combinationGroup:"Combination",groupedColumnTooltip:"Grouped",stackedColumnTooltip:"Stacked",normalizedColumnTooltip:"100% Stacked",groupedBarTooltip:"Grouped",stackedBarTooltip:"Stacked",normalizedBarTooltip:"100% Stacked",pieTooltip:"Pie",donutTooltip:"Donut",lineTooltip:"Line",groupedAreaTooltip:"Area",stackedAreaTooltip:"Stacked",normalizedAreaTooltip:"100% Stacked",scatterTooltip:"Scatter",bubbleTooltip:"Bubble",histogramTooltip:"Histogram",radialColumnTooltip:"Radial Column",radialBarTooltip:"Radial Bar",radarLineTooltip:"Radar Line",radarAreaTooltip:"Radar Area",nightingaleTooltip:"Nightingale",rangeBarTooltip:"Range Bar",rangeAreaTooltip:"Range Area",boxPlotTooltip:"Box Plot",treemapTooltip:"Treemap",sunburstTooltip:"Sunburst",heatmapTooltip:"Heatmap",waterfallTooltip:"Waterfall",columnLineComboTooltip:"Column & Line",areaColumnComboTooltip:"Area & Column",customComboTooltip:"Custom Combination",innerRadius:"Inner Radius",startAngle:"Start Angle",endAngle:"End Angle",reverseDirection:"Reverse Direction",groupPadding:"Group Padding",seriesPadding:"Series Padding",group:"Group",tile:"Tile",whisker:"Whisker",cap:"Cap",capLengthRatio:"Length Ratio",labelPlacement:"Placement",inside:"Inside",outside:"Outside",noDataToChart:"No data available to be charted.",pivotChartRequiresPivotMode:"Pivot Chart requires Pivot Mode enabled.",chartSettingsToolbarTooltip:"Menu",chartLinkToolbarTooltip:"Linked to Grid",chartUnlinkToolbarTooltip:"Unlinked from Grid",chartDownloadToolbarTooltip:"Download Chart",histogramFrequency:"Frequency",seriesChartType:"Series Chart Type",seriesType:"Series Type",secondaryAxis:"Secondary Axis"},t=e=IKe([ae("chartTranslationService")],t),t}(q),kKe=function(){var n=function(t,e){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])},n(t,e)};return function(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");n(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}}(),bx=function(n,t,e,r){var i=arguments.length,o=i<3?t:r===null?r=Object.getOwnPropertyDescriptor(t,e):r,a;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(n,t,e,r);else for(var s=n.length-1;s>=0;s--)(a=n[s])&&(o=(i<3?a(o):i>3?a(t,e,o):a(t,e))||o);return i>3&&o&&Object.defineProperty(t,e,o),o},GKe=function(n){kKe(t,n);function t(){return n!==null&&n.apply(this,arguments)||this}e=t,t.prototype.filter=function(r,i){i===void 0&&(i=!1);var o=this.gridApi.getFilterModel();if(i){this.resetFilters(o);return}var a=e.extractFilterColId(r);this.isValidColumnFilter(a)?this.updateFilters(o,r,a):console.warn("AG Grid: cross filtering requires a 'agSetColumnFilter' or 'agMultiColumnFilter' to be defined on the column with id: '"+a+"'")},t.prototype.resetFilters=function(r){var i=Object.keys(r).length>0;i&&(this.gridApi.setFilterModel(null),this.gridApi.onFilterChanged())},t.prototype.updateFilters=function(r,i,o){var a,s=e.extractFilterColId(i),l=i.datum[s];if(l!==void 0){var u=l.toString();if(i.event.metaKey||i.event.ctrlKey){var c=this.getCurrentGridValuesForCategory(o),d=D.includes(c,u),p=void 0;d?p=c.filter(function(h){return h!==u}):(p=c,p.push(u)),r[o]=this.getUpdatedFilterModel(o,p)}else{var p=[u];r=(a={},a[o]=this.getUpdatedFilterModel(o,p),a)}this.gridApi.setFilterModel(r)}},t.prototype.getUpdatedFilterModel=function(r,i){var o=this.getColumnFilterType(r);return o==="agMultiColumnFilter"?{filterType:"multi",filterModels:[null,{filterType:"set",values:i}]}:{filterType:"set",values:i}},t.prototype.getCurrentGridValuesForCategory=function(r){var i=this,o=[],a=this.getColumnById(r);return this.gridApi.forEachNodeAfterFilter(function(s){if(a&&!s.group){var l=i.valueService.getValue(a,s)+"";o.includes(l)||o.push(l)}}),o},t.extractFilterColId=function(r){return r.xKey||r.calloutLabelKey},t.prototype.isValidColumnFilter=function(r){r.indexOf("-filtered-out")&&(r=r.replace("-filtered-out",""));var i=this.getColumnFilterType(r);return typeof i=="boolean"?i:D.includes(["agSetColumnFilter","agMultiColumnFilter"],i)},t.prototype.getColumnFilterType=function(r){var i=this.getColumnById(r);if(i){var o=i.getColDef();return o.filter}},t.prototype.getColumnById=function(r){return this.columnModel.getGridColumn(r)};var e;return bx([E("gridApi")],t.prototype,"gridApi",void 0),bx([E("columnModel")],t.prototype,"columnModel",void 0),bx([E("valueService")],t.prototype,"valueService",void 0),t=e=bx([ae("chartCrossFilterService")],t),t}(q),VKe=function(){var n=function(t,e){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])},n(t,e)};return function(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");n(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}}(),ed=function(){return ed=Object.assign||function(n){for(var t,e=1,r=arguments.length;e<r;e++){t=arguments[e];for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(n[i]=t[i])}return n},ed.apply(this,arguments)},ll=function(n,t,e,r){var i=arguments.length,o=i<3?t:r===null?r=Object.getOwnPropertyDescriptor(t,e):r,a;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(n,t,e,r);else for(var s=n.length-1;s>=0;s--)(a=n[s])&&(o=(i<3?a(o):i>3?a(t,e,o):a(t,e))||o);return i>3&&o&&Object.defineProperty(t,e,o),o},_m=function(n,t){var e=typeof Symbol=="function"&&n[Symbol.iterator];if(!e)return n;var r=e.call(n),i,o=[],a;try{for(;(t===void 0||t-- >0)&&!(i=r.next()).done;)o.push(i.value)}catch(s){a={error:s}}finally{try{i&&!i.done&&(e=r.return)&&e.call(r)}finally{if(a)throw a.error}}return o},zf=function(n,t,e){if(e||arguments.length===2)for(var r=0,i=t.length,o;r<i;r++)(o||!(r in t))&&(o||(o=Array.prototype.slice.call(t,0,r)),o[r]=t[r]);return n.concat(o||Array.prototype.slice.call(t))},BKe=function(n){var t=typeof Symbol=="function"&&Symbol.iterator,e=t&&n[t],r=0;if(e)return e.call(n);if(n&&typeof n.length=="number")return{next:function(){return n&&r>=n.length&&(n=void 0),{value:n&&n[r++],done:!n}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")},HKe=function(n){VKe(t,n);function t(){var e=n!==null&&n.apply(this,arguments)||this;return e.cellRanges=[],e.bodyScrollListener=e.onBodyScroll.bind(e),e.dragging=!1,e.intersectionRange=!1,e}return t.prototype.init=function(){var e=this;this.addManagedListener(this.eventService,P.EVENT_NEW_COLUMNS_LOADED,function(){return e.onColumnsChanged()}),this.addManagedListener(this.eventService,P.EVENT_COLUMN_VISIBLE,this.onColumnsChanged.bind(this)),this.addManagedListener(this.eventService,P.EVENT_COLUMN_VALUE_CHANGED,this.onColumnsChanged.bind(this)),this.addManagedListener(this.eventService,P.EVENT_COLUMN_PIVOT_MODE_CHANGED,function(){return e.removeAllCellRanges()}),this.addManagedListener(this.eventService,P.EVENT_COLUMN_ROW_GROUP_CHANGED,function(){return e.removeAllCellRanges()}),this.addManagedListener(this.eventService,P.EVENT_COLUMN_PIVOT_CHANGED,function(){return e.removeAllCellRanges()}),this.addManagedListener(this.eventService,P.EVENT_COLUMN_GROUP_OPENED,this.refreshLastRangeStart.bind(this)),this.addManagedListener(this.eventService,P.EVENT_COLUMN_MOVED,this.refreshLastRangeStart.bind(this)),this.addManagedListener(this.eventService,P.EVENT_COLUMN_PINNED,this.refreshLastRangeStart.bind(this)),this.ctrlsService.whenReady(function(){var r=e.ctrlsService.getGridBodyCtrl();e.autoScrollService=new Vw({scrollContainer:r.getBodyViewportElement(),scrollAxis:"xy",getVerticalPosition:function(){return r.getScrollFeature().getVScrollPosition().top},setVerticalPosition:function(i){return r.getScrollFeature().setVerticalScrollPosition(i)},getHorizontalPosition:function(){return r.getScrollFeature().getHScrollPosition().left},setHorizontalPosition:function(i){return r.getScrollFeature().setHorizontalScrollPosition(i)},shouldSkipVerticalScroll:function(){return!e.gridOptionsService.isDomLayout("normal")},shouldSkipHorizontalScroll:function(){return!r.getScrollFeature().isHorizontalScrollShowing()}})})},t.prototype.onColumnsChanged=function(){var e=this;this.refreshLastRangeStart();var r=this.columnModel.getAllDisplayedColumns();this.cellRanges.forEach(function(o){var a=o.columns;o.columns=o.columns.filter(function(l){return l.isVisible()&&r.indexOf(l)!==-1});var s=!D.areEqual(a,o.columns);s&&e.dispatchChangedEvent(!1,!0,o.id)});var i=this.cellRanges.length;this.cellRanges=this.cellRanges.filter(function(o){return o.columns.length>0}),i>this.cellRanges.length&&this.dispatchChangedEvent(!1,!0)},t.prototype.refreshLastRangeStart=function(){var e=D.last(this.cellRanges);e&&this.refreshRangeStart(e)},t.prototype.isContiguousRange=function(e){var r=e.columns;if(!r.length)return!1;var i=this.columnModel.getAllDisplayedColumns(),o=r.map(function(a){return i.indexOf(a)}).sort(function(a,s){return a-s});return D.last(o)-o[0]+1===r.length},t.prototype.getRangeStartRow=function(e){if(e.startRow&&e.endRow)return this.rowPositionUtils.before(e.startRow,e.endRow)?e.startRow:e.endRow;var r=this.pinnedRowModel.getPinnedTopRowCount()>0?"top":null;return{rowIndex:0,rowPinned:r}},t.prototype.getRangeEndRow=function(e){if(e.startRow&&e.endRow)return this.rowPositionUtils.before(e.startRow,e.endRow)?e.endRow:e.startRow;var r=this.pinnedRowModel.getPinnedBottomRowCount(),i=r>0;return i?{rowIndex:r-1,rowPinned:"bottom"}:{rowIndex:this.rowModel.getRowCount()-1,rowPinned:null}},t.prototype.setRangeToCell=function(e,r){if(r===void 0&&(r=!1),!!this.gridOptionsService.get("enableRangeSelection")){var i=this.calculateColumnsBetween(e.column,e.column);if(i){var o=this.gridOptionsService.get("suppressMultiRangeSelection");(o||!r||D.missing(this.cellRanges))&&this.removeAllCellRanges(!0);var a={rowIndex:e.rowIndex,rowPinned:e.rowPinned},s={startRow:a,endRow:a,columns:i,startColumn:e.column};this.cellRanges.push(s),this.setNewestRangeStartCell(e),this.onDragStop(),this.dispatchChangedEvent(!0,!0)}}},t.prototype.extendLatestRangeToCell=function(e){if(!(this.isEmpty()||!this.newestRangeStartCell)){var r=D.last(this.cellRanges);this.updateRangeEnd(r,e)}},t.prototype.updateRangeEnd=function(e,r,i){i===void 0&&(i=!1);var o=r.column,a=this.calculateColumnsBetween(e.startColumn,o);!a||this.isLastCellOfRange(e,r)||(e.columns=a,e.endRow={rowIndex:r.rowIndex,rowPinned:r.rowPinned},i||this.dispatchChangedEvent(!0,!0,e.id))},t.prototype.refreshRangeStart=function(e){var r=e.startColumn,i=e.columns,o=function(d,p){var h=e.columns.filter(function(f){return f!==d});d?(e.startColumn=d,e.columns=p?zf([d],_m(h),!1):zf(zf([],_m(h),!1),[d],!1)):e.columns=h},a=this.getRangeEdgeColumns(e),s=a.left,l=a.right,u=r===i[0]&&r!==s;if(u){o(s,!0);return}var c=r===D.last(i)&&r===l;if(c){o(l,!1);return}},t.prototype.getRangeEdgeColumns=function(e){var r=this.columnModel.getAllDisplayedColumns(),i=e.columns.map(function(o){return r.indexOf(o)}).filter(function(o){return o>-1}).sort(function(o,a){return o-a});return{left:r[i[0]],right:r[D.last(i)]}},t.prototype.extendLatestRangeInDirection=function(e){if(!(this.isEmpty()||!this.newestRangeStartCell)){var r=e.key,i=e.ctrlKey||e.metaKey,o=D.last(this.cellRanges),a=this.newestRangeStartCell,s=o.columns[0],l=D.last(o.columns),u=o.endRow.rowIndex,c=o.endRow.rowPinned,d=a.column===s?l:s,p={column:d,rowIndex:u,rowPinned:c},h=this.cellNavigationService.getNextCellToFocus(r,p,i);if(h)return this.setCellRange({rowStartIndex:a.rowIndex,rowStartPinned:a.rowPinned,rowEndIndex:h.rowIndex,rowEndPinned:h.rowPinned,columnStart:a.column,columnEnd:h.column}),h}},t.prototype.setCellRange=function(e){this.gridOptionsService.get("enableRangeSelection")&&(this.removeAllCellRanges(!0),this.addCellRange(e))},t.prototype.setCellRanges=function(e){var r=this;D.shallowCompare(this.cellRanges,e)||(this.removeAllCellRanges(!0),e.forEach(function(i){i.columns&&i.startRow&&r.setNewestRangeStartCell({rowIndex:i.startRow.rowIndex,rowPinned:i.startRow.rowPinned,column:i.columns[0]}),r.cellRanges.push(i)}),this.dispatchChangedEvent(!1,!0))},t.prototype.setNewestRangeStartCell=function(e){this.newestRangeStartCell=e},t.prototype.clearCellRangeCellValues=function(e){var r=this,i=e.cellRanges,o=e.cellEventSource,a=o===void 0?"rangeService":o,s=e.dispatchWrapperEvents,l=e.wrapperEventSource,u=l===void 0?"deleteKey":l;if(s){var c={type:P.EVENT_RANGE_DELETE_START,source:u};this.eventService.dispatchEvent(c)}if(i||(i=this.cellRanges),i.forEach(function(p){r.forEachRowInRange(p,function(h){var f=r.rowPositionUtils.getRowNode(h);if(f)for(var v=0;v<p.columns.length;v++){var g=r.columnModel.getGridColumn(p.columns[v]);!g||!g.isCellEditable(f)||f.setDataValue(g,null,a)}})}),s){var d={type:P.EVENT_RANGE_DELETE_END,source:u};this.eventService.dispatchEvent(d)}},t.prototype.createCellRangeFromCellRangeParams=function(e){var r=this,i,o=!1;if(e.columns)i=e.columns.map(function(c){return r.columnModel.getColumnWithValidation(c)}).filter(function(c){return c});else{var a=this.columnModel.getColumnWithValidation(e.columnStart),s=this.columnModel.getColumnWithValidation(e.columnEnd);if(!a||!s)return;i=this.calculateColumnsBetween(a,s),i&&i.length&&(o=i[0]!==a)}if(i){var l=e.rowStartIndex!=null?{rowIndex:e.rowStartIndex,rowPinned:e.rowStartPinned||null}:void 0,u=e.rowEndIndex!=null?{rowIndex:e.rowEndIndex,rowPinned:e.rowEndPinned||null}:void 0;return{startRow:l,endRow:u,columns:i,startColumn:o?D.last(i):i[0]}}},t.prototype.addCellRange=function(e){if(this.gridOptionsService.get("enableRangeSelection")){var r=this.createCellRangeFromCellRangeParams(e);r&&(r.startRow&&this.setNewestRangeStartCell({rowIndex:r.startRow.rowIndex,rowPinned:r.startRow.rowPinned,column:r.startColumn}),this.cellRanges.push(r),this.dispatchChangedEvent(!1,!0,r.id))}},t.prototype.getCellRanges=function(){return this.cellRanges},t.prototype.isEmpty=function(){return this.cellRanges.length===0},t.prototype.isMoreThanOneCell=function(){var e=this.cellRanges.length;if(e===0)return!1;if(e>1)return!0;var r=this.cellRanges[0],i=this.getRangeStartRow(r),o=this.getRangeEndRow(r);return i.rowPinned!==o.rowPinned||i.rowIndex!==o.rowIndex||r.columns.length!==1},t.prototype.areAllRangesAbleToMerge=function(){var e,r,i=this,o=new Map,a=this.cellRanges.length;if(a<=1)return!0;this.cellRanges.forEach(function(p){i.forEachRowInRange(p,function(h){var f="".concat(h.rowPinned||"normal","_").concat(h.rowIndex),v=o.get(f),g=p.columns.map(function(m){return m.getId()});if(v){var y=g.filter(function(m){return v.indexOf(m)===-1});v.push.apply(v,zf([],_m(y),!1))}else o.set(f,g)})});var s;try{for(var l=BKe(o.values()),u=l.next();!u.done;u=l.next()){var c=u.value,d=c.sort().join();if(s===void 0){s=d;continue}if(s!==d)return!1}}catch(p){e={error:p}}finally{try{u&&!u.done&&(r=l.return)&&r.call(l)}finally{if(e)throw e.error}}return!0},t.prototype.forEachRowInRange=function(e,r){for(var i=this.getRangeStartRow(e),o=this.getRangeEndRow(e),a=i;a&&(r(a),!this.rowPositionUtils.sameRow(a,o));)a=this.cellNavigationService.getRowBelow(a)},t.prototype.removeAllCellRanges=function(e){this.isEmpty()||(this.onDragStop(),this.cellRanges.length=0,e||this.dispatchChangedEvent(!1,!0))},t.prototype.onBodyScroll=function(){this.dragging&&this.lastMouseEvent&&this.onDragging(this.lastMouseEvent)},t.prototype.isCellInAnyRange=function(e){return this.getCellRangeCount(e)>0},t.prototype.isCellInSpecificRange=function(e,r){var i=r.columns!==null&&D.includes(r.columns,e.column),o=this.isRowInRange(e.rowIndex,e.rowPinned,r);return i&&o},t.prototype.isLastCellOfRange=function(e,r){var i=e.startRow,o=e.endRow,a=this.rowPositionUtils.before(i,o)?o:i,s=r.rowIndex===a.rowIndex&&r.rowPinned===a.rowPinned,l=e.columns[0],u=D.last(e.columns),c=e.startColumn===l?u:l,d=r.column===c;return d&&s},t.prototype.isBottomRightCell=function(e,r){var i=this.columnModel.getAllDisplayedColumns(),o=e.columns.map(function(d){return i.indexOf(d)}).sort(function(d,p){return d-p}),a=e.startRow,s=e.endRow,l=this.rowPositionUtils.before(a,s)?s:a,u=i.indexOf(r.column)===D.last(o),c=r.rowIndex===l.rowIndex&&D.makeNull(r.rowPinned)===D.makeNull(l.rowPinned);return u&&c},t.prototype.getCellRangeCount=function(e){var r=this;return this.isEmpty()?0:this.cellRanges.filter(function(i){return r.isCellInSpecificRange(e,i)}).length},t.prototype.isRowInRange=function(e,r,i){var o=this.getRangeStartRow(i),a=this.getRangeEndRow(i),s={rowIndex:e,rowPinned:r||null},l=s.rowIndex===o.rowIndex&&s.rowPinned==o.rowPinned,u=s.rowIndex===a.rowIndex&&s.rowPinned==a.rowPinned;if(l||u)return!0;var c=!this.rowPositionUtils.before(s,o),d=this.rowPositionUtils.before(s,a);return c&&d},t.prototype.getDraggingRange=function(){return this.draggingRange},t.prototype.onDragStart=function(e){if(this.gridOptionsService.get("enableRangeSelection")){var r=e.ctrlKey,i=e.metaKey,o=e.shiftKey,a=r||i,s=!this.gridOptionsService.get("suppressMultiRangeSelection"),l=s?a:!1,u=o&&D.existsAndNotEmpty(this.cellRanges);!l&&(!u||D.exists(D.last(this.cellRanges).type))&&this.removeAllCellRanges(!0);var c=this.dragService.getStartTarget();if(c&&this.updateValuesOnMove(c),!!this.lastCellHovered){if(this.dragging=!0,this.lastMouseEvent=e,this.intersectionRange=l&&this.getCellRangeCount(this.lastCellHovered)>1,u||this.setNewestRangeStartCell(this.lastCellHovered),this.cellRanges.length>0)this.draggingRange=D.last(this.cellRanges);else{var d={rowIndex:this.lastCellHovered.rowIndex,rowPinned:this.lastCellHovered.rowPinned};this.draggingRange={startRow:d,endRow:d,columns:[this.lastCellHovered.column],startColumn:this.newestRangeStartCell.column},this.cellRanges.push(this.draggingRange)}this.ctrlsService.getGridBodyCtrl().addScrollEventListener(this.bodyScrollListener),this.dispatchChangedEvent(!0,!1,this.draggingRange.id)}}},t.prototype.intersectLastRange=function(e){var r=this;if(!(e&&this.dragging)&&!this.gridOptionsService.get("suppressMultiRangeSelection")&&!this.isEmpty()){var i=D.last(this.cellRanges),o=this.getRangeStartRow(i),a=this.getRangeEndRow(i),s=[];this.cellRanges.slice(0,-1).forEach(function(l){var u=r.getRangeStartRow(l),c=r.getRangeEndRow(l),d=l.columns,p=d.filter(function(g){return i.columns.indexOf(g)===-1});if(p.length===d.length){s.push(l);return}if(r.rowPositionUtils.before(a,u)||r.rowPositionUtils.before(c,o)){s.push(l);return}var h=s.length;if(r.rowPositionUtils.before(u,o)){var f={columns:zf([],_m(d),!1),startColumn:i.startColumn,startRow:ed({},u),endRow:r.cellNavigationService.getRowAbove(o)};s.push(f)}if(p.length>0){var v={columns:p,startColumn:D.includes(p,i.startColumn)?i.startColumn:p[0],startRow:r.rowPositionUtils.rowMax([ed({},o),ed({},u)]),endRow:r.rowPositionUtils.rowMin([ed({},a),ed({},c)])};s.push(v)}r.rowPositionUtils.before(a,c)&&s.push({columns:zf([],_m(d),!1),startColumn:i.startColumn,startRow:r.cellNavigationService.getRowBelow(a),endRow:ed({},c)}),s.length-h===1&&(s[s.length-1].id=l.id)}),this.cellRanges=s,e&&this.dispatchChangedEvent(!1,!0)}},t.prototype.updateValuesOnMove=function(e){var r=D.getCtrlForEventTarget(this.gridOptionsService,e,Iu.DOM_DATA_KEY_CELL_CTRL),i=r==null?void 0:r.getCellPosition();this.cellHasChanged=!1,!(!i||this.lastCellHovered&&this.cellPositionUtils.equals(i,this.lastCellHovered))&&(this.lastCellHovered&&(this.cellHasChanged=!0),this.lastCellHovered=i)},t.prototype.onDragging=function(e){var r=this;if(!(!this.dragging||!e)){this.updateValuesOnMove(e.target),this.lastMouseEvent=e;var i=this.lastCellHovered,o=function(l){return i&&i.rowPinned===l&&r.newestRangeStartCell.rowPinned===l},a=o("top")||o("bottom");if(this.autoScrollService.check(e,a),!!this.cellHasChanged){var s=this.calculateColumnsBetween(this.newestRangeStartCell.column,i.column);s&&(this.draggingRange.endRow={rowIndex:i.rowIndex,rowPinned:i.rowPinned},this.draggingRange.columns=s,this.dispatchChangedEvent(!1,!1,this.draggingRange.id))}}},t.prototype.onDragStop=function(){if(this.dragging){var e=this.draggingRange.id;this.autoScrollService.ensureCleared(),this.ctrlsService.getGridBodyCtrl().removeScrollEventListener(this.bodyScrollListener),this.lastMouseEvent=null,this.dragging=!1,this.draggingRange=void 0,this.lastCellHovered=void 0,this.intersectionRange&&(this.intersectionRange=!1,this.intersectLastRange()),this.dispatchChangedEvent(!1,!0,e)}},t.prototype.dispatchChangedEvent=function(e,r,i){var o={type:P.EVENT_RANGE_SELECTION_CHANGED,started:e,finished:r,id:i};this.eventService.dispatchEvent(o)},t.prototype.calculateColumnsBetween=function(e,r){var i=this.columnModel.getAllDisplayedColumns(),o=e===r,a=i.indexOf(e);if(a<0){console.warn("AG Grid: column ".concat(e.getId()," is not visible"));return}var s=o?a:i.indexOf(r);if(s<0){console.warn("AG Grid: column ".concat(r.getId()," is not visible"));return}if(o)return[e];for(var l=Math.min(a,s),u=l===a?s:a,c=[],d=l;d<=u;d++)c.push(i[d]);return c},ll([E("rowModel")],t.prototype,"rowModel",void 0),ll([E("dragService")],t.prototype,"dragService",void 0),ll([E("columnModel")],t.prototype,"columnModel",void 0),ll([E("cellNavigationService")],t.prototype,"cellNavigationService",void 0),ll([E("pinnedRowModel")],t.prototype,"pinnedRowModel",void 0),ll([E("rowPositionUtils")],t.prototype,"rowPositionUtils",void 0),ll([E("cellPositionUtils")],t.prototype,"cellPositionUtils",void 0),ll([E("ctrlsService")],t.prototype,"ctrlsService",void 0),ll([z],t.prototype,"init",null),t=ll([ae("rangeService")],t),t}(q),jKe=function(){var n=function(t,e){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])},n(t,e)};return function(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");n(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}}(),ds=function(n,t,e,r){var i=arguments.length,o=i<3?t:r===null?r=Object.getOwnPropertyDescriptor(t,e):r,a;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(n,t,e,r);else for(var s=n.length-1;s>=0;s--)(a=n[s])&&(o=(i<3?a(o):i>3?a(t,e,o):a(t,e))||o);return i>3&&o&&Object.defineProperty(t,e,o),o},tre=function(n){jKe(t,n);function t(){var e=n!==null&&n.apply(this,arguments)||this;return e.changedCalculatedValues=!1,e.dragging=!1,e.shouldDestroyOnEndDragging=!1,e}return t.prototype.init=function(){var e=this;this.dragService.addDragSource({dragStartPixels:0,eElement:this.getGui(),onDragStart:this.onDragStart.bind(this),onDragging:function(r){e.dragging=!0,e.rangeService.autoScrollService.check(r),e.changedCalculatedValues&&(e.onDrag(r),e.changedCalculatedValues=!1)},onDragStop:function(r){e.dragging=!1,e.onDragEnd(r),e.clearValues(),e.rangeService.autoScrollService.ensureCleared(),document.body.classList.remove(e.getDraggingCssClass()),e.shouldDestroyOnEndDragging&&e.destroy()}}),this.addManagedListener(this.getGui(),"mousedown",this.preventRangeExtension.bind(this))},t.prototype.isDragging=function(){return this.dragging},t.prototype.getCellCtrl=function(){return this.cellCtrl},t.prototype.setCellCtrl=function(e){this.cellCtrl=e},t.prototype.getCellRange=function(){return this.cellRange},t.prototype.setCellRange=function(e){this.cellRange=e},t.prototype.getRangeStartRow=function(){return this.rangeStartRow},t.prototype.setRangeStartRow=function(e){this.rangeStartRow=e},t.prototype.getRangeEndRow=function(){return this.rangeEndRow},t.prototype.setRangeEndRow=function(e){this.rangeEndRow=e},t.prototype.getLastCellHovered=function(){return this.lastCellHovered},t.prototype.preventRangeExtension=function(e){e.stopPropagation()},t.prototype.onDragStart=function(e){this.cellHoverListener=this.addManagedListener(this.ctrlsService.getGridCtrl().getGui(),"mousemove",this.updateValuesOnMove.bind(this)),document.body.classList.add(this.getDraggingCssClass())},t.prototype.getDraggingCssClass=function(){return"ag-dragging-".concat(this.type===ec.FILL?"fill":"range","-handle")},t.prototype.updateValuesOnMove=function(e){var r=this.mouseEventService.getCellPositionForEvent(e);!r||this.lastCellHovered&&this.cellPositionUtils.equals(r,this.lastCellHovered)||(this.lastCellHovered=r,this.changedCalculatedValues=!0)},t.prototype.getType=function(){return this.type},t.prototype.refresh=function(e){var r=this.getCellCtrl(),i=this.getGui(),o=D.last(this.rangeService.getCellRanges()),a=o.startRow,s=o.endRow;if(a&&s){var l=this.rowPositionUtils.before(s,a);l?(this.setRangeStartRow(s),this.setRangeEndRow(a)):(this.setRangeStartRow(a),this.setRangeEndRow(s))}if(r!==e||!D.isVisible(i)){this.setCellCtrl(e);var u=e.getComp().getParentOfValue();u&&u.appendChild(i)}this.setCellRange(o)},t.prototype.clearValues=function(){this.lastCellHovered=void 0,this.removeListeners()},t.prototype.removeListeners=function(){this.cellHoverListener&&(this.cellHoverListener(),this.cellHoverListener=void 0)},t.prototype.destroy=function(){if(!this.shouldDestroyOnEndDragging&&this.isDragging()){D.setDisplayed(this.getGui(),!1),this.shouldDestroyOnEndDragging=!0;return}this.shouldDestroyOnEndDragging=!1,n.prototype.destroy.call(this),this.removeListeners();var e=this.getGui();e.parentElement&&e.parentElement.removeChild(e)},ds([E("rowRenderer")],t.prototype,"rowRenderer",void 0),ds([E("dragService")],t.prototype,"dragService",void 0),ds([E("rangeService")],t.prototype,"rangeService",void 0),ds([E("mouseEventService")],t.prototype,"mouseEventService",void 0),ds([E("columnModel")],t.prototype,"columnModel",void 0),ds([E("cellNavigationService")],t.prototype,"cellNavigationService",void 0),ds([E("navigationService")],t.prototype,"navigationService",void 0),ds([E("rowPositionUtils")],t.prototype,"rowPositionUtils",void 0),ds([E("cellPositionUtils")],t.prototype,"cellPositionUtils",void 0),ds([E("ctrlsService")],t.prototype,"ctrlsService",void 0),ds([z],t.prototype,"init",null),t}(de);function $Ke(n){var t=n.length,e=0;if(t<=1)return n;for(var r=0;r<n.length;r++){var i=n[r],o=i.toString().split("e-");if(o.length>1){e=Math.max(e,parseInt(o[1],10));continue}Math.floor(i)!==i&&(e=Math.max(e,i.toString().split(".")[1].length))}for(var a=0,s=0,l=0,u=0,c=0,d=0;d<t;d++)c=n[d],a+=d,s+=c,u+=d*d,l+=d*c;for(var p=(t*l-a*s)/(t*u-a*a),h=s/t-p*a/t,f=[],d=0;d<=t;d++)f.push(parseFloat((d*p+h).toFixed(e)));return f}var WKe=function(){var n=function(t,e){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])},n(t,e)};return function(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");n(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}}(),Ov=function(){return Ov=Object.assign||function(n){for(var t,e=1,r=arguments.length;e<r;e++){t=arguments[e];for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(n[i]=t[i])}return n},Ov.apply(this,arguments)},EM=function(n,t,e,r){var i=arguments.length,o=i<3?t:r===null?r=Object.getOwnPropertyDescriptor(t,e):r,a;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(n,t,e,r);else for(var s=n.length-1;s>=0;s--)(a=n[s])&&(o=(i<3?a(o):i>3?a(t,e,o):a(t,e))||o);return i>3&&o&&Object.defineProperty(t,e,o),o},UKe=function(n,t){var e=typeof Symbol=="function"&&n[Symbol.iterator];if(!e)return n;var r=e.call(n),i,o=[],a;try{for(;(t===void 0||t-- >0)&&!(i=r.next()).done;)o.push(i.value)}catch(s){a={error:s}}finally{try{i&&!i.done&&(e=r.return)&&e.call(r)}finally{if(a)throw a.error}}return o},zKe=function(n,t,e){if(e||arguments.length===2)for(var r=0,i=t.length,o;r<i;r++)(o||!(r in t))&&(o||(o=Array.prototype.slice.call(t,0,r)),o[r]=t[r]);return n.concat(o||Array.prototype.slice.call(t))},rre=function(n){WKe(t,n);function t(){var e=n.call(this,t.TEMPLATE)||this;return e.markedCells=[],e.cellValues=[],e.isUp=!1,e.isLeft=!1,e.isReduce=!1,e.type=ec.FILL,e}return t.prototype.updateValuesOnMove=function(e){n.prototype.updateValuesOnMove.call(this,e),this.initialXY||(this.initialXY=this.mouseEventService.getNormalisedPosition(e));var r=this.initialXY,i=r.x,o=r.y,a=this.mouseEventService.getNormalisedPosition(e),s=a.x,l=a.y,u=Math.abs(i-s),c=Math.abs(o-l),d=this.getFillHandleDirection(),p;d==="xy"?p=u>c?"x":"y":p=d,p!==this.dragAxis&&(this.dragAxis=p,this.changedCalculatedValues=!0)},t.prototype.onDrag=function(e){if(!this.initialPosition){var r=this.getCellCtrl();if(!r)return;this.initialPosition=r.getCellPosition()}var i=this.getLastCellHovered();i&&this.markPathFrom(this.initialPosition,i)},t.prototype.onDragEnd=function(e){if(this.initialXY=null,!!this.markedCells.length){var r=this.dragAxis==="x",i=this.getCellRange(),o=i.columns.length,a=this.getRangeStartRow(),s=this.getRangeEndRow(),l;if(!this.isUp&&!this.isLeft)l=this.rangeService.createCellRangeFromCellRangeParams({rowStartIndex:a.rowIndex,rowStartPinned:a.rowPinned,columnStart:i.columns[0],rowEndIndex:r?s.rowIndex:this.lastCellMarked.rowIndex,rowEndPinned:r?s.rowPinned:this.lastCellMarked.rowPinned,columnEnd:r?this.lastCellMarked.column:i.columns[o-1]});else{var u=r?a:this.lastCellMarked;l=this.rangeService.createCellRangeFromCellRangeParams({rowStartIndex:u.rowIndex,rowStartPinned:u.rowPinned,columnStart:r?this.lastCellMarked.column:i.columns[0],rowEndIndex:s.rowIndex,rowEndPinned:s.rowPinned,columnEnd:i.columns[o-1]})}l&&(this.raiseFillStartEvent(),this.handleValueChanged(i,l,e),this.rangeService.setCellRanges([l]),this.raiseFillEndEvent(i,l))}},t.prototype.getFillHandleDirection=function(){var e=this.gridOptionsService.get("fillHandleDirection");return e?e!=="x"&&e!=="y"&&e!=="xy"?(D.warnOnce("valid values for fillHandleDirection are 'x', 'y' and 'xy'. Default to 'xy'."),"xy"):e:"xy"},t.prototype.raiseFillStartEvent=function(){var e={type:P.EVENT_FILL_START};this.eventService.dispatchEvent(e)},t.prototype.raiseFillEndEvent=function(e,r){var i={type:P.EVENT_FILL_END,initialRange:e,finalRange:r};this.eventService.dispatchEvent(i)},t.prototype.handleValueChanged=function(e,r,i){var o=this,a=this.rangeService.getRangeEndRow(e),s=this.rangeService.getRangeStartRow(e),l=this.rangeService.getRangeEndRow(r),u=this.rangeService.getRangeStartRow(r),c=this.dragAxis==="y";if(this.isReduce&&!this.gridOptionsService.get("suppressClearOnFillReduction")){var d=c?e.columns:e.columns.filter(function(_){return r.columns.indexOf(_)<0}),p=c?this.cellNavigationService.getRowBelow(l):u;p&&this.clearCellsInRange(p,a,d);return}var h=[],f=[],v=[],g=[],y=!0,m=0,C=function(){h.length=0,f.length=0,v.length=0,g.length=0,m=0},S=function(_,x){var b=o.isUp?a:s,O=!1;c&&(y=!0,C());for(var T=function(){var N=o.rowPositionUtils.getRowNode(b);if(!N)return"break";c&&_?w(h,_,N,function(){return!o.rowPositionUtils.sameRow(b,o.isUp?s:a)}):x&&(y=!0,C(),x.forEach(function(M){return w(h,M,N,function(){return M!==(o.isLeft?e.columns[0]:D.last(e.columns))})})),O=o.rowPositionUtils.sameRow(b,o.isUp?u:l),b=o.isUp?o.cellNavigationService.getRowAbove(b):o.cellNavigationService.getRowBelow(b)};!O&&b;){var A=T();if(A==="break")break}},w=function(_,x,b,O){var T,A,N,M=!1;if(y)N=o.valueService.getValue(x,b),f.push(N),v.push(o.valueService.getValue(x,b,void 0,!0)),g.push(o.valueFormatterService.formatValue(x,b,N)),y=O();else{var L=o.processValues({event:i,values:_,initialValues:f,initialNonAggregatedValues:v,initialFormattedValues:g,col:x,rowNode:b,idx:m++}),G=L.value,H=L.fromUserFunction,j=L.sourceCol,V=L.sourceRowNode;if(N=G,x.isCellEditable(b)){var W=o.valueService.getValue(x,b);H||(j&&((T=j.getColDef())===null||T===void 0?void 0:T.useValueFormatterForExport)!==!1&&(N=(A=o.valueFormatterService.formatValue(j,V,N))!==null&&A!==void 0?A:N),x.getColDef().useValueParserForImport!==!1&&(N=o.valueParserService.parseValue(x,b,j?N:D.toStringOrNull(N),W))),!H||W!==N?b.setDataValue(x,N,"rangeService"):M=!0}}M||_.push({value:N,column:x,rowNode:b})};if(c)e.columns.forEach(function(_){S(_)});else{var d=this.isLeft?zKe([],UKe(r.columns),!1).reverse():r.columns;S(void 0,d)}},t.prototype.clearCellsInRange=function(e,r,i){var o={startRow:e,endRow:r,columns:i,startColumn:i[0]};this.rangeService.clearCellRangeCellValues({cellRanges:[o]})},t.prototype.processValues=function(e){var r=e.event,i=e.values,o=e.initialValues,a=e.initialNonAggregatedValues,s=e.initialFormattedValues,l=e.col,u=e.rowNode,c=e.idx,d=this.gridOptionsService.getCallback("fillOperation"),p=this.dragAxis==="y",h;if(p?h=this.isUp?"up":"down":h=this.isLeft?"left":"right",d){var f={event:r,values:i.map(function(_){var x=_.value;return x}),initialValues:o,initialNonAggregatedValues:a,initialFormattedValues:s,currentIndex:c,currentCellValue:this.valueService.getValue(l,u),direction:h,column:l,rowNode:u},v=d(f);if(v!==!1)return{value:v,fromUserFunction:!0}}var g=!i.some(function(_){var x=_.value,b=parseFloat(x);return isNaN(b)||b.toString()!==x.toString()});if(r.altKey||!g){if(g&&o.length===1){var y=this.isUp||this.isLeft?-1:1;return{value:parseFloat(D.last(i).value)+1*y,fromUserFunction:!1}}var m=i[c%i.length],C=m.value,S=m.column,w=m.rowNode;return{value:C,fromUserFunction:!1,sourceCol:S,sourceRowNode:w}}return{value:D.last($Ke(i.map(function(_){var x=_.value;return Number(x)}))),fromUserFunction:!1}},t.prototype.clearValues=function(){this.clearMarkedPath(),this.clearCellValues(),this.lastCellMarked=void 0,n.prototype.clearValues.call(this)},t.prototype.clearMarkedPath=function(){this.markedCells.forEach(function(e){if(e.isAlive()){var r=e.getComp();r.addOrRemoveCssClass("ag-selection-fill-top",!1),r.addOrRemoveCssClass("ag-selection-fill-right",!1),r.addOrRemoveCssClass("ag-selection-fill-bottom",!1),r.addOrRemoveCssClass("ag-selection-fill-left",!1)}}),this.markedCells.length=0,this.isUp=!1,this.isLeft=!1,this.isReduce=!1},t.prototype.clearCellValues=function(){this.cellValues.length=0},t.prototype.markPathFrom=function(e,r){if(this.clearMarkedPath(),this.clearCellValues(),this.dragAxis==="y"){if(this.rowPositionUtils.sameRow(r,e))return;var i=this.rowPositionUtils.before(r,e),o=this.getRangeStartRow(),a=this.getRangeEndRow();i&&(r.rowPinned==o.rowPinned&&r.rowIndex>=o.rowIndex||o.rowPinned!=a.rowPinned&&r.rowPinned==a.rowPinned&&r.rowIndex<=a.rowIndex)?(this.reduceVertical(e,r),this.isReduce=!0):(this.extendVertical(e,r,i),this.isReduce=!1)}else{var s=e.column,l=r.column;if(s===l)return;var u=this.columnModel.getAllDisplayedColumns(),c=u.indexOf(s),d=u.indexOf(l);d<=c&&d>=u.indexOf(this.getCellRange().columns[0])?(this.reduceHorizontal(e,r),this.isReduce=!0):(this.extendHorizontal(e,r,d<c),this.isReduce=!1)}this.lastCellMarked=r},t.prototype.extendVertical=function(e,r,i){var o=this,a=o.navigationService,s=o.rangeService,l=e;do{for(var u=this.getCellRange(),c=u.columns.length,d=0;d<c;d++){var p=u.columns[d],h={rowIndex:l.rowIndex,rowPinned:l.rowPinned},f=Ov(Ov({},h),{column:p}),v=s.isCellInSpecificRange(f,u),g=this.rowPositionUtils.sameRow(l,e);if(i&&(this.isUp=!0),!g){var y=a.getCellByPosition(f);if(y){this.markedCells.push(y);var m=y.getComp();v||(m.addOrRemoveCssClass("ag-selection-fill-left",d===0),m.addOrRemoveCssClass("ag-selection-fill-right",d===c-1)),m.addOrRemoveCssClass(i?"ag-selection-fill-top":"ag-selection-fill-bottom",this.rowPositionUtils.sameRow(l,r))}}}if(this.rowPositionUtils.sameRow(l,r))break}while(l=i?this.cellNavigationService.getRowAbove(l):this.cellNavigationService.getRowBelow(l))},t.prototype.reduceVertical=function(e,r){var i=e;do{for(var o=this.getCellRange(),a=o.columns.length,s=this.rowPositionUtils.sameRow(i,r),l=0;l<a;l++){var u={rowIndex:i.rowIndex,rowPinned:i.rowPinned},c=Ov(Ov({},u),{column:o.columns[l]}),d=this.navigationService.getCellByPosition(c);if(d){this.markedCells.push(d);var p=d.getComp();p.addOrRemoveCssClass("ag-selection-fill-bottom",this.rowPositionUtils.sameRow(i,r))}}if(s)break}while(i=this.cellNavigationService.getRowAbove(i))},t.prototype.extendHorizontal=function(e,r,i){var o=this,a=this.columnModel.getAllDisplayedColumns(),s=a.indexOf(i?r.column:e.column),l=a.indexOf(i?this.getCellRange().columns[0]:r.column),u=i?0:1,c=a.slice(s+u,l+u),d=this.getRangeStartRow(),p=this.getRangeEndRow();c.forEach(function(h){var f=d,v=!1;do{v=o.rowPositionUtils.sameRow(f,p);var g=o.navigationService.getCellByPosition({rowIndex:f.rowIndex,rowPinned:f.rowPinned,column:h});if(g){o.markedCells.push(g);var y=g.getComp();y.addOrRemoveCssClass("ag-selection-fill-top",o.rowPositionUtils.sameRow(f,d)),y.addOrRemoveCssClass("ag-selection-fill-bottom",o.rowPositionUtils.sameRow(f,p)),i?(o.isLeft=!0,y.addOrRemoveCssClass("ag-selection-fill-left",h===c[0])):y.addOrRemoveCssClass("ag-selection-fill-right",h===D.last(c))}f=o.cellNavigationService.getRowBelow(f)}while(!v)})},t.prototype.reduceHorizontal=function(e,r){var i=this,o=this.columnModel.getAllDisplayedColumns(),a=o.indexOf(r.column),s=o.indexOf(e.column),l=o.slice(a,s),u=this.getRangeStartRow(),c=this.getRangeEndRow();l.forEach(function(d){var p=u,h=!1;do{h=i.rowPositionUtils.sameRow(p,c);var f=i.navigationService.getCellByPosition({rowIndex:p.rowIndex,rowPinned:p.rowPinned,column:d});if(f){i.markedCells.push(f);var v=f.getComp();v.addOrRemoveCssClass("ag-selection-fill-right",d===l[0])}p=i.cellNavigationService.getRowBelow(p)}while(!h)})},t.prototype.refresh=function(e){var r=this.rangeService.getCellRanges()[0],i=!r.startRow||!r.endRow;if(i){this.destroy();return}n.prototype.refresh.call(this,e)},t.TEMPLATE='<div class="ag-fill-handle"></div>',EM([E("valueService")],t.prototype,"valueService",void 0),EM([E("valueParserService")],t.prototype,"valueParserService",void 0),EM([E("valueFormatterService")],t.prototype,"valueFormatterService",void 0),t}(tre),KKe=function(){var n=function(t,e){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])},n(t,e)};return function(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");n(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}}(),KO=function(){return KO=Object.assign||function(n){for(var t,e=1,r=arguments.length;e<r;e++){t=arguments[e];for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(n[i]=t[i])}return n},KO.apply(this,arguments)},nre=function(n){KKe(t,n);function t(){var e=n.call(this,t.TEMPLATE)||this;return e.type=ec.RANGE,e.rangeFixed=!1,e}return t.prototype.onDrag=function(e){var r=this.getLastCellHovered();if(r){var i=this.rangeService.getCellRanges(),o=D.last(i);if(this.rangeFixed||(this.fixRangeStartEnd(o),this.rangeFixed=!0),this.endPosition={rowIndex:r.rowIndex,rowPinned:r.rowPinned,column:r.column},i.length===2&&i[0].type===ro.DIMENSION&&o.type===ro.VALUE){var a=!this.rowPositionUtils.sameRow(this.endPosition,this.rangeService.getRangeEndRow(o));a&&this.rangeService.updateRangeEnd(i[0],KO(KO({},this.endPosition),{column:i[0].columns[0]}),!0)}this.rangeService.extendLatestRangeToCell(this.endPosition)}},t.prototype.onDragEnd=function(e){var r=D.last(this.rangeService.getCellRanges());this.fixRangeStartEnd(r),this.rangeFixed=!1},t.prototype.fixRangeStartEnd=function(e){var r=this.rangeService.getRangeStartRow(e),i=this.rangeService.getRangeEndRow(e),o=e.columns[0];e.startRow=r,e.endRow=i,e.startColumn=o},t.TEMPLATE='<div class="ag-range-handle"></div>',t}(tre),YKe=function(){var n=function(t,e){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])},n(t,e)};return function(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");n(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}}(),XKe=function(n,t,e,r){var i=arguments.length,o=i<3?t:r===null?r=Object.getOwnPropertyDescriptor(t,e):r,a;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(n,t,e,r);else for(var s=n.length-1;s>=0;s--)(a=n[s])&&(o=(i<3?a(o):i>3?a(t,e,o):a(t,e))||o);return i>3&&o&&Object.defineProperty(t,e,o),o},qKe=function(n){YKe(t,n);function t(){return n!==null&&n.apply(this,arguments)||this}return t.prototype.createSelectionHandle=function(e){return this.createBean(e===ec.RANGE?new nre:new rre)},t=XKe([ae("selectionHandleFactory")],t),t}(q),ZKe="31.1.1",ire={version:ZKe,moduleName:fe.RangeSelectionModule,beans:[HKe,qKe],agStackComponents:[{componentName:"AgFillHandle",componentClass:rre},{componentName:"AgRangeHandle",componentClass:nre}],dependantModules:[In]},JI=function(n,t){var e=typeof Symbol=="function"&&n[Symbol.iterator];if(!e)return n;var r=e.call(n),i,o=[],a;try{for(;(t===void 0||t-- >0)&&!(i=r.next()).done;)o.push(i.value)}catch(s){a={error:s}}finally{try{i&&!i.done&&(e=r.return)&&e.call(r)}finally{if(a)throw a.error}}return o},ore=28,are=6;function e1(n){return n&&n.match(/\d+\.\d+\.\d+/)}function QKe(n){var t=n.gridMajorVersion,e=n.chartsMajorVersion,r=parseInt(t,10),i=parseInt(e,10),o=r-ore,a=i-are,s=o>=0;return o===a&&s}function JKe(n){if(!(!n||!e1(n))){var t=JI(n.split(".")||[],2),e=t[0],r=t[1],i="".concat(e,".").concat(r,".x"),o=parseInt(e,10),a=o-ore+are;if(!(a<0)){var s=r,l="".concat(a,".").concat(s,".x");return{gridMajorMinor:i,chartsMajorMinor:l}}}}function Ox(n){var t=n.type,e=n.gridVersion,r=n.chartsVersion,i="AG Grid: AG Grid version is incompatible. Please see https://www.ag-grid.com/javascript-data-grid/modules/ for more information.";if(!e)return i;var o=JKe(e);if(!o)return i;var a=o.gridMajorMinor,s=o.chartsMajorMinor;return t==="incompatible"?"AG Grid version ".concat(e," and AG Charts version ").concat(r," is not supported. AG Grid version ").concat(a," should be used with AG Chart ").concat(s,". Please see https://www.ag-grid.com/javascript-data-grid/modules/ for more information."):t==="invalidCharts"?"AG Grid version ".concat(a," should be used with AG Chart ").concat(s,". Please see https://www.ag-grid.com/javascript-data-grid/modules/ for more information."):i}function e6e(n){var t=n.gridVersion,e=n.chartsVersion;if(!e1(e))return{isValid:!1,message:Ox({type:"invalidCharts",gridVersion:t,chartsVersion:e})};if(!e1(t))return{isValid:!1,message:Ox({type:"invalidGrid",gridVersion:t,chartsVersion:e})};var r=JI(t.split(".")||[],2),i=r[0],o=r[1],a=JI(e.split(".")||[],2),s=a[0],l=a[1],u=QKe({gridMajorVersion:i,chartsMajorVersion:s});return u&&o===l?{isValid:!0}:!u||o!==l?{isValid:!1,message:Ox({type:"incompatible",gridVersion:t,chartsVersion:e})}:{isValid:!1,message:Ox({type:"invalid",gridVersion:t,chartsVersion:e})}}var t6e={version:lw,validate:function(){return e6e({gridVersion:lw,chartsVersion:x5.CHARTS_VERSION})},moduleName:fe.GridChartsModule,beans:[x5,NKe,GKe],agStackComponents:[{componentName:"AgColorPicker",componentClass:$te},{componentName:"AgAngleSelect",componentClass:jte}],dependantModules:[ire,In]},r6e=function(){var n=function(t,e){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])},n(t,e)};return function(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");n(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}}(),t1=function(){return t1=Object.assign||function(n){for(var t,e=1,r=arguments.length;e<r;e++){t=arguments[e];for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(n[i]=t[i])}return n},t1.apply(this,arguments)},E5=function(n,t,e,r){var i=arguments.length,o=i<3?t:r===null?r=Object.getOwnPropertyDescriptor(t,e):r,a;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(n,t,e,r);else for(var s=n.length-1;s>=0;s--)(a=n[s])&&(o=(i<3?a(o):i>3?a(t,e,o):a(t,e))||o);return i>3&&o&&Object.defineProperty(t,e,o),o},sre=function(n){r6e(t,n);function t(){var e=n!==null&&n.apply(this,arguments)||this;return e.loadRowDataVersion=0,e}return t.prototype.init=function(e,r){this.params=r,this.comp=e;var i=r.pinned!=null;i||(this.setAutoHeightClasses(),this.setupRefreshStrategy(),this.addThemeToDetailGrid(),this.createDetailGrid(),this.loadRowData(),this.addManagedListener(this.eventService,P.EVENT_FULL_WIDTH_ROW_FOCUSED,this.onFullWidthRowFocused.bind(this)))},t.prototype.onFullWidthRowFocused=function(e){var r=this.params,i={rowIndex:r.node.rowIndex,rowPinned:r.node.rowPinned},o={rowIndex:e.rowIndex,rowPinned:e.rowPinned},a=this.rowPositionUtils.sameRow(i,o);a&&this.focusService.focusInto(this.comp.getGui(),e.fromBelow)},t.prototype.setAutoHeightClasses=function(){var e=this.gridOptionsService.get("detailRowAutoHeight"),r=e?"ag-details-row-auto-height":"ag-details-row-fixed-height",i=e?"ag-details-grid-auto-height":"ag-details-grid-fixed-height";this.comp.addOrRemoveCssClass(r,!0),this.comp.addOrRemoveDetailGridCssClass(i,!0)},t.prototype.setupRefreshStrategy=function(){var e=this.params.refreshStrategy,r=e=="everything"||e=="nothing"||e=="rows";if(r){this.refreshStrategy=e;return}e!=null&&console.warn("AG Grid: invalid cellRendererParams.refreshStrategy = '"+e+"' supplied, defaulting to refreshStrategy = 'rows'."),this.refreshStrategy="rows"},t.prototype.addThemeToDetailGrid=function(){var e=this.environment.getTheme().theme;e&&this.comp.addOrRemoveDetailGridCssClass(e,!0)},t.prototype.createDetailGrid=function(){if(D.missing(this.params.detailGridOptions)){console.warn("AG Grid: could not find detail grid options for master detail, please set gridOptions.detailCellRendererParams.detailGridOptions");return}var e=this.gridOptionsService.get("detailRowAutoHeight"),r=t1({},this.params.detailGridOptions);e&&(r.domLayout="autoHeight"),this.comp.setDetailGrid(r)},t.prototype.registerDetailWithMaster=function(e,r){var i=this.params.node.id,o=this.params.api,a={id:i,api:e,columnApi:r},s=this.params.node;o.addDetailGridInfo(i,a),s.detailGridInfo=a,this.addDestroyFunc(function(){s.detailGridInfo===a&&(o.removeDetailGridInfo(i),s.detailGridInfo=null)})},t.prototype.loadRowData=function(){var e=this,r,i,o;this.loadRowDataVersion++;var a=this.loadRowDataVersion;if(((r=this.params.detailGridOptions)===null||r===void 0?void 0:r.rowModelType)==="serverSide"){var s=this.params.node;(o=(i=s.detailGridInfo)===null||i===void 0?void 0:i.api)===null||o===void 0||o.refreshServerSide({purge:!0});return}var l=this.params.getDetailRowData;if(!l){console.warn("AG Grid: could not find getDetailRowData for master / detail, please set gridOptions.detailCellRendererParams.getDetailRowData");return}var u=function(d){var p=e.loadRowDataVersion===a;p&&e.comp.setRowData(d)},c={node:this.params.node,data:this.params.node.data,successCallback:u,context:this.gridOptionsService.getGridCommonParams().context};l(c)},t.prototype.refresh=function(){var e=!1,r=!0;switch(this.refreshStrategy){case"nothing":return r;case"everything":return e}return this.loadRowData(),r},E5([E("rowPositionUtils")],t.prototype,"rowPositionUtils",void 0),E5([E("focusService")],t.prototype,"focusService",void 0),t}(q),n6e=function(){var n=function(t,e){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])},n(t,e)};return function(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");n(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}}(),i6e=function(n,t,e,r){var i=arguments.length,o=i<3?t:r===null?r=Object.getOwnPropertyDescriptor(t,e):r,a;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(n,t,e,r);else for(var s=n.length-1;s>=0;s--)(a=n[s])&&(o=(i<3?a(o):i>3?a(t,e,o):a(t,e))||o);return i>3&&o&&Object.defineProperty(t,e,o),o},o6e=function(n){n6e(t,n);function t(){return n!==null&&n.apply(this,arguments)||this}return t.prototype.init=function(e){var r=this;this.params=e,this.selectAndSetTemplate();var i={addOrRemoveCssClass:function(o,a){return r.addOrRemoveCssClass(o,a)},addOrRemoveDetailGridCssClass:function(o,a){return r.eDetailGrid.classList.toggle(o,a)},setDetailGrid:function(o){return r.setDetailGrid(o)},setRowData:function(o){return r.setRowData(o)},getGui:function(){return r.eDetailGrid}};this.ctrl=this.createManagedBean(new sre),this.ctrl.init(i,e)},t.prototype.refresh=function(){return this.ctrl&&this.ctrl.refresh()},t.prototype.destroy=function(){n.prototype.destroy.call(this)},t.prototype.selectAndSetTemplate=function(){var e=this;if(this.params.pinned){this.setTemplate('<div class="ag-details-row"></div>');return}var r=function(){e.setTemplate(t.TEMPLATE)};if(D.missing(this.params.template))r();else if(typeof this.params.template=="string")this.setTemplate(this.params.template);else if(typeof this.params.template=="function"){var i=this.params.template,o=i(this.params);this.setTemplate(o)}else console.warn("AG Grid: detailCellRendererParams.template should be function or string"),r();this.eDetailGrid==null&&console.warn('AG Grid: reference to eDetailGrid was missing from the details template. Please add ref="eDetailGrid" to the template.')},t.prototype.setDetailGrid=function(e){if(this.eDetailGrid){var r=this.context.getBean("agGridReact"),i=r?D.cloneObject(r):void 0,o=this.context.getBean("frameworkComponentWrapper"),a=this.getFrameworkOverrides(),s=Eq(this.eDetailGrid,e,{frameworkOverrides:a,providedBeanInstances:{agGridReact:i,frameworkComponentWrapper:o},modules:ke.__getGridRegisteredModules(this.params.api.getGridId())});this.detailApi=s,this.ctrl.registerDetailWithMaster(s,new $w(s)),this.addDestroyFunc(function(){s==null||s.destroy()})}},t.prototype.setRowData=function(e){this.detailApi&&this.detailApi.setGridOption("rowData",e)},t.TEMPLATE=`<div class="ag-details-row" role="gridcell">
            <div ref="eDetailGrid" class="ag-details-grid" role="presentation"></div>
        </div>`,i6e([$("eDetailGrid")],t.prototype,"eDetailGrid",void 0),t}(de),a6e="31.1.1",s6e={version:a6e,moduleName:fe.MasterDetailModule,beans:[],userComponents:[{componentName:"agDetailCellRenderer",componentClass:o6e}],controllers:[{controllerName:"detailCellRenderer",controllerClass:sre}],dependantModules:[In]},u2=function(){var n=function(t,e){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])},n(t,e)};return function(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");n(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}}(),Pn=function(n,t,e,r){var i=arguments.length,o=i<3?t:r===null?r=Object.getOwnPropertyDescriptor(t,e):r,a;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(n,t,e,r);else for(var s=n.length-1;s>=0;s--)(a=n[s])&&(o=(i<3?a(o):i>3?a(t,e,o):a(t,e))||o);return i>3&&o&&Object.defineProperty(t,e,o),o},l6e=function(n){u2(t,n);function t(){return n!==null&&n.apply(this,arguments)||this}return t.prototype.hideActiveMenu=function(){this.destroyBean(this.activeMenu)},t.prototype.showMenuAfterMouseEvent=function(e,r,i,o){var a=this,s=o?"filterMenuTab":void 0;this.showMenu(e,function(l){var u,c=l.getGui();a.popupService.positionPopupUnderMouseEvent({type:i,column:e,mouseEvent:r,ePopup:c}),s&&((u=l.showTab)===null||u===void 0||u.call(l,s)),a.dispatchVisibleChangedEvent(!0,!1,e,s)},i,s,void 0,r.target)},t.prototype.showMenuAfterButtonClick=function(e,r,i,o){var a=this,s=-1,l="left";this.gridOptionsService.get("enableRtl")&&(s=1,l="right");var u=o?"filterMenuTab":void 0,c=u?[u]:void 0,d=this.menuService.isLegacyMenuEnabled(),p=(d?9:4)*s,h=d?-23:4;this.showMenu(e,function(f){var v,g=f.getGui();a.popupService.positionPopupByComponent({type:i,column:e,eventSource:r,ePopup:g,alignSide:l,nudgeX:p,nudgeY:h,position:"under",keepWithinBounds:!0}),u&&((v=f.showTab)===null||v===void 0||v.call(f,u)),a.dispatchVisibleChangedEvent(!0,!1,e,u)},i,u,c,r)},t.prototype.showMenu=function(e,r,i,o,a,s){var l=this,u,c=this.getMenuParams(e,a,s),d=c.menu,p=c.eMenuGui,h=c.anchorToElement,f=c.restoreFocusParams,v=[];e&&v.push(function(m){var C=d.getGui();l.destroyBean(d),e==null||e.setMenuVisible(!1,"contextMenu"),l.menuUtils.restoreFocusOnClose(f,C,m)});var g=this.localeService.getLocaleTextFunc();if(this.popupService.addPopup({modal:!0,eChild:p,closeOnEsc:!0,closedCallback:function(m){v.forEach(function(C){return C(m)}),l.dispatchVisibleChangedEvent(!1,!1,e,o)},afterGuiAttached:function(m){return d.afterGuiAttached(Object.assign({},{container:i},m))},positionCallback:o?function(){return r(d)}:void 0,ariaLabel:g("ariaLabelColumnMenu","Column Menu")}),o||((u=d.showTabBasedOnPreviousSelection)===null||u===void 0||u.call(d),r(d)),this.menuService.isColumnMenuAnchoringEnabled()){var y=this.popupService.setPopupPositionRelatedToElement(p,h);y&&e&&this.addStopAnchoring(y,e,v)}d.addEventListener(xm.EVENT_TAB_SELECTED,function(m){l.dispatchVisibleChangedEvent(!1,!0,e),l.lastSelectedTab=m.key,l.dispatchVisibleChangedEvent(!0,!0,e)}),e==null||e.setMenuVisible(!0,"contextMenu"),this.activeMenu=d,d.addEventListener(q.EVENT_DESTROYED,function(){l.activeMenu===d&&(l.activeMenu=null)})},t.prototype.addStopAnchoring=function(e,r,i){e.then(function(o){r.addEventListener("leftChanged",o),r.addEventListener("visibleChanged",o),i.push(function(){r.removeEventListener("leftChanged",o),r.removeEventListener("visibleChanged",o)})})},t.prototype.getMenuParams=function(e,r,i){var o={column:e,headerPosition:this.focusService.getFocusedHeader(),columnIndex:this.columnModel.getAllDisplayedColumns().indexOf(e),eventSource:i},a=this.createMenu(e,o,r,i);return{menu:a,eMenuGui:a.getGui(),anchorToElement:i||this.ctrlsService.getGridBodyCtrl().getGui(),restoreFocusParams:o}},t.prototype.createMenu=function(e,r,i,o){return this.menuService.isLegacyMenuEnabled()?this.createBean(new xm(e,r,this.lastSelectedTab,i,o)):this.createBean(new u6e(e,r,o))},t.prototype.dispatchVisibleChangedEvent=function(e,r,i,o){var a,s,l={type:P.EVENT_COLUMN_MENU_VISIBLE_CHANGED,visible:e,switchingTab:r,key:(s=(a=this.lastSelectedTab)!==null&&a!==void 0?a:o)!==null&&s!==void 0?s:this.menuService.isLegacyMenuEnabled()?xm.TAB_GENERAL:"columnMenu",column:i??null};this.eventService.dispatchEvent(l)},t.prototype.isMenuEnabled=function(e){var r;if(!this.menuService.isLegacyMenuEnabled())return!0;var i=!this.filterManager.isFilterAllowed(e),o=(r=e.getColDef().menuTabs)!==null&&r!==void 0?r:xm.TABS_DEFAULT,a=i&&o.includes(xm.TAB_FILTER)?o.length-1:o.length;return a>0},t.prototype.showMenuAfterContextMenuEvent=function(e,r,i){var o=this;this.menuUtils.onContextMenu(r,i,function(a){return o.showMenuAfterMouseEvent(e,a,"columnMenu"),!0})},Pn([E("popupService")],t.prototype,"popupService",void 0),Pn([E("focusService")],t.prototype,"focusService",void 0),Pn([E("ctrlsService")],t.prototype,"ctrlsService",void 0),Pn([E("columnModel")],t.prototype,"columnModel",void 0),Pn([E("filterManager")],t.prototype,"filterManager",void 0),Pn([E("menuUtils")],t.prototype,"menuUtils",void 0),Pn([E("menuService")],t.prototype,"menuService",void 0),t=Pn([ae("enterpriseMenuFactory")],t),t}(q),xm=function(n){u2(t,n);function t(e,r,i,o,a){var s=n.call(this)||this;return s.column=e,s.restoreFocusParams=r,s.initialSelection=i,s.restrictTo=o,s.sourceElement=a,s.tabFactories={},s.includeChecks={},s.tabFactories[t.TAB_GENERAL]=s.createMainPanel.bind(s),s.tabFactories[t.TAB_FILTER]=s.createFilterPanel.bind(s),s.tabFactories[t.TAB_COLUMNS]=s.createColumnsPanel.bind(s),s.includeChecks[t.TAB_GENERAL]=function(){return!0},s.includeChecks[t.TAB_FILTER]=function(){return e?s.filterManager.isFilterAllowed(e):!1},s.includeChecks[t.TAB_COLUMNS]=function(){return!0},s}return t.prototype.init=function(){var e=this,r=this.getTabsToCreate().map(function(i){return e.createTab(i)});this.tabbedLayout=new DG({items:r,cssClass:"ag-menu",onActiveItemClicked:this.onHidePopup.bind(this),onItemClicked:this.onTabItemClicked.bind(this)}),this.createBean(this.tabbedLayout),this.mainMenuList&&this.mainMenuList.setParentComponent(this.tabbedLayout),this.addDestroyFunc(function(){return e.destroyBean(e.tabbedLayout)})},t.prototype.getTabsToCreate=function(){var e=this,r,i;return this.restrictTo?this.restrictTo:((i=(r=this.column)===null||r===void 0?void 0:r.getColDef().menuTabs)!==null&&i!==void 0?i:t.TABS_DEFAULT).filter(function(o){return e.isValidMenuTabItem(o)}).filter(function(o){return e.isNotSuppressed(o)}).filter(function(o){return e.isModuleLoaded(o)})},t.prototype.isModuleLoaded=function(e){return e===t.TAB_COLUMNS?ke.__isRegistered(fe.ColumnsToolPanelModule,this.context.getGridId()):!0},t.prototype.isValidMenuTabItem=function(e){var r=!0,i=t.TABS_DEFAULT;return this.restrictTo!=null&&(r=this.restrictTo.indexOf(e)>-1,i=this.restrictTo),r=r&&t.TABS_DEFAULT.indexOf(e)>-1,r||console.warn("AG Grid: Trying to render an invalid menu item '".concat(e,"'. Check that your 'menuTabs' contains one of [").concat(i,"]")),r},t.prototype.isNotSuppressed=function(e){return this.includeChecks[e]()},t.prototype.createTab=function(e){return this.tabFactories[e]()},t.prototype.showTabBasedOnPreviousSelection=function(){this.showTab(this.initialSelection)},t.prototype.showTab=function(e){this.tabItemColumns&&e===t.TAB_COLUMNS?this.tabbedLayout.showItem(this.tabItemColumns):this.tabItemFilter&&e===t.TAB_FILTER?this.tabbedLayout.showItem(this.tabItemFilter):this.tabItemGeneral&&e===t.TAB_GENERAL?this.tabbedLayout.showItem(this.tabItemGeneral):this.tabbedLayout.showFirstItem()},t.prototype.onTabItemClicked=function(e){var r=null;switch(e.item){case this.tabItemColumns:r=t.TAB_COLUMNS;break;case this.tabItemFilter:r=t.TAB_FILTER;break;case this.tabItemGeneral:r=t.TAB_GENERAL;break}r&&this.activateTab(r)},t.prototype.activateTab=function(e){var r={type:t.EVENT_TAB_SELECTED,key:e};this.dispatchEvent(r)},t.prototype.createMainPanel=function(){var e=this;return this.mainMenuList=this.columnMenuFactory.createMenu(this,this.column,function(){var r;return(r=e.sourceElement)!==null&&r!==void 0?r:e.getGui()}),this.mainMenuList.addEventListener(ka.EVENT_CLOSE_MENU,this.onHidePopup.bind(this)),this.tabItemGeneral={title:D.createIconNoSpan("menu",this.gridOptionsService,this.column),titleLabel:t.TAB_GENERAL.replace("MenuTab",""),bodyPromise:Qe.resolve(this.mainMenuList.getGui()),name:t.TAB_GENERAL},this.tabItemGeneral},t.prototype.onHidePopup=function(e){this.menuUtils.closePopupAndRestoreFocusOnSelect(this.hidePopupFunc,this.restoreFocusParams,e)},t.prototype.createFilterPanel=function(){var e=this.column?this.filterManager.getOrCreateFilterWrapper(this.column,"COLUMN_MENU"):null;if(!e)throw new Error("AG Grid - Unable to instantiate filter");var r=function(o){e!=null&&e.filterPromise&&e.filterPromise.then(function(a){a&&a.afterGuiAttached&&a.afterGuiAttached(o)})},i=function(){var o;return(o=e==null?void 0:e.filterPromise)===null||o===void 0?void 0:o.then(function(a){var s;return(s=a==null?void 0:a.afterGuiDetached)===null||s===void 0?void 0:s.call(a)})};return this.tabItemFilter={title:D.createIconNoSpan("filter",this.gridOptionsService,this.column),titleLabel:t.TAB_FILTER.replace("MenuTab",""),bodyPromise:e==null?void 0:e.guiPromise,afterAttachedCallback:r,afterDetachedCallback:i,name:t.TAB_FILTER},this.tabItemFilter},t.prototype.createColumnsPanel=function(){var e=document.createElement("div");e.classList.add("ag-menu-column-select-wrapper");var r=this.columnChooserFactory.createColumnSelectPanel(this,this.column),i=r.getGui();return i.classList.add("ag-menu-column-select"),e.appendChild(i),this.tabItemColumns={title:D.createIconNoSpan("columns",this.gridOptionsService,this.column),titleLabel:t.TAB_COLUMNS.replace("MenuTab",""),bodyPromise:Qe.resolve(e),name:t.TAB_COLUMNS},this.tabItemColumns},t.prototype.afterGuiAttached=function(e){var r=e.container,i=e.hidePopup;this.tabbedLayout.setAfterAttachedParams({container:r,hidePopup:i}),i&&(this.hidePopupFunc=i,this.addDestroyFunc(i))},t.prototype.getGui=function(){return this.tabbedLayout.getGui()},t.EVENT_TAB_SELECTED="tabSelected",t.TAB_FILTER="filterMenuTab",t.TAB_GENERAL="generalMenuTab",t.TAB_COLUMNS="columnsMenuTab",t.TABS_DEFAULT=[t.TAB_GENERAL,t.TAB_FILTER,t.TAB_COLUMNS],Pn([E("filterManager")],t.prototype,"filterManager",void 0),Pn([E("columnChooserFactory")],t.prototype,"columnChooserFactory",void 0),Pn([E("columnMenuFactory")],t.prototype,"columnMenuFactory",void 0),Pn([E("menuUtils")],t.prototype,"menuUtils",void 0),Pn([z],t.prototype,"init",null),t}(q),u6e=function(n){u2(t,n);function t(e,r,i){var o=n.call(this,`
            <div ref="eColumnMenu" role="presentation" class="ag-menu ag-column-menu"></div>
        `)||this;return o.column=e,o.restoreFocusParams=r,o.sourceElement=i,o}return t.prototype.init=function(){var e=this;this.mainMenuList=this.columnMenuFactory.createMenu(this,this.column,function(){var r;return(r=e.sourceElement)!==null&&r!==void 0?r:e.getGui()}),this.mainMenuList.addEventListener(ka.EVENT_CLOSE_MENU,this.onHidePopup.bind(this)),this.eColumnMenu.appendChild(this.mainMenuList.getGui())},t.prototype.onHidePopup=function(e){this.menuUtils.closePopupAndRestoreFocusOnSelect(this.hidePopupFunc,this.restoreFocusParams,e)},t.prototype.afterGuiAttached=function(e){var r=e.hidePopup;r&&(this.hidePopupFunc=r,this.addDestroyFunc(r)),this.focusService.focusInto(this.mainMenuList.getGui())},Pn([E("columnMenuFactory")],t.prototype,"columnMenuFactory",void 0),Pn([E("menuUtils")],t.prototype,"menuUtils",void 0),Pn([E("focusService")],t.prototype,"focusService",void 0),Pn([$("eColumnMenu")],t.prototype,"eColumnMenu",void 0),Pn([z],t.prototype,"init",null),t}(de),lre=function(){var n=function(t,e){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])},n(t,e)};return function(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");n(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}}(),YO=function(){return YO=Object.assign||function(n){for(var t,e=1,r=arguments.length;e<r;e++){t=arguments[e];for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(n[i]=t[i])}return n},YO.apply(this,arguments)},bl=function(n,t,e,r){var i=arguments.length,o=i<3?t:r===null?r=Object.getOwnPropertyDescriptor(t,e):r,a;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(n,t,e,r);else for(var s=n.length-1;s>=0;s--)(a=n[s])&&(o=(i<3?a(o):i>3?a(t,e,o):a(t,e))||o);return i>3&&o&&Object.defineProperty(t,e,o),o},c6e="ag-menu",b5="ag-context-menu-open",d6e=function(n){lre(t,n);function t(){return n!==null&&n.apply(this,arguments)||this}return t.prototype.hideActiveMenu=function(){this.destroyBean(this.activeMenu)},t.prototype.getMenuItems=function(e,r,i){var o=[];if(D.exists(e)&&ke.__isRegistered(fe.ClipboardModule,this.context.getGridId())&&r&&(this.gridOptionsService.get("suppressCutToClipboard")||o.push("cut"),o.push("copy","copyWithHeaders","copyWithGroupHeaders","paste","separator")),this.gridOptionsService.get("enableCharts")&&ke.__isRegistered(fe.GridChartsModule,this.context.getGridId())&&(this.columnModel.isPivotMode()&&o.push("pivotChart"),this.rangeService&&!this.rangeService.isEmpty()&&o.push("chartRange")),D.exists(e)){var a=!ke.__isRegistered(fe.CsvExportModule,this.context.getGridId()),s=!ke.__isRegistered(fe.ExcelExportModule,this.context.getGridId()),l=this.gridOptionsService.get("suppressExcelExport")||s,u=this.gridOptionsService.get("suppressCsvExport")||a,c=D.isIOSUserAgent(),d=!c&&(!l||!u);d&&o.push("export")}var p=o.length?o:void 0,h=r==null?void 0:r.getColDef().contextMenuItems;if(Array.isArray(h))return h;if(typeof h=="function")return h(this.gridOptionsService.addGridCommonParams({column:r,node:e,value:i,defaultItems:p}));var f=this.gridOptionsService.getCallback("getContextMenuItems");return f?f({column:r,node:e,value:i,defaultItems:p}):o},t.prototype.onContextMenu=function(e,r,i,o,a,s){var l=this;this.menuUtils.onContextMenu(e,r,function(u){return l.showMenu(i,o,a,u,s)})},t.prototype.showMenu=function(e,r,i,o,a){var s=this,l=this.getMenuItems(e,r,i),u=this.ctrlsService.getGridBodyCtrl().getGui();if(l===void 0||D.missingOrEmpty(l))return!1;var c=new p6e(l,r,e,i);this.createBean(c);var d=c.getGui(),p={column:r,rowNode:e,type:"contextMenu",mouseEvent:o,ePopup:d,nudgeY:1},h=this.localeService.getLocaleTextFunc(),f=this.popupService.addPopup({modal:!0,eChild:d,closeOnEsc:!0,closedCallback:function(){u.classList.remove(b5),s.destroyBean(c)},click:o,positionCallback:function(){var v=s.gridOptionsService.get("enableRtl");s.popupService.positionPopupUnderMouseEvent(YO(YO({},p),{nudgeX:v?(d.offsetWidth+1)*-1:1}))},anchorToElement:a,ariaLabel:h("ariaLabelContextMenu","Context Menu")});return f&&(u.classList.add(b5),c.afterGuiAttached({container:"contextMenu",hidePopup:f.hideFunc})),this.activeMenu&&this.hideActiveMenu(),this.activeMenu=c,c.addEventListener(q.EVENT_DESTROYED,function(){s.activeMenu===c&&(s.activeMenu=null)}),f&&c.addEventListener(ka.EVENT_CLOSE_MENU,f.hideFunc),!0},bl([E("popupService")],t.prototype,"popupService",void 0),bl([qe("rangeService")],t.prototype,"rangeService",void 0),bl([E("ctrlsService")],t.prototype,"ctrlsService",void 0),bl([E("columnModel")],t.prototype,"columnModel",void 0),bl([E("menuUtils")],t.prototype,"menuUtils",void 0),t=bl([ae("contextMenuFactory")],t),t}(q),p6e=function(n){lre(t,n);function t(e,r,i,o){var a=n.call(this,'<div class="'.concat(c6e,'" role="presentation"></div>'))||this;return a.menuItems=e,a.column=r,a.node=i,a.value=o,a.menuList=null,a.focusedCell=null,a}return t.prototype.addMenuItems=function(){var e=this,r=this.createManagedBean(new jw(0,{column:this.column,node:this.node,value:this.value})),i=this.menuItemMapper.mapWithStockItems(this.menuItems,null,function(){return e.getGui()});r.addMenuItems(i),this.appendChild(r),this.menuList=r,r.addEventListener(ka.EVENT_CLOSE_MENU,function(o){return e.dispatchEvent(o)})},t.prototype.afterGuiAttached=function(e){e.hidePopup&&this.addDestroyFunc(e.hidePopup),this.focusedCell=this.focusService.getFocusedCell(),this.menuList&&this.focusService.focusInto(this.menuList.getGui())},t.prototype.restoreFocusedCell=function(){var e=this.focusService.getFocusedCell();if(e&&this.focusedCell&&this.cellPositionUtils.equals(e,this.focusedCell)){var r=this.focusedCell,i=r.rowIndex,o=r.rowPinned,a=r.column,s=this.gridOptionsService.getDocument();s.activeElement===s.body&&this.focusService.setFocusedCell({rowIndex:i,column:a,rowPinned:o,forceBrowserFocus:!0})}},t.prototype.destroy=function(){this.restoreFocusedCell(),n.prototype.destroy.call(this)},bl([E("menuItemMapper")],t.prototype,"menuItemMapper",void 0),bl([E("focusService")],t.prototype,"focusService",void 0),bl([E("cellPositionUtils")],t.prototype,"cellPositionUtils",void 0),bl([z],t.prototype,"addMenuItems",null),t}(de),h6e=function(){var n=function(t,e){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])},n(t,e)};return function(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");n(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}}(),r1=function(){return r1=Object.assign||function(n){for(var t,e=1,r=arguments.length;e<r;e++){t=arguments[e];for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(n[i]=t[i])}return n},r1.apply(this,arguments)},ul=function(n,t,e,r){var i=arguments.length,o=i<3?t:r===null?r=Object.getOwnPropertyDescriptor(t,e):r,a;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(n,t,e,r);else for(var s=n.length-1;s>=0;s--)(a=n[s])&&(o=(i<3?a(o):i>3?a(t,e,o):a(t,e))||o);return i>3&&o&&Object.defineProperty(t,e,o),o},f6e=function(n){h6e(t,n);function t(){return n!==null&&n.apply(this,arguments)||this}return t.prototype.mapWithStockItems=function(e,r,i){var o=this;if(!e)return[];var a=[];return e.forEach(function(s){var l;if(typeof s=="string"?l=o.getStockMenuItem(s,r,i):l=r1({},s),!!l){var u=l,c=u.subMenu;c&&c instanceof Array&&(u.subMenu=o.mapWithStockItems(c,r,i)),l!=null&&a.push(l)}}),a},t.prototype.getStockMenuItem=function(e,r,i){var o=this,a,s=this.localeService.getLocaleTextFunc(),l=this.gridOptionsService.get("skipHeaderOnAutoSize");switch(e){case"pinSubMenu":return{name:s("pinColumn","Pin Column"),icon:D.createIconNoSpan("menuPin",this.gridOptionsService,null),subMenu:["clearPinned","pinLeft","pinRight"]};case"pinLeft":return{name:s("pinLeft","Pin Left"),action:function(){return o.columnModel.setColumnsPinned([r],"left","contextMenu")},checked:!!r&&r.isPinnedLeft()};case"pinRight":return{name:s("pinRight","Pin Right"),action:function(){return o.columnModel.setColumnsPinned([r],"right","contextMenu")},checked:!!r&&r.isPinnedRight()};case"clearPinned":return{name:s("noPin","No Pin"),action:function(){return o.columnModel.setColumnsPinned([r],null,"contextMenu")},checked:!!r&&!r.isPinned()};case"valueAggSubMenu":return ke.__assertRegistered(fe.RowGroupingModule,"Aggregation from Menu",this.context.getGridId())?!(r!=null&&r.isPrimary())&&!(r!=null&&r.getColDef().pivotValueColumn)?null:{name:s("valueAggregation","Value Aggregation"),icon:D.createIconNoSpan("menuValue",this.gridOptionsService,null),subMenu:this.createAggregationSubMenu(r)}:null;case"autoSizeThis":return{name:s("autosizeThiscolumn","Autosize This Column"),action:function(){return o.columnModel.autoSizeColumn(r,"contextMenu",l)}};case"autoSizeAll":return{name:s("autosizeAllColumns","Autosize All Columns"),action:function(){return o.columnModel.autoSizeAllColumns("contextMenu",l)}};case"rowGroup":return{name:s("groupBy","Group by")+" "+D.escapeString(this.columnModel.getDisplayNameForColumn(r,"header")),disabled:(r==null?void 0:r.isRowGroupActive())||!(r!=null&&r.getColDef().enableRowGroup),action:function(){return o.columnModel.addRowGroupColumns([r],"contextMenu")},icon:D.createIconNoSpan("menuAddRowGroup",this.gridOptionsService,null)};case"rowUnGroup":var u=D.createIconNoSpan("menuRemoveRowGroup",this.gridOptionsService,null),c=r==null?void 0:r.getColDef().showRowGroup,d=this.gridOptionsService.get("groupLockGroupColumns");if(c===!0)return{name:s("ungroupAll","Un-Group All"),disabled:d===-1||d>=this.columnModel.getRowGroupColumns().length,action:function(){return o.columnModel.setRowGroupColumns(o.columnModel.getRowGroupColumns().slice(0,d),"contextMenu")},icon:u};if(typeof c=="string"){var p=this.columnModel.getPrimaryColumn(c),h=p!=null?D.escapeString(this.columnModel.getDisplayNameForColumn(p,"header")):c;return{name:s("ungroupBy","Un-Group by")+" "+h,disabled:p!=null&&this.columnModel.isColumnGroupingLocked(p),action:function(){return o.columnModel.removeRowGroupColumns([c],"contextMenu")},icon:u}}return{name:s("ungroupBy","Un-Group by")+" "+D.escapeString(this.columnModel.getDisplayNameForColumn(r,"header")),disabled:!(r!=null&&r.isRowGroupActive())||!(r!=null&&r.getColDef().enableRowGroup)||this.columnModel.isColumnGroupingLocked(r),action:function(){return o.columnModel.removeRowGroupColumns([r],"contextMenu")},icon:u};case"resetColumns":return{name:s("resetColumns","Reset Columns"),action:function(){return o.columnModel.resetColumnState("contextMenu")}};case"expandAll":return{name:s("expandAll","Expand All Row Groups"),action:function(){return o.gridApi.expandAll()}};case"contractAll":return{name:s("collapseAll","Collapse All Row Groups"),action:function(){return o.gridApi.collapseAll()}};case"copy":return ke.__assertRegistered(fe.ClipboardModule,"Copy from Menu",this.context.getGridId())?{name:s("copy","Copy"),shortcut:s("ctrlC","Ctrl+C"),icon:D.createIconNoSpan("clipboardCopy",this.gridOptionsService,null),action:function(){return o.clipboardService.copyToClipboard()}}:null;case"copyWithHeaders":return ke.__assertRegistered(fe.ClipboardModule,"Copy with Headers from Menu",this.context.getGridId())?{name:s("copyWithHeaders","Copy with Headers"),icon:D.createIconNoSpan("clipboardCopy",this.gridOptionsService,null),action:function(){return o.clipboardService.copyToClipboard({includeHeaders:!0})}}:null;case"copyWithGroupHeaders":return ke.__assertRegistered(fe.ClipboardModule,"Copy with Group Headers from Menu",this.context.getGridId())?{name:s("copyWithGroupHeaders","Copy with Group Headers"),icon:D.createIconNoSpan("clipboardCopy",this.gridOptionsService,null),action:function(){return o.clipboardService.copyToClipboard({includeHeaders:!0,includeGroupHeaders:!0})}}:null;case"cut":if(ke.__assertRegistered(fe.ClipboardModule,"Cut from Menu",this.context.getGridId())){var f=this.focusService.getFocusedCell(),v=f?this.rowPositionUtils.getRowNode(f):null,g=v?f==null?void 0:f.column.isCellEditable(v):!1;return{name:s("cut","Cut"),shortcut:s("ctrlX","Ctrl+X"),icon:D.createIconNoSpan("clipboardCut",this.gridOptionsService,null),disabled:!g||this.gridOptionsService.get("suppressCutToClipboard"),action:function(){return o.clipboardService.cutToClipboard(void 0,"contextMenu")}}}else return null;case"paste":return ke.__assertRegistered(fe.ClipboardModule,"Paste from Clipboard",this.context.getGridId())?{name:s("paste","Paste"),shortcut:s("ctrlV","Ctrl+V"),disabled:!0,icon:D.createIconNoSpan("clipboardPaste",this.gridOptionsService,null),action:function(){return o.clipboardService.pasteFromClipboard()}}:null;case"export":var y=[],m=ke.__isRegistered(fe.CsvExportModule,this.context.getGridId()),C=ke.__isRegistered(fe.ExcelExportModule,this.context.getGridId());return!this.gridOptionsService.get("suppressCsvExport")&&m&&y.push("csvExport"),!this.gridOptionsService.get("suppressExcelExport")&&C&&y.push("excelExport"),{name:s("export","Export"),subMenu:y,icon:D.createIconNoSpan("save",this.gridOptionsService,null)};case"csvExport":return{name:s("csvExport","CSV Export"),icon:D.createIconNoSpan("csvExport",this.gridOptionsService,null),action:function(){return o.gridApi.exportDataAsCsv({})}};case"excelExport":return{name:s("excelExport","Excel Export"),icon:D.createIconNoSpan("excelExport",this.gridOptionsService,null),action:function(){return o.gridApi.exportDataAsExcel()}};case"separator":return"separator";case"pivotChart":case"chartRange":return(a=this.chartMenuItemMapper.getChartItems(e))!==null&&a!==void 0?a:null;case"columnFilter":return r?{name:s("columnFilter","Column Filter"),icon:D.createIconNoSpan("filter",this.gridOptionsService,null),action:function(){return o.menuService.showFilterMenu({column:r,buttonElement:i(),containerType:"columnFilter",positionBy:"button"})}}:null;case"columnChooser":return ke.__isRegistered(fe.ColumnsToolPanelModule,this.context.getGridId())?{name:s("columnChooser","Choose Columns"),icon:D.createIconNoSpan("columns",this.gridOptionsService,null),action:function(){return o.menuService.showColumnChooser({column:r,eventSource:i()})}}:null;case"sortAscending":return{name:s("sortAscending","Sort Ascending"),icon:D.createIconNoSpan("sortAscending",this.gridOptionsService,null),action:function(){return o.sortController.setSortForColumn(r,"asc",!1,"columnMenu")}};case"sortDescending":return{name:s("sortDescending","Sort Descending"),icon:D.createIconNoSpan("sortDescending",this.gridOptionsService,null),action:function(){return o.sortController.setSortForColumn(r,"desc",!1,"columnMenu")}};case"sortUnSort":return{name:s("sortUnSort","Clear Sort"),icon:D.createIconNoSpan("sortUnSort",this.gridOptionsService,null),action:function(){return o.sortController.setSortForColumn(r,null,!1,"columnMenu")}};default:return console.warn("AG Grid: unknown menu item type ".concat(e)),null}},t.prototype.createAggregationSubMenu=function(e){var r=this,i=this.localeService.getLocaleTextFunc(),o;if(e.isPrimary())o=e;else{var a=e.getColDef().pivotValueColumn;o=D.exists(a)?a:void 0}var s=[];if(o){var l=o.isValueActive(),u=this.aggFuncService.getFuncNames(o);s.push({name:i("noAggregation","None"),action:function(){r.columnModel.removeValueColumns([o],"contextMenu"),r.columnModel.setColumnAggFunc(o,void 0,"contextMenu")},checked:!l}),u.forEach(function(c){s.push({name:i(c,r.aggFuncService.getDefaultFuncLabel(c)),action:function(){r.columnModel.setColumnAggFunc(o,c,"contextMenu"),r.columnModel.addValueColumns([o],"contextMenu")},checked:l&&o.getAggFunc()===c})})}return s},ul([E("columnModel")],t.prototype,"columnModel",void 0),ul([E("gridApi")],t.prototype,"gridApi",void 0),ul([qe("clipboardService")],t.prototype,"clipboardService",void 0),ul([qe("aggFuncService")],t.prototype,"aggFuncService",void 0),ul([E("focusService")],t.prototype,"focusService",void 0),ul([E("rowPositionUtils")],t.prototype,"rowPositionUtils",void 0),ul([E("chartMenuItemMapper")],t.prototype,"chartMenuItemMapper",void 0),ul([E("menuService")],t.prototype,"menuService",void 0),ul([E("sortController")],t.prototype,"sortController",void 0),t=ul([ae("menuItemMapper")],t),t}(q),v6e="31.1.1",g6e=function(){var n=function(t,e){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])},n(t,e)};return function(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");n(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}}(),Rv=function(){return Rv=Object.assign||function(n){for(var t,e=1,r=arguments.length;e<r;e++){t=arguments[e];for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(n[i]=t[i])}return n},Rv.apply(this,arguments)},O5=function(n,t,e,r){var i=arguments.length,o=i<3?t:r===null?r=Object.getOwnPropertyDescriptor(t,e):r,a;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(n,t,e,r);else for(var s=n.length-1;s>=0;s--)(a=n[s])&&(o=(i<3?a(o):i>3?a(t,e,o):a(t,e))||o);return i>3&&o&&Object.defineProperty(t,e,o),o},y6e=function(n,t){var e=typeof Symbol=="function"&&n[Symbol.iterator];if(!e)return n;var r=e.call(n),i,o=[],a;try{for(;(t===void 0||t-- >0)&&!(i=r.next()).done;)o.push(i.value)}catch(s){a={error:s}}finally{try{i&&!i.done&&(e=r.return)&&e.call(r)}finally{if(a)throw a.error}}return o},m6e=function(n){g6e(t,n);function t(){return n!==null&&n.apply(this,arguments)||this}e=t,t.prototype.getChartItems=function(r){var i,o;if(!this.chartService){ke.__assertRegistered(fe.GridChartsModule,'the Context Menu key "'.concat(r,'"'),this.context.getGridId());return}var a=r==="pivotChart"?new C6e(this.gridOptionsService,this.chartService,this.localeService):new S6e(this.gridOptionsService,this.chartService,this.localeService),s=this.chartService.isEnterprise(),l=a.getMenuItem();if(l&&l.subMenu&&!s){var u=function(d){var p;return Rv(Rv({},d),{subMenu:(p=d.subMenu)===null||p===void 0?void 0:p.filter(function(h){return!h._enterprise}).map(function(h){return u(h)})})};l=u(l)}var c=(o=(i=this.gridOptionsService.get("chartToolPanelsDef"))===null||i===void 0?void 0:i.settingsPanel)===null||o===void 0?void 0:o.chartGroupsDef;return c&&(l=e.filterAndOrderChartMenu(l,c,a.getConfigLookup())),this.cleanInternals(l)},t.prototype.cleanInternals=function(r){if(!r)return r;var i=function(o){var a;return o==null||delete o._key,o==null||delete o._enterprise,(a=o==null?void 0:o.subMenu)===null||a===void 0||a.forEach(function(s){return i(s)}),o};return i(r)},t.buildLookup=function(r){var i={},o=function(a){i[a._key]=a,a.subMenu&&a.subMenu.forEach(function(s){return o(s)})};return o(r),i},t.filterAndOrderChartMenu=function(r,i,o){var a,s=this.buildLookup(r),l=Rv(Rv({},r),{subMenu:[]});if(Object.entries(i).forEach(function(u){var c,d,p=y6e(u,2),h=p[0],f=p[1],v=o[h];if(v!==null){if(v==null){D.warnOnce("invalid chartGroupsDef config '".concat(h,"'"));return}var g=s[v._key];if(g)if(g.subMenu){var y=f.map(function(m){var C=v[m];if(C==null){D.warnOnce("invalid chartGroupsDef config '".concat(h,".").concat(m,"'"));return}return s[C]}).filter(function(m){return m!==void 0});y.length>0&&(g.subMenu=y,(c=l.subMenu)===null||c===void 0||c.push(g))}else(d=l.subMenu)===null||d===void 0||d.push(g)}}),((a=l.subMenu)===null||a===void 0?void 0:a.length)!=0)return l};var e;return O5([qe("chartService")],t.prototype,"chartService",void 0),t=e=O5([ae("chartMenuItemMapper")],t),t}(q),C6e=function(){function n(t,e,r){this.gridOptionsService=t,this.chartService=e,this.localeService=r}return n.prototype.getMenuItem=function(){var t=this,e=this.localeService.getLocaleTextFunc(),r=function(i,o,a,s,l){return l===void 0&&(l=!1),{name:e(i,o),action:function(){return t.chartService.createPivotChart({chartType:a})},_key:s,_enterprise:l}};return{name:e("pivotChart","Pivot Chart"),_key:"pivotChart",subMenu:[{_key:"pivotColumnChart",name:e("columnChart","Column"),subMenu:[r("groupedColumn","Grouped&lrm;","groupedColumn","pivotGroupedColumn"),r("stackedColumn","Stacked&lrm;","stackedColumn","pivotStackedColumn"),r("normalizedColumn","100% Stacked&lrm;","normalizedColumn","pivotNormalizedColumn")]},{_key:"pivotBarChart",name:e("barChart","Bar"),subMenu:[r("groupedBar","Grouped&lrm;","groupedBar","pivotGroupedBar"),r("stackedBar","Stacked&lrm;","stackedBar","pivotStackedBar"),r("normalizedBar","100% Stacked&lrm;","normalizedBar","pivotNormalizedBar")]},{_key:"pivotPieChart",name:e("pieChart","Pie"),subMenu:[r("pie","Pie&lrm;","pie","pivotPie"),r("donut","Donut&lrm;","donut","pivotDonut")]},r("line","Line&lrm;","line","pivotLineChart"),{_key:"pivotXYChart",name:e("xyChart","X Y (Scatter)"),subMenu:[r("scatter","Scatter&lrm;","scatter","pivotScatter"),r("bubble","Bubble&lrm;","bubble","pivotBubble")]},{_key:"pivotAreaChart",name:e("areaChart","Area"),subMenu:[r("area","Area&lrm;","area","pivotArea"),r("stackedArea","Stacked&lrm;","stackedArea","pivotStackedArea"),r("normalizedArea","100% Stacked&lrm;","normalizedArea","pivotNormalizedArea")]},{_key:"pivotStatisticalChart",_enterprise:!1,name:e("statisticalChart","Statistical"),subMenu:[r("histogramChart","Histogram&lrm;","histogram","pivotHistogram",!1)]},{_key:"pivotHierarchicalChart",_enterprise:!0,name:e("hierarchicalChart","Hierarchical"),subMenu:[r("treemapChart","Treemap&lrm;","treemap","pivotTreemap",!0),r("sunburstChart","Sunburst&lrm;","sunburst","pivotSunburst",!0)]},{_key:"pivotCombinationChart",name:e("combinationChart","Combination"),subMenu:[r("columnLineCombo","Column & Line&lrm;","columnLineCombo","pivotColumnLineCombo"),r("AreaColumnCombo","Area & Column&lrm;","areaColumnCombo","pivotAreaColumnCombo")]}],icon:D.createIconNoSpan("chart",this.gridOptionsService,void 0)}},n.prototype.getConfigLookup=function(){return{columnGroup:{_key:"pivotColumnChart",column:"pivotGroupedColumn",stackedColumn:"pivotStackedColumn",normalizedColumn:"pivotNormalizedColumn"},barGroup:{_key:"pivotBarChart",bar:"pivotGroupedBar",stackedBar:"pivotStackedBar",normalizedBar:"pivotNormalizedBar"},pieGroup:{_key:"pivotPieChart",pie:"pivotPie",donut:"pivotDonut",doughnut:"pivotDonut"},lineGroup:{_key:"pivotLineChart",line:"pivotLineChart"},scatterGroup:{_key:"pivotXYChart",bubble:"pivotBubble",scatter:"pivotScatter"},areaGroup:{_key:"pivotAreaChart",area:"pivotArea",stackedArea:"pivotStackedArea",normalizedArea:"pivotNormalizedArea"},combinationGroup:{_key:"pivotCombinationChart",columnLineCombo:"pivotColumnLineCombo",areaColumnCombo:"pivotAreaColumnCombo",customCombo:null},hierarchicalGroup:{_key:"pivotHierarchicalChart",treemap:"pivotTreemap",sunburst:"pivotSunburst"},statisticalGroup:{_key:"pivotStatisticalChart",histogram:"pivotHistogram",rangeBar:null,rangeArea:null,boxPlot:null},polarGroup:null,specializedGroup:null}},n}(),S6e=function(){function n(t,e,r){this.gridOptionsService=t,this.chartService=e,this.localeService=r}return n.prototype.getMenuItem=function(){var t=this,e=this.localeService.getLocaleTextFunc(),r=function(i,o,a,s,l){return l===void 0&&(l=!1),{name:e(i,o),action:function(){return t.chartService.createChartFromCurrentRange(a)},_key:s,_enterprise:l}};return{name:e("chartRange","Chart Range"),_key:"chartRange",subMenu:[{name:e("columnChart","Column"),subMenu:[r("groupedColumn","Grouped&lrm;","groupedColumn","rangeGroupedColumn"),r("stackedColumn","Stacked&lrm;","stackedColumn","rangeStackedColumn"),r("normalizedColumn","100% Stacked&lrm;","normalizedColumn","rangeNormalizedColumn")],_key:"rangeColumnChart"},{name:e("barChart","Bar"),subMenu:[r("groupedBar","Grouped&lrm;","groupedBar","rangeGroupedBar"),r("stackedBar","Stacked&lrm;","stackedBar","rangeStackedBar"),r("normalizedBar","100% Stacked&lrm;","normalizedBar","rangeNormalizedBar")],_key:"rangeBarChart"},{name:e("pieChart","Pie"),subMenu:[r("pie","Pie&lrm;","pie","rangePie"),r("donut","Donut&lrm;","donut","rangeDonut")],_key:"rangePieChart"},r("line","Line&lrm;","line","rangeLineChart"),{name:e("xyChart","X Y (Scatter)"),subMenu:[r("scatter","Scatter&lrm;","scatter","rangeScatter"),r("bubble","Bubble&lrm;","bubble","rangeBubble")],_key:"rangeXYChart"},{name:e("areaChart","Area"),subMenu:[r("area","Area&lrm;","area","rangeArea"),r("stackedArea","Stacked&lrm;","stackedArea","rangeStackedArea"),r("normalizedArea","100% Stacked&lrm;","normalizedArea","rangeNormalizedArea")],_key:"rangeAreaChart"},{name:e("polarChart","Polar"),subMenu:[r("radarLine","Radar Line&lrm;","radarLine","rangeRadarLine"),r("radarArea","Radar Area&lrm;","radarArea","rangeRadarArea"),r("nightingale","Nightingale&lrm;","nightingale","rangeNightingale"),r("radialColumn","Radial Column&lrm;","radialColumn","rangeRadialColumn"),r("radialBar","Radial Bar&lrm;","radialBar","rangeRadialBar")],_key:"rangePolarChart",_enterprise:!0},{name:e("statisticalChart","Statistical"),subMenu:[r("boxPlot","Box Plot&lrm;","boxPlot","rangeBoxPlot",!0),r("histogramChart","Histogram&lrm;","histogram","rangeHistogram",!1),r("rangeBar","Range Bar&lrm;","rangeBar","rangeRangeBar",!0),r("rangeArea","Range Area&lrm;","rangeArea","rangeRangeArea",!0)],_key:"rangeStatisticalChart",_enterprise:!1},{name:e("hierarchicalChart","Hierarchical"),subMenu:[r("treemap","Treemap&lrm;","treemap","rangeTreemap"),r("sunburst","Sunburst&lrm;","sunburst","rangeSunburst")],_key:"rangeHierarchicalChart",_enterprise:!0},{name:e("specializedChart","Specialized"),subMenu:[r("heatmap","Heatmap&lrm;","heatmap","rangeHeatmap"),r("waterfall","Waterfall&lrm;","waterfall","rangeWaterfall")],_key:"rangeSpecializedChart",_enterprise:!0},{name:e("combinationChart","Combination"),subMenu:[r("columnLineCombo","Column & Line&lrm;","columnLineCombo","rangeColumnLineCombo"),r("AreaColumnCombo","Area & Column&lrm;","areaColumnCombo","rangeAreaColumnCombo")],_key:"rangeCombinationChart"}],icon:D.createIconNoSpan("chart",this.gridOptionsService,void 0)}},n.prototype.getConfigLookup=function(){return{columnGroup:{_key:"rangeColumnChart",column:"rangeGroupedColumn",stackedColumn:"rangeStackedColumn",normalizedColumn:"rangeNormalizedColumn"},barGroup:{_key:"rangeBarChart",bar:"rangeGroupedBar",stackedBar:"rangeStackedBar",normalizedBar:"rangeNormalizedBar"},pieGroup:{_key:"rangePieChart",pie:"rangePie",donut:"rangeDonut",doughnut:"rangeDonut"},lineGroup:{_key:"rangeLineChart",line:"rangeLineChart"},scatterGroup:{_key:"rangeXYChart",bubble:"rangeBubble",scatter:"rangeScatter"},areaGroup:{_key:"rangeAreaChart",area:"rangeArea",stackedArea:"rangeStackedArea",normalizedArea:"rangeNormalizedArea"},polarGroup:{_key:"rangePolarChart",radarLine:"rangeRadarLine",radarArea:"rangeRadarArea",nightingale:"rangeNightingale",radialColumn:"rangeRadialColumn",radialBar:"rangeRadialBar"},statisticalGroup:{_key:"rangeStatisticalChart",boxPlot:"rangeBoxPlot",histogram:"rangeHistogram",rangeBar:"rangeRangeBar",rangeArea:"rangeRangeArea"},hierarchicalGroup:{_key:"rangeHierarchicalChart",treemap:"rangeTreemap",sunburst:"rangeSunburst"},specializedGroup:{_key:"rangeSpecializedChart",heatmap:"rangeHeatmap",waterfall:"rangeWaterfall"},combinationGroup:{_key:"rangeCombinationChart",columnLineCombo:"rangeColumnLineCombo",areaColumnCombo:"rangeAreaColumnCombo",customCombo:null}}},n}(),w6e=function(){var n=function(t,e){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])},n(t,e)};return function(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");n(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}}(),Rx=function(n,t,e,r){var i=arguments.length,o=i<3?t:r===null?r=Object.getOwnPropertyDescriptor(t,e):r,a;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(n,t,e,r);else for(var s=n.length-1;s>=0;s--)(a=n[s])&&(o=(i<3?a(o):i>3?a(t,e,o):a(t,e))||o);return i>3&&o&&Object.defineProperty(t,e,o),o},_6e=function(n){w6e(t,n);function t(){return n!==null&&n.apply(this,arguments)||this}return t.prototype.createColumnSelectPanel=function(e,r,i,o){var a,s,l=e.createManagedBean(new AV),u=(s=(a=o??(r==null?void 0:r.getColDef().columnChooserParams))!==null&&a!==void 0?a:r==null?void 0:r.getColDef().columnsMenuParams)!==null&&s!==void 0?s:{},c=u.contractColumnSelection,d=u.suppressColumnExpandAll,p=u.suppressColumnFilter,h=u.suppressColumnSelectAll,f=u.suppressSyncLayoutWithGrid,v=u.columnLayout;return l.init(!!i,this.gridOptionsService.addGridCommonParams({suppressColumnMove:!1,suppressValues:!1,suppressPivots:!1,suppressRowGroups:!1,suppressPivotMode:!1,contractColumnSelection:!!c,suppressColumnExpandAll:!!d,suppressColumnFilter:!!p,suppressColumnSelectAll:!!h,suppressSyncLayoutWithGrid:!!v||!!f,onStateUpdated:function(){}}),"columnMenu"),v&&l.setColumnLayout(v),l},t.prototype.showColumnChooser=function(e){var r=this,i=e.column,o=e.chooserParams,a=e.eventSource;this.hideActiveColumnChooser();var s=this.createColumnSelectPanel(this,i,!0,o),l=this.localeService.getLocaleTextFunc(),u=this.columnModel.getAllDisplayedColumns().indexOf(i),c=i?this.focusService.getFocusedHeader():null;this.activeColumnChooserDialog=this.createBean(new zh({title:l("chooseColumns","Choose Columns"),component:s,width:300,height:300,resizable:!0,movable:!0,centered:!0,closable:!0,afterGuiAttached:function(){var d;(d=r.focusService.findNextFocusableElement(s.getGui()))===null||d===void 0||d.focus(),r.dispatchVisibleChangedEvent(!0,i)},closedCallback:function(d){var p=r.activeColumnChooser.getGui();r.destroyBean(r.activeColumnChooser),r.activeColumnChooser=void 0,r.activeColumnChooserDialog=void 0,r.dispatchVisibleChangedEvent(!1,i),i&&r.menuUtils.restoreFocusOnClose({column:i,headerPosition:c,columnIndex:u,eventSource:a},p,d,!0)}})),this.activeColumnChooser=s},t.prototype.hideActiveColumnChooser=function(){this.activeColumnChooserDialog&&this.destroyBean(this.activeColumnChooserDialog)},t.prototype.dispatchVisibleChangedEvent=function(e,r){var i={type:P.EVENT_COLUMN_MENU_VISIBLE_CHANGED,visible:e,switchingTab:!1,key:"columnChooser",column:r??null};this.eventService.dispatchEvent(i)},Rx([E("focusService")],t.prototype,"focusService",void 0),Rx([E("menuUtils")],t.prototype,"menuUtils",void 0),Rx([E("columnModel")],t.prototype,"columnModel",void 0),t=Rx([ae("columnChooserFactory")],t),t}(q),x6e=function(){var n=function(t,e){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])},n(t,e)};return function(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");n(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}}(),Kf=function(n,t,e,r){var i=arguments.length,o=i<3?t:r===null?r=Object.getOwnPropertyDescriptor(t,e):r,a;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(n,t,e,r);else for(var s=n.length-1;s>=0;s--)(a=n[s])&&(o=(i<3?a(o):i>3?a(t,e,o):a(t,e))||o);return i>3&&o&&Object.defineProperty(t,e,o),o},E6e=function(n){x6e(t,n);function t(){return n!==null&&n.apply(this,arguments)||this}e=t,t.prototype.createMenu=function(r,i,o){var a=r.createManagedBean(new jw(0,{column:i??null,node:null,value:null})),s=this.getMenuItems(i),l=this.menuItemMapper.mapWithStockItems(s,i??null,o);return a.addMenuItems(l),a},t.prototype.getMenuItems=function(r){var i=this.getDefaultMenuOptions(r),o,a=r==null?void 0:r.getColDef().mainMenuItems;if(Array.isArray(a))o=a;else if(typeof a=="function")o=a(this.gridOptionsService.addGridCommonParams({column:r,defaultItems:i}));else{var s=this.gridOptionsService.getCallback("getMainMenuItems");s&&r?o=s({column:r,defaultItems:i}):o=i}return D.removeRepeatsFromArray(o,e.MENU_ITEM_SEPARATOR),o},t.prototype.getDefaultMenuOptions=function(r){var i=[],o=this.menuService.isLegacyMenuEnabled();if(!r)return o||i.push("columnChooser"),i.push("resetColumns"),i;var a=!r.getColDef().lockPinned,s=this.columnModel.getRowGroupColumns().length,l=s>0,u=r.isAllowValue(),c=r.isAllowRowGroup(),d=r.isPrimary(),p=this.columnModel.isPivotMode(),h=this.rowModel.getType()==="clientSide",f=this.gridOptionsService.get("treeData"),v=d&&l&&u||!d;if(!o&&r.isSortable()){var g=r.getSort();g!=="asc"&&i.push("sortAscending"),g!=="desc"&&i.push("sortDescending"),g&&i.push("sortUnSort"),i.push(e.MENU_ITEM_SEPARATOR)}this.menuService.isFilterMenuItemEnabled(r)&&(i.push("columnFilter"),i.push(e.MENU_ITEM_SEPARATOR)),a&&i.push("pinSubMenu"),v&&i.push("valueAggSubMenu"),(a||v)&&i.push(e.MENU_ITEM_SEPARATOR),i.push("autoSizeThis"),i.push("autoSizeAll"),i.push(e.MENU_ITEM_SEPARATOR);var y=r.getColDef().showRowGroup;if(y)i.push("rowUnGroup");else if(c&&r.isPrimary())if(r.isRowGroupActive()){var m=this.columnModel.isColumnGroupingLocked(r);m||i.push("rowUnGroup")}else i.push("rowGroup");i.push(e.MENU_ITEM_SEPARATOR),o||i.push("columnChooser"),i.push("resetColumns");var C=h&&(f||s>(p?1:0));return C&&(i.push("expandAll"),i.push("contractAll")),i};var e;return t.MENU_ITEM_SEPARATOR="separator",Kf([E("menuItemMapper")],t.prototype,"menuItemMapper",void 0),Kf([E("columnModel")],t.prototype,"columnModel",void 0),Kf([E("rowModel")],t.prototype,"rowModel",void 0),Kf([E("filterManager")],t.prototype,"filterManager",void 0),Kf([E("menuService")],t.prototype,"menuService",void 0),t=e=Kf([ae("columnMenuFactory")],t),t}(q),b6e=function(){var n=function(t,e){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])},n(t,e)};return function(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");n(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}}(),Tx=function(n,t,e,r){var i=arguments.length,o=i<3?t:r===null?r=Object.getOwnPropertyDescriptor(t,e):r,a;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(n,t,e,r);else for(var s=n.length-1;s>=0;s--)(a=n[s])&&(o=(i<3?a(o):i>3?a(t,e,o):a(t,e))||o);return i>3&&o&&Object.defineProperty(t,e,o),o},O6e=function(n){b6e(t,n);function t(){return n!==null&&n.apply(this,arguments)||this}return t.prototype.restoreFocusOnClose=function(e,r,i,o){var a=e.eventSource,s=i instanceof KeyboardEvent;if(!(!o&&!s||!a)){var l=this.gridOptionsService.getDocument();!r.contains(l.activeElement)&&l.activeElement!==l.body||this.focusHeaderCell(e)}},t.prototype.closePopupAndRestoreFocusOnSelect=function(e,r,i){var o;i&&i.event&&i.event instanceof KeyboardEvent&&(o=i.event),e(o&&{keyboardEvent:o});var a=this.focusService.getFocusedCell(),s=this.gridOptionsService.getDocument();if(s.activeElement===s.body)if(a){var l=a.rowIndex,u=a.rowPinned,c=a.column;this.focusService.setFocusedCell({rowIndex:l,column:c,rowPinned:u,forceBrowserFocus:!0,preventScrollOnBrowserFocus:!0})}else this.focusHeaderCell(r)},t.prototype.onContextMenu=function(e,r,i){if(!(!this.gridOptionsService.get("allowContextMenuWithControlKey")&&e&&(e.ctrlKey||e.metaKey))&&(e&&this.blockMiddleClickScrollsIfNeeded(e),!this.gridOptionsService.get("suppressContextMenu"))){var o=e??r.touches[0];if(i(o)){var a=e??r;a.preventDefault()}}},t.prototype.focusHeaderCell=function(e){var r=e.column,i=e.columnIndex,o=e.headerPosition,a=e.eventSource,s=this.columnModel.getAllDisplayedColumns().some(function(d){return d===r});if(s&&a&&D.isVisible(a)){var l=this.focusService.findTabbableParent(a);l&&(r&&this.headerNavigationService.scrollToColumn(r),l.focus())}else if(o&&i!==-1){var u=this.columnModel.getAllDisplayedColumns(),c=u[i]||D.last(u);c&&this.focusService.focusHeaderPosition({headerPosition:{headerRowIndex:o.headerRowIndex,column:c}})}},t.prototype.blockMiddleClickScrollsIfNeeded=function(e){var r=this.gridOptionsService,i=e.which;r.get("suppressMiddleClickScrolls")&&i===2&&e.preventDefault()},Tx([E("focusService")],t.prototype,"focusService",void 0),Tx([E("headerNavigationService")],t.prototype,"headerNavigationService",void 0),Tx([E("columnModel")],t.prototype,"columnModel",void 0),t=Tx([ae("menuUtils")],t),t}(q),R6e={version:v6e,moduleName:fe.MenuModule,beans:[l6e,d6e,f6e,m6e,_6e,E6e,O6e],dependantModules:[In]},T6e=function(){var n=function(t,e){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])},n(t,e)};return function(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");n(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}}(),Tv=function(){return Tv=Object.assign||function(n){for(var t,e=1,r=arguments.length;e<r;e++){t=arguments[e];for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(n[i]=t[i])}return n},Tv.apply(this,arguments)},bM=function(n,t,e,r){var i=arguments.length,o=i<3?t:r===null?r=Object.getOwnPropertyDescriptor(t,e):r,a;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(n,t,e,r);else for(var s=n.length-1;s>=0;s--)(a=n[s])&&(o=(i<3?a(o):i>3?a(t,e,o):a(t,e))||o);return i>3&&o&&Object.defineProperty(t,e,o),o},n1=function(n){T6e(t,n);function t(){var e=n.call(this,'<div class="ag-multi-filter ag-menu-list-compact"></div>')||this;return e.filterDefs=[],e.filters=[],e.guiDestroyFuncs=[],e.filterGuis=[],e.activeFilterIndices=[],e.lastActivatedMenuItem=null,e.afterFiltersReadyFuncs=[],e}return t.prototype.postConstruct=function(){var e=this;this.initialiseTabGuard({onFocusIn:function(r){return e.onFocusIn(r)}})},t.getFilterDefs=function(e){var r=e.filters;return r&&r.length>0?r:[{filter:"agTextColumnFilter"},{filter:"agSetColumnFilter"}]},t.prototype.init=function(e){var r=this;this.params=e,this.filterDefs=t.getFilterDefs(e);var i=e.column,o=e.filterChangedCallback;this.column=i,this.filterChangedCallback=o;var a=[];return this.filterDefs.forEach(function(s,l){var u=r.createFilter(s,l);u!=null&&a.push(u)}),new Qe(function(s){Qe.all(a).then(function(l){r.filters=l,r.refreshGui("columnMenu").then(function(){s()})})}).then(function(){r.afterFiltersReadyFuncs.forEach(function(s){return s()}),r.afterFiltersReadyFuncs.length=0})},t.prototype.refreshGui=function(e){var r=this;return e===this.lastOpenedInContainer?Qe.resolve():(this.removeAllChildrenExceptTabGuards(),this.destroyChildren(),Qe.all(this.filters.map(function(i,o){var a=r.filterDefs[o],s=r.getFilterTitle(i,a),l;if(a.display==="subMenu"&&e!=="toolPanel")l=r.insertFilterMenu(i,s).then(function(c){return c.getGui()});else if(a.display==="subMenu"||a.display==="accordion"){var u=r.insertFilterGroup(i,s);l=Qe.resolve(u.getGui())}else l=Qe.resolve(i.getGui());return l})).then(function(i){i.forEach(function(o,a){a>0&&r.appendChild(D.loadTemplate('<div class="ag-filter-separator"></div>')),r.appendChild(o)}),r.filterGuis=i,r.lastOpenedInContainer=e}))},t.prototype.getFilterTitle=function(e,r){return r.title!=null?r.title:e instanceof Vd?e.getFilterTitle():"Filter"},t.prototype.destroyChildren=function(){this.guiDestroyFuncs.forEach(function(e){return e()}),this.guiDestroyFuncs.length=0,this.filterGuis.length=0},t.prototype.insertFilterMenu=function(e,r){var i=this,o=this.createBean(new ka);return o.init({menuItemDef:{name:r,subMenu:[],cssClasses:["ag-multi-filter-menu-item"],menuItem:_G,menuItemParams:{cssClassPrefix:"ag-compact-menu-option",isCompact:!0}},level:0,isAnotherSubMenuOpen:function(){return!1},childComponent:e,contextParams:{column:null,node:null,value:null}}).then(function(){o.setParentComponent(i),i.guiDestroyFuncs.push(function(){return i.destroyBean(o)}),i.addManagedListener(o,ka.EVENT_MENU_ITEM_ACTIVATED,function(s){i.lastActivatedMenuItem&&i.lastActivatedMenuItem!==s.menuItem&&i.lastActivatedMenuItem.deactivate(),i.lastActivatedMenuItem=s.menuItem});var a=o.getGui();return o.addManagedListener(a,"keydown",function(s){var l=s.key;switch(l){case U.UP:case U.RIGHT:case U.DOWN:case U.LEFT:s.preventDefault(),l===U.RIGHT&&o.openSubMenu(!0);break}}),o.addManagedListener(a,"focusin",function(){return o.activate()}),o.addManagedListener(a,"focusout",function(){!o.isSubMenuOpen()&&!o.isSubMenuOpening()&&o.deactivate()}),o})},t.prototype.insertFilterGroup=function(e,r){var i=this,o=this.createBean(new Na({title:r,cssIdentifier:"multi-filter"}));return this.guiDestroyFuncs.push(function(){return i.destroyBean(o)}),o.addItem(e.getGui()),o.toggleGroupExpand(!1),e.afterGuiAttached&&o.addManagedListener(o,Na.EVENT_EXPANDED,function(){return e.afterGuiAttached({container:i.lastOpenedInContainer,suppressFocus:!0,hidePopup:i.hidePopup})}),o},t.prototype.isFilterActive=function(){return this.filters.some(function(e){return e.isFilterActive()})},t.prototype.getLastActiveFilterIndex=function(){return this.activeFilterIndices.length>0?this.activeFilterIndices[this.activeFilterIndices.length-1]:null},t.prototype.doesFilterPass=function(e,r){var i=!0;return this.filters.forEach(function(o){!i||o===r||!o.isFilterActive()||(i=o.doesFilterPass(e))}),i},t.prototype.getFilterType=function(){return"multi"},t.prototype.getModelFromUi=function(){var e={filterType:this.getFilterType(),filterModels:this.filters.map(function(r){var i=r;return typeof i.getModelFromUi=="function"?i.getModelFromUi():null})};return e},t.prototype.getModel=function(){if(!this.isFilterActive())return null;var e={filterType:this.getFilterType(),filterModels:this.filters.map(function(r){return r.isFilterActive()?r.getModel():null})};return e},t.prototype.setModel=function(e){var r=this,i=function(a,s){return new Qe(function(l){var u=a.setModel(s);u?u.then(function(){return l()}):l()})},o=[];return e==null?o=this.filters.map(function(a,s){var l=i(a,null).then(function(){r.updateActiveList(s)});return l}):this.filters.forEach(function(a,s){var l=e.filterModels.length>s?e.filterModels[s]:null,u=i(a,l).then(function(){r.updateActiveList(s)});o.push(u)}),Qe.all(o).then(function(){})},t.prototype.applyModel=function(e){e===void 0&&(e="api");var r=!1;return this.filters.forEach(function(i){i instanceof Vd&&(r=i.applyModel(e)||r)}),r},t.prototype.getChildFilterInstance=function(e){return this.filters[e]},t.prototype.afterGuiAttached=function(e){var r=this,i;e?(this.hidePopup=e.hidePopup,i=this.refreshGui(e.container)):(this.hidePopup=void 0,i=Qe.resolve()),i.then(function(){var o=r.filterDefs,a=!1;o&&D.forEachReverse(o,function(u,c){var d,p=c===0,h=!p||u.display!=="inline",f=Tv(Tv({},e??{}),{suppressFocus:h}),v=(d=r.filters)===null||d===void 0?void 0:d[c];if(v&&(r.executeFunctionIfExistsOnFilter(v,"afterGuiAttached",f),p&&(a=!0)),p&&h){var g=r.filterGuis[c];g&&(g.focus(),a=!0)}});var s=r.gridOptionsService.getDocument(),l=s.activeElement;!a&&(l===s.body||r.getGui().contains(l))&&r.forceFocusOutOfContainer(!0)})},t.prototype.afterGuiDetached=function(){this.executeFunctionIfExists("afterGuiDetached")},t.prototype.onAnyFilterChanged=function(){this.executeFunctionIfExists("onAnyFilterChanged")},t.prototype.onNewRowsLoaded=function(){this.executeFunctionIfExists("onNewRowsLoaded")},t.prototype.destroy=function(){var e=this;this.filters.forEach(function(r){r.setModel(null),e.destroyBean(r)}),this.filters.length=0,this.destroyChildren(),this.hidePopup=void 0,n.prototype.destroy.call(this)},t.prototype.executeFunctionIfExists=function(e){for(var r=this,i=[],o=1;o<arguments.length;o++)i[o-1]=arguments[o];D.forEachReverse(this.filters,function(a){r.executeFunctionIfExistsOnFilter(a,e,i)})},t.prototype.executeFunctionIfExistsOnFilter=function(e,r){for(var i=[],o=2;o<arguments.length;o++)i[o-2]=arguments[o];var a=e[r];typeof a=="function"&&a.apply(e,i)},t.prototype.createFilter=function(e,r){var i=this,o=this.params,a=o.filterModifiedCallback,s=o.doesRowPassOtherFilter,l,u=Tv(Tv({},this.filterManager.createFilterParams(this.column,this.column.getColDef())),{filterModifiedCallback:a,filterChangedCallback:function(p){i.executeWhenAllFiltersReady(function(){return i.filterChanged(r,p)})},doesRowPassOtherFilter:function(p){return s(p)&&i.doesFilterPass({node:p,data:p.data},l)}}),c=this.userComponentFactory.getFilterDetails(e,u,"agTextColumnFilter");if(!c)return null;var d=c.newAgStackInstance();return d&&d.then(function(p){return l=p}),d},t.prototype.executeWhenAllFiltersReady=function(e){this.filters&&this.filters.length>0?e():this.afterFiltersReadyFuncs.push(e)},t.prototype.updateActiveList=function(e){var r=this.filters[e];D.removeFromArray(this.activeFilterIndices,e),r.isFilterActive()&&this.activeFilterIndices.push(e)},t.prototype.filterChanged=function(e,r){this.updateActiveList(e),this.filterChangedCallback(r);var i=this.filters[e];this.filters.forEach(function(o){o!==i&&typeof o.onAnyFilterChanged=="function"&&o.onAnyFilterChanged()})},t.prototype.onFocusIn=function(e){this.lastActivatedMenuItem!=null&&!this.lastActivatedMenuItem.getGui().contains(e.target)&&(this.lastActivatedMenuItem.deactivate(),this.lastActivatedMenuItem=null)},t.prototype.getModelAsString=function(e){var r,i,o,a;if(!this.filters||!(!((r=e==null?void 0:e.filterModels)===null||r===void 0)&&r.length))return"";var s=(i=this.getLastActiveFilterIndex())!==null&&i!==void 0?i:0,l=this.filters[s];return(a=(o=l.getModelAsString)===null||o===void 0?void 0:o.call(l,e.filterModels[s]))!==null&&a!==void 0?a:""},bM([E("filterManager")],t.prototype,"filterManager",void 0),bM([E("userComponentFactory")],t.prototype,"userComponentFactory",void 0),bM([z],t.prototype,"postConstruct",null),t}(pc),P6e=function(){var n=function(t,e){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])},n(t,e)};return function(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");n(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}}(),XO=function(){return XO=Object.assign||function(n){for(var t,e=1,r=arguments.length;e<r;e++){t=arguments[e];for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(n[i]=t[i])}return n},XO.apply(this,arguments)},R5=function(n,t,e,r){var i=arguments.length,o=i<3?t:r===null?r=Object.getOwnPropertyDescriptor(t,e):r,a;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(n,t,e,r);else for(var s=n.length-1;s>=0;s--)(a=n[s])&&(o=(i<3?a(o):i>3?a(t,e,o):a(t,e))||o);return i>3&&o&&Object.defineProperty(t,e,o),o},A6e=function(n){P6e(t,n);function t(){var e=n.call(this,'<div class="ag-multi-floating-filter ag-floating-filter-input"></div>')||this;return e.floatingFilters=[],e.compDetailsList=[],e}return t.prototype.init=function(e){this.params=e;var r=this.getCompDetailsList(e).compDetailsList;return this.setParams(r)},t.prototype.setParams=function(e){var r=this,i=[];return e.forEach(function(o){var a=o==null?void 0:o.newAgStackInstance();a!=null&&(r.compDetailsList.push(o),i.push(a))}),Qe.all(i).then(function(o){o.forEach(function(a,s){r.floatingFilters.push(a);var l=a.getGui();r.appendChild(l),s>0&&D.setDisplayed(l,!1)})})},t.prototype.onParamsUpdated=function(e){this.refresh(e)},t.prototype.refresh=function(e){var r=this;this.params=e;var i=this.getCompDetailsList(e),o=i.compDetailsList,a=i.floatingFilterParamsList,s=o.length===this.compDetailsList.length&&o.every(function(l,u){return!r.filterManager.areFilterCompsDifferent(r.compDetailsList[u],l)});s?a.forEach(function(l,u){var c,d=r.floatingFilters[u],p=!1;if(d.refresh){var h=d.refresh(l);h!==null&&(p=!0)}p||(c=d.onParamsUpdated)===null||c===void 0||c.call(d,l)}):(D.clearElement(this.getGui()),this.destroyBeans(this.floatingFilters),this.floatingFilters=[],this.compDetailsList=[],this.setParams(o))},t.prototype.getCompDetailsList=function(e){var r=this,i=[],o=[],a=e.filterParams;return n1.getFilterDefs(a).forEach(function(s,l){var u=XO(XO({},e),{parentFilterInstance:function(d){r.parentMultiFilterInstance(function(p){var h=p.getChildFilterInstance(l);h!=null&&d(h)})}});D.mergeDeep(u.filterParams,s.filterParams);var c=r.getCompDetails(s,u);c&&(i.push(c),o.push(u))}),{compDetailsList:i,floatingFilterParamsList:o}},t.prototype.onParentModelChanged=function(e,r){var i=this;r&&r.afterFloatingFilter||this.parentMultiFilterInstance(function(o){if(e==null)i.floatingFilters.forEach(function(s,l){s.onParentModelChanged(null,r),D.setDisplayed(s.getGui(),l===0)});else{var a=o.getLastActiveFilterIndex();i.floatingFilters.forEach(function(s,l){var u=e.filterModels.length>l?e.filterModels[l]:null;s.onParentModelChanged(u,r);var c=a==null?l===0:l===a;D.setDisplayed(s.getGui(),c)})}})},t.prototype.destroy=function(){this.destroyBeans(this.floatingFilters),this.floatingFilters.length=0,n.prototype.destroy.call(this)},t.prototype.getCompDetails=function(e,r){var i=this,o,a=(o=this.userComponentFactory.getDefaultFloatingFilterType(e,function(){return i.filterManager.getDefaultFloatingFilter(i.params.column)}))!==null&&o!==void 0?o:"agReadOnlyFloatingFilter";return this.userComponentFactory.getFloatingFilterCompDetails(e,r,a)},t.prototype.parentMultiFilterInstance=function(e){this.params.parentFilterInstance(function(r){if(!(r instanceof n1))throw new Error("AG Grid - MultiFloatingFilterComp expects MultiFilter as its parent");e(r)})},R5([E("userComponentFactory")],t.prototype,"userComponentFactory",void 0),R5([E("filterManager")],t.prototype,"filterManager",void 0),t}(de),D6e="31.1.1",M6e={version:D6e,moduleName:fe.MultiFilterModule,beans:[],userComponents:[{componentName:"agMultiColumnFilter",componentClass:n1},{componentName:"agMultiColumnFloatingFilter",componentClass:A6e}],dependantModules:[In]},F6e=function(){var n=function(t,e){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])},n(t,e)};return function(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");n(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}}(),T5=function(n){F6e(t,n);function t(){return n.call(this,'<div class="ag-cell-edit-wrapper"></div>')||this}return t.prototype.init=function(e){var r=this;this.params=e;var i=e.cellStartedEdit,o=e.cellHeight,a=e.values;D.missing(a)&&console.warn("AG Grid: agRichSelectCellEditor requires cellEditorParams.values to be set");var s=this.buildRichSelectParams(),l=s.params,u=s.valuesPromise;this.richSelect=this.createManagedBean(new Hw(l)),this.richSelect.addCssClass("ag-cell-editor"),this.appendChild(this.richSelect),u&&u.then(function(c){r.richSelect.setValueList({valueList:c,refresh:!0});var d=r.getSearchStringCallback(c);d&&r.richSelect.setSearchStringCreator(d)}),this.addManagedListener(this.richSelect,P.EVENT_FIELD_PICKER_VALUE_SELECTED,this.onEditorPickerValueSelected.bind(this)),this.addManagedListener(this.richSelect.getGui(),"focusout",this.onEditorFocusOut.bind(this)),this.focusAfterAttached=i,D.exists(o)&&this.richSelect.setRowHeight(o)},t.prototype.onEditorPickerValueSelected=function(e){this.params.stopEditing(!e.fromEnterKey)},t.prototype.onEditorFocusOut=function(e){this.richSelect.getGui().contains(e.relatedTarget)||this.params.stopEditing(!0)},t.prototype.buildRichSelectParams=function(){var e=this.params,r=e.cellRenderer,i=e.value,o=e.values,a=e.formatValue,s=e.searchDebounceDelay,l=e.valueListGap,u=e.valueListMaxHeight,c=e.valueListMaxWidth,d=e.allowTyping,p=e.filterList,h=e.searchType,f=e.highlightMatch,v=e.valuePlaceholder,g=e.eventKey,y={value:i,cellRenderer:r,searchDebounceDelay:s,valueFormatter:a,pickerAriaLabelKey:"ariaLabelRichSelectField",pickerAriaLabelValue:"Rich Select Field",pickerType:"virtual-list",pickerGap:l,allowTyping:d,filterList:p,searchType:h,highlightMatch:f,maxPickerHeight:u,maxPickerWidth:c,placeholder:v,initialInputValue:(g==null?void 0:g.length)===1?g:void 0},m,C;return typeof o=="function"?m=o(this.params):m=o??[],Array.isArray(m)?(y.valueList=m,y.searchStringCreator=this.getSearchStringCallback(m)):C=m,{params:y,valuesPromise:C}},t.prototype.getSearchStringCallback=function(e){var r=this,i=this.params.colDef;if(!(typeof e[0]!="object"||!i.keyCreator))return function(o){return o.map(function(a){var s=r.gridOptionsService.addGridCommonParams({value:a,colDef:r.params.colDef,column:r.params.column,node:r.params.node,data:r.params.data});return i.keyCreator(s)})}},t.prototype.afterGuiAttached=function(){var e=this,r=this,i=r.focusAfterAttached,o=r.params;setTimeout(function(){if(e.isAlive()){if(i){var a=e.richSelect.getFocusableElement();a.focus();var s=e.params,l=s.allowTyping,u=s.eventKey;l&&(!u||u.length!==1)&&a.select()}e.richSelect.showPicker();var c=o.eventKey;c&&(c==null?void 0:c.length)===1&&e.richSelect.searchTextFromString(c)}})},t.prototype.getValue=function(){return this.richSelect.getValue()},t.prototype.isPopup=function(){return!1},t}(dc),L6e="31.1.1",I6e={version:L6e,moduleName:fe.RichSelectModule,beans:[],userComponents:[{componentName:"agRichSelect",componentClass:T5},{componentName:"agRichSelectCellEditor",componentClass:T5}],dependantModules:[In]},N6e=function(){var n=function(t,e){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])},n(t,e)};return function(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");n(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}}(),Ao=function(n,t,e,r){var i=arguments.length,o=i<3?t:r===null?r=Object.getOwnPropertyDescriptor(t,e):r,a;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(n,t,e,r);else for(var s=n.length-1;s>=0;s--)(a=n[s])&&(o=(i<3?a(o):i>3?a(t,e,o):a(t,e))||o);return i>3&&o&&Object.defineProperty(t,e,o),o},i1=function(n){N6e(t,n);function t(e,r,i){var o=n.call(this,0)||this;return o.nodeIdSequence=new Kn,o.info={},o.ssrmParams=e,o.parentRowNode=i,o.level=i.level+1,o.groupLevel=e.rowGroupCols?o.level<e.rowGroupCols.length:void 0,o.leafGroup=e.rowGroupCols?o.level===e.rowGroupCols.length-1:!1,o}return t.prototype.postConstruct=function(){var e=this;if(this.usingTreeData=this.gridOptionsService.get("treeData"),this.nodeIdPrefix=this.blockUtils.createNodeIdPrefix(this.parentRowNode),!this.usingTreeData&&this.groupLevel){var r=this.ssrmParams.rowGroupCols[this.level];this.groupField=r.field,this.rowGroupColumn=this.columnModel.getRowGroupColumns()[this.level]}var i=1,o=this.parentRowNode.level===-1,a=this.storeUtils.getServerSideInitialRowCount();o&&a!=null&&(i=a),this.initialiseRowNodes(i),this.rowNodeBlockLoader.addBlock(this),this.addDestroyFunc(function(){return e.rowNodeBlockLoader.removeBlock(e)}),this.postSortFunc=this.gridOptionsService.getCallback("postSortRows"),a!=null&&this.eventService.dispatchEventOnce({type:P.EVENT_ROW_COUNT_READY})},t.prototype.destroyRowNodes=function(){this.blockUtils.destroyRowNodes(this.allRowNodes),this.allRowNodes=[],this.nodesAfterSort=[],this.nodesAfterFilter=[],this.allNodesMap={}},t.prototype.initialiseRowNodes=function(e,r){r===void 0&&(r=!1),this.destroyRowNodes();for(var i=0;i<e;i++){var o=this.blockUtils.createRowNode({field:this.groupField,group:this.groupLevel,leafGroup:this.leafGroup,level:this.level,parent:this.parentRowNode,rowGroupColumn:this.rowGroupColumn});r&&(o.failedLoad=!0),this.allRowNodes.push(o),this.nodesAfterFilter.push(o),this.nodesAfterSort.push(o)}},t.prototype.getBlockStateJson=function(){return{id:this.nodeIdPrefix?this.nodeIdPrefix:"",state:this.getState()}},t.prototype.loadFromDatasource=function(){this.storeUtils.loadFromDatasource({startRow:void 0,endRow:void 0,parentBlock:this,parentNode:this.parentRowNode,storeParams:this.ssrmParams,success:this.success.bind(this,this.getVersion()),fail:this.pageLoadFailed.bind(this,this.getVersion())})},t.prototype.getStartRow=function(){return 0},t.prototype.getEndRow=function(){return this.nodesAfterSort.length},t.prototype.createDataNode=function(e,r){var i=this.blockUtils.createRowNode({field:this.groupField,group:this.groupLevel,leafGroup:this.leafGroup,level:this.level,parent:this.parentRowNode,rowGroupColumn:this.rowGroupColumn});r!=null?D.insertIntoArray(this.allRowNodes,i,r):this.allRowNodes.push(i);var o=this.prefixId(this.nodeIdSequence.next());return this.blockUtils.setDataIntoRowNode(i,e,o,void 0),this.nodeManager.addRowNode(i),this.blockUtils.checkOpenByDefault(i),this.allNodesMap[i.id]=i,i},t.prototype.prefixId=function(e){return this.nodeIdPrefix?this.nodeIdPrefix+"-"+e:e.toString()},t.prototype.processServerFail=function(){this.initialiseRowNodes(1,!0),this.fireStoreUpdatedEvent(),this.flushAsyncTransactions()},t.prototype.processServerResult=function(e){if(this.isAlive()){var r=e.groupLevelInfo;r&&Object.assign(this.info,r),e.pivotResultFields&&this.serverSideRowModel.generateSecondaryColumns(e.pivotResultFields);var i=this.allRowNodes.length>0?this.allNodesMap:void 0;this.allRowNodes=[],this.nodesAfterSort=[],this.nodesAfterFilter=[],this.allNodesMap={},e.rowData||D.warnOnce('"params.data" is missing from Server-Side Row Model success() callback. Please use the "data" attribute. If no data is returned, set an empty list.'),this.createOrRecycleNodes(i,e.rowData),i&&this.blockUtils.destroyRowNodes(D.getAllValuesInObject(i)),this.level===0&&this.eventService.dispatchEventOnce({type:P.EVENT_ROW_COUNT_READY}),this.filterAndSortNodes(),this.fireStoreUpdatedEvent(),this.flushAsyncTransactions()}},t.prototype.createOrRecycleNodes=function(e,r){var i=this;if(r){var o=function(s){if(e){var l=i.gridOptionsService.getCallback("getRowId");if(l){var u=i.parentRowNode.getGroupKeys(),c=i.level,d=l({data:s,parentKeys:u.length>0?u:void 0,level:c}),p=e[d];if(p)return delete e[d],p}}},a=function(s,l){i.allNodesMap[s.id]=s,i.blockUtils.updateDataIntoRowNode(s,l),i.allRowNodes.push(s)};r.forEach(function(s){var l=o(s);l?a(l,s):i.createDataNode(s)})}},t.prototype.flushAsyncTransactions=function(){var e=this;window.setTimeout(function(){return e.transactionManager.flushAsyncTransactions()},0)},t.prototype.filterAndSortNodes=function(){this.filterRowNodes(),this.sortRowNodes()},t.prototype.sortRowNodes=function(){var e=this.storeUtils.isServerSideSortAllLevels()||this.storeUtils.isServerSideSortOnServer(),r=this.sortController.getSortOptions(),i=!r||r.length==0;if(e||i){this.nodesAfterSort=this.nodesAfterFilter;return}if(this.nodesAfterSort=this.rowNodeSorter.doFullSort(this.nodesAfterFilter,r),this.postSortFunc){var o={nodes:this.nodesAfterSort};this.postSortFunc(o)}},t.prototype.filterRowNodes=function(){var e=this,r=!this.storeUtils.isServerSideOnlyRefreshFilteredGroups()||this.storeUtils.isServerSideFilterOnServer(),i=this.groupLevel;if(r||i){this.nodesAfterFilter=this.allRowNodes;return}this.nodesAfterFilter=this.allRowNodes.filter(function(o){return e.filterManager.doesRowPassFilter({rowNode:o})})},t.prototype.clearDisplayIndexes=function(){var e=this;this.displayIndexStart=void 0,this.displayIndexEnd=void 0,this.allRowNodes.forEach(function(r){return e.blockUtils.clearDisplayIndex(r)})},t.prototype.getDisplayIndexEnd=function(){return this.displayIndexEnd},t.prototype.isDisplayIndexInStore=function(e){return this.getRowCount()===0?!1:e>=this.displayIndexStart&&e<this.displayIndexEnd},t.prototype.setDisplayIndexes=function(e,r){var i=this;this.displayIndexStart=e.peek(),this.topPx=r.value;var o={};this.nodesAfterSort.forEach(function(a){i.blockUtils.setDisplayIndex(a,e,r),o[a.id]=!0}),this.allRowNodes.forEach(function(a){o[a.id]||i.blockUtils.clearDisplayIndex(a)}),this.displayIndexEnd=e.peek(),this.heightPx=r.value-this.topPx},t.prototype.forEachStoreDeep=function(e,r){r===void 0&&(r=new Kn),e(this,r.next()),this.allRowNodes.forEach(function(i){var o=i.childStore;o&&o.forEachStoreDeep(e,r)})},t.prototype.forEachNodeDeep=function(e,r){r===void 0&&(r=new Kn),this.allRowNodes.forEach(function(i){e(i,r.next());var o=i.childStore;o&&o.forEachNodeDeep(e,r)})},t.prototype.forEachNodeDeepAfterFilterAndSort=function(e,r,i){r===void 0&&(r=new Kn),i===void 0&&(i=!1),this.nodesAfterSort.forEach(function(o){e(o,r.next());var a=o.childStore;a&&a.forEachNodeDeepAfterFilterAndSort(e,r,i)}),i&&this.parentRowNode.sibling&&e(this.parentRowNode.sibling,r.next())},t.prototype.getRowUsingDisplayIndex=function(e){if(this.isDisplayIndexInStore(e)){var r=this.blockUtils.binarySearchForDisplayIndex(e,this.nodesAfterSort);return r}},t.prototype.getRowBounds=function(e){for(var r=0;r<this.nodesAfterSort.length;r++){var i=this.nodesAfterSort[r],o=this.blockUtils.extractRowBounds(i,e);if(o)return o}return null},t.prototype.isPixelInRange=function(e){return e>=this.topPx&&e<this.topPx+this.heightPx},t.prototype.getRowIndexAtPixel=function(e){var r=this,i=e<=this.topPx;if(i){var o=this.nodesAfterSort[0];return o.rowIndex}var a=e>=this.topPx+this.heightPx;if(a){var s=this.nodesAfterSort[this.nodesAfterSort.length-1],l=s.rowTop+s.rowHeight;if(e>=l&&s.expanded){if(s.childStore&&s.childStore.getRowCount()>0)return s.childStore.getRowIndexAtPixel(e);if(s.detailNode)return s.detailNode.rowIndex}return s.rowIndex}var u=null;this.nodesAfterSort.forEach(function(d){var p=r.blockUtils.getIndexAtPixel(d,e);p!=null&&(u=p)});var c=u==null;return c?this.displayIndexEnd-1:u},t.prototype.getChildStore=function(e){var r=this;return this.storeUtils.getChildStore(e,this,function(i){var o=r.allRowNodes.find(function(a){return a.key==i});return o})},t.prototype.forEachChildStoreShallow=function(e){this.allRowNodes.forEach(function(r){var i=r.childStore;i&&e(i)})},t.prototype.refreshAfterFilter=function(e){var r=this.storeUtils.isServerSideFilterOnServer(),i=this.storeUtils.isServerRefreshNeeded(this.parentRowNode,this.ssrmParams.rowGroupCols,e),o=!this.storeUtils.isServerSideOnlyRefreshFilteredGroups();if(o||r&&i){this.refreshStore(!0),this.sortRowNodes();return}this.filterRowNodes(),this.sortRowNodes(),this.forEachChildStoreShallow(function(a){return a.refreshAfterFilter(e)})},t.prototype.refreshAfterSort=function(e){var r=this.storeUtils.isServerSideSortOnServer(),i=this.storeUtils.isServerRefreshNeeded(this.parentRowNode,this.ssrmParams.rowGroupCols,e),o=this.storeUtils.isServerSideSortAllLevels();if(o||r&&i){this.refreshStore(!0),this.filterRowNodes();return}this.filterRowNodes(),this.sortRowNodes(),this.forEachChildStoreShallow(function(a){return a.refreshAfterSort(e)})},t.prototype.applyTransaction=function(e){switch(this.getState()){case xl.STATE_FAILED:return{status:Wn.StoreLoadingFailed};case xl.STATE_LOADING:return{status:Wn.StoreLoading};case xl.STATE_WAITING_TO_LOAD:return{status:Wn.StoreWaitingToLoad}}var r=this.gridOptionsService.getCallback("isApplyServerSideTransaction");if(r){var i={transaction:e,parentNode:this.parentRowNode,groupLevelInfo:this.info},o=r(i);if(!o)return{status:Wn.Cancelled}}var a={status:Wn.Applied,remove:[],update:[],add:[]},s=[];return this.executeAdd(e,a),this.executeRemove(e,a,s),this.executeUpdate(e,a,s),this.filterAndSortNodes(),this.updateSelection(s),a},t.prototype.updateSelection=function(e){var r=e.length>0;if(r){this.selectionService.setNodesSelected({newValue:!1,nodes:e,suppressFinishActions:!0,clearSelection:!1,source:"rowDataChanged"});var i={type:P.EVENT_SELECTION_CHANGED,source:"rowDataChanged"};this.eventService.dispatchEvent(i)}},t.prototype.executeAdd=function(e,r){var i=this,o=e.add,a=e.addIndex;if(!D.missingOrEmpty(o)){var s=typeof a=="number"&&a>=0;s?o.reverse().forEach(function(l){var u=i.createDataNode(l,a);r.add.push(u)}):o.forEach(function(l){var u=i.createDataNode(l);r.add.push(u)})}},t.prototype.executeRemove=function(e,r,i){var o=this,a=e.remove;if(a!=null){var s={};a.forEach(function(l){var u=o.lookupRowNode(l);u&&(u.isSelected()&&i.push(u),u.clearRowTopAndRowIndex(),s[u.id]=!0,delete o.allNodesMap[u.id],r.remove.push(u),o.nodeManager.removeNode(u))}),this.allRowNodes=this.allRowNodes.filter(function(l){return!s[l.id]})}},t.prototype.executeUpdate=function(e,r,i){var o=this,a=e.update;a!=null&&a.forEach(function(s){var l=o.lookupRowNode(s);l&&(o.blockUtils.updateDataIntoRowNode(l,s),!l.selectable&&l.isSelected()&&i.push(l),r.update.push(l))})},t.prototype.lookupRowNode=function(e){var r=this.gridOptionsService.getCallback("getRowId"),i;if(r!=null){var o=this.level,a=this.parentRowNode.getGroupKeys(),s=r({data:e,parentKeys:a.length>0?a:void 0,level:o});if(i=this.allNodesMap[s],!i)return console.error("AG Grid: could not find row id=".concat(s,", data item was not found for this id")),null}else if(i=this.allRowNodes.find(function(l){return l.data===e}),!i)return console.error("AG Grid: could not find data item as object was not found",e),null;return i},t.prototype.addStoreStates=function(e){e.push({suppressInfiniteScroll:!0,route:this.parentRowNode.getGroupKeys(),rowCount:this.allRowNodes.length,info:this.info}),this.forEachChildStoreShallow(function(r){return r.addStoreStates(e)})},t.prototype.refreshStore=function(e){if(e){var r=this.nodesAfterSort?this.nodesAfterSort.length:1;this.initialiseRowNodes(r)}this.scheduleLoad(),this.fireStoreUpdatedEvent()},t.prototype.retryLoads=function(){this.getState()===xl.STATE_FAILED&&(this.initialiseRowNodes(1),this.scheduleLoad()),this.forEachChildStoreShallow(function(e){return e.retryLoads()})},t.prototype.scheduleLoad=function(){this.setStateWaitingToLoad(),this.rowNodeBlockLoader.checkBlockToLoad()},t.prototype.fireStoreUpdatedEvent=function(){var e={type:P.EVENT_STORE_UPDATED};this.eventService.dispatchEvent(e)},t.prototype.getRowCount=function(){return this.nodesAfterSort.length},t.prototype.getTopLevelRowDisplayedIndex=function(e){var r=this.nodesAfterSort[e];return r.rowIndex},t.prototype.isLastRowIndexKnown=function(){return this.getState()==xl.STATE_LOADED},t.prototype.getRowNodesInRange=function(e,r){var i=[],o=!1;D.missing(e)&&(o=!0),this.nodesAfterSort.forEach(function(s){var l=s===e||s===r;(o||l)&&i.push(s),l&&(o=!o)});var a=o;return a?[]:i},t.prototype.getStoreBounds=function(){return{topPx:this.topPx,heightPx:this.heightPx}},Ao([E("ssrmStoreUtils")],t.prototype,"storeUtils",void 0),Ao([E("ssrmBlockUtils")],t.prototype,"blockUtils",void 0),Ao([E("columnModel")],t.prototype,"columnModel",void 0),Ao([E("rowNodeBlockLoader")],t.prototype,"rowNodeBlockLoader",void 0),Ao([E("rowNodeSorter")],t.prototype,"rowNodeSorter",void 0),Ao([E("sortController")],t.prototype,"sortController",void 0),Ao([E("selectionService")],t.prototype,"selectionService",void 0),Ao([E("ssrmNodeManager")],t.prototype,"nodeManager",void 0),Ao([E("filterManager")],t.prototype,"filterManager",void 0),Ao([E("ssrmTransactionManager")],t.prototype,"transactionManager",void 0),Ao([E("rowModel")],t.prototype,"serverSideRowModel",void 0),Ao([z],t.prototype,"postConstruct",null),Ao([rr],t.prototype,"destroyRowNodes",null),t}(xl),k6e=function(){var n=function(t,e){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])},n(t,e)};return function(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");n(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}}(),OM=function(n,t,e,r){var i=arguments.length,o=i<3?t:r===null?r=Object.getOwnPropertyDescriptor(t,e):r,a;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(n,t,e,r);else for(var s=n.length-1;s>=0;s--)(a=n[s])&&(o=(i<3?a(o):i>3?a(t,e,o):a(t,e))||o);return i>3&&o&&Object.defineProperty(t,e,o),o},G6e=function(n,t){var e=typeof Symbol=="function"&&n[Symbol.iterator];if(!e)return n;var r=e.call(n),i,o=[],a;try{for(;(t===void 0||t-- >0)&&!(i=r.next()).done;)o.push(i.value)}catch(s){a={error:s}}finally{try{i&&!i.done&&(e=r.return)&&e.call(r)}finally{if(a)throw a.error}}return o},V6e=function(n){k6e(t,n);function t(e,r,i){var o=n.call(this)||this;return o.loadingNodes=new Set,o.checkForLoadQueued=!1,o.loaderTimeout=void 0,o.nextBlockToLoad=void 0,o.parentNode=r,o.cache=e,o.storeParams=i,o}return t.prototype.init=function(){var e=this;this.addManagedListener(this.rowNodeBlockLoader,FG.BLOCK_LOADED_EVENT,function(){return e.queueLoadAction()})},t.prototype.isRowLoading=function(e){return this.loadingNodes.has(e)},t.prototype.getBlockToLoad=function(){for(var e=this,r,i=this.api.getFirstDisplayedRowIndex(),o=this.api.getLastDisplayedRowIndex(),a=i;a<=o;a++){var s=this.cache.getNodeCachedByDisplayIndex(a);if(s){var l=this.cache.getNodes().getBy("node",s);if(l&&!this.isRowLoading(l.index)&&(s.__needsRefreshWhenVisible||s.stub&&!s.failedLoad))return this.getBlockStartIndexForIndex(l.index)}}var u=this.cache.getNodesToRefresh(),c=null,d=Number.MAX_SAFE_INTEGER;u.forEach(function(h){if(h.rowIndex==null){c=h;return}if(!e.isRowLoading(h.rowIndex)){var f=Math.abs(i-h.rowIndex),v=Math.abs(h.rowIndex-o);f<d&&(c=h,d=f),v<d&&(c=h,d=v)}});var p=(r=this.cache.getNodes().getBy("node",c))===null||r===void 0?void 0:r.index;return p==null?void 0:this.getBlockStartIndexForIndex(p)},t.prototype.reset=function(){this.loadingNodes.clear(),clearTimeout(this.loaderTimeout),this.loaderTimeout=void 0},t.prototype.executeLoad=function(e,r){var i=this,o,a=this.cache.getSsrmParams(),s={startRow:e,endRow:r,rowGroupCols:a.rowGroupCols,valueCols:a.valueCols,pivotCols:a.pivotCols,pivotMode:a.pivotMode,groupKeys:this.parentNode.getGroupKeys(),filterModel:a.filterModel,sortModel:a.sortModel},l=function(){for(var h=0;h<r-e;h++)i.loadingNodes.delete(e+h)},u=function(){for(var h=0;h<r-e;h++)i.loadingNodes.add(e+h)},c=function(h){i.rowNodeBlockLoader.loadComplete(),i.cache.onLoadSuccess(e,r-e,h),l(),i.queueLoadAction()},d=function(){i.rowNodeBlockLoader.loadComplete(),i.cache.onLoadFailed(e,r-e),l(),i.queueLoadAction()},p=this.gridOptionsService.addGridCommonParams({request:s,success:c,fail:d,parentNode:this.parentNode});u(),(o=this.cache.getSsrmParams().datasource)===null||o===void 0||o.getRows(p)},t.prototype.getNextBlockToLoad=function(){var e=this.getBlockToLoad();return e!=null?[String(e),e+this.getBlockSize()]:null},t.prototype.queueLoadCheck=function(){var e=this;this.checkForLoadQueued||(this.checkForLoadQueued=!0,window.queueMicrotask(function(){e.checkForLoadQueued=!1,e.queueLoadAction()}))},t.prototype.queueLoadAction=function(){var e=this,r=this.getNextBlockToLoad();if(!r){window.clearTimeout(this.loaderTimeout),this.loaderTimeout=void 0,this.nextBlockToLoad=void 0;return}if(!this.nextBlockToLoad||this.nextBlockToLoad[0]!==r[0]&&this.nextBlockToLoad[1]!==r[1]){this.nextBlockToLoad=r,window.clearTimeout(this.loaderTimeout);var i=G6e(this.nextBlockToLoad,2),o=i[0],a=i[1],s=Number(o);this.loaderTimeout=window.setTimeout(function(){e.cache.isAlive()&&(e.loaderTimeout=void 0,e.attemptLoad(s,a),e.nextBlockToLoad=void 0)},this.gridOptionsService.get("blockLoadDebounceMillis"))}},t.prototype.attemptLoad=function(e,r){var i=this.rowNodeBlockLoader.getAvailableLoadingCount();i!=null&&i===0||(this.rowNodeBlockLoader.registerLoads(1),this.executeLoad(e,r),this.queueLoadAction())},t.prototype.getBlockSize=function(){return this.storeParams.cacheBlockSize||t.DEFAULT_BLOCK_SIZE},t.prototype.getBlockStartIndexForIndex=function(e){var r=this.getBlockSize();return e-e%r},t.prototype.getBlockBoundsForIndex=function(e){var r=this.getBlockStartIndexForIndex(e),i=this.getBlockSize();return[r,r+i]},t.DEFAULT_BLOCK_SIZE=100,OM([E("gridApi")],t.prototype,"api",void 0),OM([E("rowNodeBlockLoader")],t.prototype,"rowNodeBlockLoader",void 0),OM([z],t.prototype,"init",null),t}(q),B6e=function(){function n(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];if(t.length<1)throw new Error("AG Grid: At least one index must be provided.");this.indexes=t,this.maps=new Map(this.indexes.map(function(r){return[r,new Map]}))}return n.prototype.getSize=function(){return this.maps.get(this.indexes[0]).size},n.prototype.getBy=function(t,e){var r=this.maps.get(t);if(!r)throw new Error("AG Grid: ".concat(String(t)," not found"));return r.get(e)},n.prototype.set=function(t){var e=this;this.indexes.forEach(function(r){var i=e.maps.get(r);if(!i)throw new Error("AG Grid: ".concat(String(r)," not found"));i.set(t[r],t)})},n.prototype.delete=function(t){var e=this;this.indexes.forEach(function(r){var i=e.maps.get(r);if(!i)throw new Error("AG Grid: ".concat(String(r)," not found"));i.delete(t[r])})},n.prototype.clear=function(){this.maps.forEach(function(t){return t.clear()})},n.prototype.getIterator=function(t){var e=this.maps.get(t);if(!e)throw new Error("AG Grid: ".concat(String(t)," not found"));return e.values()},n.prototype.forEach=function(t){for(var e=this.getIterator(this.indexes[0]),r;(r=e.next())&&!r.done;)t(r.value)},n.prototype.find=function(t){for(var e=this.getIterator(this.indexes[0]),r;(r=e.next())&&!r.done;)if(t(r.value))return r.value},n.prototype.filter=function(t){for(var e=this.getIterator(this.indexes[0]),r,i=[];(r=e.next())&&!r.done;)t(r.value)&&i.push(r.value);return i},n}(),H6e=function(){var n=function(t,e){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])},n(t,e)};return function(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");n(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}}(),mu=function(n,t,e,r){var i=arguments.length,o=i<3?t:r===null?r=Object.getOwnPropertyDescriptor(t,e):r,a;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(n,t,e,r);else for(var s=n.length-1;s>=0;s--)(a=n[s])&&(o=(i<3?a(o):i>3?a(t,e,o):a(t,e))||o);return i>3&&o&&Object.defineProperty(t,e,o),o},Ap=function(n,t){var e=typeof Symbol=="function"&&n[Symbol.iterator];if(!e)return n;var r=e.call(n),i,o=[],a;try{for(;(t===void 0||t-- >0)&&!(i=r.next()).done;)o.push(i.value)}catch(s){a={error:s}}finally{try{i&&!i.done&&(e=r.return)&&e.call(r)}finally{if(a)throw a.error}}return o},RM=function(n,t,e){if(e||arguments.length===2)for(var r=0,i=t.length,o;r<i;r++)(o||!(r in t))&&(o||(o=Array.prototype.slice.call(t,0,r)),o[r]=t[r]);return n.concat(o||Array.prototype.slice.call(t))},TM=function(n){H6e(t,n);function t(e,r,i){var o=n.call(this)||this;return o.live=!0,o.removedNodeCache=new Map,o.store=e,o.numberOfRows=r,o.isLastRowKnown=!1,o.storeParams=i,o}return t.prototype.init=function(){this.nodeMap=new B6e("index","id","node"),this.nodeDisplayIndexMap=new Map,this.nodesToRefresh=new Set,this.defaultNodeIdPrefix=this.blockUtils.createNodeIdPrefix(this.store.getParentNode()),this.rowLoader=this.createManagedBean(new V6e(this,this.store.getParentNode(),this.storeParams)),this.getRowIdFunc=this.gridOptionsService.getCallback("getRowId"),this.isMasterDetail=this.gridOptionsService.get("masterDetail")},t.prototype.destroyRowNodes=function(){var e=this;this.numberOfRows=0,this.nodeMap.forEach(function(r){return e.blockUtils.destroyRowNode(r.node)}),this.nodeMap.clear(),this.nodeDisplayIndexMap.clear(),this.nodesToRefresh.clear(),this.live=!1},t.prototype.getRowByDisplayIndex=function(e){var r,i,o,a;if(this.store.isDisplayIndexInStore(e)){var s=this.nodeDisplayIndexMap.get(e);if(s)return(s.stub||s.__needsRefreshWhenVisible)&&this.rowLoader.queueLoadCheck(),s;if(e===this.store.getDisplayIndexStart())return this.createStubNode(0,e);var l=this.nodeDisplayIndexMap.get(e-1);if(l){if(this.isMasterDetail&&l.master&&l.expanded)return l.detailNode;if(l.expanded&&(!((r=l.childStore)===null||r===void 0)&&r.isDisplayIndexInStore(e)))return(i=l.childStore)===null||i===void 0?void 0:i.getRowUsingDisplayIndex(e);var u=this.nodeMap.getBy("node",l);return this.createStubNode(u.index+1,e)}var c=this.getSurroundingNodesByDisplayIndex(e);if(c==null){var d=this.store.getRowCount()-(this.store.getDisplayIndexEnd()-e);return this.createStubNode(d,e)}var p=c.previousNode,h=c.nextNode;if(p&&p.node.expanded&&(!((o=p.node.childStore)===null||o===void 0)&&o.isDisplayIndexInStore(e)))return(a=p.node.childStore)===null||a===void 0?void 0:a.getRowUsingDisplayIndex(e);if(h){var f=h.node.rowIndex-e,v=h.index-f;return this.createStubNode(v,e)}var g=this.store.getRowCount()-(this.store.getDisplayIndexEnd()-e);return this.createStubNode(g,e)}},t.prototype.createStubNode=function(e,r){var i=this,o=this.store.getRowBounds(r),a=this.createRowAtIndex(e,null,function(s){s.setRowIndex(r),s.setRowTop(o.rowTop),i.nodeDisplayIndexMap.set(r,s)});return this.rowLoader.queueLoadCheck(),a},t.prototype.getRowByStoreIndex=function(e){var r;return(r=this.nodeMap.getBy("index",e))===null||r===void 0?void 0:r.node},t.prototype.skipDisplayIndexes=function(e,r,i){if(e!==0){var o=this.gridOptionsService.getRowHeightAsNumber();r.skip(e),i.value+=e*o}},t.prototype.setDisplayIndexes=function(e,r){this.nodeDisplayIndexMap.clear();var i={};this.nodeMap.forEach(function(d){i[d.index]=d.node});var o=-1;for(var a in i){var s=i[a],l=Number(a),u=l-1-o;this.skipDisplayIndexes(u,e,r),this.blockUtils.setDisplayIndex(s,e,r),this.nodeDisplayIndexMap.set(s.rowIndex,s),o=l}var c=this.numberOfRows-1-o;this.skipDisplayIndexes(c,e,r),this.purgeExcessRows()},t.prototype.getRowCount=function(){return this.numberOfRows},t.prototype.setRowCount=function(e,r){if(e<0)throw new Error("AG Grid: setRowCount can only accept a positive row count.");this.numberOfRows=e,r!=null&&(this.isLastRowKnown=r,r===!1&&(this.numberOfRows+=1)),this.fireStoreUpdatedEvent()},t.prototype.getNodes=function(){return this.nodeMap},t.prototype.getNodeCachedByDisplayIndex=function(e){var r;return(r=this.nodeDisplayIndexMap.get(e))!==null&&r!==void 0?r:null},t.prototype.getNodesToRefresh=function(){return this.nodesToRefresh},t.prototype.getSurroundingNodesByDisplayIndex=function(e){var r,i;return this.nodeMap.forEach(function(o){if(e>o.node.rowIndex){(i==null||i.node.rowIndex<o.node.rowIndex)&&(i=o);return}if(r==null||r.node.rowIndex>o.node.rowIndex){r=o;return}}),!i&&!r?null:{previousNode:i,nextNode:r}},t.prototype.getDisplayIndexFromStoreIndex=function(e){var r,i,o=this.nodeMap.getBy("index",e);if(o)return o.node.rowIndex;var a,s;if(this.nodeMap.forEach(function(c){if(e>c.index){(s==null||s.index<c.index)&&(s=c);return}if(a==null||a.index>c.index){a=c;return}}),!a)return this.store.getDisplayIndexEnd()-(this.numberOfRows-e);if(!s)return this.store.getDisplayIndexStart()+e;var l=e-s.index,u=(i=(r=s.node.childStore)===null||r===void 0?void 0:r.getDisplayIndexEnd())!==null&&i!==void 0?i:s.node.rowIndex;return u+l},t.prototype.createRowAtIndex=function(e,r,i){var o,a,s=this.nodeMap.getBy("index",e);if(s){var l=s.node;if(l.__needsRefreshWhenVisible=!1,this.doesNodeMatch(r,l))return this.blockUtils.updateDataIntoRowNode(l,r),this.nodesToRefresh.delete(l),l;if(this.getRowIdFunc==null&&l.hasChildren()&&l.expanded)return this.nodesToRefresh.delete(l),l;this.destroyRowAtIndex(e)}if(r&&this.getRowIdFunc!=null){var u=this.getRowId(r),c=u&&((o=this.removedNodeCache)===null||o===void 0?void 0:o.get(u));if(c)return(a=this.removedNodeCache)===null||a===void 0||a.delete(u),this.blockUtils.updateDataIntoRowNode(c,r),this.nodeMap.set({id:c.id,node:c,index:e}),c;var d=this.nodeMap.getBy("id",u);if(d){this.nodeMap.delete(d);var l=d.node,p=d.index;return this.blockUtils.updateDataIntoRowNode(l,r),this.nodeMap.set({id:l.id,node:l,index:e}),this.nodesToRefresh.delete(l),this.rowLoader.getBlockStartIndexForIndex(p)===this.rowLoader.getBlockStartIndexForIndex(e)||this.markBlockForVerify(p),l}}var h=this.blockUtils.createRowNode(this.store.getRowDetails());if(r!=null){var f=this.getPrefixedId(this.store.getIdSequence().next());this.blockUtils.setDataIntoRowNode(h,r,f,void 0),this.blockUtils.checkOpenByDefault(h),this.nodeManager.addRowNode(h)}return this.nodeMap.set({id:h.id,node:h,index:e}),i&&i(h),h},t.prototype.getBlockStates=function(){var e=this,r={},i={};this.nodeMap.forEach(function(l){var u,c=l.node,d=l.index,p=e.rowLoader.getBlockStartIndexForIndex(d);!c.stub&&!c.failedLoad&&(r[p]=((u=r[p])!==null&&u!==void 0?u:0)+1);var h="loaded";c.failedLoad?h="failed":e.rowLoader.isRowLoading(p)?h="loading":(e.nodesToRefresh.has(c)||c.stub)&&(h="needsLoading"),i[p]||(i[p]=new Set),i[p].add(h)});var o={loading:4,failed:3,needsLoading:2,loaded:1},a=this.blockUtils.createNodeIdPrefix(this.store.getParentNode()),s={};return Object.entries(i).forEach(function(l){var u,c=Ap(l,2),d=c[0],p=c[1],h=RM([],Ap(p),!1).sort(function(y,m){var C,S;return((C=o[y])!==null&&C!==void 0?C:0)-((S=o[m])!==null&&S!==void 0?S:0)}),f=h[0],v=Number(d)/e.rowLoader.getBlockSize(),g=a?"".concat(a,"-").concat(v):String(v);s[g]={blockNumber:v,startRow:Number(d),endRow:Number(d)+e.rowLoader.getBlockSize(),pageStatus:f,loadedRowCount:(u=r[d])!==null&&u!==void 0?u:0}}),s},t.prototype.destroyRowAtIndex=function(e){var r=this.nodeMap.getBy("index",e);r&&(this.nodeMap.delete(r),this.nodeDisplayIndexMap.delete(r.node.rowIndex),this.nodesToRefresh.size>0?this.removedNodeCache.set(r.node.id,r.node):this.blockUtils.destroyRowNode(r.node),this.nodesToRefresh.delete(r.node))},t.prototype.getSsrmParams=function(){return this.store.getSsrmParams()},t.prototype.getPrefixedId=function(e){return this.defaultNodeIdPrefix?this.defaultNodeIdPrefix+"-"+e:e.toString()},t.prototype.markBlockForVerify=function(e){var r=Ap(this.rowLoader.getBlockBoundsForIndex(e),2),i=r[0],o=r[1],a=this.nodeMap.filter(function(s){return s.index>=i&&s.index<o});a.forEach(function(s){var l=s.node;l.__needsRefreshWhenVisible=!0})},t.prototype.doesNodeMatch=function(e,r){if(r.stub)return!1;if(this.getRowIdFunc!=null){var i=this.getRowId(e);return r.id===i}return r.data===e},t.prototype.purgeStubsOutsideOfViewport=function(){var e=this,r=this.api.getFirstDisplayedRowIndex(),i=this.api.getLastDisplayedRowIndex(),o=this.rowLoader.getBlockStartIndexForIndex(r),a=Ap(this.rowLoader.getBlockBoundsForIndex(i),2);a[0];var s=a[1];this.nodeMap.forEach(function(l){e.rowLoader.isRowLoading(l.index)||l.node.failedLoad||l.node.stub&&(l.index<o||l.index>s)&&e.destroyRowAtIndex(l.index)})},t.prototype.getBlocksDistanceFromRow=function(e,r){var i=this,o={};return e.forEach(function(a){var s=a.node,l=a.index,u=Ap(i.rowLoader.getBlockBoundsForIndex(l),2),c=u[0],d=u[1];if(!(c in o)){var p=Math.abs(s.rowIndex-r),h,f=i.nodeMap.getBy("index",[d-1]);f&&(h=Math.abs(f.node.rowIndex-r));var v=h==null||p<h?p:h;o[c]=v}}),Object.entries(o)},t.prototype.purgeExcessRows=function(){var e=this,r;if(this.purgeStubsOutsideOfViewport(),!(this.store.getDisplayIndexEnd()==null||this.storeParams.maxBlocksInCache==null)){var i=this.api.getFirstDisplayedRowIndex(),o=this.api.getLastDisplayedRowIndex(),a=new Set,s=new Set;this.nodeMap.forEach(function(w){var _=w.index,x=w.node,b=e.rowLoader.getBlockStartIndexForIndex(_);a.add(b);var O=x.rowIndex>=i&&x.rowIndex<=o;O&&s.add(b)});var l=Math.max(s.size,(r=this.storeParams.maxBlocksInCache)!==null&&r!==void 0?r:0),u=a.size,c=u-l;if(!(c<=0)){var d=Number.MAX_SAFE_INTEGER,p=Number.MIN_SAFE_INTEGER;s.forEach(function(w){d>w&&(d=w),p<w&&(p=w)});var h=this.nodeMap.filter(function(w){var _=w.node,x=w.index,b=e.rowLoader.getBlockStartIndexForIndex(x),O=b>=d&&b<=p;return!O&&!e.isNodeCached(_)});if(h.length!==0){var f=i+(o-i)/2,v=this.getBlocksDistanceFromRow(h,f),g=this.rowLoader.getBlockSize();v.sort(function(w,_){return Math.sign(_[1]-w[1])});for(var y=0;y<Math.min(c,v.length);y++)for(var m=Number(v[y][0]),C=m;C<m+g;C++){var S=this.nodeMap.getBy("index",C);!S||this.isNodeCached(S.node)||this.destroyRowAtIndex(C)}}}}},t.prototype.isNodeFocused=function(e){var r=this.focusService.getFocusCellToUseAfterRefresh();if(!r||r.rowPinned!=null)return!1;var i=r.rowIndex===e.rowIndex;return i},t.prototype.isNodeCached=function(e){return e.isExpandable()&&e.expanded||this.isNodeFocused(e)},t.prototype.extractDuplicateIds=function(e){var r=this;if(this.getRowIdFunc==null)return[];var i=new Set,o=new Set;return e.forEach(function(a){var s=r.getRowId(a);if(i.has(s)){o.add(s);return}i.add(s)}),RM([],Ap(o),!1)},t.prototype.onLoadSuccess=function(e,r,i){var o=this;if(this.live){var a=i.groupLevelInfo;if(this.store.setStoreInfo(a),this.getRowIdFunc!=null){var s=this.extractDuplicateIds(i.rowData);if(s.length>0){var l=s.join(", ");console.warn("AG Grid: Unable to display rows as duplicate row ids (".concat(l,") were returned by the getRowId callback. Please modify the getRowId callback to provide unique ids.")),this.onLoadFailed(e,r);return}}i.pivotResultFields&&this.serverSideRowModel.generateSecondaryColumns(i.pivotResultFields);var u=this.nodesToRefresh.size>0;if(i.rowData.forEach(function(h,f){var v,g=e+f,y=o.nodeMap.getBy("index",g);if(!((v=y==null?void 0:y.node)===null||v===void 0)&&v.stub){o.createRowAtIndex(g,h);return}if(y&&o.doesNodeMatch(h,y.node)){o.blockUtils.updateDataIntoRowNode(y.node,h),o.nodesToRefresh.delete(y.node),y.node.__needsRefreshWhenVisible=!1;return}o.createRowAtIndex(g,h)}),i.rowCount!=null&&i.rowCount!==-1)this.numberOfRows=i.rowCount,this.isLastRowKnown=!0;else if(r>i.rowData.length)this.numberOfRows=e+i.rowData.length,this.isLastRowKnown=!0;else if(!this.isLastRowKnown){var c=e+i.rowData.length+1;c>this.numberOfRows&&(this.numberOfRows=c)}if(this.isLastRowKnown){var d=this.nodeMap.filter(function(h){return h.index>=o.numberOfRows});d.forEach(function(h){return o.destroyRowAtIndex(h.index)})}this.fireStoreUpdatedEvent();var p=this.nodesToRefresh.size===0;u&&p&&this.fireRefreshFinishedEvent()}},t.prototype.fireRefreshFinishedEvent=function(){var e=this,r=this.nodesToRefresh.size===0;r&&(this.removedNodeCache.forEach(function(i){e.blockUtils.destroyRowNode(i)}),this.removedNodeCache=new Map,this.store.fireRefreshFinishedEvent())},t.prototype.isStoreFullyLoaded=function(){var e=this.isLastRowKnown,r=this.nodeMap.getSize()===this.numberOfRows;if(!(!e||!r)&&!(this.nodesToRefresh.size>0)){var i=-1,o=this.nodeMap.find(function(a){return i+=1,!!(a.index!==i||a.node.__needsRefreshWhenVisible||a.node.stub)});return o==null}},t.prototype.isLastRowIndexKnown=function(){return this.isLastRowKnown},t.prototype.onLoadFailed=function(e,r){var i;if(this.live){for(var o=this.nodesToRefresh.size>0,a=e;a<e+r&&a<this.getRowCount();a++){var s=((i=this.nodeMap.getBy("index",a))!==null&&i!==void 0?i:{}).node;s&&this.nodesToRefresh.delete(s),(!s||!s.stub)&&(s&&!s.stub&&this.destroyRowAtIndex(a),s=this.createRowAtIndex(a)),s.__needsRefreshWhenVisible=!1,s.failedLoad=!0}var l=this.nodesToRefresh.size===0;o&&l&&this.fireRefreshFinishedEvent(),this.fireStoreUpdatedEvent()}},t.prototype.markNodesForRefresh=function(){var e=this;this.nodeMap.forEach(function(r){r.node.stub&&!r.node.failedLoad||e.nodesToRefresh.add(r.node)}),this.rowLoader.queueLoadCheck(),this.isLastRowKnown&&this.numberOfRows===0&&(this.numberOfRows=1,this.isLastRowKnown=!1,this.fireStoreUpdatedEvent())},t.prototype.isNodeInCache=function(e){return!!this.nodeMap.getBy("id",e)},t.prototype.fireStoreUpdatedEvent=function(){this.live&&this.store.fireStoreUpdatedEvent()},t.prototype.getRowId=function(e){if(this.getRowIdFunc==null)return null;var r=this.store.getRowDetails().level,i=this.store.getParentNode().getGroupKeys(),o=this.getRowIdFunc({data:e,parentKeys:i.length>0?i:void 0,level:r});return String(o)},t.prototype.getOrderedNodeMap=function(){var e={};return this.nodeMap.forEach(function(r){return e[r.index]=r}),e},t.prototype.clearDisplayIndexes=function(){this.nodeDisplayIndexMap.clear()},t.prototype.clientSideSortRows=function(){var e=this,r=this.sortController.getSortOptions(),i=r.some(function(s){return s.sort!=null});if(i){var o=new Array(this.nodeMap.getSize());this.nodeMap.forEach(function(s){return o[s.index]=s.node}),this.nodeMap.clear();var a=this.rowNodeSorter.doFullSort(o,r);a.forEach(function(s,l){e.nodeMap.set({id:s.id,node:s,index:l})})}},t.prototype.updateRowNodes=function(e){var r=this;if(this.getRowIdFunc==null)throw new Error("AG Grid: Transactions can only be applied when row ids are supplied.");var i=[];return e.forEach(function(o){var a=r.getRowId(o),s=r.nodeMap.getBy("id",a);s&&(r.blockUtils.updateDataIntoRowNode(s.node,o),i.push(s.node))}),i},t.prototype.insertRowNodes=function(e,r){var i=this,o=this.store.getRowCount()-(this.store.getParentNode().sibling?1:0),a=r==null&&this.isLastRowKnown?o:r;if(a==null||o<a)return[];if(this.getRowIdFunc==null)throw new Error("AG Grid: Transactions can only be applied when row ids are supplied.");var s={};e.forEach(function(d){var p=i.getRowId(d);p&&i.isNodeInCache(p)||(s[p]=d)});var l=Object.values(s),u=l.length;if(u===0)return[];var c=this.nodeMap.filter(function(d){return d.index>=a});return c.forEach(function(d){return i.nodeMap.delete(d)}),c.forEach(function(d){i.nodeMap.set({node:d.node,index:d.index+u,id:d.id})}),this.numberOfRows+=u,l.map(function(d,p){return i.createRowAtIndex(a+p,d)})},t.prototype.removeRowNodes=function(e){if(this.getRowIdFunc==null)throw new Error("AG Grid: Transactions can only be applied when row ids are supplied.");var r=[],i=[],o=0,a=RM([],Ap(e),!1),s=this.getOrderedNodeMap(),l=-1,u=function(p){l+=1;var h=s[p],f=a.findIndex(function(g){return g===h.id});if(f!==-1)return a.splice(f,1),c.destroyRowAtIndex(Number(p)),r.push(h.node),o+=1,"continue";if(o===0)return"continue";var v=Number(p);l!==v&&i.push(h.node),c.nodeMap.delete(s[p]),c.nodeMap.set({id:h.id,node:h.node,index:v-o})},c=this;for(var d in s)u(d);return this.numberOfRows-=this.isLastRowIndexKnown()?e.length:o,a.length>0&&i.length>0&&(i.forEach(function(p){return p.__needsRefreshWhenVisible=!0}),this.rowLoader.queueLoadCheck()),r},mu([E("gridApi")],t.prototype,"api",void 0),mu([E("ssrmBlockUtils")],t.prototype,"blockUtils",void 0),mu([E("focusService")],t.prototype,"focusService",void 0),mu([E("ssrmNodeManager")],t.prototype,"nodeManager",void 0),mu([E("rowModel")],t.prototype,"serverSideRowModel",void 0),mu([E("rowNodeSorter")],t.prototype,"rowNodeSorter",void 0),mu([E("sortController")],t.prototype,"sortController",void 0),mu([z],t.prototype,"init",null),mu([rr],t.prototype,"destroyRowNodes",null),t}(q),j6e=function(){var n=function(t,e){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])},n(t,e)};return function(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");n(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}}(),Yf=function(n,t,e,r){var i=arguments.length,o=i<3?t:r===null?r=Object.getOwnPropertyDescriptor(t,e):r,a;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(n,t,e,r);else for(var s=n.length-1;s>=0;s--)(a=n[s])&&(o=(i<3?a(o):i>3?a(t,e,o):a(t,e))||o);return i>3&&o&&Object.defineProperty(t,e,o),o},$6e=function(n,t){var e=typeof Symbol=="function"&&n[Symbol.iterator];if(!e)return n;var r=e.call(n),i,o=[],a;try{for(;(t===void 0||t-- >0)&&!(i=r.next()).done;)o.push(i.value)}catch(s){a={error:s}}finally{try{i&&!i.done&&(e=r.return)&&e.call(r)}finally{if(a)throw a.error}}return o},W6e=function(n,t,e){if(e||arguments.length===2)for(var r=0,i=t.length,o;r<i;r++)(o||!(r in t))&&(o||(o=Array.prototype.slice.call(t,0,r)),o[r]=t[r]);return n.concat(o||Array.prototype.slice.call(t))},RE=function(n){j6e(t,n);function t(e,r,i){var o=n.call(this)||this;return o.idSequence=new Kn,o.ssrmParams=e,o.parentRowNode=i,o.storeParams=r,o.level=i.level+1,o.group=e.rowGroupCols?o.level<e.rowGroupCols.length:!1,o.leafGroup=e.rowGroupCols?o.level===e.rowGroupCols.length-1:!1,o.info={},o}return t.prototype.init=function(){var e,r=1;this.level===0&&(r=(e=this.storeUtils.getServerSideInitialRowCount())!==null&&e!==void 0?e:1,this.eventService.dispatchEventOnce({type:P.EVENT_ROW_COUNT_READY})),this.cache=this.createManagedBean(new TM(this,r,this.storeParams));var i=this.gridOptionsService.get("treeData");if(!i&&this.group){var o=this.ssrmParams.rowGroupCols[this.level];this.groupField=o.field,this.rowGroupColumn=this.columnModel.getRowGroupColumns()[this.level]}},t.prototype.destroyRowNodes=function(){this.displayIndexStart=void 0,this.displayIndexEnd=void 0,this.destroyBean(this.cache)},t.prototype.applyRowData=function(e,r,i){this.cache.onLoadSuccess(r,i,e)},t.prototype.applyTransaction=function(e){var r=this,i,o,a,s=this.gridOptionsService.getCallback("getRowId");if(!s)return console.warn("AG Grid: getRowId callback must be implemented for transactions to work. Transaction was ignored."),{status:Wn.Cancelled};var l=this.gridOptionsService.getCallback("isApplyServerSideTransaction");if(l){var u={transaction:e,parentNode:this.parentRowNode,groupLevelInfo:this.info},c=l(u);if(!c)return{status:Wn.Cancelled}}var d=this.cache.isStoreFullyLoaded(),p=void 0;!((i=e.update)===null||i===void 0)&&i.length&&(p=this.cache.updateRowNodes(e.update));var h=void 0;if(!((o=e.add)===null||o===void 0)&&o.length){var f=e.addIndex;f!=null&&f<0&&(f=void 0),h=this.cache.insertRowNodes(e.add,f)}var v=void 0;if(!((a=e.remove)===null||a===void 0)&&a.length){var g=e.remove.map(function(w){return s({level:r.level,parentKeys:r.parentRowNode.getGroupKeys(),data:w})}),y=W6e([],$6e(new Set(g)),!1);v=this.cache.removeRowNodes(y)}var m=this.gridOptionsService.get("serverSideEnableClientSideSort"),C=(p==null?void 0:p.length)||(h==null?void 0:h.length),S=d&&m;return S&&C&&this.cache.clientSideSortRows(),this.updateSelectionAfterTransaction(p,v),{status:Wn.Applied,update:p,add:h,remove:v}},t.prototype.updateSelectionAfterTransaction=function(e,r){var i=[];e==null||e.forEach(function(o){o.isSelected()&&!o.selectable&&i.push(o)}),r==null||r.forEach(function(o){o.isSelected()&&i.push(o)}),i.length&&this.selectionService.setNodesSelected({newValue:!1,clearSelection:!1,nodes:i,source:"rowDataChanged"})},t.prototype.clearDisplayIndexes=function(){var e=this;this.displayIndexStart=void 0,this.displayIndexEnd=void 0,this.cache.getNodes().forEach(function(r){return e.blockUtils.clearDisplayIndex(r.node)}),this.parentRowNode.sibling&&this.blockUtils.clearDisplayIndex(this.parentRowNode.sibling),this.cache.clearDisplayIndexes()},t.prototype.getDisplayIndexStart=function(){return this.displayIndexStart},t.prototype.getDisplayIndexEnd=function(){return this.displayIndexEnd},t.prototype.getRowCount=function(){return this.parentRowNode.sibling?this.cache.getRowCount()+1:this.cache.getRowCount()},t.prototype.setRowCount=function(e,r){this.cache.setRowCount(e,r)},t.prototype.isDisplayIndexInStore=function(e){return this.cache.getRowCount()===0?!1:this.displayIndexStart<=e&&e<this.getDisplayIndexEnd()},t.prototype.setDisplayIndexes=function(e,r){this.displayIndexStart=e.peek(),this.topPx=r.value,this.cache.setDisplayIndexes(e,r),this.parentRowNode.sibling&&this.blockUtils.setDisplayIndex(this.parentRowNode.sibling,e,r),this.displayIndexEnd=e.peek(),this.heightPx=r.value-this.topPx},t.prototype.forEachStoreDeep=function(e,r){r===void 0&&(r=new Kn),e(this,r.next()),this.cache.getNodes().forEach(function(i){var o=i.node.childStore;o&&o.forEachStoreDeep(e,r)})},t.prototype.forEachNodeDeep=function(e,r){r===void 0&&(r=new Kn),this.cache.getNodes().forEach(function(i){e(i.node,r.next());var o=i.node.childStore;o&&o.forEachNodeDeep(e,r)})},t.prototype.forEachNodeDeepAfterFilterAndSort=function(e,r,i){r===void 0&&(r=new Kn),i===void 0&&(i=!1);var o=this.cache.getOrderedNodeMap();for(var a in o){var s=o[a];e(s.node,r.next());var l=s.node.childStore;l&&l.forEachNodeDeepAfterFilterAndSort(e,r,i)}i&&this.parentRowNode.sibling&&e(this.parentRowNode.sibling,r.next())},t.prototype.retryLoads=function(){this.cache.getNodes().forEach(function(e){var r=e.node;r.failedLoad&&(r.failedLoad=!1,r.__needsRefreshWhenVisible=!0,r.stub=!0)}),this.forEachChildStoreShallow(function(e){return e.retryLoads()}),this.fireStoreUpdatedEvent()},t.prototype.getRowUsingDisplayIndex=function(e){return this.parentRowNode.sibling&&e===this.parentRowNode.sibling.rowIndex?this.parentRowNode.sibling:this.cache.getRowByDisplayIndex(e)},t.prototype.getRowBounds=function(e){var r;if(!this.isDisplayIndexInStore(e))return null;var i=this.cache.getNodeCachedByDisplayIndex(e);if(i){var o=this.blockUtils.extractRowBounds(i,e);if(o)return o}var a=(r=this.cache.getSurroundingNodesByDisplayIndex(e))!==null&&r!==void 0?r:{},s=a.previousNode,l=a.nextNode;if(s){var o=this.blockUtils.extractRowBounds(s.node,e);if(o!=null)return o}var u=this.gridOptionsService.getRowHeightAsNumber();if(l){var c=(l.node.rowIndex-e)*u;return{rowTop:l.node.rowTop-c,rowHeight:u}}var d=this.topPx+this.heightPx,p=(this.getDisplayIndexEnd()-e)*u;return{rowTop:d-p,rowHeight:u}},t.prototype.isPixelInRange=function(e){return e>=this.topPx&&e<this.topPx+this.heightPx},t.prototype.getRowIndexAtPixel=function(e){if(e<this.topPx)return this.getDisplayIndexStart();if(e>=this.topPx+this.heightPx)return this.getDisplayIndexEnd()-1;var r=Number.MAX_SAFE_INTEGER,i=null,o=Number.MAX_SAFE_INTEGER,a=null;if(this.cache.getNodes().forEach(function(h){var f=h.node,v=Math.abs(e-f.rowTop);if(f.rowTop<e){v<r&&(r=v,i=f);return}v<o&&(o=v,a=f)}),i=i,a=a,i){var s=this.blockUtils.getIndexAtPixel(i,e);if(s!=null)return s}var l=this.gridOptionsService.getRowHeightAsNumber();if(a){var u=a.rowTop,c=Math.ceil((u-e)/l);return a.rowIndex-c}var d=this.topPx+this.heightPx,p=Math.floor((d-e)/l);return this.getDisplayIndexEnd()-p},t.prototype.getChildStore=function(e){var r=this;return this.storeUtils.getChildStore(e,this,function(i){var o=r.cache.getNodes().find(function(a){return a.node.key==i});return o?o.node:null})},t.prototype.forEachChildStoreShallow=function(e){this.cache.getNodes().forEach(function(r){var i=r.node;i.childStore&&e(i.childStore)})},t.prototype.refreshAfterSort=function(e){var r=this.storeUtils.isServerSideSortAllLevels();if(r||this.storeUtils.isServerRefreshNeeded(this.parentRowNode,this.ssrmParams.rowGroupCols,e)){var i=this.cache.isStoreFullyLoaded(),o=this.gridOptionsService.get("serverSideEnableClientSideSort"),a=i&&o;if(!a){var s=this.cache.getRowCount();this.destroyBean(this.cache),this.cache=this.createManagedBean(new TM(this,s,this.storeParams));return}this.cache.clientSideSortRows()}this.forEachChildStoreShallow(function(l){return l.refreshAfterSort(e)})},t.prototype.refreshAfterFilter=function(e){var r=!this.storeUtils.isServerSideOnlyRefreshFilteredGroups();if(r||this.storeUtils.isServerRefreshNeeded(this.parentRowNode,this.ssrmParams.rowGroupCols,e)){this.refreshStore(!0);return}this.forEachChildStoreShallow(function(i){return i.refreshAfterFilter(e)})},t.prototype.refreshStore=function(e){if(e){this.destroyBean(this.cache),this.cache=this.createManagedBean(new TM(this,1,this.storeParams)),this.fireStoreUpdatedEvent();return}this.cache.markNodesForRefresh()},t.prototype.getTopLevelRowDisplayedIndex=function(e){var r=this.cache.getDisplayIndexFromStoreIndex(e);return r??e},t.prototype.isLastRowIndexKnown=function(){return this.cache.isLastRowIndexKnown()},t.prototype.getRowNodesInRange=function(e,r){return D.missing(e),this.cache.getNodes().filter(function(i){var o=i.node;return o.rowIndex>=e.rowIndex&&o.rowIndex<=r.rowIndex}).map(function(i){var o=i.node;return o})},t.prototype.addStoreStates=function(e){e.push({suppressInfiniteScroll:!1,route:this.parentRowNode.getGroupKeys(),rowCount:this.getRowCount(),lastRowIndexKnown:this.isLastRowIndexKnown(),info:this.info,maxBlocksInCache:this.storeParams.maxBlocksInCache,cacheBlockSize:this.storeParams.cacheBlockSize}),this.forEachChildStoreShallow(function(r){return r.addStoreStates(e)})},t.prototype.getIdSequence=function(){return this.idSequence},t.prototype.getParentNode=function(){return this.parentRowNode},t.prototype.getRowDetails=function(){return{field:this.groupField,group:this.group,leafGroup:this.leafGroup,level:this.level,parent:this.parentRowNode,rowGroupColumn:this.rowGroupColumn}},t.prototype.getSsrmParams=function(){return this.ssrmParams},t.prototype.setStoreInfo=function(e){e&&Object.assign(this.info,e)},t.prototype.fireStoreUpdatedEvent=function(){var e={type:P.EVENT_STORE_UPDATED};this.eventService.dispatchEvent(e)},t.prototype.fireRefreshFinishedEvent=function(){var e={type:P.EVENT_STORE_REFRESHED,route:this.parentRowNode.getRoute()};this.eventService.dispatchEvent(e)},t.prototype.getBlockStates=function(){return this.cache.getBlockStates()},t.prototype.getStoreBounds=function(){return{topPx:this.topPx,heightPx:this.heightPx}},Yf([E("ssrmBlockUtils")],t.prototype,"blockUtils",void 0),Yf([E("ssrmStoreUtils")],t.prototype,"storeUtils",void 0),Yf([E("columnModel")],t.prototype,"columnModel",void 0),Yf([E("selectionService")],t.prototype,"selectionService",void 0),Yf([z],t.prototype,"init",null),Yf([rr],t.prototype,"destroyRowNodes",null),t}(q),U6e=function(){var n=function(t,e){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])},n(t,e)};return function(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");n(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}}(),Do=function(n,t,e,r){var i=arguments.length,o=i<3?t:r===null?r=Object.getOwnPropertyDescriptor(t,e):r,a;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(n,t,e,r);else for(var s=n.length-1;s>=0;s--)(a=n[s])&&(o=(i<3?a(o):i>3?a(t,e,o):a(t,e))||o);return i>3&&o&&Object.defineProperty(t,e,o),o},P5=function(n,t){var e=typeof Symbol=="function"&&n[Symbol.iterator];if(!e)return n;var r=e.call(n),i,o=[],a;try{for(;(t===void 0||t-- >0)&&!(i=r.next()).done;)o.push(i.value)}catch(s){a={error:s}}finally{try{i&&!i.done&&(e=r.return)&&e.call(r)}finally{if(a)throw a.error}}return o},z6e=function(n){U6e(t,n);function t(){var e=n!==null&&n.apply(this,arguments)||this;return e.onRowHeightChanged_debounced=D.debounce(e.onRowHeightChanged.bind(e),100),e.pauseStoreUpdateListening=!1,e.started=!1,e.managingPivotResultColumns=!1,e}return t.prototype.ensureRowHeightsValid=function(){return!1},t.prototype.start=function(){this.started=!0,this.updateDatasource()},t.prototype.destroyDatasource=function(){this.datasource&&(this.datasource.destroy&&this.datasource.destroy(),this.rowRenderer.datasourceChanged(),this.datasource=void 0)},t.prototype.addEventListeners=function(){var e=this;this.addManagedListener(this.eventService,P.EVENT_NEW_COLUMNS_LOADED,this.onColumnEverything.bind(this)),this.addManagedListener(this.eventService,P.EVENT_STORE_UPDATED,this.onStoreUpdated.bind(this));var r=this.resetRootStore.bind(this);this.addManagedListener(this.eventService,P.EVENT_COLUMN_VALUE_CHANGED,r),this.addManagedListener(this.eventService,P.EVENT_COLUMN_PIVOT_CHANGED,r),this.addManagedListener(this.eventService,P.EVENT_COLUMN_ROW_GROUP_CHANGED,r),this.addManagedListener(this.eventService,P.EVENT_COLUMN_PIVOT_MODE_CHANGED,r),this.addManagedPropertyListeners(["masterDetail","treeData","removePivotHeaderRowWhenSingleValueColumn","suppressServerSideInfiniteScroll","cacheBlockSize"],r),this.addManagedPropertyListener("rowHeight",function(){return e.resetRowHeights()}),this.verifyProps(),this.addManagedPropertyListener("serverSideDatasource",function(){return e.updateDatasource()})},t.prototype.updateDatasource=function(){var e=this.gridOptionsService.get("serverSideDatasource");e&&this.setDatasource(e)},t.prototype.verifyProps=function(){this.gridOptionsService.exists("initialGroupOrderComparator")&&D.warnOnce("initialGroupOrderComparator cannot be used with Server Side Row Model."),this.gridOptionsService.isRowSelection()&&!this.gridOptionsService.exists("getRowId")&&D.warnOnce("getRowId callback must be provided for Server Side Row Model selection to work correctly.")},t.prototype.setDatasource=function(e){this.started&&(this.destroyDatasource(),this.datasource=e,this.resetRootStore())},t.prototype.applyRowData=function(e,r,i){var o=this.getRootStore();if(o){var a=o.getChildStore(i);a&&(a instanceof RE?a.applyRowData(e,r,e.rowData.length):a instanceof i1&&a.processServerResult(e))}},t.prototype.isLastRowIndexKnown=function(){var e=this.getRootStore();return e?e.isLastRowIndexKnown():!1},t.prototype.onColumnEverything=function(){if(!this.storeParams){this.resetRootStore();return}var e=this.columnsToValueObjects(this.columnModel.getRowGroupColumns()),r=this.columnsToValueObjects(this.columnModel.getValueColumns()),i=this.columnsToValueObjects(this.columnModel.getPivotColumns()),o=function(p){var h={};p.oldCols.forEach(function(g){return h[g.id]=g});var f=p.newCols.every(function(g){var y=h[g.id];return y&&delete h[g.id],y&&y.field===g.field&&y.aggFunc===g.aggFunc}),v=!p.allowRemovedColumns&&!!Object.values(h).length;return f&&!v},a=!D.jsonEquals(this.storeParams.sortModel,this.sortController.getSortModel()),s=!o({oldCols:this.storeParams.rowGroupCols,newCols:e}),l=!o({oldCols:this.storeParams.pivotCols,newCols:i}),u=!!(e!=null&&e.length)&&!o({oldCols:this.storeParams.valueCols,newCols:r,allowRemovedColumns:!0}),c=a||s||l||u;if(c)this.resetRootStore();else{var d=this.createStoreParams();this.storeParams.rowGroupCols=d.rowGroupCols,this.storeParams.pivotCols=d.pivotCols,this.storeParams.valueCols=d.valueCols}},t.prototype.destroyRootStore=function(){!this.rootNode||!this.rootNode.childStore||(this.rootNode.childStore=this.destroyBean(this.rootNode.childStore),this.nodeManager.clear())},t.prototype.refreshAfterSort=function(e,r){this.storeParams&&(this.storeParams.sortModel=e);var i=this.getRootStore();i&&(i.refreshAfterSort(r),this.onStoreUpdated())},t.prototype.generateSecondaryColumns=function(e){var r=this.pivotColDefService.createColDefsFromFields(e);this.managingPivotResultColumns=!0,this.columnModel.setSecondaryColumns(r,"rowModelUpdated")},t.prototype.resetRowHeights=function(){var e=this.resetRowHeightsForAllRowNodes(),r=this.gridOptionsService.getRowHeightForNode(this.rootNode);if(this.rootNode.setRowHeight(r.height,r.estimated),this.rootNode.sibling){var i=this.gridOptionsService.getRowHeightForNode(this.rootNode.sibling);this.rootNode.sibling.setRowHeight(i.height,i.estimated)}e&&this.onRowHeightChanged()},t.prototype.resetRowHeightsForAllRowNodes=function(){var e=this,r=!1;return this.forEachNode(function(i){var o=e.gridOptionsService.getRowHeightForNode(i);i.setRowHeight(o.height,o.estimated);var a=i.detailNode;if(a){var s=e.gridOptionsService.getRowHeightForNode(a);a.setRowHeight(s.height,s.estimated)}if(i.sibling){var l=e.gridOptionsService.getRowHeightForNode(i.sibling);a.setRowHeight(l.height,l.estimated)}r=!0}),r},t.prototype.resetRootStore=function(){this.destroyRootStore(),this.rootNode=new Ue(this.beans),this.rootNode.group=!0,this.rootNode.level=-1,this.datasource&&(this.storeParams=this.createStoreParams(),this.rootNode.childStore=this.createBean(this.storeFactory.createStore(this.storeParams,this.rootNode)),this.updateRowIndexesAndBounds()),this.managingPivotResultColumns&&(this.columnModel.setSecondaryColumns(null,"api"),this.managingPivotResultColumns=!1),this.dispatchModelUpdated(!0)},t.prototype.columnsToValueObjects=function(e){var r=this;return e.map(function(i){return{id:i.getId(),aggFunc:i.getAggFunc(),displayName:r.columnModel.getDisplayNameForColumn(i,"model"),field:i.getColDef().field}})},t.prototype.createStoreParams=function(){var e=this.columnsToValueObjects(this.columnModel.getRowGroupColumns()),r=this.columnsToValueObjects(this.columnModel.getValueColumns()),i=this.columnsToValueObjects(this.columnModel.getPivotColumns()),o=this.gridOptionsService.isGetRowHeightFunction(),a={valueCols:r,rowGroupCols:e,pivotCols:i,pivotMode:this.columnModel.isPivotMode(),filterModel:this.filterManager.isAdvancedFilterEnabled()?this.filterManager.getAdvancedFilterModel():this.filterManager.getFilterModel(),sortModel:this.sortController.getSortModel(),datasource:this.datasource,lastAccessedSequence:new Kn,dynamicRowHeight:o};return a},t.prototype.getParams=function(){return this.storeParams},t.prototype.dispatchModelUpdated=function(e){e===void 0&&(e=!1);var r={type:P.EVENT_MODEL_UPDATED,animate:!e,keepRenderedRows:!e,newPage:!1,newData:!1};this.eventService.dispatchEvent(r)},t.prototype.onStoreUpdated=function(){this.pauseStoreUpdateListening||(this.updateRowIndexesAndBounds(),this.dispatchModelUpdated())},t.prototype.onRowHeightChangedDebounced=function(){this.onRowHeightChanged_debounced()},t.prototype.onRowHeightChanged=function(){this.updateRowIndexesAndBounds(),this.dispatchModelUpdated()},t.prototype.updateRowIndexesAndBounds=function(){var e=this.getRootStore();e&&e.setDisplayIndexes(new Kn,{value:0})},t.prototype.retryLoads=function(){var e=this.getRootStore();e&&(e.retryLoads(),this.onStoreUpdated())},t.prototype.getRow=function(e){var r=this.getRootStore();if(r)return r.getRowUsingDisplayIndex(e)},t.prototype.expandAll=function(e){this.pauseStoreUpdateListening=!0,this.forEachNode(function(r){r.stub||r.hasChildren()&&r.setExpanded(e)}),this.pauseStoreUpdateListening=!1,this.onStoreUpdated()},t.prototype.refreshAfterFilter=function(e,r){this.storeParams&&(this.storeParams.filterModel=e);var i=this.getRootStore();i&&(i.refreshAfterFilter(r),this.onStoreUpdated())},t.prototype.getRootStore=function(){if(this.rootNode&&this.rootNode.childStore)return this.rootNode.childStore},t.prototype.getRowCount=function(){var e=this.getRootStore();return e?e.getDisplayIndexEnd():0},t.prototype.getTopLevelRowCount=function(){var e=this.getRootStore();return e?e.getRowCount():1},t.prototype.getTopLevelRowDisplayedIndex=function(e){var r=this.getRootStore();return r?r.getTopLevelRowDisplayedIndex(e):e},t.prototype.getRowBounds=function(e){var r=this.getRootStore();if(!r){var i=this.gridOptionsService.getRowHeightAsNumber();return{rowTop:0,rowHeight:i}}return r.getRowBounds(e)},t.prototype.getBlockStates=function(){var e=this.getRootStore();if(e){var r={};return e.forEachStoreDeep(function(i){if(i instanceof i1){var o=i.getBlockStateJson(),a=o.id,s=o.state;r[a]=s}else if(i instanceof RE)Object.entries(i.getBlockStates()).forEach(function(l){var u=P5(l,2),c=u[0],d=u[1];r[c]=d});else throw new Error("AG Grid: Unsupported store type")}),r}},t.prototype.getRowIndexAtPixel=function(e){var r=this.getRootStore();return e<=0||!r?0:r.getRowIndexAtPixel(e)},t.prototype.isEmpty=function(){return!1},t.prototype.isRowsToRender=function(){return this.getRootStore()!=null&&this.getRowCount()>0},t.prototype.getType=function(){return"serverSide"},t.prototype.forEachNode=function(e){var r=this.getRootStore();r&&r.forEachNodeDeep(e)},t.prototype.forEachNodeAfterFilterAndSort=function(e,r){r===void 0&&(r=!1);var i=this.getRootStore();i&&i.forEachNodeDeepAfterFilterAndSort(e,void 0,r)},t.prototype.executeOnStore=function(e,r){if(!this.started)return!1;var i=this.getRootStore();if(!i)return!0;var o=i.getChildStore(e);return o&&r(o),!0},t.prototype.refreshStore=function(e){e===void 0&&(e={});var r=e.route?e.route:[];this.executeOnStore(r,function(i){return i.refreshStore(e.purge==!0)})},t.prototype.getStoreState=function(){var e=[],r=this.getRootStore();return r&&r.addStoreStates(e),e},t.prototype.getNodesInRangeForSelection=function(e,r){if(!D.exists(e))return[];if(!r)return[e];var i=e.rowIndex,o=r.rowIndex;if(i===null||o===null)return[e];var a=[],s=P5([i,o].sort(function(c,d){return c-d}),2),l=s[0],u=s[1];return this.forEachNode(function(c){var d=c.rowIndex;d==null||c.stub||d>=l&&d<=u&&a.push(c)}),a.length!==u-l+1?[e]:a},t.prototype.getRowNode=function(e){var r;return this.forEachNode(function(i){i.id===e&&(r=i),i.detailNode&&i.detailNode.id===e&&(r=i.detailNode)}),r},t.prototype.isRowPresent=function(e){var r=this.getRowNode(e.id);return!!r},t.prototype.setRowCount=function(e,r){var i=this.getRootStore();if(i){if(i instanceof RE){i.setRowCount(e,r);return}console.error("AG Grid: Infinite scrolling must be enabled in order to set the row count.")}},Do([E("columnModel")],t.prototype,"columnModel",void 0),Do([E("filterManager")],t.prototype,"filterManager",void 0),Do([E("sortController")],t.prototype,"sortController",void 0),Do([E("rowRenderer")],t.prototype,"rowRenderer",void 0),Do([E("ssrmSortService")],t.prototype,"sortListener",void 0),Do([E("ssrmNodeManager")],t.prototype,"nodeManager",void 0),Do([E("ssrmStoreFactory")],t.prototype,"storeFactory",void 0),Do([E("beans")],t.prototype,"beans",void 0),Do([qe("pivotColDefService")],t.prototype,"pivotColDefService",void 0),Do([rr],t.prototype,"destroyDatasource",null),Do([z],t.prototype,"addEventListeners",null),Do([rr],t.prototype,"destroyRootStore",null),t=Do([ae("rowModel")],t),t}(q),K6e=function(){var n=function(t,e){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])},n(t,e)};return function(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");n(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}}(),Px=function(n,t,e,r){var i=arguments.length,o=i<3?t:r===null?r=Object.getOwnPropertyDescriptor(t,e):r,a;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(n,t,e,r);else for(var s=n.length-1;s>=0;s--)(a=n[s])&&(o=(i<3?a(o):i>3?a(t,e,o):a(t,e))||o);return i>3&&o&&Object.defineProperty(t,e,o),o},Y6e=function(n){K6e(t,n);function t(){return n!==null&&n.apply(this,arguments)||this}return t.prototype.loadFromDatasource=function(e){var r=e.storeParams,i=e.parentBlock,o=e.parentNode,a=o.getGroupKeys();if(r.datasource){var s={startRow:e.startRow,endRow:e.endRow,rowGroupCols:r.rowGroupCols,valueCols:r.valueCols,pivotCols:r.pivotCols,pivotMode:r.pivotMode,groupKeys:a,filterModel:r.filterModel,sortModel:r.sortModel},l=this.gridOptionsService.addGridCommonParams({success:e.success,fail:e.fail,request:s,parentNode:e.parentNode});window.setTimeout(function(){if(!r.datasource||!i.isAlive()){e.fail();return}r.datasource.getRows(l)},0)}},t.prototype.getChildStore=function(e,r,i){if(D.missingOrEmpty(e))return r;var o=e[0],a=i(o);if(a){if(e.length===1&&!a.childStore){var s=this.serverSideRowModel.getParams();a.childStore=this.createBean(this.storeFactory.createStore(s,a))}var l=e.slice(1,e.length),u=a.childStore;return u?u.getChildStore(l):null}return null},t.prototype.isServerRefreshNeeded=function(e,r,i){if(i.valueColChanged||i.secondaryColChanged)return!0;var o=e.level+1,a=o<r.length,s=!a;if(s)return!0;var l=r[o].id,u=i.changedColumns.indexOf(l)>-1;if(u)return!0;var c=this.columnModel.getAllGridColumns(),d=c.filter(function(p){return p.getColDef().showRowGroup&&i.changedColumns.includes(p.getId())}).map(function(p){return p.getColDef().showRowGroup}).some(function(p){return p===!0||p===l});return d},t.prototype.getServerSideInitialRowCount=function(){return this.gridOptionsService.get("serverSideInitialRowCount")},t.prototype.assertRowModelIsServerSide=function(e){return this.gridOptionsService.isRowModelType("serverSide")?!0:(D.warnOnce("The '".concat(e,"' property can only be used with the Server Side Row Model.")),!1)},t.prototype.assertNotTreeData=function(e){return this.gridOptionsService.get("treeData")?(D.warnOnce("The '".concat(e,"' property cannot be used while using tree data.")),!1):!0},t.prototype.isServerSideSortAllLevels=function(){return this.gridOptionsService.get("serverSideSortAllLevels")&&this.assertRowModelIsServerSide("serverSideSortAllLevels")},t.prototype.isServerSideOnlyRefreshFilteredGroups=function(){return this.gridOptionsService.get("serverSideOnlyRefreshFilteredGroups")&&this.assertRowModelIsServerSide("serverSideOnlyRefreshFilteredGroups")},t.prototype.isServerSideSortOnServer=function(){return this.gridOptionsService.get("serverSideSortOnServer")&&this.assertRowModelIsServerSide("serverSideSortOnServer")&&this.assertNotTreeData("serverSideSortOnServer")},t.prototype.isServerSideFilterOnServer=function(){return this.gridOptionsService.get("serverSideFilterOnServer")&&this.assertRowModelIsServerSide("serverSideFilterOnServer")&&this.assertNotTreeData("serverSideFilterOnServer")},Px([E("columnModel")],t.prototype,"columnModel",void 0),Px([E("rowModel")],t.prototype,"serverSideRowModel",void 0),Px([E("ssrmStoreFactory")],t.prototype,"storeFactory",void 0),t=Px([ae("ssrmStoreUtils")],t),t}(q),X6e=function(){var n=function(t,e){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])},n(t,e)};return function(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");n(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}}(),Xf=function(n,t,e,r){var i=arguments.length,o=i<3?t:r===null?r=Object.getOwnPropertyDescriptor(t,e):r,a;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(n,t,e,r);else for(var s=n.length-1;s>=0;s--)(a=n[s])&&(o=(i<3?a(o):i>3?a(t,e,o):a(t,e))||o);return i>3&&o&&Object.defineProperty(t,e,o),o},q6e="ag-Grid-MissingKey",Z6e=function(n){X6e(t,n);function t(){return n!==null&&n.apply(this,arguments)||this}return t.prototype.createRowNode=function(e){var r=new Ue(this.beans),i=e.rowHeight!=null?e.rowHeight:this.gridOptionsService.getRowHeightAsNumber();return r.setRowHeight(i),r.group=e.group,r.leafGroup=e.leafGroup,r.level=e.level,r.uiLevel=e.level,r.parent=e.parent,r.stub=!0,r.__needsRefreshWhenVisible=!1,r.group&&(r.expanded=!1,r.field=e.field,r.rowGroupColumn=e.rowGroupColumn),r},t.prototype.destroyRowNodes=function(e){var r=this;e&&e.forEach(function(i){return r.destroyRowNode(i)})},t.prototype.destroyRowNode=function(e,r){r===void 0&&(r=!1),e.childStore&&!r&&(this.destroyBean(e.childStore),e.childStore=null),e.sibling&&!e.footer&&this.destroyRowNode(e.sibling,!1),e.clearRowTopAndRowIndex(),e.id!=null&&this.nodeManager.removeNode(e)},t.prototype.setTreeGroupInfo=function(e){e.updateHasChildren();var r=this.gridOptionsService.get("getServerSideGroupKey");e.hasChildren()&&r!=null&&(e.key=r(e.data)),!e.hasChildren()&&e.childStore!=null&&(this.destroyBean(e.childStore),e.childStore=null,e.expanded=!1)},t.prototype.setRowGroupInfo=function(e){e.key=this.valueService.getValue(e.rowGroupColumn,e),(e.key===null||e.key===void 0)&&D.doOnce(function(){console.warn("AG Grid: null and undefined values are not allowed for server side row model keys"),e.rowGroupColumn&&console.warn("column = ".concat(e.rowGroupColumn.getId())),console.warn("data is ",e.data)},"ServerSideBlock-CannotHaveNullOrUndefinedForKey");var r=this.beans.gridOptionsService.getGroupIncludeFooter(),i=r({node:e});i&&(e.createFooter(),e.sibling&&(e.sibling.uiLevel=e.uiLevel+1))},t.prototype.setMasterDetailInfo=function(e){var r=this.gridOptionsService.get("isRowMaster");r!=null?e.master=r(e.data):e.master=!0},t.prototype.updateDataIntoRowNode=function(e,r){if(e.updateData(r),this.gridOptionsService.get("treeData"))this.setTreeGroupInfo(e),this.setChildCountIntoRowNode(e);else if(e.group){if(this.setChildCountIntoRowNode(e),!e.footer){var i=this.beans.gridOptionsService.getGroupIncludeFooter(),o=i({node:e});o?e.sibling?e.sibling.updateData(r):e.createFooter():e.sibling&&e.destroyFooter()}}else this.gridOptionsService.get("masterDetail")},t.prototype.setDataIntoRowNode=function(e,r,i,o){var a;e.stub=!1;var s=this.gridOptionsService.get("treeData");D.exists(r)?(e.setDataAndId(r,i),s?this.setTreeGroupInfo(e):e.group?this.setRowGroupInfo(e):this.gridOptionsService.get("masterDetail")&&this.setMasterDetailInfo(e)):(e.setDataAndId(void 0,void 0),e.key=null),(s||e.group)&&(this.setGroupDataIntoRowNode(e),this.setChildCountIntoRowNode(e)),D.exists(r)&&(e.setRowHeight(this.gridOptionsService.getRowHeightForNode(e,!1,o).height),(a=e.sibling)===null||a===void 0||a.setRowHeight(this.gridOptionsService.getRowHeightForNode(e.sibling,!1,o).height))},t.prototype.setChildCountIntoRowNode=function(e){var r=this.gridOptionsService.get("getChildCount");r&&e.setAllChildrenCount(r(e.data))},t.prototype.setGroupDataIntoRowNode=function(e){var r=this,i=this.columnModel.getGroupDisplayColumns(),o=this.gridOptionsService.get("treeData");i.forEach(function(a){if(e.groupData==null&&(e.groupData={}),o)e.groupData[a.getColId()]=e.key;else if(a.isRowGroupDisplayed(e.rowGroupColumn.getId())){var s=r.valueService.getValue(e.rowGroupColumn,e);e.groupData[a.getColId()]=s}})},t.prototype.clearDisplayIndex=function(e){e.clearRowTopAndRowIndex();var r=e.hasChildren()&&D.exists(e.childStore);if(r){var i=e.childStore;i.clearDisplayIndexes()}var o=e.master&&e.detailNode;o&&e.detailNode.clearRowTopAndRowIndex()},t.prototype.setDisplayIndex=function(e,r,i){if(e.setRowIndex(r.next()),e.setRowTop(i.value),i.value+=e.rowHeight,!e.footer){var o=e.master;o&&(e.expanded&&e.detailNode?(e.detailNode.setRowIndex(r.next()),e.detailNode.setRowTop(i.value),i.value+=e.detailNode.rowHeight):e.detailNode&&e.detailNode.clearRowTopAndRowIndex());var a=e.hasChildren()&&D.exists(e.childStore);if(a){var s=e.childStore;e.expanded?s.setDisplayIndexes(r,i):s.clearDisplayIndexes()}}},t.prototype.binarySearchForDisplayIndex=function(e,r){var i=0,o=r.length-1;if(D.missing(o)||D.missing(i)){console.warn("AG Grid: error: topPointer = ".concat(o,", bottomPointer = ").concat(i));return}for(;;){var a=Math.floor((i+o)/2),s=r[a];if(s.rowIndex===e)return s;var l=s.master&&s.expanded,u=s.detailNode;if(l&&u&&u.rowIndex===e)return s.detailNode;var c=s.childStore;if(s.expanded&&c&&c.isDisplayIndexInStore(e))return c.getRowUsingDisplayIndex(e);if(s.rowIndex<e)i=a+1;else if(s.rowIndex>e)o=a-1;else{console.warn("AG Grid: error: unable to locate rowIndex = ".concat(e," in cache"));return}}},t.prototype.extractRowBounds=function(e,r){var i=function(a){return{rowHeight:a.rowHeight,rowTop:a.rowTop}};if(e.rowIndex===r)return i(e);if(e.hasChildren()&&e.expanded&&D.exists(e.childStore)){var o=e.childStore;if(o.isDisplayIndexInStore(r))return o.getRowBounds(r)}else if(e.master&&e.expanded&&D.exists(e.detailNode)&&e.detailNode.rowIndex===r)return i(e.detailNode)},t.prototype.getIndexAtPixel=function(e,r){if(e.isPixelInRange(r))return e.rowIndex;var i=e.master&&e.expanded,o=e.detailNode;if(i&&o&&o.isPixelInRange(r))return e.detailNode.rowIndex;if(e.hasChildren()&&e.expanded&&D.exists(e.childStore)){var a=e.childStore;if(a.isPixelInRange(r))return a.getRowIndexAtPixel(r)}return null},t.prototype.createNodeIdPrefix=function(e){for(var r=[],i=e;i&&i.level>=0;)i.key===""?r.push(q6e):r.push(i.key),i=i.parent;if(r.length>0)return r.reverse().join("-")},t.prototype.checkOpenByDefault=function(e){return this.expansionService.checkOpenByDefault(e)},Xf([E("valueService")],t.prototype,"valueService",void 0),Xf([E("columnModel")],t.prototype,"columnModel",void 0),Xf([E("ssrmNodeManager")],t.prototype,"nodeManager",void 0),Xf([E("beans")],t.prototype,"beans",void 0),Xf([E("expansionService")],t.prototype,"expansionService",void 0),t=Xf([ae("ssrmBlockUtils")],t),t}(q),A5=function(n,t,e,r){var i=arguments.length,o=i<3?t:r===null?r=Object.getOwnPropertyDescriptor(t,e):r,a;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(n,t,e,r);else for(var s=n.length-1;s>=0;s--)(a=n[s])&&(o=(i<3?a(o):i>3?a(t,e,o):a(t,e))||o);return i>3&&o&&Object.defineProperty(t,e,o),o},Q6e=function(){function n(){this.rowNodes={}}return n.prototype.addRowNode=function(t){var e=t.id;this.rowNodes[e]&&(console.warn("AG Grid: Duplicate node id ".concat(t.id,". Row ID's are provided via the getRowId() callback. Please modify the getRowId() callback code to provide unique row id values.")),console.warn("first instance",this.rowNodes[e].data),console.warn("second instance",t.data)),this.rowNodes[e]=t},n.prototype.removeNode=function(t){var e=t.id;this.rowNodes[e]&&(this.rowNodes[e]=void 0)},n.prototype.clear=function(){this.rowNodes={}},A5([rr],n.prototype,"clear",null),n=A5([ae("ssrmNodeManager")],n),n}(),J6e=function(){var n=function(t,e){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])},n(t,e)};return function(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");n(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}}(),Dp=function(n,t,e,r){var i=arguments.length,o=i<3?t:r===null?r=Object.getOwnPropertyDescriptor(t,e):r,a;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(n,t,e,r);else for(var s=n.length-1;s>=0;s--)(a=n[s])&&(o=(i<3?a(o):i>3?a(t,e,o):a(t,e))||o);return i>3&&o&&Object.defineProperty(t,e,o),o},e9e=function(n){J6e(t,n);function t(){var e=n!==null&&n.apply(this,arguments)||this;return e.asyncTransactions=[],e}return t.prototype.postConstruct=function(){this.gridOptionsService.isRowModelType("serverSide")},t.prototype.applyTransactionAsync=function(e,r){this.asyncTransactionsTimeout==null&&this.scheduleExecuteAsync(),this.asyncTransactions.push({transaction:e,callback:r})},t.prototype.scheduleExecuteAsync=function(){var e=this,r=this.gridOptionsService.getAsyncTransactionWaitMillis();this.asyncTransactionsTimeout=window.setTimeout(function(){e.executeAsyncTransactions()},r)},t.prototype.executeAsyncTransactions=function(){var e=this;if(this.asyncTransactions){var r=[],i=[],o=[],a=!1;if(this.asyncTransactions.forEach(function(l){var u,c=e.serverSideRowModel.executeOnStore(l.transaction.route,function(p){u=p.applyTransaction(l.transaction)});c?u==null&&(u={status:Wn.StoreNotFound}):u={status:Wn.StoreNotStarted},i.push(u);var d=u.status==Wn.StoreLoading;if(d){o.push(l);return}l.callback&&r.push(function(){return l.callback(u)}),u.status===Wn.Applied&&(a=!0)}),r.length>0&&window.setTimeout(function(){r.forEach(function(l){return l()})},0),this.asyncTransactionsTimeout=void 0,this.asyncTransactions=o,a&&(this.valueCache.onDataChanged(),this.eventService.dispatchEvent({type:P.EVENT_STORE_UPDATED})),i.length>0){var s={type:P.EVENT_ASYNC_TRANSACTIONS_FLUSHED,results:i};this.eventService.dispatchEvent(s)}}},t.prototype.flushAsyncTransactions=function(){this.asyncTransactionsTimeout!=null&&clearTimeout(this.asyncTransactionsTimeout),this.executeAsyncTransactions()},t.prototype.applyTransaction=function(e){var r,i=this.serverSideRowModel.executeOnStore(e.route,function(a){r=a.applyTransaction(e)});if(i)if(r){if(this.valueCache.onDataChanged(),r.remove){var o=r.remove.map(function(a){return a.id});this.selectionService.deleteSelectionStateFromParent(e.route||[],o)}return this.eventService.dispatchEvent({type:P.EVENT_STORE_UPDATED}),r}else return{status:Wn.StoreNotFound};else return{status:Wn.StoreNotStarted}},Dp([E("rowNodeBlockLoader")],t.prototype,"rowNodeBlockLoader",void 0),Dp([E("valueCache")],t.prototype,"valueCache",void 0),Dp([E("rowModel")],t.prototype,"serverSideRowModel",void 0),Dp([E("rowRenderer")],t.prototype,"rowRenderer",void 0),Dp([E("selectionService")],t.prototype,"selectionService",void 0),Dp([z],t.prototype,"postConstruct",null),t=Dp([ae("ssrmTransactionManager")],t),t}(q),t9e=function(){var n=function(t,e){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])},n(t,e)};return function(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");n(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}}(),Em=function(n,t,e,r){var i=arguments.length,o=i<3?t:r===null?r=Object.getOwnPropertyDescriptor(t,e):r,a;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(n,t,e,r);else for(var s=n.length-1;s>=0;s--)(a=n[s])&&(o=(i<3?a(o):i>3?a(t,e,o):a(t,e))||o);return i>3&&o&&Object.defineProperty(t,e,o),o},r9e=function(n){t9e(t,n);function t(){return n!==null&&n.apply(this,arguments)||this}return t.prototype.postConstruct=function(){this.gridOptionsService.isRowModelType("serverSide")&&this.addManagedListener(this.eventService,P.EVENT_ROW_GROUP_OPENED,this.onRowGroupOpened.bind(this))},t.prototype.onRowGroupOpened=function(e){var r=e.node;if(r.expanded){if(r.master)this.createDetailNode(r);else if(D.missing(r.childStore)){var i=this.serverSideRowModel.getParams();r.childStore=this.createBean(this.storeFactory.createStore(i,r))}}else this.gridOptionsService.get("purgeClosedRowNodes")&&D.exists(r.childStore)&&(r.childStore=this.destroyBean(r.childStore));var o={type:P.EVENT_STORE_UPDATED};this.eventService.dispatchEvent(o)},t.prototype.createDetailNode=function(e){if(D.exists(e.detailNode))return e.detailNode;var r=new Ue(this.beans);r.detail=!0,r.selectable=!1,r.parent=e,D.exists(e.id)&&(r.id="detail_"+e.id),r.data=e.data,r.level=e.level+1;var i=200,o=this.gridOptionsService.getRowHeightForNode(r).height;return r.rowHeight=o||i,e.detailNode=r,r},Em([E("rowModel")],t.prototype,"serverSideRowModel",void 0),Em([E("ssrmStoreFactory")],t.prototype,"storeFactory",void 0),Em([E("beans")],t.prototype,"beans",void 0),Em([z],t.prototype,"postConstruct",null),t=Em([ae("ssrmExpandListener")],t),t}(q),n9e=function(){var n=function(t,e){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])},n(t,e)};return function(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");n(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}}(),bm=function(n,t,e,r){var i=arguments.length,o=i<3?t:r===null?r=Object.getOwnPropertyDescriptor(t,e):r,a;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(n,t,e,r);else for(var s=n.length-1;s>=0;s--)(a=n[s])&&(o=(i<3?a(o):i>3?a(t,e,o):a(t,e))||o);return i>3&&o&&Object.defineProperty(t,e,o),o},i9e=function(n){n9e(t,n);function t(){return n!==null&&n.apply(this,arguments)||this}return t.prototype.postConstruct=function(){this.gridOptionsService.isRowModelType("serverSide")&&this.addManagedListener(this.eventService,P.EVENT_SORT_CHANGED,this.onSortChanged.bind(this))},t.prototype.onSortChanged=function(){var e=this.serverSideRowModel.getParams();if(e){var r=this.sortController.getSortModel(),i=e.sortModel,o=this.findChangedColumnsInSort(r,i),a=this.listenerUtils.isSortingWithValueColumn(o),s=this.listenerUtils.isSortingWithSecondaryColumn(o),l={valueColChanged:a,secondaryColChanged:s,changedColumns:o};this.serverSideRowModel.refreshAfterSort(r,l)}},t.prototype.findChangedColumnsInSort=function(e,r){var i=[];[e,r].forEach(function(s){if(s){var l=s.map(function(u){return u.colId});i=i.concat(l)}});var o=function(s,l){var u=s?s.sort:null,c=l?l.sort:null;return u!==c},a=function(s,l){var u=s?r.indexOf(s):-1,c=l?e.indexOf(l):-1;return u!==c};return i.filter(function(s){var l=r.find(function(c){return c.colId===s}),u=e.find(function(c){return c.colId===s});return o(l,u)||a(l,u)})},bm([E("sortController")],t.prototype,"sortController",void 0),bm([E("rowModel")],t.prototype,"serverSideRowModel",void 0),bm([E("ssrmListenerUtils")],t.prototype,"listenerUtils",void 0),bm([z],t.prototype,"postConstruct",null),t=bm([ae("ssrmSortService")],t),t}(q),o9e=function(){var n=function(t,e){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])},n(t,e)};return function(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");n(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}}(),Om=function(n,t,e,r){var i=arguments.length,o=i<3?t:r===null?r=Object.getOwnPropertyDescriptor(t,e):r,a;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(n,t,e,r);else for(var s=n.length-1;s>=0;s--)(a=n[s])&&(o=(i<3?a(o):i>3?a(t,e,o):a(t,e))||o);return i>3&&o&&Object.defineProperty(t,e,o),o},a9e=function(n){o9e(t,n);function t(){return n!==null&&n.apply(this,arguments)||this}return t.prototype.postConstruct=function(){var e=this;this.gridOptionsService.isRowModelType("serverSide")&&(this.addManagedListener(this.eventService,P.EVENT_ADVANCED_FILTER_ENABLED_CHANGED,function(){return e.onFilterChanged(!0)}),this.addManagedListener(this.eventService,P.EVENT_FILTER_CHANGED,function(){return e.onFilterChanged()}))},t.prototype.onFilterChanged=function(e){var r=this.serverSideRowModel.getParams();if(r){var i=r.filterModel,o,a;if(this.filterManager.isAdvancedFilterEnabled()){o=this.filterManager.getAdvancedFilterModel();var s=e?Object.keys(i??{}):this.getAdvancedFilterColumns(i),l=this.getAdvancedFilterColumns(o);s.forEach(function(h){return l.add(h)}),a=Array.from(l)}else if(o=this.filterManager.getFilterModel(),e){var u=this.getAdvancedFilterColumns(i);Object.keys(o).forEach(function(h){return u.add(h)}),a=Array.from(u)}else a=this.findChangedColumns(i,o);var c=this.listenerUtils.isSortingWithValueColumn(a),d=this.listenerUtils.isSortingWithSecondaryColumn(a),p={valueColChanged:c,secondaryColChanged:d,changedColumns:a};this.serverSideRowModel.refreshAfterFilter(o,p)}},t.prototype.findChangedColumns=function(e,r){var i={};Object.keys(e).forEach(function(a){return i[a]=!0}),Object.keys(r).forEach(function(a){return i[a]=!0});var o=[];return Object.keys(i).forEach(function(a){var s=JSON.stringify(e[a]),l=JSON.stringify(r[a]),u=s!=l;u&&o.push(a)}),o},t.prototype.getAdvancedFilterColumns=function(e){var r=new Set;if(!e)return r;var i=function(o){o.filterType==="join"?o.conditions.forEach(function(a){return i(a)}):r.add(o.colId)};return i(e),r},Om([E("rowModel")],t.prototype,"serverSideRowModel",void 0),Om([E("filterManager")],t.prototype,"filterManager",void 0),Om([E("ssrmListenerUtils")],t.prototype,"listenerUtils",void 0),Om([z],t.prototype,"postConstruct",null),t=Om([ae("ssrmFilterListener")],t),t}(q),PM=function(n,t,e,r){var i=arguments.length,o=i<3?t:r===null?r=Object.getOwnPropertyDescriptor(t,e):r,a;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(n,t,e,r);else for(var s=n.length-1;s>=0;s--)(a=n[s])&&(o=(i<3?a(o):i>3?a(t,e,o):a(t,e))||o);return i>3&&o&&Object.defineProperty(t,e,o),o},s9e=function(){function n(){}return n.prototype.createStore=function(t,e){var r=this.getStoreParams(t,e),i=r.suppressInfiniteScroll?i1:RE;return new i(t,r,e)},n.prototype.getStoreParams=function(t,e){var r=this.getLevelSpecificParams(e),i=this.isInfiniteScroll(r),o=this.getBlockSize(i,r),a=this.getMaxBlocksInCache(i,t,r),s={suppressInfiniteScroll:!i,cacheBlockSize:o,maxBlocksInCache:a};return s},n.prototype.getMaxBlocksInCache=function(t,e,r){if(t){var i=r&&r.maxBlocksInCache!=null?r.maxBlocksInCache:this.gridOptionsService.get("maxBlocksInCache"),o=i!=null&&i>=0;if(o){if(e.dynamicRowHeight){var a="Server Side Row Model does not support Dynamic Row Height and Cache Purging. Either a) remove getRowHeight() callback or b) remove maxBlocksInCache property. Purging has been disabled.";D.warnOnce(a);return}if(this.columnModel.isAutoRowHeightActive()){var a="Server Side Row Model does not support Auto Row Height and Cache Purging. Either a) remove colDef.autoHeight or b) remove maxBlocksInCache property. Purging has been disabled.";D.warnOnce(a);return}return i}}},n.prototype.getBlockSize=function(t,e){if(t){var r=e&&e.cacheBlockSize!=null?e.cacheBlockSize:this.gridOptionsService.get("cacheBlockSize");return r!=null&&r>0?r:100}},n.prototype.getLevelSpecificParams=function(t){var e=this.gridOptionsService.getCallback("getServerSideGroupLevelParams");if(e){var r={level:t.level+1,parentRowNode:t.level>=0?t:void 0,rowGroupColumns:this.columnModel.getRowGroupColumns(),pivotColumns:this.columnModel.getPivotColumns(),pivotMode:this.columnModel.isPivotMode()},i=e(r);return i}},n.prototype.isInfiniteScroll=function(t){var e=t&&t.suppressInfiniteScroll!=null?t.suppressInfiniteScroll:this.isSuppressServerSideInfiniteScroll();return!e},n.prototype.isSuppressServerSideInfiniteScroll=function(){return this.gridOptionsService.get("suppressServerSideInfiniteScroll")},PM([E("gridOptionsService")],n.prototype,"gridOptionsService",void 0),PM([E("columnModel")],n.prototype,"columnModel",void 0),n=PM([ae("ssrmStoreFactory")],n),n}(),D5=function(n,t,e,r){var i=arguments.length,o=i<3?t:r===null?r=Object.getOwnPropertyDescriptor(t,e):r,a;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(n,t,e,r);else for(var s=n.length-1;s>=0;s--)(a=n[s])&&(o=(i<3?a(o):i>3?a(t,e,o):a(t,e))||o);return i>3&&o&&Object.defineProperty(t,e,o),o},l9e=function(){function n(){}return n.prototype.isSortingWithValueColumn=function(t){for(var e=this.columnModel.getValueColumns().map(function(i){return i.getColId()}),r=0;r<t.length;r++)if(e.indexOf(t[r])>-1)return!0;return!1},n.prototype.isSortingWithSecondaryColumn=function(t){if(!this.columnModel.getSecondaryColumns())return!1;for(var e=this.columnModel.getSecondaryColumns().map(function(i){return i.getColId()}),r=0;r<t.length;r++)if(e.indexOf(t[r])>-1)return!0;return!1},D5([E("columnModel")],n.prototype,"columnModel",void 0),n=D5([ae("ssrmListenerUtils")],n),n}(),u9e=function(){var n=function(t,e){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])},n(t,e)};return function(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");n(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}}(),M5=function(n,t,e,r){var i=arguments.length,o=i<3?t:r===null?r=Object.getOwnPropertyDescriptor(t,e):r,a;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(n,t,e,r);else for(var s=n.length-1;s>=0;s--)(a=n[s])&&(o=(i<3?a(o):i>3?a(t,e,o):a(t,e))||o);return i>3&&o&&Object.defineProperty(t,e,o),o},c9e=function(n,t){var e=typeof Symbol=="function"&&n[Symbol.iterator];if(!e)return n;var r=e.call(n),i,o=[],a;try{for(;(t===void 0||t-- >0)&&!(i=r.next()).done;)o.push(i.value)}catch(s){a={error:s}}finally{try{i&&!i.done&&(e=r.return)&&e.call(r)}finally{if(a)throw a.error}}return o},d9e=function(n,t,e){if(e||arguments.length===2)for(var r=0,i=t.length,o;r<i;r++)(o||!(r in t))&&(o||(o=Array.prototype.slice.call(t,0,r)),o[r]=t[r]);return n.concat(o||Array.prototype.slice.call(t))},F5=function(n){u9e(t,n);function t(){var e=n!==null&&n.apply(this,arguments)||this;return e.selectedState={selectAll:!1,toggledNodes:new Set},e.lastSelected=null,e.selectAllUsed=!1,e.selectedNodes={},e}return t.prototype.init=function(){var e=this;this.rowSelection=this.gridOptionsService.get("rowSelection"),this.addManagedPropertyListener("rowSelection",function(r){e.rowSelection=r.currentValue})},t.prototype.getSelectedState=function(){return{selectAll:this.selectedState.selectAll,toggledNodes:d9e([],c9e(this.selectedState.toggledNodes),!1)}},t.prototype.setSelectedState=function(e){var r={selectAll:!1,toggledNodes:new Set};if(typeof e!="object"){console.error("AG Grid: The provided selection state should be an object.");return}if("selectAll"in e&&typeof e.selectAll=="boolean")r.selectAll=e.selectAll;else{console.error("AG Grid: Select all status should be of boolean type.");return}if("toggledNodes"in e&&Array.isArray(e.toggledNodes))e.toggledNodes.forEach(function(i){typeof i=="string"?r.toggledNodes.add(i):console.warn("AG Grid: Provided ids must be of string type. Invalid id provided: ".concat(i))});else{console.error("AG Grid: `toggledNodes` must be an array of string ids.");return}this.selectedState=r},t.prototype.deleteSelectionStateFromParent=function(e,r){var i=this;if(this.selectedState.toggledNodes.size===0)return!1;var o=!1;return r.forEach(function(a){i.selectedState.toggledNodes.delete(a)&&(o=!0)}),o},t.prototype.setNodesSelected=function(e){var r,i=this;if(e.nodes.length===0)return 0;var o=e.clearSelection&&e.newValue&&!e.rangeSelect;if(this.rowSelection!=="multiple"||o){if(e.nodes.length>1)throw new Error("AG Grid: cannot select multiple rows when rowSelection is set to 'single'");var a=e.nodes[0];return e.newValue?(this.selectedNodes=(r={},r[a.id]=a,r),this.selectedState={selectAll:!1,toggledNodes:new Set([a.id])}):(this.selectedNodes={},this.selectedState={selectAll:!1,toggledNodes:new Set}),this.lastSelected=a.id,1}var s=function(u){e.newValue?i.selectedNodes[u.id]=u:delete i.selectedNodes[u.id];var c=u.selectable,d=e.newValue===i.selectedState.selectAll;if(d||!c){i.selectedState.toggledNodes.delete(u.id);return}i.selectedState.toggledNodes.add(u.id)};if(e.rangeSelect&&this.lastSelected){if(e.nodes.length>1)throw new Error("AG Grid: cannot select multiple rows when using rangeSelect");var a=e.nodes[0],l=this.rowModel.getRowNode(this.lastSelected);return this.rowModel.getNodesInRangeForSelection(a,l??null).forEach(s),this.lastSelected=a.id,1}return e.nodes.forEach(s),this.lastSelected=e.nodes[e.nodes.length-1].id,1},t.prototype.processNewRow=function(e){this.selectedNodes[e.id]&&(this.selectedNodes[e.id]=e)},t.prototype.isNodeSelected=function(e){var r=this.selectedState.toggledNodes.has(e.id);return this.selectedState.selectAll?!r:r},t.prototype.getSelectedNodes=function(){return this.selectAllUsed&&console.warn("AG Grid: getSelectedNodes and getSelectedRows functions cannot be used with select all functionality with the server-side row model.\n                Use `api.getServerSideSelectionState()` instead."),Object.values(this.selectedNodes)},t.prototype.getSelectedRows=function(){return this.getSelectedNodes().map(function(e){return e.data})},t.prototype.getSelectionCount=function(){return this.selectedState.selectAll?-1:this.selectedState.toggledNodes.size},t.prototype.clearOtherNodes=function(e,r){var i=this.selectedState.selectAll?1:this.selectedState.toggledNodes.size-1;this.selectedState={selectAll:!1,toggledNodes:new Set([e.id])},this.rowModel.forEachNode(function(a){a!==e&&a.selectThisNode(!1,void 0,r)});var o={type:P.EVENT_SELECTION_CHANGED,source:r};return this.eventService.dispatchEvent(o),i},t.prototype.isEmpty=function(){var e;return!this.selectedState.selectAll&&!(!((e=this.selectedState.toggledNodes)===null||e===void 0)&&e.size)},t.prototype.selectAllRowNodes=function(e){this.selectedState={selectAll:!0,toggledNodes:new Set},this.selectedNodes={},this.selectAllUsed=!0},t.prototype.deselectAllRowNodes=function(e){this.selectedState={selectAll:!1,toggledNodes:new Set},this.selectedNodes={}},t.prototype.getSelectAllState=function(e,r){return this.selectedState.selectAll?this.selectedState.toggledNodes.size>0?null:!0:this.selectedState.toggledNodes.size>0?null:!1},M5([E("rowModel")],t.prototype,"rowModel",void 0),M5([z],t.prototype,"init",null),t}(q),p9e=function(){var n=function(t,e){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])},n(t,e)};return function(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");n(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}}(),UC=function(){return UC=Object.assign||function(n){for(var t,e=1,r=arguments.length;e<r;e++){t=arguments[e];for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(n[i]=t[i])}return n},UC.apply(this,arguments)},qf=function(n,t,e,r){var i=arguments.length,o=i<3?t:r===null?r=Object.getOwnPropertyDescriptor(t,e):r,a;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(n,t,e,r);else for(var s=n.length-1;s>=0;s--)(a=n[s])&&(o=(i<3?a(o):i>3?a(t,e,o):a(t,e))||o);return i>3&&o&&Object.defineProperty(t,e,o),o},h9e=function(n,t){var e={};for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&t.indexOf(r)<0&&(e[r]=n[r]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(n);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(n,r[i])&&(e[r[i]]=n[r[i]]);return e},Rm=function(n,t){var e=typeof Symbol=="function"&&n[Symbol.iterator];if(!e)return n;var r=e.call(n),i,o=[],a;try{for(;(t===void 0||t-- >0)&&!(i=r.next()).done;)o.push(i.value)}catch(s){a={error:s}}finally{try{i&&!i.done&&(e=r.return)&&e.call(r)}finally{if(a)throw a.error}}return o},f9e=function(n,t,e){if(e||arguments.length===2)for(var r=0,i=t.length,o;r<i;r++)(o||!(r in t))&&(o||(o=Array.prototype.slice.call(t,0,r)),o[r]=t[r]);return n.concat(o||Array.prototype.slice.call(t))},v9e=function(n){var t=typeof Symbol=="function"&&Symbol.iterator,e=t&&n[t],r=0;if(e)return e.call(n);if(n&&typeof n.length=="number")return{next:function(){return n&&r>=n.length&&(n=void 0),{value:n&&n[r++],done:!n}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")},L5=function(n){p9e(t,n);function t(){var e=n!==null&&n.apply(this,arguments)||this;return e.selectedState={selectAllChildren:!1,toggledNodes:new Map},e.lastSelected=null,e}return t.prototype.init=function(){var e=this;this.addManagedListener(this.eventService,P.EVENT_MODEL_UPDATED,function(){return e.removeRedundantState()}),this.addManagedListener(this.eventService,P.EVENT_COLUMN_ROW_GROUP_CHANGED,function(){return e.selectionService.reset("rowGroupChanged")})},t.prototype.getSelectedState=function(){var e=this,r=this.gridOptionsService.get("treeData"),i=function(o,a,s){var l={nodeId:s};if((r||a<=e.columnModel.getRowGroupColumns().length)&&(l.selectAllChildren=o.selectAllChildren),o.toggledNodes.size){var u=[];o.toggledNodes.forEach(function(c,d){var p=i(c,a+1,d);u.push(p)}),l.toggledNodes=u}return l};return i(this.selectedState,0)},t.prototype.setSelectedState=function(e){var r=function(i,o){var a,s;if(typeof i!="object")throw new Error("AG Grid: Each provided state object must be an object.");if("selectAllChildren"in i&&typeof i.selectAllChildren!="boolean")throw new Error("AG Grid: `selectAllChildren` must be a boolean value or undefined.");if("toggledNodes"in i){if(!Array.isArray(i.toggledNodes))throw new Error("AG Grid: `toggledNodes` must be an array.");var l=i.toggledNodes.every(function(p){return typeof p=="object"&&"nodeId"in p&&typeof p.nodeId=="string"});if(!l)throw new Error("AG Grid: Every `toggledNode` requires an associated string id.")}var u=(a=i.selectAllChildren)!==null&&a!==void 0?a:!o,c=(s=i.toggledNodes)===null||s===void 0?void 0:s.map(function(p){return[p.nodeId,r(p,u)]}),d=c==null?void 0:c.some(function(p){var h=Rm(p,2);h[0];var f=h[1];return u===f.selectAllChildren&&f.toggledNodes.size===0});if(d)throw new Error(`
                    AG Grid: AG Grid: Row selection state could not be parsed due to invalid data. Ensure all child state has toggledNodes or does not conform with the parent rule.
                    Please rebuild the selection state and reapply it.
                `);return{selectAllChildren:u,toggledNodes:new Map(c)}};try{this.selectedState=r(e,!!e.selectAllChildren)}catch(i){console.error(i.message)}},t.prototype.deleteSelectionStateFromParent=function(e,r){for(var i=this.selectedState,o=f9e([],Rm(e),!1);i&&o.length;)i=i.toggledNodes.get(o.pop());if(!i)return!1;var a=!1;return r.forEach(function(s){i!=null&&i.toggledNodes.delete(s)&&(a=!0)}),a&&this.removeRedundantState(),a},t.prototype.setNodesSelected=function(e){var r=this,i=e.nodes,o=h9e(e,["nodes"]);if(i.length===0)return 0;if(e.rangeSelect){if(i.length>1)throw new Error("AG Grid: cannot select multiple rows when using rangeSelect");var a=i[0],s=this.rowModel.getNodesInRangeForSelection(a,this.lastSelected),l=s.map(this.getRouteToNode).sort(function(c,d){return d.length-c.length}),u=new Set;return l.forEach(function(c){u.has(c[c.length-1])||(c.forEach(function(d){return u.add(d)}),r.recursivelySelectNode(c,r.selectedState,UC({node:a},o)))}),this.removeRedundantState(),this.lastSelected=a,1}return e.nodes.forEach(function(c){var d=r.getRouteToNode(c);r.recursivelySelectNode(d,r.selectedState,UC(UC({},o),{node:c}))}),this.removeRedundantState(),this.lastSelected=e.nodes[e.nodes.length-1],1},t.prototype.isNodeSelected=function(e){var r=this.getRouteToNode(e);return this.isNodePathSelected(r,this.selectedState)},t.prototype.isNodePathSelected=function(e,r){var i=Rm(e),o=i[0],a=i.slice(1);if(a.length===0){var s=r.toggledNodes.has(o.id);if(o.hasChildren()){var l=r.toggledNodes.get(o.id);if(l&&l.toggledNodes.size)return}return r.selectAllChildren?!s:s}if(r.toggledNodes.has(o.id)){var u=r.toggledNodes.get(o.id);if(u)return this.isNodePathSelected(a,u)}return!!r.selectAllChildren},t.prototype.getRouteToNode=function(e){for(var r=[],i=e;i.parent;)r.push(i),i=i.parent;return r.reverse()},t.prototype.removeRedundantState=function(){var e=this;if(!this.filterManager.isAnyFilterPresent()){var r=function(i,o,a){var s,l;if(i===void 0&&(i=e.selectedState),i.toggledNodes.forEach(function(_,x){r(_,x,i)}),o){var u=e.rowModel.getRowNode(o),c=u==null?void 0:u.childStore,d=c==null?void 0:c.isLastRowIndexKnown();if(d){var p=i.toggledNodes.size>=c.getRowCount();if(p){try{for(var h=v9e(i.toggledNodes.entries()),f=h.next();!f.done;f=h.next()){var v=f.value,g=Rm(v,2),y=g[0],m=g[1];if(m.toggledNodes.size>0)return;var C=!e.rowModel.getRowNode(y);if(C)return}}catch(_){s={error:_}}finally{try{f&&!f.done&&(l=h.return)&&l.call(h)}finally{if(s)throw s.error}}i.selectAllChildren=!i.selectAllChildren,i.toggledNodes.clear()}}}var S=i.toggledNodes.size===0,w=(a==null?void 0:a.selectAllChildren)===i.selectAllChildren;S&&w&&(a==null||a.toggledNodes.delete(o))};r()}},t.prototype.recursivelySelectNode=function(e,r,i){var o=Rm(e),a=o[0],s=o.slice(1);if(a){var l=!s.length;if(l){var u=a.selectable,c=r.selectAllChildren===i.newValue;if(c||!u){r.toggledNodes.delete(a.id);return}var d={selectAllChildren:i.newValue,toggledNodes:new Map};r.toggledNodes.set(a.id,d);return}var p=r.toggledNodes.has(a.id),h=p?r.toggledNodes.get(a.id):{selectAllChildren:r.selectAllChildren,toggledNodes:new Map};p||r.toggledNodes.set(a.id,h),this.recursivelySelectNode(s,h,i),r.selectAllChildren===h.selectAllChildren&&h.toggledNodes.size===0&&r.toggledNodes.delete(a.id)}},t.prototype.getSelectedNodes=function(){console.warn("AG Grid: `getSelectedNodes` and `getSelectedRows` functions cannot be used with `groupSelectsChildren` and the server-side row model.\n            Use `api.getServerSideSelectionState()` instead.");var e=[];return this.rowModel.forEachNode(function(r){r.isSelected()&&e.push(r)}),e},t.prototype.processNewRow=function(e){},t.prototype.getSelectedRows=function(){return this.getSelectedNodes().map(function(e){return e.data})},t.prototype.getSelectionCount=function(){return-1},t.prototype.isEmpty=function(){var e;return!this.selectedState.selectAllChildren&&!(!((e=this.selectedState.toggledNodes)===null||e===void 0)&&e.size)},t.prototype.selectAllRowNodes=function(e){this.selectedState={selectAllChildren:!0,toggledNodes:new Map}},t.prototype.deselectAllRowNodes=function(e){this.selectedState={selectAllChildren:!1,toggledNodes:new Map}},t.prototype.getSelectAllState=function(e,r){return this.selectedState.selectAllChildren?this.selectedState.toggledNodes.size>0?null:!0:this.selectedState.toggledNodes.size>0?null:!1},qf([E("rowModel")],t.prototype,"rowModel",void 0),qf([E("columnModel")],t.prototype,"columnModel",void 0),qf([E("filterManager")],t.prototype,"filterManager",void 0),qf([E("rowModel")],t.prototype,"serverSideRowModel",void 0),qf([E("selectionService")],t.prototype,"selectionService",void 0),qf([z],t.prototype,"init",null),t}(q),g9e=function(){var n=function(t,e){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])},n(t,e)};return function(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");n(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}}(),o1=function(){return o1=Object.assign||function(n){for(var t,e=1,r=arguments.length;e<r;e++){t=arguments[e];for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(n[i]=t[i])}return n},o1.apply(this,arguments)},AM=function(n,t,e,r){var i=arguments.length,o=i<3?t:r===null?r=Object.getOwnPropertyDescriptor(t,e):r,a;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(n,t,e,r);else for(var s=n.length-1;s>=0;s--)(a=n[s])&&(o=(i<3?a(o):i>3?a(t,e,o):a(t,e))||o);return i>3&&o&&Object.defineProperty(t,e,o),o},y9e=function(n,t){var e={};for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&t.indexOf(r)<0&&(e[r]=n[r]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(n);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(n,r[i])&&(e[r[i]]=n[r[i]]);return e},m9e=function(n){g9e(t,n);function t(){return n!==null&&n.apply(this,arguments)||this}return t.prototype.init=function(){var e=this,r=this.gridOptionsService.get("groupSelectsChildren");this.addManagedPropertyListener("groupSelectsChildren",function(o){e.destroyBean(e.selectionStrategy);var a=o.currentValue?L5:F5;e.selectionStrategy=e.createManagedBean(new a),e.shotgunResetNodeSelectionState();var s={type:P.EVENT_SELECTION_CHANGED,source:"api"};e.eventService.dispatchEvent(s)}),this.addManagedPropertyListener("rowSelection",function(){return e.deselectAllRowNodes({source:"api"})});var i=r?L5:F5;this.selectionStrategy=this.createManagedBean(new i)},t.prototype.getSelectionState=function(){return this.selectionStrategy.getSelectedState()},t.prototype.setSelectionState=function(e,r){if(!Array.isArray(e)){this.selectionStrategy.setSelectedState(e),this.shotgunResetNodeSelectionState();var i={type:P.EVENT_SELECTION_CHANGED,source:r};this.eventService.dispatchEvent(i)}},t.prototype.setNodesSelected=function(e){var r=e.nodes,i=y9e(e,["nodes"]),o=this.gridOptionsService.get("rowSelection");if(r.length>1&&o!=="multiple")return console.warn("AG Grid: cannot multi select while rowSelection='single'"),0;if(r.length>1&&e.rangeSelect)return console.warn("AG Grid: cannot use range selection when multi selecting rows"),0;var a=o1({nodes:r.filter(function(u){return u.selectable})},i);if(!a.nodes.length)return 0;var s=this.selectionStrategy.setNodesSelected(a);this.shotgunResetNodeSelectionState(a.source);var l={type:P.EVENT_SELECTION_CHANGED,source:a.source};return this.eventService.dispatchEvent(l),s},t.prototype.deleteSelectionStateFromParent=function(e,r){var i=this.selectionStrategy.deleteSelectionStateFromParent(e,r);if(i){this.shotgunResetNodeSelectionState();var o={type:P.EVENT_SELECTION_CHANGED,source:"api"};this.eventService.dispatchEvent(o)}},t.prototype.shotgunResetNodeSelectionState=function(e){var r=this;this.rowModel.forEachNode(function(i){if(!i.stub){var o=r.selectionStrategy.isNodeSelected(i);o!==i.isSelected()&&i.selectThisNode(o,void 0,e)}})},t.prototype.getSelectedNodes=function(){return this.selectionStrategy.getSelectedNodes()},t.prototype.getSelectedRows=function(){return this.selectionStrategy.getSelectedRows()},t.prototype.getSelectionCount=function(){return this.selectionStrategy.getSelectionCount()},t.prototype.syncInRowNode=function(e,r){this.selectionStrategy.processNewRow(e);var i=this.selectionStrategy.isNodeSelected(e);if(i!=!1&&!e.selectable){this.selectionStrategy.setNodesSelected({nodes:[e],newValue:!1,source:"api"}),this.shotgunResetNodeSelectionState();var o={type:P.EVENT_SELECTION_CHANGED,source:"api"};this.eventService.dispatchEvent(o);return}e.setSelectedInitialValue(i)},t.prototype.reset=function(){this.selectionStrategy.deselectAllRowNodes({source:"api"})},t.prototype.isEmpty=function(){return this.selectionStrategy.isEmpty()},t.prototype.hasNodesToSelect=function(e,r){return!0},t.prototype.selectAllRowNodes=function(e){(e.justCurrentPage||e.justFiltered)&&console.warn("AG Grid: selecting just filtered only works when gridOptions.rowModelType='clientSide'"),this.selectionStrategy.selectAllRowNodes(e),this.rowModel.forEachNode(function(i){i.stub||i.selectThisNode(!0,void 0,e.source)});var r={type:P.EVENT_SELECTION_CHANGED,source:e.source};this.eventService.dispatchEvent(r)},t.prototype.deselectAllRowNodes=function(e){(e.justCurrentPage||e.justFiltered)&&console.warn("AG Grid: selecting just filtered only works when gridOptions.rowModelType='clientSide'"),this.selectionStrategy.deselectAllRowNodes(e),this.rowModel.forEachNode(function(i){i.stub||i.selectThisNode(!1,void 0,e.source)});var r={type:P.EVENT_SELECTION_CHANGED,source:e.source};this.eventService.dispatchEvent(r)},t.prototype.getSelectAllState=function(e,r){return this.selectionStrategy.getSelectAllState(e,r)},t.prototype.updateGroupsFromChildrenSelections=function(e,r){return!1},t.prototype.getBestCostNodeSelection=function(){console.warn("AG Grid: calling gridApi.getBestCostNodeSelection() is only possible when using rowModelType=`clientSide`.")},t.prototype.filterFromSelection=function(){},AM([E("rowModel")],t.prototype,"rowModel",void 0),AM([z],t.prototype,"init",null),t=AM([ae("selectionService")],t),t}(q),C9e="31.1.1",S9e=function(){var n=function(t,e){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])},n(t,e)};return function(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");n(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}}(),I5=function(n,t,e,r){var i=arguments.length,o=i<3?t:r===null?r=Object.getOwnPropertyDescriptor(t,e):r,a;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(n,t,e,r);else for(var s=n.length-1;s>=0;s--)(a=n[s])&&(o=(i<3?a(o):i>3?a(t,e,o):a(t,e))||o);return i>3&&o&&Object.defineProperty(t,e,o),o},w9e=function(n){S9e(t,n);function t(){var e=n!==null&&n.apply(this,arguments)||this;return e.queuedRowIds=new Set,e}return t.prototype.postConstruct=function(){var e=this;n.prototype.postConstruct.call(this),this.addManagedListener(this.eventService,P.EVENT_COLUMN_ROW_GROUP_CHANGED,function(){e.queuedRowIds.clear()})},t.prototype.checkOpenByDefault=function(e){if(e.isExpandable()){var r=function(){window.setTimeout(function(){return e.setExpanded(!0)},0)};if(this.queuedRowIds.has(e.id)){this.queuedRowIds.delete(e.id),r();return}var i=this.gridOptionsService.getCallback("isServerSideGroupOpenByDefault");if(i){var o={data:e.data,rowNode:e},a=i(o);a&&r()}}},t.prototype.expandRows=function(e){var r=this;e.forEach(function(i){var o=r.serverSideRowModel.getRowNode(i);o?o.setExpanded(!0):r.queuedRowIds.add(i)})},t.prototype.expandAll=function(e){this.serverSideRowModel.expandAll(e)},t.prototype.onGroupExpandedOrCollapsed=function(){},I5([E("rowModel")],t.prototype,"serverSideRowModel",void 0),t=I5([ae("expansionService")],t),t}(MG),_9e={version:C9e,moduleName:fe.ServerSideRowModelModule,rowModel:"serverSide",beans:[z6e,r9e,i9e,Y6e,Z6e,Q6e,e9e,a9e,s9e,l9e,m9e,w9e],dependantModules:[In]},x9e=function(){function n(t,e,r,i,o,a,s,l,u,c,d){this.rowModel=t,this.filterParams=e,this.createKey=r,this.caseFormat=i,this.columnModel=o,this.valueService=a,this.treeDataOrGrouping=s,this.treeData=l,this.getDataPath=u,this.groupAllowUnbalanced=c,this.addManagedListener=d}return n.prototype.extractUniqueValuesAsync=function(t,e){var r=this;return new Qe(function(i){if(r.rowModel.isRowDataLoaded())i(r.extractUniqueValues(t,e));else var o=r.addManagedListener(P.EVENT_ROW_COUNT_READY,function(){o==null||o(),i(r.extractUniqueValues(t,e))})})},n.prototype.extractUniqueValues=function(t,e){var r=this,i=new Map,o=this.extractExistingFormattedKeys(e),a=new Set,s=this.treeData&&!!this.getDataPath,l=this.columnModel.getRowGroupColumns(),u=function(c,d){var p=r.caseFormat(c);if(!a.has(p)){a.add(p);var h=c,f=D.makeNull(d),v=o==null?void 0:o.get(p);v!=null&&(h=v,f=e.get(v)),i.set(h,f)}};return this.rowModel.forEachLeafNode(function(c){if(!(!c.data||!t(c))){if(r.treeDataOrGrouping){r.addValueForTreeDataOrGrouping(c,s,l,u);return}var d=r.getValue(c);if(r.filterParams.convertValuesToStrings){r.addValueForConvertValuesToString(c,d,u);return}d!=null&&Array.isArray(d)?(d.forEach(function(p){u(r.createKey(p,c),p)}),d.length===0&&u(null,null)):u(r.createKey(d,c),d)}}),i},n.prototype.addValueForConvertValuesToString=function(t,e,r){var i=this.createKey(e,t);i!=null&&Array.isArray(i)?(i.forEach(function(o){var a=D.toStringOrNull(D.makeNull(o));r(a,a)}),i.length===0&&r(null,null)):r(i,i)},n.prototype.addValueForTreeDataOrGrouping=function(t,e,r,i){var o=this,a,s;if(e){if(!((a=t.childrenAfterGroup)===null||a===void 0)&&a.length)return;s=this.getDataPath(t.data)}else s=r.map(function(l){return o.valueService.getKeyForNode(l,t)}),s.push(this.getValue(t));s&&(s=s.map(function(l){return D.toStringOrNull(D.makeNull(l))})),!e&&this.groupAllowUnbalanced&&(s!=null&&s.some(function(l){return l==null}))&&(s=s.filter(function(l){return l!=null})),i(this.createKey(s),s)},n.prototype.getValue=function(t){return this.filterParams.getValue(t)},n.prototype.extractExistingFormattedKeys=function(t){var e=this;if(!t)return null;var r=new Map;return t.forEach(function(i,o){r.set(e.caseFormat(o),o)}),r},n}(),Zi=function(){function n(){}return n.SELECT_ALL="__AG_SELECT_ALL__",n.ADD_SELECTION_TO_FILTER="__AG_ADD_SELECTION_TO_FILTER__",n}(),E9e=function(n){var t=typeof Symbol=="function"&&Symbol.iterator,e=t&&n[t],r=0;if(e)return e.call(n);if(n&&typeof n.length=="number")return{next:function(){return n&&r>=n.length&&(n=void 0),{value:n&&n[r++],done:!n}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")},b9e=function(){function n(t,e,r,i){this.valueFormatterService=t,this.valueFormatter=e,this.formatter=r,this.column=i,this.displayedKeys=[]}return n.prototype.updateDisplayedValuesToAllAvailable=function(t,e,r){this.displayedKeys=Array.from(r)},n.prototype.updateDisplayedValuesToMatchMiniFilter=function(t,e,r,i,o){var a,s;this.displayedKeys=[];try{for(var l=E9e(r),u=l.next();!u.done;u=l.next()){var c=u.value;if(c==null)o&&this.displayedKeys.push(c);else{var d=t(c),p=this.valueFormatterService.formatValue(this.column,null,d,this.valueFormatter,!1),h=this.formatter(p);i(h)&&this.displayedKeys.push(c)}}}catch(f){a={error:f}}finally{try{u&&!u.done&&(s=l.return)&&s.call(l)}finally{if(a)throw a.error}}},n.prototype.getDisplayedValueCount=function(){return this.displayedKeys.length},n.prototype.getDisplayedItem=function(t){return this.displayedKeys[t]},n.prototype.getSelectAllItem=function(){return Zi.SELECT_ALL},n.prototype.getAddSelectionToFilterItem=function(){return Zi.ADD_SELECTION_TO_FILTER},n.prototype.getDisplayedKeys=function(){return this.displayedKeys},n.prototype.forEachDisplayedKey=function(t){this.displayedKeys.forEach(t)},n.prototype.someDisplayedKey=function(t){return this.displayedKeys.some(t)},n.prototype.hasGroups=function(){return!1},n.prototype.refresh=function(){},n}(),O9e=function(n,t){var e=typeof Symbol=="function"&&n[Symbol.iterator];if(!e)return n;var r=e.call(n),i,o=[],a;try{for(;(t===void 0||t-- >0)&&!(i=r.next()).done;)o.push(i.value)}catch(s){a={error:s}}finally{try{i&&!i.done&&(e=r.return)&&e.call(r)}finally{if(a)throw a.error}}return o},N5=function(n,t,e){if(e||arguments.length===2)for(var r=0,i=t.length,o;r<i;r++)(o||!(r in t))&&(o||(o=Array.prototype.slice.call(t,0,r)),o[r]=t[r]);return n.concat(o||Array.prototype.slice.call(t))},DM=function(n){var t=typeof Symbol=="function"&&Symbol.iterator,e=t&&n[t],r=0;if(e)return e.call(n);if(n&&typeof n.length=="number")return{next:function(){return n&&r>=n.length&&(n=void 0),{value:n&&n[r++],done:!n}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")},R9e=function(){function n(t,e,r,i){this.formatter=t,this.treeListPathGetter=e,this.treeListFormatter=r,this.treeDataOrGrouping=i,this.allDisplayedItemsTree=[],this.activeDisplayedItemsFlat=[],this.selectAllItem={depth:0,filterPasses:!0,available:!0,treeKey:Zi.SELECT_ALL,children:this.allDisplayedItemsTree,expanded:!0,key:Zi.SELECT_ALL,parentTreeKeys:[]},this.addSelectionToFilterItem={depth:0,filterPasses:!0,available:!0,treeKey:Zi.ADD_SELECTION_TO_FILTER,expanded:!0,key:Zi.ADD_SELECTION_TO_FILTER,parentTreeKeys:[]}}return n.prototype.updateDisplayedValuesToAllAvailable=function(t,e,r,i){i==="reload"?this.generateItemTree(t,e,r):i==="otherFilter"?(this.updateAvailable(r),this.updateExpandAll()):i==="miniFilter"&&(this.resetFilter(),this.updateExpandAll()),this.flattenItems()},n.prototype.updateDisplayedValuesToMatchMiniFilter=function(t,e,r,i,o,a){a==="reload"?this.generateItemTree(t,e,r):a==="otherFilter"&&this.updateAvailable(r),this.updateFilter(i,o),this.updateExpandAll(),this.flattenItems()},n.prototype.generateItemTree=function(t,e,r){var i,o,a;this.allDisplayedItemsTree=[],this.groupsExist=!1;var s=this.getTreeListPathGetter(t,r),l=function(h){var f=t(h),v=(a=s(f))!==null&&a!==void 0?a:[null];v.length>1&&(u.groupsExist=!0);var g=r.has(h),y=u.allDisplayedItemsTree,m,C=[];v.forEach(function(S,w){y||(y=[],m.children=y),m=y.find(function(_){var x;return((x=_.treeKey)===null||x===void 0?void 0:x.toUpperCase())===(S==null?void 0:S.toUpperCase())}),m||(m={treeKey:S,depth:w,filterPasses:!0,expanded:!1,available:g,parentTreeKeys:C},w===v.length-1&&(m.key=h),y.push(m)),y=m.children,C=N5(N5([],O9e(C),!1),[S],!1)})},u=this;try{for(var c=DM(e),d=c.next();!d.done;d=c.next()){var p=d.value;l(p)}}catch(h){i={error:h}}finally{try{d&&!d.done&&(o=c.return)&&o.call(c)}finally{if(i)throw i.error}}this.updateAvailable(r),this.selectAllItem.children=this.allDisplayedItemsTree,this.selectAllItem.expanded=!1},n.prototype.getTreeListPathGetter=function(t,e){var r,i;if(this.treeListPathGetter)return this.treeListPathGetter;if(this.treeDataOrGrouping)return function(c){return c};var o=!1;try{for(var a=DM(e),s=a.next();!s.done;s=a.next()){var l=s.value,u=t(l);if(u instanceof Date){o=!0;break}else if(u!=null)break}}catch(c){r={error:c}}finally{try{s&&!s.done&&(i=a.return)&&i.call(a)}finally{if(r)throw r.error}}return o?n.DATE_TREE_LIST_PATH_GETTER:(D.warnOnce("property treeList=true for Set Filter params, but you did not provide a treeListPathGetter or values of type Date."),function(c){return[String(c)]})},n.prototype.flattenItems=function(){var t=this;this.activeDisplayedItemsFlat=[];var e=function(r){r.forEach(function(i){!i.filterPasses||!i.available||(t.activeDisplayedItemsFlat.push(i),i.children&&i.expanded&&e(i.children))})};e(this.allDisplayedItemsTree)},n.prototype.resetFilter=function(){var t=function(e){e.children&&e.children.forEach(function(r){t(r)}),e.filterPasses=!0};this.allDisplayedItemsTree.forEach(function(e){return t(e)})},n.prototype.updateFilter=function(t,e){var r=this,i=function(o){return o.available?o.treeKey==null?e:t(r.formatter(r.treeListFormatter?r.treeListFormatter(o.treeKey,o.depth,o.parentTreeKeys):o.treeKey)):!1};this.allDisplayedItemsTree.forEach(function(o){return r.recursiveItemCheck(o,!1,i,"filterPasses")})},n.prototype.getDisplayedValueCount=function(){return this.activeDisplayedItemsFlat.length},n.prototype.getDisplayedItem=function(t){return this.activeDisplayedItemsFlat[t]},n.prototype.getSelectAllItem=function(){return this.selectAllItem},n.prototype.getAddSelectionToFilterItem=function(){return this.addSelectionToFilterItem},n.prototype.getDisplayedKeys=function(){var t=[];return this.forEachDisplayedKey(function(e){return t.push(e)}),t},n.prototype.forEachDisplayedKey=function(t){var e=function(r,i){r.children?(!r.expanded||!i)&&r.children.forEach(function(o){o.filterPasses&&e(o,!1)}):t(r.key)};this.activeDisplayedItemsFlat.forEach(function(r){return e(r,!0)})},n.prototype.someDisplayedKey=function(t){var e=function(r,i){if(r.children){if(!r.expanded||!i)return r.children.some(function(o){return o.filterPasses?e(o,!1):!1})}else return t(r.key);return!1};return this.activeDisplayedItemsFlat.some(function(r){return e(r,!0)})},n.prototype.hasGroups=function(){return this.groupsExist},n.prototype.refresh=function(){this.updateExpandAll(),this.flattenItems()},n.prototype.updateExpandAll=function(){var t=function(r,i,o){var a,s;try{for(var l=DM(r),u=l.next();!u.done;u=l.next()){var c=u.value;if(!(!c.filterPasses||!c.available||!c.children)){if(i=i||!!c.expanded,o=o||!c.expanded,i&&o)return;var d=t(c.children,i,o);if(d===void 0)return;d?i=!0:o=!0}}}catch(p){a={error:p}}finally{try{u&&!u.done&&(s=l.return)&&s.call(l)}finally{if(a)throw a.error}}return i&&o?void 0:i},e=this.getSelectAllItem();e.expanded=t(e.children,!1,!1)},n.prototype.recursiveItemCheck=function(t,e,r,i){var o=this,a=!1;t.children&&t.children.forEach(function(l){var u=o.recursiveItemCheck(l,e||r(t),r,i);a=a||u});var s=e||a||r(t);return t[i]=s,s},n.prototype.updateAvailable=function(t){var e=this,r=function(i){return t.has(i.key)};this.allDisplayedItemsTree.forEach(function(i){return e.recursiveItemCheck(i,!1,r,"available")})},n.DATE_TREE_LIST_PATH_GETTER=function(t){return t?[String(t.getFullYear()),String(t.getMonth()+1),String(t.getDate())]:null},n}(),T9e=function(){function n(t){var e=t.caseFormat;this.filteringKeys=null,this.filteringKeysCaseFormatted=null,this.hasNoAppliedFilteringKeys=!1,this.caseFormat=e}return n.prototype.allFilteringKeys=function(){return this.filteringKeys},n.prototype.allFilteringKeysCaseFormatted=function(){return this.filteringKeysCaseFormatted},n.prototype.noAppliedFilteringKeys=function(){return this.hasNoAppliedFilteringKeys},n.prototype.setFilteringKeys=function(t){var e=this;this.filteringKeys=new Set(t),this.hasNoAppliedFilteringKeys=!this.filteringKeys||this.filteringKeys.size===0,this.filteringKeysCaseFormatted=new Set,this.filteringKeys.forEach(function(r){return e.filteringKeysCaseFormatted.add(e.caseFormat(r))})},n.prototype.addFilteringKey=function(t){this.filteringKeys==null&&(this.filteringKeys=new Set,this.filteringKeysCaseFormatted=new Set),this.filteringKeys.add(t),this.filteringKeysCaseFormatted.add(this.caseFormat(t)),this.hasNoAppliedFilteringKeys&&(this.hasNoAppliedFilteringKeys=!1)},n.prototype.hasCaseFormattedFilteringKey=function(t){return this.filteringKeysCaseFormatted.has(this.caseFormat(t))},n.prototype.hasFilteringKey=function(t){return this.filteringKeys.has(t)},n.prototype.reset=function(){this.filteringKeys=null,this.filteringKeysCaseFormatted=null,this.hasNoAppliedFilteringKeys=!1},n}(),Cu=function(n,t){var e=typeof Symbol=="function"&&n[Symbol.iterator];if(!e)return n;var r=e.call(n),i,o=[],a;try{for(;(t===void 0||t-- >0)&&!(i=r.next()).done;)o.push(i.value)}catch(s){a={error:s}}finally{try{i&&!i.done&&(e=r.return)&&e.call(r)}finally{if(a)throw a.error}}return o},k5=function(n,t,e){if(e||arguments.length===2)for(var r=0,i=t.length,o;r<i;r++)(o||!(r in t))&&(o||(o=Array.prototype.slice.call(t,0,r)),o[r]=t[r]);return n.concat(o||Array.prototype.slice.call(t))},Ci;(function(n){n[n.PROVIDED_LIST=0]="PROVIDED_LIST",n[n.PROVIDED_CALLBACK=1]="PROVIDED_CALLBACK",n[n.TAKEN_FROM_GRID_VALUES=2]="TAKEN_FROM_GRID_VALUES"})(Ci||(Ci={}));var ure=function(){function n(t){var e=this,r;this.localEventService=new Hs,this.miniFilterText=null,this.addCurrentSelectionToFilter=!1,this.providedValues=null,this.allValues=new Map,this.availableKeys=new Set,this.selectedKeys=new Set,this.initialised=!1;var i=t.usingComplexObjects,o=t.columnModel,a=t.valueService,s=t.treeDataTreeList,l=t.groupingTreeList,u=t.filterParams,c=t.gridOptionsService,d=t.valueFormatterService,p=t.valueFormatter,h=t.addManagedListener,f=u.column,v=u.colDef,g=u.textFormatter,y=u.doesRowPassOtherFilter,m=u.suppressSorting,C=u.comparator,S=u.rowModel,w=u.values,_=u.caseSensitive,x=u.convertValuesToStrings,b=u.treeList,O=u.treeListPathGetter,T=u.treeListFormatter;this.filterParams=u,this.gridOptionsService=c,this.setIsLoading=t.setIsLoading,this.translate=t.translate,this.caseFormat=t.caseFormat,this.createKey=t.createKey,this.usingComplexObjects=!!t.usingComplexObjects,this.formatter=g||xg.DEFAULT_FORMATTER,this.doesRowPassOtherFilters=y,this.suppressSorting=m||!1,this.convertValuesToStrings=!!x,this.filteringKeys=new T9e({caseFormat:this.caseFormat});var A=C??v.comparator,N=!!s||!!l;this.compareByValue=!!(i&&A||N||b&&!O),N&&!A?this.entryComparator=this.createTreeDataOrGroupingComparator():b&&!O&&!A?this.entryComparator=function(G,H){var j=Cu(G,2);j[0];var V=j[1],W=Cu(H,2);W[0];var K=W[1];return D.defaultComparator(V,K)}:this.entryComparator=function(G,H){var j=Cu(G,2);j[0];var V=j[1],W=Cu(H,2);W[0];var K=W[1];return A(V,K)},this.keyComparator=(r=A)!==null&&r!==void 0?r:D.defaultComparator,this.caseSensitive=!!_;var M=c.get("getDataPath"),L=c.get("groupAllowUnbalanced");S.getType()==="clientSide"&&(this.clientSideValuesExtractor=new x9e(S,this.filterParams,this.createKey,this.caseFormat,o,a,N,!!s,M,L,h)),w==null?this.valuesType=Ci.TAKEN_FROM_GRID_VALUES:(this.valuesType=Array.isArray(w)?Ci.PROVIDED_LIST:Ci.PROVIDED_CALLBACK,this.providedValues=w),this.displayValueModel=b?new R9e(this.formatter,O,T,s||l):new b9e(d,p,this.formatter,f),this.updateAllValues().then(function(G){return e.resetSelectionState(G||[])})}return n.prototype.addEventListener=function(t,e,r){this.localEventService.addEventListener(t,e,r)},n.prototype.removeEventListener=function(t,e,r){this.localEventService.removeEventListener(t,e,r)},n.prototype.updateOnParamsChange=function(t){var e=this;return new Qe(function(r){var i=t.values,o=t.textFormatter,a=t.suppressSorting,s=e.providedValues,l=e.suppressSorting;if(e.filterParams=t,e.formatter=o||xg.DEFAULT_FORMATTER,e.suppressSorting=a||!1,e.providedValues=i??null,e.providedValues!==s||e.suppressSorting!==l){if(!i||i.length===0)e.valuesType=Ci.TAKEN_FROM_GRID_VALUES,e.providedValues=null;else{var u=Array.isArray(i)&&i.length>0&&typeof i[0]=="function";e.valuesType=u?Ci.PROVIDED_CALLBACK:Ci.PROVIDED_LIST}var c=e.getModel();e.updateAllValues().then(function(d){e.setModel(c).then(function(){return r()})})}else r()})},n.prototype.refreshValues=function(){var t=this;return new Qe(function(e){t.allValuesPromise.then(function(){var r=t.getModel();t.updateAllValues(),t.setModel(r).then(function(){return e()})})})},n.prototype.overrideValues=function(t){var e=this;return new Qe(function(r){e.allValuesPromise.then(function(){e.valuesType=Ci.PROVIDED_LIST,e.providedValues=t,e.refreshValues().then(function(){return r()})})})},n.prototype.refreshAfterAnyFilterChanged=function(){var t=this;return this.showAvailableOnly()?this.allValuesPromise.then(function(e){return t.updateAvailableKeys(e??[],"otherFilter"),!0}):Qe.resolve(!1)},n.prototype.isInitialised=function(){return this.initialised},n.prototype.updateAllValues=function(){var t=this;return this.allValuesPromise=new Qe(function(e){switch(t.valuesType){case Ci.TAKEN_FROM_GRID_VALUES:t.getValuesFromRowsAsync(!1).then(function(l){return e(t.processAllValues(l))});break;case Ci.PROVIDED_LIST:{e(t.processAllValues(t.uniqueValues(t.validateProvidedValues(t.providedValues))));break}case Ci.PROVIDED_CALLBACK:{t.setIsLoading(!0);var r=t.providedValues,i=t.filterParams,o=i.column,a=i.colDef,s=t.gridOptionsService.addGridCommonParams({success:function(l){t.setIsLoading(!1),e(t.processAllValues(t.uniqueValues(t.validateProvidedValues(l))))},colDef:a,column:o});window.setTimeout(function(){return r(s)},0);break}default:throw new Error("Unrecognised valuesType")}}),this.allValuesPromise.then(function(e){return t.updateAvailableKeys(e||[],"reload")}).then(function(){return t.initialised=!0}),this.allValuesPromise},n.prototype.processAllValues=function(t){var e=this.sortKeys(t);return this.allValues=t??new Map,e},n.prototype.validateProvidedValues=function(t){if(this.usingComplexObjects&&(t!=null&&t.length)){var e=t[0];if(e&&typeof e!="object"&&typeof e!="function"){var r=this.createKey(e);r==null?D.warnOnce("Set Filter Key Creator is returning null for provided values and provided values are primitives. Please provide complex objects or set convertValuesToStrings=true in the filterParams. See https://www.ag-grid.com/javascript-data-grid/filter-set-filter-list/#filter-value-types"):D.warnOnce("Set Filter has a Key Creator, but provided values are primitives. Did you mean to provide complex objects or enable convertValuesToStrings?")}}return t},n.prototype.setValuesType=function(t){this.valuesType=t},n.prototype.getValuesType=function(){return this.valuesType},n.prototype.isKeyAvailable=function(t){return this.availableKeys.has(t)},n.prototype.showAvailableOnly=function(){return this.valuesType===Ci.TAKEN_FROM_GRID_VALUES},n.prototype.updateAvailableKeys=function(t,e){var r=this.showAvailableOnly()?this.sortKeys(this.getValuesFromRows(!0)):t;this.availableKeys=new Set(r),this.localEventService.dispatchEvent({type:n.EVENT_AVAILABLE_VALUES_CHANGED}),this.updateDisplayedValues(e,t)},n.prototype.sortKeys=function(t){var e=t??new Map;if(this.suppressSorting)return Array.from(e.keys());var r;return this.compareByValue?r=Array.from(e.entries()).sort(this.entryComparator).map(function(i){var o=Cu(i,1),a=o[0];return a}):r=Array.from(e.keys()).sort(this.keyComparator),this.filterParams.excelMode&&e.has(null)&&(r=r.filter(function(i){return i!=null}),r.push(null)),r},n.prototype.getParamsForValuesFromRows=function(t){var e=this;if(t===void 0&&(t=!1),!this.clientSideValuesExtractor)return D.doOnce(function(){console.error("AG Grid: Set Filter cannot initialise because you are using a row model that does not contain all rows in the browser. Either use a different filter type, or configure Set Filter such that you provide it with values")},"setFilterValueNotCSRM"),null;var r=function(o){return!t||e.doesRowPassOtherFilters(o)},i=t&&!this.caseSensitive?this.allValues:void 0;return{predicate:r,existingValues:i}},n.prototype.getValuesFromRows=function(t){t===void 0&&(t=!1);var e=this.getParamsForValuesFromRows(t);return e?this.clientSideValuesExtractor.extractUniqueValues(e.predicate,e.existingValues):null},n.prototype.getValuesFromRowsAsync=function(t){t===void 0&&(t=!1);var e=this.getParamsForValuesFromRows(t);return e?this.clientSideValuesExtractor.extractUniqueValuesAsync(e.predicate,e.existingValues):Qe.resolve(null)},n.prototype.setMiniFilter=function(t){return t=D.makeNull(t),this.miniFilterText===t?!1:(t===null&&this.setAddCurrentSelectionToFilter(!1),this.miniFilterText=t,this.updateDisplayedValues("miniFilter"),!0)},n.prototype.getMiniFilter=function(){return this.miniFilterText},n.prototype.updateDisplayedValues=function(t,e){var r=this;if(t==="expansion"){this.displayValueModel.refresh();return}if(this.miniFilterText==null){this.displayValueModel.updateDisplayedValuesToAllAvailable(function(s){return r.getValue(s)},e,this.availableKeys,t);return}var i=this.caseFormat(this.formatter(this.miniFilterText)||""),o=function(s){return s!=null&&r.caseFormat(s).indexOf(i)>=0},a=!!this.filterParams.excelMode&&o(this.translate("blanks"));this.displayValueModel.updateDisplayedValuesToMatchMiniFilter(function(s){return r.getValue(s)},e,this.availableKeys,o,a,t)},n.prototype.getDisplayedValueCount=function(){return this.displayValueModel.getDisplayedValueCount()},n.prototype.getDisplayedItem=function(t){return this.displayValueModel.getDisplayedItem(t)},n.prototype.getSelectAllItem=function(){return this.displayValueModel.getSelectAllItem()},n.prototype.getAddSelectionToFilterItem=function(){return this.displayValueModel.getAddSelectionToFilterItem()},n.prototype.hasSelections=function(){return this.filterParams.defaultToNothingSelected?this.selectedKeys.size>0:this.allValues.size!==this.selectedKeys.size},n.prototype.getKeys=function(){return Array.from(this.allValues.keys())},n.prototype.getValues=function(){return Array.from(this.allValues.values())},n.prototype.getValue=function(t){return this.allValues.get(t)},n.prototype.setAddCurrentSelectionToFilter=function(t){this.addCurrentSelectionToFilter=t},n.prototype.isInWindowsExcelMode=function(){return this.filterParams.excelMode==="windows"},n.prototype.isAddCurrentSelectionToFilterChecked=function(){return this.isInWindowsExcelMode()&&this.addCurrentSelectionToFilter},n.prototype.showAddCurrentSelectionToFilter=function(){return this.isInWindowsExcelMode()&&D.exists(this.miniFilterText)&&this.miniFilterText.length>0},n.prototype.selectAllMatchingMiniFilter=function(t){var e=this;t===void 0&&(t=!1),this.miniFilterText==null?this.selectedKeys=new Set(this.allValues.keys()):(t&&this.selectedKeys.clear(),this.displayValueModel.forEachDisplayedKey(function(r){return e.selectedKeys.add(r)}))},n.prototype.deselectAllMatchingMiniFilter=function(){var t=this;this.miniFilterText==null?this.selectedKeys.clear():this.displayValueModel.forEachDisplayedKey(function(e){return t.selectedKeys.delete(e)})},n.prototype.selectKey=function(t){this.selectedKeys.add(t)},n.prototype.deselectKey=function(t){this.filterParams.excelMode&&this.isEverythingVisibleSelected()&&this.resetSelectionState(this.displayValueModel.getDisplayedKeys()),this.selectedKeys.delete(t)},n.prototype.isKeySelected=function(t){return this.selectedKeys.has(t)},n.prototype.isEverythingVisibleSelected=function(){var t=this;return!this.displayValueModel.someDisplayedKey(function(e){return!t.isKeySelected(e)})},n.prototype.isNothingVisibleSelected=function(){var t=this;return!this.displayValueModel.someDisplayedKey(function(e){return t.isKeySelected(e)})},n.prototype.getModel=function(){if(!this.hasSelections())return null;var t=this.isAddCurrentSelectionToFilterChecked()?this.filteringKeys.allFilteringKeys():null;if(t&&t.size>0){if(this.selectedKeys){var e=new Set(k5(k5([],Cu(Array.from(t)),!1),Cu(Array.from(this.selectedKeys).filter(function(r){return!t.has(r)})),!1));return Array.from(e)}return Array.from(t)}return Array.from(this.selectedKeys)},n.prototype.setModel=function(t){var e=this;return this.allValuesPromise.then(function(r){if(t==null)e.resetSelectionState(r??[]);else{e.selectedKeys.clear();var i=new Map;e.allValues.forEach(function(o,a){i.set(e.caseFormat(a),a)}),t.forEach(function(o){var a=e.caseFormat(D.makeNull(o)),s=i.get(a);s!==void 0&&e.selectKey(s)})}})},n.prototype.uniqueValues=function(t){var e=this,r=new Map,i=new Set;return(t??[]).forEach(function(o){var a=D.makeNull(o),s=e.convertAndGetKey(a),l=e.caseFormat(s);i.has(l)||(i.add(l),r.set(s,a))}),r},n.prototype.convertAndGetKey=function(t){return this.convertValuesToStrings?t:this.createKey(t)},n.prototype.resetSelectionState=function(t){this.filterParams.defaultToNothingSelected?this.selectedKeys.clear():this.selectedKeys=new Set(t)},n.prototype.hasGroups=function(){return this.displayValueModel.hasGroups()},n.prototype.createTreeDataOrGroupingComparator=function(){return function(t,e){var r=Cu(t,2);r[0];var i=r[1],o=Cu(e,2);o[0];var a=o[1];if(i==null)return a==null?0:-1;if(a==null)return 1;for(var s=0;s<i.length;s++){if(s>=a.length)return 1;var l=D.defaultComparator(i[s],a[s]);if(l!==0)return l}return 0}},n.prototype.setAppliedModelKeys=function(t){this.filteringKeys.setFilteringKeys(t)},n.prototype.addToAppliedModelKeys=function(t){this.filteringKeys.addFilteringKey(t)},n.prototype.getAppliedModelKeys=function(){return this.filteringKeys.allFilteringKeys()},n.prototype.getCaseFormattedAppliedModelKeys=function(){return this.filteringKeys.allFilteringKeysCaseFormatted()},n.prototype.hasAppliedModelKey=function(t){return this.filteringKeys.hasCaseFormattedFilteringKey(t)},n.prototype.hasAnyAppliedModelKey=function(){return!this.filteringKeys.noAppliedFilteringKeys()},n.EVENT_AVAILABLE_VALUES_CHANGED="availableValuesChanged",n}(),P9e=function(){var n=function(t,e){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])},n(t,e)};return function(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");n(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}}(),Mp=function(n,t,e,r){var i=arguments.length,o=i<3?t:r===null?r=Object.getOwnPropertyDescriptor(t,e):r,a;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(n,t,e,r);else for(var s=n.length-1;s>=0;s--)(a=n[s])&&(o=(i<3?a(o):i>3?a(t,e,o):a(t,e))||o);return i>3&&o&&Object.defineProperty(t,e,o),o},MM=function(n){P9e(t,n);function t(e){var r=this,i;return r=n.call(this,e.isGroup?t.GROUP_TEMPLATE:t.TEMPLATE)||this,r.focusWrapper=e.focusWrapper,r.value=e.value,r.params=e.params,r.translate=e.translate,r.valueFormatter=e.valueFormatter,r.item=e.item,r.isSelected=e.isSelected,r.isTree=e.isTree,r.depth=(i=e.depth)!==null&&i!==void 0?i:0,r.isGroup=e.isGroup,r.groupsExist=e.groupsExist,r.isExpanded=e.isExpanded,r.hasIndeterminateExpandState=e.hasIndeterminateExpandState,r}return t.prototype.init=function(){var e=this;this.addDestroyFunc(function(){var r;return(r=e.destroyCellRendererComponent)===null||r===void 0?void 0:r.call(e)}),this.render(),this.eCheckbox.setLabelEllipsis(!0).setValue(this.isSelected,!0).setDisabled(!!this.params.readOnly).getInputElement().setAttribute("tabindex","-1"),this.refreshVariableAriaLabels(),this.isTree&&(this.depth>0&&this.addCssClass("ag-set-filter-indent-"+this.depth),this.isGroup?this.setupExpansion():this.groupsExist&&this.addCssClass("ag-set-filter-add-group-indent"),D.setAriaLevel(this.getAriaElement(),this.depth+1)),this.refreshAriaChecked(),!this.params.readOnly&&this.eCheckbox.onValueChange(function(r){return e.onCheckboxChanged(!!r)})},t.prototype.getFocusableElement=function(){return this.focusWrapper},t.prototype.setupExpansion=function(){this.eGroupClosedIcon.appendChild(D.createIcon("setFilterGroupClosed",this.gridOptionsService,null)),this.eGroupOpenedIcon.appendChild(D.createIcon("setFilterGroupOpen",this.gridOptionsService,null)),this.addManagedListener(this.eGroupClosedIcon,"click",this.onExpandOrContractClicked.bind(this)),this.addManagedListener(this.eGroupOpenedIcon,"click",this.onExpandOrContractClicked.bind(this)),this.hasIndeterminateExpandState&&(this.eGroupIndeterminateIcon.appendChild(D.createIcon("setFilterGroupIndeterminate",this.gridOptionsService,null)),this.addManagedListener(this.eGroupIndeterminateIcon,"click",this.onExpandOrContractClicked.bind(this))),this.setExpandedIcons(),this.refreshAriaExpanded()},t.prototype.onExpandOrContractClicked=function(){this.setExpanded(!this.isExpanded)},t.prototype.setExpanded=function(e,r){if(this.isGroup&&e!==this.isExpanded){this.isExpanded=e;var i={type:t.EVENT_EXPANDED_CHANGED,isExpanded:!!e,item:this.item};r||this.dispatchEvent(i),this.setExpandedIcons(),this.refreshAriaExpanded()}},t.prototype.setExpandedIcons=function(){D.setDisplayed(this.eGroupClosedIcon,this.hasIndeterminateExpandState?this.isExpanded===!1:!this.isExpanded),D.setDisplayed(this.eGroupOpenedIcon,this.isExpanded===!0),this.hasIndeterminateExpandState&&D.setDisplayed(this.eGroupIndeterminateIcon,this.isExpanded===void 0)},t.prototype.onCheckboxChanged=function(e){this.isSelected=e;var r={type:t.EVENT_SELECTION_CHANGED,isSelected:e,item:this.item};this.dispatchEvent(r),this.refreshVariableAriaLabels(),this.refreshAriaChecked()},t.prototype.toggleSelected=function(){this.params.readOnly||this.setSelected(!this.isSelected)},t.prototype.setSelected=function(e,r){this.isSelected=e,this.eCheckbox.setValue(e,r),this.refreshAriaChecked()},t.prototype.refreshVariableAriaLabels=function(){if(this.isTree){var e=this.localeService.getLocaleTextFunc(),r=this.eCheckbox.getValue(),i=r===void 0?e("ariaIndeterminate","indeterminate"):r?e("ariaVisible","visible"):e("ariaHidden","hidden"),o=e("ariaToggleVisibility","Press SPACE to toggle visibility");D.setAriaLabelledBy(this.eCheckbox.getInputElement(),void 0),this.eCheckbox.setInputAriaLabel("".concat(o," (").concat(i,")"))}},t.prototype.setupFixedAriaLabels=function(e){if(this.isTree){var r=this.localeService.getLocaleTextFunc(),i=r("ariaFilterValue","Filter Value"),o=this.getAriaElement();D.setAriaLabel(o,"".concat(e," ").concat(i)),D.setAriaDescribedBy(o,this.eCheckbox.getInputElement().id)}},t.prototype.refreshAriaChecked=function(){var e=this.getAriaElement();D.setAriaChecked(e,this.eCheckbox.getValue())},t.prototype.refreshAriaExpanded=function(){D.setAriaExpanded(this.getAriaElement(),!!this.isExpanded)},t.prototype.refresh=function(e,r,i){var o,a;if(this.item=e,r!==this.isSelected&&this.setSelected(r,!0),this.setExpanded(i,!0),this.valueFunction){var s=this.valueFunction();this.setTooltipAndCellRendererParams(s,s),this.cellRendererComponent||this.renderCellWithoutCellRenderer()}if(this.cellRendererComponent){var l=(a=(o=this.cellRendererComponent).refresh)===null||a===void 0?void 0:a.call(o,this.cellRendererParams);if(!l){var u=this.cellRendererComponent;this.renderCell(),this.destroyBean(u)}}},t.prototype.render=function(){var e=this.params.column,r=this.value,i=null;typeof r=="function"?(this.valueFunction=r,i=this.valueFunction(),r=i):this.isTree?i=D.toStringOrNull(r):i=this.getFormattedValue(e,r),this.setTooltipAndCellRendererParams(r,i),this.renderCell()},t.prototype.setTooltipAndCellRendererParams=function(e,r){if(this.params.showTooltips){var i=r??D.toStringOrNull(e);this.setTooltip(i)}this.cellRendererParams=this.gridOptionsService.addGridCommonParams({value:e,valueFormatted:r,colDef:this.params.colDef,column:this.params.column})},t.prototype.getTooltipParams=function(){var e=n.prototype.getTooltipParams.call(this);return e.location="setFilterValue",e.colDef=this.getComponentHolder(),this.isTree&&(e.level=this.depth),e},t.prototype.getFormattedValue=function(e,r){return this.valueFormatterService.formatValue(e,null,r,this.valueFormatter,!1)},t.prototype.renderCell=function(){var e=this,r=this.userComponentFactory.getSetFilterCellRendererDetails(this.params,this.cellRendererParams),i=r?r.newAgStackInstance():void 0;if(i==null){this.renderCellWithoutCellRenderer();return}i.then(function(o){o&&(e.cellRendererComponent=o,e.eCheckbox.setLabel(o.getGui()),e.destroyCellRendererComponent=function(){return e.destroyBean(o)})})},t.prototype.renderCellWithoutCellRenderer=function(){var e,r=(e=this.cellRendererParams.valueFormatted==null?this.cellRendererParams.value:this.cellRendererParams.valueFormatted)!==null&&e!==void 0?e:this.translate("blanks");typeof r!="string"&&(D.warnOnce("Set Filter Value Formatter must return string values. Please ensure the Set Filter Value Formatter returns string values for complex objects, or set convertValuesToStrings=true in the filterParams. See ".concat(this.getFrameworkOverrides().getDocLink("filter-set-filter-list/#filter-value-types"))),r=""),this.eCheckbox.setLabel(r),this.setupFixedAriaLabels(r)},t.prototype.getComponentHolder=function(){return this.params.column.getColDef()},t.EVENT_SELECTION_CHANGED="selectionChanged",t.EVENT_EXPANDED_CHANGED="expandedChanged",t.GROUP_TEMPLATE=`
        <div class="ag-set-filter-item" aria-hidden="true">
            <span class="ag-set-filter-group-icons">
                <span class="ag-set-filter-group-closed-icon" ref="eGroupClosedIcon"></span>
                <span class="ag-set-filter-group-opened-icon" ref="eGroupOpenedIcon"></span>
                <span class="ag-set-filter-group-indeterminate-icon" ref="eGroupIndeterminateIcon"></span>
            </span>
            <ag-checkbox ref="eCheckbox" class="ag-set-filter-item-checkbox"></ag-checkbox>
        </div>`,t.TEMPLATE=`
        <div class="ag-set-filter-item">
            <ag-checkbox ref="eCheckbox" class="ag-set-filter-item-checkbox"></ag-checkbox>
        </div>`,Mp([E("valueFormatterService")],t.prototype,"valueFormatterService",void 0),Mp([E("userComponentFactory")],t.prototype,"userComponentFactory",void 0),Mp([$("eCheckbox")],t.prototype,"eCheckbox",void 0),Mp([$("eGroupOpenedIcon")],t.prototype,"eGroupOpenedIcon",void 0),Mp([$("eGroupClosedIcon")],t.prototype,"eGroupClosedIcon",void 0),Mp([$("eGroupIndeterminateIcon")],t.prototype,"eGroupIndeterminateIcon",void 0),Mp([z],t.prototype,"init",null),t}(de),A9e={loadingOoo:"Loading...",blanks:"(Blanks)",searchOoo:"Search...",selectAll:"(Select All)",selectAllSearchResults:"(Select All Search Results)",addCurrentSelectionToFilter:"Add current selection to filter",noMatches:"No matches."},cre=function(){function n(){}return n.prototype.getModelAsString=function(t,e){var r=(t||e.getModel()||{}).values,i=e.getValueModel();if(r==null||i==null)return"";var o=r.filter(function(l){return i.isKeyAvailable(l)}),a=o.length,s=o.slice(0,10).map(function(l){return e.getFormattedValue(l)});return"(".concat(a,") ").concat(s.join(",")).concat(a>10?",...":"")},n}(),D9e=function(){var n=function(t,e){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])},n(t,e)};return function(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");n(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}}(),Fp=function(n,t,e,r){var i=arguments.length,o=i<3?t:r===null?r=Object.getOwnPropertyDescriptor(t,e):r,a;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(n,t,e,r);else for(var s=n.length-1;s>=0;s--)(a=n[s])&&(o=(i<3?a(o):i>3?a(t,e,o):a(t,e))||o);return i>3&&o&&Object.defineProperty(t,e,o),o},dre=function(n){D9e(t,n);function t(){var e=n.call(this,"setFilter")||this;return e.valueModel=null,e.setFilterParams=null,e.virtualList=null,e.caseSensitive=!1,e.convertValuesToStrings=!1,e.treeDataTreeList=!1,e.groupingTreeList=!1,e.hardRefreshVirtualList=!1,e.noValueFormatterSupplied=!1,e.filterModelFormatter=new cre,e.updateSetFilterOnParamsChange=function(r){var i;e.setFilterParams=r,e.convertValuesToStrings=!!r.convertValuesToStrings,e.caseSensitive=!!r.caseSensitive;var o=(i=r.keyCreator)!==null&&i!==void 0?i:r.colDef.keyCreator;e.setValueFormatter(r.valueFormatter,o,e.convertValuesToStrings,!!r.treeList,!!r.colDef.refData);var a=r.column.getId().startsWith(Qu);e.treeDataTreeList=e.gridOptionsService.get("treeData")&&!!r.treeList&&a,e.getDataPath=e.gridOptionsService.get("getDataPath"),e.groupingTreeList=!!e.columnModel.getRowGroupColumns().length&&!!r.treeList&&a,e.createKey=e.generateCreateKey(o,e.convertValuesToStrings,e.treeDataTreeList||e.groupingTreeList)},e}return t.prototype.postConstruct=function(){n.prototype.postConstruct.call(this)},t.prototype.updateUiVisibility=function(){},t.prototype.createBodyTemplate=function(){return`
            <div class="ag-set-filter">
                <div ref="eFilterLoading" class="ag-filter-loading ag-hidden">`.concat(this.translateForSetFilter("loadingOoo"),`</div>
                <ag-input-text-field class="ag-mini-filter" ref="eMiniFilter"></ag-input-text-field>
                <div ref="eFilterNoMatches" class="ag-filter-no-matches ag-hidden">`).concat(this.translateForSetFilter("noMatches"),`</div>
                <div ref="eSetFilterList" class="ag-set-filter-list" role="presentation"></div>
            </div>`)},t.prototype.handleKeyDown=function(e){if(n.prototype.handleKeyDown.call(this,e),!e.defaultPrevented)switch(e.key){case U.SPACE:this.handleKeySpace(e);break;case U.ENTER:this.handleKeyEnter(e);break;case U.LEFT:this.handleKeyLeft(e);break;case U.RIGHT:this.handleKeyRight(e);break}},t.prototype.handleKeySpace=function(e){var r;(r=this.getComponentForKeyEvent(e))===null||r===void 0||r.toggleSelected()},t.prototype.handleKeyEnter=function(e){if(this.setFilterParams){var r=this.setFilterParams||{},i=r.excelMode,o=r.readOnly;!i||o||(e.preventDefault(),this.onBtApply(!1,!1,e),this.setFilterParams.excelMode==="mac"&&this.eMiniFilter.getInputElement().select())}},t.prototype.handleKeyLeft=function(e){var r;(r=this.getComponentForKeyEvent(e))===null||r===void 0||r.setExpanded(!1)},t.prototype.handleKeyRight=function(e){var r;(r=this.getComponentForKeyEvent(e))===null||r===void 0||r.setExpanded(!0)},t.prototype.getComponentForKeyEvent=function(e){var r,i=this.gridOptionsService.getDocument();if(!(!this.eSetFilterList.contains(i.activeElement)||!this.virtualList)){var o=this.virtualList.getLastFocusedRow();if(o!=null){var a=this.virtualList.getComponentAt(o);if(a!=null){e.preventDefault();var s=((r=this.setFilterParams)!==null&&r!==void 0?r:{}).readOnly;if(!s)return a}}}},t.prototype.getCssIdentifier=function(){return"set-filter"},t.prototype.setModel=function(e){var r;return e==null&&((r=this.valueModel)===null||r===void 0?void 0:r.getModel())==null?(this.setMiniFilter(null),Qe.resolve()):n.prototype.setModel.call(this,e)},t.prototype.refresh=function(e){var r=this,i,o,a;if(!n.prototype.refresh.call(this,e))return!1;var s=["treeList","treeListFormatter","treeListPathGetter","keyCreator","convertValuesToStrings","caseSensitive","comparator","suppressSelectAll","excelMode"];return s.some(function(l){var u;return e[l]!==((u=r.setFilterParams)===null||u===void 0?void 0:u[l])})||this.haveColDefParamsChanged(e.colDef)?!1:(n.prototype.updateParams.call(this,e),this.updateSetFilterOnParamsChange(e),this.updateMiniFilter(),(e.cellRenderer!==((i=this.setFilterParams)===null||i===void 0?void 0:i.cellRenderer)||e.valueFormatter!==((o=this.setFilterParams)===null||o===void 0?void 0:o.valueFormatter))&&this.checkAndRefreshVirtualList(),(a=this.valueModel)===null||a===void 0||a.updateOnParamsChange(e).then(function(){var l;!((l=r.valueModel)===null||l===void 0)&&l.hasSelections()&&r.refreshFilterValues()}),!0)},t.prototype.haveColDefParamsChanged=function(e){var r,i=["keyCreator","filterValueGetter"],o=(r=this.setFilterParams)===null||r===void 0?void 0:r.colDef;return i.some(function(a){return e[a]!==(o==null?void 0:o[a])})},t.prototype.setModelAndRefresh=function(e){var r=this;return this.valueModel?this.valueModel.setModel(e).then(function(){return r.checkAndRefreshVirtualList()}):Qe.resolve()},t.prototype.resetUiToDefaults=function(){return this.setMiniFilter(null),this.setModelAndRefresh(null)},t.prototype.setModelIntoUi=function(e){this.setMiniFilter(null);var r=e==null?null:e.values;return this.setModelAndRefresh(r)},t.prototype.getModelFromUi=function(){if(!this.valueModel)throw new Error("Value model has not been created.");var e=this.valueModel.getModel();return e?{values:e,filterType:this.getFilterType()}:null},t.prototype.getFilterType=function(){return"set"},t.prototype.getValueModel=function(){return this.valueModel},t.prototype.areModelsEqual=function(e,r){return e==null&&r==null?!0:e!=null&&r!=null&&D.areEqual(e.values,r.values)},t.prototype.setParams=function(e){var r=this,i;this.applyExcelModeOptions(e),n.prototype.setParams.call(this,e),this.updateSetFilterOnParamsChange(e);var o=(i=e.keyCreator)!==null&&i!==void 0?i:e.colDef.keyCreator;this.valueModel=new ure({filterParams:e,setIsLoading:function(a){return r.setIsLoading(a)},valueFormatterService:this.valueFormatterService,translate:function(a){return r.translateForSetFilter(a)},caseFormat:function(a){return r.caseFormat(a)},createKey:this.createKey,valueFormatter:this.valueFormatter,usingComplexObjects:!!o,gridOptionsService:this.gridOptionsService,columnModel:this.columnModel,valueService:this.valueService,treeDataTreeList:this.treeDataTreeList,groupingTreeList:this.groupingTreeList,addManagedListener:function(a,s){return r.addManagedListener(r.eventService,a,s)}}),this.initialiseFilterBodyUi(),this.addEventListenersForDataChanges()},t.prototype.onAddCurrentSelectionToFilterChange=function(e){if(!this.valueModel)throw new Error("Value model has not been created.");this.valueModel.setAddCurrentSelectionToFilter(e)},t.prototype.setValueFormatter=function(e,r,i,o,a){var s=e;if(!s){if(r&&!i&&!o)throw new Error("AG Grid: Must supply a Value Formatter in Set Filter params when using a Key Creator unless convertValuesToStrings is enabled");this.noValueFormatterSupplied=!0,a||(s=function(l){return D.toStringOrNull(l.value)})}this.valueFormatter=s},t.prototype.generateCreateKey=function(e,r,i){var o=this;if(i&&!e)throw new Error("AG Grid: Must supply a Key Creator in Set Filter params when `treeList = true` on a group column, and Tree Data or Row Grouping is enabled.");return e?function(a,s){s===void 0&&(s=null);var l=o.getKeyCreatorParams(a,s);return D.makeNull(e(l))}:r?function(a){return Array.isArray(a)?a:D.makeNull(D.toStringOrNull(a))}:function(a){return D.makeNull(D.toStringOrNull(a))}},t.prototype.getFormattedValue=function(e){var r,i=this.valueModel.getValue(e);this.noValueFormatterSupplied&&(this.treeDataTreeList||this.groupingTreeList)&&Array.isArray(i)&&(i=D.last(i));var o=this.valueFormatterService.formatValue(this.setFilterParams.column,null,i,this.valueFormatter,!1);return(r=o??D.toStringOrNull(i))!==null&&r!==void 0?r:this.translateForSetFilter("blanks")},t.prototype.applyExcelModeOptions=function(e){e.excelMode==="windows"?(e.buttons||(e.buttons=["apply","cancel"]),e.closeOnApply==null&&(e.closeOnApply=!0)):e.excelMode==="mac"&&(e.buttons||(e.buttons=["reset"]),e.applyMiniFilterWhileTyping==null&&(e.applyMiniFilterWhileTyping=!0),e.debounceMs==null&&(e.debounceMs=500)),e.excelMode&&e.defaultToNothingSelected&&(e.defaultToNothingSelected=!1,D.warnOnce('The Set Filter Parameter "defaultToNothingSelected" value was ignored because it does not work when "excelMode" is used.'))},t.prototype.addEventListenersForDataChanges=function(){var e=this;this.isValuesTakenFromGrid()&&(this.addManagedListener(this.eventService,P.EVENT_CELL_VALUE_CHANGED,function(r){e.setFilterParams&&r.column===e.setFilterParams.column&&e.syncAfterDataChange()}),this.addManagedPropertyListeners(["treeData","getDataPath","groupAllowUnbalanced"],function(){e.syncAfterDataChange()}))},t.prototype.syncAfterDataChange=function(){var e=this;if(!this.valueModel)throw new Error("Value model has not been created.");var r=this.valueModel.refreshValues();return r.then(function(){e.checkAndRefreshVirtualList(),e.onBtApply(!1,!0)})},t.prototype.setIsLoading=function(e){D.setDisplayed(this.eFilterLoading,e),e||(this.hardRefreshVirtualList=!0)},t.prototype.initialiseFilterBodyUi=function(){this.initVirtualList(),this.initMiniFilter()},t.prototype.initVirtualList=function(){var e=this;if(!this.setFilterParams)throw new Error("Set filter params have not been provided.");if(!this.valueModel)throw new Error("Value model has not been created.");var r=this.localeService.getLocaleTextFunc(),i=r("ariaFilterList","Filter List"),o=!!this.setFilterParams.treeList,a=this.virtualList=this.createBean(new nf({cssIdentifier:"filter",ariaRole:o?"tree":"listbox",listName:i})),s=this.getRefElement("eSetFilterList");o&&s.classList.add("ag-set-filter-tree-list"),s&&s.appendChild(a.getGui());var l=this.setFilterParams.cellHeight;l!=null&&a.setRowHeight(l);var u=function(p,h){return e.createSetListItem(p,o,h)};a.setComponentCreator(u);var c=function(p,h){return e.updateSetListItem(p,h)};a.setComponentUpdater(c);var d;this.setFilterParams.suppressSelectAll?d=new M9e(this.valueModel):d=new F9e(this.valueModel,function(){return e.isSelectAllSelected()}),o&&(d=new L9e(d)),a.setModel(d)},t.prototype.getSelectAllLabel=function(){if(!this.setFilterParams)throw new Error("Set filter params have not been provided.");if(!this.valueModel)throw new Error("Value model has not been created.");var e=this.valueModel.getMiniFilter()==null||!this.setFilterParams.excelMode?"selectAll":"selectAllSearchResults";return this.translateForSetFilter(e)},t.prototype.getAddSelectionToFilterLabel=function(){if(!this.setFilterParams)throw new Error("Set filter params have not been provided.");if(!this.valueModel)throw new Error("Value model has not been created.");return this.translateForSetFilter("addCurrentSelectionToFilter")},t.prototype.createSetListItem=function(e,r,i){var o=this;if(!this.setFilterParams)throw new Error("Set filter params have not been provided.");if(!this.valueModel)throw new Error("Value model has not been created.");var a=this.valueModel.hasGroups(),s=this.isSelectedExpanded(e),l=s.isSelected,u=s.isExpanded,c=this.newSetListItemAttributes(e,r),d=c.value,p=c.depth,h=c.isGroup,f=c.hasIndeterminateExpandState,v=c.selectedListener,g=c.expandedListener,y={focusWrapper:i,value:d,params:this.setFilterParams,translate:function(C){return o.translateForSetFilter(C)},valueFormatter:this.valueFormatter,item:e,isSelected:l,isTree:r,depth:p,groupsExist:a,isGroup:h,isExpanded:u,hasIndeterminateExpandState:f},m=this.createBean(new MM(y));return m.addEventListener(MM.EVENT_SELECTION_CHANGED,v),g&&m.addEventListener(MM.EVENT_EXPANDED_CHANGED,g),m},t.prototype.newSetTreeItemAttributes=function(e,r){var i=this,o,a,s,l,u,c;if(!this.setFilterParams)throw new Error("Set filter params have not been provided.");if(!this.valueModel)throw new Error("Value model has not been created.");var d=this.valueModel.hasGroups();return e.key===Zi.SELECT_ALL?{value:function(){return i.getSelectAllLabel()},isGroup:d,depth:e.depth,hasIndeterminateExpandState:!0,selectedListener:function(p){return i.onSelectAll(p.isSelected)},expandedListener:function(p){return i.onExpandAll(p.item,p.isExpanded)}}:e.key===Zi.ADD_SELECTION_TO_FILTER?{value:function(){return i.getAddSelectionToFilterLabel()},depth:e.depth,isGroup:!1,hasIndeterminateExpandState:!1,selectedListener:function(p){i.onAddCurrentSelectionToFilterChange(p.isSelected)}}:e.children?{value:(s=(a=(o=this.setFilterParams).treeListFormatter)===null||a===void 0?void 0:a.call(o,e.treeKey,e.depth,e.parentTreeKeys))!==null&&s!==void 0?s:e.treeKey,depth:e.depth,isGroup:!0,selectedListener:function(p){return i.onGroupItemSelected(p.item,p.isSelected)},expandedListener:function(p){return i.onExpandedChanged(p.item,p.isExpanded)}}:{value:(c=(u=(l=this.setFilterParams).treeListFormatter)===null||u===void 0?void 0:u.call(l,e.treeKey,e.depth,e.parentTreeKeys))!==null&&c!==void 0?c:e.treeKey,depth:e.depth,selectedListener:function(p){return i.onItemSelected(p.item.key,p.isSelected)}}},t.prototype.newSetListItemAttributes=function(e,r){var i=this;if(!this.setFilterParams)throw new Error("Set filter params have not been provided.");if(!this.valueModel)throw new Error("Value model has not been created.");return this.isSetFilterModelTreeItem(e)?this.newSetTreeItemAttributes(e,r):e===Zi.SELECT_ALL?{value:function(){return i.getSelectAllLabel()},selectedListener:function(o){return i.onSelectAll(o.isSelected)}}:e===Zi.ADD_SELECTION_TO_FILTER?{value:function(){return i.getAddSelectionToFilterLabel()},selectedListener:function(o){i.onAddCurrentSelectionToFilterChange(o.isSelected)}}:{value:this.valueModel.getValue(e),selectedListener:function(o){return i.onItemSelected(o.item,o.isSelected)}}},t.prototype.updateSetListItem=function(e,r){var i=this.isSelectedExpanded(e),o=i.isSelected,a=i.isExpanded;r.refresh(e,o,a)},t.prototype.isSelectedExpanded=function(e){var r,i;return this.isSetFilterModelTreeItem(e)?(i=e.expanded,e.key===Zi.SELECT_ALL?r=this.isSelectAllSelected():e.key===Zi.ADD_SELECTION_TO_FILTER?r=this.valueModel.isAddCurrentSelectionToFilterChecked():e.children?r=this.areAllChildrenSelected(e):r=this.valueModel.isKeySelected(e.key)):e===Zi.SELECT_ALL?r=this.isSelectAllSelected():e===Zi.ADD_SELECTION_TO_FILTER?r=this.valueModel.isAddCurrentSelectionToFilterChecked():r=this.valueModel.isKeySelected(e),{isSelected:r,isExpanded:i}},t.prototype.isSetFilterModelTreeItem=function(e){return(e==null?void 0:e.treeKey)!==void 0},t.prototype.initMiniFilter=function(){var e=this;if(!this.setFilterParams)throw new Error("Set filter params have not been provided.");if(!this.valueModel)throw new Error("Value model has not been created.");var r=this,i=r.eMiniFilter,o=r.localeService,a=o.getLocaleTextFunc();i.setDisplayed(!this.setFilterParams.suppressMiniFilter),i.setValue(this.valueModel.getMiniFilter()),i.onValueChange(function(){return e.onMiniFilterInput()}),i.setInputAriaLabel(a("ariaSearchFilterValues","Search filter values")),this.addManagedListener(i.getInputElement(),"keydown",function(s){return e.onMiniFilterKeyDown(s)})},t.prototype.updateMiniFilter=function(){if(!this.setFilterParams)throw new Error("Set filter params have not been provided.");if(!this.valueModel)throw new Error("Value model has not been created.");var e=this.eMiniFilter;e.isDisplayed()!==!this.setFilterParams.suppressMiniFilter&&e.setDisplayed(!this.setFilterParams.suppressMiniFilter);var r=this.valueModel.getMiniFilter();e.getValue()!==r&&e.setValue(r)},t.prototype.afterGuiAttached=function(e){if(!this.setFilterParams)throw new Error("Set filter params have not been provided.");n.prototype.afterGuiAttached.call(this,e),this.resetExpansion(),this.refreshVirtualList();var r=this.eMiniFilter;r.setInputPlaceholder(this.translateForSetFilter("searchOoo")),(!e||!e.suppressFocus)&&r.getFocusableElement().focus()},t.prototype.afterGuiDetached=function(){var e,r;n.prototype.afterGuiDetached.call(this),!((e=this.setFilterParams)===null||e===void 0)&&e.excelMode&&this.resetMiniFilter();var i=this.getModel();(!((r=this.setFilterParams)===null||r===void 0)&&r.excelMode||!this.areModelsEqual(i,this.getModelFromUi()))&&(this.resetUiToActiveModel(i),this.showOrHideResults())},t.prototype.applyModel=function(e){var r=this;if(e===void 0&&(e="api"),!this.setFilterParams)throw new Error("Set filter params have not been provided.");if(!this.valueModel)throw new Error("Value model has not been created.");this.setFilterParams.excelMode&&e!=="rowDataUpdated"&&this.valueModel.isEverythingVisibleSelected()&&this.valueModel.selectAllMatchingMiniFilter();var i=this.valueModel.showAddCurrentSelectionToFilter()&&this.valueModel.isAddCurrentSelectionToFilterChecked();if(i&&!this.getModel())return!1;var o=n.prototype.applyModel.call(this,e),a=this.getModel();return a?(i||this.valueModel.setAppliedModelKeys(new Set),a.values.forEach(function(s){r.valueModel.addToAppliedModelKeys(s)})):i||this.valueModel.setAppliedModelKeys(null),o},t.prototype.isModelValid=function(e){return this.setFilterParams&&this.setFilterParams.excelMode?e==null||e.values.length>0:!0},t.prototype.doesFilterPass=function(e){var r=this;if(!this.setFilterParams||!this.valueModel||!this.valueModel.getCaseFormattedAppliedModelKeys())return!0;if(!this.valueModel.hasAnyAppliedModelKey())return!1;var i=e.node,o=e.data;if(this.treeDataTreeList)return this.doesFilterPassForTreeData(i,o);if(this.groupingTreeList)return this.doesFilterPassForGrouping(i);var a=this.getValueFromNode(i);return this.convertValuesToStrings?this.doesFilterPassForConvertValuesToString(i,a):a!=null&&Array.isArray(a)?a.length===0?this.valueModel.hasAppliedModelKey(null):a.some(function(s){return r.isInAppliedModel(r.createKey(s,i))}):this.isInAppliedModel(this.createKey(a,i))},t.prototype.doesFilterPassForConvertValuesToString=function(e,r){var i=this,o=this.createKey(r,e);return o!=null&&Array.isArray(o)?o.length===0?this.valueModel.hasAppliedModelKey(null):o.some(function(a){return i.isInAppliedModel(a)}):this.isInAppliedModel(o)},t.prototype.doesFilterPassForTreeData=function(e,r){var i;return!((i=e.childrenAfterGroup)===null||i===void 0)&&i.length?!1:this.isInAppliedModel(this.createKey(this.checkMakeNullDataPath(this.getDataPath(r))))},t.prototype.doesFilterPassForGrouping=function(e){var r=this,i=this.columnModel.getRowGroupColumns().map(function(o){return r.valueService.getKeyForNode(o,e)});return i.push(this.getValueFromNode(e)),this.isInAppliedModel(this.createKey(this.checkMakeNullDataPath(i)))},t.prototype.checkMakeNullDataPath=function(e){return e&&(e=e.map(function(r){return D.toStringOrNull(D.makeNull(r))})),e!=null&&e.some(function(r){return r==null})?null:e},t.prototype.isInAppliedModel=function(e){return this.valueModel.hasAppliedModelKey(e)},t.prototype.getValueFromNode=function(e){return this.setFilterParams.getValue(e)},t.prototype.getKeyCreatorParams=function(e,r){return r===void 0&&(r=null),{value:e,colDef:this.setFilterParams.colDef,column:this.setFilterParams.column,node:r,data:r==null?void 0:r.data,api:this.setFilterParams.api,columnApi:this.setFilterParams.columnApi,context:this.setFilterParams.context}},t.prototype.onNewRowsLoaded=function(){this.isValuesTakenFromGrid()&&this.syncAfterDataChange()},t.prototype.isValuesTakenFromGrid=function(){if(!this.valueModel)return!1;var e=this.valueModel.getValuesType();return e===Ci.TAKEN_FROM_GRID_VALUES},t.prototype.setFilterValues=function(e){var r=this;if(!this.valueModel)throw new Error("Value model has not been created.");this.valueModel.overrideValues(e).then(function(){r.checkAndRefreshVirtualList(),r.onUiChanged()})},t.prototype.resetFilterValues=function(){if(!this.valueModel)throw new Error("Value model has not been created.");this.valueModel.setValuesType(Ci.TAKEN_FROM_GRID_VALUES),this.syncAfterDataChange()},t.prototype.refreshFilterValues=function(){var e=this;if(!this.valueModel)throw new Error("Value model has not been created.");this.valueModel.isInitialised()&&this.valueModel.refreshValues().then(function(){e.checkAndRefreshVirtualList(),e.onUiChanged()})},t.prototype.onAnyFilterChanged=function(){var e=this;setTimeout(function(){if(e.isAlive()){if(!e.valueModel)throw new Error("Value model has not been created.");e.valueModel.refreshAfterAnyFilterChanged().then(function(r){r&&(e.checkAndRefreshVirtualList(),e.showOrHideResults())})}},0)},t.prototype.onMiniFilterInput=function(){if(!this.setFilterParams)throw new Error("Set filter params have not been provided.");if(!this.valueModel)throw new Error("Value model has not been created.");if(this.valueModel.setMiniFilter(this.eMiniFilter.getValue())){var e=this.setFilterParams||{},r=e.applyMiniFilterWhileTyping,i=e.readOnly;!i&&r?this.filterOnAllVisibleValues(!1):this.updateUiAfterMiniFilterChange()}},t.prototype.updateUiAfterMiniFilterChange=function(){if(!this.setFilterParams)throw new Error("Set filter params have not been provided.");if(!this.valueModel)throw new Error("Value model has not been created.");var e=this.setFilterParams||{},r=e.excelMode,i=e.readOnly;r==null||i?this.checkAndRefreshVirtualList():this.valueModel.getMiniFilter()==null?this.resetUiToActiveModel(this.getModel()):(this.valueModel.selectAllMatchingMiniFilter(!0),this.checkAndRefreshVirtualList(),this.onUiChanged()),this.showOrHideResults()},t.prototype.showOrHideResults=function(){if(!this.valueModel)throw new Error("Value model has not been created.");var e=this.valueModel.getMiniFilter()!=null&&this.valueModel.getDisplayedValueCount()<1;D.setDisplayed(this.eNoMatches,e),D.setDisplayed(this.eSetFilterList,!e)},t.prototype.resetMiniFilter=function(){var e;this.eMiniFilter.setValue(null,!0),(e=this.valueModel)===null||e===void 0||e.setMiniFilter(null)},t.prototype.resetUiToActiveModel=function(e,r){var i=this;this.setModelAndRefresh(e==null?null:e.values).then(function(){i.onUiChanged(!1,"prevent"),r==null||r()})},t.prototype.handleCancelEnd=function(e){this.setMiniFilter(null),n.prototype.handleCancelEnd.call(this,e)},t.prototype.onMiniFilterKeyDown=function(e){var r=this.setFilterParams||{},i=r.excelMode,o=r.readOnly;e.key===U.ENTER&&!i&&!o&&this.filterOnAllVisibleValues()},t.prototype.filterOnAllVisibleValues=function(e){e===void 0&&(e=!0);var r=(this.setFilterParams||{}).readOnly;if(!this.valueModel)throw new Error("Value model has not been created.");if(r)throw new Error("Unable to filter in readOnly mode.");this.valueModel.selectAllMatchingMiniFilter(!0),this.checkAndRefreshVirtualList(),this.onUiChanged(!1,e?"immediately":"debounce"),this.showOrHideResults()},t.prototype.focusRowIfAlive=function(e){var r=this;e!=null&&window.setTimeout(function(){if(!r.virtualList)throw new Error("Virtual list has not been created.");r.isAlive()&&r.virtualList.focusRow(e)},0)},t.prototype.onSelectAll=function(e){if(!this.valueModel)throw new Error("Value model has not been created.");if(!this.virtualList)throw new Error("Virtual list has not been created.");e?this.valueModel.selectAllMatchingMiniFilter():this.valueModel.deselectAllMatchingMiniFilter(),this.refreshAfterSelection()},t.prototype.onGroupItemSelected=function(e,r){var i=this,o=function(a){a.children?a.children.forEach(function(s){return o(s)}):i.selectItem(a.key,r)};o(e),this.refreshAfterSelection()},t.prototype.onItemSelected=function(e,r){if(!this.valueModel)throw new Error("Value model has not been created.");if(!this.virtualList)throw new Error("Virtual list has not been created.");this.selectItem(e,r),this.refreshAfterSelection()},t.prototype.selectItem=function(e,r){r?this.valueModel.selectKey(e):this.valueModel.deselectKey(e)},t.prototype.onExpandAll=function(e,r){var i=function(o){o.filterPasses&&o.available&&o.children&&(o.children.forEach(function(a){return i(a)}),o.expanded=r)};i(e),this.refreshAfterExpansion()},t.prototype.onExpandedChanged=function(e,r){e.expanded=r,this.refreshAfterExpansion()},t.prototype.refreshAfterExpansion=function(){var e=this.virtualList.getLastFocusedRow();this.valueModel.updateDisplayedValues("expansion"),this.checkAndRefreshVirtualList(),this.focusRowIfAlive(e)},t.prototype.refreshAfterSelection=function(){var e=this.virtualList.getLastFocusedRow();this.checkAndRefreshVirtualList(),this.onUiChanged(),this.focusRowIfAlive(e)},t.prototype.setMiniFilter=function(e){this.eMiniFilter.setValue(e),this.onMiniFilterInput()},t.prototype.getMiniFilter=function(){return this.valueModel?this.valueModel.getMiniFilter():null},t.prototype.checkAndRefreshVirtualList=function(){if(!this.virtualList)throw new Error("Virtual list has not been created.");this.virtualList.refresh(!this.hardRefreshVirtualList),this.hardRefreshVirtualList&&(this.hardRefreshVirtualList=!1)},t.prototype.getFilterKeys=function(){return this.valueModel?this.valueModel.getKeys():[]},t.prototype.getFilterValues=function(){return this.valueModel?this.valueModel.getValues():[]},t.prototype.getValues=function(){return this.getFilterKeys()},t.prototype.refreshVirtualList=function(){this.setFilterParams&&this.setFilterParams.refreshValuesOnOpen?this.refreshFilterValues():this.checkAndRefreshVirtualList()},t.prototype.translateForSetFilter=function(e){var r=this.localeService.getLocaleTextFunc();return r(e,A9e[e])},t.prototype.isSelectAllSelected=function(){if(!this.setFilterParams||!this.valueModel)return!1;if(this.setFilterParams.defaultToNothingSelected){if(this.valueModel.hasSelections()&&this.valueModel.isEverythingVisibleSelected())return!0;if(this.valueModel.isNothingVisibleSelected())return!1}else{if(this.valueModel.hasSelections()&&this.valueModel.isNothingVisibleSelected())return!1;if(this.valueModel.isEverythingVisibleSelected())return!0}},t.prototype.areAllChildrenSelected=function(e){var r=this,i=function(o){if(o.children){var a=!1,s=!1,l=o.children.some(function(u){if(!u.filterPasses||!u.available)return!1;var c=i(u);return c===void 0?!0:(c?a=!0:s=!0,a&&s)});return l?void 0:a}else return r.valueModel.isKeySelected(o.key)};return this.setFilterParams.defaultToNothingSelected?this.valueModel.hasSelections()&&i(e):i(e)},t.prototype.destroy=function(){this.virtualList!=null&&(this.virtualList.destroy(),this.virtualList=null),n.prototype.destroy.call(this)},t.prototype.caseFormat=function(e){return e==null||typeof e!="string"||this.caseSensitive?e:e.toUpperCase()},t.prototype.resetExpansion=function(){var e,r;if(!((e=this.setFilterParams)===null||e===void 0)&&e.treeList){var i=(r=this.valueModel)===null||r===void 0?void 0:r.getSelectAllItem();if(this.isSetFilterModelTreeItem(i)){var o=function(a){a.children&&(a.children.forEach(function(s){return o(s)}),a.expanded=!1)};o(i),this.valueModel.updateDisplayedValues("expansion")}}},t.prototype.getModelAsString=function(e){return this.filterModelFormatter.getModelAsString(e,this)},t.prototype.getPositionableElement=function(){return this.eSetFilterList},Fp([$("eMiniFilter")],t.prototype,"eMiniFilter",void 0),Fp([$("eFilterLoading")],t.prototype,"eFilterLoading",void 0),Fp([$("eSetFilterList")],t.prototype,"eSetFilterList",void 0),Fp([$("eFilterNoMatches")],t.prototype,"eNoMatches",void 0),Fp([E("valueFormatterService")],t.prototype,"valueFormatterService",void 0),Fp([E("columnModel")],t.prototype,"columnModel",void 0),Fp([E("valueService")],t.prototype,"valueService",void 0),t}(Vd),M9e=function(){function n(t){this.model=t}return n.prototype.getRowCount=function(){return this.model.getDisplayedValueCount()},n.prototype.getRow=function(t){return this.model.getDisplayedItem(t)},n.prototype.areRowsEqual=function(t,e){return t===e},n}(),F9e=function(){function n(t,e){this.model=t,this.isSelectAllSelected=e}return n.prototype.getRowCount=function(){var t=this.model.showAddCurrentSelectionToFilter(),e=t?2:1;return this.model.getDisplayedValueCount()+e},n.prototype.getRow=function(t){if(t===0)return this.model.getSelectAllItem();var e=this.model.showAddCurrentSelectionToFilter(),r=e?2:1;return t===1&&e?this.model.getAddSelectionToFilterItem():this.model.getDisplayedItem(t-r)},n.prototype.areRowsEqual=function(t,e){return t===e},n}(),L9e=function(){function n(t){this.model=t}return n.prototype.getRowCount=function(){return this.model.getRowCount()},n.prototype.getRow=function(t){return this.model.getRow(t)},n.prototype.areRowsEqual=function(t,e){return t==null&&e==null?!0:t!=null&&e!=null&&t.treeKey===e.treeKey&&t.depth===e.depth},n}(),I9e=function(){var n=function(t,e){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])},n(t,e)};return function(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");n(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}}(),G5=function(n,t,e,r){var i=arguments.length,o=i<3?t:r===null?r=Object.getOwnPropertyDescriptor(t,e):r,a;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(n,t,e,r);else for(var s=n.length-1;s>=0;s--)(a=n[s])&&(o=(i<3?a(o):i>3?a(t,e,o):a(t,e))||o);return i>3&&o&&Object.defineProperty(t,e,o),o},N9e=function(n){I9e(t,n);function t(){var e=n.call(this,`
            <div class="ag-floating-filter-input ag-set-floating-filter-input" role="presentation">
                <ag-input-text-field ref="eFloatingFilterText"></ag-input-text-field>
            </div>`)||this;return e.availableValuesListenerAdded=!1,e.filterModelFormatter=new cre,e}return t.prototype.destroy=function(){n.prototype.destroy.call(this)},t.prototype.init=function(e){var r=this;this.params=e,this.eFloatingFilterText.setDisabled(!0).addGuiEventListener("click",function(){return r.params.showParentFilter()}),this.setParams(e)},t.prototype.setParams=function(e){var r=this.columnModel.getDisplayNameForColumn(e.column,"header",!0),i=this.localeService.getLocaleTextFunc();this.eFloatingFilterText.setInputAriaLabel("".concat(r," ").concat(i("ariaFilterInput","Filter Input")))},t.prototype.onParamsUpdated=function(e){this.refresh(e)},t.prototype.refresh=function(e){this.params=e,this.setParams(e)},t.prototype.onParentModelChanged=function(e){this.updateFloatingFilterText(e)},t.prototype.parentSetFilterInstance=function(e){this.params.parentFilterInstance(function(r){if(!(r instanceof dre))throw new Error("AG Grid - SetFloatingFilter expects SetFilter as its parent");e(r)})},t.prototype.addAvailableValuesListener=function(){var e=this;this.parentSetFilterInstance(function(r){var i=r.getValueModel();i&&e.addManagedListener(i,ure.EVENT_AVAILABLE_VALUES_CHANGED,function(){return e.updateFloatingFilterText()})}),this.availableValuesListenerAdded=!0},t.prototype.updateFloatingFilterText=function(e){var r=this;this.availableValuesListenerAdded||this.addAvailableValuesListener(),this.parentSetFilterInstance(function(i){r.eFloatingFilterText.setValue(r.filterModelFormatter.getModelAsString(e,i))})},G5([$("eFloatingFilterText")],t.prototype,"eFloatingFilterText",void 0),G5([E("columnModel")],t.prototype,"columnModel",void 0),t}(de),k9e="31.1.1",G9e={version:k9e,moduleName:fe.SetFilterModule,beans:[],userComponents:[{componentName:"agSetColumnFilter",componentClass:dre},{componentName:"agSetColumnFloatingFilter",componentClass:N9e}],dependantModules:[In]},V9e=function(){var n=function(t,e){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])},n(t,e)};return function(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");n(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}}(),B9e=function(n,t,e,r){var i=arguments.length,o=i<3?t:r===null?r=Object.getOwnPropertyDescriptor(t,e):r,a;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(n,t,e,r);else for(var s=n.length-1;s>=0;s--)(a=n[s])&&(o=(i<3?a(o):i>3?a(t,e,o):a(t,e))||o);return i>3&&o&&Object.defineProperty(t,e,o),o},H9e=function(n){V9e(t,n);function t(){var e=n.call(this)||this;return e.allComponents=new Map,e}return t.prototype.registerStatusPanel=function(e,r){this.allComponents.set(e,r)},t.prototype.unregisterStatusPanel=function(e){this.allComponents.delete(e)},t.prototype.unregisterAllComponents=function(){this.allComponents.clear()},t.prototype.getStatusPanel=function(e){return this.allComponents.get(e)},t.prototype.destroy=function(){this.unregisterAllComponents(),n.prototype.destroy.call(this)},t=B9e([ae("statusBarService")],t),t}(q),j9e=function(){var n=function(t,e){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])},n(t,e)};return function(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");n(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}}(),Lp=function(n,t,e,r){var i=arguments.length,o=i<3?t:r===null?r=Object.getOwnPropertyDescriptor(t,e):r,a;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(n,t,e,r);else for(var s=n.length-1;s>=0;s--)(a=n[s])&&(o=(i<3?a(o):i>3?a(t,e,o):a(t,e))||o);return i>3&&o&&Object.defineProperty(t,e,o),o},$9e=function(n){j9e(t,n);function t(){var e=n.call(this,t.TEMPLATE)||this;return e.compDestroyFunctions={},e}return t.prototype.postConstruct=function(){this.processStatusPanels(new Map),this.addManagedPropertyListeners(["statusBar"],this.handleStatusBarChanged.bind(this))},t.prototype.processStatusPanels=function(e){var r,i=(r=this.gridOptionsService.get("statusBar"))===null||r===void 0?void 0:r.statusPanels;if(i){var o=i.filter(function(l){return l.align==="left"});this.createAndRenderComponents(o,this.eStatusBarLeft,e);var a=i.filter(function(l){return l.align==="center"});this.createAndRenderComponents(a,this.eStatusBarCenter,e);var s=i.filter(function(l){return!l.align||l.align==="right"});this.createAndRenderComponents(s,this.eStatusBarRight,e)}else this.setDisplayed(!1)},t.prototype.handleStatusBarChanged=function(){var e=this,r,i=(r=this.gridOptionsService.get("statusBar"))===null||r===void 0?void 0:r.statusPanels,o=Array.isArray(i)&&i.length>0;this.setDisplayed(o);var a=new Map;o&&i.forEach(function(s){var l,u,c=(l=s.key)!==null&&l!==void 0?l:s.statusPanel,d=e.statusBarService.getStatusPanel(c);if(d!=null&&d.refresh){var p=e.gridOptionsService.addGridCommonParams((u=s.statusPanelParams)!==null&&u!==void 0?u:{}),h=d.refresh(p);h&&(a.set(c,d),delete e.compDestroyFunctions[c],D.removeFromParent(d.getGui()))}}),this.resetStatusBar(),o&&this.processStatusPanels(a)},t.prototype.resetStatusBar=function(){this.eStatusBarLeft.innerHTML="",this.eStatusBarCenter.innerHTML="",this.eStatusBarRight.innerHTML="",this.destroyComponents(),this.statusBarService.unregisterAllComponents()},t.prototype.destroyComponents=function(){Object.values(this.compDestroyFunctions).forEach(function(e){return e()}),this.compDestroyFunctions={}},t.prototype.createAndRenderComponents=function(e,r,i){var o=this,a=[];e.forEach(function(s){var l=s.key||s.statusPanel,u=i.get(l),c;if(u)c=Qe.resolve(u);else{var d={},p=o.userComponentFactory.getStatusPanelCompDetails(s,d);if(c=p.newAgStackInstance(),!c)return}a.push({key:l,promise:c})}),Qe.all(a.map(function(s){return s.promise})).then(function(){a.forEach(function(s){s.promise.then(function(l){var u=function(){o.getContext().destroyBean(l)};o.isAlive()?(o.statusBarService.registerStatusPanel(s.key,l),r.appendChild(l.getGui()),o.compDestroyFunctions[s.key]=u):u()})})})},t.TEMPLATE=`<div class="ag-status-bar">
            <div ref="eStatusBarLeft" class="ag-status-bar-left" role="status"></div>
            <div ref="eStatusBarCenter" class="ag-status-bar-center" role="status"></div>
            <div ref="eStatusBarRight" class="ag-status-bar-right" role="status"></div>
        </div>`,Lp([E("userComponentFactory")],t.prototype,"userComponentFactory",void 0),Lp([E("statusBarService")],t.prototype,"statusBarService",void 0),Lp([$("eStatusBarLeft")],t.prototype,"eStatusBarLeft",void 0),Lp([$("eStatusBarCenter")],t.prototype,"eStatusBarCenter",void 0),Lp([$("eStatusBarRight")],t.prototype,"eStatusBarRight",void 0),Lp([z],t.prototype,"postConstruct",null),Lp([rr],t.prototype,"destroyComponents",null),t}(de),W9e=function(){var n=function(t,e){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])},n(t,e)};return function(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");n(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}}(),V5=function(n,t,e,r){var i=arguments.length,o=i<3?t:r===null?r=Object.getOwnPropertyDescriptor(t,e):r,a;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(n,t,e,r);else for(var s=n.length-1;s>=0;s--)(a=n[s])&&(o=(i<3?a(o):i>3?a(t,e,o):a(t,e))||o);return i>3&&o&&Object.defineProperty(t,e,o),o},g0=function(n){W9e(t,n);function t(){return n.call(this,t.TEMPLATE)||this}return t.prototype.setLabel=function(e,r){this.setDisplayed(!1);var i=this.localeService.getLocaleTextFunc();this.eLabel.innerHTML=i(e,r)},t.prototype.setValue=function(e){this.eValue.innerHTML=e},t.TEMPLATE=`<div class="ag-status-name-value">
            <span ref="eLabel"></span>:&nbsp;
            <span ref="eValue" class="ag-status-name-value-value"></span>
        </div>`,V5([$("eLabel")],t.prototype,"eLabel",void 0),V5([$("eValue")],t.prototype,"eValue",void 0),t}(de),U9e=function(){var n=function(t,e){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])},n(t,e)};return function(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");n(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}}(),B5=function(n,t,e,r){var i=arguments.length,o=i<3?t:r===null?r=Object.getOwnPropertyDescriptor(t,e):r,a;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(n,t,e,r);else for(var s=n.length-1;s>=0;s--)(a=n[s])&&(o=(i<3?a(o):i>3?a(t,e,o):a(t,e))||o);return i>3&&o&&Object.defineProperty(t,e,o),o},z9e=function(n){U9e(t,n);function t(){return n!==null&&n.apply(this,arguments)||this}return t.prototype.postConstruct=function(){if(this.gridApi.__getModel().getType()!=="clientSide"){console.warn("AG Grid: agTotalAndFilteredRowCountComponent should only be used with the client side row model.");return}this.setLabel("totalAndFilteredRows","Rows"),this.addCssClass("ag-status-panel"),this.addCssClass("ag-status-panel-total-and-filtered-row-count"),this.setDisplayed(!0),this.addManagedListener(this.eventService,P.EVENT_MODEL_UPDATED,this.onDataChanged.bind(this)),this.onDataChanged()},t.prototype.onDataChanged=function(){var e=this.localeService.getLocaleTextFunc(),r=e("thousandSeparator",","),i=e("decimalSeparator","."),o=D.formatNumberCommas(this.getFilteredRowCountValue(),r,i),a=D.formatNumberCommas(this.getTotalRowCount(),r,i);if(o===a)this.setValue(o);else{var s=this.localeService.getLocaleTextFunc();this.setValue("".concat(o," ").concat(s("of","of")," ").concat(a))}},t.prototype.getFilteredRowCountValue=function(){var e=0;return this.gridApi.forEachNodeAfterFilter(function(r){r.group||e++}),e},t.prototype.getTotalRowCount=function(){var e=0;return this.gridApi.forEachNode(function(r){r.group||e++}),e},t.prototype.init=function(){},t.prototype.refresh=function(){return!0},t.prototype.destroy=function(){n.prototype.destroy.call(this)},B5([E("gridApi")],t.prototype,"gridApi",void 0),B5([z],t.prototype,"postConstruct",null),t}(g0),K9e=function(){var n=function(t,e){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])},n(t,e)};return function(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");n(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}}(),H5=function(n,t,e,r){var i=arguments.length,o=i<3?t:r===null?r=Object.getOwnPropertyDescriptor(t,e):r,a;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(n,t,e,r);else for(var s=n.length-1;s>=0;s--)(a=n[s])&&(o=(i<3?a(o):i>3?a(t,e,o):a(t,e))||o);return i>3&&o&&Object.defineProperty(t,e,o),o},Y9e=function(n){K9e(t,n);function t(){return n!==null&&n.apply(this,arguments)||this}return t.prototype.postConstruct=function(){if(this.setLabel("filteredRows","Filtered"),this.gridApi.__getModel().getType()!=="clientSide"){console.warn("AG Grid: agFilteredRowCountComponent should only be used with the client side row model.");return}this.addCssClass("ag-status-panel"),this.addCssClass("ag-status-panel-filtered-row-count"),this.setDisplayed(!0);var e=this.onDataChanged.bind(this);this.addManagedListener(this.eventService,P.EVENT_MODEL_UPDATED,e),e()},t.prototype.onDataChanged=function(){var e=this.getTotalRowCountValue(),r=this.getFilteredRowCountValue(),i=this.localeService.getLocaleTextFunc(),o=i("thousandSeparator",","),a=i("decimalSeparator",".");this.setValue(D.formatNumberCommas(r,o,a)),this.setDisplayed(e!==r)},t.prototype.getTotalRowCountValue=function(){var e=0;return this.gridApi.forEachNode(function(r){return e+=1}),e},t.prototype.getFilteredRowCountValue=function(){var e=0;return this.gridApi.forEachNodeAfterFilter(function(r){r.group||(e+=1)}),e},t.prototype.init=function(){},t.prototype.refresh=function(){return!0},t.prototype.destroy=function(){n.prototype.destroy.call(this)},H5([E("gridApi")],t.prototype,"gridApi",void 0),H5([z],t.prototype,"postConstruct",null),t}(g0),X9e=function(){var n=function(t,e){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])},n(t,e)};return function(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");n(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}}(),j5=function(n,t,e,r){var i=arguments.length,o=i<3?t:r===null?r=Object.getOwnPropertyDescriptor(t,e):r,a;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(n,t,e,r);else for(var s=n.length-1;s>=0;s--)(a=n[s])&&(o=(i<3?a(o):i>3?a(t,e,o):a(t,e))||o);return i>3&&o&&Object.defineProperty(t,e,o),o},q9e=function(n){X9e(t,n);function t(){return n!==null&&n.apply(this,arguments)||this}return t.prototype.postConstruct=function(){if(this.setLabel("totalRows","Total Rows"),this.gridApi.__getModel().getType()!=="clientSide"){console.warn("AG Grid: agTotalRowCountComponent should only be used with the client side row model.");return}this.addCssClass("ag-status-panel"),this.addCssClass("ag-status-panel-total-row-count"),this.setDisplayed(!0),this.addManagedListener(this.eventService,P.EVENT_MODEL_UPDATED,this.onDataChanged.bind(this)),this.onDataChanged()},t.prototype.onDataChanged=function(){var e=this.localeService.getLocaleTextFunc(),r=e("thousandSeparator",","),i=e("decimalSeparator",".");this.setValue(D.formatNumberCommas(this.getRowCountValue(),r,i))},t.prototype.getRowCountValue=function(){var e=0;return this.gridApi.forEachLeafNode(function(r){return e+=1}),e},t.prototype.init=function(){},t.prototype.refresh=function(){return!0},t.prototype.destroy=function(){n.prototype.destroy.call(this)},j5([E("gridApi")],t.prototype,"gridApi",void 0),j5([z],t.prototype,"postConstruct",null),t}(g0),Z9e=function(){var n=function(t,e){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])},n(t,e)};return function(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");n(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}}(),FM=function(n,t,e,r){var i=arguments.length,o=i<3?t:r===null?r=Object.getOwnPropertyDescriptor(t,e):r,a;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(n,t,e,r);else for(var s=n.length-1;s>=0;s--)(a=n[s])&&(o=(i<3?a(o):i>3?a(t,e,o):a(t,e))||o);return i>3&&o&&Object.defineProperty(t,e,o),o},Q9e=function(n){Z9e(t,n);function t(){return n!==null&&n.apply(this,arguments)||this}return t.prototype.postConstruct=function(){if(!this.isValidRowModel()){console.warn("AG Grid: agSelectedRowCountComponent should only be used with the client and server side row model.");return}this.setLabel("selectedRows","Selected"),this.addCssClass("ag-status-panel"),this.addCssClass("ag-status-panel-selected-row-count"),this.onRowSelectionChanged();var e=this.onRowSelectionChanged.bind(this);this.addManagedListener(this.eventService,P.EVENT_MODEL_UPDATED,e),this.addManagedListener(this.eventService,P.EVENT_SELECTION_CHANGED,e)},t.prototype.isValidRowModel=function(){var e=this.gridApi.__getModel().getType();return e==="clientSide"||e==="serverSide"},t.prototype.onRowSelectionChanged=function(){var e=this.selectionService.getSelectionCount();if(e<0){this.setValue("?"),this.setDisplayed(!0);return}var r=this.localeService.getLocaleTextFunc(),i=r("thousandSeparator",","),o=r("decimalSeparator",".");this.setValue(D.formatNumberCommas(e,i,o)),this.setDisplayed(e>0)},t.prototype.init=function(){},t.prototype.refresh=function(){return!0},t.prototype.destroy=function(){n.prototype.destroy.call(this)},FM([E("gridApi")],t.prototype,"gridApi",void 0),FM([E("selectionService")],t.prototype,"selectionService",void 0),FM([z],t.prototype,"postConstruct",null),t}(g0),J9e=function(){var n=function(t,e){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])},n(t,e)};return function(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");n(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}}(),Mo=function(n,t,e,r){var i=arguments.length,o=i<3?t:r===null?r=Object.getOwnPropertyDescriptor(t,e):r,a;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(n,t,e,r);else for(var s=n.length-1;s>=0;s--)(a=n[s])&&(o=(i<3?a(o):i>3?a(t,e,o):a(t,e))||o);return i>3&&o&&Object.defineProperty(t,e,o),o},e8e=function(n){J9e(t,n);function t(){return n.call(this,t.TEMPLATE)||this}return t.prototype.destroy=function(){n.prototype.destroy.call(this)},t.prototype.postConstruct=function(){if(!this.isValidRowModel()){console.warn("AG Grid: agAggregationComponent should only be used with the client and server side row model.");return}this.avgAggregationComp.setLabel("avg","Average"),this.countAggregationComp.setLabel("count","Count"),this.minAggregationComp.setLabel("min","Min"),this.maxAggregationComp.setLabel("max","Max"),this.sumAggregationComp.setLabel("sum","Sum"),this.addManagedListener(this.eventService,P.EVENT_RANGE_SELECTION_CHANGED,this.onRangeSelectionChanged.bind(this)),this.addManagedListener(this.eventService,P.EVENT_MODEL_UPDATED,this.onRangeSelectionChanged.bind(this))},t.prototype.isValidRowModel=function(){var e=this.gridApi.__getModel().getType();return e==="clientSide"||e==="serverSide"},t.prototype.init=function(e){this.params=e},t.prototype.refresh=function(e){return this.params=e,this.onRangeSelectionChanged(),!0},t.prototype.setAggregationComponentValue=function(e,r,i){var o,a=this.getAllowedAggregationValueComponent(e);if(D.exists(a)&&a){var s=this.localeService.getLocaleTextFunc(),l=s("thousandSeparator",","),u=s("decimalSeparator",".");a.setValue(D.formatNumberTwoDecimalPlacesAndCommas(r,l,u)),a.setDisplayed(i)}else(o=this.getAggregationValueComponent(e))===null||o===void 0||o.setDisplayed(!1)},t.prototype.getAllowedAggregationValueComponent=function(e){var r=this.params.aggFuncs;return!r||r.includes(e)?this.getAggregationValueComponent(e):null},t.prototype.getAggregationValueComponent=function(e){var r="".concat(e,"AggregationComp");return this[r]},t.prototype.onRangeSelectionChanged=function(){var e=this,r=this.rangeService?this.rangeService.getCellRanges():void 0,i=0,o=0,a=0,s=null,l=null,u={};r&&!D.missingOrEmpty(r)&&r.forEach(function(p){for(var h=e.rangeService.getRangeStartRow(p),f=e.rangeService.getRangeEndRow(p);;){var v=D.missing(h)||!h||e.rowPositionUtils.before(f,h);if(v||!h||!p.columns)break;p.columns.forEach(function(g){if(h!==null){var y=e.cellPositionUtils.createId({rowPinned:h.rowPinned,column:g,rowIndex:h.rowIndex});if(!u[y]){u[y]=!0;var m=e.rowRenderer.getRowNode(h);if(!D.missing(m)){var C=e.valueService.getValue(g,m);D.missing(C)||C===""||(o++,!(typeof C=="object"&&"value"in C&&(C=C.value,C===""))&&(typeof C=="string"&&(C=Number(C)),typeof C=="number"&&!isNaN(C)&&(i+=C,(l===null||C>l)&&(l=C),(s===null||C<s)&&(s=C),a++)))}}}}),h=e.cellNavigationService.getRowBelow(h)}});var c=o>1,d=a>1;this.setAggregationComponentValue("count",o,c),this.setAggregationComponentValue("sum",i,d),this.setAggregationComponentValue("min",s,d),this.setAggregationComponentValue("max",l,d),this.setAggregationComponentValue("avg",i/a,d)},t.TEMPLATE=`<div class="ag-status-panel ag-status-panel-aggregations">
            <ag-name-value ref="avgAggregationComp"></ag-name-value>
            <ag-name-value ref="countAggregationComp"></ag-name-value>
            <ag-name-value ref="minAggregationComp"></ag-name-value>
            <ag-name-value ref="maxAggregationComp"></ag-name-value>
            <ag-name-value ref="sumAggregationComp"></ag-name-value>
        </div>`,Mo([qe("rangeService")],t.prototype,"rangeService",void 0),Mo([E("valueService")],t.prototype,"valueService",void 0),Mo([E("cellNavigationService")],t.prototype,"cellNavigationService",void 0),Mo([E("rowRenderer")],t.prototype,"rowRenderer",void 0),Mo([E("gridApi")],t.prototype,"gridApi",void 0),Mo([E("cellPositionUtils")],t.prototype,"cellPositionUtils",void 0),Mo([E("rowPositionUtils")],t.prototype,"rowPositionUtils",void 0),Mo([$("sumAggregationComp")],t.prototype,"sumAggregationComp",void 0),Mo([$("countAggregationComp")],t.prototype,"countAggregationComp",void 0),Mo([$("minAggregationComp")],t.prototype,"minAggregationComp",void 0),Mo([$("maxAggregationComp")],t.prototype,"maxAggregationComp",void 0),Mo([$("avgAggregationComp")],t.prototype,"avgAggregationComp",void 0),Mo([z],t.prototype,"postConstruct",null),t}(de),t8e="31.1.1",r8e={version:t8e,moduleName:fe.StatusBarModule,beans:[H9e],agStackComponents:[{componentName:"AgStatusBar",componentClass:$9e},{componentName:"AgNameValue",componentClass:g0}],userComponents:[{componentName:"agAggregationComponent",componentClass:e8e},{componentName:"agSelectedRowCountComponent",componentClass:Q9e},{componentName:"agTotalRowCountComponent",componentClass:q9e},{componentName:"agFilteredRowCountComponent",componentClass:Y9e},{componentName:"agTotalAndFilteredRowCountComponent",componentClass:z9e}],dependantModules:[In]},n8e="31.1.1",i8e=function(){var n=function(t,e){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])},n(t,e)};return function(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");n(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}}(),Zf=function(n,t,e,r){var i=arguments.length,o=i<3?t:r===null?r=Object.getOwnPropertyDescriptor(t,e):r,a;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(n,t,e,r);else for(var s=n.length-1;s>=0;s--)(a=n[s])&&(o=(i<3?a(o):i>3?a(t,e,o):a(t,e))||o);return i>3&&o&&Object.defineProperty(t,e,o),o},o8e=function(n){i8e(t,n);function t(){var e=n!==null&&n.apply(this,arguments)||this;return e.firstRow=-1,e.lastRow=-1,e.rowCount=-1,e.rowNodesByIndex={},e}return t.prototype.ensureRowHeightsValid=function(e,r,i,o){return!1},t.prototype.init=function(){var e=this;this.rowHeight=this.gridOptionsService.getRowHeightAsNumber(),this.addManagedListener(this.eventService,P.EVENT_VIEWPORT_CHANGED,this.onViewportChanged.bind(this)),this.addManagedPropertyListener("viewportDatasource",function(){return e.updateDatasource()}),this.addManagedPropertyListener("rowHeight",function(){e.rowHeight=e.gridOptionsService.getRowHeightAsNumber(),e.updateRowHeights()})},t.prototype.start=function(){this.updateDatasource()},t.prototype.isLastRowIndexKnown=function(){return!0},t.prototype.destroyDatasource=function(){this.viewportDatasource&&(this.viewportDatasource.destroy&&this.viewportDatasource.destroy(),this.rowRenderer.datasourceChanged(),this.firstRow=-1,this.lastRow=-1)},t.prototype.updateDatasource=function(){var e=this.gridOptionsService.get("viewportDatasource");e&&this.setViewportDatasource(e)},t.prototype.getViewportRowModelPageSize=function(){return this.gridOptionsService.get("viewportRowModelPageSize")},t.prototype.getViewportRowModelBufferSize=function(){return this.gridOptionsService.get("viewportRowModelBufferSize")},t.prototype.calculateFirstRow=function(e){var r=this.getViewportRowModelBufferSize(),i=this.getViewportRowModelPageSize(),o=e-r;return o<0?0:Math.floor(o/i)*i},t.prototype.calculateLastRow=function(e){if(e===-1)return e;var r=this.getViewportRowModelBufferSize(),i=this.getViewportRowModelPageSize(),o=e+r,a=Math.ceil(o/i)*i,s=this.rowCount-1;return Math.min(a,s)},t.prototype.onViewportChanged=function(e){var r=this.calculateFirstRow(e.firstRow),i=this.calculateLastRow(e.lastRow);(this.firstRow!==r||this.lastRow!==i)&&(this.firstRow=r,this.lastRow=i,this.purgeRowsNotInViewport(),this.viewportDatasource&&this.viewportDatasource.setViewportRange(this.firstRow,this.lastRow))},t.prototype.purgeRowsNotInViewport=function(){var e=this;Object.keys(this.rowNodesByIndex).forEach(function(r){var i=parseInt(r,10);if(i<e.firstRow||i>e.lastRow){if(e.isRowFocused(i))return;delete e.rowNodesByIndex[i]}})},t.prototype.isRowFocused=function(e){var r=this.focusService.getFocusCellToUseAfterRefresh();if(!r||r.rowPinned!=null)return!1;var i=r.rowIndex===e;return i},t.prototype.setViewportDatasource=function(e){this.destroyDatasource(),this.viewportDatasource=e,this.rowCount=-1,e.init?e.init({setRowCount:this.setRowCount.bind(this),setRowData:this.setRowData.bind(this),getRow:this.getRow.bind(this)}):console.warn("AG Grid: viewport is missing init method.")},t.prototype.getType=function(){return"viewport"},t.prototype.getRow=function(e){return this.rowNodesByIndex[e]||(this.rowNodesByIndex[e]=this.createBlankRowNode(e)),this.rowNodesByIndex[e]},t.prototype.getRowNode=function(e){var r;return this.forEachNode(function(i){i.id===e&&(r=i)}),r},t.prototype.getRowCount=function(){return this.rowCount===-1?0:this.rowCount},t.prototype.getRowIndexAtPixel=function(e){return this.rowHeight!==0?Math.floor(e/this.rowHeight):0},t.prototype.getRowBounds=function(e){return{rowHeight:this.rowHeight,rowTop:this.rowHeight*e}},t.prototype.updateRowHeights=function(){var e=this;this.forEachNode(function(i){i.setRowHeight(e.rowHeight),i.setRowTop(e.rowHeight*i.rowIndex)});var r={type:P.EVENT_MODEL_UPDATED,newData:!1,newPage:!1,keepRenderedRows:!0,animate:!1};this.eventService.dispatchEvent(r)},t.prototype.getTopLevelRowCount=function(){return this.getRowCount()},t.prototype.getTopLevelRowDisplayedIndex=function(e){return e},t.prototype.isEmpty=function(){return this.rowCount>0},t.prototype.isRowsToRender=function(){return this.rowCount>0},t.prototype.getNodesInRangeForSelection=function(e,r){var i=D.missing(e)?0:e.rowIndex,o=r.rowIndex,a=i<this.firstRow||i>this.lastRow,s=o<this.firstRow||o>this.lastRow;if(a||s)return[];for(var l=[],u=i<=o?i:o,c=i<=o?o:i,d=u;d<=c;d++)l.push(this.rowNodesByIndex[d]);return l},t.prototype.forEachNode=function(e){var r=this,i=0;Object.keys(this.rowNodesByIndex).forEach(function(o){var a=parseInt(o,10),s=r.rowNodesByIndex[a];e(s,i),i++})},t.prototype.setRowData=function(e){var r=this;D.iterateObject(e,function(i,o){var a=parseInt(i,10);if(a>=r.firstRow&&a<=r.lastRow){var s=r.rowNodesByIndex[a];D.missing(s)&&(s=r.createBlankRowNode(a),r.rowNodesByIndex[a]=s),s.setDataAndId(o,a.toString())}})},t.prototype.createBlankRowNode=function(e){var r=new Ue(this.beans);return r.setRowHeight(this.rowHeight),r.setRowTop(this.rowHeight*e),r.setRowIndex(e),r},t.prototype.setRowCount=function(e,r){if(r===void 0&&(r=!1),e!==this.rowCount){this.rowCount=e,this.eventService.dispatchEventOnce({type:P.EVENT_ROW_COUNT_READY});var i={type:P.EVENT_MODEL_UPDATED,newData:!1,newPage:!1,keepRenderedRows:r,animate:!1};this.eventService.dispatchEvent(i)}},t.prototype.isRowPresent=function(e){var r=this.getRowNode(e.id);return!!r},Zf([E("rowRenderer")],t.prototype,"rowRenderer",void 0),Zf([E("focusService")],t.prototype,"focusService",void 0),Zf([E("beans")],t.prototype,"beans",void 0),Zf([z],t.prototype,"init",null),Zf([rr],t.prototype,"destroyDatasource",null),t=Zf([ae("rowModel")],t),t}(q),a8e={version:n8e,moduleName:fe.ViewportRowModelModule,rowModel:"viewport",beans:[o8e],dependantModules:[In]},s8e=`
.ag-sparkline-tooltip-wrapper {
    position: absolute;
    user-select: none;
    pointer-events: none;
}

.ag-sparkline-tooltip {
    position: relative;
    font: 12px arial,sans-serif;
    border-radius: 2px;
    box-shadow: 0 1px 3px rgb(0 0 0 / 20%), 0 1px 1px rgb(0 0 0 / 14%);
    line-height: 1.7em;
    overflow: hidden;
    white-space: nowrap;
    z-index: 99999;
    background-color: rgb(255, 255, 255);
    color: rgba(0,0,0, 0.67);
}

.ag-sparkline-tooltip-content {
    padding: 0 7px;
    opacity: 1;
}

.ag-sparkline-tooltip-title {
    padding-left: 7px;
    opacity: 1;
}

.ag-sparkline-tooltip-wrapper-hidden {
    top: -10000px !important;
}

.ag-sparkline-wrapper {
    box-sizing: border-box;
    overflow: hidden;
}
`,l8e=function(n){var t=typeof Symbol=="function"&&Symbol.iterator,e=t&&n[t],r=0;if(e)return e.call(n);if(n&&typeof n.length=="number")return{next:function(){return n&&r>=n.length&&(n=void 0),{value:n&&n[r++],done:!n}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")},u8e=xr.extent,Tm=xr.isNumber,c8e=xr.isString,d8e=xr.isStringObject,$5=xr.isDate,p8e=xr.createId,h8e=xr.Padding,LM=cp.LinearScale,f8e=cp.BandScale,W5=cp.TimeScale,_i;(function(n){n[n.SERIES_FILL_ZINDEX=50]="SERIES_FILL_ZINDEX",n[n.AXIS_LINE_ZINDEX=500]="AXIS_LINE_ZINDEX",n[n.SERIES_STROKE_ZINDEX=1e3]="SERIES_STROKE_ZINDEX",n[n.SERIES_LABEL_ZINDEX=1500]="SERIES_LABEL_ZINDEX",n[n.CROSSHAIR_ZINDEX=2e3]="CROSSHAIR_ZINDEX",n[n.SERIES_MARKERS_ZINDEX=2500]="SERIES_MARKERS_ZINDEX"})(_i||(_i={}));var v8e=function(){function n(){this.type="category",this.stroke="rgb(204, 214, 235)",this.strokeWidth=1}return n}(),c2=function(){function n(){this.id=p8e(this),this.seriesRect={x:0,y:0,width:0,height:0},this._context=void 0,this._container=void 0,this._data=void 0,this.padding=new h8e(3),this.xKey="x",this.yKey="y",this.dataType=void 0,this.xData=[],this.yData=[],this.min=void 0,this.max=void 0,this.yScale=new LM,this.axis=new v8e,this.highlightStyle={size:6,fill:"yellow",stroke:"silver",strokeWidth:1},this._width=100,this._height=100,this.smallestInterval=void 0,this.layoutId=0,this.defaultDateFormatter=new Intl.DateTimeFormat("en-US",{year:"numeric",month:"2-digit",day:"2-digit",hour:"2-digit",minute:"2-digit",second:"2-digit",hour12:!1}),this._onMouseMove=this.onMouseMove.bind(this),this._onMouseOut=this.onMouseOut.bind(this);var t=new oe.Group;this.rootGroup=t;var e=document.createElement("div");e.setAttribute("class","ag-sparkline-wrapper");var r=new oe.Scene({window,document});this.scene=r,this.canvasElement=r.canvas.element,r.root=t,r.container=e,this.resizeAndSetDimensions(this.width,this.height),n.tooltipDocuments.includes(document)||this.initialiseTooltipStyles(),this.setupDomEventListeners(this.canvasElement)}return Object.defineProperty(n.prototype,"context",{get:function(){return this._context},set:function(t){this._context!==t&&(this._context=t)},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"container",{get:function(){return this._container},set:function(t){if(this._container!==t){var e=this.canvasElement.parentNode;e!=null&&e.removeChild(this.canvasElement),t&&t.appendChild(this.canvasElement),this._container=t}},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"data",{get:function(){return this._data},set:function(t){this._data!==t&&(this._data=t,this.processData(),this.mouseMoveEvent&&this.highlightedDatum&&this.updateHitPoint(this.mouseMoveEvent))},enumerable:!1,configurable:!0}),n.prototype.resizeAndSetDimensions=function(t,e){this.scene.resize(t,e),this.seriesRect.width=t,this.seriesRect.height=e},n.prototype.initialiseTooltipStyles=function(){var t=document.createElement("style");t.innerHTML=s8e,document.head.insertBefore(t,document.head.querySelector("style")),n.tooltipDocuments.push(document)},Object.defineProperty(n.prototype,"width",{get:function(){return this._width},set:function(t){this._width!==t&&(this._width=t,this.scene.resize(t,this.height),this.scheduleLayout())},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"height",{get:function(){return this._height},set:function(t){this._height!==t&&(this._height=t,this.scene.resize(this.width,t),this.scheduleLayout())},enumerable:!1,configurable:!0}),n.prototype.update=function(){},n.prototype.updateYScale=function(){this.updateYScaleRange(),this.updateYScaleDomain()},n.prototype.updateYScaleDomain=function(){},n.prototype.updateYScaleRange=function(){var t=this,e=t.yScale,r=t.seriesRect;e.range=[r.height,0]},n.prototype.updateXScale=function(){var t=this.axis.type;this.xScale=this.getXScale(t),this.updateXScaleRange(),this.updateXScaleDomain()},n.prototype.updateXScaleRange=function(){this.xScale.range=[0,this.seriesRect.width]},n.prototype.updateXScaleDomain=function(){var t=this,e=t.xData,r=t.xScale,i;(r instanceof LM||r instanceof W5)&&(i=u8e(e)),this.xScale.domain=i?i.slice():e},n.prototype.getXScale=function(t){switch(t===void 0&&(t="category"),t){case"number":return new LM;case"time":return new W5;case"category":default:return new f8e}},n.prototype.updateAxisLine=function(){},n.prototype.updateAxes=function(){this.updateYScale(),this.updateXScale(),this.updateAxisLine()},n.prototype.updateCrosshairs=function(){this.updateXCrosshairLine(),this.updateYCrosshairLine()},n.prototype.generateNodeData=function(){return[]},n.prototype.getNodeData=function(){return[]},n.prototype.updateNodes=function(){},n.prototype.updateXCrosshairLine=function(){},n.prototype.updateYCrosshairLine=function(){},n.prototype.highlightDatum=function(t){this.updateNodes()},n.prototype.dehighlightDatum=function(){this.highlightedDatum=void 0,this.updateNodes(),this.updateCrosshairs()},n.prototype.onMouseMove=function(t){this.mouseMoveEvent=t,this.updateHitPoint(t)},n.prototype.updateHitPoint=function(t){var e,r,i,o=this.pickClosestSeriesNodeDatum(t.offsetX,t.offsetY);if(o){var a=this.highlightedDatum;this.highlightedDatum=o,(this.highlightedDatum&&!a||this.highlightedDatum&&a&&this.highlightedDatum!==a)&&(this.highlightDatum(o),this.updateCrosshairs(),this.scene.render().catch(function(l){return console.error("AG Grid - chart rendering failed",l)}));var s=(i=(r=(e=this.processedOptions)===null||e===void 0?void 0:e.tooltip)===null||r===void 0?void 0:r.enabled)!==null&&i!==void 0?i:!0;s&&this.handleTooltip(t,o)}},n.prototype.onMouseOut=function(t){this.dehighlightDatum(),this.tooltip.toggle(!1),this.scene.render().catch(function(e){return console.error("AG Grid - chart rendering failed",e)})},n.prototype.processData=function(){var t=this,e=this,r=e.data,i=e.yData,o=e.xData;if(!(!r||this.invalidData(this.data))){i.length=0,o.length=0;var a=r.length,s=this.getDataType(r);this.dataType=s;var l=this.axis.type,u=l!=="number"&&l!=="time"?"category":l,c=u==="number"||u==="time",d=function(_,x){t.smallestInterval==null&&(t.smallestInterval={x:1/0,y:1/0});var b=t.smallestInterval.x,O=Math.abs(_-x);O>0&&O<b&&(t.smallestInterval.x=O)},p;if(s==="number")for(var h=0;h<a;h++){var f=h,v=r[h],g=this.getDatum(f,u),y=this.getDatum(v,"number");c&&d(g,p),o.push(g),i.push(y),p=g}else if(s==="array")for(var h=0;h<a;h++){var m=r[h];if(Array.isArray(m)){var f=m[0],v=m[1],g=this.getDatum(f,u),y=this.getDatum(v,"number");if(g==null)continue;c&&d(g,p),o.push(g),i.push(y),p=g}}else if(s==="object")for(var C=this,S=C.yKey,w=C.xKey,h=0;h<a;h++){var m=r[h];if(typeof m=="object"&&!Array.isArray(m)){var f=m[w],v=m[S],g=this.getDatum(f,u),y=this.getDatum(v,"number");if(g==null)continue;c&&d(g,p),o.push(g),i.push(y),p=g}}this.updateAxes(),this.immediateLayout()}},n.prototype.getDataType=function(t){var e,r;try{for(var i=l8e(t),o=i.next();!o.done;o=i.next()){var a=o.value;if(a!=null){if(Tm(a))return"number";if(Array.isArray(a))return"array";if(typeof a=="object")return"object"}}}catch(s){e={error:s}}finally{try{o&&!o.done&&(r=i.return)&&r.call(i)}finally{if(e)throw e.error}}},n.prototype.getDatum=function(t,e){if(e==="number"&&Tm(t)||e==="time"&&(Tm(t)||$5(t)))return t;if(e==="category"){if(c8e(t)||$5(t)||Tm(t))return{toString:function(){return String(t)}};if(d8e(t))return t}},Object.defineProperty(n.prototype,"layoutScheduled",{get:function(){return!!this.layoutId},enumerable:!1,configurable:!0}),n.prototype.scheduleLayout=function(){var t=this;this.layoutId&&cancelAnimationFrame(this.layoutId),this.layoutId=requestAnimationFrame(function(){t.immediateLayout(),t.layoutId=0})},n.prototype.immediateLayout=function(){this.setSparklineDimensions(),!this.invalidData(this.data)&&(this.updateXScaleRange(),this.updateYScaleRange(),this.updateAxisLine(),this.update(),this.scene.render().catch(function(t){return console.error("AG Grid - chart rendering failed",t)}))},n.prototype.setSparklineDimensions=function(){var t=this,e=t.width,r=t.height,i=t.padding,o=t.seriesRect,a=t.rootGroup,s=e-i.left-i.right,l=r-i.top-i.bottom;o.width=s,o.height=l,o.x=i.left,o.y=i.top,a.translationX=o.x,a.translationY=o.y},n.prototype.pickClosestSeriesNodeDatum=function(t,e){for(var r=1/0,i,o=this.rootGroup.transformPoint(t,e),a=this.getNodeData(),s=0;s<a.length;s++){var l=a[s];if(!l.point)return;var u=this.getDistance(o,l.point);u<=r&&(r=u,i=l)}return i},n.prototype.getDistance=function(t,e){return Math.abs(t.x-e.x)},n.prototype.handleTooltip=function(t,e){var r,i,o=e.seriesDatum,a=this.canvasElement,s=t.clientX,l=t.clientY,u=(r=this.processedOptions)===null||r===void 0?void 0:r.tooltip,c={pageX:s,pageY:l,position:{xOffset:u==null?void 0:u.xOffset,yOffset:u==null?void 0:u.yOffset},container:u==null?void 0:u.container};c.container==null&&(c.container=a);var d=o.y,p=o.x,h=(i=u==null?void 0:u.enabled)!==null&&i!==void 0?i:!0,f=u==null?void 0:u.renderer;if(f){var v=f({context:this.context,datum:o,yValue:d,xValue:p});h=typeof v!="string"&&v.enabled!==void 0?v.enabled:h}var g=h&&o.y!==void 0&&this.getTooltipHtml(e);g&&this.tooltip.show(c,g)},n.prototype.formatNumericDatum=function(t){return String(Math.round(t*10)/10)},n.prototype.formatDatum=function(t){var e=this.axis.type||"category";return e==="number"&&typeof t=="number"?this.formatNumericDatum(t):e==="time"&&(t instanceof Date||Tm(t))?this.defaultDateFormatter.format(t):String(t)},n.prototype.setupDomEventListeners=function(t){t.addEventListener("mousemove",this._onMouseMove),t.addEventListener("mouseout",this._onMouseOut)},n.prototype.cleanupDomEventListeners=function(t){t.removeEventListener("mousemove",this._onMouseMove),t.removeEventListener("mouseout",this._onMouseOut)},n.prototype.invalidData=function(t){return!t||!Array.isArray(t)||t.length===0},n.prototype.destroy=function(){this.scene.container=void 0,this.container=void 0,this.cleanupDomEventListeners(this.scene.canvas.element)},n.tooltipDocuments=[],n}();function Pg(n,t){var e,r,i;if(typeof n=="string")return n;t=t??{};var o=n.content,a=o===void 0?(e=t.content)!==null&&e!==void 0?e:"":o,s=n.title,l=s===void 0?(r=t.title)!==null&&r!==void 0?r:void 0:s,u=n.color,c=u===void 0?t.color:u,d=n.backgroundColor,p=d===void 0?t.backgroundColor:d,h=n.opacity,f=h===void 0?(i=t.opacity)!==null&&i!==void 0?i:1:h,v,g;c?(v=l?'<span class="'.concat(ev.class,'-title"; style="color: ').concat(c,'">').concat(l,"</span>"):"",g='<span class="'.concat(ev.class,'-content" style="color: ').concat(c,'">').concat(a,"</span>")):(v=l?'<span class="'.concat(ev.class,'-title">').concat(l,"</span>"):"",g='<span class="'.concat(ev.class,'-content">').concat(a,"</span>"));var y="opacity: ".concat(f);return p&&(y+="; background-color: ".concat(p.toLowerCase())),'<div class="'.concat(ev.class,'" style="').concat(y,`">
                `).concat(v,`
                `).concat(g,`
            </div>`)}var ev=function(){function n(){this.element=document.createElement("div");var t=document.body;t.appendChild(this.element)}return n.prototype.isVisible=function(){var t=this.element;if(t.classList)return!t.classList.contains("".concat(n.class,"-wrapper-hidden"));var e=t.getAttribute("class");return e?e.split(" ").indexOf("".concat(n.class,"-wrapper-hidden"))<0:!1},n.prototype.updateClass=function(t){var e=["".concat(n.class,"-wrapper")];t!==!0&&e.push("".concat(n.class,"-wrapper-hidden")),this.element.setAttribute("class",e.join(" "))},n.prototype.show=function(t,e){var r,i,o,a;this.toggle(!1);var s=this.element;if(e!==void 0)s.innerHTML=e;else if(!s.innerHTML)return;var l=(i=(r=t.position)===null||r===void 0?void 0:r.xOffset)!==null&&i!==void 0?i:10,u=(a=(o=t.position)===null||o===void 0?void 0:o.yOffset)!==null&&a!==void 0?a:0,c=t.pageX+l,d=t.pageY+u,p=s.getBoundingClientRect(),h=window.innerWidth-p.width;if(t.container){var f=t.container.getBoundingClientRect();h=f.left+(f.width-p.width)}c>h&&(c=t.pageX-s.clientWidth-l),typeof scrollX<"u"&&(c+=scrollX),typeof scrollY<"u"&&(d+=scrollY),s.style.left="".concat(Math.round(c),"px"),s.style.top="".concat(Math.round(d),"px"),this.toggle(!0)},n.prototype.toggle=function(t){this.updateClass(t)},n.prototype.destroy=function(){var t=this.element.parentNode;t&&t.removeChild(this.element)},n.class="ag-sparkline-tooltip",n}();function pre(n){switch(n){case"circle":return oe.Circle;case"square":return oe.Square;case"diamond":return oe.Diamond;default:return oe.Circle}}function qO(n,t){t===void 0&&(t="solid");var e={solid:[],dash:[4,3],dot:[1,3],dashDot:[4,3,1,3],dashDotDot:[4,3,1,3,1,3],shortDot:[1,1],shortDash:[3,1],shortDashDot:[3,1,1,1],shortDashDotDot:[3,1,1,1,1,1],longDash:[8,3],longDashDot:[8,3,1,3],longDashDotDot:[8,3,1,3,1,3]},r={solid:[],dash:[3,3],dot:[0,3],dashDot:[3,3,0,3],dashDotDot:[3,3,0,3,0,3],shortDot:[0,2],shortDash:[2,2],shortDashDot:[2,2,0,2],shortDashDotDot:[2,2,0,2,0,2],longDash:[7,3],longDashDot:[7,3,0,3],longDashDotDot:[7,3,0,3,0,3]};return n==="round"||n==="square"?r[t]==null?(console.warn("'".concat(t,"' is not a valid 'lineDash' option.")),r.solid):r[t]:e[t]==null?(console.warn("'".concat(t,"' is not a valid 'lineDash' option.")),e.solid):e[t]}var g8e=function(){var n=function(t,e){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])},n(t,e)};return function(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");n(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}}(),y8e=xr.extent,m8e=cp.BandScale,C8e=function(){function n(){this.enabled=!0,this.shape="circle",this.size=0,this.fill="rgb(124, 181, 236)",this.stroke="rgb(124, 181, 236)",this.strokeWidth=1,this.formatter=void 0}return n}(),S8e=function(){function n(){this.stroke="rgb(124, 181, 236)",this.strokeWidth=1}return n}(),w8e=function(){function n(){this.xLine={enabled:!0,stroke:"rgba(0,0,0, 0.54)",strokeWidth:1,lineDash:"solid",lineCap:void 0},this.yLine={enabled:!1,stroke:"rgba(0,0,0, 0.54)",strokeWidth:1,lineDash:"solid",lineCap:void 0}}return n}(),_8e=function(n){g8e(t,n);function t(){var e=n.call(this)||this;return e.fill="rgba(124, 181, 236, 0.25)",e.strokePath=new oe.Path,e.fillPath=new oe.Path,e.xCrosshairLine=new oe.Line,e.yCrosshairLine=new oe.Line,e.areaSparklineGroup=new oe.Group,e.xAxisLine=new oe.Line,e.markers=new oe.Group,e.markerSelection=oe.Selection.select(e.markers,function(){return e.markerFactory()}),e.markerSelectionData=[],e.marker=new C8e,e.line=new S8e,e.crosshairs=new w8e,e.rootGroup.append(e.areaSparklineGroup),e.xAxisLine.zIndex=_i.AXIS_LINE_ZINDEX,e.fillPath.zIndex=_i.SERIES_FILL_ZINDEX,e.strokePath.zIndex=_i.SERIES_STROKE_ZINDEX,e.xCrosshairLine.zIndex=_i.CROSSHAIR_ZINDEX,e.yCrosshairLine.zIndex=_i.CROSSHAIR_ZINDEX,e.markers.zIndex=_i.SERIES_MARKERS_ZINDEX,e.areaSparklineGroup.append([e.fillPath,e.xAxisLine,e.strokePath,e.xCrosshairLine,e.yCrosshairLine,e.markers]),e}return t.prototype.markerFactory=function(){var e=this.marker.shape,r=pre(e);return new r},t.prototype.getNodeData=function(){return this.markerSelectionData},t.prototype.update=function(){var e=this.generateNodeData();if(e){var r=e.nodeData,i=e.fillData,o=e.strokeData;this.markerSelectionData=r,this.updateSelection(r),this.updateNodes(),this.updateStroke(o),this.updateFill(i)}},t.prototype.updateYScaleDomain=function(){var e=this,r=e.yData,i=e.yScale,o=y8e(r),a=0,s=1;o!==void 0&&(a=this.min=o[0],s=this.max=o[1]),a=a<0?a:0,s=s<0?0:s,i.domain=[a,s]},t.prototype.generateNodeData=function(){var e=this,r=e.data,i=e.yData,o=e.xData,a=e.xScale,s=e.yScale;if(r){for(var l=!(a instanceof m8e),u=l?0:a.bandwidth/2,c=i.length,d=[],p=[],h=[],f,v,g,y,m=s.convert(0),C=0;C<c;C++){var S=i[C],w=o[C],_=a.convert(l?a.toDomain(w):w)+u,x=S===void 0?NaN:s.convert(S);C+1<c&&(y=a.convert(l?a.toDomain(o[C+1]):o[C+1])+u),h.push({seriesDatum:{x:w,y:S},point:{x:_,y:x}}),S===void 0&&g!==void 0?(p.push({seriesDatum:void 0,point:{x:g,y:m}}),y!==void 0&&p.push({seriesDatum:void 0,point:{x:y,y:m}})):S!==void 0&&(p.push({seriesDatum:{x:w,y:S},point:{x:_,y:x}}),d.push({seriesDatum:{x:w,y:S},point:{x:_,y:x}}),f=f!==void 0?f:_,v=_),g=_}return p.push({seriesDatum:void 0,point:{x:v,y:m}},{seriesDatum:void 0,point:{x:f,y:m}}),{nodeData:d,fillData:p,strokeData:h}}},t.prototype.updateAxisLine=function(){var e=this,r=e.xScale,i=e.yScale,o=e.axis,a=e.xAxisLine;a.x1=r.range[0],a.x2=r.range[1],a.y1=a.y2=0,a.stroke=o.stroke,a.strokeWidth=o.strokeWidth;var s=i.convert(0);a.translationY=s},t.prototype.updateSelection=function(e){this.markerSelection.update(e)},t.prototype.updateNodes=function(){var e=this,r=this,i=r.highlightedDatum,o=r.highlightStyle,a=r.marker,s=o.size,l=o.fill,u=o.stroke,c=o.strokeWidth,d=a.formatter;this.markerSelection.each(function(p,h,f){var v=h.point,g=h.seriesDatum;if(v){var y=h===i,m=y&&l!==void 0?l:a.fill,C=y&&u!==void 0?u:a.stroke,S=y&&c!==void 0?c:a.strokeWidth,w=y&&s!==void 0?s:a.size,_;if(d){var x=f===0,b=f===e.markerSelectionData.length-1,O=g.y===e.min,T=g.y===e.max;_=d({datum:h,xValue:g.x,yValue:g.y,min:O,max:T,first:x,last:b,fill:m,stroke:C,strokeWidth:S,size:w,highlighted:y})}p.size=_&&_.size!=null?_.size:w,p.fill=_&&_.fill!=null?_.fill:m,p.stroke=_&&_.stroke!=null?_.stroke:C,p.strokeWidth=_&&_.strokeWidth!=null?_.strokeWidth:S,p.translationX=v.x,p.translationY=v.y,p.visible=_&&_.enabled!=null?_.enabled:a.enabled&&p.size>0}})},t.prototype.updateStroke=function(e){var r=this,i=r.strokePath,o=r.yData,a=r.line;if(!(o.length<2)){var s=i.path,l=e.length,u=!0;s.clear();for(var c=0;c<l;c++){var d=e[c],p=d.point,h=d.seriesDatum,f=p.x,v=p.y;h.y==null?u=!0:u?(s.moveTo(f,v),u=!1):s.lineTo(f,v)}i.lineJoin=i.lineCap="round",i.fill=void 0,i.stroke=a.stroke,i.strokeWidth=a.strokeWidth}},t.prototype.updateFill=function(e){var r=this,i=r.fillPath,o=r.yData,a=r.fill,s=i.path,l=e.length;if(s.clear(),!(o.length<2)){for(var u=0;u<l;u++){var c=e[u].point,d=c.x,p=c.y;u>0?s.lineTo(d,p):s.moveTo(d,p)}s.closePath(),i.lineJoin="round",i.stroke=void 0,i.fill=a}},t.prototype.updateXCrosshairLine=function(){var e,r=this,i=r.yScale,o=r.xCrosshairLine,a=r.highlightedDatum,s=r.crosshairs.xLine;if(!s.enabled||a==null){o.strokeWidth=0;return}o.y1=i.range[0],o.y2=i.range[1],o.x1=o.x2=0,o.stroke=s.stroke,o.strokeWidth=(e=s.strokeWidth)!==null&&e!==void 0?e:1,o.lineCap=s.lineCap==="round"||s.lineCap==="square"?s.lineCap:void 0;var l=s.lineDash;o.lineDash=Array.isArray(l)?l:qO(o.lineCap,s.lineDash),o.translationX=a.point.x},t.prototype.updateYCrosshairLine=function(){var e,r=this,i=r.xScale,o=r.yCrosshairLine,a=r.highlightedDatum,s=r.crosshairs.yLine;if(!s.enabled||a==null){o.strokeWidth=0;return}o.x1=i.range[0],o.x2=i.range[1],o.y1=o.y2=0,o.stroke=s.stroke,o.strokeWidth=(e=s.strokeWidth)!==null&&e!==void 0?e:1,o.lineCap=s.lineCap==="round"||s.lineCap==="square"?s.lineCap:void 0;var l=s.lineDash;o.lineDash=Array.isArray(l)?l:qO(o.lineCap,s.lineDash),o.translationY=a.point.y},t.prototype.getTooltipHtml=function(e){var r,i,o=this.dataType,a=e.seriesDatum,s=a.y,l=a.x,u=this.formatNumericDatum(s),c=o==="array"||o==="object"?this.formatDatum(l):void 0,d={content:u,title:c},p=(i=(r=this.processedOptions)===null||r===void 0?void 0:r.tooltip)===null||i===void 0?void 0:i.renderer;return p?Pg(p({context:this.context,datum:a,yValue:s,xValue:l}),d):Pg(d)},t.className="AreaSparkline",t}(c2),x8e=function(){var n=function(t,e){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])},n(t,e)};return function(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");n(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}}(),E8e=xr.extent,U5=cp.BandScale,b8e=function(){function n(){this.enabled=!0,this.shape="circle",this.size=0,this.fill="rgb(124, 181, 236)",this.stroke="rgb(124, 181, 236)",this.strokeWidth=1,this.formatter=void 0}return n}(),O8e=function(){function n(){this.stroke="rgb(124, 181, 236)",this.strokeWidth=1}return n}(),R8e=function(){function n(){this.xLine={enabled:!0,stroke:"rgba(0,0,0, 0.54)",strokeWidth:1,lineDash:"solid",lineCap:void 0},this.yLine={enabled:!1,stroke:"rgba(0,0,0, 0.54)",strokeWidth:1,lineDash:"solid",lineCap:void 0}}return n}(),T8e=function(n){x8e(t,n);function t(){var e=n.call(this)||this;return e.linePath=new oe.Path,e.xCrosshairLine=new oe.Line,e.yCrosshairLine=new oe.Line,e.lineSparklineGroup=new oe.Group,e.markers=new oe.Group,e.markerSelection=oe.Selection.select(e.markers,function(){return e.markerFactory()}),e.markerSelectionData=[],e.marker=new b8e,e.line=new O8e,e.crosshairs=new R8e,e.rootGroup.append(e.lineSparklineGroup),e.linePath.zIndex=_i.SERIES_STROKE_ZINDEX,e.xCrosshairLine.zIndex=_i.CROSSHAIR_ZINDEX,e.yCrosshairLine.zIndex=_i.CROSSHAIR_ZINDEX,e.markers.zIndex=_i.SERIES_MARKERS_ZINDEX,e.lineSparklineGroup.append([e.linePath,e.xCrosshairLine,e.yCrosshairLine,e.markers]),e}return t.prototype.getNodeData=function(){return this.markerSelectionData},t.prototype.markerFactory=function(){var e=this.marker.shape,r=pre(e);return new r},t.prototype.onMarkerShapeChange=function(){this.markerSelection=this.markerSelection.clear(),this.scheduleLayout()},t.prototype.update=function(){var e=this.generateNodeData();e&&(this.markerSelectionData=e,this.updateSelection(e),this.updateNodes(),this.updateLine())},t.prototype.updateYScaleDomain=function(){var e=this,r=e.yData,i=e.yScale,o=E8e(r),a=0,s=1;if(o!==void 0&&(a=this.min=o[0],s=this.max=o[1]),a===s){var l=Math.abs(a*.01);a-=l,s+=l}i.domain=[a,s]},t.prototype.generateNodeData=function(){var e=this,r=e.data,i=e.yData,o=e.xData,a=e.xScale,s=e.yScale;if(r){for(var l=!(a instanceof U5),u=l?0:a.bandwidth/2,c=[],d=0;d<i.length;d++){var p=i[d],h=o[d];if(p!=null){var f=a.convert(l?a.toDomain(h):h)+u,v=p===void 0?NaN:s.convert(p);c.push({seriesDatum:{x:h,y:p},point:{x:f,y:v}})}}return c}},t.prototype.updateSelection=function(e){this.markerSelection.update(e)},t.prototype.updateNodes=function(){var e=this,r=this,i=r.highlightedDatum,o=r.highlightStyle,a=r.marker,s=o.size,l=o.fill,u=o.stroke,c=o.strokeWidth,d=a.formatter;this.markerSelection.each(function(p,h,f){var v=h===i,g=v&&l!==void 0?l:a.fill,y=v&&u!==void 0?u:a.stroke,m=v&&c!==void 0?c:a.strokeWidth,C=v&&s!==void 0?s:a.size,S,w=h.seriesDatum,_=h.point;if(d){var x=f===0,b=f===e.markerSelectionData.length-1,O=w.y===e.min,T=w.y===e.max;S=d({datum:h,xValue:w.x,yValue:w.y,min:O,max:T,first:x,last:b,fill:g,stroke:y,strokeWidth:m,size:C,highlighted:v})}p.size=S&&S.size!=null?S.size:C,p.fill=S&&S.fill!=null?S.fill:g,p.stroke=S&&S.stroke!=null?S.stroke:y,p.strokeWidth=S&&S.strokeWidth!=null?S.strokeWidth:m,p.translationX=_.x,p.translationY=_.y,p.visible=S&&S.enabled!=null?S.enabled:a.enabled&&p.size>0})},t.prototype.updateLine=function(){var e=this,r=e.linePath,i=e.yData,o=e.xData,a=e.xScale,s=e.yScale,l=e.line;if(!(i.length<2)){var u=!(a instanceof U5),c=r.path,d=i.length,p=u?0:a.bandwidth/2,h=!0;c.clear();for(var f=0;f<d;f++){var v=o[f],g=i[f],y=a.convert(u?a.toDomain(v):v)+p,m=g===void 0?NaN:s.convert(g);g==null?h=!0:h?(c.moveTo(y,m),h=!1):c.lineTo(y,m)}r.fill=void 0,r.stroke=l.stroke,r.strokeWidth=l.strokeWidth}},t.prototype.updateXCrosshairLine=function(){var e,r=this,i=r.yScale,o=r.xCrosshairLine,a=r.highlightedDatum,s=r.crosshairs.xLine;if(!s.enabled||a==null){o.strokeWidth=0;return}o.y1=i.range[0],o.y2=i.range[1],o.x1=o.x2=0,o.stroke=s.stroke,o.strokeWidth=(e=s.strokeWidth)!==null&&e!==void 0?e:1,o.lineCap=s.lineCap==="round"||s.lineCap==="square"?s.lineCap:void 0;var l=s.lineDash;o.lineDash=Array.isArray(l)?l:qO(o.lineCap,s.lineDash),o.translationX=a.point.x},t.prototype.updateYCrosshairLine=function(){var e,r=this,i=r.xScale,o=r.yCrosshairLine,a=r.highlightedDatum,s=r.crosshairs.yLine;if(!s.enabled||a==null){o.strokeWidth=0;return}o.x1=i.range[0],o.x2=i.range[1],o.y1=o.y2=0,o.stroke=s.stroke,o.strokeWidth=(e=s.strokeWidth)!==null&&e!==void 0?e:1,o.lineCap=s.lineCap==="round"||s.lineCap==="square"?s.lineCap:void 0;var l=s.lineDash;o.lineDash=Array.isArray(l)?l:qO(o.lineCap,s.lineDash),o.translationY=a.point.y},t.prototype.getTooltipHtml=function(e){var r,i,o=this.dataType,a=e.seriesDatum,s=a.y,l=a.x,u=this.formatNumericDatum(s),c=o==="array"||o==="object"?this.formatDatum(l):void 0,d={content:u,title:c},p=(i=(r=this.processedOptions)===null||r===void 0?void 0:r.tooltip)===null||i===void 0?void 0:i.renderer;return p?Pg(p({context:this.context,datum:a,yValue:s,xValue:l}),d):Pg(d)},t.className="LineSparkline",t}(c2),P8e=function(){function n(){this.enabled=!0,this.fontSize=8,this.fontFamily="Verdana, sans-serif",this.fontStyle=void 0,this.fontWeight=void 0,this.color="rgba(70, 70, 70, 1)"}return n}(),hre=function(){var n=function(t,e){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])},n(t,e)};return function(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");n(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}}(),A8e=xr.extent,a1;(function(n){n[n.Rect=0]="Rect",n[n.Label=1]="Label"})(a1||(a1={}));var Vu;(function(n){n.InsideBase="insideBase",n.InsideEnd="insideEnd",n.Center="center",n.OutsideEnd="outsideEnd"})(Vu||(Vu={}));var D8e=function(n){hre(t,n);function t(){var e=n!==null&&n.apply(this,arguments)||this;return e.formatter=void 0,e.placement=Vu.InsideEnd,e}return t}(P8e),fre=function(n){hre(t,n);function t(){var e=n.call(this)||this;return e.fill="rgb(124, 181, 236)",e.stroke="silver",e.strokeWidth=0,e.paddingInner=.1,e.paddingOuter=.2,e.valueAxisDomain=void 0,e.formatter=void 0,e.axisLine=new oe.Line,e.bandWidth=0,e.sparklineGroup=new oe.Group,e.rectGroup=new oe.Group,e.labelGroup=new oe.Group,e.rectSelection=oe.Selection.select(e.rectGroup,oe.Rect),e.labelSelection=oe.Selection.select(e.labelGroup,oe.Text),e.nodeSelectionData=[],e.label=new D8e,e.rootGroup.append(e.sparklineGroup),e.rectGroup.zIndex=_i.SERIES_FILL_ZINDEX,e.axisLine.zIndex=_i.AXIS_LINE_ZINDEX,e.labelGroup.zIndex=_i.SERIES_LABEL_ZINDEX,e.sparklineGroup.append([e.rectGroup,e.axisLine,e.labelGroup]),e.axisLine.lineCap="round",e.label.enabled=!1,e}return t.prototype.getNodeData=function(){return this.nodeSelectionData},t.prototype.update=function(){this.updateSelections(),this.updateNodes()},t.prototype.updateSelections=function(){var e=this.generateNodeData();e&&(this.nodeSelectionData=e,this.updateRectSelection(e),this.updateLabelSelection(e))},t.prototype.updateNodes=function(){this.updateRectNodes(),this.updateLabelNodes()},t.prototype.calculateStep=function(e){var r,i=this,o=i.xScale,a=i.paddingInner,s=i.paddingOuter,l=i.smallestInterval,u=o.domain[1]-o.domain[0],c=u/((r=l==null?void 0:l.x)!==null&&r!==void 0?r:1)+1,d=50,p=Math.min(c,d),h=p-1,f=e/Math.max(1,2*s+h*a+p);return f},t.prototype.updateYScaleDomain=function(){var e=this,r=e.yScale,i=e.yData,o=e.valueAxisDomain,a=A8e(i),s=0,l=1;a!==void 0&&(s=this.min=a[0],l=this.max=a[1]),s=s<0?s:0,l=l<0?0:l,o&&(o[1]<l&&(o[1]=l),o[0]>s&&(o[0]=s)),r.domain=o||[s,l]},t.prototype.updateRectSelection=function(e){this.rectSelection.update(e)},t.prototype.updateRectNodes=function(){var e=this,r=this,i=r.highlightedDatum,o=r.formatter,a=r.fill,s=r.stroke,l=r.strokeWidth,u=this.highlightStyle,c=u.fill,d=u.stroke,p=u.strokeWidth;this.rectSelection.each(function(h,f,v){var g=f===i,y=g&&c!==void 0?c:a,m=g&&d!==void 0?d:s,C=g&&p!==void 0?p:l,S,w=f.x,_=f.y,x=f.width,b=f.height,O=f.seriesDatum;if(o){var T=v===0,A=v===e.nodeSelectionData.length-1,N=O.y===e.min,M=O.y===e.max;S=o({datum:f,xValue:O.x,yValue:O.y,width:x,height:b,min:N,max:M,first:T,last:A,fill:y,stroke:m,strokeWidth:C,highlighted:g})}h.fill=S&&S.fill||y,h.stroke=S&&S.stroke||m,h.strokeWidth=S&&S.strokeWidth||C,h.x=h.y=0,h.width=x,h.height=b,h.visible=h.height>0,h.translationX=w,h.translationY=_})},t.prototype.updateLabelSelection=function(e){this.labelSelection.update(e,function(r){r.tag=a1.Label,r.pointerEvents=oe.PointerEvents.None})},t.prototype.updateLabelNodes=function(){var e=this.label,r=e.enabled,i=e.fontStyle,o=e.fontWeight,a=e.fontSize,s=e.fontFamily,l=e.color;this.labelSelection.each(function(u,c){var d=c.label;d&&r?(u.fontStyle=i,u.fontWeight=o,u.fontSize=a,u.fontFamily=s,u.textAlign=d.textAlign,u.textBaseline=d.textBaseline,u.text=d.text,u.x=d.x,u.y=d.y,u.fill=l,u.visible=!0):u.visible=!1})},t.prototype.getTooltipHtml=function(e){var r,i,o=this.dataType,a=e.seriesDatum,s=a.y,l=a.x,u=this.formatNumericDatum(s),c=o==="array"||o==="object"?this.formatDatum(l):void 0,d={content:u,title:c},p=(i=(r=this.processedOptions)===null||r===void 0?void 0:r.tooltip)===null||i===void 0?void 0:i.renderer;return p?Pg(p({context:this.context,datum:a,yValue:s,xValue:l}),d):Pg(d)},t.prototype.formatLabelValue=function(e){return e%1!==0?e.toFixed(1):e.toFixed(0)},t}(c2),M8e=function(){var n=function(t,e){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])},n(t,e)};return function(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");n(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}}(),F8e=xr.isNumber,z5=cp.BandScale,L8e=function(n){M8e(t,n);function t(){return n!==null&&n.apply(this,arguments)||this}return t.prototype.updateYScaleRange=function(){var e=this,r=e.seriesRect,i=e.yScale;i.range=[0,r.width]},t.prototype.updateXScaleRange=function(){var e=this,r=e.xScale,i=e.seriesRect,o=e.paddingOuter,a=e.paddingInner;if(r instanceof z5)r.range=[0,i.height],r.paddingInner=a,r.paddingOuter=o;else{var s=this.calculateStep(i.height),l=s*o;this.bandWidth=s*(1-a),r.range=[l,i.height-l-this.bandWidth]}},t.prototype.updateAxisLine=function(){var e=this,r=e.yScale,i=e.axis,o=e.axisLine,a=e.seriesRect,s=i.strokeWidth;o.x1=0,o.x2=0,o.y1=0,o.y2=a.height,o.stroke=i.stroke,o.strokeWidth=s+(s%2===1?1:0);var l=r.convert(0);o.translationX=l},t.prototype.generateNodeData=function(){var e=this,r=e.data,i=e.yData,o=e.xData,a=e.xScale,s=e.yScale,l=e.fill,u=e.stroke,c=e.strokeWidth,d=e.label;if(r){for(var p=d.fontStyle,h=d.fontWeight,f=d.fontSize,v=d.fontFamily,g=d.color,y=d.formatter,m=d.placement,C=[],S=s.convert(0),w=!(a instanceof z5),_=0,x=i.length;_<x;_++){var b=i[_],O=o[_],T=b===void 0;T&&(b=0);var A=a.convert(w?a.toDomain(O):O),N=Math.min(b===void 0?NaN:s.convert(b),S),M=Math.max(b===void 0?NaN:s.convert(b),S),L=w?this.bandWidth:a.bandwidth,G=M-N,H={x:S,y:A},j=void 0;y?j=y({value:b}):j=b!==void 0&&F8e(b)?this.formatLabelValue(b):"";var V=A+L/2,W=void 0,K="middle",ee=void 0,Z=b!==void 0&&b>=0,se=4;if(m===Vu.Center)W=N+G/2,ee="center";else if(m===Vu.OutsideEnd)W=N+(Z?G+se:-se),ee=Z?"start":"end";else if(m===Vu.InsideEnd){W=N+(Z?G-se:se),ee=Z?"end":"start";var ie=oe.HdpiCanvas.getTextSize(j,v),re=ie.width||20,Y=S+re,le=S-re,ye=Z&&W<Y||!Z&&W>le;ye&&(W=S+se*(Z?1:-1),ee=Z?"start":"end")}else W=S+se*(Z?1:-1),ee=Z?"start":"end";C.push({x:N,y:A,width:G,height:L,fill:l,stroke:u,strokeWidth:c,seriesDatum:{x:O,y:T?void 0:b},point:H,label:{x:W,y:V,text:j,fontStyle:p,fontWeight:h,fontSize:f,fontFamily:v,textAlign:ee,textBaseline:K,fill:g}})}return C}},t.prototype.getDistance=function(e,r){return Math.abs(e.y-r.y)},t.className="BarSparkline",t}(fre),I8e=function(){var n=function(t,e){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])},n(t,e)};return function(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");n(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}}(),N8e=xr.isNumber,K5=cp.BandScale,k8e=function(n){I8e(t,n);function t(){return n!==null&&n.apply(this,arguments)||this}return t.prototype.updateYScaleRange=function(){var e=this,r=e.seriesRect,i=e.yScale;i.range=[r.height,0]},t.prototype.updateXScaleRange=function(){var e=this,r=e.xScale,i=e.seriesRect,o=e.paddingOuter,a=e.paddingInner;if(r instanceof K5)r.range=[0,i.width],r.paddingInner=a,r.paddingOuter=o;else{var s=this.calculateStep(i.width),l=s*o;this.bandWidth=s*(1-a),r.range=[l,i.width-l-this.bandWidth]}},t.prototype.updateAxisLine=function(){var e=this,r=e.yScale,i=e.axis,o=e.axisLine,a=e.seriesRect,s=i.strokeWidth;o.x1=0,o.x2=a.width,o.y1=0,o.y2=0,o.stroke=i.stroke,o.strokeWidth=s+(s%2===1?1:0);var l=r.convert(0);o.translationY=l},t.prototype.generateNodeData=function(){var e=this,r=e.data,i=e.yData,o=e.xData,a=e.xScale,s=e.yScale,l=e.fill,u=e.stroke,c=e.strokeWidth,d=e.label;if(r){for(var p=d.fontStyle,h=d.fontWeight,f=d.fontSize,v=d.fontFamily,g=d.color,y=d.formatter,m=d.placement,C=[],S=s.convert(0),w=!(a instanceof K5),_=0,x=i.length;_<x;_++){var b=i[_],O=o[_],T=b===void 0;T&&(b=0);var A=Math.min(b===void 0?NaN:s.convert(b),S),N=a.convert(w?a.toDomain(O):O),M=Math.max(b===void 0?NaN:s.convert(b),S),L=w?this.bandWidth:a.bandwidth,G=M-A,H={x:N+L/2,y:S},j=void 0;y?j=y({value:b}):j=b!==void 0&&N8e(b)?this.formatLabelValue(b):"";var V=N+L/2,W=void 0,K="center",ee=void 0,Z=b!==void 0&&b>=0,se=2;if(m===Vu.Center)W=A+G/2,ee="middle";else if(m===Vu.OutsideEnd)W=A+(Z?-se:G+se),ee=Z?"bottom":"top";else if(m===Vu.InsideEnd){W=A+(Z?se:G-se),ee=Z?"top":"bottom";var ie=oe.HdpiCanvas.getTextSize(j,v),re=ie.height||10,Y=S-re,le=S+re,ye=Z&&W>Y||!Z&&W<le;ye&&(W=S+se*(Z?-1:1),ee=Z?"bottom":"top")}else W=S+se*(Z?-1:1),ee=Z?"bottom":"top";C.push({x:N,y:A,width:L,height:G,fill:l,stroke:u,strokeWidth:c,seriesDatum:{x:O,y:T?void 0:b},point:H,label:{x:V,y:W,text:j,fontStyle:p,fontWeight:h,fontSize:f,fontFamily:v,textAlign:K,textBaseline:ee,fill:g}})}return C}},t.className="ColumnSparkline",t}(fre),G8e=xr.isNumber,V8e=function(){function n(){}return n.create=function(t,e){t=xr.deepClone(t);var r=B8e(t.type);return e&&(r.tooltip=e),j8e(r,t),H8e(r,t),t.data&&(r.data=t.data),r.processedOptions=t,r},n}();function B8e(n){switch(n===void 0&&(n="line"),n){case"column":return new k8e;case"bar":return new L8e;case"area":return new _8e;case"line":default:return new T8e}}function H8e(n,t){switch(t.type){case"bar":Y5(n,t);break;case"column":Y5(n,t);break;case"area":W8e(n,t);break;case"line":default:$8e(n,t);break}}function j8e(n,t){Ke(n,"context",t.context,t),Ke(n,"width",t.width,t),Ke(n,"height",t.height,t),Ke(n,"container",t.container,t),Ke(n,"xKey",t.xKey,t),Ke(n,"yKey",t.yKey,t),t.padding&&U8e(n.padding,t.padding),t.axis&&K8e(n.axis,t.axis),t.highlightStyle&&Y8e(n.highlightStyle,t.highlightStyle)}function $8e(n,t){t.marker&&vre(n.marker,t.marker),t.line&&gre(n.line,t.line),t.crosshairs&&yre(n.crosshairs,t.crosshairs)}function W8e(n,t){Ke(n,"fill",t.fill,t),t.marker&&vre(n.marker,t.marker),t.line&&gre(n.line,t.line),t.crosshairs&&yre(n.crosshairs,t.crosshairs)}function Y5(n,t){Ke(n,"valueAxisDomain",t.valueAxisDomain,t),Ke(n,"fill",t.fill,t),Ke(n,"stroke",t.stroke,t),Ke(n,"strokeWidth",t.strokeWidth,t),Ke(n,"paddingInner",t.paddingInner,t),Ke(n,"paddingOuter",t.paddingOuter,t),Ke(n,"formatter",t.formatter,t),t.label&&z8e(n.label,t.label)}function U8e(n,t){Ke(n,"top",t.top,t),Ke(n,"right",t.right,t),Ke(n,"bottom",t.bottom,t),Ke(n,"left",t.left,t)}function vre(n,t){Ke(n,"enabled",t.enabled,t),Ke(n,"size",t.size,t),Ke(n,"shape",t.shape,t),Ke(n,"fill",t.fill,t),Ke(n,"stroke",t.stroke,t),Ke(n,"strokeWidth",t.strokeWidth,t),Ke(n,"formatter",t.formatter,t)}function z8e(n,t){Ke(n,"enabled",t.enabled,t),Ke(n,"fontStyle",t.fontStyle,t),Ke(n,"fontWeight",t.fontWeight,t),Ke(n,"fontSize",t.fontSize,t),Ke(n,"fontFamily",t.fontFamily,t),Ke(n,"textAlign",t.textAlign,t),Ke(n,"textBaseline",t.textBaseline,t),Ke(n,"color",t.color,t),Ke(n,"formatter",t.formatter,t),Ke(n,"placement",t.placement,t)}function gre(n,t){Ke(n,"stroke",t.stroke,t),Ke(n,"strokeWidth",t.strokeWidth,t)}function K8e(n,t){Ke(n,"type",t.type,t),Ke(n,"stroke",t.stroke,t),Ke(n,"strokeWidth",t.strokeWidth,t)}function Y8e(n,t){Ke(n,"fill",t.fill,t),Ke(n,"size",t.size,t),Ke(n,"stroke",t.stroke,t),Ke(n,"strokeWidth",t.strokeWidth,t)}function yre(n,t){n.xLine&&t.xLine&&X5(n.xLine,t.xLine),n.yLine&&t.yLine&&X5(n.yLine,t.yLine)}function X5(n,t){Ke(n,"enabled",t.enabled,t),Ke(n,"stroke",t.stroke,t),Ke(n,"strokeWidth",t.strokeWidth,t),Ke(n,"lineDash",t.lineDash,t),Ke(n,"lineCap",t.lineCap,t)}var q5={};function X8e(n,t){q5[t]||(n(),q5[t]=!0)}var Z5=function(n,t,e){if(G8e(t))return!0;var r="AG Charts: ".concat(n," must be a number, the value you provided is not a valid number. Using the default of ").concat(e,"px.");return X8e(function(){return console.warn(r)},"".concat(n," not a number")),!1},q8e={xOffset:Z5,yOffset:Z5};function Ke(n,t,e,r){if(t in r)if(t in n){var i=q8e[t],o=i?i(t,e,n[t]):!0;o&&n[t]!==e&&(n[t]=e)}else console.warn("Property ".concat(t," does not exist on the target object."))}var Z8e=function(){var n=function(t,e){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])},n(t,e)};return function(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");n(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}}(),s1=function(){return s1=Object.assign||function(n){for(var t,e=1,r=arguments.length;e<r;e++){t=arguments[e];for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(n[i]=t[i])}return n},s1.apply(this,arguments)},IM=function(n,t,e,r){var i=arguments.length,o=i<3?t:r===null?r=Object.getOwnPropertyDescriptor(t,e):r,a;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(n,t,e,r);else for(var s=n.length-1;s>=0;s--)(a=n[s])&&(o=(i<3?a(o):i>3?a(t,e,o):a(t,e))||o);return i>3&&o&&Object.defineProperty(t,e,o),o},Q8e=function(n){Z8e(t,n);function t(){return n.call(this,t.TEMPLATE)||this}return t.prototype.init=function(e){var r=this,i=!0,o=function(){var s=r.getGui(),l=s.clientWidth,u=s.clientHeight;if(!(l===0||u===0))if(i){var c=s1({data:e.value,width:l,height:u,context:{data:e.data}},e.sparklineOptions);r.sparkline=V8e.create(c,r.sparklineTooltipSingleton.getSparklineTooltip()),r.eSparkline.appendChild(r.sparkline.canvasElement),i=!1}else r.sparkline.width=l,r.sparkline.height=u},a=this.resizeObserverService.observeResize(this.getGui(),o);this.addDestroyFunc(function(){return a()})},t.prototype.refresh=function(e){return this.sparkline?(this.sparkline.data=e.value,!0):!1},t.prototype.destroy=function(){this.sparkline&&this.sparkline.destroy(),n.prototype.destroy.call(this)},t.TEMPLATE=`<div class="ag-sparkline-wrapper">
            <span ref="eSparkline"></span>
        </div>`,IM([$("eSparkline")],t.prototype,"eSparkline",void 0),IM([E("resizeObserverService")],t.prototype,"resizeObserverService",void 0),IM([E("sparklineTooltipSingleton")],t.prototype,"sparklineTooltipSingleton",void 0),t}(de),J8e=function(){var n=function(t,e){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])},n(t,e)};return function(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");n(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}}(),NM=function(n,t,e,r){var i=arguments.length,o=i<3?t:r===null?r=Object.getOwnPropertyDescriptor(t,e):r,a;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(n,t,e,r);else for(var s=n.length-1;s>=0;s--)(a=n[s])&&(o=(i<3?a(o):i>3?a(t,e,o):a(t,e))||o);return i>3&&o&&Object.defineProperty(t,e,o),o},e7e=function(n){J8e(t,n);function t(){return n!==null&&n.apply(this,arguments)||this}return t.prototype.postConstruct=function(){this.tooltip=new ev},t.prototype.getSparklineTooltip=function(){return this.tooltip},t.prototype.destroyTooltip=function(){this.tooltip&&this.tooltip.destroy()},NM([z],t.prototype,"postConstruct",null),NM([rr],t.prototype,"destroyTooltip",null),t=NM([ae("sparklineTooltipSingleton")],t),t}(q),t7e="31.1.1",r7e={version:t7e,moduleName:fe.SparklinesModule,beans:[e7e],userComponents:[{componentName:"agSparklineCellRenderer",componentClass:Q8e}],dependantModules:[In]};const n7e=[Kke,Jke,pVe,p2e,_2e,t6e,s6e,R6e,M6e,ire,I6e,$Z,_9e,G9e,DV,r8e,a8e,r7e];ke.registerModules(n7e);const i7e=()=>{const n=[],t=[{field:"ФИО",cellDataType:"text"},{field:"Дата рождения",cellDataType:"dateString"},{field:"Номер телефона",cellDataType:"text"},{field:"Адрес",cellDataType:"text"},{field:"Пол",cellDataType:"text"}],e=I.useRef();Gg.forEach(h=>{const f={};h.params.value.forEach(v=>{f[v.title]=v.value}),n.push(f)});const r=I.useMemo(()=>({enableRowGroup:!0,enablePivot:!0,enableValue:!0}),[]),i=I.useMemo(()=>({minWidth:200}),[]),o=I.useMemo(()=>({toolPanels:["columns"]}),[]),a=I.useCallback(h=>{fetch("https://www.ag-grid.com/example-assets/olympic-winners.json").then(f=>f.json())},[]),s=I.useCallback(()=>{window.colState=e.current.api.getColumnState(),console.log("Порядок столбцов сохранен!")},[]),l=I.useCallback(()=>{if(!window.colState){console.log("Нет столбцов по умолчанию, сначала сохраните нужное состояние");return}e.current.api.applyColumnState({state:window.colState,applyOrder:!0}),console.log("Порядок столбцов сброшен!")},[]),u=I.useCallback(()=>{e.current.api.resetColumnState(),console.log("Порядок столбцов восстановлен!")},[]),c=I.useCallback(()=>{e.current.api.applyColumnState({defaultState:{sort:null}}),console.log("Сортировка сброшена!")},[]),d=I.useCallback(()=>{e.current.api.applyColumnState({state:[{colId:"ФИО",sort:"asc",sortIndex:0},{colId:"Дата рождения",sort:"asc",sortIndex:1}],defaultState:{sort:null}})},[]),p=I.useMemo(()=>({type:"fitGridWidth",defaultMinWidth:200,columnLimits:[{colId:"ФИО",minWidth:270},{colId:"Дата рождения",minWidth:130},{colId:"Номер телефона",minWidth:170},{colId:"Адрес",minWidth:400},{colId:"Пол",minWidth:100}]}),[]);return B.jsxs("div",{className:"table-container",children:[B.jsx("div",{className:"header",children:B.jsxs("div",{className:"btn-section",children:[B.jsxs("div",{className:"btn-group",children:[B.jsx("div",{className:"group-title",children:"Порядок столбцов"}),B.jsxs(YF,{children:[B.jsx(Ss,{variant:"contained",onClick:s,children:"Сохранить"}),B.jsx(Ss,{variant:"contained",onClick:l,children:"Восстановить"}),B.jsx(Ss,{variant:"contained",onClick:u,children:"Сбросить"})]})]}),B.jsxs("div",{className:"btn-group",children:[B.jsx("div",{className:"group-title",children:"Сортировка"}),B.jsxs(YF,{children:[B.jsx(Ss,{variant:"contained",onClick:d,children:"ФИО, затем дата рождения"}),B.jsx(Ss,{variant:"contained",onClick:c,children:"Очистить"})]})]})]})}),B.jsx("div",{style:{height:"700px",padding:"20px"},className:"ag-theme-quartz",children:B.jsx(M7.AgGridReact,{ref:e,rowData:n,columnDefs:t,defaultColDef:r,autoGroupColumnDef:i,sideBar:o,rowGroupPanelShow:"always",pivotPanelShow:"always",onGridReady:a,autoSizeStrategy:p})})]})},o7e=()=>B.jsxs("div",{className:"home",children:[B.jsxs("div",{className:"charts",children:[B.jsx(__e,{}),B.jsx(X_e,{}),B.jsx(axe,{})]}),B.jsx("div",{children:B.jsx(i7e,{})})]});var d2={},a7e=gw;Object.defineProperty(d2,"__esModule",{value:!0});var lC=d2.default=void 0,s7e=a7e(PN()),l7e=B;lC=d2.default=(0,s7e.default)((0,l7e.jsx)("path",{d:"M16.59 8.59 12 13.17 7.41 8.59 6 10l6 6 6-6z"}),"ExpandMore");const u7e=()=>{const{id:n}=foe(),t=Gg.find(s=>s.id===parseInt(n));if(!t)return B.jsx("div",{children:"User not found"});const{params:e,modules:r}=t,[i,o]=xs.useState("panel1"),a=s=>(l,u)=>{o(u?s:!1)};return B.jsxs("div",{className:"container",children:[B.jsxs(G0,{elevation:16,expanded:i==="panel1",className:"user-module",onChange:a("panel1"),children:[B.jsx(B0,{expandIcon:B.jsx(lC,{}),"aria-controls":"panel1-content",id:"module-panel",className:"user-title",children:B.jsx("div",{children:e.title})}),B.jsx(V0,{children:e&&B.jsx("div",{className:"user-info",children:B.jsx("ul",{children:e.value.map((s,l)=>B.jsxs("li",{children:[B.jsxs("span",{children:[s.title,": "]}),B.jsx(U0,{variant:"standard",id:"info-input",defaultValue:s.value,fullWidth:!0,sx:{m:1}})]},l))})})})]}),B.jsxs(G0,{elevation:16,className:"user-module",expanded:i==="panel2",onChange:a("panel2"),children:[B.jsx(B0,{expandIcon:B.jsx(lC,{}),"aria-controls":"panel1-content",id:"module-panel",className:"user-title",children:B.jsx("div",{children:r.education.title})}),B.jsx(V0,{children:r.education&&B.jsx("div",{className:"user-info",children:B.jsx("ul",{children:r.education.value.map((s,l)=>B.jsxs("li",{children:[B.jsxs("span",{children:[s.title,": "]}),B.jsx(U0,{variant:"standard",id:"info-input",defaultValue:s.value,fullWidth:!0,sx:{m:1}})]},l))})})})]}),B.jsxs(G0,{elevation:16,className:"user-module",expanded:i==="panel3",onChange:a("panel3"),children:[B.jsx(B0,{expandIcon:B.jsx(lC,{}),"aria-controls":"panel1-content",id:"module-panel",className:"user-title",children:B.jsx("div",{children:r.career.title})}),B.jsx(V0,{children:r.career&&r.career.value&&r.career.value.length>0?B.jsx("div",{className:"user-info",children:B.jsx("ul",{children:r.career.value.map((s,l)=>B.jsxs("li",{children:[B.jsxs("span",{children:[s.title,": "]}),B.jsx(U0,{variant:"standard",id:"info-input",defaultValue:s.value,fullWidth:!0,sx:{m:1}})]},l))})}):B.jsx("div",{className:"no-experience",children:"Нет опыта работы"})})]}),B.jsxs(G0,{className:"user-module",elevation:16,expanded:i==="panel4",onChange:a("panel4"),children:[B.jsx(B0,{expandIcon:B.jsx(lC,{}),"aria-controls":"panel1-content",id:"module-panel",className:"user-title",children:B.jsx("div",{children:r.family.title})}),B.jsx(V0,{children:r.family&&B.jsx("div",{className:"user-info",children:B.jsx("ul",{children:r.family.value.map((s,l)=>B.jsxs("li",{children:[B.jsxs("span",{children:[s.title,": "]}),B.jsx(U0,{variant:"standard",id:"info-input",defaultValue:s.value,fullWidth:!0,sx:{m:1}})]},l))})})})]}),B.jsxs(YF,{className:"button-group",variant:"contained",children:[B.jsx(Ss,{href:"/edm-system#",children:"Вернуться"}),B.jsx(Ss,{onClick:()=>console.log("Запрос на обновление данных"),children:"Обновить"}),B.jsx(Ss,{onClick:()=>console.log("Запрос на изменение данных"),children:"Сохранить"})]})]})},c7e=()=>B.jsxs(Doe,{children:[B.jsx(Age,{}),B.jsxs(Toe,{children:[B.jsx(MF,{path:"/",element:B.jsx(o7e,{})}),B.jsx(MF,{path:"/user/:id",element:B.jsx(u7e,{})})]})]});kM.createRoot(document.getElementById("root")).render(B.jsx(c7e,{}));

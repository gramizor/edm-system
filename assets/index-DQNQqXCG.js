function cre(n,t){for(var e=0;e<t.length;e++){const r=t[e];if(typeof r!="string"&&!Array.isArray(r)){for(const i in r)if(i!=="default"&&!(i in n)){const o=Object.getOwnPropertyDescriptor(r,i);o&&Object.defineProperty(n,i,o.get?o:{enumerable:!0,get:()=>r[i]})}}}return Object.freeze(Object.defineProperty(n,Symbol.toStringTag,{value:"Module"}))}(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const o of i)if(o.type==="childList")for(const a of o.addedNodes)a.tagName==="LINK"&&a.rel==="modulepreload"&&r(a)}).observe(document,{childList:!0,subtree:!0});function e(i){const o={};return i.integrity&&(o.integrity=i.integrity),i.referrerPolicy&&(o.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?o.credentials="include":i.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function r(i){if(i.ep)return;i.ep=!0;const o=e(i);fetch(i.href,o)}})();var Y=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function t1(n){return n&&n.__esModule&&Object.prototype.hasOwnProperty.call(n,"default")?n.default:n}function ou(n){if(n.__esModule)return n;var t=n.default;if(typeof t=="function"){var e=function r(){return this instanceof r?Reflect.construct(t,arguments,this.constructor):t.apply(this,arguments)};e.prototype=t.prototype}else e={};return Object.defineProperty(e,"__esModule",{value:!0}),Object.keys(n).forEach(function(r){var i=Object.getOwnPropertyDescriptor(n,r);Object.defineProperty(e,r,i.get?i:{enumerable:!0,get:function(){return n[r]}})}),e}var U5={exports:{}},KO={},z5={exports:{}},wt={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var fw=Symbol.for("react.element"),dre=Symbol.for("react.portal"),pre=Symbol.for("react.fragment"),hre=Symbol.for("react.strict_mode"),fre=Symbol.for("react.profiler"),vre=Symbol.for("react.provider"),gre=Symbol.for("react.context"),yre=Symbol.for("react.forward_ref"),mre=Symbol.for("react.suspense"),Cre=Symbol.for("react.memo"),Sre=Symbol.for("react.lazy"),s2=Symbol.iterator;function wre(n){return n===null||typeof n!="object"?null:(n=s2&&n[s2]||n["@@iterator"],typeof n=="function"?n:null)}var K5={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},Y5=Object.assign,X5={};function Bg(n,t,e){this.props=n,this.context=t,this.refs=X5,this.updater=e||K5}Bg.prototype.isReactComponent={};Bg.prototype.setState=function(n,t){if(typeof n!="object"&&typeof n!="function"&&n!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,n,t,"setState")};Bg.prototype.forceUpdate=function(n){this.updater.enqueueForceUpdate(this,n,"forceUpdate")};function q5(){}q5.prototype=Bg.prototype;function r1(n,t,e){this.props=n,this.context=t,this.refs=X5,this.updater=e||K5}var n1=r1.prototype=new q5;n1.constructor=r1;Y5(n1,Bg.prototype);n1.isPureReactComponent=!0;var l2=Array.isArray,Z5=Object.prototype.hasOwnProperty,i1={current:null},Q5={key:!0,ref:!0,__self:!0,__source:!0};function J5(n,t,e){var r,i={},o=null,a=null;if(t!=null)for(r in t.ref!==void 0&&(a=t.ref),t.key!==void 0&&(o=""+t.key),t)Z5.call(t,r)&&!Q5.hasOwnProperty(r)&&(i[r]=t[r]);var s=arguments.length-2;if(s===1)i.children=e;else if(1<s){for(var l=Array(s),u=0;u<s;u++)l[u]=arguments[u+2];i.children=l}if(n&&n.defaultProps)for(r in s=n.defaultProps,s)i[r]===void 0&&(i[r]=s[r]);return{$$typeof:fw,type:n,key:o,ref:a,props:i,_owner:i1.current}}function _re(n,t){return{$$typeof:fw,type:n.type,key:t,ref:n.ref,props:n.props,_owner:n._owner}}function o1(n){return typeof n=="object"&&n!==null&&n.$$typeof===fw}function xre(n){var t={"=":"=0",":":"=2"};return"$"+n.replace(/[=:]/g,function(e){return t[e]})}var u2=/\/+/g;function CP(n,t){return typeof n=="object"&&n!==null&&n.key!=null?xre(""+n.key):t.toString(36)}function Ax(n,t,e,r,i){var o=typeof n;(o==="undefined"||o==="boolean")&&(n=null);var a=!1;if(n===null)a=!0;else switch(o){case"string":case"number":a=!0;break;case"object":switch(n.$$typeof){case fw:case dre:a=!0}}if(a)return a=n,i=i(a),n=r===""?"."+CP(a,0):r,l2(i)?(e="",n!=null&&(e=n.replace(u2,"$&/")+"/"),Ax(i,t,e,"",function(u){return u})):i!=null&&(o1(i)&&(i=_re(i,e+(!i.key||a&&a.key===i.key?"":(""+i.key).replace(u2,"$&/")+"/")+n)),t.push(i)),1;if(a=0,r=r===""?".":r+":",l2(n))for(var s=0;s<n.length;s++){o=n[s];var l=r+CP(o,s);a+=Ax(o,t,e,l,i)}else if(l=wre(n),typeof l=="function")for(n=l.call(n),s=0;!(o=n.next()).done;)o=o.value,l=r+CP(o,s++),a+=Ax(o,t,e,l,i);else if(o==="object")throw t=String(n),Error("Objects are not valid as a React child (found: "+(t==="[object Object]"?"object with keys {"+Object.keys(n).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return a}function C0(n,t,e){if(n==null)return n;var r=[],i=0;return Ax(n,r,"","",function(o){return t.call(e,o,i++)}),r}function Ere(n){if(n._status===-1){var t=n._result;t=t(),t.then(function(e){(n._status===0||n._status===-1)&&(n._status=1,n._result=e)},function(e){(n._status===0||n._status===-1)&&(n._status=2,n._result=e)}),n._status===-1&&(n._status=0,n._result=t)}if(n._status===1)return n._result.default;throw n._result}var Gi={current:null},Dx={transition:null},bre={ReactCurrentDispatcher:Gi,ReactCurrentBatchConfig:Dx,ReactCurrentOwner:i1};wt.Children={map:C0,forEach:function(n,t,e){C0(n,function(){t.apply(this,arguments)},e)},count:function(n){var t=0;return C0(n,function(){t++}),t},toArray:function(n){return C0(n,function(t){return t})||[]},only:function(n){if(!o1(n))throw Error("React.Children.only expected to receive a single React element child.");return n}};wt.Component=Bg;wt.Fragment=pre;wt.Profiler=fre;wt.PureComponent=r1;wt.StrictMode=hre;wt.Suspense=mre;wt.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=bre;wt.cloneElement=function(n,t,e){if(n==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+n+".");var r=Y5({},n.props),i=n.key,o=n.ref,a=n._owner;if(t!=null){if(t.ref!==void 0&&(o=t.ref,a=i1.current),t.key!==void 0&&(i=""+t.key),n.type&&n.type.defaultProps)var s=n.type.defaultProps;for(l in t)Z5.call(t,l)&&!Q5.hasOwnProperty(l)&&(r[l]=t[l]===void 0&&s!==void 0?s[l]:t[l])}var l=arguments.length-2;if(l===1)r.children=e;else if(1<l){s=Array(l);for(var u=0;u<l;u++)s[u]=arguments[u+2];r.children=s}return{$$typeof:fw,type:n.type,key:i,ref:o,props:r,_owner:a}};wt.createContext=function(n){return n={$$typeof:gre,_currentValue:n,_currentValue2:n,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},n.Provider={$$typeof:vre,_context:n},n.Consumer=n};wt.createElement=J5;wt.createFactory=function(n){var t=J5.bind(null,n);return t.type=n,t};wt.createRef=function(){return{current:null}};wt.forwardRef=function(n){return{$$typeof:yre,render:n}};wt.isValidElement=o1;wt.lazy=function(n){return{$$typeof:Sre,_payload:{_status:-1,_result:n},_init:Ere}};wt.memo=function(n,t){return{$$typeof:Cre,type:n,compare:t===void 0?null:t}};wt.startTransition=function(n){var t=Dx.transition;Dx.transition={};try{n()}finally{Dx.transition=t}};wt.unstable_act=function(){throw Error("act(...) is not supported in production builds of React.")};wt.useCallback=function(n,t){return Gi.current.useCallback(n,t)};wt.useContext=function(n){return Gi.current.useContext(n)};wt.useDebugValue=function(){};wt.useDeferredValue=function(n){return Gi.current.useDeferredValue(n)};wt.useEffect=function(n,t){return Gi.current.useEffect(n,t)};wt.useId=function(){return Gi.current.useId()};wt.useImperativeHandle=function(n,t,e){return Gi.current.useImperativeHandle(n,t,e)};wt.useInsertionEffect=function(n,t){return Gi.current.useInsertionEffect(n,t)};wt.useLayoutEffect=function(n,t){return Gi.current.useLayoutEffect(n,t)};wt.useMemo=function(n,t){return Gi.current.useMemo(n,t)};wt.useReducer=function(n,t,e){return Gi.current.useReducer(n,t,e)};wt.useRef=function(n){return Gi.current.useRef(n)};wt.useState=function(n){return Gi.current.useState(n)};wt.useSyncExternalStore=function(n,t,e){return Gi.current.useSyncExternalStore(n,t,e)};wt.useTransition=function(){return Gi.current.useTransition()};wt.version="18.2.0";z5.exports=wt;var F=z5.exports;const Os=t1(F),RE=cre({__proto__:null,default:Os},[F]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Ore=F,Rre=Symbol.for("react.element"),Tre=Symbol.for("react.fragment"),Pre=Object.prototype.hasOwnProperty,Are=Ore.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,Dre={key:!0,ref:!0,__self:!0,__source:!0};function e4(n,t,e){var r,i={},o=null,a=null;e!==void 0&&(o=""+e),t.key!==void 0&&(o=""+t.key),t.ref!==void 0&&(a=t.ref);for(r in t)Pre.call(t,r)&&!Dre.hasOwnProperty(r)&&(i[r]=t[r]);if(n&&n.defaultProps)for(r in t=n.defaultProps,t)i[r]===void 0&&(i[r]=t[r]);return{$$typeof:Rre,type:n,key:o,ref:a,props:i,_owner:Are.current}}KO.Fragment=Tre;KO.jsx=e4;KO.jsxs=e4;U5.exports=KO;var G=U5.exports,TM={},t4={exports:{}},pa={},r4={exports:{}},n4={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(n){function t(V,W){var K=V.length;V.push(W);e:for(;0<K;){var Z=K-1>>>1,Q=V[Z];if(0<i(Q,W))V[Z]=W,V[K]=Q,K=Z;else break e}}function e(V){return V.length===0?null:V[0]}function r(V){if(V.length===0)return null;var W=V[0],K=V.pop();if(K!==W){V[0]=K;e:for(var Z=0,Q=V.length,ce=Q>>>1;Z<ce;){var ue=2*(Z+1)-1,se=V[ue],q=ue+1,he=V[q];if(0>i(se,K))q<Q&&0>i(he,se)?(V[Z]=he,V[q]=K,Z=q):(V[Z]=se,V[ue]=K,Z=ue);else if(q<Q&&0>i(he,K))V[Z]=he,V[q]=K,Z=q;else break e}}return W}function i(V,W){var K=V.sortIndex-W.sortIndex;return K!==0?K:V.id-W.id}if(typeof performance=="object"&&typeof performance.now=="function"){var o=performance;n.unstable_now=function(){return o.now()}}else{var a=Date,s=a.now();n.unstable_now=function(){return a.now()-s}}var l=[],u=[],c=1,d=null,p=3,h=!1,f=!1,v=!1,g=typeof setTimeout=="function"?setTimeout:null,y=typeof clearTimeout=="function"?clearTimeout:null,m=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function C(V){for(var W=e(u);W!==null;){if(W.callback===null)r(u);else if(W.startTime<=V)r(u),W.sortIndex=W.expirationTime,t(l,W);else break;W=e(u)}}function S(V){if(v=!1,C(V),!f)if(e(l)!==null)f=!0,H(w);else{var W=e(u);W!==null&&$(S,W.startTime-V)}}function w(V,W){f=!1,v&&(v=!1,y(b),b=-1),h=!0;var K=p;try{for(C(W),d=e(l);d!==null&&(!(d.expirationTime>W)||V&&!D());){var Z=d.callback;if(typeof Z=="function"){d.callback=null,p=d.priorityLevel;var Q=Z(d.expirationTime<=W);W=n.unstable_now(),typeof Q=="function"?d.callback=Q:d===e(l)&&r(l),C(W)}else r(l);d=e(l)}if(d!==null)var ce=!0;else{var ue=e(u);ue!==null&&$(S,ue.startTime-W),ce=!1}return ce}finally{d=null,p=K,h=!1}}var _=!1,x=null,b=-1,O=5,P=-1;function D(){return!(n.unstable_now()-P<O)}function N(){if(x!==null){var V=n.unstable_now();P=V;var W=!0;try{W=x(!0,V)}finally{W?L():(_=!1,x=null)}}else _=!1}var L;if(typeof m=="function")L=function(){m(N)};else if(typeof MessageChannel<"u"){var I=new MessageChannel,k=I.port2;I.port1.onmessage=N,L=function(){k.postMessage(null)}}else L=function(){g(N,0)};function H(V){x=V,_||(_=!0,L())}function $(V,W){b=g(function(){V(n.unstable_now())},W)}n.unstable_IdlePriority=5,n.unstable_ImmediatePriority=1,n.unstable_LowPriority=4,n.unstable_NormalPriority=3,n.unstable_Profiling=null,n.unstable_UserBlockingPriority=2,n.unstable_cancelCallback=function(V){V.callback=null},n.unstable_continueExecution=function(){f||h||(f=!0,H(w))},n.unstable_forceFrameRate=function(V){0>V||125<V?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):O=0<V?Math.floor(1e3/V):5},n.unstable_getCurrentPriorityLevel=function(){return p},n.unstable_getFirstCallbackNode=function(){return e(l)},n.unstable_next=function(V){switch(p){case 1:case 2:case 3:var W=3;break;default:W=p}var K=p;p=W;try{return V()}finally{p=K}},n.unstable_pauseExecution=function(){},n.unstable_requestPaint=function(){},n.unstable_runWithPriority=function(V,W){switch(V){case 1:case 2:case 3:case 4:case 5:break;default:V=3}var K=p;p=V;try{return W()}finally{p=K}},n.unstable_scheduleCallback=function(V,W,K){var Z=n.unstable_now();switch(typeof K=="object"&&K!==null?(K=K.delay,K=typeof K=="number"&&0<K?Z+K:Z):K=Z,V){case 1:var Q=-1;break;case 2:Q=250;break;case 5:Q=1073741823;break;case 4:Q=1e4;break;default:Q=5e3}return Q=K+Q,V={id:c++,callback:W,priorityLevel:V,startTime:K,expirationTime:Q,sortIndex:-1},K>Z?(V.sortIndex=K,t(u,V),e(l)===null&&V===e(u)&&(v?(y(b),b=-1):v=!0,$(S,K-Z))):(V.sortIndex=Q,t(l,V),f||h||(f=!0,H(w))),V},n.unstable_shouldYield=D,n.unstable_wrapCallback=function(V){var W=p;return function(){var K=p;p=W;try{return V.apply(this,arguments)}finally{p=K}}}})(n4);r4.exports=n4;var Mre=r4.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var i4=F,la=Mre;function we(n){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+n,e=1;e<arguments.length;e++)t+="&args[]="+encodeURIComponent(arguments[e]);return"Minified React error #"+n+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var o4=new Set,YC={};function sf(n,t){pg(n,t),pg(n+"Capture",t)}function pg(n,t){for(YC[n]=t,n=0;n<t.length;n++)o4.add(t[n])}var Ku=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),PM=Object.prototype.hasOwnProperty,Lre=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,c2={},d2={};function Fre(n){return PM.call(d2,n)?!0:PM.call(c2,n)?!1:Lre.test(n)?d2[n]=!0:(c2[n]=!0,!1)}function Ire(n,t,e,r){if(e!==null&&e.type===0)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return r?!1:e!==null?!e.acceptsBooleans:(n=n.toLowerCase().slice(0,5),n!=="data-"&&n!=="aria-");default:return!1}}function Nre(n,t,e,r){if(t===null||typeof t>"u"||Ire(n,t,e,r))return!0;if(r)return!1;if(e!==null)switch(e.type){case 3:return!t;case 4:return t===!1;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}function Vi(n,t,e,r,i,o,a){this.acceptsBooleans=t===2||t===3||t===4,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=e,this.propertyName=n,this.type=t,this.sanitizeURL=o,this.removeEmptyString=a}var ii={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(n){ii[n]=new Vi(n,0,!1,n,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(n){var t=n[0];ii[t]=new Vi(t,1,!1,n[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(n){ii[n]=new Vi(n,2,!1,n.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(n){ii[n]=new Vi(n,2,!1,n,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(n){ii[n]=new Vi(n,3,!1,n.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(n){ii[n]=new Vi(n,3,!0,n,null,!1,!1)});["capture","download"].forEach(function(n){ii[n]=new Vi(n,4,!1,n,null,!1,!1)});["cols","rows","size","span"].forEach(function(n){ii[n]=new Vi(n,6,!1,n,null,!1,!1)});["rowSpan","start"].forEach(function(n){ii[n]=new Vi(n,5,!1,n.toLowerCase(),null,!1,!1)});var a1=/[\-:]([a-z])/g;function s1(n){return n[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(n){var t=n.replace(a1,s1);ii[t]=new Vi(t,1,!1,n,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(n){var t=n.replace(a1,s1);ii[t]=new Vi(t,1,!1,n,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(n){var t=n.replace(a1,s1);ii[t]=new Vi(t,1,!1,n,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(n){ii[n]=new Vi(n,1,!1,n.toLowerCase(),null,!1,!1)});ii.xlinkHref=new Vi("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(n){ii[n]=new Vi(n,1,!1,n.toLowerCase(),null,!0,!0)});function l1(n,t,e,r){var i=ii.hasOwnProperty(t)?ii[t]:null;(i!==null?i.type!==0:r||!(2<t.length)||t[0]!=="o"&&t[0]!=="O"||t[1]!=="n"&&t[1]!=="N")&&(Nre(t,e,i,r)&&(e=null),r||i===null?Fre(t)&&(e===null?n.removeAttribute(t):n.setAttribute(t,""+e)):i.mustUseProperty?n[i.propertyName]=e===null?i.type===3?!1:"":e:(t=i.attributeName,r=i.attributeNamespace,e===null?n.removeAttribute(t):(i=i.type,e=i===3||i===4&&e===!0?"":""+e,r?n.setAttributeNS(r,t,e):n.setAttribute(t,e))))}var hc=i4.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,S0=Symbol.for("react.element"),vv=Symbol.for("react.portal"),gv=Symbol.for("react.fragment"),u1=Symbol.for("react.strict_mode"),AM=Symbol.for("react.profiler"),a4=Symbol.for("react.provider"),s4=Symbol.for("react.context"),c1=Symbol.for("react.forward_ref"),DM=Symbol.for("react.suspense"),MM=Symbol.for("react.suspense_list"),d1=Symbol.for("react.memo"),ed=Symbol.for("react.lazy"),l4=Symbol.for("react.offscreen"),p2=Symbol.iterator;function my(n){return n===null||typeof n!="object"?null:(n=p2&&n[p2]||n["@@iterator"],typeof n=="function"?n:null)}var Fr=Object.assign,SP;function Fm(n){if(SP===void 0)try{throw Error()}catch(e){var t=e.stack.trim().match(/\n( *(at )?)/);SP=t&&t[1]||""}return`
`+SP+n}var wP=!1;function _P(n,t){if(!n||wP)return"";wP=!0;var e=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(t,[])}catch(u){var r=u}Reflect.construct(n,[],t)}else{try{t.call()}catch(u){r=u}n.call(t.prototype)}else{try{throw Error()}catch(u){r=u}n()}}catch(u){if(u&&r&&typeof u.stack=="string"){for(var i=u.stack.split(`
`),o=r.stack.split(`
`),a=i.length-1,s=o.length-1;1<=a&&0<=s&&i[a]!==o[s];)s--;for(;1<=a&&0<=s;a--,s--)if(i[a]!==o[s]){if(a!==1||s!==1)do if(a--,s--,0>s||i[a]!==o[s]){var l=`
`+i[a].replace(" at new "," at ");return n.displayName&&l.includes("<anonymous>")&&(l=l.replace("<anonymous>",n.displayName)),l}while(1<=a&&0<=s);break}}}finally{wP=!1,Error.prepareStackTrace=e}return(n=n?n.displayName||n.name:"")?Fm(n):""}function kre(n){switch(n.tag){case 5:return Fm(n.type);case 16:return Fm("Lazy");case 13:return Fm("Suspense");case 19:return Fm("SuspenseList");case 0:case 2:case 15:return n=_P(n.type,!1),n;case 11:return n=_P(n.type.render,!1),n;case 1:return n=_P(n.type,!0),n;default:return""}}function LM(n){if(n==null)return null;if(typeof n=="function")return n.displayName||n.name||null;if(typeof n=="string")return n;switch(n){case gv:return"Fragment";case vv:return"Portal";case AM:return"Profiler";case u1:return"StrictMode";case DM:return"Suspense";case MM:return"SuspenseList"}if(typeof n=="object")switch(n.$$typeof){case s4:return(n.displayName||"Context")+".Consumer";case a4:return(n._context.displayName||"Context")+".Provider";case c1:var t=n.render;return n=n.displayName,n||(n=t.displayName||t.name||"",n=n!==""?"ForwardRef("+n+")":"ForwardRef"),n;case d1:return t=n.displayName||null,t!==null?t:LM(n.type)||"Memo";case ed:t=n._payload,n=n._init;try{return LM(n(t))}catch{}}return null}function Gre(n){var t=n.type;switch(n.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return n=t.render,n=n.displayName||n.name||"",t.displayName||(n!==""?"ForwardRef("+n+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return LM(t);case 8:return t===u1?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t}return null}function Wd(n){switch(typeof n){case"boolean":case"number":case"string":case"undefined":return n;case"object":return n;default:return""}}function u4(n){var t=n.type;return(n=n.nodeName)&&n.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function Vre(n){var t=u4(n)?"checked":"value",e=Object.getOwnPropertyDescriptor(n.constructor.prototype,t),r=""+n[t];if(!n.hasOwnProperty(t)&&typeof e<"u"&&typeof e.get=="function"&&typeof e.set=="function"){var i=e.get,o=e.set;return Object.defineProperty(n,t,{configurable:!0,get:function(){return i.call(this)},set:function(a){r=""+a,o.call(this,a)}}),Object.defineProperty(n,t,{enumerable:e.enumerable}),{getValue:function(){return r},setValue:function(a){r=""+a},stopTracking:function(){n._valueTracker=null,delete n[t]}}}}function w0(n){n._valueTracker||(n._valueTracker=Vre(n))}function c4(n){if(!n)return!1;var t=n._valueTracker;if(!t)return!0;var e=t.getValue(),r="";return n&&(r=u4(n)?n.checked?"true":"false":n.value),n=r,n!==e?(t.setValue(n),!0):!1}function TE(n){if(n=n||(typeof document<"u"?document:void 0),typeof n>"u")return null;try{return n.activeElement||n.body}catch{return n.body}}function FM(n,t){var e=t.checked;return Fr({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:e??n._wrapperState.initialChecked})}function h2(n,t){var e=t.defaultValue==null?"":t.defaultValue,r=t.checked!=null?t.checked:t.defaultChecked;e=Wd(t.value!=null?t.value:e),n._wrapperState={initialChecked:r,initialValue:e,controlled:t.type==="checkbox"||t.type==="radio"?t.checked!=null:t.value!=null}}function d4(n,t){t=t.checked,t!=null&&l1(n,"checked",t,!1)}function IM(n,t){d4(n,t);var e=Wd(t.value),r=t.type;if(e!=null)r==="number"?(e===0&&n.value===""||n.value!=e)&&(n.value=""+e):n.value!==""+e&&(n.value=""+e);else if(r==="submit"||r==="reset"){n.removeAttribute("value");return}t.hasOwnProperty("value")?NM(n,t.type,e):t.hasOwnProperty("defaultValue")&&NM(n,t.type,Wd(t.defaultValue)),t.checked==null&&t.defaultChecked!=null&&(n.defaultChecked=!!t.defaultChecked)}function f2(n,t,e){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var r=t.type;if(!(r!=="submit"&&r!=="reset"||t.value!==void 0&&t.value!==null))return;t=""+n._wrapperState.initialValue,e||t===n.value||(n.value=t),n.defaultValue=t}e=n.name,e!==""&&(n.name=""),n.defaultChecked=!!n._wrapperState.initialChecked,e!==""&&(n.name=e)}function NM(n,t,e){(t!=="number"||TE(n.ownerDocument)!==n)&&(e==null?n.defaultValue=""+n._wrapperState.initialValue:n.defaultValue!==""+e&&(n.defaultValue=""+e))}var Im=Array.isArray;function jv(n,t,e,r){if(n=n.options,t){t={};for(var i=0;i<e.length;i++)t["$"+e[i]]=!0;for(e=0;e<n.length;e++)i=t.hasOwnProperty("$"+n[e].value),n[e].selected!==i&&(n[e].selected=i),i&&r&&(n[e].defaultSelected=!0)}else{for(e=""+Wd(e),t=null,i=0;i<n.length;i++){if(n[i].value===e){n[i].selected=!0,r&&(n[i].defaultSelected=!0);return}t!==null||n[i].disabled||(t=n[i])}t!==null&&(t.selected=!0)}}function kM(n,t){if(t.dangerouslySetInnerHTML!=null)throw Error(we(91));return Fr({},t,{value:void 0,defaultValue:void 0,children:""+n._wrapperState.initialValue})}function v2(n,t){var e=t.value;if(e==null){if(e=t.children,t=t.defaultValue,e!=null){if(t!=null)throw Error(we(92));if(Im(e)){if(1<e.length)throw Error(we(93));e=e[0]}t=e}t==null&&(t=""),e=t}n._wrapperState={initialValue:Wd(e)}}function p4(n,t){var e=Wd(t.value),r=Wd(t.defaultValue);e!=null&&(e=""+e,e!==n.value&&(n.value=e),t.defaultValue==null&&n.defaultValue!==e&&(n.defaultValue=e)),r!=null&&(n.defaultValue=""+r)}function g2(n){var t=n.textContent;t===n._wrapperState.initialValue&&t!==""&&t!==null&&(n.value=t)}function h4(n){switch(n){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function GM(n,t){return n==null||n==="http://www.w3.org/1999/xhtml"?h4(t):n==="http://www.w3.org/2000/svg"&&t==="foreignObject"?"http://www.w3.org/1999/xhtml":n}var _0,f4=function(n){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(t,e,r,i){MSApp.execUnsafeLocalFunction(function(){return n(t,e,r,i)})}:n}(function(n,t){if(n.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in n)n.innerHTML=t;else{for(_0=_0||document.createElement("div"),_0.innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=_0.firstChild;n.firstChild;)n.removeChild(n.firstChild);for(;t.firstChild;)n.appendChild(t.firstChild)}});function XC(n,t){if(t){var e=n.firstChild;if(e&&e===n.lastChild&&e.nodeType===3){e.nodeValue=t;return}}n.textContent=t}var hC={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},Bre=["Webkit","ms","Moz","O"];Object.keys(hC).forEach(function(n){Bre.forEach(function(t){t=t+n.charAt(0).toUpperCase()+n.substring(1),hC[t]=hC[n]})});function v4(n,t,e){return t==null||typeof t=="boolean"||t===""?"":e||typeof t!="number"||t===0||hC.hasOwnProperty(n)&&hC[n]?(""+t).trim():t+"px"}function g4(n,t){n=n.style;for(var e in t)if(t.hasOwnProperty(e)){var r=e.indexOf("--")===0,i=v4(e,t[e],r);e==="float"&&(e="cssFloat"),r?n.setProperty(e,i):n[e]=i}}var Hre=Fr({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function VM(n,t){if(t){if(Hre[n]&&(t.children!=null||t.dangerouslySetInnerHTML!=null))throw Error(we(137,n));if(t.dangerouslySetInnerHTML!=null){if(t.children!=null)throw Error(we(60));if(typeof t.dangerouslySetInnerHTML!="object"||!("__html"in t.dangerouslySetInnerHTML))throw Error(we(61))}if(t.style!=null&&typeof t.style!="object")throw Error(we(62))}}function BM(n,t){if(n.indexOf("-")===-1)return typeof t.is=="string";switch(n){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var HM=null;function p1(n){return n=n.target||n.srcElement||window,n.correspondingUseElement&&(n=n.correspondingUseElement),n.nodeType===3?n.parentNode:n}var jM=null,$v=null,Wv=null;function y2(n){if(n=yw(n)){if(typeof jM!="function")throw Error(we(280));var t=n.stateNode;t&&(t=QO(t),jM(n.stateNode,n.type,t))}}function y4(n){$v?Wv?Wv.push(n):Wv=[n]:$v=n}function m4(){if($v){var n=$v,t=Wv;if(Wv=$v=null,y2(n),t)for(n=0;n<t.length;n++)y2(t[n])}}function C4(n,t){return n(t)}function S4(){}var xP=!1;function w4(n,t,e){if(xP)return n(t,e);xP=!0;try{return C4(n,t,e)}finally{xP=!1,($v!==null||Wv!==null)&&(S4(),m4())}}function qC(n,t){var e=n.stateNode;if(e===null)return null;var r=QO(e);if(r===null)return null;e=r[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(n=n.type,r=!(n==="button"||n==="input"||n==="select"||n==="textarea")),n=!r;break e;default:n=!1}if(n)return null;if(e&&typeof e!="function")throw Error(we(231,t,typeof e));return e}var $M=!1;if(Ku)try{var Cy={};Object.defineProperty(Cy,"passive",{get:function(){$M=!0}}),window.addEventListener("test",Cy,Cy),window.removeEventListener("test",Cy,Cy)}catch{$M=!1}function jre(n,t,e,r,i,o,a,s,l){var u=Array.prototype.slice.call(arguments,3);try{t.apply(e,u)}catch(c){this.onError(c)}}var fC=!1,PE=null,AE=!1,WM=null,$re={onError:function(n){fC=!0,PE=n}};function Wre(n,t,e,r,i,o,a,s,l){fC=!1,PE=null,jre.apply($re,arguments)}function Ure(n,t,e,r,i,o,a,s,l){if(Wre.apply(this,arguments),fC){if(fC){var u=PE;fC=!1,PE=null}else throw Error(we(198));AE||(AE=!0,WM=u)}}function lf(n){var t=n,e=n;if(n.alternate)for(;t.return;)t=t.return;else{n=t;do t=n,t.flags&4098&&(e=t.return),n=t.return;while(n)}return t.tag===3?e:null}function _4(n){if(n.tag===13){var t=n.memoizedState;if(t===null&&(n=n.alternate,n!==null&&(t=n.memoizedState)),t!==null)return t.dehydrated}return null}function m2(n){if(lf(n)!==n)throw Error(we(188))}function zre(n){var t=n.alternate;if(!t){if(t=lf(n),t===null)throw Error(we(188));return t!==n?null:n}for(var e=n,r=t;;){var i=e.return;if(i===null)break;var o=i.alternate;if(o===null){if(r=i.return,r!==null){e=r;continue}break}if(i.child===o.child){for(o=i.child;o;){if(o===e)return m2(i),n;if(o===r)return m2(i),t;o=o.sibling}throw Error(we(188))}if(e.return!==r.return)e=i,r=o;else{for(var a=!1,s=i.child;s;){if(s===e){a=!0,e=i,r=o;break}if(s===r){a=!0,r=i,e=o;break}s=s.sibling}if(!a){for(s=o.child;s;){if(s===e){a=!0,e=o,r=i;break}if(s===r){a=!0,r=o,e=i;break}s=s.sibling}if(!a)throw Error(we(189))}}if(e.alternate!==r)throw Error(we(190))}if(e.tag!==3)throw Error(we(188));return e.stateNode.current===e?n:t}function x4(n){return n=zre(n),n!==null?E4(n):null}function E4(n){if(n.tag===5||n.tag===6)return n;for(n=n.child;n!==null;){var t=E4(n);if(t!==null)return t;n=n.sibling}return null}var b4=la.unstable_scheduleCallback,C2=la.unstable_cancelCallback,Kre=la.unstable_shouldYield,Yre=la.unstable_requestPaint,Yr=la.unstable_now,Xre=la.unstable_getCurrentPriorityLevel,h1=la.unstable_ImmediatePriority,O4=la.unstable_UserBlockingPriority,DE=la.unstable_NormalPriority,qre=la.unstable_LowPriority,R4=la.unstable_IdlePriority,YO=null,Hl=null;function Zre(n){if(Hl&&typeof Hl.onCommitFiberRoot=="function")try{Hl.onCommitFiberRoot(YO,n,void 0,(n.current.flags&128)===128)}catch{}}var Ds=Math.clz32?Math.clz32:ene,Qre=Math.log,Jre=Math.LN2;function ene(n){return n>>>=0,n===0?32:31-(Qre(n)/Jre|0)|0}var x0=64,E0=4194304;function Nm(n){switch(n&-n){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return n&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return n&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return n}}function ME(n,t){var e=n.pendingLanes;if(e===0)return 0;var r=0,i=n.suspendedLanes,o=n.pingedLanes,a=e&268435455;if(a!==0){var s=a&~i;s!==0?r=Nm(s):(o&=a,o!==0&&(r=Nm(o)))}else a=e&~i,a!==0?r=Nm(a):o!==0&&(r=Nm(o));if(r===0)return 0;if(t!==0&&t!==r&&!(t&i)&&(i=r&-r,o=t&-t,i>=o||i===16&&(o&4194240)!==0))return t;if(r&4&&(r|=e&16),t=n.entangledLanes,t!==0)for(n=n.entanglements,t&=r;0<t;)e=31-Ds(t),i=1<<e,r|=n[e],t&=~i;return r}function tne(n,t){switch(n){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function rne(n,t){for(var e=n.suspendedLanes,r=n.pingedLanes,i=n.expirationTimes,o=n.pendingLanes;0<o;){var a=31-Ds(o),s=1<<a,l=i[a];l===-1?(!(s&e)||s&r)&&(i[a]=tne(s,t)):l<=t&&(n.expiredLanes|=s),o&=~s}}function UM(n){return n=n.pendingLanes&-1073741825,n!==0?n:n&1073741824?1073741824:0}function T4(){var n=x0;return x0<<=1,!(x0&4194240)&&(x0=64),n}function EP(n){for(var t=[],e=0;31>e;e++)t.push(n);return t}function vw(n,t,e){n.pendingLanes|=t,t!==536870912&&(n.suspendedLanes=0,n.pingedLanes=0),n=n.eventTimes,t=31-Ds(t),n[t]=e}function nne(n,t){var e=n.pendingLanes&~t;n.pendingLanes=t,n.suspendedLanes=0,n.pingedLanes=0,n.expiredLanes&=t,n.mutableReadLanes&=t,n.entangledLanes&=t,t=n.entanglements;var r=n.eventTimes;for(n=n.expirationTimes;0<e;){var i=31-Ds(e),o=1<<i;t[i]=0,r[i]=-1,n[i]=-1,e&=~o}}function f1(n,t){var e=n.entangledLanes|=t;for(n=n.entanglements;e;){var r=31-Ds(e),i=1<<r;i&t|n[r]&t&&(n[r]|=t),e&=~i}}var Jt=0;function P4(n){return n&=-n,1<n?4<n?n&268435455?16:536870912:4:1}var A4,v1,D4,M4,L4,zM=!1,b0=[],Ed=null,bd=null,Od=null,ZC=new Map,QC=new Map,sd=[],ine="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function S2(n,t){switch(n){case"focusin":case"focusout":Ed=null;break;case"dragenter":case"dragleave":bd=null;break;case"mouseover":case"mouseout":Od=null;break;case"pointerover":case"pointerout":ZC.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":QC.delete(t.pointerId)}}function Sy(n,t,e,r,i,o){return n===null||n.nativeEvent!==o?(n={blockedOn:t,domEventName:e,eventSystemFlags:r,nativeEvent:o,targetContainers:[i]},t!==null&&(t=yw(t),t!==null&&v1(t)),n):(n.eventSystemFlags|=r,t=n.targetContainers,i!==null&&t.indexOf(i)===-1&&t.push(i),n)}function one(n,t,e,r,i){switch(t){case"focusin":return Ed=Sy(Ed,n,t,e,r,i),!0;case"dragenter":return bd=Sy(bd,n,t,e,r,i),!0;case"mouseover":return Od=Sy(Od,n,t,e,r,i),!0;case"pointerover":var o=i.pointerId;return ZC.set(o,Sy(ZC.get(o)||null,n,t,e,r,i)),!0;case"gotpointercapture":return o=i.pointerId,QC.set(o,Sy(QC.get(o)||null,n,t,e,r,i)),!0}return!1}function F4(n){var t=vh(n.target);if(t!==null){var e=lf(t);if(e!==null){if(t=e.tag,t===13){if(t=_4(e),t!==null){n.blockedOn=t,L4(n.priority,function(){D4(e)});return}}else if(t===3&&e.stateNode.current.memoizedState.isDehydrated){n.blockedOn=e.tag===3?e.stateNode.containerInfo:null;return}}}n.blockedOn=null}function Mx(n){if(n.blockedOn!==null)return!1;for(var t=n.targetContainers;0<t.length;){var e=KM(n.domEventName,n.eventSystemFlags,t[0],n.nativeEvent);if(e===null){e=n.nativeEvent;var r=new e.constructor(e.type,e);HM=r,e.target.dispatchEvent(r),HM=null}else return t=yw(e),t!==null&&v1(t),n.blockedOn=e,!1;t.shift()}return!0}function w2(n,t,e){Mx(n)&&e.delete(t)}function ane(){zM=!1,Ed!==null&&Mx(Ed)&&(Ed=null),bd!==null&&Mx(bd)&&(bd=null),Od!==null&&Mx(Od)&&(Od=null),ZC.forEach(w2),QC.forEach(w2)}function wy(n,t){n.blockedOn===t&&(n.blockedOn=null,zM||(zM=!0,la.unstable_scheduleCallback(la.unstable_NormalPriority,ane)))}function JC(n){function t(i){return wy(i,n)}if(0<b0.length){wy(b0[0],n);for(var e=1;e<b0.length;e++){var r=b0[e];r.blockedOn===n&&(r.blockedOn=null)}}for(Ed!==null&&wy(Ed,n),bd!==null&&wy(bd,n),Od!==null&&wy(Od,n),ZC.forEach(t),QC.forEach(t),e=0;e<sd.length;e++)r=sd[e],r.blockedOn===n&&(r.blockedOn=null);for(;0<sd.length&&(e=sd[0],e.blockedOn===null);)F4(e),e.blockedOn===null&&sd.shift()}var Uv=hc.ReactCurrentBatchConfig,LE=!0;function sne(n,t,e,r){var i=Jt,o=Uv.transition;Uv.transition=null;try{Jt=1,g1(n,t,e,r)}finally{Jt=i,Uv.transition=o}}function lne(n,t,e,r){var i=Jt,o=Uv.transition;Uv.transition=null;try{Jt=4,g1(n,t,e,r)}finally{Jt=i,Uv.transition=o}}function g1(n,t,e,r){if(LE){var i=KM(n,t,e,r);if(i===null)FP(n,t,r,FE,e),S2(n,r);else if(one(i,n,t,e,r))r.stopPropagation();else if(S2(n,r),t&4&&-1<ine.indexOf(n)){for(;i!==null;){var o=yw(i);if(o!==null&&A4(o),o=KM(n,t,e,r),o===null&&FP(n,t,r,FE,e),o===i)break;i=o}i!==null&&r.stopPropagation()}else FP(n,t,r,null,e)}}var FE=null;function KM(n,t,e,r){if(FE=null,n=p1(r),n=vh(n),n!==null)if(t=lf(n),t===null)n=null;else if(e=t.tag,e===13){if(n=_4(t),n!==null)return n;n=null}else if(e===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;n=null}else t!==n&&(n=null);return FE=n,null}function I4(n){switch(n){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(Xre()){case h1:return 1;case O4:return 4;case DE:case qre:return 16;case R4:return 536870912;default:return 16}default:return 16}}var hd=null,y1=null,Lx=null;function N4(){if(Lx)return Lx;var n,t=y1,e=t.length,r,i="value"in hd?hd.value:hd.textContent,o=i.length;for(n=0;n<e&&t[n]===i[n];n++);var a=e-n;for(r=1;r<=a&&t[e-r]===i[o-r];r++);return Lx=i.slice(n,1<r?1-r:void 0)}function Fx(n){var t=n.keyCode;return"charCode"in n?(n=n.charCode,n===0&&t===13&&(n=13)):n=t,n===10&&(n=13),32<=n||n===13?n:0}function O0(){return!0}function _2(){return!1}function ha(n){function t(e,r,i,o,a){this._reactName=e,this._targetInst=i,this.type=r,this.nativeEvent=o,this.target=a,this.currentTarget=null;for(var s in n)n.hasOwnProperty(s)&&(e=n[s],this[s]=e?e(o):o[s]);return this.isDefaultPrevented=(o.defaultPrevented!=null?o.defaultPrevented:o.returnValue===!1)?O0:_2,this.isPropagationStopped=_2,this}return Fr(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var e=this.nativeEvent;e&&(e.preventDefault?e.preventDefault():typeof e.returnValue!="unknown"&&(e.returnValue=!1),this.isDefaultPrevented=O0)},stopPropagation:function(){var e=this.nativeEvent;e&&(e.stopPropagation?e.stopPropagation():typeof e.cancelBubble!="unknown"&&(e.cancelBubble=!0),this.isPropagationStopped=O0)},persist:function(){},isPersistent:O0}),t}var Hg={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(n){return n.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},m1=ha(Hg),gw=Fr({},Hg,{view:0,detail:0}),une=ha(gw),bP,OP,_y,XO=Fr({},gw,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:C1,button:0,buttons:0,relatedTarget:function(n){return n.relatedTarget===void 0?n.fromElement===n.srcElement?n.toElement:n.fromElement:n.relatedTarget},movementX:function(n){return"movementX"in n?n.movementX:(n!==_y&&(_y&&n.type==="mousemove"?(bP=n.screenX-_y.screenX,OP=n.screenY-_y.screenY):OP=bP=0,_y=n),bP)},movementY:function(n){return"movementY"in n?n.movementY:OP}}),x2=ha(XO),cne=Fr({},XO,{dataTransfer:0}),dne=ha(cne),pne=Fr({},gw,{relatedTarget:0}),RP=ha(pne),hne=Fr({},Hg,{animationName:0,elapsedTime:0,pseudoElement:0}),fne=ha(hne),vne=Fr({},Hg,{clipboardData:function(n){return"clipboardData"in n?n.clipboardData:window.clipboardData}}),gne=ha(vne),yne=Fr({},Hg,{data:0}),E2=ha(yne),mne={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Cne={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Sne={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function wne(n){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(n):(n=Sne[n])?!!t[n]:!1}function C1(){return wne}var _ne=Fr({},gw,{key:function(n){if(n.key){var t=mne[n.key]||n.key;if(t!=="Unidentified")return t}return n.type==="keypress"?(n=Fx(n),n===13?"Enter":String.fromCharCode(n)):n.type==="keydown"||n.type==="keyup"?Cne[n.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:C1,charCode:function(n){return n.type==="keypress"?Fx(n):0},keyCode:function(n){return n.type==="keydown"||n.type==="keyup"?n.keyCode:0},which:function(n){return n.type==="keypress"?Fx(n):n.type==="keydown"||n.type==="keyup"?n.keyCode:0}}),xne=ha(_ne),Ene=Fr({},XO,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),b2=ha(Ene),bne=Fr({},gw,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:C1}),One=ha(bne),Rne=Fr({},Hg,{propertyName:0,elapsedTime:0,pseudoElement:0}),Tne=ha(Rne),Pne=Fr({},XO,{deltaX:function(n){return"deltaX"in n?n.deltaX:"wheelDeltaX"in n?-n.wheelDeltaX:0},deltaY:function(n){return"deltaY"in n?n.deltaY:"wheelDeltaY"in n?-n.wheelDeltaY:"wheelDelta"in n?-n.wheelDelta:0},deltaZ:0,deltaMode:0}),Ane=ha(Pne),Dne=[9,13,27,32],S1=Ku&&"CompositionEvent"in window,vC=null;Ku&&"documentMode"in document&&(vC=document.documentMode);var Mne=Ku&&"TextEvent"in window&&!vC,k4=Ku&&(!S1||vC&&8<vC&&11>=vC),O2=" ",R2=!1;function G4(n,t){switch(n){case"keyup":return Dne.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function V4(n){return n=n.detail,typeof n=="object"&&"data"in n?n.data:null}var yv=!1;function Lne(n,t){switch(n){case"compositionend":return V4(t);case"keypress":return t.which!==32?null:(R2=!0,O2);case"textInput":return n=t.data,n===O2&&R2?null:n;default:return null}}function Fne(n,t){if(yv)return n==="compositionend"||!S1&&G4(n,t)?(n=N4(),Lx=y1=hd=null,yv=!1,n):null;switch(n){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return k4&&t.locale!=="ko"?null:t.data;default:return null}}var Ine={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function T2(n){var t=n&&n.nodeName&&n.nodeName.toLowerCase();return t==="input"?!!Ine[n.type]:t==="textarea"}function B4(n,t,e,r){y4(r),t=IE(t,"onChange"),0<t.length&&(e=new m1("onChange","change",null,e,r),n.push({event:e,listeners:t}))}var gC=null,eS=null;function Nne(n){Z4(n,0)}function qO(n){var t=Sv(n);if(c4(t))return n}function kne(n,t){if(n==="change")return t}var H4=!1;if(Ku){var TP;if(Ku){var PP="oninput"in document;if(!PP){var P2=document.createElement("div");P2.setAttribute("oninput","return;"),PP=typeof P2.oninput=="function"}TP=PP}else TP=!1;H4=TP&&(!document.documentMode||9<document.documentMode)}function A2(){gC&&(gC.detachEvent("onpropertychange",j4),eS=gC=null)}function j4(n){if(n.propertyName==="value"&&qO(eS)){var t=[];B4(t,eS,n,p1(n)),w4(Nne,t)}}function Gne(n,t,e){n==="focusin"?(A2(),gC=t,eS=e,gC.attachEvent("onpropertychange",j4)):n==="focusout"&&A2()}function Vne(n){if(n==="selectionchange"||n==="keyup"||n==="keydown")return qO(eS)}function Bne(n,t){if(n==="click")return qO(t)}function Hne(n,t){if(n==="input"||n==="change")return qO(t)}function jne(n,t){return n===t&&(n!==0||1/n===1/t)||n!==n&&t!==t}var Ns=typeof Object.is=="function"?Object.is:jne;function tS(n,t){if(Ns(n,t))return!0;if(typeof n!="object"||n===null||typeof t!="object"||t===null)return!1;var e=Object.keys(n),r=Object.keys(t);if(e.length!==r.length)return!1;for(r=0;r<e.length;r++){var i=e[r];if(!PM.call(t,i)||!Ns(n[i],t[i]))return!1}return!0}function D2(n){for(;n&&n.firstChild;)n=n.firstChild;return n}function M2(n,t){var e=D2(n);n=0;for(var r;e;){if(e.nodeType===3){if(r=n+e.textContent.length,n<=t&&r>=t)return{node:e,offset:t-n};n=r}e:{for(;e;){if(e.nextSibling){e=e.nextSibling;break e}e=e.parentNode}e=void 0}e=D2(e)}}function $4(n,t){return n&&t?n===t?!0:n&&n.nodeType===3?!1:t&&t.nodeType===3?$4(n,t.parentNode):"contains"in n?n.contains(t):n.compareDocumentPosition?!!(n.compareDocumentPosition(t)&16):!1:!1}function W4(){for(var n=window,t=TE();t instanceof n.HTMLIFrameElement;){try{var e=typeof t.contentWindow.location.href=="string"}catch{e=!1}if(e)n=t.contentWindow;else break;t=TE(n.document)}return t}function w1(n){var t=n&&n.nodeName&&n.nodeName.toLowerCase();return t&&(t==="input"&&(n.type==="text"||n.type==="search"||n.type==="tel"||n.type==="url"||n.type==="password")||t==="textarea"||n.contentEditable==="true")}function $ne(n){var t=W4(),e=n.focusedElem,r=n.selectionRange;if(t!==e&&e&&e.ownerDocument&&$4(e.ownerDocument.documentElement,e)){if(r!==null&&w1(e)){if(t=r.start,n=r.end,n===void 0&&(n=t),"selectionStart"in e)e.selectionStart=t,e.selectionEnd=Math.min(n,e.value.length);else if(n=(t=e.ownerDocument||document)&&t.defaultView||window,n.getSelection){n=n.getSelection();var i=e.textContent.length,o=Math.min(r.start,i);r=r.end===void 0?o:Math.min(r.end,i),!n.extend&&o>r&&(i=r,r=o,o=i),i=M2(e,o);var a=M2(e,r);i&&a&&(n.rangeCount!==1||n.anchorNode!==i.node||n.anchorOffset!==i.offset||n.focusNode!==a.node||n.focusOffset!==a.offset)&&(t=t.createRange(),t.setStart(i.node,i.offset),n.removeAllRanges(),o>r?(n.addRange(t),n.extend(a.node,a.offset)):(t.setEnd(a.node,a.offset),n.addRange(t)))}}for(t=[],n=e;n=n.parentNode;)n.nodeType===1&&t.push({element:n,left:n.scrollLeft,top:n.scrollTop});for(typeof e.focus=="function"&&e.focus(),e=0;e<t.length;e++)n=t[e],n.element.scrollLeft=n.left,n.element.scrollTop=n.top}}var Wne=Ku&&"documentMode"in document&&11>=document.documentMode,mv=null,YM=null,yC=null,XM=!1;function L2(n,t,e){var r=e.window===e?e.document:e.nodeType===9?e:e.ownerDocument;XM||mv==null||mv!==TE(r)||(r=mv,"selectionStart"in r&&w1(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),yC&&tS(yC,r)||(yC=r,r=IE(YM,"onSelect"),0<r.length&&(t=new m1("onSelect","select",null,t,e),n.push({event:t,listeners:r}),t.target=mv)))}function R0(n,t){var e={};return e[n.toLowerCase()]=t.toLowerCase(),e["Webkit"+n]="webkit"+t,e["Moz"+n]="moz"+t,e}var Cv={animationend:R0("Animation","AnimationEnd"),animationiteration:R0("Animation","AnimationIteration"),animationstart:R0("Animation","AnimationStart"),transitionend:R0("Transition","TransitionEnd")},AP={},U4={};Ku&&(U4=document.createElement("div").style,"AnimationEvent"in window||(delete Cv.animationend.animation,delete Cv.animationiteration.animation,delete Cv.animationstart.animation),"TransitionEvent"in window||delete Cv.transitionend.transition);function ZO(n){if(AP[n])return AP[n];if(!Cv[n])return n;var t=Cv[n],e;for(e in t)if(t.hasOwnProperty(e)&&e in U4)return AP[n]=t[e];return n}var z4=ZO("animationend"),K4=ZO("animationiteration"),Y4=ZO("animationstart"),X4=ZO("transitionend"),q4=new Map,F2="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function tp(n,t){q4.set(n,t),sf(t,[n])}for(var DP=0;DP<F2.length;DP++){var MP=F2[DP],Une=MP.toLowerCase(),zne=MP[0].toUpperCase()+MP.slice(1);tp(Une,"on"+zne)}tp(z4,"onAnimationEnd");tp(K4,"onAnimationIteration");tp(Y4,"onAnimationStart");tp("dblclick","onDoubleClick");tp("focusin","onFocus");tp("focusout","onBlur");tp(X4,"onTransitionEnd");pg("onMouseEnter",["mouseout","mouseover"]);pg("onMouseLeave",["mouseout","mouseover"]);pg("onPointerEnter",["pointerout","pointerover"]);pg("onPointerLeave",["pointerout","pointerover"]);sf("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));sf("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));sf("onBeforeInput",["compositionend","keypress","textInput","paste"]);sf("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));sf("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));sf("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var km="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Kne=new Set("cancel close invalid load scroll toggle".split(" ").concat(km));function I2(n,t,e){var r=n.type||"unknown-event";n.currentTarget=e,Ure(r,t,void 0,n),n.currentTarget=null}function Z4(n,t){t=(t&4)!==0;for(var e=0;e<n.length;e++){var r=n[e],i=r.event;r=r.listeners;e:{var o=void 0;if(t)for(var a=r.length-1;0<=a;a--){var s=r[a],l=s.instance,u=s.currentTarget;if(s=s.listener,l!==o&&i.isPropagationStopped())break e;I2(i,s,u),o=l}else for(a=0;a<r.length;a++){if(s=r[a],l=s.instance,u=s.currentTarget,s=s.listener,l!==o&&i.isPropagationStopped())break e;I2(i,s,u),o=l}}}if(AE)throw n=WM,AE=!1,WM=null,n}function mr(n,t){var e=t[eL];e===void 0&&(e=t[eL]=new Set);var r=n+"__bubble";e.has(r)||(Q4(t,n,2,!1),e.add(r))}function LP(n,t,e){var r=0;t&&(r|=4),Q4(e,n,r,t)}var T0="_reactListening"+Math.random().toString(36).slice(2);function rS(n){if(!n[T0]){n[T0]=!0,o4.forEach(function(e){e!=="selectionchange"&&(Kne.has(e)||LP(e,!1,n),LP(e,!0,n))});var t=n.nodeType===9?n:n.ownerDocument;t===null||t[T0]||(t[T0]=!0,LP("selectionchange",!1,t))}}function Q4(n,t,e,r){switch(I4(t)){case 1:var i=sne;break;case 4:i=lne;break;default:i=g1}e=i.bind(null,t,e,n),i=void 0,!$M||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(i=!0),r?i!==void 0?n.addEventListener(t,e,{capture:!0,passive:i}):n.addEventListener(t,e,!0):i!==void 0?n.addEventListener(t,e,{passive:i}):n.addEventListener(t,e,!1)}function FP(n,t,e,r,i){var o=r;if(!(t&1)&&!(t&2)&&r!==null)e:for(;;){if(r===null)return;var a=r.tag;if(a===3||a===4){var s=r.stateNode.containerInfo;if(s===i||s.nodeType===8&&s.parentNode===i)break;if(a===4)for(a=r.return;a!==null;){var l=a.tag;if((l===3||l===4)&&(l=a.stateNode.containerInfo,l===i||l.nodeType===8&&l.parentNode===i))return;a=a.return}for(;s!==null;){if(a=vh(s),a===null)return;if(l=a.tag,l===5||l===6){r=o=a;continue e}s=s.parentNode}}r=r.return}w4(function(){var u=o,c=p1(e),d=[];e:{var p=q4.get(n);if(p!==void 0){var h=m1,f=n;switch(n){case"keypress":if(Fx(e)===0)break e;case"keydown":case"keyup":h=xne;break;case"focusin":f="focus",h=RP;break;case"focusout":f="blur",h=RP;break;case"beforeblur":case"afterblur":h=RP;break;case"click":if(e.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":h=x2;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":h=dne;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":h=One;break;case z4:case K4:case Y4:h=fne;break;case X4:h=Tne;break;case"scroll":h=une;break;case"wheel":h=Ane;break;case"copy":case"cut":case"paste":h=gne;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":h=b2}var v=(t&4)!==0,g=!v&&n==="scroll",y=v?p!==null?p+"Capture":null:p;v=[];for(var m=u,C;m!==null;){C=m;var S=C.stateNode;if(C.tag===5&&S!==null&&(C=S,y!==null&&(S=qC(m,y),S!=null&&v.push(nS(m,S,C)))),g)break;m=m.return}0<v.length&&(p=new h(p,f,null,e,c),d.push({event:p,listeners:v}))}}if(!(t&7)){e:{if(p=n==="mouseover"||n==="pointerover",h=n==="mouseout"||n==="pointerout",p&&e!==HM&&(f=e.relatedTarget||e.fromElement)&&(vh(f)||f[Yu]))break e;if((h||p)&&(p=c.window===c?c:(p=c.ownerDocument)?p.defaultView||p.parentWindow:window,h?(f=e.relatedTarget||e.toElement,h=u,f=f?vh(f):null,f!==null&&(g=lf(f),f!==g||f.tag!==5&&f.tag!==6)&&(f=null)):(h=null,f=u),h!==f)){if(v=x2,S="onMouseLeave",y="onMouseEnter",m="mouse",(n==="pointerout"||n==="pointerover")&&(v=b2,S="onPointerLeave",y="onPointerEnter",m="pointer"),g=h==null?p:Sv(h),C=f==null?p:Sv(f),p=new v(S,m+"leave",h,e,c),p.target=g,p.relatedTarget=C,S=null,vh(c)===u&&(v=new v(y,m+"enter",f,e,c),v.target=C,v.relatedTarget=g,S=v),g=S,h&&f)t:{for(v=h,y=f,m=0,C=v;C;C=Tf(C))m++;for(C=0,S=y;S;S=Tf(S))C++;for(;0<m-C;)v=Tf(v),m--;for(;0<C-m;)y=Tf(y),C--;for(;m--;){if(v===y||y!==null&&v===y.alternate)break t;v=Tf(v),y=Tf(y)}v=null}else v=null;h!==null&&N2(d,p,h,v,!1),f!==null&&g!==null&&N2(d,g,f,v,!0)}}e:{if(p=u?Sv(u):window,h=p.nodeName&&p.nodeName.toLowerCase(),h==="select"||h==="input"&&p.type==="file")var w=kne;else if(T2(p))if(H4)w=Hne;else{w=Vne;var _=Gne}else(h=p.nodeName)&&h.toLowerCase()==="input"&&(p.type==="checkbox"||p.type==="radio")&&(w=Bne);if(w&&(w=w(n,u))){B4(d,w,e,c);break e}_&&_(n,p,u),n==="focusout"&&(_=p._wrapperState)&&_.controlled&&p.type==="number"&&NM(p,"number",p.value)}switch(_=u?Sv(u):window,n){case"focusin":(T2(_)||_.contentEditable==="true")&&(mv=_,YM=u,yC=null);break;case"focusout":yC=YM=mv=null;break;case"mousedown":XM=!0;break;case"contextmenu":case"mouseup":case"dragend":XM=!1,L2(d,e,c);break;case"selectionchange":if(Wne)break;case"keydown":case"keyup":L2(d,e,c)}var x;if(S1)e:{switch(n){case"compositionstart":var b="onCompositionStart";break e;case"compositionend":b="onCompositionEnd";break e;case"compositionupdate":b="onCompositionUpdate";break e}b=void 0}else yv?G4(n,e)&&(b="onCompositionEnd"):n==="keydown"&&e.keyCode===229&&(b="onCompositionStart");b&&(k4&&e.locale!=="ko"&&(yv||b!=="onCompositionStart"?b==="onCompositionEnd"&&yv&&(x=N4()):(hd=c,y1="value"in hd?hd.value:hd.textContent,yv=!0)),_=IE(u,b),0<_.length&&(b=new E2(b,n,null,e,c),d.push({event:b,listeners:_}),x?b.data=x:(x=V4(e),x!==null&&(b.data=x)))),(x=Mne?Lne(n,e):Fne(n,e))&&(u=IE(u,"onBeforeInput"),0<u.length&&(c=new E2("onBeforeInput","beforeinput",null,e,c),d.push({event:c,listeners:u}),c.data=x))}Z4(d,t)})}function nS(n,t,e){return{instance:n,listener:t,currentTarget:e}}function IE(n,t){for(var e=t+"Capture",r=[];n!==null;){var i=n,o=i.stateNode;i.tag===5&&o!==null&&(i=o,o=qC(n,e),o!=null&&r.unshift(nS(n,o,i)),o=qC(n,t),o!=null&&r.push(nS(n,o,i))),n=n.return}return r}function Tf(n){if(n===null)return null;do n=n.return;while(n&&n.tag!==5);return n||null}function N2(n,t,e,r,i){for(var o=t._reactName,a=[];e!==null&&e!==r;){var s=e,l=s.alternate,u=s.stateNode;if(l!==null&&l===r)break;s.tag===5&&u!==null&&(s=u,i?(l=qC(e,o),l!=null&&a.unshift(nS(e,l,s))):i||(l=qC(e,o),l!=null&&a.push(nS(e,l,s)))),e=e.return}a.length!==0&&n.push({event:t,listeners:a})}var Yne=/\r\n?/g,Xne=/\u0000|\uFFFD/g;function k2(n){return(typeof n=="string"?n:""+n).replace(Yne,`
`).replace(Xne,"")}function P0(n,t,e){if(t=k2(t),k2(n)!==t&&e)throw Error(we(425))}function NE(){}var qM=null,ZM=null;function QM(n,t){return n==="textarea"||n==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var JM=typeof setTimeout=="function"?setTimeout:void 0,qne=typeof clearTimeout=="function"?clearTimeout:void 0,G2=typeof Promise=="function"?Promise:void 0,Zne=typeof queueMicrotask=="function"?queueMicrotask:typeof G2<"u"?function(n){return G2.resolve(null).then(n).catch(Qne)}:JM;function Qne(n){setTimeout(function(){throw n})}function IP(n,t){var e=t,r=0;do{var i=e.nextSibling;if(n.removeChild(e),i&&i.nodeType===8)if(e=i.data,e==="/$"){if(r===0){n.removeChild(i),JC(t);return}r--}else e!=="$"&&e!=="$?"&&e!=="$!"||r++;e=i}while(e);JC(t)}function Rd(n){for(;n!=null;n=n.nextSibling){var t=n.nodeType;if(t===1||t===3)break;if(t===8){if(t=n.data,t==="$"||t==="$!"||t==="$?")break;if(t==="/$")return null}}return n}function V2(n){n=n.previousSibling;for(var t=0;n;){if(n.nodeType===8){var e=n.data;if(e==="$"||e==="$!"||e==="$?"){if(t===0)return n;t--}else e==="/$"&&t++}n=n.previousSibling}return null}var jg=Math.random().toString(36).slice(2),Al="__reactFiber$"+jg,iS="__reactProps$"+jg,Yu="__reactContainer$"+jg,eL="__reactEvents$"+jg,Jne="__reactListeners$"+jg,eie="__reactHandles$"+jg;function vh(n){var t=n[Al];if(t)return t;for(var e=n.parentNode;e;){if(t=e[Yu]||e[Al]){if(e=t.alternate,t.child!==null||e!==null&&e.child!==null)for(n=V2(n);n!==null;){if(e=n[Al])return e;n=V2(n)}return t}n=e,e=n.parentNode}return null}function yw(n){return n=n[Al]||n[Yu],!n||n.tag!==5&&n.tag!==6&&n.tag!==13&&n.tag!==3?null:n}function Sv(n){if(n.tag===5||n.tag===6)return n.stateNode;throw Error(we(33))}function QO(n){return n[iS]||null}var tL=[],wv=-1;function rp(n){return{current:n}}function br(n){0>wv||(n.current=tL[wv],tL[wv]=null,wv--)}function vr(n,t){wv++,tL[wv]=n.current,n.current=t}var Ud={},Si=rp(Ud),go=rp(!1),$h=Ud;function hg(n,t){var e=n.type.contextTypes;if(!e)return Ud;var r=n.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===t)return r.__reactInternalMemoizedMaskedChildContext;var i={},o;for(o in e)i[o]=t[o];return r&&(n=n.stateNode,n.__reactInternalMemoizedUnmaskedChildContext=t,n.__reactInternalMemoizedMaskedChildContext=i),i}function yo(n){return n=n.childContextTypes,n!=null}function kE(){br(go),br(Si)}function B2(n,t,e){if(Si.current!==Ud)throw Error(we(168));vr(Si,t),vr(go,e)}function J4(n,t,e){var r=n.stateNode;if(t=t.childContextTypes,typeof r.getChildContext!="function")return e;r=r.getChildContext();for(var i in r)if(!(i in t))throw Error(we(108,Gre(n)||"Unknown",i));return Fr({},e,r)}function GE(n){return n=(n=n.stateNode)&&n.__reactInternalMemoizedMergedChildContext||Ud,$h=Si.current,vr(Si,n),vr(go,go.current),!0}function H2(n,t,e){var r=n.stateNode;if(!r)throw Error(we(169));e?(n=J4(n,t,$h),r.__reactInternalMemoizedMergedChildContext=n,br(go),br(Si),vr(Si,n)):br(go),vr(go,e)}var Du=null,JO=!1,NP=!1;function e6(n){Du===null?Du=[n]:Du.push(n)}function tie(n){JO=!0,e6(n)}function np(){if(!NP&&Du!==null){NP=!0;var n=0,t=Jt;try{var e=Du;for(Jt=1;n<e.length;n++){var r=e[n];do r=r(!0);while(r!==null)}Du=null,JO=!1}catch(i){throw Du!==null&&(Du=Du.slice(n+1)),b4(h1,np),i}finally{Jt=t,NP=!1}}return null}var _v=[],xv=0,VE=null,BE=0,Ma=[],La=0,Wh=null,Lu=1,Fu="";function zp(n,t){_v[xv++]=BE,_v[xv++]=VE,VE=n,BE=t}function t6(n,t,e){Ma[La++]=Lu,Ma[La++]=Fu,Ma[La++]=Wh,Wh=n;var r=Lu;n=Fu;var i=32-Ds(r)-1;r&=~(1<<i),e+=1;var o=32-Ds(t)+i;if(30<o){var a=i-i%5;o=(r&(1<<a)-1).toString(32),r>>=a,i-=a,Lu=1<<32-Ds(t)+i|e<<i|r,Fu=o+n}else Lu=1<<o|e<<i|r,Fu=n}function _1(n){n.return!==null&&(zp(n,1),t6(n,1,0))}function x1(n){for(;n===VE;)VE=_v[--xv],_v[xv]=null,BE=_v[--xv],_v[xv]=null;for(;n===Wh;)Wh=Ma[--La],Ma[La]=null,Fu=Ma[--La],Ma[La]=null,Lu=Ma[--La],Ma[La]=null}var aa=null,ra=null,Tr=!1,ws=null;function r6(n,t){var e=Va(5,null,null,0);e.elementType="DELETED",e.stateNode=t,e.return=n,t=n.deletions,t===null?(n.deletions=[e],n.flags|=16):t.push(e)}function j2(n,t){switch(n.tag){case 5:var e=n.type;return t=t.nodeType!==1||e.toLowerCase()!==t.nodeName.toLowerCase()?null:t,t!==null?(n.stateNode=t,aa=n,ra=Rd(t.firstChild),!0):!1;case 6:return t=n.pendingProps===""||t.nodeType!==3?null:t,t!==null?(n.stateNode=t,aa=n,ra=null,!0):!1;case 13:return t=t.nodeType!==8?null:t,t!==null?(e=Wh!==null?{id:Lu,overflow:Fu}:null,n.memoizedState={dehydrated:t,treeContext:e,retryLane:1073741824},e=Va(18,null,null,0),e.stateNode=t,e.return=n,n.child=e,aa=n,ra=null,!0):!1;default:return!1}}function rL(n){return(n.mode&1)!==0&&(n.flags&128)===0}function nL(n){if(Tr){var t=ra;if(t){var e=t;if(!j2(n,t)){if(rL(n))throw Error(we(418));t=Rd(e.nextSibling);var r=aa;t&&j2(n,t)?r6(r,e):(n.flags=n.flags&-4097|2,Tr=!1,aa=n)}}else{if(rL(n))throw Error(we(418));n.flags=n.flags&-4097|2,Tr=!1,aa=n}}}function $2(n){for(n=n.return;n!==null&&n.tag!==5&&n.tag!==3&&n.tag!==13;)n=n.return;aa=n}function A0(n){if(n!==aa)return!1;if(!Tr)return $2(n),Tr=!0,!1;var t;if((t=n.tag!==3)&&!(t=n.tag!==5)&&(t=n.type,t=t!=="head"&&t!=="body"&&!QM(n.type,n.memoizedProps)),t&&(t=ra)){if(rL(n))throw n6(),Error(we(418));for(;t;)r6(n,t),t=Rd(t.nextSibling)}if($2(n),n.tag===13){if(n=n.memoizedState,n=n!==null?n.dehydrated:null,!n)throw Error(we(317));e:{for(n=n.nextSibling,t=0;n;){if(n.nodeType===8){var e=n.data;if(e==="/$"){if(t===0){ra=Rd(n.nextSibling);break e}t--}else e!=="$"&&e!=="$!"&&e!=="$?"||t++}n=n.nextSibling}ra=null}}else ra=aa?Rd(n.stateNode.nextSibling):null;return!0}function n6(){for(var n=ra;n;)n=Rd(n.nextSibling)}function fg(){ra=aa=null,Tr=!1}function E1(n){ws===null?ws=[n]:ws.push(n)}var rie=hc.ReactCurrentBatchConfig;function ms(n,t){if(n&&n.defaultProps){t=Fr({},t),n=n.defaultProps;for(var e in n)t[e]===void 0&&(t[e]=n[e]);return t}return t}var HE=rp(null),jE=null,Ev=null,b1=null;function O1(){b1=Ev=jE=null}function R1(n){var t=HE.current;br(HE),n._currentValue=t}function iL(n,t,e){for(;n!==null;){var r=n.alternate;if((n.childLanes&t)!==t?(n.childLanes|=t,r!==null&&(r.childLanes|=t)):r!==null&&(r.childLanes&t)!==t&&(r.childLanes|=t),n===e)break;n=n.return}}function zv(n,t){jE=n,b1=Ev=null,n=n.dependencies,n!==null&&n.firstContext!==null&&(n.lanes&t&&(co=!0),n.firstContext=null)}function Xa(n){var t=n._currentValue;if(b1!==n)if(n={context:n,memoizedValue:t,next:null},Ev===null){if(jE===null)throw Error(we(308));Ev=n,jE.dependencies={lanes:0,firstContext:n}}else Ev=Ev.next=n;return t}var gh=null;function T1(n){gh===null?gh=[n]:gh.push(n)}function i6(n,t,e,r){var i=t.interleaved;return i===null?(e.next=e,T1(t)):(e.next=i.next,i.next=e),t.interleaved=e,Xu(n,r)}function Xu(n,t){n.lanes|=t;var e=n.alternate;for(e!==null&&(e.lanes|=t),e=n,n=n.return;n!==null;)n.childLanes|=t,e=n.alternate,e!==null&&(e.childLanes|=t),e=n,n=n.return;return e.tag===3?e.stateNode:null}var td=!1;function P1(n){n.updateQueue={baseState:n.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function o6(n,t){n=n.updateQueue,t.updateQueue===n&&(t.updateQueue={baseState:n.baseState,firstBaseUpdate:n.firstBaseUpdate,lastBaseUpdate:n.lastBaseUpdate,shared:n.shared,effects:n.effects})}function Bu(n,t){return{eventTime:n,lane:t,tag:0,payload:null,callback:null,next:null}}function Td(n,t,e){var r=n.updateQueue;if(r===null)return null;if(r=r.shared,Lt&2){var i=r.pending;return i===null?t.next=t:(t.next=i.next,i.next=t),r.pending=t,Xu(n,e)}return i=r.interleaved,i===null?(t.next=t,T1(r)):(t.next=i.next,i.next=t),r.interleaved=t,Xu(n,e)}function Ix(n,t,e){if(t=t.updateQueue,t!==null&&(t=t.shared,(e&4194240)!==0)){var r=t.lanes;r&=n.pendingLanes,e|=r,t.lanes=e,f1(n,e)}}function W2(n,t){var e=n.updateQueue,r=n.alternate;if(r!==null&&(r=r.updateQueue,e===r)){var i=null,o=null;if(e=e.firstBaseUpdate,e!==null){do{var a={eventTime:e.eventTime,lane:e.lane,tag:e.tag,payload:e.payload,callback:e.callback,next:null};o===null?i=o=a:o=o.next=a,e=e.next}while(e!==null);o===null?i=o=t:o=o.next=t}else i=o=t;e={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:o,shared:r.shared,effects:r.effects},n.updateQueue=e;return}n=e.lastBaseUpdate,n===null?e.firstBaseUpdate=t:n.next=t,e.lastBaseUpdate=t}function $E(n,t,e,r){var i=n.updateQueue;td=!1;var o=i.firstBaseUpdate,a=i.lastBaseUpdate,s=i.shared.pending;if(s!==null){i.shared.pending=null;var l=s,u=l.next;l.next=null,a===null?o=u:a.next=u,a=l;var c=n.alternate;c!==null&&(c=c.updateQueue,s=c.lastBaseUpdate,s!==a&&(s===null?c.firstBaseUpdate=u:s.next=u,c.lastBaseUpdate=l))}if(o!==null){var d=i.baseState;a=0,c=u=l=null,s=o;do{var p=s.lane,h=s.eventTime;if((r&p)===p){c!==null&&(c=c.next={eventTime:h,lane:0,tag:s.tag,payload:s.payload,callback:s.callback,next:null});e:{var f=n,v=s;switch(p=t,h=e,v.tag){case 1:if(f=v.payload,typeof f=="function"){d=f.call(h,d,p);break e}d=f;break e;case 3:f.flags=f.flags&-65537|128;case 0:if(f=v.payload,p=typeof f=="function"?f.call(h,d,p):f,p==null)break e;d=Fr({},d,p);break e;case 2:td=!0}}s.callback!==null&&s.lane!==0&&(n.flags|=64,p=i.effects,p===null?i.effects=[s]:p.push(s))}else h={eventTime:h,lane:p,tag:s.tag,payload:s.payload,callback:s.callback,next:null},c===null?(u=c=h,l=d):c=c.next=h,a|=p;if(s=s.next,s===null){if(s=i.shared.pending,s===null)break;p=s,s=p.next,p.next=null,i.lastBaseUpdate=p,i.shared.pending=null}}while(!0);if(c===null&&(l=d),i.baseState=l,i.firstBaseUpdate=u,i.lastBaseUpdate=c,t=i.shared.interleaved,t!==null){i=t;do a|=i.lane,i=i.next;while(i!==t)}else o===null&&(i.shared.lanes=0);zh|=a,n.lanes=a,n.memoizedState=d}}function U2(n,t,e){if(n=t.effects,t.effects=null,n!==null)for(t=0;t<n.length;t++){var r=n[t],i=r.callback;if(i!==null){if(r.callback=null,r=e,typeof i!="function")throw Error(we(191,i));i.call(r)}}}var a6=new i4.Component().refs;function oL(n,t,e,r){t=n.memoizedState,e=e(r,t),e=e==null?t:Fr({},t,e),n.memoizedState=e,n.lanes===0&&(n.updateQueue.baseState=e)}var eR={isMounted:function(n){return(n=n._reactInternals)?lf(n)===n:!1},enqueueSetState:function(n,t,e){n=n._reactInternals;var r=Ni(),i=Ad(n),o=Bu(r,i);o.payload=t,e!=null&&(o.callback=e),t=Td(n,o,i),t!==null&&(Ms(t,n,i,r),Ix(t,n,i))},enqueueReplaceState:function(n,t,e){n=n._reactInternals;var r=Ni(),i=Ad(n),o=Bu(r,i);o.tag=1,o.payload=t,e!=null&&(o.callback=e),t=Td(n,o,i),t!==null&&(Ms(t,n,i,r),Ix(t,n,i))},enqueueForceUpdate:function(n,t){n=n._reactInternals;var e=Ni(),r=Ad(n),i=Bu(e,r);i.tag=2,t!=null&&(i.callback=t),t=Td(n,i,r),t!==null&&(Ms(t,n,r,e),Ix(t,n,r))}};function z2(n,t,e,r,i,o,a){return n=n.stateNode,typeof n.shouldComponentUpdate=="function"?n.shouldComponentUpdate(r,o,a):t.prototype&&t.prototype.isPureReactComponent?!tS(e,r)||!tS(i,o):!0}function s6(n,t,e){var r=!1,i=Ud,o=t.contextType;return typeof o=="object"&&o!==null?o=Xa(o):(i=yo(t)?$h:Si.current,r=t.contextTypes,o=(r=r!=null)?hg(n,i):Ud),t=new t(e,o),n.memoizedState=t.state!==null&&t.state!==void 0?t.state:null,t.updater=eR,n.stateNode=t,t._reactInternals=n,r&&(n=n.stateNode,n.__reactInternalMemoizedUnmaskedChildContext=i,n.__reactInternalMemoizedMaskedChildContext=o),t}function K2(n,t,e,r){n=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(e,r),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(e,r),t.state!==n&&eR.enqueueReplaceState(t,t.state,null)}function aL(n,t,e,r){var i=n.stateNode;i.props=e,i.state=n.memoizedState,i.refs=a6,P1(n);var o=t.contextType;typeof o=="object"&&o!==null?i.context=Xa(o):(o=yo(t)?$h:Si.current,i.context=hg(n,o)),i.state=n.memoizedState,o=t.getDerivedStateFromProps,typeof o=="function"&&(oL(n,t,o,e),i.state=n.memoizedState),typeof t.getDerivedStateFromProps=="function"||typeof i.getSnapshotBeforeUpdate=="function"||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(t=i.state,typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount(),t!==i.state&&eR.enqueueReplaceState(i,i.state,null),$E(n,e,i,r),i.state=n.memoizedState),typeof i.componentDidMount=="function"&&(n.flags|=4194308)}function xy(n,t,e){if(n=e.ref,n!==null&&typeof n!="function"&&typeof n!="object"){if(e._owner){if(e=e._owner,e){if(e.tag!==1)throw Error(we(309));var r=e.stateNode}if(!r)throw Error(we(147,n));var i=r,o=""+n;return t!==null&&t.ref!==null&&typeof t.ref=="function"&&t.ref._stringRef===o?t.ref:(t=function(a){var s=i.refs;s===a6&&(s=i.refs={}),a===null?delete s[o]:s[o]=a},t._stringRef=o,t)}if(typeof n!="string")throw Error(we(284));if(!e._owner)throw Error(we(290,n))}return n}function D0(n,t){throw n=Object.prototype.toString.call(t),Error(we(31,n==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":n))}function Y2(n){var t=n._init;return t(n._payload)}function l6(n){function t(y,m){if(n){var C=y.deletions;C===null?(y.deletions=[m],y.flags|=16):C.push(m)}}function e(y,m){if(!n)return null;for(;m!==null;)t(y,m),m=m.sibling;return null}function r(y,m){for(y=new Map;m!==null;)m.key!==null?y.set(m.key,m):y.set(m.index,m),m=m.sibling;return y}function i(y,m){return y=Dd(y,m),y.index=0,y.sibling=null,y}function o(y,m,C){return y.index=C,n?(C=y.alternate,C!==null?(C=C.index,C<m?(y.flags|=2,m):C):(y.flags|=2,m)):(y.flags|=1048576,m)}function a(y){return n&&y.alternate===null&&(y.flags|=2),y}function s(y,m,C,S){return m===null||m.tag!==6?(m=$P(C,y.mode,S),m.return=y,m):(m=i(m,C),m.return=y,m)}function l(y,m,C,S){var w=C.type;return w===gv?c(y,m,C.props.children,S,C.key):m!==null&&(m.elementType===w||typeof w=="object"&&w!==null&&w.$$typeof===ed&&Y2(w)===m.type)?(S=i(m,C.props),S.ref=xy(y,m,C),S.return=y,S):(S=Hx(C.type,C.key,C.props,null,y.mode,S),S.ref=xy(y,m,C),S.return=y,S)}function u(y,m,C,S){return m===null||m.tag!==4||m.stateNode.containerInfo!==C.containerInfo||m.stateNode.implementation!==C.implementation?(m=WP(C,y.mode,S),m.return=y,m):(m=i(m,C.children||[]),m.return=y,m)}function c(y,m,C,S,w){return m===null||m.tag!==7?(m=Ah(C,y.mode,S,w),m.return=y,m):(m=i(m,C),m.return=y,m)}function d(y,m,C){if(typeof m=="string"&&m!==""||typeof m=="number")return m=$P(""+m,y.mode,C),m.return=y,m;if(typeof m=="object"&&m!==null){switch(m.$$typeof){case S0:return C=Hx(m.type,m.key,m.props,null,y.mode,C),C.ref=xy(y,null,m),C.return=y,C;case vv:return m=WP(m,y.mode,C),m.return=y,m;case ed:var S=m._init;return d(y,S(m._payload),C)}if(Im(m)||my(m))return m=Ah(m,y.mode,C,null),m.return=y,m;D0(y,m)}return null}function p(y,m,C,S){var w=m!==null?m.key:null;if(typeof C=="string"&&C!==""||typeof C=="number")return w!==null?null:s(y,m,""+C,S);if(typeof C=="object"&&C!==null){switch(C.$$typeof){case S0:return C.key===w?l(y,m,C,S):null;case vv:return C.key===w?u(y,m,C,S):null;case ed:return w=C._init,p(y,m,w(C._payload),S)}if(Im(C)||my(C))return w!==null?null:c(y,m,C,S,null);D0(y,C)}return null}function h(y,m,C,S,w){if(typeof S=="string"&&S!==""||typeof S=="number")return y=y.get(C)||null,s(m,y,""+S,w);if(typeof S=="object"&&S!==null){switch(S.$$typeof){case S0:return y=y.get(S.key===null?C:S.key)||null,l(m,y,S,w);case vv:return y=y.get(S.key===null?C:S.key)||null,u(m,y,S,w);case ed:var _=S._init;return h(y,m,C,_(S._payload),w)}if(Im(S)||my(S))return y=y.get(C)||null,c(m,y,S,w,null);D0(m,S)}return null}function f(y,m,C,S){for(var w=null,_=null,x=m,b=m=0,O=null;x!==null&&b<C.length;b++){x.index>b?(O=x,x=null):O=x.sibling;var P=p(y,x,C[b],S);if(P===null){x===null&&(x=O);break}n&&x&&P.alternate===null&&t(y,x),m=o(P,m,b),_===null?w=P:_.sibling=P,_=P,x=O}if(b===C.length)return e(y,x),Tr&&zp(y,b),w;if(x===null){for(;b<C.length;b++)x=d(y,C[b],S),x!==null&&(m=o(x,m,b),_===null?w=x:_.sibling=x,_=x);return Tr&&zp(y,b),w}for(x=r(y,x);b<C.length;b++)O=h(x,y,b,C[b],S),O!==null&&(n&&O.alternate!==null&&x.delete(O.key===null?b:O.key),m=o(O,m,b),_===null?w=O:_.sibling=O,_=O);return n&&x.forEach(function(D){return t(y,D)}),Tr&&zp(y,b),w}function v(y,m,C,S){var w=my(C);if(typeof w!="function")throw Error(we(150));if(C=w.call(C),C==null)throw Error(we(151));for(var _=w=null,x=m,b=m=0,O=null,P=C.next();x!==null&&!P.done;b++,P=C.next()){x.index>b?(O=x,x=null):O=x.sibling;var D=p(y,x,P.value,S);if(D===null){x===null&&(x=O);break}n&&x&&D.alternate===null&&t(y,x),m=o(D,m,b),_===null?w=D:_.sibling=D,_=D,x=O}if(P.done)return e(y,x),Tr&&zp(y,b),w;if(x===null){for(;!P.done;b++,P=C.next())P=d(y,P.value,S),P!==null&&(m=o(P,m,b),_===null?w=P:_.sibling=P,_=P);return Tr&&zp(y,b),w}for(x=r(y,x);!P.done;b++,P=C.next())P=h(x,y,b,P.value,S),P!==null&&(n&&P.alternate!==null&&x.delete(P.key===null?b:P.key),m=o(P,m,b),_===null?w=P:_.sibling=P,_=P);return n&&x.forEach(function(N){return t(y,N)}),Tr&&zp(y,b),w}function g(y,m,C,S){if(typeof C=="object"&&C!==null&&C.type===gv&&C.key===null&&(C=C.props.children),typeof C=="object"&&C!==null){switch(C.$$typeof){case S0:e:{for(var w=C.key,_=m;_!==null;){if(_.key===w){if(w=C.type,w===gv){if(_.tag===7){e(y,_.sibling),m=i(_,C.props.children),m.return=y,y=m;break e}}else if(_.elementType===w||typeof w=="object"&&w!==null&&w.$$typeof===ed&&Y2(w)===_.type){e(y,_.sibling),m=i(_,C.props),m.ref=xy(y,_,C),m.return=y,y=m;break e}e(y,_);break}else t(y,_);_=_.sibling}C.type===gv?(m=Ah(C.props.children,y.mode,S,C.key),m.return=y,y=m):(S=Hx(C.type,C.key,C.props,null,y.mode,S),S.ref=xy(y,m,C),S.return=y,y=S)}return a(y);case vv:e:{for(_=C.key;m!==null;){if(m.key===_)if(m.tag===4&&m.stateNode.containerInfo===C.containerInfo&&m.stateNode.implementation===C.implementation){e(y,m.sibling),m=i(m,C.children||[]),m.return=y,y=m;break e}else{e(y,m);break}else t(y,m);m=m.sibling}m=WP(C,y.mode,S),m.return=y,y=m}return a(y);case ed:return _=C._init,g(y,m,_(C._payload),S)}if(Im(C))return f(y,m,C,S);if(my(C))return v(y,m,C,S);D0(y,C)}return typeof C=="string"&&C!==""||typeof C=="number"?(C=""+C,m!==null&&m.tag===6?(e(y,m.sibling),m=i(m,C),m.return=y,y=m):(e(y,m),m=$P(C,y.mode,S),m.return=y,y=m),a(y)):e(y,m)}return g}var vg=l6(!0),u6=l6(!1),mw={},jl=rp(mw),oS=rp(mw),aS=rp(mw);function yh(n){if(n===mw)throw Error(we(174));return n}function A1(n,t){switch(vr(aS,t),vr(oS,n),vr(jl,mw),n=t.nodeType,n){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:GM(null,"");break;default:n=n===8?t.parentNode:t,t=n.namespaceURI||null,n=n.tagName,t=GM(t,n)}br(jl),vr(jl,t)}function gg(){br(jl),br(oS),br(aS)}function c6(n){yh(aS.current);var t=yh(jl.current),e=GM(t,n.type);t!==e&&(vr(oS,n),vr(jl,e))}function D1(n){oS.current===n&&(br(jl),br(oS))}var Mr=rp(0);function WE(n){for(var t=n;t!==null;){if(t.tag===13){var e=t.memoizedState;if(e!==null&&(e=e.dehydrated,e===null||e.data==="$?"||e.data==="$!"))return t}else if(t.tag===19&&t.memoizedProps.revealOrder!==void 0){if(t.flags&128)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===n)break;for(;t.sibling===null;){if(t.return===null||t.return===n)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var kP=[];function M1(){for(var n=0;n<kP.length;n++)kP[n]._workInProgressVersionPrimary=null;kP.length=0}var Nx=hc.ReactCurrentDispatcher,GP=hc.ReactCurrentBatchConfig,Uh=0,Lr=null,wn=null,Ln=null,UE=!1,mC=!1,sS=0,nie=0;function li(){throw Error(we(321))}function L1(n,t){if(t===null)return!1;for(var e=0;e<t.length&&e<n.length;e++)if(!Ns(n[e],t[e]))return!1;return!0}function F1(n,t,e,r,i,o){if(Uh=o,Lr=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,Nx.current=n===null||n.memoizedState===null?sie:lie,n=e(r,i),mC){o=0;do{if(mC=!1,sS=0,25<=o)throw Error(we(301));o+=1,Ln=wn=null,t.updateQueue=null,Nx.current=uie,n=e(r,i)}while(mC)}if(Nx.current=zE,t=wn!==null&&wn.next!==null,Uh=0,Ln=wn=Lr=null,UE=!1,t)throw Error(we(300));return n}function I1(){var n=sS!==0;return sS=0,n}function Cl(){var n={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Ln===null?Lr.memoizedState=Ln=n:Ln=Ln.next=n,Ln}function qa(){if(wn===null){var n=Lr.alternate;n=n!==null?n.memoizedState:null}else n=wn.next;var t=Ln===null?Lr.memoizedState:Ln.next;if(t!==null)Ln=t,wn=n;else{if(n===null)throw Error(we(310));wn=n,n={memoizedState:wn.memoizedState,baseState:wn.baseState,baseQueue:wn.baseQueue,queue:wn.queue,next:null},Ln===null?Lr.memoizedState=Ln=n:Ln=Ln.next=n}return Ln}function lS(n,t){return typeof t=="function"?t(n):t}function VP(n){var t=qa(),e=t.queue;if(e===null)throw Error(we(311));e.lastRenderedReducer=n;var r=wn,i=r.baseQueue,o=e.pending;if(o!==null){if(i!==null){var a=i.next;i.next=o.next,o.next=a}r.baseQueue=i=o,e.pending=null}if(i!==null){o=i.next,r=r.baseState;var s=a=null,l=null,u=o;do{var c=u.lane;if((Uh&c)===c)l!==null&&(l=l.next={lane:0,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),r=u.hasEagerState?u.eagerState:n(r,u.action);else{var d={lane:c,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null};l===null?(s=l=d,a=r):l=l.next=d,Lr.lanes|=c,zh|=c}u=u.next}while(u!==null&&u!==o);l===null?a=r:l.next=s,Ns(r,t.memoizedState)||(co=!0),t.memoizedState=r,t.baseState=a,t.baseQueue=l,e.lastRenderedState=r}if(n=e.interleaved,n!==null){i=n;do o=i.lane,Lr.lanes|=o,zh|=o,i=i.next;while(i!==n)}else i===null&&(e.lanes=0);return[t.memoizedState,e.dispatch]}function BP(n){var t=qa(),e=t.queue;if(e===null)throw Error(we(311));e.lastRenderedReducer=n;var r=e.dispatch,i=e.pending,o=t.memoizedState;if(i!==null){e.pending=null;var a=i=i.next;do o=n(o,a.action),a=a.next;while(a!==i);Ns(o,t.memoizedState)||(co=!0),t.memoizedState=o,t.baseQueue===null&&(t.baseState=o),e.lastRenderedState=o}return[o,r]}function d6(){}function p6(n,t){var e=Lr,r=qa(),i=t(),o=!Ns(r.memoizedState,i);if(o&&(r.memoizedState=i,co=!0),r=r.queue,N1(v6.bind(null,e,r,n),[n]),r.getSnapshot!==t||o||Ln!==null&&Ln.memoizedState.tag&1){if(e.flags|=2048,uS(9,f6.bind(null,e,r,i,t),void 0,null),kn===null)throw Error(we(349));Uh&30||h6(e,t,i)}return i}function h6(n,t,e){n.flags|=16384,n={getSnapshot:t,value:e},t=Lr.updateQueue,t===null?(t={lastEffect:null,stores:null},Lr.updateQueue=t,t.stores=[n]):(e=t.stores,e===null?t.stores=[n]:e.push(n))}function f6(n,t,e,r){t.value=e,t.getSnapshot=r,g6(t)&&y6(n)}function v6(n,t,e){return e(function(){g6(t)&&y6(n)})}function g6(n){var t=n.getSnapshot;n=n.value;try{var e=t();return!Ns(n,e)}catch{return!0}}function y6(n){var t=Xu(n,1);t!==null&&Ms(t,n,1,-1)}function X2(n){var t=Cl();return typeof n=="function"&&(n=n()),t.memoizedState=t.baseState=n,n={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:lS,lastRenderedState:n},t.queue=n,n=n.dispatch=aie.bind(null,Lr,n),[t.memoizedState,n]}function uS(n,t,e,r){return n={tag:n,create:t,destroy:e,deps:r,next:null},t=Lr.updateQueue,t===null?(t={lastEffect:null,stores:null},Lr.updateQueue=t,t.lastEffect=n.next=n):(e=t.lastEffect,e===null?t.lastEffect=n.next=n:(r=e.next,e.next=n,n.next=r,t.lastEffect=n)),n}function m6(){return qa().memoizedState}function kx(n,t,e,r){var i=Cl();Lr.flags|=n,i.memoizedState=uS(1|t,e,void 0,r===void 0?null:r)}function tR(n,t,e,r){var i=qa();r=r===void 0?null:r;var o=void 0;if(wn!==null){var a=wn.memoizedState;if(o=a.destroy,r!==null&&L1(r,a.deps)){i.memoizedState=uS(t,e,o,r);return}}Lr.flags|=n,i.memoizedState=uS(1|t,e,o,r)}function q2(n,t){return kx(8390656,8,n,t)}function N1(n,t){return tR(2048,8,n,t)}function C6(n,t){return tR(4,2,n,t)}function S6(n,t){return tR(4,4,n,t)}function w6(n,t){if(typeof t=="function")return n=n(),t(n),function(){t(null)};if(t!=null)return n=n(),t.current=n,function(){t.current=null}}function _6(n,t,e){return e=e!=null?e.concat([n]):null,tR(4,4,w6.bind(null,t,n),e)}function k1(){}function x6(n,t){var e=qa();t=t===void 0?null:t;var r=e.memoizedState;return r!==null&&t!==null&&L1(t,r[1])?r[0]:(e.memoizedState=[n,t],n)}function E6(n,t){var e=qa();t=t===void 0?null:t;var r=e.memoizedState;return r!==null&&t!==null&&L1(t,r[1])?r[0]:(n=n(),e.memoizedState=[n,t],n)}function b6(n,t,e){return Uh&21?(Ns(e,t)||(e=T4(),Lr.lanes|=e,zh|=e,n.baseState=!0),t):(n.baseState&&(n.baseState=!1,co=!0),n.memoizedState=e)}function iie(n,t){var e=Jt;Jt=e!==0&&4>e?e:4,n(!0);var r=GP.transition;GP.transition={};try{n(!1),t()}finally{Jt=e,GP.transition=r}}function O6(){return qa().memoizedState}function oie(n,t,e){var r=Ad(n);if(e={lane:r,action:e,hasEagerState:!1,eagerState:null,next:null},R6(n))T6(t,e);else if(e=i6(n,t,e,r),e!==null){var i=Ni();Ms(e,n,r,i),P6(e,t,r)}}function aie(n,t,e){var r=Ad(n),i={lane:r,action:e,hasEagerState:!1,eagerState:null,next:null};if(R6(n))T6(t,i);else{var o=n.alternate;if(n.lanes===0&&(o===null||o.lanes===0)&&(o=t.lastRenderedReducer,o!==null))try{var a=t.lastRenderedState,s=o(a,e);if(i.hasEagerState=!0,i.eagerState=s,Ns(s,a)){var l=t.interleaved;l===null?(i.next=i,T1(t)):(i.next=l.next,l.next=i),t.interleaved=i;return}}catch{}finally{}e=i6(n,t,i,r),e!==null&&(i=Ni(),Ms(e,n,r,i),P6(e,t,r))}}function R6(n){var t=n.alternate;return n===Lr||t!==null&&t===Lr}function T6(n,t){mC=UE=!0;var e=n.pending;e===null?t.next=t:(t.next=e.next,e.next=t),n.pending=t}function P6(n,t,e){if(e&4194240){var r=t.lanes;r&=n.pendingLanes,e|=r,t.lanes=e,f1(n,e)}}var zE={readContext:Xa,useCallback:li,useContext:li,useEffect:li,useImperativeHandle:li,useInsertionEffect:li,useLayoutEffect:li,useMemo:li,useReducer:li,useRef:li,useState:li,useDebugValue:li,useDeferredValue:li,useTransition:li,useMutableSource:li,useSyncExternalStore:li,useId:li,unstable_isNewReconciler:!1},sie={readContext:Xa,useCallback:function(n,t){return Cl().memoizedState=[n,t===void 0?null:t],n},useContext:Xa,useEffect:q2,useImperativeHandle:function(n,t,e){return e=e!=null?e.concat([n]):null,kx(4194308,4,w6.bind(null,t,n),e)},useLayoutEffect:function(n,t){return kx(4194308,4,n,t)},useInsertionEffect:function(n,t){return kx(4,2,n,t)},useMemo:function(n,t){var e=Cl();return t=t===void 0?null:t,n=n(),e.memoizedState=[n,t],n},useReducer:function(n,t,e){var r=Cl();return t=e!==void 0?e(t):t,r.memoizedState=r.baseState=t,n={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:n,lastRenderedState:t},r.queue=n,n=n.dispatch=oie.bind(null,Lr,n),[r.memoizedState,n]},useRef:function(n){var t=Cl();return n={current:n},t.memoizedState=n},useState:X2,useDebugValue:k1,useDeferredValue:function(n){return Cl().memoizedState=n},useTransition:function(){var n=X2(!1),t=n[0];return n=iie.bind(null,n[1]),Cl().memoizedState=n,[t,n]},useMutableSource:function(){},useSyncExternalStore:function(n,t,e){var r=Lr,i=Cl();if(Tr){if(e===void 0)throw Error(we(407));e=e()}else{if(e=t(),kn===null)throw Error(we(349));Uh&30||h6(r,t,e)}i.memoizedState=e;var o={value:e,getSnapshot:t};return i.queue=o,q2(v6.bind(null,r,o,n),[n]),r.flags|=2048,uS(9,f6.bind(null,r,o,e,t),void 0,null),e},useId:function(){var n=Cl(),t=kn.identifierPrefix;if(Tr){var e=Fu,r=Lu;e=(r&~(1<<32-Ds(r)-1)).toString(32)+e,t=":"+t+"R"+e,e=sS++,0<e&&(t+="H"+e.toString(32)),t+=":"}else e=nie++,t=":"+t+"r"+e.toString(32)+":";return n.memoizedState=t},unstable_isNewReconciler:!1},lie={readContext:Xa,useCallback:x6,useContext:Xa,useEffect:N1,useImperativeHandle:_6,useInsertionEffect:C6,useLayoutEffect:S6,useMemo:E6,useReducer:VP,useRef:m6,useState:function(){return VP(lS)},useDebugValue:k1,useDeferredValue:function(n){var t=qa();return b6(t,wn.memoizedState,n)},useTransition:function(){var n=VP(lS)[0],t=qa().memoizedState;return[n,t]},useMutableSource:d6,useSyncExternalStore:p6,useId:O6,unstable_isNewReconciler:!1},uie={readContext:Xa,useCallback:x6,useContext:Xa,useEffect:N1,useImperativeHandle:_6,useInsertionEffect:C6,useLayoutEffect:S6,useMemo:E6,useReducer:BP,useRef:m6,useState:function(){return BP(lS)},useDebugValue:k1,useDeferredValue:function(n){var t=qa();return wn===null?t.memoizedState=n:b6(t,wn.memoizedState,n)},useTransition:function(){var n=BP(lS)[0],t=qa().memoizedState;return[n,t]},useMutableSource:d6,useSyncExternalStore:p6,useId:O6,unstable_isNewReconciler:!1};function yg(n,t){try{var e="",r=t;do e+=kre(r),r=r.return;while(r);var i=e}catch(o){i=`
Error generating stack: `+o.message+`
`+o.stack}return{value:n,source:t,stack:i,digest:null}}function HP(n,t,e){return{value:n,source:null,stack:e??null,digest:t??null}}function sL(n,t){try{console.error(t.value)}catch(e){setTimeout(function(){throw e})}}var cie=typeof WeakMap=="function"?WeakMap:Map;function A6(n,t,e){e=Bu(-1,e),e.tag=3,e.payload={element:null};var r=t.value;return e.callback=function(){YE||(YE=!0,yL=r),sL(n,t)},e}function D6(n,t,e){e=Bu(-1,e),e.tag=3;var r=n.type.getDerivedStateFromError;if(typeof r=="function"){var i=t.value;e.payload=function(){return r(i)},e.callback=function(){sL(n,t)}}var o=n.stateNode;return o!==null&&typeof o.componentDidCatch=="function"&&(e.callback=function(){sL(n,t),typeof r!="function"&&(Pd===null?Pd=new Set([this]):Pd.add(this));var a=t.stack;this.componentDidCatch(t.value,{componentStack:a!==null?a:""})}),e}function Z2(n,t,e){var r=n.pingCache;if(r===null){r=n.pingCache=new cie;var i=new Set;r.set(t,i)}else i=r.get(t),i===void 0&&(i=new Set,r.set(t,i));i.has(e)||(i.add(e),n=Eie.bind(null,n,t,e),t.then(n,n))}function Q2(n){do{var t;if((t=n.tag===13)&&(t=n.memoizedState,t=t!==null?t.dehydrated!==null:!0),t)return n;n=n.return}while(n!==null);return null}function J2(n,t,e,r,i){return n.mode&1?(n.flags|=65536,n.lanes=i,n):(n===t?n.flags|=65536:(n.flags|=128,e.flags|=131072,e.flags&=-52805,e.tag===1&&(e.alternate===null?e.tag=17:(t=Bu(-1,1),t.tag=2,Td(e,t,1))),e.lanes|=1),n)}var die=hc.ReactCurrentOwner,co=!1;function Ti(n,t,e,r){t.child=n===null?u6(t,null,e,r):vg(t,n.child,e,r)}function eH(n,t,e,r,i){e=e.render;var o=t.ref;return zv(t,i),r=F1(n,t,e,r,o,i),e=I1(),n!==null&&!co?(t.updateQueue=n.updateQueue,t.flags&=-2053,n.lanes&=~i,qu(n,t,i)):(Tr&&e&&_1(t),t.flags|=1,Ti(n,t,r,i),t.child)}function tH(n,t,e,r,i){if(n===null){var o=e.type;return typeof o=="function"&&!U1(o)&&o.defaultProps===void 0&&e.compare===null&&e.defaultProps===void 0?(t.tag=15,t.type=o,M6(n,t,o,r,i)):(n=Hx(e.type,null,r,t,t.mode,i),n.ref=t.ref,n.return=t,t.child=n)}if(o=n.child,!(n.lanes&i)){var a=o.memoizedProps;if(e=e.compare,e=e!==null?e:tS,e(a,r)&&n.ref===t.ref)return qu(n,t,i)}return t.flags|=1,n=Dd(o,r),n.ref=t.ref,n.return=t,t.child=n}function M6(n,t,e,r,i){if(n!==null){var o=n.memoizedProps;if(tS(o,r)&&n.ref===t.ref)if(co=!1,t.pendingProps=r=o,(n.lanes&i)!==0)n.flags&131072&&(co=!0);else return t.lanes=n.lanes,qu(n,t,i)}return lL(n,t,e,r,i)}function L6(n,t,e){var r=t.pendingProps,i=r.children,o=n!==null?n.memoizedState:null;if(r.mode==="hidden")if(!(t.mode&1))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},vr(Ov,Uo),Uo|=e;else{if(!(e&1073741824))return n=o!==null?o.baseLanes|e:e,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:n,cachePool:null,transitions:null},t.updateQueue=null,vr(Ov,Uo),Uo|=n,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=o!==null?o.baseLanes:e,vr(Ov,Uo),Uo|=r}else o!==null?(r=o.baseLanes|e,t.memoizedState=null):r=e,vr(Ov,Uo),Uo|=r;return Ti(n,t,i,e),t.child}function F6(n,t){var e=t.ref;(n===null&&e!==null||n!==null&&n.ref!==e)&&(t.flags|=512,t.flags|=2097152)}function lL(n,t,e,r,i){var o=yo(e)?$h:Si.current;return o=hg(t,o),zv(t,i),e=F1(n,t,e,r,o,i),r=I1(),n!==null&&!co?(t.updateQueue=n.updateQueue,t.flags&=-2053,n.lanes&=~i,qu(n,t,i)):(Tr&&r&&_1(t),t.flags|=1,Ti(n,t,e,i),t.child)}function rH(n,t,e,r,i){if(yo(e)){var o=!0;GE(t)}else o=!1;if(zv(t,i),t.stateNode===null)Gx(n,t),s6(t,e,r),aL(t,e,r,i),r=!0;else if(n===null){var a=t.stateNode,s=t.memoizedProps;a.props=s;var l=a.context,u=e.contextType;typeof u=="object"&&u!==null?u=Xa(u):(u=yo(e)?$h:Si.current,u=hg(t,u));var c=e.getDerivedStateFromProps,d=typeof c=="function"||typeof a.getSnapshotBeforeUpdate=="function";d||typeof a.UNSAFE_componentWillReceiveProps!="function"&&typeof a.componentWillReceiveProps!="function"||(s!==r||l!==u)&&K2(t,a,r,u),td=!1;var p=t.memoizedState;a.state=p,$E(t,r,a,i),l=t.memoizedState,s!==r||p!==l||go.current||td?(typeof c=="function"&&(oL(t,e,c,r),l=t.memoizedState),(s=td||z2(t,e,s,r,p,l,u))?(d||typeof a.UNSAFE_componentWillMount!="function"&&typeof a.componentWillMount!="function"||(typeof a.componentWillMount=="function"&&a.componentWillMount(),typeof a.UNSAFE_componentWillMount=="function"&&a.UNSAFE_componentWillMount()),typeof a.componentDidMount=="function"&&(t.flags|=4194308)):(typeof a.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=r,t.memoizedState=l),a.props=r,a.state=l,a.context=u,r=s):(typeof a.componentDidMount=="function"&&(t.flags|=4194308),r=!1)}else{a=t.stateNode,o6(n,t),s=t.memoizedProps,u=t.type===t.elementType?s:ms(t.type,s),a.props=u,d=t.pendingProps,p=a.context,l=e.contextType,typeof l=="object"&&l!==null?l=Xa(l):(l=yo(e)?$h:Si.current,l=hg(t,l));var h=e.getDerivedStateFromProps;(c=typeof h=="function"||typeof a.getSnapshotBeforeUpdate=="function")||typeof a.UNSAFE_componentWillReceiveProps!="function"&&typeof a.componentWillReceiveProps!="function"||(s!==d||p!==l)&&K2(t,a,r,l),td=!1,p=t.memoizedState,a.state=p,$E(t,r,a,i);var f=t.memoizedState;s!==d||p!==f||go.current||td?(typeof h=="function"&&(oL(t,e,h,r),f=t.memoizedState),(u=td||z2(t,e,u,r,p,f,l)||!1)?(c||typeof a.UNSAFE_componentWillUpdate!="function"&&typeof a.componentWillUpdate!="function"||(typeof a.componentWillUpdate=="function"&&a.componentWillUpdate(r,f,l),typeof a.UNSAFE_componentWillUpdate=="function"&&a.UNSAFE_componentWillUpdate(r,f,l)),typeof a.componentDidUpdate=="function"&&(t.flags|=4),typeof a.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof a.componentDidUpdate!="function"||s===n.memoizedProps&&p===n.memoizedState||(t.flags|=4),typeof a.getSnapshotBeforeUpdate!="function"||s===n.memoizedProps&&p===n.memoizedState||(t.flags|=1024),t.memoizedProps=r,t.memoizedState=f),a.props=r,a.state=f,a.context=l,r=u):(typeof a.componentDidUpdate!="function"||s===n.memoizedProps&&p===n.memoizedState||(t.flags|=4),typeof a.getSnapshotBeforeUpdate!="function"||s===n.memoizedProps&&p===n.memoizedState||(t.flags|=1024),r=!1)}return uL(n,t,e,r,o,i)}function uL(n,t,e,r,i,o){F6(n,t);var a=(t.flags&128)!==0;if(!r&&!a)return i&&H2(t,e,!1),qu(n,t,o);r=t.stateNode,die.current=t;var s=a&&typeof e.getDerivedStateFromError!="function"?null:r.render();return t.flags|=1,n!==null&&a?(t.child=vg(t,n.child,null,o),t.child=vg(t,null,s,o)):Ti(n,t,s,o),t.memoizedState=r.state,i&&H2(t,e,!0),t.child}function I6(n){var t=n.stateNode;t.pendingContext?B2(n,t.pendingContext,t.pendingContext!==t.context):t.context&&B2(n,t.context,!1),A1(n,t.containerInfo)}function nH(n,t,e,r,i){return fg(),E1(i),t.flags|=256,Ti(n,t,e,r),t.child}var cL={dehydrated:null,treeContext:null,retryLane:0};function dL(n){return{baseLanes:n,cachePool:null,transitions:null}}function N6(n,t,e){var r=t.pendingProps,i=Mr.current,o=!1,a=(t.flags&128)!==0,s;if((s=a)||(s=n!==null&&n.memoizedState===null?!1:(i&2)!==0),s?(o=!0,t.flags&=-129):(n===null||n.memoizedState!==null)&&(i|=1),vr(Mr,i&1),n===null)return nL(t),n=t.memoizedState,n!==null&&(n=n.dehydrated,n!==null)?(t.mode&1?n.data==="$!"?t.lanes=8:t.lanes=1073741824:t.lanes=1,null):(a=r.children,n=r.fallback,o?(r=t.mode,o=t.child,a={mode:"hidden",children:a},!(r&1)&&o!==null?(o.childLanes=0,o.pendingProps=a):o=iR(a,r,0,null),n=Ah(n,r,e,null),o.return=t,n.return=t,o.sibling=n,t.child=o,t.child.memoizedState=dL(e),t.memoizedState=cL,n):G1(t,a));if(i=n.memoizedState,i!==null&&(s=i.dehydrated,s!==null))return pie(n,t,a,r,s,i,e);if(o){o=r.fallback,a=t.mode,i=n.child,s=i.sibling;var l={mode:"hidden",children:r.children};return!(a&1)&&t.child!==i?(r=t.child,r.childLanes=0,r.pendingProps=l,t.deletions=null):(r=Dd(i,l),r.subtreeFlags=i.subtreeFlags&14680064),s!==null?o=Dd(s,o):(o=Ah(o,a,e,null),o.flags|=2),o.return=t,r.return=t,r.sibling=o,t.child=r,r=o,o=t.child,a=n.child.memoizedState,a=a===null?dL(e):{baseLanes:a.baseLanes|e,cachePool:null,transitions:a.transitions},o.memoizedState=a,o.childLanes=n.childLanes&~e,t.memoizedState=cL,r}return o=n.child,n=o.sibling,r=Dd(o,{mode:"visible",children:r.children}),!(t.mode&1)&&(r.lanes=e),r.return=t,r.sibling=null,n!==null&&(e=t.deletions,e===null?(t.deletions=[n],t.flags|=16):e.push(n)),t.child=r,t.memoizedState=null,r}function G1(n,t){return t=iR({mode:"visible",children:t},n.mode,0,null),t.return=n,n.child=t}function M0(n,t,e,r){return r!==null&&E1(r),vg(t,n.child,null,e),n=G1(t,t.pendingProps.children),n.flags|=2,t.memoizedState=null,n}function pie(n,t,e,r,i,o,a){if(e)return t.flags&256?(t.flags&=-257,r=HP(Error(we(422))),M0(n,t,a,r)):t.memoizedState!==null?(t.child=n.child,t.flags|=128,null):(o=r.fallback,i=t.mode,r=iR({mode:"visible",children:r.children},i,0,null),o=Ah(o,i,a,null),o.flags|=2,r.return=t,o.return=t,r.sibling=o,t.child=r,t.mode&1&&vg(t,n.child,null,a),t.child.memoizedState=dL(a),t.memoizedState=cL,o);if(!(t.mode&1))return M0(n,t,a,null);if(i.data==="$!"){if(r=i.nextSibling&&i.nextSibling.dataset,r)var s=r.dgst;return r=s,o=Error(we(419)),r=HP(o,r,void 0),M0(n,t,a,r)}if(s=(a&n.childLanes)!==0,co||s){if(r=kn,r!==null){switch(a&-a){case 4:i=2;break;case 16:i=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:i=32;break;case 536870912:i=268435456;break;default:i=0}i=i&(r.suspendedLanes|a)?0:i,i!==0&&i!==o.retryLane&&(o.retryLane=i,Xu(n,i),Ms(r,n,i,-1))}return W1(),r=HP(Error(we(421))),M0(n,t,a,r)}return i.data==="$?"?(t.flags|=128,t.child=n.child,t=bie.bind(null,n),i._reactRetry=t,null):(n=o.treeContext,ra=Rd(i.nextSibling),aa=t,Tr=!0,ws=null,n!==null&&(Ma[La++]=Lu,Ma[La++]=Fu,Ma[La++]=Wh,Lu=n.id,Fu=n.overflow,Wh=t),t=G1(t,r.children),t.flags|=4096,t)}function iH(n,t,e){n.lanes|=t;var r=n.alternate;r!==null&&(r.lanes|=t),iL(n.return,t,e)}function jP(n,t,e,r,i){var o=n.memoizedState;o===null?n.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:r,tail:e,tailMode:i}:(o.isBackwards=t,o.rendering=null,o.renderingStartTime=0,o.last=r,o.tail=e,o.tailMode=i)}function k6(n,t,e){var r=t.pendingProps,i=r.revealOrder,o=r.tail;if(Ti(n,t,r.children,e),r=Mr.current,r&2)r=r&1|2,t.flags|=128;else{if(n!==null&&n.flags&128)e:for(n=t.child;n!==null;){if(n.tag===13)n.memoizedState!==null&&iH(n,e,t);else if(n.tag===19)iH(n,e,t);else if(n.child!==null){n.child.return=n,n=n.child;continue}if(n===t)break e;for(;n.sibling===null;){if(n.return===null||n.return===t)break e;n=n.return}n.sibling.return=n.return,n=n.sibling}r&=1}if(vr(Mr,r),!(t.mode&1))t.memoizedState=null;else switch(i){case"forwards":for(e=t.child,i=null;e!==null;)n=e.alternate,n!==null&&WE(n)===null&&(i=e),e=e.sibling;e=i,e===null?(i=t.child,t.child=null):(i=e.sibling,e.sibling=null),jP(t,!1,i,e,o);break;case"backwards":for(e=null,i=t.child,t.child=null;i!==null;){if(n=i.alternate,n!==null&&WE(n)===null){t.child=i;break}n=i.sibling,i.sibling=e,e=i,i=n}jP(t,!0,e,null,o);break;case"together":jP(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function Gx(n,t){!(t.mode&1)&&n!==null&&(n.alternate=null,t.alternate=null,t.flags|=2)}function qu(n,t,e){if(n!==null&&(t.dependencies=n.dependencies),zh|=t.lanes,!(e&t.childLanes))return null;if(n!==null&&t.child!==n.child)throw Error(we(153));if(t.child!==null){for(n=t.child,e=Dd(n,n.pendingProps),t.child=e,e.return=t;n.sibling!==null;)n=n.sibling,e=e.sibling=Dd(n,n.pendingProps),e.return=t;e.sibling=null}return t.child}function hie(n,t,e){switch(t.tag){case 3:I6(t),fg();break;case 5:c6(t);break;case 1:yo(t.type)&&GE(t);break;case 4:A1(t,t.stateNode.containerInfo);break;case 10:var r=t.type._context,i=t.memoizedProps.value;vr(HE,r._currentValue),r._currentValue=i;break;case 13:if(r=t.memoizedState,r!==null)return r.dehydrated!==null?(vr(Mr,Mr.current&1),t.flags|=128,null):e&t.child.childLanes?N6(n,t,e):(vr(Mr,Mr.current&1),n=qu(n,t,e),n!==null?n.sibling:null);vr(Mr,Mr.current&1);break;case 19:if(r=(e&t.childLanes)!==0,n.flags&128){if(r)return k6(n,t,e);t.flags|=128}if(i=t.memoizedState,i!==null&&(i.rendering=null,i.tail=null,i.lastEffect=null),vr(Mr,Mr.current),r)break;return null;case 22:case 23:return t.lanes=0,L6(n,t,e)}return qu(n,t,e)}var G6,pL,V6,B6;G6=function(n,t){for(var e=t.child;e!==null;){if(e.tag===5||e.tag===6)n.appendChild(e.stateNode);else if(e.tag!==4&&e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return;e=e.return}e.sibling.return=e.return,e=e.sibling}};pL=function(){};V6=function(n,t,e,r){var i=n.memoizedProps;if(i!==r){n=t.stateNode,yh(jl.current);var o=null;switch(e){case"input":i=FM(n,i),r=FM(n,r),o=[];break;case"select":i=Fr({},i,{value:void 0}),r=Fr({},r,{value:void 0}),o=[];break;case"textarea":i=kM(n,i),r=kM(n,r),o=[];break;default:typeof i.onClick!="function"&&typeof r.onClick=="function"&&(n.onclick=NE)}VM(e,r);var a;e=null;for(u in i)if(!r.hasOwnProperty(u)&&i.hasOwnProperty(u)&&i[u]!=null)if(u==="style"){var s=i[u];for(a in s)s.hasOwnProperty(a)&&(e||(e={}),e[a]="")}else u!=="dangerouslySetInnerHTML"&&u!=="children"&&u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&u!=="autoFocus"&&(YC.hasOwnProperty(u)?o||(o=[]):(o=o||[]).push(u,null));for(u in r){var l=r[u];if(s=i!=null?i[u]:void 0,r.hasOwnProperty(u)&&l!==s&&(l!=null||s!=null))if(u==="style")if(s){for(a in s)!s.hasOwnProperty(a)||l&&l.hasOwnProperty(a)||(e||(e={}),e[a]="");for(a in l)l.hasOwnProperty(a)&&s[a]!==l[a]&&(e||(e={}),e[a]=l[a])}else e||(o||(o=[]),o.push(u,e)),e=l;else u==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,s=s?s.__html:void 0,l!=null&&s!==l&&(o=o||[]).push(u,l)):u==="children"?typeof l!="string"&&typeof l!="number"||(o=o||[]).push(u,""+l):u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&(YC.hasOwnProperty(u)?(l!=null&&u==="onScroll"&&mr("scroll",n),o||s===l||(o=[])):(o=o||[]).push(u,l))}e&&(o=o||[]).push("style",e);var u=o;(t.updateQueue=u)&&(t.flags|=4)}};B6=function(n,t,e,r){e!==r&&(t.flags|=4)};function Ey(n,t){if(!Tr)switch(n.tailMode){case"hidden":t=n.tail;for(var e=null;t!==null;)t.alternate!==null&&(e=t),t=t.sibling;e===null?n.tail=null:e.sibling=null;break;case"collapsed":e=n.tail;for(var r=null;e!==null;)e.alternate!==null&&(r=e),e=e.sibling;r===null?t||n.tail===null?n.tail=null:n.tail.sibling=null:r.sibling=null}}function ui(n){var t=n.alternate!==null&&n.alternate.child===n.child,e=0,r=0;if(t)for(var i=n.child;i!==null;)e|=i.lanes|i.childLanes,r|=i.subtreeFlags&14680064,r|=i.flags&14680064,i.return=n,i=i.sibling;else for(i=n.child;i!==null;)e|=i.lanes|i.childLanes,r|=i.subtreeFlags,r|=i.flags,i.return=n,i=i.sibling;return n.subtreeFlags|=r,n.childLanes=e,t}function fie(n,t,e){var r=t.pendingProps;switch(x1(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return ui(t),null;case 1:return yo(t.type)&&kE(),ui(t),null;case 3:return r=t.stateNode,gg(),br(go),br(Si),M1(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(n===null||n.child===null)&&(A0(t)?t.flags|=4:n===null||n.memoizedState.isDehydrated&&!(t.flags&256)||(t.flags|=1024,ws!==null&&(SL(ws),ws=null))),pL(n,t),ui(t),null;case 5:D1(t);var i=yh(aS.current);if(e=t.type,n!==null&&t.stateNode!=null)V6(n,t,e,r,i),n.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!r){if(t.stateNode===null)throw Error(we(166));return ui(t),null}if(n=yh(jl.current),A0(t)){r=t.stateNode,e=t.type;var o=t.memoizedProps;switch(r[Al]=t,r[iS]=o,n=(t.mode&1)!==0,e){case"dialog":mr("cancel",r),mr("close",r);break;case"iframe":case"object":case"embed":mr("load",r);break;case"video":case"audio":for(i=0;i<km.length;i++)mr(km[i],r);break;case"source":mr("error",r);break;case"img":case"image":case"link":mr("error",r),mr("load",r);break;case"details":mr("toggle",r);break;case"input":h2(r,o),mr("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!o.multiple},mr("invalid",r);break;case"textarea":v2(r,o),mr("invalid",r)}VM(e,o),i=null;for(var a in o)if(o.hasOwnProperty(a)){var s=o[a];a==="children"?typeof s=="string"?r.textContent!==s&&(o.suppressHydrationWarning!==!0&&P0(r.textContent,s,n),i=["children",s]):typeof s=="number"&&r.textContent!==""+s&&(o.suppressHydrationWarning!==!0&&P0(r.textContent,s,n),i=["children",""+s]):YC.hasOwnProperty(a)&&s!=null&&a==="onScroll"&&mr("scroll",r)}switch(e){case"input":w0(r),f2(r,o,!0);break;case"textarea":w0(r),g2(r);break;case"select":case"option":break;default:typeof o.onClick=="function"&&(r.onclick=NE)}r=i,t.updateQueue=r,r!==null&&(t.flags|=4)}else{a=i.nodeType===9?i:i.ownerDocument,n==="http://www.w3.org/1999/xhtml"&&(n=h4(e)),n==="http://www.w3.org/1999/xhtml"?e==="script"?(n=a.createElement("div"),n.innerHTML="<script><\/script>",n=n.removeChild(n.firstChild)):typeof r.is=="string"?n=a.createElement(e,{is:r.is}):(n=a.createElement(e),e==="select"&&(a=n,r.multiple?a.multiple=!0:r.size&&(a.size=r.size))):n=a.createElementNS(n,e),n[Al]=t,n[iS]=r,G6(n,t,!1,!1),t.stateNode=n;e:{switch(a=BM(e,r),e){case"dialog":mr("cancel",n),mr("close",n),i=r;break;case"iframe":case"object":case"embed":mr("load",n),i=r;break;case"video":case"audio":for(i=0;i<km.length;i++)mr(km[i],n);i=r;break;case"source":mr("error",n),i=r;break;case"img":case"image":case"link":mr("error",n),mr("load",n),i=r;break;case"details":mr("toggle",n),i=r;break;case"input":h2(n,r),i=FM(n,r),mr("invalid",n);break;case"option":i=r;break;case"select":n._wrapperState={wasMultiple:!!r.multiple},i=Fr({},r,{value:void 0}),mr("invalid",n);break;case"textarea":v2(n,r),i=kM(n,r),mr("invalid",n);break;default:i=r}VM(e,i),s=i;for(o in s)if(s.hasOwnProperty(o)){var l=s[o];o==="style"?g4(n,l):o==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,l!=null&&f4(n,l)):o==="children"?typeof l=="string"?(e!=="textarea"||l!=="")&&XC(n,l):typeof l=="number"&&XC(n,""+l):o!=="suppressContentEditableWarning"&&o!=="suppressHydrationWarning"&&o!=="autoFocus"&&(YC.hasOwnProperty(o)?l!=null&&o==="onScroll"&&mr("scroll",n):l!=null&&l1(n,o,l,a))}switch(e){case"input":w0(n),f2(n,r,!1);break;case"textarea":w0(n),g2(n);break;case"option":r.value!=null&&n.setAttribute("value",""+Wd(r.value));break;case"select":n.multiple=!!r.multiple,o=r.value,o!=null?jv(n,!!r.multiple,o,!1):r.defaultValue!=null&&jv(n,!!r.multiple,r.defaultValue,!0);break;default:typeof i.onClick=="function"&&(n.onclick=NE)}switch(e){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(t.flags|=4)}t.ref!==null&&(t.flags|=512,t.flags|=2097152)}return ui(t),null;case 6:if(n&&t.stateNode!=null)B6(n,t,n.memoizedProps,r);else{if(typeof r!="string"&&t.stateNode===null)throw Error(we(166));if(e=yh(aS.current),yh(jl.current),A0(t)){if(r=t.stateNode,e=t.memoizedProps,r[Al]=t,(o=r.nodeValue!==e)&&(n=aa,n!==null))switch(n.tag){case 3:P0(r.nodeValue,e,(n.mode&1)!==0);break;case 5:n.memoizedProps.suppressHydrationWarning!==!0&&P0(r.nodeValue,e,(n.mode&1)!==0)}o&&(t.flags|=4)}else r=(e.nodeType===9?e:e.ownerDocument).createTextNode(r),r[Al]=t,t.stateNode=r}return ui(t),null;case 13:if(br(Mr),r=t.memoizedState,n===null||n.memoizedState!==null&&n.memoizedState.dehydrated!==null){if(Tr&&ra!==null&&t.mode&1&&!(t.flags&128))n6(),fg(),t.flags|=98560,o=!1;else if(o=A0(t),r!==null&&r.dehydrated!==null){if(n===null){if(!o)throw Error(we(318));if(o=t.memoizedState,o=o!==null?o.dehydrated:null,!o)throw Error(we(317));o[Al]=t}else fg(),!(t.flags&128)&&(t.memoizedState=null),t.flags|=4;ui(t),o=!1}else ws!==null&&(SL(ws),ws=null),o=!0;if(!o)return t.flags&65536?t:null}return t.flags&128?(t.lanes=e,t):(r=r!==null,r!==(n!==null&&n.memoizedState!==null)&&r&&(t.child.flags|=8192,t.mode&1&&(n===null||Mr.current&1?On===0&&(On=3):W1())),t.updateQueue!==null&&(t.flags|=4),ui(t),null);case 4:return gg(),pL(n,t),n===null&&rS(t.stateNode.containerInfo),ui(t),null;case 10:return R1(t.type._context),ui(t),null;case 17:return yo(t.type)&&kE(),ui(t),null;case 19:if(br(Mr),o=t.memoizedState,o===null)return ui(t),null;if(r=(t.flags&128)!==0,a=o.rendering,a===null)if(r)Ey(o,!1);else{if(On!==0||n!==null&&n.flags&128)for(n=t.child;n!==null;){if(a=WE(n),a!==null){for(t.flags|=128,Ey(o,!1),r=a.updateQueue,r!==null&&(t.updateQueue=r,t.flags|=4),t.subtreeFlags=0,r=e,e=t.child;e!==null;)o=e,n=r,o.flags&=14680066,a=o.alternate,a===null?(o.childLanes=0,o.lanes=n,o.child=null,o.subtreeFlags=0,o.memoizedProps=null,o.memoizedState=null,o.updateQueue=null,o.dependencies=null,o.stateNode=null):(o.childLanes=a.childLanes,o.lanes=a.lanes,o.child=a.child,o.subtreeFlags=0,o.deletions=null,o.memoizedProps=a.memoizedProps,o.memoizedState=a.memoizedState,o.updateQueue=a.updateQueue,o.type=a.type,n=a.dependencies,o.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext}),e=e.sibling;return vr(Mr,Mr.current&1|2),t.child}n=n.sibling}o.tail!==null&&Yr()>mg&&(t.flags|=128,r=!0,Ey(o,!1),t.lanes=4194304)}else{if(!r)if(n=WE(a),n!==null){if(t.flags|=128,r=!0,e=n.updateQueue,e!==null&&(t.updateQueue=e,t.flags|=4),Ey(o,!0),o.tail===null&&o.tailMode==="hidden"&&!a.alternate&&!Tr)return ui(t),null}else 2*Yr()-o.renderingStartTime>mg&&e!==1073741824&&(t.flags|=128,r=!0,Ey(o,!1),t.lanes=4194304);o.isBackwards?(a.sibling=t.child,t.child=a):(e=o.last,e!==null?e.sibling=a:t.child=a,o.last=a)}return o.tail!==null?(t=o.tail,o.rendering=t,o.tail=t.sibling,o.renderingStartTime=Yr(),t.sibling=null,e=Mr.current,vr(Mr,r?e&1|2:e&1),t):(ui(t),null);case 22:case 23:return $1(),r=t.memoizedState!==null,n!==null&&n.memoizedState!==null!==r&&(t.flags|=8192),r&&t.mode&1?Uo&1073741824&&(ui(t),t.subtreeFlags&6&&(t.flags|=8192)):ui(t),null;case 24:return null;case 25:return null}throw Error(we(156,t.tag))}function vie(n,t){switch(x1(t),t.tag){case 1:return yo(t.type)&&kE(),n=t.flags,n&65536?(t.flags=n&-65537|128,t):null;case 3:return gg(),br(go),br(Si),M1(),n=t.flags,n&65536&&!(n&128)?(t.flags=n&-65537|128,t):null;case 5:return D1(t),null;case 13:if(br(Mr),n=t.memoizedState,n!==null&&n.dehydrated!==null){if(t.alternate===null)throw Error(we(340));fg()}return n=t.flags,n&65536?(t.flags=n&-65537|128,t):null;case 19:return br(Mr),null;case 4:return gg(),null;case 10:return R1(t.type._context),null;case 22:case 23:return $1(),null;case 24:return null;default:return null}}var L0=!1,vi=!1,gie=typeof WeakSet=="function"?WeakSet:Set,Me=null;function bv(n,t){var e=n.ref;if(e!==null)if(typeof e=="function")try{e(null)}catch(r){jr(n,t,r)}else e.current=null}function hL(n,t,e){try{e()}catch(r){jr(n,t,r)}}var oH=!1;function yie(n,t){if(qM=LE,n=W4(),w1(n)){if("selectionStart"in n)var e={start:n.selectionStart,end:n.selectionEnd};else e:{e=(e=n.ownerDocument)&&e.defaultView||window;var r=e.getSelection&&e.getSelection();if(r&&r.rangeCount!==0){e=r.anchorNode;var i=r.anchorOffset,o=r.focusNode;r=r.focusOffset;try{e.nodeType,o.nodeType}catch{e=null;break e}var a=0,s=-1,l=-1,u=0,c=0,d=n,p=null;t:for(;;){for(var h;d!==e||i!==0&&d.nodeType!==3||(s=a+i),d!==o||r!==0&&d.nodeType!==3||(l=a+r),d.nodeType===3&&(a+=d.nodeValue.length),(h=d.firstChild)!==null;)p=d,d=h;for(;;){if(d===n)break t;if(p===e&&++u===i&&(s=a),p===o&&++c===r&&(l=a),(h=d.nextSibling)!==null)break;d=p,p=d.parentNode}d=h}e=s===-1||l===-1?null:{start:s,end:l}}else e=null}e=e||{start:0,end:0}}else e=null;for(ZM={focusedElem:n,selectionRange:e},LE=!1,Me=t;Me!==null;)if(t=Me,n=t.child,(t.subtreeFlags&1028)!==0&&n!==null)n.return=t,Me=n;else for(;Me!==null;){t=Me;try{var f=t.alternate;if(t.flags&1024)switch(t.tag){case 0:case 11:case 15:break;case 1:if(f!==null){var v=f.memoizedProps,g=f.memoizedState,y=t.stateNode,m=y.getSnapshotBeforeUpdate(t.elementType===t.type?v:ms(t.type,v),g);y.__reactInternalSnapshotBeforeUpdate=m}break;case 3:var C=t.stateNode.containerInfo;C.nodeType===1?C.textContent="":C.nodeType===9&&C.documentElement&&C.removeChild(C.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(we(163))}}catch(S){jr(t,t.return,S)}if(n=t.sibling,n!==null){n.return=t.return,Me=n;break}Me=t.return}return f=oH,oH=!1,f}function CC(n,t,e){var r=t.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var i=r=r.next;do{if((i.tag&n)===n){var o=i.destroy;i.destroy=void 0,o!==void 0&&hL(t,e,o)}i=i.next}while(i!==r)}}function rR(n,t){if(t=t.updateQueue,t=t!==null?t.lastEffect:null,t!==null){var e=t=t.next;do{if((e.tag&n)===n){var r=e.create;e.destroy=r()}e=e.next}while(e!==t)}}function fL(n){var t=n.ref;if(t!==null){var e=n.stateNode;switch(n.tag){case 5:n=e;break;default:n=e}typeof t=="function"?t(n):t.current=n}}function H6(n){var t=n.alternate;t!==null&&(n.alternate=null,H6(t)),n.child=null,n.deletions=null,n.sibling=null,n.tag===5&&(t=n.stateNode,t!==null&&(delete t[Al],delete t[iS],delete t[eL],delete t[Jne],delete t[eie])),n.stateNode=null,n.return=null,n.dependencies=null,n.memoizedProps=null,n.memoizedState=null,n.pendingProps=null,n.stateNode=null,n.updateQueue=null}function j6(n){return n.tag===5||n.tag===3||n.tag===4}function aH(n){e:for(;;){for(;n.sibling===null;){if(n.return===null||j6(n.return))return null;n=n.return}for(n.sibling.return=n.return,n=n.sibling;n.tag!==5&&n.tag!==6&&n.tag!==18;){if(n.flags&2||n.child===null||n.tag===4)continue e;n.child.return=n,n=n.child}if(!(n.flags&2))return n.stateNode}}function vL(n,t,e){var r=n.tag;if(r===5||r===6)n=n.stateNode,t?e.nodeType===8?e.parentNode.insertBefore(n,t):e.insertBefore(n,t):(e.nodeType===8?(t=e.parentNode,t.insertBefore(n,e)):(t=e,t.appendChild(n)),e=e._reactRootContainer,e!=null||t.onclick!==null||(t.onclick=NE));else if(r!==4&&(n=n.child,n!==null))for(vL(n,t,e),n=n.sibling;n!==null;)vL(n,t,e),n=n.sibling}function gL(n,t,e){var r=n.tag;if(r===5||r===6)n=n.stateNode,t?e.insertBefore(n,t):e.appendChild(n);else if(r!==4&&(n=n.child,n!==null))for(gL(n,t,e),n=n.sibling;n!==null;)gL(n,t,e),n=n.sibling}var Xn=null,Cs=!1;function Dc(n,t,e){for(e=e.child;e!==null;)$6(n,t,e),e=e.sibling}function $6(n,t,e){if(Hl&&typeof Hl.onCommitFiberUnmount=="function")try{Hl.onCommitFiberUnmount(YO,e)}catch{}switch(e.tag){case 5:vi||bv(e,t);case 6:var r=Xn,i=Cs;Xn=null,Dc(n,t,e),Xn=r,Cs=i,Xn!==null&&(Cs?(n=Xn,e=e.stateNode,n.nodeType===8?n.parentNode.removeChild(e):n.removeChild(e)):Xn.removeChild(e.stateNode));break;case 18:Xn!==null&&(Cs?(n=Xn,e=e.stateNode,n.nodeType===8?IP(n.parentNode,e):n.nodeType===1&&IP(n,e),JC(n)):IP(Xn,e.stateNode));break;case 4:r=Xn,i=Cs,Xn=e.stateNode.containerInfo,Cs=!0,Dc(n,t,e),Xn=r,Cs=i;break;case 0:case 11:case 14:case 15:if(!vi&&(r=e.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){i=r=r.next;do{var o=i,a=o.destroy;o=o.tag,a!==void 0&&(o&2||o&4)&&hL(e,t,a),i=i.next}while(i!==r)}Dc(n,t,e);break;case 1:if(!vi&&(bv(e,t),r=e.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=e.memoizedProps,r.state=e.memoizedState,r.componentWillUnmount()}catch(s){jr(e,t,s)}Dc(n,t,e);break;case 21:Dc(n,t,e);break;case 22:e.mode&1?(vi=(r=vi)||e.memoizedState!==null,Dc(n,t,e),vi=r):Dc(n,t,e);break;default:Dc(n,t,e)}}function sH(n){var t=n.updateQueue;if(t!==null){n.updateQueue=null;var e=n.stateNode;e===null&&(e=n.stateNode=new gie),t.forEach(function(r){var i=Oie.bind(null,n,r);e.has(r)||(e.add(r),r.then(i,i))})}}function ps(n,t){var e=t.deletions;if(e!==null)for(var r=0;r<e.length;r++){var i=e[r];try{var o=n,a=t,s=a;e:for(;s!==null;){switch(s.tag){case 5:Xn=s.stateNode,Cs=!1;break e;case 3:Xn=s.stateNode.containerInfo,Cs=!0;break e;case 4:Xn=s.stateNode.containerInfo,Cs=!0;break e}s=s.return}if(Xn===null)throw Error(we(160));$6(o,a,i),Xn=null,Cs=!1;var l=i.alternate;l!==null&&(l.return=null),i.return=null}catch(u){jr(i,t,u)}}if(t.subtreeFlags&12854)for(t=t.child;t!==null;)W6(t,n),t=t.sibling}function W6(n,t){var e=n.alternate,r=n.flags;switch(n.tag){case 0:case 11:case 14:case 15:if(ps(t,n),nl(n),r&4){try{CC(3,n,n.return),rR(3,n)}catch(v){jr(n,n.return,v)}try{CC(5,n,n.return)}catch(v){jr(n,n.return,v)}}break;case 1:ps(t,n),nl(n),r&512&&e!==null&&bv(e,e.return);break;case 5:if(ps(t,n),nl(n),r&512&&e!==null&&bv(e,e.return),n.flags&32){var i=n.stateNode;try{XC(i,"")}catch(v){jr(n,n.return,v)}}if(r&4&&(i=n.stateNode,i!=null)){var o=n.memoizedProps,a=e!==null?e.memoizedProps:o,s=n.type,l=n.updateQueue;if(n.updateQueue=null,l!==null)try{s==="input"&&o.type==="radio"&&o.name!=null&&d4(i,o),BM(s,a);var u=BM(s,o);for(a=0;a<l.length;a+=2){var c=l[a],d=l[a+1];c==="style"?g4(i,d):c==="dangerouslySetInnerHTML"?f4(i,d):c==="children"?XC(i,d):l1(i,c,d,u)}switch(s){case"input":IM(i,o);break;case"textarea":p4(i,o);break;case"select":var p=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!o.multiple;var h=o.value;h!=null?jv(i,!!o.multiple,h,!1):p!==!!o.multiple&&(o.defaultValue!=null?jv(i,!!o.multiple,o.defaultValue,!0):jv(i,!!o.multiple,o.multiple?[]:"",!1))}i[iS]=o}catch(v){jr(n,n.return,v)}}break;case 6:if(ps(t,n),nl(n),r&4){if(n.stateNode===null)throw Error(we(162));i=n.stateNode,o=n.memoizedProps;try{i.nodeValue=o}catch(v){jr(n,n.return,v)}}break;case 3:if(ps(t,n),nl(n),r&4&&e!==null&&e.memoizedState.isDehydrated)try{JC(t.containerInfo)}catch(v){jr(n,n.return,v)}break;case 4:ps(t,n),nl(n);break;case 13:ps(t,n),nl(n),i=n.child,i.flags&8192&&(o=i.memoizedState!==null,i.stateNode.isHidden=o,!o||i.alternate!==null&&i.alternate.memoizedState!==null||(H1=Yr())),r&4&&sH(n);break;case 22:if(c=e!==null&&e.memoizedState!==null,n.mode&1?(vi=(u=vi)||c,ps(t,n),vi=u):ps(t,n),nl(n),r&8192){if(u=n.memoizedState!==null,(n.stateNode.isHidden=u)&&!c&&n.mode&1)for(Me=n,c=n.child;c!==null;){for(d=Me=c;Me!==null;){switch(p=Me,h=p.child,p.tag){case 0:case 11:case 14:case 15:CC(4,p,p.return);break;case 1:bv(p,p.return);var f=p.stateNode;if(typeof f.componentWillUnmount=="function"){r=p,e=p.return;try{t=r,f.props=t.memoizedProps,f.state=t.memoizedState,f.componentWillUnmount()}catch(v){jr(r,e,v)}}break;case 5:bv(p,p.return);break;case 22:if(p.memoizedState!==null){uH(d);continue}}h!==null?(h.return=p,Me=h):uH(d)}c=c.sibling}e:for(c=null,d=n;;){if(d.tag===5){if(c===null){c=d;try{i=d.stateNode,u?(o=i.style,typeof o.setProperty=="function"?o.setProperty("display","none","important"):o.display="none"):(s=d.stateNode,l=d.memoizedProps.style,a=l!=null&&l.hasOwnProperty("display")?l.display:null,s.style.display=v4("display",a))}catch(v){jr(n,n.return,v)}}}else if(d.tag===6){if(c===null)try{d.stateNode.nodeValue=u?"":d.memoizedProps}catch(v){jr(n,n.return,v)}}else if((d.tag!==22&&d.tag!==23||d.memoizedState===null||d===n)&&d.child!==null){d.child.return=d,d=d.child;continue}if(d===n)break e;for(;d.sibling===null;){if(d.return===null||d.return===n)break e;c===d&&(c=null),d=d.return}c===d&&(c=null),d.sibling.return=d.return,d=d.sibling}}break;case 19:ps(t,n),nl(n),r&4&&sH(n);break;case 21:break;default:ps(t,n),nl(n)}}function nl(n){var t=n.flags;if(t&2){try{e:{for(var e=n.return;e!==null;){if(j6(e)){var r=e;break e}e=e.return}throw Error(we(160))}switch(r.tag){case 5:var i=r.stateNode;r.flags&32&&(XC(i,""),r.flags&=-33);var o=aH(n);gL(n,o,i);break;case 3:case 4:var a=r.stateNode.containerInfo,s=aH(n);vL(n,s,a);break;default:throw Error(we(161))}}catch(l){jr(n,n.return,l)}n.flags&=-3}t&4096&&(n.flags&=-4097)}function mie(n,t,e){Me=n,U6(n)}function U6(n,t,e){for(var r=(n.mode&1)!==0;Me!==null;){var i=Me,o=i.child;if(i.tag===22&&r){var a=i.memoizedState!==null||L0;if(!a){var s=i.alternate,l=s!==null&&s.memoizedState!==null||vi;s=L0;var u=vi;if(L0=a,(vi=l)&&!u)for(Me=i;Me!==null;)a=Me,l=a.child,a.tag===22&&a.memoizedState!==null?cH(i):l!==null?(l.return=a,Me=l):cH(i);for(;o!==null;)Me=o,U6(o),o=o.sibling;Me=i,L0=s,vi=u}lH(n)}else i.subtreeFlags&8772&&o!==null?(o.return=i,Me=o):lH(n)}}function lH(n){for(;Me!==null;){var t=Me;if(t.flags&8772){var e=t.alternate;try{if(t.flags&8772)switch(t.tag){case 0:case 11:case 15:vi||rR(5,t);break;case 1:var r=t.stateNode;if(t.flags&4&&!vi)if(e===null)r.componentDidMount();else{var i=t.elementType===t.type?e.memoizedProps:ms(t.type,e.memoizedProps);r.componentDidUpdate(i,e.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var o=t.updateQueue;o!==null&&U2(t,o,r);break;case 3:var a=t.updateQueue;if(a!==null){if(e=null,t.child!==null)switch(t.child.tag){case 5:e=t.child.stateNode;break;case 1:e=t.child.stateNode}U2(t,a,e)}break;case 5:var s=t.stateNode;if(e===null&&t.flags&4){e=s;var l=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":l.autoFocus&&e.focus();break;case"img":l.src&&(e.src=l.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(t.memoizedState===null){var u=t.alternate;if(u!==null){var c=u.memoizedState;if(c!==null){var d=c.dehydrated;d!==null&&JC(d)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(we(163))}vi||t.flags&512&&fL(t)}catch(p){jr(t,t.return,p)}}if(t===n){Me=null;break}if(e=t.sibling,e!==null){e.return=t.return,Me=e;break}Me=t.return}}function uH(n){for(;Me!==null;){var t=Me;if(t===n){Me=null;break}var e=t.sibling;if(e!==null){e.return=t.return,Me=e;break}Me=t.return}}function cH(n){for(;Me!==null;){var t=Me;try{switch(t.tag){case 0:case 11:case 15:var e=t.return;try{rR(4,t)}catch(l){jr(t,e,l)}break;case 1:var r=t.stateNode;if(typeof r.componentDidMount=="function"){var i=t.return;try{r.componentDidMount()}catch(l){jr(t,i,l)}}var o=t.return;try{fL(t)}catch(l){jr(t,o,l)}break;case 5:var a=t.return;try{fL(t)}catch(l){jr(t,a,l)}}}catch(l){jr(t,t.return,l)}if(t===n){Me=null;break}var s=t.sibling;if(s!==null){s.return=t.return,Me=s;break}Me=t.return}}var Cie=Math.ceil,KE=hc.ReactCurrentDispatcher,V1=hc.ReactCurrentOwner,Wa=hc.ReactCurrentBatchConfig,Lt=0,kn=null,un=null,ri=0,Uo=0,Ov=rp(0),On=0,cS=null,zh=0,nR=0,B1=0,SC=null,lo=null,H1=0,mg=1/0,Tu=null,YE=!1,yL=null,Pd=null,F0=!1,fd=null,XE=0,wC=0,mL=null,Vx=-1,Bx=0;function Ni(){return Lt&6?Yr():Vx!==-1?Vx:Vx=Yr()}function Ad(n){return n.mode&1?Lt&2&&ri!==0?ri&-ri:rie.transition!==null?(Bx===0&&(Bx=T4()),Bx):(n=Jt,n!==0||(n=window.event,n=n===void 0?16:I4(n.type)),n):1}function Ms(n,t,e,r){if(50<wC)throw wC=0,mL=null,Error(we(185));vw(n,e,r),(!(Lt&2)||n!==kn)&&(n===kn&&(!(Lt&2)&&(nR|=e),On===4&&ld(n,ri)),mo(n,r),e===1&&Lt===0&&!(t.mode&1)&&(mg=Yr()+500,JO&&np()))}function mo(n,t){var e=n.callbackNode;rne(n,t);var r=ME(n,n===kn?ri:0);if(r===0)e!==null&&C2(e),n.callbackNode=null,n.callbackPriority=0;else if(t=r&-r,n.callbackPriority!==t){if(e!=null&&C2(e),t===1)n.tag===0?tie(dH.bind(null,n)):e6(dH.bind(null,n)),Zne(function(){!(Lt&6)&&np()}),e=null;else{switch(P4(r)){case 1:e=h1;break;case 4:e=O4;break;case 16:e=DE;break;case 536870912:e=R4;break;default:e=DE}e=J6(e,z6.bind(null,n))}n.callbackPriority=t,n.callbackNode=e}}function z6(n,t){if(Vx=-1,Bx=0,Lt&6)throw Error(we(327));var e=n.callbackNode;if(Kv()&&n.callbackNode!==e)return null;var r=ME(n,n===kn?ri:0);if(r===0)return null;if(r&30||r&n.expiredLanes||t)t=qE(n,r);else{t=r;var i=Lt;Lt|=2;var o=Y6();(kn!==n||ri!==t)&&(Tu=null,mg=Yr()+500,Ph(n,t));do try{_ie();break}catch(s){K6(n,s)}while(!0);O1(),KE.current=o,Lt=i,un!==null?t=0:(kn=null,ri=0,t=On)}if(t!==0){if(t===2&&(i=UM(n),i!==0&&(r=i,t=CL(n,i))),t===1)throw e=cS,Ph(n,0),ld(n,r),mo(n,Yr()),e;if(t===6)ld(n,r);else{if(i=n.current.alternate,!(r&30)&&!Sie(i)&&(t=qE(n,r),t===2&&(o=UM(n),o!==0&&(r=o,t=CL(n,o))),t===1))throw e=cS,Ph(n,0),ld(n,r),mo(n,Yr()),e;switch(n.finishedWork=i,n.finishedLanes=r,t){case 0:case 1:throw Error(we(345));case 2:Kp(n,lo,Tu);break;case 3:if(ld(n,r),(r&130023424)===r&&(t=H1+500-Yr(),10<t)){if(ME(n,0)!==0)break;if(i=n.suspendedLanes,(i&r)!==r){Ni(),n.pingedLanes|=n.suspendedLanes&i;break}n.timeoutHandle=JM(Kp.bind(null,n,lo,Tu),t);break}Kp(n,lo,Tu);break;case 4:if(ld(n,r),(r&4194240)===r)break;for(t=n.eventTimes,i=-1;0<r;){var a=31-Ds(r);o=1<<a,a=t[a],a>i&&(i=a),r&=~o}if(r=i,r=Yr()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*Cie(r/1960))-r,10<r){n.timeoutHandle=JM(Kp.bind(null,n,lo,Tu),r);break}Kp(n,lo,Tu);break;case 5:Kp(n,lo,Tu);break;default:throw Error(we(329))}}}return mo(n,Yr()),n.callbackNode===e?z6.bind(null,n):null}function CL(n,t){var e=SC;return n.current.memoizedState.isDehydrated&&(Ph(n,t).flags|=256),n=qE(n,t),n!==2&&(t=lo,lo=e,t!==null&&SL(t)),n}function SL(n){lo===null?lo=n:lo.push.apply(lo,n)}function Sie(n){for(var t=n;;){if(t.flags&16384){var e=t.updateQueue;if(e!==null&&(e=e.stores,e!==null))for(var r=0;r<e.length;r++){var i=e[r],o=i.getSnapshot;i=i.value;try{if(!Ns(o(),i))return!1}catch{return!1}}}if(e=t.child,t.subtreeFlags&16384&&e!==null)e.return=t,t=e;else{if(t===n)break;for(;t.sibling===null;){if(t.return===null||t.return===n)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function ld(n,t){for(t&=~B1,t&=~nR,n.suspendedLanes|=t,n.pingedLanes&=~t,n=n.expirationTimes;0<t;){var e=31-Ds(t),r=1<<e;n[e]=-1,t&=~r}}function dH(n){if(Lt&6)throw Error(we(327));Kv();var t=ME(n,0);if(!(t&1))return mo(n,Yr()),null;var e=qE(n,t);if(n.tag!==0&&e===2){var r=UM(n);r!==0&&(t=r,e=CL(n,r))}if(e===1)throw e=cS,Ph(n,0),ld(n,t),mo(n,Yr()),e;if(e===6)throw Error(we(345));return n.finishedWork=n.current.alternate,n.finishedLanes=t,Kp(n,lo,Tu),mo(n,Yr()),null}function j1(n,t){var e=Lt;Lt|=1;try{return n(t)}finally{Lt=e,Lt===0&&(mg=Yr()+500,JO&&np())}}function Kh(n){fd!==null&&fd.tag===0&&!(Lt&6)&&Kv();var t=Lt;Lt|=1;var e=Wa.transition,r=Jt;try{if(Wa.transition=null,Jt=1,n)return n()}finally{Jt=r,Wa.transition=e,Lt=t,!(Lt&6)&&np()}}function $1(){Uo=Ov.current,br(Ov)}function Ph(n,t){n.finishedWork=null,n.finishedLanes=0;var e=n.timeoutHandle;if(e!==-1&&(n.timeoutHandle=-1,qne(e)),un!==null)for(e=un.return;e!==null;){var r=e;switch(x1(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&kE();break;case 3:gg(),br(go),br(Si),M1();break;case 5:D1(r);break;case 4:gg();break;case 13:br(Mr);break;case 19:br(Mr);break;case 10:R1(r.type._context);break;case 22:case 23:$1()}e=e.return}if(kn=n,un=n=Dd(n.current,null),ri=Uo=t,On=0,cS=null,B1=nR=zh=0,lo=SC=null,gh!==null){for(t=0;t<gh.length;t++)if(e=gh[t],r=e.interleaved,r!==null){e.interleaved=null;var i=r.next,o=e.pending;if(o!==null){var a=o.next;o.next=i,r.next=a}e.pending=r}gh=null}return n}function K6(n,t){do{var e=un;try{if(O1(),Nx.current=zE,UE){for(var r=Lr.memoizedState;r!==null;){var i=r.queue;i!==null&&(i.pending=null),r=r.next}UE=!1}if(Uh=0,Ln=wn=Lr=null,mC=!1,sS=0,V1.current=null,e===null||e.return===null){On=1,cS=t,un=null;break}e:{var o=n,a=e.return,s=e,l=t;if(t=ri,s.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){var u=l,c=s,d=c.tag;if(!(c.mode&1)&&(d===0||d===11||d===15)){var p=c.alternate;p?(c.updateQueue=p.updateQueue,c.memoizedState=p.memoizedState,c.lanes=p.lanes):(c.updateQueue=null,c.memoizedState=null)}var h=Q2(a);if(h!==null){h.flags&=-257,J2(h,a,s,o,t),h.mode&1&&Z2(o,u,t),t=h,l=u;var f=t.updateQueue;if(f===null){var v=new Set;v.add(l),t.updateQueue=v}else f.add(l);break e}else{if(!(t&1)){Z2(o,u,t),W1();break e}l=Error(we(426))}}else if(Tr&&s.mode&1){var g=Q2(a);if(g!==null){!(g.flags&65536)&&(g.flags|=256),J2(g,a,s,o,t),E1(yg(l,s));break e}}o=l=yg(l,s),On!==4&&(On=2),SC===null?SC=[o]:SC.push(o),o=a;do{switch(o.tag){case 3:o.flags|=65536,t&=-t,o.lanes|=t;var y=A6(o,l,t);W2(o,y);break e;case 1:s=l;var m=o.type,C=o.stateNode;if(!(o.flags&128)&&(typeof m.getDerivedStateFromError=="function"||C!==null&&typeof C.componentDidCatch=="function"&&(Pd===null||!Pd.has(C)))){o.flags|=65536,t&=-t,o.lanes|=t;var S=D6(o,s,t);W2(o,S);break e}}o=o.return}while(o!==null)}q6(e)}catch(w){t=w,un===e&&e!==null&&(un=e=e.return);continue}break}while(!0)}function Y6(){var n=KE.current;return KE.current=zE,n===null?zE:n}function W1(){(On===0||On===3||On===2)&&(On=4),kn===null||!(zh&268435455)&&!(nR&268435455)||ld(kn,ri)}function qE(n,t){var e=Lt;Lt|=2;var r=Y6();(kn!==n||ri!==t)&&(Tu=null,Ph(n,t));do try{wie();break}catch(i){K6(n,i)}while(!0);if(O1(),Lt=e,KE.current=r,un!==null)throw Error(we(261));return kn=null,ri=0,On}function wie(){for(;un!==null;)X6(un)}function _ie(){for(;un!==null&&!Kre();)X6(un)}function X6(n){var t=Q6(n.alternate,n,Uo);n.memoizedProps=n.pendingProps,t===null?q6(n):un=t,V1.current=null}function q6(n){var t=n;do{var e=t.alternate;if(n=t.return,t.flags&32768){if(e=vie(e,t),e!==null){e.flags&=32767,un=e;return}if(n!==null)n.flags|=32768,n.subtreeFlags=0,n.deletions=null;else{On=6,un=null;return}}else if(e=fie(e,t,Uo),e!==null){un=e;return}if(t=t.sibling,t!==null){un=t;return}un=t=n}while(t!==null);On===0&&(On=5)}function Kp(n,t,e){var r=Jt,i=Wa.transition;try{Wa.transition=null,Jt=1,xie(n,t,e,r)}finally{Wa.transition=i,Jt=r}return null}function xie(n,t,e,r){do Kv();while(fd!==null);if(Lt&6)throw Error(we(327));e=n.finishedWork;var i=n.finishedLanes;if(e===null)return null;if(n.finishedWork=null,n.finishedLanes=0,e===n.current)throw Error(we(177));n.callbackNode=null,n.callbackPriority=0;var o=e.lanes|e.childLanes;if(nne(n,o),n===kn&&(un=kn=null,ri=0),!(e.subtreeFlags&2064)&&!(e.flags&2064)||F0||(F0=!0,J6(DE,function(){return Kv(),null})),o=(e.flags&15990)!==0,e.subtreeFlags&15990||o){o=Wa.transition,Wa.transition=null;var a=Jt;Jt=1;var s=Lt;Lt|=4,V1.current=null,yie(n,e),W6(e,n),$ne(ZM),LE=!!qM,ZM=qM=null,n.current=e,mie(e),Yre(),Lt=s,Jt=a,Wa.transition=o}else n.current=e;if(F0&&(F0=!1,fd=n,XE=i),o=n.pendingLanes,o===0&&(Pd=null),Zre(e.stateNode),mo(n,Yr()),t!==null)for(r=n.onRecoverableError,e=0;e<t.length;e++)i=t[e],r(i.value,{componentStack:i.stack,digest:i.digest});if(YE)throw YE=!1,n=yL,yL=null,n;return XE&1&&n.tag!==0&&Kv(),o=n.pendingLanes,o&1?n===mL?wC++:(wC=0,mL=n):wC=0,np(),null}function Kv(){if(fd!==null){var n=P4(XE),t=Wa.transition,e=Jt;try{if(Wa.transition=null,Jt=16>n?16:n,fd===null)var r=!1;else{if(n=fd,fd=null,XE=0,Lt&6)throw Error(we(331));var i=Lt;for(Lt|=4,Me=n.current;Me!==null;){var o=Me,a=o.child;if(Me.flags&16){var s=o.deletions;if(s!==null){for(var l=0;l<s.length;l++){var u=s[l];for(Me=u;Me!==null;){var c=Me;switch(c.tag){case 0:case 11:case 15:CC(8,c,o)}var d=c.child;if(d!==null)d.return=c,Me=d;else for(;Me!==null;){c=Me;var p=c.sibling,h=c.return;if(H6(c),c===u){Me=null;break}if(p!==null){p.return=h,Me=p;break}Me=h}}}var f=o.alternate;if(f!==null){var v=f.child;if(v!==null){f.child=null;do{var g=v.sibling;v.sibling=null,v=g}while(v!==null)}}Me=o}}if(o.subtreeFlags&2064&&a!==null)a.return=o,Me=a;else e:for(;Me!==null;){if(o=Me,o.flags&2048)switch(o.tag){case 0:case 11:case 15:CC(9,o,o.return)}var y=o.sibling;if(y!==null){y.return=o.return,Me=y;break e}Me=o.return}}var m=n.current;for(Me=m;Me!==null;){a=Me;var C=a.child;if(a.subtreeFlags&2064&&C!==null)C.return=a,Me=C;else e:for(a=m;Me!==null;){if(s=Me,s.flags&2048)try{switch(s.tag){case 0:case 11:case 15:rR(9,s)}}catch(w){jr(s,s.return,w)}if(s===a){Me=null;break e}var S=s.sibling;if(S!==null){S.return=s.return,Me=S;break e}Me=s.return}}if(Lt=i,np(),Hl&&typeof Hl.onPostCommitFiberRoot=="function")try{Hl.onPostCommitFiberRoot(YO,n)}catch{}r=!0}return r}finally{Jt=e,Wa.transition=t}}return!1}function pH(n,t,e){t=yg(e,t),t=A6(n,t,1),n=Td(n,t,1),t=Ni(),n!==null&&(vw(n,1,t),mo(n,t))}function jr(n,t,e){if(n.tag===3)pH(n,n,e);else for(;t!==null;){if(t.tag===3){pH(t,n,e);break}else if(t.tag===1){var r=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(Pd===null||!Pd.has(r))){n=yg(e,n),n=D6(t,n,1),t=Td(t,n,1),n=Ni(),t!==null&&(vw(t,1,n),mo(t,n));break}}t=t.return}}function Eie(n,t,e){var r=n.pingCache;r!==null&&r.delete(t),t=Ni(),n.pingedLanes|=n.suspendedLanes&e,kn===n&&(ri&e)===e&&(On===4||On===3&&(ri&130023424)===ri&&500>Yr()-H1?Ph(n,0):B1|=e),mo(n,t)}function Z6(n,t){t===0&&(n.mode&1?(t=E0,E0<<=1,!(E0&130023424)&&(E0=4194304)):t=1);var e=Ni();n=Xu(n,t),n!==null&&(vw(n,t,e),mo(n,e))}function bie(n){var t=n.memoizedState,e=0;t!==null&&(e=t.retryLane),Z6(n,e)}function Oie(n,t){var e=0;switch(n.tag){case 13:var r=n.stateNode,i=n.memoizedState;i!==null&&(e=i.retryLane);break;case 19:r=n.stateNode;break;default:throw Error(we(314))}r!==null&&r.delete(t),Z6(n,e)}var Q6;Q6=function(n,t,e){if(n!==null)if(n.memoizedProps!==t.pendingProps||go.current)co=!0;else{if(!(n.lanes&e)&&!(t.flags&128))return co=!1,hie(n,t,e);co=!!(n.flags&131072)}else co=!1,Tr&&t.flags&1048576&&t6(t,BE,t.index);switch(t.lanes=0,t.tag){case 2:var r=t.type;Gx(n,t),n=t.pendingProps;var i=hg(t,Si.current);zv(t,e),i=F1(null,t,r,n,i,e);var o=I1();return t.flags|=1,typeof i=="object"&&i!==null&&typeof i.render=="function"&&i.$$typeof===void 0?(t.tag=1,t.memoizedState=null,t.updateQueue=null,yo(r)?(o=!0,GE(t)):o=!1,t.memoizedState=i.state!==null&&i.state!==void 0?i.state:null,P1(t),i.updater=eR,t.stateNode=i,i._reactInternals=t,aL(t,r,n,e),t=uL(null,t,r,!0,o,e)):(t.tag=0,Tr&&o&&_1(t),Ti(null,t,i,e),t=t.child),t;case 16:r=t.elementType;e:{switch(Gx(n,t),n=t.pendingProps,i=r._init,r=i(r._payload),t.type=r,i=t.tag=Tie(r),n=ms(r,n),i){case 0:t=lL(null,t,r,n,e);break e;case 1:t=rH(null,t,r,n,e);break e;case 11:t=eH(null,t,r,n,e);break e;case 14:t=tH(null,t,r,ms(r.type,n),e);break e}throw Error(we(306,r,""))}return t;case 0:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:ms(r,i),lL(n,t,r,i,e);case 1:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:ms(r,i),rH(n,t,r,i,e);case 3:e:{if(I6(t),n===null)throw Error(we(387));r=t.pendingProps,o=t.memoizedState,i=o.element,o6(n,t),$E(t,r,null,e);var a=t.memoizedState;if(r=a.element,o.isDehydrated)if(o={element:r,isDehydrated:!1,cache:a.cache,pendingSuspenseBoundaries:a.pendingSuspenseBoundaries,transitions:a.transitions},t.updateQueue.baseState=o,t.memoizedState=o,t.flags&256){i=yg(Error(we(423)),t),t=nH(n,t,r,e,i);break e}else if(r!==i){i=yg(Error(we(424)),t),t=nH(n,t,r,e,i);break e}else for(ra=Rd(t.stateNode.containerInfo.firstChild),aa=t,Tr=!0,ws=null,e=u6(t,null,r,e),t.child=e;e;)e.flags=e.flags&-3|4096,e=e.sibling;else{if(fg(),r===i){t=qu(n,t,e);break e}Ti(n,t,r,e)}t=t.child}return t;case 5:return c6(t),n===null&&nL(t),r=t.type,i=t.pendingProps,o=n!==null?n.memoizedProps:null,a=i.children,QM(r,i)?a=null:o!==null&&QM(r,o)&&(t.flags|=32),F6(n,t),Ti(n,t,a,e),t.child;case 6:return n===null&&nL(t),null;case 13:return N6(n,t,e);case 4:return A1(t,t.stateNode.containerInfo),r=t.pendingProps,n===null?t.child=vg(t,null,r,e):Ti(n,t,r,e),t.child;case 11:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:ms(r,i),eH(n,t,r,i,e);case 7:return Ti(n,t,t.pendingProps,e),t.child;case 8:return Ti(n,t,t.pendingProps.children,e),t.child;case 12:return Ti(n,t,t.pendingProps.children,e),t.child;case 10:e:{if(r=t.type._context,i=t.pendingProps,o=t.memoizedProps,a=i.value,vr(HE,r._currentValue),r._currentValue=a,o!==null)if(Ns(o.value,a)){if(o.children===i.children&&!go.current){t=qu(n,t,e);break e}}else for(o=t.child,o!==null&&(o.return=t);o!==null;){var s=o.dependencies;if(s!==null){a=o.child;for(var l=s.firstContext;l!==null;){if(l.context===r){if(o.tag===1){l=Bu(-1,e&-e),l.tag=2;var u=o.updateQueue;if(u!==null){u=u.shared;var c=u.pending;c===null?l.next=l:(l.next=c.next,c.next=l),u.pending=l}}o.lanes|=e,l=o.alternate,l!==null&&(l.lanes|=e),iL(o.return,e,t),s.lanes|=e;break}l=l.next}}else if(o.tag===10)a=o.type===t.type?null:o.child;else if(o.tag===18){if(a=o.return,a===null)throw Error(we(341));a.lanes|=e,s=a.alternate,s!==null&&(s.lanes|=e),iL(a,e,t),a=o.sibling}else a=o.child;if(a!==null)a.return=o;else for(a=o;a!==null;){if(a===t){a=null;break}if(o=a.sibling,o!==null){o.return=a.return,a=o;break}a=a.return}o=a}Ti(n,t,i.children,e),t=t.child}return t;case 9:return i=t.type,r=t.pendingProps.children,zv(t,e),i=Xa(i),r=r(i),t.flags|=1,Ti(n,t,r,e),t.child;case 14:return r=t.type,i=ms(r,t.pendingProps),i=ms(r.type,i),tH(n,t,r,i,e);case 15:return M6(n,t,t.type,t.pendingProps,e);case 17:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:ms(r,i),Gx(n,t),t.tag=1,yo(r)?(n=!0,GE(t)):n=!1,zv(t,e),s6(t,r,i),aL(t,r,i,e),uL(null,t,r,!0,n,e);case 19:return k6(n,t,e);case 22:return L6(n,t,e)}throw Error(we(156,t.tag))};function J6(n,t){return b4(n,t)}function Rie(n,t,e,r){this.tag=n,this.key=e,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Va(n,t,e,r){return new Rie(n,t,e,r)}function U1(n){return n=n.prototype,!(!n||!n.isReactComponent)}function Tie(n){if(typeof n=="function")return U1(n)?1:0;if(n!=null){if(n=n.$$typeof,n===c1)return 11;if(n===d1)return 14}return 2}function Dd(n,t){var e=n.alternate;return e===null?(e=Va(n.tag,t,n.key,n.mode),e.elementType=n.elementType,e.type=n.type,e.stateNode=n.stateNode,e.alternate=n,n.alternate=e):(e.pendingProps=t,e.type=n.type,e.flags=0,e.subtreeFlags=0,e.deletions=null),e.flags=n.flags&14680064,e.childLanes=n.childLanes,e.lanes=n.lanes,e.child=n.child,e.memoizedProps=n.memoizedProps,e.memoizedState=n.memoizedState,e.updateQueue=n.updateQueue,t=n.dependencies,e.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},e.sibling=n.sibling,e.index=n.index,e.ref=n.ref,e}function Hx(n,t,e,r,i,o){var a=2;if(r=n,typeof n=="function")U1(n)&&(a=1);else if(typeof n=="string")a=5;else e:switch(n){case gv:return Ah(e.children,i,o,t);case u1:a=8,i|=8;break;case AM:return n=Va(12,e,t,i|2),n.elementType=AM,n.lanes=o,n;case DM:return n=Va(13,e,t,i),n.elementType=DM,n.lanes=o,n;case MM:return n=Va(19,e,t,i),n.elementType=MM,n.lanes=o,n;case l4:return iR(e,i,o,t);default:if(typeof n=="object"&&n!==null)switch(n.$$typeof){case a4:a=10;break e;case s4:a=9;break e;case c1:a=11;break e;case d1:a=14;break e;case ed:a=16,r=null;break e}throw Error(we(130,n==null?n:typeof n,""))}return t=Va(a,e,t,i),t.elementType=n,t.type=r,t.lanes=o,t}function Ah(n,t,e,r){return n=Va(7,n,r,t),n.lanes=e,n}function iR(n,t,e,r){return n=Va(22,n,r,t),n.elementType=l4,n.lanes=e,n.stateNode={isHidden:!1},n}function $P(n,t,e){return n=Va(6,n,null,t),n.lanes=e,n}function WP(n,t,e){return t=Va(4,n.children!==null?n.children:[],n.key,t),t.lanes=e,t.stateNode={containerInfo:n.containerInfo,pendingChildren:null,implementation:n.implementation},t}function Pie(n,t,e,r,i){this.tag=t,this.containerInfo=n,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=EP(0),this.expirationTimes=EP(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=EP(0),this.identifierPrefix=r,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function z1(n,t,e,r,i,o,a,s,l){return n=new Pie(n,t,e,s,l),t===1?(t=1,o===!0&&(t|=8)):t=0,o=Va(3,null,null,t),n.current=o,o.stateNode=n,o.memoizedState={element:r,isDehydrated:e,cache:null,transitions:null,pendingSuspenseBoundaries:null},P1(o),n}function Aie(n,t,e){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:vv,key:r==null?null:""+r,children:n,containerInfo:t,implementation:e}}function eK(n){if(!n)return Ud;n=n._reactInternals;e:{if(lf(n)!==n||n.tag!==1)throw Error(we(170));var t=n;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(yo(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(t!==null);throw Error(we(171))}if(n.tag===1){var e=n.type;if(yo(e))return J4(n,e,t)}return t}function tK(n,t,e,r,i,o,a,s,l){return n=z1(e,r,!0,n,i,o,a,s,l),n.context=eK(null),e=n.current,r=Ni(),i=Ad(e),o=Bu(r,i),o.callback=t??null,Td(e,o,i),n.current.lanes=i,vw(n,i,r),mo(n,r),n}function oR(n,t,e,r){var i=t.current,o=Ni(),a=Ad(i);return e=eK(e),t.context===null?t.context=e:t.pendingContext=e,t=Bu(o,a),t.payload={element:n},r=r===void 0?null:r,r!==null&&(t.callback=r),n=Td(i,t,a),n!==null&&(Ms(n,i,a,o),Ix(n,i,a)),a}function ZE(n){if(n=n.current,!n.child)return null;switch(n.child.tag){case 5:return n.child.stateNode;default:return n.child.stateNode}}function hH(n,t){if(n=n.memoizedState,n!==null&&n.dehydrated!==null){var e=n.retryLane;n.retryLane=e!==0&&e<t?e:t}}function K1(n,t){hH(n,t),(n=n.alternate)&&hH(n,t)}function Die(){return null}var rK=typeof reportError=="function"?reportError:function(n){console.error(n)};function Y1(n){this._internalRoot=n}aR.prototype.render=Y1.prototype.render=function(n){var t=this._internalRoot;if(t===null)throw Error(we(409));oR(n,t,null,null)};aR.prototype.unmount=Y1.prototype.unmount=function(){var n=this._internalRoot;if(n!==null){this._internalRoot=null;var t=n.containerInfo;Kh(function(){oR(null,n,null,null)}),t[Yu]=null}};function aR(n){this._internalRoot=n}aR.prototype.unstable_scheduleHydration=function(n){if(n){var t=M4();n={blockedOn:null,target:n,priority:t};for(var e=0;e<sd.length&&t!==0&&t<sd[e].priority;e++);sd.splice(e,0,n),e===0&&F4(n)}};function X1(n){return!(!n||n.nodeType!==1&&n.nodeType!==9&&n.nodeType!==11)}function sR(n){return!(!n||n.nodeType!==1&&n.nodeType!==9&&n.nodeType!==11&&(n.nodeType!==8||n.nodeValue!==" react-mount-point-unstable "))}function fH(){}function Mie(n,t,e,r,i){if(i){if(typeof r=="function"){var o=r;r=function(){var u=ZE(a);o.call(u)}}var a=tK(t,r,n,0,null,!1,!1,"",fH);return n._reactRootContainer=a,n[Yu]=a.current,rS(n.nodeType===8?n.parentNode:n),Kh(),a}for(;i=n.lastChild;)n.removeChild(i);if(typeof r=="function"){var s=r;r=function(){var u=ZE(l);s.call(u)}}var l=z1(n,0,!1,null,null,!1,!1,"",fH);return n._reactRootContainer=l,n[Yu]=l.current,rS(n.nodeType===8?n.parentNode:n),Kh(function(){oR(t,l,e,r)}),l}function lR(n,t,e,r,i){var o=e._reactRootContainer;if(o){var a=o;if(typeof i=="function"){var s=i;i=function(){var l=ZE(a);s.call(l)}}oR(t,a,n,i)}else a=Mie(e,t,n,i,r);return ZE(a)}A4=function(n){switch(n.tag){case 3:var t=n.stateNode;if(t.current.memoizedState.isDehydrated){var e=Nm(t.pendingLanes);e!==0&&(f1(t,e|1),mo(t,Yr()),!(Lt&6)&&(mg=Yr()+500,np()))}break;case 13:Kh(function(){var r=Xu(n,1);if(r!==null){var i=Ni();Ms(r,n,1,i)}}),K1(n,1)}};v1=function(n){if(n.tag===13){var t=Xu(n,134217728);if(t!==null){var e=Ni();Ms(t,n,134217728,e)}K1(n,134217728)}};D4=function(n){if(n.tag===13){var t=Ad(n),e=Xu(n,t);if(e!==null){var r=Ni();Ms(e,n,t,r)}K1(n,t)}};M4=function(){return Jt};L4=function(n,t){var e=Jt;try{return Jt=n,t()}finally{Jt=e}};jM=function(n,t,e){switch(t){case"input":if(IM(n,e),t=e.name,e.type==="radio"&&t!=null){for(e=n;e.parentNode;)e=e.parentNode;for(e=e.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<e.length;t++){var r=e[t];if(r!==n&&r.form===n.form){var i=QO(r);if(!i)throw Error(we(90));c4(r),IM(r,i)}}}break;case"textarea":p4(n,e);break;case"select":t=e.value,t!=null&&jv(n,!!e.multiple,t,!1)}};C4=j1;S4=Kh;var Lie={usingClientEntryPoint:!1,Events:[yw,Sv,QO,y4,m4,j1]},by={findFiberByHostInstance:vh,bundleType:0,version:"18.2.0",rendererPackageName:"react-dom"},Fie={bundleType:by.bundleType,version:by.version,rendererPackageName:by.rendererPackageName,rendererConfig:by.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:hc.ReactCurrentDispatcher,findHostInstanceByFiber:function(n){return n=x4(n),n===null?null:n.stateNode},findFiberByHostInstance:by.findFiberByHostInstance||Die,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.2.0-next-9e3b772b8-20220608"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var I0=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!I0.isDisabled&&I0.supportsFiber)try{YO=I0.inject(Fie),Hl=I0}catch{}}pa.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Lie;pa.createPortal=function(n,t){var e=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!X1(t))throw Error(we(200));return Aie(n,t,null,e)};pa.createRoot=function(n,t){if(!X1(n))throw Error(we(299));var e=!1,r="",i=rK;return t!=null&&(t.unstable_strictMode===!0&&(e=!0),t.identifierPrefix!==void 0&&(r=t.identifierPrefix),t.onRecoverableError!==void 0&&(i=t.onRecoverableError)),t=z1(n,1,!1,null,null,e,!1,r,i),n[Yu]=t.current,rS(n.nodeType===8?n.parentNode:n),new Y1(t)};pa.findDOMNode=function(n){if(n==null)return null;if(n.nodeType===1)return n;var t=n._reactInternals;if(t===void 0)throw typeof n.render=="function"?Error(we(188)):(n=Object.keys(n).join(","),Error(we(268,n)));return n=x4(t),n=n===null?null:n.stateNode,n};pa.flushSync=function(n){return Kh(n)};pa.hydrate=function(n,t,e){if(!sR(t))throw Error(we(200));return lR(null,n,t,!0,e)};pa.hydrateRoot=function(n,t,e){if(!X1(n))throw Error(we(405));var r=e!=null&&e.hydratedSources||null,i=!1,o="",a=rK;if(e!=null&&(e.unstable_strictMode===!0&&(i=!0),e.identifierPrefix!==void 0&&(o=e.identifierPrefix),e.onRecoverableError!==void 0&&(a=e.onRecoverableError)),t=tK(t,null,n,1,e??null,i,!1,o,a),n[Yu]=t.current,rS(n),r)for(n=0;n<r.length;n++)e=r[n],i=e._getVersion,i=i(e._source),t.mutableSourceEagerHydrationData==null?t.mutableSourceEagerHydrationData=[e,i]:t.mutableSourceEagerHydrationData.push(e,i);return new aR(t)};pa.render=function(n,t,e){if(!sR(t))throw Error(we(200));return lR(null,n,t,!1,e)};pa.unmountComponentAtNode=function(n){if(!sR(n))throw Error(we(40));return n._reactRootContainer?(Kh(function(){lR(null,null,n,!1,function(){n._reactRootContainer=null,n[Yu]=null})}),!0):!1};pa.unstable_batchedUpdates=j1;pa.unstable_renderSubtreeIntoContainer=function(n,t,e,r){if(!sR(e))throw Error(we(200));if(n==null||n._reactInternals===void 0)throw Error(we(38));return lR(n,t,e,!1,r)};pa.version="18.2.0-next-9e3b772b8-20220608";function nK(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(nK)}catch(n){console.error(n)}}nK(),t4.exports=pa;var uf=t4.exports;const N0=t1(uf);var vH=uf;TM.createRoot=vH.createRoot,TM.hydrateRoot=vH.hydrateRoot;/**
 * @remix-run/router v1.15.2
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function dS(){return dS=Object.assign?Object.assign.bind():function(n){for(var t=1;t<arguments.length;t++){var e=arguments[t];for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(n[r]=e[r])}return n},dS.apply(this,arguments)}var vd;(function(n){n.Pop="POP",n.Push="PUSH",n.Replace="REPLACE"})(vd||(vd={}));const gH="popstate";function Iie(n){n===void 0&&(n={});function t(i,o){let{pathname:a="/",search:s="",hash:l=""}=cf(i.location.hash.substr(1));return!a.startsWith("/")&&!a.startsWith(".")&&(a="/"+a),wL("",{pathname:a,search:s,hash:l},o.state&&o.state.usr||null,o.state&&o.state.key||"default")}function e(i,o){let a=i.document.querySelector("base"),s="";if(a&&a.getAttribute("href")){let l=i.location.href,u=l.indexOf("#");s=u===-1?l:l.slice(0,u)}return s+"#"+(typeof o=="string"?o:QE(o))}function r(i,o){q1(i.pathname.charAt(0)==="/","relative pathnames are not supported in hash history.push("+JSON.stringify(o)+")")}return kie(t,e,r,n)}function dn(n,t){if(n===!1||n===null||typeof n>"u")throw new Error(t)}function q1(n,t){if(!n){typeof console<"u"&&console.warn(t);try{throw new Error(t)}catch{}}}function Nie(){return Math.random().toString(36).substr(2,8)}function yH(n,t){return{usr:n.state,key:n.key,idx:t}}function wL(n,t,e,r){return e===void 0&&(e=null),dS({pathname:typeof n=="string"?n:n.pathname,search:"",hash:""},typeof t=="string"?cf(t):t,{state:e,key:t&&t.key||r||Nie()})}function QE(n){let{pathname:t="/",search:e="",hash:r=""}=n;return e&&e!=="?"&&(t+=e.charAt(0)==="?"?e:"?"+e),r&&r!=="#"&&(t+=r.charAt(0)==="#"?r:"#"+r),t}function cf(n){let t={};if(n){let e=n.indexOf("#");e>=0&&(t.hash=n.substr(e),n=n.substr(0,e));let r=n.indexOf("?");r>=0&&(t.search=n.substr(r),n=n.substr(0,r)),n&&(t.pathname=n)}return t}function kie(n,t,e,r){r===void 0&&(r={});let{window:i=document.defaultView,v5Compat:o=!1}=r,a=i.history,s=vd.Pop,l=null,u=c();u==null&&(u=0,a.replaceState(dS({},a.state,{idx:u}),""));function c(){return(a.state||{idx:null}).idx}function d(){s=vd.Pop;let g=c(),y=g==null?null:g-u;u=g,l&&l({action:s,location:v.location,delta:y})}function p(g,y){s=vd.Push;let m=wL(v.location,g,y);e&&e(m,g),u=c()+1;let C=yH(m,u),S=v.createHref(m);try{a.pushState(C,"",S)}catch(w){if(w instanceof DOMException&&w.name==="DataCloneError")throw w;i.location.assign(S)}o&&l&&l({action:s,location:v.location,delta:1})}function h(g,y){s=vd.Replace;let m=wL(v.location,g,y);e&&e(m,g),u=c();let C=yH(m,u),S=v.createHref(m);a.replaceState(C,"",S),o&&l&&l({action:s,location:v.location,delta:0})}function f(g){let y=i.location.origin!=="null"?i.location.origin:i.location.href,m=typeof g=="string"?g:QE(g);return m=m.replace(/ $/,"%20"),dn(y,"No window.location.(origin|href) available to create URL for href: "+m),new URL(m,y)}let v={get action(){return s},get location(){return n(i,a)},listen(g){if(l)throw new Error("A history only accepts one active listener");return i.addEventListener(gH,d),l=g,()=>{i.removeEventListener(gH,d),l=null}},createHref(g){return t(i,g)},createURL:f,encodeLocation(g){let y=f(g);return{pathname:y.pathname,search:y.search,hash:y.hash}},push:p,replace:h,go(g){return a.go(g)}};return v}var mH;(function(n){n.data="data",n.deferred="deferred",n.redirect="redirect",n.error="error"})(mH||(mH={}));function Gie(n,t,e){e===void 0&&(e="/");let r=typeof t=="string"?cf(t):t,i=Z1(r.pathname||"/",e);if(i==null)return null;let o=iK(n);Vie(o);let a=null;for(let s=0;a==null&&s<o.length;++s){let l=Zie(i);a=Yie(o[s],l)}return a}function iK(n,t,e,r){t===void 0&&(t=[]),e===void 0&&(e=[]),r===void 0&&(r="");let i=(o,a,s)=>{let l={relativePath:s===void 0?o.path||"":s,caseSensitive:o.caseSensitive===!0,childrenIndex:a,route:o};l.relativePath.startsWith("/")&&(dn(l.relativePath.startsWith(r),'Absolute route path "'+l.relativePath+'" nested under path '+('"'+r+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),l.relativePath=l.relativePath.slice(r.length));let u=Md([r,l.relativePath]),c=e.concat(l);o.children&&o.children.length>0&&(dn(o.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+u+'".')),iK(o.children,t,c,u)),!(o.path==null&&!o.index)&&t.push({path:u,score:zie(u,o.index),routesMeta:c})};return n.forEach((o,a)=>{var s;if(o.path===""||!((s=o.path)!=null&&s.includes("?")))i(o,a);else for(let l of oK(o.path))i(o,a,l)}),t}function oK(n){let t=n.split("/");if(t.length===0)return[];let[e,...r]=t,i=e.endsWith("?"),o=e.replace(/\?$/,"");if(r.length===0)return i?[o,""]:[o];let a=oK(r.join("/")),s=[];return s.push(...a.map(l=>l===""?o:[o,l].join("/"))),i&&s.push(...a),s.map(l=>n.startsWith("/")&&l===""?"/":l)}function Vie(n){n.sort((t,e)=>t.score!==e.score?e.score-t.score:Kie(t.routesMeta.map(r=>r.childrenIndex),e.routesMeta.map(r=>r.childrenIndex)))}const Bie=/^:[\w-]+$/,Hie=3,jie=2,$ie=1,Wie=10,Uie=-2,CH=n=>n==="*";function zie(n,t){let e=n.split("/"),r=e.length;return e.some(CH)&&(r+=Uie),t&&(r+=jie),e.filter(i=>!CH(i)).reduce((i,o)=>i+(Bie.test(o)?Hie:o===""?$ie:Wie),r)}function Kie(n,t){return n.length===t.length&&n.slice(0,-1).every((r,i)=>r===t[i])?n[n.length-1]-t[t.length-1]:0}function Yie(n,t){let{routesMeta:e}=n,r={},i="/",o=[];for(let a=0;a<e.length;++a){let s=e[a],l=a===e.length-1,u=i==="/"?t:t.slice(i.length)||"/",c=Xie({path:s.relativePath,caseSensitive:s.caseSensitive,end:l},u);if(!c)return null;Object.assign(r,c.params);let d=s.route;o.push({params:r,pathname:Md([i,c.pathname]),pathnameBase:toe(Md([i,c.pathnameBase])),route:d}),c.pathnameBase!=="/"&&(i=Md([i,c.pathnameBase]))}return o}function Xie(n,t){typeof n=="string"&&(n={path:n,caseSensitive:!1,end:!0});let[e,r]=qie(n.path,n.caseSensitive,n.end),i=t.match(e);if(!i)return null;let o=i[0],a=o.replace(/(.)\/+$/,"$1"),s=i.slice(1);return{params:r.reduce((u,c,d)=>{let{paramName:p,isOptional:h}=c;if(p==="*"){let v=s[d]||"";a=o.slice(0,o.length-v.length).replace(/(.)\/+$/,"$1")}const f=s[d];return h&&!f?u[p]=void 0:u[p]=(f||"").replace(/%2F/g,"/"),u},{}),pathname:o,pathnameBase:a,pattern:n}}function qie(n,t,e){t===void 0&&(t=!1),e===void 0&&(e=!0),q1(n==="*"||!n.endsWith("*")||n.endsWith("/*"),'Route path "'+n+'" will be treated as if it were '+('"'+n.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+n.replace(/\*$/,"/*")+'".'));let r=[],i="^"+n.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(a,s,l)=>(r.push({paramName:s,isOptional:l!=null}),l?"/?([^\\/]+)?":"/([^\\/]+)"));return n.endsWith("*")?(r.push({paramName:"*"}),i+=n==="*"||n==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):e?i+="\\/*$":n!==""&&n!=="/"&&(i+="(?:(?=\\/|$))"),[new RegExp(i,t?void 0:"i"),r]}function Zie(n){try{return n.split("/").map(t=>decodeURIComponent(t).replace(/\//g,"%2F")).join("/")}catch(t){return q1(!1,'The URL path "'+n+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+t+").")),n}}function Z1(n,t){if(t==="/")return n;if(!n.toLowerCase().startsWith(t.toLowerCase()))return null;let e=t.endsWith("/")?t.length-1:t.length,r=n.charAt(e);return r&&r!=="/"?null:n.slice(e)||"/"}function Qie(n,t){t===void 0&&(t="/");let{pathname:e,search:r="",hash:i=""}=typeof n=="string"?cf(n):n;return{pathname:e?e.startsWith("/")?e:Jie(e,t):t,search:roe(r),hash:noe(i)}}function Jie(n,t){let e=t.replace(/\/+$/,"").split("/");return n.split("/").forEach(i=>{i===".."?e.length>1&&e.pop():i!=="."&&e.push(i)}),e.length>1?e.join("/"):"/"}function UP(n,t,e,r){return"Cannot include a '"+n+"' character in a manually specified "+("`to."+t+"` field ["+JSON.stringify(r)+"].  Please separate it out to the ")+("`to."+e+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function eoe(n){return n.filter((t,e)=>e===0||t.route.path&&t.route.path.length>0)}function aK(n,t){let e=eoe(n);return t?e.map((r,i)=>i===n.length-1?r.pathname:r.pathnameBase):e.map(r=>r.pathnameBase)}function sK(n,t,e,r){r===void 0&&(r=!1);let i;typeof n=="string"?i=cf(n):(i=dS({},n),dn(!i.pathname||!i.pathname.includes("?"),UP("?","pathname","search",i)),dn(!i.pathname||!i.pathname.includes("#"),UP("#","pathname","hash",i)),dn(!i.search||!i.search.includes("#"),UP("#","search","hash",i)));let o=n===""||i.pathname==="",a=o?"/":i.pathname,s;if(a==null)s=e;else{let d=t.length-1;if(!r&&a.startsWith("..")){let p=a.split("/");for(;p[0]==="..";)p.shift(),d-=1;i.pathname=p.join("/")}s=d>=0?t[d]:"/"}let l=Qie(i,s),u=a&&a!=="/"&&a.endsWith("/"),c=(o||a===".")&&e.endsWith("/");return!l.pathname.endsWith("/")&&(u||c)&&(l.pathname+="/"),l}const Md=n=>n.join("/").replace(/\/\/+/g,"/"),toe=n=>n.replace(/\/+$/,"").replace(/^\/*/,"/"),roe=n=>!n||n==="?"?"":n.startsWith("?")?n:"?"+n,noe=n=>!n||n==="#"?"":n.startsWith("#")?n:"#"+n;function ioe(n){return n!=null&&typeof n.status=="number"&&typeof n.statusText=="string"&&typeof n.internal=="boolean"&&"data"in n}const lK=["post","put","patch","delete"];new Set(lK);const ooe=["get",...lK];new Set(ooe);/**
 * React Router v6.22.2
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function pS(){return pS=Object.assign?Object.assign.bind():function(n){for(var t=1;t<arguments.length;t++){var e=arguments[t];for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(n[r]=e[r])}return n},pS.apply(this,arguments)}const Q1=F.createContext(null),aoe=F.createContext(null),df=F.createContext(null),uR=F.createContext(null),ip=F.createContext({outlet:null,matches:[],isDataRoute:!1}),uK=F.createContext(null);function soe(n,t){let{relative:e}=t===void 0?{}:t;Cw()||dn(!1);let{basename:r,navigator:i}=F.useContext(df),{hash:o,pathname:a,search:s}=dK(n,{relative:e}),l=a;return r!=="/"&&(l=a==="/"?r:Md([r,a])),i.createHref({pathname:l,search:s,hash:o})}function Cw(){return F.useContext(uR)!=null}function Sw(){return Cw()||dn(!1),F.useContext(uR).location}function cK(n){F.useContext(df).static||F.useLayoutEffect(n)}function loe(){let{isDataRoute:n}=F.useContext(ip);return n?_oe():uoe()}function uoe(){Cw()||dn(!1);let n=F.useContext(Q1),{basename:t,future:e,navigator:r}=F.useContext(df),{matches:i}=F.useContext(ip),{pathname:o}=Sw(),a=JSON.stringify(aK(i,e.v7_relativeSplatPath)),s=F.useRef(!1);return cK(()=>{s.current=!0}),F.useCallback(function(u,c){if(c===void 0&&(c={}),!s.current)return;if(typeof u=="number"){r.go(u);return}let d=sK(u,JSON.parse(a),o,c.relative==="path");n==null&&t!=="/"&&(d.pathname=d.pathname==="/"?t:Md([t,d.pathname])),(c.replace?r.replace:r.push)(d,c.state,c)},[t,r,a,o,n])}function coe(){let{matches:n}=F.useContext(ip),t=n[n.length-1];return t?t.params:{}}function dK(n,t){let{relative:e}=t===void 0?{}:t,{future:r}=F.useContext(df),{matches:i}=F.useContext(ip),{pathname:o}=Sw(),a=JSON.stringify(aK(i,r.v7_relativeSplatPath));return F.useMemo(()=>sK(n,JSON.parse(a),o,e==="path"),[n,a,o,e])}function doe(n,t){return poe(n,t)}function poe(n,t,e,r){Cw()||dn(!1);let{navigator:i}=F.useContext(df),{matches:o}=F.useContext(ip),a=o[o.length-1],s=a?a.params:{};a&&a.pathname;let l=a?a.pathnameBase:"/";a&&a.route;let u=Sw(),c;if(t){var d;let g=typeof t=="string"?cf(t):t;l==="/"||(d=g.pathname)!=null&&d.startsWith(l)||dn(!1),c=g}else c=u;let p=c.pathname||"/",h=p;if(l!=="/"){let g=l.replace(/^\//,"").split("/");h="/"+p.replace(/^\//,"").split("/").slice(g.length).join("/")}let f=Gie(n,{pathname:h}),v=yoe(f&&f.map(g=>Object.assign({},g,{params:Object.assign({},s,g.params),pathname:Md([l,i.encodeLocation?i.encodeLocation(g.pathname).pathname:g.pathname]),pathnameBase:g.pathnameBase==="/"?l:Md([l,i.encodeLocation?i.encodeLocation(g.pathnameBase).pathname:g.pathnameBase])})),o,e,r);return t&&v?F.createElement(uR.Provider,{value:{location:pS({pathname:"/",search:"",hash:"",state:null,key:"default"},c),navigationType:vd.Pop}},v):v}function hoe(){let n=woe(),t=ioe(n)?n.status+" "+n.statusText:n instanceof Error?n.message:JSON.stringify(n),e=n instanceof Error?n.stack:null,i={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return F.createElement(F.Fragment,null,F.createElement("h2",null,"Unexpected Application Error!"),F.createElement("h3",{style:{fontStyle:"italic"}},t),e?F.createElement("pre",{style:i},e):null,null)}const foe=F.createElement(hoe,null);class voe extends F.Component{constructor(t){super(t),this.state={location:t.location,revalidation:t.revalidation,error:t.error}}static getDerivedStateFromError(t){return{error:t}}static getDerivedStateFromProps(t,e){return e.location!==t.location||e.revalidation!=="idle"&&t.revalidation==="idle"?{error:t.error,location:t.location,revalidation:t.revalidation}:{error:t.error!==void 0?t.error:e.error,location:e.location,revalidation:t.revalidation||e.revalidation}}componentDidCatch(t,e){console.error("React Router caught the following error during render",t,e)}render(){return this.state.error!==void 0?F.createElement(ip.Provider,{value:this.props.routeContext},F.createElement(uK.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function goe(n){let{routeContext:t,match:e,children:r}=n,i=F.useContext(Q1);return i&&i.static&&i.staticContext&&(e.route.errorElement||e.route.ErrorBoundary)&&(i.staticContext._deepestRenderedBoundaryId=e.route.id),F.createElement(ip.Provider,{value:t},r)}function yoe(n,t,e,r){var i;if(t===void 0&&(t=[]),e===void 0&&(e=null),r===void 0&&(r=null),n==null){var o;if((o=e)!=null&&o.errors)n=e.matches;else return null}let a=n,s=(i=e)==null?void 0:i.errors;if(s!=null){let c=a.findIndex(d=>d.route.id&&(s==null?void 0:s[d.route.id]));c>=0||dn(!1),a=a.slice(0,Math.min(a.length,c+1))}let l=!1,u=-1;if(e&&r&&r.v7_partialHydration)for(let c=0;c<a.length;c++){let d=a[c];if((d.route.HydrateFallback||d.route.hydrateFallbackElement)&&(u=c),d.route.id){let{loaderData:p,errors:h}=e,f=d.route.loader&&p[d.route.id]===void 0&&(!h||h[d.route.id]===void 0);if(d.route.lazy||f){l=!0,u>=0?a=a.slice(0,u+1):a=[a[0]];break}}}return a.reduceRight((c,d,p)=>{let h,f=!1,v=null,g=null;e&&(h=s&&d.route.id?s[d.route.id]:void 0,v=d.route.errorElement||foe,l&&(u<0&&p===0?(xoe("route-fallback",!1),f=!0,g=null):u===p&&(f=!0,g=d.route.hydrateFallbackElement||null)));let y=t.concat(a.slice(0,p+1)),m=()=>{let C;return h?C=v:f?C=g:d.route.Component?C=F.createElement(d.route.Component,null):d.route.element?C=d.route.element:C=c,F.createElement(goe,{match:d,routeContext:{outlet:c,matches:y,isDataRoute:e!=null},children:C})};return e&&(d.route.ErrorBoundary||d.route.errorElement||p===0)?F.createElement(voe,{location:e.location,revalidation:e.revalidation,component:v,error:h,children:m(),routeContext:{outlet:null,matches:y,isDataRoute:!0}}):m()},null)}var pK=function(n){return n.UseBlocker="useBlocker",n.UseRevalidator="useRevalidator",n.UseNavigateStable="useNavigate",n}(pK||{}),JE=function(n){return n.UseBlocker="useBlocker",n.UseLoaderData="useLoaderData",n.UseActionData="useActionData",n.UseRouteError="useRouteError",n.UseNavigation="useNavigation",n.UseRouteLoaderData="useRouteLoaderData",n.UseMatches="useMatches",n.UseRevalidator="useRevalidator",n.UseNavigateStable="useNavigate",n.UseRouteId="useRouteId",n}(JE||{});function moe(n){let t=F.useContext(Q1);return t||dn(!1),t}function Coe(n){let t=F.useContext(aoe);return t||dn(!1),t}function Soe(n){let t=F.useContext(ip);return t||dn(!1),t}function hK(n){let t=Soe(),e=t.matches[t.matches.length-1];return e.route.id||dn(!1),e.route.id}function woe(){var n;let t=F.useContext(uK),e=Coe(JE.UseRouteError),r=hK(JE.UseRouteError);return t!==void 0?t:(n=e.errors)==null?void 0:n[r]}function _oe(){let{router:n}=moe(pK.UseNavigateStable),t=hK(JE.UseNavigateStable),e=F.useRef(!1);return cK(()=>{e.current=!0}),F.useCallback(function(i,o){o===void 0&&(o={}),e.current&&(typeof i=="number"?n.navigate(i):n.navigate(i,pS({fromRouteId:t},o)))},[n,t])}const SH={};function xoe(n,t,e){!t&&!SH[n]&&(SH[n]=!0)}function _L(n){dn(!1)}function Eoe(n){let{basename:t="/",children:e=null,location:r,navigationType:i=vd.Pop,navigator:o,static:a=!1,future:s}=n;Cw()&&dn(!1);let l=t.replace(/^\/*/,"/"),u=F.useMemo(()=>({basename:l,navigator:o,static:a,future:pS({v7_relativeSplatPath:!1},s)}),[l,s,o,a]);typeof r=="string"&&(r=cf(r));let{pathname:c="/",search:d="",hash:p="",state:h=null,key:f="default"}=r,v=F.useMemo(()=>{let g=Z1(c,l);return g==null?null:{location:{pathname:g,search:d,hash:p,state:h,key:f},navigationType:i}},[l,c,d,p,h,f,i]);return v==null?null:F.createElement(df.Provider,{value:u},F.createElement(uR.Provider,{children:e,value:v}))}function boe(n){let{children:t,location:e}=n;return doe(xL(t),e)}new Promise(()=>{});function xL(n,t){t===void 0&&(t=[]);let e=[];return F.Children.forEach(n,(r,i)=>{if(!F.isValidElement(r))return;let o=[...t,i];if(r.type===F.Fragment){e.push.apply(e,xL(r.props.children,o));return}r.type!==_L&&dn(!1),!r.props.index||!r.props.children||dn(!1);let a={id:r.props.id||o.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,Component:r.props.Component,index:r.props.index,path:r.props.path,loader:r.props.loader,action:r.props.action,errorElement:r.props.errorElement,ErrorBoundary:r.props.ErrorBoundary,hasErrorBoundary:r.props.ErrorBoundary!=null||r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle,lazy:r.props.lazy};r.props.children&&(a.children=xL(r.props.children,o)),e.push(a)}),e}/**
 * React Router DOM v6.22.2
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function EL(){return EL=Object.assign?Object.assign.bind():function(n){for(var t=1;t<arguments.length;t++){var e=arguments[t];for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(n[r]=e[r])}return n},EL.apply(this,arguments)}function Ooe(n,t){if(n==null)return{};var e={},r=Object.keys(n),i,o;for(o=0;o<r.length;o++)i=r[o],!(t.indexOf(i)>=0)&&(e[i]=n[i]);return e}function Roe(n){return!!(n.metaKey||n.altKey||n.ctrlKey||n.shiftKey)}function Toe(n,t){return n.button===0&&(!t||t==="_self")&&!Roe(n)}const Poe=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","unstable_viewTransition"],Aoe="6";try{window.__reactRouterVersion=Aoe}catch{}const Doe="startTransition",wH=RE[Doe];function Moe(n){let{basename:t,children:e,future:r,window:i}=n,o=F.useRef();o.current==null&&(o.current=Iie({window:i,v5Compat:!0}));let a=o.current,[s,l]=F.useState({action:a.action,location:a.location}),{v7_startTransition:u}=r||{},c=F.useCallback(d=>{u&&wH?wH(()=>l(d)):l(d)},[l,u]);return F.useLayoutEffect(()=>a.listen(c),[a,c]),F.createElement(Eoe,{basename:t,children:e,location:s.location,navigationType:s.action,navigator:a,future:r})}const Loe=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",Foe=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,fK=F.forwardRef(function(t,e){let{onClick:r,relative:i,reloadDocument:o,replace:a,state:s,target:l,to:u,preventScrollReset:c,unstable_viewTransition:d}=t,p=Ooe(t,Poe),{basename:h}=F.useContext(df),f,v=!1;if(typeof u=="string"&&Foe.test(u)&&(f=u,Loe))try{let C=new URL(window.location.href),S=u.startsWith("//")?new URL(C.protocol+u):new URL(u),w=Z1(S.pathname,h);S.origin===C.origin&&w!=null?u=w+S.search+S.hash:v=!0}catch{}let g=soe(u,{relative:i}),y=Ioe(u,{replace:a,state:s,target:l,preventScrollReset:c,relative:i,unstable_viewTransition:d});function m(C){r&&r(C),C.defaultPrevented||y(C)}return F.createElement("a",EL({},p,{href:f||g,onClick:v||o?r:m,ref:e,target:l}))});var _H;(function(n){n.UseScrollRestoration="useScrollRestoration",n.UseSubmit="useSubmit",n.UseSubmitFetcher="useSubmitFetcher",n.UseFetcher="useFetcher",n.useViewTransitionState="useViewTransitionState"})(_H||(_H={}));var xH;(function(n){n.UseFetcher="useFetcher",n.UseFetchers="useFetchers",n.UseScrollRestoration="useScrollRestoration"})(xH||(xH={}));function Ioe(n,t){let{target:e,replace:r,state:i,preventScrollReset:o,relative:a,unstable_viewTransition:s}=t===void 0?{}:t,l=loe(),u=Sw(),c=dK(n,{relative:a});return F.useCallback(d=>{if(Toe(d,e)){d.preventDefault();let p=r!==void 0?r:QE(u)===QE(c);l(n,{replace:p,state:i,preventScrollReset:o,relative:a,unstable_viewTransition:s})}},[u,l,c,r,i,e,n,o,a,s])}var J1={},vK={exports:{}};(function(n){function t(e){return e&&e.__esModule?e:{default:e}}n.exports=t,n.exports.__esModule=!0,n.exports.default=n.exports})(vK);var fc=vK.exports,zP={};function B(){return B=Object.assign?Object.assign.bind():function(n){for(var t=1;t<arguments.length;t++){var e=arguments[t];for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(n[r]=e[r])}return n},B.apply(this,arguments)}function ud(n){if(typeof n!="object"||n===null)return!1;const t=Object.getPrototypeOf(n);return(t===null||t===Object.prototype||Object.getPrototypeOf(t)===null)&&!(Symbol.toStringTag in n)&&!(Symbol.iterator in n)}function gK(n){if(!ud(n))return n;const t={};return Object.keys(n).forEach(e=>{t[e]=gK(n[e])}),t}function $l(n,t,e={clone:!0}){const r=e.clone?B({},n):n;return ud(n)&&ud(t)&&Object.keys(t).forEach(i=>{i!=="__proto__"&&(ud(t[i])&&i in n&&ud(n[i])?r[i]=$l(n[i],t[i],e):e.clone?r[i]=ud(t[i])?gK(t[i]):t[i]:r[i]=t[i])}),r}const Noe=Object.freeze(Object.defineProperty({__proto__:null,default:$l,isPlainObject:ud},Symbol.toStringTag,{value:"Module"}));var yK={exports:{}},koe="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED",Goe=koe,Voe=Goe;function mK(){}function CK(){}CK.resetWarningCache=mK;var Boe=function(){function n(r,i,o,a,s,l){if(l!==Voe){var u=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw u.name="Invariant Violation",u}}n.isRequired=n;function t(){return n}var e={array:n,bigint:n,bool:n,func:n,number:n,object:n,string:n,symbol:n,any:n,arrayOf:t,element:n,elementType:n,instanceOf:t,node:n,objectOf:t,oneOf:t,oneOfType:t,shape:t,exact:t,checkPropTypes:CK,resetWarningCache:mK};return e.PropTypes=e,e};yK.exports=Boe();var Hoe=yK.exports;const Je=t1(Hoe);function hS(n){let t="https://mui.com/production-error/?code="+n;for(let e=1;e<arguments.length;e+=1)t+="&args[]="+encodeURIComponent(arguments[e]);return"Minified MUI error #"+n+"; visit "+t+" for the full message."}const joe=Object.freeze(Object.defineProperty({__proto__:null,default:hS},Symbol.toStringTag,{value:"Module"}));var SK={exports:{}},tr={};/**
 * @license React
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var eN=Symbol.for("react.element"),tN=Symbol.for("react.portal"),cR=Symbol.for("react.fragment"),dR=Symbol.for("react.strict_mode"),pR=Symbol.for("react.profiler"),hR=Symbol.for("react.provider"),fR=Symbol.for("react.context"),$oe=Symbol.for("react.server_context"),vR=Symbol.for("react.forward_ref"),gR=Symbol.for("react.suspense"),yR=Symbol.for("react.suspense_list"),mR=Symbol.for("react.memo"),CR=Symbol.for("react.lazy"),Woe=Symbol.for("react.offscreen"),wK;wK=Symbol.for("react.module.reference");function ns(n){if(typeof n=="object"&&n!==null){var t=n.$$typeof;switch(t){case eN:switch(n=n.type,n){case cR:case pR:case dR:case gR:case yR:return n;default:switch(n=n&&n.$$typeof,n){case $oe:case fR:case vR:case CR:case mR:case hR:return n;default:return t}}case tN:return t}}}tr.ContextConsumer=fR;tr.ContextProvider=hR;tr.Element=eN;tr.ForwardRef=vR;tr.Fragment=cR;tr.Lazy=CR;tr.Memo=mR;tr.Portal=tN;tr.Profiler=pR;tr.StrictMode=dR;tr.Suspense=gR;tr.SuspenseList=yR;tr.isAsyncMode=function(){return!1};tr.isConcurrentMode=function(){return!1};tr.isContextConsumer=function(n){return ns(n)===fR};tr.isContextProvider=function(n){return ns(n)===hR};tr.isElement=function(n){return typeof n=="object"&&n!==null&&n.$$typeof===eN};tr.isForwardRef=function(n){return ns(n)===vR};tr.isFragment=function(n){return ns(n)===cR};tr.isLazy=function(n){return ns(n)===CR};tr.isMemo=function(n){return ns(n)===mR};tr.isPortal=function(n){return ns(n)===tN};tr.isProfiler=function(n){return ns(n)===pR};tr.isStrictMode=function(n){return ns(n)===dR};tr.isSuspense=function(n){return ns(n)===gR};tr.isSuspenseList=function(n){return ns(n)===yR};tr.isValidElementType=function(n){return typeof n=="string"||typeof n=="function"||n===cR||n===pR||n===dR||n===gR||n===yR||n===Woe||typeof n=="object"&&n!==null&&(n.$$typeof===CR||n.$$typeof===mR||n.$$typeof===hR||n.$$typeof===fR||n.$$typeof===vR||n.$$typeof===wK||n.getModuleId!==void 0)};tr.typeOf=ns;SK.exports=tr;var EH=SK.exports;const Uoe=/^\s*function(?:\s|\s*\/\*.*\*\/\s*)+([^(\s/]*)\s*/;function _K(n){const t=`${n}`.match(Uoe);return t&&t[1]||""}function xK(n,t=""){return n.displayName||n.name||_K(n)||t}function bH(n,t,e){const r=xK(t);return n.displayName||(r!==""?`${e}(${r})`:e)}function zoe(n){if(n!=null){if(typeof n=="string")return n;if(typeof n=="function")return xK(n,"Component");if(typeof n=="object")switch(n.$$typeof){case EH.ForwardRef:return bH(n,n.render,"ForwardRef");case EH.Memo:return bH(n,n.type,"memo");default:return}}}const Koe=Object.freeze(Object.defineProperty({__proto__:null,default:zoe,getFunctionName:_K},Symbol.toStringTag,{value:"Module"}));function Ue(n){if(typeof n!="string")throw new Error(hS(7));return n.charAt(0).toUpperCase()+n.slice(1)}const Yoe=Object.freeze(Object.defineProperty({__proto__:null,default:Ue},Symbol.toStringTag,{value:"Module"}));function Xoe(...n){return n.reduce((t,e)=>e==null?t:function(...i){t.apply(this,i),e.apply(this,i)},()=>{})}function rN(n,t=166){let e;function r(...i){const o=()=>{n.apply(this,i)};clearTimeout(e),e=setTimeout(o,t)}return r.clear=()=>{clearTimeout(e)},r}function qoe(n,t){return()=>null}function Zoe(n,t){var e,r;return F.isValidElement(n)&&t.indexOf((e=n.type.muiName)!=null?e:(r=n.type)==null||(r=r._payload)==null||(r=r.value)==null?void 0:r.muiName)!==-1}function Ld(n){return n&&n.ownerDocument||document}function SR(n){return Ld(n).defaultView||window}function Qoe(n,t){return()=>null}function eb(n,t){typeof n=="function"?n(t):n&&(n.current=t)}const Ql=typeof window<"u"?F.useLayoutEffect:F.useEffect;let OH=0;function Joe(n){const[t,e]=F.useState(n),r=n||t;return F.useEffect(()=>{t==null&&(OH+=1,e(`mui-${OH}`))},[t]),r}const RH=RE.useId;function nN(n){if(RH!==void 0){const t=RH();return n??t}return Joe(n)}function eae(n,t,e,r,i){return null}function tae({controlled:n,default:t,name:e,state:r="value"}){const{current:i}=F.useRef(n!==void 0),[o,a]=F.useState(t),s=i?n:o,l=F.useCallback(u=>{i||a(u)},[]);return[s,l]}function Rs(n){const t=F.useRef(n);return Ql(()=>{t.current=n}),F.useRef((...e)=>(0,t.current)(...e)).current}function ks(...n){return F.useMemo(()=>n.every(t=>t==null)?null:t=>{n.forEach(e=>{eb(e,t)})},n)}const TH={};function rae(n,t){const e=F.useRef(TH);return e.current===TH&&(e.current=n(t)),e}const nae=[];function iae(n){F.useEffect(n,nae)}class wR{constructor(){this.currentId=null,this.clear=()=>{this.currentId!==null&&(clearTimeout(this.currentId),this.currentId=null)},this.disposeEffect=()=>this.clear}static create(){return new wR}start(t,e){this.clear(),this.currentId=setTimeout(()=>{this.currentId=null,e()},t)}}function iN(){const n=rae(wR.create).current;return iae(n.disposeEffect),n}let _R=!0,bL=!1;const oae=new wR,aae={text:!0,search:!0,url:!0,tel:!0,email:!0,password:!0,number:!0,date:!0,month:!0,week:!0,time:!0,datetime:!0,"datetime-local":!0};function sae(n){const{type:t,tagName:e}=n;return!!(e==="INPUT"&&aae[t]&&!n.readOnly||e==="TEXTAREA"&&!n.readOnly||n.isContentEditable)}function lae(n){n.metaKey||n.altKey||n.ctrlKey||(_R=!0)}function KP(){_R=!1}function uae(){this.visibilityState==="hidden"&&bL&&(_R=!0)}function cae(n){n.addEventListener("keydown",lae,!0),n.addEventListener("mousedown",KP,!0),n.addEventListener("pointerdown",KP,!0),n.addEventListener("touchstart",KP,!0),n.addEventListener("visibilitychange",uae,!0)}function dae(n){const{target:t}=n;try{return t.matches(":focus-visible")}catch{}return _R||sae(t)}function EK(){const n=F.useCallback(i=>{i!=null&&cae(i.ownerDocument)},[]),t=F.useRef(!1);function e(){return t.current?(bL=!0,oae.start(100,()=>{bL=!1}),t.current=!1,!0):!1}function r(i){return dae(i)?(t.current=!0,!0):!1}return{isFocusVisibleRef:t,onFocus:r,onBlur:e,ref:n}}let Pf;function bK(){if(Pf)return Pf;const n=document.createElement("div"),t=document.createElement("div");return t.style.width="10px",t.style.height="1px",n.appendChild(t),n.dir="rtl",n.style.fontSize="14px",n.style.width="4px",n.style.height="1px",n.style.position="absolute",n.style.top="-1000px",n.style.overflow="scroll",document.body.appendChild(n),Pf="reverse",n.scrollLeft>0?Pf="default":(n.scrollLeft=1,n.scrollLeft===0&&(Pf="negative")),document.body.removeChild(n),Pf}function pae(n,t){const e=n.scrollLeft;if(t!=="rtl")return e;switch(bK()){case"negative":return n.scrollWidth-n.clientWidth+e;case"reverse":return n.scrollWidth-n.clientWidth-e;default:return e}}function hae(n){return F.Children.toArray(n).filter(t=>F.isValidElement(t))}function oN(n,t){const e=B({},t);return Object.keys(n).forEach(r=>{if(r.toString().match(/^(components|slots)$/))e[r]=B({},n[r],e[r]);else if(r.toString().match(/^(componentsProps|slotProps)$/)){const i=n[r]||{},o=t[r];e[r]={},!o||!Object.keys(o)?e[r]=i:!i||!Object.keys(i)?e[r]=o:(e[r]=B({},o),Object.keys(i).forEach(a=>{e[r][a]=oN(i[a],o[a])}))}else e[r]===void 0&&(e[r]=n[r])}),e}function Wt(n,t,e=void 0){const r={};return Object.keys(n).forEach(i=>{r[i]=n[i].reduce((o,a)=>{if(a){const s=t(a);s!==""&&o.push(s),e&&e[a]&&o.push(e[a])}return o},[]).join(" ")}),r}const PH=n=>n,fae=()=>{let n=PH;return{configure(t){n=t},generate(t){return n(t)},reset(){n=PH}}},xR=fae(),OK={active:"active",checked:"checked",completed:"completed",disabled:"disabled",error:"error",expanded:"expanded",focused:"focused",focusVisible:"focusVisible",open:"open",readOnly:"readOnly",required:"required",selected:"selected"};function zt(n,t,e="Mui"){const r=OK[t];return r?`${e}-${r}`:`${xR.generate(n)}-${t}`}function Gt(n,t,e="Mui"){const r={};return t.forEach(i=>{r[i]=zt(n,i,e)}),r}function vae(n,t=Number.MIN_SAFE_INTEGER,e=Number.MAX_SAFE_INTEGER){return Math.max(t,Math.min(n,e))}const gae=Object.freeze(Object.defineProperty({__proto__:null,default:vae},Symbol.toStringTag,{value:"Module"}));function Le(n,t){if(n==null)return{};var e={},r=Object.keys(n),i,o;for(o=0;o<r.length;o++)i=r[o],!(t.indexOf(i)>=0)&&(e[i]=n[i]);return e}function RK(n){var t,e,r="";if(typeof n=="string"||typeof n=="number")r+=n;else if(typeof n=="object")if(Array.isArray(n)){var i=n.length;for(t=0;t<i;t++)n[t]&&(e=RK(n[t]))&&(r&&(r+=" "),r+=e)}else for(e in n)n[e]&&(r&&(r+=" "),r+=e);return r}function st(){for(var n,t,e=0,r="",i=arguments.length;e<i;e++)(n=arguments[e])&&(t=RK(n))&&(r&&(r+=" "),r+=t);return r}function yae(n){const{theme:t,name:e,props:r}=n;return!t||!t.components||!t.components[e]||!t.components[e].defaultProps?r:oN(t.components[e].defaultProps,r)}const mae=["values","unit","step"],Cae=n=>{const t=Object.keys(n).map(e=>({key:e,val:n[e]}))||[];return t.sort((e,r)=>e.val-r.val),t.reduce((e,r)=>B({},e,{[r.key]:r.val}),{})};function TK(n){const{values:t={xs:0,sm:600,md:900,lg:1200,xl:1536},unit:e="px",step:r=5}=n,i=Le(n,mae),o=Cae(t),a=Object.keys(o);function s(p){return`@media (min-width:${typeof t[p]=="number"?t[p]:p}${e})`}function l(p){return`@media (max-width:${(typeof t[p]=="number"?t[p]:p)-r/100}${e})`}function u(p,h){const f=a.indexOf(h);return`@media (min-width:${typeof t[p]=="number"?t[p]:p}${e}) and (max-width:${(f!==-1&&typeof t[a[f]]=="number"?t[a[f]]:h)-r/100}${e})`}function c(p){return a.indexOf(p)+1<a.length?u(p,a[a.indexOf(p)+1]):s(p)}function d(p){const h=a.indexOf(p);return h===0?s(a[1]):h===a.length-1?l(a[h]):u(p,a[a.indexOf(p)+1]).replace("@media","@media not all and")}return B({keys:a,values:o,up:s,down:l,between:u,only:c,not:d,unit:e},i)}const Sae={borderRadius:4},wae=Sae;function _C(n,t){return t?$l(n,t,{clone:!1}):n}const aN={xs:0,sm:600,md:900,lg:1200,xl:1536},AH={keys:["xs","sm","md","lg","xl"],up:n=>`@media (min-width:${aN[n]}px)`};function Zu(n,t,e){const r=n.theme||{};if(Array.isArray(t)){const o=r.breakpoints||AH;return t.reduce((a,s,l)=>(a[o.up(o.keys[l])]=e(t[l]),a),{})}if(typeof t=="object"){const o=r.breakpoints||AH;return Object.keys(t).reduce((a,s)=>{if(Object.keys(o.values||aN).indexOf(s)!==-1){const l=o.up(s);a[l]=e(t[s],s)}else{const l=s;a[l]=t[l]}return a},{})}return e(t)}function _ae(n={}){var t;return((t=n.keys)==null?void 0:t.reduce((r,i)=>{const o=n.up(i);return r[o]={},r},{}))||{}}function xae(n,t){return n.reduce((e,r)=>{const i=e[r];return(!i||Object.keys(i).length===0)&&delete e[r],e},t)}function ER(n,t,e=!0){if(!t||typeof t!="string")return null;if(n&&n.vars&&e){const r=`vars.${t}`.split(".").reduce((i,o)=>i&&i[o]?i[o]:null,n);if(r!=null)return r}return t.split(".").reduce((r,i)=>r&&r[i]!=null?r[i]:null,n)}function tb(n,t,e,r=e){let i;return typeof n=="function"?i=n(e):Array.isArray(n)?i=n[e]||r:i=ER(n,e)||r,t&&(i=t(i,r,n)),i}function Jr(n){const{prop:t,cssProperty:e=n.prop,themeKey:r,transform:i}=n,o=a=>{if(a[t]==null)return null;const s=a[t],l=a.theme,u=ER(l,r)||{};return Zu(a,s,d=>{let p=tb(u,i,d);return d===p&&typeof d=="string"&&(p=tb(u,i,`${t}${d==="default"?"":Ue(d)}`,d)),e===!1?p:{[e]:p}})};return o.propTypes={},o.filterProps=[t],o}function Eae(n){const t={};return e=>(t[e]===void 0&&(t[e]=n(e)),t[e])}const bae={m:"margin",p:"padding"},Oae={t:"Top",r:"Right",b:"Bottom",l:"Left",x:["Left","Right"],y:["Top","Bottom"]},DH={marginX:"mx",marginY:"my",paddingX:"px",paddingY:"py"},Rae=Eae(n=>{if(n.length>2)if(DH[n])n=DH[n];else return[n];const[t,e]=n.split(""),r=bae[t],i=Oae[e]||"";return Array.isArray(i)?i.map(o=>r+o):[r+i]}),sN=["m","mt","mr","mb","ml","mx","my","margin","marginTop","marginRight","marginBottom","marginLeft","marginX","marginY","marginInline","marginInlineStart","marginInlineEnd","marginBlock","marginBlockStart","marginBlockEnd"],lN=["p","pt","pr","pb","pl","px","py","padding","paddingTop","paddingRight","paddingBottom","paddingLeft","paddingX","paddingY","paddingInline","paddingInlineStart","paddingInlineEnd","paddingBlock","paddingBlockStart","paddingBlockEnd"];[...sN,...lN];function ww(n,t,e,r){var i;const o=(i=ER(n,t,!1))!=null?i:e;return typeof o=="number"?a=>typeof a=="string"?a:o*a:Array.isArray(o)?a=>typeof a=="string"?a:o[a]:typeof o=="function"?o:()=>{}}function PK(n){return ww(n,"spacing",8)}function _w(n,t){if(typeof t=="string"||t==null)return t;const e=Math.abs(t),r=n(e);return t>=0?r:typeof r=="number"?-r:`-${r}`}function Tae(n,t){return e=>n.reduce((r,i)=>(r[i]=_w(t,e),r),{})}function Pae(n,t,e,r){if(t.indexOf(e)===-1)return null;const i=Rae(e),o=Tae(i,r),a=n[e];return Zu(n,a,o)}function AK(n,t){const e=PK(n.theme);return Object.keys(n).map(r=>Pae(n,t,r,e)).reduce(_C,{})}function Br(n){return AK(n,sN)}Br.propTypes={};Br.filterProps=sN;function Hr(n){return AK(n,lN)}Hr.propTypes={};Hr.filterProps=lN;function Aae(n=8){if(n.mui)return n;const t=PK({spacing:n}),e=(...r)=>(r.length===0?[1]:r).map(o=>{const a=t(o);return typeof a=="number"?`${a}px`:a}).join(" ");return e.mui=!0,e}function bR(...n){const t=n.reduce((r,i)=>(i.filterProps.forEach(o=>{r[o]=i}),r),{}),e=r=>Object.keys(r).reduce((i,o)=>t[o]?_C(i,t[o](r)):i,{});return e.propTypes={},e.filterProps=n.reduce((r,i)=>r.concat(i.filterProps),[]),e}function Fa(n){return typeof n!="number"?n:`${n}px solid`}function is(n,t){return Jr({prop:n,themeKey:"borders",transform:t})}const Dae=is("border",Fa),Mae=is("borderTop",Fa),Lae=is("borderRight",Fa),Fae=is("borderBottom",Fa),Iae=is("borderLeft",Fa),Nae=is("borderColor"),kae=is("borderTopColor"),Gae=is("borderRightColor"),Vae=is("borderBottomColor"),Bae=is("borderLeftColor"),Hae=is("outline",Fa),jae=is("outlineColor"),OR=n=>{if(n.borderRadius!==void 0&&n.borderRadius!==null){const t=ww(n.theme,"shape.borderRadius",4),e=r=>({borderRadius:_w(t,r)});return Zu(n,n.borderRadius,e)}return null};OR.propTypes={};OR.filterProps=["borderRadius"];bR(Dae,Mae,Lae,Fae,Iae,Nae,kae,Gae,Vae,Bae,OR,Hae,jae);const RR=n=>{if(n.gap!==void 0&&n.gap!==null){const t=ww(n.theme,"spacing",8),e=r=>({gap:_w(t,r)});return Zu(n,n.gap,e)}return null};RR.propTypes={};RR.filterProps=["gap"];const TR=n=>{if(n.columnGap!==void 0&&n.columnGap!==null){const t=ww(n.theme,"spacing",8),e=r=>({columnGap:_w(t,r)});return Zu(n,n.columnGap,e)}return null};TR.propTypes={};TR.filterProps=["columnGap"];const PR=n=>{if(n.rowGap!==void 0&&n.rowGap!==null){const t=ww(n.theme,"spacing",8),e=r=>({rowGap:_w(t,r)});return Zu(n,n.rowGap,e)}return null};PR.propTypes={};PR.filterProps=["rowGap"];const $ae=Jr({prop:"gridColumn"}),Wae=Jr({prop:"gridRow"}),Uae=Jr({prop:"gridAutoFlow"}),zae=Jr({prop:"gridAutoColumns"}),Kae=Jr({prop:"gridAutoRows"}),Yae=Jr({prop:"gridTemplateColumns"}),Xae=Jr({prop:"gridTemplateRows"}),qae=Jr({prop:"gridTemplateAreas"}),Zae=Jr({prop:"gridArea"});bR(RR,TR,PR,$ae,Wae,Uae,zae,Kae,Yae,Xae,qae,Zae);function Yv(n,t){return t==="grey"?t:n}const Qae=Jr({prop:"color",themeKey:"palette",transform:Yv}),Jae=Jr({prop:"bgcolor",cssProperty:"backgroundColor",themeKey:"palette",transform:Yv}),ese=Jr({prop:"backgroundColor",themeKey:"palette",transform:Yv});bR(Qae,Jae,ese);function ea(n){return n<=1&&n!==0?`${n*100}%`:n}const tse=Jr({prop:"width",transform:ea}),uN=n=>{if(n.maxWidth!==void 0&&n.maxWidth!==null){const t=e=>{var r,i;const o=((r=n.theme)==null||(r=r.breakpoints)==null||(r=r.values)==null?void 0:r[e])||aN[e];return o?((i=n.theme)==null||(i=i.breakpoints)==null?void 0:i.unit)!=="px"?{maxWidth:`${o}${n.theme.breakpoints.unit}`}:{maxWidth:o}:{maxWidth:ea(e)}};return Zu(n,n.maxWidth,t)}return null};uN.filterProps=["maxWidth"];const rse=Jr({prop:"minWidth",transform:ea}),nse=Jr({prop:"height",transform:ea}),ise=Jr({prop:"maxHeight",transform:ea}),ose=Jr({prop:"minHeight",transform:ea});Jr({prop:"size",cssProperty:"width",transform:ea});Jr({prop:"size",cssProperty:"height",transform:ea});const ase=Jr({prop:"boxSizing"});bR(tse,uN,rse,nse,ise,ose,ase);const sse={border:{themeKey:"borders",transform:Fa},borderTop:{themeKey:"borders",transform:Fa},borderRight:{themeKey:"borders",transform:Fa},borderBottom:{themeKey:"borders",transform:Fa},borderLeft:{themeKey:"borders",transform:Fa},borderColor:{themeKey:"palette"},borderTopColor:{themeKey:"palette"},borderRightColor:{themeKey:"palette"},borderBottomColor:{themeKey:"palette"},borderLeftColor:{themeKey:"palette"},outline:{themeKey:"borders",transform:Fa},outlineColor:{themeKey:"palette"},borderRadius:{themeKey:"shape.borderRadius",style:OR},color:{themeKey:"palette",transform:Yv},bgcolor:{themeKey:"palette",cssProperty:"backgroundColor",transform:Yv},backgroundColor:{themeKey:"palette",transform:Yv},p:{style:Hr},pt:{style:Hr},pr:{style:Hr},pb:{style:Hr},pl:{style:Hr},px:{style:Hr},py:{style:Hr},padding:{style:Hr},paddingTop:{style:Hr},paddingRight:{style:Hr},paddingBottom:{style:Hr},paddingLeft:{style:Hr},paddingX:{style:Hr},paddingY:{style:Hr},paddingInline:{style:Hr},paddingInlineStart:{style:Hr},paddingInlineEnd:{style:Hr},paddingBlock:{style:Hr},paddingBlockStart:{style:Hr},paddingBlockEnd:{style:Hr},m:{style:Br},mt:{style:Br},mr:{style:Br},mb:{style:Br},ml:{style:Br},mx:{style:Br},my:{style:Br},margin:{style:Br},marginTop:{style:Br},marginRight:{style:Br},marginBottom:{style:Br},marginLeft:{style:Br},marginX:{style:Br},marginY:{style:Br},marginInline:{style:Br},marginInlineStart:{style:Br},marginInlineEnd:{style:Br},marginBlock:{style:Br},marginBlockStart:{style:Br},marginBlockEnd:{style:Br},displayPrint:{cssProperty:!1,transform:n=>({"@media print":{display:n}})},display:{},overflow:{},textOverflow:{},visibility:{},whiteSpace:{},flexBasis:{},flexDirection:{},flexWrap:{},justifyContent:{},alignItems:{},alignContent:{},order:{},flex:{},flexGrow:{},flexShrink:{},alignSelf:{},justifyItems:{},justifySelf:{},gap:{style:RR},rowGap:{style:PR},columnGap:{style:TR},gridColumn:{},gridRow:{},gridAutoFlow:{},gridAutoColumns:{},gridAutoRows:{},gridTemplateColumns:{},gridTemplateRows:{},gridTemplateAreas:{},gridArea:{},position:{},zIndex:{themeKey:"zIndex"},top:{},right:{},bottom:{},left:{},boxShadow:{themeKey:"shadows"},width:{transform:ea},maxWidth:{style:uN},minWidth:{transform:ea},height:{transform:ea},maxHeight:{transform:ea},minHeight:{transform:ea},boxSizing:{},fontFamily:{themeKey:"typography"},fontSize:{themeKey:"typography"},fontStyle:{themeKey:"typography"},fontWeight:{themeKey:"typography"},letterSpacing:{},textTransform:{},lineHeight:{},textAlign:{},typography:{cssProperty:!1,themeKey:"typography"}},xw=sse;function lse(...n){const t=n.reduce((r,i)=>r.concat(Object.keys(i)),[]),e=new Set(t);return n.every(r=>e.size===Object.keys(r).length)}function use(n,t){return typeof n=="function"?n(t):n}function DK(){function n(e,r,i,o){const a={[e]:r,theme:i},s=o[e];if(!s)return{[e]:r};const{cssProperty:l=e,themeKey:u,transform:c,style:d}=s;if(r==null)return null;if(u==="typography"&&r==="inherit")return{[e]:r};const p=ER(i,u)||{};return d?d(a):Zu(a,r,f=>{let v=tb(p,c,f);return f===v&&typeof f=="string"&&(v=tb(p,c,`${e}${f==="default"?"":Ue(f)}`,f)),l===!1?v:{[l]:v}})}function t(e){var r;const{sx:i,theme:o={}}=e||{};if(!i)return null;const a=(r=o.unstable_sxConfig)!=null?r:xw;function s(l){let u=l;if(typeof l=="function")u=l(o);else if(typeof l!="object")return l;if(!u)return null;const c=_ae(o.breakpoints),d=Object.keys(c);let p=c;return Object.keys(u).forEach(h=>{const f=use(u[h],o);if(f!=null)if(typeof f=="object")if(a[h])p=_C(p,n(h,f,o,a));else{const v=Zu({theme:o},f,g=>({[h]:g}));lse(v,f)?p[h]=t({sx:f,theme:o}):p=_C(p,v)}else p=_C(p,n(h,f,o,a))}),xae(d,p)}return Array.isArray(i)?i.map(s):s(i)}return t}const MK=DK();MK.filterProps=["sx"];const AR=MK;function LK(n,t){const e=this;return e.vars&&typeof e.getColorSchemeSelector=="function"?{[e.getColorSchemeSelector(n).replace(/(\[[^\]]+\])/,"*:where($1)")]:t}:e.palette.mode===n?t:{}}const cse=["breakpoints","palette","spacing","shape"];function cN(n={},...t){const{breakpoints:e={},palette:r={},spacing:i,shape:o={}}=n,a=Le(n,cse),s=TK(e),l=Aae(i);let u=$l({breakpoints:s,direction:"ltr",components:{},palette:B({mode:"light"},r),spacing:l,shape:B({},wae,o)},a);return u.applyStyles=LK,u=t.reduce((c,d)=>$l(c,d),u),u.unstable_sxConfig=B({},xw,a==null?void 0:a.unstable_sxConfig),u.unstable_sx=function(d){return AR({sx:d,theme:this})},u}const dse=Object.freeze(Object.defineProperty({__proto__:null,default:cN,private_createBreakpoints:TK,unstable_applyStyles:LK},Symbol.toStringTag,{value:"Module"}));function FK(n){var t=Object.create(null);return function(e){return t[e]===void 0&&(t[e]=n(e)),t[e]}}var pse=/^((children|dangerouslySetInnerHTML|key|ref|autoFocus|defaultValue|defaultChecked|innerHTML|suppressContentEditableWarning|suppressHydrationWarning|valueLink|abbr|accept|acceptCharset|accessKey|action|allow|allowUserMedia|allowPaymentRequest|allowFullScreen|allowTransparency|alt|async|autoComplete|autoPlay|capture|cellPadding|cellSpacing|challenge|charSet|checked|cite|classID|className|cols|colSpan|content|contentEditable|contextMenu|controls|controlsList|coords|crossOrigin|data|dateTime|decoding|default|defer|dir|disabled|disablePictureInPicture|disableRemotePlayback|download|draggable|encType|enterKeyHint|form|formAction|formEncType|formMethod|formNoValidate|formTarget|frameBorder|headers|height|hidden|high|href|hrefLang|htmlFor|httpEquiv|id|inputMode|integrity|is|keyParams|keyType|kind|label|lang|list|loading|loop|low|marginHeight|marginWidth|max|maxLength|media|mediaGroup|method|min|minLength|multiple|muted|name|nonce|noValidate|open|optimum|pattern|placeholder|playsInline|poster|preload|profile|radioGroup|readOnly|referrerPolicy|rel|required|reversed|role|rows|rowSpan|sandbox|scope|scoped|scrolling|seamless|selected|shape|size|sizes|slot|span|spellCheck|src|srcDoc|srcLang|srcSet|start|step|style|summary|tabIndex|target|title|translate|type|useMap|value|width|wmode|wrap|about|datatype|inlist|prefix|property|resource|typeof|vocab|autoCapitalize|autoCorrect|autoSave|color|incremental|fallback|inert|itemProp|itemScope|itemType|itemID|itemRef|on|option|results|security|unselectable|accentHeight|accumulate|additive|alignmentBaseline|allowReorder|alphabetic|amplitude|arabicForm|ascent|attributeName|attributeType|autoReverse|azimuth|baseFrequency|baselineShift|baseProfile|bbox|begin|bias|by|calcMode|capHeight|clip|clipPathUnits|clipPath|clipRule|colorInterpolation|colorInterpolationFilters|colorProfile|colorRendering|contentScriptType|contentStyleType|cursor|cx|cy|d|decelerate|descent|diffuseConstant|direction|display|divisor|dominantBaseline|dur|dx|dy|edgeMode|elevation|enableBackground|end|exponent|externalResourcesRequired|fill|fillOpacity|fillRule|filter|filterRes|filterUnits|floodColor|floodOpacity|focusable|fontFamily|fontSize|fontSizeAdjust|fontStretch|fontStyle|fontVariant|fontWeight|format|from|fr|fx|fy|g1|g2|glyphName|glyphOrientationHorizontal|glyphOrientationVertical|glyphRef|gradientTransform|gradientUnits|hanging|horizAdvX|horizOriginX|ideographic|imageRendering|in|in2|intercept|k|k1|k2|k3|k4|kernelMatrix|kernelUnitLength|kerning|keyPoints|keySplines|keyTimes|lengthAdjust|letterSpacing|lightingColor|limitingConeAngle|local|markerEnd|markerMid|markerStart|markerHeight|markerUnits|markerWidth|mask|maskContentUnits|maskUnits|mathematical|mode|numOctaves|offset|opacity|operator|order|orient|orientation|origin|overflow|overlinePosition|overlineThickness|panose1|paintOrder|pathLength|patternContentUnits|patternTransform|patternUnits|pointerEvents|points|pointsAtX|pointsAtY|pointsAtZ|preserveAlpha|preserveAspectRatio|primitiveUnits|r|radius|refX|refY|renderingIntent|repeatCount|repeatDur|requiredExtensions|requiredFeatures|restart|result|rotate|rx|ry|scale|seed|shapeRendering|slope|spacing|specularConstant|specularExponent|speed|spreadMethod|startOffset|stdDeviation|stemh|stemv|stitchTiles|stopColor|stopOpacity|strikethroughPosition|strikethroughThickness|string|stroke|strokeDasharray|strokeDashoffset|strokeLinecap|strokeLinejoin|strokeMiterlimit|strokeOpacity|strokeWidth|surfaceScale|systemLanguage|tableValues|targetX|targetY|textAnchor|textDecoration|textRendering|textLength|to|transform|u1|u2|underlinePosition|underlineThickness|unicode|unicodeBidi|unicodeRange|unitsPerEm|vAlphabetic|vHanging|vIdeographic|vMathematical|values|vectorEffect|version|vertAdvY|vertOriginX|vertOriginY|viewBox|viewTarget|visibility|widths|wordSpacing|writingMode|x|xHeight|x1|x2|xChannelSelector|xlinkActuate|xlinkArcrole|xlinkHref|xlinkRole|xlinkShow|xlinkTitle|xlinkType|xmlBase|xmlns|xmlnsXlink|xmlLang|xmlSpace|y|y1|y2|yChannelSelector|z|zoomAndPan|for|class|autofocus)|(([Dd][Aa][Tt][Aa]|[Aa][Rr][Ii][Aa]|x)-.*))$/,hse=FK(function(n){return pse.test(n)||n.charCodeAt(0)===111&&n.charCodeAt(1)===110&&n.charCodeAt(2)<91});function fse(n){if(n.sheet)return n.sheet;for(var t=0;t<document.styleSheets.length;t++)if(document.styleSheets[t].ownerNode===n)return document.styleSheets[t]}function vse(n){var t=document.createElement("style");return t.setAttribute("data-emotion",n.key),n.nonce!==void 0&&t.setAttribute("nonce",n.nonce),t.appendChild(document.createTextNode("")),t.setAttribute("data-s",""),t}var gse=function(){function n(e){var r=this;this._insertTag=function(i){var o;r.tags.length===0?r.insertionPoint?o=r.insertionPoint.nextSibling:r.prepend?o=r.container.firstChild:o=r.before:o=r.tags[r.tags.length-1].nextSibling,r.container.insertBefore(i,o),r.tags.push(i)},this.isSpeedy=e.speedy===void 0?!0:e.speedy,this.tags=[],this.ctr=0,this.nonce=e.nonce,this.key=e.key,this.container=e.container,this.prepend=e.prepend,this.insertionPoint=e.insertionPoint,this.before=null}var t=n.prototype;return t.hydrate=function(r){r.forEach(this._insertTag)},t.insert=function(r){this.ctr%(this.isSpeedy?65e3:1)===0&&this._insertTag(vse(this));var i=this.tags[this.tags.length-1];if(this.isSpeedy){var o=fse(i);try{o.insertRule(r,o.cssRules.length)}catch{}}else i.appendChild(document.createTextNode(r));this.ctr++},t.flush=function(){this.tags.forEach(function(r){return r.parentNode&&r.parentNode.removeChild(r)}),this.tags=[],this.ctr=0},n}(),di="-ms-",rb="-moz-",Ht="-webkit-",IK="comm",dN="rule",pN="decl",yse="@import",NK="@keyframes",mse="@layer",Cse=Math.abs,DR=String.fromCharCode,Sse=Object.assign;function wse(n,t){return Zn(n,0)^45?(((t<<2^Zn(n,0))<<2^Zn(n,1))<<2^Zn(n,2))<<2^Zn(n,3):0}function kK(n){return n.trim()}function _se(n,t){return(n=t.exec(n))?n[0]:n}function jt(n,t,e){return n.replace(t,e)}function OL(n,t){return n.indexOf(t)}function Zn(n,t){return n.charCodeAt(t)|0}function fS(n,t,e){return n.slice(t,e)}function bl(n){return n.length}function hN(n){return n.length}function k0(n,t){return t.push(n),n}function xse(n,t){return n.map(t).join("")}var MR=1,Cg=1,GK=0,wo=0,ln=0,$g="";function LR(n,t,e,r,i,o,a){return{value:n,root:t,parent:e,type:r,props:i,children:o,line:MR,column:Cg,length:a,return:""}}function Oy(n,t){return Sse(LR("",null,null,"",null,null,0),n,{length:-n.length},t)}function Ese(){return ln}function bse(){return ln=wo>0?Zn($g,--wo):0,Cg--,ln===10&&(Cg=1,MR--),ln}function sa(){return ln=wo<GK?Zn($g,wo++):0,Cg++,ln===10&&(Cg=1,MR++),ln}function Wl(){return Zn($g,wo)}function jx(){return wo}function Ew(n,t){return fS($g,n,t)}function vS(n){switch(n){case 0:case 9:case 10:case 13:case 32:return 5;case 33:case 43:case 44:case 47:case 62:case 64:case 126:case 59:case 123:case 125:return 4;case 58:return 3;case 34:case 39:case 40:case 91:return 2;case 41:case 93:return 1}return 0}function VK(n){return MR=Cg=1,GK=bl($g=n),wo=0,[]}function BK(n){return $g="",n}function $x(n){return kK(Ew(wo-1,RL(n===91?n+2:n===40?n+1:n)))}function Ose(n){for(;(ln=Wl())&&ln<33;)sa();return vS(n)>2||vS(ln)>3?"":" "}function Rse(n,t){for(;--t&&sa()&&!(ln<48||ln>102||ln>57&&ln<65||ln>70&&ln<97););return Ew(n,jx()+(t<6&&Wl()==32&&sa()==32))}function RL(n){for(;sa();)switch(ln){case n:return wo;case 34:case 39:n!==34&&n!==39&&RL(ln);break;case 40:n===41&&RL(n);break;case 92:sa();break}return wo}function Tse(n,t){for(;sa()&&n+ln!==57;)if(n+ln===84&&Wl()===47)break;return"/*"+Ew(t,wo-1)+"*"+DR(n===47?n:sa())}function Pse(n){for(;!vS(Wl());)sa();return Ew(n,wo)}function Ase(n){return BK(Wx("",null,null,null,[""],n=VK(n),0,[0],n))}function Wx(n,t,e,r,i,o,a,s,l){for(var u=0,c=0,d=a,p=0,h=0,f=0,v=1,g=1,y=1,m=0,C="",S=i,w=o,_=r,x=C;g;)switch(f=m,m=sa()){case 40:if(f!=108&&Zn(x,d-1)==58){OL(x+=jt($x(m),"&","&\f"),"&\f")!=-1&&(y=-1);break}case 34:case 39:case 91:x+=$x(m);break;case 9:case 10:case 13:case 32:x+=Ose(f);break;case 92:x+=Rse(jx()-1,7);continue;case 47:switch(Wl()){case 42:case 47:k0(Dse(Tse(sa(),jx()),t,e),l);break;default:x+="/"}break;case 123*v:s[u++]=bl(x)*y;case 125*v:case 59:case 0:switch(m){case 0:case 125:g=0;case 59+c:y==-1&&(x=jt(x,/\f/g,"")),h>0&&bl(x)-d&&k0(h>32?LH(x+";",r,e,d-1):LH(jt(x," ","")+";",r,e,d-2),l);break;case 59:x+=";";default:if(k0(_=MH(x,t,e,u,c,i,s,C,S=[],w=[],d),o),m===123)if(c===0)Wx(x,t,_,_,S,o,d,s,w);else switch(p===99&&Zn(x,3)===110?100:p){case 100:case 108:case 109:case 115:Wx(n,_,_,r&&k0(MH(n,_,_,0,0,i,s,C,i,S=[],d),w),i,w,d,s,r?S:w);break;default:Wx(x,_,_,_,[""],w,0,s,w)}}u=c=h=0,v=y=1,C=x="",d=a;break;case 58:d=1+bl(x),h=f;default:if(v<1){if(m==123)--v;else if(m==125&&v++==0&&bse()==125)continue}switch(x+=DR(m),m*v){case 38:y=c>0?1:(x+="\f",-1);break;case 44:s[u++]=(bl(x)-1)*y,y=1;break;case 64:Wl()===45&&(x+=$x(sa())),p=Wl(),c=d=bl(C=x+=Pse(jx())),m++;break;case 45:f===45&&bl(x)==2&&(v=0)}}return o}function MH(n,t,e,r,i,o,a,s,l,u,c){for(var d=i-1,p=i===0?o:[""],h=hN(p),f=0,v=0,g=0;f<r;++f)for(var y=0,m=fS(n,d+1,d=Cse(v=a[f])),C=n;y<h;++y)(C=kK(v>0?p[y]+" "+m:jt(m,/&\f/g,p[y])))&&(l[g++]=C);return LR(n,t,e,i===0?dN:s,l,u,c)}function Dse(n,t,e){return LR(n,t,e,IK,DR(Ese()),fS(n,2,-2),0)}function LH(n,t,e,r){return LR(n,t,e,pN,fS(n,0,r),fS(n,r+1,-1),r)}function Xv(n,t){for(var e="",r=hN(n),i=0;i<r;i++)e+=t(n[i],i,n,t)||"";return e}function Mse(n,t,e,r){switch(n.type){case mse:if(n.children.length)break;case yse:case pN:return n.return=n.return||n.value;case IK:return"";case NK:return n.return=n.value+"{"+Xv(n.children,r)+"}";case dN:n.value=n.props.join(",")}return bl(e=Xv(n.children,r))?n.return=n.value+"{"+e+"}":""}function Lse(n){var t=hN(n);return function(e,r,i,o){for(var a="",s=0;s<t;s++)a+=n[s](e,r,i,o)||"";return a}}function Fse(n){return function(t){t.root||(t=t.return)&&n(t)}}var Ise=function(t,e,r){for(var i=0,o=0;i=o,o=Wl(),i===38&&o===12&&(e[r]=1),!vS(o);)sa();return Ew(t,wo)},Nse=function(t,e){var r=-1,i=44;do switch(vS(i)){case 0:i===38&&Wl()===12&&(e[r]=1),t[r]+=Ise(wo-1,e,r);break;case 2:t[r]+=$x(i);break;case 4:if(i===44){t[++r]=Wl()===58?"&\f":"",e[r]=t[r].length;break}default:t[r]+=DR(i)}while(i=sa());return t},kse=function(t,e){return BK(Nse(VK(t),e))},FH=new WeakMap,Gse=function(t){if(!(t.type!=="rule"||!t.parent||t.length<1)){for(var e=t.value,r=t.parent,i=t.column===r.column&&t.line===r.line;r.type!=="rule";)if(r=r.parent,!r)return;if(!(t.props.length===1&&e.charCodeAt(0)!==58&&!FH.get(r))&&!i){FH.set(t,!0);for(var o=[],a=kse(e,o),s=r.props,l=0,u=0;l<a.length;l++)for(var c=0;c<s.length;c++,u++)t.props[u]=o[l]?a[l].replace(/&\f/g,s[c]):s[c]+" "+a[l]}}},Vse=function(t){if(t.type==="decl"){var e=t.value;e.charCodeAt(0)===108&&e.charCodeAt(2)===98&&(t.return="",t.value="")}};function HK(n,t){switch(wse(n,t)){case 5103:return Ht+"print-"+n+n;case 5737:case 4201:case 3177:case 3433:case 1641:case 4457:case 2921:case 5572:case 6356:case 5844:case 3191:case 6645:case 3005:case 6391:case 5879:case 5623:case 6135:case 4599:case 4855:case 4215:case 6389:case 5109:case 5365:case 5621:case 3829:return Ht+n+n;case 5349:case 4246:case 4810:case 6968:case 2756:return Ht+n+rb+n+di+n+n;case 6828:case 4268:return Ht+n+di+n+n;case 6165:return Ht+n+di+"flex-"+n+n;case 5187:return Ht+n+jt(n,/(\w+).+(:[^]+)/,Ht+"box-$1$2"+di+"flex-$1$2")+n;case 5443:return Ht+n+di+"flex-item-"+jt(n,/flex-|-self/,"")+n;case 4675:return Ht+n+di+"flex-line-pack"+jt(n,/align-content|flex-|-self/,"")+n;case 5548:return Ht+n+di+jt(n,"shrink","negative")+n;case 5292:return Ht+n+di+jt(n,"basis","preferred-size")+n;case 6060:return Ht+"box-"+jt(n,"-grow","")+Ht+n+di+jt(n,"grow","positive")+n;case 4554:return Ht+jt(n,/([^-])(transform)/g,"$1"+Ht+"$2")+n;case 6187:return jt(jt(jt(n,/(zoom-|grab)/,Ht+"$1"),/(image-set)/,Ht+"$1"),n,"")+n;case 5495:case 3959:return jt(n,/(image-set\([^]*)/,Ht+"$1$`$1");case 4968:return jt(jt(n,/(.+:)(flex-)?(.*)/,Ht+"box-pack:$3"+di+"flex-pack:$3"),/s.+-b[^;]+/,"justify")+Ht+n+n;case 4095:case 3583:case 4068:case 2532:return jt(n,/(.+)-inline(.+)/,Ht+"$1$2")+n;case 8116:case 7059:case 5753:case 5535:case 5445:case 5701:case 4933:case 4677:case 5533:case 5789:case 5021:case 4765:if(bl(n)-1-t>6)switch(Zn(n,t+1)){case 109:if(Zn(n,t+4)!==45)break;case 102:return jt(n,/(.+:)(.+)-([^]+)/,"$1"+Ht+"$2-$3$1"+rb+(Zn(n,t+3)==108?"$3":"$2-$3"))+n;case 115:return~OL(n,"stretch")?HK(jt(n,"stretch","fill-available"),t)+n:n}break;case 4949:if(Zn(n,t+1)!==115)break;case 6444:switch(Zn(n,bl(n)-3-(~OL(n,"!important")&&10))){case 107:return jt(n,":",":"+Ht)+n;case 101:return jt(n,/(.+:)([^;!]+)(;|!.+)?/,"$1"+Ht+(Zn(n,14)===45?"inline-":"")+"box$3$1"+Ht+"$2$3$1"+di+"$2box$3")+n}break;case 5936:switch(Zn(n,t+11)){case 114:return Ht+n+di+jt(n,/[svh]\w+-[tblr]{2}/,"tb")+n;case 108:return Ht+n+di+jt(n,/[svh]\w+-[tblr]{2}/,"tb-rl")+n;case 45:return Ht+n+di+jt(n,/[svh]\w+-[tblr]{2}/,"lr")+n}return Ht+n+di+n+n}return n}var Bse=function(t,e,r,i){if(t.length>-1&&!t.return)switch(t.type){case pN:t.return=HK(t.value,t.length);break;case NK:return Xv([Oy(t,{value:jt(t.value,"@","@"+Ht)})],i);case dN:if(t.length)return xse(t.props,function(o){switch(_se(o,/(::plac\w+|:read-\w+)/)){case":read-only":case":read-write":return Xv([Oy(t,{props:[jt(o,/:(read-\w+)/,":"+rb+"$1")]})],i);case"::placeholder":return Xv([Oy(t,{props:[jt(o,/:(plac\w+)/,":"+Ht+"input-$1")]}),Oy(t,{props:[jt(o,/:(plac\w+)/,":"+rb+"$1")]}),Oy(t,{props:[jt(o,/:(plac\w+)/,di+"input-$1")]})],i)}return""})}},Hse=[Bse],jK=function(t){var e=t.key;if(e==="css"){var r=document.querySelectorAll("style[data-emotion]:not([data-s])");Array.prototype.forEach.call(r,function(v){var g=v.getAttribute("data-emotion");g.indexOf(" ")!==-1&&(document.head.appendChild(v),v.setAttribute("data-s",""))})}var i=t.stylisPlugins||Hse,o={},a,s=[];a=t.container||document.head,Array.prototype.forEach.call(document.querySelectorAll('style[data-emotion^="'+e+' "]'),function(v){for(var g=v.getAttribute("data-emotion").split(" "),y=1;y<g.length;y++)o[g[y]]=!0;s.push(v)});var l,u=[Gse,Vse];{var c,d=[Mse,Fse(function(v){c.insert(v)})],p=Lse(u.concat(i,d)),h=function(g){return Xv(Ase(g),p)};l=function(g,y,m,C){c=m,h(g?g+"{"+y.styles+"}":y.styles),C&&(f.inserted[y.name]=!0)}}var f={key:e,sheet:new gse({key:e,container:a,nonce:t.nonce,speedy:t.speedy,prepend:t.prepend,insertionPoint:t.insertionPoint}),nonce:t.nonce,inserted:o,registered:{},insert:l};return f.sheet.hydrate(s),f},$K={exports:{}},rr={};/** @license React v16.13.1
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Vn=typeof Symbol=="function"&&Symbol.for,fN=Vn?Symbol.for("react.element"):60103,vN=Vn?Symbol.for("react.portal"):60106,FR=Vn?Symbol.for("react.fragment"):60107,IR=Vn?Symbol.for("react.strict_mode"):60108,NR=Vn?Symbol.for("react.profiler"):60114,kR=Vn?Symbol.for("react.provider"):60109,GR=Vn?Symbol.for("react.context"):60110,gN=Vn?Symbol.for("react.async_mode"):60111,VR=Vn?Symbol.for("react.concurrent_mode"):60111,BR=Vn?Symbol.for("react.forward_ref"):60112,HR=Vn?Symbol.for("react.suspense"):60113,jse=Vn?Symbol.for("react.suspense_list"):60120,jR=Vn?Symbol.for("react.memo"):60115,$R=Vn?Symbol.for("react.lazy"):60116,$se=Vn?Symbol.for("react.block"):60121,Wse=Vn?Symbol.for("react.fundamental"):60117,Use=Vn?Symbol.for("react.responder"):60118,zse=Vn?Symbol.for("react.scope"):60119;function fa(n){if(typeof n=="object"&&n!==null){var t=n.$$typeof;switch(t){case fN:switch(n=n.type,n){case gN:case VR:case FR:case NR:case IR:case HR:return n;default:switch(n=n&&n.$$typeof,n){case GR:case BR:case $R:case jR:case kR:return n;default:return t}}case vN:return t}}}function WK(n){return fa(n)===VR}rr.AsyncMode=gN;rr.ConcurrentMode=VR;rr.ContextConsumer=GR;rr.ContextProvider=kR;rr.Element=fN;rr.ForwardRef=BR;rr.Fragment=FR;rr.Lazy=$R;rr.Memo=jR;rr.Portal=vN;rr.Profiler=NR;rr.StrictMode=IR;rr.Suspense=HR;rr.isAsyncMode=function(n){return WK(n)||fa(n)===gN};rr.isConcurrentMode=WK;rr.isContextConsumer=function(n){return fa(n)===GR};rr.isContextProvider=function(n){return fa(n)===kR};rr.isElement=function(n){return typeof n=="object"&&n!==null&&n.$$typeof===fN};rr.isForwardRef=function(n){return fa(n)===BR};rr.isFragment=function(n){return fa(n)===FR};rr.isLazy=function(n){return fa(n)===$R};rr.isMemo=function(n){return fa(n)===jR};rr.isPortal=function(n){return fa(n)===vN};rr.isProfiler=function(n){return fa(n)===NR};rr.isStrictMode=function(n){return fa(n)===IR};rr.isSuspense=function(n){return fa(n)===HR};rr.isValidElementType=function(n){return typeof n=="string"||typeof n=="function"||n===FR||n===VR||n===NR||n===IR||n===HR||n===jse||typeof n=="object"&&n!==null&&(n.$$typeof===$R||n.$$typeof===jR||n.$$typeof===kR||n.$$typeof===GR||n.$$typeof===BR||n.$$typeof===Wse||n.$$typeof===Use||n.$$typeof===zse||n.$$typeof===$se)};rr.typeOf=fa;$K.exports=rr;var Kse=$K.exports,UK=Kse,Yse={$$typeof:!0,render:!0,defaultProps:!0,displayName:!0,propTypes:!0},Xse={$$typeof:!0,compare:!0,defaultProps:!0,displayName:!0,propTypes:!0,type:!0},zK={};zK[UK.ForwardRef]=Yse;zK[UK.Memo]=Xse;var qse=!0;function Zse(n,t,e){var r="";return e.split(" ").forEach(function(i){n[i]!==void 0?t.push(n[i]+";"):r+=i+" "}),r}var KK=function(t,e,r){var i=t.key+"-"+e.name;(r===!1||qse===!1)&&t.registered[i]===void 0&&(t.registered[i]=e.styles)},YK=function(t,e,r){KK(t,e,r);var i=t.key+"-"+e.name;if(t.inserted[e.name]===void 0){var o=e;do t.insert(e===o?"."+i:"",o,t.sheet,!0),o=o.next;while(o!==void 0)}};function Qse(n){for(var t=0,e,r=0,i=n.length;i>=4;++r,i-=4)e=n.charCodeAt(r)&255|(n.charCodeAt(++r)&255)<<8|(n.charCodeAt(++r)&255)<<16|(n.charCodeAt(++r)&255)<<24,e=(e&65535)*1540483477+((e>>>16)*59797<<16),e^=e>>>24,t=(e&65535)*1540483477+((e>>>16)*59797<<16)^(t&65535)*1540483477+((t>>>16)*59797<<16);switch(i){case 3:t^=(n.charCodeAt(r+2)&255)<<16;case 2:t^=(n.charCodeAt(r+1)&255)<<8;case 1:t^=n.charCodeAt(r)&255,t=(t&65535)*1540483477+((t>>>16)*59797<<16)}return t^=t>>>13,t=(t&65535)*1540483477+((t>>>16)*59797<<16),((t^t>>>15)>>>0).toString(36)}var Jse={animationIterationCount:1,aspectRatio:1,borderImageOutset:1,borderImageSlice:1,borderImageWidth:1,boxFlex:1,boxFlexGroup:1,boxOrdinalGroup:1,columnCount:1,columns:1,flex:1,flexGrow:1,flexPositive:1,flexShrink:1,flexNegative:1,flexOrder:1,gridRow:1,gridRowEnd:1,gridRowSpan:1,gridRowStart:1,gridColumn:1,gridColumnEnd:1,gridColumnSpan:1,gridColumnStart:1,msGridRow:1,msGridRowSpan:1,msGridColumn:1,msGridColumnSpan:1,fontWeight:1,lineHeight:1,opacity:1,order:1,orphans:1,tabSize:1,widows:1,zIndex:1,zoom:1,WebkitLineClamp:1,fillOpacity:1,floodOpacity:1,stopOpacity:1,strokeDasharray:1,strokeDashoffset:1,strokeMiterlimit:1,strokeOpacity:1,strokeWidth:1},ele=/[A-Z]|^ms/g,tle=/_EMO_([^_]+?)_([^]*?)_EMO_/g,XK=function(t){return t.charCodeAt(1)===45},IH=function(t){return t!=null&&typeof t!="boolean"},YP=FK(function(n){return XK(n)?n:n.replace(ele,"-$&").toLowerCase()}),NH=function(t,e){switch(t){case"animation":case"animationName":if(typeof e=="string")return e.replace(tle,function(r,i,o){return Ol={name:i,styles:o,next:Ol},i})}return Jse[t]!==1&&!XK(t)&&typeof e=="number"&&e!==0?e+"px":e};function gS(n,t,e){if(e==null)return"";if(e.__emotion_styles!==void 0)return e;switch(typeof e){case"boolean":return"";case"object":{if(e.anim===1)return Ol={name:e.name,styles:e.styles,next:Ol},e.name;if(e.styles!==void 0){var r=e.next;if(r!==void 0)for(;r!==void 0;)Ol={name:r.name,styles:r.styles,next:Ol},r=r.next;var i=e.styles+";";return i}return rle(n,t,e)}case"function":{if(n!==void 0){var o=Ol,a=e(n);return Ol=o,gS(n,t,a)}break}}if(t==null)return e;var s=t[e];return s!==void 0?s:e}function rle(n,t,e){var r="";if(Array.isArray(e))for(var i=0;i<e.length;i++)r+=gS(n,t,e[i])+";";else for(var o in e){var a=e[o];if(typeof a!="object")t!=null&&t[a]!==void 0?r+=o+"{"+t[a]+"}":IH(a)&&(r+=YP(o)+":"+NH(o,a)+";");else if(Array.isArray(a)&&typeof a[0]=="string"&&(t==null||t[a[0]]===void 0))for(var s=0;s<a.length;s++)IH(a[s])&&(r+=YP(o)+":"+NH(o,a[s])+";");else{var l=gS(n,t,a);switch(o){case"animation":case"animationName":{r+=YP(o)+":"+l+";";break}default:r+=o+"{"+l+"}"}}}return r}var kH=/label:\s*([^\s;\n{]+)\s*(;|$)/g,Ol,yN=function(t,e,r){if(t.length===1&&typeof t[0]=="object"&&t[0]!==null&&t[0].styles!==void 0)return t[0];var i=!0,o="";Ol=void 0;var a=t[0];a==null||a.raw===void 0?(i=!1,o+=gS(r,e,a)):o+=a[0];for(var s=1;s<t.length;s++)o+=gS(r,e,t[s]),i&&(o+=a[s]);kH.lastIndex=0;for(var l="",u;(u=kH.exec(o))!==null;)l+="-"+u[1];var c=Qse(o)+l;return{name:c,styles:o,next:Ol}},nle=function(t){return t()},qK=RE.useInsertionEffect?RE.useInsertionEffect:!1,ile=qK||nle,GH=qK||F.useLayoutEffect,ZK=F.createContext(typeof HTMLElement<"u"?jK({key:"css"}):null),ole=ZK.Provider,QK=function(t){return F.forwardRef(function(e,r){var i=F.useContext(ZK);return t(e,i,r)})},WR=F.createContext({}),XP={exports:{}},VH;function JK(){return VH||(VH=1,function(n){function t(){return n.exports=t=Object.assign?Object.assign.bind():function(e){for(var r=1;r<arguments.length;r++){var i=arguments[r];for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(e[o]=i[o])}return e},n.exports.__esModule=!0,n.exports.default=n.exports,t.apply(this,arguments)}n.exports=t,n.exports.__esModule=!0,n.exports.default=n.exports}(XP)),XP.exports}JK();var ale=QK(function(n,t){var e=n.styles,r=yN([e],void 0,F.useContext(WR)),i=F.useRef();return GH(function(){var o=t.key+"-global",a=new t.sheet.constructor({key:o,nonce:t.sheet.nonce,container:t.sheet.container,speedy:t.sheet.isSpeedy}),s=!1,l=document.querySelector('style[data-emotion="'+o+" "+r.name+'"]');return t.sheet.tags.length&&(a.before=t.sheet.tags[0]),l!==null&&(s=!0,l.setAttribute("data-emotion",o),a.hydrate([l])),i.current=[a,s],function(){a.flush()}},[t]),GH(function(){var o=i.current,a=o[0],s=o[1];if(s){o[1]=!1;return}if(r.next!==void 0&&YK(t,r.next,!0),a.tags.length){var l=a.tags[a.tags.length-1].nextElementSibling;a.before=l,a.flush()}t.insert("",r,a,!1)},[t,r.name]),null});function e9(){for(var n=arguments.length,t=new Array(n),e=0;e<n;e++)t[e]=arguments[e];return yN(t)}var UR=function(){var t=e9.apply(void 0,arguments),e="animation-"+t.name;return{name:e,styles:"@keyframes "+e+"{"+t.styles+"}",anim:1,toString:function(){return"_EMO_"+this.name+"_"+this.styles+"_EMO_"}}},sle=hse,lle=function(t){return t!=="theme"},BH=function(t){return typeof t=="string"&&t.charCodeAt(0)>96?sle:lle},HH=function(t,e,r){var i;if(e){var o=e.shouldForwardProp;i=t.__emotion_forwardProp&&o?function(a){return t.__emotion_forwardProp(a)&&o(a)}:o}return typeof i!="function"&&r&&(i=t.__emotion_forwardProp),i},ule=function(t){var e=t.cache,r=t.serialized,i=t.isStringTag;return KK(e,r,i),ile(function(){return YK(e,r,i)}),null},cle=function n(t,e){var r=t.__emotion_real===t,i=r&&t.__emotion_base||t,o,a;e!==void 0&&(o=e.label,a=e.target);var s=HH(t,e,r),l=s||BH(i),u=!l("as");return function(){var c=arguments,d=r&&t.__emotion_styles!==void 0?t.__emotion_styles.slice(0):[];if(o!==void 0&&d.push("label:"+o+";"),c[0]==null||c[0].raw===void 0)d.push.apply(d,c);else{d.push(c[0][0]);for(var p=c.length,h=1;h<p;h++)d.push(c[h],c[0][h])}var f=QK(function(v,g,y){var m=u&&v.as||i,C="",S=[],w=v;if(v.theme==null){w={};for(var _ in v)w[_]=v[_];w.theme=F.useContext(WR)}typeof v.className=="string"?C=Zse(g.registered,S,v.className):v.className!=null&&(C=v.className+" ");var x=yN(d.concat(S),g.registered,w);C+=g.key+"-"+x.name,a!==void 0&&(C+=" "+a);var b=u&&s===void 0?BH(m):l,O={};for(var P in v)u&&P==="as"||b(P)&&(O[P]=v[P]);return O.className=C,O.ref=y,F.createElement(F.Fragment,null,F.createElement(ule,{cache:g,serialized:x,isStringTag:typeof m=="string"}),F.createElement(m,O))});return f.displayName=o!==void 0?o:"Styled("+(typeof i=="string"?i:i.displayName||i.name||"Component")+")",f.defaultProps=t.defaultProps,f.__emotion_real=f,f.__emotion_base=i,f.__emotion_styles=d,f.__emotion_forwardProp=s,Object.defineProperty(f,"toString",{value:function(){return"."+a}}),f.withComponent=function(v,g){return n(v,B({},e,g,{shouldForwardProp:HH(f,g,!0)})).apply(void 0,d)},f}},dle=["a","abbr","address","area","article","aside","audio","b","base","bdi","bdo","big","blockquote","body","br","button","canvas","caption","cite","code","col","colgroup","data","datalist","dd","del","details","dfn","dialog","div","dl","dt","em","embed","fieldset","figcaption","figure","footer","form","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","html","i","iframe","img","input","ins","kbd","keygen","label","legend","li","link","main","map","mark","marquee","menu","menuitem","meta","meter","nav","noscript","object","ol","optgroup","option","output","p","param","picture","pre","progress","q","rp","rt","ruby","s","samp","script","section","select","small","source","span","strong","style","sub","summary","sup","table","tbody","td","textarea","tfoot","th","thead","time","title","tr","track","u","ul","var","video","wbr","circle","clipPath","defs","ellipse","foreignObject","g","image","line","linearGradient","mask","path","pattern","polygon","polyline","radialGradient","rect","stop","svg","text","tspan"],TL=cle.bind();dle.forEach(function(n){TL[n]=TL(n)});let PL;typeof document=="object"&&(PL=jK({key:"css",prepend:!0}));function ple(n){const{injectFirst:t,children:e}=n;return t&&PL?G.jsx(ole,{value:PL,children:e}):e}function hle(n){return n==null||Object.keys(n).length===0}function fle(n){const{styles:t,defaultTheme:e={}}=n,r=typeof t=="function"?i=>t(hle(i)?e:i):t;return G.jsx(ale,{styles:r})}function t9(n,t){return TL(n,t)}const vle=(n,t)=>{Array.isArray(n.__emotion_styles)&&(n.__emotion_styles=t(n.__emotion_styles))},gle=Object.freeze(Object.defineProperty({__proto__:null,GlobalStyles:fle,StyledEngineProvider:ple,ThemeContext:WR,css:e9,default:t9,internal_processStyles:vle,keyframes:UR},Symbol.toStringTag,{value:"Module"}));function yle(n){return Object.keys(n).length===0}function mle(n=null){const t=F.useContext(WR);return!t||yle(t)?n:t}const Cle=cN();function mN(n=Cle){return mle(n)}function Sle({props:n,name:t,defaultTheme:e,themeId:r}){let i=mN(e);return r&&(i=i[r]||i),yae({theme:i,name:t,props:n})}const wle=["sx"],_le=n=>{var t,e;const r={systemProps:{},otherProps:{}},i=(t=n==null||(e=n.theme)==null?void 0:e.unstable_sxConfig)!=null?t:xw;return Object.keys(n).forEach(o=>{i[o]?r.systemProps[o]=n[o]:r.otherProps[o]=n[o]}),r};function CN(n){const{sx:t}=n,e=Le(n,wle),{systemProps:r,otherProps:i}=_le(e);let o;return Array.isArray(t)?o=[r,...t]:typeof t=="function"?o=(...a)=>{const s=t(...a);return ud(s)?B({},r,s):r}:o=B({},r,t),B({},i,{sx:o})}const xle=Object.freeze(Object.defineProperty({__proto__:null,default:AR,extendSxProp:CN,unstable_createStyleFunctionSx:DK,unstable_defaultSxConfig:xw},Symbol.toStringTag,{value:"Module"}));function Ele(n,t){return B({toolbar:{minHeight:56,[n.up("xs")]:{"@media (orientation: landscape)":{minHeight:48}},[n.up("sm")]:{minHeight:64}}},t)}var en={};const ble=ou(joe),Ole=ou(gae);var r9=fc;Object.defineProperty(en,"__esModule",{value:!0});var Iu=en.alpha=a9;en.blend=kle;en.colorChannel=void 0;var AL=en.darken=wN;en.decomposeColor=Za;var DL=en.emphasize=Nle,Rle=en.getContrastRatio=Mle;en.getLuminance=nb;en.hexToRgb=n9;en.hslToRgb=o9;var ML=en.lighten=_N;en.private_safeAlpha=Lle;en.private_safeColorChannel=void 0;en.private_safeDarken=Fle;en.private_safeEmphasize=s9;en.private_safeLighten=Ile;en.recomposeColor=Wg;en.rgbToHex=Dle;var jH=r9(ble),Tle=r9(Ole);function SN(n,t=0,e=1){return(0,Tle.default)(n,t,e)}function n9(n){n=n.slice(1);const t=new RegExp(`.{1,${n.length>=6?2:1}}`,"g");let e=n.match(t);return e&&e[0].length===1&&(e=e.map(r=>r+r)),e?`rgb${e.length===4?"a":""}(${e.map((r,i)=>i<3?parseInt(r,16):Math.round(parseInt(r,16)/255*1e3)/1e3).join(", ")})`:""}function Ple(n){const t=n.toString(16);return t.length===1?`0${t}`:t}function Za(n){if(n.type)return n;if(n.charAt(0)==="#")return Za(n9(n));const t=n.indexOf("("),e=n.substring(0,t);if(["rgb","rgba","hsl","hsla","color"].indexOf(e)===-1)throw new Error((0,jH.default)(9,n));let r=n.substring(t+1,n.length-1),i;if(e==="color"){if(r=r.split(" "),i=r.shift(),r.length===4&&r[3].charAt(0)==="/"&&(r[3]=r[3].slice(1)),["srgb","display-p3","a98-rgb","prophoto-rgb","rec-2020"].indexOf(i)===-1)throw new Error((0,jH.default)(10,i))}else r=r.split(",");return r=r.map(o=>parseFloat(o)),{type:e,values:r,colorSpace:i}}const i9=n=>{const t=Za(n);return t.values.slice(0,3).map((e,r)=>t.type.indexOf("hsl")!==-1&&r!==0?`${e}%`:e).join(" ")};en.colorChannel=i9;const Ale=(n,t)=>{try{return i9(n)}catch{return n}};en.private_safeColorChannel=Ale;function Wg(n){const{type:t,colorSpace:e}=n;let{values:r}=n;return t.indexOf("rgb")!==-1?r=r.map((i,o)=>o<3?parseInt(i,10):i):t.indexOf("hsl")!==-1&&(r[1]=`${r[1]}%`,r[2]=`${r[2]}%`),t.indexOf("color")!==-1?r=`${e} ${r.join(" ")}`:r=`${r.join(", ")}`,`${t}(${r})`}function Dle(n){if(n.indexOf("#")===0)return n;const{values:t}=Za(n);return`#${t.map((e,r)=>Ple(r===3?Math.round(255*e):e)).join("")}`}function o9(n){n=Za(n);const{values:t}=n,e=t[0],r=t[1]/100,i=t[2]/100,o=r*Math.min(i,1-i),a=(u,c=(u+e/30)%12)=>i-o*Math.max(Math.min(c-3,9-c,1),-1);let s="rgb";const l=[Math.round(a(0)*255),Math.round(a(8)*255),Math.round(a(4)*255)];return n.type==="hsla"&&(s+="a",l.push(t[3])),Wg({type:s,values:l})}function nb(n){n=Za(n);let t=n.type==="hsl"||n.type==="hsla"?Za(o9(n)).values:n.values;return t=t.map(e=>(n.type!=="color"&&(e/=255),e<=.03928?e/12.92:((e+.055)/1.055)**2.4)),Number((.2126*t[0]+.7152*t[1]+.0722*t[2]).toFixed(3))}function Mle(n,t){const e=nb(n),r=nb(t);return(Math.max(e,r)+.05)/(Math.min(e,r)+.05)}function a9(n,t){return n=Za(n),t=SN(t),(n.type==="rgb"||n.type==="hsl")&&(n.type+="a"),n.type==="color"?n.values[3]=`/${t}`:n.values[3]=t,Wg(n)}function Lle(n,t,e){try{return a9(n,t)}catch{return n}}function wN(n,t){if(n=Za(n),t=SN(t),n.type.indexOf("hsl")!==-1)n.values[2]*=1-t;else if(n.type.indexOf("rgb")!==-1||n.type.indexOf("color")!==-1)for(let e=0;e<3;e+=1)n.values[e]*=1-t;return Wg(n)}function Fle(n,t,e){try{return wN(n,t)}catch{return n}}function _N(n,t){if(n=Za(n),t=SN(t),n.type.indexOf("hsl")!==-1)n.values[2]+=(100-n.values[2])*t;else if(n.type.indexOf("rgb")!==-1)for(let e=0;e<3;e+=1)n.values[e]+=(255-n.values[e])*t;else if(n.type.indexOf("color")!==-1)for(let e=0;e<3;e+=1)n.values[e]+=(1-n.values[e])*t;return Wg(n)}function Ile(n,t,e){try{return _N(n,t)}catch{return n}}function Nle(n,t=.15){return nb(n)>.5?wN(n,t):_N(n,t)}function s9(n,t,e){try{return s9(n,t)}catch{return n}}function kle(n,t,e,r=1){const i=(l,u)=>Math.round((l**(1/r)*(1-e)+u**(1/r)*e)**r),o=Za(n),a=Za(t),s=[i(o.values[0],a.values[0]),i(o.values[1],a.values[1]),i(o.values[2],a.values[2])];return Wg({type:"rgb",values:s})}const Gle={black:"#000",white:"#fff"},yS=Gle,Vle={50:"#fafafa",100:"#f5f5f5",200:"#eeeeee",300:"#e0e0e0",400:"#bdbdbd",500:"#9e9e9e",600:"#757575",700:"#616161",800:"#424242",900:"#212121",A100:"#f5f5f5",A200:"#eeeeee",A400:"#bdbdbd",A700:"#616161"},Ble=Vle,Hle={50:"#f3e5f5",100:"#e1bee7",200:"#ce93d8",300:"#ba68c8",400:"#ab47bc",500:"#9c27b0",600:"#8e24aa",700:"#7b1fa2",800:"#6a1b9a",900:"#4a148c",A100:"#ea80fc",A200:"#e040fb",A400:"#d500f9",A700:"#aa00ff"},Af=Hle,jle={50:"#ffebee",100:"#ffcdd2",200:"#ef9a9a",300:"#e57373",400:"#ef5350",500:"#f44336",600:"#e53935",700:"#d32f2f",800:"#c62828",900:"#b71c1c",A100:"#ff8a80",A200:"#ff5252",A400:"#ff1744",A700:"#d50000"},Df=jle,$le={50:"#fff3e0",100:"#ffe0b2",200:"#ffcc80",300:"#ffb74d",400:"#ffa726",500:"#ff9800",600:"#fb8c00",700:"#f57c00",800:"#ef6c00",900:"#e65100",A100:"#ffd180",A200:"#ffab40",A400:"#ff9100",A700:"#ff6d00"},Ry=$le,Wle={50:"#e3f2fd",100:"#bbdefb",200:"#90caf9",300:"#64b5f6",400:"#42a5f5",500:"#2196f3",600:"#1e88e5",700:"#1976d2",800:"#1565c0",900:"#0d47a1",A100:"#82b1ff",A200:"#448aff",A400:"#2979ff",A700:"#2962ff"},Mf=Wle,Ule={50:"#e1f5fe",100:"#b3e5fc",200:"#81d4fa",300:"#4fc3f7",400:"#29b6f6",500:"#03a9f4",600:"#039be5",700:"#0288d1",800:"#0277bd",900:"#01579b",A100:"#80d8ff",A200:"#40c4ff",A400:"#00b0ff",A700:"#0091ea"},Lf=Ule,zle={50:"#e8f5e9",100:"#c8e6c9",200:"#a5d6a7",300:"#81c784",400:"#66bb6a",500:"#4caf50",600:"#43a047",700:"#388e3c",800:"#2e7d32",900:"#1b5e20",A100:"#b9f6ca",A200:"#69f0ae",A400:"#00e676",A700:"#00c853"},Ff=zle,Kle=["mode","contrastThreshold","tonalOffset"],$H={text:{primary:"rgba(0, 0, 0, 0.87)",secondary:"rgba(0, 0, 0, 0.6)",disabled:"rgba(0, 0, 0, 0.38)"},divider:"rgba(0, 0, 0, 0.12)",background:{paper:yS.white,default:yS.white},action:{active:"rgba(0, 0, 0, 0.54)",hover:"rgba(0, 0, 0, 0.04)",hoverOpacity:.04,selected:"rgba(0, 0, 0, 0.08)",selectedOpacity:.08,disabled:"rgba(0, 0, 0, 0.26)",disabledBackground:"rgba(0, 0, 0, 0.12)",disabledOpacity:.38,focus:"rgba(0, 0, 0, 0.12)",focusOpacity:.12,activatedOpacity:.12}},qP={text:{primary:yS.white,secondary:"rgba(255, 255, 255, 0.7)",disabled:"rgba(255, 255, 255, 0.5)",icon:"rgba(255, 255, 255, 0.5)"},divider:"rgba(255, 255, 255, 0.12)",background:{paper:"#121212",default:"#121212"},action:{active:yS.white,hover:"rgba(255, 255, 255, 0.08)",hoverOpacity:.08,selected:"rgba(255, 255, 255, 0.16)",selectedOpacity:.16,disabled:"rgba(255, 255, 255, 0.3)",disabledBackground:"rgba(255, 255, 255, 0.12)",disabledOpacity:.38,focus:"rgba(255, 255, 255, 0.12)",focusOpacity:.12,activatedOpacity:.24}};function WH(n,t,e,r){const i=r.light||r,o=r.dark||r*1.5;n[t]||(n.hasOwnProperty(e)?n[t]=n[e]:t==="light"?n.light=ML(n.main,i):t==="dark"&&(n.dark=AL(n.main,o)))}function Yle(n="light"){return n==="dark"?{main:Mf[200],light:Mf[50],dark:Mf[400]}:{main:Mf[700],light:Mf[400],dark:Mf[800]}}function Xle(n="light"){return n==="dark"?{main:Af[200],light:Af[50],dark:Af[400]}:{main:Af[500],light:Af[300],dark:Af[700]}}function qle(n="light"){return n==="dark"?{main:Df[500],light:Df[300],dark:Df[700]}:{main:Df[700],light:Df[400],dark:Df[800]}}function Zle(n="light"){return n==="dark"?{main:Lf[400],light:Lf[300],dark:Lf[700]}:{main:Lf[700],light:Lf[500],dark:Lf[900]}}function Qle(n="light"){return n==="dark"?{main:Ff[400],light:Ff[300],dark:Ff[700]}:{main:Ff[800],light:Ff[500],dark:Ff[900]}}function Jle(n="light"){return n==="dark"?{main:Ry[400],light:Ry[300],dark:Ry[700]}:{main:"#ed6c02",light:Ry[500],dark:Ry[900]}}function eue(n){const{mode:t="light",contrastThreshold:e=3,tonalOffset:r=.2}=n,i=Le(n,Kle),o=n.primary||Yle(t),a=n.secondary||Xle(t),s=n.error||qle(t),l=n.info||Zle(t),u=n.success||Qle(t),c=n.warning||Jle(t);function d(v){return Rle(v,qP.text.primary)>=e?qP.text.primary:$H.text.primary}const p=({color:v,name:g,mainShade:y=500,lightShade:m=300,darkShade:C=700})=>{if(v=B({},v),!v.main&&v[y]&&(v.main=v[y]),!v.hasOwnProperty("main"))throw new Error(hS(11,g?` (${g})`:"",y));if(typeof v.main!="string")throw new Error(hS(12,g?` (${g})`:"",JSON.stringify(v.main)));return WH(v,"light",m,r),WH(v,"dark",C,r),v.contrastText||(v.contrastText=d(v.main)),v},h={dark:qP,light:$H};return $l(B({common:B({},yS),mode:t,primary:p({color:o,name:"primary"}),secondary:p({color:a,name:"secondary",mainShade:"A400",lightShade:"A200",darkShade:"A700"}),error:p({color:s,name:"error"}),warning:p({color:c,name:"warning"}),info:p({color:l,name:"info"}),success:p({color:u,name:"success"}),grey:Ble,contrastThreshold:e,getContrastText:d,augmentColor:p,tonalOffset:r},h[t]),i)}const tue=["fontFamily","fontSize","fontWeightLight","fontWeightRegular","fontWeightMedium","fontWeightBold","htmlFontSize","allVariants","pxToRem"];function rue(n){return Math.round(n*1e5)/1e5}const UH={textTransform:"uppercase"},zH='"Roboto", "Helvetica", "Arial", sans-serif';function nue(n,t){const e=typeof t=="function"?t(n):t,{fontFamily:r=zH,fontSize:i=14,fontWeightLight:o=300,fontWeightRegular:a=400,fontWeightMedium:s=500,fontWeightBold:l=700,htmlFontSize:u=16,allVariants:c,pxToRem:d}=e,p=Le(e,tue),h=i/14,f=d||(y=>`${y/u*h}rem`),v=(y,m,C,S,w)=>B({fontFamily:r,fontWeight:y,fontSize:f(m),lineHeight:C},r===zH?{letterSpacing:`${rue(S/m)}em`}:{},w,c),g={h1:v(o,96,1.167,-1.5),h2:v(o,60,1.2,-.5),h3:v(a,48,1.167,0),h4:v(a,34,1.235,.25),h5:v(a,24,1.334,0),h6:v(s,20,1.6,.15),subtitle1:v(a,16,1.75,.15),subtitle2:v(s,14,1.57,.1),body1:v(a,16,1.5,.15),body2:v(a,14,1.43,.15),button:v(s,14,1.75,.4,UH),caption:v(a,12,1.66,.4),overline:v(a,12,2.66,1,UH),inherit:{fontFamily:"inherit",fontWeight:"inherit",fontSize:"inherit",lineHeight:"inherit",letterSpacing:"inherit"}};return $l(B({htmlFontSize:u,pxToRem:f,fontFamily:r,fontSize:i,fontWeightLight:o,fontWeightRegular:a,fontWeightMedium:s,fontWeightBold:l},g),p,{clone:!1})}const iue=.2,oue=.14,aue=.12;function Rr(...n){return[`${n[0]}px ${n[1]}px ${n[2]}px ${n[3]}px rgba(0,0,0,${iue})`,`${n[4]}px ${n[5]}px ${n[6]}px ${n[7]}px rgba(0,0,0,${oue})`,`${n[8]}px ${n[9]}px ${n[10]}px ${n[11]}px rgba(0,0,0,${aue})`].join(",")}const sue=["none",Rr(0,2,1,-1,0,1,1,0,0,1,3,0),Rr(0,3,1,-2,0,2,2,0,0,1,5,0),Rr(0,3,3,-2,0,3,4,0,0,1,8,0),Rr(0,2,4,-1,0,4,5,0,0,1,10,0),Rr(0,3,5,-1,0,5,8,0,0,1,14,0),Rr(0,3,5,-1,0,6,10,0,0,1,18,0),Rr(0,4,5,-2,0,7,10,1,0,2,16,1),Rr(0,5,5,-3,0,8,10,1,0,3,14,2),Rr(0,5,6,-3,0,9,12,1,0,3,16,2),Rr(0,6,6,-3,0,10,14,1,0,4,18,3),Rr(0,6,7,-4,0,11,15,1,0,4,20,3),Rr(0,7,8,-4,0,12,17,2,0,5,22,4),Rr(0,7,8,-4,0,13,19,2,0,5,24,4),Rr(0,7,9,-4,0,14,21,2,0,5,26,4),Rr(0,8,9,-5,0,15,22,2,0,6,28,5),Rr(0,8,10,-5,0,16,24,2,0,6,30,5),Rr(0,8,11,-5,0,17,26,2,0,6,32,5),Rr(0,9,11,-5,0,18,28,2,0,7,34,6),Rr(0,9,12,-6,0,19,29,2,0,7,36,6),Rr(0,10,13,-6,0,20,31,3,0,8,38,7),Rr(0,10,13,-6,0,21,33,3,0,8,40,7),Rr(0,10,14,-6,0,22,35,3,0,8,42,7),Rr(0,11,14,-7,0,23,36,3,0,9,44,8),Rr(0,11,15,-7,0,24,38,3,0,9,46,8)],lue=["duration","easing","delay"],uue={easeInOut:"cubic-bezier(0.4, 0, 0.2, 1)",easeOut:"cubic-bezier(0.0, 0, 0.2, 1)",easeIn:"cubic-bezier(0.4, 0, 1, 1)",sharp:"cubic-bezier(0.4, 0, 0.6, 1)"},cue={shortest:150,shorter:200,short:250,standard:300,complex:375,enteringScreen:225,leavingScreen:195};function KH(n){return`${Math.round(n)}ms`}function due(n){if(!n)return 0;const t=n/36;return Math.round((4+15*t**.25+t/5)*10)}function pue(n){const t=B({},uue,n.easing),e=B({},cue,n.duration);return B({getAutoHeightDuration:due,create:(i=["all"],o={})=>{const{duration:a=e.standard,easing:s=t.easeInOut,delay:l=0}=o;return Le(o,lue),(Array.isArray(i)?i:[i]).map(u=>`${u} ${typeof a=="string"?a:KH(a)} ${s} ${typeof l=="string"?l:KH(l)}`).join(",")}},n,{easing:t,duration:e})}const hue={mobileStepper:1e3,fab:1050,speedDial:1050,appBar:1100,drawer:1200,modal:1300,snackbar:1400,tooltip:1500},fue=hue,vue=["breakpoints","mixins","spacing","palette","transitions","typography","shape"];function l9(n={},...t){const{mixins:e={},palette:r={},transitions:i={},typography:o={}}=n,a=Le(n,vue);if(n.vars)throw new Error(hS(18));const s=eue(r),l=cN(n);let u=$l(l,{mixins:Ele(l.breakpoints,e),palette:s,shadows:sue.slice(),typography:nue(s,o),transitions:pue(i),zIndex:B({},fue)});return u=$l(u,a),u=t.reduce((c,d)=>$l(c,d),u),u.unstable_sxConfig=B({},xw,a==null?void 0:a.unstable_sxConfig),u.unstable_sx=function(d){return AR({sx:d,theme:this})},u}const gue=l9(),xN=gue,zR="$$material";function Ir({props:n,name:t}){return Sle({props:n,name:t,defaultTheme:xN,themeId:zR})}var bw={},ZP={exports:{}},YH;function yue(){return YH||(YH=1,function(n){function t(e,r){if(e==null)return{};var i={},o=Object.keys(e),a,s;for(s=0;s<o.length;s++)a=o[s],!(r.indexOf(a)>=0)&&(i[a]=e[a]);return i}n.exports=t,n.exports.__esModule=!0,n.exports.default=n.exports}(ZP)),ZP.exports}const mue=ou(gle),Cue=ou(Noe),Sue=ou(Yoe),wue=ou(Koe),_ue=ou(dse),xue=ou(xle);var Ug=fc;Object.defineProperty(bw,"__esModule",{value:!0});var Eue=bw.default=Gue,bue=bw.shouldForwardProp=Ux;bw.systemDefaultTheme=void 0;var Pa=Ug(JK()),LL=Ug(yue()),XH=Mue(mue),Oue=Cue;Ug(Sue);Ug(wue);var Rue=Ug(_ue),Tue=Ug(xue);const Pue=["ownerState"],Aue=["variants"],Due=["name","slot","skipVariantsResolver","skipSx","overridesResolver"];function u9(n){if(typeof WeakMap!="function")return null;var t=new WeakMap,e=new WeakMap;return(u9=function(r){return r?e:t})(n)}function Mue(n,t){if(!t&&n&&n.__esModule)return n;if(n===null||typeof n!="object"&&typeof n!="function")return{default:n};var e=u9(t);if(e&&e.has(n))return e.get(n);var r={__proto__:null},i=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in n)if(o!=="default"&&Object.prototype.hasOwnProperty.call(n,o)){var a=i?Object.getOwnPropertyDescriptor(n,o):null;a&&(a.get||a.set)?Object.defineProperty(r,o,a):r[o]=n[o]}return r.default=n,e&&e.set(n,r),r}function Lue(n){return Object.keys(n).length===0}function Fue(n){return typeof n=="string"&&n.charCodeAt(0)>96}function Ux(n){return n!=="ownerState"&&n!=="theme"&&n!=="sx"&&n!=="as"}const Iue=bw.systemDefaultTheme=(0,Rue.default)(),Nue=n=>n&&n.charAt(0).toLowerCase()+n.slice(1);function G0({defaultTheme:n,theme:t,themeId:e}){return Lue(t)?n:t[e]||t}function kue(n){return n?(t,e)=>e[n]:null}function zx(n,t){let{ownerState:e}=t,r=(0,LL.default)(t,Pue);const i=typeof n=="function"?n((0,Pa.default)({ownerState:e},r)):n;if(Array.isArray(i))return i.flatMap(o=>zx(o,(0,Pa.default)({ownerState:e},r)));if(i&&typeof i=="object"&&Array.isArray(i.variants)){const{variants:o=[]}=i;let s=(0,LL.default)(i,Aue);return o.forEach(l=>{let u=!0;typeof l.props=="function"?u=l.props((0,Pa.default)({ownerState:e},r,e)):Object.keys(l.props).forEach(c=>{(e==null?void 0:e[c])!==l.props[c]&&r[c]!==l.props[c]&&(u=!1)}),u&&(Array.isArray(s)||(s=[s]),s.push(typeof l.style=="function"?l.style((0,Pa.default)({ownerState:e},r,e)):l.style))}),s}return i}function Gue(n={}){const{themeId:t,defaultTheme:e=Iue,rootShouldForwardProp:r=Ux,slotShouldForwardProp:i=Ux}=n,o=a=>(0,Tue.default)((0,Pa.default)({},a,{theme:G0((0,Pa.default)({},a,{defaultTheme:e,themeId:t}))}));return o.__mui_systemSx=!0,(a,s={})=>{(0,XH.internal_processStyles)(a,w=>w.filter(_=>!(_!=null&&_.__mui_systemSx)));const{name:l,slot:u,skipVariantsResolver:c,skipSx:d,overridesResolver:p=kue(Nue(u))}=s,h=(0,LL.default)(s,Due),f=c!==void 0?c:u&&u!=="Root"&&u!=="root"||!1,v=d||!1;let g,y=Ux;u==="Root"||u==="root"?y=r:u?y=i:Fue(a)&&(y=void 0);const m=(0,XH.default)(a,(0,Pa.default)({shouldForwardProp:y,label:g},h)),C=w=>typeof w=="function"&&w.__emotion_real!==w||(0,Oue.isPlainObject)(w)?_=>zx(w,(0,Pa.default)({},_,{theme:G0({theme:_.theme,defaultTheme:e,themeId:t})})):w,S=(w,..._)=>{let x=C(w);const b=_?_.map(C):[];l&&p&&b.push(D=>{const N=G0((0,Pa.default)({},D,{defaultTheme:e,themeId:t}));if(!N.components||!N.components[l]||!N.components[l].styleOverrides)return null;const L=N.components[l].styleOverrides,I={};return Object.entries(L).forEach(([k,H])=>{I[k]=zx(H,(0,Pa.default)({},D,{theme:N}))}),p(D,I)}),l&&!f&&b.push(D=>{var N;const L=G0((0,Pa.default)({},D,{defaultTheme:e,themeId:t})),I=L==null||(N=L.components)==null||(N=N[l])==null?void 0:N.variants;return zx({variants:I},(0,Pa.default)({},D,{theme:L}))}),v||b.push(o);const O=b.length-_.length;if(Array.isArray(w)&&O>0){const D=new Array(O).fill("");x=[...w,...D],x.raw=[...w.raw,...D]}const P=m(x,...b);return a.muiName&&(P.muiName=a.muiName),P};return m.withConfig&&(S.withConfig=m.withConfig),S}}const EN=n=>bue(n)&&n!=="classes",Ke=Eue({themeId:zR,defaultTheme:xN,rootShouldForwardProp:EN});function Vue(n){return zt("MuiSvgIcon",n)}Gt("MuiSvgIcon",["root","colorPrimary","colorSecondary","colorAction","colorError","colorDisabled","fontSizeInherit","fontSizeSmall","fontSizeMedium","fontSizeLarge"]);const Bue=["children","className","color","component","fontSize","htmlColor","inheritViewBox","titleAccess","viewBox"],Hue=n=>{const{color:t,fontSize:e,classes:r}=n,i={root:["root",t!=="inherit"&&`color${Ue(t)}`,`fontSize${Ue(e)}`]};return Wt(i,Vue,r)},jue=Ke("svg",{name:"MuiSvgIcon",slot:"Root",overridesResolver:(n,t)=>{const{ownerState:e}=n;return[t.root,e.color!=="inherit"&&t[`color${Ue(e.color)}`],t[`fontSize${Ue(e.fontSize)}`]]}})(({theme:n,ownerState:t})=>{var e,r,i,o,a,s,l,u,c,d,p,h,f;return{userSelect:"none",width:"1em",height:"1em",display:"inline-block",fill:t.hasSvgAsChild?void 0:"currentColor",flexShrink:0,transition:(e=n.transitions)==null||(r=e.create)==null?void 0:r.call(e,"fill",{duration:(i=n.transitions)==null||(i=i.duration)==null?void 0:i.shorter}),fontSize:{inherit:"inherit",small:((o=n.typography)==null||(a=o.pxToRem)==null?void 0:a.call(o,20))||"1.25rem",medium:((s=n.typography)==null||(l=s.pxToRem)==null?void 0:l.call(s,24))||"1.5rem",large:((u=n.typography)==null||(c=u.pxToRem)==null?void 0:c.call(u,35))||"2.1875rem"}[t.fontSize],color:(d=(p=(n.vars||n).palette)==null||(p=p[t.color])==null?void 0:p.main)!=null?d:{action:(h=(n.vars||n).palette)==null||(h=h.action)==null?void 0:h.active,disabled:(f=(n.vars||n).palette)==null||(f=f.action)==null?void 0:f.disabled,inherit:void 0}[t.color]}}),FL=F.forwardRef(function(t,e){const r=Ir({props:t,name:"MuiSvgIcon"}),{children:i,className:o,color:a="inherit",component:s="svg",fontSize:l="medium",htmlColor:u,inheritViewBox:c=!1,titleAccess:d,viewBox:p="0 0 24 24"}=r,h=Le(r,Bue),f=F.isValidElement(i)&&i.type==="svg",v=B({},r,{color:a,component:s,fontSize:l,instanceFontSize:t.fontSize,inheritViewBox:c,viewBox:p,hasSvgAsChild:f}),g={};c||(g.viewBox=p);const y=Hue(v);return G.jsxs(jue,B({as:s,className:st(y.root,o),focusable:"false",color:u,"aria-hidden":d?void 0:!0,role:d?"img":void 0,ref:e},g,h,f&&i.props,{ownerState:v,children:[f?i.props.children:i,d?G.jsx("title",{children:d}):null]}))});FL.muiName="SvgIcon";function vc(n,t){function e(r,i){return G.jsx(FL,B({"data-testid":`${t}Icon`,ref:i},r,{children:n}))}return e.muiName=FL.muiName,F.memo(F.forwardRef(e))}const $ue={configure:n=>{xR.configure(n)}},Wue=Object.freeze(Object.defineProperty({__proto__:null,capitalize:Ue,createChainedFunction:Xoe,createSvgIcon:vc,debounce:rN,deprecatedPropType:qoe,isMuiElement:Zoe,ownerDocument:Ld,ownerWindow:SR,requirePropFactory:Qoe,setRef:eb,unstable_ClassNameGenerator:$ue,unstable_useEnhancedEffect:Ql,unstable_useId:nN,unsupportedProp:eae,useControlled:tae,useEventCallback:Rs,useForkRef:ks,useIsFocusVisible:EK},Symbol.toStringTag,{value:"Module"})),Uue=ou(Wue);var qH;function pf(){return qH||(qH=1,function(n){"use client";Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"default",{enumerable:!0,get:function(){return t.createSvgIcon}});var t=Uue}(zP)),zP}var zue=fc;Object.defineProperty(J1,"__esModule",{value:!0});var c9=J1.default=void 0,Kue=zue(pf()),Yue=G;c9=J1.default=(0,Kue.default)((0,Yue.jsx)("path",{d:"M19 3h-4.18C14.4 1.84 13.3 1 12 1c-1.3 0-2.4.84-2.82 2H5c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2m-7 0c.55 0 1 .45 1 1s-.45 1-1 1-1-.45-1-1 .45-1 1-1m2 14H7v-2h7zm3-4H7v-2h10zm0-4H7V7h10z"}),"Assignment");const Xue=["className","component"];function d9(n={}){const{themeId:t,defaultTheme:e,defaultClassName:r="MuiBox-root",generateClassName:i}=n,o=t9("div",{shouldForwardProp:s=>s!=="theme"&&s!=="sx"&&s!=="as"})(AR);return F.forwardRef(function(l,u){const c=mN(e),d=CN(l),{className:p,component:h="div"}=d,f=Le(d,Xue);return G.jsx(o,B({as:h,ref:u,className:st(p,i?i(r):r),theme:t&&c[t]||c},f))})}const que=Gt("MuiBox",["root"]),Zue=que,Que=d9({defaultClassName:Zue.root,generateClassName:xR.generate}),Jue=Que,ece=F.createContext(),p9=()=>{const n=F.useContext(ece);return n??!1};function op(){const n=mN(xN);return n[zR]||n}const ZH=n=>{let t;return n<1?t=5.11916*n**2:t=4.5*Math.log(n+1)+2,(t/100).toFixed(2)};function IL(n,t){return IL=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},IL(n,t)}function h9(n,t){n.prototype=Object.create(t.prototype),n.prototype.constructor=n,IL(n,t)}const QH={disabled:!1},ib=Os.createContext(null);var tce=function(t){return t.scrollTop},Gm="unmounted",Yp="exited",Xp="entering",pv="entered",NL="exiting",gc=function(n){h9(t,n);function t(r,i){var o;o=n.call(this,r,i)||this;var a=i,s=a&&!a.isMounting?r.enter:r.appear,l;return o.appearStatus=null,r.in?s?(l=Yp,o.appearStatus=Xp):l=pv:r.unmountOnExit||r.mountOnEnter?l=Gm:l=Yp,o.state={status:l},o.nextCallback=null,o}t.getDerivedStateFromProps=function(i,o){var a=i.in;return a&&o.status===Gm?{status:Yp}:null};var e=t.prototype;return e.componentDidMount=function(){this.updateStatus(!0,this.appearStatus)},e.componentDidUpdate=function(i){var o=null;if(i!==this.props){var a=this.state.status;this.props.in?a!==Xp&&a!==pv&&(o=Xp):(a===Xp||a===pv)&&(o=NL)}this.updateStatus(!1,o)},e.componentWillUnmount=function(){this.cancelNextCallback()},e.getTimeouts=function(){var i=this.props.timeout,o,a,s;return o=a=s=i,i!=null&&typeof i!="number"&&(o=i.exit,a=i.enter,s=i.appear!==void 0?i.appear:a),{exit:o,enter:a,appear:s}},e.updateStatus=function(i,o){if(i===void 0&&(i=!1),o!==null)if(this.cancelNextCallback(),o===Xp){if(this.props.unmountOnExit||this.props.mountOnEnter){var a=this.props.nodeRef?this.props.nodeRef.current:N0.findDOMNode(this);a&&tce(a)}this.performEnter(i)}else this.performExit();else this.props.unmountOnExit&&this.state.status===Yp&&this.setState({status:Gm})},e.performEnter=function(i){var o=this,a=this.props.enter,s=this.context?this.context.isMounting:i,l=this.props.nodeRef?[s]:[N0.findDOMNode(this),s],u=l[0],c=l[1],d=this.getTimeouts(),p=s?d.appear:d.enter;if(!i&&!a||QH.disabled){this.safeSetState({status:pv},function(){o.props.onEntered(u)});return}this.props.onEnter(u,c),this.safeSetState({status:Xp},function(){o.props.onEntering(u,c),o.onTransitionEnd(p,function(){o.safeSetState({status:pv},function(){o.props.onEntered(u,c)})})})},e.performExit=function(){var i=this,o=this.props.exit,a=this.getTimeouts(),s=this.props.nodeRef?void 0:N0.findDOMNode(this);if(!o||QH.disabled){this.safeSetState({status:Yp},function(){i.props.onExited(s)});return}this.props.onExit(s),this.safeSetState({status:NL},function(){i.props.onExiting(s),i.onTransitionEnd(a.exit,function(){i.safeSetState({status:Yp},function(){i.props.onExited(s)})})})},e.cancelNextCallback=function(){this.nextCallback!==null&&(this.nextCallback.cancel(),this.nextCallback=null)},e.safeSetState=function(i,o){o=this.setNextCallback(o),this.setState(i,o)},e.setNextCallback=function(i){var o=this,a=!0;return this.nextCallback=function(s){a&&(a=!1,o.nextCallback=null,i(s))},this.nextCallback.cancel=function(){a=!1},this.nextCallback},e.onTransitionEnd=function(i,o){this.setNextCallback(o);var a=this.props.nodeRef?this.props.nodeRef.current:N0.findDOMNode(this),s=i==null&&!this.props.addEndListener;if(!a||s){setTimeout(this.nextCallback,0);return}if(this.props.addEndListener){var l=this.props.nodeRef?[this.nextCallback]:[a,this.nextCallback],u=l[0],c=l[1];this.props.addEndListener(u,c)}i!=null&&setTimeout(this.nextCallback,i)},e.render=function(){var i=this.state.status;if(i===Gm)return null;var o=this.props,a=o.children;o.in,o.mountOnEnter,o.unmountOnExit,o.appear,o.enter,o.exit,o.timeout,o.addEndListener,o.onEnter,o.onEntering,o.onEntered,o.onExit,o.onExiting,o.onExited,o.nodeRef;var s=Le(o,["children","in","mountOnEnter","unmountOnExit","appear","enter","exit","timeout","addEndListener","onEnter","onEntering","onEntered","onExit","onExiting","onExited","nodeRef"]);return Os.createElement(ib.Provider,{value:null},typeof a=="function"?a(i,s):Os.cloneElement(Os.Children.only(a),s))},t}(Os.Component);gc.contextType=ib;gc.propTypes={};function If(){}gc.defaultProps={in:!1,mountOnEnter:!1,unmountOnExit:!1,appear:!1,enter:!0,exit:!0,onEnter:If,onEntering:If,onEntered:If,onExit:If,onExiting:If,onExited:If};gc.UNMOUNTED=Gm;gc.EXITED=Yp;gc.ENTERING=Xp;gc.ENTERED=pv;gc.EXITING=NL;const rce=gc;function nce(n){if(n===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return n}function bN(n,t){var e=function(o){return t&&F.isValidElement(o)?t(o):o},r=Object.create(null);return n&&F.Children.map(n,function(i){return i}).forEach(function(i){r[i.key]=e(i)}),r}function ice(n,t){n=n||{},t=t||{};function e(c){return c in t?t[c]:n[c]}var r=Object.create(null),i=[];for(var o in n)o in t?i.length&&(r[o]=i,i=[]):i.push(o);var a,s={};for(var l in t){if(r[l])for(a=0;a<r[l].length;a++){var u=r[l][a];s[r[l][a]]=e(u)}s[l]=e(l)}for(a=0;a<i.length;a++)s[i[a]]=e(i[a]);return s}function mh(n,t,e){return e[t]!=null?e[t]:n.props[t]}function oce(n,t){return bN(n.children,function(e){return F.cloneElement(e,{onExited:t.bind(null,e),in:!0,appear:mh(e,"appear",n),enter:mh(e,"enter",n),exit:mh(e,"exit",n)})})}function ace(n,t,e){var r=bN(n.children),i=ice(t,r);return Object.keys(i).forEach(function(o){var a=i[o];if(F.isValidElement(a)){var s=o in t,l=o in r,u=t[o],c=F.isValidElement(u)&&!u.props.in;l&&(!s||c)?i[o]=F.cloneElement(a,{onExited:e.bind(null,a),in:!0,exit:mh(a,"exit",n),enter:mh(a,"enter",n)}):!l&&s&&!c?i[o]=F.cloneElement(a,{in:!1}):l&&s&&F.isValidElement(u)&&(i[o]=F.cloneElement(a,{onExited:e.bind(null,a),in:u.props.in,exit:mh(a,"exit",n),enter:mh(a,"enter",n)}))}}),i}var sce=Object.values||function(n){return Object.keys(n).map(function(t){return n[t]})},lce={component:"div",childFactory:function(t){return t}},ON=function(n){h9(t,n);function t(r,i){var o;o=n.call(this,r,i)||this;var a=o.handleExited.bind(nce(o));return o.state={contextValue:{isMounting:!0},handleExited:a,firstRender:!0},o}var e=t.prototype;return e.componentDidMount=function(){this.mounted=!0,this.setState({contextValue:{isMounting:!1}})},e.componentWillUnmount=function(){this.mounted=!1},t.getDerivedStateFromProps=function(i,o){var a=o.children,s=o.handleExited,l=o.firstRender;return{children:l?oce(i,s):ace(i,a,s),firstRender:!1}},e.handleExited=function(i,o){var a=bN(this.props.children);i.key in a||(i.props.onExited&&i.props.onExited(o),this.mounted&&this.setState(function(s){var l=B({},s.children);return delete l[i.key],{children:l}}))},e.render=function(){var i=this.props,o=i.component,a=i.childFactory,s=Le(i,["component","childFactory"]),l=this.state.contextValue,u=sce(this.state.children).map(a);return delete s.appear,delete s.enter,delete s.exit,o===null?Os.createElement(ib.Provider,{value:l},u):Os.createElement(ib.Provider,{value:l},Os.createElement(o,s,u))},t}(Os.Component);ON.propTypes={};ON.defaultProps=lce;const uce=ON,cce=n=>n.scrollTop;function JH(n,t){var e,r;const{timeout:i,easing:o,style:a={}}=n;return{duration:(e=a.transitionDuration)!=null?e:typeof i=="number"?i:i[t.mode]||0,easing:(r=a.transitionTimingFunction)!=null?r:typeof o=="object"?o[t.mode]:o,delay:a.transitionDelay}}function dce(n){return zt("MuiPaper",n)}Gt("MuiPaper",["root","rounded","outlined","elevation","elevation0","elevation1","elevation2","elevation3","elevation4","elevation5","elevation6","elevation7","elevation8","elevation9","elevation10","elevation11","elevation12","elevation13","elevation14","elevation15","elevation16","elevation17","elevation18","elevation19","elevation20","elevation21","elevation22","elevation23","elevation24"]);const pce=["className","component","elevation","square","variant"],hce=n=>{const{square:t,elevation:e,variant:r,classes:i}=n,o={root:["root",r,!t&&"rounded",r==="elevation"&&`elevation${e}`]};return Wt(o,dce,i)},fce=Ke("div",{name:"MuiPaper",slot:"Root",overridesResolver:(n,t)=>{const{ownerState:e}=n;return[t.root,t[e.variant],!e.square&&t.rounded,e.variant==="elevation"&&t[`elevation${e.elevation}`]]}})(({theme:n,ownerState:t})=>{var e;return B({backgroundColor:(n.vars||n).palette.background.paper,color:(n.vars||n).palette.text.primary,transition:n.transitions.create("box-shadow")},!t.square&&{borderRadius:n.shape.borderRadius},t.variant==="outlined"&&{border:`1px solid ${(n.vars||n).palette.divider}`},t.variant==="elevation"&&B({boxShadow:(n.vars||n).shadows[t.elevation]},!n.vars&&n.palette.mode==="dark"&&{backgroundImage:`linear-gradient(${Iu("#fff",ZH(t.elevation))}, ${Iu("#fff",ZH(t.elevation))})`},n.vars&&{backgroundImage:(e=n.vars.overlays)==null?void 0:e[t.elevation]}))}),vce=F.forwardRef(function(t,e){const r=Ir({props:t,name:"MuiPaper"}),{className:i,component:o="div",elevation:a=1,square:s=!1,variant:l="elevation"}=r,u=Le(r,pce),c=B({},r,{component:o,elevation:a,square:s,variant:l}),d=hce(c);return G.jsx(fce,B({as:o,ownerState:c,className:st(d.root,i),ref:e},u))}),RN=vce;function gce(n){return typeof n=="string"}function f9(n,t,e){return n===void 0||gce(n)?t:B({},t,{ownerState:B({},t.ownerState,e)})}const yce={disableDefaultClasses:!1},mce=F.createContext(yce);function Cce(n){const{disableDefaultClasses:t}=F.useContext(mce);return e=>t?"":n(e)}function kL(n,t=[]){if(n===void 0)return{};const e={};return Object.keys(n).filter(r=>r.match(/^on[A-Z]/)&&typeof n[r]=="function"&&!t.includes(r)).forEach(r=>{e[r]=n[r]}),e}function v9(n,t,e){return typeof n=="function"?n(t,e):n}function ej(n){if(n===void 0)return{};const t={};return Object.keys(n).filter(e=>!(e.match(/^on[A-Z]/)&&typeof n[e]=="function")).forEach(e=>{t[e]=n[e]}),t}function g9(n){const{getSlotProps:t,additionalProps:e,externalSlotProps:r,externalForwardedProps:i,className:o}=n;if(!t){const h=st(e==null?void 0:e.className,o,i==null?void 0:i.className,r==null?void 0:r.className),f=B({},e==null?void 0:e.style,i==null?void 0:i.style,r==null?void 0:r.style),v=B({},e,i,r);return h.length>0&&(v.className=h),Object.keys(f).length>0&&(v.style=f),{props:v,internalRef:void 0}}const a=kL(B({},i,r)),s=ej(r),l=ej(i),u=t(a),c=st(u==null?void 0:u.className,e==null?void 0:e.className,o,i==null?void 0:i.className,r==null?void 0:r.className),d=B({},u==null?void 0:u.style,e==null?void 0:e.style,i==null?void 0:i.style,r==null?void 0:r.style),p=B({},u,e,l,s);return c.length>0&&(p.className=c),Object.keys(d).length>0&&(p.style=d),{props:p,internalRef:u.ref}}const Sce=["elementType","externalSlotProps","ownerState","skipResolvingSlotProps"];function Gn(n){var t;const{elementType:e,externalSlotProps:r,ownerState:i,skipResolvingSlotProps:o=!1}=n,a=Le(n,Sce),s=o?{}:v9(r,i),{props:l,internalRef:u}=g9(B({},a,{externalSlotProps:s})),c=ks(u,s==null?void 0:s.ref,(t=n.additionalProps)==null?void 0:t.ref);return f9(e,B({},l,{ref:c}),i)}const wce=["className","elementType","ownerState","externalForwardedProps","getSlotOwnerState","internalForwardedProps"],_ce=["component","slots","slotProps"],xce=["component"];function tj(n,t){const{className:e,elementType:r,ownerState:i,externalForwardedProps:o,getSlotOwnerState:a,internalForwardedProps:s}=t,l=Le(t,wce),{component:u,slots:c={[n]:void 0},slotProps:d={[n]:void 0}}=o,p=Le(o,_ce),h=c[n]||r,f=v9(d[n],i),v=g9(B({className:e},l,{externalForwardedProps:n==="root"?p:void 0,externalSlotProps:f})),{props:{component:g},internalRef:y}=v,m=Le(v.props,xce),C=ks(y,f==null?void 0:f.ref,t.ref),S=a?a(m):{},w=B({},i,S),_=n==="root"?g||u:g,x=f9(h,B({},n==="root"&&!u&&!c[n]&&s,n!=="root"&&!c[n]&&s,m,_&&{as:_},{ref:C}),w);return Object.keys(S).forEach(b=>{delete x[b]}),[h,x]}function Ece(n){const{className:t,classes:e,pulsate:r=!1,rippleX:i,rippleY:o,rippleSize:a,in:s,onExited:l,timeout:u}=n,[c,d]=F.useState(!1),p=st(t,e.ripple,e.rippleVisible,r&&e.ripplePulsate),h={width:a,height:a,top:-(a/2)+o,left:-(a/2)+i},f=st(e.child,c&&e.childLeaving,r&&e.childPulsate);return!s&&!c&&d(!0),F.useEffect(()=>{if(!s&&l!=null){const v=setTimeout(l,u);return()=>{clearTimeout(v)}}},[l,s,u]),G.jsx("span",{className:p,style:h,children:G.jsx("span",{className:f})})}const Aa=Gt("MuiTouchRipple",["root","ripple","rippleVisible","ripplePulsate","child","childLeaving","childPulsate"]),bce=["center","classes","className"];let KR=n=>n,rj,nj,ij,oj;const GL=550,Oce=80,Rce=UR(rj||(rj=KR`
  0% {
    transform: scale(0);
    opacity: 0.1;
  }

  100% {
    transform: scale(1);
    opacity: 0.3;
  }
`)),Tce=UR(nj||(nj=KR`
  0% {
    opacity: 1;
  }

  100% {
    opacity: 0;
  }
`)),Pce=UR(ij||(ij=KR`
  0% {
    transform: scale(1);
  }

  50% {
    transform: scale(0.92);
  }

  100% {
    transform: scale(1);
  }
`)),Ace=Ke("span",{name:"MuiTouchRipple",slot:"Root"})({overflow:"hidden",pointerEvents:"none",position:"absolute",zIndex:0,top:0,right:0,bottom:0,left:0,borderRadius:"inherit"}),Dce=Ke(Ece,{name:"MuiTouchRipple",slot:"Ripple"})(oj||(oj=KR`
  opacity: 0;
  position: absolute;

  &.${0} {
    opacity: 0.3;
    transform: scale(1);
    animation-name: ${0};
    animation-duration: ${0}ms;
    animation-timing-function: ${0};
  }

  &.${0} {
    animation-duration: ${0}ms;
  }

  & .${0} {
    opacity: 1;
    display: block;
    width: 100%;
    height: 100%;
    border-radius: 50%;
    background-color: currentColor;
  }

  & .${0} {
    opacity: 0;
    animation-name: ${0};
    animation-duration: ${0}ms;
    animation-timing-function: ${0};
  }

  & .${0} {
    position: absolute;
    /* @noflip */
    left: 0px;
    top: 0;
    animation-name: ${0};
    animation-duration: 2500ms;
    animation-timing-function: ${0};
    animation-iteration-count: infinite;
    animation-delay: 200ms;
  }
`),Aa.rippleVisible,Rce,GL,({theme:n})=>n.transitions.easing.easeInOut,Aa.ripplePulsate,({theme:n})=>n.transitions.duration.shorter,Aa.child,Aa.childLeaving,Tce,GL,({theme:n})=>n.transitions.easing.easeInOut,Aa.childPulsate,Pce,({theme:n})=>n.transitions.easing.easeInOut),Mce=F.forwardRef(function(t,e){const r=Ir({props:t,name:"MuiTouchRipple"}),{center:i=!1,classes:o={},className:a}=r,s=Le(r,bce),[l,u]=F.useState([]),c=F.useRef(0),d=F.useRef(null);F.useEffect(()=>{d.current&&(d.current(),d.current=null)},[l]);const p=F.useRef(!1),h=iN(),f=F.useRef(null),v=F.useRef(null),g=F.useCallback(S=>{const{pulsate:w,rippleX:_,rippleY:x,rippleSize:b,cb:O}=S;u(P=>[...P,G.jsx(Dce,{classes:{ripple:st(o.ripple,Aa.ripple),rippleVisible:st(o.rippleVisible,Aa.rippleVisible),ripplePulsate:st(o.ripplePulsate,Aa.ripplePulsate),child:st(o.child,Aa.child),childLeaving:st(o.childLeaving,Aa.childLeaving),childPulsate:st(o.childPulsate,Aa.childPulsate)},timeout:GL,pulsate:w,rippleX:_,rippleY:x,rippleSize:b},c.current)]),c.current+=1,d.current=O},[o]),y=F.useCallback((S={},w={},_=()=>{})=>{const{pulsate:x=!1,center:b=i||w.pulsate,fakeElement:O=!1}=w;if((S==null?void 0:S.type)==="mousedown"&&p.current){p.current=!1;return}(S==null?void 0:S.type)==="touchstart"&&(p.current=!0);const P=O?null:v.current,D=P?P.getBoundingClientRect():{width:0,height:0,left:0,top:0};let N,L,I;if(b||S===void 0||S.clientX===0&&S.clientY===0||!S.clientX&&!S.touches)N=Math.round(D.width/2),L=Math.round(D.height/2);else{const{clientX:k,clientY:H}=S.touches&&S.touches.length>0?S.touches[0]:S;N=Math.round(k-D.left),L=Math.round(H-D.top)}if(b)I=Math.sqrt((2*D.width**2+D.height**2)/3),I%2===0&&(I+=1);else{const k=Math.max(Math.abs((P?P.clientWidth:0)-N),N)*2+2,H=Math.max(Math.abs((P?P.clientHeight:0)-L),L)*2+2;I=Math.sqrt(k**2+H**2)}S!=null&&S.touches?f.current===null&&(f.current=()=>{g({pulsate:x,rippleX:N,rippleY:L,rippleSize:I,cb:_})},h.start(Oce,()=>{f.current&&(f.current(),f.current=null)})):g({pulsate:x,rippleX:N,rippleY:L,rippleSize:I,cb:_})},[i,g,h]),m=F.useCallback(()=>{y({},{pulsate:!0})},[y]),C=F.useCallback((S,w)=>{if(h.clear(),(S==null?void 0:S.type)==="touchend"&&f.current){f.current(),f.current=null,h.start(0,()=>{C(S,w)});return}f.current=null,u(_=>_.length>0?_.slice(1):_),d.current=w},[h]);return F.useImperativeHandle(e,()=>({pulsate:m,start:y,stop:C}),[m,y,C]),G.jsx(Ace,B({className:st(Aa.root,o.root,a),ref:v},s,{children:G.jsx(uce,{component:null,exit:!0,children:l})}))}),Lce=Mce;function Fce(n){return zt("MuiButtonBase",n)}const Ice=Gt("MuiButtonBase",["root","disabled","focusVisible"]),Nce=["action","centerRipple","children","className","component","disabled","disableRipple","disableTouchRipple","focusRipple","focusVisibleClassName","LinkComponent","onBlur","onClick","onContextMenu","onDragLeave","onFocus","onFocusVisible","onKeyDown","onKeyUp","onMouseDown","onMouseLeave","onMouseUp","onTouchEnd","onTouchMove","onTouchStart","tabIndex","TouchRippleProps","touchRippleRef","type"],kce=n=>{const{disabled:t,focusVisible:e,focusVisibleClassName:r,classes:i}=n,a=Wt({root:["root",t&&"disabled",e&&"focusVisible"]},Fce,i);return e&&r&&(a.root+=` ${r}`),a},Gce=Ke("button",{name:"MuiButtonBase",slot:"Root",overridesResolver:(n,t)=>t.root})({display:"inline-flex",alignItems:"center",justifyContent:"center",position:"relative",boxSizing:"border-box",WebkitTapHighlightColor:"transparent",backgroundColor:"transparent",outline:0,border:0,margin:0,borderRadius:0,padding:0,cursor:"pointer",userSelect:"none",verticalAlign:"middle",MozAppearance:"none",WebkitAppearance:"none",textDecoration:"none",color:"inherit","&::-moz-focus-inner":{borderStyle:"none"},[`&.${Ice.disabled}`]:{pointerEvents:"none",cursor:"default"},"@media print":{colorAdjust:"exact"}}),Vce=F.forwardRef(function(t,e){const r=Ir({props:t,name:"MuiButtonBase"}),{action:i,centerRipple:o=!1,children:a,className:s,component:l="button",disabled:u=!1,disableRipple:c=!1,disableTouchRipple:d=!1,focusRipple:p=!1,LinkComponent:h="a",onBlur:f,onClick:v,onContextMenu:g,onDragLeave:y,onFocus:m,onFocusVisible:C,onKeyDown:S,onKeyUp:w,onMouseDown:_,onMouseLeave:x,onMouseUp:b,onTouchEnd:O,onTouchMove:P,onTouchStart:D,tabIndex:N=0,TouchRippleProps:L,touchRippleRef:I,type:k}=r,H=Le(r,Nce),$=F.useRef(null),V=F.useRef(null),W=ks(V,I),{isFocusVisibleRef:K,onFocus:Z,onBlur:Q,ref:ce}=EK(),[ue,se]=F.useState(!1);u&&ue&&se(!1),F.useImperativeHandle(i,()=>({focusVisible:()=>{se(!0),$.current.focus()}}),[]);const[q,he]=F.useState(!1);F.useEffect(()=>{he(!0)},[]);const be=q&&!c&&!u;F.useEffect(()=>{ue&&p&&!c&&q&&V.current.pulsate()},[c,p,ue,q]);function ee($e,Kt,Nr=d){return Rs(ma=>(Kt&&Kt(ma),!Nr&&V.current&&V.current[$e](ma),!0))}const Se=ee("start",_),Ce=ee("stop",g),te=ee("stop",y),Pe=ee("stop",b),De=ee("stop",$e=>{ue&&$e.preventDefault(),x&&x($e)}),Ne=ee("start",D),ke=ee("stop",O),Ye=ee("stop",P),it=ee("stop",$e=>{Q($e),K.current===!1&&se(!1),f&&f($e)},!1),Dr=Rs($e=>{$.current||($.current=$e.currentTarget),Z($e),K.current===!0&&(se(!0),C&&C($e)),m&&m($e)}),ze=()=>{const $e=$.current;return l&&l!=="button"&&!($e.tagName==="A"&&$e.href)},lr=F.useRef(!1),gr=Rs($e=>{p&&!lr.current&&ue&&V.current&&$e.key===" "&&(lr.current=!0,V.current.stop($e,()=>{V.current.start($e)})),$e.target===$e.currentTarget&&ze()&&$e.key===" "&&$e.preventDefault(),S&&S($e),$e.target===$e.currentTarget&&ze()&&$e.key==="Enter"&&!u&&($e.preventDefault(),v&&v($e))}),yr=Rs($e=>{p&&$e.key===" "&&V.current&&ue&&!$e.defaultPrevented&&(lr.current=!1,V.current.stop($e,()=>{V.current.pulsate($e)})),w&&w($e),v&&$e.target===$e.currentTarget&&ze()&&$e.key===" "&&!$e.defaultPrevented&&v($e)});let yt=l;yt==="button"&&(H.href||H.to)&&(yt=h);const Pt={};yt==="button"?(Pt.type=k===void 0?"button":k,Pt.disabled=u):(!H.href&&!H.to&&(Pt.role="button"),u&&(Pt["aria-disabled"]=u));const Vt=ks(e,ce,$),ir=B({},r,{centerRipple:o,component:l,disabled:u,disableRipple:c,disableTouchRipple:d,focusRipple:p,tabIndex:N,focusVisible:ue}),mn=kce(ir);return G.jsxs(Gce,B({as:yt,className:st(mn.root,s),ownerState:ir,onBlur:it,onClick:v,onContextMenu:Ce,onFocus:Dr,onKeyDown:gr,onKeyUp:yr,onMouseDown:Se,onMouseLeave:De,onMouseUp:Pe,onDragLeave:te,onTouchEnd:ke,onTouchMove:Ye,onTouchStart:Ne,ref:Vt,tabIndex:u?-1:N,type:k},Pt,H,{children:[a,be?G.jsx(Lce,B({ref:W,center:o},L)):null]}))}),zg=Vce;function Bce(n){return Ir}function Hce(n){return zt("MuiAlert",n)}const jce=Gt("MuiAlert",["root","action","icon","message","filled","colorSuccess","colorInfo","colorWarning","colorError","filledSuccess","filledInfo","filledWarning","filledError","outlined","outlinedSuccess","outlinedInfo","outlinedWarning","outlinedError","standard","standardSuccess","standardInfo","standardWarning","standardError"]),aj=jce;function $ce(n){return zt("MuiIconButton",n)}const Wce=Gt("MuiIconButton",["root","disabled","colorInherit","colorPrimary","colorSecondary","colorError","colorInfo","colorSuccess","colorWarning","edgeStart","edgeEnd","sizeSmall","sizeMedium","sizeLarge"]),Uce=["edge","children","className","color","disabled","disableFocusRipple","size"],zce=n=>{const{classes:t,disabled:e,color:r,edge:i,size:o}=n,a={root:["root",e&&"disabled",r!=="default"&&`color${Ue(r)}`,i&&`edge${Ue(i)}`,`size${Ue(o)}`]};return Wt(a,$ce,t)},Kce=Ke(zg,{name:"MuiIconButton",slot:"Root",overridesResolver:(n,t)=>{const{ownerState:e}=n;return[t.root,e.color!=="default"&&t[`color${Ue(e.color)}`],e.edge&&t[`edge${Ue(e.edge)}`],t[`size${Ue(e.size)}`]]}})(({theme:n,ownerState:t})=>B({textAlign:"center",flex:"0 0 auto",fontSize:n.typography.pxToRem(24),padding:8,borderRadius:"50%",overflow:"visible",color:(n.vars||n).palette.action.active,transition:n.transitions.create("background-color",{duration:n.transitions.duration.shortest})},!t.disableRipple&&{"&:hover":{backgroundColor:n.vars?`rgba(${n.vars.palette.action.activeChannel} / ${n.vars.palette.action.hoverOpacity})`:Iu(n.palette.action.active,n.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:"transparent"}}},t.edge==="start"&&{marginLeft:t.size==="small"?-3:-12},t.edge==="end"&&{marginRight:t.size==="small"?-3:-12}),({theme:n,ownerState:t})=>{var e;const r=(e=(n.vars||n).palette)==null?void 0:e[t.color];return B({},t.color==="inherit"&&{color:"inherit"},t.color!=="inherit"&&t.color!=="default"&&B({color:r==null?void 0:r.main},!t.disableRipple&&{"&:hover":B({},r&&{backgroundColor:n.vars?`rgba(${r.mainChannel} / ${n.vars.palette.action.hoverOpacity})`:Iu(r.main,n.palette.action.hoverOpacity)},{"@media (hover: none)":{backgroundColor:"transparent"}})}),t.size==="small"&&{padding:5,fontSize:n.typography.pxToRem(18)},t.size==="large"&&{padding:12,fontSize:n.typography.pxToRem(28)},{[`&.${Wce.disabled}`]:{backgroundColor:"transparent",color:(n.vars||n).palette.action.disabled}})}),Yce=F.forwardRef(function(t,e){const r=Ir({props:t,name:"MuiIconButton"}),{edge:i=!1,children:o,className:a,color:s="default",disabled:l=!1,disableFocusRipple:u=!1,size:c="medium"}=r,d=Le(r,Uce),p=B({},r,{edge:i,color:s,disabled:l,disableFocusRipple:u,size:c}),h=zce(p);return G.jsx(Kce,B({className:st(h.root,a),centerRipple:!0,focusRipple:!u,disabled:l,ref:e},d,{ownerState:p,children:o}))}),y9=Yce,Xce=vc(G.jsx("path",{d:"M20,12A8,8 0 0,1 12,20A8,8 0 0,1 4,12A8,8 0 0,1 12,4C12.76,4 13.5,4.11 14.2, 4.31L15.77,2.74C14.61,2.26 13.34,2 12,2A10,10 0 0,0 2,12A10,10 0 0,0 12,22A10,10 0 0, 0 22,12M7.91,10.08L6.5,11.5L11,16L21,6L19.59,4.58L11,13.17L7.91,10.08Z"}),"SuccessOutlined"),qce=vc(G.jsx("path",{d:"M12 5.99L19.53 19H4.47L12 5.99M12 2L1 21h22L12 2zm1 14h-2v2h2v-2zm0-6h-2v4h2v-4z"}),"ReportProblemOutlined"),Zce=vc(G.jsx("path",{d:"M11 15h2v2h-2zm0-8h2v6h-2zm.99-5C6.47 2 2 6.48 2 12s4.47 10 9.99 10C17.52 22 22 17.52 22 12S17.52 2 11.99 2zM12 20c-4.42 0-8-3.58-8-8s3.58-8 8-8 8 3.58 8 8-3.58 8-8 8z"}),"ErrorOutline"),Qce=vc(G.jsx("path",{d:"M11,9H13V7H11M12,20C7.59,20 4,16.41 4,12C4,7.59 7.59,4 12,4C16.41,4 20,7.59 20, 12C20,16.41 16.41,20 12,20M12,2A10,10 0 0,0 2,12A10,10 0 0,0 12,22A10,10 0 0,0 22,12A10, 10 0 0,0 12,2M11,17H13V11H11V17Z"}),"InfoOutlined"),Jce=vc(G.jsx("path",{d:"M19 6.41L17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"}),"Close"),ede=["action","children","className","closeText","color","components","componentsProps","icon","iconMapping","onClose","role","severity","slotProps","slots","variant"],tde=Bce(),rde=n=>{const{variant:t,color:e,severity:r,classes:i}=n,o={root:["root",`color${Ue(e||r)}`,`${t}${Ue(e||r)}`,`${t}`],icon:["icon"],message:["message"],action:["action"]};return Wt(o,Hce,i)},nde=Ke(RN,{name:"MuiAlert",slot:"Root",overridesResolver:(n,t)=>{const{ownerState:e}=n;return[t.root,t[e.variant],t[`${e.variant}${Ue(e.color||e.severity)}`]]}})(({theme:n})=>{const t=n.palette.mode==="light"?AL:ML,e=n.palette.mode==="light"?ML:AL;return B({},n.typography.body2,{backgroundColor:"transparent",display:"flex",padding:"6px 16px",variants:[...Object.entries(n.palette).filter(([,r])=>r.main&&r.light).map(([r])=>({props:{colorSeverity:r,variant:"standard"},style:{color:n.vars?n.vars.palette.Alert[`${r}Color`]:t(n.palette[r].light,.6),backgroundColor:n.vars?n.vars.palette.Alert[`${r}StandardBg`]:e(n.palette[r].light,.9),[`& .${aj.icon}`]:n.vars?{color:n.vars.palette.Alert[`${r}IconColor`]}:{color:n.palette[r].main}}})),...Object.entries(n.palette).filter(([,r])=>r.main&&r.light).map(([r])=>({props:{colorSeverity:r,variant:"outlined"},style:{color:n.vars?n.vars.palette.Alert[`${r}Color`]:t(n.palette[r].light,.6),border:`1px solid ${(n.vars||n).palette[r].light}`,[`& .${aj.icon}`]:n.vars?{color:n.vars.palette.Alert[`${r}IconColor`]}:{color:n.palette[r].main}}})),...Object.entries(n.palette).filter(([,r])=>r.main&&r.dark).map(([r])=>({props:{colorSeverity:r,variant:"filled"},style:B({fontWeight:n.typography.fontWeightMedium},n.vars?{color:n.vars.palette.Alert[`${r}FilledColor`],backgroundColor:n.vars.palette.Alert[`${r}FilledBg`]}:{backgroundColor:n.palette.mode==="dark"?n.palette[r].dark:n.palette[r].main,color:n.palette.getContrastText(n.palette[r].main)})}))]})}),ide=Ke("div",{name:"MuiAlert",slot:"Icon",overridesResolver:(n,t)=>t.icon})({marginRight:12,padding:"7px 0",display:"flex",fontSize:22,opacity:.9}),ode=Ke("div",{name:"MuiAlert",slot:"Message",overridesResolver:(n,t)=>t.message})({padding:"8px 0",minWidth:0,overflow:"auto"}),sj=Ke("div",{name:"MuiAlert",slot:"Action",overridesResolver:(n,t)=>t.action})({display:"flex",alignItems:"flex-start",padding:"4px 0 0 16px",marginLeft:"auto",marginRight:-8}),lj={success:G.jsx(Xce,{fontSize:"inherit"}),warning:G.jsx(qce,{fontSize:"inherit"}),error:G.jsx(Zce,{fontSize:"inherit"}),info:G.jsx(Qce,{fontSize:"inherit"})},ade=F.forwardRef(function(t,e){const r=tde({props:t,name:"MuiAlert"}),{action:i,children:o,className:a,closeText:s="Close",color:l,components:u={},componentsProps:c={},icon:d,iconMapping:p=lj,onClose:h,role:f="alert",severity:v="success",slotProps:g={},slots:y={},variant:m="standard"}=r,C=Le(r,ede),S=B({},r,{color:l,severity:v,variant:m,colorSeverity:l||v}),w=rde(S),_={slots:B({closeButton:u.CloseButton,closeIcon:u.CloseIcon},y),slotProps:B({},c,g)},[x,b]=tj("closeButton",{elementType:y9,externalForwardedProps:_,ownerState:S}),[O,P]=tj("closeIcon",{elementType:Jce,externalForwardedProps:_,ownerState:S});return G.jsxs(nde,B({role:f,elevation:0,ownerState:S,className:st(w.root,a),ref:e},C,{children:[d!==!1?G.jsx(ide,{ownerState:S,className:w.icon,children:d||p[v]||lj[v]}):null,G.jsx(ode,{ownerState:S,className:w.message,children:o}),i!=null?G.jsx(sj,{ownerState:S,className:w.action,children:i}):null,i==null&&h?G.jsx(sj,{ownerState:S,className:w.action,children:G.jsx(x,B({size:"small","aria-label":s,title:s,color:"inherit",onClick:h},b,{children:G.jsx(O,B({fontSize:"small"},P))}))}):null]}))}),sde=ade;function lde(n){return zt("MuiTypography",n)}Gt("MuiTypography",["root","h1","h2","h3","h4","h5","h6","subtitle1","subtitle2","body1","body2","inherit","button","caption","overline","alignLeft","alignRight","alignCenter","alignJustify","noWrap","gutterBottom","paragraph"]);const ude=["align","className","component","gutterBottom","noWrap","paragraph","variant","variantMapping"],cde=n=>{const{align:t,gutterBottom:e,noWrap:r,paragraph:i,variant:o,classes:a}=n,s={root:["root",o,n.align!=="inherit"&&`align${Ue(t)}`,e&&"gutterBottom",r&&"noWrap",i&&"paragraph"]};return Wt(s,lde,a)},dde=Ke("span",{name:"MuiTypography",slot:"Root",overridesResolver:(n,t)=>{const{ownerState:e}=n;return[t.root,e.variant&&t[e.variant],e.align!=="inherit"&&t[`align${Ue(e.align)}`],e.noWrap&&t.noWrap,e.gutterBottom&&t.gutterBottom,e.paragraph&&t.paragraph]}})(({theme:n,ownerState:t})=>B({margin:0},t.variant==="inherit"&&{font:"inherit"},t.variant!=="inherit"&&n.typography[t.variant],t.align!=="inherit"&&{textAlign:t.align},t.noWrap&&{overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap"},t.gutterBottom&&{marginBottom:"0.35em"},t.paragraph&&{marginBottom:16})),uj={h1:"h1",h2:"h2",h3:"h3",h4:"h4",h5:"h5",h6:"h6",subtitle1:"h6",subtitle2:"h6",body1:"p",body2:"p",inherit:"p"},pde={primary:"primary.main",textPrimary:"text.primary",secondary:"secondary.main",textSecondary:"text.secondary",error:"error.main"},hde=n=>pde[n]||n,fde=F.forwardRef(function(t,e){const r=Ir({props:t,name:"MuiTypography"}),i=hde(r.color),o=CN(B({},r,{color:i})),{align:a="inherit",className:s,component:l,gutterBottom:u=!1,noWrap:c=!1,paragraph:d=!1,variant:p="body1",variantMapping:h=uj}=o,f=Le(o,ude),v=B({},o,{align:a,color:i,className:s,component:l,gutterBottom:u,noWrap:c,paragraph:d,variant:p,variantMapping:h}),g=l||(d?"p":h[p]||uj[p])||"span",y=cde(v);return G.jsx(dde,B({as:g,ref:e,ownerState:v,className:st(y.root,s)},f))}),Kx=fde;function vde(n){return zt("MuiAppBar",n)}Gt("MuiAppBar",["root","positionFixed","positionAbsolute","positionSticky","positionStatic","positionRelative","colorDefault","colorPrimary","colorSecondary","colorInherit","colorTransparent","colorError","colorInfo","colorSuccess","colorWarning"]);const gde=["className","color","enableColorOnDark","position"],yde=n=>{const{color:t,position:e,classes:r}=n,i={root:["root",`color${Ue(t)}`,`position${Ue(e)}`]};return Wt(i,vde,r)},V0=(n,t)=>n?`${n==null?void 0:n.replace(")","")}, ${t})`:t,mde=Ke(RN,{name:"MuiAppBar",slot:"Root",overridesResolver:(n,t)=>{const{ownerState:e}=n;return[t.root,t[`position${Ue(e.position)}`],t[`color${Ue(e.color)}`]]}})(({theme:n,ownerState:t})=>{const e=n.palette.mode==="light"?n.palette.grey[100]:n.palette.grey[900];return B({display:"flex",flexDirection:"column",width:"100%",boxSizing:"border-box",flexShrink:0},t.position==="fixed"&&{position:"fixed",zIndex:(n.vars||n).zIndex.appBar,top:0,left:"auto",right:0,"@media print":{position:"absolute"}},t.position==="absolute"&&{position:"absolute",zIndex:(n.vars||n).zIndex.appBar,top:0,left:"auto",right:0},t.position==="sticky"&&{position:"sticky",zIndex:(n.vars||n).zIndex.appBar,top:0,left:"auto",right:0},t.position==="static"&&{position:"static"},t.position==="relative"&&{position:"relative"},!n.vars&&B({},t.color==="default"&&{backgroundColor:e,color:n.palette.getContrastText(e)},t.color&&t.color!=="default"&&t.color!=="inherit"&&t.color!=="transparent"&&{backgroundColor:n.palette[t.color].main,color:n.palette[t.color].contrastText},t.color==="inherit"&&{color:"inherit"},n.palette.mode==="dark"&&!t.enableColorOnDark&&{backgroundColor:null,color:null},t.color==="transparent"&&B({backgroundColor:"transparent",color:"inherit"},n.palette.mode==="dark"&&{backgroundImage:"none"})),n.vars&&B({},t.color==="default"&&{"--AppBar-background":t.enableColorOnDark?n.vars.palette.AppBar.defaultBg:V0(n.vars.palette.AppBar.darkBg,n.vars.palette.AppBar.defaultBg),"--AppBar-color":t.enableColorOnDark?n.vars.palette.text.primary:V0(n.vars.palette.AppBar.darkColor,n.vars.palette.text.primary)},t.color&&!t.color.match(/^(default|inherit|transparent)$/)&&{"--AppBar-background":t.enableColorOnDark?n.vars.palette[t.color].main:V0(n.vars.palette.AppBar.darkBg,n.vars.palette[t.color].main),"--AppBar-color":t.enableColorOnDark?n.vars.palette[t.color].contrastText:V0(n.vars.palette.AppBar.darkColor,n.vars.palette[t.color].contrastText)},{backgroundColor:"var(--AppBar-background)",color:t.color==="inherit"?"inherit":"var(--AppBar-color)"},t.color==="transparent"&&{backgroundImage:"none",backgroundColor:"transparent",color:"inherit"}))}),Cde=F.forwardRef(function(t,e){const r=Ir({props:t,name:"MuiAppBar"}),{className:i,color:o="primary",enableColorOnDark:a=!1,position:s="fixed"}=r,l=Le(r,gde),u=B({},r,{color:o,position:s,enableColorOnDark:a}),c=yde(u);return G.jsx(mde,B({square:!0,component:"header",ownerState:u,elevation:4,className:st(c.root,i,s==="fixed"&&"mui-fixed"),ref:e},l))}),Sde=Cde,m9="base";function wde(n){return`${m9}--${n}`}function _de(n,t){return`${m9}-${n}-${t}`}function C9(n,t){const e=OK[t];return e?wde(e):_de(n,t)}function xde(n,t){const e={};return t.forEach(r=>{e[r]=C9(n,r)}),e}function cj(n){return n.substring(2).toLowerCase()}function Ede(n,t){return t.documentElement.clientWidth<n.clientX||t.documentElement.clientHeight<n.clientY}function bde(n){const{children:t,disableReactTree:e=!1,mouseEvent:r="onClick",onClickAway:i,touchEvent:o="onTouchEnd"}=n,a=F.useRef(!1),s=F.useRef(null),l=F.useRef(!1),u=F.useRef(!1);F.useEffect(()=>(setTimeout(()=>{l.current=!0},0),()=>{l.current=!1}),[]);const c=ks(t.ref,s),d=Rs(f=>{const v=u.current;u.current=!1;const g=Ld(s.current);if(!l.current||!s.current||"clientX"in f&&Ede(f,g))return;if(a.current){a.current=!1;return}let y;f.composedPath?y=f.composedPath().indexOf(s.current)>-1:y=!g.documentElement.contains(f.target)||s.current.contains(f.target),!y&&(e||!v)&&i(f)}),p=f=>v=>{u.current=!0;const g=t.props[f];g&&g(v)},h={ref:c};return o!==!1&&(h[o]=p(o)),F.useEffect(()=>{if(o!==!1){const f=cj(o),v=Ld(s.current),g=()=>{a.current=!0};return v.addEventListener(f,d),v.addEventListener("touchmove",g),()=>{v.removeEventListener(f,d),v.removeEventListener("touchmove",g)}}},[d,o]),r!==!1&&(h[r]=p(r)),F.useEffect(()=>{if(r!==!1){const f=cj(r),v=Ld(s.current);return v.addEventListener(f,d),()=>{v.removeEventListener(f,d)}}},[d,r]),G.jsx(F.Fragment,{children:F.cloneElement(t,h)})}function Ode(n){return typeof n=="function"?n():n}const Rde=F.forwardRef(function(t,e){const{children:r,container:i,disablePortal:o=!1}=t,[a,s]=F.useState(null),l=ks(F.isValidElement(r)?r.ref:null,e);if(Ql(()=>{o||s(Ode(i)||document.body)},[i,o]),Ql(()=>{if(a&&!o)return eb(e,a),()=>{eb(e,null)}},[e,a,o]),o){if(F.isValidElement(r)){const u={ref:l};return F.cloneElement(r,u)}return G.jsx(F.Fragment,{children:r})}return G.jsx(F.Fragment,{children:a&&uf.createPortal(r,a)})});function S9(n){const{children:t,defer:e=!1,fallback:r=null}=n,[i,o]=F.useState(!1);return Ql(()=>{e||o(!0)},[e]),F.useEffect(()=>{e&&o(!0)},[e]),G.jsx(F.Fragment,{children:i?t:r})}var Co="top",Qa="bottom",Ja="right",So="left",TN="auto",Ow=[Co,Qa,Ja,So],Sg="start",mS="end",Tde="clippingParents",w9="viewport",Ty="popper",Pde="reference",dj=Ow.reduce(function(n,t){return n.concat([t+"-"+Sg,t+"-"+mS])},[]),_9=[].concat(Ow,[TN]).reduce(function(n,t){return n.concat([t,t+"-"+Sg,t+"-"+mS])},[]),Ade="beforeRead",Dde="read",Mde="afterRead",Lde="beforeMain",Fde="main",Ide="afterMain",Nde="beforeWrite",kde="write",Gde="afterWrite",Vde=[Ade,Dde,Mde,Lde,Fde,Ide,Nde,kde,Gde];function Jl(n){return n?(n.nodeName||"").toLowerCase():null}function ua(n){if(n==null)return window;if(n.toString()!=="[object Window]"){var t=n.ownerDocument;return t&&t.defaultView||window}return n}function Yh(n){var t=ua(n).Element;return n instanceof t||n instanceof Element}function Ua(n){var t=ua(n).HTMLElement;return n instanceof t||n instanceof HTMLElement}function PN(n){if(typeof ShadowRoot>"u")return!1;var t=ua(n).ShadowRoot;return n instanceof t||n instanceof ShadowRoot}function Bde(n){var t=n.state;Object.keys(t.elements).forEach(function(e){var r=t.styles[e]||{},i=t.attributes[e]||{},o=t.elements[e];!Ua(o)||!Jl(o)||(Object.assign(o.style,r),Object.keys(i).forEach(function(a){var s=i[a];s===!1?o.removeAttribute(a):o.setAttribute(a,s===!0?"":s)}))})}function Hde(n){var t=n.state,e={popper:{position:t.options.strategy,left:"0",top:"0",margin:"0"},arrow:{position:"absolute"},reference:{}};return Object.assign(t.elements.popper.style,e.popper),t.styles=e,t.elements.arrow&&Object.assign(t.elements.arrow.style,e.arrow),function(){Object.keys(t.elements).forEach(function(r){var i=t.elements[r],o=t.attributes[r]||{},a=Object.keys(t.styles.hasOwnProperty(r)?t.styles[r]:e[r]),s=a.reduce(function(l,u){return l[u]="",l},{});!Ua(i)||!Jl(i)||(Object.assign(i.style,s),Object.keys(o).forEach(function(l){i.removeAttribute(l)}))})}}const jde={name:"applyStyles",enabled:!0,phase:"write",fn:Bde,effect:Hde,requires:["computeStyles"]};function Ul(n){return n.split("-")[0]}var Dh=Math.max,ob=Math.min,wg=Math.round;function VL(){var n=navigator.userAgentData;return n!=null&&n.brands&&Array.isArray(n.brands)?n.brands.map(function(t){return t.brand+"/"+t.version}).join(" "):navigator.userAgent}function x9(){return!/^((?!chrome|android).)*safari/i.test(VL())}function _g(n,t,e){t===void 0&&(t=!1),e===void 0&&(e=!1);var r=n.getBoundingClientRect(),i=1,o=1;t&&Ua(n)&&(i=n.offsetWidth>0&&wg(r.width)/n.offsetWidth||1,o=n.offsetHeight>0&&wg(r.height)/n.offsetHeight||1);var a=Yh(n)?ua(n):window,s=a.visualViewport,l=!x9()&&e,u=(r.left+(l&&s?s.offsetLeft:0))/i,c=(r.top+(l&&s?s.offsetTop:0))/o,d=r.width/i,p=r.height/o;return{width:d,height:p,top:c,right:u+d,bottom:c+p,left:u,x:u,y:c}}function AN(n){var t=_g(n),e=n.offsetWidth,r=n.offsetHeight;return Math.abs(t.width-e)<=1&&(e=t.width),Math.abs(t.height-r)<=1&&(r=t.height),{x:n.offsetLeft,y:n.offsetTop,width:e,height:r}}function E9(n,t){var e=t.getRootNode&&t.getRootNode();if(n.contains(t))return!0;if(e&&PN(e)){var r=t;do{if(r&&n.isSameNode(r))return!0;r=r.parentNode||r.host}while(r)}return!1}function Qu(n){return ua(n).getComputedStyle(n)}function $de(n){return["table","td","th"].indexOf(Jl(n))>=0}function ap(n){return((Yh(n)?n.ownerDocument:n.document)||window.document).documentElement}function YR(n){return Jl(n)==="html"?n:n.assignedSlot||n.parentNode||(PN(n)?n.host:null)||ap(n)}function pj(n){return!Ua(n)||Qu(n).position==="fixed"?null:n.offsetParent}function Wde(n){var t=/firefox/i.test(VL()),e=/Trident/i.test(VL());if(e&&Ua(n)){var r=Qu(n);if(r.position==="fixed")return null}var i=YR(n);for(PN(i)&&(i=i.host);Ua(i)&&["html","body"].indexOf(Jl(i))<0;){var o=Qu(i);if(o.transform!=="none"||o.perspective!=="none"||o.contain==="paint"||["transform","perspective"].indexOf(o.willChange)!==-1||t&&o.willChange==="filter"||t&&o.filter&&o.filter!=="none")return i;i=i.parentNode}return null}function Rw(n){for(var t=ua(n),e=pj(n);e&&$de(e)&&Qu(e).position==="static";)e=pj(e);return e&&(Jl(e)==="html"||Jl(e)==="body"&&Qu(e).position==="static")?t:e||Wde(n)||t}function DN(n){return["top","bottom"].indexOf(n)>=0?"x":"y"}function xC(n,t,e){return Dh(n,ob(t,e))}function Ude(n,t,e){var r=xC(n,t,e);return r>e?e:r}function b9(){return{top:0,right:0,bottom:0,left:0}}function O9(n){return Object.assign({},b9(),n)}function R9(n,t){return t.reduce(function(e,r){return e[r]=n,e},{})}var zde=function(t,e){return t=typeof t=="function"?t(Object.assign({},e.rects,{placement:e.placement})):t,O9(typeof t!="number"?t:R9(t,Ow))};function Kde(n){var t,e=n.state,r=n.name,i=n.options,o=e.elements.arrow,a=e.modifiersData.popperOffsets,s=Ul(e.placement),l=DN(s),u=[So,Ja].indexOf(s)>=0,c=u?"height":"width";if(!(!o||!a)){var d=zde(i.padding,e),p=AN(o),h=l==="y"?Co:So,f=l==="y"?Qa:Ja,v=e.rects.reference[c]+e.rects.reference[l]-a[l]-e.rects.popper[c],g=a[l]-e.rects.reference[l],y=Rw(o),m=y?l==="y"?y.clientHeight||0:y.clientWidth||0:0,C=v/2-g/2,S=d[h],w=m-p[c]-d[f],_=m/2-p[c]/2+C,x=xC(S,_,w),b=l;e.modifiersData[r]=(t={},t[b]=x,t.centerOffset=x-_,t)}}function Yde(n){var t=n.state,e=n.options,r=e.element,i=r===void 0?"[data-popper-arrow]":r;i!=null&&(typeof i=="string"&&(i=t.elements.popper.querySelector(i),!i)||E9(t.elements.popper,i)&&(t.elements.arrow=i))}const Xde={name:"arrow",enabled:!0,phase:"main",fn:Kde,effect:Yde,requires:["popperOffsets"],requiresIfExists:["preventOverflow"]};function xg(n){return n.split("-")[1]}var qde={top:"auto",right:"auto",bottom:"auto",left:"auto"};function Zde(n,t){var e=n.x,r=n.y,i=t.devicePixelRatio||1;return{x:wg(e*i)/i||0,y:wg(r*i)/i||0}}function hj(n){var t,e=n.popper,r=n.popperRect,i=n.placement,o=n.variation,a=n.offsets,s=n.position,l=n.gpuAcceleration,u=n.adaptive,c=n.roundOffsets,d=n.isFixed,p=a.x,h=p===void 0?0:p,f=a.y,v=f===void 0?0:f,g=typeof c=="function"?c({x:h,y:v}):{x:h,y:v};h=g.x,v=g.y;var y=a.hasOwnProperty("x"),m=a.hasOwnProperty("y"),C=So,S=Co,w=window;if(u){var _=Rw(e),x="clientHeight",b="clientWidth";if(_===ua(e)&&(_=ap(e),Qu(_).position!=="static"&&s==="absolute"&&(x="scrollHeight",b="scrollWidth")),_=_,i===Co||(i===So||i===Ja)&&o===mS){S=Qa;var O=d&&_===w&&w.visualViewport?w.visualViewport.height:_[x];v-=O-r.height,v*=l?1:-1}if(i===So||(i===Co||i===Qa)&&o===mS){C=Ja;var P=d&&_===w&&w.visualViewport?w.visualViewport.width:_[b];h-=P-r.width,h*=l?1:-1}}var D=Object.assign({position:s},u&&qde),N=c===!0?Zde({x:h,y:v},ua(e)):{x:h,y:v};if(h=N.x,v=N.y,l){var L;return Object.assign({},D,(L={},L[S]=m?"0":"",L[C]=y?"0":"",L.transform=(w.devicePixelRatio||1)<=1?"translate("+h+"px, "+v+"px)":"translate3d("+h+"px, "+v+"px, 0)",L))}return Object.assign({},D,(t={},t[S]=m?v+"px":"",t[C]=y?h+"px":"",t.transform="",t))}function Qde(n){var t=n.state,e=n.options,r=e.gpuAcceleration,i=r===void 0?!0:r,o=e.adaptive,a=o===void 0?!0:o,s=e.roundOffsets,l=s===void 0?!0:s,u={placement:Ul(t.placement),variation:xg(t.placement),popper:t.elements.popper,popperRect:t.rects.popper,gpuAcceleration:i,isFixed:t.options.strategy==="fixed"};t.modifiersData.popperOffsets!=null&&(t.styles.popper=Object.assign({},t.styles.popper,hj(Object.assign({},u,{offsets:t.modifiersData.popperOffsets,position:t.options.strategy,adaptive:a,roundOffsets:l})))),t.modifiersData.arrow!=null&&(t.styles.arrow=Object.assign({},t.styles.arrow,hj(Object.assign({},u,{offsets:t.modifiersData.arrow,position:"absolute",adaptive:!1,roundOffsets:l})))),t.attributes.popper=Object.assign({},t.attributes.popper,{"data-popper-placement":t.placement})}const Jde={name:"computeStyles",enabled:!0,phase:"beforeWrite",fn:Qde,data:{}};var B0={passive:!0};function epe(n){var t=n.state,e=n.instance,r=n.options,i=r.scroll,o=i===void 0?!0:i,a=r.resize,s=a===void 0?!0:a,l=ua(t.elements.popper),u=[].concat(t.scrollParents.reference,t.scrollParents.popper);return o&&u.forEach(function(c){c.addEventListener("scroll",e.update,B0)}),s&&l.addEventListener("resize",e.update,B0),function(){o&&u.forEach(function(c){c.removeEventListener("scroll",e.update,B0)}),s&&l.removeEventListener("resize",e.update,B0)}}const tpe={name:"eventListeners",enabled:!0,phase:"write",fn:function(){},effect:epe,data:{}};var rpe={left:"right",right:"left",bottom:"top",top:"bottom"};function Yx(n){return n.replace(/left|right|bottom|top/g,function(t){return rpe[t]})}var npe={start:"end",end:"start"};function fj(n){return n.replace(/start|end/g,function(t){return npe[t]})}function MN(n){var t=ua(n),e=t.pageXOffset,r=t.pageYOffset;return{scrollLeft:e,scrollTop:r}}function LN(n){return _g(ap(n)).left+MN(n).scrollLeft}function ipe(n,t){var e=ua(n),r=ap(n),i=e.visualViewport,o=r.clientWidth,a=r.clientHeight,s=0,l=0;if(i){o=i.width,a=i.height;var u=x9();(u||!u&&t==="fixed")&&(s=i.offsetLeft,l=i.offsetTop)}return{width:o,height:a,x:s+LN(n),y:l}}function ope(n){var t,e=ap(n),r=MN(n),i=(t=n.ownerDocument)==null?void 0:t.body,o=Dh(e.scrollWidth,e.clientWidth,i?i.scrollWidth:0,i?i.clientWidth:0),a=Dh(e.scrollHeight,e.clientHeight,i?i.scrollHeight:0,i?i.clientHeight:0),s=-r.scrollLeft+LN(n),l=-r.scrollTop;return Qu(i||e).direction==="rtl"&&(s+=Dh(e.clientWidth,i?i.clientWidth:0)-o),{width:o,height:a,x:s,y:l}}function FN(n){var t=Qu(n),e=t.overflow,r=t.overflowX,i=t.overflowY;return/auto|scroll|overlay|hidden/.test(e+i+r)}function T9(n){return["html","body","#document"].indexOf(Jl(n))>=0?n.ownerDocument.body:Ua(n)&&FN(n)?n:T9(YR(n))}function EC(n,t){var e;t===void 0&&(t=[]);var r=T9(n),i=r===((e=n.ownerDocument)==null?void 0:e.body),o=ua(r),a=i?[o].concat(o.visualViewport||[],FN(r)?r:[]):r,s=t.concat(a);return i?s:s.concat(EC(YR(a)))}function BL(n){return Object.assign({},n,{left:n.x,top:n.y,right:n.x+n.width,bottom:n.y+n.height})}function ape(n,t){var e=_g(n,!1,t==="fixed");return e.top=e.top+n.clientTop,e.left=e.left+n.clientLeft,e.bottom=e.top+n.clientHeight,e.right=e.left+n.clientWidth,e.width=n.clientWidth,e.height=n.clientHeight,e.x=e.left,e.y=e.top,e}function vj(n,t,e){return t===w9?BL(ipe(n,e)):Yh(t)?ape(t,e):BL(ope(ap(n)))}function spe(n){var t=EC(YR(n)),e=["absolute","fixed"].indexOf(Qu(n).position)>=0,r=e&&Ua(n)?Rw(n):n;return Yh(r)?t.filter(function(i){return Yh(i)&&E9(i,r)&&Jl(i)!=="body"}):[]}function lpe(n,t,e,r){var i=t==="clippingParents"?spe(n):[].concat(t),o=[].concat(i,[e]),a=o[0],s=o.reduce(function(l,u){var c=vj(n,u,r);return l.top=Dh(c.top,l.top),l.right=ob(c.right,l.right),l.bottom=ob(c.bottom,l.bottom),l.left=Dh(c.left,l.left),l},vj(n,a,r));return s.width=s.right-s.left,s.height=s.bottom-s.top,s.x=s.left,s.y=s.top,s}function P9(n){var t=n.reference,e=n.element,r=n.placement,i=r?Ul(r):null,o=r?xg(r):null,a=t.x+t.width/2-e.width/2,s=t.y+t.height/2-e.height/2,l;switch(i){case Co:l={x:a,y:t.y-e.height};break;case Qa:l={x:a,y:t.y+t.height};break;case Ja:l={x:t.x+t.width,y:s};break;case So:l={x:t.x-e.width,y:s};break;default:l={x:t.x,y:t.y}}var u=i?DN(i):null;if(u!=null){var c=u==="y"?"height":"width";switch(o){case Sg:l[u]=l[u]-(t[c]/2-e[c]/2);break;case mS:l[u]=l[u]+(t[c]/2-e[c]/2);break}}return l}function CS(n,t){t===void 0&&(t={});var e=t,r=e.placement,i=r===void 0?n.placement:r,o=e.strategy,a=o===void 0?n.strategy:o,s=e.boundary,l=s===void 0?Tde:s,u=e.rootBoundary,c=u===void 0?w9:u,d=e.elementContext,p=d===void 0?Ty:d,h=e.altBoundary,f=h===void 0?!1:h,v=e.padding,g=v===void 0?0:v,y=O9(typeof g!="number"?g:R9(g,Ow)),m=p===Ty?Pde:Ty,C=n.rects.popper,S=n.elements[f?m:p],w=lpe(Yh(S)?S:S.contextElement||ap(n.elements.popper),l,c,a),_=_g(n.elements.reference),x=P9({reference:_,element:C,strategy:"absolute",placement:i}),b=BL(Object.assign({},C,x)),O=p===Ty?b:_,P={top:w.top-O.top+y.top,bottom:O.bottom-w.bottom+y.bottom,left:w.left-O.left+y.left,right:O.right-w.right+y.right},D=n.modifiersData.offset;if(p===Ty&&D){var N=D[i];Object.keys(P).forEach(function(L){var I=[Ja,Qa].indexOf(L)>=0?1:-1,k=[Co,Qa].indexOf(L)>=0?"y":"x";P[L]+=N[k]*I})}return P}function upe(n,t){t===void 0&&(t={});var e=t,r=e.placement,i=e.boundary,o=e.rootBoundary,a=e.padding,s=e.flipVariations,l=e.allowedAutoPlacements,u=l===void 0?_9:l,c=xg(r),d=c?s?dj:dj.filter(function(f){return xg(f)===c}):Ow,p=d.filter(function(f){return u.indexOf(f)>=0});p.length===0&&(p=d);var h=p.reduce(function(f,v){return f[v]=CS(n,{placement:v,boundary:i,rootBoundary:o,padding:a})[Ul(v)],f},{});return Object.keys(h).sort(function(f,v){return h[f]-h[v]})}function cpe(n){if(Ul(n)===TN)return[];var t=Yx(n);return[fj(n),t,fj(t)]}function dpe(n){var t=n.state,e=n.options,r=n.name;if(!t.modifiersData[r]._skip){for(var i=e.mainAxis,o=i===void 0?!0:i,a=e.altAxis,s=a===void 0?!0:a,l=e.fallbackPlacements,u=e.padding,c=e.boundary,d=e.rootBoundary,p=e.altBoundary,h=e.flipVariations,f=h===void 0?!0:h,v=e.allowedAutoPlacements,g=t.options.placement,y=Ul(g),m=y===g,C=l||(m||!f?[Yx(g)]:cpe(g)),S=[g].concat(C).reduce(function(ue,se){return ue.concat(Ul(se)===TN?upe(t,{placement:se,boundary:c,rootBoundary:d,padding:u,flipVariations:f,allowedAutoPlacements:v}):se)},[]),w=t.rects.reference,_=t.rects.popper,x=new Map,b=!0,O=S[0],P=0;P<S.length;P++){var D=S[P],N=Ul(D),L=xg(D)===Sg,I=[Co,Qa].indexOf(N)>=0,k=I?"width":"height",H=CS(t,{placement:D,boundary:c,rootBoundary:d,altBoundary:p,padding:u}),$=I?L?Ja:So:L?Qa:Co;w[k]>_[k]&&($=Yx($));var V=Yx($),W=[];if(o&&W.push(H[N]<=0),s&&W.push(H[$]<=0,H[V]<=0),W.every(function(ue){return ue})){O=D,b=!1;break}x.set(D,W)}if(b)for(var K=f?3:1,Z=function(se){var q=S.find(function(he){var be=x.get(he);if(be)return be.slice(0,se).every(function(ee){return ee})});if(q)return O=q,"break"},Q=K;Q>0;Q--){var ce=Z(Q);if(ce==="break")break}t.placement!==O&&(t.modifiersData[r]._skip=!0,t.placement=O,t.reset=!0)}}const ppe={name:"flip",enabled:!0,phase:"main",fn:dpe,requiresIfExists:["offset"],data:{_skip:!1}};function gj(n,t,e){return e===void 0&&(e={x:0,y:0}),{top:n.top-t.height-e.y,right:n.right-t.width+e.x,bottom:n.bottom-t.height+e.y,left:n.left-t.width-e.x}}function yj(n){return[Co,Ja,Qa,So].some(function(t){return n[t]>=0})}function hpe(n){var t=n.state,e=n.name,r=t.rects.reference,i=t.rects.popper,o=t.modifiersData.preventOverflow,a=CS(t,{elementContext:"reference"}),s=CS(t,{altBoundary:!0}),l=gj(a,r),u=gj(s,i,o),c=yj(l),d=yj(u);t.modifiersData[e]={referenceClippingOffsets:l,popperEscapeOffsets:u,isReferenceHidden:c,hasPopperEscaped:d},t.attributes.popper=Object.assign({},t.attributes.popper,{"data-popper-reference-hidden":c,"data-popper-escaped":d})}const fpe={name:"hide",enabled:!0,phase:"main",requiresIfExists:["preventOverflow"],fn:hpe};function vpe(n,t,e){var r=Ul(n),i=[So,Co].indexOf(r)>=0?-1:1,o=typeof e=="function"?e(Object.assign({},t,{placement:n})):e,a=o[0],s=o[1];return a=a||0,s=(s||0)*i,[So,Ja].indexOf(r)>=0?{x:s,y:a}:{x:a,y:s}}function gpe(n){var t=n.state,e=n.options,r=n.name,i=e.offset,o=i===void 0?[0,0]:i,a=_9.reduce(function(c,d){return c[d]=vpe(d,t.rects,o),c},{}),s=a[t.placement],l=s.x,u=s.y;t.modifiersData.popperOffsets!=null&&(t.modifiersData.popperOffsets.x+=l,t.modifiersData.popperOffsets.y+=u),t.modifiersData[r]=a}const ype={name:"offset",enabled:!0,phase:"main",requires:["popperOffsets"],fn:gpe};function mpe(n){var t=n.state,e=n.name;t.modifiersData[e]=P9({reference:t.rects.reference,element:t.rects.popper,strategy:"absolute",placement:t.placement})}const Cpe={name:"popperOffsets",enabled:!0,phase:"read",fn:mpe,data:{}};function Spe(n){return n==="x"?"y":"x"}function wpe(n){var t=n.state,e=n.options,r=n.name,i=e.mainAxis,o=i===void 0?!0:i,a=e.altAxis,s=a===void 0?!1:a,l=e.boundary,u=e.rootBoundary,c=e.altBoundary,d=e.padding,p=e.tether,h=p===void 0?!0:p,f=e.tetherOffset,v=f===void 0?0:f,g=CS(t,{boundary:l,rootBoundary:u,padding:d,altBoundary:c}),y=Ul(t.placement),m=xg(t.placement),C=!m,S=DN(y),w=Spe(S),_=t.modifiersData.popperOffsets,x=t.rects.reference,b=t.rects.popper,O=typeof v=="function"?v(Object.assign({},t.rects,{placement:t.placement})):v,P=typeof O=="number"?{mainAxis:O,altAxis:O}:Object.assign({mainAxis:0,altAxis:0},O),D=t.modifiersData.offset?t.modifiersData.offset[t.placement]:null,N={x:0,y:0};if(_){if(o){var L,I=S==="y"?Co:So,k=S==="y"?Qa:Ja,H=S==="y"?"height":"width",$=_[S],V=$+g[I],W=$-g[k],K=h?-b[H]/2:0,Z=m===Sg?x[H]:b[H],Q=m===Sg?-b[H]:-x[H],ce=t.elements.arrow,ue=h&&ce?AN(ce):{width:0,height:0},se=t.modifiersData["arrow#persistent"]?t.modifiersData["arrow#persistent"].padding:b9(),q=se[I],he=se[k],be=xC(0,x[H],ue[H]),ee=C?x[H]/2-K-be-q-P.mainAxis:Z-be-q-P.mainAxis,Se=C?-x[H]/2+K+be+he+P.mainAxis:Q+be+he+P.mainAxis,Ce=t.elements.arrow&&Rw(t.elements.arrow),te=Ce?S==="y"?Ce.clientTop||0:Ce.clientLeft||0:0,Pe=(L=D==null?void 0:D[S])!=null?L:0,De=$+ee-Pe-te,Ne=$+Se-Pe,ke=xC(h?ob(V,De):V,$,h?Dh(W,Ne):W);_[S]=ke,N[S]=ke-$}if(s){var Ye,it=S==="x"?Co:So,Dr=S==="x"?Qa:Ja,ze=_[w],lr=w==="y"?"height":"width",gr=ze+g[it],yr=ze-g[Dr],yt=[Co,So].indexOf(y)!==-1,Pt=(Ye=D==null?void 0:D[w])!=null?Ye:0,Vt=yt?gr:ze-x[lr]-b[lr]-Pt+P.altAxis,ir=yt?ze+x[lr]+b[lr]-Pt-P.altAxis:yr,mn=h&&yt?Ude(Vt,ze,ir):xC(h?Vt:gr,ze,h?ir:yr);_[w]=mn,N[w]=mn-ze}t.modifiersData[r]=N}}const _pe={name:"preventOverflow",enabled:!0,phase:"main",fn:wpe,requiresIfExists:["offset"]};function xpe(n){return{scrollLeft:n.scrollLeft,scrollTop:n.scrollTop}}function Epe(n){return n===ua(n)||!Ua(n)?MN(n):xpe(n)}function bpe(n){var t=n.getBoundingClientRect(),e=wg(t.width)/n.offsetWidth||1,r=wg(t.height)/n.offsetHeight||1;return e!==1||r!==1}function Ope(n,t,e){e===void 0&&(e=!1);var r=Ua(t),i=Ua(t)&&bpe(t),o=ap(t),a=_g(n,i,e),s={scrollLeft:0,scrollTop:0},l={x:0,y:0};return(r||!r&&!e)&&((Jl(t)!=="body"||FN(o))&&(s=Epe(t)),Ua(t)?(l=_g(t,!0),l.x+=t.clientLeft,l.y+=t.clientTop):o&&(l.x=LN(o))),{x:a.left+s.scrollLeft-l.x,y:a.top+s.scrollTop-l.y,width:a.width,height:a.height}}function Rpe(n){var t=new Map,e=new Set,r=[];n.forEach(function(o){t.set(o.name,o)});function i(o){e.add(o.name);var a=[].concat(o.requires||[],o.requiresIfExists||[]);a.forEach(function(s){if(!e.has(s)){var l=t.get(s);l&&i(l)}}),r.push(o)}return n.forEach(function(o){e.has(o.name)||i(o)}),r}function Tpe(n){var t=Rpe(n);return Vde.reduce(function(e,r){return e.concat(t.filter(function(i){return i.phase===r}))},[])}function Ppe(n){var t;return function(){return t||(t=new Promise(function(e){Promise.resolve().then(function(){t=void 0,e(n())})})),t}}function Ape(n){var t=n.reduce(function(e,r){var i=e[r.name];return e[r.name]=i?Object.assign({},i,r,{options:Object.assign({},i.options,r.options),data:Object.assign({},i.data,r.data)}):r,e},{});return Object.keys(t).map(function(e){return t[e]})}var mj={placement:"bottom",modifiers:[],strategy:"absolute"};function Cj(){for(var n=arguments.length,t=new Array(n),e=0;e<n;e++)t[e]=arguments[e];return!t.some(function(r){return!(r&&typeof r.getBoundingClientRect=="function")})}function Dpe(n){n===void 0&&(n={});var t=n,e=t.defaultModifiers,r=e===void 0?[]:e,i=t.defaultOptions,o=i===void 0?mj:i;return function(s,l,u){u===void 0&&(u=o);var c={placement:"bottom",orderedModifiers:[],options:Object.assign({},mj,o),modifiersData:{},elements:{reference:s,popper:l},attributes:{},styles:{}},d=[],p=!1,h={state:c,setOptions:function(y){var m=typeof y=="function"?y(c.options):y;v(),c.options=Object.assign({},o,c.options,m),c.scrollParents={reference:Yh(s)?EC(s):s.contextElement?EC(s.contextElement):[],popper:EC(l)};var C=Tpe(Ape([].concat(r,c.options.modifiers)));return c.orderedModifiers=C.filter(function(S){return S.enabled}),f(),h.update()},forceUpdate:function(){if(!p){var y=c.elements,m=y.reference,C=y.popper;if(Cj(m,C)){c.rects={reference:Ope(m,Rw(C),c.options.strategy==="fixed"),popper:AN(C)},c.reset=!1,c.placement=c.options.placement,c.orderedModifiers.forEach(function(P){return c.modifiersData[P.name]=Object.assign({},P.data)});for(var S=0;S<c.orderedModifiers.length;S++){if(c.reset===!0){c.reset=!1,S=-1;continue}var w=c.orderedModifiers[S],_=w.fn,x=w.options,b=x===void 0?{}:x,O=w.name;typeof _=="function"&&(c=_({state:c,options:b,name:O,instance:h})||c)}}}},update:Ppe(function(){return new Promise(function(g){h.forceUpdate(),g(c)})}),destroy:function(){v(),p=!0}};if(!Cj(s,l))return h;h.setOptions(u).then(function(g){!p&&u.onFirstUpdate&&u.onFirstUpdate(g)});function f(){c.orderedModifiers.forEach(function(g){var y=g.name,m=g.options,C=m===void 0?{}:m,S=g.effect;if(typeof S=="function"){var w=S({state:c,name:y,instance:h,options:C}),_=function(){};d.push(w||_)}})}function v(){d.forEach(function(g){return g()}),d=[]}return h}}var Mpe=[tpe,Cpe,Jde,jde,ype,ppe,_pe,Xde,fpe],Lpe=Dpe({defaultModifiers:Mpe});const A9="Popper";function Fpe(n){return C9(A9,n)}xde(A9,["root"]);const Ipe=["anchorEl","children","direction","disablePortal","modifiers","open","placement","popperOptions","popperRef","slotProps","slots","TransitionProps","ownerState"],Npe=["anchorEl","children","container","direction","disablePortal","keepMounted","modifiers","open","placement","popperOptions","popperRef","style","transition","slotProps","slots"];function kpe(n,t){if(t==="ltr")return n;switch(n){case"bottom-end":return"bottom-start";case"bottom-start":return"bottom-end";case"top-end":return"top-start";case"top-start":return"top-end";default:return n}}function HL(n){return typeof n=="function"?n():n}function Gpe(n){return n.nodeType!==void 0}const Vpe=()=>Wt({root:["root"]},Cce(Fpe)),Bpe={},Hpe=F.forwardRef(function(t,e){var r;const{anchorEl:i,children:o,direction:a,disablePortal:s,modifiers:l,open:u,placement:c,popperOptions:d,popperRef:p,slotProps:h={},slots:f={},TransitionProps:v}=t,g=Le(t,Ipe),y=F.useRef(null),m=ks(y,e),C=F.useRef(null),S=ks(C,p),w=F.useRef(S);Ql(()=>{w.current=S},[S]),F.useImperativeHandle(p,()=>C.current,[]);const _=kpe(c,a),[x,b]=F.useState(_),[O,P]=F.useState(HL(i));F.useEffect(()=>{C.current&&C.current.forceUpdate()}),F.useEffect(()=>{i&&P(HL(i))},[i]),Ql(()=>{if(!O||!u)return;const k=V=>{b(V.placement)};let H=[{name:"preventOverflow",options:{altBoundary:s}},{name:"flip",options:{altBoundary:s}},{name:"onUpdate",enabled:!0,phase:"afterWrite",fn:({state:V})=>{k(V)}}];l!=null&&(H=H.concat(l)),d&&d.modifiers!=null&&(H=H.concat(d.modifiers));const $=Lpe(O,y.current,B({placement:_},d,{modifiers:H}));return w.current($),()=>{$.destroy(),w.current(null)}},[O,s,l,u,d,_]);const D={placement:x};v!==null&&(D.TransitionProps=v);const N=Vpe(),L=(r=f.root)!=null?r:"div",I=Gn({elementType:L,externalSlotProps:h.root,externalForwardedProps:g,additionalProps:{role:"tooltip",ref:m},ownerState:t,className:N.root});return G.jsx(L,B({},I,{children:typeof o=="function"?o(D):o}))}),jpe=F.forwardRef(function(t,e){const{anchorEl:r,children:i,container:o,direction:a="ltr",disablePortal:s=!1,keepMounted:l=!1,modifiers:u,open:c,placement:d="bottom",popperOptions:p=Bpe,popperRef:h,style:f,transition:v=!1,slotProps:g={},slots:y={}}=t,m=Le(t,Npe),[C,S]=F.useState(!0),w=()=>{S(!1)},_=()=>{S(!0)};if(!l&&!c&&(!v||C))return null;let x;if(o)x=o;else if(r){const P=HL(r);x=P&&Gpe(P)?Ld(P).body:Ld(null).body}const b=!c&&l&&(!v||C)?"none":void 0,O=v?{in:c,onEnter:w,onExited:_}:void 0;return G.jsx(Rde,{disablePortal:s,container:x,children:G.jsx(Hpe,B({anchorEl:r,direction:a,disablePortal:s,modifiers:u,ref:e,open:v?!C:c,placement:d,popperOptions:p,popperRef:h,slotProps:g,slots:y},m,{style:B({position:"fixed",top:0,left:0,display:b},f),TransitionProps:O,children:i}))})});function $pe(n={}){const{autoHideDuration:t=null,disableWindowBlurListener:e=!1,onClose:r,open:i,resumeHideDuration:o}=n,a=iN();F.useEffect(()=>{if(!i)return;function y(m){m.defaultPrevented||(m.key==="Escape"||m.key==="Esc")&&(r==null||r(m,"escapeKeyDown"))}return document.addEventListener("keydown",y),()=>{document.removeEventListener("keydown",y)}},[i,r]);const s=Rs((y,m)=>{r==null||r(y,m)}),l=Rs(y=>{!r||y==null||a.start(y,()=>{s(null,"timeout")})});F.useEffect(()=>(i&&l(t),a.clear),[i,t,l,a]);const u=y=>{r==null||r(y,"clickaway")},c=a.clear,d=F.useCallback(()=>{t!=null&&l(o??t*.5)},[t,o,l]),p=y=>m=>{const C=y.onBlur;C==null||C(m),d()},h=y=>m=>{const C=y.onFocus;C==null||C(m),c()},f=y=>m=>{const C=y.onMouseEnter;C==null||C(m),c()},v=y=>m=>{const C=y.onMouseLeave;C==null||C(m),d()};return F.useEffect(()=>{if(!e&&i)return window.addEventListener("focus",d),window.addEventListener("blur",c),()=>{window.removeEventListener("focus",d),window.removeEventListener("blur",c)}},[e,i,d,c]),{getRootProps:(y={})=>{const m=B({},kL(n),kL(y));return B({role:"presentation"},y,m,{onBlur:p(m),onFocus:h(m),onMouseEnter:f(m),onMouseLeave:v(m)})},onClickAway:u}}const Wpe=Gt("MuiBox",["root"]),Upe=Wpe,zpe=l9(),Kpe=d9({themeId:zR,defaultTheme:zpe,defaultClassName:Upe.root,generateClassName:xR.generate}),Sj=Kpe,Ype=vc(G.jsx("path",{d:"M6 10c-1.1 0-2 .9-2 2s.9 2 2 2 2-.9 2-2-.9-2-2-2zm12 0c-1.1 0-2 .9-2 2s.9 2 2 2 2-.9 2-2-.9-2-2-2zm-6 0c-1.1 0-2 .9-2 2s.9 2 2 2 2-.9 2-2-.9-2-2-2z"}),"MoreHoriz"),Xpe=["slots","slotProps"],qpe=Ke(zg)(({theme:n})=>B({display:"flex",marginLeft:`calc(${n.spacing(1)} * 0.5)`,marginRight:`calc(${n.spacing(1)} * 0.5)`},n.palette.mode==="light"?{backgroundColor:n.palette.grey[100],color:n.palette.grey[700]}:{backgroundColor:n.palette.grey[700],color:n.palette.grey[100]},{borderRadius:2,"&:hover, &:focus":B({},n.palette.mode==="light"?{backgroundColor:n.palette.grey[200]}:{backgroundColor:n.palette.grey[600]}),"&:active":B({boxShadow:n.shadows[0]},n.palette.mode==="light"?{backgroundColor:DL(n.palette.grey[200],.12)}:{backgroundColor:DL(n.palette.grey[600],.12)})})),Zpe=Ke(Ype)({width:24,height:16});function Qpe(n){const{slots:t={},slotProps:e={}}=n,r=Le(n,Xpe),i=n;return G.jsx("li",{children:G.jsx(qpe,B({focusRipple:!0},r,{ownerState:i,children:G.jsx(Zpe,B({as:t.CollapsedIcon,ownerState:i},e.collapsedIcon))}))})}function Jpe(n){return zt("MuiBreadcrumbs",n)}const ehe=Gt("MuiBreadcrumbs",["root","ol","li","separator"]),the=ehe,rhe=["children","className","component","slots","slotProps","expandText","itemsAfterCollapse","itemsBeforeCollapse","maxItems","separator"],nhe=n=>{const{classes:t}=n;return Wt({root:["root"],li:["li"],ol:["ol"],separator:["separator"]},Jpe,t)},ihe=Ke(Kx,{name:"MuiBreadcrumbs",slot:"Root",overridesResolver:(n,t)=>[{[`& .${the.li}`]:t.li},t.root]})({}),ohe=Ke("ol",{name:"MuiBreadcrumbs",slot:"Ol",overridesResolver:(n,t)=>t.ol})({display:"flex",flexWrap:"wrap",alignItems:"center",padding:0,margin:0,listStyle:"none"}),ahe=Ke("li",{name:"MuiBreadcrumbs",slot:"Separator",overridesResolver:(n,t)=>t.separator})({display:"flex",userSelect:"none",marginLeft:8,marginRight:8});function she(n,t,e,r){return n.reduce((i,o,a)=>(a<n.length-1?i=i.concat(o,G.jsx(ahe,{"aria-hidden":!0,className:t,ownerState:r,children:e},`separator-${a}`)):i.push(o),i),[])}const lhe=F.forwardRef(function(t,e){const r=Ir({props:t,name:"MuiBreadcrumbs"}),{children:i,className:o,component:a="nav",slots:s={},slotProps:l={},expandText:u="Show path",itemsAfterCollapse:c=1,itemsBeforeCollapse:d=1,maxItems:p=8,separator:h="/"}=r,f=Le(r,rhe),[v,g]=F.useState(!1),y=B({},r,{component:a,expanded:v,expandText:u,itemsAfterCollapse:c,itemsBeforeCollapse:d,maxItems:p,separator:h}),m=nhe(y),C=Gn({elementType:s.CollapsedIcon,externalSlotProps:l.collapsedIcon,ownerState:y}),S=F.useRef(null),w=x=>{const b=()=>{g(!0);const O=S.current.querySelector("a[href],button,[tabindex]");O&&O.focus()};return d+c>=x.length?x:[...x.slice(0,d),G.jsx(Qpe,{"aria-label":u,slots:{CollapsedIcon:s.CollapsedIcon},slotProps:{collapsedIcon:C},onClick:b},"ellipsis"),...x.slice(x.length-c,x.length)]},_=F.Children.toArray(i).filter(x=>F.isValidElement(x)).map((x,b)=>G.jsx("li",{className:m.li,children:x},`child-${b}`));return G.jsx(ihe,B({ref:e,component:a,color:"text.secondary",className:st(m.root,o),ownerState:y},f,{children:G.jsx(ohe,{className:m.ol,ref:S,ownerState:y,children:she(v||p&&_.length<=p?_:w(_),m.separator,h,y)})}))}),uhe=lhe;function che(n){return zt("MuiButton",n)}const dhe=Gt("MuiButton",["root","text","textInherit","textPrimary","textSecondary","textSuccess","textError","textInfo","textWarning","outlined","outlinedInherit","outlinedPrimary","outlinedSecondary","outlinedSuccess","outlinedError","outlinedInfo","outlinedWarning","contained","containedInherit","containedPrimary","containedSecondary","containedSuccess","containedError","containedInfo","containedWarning","disableElevation","focusVisible","disabled","colorInherit","colorPrimary","colorSecondary","colorSuccess","colorError","colorInfo","colorWarning","textSizeSmall","textSizeMedium","textSizeLarge","outlinedSizeSmall","outlinedSizeMedium","outlinedSizeLarge","containedSizeSmall","containedSizeMedium","containedSizeLarge","sizeMedium","sizeSmall","sizeLarge","fullWidth","startIcon","endIcon","icon","iconSizeSmall","iconSizeMedium","iconSizeLarge"]),H0=dhe,phe=F.createContext({}),D9=phe,hhe=F.createContext(void 0),M9=hhe,fhe=["children","color","component","className","disabled","disableElevation","disableFocusRipple","endIcon","focusVisibleClassName","fullWidth","size","startIcon","type","variant"],vhe=n=>{const{color:t,disableElevation:e,fullWidth:r,size:i,variant:o,classes:a}=n,s={root:["root",o,`${o}${Ue(t)}`,`size${Ue(i)}`,`${o}Size${Ue(i)}`,`color${Ue(t)}`,e&&"disableElevation",r&&"fullWidth"],label:["label"],startIcon:["icon","startIcon",`iconSize${Ue(i)}`],endIcon:["icon","endIcon",`iconSize${Ue(i)}`]},l=Wt(s,che,a);return B({},a,l)},L9=n=>B({},n.size==="small"&&{"& > *:nth-of-type(1)":{fontSize:18}},n.size==="medium"&&{"& > *:nth-of-type(1)":{fontSize:20}},n.size==="large"&&{"& > *:nth-of-type(1)":{fontSize:22}}),ghe=Ke(zg,{shouldForwardProp:n=>EN(n)||n==="classes",name:"MuiButton",slot:"Root",overridesResolver:(n,t)=>{const{ownerState:e}=n;return[t.root,t[e.variant],t[`${e.variant}${Ue(e.color)}`],t[`size${Ue(e.size)}`],t[`${e.variant}Size${Ue(e.size)}`],e.color==="inherit"&&t.colorInherit,e.disableElevation&&t.disableElevation,e.fullWidth&&t.fullWidth]}})(({theme:n,ownerState:t})=>{var e,r;const i=n.palette.mode==="light"?n.palette.grey[300]:n.palette.grey[800],o=n.palette.mode==="light"?n.palette.grey.A100:n.palette.grey[700];return B({},n.typography.button,{minWidth:64,padding:"6px 16px",borderRadius:(n.vars||n).shape.borderRadius,transition:n.transitions.create(["background-color","box-shadow","border-color","color"],{duration:n.transitions.duration.short}),"&:hover":B({textDecoration:"none",backgroundColor:n.vars?`rgba(${n.vars.palette.text.primaryChannel} / ${n.vars.palette.action.hoverOpacity})`:Iu(n.palette.text.primary,n.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:"transparent"}},t.variant==="text"&&t.color!=="inherit"&&{backgroundColor:n.vars?`rgba(${n.vars.palette[t.color].mainChannel} / ${n.vars.palette.action.hoverOpacity})`:Iu(n.palette[t.color].main,n.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:"transparent"}},t.variant==="outlined"&&t.color!=="inherit"&&{border:`1px solid ${(n.vars||n).palette[t.color].main}`,backgroundColor:n.vars?`rgba(${n.vars.palette[t.color].mainChannel} / ${n.vars.palette.action.hoverOpacity})`:Iu(n.palette[t.color].main,n.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:"transparent"}},t.variant==="contained"&&{backgroundColor:n.vars?n.vars.palette.Button.inheritContainedHoverBg:o,boxShadow:(n.vars||n).shadows[4],"@media (hover: none)":{boxShadow:(n.vars||n).shadows[2],backgroundColor:(n.vars||n).palette.grey[300]}},t.variant==="contained"&&t.color!=="inherit"&&{backgroundColor:(n.vars||n).palette[t.color].dark,"@media (hover: none)":{backgroundColor:(n.vars||n).palette[t.color].main}}),"&:active":B({},t.variant==="contained"&&{boxShadow:(n.vars||n).shadows[8]}),[`&.${H0.focusVisible}`]:B({},t.variant==="contained"&&{boxShadow:(n.vars||n).shadows[6]}),[`&.${H0.disabled}`]:B({color:(n.vars||n).palette.action.disabled},t.variant==="outlined"&&{border:`1px solid ${(n.vars||n).palette.action.disabledBackground}`},t.variant==="contained"&&{color:(n.vars||n).palette.action.disabled,boxShadow:(n.vars||n).shadows[0],backgroundColor:(n.vars||n).palette.action.disabledBackground})},t.variant==="text"&&{padding:"6px 8px"},t.variant==="text"&&t.color!=="inherit"&&{color:(n.vars||n).palette[t.color].main},t.variant==="outlined"&&{padding:"5px 15px",border:"1px solid currentColor"},t.variant==="outlined"&&t.color!=="inherit"&&{color:(n.vars||n).palette[t.color].main,border:n.vars?`1px solid rgba(${n.vars.palette[t.color].mainChannel} / 0.5)`:`1px solid ${Iu(n.palette[t.color].main,.5)}`},t.variant==="contained"&&{color:n.vars?n.vars.palette.text.primary:(e=(r=n.palette).getContrastText)==null?void 0:e.call(r,n.palette.grey[300]),backgroundColor:n.vars?n.vars.palette.Button.inheritContainedBg:i,boxShadow:(n.vars||n).shadows[2]},t.variant==="contained"&&t.color!=="inherit"&&{color:(n.vars||n).palette[t.color].contrastText,backgroundColor:(n.vars||n).palette[t.color].main},t.color==="inherit"&&{color:"inherit",borderColor:"currentColor"},t.size==="small"&&t.variant==="text"&&{padding:"4px 5px",fontSize:n.typography.pxToRem(13)},t.size==="large"&&t.variant==="text"&&{padding:"8px 11px",fontSize:n.typography.pxToRem(15)},t.size==="small"&&t.variant==="outlined"&&{padding:"3px 9px",fontSize:n.typography.pxToRem(13)},t.size==="large"&&t.variant==="outlined"&&{padding:"7px 21px",fontSize:n.typography.pxToRem(15)},t.size==="small"&&t.variant==="contained"&&{padding:"4px 10px",fontSize:n.typography.pxToRem(13)},t.size==="large"&&t.variant==="contained"&&{padding:"8px 22px",fontSize:n.typography.pxToRem(15)},t.fullWidth&&{width:"100%"})},({ownerState:n})=>n.disableElevation&&{boxShadow:"none","&:hover":{boxShadow:"none"},[`&.${H0.focusVisible}`]:{boxShadow:"none"},"&:active":{boxShadow:"none"},[`&.${H0.disabled}`]:{boxShadow:"none"}}),yhe=Ke("span",{name:"MuiButton",slot:"StartIcon",overridesResolver:(n,t)=>{const{ownerState:e}=n;return[t.startIcon,t[`iconSize${Ue(e.size)}`]]}})(({ownerState:n})=>B({display:"inherit",marginRight:8,marginLeft:-4},n.size==="small"&&{marginLeft:-2},L9(n))),mhe=Ke("span",{name:"MuiButton",slot:"EndIcon",overridesResolver:(n,t)=>{const{ownerState:e}=n;return[t.endIcon,t[`iconSize${Ue(e.size)}`]]}})(({ownerState:n})=>B({display:"inherit",marginRight:-4,marginLeft:8},n.size==="small"&&{marginRight:-2},L9(n))),Che=F.forwardRef(function(t,e){const r=F.useContext(D9),i=F.useContext(M9),o=oN(r,t),a=Ir({props:o,name:"MuiButton"}),{children:s,color:l="primary",component:u="button",className:c,disabled:d=!1,disableElevation:p=!1,disableFocusRipple:h=!1,endIcon:f,focusVisibleClassName:v,fullWidth:g=!1,size:y="medium",startIcon:m,type:C,variant:S="text"}=a,w=Le(a,fhe),_=B({},a,{color:l,component:u,disabled:d,disableElevation:p,disableFocusRipple:h,fullWidth:g,size:y,type:C,variant:S}),x=vhe(_),b=m&&G.jsx(yhe,{className:x.startIcon,ownerState:_,children:m}),O=f&&G.jsx(mhe,{className:x.endIcon,ownerState:_,children:f}),P=i||"";return G.jsxs(ghe,B({ownerState:_,className:st(r.className,x.root,c,P),component:u,disabled:d,focusRipple:!h,focusVisibleClassName:st(x.focusVisible,v),ref:e,type:C},w,{classes:x,children:[b,s,O]}))}),cd=Che;function She(n){return zt("MuiButtonGroup",n)}const qn=Gt("MuiButtonGroup",["root","contained","outlined","text","disableElevation","disabled","firstButton","fullWidth","vertical","grouped","groupedHorizontal","groupedVertical","groupedText","groupedTextHorizontal","groupedTextVertical","groupedTextPrimary","groupedTextSecondary","groupedOutlined","groupedOutlinedHorizontal","groupedOutlinedVertical","groupedOutlinedPrimary","groupedOutlinedSecondary","groupedContained","groupedContainedHorizontal","groupedContainedVertical","groupedContainedPrimary","groupedContainedSecondary","lastButton","middleButton"]),whe=["children","className","color","component","disabled","disableElevation","disableFocusRipple","disableRipple","fullWidth","orientation","size","variant"],_he=(n,t)=>{const{ownerState:e}=n;return[{[`& .${qn.grouped}`]:t.grouped},{[`& .${qn.grouped}`]:t[`grouped${Ue(e.orientation)}`]},{[`& .${qn.grouped}`]:t[`grouped${Ue(e.variant)}`]},{[`& .${qn.grouped}`]:t[`grouped${Ue(e.variant)}${Ue(e.orientation)}`]},{[`& .${qn.grouped}`]:t[`grouped${Ue(e.variant)}${Ue(e.color)}`]},{[`& .${qn.firstButton}`]:t.firstButton},{[`& .${qn.lastButton}`]:t.lastButton},{[`& .${qn.middleButton}`]:t.middleButton},t.root,t[e.variant],e.disableElevation===!0&&t.disableElevation,e.fullWidth&&t.fullWidth,e.orientation==="vertical"&&t.vertical]},xhe=n=>{const{classes:t,color:e,disabled:r,disableElevation:i,fullWidth:o,orientation:a,variant:s}=n,l={root:["root",s,a==="vertical"&&"vertical",o&&"fullWidth",i&&"disableElevation"],grouped:["grouped",`grouped${Ue(a)}`,`grouped${Ue(s)}`,`grouped${Ue(s)}${Ue(a)}`,`grouped${Ue(s)}${Ue(e)}`,r&&"disabled"],firstButton:["firstButton"],lastButton:["lastButton"],middleButton:["middleButton"]};return Wt(l,She,t)},Ehe=Ke("div",{name:"MuiButtonGroup",slot:"Root",overridesResolver:_he})(({theme:n,ownerState:t})=>B({display:"inline-flex",borderRadius:(n.vars||n).shape.borderRadius},t.variant==="contained"&&{boxShadow:(n.vars||n).shadows[2]},t.disableElevation&&{boxShadow:"none"},t.fullWidth&&{width:"100%"},t.orientation==="vertical"&&{flexDirection:"column"},{[`& .${qn.grouped}`]:B({minWidth:40,"&:hover":B({},t.variant==="contained"&&{boxShadow:"none"})},t.variant==="contained"&&{boxShadow:"none"}),[`& .${qn.firstButton},& .${qn.middleButton}`]:B({},t.orientation==="horizontal"&&{borderTopRightRadius:0,borderBottomRightRadius:0},t.orientation==="vertical"&&{borderBottomRightRadius:0,borderBottomLeftRadius:0},t.variant==="text"&&t.orientation==="horizontal"&&{borderRight:n.vars?`1px solid rgba(${n.vars.palette.common.onBackgroundChannel} / 0.23)`:`1px solid ${n.palette.mode==="light"?"rgba(0, 0, 0, 0.23)":"rgba(255, 255, 255, 0.23)"}`,[`&.${qn.disabled}`]:{borderRight:`1px solid ${(n.vars||n).palette.action.disabled}`}},t.variant==="text"&&t.orientation==="vertical"&&{borderBottom:n.vars?`1px solid rgba(${n.vars.palette.common.onBackgroundChannel} / 0.23)`:`1px solid ${n.palette.mode==="light"?"rgba(0, 0, 0, 0.23)":"rgba(255, 255, 255, 0.23)"}`,[`&.${qn.disabled}`]:{borderBottom:`1px solid ${(n.vars||n).palette.action.disabled}`}},t.variant==="text"&&t.color!=="inherit"&&{borderColor:n.vars?`rgba(${n.vars.palette[t.color].mainChannel} / 0.5)`:Iu(n.palette[t.color].main,.5)},t.variant==="outlined"&&t.orientation==="horizontal"&&{borderRightColor:"transparent"},t.variant==="outlined"&&t.orientation==="vertical"&&{borderBottomColor:"transparent"},t.variant==="contained"&&t.orientation==="horizontal"&&{borderRight:`1px solid ${(n.vars||n).palette.grey[400]}`,[`&.${qn.disabled}`]:{borderRight:`1px solid ${(n.vars||n).palette.action.disabled}`}},t.variant==="contained"&&t.orientation==="vertical"&&{borderBottom:`1px solid ${(n.vars||n).palette.grey[400]}`,[`&.${qn.disabled}`]:{borderBottom:`1px solid ${(n.vars||n).palette.action.disabled}`}},t.variant==="contained"&&t.color!=="inherit"&&{borderColor:(n.vars||n).palette[t.color].dark},{"&:hover":B({},t.variant==="outlined"&&t.orientation==="horizontal"&&{borderRightColor:"currentColor"},t.variant==="outlined"&&t.orientation==="vertical"&&{borderBottomColor:"currentColor"})}),[`& .${qn.lastButton},& .${qn.middleButton}`]:B({},t.orientation==="horizontal"&&{borderTopLeftRadius:0,borderBottomLeftRadius:0},t.orientation==="vertical"&&{borderTopRightRadius:0,borderTopLeftRadius:0},t.variant==="outlined"&&t.orientation==="horizontal"&&{marginLeft:-1},t.variant==="outlined"&&t.orientation==="vertical"&&{marginTop:-1})})),bhe=F.forwardRef(function(t,e){const r=Ir({props:t,name:"MuiButtonGroup"}),{children:i,className:o,color:a="primary",component:s="div",disabled:l=!1,disableElevation:u=!1,disableFocusRipple:c=!1,disableRipple:d=!1,fullWidth:p=!1,orientation:h="horizontal",size:f="medium",variant:v="outlined"}=r,g=Le(r,whe),y=B({},r,{color:a,component:s,disabled:l,disableElevation:u,disableFocusRipple:c,disableRipple:d,fullWidth:p,orientation:h,size:f,variant:v}),m=xhe(y),C=F.useMemo(()=>({className:m.grouped,color:a,disabled:l,disableElevation:u,disableFocusRipple:c,disableRipple:d,fullWidth:p,size:f,variant:v}),[a,l,u,c,d,p,f,v,m.grouped]),S=hae(i),w=S.length,_=x=>{const b=x===0,O=x===w-1;return b&&O?"":b?m.firstButton:O?m.lastButton:m.middleButton};return G.jsx(Ehe,B({as:s,role:"group",className:st(m.root,o),ref:e,ownerState:y},g,{children:G.jsx(D9.Provider,{value:C,children:S.map((x,b)=>G.jsx(M9.Provider,{value:_(b),children:x},b))})}))}),wj=bhe;function Ohe(n){return zt("MuiFab",n)}const Rhe=Gt("MuiFab",["root","primary","secondary","extended","circular","focusVisible","disabled","colorInherit","sizeSmall","sizeMedium","sizeLarge","info","error","warning","success"]),_j=Rhe,The=["children","className","color","component","disabled","disableFocusRipple","focusVisibleClassName","size","variant"],Phe=n=>{const{color:t,variant:e,classes:r,size:i}=n,o={root:["root",e,`size${Ue(i)}`,t==="inherit"?"colorInherit":t]},a=Wt(o,Ohe,r);return B({},r,a)},Ahe=Ke(zg,{name:"MuiFab",slot:"Root",shouldForwardProp:n=>EN(n)||n==="classes",overridesResolver:(n,t)=>{const{ownerState:e}=n;return[t.root,t[e.variant],t[`size${Ue(e.size)}`],e.color==="inherit"&&t.colorInherit,t[Ue(e.size)],t[e.color]]}})(({theme:n,ownerState:t})=>{var e,r;return B({},n.typography.button,{minHeight:36,transition:n.transitions.create(["background-color","box-shadow","border-color"],{duration:n.transitions.duration.short}),borderRadius:"50%",padding:0,minWidth:0,width:56,height:56,zIndex:(n.vars||n).zIndex.fab,boxShadow:(n.vars||n).shadows[6],"&:active":{boxShadow:(n.vars||n).shadows[12]},color:n.vars?n.vars.palette.text.primary:(e=(r=n.palette).getContrastText)==null?void 0:e.call(r,n.palette.grey[300]),backgroundColor:(n.vars||n).palette.grey[300],"&:hover":{backgroundColor:(n.vars||n).palette.grey.A100,"@media (hover: none)":{backgroundColor:(n.vars||n).palette.grey[300]},textDecoration:"none"},[`&.${_j.focusVisible}`]:{boxShadow:(n.vars||n).shadows[6]}},t.size==="small"&&{width:40,height:40},t.size==="medium"&&{width:48,height:48},t.variant==="extended"&&{borderRadius:48/2,padding:"0 16px",width:"auto",minHeight:"auto",minWidth:48,height:48},t.variant==="extended"&&t.size==="small"&&{width:"auto",padding:"0 8px",borderRadius:34/2,minWidth:34,height:34},t.variant==="extended"&&t.size==="medium"&&{width:"auto",padding:"0 16px",borderRadius:40/2,minWidth:40,height:40},t.color==="inherit"&&{color:"inherit"})},({theme:n,ownerState:t})=>B({},t.color!=="inherit"&&t.color!=="default"&&(n.vars||n).palette[t.color]!=null&&{color:(n.vars||n).palette[t.color].contrastText,backgroundColor:(n.vars||n).palette[t.color].main,"&:hover":{backgroundColor:(n.vars||n).palette[t.color].dark,"@media (hover: none)":{backgroundColor:(n.vars||n).palette[t.color].main}}}),({theme:n})=>({[`&.${_j.disabled}`]:{color:(n.vars||n).palette.action.disabled,boxShadow:(n.vars||n).shadows[0],backgroundColor:(n.vars||n).palette.action.disabledBackground}})),Dhe=F.forwardRef(function(t,e){const r=Ir({props:t,name:"MuiFab"}),{children:i,className:o,color:a="default",component:s="button",disabled:l=!1,disableFocusRipple:u=!1,focusVisibleClassName:c,size:d="large",variant:p="circular"}=r,h=Le(r,The),f=B({},r,{color:a,component:s,disabled:l,disableFocusRipple:u,size:d,variant:p}),v=Phe(f);return G.jsx(Ahe,B({className:st(v.root,o),component:s,disabled:l,focusRipple:!u,focusVisibleClassName:st(v.focusVisible,c),ownerState:f,ref:e},h,{classes:v,children:i}))}),F9=Dhe,Mhe=["addEndListener","appear","children","easing","in","onEnter","onEntered","onEntering","onExit","onExited","onExiting","style","timeout","TransitionComponent"];function jL(n){return`scale(${n}, ${n**2})`}const Lhe={entering:{opacity:1,transform:jL(1)},entered:{opacity:1,transform:"none"}},QP=typeof navigator<"u"&&/^((?!chrome|android).)*(safari|mobile)/i.test(navigator.userAgent)&&/(os |version\/)15(.|_)4/i.test(navigator.userAgent),I9=F.forwardRef(function(t,e){const{addEndListener:r,appear:i=!0,children:o,easing:a,in:s,onEnter:l,onEntered:u,onEntering:c,onExit:d,onExited:p,onExiting:h,style:f,timeout:v="auto",TransitionComponent:g=rce}=t,y=Le(t,Mhe),m=iN(),C=F.useRef(),S=op(),w=F.useRef(null),_=ks(w,o.ref,e),x=k=>H=>{if(k){const $=w.current;H===void 0?k($):k($,H)}},b=x(c),O=x((k,H)=>{cce(k);const{duration:$,delay:V,easing:W}=JH({style:f,timeout:v,easing:a},{mode:"enter"});let K;v==="auto"?(K=S.transitions.getAutoHeightDuration(k.clientHeight),C.current=K):K=$,k.style.transition=[S.transitions.create("opacity",{duration:K,delay:V}),S.transitions.create("transform",{duration:QP?K:K*.666,delay:V,easing:W})].join(","),l&&l(k,H)}),P=x(u),D=x(h),N=x(k=>{const{duration:H,delay:$,easing:V}=JH({style:f,timeout:v,easing:a},{mode:"exit"});let W;v==="auto"?(W=S.transitions.getAutoHeightDuration(k.clientHeight),C.current=W):W=H,k.style.transition=[S.transitions.create("opacity",{duration:W,delay:$}),S.transitions.create("transform",{duration:QP?W:W*.666,delay:QP?$:$||W*.333,easing:V})].join(","),k.style.opacity=0,k.style.transform=jL(.75),d&&d(k)}),L=x(p),I=k=>{v==="auto"&&m.start(C.current||0,k),r&&r(w.current,k)};return G.jsx(g,B({appear:i,in:s,nodeRef:w,onEnter:O,onEntered:P,onEntering:b,onExit:N,onExited:L,onExiting:D,addEndListener:I,timeout:v==="auto"?null:v},y,{children:(k,H)=>F.cloneElement(o,B({style:B({opacity:0,transform:jL(.75),visibility:k==="exited"&&!s?"hidden":void 0},Lhe[k],f,o.props.style),ref:_},H))}))});I9.muiSupportAuto=!0;const Fhe=I9;function Ihe(n){return zt("MuiSnackbarContent",n)}Gt("MuiSnackbarContent",["root","message","action"]);const Nhe=["action","className","message","role"],khe=n=>{const{classes:t}=n;return Wt({root:["root"],action:["action"],message:["message"]},Ihe,t)},Ghe=Ke(RN,{name:"MuiSnackbarContent",slot:"Root",overridesResolver:(n,t)=>t.root})(({theme:n})=>{const t=n.palette.mode==="light"?.8:.98,e=DL(n.palette.background.default,t);return B({},n.typography.body2,{color:n.vars?n.vars.palette.SnackbarContent.color:n.palette.getContrastText(e),backgroundColor:n.vars?n.vars.palette.SnackbarContent.bg:e,display:"flex",alignItems:"center",flexWrap:"wrap",padding:"6px 16px",borderRadius:(n.vars||n).shape.borderRadius,flexGrow:1,[n.breakpoints.up("sm")]:{flexGrow:"initial",minWidth:288}})}),Vhe=Ke("div",{name:"MuiSnackbarContent",slot:"Message",overridesResolver:(n,t)=>t.message})({padding:"8px 0"}),Bhe=Ke("div",{name:"MuiSnackbarContent",slot:"Action",overridesResolver:(n,t)=>t.action})({display:"flex",alignItems:"center",marginLeft:"auto",paddingLeft:16,marginRight:-8}),Hhe=F.forwardRef(function(t,e){const r=Ir({props:t,name:"MuiSnackbarContent"}),{action:i,className:o,message:a,role:s="alert"}=r,l=Le(r,Nhe),u=r,c=khe(u);return G.jsxs(Ghe,B({role:s,square:!0,elevation:6,className:st(c.root,o),ownerState:u,ref:e},l,{children:[G.jsx(Vhe,{className:c.message,ownerState:u,children:a}),i?G.jsx(Bhe,{className:c.action,ownerState:u,children:i}):null]}))}),jhe=Hhe;function $he(n){return zt("MuiSnackbar",n)}Gt("MuiSnackbar",["root","anchorOriginTopCenter","anchorOriginBottomCenter","anchorOriginTopRight","anchorOriginBottomRight","anchorOriginTopLeft","anchorOriginBottomLeft"]);const Whe=["onEnter","onExited"],Uhe=["action","anchorOrigin","autoHideDuration","children","className","ClickAwayListenerProps","ContentProps","disableWindowBlurListener","message","onBlur","onClose","onFocus","onMouseEnter","onMouseLeave","open","resumeHideDuration","TransitionComponent","transitionDuration","TransitionProps"],zhe=n=>{const{classes:t,anchorOrigin:e}=n,r={root:["root",`anchorOrigin${Ue(e.vertical)}${Ue(e.horizontal)}`]};return Wt(r,$he,t)},xj=Ke("div",{name:"MuiSnackbar",slot:"Root",overridesResolver:(n,t)=>{const{ownerState:e}=n;return[t.root,t[`anchorOrigin${Ue(e.anchorOrigin.vertical)}${Ue(e.anchorOrigin.horizontal)}`]]}})(({theme:n,ownerState:t})=>{const e={left:"50%",right:"auto",transform:"translateX(-50%)"};return B({zIndex:(n.vars||n).zIndex.snackbar,position:"fixed",display:"flex",left:8,right:8,justifyContent:"center",alignItems:"center"},t.anchorOrigin.vertical==="top"?{top:8}:{bottom:8},t.anchorOrigin.horizontal==="left"&&{justifyContent:"flex-start"},t.anchorOrigin.horizontal==="right"&&{justifyContent:"flex-end"},{[n.breakpoints.up("sm")]:B({},t.anchorOrigin.vertical==="top"?{top:24}:{bottom:24},t.anchorOrigin.horizontal==="center"&&e,t.anchorOrigin.horizontal==="left"&&{left:24,right:"auto"},t.anchorOrigin.horizontal==="right"&&{right:24,left:"auto"})})}),Khe=F.forwardRef(function(t,e){const r=Ir({props:t,name:"MuiSnackbar"}),i=op(),o={enter:i.transitions.duration.enteringScreen,exit:i.transitions.duration.leavingScreen},{action:a,anchorOrigin:{vertical:s,horizontal:l}={vertical:"bottom",horizontal:"left"},autoHideDuration:u=null,children:c,className:d,ClickAwayListenerProps:p,ContentProps:h,disableWindowBlurListener:f=!1,message:v,open:g,TransitionComponent:y=Fhe,transitionDuration:m=o,TransitionProps:{onEnter:C,onExited:S}={}}=r,w=Le(r.TransitionProps,Whe),_=Le(r,Uhe),x=B({},r,{anchorOrigin:{vertical:s,horizontal:l},autoHideDuration:u,disableWindowBlurListener:f,TransitionComponent:y,transitionDuration:m}),b=zhe(x),{getRootProps:O,onClickAway:P}=$pe(B({},x)),[D,N]=F.useState(!0),L=Gn({elementType:xj,getSlotProps:O,externalForwardedProps:_,ownerState:x,additionalProps:{ref:e},className:[b.root,d]}),I=H=>{N(!0),S&&S(H)},k=(H,$)=>{N(!1),C&&C(H,$)};return!g&&D?null:G.jsx(bde,B({onClickAway:P},p,{children:G.jsx(xj,B({},L,{children:G.jsx(y,B({appear:!0,in:g,timeout:m,direction:s==="top"?"down":"up",onEnter:k,onExited:I},w,{children:c||G.jsx(jhe,B({message:v,action:a},h))}))}))}))}),Yhe=Khe;function Xhe(n){return zt("MuiTab",n)}const qhe=Gt("MuiTab",["root","labelIcon","textColorInherit","textColorPrimary","textColorSecondary","selected","disabled","fullWidth","wrapped","iconWrapper"]),Ep=qhe,Zhe=["className","disabled","disableFocusRipple","fullWidth","icon","iconPosition","indicator","label","onChange","onClick","onFocus","selected","selectionFollowsFocus","textColor","value","wrapped"],Qhe=n=>{const{classes:t,textColor:e,fullWidth:r,wrapped:i,icon:o,label:a,selected:s,disabled:l}=n,u={root:["root",o&&a&&"labelIcon",`textColor${Ue(e)}`,r&&"fullWidth",i&&"wrapped",s&&"selected",l&&"disabled"],iconWrapper:["iconWrapper"]};return Wt(u,Xhe,t)},Jhe=Ke(zg,{name:"MuiTab",slot:"Root",overridesResolver:(n,t)=>{const{ownerState:e}=n;return[t.root,e.label&&e.icon&&t.labelIcon,t[`textColor${Ue(e.textColor)}`],e.fullWidth&&t.fullWidth,e.wrapped&&t.wrapped]}})(({theme:n,ownerState:t})=>B({},n.typography.button,{maxWidth:360,minWidth:90,position:"relative",minHeight:48,flexShrink:0,padding:"12px 16px",overflow:"hidden",whiteSpace:"normal",textAlign:"center"},t.label&&{flexDirection:t.iconPosition==="top"||t.iconPosition==="bottom"?"column":"row"},{lineHeight:1.25},t.icon&&t.label&&{minHeight:72,paddingTop:9,paddingBottom:9,[`& > .${Ep.iconWrapper}`]:B({},t.iconPosition==="top"&&{marginBottom:6},t.iconPosition==="bottom"&&{marginTop:6},t.iconPosition==="start"&&{marginRight:n.spacing(1)},t.iconPosition==="end"&&{marginLeft:n.spacing(1)})},t.textColor==="inherit"&&{color:"inherit",opacity:.6,[`&.${Ep.selected}`]:{opacity:1},[`&.${Ep.disabled}`]:{opacity:(n.vars||n).palette.action.disabledOpacity}},t.textColor==="primary"&&{color:(n.vars||n).palette.text.secondary,[`&.${Ep.selected}`]:{color:(n.vars||n).palette.primary.main},[`&.${Ep.disabled}`]:{color:(n.vars||n).palette.text.disabled}},t.textColor==="secondary"&&{color:(n.vars||n).palette.text.secondary,[`&.${Ep.selected}`]:{color:(n.vars||n).palette.secondary.main},[`&.${Ep.disabled}`]:{color:(n.vars||n).palette.text.disabled}},t.fullWidth&&{flexShrink:1,flexGrow:1,flexBasis:0,maxWidth:"none"},t.wrapped&&{fontSize:n.typography.pxToRem(12)})),efe=F.forwardRef(function(t,e){const r=Ir({props:t,name:"MuiTab"}),{className:i,disabled:o=!1,disableFocusRipple:a=!1,fullWidth:s,icon:l,iconPosition:u="top",indicator:c,label:d,onChange:p,onClick:h,onFocus:f,selected:v,selectionFollowsFocus:g,textColor:y="inherit",value:m,wrapped:C=!1}=r,S=Le(r,Zhe),w=B({},r,{disabled:o,disableFocusRipple:a,selected:v,icon:!!l,iconPosition:u,label:!!d,fullWidth:s,textColor:y,wrapped:C}),_=Qhe(w),x=l&&d&&F.isValidElement(l)?F.cloneElement(l,{className:st(_.iconWrapper,l.props.className)}):l,b=P=>{!v&&p&&p(P,m),h&&h(P)},O=P=>{g&&!v&&p&&p(P,m),f&&f(P)};return G.jsxs(Jhe,B({focusRipple:!a,className:st(_.root,i),ref:e,role:"tab","aria-selected":v,disabled:o,onClick:b,onFocus:O,ownerState:w,tabIndex:v?0:-1},S,{children:[u==="top"||u==="start"?G.jsxs(F.Fragment,{children:[x,d]}):G.jsxs(F.Fragment,{children:[d,x]}),c]}))}),j0=efe;function tfe(n){return zt("MuiToolbar",n)}Gt("MuiToolbar",["root","gutters","regular","dense"]);const rfe=["className","component","disableGutters","variant"],nfe=n=>{const{classes:t,disableGutters:e,variant:r}=n;return Wt({root:["root",!e&&"gutters",r]},tfe,t)},ife=Ke("div",{name:"MuiToolbar",slot:"Root",overridesResolver:(n,t)=>{const{ownerState:e}=n;return[t.root,!e.disableGutters&&t.gutters,t[e.variant]]}})(({theme:n,ownerState:t})=>B({position:"relative",display:"flex",alignItems:"center"},!t.disableGutters&&{paddingLeft:n.spacing(2),paddingRight:n.spacing(2),[n.breakpoints.up("sm")]:{paddingLeft:n.spacing(3),paddingRight:n.spacing(3)}},t.variant==="dense"&&{minHeight:48}),({theme:n,ownerState:t})=>t.variant==="regular"&&n.mixins.toolbar),ofe=F.forwardRef(function(t,e){const r=Ir({props:t,name:"MuiToolbar"}),{className:i,component:o="div",disableGutters:a=!1,variant:s="regular"}=r,l=Le(r,rfe),u=B({},r,{component:o,disableGutters:a,variant:s}),c=nfe(u);return G.jsx(ife,B({as:o,className:st(c.root,i),ref:e,ownerState:u},l))}),afe=ofe,sfe=vc(G.jsx("path",{d:"M15.41 16.09l-4.58-4.59 4.58-4.59L14 5.5l-6 6 6 6z"}),"KeyboardArrowLeft"),lfe=vc(G.jsx("path",{d:"M8.59 16.34l4.58-4.59-4.58-4.59L10 5.75l6 6-6 6z"}),"KeyboardArrowRight");function ufe(n){return(1+Math.sin(Math.PI*n-Math.PI/2))/2}function cfe(n,t,e,r={},i=()=>{}){const{ease:o=ufe,duration:a=300}=r;let s=null;const l=t[n];let u=!1;const c=()=>{u=!0},d=p=>{if(u){i(new Error("Animation cancelled"));return}s===null&&(s=p);const h=Math.min(1,(p-s)/a);if(t[n]=o(h)*(e-l)+l,h>=1){requestAnimationFrame(()=>{i(null)});return}requestAnimationFrame(d)};return l===e?(i(new Error("Element already at target position")),c):(requestAnimationFrame(d),c)}const dfe=["onChange"],pfe={width:99,height:99,position:"absolute",top:-9999,overflow:"scroll"};function hfe(n){const{onChange:t}=n,e=Le(n,dfe),r=F.useRef(),i=F.useRef(null),o=()=>{r.current=i.current.offsetHeight-i.current.clientHeight};return Ql(()=>{const a=rN(()=>{const l=r.current;o(),l!==r.current&&t(r.current)}),s=SR(i.current);return s.addEventListener("resize",a),()=>{a.clear(),s.removeEventListener("resize",a)}},[t]),F.useEffect(()=>{o(),t(r.current)},[t]),G.jsx("div",B({style:pfe,ref:i},e))}function ffe(n){return zt("MuiTabScrollButton",n)}const vfe=Gt("MuiTabScrollButton",["root","vertical","horizontal","disabled"]),gfe=vfe,yfe=["className","slots","slotProps","direction","orientation","disabled"],mfe=n=>{const{classes:t,orientation:e,disabled:r}=n;return Wt({root:["root",e,r&&"disabled"]},ffe,t)},Cfe=Ke(zg,{name:"MuiTabScrollButton",slot:"Root",overridesResolver:(n,t)=>{const{ownerState:e}=n;return[t.root,e.orientation&&t[e.orientation]]}})(({ownerState:n})=>B({width:40,flexShrink:0,opacity:.8,[`&.${gfe.disabled}`]:{opacity:0}},n.orientation==="vertical"&&{width:"100%",height:40,"& svg":{transform:`rotate(${n.isRtl?-90:90}deg)`}})),Sfe=F.forwardRef(function(t,e){var r,i;const o=Ir({props:t,name:"MuiTabScrollButton"}),{className:a,slots:s={},slotProps:l={},direction:u}=o,c=Le(o,yfe),d=p9(),p=B({isRtl:d},o),h=mfe(p),f=(r=s.StartScrollButtonIcon)!=null?r:sfe,v=(i=s.EndScrollButtonIcon)!=null?i:lfe,g=Gn({elementType:f,externalSlotProps:l.startScrollButtonIcon,additionalProps:{fontSize:"small"},ownerState:p}),y=Gn({elementType:v,externalSlotProps:l.endScrollButtonIcon,additionalProps:{fontSize:"small"},ownerState:p});return G.jsx(Cfe,B({component:"div",className:st(h.root,a),ref:e,role:null,ownerState:p,tabIndex:null},c,{children:u==="left"?G.jsx(f,B({},g)):G.jsx(v,B({},y))}))}),wfe=Sfe;function _fe(n){return zt("MuiTabs",n)}const xfe=Gt("MuiTabs",["root","vertical","flexContainer","flexContainerVertical","centered","scroller","fixed","scrollableX","scrollableY","hideScrollbar","scrollButtons","scrollButtonsHideMobile","indicator"]),JP=xfe,Efe=["aria-label","aria-labelledby","action","centered","children","className","component","allowScrollButtonsMobile","indicatorColor","onChange","orientation","ScrollButtonComponent","scrollButtons","selectionFollowsFocus","slots","slotProps","TabIndicatorProps","TabScrollButtonProps","textColor","value","variant","visibleScrollbar"],Ej=(n,t)=>n===t?n.firstChild:t&&t.nextElementSibling?t.nextElementSibling:n.firstChild,bj=(n,t)=>n===t?n.lastChild:t&&t.previousElementSibling?t.previousElementSibling:n.lastChild,$0=(n,t,e)=>{let r=!1,i=e(n,t);for(;i;){if(i===n.firstChild){if(r)return;r=!0}const o=i.disabled||i.getAttribute("aria-disabled")==="true";if(!i.hasAttribute("tabindex")||o)i=e(n,i);else{i.focus();return}}},bfe=n=>{const{vertical:t,fixed:e,hideScrollbar:r,scrollableX:i,scrollableY:o,centered:a,scrollButtonsHideMobile:s,classes:l}=n;return Wt({root:["root",t&&"vertical"],scroller:["scroller",e&&"fixed",r&&"hideScrollbar",i&&"scrollableX",o&&"scrollableY"],flexContainer:["flexContainer",t&&"flexContainerVertical",a&&"centered"],indicator:["indicator"],scrollButtons:["scrollButtons",s&&"scrollButtonsHideMobile"],scrollableX:[i&&"scrollableX"],hideScrollbar:[r&&"hideScrollbar"]},_fe,l)},Ofe=Ke("div",{name:"MuiTabs",slot:"Root",overridesResolver:(n,t)=>{const{ownerState:e}=n;return[{[`& .${JP.scrollButtons}`]:t.scrollButtons},{[`& .${JP.scrollButtons}`]:e.scrollButtonsHideMobile&&t.scrollButtonsHideMobile},t.root,e.vertical&&t.vertical]}})(({ownerState:n,theme:t})=>B({overflow:"hidden",minHeight:48,WebkitOverflowScrolling:"touch",display:"flex"},n.vertical&&{flexDirection:"column"},n.scrollButtonsHideMobile&&{[`& .${JP.scrollButtons}`]:{[t.breakpoints.down("sm")]:{display:"none"}}})),Rfe=Ke("div",{name:"MuiTabs",slot:"Scroller",overridesResolver:(n,t)=>{const{ownerState:e}=n;return[t.scroller,e.fixed&&t.fixed,e.hideScrollbar&&t.hideScrollbar,e.scrollableX&&t.scrollableX,e.scrollableY&&t.scrollableY]}})(({ownerState:n})=>B({position:"relative",display:"inline-block",flex:"1 1 auto",whiteSpace:"nowrap"},n.fixed&&{overflowX:"hidden",width:"100%"},n.hideScrollbar&&{scrollbarWidth:"none","&::-webkit-scrollbar":{display:"none"}},n.scrollableX&&{overflowX:"auto",overflowY:"hidden"},n.scrollableY&&{overflowY:"auto",overflowX:"hidden"})),Tfe=Ke("div",{name:"MuiTabs",slot:"FlexContainer",overridesResolver:(n,t)=>{const{ownerState:e}=n;return[t.flexContainer,e.vertical&&t.flexContainerVertical,e.centered&&t.centered]}})(({ownerState:n})=>B({display:"flex"},n.vertical&&{flexDirection:"column"},n.centered&&{justifyContent:"center"})),Pfe=Ke("span",{name:"MuiTabs",slot:"Indicator",overridesResolver:(n,t)=>t.indicator})(({ownerState:n,theme:t})=>B({position:"absolute",height:2,bottom:0,width:"100%",transition:t.transitions.create()},n.indicatorColor==="primary"&&{backgroundColor:(t.vars||t).palette.primary.main},n.indicatorColor==="secondary"&&{backgroundColor:(t.vars||t).palette.secondary.main},n.vertical&&{height:"100%",width:2,right:0})),Afe=Ke(hfe)({overflowX:"auto",overflowY:"hidden",scrollbarWidth:"none","&::-webkit-scrollbar":{display:"none"}}),Oj={},Dfe=F.forwardRef(function(t,e){const r=Ir({props:t,name:"MuiTabs"}),i=op(),o=p9(),{"aria-label":a,"aria-labelledby":s,action:l,centered:u=!1,children:c,className:d,component:p="div",allowScrollButtonsMobile:h=!1,indicatorColor:f="primary",onChange:v,orientation:g="horizontal",ScrollButtonComponent:y=wfe,scrollButtons:m="auto",selectionFollowsFocus:C,slots:S={},slotProps:w={},TabIndicatorProps:_={},TabScrollButtonProps:x={},textColor:b="primary",value:O,variant:P="standard",visibleScrollbar:D=!1}=r,N=Le(r,Efe),L=P==="scrollable",I=g==="vertical",k=I?"scrollTop":"scrollLeft",H=I?"top":"left",$=I?"bottom":"right",V=I?"clientHeight":"clientWidth",W=I?"height":"width",K=B({},r,{component:p,allowScrollButtonsMobile:h,indicatorColor:f,orientation:g,vertical:I,scrollButtons:m,textColor:b,variant:P,visibleScrollbar:D,fixed:!L,hideScrollbar:L&&!D,scrollableX:L&&!I,scrollableY:L&&I,centered:u&&!L,scrollButtonsHideMobile:!h}),Z=bfe(K),Q=Gn({elementType:S.StartScrollButtonIcon,externalSlotProps:w.startScrollButtonIcon,ownerState:K}),ce=Gn({elementType:S.EndScrollButtonIcon,externalSlotProps:w.endScrollButtonIcon,ownerState:K}),[ue,se]=F.useState(!1),[q,he]=F.useState(Oj),[be,ee]=F.useState(!1),[Se,Ce]=F.useState(!1),[te,Pe]=F.useState(!1),[De,Ne]=F.useState({overflow:"hidden",scrollbarWidth:0}),ke=new Map,Ye=F.useRef(null),it=F.useRef(null),Dr=()=>{const Fe=Ye.current;let Be;if(Fe){const At=Fe.getBoundingClientRect();Be={clientWidth:Fe.clientWidth,scrollLeft:Fe.scrollLeft,scrollTop:Fe.scrollTop,scrollLeftNormalized:pae(Fe,o?"rtl":"ltr"),scrollWidth:Fe.scrollWidth,top:At.top,bottom:At.bottom,left:At.left,right:At.right}}let Ft;if(Fe&&O!==!1){const At=it.current.children;if(At.length>0){const kr=At[ke.get(O)];Ft=kr?kr.getBoundingClientRect():null}}return{tabsMeta:Be,tabMeta:Ft}},ze=Rs(()=>{const{tabsMeta:Fe,tabMeta:Be}=Dr();let Ft=0,At;if(I)At="top",Be&&Fe&&(Ft=Be.top-Fe.top+Fe.scrollTop);else if(At=o?"right":"left",Be&&Fe){const Wn=o?Fe.scrollLeftNormalized+Fe.clientWidth-Fe.scrollWidth:Fe.scrollLeft;Ft=(o?-1:1)*(Be[At]-Fe[At]+Wn)}const kr={[At]:Ft,[W]:Be?Be[W]:0};if(isNaN(q[At])||isNaN(q[W]))he(kr);else{const Wn=Math.abs(q[At]-kr[At]),To=Math.abs(q[W]-kr[W]);(Wn>=1||To>=1)&&he(kr)}}),lr=(Fe,{animation:Be=!0}={})=>{Be?cfe(k,Ye.current,Fe,{duration:i.transitions.duration.standard}):Ye.current[k]=Fe},gr=Fe=>{let Be=Ye.current[k];I?Be+=Fe:(Be+=Fe*(o?-1:1),Be*=o&&bK()==="reverse"?-1:1),lr(Be)},yr=()=>{const Fe=Ye.current[V];let Be=0;const Ft=Array.from(it.current.children);for(let At=0;At<Ft.length;At+=1){const kr=Ft[At];if(Be+kr[V]>Fe){At===0&&(Be=Fe);break}Be+=kr[V]}return Be},yt=()=>{gr(-1*yr())},Pt=()=>{gr(yr())},Vt=F.useCallback(Fe=>{Ne({overflow:null,scrollbarWidth:Fe})},[]),ir=()=>{const Fe={};Fe.scrollbarSizeListener=L?G.jsx(Afe,{onChange:Vt,className:st(Z.scrollableX,Z.hideScrollbar)}):null;const Ft=L&&(m==="auto"&&(be||Se)||m===!0);return Fe.scrollButtonStart=Ft?G.jsx(y,B({slots:{StartScrollButtonIcon:S.StartScrollButtonIcon},slotProps:{startScrollButtonIcon:Q},orientation:g,direction:o?"right":"left",onClick:yt,disabled:!be},x,{className:st(Z.scrollButtons,x.className)})):null,Fe.scrollButtonEnd=Ft?G.jsx(y,B({slots:{EndScrollButtonIcon:S.EndScrollButtonIcon},slotProps:{endScrollButtonIcon:ce},orientation:g,direction:o?"left":"right",onClick:Pt,disabled:!Se},x,{className:st(Z.scrollButtons,x.className)})):null,Fe},mn=Rs(Fe=>{const{tabsMeta:Be,tabMeta:Ft}=Dr();if(!(!Ft||!Be)){if(Ft[H]<Be[H]){const At=Be[k]+(Ft[H]-Be[H]);lr(At,{animation:Fe})}else if(Ft[$]>Be[$]){const At=Be[k]+(Ft[$]-Be[$]);lr(At,{animation:Fe})}}}),$e=Rs(()=>{L&&m!==!1&&Pe(!te)});F.useEffect(()=>{const Fe=rN(()=>{Ye.current&&ze()});let Be;const Ft=Wn=>{Wn.forEach(To=>{To.removedNodes.forEach(Yt=>{var or;(or=Be)==null||or.unobserve(Yt)}),To.addedNodes.forEach(Yt=>{var or;(or=Be)==null||or.observe(Yt)})}),Fe(),$e()},At=SR(Ye.current);At.addEventListener("resize",Fe);let kr;return typeof ResizeObserver<"u"&&(Be=new ResizeObserver(Fe),Array.from(it.current.children).forEach(Wn=>{Be.observe(Wn)})),typeof MutationObserver<"u"&&(kr=new MutationObserver(Ft),kr.observe(it.current,{childList:!0})),()=>{var Wn,To;Fe.clear(),At.removeEventListener("resize",Fe),(Wn=kr)==null||Wn.disconnect(),(To=Be)==null||To.disconnect()}},[ze,$e]),F.useEffect(()=>{const Fe=Array.from(it.current.children),Be=Fe.length;if(typeof IntersectionObserver<"u"&&Be>0&&L&&m!==!1){const Ft=Fe[0],At=Fe[Be-1],kr={root:Ye.current,threshold:.99},Wn=Ei=>{ee(!Ei[0].isIntersecting)},To=new IntersectionObserver(Wn,kr);To.observe(Ft);const Yt=Ei=>{Ce(!Ei[0].isIntersecting)},or=new IntersectionObserver(Yt,kr);return or.observe(At),()=>{To.disconnect(),or.disconnect()}}},[L,m,te,c==null?void 0:c.length]),F.useEffect(()=>{se(!0)},[]),F.useEffect(()=>{ze()}),F.useEffect(()=>{mn(Oj!==q)},[mn,q]),F.useImperativeHandle(l,()=>({updateIndicator:ze,updateScrollButtons:$e}),[ze,$e]);const Kt=G.jsx(Pfe,B({},_,{className:st(Z.indicator,_.className),ownerState:K,style:B({},q,_.style)}));let Nr=0;const ma=F.Children.map(c,Fe=>{if(!F.isValidElement(Fe))return null;const Be=Fe.props.value===void 0?Nr:Fe.props.value;ke.set(Be,Nr);const Ft=Be===O;return Nr+=1,F.cloneElement(Fe,B({fullWidth:P==="fullWidth",indicator:Ft&&!ue&&Kt,selected:Ft,selectionFollowsFocus:C,onChange:v,textColor:b,value:Be},Nr===1&&O===!1&&!Fe.props.tabIndex?{tabIndex:0}:{}))}),vu=Fe=>{const Be=it.current,Ft=Ld(Be).activeElement;if(Ft.getAttribute("role")!=="tab")return;let kr=g==="horizontal"?"ArrowLeft":"ArrowUp",Wn=g==="horizontal"?"ArrowRight":"ArrowDown";switch(g==="horizontal"&&o&&(kr="ArrowRight",Wn="ArrowLeft"),Fe.key){case kr:Fe.preventDefault(),$0(Be,Ft,bj);break;case Wn:Fe.preventDefault(),$0(Be,Ft,Ej);break;case"Home":Fe.preventDefault(),$0(Be,null,Ej);break;case"End":Fe.preventDefault(),$0(Be,null,bj);break}},gy=ir();return G.jsxs(Ofe,B({className:st(Z.root,d),ownerState:K,ref:e,as:p},N,{children:[gy.scrollButtonStart,gy.scrollbarSizeListener,G.jsxs(Rfe,{className:Z.scroller,ownerState:K,style:{overflow:De.overflow,[I?`margin${o?"Left":"Right"}`:"marginBottom"]:D?void 0:-De.scrollbarWidth},ref:Ye,children:[G.jsx(Tfe,{"aria-label":a,"aria-labelledby":s,"aria-orientation":g==="vertical"?"vertical":null,className:Z.flexContainer,ownerState:K,onKeyDown:vu,ref:it,role:"tablist",children:ma}),ue&&Kt]}),gy.scrollButtonEnd]}))}),Mfe=Dfe;var IN={},Lfe=fc;Object.defineProperty(IN,"__esModule",{value:!0});var N9=IN.default=void 0,Ffe=Lfe(pf()),Ife=G;N9=IN.default=(0,Ffe.default)((0,Ife.jsx)("path",{d:"M10 6 8.59 7.41 13.17 12l-4.58 4.59L10 18l6-6z"}),"NavigateNext");const fe=["Мужской","Женский"],ye=["Разработчик","Менеджер","Бухгалтер","Директор","Специалист","Аналитик","Консультант","Инженер","Программист","Администратор"],me=["IT","HR","Финансы","Продажи","Маркетинг","Логистика","Производство","Кадры","Бухгалтерия","Юридический"],de=["Московский государственный университет имени М. В. Ломоносова (МГУ)","Национальный исследовательский ядерный университет «МИФИ»","Московский физико-технический институт (МФТИ)","Национальный исследовательский университет «Высшая школа экономики» (НИУ ВШЭ)","Санкт-Петербургский государственный университет (СПбГУ)","Национальный исследовательский технологический университет «МИСИС»","Университет ИТМО","Российский университет дружбы народов (РУДН)","Московский государственный технический университет имени Н. Э. Баумана (МГТУ)","Первый Московский государственный медицинский университет имени И. М. Сеченова (Сеченовский Университет)","Российская академия народного хозяйства и государственной службы (РАНХиГС)"],ve=["женат","холост","разведен","замужем","холоста","разведена"],Xh=[{id:1,params:{title:"Основная информация",value:[{title:"ФИО",value:"Кузнецов Петр Михайлович",type:"text"},{title:"Дата рождения",value:"1974-08-03",type:"date"},{title:"Номер телефона",value:"+7 (986) 207-76-60",type:"text"},{title:"Адрес",value:"г. Красноярск, ул. Комсомольская, д. 48, кв. 68",type:"text"},{title:"Пол",value:"Мужской",type:"dropList",variants:fe}]},modules:{education:{title:"Образование",value:[]},career:{title:"Карьера",value:[{title:"Стаж",value:"7 (в годах)",type:"text"},{title:"Зарплата",value:"129691 руб.",type:"text"},{title:"Должность",value:"Программист",type:"dropList",variants:ye},{title:"Отдел",value:"IT",type:"dropList",variants:me}]},family:{title:"Семья",value:[{title:"Отец",value:"Иванов Петр Иванович",type:"text"},{title:"Мать",value:"Иванова Анна Михайловна",type:"text"},{title:"Семейное положение",value:"холост",type:"dropList",variants:ve}]}}},{id:2,params:{title:"Основная информация",value:[{title:"ФИО",value:"Кузнецова Мария Александровна",type:"text"},{title:"Дата рождения",value:"1985-08-20",type:"date"},{title:"Номер телефона",value:"+7 (928) 953-14-24",type:"text"},{title:"Адрес",value:"г. Москва, ул. Мира, д. 47, кв. 117",type:"text"},{title:"Пол",value:"Женский",type:"dropList",variants:fe}]},modules:{education:{title:"Образование",value:[{title:"Бакалавриат",type:"dropList",value:"Российская академия народного хозяйства и государственной службы (РАНХиГС)",variants:de}]},career:{title:"Карьера",value:[{title:"Стаж",value:"3 (в годах)",type:"text"},{title:"Зарплата",value:"218609 руб.",type:"text"},{title:"Должность",value:"Менеджер",type:"dropList",variants:ye},{title:"Отдел",value:"Производство",type:"dropList",variants:me}]},family:{title:"Семья",value:[{title:"Отец",value:"Сидоров Сергей Александрович",type:"text"},{title:"Мать",value:"Смирнова Анна Михайловна",type:"text"},{title:"Семейное положение",value:"разведена",type:"dropList",variants:ve}]}}},{id:3,params:{title:"Основная информация",value:[{title:"ФИО",value:"Кузнецов Сергей Петрович",type:"text"},{title:"Дата рождения",value:"1972-10-01",type:"date"},{title:"Номер телефона",value:"+7 (997) 226-64-23",type:"text"},{title:"Адрес",value:"г. Москва, ул. Комсомольская, д. 56, кв. 136",type:"text"},{title:"Пол",value:"Мужской",type:"dropList",variants:fe}]},modules:{education:{title:"Образование",value:[{title:"Бакалавриат",type:"dropList",value:"Московский государственный университет имени М. В. Ломоносова (МГУ)",variants:de},{title:"Магистратура",type:"dropList",value:"Национальный исследовательский технологический университет «МИСИС»",variants:de}]},career:{title:"Карьера",value:[{title:"Стаж",value:"15 (в годах)",type:"text"},{title:"Зарплата",value:"275125 руб.",type:"text"},{title:"Должность",value:"Специалист",type:"dropList",variants:ye},{title:"Отдел",value:"Финансы",type:"dropList",variants:me}]},family:{title:"Семья",value:[{title:"Отец",value:"Кузнецов Петр Сергеевич",type:"text"},{title:"Мать",value:"Петрова Мария Петровна",type:"text"},{title:"Семейное положение",value:"женат",type:"dropList",variants:ve}]}}},{id:4,params:{title:"Основная информация",value:[{title:"ФИО",value:"Сидоров Сергей Иванович",type:"text"},{title:"Дата рождения",value:"1980-08-27",type:"date"},{title:"Номер телефона",value:"+7 (932) 131-30-73",type:"text"},{title:"Адрес",value:"г. Москва, ул. Комсомольская, д. 87, кв. 160",type:"text"},{title:"Пол",value:"Мужской",type:"dropList",variants:fe}]},modules:{education:{title:"Образование",value:[{title:"Бакалавриат",type:"dropList",value:"Московский государственный университет имени М. В. Ломоносова (МГУ)",variants:de},{title:"Магистратура",type:"dropList",value:"Национальный исследовательский ядерный университет «МИФИ»",variants:de}]},career:{title:"Карьера",value:[{title:"Стаж",value:"12 (в годах)",type:"text"},{title:"Зарплата",value:"121187 руб.",type:"text"},{title:"Должность",value:"Менеджер",type:"dropList",variants:ye},{title:"Отдел",value:"IT",type:"dropList",variants:me}]},family:{title:"Семья",value:[{title:"Отец",value:"Сидоров Сергей Петрович",type:"text"},{title:"Мать",value:"Петрова Светлана Михайловна",type:"text"},{title:"Семейное положение",value:"холост",type:"dropList",variants:ve}]}}},{id:5,params:{title:"Основная информация",value:[{title:"ФИО",value:"Кузнецова Елена Сергеевна",type:"text"},{title:"Дата рождения",value:"1978-03-29",type:"date"},{title:"Номер телефона",value:"+7 (970) 744-09-98",type:"text"},{title:"Адрес",value:"г. Красноярск, ул. Пушкина, д. 86, кв. 22",type:"text"},{title:"Пол",value:"Женский",type:"dropList",variants:fe}]},modules:{education:{title:"Образование",value:[{title:"Бакалавриат",type:"dropList",value:"Первый Московский государственный медицинский университет имени И. М. Сеченова (Сеченовский Университет)",variants:de},{title:"Магистратура",type:"dropList",value:"Университет ИТМО",variants:de}]},career:{title:"Карьера",value:[{title:"Стаж",value:"15 (в годах)",type:"text"},{title:"Зарплата",value:"142526 руб.",type:"text"},{title:"Должность",value:"Разработчик",type:"dropList",variants:ye},{title:"Отдел",value:"Продажи",type:"dropList",variants:me}]},family:{title:"Семья",value:[{title:"Отец",value:"Кузнецов Иван Петрович",type:"text"},{title:"Мать",value:"Петрова Мария Ивановна",type:"text"},{title:"Семейное положение",value:"замужем",type:"dropList",variants:ve}]}}},{id:6,params:{title:"Основная информация",value:[{title:"ФИО",value:"Иванова Елена Петровна",type:"text"},{title:"Дата рождения",value:"1980-07-22",type:"date"},{title:"Номер телефона",value:"+7 (985) 785-65-49",type:"text"},{title:"Адрес",value:"г. Красноярск, ул. Гагарина, д. 50, кв. 114",type:"text"},{title:"Пол",value:"Женский",type:"dropList",variants:fe}]},modules:{education:{title:"Образование",value:[{title:"Бакалавриат",type:"dropList",value:"Национальный исследовательский ядерный университет «МИФИ»",variants:de}]},career:{title:"Карьера",value:[{title:"Стаж",value:"6 (в годах)",type:"text"},{title:"Зарплата",value:"92716 руб.",type:"text"},{title:"Должность",value:"Инженер",type:"dropList",variants:ye},{title:"Отдел",value:"Производство",type:"dropList",variants:me}]},family:{title:"Семья",value:[{title:"Отец",value:"Кузнецов Александр Михайлович",type:"text"},{title:"Мать",value:"Петрова Анна Ивановна",type:"text"},{title:"Семейное положение",value:"холоста",type:"dropList",variants:ve}]}}},{id:7,params:{title:"Основная информация",value:[{title:"ФИО",value:"Кузнецова Анна Александровна",type:"text"},{title:"Дата рождения",value:"1971-09-28",type:"date"},{title:"Номер телефона",value:"+7 (957) 440-57-97",type:"text"},{title:"Адрес",value:"г. Екатеринбург, ул. Пушкина, д. 16, кв. 77",type:"text"},{title:"Пол",value:"Женский",type:"dropList",variants:fe}]},modules:{education:{title:"Образование",value:[]},career:{title:"Карьера",value:[]},family:{title:"Семья",value:[{title:"Отец",value:"Кузнецов Михаил Александрович",type:"text"},{title:"Мать",value:"Смирнова Анна Сергеевна",type:"text"},{title:"Семейное положение",value:"разведена",type:"dropList",variants:ve}]}}},{id:8,params:{title:"Основная информация",value:[{title:"ФИО",value:"Смирнова Елена Александровна",type:"text"},{title:"Дата рождения",value:"1975-11-14",type:"date"},{title:"Номер телефона",value:"+7 (963) 894-23-81",type:"text"},{title:"Адрес",value:"г. Екатеринбург, ул. Ленина, д. 75, кв. 63",type:"text"},{title:"Пол",value:"Женский",type:"dropList",variants:fe}]},modules:{education:{title:"Образование",value:[{title:"Бакалавриат",type:"dropList",value:"Национальный исследовательский университет «Высшая школа экономики» (НИУ ВШЭ)",variants:de}]},career:{title:"Карьера",value:[{title:"Стаж",value:"9 (в годах)",type:"text"},{title:"Зарплата",value:"292952 руб.",type:"text"},{title:"Должность",value:"Консультант",type:"dropList",variants:ye},{title:"Отдел",value:"Финансы",type:"dropList",variants:me}]},family:{title:"Семья",value:[{title:"Отец",value:"Сидоров Михаил Михайлович",type:"text"},{title:"Мать",value:"Смирнова Елена Александровна",type:"text"},{title:"Семейное положение",value:"разведена",type:"dropList",variants:ve}]}}},{id:9,params:{title:"Основная информация",value:[{title:"ФИО",value:"Иванова Мария Михайловна",type:"text"},{title:"Дата рождения",value:"1975-03-12",type:"date"},{title:"Номер телефона",value:"+7 (980) 684-44-89",type:"text"},{title:"Адрес",value:"г. Санкт-Петербург, ул. Мира, д. 60, кв. 51",type:"text"},{title:"Пол",value:"Женский",type:"dropList",variants:fe}]},modules:{education:{title:"Образование",value:[{title:"Бакалавриат",type:"dropList",value:"Национальный исследовательский университет «Высшая школа экономики» (НИУ ВШЭ)",variants:de},{title:"Магистратура",type:"dropList",value:"Национальный исследовательский ядерный университет «МИФИ»",variants:de}]},career:{title:"Карьера",value:[{title:"Стаж",value:"6 (в годах)",type:"text"},{title:"Зарплата",value:"33989 руб.",type:"text"},{title:"Должность",value:"Консультант",type:"dropList",variants:ye},{title:"Отдел",value:"Маркетинг",type:"dropList",variants:me}]},family:{title:"Семья",value:[{title:"Отец",value:"Смирнов Иван Александрович",type:"text"},{title:"Мать",value:"Смирнова Мария Сергеевна",type:"text"},{title:"Семейное положение",value:"разведена",type:"dropList",variants:ve}]}}},{id:10,params:{title:"Основная информация",value:[{title:"ФИО",value:"Сидоров Иван Петрович",type:"text"},{title:"Дата рождения",value:"1981-03-05",type:"date"},{title:"Номер телефона",value:"+7 (999) 594-73-37",type:"text"},{title:"Адрес",value:"г. Санкт-Петербург, ул. Мира, д. 26, кв. 53",type:"text"},{title:"Пол",value:"Мужской",type:"dropList",variants:fe}]},modules:{education:{title:"Образование",value:[{title:"Бакалавриат",type:"dropList",value:"Национальный исследовательский ядерный университет «МИФИ»",variants:de}]},career:{title:"Карьера",value:[{title:"Стаж",value:"9 (в годах)",type:"text"},{title:"Зарплата",value:"138061 руб.",type:"text"},{title:"Должность",value:"Консультант",type:"dropList",variants:ye},{title:"Отдел",value:"HR",type:"dropList",variants:me}]},family:{title:"Семья",value:[{title:"Отец",value:"Смирнов Петр Михайлович",type:"text"},{title:"Мать",value:"Смирнова Елена Михайловна",type:"text"},{title:"Семейное положение",value:"женат",type:"dropList",variants:ve}]}}},{id:11,params:{title:"Основная информация",value:[{title:"ФИО",value:"Смирнов Петр Александрович",type:"text"},{title:"Дата рождения",value:"1984-01-22",type:"date"},{title:"Номер телефона",value:"+7 (951) 106-71-86",type:"text"},{title:"Адрес",value:"г. Екатеринбург, ул. Пушкина, д. 68, кв. 195",type:"text"},{title:"Пол",value:"Мужской",type:"dropList",variants:fe}]},modules:{education:{title:"Образование",value:[{title:"Бакалавриат",type:"dropList",value:"Санкт-Петербургский государственный университет (СПбГУ)",variants:de},{title:"Магистратура",type:"dropList",value:"Московский физико-технический институт (МФТИ)",variants:de}]},career:{title:"Карьера",value:[]},family:{title:"Семья",value:[{title:"Отец",value:"Смирнов Александр Александрович",type:"text"},{title:"Мать",value:"Сидорова Мария Александровна",type:"text"},{title:"Семейное положение",value:"холост",type:"dropList",variants:ve}]}}},{id:12,params:{title:"Основная информация",value:[{title:"ФИО",value:"Кузнецов Сергей Александрович",type:"text"},{title:"Дата рождения",value:"2000-03-17",type:"date"},{title:"Номер телефона",value:"+7 (957) 734-65-63",type:"text"},{title:"Адрес",value:"г. Москва, ул. Мира, д. 26, кв. 114",type:"text"},{title:"Пол",value:"Мужской",type:"dropList",variants:fe}]},modules:{education:{title:"Образование",value:[{title:"Бакалавриат",type:"dropList",value:"Московский государственный технический университет имени Н. Э. Баумана (МГТУ)",variants:de}]},career:{title:"Карьера",value:[{title:"Стаж",value:"3 (в годах)",type:"text"},{title:"Зарплата",value:"138987 руб.",type:"text"},{title:"Должность",value:"Специалист",type:"dropList",variants:ye},{title:"Отдел",value:"Финансы",type:"dropList",variants:me}]},family:{title:"Семья",value:[{title:"Отец",value:"Петров Александр Сергеевич",type:"text"},{title:"Мать",value:"Иванова Светлана Александровна",type:"text"},{title:"Семейное положение",value:"холост",type:"dropList",variants:ve}]}}},{id:13,params:{title:"Основная информация",value:[{title:"ФИО",value:"Иванова Елена Михайловна",type:"text"},{title:"Дата рождения",value:"1970-05-21",type:"date"},{title:"Номер телефона",value:"+7 (944) 187-18-68",type:"text"},{title:"Адрес",value:"г. Красноярск, ул. Пушкина, д. 19, кв. 180",type:"text"},{title:"Пол",value:"Женский",type:"dropList",variants:fe}]},modules:{education:{title:"Образование",value:[{title:"Бакалавриат",type:"dropList",value:"Московский государственный технический университет имени Н. Э. Баумана (МГТУ)",variants:de}]},career:{title:"Карьера",value:[{title:"Стаж",value:"1 (в годах)",type:"text"},{title:"Зарплата",value:"159113 руб.",type:"text"},{title:"Должность",value:"Программист",type:"dropList",variants:ye},{title:"Отдел",value:"HR",type:"dropList",variants:me}]},family:{title:"Семья",value:[{title:"Отец",value:"Петров Иван Иванович",type:"text"},{title:"Мать",value:"Смирнова Елена Сергеевна",type:"text"},{title:"Семейное положение",value:"замужем",type:"dropList",variants:ve}]}}},{id:14,params:{title:"Основная информация",value:[{title:"ФИО",value:"Сидорова Светлана Ивановна",type:"text"},{title:"Дата рождения",value:"1975-08-23",type:"date"},{title:"Номер телефона",value:"+7 (956) 764-78-37",type:"text"},{title:"Адрес",value:"г. Екатеринбург, ул. Мира, д. 48, кв. 112",type:"text"},{title:"Пол",value:"Женский",type:"dropList",variants:fe}]},modules:{education:{title:"Образование",value:[{title:"Бакалавриат",type:"dropList",value:"Российская академия народного хозяйства и государственной службы (РАНХиГС)",variants:de},{title:"Магистратура",type:"dropList",value:"Московский государственный университет имени М. В. Ломоносова (МГУ)",variants:de}]},career:{title:"Карьера",value:[{title:"Стаж",value:"14 (в годах)",type:"text"},{title:"Зарплата",value:"276893 руб.",type:"text"},{title:"Должность",value:"Администратор",type:"dropList",variants:ye},{title:"Отдел",value:"Бухгалтерия",type:"dropList",variants:me}]},family:{title:"Семья",value:[{title:"Отец",value:"Петров Михаил Михайлович",type:"text"},{title:"Мать",value:"Сидорова Мария Петровна",type:"text"},{title:"Семейное положение",value:"холоста",type:"dropList",variants:ve}]}}},{id:15,params:{title:"Основная информация",value:[{title:"ФИО",value:"Смирнова Елена Михайловна",type:"text"},{title:"Дата рождения",value:"2000-07-02",type:"date"},{title:"Номер телефона",value:"+7 (948) 656-32-32",type:"text"},{title:"Адрес",value:"г. Новосибирск, ул. Мира, д. 27, кв. 182",type:"text"},{title:"Пол",value:"Женский",type:"dropList",variants:fe}]},modules:{education:{title:"Образование",value:[{title:"Бакалавриат",type:"dropList",value:"Московский государственный университет имени М. В. Ломоносова (МГУ)",variants:de}]},career:{title:"Карьера",value:[{title:"Стаж",value:"11 (в годах)",type:"text"},{title:"Зарплата",value:"109223 руб.",type:"text"},{title:"Должность",value:"Специалист",type:"dropList",variants:ye},{title:"Отдел",value:"HR",type:"dropList",variants:me}]},family:{title:"Семья",value:[{title:"Отец",value:"Сидоров Александр Сергеевич",type:"text"},{title:"Мать",value:"Петрова Светлана Александровна",type:"text"},{title:"Семейное положение",value:"замужем",type:"dropList",variants:ve}]}}},{id:16,params:{title:"Основная информация",value:[{title:"ФИО",value:"Иванова Ольга Ивановна",type:"text"},{title:"Дата рождения",value:"1974-04-25",type:"date"},{title:"Номер телефона",value:"+7 (935) 042-15-52",type:"text"},{title:"Адрес",value:"г. Красноярск, ул. Пушкина, д. 94, кв. 55",type:"text"},{title:"Пол",value:"Женский",type:"dropList",variants:fe}]},modules:{education:{title:"Образование",value:[{title:"Бакалавриат",type:"dropList",value:"Московский государственный университет имени М. В. Ломоносова (МГУ)",variants:de},{title:"Магистратура",type:"dropList",value:"Национальный исследовательский ядерный университет «МИФИ»",variants:de}]},career:{title:"Карьера",value:[{title:"Стаж",value:"3 (в годах)",type:"text"},{title:"Зарплата",value:"30236 руб.",type:"text"},{title:"Должность",value:"Аналитик",type:"dropList",variants:ye},{title:"Отдел",value:"Продажи",type:"dropList",variants:me}]},family:{title:"Семья",value:[{title:"Отец",value:"Кузнецов Сергей Александрович",type:"text"},{title:"Мать",value:"Кузнецова Мария Михайловна",type:"text"},{title:"Семейное положение",value:"замужем",type:"dropList",variants:ve}]}}},{id:17,params:{title:"Основная информация",value:[{title:"ФИО",value:"Кузнецов Александр Сергеевич",type:"text"},{title:"Дата рождения",value:"1986-12-09",type:"date"},{title:"Номер телефона",value:"+7 (918) 464-23-51",type:"text"},{title:"Адрес",value:"г. Новосибирск, ул. Гагарина, д. 24, кв. 160",type:"text"},{title:"Пол",value:"Мужской",type:"dropList",variants:fe}]},modules:{education:{title:"Образование",value:[]},career:{title:"Карьера",value:[{title:"Стаж",value:"2 (в годах)",type:"text"},{title:"Зарплата",value:"36258 руб.",type:"text"},{title:"Должность",value:"Программист",type:"dropList",variants:ye},{title:"Отдел",value:"Бухгалтерия",type:"dropList",variants:me}]},family:{title:"Семья",value:[{title:"Отец",value:"Сидоров Михаил Петрович",type:"text"},{title:"Мать",value:"Смирнова Светлана Александровна",type:"text"},{title:"Семейное положение",value:"женат",type:"dropList",variants:ve}]}}},{id:18,params:{title:"Основная информация",value:[{title:"ФИО",value:"Смирнов Михаил Иванович",type:"text"},{title:"Дата рождения",value:"1975-03-04",type:"date"},{title:"Номер телефона",value:"+7 (912) 036-76-42",type:"text"},{title:"Адрес",value:"г. Екатеринбург, ул. Комсомольская, д. 84, кв. 150",type:"text"},{title:"Пол",value:"Мужской",type:"dropList",variants:fe}]},modules:{education:{title:"Образование",value:[]},career:{title:"Карьера",value:[{title:"Стаж",value:"5 (в годах)",type:"text"},{title:"Зарплата",value:"55823 руб.",type:"text"},{title:"Должность",value:"Программист",type:"dropList",variants:ye},{title:"Отдел",value:"Бухгалтерия",type:"dropList",variants:me}]},family:{title:"Семья",value:[{title:"Отец",value:"Кузнецов Михаил Петрович",type:"text"},{title:"Мать",value:"Смирнова Елена Петровна",type:"text"},{title:"Семейное положение",value:"женат",type:"dropList",variants:ve}]}}},{id:19,params:{title:"Основная информация",value:[{title:"ФИО",value:"Смирнов Иван Сергеевич",type:"text"},{title:"Дата рождения",value:"1982-09-16",type:"date"},{title:"Номер телефона",value:"+7 (912) 197-91-25",type:"text"},{title:"Адрес",value:"г. Москва, ул. Комсомольская, д. 42, кв. 170",type:"text"},{title:"Пол",value:"Мужской",type:"dropList",variants:fe}]},modules:{education:{title:"Образование",value:[]},career:{title:"Карьера",value:[{title:"Стаж",value:"11 (в годах)",type:"text"},{title:"Зарплата",value:"78708 руб.",type:"text"},{title:"Должность",value:"Консультант",type:"dropList",variants:ye},{title:"Отдел",value:"Маркетинг",type:"dropList",variants:me}]},family:{title:"Семья",value:[{title:"Отец",value:"Петров Петр Сергеевич",type:"text"},{title:"Мать",value:"Кузнецова Мария Михайловна",type:"text"},{title:"Семейное положение",value:"разведен",type:"dropList",variants:ve}]}}},{id:20,params:{title:"Основная информация",value:[{title:"ФИО",value:"Иванов Сергей Сергеевич",type:"text"},{title:"Дата рождения",value:"1992-12-05",type:"date"},{title:"Номер телефона",value:"+7 (962) 254-16-33",type:"text"},{title:"Адрес",value:"г. Красноярск, ул. Комсомольская, д. 49, кв. 7",type:"text"},{title:"Пол",value:"Мужской",type:"dropList",variants:fe}]},modules:{education:{title:"Образование",value:[{title:"Бакалавриат",type:"dropList",value:"Российский университет дружбы народов (РУДН)",variants:de}]},career:{title:"Карьера",value:[{title:"Стаж",value:"10 (в годах)",type:"text"},{title:"Зарплата",value:"167124 руб.",type:"text"},{title:"Должность",value:"Директор",type:"dropList",variants:ye},{title:"Отдел",value:"Юридический",type:"dropList",variants:me}]},family:{title:"Семья",value:[{title:"Отец",value:"Иванов Михаил Михайлович",type:"text"},{title:"Мать",value:"Петрова Анна Михайловна",type:"text"},{title:"Семейное положение",value:"женат",type:"dropList",variants:ve}]}}},{id:21,params:{title:"Основная информация",value:[{title:"ФИО",value:"Петрова Светлана Михайловна",type:"text"},{title:"Дата рождения",value:"1970-03-13",type:"date"},{title:"Номер телефона",value:"+7 (914) 827-36-65",type:"text"},{title:"Адрес",value:"г. Санкт-Петербург, ул. Мира, д. 67, кв. 139",type:"text"},{title:"Пол",value:"Женский",type:"dropList",variants:fe}]},modules:{education:{title:"Образование",value:[{title:"Бакалавриат",type:"dropList",value:"Национальный исследовательский университет «Высшая школа экономики» (НИУ ВШЭ)",variants:de},{title:"Магистратура",type:"dropList",value:"Московский физико-технический институт (МФТИ)",variants:de}]},career:{title:"Карьера",value:[{title:"Стаж",value:"11 (в годах)",type:"text"},{title:"Зарплата",value:"63450 руб.",type:"text"},{title:"Должность",value:"Инженер",type:"dropList",variants:ye},{title:"Отдел",value:"Продажи",type:"dropList",variants:me}]},family:{title:"Семья",value:[{title:"Отец",value:"Сидоров Михаил Сергеевич",type:"text"},{title:"Мать",value:"Иванова Мария Ивановна",type:"text"},{title:"Семейное положение",value:"холоста",type:"dropList",variants:ve}]}}},{id:22,params:{title:"Основная информация",value:[{title:"ФИО",value:"Петрова Светлана Ивановна",type:"text"},{title:"Дата рождения",value:"1976-06-25",type:"date"},{title:"Номер телефона",value:"+7 (940) 190-71-32",type:"text"},{title:"Адрес",value:"г. Санкт-Петербург, ул. Гагарина, д. 39, кв. 77",type:"text"},{title:"Пол",value:"Женский",type:"dropList",variants:fe}]},modules:{education:{title:"Образование",value:[{title:"Бакалавриат",type:"dropList",value:"Российская академия народного хозяйства и государственной службы (РАНХиГС)",variants:de},{title:"Магистратура",type:"dropList",value:"Санкт-Петербургский государственный университет (СПбГУ)",variants:de}]},career:{title:"Карьера",value:[{title:"Стаж",value:"11 (в годах)",type:"text"},{title:"Зарплата",value:"46160 руб.",type:"text"},{title:"Должность",value:"Администратор",type:"dropList",variants:ye},{title:"Отдел",value:"Юридический",type:"dropList",variants:me}]},family:{title:"Семья",value:[{title:"Отец",value:"Кузнецов Михаил Иванович",type:"text"},{title:"Мать",value:"Петрова Анна Михайловна",type:"text"},{title:"Семейное положение",value:"замужем",type:"dropList",variants:ve}]}}},{id:23,params:{title:"Основная информация",value:[{title:"ФИО",value:"Иванов Сергей Иванович",type:"text"},{title:"Дата рождения",value:"1982-08-26",type:"date"},{title:"Номер телефона",value:"+7 (943) 691-60-76",type:"text"},{title:"Адрес",value:"г. Новосибирск, ул. Мира, д. 7, кв. 8",type:"text"},{title:"Пол",value:"Мужской",type:"dropList",variants:fe}]},modules:{education:{title:"Образование",value:[{title:"Бакалавриат",type:"dropList",value:"Первый Московский государственный медицинский университет имени И. М. Сеченова (Сеченовский Университет)",variants:de},{title:"Магистратура",type:"dropList",value:"Московский физико-технический институт (МФТИ)",variants:de}]},career:{title:"Карьера",value:[{title:"Стаж",value:"11 (в годах)",type:"text"},{title:"Зарплата",value:"272613 руб.",type:"text"},{title:"Должность",value:"Специалист",type:"dropList",variants:ye},{title:"Отдел",value:"Кадры",type:"dropList",variants:me}]},family:{title:"Семья",value:[{title:"Отец",value:"Петров Александр Михайлович",type:"text"},{title:"Мать",value:"Сидорова Елена Петровна",type:"text"},{title:"Семейное положение",value:"женат",type:"dropList",variants:ve}]}}},{id:24,params:{title:"Основная информация",value:[{title:"ФИО",value:"Смирнова Светлана Александровна",type:"text"},{title:"Дата рождения",value:"1980-12-18",type:"date"},{title:"Номер телефона",value:"+7 (997) 644-86-82",type:"text"},{title:"Адрес",value:"г. Красноярск, ул. Комсомольская, д. 5, кв. 140",type:"text"},{title:"Пол",value:"Женский",type:"dropList",variants:fe}]},modules:{education:{title:"Образование",value:[{title:"Бакалавриат",type:"dropList",value:"Российский университет дружбы народов (РУДН)",variants:de},{title:"Магистратура",type:"dropList",value:"Первый Московский государственный медицинский университет имени И. М. Сеченова (Сеченовский Университет)",variants:de}]},career:{title:"Карьера",value:[{title:"Стаж",value:"11 (в годах)",type:"text"},{title:"Зарплата",value:"164736 руб.",type:"text"},{title:"Должность",value:"Разработчик",type:"dropList",variants:ye},{title:"Отдел",value:"Бухгалтерия",type:"dropList",variants:me}]},family:{title:"Семья",value:[{title:"Отец",value:"Петров Иван Сергеевич",type:"text"},{title:"Мать",value:"Кузнецова Елена Сергеевна",type:"text"},{title:"Семейное положение",value:"холоста",type:"dropList",variants:ve}]}}},{id:25,params:{title:"Основная информация",value:[{title:"ФИО",value:"Сидоров Иван Иванович",type:"text"},{title:"Дата рождения",value:"1984-10-10",type:"date"},{title:"Номер телефона",value:"+7 (959) 644-34-53",type:"text"},{title:"Адрес",value:"г. Санкт-Петербург, ул. Гагарина, д. 100, кв. 162",type:"text"},{title:"Пол",value:"Мужской",type:"dropList",variants:fe}]},modules:{education:{title:"Образование",value:[{title:"Бакалавриат",type:"dropList",value:"Первый Московский государственный медицинский университет имени И. М. Сеченова (Сеченовский Университет)",variants:de}]},career:{title:"Карьера",value:[{title:"Стаж",value:"8 (в годах)",type:"text"},{title:"Зарплата",value:"112493 руб.",type:"text"},{title:"Должность",value:"Менеджер",type:"dropList",variants:ye},{title:"Отдел",value:"HR",type:"dropList",variants:me}]},family:{title:"Семья",value:[{title:"Отец",value:"Смирнов Александр Петрович",type:"text"},{title:"Мать",value:"Сидорова Анна Михайловна",type:"text"},{title:"Семейное положение",value:"холост",type:"dropList",variants:ve}]}}},{id:26,params:{title:"Основная информация",value:[{title:"ФИО",value:"Сидоров Петр Сергеевич",type:"text"},{title:"Дата рождения",value:"1978-05-27",type:"date"},{title:"Номер телефона",value:"+7 (965) 564-42-68",type:"text"},{title:"Адрес",value:"г. Санкт-Петербург, ул. Пушкина, д. 42, кв. 16",type:"text"},{title:"Пол",value:"Мужской",type:"dropList",variants:fe}]},modules:{education:{title:"Образование",value:[{title:"Бакалавриат",type:"dropList",value:"Российский университет дружбы народов (РУДН)",variants:de}]},career:{title:"Карьера",value:[{title:"Стаж",value:"15 (в годах)",type:"text"},{title:"Зарплата",value:"192193 руб.",type:"text"},{title:"Должность",value:"Менеджер",type:"dropList",variants:ye},{title:"Отдел",value:"Финансы",type:"dropList",variants:me}]},family:{title:"Семья",value:[{title:"Отец",value:"Иванов Сергей Сергеевич",type:"text"},{title:"Мать",value:"Кузнецова Светлана Михайловна",type:"text"},{title:"Семейное положение",value:"разведен",type:"dropList",variants:ve}]}}},{id:27,params:{title:"Основная информация",value:[{title:"ФИО",value:"Иванова Светлана Михайловна",type:"text"},{title:"Дата рождения",value:"1979-08-07",type:"date"},{title:"Номер телефона",value:"+7 (998) 000-58-47",type:"text"},{title:"Адрес",value:"г. Новосибирск, ул. Мира, д. 5, кв. 199",type:"text"},{title:"Пол",value:"Женский",type:"dropList",variants:fe}]},modules:{education:{title:"Образование",value:[]},career:{title:"Карьера",value:[{title:"Стаж",value:"7 (в годах)",type:"text"},{title:"Зарплата",value:"188125 руб.",type:"text"},{title:"Должность",value:"Инженер",type:"dropList",variants:ye},{title:"Отдел",value:"Юридический",type:"dropList",variants:me}]},family:{title:"Семья",value:[{title:"Отец",value:"Петров Сергей Иванович",type:"text"},{title:"Мать",value:"Сидорова Елена Михайловна",type:"text"},{title:"Семейное положение",value:"разведена",type:"dropList",variants:ve}]}}},{id:28,params:{title:"Основная информация",value:[{title:"ФИО",value:"Иванова Ольга Михайловна",type:"text"},{title:"Дата рождения",value:"1991-01-10",type:"date"},{title:"Номер телефона",value:"+7 (953) 802-16-13",type:"text"},{title:"Адрес",value:"г. Екатеринбург, ул. Мира, д. 11, кв. 10",type:"text"},{title:"Пол",value:"Женский",type:"dropList",variants:fe}]},modules:{education:{title:"Образование",value:[]},career:{title:"Карьера",value:[{title:"Стаж",value:"15 (в годах)",type:"text"},{title:"Зарплата",value:"148349 руб.",type:"text"},{title:"Должность",value:"Специалист",type:"dropList",variants:ye},{title:"Отдел",value:"Продажи",type:"dropList",variants:me}]},family:{title:"Семья",value:[{title:"Отец",value:"Кузнецов Иван Иванович",type:"text"},{title:"Мать",value:"Иванова Светлана Александровна",type:"text"},{title:"Семейное положение",value:"холоста",type:"dropList",variants:ve}]}}},{id:29,params:{title:"Основная информация",value:[{title:"ФИО",value:"Иванова Мария Александровна",type:"text"},{title:"Дата рождения",value:"1981-09-10",type:"date"},{title:"Номер телефона",value:"+7 (905) 992-46-88",type:"text"},{title:"Адрес",value:"г. Москва, ул. Пушкина, д. 27, кв. 133",type:"text"},{title:"Пол",value:"Женский",type:"dropList",variants:fe}]},modules:{education:{title:"Образование",value:[{title:"Бакалавриат",type:"dropList",value:"Московский государственный университет имени М. В. Ломоносова (МГУ)",variants:de}]},career:{title:"Карьера",value:[{title:"Стаж",value:"6 (в годах)",type:"text"},{title:"Зарплата",value:"40349 руб.",type:"text"},{title:"Должность",value:"Инженер",type:"dropList",variants:ye},{title:"Отдел",value:"Юридический",type:"dropList",variants:me}]},family:{title:"Семья",value:[{title:"Отец",value:"Смирнов Сергей Михайлович",type:"text"},{title:"Мать",value:"Кузнецова Светлана Александровна",type:"text"},{title:"Семейное положение",value:"замужем",type:"dropList",variants:ve}]}}},{id:30,params:{title:"Основная информация",value:[{title:"ФИО",value:"Сидорова Елена Александровна",type:"text"},{title:"Дата рождения",value:"1994-11-22",type:"date"},{title:"Номер телефона",value:"+7 (997) 767-72-78",type:"text"},{title:"Адрес",value:"г. Красноярск, ул. Гагарина, д. 46, кв. 161",type:"text"},{title:"Пол",value:"Женский",type:"dropList",variants:fe}]},modules:{education:{title:"Образование",value:[{title:"Бакалавриат",type:"dropList",value:"Первый Московский государственный медицинский университет имени И. М. Сеченова (Сеченовский Университет)",variants:de}]},career:{title:"Карьера",value:[{title:"Стаж",value:"15 (в годах)",type:"text"},{title:"Зарплата",value:"121912 руб.",type:"text"},{title:"Должность",value:"Разработчик",type:"dropList",variants:ye},{title:"Отдел",value:"Юридический",type:"dropList",variants:me}]},family:{title:"Семья",value:[{title:"Отец",value:"Сидоров Сергей Сергеевич",type:"text"},{title:"Мать",value:"Смирнова Елена Сергеевна",type:"text"},{title:"Семейное положение",value:"холоста",type:"dropList",variants:ve}]}}},{id:31,params:{title:"Основная информация",value:[{title:"ФИО",value:"Смирнов Михаил Петрович",type:"text"},{title:"Дата рождения",value:"1981-04-20",type:"date"},{title:"Номер телефона",value:"+7 (923) 426-92-62",type:"text"},{title:"Адрес",value:"г. Екатеринбург, ул. Гагарина, д. 93, кв. 111",type:"text"},{title:"Пол",value:"Мужской",type:"dropList",variants:fe}]},modules:{education:{title:"Образование",value:[{title:"Бакалавриат",type:"dropList",value:"Российский университет дружбы народов (РУДН)",variants:de},{title:"Магистратура",type:"dropList",value:"Национальный исследовательский университет «Высшая школа экономики» (НИУ ВШЭ)",variants:de}]},career:{title:"Карьера",value:[{title:"Стаж",value:"12 (в годах)",type:"text"},{title:"Зарплата",value:"58955 руб.",type:"text"},{title:"Должность",value:"Аналитик",type:"dropList",variants:ye},{title:"Отдел",value:"Бухгалтерия",type:"dropList",variants:me}]},family:{title:"Семья",value:[{title:"Отец",value:"Петров Михаил Александрович",type:"text"},{title:"Мать",value:"Иванова Мария Ивановна",type:"text"},{title:"Семейное положение",value:"разведен",type:"dropList",variants:ve}]}}},{id:32,params:{title:"Основная информация",value:[{title:"ФИО",value:"Кузнецов Сергей Петрович",type:"text"},{title:"Дата рождения",value:"1989-05-02",type:"date"},{title:"Номер телефона",value:"+7 (951) 589-60-45",type:"text"},{title:"Адрес",value:"г. Красноярск, ул. Ленина, д. 99, кв. 62",type:"text"},{title:"Пол",value:"Мужской",type:"dropList",variants:fe}]},modules:{education:{title:"Образование",value:[{title:"Бакалавриат",type:"dropList",value:"Российский университет дружбы народов (РУДН)",variants:de}]},career:{title:"Карьера",value:[{title:"Стаж",value:"4 (в годах)",type:"text"},{title:"Зарплата",value:"54573 руб.",type:"text"},{title:"Должность",value:"Консультант",type:"dropList",variants:ye},{title:"Отдел",value:"Производство",type:"dropList",variants:me}]},family:{title:"Семья",value:[{title:"Отец",value:"Смирнов Петр Сергеевич",type:"text"},{title:"Мать",value:"Кузнецова Мария Ивановна",type:"text"},{title:"Семейное положение",value:"холост",type:"dropList",variants:ve}]}}},{id:33,params:{title:"Основная информация",value:[{title:"ФИО",value:"Сидоров Михаил Александрович",type:"text"},{title:"Дата рождения",value:"1981-10-09",type:"date"},{title:"Номер телефона",value:"+7 (998) 645-53-87",type:"text"},{title:"Адрес",value:"г. Москва, ул. Пушкина, д. 41, кв. 21",type:"text"},{title:"Пол",value:"Мужской",type:"dropList",variants:fe}]},modules:{education:{title:"Образование",value:[{title:"Бакалавриат",type:"dropList",value:"Московский государственный технический университет имени Н. Э. Баумана (МГТУ)",variants:de}]},career:{title:"Карьера",value:[{title:"Стаж",value:"6 (в годах)",type:"text"},{title:"Зарплата",value:"115584 руб.",type:"text"},{title:"Должность",value:"Аналитик",type:"dropList",variants:ye},{title:"Отдел",value:"IT",type:"dropList",variants:me}]},family:{title:"Семья",value:[{title:"Отец",value:"Сидоров Михаил Александрович",type:"text"},{title:"Мать",value:"Смирнова Ольга Петровна",type:"text"},{title:"Семейное положение",value:"холост",type:"dropList",variants:ve}]}}},{id:34,params:{title:"Основная информация",value:[{title:"ФИО",value:"Петрова Ольга Михайловна",type:"text"},{title:"Дата рождения",value:"1983-07-25",type:"date"},{title:"Номер телефона",value:"+7 (909) 959-97-87",type:"text"},{title:"Адрес",value:"г. Новосибирск, ул. Комсомольская, д. 34, кв. 176",type:"text"},{title:"Пол",value:"Женский",type:"dropList",variants:fe}]},modules:{education:{title:"Образование",value:[]},career:{title:"Карьера",value:[]},family:{title:"Семья",value:[{title:"Отец",value:"Смирнов Иван Иванович",type:"text"},{title:"Мать",value:"Смирнова Елена Михайловна",type:"text"},{title:"Семейное положение",value:"разведена",type:"dropList",variants:ve}]}}},{id:35,params:{title:"Основная информация",value:[{title:"ФИО",value:"Смирнов Михаил Сергеевич",type:"text"},{title:"Дата рождения",value:"2004-02-23",type:"date"},{title:"Номер телефона",value:"+7 (992) 092-93-67",type:"text"},{title:"Адрес",value:"г. Москва, ул. Мира, д. 90, кв. 199",type:"text"},{title:"Пол",value:"Мужской",type:"dropList",variants:fe}]},modules:{education:{title:"Образование",value:[]},career:{title:"Карьера",value:[{title:"Стаж",value:"11 (в годах)",type:"text"},{title:"Зарплата",value:"118650 руб.",type:"text"},{title:"Должность",value:"Директор",type:"dropList",variants:ye},{title:"Отдел",value:"IT",type:"dropList",variants:me}]},family:{title:"Семья",value:[{title:"Отец",value:"Иванов Сергей Иванович",type:"text"},{title:"Мать",value:"Сидорова Елена Александровна",type:"text"},{title:"Семейное положение",value:"холост",type:"dropList",variants:ve}]}}},{id:36,params:{title:"Основная информация",value:[{title:"ФИО",value:"Смирнова Ольга Александровна",type:"text"},{title:"Дата рождения",value:"1986-12-15",type:"date"},{title:"Номер телефона",value:"+7 (974) 942-65-83",type:"text"},{title:"Адрес",value:"г. Екатеринбург, ул. Пушкина, д. 95, кв. 148",type:"text"},{title:"Пол",value:"Женский",type:"dropList",variants:fe}]},modules:{education:{title:"Образование",value:[{title:"Бакалавриат",type:"dropList",value:"Российская академия народного хозяйства и государственной службы (РАНХиГС)",variants:de}]},career:{title:"Карьера",value:[{title:"Стаж",value:"1 (в годах)",type:"text"},{title:"Зарплата",value:"183782 руб.",type:"text"},{title:"Должность",value:"Администратор",type:"dropList",variants:ye},{title:"Отдел",value:"Кадры",type:"dropList",variants:me}]},family:{title:"Семья",value:[{title:"Отец",value:"Сидоров Иван Михайлович",type:"text"},{title:"Мать",value:"Иванова Ольга Сергеевна",type:"text"},{title:"Семейное положение",value:"разведена",type:"dropList",variants:ve}]}}},{id:37,params:{title:"Основная информация",value:[{title:"ФИО",value:"Иванова Ольга Сергеевна",type:"text"},{title:"Дата рождения",value:"1978-02-24",type:"date"},{title:"Номер телефона",value:"+7 (955) 201-09-53",type:"text"},{title:"Адрес",value:"г. Красноярск, ул. Ленина, д. 44, кв. 138",type:"text"},{title:"Пол",value:"Женский",type:"dropList",variants:fe}]},modules:{education:{title:"Образование",value:[{title:"Бакалавриат",type:"dropList",value:"Университет ИТМО",variants:de}]},career:{title:"Карьера",value:[{title:"Стаж",value:"9 (в годах)",type:"text"},{title:"Зарплата",value:"286751 руб.",type:"text"},{title:"Должность",value:"Аналитик",type:"dropList",variants:ye},{title:"Отдел",value:"Финансы",type:"dropList",variants:me}]},family:{title:"Семья",value:[{title:"Отец",value:"Петров Александр Михайлович",type:"text"},{title:"Мать",value:"Иванова Светлана Сергеевна",type:"text"},{title:"Семейное положение",value:"холоста",type:"dropList",variants:ve}]}}},{id:38,params:{title:"Основная информация",value:[{title:"ФИО",value:"Кузнецов Сергей Михайлович",type:"text"},{title:"Дата рождения",value:"1980-03-15",type:"date"},{title:"Номер телефона",value:"+7 (998) 989-66-38",type:"text"},{title:"Адрес",value:"г. Красноярск, ул. Ленина, д. 70, кв. 91",type:"text"},{title:"Пол",value:"Мужской",type:"dropList",variants:fe}]},modules:{education:{title:"Образование",value:[{title:"Бакалавриат",type:"dropList",value:"Университет ИТМО",variants:de}]},career:{title:"Карьера",value:[{title:"Стаж",value:"7 (в годах)",type:"text"},{title:"Зарплата",value:"274321 руб.",type:"text"},{title:"Должность",value:"Инженер",type:"dropList",variants:ye},{title:"Отдел",value:"Маркетинг",type:"dropList",variants:me}]},family:{title:"Семья",value:[{title:"Отец",value:"Сидоров Петр Михайлович",type:"text"},{title:"Мать",value:"Смирнова Анна Александровна",type:"text"},{title:"Семейное положение",value:"разведен",type:"dropList",variants:ve}]}}},{id:39,params:{title:"Основная информация",value:[{title:"ФИО",value:"Сидорова Елена Петровна",type:"text"},{title:"Дата рождения",value:"1996-05-23",type:"date"},{title:"Номер телефона",value:"+7 (947) 948-23-69",type:"text"},{title:"Адрес",value:"г. Москва, ул. Мира, д. 69, кв. 15",type:"text"},{title:"Пол",value:"Женский",type:"dropList",variants:fe}]},modules:{education:{title:"Образование",value:[{title:"Бакалавриат",type:"dropList",value:"Национальный исследовательский университет «Высшая школа экономики» (НИУ ВШЭ)",variants:de},{title:"Магистратура",type:"dropList",value:"Московский государственный университет имени М. В. Ломоносова (МГУ)",variants:de}]},career:{title:"Карьера",value:[{title:"Стаж",value:"5 (в годах)",type:"text"},{title:"Зарплата",value:"84393 руб.",type:"text"},{title:"Должность",value:"Аналитик",type:"dropList",variants:ye},{title:"Отдел",value:"Юридический",type:"dropList",variants:me}]},family:{title:"Семья",value:[{title:"Отец",value:"Петров Иван Александрович",type:"text"},{title:"Мать",value:"Петрова Ольга Ивановна",type:"text"},{title:"Семейное положение",value:"холоста",type:"dropList",variants:ve}]}}},{id:40,params:{title:"Основная информация",value:[{title:"ФИО",value:"Иванова Ольга Ивановна",type:"text"},{title:"Дата рождения",value:"2002-11-25",type:"date"},{title:"Номер телефона",value:"+7 (942) 645-84-83",type:"text"},{title:"Адрес",value:"г. Екатеринбург, ул. Мира, д. 43, кв. 127",type:"text"},{title:"Пол",value:"Женский",type:"dropList",variants:fe}]},modules:{education:{title:"Образование",value:[{title:"Бакалавриат",type:"dropList",value:"Московский физико-технический институт (МФТИ)",variants:de}]},career:{title:"Карьера",value:[{title:"Стаж",value:"9 (в годах)",type:"text"},{title:"Зарплата",value:"69215 руб.",type:"text"},{title:"Должность",value:"Бухгалтер",type:"dropList",variants:ye},{title:"Отдел",value:"Логистика",type:"dropList",variants:me}]},family:{title:"Семья",value:[{title:"Отец",value:"Петров Михаил Михайлович",type:"text"},{title:"Мать",value:"Сидорова Светлана Сергеевна",type:"text"},{title:"Семейное положение",value:"замужем",type:"dropList",variants:ve}]}}},{id:41,params:{title:"Основная информация",value:[{title:"ФИО",value:"Петрова Анна Михайловна",type:"text"},{title:"Дата рождения",value:"1990-04-16",type:"date"},{title:"Номер телефона",value:"+7 (914) 738-56-73",type:"text"},{title:"Адрес",value:"г. Новосибирск, ул. Ленина, д. 31, кв. 126",type:"text"},{title:"Пол",value:"Женский",type:"dropList",variants:fe}]},modules:{education:{title:"Образование",value:[]},career:{title:"Карьера",value:[{title:"Стаж",value:"4 (в годах)",type:"text"},{title:"Зарплата",value:"294683 руб.",type:"text"},{title:"Должность",value:"Бухгалтер",type:"dropList",variants:ye},{title:"Отдел",value:"IT",type:"dropList",variants:me}]},family:{title:"Семья",value:[{title:"Отец",value:"Иванов Петр Петрович",type:"text"},{title:"Мать",value:"Иванова Светлана Михайловна",type:"text"},{title:"Семейное положение",value:"холоста",type:"dropList",variants:ve}]}}},{id:42,params:{title:"Основная информация",value:[{title:"ФИО",value:"Сидорова Елена Александровна",type:"text"},{title:"Дата рождения",value:"1995-12-04",type:"date"},{title:"Номер телефона",value:"+7 (991) 415-17-56",type:"text"},{title:"Адрес",value:"г. Новосибирск, ул. Ленина, д. 1, кв. 129",type:"text"},{title:"Пол",value:"Женский",type:"dropList",variants:fe}]},modules:{education:{title:"Образование",value:[{title:"Бакалавриат",type:"dropList",value:"Российский университет дружбы народов (РУДН)",variants:de}]},career:{title:"Карьера",value:[{title:"Стаж",value:"5 (в годах)",type:"text"},{title:"Зарплата",value:"256651 руб.",type:"text"},{title:"Должность",value:"Бухгалтер",type:"dropList",variants:ye},{title:"Отдел",value:"HR",type:"dropList",variants:me}]},family:{title:"Семья",value:[{title:"Отец",value:"Смирнов Александр Сергеевич",type:"text"},{title:"Мать",value:"Иванова Елена Петровна",type:"text"},{title:"Семейное положение",value:"замужем",type:"dropList",variants:ve}]}}},{id:43,params:{title:"Основная информация",value:[{title:"ФИО",value:"Кузнецова Ольга Сергеевна",type:"text"},{title:"Дата рождения",value:"1975-01-15",type:"date"},{title:"Номер телефона",value:"+7 (968) 243-56-83",type:"text"},{title:"Адрес",value:"г. Санкт-Петербург, ул. Мира, д. 31, кв. 127",type:"text"},{title:"Пол",value:"Женский",type:"dropList",variants:fe}]},modules:{education:{title:"Образование",value:[]},career:{title:"Карьера",value:[{title:"Стаж",value:"6 (в годах)",type:"text"},{title:"Зарплата",value:"101882 руб.",type:"text"},{title:"Должность",value:"Программист",type:"dropList",variants:ye},{title:"Отдел",value:"Финансы",type:"dropList",variants:me}]},family:{title:"Семья",value:[{title:"Отец",value:"Иванов Александр Иванович",type:"text"},{title:"Мать",value:"Кузнецова Елена Ивановна",type:"text"},{title:"Семейное положение",value:"замужем",type:"dropList",variants:ve}]}}},{id:44,params:{title:"Основная информация",value:[{title:"ФИО",value:"Кузнецова Елена Петровна",type:"text"},{title:"Дата рождения",value:"1974-07-05",type:"date"},{title:"Номер телефона",value:"+7 (955) 091-11-82",type:"text"},{title:"Адрес",value:"г. Санкт-Петербург, ул. Комсомольская, д. 13, кв. 73",type:"text"},{title:"Пол",value:"Женский",type:"dropList",variants:fe}]},modules:{education:{title:"Образование",value:[]},career:{title:"Карьера",value:[{title:"Стаж",value:"2 (в годах)",type:"text"},{title:"Зарплата",value:"210363 руб.",type:"text"},{title:"Должность",value:"Аналитик",type:"dropList",variants:ye},{title:"Отдел",value:"Кадры",type:"dropList",variants:me}]},family:{title:"Семья",value:[{title:"Отец",value:"Сидоров Сергей Александрович",type:"text"},{title:"Мать",value:"Сидорова Светлана Михайловна",type:"text"},{title:"Семейное положение",value:"холоста",type:"dropList",variants:ve}]}}},{id:45,params:{title:"Основная информация",value:[{title:"ФИО",value:"Петров Сергей Сергеевич",type:"text"},{title:"Дата рождения",value:"1980-09-27",type:"date"},{title:"Номер телефона",value:"+7 (961) 758-62-77",type:"text"},{title:"Адрес",value:"г. Москва, ул. Ленина, д. 12, кв. 96",type:"text"},{title:"Пол",value:"Мужской",type:"dropList",variants:fe}]},modules:{education:{title:"Образование",value:[]},career:{title:"Карьера",value:[{title:"Стаж",value:"4 (в годах)",type:"text"},{title:"Зарплата",value:"179346 руб.",type:"text"},{title:"Должность",value:"Бухгалтер",type:"dropList",variants:ye},{title:"Отдел",value:"Маркетинг",type:"dropList",variants:me}]},family:{title:"Семья",value:[{title:"Отец",value:"Петров Александр Иванович",type:"text"},{title:"Мать",value:"Иванова Светлана Сергеевна",type:"text"},{title:"Семейное положение",value:"женат",type:"dropList",variants:ve}]}}},{id:46,params:{title:"Основная информация",value:[{title:"ФИО",value:"Петрова Мария Петровна",type:"text"},{title:"Дата рождения",value:"1977-05-06",type:"date"},{title:"Номер телефона",value:"+7 (938) 466-57-17",type:"text"},{title:"Адрес",value:"г. Новосибирск, ул. Ленина, д. 25, кв. 93",type:"text"},{title:"Пол",value:"Женский",type:"dropList",variants:fe}]},modules:{education:{title:"Образование",value:[{title:"Бакалавриат",type:"dropList",value:"Российская академия народного хозяйства и государственной службы (РАНХиГС)",variants:de}]},career:{title:"Карьера",value:[{title:"Стаж",value:"4 (в годах)",type:"text"},{title:"Зарплата",value:"61564 руб.",type:"text"},{title:"Должность",value:"Директор",type:"dropList",variants:ye},{title:"Отдел",value:"Кадры",type:"dropList",variants:me}]},family:{title:"Семья",value:[{title:"Отец",value:"Иванов Александр Иванович",type:"text"},{title:"Мать",value:"Сидорова Мария Ивановна",type:"text"},{title:"Семейное положение",value:"холоста",type:"dropList",variants:ve}]}}},{id:47,params:{title:"Основная информация",value:[{title:"ФИО",value:"Смирнова Ольга Петровна",type:"text"},{title:"Дата рождения",value:"1998-03-17",type:"date"},{title:"Номер телефона",value:"+7 (907) 966-45-94",type:"text"},{title:"Адрес",value:"г. Новосибирск, ул. Комсомольская, д. 30, кв. 98",type:"text"},{title:"Пол",value:"Женский",type:"dropList",variants:fe}]},modules:{education:{title:"Образование",value:[]},career:{title:"Карьера",value:[{title:"Стаж",value:"8 (в годах)",type:"text"},{title:"Зарплата",value:"31868 руб.",type:"text"},{title:"Должность",value:"Администратор",type:"dropList",variants:ye},{title:"Отдел",value:"Продажи",type:"dropList",variants:me}]},family:{title:"Семья",value:[{title:"Отец",value:"Смирнов Петр Александрович",type:"text"},{title:"Мать",value:"Смирнова Ольга Михайловна",type:"text"},{title:"Семейное положение",value:"разведена",type:"dropList",variants:ve}]}}},{id:48,params:{title:"Основная информация",value:[{title:"ФИО",value:"Иванов Михаил Александрович",type:"text"},{title:"Дата рождения",value:"1982-03-30",type:"date"},{title:"Номер телефона",value:"+7 (922) 473-90-33",type:"text"},{title:"Адрес",value:"г. Красноярск, ул. Пушкина, д. 13, кв. 74",type:"text"},{title:"Пол",value:"Мужской",type:"dropList",variants:fe}]},modules:{education:{title:"Образование",value:[{title:"Бакалавриат",type:"dropList",value:"Национальный исследовательский университет «Высшая школа экономики» (НИУ ВШЭ)",variants:de}]},career:{title:"Карьера",value:[{title:"Стаж",value:"7 (в годах)",type:"text"},{title:"Зарплата",value:"106473 руб.",type:"text"},{title:"Должность",value:"Бухгалтер",type:"dropList",variants:ye},{title:"Отдел",value:"Маркетинг",type:"dropList",variants:me}]},family:{title:"Семья",value:[{title:"Отец",value:"Кузнецов Михаил Петрович",type:"text"},{title:"Мать",value:"Петрова Ольга Михайловна",type:"text"},{title:"Семейное положение",value:"разведен",type:"dropList",variants:ve}]}}},{id:49,params:{title:"Основная информация",value:[{title:"ФИО",value:"Петров Сергей Михайлович",type:"text"},{title:"Дата рождения",value:"2004-10-18",type:"date"},{title:"Номер телефона",value:"+7 (938) 728-66-82",type:"text"},{title:"Адрес",value:"г. Москва, ул. Пушкина, д. 15, кв. 191",type:"text"},{title:"Пол",value:"Мужской",type:"dropList",variants:fe}]},modules:{education:{title:"Образование",value:[]},career:{title:"Карьера",value:[{title:"Стаж",value:"14 (в годах)",type:"text"},{title:"Зарплата",value:"116954 руб.",type:"text"},{title:"Должность",value:"Администратор",type:"dropList",variants:ye},{title:"Отдел",value:"Бухгалтерия",type:"dropList",variants:me}]},family:{title:"Семья",value:[{title:"Отец",value:"Сидоров Петр Сергеевич",type:"text"},{title:"Мать",value:"Сидорова Светлана Александровна",type:"text"},{title:"Семейное положение",value:"женат",type:"dropList",variants:ve}]}}},{id:50,params:{title:"Основная информация",value:[{title:"ФИО",value:"Смирнов Сергей Сергеевич",type:"text"},{title:"Дата рождения",value:"1976-04-10",type:"date"},{title:"Номер телефона",value:"+7 (974) 168-72-82",type:"text"},{title:"Адрес",value:"г. Екатеринбург, ул. Мира, д. 75, кв. 94",type:"text"},{title:"Пол",value:"Мужской",type:"dropList",variants:fe}]},modules:{education:{title:"Образование",value:[{title:"Бакалавриат",type:"dropList",value:"Московский физико-технический институт (МФТИ)",variants:de},{title:"Магистратура",type:"dropList",value:"Московский государственный технический университет имени Н. Э. Баумана (МГТУ)",variants:de}]},career:{title:"Карьера",value:[{title:"Стаж",value:"10 (в годах)",type:"text"},{title:"Зарплата",value:"266456 руб.",type:"text"},{title:"Должность",value:"Консультант",type:"dropList",variants:ye},{title:"Отдел",value:"Продажи",type:"dropList",variants:me}]},family:{title:"Семья",value:[{title:"Отец",value:"Иванов Александр Александрович",type:"text"},{title:"Мать",value:"Кузнецова Мария Ивановна",type:"text"},{title:"Семейное положение",value:"холост",type:"dropList",variants:ve}]}}},{id:51,params:{title:"Основная информация",value:[{title:"ФИО",value:"Иванова Анна Петровна",type:"text"},{title:"Дата рождения",value:"1985-03-11",type:"date"},{title:"Номер телефона",value:"+7 (945) 153-76-25",type:"text"},{title:"Адрес",value:"г. Санкт-Петербург, ул. Пушкина, д. 2, кв. 102",type:"text"},{title:"Пол",value:"Женский",type:"dropList",variants:fe}]},modules:{education:{title:"Образование",value:[{title:"Бакалавриат",type:"dropList",value:"Санкт-Петербургский государственный университет (СПбГУ)",variants:de}]},career:{title:"Карьера",value:[{title:"Стаж",value:"1 (в годах)",type:"text"},{title:"Зарплата",value:"102458 руб.",type:"text"},{title:"Должность",value:"Разработчик",type:"dropList",variants:ye},{title:"Отдел",value:"Бухгалтерия",type:"dropList",variants:me}]},family:{title:"Семья",value:[{title:"Отец",value:"Петров Иван Михайлович",type:"text"},{title:"Мать",value:"Сидорова Ольга Александровна",type:"text"},{title:"Семейное положение",value:"холоста",type:"dropList",variants:ve}]}}},{id:52,params:{title:"Основная информация",value:[{title:"ФИО",value:"Смирнов Сергей Михайлович",type:"text"},{title:"Дата рождения",value:"1996-05-14",type:"date"},{title:"Номер телефона",value:"+7 (998) 281-04-20",type:"text"},{title:"Адрес",value:"г. Санкт-Петербург, ул. Ленина, д. 36, кв. 80",type:"text"},{title:"Пол",value:"Мужской",type:"dropList",variants:fe}]},modules:{education:{title:"Образование",value:[]},career:{title:"Карьера",value:[{title:"Стаж",value:"13 (в годах)",type:"text"},{title:"Зарплата",value:"204314 руб.",type:"text"},{title:"Должность",value:"Инженер",type:"dropList",variants:ye},{title:"Отдел",value:"Кадры",type:"dropList",variants:me}]},family:{title:"Семья",value:[{title:"Отец",value:"Сидоров Михаил Сергеевич",type:"text"},{title:"Мать",value:"Сидорова Мария Михайловна",type:"text"},{title:"Семейное положение",value:"женат",type:"dropList",variants:ve}]}}},{id:53,params:{title:"Основная информация",value:[{title:"ФИО",value:"Смирнов Петр Иванович",type:"text"},{title:"Дата рождения",value:"2002-10-13",type:"date"},{title:"Номер телефона",value:"+7 (949) 952-59-28",type:"text"},{title:"Адрес",value:"г. Новосибирск, ул. Мира, д. 24, кв. 32",type:"text"},{title:"Пол",value:"Мужской",type:"dropList",variants:fe}]},modules:{education:{title:"Образование",value:[]},career:{title:"Карьера",value:[{title:"Стаж",value:"6 (в годах)",type:"text"},{title:"Зарплата",value:"285568 руб.",type:"text"},{title:"Должность",value:"Консультант",type:"dropList",variants:ye},{title:"Отдел",value:"Юридический",type:"dropList",variants:me}]},family:{title:"Семья",value:[{title:"Отец",value:"Смирнов Михаил Александрович",type:"text"},{title:"Мать",value:"Петрова Анна Михайловна",type:"text"},{title:"Семейное положение",value:"женат",type:"dropList",variants:ve}]}}},{id:54,params:{title:"Основная информация",value:[{title:"ФИО",value:"Кузнецов Михаил Петрович",type:"text"},{title:"Дата рождения",value:"1974-01-25",type:"date"},{title:"Номер телефона",value:"+7 (945) 129-01-80",type:"text"},{title:"Адрес",value:"г. Красноярск, ул. Комсомольская, д. 13, кв. 12",type:"text"},{title:"Пол",value:"Мужской",type:"dropList",variants:fe}]},modules:{education:{title:"Образование",value:[{title:"Бакалавриат",type:"dropList",value:"Первый Московский государственный медицинский университет имени И. М. Сеченова (Сеченовский Университет)",variants:de}]},career:{title:"Карьера",value:[{title:"Стаж",value:"14 (в годах)",type:"text"},{title:"Зарплата",value:"104487 руб.",type:"text"},{title:"Должность",value:"Директор",type:"dropList",variants:ye},{title:"Отдел",value:"Продажи",type:"dropList",variants:me}]},family:{title:"Семья",value:[{title:"Отец",value:"Сидоров Александр Сергеевич",type:"text"},{title:"Мать",value:"Иванова Мария Александровна",type:"text"},{title:"Семейное положение",value:"холост",type:"dropList",variants:ve}]}}},{id:55,params:{title:"Основная информация",value:[{title:"ФИО",value:"Кузнецова Светлана Михайловна",type:"text"},{title:"Дата рождения",value:"1994-09-11",type:"date"},{title:"Номер телефона",value:"+7 (988) 336-51-38",type:"text"},{title:"Адрес",value:"г. Новосибирск, ул. Мира, д. 14, кв. 104",type:"text"},{title:"Пол",value:"Женский",type:"dropList",variants:fe}]},modules:{education:{title:"Образование",value:[{title:"Бакалавриат",type:"dropList",value:"Московский государственный университет имени М. В. Ломоносова (МГУ)",variants:de},{title:"Магистратура",type:"dropList",value:"Российская академия народного хозяйства и государственной службы (РАНХиГС)",variants:de}]},career:{title:"Карьера",value:[{title:"Стаж",value:"6 (в годах)",type:"text"},{title:"Зарплата",value:"67053 руб.",type:"text"},{title:"Должность",value:"Администратор",type:"dropList",variants:ye},{title:"Отдел",value:"Маркетинг",type:"dropList",variants:me}]},family:{title:"Семья",value:[{title:"Отец",value:"Иванов Александр Сергеевич",type:"text"},{title:"Мать",value:"Сидорова Ольга Петровна",type:"text"},{title:"Семейное положение",value:"замужем",type:"dropList",variants:ve}]}}},{id:56,params:{title:"Основная информация",value:[{title:"ФИО",value:"Кузнецов Сергей Михайлович",type:"text"},{title:"Дата рождения",value:"1997-12-10",type:"date"},{title:"Номер телефона",value:"+7 (941) 299-49-92",type:"text"},{title:"Адрес",value:"г. Екатеринбург, ул. Ленина, д. 55, кв. 135",type:"text"},{title:"Пол",value:"Мужской",type:"dropList",variants:fe}]},modules:{education:{title:"Образование",value:[{title:"Бакалавриат",type:"dropList",value:"Первый Московский государственный медицинский университет имени И. М. Сеченова (Сеченовский Университет)",variants:de}]},career:{title:"Карьера",value:[{title:"Стаж",value:"11 (в годах)",type:"text"},{title:"Зарплата",value:"215914 руб.",type:"text"},{title:"Должность",value:"Разработчик",type:"dropList",variants:ye},{title:"Отдел",value:"IT",type:"dropList",variants:me}]},family:{title:"Семья",value:[{title:"Отец",value:"Иванов Иван Иванович",type:"text"},{title:"Мать",value:"Сидорова Анна Петровна",type:"text"},{title:"Семейное положение",value:"женат",type:"dropList",variants:ve}]}}},{id:57,params:{title:"Основная информация",value:[{title:"ФИО",value:"Кузнецов Сергей Иванович",type:"text"},{title:"Дата рождения",value:"1982-06-06",type:"date"},{title:"Номер телефона",value:"+7 (977) 731-45-12",type:"text"},{title:"Адрес",value:"г. Красноярск, ул. Ленина, д. 33, кв. 10",type:"text"},{title:"Пол",value:"Мужской",type:"dropList",variants:fe}]},modules:{education:{title:"Образование",value:[]},career:{title:"Карьера",value:[{title:"Стаж",value:"6 (в годах)",type:"text"},{title:"Зарплата",value:"139314 руб.",type:"text"},{title:"Должность",value:"Разработчик",type:"dropList",variants:ye},{title:"Отдел",value:"IT",type:"dropList",variants:me}]},family:{title:"Семья",value:[{title:"Отец",value:"Иванов Иван Иванович",type:"text"},{title:"Мать",value:"Петрова Елена Сергеевна",type:"text"},{title:"Семейное положение",value:"холост",type:"dropList",variants:ve}]}}},{id:58,params:{title:"Основная информация",value:[{title:"ФИО",value:"Смирнова Светлана Петровна",type:"text"},{title:"Дата рождения",value:"1989-09-02",type:"date"},{title:"Номер телефона",value:"+7 (924) 636-22-35",type:"text"},{title:"Адрес",value:"г. Екатеринбург, ул. Комсомольская, д. 26, кв. 73",type:"text"},{title:"Пол",value:"Женский",type:"dropList",variants:fe}]},modules:{education:{title:"Образование",value:[{title:"Бакалавриат",type:"dropList",value:"Московский государственный технический университет имени Н. Э. Баумана (МГТУ)",variants:de}]},career:{title:"Карьера",value:[{title:"Стаж",value:"6 (в годах)",type:"text"},{title:"Зарплата",value:"110758 руб.",type:"text"},{title:"Должность",value:"Директор",type:"dropList",variants:ye},{title:"Отдел",value:"Маркетинг",type:"dropList",variants:me}]},family:{title:"Семья",value:[{title:"Отец",value:"Сидоров Иван Петрович",type:"text"},{title:"Мать",value:"Петрова Анна Петровна",type:"text"},{title:"Семейное положение",value:"разведена",type:"dropList",variants:ve}]}}},{id:59,params:{title:"Основная информация",value:[{title:"ФИО",value:"Смирнова Анна Александровна",type:"text"},{title:"Дата рождения",value:"1972-03-07",type:"date"},{title:"Номер телефона",value:"+7 (963) 458-68-41",type:"text"},{title:"Адрес",value:"г. Санкт-Петербург, ул. Комсомольская, д. 27, кв. 45",type:"text"},{title:"Пол",value:"Женский",type:"dropList",variants:fe}]},modules:{education:{title:"Образование",value:[{title:"Бакалавриат",type:"dropList",value:"Московский государственный университет имени М. В. Ломоносова (МГУ)",variants:de},{title:"Магистратура",type:"dropList",value:"Первый Московский государственный медицинский университет имени И. М. Сеченова (Сеченовский Университет)",variants:de}]},career:{title:"Карьера",value:[{title:"Стаж",value:"5 (в годах)",type:"text"},{title:"Зарплата",value:"201107 руб.",type:"text"},{title:"Должность",value:"Директор",type:"dropList",variants:ye},{title:"Отдел",value:"IT",type:"dropList",variants:me}]},family:{title:"Семья",value:[{title:"Отец",value:"Кузнецов Сергей Сергеевич",type:"text"},{title:"Мать",value:"Кузнецова Мария Александровна",type:"text"},{title:"Семейное положение",value:"холоста",type:"dropList",variants:ve}]}}},{id:60,params:{title:"Основная информация",value:[{title:"ФИО",value:"Сидорова Светлана Сергеевна",type:"text"},{title:"Дата рождения",value:"1995-03-10",type:"date"},{title:"Номер телефона",value:"+7 (995) 281-93-29",type:"text"},{title:"Адрес",value:"г. Санкт-Петербург, ул. Пушкина, д. 52, кв. 193",type:"text"},{title:"Пол",value:"Женский",type:"dropList",variants:fe}]},modules:{education:{title:"Образование",value:[]},career:{title:"Карьера",value:[{title:"Стаж",value:"4 (в годах)",type:"text"},{title:"Зарплата",value:"83066 руб.",type:"text"},{title:"Должность",value:"Аналитик",type:"dropList",variants:ye},{title:"Отдел",value:"IT",type:"dropList",variants:me}]},family:{title:"Семья",value:[{title:"Отец",value:"Смирнов Александр Петрович",type:"text"},{title:"Мать",value:"Петрова Светлана Александровна",type:"text"},{title:"Семейное положение",value:"холоста",type:"dropList",variants:ve}]}}},{id:61,params:{title:"Основная информация",value:[{title:"ФИО",value:"Кузнецов Иван Петрович",type:"text"},{title:"Дата рождения",value:"1978-05-03",type:"date"},{title:"Номер телефона",value:"+7 (911) 975-22-21",type:"text"},{title:"Адрес",value:"г. Санкт-Петербург, ул. Пушкина, д. 66, кв. 194",type:"text"},{title:"Пол",value:"Мужской",type:"dropList",variants:fe}]},modules:{education:{title:"Образование",value:[{title:"Бакалавриат",type:"dropList",value:"Российская академия народного хозяйства и государственной службы (РАНХиГС)",variants:de},{title:"Магистратура",type:"dropList",value:"Национальный исследовательский технологический университет «МИСИС»",variants:de}]},career:{title:"Карьера",value:[{title:"Стаж",value:"7 (в годах)",type:"text"},{title:"Зарплата",value:"148344 руб.",type:"text"},{title:"Должность",value:"Бухгалтер",type:"dropList",variants:ye},{title:"Отдел",value:"Юридический",type:"dropList",variants:me}]},family:{title:"Семья",value:[{title:"Отец",value:"Сидоров Михаил Петрович",type:"text"},{title:"Мать",value:"Иванова Елена Александровна",type:"text"},{title:"Семейное положение",value:"холост",type:"dropList",variants:ve}]}}},{id:62,params:{title:"Основная информация",value:[{title:"ФИО",value:"Сидоров Михаил Сергеевич",type:"text"},{title:"Дата рождения",value:"1986-03-29",type:"date"},{title:"Номер телефона",value:"+7 (915) 858-19-66",type:"text"},{title:"Адрес",value:"г. Екатеринбург, ул. Гагарина, д. 85, кв. 145",type:"text"},{title:"Пол",value:"Мужской",type:"dropList",variants:fe}]},modules:{education:{title:"Образование",value:[{title:"Бакалавриат",type:"dropList",value:"Российская академия народного хозяйства и государственной службы (РАНХиГС)",variants:de}]},career:{title:"Карьера",value:[{title:"Стаж",value:"12 (в годах)",type:"text"},{title:"Зарплата",value:"121923 руб.",type:"text"},{title:"Должность",value:"Директор",type:"dropList",variants:ye},{title:"Отдел",value:"Кадры",type:"dropList",variants:me}]},family:{title:"Семья",value:[{title:"Отец",value:"Сидоров Александр Михайлович",type:"text"},{title:"Мать",value:"Смирнова Мария Ивановна",type:"text"},{title:"Семейное положение",value:"женат",type:"dropList",variants:ve}]}}},{id:63,params:{title:"Основная информация",value:[{title:"ФИО",value:"Сидорова Мария Михайловна",type:"text"},{title:"Дата рождения",value:"1986-07-04",type:"date"},{title:"Номер телефона",value:"+7 (947) 445-67-53",type:"text"},{title:"Адрес",value:"г. Екатеринбург, ул. Гагарина, д. 63, кв. 8",type:"text"},{title:"Пол",value:"Женский",type:"dropList",variants:fe}]},modules:{education:{title:"Образование",value:[]},career:{title:"Карьера",value:[{title:"Стаж",value:"6 (в годах)",type:"text"},{title:"Зарплата",value:"168857 руб.",type:"text"},{title:"Должность",value:"Консультант",type:"dropList",variants:ye},{title:"Отдел",value:"Маркетинг",type:"dropList",variants:me}]},family:{title:"Семья",value:[{title:"Отец",value:"Кузнецов Сергей Александрович",type:"text"},{title:"Мать",value:"Смирнова Анна Александровна",type:"text"},{title:"Семейное положение",value:"холоста",type:"dropList",variants:ve}]}}},{id:64,params:{title:"Основная информация",value:[{title:"ФИО",value:"Сидоров Иван Михайлович",type:"text"},{title:"Дата рождения",value:"1978-05-04",type:"date"},{title:"Номер телефона",value:"+7 (980) 262-07-22",type:"text"},{title:"Адрес",value:"г. Новосибирск, ул. Мира, д. 49, кв. 102",type:"text"},{title:"Пол",value:"Мужской",type:"dropList",variants:fe}]},modules:{education:{title:"Образование",value:[{title:"Бакалавриат",type:"dropList",value:"Первый Московский государственный медицинский университет имени И. М. Сеченова (Сеченовский Университет)",variants:de}]},career:{title:"Карьера",value:[{title:"Стаж",value:"2 (в годах)",type:"text"},{title:"Зарплата",value:"223562 руб.",type:"text"},{title:"Должность",value:"Бухгалтер",type:"dropList",variants:ye},{title:"Отдел",value:"Бухгалтерия",type:"dropList",variants:me}]},family:{title:"Семья",value:[{title:"Отец",value:"Петров Сергей Иванович",type:"text"},{title:"Мать",value:"Иванова Елена Петровна",type:"text"},{title:"Семейное положение",value:"холост",type:"dropList",variants:ve}]}}},{id:65,params:{title:"Основная информация",value:[{title:"ФИО",value:"Кузнецов Сергей Петрович",type:"text"},{title:"Дата рождения",value:"1997-12-31",type:"date"},{title:"Номер телефона",value:"+7 (913) 620-07-59",type:"text"},{title:"Адрес",value:"г. Красноярск, ул. Гагарина, д. 34, кв. 25",type:"text"},{title:"Пол",value:"Мужской",type:"dropList",variants:fe}]},modules:{education:{title:"Образование",value:[{title:"Бакалавриат",type:"dropList",value:"Московский государственный технический университет имени Н. Э. Баумана (МГТУ)",variants:de}]},career:{title:"Карьера",value:[{title:"Стаж",value:"6 (в годах)",type:"text"},{title:"Зарплата",value:"266273 руб.",type:"text"},{title:"Должность",value:"Директор",type:"dropList",variants:ye},{title:"Отдел",value:"HR",type:"dropList",variants:me}]},family:{title:"Семья",value:[{title:"Отец",value:"Иванов Петр Александрович",type:"text"},{title:"Мать",value:"Иванова Елена Михайловна",type:"text"},{title:"Семейное положение",value:"разведен",type:"dropList",variants:ve}]}}},{id:66,params:{title:"Основная информация",value:[{title:"ФИО",value:"Кузнецов Иван Петрович",type:"text"},{title:"Дата рождения",value:"1991-04-03",type:"date"},{title:"Номер телефона",value:"+7 (949) 594-65-51",type:"text"},{title:"Адрес",value:"г. Москва, ул. Комсомольская, д. 35, кв. 85",type:"text"},{title:"Пол",value:"Мужской",type:"dropList",variants:fe}]},modules:{education:{title:"Образование",value:[{title:"Бакалавриат",type:"dropList",value:"Первый Московский государственный медицинский университет имени И. М. Сеченова (Сеченовский Университет)",variants:de},{title:"Магистратура",type:"dropList",value:"Первый Московский государственный медицинский университет имени И. М. Сеченова (Сеченовский Университет)",variants:de}]},career:{title:"Карьера",value:[{title:"Стаж",value:"15 (в годах)",type:"text"},{title:"Зарплата",value:"85743 руб.",type:"text"},{title:"Должность",value:"Аналитик",type:"dropList",variants:ye},{title:"Отдел",value:"IT",type:"dropList",variants:me}]},family:{title:"Семья",value:[{title:"Отец",value:"Петров Александр Петрович",type:"text"},{title:"Мать",value:"Иванова Ольга Михайловна",type:"text"},{title:"Семейное положение",value:"разведен",type:"dropList",variants:ve}]}}},{id:67,params:{title:"Основная информация",value:[{title:"ФИО",value:"Смирнов Иван Сергеевич",type:"text"},{title:"Дата рождения",value:"1971-07-01",type:"date"},{title:"Номер телефона",value:"+7 (946) 282-16-78",type:"text"},{title:"Адрес",value:"г. Красноярск, ул. Мира, д. 15, кв. 81",type:"text"},{title:"Пол",value:"Мужской",type:"dropList",variants:fe}]},modules:{education:{title:"Образование",value:[{title:"Бакалавриат",type:"dropList",value:"Национальный исследовательский университет «Высшая школа экономики» (НИУ ВШЭ)",variants:de},{title:"Магистратура",type:"dropList",value:"Национальный исследовательский ядерный университет «МИФИ»",variants:de}]},career:{title:"Карьера",value:[{title:"Стаж",value:"2 (в годах)",type:"text"},{title:"Зарплата",value:"208006 руб.",type:"text"},{title:"Должность",value:"Консультант",type:"dropList",variants:ye},{title:"Отдел",value:"Финансы",type:"dropList",variants:me}]},family:{title:"Семья",value:[{title:"Отец",value:"Петров Сергей Петрович",type:"text"},{title:"Мать",value:"Смирнова Ольга Александровна",type:"text"},{title:"Семейное положение",value:"разведен",type:"dropList",variants:ve}]}}},{id:68,params:{title:"Основная информация",value:[{title:"ФИО",value:"Иванова Ольга Сергеевна",type:"text"},{title:"Дата рождения",value:"1977-10-09",type:"date"},{title:"Номер телефона",value:"+7 (954) 457-04-95",type:"text"},{title:"Адрес",value:"г. Москва, ул. Комсомольская, д. 74, кв. 119",type:"text"},{title:"Пол",value:"Женский",type:"dropList",variants:fe}]},modules:{education:{title:"Образование",value:[]},career:{title:"Карьера",value:[{title:"Стаж",value:"9 (в годах)",type:"text"},{title:"Зарплата",value:"236846 руб.",type:"text"},{title:"Должность",value:"Консультант",type:"dropList",variants:ye},{title:"Отдел",value:"Бухгалтерия",type:"dropList",variants:me}]},family:{title:"Семья",value:[{title:"Отец",value:"Иванов Сергей Михайлович",type:"text"},{title:"Мать",value:"Петрова Мария Ивановна",type:"text"},{title:"Семейное положение",value:"замужем",type:"dropList",variants:ve}]}}},{id:69,params:{title:"Основная информация",value:[{title:"ФИО",value:"Кузнецов Михаил Сергеевич",type:"text"},{title:"Дата рождения",value:"1983-06-05",type:"date"},{title:"Номер телефона",value:"+7 (912) 643-32-64",type:"text"},{title:"Адрес",value:"г. Красноярск, ул. Пушкина, д. 94, кв. 28",type:"text"},{title:"Пол",value:"Мужской",type:"dropList",variants:fe}]},modules:{education:{title:"Образование",value:[{title:"Бакалавриат",type:"dropList",value:"Национальный исследовательский университет «Высшая школа экономики» (НИУ ВШЭ)",variants:de}]},career:{title:"Карьера",value:[{title:"Стаж",value:"10 (в годах)",type:"text"},{title:"Зарплата",value:"116721 руб.",type:"text"},{title:"Должность",value:"Разработчик",type:"dropList",variants:ye},{title:"Отдел",value:"Логистика",type:"dropList",variants:me}]},family:{title:"Семья",value:[{title:"Отец",value:"Кузнецов Сергей Александрович",type:"text"},{title:"Мать",value:"Смирнова Елена Сергеевна",type:"text"},{title:"Семейное положение",value:"холост",type:"dropList",variants:ve}]}}},{id:70,params:{title:"Основная информация",value:[{title:"ФИО",value:"Кузнецов Сергей Иванович",type:"text"},{title:"Дата рождения",value:"2001-05-31",type:"date"},{title:"Номер телефона",value:"+7 (986) 868-49-85",type:"text"},{title:"Адрес",value:"г. Красноярск, ул. Гагарина, д. 18, кв. 152",type:"text"},{title:"Пол",value:"Мужской",type:"dropList",variants:fe}]},modules:{education:{title:"Образование",value:[{title:"Бакалавриат",type:"dropList",value:"Московский физико-технический институт (МФТИ)",variants:de},{title:"Магистратура",type:"dropList",value:"Первый Московский государственный медицинский университет имени И. М. Сеченова (Сеченовский Университет)",variants:de}]},career:{title:"Карьера",value:[{title:"Стаж",value:"11 (в годах)",type:"text"},{title:"Зарплата",value:"94922 руб.",type:"text"},{title:"Должность",value:"Аналитик",type:"dropList",variants:ye},{title:"Отдел",value:"Производство",type:"dropList",variants:me}]},family:{title:"Семья",value:[{title:"Отец",value:"Петров Иван Александрович",type:"text"},{title:"Мать",value:"Кузнецова Светлана Ивановна",type:"text"},{title:"Семейное положение",value:"женат",type:"dropList",variants:ve}]}}},{id:71,params:{title:"Основная информация",value:[{title:"ФИО",value:"Кузнецова Светлана Михайловна",type:"text"},{title:"Дата рождения",value:"2001-02-17",type:"date"},{title:"Номер телефона",value:"+7 (908) 283-89-64",type:"text"},{title:"Адрес",value:"г. Санкт-Петербург, ул. Комсомольская, д. 49, кв. 25",type:"text"},{title:"Пол",value:"Женский",type:"dropList",variants:fe}]},modules:{education:{title:"Образование",value:[]},career:{title:"Карьера",value:[{title:"Стаж",value:"5 (в годах)",type:"text"},{title:"Зарплата",value:"167688 руб.",type:"text"},{title:"Должность",value:"Бухгалтер",type:"dropList",variants:ye},{title:"Отдел",value:"IT",type:"dropList",variants:me}]},family:{title:"Семья",value:[{title:"Отец",value:"Смирнов Михаил Иванович",type:"text"},{title:"Мать",value:"Петрова Светлана Сергеевна",type:"text"},{title:"Семейное положение",value:"разведена",type:"dropList",variants:ve}]}}},{id:72,params:{title:"Основная информация",value:[{title:"ФИО",value:"Смирнова Ольга Александровна",type:"text"},{title:"Дата рождения",value:"1978-11-02",type:"date"},{title:"Номер телефона",value:"+7 (994) 769-98-95",type:"text"},{title:"Адрес",value:"г. Москва, ул. Пушкина, д. 23, кв. 59",type:"text"},{title:"Пол",value:"Женский",type:"dropList",variants:fe}]},modules:{education:{title:"Образование",value:[{title:"Бакалавриат",type:"dropList",value:"Университет ИТМО",variants:de}]},career:{title:"Карьера",value:[{title:"Стаж",value:"12 (в годах)",type:"text"},{title:"Зарплата",value:"215025 руб.",type:"text"},{title:"Должность",value:"Бухгалтер",type:"dropList",variants:ye},{title:"Отдел",value:"Маркетинг",type:"dropList",variants:me}]},family:{title:"Семья",value:[{title:"Отец",value:"Сидоров Сергей Александрович",type:"text"},{title:"Мать",value:"Сидорова Мария Ивановна",type:"text"},{title:"Семейное положение",value:"разведена",type:"dropList",variants:ve}]}}},{id:73,params:{title:"Основная информация",value:[{title:"ФИО",value:"Смирнова Ольга Михайловна",type:"text"},{title:"Дата рождения",value:"1971-08-20",type:"date"},{title:"Номер телефона",value:"+7 (946) 594-66-98",type:"text"},{title:"Адрес",value:"г. Красноярск, ул. Гагарина, д. 30, кв. 60",type:"text"},{title:"Пол",value:"Женский",type:"dropList",variants:fe}]},modules:{education:{title:"Образование",value:[{title:"Бакалавриат",type:"dropList",value:"Московский государственный технический университет имени Н. Э. Баумана (МГТУ)",variants:de}]},career:{title:"Карьера",value:[{title:"Стаж",value:"13 (в годах)",type:"text"},{title:"Зарплата",value:"194758 руб.",type:"text"},{title:"Должность",value:"Директор",type:"dropList",variants:ye},{title:"Отдел",value:"Логистика",type:"dropList",variants:me}]},family:{title:"Семья",value:[{title:"Отец",value:"Иванов Сергей Петрович",type:"text"},{title:"Мать",value:"Смирнова Светлана Ивановна",type:"text"},{title:"Семейное положение",value:"разведена",type:"dropList",variants:ve}]}}},{id:74,params:{title:"Основная информация",value:[{title:"ФИО",value:"Сидоров Александр Сергеевич",type:"text"},{title:"Дата рождения",value:"2004-05-05",type:"date"},{title:"Номер телефона",value:"+7 (913) 546-64-26",type:"text"},{title:"Адрес",value:"г. Москва, ул. Ленина, д. 62, кв. 11",type:"text"},{title:"Пол",value:"Мужской",type:"dropList",variants:fe}]},modules:{education:{title:"Образование",value:[{title:"Бакалавриат",type:"dropList",value:"Российская академия народного хозяйства и государственной службы (РАНХиГС)",variants:de}]},career:{title:"Карьера",value:[{title:"Стаж",value:"8 (в годах)",type:"text"},{title:"Зарплата",value:"34487 руб.",type:"text"},{title:"Должность",value:"Специалист",type:"dropList",variants:ye},{title:"Отдел",value:"Логистика",type:"dropList",variants:me}]},family:{title:"Семья",value:[{title:"Отец",value:"Смирнов Михаил Михайлович",type:"text"},{title:"Мать",value:"Сидорова Анна Ивановна",type:"text"},{title:"Семейное положение",value:"разведен",type:"dropList",variants:ve}]}}},{id:75,params:{title:"Основная информация",value:[{title:"ФИО",value:"Смирнов Иван Петрович",type:"text"},{title:"Дата рождения",value:"2003-04-16",type:"date"},{title:"Номер телефона",value:"+7 (935) 962-59-16",type:"text"},{title:"Адрес",value:"г. Екатеринбург, ул. Ленина, д. 8, кв. 124",type:"text"},{title:"Пол",value:"Мужской",type:"dropList",variants:fe}]},modules:{education:{title:"Образование",value:[{title:"Бакалавриат",type:"dropList",value:"Первый Московский государственный медицинский университет имени И. М. Сеченова (Сеченовский Университет)",variants:de},{title:"Магистратура",type:"dropList",value:"Национальный исследовательский ядерный университет «МИФИ»",variants:de}]},career:{title:"Карьера",value:[{title:"Стаж",value:"15 (в годах)",type:"text"},{title:"Зарплата",value:"149661 руб.",type:"text"},{title:"Должность",value:"Разработчик",type:"dropList",variants:ye},{title:"Отдел",value:"Финансы",type:"dropList",variants:me}]},family:{title:"Семья",value:[{title:"Отец",value:"Сидоров Александр Петрович",type:"text"},{title:"Мать",value:"Иванова Светлана Ивановна",type:"text"},{title:"Семейное положение",value:"холост",type:"dropList",variants:ve}]}}},{id:76,params:{title:"Основная информация",value:[{title:"ФИО",value:"Иванов Александр Михайлович",type:"text"},{title:"Дата рождения",value:"1978-09-17",type:"date"},{title:"Номер телефона",value:"+7 (919) 406-03-95",type:"text"},{title:"Адрес",value:"г. Екатеринбург, ул. Комсомольская, д. 80, кв. 85",type:"text"},{title:"Пол",value:"Мужской",type:"dropList",variants:fe}]},modules:{education:{title:"Образование",value:[]},career:{title:"Карьера",value:[{title:"Стаж",value:"10 (в годах)",type:"text"},{title:"Зарплата",value:"107328 руб.",type:"text"},{title:"Должность",value:"Программист",type:"dropList",variants:ye},{title:"Отдел",value:"Финансы",type:"dropList",variants:me}]},family:{title:"Семья",value:[{title:"Отец",value:"Иванов Петр Петрович",type:"text"},{title:"Мать",value:"Иванова Анна Сергеевна",type:"text"},{title:"Семейное положение",value:"разведен",type:"dropList",variants:ve}]}}},{id:77,params:{title:"Основная информация",value:[{title:"ФИО",value:"Иванов Петр Сергеевич",type:"text"},{title:"Дата рождения",value:"1985-10-21",type:"date"},{title:"Номер телефона",value:"+7 (928) 588-25-44",type:"text"},{title:"Адрес",value:"г. Санкт-Петербург, ул. Ленина, д. 17, кв. 61",type:"text"},{title:"Пол",value:"Мужской",type:"dropList",variants:fe}]},modules:{education:{title:"Образование",value:[{title:"Бакалавриат",type:"dropList",value:"Российская академия народного хозяйства и государственной службы (РАНХиГС)",variants:de}]},career:{title:"Карьера",value:[{title:"Стаж",value:"2 (в годах)",type:"text"},{title:"Зарплата",value:"103856 руб.",type:"text"},{title:"Должность",value:"Администратор",type:"dropList",variants:ye},{title:"Отдел",value:"IT",type:"dropList",variants:me}]},family:{title:"Семья",value:[{title:"Отец",value:"Иванов Петр Иванович",type:"text"},{title:"Мать",value:"Кузнецова Елена Петровна",type:"text"},{title:"Семейное положение",value:"разведен",type:"dropList",variants:ve}]}}},{id:78,params:{title:"Основная информация",value:[{title:"ФИО",value:"Смирнов Петр Иванович",type:"text"},{title:"Дата рождения",value:"1973-03-28",type:"date"},{title:"Номер телефона",value:"+7 (960) 061-79-08",type:"text"},{title:"Адрес",value:"г. Новосибирск, ул. Пушкина, д. 95, кв. 188",type:"text"},{title:"Пол",value:"Мужской",type:"dropList",variants:fe}]},modules:{education:{title:"Образование",value:[{title:"Бакалавриат",type:"dropList",value:"Национальный исследовательский ядерный университет «МИФИ»",variants:de},{title:"Магистратура",type:"dropList",value:"Российская академия народного хозяйства и государственной службы (РАНХиГС)",variants:de}]},career:{title:"Карьера",value:[{title:"Стаж",value:"14 (в годах)",type:"text"},{title:"Зарплата",value:"231199 руб.",type:"text"},{title:"Должность",value:"Программист",type:"dropList",variants:ye},{title:"Отдел",value:"Продажи",type:"dropList",variants:me}]},family:{title:"Семья",value:[{title:"Отец",value:"Смирнов Петр Иванович",type:"text"},{title:"Мать",value:"Петрова Елена Ивановна",type:"text"},{title:"Семейное положение",value:"холост",type:"dropList",variants:ve}]}}},{id:79,params:{title:"Основная информация",value:[{title:"ФИО",value:"Иванова Светлана Михайловна",type:"text"},{title:"Дата рождения",value:"1977-03-30",type:"date"},{title:"Номер телефона",value:"+7 (958) 226-22-43",type:"text"},{title:"Адрес",value:"г. Москва, ул. Гагарина, д. 33, кв. 188",type:"text"},{title:"Пол",value:"Женский",type:"dropList",variants:fe}]},modules:{education:{title:"Образование",value:[{title:"Бакалавриат",type:"dropList",value:"Московский физико-технический институт (МФТИ)",variants:de}]},career:{title:"Карьера",value:[{title:"Стаж",value:"7 (в годах)",type:"text"},{title:"Зарплата",value:"196074 руб.",type:"text"},{title:"Должность",value:"Аналитик",type:"dropList",variants:ye},{title:"Отдел",value:"Продажи",type:"dropList",variants:me}]},family:{title:"Семья",value:[{title:"Отец",value:"Кузнецов Иван Михайлович",type:"text"},{title:"Мать",value:"Смирнова Мария Александровна",type:"text"},{title:"Семейное положение",value:"холоста",type:"dropList",variants:ve}]}}},{id:80,params:{title:"Основная информация",value:[{title:"ФИО",value:"Петров Петр Сергеевич",type:"text"},{title:"Дата рождения",value:"1999-07-31",type:"date"},{title:"Номер телефона",value:"+7 (927) 438-98-67",type:"text"},{title:"Адрес",value:"г. Екатеринбург, ул. Мира, д. 21, кв. 29",type:"text"},{title:"Пол",value:"Мужской",type:"dropList",variants:fe}]},modules:{education:{title:"Образование",value:[{title:"Бакалавриат",type:"dropList",value:"Университет ИТМО",variants:de},{title:"Магистратура",type:"dropList",value:"Первый Московский государственный медицинский университет имени И. М. Сеченова (Сеченовский Университет)",variants:de}]},career:{title:"Карьера",value:[{title:"Стаж",value:"5 (в годах)",type:"text"},{title:"Зарплата",value:"103948 руб.",type:"text"},{title:"Должность",value:"Бухгалтер",type:"dropList",variants:ye},{title:"Отдел",value:"Логистика",type:"dropList",variants:me}]},family:{title:"Семья",value:[{title:"Отец",value:"Иванов Сергей Иванович",type:"text"},{title:"Мать",value:"Смирнова Ольга Петровна",type:"text"},{title:"Семейное положение",value:"холост",type:"dropList",variants:ve}]}}},{id:81,params:{title:"Основная информация",value:[{title:"ФИО",value:"Сидорова Елена Ивановна",type:"text"},{title:"Дата рождения",value:"1997-07-03",type:"date"},{title:"Номер телефона",value:"+7 (959) 514-23-21",type:"text"},{title:"Адрес",value:"г. Красноярск, ул. Пушкина, д. 22, кв. 75",type:"text"},{title:"Пол",value:"Женский",type:"dropList",variants:fe}]},modules:{education:{title:"Образование",value:[{title:"Бакалавриат",type:"dropList",value:"Российская академия народного хозяйства и государственной службы (РАНХиГС)",variants:de},{title:"Магистратура",type:"dropList",value:"Российский университет дружбы народов (РУДН)",variants:de}]},career:{title:"Карьера",value:[{title:"Стаж",value:"5 (в годах)",type:"text"},{title:"Зарплата",value:"216637 руб.",type:"text"},{title:"Должность",value:"Директор",type:"dropList",variants:ye},{title:"Отдел",value:"Бухгалтерия",type:"dropList",variants:me}]},family:{title:"Семья",value:[{title:"Отец",value:"Петров Петр Михайлович",type:"text"},{title:"Мать",value:"Сидорова Светлана Михайловна",type:"text"},{title:"Семейное положение",value:"холоста",type:"dropList",variants:ve}]}}},{id:82,params:{title:"Основная информация",value:[{title:"ФИО",value:"Смирнов Сергей Александрович",type:"text"},{title:"Дата рождения",value:"1993-05-27",type:"date"},{title:"Номер телефона",value:"+7 (921) 548-98-21",type:"text"},{title:"Адрес",value:"г. Красноярск, ул. Комсомольская, д. 6, кв. 146",type:"text"},{title:"Пол",value:"Мужской",type:"dropList",variants:fe}]},modules:{education:{title:"Образование",value:[]},career:{title:"Карьера",value:[{title:"Стаж",value:"12 (в годах)",type:"text"},{title:"Зарплата",value:"250373 руб.",type:"text"},{title:"Должность",value:"Администратор",type:"dropList",variants:ye},{title:"Отдел",value:"Кадры",type:"dropList",variants:me}]},family:{title:"Семья",value:[{title:"Отец",value:"Кузнецов Иван Петрович",type:"text"},{title:"Мать",value:"Смирнова Ольга Александровна",type:"text"},{title:"Семейное положение",value:"холост",type:"dropList",variants:ve}]}}},{id:83,params:{title:"Основная информация",value:[{title:"ФИО",value:"Кузнецов Сергей Петрович",type:"text"},{title:"Дата рождения",value:"1991-08-09",type:"date"},{title:"Номер телефона",value:"+7 (917) 515-44-16",type:"text"},{title:"Адрес",value:"г. Санкт-Петербург, ул. Гагарина, д. 61, кв. 69",type:"text"},{title:"Пол",value:"Мужской",type:"dropList",variants:fe}]},modules:{education:{title:"Образование",value:[{title:"Бакалавриат",type:"dropList",value:"Московский физико-технический институт (МФТИ)",variants:de}]},career:{title:"Карьера",value:[{title:"Стаж",value:"14 (в годах)",type:"text"},{title:"Зарплата",value:"50768 руб.",type:"text"},{title:"Должность",value:"Бухгалтер",type:"dropList",variants:ye},{title:"Отдел",value:"HR",type:"dropList",variants:me}]},family:{title:"Семья",value:[{title:"Отец",value:"Кузнецов Александр Михайлович",type:"text"},{title:"Мать",value:"Смирнова Анна Александровна",type:"text"},{title:"Семейное положение",value:"разведен",type:"dropList",variants:ve}]}}},{id:84,params:{title:"Основная информация",value:[{title:"ФИО",value:"Смирнова Елена Сергеевна",type:"text"},{title:"Дата рождения",value:"2004-09-15",type:"date"},{title:"Номер телефона",value:"+7 (918) 547-88-22",type:"text"},{title:"Адрес",value:"г. Москва, ул. Комсомольская, д. 55, кв. 140",type:"text"},{title:"Пол",value:"Женский",type:"dropList",variants:fe}]},modules:{education:{title:"Образование",value:[{title:"Бакалавриат",type:"dropList",value:"Российский университет дружбы народов (РУДН)",variants:de},{title:"Магистратура",type:"dropList",value:"Московский физико-технический институт (МФТИ)",variants:de}]},career:{title:"Карьера",value:[{title:"Стаж",value:"11 (в годах)",type:"text"},{title:"Зарплата",value:"51025 руб.",type:"text"},{title:"Должность",value:"Инженер",type:"dropList",variants:ye},{title:"Отдел",value:"Юридический",type:"dropList",variants:me}]},family:{title:"Семья",value:[{title:"Отец",value:"Иванов Петр Петрович",type:"text"},{title:"Мать",value:"Кузнецова Ольга Александровна",type:"text"},{title:"Семейное положение",value:"разведена",type:"dropList",variants:ve}]}}},{id:85,params:{title:"Основная информация",value:[{title:"ФИО",value:"Смирнова Елена Александровна",type:"text"},{title:"Дата рождения",value:"2005-01-03",type:"date"},{title:"Номер телефона",value:"+7 (939) 918-04-93",type:"text"},{title:"Адрес",value:"г. Москва, ул. Пушкина, д. 45, кв. 58",type:"text"},{title:"Пол",value:"Женский",type:"dropList",variants:fe}]},modules:{education:{title:"Образование",value:[{title:"Бакалавриат",type:"dropList",value:"Российский университет дружбы народов (РУДН)",variants:de}]},career:{title:"Карьера",value:[{title:"Стаж",value:"4 (в годах)",type:"text"},{title:"Зарплата",value:"51320 руб.",type:"text"},{title:"Должность",value:"Инженер",type:"dropList",variants:ye},{title:"Отдел",value:"Продажи",type:"dropList",variants:me}]},family:{title:"Семья",value:[{title:"Отец",value:"Кузнецов Михаил Иванович",type:"text"},{title:"Мать",value:"Иванова Елена Ивановна",type:"text"},{title:"Семейное положение",value:"разведена",type:"dropList",variants:ve}]}}},{id:86,params:{title:"Основная информация",value:[{title:"ФИО",value:"Петрова Мария Александровна",type:"text"},{title:"Дата рождения",value:"1997-09-17",type:"date"},{title:"Номер телефона",value:"+7 (960) 437-05-74",type:"text"},{title:"Адрес",value:"г. Екатеринбург, ул. Ленина, д. 42, кв. 18",type:"text"},{title:"Пол",value:"Женский",type:"dropList",variants:fe}]},modules:{education:{title:"Образование",value:[{title:"Бакалавриат",type:"dropList",value:"Национальный исследовательский технологический университет «МИСИС»",variants:de},{title:"Магистратура",type:"dropList",value:"Российский университет дружбы народов (РУДН)",variants:de}]},career:{title:"Карьера",value:[{title:"Стаж",value:"15 (в годах)",type:"text"},{title:"Зарплата",value:"160854 руб.",type:"text"},{title:"Должность",value:"Разработчик",type:"dropList",variants:ye},{title:"Отдел",value:"Финансы",type:"dropList",variants:me}]},family:{title:"Семья",value:[{title:"Отец",value:"Кузнецов Сергей Сергеевич",type:"text"},{title:"Мать",value:"Иванова Ольга Михайловна",type:"text"},{title:"Семейное положение",value:"разведена",type:"dropList",variants:ve}]}}},{id:87,params:{title:"Основная информация",value:[{title:"ФИО",value:"Петров Петр Михайлович",type:"text"},{title:"Дата рождения",value:"1994-03-15",type:"date"},{title:"Номер телефона",value:"+7 (997) 508-70-98",type:"text"},{title:"Адрес",value:"г. Красноярск, ул. Гагарина, д. 25, кв. 129",type:"text"},{title:"Пол",value:"Мужской",type:"dropList",variants:fe}]},modules:{education:{title:"Образование",value:[{title:"Бакалавриат",type:"dropList",value:"Санкт-Петербургский государственный университет (СПбГУ)",variants:de}]},career:{title:"Карьера",value:[{title:"Стаж",value:"13 (в годах)",type:"text"},{title:"Зарплата",value:"118699 руб.",type:"text"},{title:"Должность",value:"Инженер",type:"dropList",variants:ye},{title:"Отдел",value:"IT",type:"dropList",variants:me}]},family:{title:"Семья",value:[{title:"Отец",value:"Смирнов Петр Александрович",type:"text"},{title:"Мать",value:"Иванова Мария Михайловна",type:"text"},{title:"Семейное положение",value:"разведен",type:"dropList",variants:ve}]}}},{id:88,params:{title:"Основная информация",value:[{title:"ФИО",value:"Смирнов Александр Петрович",type:"text"},{title:"Дата рождения",value:"2002-09-16",type:"date"},{title:"Номер телефона",value:"+7 (917) 005-21-72",type:"text"},{title:"Адрес",value:"г. Красноярск, ул. Ленина, д. 74, кв. 36",type:"text"},{title:"Пол",value:"Мужской",type:"dropList",variants:fe}]},modules:{education:{title:"Образование",value:[]},career:{title:"Карьера",value:[{title:"Стаж",value:"3 (в годах)",type:"text"},{title:"Зарплата",value:"154336 руб.",type:"text"},{title:"Должность",value:"Специалист",type:"dropList",variants:ye},{title:"Отдел",value:"Кадры",type:"dropList",variants:me}]},family:{title:"Семья",value:[{title:"Отец",value:"Кузнецов Сергей Иванович",type:"text"},{title:"Мать",value:"Петрова Светлана Сергеевна",type:"text"},{title:"Семейное положение",value:"женат",type:"dropList",variants:ve}]}}},{id:89,params:{title:"Основная информация",value:[{title:"ФИО",value:"Сидорова Светлана Сергеевна",type:"text"},{title:"Дата рождения",value:"1975-07-31",type:"date"},{title:"Номер телефона",value:"+7 (926) 158-68-71",type:"text"},{title:"Адрес",value:"г. Красноярск, ул. Ленина, д. 3, кв. 154",type:"text"},{title:"Пол",value:"Женский",type:"dropList",variants:fe}]},modules:{education:{title:"Образование",value:[]},career:{title:"Карьера",value:[{title:"Стаж",value:"14 (в годах)",type:"text"},{title:"Зарплата",value:"230627 руб.",type:"text"},{title:"Должность",value:"Бухгалтер",type:"dropList",variants:ye},{title:"Отдел",value:"Кадры",type:"dropList",variants:me}]},family:{title:"Семья",value:[{title:"Отец",value:"Иванов Сергей Петрович",type:"text"},{title:"Мать",value:"Сидорова Ольга Александровна",type:"text"},{title:"Семейное положение",value:"разведена",type:"dropList",variants:ve}]}}},{id:90,params:{title:"Основная информация",value:[{title:"ФИО",value:"Кузнецова Елена Петровна",type:"text"},{title:"Дата рождения",value:"1971-04-06",type:"date"},{title:"Номер телефона",value:"+7 (999) 665-31-77",type:"text"},{title:"Адрес",value:"г. Новосибирск, ул. Мира, д. 53, кв. 70",type:"text"},{title:"Пол",value:"Женский",type:"dropList",variants:fe}]},modules:{education:{title:"Образование",value:[{title:"Бакалавриат",type:"dropList",value:"Университет ИТМО",variants:de}]},career:{title:"Карьера",value:[{title:"Стаж",value:"3 (в годах)",type:"text"},{title:"Зарплата",value:"293133 руб.",type:"text"},{title:"Должность",value:"Менеджер",type:"dropList",variants:ye},{title:"Отдел",value:"Юридический",type:"dropList",variants:me}]},family:{title:"Семья",value:[{title:"Отец",value:"Сидоров Александр Иванович",type:"text"},{title:"Мать",value:"Кузнецова Мария Ивановна",type:"text"},{title:"Семейное положение",value:"разведена",type:"dropList",variants:ve}]}}},{id:91,params:{title:"Основная информация",value:[{title:"ФИО",value:"Сидорова Елена Александровна",type:"text"},{title:"Дата рождения",value:"1974-08-06",type:"date"},{title:"Номер телефона",value:"+7 (911) 592-72-96",type:"text"},{title:"Адрес",value:"г. Новосибирск, ул. Пушкина, д. 63, кв. 129",type:"text"},{title:"Пол",value:"Женский",type:"dropList",variants:fe}]},modules:{education:{title:"Образование",value:[{title:"Бакалавриат",type:"dropList",value:"Российская академия народного хозяйства и государственной службы (РАНХиГС)",variants:de},{title:"Магистратура",type:"dropList",value:"Национальный исследовательский университет «Высшая школа экономики» (НИУ ВШЭ)",variants:de}]},career:{title:"Карьера",value:[{title:"Стаж",value:"2 (в годах)",type:"text"},{title:"Зарплата",value:"184616 руб.",type:"text"},{title:"Должность",value:"Бухгалтер",type:"dropList",variants:ye},{title:"Отдел",value:"Производство",type:"dropList",variants:me}]},family:{title:"Семья",value:[{title:"Отец",value:"Иванов Михаил Михайлович",type:"text"},{title:"Мать",value:"Иванова Ольга Александровна",type:"text"},{title:"Семейное положение",value:"разведена",type:"dropList",variants:ve}]}}},{id:92,params:{title:"Основная информация",value:[{title:"ФИО",value:"Иванова Мария Александровна",type:"text"},{title:"Дата рождения",value:"1997-05-04",type:"date"},{title:"Номер телефона",value:"+7 (981) 556-24-26",type:"text"},{title:"Адрес",value:"г. Красноярск, ул. Ленина, д. 75, кв. 79",type:"text"},{title:"Пол",value:"Женский",type:"dropList",variants:fe}]},modules:{education:{title:"Образование",value:[]},career:{title:"Карьера",value:[{title:"Стаж",value:"13 (в годах)",type:"text"},{title:"Зарплата",value:"214906 руб.",type:"text"},{title:"Должность",value:"Администратор",type:"dropList",variants:ye},{title:"Отдел",value:"Логистика",type:"dropList",variants:me}]},family:{title:"Семья",value:[{title:"Отец",value:"Петров Петр Петрович",type:"text"},{title:"Мать",value:"Сидорова Мария Сергеевна",type:"text"},{title:"Семейное положение",value:"холоста",type:"dropList",variants:ve}]}}},{id:93,params:{title:"Основная информация",value:[{title:"ФИО",value:"Кузнецов Александр Михайлович",type:"text"},{title:"Дата рождения",value:"1997-03-24",type:"date"},{title:"Номер телефона",value:"+7 (945) 071-98-45",type:"text"},{title:"Адрес",value:"г. Новосибирск, ул. Мира, д. 91, кв. 91",type:"text"},{title:"Пол",value:"Мужской",type:"dropList",variants:fe}]},modules:{education:{title:"Образование",value:[{title:"Бакалавриат",type:"dropList",value:"Российский университет дружбы народов (РУДН)",variants:de},{title:"Магистратура",type:"dropList",value:"Национальный исследовательский ядерный университет «МИФИ»",variants:de}]},career:{title:"Карьера",value:[{title:"Стаж",value:"3 (в годах)",type:"text"},{title:"Зарплата",value:"95469 руб.",type:"text"},{title:"Должность",value:"Программист",type:"dropList",variants:ye},{title:"Отдел",value:"IT",type:"dropList",variants:me}]},family:{title:"Семья",value:[{title:"Отец",value:"Сидоров Петр Петрович",type:"text"},{title:"Мать",value:"Петрова Елена Петровна",type:"text"},{title:"Семейное положение",value:"холост",type:"dropList",variants:ve}]}}},{id:94,params:{title:"Основная информация",value:[{title:"ФИО",value:"Смирнов Иван Александрович",type:"text"},{title:"Дата рождения",value:"1994-07-23",type:"date"},{title:"Номер телефона",value:"+7 (985) 232-49-48",type:"text"},{title:"Адрес",value:"г. Новосибирск, ул. Гагарина, д. 44, кв. 172",type:"text"},{title:"Пол",value:"Мужской",type:"dropList",variants:fe}]},modules:{education:{title:"Образование",value:[{title:"Бакалавриат",type:"dropList",value:"Национальный исследовательский ядерный университет «МИФИ»",variants:de},{title:"Магистратура",type:"dropList",value:"Московский государственный университет имени М. В. Ломоносова (МГУ)",variants:de}]},career:{title:"Карьера",value:[{title:"Стаж",value:"5 (в годах)",type:"text"},{title:"Зарплата",value:"170563 руб.",type:"text"},{title:"Должность",value:"Директор",type:"dropList",variants:ye},{title:"Отдел",value:"HR",type:"dropList",variants:me}]},family:{title:"Семья",value:[{title:"Отец",value:"Сидоров Петр Петрович",type:"text"},{title:"Мать",value:"Иванова Ольга Александровна",type:"text"},{title:"Семейное положение",value:"женат",type:"dropList",variants:ve}]}}},{id:95,params:{title:"Основная информация",value:[{title:"ФИО",value:"Кузнецов Иван Михайлович",type:"text"},{title:"Дата рождения",value:"2001-03-30",type:"date"},{title:"Номер телефона",value:"+7 (930) 253-14-90",type:"text"},{title:"Адрес",value:"г. Новосибирск, ул. Мира, д. 9, кв. 88",type:"text"},{title:"Пол",value:"Мужской",type:"dropList",variants:fe}]},modules:{education:{title:"Образование",value:[{title:"Бакалавриат",type:"dropList",value:"Московский государственный технический университет имени Н. Э. Баумана (МГТУ)",variants:de}]},career:{title:"Карьера",value:[{title:"Стаж",value:"11 (в годах)",type:"text"},{title:"Зарплата",value:"267426 руб.",type:"text"},{title:"Должность",value:"Консультант",type:"dropList",variants:ye},{title:"Отдел",value:"Производство",type:"dropList",variants:me}]},family:{title:"Семья",value:[{title:"Отец",value:"Сидоров Иван Сергеевич",type:"text"},{title:"Мать",value:"Сидорова Елена Сергеевна",type:"text"},{title:"Семейное положение",value:"холост",type:"dropList",variants:ve}]}}},{id:96,params:{title:"Основная информация",value:[{title:"ФИО",value:"Смирнов Иван Александрович",type:"text"},{title:"Дата рождения",value:"1999-10-20",type:"date"},{title:"Номер телефона",value:"+7 (962) 436-67-91",type:"text"},{title:"Адрес",value:"г. Екатеринбург, ул. Ленина, д. 75, кв. 200",type:"text"},{title:"Пол",value:"Мужской",type:"dropList",variants:fe}]},modules:{education:{title:"Образование",value:[{title:"Бакалавриат",type:"dropList",value:"Санкт-Петербургский государственный университет (СПбГУ)",variants:de},{title:"Магистратура",type:"dropList",value:"Национальный исследовательский ядерный университет «МИФИ»",variants:de}]},career:{title:"Карьера",value:[{title:"Стаж",value:"7 (в годах)",type:"text"},{title:"Зарплата",value:"169813 руб.",type:"text"},{title:"Должность",value:"Программист",type:"dropList",variants:ye},{title:"Отдел",value:"Юридический",type:"dropList",variants:me}]},family:{title:"Семья",value:[{title:"Отец",value:"Смирнов Иван Михайлович",type:"text"},{title:"Мать",value:"Смирнова Светлана Александровна",type:"text"},{title:"Семейное положение",value:"холост",type:"dropList",variants:ve}]}}},{id:97,params:{title:"Основная информация",value:[{title:"ФИО",value:"Сидорова Мария Сергеевна",type:"text"},{title:"Дата рождения",value:"1975-09-25",type:"date"},{title:"Номер телефона",value:"+7 (917) 768-64-12",type:"text"},{title:"Адрес",value:"г. Москва, ул. Мира, д. 100, кв. 89",type:"text"},{title:"Пол",value:"Женский",type:"dropList",variants:fe}]},modules:{education:{title:"Образование",value:[{title:"Бакалавриат",type:"dropList",value:"Московский государственный университет имени М. В. Ломоносова (МГУ)",variants:de},{title:"Магистратура",type:"dropList",value:"Российская академия народного хозяйства и государственной службы (РАНХиГС)",variants:de}]},career:{title:"Карьера",value:[{title:"Стаж",value:"1 (в годах)",type:"text"},{title:"Зарплата",value:"55495 руб.",type:"text"},{title:"Должность",value:"Инженер",type:"dropList",variants:ye},{title:"Отдел",value:"Логистика",type:"dropList",variants:me}]},family:{title:"Семья",value:[{title:"Отец",value:"Иванов Александр Иванович",type:"text"},{title:"Мать",value:"Сидорова Мария Петровна",type:"text"},{title:"Семейное положение",value:"разведена",type:"dropList",variants:ve}]}}},{id:98,params:{title:"Основная информация",value:[{title:"ФИО",value:"Сидорова Анна Александровна",type:"text"},{title:"Дата рождения",value:"1994-07-12",type:"date"},{title:"Номер телефона",value:"+7 (924) 360-30-06",type:"text"},{title:"Адрес",value:"г. Новосибирск, ул. Комсомольская, д. 18, кв. 12",type:"text"},{title:"Пол",value:"Женский",type:"dropList",variants:fe}]},modules:{education:{title:"Образование",value:[{title:"Бакалавриат",type:"dropList",value:"Университет ИТМО",variants:de}]},career:{title:"Карьера",value:[{title:"Стаж",value:"15 (в годах)",type:"text"},{title:"Зарплата",value:"173427 руб.",type:"text"},{title:"Должность",value:"Администратор",type:"dropList",variants:ye},{title:"Отдел",value:"Финансы",type:"dropList",variants:me}]},family:{title:"Семья",value:[{title:"Отец",value:"Петров Сергей Иванович",type:"text"},{title:"Мать",value:"Петрова Светлана Ивановна",type:"text"},{title:"Семейное положение",value:"разведена",type:"dropList",variants:ve}]}}},{id:99,params:{title:"Основная информация",value:[{title:"ФИО",value:"Кузнецова Светлана Сергеевна",type:"text"},{title:"Дата рождения",value:"1998-02-17",type:"date"},{title:"Номер телефона",value:"+7 (934) 878-89-48",type:"text"},{title:"Адрес",value:"г. Екатеринбург, ул. Ленина, д. 64, кв. 7",type:"text"},{title:"Пол",value:"Женский",type:"dropList",variants:fe}]},modules:{education:{title:"Образование",value:[{title:"Бакалавриат",type:"dropList",value:"Российская академия народного хозяйства и государственной службы (РАНХиГС)",variants:de},{title:"Магистратура",type:"dropList",value:"Московский физико-технический институт (МФТИ)",variants:de}]},career:{title:"Карьера",value:[{title:"Стаж",value:"5 (в годах)",type:"text"},{title:"Зарплата",value:"271316 руб.",type:"text"},{title:"Должность",value:"Инженер",type:"dropList",variants:ye},{title:"Отдел",value:"Логистика",type:"dropList",variants:me}]},family:{title:"Семья",value:[{title:"Отец",value:"Сидоров Сергей Александрович",type:"text"},{title:"Мать",value:"Смирнова Мария Петровна",type:"text"},{title:"Семейное положение",value:"холоста",type:"dropList",variants:ve}]}}},{id:100,params:{title:"Основная информация",value:[{title:"ФИО",value:"Кузнецов Иван Сергеевич",type:"text"},{title:"Дата рождения",value:"1997-08-20",type:"date"},{title:"Номер телефона",value:"+7 (955) 046-73-24",type:"text"},{title:"Адрес",value:"г. Екатеринбург, ул. Пушкина, д. 18, кв. 139",type:"text"},{title:"Пол",value:"Мужской",type:"dropList",variants:fe}]},modules:{education:{title:"Образование",value:[{title:"Бакалавриат",type:"dropList",value:"Российский университет дружбы народов (РУДН)",variants:de}]},career:{title:"Карьера",value:[{title:"Стаж",value:"12 (в годах)",type:"text"},{title:"Зарплата",value:"167256 руб.",type:"text"},{title:"Должность",value:"Инженер",type:"dropList",variants:ye},{title:"Отдел",value:"Бухгалтерия",type:"dropList",variants:me}]},family:{title:"Семья",value:[{title:"Отец",value:"Петров Иван Петрович",type:"text"},{title:"Мать",value:"Петрова Елена Александровна",type:"text"},{title:"Семейное положение",value:"холост",type:"dropList",variants:ve}]}}}];function Nfe(){const n=Sw(),t=()=>{if(n.pathname==="/")return[G.jsx(cd,{color:"inherit",href:"/edm-system#",sx:{color:"white",fontWeight:"bold"},children:"Главная"},"home")];if(n.pathname.startsWith("/user/")){const e=n.pathname.slice(6),r=Xh.find(i=>i.id===parseInt(e));return[G.jsx(cd,{color:"inherit",href:"/edm-system#",sx:{color:"white",fontWeight:"bold"},children:"Главная"},"home"),G.jsx(cd,{color:"inherit",href:`/edm-system#/user/${e}`,sx:{color:"white",fontWeight:"bold"},children:r?r.params.value.find(i=>i.title==="ФИО").value:"Пользователь"},"user")]}};return G.jsx(uhe,{separator:G.jsx(N9,{fontSize:"small",sx:{color:"white"}}),"aria-label":"breadcrumb",children:t()})}const kfe=()=>G.jsx(Sde,{position:"sticky",top:"0",children:G.jsxs(afe,{children:[G.jsx(y9,{edge:"start",color:"inherit","aria-label":"menu",children:G.jsx(c9,{})}),G.jsx(Nfe,{})]})}),Ju="DEFAULT_X_AXIS_KEY",SS="DEFAULT_Y_AXIS_KEY",Gfe={top:50,bottom:50,left:50,right:50},Vfe=(n,t,e)=>{const r=B({},Gfe,e);return F.useMemo(()=>({left:r.left,top:r.top,right:r.right,bottom:r.bottom,width:Math.max(0,n-r.left-r.right),height:Math.max(0,t-r.top-r.bottom)}),[n,t,r.top,r.bottom,r.left,r.right])},sp=F.createContext({top:0,left:0,bottom:0,right:0,height:300,width:400}),NN=F.createContext({current:null});function Bfe(n){const{width:t,height:e,margin:r,svgRef:i,children:o}=n,a=Vfe(t,e,r);return G.jsx(NN.Provider,{value:i,children:G.jsx(sp.Provider,{value:a,children:o})})}function lt(n){return function(){return n}}const Rj=Math.abs,ci=Math.atan2,Pu=Math.cos,Hfe=Math.max,eA=Math.min,to=Math.sin,ei=Math.sqrt,hi=1e-12,zd=Math.PI,ab=zd/2,Fd=2*zd;function jfe(n){return n>1?0:n<-1?zd:Math.acos(n)}function Tj(n){return n>=1?ab:n<=-1?-ab:Math.asin(n)}const $L=Math.PI,WL=2*$L,qp=1e-6,$fe=WL-qp;function k9(n){this._+=n[0];for(let t=1,e=n.length;t<e;++t)this._+=arguments[t]+n[t]}function Wfe(n){let t=Math.floor(n);if(!(t>=0))throw new Error(`invalid digits: ${n}`);if(t>15)return k9;const e=10**t;return function(r){this._+=r[0];for(let i=1,o=r.length;i<o;++i)this._+=Math.round(arguments[i]*e)/e+r[i]}}let Ufe=class{constructor(t){this._x0=this._y0=this._x1=this._y1=null,this._="",this._append=t==null?k9:Wfe(t)}moveTo(t,e){this._append`M${this._x0=this._x1=+t},${this._y0=this._y1=+e}`}closePath(){this._x1!==null&&(this._x1=this._x0,this._y1=this._y0,this._append`Z`)}lineTo(t,e){this._append`L${this._x1=+t},${this._y1=+e}`}quadraticCurveTo(t,e,r,i){this._append`Q${+t},${+e},${this._x1=+r},${this._y1=+i}`}bezierCurveTo(t,e,r,i,o,a){this._append`C${+t},${+e},${+r},${+i},${this._x1=+o},${this._y1=+a}`}arcTo(t,e,r,i,o){if(t=+t,e=+e,r=+r,i=+i,o=+o,o<0)throw new Error(`negative radius: ${o}`);let a=this._x1,s=this._y1,l=r-t,u=i-e,c=a-t,d=s-e,p=c*c+d*d;if(this._x1===null)this._append`M${this._x1=t},${this._y1=e}`;else if(p>qp)if(!(Math.abs(d*l-u*c)>qp)||!o)this._append`L${this._x1=t},${this._y1=e}`;else{let h=r-a,f=i-s,v=l*l+u*u,g=h*h+f*f,y=Math.sqrt(v),m=Math.sqrt(p),C=o*Math.tan(($L-Math.acos((v+p-g)/(2*y*m)))/2),S=C/m,w=C/y;Math.abs(S-1)>qp&&this._append`L${t+S*c},${e+S*d}`,this._append`A${o},${o},0,0,${+(d*h>c*f)},${this._x1=t+w*l},${this._y1=e+w*u}`}}arc(t,e,r,i,o,a){if(t=+t,e=+e,r=+r,a=!!a,r<0)throw new Error(`negative radius: ${r}`);let s=r*Math.cos(i),l=r*Math.sin(i),u=t+s,c=e+l,d=1^a,p=a?i-o:o-i;this._x1===null?this._append`M${u},${c}`:(Math.abs(this._x1-u)>qp||Math.abs(this._y1-c)>qp)&&this._append`L${u},${c}`,r&&(p<0&&(p=p%WL+WL),p>$fe?this._append`A${r},${r},0,1,${d},${t-s},${e-l}A${r},${r},0,1,${d},${this._x1=u},${this._y1=c}`:p>qp&&this._append`A${r},${r},0,${+(p>=$L)},${d},${this._x1=t+r*Math.cos(o)},${this._y1=e+r*Math.sin(o)}`)}rect(t,e,r,i){this._append`M${this._x0=this._x1=+t},${this._y0=this._y1=+e}h${r=+r}v${+i}h${-r}Z`}toString(){return this._}};function XR(n){let t=3;return n.digits=function(e){if(!arguments.length)return t;if(e==null)t=null;else{const r=Math.floor(e);if(!(r>=0))throw new RangeError(`invalid digits: ${e}`);t=r}return n},()=>new Ufe(t)}function zfe(n){return n.innerRadius}function Kfe(n){return n.outerRadius}function Yfe(n){return n.startAngle}function Xfe(n){return n.endAngle}function qfe(n){return n&&n.padAngle}function Zfe(n,t,e,r,i,o,a,s){var l=e-n,u=r-t,c=a-i,d=s-o,p=d*l-c*u;if(!(p*p<hi))return p=(c*(t-o)-d*(n-i))/p,[n+p*l,t+p*u]}function W0(n,t,e,r,i,o,a){var s=n-e,l=t-r,u=(a?o:-o)/ei(s*s+l*l),c=u*l,d=-u*s,p=n+c,h=t+d,f=e+c,v=r+d,g=(p+f)/2,y=(h+v)/2,m=f-p,C=v-h,S=m*m+C*C,w=i-o,_=p*v-f*h,x=(C<0?-1:1)*ei(Hfe(0,w*w*S-_*_)),b=(_*C-m*x)/S,O=(-_*m-C*x)/S,P=(_*C+m*x)/S,D=(-_*m+C*x)/S,N=b-g,L=O-y,I=P-g,k=D-y;return N*N+L*L>I*I+k*k&&(b=P,O=D),{cx:b,cy:O,x01:-c,y01:-d,x11:b*(i/w-1),y11:O*(i/w-1)}}function G9(){var n=zfe,t=Kfe,e=lt(0),r=null,i=Yfe,o=Xfe,a=qfe,s=null,l=XR(u);function u(){var c,d,p=+n.apply(this,arguments),h=+t.apply(this,arguments),f=i.apply(this,arguments)-ab,v=o.apply(this,arguments)-ab,g=Rj(v-f),y=v>f;if(s||(s=c=l()),h<p&&(d=h,h=p,p=d),!(h>hi))s.moveTo(0,0);else if(g>Fd-hi)s.moveTo(h*Pu(f),h*to(f)),s.arc(0,0,h,f,v,!y),p>hi&&(s.moveTo(p*Pu(v),p*to(v)),s.arc(0,0,p,v,f,y));else{var m=f,C=v,S=f,w=v,_=g,x=g,b=a.apply(this,arguments)/2,O=b>hi&&(r?+r.apply(this,arguments):ei(p*p+h*h)),P=eA(Rj(h-p)/2,+e.apply(this,arguments)),D=P,N=P,L,I;if(O>hi){var k=Tj(O/p*to(b)),H=Tj(O/h*to(b));(_-=k*2)>hi?(k*=y?1:-1,S+=k,w-=k):(_=0,S=w=(f+v)/2),(x-=H*2)>hi?(H*=y?1:-1,m+=H,C-=H):(x=0,m=C=(f+v)/2)}var $=h*Pu(m),V=h*to(m),W=p*Pu(w),K=p*to(w);if(P>hi){var Z=h*Pu(C),Q=h*to(C),ce=p*Pu(S),ue=p*to(S),se;if(g<zd)if(se=Zfe($,V,ce,ue,Z,Q,W,K)){var q=$-se[0],he=V-se[1],be=Z-se[0],ee=Q-se[1],Se=1/to(jfe((q*be+he*ee)/(ei(q*q+he*he)*ei(be*be+ee*ee)))/2),Ce=ei(se[0]*se[0]+se[1]*se[1]);D=eA(P,(p-Ce)/(Se-1)),N=eA(P,(h-Ce)/(Se+1))}else D=N=0}x>hi?N>hi?(L=W0(ce,ue,$,V,h,N,y),I=W0(Z,Q,W,K,h,N,y),s.moveTo(L.cx+L.x01,L.cy+L.y01),N<P?s.arc(L.cx,L.cy,N,ci(L.y01,L.x01),ci(I.y01,I.x01),!y):(s.arc(L.cx,L.cy,N,ci(L.y01,L.x01),ci(L.y11,L.x11),!y),s.arc(0,0,h,ci(L.cy+L.y11,L.cx+L.x11),ci(I.cy+I.y11,I.cx+I.x11),!y),s.arc(I.cx,I.cy,N,ci(I.y11,I.x11),ci(I.y01,I.x01),!y))):(s.moveTo($,V),s.arc(0,0,h,m,C,!y)):s.moveTo($,V),!(p>hi)||!(_>hi)?s.lineTo(W,K):D>hi?(L=W0(W,K,Z,Q,p,-D,y),I=W0($,V,ce,ue,p,-D,y),s.lineTo(L.cx+L.x01,L.cy+L.y01),D<P?s.arc(L.cx,L.cy,D,ci(L.y01,L.x01),ci(I.y01,I.x01),!y):(s.arc(L.cx,L.cy,D,ci(L.y01,L.x01),ci(L.y11,L.x11),!y),s.arc(0,0,p,ci(L.cy+L.y11,L.cx+L.x11),ci(I.cy+I.y11,I.cx+I.x11),y),s.arc(I.cx,I.cy,D,ci(I.y11,I.x11),ci(I.y01,I.x01),!y))):s.arc(0,0,p,w,S,y)}if(s.closePath(),c)return s=null,c+""||null}return u.centroid=function(){var c=(+n.apply(this,arguments)+ +t.apply(this,arguments))/2,d=(+i.apply(this,arguments)+ +o.apply(this,arguments))/2-zd/2;return[Pu(d)*c,to(d)*c]},u.innerRadius=function(c){return arguments.length?(n=typeof c=="function"?c:lt(+c),u):n},u.outerRadius=function(c){return arguments.length?(t=typeof c=="function"?c:lt(+c),u):t},u.cornerRadius=function(c){return arguments.length?(e=typeof c=="function"?c:lt(+c),u):e},u.padRadius=function(c){return arguments.length?(r=c==null?null:typeof c=="function"?c:lt(+c),u):r},u.startAngle=function(c){return arguments.length?(i=typeof c=="function"?c:lt(+c),u):i},u.endAngle=function(c){return arguments.length?(o=typeof c=="function"?c:lt(+c),u):o},u.padAngle=function(c){return arguments.length?(a=typeof c=="function"?c:lt(+c),u):a},u.context=function(c){return arguments.length?(s=c??null,u):s},u}function qR(n){return typeof n=="object"&&"length"in n?n:Array.from(n)}function V9(n){this._context=n}V9.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(n,t){switch(n=+n,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(n,t):this._context.moveTo(n,t);break;case 1:this._point=2;default:this._context.lineTo(n,t);break}}};function kN(n){return new V9(n)}function B9(n){return n[0]}function H9(n){return n[1]}function j9(n,t){var e=lt(!0),r=null,i=kN,o=null,a=XR(s);n=typeof n=="function"?n:n===void 0?B9:lt(n),t=typeof t=="function"?t:t===void 0?H9:lt(t);function s(l){var u,c=(l=qR(l)).length,d,p=!1,h;for(r==null&&(o=i(h=a())),u=0;u<=c;++u)!(u<c&&e(d=l[u],u,l))===p&&((p=!p)?o.lineStart():o.lineEnd()),p&&o.point(+n(d,u,l),+t(d,u,l));if(h)return o=null,h+""||null}return s.x=function(l){return arguments.length?(n=typeof l=="function"?l:lt(+l),s):n},s.y=function(l){return arguments.length?(t=typeof l=="function"?l:lt(+l),s):t},s.defined=function(l){return arguments.length?(e=typeof l=="function"?l:lt(!!l),s):e},s.curve=function(l){return arguments.length?(i=l,r!=null&&(o=i(r)),s):i},s.context=function(l){return arguments.length?(l==null?r=o=null:o=i(r=l),s):r},s}function Qfe(n,t,e){var r=null,i=lt(!0),o=null,a=kN,s=null,l=XR(u);n=typeof n=="function"?n:n===void 0?B9:lt(+n),t=typeof t=="function"?t:lt(t===void 0?0:+t),e=typeof e=="function"?e:e===void 0?H9:lt(+e);function u(d){var p,h,f,v=(d=qR(d)).length,g,y=!1,m,C=new Array(v),S=new Array(v);for(o==null&&(s=a(m=l())),p=0;p<=v;++p){if(!(p<v&&i(g=d[p],p,d))===y)if(y=!y)h=p,s.areaStart(),s.lineStart();else{for(s.lineEnd(),s.lineStart(),f=p-1;f>=h;--f)s.point(C[f],S[f]);s.lineEnd(),s.areaEnd()}y&&(C[p]=+n(g,p,d),S[p]=+t(g,p,d),s.point(r?+r(g,p,d):C[p],e?+e(g,p,d):S[p]))}if(m)return s=null,m+""||null}function c(){return j9().defined(i).curve(a).context(o)}return u.x=function(d){return arguments.length?(n=typeof d=="function"?d:lt(+d),r=null,u):n},u.x0=function(d){return arguments.length?(n=typeof d=="function"?d:lt(+d),u):n},u.x1=function(d){return arguments.length?(r=d==null?null:typeof d=="function"?d:lt(+d),u):r},u.y=function(d){return arguments.length?(t=typeof d=="function"?d:lt(+d),e=null,u):t},u.y0=function(d){return arguments.length?(t=typeof d=="function"?d:lt(+d),u):t},u.y1=function(d){return arguments.length?(e=d==null?null:typeof d=="function"?d:lt(+d),u):e},u.lineX0=u.lineY0=function(){return c().x(n).y(t)},u.lineY1=function(){return c().x(n).y(e)},u.lineX1=function(){return c().x(r).y(t)},u.defined=function(d){return arguments.length?(i=typeof d=="function"?d:lt(!!d),u):i},u.curve=function(d){return arguments.length?(a=d,o!=null&&(s=a(o)),u):a},u.context=function(d){return arguments.length?(d==null?o=s=null:s=a(o=d),u):o},u}function Jfe(n,t){return t<n?-1:t>n?1:t>=n?0:NaN}function eve(n){return n}function tve(){var n=eve,t=Jfe,e=null,r=lt(0),i=lt(Fd),o=lt(0);function a(s){var l,u=(s=qR(s)).length,c,d,p=0,h=new Array(u),f=new Array(u),v=+r.apply(this,arguments),g=Math.min(Fd,Math.max(-Fd,i.apply(this,arguments)-v)),y,m=Math.min(Math.abs(g)/u,o.apply(this,arguments)),C=m*(g<0?-1:1),S;for(l=0;l<u;++l)(S=f[h[l]=l]=+n(s[l],l,s))>0&&(p+=S);for(t!=null?h.sort(function(w,_){return t(f[w],f[_])}):e!=null&&h.sort(function(w,_){return e(s[w],s[_])}),l=0,d=p?(g-u*C)/p:0;l<u;++l,v=y)c=h[l],S=f[c],y=v+(S>0?S*d:0)+C,f[c]={data:s[c],index:l,value:S,startAngle:v,endAngle:y,padAngle:m};return f}return a.value=function(s){return arguments.length?(n=typeof s=="function"?s:lt(+s),a):n},a.sortValues=function(s){return arguments.length?(t=s,e=null,a):t},a.sort=function(s){return arguments.length?(e=s,t=null,a):e},a.startAngle=function(s){return arguments.length?(r=typeof s=="function"?s:lt(+s),a):r},a.endAngle=function(s){return arguments.length?(i=typeof s=="function"?s:lt(+s),a):i},a.padAngle=function(s){return arguments.length?(o=typeof s=="function"?s:lt(+s),a):o},a}const $9={draw(n,t){const e=ei(t/zd);n.moveTo(e,0),n.arc(0,0,e,0,Fd)}},rve={draw(n,t){const e=ei(t/5)/2;n.moveTo(-3*e,-e),n.lineTo(-e,-e),n.lineTo(-e,-3*e),n.lineTo(e,-3*e),n.lineTo(e,-e),n.lineTo(3*e,-e),n.lineTo(3*e,e),n.lineTo(e,e),n.lineTo(e,3*e),n.lineTo(-e,3*e),n.lineTo(-e,e),n.lineTo(-3*e,e),n.closePath()}},W9=ei(1/3),nve=W9*2,ive={draw(n,t){const e=ei(t/nve),r=e*W9;n.moveTo(0,-e),n.lineTo(r,0),n.lineTo(0,e),n.lineTo(-r,0),n.closePath()}},ove={draw(n,t){const e=ei(t),r=-e/2;n.rect(r,r,e,e)}},ave=.8908130915292852,U9=to(zd/10)/to(7*zd/10),sve=to(Fd/10)*U9,lve=-Pu(Fd/10)*U9,uve={draw(n,t){const e=ei(t*ave),r=sve*e,i=lve*e;n.moveTo(0,-e),n.lineTo(r,i);for(let o=1;o<5;++o){const a=Fd*o/5,s=Pu(a),l=to(a);n.lineTo(l*e,-s*e),n.lineTo(s*r-l*i,l*r+s*i)}n.closePath()}},tA=ei(3),cve={draw(n,t){const e=-ei(t/(tA*3));n.moveTo(0,e*2),n.lineTo(-tA*e,-e),n.lineTo(tA*e,-e),n.closePath()}},Sa=-.5,wa=ei(3)/2,UL=1/ei(12),dve=(UL/2+1)*3,pve={draw(n,t){const e=ei(t/dve),r=e/2,i=e*UL,o=r,a=e*UL+e,s=-o,l=a;n.moveTo(r,i),n.lineTo(o,a),n.lineTo(s,l),n.lineTo(Sa*r-wa*i,wa*r+Sa*i),n.lineTo(Sa*o-wa*a,wa*o+Sa*a),n.lineTo(Sa*s-wa*l,wa*s+Sa*l),n.lineTo(Sa*r+wa*i,Sa*i-wa*r),n.lineTo(Sa*o+wa*a,Sa*a-wa*o),n.lineTo(Sa*s+wa*l,Sa*l-wa*s),n.closePath()}},hve=[$9,rve,ive,ove,uve,cve,pve];function fve(n,t){let e=null,r=XR(i);n=typeof n=="function"?n:lt(n||$9),t=typeof t=="function"?t:lt(t===void 0?64:+t);function i(){let o;if(e||(e=o=r()),n.apply(this,arguments).draw(e,+t.apply(this,arguments)),o)return e=null,o+""||null}return i.type=function(o){return arguments.length?(n=typeof o=="function"?o:lt(o),i):n},i.size=function(o){return arguments.length?(t=typeof o=="function"?o:lt(+o),i):t},i.context=function(o){return arguments.length?(e=o??null,i):e},i}function Pj(n,t,e){n._context.bezierCurveTo(n._x1+n._k*(n._x2-n._x0),n._y1+n._k*(n._y2-n._y0),n._x2+n._k*(n._x1-t),n._y2+n._k*(n._y1-e),n._x2,n._y2)}function GN(n,t){this._context=n,this._k=(1-t)/6}GN.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x2,this._y2);break;case 3:Pj(this,this._x1,this._y1);break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(n,t){switch(n=+n,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(n,t):this._context.moveTo(n,t);break;case 1:this._point=2,this._x1=n,this._y1=t;break;case 2:this._point=3;default:Pj(this,n,t);break}this._x0=this._x1,this._x1=this._x2,this._x2=n,this._y0=this._y1,this._y1=this._y2,this._y2=t}};(function n(t){function e(r){return new GN(r,t)}return e.tension=function(r){return n(+r)},e})(0);function vve(n,t,e){var r=n._x1,i=n._y1,o=n._x2,a=n._y2;if(n._l01_a>hi){var s=2*n._l01_2a+3*n._l01_a*n._l12_a+n._l12_2a,l=3*n._l01_a*(n._l01_a+n._l12_a);r=(r*s-n._x0*n._l12_2a+n._x2*n._l01_2a)/l,i=(i*s-n._y0*n._l12_2a+n._y2*n._l01_2a)/l}if(n._l23_a>hi){var u=2*n._l23_2a+3*n._l23_a*n._l12_a+n._l12_2a,c=3*n._l23_a*(n._l23_a+n._l12_a);o=(o*u+n._x1*n._l23_2a-t*n._l12_2a)/c,a=(a*u+n._y1*n._l23_2a-e*n._l12_2a)/c}n._context.bezierCurveTo(r,i,o,a,n._x2,n._y2)}function z9(n,t){this._context=n,this._alpha=t}z9.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN,this._l01_a=this._l12_a=this._l23_a=this._l01_2a=this._l12_2a=this._l23_2a=this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x2,this._y2);break;case 3:this.point(this._x2,this._y2);break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(n,t){if(n=+n,t=+t,this._point){var e=this._x2-n,r=this._y2-t;this._l23_a=Math.sqrt(this._l23_2a=Math.pow(e*e+r*r,this._alpha))}switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(n,t):this._context.moveTo(n,t);break;case 1:this._point=2;break;case 2:this._point=3;default:vve(this,n,t);break}this._l01_a=this._l12_a,this._l12_a=this._l23_a,this._l01_2a=this._l12_2a,this._l12_2a=this._l23_2a,this._x0=this._x1,this._x1=this._x2,this._x2=n,this._y0=this._y1,this._y1=this._y2,this._y2=t}};const gve=function n(t){function e(r){return t?new z9(r,t):new GN(r,0)}return e.alpha=function(r){return n(+r)},e}(.5);function Aj(n){return n<0?-1:1}function Dj(n,t,e){var r=n._x1-n._x0,i=t-n._x1,o=(n._y1-n._y0)/(r||i<0&&-0),a=(e-n._y1)/(i||r<0&&-0),s=(o*i+a*r)/(r+i);return(Aj(o)+Aj(a))*Math.min(Math.abs(o),Math.abs(a),.5*Math.abs(s))||0}function Mj(n,t){var e=n._x1-n._x0;return e?(3*(n._y1-n._y0)/e-t)/2:t}function rA(n,t,e){var r=n._x0,i=n._y0,o=n._x1,a=n._y1,s=(o-r)/3;n._context.bezierCurveTo(r+s,i+s*t,o-s,a-s*e,o,a)}function sb(n){this._context=n}sb.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=this._t0=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x1,this._y1);break;case 3:rA(this,this._t0,Mj(this,this._t0));break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(n,t){var e=NaN;if(n=+n,t=+t,!(n===this._x1&&t===this._y1)){switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(n,t):this._context.moveTo(n,t);break;case 1:this._point=2;break;case 2:this._point=3,rA(this,Mj(this,e=Dj(this,n,t)),e);break;default:rA(this,this._t0,e=Dj(this,n,t));break}this._x0=this._x1,this._x1=n,this._y0=this._y1,this._y1=t,this._t0=e}}};function K9(n){this._context=new Y9(n)}(K9.prototype=Object.create(sb.prototype)).point=function(n,t){sb.prototype.point.call(this,t,n)};function Y9(n){this._context=n}Y9.prototype={moveTo:function(n,t){this._context.moveTo(t,n)},closePath:function(){this._context.closePath()},lineTo:function(n,t){this._context.lineTo(t,n)},bezierCurveTo:function(n,t,e,r,i,o){this._context.bezierCurveTo(t,n,r,e,o,i)}};function Lj(n){return new sb(n)}function yve(n){return new K9(n)}function X9(n){this._context=n}X9.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=[],this._y=[]},lineEnd:function(){var n=this._x,t=this._y,e=n.length;if(e)if(this._line?this._context.lineTo(n[0],t[0]):this._context.moveTo(n[0],t[0]),e===2)this._context.lineTo(n[1],t[1]);else for(var r=Fj(n),i=Fj(t),o=0,a=1;a<e;++o,++a)this._context.bezierCurveTo(r[0][o],i[0][o],r[1][o],i[1][o],n[a],t[a]);(this._line||this._line!==0&&e===1)&&this._context.closePath(),this._line=1-this._line,this._x=this._y=null},point:function(n,t){this._x.push(+n),this._y.push(+t)}};function Fj(n){var t,e=n.length-1,r,i=new Array(e),o=new Array(e),a=new Array(e);for(i[0]=0,o[0]=2,a[0]=n[0]+2*n[1],t=1;t<e-1;++t)i[t]=1,o[t]=4,a[t]=4*n[t]+2*n[t+1];for(i[e-1]=2,o[e-1]=7,a[e-1]=8*n[e-1]+n[e],t=1;t<e;++t)r=i[t]/o[t-1],o[t]-=r,a[t]-=r*a[t-1];for(i[e-1]=a[e-1]/o[e-1],t=e-2;t>=0;--t)i[t]=(a[t]-i[t+1])/o[t];for(o[e-1]=(n[e]+i[e-1])/2,t=0;t<e-1;++t)o[t]=2*n[t+1]-i[t+1];return[i,o]}function mve(n){return new X9(n)}function ZR(n,t){this._context=n,this._t=t}ZR.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=this._y=NaN,this._point=0},lineEnd:function(){0<this._t&&this._t<1&&this._point===2&&this._context.lineTo(this._x,this._y),(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line>=0&&(this._t=1-this._t,this._line=1-this._line)},point:function(n,t){switch(n=+n,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(n,t):this._context.moveTo(n,t);break;case 1:this._point=2;default:{if(this._t<=0)this._context.lineTo(this._x,t),this._context.lineTo(n,t);else{var e=this._x*(1-this._t)+n*this._t;this._context.lineTo(e,this._y),this._context.lineTo(e,t)}break}}this._x=n,this._y=t}};function Cve(n){return new ZR(n,.5)}function Sve(n){return new ZR(n,0)}function wve(n){return new ZR(n,1)}function Eg(n,t){if((a=n.length)>1)for(var e=1,r,i,o=n[t[0]],a,s=o.length;e<a;++e)for(i=o,o=n[t[e]],r=0;r<s;++r)o[r][1]+=o[r][0]=isNaN(i[r][1])?i[r][0]:i[r][1]}function bg(n){for(var t=n.length,e=new Array(t);--t>=0;)e[t]=t;return e}function _ve(n,t){return n[t]}function xve(n){const t=[];return t.key=n,t}function q9(){var n=lt([]),t=bg,e=Eg,r=_ve;function i(o){var a=Array.from(n.apply(this,arguments),xve),s,l=a.length,u=-1,c;for(const d of o)for(s=0,++u;s<l;++s)(a[s][u]=[0,+r(d,a[s].key,u,o)]).data=d;for(s=0,c=qR(t(a));s<l;++s)a[c[s]].index=s;return e(a,c),a}return i.keys=function(o){return arguments.length?(n=typeof o=="function"?o:lt(Array.from(o)),i):n},i.value=function(o){return arguments.length?(r=typeof o=="function"?o:lt(+o),i):r},i.order=function(o){return arguments.length?(t=o==null?bg:typeof o=="function"?o:lt(Array.from(o)),i):t},i.offset=function(o){return arguments.length?(e=o??Eg,i):e},i}function Eve(n,t){if((r=n.length)>0){for(var e,r,i=0,o=n[0].length,a;i<o;++i){for(a=e=0;e<r;++e)a+=n[e][i][1]||0;if(a)for(e=0;e<r;++e)n[e][i][1]/=a}Eg(n,t)}}function bve(n,t){if((l=n.length)>0)for(var e,r=0,i,o,a,s,l,u=n[t[0]].length;r<u;++r)for(a=s=0,e=0;e<l;++e)(o=(i=n[t[e]][r])[1]-i[0])>0?(i[0]=a,i[1]=a+=o):o<0?(i[1]=s,i[0]=s+=o):(i[0]=0,i[1]=o)}function Ove(n,t){if((i=n.length)>0){for(var e=0,r=n[t[0]],i,o=r.length;e<o;++e){for(var a=0,s=0;a<i;++a)s+=n[a][e][1]||0;r[e][1]+=r[e][0]=-s/2}Eg(n,t)}}function Rve(n,t){if(!(!((a=n.length)>0)||!((o=(i=n[t[0]]).length)>0))){for(var e=0,r=1,i,o,a;r<o;++r){for(var s=0,l=0,u=0;s<a;++s){for(var c=n[t[s]],d=c[r][1]||0,p=c[r-1][1]||0,h=(d-p)/2,f=0;f<s;++f){var v=n[t[f]],g=v[r][1]||0,y=v[r-1][1]||0;h+=g-y}l+=d,u+=h*d}i[r-1][1]+=i[r-1][0]=e,l&&(e-=u/l)}i[r-1][1]+=i[r-1][0]=e,Eg(n,t)}}function Z9(n){var t=n.map(Tve);return bg(n).sort(function(e,r){return t[e]-t[r]})}function Tve(n){for(var t=-1,e=0,r=n.length,i,o=-1/0;++t<r;)(i=+n[t][1])>o&&(o=i,e=t);return e}function Q9(n){var t=n.map(J9);return bg(n).sort(function(e,r){return t[e]-t[r]})}function J9(n){for(var t=0,e=-1,r=n.length,i;++e<r;)(i=+n[e][1])&&(t+=i);return t}function Pve(n){return Q9(n).reverse()}function Ave(n){var t=n.length,e,r,i=n.map(J9),o=Z9(n),a=0,s=0,l=[],u=[];for(e=0;e<t;++e)r=o[e],a<s?(a+=i[r],l.push(r)):(s+=i[r],u.push(r));return u.reverse().concat(l)}function Dve(n){return bg(n).reverse()}const nA={appearance:Z9,ascending:Q9,descending:Pve,insideOut:Ave,none:bg,reverse:Dve},iA={expand:Eve,diverging:bve,none:Eg,silhouette:Ove,wiggle:Rve},e8=n=>{const{series:t,seriesOrder:e,defaultStrategy:r}=n,i=[],o={};return e.forEach(a=>{const{stack:s,stackOrder:l,stackOffset:u}=t[a];if(s===void 0)i.push({ids:[a],stackingOrder:nA.none,stackingOffset:iA.none});else if(o[s]===void 0){var c,d;o[s]=i.length,i.push({ids:[a],stackingOrder:nA[(c=l??(r==null?void 0:r.stackOrder))!=null?c:"none"],stackingOffset:iA[(d=u??(r==null?void 0:r.stackOffset))!=null?d:"diverging"]})}else i[o[s]].ids.push(a),l!==void 0&&(i[o[s]].stackingOrder=nA[l]),u!==void 0&&(i[o[s]].stackingOffset=iA[u])}),i};function VN(n,t){const e={};return Object.keys(n).forEach(r=>{var i;e[r]=B({},n[r],{valueFormatter:(i=n[r].valueFormatter)!=null?i:t})}),e}const Mve=(n,t)=>{var e;const{seriesOrder:r,series:i}=n,o=e8(n),a=(e=t)!=null?e:[];r.forEach(l=>{const u=i[l].data;if(u!==void 0)u.forEach((c,d)=>{a.length<=d?a.push({[l]:c}):a[d][l]=c});else if(t===void 0)throw new Error([`MUI-X-Charts: bar series with id='${l}' has no data.`,"Either provide a data property to the series or use the dataset prop."].join(`
`))});const s={};return o.forEach(l=>{const{ids:u,stackingOffset:c,stackingOrder:d}=l,p=q9().keys(u.map(h=>{const f=i[h].dataKey;return i[h].data===void 0&&f!==void 0?f:h})).value((h,f)=>{var v;return(v=h[f])!=null?v:0}).order(d).offset(c)(a);u.forEach((h,f)=>{const v=i[h].dataKey;s[h]=B({layout:"vertical"},i[h],{data:v?t.map(g=>{const y=g[v];return typeof y!="number"?0:y}):i[h].data,stackedData:p[f].map(([g,y])=>[g,y])})})}),{seriesOrder:r,stackingGroups:o,series:VN(s,l=>l==null?void 0:l.toLocaleString())}},Lve=Mve,Fve=({series:n,seriesOrder:t})=>({series:VN(n,e=>`(${e.x}, ${e.y})`),seriesOrder:t}),Ive=Fve,Nve=(n,t)=>{var e;const{seriesOrder:r,series:i}=n,o=e8(B({},n,{defaultStrategy:{stackOffset:"none"}})),a=(e=t)!=null?e:[];r.forEach(l=>{const u=i[l].data;u!==void 0&&u.forEach((c,d)=>{a.length<=d?a.push({[l]:c}):a[d][l]=c})});const s={};return o.forEach(l=>{const{ids:u,stackingOrder:c,stackingOffset:d}=l,p=q9().keys(u.map(h=>{const f=i[h].dataKey;return i[h].data===void 0&&f!==void 0?f:h})).value((h,f)=>{var v;return(v=h[f])!=null?v:0}).order(c).offset(d)(a);u.forEach((h,f)=>{const v=i[h].dataKey;s[h]=B({},i[h],{data:v?t.map(g=>{const y=g[v];return typeof y!="number"?null:y}):i[h].data,stackedData:p[f].map(([g,y])=>[g,y])})})}),{seriesOrder:r,stackingGroups:o,series:VN(s,l=>l==null?void 0:l.toLocaleString())}},kve=Nve,Gve=(n="none")=>{if(typeof n=="function")return n;switch(n){case"none":return null;case"desc":return(t,e)=>e-t;case"asc":return(t,e)=>t-e;default:return null}},Vve=n=>{const{seriesOrder:t,series:e}=n,r={};return t.forEach(i=>{var o,a,s,l;const u=tve().startAngle(2*Math.PI*((o=e[i].startAngle)!=null?o:0)/360).endAngle(2*Math.PI*((a=e[i].endAngle)!=null?a:360)/360).padAngle(2*Math.PI*((s=e[i].paddingAngle)!=null?s:0)/360).sortValues(Gve((l=e[i].sortingValues)!=null?l:"none"))(e[i].data.map(c=>c.value));r[i]=B({valueFormatter:c=>c.value.toLocaleString()},e[i],{data:e[i].data.map((c,d)=>{var p;return B({},c,{id:(p=c.id)!=null?p:`auto-generated-pie-id-${i}-${d}`},u[d])}).map(c=>{var d,p,h;return B({},c,{formattedValue:(d=(p=(h=e[i]).valueFormatter)==null?void 0:p.call(h,c))!=null?d:c.value.toLocaleString()})})})}),{seriesOrder:t,series:r}},Bve=Vve,Hve=["#1f77b4","#ff7f0e","#2ca02c","#d62728","#9467bd","#8c564b","#e377c2","#7f7f7f","#bcbd22","#17becf"];function jve(n,t,e=Hve){return n.type==="pie"?B({},n,{data:n.data.map((r,i)=>B({color:e[i%e.length]},r))}):B({color:e[t%e.length]},n)}const $ve=["#02B2AF","#2E96FF","#B800D8","#60009B","#2731C8","#03008D"],Wve=["#02B2AF","#72CCFF","#DA00FF","#9001CB","#2E96FF","#3B48E0"],Uve=n=>n==="dark"?Wve:$ve,$s=F.createContext({}),oA={bar:Lve,scatter:Ive,line:kve,pie:Bve},zve=(n,t,e)=>{const r={};n.forEach((o,a)=>{var s;const{id:l=`auto-generated-id-${a}`,type:u}=o;if(r[u]===void 0&&(r[u]={series:{},seriesOrder:[]}),((s=r[u])==null?void 0:s.series[l])!==void 0)throw new Error(`MUI-X-Charts: series' id "${l}" is not unique`);r[u].series[l]=B({id:l},jve(o,a,t)),r[u].seriesOrder.push(l)});const i={};return Object.keys(oA).forEach(o=>{if(r[o]!==void 0){var a,s;i[o]=(a=(s=oA[o])==null?void 0:s.call(oA,r[o],e))!=null?a:r[o]}}),i};function Kve(n){const{series:t,dataset:e,colors:r=Uve,children:i}=n,o=op(),a=F.useMemo(()=>zve(t,typeof r=="function"?r(o.palette.mode):r,e),[t,r,o.palette.mode,e]);return G.jsx($s.Provider,{value:a,children:i})}const Ws=F.createContext({item:null,axis:{x:null,y:null},dispatch:()=>null}),Yve=(n,t)=>{switch(t.type){case"enterItem":return B({},n,{item:t.data});case"leaveItem":return n.item===null||Object.keys(t.data).some(e=>t.data[e]!==n.item[e])?n:B({},n,{item:null});case"updateAxis":return B({},n,{axis:t.data});default:return n}};function Xve(n){const{children:t}=n,[e,r]=F.useReducer(Yve,{item:null,axis:{x:null,y:null}}),i=F.useMemo(()=>B({},e,{dispatch:r}),[e]);return G.jsx(Ws.Provider,{value:i,children:t})}var qve=Object.defineProperty,Zve=(n,t)=>{for(var e in t)qve(n,e,{get:t[e],enumerable:!0})},es={};Zve(es,{assign:()=>ege,colors:()=>Id,createStringInterpolator:()=>zN,skipAnimation:()=>s8,to:()=>a8,willAdvance:()=>KN});var BN=Pw(),ot=n=>Tw(n,BN),HN=Pw();ot.write=n=>Tw(n,HN);var QR=Pw();ot.onStart=n=>Tw(n,QR);var jN=Pw();ot.onFrame=n=>Tw(n,jN);var $N=Pw();ot.onFinish=n=>Tw(n,$N);var qv=[];ot.setTimeout=(n,t)=>{const e=ot.now()+t,r=()=>{const o=qv.findIndex(a=>a.cancel==r);~o&&qv.splice(o,1),yd-=~o?1:0},i={time:e,handler:n,cancel:r};return qv.splice(t8(e),0,i),yd+=1,r8(),i};var t8=n=>~(~qv.findIndex(t=>t.time>n)||~qv.length);ot.cancel=n=>{QR.delete(n),jN.delete(n),$N.delete(n),BN.delete(n),HN.delete(n)};ot.sync=n=>{zL=!0,ot.batchedUpdates(n),zL=!1};ot.throttle=n=>{let t;function e(){try{n(...t)}finally{t=null}}function r(...i){t=i,ot.onStart(e)}return r.handler=n,r.cancel=()=>{QR.delete(e),t=null},r};var WN=typeof window<"u"?window.requestAnimationFrame:()=>{};ot.use=n=>WN=n;ot.now=typeof performance<"u"?()=>performance.now():Date.now;ot.batchedUpdates=n=>n();ot.catch=console.error;ot.frameLoop="always";ot.advance=()=>{ot.frameLoop!=="demand"?console.warn("Cannot call the manual advancement of rafz whilst frameLoop is not set as demand"):i8()};var gd=-1,yd=0,zL=!1;function Tw(n,t){zL?(t.delete(n),n(0)):(t.add(n),r8())}function r8(){gd<0&&(gd=0,ot.frameLoop!=="demand"&&WN(n8))}function Qve(){gd=-1}function n8(){~gd&&(WN(n8),ot.batchedUpdates(i8))}function i8(){const n=gd;gd=ot.now();const t=t8(gd);if(t&&(o8(qv.splice(0,t),e=>e.handler()),yd-=t),!yd){Qve();return}QR.flush(),BN.flush(n?Math.min(64,gd-n):16.667),jN.flush(),HN.flush(),$N.flush()}function Pw(){let n=new Set,t=n;return{add(e){yd+=t==n&&!n.has(e)?1:0,n.add(e)},delete(e){return yd-=t==n&&n.has(e)?1:0,n.delete(e)},flush(e){t.size&&(n=new Set,yd-=t.size,o8(t,r=>r(e)&&n.add(r)),yd+=n.size,t=n)}}}function o8(n,t){n.forEach(e=>{try{t(e)}catch(r){ot.catch(r)}})}function KL(){}var Jve=(n,t,e)=>Object.defineProperty(n,t,{value:e,writable:!0,configurable:!0}),_e={arr:Array.isArray,obj:n=>!!n&&n.constructor.name==="Object",fun:n=>typeof n=="function",str:n=>typeof n=="string",num:n=>typeof n=="number",und:n=>n===void 0};function Au(n,t){if(_e.arr(n)){if(!_e.arr(t)||n.length!==t.length)return!1;for(let e=0;e<n.length;e++)if(n[e]!==t[e])return!1;return!0}return n===t}var ut=(n,t)=>n.forEach(t);function eu(n,t,e){if(_e.arr(n)){for(let r=0;r<n.length;r++)t.call(e,n[r],`${r}`);return}for(const r in n)n.hasOwnProperty(r)&&t.call(e,n[r],r)}var Li=n=>_e.und(n)?[]:_e.arr(n)?n:[n];function bC(n,t){if(n.size){const e=Array.from(n);n.clear(),ut(e,t)}}var Vm=(n,...t)=>bC(n,e=>e(...t)),UN=()=>typeof window>"u"||!window.navigator||/ServerSideRendering|^Deno\//.test(window.navigator.userAgent),zN,a8,Id=null,s8=!1,KN=KL,ege=n=>{n.to&&(a8=n.to),n.now&&(ot.now=n.now),n.colors!==void 0&&(Id=n.colors),n.skipAnimation!=null&&(s8=n.skipAnimation),n.createStringInterpolator&&(zN=n.createStringInterpolator),n.requestAnimationFrame&&ot.use(n.requestAnimationFrame),n.batchedUpdates&&(ot.batchedUpdates=n.batchedUpdates),n.willAdvance&&(KN=n.willAdvance),n.frameLoop&&(ot.frameLoop=n.frameLoop)},OC=new Set,Na=[],aA=[],lb=0,JR={get idle(){return!OC.size&&!Na.length},start(n){lb>n.priority?(OC.add(n),ot.onStart(tge)):(l8(n),ot(YL))},advance:YL,sort(n){if(lb)ot.onFrame(()=>JR.sort(n));else{const t=Na.indexOf(n);~t&&(Na.splice(t,1),u8(n))}},clear(){Na=[],OC.clear()}};function tge(){OC.forEach(l8),OC.clear(),ot(YL)}function l8(n){Na.includes(n)||u8(n)}function u8(n){Na.splice(rge(Na,t=>t.priority>n.priority),0,n)}function YL(n){const t=aA;for(let e=0;e<Na.length;e++){const r=Na[e];lb=r.priority,r.idle||(KN(r),r.advance(n),r.idle||t.push(r))}return lb=0,aA=Na,aA.length=0,Na=t,Na.length>0}function rge(n,t){const e=n.findIndex(t);return e<0?n.length:e}var nge=(n,t,e)=>Math.min(Math.max(e,n),t),ige={transparent:0,aliceblue:4042850303,antiquewhite:4209760255,aqua:16777215,aquamarine:2147472639,azure:4043309055,beige:4126530815,bisque:4293182719,black:255,blanchedalmond:4293643775,blue:65535,blueviolet:2318131967,brown:2771004159,burlywood:3736635391,burntsienna:3934150143,cadetblue:1604231423,chartreuse:2147418367,chocolate:3530104575,coral:4286533887,cornflowerblue:1687547391,cornsilk:4294499583,crimson:3692313855,cyan:16777215,darkblue:35839,darkcyan:9145343,darkgoldenrod:3095792639,darkgray:2846468607,darkgreen:6553855,darkgrey:2846468607,darkkhaki:3182914559,darkmagenta:2332068863,darkolivegreen:1433087999,darkorange:4287365375,darkorchid:2570243327,darkred:2332033279,darksalmon:3918953215,darkseagreen:2411499519,darkslateblue:1211993087,darkslategray:793726975,darkslategrey:793726975,darkturquoise:13554175,darkviolet:2483082239,deeppink:4279538687,deepskyblue:12582911,dimgray:1768516095,dimgrey:1768516095,dodgerblue:512819199,firebrick:2988581631,floralwhite:4294635775,forestgreen:579543807,fuchsia:4278255615,gainsboro:3705462015,ghostwhite:4177068031,gold:4292280575,goldenrod:3668254975,gray:2155905279,green:8388863,greenyellow:2919182335,grey:2155905279,honeydew:4043305215,hotpink:4285117695,indianred:3445382399,indigo:1258324735,ivory:4294963455,khaki:4041641215,lavender:3873897215,lavenderblush:4293981695,lawngreen:2096890111,lemonchiffon:4294626815,lightblue:2916673279,lightcoral:4034953471,lightcyan:3774873599,lightgoldenrodyellow:4210742015,lightgray:3553874943,lightgreen:2431553791,lightgrey:3553874943,lightpink:4290167295,lightsalmon:4288707327,lightseagreen:548580095,lightskyblue:2278488831,lightslategray:2005441023,lightslategrey:2005441023,lightsteelblue:2965692159,lightyellow:4294959359,lime:16711935,limegreen:852308735,linen:4210091775,magenta:4278255615,maroon:2147483903,mediumaquamarine:1724754687,mediumblue:52735,mediumorchid:3126187007,mediumpurple:2473647103,mediumseagreen:1018393087,mediumslateblue:2070474495,mediumspringgreen:16423679,mediumturquoise:1221709055,mediumvioletred:3340076543,midnightblue:421097727,mintcream:4127193855,mistyrose:4293190143,moccasin:4293178879,navajowhite:4292783615,navy:33023,oldlace:4260751103,olive:2155872511,olivedrab:1804477439,orange:4289003775,orangered:4282712319,orchid:3664828159,palegoldenrod:4008225535,palegreen:2566625535,paleturquoise:2951671551,palevioletred:3681588223,papayawhip:4293907967,peachpuff:4292524543,peru:3448061951,pink:4290825215,plum:3718307327,powderblue:2967529215,purple:2147516671,rebeccapurple:1714657791,red:4278190335,rosybrown:3163525119,royalblue:1097458175,saddlebrown:2336560127,salmon:4202722047,sandybrown:4104413439,seagreen:780883967,seashell:4294307583,sienna:2689740287,silver:3233857791,skyblue:2278484991,slateblue:1784335871,slategray:1887473919,slategrey:1887473919,snow:4294638335,springgreen:16744447,steelblue:1182971135,tan:3535047935,teal:8421631,thistle:3636451583,tomato:4284696575,turquoise:1088475391,violet:4001558271,wheat:4125012991,white:4294967295,whitesmoke:4126537215,yellow:4294902015,yellowgreen:2597139199},Ts="[-+]?\\d*\\.?\\d+",ub=Ts+"%";function eT(...n){return"\\(\\s*("+n.join(")\\s*,\\s*(")+")\\s*\\)"}var oge=new RegExp("rgb"+eT(Ts,Ts,Ts)),age=new RegExp("rgba"+eT(Ts,Ts,Ts,Ts)),sge=new RegExp("hsl"+eT(Ts,ub,ub)),lge=new RegExp("hsla"+eT(Ts,ub,ub,Ts)),uge=/^#([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,cge=/^#([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,dge=/^#([0-9a-fA-F]{6})$/,pge=/^#([0-9a-fA-F]{8})$/;function hge(n){let t;return typeof n=="number"?n>>>0===n&&n>=0&&n<=4294967295?n:null:(t=dge.exec(n))?parseInt(t[1]+"ff",16)>>>0:Id&&Id[n]!==void 0?Id[n]:(t=oge.exec(n))?(Nf(t[1])<<24|Nf(t[2])<<16|Nf(t[3])<<8|255)>>>0:(t=age.exec(n))?(Nf(t[1])<<24|Nf(t[2])<<16|Nf(t[3])<<8|kj(t[4]))>>>0:(t=uge.exec(n))?parseInt(t[1]+t[1]+t[2]+t[2]+t[3]+t[3]+"ff",16)>>>0:(t=pge.exec(n))?parseInt(t[1],16)>>>0:(t=cge.exec(n))?parseInt(t[1]+t[1]+t[2]+t[2]+t[3]+t[3]+t[4]+t[4],16)>>>0:(t=sge.exec(n))?(Ij(Nj(t[1]),U0(t[2]),U0(t[3]))|255)>>>0:(t=lge.exec(n))?(Ij(Nj(t[1]),U0(t[2]),U0(t[3]))|kj(t[4]))>>>0:null}function sA(n,t,e){return e<0&&(e+=1),e>1&&(e-=1),e<1/6?n+(t-n)*6*e:e<1/2?t:e<2/3?n+(t-n)*(2/3-e)*6:n}function Ij(n,t,e){const r=e<.5?e*(1+t):e+t-e*t,i=2*e-r,o=sA(i,r,n+1/3),a=sA(i,r,n),s=sA(i,r,n-1/3);return Math.round(o*255)<<24|Math.round(a*255)<<16|Math.round(s*255)<<8}function Nf(n){const t=parseInt(n,10);return t<0?0:t>255?255:t}function Nj(n){return(parseFloat(n)%360+360)%360/360}function kj(n){const t=parseFloat(n);return t<0?0:t>1?255:Math.round(t*255)}function U0(n){const t=parseFloat(n);return t<0?0:t>100?1:t/100}function Gj(n){let t=hge(n);if(t===null)return n;t=t||0;const e=(t&4278190080)>>>24,r=(t&16711680)>>>16,i=(t&65280)>>>8,o=(t&255)/255;return`rgba(${e}, ${r}, ${i}, ${o})`}var wS=(n,t,e)=>{if(_e.fun(n))return n;if(_e.arr(n))return wS({range:n,output:t,extrapolate:e});if(_e.str(n.output[0]))return zN(n);const r=n,i=r.output,o=r.range||[0,1],a=r.extrapolateLeft||r.extrapolate||"extend",s=r.extrapolateRight||r.extrapolate||"extend",l=r.easing||(u=>u);return u=>{const c=vge(u,o);return fge(u,o[c],o[c+1],i[c],i[c+1],l,a,s,r.map)}};function fge(n,t,e,r,i,o,a,s,l){let u=l?l(n):n;if(u<t){if(a==="identity")return u;a==="clamp"&&(u=t)}if(u>e){if(s==="identity")return u;s==="clamp"&&(u=e)}return r===i?r:t===e?n<=t?r:i:(t===-1/0?u=-u:e===1/0?u=u-t:u=(u-t)/(e-t),u=o(u),r===-1/0?u=-u:i===1/0?u=u+r:u=u*(i-r)+r,u)}function vge(n,t){for(var e=1;e<t.length-1&&!(t[e]>=n);++e);return e-1}var gge=(n,t="end")=>e=>{e=t==="end"?Math.min(e,.999):Math.max(e,.001);const r=e*n,i=t==="end"?Math.floor(r):Math.ceil(r);return nge(0,1,i/n)},cb=1.70158,z0=cb*1.525,Vj=cb+1,Bj=2*Math.PI/3,Hj=2*Math.PI/4.5,K0=n=>n<1/2.75?7.5625*n*n:n<2/2.75?7.5625*(n-=1.5/2.75)*n+.75:n<2.5/2.75?7.5625*(n-=2.25/2.75)*n+.9375:7.5625*(n-=2.625/2.75)*n+.984375,yge={linear:n=>n,easeInQuad:n=>n*n,easeOutQuad:n=>1-(1-n)*(1-n),easeInOutQuad:n=>n<.5?2*n*n:1-Math.pow(-2*n+2,2)/2,easeInCubic:n=>n*n*n,easeOutCubic:n=>1-Math.pow(1-n,3),easeInOutCubic:n=>n<.5?4*n*n*n:1-Math.pow(-2*n+2,3)/2,easeInQuart:n=>n*n*n*n,easeOutQuart:n=>1-Math.pow(1-n,4),easeInOutQuart:n=>n<.5?8*n*n*n*n:1-Math.pow(-2*n+2,4)/2,easeInQuint:n=>n*n*n*n*n,easeOutQuint:n=>1-Math.pow(1-n,5),easeInOutQuint:n=>n<.5?16*n*n*n*n*n:1-Math.pow(-2*n+2,5)/2,easeInSine:n=>1-Math.cos(n*Math.PI/2),easeOutSine:n=>Math.sin(n*Math.PI/2),easeInOutSine:n=>-(Math.cos(Math.PI*n)-1)/2,easeInExpo:n=>n===0?0:Math.pow(2,10*n-10),easeOutExpo:n=>n===1?1:1-Math.pow(2,-10*n),easeInOutExpo:n=>n===0?0:n===1?1:n<.5?Math.pow(2,20*n-10)/2:(2-Math.pow(2,-20*n+10))/2,easeInCirc:n=>1-Math.sqrt(1-Math.pow(n,2)),easeOutCirc:n=>Math.sqrt(1-Math.pow(n-1,2)),easeInOutCirc:n=>n<.5?(1-Math.sqrt(1-Math.pow(2*n,2)))/2:(Math.sqrt(1-Math.pow(-2*n+2,2))+1)/2,easeInBack:n=>Vj*n*n*n-cb*n*n,easeOutBack:n=>1+Vj*Math.pow(n-1,3)+cb*Math.pow(n-1,2),easeInOutBack:n=>n<.5?Math.pow(2*n,2)*((z0+1)*2*n-z0)/2:(Math.pow(2*n-2,2)*((z0+1)*(n*2-2)+z0)+2)/2,easeInElastic:n=>n===0?0:n===1?1:-Math.pow(2,10*n-10)*Math.sin((n*10-10.75)*Bj),easeOutElastic:n=>n===0?0:n===1?1:Math.pow(2,-10*n)*Math.sin((n*10-.75)*Bj)+1,easeInOutElastic:n=>n===0?0:n===1?1:n<.5?-(Math.pow(2,20*n-10)*Math.sin((20*n-11.125)*Hj))/2:Math.pow(2,-20*n+10)*Math.sin((20*n-11.125)*Hj)/2+1,easeInBounce:n=>1-K0(1-n),easeOutBounce:K0,easeInOutBounce:n=>n<.5?(1-K0(1-2*n))/2:(1+K0(2*n-1))/2,steps:gge},_S=Symbol.for("FluidValue.get"),Og=Symbol.for("FluidValue.observers"),Ia=n=>!!(n&&n[_S]),oo=n=>n&&n[_S]?n[_S]():n,jj=n=>n[Og]||null;function mge(n,t){n.eventObserved?n.eventObserved(t):n(t)}function xS(n,t){const e=n[Og];e&&e.forEach(r=>{mge(r,t)})}var c8=class{constructor(n){if(!n&&!(n=this.get))throw Error("Unknown getter");Cge(this,n)}},Cge=(n,t)=>d8(n,_S,t);function Kg(n,t){if(n[_S]){let e=n[Og];e||d8(n,Og,e=new Set),e.has(t)||(e.add(t),n.observerAdded&&n.observerAdded(e.size,t))}return t}function ES(n,t){const e=n[Og];if(e&&e.has(t)){const r=e.size-1;r?e.delete(t):n[Og]=null,n.observerRemoved&&n.observerRemoved(r,t)}}var d8=(n,t,e)=>Object.defineProperty(n,t,{value:e,writable:!0,configurable:!0}),Xx=/[+\-]?(?:0|[1-9]\d*)(?:\.\d*)?(?:[eE][+\-]?\d+)?/g,Sge=/(#(?:[0-9a-f]{2}){2,4}|(#[0-9a-f]{3})|(rgb|hsl)a?\((-?\d+%?[,\s]+){2,3}\s*[\d\.]+%?\))/gi,$j=new RegExp(`(${Xx.source})(%|[a-z]+)`,"i"),wge=/rgba\(([0-9\.-]+), ([0-9\.-]+), ([0-9\.-]+), ([0-9\.-]+)\)/gi,tT=/var\((--[a-zA-Z0-9-_]+),? ?([a-zA-Z0-9 ()%#.,-]+)?\)/,p8=n=>{const[t,e]=_ge(n);if(!t||UN())return n;const r=window.getComputedStyle(document.documentElement).getPropertyValue(t);if(r)return r.trim();if(e&&e.startsWith("--")){const i=window.getComputedStyle(document.documentElement).getPropertyValue(e);return i||n}else{if(e&&tT.test(e))return p8(e);if(e)return e}return n},_ge=n=>{const t=tT.exec(n);if(!t)return[,];const[,e,r]=t;return[e,r]},lA,xge=(n,t,e,r,i)=>`rgba(${Math.round(t)}, ${Math.round(e)}, ${Math.round(r)}, ${i})`,h8=n=>{lA||(lA=Id?new RegExp(`(${Object.keys(Id).join("|")})(?!\\w)`,"g"):/^\b$/);const t=n.output.map(o=>oo(o).replace(tT,p8).replace(Sge,Gj).replace(lA,Gj)),e=t.map(o=>o.match(Xx).map(Number)),i=e[0].map((o,a)=>e.map(s=>{if(!(a in s))throw Error('The arity of each "output" value must be equal');return s[a]})).map(o=>wS({...n,output:o}));return o=>{var l;const a=!$j.test(t[0])&&((l=t.find(u=>$j.test(u)))==null?void 0:l.replace(Xx,""));let s=0;return t[0].replace(Xx,()=>`${i[s++](o)}${a||""}`).replace(wge,xge)}},YN="react-spring: ",f8=n=>{const t=n;let e=!1;if(typeof t!="function")throw new TypeError(`${YN}once requires a function parameter`);return(...r)=>{e||(t(...r),e=!0)}},Ege=f8(console.warn);function bge(){Ege(`${YN}The "interpolate" function is deprecated in v9 (use "to" instead)`)}var Oge=f8(console.warn);function Rge(){Oge(`${YN}Directly calling start instead of using the api object is deprecated in v9 (use ".start" instead), this will be removed in later 0.X.0 versions`)}function rT(n){return _e.str(n)&&(n[0]=="#"||/\d/.test(n)||!UN()&&tT.test(n)||n in(Id||{}))}var Ch=UN()?F.useEffect:F.useLayoutEffect,Tge=()=>{const n=F.useRef(!1);return Ch(()=>(n.current=!0,()=>{n.current=!1}),[]),n};function v8(){const n=F.useState()[1],t=Tge();return()=>{t.current&&n(Math.random())}}function Pge(n,t){const[e]=F.useState(()=>({inputs:t,result:n()})),r=F.useRef(),i=r.current;let o=i;return o?t&&o.inputs&&Age(t,o.inputs)||(o={inputs:t,result:n()}):o=e,F.useEffect(()=>{r.current=o,i==e&&(e.inputs=e.result=void 0)},[o]),o.result}function Age(n,t){if(n.length!==t.length)return!1;for(let e=0;e<n.length;e++)if(n[e]!==t[e])return!1;return!0}var g8=n=>F.useEffect(n,Dge),Dge=[];function Mge(n){const t=F.useRef();return F.useEffect(()=>{t.current=n}),t.current}var bS=Symbol.for("Animated:node"),Lge=n=>!!n&&n[bS]===n,xl=n=>n&&n[bS],XN=(n,t)=>Jve(n,bS,t),nT=n=>n&&n[bS]&&n[bS].getPayload(),y8=class{constructor(){XN(this,this)}getPayload(){return this.payload||[]}},Aw=class extends y8{constructor(n){super(),this._value=n,this.done=!0,this.durationProgress=0,_e.num(this._value)&&(this.lastPosition=this._value)}static create(n){return new Aw(n)}getPayload(){return[this]}getValue(){return this._value}setValue(n,t){return _e.num(n)&&(this.lastPosition=n,t&&(n=Math.round(n/t)*t,this.done&&(this.lastPosition=n))),this._value===n?!1:(this._value=n,!0)}reset(){const{done:n}=this;this.done=!1,_e.num(this._value)&&(this.elapsedTime=0,this.durationProgress=0,this.lastPosition=this._value,n&&(this.lastVelocity=null),this.v0=null)}},OS=class extends Aw{constructor(n){super(0),this._string=null,this._toString=wS({output:[n,n]})}static create(n){return new OS(n)}getValue(){const n=this._string;return n??(this._string=this._toString(this._value))}setValue(n){if(_e.str(n)){if(n==this._string)return!1;this._string=n,this._value=1}else if(super.setValue(n))this._string=null;else return!1;return!0}reset(n){n&&(this._toString=wS({output:[this.getValue(),n]})),this._value=0,super.reset()}},db={dependencies:null},iT=class extends y8{constructor(n){super(),this.source=n,this.setValue(n)}getValue(n){const t={};return eu(this.source,(e,r)=>{Lge(e)?t[r]=e.getValue(n):Ia(e)?t[r]=oo(e):n||(t[r]=e)}),t}setValue(n){this.source=n,this.payload=this._makePayload(n)}reset(){this.payload&&ut(this.payload,n=>n.reset())}_makePayload(n){if(n){const t=new Set;return eu(n,this._addToPayload,t),Array.from(t)}}_addToPayload(n){db.dependencies&&Ia(n)&&db.dependencies.add(n);const t=nT(n);t&&ut(t,e=>this.add(e))}},m8=class extends iT{constructor(n){super(n)}static create(n){return new m8(n)}getValue(){return this.source.map(n=>n.getValue())}setValue(n){const t=this.getPayload();return n.length==t.length?t.map((e,r)=>e.setValue(n[r])).some(Boolean):(super.setValue(n.map(Fge)),!0)}};function Fge(n){return(rT(n)?OS:Aw).create(n)}function XL(n){const t=xl(n);return t?t.constructor:_e.arr(n)?m8:rT(n)?OS:Aw}var Wj=(n,t)=>{const e=!_e.fun(n)||n.prototype&&n.prototype.isReactComponent;return F.forwardRef((r,i)=>{const o=F.useRef(null),a=e&&F.useCallback(f=>{o.current=kge(i,f)},[i]),[s,l]=Nge(r,t),u=v8(),c=()=>{const f=o.current;if(e&&!f)return;(f?t.applyAnimatedValues(f,s.getValue(!0)):!1)===!1&&u()},d=new Ige(c,l),p=F.useRef();Ch(()=>(p.current=d,ut(l,f=>Kg(f,d)),()=>{p.current&&(ut(p.current.deps,f=>ES(f,p.current)),ot.cancel(p.current.update))})),F.useEffect(c,[]),g8(()=>()=>{const f=p.current;ut(f.deps,v=>ES(v,f))});const h=t.getComponentProps(s.getValue());return F.createElement(n,{...h,ref:a})})},Ige=class{constructor(n,t){this.update=n,this.deps=t}eventObserved(n){n.type=="change"&&ot.write(this.update)}};function Nge(n,t){const e=new Set;return db.dependencies=e,n.style&&(n={...n,style:t.createAnimatedStyle(n.style)}),n=new iT(n),db.dependencies=null,[n,e]}function kge(n,t){return n&&(_e.fun(n)?n(t):n.current=t),t}var Uj=Symbol.for("AnimatedComponent"),Gge=(n,{applyAnimatedValues:t=()=>!1,createAnimatedStyle:e=i=>new iT(i),getComponentProps:r=i=>i}={})=>{const i={applyAnimatedValues:t,createAnimatedStyle:e,getComponentProps:r},o=a=>{const s=zj(a)||"Anonymous";return _e.str(a)?a=o[a]||(o[a]=Wj(a,i)):a=a[Uj]||(a[Uj]=Wj(a,i)),a.displayName=`Animated(${s})`,a};return eu(n,(a,s)=>{_e.arr(n)&&(s=zj(a)),o[s]=o(a)}),{animated:o}},zj=n=>_e.str(n)?n:n&&_e.str(n.displayName)?n.displayName:_e.fun(n)&&n.name||null;function ao(n,...t){return _e.fun(n)?n(...t):n}var RC=(n,t)=>n===!0||!!(t&&n&&(_e.fun(n)?n(t):Li(n).includes(t))),C8=(n,t)=>_e.obj(n)?t&&n[t]:n,S8=(n,t)=>n.default===!0?n[t]:n.default?n.default[t]:void 0,Vge=n=>n,qN=(n,t=Vge)=>{let e=Bge;n.default&&n.default!==!0&&(n=n.default,e=Object.keys(n));const r={};for(const i of e){const o=t(n[i],i);_e.und(o)||(r[i]=o)}return r},Bge=["config","onProps","onStart","onChange","onPause","onResume","onRest"],Hge={config:1,from:1,to:1,ref:1,loop:1,reset:1,pause:1,cancel:1,reverse:1,immediate:1,default:1,delay:1,onProps:1,onStart:1,onChange:1,onPause:1,onResume:1,onRest:1,onResolve:1,items:1,trail:1,sort:1,expires:1,initial:1,enter:1,update:1,leave:1,children:1,onDestroyed:1,keys:1,callId:1,parentId:1};function jge(n){const t={};let e=0;if(eu(n,(r,i)=>{Hge[i]||(t[i]=r,e++)}),e)return t}function ZN(n){const t=jge(n);if(t){const e={to:t};return eu(n,(r,i)=>i in t||(e[i]=r)),e}return{...n}}function RS(n){return n=oo(n),_e.arr(n)?n.map(RS):rT(n)?es.createStringInterpolator({range:[0,1],output:[n,n]})(1):n}function $ge(n){for(const t in n)return!0;return!1}function qL(n){return _e.fun(n)||_e.arr(n)&&_e.obj(n[0])}function Kj(n,t){var e;(e=n.ref)==null||e.delete(n),t==null||t.delete(n)}function Wge(n,t){var e;t&&n.ref!==t&&((e=n.ref)==null||e.delete(n),t.add(n),n.ref=t)}var Uge={default:{tension:170,friction:26},gentle:{tension:120,friction:14},wobbly:{tension:180,friction:12},stiff:{tension:210,friction:20},slow:{tension:280,friction:60},molasses:{tension:280,friction:120}},ZL={...Uge.default,mass:1,damping:1,easing:yge.linear,clamp:!1},zge=class{constructor(){this.velocity=0,Object.assign(this,ZL)}};function Kge(n,t,e){e&&(e={...e},Yj(e,t),t={...e,...t}),Yj(n,t),Object.assign(n,t);for(const a in ZL)n[a]==null&&(n[a]=ZL[a]);let{frequency:r,damping:i}=n;const{mass:o}=n;return _e.und(r)||(r<.01&&(r=.01),i<0&&(i=0),n.tension=Math.pow(2*Math.PI/r,2)*o,n.friction=4*Math.PI*i*o/r),n}function Yj(n,t){if(!_e.und(t.decay))n.duration=void 0;else{const e=!_e.und(t.tension)||!_e.und(t.friction);(e||!_e.und(t.frequency)||!_e.und(t.damping)||!_e.und(t.mass))&&(n.duration=void 0,n.decay=void 0),e&&(n.frequency=void 0)}}var Xj=[],Yge=class{constructor(){this.changed=!1,this.values=Xj,this.toValues=null,this.fromValues=Xj,this.config=new zge,this.immediate=!1}};function w8(n,{key:t,props:e,defaultProps:r,state:i,actions:o}){return new Promise((a,s)=>{let l,u,c=RC(e.cancel??(r==null?void 0:r.cancel),t);if(c)h();else{_e.und(e.pause)||(i.paused=RC(e.pause,t));let f=r==null?void 0:r.pause;f!==!0&&(f=i.paused||RC(f,t)),l=ao(e.delay||0,t),f?(i.resumeQueue.add(p),o.pause()):(o.resume(),p())}function d(){i.resumeQueue.add(p),i.timeouts.delete(u),u.cancel(),l=u.time-ot.now()}function p(){l>0&&!es.skipAnimation?(i.delayed=!0,u=ot.setTimeout(h,l),i.pauseQueue.add(d),i.timeouts.add(u)):h()}function h(){i.delayed&&(i.delayed=!1),i.pauseQueue.delete(d),i.timeouts.delete(u),n<=(i.cancelId||0)&&(c=!0);try{o.start({...e,callId:n,cancel:c},a)}catch(f){s(f)}}})}var QN=(n,t)=>t.length==1?t[0]:t.some(e=>e.cancelled)?Zv(n.get()):t.every(e=>e.noop)?_8(n.get()):_s(n.get(),t.every(e=>e.finished)),_8=n=>({value:n,noop:!0,finished:!0,cancelled:!1}),_s=(n,t,e=!1)=>({value:n,finished:t,cancelled:e}),Zv=n=>({value:n,cancelled:!0,finished:!1});function x8(n,t,e,r){const{callId:i,parentId:o,onRest:a}=t,{asyncTo:s,promise:l}=e;return!o&&n===s&&!t.reset?l:e.promise=(async()=>{e.asyncId=i,e.asyncTo=n;const u=qN(t,(g,y)=>y==="onRest"?void 0:g);let c,d;const p=new Promise((g,y)=>(c=g,d=y)),h=g=>{const y=i<=(e.cancelId||0)&&Zv(r)||i!==e.asyncId&&_s(r,!1);if(y)throw g.result=y,d(g),g},f=(g,y)=>{const m=new qj,C=new Zj;return(async()=>{if(es.skipAnimation)throw TS(e),C.result=_s(r,!1),d(C),C;h(m);const S=_e.obj(g)?{...g}:{...y,to:g};S.parentId=i,eu(u,(_,x)=>{_e.und(S[x])&&(S[x]=_)});const w=await r.start(S);return h(m),e.paused&&await new Promise(_=>{e.resumeQueue.add(_)}),w})()};let v;if(es.skipAnimation)return TS(e),_s(r,!1);try{let g;_e.arr(n)?g=(async y=>{for(const m of y)await f(m)})(n):g=Promise.resolve(n(f,r.stop.bind(r))),await Promise.all([g.then(c),p]),v=_s(r.get(),!0,!1)}catch(g){if(g instanceof qj)v=g.result;else if(g instanceof Zj)v=g.result;else throw g}finally{i==e.asyncId&&(e.asyncId=o,e.asyncTo=o?s:void 0,e.promise=o?l:void 0)}return _e.fun(a)&&ot.batchedUpdates(()=>{a(v,r,r.item)}),v})()}function TS(n,t){bC(n.timeouts,e=>e.cancel()),n.pauseQueue.clear(),n.resumeQueue.clear(),n.asyncId=n.asyncTo=n.promise=void 0,t&&(n.cancelId=t)}var qj=class extends Error{constructor(){super("An async animation has been interrupted. You see this error because you forgot to use `await` or `.catch(...)` on its returned promise.")}},Zj=class extends Error{constructor(){super("SkipAnimationSignal")}},QL=n=>n instanceof JN,Xge=1,JN=class extends c8{constructor(){super(...arguments),this.id=Xge++,this._priority=0}get priority(){return this._priority}set priority(n){this._priority!=n&&(this._priority=n,this._onPriorityChange(n))}get(){const n=xl(this);return n&&n.getValue()}to(...n){return es.to(this,n)}interpolate(...n){return bge(),es.to(this,n)}toJSON(){return this.get()}observerAdded(n){n==1&&this._attach()}observerRemoved(n){n==0&&this._detach()}_attach(){}_detach(){}_onChange(n,t=!1){xS(this,{type:"change",parent:this,value:n,idle:t})}_onPriorityChange(n){this.idle||JR.sort(this),xS(this,{type:"priority",parent:this,priority:n})}},qh=Symbol.for("SpringPhase"),E8=1,JL=2,eF=4,uA=n=>(n[qh]&E8)>0,Mc=n=>(n[qh]&JL)>0,Py=n=>(n[qh]&eF)>0,Qj=(n,t)=>t?n[qh]|=JL|E8:n[qh]&=~JL,Jj=(n,t)=>t?n[qh]|=eF:n[qh]&=~eF,qge=class extends JN{constructor(n,t){if(super(),this.animation=new Yge,this.defaultProps={},this._state={paused:!1,delayed:!1,pauseQueue:new Set,resumeQueue:new Set,timeouts:new Set},this._pendingCalls=new Set,this._lastCallId=0,this._lastToId=0,this._memoizedDuration=0,!_e.und(n)||!_e.und(t)){const e=_e.obj(n)?{...n}:{...t,from:n};_e.und(e.default)&&(e.default=!0),this.start(e)}}get idle(){return!(Mc(this)||this._state.asyncTo)||Py(this)}get goal(){return oo(this.animation.to)}get velocity(){const n=xl(this);return n instanceof Aw?n.lastVelocity||0:n.getPayload().map(t=>t.lastVelocity||0)}get hasAnimated(){return uA(this)}get isAnimating(){return Mc(this)}get isPaused(){return Py(this)}get isDelayed(){return this._state.delayed}advance(n){let t=!0,e=!1;const r=this.animation;let{toValues:i}=r;const{config:o}=r,a=nT(r.to);!a&&Ia(r.to)&&(i=Li(oo(r.to))),r.values.forEach((u,c)=>{if(u.done)return;const d=u.constructor==OS?1:a?a[c].lastPosition:i[c];let p=r.immediate,h=d;if(!p){if(h=u.lastPosition,o.tension<=0){u.done=!0;return}let f=u.elapsedTime+=n;const v=r.fromValues[c],g=u.v0!=null?u.v0:u.v0=_e.arr(o.velocity)?o.velocity[c]:o.velocity;let y;const m=o.precision||(v==d?.005:Math.min(1,Math.abs(d-v)*.001));if(_e.und(o.duration))if(o.decay){const C=o.decay===!0?.998:o.decay,S=Math.exp(-(1-C)*f);h=v+g/(1-C)*(1-S),p=Math.abs(u.lastPosition-h)<=m,y=g*S}else{y=u.lastVelocity==null?g:u.lastVelocity;const C=o.restVelocity||m/10,S=o.clamp?0:o.bounce,w=!_e.und(S),_=v==d?u.v0>0:v<d;let x,b=!1;const O=1,P=Math.ceil(n/O);for(let D=0;D<P&&(x=Math.abs(y)>C,!(!x&&(p=Math.abs(d-h)<=m,p)));++D){w&&(b=h==d||h>d==_,b&&(y=-y*S,h=d));const N=-o.tension*1e-6*(h-d),L=-o.friction*.001*y,I=(N+L)/o.mass;y=y+I*O,h=h+y*O}}else{let C=1;o.duration>0&&(this._memoizedDuration!==o.duration&&(this._memoizedDuration=o.duration,u.durationProgress>0&&(u.elapsedTime=o.duration*u.durationProgress,f=u.elapsedTime+=n)),C=(o.progress||0)+f/this._memoizedDuration,C=C>1?1:C<0?0:C,u.durationProgress=C),h=v+o.easing(C)*(d-v),y=(h-u.lastPosition)/n,p=C==1}u.lastVelocity=y,Number.isNaN(h)&&(console.warn("Got NaN while animating:",this),p=!0)}a&&!a[c].done&&(p=!1),p?u.done=!0:t=!1,u.setValue(h,o.round)&&(e=!0)});const s=xl(this),l=s.getValue();if(t){const u=oo(r.to);(l!==u||e)&&!o.decay?(s.setValue(u),this._onChange(u)):e&&o.decay&&this._onChange(l),this._stop()}else e&&this._onChange(l)}set(n){return ot.batchedUpdates(()=>{this._stop(),this._focus(n),this._set(n)}),this}pause(){this._update({pause:!0})}resume(){this._update({pause:!1})}finish(){if(Mc(this)){const{to:n,config:t}=this.animation;ot.batchedUpdates(()=>{this._onStart(),t.decay||this._set(n,!1),this._stop()})}return this}update(n){return(this.queue||(this.queue=[])).push(n),this}start(n,t){let e;return _e.und(n)?(e=this.queue||[],this.queue=[]):e=[_e.obj(n)?n:{...t,to:n}],Promise.all(e.map(r=>this._update(r))).then(r=>QN(this,r))}stop(n){const{to:t}=this.animation;return this._focus(this.get()),TS(this._state,n&&this._lastCallId),ot.batchedUpdates(()=>this._stop(t,n)),this}reset(){this._update({reset:!0})}eventObserved(n){n.type=="change"?this._start():n.type=="priority"&&(this.priority=n.priority+1)}_prepareNode(n){const t=this.key||"";let{to:e,from:r}=n;e=_e.obj(e)?e[t]:e,(e==null||qL(e))&&(e=void 0),r=_e.obj(r)?r[t]:r,r==null&&(r=void 0);const i={to:e,from:r};return uA(this)||(n.reverse&&([e,r]=[r,e]),r=oo(r),_e.und(r)?xl(this)||this._set(e):this._set(r)),i}_update({...n},t){const{key:e,defaultProps:r}=this;n.default&&Object.assign(r,qN(n,(a,s)=>/^on/.test(s)?C8(a,e):a)),t3(this,n,"onProps"),Dy(this,"onProps",n,this);const i=this._prepareNode(n);if(Object.isFrozen(this))throw Error("Cannot animate a `SpringValue` object that is frozen. Did you forget to pass your component to `animated(...)` before animating its props?");const o=this._state;return w8(++this._lastCallId,{key:e,props:n,defaultProps:r,state:o,actions:{pause:()=>{Py(this)||(Jj(this,!0),Vm(o.pauseQueue),Dy(this,"onPause",_s(this,Ay(this,this.animation.to)),this))},resume:()=>{Py(this)&&(Jj(this,!1),Mc(this)&&this._resume(),Vm(o.resumeQueue),Dy(this,"onResume",_s(this,Ay(this,this.animation.to)),this))},start:this._merge.bind(this,i)}}).then(a=>{if(n.loop&&a.finished&&!(t&&a.noop)){const s=b8(n);if(s)return this._update(s,!0)}return a})}_merge(n,t,e){if(t.cancel)return this.stop(!0),e(Zv(this));const r=!_e.und(n.to),i=!_e.und(n.from);if(r||i)if(t.callId>this._lastToId)this._lastToId=t.callId;else return e(Zv(this));const{key:o,defaultProps:a,animation:s}=this,{to:l,from:u}=s;let{to:c=l,from:d=u}=n;i&&!r&&(!t.default||_e.und(c))&&(c=d),t.reverse&&([c,d]=[d,c]);const p=!Au(d,u);p&&(s.from=d),d=oo(d);const h=!Au(c,l);h&&this._focus(c);const f=qL(t.to),{config:v}=s,{decay:g,velocity:y}=v;(r||i)&&(v.velocity=0),t.config&&!f&&Kge(v,ao(t.config,o),t.config!==a.config?ao(a.config,o):void 0);let m=xl(this);if(!m||_e.und(c))return e(_s(this,!0));const C=_e.und(t.reset)?i&&!t.default:!_e.und(d)&&RC(t.reset,o),S=C?d:this.get(),w=RS(c),_=_e.num(w)||_e.arr(w)||rT(w),x=!f&&(!_||RC(a.immediate||t.immediate,o));if(h){const D=XL(c);if(D!==m.constructor)if(x)m=this._set(w);else throw Error(`Cannot animate between ${m.constructor.name} and ${D.name}, as the "to" prop suggests`)}const b=m.constructor;let O=Ia(c),P=!1;if(!O){const D=C||!uA(this)&&p;(h||D)&&(P=Au(RS(S),w),O=!P),(!Au(s.immediate,x)&&!x||!Au(v.decay,g)||!Au(v.velocity,y))&&(O=!0)}if(P&&Mc(this)&&(s.changed&&!C?O=!0:O||this._stop(l)),!f&&((O||Ia(l))&&(s.values=m.getPayload(),s.toValues=Ia(c)?null:b==OS?[1]:Li(w)),s.immediate!=x&&(s.immediate=x,!x&&!C&&this._set(l)),O)){const{onRest:D}=s;ut(Zge,L=>t3(this,t,L));const N=_s(this,Ay(this,l));Vm(this._pendingCalls,N),this._pendingCalls.add(e),s.changed&&ot.batchedUpdates(()=>{var L;s.changed=!C,D==null||D(N,this),C?ao(a.onRest,N):(L=s.onStart)==null||L.call(s,N,this)})}C&&this._set(S),f?e(x8(t.to,t,this._state,this)):O?this._start():Mc(this)&&!h?this._pendingCalls.add(e):e(_8(S))}_focus(n){const t=this.animation;n!==t.to&&(jj(this)&&this._detach(),t.to=n,jj(this)&&this._attach())}_attach(){let n=0;const{to:t}=this.animation;Ia(t)&&(Kg(t,this),QL(t)&&(n=t.priority+1)),this.priority=n}_detach(){const{to:n}=this.animation;Ia(n)&&ES(n,this)}_set(n,t=!0){const e=oo(n);if(!_e.und(e)){const r=xl(this);if(!r||!Au(e,r.getValue())){const i=XL(e);!r||r.constructor!=i?XN(this,i.create(e)):r.setValue(e),r&&ot.batchedUpdates(()=>{this._onChange(e,t)})}}return xl(this)}_onStart(){const n=this.animation;n.changed||(n.changed=!0,Dy(this,"onStart",_s(this,Ay(this,n.to)),this))}_onChange(n,t){t||(this._onStart(),ao(this.animation.onChange,n,this)),ao(this.defaultProps.onChange,n,this),super._onChange(n,t)}_start(){const n=this.animation;xl(this).reset(oo(n.to)),n.immediate||(n.fromValues=n.values.map(t=>t.lastPosition)),Mc(this)||(Qj(this,!0),Py(this)||this._resume())}_resume(){es.skipAnimation?this.finish():JR.start(this)}_stop(n,t){if(Mc(this)){Qj(this,!1);const e=this.animation;ut(e.values,i=>{i.done=!0}),e.toValues&&(e.onChange=e.onPause=e.onResume=void 0),xS(this,{type:"idle",parent:this});const r=t?Zv(this.get()):_s(this.get(),Ay(this,n??e.to));Vm(this._pendingCalls,r),e.changed&&(e.changed=!1,Dy(this,"onRest",r,this))}}};function Ay(n,t){const e=RS(t),r=RS(n.get());return Au(r,e)}function b8(n,t=n.loop,e=n.to){const r=ao(t);if(r){const i=r!==!0&&ZN(r),o=(i||n).reverse,a=!i||i.reset;return pb({...n,loop:t,default:!1,pause:void 0,to:!o||qL(e)?e:void 0,from:a?n.from:void 0,reset:a,...i})}}function pb(n){const{to:t,from:e}=n=ZN(n),r=new Set;return _e.obj(t)&&e3(t,r),_e.obj(e)&&e3(e,r),n.keys=r.size?Array.from(r):null,n}function e3(n,t){eu(n,(e,r)=>e!=null&&t.add(r))}var Zge=["onStart","onRest","onChange","onPause","onResume"];function t3(n,t,e){n.animation[e]=t[e]!==S8(t,e)?C8(t[e],n.key):void 0}function Dy(n,t,...e){var r,i,o,a;(i=(r=n.animation)[t])==null||i.call(r,...e),(a=(o=n.defaultProps)[t])==null||a.call(o,...e)}var Qge=["onStart","onChange","onRest"],Jge=1,eye=class{constructor(n,t){this.id=Jge++,this.springs={},this.queue=[],this._lastAsyncId=0,this._active=new Set,this._changed=new Set,this._started=!1,this._state={paused:!1,pauseQueue:new Set,resumeQueue:new Set,timeouts:new Set},this._events={onStart:new Map,onChange:new Map,onRest:new Map},this._onFrame=this._onFrame.bind(this),t&&(this._flush=t),n&&this.start({default:!0,...n})}get idle(){return!this._state.asyncTo&&Object.values(this.springs).every(n=>n.idle&&!n.isDelayed&&!n.isPaused)}get item(){return this._item}set item(n){this._item=n}get(){const n={};return this.each((t,e)=>n[e]=t.get()),n}set(n){for(const t in n){const e=n[t];_e.und(e)||this.springs[t].set(e)}}update(n){return n&&this.queue.push(pb(n)),this}start(n){let{queue:t}=this;return n?t=Li(n).map(pb):this.queue=[],this._flush?this._flush(this,t):(P8(this,t),tye(this,t))}stop(n,t){if(n!==!!n&&(t=n),t){const e=this.springs;ut(Li(t),r=>e[r].stop(!!n))}else TS(this._state,this._lastAsyncId),this.each(e=>e.stop(!!n));return this}pause(n){if(_e.und(n))this.start({pause:!0});else{const t=this.springs;ut(Li(n),e=>t[e].pause())}return this}resume(n){if(_e.und(n))this.start({pause:!1});else{const t=this.springs;ut(Li(n),e=>t[e].resume())}return this}each(n){eu(this.springs,n)}_onFrame(){const{onStart:n,onChange:t,onRest:e}=this._events,r=this._active.size>0,i=this._changed.size>0;(r&&!this._started||i&&!this._started)&&(this._started=!0,bC(n,([s,l])=>{l.value=this.get(),s(l,this,this._item)}));const o=!r&&this._started,a=i||o&&e.size?this.get():null;i&&t.size&&bC(t,([s,l])=>{l.value=a,s(l,this,this._item)}),o&&(this._started=!1,bC(e,([s,l])=>{l.value=a,s(l,this,this._item)}))}eventObserved(n){if(n.type=="change")this._changed.add(n.parent),n.idle||this._active.add(n.parent);else if(n.type=="idle")this._active.delete(n.parent);else return;ot.onFrame(this._onFrame)}};function tye(n,t){return Promise.all(t.map(e=>O8(n,e))).then(e=>QN(n,e))}async function O8(n,t,e){const{keys:r,to:i,from:o,loop:a,onRest:s,onResolve:l}=t,u=_e.obj(t.default)&&t.default;a&&(t.loop=!1),i===!1&&(t.to=null),o===!1&&(t.from=null);const c=_e.arr(i)||_e.fun(i)?i:void 0;c?(t.to=void 0,t.onRest=void 0,u&&(u.onRest=void 0)):ut(Qge,v=>{const g=t[v];if(_e.fun(g)){const y=n._events[v];t[v]=({finished:m,cancelled:C})=>{const S=y.get(g);S?(m||(S.finished=!1),C&&(S.cancelled=!0)):y.set(g,{value:null,finished:m||!1,cancelled:C||!1})},u&&(u[v]=t[v])}});const d=n._state;t.pause===!d.paused?(d.paused=t.pause,Vm(t.pause?d.pauseQueue:d.resumeQueue)):d.paused&&(t.pause=!0);const p=(r||Object.keys(n.springs)).map(v=>n.springs[v].start(t)),h=t.cancel===!0||S8(t,"cancel")===!0;(c||h&&d.asyncId)&&p.push(w8(++n._lastAsyncId,{props:t,state:d,actions:{pause:KL,resume:KL,start(v,g){h?(TS(d,n._lastAsyncId),g(Zv(n))):(v.onRest=s,g(x8(c,v,d,n)))}}})),d.paused&&await new Promise(v=>{d.resumeQueue.add(v)});const f=QN(n,await Promise.all(p));if(a&&f.finished&&!(e&&f.noop)){const v=b8(t,a,i);if(v)return P8(n,[v]),O8(n,v,!0)}return l&&ot.batchedUpdates(()=>l(f,n,n.item)),f}function rye(n,t){const e={...n.springs};return t&&ut(Li(t),r=>{_e.und(r.keys)&&(r=pb(r)),_e.obj(r.to)||(r={...r,to:void 0}),T8(e,r,i=>R8(i))}),nye(n,e),e}function nye(n,t){eu(t,(e,r)=>{n.springs[r]||(n.springs[r]=e,Kg(e,n))})}function R8(n,t){const e=new qge;return e.key=n,t&&Kg(e,t),e}function T8(n,t,e){t.keys&&ut(t.keys,r=>{(n[r]||(n[r]=e(r)))._prepareNode(t)})}function P8(n,t){ut(t,e=>{T8(n.springs,e,r=>R8(r,n))})}var oT=({children:n,...t})=>{const e=F.useContext(hb),r=t.pause||!!e.pause,i=t.immediate||!!e.immediate;t=Pge(()=>({pause:r,immediate:i}),[r,i]);const{Provider:o}=hb;return F.createElement(o,{value:t},n)},hb=iye(oT,{});oT.Provider=hb.Provider;oT.Consumer=hb.Consumer;function iye(n,t){return Object.assign(n,F.createContext(t)),n.Provider._context=n,n.Consumer._context=n,n}var oye=()=>{const n=[],t=function(r){Rge();const i=[];return ut(n,(o,a)=>{if(_e.und(r))i.push(o.start());else{const s=e(r,o,a);s&&i.push(o.start(s))}}),i};t.current=n,t.add=function(r){n.includes(r)||n.push(r)},t.delete=function(r){const i=n.indexOf(r);~i&&n.splice(i,1)},t.pause=function(){return ut(n,r=>r.pause(...arguments)),this},t.resume=function(){return ut(n,r=>r.resume(...arguments)),this},t.set=function(r){ut(n,(i,o)=>{const a=_e.fun(r)?r(o,i):r;a&&i.set(a)})},t.start=function(r){const i=[];return ut(n,(o,a)=>{if(_e.und(r))i.push(o.start());else{const s=this._getProps(r,o,a);s&&i.push(o.start(s))}}),i},t.stop=function(){return ut(n,r=>r.stop(...arguments)),this},t.update=function(r){return ut(n,(i,o)=>i.update(this._getProps(r,i,o))),this};const e=function(r,i,o){return _e.fun(r)?r(o,i):r};return t._getProps=e,t};function ek(n,t,e){const r=_e.fun(t)&&t,{reset:i,sort:o,trail:a=0,expires:s=!0,exitBeforeEnter:l=!1,onDestroyed:u,ref:c,config:d}=r?r():t,p=F.useMemo(()=>r||arguments.length==3?oye():void 0,[]),h=Li(n),f=[],v=F.useRef(null),g=i?null:v.current;Ch(()=>{v.current=f}),g8(()=>(ut(f,I=>{p==null||p.add(I.ctrl),I.ctrl.ref=p}),()=>{ut(v.current,I=>{I.expired&&clearTimeout(I.expirationId),Kj(I.ctrl,p),I.ctrl.stop(!0)})}));const y=sye(h,r?r():t,g),m=i&&v.current||[];Ch(()=>ut(m,({ctrl:I,item:k,key:H})=>{Kj(I,p),ao(u,k,H)}));const C=[];if(g&&ut(g,(I,k)=>{I.expired?(clearTimeout(I.expirationId),m.push(I)):(k=C[k]=y.indexOf(I.key),~k&&(f[k]=I))}),ut(h,(I,k)=>{f[k]||(f[k]={key:y[k],item:I,phase:"mount",ctrl:new eye},f[k].ctrl.item=I)}),C.length){let I=-1;const{leave:k}=r?r():t;ut(C,(H,$)=>{const V=g[$];~H?(I=f.indexOf(V),f[I]={...V,item:h[H]}):k&&f.splice(++I,0,V)})}_e.fun(o)&&f.sort((I,k)=>o(I.item,k.item));let S=-a;const w=v8(),_=qN(t),x=new Map,b=F.useRef(new Map),O=F.useRef(!1);ut(f,(I,k)=>{const H=I.key,$=I.phase,V=r?r():t;let W,K;const Z=ao(V.delay||0,H);if($=="mount")W=V.enter,K="enter";else{const se=y.indexOf(H)<0;if($!="leave")if(se)W=V.leave,K="leave";else if(W=V.update)K="update";else return;else if(!se)W=V.enter,K="enter";else return}if(W=ao(W,I.item,k),W=_e.obj(W)?ZN(W):{to:W},!W.config){const se=d||_.config;W.config=ao(se,I.item,k,K)}S+=a;const Q={..._,delay:Z+S,ref:c,immediate:V.immediate,reset:!1,...W};if(K=="enter"&&_e.und(Q.from)){const se=r?r():t,q=_e.und(se.initial)||g?se.from:se.initial;Q.from=ao(q,I.item,k)}const{onResolve:ce}=Q;Q.onResolve=se=>{ao(ce,se);const q=v.current,he=q.find(be=>be.key===H);if(he&&!(se.cancelled&&he.phase!="update")&&he.ctrl.idle){const be=q.every(ee=>ee.ctrl.idle);if(he.phase=="leave"){const ee=ao(s,he.item);if(ee!==!1){const Se=ee===!0?0:ee;if(he.expired=!0,!be&&Se>0){Se<=2147483647&&(he.expirationId=setTimeout(w,Se));return}}}be&&q.some(ee=>ee.expired)&&(b.current.delete(he),l&&(O.current=!0),w())}};const ue=rye(I.ctrl,Q);K==="leave"&&l?b.current.set(I,{phase:K,springs:ue,payload:Q}):x.set(I,{phase:K,springs:ue,payload:Q})});const P=F.useContext(oT),D=Mge(P),N=P!==D&&$ge(P);Ch(()=>{N&&ut(f,I=>{I.ctrl.start({default:P})})},[P]),ut(x,(I,k)=>{if(b.current.size){const H=f.findIndex($=>$.key===k.key);f.splice(H,1)}}),Ch(()=>{ut(b.current.size?b.current:x,({phase:I,payload:k},H)=>{const{ctrl:$}=H;H.phase=I,p==null||p.add($),N&&I=="enter"&&$.start({default:P}),k&&(Wge($,k.ref),($.ref||p)&&!O.current?$.update(k):($.start(k),O.current&&(O.current=!1)))})},i?void 0:e);const L=I=>F.createElement(F.Fragment,null,f.map((k,H)=>{const{springs:$}=x.get(k)||k.ctrl,V=I({...$},k.item,k,H);return V&&V.type?F.createElement(V.type,{...V.props,key:_e.str(k.key)||_e.num(k.key)?k.key:k.ctrl.id,ref:V.ref}):V}));return p?[L,p]:L}var aye=1;function sye(n,{key:t,keys:e=t},r){if(e===null){const i=new Set;return n.map(o=>{const a=r&&r.find(s=>s.item===o&&s.phase!=="leave"&&!i.has(s));return a?(i.add(a),a.key):aye++})}return _e.und(e)?n:_e.fun(e)?n.map(e):Li(e)}var A8=class extends JN{constructor(n,t){super(),this.source=n,this.idle=!0,this._active=new Set,this.calc=wS(...t);const e=this._get(),r=XL(e);XN(this,r.create(e))}advance(n){const t=this._get(),e=this.get();Au(t,e)||(xl(this).setValue(t),this._onChange(t,this.idle)),!this.idle&&r3(this._active)&&cA(this)}_get(){const n=_e.arr(this.source)?this.source.map(oo):Li(oo(this.source));return this.calc(...n)}_start(){this.idle&&!r3(this._active)&&(this.idle=!1,ut(nT(this),n=>{n.done=!1}),es.skipAnimation?(ot.batchedUpdates(()=>this.advance()),cA(this)):JR.start(this))}_attach(){let n=1;ut(Li(this.source),t=>{Ia(t)&&Kg(t,this),QL(t)&&(t.idle||this._active.add(t),n=Math.max(n,t.priority+1))}),this.priority=n,this._start()}_detach(){ut(Li(this.source),n=>{Ia(n)&&ES(n,this)}),this._active.clear(),cA(this)}eventObserved(n){n.type=="change"?n.idle?this.advance():(this._active.add(n.parent),this._start()):n.type=="idle"?this._active.delete(n.parent):n.type=="priority"&&(this.priority=Li(this.source).reduce((t,e)=>Math.max(t,(QL(e)?e.priority:0)+1),0))}};function lye(n){return n.idle!==!1}function r3(n){return!n.size||Array.from(n).every(lye)}function cA(n){n.idle||(n.idle=!0,ut(nT(n),t=>{t.done=!0}),xS(n,{type:"idle",parent:n}))}var tF=(n,...t)=>new A8(n,t);es.assign({createStringInterpolator:h8,to:(n,t)=>new A8(n,t)});var D8=/^--/;function uye(n,t){return t==null||typeof t=="boolean"||t===""?"":typeof t=="number"&&t!==0&&!D8.test(n)&&!(TC.hasOwnProperty(n)&&TC[n])?t+"px":(""+t).trim()}var n3={};function cye(n,t){if(!n.nodeType||!n.setAttribute)return!1;const e=n.nodeName==="filter"||n.parentNode&&n.parentNode.nodeName==="filter",{style:r,children:i,scrollTop:o,scrollLeft:a,viewBox:s,...l}=t,u=Object.values(l),c=Object.keys(l).map(d=>e||n.hasAttribute(d)?d:n3[d]||(n3[d]=d.replace(/([A-Z])/g,p=>"-"+p.toLowerCase())));i!==void 0&&(n.textContent=i);for(const d in r)if(r.hasOwnProperty(d)){const p=uye(d,r[d]);D8.test(d)?n.style.setProperty(d,p):n.style[d]=p}c.forEach((d,p)=>{n.setAttribute(d,u[p])}),o!==void 0&&(n.scrollTop=o),a!==void 0&&(n.scrollLeft=a),s!==void 0&&n.setAttribute("viewBox",s)}var TC={animationIterationCount:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},dye=(n,t)=>n+t.charAt(0).toUpperCase()+t.substring(1),pye=["Webkit","Ms","Moz","O"];TC=Object.keys(TC).reduce((n,t)=>(pye.forEach(e=>n[dye(e,t)]=n[t]),n),TC);var hye=/^(matrix|translate|scale|rotate|skew)/,fye=/^(translate)/,vye=/^(rotate|skew)/,dA=(n,t)=>_e.num(n)&&n!==0?n+t:n,qx=(n,t)=>_e.arr(n)?n.every(e=>qx(e,t)):_e.num(n)?n===t:parseFloat(n)===t,gye=class extends iT{constructor({x:n,y:t,z:e,...r}){const i=[],o=[];(n||t||e)&&(i.push([n||0,t||0,e||0]),o.push(a=>[`translate3d(${a.map(s=>dA(s,"px")).join(",")})`,qx(a,0)])),eu(r,(a,s)=>{if(s==="transform")i.push([a||""]),o.push(l=>[l,l===""]);else if(hye.test(s)){if(delete r[s],_e.und(a))return;const l=fye.test(s)?"px":vye.test(s)?"deg":"";i.push(Li(a)),o.push(s==="rotate3d"?([u,c,d,p])=>[`rotate3d(${u},${c},${d},${dA(p,l)})`,qx(p,0)]:u=>[`${s}(${u.map(c=>dA(c,l)).join(",")})`,qx(u,s.startsWith("scale")?1:0)])}}),i.length&&(r.transform=new yye(i,o)),super(r)}},yye=class extends c8{constructor(n,t){super(),this.inputs=n,this.transforms=t,this._value=null}get(){return this._value||(this._value=this._get())}_get(){let n="",t=!0;return ut(this.inputs,(e,r)=>{const i=oo(e[0]),[o,a]=this.transforms[r](_e.arr(i)?i:e.map(oo));n+=" "+o,t=t&&a}),t?"none":n}observerAdded(n){n==1&&ut(this.inputs,t=>ut(t,e=>Ia(e)&&Kg(e,this)))}observerRemoved(n){n==0&&ut(this.inputs,t=>ut(t,e=>Ia(e)&&ES(e,this)))}eventObserved(n){n.type=="change"&&(this._value=null),xS(this,n)}},mye=["a","abbr","address","area","article","aside","audio","b","base","bdi","bdo","big","blockquote","body","br","button","canvas","caption","cite","code","col","colgroup","data","datalist","dd","del","details","dfn","dialog","div","dl","dt","em","embed","fieldset","figcaption","figure","footer","form","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","html","i","iframe","img","input","ins","kbd","keygen","label","legend","li","link","main","map","mark","menu","menuitem","meta","meter","nav","noscript","object","ol","optgroup","option","output","p","param","picture","pre","progress","q","rp","rt","ruby","s","samp","script","section","select","small","source","span","strong","style","sub","summary","sup","table","tbody","td","textarea","tfoot","th","thead","time","title","tr","track","u","ul","var","video","wbr","circle","clipPath","defs","ellipse","foreignObject","g","image","line","linearGradient","mask","path","pattern","polygon","polyline","radialGradient","rect","stop","svg","text","tspan"];es.assign({batchedUpdates:uf.unstable_batchedUpdates,createStringInterpolator:h8,colors:ige});var Cye=Gge(mye,{applyAnimatedValues:cye,createAnimatedStyle:n=>new gye(n),getComponentProps:({scrollTop:n,scrollLeft:t,...e})=>e}),tk=Cye.animated;const Sye=()=>{Ch(()=>{const n=window.matchMedia("(prefers-reduced-motion)"),t=e=>{es.assign({skipAnimation:e.matches||void 0})};return t(n),n.addEventListener("change",t),()=>{n.removeEventListener("change",t)}},[])};function Zx(n,t){return n==null||t==null?NaN:n<t?-1:n>t?1:n>=t?0:NaN}function wye(n,t){return n==null||t==null?NaN:t<n?-1:t>n?1:t>=n?0:NaN}function rk(n){let t,e,r;n.length!==2?(t=Zx,e=(s,l)=>Zx(n(s),l),r=(s,l)=>n(s)-l):(t=n===Zx||n===wye?n:_ye,e=n,r=n);function i(s,l,u=0,c=s.length){if(u<c){if(t(l,l)!==0)return c;do{const d=u+c>>>1;e(s[d],l)<0?u=d+1:c=d}while(u<c)}return u}function o(s,l,u=0,c=s.length){if(u<c){if(t(l,l)!==0)return c;do{const d=u+c>>>1;e(s[d],l)<=0?u=d+1:c=d}while(u<c)}return u}function a(s,l,u=0,c=s.length){const d=i(s,l,u,c-1);return d>u&&r(s[d-1],l)>-r(s[d],l)?d-1:d}return{left:i,center:a,right:o}}function _ye(){return 0}function xye(n){return n===null?NaN:+n}const Eye=rk(Zx),bye=Eye.right;rk(xye).center;class i3 extends Map{constructor(t,e=Tye){if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:e}}),t!=null)for(const[r,i]of t)this.set(r,i)}get(t){return super.get(o3(this,t))}has(t){return super.has(o3(this,t))}set(t,e){return super.set(Oye(this,t),e)}delete(t){return super.delete(Rye(this,t))}}function o3({_intern:n,_key:t},e){const r=t(e);return n.has(r)?n.get(r):e}function Oye({_intern:n,_key:t},e){const r=t(e);return n.has(r)?n.get(r):(n.set(r,e),e)}function Rye({_intern:n,_key:t},e){const r=t(e);return n.has(r)&&(e=n.get(r),n.delete(r)),e}function Tye(n){return n!==null&&typeof n=="object"?n.valueOf():n}const Pye=Math.sqrt(50),Aye=Math.sqrt(10),Dye=Math.sqrt(2);function fb(n,t,e){const r=(t-n)/Math.max(0,e),i=Math.floor(Math.log10(r)),o=r/Math.pow(10,i),a=o>=Pye?10:o>=Aye?5:o>=Dye?2:1;let s,l,u;return i<0?(u=Math.pow(10,-i)/a,s=Math.round(n*u),l=Math.round(t*u),s/u<n&&++s,l/u>t&&--l,u=-u):(u=Math.pow(10,i)*a,s=Math.round(n/u),l=Math.round(t/u),s*u<n&&++s,l*u>t&&--l),l<s&&.5<=e&&e<2?fb(n,t,e*2):[s,l,u]}function rF(n,t,e){if(t=+t,n=+n,e=+e,!(e>0))return[];if(n===t)return[n];const r=t<n,[i,o,a]=r?fb(t,n,e):fb(n,t,e);if(!(o>=i))return[];const s=o-i+1,l=new Array(s);if(r)if(a<0)for(let u=0;u<s;++u)l[u]=(o-u)/-a;else for(let u=0;u<s;++u)l[u]=(o-u)*a;else if(a<0)for(let u=0;u<s;++u)l[u]=(i+u)/-a;else for(let u=0;u<s;++u)l[u]=(i+u)*a;return l}function nF(n,t,e){return t=+t,n=+n,e=+e,fb(n,t,e)[2]}function iF(n,t,e){t=+t,n=+n,e=+e;const r=t<n,i=r?nF(t,n,e):nF(n,t,e);return(r?-1:1)*(i<0?1/-i:i)}function Mye(n,t,e){n=+n,t=+t,e=(i=arguments.length)<2?(t=n,n=0,1):i<3?1:+e;for(var r=-1,i=Math.max(0,Math.ceil((t-n)/e))|0,o=new Array(i);++r<i;)o[r]=n+r*e;return o}function hf(n,t){switch(arguments.length){case 0:break;case 1:this.range(n);break;default:this.range(t).domain(n);break}return this}const a3=Symbol("implicit");function M8(){var n=new i3,t=[],e=[],r=a3;function i(o){let a=n.get(o);if(a===void 0){if(r!==a3)return r;n.set(o,a=t.push(o)-1)}return e[a%e.length]}return i.domain=function(o){if(!arguments.length)return t.slice();t=[],n=new i3;for(const a of o)n.has(a)||n.set(a,t.push(a)-1);return i},i.range=function(o){return arguments.length?(e=Array.from(o),i):e.slice()},i.unknown=function(o){return arguments.length?(r=o,i):r},i.copy=function(){return M8(t,e).unknown(r)},hf.apply(i,arguments),i}function vb(){var n=M8().unknown(void 0),t=n.domain,e=n.range,r=0,i=1,o,a,s=!1,l=0,u=0,c=.5;delete n.unknown;function d(){var p=t().length,h=i<r,f=h?i:r,v=h?r:i;o=(v-f)/Math.max(1,p-l+u*2),s&&(o=Math.floor(o)),f+=(v-f-o*(p-l))*c,a=o*(1-l),s&&(f=Math.round(f),a=Math.round(a));var g=Mye(p).map(function(y){return f+o*y});return e(h?g.reverse():g)}return n.domain=function(p){return arguments.length?(t(p),d()):t()},n.range=function(p){return arguments.length?([r,i]=p,r=+r,i=+i,d()):[r,i]},n.rangeRound=function(p){return[r,i]=p,r=+r,i=+i,s=!0,d()},n.bandwidth=function(){return a},n.step=function(){return o},n.round=function(p){return arguments.length?(s=!!p,d()):s},n.padding=function(p){return arguments.length?(l=Math.min(1,u=+p),d()):l},n.paddingInner=function(p){return arguments.length?(l=Math.min(1,p),d()):l},n.paddingOuter=function(p){return arguments.length?(u=+p,d()):u},n.align=function(p){return arguments.length?(c=Math.max(0,Math.min(1,p)),d()):c},n.copy=function(){return vb(t(),[r,i]).round(s).paddingInner(l).paddingOuter(u).align(c)},hf.apply(d(),arguments)}function L8(n){var t=n.copy;return n.padding=n.paddingOuter,delete n.paddingInner,delete n.paddingOuter,n.copy=function(){return L8(t())},n}function s3(){return L8(vb.apply(null,arguments).paddingInner(1))}function nk(n,t,e){n.prototype=t.prototype=e,e.constructor=n}function F8(n,t){var e=Object.create(n.prototype);for(var r in t)e[r]=t[r];return e}function Dw(){}var PS=.7,gb=1/PS,Qv="\\s*([+-]?\\d+)\\s*",AS="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",zl="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",Lye=/^#([0-9a-f]{3,8})$/,Fye=new RegExp(`^rgb\\(${Qv},${Qv},${Qv}\\)$`),Iye=new RegExp(`^rgb\\(${zl},${zl},${zl}\\)$`),Nye=new RegExp(`^rgba\\(${Qv},${Qv},${Qv},${AS}\\)$`),kye=new RegExp(`^rgba\\(${zl},${zl},${zl},${AS}\\)$`),Gye=new RegExp(`^hsl\\(${AS},${zl},${zl}\\)$`),Vye=new RegExp(`^hsla\\(${AS},${zl},${zl},${AS}\\)$`),l3={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};nk(Dw,ec,{copy(n){return Object.assign(new this.constructor,this,n)},displayable(){return this.rgb().displayable()},hex:u3,formatHex:u3,formatHex8:Bye,formatHsl:Hye,formatRgb:c3,toString:c3});function u3(){return this.rgb().formatHex()}function Bye(){return this.rgb().formatHex8()}function Hye(){return I8(this).formatHsl()}function c3(){return this.rgb().formatRgb()}function ec(n){var t,e;return n=(n+"").trim().toLowerCase(),(t=Lye.exec(n))?(e=t[1].length,t=parseInt(t[1],16),e===6?d3(t):e===3?new po(t>>8&15|t>>4&240,t>>4&15|t&240,(t&15)<<4|t&15,1):e===8?Y0(t>>24&255,t>>16&255,t>>8&255,(t&255)/255):e===4?Y0(t>>12&15|t>>8&240,t>>8&15|t>>4&240,t>>4&15|t&240,((t&15)<<4|t&15)/255):null):(t=Fye.exec(n))?new po(t[1],t[2],t[3],1):(t=Iye.exec(n))?new po(t[1]*255/100,t[2]*255/100,t[3]*255/100,1):(t=Nye.exec(n))?Y0(t[1],t[2],t[3],t[4]):(t=kye.exec(n))?Y0(t[1]*255/100,t[2]*255/100,t[3]*255/100,t[4]):(t=Gye.exec(n))?f3(t[1],t[2]/100,t[3]/100,1):(t=Vye.exec(n))?f3(t[1],t[2]/100,t[3]/100,t[4]):l3.hasOwnProperty(n)?d3(l3[n]):n==="transparent"?new po(NaN,NaN,NaN,0):null}function d3(n){return new po(n>>16&255,n>>8&255,n&255,1)}function Y0(n,t,e,r){return r<=0&&(n=t=e=NaN),new po(n,t,e,r)}function jye(n){return n instanceof Dw||(n=ec(n)),n?(n=n.rgb(),new po(n.r,n.g,n.b,n.opacity)):new po}function oF(n,t,e,r){return arguments.length===1?jye(n):new po(n,t,e,r??1)}function po(n,t,e,r){this.r=+n,this.g=+t,this.b=+e,this.opacity=+r}nk(po,oF,F8(Dw,{brighter(n){return n=n==null?gb:Math.pow(gb,n),new po(this.r*n,this.g*n,this.b*n,this.opacity)},darker(n){return n=n==null?PS:Math.pow(PS,n),new po(this.r*n,this.g*n,this.b*n,this.opacity)},rgb(){return this},clamp(){return new po(Mh(this.r),Mh(this.g),Mh(this.b),yb(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:p3,formatHex:p3,formatHex8:$ye,formatRgb:h3,toString:h3}));function p3(){return`#${Sh(this.r)}${Sh(this.g)}${Sh(this.b)}`}function $ye(){return`#${Sh(this.r)}${Sh(this.g)}${Sh(this.b)}${Sh((isNaN(this.opacity)?1:this.opacity)*255)}`}function h3(){const n=yb(this.opacity);return`${n===1?"rgb(":"rgba("}${Mh(this.r)}, ${Mh(this.g)}, ${Mh(this.b)}${n===1?")":`, ${n})`}`}function yb(n){return isNaN(n)?1:Math.max(0,Math.min(1,n))}function Mh(n){return Math.max(0,Math.min(255,Math.round(n)||0))}function Sh(n){return n=Mh(n),(n<16?"0":"")+n.toString(16)}function f3(n,t,e,r){return r<=0?n=t=e=NaN:e<=0||e>=1?n=t=NaN:t<=0&&(n=NaN),new Es(n,t,e,r)}function I8(n){if(n instanceof Es)return new Es(n.h,n.s,n.l,n.opacity);if(n instanceof Dw||(n=ec(n)),!n)return new Es;if(n instanceof Es)return n;n=n.rgb();var t=n.r/255,e=n.g/255,r=n.b/255,i=Math.min(t,e,r),o=Math.max(t,e,r),a=NaN,s=o-i,l=(o+i)/2;return s?(t===o?a=(e-r)/s+(e<r)*6:e===o?a=(r-t)/s+2:a=(t-e)/s+4,s/=l<.5?o+i:2-o-i,a*=60):s=l>0&&l<1?0:a,new Es(a,s,l,n.opacity)}function Wye(n,t,e,r){return arguments.length===1?I8(n):new Es(n,t,e,r??1)}function Es(n,t,e,r){this.h=+n,this.s=+t,this.l=+e,this.opacity=+r}nk(Es,Wye,F8(Dw,{brighter(n){return n=n==null?gb:Math.pow(gb,n),new Es(this.h,this.s,this.l*n,this.opacity)},darker(n){return n=n==null?PS:Math.pow(PS,n),new Es(this.h,this.s,this.l*n,this.opacity)},rgb(){var n=this.h%360+(this.h<0)*360,t=isNaN(n)||isNaN(this.s)?0:this.s,e=this.l,r=e+(e<.5?e:1-e)*t,i=2*e-r;return new po(pA(n>=240?n-240:n+120,i,r),pA(n,i,r),pA(n<120?n+240:n-120,i,r),this.opacity)},clamp(){return new Es(v3(this.h),X0(this.s),X0(this.l),yb(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const n=yb(this.opacity);return`${n===1?"hsl(":"hsla("}${v3(this.h)}, ${X0(this.s)*100}%, ${X0(this.l)*100}%${n===1?")":`, ${n})`}`}}));function v3(n){return n=(n||0)%360,n<0?n+360:n}function X0(n){return Math.max(0,Math.min(1,n||0))}function pA(n,t,e){return(n<60?t+(e-t)*n/60:n<180?e:n<240?t+(e-t)*(240-n)/60:t)*255}const ik=n=>()=>n;function Uye(n,t){return function(e){return n+e*t}}function zye(n,t,e){return n=Math.pow(n,e),t=Math.pow(t,e)-n,e=1/e,function(r){return Math.pow(n+r*t,e)}}function Kye(n){return(n=+n)==1?N8:function(t,e){return e-t?zye(t,e,n):ik(isNaN(t)?e:t)}}function N8(n,t){var e=t-n;return e?Uye(n,e):ik(isNaN(n)?t:n)}const g3=function n(t){var e=Kye(t);function r(i,o){var a=e((i=oF(i)).r,(o=oF(o)).r),s=e(i.g,o.g),l=e(i.b,o.b),u=N8(i.opacity,o.opacity);return function(c){return i.r=a(c),i.g=s(c),i.b=l(c),i.opacity=u(c),i+""}}return r.gamma=n,r}(1);function Yye(n,t){t||(t=[]);var e=n?Math.min(t.length,n.length):0,r=t.slice(),i;return function(o){for(i=0;i<e;++i)r[i]=n[i]*(1-o)+t[i]*o;return r}}function Xye(n){return ArrayBuffer.isView(n)&&!(n instanceof DataView)}function qye(n,t){var e=t?t.length:0,r=n?Math.min(e,n.length):0,i=new Array(r),o=new Array(e),a;for(a=0;a<r;++a)i[a]=ok(n[a],t[a]);for(;a<e;++a)o[a]=t[a];return function(s){for(a=0;a<r;++a)o[a]=i[a](s);return o}}function Zye(n,t){var e=new Date;return n=+n,t=+t,function(r){return e.setTime(n*(1-r)+t*r),e}}function mb(n,t){return n=+n,t=+t,function(e){return n*(1-e)+t*e}}function Qye(n,t){var e={},r={},i;(n===null||typeof n!="object")&&(n={}),(t===null||typeof t!="object")&&(t={});for(i in t)i in n?e[i]=ok(n[i],t[i]):r[i]=t[i];return function(o){for(i in e)r[i]=e[i](o);return r}}var aF=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,hA=new RegExp(aF.source,"g");function Jye(n){return function(){return n}}function eme(n){return function(t){return n(t)+""}}function tme(n,t){var e=aF.lastIndex=hA.lastIndex=0,r,i,o,a=-1,s=[],l=[];for(n=n+"",t=t+"";(r=aF.exec(n))&&(i=hA.exec(t));)(o=i.index)>e&&(o=t.slice(e,o),s[a]?s[a]+=o:s[++a]=o),(r=r[0])===(i=i[0])?s[a]?s[a]+=i:s[++a]=i:(s[++a]=null,l.push({i:a,x:mb(r,i)})),e=hA.lastIndex;return e<t.length&&(o=t.slice(e),s[a]?s[a]+=o:s[++a]=o),s.length<2?l[0]?eme(l[0].x):Jye(t):(t=l.length,function(u){for(var c=0,d;c<t;++c)s[(d=l[c]).i]=d.x(u);return s.join("")})}function ok(n,t){var e=typeof t,r;return t==null||e==="boolean"?ik(t):(e==="number"?mb:e==="string"?(r=ec(t))?(t=r,g3):tme:t instanceof ec?g3:t instanceof Date?Zye:Xye(t)?Yye:Array.isArray(t)?qye:typeof t.valueOf!="function"&&typeof t.toString!="function"||isNaN(t)?Qye:mb)(n,t)}function rme(n,t){return n=+n,t=+t,function(e){return Math.round(n*(1-e)+t*e)}}function nme(n){return function(){return n}}function ime(n){return+n}var y3=[0,1];function Il(n){return n}function sF(n,t){return(t-=n=+n)?function(e){return(e-n)/t}:nme(isNaN(t)?NaN:.5)}function ome(n,t){var e;return n>t&&(e=n,n=t,t=e),function(r){return Math.max(n,Math.min(t,r))}}function ame(n,t,e){var r=n[0],i=n[1],o=t[0],a=t[1];return i<r?(r=sF(i,r),o=e(a,o)):(r=sF(r,i),o=e(o,a)),function(s){return o(r(s))}}function sme(n,t,e){var r=Math.min(n.length,t.length)-1,i=new Array(r),o=new Array(r),a=-1;for(n[r]<n[0]&&(n=n.slice().reverse(),t=t.slice().reverse());++a<r;)i[a]=sF(n[a],n[a+1]),o[a]=e(t[a],t[a+1]);return function(s){var l=bye(n,s,1,r)-1;return o[l](i[l](s))}}function aT(n,t){return t.domain(n.domain()).range(n.range()).interpolate(n.interpolate()).clamp(n.clamp()).unknown(n.unknown())}function ak(){var n=y3,t=y3,e=ok,r,i,o,a=Il,s,l,u;function c(){var p=Math.min(n.length,t.length);return a!==Il&&(a=ome(n[0],n[p-1])),s=p>2?sme:ame,l=u=null,d}function d(p){return p==null||isNaN(p=+p)?o:(l||(l=s(n.map(r),t,e)))(r(a(p)))}return d.invert=function(p){return a(i((u||(u=s(t,n.map(r),mb)))(p)))},d.domain=function(p){return arguments.length?(n=Array.from(p,ime),c()):n.slice()},d.range=function(p){return arguments.length?(t=Array.from(p),c()):t.slice()},d.rangeRound=function(p){return t=Array.from(p),e=rme,c()},d.clamp=function(p){return arguments.length?(a=p?!0:Il,c()):a!==Il},d.interpolate=function(p){return arguments.length?(e=p,c()):e},d.unknown=function(p){return arguments.length?(o=p,d):o},function(p,h){return r=p,i=h,c()}}function k8(){return ak()(Il,Il)}function lme(n){return Math.abs(n=Math.round(n))>=1e21?n.toLocaleString("en").replace(/,/g,""):n.toString(10)}function Cb(n,t){if((e=(n=t?n.toExponential(t-1):n.toExponential()).indexOf("e"))<0)return null;var e,r=n.slice(0,e);return[r.length>1?r[0]+r.slice(2):r,+n.slice(e+1)]}function Rg(n){return n=Cb(Math.abs(n)),n?n[1]:NaN}function ume(n,t){return function(e,r){for(var i=e.length,o=[],a=0,s=n[0],l=0;i>0&&s>0&&(l+s+1>r&&(s=Math.max(1,r-l)),o.push(e.substring(i-=s,i+s)),!((l+=s+1)>r));)s=n[a=(a+1)%n.length];return o.reverse().join(t)}}function cme(n){return function(t){return t.replace(/[0-9]/g,function(e){return n[+e]})}}var dme=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function DS(n){if(!(t=dme.exec(n)))throw new Error("invalid format: "+n);var t;return new sk({fill:t[1],align:t[2],sign:t[3],symbol:t[4],zero:t[5],width:t[6],comma:t[7],precision:t[8]&&t[8].slice(1),trim:t[9],type:t[10]})}DS.prototype=sk.prototype;function sk(n){this.fill=n.fill===void 0?" ":n.fill+"",this.align=n.align===void 0?">":n.align+"",this.sign=n.sign===void 0?"-":n.sign+"",this.symbol=n.symbol===void 0?"":n.symbol+"",this.zero=!!n.zero,this.width=n.width===void 0?void 0:+n.width,this.comma=!!n.comma,this.precision=n.precision===void 0?void 0:+n.precision,this.trim=!!n.trim,this.type=n.type===void 0?"":n.type+""}sk.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(this.width===void 0?"":Math.max(1,this.width|0))+(this.comma?",":"")+(this.precision===void 0?"":"."+Math.max(0,this.precision|0))+(this.trim?"~":"")+this.type};function pme(n){e:for(var t=n.length,e=1,r=-1,i;e<t;++e)switch(n[e]){case".":r=i=e;break;case"0":r===0&&(r=e),i=e;break;default:if(!+n[e])break e;r>0&&(r=0);break}return r>0?n.slice(0,r)+n.slice(i+1):n}var G8;function hme(n,t){var e=Cb(n,t);if(!e)return n+"";var r=e[0],i=e[1],o=i-(G8=Math.max(-8,Math.min(8,Math.floor(i/3)))*3)+1,a=r.length;return o===a?r:o>a?r+new Array(o-a+1).join("0"):o>0?r.slice(0,o)+"."+r.slice(o):"0."+new Array(1-o).join("0")+Cb(n,Math.max(0,t+o-1))[0]}function m3(n,t){var e=Cb(n,t);if(!e)return n+"";var r=e[0],i=e[1];return i<0?"0."+new Array(-i).join("0")+r:r.length>i+1?r.slice(0,i+1)+"."+r.slice(i+1):r+new Array(i-r.length+2).join("0")}const C3={"%":(n,t)=>(n*100).toFixed(t),b:n=>Math.round(n).toString(2),c:n=>n+"",d:lme,e:(n,t)=>n.toExponential(t),f:(n,t)=>n.toFixed(t),g:(n,t)=>n.toPrecision(t),o:n=>Math.round(n).toString(8),p:(n,t)=>m3(n*100,t),r:m3,s:hme,X:n=>Math.round(n).toString(16).toUpperCase(),x:n=>Math.round(n).toString(16)};function S3(n){return n}var w3=Array.prototype.map,_3=["y","z","a","f","p","n","µ","m","","k","M","G","T","P","E","Z","Y"];function fme(n){var t=n.grouping===void 0||n.thousands===void 0?S3:ume(w3.call(n.grouping,Number),n.thousands+""),e=n.currency===void 0?"":n.currency[0]+"",r=n.currency===void 0?"":n.currency[1]+"",i=n.decimal===void 0?".":n.decimal+"",o=n.numerals===void 0?S3:cme(w3.call(n.numerals,String)),a=n.percent===void 0?"%":n.percent+"",s=n.minus===void 0?"−":n.minus+"",l=n.nan===void 0?"NaN":n.nan+"";function u(d){d=DS(d);var p=d.fill,h=d.align,f=d.sign,v=d.symbol,g=d.zero,y=d.width,m=d.comma,C=d.precision,S=d.trim,w=d.type;w==="n"?(m=!0,w="g"):C3[w]||(C===void 0&&(C=12),S=!0,w="g"),(g||p==="0"&&h==="=")&&(g=!0,p="0",h="=");var _=v==="$"?e:v==="#"&&/[boxX]/.test(w)?"0"+w.toLowerCase():"",x=v==="$"?r:/[%p]/.test(w)?a:"",b=C3[w],O=/[defgprs%]/.test(w);C=C===void 0?6:/[gprs]/.test(w)?Math.max(1,Math.min(21,C)):Math.max(0,Math.min(20,C));function P(D){var N=_,L=x,I,k,H;if(w==="c")L=b(D)+L,D="";else{D=+D;var $=D<0||1/D<0;if(D=isNaN(D)?l:b(Math.abs(D),C),S&&(D=pme(D)),$&&+D==0&&f!=="+"&&($=!1),N=($?f==="("?f:s:f==="-"||f==="("?"":f)+N,L=(w==="s"?_3[8+G8/3]:"")+L+($&&f==="("?")":""),O){for(I=-1,k=D.length;++I<k;)if(H=D.charCodeAt(I),48>H||H>57){L=(H===46?i+D.slice(I+1):D.slice(I))+L,D=D.slice(0,I);break}}}m&&!g&&(D=t(D,1/0));var V=N.length+D.length+L.length,W=V<y?new Array(y-V+1).join(p):"";switch(m&&g&&(D=t(W+D,W.length?y-L.length:1/0),W=""),h){case"<":D=N+D+L+W;break;case"=":D=N+W+D+L;break;case"^":D=W.slice(0,V=W.length>>1)+N+D+L+W.slice(V);break;default:D=W+N+D+L;break}return o(D)}return P.toString=function(){return d+""},P}function c(d,p){var h=u((d=DS(d),d.type="f",d)),f=Math.max(-8,Math.min(8,Math.floor(Rg(p)/3)))*3,v=Math.pow(10,-f),g=_3[8+f/3];return function(y){return h(v*y)+g}}return{format:u,formatPrefix:c}}var q0,lk,V8;vme({thousands:",",grouping:[3],currency:["$",""]});function vme(n){return q0=fme(n),lk=q0.format,V8=q0.formatPrefix,q0}function gme(n){return Math.max(0,-Rg(Math.abs(n)))}function yme(n,t){return Math.max(0,Math.max(-8,Math.min(8,Math.floor(Rg(t)/3)))*3-Rg(Math.abs(n)))}function mme(n,t){return n=Math.abs(n),t=Math.abs(t)-n,Math.max(0,Rg(t)-Rg(n))+1}function Cme(n,t,e,r){var i=iF(n,t,e),o;switch(r=DS(r??",f"),r.type){case"s":{var a=Math.max(Math.abs(n),Math.abs(t));return r.precision==null&&!isNaN(o=yme(i,a))&&(r.precision=o),V8(r,a)}case"":case"e":case"g":case"p":case"r":{r.precision==null&&!isNaN(o=mme(i,Math.max(Math.abs(n),Math.abs(t))))&&(r.precision=o-(r.type==="e"));break}case"f":case"%":{r.precision==null&&!isNaN(o=gme(i))&&(r.precision=o-(r.type==="%")*2);break}}return lk(r)}function B8(n){var t=n.domain;return n.ticks=function(e){var r=t();return rF(r[0],r[r.length-1],e??10)},n.tickFormat=function(e,r){var i=t();return Cme(i[0],i[i.length-1],e??10,r)},n.nice=function(e){e==null&&(e=10);var r=t(),i=0,o=r.length-1,a=r[i],s=r[o],l,u,c=10;for(s<a&&(u=a,a=s,s=u,u=i,i=o,o=u);c-- >0;){if(u=nF(a,s,e),u===l)return r[i]=a,r[o]=s,t(r);if(u>0)a=Math.floor(a/u)*u,s=Math.ceil(s/u)*u;else if(u<0)a=Math.ceil(a*u)/u,s=Math.floor(s*u)/u;else break;l=u}return n},n}function H8(){var n=k8();return n.copy=function(){return aT(n,H8())},hf.apply(n,arguments),B8(n)}function j8(n,t){n=n.slice();var e=0,r=n.length-1,i=n[e],o=n[r],a;return o<i&&(a=e,e=r,r=a,a=i,i=o,o=a),n[e]=t.floor(i),n[r]=t.ceil(o),n}function x3(n){return Math.log(n)}function E3(n){return Math.exp(n)}function Sme(n){return-Math.log(-n)}function wme(n){return-Math.exp(-n)}function _me(n){return isFinite(n)?+("1e"+n):n<0?0:n}function xme(n){return n===10?_me:n===Math.E?Math.exp:t=>Math.pow(n,t)}function Eme(n){return n===Math.E?Math.log:n===10&&Math.log10||n===2&&Math.log2||(n=Math.log(n),t=>Math.log(t)/n)}function b3(n){return(t,e)=>-n(-t,e)}function bme(n){const t=n(x3,E3),e=t.domain;let r=10,i,o;function a(){return i=Eme(r),o=xme(r),e()[0]<0?(i=b3(i),o=b3(o),n(Sme,wme)):n(x3,E3),t}return t.base=function(s){return arguments.length?(r=+s,a()):r},t.domain=function(s){return arguments.length?(e(s),a()):e()},t.ticks=s=>{const l=e();let u=l[0],c=l[l.length-1];const d=c<u;d&&([u,c]=[c,u]);let p=i(u),h=i(c),f,v;const g=s==null?10:+s;let y=[];if(!(r%1)&&h-p<g){if(p=Math.floor(p),h=Math.ceil(h),u>0){for(;p<=h;++p)for(f=1;f<r;++f)if(v=p<0?f/o(-p):f*o(p),!(v<u)){if(v>c)break;y.push(v)}}else for(;p<=h;++p)for(f=r-1;f>=1;--f)if(v=p>0?f/o(-p):f*o(p),!(v<u)){if(v>c)break;y.push(v)}y.length*2<g&&(y=rF(u,c,g))}else y=rF(p,h,Math.min(h-p,g)).map(o);return d?y.reverse():y},t.tickFormat=(s,l)=>{if(s==null&&(s=10),l==null&&(l=r===10?"s":","),typeof l!="function"&&(!(r%1)&&(l=DS(l)).precision==null&&(l.trim=!0),l=lk(l)),s===1/0)return l;const u=Math.max(1,r*s/t.ticks().length);return c=>{let d=c/o(Math.round(i(c)));return d*r<r-.5&&(d*=r),d<=u?l(c):""}},t.nice=()=>e(j8(e(),{floor:s=>o(Math.floor(i(s))),ceil:s=>o(Math.ceil(i(s)))})),t}function $8(){const n=bme(ak()).domain([1,10]);return n.copy=()=>aT(n,$8()).base(n.base()),hf.apply(n,arguments),n}function O3(n){return function(t){return t<0?-Math.pow(-t,n):Math.pow(t,n)}}function Ome(n){return n<0?-Math.sqrt(-n):Math.sqrt(n)}function Rme(n){return n<0?-n*n:n*n}function Tme(n){var t=n(Il,Il),e=1;function r(){return e===1?n(Il,Il):e===.5?n(Ome,Rme):n(O3(e),O3(1/e))}return t.exponent=function(i){return arguments.length?(e=+i,r()):e},B8(t)}function uk(){var n=Tme(ak());return n.copy=function(){return aT(n,uk()).exponent(n.exponent())},hf.apply(n,arguments),n}function Pme(){return uk.apply(null,arguments).exponent(.5)}const fA=new Date,vA=new Date;function Tn(n,t,e,r){function i(o){return n(o=arguments.length===0?new Date:new Date(+o)),o}return i.floor=o=>(n(o=new Date(+o)),o),i.ceil=o=>(n(o=new Date(o-1)),t(o,1),n(o),o),i.round=o=>{const a=i(o),s=i.ceil(o);return o-a<s-o?a:s},i.offset=(o,a)=>(t(o=new Date(+o),a==null?1:Math.floor(a)),o),i.range=(o,a,s)=>{const l=[];if(o=i.ceil(o),s=s==null?1:Math.floor(s),!(o<a)||!(s>0))return l;let u;do l.push(u=new Date(+o)),t(o,s),n(o);while(u<o&&o<a);return l},i.filter=o=>Tn(a=>{if(a>=a)for(;n(a),!o(a);)a.setTime(a-1)},(a,s)=>{if(a>=a)if(s<0)for(;++s<=0;)for(;t(a,-1),!o(a););else for(;--s>=0;)for(;t(a,1),!o(a););}),e&&(i.count=(o,a)=>(fA.setTime(+o),vA.setTime(+a),n(fA),n(vA),Math.floor(e(fA,vA))),i.every=o=>(o=Math.floor(o),!isFinite(o)||!(o>0)?null:o>1?i.filter(r?a=>r(a)%o===0:a=>i.count(0,a)%o===0):i)),i}const Sb=Tn(()=>{},(n,t)=>{n.setTime(+n+t)},(n,t)=>t-n);Sb.every=n=>(n=Math.floor(n),!isFinite(n)||!(n>0)?null:n>1?Tn(t=>{t.setTime(Math.floor(t/n)*n)},(t,e)=>{t.setTime(+t+e*n)},(t,e)=>(e-t)/n):Sb);Sb.range;const Nu=1e3,Ba=Nu*60,ku=Ba*60,tc=ku*24,ck=tc*7,R3=tc*30,gA=tc*365,wh=Tn(n=>{n.setTime(n-n.getMilliseconds())},(n,t)=>{n.setTime(+n+t*Nu)},(n,t)=>(t-n)/Nu,n=>n.getUTCSeconds());wh.range;const dk=Tn(n=>{n.setTime(n-n.getMilliseconds()-n.getSeconds()*Nu)},(n,t)=>{n.setTime(+n+t*Ba)},(n,t)=>(t-n)/Ba,n=>n.getMinutes());dk.range;const pk=Tn(n=>{n.setUTCSeconds(0,0)},(n,t)=>{n.setTime(+n+t*Ba)},(n,t)=>(t-n)/Ba,n=>n.getUTCMinutes());pk.range;const hk=Tn(n=>{n.setTime(n-n.getMilliseconds()-n.getSeconds()*Nu-n.getMinutes()*Ba)},(n,t)=>{n.setTime(+n+t*ku)},(n,t)=>(t-n)/ku,n=>n.getHours());hk.range;const fk=Tn(n=>{n.setUTCMinutes(0,0,0)},(n,t)=>{n.setTime(+n+t*ku)},(n,t)=>(t-n)/ku,n=>n.getUTCHours());fk.range;const Mw=Tn(n=>n.setHours(0,0,0,0),(n,t)=>n.setDate(n.getDate()+t),(n,t)=>(t-n-(t.getTimezoneOffset()-n.getTimezoneOffset())*Ba)/tc,n=>n.getDate()-1);Mw.range;const sT=Tn(n=>{n.setUTCHours(0,0,0,0)},(n,t)=>{n.setUTCDate(n.getUTCDate()+t)},(n,t)=>(t-n)/tc,n=>n.getUTCDate()-1);sT.range;const W8=Tn(n=>{n.setUTCHours(0,0,0,0)},(n,t)=>{n.setUTCDate(n.getUTCDate()+t)},(n,t)=>(t-n)/tc,n=>Math.floor(n/tc));W8.range;function ff(n){return Tn(t=>{t.setDate(t.getDate()-(t.getDay()+7-n)%7),t.setHours(0,0,0,0)},(t,e)=>{t.setDate(t.getDate()+e*7)},(t,e)=>(e-t-(e.getTimezoneOffset()-t.getTimezoneOffset())*Ba)/ck)}const lT=ff(0),wb=ff(1),Ame=ff(2),Dme=ff(3),Tg=ff(4),Mme=ff(5),Lme=ff(6);lT.range;wb.range;Ame.range;Dme.range;Tg.range;Mme.range;Lme.range;function vf(n){return Tn(t=>{t.setUTCDate(t.getUTCDate()-(t.getUTCDay()+7-n)%7),t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCDate(t.getUTCDate()+e*7)},(t,e)=>(e-t)/ck)}const uT=vf(0),_b=vf(1),Fme=vf(2),Ime=vf(3),Pg=vf(4),Nme=vf(5),kme=vf(6);uT.range;_b.range;Fme.range;Ime.range;Pg.range;Nme.range;kme.range;const vk=Tn(n=>{n.setDate(1),n.setHours(0,0,0,0)},(n,t)=>{n.setMonth(n.getMonth()+t)},(n,t)=>t.getMonth()-n.getMonth()+(t.getFullYear()-n.getFullYear())*12,n=>n.getMonth());vk.range;const gk=Tn(n=>{n.setUTCDate(1),n.setUTCHours(0,0,0,0)},(n,t)=>{n.setUTCMonth(n.getUTCMonth()+t)},(n,t)=>t.getUTCMonth()-n.getUTCMonth()+(t.getUTCFullYear()-n.getUTCFullYear())*12,n=>n.getUTCMonth());gk.range;const rc=Tn(n=>{n.setMonth(0,1),n.setHours(0,0,0,0)},(n,t)=>{n.setFullYear(n.getFullYear()+t)},(n,t)=>t.getFullYear()-n.getFullYear(),n=>n.getFullYear());rc.every=n=>!isFinite(n=Math.floor(n))||!(n>0)?null:Tn(t=>{t.setFullYear(Math.floor(t.getFullYear()/n)*n),t.setMonth(0,1),t.setHours(0,0,0,0)},(t,e)=>{t.setFullYear(t.getFullYear()+e*n)});rc.range;const nc=Tn(n=>{n.setUTCMonth(0,1),n.setUTCHours(0,0,0,0)},(n,t)=>{n.setUTCFullYear(n.getUTCFullYear()+t)},(n,t)=>t.getUTCFullYear()-n.getUTCFullYear(),n=>n.getUTCFullYear());nc.every=n=>!isFinite(n=Math.floor(n))||!(n>0)?null:Tn(t=>{t.setUTCFullYear(Math.floor(t.getUTCFullYear()/n)*n),t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCFullYear(t.getUTCFullYear()+e*n)});nc.range;function U8(n,t,e,r,i,o){const a=[[wh,1,Nu],[wh,5,5*Nu],[wh,15,15*Nu],[wh,30,30*Nu],[o,1,Ba],[o,5,5*Ba],[o,15,15*Ba],[o,30,30*Ba],[i,1,ku],[i,3,3*ku],[i,6,6*ku],[i,12,12*ku],[r,1,tc],[r,2,2*tc],[e,1,ck],[t,1,R3],[t,3,3*R3],[n,1,gA]];function s(u,c,d){const p=c<u;p&&([u,c]=[c,u]);const h=d&&typeof d.range=="function"?d:l(u,c,d),f=h?h.range(u,+c+1):[];return p?f.reverse():f}function l(u,c,d){const p=Math.abs(c-u)/d,h=rk(([,,g])=>g).right(a,p);if(h===a.length)return n.every(iF(u/gA,c/gA,d));if(h===0)return Sb.every(Math.max(iF(u,c,d),1));const[f,v]=a[p/a[h-1][2]<a[h][2]/p?h-1:h];return f.every(v)}return[s,l]}const[Gme,Vme]=U8(nc,gk,uT,W8,fk,pk),[Bme,Hme]=U8(rc,vk,lT,Mw,hk,dk);function yA(n){if(0<=n.y&&n.y<100){var t=new Date(-1,n.m,n.d,n.H,n.M,n.S,n.L);return t.setFullYear(n.y),t}return new Date(n.y,n.m,n.d,n.H,n.M,n.S,n.L)}function mA(n){if(0<=n.y&&n.y<100){var t=new Date(Date.UTC(-1,n.m,n.d,n.H,n.M,n.S,n.L));return t.setUTCFullYear(n.y),t}return new Date(Date.UTC(n.y,n.m,n.d,n.H,n.M,n.S,n.L))}function My(n,t,e){return{y:n,m:t,d:e,H:0,M:0,S:0,L:0}}function jme(n){var t=n.dateTime,e=n.date,r=n.time,i=n.periods,o=n.days,a=n.shortDays,s=n.months,l=n.shortMonths,u=Ly(i),c=Fy(i),d=Ly(o),p=Fy(o),h=Ly(a),f=Fy(a),v=Ly(s),g=Fy(s),y=Ly(l),m=Fy(l),C={a:$,A:V,b:W,B:K,c:null,d:L3,e:L3,f:dCe,g:wCe,G:xCe,H:lCe,I:uCe,j:cCe,L:z8,m:pCe,M:hCe,p:Z,q:Q,Q:N3,s:k3,S:fCe,u:vCe,U:gCe,V:yCe,w:mCe,W:CCe,x:null,X:null,y:SCe,Y:_Ce,Z:ECe,"%":I3},S={a:ce,A:ue,b:se,B:q,c:null,d:F3,e:F3,f:TCe,g:GCe,G:BCe,H:bCe,I:OCe,j:RCe,L:Y8,m:PCe,M:ACe,p:he,q:be,Q:N3,s:k3,S:DCe,u:MCe,U:LCe,V:FCe,w:ICe,W:NCe,x:null,X:null,y:kCe,Y:VCe,Z:HCe,"%":I3},w={a:P,A:D,b:N,B:L,c:I,d:D3,e:D3,f:iCe,g:A3,G:P3,H:M3,I:M3,j:eCe,L:nCe,m:Jme,M:tCe,p:O,q:Qme,Q:aCe,s:sCe,S:rCe,u:Kme,U:Yme,V:Xme,w:zme,W:qme,x:k,X:H,y:A3,Y:P3,Z:Zme,"%":oCe};C.x=_(e,C),C.X=_(r,C),C.c=_(t,C),S.x=_(e,S),S.X=_(r,S),S.c=_(t,S);function _(ee,Se){return function(Ce){var te=[],Pe=-1,De=0,Ne=ee.length,ke,Ye,it;for(Ce instanceof Date||(Ce=new Date(+Ce));++Pe<Ne;)ee.charCodeAt(Pe)===37&&(te.push(ee.slice(De,Pe)),(Ye=T3[ke=ee.charAt(++Pe)])!=null?ke=ee.charAt(++Pe):Ye=ke==="e"?" ":"0",(it=Se[ke])&&(ke=it(Ce,Ye)),te.push(ke),De=Pe+1);return te.push(ee.slice(De,Pe)),te.join("")}}function x(ee,Se){return function(Ce){var te=My(1900,void 0,1),Pe=b(te,ee,Ce+="",0),De,Ne;if(Pe!=Ce.length)return null;if("Q"in te)return new Date(te.Q);if("s"in te)return new Date(te.s*1e3+("L"in te?te.L:0));if(Se&&!("Z"in te)&&(te.Z=0),"p"in te&&(te.H=te.H%12+te.p*12),te.m===void 0&&(te.m="q"in te?te.q:0),"V"in te){if(te.V<1||te.V>53)return null;"w"in te||(te.w=1),"Z"in te?(De=mA(My(te.y,0,1)),Ne=De.getUTCDay(),De=Ne>4||Ne===0?_b.ceil(De):_b(De),De=sT.offset(De,(te.V-1)*7),te.y=De.getUTCFullYear(),te.m=De.getUTCMonth(),te.d=De.getUTCDate()+(te.w+6)%7):(De=yA(My(te.y,0,1)),Ne=De.getDay(),De=Ne>4||Ne===0?wb.ceil(De):wb(De),De=Mw.offset(De,(te.V-1)*7),te.y=De.getFullYear(),te.m=De.getMonth(),te.d=De.getDate()+(te.w+6)%7)}else("W"in te||"U"in te)&&("w"in te||(te.w="u"in te?te.u%7:"W"in te?1:0),Ne="Z"in te?mA(My(te.y,0,1)).getUTCDay():yA(My(te.y,0,1)).getDay(),te.m=0,te.d="W"in te?(te.w+6)%7+te.W*7-(Ne+5)%7:te.w+te.U*7-(Ne+6)%7);return"Z"in te?(te.H+=te.Z/100|0,te.M+=te.Z%100,mA(te)):yA(te)}}function b(ee,Se,Ce,te){for(var Pe=0,De=Se.length,Ne=Ce.length,ke,Ye;Pe<De;){if(te>=Ne)return-1;if(ke=Se.charCodeAt(Pe++),ke===37){if(ke=Se.charAt(Pe++),Ye=w[ke in T3?Se.charAt(Pe++):ke],!Ye||(te=Ye(ee,Ce,te))<0)return-1}else if(ke!=Ce.charCodeAt(te++))return-1}return te}function O(ee,Se,Ce){var te=u.exec(Se.slice(Ce));return te?(ee.p=c.get(te[0].toLowerCase()),Ce+te[0].length):-1}function P(ee,Se,Ce){var te=h.exec(Se.slice(Ce));return te?(ee.w=f.get(te[0].toLowerCase()),Ce+te[0].length):-1}function D(ee,Se,Ce){var te=d.exec(Se.slice(Ce));return te?(ee.w=p.get(te[0].toLowerCase()),Ce+te[0].length):-1}function N(ee,Se,Ce){var te=y.exec(Se.slice(Ce));return te?(ee.m=m.get(te[0].toLowerCase()),Ce+te[0].length):-1}function L(ee,Se,Ce){var te=v.exec(Se.slice(Ce));return te?(ee.m=g.get(te[0].toLowerCase()),Ce+te[0].length):-1}function I(ee,Se,Ce){return b(ee,t,Se,Ce)}function k(ee,Se,Ce){return b(ee,e,Se,Ce)}function H(ee,Se,Ce){return b(ee,r,Se,Ce)}function $(ee){return a[ee.getDay()]}function V(ee){return o[ee.getDay()]}function W(ee){return l[ee.getMonth()]}function K(ee){return s[ee.getMonth()]}function Z(ee){return i[+(ee.getHours()>=12)]}function Q(ee){return 1+~~(ee.getMonth()/3)}function ce(ee){return a[ee.getUTCDay()]}function ue(ee){return o[ee.getUTCDay()]}function se(ee){return l[ee.getUTCMonth()]}function q(ee){return s[ee.getUTCMonth()]}function he(ee){return i[+(ee.getUTCHours()>=12)]}function be(ee){return 1+~~(ee.getUTCMonth()/3)}return{format:function(ee){var Se=_(ee+="",C);return Se.toString=function(){return ee},Se},parse:function(ee){var Se=x(ee+="",!1);return Se.toString=function(){return ee},Se},utcFormat:function(ee){var Se=_(ee+="",S);return Se.toString=function(){return ee},Se},utcParse:function(ee){var Se=x(ee+="",!0);return Se.toString=function(){return ee},Se}}}var T3={"-":"",_:" ",0:"0"},Bn=/^\s*\d+/,$me=/^%/,Wme=/[\\^$*+?|[\]().{}]/g;function kt(n,t,e){var r=n<0?"-":"",i=(r?-n:n)+"",o=i.length;return r+(o<e?new Array(e-o+1).join(t)+i:i)}function Ume(n){return n.replace(Wme,"\\$&")}function Ly(n){return new RegExp("^(?:"+n.map(Ume).join("|")+")","i")}function Fy(n){return new Map(n.map((t,e)=>[t.toLowerCase(),e]))}function zme(n,t,e){var r=Bn.exec(t.slice(e,e+1));return r?(n.w=+r[0],e+r[0].length):-1}function Kme(n,t,e){var r=Bn.exec(t.slice(e,e+1));return r?(n.u=+r[0],e+r[0].length):-1}function Yme(n,t,e){var r=Bn.exec(t.slice(e,e+2));return r?(n.U=+r[0],e+r[0].length):-1}function Xme(n,t,e){var r=Bn.exec(t.slice(e,e+2));return r?(n.V=+r[0],e+r[0].length):-1}function qme(n,t,e){var r=Bn.exec(t.slice(e,e+2));return r?(n.W=+r[0],e+r[0].length):-1}function P3(n,t,e){var r=Bn.exec(t.slice(e,e+4));return r?(n.y=+r[0],e+r[0].length):-1}function A3(n,t,e){var r=Bn.exec(t.slice(e,e+2));return r?(n.y=+r[0]+(+r[0]>68?1900:2e3),e+r[0].length):-1}function Zme(n,t,e){var r=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(t.slice(e,e+6));return r?(n.Z=r[1]?0:-(r[2]+(r[3]||"00")),e+r[0].length):-1}function Qme(n,t,e){var r=Bn.exec(t.slice(e,e+1));return r?(n.q=r[0]*3-3,e+r[0].length):-1}function Jme(n,t,e){var r=Bn.exec(t.slice(e,e+2));return r?(n.m=r[0]-1,e+r[0].length):-1}function D3(n,t,e){var r=Bn.exec(t.slice(e,e+2));return r?(n.d=+r[0],e+r[0].length):-1}function eCe(n,t,e){var r=Bn.exec(t.slice(e,e+3));return r?(n.m=0,n.d=+r[0],e+r[0].length):-1}function M3(n,t,e){var r=Bn.exec(t.slice(e,e+2));return r?(n.H=+r[0],e+r[0].length):-1}function tCe(n,t,e){var r=Bn.exec(t.slice(e,e+2));return r?(n.M=+r[0],e+r[0].length):-1}function rCe(n,t,e){var r=Bn.exec(t.slice(e,e+2));return r?(n.S=+r[0],e+r[0].length):-1}function nCe(n,t,e){var r=Bn.exec(t.slice(e,e+3));return r?(n.L=+r[0],e+r[0].length):-1}function iCe(n,t,e){var r=Bn.exec(t.slice(e,e+6));return r?(n.L=Math.floor(r[0]/1e3),e+r[0].length):-1}function oCe(n,t,e){var r=$me.exec(t.slice(e,e+1));return r?e+r[0].length:-1}function aCe(n,t,e){var r=Bn.exec(t.slice(e));return r?(n.Q=+r[0],e+r[0].length):-1}function sCe(n,t,e){var r=Bn.exec(t.slice(e));return r?(n.s=+r[0],e+r[0].length):-1}function L3(n,t){return kt(n.getDate(),t,2)}function lCe(n,t){return kt(n.getHours(),t,2)}function uCe(n,t){return kt(n.getHours()%12||12,t,2)}function cCe(n,t){return kt(1+Mw.count(rc(n),n),t,3)}function z8(n,t){return kt(n.getMilliseconds(),t,3)}function dCe(n,t){return z8(n,t)+"000"}function pCe(n,t){return kt(n.getMonth()+1,t,2)}function hCe(n,t){return kt(n.getMinutes(),t,2)}function fCe(n,t){return kt(n.getSeconds(),t,2)}function vCe(n){var t=n.getDay();return t===0?7:t}function gCe(n,t){return kt(lT.count(rc(n)-1,n),t,2)}function K8(n){var t=n.getDay();return t>=4||t===0?Tg(n):Tg.ceil(n)}function yCe(n,t){return n=K8(n),kt(Tg.count(rc(n),n)+(rc(n).getDay()===4),t,2)}function mCe(n){return n.getDay()}function CCe(n,t){return kt(wb.count(rc(n)-1,n),t,2)}function SCe(n,t){return kt(n.getFullYear()%100,t,2)}function wCe(n,t){return n=K8(n),kt(n.getFullYear()%100,t,2)}function _Ce(n,t){return kt(n.getFullYear()%1e4,t,4)}function xCe(n,t){var e=n.getDay();return n=e>=4||e===0?Tg(n):Tg.ceil(n),kt(n.getFullYear()%1e4,t,4)}function ECe(n){var t=n.getTimezoneOffset();return(t>0?"-":(t*=-1,"+"))+kt(t/60|0,"0",2)+kt(t%60,"0",2)}function F3(n,t){return kt(n.getUTCDate(),t,2)}function bCe(n,t){return kt(n.getUTCHours(),t,2)}function OCe(n,t){return kt(n.getUTCHours()%12||12,t,2)}function RCe(n,t){return kt(1+sT.count(nc(n),n),t,3)}function Y8(n,t){return kt(n.getUTCMilliseconds(),t,3)}function TCe(n,t){return Y8(n,t)+"000"}function PCe(n,t){return kt(n.getUTCMonth()+1,t,2)}function ACe(n,t){return kt(n.getUTCMinutes(),t,2)}function DCe(n,t){return kt(n.getUTCSeconds(),t,2)}function MCe(n){var t=n.getUTCDay();return t===0?7:t}function LCe(n,t){return kt(uT.count(nc(n)-1,n),t,2)}function X8(n){var t=n.getUTCDay();return t>=4||t===0?Pg(n):Pg.ceil(n)}function FCe(n,t){return n=X8(n),kt(Pg.count(nc(n),n)+(nc(n).getUTCDay()===4),t,2)}function ICe(n){return n.getUTCDay()}function NCe(n,t){return kt(_b.count(nc(n)-1,n),t,2)}function kCe(n,t){return kt(n.getUTCFullYear()%100,t,2)}function GCe(n,t){return n=X8(n),kt(n.getUTCFullYear()%100,t,2)}function VCe(n,t){return kt(n.getUTCFullYear()%1e4,t,4)}function BCe(n,t){var e=n.getUTCDay();return n=e>=4||e===0?Pg(n):Pg.ceil(n),kt(n.getUTCFullYear()%1e4,t,4)}function HCe(){return"+0000"}function I3(){return"%"}function N3(n){return+n}function k3(n){return Math.floor(+n/1e3)}var kf,q8,Z8;jCe({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});function jCe(n){return kf=jme(n),q8=kf.format,kf.parse,Z8=kf.utcFormat,kf.utcParse,kf}function $Ce(n){return new Date(n)}function WCe(n){return n instanceof Date?+n:+new Date(+n)}function yk(n,t,e,r,i,o,a,s,l,u){var c=k8(),d=c.invert,p=c.domain,h=u(".%L"),f=u(":%S"),v=u("%I:%M"),g=u("%I %p"),y=u("%a %d"),m=u("%b %d"),C=u("%B"),S=u("%Y");function w(_){return(l(_)<_?h:s(_)<_?f:a(_)<_?v:o(_)<_?g:r(_)<_?i(_)<_?y:m:e(_)<_?C:S)(_)}return c.invert=function(_){return new Date(d(_))},c.domain=function(_){return arguments.length?p(Array.from(_,WCe)):p().map($Ce)},c.ticks=function(_){var x=p();return n(x[0],x[x.length-1],_??10)},c.tickFormat=function(_,x){return x==null?w:u(x)},c.nice=function(_){var x=p();return(!_||typeof _.range!="function")&&(_=t(x[0],x[x.length-1],_??10)),_?p(j8(x,_)):c},c.copy=function(){return aT(c,yk(n,t,e,r,i,o,a,s,l,u))},c}function UCe(){return hf.apply(yk(Bme,Hme,rc,vk,lT,Mw,hk,dk,wh,q8).domain([new Date(2e3,0,1),new Date(2e3,0,2)]),arguments)}function zCe(){return hf.apply(yk(Gme,Vme,nc,gk,uT,sT,fk,pk,wh,Z8).domain([Date.UTC(2e3,0,1),Date.UTC(2e3,0,2)]),arguments)}const Q8=n=>{var t,e;const{axis:r}=n,i=Math.min(...(t=r.data)!=null?t:[]),o=Math.max(...(e=r.data)!=null?e:[]);return[i,o]},J8=n=>{const{series:t,axis:e,isDefaultAxis:r}=n;return Object.keys(t).filter(i=>t[i].yAxisKey===e.id||r&&t[i].yAxisKey===void 0).reduce((i,o)=>{const[a,s]=t[o].stackedData.reduce((l,u)=>[Math.min(...u,...l[0]===null?[]:[l[0]]),Math.max(...u,...l[1]===null?[]:[l[1]])],t[o].stackedData[0]);return[i[0]===null?a:Math.min(a,i[0]),i[1]===null?s:Math.max(s,i[1])]},[null,null])},KCe=n=>Object.keys(n.series).some(e=>n.series[e].layout==="horizontal")?J8(n):Q8(n),YCe=n=>Object.keys(n.series).some(e=>n.series[e].layout==="horizontal")?Q8(n):J8(n),xb=(n,t)=>n[0]===null||n[1]===null?t:t[0]===null||t[1]===null?n:[Math.min(n[0],t[0]),Math.max(n[1],t[1])],XCe=n=>{const{series:t,axis:e,isDefaultAxis:r}=n;return Object.keys(t).filter(i=>t[i].xAxisKey===e.id||t[i].xAxisKey===void 0&&r).reduce((i,o)=>{const a=t[o].data.reduce((s,{x:l})=>xb(s,[l,l]),[null,null]);return xb(i,a)},[null,null])},qCe=n=>{const{series:t,axis:e,isDefaultAxis:r}=n;return Object.keys(t).filter(i=>t[i].yAxisKey===e.id||t[i].yAxisKey===void 0&&r).reduce((i,o)=>{const a=t[o].data.reduce((s,{y:l})=>xb(s,[l,l]),[null,null]);return xb(i,a)},[null,null])},ZCe=n=>{var t,e;const{axis:r}=n,i=Math.min(...(t=r.data)!=null?t:[]),o=Math.max(...(e=r.data)!=null?e:[]);return[i,o]};function QCe(n,t){return t.length===0?[null,null]:t.reduce((e,r)=>{const[i,o]=n(r);return e[0]===null?[Math.min(i,o),Math.max(i,o)]:[Math.min(i,o,e[0]),Math.max(i,o,e[1])]},n(t[0]))}const JCe=n=>{const{series:t,axis:e,isDefaultAxis:r}=n;return Object.keys(t).filter(i=>t[i].yAxisKey===e.id||r&&t[i].yAxisKey===void 0).reduce((i,o)=>{const{area:a,stackedData:s}=t[o],c=QCe(a!==void 0?h=>h:h=>[h[1],h[1]],s);if(i[0]===null)return c;if(c[0]===null)return i;const[d,p]=c;return[Math.min(d,i[0]),Math.max(p,i[1])]},[null,null])};function Eb(n){return n.scaleType==="band"}function G3(n){return n.scaleType==="point"}function V3(n,t,e){switch(n){case"log":return $8(t,e);case"pow":return uk(t,e);case"sqrt":return Pme(t,e);case"time":return UCe(t,e);case"utc":return zCe(t,e);default:return H8(t,e)}}function MS(n){return n.bandwidth!==void 0}function B3(n){const{tickMaxStep:t,tickMinStep:e,tickNumber:r,range:i,domain:o}=n,a=e===void 0?999:Math.floor(Math.abs(o[1]-o[0])/e),s=t===void 0?2:Math.ceil(Math.abs(o[1]-o[0])/t),l=r??Math.floor(Math.abs(i[1]-i[0])/50);return Math.min(a,Math.max(s,l))}function e7(n){const{scale:t,tickNumber:e,valueFormatter:r,tickInterval:i}=n;return F.useMemo(()=>{if(MS(t)){const a=t.domain();return t.bandwidth()>0?[...a.map(l=>{var u;return{value:l,formattedValue:(u=r==null?void 0:r(l))!=null?u:`${l}`,offset:t(l)-(t.step()-t.bandwidth())/2,labelOffset:t.step()/2}}),{formattedValue:void 0,offset:t.range()[1],labelOffset:0}]:(typeof i=="function"&&a.filter(i)||typeof i=="object"&&i||a).map(l=>{var u;return{value:l,formattedValue:(u=r==null?void 0:r(l))!=null?u:`${l}`,offset:t(l),labelOffset:0}})}return(typeof i=="object"?i:t.ticks(e)).map(a=>{var s;return{value:a,formattedValue:(s=r==null?void 0:r(a))!=null?s:t.tickFormat(e)(a),offset:t(a),labelOffset:0}})},[e,t,r,i])}const H3=.2,eSe=.1,tSe={bar:KCe,scatter:XCe,line:ZCe},rSe={bar:YCe,scatter:qCe,line:JCe},_o=F.createContext({xAxis:{},yAxis:{},xAxisIds:[],yAxisIds:[]});function nSe(n){const{xAxis:t,yAxis:e,dataset:r,children:i}=n,o=F.useContext($s),a=F.useContext(sp),s=F.useMemo(()=>t==null?void 0:t.map(c=>{const d=c.dataKey;if(d===void 0||c.data!==void 0)return c;if(r===void 0)throw Error("MUI-X-Charts: x-axis uses `dataKey` but no `dataset` is provided.");return B({},c,{data:r.map(p=>p[d])})}),[t,r]),l=F.useMemo(()=>e==null?void 0:e.map(c=>{const d=c.dataKey;if(d===void 0||c.data!==void 0)return c;if(r===void 0)throw Error("MUI-X-Charts: y-axis uses `dataKey` but no `dataset` is provided.");return B({},c,{data:r.map(p=>p[d])})}),[e,r]),u=F.useMemo(()=>{var c,d;const p=(m,C,S,w,_)=>{var x,b;const O=w[C],P=(x=(b=o[C])==null?void 0:b.series)!=null?x:{},[D,N]=O({series:P,axis:S,isDefaultAxis:_}),[L,I]=m;return L===null||I===null?[D,N]:D===null||N===null?[L,I]:[Math.min(D,L),Math.max(N,I)]},h=(m,C,S)=>Object.keys(C).reduce((_,x)=>p(_,x,m,C,S),[null,null]),f=[...(c=s==null?void 0:s.map((m,C)=>B({id:`deaultized-x-axis-${C}`},m)))!=null?c:[],...s===void 0||s.findIndex(({id:m})=>m===Ju)===-1?[{id:Ju,scaleType:"linear"}]:[]],v={};f.forEach((m,C)=>{var S,w,_,x,b;const O=C===0,[P,D]=h(m,tSe,O),N=m.reverse?[a.left+a.width,a.left]:[a.left,a.left+a.width];if(Eb(m)){var L,I;const Z=(L=m.categoryGapRatio)!=null?L:H3,Q=(I=m.barGapRatio)!=null?I:eSe;v[m.id]=B({categoryGapRatio:Z,barGapRatio:Q},m,{scale:vb(m.data,N).paddingInner(Z).paddingOuter(Z/2),tickNumber:m.data.length})}if(G3(m)&&(v[m.id]=B({},m,{scale:s3(m.data,N),tickNumber:m.data.length})),m.scaleType==="band"||m.scaleType==="point")return;const k=(S=m.scaleType)!=null?S:"linear",H=[(w=m.min)!=null?w:P,(_=m.max)!=null?_:D],$=B3(B({},m,{range:N,domain:H})),V=V3(k,H,N).nice($),W=V.domain(),K=[(x=m.min)!=null?x:W[0],(b=m.max)!=null?b:W[1]];v[m.id]=B({},m,{scaleType:k,scale:V.domain(K),tickNumber:$})});const g=[...(d=l==null?void 0:l.map((m,C)=>B({id:`deaultized-y-axis-${C}`},m)))!=null?d:[],...l===void 0||l.findIndex(({id:m})=>m===SS)===-1?[{id:SS,scaleType:"linear"}]:[]],y={};return g.forEach((m,C)=>{var S,w,_,x,b;const O=C===0,[P,D]=h(m,rSe,O),N=m.reverse?[a.top,a.top+a.height]:[a.top+a.height,a.top];if(Eb(m)){var L;const K=(L=m.categoryGapRatio)!=null?L:H3;y[m.id]=B({categoryGapRatio:K,barGapRatio:0},m,{scale:vb(m.data,[N[1],N[0]]).paddingInner(K).paddingOuter(K/2),tickNumber:m.data.length})}if(G3(m)&&(y[m.id]=B({},m,{scale:s3(m.data,[N[1],N[0]]),tickNumber:m.data.length})),m.scaleType==="band"||m.scaleType==="point")return;const I=(S=m.scaleType)!=null?S:"linear",k=[(w=m.min)!=null?w:P,(_=m.max)!=null?_:D],H=B3(B({},m,{range:N,domain:k})),$=V3(I,k,N).nice(H),V=$.domain(),W=[(x=m.min)!=null?x:V[0],(b=m.max)!=null?b:V[1]];y[m.id]=B({},m,{scaleType:I,scale:$.domain(W),tickNumber:H})}),{xAxis:v,yAxis:y,xAxisIds:f.map(({id:m})=>m),yAxisIds:g.map(({id:m})=>m)}},[a.height,a.left,a.top,a.width,o,s,l]);return G.jsx(_o.Provider,{value:u,children:i})}const iSe=n=>{const t=F.useContext(NN),{width:e,height:r,top:i,left:o}=F.useContext(sp),{xAxis:a,yAxis:s,xAxisIds:l,yAxisIds:u}=F.useContext(_o),{dispatch:c}=F.useContext(Ws),d=l[0],p=u[0],h=F.useRef({x:-1,y:-1});F.useEffect(()=>{const f=t.current;if(f===null||n)return()=>{};const v=(m,C)=>{if(d===null)return null;const{scale:S,data:w}=m;if(!MS(S)){const x=S.invert(C);if(w===void 0)return{value:x};const b=w==null?void 0:w.findIndex((O,P)=>O>x&&(P===0||Math.abs(x-O)<=Math.abs(x-w[P-1]))||O<=x&&(P===w.length-1||Math.abs(x-O)<Math.abs(x-w[P+1])));return{value:b!==void 0&&b>=0?w[b]:x,index:b}}const _=S.bandwidth()===0?Math.floor((C-Math.min(...S.range())+S.step()/2)/S.step()):Math.floor((C-Math.min(...S.range()))/S.step());return _<0||_>=w.length?null:{index:_,value:w[_]}},g=()=>{h.current={x:-1,y:-1},c({type:"updateAxis",data:{x:null,y:null}})},y=m=>{const C=t.current.createSVGPoint();C.x=m.clientX,C.y=m.clientY;const S=C.matrixTransform(t.current.getScreenCTM().inverse());h.current={x:S.x,y:S.y};const w=S.x<o||S.x>o+e,_=S.y<i||S.y>i+r;if(w||_){c({type:"updateAxis",data:{x:null,y:null}});return}const x=v(a[d],S.x),b=v(s[p],S.y);c({type:"updateAxis",data:{x,y:b}})};return f.addEventListener("mouseout",g),f.addEventListener("mousemove",y),()=>{f.removeEventListener("mouseout",g),f.removeEventListener("mousemove",y)}},[t,c,o,e,i,r,p,s,d,a,n])},oSe=["children","width","height","viewBox","disableAxisListener","className"],aSe=Ke("svg",{name:"MuiChartsSurface",slot:"Root"})(()=>({})),sSe=F.forwardRef(function(t,e){const{children:r,width:i,height:o,viewBox:a,disableAxisListener:s=!1}=t,l=Le(t,oSe),u=B({width:i,height:o,x:0,y:0},a);return iSe(s),G.jsxs(aSe,B({width:i,height:o,viewBox:`${u.x} ${u.y} ${u.width} ${u.height}`,ref:e},l,{children:[G.jsx("title",{children:t.title}),G.jsx("desc",{children:t.desc}),r]}))}),mk={highlighted:"none",faded:"none"},t7=F.createContext({item:null,scope:mk,dispatch:()=>null}),lSe=(n,t)=>{switch(t.type){case"enterItem":return B({},n,{item:t.item,scope:B({},mk,t.scope)});case"leaveItem":return n.item===null||Object.keys(t.item).some(e=>t.item[e]!==n.item[e])?n:B({},n,{item:null});default:return n}};function uSe(n){const{children:t}=n,[e,r]=F.useReducer(lSe,{item:null,scope:mk}),i=F.useMemo(()=>B({},e,{dispatch:r}),[e]);return G.jsx(t7.Provider,{value:i,children:t})}const cSe=F.forwardRef(function(t,e){const{width:r,height:i,series:o,margin:a,xAxis:s,yAxis:l,colors:u,dataset:c,sx:d,title:p,desc:h,disableAxisListener:f,children:v}=t,g=F.useRef(null),y=ks(e,g);return Sye(),G.jsx(Bfe,{width:r,height:i,margin:a,svgRef:g,children:G.jsx(Kve,{series:o,colors:u,dataset:c,children:G.jsx(nSe,{xAxis:s,yAxis:l,dataset:c,children:G.jsx(Xve,{children:G.jsx(uSe,{children:G.jsx(sSe,{width:r,height:i,ref:y,sx:d,title:p,desc:h,disableAxisListener:f,children:v})})})})})})}),dSe=["width","height"],pSe=(n,t)=>{const e=F.useRef(null),r=F.useRef(!1),[i,o]=F.useState(0),[a,s]=F.useState(0),l=F.useCallback(()=>{const u=e==null?void 0:e.current;if(!u)return;const d=SR(u).getComputedStyle(u),p=Math.floor(parseFloat(d.height))||0,h=Math.floor(parseFloat(d.width))||0;o(h),s(p)},[]);return F.useEffect(()=>{r.current=!0},[]),Ql(()=>{if(n!==void 0&&t!==void 0)return()=>{};l();const u=e.current;if(typeof ResizeObserver>"u")return()=>{};let c;const d=new ResizeObserver(()=>{c=requestAnimationFrame(()=>{l()})});return u&&d.observe(u),()=>{c&&window.cancelAnimationFrame(c),u&&d.unobserve(u)}},[l,t,n]),[e,n??i,t??a]},hSe=Ke("div",{name:"MuiResponsiveChart",slot:"Container"})(({ownerState:n})=>{var t,e;return{width:(t=n.width)!=null?t:"100%",height:(e=n.height)!=null?e:"100%",display:"flex",position:"relative",flexGrow:1,flexDirection:"column",alignItems:"center",justifyContent:"center",overflow:"hidden","&>svg":{width:"100%",height:"100%"}}}),Ck=F.forwardRef(function(t,e){const{width:r,height:i}=t,o=Le(t,dSe),[a,s,l]=pSe(r,i);return G.jsx(hSe,{ref:a,ownerState:{width:r,height:i},children:s&&l?G.jsx(cSe,B({},o,{width:s,height:l,ref:e})):null})});function r7(n){return zt("MuiChartsAxis",n)}const Z0=Gt("MuiChartsAxis",["root","line","tickContainer","tick","tickLabel","label","directionX","directionY","top","bottom","left","right"]),n7=Ke("g",{name:"MuiChartsAxis",slot:"Root",overridesResolver:(n,t)=>t.root})(({theme:n})=>({[`& .${Z0.tickLabel}`]:B({},n.typography.caption,{fill:(n.vars||n).palette.text.primary}),[`& .${Z0.label}`]:B({},n.typography.body1,{fill:(n.vars||n).palette.text.primary}),[`& .${Z0.line}`]:{stroke:(n.vars||n).palette.text.primary,shapeRendering:"crispEdges",strokeWidth:1},[`& .${Z0.tick}`]:{stroke:(n.vars||n).palette.text.primary,shapeRendering:"crispEdges"}})),fSe=()=>!(typeof window<"u"&&window.document&&window.setTimeout),bp={widthCache:{},cacheCount:0},vSe=2e3,gSe={position:"absolute",top:"-20000px",left:0,padding:0,margin:0,border:"none",whiteSpace:"pre"},ySe=["minWidth","maxWidth","width","minHeight","maxHeight","height","top","left","fontSize","padding","margin","paddingLeft","paddingRight","paddingTop","paddingBottom","marginLeft","marginRight","marginTop","marginBottom"],j3="mui_measurement_span";function i7(n,t){return ySe.indexOf(n)>=0&&t===+t?`${t}px`:t}function o7(n){return n.split("").reduce((r,i)=>i===i.toUpperCase()?[...r,"-",i.toLowerCase()]:[...r,i],[]).join("")}const mSe=n=>Object.keys(n).sort().reduce((t,e)=>`${t}${o7(e)}:${i7(e,n[e])};`,""),CSe=(n,t={})=>{if(n==null||fSe())return{width:0,height:0};const e=`${n}`,r=mSe(t),i=`${e}-${r}`;if(bp.widthCache[i])return bp.widthCache[i];try{let o=document.getElementById(j3);o===null&&(o=document.createElement("span"),o.setAttribute("id",j3),o.setAttribute("aria-hidden","true"),document.body.appendChild(o));const a=B({},gSe,t);Object.keys(a).map(u=>(o.style[o7(u)]=i7(u,a[u]),u)),o.textContent=e;const s=o.getBoundingClientRect(),l={width:s.width,height:s.height};return bp.widthCache[i]=l,bp.cacheCount+1>vSe?(bp.cacheCount=0,bp.widthCache={}):bp.cacheCount+=1,l}catch{return{width:0,height:0}}};function Sk({style:n,needsComputation:t,text:e}){return e.split(`
`).map(r=>B({text:r},t?CSe(r,n):{width:0,height:0}))}const SSe=["x","y","style","text","ownerState"],wSe=["angle","textAnchor","dominantBaseline"];function LS(n){const{x:t,y:e,style:r,text:i}=n,o=Le(n,SSe),a=r??{},{angle:s,textAnchor:l,dominantBaseline:u}=a,c=Le(a,wSe),d=F.useMemo(()=>Sk({style:c,needsComputation:i.includes(`
`),text:i}),[c,i]);let p;switch(u){case"hanging":p=0;break;case"central":p=(d.length-1)/2*-d[0].height;break;default:p=(d.length-1)*-d[0].height;break}const h=[];return s&&h.push(`rotate(${s}, ${t}, ${e})`),h.length&&(o.transform=h.join(" ")),G.jsx("text",B({},o,{x:t,y:e,textAnchor:l,dominantBaseline:u,style:c,children:d.map((f,v)=>G.jsx("tspan",{x:t,dy:`${v===0?p:d[0].height}px`,dominantBaseline:u,children:f.text},v))}))}const $3=5;function _Se(n,t,e=0){const r=Math.min(Math.abs(e)%180,Math.abs(Math.abs(e)%180-180)%180);if(r<$3)return n;if(r>90-$3)return t;const i=r*Math.PI/180,o=Math.atan2(t,n);return i<o?n/Math.cos(i):t/Math.sin(i)}function xSe(n=!1){const[t,e]=F.useState(!1);return Ql(()=>{n||e(!0)},[n]),F.useEffect(()=>{n&&e(!0)},[n]),t}const ESe=["scale","tickNumber","reverse"],bSe=n=>{const{classes:t,position:e}=n;return Wt({root:["root","directionX",e],line:["line"],tickContainer:["tickContainer"],tick:["tick"],tickLabel:["tickLabel"],label:["label"]},r7,t)};function OSe(n,{tickLabelStyle:t,tickLabelInterval:e,reverse:r,isMounted:i}){const o=n.map(u=>{if(!i||u.formattedValue===void 0)return B({},u,{width:0,height:0});const c=Sk({style:t,needsComputation:!0,text:u.formattedValue});return B({},u,{width:Math.max(...c.map(d=>d.width)),height:Math.max(c.length*c[0].height)})});if(typeof e=="function")return o.map((u,c)=>B({},u,{skipLabel:!e(u.value,c)}));let a=0,s=0;const l=r?-1:1;return o.map((u,c)=>{const{width:d,offset:p,labelOffset:h,height:f}=u,v=_Se(d,f,t==null?void 0:t.angle),g=p+h,y=1.2;return a=g-l*(y*v)/2,c>0&&l*a<l*s?B({},u,{skipLabel:!0}):(s=g+l*(y*v)/2,u)})}const W3={position:"bottom",disableLine:!1,disableTicks:!1,tickSize:6};function U3(n){var t,e,r,i,o;const a=Ir({props:B({},W3,n),name:"MuiChartsXAxis"}),{xAxisIds:s}=F.useContext(_o),l=F.useContext(_o),u=(t=a.axisId)!=null?t:s[0],{xAxis:{[u]:{scale:c,tickNumber:d,reverse:p}}}=l,h=Le(l.xAxis[u],ESe),f=xSe(),v=B({},W3,h,a),{position:g,disableLine:y,disableTicks:m,tickLabelStyle:C,label:S,labelStyle:w,tickFontSize:_,labelFontSize:x,tickSize:b,valueFormatter:O,slots:P,slotProps:D,tickInterval:N,tickLabelInterval:L}=v,I=op(),k=bSe(B({},v,{theme:I})),{left:H,top:$,width:V,height:W}=F.useContext(sp),K=m?4:b,Z=g==="bottom"?1:-1,Q=(e=P==null?void 0:P.axisLine)!=null?e:"line",ce=(r=P==null?void 0:P.axisTick)!=null?r:"line",ue=(i=P==null?void 0:P.axisTickLabel)!=null?i:LS,se=(o=P==null?void 0:P.axisLabel)!=null?o:LS,q=Gn({elementType:ue,externalSlotProps:D==null?void 0:D.axisTickLabel,additionalProps:{style:B({textAnchor:"middle",dominantBaseline:g==="bottom"?"hanging":"auto",fontSize:_??12},C),className:k.tickLabel},className:k.tickLabel,ownerState:{}}),he=e7({scale:c,tickNumber:d,valueFormatter:O,tickInterval:N}),be=OSe(he,{tickLabelStyle:q.style,tickLabelInterval:L,reverse:p,isMounted:f}),ee={x:H+V/2,y:Z*(K+22)},Se=Gn({elementType:se,externalSlotProps:D==null?void 0:D.axisLabel,additionalProps:{style:B({fontSize:x??14,textAnchor:"middle",dominantBaseline:g==="bottom"?"hanging":"auto"},w)},ownerState:{}});return G.jsxs(n7,{transform:`translate(0, ${g==="bottom"?$+W:$})`,className:k.root,children:[!y&&G.jsx(Q,B({x1:c.range()[0],x2:c.range()[1],className:k.line},D==null?void 0:D.axisLine)),be.map(({formattedValue:Ce,offset:te,labelOffset:Pe,skipLabel:De},Ne)=>{const ke=Pe??0,Ye=Z*(K+3);return G.jsxs("g",{transform:`translate(${te}, 0)`,className:k.tickContainer,children:[!m&&G.jsx(ce,B({y2:Z*K,className:k.tick},D==null?void 0:D.axisTick)),Ce!==void 0&&!De&&G.jsx(ue,B({x:ke,y:Ye},q,{text:Ce.toString()}))]},Ne)}),S&&G.jsx("g",{className:k.label,children:G.jsx(se,B({},ee,Se,{text:S}))})]})}const RSe=["scale","tickNumber"],TSe=n=>{const{classes:t,position:e}=n;return Wt({root:["root","directionY",e],line:["line"],tickContainer:["tickContainer"],tick:["tick"],tickLabel:["tickLabel"],label:["label"]},r7,t)},z3={position:"left",disableLine:!1,disableTicks:!1,tickFontSize:12,labelFontSize:14,tickSize:6};function K3(n){var t,e,r,i,o;const a=Ir({props:B({},z3,n),name:"MuiChartsYAxis"}),{yAxisIds:s}=F.useContext(_o),l=F.useContext(_o),u=(t=a.axisId)!=null?t:s[0],{yAxis:{[u]:{scale:c,tickNumber:d}}}=l,p=Le(l.yAxis[u],RSe),h=B({},z3,p,a),{position:f,disableLine:v,disableTicks:g,tickFontSize:y,label:m,labelFontSize:C,labelStyle:S,tickLabelStyle:w,tickSize:_,valueFormatter:x,slots:b,slotProps:O}=h,P=op(),D=TSe(B({},h,{theme:P})),{left:N,top:L,width:I,height:k}=F.useContext(sp),H=g?4:_,$=e7({scale:c,tickNumber:d,valueFormatter:x}),V=f==="right"?1:-1,W={x:V*(y+H+10),y:L+k/2},K=(e=b==null?void 0:b.axisLine)!=null?e:"line",Z=(r=b==null?void 0:b.axisTick)!=null?r:"line",Q=(i=b==null?void 0:b.axisTickLabel)!=null?i:LS,ce=(o=b==null?void 0:b.axisLabel)!=null?o:LS,ue=Gn({elementType:Q,externalSlotProps:O==null?void 0:O.axisTickLabel,additionalProps:{style:B({fontSize:y,textAnchor:f==="right"?"start":"end",dominantBaseline:"central"},w),className:D.tickLabel},ownerState:{}}),se=Gn({elementType:ce,externalSlotProps:O==null?void 0:O.axisLabel,additionalProps:{style:B({fontSize:C,angle:V*90,textAnchor:"middle",dominantBaseline:"auto"},S)},ownerState:{}});return G.jsxs(n7,{transform:`translate(${f==="right"?N+I:N}, 0)`,className:D.root,children:[!v&&G.jsx(K,B({y1:c.range()[0],y2:c.range()[1],className:D.line},O==null?void 0:O.axisLine)),$.map(({formattedValue:q,offset:he,labelOffset:be},ee)=>{const Se=V*(H+2),Ce=be;return G.jsxs("g",{transform:`translate(0, ${he})`,className:D.tickContainer,children:[!g&&G.jsx(Z,B({x2:V*H,className:D.tick},O==null?void 0:O.axisTick)),q!==void 0&&G.jsx(Q,B({x:Se,y:Ce,text:q.toString()},ue))]},ee)}),m&&G.jsx("g",{className:D.label,children:G.jsx(ce,B({},W,se,{text:m}))})]})}const Q0=n=>{if(n==null)return null;if(typeof n=="object"){var t;return(t=n.axisId)!=null?t:null}return n},J0=(n,t,e)=>typeof n=="object"?B({},n,{slots:B({},t,n==null?void 0:n.slots),slotProps:B({},e,n==null?void 0:n.slotProps)}):{slots:t,slotProps:e};function wk(n){const{topAxis:t,leftAxis:e,rightAxis:r,bottomAxis:i,slots:o,slotProps:a}=n,{xAxis:s,xAxisIds:l,yAxis:u,yAxisIds:c}=F.useContext(_o),d=Q0(e===void 0?c[0]:e),p=Q0(i===void 0?l[0]:i),h=Q0(t),f=Q0(r);if(h!==null&&!s[h])throw Error([`MUI-X-Charts: id used for top axis "${h}" is not defined.`,`Available ids are: ${l.join(", ")}.`].join(`
`));if(d!==null&&!u[d])throw Error([`MUI-X-Charts: id used for left axis "${d}" is not defined.`,`Available ids are: ${c.join(", ")}.`].join(`
`));if(f!==null&&!u[f])throw Error([`MUI-X-Charts: id used for right axis "${f}" is not defined.`,`Available ids are: ${c.join(", ")}.`].join(`
`));if(p!==null&&!s[p])throw Error([`MUI-X-Charts: id used for bottom axis "${p}" is not defined.`,`Available ids are: ${l.join(", ")}.`].join(`
`));const v=J0(t,o,a),g=J0(i,o,a),y=J0(e,o,a),m=J0(r,o,a);return G.jsxs(F.Fragment,{children:[h&&G.jsx(U3,B({},v,{position:"top",axisId:h})),p&&G.jsx(U3,B({},g,{position:"bottom",axisId:p})),d&&G.jsx(K3,B({},y,{position:"left",axisId:d})),f&&G.jsx(K3,B({},m,{position:"right",axisId:f}))]})}function PSe(n){if(n===null)return{getBoundingClientRect:()=>({width:0,height:0,x:0,y:0,top:0,right:0,bottom:0,left:0,toJSON:()=>""})};const{x:t,y:e}=n;return{getBoundingClientRect:()=>({width:0,height:0,x:t,y:e,top:e,right:t,bottom:e,left:t,toJSON:()=>JSON.stringify({width:0,height:0,x:t,y:e,top:e,right:t,bottom:e,left:t})})}}function ASe(){const n=F.useContext(NN),[t,e]=F.useState(null);return F.useEffect(()=>{const r=n.current;if(r===null)return()=>{};const i=()=>{e(null)},o=a=>{e({x:a.clientX,y:a.clientY})};return r.addEventListener("mouseout",i),r.addEventListener("mousemove",o),()=>{r.removeEventListener("mouseout",i),r.removeEventListener("mousemove",o)}},[n]),t}function DSe(n,t){if(n==="item")return t!==null;const e=t.x!==null,r=t.y!==null;return e||r}function MSe(n){return zt("MuiChartsTooltip",n)}const Y3=Gt("MuiChartsTooltip",["root","table","row","cell","mark","markCell","labelCell","valueCell"]),a7=Ke("div",{name:"MuiChartsTooltip",slot:"Container"})(({theme:n})=>({backgroundColor:(n.vars||n).palette.background.paper,color:(n.vars||n).palette.text.primary,transition:n.transitions.create("box-shadow"),border:`1px solid ${(n.vars||n).palette.divider}`,borderRadius:n.shape.borderRadius})),s7=Ke("table",{name:"MuiChartsTooltip",slot:"Table"})(({theme:n})=>({borderSpacing:0,"& thead td":{borderBottom:`solid ${(n.vars||n).palette.divider} 1px`}})),lF=Ke("tr",{name:"MuiChartsTooltip",slot:"Row"})(({theme:n})=>({"tr:first-of-type& td":{paddingTop:n.spacing(1)},"tr:last-of-type& td":{paddingBottom:n.spacing(1)}})),_h=Ke("td",{name:"MuiChartsTooltip",slot:"Cell"})(({theme:n})=>({verticalAlign:"middle",color:(n.vars||n).palette.text.secondary,[`&.${Y3.labelCell}`]:{paddingLeft:n.spacing(1)},[`&.${Y3.valueCell}`]:{paddingLeft:n.spacing(4),color:(n.vars||n).palette.text.primary},"td:first-of-type&":{paddingLeft:n.spacing(2)},"td:last-of-type&":{paddingRight:n.spacing(2)}})),l7=Ke(Jue,{name:"MuiChartsTooltip",slot:"Mark"})(({theme:n,ownerState:t})=>({width:n.spacing(1),height:n.spacing(1),borderRadius:"50%",backgroundColor:t.color,borderColor:(n.vars||n).palette.background.paper,border:`solid ${(n.vars||n).palette.background.paper} ${n.spacing(.25)}`,boxSizing:"content-box"}));function LSe(n){const{series:t,itemData:e,sx:r,classes:i}=n;if(e.dataIndex===void 0)return null;const{displayedLabel:o,color:a}=t.type==="pie"?{color:t.data[e.dataIndex].color,displayedLabel:t.data[e.dataIndex].label}:{color:t.color,displayedLabel:t.label},s=t.valueFormatter(t.data[e.dataIndex]);return G.jsx(a7,{sx:r,className:i.root,children:G.jsx(s7,{className:i.table,children:G.jsx("tbody",{children:G.jsxs(lF,{className:i.row,children:[G.jsx(_h,{className:st(i.markCell,i.cell),children:G.jsx(l7,{ownerState:{color:a},className:i.mark})}),G.jsx(_h,{className:st(i.labelCell,i.cell),children:o}),G.jsx(_h,{className:st(i.valueCell,i.cell),children:s})]})})})})}function FSe(n){const{content:t,itemData:e,sx:r,classes:i,contentProps:o}=n,a=F.useContext($s)[e.type].series[e.seriesId],s=t??LSe,l=Gn({elementType:s,externalSlotProps:o,additionalProps:{itemData:e,series:a,sx:r,classes:i},ownerState:{}});return G.jsx(s,B({},l))}function ISe(n){var t;const{series:e,axis:r,dataIndex:i,axisValue:o,sx:a,classes:s}=n;if(i==null)return null;const l=(t=r.valueFormatter)!=null?t:u=>u.toLocaleString();return G.jsx(a7,{sx:a,className:s.root,children:G.jsxs(s7,{className:s.table,children:[o!=null&&!r.hideTooltip&&G.jsx("thead",{children:G.jsx(lF,{children:G.jsx(_h,{colSpan:3,children:G.jsx(Kx,{children:l(o)})})})}),G.jsx("tbody",{children:e.map(({color:u,id:c,label:d,valueFormatter:p,data:h})=>{const f=p(h[i]);return f==null?null:G.jsxs(lF,{className:s.row,children:[G.jsx(_h,{className:st(s.markCell,s.cell),children:G.jsx(l7,{ownerState:{color:u},boxShadow:1,className:s.mark})}),G.jsx(_h,{className:st(s.labelCell,s.cell),children:d?G.jsx(Kx,{children:d}):null}),G.jsx(_h,{className:st(s.valueCell,s.cell),children:G.jsx(Kx,{children:f})})]},c)})})]})})}function NSe(n){const{content:t,contentProps:e,axisData:r,sx:i,classes:o}=n,a=(r.x&&r.x.index)!==void 0,s=a?r.x&&r.x.index:r.y&&r.y.index,l=a?r.x&&r.x.value:r.y&&r.y.value,{xAxisIds:u,xAxis:c,yAxisIds:d,yAxis:p}=F.useContext(_o),h=F.useContext($s),f=a?u[0]:d[0],v=F.useMemo(()=>{const C=[];return Object.keys(h).filter(S=>["bar","line","scatter"].includes(S)).forEach(S=>{h[S].seriesOrder.forEach(w=>{const _=h[S].series[w],x=a?_.xAxisKey:_.yAxisKey;(x===void 0||x===f)&&C.push(h[S].series[w])})}),C},[f,a,h]),g=F.useMemo(()=>a?c[f]:p[f],[f,a,c,p]),y=t??ISe,m=Gn({elementType:y,externalSlotProps:e,additionalProps:{axisData:r,series:v,axis:g,dataIndex:s,axisValue:l,sx:i,classes:o},ownerState:{}});return G.jsx(y,B({},m))}const kSe=n=>{const{classes:t}=n;return Wt({root:["root"],table:["table"],row:["row"],cell:["cell"],mark:["mark"],markCell:["markCell"],labelCell:["labelCell"],valueCell:["valueCell"]},MSe,t)},GSe=Ke(jpe,{name:"MuiChartsTooltip",slot:"Root",overridesResolver:(n,t)=>t.root})(({theme:n})=>({pointerEvents:"none",zIndex:n.zIndex.modal}));function _k(n){var t,e,r;const i=Ir({props:n,name:"MuiChartsTooltip"}),{trigger:o="axis",itemContent:a,axisContent:s,slots:l,slotProps:u}=i,c=ASe(),{item:d,axis:p}=F.useContext(Ws),h=o==="item"?d:p,f=DSe(o,h),v=c!==null&&f,g=kSe({classes:i.classes}),y=(t=l==null?void 0:l.popper)!=null?t:GSe,m=Gn({elementType:y,externalSlotProps:u==null?void 0:u.popper,additionalProps:{open:v,placement:"right-start",anchorEl:PSe(c)},ownerState:{}});return o==="none"?null:G.jsx(S9,{children:v&&G.jsx(y,B({},m,{children:o==="item"?G.jsx(FSe,{itemData:h,content:(e=l==null?void 0:l.itemContent)!=null?e:a,contentProps:u==null?void 0:u.itemContent,sx:{mx:2},classes:g}):G.jsx(NSe,{axisData:h,content:(r=l==null?void 0:l.axisContent)!=null?r:s,contentProps:u==null?void 0:u.axisContent,sx:{mx:2},classes:g})}))})}const VSe=n=>{const{seriesOrder:t,series:e}=n;return t.map(i=>({color:e[i].color,label:e[i].label,id:i})).filter(i=>i.label!==void 0)},BSe=VSe,HSe=n=>{const{seriesOrder:t,series:e}=n;return t.map(i=>({color:e[i].color,label:e[i].label,id:i})).filter(i=>i.label!==void 0)},jSe=HSe,$Se=n=>{const{seriesOrder:t,series:e}=n;return t.map(i=>({color:e[i].color,label:e[i].label,id:i})).filter(i=>i.label!==void 0)},WSe=$Se,USe=n=>{const{seriesOrder:t,series:e}=n;return t.flatMap(r=>e[r].data.map(i=>({color:i.color,label:i.label,id:i.id})).filter(i=>i.label!==void 0))},zSe=USe,KSe={bar:BSe,scatter:jSe,line:WSe,pie:zSe};function YSe(n){return Object.keys(n).flatMap(t=>KSe[t](n[t]))}function XSe(n){return zt("MuiChartsLegend",n)}Gt("MuiChartsLegend",["root","series","mark","label","column","row"]);const qSe=["rotate","dominantBaseline"],ZSe=["label"],QSe=n=>{const{classes:t,direction:e}=n;return Wt({root:["root",e],mark:["mark"],label:["label"],series:["series"]},XSe,t)},JSe=Ke("g",{name:"MuiChartsLegend",slot:"Root",overridesResolver:(n,t)=>t.root})({}),ewe={position:{horizontal:"middle",vertical:"top"},direction:"row"},twe=n=>typeof n=="number"?{left:n,right:n,top:n,bottom:n}:B({left:0,right:0,top:0,bottom:0},n);function rwe(n){const{hidden:t,position:e,direction:r,seriesToDisplay:i,drawingArea:o,classes:a,itemMarkWidth:s=20,itemMarkHeight:l=20,markGap:u=5,itemGap:c=10,padding:d=10,labelStyle:p}=n,h=op(),f=F.useMemo(()=>B({},h.typography.subtitle1,{color:"inherit",dominantBaseline:"central",textAnchor:"start",fill:(h.vars||h).palette.text.primary,lineHeight:1},p),[p,h]),v=F.useMemo(()=>twe(d),[d]),g=F.useCallback((_,x={})=>{const b=Le(x,qSe),O=Sk({style:b,needsComputation:!0,text:_}),P={innerWidth:s+u+Math.max(...O.map(D=>D.width)),innerHeight:Math.max(l,O.length*O[0].height)};return B({},P,{outerWidth:P.innerWidth+c,outerHeight:P.innerHeight+c})},[c,l,s,u]),y=o.left+o.width+o.right,m=o.top+o.height+o.bottom,C=y-v.left-v.right,S=m-v.top-v.bottom,w=F.useMemo(()=>{let _=0,x=0,b=0,O=0,P=0;const D=[0],N=i.map(k=>{let{label:H}=k,$=Le(k,ZSe);const V=g(H,f),W=B({},$,{label:H,positionX:_,positionY:x,innerHeight:V.innerHeight,innerWidth:V.innerWidth,outerHeight:V.outerHeight,outerWidth:V.outerWidth,rowIndex:P});return r==="row"&&(_+V.innerWidth>C&&(_=0,x+=D[P],P+=1,D.length<=P&&D.push(0),W.positionX=_,W.positionY=x,W.rowIndex=P),b=Math.max(b,_+V.outerWidth),O=Math.max(O,x+V.outerHeight),D[P]=Math.max(D[P],V.outerHeight),_+=V.outerWidth),r==="column"&&(x+V.innerHeight>S&&(_=b+c,x=0,P=0,W.positionX=_,W.positionY=x,W.rowIndex=P),D.length<=P&&D.push(0),b=Math.max(b,_+V.outerWidth),O=Math.max(O,x+V.outerHeight),P+=1,x+=V.outerHeight),W});let L=0,I=0;switch(e.horizontal){case"left":L=v.left;break;case"right":L=y-v.right-b;break;default:L=(y-b)/2;break}switch(e.vertical){case"top":I=v.top;break;case"bottom":I=m-v.bottom-O;break;default:I=(m-O)/2;break}return N.map(k=>B({},k,{positionX:k.positionX+L,positionY:k.positionY+I+(r==="row"?D[k.rowIndex]/2:k.outerHeight/2)}))},[i,e.horizontal,e.vertical,g,f,r,C,S,c,v.left,v.right,v.top,v.bottom,y,m]);return t?null:G.jsx(S9,{children:G.jsx(JSe,{className:a.root,children:w.map(({id:_,label:x,color:b,positionX:O,positionY:P})=>G.jsxs("g",{className:a.series,transform:`translate(${O} ${P})`,children:[G.jsx("rect",{className:a.mark,y:-l/2,width:s,height:l,fill:b}),G.jsx(LS,{style:f,text:x,x:s+u,y:0})]},_))})})}function xk(n){var t;const e=Ir({props:B({},ewe,n),name:"MuiChartsLegend"}),{position:r,direction:i,hidden:o,slots:a,slotProps:s}=e,l=op(),u=QSe(B({},e,{theme:l})),c=F.useContext(sp),d=F.useContext($s),p=YSe(d),h=(t=a==null?void 0:a.legend)!=null?t:rwe,f=Gn({elementType:h,externalSlotProps:s==null?void 0:s.legend,additionalProps:{position:r,direction:i,classes:u,drawingArea:c,series:d,hidden:o,seriesToDisplay:p},ownerState:{}});return G.jsx(h,B({},f))}function Ag(n){return MS(n)?t=>n(t)+n.bandwidth()/2:t=>n(t)}function nwe(n){return zt("MuiChartsAxisHighlight",n)}Gt("MuiChartsAxisHighlight",["root"]);const iwe=()=>Wt({root:["root"]},nwe),e_=Ke("path",{name:"MuiChartsAxisHighlight",slot:"Root",overridesResolver:(n,t)=>t.root})(({ownerState:n,theme:t})=>B({pointerEvents:"none"},n.axisHighlight==="band"&&{fill:t.palette.mode==="light"?"gray":"white",fillOpacity:.1},n.axisHighlight==="line"&&{strokeDasharray:"5 2",stroke:t.palette.mode==="light"?"#000000":"#ffffff"}));function Ek(n){const{x:t,y:e}=n,{xAxisIds:r,xAxis:i,yAxisIds:o,yAxis:a}=F.useContext(_o),s=iwe(),l=r[0],u=o[0],c=i[l].scale,d=a[u].scale,{axis:p}=F.useContext(Ws),h=Ag(c),f=Ag(d);return G.jsxs(F.Fragment,{children:[t==="band"&&p.x!==null&&MS(c)&&G.jsx(e_,{d:`M ${c(p.x.value)-(c.step()-c.bandwidth())/2} ${d.range()[0]} l ${c.step()} 0 l 0 ${d.range()[1]-d.range()[0]} l ${-c.step()} 0 Z`,className:s.root,ownerState:{axisHighlight:"band"}}),e==="band"&&p.y!==null&&MS(d)&&G.jsx(e_,{d:`M ${c.range()[0]} ${d(p.y.value)-(d.step()-d.bandwidth())/2} l 0 ${d.step()} l ${c.range()[1]-c.range()[0]} 0 l 0 ${-d.step()} Z`,className:s.root,ownerState:{axisHighlight:"band"}}),t==="line"&&p.x!==null&&G.jsx(e_,{d:`M ${h(p.x.value)} ${d.range()[0]} L ${h(p.x.value)} ${d.range()[1]}`,className:s.root,ownerState:{axisHighlight:"line"}}),e==="line"&&p.y!==null&&G.jsx(e_,{d:`M ${c.range()[0]} ${f(p.y.value)} L ${c.range()[1]} ${f(p.y.value)}`,className:s.root,ownerState:{axisHighlight:"line"}})]})}const Lw=n=>{const{dispatch:t}=F.useContext(Ws),{dispatch:e}=F.useContext(t7);return i=>({onMouseEnter:()=>{t({type:"enterItem",data:i}),e({type:"enterItem",item:i,scope:n})},onMouseLeave:()=>{t({type:"leaveItem",data:i}),e({type:"leaveItem",item:i})}})},Fw=(n,t,e)=>{if(!(e!=null&&e.highlighted)||e.highlighted==="none"||n===null)return!1;const r=n.type===t.type&&n.seriesId===t.seriesId;return r?e.highlighted==="series"?r:n.dataIndex!==void 0&&n.dataIndex===t.dataIndex:!1},Iw=(n,t,e)=>{if(!(e!=null&&e.faded)||e.faded==="none"||n===null)return!1;const r=n.type===t.type&&n.seriesId===t.seriesId;return e.faded==="series"?r&&n.dataIndex!==t.dataIndex:e.faded==="global"?r?n.dataIndex!==void 0&&n.dataIndex!==t.dataIndex:!0:!1},owe=["id","dataIndex","classes","color","highlightScope","onClick","isFaded","isHighlighted","startAngle","endAngle","paddingAngle","innerRadius","outerRadius","cornerRadius"];function awe(n){return zt("MuiPieArc",n)}Gt("MuiPieArc",["root","highlighted","faded"]);const swe=n=>{const{classes:t,id:e,isFaded:r,isHighlighted:i}=n,o={root:["root",`series-${e}`,i&&"highlighted",r&&"faded"]};return Wt(o,awe,t)},lwe=Ke(tk.path,{name:"MuiPieArc",slot:"Root",overridesResolver:(n,t)=>t.arc})(({theme:n})=>({stroke:(n.vars||n).palette.background.paper,strokeWidth:1,strokeLinejoin:"round"}));function uwe(n){const{id:t,dataIndex:e,classes:r,color:i,highlightScope:o,onClick:a,isFaded:s,isHighlighted:l,startAngle:u,endAngle:c,paddingAngle:d,innerRadius:p,outerRadius:h,cornerRadius:f}=n,v=Le(n,owe),g={id:t,dataIndex:e,classes:r,color:i,isFaded:s,isHighlighted:l},y=swe(g),m=Lw(o);return G.jsx(lwe,B({d:tF([u,c,d,p,h,f],(C,S,w,_,x,b)=>G9().cornerRadius(b)({padAngle:w,startAngle:C,endAngle:S,innerRadius:_,outerRadius:x})),onClick:a,cursor:a?"pointer":"unset",ownerState:g,className:y.root},v,m({type:"pie",seriesId:t,dataIndex:e})))}const cwe={keys:n=>n.id,from:({innerRadius:n,outerRadius:t,cornerRadius:e,startAngle:r,endAngle:i,paddingAngle:o,color:a,isFaded:s})=>({innerRadius:n,outerRadius:(n+t)/2,cornerRadius:e,startAngle:(r+i)/2,endAngle:(r+i)/2,paddingAngle:o,fill:a,opacity:s?.3:1}),leave:({innerRadius:n,startAngle:t,endAngle:e})=>({innerRadius:n,outerRadius:n,startAngle:(t+e)/2,endAngle:(t+e)/2}),enter:({innerRadius:n,outerRadius:t,startAngle:e,endAngle:r})=>({innerRadius:n,outerRadius:t,startAngle:e,endAngle:r}),update:({innerRadius:n,outerRadius:t,cornerRadius:e,startAngle:r,endAngle:i,paddingAngle:o,color:a,isFaded:s})=>({innerRadius:n,outerRadius:t,cornerRadius:e,startAngle:r,endAngle:i,paddingAngle:o,fill:a,opacity:s?.3:1}),config:{tension:120,friction:14,clamp:!0}},dwe={keys:n=>n.id,from:({innerRadius:n,outerRadius:t,arcLabelRadius:e,cornerRadius:r,startAngle:i,endAngle:o,paddingAngle:a})=>({innerRadius:n,outerRadius:(n+t)/2,cornerRadius:r,arcLabelRadius:e,startAngle:(i+o)/2,endAngle:(i+o)/2,paddingAngle:a,opacity:0}),leave:({innerRadius:n,startAngle:t,endAngle:e})=>({innerRadius:n,outerRadius:n,arcLabelRadius:n,startAngle:(t+e)/2,endAngle:(t+e)/2,opacity:0}),enter:({innerRadius:n,outerRadius:t,startAngle:e,endAngle:r,arcLabelRadius:i})=>({innerRadius:n,outerRadius:t,startAngle:e,endAngle:r,arcLabelRadius:i,opacity:1}),update:({innerRadius:n,outerRadius:t,cornerRadius:e,startAngle:r,endAngle:i,paddingAngle:o,arcLabelRadius:a})=>({innerRadius:n,outerRadius:t,cornerRadius:e,startAngle:r,endAngle:i,paddingAngle:o,arcLabelRadius:a,opacity:1}),config:{tension:120,friction:14,clamp:!0}};function u7(n){const{id:t,highlightScope:e,data:r,faded:i,highlighted:o,paddingAngle:a=0,innerRadius:s=0,arcLabelRadius:l,outerRadius:u,cornerRadius:c=0}=n,{item:d}=F.useContext(Ws),p=F.useCallback(f=>{const v=Fw(d,{type:"pie",seriesId:t,dataIndex:f},e),g=!v&&Iw(d,{type:"pie",seriesId:t,dataIndex:f},e);return{isHighlighted:v,isFaded:g}},[e,d,t]);return F.useMemo(()=>r.map((f,v)=>{var g,y,m,C,S,w;const{isHighlighted:_,isFaded:x}=p(v),b=B({additionalRadius:0},x&&i||_&&o||{}),O=Math.max(0,Math.PI*((g=b.paddingAngle)!=null?g:a)/180),P=Math.max(0,(y=b.innerRadius)!=null?y:s),D=Math.max(0,(m=b.outerRadius)!=null?m:u+b.additionalRadius),N=(C=b.cornerRadius)!=null?C:c,L=(S=(w=b.arcLabelRadius)!=null?w:l)!=null?S:(P+D)/2;return B({},f,b,{isFaded:x,isHighlighted:_,paddingAngle:O,innerRadius:P,outerRadius:D,cornerRadius:N,arcLabelRadius:L})}),[c,s,u,a,l,r,i,p,o])}const pwe=["slots","slotProps","innerRadius","outerRadius","cornerRadius","paddingAngle","id","highlightScope","highlighted","faded","data","onClick","skipAnimation"],hwe=["startAngle","endAngle","paddingAngle","innerRadius","arcLabelRadius","outerRadius","cornerRadius"];function fwe(n){var t;const{slots:e,slotProps:r,innerRadius:i=0,outerRadius:o,cornerRadius:a=0,paddingAngle:s=0,id:l,highlightScope:u,highlighted:c,faded:d={additionalRadius:-5},data:p,onClick:h,skipAnimation:f}=n,v=Le(n,pwe),g=u7({innerRadius:i,outerRadius:o,cornerRadius:a,paddingAngle:s,id:l,highlightScope:u,highlighted:c,faded:d,data:p}),y=ek(g,B({},cwe,{immediate:f}));if(p.length===0)return null;const m=(t=e==null?void 0:e.pieArc)!=null?t:uwe;return G.jsx("g",B({},v,{children:y((C,S,w,_)=>{let{startAngle:x,endAngle:b,paddingAngle:O,innerRadius:P,outerRadius:D,cornerRadius:N}=C,L=Le(C,hwe);return G.jsx(m,B({startAngle:x,endAngle:b,paddingAngle:O,innerRadius:P,outerRadius:D,cornerRadius:N,style:L,id:l,color:S.color,dataIndex:_,highlightScope:u,isFaded:S.isFaded,isHighlighted:S.isHighlighted,onClick:h&&(I=>{h(I,{type:"pie",seriesId:l,dataIndex:_},S)})},r==null?void 0:r.pieArc))})}))}const vwe=["id","classes","color","startAngle","endAngle","paddingAngle","arcLabelRadius","innerRadius","outerRadius","cornerRadius","formattedArcLabel","isHighlighted","isFaded","style"];function gwe(n){return zt("MuiPieArcLabel",n)}Gt("MuiPieArcLabel",["root","highlighted","faded"]);const ywe=n=>{const{classes:t,id:e,isFaded:r,isHighlighted:i}=n,o={root:["root",`series-${e}`,i&&"highlighted",r&&"faded"]};return Wt(o,gwe,t)},mwe=Ke(tk.text,{name:"MuiPieArcLabel",slot:"Root",overridesResolver:(n,t)=>t.root})(({theme:n})=>({fill:(n.vars||n).palette.text.primary,textAnchor:"middle",dominantBaseline:"middle"})),X3=(n,t)=>(e,r,i,o,a)=>{if(!n)return 0;const[s,l]=G9().cornerRadius(a).centroid({padAngle:i,startAngle:e,endAngle:r,innerRadius:o,outerRadius:o});return t==="x"?s:l};function Cwe(n){const{id:t,classes:e,color:r,startAngle:i,endAngle:o,paddingAngle:a,arcLabelRadius:s,cornerRadius:l,formattedArcLabel:u,isHighlighted:c,isFaded:d,style:p}=n,h=Le(n,vwe),v=ywe({id:t,classes:e,color:r,isFaded:d,isHighlighted:c});return G.jsx(mwe,B({className:v.root},h,{style:B({x:tF([i,o,a,s,l],X3(u,"x")),y:tF([i,o,a,s,l],X3(u,"y"))},p),children:u}))}const Swe=["slots","slotProps","innerRadius","outerRadius","arcLabelRadius","cornerRadius","paddingAngle","id","highlightScope","highlighted","faded","data","arcLabel","arcLabelMinAngle","skipAnimation"],wwe=["startAngle","endAngle","paddingAngle","innerRadius","outerRadius","arcLabelRadius","cornerRadius"],_we=180/Math.PI;function xwe(n,t,e){if(!n||(e.endAngle-e.startAngle)*_we<t)return null;if(typeof n=="string"){var i;return(i=e[n])==null?void 0:i.toString()}return n(e)}function Ewe(n){var t;const{slots:e,slotProps:r,innerRadius:i,outerRadius:o,arcLabelRadius:a,cornerRadius:s=0,paddingAngle:l=0,id:u,highlightScope:c,highlighted:d,faded:p={additionalRadius:-5},data:h,arcLabel:f,arcLabelMinAngle:v=0,skipAnimation:g}=n,y=Le(n,Swe),m=u7({innerRadius:i,outerRadius:o,arcLabelRadius:a,cornerRadius:s,paddingAngle:l,id:u,highlightScope:c,highlighted:d,faded:p,data:h}),C=ek(m,B({},dwe,{immediate:g}));if(h.length===0)return null;const S=(t=e==null?void 0:e.pieArcLabel)!=null?t:Cwe;return G.jsx("g",B({},y,{children:C((w,_)=>{let{startAngle:x,endAngle:b,paddingAngle:O,innerRadius:P,outerRadius:D,arcLabelRadius:N,cornerRadius:L}=w,I=Le(w,wwe);return G.jsx(S,B({startAngle:x,endAngle:b,paddingAngle:O,innerRadius:P,outerRadius:D,arcLabelRadius:N,cornerRadius:L,style:I,id:u,color:_.color,isFaded:_.isFaded,isHighlighted:_.isHighlighted,formattedArcLabel:xwe(f,v,_)},r==null?void 0:r.pieArcLabel))})}))}function bwe(n){return"circle cross diamond square star triangle wye".split(/ /).indexOf(n)||0}function gu(n,t){if(typeof n=="number")return n;if(n==="100%")return t;if(n.endsWith("%")){const e=Number.parseFloat(n.slice(0,n.length-1));if(!Number.isNaN(e))return e*t/100}if(n.endsWith("px")){const e=Number.parseFloat(n.slice(0,n.length-2));if(!Number.isNaN(e))return e}throw Error(`MUI-Charts: Received an unknown value "${n}". It should be a number, or a string with a percentage value.`)}function Owe(n){const{skipAnimation:t,slots:e,slotProps:r,onClick:i}=n,o=F.useContext($s).pie,{left:a,top:s,width:l,height:u}=F.useContext(sp);if(o===void 0)return null;const c=Math.min(l,u)/2,{series:d,seriesOrder:p}=o;return G.jsxs("g",{children:[p.map(h=>{const{innerRadius:f,outerRadius:v,cornerRadius:g,paddingAngle:y,data:m,cx:C,cy:S,highlighted:w,faded:_,highlightScope:x}=d[h],b=gu(v??c,c),O=gu(f??0,c),P=gu(C??"50%",l),D=gu(S??"50%",u);return G.jsx("g",{transform:`translate(${a+P}, ${s+D})`,children:G.jsx(fwe,{innerRadius:O,outerRadius:b,cornerRadius:g,paddingAngle:y,id:h,data:m,skipAnimation:t,highlightScope:x,highlighted:w,faded:_,onClick:i,slots:e,slotProps:r})},h)}),p.map(h=>{const{innerRadius:f,outerRadius:v,arcLabelRadius:g,cornerRadius:y,paddingAngle:m,arcLabel:C,arcLabelMinAngle:S,data:w,cx:_,cy:x,highlightScope:b}=d[h],O=gu(v??c,c),P=gu(f??0,c),D=g===void 0?(O+P)/2:gu(g,c),N=gu(_??"50%",l),L=gu(x??"50%",u);return G.jsx("g",{transform:`translate(${a+N}, ${s+L})`,children:G.jsx(Ewe,{innerRadius:P,outerRadius:O??c,arcLabelRadius:D,cornerRadius:y,paddingAngle:m,id:h,data:w,skipAnimation:t,arcLabel:C,arcLabelMinAngle:S,highlightScope:b})},h)})]})}const Rwe={top:5,bottom:5,left:5,right:100};function Twe(n){const{xAxis:t,yAxis:e,series:r,width:i,height:o,margin:a,colors:s,sx:l,tooltip:u={trigger:"item"},axisHighlight:c={x:"none",y:"none"},skipAnimation:d,legend:p={direction:"column",position:{vertical:"middle",horizontal:"right"}},topAxis:h=null,leftAxis:f=null,rightAxis:v=null,bottomAxis:g=null,children:y,slots:m,slotProps:C,onClick:S}=n,w=B({},Rwe,a);return G.jsxs(Ck,{series:r.map(_=>B({type:"pie"},_)),width:i,height:o,margin:w,xAxis:t??[{id:Ju,scaleType:"point",data:[...new Array(Math.max(...r.map(_=>_.data.length)))].map((_,x)=>x)}],yAxis:e,colors:s,sx:l,disableAxisListener:(u==null?void 0:u.trigger)!=="axis"&&(c==null?void 0:c.x)==="none"&&(c==null?void 0:c.y)==="none",children:[G.jsx(wk,{topAxis:h,leftAxis:f,rightAxis:v,bottomAxis:g,slots:m,slotProps:C}),G.jsx(Owe,{slots:m,slotProps:C,onClick:S,skipAnimation:d}),G.jsx(xk,B({},p,{slots:m,slotProps:C})),G.jsx(Ek,B({},c)),G.jsx(_k,B({},u)),y]})}function Pwe(){const n=Xh.reduce((e,r)=>{const i=r.params.value.find(o=>o.title==="Пол").value;return e[i]=(e[i]||0)+1,e},{}),t=Object.entries(n).map(([e,r])=>({id:e,value:r,label:e}));return G.jsx(Twe,{series:[{data:t}],width:400,height:200})}const Awe=["id","classes","color","highlightScope","slots","slotProps"];function Dwe(n){return zt("MuiAreaElement",n)}Gt("MuiAreaElement",["root","highlighted","faded"]);const Mwe=n=>{const{classes:t,id:e,isFaded:r,isHighlighted:i}=n,o={root:["root",`series-${e}`,i&&"highlighted",r&&"faded"]};return Wt(o,Dwe,t)},c7=Ke("path",{name:"MuiAreaElement",slot:"Root",overridesResolver:(n,t)=>t.root})(({ownerState:n})=>({stroke:"none",fill:n.isHighlighted?ec(n.color).brighter(1).formatHex():ec(n.color).brighter(.5).formatHex(),transition:"opacity 0.2s ease-in, fill 0.2s ease-in",opacity:n.isFaded?.3:1}));c7.propTypes={as:Je.elementType,ownerState:Je.shape({classes:Je.object,color:Je.string.isRequired,id:Je.string.isRequired,isFaded:Je.bool.isRequired,isHighlighted:Je.bool.isRequired}).isRequired,sx:Je.oneOfType([Je.arrayOf(Je.oneOfType([Je.func,Je.object,Je.bool])),Je.func,Je.object])};function Lwe(n){var t;const{id:e,classes:r,color:i,highlightScope:o,slots:a,slotProps:s}=n,l=Le(n,Awe),u=Lw(o),{item:c}=F.useContext(Ws),d=Fw(c,{type:"line",seriesId:e},o),p=!d&&Iw(c,{type:"line",seriesId:e},o),h={id:e,classes:r,color:i,isFaded:p,isHighlighted:d},f=Mwe(h),v=(t=a==null?void 0:a.area)!=null?t:c7,g=Gn({elementType:v,externalSlotProps:s==null?void 0:s.area,additionalProps:B({},l,u({type:"line",seriesId:e}),{className:f.root}),ownerState:h});return G.jsx(v,B({},g))}function d7(n){switch(n){case"catmullRom":return gve.alpha(.5);case"linear":return kN;case"monotoneX":return Lj;case"monotoneY":return yve;case"natural":return mve;case"step":return Cve;case"stepBefore":return Sve;case"stepAfter":return wve;default:return Lj}}const Fwe=["slots","slotProps"];function Iwe(n){const{slots:t,slotProps:e}=n,r=Le(n,Fwe),i=F.useContext($s).line,o=F.useContext(_o);if(i===void 0)return null;const{series:a,stackingGroups:s}=i,{xAxis:l,yAxis:u,xAxisIds:c,yAxisIds:d}=o,p=c[0],h=d[0];return G.jsx("g",B({},r,{children:s.flatMap(({ids:f})=>f.flatMap(v=>{var g;const{xAxisKey:y=p,yAxisKey:m=h,stackedData:C,data:S,connectNulls:w}=a[v],_=Ag(l[y].scale),x=u[m].scale,b=l[y].data,O=Qfe().x(L=>_(L.x)).defined((L,I)=>w||S[I]!=null).y0(L=>L.y&&x(L.y[0])).y1(L=>L.y&&x(L.y[1])),P=d7(a[v].curve),D=(g=b==null?void 0:b.map((L,I)=>({x:L,y:C[I]})))!=null?g:[],N=w?D.filter((L,I)=>S[I]!=null):D;return!!a[v].area&&G.jsx(Lwe,{id:v,d:O.curve(P)(N)||void 0,color:a[v].color,highlightScope:a[v].highlightScope,slots:t,slotProps:e},v)}))}))}const Nwe=["id","classes","color","highlightScope","slots","slotProps"];function kwe(n){return zt("MuiLineElement",n)}Gt("MuiLineElement",["root","highlighted","faded"]);const Gwe=n=>{const{classes:t,id:e,isFaded:r,isHighlighted:i}=n,o={root:["root",`series-${e}`,i&&"highlighted",r&&"faded"]};return Wt(o,kwe,t)},p7=Ke("path",{name:"MuiLineElement",slot:"Root",overridesResolver:(n,t)=>t.root})(({ownerState:n})=>({strokeWidth:2,strokeLinejoin:"round",fill:"none",stroke:n.isHighlighted?ec(n.color).brighter(.5).formatHex():n.color,transition:"opacity 0.2s ease-in, stroke 0.2s ease-in",opacity:n.isFaded?.3:1}));p7.propTypes={as:Je.elementType,ownerState:Je.shape({classes:Je.object,color:Je.string.isRequired,id:Je.string.isRequired,isFaded:Je.bool.isRequired,isHighlighted:Je.bool.isRequired}).isRequired,sx:Je.oneOfType([Je.arrayOf(Je.oneOfType([Je.func,Je.object,Je.bool])),Je.func,Je.object])};function Vwe(n){var t;const{id:e,classes:r,color:i,highlightScope:o,slots:a,slotProps:s}=n,l=Le(n,Nwe),u=Lw(o),{item:c}=F.useContext(Ws),d=Fw(c,{type:"line",seriesId:e},o),p=!d&&Iw(c,{type:"line",seriesId:e},o),h={id:e,classes:r,color:i,isFaded:p,isHighlighted:d},f=Gwe(h),v=(t=a==null?void 0:a.line)!=null?t:p7,g=Gn({elementType:v,externalSlotProps:s==null?void 0:s.line,additionalProps:B({},l,u({type:"line",seriesId:e}),{className:f.root}),ownerState:h});return G.jsx(v,B({},g))}const Bwe=["slots","slotProps"];function Hwe(n){const{slots:t,slotProps:e}=n,r=Le(n,Bwe),i=F.useContext($s).line,o=F.useContext(_o);if(i===void 0)return null;const{series:a,stackingGroups:s}=i,{xAxis:l,yAxis:u,xAxisIds:c,yAxisIds:d}=o,p=c[0],h=d[0];return G.jsx("g",B({},r,{children:s.flatMap(({ids:f})=>f.flatMap(v=>{var g;const{xAxisKey:y=p,yAxisKey:m=h,stackedData:C,data:S,connectNulls:w}=a[v],_=Ag(l[y].scale),x=u[m].scale,b=l[y].data,O=j9().x(L=>_(L.x)).defined((L,I)=>w||S[I]!=null).y(L=>x(L.y[1])),P=d7(a[v].curve),D=(g=b==null?void 0:b.map((L,I)=>({x:L,y:C[I]})))!=null?g:[],N=w?D.filter((L,I)=>S[I]!=null):D;return G.jsx(Vwe,{id:v,d:O.curve(P)(N)||void 0,color:a[v].color,highlightScope:a[v].highlightScope,slots:t,slotProps:e},v)}))}))}const jwe=["x","y","id","classes","color","shape","dataIndex","highlightScope"];function $we(n){return zt("MuiMarkElement",n)}Gt("MuiMarkElement",["root","highlighted","faded"]);const Wwe=n=>{const{classes:t,id:e,isFaded:r,isHighlighted:i}=n,o={root:["root",`series-${e}`,i&&"highlighted",r&&"faded"]};return Wt(o,$we,t)},h7=Ke("path",{name:"MuiMarkElement",slot:"Root",overridesResolver:(n,t)=>t.root})(({ownerState:n,theme:t})=>({transform:`translate(${n.x}px, ${n.y}px)`,transformOrigin:`${n.x}px ${n.y}px`,fill:(t.vars||t).palette.background.paper,stroke:n.color,strokeWidth:2}));h7.propTypes={as:Je.elementType,ownerState:Je.shape({classes:Je.object,color:Je.string.isRequired,id:Je.string.isRequired,isFaded:Je.bool.isRequired,isHighlighted:Je.bool.isRequired,x:Je.number.isRequired,y:Je.number.isRequired}).isRequired,sx:Je.oneOfType([Je.arrayOf(Je.oneOfType([Je.func,Je.object,Je.bool])),Je.func,Je.object])};function Uwe(n){var t;const{x:e,y:r,id:i,classes:o,color:a,shape:s,dataIndex:l,highlightScope:u}=n,c=Le(n,jwe),d=Lw(u),{item:p,axis:h}=F.useContext(Ws),f=((t=h.x)==null?void 0:t.index)===l||Fw(p,{type:"line",seriesId:i},u),v=!f&&Iw(p,{type:"line",seriesId:i},u),g={id:i,classes:o,isHighlighted:f,isFaded:v,color:a,x:e,y:r},y=Wwe(g);return G.jsx(h7,B({},c,{ownerState:g,className:y.root,d:fve(hve[bwe(s)])()},d({type:"line",seriesId:i,dataIndex:l})))}const zwe=["slots","slotProps"];function Kwe(n){var t;const{slots:e,slotProps:r}=n,i=Le(n,zwe),o=F.useContext($s).line,a=F.useContext(_o),s=(t=e==null?void 0:e.mark)!=null?t:Uwe;if(o===void 0)return null;const{series:l,stackingGroups:u}=o,{xAxis:c,yAxis:d,xAxisIds:p,yAxisIds:h}=a,f=p[0],v=h[0];return G.jsx("g",B({},i,{children:u.flatMap(({ids:g})=>g.flatMap(y=>{const{xAxisKey:m=f,yAxisKey:C=v,stackedData:S,data:w,showMark:_=!0}=l[y];if(_===!1)return null;const x=Ag(c[m].scale),b=d[C].scale,O=c[m].data,P=c[m].scale.range(),D=b.range(),N=({x:L,y:I})=>!(L<Math.min(...P)||L>Math.max(...P)||I<Math.min(...D)||I>Math.max(...D));if(O===void 0)throw new Error(`MUI-X-Charts: ${m===Ju?"The first `xAxis`":`The x-axis with id "${m}"`} should have data property to be able to display a line plot`);return O==null?void 0:O.map((L,I)=>{const k=w[I]==null?null:S[I][1];return{x:x(L),y:k===null?null:b(k),position:L,value:k,index:I}}).filter(({x:L,y:I,index:k,position:H,value:$})=>$===null||I===null||!N({x:L,y:I})?!1:_===!0?!0:_({x:L,y:I,index:k,position:H,value:$})).map(({x:L,y:I,index:k})=>G.jsx(s,B({id:y,dataIndex:k,shape:"circle",color:l[y].color,x:L,y:I,highlightScope:l[y].highlightScope},r==null?void 0:r.mark),`${y}-${k}`))}))}))}function f7(n){const{id:t,offset:e}=n,{left:r,top:i,width:o,height:a}=F.useContext(sp),s=B({top:0,right:0,bottom:0,left:0},e);return G.jsx("clipPath",{id:t,children:G.jsx("rect",{x:r-s.left,y:i-s.top,width:o+s.left+s.right,height:a+s.top+s.bottom})})}const Ywe=["x","y","id","classes","color"];function Xwe(n){return zt("MuiHighlightElement",n)}Gt("MuiHighlightElement",["root"]);const qwe=n=>{const{classes:t,id:e}=n,r={root:["root",`series-${e}`]};return Wt(r,Xwe,t)},Zwe=Ke("circle",{name:"MuiHighlightElement",slot:"Root",overridesResolver:(n,t)=>t.root})(({ownerState:n})=>({transform:`translate(${n.x}px, ${n.y}px)`,transformOrigin:`${n.x}px ${n.y}px`,fill:n.color}));function Qwe(n){const{x:t,y:e,id:r,classes:i,color:o}=n,a=Le(n,Ywe),s={id:r,classes:i,color:o,x:t,y:e},l=qwe(s);return G.jsx(Zwe,B({},a,{ownerState:s,className:l.root,cx:0,cy:0,r:a.r===void 0?5:a.r}))}const Jwe=["slots","slotProps"];function e0e(n){var t,e;const{slots:r,slotProps:i}=n,o=Le(n,Jwe),a=F.useContext($s).line,s=F.useContext(_o),{axis:l}=F.useContext(Ws),u=(t=l.x)==null?void 0:t.index;if(u===void 0||a===void 0)return null;const{series:c,stackingGroups:d}=a,{xAxis:p,yAxis:h,xAxisIds:f,yAxisIds:v}=s,g=f[0],y=v[0],m=(e=r==null?void 0:r.lineHighlight)!=null?e:Qwe;return G.jsx("g",B({},o,{children:d.flatMap(({ids:C})=>C.flatMap(S=>{const{xAxisKey:w=g,yAxisKey:_=y,stackedData:x,data:b,disableHighlight:O}=c[S];if(O||b[u]==null)return null;const P=Ag(p[w].scale),D=h[_].scale,N=p[w].data;if(N===void 0)throw new Error(`MUI-X-Charts: ${w===Ju?"The first `xAxis`":`The x-axis with id "${w}"`} should have data property to be able to display a line plot.`);const L=P(N[u]),I=D(x[u][1]);return G.jsx(m,B({id:S,color:c[S].color,x:L,y:I},i==null?void 0:i.lineHighlight),`${S}`)}))}))}const t0e=F.forwardRef(function(t,e){const{xAxis:r,yAxis:i,series:o,width:a,height:s,margin:l,colors:u,dataset:c,sx:d,tooltip:p,axisHighlight:h={x:"line"},disableLineItemHighlight:f,legend:v,topAxis:g,leftAxis:y,rightAxis:m,bottomAxis:C,children:S,slots:w,slotProps:_}=t,b=`${nN()}-clip-path`;return G.jsxs(Ck,{ref:e,series:o.map(O=>B({disableHighlight:!!f,type:"line"},O)),width:a,height:s,margin:l,xAxis:r??[{id:Ju,scaleType:"point",data:Array.from({length:Math.max(...o.map(O=>{var P,D;return((P=(D=O.data)!=null?D:c)!=null?P:[]).length}))},(O,P)=>P)}],yAxis:i,colors:u,dataset:c,sx:d,disableAxisListener:(p==null?void 0:p.trigger)!=="axis"&&(h==null?void 0:h.x)==="none"&&(h==null?void 0:h.y)==="none",children:[G.jsxs("g",{clipPath:`url(#${b})`,children:[G.jsx(Iwe,{slots:w,slotProps:_}),G.jsx(Hwe,{slots:w,slotProps:_})]}),G.jsx(wk,{topAxis:g,leftAxis:y,rightAxis:m,bottomAxis:C,slots:w,slotProps:_}),G.jsx(Ek,B({},h)),G.jsx(Kwe,{slots:w,slotProps:_}),G.jsx(e0e,{slots:w,slotProps:_}),G.jsx(xk,B({},v,{slots:w,slotProps:_})),G.jsx(_k,B({},p,{slots:w,slotProps:_})),G.jsx(f7,{id:b}),S]})});function r0e(){const[n,t]=F.useState({xAxis:[],series:[]});return F.useEffect(()=>{const e={};Xh.forEach(a=>{const s=new Date(a.params.value.find(u=>u.title==="Дата рождения").value),l=new Date().getFullYear()-s.getFullYear();e[l]=(e[l]||0)+1});const r=Object.keys(e).map(a=>parseInt(a)).sort((a,s)=>a-s),i=r,o=[{data:r.map(a=>e[a])}];t({xAxis:i,series:o})},[]),G.jsx(t0e,{xAxis:[{data:n.xAxis,label:"Возраст",min:Math.min(...n.xAxis)-1}],yAxis:[{min:0,label:"Количество людей"}],series:n.series,width:500,height:300})}const n0e=["id","dataIndex","classes","color","highlightScope","slots","slotProps","style"];function i0e(n){return zt("MuiBarElement",n)}Gt("MuiBarElement",["root"]);const o0e=n=>{const{classes:t,id:e}=n,r={root:["root",`series-${e}`]};return Wt(r,i0e,t)},a0e=Ke(tk.rect,{name:"MuiBarElement",slot:"Root",overridesResolver:(n,t)=>t.root})(({ownerState:n})=>({stroke:"none",shapeRendering:"crispEdges",fill:n.isHighlighted?ec(n.color).brighter(.5).formatHex():n.color,transition:"opacity 0.2s ease-in, fill 0.2s ease-in",opacity:n.isFaded&&.3||1}));function s0e(n){var t;const{id:e,dataIndex:r,classes:i,color:o,highlightScope:a,slots:s,slotProps:l,style:u}=n,c=Le(n,n0e),d=Lw(a),{item:p}=F.useContext(Ws),h=Fw(p,{type:"bar",seriesId:e,dataIndex:r},a),f=!h&&Iw(p,{type:"bar",seriesId:e,dataIndex:r},a),v={id:e,dataIndex:r,classes:i,color:o,isFaded:f,isHighlighted:h},g=o0e(v),y=(t=s==null?void 0:s.bar)!=null?t:a0e,m=Gn({elementType:y,externalSlotProps:l==null?void 0:l.bar,additionalProps:B({},c,d({type:"bar",seriesId:e,dataIndex:r}),{style:u,className:g.root}),ownerState:v});return G.jsx(y,B({},m))}const l0e=["skipAnimation"];function u0e({bandWidth:n,numberOfGroups:t,gapRatio:e}){if(e===0)return{barWidth:n/t,offset:0};const r=n/(t+(t-1)*e),i=e*r;return{barWidth:r,offset:i}}const c0e=()=>{var n;const t=(n=F.useContext($s).bar)!=null?n:{series:{},stackingGroups:[],seriesOrder:[]},e=F.useContext(_o),{series:r,stackingGroups:i}=t,{xAxis:o,yAxis:a,xAxisIds:s,yAxisIds:l}=e,u=s[0],c=l[0];return i.flatMap(({ids:p},h)=>p.flatMap(f=>{var v,g;const y=(v=r[f].xAxisKey)!=null?v:u,m=(g=r[f].yAxisKey)!=null?g:c,C=o[y],S=a[m],w=r[f].layout==="vertical";let _;if(w){if(!Eb(C))throw new Error(`MUI-X-Charts: ${y===Ju?"The first `xAxis`":`The x-axis with id "${y}"`} shoud be of type "band" to display the bar series of id "${f}"`);if(o[y].data===void 0)throw new Error(`MUI-X-Charts: ${y===Ju?"The first `xAxis`":`The x-axis with id "${y}"`} shoud have data property`);_=C}else{if(!Eb(S))throw new Error(`MUI-X-Charts: ${m===SS?"The first `yAxis`":`The y-axis with id "${m}"`} shoud be of type "band" to display the bar series of id "${f}"`);if(a[m].data===void 0)throw new Error(`MUI-X-Charts: ${m===SS?"The first `yAxis`":`The y-axis with id "${m}"`} shoud have data property`);_=S}const x=C.scale,b=S.scale,O=_.scale.bandwidth(),{barWidth:P,offset:D}=u0e({bandWidth:O,numberOfGroups:i.length,gapRatio:_.barGapRatio}),N=h*(P+D),{stackedData:L,color:I}=r[f];return L.map((k,H)=>{var $,V;const W=k.map(Q=>w?b(Q):x(Q)),K=Math.min(...W),Z=Math.max(...W);return{seriesId:f,dataIndex:H,layout:r[f].layout,x:w?x(($=o[y].data)==null?void 0:$[H])+N:K,y:w?K:b((V=a[m].data)==null?void 0:V[H])+N,xOrigin:x(0),yOrigin:b(0),height:w?Z-K:P,width:w?P:Z-K,color:I,highlightScope:r[f].highlightScope}})}))},q3=({layout:n,yOrigin:t,x:e,width:r,y:i,xOrigin:o,height:a})=>B({},n==="vertical"?{y:t,x:e,height:0,width:r}:{y:i,x:o,height:a,width:0}),Z3=({x:n,width:t,y:e,height:r})=>({y:e,x:n,height:r,width:t});function d0e(n){const t=c0e(),{skipAnimation:e}=n,r=Le(n,l0e),i=ek(t,{keys:o=>`${o.seriesId}-${o.dataIndex}`,from:q3,leave:q3,enter:Z3,update:Z3,immediate:e});return G.jsx(F.Fragment,{children:i((o,{seriesId:a,dataIndex:s,color:l,highlightScope:u})=>G.jsx(s0e,B({id:a,dataIndex:s,highlightScope:u,color:l},r,{style:o})))})}const p0e=F.forwardRef(function(t,e){const{xAxis:r,yAxis:i,series:o,width:a,height:s,margin:l,colors:u,dataset:c,sx:d,layout:p,tooltip:h,axisHighlight:f,legend:v,topAxis:g,leftAxis:y,rightAxis:m,bottomAxis:C,skipAnimation:S,children:w,slots:_,slotProps:x}=t,O=`${nN()}-clip-path`,P=p==="horizontal"||p===void 0&&o.some(L=>L.layout==="horizontal"),D={scaleType:"band",data:Array.from({length:Math.max(...o.map(L=>{var I,k;return((I=(k=L.data)!=null?k:c)!=null?I:[]).length}))},(L,I)=>I)},N=B({},P?{y:"band"}:{x:"band"},f);return G.jsxs(Ck,{ref:e,series:o.map(L=>B({type:"bar"},L,{layout:P?"horizontal":"vertical"})),width:a,height:s,margin:l,xAxis:r??(P?void 0:[B({id:Ju},D)]),yAxis:i??(P?[B({id:SS},D)]:void 0),colors:u,dataset:c,sx:d,disableAxisListener:(h==null?void 0:h.trigger)!=="axis"&&(f==null?void 0:f.x)==="none"&&(f==null?void 0:f.y)==="none",children:[G.jsx("g",{clipPath:`url(#${O})`,children:G.jsx(d0e,{slots:_,slotProps:x,skipAnimation:S})}),G.jsx(wk,{topAxis:g,leftAxis:y,rightAxis:m,bottomAxis:C,slots:_,slotProps:x}),G.jsx(xk,B({},v,{slots:_,slotProps:x})),G.jsx(Ek,B({},N)),G.jsx(_k,B({},h,{slots:_,slotProps:x})),G.jsx(f7,{id:O}),w]})});function h0e(){const n={};Xh.forEach(r=>{const i=r.params.value.find(o=>o.title==="Адрес");if(i){const o=i.value.split(",")[0].trim();n[o]=(n[o]||0)+1}});const t=Object.keys(n),e=[{data:Object.values(n)}];return G.jsx(p0e,{xAxis:[{scaleType:"band",data:t}],yAxis:[{label:"Жители"}],series:e,width:700,height:300})}var v7={},cT={},g7={};/**
          * @ag-grid-community/all-modules - Advanced Data Grid / Data Table supporting Javascript / Typescript / React / Angular / Vue * @version v31.1.1
          * @link https://www.ag-grid.com/
          * @license MIT
          */function Kl(n){return n==null||n===""?null:n}function oe(n,t){return t===void 0&&(t=!1),n!=null&&(n!==""||t)}function We(n){return!oe(n)}function Jo(n){return n==null||n.length===0}function FS(n){return n!=null&&typeof n.toString=="function"?n.toString():null}function Nd(n){if(n!==void 0){if(n===null||n==="")return null;if(typeof n=="number")return isNaN(n)?void 0:n;var t=parseInt(n,10);return isNaN(t)?void 0:t}}function bb(n){if(n!==void 0)return n===null||n===""?!1:typeof n=="boolean"?n:/true/i.test(n)}function f0e(n){if(!(n==null||n===""))return n}function uF(n,t){var e=n?JSON.stringify(n):null,r=t?JSON.stringify(t):null;return e===r}function v0e(n,t,e){e===void 0&&(e=!1);var r=n==null,i=t==null;if(n&&n.toNumber&&(n=n.toNumber()),t&&t.toNumber&&(t=t.toNumber()),r&&i)return 0;if(r)return-1;if(i)return 1;function o(a,s){return a>s?1:a<s?-1:0}if(typeof n!="string"||!e)return o(n,t);try{return n.localeCompare(t)}catch{return o(n,t)}}function Lh(n){if(n instanceof Set||n instanceof Map){var t=[];return n.forEach(function(e){return t.push(e)}),t}return Object.values(n)}var g0e=Object.freeze({__proto__:null,makeNull:Kl,exists:oe,missing:We,missingOrEmpty:Jo,toStringOrNull:FS,attrToNumber:Nd,attrToBoolean:bb,attrToString:f0e,jsonEquals:uF,defaultComparator:v0e,values:Lh}),y7=function(){function n(){this.existingKeys={}}return n.prototype.addExistingKeys=function(t){for(var e=0;e<t.length;e++)this.existingKeys[t[e]]=!0},n.prototype.getUniqueKey=function(t,e){t=FS(t);for(var r=0;;){var i=void 0;if(t?(i=t,r!==0&&(i+="_"+r)):e?(i=e,r!==0&&(i+="_"+r)):i=r,!this.existingKeys[i])return this.existingKeys[i]=!0,String(i);r++}},n}(),y0e=function(n){var t=typeof Symbol=="function"&&Symbol.iterator,e=t&&n[t],r=0;if(e)return e.call(n);if(n&&typeof n.length=="number")return{next:function(){return n&&r>=n.length&&(n=void 0),{value:n&&n[r++],done:!n}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")},m0e=function(n,t){var e=typeof Symbol=="function"&&n[Symbol.iterator];if(!e)return n;var r=e.call(n),i,o=[],a;try{for(;(t===void 0||t-- >0)&&!(i=r.next()).done;)o.push(i.value)}catch(s){a={error:s}}finally{try{i&&!i.done&&(e=r.return)&&e.call(r)}finally{if(a)throw a.error}}return o};function gi(n,t){var e,r;if(n!=null){if(Array.isArray(n)){for(var i=0;i<n.length;i++)t(i.toString(),n[i]);return}try{for(var o=y0e(Object.entries(n)),a=o.next();!a.done;a=o.next()){var s=m0e(a.value,2),l=s[0],u=s[1];t(l,u)}}catch(c){e={error:c}}finally{try{a&&!a.done&&(r=o.return)&&r.call(o)}finally{if(e)throw e.error}}}}function bk(n){for(var t={},e=Object.keys(n),r=0;r<e.length;r++){var i=e[r],o=n[i];t[i]=o}return t}function Ob(n,t){if(n){var e=n,r={};return Object.keys(e).forEach(function(i){if(!(t&&t.indexOf(i)>=0)){var o=e[i],a=Rb(o)&&o.constructor===Object;a?r[i]=Ob(o):r[i]=o}}),r}}function Kd(n){if(!n)return[];var t=Object;if(typeof t.values=="function")return t.values(n);var e=[];for(var r in n)n.hasOwnProperty(r)&&n.propertyIsEnumerable(r)&&e.push(n[r]);return e}function na(n,t,e,r){e===void 0&&(e=!0),r===void 0&&(r=!1),oe(t)&&gi(t,function(i,o){var a=n[i];if(a!==o){if(r){var s=a==null&&o!=null;if(s){var l=typeof o=="object"&&o.constructor===Object,u=l;u&&(a={},n[i]=a)}}Rb(o)&&Rb(a)&&!Array.isArray(a)?na(a,o,e,r):(e||o!==void 0)&&(n[i]=o)}})}function Jv(n,t,e){if(!(!t||!n)){if(!e)return n[t];for(var r=t.split("."),i=n,o=0;o<r.length;o++){if(i==null)return;i=i[r[o]]}return i}}function m7(n,t,e){t===void 0&&(t=[]),Object.keys(n).forEach(function(a){var s=n[a];typeof s=="object"&&!t.includes(a)&&(n[a]=void 0)});var r=Object.getPrototypeOf(n),i={},o=function(a){return"AG Grid: Grid API function ".concat(a,`() cannot be called as the grid has been destroyed.
    It is recommended to remove local references to the grid api. Alternatively, check gridApi.isDestroyed() to avoid calling methods against a destroyed grid.
    To run logic when the grid is about to be destroyed use the gridPreDestroy event. See: `).concat(e)};Object.getOwnPropertyNames(r).forEach(function(a){var s=r[a];if(typeof s=="function"&&!t.includes(a)){var l=function(){console.warn(o(a))};i[a]={value:l,writable:!0}}}),Object.defineProperties(n,i)}function Rb(n){return typeof n=="object"&&n!==null}var C0e=Object.freeze({__proto__:null,iterateObject:gi,cloneObject:bk,deepCloneDefinition:Ob,getAllValuesInObject:Kd,mergeDeep:na,getValueUsingField:Jv,removeAllReferences:m7,isNonNullObject:Rb}),Q3={};function Fh(n,t){Q3[t]||(n(),Q3[t]=!0)}function Ge(n){Fh(function(){return console.warn("AG Grid: "+n)},n)}function Ps(n){Fh(function(){return console.error("AG Grid: "+n)},n)}function dT(n){if(n.name)return n.name;var t=/function\s+([^\(]+)/.exec(n.toString());return t&&t.length===2?t[1].trim():null}function pT(n){return!!(n&&n.constructor&&n.call&&n.apply)}function C7(n){S7(n,400)}var CA=[],SA=!1;function cF(n){CA.push(n),!SA&&(SA=!0,window.setTimeout(function(){var t=CA.slice();CA.length=0,SA=!1,t.forEach(function(e){return e()})},0))}function S7(n,t){t===void 0&&(t=0),n.length>0&&window.setTimeout(function(){return n.forEach(function(e){return e()})},t)}function ia(n,t){var e;return function(){for(var r=[],i=0;i<arguments.length;i++)r[i]=arguments[i];var o=this;window.clearTimeout(e),e=window.setTimeout(function(){n.apply(o,r)},t)}}function dF(n,t){var e=0;return function(){for(var r=[],i=0;i<arguments.length;i++)r[i]=arguments[i];var o=this,a=new Date().getTime();a-e<t||(e=a,n.apply(o,r))}}function Ok(n,t,e,r){e===void 0&&(e=100);var i=new Date().getTime(),o=null,a=!1,s=function(){var l=new Date().getTime()-i>e;(n()||l)&&(t(),a=!0,o!=null&&(window.clearInterval(o),o=null),l&&r&&console.warn(r))};s(),a||(o=window.setInterval(s,10))}function S0e(){for(var n=[],t=0;t<arguments.length;t++)n[t]=arguments[t];return function(e){return n.reduce(function(r,i){return i(r)},e)}}var w0e=function(){},_0e=Object.freeze({__proto__:null,doOnce:Fh,warnOnce:Ge,errorOnce:Ps,getFunctionName:dT,isFunction:pT,executeInAWhile:C7,executeNextVMTurn:cF,executeAfter:S7,debounce:ia,throttle:dF,waitUntil:Ok,compose:S0e,noop:w0e}),pe;(function(n){n.CommunityCoreModule="@ag-grid-community/core",n.InfiniteRowModelModule="@ag-grid-community/infinite-row-model",n.ClientSideRowModelModule="@ag-grid-community/client-side-row-model",n.CsvExportModule="@ag-grid-community/csv-export",n.EnterpriseCoreModule="@ag-grid-enterprise/core",n.RowGroupingModule="@ag-grid-enterprise/row-grouping",n.ColumnsToolPanelModule="@ag-grid-enterprise/column-tool-panel",n.FiltersToolPanelModule="@ag-grid-enterprise/filter-tool-panel",n.MenuModule="@ag-grid-enterprise/menu",n.SetFilterModule="@ag-grid-enterprise/set-filter",n.MultiFilterModule="@ag-grid-enterprise/multi-filter",n.StatusBarModule="@ag-grid-enterprise/status-bar",n.SideBarModule="@ag-grid-enterprise/side-bar",n.RangeSelectionModule="@ag-grid-enterprise/range-selection",n.MasterDetailModule="@ag-grid-enterprise/master-detail",n.RichSelectModule="@ag-grid-enterprise/rich-select",n.GridChartsModule="@ag-grid-enterprise/charts",n.ViewportRowModelModule="@ag-grid-enterprise/viewport-row-model",n.ServerSideRowModelModule="@ag-grid-enterprise/server-side-row-model",n.ExcelExportModule="@ag-grid-enterprise/excel-export",n.ClipboardModule="@ag-grid-enterprise/clipboard",n.SparklinesModule="@ag-grid-enterprise/sparklines",n.AdvancedFilterModule="@ag-grid-enterprise/advanced-filter",n.AngularModule="@ag-grid-community/angular",n.ReactModule="@ag-grid-community/react",n.VueModule="@ag-grid-community/vue"})(pe||(pe={}));var Iy=function(n,t){var e=typeof Symbol=="function"&&n[Symbol.iterator];if(!e)return n;var r=e.call(n),i,o=[],a;try{for(;(t===void 0||t-- >0)&&!(i=r.next()).done;)o.push(i.value)}catch(s){a={error:s}}finally{try{i&&!i.done&&(e=r.return)&&e.call(r)}finally{if(a)throw a.error}}return o},J3=function(n,t,e){if(e||arguments.length===2)for(var r=0,i=t.length,o;r<i;r++)(o||!(r in t))&&(o||(o=Array.prototype.slice.call(t,0,r)),o[r]=t[r]);return n.concat(o||Array.prototype.slice.call(t))},He=function(){function n(){}return n.register=function(t){n.__register(t,!0,void 0)},n.registerModules=function(t){n.__registerModules(t,!0,void 0)},n.__register=function(t,e,r){n.runVersionChecks(t),r!==void 0?(n.areGridScopedModules=!0,n.gridModulesMap[r]===void 0&&(n.gridModulesMap[r]={}),n.gridModulesMap[r][t.moduleName]=t):n.globalModulesMap[t.moduleName]=t,n.setModuleBased(e)},n.__unRegisterGridModules=function(t){delete n.gridModulesMap[t]},n.__registerModules=function(t,e,r){n.setModuleBased(e),t&&t.forEach(function(i){return n.__register(i,e,r)})},n.isValidModuleVersion=function(t){var e=Iy(t.version.split(".")||[],2),r=e[0],i=e[1],o=Iy(n.currentModuleVersion.split(".")||[],2),a=o[0],s=o[1];return r===a&&i===s},n.runVersionChecks=function(t){if(n.currentModuleVersion||(n.currentModuleVersion=t.version),t.version?n.isValidModuleVersion(t)||console.error("AG Grid: You are using incompatible versions of AG Grid modules. Major and minor versions should always match across modules. '".concat(t.moduleName,"' is version ").concat(t.version," but the other modules are version ").concat(this.currentModuleVersion,". Please update all modules to the same version.")):console.error("AG Grid: You are using incompatible versions of AG Grid modules. Major and minor versions should always match across modules. '".concat(t.moduleName,"' is incompatible. Please update all modules to the same version.")),t.validate){var e=t.validate();if(!e.isValid){var r=e;console.error("AG Grid: ".concat(r.message))}}},n.setModuleBased=function(t){n.moduleBased===void 0?n.moduleBased=t:n.moduleBased!==t&&Fh(function(){console.warn("AG Grid: You are mixing modules (i.e. @ag-grid-community/core) and packages (ag-grid-community) - you can only use one or the other of these mechanisms."),console.warn("Please see https://www.ag-grid.com/javascript-grid/packages-modules/ for more information.")},"ModulePackageCheck")},n.__setIsBundled=function(){n.isBundled=!0},n.__assertRegistered=function(t,e,r){var i;if(this.__isRegistered(t,r))return!0;var o=e+t,a;if(n.isBundled)a="AG Grid: unable to use ".concat(e,` as 'ag-grid-enterprise' has not been loaded. Check you are using the Enterprise bundle:
        
        <script src="https://cdn.jsdelivr.net/npm/ag-grid-enterprise@AG_GRID_VERSION/dist/ag-grid-enterprise.min.js"><\/script>
        
For more info see: https://ag-grid.com/javascript-data-grid/getting-started/#getting-started-with-ag-grid-enterprise`);else if(n.moduleBased||n.moduleBased===void 0){var s=(i=Object.entries(pe).find(function(l){var u=Iy(l,2);u[0];var c=u[1];return c===t}))===null||i===void 0?void 0:i[0];a="AG Grid: unable to use ".concat(e," as the ").concat(s," is not registered").concat(n.areGridScopedModules?" for gridId: ".concat(r):"",`. Check if you have registered the module:
           
    import { ModuleRegistry } from '@ag-grid-community/core';
    import { `).concat(s," } from '").concat(t,`';
    
    ModuleRegistry.registerModules([ `).concat(s,` ]);

For more info see: https://www.ag-grid.com/javascript-grid/modules/`)}else a="AG Grid: unable to use ".concat(e,` as package 'ag-grid-enterprise' has not been imported. Check that you have imported the package:
            
    import 'ag-grid-enterprise';
            
For more info see: https://www.ag-grid.com/javascript-grid/packages/`);return Fh(function(){console.warn(a)},o),!1},n.__warnEnterpriseChartDisabled=function(t){var e="ag-charts-enterprise",r=e+":"+t,i="https://ag-grid.com/javascript-data-grid/integrated-charts/",o="AG Grid: the '".concat(t,"' chart type is not supported in AG Charts Community. See ").concat(i," for more details.");Fh(function(){console.warn(o)},r)},n.__isRegistered=function(t,e){var r;return!!n.globalModulesMap[t]||!!(!((r=n.gridModulesMap[e])===null||r===void 0)&&r[t])},n.__getRegisteredModules=function(t){return J3(J3([],Iy(Lh(n.globalModulesMap)),!1),Iy(Lh(n.gridModulesMap[t]||{})),!1)},n.__getGridRegisteredModules=function(t){var e;return Lh((e=n.gridModulesMap[t])!==null&&e!==void 0?e:{})||[]},n.__isPackageBased=function(){return!n.moduleBased},n.globalModulesMap={},n.gridModulesMap={},n.areGridScopedModules=!1,n}(),x0e=function(n,t){var e=typeof Symbol=="function"&&n[Symbol.iterator];if(!e)return n;var r=e.call(n),i,o=[],a;try{for(;(t===void 0||t-- >0)&&!(i=r.next()).done;)o.push(i.value)}catch(s){a={error:s}}finally{try{i&&!i.done&&(e=r.return)&&e.call(r)}finally{if(a)throw a.error}}return o},E0e=function(n,t,e){if(e||arguments.length===2)for(var r=0,i=t.length,o;r<i;r++)(o||!(r in t))&&(o||(o=Array.prototype.slice.call(t,0,r)),o[r]=t[r]);return n.concat(o||Array.prototype.slice.call(t))},w7=function(){function n(t,e){if(this.beanWrappers={},this.destroyed=!1,!(!t||!t.beanClasses)){this.contextParams=t,this.logger=e,this.logger.log(">> creating ag-Application Context"),this.createBeans();var r=this.getBeanInstances();this.wireBeans(r),this.logger.log(">> ag-Application Context ready - component is alive")}}return n.prototype.getBeanInstances=function(){return Lh(this.beanWrappers).map(function(t){return t.beanInstance})},n.prototype.createBean=function(t,e){if(!t)throw Error("Can't wire to bean since it is null");return this.wireBeans([t],e),t},n.prototype.wireBeans=function(t,e){this.autoWireBeans(t),this.methodWireBeans(t),this.callLifeCycleMethods(t,"preConstructMethods"),oe(e)&&t.forEach(e),this.callLifeCycleMethods(t,"postConstructMethods")},n.prototype.createBeans=function(){var t=this;this.contextParams.beanClasses.forEach(this.createBeanWrapper.bind(this)),gi(this.beanWrappers,function(r,i){var o;i.bean.__agBeanMetaData&&i.bean.__agBeanMetaData.autowireMethods&&i.bean.__agBeanMetaData.autowireMethods.agConstructor&&(o=i.bean.__agBeanMetaData.autowireMethods.agConstructor);var a=t.getBeansForParameters(o,i.bean.name),s=new(i.bean.bind.apply(i.bean,E0e([null],x0e(a),!1)));i.beanInstance=s});var e=Object.keys(this.beanWrappers).join(", ");this.logger.log("created beans: ".concat(e))},n.prototype.createBeanWrapper=function(t){var e=t.__agBeanMetaData;if(!e){var r=void 0;t.prototype.constructor?r=dT(t.prototype.constructor):r=""+t,console.error("Context item ".concat(r," is not a bean"));return}var i={bean:t,beanInstance:null,beanName:e.beanName};this.beanWrappers[e.beanName]=i},n.prototype.autoWireBeans=function(t){var e=this;t.forEach(function(r){e.forEachMetaDataInHierarchy(r,function(i,o){var a=i.agClassAttributes;a&&a.forEach(function(s){var l=e.lookupBeanInstance(o,s.beanName,s.optional);r[s.attributeName]=l})})})},n.prototype.methodWireBeans=function(t){var e=this;t.forEach(function(r){e.forEachMetaDataInHierarchy(r,function(i,o){gi(i.autowireMethods,function(a,s){if(a!=="agConstructor"){var l=e.getBeansForParameters(s,o);r[a].apply(r,l)}})})})},n.prototype.forEachMetaDataInHierarchy=function(t,e){for(var r=Object.getPrototypeOf(t);r!=null;){var i=r.constructor;if(i.hasOwnProperty("__agBeanMetaData")){var o=i.__agBeanMetaData,a=this.getBeanName(i);e(o,a)}r=Object.getPrototypeOf(r)}},n.prototype.getBeanName=function(t){if(t.__agBeanMetaData&&t.__agBeanMetaData.beanName)return t.__agBeanMetaData.beanName;var e=t.toString(),r=e.substring(9,e.indexOf("("));return r},n.prototype.getBeansForParameters=function(t,e){var r=this,i=[];return t&&gi(t,function(o,a){var s=r.lookupBeanInstance(e,a);i[Number(o)]=s}),i},n.prototype.lookupBeanInstance=function(t,e,r){if(r===void 0&&(r=!1),this.destroyed)return this.logger.log("AG Grid: bean reference ".concat(e," is used after the grid is destroyed!")),null;if(e==="context")return this;if(this.contextParams.providedBeanInstances&&this.contextParams.providedBeanInstances.hasOwnProperty(e))return this.contextParams.providedBeanInstances[e];var i=this.beanWrappers[e];return i?i.beanInstance:(r||console.error("AG Grid: unable to find bean reference ".concat(e," while initialising ").concat(t)),null)},n.prototype.callLifeCycleMethods=function(t,e){var r=this;t.forEach(function(i){return r.callLifeCycleMethodsOnBean(i,e)})},n.prototype.callLifeCycleMethodsOnBean=function(t,e,r){var i={};this.forEachMetaDataInHierarchy(t,function(a){var s=a[e];s&&s.forEach(function(l){l!=r&&(i[l]=!0)})});var o=Object.keys(i);o.forEach(function(a){return t[a]()})},n.prototype.getBean=function(t){return this.lookupBeanInstance("getBean",t,!0)},n.prototype.destroy=function(){if(!this.destroyed){this.destroyed=!0,this.logger.log(">> Shutting down ag-Application Context");var t=this.getBeanInstances();this.destroyBeans(t),this.contextParams.providedBeanInstances=null,He.__unRegisterGridModules(this.contextParams.gridId),this.logger.log(">> ag-Application Context shut down - component is dead")}},n.prototype.destroyBean=function(t){t&&this.destroyBeans([t])},n.prototype.destroyBeans=function(t){var e=this;return t?(t.forEach(function(r){e.callLifeCycleMethodsOnBean(r,"preDestroyMethods","destroy");var i=r;typeof i.destroy=="function"&&i.destroy()}),[]):[]},n.prototype.isDestroyed=function(){return this.destroyed},n.prototype.getGridId=function(){return this.contextParams.gridId},n}();function Zh(n,t,e){var r=Qh(n.constructor);r.preConstructMethods||(r.preConstructMethods=[]),r.preConstructMethods.push(t)}function z(n,t,e){var r=Qh(n.constructor);r.postConstructMethods||(r.postConstructMethods=[]),r.postConstructMethods.push(t)}function ar(n,t,e){var r=Qh(n.constructor);r.preDestroyMethods||(r.preDestroyMethods=[]),r.preDestroyMethods.push(t)}function ie(n){return function(t){var e=Qh(t);e.beanName=n}}function E(n){return function(t,e,r){_7(t,n,!1,t,e,null)}}function et(n){return function(t,e,r){_7(t,n,!0,t,e,null)}}function _7(n,t,e,r,i,o){if(t===null){console.error("AG Grid: Autowired name should not be null");return}if(typeof o=="number"){console.error("AG Grid: Autowired should be on an attribute");return}var a=Qh(n.constructor);a.agClassAttributes||(a.agClassAttributes=[]),a.agClassAttributes.push({attributeName:i,beanName:t,optional:e})}function oa(n){return function(t,e,r){var i=typeof t=="function"?t:t.constructor,o;if(typeof r=="number"){var a=void 0;e?(o=Qh(i),a=e):(o=Qh(i),a="agConstructor"),o.autowireMethods||(o.autowireMethods={}),o.autowireMethods[a]||(o.autowireMethods[a]={}),o.autowireMethods[a][r]=n}}}function Qh(n){return n.hasOwnProperty("__agBeanMetaData")||(n.__agBeanMetaData={}),n.__agBeanMetaData}var e$=function(n,t,e,r){var i=arguments.length,o=i<3?t:r===null?r=Object.getOwnPropertyDescriptor(t,e):r,a;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(n,t,e,r);else for(var s=n.length-1;s>=0;s--)(a=n[s])&&(o=(i<3?a(o):i>3?a(t,e,o):a(t,e))||o);return i>3&&o&&Object.defineProperty(t,e,o),o},t_=function(n,t){return function(e,r){t(e,r,n)}},Us=function(){function n(){this.allSyncListeners=new Map,this.allAsyncListeners=new Map,this.globalSyncListeners=new Set,this.globalAsyncListeners=new Set,this.asyncFunctionsQueue=[],this.scheduled=!1,this.firedEvents={}}return n.prototype.setBeans=function(t,e,r,i){if(r===void 0&&(r=null),i===void 0&&(i=null),this.frameworkOverrides=e,this.gridOptionsService=t,r){var o=t.useAsyncEvents();this.addGlobalListener(r,o)}i&&this.addGlobalListener(i,!1)},n.prototype.setFrameworkOverrides=function(t){this.frameworkOverrides=t},n.prototype.getListeners=function(t,e,r){var i=e?this.allAsyncListeners:this.allSyncListeners,o=i.get(t);return!o&&r&&(o=new Set,i.set(t,o)),o},n.prototype.noRegisteredListenersExist=function(){return this.allSyncListeners.size===0&&this.allAsyncListeners.size===0&&this.globalSyncListeners.size===0&&this.globalAsyncListeners.size===0},n.prototype.addEventListener=function(t,e,r){r===void 0&&(r=!1),this.getListeners(t,r,!0).add(e)},n.prototype.removeEventListener=function(t,e,r){r===void 0&&(r=!1);var i=this.getListeners(t,r,!1);if(i&&(i.delete(e),i.size===0)){var o=r?this.allAsyncListeners:this.allSyncListeners;o.delete(t)}},n.prototype.addGlobalListener=function(t,e){e===void 0&&(e=!1),(e?this.globalAsyncListeners:this.globalSyncListeners).add(t)},n.prototype.removeGlobalListener=function(t,e){e===void 0&&(e=!1),(e?this.globalAsyncListeners:this.globalSyncListeners).delete(t)},n.prototype.dispatchEvent=function(t){var e=t;this.gridOptionsService&&this.gridOptionsService.addGridCommonParams(e),this.dispatchToListeners(e,!0),this.dispatchToListeners(e,!1),this.firedEvents[e.type]=!0},n.prototype.dispatchEventOnce=function(t){this.firedEvents[t.type]||this.dispatchEvent(t)},n.prototype.dispatchToListeners=function(t,e){var r=this,i,o=t.type;if(e&&"event"in t){var a=t.event;a instanceof Event&&(t.eventPath=a.composedPath())}var s=function(d,p){return d.forEach(function(h){if(p.has(h)){var f=r.frameworkOverrides?function(){return r.frameworkOverrides.wrapIncoming(function(){return h(t)})}:function(){return h(t)};e?r.dispatchAsync(f):f()}})},l=(i=this.getListeners(o,e,!1))!==null&&i!==void 0?i:new Set,u=new Set(l);u.size>0&&s(u,l);var c=new Set(e?this.globalAsyncListeners:this.globalSyncListeners);c.forEach(function(d){var p=r.frameworkOverrides?function(){return r.frameworkOverrides.wrapIncoming(function(){return d(o,t)})}:function(){return d(o,t)};e?r.dispatchAsync(p):p()})},n.prototype.dispatchAsync=function(t){var e=this;this.asyncFunctionsQueue.push(t),this.scheduled||(this.frameworkOverrides.wrapIncoming(function(){window.setTimeout(e.flushAsyncQueue.bind(e),0)}),this.scheduled=!0)},n.prototype.flushAsyncQueue=function(){this.scheduled=!1;var t=this.asyncFunctionsQueue.slice();this.asyncFunctionsQueue=[],t.forEach(function(e){return e()})},e$([t_(0,oa("gridOptionsService")),t_(1,oa("frameworkOverrides")),t_(2,oa("globalEventListener")),t_(3,oa("globalSyncEventListener"))],n.prototype,"setBeans",null),n=e$([ie("eventService")],n),n}(),Rk=function(){function n(t){this.frameworkOverrides=t,this.wrappedListeners=new Map,this.wrappedGlobalListeners=new Map}return n.prototype.wrap=function(t){var e=this,r=t;return this.frameworkOverrides.shouldWrapOutgoing&&(r=function(i){e.frameworkOverrides.wrapOutgoing(function(){return t(i)})},this.wrappedListeners.set(t,r)),r},n.prototype.wrapGlobal=function(t){var e=this,r=t;return this.frameworkOverrides.shouldWrapOutgoing&&(r=function(i,o){e.frameworkOverrides.wrapOutgoing(function(){return t(i,o)})},this.wrappedGlobalListeners.set(t,r)),r},n.prototype.unwrap=function(t){var e;return(e=this.wrappedListeners.get(t))!==null&&e!==void 0?e:t},n.prototype.unwrapGlobal=function(t){var e;return(e=this.wrappedGlobalListeners.get(t))!==null&&e!==void 0?e:t},n}(),Ny=function(n,t,e,r){var i=arguments.length,o=i<3?t:r===null?r=Object.getOwnPropertyDescriptor(t,e):r,a;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(n,t,e,r);else for(var s=n.length-1;s>=0;s--)(a=n[s])&&(o=(i<3?a(o):i>3?a(t,e,o):a(t,e))||o);return i>3&&o&&Object.defineProperty(t,e,o),o},b0e={resizable:!0,sortable:!0},O0e=0;function x7(){return O0e++}var rt=function(){function n(t,e,r,i){this.instanceId=x7(),this.autoHeaderHeight=null,this.moving=!1,this.menuVisible=!1,this.lastLeftPinned=!1,this.firstRightPinned=!1,this.filterActive=!1,this.eventService=new Us,this.tooltipEnabled=!1,this.rowGroupActive=!1,this.pivotActive=!1,this.aggregationActive=!1,this.colDef=t,this.userProvidedColDef=e,this.colId=r,this.primary=i,this.setState(t)}return n.prototype.getInstanceId=function(){return this.instanceId},n.prototype.setState=function(t){t.sort!==void 0?(t.sort==="asc"||t.sort==="desc")&&(this.sort=t.sort):(t.initialSort==="asc"||t.initialSort==="desc")&&(this.sort=t.initialSort);var e=t.sortIndex,r=t.initialSortIndex;e!==void 0?e!==null&&(this.sortIndex=e):r!==null&&(this.sortIndex=r);var i=t.hide,o=t.initialHide;i!==void 0?this.visible=!i:this.visible=!o,t.pinned!==void 0?this.setPinned(t.pinned):this.setPinned(t.initialPinned);var a=t.flex,s=t.initialFlex;a!==void 0?this.flex=a:s!==void 0&&(this.flex=s)},n.prototype.setColDef=function(t,e,r){this.colDef=t,this.userProvidedColDef=e,this.initMinAndMaxWidths(),this.initDotNotation(),this.initTooltip(),this.eventService.dispatchEvent(this.createColumnEvent("colDefChanged",r))},n.prototype.getUserProvidedColDef=function(){return this.userProvidedColDef},n.prototype.setParent=function(t){this.parent=t},n.prototype.getParent=function(){return this.parent},n.prototype.setOriginalParent=function(t){this.originalParent=t},n.prototype.getOriginalParent=function(){return this.originalParent},n.prototype.initialise=function(){this.initMinAndMaxWidths(),this.resetActualWidth("gridInitializing"),this.initDotNotation(),this.initTooltip()},n.prototype.initDotNotation=function(){var t=this.gridOptionsService.get("suppressFieldDotNotation");this.fieldContainsDots=oe(this.colDef.field)&&this.colDef.field.indexOf(".")>=0&&!t,this.tooltipFieldContainsDots=oe(this.colDef.tooltipField)&&this.colDef.tooltipField.indexOf(".")>=0&&!t},n.prototype.initMinAndMaxWidths=function(){var t=this.colDef;this.minWidth=this.columnUtils.calculateColMinWidth(t),this.maxWidth=this.columnUtils.calculateColMaxWidth(t)},n.prototype.initTooltip=function(){this.tooltipEnabled=oe(this.colDef.tooltipField)||oe(this.colDef.tooltipValueGetter)||oe(this.colDef.tooltipComponent)},n.prototype.resetActualWidth=function(t){var e=this.columnUtils.calculateColInitialWidth(this.colDef);this.setActualWidth(e,t,!0)},n.prototype.isEmptyGroup=function(){return!1},n.prototype.isRowGroupDisplayed=function(t){if(We(this.colDef)||We(this.colDef.showRowGroup))return!1;var e=this.colDef.showRowGroup===!0,r=this.colDef.showRowGroup===t;return e||r},n.prototype.isPrimary=function(){return this.primary},n.prototype.isFilterAllowed=function(){var t=!!this.colDef.filter;return t},n.prototype.isFieldContainsDots=function(){return this.fieldContainsDots},n.prototype.isTooltipEnabled=function(){return this.tooltipEnabled},n.prototype.isTooltipFieldContainsDots=function(){return this.tooltipFieldContainsDots},n.prototype.addEventListener=function(t,e){var r,i;this.frameworkOverrides.shouldWrapOutgoing&&!this.frameworkEventListenerService&&(this.eventService.setFrameworkOverrides(this.frameworkOverrides),this.frameworkEventListenerService=new Rk(this.frameworkOverrides));var o=(i=(r=this.frameworkEventListenerService)===null||r===void 0?void 0:r.wrap(e))!==null&&i!==void 0?i:e;this.eventService.addEventListener(t,o)},n.prototype.removeEventListener=function(t,e){var r,i,o=(i=(r=this.frameworkEventListenerService)===null||r===void 0?void 0:r.unwrap(e))!==null&&i!==void 0?i:e;this.eventService.removeEventListener(t,o)},n.prototype.createColumnFunctionCallbackParams=function(t){return this.gridOptionsService.addGridCommonParams({node:t,data:t.data,column:this,colDef:this.colDef})},n.prototype.isSuppressNavigable=function(t){if(typeof this.colDef.suppressNavigable=="boolean")return this.colDef.suppressNavigable;if(typeof this.colDef.suppressNavigable=="function"){var e=this.createColumnFunctionCallbackParams(t),r=this.colDef.suppressNavigable;return r(e)}return!1},n.prototype.isCellEditable=function(t){return t.group&&!this.gridOptionsService.get("enableGroupEdit")?!1:this.isColumnFunc(t,this.colDef.editable)},n.prototype.isSuppressFillHandle=function(){return!!this.colDef.suppressFillHandle},n.prototype.isAutoHeight=function(){return!!this.colDef.autoHeight},n.prototype.isAutoHeaderHeight=function(){return!!this.colDef.autoHeaderHeight},n.prototype.isRowDrag=function(t){return this.isColumnFunc(t,this.colDef.rowDrag)},n.prototype.isDndSource=function(t){return this.isColumnFunc(t,this.colDef.dndSource)},n.prototype.isCellCheckboxSelection=function(t){return this.isColumnFunc(t,this.colDef.checkboxSelection)},n.prototype.isSuppressPaste=function(t){return this.isColumnFunc(t,this.colDef?this.colDef.suppressPaste:null)},n.prototype.isResizable=function(){return!!this.getColDefValue("resizable")},n.prototype.getColDefValue=function(t){var e;return(e=this.colDef[t])!==null&&e!==void 0?e:b0e[t]},n.prototype.isColumnFunc=function(t,e){if(typeof e=="boolean")return e;if(typeof e=="function"){var r=this.createColumnFunctionCallbackParams(t),i=e;return i(r)}return!1},n.prototype.setMoving=function(t,e){this.moving=t,this.eventService.dispatchEvent(this.createColumnEvent("movingChanged",e))},n.prototype.createColumnEvent=function(t,e){return this.gridOptionsService.addGridCommonParams({type:t,column:this,columns:[this],source:e})},n.prototype.isMoving=function(){return this.moving},n.prototype.getSort=function(){return this.sort},n.prototype.setSort=function(t,e){this.sort!==t&&(this.sort=t,this.eventService.dispatchEvent(this.createColumnEvent("sortChanged",e))),this.dispatchStateUpdatedEvent("sort")},n.prototype.setMenuVisible=function(t,e){this.menuVisible!==t&&(this.menuVisible=t,this.eventService.dispatchEvent(this.createColumnEvent("menuVisibleChanged",e)))},n.prototype.isMenuVisible=function(){return this.menuVisible},n.prototype.isSortable=function(){return!!this.getColDefValue("sortable")},n.prototype.isSortAscending=function(){return this.sort==="asc"},n.prototype.isSortDescending=function(){return this.sort==="desc"},n.prototype.isSortNone=function(){return We(this.sort)},n.prototype.isSorting=function(){return oe(this.sort)},n.prototype.getSortIndex=function(){return this.sortIndex},n.prototype.setSortIndex=function(t){this.sortIndex=t,this.dispatchStateUpdatedEvent("sortIndex")},n.prototype.setAggFunc=function(t){this.aggFunc=t,this.dispatchStateUpdatedEvent("aggFunc")},n.prototype.getAggFunc=function(){return this.aggFunc},n.prototype.getLeft=function(){return this.left},n.prototype.getOldLeft=function(){return this.oldLeft},n.prototype.getRight=function(){return this.left+this.actualWidth},n.prototype.setLeft=function(t,e){this.oldLeft=this.left,this.left!==t&&(this.left=t,this.eventService.dispatchEvent(this.createColumnEvent("leftChanged",e)))},n.prototype.isFilterActive=function(){return this.filterActive},n.prototype.setFilterActive=function(t,e,r){this.filterActive!==t&&(this.filterActive=t,this.eventService.dispatchEvent(this.createColumnEvent("filterActiveChanged",e)));var i=this.createColumnEvent("filterChanged",e);r&&na(i,r),this.eventService.dispatchEvent(i)},n.prototype.isHovered=function(){return this.columnHoverService.isHovered(this)},n.prototype.setPinned=function(t){t===!0||t==="left"?this.pinned="left":t==="right"?this.pinned="right":this.pinned=null,this.dispatchStateUpdatedEvent("pinned")},n.prototype.setFirstRightPinned=function(t,e){this.firstRightPinned!==t&&(this.firstRightPinned=t,this.eventService.dispatchEvent(this.createColumnEvent("firstRightPinnedChanged",e)))},n.prototype.setLastLeftPinned=function(t,e){this.lastLeftPinned!==t&&(this.lastLeftPinned=t,this.eventService.dispatchEvent(this.createColumnEvent("lastLeftPinnedChanged",e)))},n.prototype.isFirstRightPinned=function(){return this.firstRightPinned},n.prototype.isLastLeftPinned=function(){return this.lastLeftPinned},n.prototype.isPinned=function(){return this.pinned==="left"||this.pinned==="right"},n.prototype.isPinnedLeft=function(){return this.pinned==="left"},n.prototype.isPinnedRight=function(){return this.pinned==="right"},n.prototype.getPinned=function(){return this.pinned},n.prototype.setVisible=function(t,e){var r=t===!0;this.visible!==r&&(this.visible=r,this.eventService.dispatchEvent(this.createColumnEvent("visibleChanged",e))),this.dispatchStateUpdatedEvent("hide")},n.prototype.isVisible=function(){return this.visible},n.prototype.isSpanHeaderHeight=function(){var t=this.getColDef();return!t.suppressSpanHeaderHeight&&!t.autoHeaderHeight},n.prototype.getColumnGroupPaddingInfo=function(){var t=this.getParent();if(!t||!t.isPadding())return{numberOfParents:0,isSpanningTotal:!1};for(var e=t.getPaddingLevel()+1,r=!0;t;){if(!t.isPadding()){r=!1;break}t=t.getParent()}return{numberOfParents:e,isSpanningTotal:r}},n.prototype.getColDef=function(){return this.colDef},n.prototype.getColumnGroupShow=function(){return this.colDef.columnGroupShow},n.prototype.getColId=function(){return this.colId},n.prototype.getId=function(){return this.colId},n.prototype.getUniqueId=function(){return this.colId},n.prototype.getDefinition=function(){return this.colDef},n.prototype.getActualWidth=function(){return this.actualWidth},n.prototype.getAutoHeaderHeight=function(){return this.autoHeaderHeight},n.prototype.setAutoHeaderHeight=function(t){var e=t!==this.autoHeaderHeight;return this.autoHeaderHeight=t,e},n.prototype.createBaseColDefParams=function(t){var e=this.gridOptionsService.addGridCommonParams({node:t,data:t.data,colDef:this.colDef,column:this});return e},n.prototype.getColSpan=function(t){if(We(this.colDef.colSpan))return 1;var e=this.createBaseColDefParams(t),r=this.colDef.colSpan(e);return Math.max(r,1)},n.prototype.getRowSpan=function(t){if(We(this.colDef.rowSpan))return 1;var e=this.createBaseColDefParams(t),r=this.colDef.rowSpan(e);return Math.max(r,1)},n.prototype.setActualWidth=function(t,e,r){r===void 0&&(r=!1),this.minWidth!=null&&(t=Math.max(t,this.minWidth)),this.maxWidth!=null&&(t=Math.min(t,this.maxWidth)),this.actualWidth!==t&&(this.actualWidth=t,this.flex&&e!=="flex"&&e!=="gridInitializing"&&(this.flex=null),r||this.fireColumnWidthChangedEvent(e)),this.dispatchStateUpdatedEvent("width")},n.prototype.fireColumnWidthChangedEvent=function(t){this.eventService.dispatchEvent(this.createColumnEvent("widthChanged",t))},n.prototype.isGreaterThanMax=function(t){return this.maxWidth!=null?t>this.maxWidth:!1},n.prototype.getMinWidth=function(){return this.minWidth},n.prototype.getMaxWidth=function(){return this.maxWidth},n.prototype.getFlex=function(){return this.flex||0},n.prototype.setFlex=function(t){this.flex!==t&&(this.flex=t),this.dispatchStateUpdatedEvent("flex")},n.prototype.setMinimum=function(t){oe(this.minWidth)&&this.setActualWidth(this.minWidth,t)},n.prototype.setRowGroupActive=function(t,e){this.rowGroupActive!==t&&(this.rowGroupActive=t,this.eventService.dispatchEvent(this.createColumnEvent("columnRowGroupChanged",e))),this.dispatchStateUpdatedEvent("rowGroup")},n.prototype.isRowGroupActive=function(){return this.rowGroupActive},n.prototype.setPivotActive=function(t,e){this.pivotActive!==t&&(this.pivotActive=t,this.eventService.dispatchEvent(this.createColumnEvent("columnPivotChanged",e))),this.dispatchStateUpdatedEvent("pivot")},n.prototype.isPivotActive=function(){return this.pivotActive},n.prototype.isAnyFunctionActive=function(){return this.isPivotActive()||this.isRowGroupActive()||this.isValueActive()},n.prototype.isAnyFunctionAllowed=function(){return this.isAllowPivot()||this.isAllowRowGroup()||this.isAllowValue()},n.prototype.setValueActive=function(t,e){this.aggregationActive!==t&&(this.aggregationActive=t,this.eventService.dispatchEvent(this.createColumnEvent("columnValueChanged",e)))},n.prototype.isValueActive=function(){return this.aggregationActive},n.prototype.isAllowPivot=function(){return this.colDef.enablePivot===!0},n.prototype.isAllowValue=function(){return this.colDef.enableValue===!0},n.prototype.isAllowRowGroup=function(){return this.colDef.enableRowGroup===!0},n.prototype.getMenuTabs=function(t){Ge("As of v31.1, 'getMenuTabs' is deprecated. Use 'getColDef().menuTabs ?? defaultValues' instead.");var e=this.getColDef().menuTabs;return e==null&&(e=t),e},n.prototype.dispatchStateUpdatedEvent=function(t){this.eventService.dispatchEvent({type:n.EVENT_STATE_UPDATED,key:t})},n.EVENT_MOVING_CHANGED="movingChanged",n.EVENT_LEFT_CHANGED="leftChanged",n.EVENT_WIDTH_CHANGED="widthChanged",n.EVENT_LAST_LEFT_PINNED_CHANGED="lastLeftPinnedChanged",n.EVENT_FIRST_RIGHT_PINNED_CHANGED="firstRightPinnedChanged",n.EVENT_VISIBLE_CHANGED="visibleChanged",n.EVENT_FILTER_CHANGED="filterChanged",n.EVENT_FILTER_ACTIVE_CHANGED="filterActiveChanged",n.EVENT_SORT_CHANGED="sortChanged",n.EVENT_COL_DEF_CHANGED="colDefChanged",n.EVENT_MENU_VISIBLE_CHANGED="menuVisibleChanged",n.EVENT_ROW_GROUP_CHANGED="columnRowGroupChanged",n.EVENT_PIVOT_CHANGED="columnPivotChanged",n.EVENT_VALUE_CHANGED="columnValueChanged",n.EVENT_STATE_UPDATED="columnStateUpdated",Ny([E("gridOptionsService")],n.prototype,"gridOptionsService",void 0),Ny([E("columnUtils")],n.prototype,"columnUtils",void 0),Ny([E("columnHoverService")],n.prototype,"columnHoverService",void 0),Ny([E("frameworkOverrides")],n.prototype,"frameworkOverrides",void 0),Ny([z],n.prototype,"initialise",null),n}(),R0e=function(n,t,e,r){var i=arguments.length,o=i<3?t:r===null?r=Object.getOwnPropertyDescriptor(t,e):r,a;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(n,t,e,r);else for(var s=n.length-1;s>=0;s--)(a=n[s])&&(o=(i<3?a(o):i>3?a(t,e,o):a(t,e))||o);return i>3&&o&&Object.defineProperty(t,e,o),o},Rt=function(){function n(t,e,r,i){this.localEventService=new Us,this.expandable=!1,this.instanceId=x7(),this.expandableListenerRemoveCallback=null,this.colGroupDef=t,this.groupId=e,this.expanded=!!t&&!!t.openByDefault,this.padding=r,this.level=i}return n.prototype.destroy=function(){this.expandableListenerRemoveCallback&&this.reset(null,void 0)},n.prototype.reset=function(t,e){this.colGroupDef=t,this.level=e,this.originalParent=null,this.expandableListenerRemoveCallback&&this.expandableListenerRemoveCallback(),this.children=void 0,this.expandable=void 0},n.prototype.getInstanceId=function(){return this.instanceId},n.prototype.setOriginalParent=function(t){this.originalParent=t},n.prototype.getOriginalParent=function(){return this.originalParent},n.prototype.getLevel=function(){return this.level},n.prototype.isVisible=function(){return this.children?this.children.some(function(t){return t.isVisible()}):!1},n.prototype.isPadding=function(){return this.padding},n.prototype.setExpanded=function(t){this.expanded=t===void 0?!1:t;var e={type:n.EVENT_EXPANDED_CHANGED};this.localEventService.dispatchEvent(e)},n.prototype.isExpandable=function(){return this.expandable},n.prototype.isExpanded=function(){return this.expanded},n.prototype.getGroupId=function(){return this.groupId},n.prototype.getId=function(){return this.getGroupId()},n.prototype.setChildren=function(t){this.children=t},n.prototype.getChildren=function(){return this.children},n.prototype.getColGroupDef=function(){return this.colGroupDef},n.prototype.getLeafColumns=function(){var t=[];return this.addLeafColumns(t),t},n.prototype.addLeafColumns=function(t){this.children&&this.children.forEach(function(e){e instanceof rt?t.push(e):e instanceof n&&e.addLeafColumns(t)})},n.prototype.getColumnGroupShow=function(){var t=this.colGroupDef;if(t)return t.columnGroupShow},n.prototype.setupExpandable=function(){var t=this;this.setExpandable(),this.expandableListenerRemoveCallback&&this.expandableListenerRemoveCallback();var e=this.onColumnVisibilityChanged.bind(this);this.getLeafColumns().forEach(function(r){return r.addEventListener("visibleChanged",e)}),this.expandableListenerRemoveCallback=function(){t.getLeafColumns().forEach(function(r){return r.removeEventListener("visibleChanged",e)}),t.expandableListenerRemoveCallback=null}},n.prototype.setExpandable=function(){if(!this.isPadding()){for(var t=!1,e=!1,r=!1,i=this.findChildrenRemovingPadding(),o=0,a=i.length;o<a;o++){var s=i[o];if(s.isVisible()){var l=s.getColumnGroupShow();l==="open"?(t=!0,r=!0):l==="closed"?(e=!0,r=!0):(t=!0,e=!0)}}var u=t&&e&&r;if(this.expandable!==u){this.expandable=u;var c={type:n.EVENT_EXPANDABLE_CHANGED};this.localEventService.dispatchEvent(c)}}},n.prototype.findChildrenRemovingPadding=function(){var t=[],e=function(r){r.forEach(function(i){var o=i instanceof n&&i.isPadding();o?e(i.children):t.push(i)})};return e(this.children),t},n.prototype.onColumnVisibilityChanged=function(){this.setExpandable()},n.prototype.addEventListener=function(t,e){this.localEventService.addEventListener(t,e)},n.prototype.removeEventListener=function(t,e){this.localEventService.removeEventListener(t,e)},n.EVENT_EXPANDED_CHANGED="expandedChanged",n.EVENT_EXPANDABLE_CHANGED="expandableChanged",R0e([ar],n.prototype,"destroy",null),n}(),T0e={numericColumn:{headerClass:"ag-right-aligned-header",cellClass:"ag-right-aligned-cell"},rightAligned:{headerClass:"ag-right-aligned-header",cellClass:"ag-right-aligned-cell"}};function P0e(n){return n!=null&&n.length>0}function xt(n){if(!(!n||!n.length))return n[n.length-1]}function Gu(n,t,e){return n==null&&t==null?!0:n!=null&&t!=null&&n.length===t.length&&n.every(function(r,i){return e?e(r,t[i]):t[i]===r})}function A0e(n,t){return Gu(n,t)}function E7(n){return n.sort(function(t,e){return t-e})}function D0e(n,t){if(n)for(var e=n.length-2;e>=0;e--){var r=n[e]===t,i=n[e+1]===t;r&&i&&n.splice(e+1,1)}}function Tk(n,t){var e=n.indexOf(t);e>=0&&(n[e]=n[n.length-1],n.pop())}function so(n,t){var e=n.indexOf(t);e>=0&&n.splice(e,1)}function b7(n,t){for(var e=0;e<t.length;e++)Tk(n,t[e])}function O7(n,t){for(var e=0;e<t.length;e++)so(n,t[e])}function IS(n,t,e){n.splice(e,0,t)}function M0e(n,t,e){if(!(n==null||t==null))for(var r=t.length-1;r>=0;r--){var i=t[r];IS(n,i,e)}}function pF(n,t,e){O7(n,t),t.slice().reverse().forEach(function(r){return IS(n,r,e)})}function Ls(n,t){return n.indexOf(t)>-1}function R7(n){return[].concat.apply([],n)}function hF(n,t){t==null||n==null||t.forEach(function(e){return n.push(e)})}function L0e(n){return n.map(FS)}function F0e(n,t){if(n!=null)for(var e=n.length-1;e>=0;e--)t(n[e],e)}var I0e=Object.freeze({__proto__:null,existsAndNotEmpty:P0e,last:xt,areEqual:Gu,shallowCompare:A0e,sortNumerically:E7,removeRepeatsFromArray:D0e,removeFromUnorderedArray:Tk,removeFromArray:so,removeAllFromUnorderedArray:b7,removeAllFromArray:O7,insertIntoArray:IS,insertArrayIntoArray:M0e,moveInArray:pF,includes:Ls,flatten:R7,pushAll:hF,toStrings:L0e,forEachReverse:F0e}),T7="__ag_Grid_Stop_Propagation",N0e=["touchstart","touchend","touchmove","touchcancel","scroll"],wA={};function Gs(n){n[T7]=!0}function Fs(n){return n[T7]===!0}var Pk=function(){var n={select:"input",change:"input",submit:"form",reset:"form",error:"img",load:"img",abort:"img"},t=function(e){if(typeof wA[e]=="boolean")return wA[e];var r=document.createElement(n[e]||"div");return e="on"+e,wA[e]=e in r};return t}();function Tb(n,t,e){for(var r=t;r;){var i=n.getDomData(r,e);if(i)return i;r=r.parentElement}return null}function Pb(n,t){return!t||!n?!1:A7(t).indexOf(n)>=0}function P7(n){for(var t=[],e=n.target;e;)t.push(e),e=e.parentElement;return t}function A7(n){var t=n;return t.path?t.path:t.composedPath?t.composedPath():P7(t)}function D7(n,t,e,r){var i=Ls(N0e,e),o=i?{passive:!0}:void 0;n&&n.addEventListener&&n.addEventListener(t,e,r,o)}var k0e=Object.freeze({__proto__:null,stopPropagationForAgGrid:Gs,isStopPropagationForAgGrid:Fs,isEventSupported:Pk,getCtrlForEventTarget:Tb,isElementInEventPath:Pb,createEventPath:P7,getEventPath:A7,addSafePassiveEventListener:D7}),Op=function(n,t,e,r){var i=arguments.length,o=i<3?t:r===null?r=Object.getOwnPropertyDescriptor(t,e):r,a;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(n,t,e,r);else for(var s=n.length-1;s>=0;s--)(a=n[s])&&(o=(i<3?a(o):i>3?a(t,e,o):a(t,e))||o);return i>3&&o&&Object.defineProperty(t,e,o),o},X=function(){function n(){var t=this;this.destroyFunctions=[],this.destroyed=!1,this.__v_skip=!0,this.lastChangeSetIdLookup={},this.propertyListenerId=0,this.isAlive=function(){return!t.destroyed}}return n.prototype.getFrameworkOverrides=function(){return this.frameworkOverrides},n.prototype.getContext=function(){return this.context},n.prototype.destroy=function(){this.destroyFunctions.forEach(function(t){return t()}),this.destroyFunctions.length=0,this.destroyed=!0,this.dispatchEvent({type:n.EVENT_DESTROYED})},n.prototype.addEventListener=function(t,e){this.localEventService||(this.localEventService=new Us),this.localEventService.addEventListener(t,e)},n.prototype.removeEventListener=function(t,e){this.localEventService&&this.localEventService.removeEventListener(t,e)},n.prototype.dispatchEvent=function(t){this.localEventService&&this.localEventService.dispatchEvent(t)},n.prototype.addManagedListener=function(t,e,r){var i=this;if(!this.destroyed){t instanceof HTMLElement?D7(this.getFrameworkOverrides(),t,e,r):t.addEventListener(e,r);var o=function(){return t.removeEventListener(e,r),i.destroyFunctions=i.destroyFunctions.filter(function(a){return a!==o}),null};return this.destroyFunctions.push(o),o}},n.prototype.setupGridOptionListener=function(t,e){var r=this;this.gridOptionsService.addEventListener(t,e);var i=function(){return r.gridOptionsService.removeEventListener(t,e),r.destroyFunctions=r.destroyFunctions.filter(function(o){return o!==i}),null};return this.destroyFunctions.push(i),i},n.prototype.addManagedPropertyListener=function(t,e){return this.destroyed?function(){return null}:this.setupGridOptionListener(t,e)},n.prototype.addManagedPropertyListeners=function(t,e){var r=this;if(!this.destroyed){var i=t.join("-")+this.propertyListenerId++,o=function(a){if(a.changeSet){if(a.changeSet&&a.changeSet.id===r.lastChangeSetIdLookup[i])return;r.lastChangeSetIdLookup[i]=a.changeSet.id}var s={type:"gridPropertyChanged",changeSet:a.changeSet,source:a.source};e(s)};t.forEach(function(a){return r.setupGridOptionListener(a,o)})}},n.prototype.addDestroyFunc=function(t){this.isAlive()?this.destroyFunctions.push(t):t()},n.prototype.createManagedBean=function(t,e){var r=this.createBean(t,e);return this.addDestroyFunc(this.destroyBean.bind(this,t,e)),r},n.prototype.createBean=function(t,e,r){return(e||this.getContext()).createBean(t,r)},n.prototype.destroyBean=function(t,e){return(e||this.getContext()).destroyBean(t)},n.prototype.destroyBeans=function(t,e){var r=this;return t&&t.forEach(function(i){return r.destroyBean(i,e)}),[]},n.EVENT_DESTROYED="destroyed",Op([E("frameworkOverrides")],n.prototype,"frameworkOverrides",void 0),Op([E("context")],n.prototype,"context",void 0),Op([E("eventService")],n.prototype,"eventService",void 0),Op([E("gridOptionsService")],n.prototype,"gridOptionsService",void 0),Op([E("localeService")],n.prototype,"localeService",void 0),Op([E("environment")],n.prototype,"environment",void 0),Op([ar],n.prototype,"destroy",null),n}(),G0e=function(){var n=function(t,e){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])},n(t,e)};return function(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");n(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}}(),r_=function(n,t,e,r){var i=arguments.length,o=i<3?t:r===null?r=Object.getOwnPropertyDescriptor(t,e):r,a;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(n,t,e,r);else for(var s=n.length-1;s>=0;s--)(a=n[s])&&(o=(i<3?a(o):i>3?a(t,e,o):a(t,e))||o);return i>3&&o&&Object.defineProperty(t,e,o),o},V0e=function(n,t){return function(e,r){t(e,r,n)}},M7=function(n){G0e(t,n);function t(){return n!==null&&n.apply(this,arguments)||this}return t.prototype.setBeans=function(e){this.logger=e.create("ColumnFactory")},t.prototype.createColumnTree=function(e,r,i,o){var a=new y7,s=this.extractExistingTreeData(i),l=s.existingCols,u=s.existingGroups,c=s.existingColKeys;a.addExistingKeys(c);var d=this.recursivelyCreateColumns(e,0,r,l,a,u,o),p=this.findMaxDept(d,0);this.logger.log("Number of levels for grouped columns is "+p);var h=this.balanceColumnTree(d,0,p,a),f=function(v,g){v instanceof Rt&&v.setupExpandable(),v.setOriginalParent(g)};return this.columnUtils.depthFirstOriginalTreeSearch(null,h,f),{columnTree:h,treeDept:p}},t.prototype.extractExistingTreeData=function(e){var r=[],i=[],o=[];return e&&this.columnUtils.depthFirstOriginalTreeSearch(null,e,function(a){if(a instanceof Rt){var s=a;i.push(s)}else{var l=a;o.push(l.getId()),r.push(l)}}),{existingCols:r,existingGroups:i,existingColKeys:o}},t.prototype.createForAutoGroups=function(e,r){var i=this;return e.map(function(o){return i.createAutoGroupTreeItem(r,o)})},t.prototype.createAutoGroupTreeItem=function(e,r){for(var i=this.findDepth(e),o=r,a=i-1;a>=0;a--){var s=new Rt(null,"FAKE_PATH_".concat(r.getId(),"}_").concat(a),!0,a);this.createBean(s),s.setChildren([o]),o.setOriginalParent(s),o=s}return i===0&&r.setOriginalParent(null),o},t.prototype.findDepth=function(e){for(var r=0,i=e;i&&i[0]&&i[0]instanceof Rt;)r++,i=i[0].getChildren();return r},t.prototype.balanceColumnTree=function(e,r,i,o){for(var a=[],s=0;s<e.length;s++){var l=e[s];if(l instanceof Rt){var u=l,c=this.balanceColumnTree(u.getChildren(),r+1,i,o);u.setChildren(c),a.push(u)}else{for(var d=void 0,p=void 0,h=i-1;h>=r;h--){var f=o.getUniqueKey(null,null),v=this.createMergedColGroupDef(null),g=new Rt(v,f,!0,r);this.createBean(g),p&&p.setChildren([g]),p=g,d||(d=p)}if(d&&p){a.push(d);var y=e.some(function(m){return m instanceof Rt});if(y){p.setChildren([l]);continue}else{p.setChildren(e);break}}a.push(l)}}return a},t.prototype.findMaxDept=function(e,r){for(var i=r,o=0;o<e.length;o++){var a=e[o];if(a instanceof Rt){var s=a,l=this.findMaxDept(s.getChildren(),r+1);i<l&&(i=l)}}return i},t.prototype.recursivelyCreateColumns=function(e,r,i,o,a,s,l){if(!e)return[];for(var u=new Array(e.length),c=0;c<u.length;c++){var d=e[c];this.isColumnGroup(d)?u[c]=this.createColumnGroup(i,d,r,o,a,s,l):u[c]=this.createColumn(i,d,o,a,l)}return u},t.prototype.createColumnGroup=function(e,r,i,o,a,s,l){var u=this.createMergedColGroupDef(r),c=a.getUniqueKey(u.groupId||null,null),d=new Rt(u,c,!1,i);this.createBean(d);var p=this.findExistingGroup(r,s);p&&s.splice(p.idx,1);var h=p==null?void 0:p.group;h&&d.setExpanded(h.isExpanded());var f=this.recursivelyCreateColumns(u.children,i+1,e,o,a,s,l);return d.setChildren(f),d},t.prototype.createMergedColGroupDef=function(e){var r={};return Object.assign(r,this.gridOptionsService.get("defaultColGroupDef")),Object.assign(r,e),r},t.prototype.createColumn=function(e,r,i,o,a){var s=this.findExistingColumn(r,i);s&&(i==null||i.splice(s.idx,1));var l=s==null?void 0:s.column;if(l){var c=this.addColumnDefaultAndTypes(r,l.getColId());l.setColDef(c,r,a),this.applyColumnState(l,c,a)}else{var u=o.getUniqueKey(r.colId,r.field),c=this.addColumnDefaultAndTypes(r,u);l=new rt(c,r,u,e),this.context.createBean(l)}return this.dataTypeService.addColumnListeners(l),l},t.prototype.applyColumnState=function(e,r,i){var o=Nd(r.flex);o!==void 0&&e.setFlex(o);var a=e.getFlex()<=0;if(a){var s=Nd(r.width);if(s!=null)e.setActualWidth(s,i);else{var l=e.getActualWidth();e.setActualWidth(l,i)}}r.sort!==void 0&&(r.sort=="asc"||r.sort=="desc"?e.setSort(r.sort,i):e.setSort(void 0,i));var u=Nd(r.sortIndex);u!==void 0&&e.setSortIndex(u);var c=bb(r.hide);c!==void 0&&e.setVisible(!c,i),r.pinned!==void 0&&e.setPinned(r.pinned)},t.prototype.findExistingColumn=function(e,r){if(r)for(var i=0;i<r.length;i++){var o=r[i].getUserProvidedColDef();if(o){var a=e.colId!=null;if(a){if(r[i].getId()===e.colId)return{idx:i,column:r[i]};continue}var s=e.field!=null;if(s){if(o.field===e.field)return{idx:i,column:r[i]};continue}if(o===e)return{idx:i,column:r[i]}}}},t.prototype.findExistingGroup=function(e,r){var i=e.groupId!=null;if(i)for(var o=0;o<r.length;o++){var a=r[o],s=a.getColGroupDef();if(s&&a.getId()===e.groupId)return{idx:o,group:a}}},t.prototype.addColumnDefaultAndTypes=function(e,r){var i={},o=this.gridOptionsService.get("defaultColDef");na(i,o,!1,!0);var a=this.dataTypeService.updateColDefAndGetColumnType(i,e,r);a&&this.assignColumnTypes(a,i),na(i,e,!1,!0);var s=this.gridOptionsService.get("autoGroupColumnDef"),l=this.gridOptionsService.isColumnsSortingCoupledToGroup();return e.rowGroup&&s&&l&&na(i,{sort:s.sort,initialSort:s.initialSort},!1,!0),this.dataTypeService.validateColDef(i),i},t.prototype.assignColumnTypes=function(e,r){if(e.length){var i=Object.assign({},T0e),o=this.gridOptionsService.get("columnTypes")||{};gi(o,function(a,s){if(a in i)console.warn("AG Grid: the column type '".concat(a,"' is a default column type and cannot be overridden."));else{var l=s;l.type&&Ge("Column type definitions 'columnTypes' with a 'type' attribute are not supported because a column type cannot refer to another column type. Only column definitions 'columnDefs' can use the 'type' attribute to refer to a column type."),i[a]=s}}),e.forEach(function(a){var s=i[a.trim()];s?na(r,s,!1,!0):console.warn("AG Grid: colDef.type '"+a+"' does not correspond to defined gridOptions.columnTypes")})}},t.prototype.isColumnGroup=function(e){return e.children!==void 0},r_([E("columnUtils")],t.prototype,"columnUtils",void 0),r_([E("dataTypeService")],t.prototype,"dataTypeService",void 0),r_([V0e(0,oa("loggerFactory"))],t.prototype,"setBeans",null),t=r_([ie("columnFactory")],t),t}(X),B0e=function(n,t,e,r){var i=arguments.length,o=i<3?t:r===null?r=Object.getOwnPropertyDescriptor(t,e):r,a;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(n,t,e,r);else for(var s=n.length-1;s>=0;s--)(a=n[s])&&(o=(i<3?a(o):i>3?a(t,e,o):a(t,e))||o);return i>3&&o&&Object.defineProperty(t,e,o),o},Kr=function(){function n(t,e,r,i){this.displayedChildren=[],this.localEventService=new Us,this.groupId=e,this.partId=r,this.providedColumnGroup=t,this.pinned=i}return n.createUniqueId=function(t,e){return t+"_"+e},n.prototype.reset=function(){this.parent=null,this.children=null,this.displayedChildren=null},n.prototype.getParent=function(){return this.parent},n.prototype.setParent=function(t){this.parent=t},n.prototype.getUniqueId=function(){return n.createUniqueId(this.groupId,this.partId)},n.prototype.isEmptyGroup=function(){return this.displayedChildren.length===0},n.prototype.isMoving=function(){var t=this.getProvidedColumnGroup().getLeafColumns();return!t||t.length===0?!1:t.every(function(e){return e.isMoving()})},n.prototype.checkLeft=function(){if(this.displayedChildren.forEach(function(i){i instanceof n&&i.checkLeft()}),this.displayedChildren.length>0)if(this.gridOptionsService.get("enableRtl")){var t=xt(this.displayedChildren),e=t.getLeft();this.setLeft(e)}else{var r=this.displayedChildren[0].getLeft();this.setLeft(r)}else this.setLeft(null)},n.prototype.getLeft=function(){return this.left},n.prototype.getOldLeft=function(){return this.oldLeft},n.prototype.setLeft=function(t){this.oldLeft=this.left,this.left!==t&&(this.left=t,this.localEventService.dispatchEvent(this.createAgEvent(n.EVENT_LEFT_CHANGED)))},n.prototype.getPinned=function(){return this.pinned},n.prototype.createAgEvent=function(t){return{type:t}},n.prototype.addEventListener=function(t,e){this.localEventService.addEventListener(t,e)},n.prototype.removeEventListener=function(t,e){this.localEventService.removeEventListener(t,e)},n.prototype.getGroupId=function(){return this.groupId},n.prototype.getPartId=function(){return this.partId},n.prototype.isChildInThisGroupDeepSearch=function(t){var e=!1;return this.children.forEach(function(r){t===r&&(e=!0),r instanceof n&&r.isChildInThisGroupDeepSearch(t)&&(e=!0)}),e},n.prototype.getActualWidth=function(){var t=0;return this.displayedChildren&&this.displayedChildren.forEach(function(e){t+=e.getActualWidth()}),t},n.prototype.isResizable=function(){if(!this.displayedChildren)return!1;var t=!1;return this.displayedChildren.forEach(function(e){e.isResizable()&&(t=!0)}),t},n.prototype.getMinWidth=function(){var t=0;return this.displayedChildren.forEach(function(e){t+=e.getMinWidth()||0}),t},n.prototype.addChild=function(t){this.children||(this.children=[]),this.children.push(t)},n.prototype.getDisplayedChildren=function(){return this.displayedChildren},n.prototype.getLeafColumns=function(){var t=[];return this.addLeafColumns(t),t},n.prototype.getDisplayedLeafColumns=function(){var t=[];return this.addDisplayedLeafColumns(t),t},n.prototype.getDefinition=function(){return this.providedColumnGroup.getColGroupDef()},n.prototype.getColGroupDef=function(){return this.providedColumnGroup.getColGroupDef()},n.prototype.isPadding=function(){return this.providedColumnGroup.isPadding()},n.prototype.isExpandable=function(){return this.providedColumnGroup.isExpandable()},n.prototype.isExpanded=function(){return this.providedColumnGroup.isExpanded()},n.prototype.setExpanded=function(t){this.providedColumnGroup.setExpanded(t)},n.prototype.addDisplayedLeafColumns=function(t){this.displayedChildren.forEach(function(e){e instanceof rt?t.push(e):e instanceof n&&e.addDisplayedLeafColumns(t)})},n.prototype.addLeafColumns=function(t){this.children.forEach(function(e){e instanceof rt?t.push(e):e instanceof n&&e.addLeafColumns(t)})},n.prototype.getChildren=function(){return this.children},n.prototype.getColumnGroupShow=function(){return this.providedColumnGroup.getColumnGroupShow()},n.prototype.getProvidedColumnGroup=function(){return this.providedColumnGroup},n.prototype.getPaddingLevel=function(){var t=this.getParent();return!this.isPadding()||!t||!t.isPadding()?0:1+t.getPaddingLevel()},n.prototype.calculateDisplayedColumns=function(){var t=this;this.displayedChildren=[];for(var e=this;e!=null&&e.isPadding();)e=e.getParent();var r=e?e.providedColumnGroup.isExpandable():!1;if(!r){this.displayedChildren=this.children,this.localEventService.dispatchEvent(this.createAgEvent(n.EVENT_DISPLAYED_CHILDREN_CHANGED));return}this.children.forEach(function(i){var o=i instanceof n&&(!i.displayedChildren||!i.displayedChildren.length);if(!o){var a=i.getColumnGroupShow();switch(a){case"open":e.providedColumnGroup.isExpanded()&&t.displayedChildren.push(i);break;case"closed":e.providedColumnGroup.isExpanded()||t.displayedChildren.push(i);break;default:t.displayedChildren.push(i);break}}}),this.localEventService.dispatchEvent(this.createAgEvent(n.EVENT_DISPLAYED_CHILDREN_CHANGED))},n.EVENT_LEFT_CHANGED="leftChanged",n.EVENT_DISPLAYED_CHILDREN_CHANGED="displayedChildrenChanged",B0e([E("gridOptionsService")],n.prototype,"gridOptionsService",void 0),n}(),T=function(){function n(){}return n.EVENT_COLUMN_EVERYTHING_CHANGED="columnEverythingChanged",n.EVENT_NEW_COLUMNS_LOADED="newColumnsLoaded",n.EVENT_COLUMN_PIVOT_MODE_CHANGED="columnPivotModeChanged",n.EVENT_COLUMN_ROW_GROUP_CHANGED="columnRowGroupChanged",n.EVENT_EXPAND_COLLAPSE_ALL="expandOrCollapseAll",n.EVENT_COLUMN_PIVOT_CHANGED="columnPivotChanged",n.EVENT_GRID_COLUMNS_CHANGED="gridColumnsChanged",n.EVENT_COLUMN_VALUE_CHANGED="columnValueChanged",n.EVENT_COLUMN_MOVED="columnMoved",n.EVENT_COLUMN_VISIBLE="columnVisible",n.EVENT_COLUMN_PINNED="columnPinned",n.EVENT_COLUMN_GROUP_OPENED="columnGroupOpened",n.EVENT_COLUMN_RESIZED="columnResized",n.EVENT_DISPLAYED_COLUMNS_CHANGED="displayedColumnsChanged",n.EVENT_SUPPRESS_COLUMN_MOVE_CHANGED="suppressMovableColumns",n.EVENT_SUPPRESS_MENU_HIDE_CHANGED="suppressMenuHide",n.EVENT_SUPPRESS_FIELD_DOT_NOTATION="suppressFieldDotNotation",n.EVENT_VIRTUAL_COLUMNS_CHANGED="virtualColumnsChanged",n.EVENT_COLUMN_HEADER_MOUSE_OVER="columnHeaderMouseOver",n.EVENT_COLUMN_HEADER_MOUSE_LEAVE="columnHeaderMouseLeave",n.EVENT_COLUMN_HEADER_CLICKED="columnHeaderClicked",n.EVENT_COLUMN_HEADER_CONTEXT_MENU="columnHeaderContextMenu",n.EVENT_ASYNC_TRANSACTIONS_FLUSHED="asyncTransactionsFlushed",n.EVENT_ROW_GROUP_OPENED="rowGroupOpened",n.EVENT_ROW_DATA_UPDATED="rowDataUpdated",n.EVENT_PINNED_ROW_DATA_CHANGED="pinnedRowDataChanged",n.EVENT_RANGE_SELECTION_CHANGED="rangeSelectionChanged",n.EVENT_CHART_CREATED="chartCreated",n.EVENT_CHART_RANGE_SELECTION_CHANGED="chartRangeSelectionChanged",n.EVENT_CHART_OPTIONS_CHANGED="chartOptionsChanged",n.EVENT_CHART_DESTROYED="chartDestroyed",n.EVENT_TOOL_PANEL_VISIBLE_CHANGED="toolPanelVisibleChanged",n.EVENT_TOOL_PANEL_SIZE_CHANGED="toolPanelSizeChanged",n.EVENT_COLUMN_PANEL_ITEM_DRAG_START="columnPanelItemDragStart",n.EVENT_COLUMN_PANEL_ITEM_DRAG_END="columnPanelItemDragEnd",n.EVENT_MODEL_UPDATED="modelUpdated",n.EVENT_CUT_START="cutStart",n.EVENT_CUT_END="cutEnd",n.EVENT_PASTE_START="pasteStart",n.EVENT_PASTE_END="pasteEnd",n.EVENT_FILL_START="fillStart",n.EVENT_FILL_END="fillEnd",n.EVENT_RANGE_DELETE_START="rangeDeleteStart",n.EVENT_RANGE_DELETE_END="rangeDeleteEnd",n.EVENT_UNDO_STARTED="undoStarted",n.EVENT_UNDO_ENDED="undoEnded",n.EVENT_REDO_STARTED="redoStarted",n.EVENT_REDO_ENDED="redoEnded",n.EVENT_KEY_SHORTCUT_CHANGED_CELL_START="keyShortcutChangedCellStart",n.EVENT_KEY_SHORTCUT_CHANGED_CELL_END="keyShortcutChangedCellEnd",n.EVENT_CELL_CLICKED="cellClicked",n.EVENT_CELL_DOUBLE_CLICKED="cellDoubleClicked",n.EVENT_CELL_MOUSE_DOWN="cellMouseDown",n.EVENT_CELL_CONTEXT_MENU="cellContextMenu",n.EVENT_CELL_VALUE_CHANGED="cellValueChanged",n.EVENT_CELL_EDIT_REQUEST="cellEditRequest",n.EVENT_ROW_VALUE_CHANGED="rowValueChanged",n.EVENT_CELL_FOCUSED="cellFocused",n.EVENT_CELL_FOCUS_CLEARED="cellFocusCleared",n.EVENT_FULL_WIDTH_ROW_FOCUSED="fullWidthRowFocused",n.EVENT_ROW_SELECTED="rowSelected",n.EVENT_SELECTION_CHANGED="selectionChanged",n.EVENT_TOOLTIP_SHOW="tooltipShow",n.EVENT_TOOLTIP_HIDE="tooltipHide",n.EVENT_CELL_KEY_DOWN="cellKeyDown",n.EVENT_CELL_MOUSE_OVER="cellMouseOver",n.EVENT_CELL_MOUSE_OUT="cellMouseOut",n.EVENT_FILTER_CHANGED="filterChanged",n.EVENT_FILTER_MODIFIED="filterModified",n.EVENT_FILTER_OPENED="filterOpened",n.EVENT_ADVANCED_FILTER_BUILDER_VISIBLE_CHANGED="advancedFilterBuilderVisibleChanged",n.EVENT_SORT_CHANGED="sortChanged",n.EVENT_VIRTUAL_ROW_REMOVED="virtualRowRemoved",n.EVENT_ROW_CLICKED="rowClicked",n.EVENT_ROW_DOUBLE_CLICKED="rowDoubleClicked",n.EVENT_GRID_READY="gridReady",n.EVENT_GRID_PRE_DESTROYED="gridPreDestroyed",n.EVENT_GRID_SIZE_CHANGED="gridSizeChanged",n.EVENT_VIEWPORT_CHANGED="viewportChanged",n.EVENT_SCROLLBAR_WIDTH_CHANGED="scrollbarWidthChanged",n.EVENT_FIRST_DATA_RENDERED="firstDataRendered",n.EVENT_DRAG_STARTED="dragStarted",n.EVENT_DRAG_STOPPED="dragStopped",n.EVENT_CHECKBOX_CHANGED="checkboxChanged",n.EVENT_ROW_EDITING_STARTED="rowEditingStarted",n.EVENT_ROW_EDITING_STOPPED="rowEditingStopped",n.EVENT_CELL_EDITING_STARTED="cellEditingStarted",n.EVENT_CELL_EDITING_STOPPED="cellEditingStopped",n.EVENT_BODY_SCROLL="bodyScroll",n.EVENT_BODY_SCROLL_END="bodyScrollEnd",n.EVENT_HEIGHT_SCALE_CHANGED="heightScaleChanged",n.EVENT_PAGINATION_CHANGED="paginationChanged",n.EVENT_COMPONENT_STATE_CHANGED="componentStateChanged",n.EVENT_STORE_REFRESHED="storeRefreshed",n.EVENT_STATE_UPDATED="stateUpdated",n.EVENT_COLUMN_MENU_VISIBLE_CHANGED="columnMenuVisibleChanged",n.EVENT_BODY_HEIGHT_CHANGED="bodyHeightChanged",n.EVENT_COLUMN_CONTAINER_WIDTH_CHANGED="columnContainerWidthChanged",n.EVENT_DISPLAYED_COLUMNS_WIDTH_CHANGED="displayedColumnsWidthChanged",n.EVENT_SCROLL_VISIBILITY_CHANGED="scrollVisibilityChanged",n.EVENT_COLUMN_HOVER_CHANGED="columnHoverChanged",n.EVENT_FLASH_CELLS="flashCells",n.EVENT_PAGINATION_PIXEL_OFFSET_CHANGED="paginationPixelOffsetChanged",n.EVENT_DISPLAYED_ROWS_CHANGED="displayedRowsChanged",n.EVENT_LEFT_PINNED_WIDTH_CHANGED="leftPinnedWidthChanged",n.EVENT_RIGHT_PINNED_WIDTH_CHANGED="rightPinnedWidthChanged",n.EVENT_ROW_CONTAINER_HEIGHT_CHANGED="rowContainerHeightChanged",n.EVENT_HEADER_HEIGHT_CHANGED="headerHeightChanged",n.EVENT_COLUMN_HEADER_HEIGHT_CHANGED="columnHeaderHeightChanged",n.EVENT_ROW_DRAG_ENTER="rowDragEnter",n.EVENT_ROW_DRAG_MOVE="rowDragMove",n.EVENT_ROW_DRAG_LEAVE="rowDragLeave",n.EVENT_ROW_DRAG_END="rowDragEnd",n.EVENT_GRID_STYLES_CHANGED="gridStylesChanged",n.EVENT_POPUP_TO_FRONT="popupToFront",n.EVENT_COLUMN_ROW_GROUP_CHANGE_REQUEST="columnRowGroupChangeRequest",n.EVENT_COLUMN_PIVOT_CHANGE_REQUEST="columnPivotChangeRequest",n.EVENT_COLUMN_VALUE_CHANGE_REQUEST="columnValueChangeRequest",n.EVENT_COLUMN_AGG_FUNC_CHANGE_REQUEST="columnAggFuncChangeRequest",n.EVENT_STORE_UPDATED="storeUpdated",n.EVENT_FILTER_DESTROYED="filterDestroyed",n.EVENT_ROW_DATA_UPDATE_STARTED="rowDataUpdateStarted",n.EVENT_ROW_COUNT_READY="rowCountReady",n.EVENT_ADVANCED_FILTER_ENABLED_CHANGED="advancedFilterEnabledChanged",n.EVENT_DATA_TYPES_INFERRED="dataTypesInferred",n.EVENT_FIELD_VALUE_CHANGED="fieldValueChanged",n.EVENT_FIELD_PICKER_VALUE_SELECTED="fieldPickerValueSelected",n.EVENT_SIDE_BAR_UPDATED="sideBarUpdated",n}(),Ak=function(){function n(){this.existingIds={}}return n.prototype.getInstanceIdForKey=function(t){var e=this.existingIds[t],r;return typeof e!="number"?r=0:r=e+1,this.existingIds[t]=r,r},n}(),H0e=function(){var n=function(t,e){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])},n(t,e)};return function(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");n(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}}(),_A=function(n,t,e,r){var i=arguments.length,o=i<3?t:r===null?r=Object.getOwnPropertyDescriptor(t,e):r,a;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(n,t,e,r);else for(var s=n.length-1;s>=0;s--)(a=n[s])&&(o=(i<3?a(o):i>3?a(t,e,o):a(t,e))||o);return i>3&&o&&Object.defineProperty(t,e,o),o},ic="ag-Grid-AutoColumn",j0e=function(n){H0e(t,n);function t(){return n!==null&&n.apply(this,arguments)||this}return t.prototype.createAutoGroupColumns=function(e){var r=this,i=[],o=this.gridOptionsService.get("treeData"),a=this.gridOptionsService.isGroupMultiAutoColumn();return o&&a&&(console.warn('AG Grid: you cannot mix groupDisplayType = "multipleColumns" with treeData, only one column can be used to display groups when doing tree data'),a=!1),a?e.forEach(function(s,l){i.push(r.createOneAutoGroupColumn(s,l))}):i.push(this.createOneAutoGroupColumn()),i},t.prototype.updateAutoGroupColumns=function(e,r){var i=this;e.forEach(function(o,a){return i.updateOneAutoGroupColumn(o,a,r)})},t.prototype.createOneAutoGroupColumn=function(e,r){var i;e?i="".concat(ic,"-").concat(e.getId()):i=ic;var o=this.createAutoGroupColDef(i,e,r);o.colId=i;var a=new rt(o,null,i,!0);return this.context.createBean(a),a},t.prototype.updateOneAutoGroupColumn=function(e,r,i){var o=e.getColDef(),a=typeof o.showRowGroup=="string"?o.showRowGroup:void 0,s=a!=null?this.columnModel.getPrimaryColumn(a):void 0,l=this.createAutoGroupColDef(e.getId(),s??void 0,r);e.setColDef(l,null,i),this.columnFactory.applyColumnState(e,l,i)},t.prototype.createAutoGroupColDef=function(e,r,i){var o=this.createBaseColDef(r),a=this.gridOptionsService.get("autoGroupColumnDef");if(na(o,a),o=this.columnFactory.addColumnDefaultAndTypes(o,e),!this.gridOptionsService.get("treeData")){var s=We(o.field)&&We(o.valueGetter)&&We(o.filterValueGetter)&&o.filter!=="agGroupColumnFilter";s&&(o.filter=!1)}i&&i>0&&(o.headerCheckboxSelection=!1);var l=this.gridOptionsService.isColumnsSortingCoupledToGroup(),u=o.valueGetter||o.field!=null;return l&&!u&&(o.sortIndex=void 0,o.initialSort=void 0),o},t.prototype.createBaseColDef=function(e){var r=this.gridOptionsService.get("autoGroupColumnDef"),i=this.localeService.getLocaleTextFunc(),o={headerName:i("group","Group")},a=r&&(r.cellRenderer||r.cellRendererSelector);if(a||(o.cellRenderer="agGroupCellRenderer"),e){var s=e.getColDef();Object.assign(o,{headerName:this.columnModel.getDisplayNameForColumn(e,"header"),headerValueGetter:s.headerValueGetter}),s.cellRenderer&&Object.assign(o,{cellRendererParams:{innerRenderer:s.cellRenderer,innerRendererParams:s.cellRendererParams}}),o.showRowGroup=e.getColId()}else o.showRowGroup=!0;return o},_A([E("columnModel")],t.prototype,"columnModel",void 0),_A([E("columnFactory")],t.prototype,"columnFactory",void 0),t=_A([ie("autoGroupColService")],t),t}(X),$0e=/[&<>"']/g,W0e={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"};function U0e(n){var t=String.fromCharCode;function e(d){var p=[];if(!d)return[];for(var h=d.length,f=0,v,g;f<h;)v=d.charCodeAt(f++),v>=55296&&v<=56319&&f<h?(g=d.charCodeAt(f++),(g&64512)==56320?p.push(((v&1023)<<10)+(g&1023)+65536):(p.push(v),f--)):p.push(v);return p}function r(d){if(d>=55296&&d<=57343)throw Error("Lone surrogate U+"+d.toString(16).toUpperCase()+" is not a scalar value")}function i(d,p){return t(d>>p&63|128)}function o(d){if(d>=0&&d<=31&&d!==10){var p=d.toString(16).toUpperCase(),h=p.padStart(4,"0");return"_x".concat(h,"_")}if(!(d&4294967168))return t(d);var f="";return d&4294965248?d&4294901760?d&4292870144||(f=t(d>>18&7|240),f+=i(d,12),f+=i(d,6)):(r(d),f=t(d>>12&15|224),f+=i(d,6)):f=t(d>>6&31|192),f+=t(d&63|128),f}for(var a=e(n),s=a.length,l=-1,u,c="";++l<s;)u=a[l],c+=o(u);return c}function z0e(n){return n[0].toUpperCase()+n.substring(1).toLowerCase()}function cn(n,t){if(n==null)return null;var e=n.toString().toString();return t?e:e.replace($0e,function(r){return W0e[r]})}function L7(n){if(!n||n==null)return null;var t=/([a-z])([A-Z])/g,e=/([A-Z]+)([A-Z])([a-z])/g,r=n.replace(t,"$1 $2").replace(e,"$1 $2$3").replace(/\./g," ").split(" ");return r.map(function(i){return i.substring(0,1).toUpperCase()+(i.length>1?i.substring(1,i.length):"")}).join(" ")}function F7(n){return n.replace(/[A-Z]/g,function(t){return"-".concat(t.toLocaleLowerCase())})}var K0e=Object.freeze({__proto__:null,utf8_encode:U0e,capitalise:z0e,escapeString:cn,camelCaseToHumanText:L7,camelCaseToHyphenated:F7});function dd(n){var t=new Map;return n.forEach(function(e){return t.set(e[0],e[1])}),t}function Y0e(n,t){var e=new Map;return n.forEach(function(r){return e.set(t(r),r)}),e}function X0e(n){var t=[];return n.forEach(function(e,r){return t.push(r)}),t}var q0e=Object.freeze({__proto__:null,convertToMap:dd,mapById:Y0e,keys:X0e}),Z0e=function(){var n=function(t,e){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])},n(t,e)};return function(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");n(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}}(),Un=function(n,t,e,r){var i=arguments.length,o=i<3?t:r===null?r=Object.getOwnPropertyDescriptor(t,e):r,a;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(n,t,e,r);else for(var s=n.length-1;s>=0;s--)(a=n[s])&&(o=(i<3?a(o):i>3?a(t,e,o):a(t,e))||o);return i>3&&o&&Object.defineProperty(t,e,o),o},Q0e=function(n,t){return function(e,r){t(e,r,n)}},J0e=function(n,t){var e={};for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&t.indexOf(r)<0&&(e[r]=n[r]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(n);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(n,r[i])&&(e[r[i]]=n[r[i]]);return e},Ao=function(n,t){var e=typeof Symbol=="function"&&n[Symbol.iterator];if(!e)return n;var r=e.call(n),i,o=[],a;try{for(;(t===void 0||t-- >0)&&!(i=r.next()).done;)o.push(i.value)}catch(s){a={error:s}}finally{try{i&&!i.done&&(e=r.return)&&e.call(r)}finally{if(a)throw a.error}}return o},Do=function(n,t,e){if(e||arguments.length===2)for(var r=0,i=t.length,o;r<i;r++)(o||!(r in t))&&(o||(o=Array.prototype.slice.call(t,0,r)),o[r]=t[r]);return n.concat(o||Array.prototype.slice.call(t))},xA=function(n){var t=typeof Symbol=="function"&&Symbol.iterator,e=t&&n[t],r=0;if(e)return e.call(n);if(n&&typeof n.length=="number")return{next:function(){return n&&r>=n.length&&(n=void 0),{value:n&&n[r++],done:!n}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")},I7=function(n){Z0e(t,n);function t(){var e=n!==null&&n.apply(this,arguments)||this;return e.primaryHeaderRowCount=0,e.secondaryHeaderRowCount=0,e.gridHeaderRowCount=0,e.displayedColumnsLeft=[],e.displayedColumnsRight=[],e.displayedColumnsCenter=[],e.displayedColumns=[],e.displayedColumnsAndGroupsMap={},e.viewportColumns=[],e.viewportColumnsHash="",e.headerViewportColumns=[],e.viewportColumnsCenter=[],e.headerViewportColumnsCenter=[],e.viewportRowLeft={},e.viewportRowRight={},e.viewportRowCenter={},e.autoHeightActiveAtLeastOnce=!1,e.rowGroupColumns=[],e.valueColumns=[],e.pivotColumns=[],e.ready=!1,e.changeEventsDispatching=!1,e.autoGroupsNeedBuilding=!1,e.forceRecreateAutoGroups=!1,e.pivotMode=!1,e.bodyWidth=0,e.leftWidth=0,e.rightWidth=0,e.bodyWidthDirty=!0,e.shouldQueueResizeOperations=!1,e.resizeOperationQueue=[],e}return t.prototype.init=function(){var e=this;this.suppressColumnVirtualisation=this.gridOptionsService.get("suppressColumnVirtualisation");var r=this.gridOptionsService.get("pivotMode");this.isPivotSettingAllowed(r)&&(this.pivotMode=r),this.addManagedPropertyListeners(["groupDisplayType","treeData","treeDataDisplayType","groupHideOpenParents"],function(i){return e.buildAutoGroupColumns(Rv(i.source))}),this.addManagedPropertyListener("autoGroupColumnDef",function(i){return e.onAutoGroupColumnDefChanged(Rv(i.source))}),this.addManagedPropertyListeners(["defaultColDef","columnTypes","suppressFieldDotNotation"],function(i){return e.onSharedColDefChanged(Rv(i.source))}),this.addManagedPropertyListener("pivotMode",function(i){return e.setPivotMode(e.gridOptionsService.get("pivotMode"),Rv(i.source))}),this.addManagedListener(this.eventService,T.EVENT_FIRST_DATA_RENDERED,function(){return e.onFirstDataRendered()})},t.prototype.buildAutoGroupColumns=function(e){this.columnDefs&&(this.autoGroupsNeedBuilding=!0,this.forceRecreateAutoGroups=!0,this.updateGridColumns(),this.updateDisplayedColumns(e))},t.prototype.onAutoGroupColumnDefChanged=function(e){this.groupAutoColumns&&this.autoGroupColService.updateAutoGroupColumns(this.groupAutoColumns,e)},t.prototype.onSharedColDefChanged=function(e){this.gridColumns&&(this.groupAutoColumns&&this.autoGroupColService.updateAutoGroupColumns(this.groupAutoColumns,e),this.createColumnsFromColumnDefs(!0,e))},t.prototype.setColumnDefs=function(e,r){var i=!!this.columnDefs;this.columnDefs=e,this.createColumnsFromColumnDefs(i,r)},t.prototype.recreateColumnDefs=function(e){this.onSharedColDefChanged(e)},t.prototype.destroyOldColumns=function(e,r){var i={};if(e){this.columnUtils.depthFirstOriginalTreeSearch(null,e,function(a){i[a.getInstanceId()]=a}),r&&this.columnUtils.depthFirstOriginalTreeSearch(null,r,function(a){i[a.getInstanceId()]=null});var o=Object.values(i).filter(function(a){return a!=null});this.destroyBeans(o)}},t.prototype.destroyColumns=function(){this.destroyOldColumns(this.primaryColumnTree),this.destroyOldColumns(this.secondaryBalancedTree),this.destroyOldColumns(this.groupAutoColsBalancedTree)},t.prototype.createColumnsFromColumnDefs=function(e,r){var i=this,o=e?this.compareColumnStatesAndDispatchEvents(r):void 0;this.valueCache.expire(),this.autoGroupsNeedBuilding=!0;var a=this.primaryColumns,s=this.primaryColumnTree,l=this.columnFactory.createColumnTree(this.columnDefs,!0,s,r);this.destroyOldColumns(this.primaryColumnTree,l.columnTree),this.primaryColumnTree=l.columnTree,this.primaryHeaderRowCount=l.treeDept+1,this.primaryColumns=this.getColumnsFromTree(this.primaryColumnTree),this.primaryColumnsMap={},this.primaryColumns.forEach(function(d){return i.primaryColumnsMap[d.getId()]=d}),this.extractRowGroupColumns(r,a),this.extractPivotColumns(r,a),this.extractValueColumns(r,a),this.ready=!0;var u=this.gridColsArePrimary===void 0,c=this.gridColsArePrimary||u||this.autoGroupsNeedBuilding;c&&(this.updateGridColumns(),e&&this.gridColsArePrimary&&!this.gridOptionsService.get("maintainColumnOrder")&&this.orderGridColumnsLikePrimary(),this.updateDisplayedColumns(r),this.checkViewportColumns()),this.dispatchEverythingChanged(r),this.changeEventsDispatching=!0,o&&o(),this.changeEventsDispatching=!1,this.dispatchNewColumnsLoaded(r)},t.prototype.shouldRowModelIgnoreRefresh=function(){return this.changeEventsDispatching},t.prototype.dispatchNewColumnsLoaded=function(e){var r={type:T.EVENT_NEW_COLUMNS_LOADED,source:e};this.eventService.dispatchEvent(r),e==="gridInitializing"&&this.onColumnsReady()},t.prototype.dispatchEverythingChanged=function(e){var r={type:T.EVENT_COLUMN_EVERYTHING_CHANGED,source:e};this.eventService.dispatchEvent(r)},t.prototype.orderGridColumnsLikePrimary=function(){var e=this,r=this.primaryColumns;if(r){var i=r.filter(function(a){return e.gridColumns.indexOf(a)>=0}),o=this.gridColumns.filter(function(a){return i.indexOf(a)<0});this.gridColumns=Do(Do([],Ao(o),!1),Ao(i),!1),this.gridColumns=this.placeLockedColumns(this.gridColumns)}},t.prototype.getAllDisplayedAutoHeightCols=function(){return this.displayedAutoHeightCols},t.prototype.setViewport=function(){this.gridOptionsService.get("enableRtl")?(this.viewportLeft=this.bodyWidth-this.scrollPosition-this.scrollWidth,this.viewportRight=this.bodyWidth-this.scrollPosition):(this.viewportLeft=this.scrollPosition,this.viewportRight=this.scrollWidth+this.scrollPosition)},t.prototype.getDisplayedColumnsStartingAt=function(e){for(var r=e,i=[];r!=null;)i.push(r),r=this.getDisplayedColAfter(r);return i},t.prototype.checkViewportColumns=function(e){if(e===void 0&&(e=!1),this.displayedColumnsCenter!=null){var r=this.extractViewport();if(r){var i={type:T.EVENT_VIRTUAL_COLUMNS_CHANGED,afterScroll:e};this.eventService.dispatchEvent(i)}}},t.prototype.setViewportPosition=function(e,r,i){i===void 0&&(i=!1),(e!==this.scrollWidth||r!==this.scrollPosition||this.bodyWidthDirty)&&(this.scrollWidth=e,this.scrollPosition=r,this.bodyWidthDirty=!0,this.setViewport(),this.ready&&this.checkViewportColumns(i))},t.prototype.isPivotMode=function(){return this.pivotMode},t.prototype.isPivotSettingAllowed=function(e){return e&&this.gridOptionsService.get("treeData")?(console.warn("AG Grid: Pivot mode not available in conjunction Tree Data i.e. 'gridOptions.treeData: true'"),!1):!0},t.prototype.setPivotMode=function(e,r){if(!(e===this.pivotMode||!this.isPivotSettingAllowed(this.pivotMode))&&(this.pivotMode=e,!!this.gridColumns)){this.autoGroupsNeedBuilding=!0,this.updateGridColumns(),this.updateDisplayedColumns(r);var i={type:T.EVENT_COLUMN_PIVOT_MODE_CHANGED};this.eventService.dispatchEvent(i)}},t.prototype.getSecondaryPivotColumn=function(e,r){if(We(this.secondaryColumns))return null;var i=this.getPrimaryColumn(r),o=null;return this.secondaryColumns.forEach(function(a){var s=a.getColDef().pivotKeys,l=a.getColDef().pivotValueColumn,u=Gu(s,e),c=l===i;u&&c&&(o=a)}),o},t.prototype.setBeans=function(e){this.logger=e.create("columnModel")},t.prototype.setFirstRightAndLastLeftPinned=function(e){var r,i;this.gridOptionsService.get("enableRtl")?(r=this.displayedColumnsLeft?this.displayedColumnsLeft[0]:null,i=this.displayedColumnsRight?xt(this.displayedColumnsRight):null):(r=this.displayedColumnsLeft?xt(this.displayedColumnsLeft):null,i=this.displayedColumnsRight?this.displayedColumnsRight[0]:null),this.gridColumns.forEach(function(o){o.setLastLeftPinned(o===r,e),o.setFirstRightPinned(o===i,e)})},t.prototype.autoSizeColumns=function(e){var r=this;if(this.shouldQueueResizeOperations){this.resizeOperationQueue.push(function(){return r.autoSizeColumns(e)});return}var i=e.columns,o=e.skipHeader,a=e.skipHeaderGroups,s=e.stopAtGroup,l=e.source,u=l===void 0?"api":l;this.animationFrameService.flushAllFrames();for(var c=[],d=-1,p=o??this.gridOptionsService.get("skipHeaderOnAutoSize"),h=a??p;d!==0;)d=0,this.actionOnGridColumns(i,function(f){if(c.indexOf(f)>=0)return!1;var v=r.autoWidthCalculator.getPreferredWidthForColumn(f,p);if(v>0){var g=r.normaliseColumnWidth(f,v);f.setActualWidth(g,u),c.push(f),d++}return!0},u);h||this.autoSizeColumnGroupsByColumns(i,u,s),this.dispatchColumnResizedEvent(c,!0,"autosizeColumns")},t.prototype.dispatchColumnResizedEvent=function(e,r,i,o){if(o===void 0&&(o=null),e&&e.length){var a={type:T.EVENT_COLUMN_RESIZED,columns:e,column:e.length===1?e[0]:null,flexColumns:o,finished:r,source:i};this.eventService.dispatchEvent(a)}},t.prototype.dispatchColumnChangedEvent=function(e,r,i){var o={type:e,columns:r,column:r&&r.length==1?r[0]:null,source:i};this.eventService.dispatchEvent(o)},t.prototype.dispatchColumnMovedEvent=function(e){var r=e.movedColumns,i=e.source,o=e.toIndex,a=e.finished,s={type:T.EVENT_COLUMN_MOVED,columns:r,column:r&&r.length===1?r[0]:null,toIndex:o,finished:a,source:i};this.eventService.dispatchEvent(s)},t.prototype.dispatchColumnPinnedEvent=function(e,r){if(e.length){var i=e.length===1?e[0]:null,o=this.getCommonValue(e,function(s){return s.getPinned()}),a={type:T.EVENT_COLUMN_PINNED,pinned:o??null,columns:e,column:i,source:r};this.eventService.dispatchEvent(a)}},t.prototype.dispatchColumnVisibleEvent=function(e,r){if(e.length){var i=e.length===1?e[0]:null,o=this.getCommonValue(e,function(s){return s.isVisible()}),a={type:T.EVENT_COLUMN_VISIBLE,visible:o,columns:e,column:i,source:r};this.eventService.dispatchEvent(a)}},t.prototype.autoSizeColumn=function(e,r,i){e&&this.autoSizeColumns({columns:[e],skipHeader:i,skipHeaderGroups:!0,source:r})},t.prototype.autoSizeColumnGroupsByColumns=function(e,r,i){var o,a,s,l,u=new Set,c=this.getGridColumns(e);c.forEach(function(C){for(var S=C.getParent();S&&S!=i;)S.isPadding()||u.add(S),S=S.getParent()});var d,p=[];try{for(var h=xA(u),f=h.next();!f.done;f=h.next()){var v=f.value;try{for(var g=(s=void 0,xA(this.ctrlsService.getHeaderRowContainerCtrls())),y=g.next();!y.done;y=g.next()){var m=y.value;if(d=m.getHeaderCtrlForColumn(v),d)break}}catch(C){s={error:C}}finally{try{y&&!y.done&&(l=g.return)&&l.call(g)}finally{if(s)throw s.error}}d&&d.resizeLeafColumnsToFit(r)}}catch(C){o={error:C}}finally{try{f&&!f.done&&(a=h.return)&&a.call(h)}finally{if(o)throw o.error}}return p},t.prototype.autoSizeAllColumns=function(e,r){var i=this;if(this.shouldQueueResizeOperations){this.resizeOperationQueue.push(function(){return i.autoSizeAllColumns(e,r)});return}var o=this.getAllDisplayedColumns();this.autoSizeColumns({columns:o,skipHeader:r,source:e})},t.prototype.getColumnsFromTree=function(e){var r=[],i=function(o){for(var a=0;a<o.length;a++){var s=o[a];s instanceof rt?r.push(s):s instanceof Rt&&i(s.getChildren())}};return i(e),r},t.prototype.getAllDisplayedTrees=function(){return this.displayedTreeLeft&&this.displayedTreeRight&&this.displayedTreeCentre?this.displayedTreeLeft.concat(this.displayedTreeCentre).concat(this.displayedTreeRight):null},t.prototype.getPrimaryColumnTree=function(){return this.primaryColumnTree},t.prototype.getHeaderRowCount=function(){return this.gridHeaderRowCount},t.prototype.getDisplayedTreeLeft=function(){return this.displayedTreeLeft},t.prototype.getDisplayedTreeRight=function(){return this.displayedTreeRight},t.prototype.getDisplayedTreeCentre=function(){return this.displayedTreeCentre},t.prototype.isColumnDisplayed=function(e){return this.getAllDisplayedColumns().indexOf(e)>=0},t.prototype.getAllDisplayedColumns=function(){return this.displayedColumns},t.prototype.getViewportColumns=function(){return this.viewportColumns},t.prototype.getDisplayedLeftColumnsForRow=function(e){return this.colSpanActive?this.getDisplayedColumnsForRow(e,this.displayedColumnsLeft):this.displayedColumnsLeft},t.prototype.getDisplayedRightColumnsForRow=function(e){return this.colSpanActive?this.getDisplayedColumnsForRow(e,this.displayedColumnsRight):this.displayedColumnsRight},t.prototype.isColSpanActive=function(){return this.colSpanActive},t.prototype.getDisplayedColumnsForRow=function(e,r,i,o){for(var a=[],s=null,l=function(d){var p=r[d],h=r.length-d,f=Math.min(p.getColSpan(e),h),v=[p];if(f>1){for(var g=f-1,y=1;y<=g;y++)v.push(r[d+y]);d+=g}var m;if(i?(m=!1,v.forEach(function(S){i(S)&&(m=!0)})):m=!0,m){if(a.length===0&&s){var C=o?o(p):!1;C&&a.push(s)}a.push(p)}s=p,u=d},u,c=0;c<r.length;c++)l(c),c=u;return a},t.prototype.getViewportCenterColumnsForRow=function(e){var r=this;if(!this.colSpanActive)return this.viewportColumnsCenter;var i=function(a){var s=a.getLeft();return oe(s)&&s>r.viewportLeft},o=this.isColumnVirtualisationSuppressed()?null:this.isColumnInRowViewport.bind(this);return this.getDisplayedColumnsForRow(e,this.displayedColumnsCenter,o,i)},t.prototype.isColumnAtEdge=function(e,r){var i=this.getAllDisplayedColumns();if(!i.length)return!1;var o=r==="first",a;if(e instanceof Kr){var s=e.getDisplayedLeafColumns();if(!s.length)return!1;a=o?s[0]:xt(s)}else a=e;return(o?i[0]:xt(i))===a},t.prototype.getAriaColumnIndex=function(e){var r;return e instanceof Kr?r=e.getLeafColumns()[0]:r=e,this.ariaOrderColumns.indexOf(r)+1},t.prototype.isColumnInHeaderViewport=function(e){return e.isAutoHeaderHeight()?!0:this.isColumnInRowViewport(e)},t.prototype.isColumnInRowViewport=function(e){if(e.isAutoHeight())return!0;var r=e.getLeft()||0,i=r+e.getActualWidth(),o=this.viewportLeft-200,a=this.viewportRight+200,s=r<o&&i<o,l=r>a&&i>a;return!s&&!l},t.prototype.getDisplayedColumnsLeftWidth=function(){return this.getWidthOfColsInList(this.displayedColumnsLeft)},t.prototype.getDisplayedColumnsRightWidth=function(){return this.getWidthOfColsInList(this.displayedColumnsRight)},t.prototype.updatePrimaryColumnList=function(e,r,i,o,a,s){var l=this;if(!(!e||Jo(e))){var u=!1;if(e.forEach(function(d){if(d){var p=l.getPrimaryColumn(d);if(p){if(i){if(r.indexOf(p)>=0)return;r.push(p)}else{if(r.indexOf(p)<0)return;so(r,p)}o(p),u=!0}}}),!!u){this.autoGroupsNeedBuilding&&this.updateGridColumns(),this.updateDisplayedColumns(s);var c={type:a,columns:r,column:r.length===1?r[0]:null,source:s};this.eventService.dispatchEvent(c)}}},t.prototype.setRowGroupColumns=function(e,r){this.autoGroupsNeedBuilding=!0,this.setPrimaryColumnList(e,this.rowGroupColumns,T.EVENT_COLUMN_ROW_GROUP_CHANGED,!0,this.setRowGroupActive.bind(this),r)},t.prototype.setRowGroupActive=function(e,r,i){e!==r.isRowGroupActive()&&(r.setRowGroupActive(e,i),e&&!this.gridOptionsService.get("suppressRowGroupHidesColumns")&&this.setColumnsVisible([r],!1,i),!e&&!this.gridOptionsService.get("suppressMakeColumnVisibleAfterUnGroup")&&this.setColumnsVisible([r],!0,i))},t.prototype.addRowGroupColumns=function(e,r){this.autoGroupsNeedBuilding=!0,this.updatePrimaryColumnList(e,this.rowGroupColumns,!0,this.setRowGroupActive.bind(this,!0),T.EVENT_COLUMN_ROW_GROUP_CHANGED,r)},t.prototype.removeRowGroupColumns=function(e,r){this.autoGroupsNeedBuilding=!0,this.updatePrimaryColumnList(e,this.rowGroupColumns,!1,this.setRowGroupActive.bind(this,!1),T.EVENT_COLUMN_ROW_GROUP_CHANGED,r)},t.prototype.addPivotColumns=function(e,r){this.updatePrimaryColumnList(e,this.pivotColumns,!0,function(i){return i.setPivotActive(!0,r)},T.EVENT_COLUMN_PIVOT_CHANGED,r)},t.prototype.setPivotColumns=function(e,r){this.setPrimaryColumnList(e,this.pivotColumns,T.EVENT_COLUMN_PIVOT_CHANGED,!0,function(i,o){o.setPivotActive(i,r)},r)},t.prototype.removePivotColumns=function(e,r){this.updatePrimaryColumnList(e,this.pivotColumns,!1,function(i){return i.setPivotActive(!1,r)},T.EVENT_COLUMN_PIVOT_CHANGED,r)},t.prototype.setPrimaryColumnList=function(e,r,i,o,a,s){var l=this;if(this.gridColumns){var u=new Map;r.forEach(function(c,d){return u.set(c,d)}),r.length=0,oe(e)&&e.forEach(function(c){var d=l.getPrimaryColumn(c);d&&r.push(d)}),r.forEach(function(c,d){var p=u.get(c);if(p===void 0){u.set(c,0);return}o&&p!==d||u.delete(c)}),(this.primaryColumns||[]).forEach(function(c){var d=r.indexOf(c)>=0;a(d,c)}),this.autoGroupsNeedBuilding&&this.updateGridColumns(),this.updateDisplayedColumns(s),this.dispatchColumnChangedEvent(i,Do([],Ao(u.keys()),!1),s)}},t.prototype.setValueColumns=function(e,r){this.setPrimaryColumnList(e,this.valueColumns,T.EVENT_COLUMN_VALUE_CHANGED,!1,this.setValueActive.bind(this),r)},t.prototype.setValueActive=function(e,r,i){if(e!==r.isValueActive()&&(r.setValueActive(e,i),e&&!r.getAggFunc())){var o=this.aggFuncService.getDefaultAggFunc(r);r.setAggFunc(o)}},t.prototype.addValueColumns=function(e,r){this.updatePrimaryColumnList(e,this.valueColumns,!0,this.setValueActive.bind(this,!0),T.EVENT_COLUMN_VALUE_CHANGED,r)},t.prototype.removeValueColumns=function(e,r){this.updatePrimaryColumnList(e,this.valueColumns,!1,this.setValueActive.bind(this,!1),T.EVENT_COLUMN_VALUE_CHANGED,r)},t.prototype.normaliseColumnWidth=function(e,r){var i=e.getMinWidth();oe(i)&&r<i&&(r=i);var o=e.getMaxWidth();return oe(o)&&e.isGreaterThanMax(r)&&(r=o),r},t.prototype.getPrimaryOrGridColumn=function(e){var r=this.getPrimaryColumn(e);return r||this.getGridColumn(e)},t.prototype.setColumnWidths=function(e,r,i,o){var a=this,s=[];e.forEach(function(l){var u=a.getPrimaryOrGridColumn(l.key);if(u){s.push({width:l.newWidth,ratios:[1],columns:[u]});var c=a.gridOptionsService.get("colResizeDefault")==="shift";if(c&&(r=!r),r){var d=a.getDisplayedColAfter(u);if(!d)return;var p=u.getActualWidth()-l.newWidth,h=d.getActualWidth()+p;s.push({width:h,ratios:[1],columns:[d]})}}}),s.length!==0&&this.resizeColumnSets({resizeSets:s,finished:i,source:o})},t.prototype.checkMinAndMaxWidthsForSet=function(e){var r=e.columns,i=e.width,o=0,a=0,s=!0;r.forEach(function(c){var d=c.getMinWidth();o+=d||0;var p=c.getMaxWidth();oe(p)&&p>0?a+=p:s=!1});var l=i>=o,u=!s||i<=a;return l&&u},t.prototype.resizeColumnSets=function(e){var r=this,i=e.resizeSets,o=e.finished,a=e.source,s=!i||i.every(function(f){return r.checkMinAndMaxWidthsForSet(f)});if(!s){if(o){var l=i&&i.length>0?i[0].columns:null;this.dispatchColumnResizedEvent(l,o,a)}return}var u=[],c=[];i.forEach(function(f){var v=f.width,g=f.columns,y=f.ratios,m={},C={};g.forEach(function(b){return c.push(b)});for(var S=!0,w=0,_=function(){if(w++,w>1e3)return console.error("AG Grid: infinite loop in resizeColumnSets"),"break";S=!1;var b=[],O=0,P=v;g.forEach(function(N,L){var I=C[N.getId()];if(I)P-=m[N.getId()];else{b.push(N);var k=y[L];O+=k}});var D=1/O;b.forEach(function(N,L){var I=L===b.length-1,k;I?k=P:(k=Math.round(y[L]*v*D),P-=k);var H=N.getMinWidth(),$=N.getMaxWidth();oe(H)&&k<H?(k=H,C[N.getId()]=!0,S=!0):oe($)&&$>0&&k>$&&(k=$,C[N.getId()]=!0,S=!0),m[N.getId()]=k})};S;){var x=_();if(x==="break")break}g.forEach(function(b){var O=m[b.getId()],P=b.getActualWidth();P!==O&&(b.setActualWidth(O,a),u.push(b))})});var d=u.length>0,p=[];d&&(p=this.refreshFlexedColumns({resizingCols:c,skipSetLeft:!0}),this.setLeftValues(a),this.updateBodyWidths(),this.checkViewportColumns());var h=c.concat(p);(d||o)&&this.dispatchColumnResizedEvent(h,o,a,p)},t.prototype.setColumnAggFunc=function(e,r,i){if(e){var o=this.getPrimaryColumn(e);o&&(o.setAggFunc(r),this.dispatchColumnChangedEvent(T.EVENT_COLUMN_VALUE_CHANGED,[o],i))}},t.prototype.moveRowGroupColumn=function(e,r,i){if(!this.isRowGroupEmpty()){var o=this.rowGroupColumns[e],a=this.rowGroupColumns.slice(e,r);this.rowGroupColumns.splice(e,1),this.rowGroupColumns.splice(r,0,o);var s={type:T.EVENT_COLUMN_ROW_GROUP_CHANGED,columns:a,column:a.length===1?a[0]:null,source:i};this.eventService.dispatchEvent(s)}},t.prototype.moveColumns=function(e,r,i,o){if(o===void 0&&(o=!0),!!this.gridColumns){if(this.columnAnimationService.start(),r>this.gridColumns.length-e.length){console.warn("AG Grid: tried to insert columns in invalid location, toIndex = "+r),console.warn("AG Grid: remember that you should not count the moving columns when calculating the new index");return}var a=this.getGridColumns(e),s=!this.doesMovePassRules(a,r);s||(pF(this.gridColumns,a,r),this.updateDisplayedColumns(i),this.dispatchColumnMovedEvent({movedColumns:a,source:i,toIndex:r,finished:o}),this.columnAnimationService.finish())}},t.prototype.doesMovePassRules=function(e,r){var i=this.getProposedColumnOrder(e,r);return this.doesOrderPassRules(i)},t.prototype.doesOrderPassRules=function(e){return!(!this.doesMovePassMarryChildren(e)||!this.doesMovePassLockedPositions(e))},t.prototype.getProposedColumnOrder=function(e,r){var i=this.gridColumns.slice();return pF(i,e,r),i},t.prototype.sortColumnsLikeGridColumns=function(e){var r=this;if(!(!e||e.length<=1)){var i=e.filter(function(o){return r.gridColumns.indexOf(o)<0}).length>0;i||e.sort(function(o,a){var s=r.gridColumns.indexOf(o),l=r.gridColumns.indexOf(a);return s-l})}},t.prototype.doesMovePassLockedPositions=function(e){var r=0,i=!0,o=function(a){return a?a===!0||a==="left"?0:2:1};return e.forEach(function(a){var s=o(a.getColDef().lockPosition);s<r&&(i=!1),r=s}),i},t.prototype.doesMovePassMarryChildren=function(e){var r=!0;return this.columnUtils.depthFirstOriginalTreeSearch(null,this.gridBalancedTree,function(i){if(i instanceof Rt){var o=i,a=o.getColGroupDef(),s=a&&a.marryChildren;if(s){var l=[];o.getLeafColumns().forEach(function(h){var f=e.indexOf(h);l.push(f)});var u=Math.max.apply(Math,l),c=Math.min.apply(Math,l),d=u-c,p=o.getLeafColumns().length-1;d>p&&(r=!1)}}}),r},t.prototype.moveColumnByIndex=function(e,r,i){if(this.gridColumns){var o=this.gridColumns[e];this.moveColumns([o],r,i)}},t.prototype.getColumnDefs=function(){var e=this;if(this.primaryColumns){var r=this.primaryColumns.slice();return this.gridColsArePrimary?r.sort(function(i,o){return e.gridColumns.indexOf(i)-e.gridColumns.indexOf(o)}):this.lastPrimaryOrder&&r.sort(function(i,o){return e.lastPrimaryOrder.indexOf(i)-e.lastPrimaryOrder.indexOf(o)}),this.columnDefFactory.buildColumnDefs(r,this.rowGroupColumns,this.pivotColumns)}},t.prototype.getBodyContainerWidth=function(){return this.bodyWidth},t.prototype.getContainerWidth=function(e){switch(e){case"left":return this.leftWidth;case"right":return this.rightWidth;default:return this.bodyWidth}},t.prototype.updateBodyWidths=function(){var e=this.getWidthOfColsInList(this.displayedColumnsCenter),r=this.getWidthOfColsInList(this.displayedColumnsLeft),i=this.getWidthOfColsInList(this.displayedColumnsRight);this.bodyWidthDirty=this.bodyWidth!==e;var o=this.bodyWidth!==e||this.leftWidth!==r||this.rightWidth!==i;if(o){this.bodyWidth=e,this.leftWidth=r,this.rightWidth=i;var a={type:T.EVENT_COLUMN_CONTAINER_WIDTH_CHANGED};this.eventService.dispatchEvent(a);var s={type:T.EVENT_DISPLAYED_COLUMNS_WIDTH_CHANGED};this.eventService.dispatchEvent(s)}},t.prototype.getValueColumns=function(){return this.valueColumns?this.valueColumns:[]},t.prototype.getPivotColumns=function(){return this.pivotColumns?this.pivotColumns:[]},t.prototype.isPivotActive=function(){return this.pivotColumns&&this.pivotColumns.length>0&&this.pivotMode},t.prototype.getRowGroupColumns=function(){return this.rowGroupColumns?this.rowGroupColumns:[]},t.prototype.getDisplayedCenterColumns=function(){return this.displayedColumnsCenter},t.prototype.getDisplayedLeftColumns=function(){return this.displayedColumnsLeft},t.prototype.getDisplayedRightColumns=function(){return this.displayedColumnsRight},t.prototype.getDisplayedColumns=function(e){switch(e){case"left":return this.getDisplayedLeftColumns();case"right":return this.getDisplayedRightColumns();default:return this.getDisplayedCenterColumns()}},t.prototype.getAllPrimaryColumns=function(){return this.primaryColumns?this.primaryColumns:null},t.prototype.getSecondaryColumns=function(){return this.secondaryColumns?this.secondaryColumns:null},t.prototype.getAllColumnsForQuickFilter=function(){return this.columnsForQuickFilter},t.prototype.getAllGridColumns=function(){var e;return(e=this.gridColumns)!==null&&e!==void 0?e:[]},t.prototype.isEmpty=function(){return Jo(this.gridColumns)},t.prototype.isRowGroupEmpty=function(){return Jo(this.rowGroupColumns)},t.prototype.setColumnsVisible=function(e,r,i){r===void 0&&(r=!1),this.applyColumnState({state:e.map(function(o){return{colId:typeof o=="string"?o:o.getColId(),hide:!r}})},i)},t.prototype.setColumnsPinned=function(e,r,i){if(this.gridColumns){if(this.gridOptionsService.isDomLayout("print")){console.warn("AG Grid: Changing the column pinning status is not allowed with domLayout='print'");return}this.columnAnimationService.start();var o;r===!0||r==="left"?o="left":r==="right"?o="right":o=null,this.actionOnGridColumns(e,function(a){return a.getPinned()!==o?(a.setPinned(o),!0):!1},i,function(){var a={type:T.EVENT_COLUMN_PINNED,pinned:o,column:null,columns:null,source:i};return a}),this.columnAnimationService.finish()}},t.prototype.actionOnGridColumns=function(e,r,i,o){var a=this;if(!Jo(e)){var s=[];if(e.forEach(function(u){if(u){var c=a.getGridColumn(u);if(c){var d=r(c);d!==!1&&s.push(c)}}}),!!s.length&&(this.updateDisplayedColumns(i),oe(o)&&o)){var l=o();l.columns=s,l.column=s.length===1?s[0]:null,this.eventService.dispatchEvent(l)}}},t.prototype.getDisplayedColBefore=function(e){var r=this.getAllDisplayedColumns(),i=r.indexOf(e);return i>0?r[i-1]:null},t.prototype.getDisplayedColAfter=function(e){var r=this.getAllDisplayedColumns(),i=r.indexOf(e);return i<r.length-1?r[i+1]:null},t.prototype.getDisplayedGroupAfter=function(e){return this.getDisplayedGroupAtDirection(e,"After")},t.prototype.getDisplayedGroupBefore=function(e){return this.getDisplayedGroupAtDirection(e,"Before")},t.prototype.getDisplayedGroupAtDirection=function(e,r){for(var i=e.getProvidedColumnGroup().getLevel()+e.getPaddingLevel(),o=e.getDisplayedLeafColumns(),a=r==="After"?xt(o):o[0],s="getDisplayedCol".concat(r);;){var l=this[s](a);if(!l)return null;var u=this.getColumnGroupAtLevel(l,i);if(u!==e)return u}},t.prototype.getColumnGroupAtLevel=function(e,r){for(var i=e.getParent(),o,a;;){var s=i.getProvidedColumnGroup();if(o=s.getLevel(),a=i.getPaddingLevel(),o+a<=r)break;i=i.getParent()}return i},t.prototype.isPinningLeft=function(){return this.displayedColumnsLeft.length>0},t.prototype.isPinningRight=function(){return this.displayedColumnsRight.length>0},t.prototype.getPrimaryAndSecondaryAndAutoColumns=function(){var e;return(e=[]).concat.apply(e,[this.primaryColumns||[],this.groupAutoColumns||[],this.secondaryColumns||[]])},t.prototype.createStateItemFromColumn=function(e){var r=e.isRowGroupActive()?this.rowGroupColumns.indexOf(e):null,i=e.isPivotActive()?this.pivotColumns.indexOf(e):null,o=e.isValueActive()?e.getAggFunc():null,a=e.getSort()!=null?e.getSort():null,s=e.getSortIndex()!=null?e.getSortIndex():null,l=e.getFlex()!=null&&e.getFlex()>0?e.getFlex():null,u={colId:e.getColId(),width:e.getActualWidth(),hide:!e.isVisible(),pinned:e.getPinned(),sort:a,sortIndex:s,aggFunc:o,rowGroup:e.isRowGroupActive(),rowGroupIndex:r,pivot:e.isPivotActive(),pivotIndex:i,flex:l};return u},t.prototype.getColumnState=function(){if(We(this.primaryColumns)||!this.isAlive())return[];var e=this.getPrimaryAndSecondaryAndAutoColumns(),r=e.map(this.createStateItemFromColumn.bind(this));return this.orderColumnStateList(r),r},t.prototype.orderColumnStateList=function(e){var r=dd(this.gridColumns.map(function(i,o){return[i.getColId(),o]}));e.sort(function(i,o){var a=r.has(i.colId)?r.get(i.colId):-1,s=r.has(o.colId)?r.get(o.colId):-1;return a-s})},t.prototype.resetColumnState=function(e){var r=this;if(!Jo(this.primaryColumns)){var i=this.getColumnsFromTree(this.primaryColumnTree),o=[],a=1e3,s=1e3,l=[];this.groupAutoColumns&&(l=l.concat(this.groupAutoColumns)),i&&(l=l.concat(i)),l.forEach(function(u){var c=r.getColumnStateFromColDef(u);We(c.rowGroupIndex)&&c.rowGroup&&(c.rowGroupIndex=a++),We(c.pivotIndex)&&c.pivot&&(c.pivotIndex=s++),o.push(c)}),this.applyColumnState({state:o,applyOrder:!0},e)}},t.prototype.getColumnStateFromColDef=function(e){var r=function(g,y){return g??y??null},i=e.getColDef(),o=r(i.sort,i.initialSort),a=r(i.sortIndex,i.initialSortIndex),s=r(i.hide,i.initialHide),l=r(i.pinned,i.initialPinned),u=r(i.width,i.initialWidth),c=r(i.flex,i.initialFlex),d=r(i.rowGroupIndex,i.initialRowGroupIndex),p=r(i.rowGroup,i.initialRowGroup);d==null&&(p==null||p==!1)&&(d=null,p=null);var h=r(i.pivotIndex,i.initialPivotIndex),f=r(i.pivot,i.initialPivot);h==null&&(f==null||f==!1)&&(h=null,f=null);var v=r(i.aggFunc,i.initialAggFunc);return{colId:e.getColId(),sort:o,sortIndex:a,hide:s,pinned:l,width:u,flex:c,rowGroup:p,rowGroupIndex:d,pivot:f,pivotIndex:h,aggFunc:v}},t.prototype.applyColumnState=function(e,r){var i=this;if(Jo(this.primaryColumns))return!1;if(e&&e.state&&!e.state.forEach)return console.warn("AG Grid: applyColumnState() - the state attribute should be an array, however an array was not found. Please provide an array of items (one for each col you want to change) for state."),!1;var o=function(u,c,d){var p=i.compareColumnStatesAndDispatchEvents(r);i.autoGroupsNeedBuilding=!0;var h=c.slice(),f={},v={},g=[],y=[],m=0,C=i.rowGroupColumns.slice(),S=i.pivotColumns.slice();u.forEach(function(b){var O=b.colId||"",P=O.startsWith(ic);if(P){g.push(b),y.push(b);return}var D=d(O);D?(i.syncColumnWithStateItem(D,b,e.defaultState,f,v,!1,r),so(h,D)):(y.push(b),m+=1)});var w=function(b){return i.syncColumnWithStateItem(b,null,e.defaultState,f,v,!1,r)};h.forEach(w);var _=function(b,O,P,D){var N=b[P.getId()],L=b[D.getId()],I=N!=null,k=L!=null;if(I&&k)return N-L;if(I)return-1;if(k)return 1;var H=O.indexOf(P),$=O.indexOf(D),V=H>=0,W=$>=0;return V&&W?H-$:V?-1:1};i.rowGroupColumns.sort(_.bind(i,f,C)),i.pivotColumns.sort(_.bind(i,v,S)),i.updateGridColumns();var x=i.groupAutoColumns?i.groupAutoColumns.slice():[];return g.forEach(function(b){var O=i.getAutoColumn(b.colId);so(x,O),i.syncColumnWithStateItem(O,b,e.defaultState,null,null,!0,r)}),x.forEach(w),i.applyOrderAfterApplyState(e),i.updateDisplayedColumns(r),i.dispatchEverythingChanged(r),p(),{unmatchedAndAutoStates:y,unmatchedCount:m}};this.columnAnimationService.start();var a=o(e.state||[],this.primaryColumns||[],function(u){return i.getPrimaryColumn(u)}),s=a.unmatchedAndAutoStates,l=a.unmatchedCount;return(s.length>0||oe(e.defaultState))&&(l=o(s,this.secondaryColumns||[],function(u){return i.getSecondaryColumn(u)}).unmatchedCount),this.columnAnimationService.finish(),l===0},t.prototype.applyOrderAfterApplyState=function(e){var r=this;if(!(!e.applyOrder||!e.state)){var i=[],o={};e.state.forEach(function(s){if(!(!s.colId||o[s.colId])){var l=r.gridColumnsMap[s.colId];l&&(i.push(l),o[s.colId]=!0)}});var a=0;if(this.gridColumns.forEach(function(s){var l=s.getColId(),u=o[l]!=null;if(!u){var c=l.startsWith(ic);c?IS(i,s,a++):i.push(s)}}),i=this.placeLockedColumns(i),!this.doesMovePassMarryChildren(i)){console.warn("AG Grid: Applying column order broke a group where columns should be married together. Applying new order has been discarded.");return}this.gridColumns=i}},t.prototype.compareColumnStatesAndDispatchEvents=function(e){var r=this,i={rowGroupColumns:this.rowGroupColumns.slice(),pivotColumns:this.pivotColumns.slice(),valueColumns:this.valueColumns.slice()},o=this.getColumnState(),a={};return o.forEach(function(s){a[s.colId]=s}),function(){var s=r.getPrimaryAndSecondaryAndAutoColumns(),l=function(m,C,S,w){var _=C.map(w),x=S.map(w),b=Gu(_,x);if(!b){var O=new Set(C);S.forEach(function(N){O.delete(N)||O.add(N)});var P=Do([],Ao(O),!1),D={type:m,columns:P,column:P.length===1?P[0]:null,source:e};r.eventService.dispatchEvent(D)}},u=function(m){var C=[];return s.forEach(function(S){var w=a[S.getColId()];w&&m(w,S)&&C.push(S)}),C},c=function(m){return m.getColId()};l(T.EVENT_COLUMN_ROW_GROUP_CHANGED,i.rowGroupColumns,r.rowGroupColumns,c),l(T.EVENT_COLUMN_PIVOT_CHANGED,i.pivotColumns,r.pivotColumns,c);var d=function(m,C){var S=m.aggFunc!=null,w=S!=C.isValueActive(),_=S&&m.aggFunc!=C.getAggFunc();return w||_},p=u(d);p.length>0&&r.dispatchColumnChangedEvent(T.EVENT_COLUMN_VALUE_CHANGED,p,e);var h=function(m,C){return m.width!=C.getActualWidth()};r.dispatchColumnResizedEvent(u(h),!0,e);var f=function(m,C){return m.pinned!=C.getPinned()};r.dispatchColumnPinnedEvent(u(f),e);var v=function(m,C){return m.hide==C.isVisible()};r.dispatchColumnVisibleEvent(u(v),e);var g=function(m,C){return m.sort!=C.getSort()||m.sortIndex!=C.getSortIndex()},y=u(g);y.length>0&&r.sortController.dispatchSortChangedEvents(e,y),r.normaliseColumnMovedEventForColumnState(o,e)}},t.prototype.getCommonValue=function(e,r){if(!(!e||e.length==0)){for(var i=r(e[0]),o=1;o<e.length;o++)if(i!==r(e[o]))return;return i}},t.prototype.normaliseColumnMovedEventForColumnState=function(e,r){var i=this,o=this.getColumnState(),a={};o.forEach(function(d){return a[d.colId]=d});var s={};e.forEach(function(d){a[d.colId]&&(s[d.colId]=!0)});var l=e.filter(function(d){return s[d.colId]}),u=o.filter(function(d){return s[d.colId]}),c=[];u.forEach(function(d,p){var h=l&&l[p];if(h&&h.colId!==d.colId){var f=i.getGridColumn(h.colId);f&&c.push(f)}}),c.length&&this.dispatchColumnMovedEvent({movedColumns:c,source:r,finished:!0})},t.prototype.syncColumnWithStateItem=function(e,r,i,o,a,s,l){if(e){var u=function(b,O){var P={value1:void 0,value2:void 0},D=!1;return r&&(r[b]!==void 0&&(P.value1=r[b],D=!0),oe(O)&&r[O]!==void 0&&(P.value2=r[O],D=!0)),!D&&i&&(i[b]!==void 0&&(P.value1=i[b]),oe(O)&&i[O]!==void 0&&(P.value2=i[O])),P},c=u("hide").value1;c!==void 0&&e.setVisible(!c,l);var d=u("pinned").value1;d!==void 0&&e.setPinned(d);var p=this.columnUtils.calculateColMinWidth(e.getColDef()),h=u("flex").value1;if(h!==void 0&&e.setFlex(h),h==null){var f=u("width").value1;f!=null&&p!=null&&f>=p&&e.setActualWidth(f,l)}var v=u("sort").value1;v!==void 0&&(v==="desc"||v==="asc"?e.setSort(v,l):e.setSort(void 0,l));var g=u("sortIndex").value1;if(g!==void 0&&e.setSortIndex(g),!(s||!e.isPrimary())){var y=u("aggFunc").value1;y!==void 0&&(typeof y=="string"?(e.setAggFunc(y),e.isValueActive()||(e.setValueActive(!0,l),this.valueColumns.push(e))):(oe(y)&&console.warn("AG Grid: stateItem.aggFunc must be a string. if using your own aggregation functions, register the functions first before using them in get/set state. This is because it is intended for the column state to be stored and retrieved as simple JSON."),e.isValueActive()&&(e.setValueActive(!1,l),so(this.valueColumns,e))));var m=u("rowGroup","rowGroupIndex"),C=m.value1,S=m.value2;(C!==void 0||S!==void 0)&&(typeof S=="number"||C?(e.isRowGroupActive()||(e.setRowGroupActive(!0,l),this.rowGroupColumns.push(e)),o&&typeof S=="number"&&(o[e.getId()]=S)):e.isRowGroupActive()&&(e.setRowGroupActive(!1,l),so(this.rowGroupColumns,e)));var w=u("pivot","pivotIndex"),_=w.value1,x=w.value2;(_!==void 0||x!==void 0)&&(typeof x=="number"||_?(e.isPivotActive()||(e.setPivotActive(!0,l),this.pivotColumns.push(e)),a&&typeof x=="number"&&(a[e.getId()]=x)):e.isPivotActive()&&(e.setPivotActive(!1,l),so(this.pivotColumns,e)))}}},t.prototype.getGridColumns=function(e){return this.getColumns(e,this.getGridColumn.bind(this))},t.prototype.getColumns=function(e,r){var i=[];return e&&e.forEach(function(o){var a=r(o);a&&i.push(a)}),i},t.prototype.getColumnWithValidation=function(e){if(e==null)return null;var r=this.getGridColumn(e);return r||console.warn("AG Grid: could not find column "+e),r},t.prototype.getPrimaryColumn=function(e){return this.primaryColumns?this.getColumn(e,this.primaryColumns,this.primaryColumnsMap):null},t.prototype.getGridColumn=function(e){return this.getColumn(e,this.gridColumns,this.gridColumnsMap)},t.prototype.lookupGridColumn=function(e){return this.gridColumnsMap[e]},t.prototype.getSecondaryColumn=function(e){return this.secondaryColumns?this.getColumn(e,this.secondaryColumns,this.secondaryColumnsMap):null},t.prototype.getColumn=function(e,r,i){if(!e||!i)return null;if(typeof e=="string"&&i[e])return i[e];for(var o=0;o<r.length;o++)if(this.columnsMatch(r[o],e))return r[o];return this.getAutoColumn(e)},t.prototype.getSourceColumnsForGroupColumn=function(e){var r=e.getColDef().showRowGroup;if(!r)return null;if(r===!0)return this.rowGroupColumns.slice(0);var i=this.getPrimaryColumn(r);return i?[i]:null},t.prototype.getAutoColumn=function(e){var r=this;return!this.groupAutoColumns||!oe(this.groupAutoColumns)||We(this.groupAutoColumns)?null:this.groupAutoColumns.find(function(i){return r.columnsMatch(i,e)})||null},t.prototype.columnsMatch=function(e,r){var i=e===r,o=e.getColDef()===r,a=e.getColId()==r;return i||o||a},t.prototype.getDisplayNameForColumn=function(e,r,i){if(i===void 0&&(i=!1),!e)return null;var o=this.getHeaderName(e.getColDef(),e,null,null,r);return i?this.wrapHeaderNameWithAggFunc(e,o):o},t.prototype.getDisplayNameForProvidedColumnGroup=function(e,r,i){var o=r?r.getColGroupDef():null;return o?this.getHeaderName(o,null,e,r,i):null},t.prototype.getDisplayNameForColumnGroup=function(e,r){return this.getDisplayNameForProvidedColumnGroup(e,e.getProvidedColumnGroup(),r)},t.prototype.getHeaderName=function(e,r,i,o,a){var s=e.headerValueGetter;if(s){var l=this.gridOptionsService.addGridCommonParams({colDef:e,column:r,columnGroup:i,providedColumnGroup:o,location:a});return typeof s=="function"?s(l):typeof s=="string"?this.expressionService.evaluate(s,l):(console.warn("AG Grid: headerValueGetter must be a function or a string"),"")}else{if(e.headerName!=null)return e.headerName;if(e.field)return L7(e.field)}return""},t.prototype.wrapHeaderNameWithAggFunc=function(e,r){if(this.gridOptionsService.get("suppressAggFuncInHeader"))return r;var i=e.getColDef().pivotValueColumn,o=oe(i),a=null,s;if(o){var l=this.gridOptionsService.get("removePivotHeaderRowWhenSingleValueColumn")&&this.valueColumns.length===1,u=e.getColDef().pivotTotalColumnIds!==void 0;if(l&&!u)return r;a=i?i.getAggFunc():null,s=!0}else{var c=e.isValueActive(),d=this.pivotMode||!this.isRowGroupEmpty();c&&d?(a=e.getAggFunc(),s=!0):s=!1}if(s){var p=typeof a=="string"?a:"func",h=this.localeService.getLocaleTextFunc(),f=h(p,p);return"".concat(f,"(").concat(r,")")}return r},t.prototype.getColumnGroup=function(e,r){if(!e)return null;if(e instanceof Kr)return e;var i=this.getAllDisplayedTrees(),o=typeof r=="number",a=null;return this.columnUtils.depthFirstAllColumnTreeSearch(i,function(s){if(s instanceof Kr){var l=s,u=void 0;o?u=e===l.getGroupId()&&r===l.getPartId():u=e===l.getGroupId(),u&&(a=l)}}),a},t.prototype.isReady=function(){return this.ready},t.prototype.extractValueColumns=function(e,r){this.valueColumns=this.extractColumns(r,this.valueColumns,function(i,o){return i.setValueActive(o,e)},function(){},function(){},function(i){var o=i.aggFunc;if(o===null||o==="")return null;if(o!==void 0)return!!o},function(i){return i.initialAggFunc!=null&&i.initialAggFunc!=""}),this.valueColumns.forEach(function(i){var o=i.getColDef();o.aggFunc!=null&&o.aggFunc!=""?i.setAggFunc(o.aggFunc):i.getAggFunc()||i.setAggFunc(o.initialAggFunc)})},t.prototype.extractRowGroupColumns=function(e,r){this.rowGroupColumns=this.extractColumns(r,this.rowGroupColumns,function(i,o){return i.setRowGroupActive(o,e)},function(i){return i.rowGroupIndex},function(i){return i.initialRowGroupIndex},function(i){return i.rowGroup},function(i){return i.initialRowGroup})},t.prototype.extractColumns=function(e,r,i,o,a,s,l){e===void 0&&(e=[]),r===void 0&&(r=[]);var u=[],c=[];(this.primaryColumns||[]).forEach(function(h){var f=e.indexOf(h)<0,v=h.getColDef(),g=bb(s(v)),y=bb(l(v)),m=Nd(o(v)),C=Nd(a(v)),S,w=g!==void 0,_=m!==void 0,x=y!==void 0,b=C!==void 0;if(w?S=g:_?m===null?S=!1:S=m>=0:f?x?S=y:b?S=C!=null&&C>=0:S=!1:S=r.indexOf(h)>=0,S){var O=f?m!=null||C!=null:m!=null;O?u.push(h):c.push(h)}});var d=function(h){var f=o(h.getColDef()),v=a(h.getColDef());return f??v};u.sort(function(h,f){var v=d(h),g=d(f);return v===g?0:v<g?-1:1});var p=[].concat(u);return r.forEach(function(h){c.indexOf(h)>=0&&p.push(h)}),c.forEach(function(h){p.indexOf(h)<0&&p.push(h)}),r.forEach(function(h){p.indexOf(h)<0&&i(h,!1)}),p.forEach(function(h){r.indexOf(h)<0&&i(h,!0)}),p},t.prototype.extractPivotColumns=function(e,r){this.pivotColumns=this.extractColumns(r,this.pivotColumns,function(i,o){return i.setPivotActive(o,e)},function(i){return i.pivotIndex},function(i){return i.initialPivotIndex},function(i){return i.pivot},function(i){return i.initialPivot})},t.prototype.resetColumnGroupState=function(e){if(this.primaryColumnTree){var r=[];this.columnUtils.depthFirstOriginalTreeSearch(null,this.primaryColumnTree,function(i){if(i instanceof Rt){var o=i.getColGroupDef(),a={groupId:i.getGroupId(),open:o?o.openByDefault:void 0};r.push(a)}}),this.setColumnGroupState(r,e)}},t.prototype.getColumnGroupState=function(){var e=[];return this.columnUtils.depthFirstOriginalTreeSearch(null,this.gridBalancedTree,function(r){r instanceof Rt&&e.push({groupId:r.getGroupId(),open:r.isExpanded()})}),e},t.prototype.setColumnGroupState=function(e,r){var i=this;if(this.gridBalancedTree){this.columnAnimationService.start();var o=[];if(e.forEach(function(s){var l=s.groupId,u=s.open,c=i.getProvidedColumnGroup(l);c&&c.isExpanded()!==u&&(i.logger.log("columnGroupOpened("+c.getGroupId()+","+u+")"),c.setExpanded(u),o.push(c))}),this.updateGroupsAndDisplayedColumns(r),this.setFirstRightAndLastLeftPinned(r),o.length){var a={type:T.EVENT_COLUMN_GROUP_OPENED,columnGroup:Rt.length===1?o[0]:void 0,columnGroups:o};this.eventService.dispatchEvent(a)}this.columnAnimationService.finish()}},t.prototype.setColumnGroupOpened=function(e,r,i){var o;e instanceof Rt?o=e.getId():o=e||"",this.setColumnGroupState([{groupId:o,open:r}],i)},t.prototype.getProvidedColumnGroup=function(e){typeof e!="string"&&console.error("AG Grid: group key must be a string");var r=null;return this.columnUtils.depthFirstOriginalTreeSearch(null,this.gridBalancedTree,function(i){i instanceof Rt&&i.getId()===e&&(r=i)}),r},t.prototype.calculateColumnsForDisplay=function(){var e=this,r;return this.pivotMode&&We(this.secondaryColumns)?r=this.gridColumns.filter(function(i){var o=e.groupAutoColumns&&Ls(e.groupAutoColumns,i),a=e.valueColumns&&Ls(e.valueColumns,i);return o||a}):r=this.gridColumns.filter(function(i){var o=e.groupAutoColumns&&Ls(e.groupAutoColumns,i);return o||i.isVisible()}),r},t.prototype.checkColSpanActiveInCols=function(e){var r=!1;return e.forEach(function(i){oe(i.getColDef().colSpan)&&(r=!0)}),r},t.prototype.calculateColumnsForGroupDisplay=function(){var e=this;this.groupDisplayColumns=[],this.groupDisplayColumnsMap={};var r=function(i){var o=i.getColDef(),a=o.showRowGroup;o&&oe(a)&&(e.groupDisplayColumns.push(i),typeof a=="string"?e.groupDisplayColumnsMap[a]=i:a===!0&&e.getRowGroupColumns().forEach(function(s){e.groupDisplayColumnsMap[s.getId()]=i}))};this.gridColumns.forEach(r)},t.prototype.getGroupDisplayColumns=function(){return this.groupDisplayColumns},t.prototype.getGroupDisplayColumnForGroup=function(e){return this.groupDisplayColumnsMap[e]},t.prototype.updateDisplayedColumns=function(e){var r=this.calculateColumnsForDisplay();this.buildDisplayedTrees(r),this.updateGroupsAndDisplayedColumns(e),this.setFirstRightAndLastLeftPinned(e)},t.prototype.isSecondaryColumnsPresent=function(){return oe(this.secondaryColumns)},t.prototype.setSecondaryColumns=function(e,r){var i=this;if(this.gridColumns){var o=e&&e.length>0;if(!(!o&&We(this.secondaryColumns))){if(o){this.processSecondaryColumnDefinitions(e);var a=this.columnFactory.createColumnTree(e,!1,this.secondaryBalancedTree||this.previousSecondaryColumns||void 0,r);this.destroyOldColumns(this.secondaryBalancedTree,a.columnTree),this.secondaryBalancedTree=a.columnTree,this.secondaryHeaderRowCount=a.treeDept+1,this.secondaryColumns=this.getColumnsFromTree(this.secondaryBalancedTree),this.secondaryColumnsMap={},this.secondaryColumns.forEach(function(s){return i.secondaryColumnsMap[s.getId()]=s}),this.previousSecondaryColumns=null}else this.previousSecondaryColumns=this.secondaryBalancedTree,this.secondaryBalancedTree=null,this.secondaryHeaderRowCount=-1,this.secondaryColumns=null,this.secondaryColumnsMap={};this.updateGridColumns(),this.updateDisplayedColumns(r)}}},t.prototype.processSecondaryColumnDefinitions=function(e){var r=this.gridOptionsService.get("processPivotResultColDef"),i=this.gridOptionsService.get("processPivotResultColGroupDef");if(!(!r&&!i)){var o=function(a){a.forEach(function(s){var l=oe(s.children);if(l){var u=s;i&&i(u),o(u.children)}else{var c=s;r&&r(c)}})};e&&o(e)}},t.prototype.updateGridColumns=function(){var e=this,r=this.gridBalancedTree;this.gridColsArePrimary?this.lastPrimaryOrder=this.gridColumns:this.lastSecondaryOrder=this.gridColumns;var i=this.createGroupAutoColumnsIfNeeded();if(i){var o=dd(this.groupAutoColumns.map(function(u){return[u,!0]}));this.lastPrimaryOrder&&(this.lastPrimaryOrder=this.lastPrimaryOrder.filter(function(u){return!o.has(u)}),this.lastPrimaryOrder=Do(Do([],Ao(this.groupAutoColumns),!1),Ao(this.lastPrimaryOrder),!1)),this.lastSecondaryOrder&&(this.lastSecondaryOrder=this.lastSecondaryOrder.filter(function(u){return!o.has(u)}),this.lastSecondaryOrder=Do(Do([],Ao(this.groupAutoColumns),!1),Ao(this.lastSecondaryOrder),!1))}var a;if(this.secondaryColumns&&this.secondaryBalancedTree){var s=this.secondaryColumns.some(function(u){return e.gridColumnsMap[u.getColId()]!==void 0});this.gridBalancedTree=this.secondaryBalancedTree.slice(),this.gridHeaderRowCount=this.secondaryHeaderRowCount,this.gridColumns=this.secondaryColumns.slice(),this.gridColsArePrimary=!1,s&&(a=this.lastSecondaryOrder)}else this.primaryColumns&&(this.gridBalancedTree=this.primaryColumnTree.slice(),this.gridHeaderRowCount=this.primaryHeaderRowCount,this.gridColumns=this.primaryColumns.slice(),this.gridColsArePrimary=!0,a=this.lastPrimaryOrder);if(this.addAutoGroupToGridColumns(),this.orderGridColsLike(a),this.gridColumns=this.placeLockedColumns(this.gridColumns),this.calculateColumnsForGroupDisplay(),this.refreshQuickFilterColumns(),this.clearDisplayedAndViewportColumns(),this.colSpanActive=this.checkColSpanActiveInCols(this.gridColumns),this.gridColumnsMap={},this.gridColumns.forEach(function(u){return e.gridColumnsMap[u.getId()]=u}),this.setAutoHeightActive(),!Gu(r,this.gridBalancedTree)){var l={type:T.EVENT_GRID_COLUMNS_CHANGED};this.eventService.dispatchEvent(l)}},t.prototype.setAutoHeightActive=function(){if(this.autoHeightActive=this.gridColumns.filter(function(r){return r.isAutoHeight()}).length>0,this.autoHeightActive){this.autoHeightActiveAtLeastOnce=!0;var e=this.gridOptionsService.isRowModelType("clientSide")||this.gridOptionsService.isRowModelType("serverSide");e||Ge("autoHeight columns only work with Client Side Row Model and Server Side Row Model.")}},t.prototype.orderGridColsLike=function(e){if(!We(e)){var r=dd(e.map(function(c,d){return[c,d]})),i=!0;if(this.gridColumns.forEach(function(c){r.has(c)&&(i=!1)}),!i){var o=dd(this.gridColumns.map(function(c){return[c,!0]})),a=e.filter(function(c){return o.has(c)}),s=dd(a.map(function(c){return[c,!0]})),l=this.gridColumns.filter(function(c){return!s.has(c)}),u=a.slice();l.forEach(function(c){var d=c.getOriginalParent();if(!d){u.push(c);return}for(var p=[];!p.length&&d;){var h=d.getLeafColumns();h.forEach(function(g){var y=u.indexOf(g)>=0,m=p.indexOf(g)<0;y&&m&&p.push(g)}),d=d.getOriginalParent()}if(!p.length){u.push(c);return}var f=p.map(function(g){return u.indexOf(g)}),v=Math.max.apply(Math,Do([],Ao(f),!1));IS(u,c,v+1)}),this.gridColumns=u}}},t.prototype.isPrimaryColumnGroupsPresent=function(){return this.primaryHeaderRowCount>1},t.prototype.refreshQuickFilterColumns=function(){var e,r=(e=this.isPivotMode()?this.secondaryColumns:this.primaryColumns)!==null&&e!==void 0?e:[];this.groupAutoColumns&&(r=r.concat(this.groupAutoColumns)),this.columnsForQuickFilter=this.gridOptionsService.get("includeHiddenColumnsInQuickFilter")?r:r.filter(function(i){return i.isVisible()||i.isRowGroupActive()})},t.prototype.placeLockedColumns=function(e){var r=[],i=[],o=[];return e.forEach(function(a){var s=a.getColDef().lockPosition;s==="right"?o.push(a):s==="left"||s===!0?r.push(a):i.push(a)}),Do(Do(Do([],Ao(r),!1),Ao(i),!1),Ao(o),!1)},t.prototype.addAutoGroupToGridColumns=function(){if(We(this.groupAutoColumns)){this.destroyOldColumns(this.groupAutoColsBalancedTree),this.groupAutoColsBalancedTree=null;return}this.gridColumns=this.groupAutoColumns?this.groupAutoColumns.concat(this.gridColumns):this.gridColumns;var e=this.columnFactory.createForAutoGroups(this.groupAutoColumns,this.gridBalancedTree);this.destroyOldColumns(this.groupAutoColsBalancedTree,e),this.groupAutoColsBalancedTree=e,this.gridBalancedTree=e.concat(this.gridBalancedTree)},t.prototype.clearDisplayedAndViewportColumns=function(){this.viewportRowLeft={},this.viewportRowRight={},this.viewportRowCenter={},this.displayedColumnsLeft=[],this.displayedColumnsRight=[],this.displayedColumnsCenter=[],this.displayedColumns=[],this.ariaOrderColumns=[],this.viewportColumns=[],this.headerViewportColumns=[],this.viewportColumnsHash=""},t.prototype.updateGroupsAndDisplayedColumns=function(e){this.updateOpenClosedVisibilityInColumnGroups(),this.deriveDisplayedColumns(e),this.refreshFlexedColumns(),this.extractViewport(),this.updateBodyWidths();var r={type:T.EVENT_DISPLAYED_COLUMNS_CHANGED};this.eventService.dispatchEvent(r)},t.prototype.deriveDisplayedColumns=function(e){this.derivedDisplayedColumnsFromDisplayedTree(this.displayedTreeLeft,this.displayedColumnsLeft),this.derivedDisplayedColumnsFromDisplayedTree(this.displayedTreeCentre,this.displayedColumnsCenter),this.derivedDisplayedColumnsFromDisplayedTree(this.displayedTreeRight,this.displayedColumnsRight),this.joinColumnsAriaOrder(),this.joinDisplayedColumns(),this.setLeftValues(e),this.displayedAutoHeightCols=this.displayedColumns.filter(function(r){return r.isAutoHeight()})},t.prototype.isAutoRowHeightActive=function(){return this.autoHeightActive},t.prototype.wasAutoRowHeightEverActive=function(){return this.autoHeightActiveAtLeastOnce},t.prototype.joinColumnsAriaOrder=function(){var e,r,i=this.getAllGridColumns(),o=[],a=[],s=[];try{for(var l=xA(i),u=l.next();!u.done;u=l.next()){var c=u.value,d=c.getPinned();d?d===!0||d==="left"?o.push(c):s.push(c):a.push(c)}}catch(p){e={error:p}}finally{try{u&&!u.done&&(r=l.return)&&r.call(l)}finally{if(e)throw e.error}}this.ariaOrderColumns=o.concat(a).concat(s)},t.prototype.joinDisplayedColumns=function(){this.gridOptionsService.get("enableRtl")?this.displayedColumns=this.displayedColumnsRight.concat(this.displayedColumnsCenter).concat(this.displayedColumnsLeft):this.displayedColumns=this.displayedColumnsLeft.concat(this.displayedColumnsCenter).concat(this.displayedColumnsRight)},t.prototype.setLeftValues=function(e){this.setLeftValuesOfColumns(e),this.setLeftValuesOfGroups()},t.prototype.setLeftValuesOfColumns=function(e){var r=this;if(this.primaryColumns){var i=this.getPrimaryAndSecondaryAndAutoColumns().slice(0),o=this.gridOptionsService.get("enableRtl");[this.displayedColumnsLeft,this.displayedColumnsRight,this.displayedColumnsCenter].forEach(function(a){if(o){var s=r.getWidthOfColsInList(a);a.forEach(function(u){s-=u.getActualWidth(),u.setLeft(s,e)})}else{var l=0;a.forEach(function(u){u.setLeft(l,e),l+=u.getActualWidth()})}b7(i,a)}),i.forEach(function(a){a.setLeft(null,e)})}},t.prototype.setLeftValuesOfGroups=function(){[this.displayedTreeLeft,this.displayedTreeRight,this.displayedTreeCentre].forEach(function(e){e.forEach(function(r){if(r instanceof Kr){var i=r;i.checkLeft()}})})},t.prototype.derivedDisplayedColumnsFromDisplayedTree=function(e,r){r.length=0,this.columnUtils.depthFirstDisplayedColumnTreeSearch(e,function(i){i instanceof rt&&r.push(i)})},t.prototype.isColumnVirtualisationSuppressed=function(){return this.suppressColumnVirtualisation||this.viewportRight===0},t.prototype.extractViewportColumns=function(){this.isColumnVirtualisationSuppressed()?(this.viewportColumnsCenter=this.displayedColumnsCenter,this.headerViewportColumnsCenter=this.displayedColumnsCenter):(this.viewportColumnsCenter=this.displayedColumnsCenter.filter(this.isColumnInRowViewport.bind(this)),this.headerViewportColumnsCenter=this.displayedColumnsCenter.filter(this.isColumnInHeaderViewport.bind(this))),this.viewportColumns=this.viewportColumnsCenter.concat(this.displayedColumnsLeft).concat(this.displayedColumnsRight),this.headerViewportColumns=this.headerViewportColumnsCenter.concat(this.displayedColumnsLeft).concat(this.displayedColumnsRight)},t.prototype.getVirtualHeaderGroupRow=function(e,r){var i;switch(e){case"left":i=this.viewportRowLeft[r];break;case"right":i=this.viewportRowRight[r];break;default:i=this.viewportRowCenter[r];break}return We(i)&&(i=[]),i},t.prototype.calculateHeaderRows=function(){this.viewportRowLeft={},this.viewportRowRight={},this.viewportRowCenter={};var e={};this.headerViewportColumns.forEach(function(i){return e[i.getId()]=!0});var r=function(i,o,a){for(var s=!1,l=0;l<i.length;l++){var u=i[l],c=!1;if(u instanceof rt)c=e[u.getId()]===!0;else{var d=u,p=d.getDisplayedChildren();p&&(c=r(p,o,a+1))}c&&(s=!0,o[a]||(o[a]=[]),o[a].push(u))}return s};r(this.displayedTreeLeft,this.viewportRowLeft,0),r(this.displayedTreeRight,this.viewportRowRight,0),r(this.displayedTreeCentre,this.viewportRowCenter,0)},t.prototype.extractViewport=function(){var e=function(o){return"".concat(o.getId(),"-").concat(o.getPinned()||"normal")};this.extractViewportColumns();var r=this.viewportColumns.map(e).join("#"),i=this.viewportColumnsHash!==r;return i&&(this.viewportColumnsHash=r,this.calculateHeaderRows()),i},t.prototype.refreshFlexedColumns=function(e){var r;e===void 0&&(e={});var i=e.source?e.source:"flex";if(e.viewportWidth!=null&&(this.flexViewportWidth=e.viewportWidth),!this.flexViewportWidth)return[];var o=-1;if(e.resizingCols){for(var a=new Set(e.resizingCols),s=this.displayedColumnsCenter,l=s.length-1;l>=0;l--)if(a.has(s[l])){o=l;break}}for(var u=0,c=[],d=0,p=0,l=0;l<this.displayedColumnsCenter.length;l++){var h=this.displayedColumnsCenter[l].getFlex()&&l>o;h?(c.push(this.displayedColumnsCenter[l]),p+=this.displayedColumnsCenter[l].getFlex(),d+=(r=this.displayedColumnsCenter[l].getMinWidth())!==null&&r!==void 0?r:0):u+=this.displayedColumnsCenter[l].getActualWidth()}if(!c.length)return[];var f=[];u+d>this.flexViewportWidth&&(c.forEach(function(b){var O;return b.setActualWidth((O=b.getMinWidth())!==null&&O!==void 0?O:0,i)}),f=c,c=[]);var v=[],g;e:for(;;){g=this.flexViewportWidth-u;for(var y=g/p,l=0;l<c.length;l++){var m=c[l],C=y*m.getFlex(),S=0,w=m.getMinWidth(),_=m.getMaxWidth();if(oe(w)&&C<w?S=w:oe(_)&&C>_&&(S=_),S){m.setActualWidth(S,i),Tk(c,m),p-=m.getFlex(),f.push(m),u+=m.getActualWidth();continue e}v[l]=Math.round(C)}break}var x=g;return c.forEach(function(b,O){b.setActualWidth(Math.min(v[O],x),i),f.push(b),x-=v[O]}),e.skipSetLeft||this.setLeftValues(i),e.updateBodyWidths&&this.updateBodyWidths(),e.fireResizedEvent&&this.dispatchColumnResizedEvent(f,!0,i,c),c},t.prototype.sizeColumnsToFit=function(e,r,i,o){var a=this,s,l,u,c,d;if(r===void 0&&(r="sizeColumnsToFit"),this.shouldQueueResizeOperations){this.resizeOperationQueue.push(function(){return a.sizeColumnsToFit(e,r,i,o)});return}var p={};o&&((s=o==null?void 0:o.columnLimits)===null||s===void 0||s.forEach(function($){var V=$.key,W=J0e($,["key"]);p[typeof V=="string"?V:V.getColId()]=W}));var h=this.getAllDisplayedColumns(),f=e===this.getWidthOfColsInList(h);if(!(e<=0||!h.length||f)){var v=[],g=[];h.forEach(function($){$.getColDef().suppressSizeToFit===!0?g.push($):v.push($)});var y=v.slice(0),m=!1,C=function($){so(v,$),g.push($)};for(v.forEach(function($){var V,W;$.resetActualWidth(r);var K=p==null?void 0:p[$.getId()],Z=(V=K==null?void 0:K.minWidth)!==null&&V!==void 0?V:o==null?void 0:o.defaultMinWidth,Q=(W=K==null?void 0:K.maxWidth)!==null&&W!==void 0?W:o==null?void 0:o.defaultMaxWidth,ce=$.getActualWidth();typeof Z=="number"&&ce<Z?$.setActualWidth(Z,r,!0):typeof Q=="number"&&ce>Q&&$.setActualWidth(Q,r,!0)});!m;){m=!0;var S=e-this.getWidthOfColsInList(g);if(S<=0)v.forEach(function($){var V,W,K=(W=(V=p==null?void 0:p[$.getId()])===null||V===void 0?void 0:V.minWidth)!==null&&W!==void 0?W:o==null?void 0:o.defaultMinWidth;if(typeof K=="number"){$.setActualWidth(K,r,!0);return}$.setMinimum(r)});else for(var w=S/this.getWidthOfColsInList(v),_=S,x=v.length-1;x>=0;x--){var b=v[x],O=p==null?void 0:p[b.getId()],P=(l=O==null?void 0:O.minWidth)!==null&&l!==void 0?l:o==null?void 0:o.defaultMinWidth,D=(u=O==null?void 0:O.maxWidth)!==null&&u!==void 0?u:o==null?void 0:o.defaultMaxWidth,N=(c=b.getMinWidth())!==null&&c!==void 0?c:0,L=(d=b.getMaxWidth())!==null&&d!==void 0?d:Number.MAX_VALUE,I=typeof P=="number"&&P>N?P:b.getMinWidth(),k=typeof D=="number"&&D<L?D:b.getMaxWidth(),H=Math.round(b.getActualWidth()*w);oe(I)&&H<I?(H=I,C(b),m=!1):oe(k)&&H>k?(H=k,C(b),m=!1):x===0&&(H=_),b.setActualWidth(H,r,!0),_-=H}}y.forEach(function($){$.fireColumnWidthChangedEvent(r)}),this.setLeftValues(r),this.updateBodyWidths(),!i&&this.dispatchColumnResizedEvent(y,!0,r)}},t.prototype.buildDisplayedTrees=function(e){var r=[],i=[],o=[];e.forEach(function(s){switch(s.getPinned()){case"left":r.push(s);break;case"right":i.push(s);break;default:o.push(s);break}});var a=new Ak;this.displayedTreeLeft=this.displayedGroupCreator.createDisplayedGroups(r,a,"left",this.displayedTreeLeft),this.displayedTreeRight=this.displayedGroupCreator.createDisplayedGroups(i,a,"right",this.displayedTreeRight),this.displayedTreeCentre=this.displayedGroupCreator.createDisplayedGroups(o,a,null,this.displayedTreeCentre),this.updateDisplayedMap()},t.prototype.updateDisplayedMap=function(){var e=this;this.displayedColumnsAndGroupsMap={};var r=function(i){e.displayedColumnsAndGroupsMap[i.getUniqueId()]=i};this.columnUtils.depthFirstAllColumnTreeSearch(this.displayedTreeCentre,r),this.columnUtils.depthFirstAllColumnTreeSearch(this.displayedTreeLeft,r),this.columnUtils.depthFirstAllColumnTreeSearch(this.displayedTreeRight,r)},t.prototype.isDisplayed=function(e){var r=this.displayedColumnsAndGroupsMap[e.getUniqueId()];return r===e},t.prototype.updateOpenClosedVisibilityInColumnGroups=function(){var e=this.getAllDisplayedTrees();this.columnUtils.depthFirstAllColumnTreeSearch(e,function(r){r instanceof Kr&&r.calculateDisplayedColumns()})},t.prototype.getGroupAutoColumns=function(){return this.groupAutoColumns},t.prototype.createGroupAutoColumnsIfNeeded=function(){var e=this.forceRecreateAutoGroups;if(this.forceRecreateAutoGroups=!1,!this.autoGroupsNeedBuilding)return!1;this.autoGroupsNeedBuilding=!1;var r=this.gridOptionsService.isGroupUseEntireRow(this.pivotMode),i=this.pivotMode?this.gridOptionsService.get("pivotSuppressAutoColumn"):this.isGroupSuppressAutoColumn(),o=this.rowGroupColumns.length>0||this.gridOptionsService.get("treeData"),a=o&&!i&&!r;if(a){var s=this.autoGroupColService.createAutoGroupColumns(this.rowGroupColumns),l=!this.autoColsEqual(s,this.groupAutoColumns);if(l||e)return this.groupAutoColumns=s,!0}else this.groupAutoColumns=null;return!1},t.prototype.isGroupSuppressAutoColumn=function(){var e=this.gridOptionsService.get("groupDisplayType"),r=e==="custom";if(r)return!0;var i=this.gridOptionsService.get("treeDataDisplayType");return i==="custom"},t.prototype.autoColsEqual=function(e,r){return Gu(e,r,function(i,o){return i.getColId()===o.getColId()})},t.prototype.getWidthOfColsInList=function(e){return e.reduce(function(r,i){return r+i.getActualWidth()},0)},t.prototype.getFirstDisplayedColumn=function(){var e=this.gridOptionsService.get("enableRtl"),r=["getDisplayedLeftColumns","getDisplayedCenterColumns","getDisplayedRightColumns"];e&&r.reverse();for(var i=0;i<r.length;i++){var o=this[r[i]]();if(o.length)return e?xt(o):o[0]}return null},t.prototype.setColumnHeaderHeight=function(e,r){var i=e.setAutoHeaderHeight(r);if(i){var o={type:T.EVENT_COLUMN_HEADER_HEIGHT_CHANGED,column:e,columns:[e],source:"autosizeColumnHeaderHeight"};this.eventService.dispatchEvent(o)}},t.prototype.getColumnGroupHeaderRowHeight=function(){return this.isPivotMode()?this.getPivotGroupHeaderHeight():this.getGroupHeaderHeight()},t.prototype.getColumnHeaderRowHeight=function(){var e=this.isPivotMode()?this.getPivotHeaderHeight():this.getHeaderHeight(),r=this.getAllDisplayedColumns().filter(function(i){return i.isAutoHeaderHeight()}).map(function(i){return i.getAutoHeaderHeight()||0});return Math.max.apply(Math,Do([e],Ao(r),!1))},t.prototype.getHeaderHeight=function(){var e;return(e=this.gridOptionsService.get("headerHeight"))!==null&&e!==void 0?e:this.environment.getFromTheme(25,"headerHeight")},t.prototype.getFloatingFiltersHeight=function(){var e;return(e=this.gridOptionsService.get("floatingFiltersHeight"))!==null&&e!==void 0?e:this.getHeaderHeight()},t.prototype.getGroupHeaderHeight=function(){var e;return(e=this.gridOptionsService.get("groupHeaderHeight"))!==null&&e!==void 0?e:this.getHeaderHeight()},t.prototype.getPivotHeaderHeight=function(){var e;return(e=this.gridOptionsService.get("pivotHeaderHeight"))!==null&&e!==void 0?e:this.getHeaderHeight()},t.prototype.getPivotGroupHeaderHeight=function(){var e;return(e=this.gridOptionsService.get("pivotGroupHeaderHeight"))!==null&&e!==void 0?e:this.getGroupHeaderHeight()},t.prototype.queueResizeOperations=function(){this.shouldQueueResizeOperations=!0},t.prototype.processResizeOperations=function(){this.shouldQueueResizeOperations=!1,this.resizeOperationQueue.forEach(function(e){return e()}),this.resizeOperationQueue=[]},t.prototype.resetColumnDefIntoColumn=function(e,r){var i=e.getUserProvidedColDef();if(!i)return!1;var o=this.columnFactory.addColumnDefaultAndTypes(i,e.getColId());return e.setColDef(o,i,r),!0},t.prototype.isColumnGroupingLocked=function(e){var r=this.gridOptionsService.get("groupLockGroupColumns");if(!e.isRowGroupActive()||r===0)return!1;if(r===-1)return!0;var i=this.rowGroupColumns.findIndex(function(o){return o.getColId()===e.getColId()});return r>i},t.prototype.generateColumnStateForRowGroupAndPivotIndexes=function(e,r){var i=this,o={},a=function(s,l,u,c,d,p){if(!l.length||!i.primaryColumns)return[];for(var h=Object.keys(s),f=new Set(h),v=new Set(h),g=new Set(l.map(function(P){var D=P.getColId();return v.delete(D),D}).concat(h)),y=[],m={},C=0,S=0;S<i.primaryColumns.length;S++){var w=i.primaryColumns[S].getColId();g.has(w)&&(y.push(w),m[w]=C++)}var _=1e3,x=!1,b=0,O=function(P){for(var D=m[P],N=b;N<D;N++){var L=y[N];v.has(L)&&(s[L][d]=_++,v.delete(L))}b=D};l.forEach(function(P){var D=P.getColId();if(f.has(D))O(D),s[D][d]=_++;else{var N=P.getColDef(),L=N[d]===null||N[d]===void 0&&N[p]==null;if(L){if(!x){var I=N[u]||N[u]===void 0&&N[c];I?O(D):(v.forEach(function(k){s[k][d]=_+m[k]}),_+=y.length,x=!0)}o[D]||(o[D]={colId:D}),o[D][d]=_++}}})};return a(e,this.rowGroupColumns,"rowGroup","initialRowGroup","rowGroupIndex","initialRowGroupIndex"),a(r,this.pivotColumns,"pivot","initialPivot","pivotIndex","initialPivotIndex"),Object.values(o)},t.prototype.onColumnsReady=function(){var e=this,r=this.gridOptionsService.get("autoSizeStrategy");if(r){var i=r.type;setTimeout(function(){if(i==="fitGridWidth"){var o=r.columnLimits,a=r.defaultMinWidth,s=r.defaultMaxWidth,l=o==null?void 0:o.map(function(u){var c=u.colId,d=u.minWidth,p=u.maxWidth;return{key:c,minWidth:d,maxWidth:p}});e.ctrlsService.getGridBodyCtrl().sizeColumnsToFit({defaultMinWidth:a,defaultMaxWidth:s,columnLimits:l})}else i==="fitProvidedWidth"&&e.sizeColumnsToFit(r.width,"sizeColumnsToFit")})}},t.prototype.onFirstDataRendered=function(){var e=this,r=this.gridOptionsService.get("autoSizeStrategy");if((r==null?void 0:r.type)==="fitCellContents"){var i=r.colIds,o=r.skipHeader;setTimeout(function(){i?e.autoSizeColumns({columns:i,skipHeader:o,source:"autosizeColumns"}):e.autoSizeAllColumns("autosizeColumns",o)})}},Un([E("expressionService")],t.prototype,"expressionService",void 0),Un([E("columnFactory")],t.prototype,"columnFactory",void 0),Un([E("displayedGroupCreator")],t.prototype,"displayedGroupCreator",void 0),Un([E("ctrlsService")],t.prototype,"ctrlsService",void 0),Un([E("autoWidthCalculator")],t.prototype,"autoWidthCalculator",void 0),Un([E("columnUtils")],t.prototype,"columnUtils",void 0),Un([E("columnAnimationService")],t.prototype,"columnAnimationService",void 0),Un([E("autoGroupColService")],t.prototype,"autoGroupColService",void 0),Un([et("aggFuncService")],t.prototype,"aggFuncService",void 0),Un([et("valueCache")],t.prototype,"valueCache",void 0),Un([et("animationFrameService")],t.prototype,"animationFrameService",void 0),Un([E("sortController")],t.prototype,"sortController",void 0),Un([E("columnDefFactory")],t.prototype,"columnDefFactory",void 0),Un([z],t.prototype,"init",null),Un([ar],t.prototype,"destroyColumns",null),Un([Q0e(0,oa("loggerFactory"))],t.prototype,"setBeans",null),t=Un([ie("columnModel")],t),t}(X);function Rv(n){return n==="gridOptionsUpdated"?"gridOptionsChanged":n}var e_e=function(){var n=function(t,e){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])},n(t,e)};return function(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");n(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}}(),t_e=function(n,t,e,r){var i=arguments.length,o=i<3?t:r===null?r=Object.getOwnPropertyDescriptor(t,e):r,a;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(n,t,e,r);else for(var s=n.length-1;s>=0;s--)(a=n[s])&&(o=(i<3?a(o):i>3?a(t,e,o):a(t,e))||o);return i>3&&o&&Object.defineProperty(t,e,o),o},N7=function(n){e_e(t,n);function t(){return n!==null&&n.apply(this,arguments)||this}return t.prototype.calculateColMinWidth=function(e){return e.minWidth!=null?e.minWidth:this.environment.getMinColWidth()},t.prototype.calculateColMaxWidth=function(e){return e.maxWidth!=null?e.maxWidth:Number.MAX_SAFE_INTEGER},t.prototype.calculateColInitialWidth=function(e){var r=this.calculateColMinWidth(e),i=this.calculateColMaxWidth(e),o,a=Nd(e.width),s=Nd(e.initialWidth);return a!=null?o=a:s!=null?o=s:o=200,Math.max(Math.min(o,i),r)},t.prototype.getOriginalPathForColumn=function(e,r){var i=[],o=!1,a=function(s,l){for(var u=0;u<s.length;u++){if(o)return;var c=s[u];if(c instanceof Rt){var d=c;a(d.getChildren(),l+1),i[l]=c}else c===e&&(o=!0)}};return a(r,0),o?i:null},t.prototype.depthFirstOriginalTreeSearch=function(e,r,i){var o=this;r&&r.forEach(function(a){a instanceof Rt&&o.depthFirstOriginalTreeSearch(a,a.getChildren(),i),i(a,e)})},t.prototype.depthFirstAllColumnTreeSearch=function(e,r){var i=this;e&&e.forEach(function(o){o instanceof Kr&&i.depthFirstAllColumnTreeSearch(o.getChildren(),r),r(o)})},t.prototype.depthFirstDisplayedColumnTreeSearch=function(e,r){var i=this;e&&e.forEach(function(o){o instanceof Kr&&i.depthFirstDisplayedColumnTreeSearch(o.getDisplayedChildren(),r),r(o)})},t=t_e([ie("columnUtils")],t),t}(X),r_e=function(){var n=function(t,e){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])},n(t,e)};return function(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");n(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}}(),n_e=function(n,t,e,r){var i=arguments.length,o=i<3?t:r===null?r=Object.getOwnPropertyDescriptor(t,e):r,a;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(n,t,e,r);else for(var s=n.length-1;s>=0;s--)(a=n[s])&&(o=(i<3?a(o):i>3?a(t,e,o):a(t,e))||o);return i>3&&o&&Object.defineProperty(t,e,o),o},k7=function(n){r_e(t,n);function t(){return n!==null&&n.apply(this,arguments)||this}return t.prototype.createDisplayedGroups=function(e,r,i,o){for(var a=this,s=this.mapOldGroupsById(o),l=[],u=e,c=function(){var d=u;u=[];for(var p=0,h=function(w){var _=p;p=w;var x=d[_],b=x instanceof Kr?x.getProvidedColumnGroup():x,O=b.getOriginalParent();if(O==null){for(var P=_;P<w;P++)l.push(d[P]);return}for(var D=a.createColumnGroup(O,r,s,i),P=_;P<w;P++)D.addChild(d[P]);u.push(D)},f=1;f<d.length;f++){var v=d[f],g=v instanceof Kr?v.getProvidedColumnGroup():v,y=g.getOriginalParent(),m=d[p],C=m instanceof Kr?m.getProvidedColumnGroup():m,S=C.getOriginalParent();y!==S&&h(f)}p<d.length&&h(d.length)};u.length;)c();return this.setupParentsIntoColumns(l,null),l},t.prototype.createColumnGroup=function(e,r,i,o){var a=e.getGroupId(),s=r.getInstanceIdForKey(a),l=Kr.createUniqueId(a,s),u=i[l];return u&&u.getProvidedColumnGroup()!==e&&(u=null),oe(u)?u.reset():(u=new Kr(e,a,s,o),this.context.createBean(u)),u},t.prototype.mapOldGroupsById=function(e){var r={},i=function(o){o.forEach(function(a){if(a instanceof Kr){var s=a;r[a.getUniqueId()]=s,i(s.getChildren())}})};return e&&i(e),r},t.prototype.setupParentsIntoColumns=function(e,r){var i=this;e.forEach(function(o){if(o.setParent(r),o instanceof Kr){var a=o;i.setupParentsIntoColumns(a.getChildren(),a)}})},t=n_e([ie("displayedGroupCreator")],t),t}(X),Lc=function(n,t){var e=typeof Symbol=="function"&&n[Symbol.iterator];if(!e)return n;var r=e.call(n),i,o=[],a;try{for(;(t===void 0||t-- >0)&&!(i=r.next()).done;)o.push(i.value)}catch(s){a={error:s}}finally{try{i&&!i.done&&(e=r.return)&&e.call(r)}finally{if(a)throw a.error}}return o},Fc=function(n,t,e){if(e||arguments.length===2)for(var r=0,i=t.length,o;r<i;r++)(o||!(r in t))&&(o||(o=Array.prototype.slice.call(t,0,r)),o[r]=t[r]);return n.concat(o||Array.prototype.slice.call(t))},i_e={enableBrowserTooltips:!0,tooltipTrigger:!0,tooltipMouseTrack:!0,tooltipInteraction:!0,defaultColGroupDef:!0,suppressAutoSize:!0,skipHeaderOnAutoSize:!0,autoSizeStrategy:!0,components:!0,stopEditingWhenCellsLoseFocus:!0,undoRedoCellEditing:!0,undoRedoCellEditingLimit:!0,excelStyles:!0,cacheQuickFilter:!0,excludeHiddenColumnsFromQuickFilter:!0,advancedFilterModel:!0,customChartThemes:!0,chartThemeOverrides:!0,enableChartToolPanelsButton:!0,suppressChartToolPanelsButton:!0,chartToolPanelsDef:!0,loadingCellRendererSelector:!0,localeText:!0,keepDetailRows:!0,keepDetailRowsCount:!0,detailRowHeight:!0,detailRowAutoHeight:!0,tabIndex:!0,valueCache:!0,valueCacheNeverExpires:!0,enableCellExpressions:!0,suppressParentsInRowNodes:!0,suppressTouch:!0,suppressAsyncEvents:!0,suppressBrowserResizeObserver:!0,suppressPropertyNamesCheck:!0,debug:!0,loadingOverlayComponent:!0,suppressLoadingOverlay:!0,noRowsOverlayComponent:!0,paginationPageSizeSelector:!0,paginateChildRows:!0,pivotPanelShow:!0,pivotSuppressAutoColumn:!0,suppressExpandablePivotGroups:!0,aggFuncs:!0,suppressAggFuncInHeader:!0,suppressAggAtRootLevel:!0,removePivotHeaderRowWhenSingleValueColumn:!0,allowShowChangeAfterFilter:!0,ensureDomOrder:!0,enableRtl:!0,suppressColumnVirtualisation:!0,suppressMaxRenderedRowRestriction:!0,suppressRowVirtualisation:!0,rowDragText:!0,suppressGroupMaintainValueType:!0,groupLockGroupColumns:!0,rowGroupPanelSuppressSort:!0,suppressGroupRowsSticky:!0,rowModelType:!0,cacheOverflowSize:!0,infiniteInitialRowCount:!0,serverSideInitialRowCount:!0,suppressServerSideInfiniteScroll:!0,maxBlocksInCache:!0,maxConcurrentDatasourceRequests:!0,blockLoadDebounceMillis:!0,serverSideOnlyRefreshFilteredGroups:!0,serverSidePivotResultFieldSeparator:!0,viewportRowModelPageSize:!0,viewportRowModelBufferSize:!0,debounceVerticalScrollbar:!0,suppressAnimationFrame:!0,suppressPreventDefaultOnMouseWheel:!0,scrollbarWidth:!0,icons:!0,suppressRowTransform:!0,gridId:!0,functionsPassive:!0,enableGroupEdit:!0,initialState:!0,processUnpinnedColumns:!0,createChartContainer:!0,getLocaleText:!0,getRowId:!0,reactiveCustomComponents:!0,columnMenu:!0},Ss=function(){function n(){}return n.STRING_PROPERTIES=["rowSelection","overlayLoadingTemplate","overlayNoRowsTemplate","gridId","quickFilterText","rowModelType","editType","domLayout","clipboardDelimiter","rowGroupPanelShow","multiSortKey","pivotColumnGroupTotals","pivotRowTotals","pivotPanelShow","fillHandleDirection","groupDisplayType","treeDataDisplayType","colResizeDefault","tooltipTrigger","serverSidePivotResultFieldSeparator","columnMenu"],n.OBJECT_PROPERTIES=["components","rowStyle","context","autoGroupColumnDef","localeText","icons","datasource","serverSideDatasource","viewportDatasource","groupRowRendererParams","aggFuncs","fullWidthCellRendererParams","defaultColGroupDef","defaultColDef","defaultCsvExportParams","defaultExcelExportParams","columnTypes","rowClassRules","detailCellRendererParams","loadingCellRendererParams","loadingOverlayComponentParams","noRowsOverlayComponentParams","popupParent","statusBar","sideBar","chartThemeOverrides","customChartThemes","chartToolPanelsDef","dataTypeDefinitions","advancedFilterModel","advancedFilterParent","advancedFilterBuilderParams","initialState","autoSizeStrategy"],n.ARRAY_PROPERTIES=["sortingOrder","alignedGrids","rowData","columnDefs","excelStyles","pinnedTopRowData","pinnedBottomRowData","chartThemes","rowClass","paginationPageSizeSelector"],n.NUMBER_PROPERTIES=["rowHeight","detailRowHeight","rowBuffer","headerHeight","groupHeaderHeight","groupLockGroupColumns","floatingFiltersHeight","pivotHeaderHeight","pivotGroupHeaderHeight","groupDefaultExpanded","pivotDefaultExpanded","viewportRowModelPageSize","viewportRowModelBufferSize","autoSizePadding","maxBlocksInCache","maxConcurrentDatasourceRequests","tooltipShowDelay","tooltipHideDelay","cacheOverflowSize","paginationPageSize","cacheBlockSize","infiniteInitialRowCount","serverSideInitialRowCount","scrollbarWidth","asyncTransactionWaitMillis","blockLoadDebounceMillis","keepDetailRowsCount","undoRedoCellEditingLimit","cellFlashDelay","cellFadeDelay","cellFlashDuration","cellFadeDuration","tabIndex"],n.BOOLEAN_PROPERTIES=["suppressMakeColumnVisibleAfterUnGroup","suppressRowClickSelection","suppressCellFocus","suppressHeaderFocus","suppressHorizontalScroll","groupSelectsChildren","alwaysShowHorizontalScroll","alwaysShowVerticalScroll","debug","enableBrowserTooltips","enableCellExpressions","groupIncludeTotalFooter","groupSuppressBlankHeader","suppressMenuHide","suppressRowDeselection","unSortIcon","suppressMultiSort","alwaysMultiSort","singleClickEdit","suppressLoadingOverlay","suppressNoRowsOverlay","suppressAutoSize","skipHeaderOnAutoSize","suppressParentsInRowNodes","suppressColumnMoveAnimation","suppressMovableColumns","suppressFieldDotNotation","enableRangeSelection","enableRangeHandle","enableFillHandle","suppressClearOnFillReduction","deltaSort","suppressTouch","suppressAsyncEvents","allowContextMenuWithControlKey","suppressContextMenu","enableCellChangeFlash","suppressDragLeaveHidesColumns","suppressRowGroupHidesColumns","suppressMiddleClickScrolls","suppressPreventDefaultOnMouseWheel","suppressCopyRowsToClipboard","copyHeadersToClipboard","copyGroupHeadersToClipboard","pivotMode","suppressAggFuncInHeader","suppressColumnVirtualisation","alwaysAggregateAtRootLevel","suppressAggAtRootLevel","suppressFocusAfterRefresh","functionsPassive","functionsReadOnly","animateRows","groupSelectsFiltered","groupRemoveSingleChildren","groupRemoveLowestSingleChildren","enableRtl","suppressClickEdit","rowDragEntireRow","rowDragManaged","suppressRowDrag","suppressMoveWhenRowDragging","rowDragMultiRow","enableGroupEdit","embedFullWidthRows","suppressPaginationPanel","groupHideOpenParents","groupAllowUnbalanced","pagination","paginationAutoPageSize","suppressScrollOnNewData","suppressScrollWhenPopupsAreOpen","purgeClosedRowNodes","cacheQuickFilter","includeHiddenColumnsInQuickFilter","excludeHiddenColumnsFromQuickFilter","ensureDomOrder","accentedSort","suppressChangeDetection","valueCache","valueCacheNeverExpires","aggregateOnlyChangedColumns","suppressAnimationFrame","suppressExcelExport","suppressCsvExport","includeHiddenColumnsInAdvancedFilter","suppressMultiRangeSelection","enterMovesDown","enterMovesDownAfterEdit","enterNavigatesVerticallyAfterEdit","enterNavigatesVertically","suppressPropertyNamesCheck","rowMultiSelectWithClick","suppressRowHoverHighlight","suppressRowTransform","suppressClipboardPaste","suppressLastEmptyLineOnPaste","enableCharts","enableChartToolPanelsButton","suppressChartToolPanelsButton","suppressMaintainUnsortedOrder","enableCellTextSelection","suppressBrowserResizeObserver","suppressMaxRenderedRowRestriction","excludeChildrenWhenTreeDataFiltering","tooltipMouseTrack","tooltipInteraction","keepDetailRows","paginateChildRows","preventDefaultOnContextMenu","undoRedoCellEditing","allowDragFromColumnsToolPanel","pivotSuppressAutoColumn","suppressExpandablePivotGroups","debounceVerticalScrollbar","detailRowAutoHeight","serverSideFilterAllLevels","serverSideSortAllLevels","serverSideEnableClientSideSort","serverSideOnlyRefreshFilteredGroups","serverSideSortOnServer","serverSideFilterOnServer","suppressAggFilteredOnly","showOpenedGroup","suppressClipboardApi","suppressModelUpdateAfterUpdateTransaction","stopEditingWhenCellsLoseFocus","maintainColumnOrder","groupMaintainOrder","columnHoverHighlight","readOnlyEdit","suppressRowVirtualisation","enableCellEditingOnBackspace","resetRowDataOnUpdate","removePivotHeaderRowWhenSingleValueColumn","suppressCopySingleCellRanges","suppressGroupRowsSticky","suppressCutToClipboard","suppressServerSideInfiniteScroll","rowGroupPanelSuppressSort","allowShowChangeAfterFilter","enableAdvancedFilter","masterDetail","treeData","suppressGroupMaintainValueType","reactiveCustomComponents"],n.FUNCTIONAL_PROPERTIES=["doesExternalFilterPass","processPivotResultColDef","processPivotResultColGroupDef","getBusinessKeyForNode","isRowSelectable","rowDragText","groupRowRenderer","fullWidthCellRenderer","loadingCellRenderer","loadingOverlayComponent","noRowsOverlayComponent","detailCellRenderer","quickFilterParser","quickFilterMatcher"],n.CALLBACK_PROPERTIES=["getLocaleText","isExternalFilterPresent","getRowHeight","getRowClass","getRowStyle","getContextMenuItems","getMainMenuItems","processRowPostCreate","processCellForClipboard","getGroupRowAgg","isFullWidthRow","sendToClipboard","navigateToNextHeader","tabToNextHeader","navigateToNextCell","tabToNextCell","processCellFromClipboard","getDocument","postProcessPopup","getChildCount","getDataPath","isRowMaster","postSortRows","processHeaderForClipboard","processUnpinnedColumns","processGroupHeaderForClipboard","paginationNumberFormatter","processDataFromClipboard","getServerSideGroupKey","isServerSideGroup","createChartContainer","getChartToolbarItems","fillOperation","isApplyServerSideTransaction","getServerSideGroupLevelParams","isServerSideGroupOpenByDefault","isGroupOpenByDefault","initialGroupOrderComparator","groupIncludeFooter","loadingCellRendererSelector","getRowId","groupAggFiltering"],n.FUNCTION_PROPERTIES=Fc(Fc([],Lc(n.FUNCTIONAL_PROPERTIES),!1),Lc(n.CALLBACK_PROPERTIES),!1),n.ALL_PROPERTIES=Fc(Fc(Fc(Fc(Fc(Fc([],Lc(n.ARRAY_PROPERTIES),!1),Lc(n.OBJECT_PROPERTIES),!1),Lc(n.STRING_PROPERTIES),!1),Lc(n.NUMBER_PROPERTIES),!1),Lc(n.FUNCTION_PROPERTIES),!1),Lc(n.BOOLEAN_PROPERTIES),!1),n}(),fF=function(){return fF=Object.assign||function(n){for(var t,e=1,r=arguments.length;e<r;e++){t=arguments[e];for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(n[i]=t[i])}return n},fF.apply(this,arguments)},t$=function(n,t){var e=typeof Symbol=="function"&&n[Symbol.iterator];if(!e)return n;var r=e.call(n),i,o=[],a;try{for(;(t===void 0||t-- >0)&&!(i=r.next()).done;)o.push(i.value)}catch(s){a={error:s}}finally{try{i&&!i.done&&(e=r.return)&&e.call(r)}finally{if(a)throw a.error}}return o},r$=function(n,t,e){if(e||arguments.length===2)for(var r=0,i=t.length,o;r<i;r++)(o||!(r in t))&&(o||(o=Array.prototype.slice.call(t,0,r)),o[r]=t[r]);return n.concat(o||Array.prototype.slice.call(t))},Dk=function(){function n(){}n.getCallbackForEvent=function(e){return!e||e.length<2?e:"on"+e[0].toUpperCase()+e.substring(1)},n.getGridOptionKeys=function(){return this.ALL_PROPERTIES_AND_CALLBACKS},n.combineAttributesAndGridOptions=function(e,r){typeof e!="object"&&(e={});var i=fF({},e),o=n.getGridOptionKeys();return o.forEach(function(a){var s=r[a];typeof s<"u"&&s!==n.VUE_OMITTED_PROPERTY&&(i[a]=s)}),i},n.processOnChange=function(e,r){if(e){var i={},o=!1;if(Object.keys(e).filter(function(s){return n.ALL_PROPERTIES_AND_CALLBACKS_SET.has(s)}).forEach(function(s){i[s]=e[s],o=!0}),!!o){r.__internalUpdateGridOptions(i);var a={type:T.EVENT_COMPONENT_STATE_CHANGED};gi(i,function(s,l){a[s]=l}),r.dispatchEvent(a)}}};var t;return t=n,n.EVENTS=Lh(T),n.VUE_OMITTED_PROPERTY="AG-VUE-OMITTED-PROPERTY",n.EXCLUDED_INTERNAL_EVENTS=[T.EVENT_SCROLLBAR_WIDTH_CHANGED,T.EVENT_CHECKBOX_CHANGED,T.EVENT_HEIGHT_SCALE_CHANGED,T.EVENT_BODY_HEIGHT_CHANGED,T.EVENT_COLUMN_CONTAINER_WIDTH_CHANGED,T.EVENT_DISPLAYED_COLUMNS_WIDTH_CHANGED,T.EVENT_SCROLL_VISIBILITY_CHANGED,T.EVENT_COLUMN_HOVER_CHANGED,T.EVENT_FLASH_CELLS,T.EVENT_PAGINATION_PIXEL_OFFSET_CHANGED,T.EVENT_DISPLAYED_ROWS_CHANGED,T.EVENT_LEFT_PINNED_WIDTH_CHANGED,T.EVENT_RIGHT_PINNED_WIDTH_CHANGED,T.EVENT_ROW_CONTAINER_HEIGHT_CHANGED,T.EVENT_POPUP_TO_FRONT,T.EVENT_STORE_UPDATED,T.EVENT_COLUMN_PANEL_ITEM_DRAG_START,T.EVENT_COLUMN_PANEL_ITEM_DRAG_END,T.EVENT_FILL_START,T.EVENT_FILL_END,T.EVENT_KEY_SHORTCUT_CHANGED_CELL_START,T.EVENT_KEY_SHORTCUT_CHANGED_CELL_END,T.EVENT_FULL_WIDTH_ROW_FOCUSED,T.EVENT_HEADER_HEIGHT_CHANGED,T.EVENT_COLUMN_HEADER_HEIGHT_CHANGED,T.EVENT_CELL_FOCUS_CLEARED,T.EVENT_GRID_STYLES_CHANGED,T.EVENT_FILTER_DESTROYED,T.EVENT_ROW_DATA_UPDATE_STARTED,T.EVENT_ADVANCED_FILTER_ENABLED_CHANGED,T.EVENT_DATA_TYPES_INFERRED,T.EVENT_FIELD_VALUE_CHANGED,T.EVENT_FIELD_PICKER_VALUE_SELECTED,T.EVENT_SUPPRESS_COLUMN_MOVE_CHANGED,T.EVENT_SUPPRESS_MENU_HIDE_CHANGED,T.EVENT_SUPPRESS_FIELD_DOT_NOTATION,T.EVENT_ROW_COUNT_READY,T.EVENT_SIDE_BAR_UPDATED],n.PUBLIC_EVENTS=n.EVENTS.filter(function(e){return!Ls(n.EXCLUDED_INTERNAL_EVENTS,e)}),n.EVENT_CALLBACKS=n.EVENTS.map(function(e){return n.getCallbackForEvent(e)}),n.STRING_PROPERTIES=Ss.STRING_PROPERTIES,n.OBJECT_PROPERTIES=Ss.OBJECT_PROPERTIES,n.ARRAY_PROPERTIES=Ss.ARRAY_PROPERTIES,n.NUMBER_PROPERTIES=Ss.NUMBER_PROPERTIES,n.BOOLEAN_PROPERTIES=Ss.BOOLEAN_PROPERTIES,n.FUNCTION_PROPERTIES=Ss.FUNCTION_PROPERTIES,n.ALL_PROPERTIES=Ss.ALL_PROPERTIES,n.ALL_PROPERTIES_AND_CALLBACKS=r$(r$([],t$(t.ALL_PROPERTIES),!1),t$(t.EVENT_CALLBACKS),!1),n.ALL_PROPERTIES_AND_CALLBACKS_SET=new Set(n.ALL_PROPERTIES_AND_CALLBACKS),n}(),o_e=function(){var n=function(t,e){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])},n(t,e)};return function(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");n(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}}(),a_e=function(n,t,e,r){var i=arguments.length,o=i<3?t:r===null?r=Object.getOwnPropertyDescriptor(t,e):r,a;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(n,t,e,r);else for(var s=n.length-1;s>=0;s--)(a=n[s])&&(o=(i<3?a(o):i>3?a(t,e,o):a(t,e))||o);return i>3&&o&&Object.defineProperty(t,e,o),o},G7=function(n){o_e(t,n);function t(){var e=n!==null&&n.apply(this,arguments)||this;return e.componentsMappedByName={},e}return t.prototype.setupComponents=function(e){var r=this;e&&e.forEach(function(i){return r.addComponent(i)})},t.prototype.addComponent=function(e){var r=e.componentName.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase(),i=r.toUpperCase();this.componentsMappedByName[i]=e.componentClass},t.prototype.getComponentClass=function(e){return this.componentsMappedByName[e]},t=a_e([ie("agStackComponentsRegistry")],t),t}(X);function os(n,t,e){e==null||typeof e=="string"&&e==""?Mk(n,t):as(n,t,e)}function as(n,t,e){n.setAttribute(V7(t),e.toString())}function Mk(n,t){n.removeAttribute(V7(t))}function V7(n){return"aria-".concat(n)}function hn(n,t){t?n.setAttribute("role",t):n.removeAttribute("role")}function B7(n){var t;return n==="asc"?t="ascending":n==="desc"?t="descending":n==="mixed"?t="other":t="none",t}function s_e(n){return parseInt(n.getAttribute("aria-level"),10)}function H7(n){return parseInt(n.getAttribute("aria-posinset"),10)}function j7(n){return n.getAttribute("aria-label")}function lp(n,t){os(n,"label",t)}function Ab(n,t){os(n,"labelledby",t)}function l_e(n,t){os(n,"describedby",t)}function Lk(n,t){os(n,"live",t)}function $7(n,t){os(n,"atomic",t)}function W7(n,t){os(n,"relevant",t)}function U7(n,t){os(n,"level",t)}function Fk(n,t){os(n,"disabled",t)}function hT(n,t){os(n,"hidden",t)}function Ik(n,t){os(n,"activedescendant",t)}function oc(n,t){as(n,"expanded",t)}function z7(n){Mk(n,"expanded")}function Nk(n,t){as(n,"setsize",t)}function kk(n,t){as(n,"posinset",t)}function K7(n,t){as(n,"multiselectable",t)}function Y7(n,t){as(n,"rowcount",t)}function Gk(n,t){as(n,"rowindex",t)}function X7(n,t){as(n,"colcount",t)}function Vk(n,t){as(n,"colindex",t)}function q7(n,t){as(n,"colspan",t)}function Z7(n,t){as(n,"sort",t)}function Q7(n){Mk(n,"sort")}function Dg(n,t){os(n,"selected",t)}function u_e(n,t){as(n,"checked",t===void 0?"mixed":t)}function Bk(n,t){os(n,"controls",t.id),Ab(t,n.id)}function Hk(n,t){return t===void 0?n("ariaIndeterminate","indeterminate"):t===!0?n("ariaChecked","checked"):n("ariaUnchecked","unchecked")}var c_e=Object.freeze({__proto__:null,setAriaRole:hn,getAriaSortState:B7,getAriaLevel:s_e,getAriaPosInSet:H7,getAriaLabel:j7,setAriaLabel:lp,setAriaLabelledBy:Ab,setAriaDescribedBy:l_e,setAriaLive:Lk,setAriaAtomic:$7,setAriaRelevant:W7,setAriaLevel:U7,setAriaDisabled:Fk,setAriaHidden:hT,setAriaActiveDescendant:Ik,setAriaExpanded:oc,removeAriaExpanded:z7,setAriaSetSize:Nk,setAriaPosInSet:kk,setAriaMultiSelectable:K7,setAriaRowCount:Y7,setAriaRowIndex:Gk,setAriaColCount:X7,setAriaColIndex:Vk,setAriaColSpan:q7,setAriaSort:Z7,removeAriaSort:Q7,setAriaSelected:Dg,setAriaChecked:u_e,setAriaControls:Bk,getAriaCheckboxStateName:Hk}),EA,n_,bA,OA,RA,TA,vF,gF;function tu(){return EA===void 0&&(EA=/^((?!chrome|android).)*safari/i.test(navigator.userAgent)),EA}function jk(){if(n_===void 0)if(tu()){var n=navigator.userAgent.match(/version\/(\d+)/i);n&&(n_=n[1]!=null?parseFloat(n[1]):0)}else n_=0;return n_}function fT(){if(bA===void 0){var n=window;bA=!!n.chrome&&(!!n.chrome.webstore||!!n.chrome.runtime)||/Chrome/.test(navigator.userAgent)&&/Google Inc/.test(navigator.vendor)}return bA}function $k(){return OA===void 0&&(OA=/(firefox)/i.test(navigator.userAgent)),OA}function Wk(){return RA===void 0&&(RA=/(Mac|iPhone|iPod|iPad)/i.test(navigator.platform)),RA}function yc(){return TA===void 0&&(TA=/iPad|iPhone|iPod/.test(navigator.platform)||navigator.platform==="MacIntel"&&navigator.maxTouchPoints>1),TA}function Uk(){return!tu()||jk()>=15}function Db(n){if(!n)return null;var t=n.tabIndex,e=n.getAttribute("tabIndex");return t===-1&&(e===null||e===""&&!$k())?null:t.toString()}function J7(){if(!document.body)return-1;var n=1e6,t=navigator.userAgent.toLowerCase().match(/firefox/)?6e6:1e9,e=document.createElement("div");for(document.body.appendChild(e);;){var r=n*2;if(e.style.height=r+"px",r>t||e.clientHeight!==r)break;n=r}return document.body.removeChild(e),n}function eY(){var n,t,e;return(t=(n=document.body)===null||n===void 0?void 0:n.clientWidth)!==null&&t!==void 0?t:window.innerHeight||((e=document.documentElement)===null||e===void 0?void 0:e.clientWidth)||-1}function tY(){var n,t,e;return(t=(n=document.body)===null||n===void 0?void 0:n.clientHeight)!==null&&t!==void 0?t:window.innerHeight||((e=document.documentElement)===null||e===void 0?void 0:e.clientHeight)||-1}function rY(){return gF==null&&nY(),gF}function nY(){var n=document.body,t=document.createElement("div");t.style.width=t.style.height="100px",t.style.opacity="0",t.style.overflow="scroll",t.style.msOverflowStyle="scrollbar",t.style.position="absolute",n.appendChild(t);var e=t.offsetWidth-t.clientWidth;e===0&&t.clientWidth===0&&(e=null),t.parentNode&&t.parentNode.removeChild(t),e!=null&&(gF=e,vF=e===0)}function zk(){return vF==null&&nY(),vF}var d_e=Object.freeze({__proto__:null,isBrowserSafari:tu,getSafariVersion:jk,isBrowserChrome:fT,isBrowserFirefox:$k,isMacOsUserAgent:Wk,isIOSUserAgent:yc,browserSupportsPreventScroll:Uk,getTabIndex:Db,getMaxDivHeight:J7,getBodyWidth:eY,getBodyHeight:tY,getScrollbarWidth:rY,isInvisibleScrollbar:zk});function eg(n,t){return n.toString().padStart(t,"0")}function iY(n,t){for(var e=[],r=n;r<=t;r++)e.push(r);return e}function p_e(n){return typeof n=="string"&&(n=parseInt(n,10)),typeof n=="number"?Math.floor(n):null}function h_e(n,t){for(var e="",r=0;r<t;r++)e+=String.fromCharCode(n&255),n>>>=8;return e}function f_e(n,t,e){return typeof n!="number"?"":Kk(Math.round(n*100)/100,t,e)}function Kk(n,t,e){return typeof n!="number"?"":n.toString().replace(".",e).replace(/(\d)(?=(\d{3})+(?!\d))/g,"$1".concat(t))}function v_e(n){return n==null?null:n.reduce(function(t,e){return t+e},0)}var g_e=Object.freeze({__proto__:null,padStartWidthZeros:eg,createArrayOfNumbers:iY,cleanNumber:p_e,decToHex:h_e,formatNumberTwoDecimalPlacesAndCommas:f_e,formatNumberCommas:Kk,sum:v_e}),PA=function(n,t){var e=typeof Symbol=="function"&&n[Symbol.iterator];if(!e)return n;var r=e.call(n),i,o=[],a;try{for(;(t===void 0||t-- >0)&&!(i=r.next()).done;)o.push(i.value)}catch(s){a={error:s}}finally{try{i&&!i.done&&(e=r.return)&&e.call(r)}finally{if(a)throw a.error}}return o};function za(n,t,e){if(t===void 0&&(t=!0),e===void 0&&(e="-"),!n)return null;var r=[n.getFullYear(),n.getMonth()+1,n.getDate()].map(function(i){return eg(i,2)}).join(e);return t&&(r+=" "+[n.getHours(),n.getMinutes(),n.getSeconds()].map(function(i){return eg(i,2)}).join(":")),r}var AA=function(n){if(n>3&&n<21)return"th";var t=n%10;switch(t){case 1:return"st";case 2:return"nd";case 3:return"rd"}return"th"};function tg(n,t){t===void 0&&(t="YYYY-MM-DD");var e=eg(n.getFullYear(),4),r=["January","February","March","April","May","June","July","August","September","October","November","December"],i=["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],o={YYYY:function(){return e.slice(e.length-4,e.length)},YY:function(){return e.slice(e.length-2,e.length)},Y:function(){return"".concat(n.getFullYear())},MMMM:function(){return r[n.getMonth()]},MMM:function(){return r[n.getMonth()].slice(0,3)},MM:function(){return eg(n.getMonth()+1,2)},Mo:function(){return"".concat(n.getMonth()+1).concat(AA(n.getMonth()+1))},M:function(){return"".concat(n.getMonth()+1)},Do:function(){return"".concat(n.getDate()).concat(AA(n.getDate()))},DD:function(){return eg(n.getDate(),2)},D:function(){return"".concat(n.getDate())},dddd:function(){return i[n.getDay()]},ddd:function(){return i[n.getDay()].slice(0,3)},dd:function(){return i[n.getDay()].slice(0,2)},do:function(){return"".concat(n.getDay()).concat(AA(n.getDay()))},d:function(){return"".concat(n.getDay())}},a=new RegExp(Object.keys(o).join("|"),"g");return t.replace(a,function(s){return s in o?o[s]():s})}function ho(n){if(!n)return null;var t=PA(n.split(" "),2),e=t[0],r=t[1];if(!e)return null;var i=e.split("-").map(function(f){return parseInt(f,10)});if(i.filter(function(f){return!isNaN(f)}).length!==3)return null;var o=PA(i,3),a=o[0],s=o[1],l=o[2],u=new Date(a,s-1,l);if(u.getFullYear()!==a||u.getMonth()!==s-1||u.getDate()!==l)return null;if(!r||r==="00:00:00")return u;var c=PA(r.split(":").map(function(f){return parseInt(f,10)}),3),d=c[0],p=c[1],h=c[2];return d>=0&&d<24&&u.setHours(d),p>=0&&p<60&&u.setMinutes(p),h>=0&&h<60&&u.setSeconds(h),u}var y_e=Object.freeze({__proto__:null,serialiseDate:za,dateToFormattedString:tg,parseDateTimeFromString:ho}),m_e=function(n){var t=typeof Symbol=="function"&&Symbol.iterator,e=t&&n[t],r=0;if(e)return e.call(n);if(n&&typeof n.length=="number")return{next:function(){return n&&r>=n.length&&(n=void 0),{value:n&&n[r++],done:!n}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")},C_e=function(n,t){var e=typeof Symbol=="function"&&n[Symbol.iterator];if(!e)return n;var r=e.call(n),i,o=[],a;try{for(;(t===void 0||t-- >0)&&!(i=r.next()).done;)o.push(i.value)}catch(s){a={error:s}}finally{try{i&&!i.done&&(e=r.return)&&e.call(r)}finally{if(a)throw a.error}}return o},i_;function yF(n,t,e){for(var r=n.parentElement,i=r&&r.firstChild;i;)t&&i.classList.toggle(t,i===n),e&&i.classList.toggle(e,i!==n),i=i.nextSibling}var oY="[tabindex], input, select, button, textarea, [href]",Yk="[disabled], .ag-disabled:not(.ag-button), .ag-disabled *";function Xk(n){var t=Element.prototype.matches||Element.prototype.msMatchesSelector,e="input, select, button, textarea",r=t.call(n,e),i=t.call(n,Yk),o=ca(n),a=r&&!i&&o;return a}function Ct(n,t,e){e===void 0&&(e={});var r=e.skipAriaHidden;n.classList.toggle("ag-hidden",!t),r||hT(n,!t)}function aY(n,t,e){e===void 0&&(e={});var r=e.skipAriaHidden;n.classList.toggle("ag-invisible",!t),r||hT(n,!t)}function Mg(n,t){var e="disabled",r=t?function(i){return i.setAttribute(e,"")}:function(i){return i.removeAttribute(e)};r(n),rG(n.querySelectorAll("input"),function(i){return r(i)})}function Ih(n,t,e){for(var r=0;n;){if(n.classList.contains(t))return!0;if(n=n.parentElement,typeof e=="number"){if(++r>e)break}else if(n===e)break}return!1}function up(n){var t=window.getComputedStyle(n),e=t.height,r=t.width,i=t.borderTopWidth,o=t.borderRightWidth,a=t.borderBottomWidth,s=t.borderLeftWidth,l=t.paddingTop,u=t.paddingRight,c=t.paddingBottom,d=t.paddingLeft,p=t.marginTop,h=t.marginRight,f=t.marginBottom,v=t.marginLeft,g=t.boxSizing;return{height:parseFloat(e||"0"),width:parseFloat(r||"0"),borderTopWidth:parseFloat(i||"0"),borderRightWidth:parseFloat(o||"0"),borderBottomWidth:parseFloat(a||"0"),borderLeftWidth:parseFloat(s||"0"),paddingTop:parseFloat(l||"0"),paddingRight:parseFloat(u||"0"),paddingBottom:parseFloat(c||"0"),paddingLeft:parseFloat(d||"0"),marginTop:parseFloat(p||"0"),marginRight:parseFloat(h||"0"),marginBottom:parseFloat(f||"0"),marginLeft:parseFloat(v||"0"),boxSizing:g}}function Nw(n){var t=up(n);return t.boxSizing==="border-box"?t.height-t.paddingTop-t.paddingBottom:t.height}function gf(n){var t=up(n);return t.boxSizing==="border-box"?t.width-t.paddingLeft-t.paddingRight:t.width}function qk(n){var t=up(n),e=t.marginBottom+t.marginTop;return Math.ceil(n.offsetHeight+e)}function NS(n){var t=up(n),e=t.marginLeft+t.marginRight;return Math.ceil(n.offsetWidth+e)}function Zk(n){var t=n.getBoundingClientRect(),e=up(n),r=e.borderTopWidth,i=e.borderLeftWidth,o=e.borderRightWidth,a=e.borderBottomWidth;return{top:t.top+(r||0),left:t.left+(i||0),right:t.right+(o||0),bottom:t.bottom+(a||0)}}function kS(){if(typeof i_=="boolean")return i_;var n=document.createElement("div");return n.style.direction="rtl",n.style.width="1px",n.style.height="1px",n.style.position="fixed",n.style.top="0px",n.style.overflow="hidden",n.dir="rtl",n.innerHTML=`<div style="width: 2px">
            <span style="display: inline-block; width: 1px"></span>
            <span style="display: inline-block; width: 1px"></span>
        </div>`,document.body.appendChild(n),n.scrollLeft=1,i_=Math.floor(n.scrollLeft)===0,document.body.removeChild(n),i_}function GS(n,t){var e=n.scrollLeft;return t&&(e=Math.abs(e),fT()&&!kS()&&(e=n.scrollWidth-n.clientWidth-e)),e}function VS(n,t,e){e&&(kS()?t*=-1:(tu()||fT())&&(t=n.scrollWidth-n.clientWidth-t)),n.scrollLeft=t}function Rn(n){for(;n&&n.firstChild;)n.removeChild(n.firstChild)}function Nl(n){n&&n.parentNode&&n.parentNode.removeChild(n)}function Qk(n){return!!n.offsetParent}function ca(n){var t=n;if(t.checkVisibility)return t.checkVisibility({checkVisibilityCSS:!0});var e=!Qk(n)||window.getComputedStyle(n).visibility!=="visible";return!e}function fo(n){var t=document.createElement("div");return t.innerHTML=(n||"").trim(),t.firstChild}function Jk(n,t,e){e&&e.nextSibling===t||(e?e.nextSibling?n.insertBefore(t,e.nextSibling):n.appendChild(t):n.firstChild&&n.firstChild!==t&&n.insertAdjacentElement("afterbegin",t))}function eG(n,t){for(var e=0;e<t.length;e++){var r=t[e],i=n.children[e];i!==r&&n.insertBefore(r,i)}}function sY(n,t,e){e?e.insertAdjacentElement("afterend",t):n.firstChild?n.insertAdjacentElement("afterbegin",t):n.appendChild(t)}function tG(n,t){var e,r;if(t)try{for(var i=m_e(Object.entries(t)),o=i.next();!o.done;o=i.next()){var a=C_e(o.value,2),s=a[0],l=a[1];if(!(!s||!s.length||l==null)){var u=F7(s),c=l.toString(),d=c.replace(/\s*!important/g,""),p=d.length!=c.length?"important":void 0;n.style.setProperty(u,d,p)}}}catch(h){e={error:h}}finally{try{o&&!o.done&&(r=i.return)&&r.call(i)}finally{if(e)throw e.error}}}function lY(n){return n.clientWidth<n.scrollWidth}function uY(n){return n.clientHeight<n.scrollHeight}function BS(n,t){t==="flex"?(n.style.removeProperty("width"),n.style.removeProperty("minWidth"),n.style.removeProperty("maxWidth"),n.style.flex="1 1 auto"):Ka(n,t)}function Ka(n,t){t=vT(t),n.style.width=t.toString(),n.style.maxWidth=t.toString(),n.style.minWidth=t.toString()}function S_e(n,t){t==="flex"?(n.style.removeProperty("height"),n.style.removeProperty("minHeight"),n.style.removeProperty("maxHeight"),n.style.flex="1 1 auto"):Nh(n,t)}function Nh(n,t){t=vT(t),n.style.height=t.toString(),n.style.maxHeight=t.toString(),n.style.minHeight=t.toString()}function vT(n){return typeof n=="number"?"".concat(n,"px"):n}function kw(n){return n instanceof Node||n instanceof HTMLElement}function cY(n){if(n==null)return[];var t=[];return rG(n,function(e){return t.push(e)}),t}function dY(n,t){if(n)for(var e=0;e<n.length;e++){var r=n[e];t(r.name,r.value)}}function Yl(n,t,e){e==null?n.removeAttribute(t):n.setAttribute(t,e.toString())}function rG(n,t){if(n!=null)for(var e=0;e<n.length;e++)t(n[e])}function nG(n,t){n.then(function(e){var r=e.getGui();r!=null&&(typeof r=="object"?t.appendChild(r):t.innerHTML=r)})}var w_e=Object.freeze({__proto__:null,radioCssClass:yF,FOCUSABLE_SELECTOR:oY,FOCUSABLE_EXCLUDE:Yk,isFocusableFormField:Xk,setDisplayed:Ct,setVisible:aY,setDisabled:Mg,isElementChildOfClass:Ih,getElementSize:up,getInnerHeight:Nw,getInnerWidth:gf,getAbsoluteHeight:qk,getAbsoluteWidth:NS,getElementRectWithOffset:Zk,isRtlNegativeScroll:kS,getScrollLeft:GS,setScrollLeft:VS,clearElement:Rn,removeFromParent:Nl,isInDOM:Qk,isVisible:ca,loadTemplate:fo,ensureDomOrder:Jk,setDomChildOrder:eG,insertWithDomOrder:sY,addStylesToElement:tG,isHorizontalScrollShowing:lY,isVerticalScrollShowing:uY,setElementWidth:BS,setFixedWidth:Ka,setElementHeight:S_e,setFixedHeight:Nh,formatSize:vT,isNodeOrElement:kw,copyNodeList:cY,iterateNamedNodeMap:dY,addOrRemoveAttribute:Yl,nodeListForEach:rG,bindCellRendererToHtmlElement:nG}),__e=function(n){var t=typeof Symbol=="function"&&Symbol.iterator,e=t&&n[t],r=0;if(e)return e.call(n);if(n&&typeof n.length=="number")return{next:function(){return n&&r>=n.length&&(n=void 0),{value:n&&n[r++],done:!n}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")};function pY(n,t,e){var r={},i=n.filter(function(o){return!t.some(function(a){return a===o})});return i.length>0&&i.forEach(function(o){return r[o]=Gw(o,e).values}),r}function Gw(n,t,e,r){var i,o,a=t.map(function(f,v){return{value:f,relevance:x_e(n.toLowerCase(),f.toLocaleLowerCase()),idx:v}});if(a.sort(function(f,v){return v.relevance-f.relevance}),e&&(a=a.filter(function(f){return f.relevance!==0})),a.length>0&&r&&r>0){var s=a[0].relevance,l=s*r;a=a.filter(function(f){return l-f.relevance<0})}var u=[],c=[];try{for(var d=__e(a),p=d.next();!p.done;p=d.next()){var h=p.value;u.push(h.value),c.push(h.idx)}}catch(f){i={error:f}}finally{try{p&&!p.done&&(o=d.return)&&o.call(d)}finally{if(i)throw i.error}}return{values:u,indices:c}}function x_e(n,t){for(var e=n.replace(/\s/g,""),r=t.replace(/\s/g,""),i=0,o=-1,a=0;a<e.length;a++){var s=r.indexOf(e[a],o+1);s!==-1&&(o=s,i+=100-o*100/1e4*100)}return i}var E_e=Object.freeze({__proto__:null,fuzzyCheckStrings:pY,fuzzySuggestions:Gw}),hY={columnGroupOpened:"expanded",columnGroupClosed:"contracted",columnSelectClosed:"tree-closed",columnSelectOpen:"tree-open",columnSelectIndeterminate:"tree-indeterminate",columnMovePin:"pin",columnMoveHide:"eye-slash",columnMoveMove:"arrows",columnMoveLeft:"left",columnMoveRight:"right",columnMoveGroup:"group",columnMoveValue:"aggregation",columnMovePivot:"pivot",dropNotAllowed:"not-allowed",groupContracted:"tree-closed",groupExpanded:"tree-open",setFilterGroupClosed:"tree-closed",setFilterGroupOpen:"tree-open",setFilterGroupIndeterminate:"tree-indeterminate",chart:"chart",close:"cross",cancel:"cancel",check:"tick",first:"first",previous:"previous",next:"next",last:"last",linked:"linked",unlinked:"unlinked",colorPicker:"color-picker",groupLoading:"loading",menu:"menu",menuAlt:"menu-alt",filter:"filter",columns:"columns",maximize:"maximize",minimize:"minimize",menuPin:"pin",menuValue:"aggregation",menuAddRowGroup:"group",menuRemoveRowGroup:"group",clipboardCopy:"copy",clipboardCut:"cut",clipboardPaste:"paste",pivotPanel:"pivot",rowGroupPanel:"group",valuePanel:"aggregation",columnDrag:"grip",rowDrag:"grip",save:"save",csvExport:"csv",excelExport:"excel",smallDown:"small-down",smallLeft:"small-left",smallRight:"small-right",smallUp:"small-up",sortAscending:"asc",sortDescending:"desc",sortUnSort:"none",advancedFilterBuilder:"group",advancedFilterBuilderDrag:"grip",advancedFilterBuilderInvalid:"not-allowed",advancedFilterBuilderMoveUp:"up",advancedFilterBuilderMoveDown:"down",advancedFilterBuilderAdd:"plus",advancedFilterBuilderRemove:"minus"};function Ta(n,t,e){var r=Qr(n,t,e);if(r){var i=r.className;if(typeof i=="string"&&i.indexOf("ag-icon")>-1||typeof i=="object"&&i["ag-icon"])return r}var o=document.createElement("span");return o.appendChild(r),o}function Qr(n,t,e,r){var i=null,o=e&&e.getColDef().icons;if(o&&(i=o[n]),t&&!i){var a=t.get("icons");a&&(i=a[n])}if(i){var s=void 0;if(typeof i=="function")s=i();else if(typeof i=="string")s=i;else throw new Error("icon from grid options needs to be a string or a function");if(typeof s=="string")return fo(s);if(kw(s))return s;console.warn("AG Grid: iconRenderer should return back a string or a dom object")}else{var l=document.createElement("span"),u=hY[n];return u||(r?u=n:(console.warn("AG Grid: Did not find icon ".concat(n)),u="")),l.setAttribute("class","ag-icon ag-icon-".concat(u)),l.setAttribute("unselectable","on"),hn(l,"presentation"),l}}var b_e=Object.freeze({__proto__:null,iconNameClassMap:hY,createIcon:Ta,createIconNoSpan:Qr}),U=function(){function n(){}return n.BACKSPACE="Backspace",n.TAB="Tab",n.ENTER="Enter",n.ESCAPE="Escape",n.SPACE=" ",n.LEFT="ArrowLeft",n.UP="ArrowUp",n.RIGHT="ArrowRight",n.DOWN="ArrowDown",n.DELETE="Delete",n.F2="F2",n.PAGE_UP="PageUp",n.PAGE_DOWN="PageDown",n.PAGE_HOME="Home",n.PAGE_END="End",n.A="KeyA",n.C="KeyC",n.D="KeyD",n.V="KeyV",n.X="KeyX",n.Y="KeyY",n.Z="KeyZ",n}(),O_e=65,R_e=67,T_e=86,P_e=68,A_e=90,D_e=89;function gT(n){if(n.altKey||n.ctrlKey||n.metaKey)return!1;var t=n.key.length===1;return t}function Mb(n,t,e,r,i){var o=r?r.getColDef().suppressKeyboardEvent:void 0;if(!o)return!1;var a=n.addGridCommonParams({event:t,editing:i,column:r,node:e,data:e.data,colDef:r.getColDef()});if(o){var s=o(a);if(s)return!0}return!1}function fY(n,t,e,r){var i=r.getDefinition(),o=i&&i.suppressHeaderKeyboardEvent;if(!oe(o))return!1;var a=n.addGridCommonParams({colDef:i,column:r,headerRowIndex:e,event:t});return!!o(a)}function vY(n){var t=n.keyCode,e;switch(t){case O_e:e=U.A;break;case R_e:e=U.C;break;case T_e:e=U.V;break;case P_e:e=U.D;break;case A_e:e=U.Z;break;case D_e:e=U.Y;break;default:e=n.code}return e}function gY(n,t){return t===void 0&&(t=!1),n===U.DELETE?!0:!t&&n===U.BACKSPACE?Wk():!1}var M_e=Object.freeze({__proto__:null,isEventFromPrintableCharacter:gT,isUserSuppressingKeyboardEvent:Mb,isUserSuppressingHeaderKeyboardEvent:fY,normaliseQwertyAzerty:vY,isDeleteKey:gY});function iG(n,t,e){if(e===0)return!1;var r=Math.abs(n.clientX-t.clientX),i=Math.abs(n.clientY-t.clientY);return Math.max(r,i)<=e}var L_e=Object.freeze({__proto__:null,areEventsNear:iG});function F_e(n,t){if(!n)return!1;for(var e=function(s,l){var u=t[s.id],c=t[l.id],d=u!==void 0,p=c!==void 0,h=d&&p,f=!d&&!p;return h?u-c:f?s.__objectId-l.__objectId:d?1:-1},r,i,o=!1,a=0;a<n.length-1;a++)if(r=n[a],i=n[a+1],e(r,i)>0){o=!0;break}return o?(n.sort(e),!0):!1}var I_e=Object.freeze({__proto__:null,sortRowNodesByOrder:F_e});function oG(n){var t=new Set;return n.forEach(function(e){return t.add(e)}),t}var N_e=Object.freeze({__proto__:null,convertToSet:oG}),nn=function(){return nn=Object.assign||function(n){for(var t,e=1,r=arguments.length;e<r;e++){t=arguments[e];for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(n[i]=t[i])}return n},nn.apply(this,arguments)},k_e=nn(nn(nn(nn(nn(nn(nn(nn(nn(nn(nn(nn(nn(nn(nn(nn(nn(nn({},c_e),I0e),d_e),y_e),w_e),k0e),_0e),E_e),g0e),b_e),M_e),q0e),L_e),g_e),C0e),I_e),N_e),K0e),A=k_e,ti=function(){function n(t,e){t===void 0&&(t=0),e===void 0&&(e=1),this.nextValue=t,this.step=e}return n.prototype.next=function(){var t=this.nextValue;return this.nextValue+=this.step,t},n.prototype.peek=function(){return this.nextValue},n.prototype.skip=function(t){this.nextValue+=t},n}(),xh;(function(n){n[n.IN_PROGRESS=0]="IN_PROGRESS",n[n.RESOLVED=1]="RESOLVED"})(xh||(xh={}));var tt=function(){function n(t){var e=this;this.status=xh.IN_PROGRESS,this.resolution=null,this.waiters=[],t(function(r){return e.onDone(r)},function(r){return e.onReject(r)})}return n.all=function(t){return new n(function(e){var r=t.length,i=new Array(r);t.forEach(function(o,a){o.then(function(s){i[a]=s,r--,r===0&&e(i)})})})},n.resolve=function(t){return t===void 0&&(t=null),new n(function(e){return e(t)})},n.prototype.then=function(t){var e=this;return new n(function(r){e.status===xh.RESOLVED?r(t(e.resolution)):e.waiters.push(function(i){return r(t(i))})})},n.prototype.resolveNow=function(t,e){return this.status===xh.RESOLVED?e(this.resolution):t},n.prototype.onDone=function(t){this.status=xh.RESOLVED,this.resolution=t,this.waiters.forEach(function(e){return e(t)})},n.prototype.onReject=function(t){console.warn("TBI")},n}(),G_e=function(){function n(){this.timestamp=new Date().getTime()}return n.prototype.print=function(t){var e=new Date().getTime()-this.timestamp;console.info("".concat(t," = ").concat(e)),this.timestamp=new Date().getTime()},n}(),V_e=function(){var n=function(t,e){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])},n(t,e)};return function(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");n(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}}(),lh=function(){return lh=Object.assign||function(n){for(var t,e=1,r=arguments.length;e<r;e++){t=arguments[e];for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(n[i]=t[i])}return n},lh.apply(this,arguments)},DA=function(n,t,e,r){var i=arguments.length,o=i<3?t:r===null?r=Object.getOwnPropertyDescriptor(t,e):r,a;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(n,t,e,r);else for(var s=n.length-1;s>=0;s--)(a=n[s])&&(o=(i<3?a(o):i>3?a(t,e,o):a(t,e))||o);return i>3&&o&&Object.defineProperty(t,e,o),o},ys;(function(n){n[n.NOTHING=0]="NOTHING",n[n.WAITING_TO_SHOW=1]="WAITING_TO_SHOW",n[n.SHOWING=2]="SHOWING"})(ys||(ys={}));var Sl;(function(n){n[n.HOVER=0]="HOVER",n[n.FOCUS=1]="FOCUS"})(Sl||(Sl={}));var aG=function(n){V_e(t,n);function t(e,r,i){var o=n.call(this)||this;return o.parentComp=e,o.tooltipShowDelayOverride=r,o.tooltipHideDelayOverride=i,o.SHOW_QUICK_TOOLTIP_DIFF=1e3,o.FADE_OUT_TOOLTIP_TIMEOUT=1e3,o.INTERACTIVE_HIDE_DELAY=100,o.interactionEnabled=!1,o.isInteractingWithTooltip=!1,o.state=ys.NOTHING,o.tooltipInstanceCount=0,o.tooltipMouseTrack=!1,o}return t.prototype.postConstruct=function(){this.gridOptionsService.get("tooltipInteraction")&&(this.interactionEnabled=!0),this.tooltipTrigger=this.getTooltipTrigger(),this.tooltipMouseTrack=this.gridOptionsService.get("tooltipMouseTrack");var e=this.parentComp.getGui();this.tooltipTrigger===Sl.HOVER&&(this.addManagedListener(e,"mouseenter",this.onMouseEnter.bind(this)),this.addManagedListener(e,"mouseleave",this.onMouseLeave.bind(this))),this.tooltipTrigger===Sl.FOCUS&&(this.addManagedListener(e,"focusin",this.onFocusIn.bind(this)),this.addManagedListener(e,"focusout",this.onFocusOut.bind(this))),this.addManagedListener(e,"mousemove",this.onMouseMove.bind(this)),this.interactionEnabled||(this.addManagedListener(e,"mousedown",this.onMouseDown.bind(this)),this.addManagedListener(e,"keydown",this.onKeyDown.bind(this)))},t.prototype.getGridOptionsTooltipDelay=function(e){var r=this.gridOptionsService.get(e);return r<0&&Ge("".concat(e," should not be lower than 0")),Math.max(200,r)},t.prototype.getTooltipDelay=function(e){var r,i;return e==="show"?(r=this.tooltipShowDelayOverride)!==null&&r!==void 0?r:this.getGridOptionsTooltipDelay("tooltipShowDelay"):(i=this.tooltipHideDelayOverride)!==null&&i!==void 0?i:this.getGridOptionsTooltipDelay("tooltipHideDelay")},t.prototype.destroy=function(){this.setToDoNothing(),n.prototype.destroy.call(this)},t.prototype.getTooltipTrigger=function(){var e=this.gridOptionsService.get("tooltipTrigger");return!e||e==="hover"?Sl.HOVER:Sl.FOCUS},t.prototype.onMouseEnter=function(e){var r=this;this.interactionEnabled&&this.interactiveTooltipTimeoutId&&(this.unlockService(),this.startHideTimeout()),!yc()&&(t.isLocked?this.showTooltipTimeoutId=window.setTimeout(function(){r.prepareToShowTooltip(e)},this.INTERACTIVE_HIDE_DELAY):this.prepareToShowTooltip(e))},t.prototype.onMouseMove=function(e){this.lastMouseEvent&&(this.lastMouseEvent=e),this.tooltipMouseTrack&&this.state===ys.SHOWING&&this.tooltipComp&&this.positionTooltip()},t.prototype.onMouseDown=function(){this.setToDoNothing()},t.prototype.onMouseLeave=function(){this.interactionEnabled?this.lockService():this.setToDoNothing()},t.prototype.onFocusIn=function(){this.prepareToShowTooltip()},t.prototype.onFocusOut=function(e){var r,i=e.relatedTarget,o=this.parentComp.getGui(),a=(r=this.tooltipComp)===null||r===void 0?void 0:r.getGui();this.isInteractingWithTooltip||o.contains(i)||this.interactionEnabled&&(a!=null&&a.contains(i))||this.setToDoNothing()},t.prototype.onKeyDown=function(){this.setToDoNothing()},t.prototype.prepareToShowTooltip=function(e){if(this.state!=ys.NOTHING||t.isLocked)return!1;var r=0;return e&&(r=this.isLastTooltipHiddenRecently()?200:this.getTooltipDelay("show")),this.lastMouseEvent=e||null,this.showTooltipTimeoutId=window.setTimeout(this.showTooltip.bind(this),r),this.state=ys.WAITING_TO_SHOW,!0},t.prototype.isLastTooltipHiddenRecently=function(){var e=new Date().getTime(),r=t.lastTooltipHideTime;return e-r<this.SHOW_QUICK_TOOLTIP_DIFF},t.prototype.setToDoNothing=function(){this.state===ys.SHOWING&&this.hideTooltip(),this.onBodyScrollEventCallback&&(this.onBodyScrollEventCallback(),this.onBodyScrollEventCallback=void 0),this.onColumnMovedEventCallback&&(this.onColumnMovedEventCallback(),this.onColumnMovedEventCallback=void 0),this.clearTimeouts(),this.state=ys.NOTHING,this.lastMouseEvent=null},t.prototype.showTooltip=function(){var e=lh({},this.parentComp.getTooltipParams());if(!oe(e.value)){this.setToDoNothing();return}this.state=ys.SHOWING,this.tooltipInstanceCount++;var r=this.newTooltipComponentCallback.bind(this,this.tooltipInstanceCount),i=this.userComponentFactory.getTooltipCompDetails(e);i.newAgStackInstance().then(r)},t.prototype.hideTooltip=function(e){if(!(!e&&this.isInteractingWithTooltip)){this.tooltipComp&&(this.destroyTooltipComp(),t.lastTooltipHideTime=new Date().getTime());var r={type:T.EVENT_TOOLTIP_HIDE,parentGui:this.parentComp.getGui()};this.eventService.dispatchEvent(r),this.state=ys.NOTHING}},t.prototype.newTooltipComponentCallback=function(e,r){var i=this.state!==ys.SHOWING||this.tooltipInstanceCount!==e;if(i){this.getContext().destroyBean(r);return}var o=r.getGui();this.tooltipComp=r,o.classList.contains("ag-tooltip")||o.classList.add("ag-tooltip-custom"),this.tooltipTrigger===Sl.HOVER&&o.classList.add("ag-tooltip-animate"),this.interactionEnabled&&o.classList.add("ag-tooltip-interactive");var a=this.localeService.getLocaleTextFunc(),s=this.popupService.addPopup({eChild:o,ariaLabel:a("ariaLabelTooltip","Tooltip")});s&&(this.tooltipPopupDestroyFunc=s.hideFunc),this.positionTooltip(),this.tooltipTrigger===Sl.FOCUS&&(this.onBodyScrollEventCallback=this.addManagedListener(this.eventService,T.EVENT_BODY_SCROLL,this.setToDoNothing.bind(this)),this.onColumnMovedEventCallback=this.addManagedListener(this.eventService,T.EVENT_COLUMN_MOVED,this.setToDoNothing.bind(this))),this.interactionEnabled&&(this.tooltipTrigger===Sl.HOVER?(this.tooltipMouseEnterListener=this.addManagedListener(o,"mouseenter",this.onTooltipMouseEnter.bind(this))||null,this.tooltipMouseLeaveListener=this.addManagedListener(o,"mouseleave",this.onTooltipMouseLeave.bind(this))||null):(this.tooltipFocusInListener=this.addManagedListener(o,"focusin",this.onTooltipFocusIn.bind(this))||null,this.tooltipFocusOutListener=this.addManagedListener(o,"focusout",this.onTooltipFocusOut.bind(this))||null));var l={type:T.EVENT_TOOLTIP_SHOW,tooltipGui:o,parentGui:this.parentComp.getGui()};this.eventService.dispatchEvent(l),this.startHideTimeout()},t.prototype.onTooltipMouseEnter=function(){this.isInteractingWithTooltip=!0,this.unlockService()},t.prototype.onTooltipMouseLeave=function(){this.isInteractingWithTooltip=!1,this.lockService()},t.prototype.onTooltipFocusIn=function(){this.isInteractingWithTooltip=!0},t.prototype.onTooltipFocusOut=function(e){var r,i=this.parentComp.getGui(),o=(r=this.tooltipComp)===null||r===void 0?void 0:r.getGui(),a=e.relatedTarget;o!=null&&o.contains(a)||(this.isInteractingWithTooltip=!1,i.contains(a)?this.startHideTimeout():this.hideTooltip())},t.prototype.positionTooltip=function(){var e={type:"tooltip",ePopup:this.tooltipComp.getGui(),nudgeY:18,skipObserver:this.tooltipMouseTrack};this.lastMouseEvent?this.popupService.positionPopupUnderMouseEvent(lh(lh({},e),{mouseEvent:this.lastMouseEvent})):this.popupService.positionPopupByComponent(lh(lh({},e),{eventSource:this.parentComp.getGui(),position:"under",keepWithinBounds:!0,nudgeY:5}))},t.prototype.destroyTooltipComp=function(){var e=this;this.tooltipComp.getGui().classList.add("ag-tooltip-hiding");var r=this.tooltipPopupDestroyFunc,i=this.tooltipComp,o=this.tooltipTrigger===Sl.HOVER?this.FADE_OUT_TOOLTIP_TIMEOUT:0;window.setTimeout(function(){r(),e.getContext().destroyBean(i)},o),this.clearTooltipListeners(),this.tooltipPopupDestroyFunc=void 0,this.tooltipComp=void 0},t.prototype.clearTooltipListeners=function(){[this.tooltipMouseEnterListener,this.tooltipMouseLeaveListener,this.tooltipFocusInListener,this.tooltipFocusOutListener].forEach(function(e){e&&e()}),this.tooltipMouseEnterListener=this.tooltipMouseLeaveListener=this.tooltipFocusInListener=this.tooltipFocusOutListener=null},t.prototype.lockService=function(){var e=this;t.isLocked=!0,this.interactiveTooltipTimeoutId=window.setTimeout(function(){e.unlockService(),e.setToDoNothing()},this.INTERACTIVE_HIDE_DELAY)},t.prototype.unlockService=function(){t.isLocked=!1,this.clearInteractiveTimeout()},t.prototype.startHideTimeout=function(){this.clearHideTimeout(),this.hideTooltipTimeoutId=window.setTimeout(this.hideTooltip.bind(this),this.getTooltipDelay("hide"))},t.prototype.clearShowTimeout=function(){this.showTooltipTimeoutId&&(window.clearTimeout(this.showTooltipTimeoutId),this.showTooltipTimeoutId=void 0)},t.prototype.clearHideTimeout=function(){this.hideTooltipTimeoutId&&(window.clearTimeout(this.hideTooltipTimeoutId),this.hideTooltipTimeoutId=void 0)},t.prototype.clearInteractiveTimeout=function(){this.interactiveTooltipTimeoutId&&(window.clearTimeout(this.interactiveTooltipTimeoutId),this.interactiveTooltipTimeoutId=void 0)},t.prototype.clearTimeouts=function(){this.clearShowTimeout(),this.clearHideTimeout(),this.clearInteractiveTimeout()},t.isLocked=!1,DA([E("popupService")],t.prototype,"popupService",void 0),DA([E("userComponentFactory")],t.prototype,"userComponentFactory",void 0),DA([z],t.prototype,"postConstruct",null),t}(X),yY=function(){function n(t){this.cssClassStates={},this.getGui=t}return n.prototype.addCssClass=function(t){var e=this,r=(t||"").split(" ");if(r.length>1){r.forEach(function(a){return e.addCssClass(a)});return}var i=this.cssClassStates[t]!==!0;if(i&&t.length){var o=this.getGui();o&&o.classList.add(t),this.cssClassStates[t]=!0}},n.prototype.removeCssClass=function(t){var e=this,r=(t||"").split(" ");if(r.length>1){r.forEach(function(a){return e.removeCssClass(a)});return}var i=this.cssClassStates[t]!==!1;if(i&&t.length){var o=this.getGui();o&&o.classList.remove(t),this.cssClassStates[t]=!1}},n.prototype.containsCssClass=function(t){var e=this.getGui();return e?e.classList.contains(t):!1},n.prototype.addOrRemoveCssClass=function(t,e){var r=this;if(t){if(t.indexOf(" ")>=0){var i=(t||"").split(" ");if(i.length>1){i.forEach(function(s){return r.addOrRemoveCssClass(s,e)});return}}var o=this.cssClassStates[t]!==e;if(o&&t.length){var a=this.getGui();a&&a.classList.toggle(t,e),this.cssClassStates[t]=e}}},n}(),B_e=function(){var n=function(t,e){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])},n(t,e)};return function(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");n(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}}(),MA=function(n,t,e,r){var i=arguments.length,o=i<3?t:r===null?r=Object.getOwnPropertyDescriptor(t,e):r,a;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(n,t,e,r);else for(var s=n.length-1;s>=0;s--)(a=n[s])&&(o=(i<3?a(o):i>3?a(t,e,o):a(t,e))||o);return i>3&&o&&Object.defineProperty(t,e,o),o},H_e=new ti,ae=function(n){B_e(t,n);function t(e){var r=n.call(this)||this;return r.displayed=!0,r.visible=!0,r.compId=H_e.next(),r.cssClassManager=new yY(function(){return r.eGui}),e&&r.setTemplate(e),r}return t.prototype.preConstructOnComponent=function(){this.usingBrowserTooltips=this.gridOptionsService.get("enableBrowserTooltips")},t.prototype.getCompId=function(){return this.compId},t.prototype.getTooltipParams=function(){return{value:this.tooltipText,location:"UNKNOWN"}},t.prototype.setTooltip=function(e,r,i){var o=this,a=function(){o.usingBrowserTooltips?o.getGui().removeAttribute("title"):o.tooltipFeature=o.destroyBean(o.tooltipFeature)},s=function(){o.usingBrowserTooltips?o.getGui().setAttribute("title",o.tooltipText):o.tooltipFeature=o.createBean(new aG(o,r,i))};this.tooltipText!=e&&(this.tooltipText&&a(),e!=null&&(this.tooltipText=e,this.tooltipText&&s()))},t.prototype.createChildComponentsFromTags=function(e,r){var i=this,o=cY(e.childNodes);o.forEach(function(a){if(a instanceof HTMLElement){var s=i.createComponentFromElement(a,function(u){var c=u.getGui();c&&i.copyAttributesFromNode(a,u.getGui())},r);if(s){if(s.addItems&&a.children.length){i.createChildComponentsFromTags(a,r);var l=Array.prototype.slice.call(a.children);s.addItems(l)}i.swapComponentForNode(s,e,a)}else a.childNodes&&i.createChildComponentsFromTags(a,r)}})},t.prototype.createComponentFromElement=function(e,r,i){var o=e.nodeName,a=i?i[e.getAttribute("ref")]:void 0,s=this.agStackComponentsRegistry.getComponentClass(o);if(s){t.elementGettingCreated=e;var l=new s(a);return l.setParentComponent(this),this.createBean(l,null,r),l}return null},t.prototype.copyAttributesFromNode=function(e,r){dY(e.attributes,function(i,o){return r.setAttribute(i,o)})},t.prototype.swapComponentForNode=function(e,r,i){var o=e.getGui();r.replaceChild(o,i),r.insertBefore(document.createComment(i.nodeName),o),this.addDestroyFunc(this.destroyBean.bind(this,e)),this.swapInComponentForQuerySelectors(e,i)},t.prototype.swapInComponentForQuerySelectors=function(e,r){var i=this;this.iterateOverQuerySelectors(function(o){i[o.attributeName]===r&&(i[o.attributeName]=e)})},t.prototype.iterateOverQuerySelectors=function(e){for(var r=Object.getPrototypeOf(this);r!=null;){var i=r.__agComponentMetaData,o=dT(r.constructor);i&&i[o]&&i[o].querySelectors&&i[o].querySelectors.forEach(function(a){return e(a)}),r=Object.getPrototypeOf(r)}},t.prototype.activateTabIndex=function(e){var r=this.gridOptionsService.get("tabIndex");e||(e=[]),e.length||e.push(this.getGui()),e.forEach(function(i){return i.setAttribute("tabindex",r.toString())})},t.prototype.setTemplate=function(e,r){var i=fo(e);this.setTemplateFromElement(i,r)},t.prototype.setTemplateFromElement=function(e,r){this.eGui=e,this.eGui.__agComponent=this,this.wireQuerySelectors(),this.getContext()&&this.createChildComponentsFromTags(this.getGui(),r)},t.prototype.createChildComponentsPreConstruct=function(){this.getGui()&&this.createChildComponentsFromTags(this.getGui())},t.prototype.wireQuerySelectors=function(){var e=this;if(this.eGui){var r=this;this.iterateOverQuerySelectors(function(i){var o=function(l){return r[i.attributeName]=l},a=i.refSelector&&e.getAttribute("ref")===i.refSelector;if(a)o(e.eGui);else{var s=e.eGui.querySelector(i.querySelector);s&&o(s.__agComponent||s)}})}},t.prototype.getGui=function(){return this.eGui},t.prototype.getFocusableElement=function(){return this.eGui},t.prototype.getAriaElement=function(){return this.getFocusableElement()},t.prototype.setParentComponent=function(e){this.parentComponent=e},t.prototype.getParentComponent=function(){return this.parentComponent},t.prototype.setGui=function(e){this.eGui=e},t.prototype.queryForHtmlElement=function(e){return this.eGui.querySelector(e)},t.prototype.queryForHtmlInputElement=function(e){return this.eGui.querySelector(e)},t.prototype.appendChild=function(e,r){if(e!=null)if(r||(r=this.eGui),kw(e))r.appendChild(e);else{var i=e;r.appendChild(i.getGui())}},t.prototype.isDisplayed=function(){return this.displayed},t.prototype.setVisible=function(e,r){if(r===void 0&&(r={}),e!==this.visible){this.visible=e;var i=r.skipAriaHidden;aY(this.eGui,e,{skipAriaHidden:i})}},t.prototype.setDisplayed=function(e,r){if(r===void 0&&(r={}),e!==this.displayed){this.displayed=e;var i=r.skipAriaHidden;Ct(this.eGui,e,{skipAriaHidden:i});var o={type:t.EVENT_DISPLAYED_CHANGED,visible:this.displayed};this.dispatchEvent(o)}},t.prototype.destroy=function(){this.tooltipFeature&&(this.tooltipFeature=this.destroyBean(this.tooltipFeature)),this.parentComponent&&(this.parentComponent=void 0);var e=this.eGui;e&&e.__agComponent&&(e.__agComponent=void 0),n.prototype.destroy.call(this)},t.prototype.addGuiEventListener=function(e,r,i){var o=this;this.eGui.addEventListener(e,r,i),this.addDestroyFunc(function(){return o.eGui.removeEventListener(e,r)})},t.prototype.addCssClass=function(e){this.cssClassManager.addCssClass(e)},t.prototype.removeCssClass=function(e){this.cssClassManager.removeCssClass(e)},t.prototype.containsCssClass=function(e){return this.cssClassManager.containsCssClass(e)},t.prototype.addOrRemoveCssClass=function(e,r){this.cssClassManager.addOrRemoveCssClass(e,r)},t.prototype.getAttribute=function(e){var r=this.eGui;return r?r.getAttribute(e):null},t.prototype.getRefElement=function(e){return this.queryForHtmlElement('[ref="'.concat(e,'"]'))},t.EVENT_DISPLAYED_CHANGED="displayedChanged",MA([E("agStackComponentsRegistry")],t.prototype,"agStackComponentsRegistry",void 0),MA([Zh],t.prototype,"preConstructOnComponent",null),MA([Zh],t.prototype,"createChildComponentsPreConstruct",null),t}(X);function j_e(n){return mY.bind(this,n,void 0)}function j(n){return mY.bind(this,"[ref=".concat(n,"]"),n)}function mY(n,t,e,r,i){if(n===null){console.error("AG Grid: QuerySelector selector should not be null");return}if(typeof i=="number"){console.error("AG Grid: QuerySelector should be on an attribute");return}$_e(e,"querySelectors",{attributeName:r,querySelector:n,refSelector:t})}function $_e(n,t,e){var r=W_e(n,dT(n.constructor));r[t]||(r[t]=[]),r[t].push(e)}function W_e(n,t){return n.__agComponentMetaData||(n.__agComponentMetaData={}),n.__agComponentMetaData[t]||(n.__agComponentMetaData[t]={}),n.__agComponentMetaData[t]}var U_e=function(){var n=function(t,e){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])},n(t,e)};return function(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");n(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}}(),n$=function(n,t,e,r){var i=arguments.length,o=i<3?t:r===null?r=Object.getOwnPropertyDescriptor(t,e):r,a;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(n,t,e,r);else for(var s=n.length-1;s>=0;s--)(a=n[s])&&(o=(i<3?a(o):i>3?a(t,e,o):a(t,e))||o);return i>3&&o&&Object.defineProperty(t,e,o),o},z_e=function(n){U_e(t,n);function t(){return n.call(this,`
            <div class="ag-floating-filter-input" role="presentation">
                <ag-input-text-field ref="eFloatingFilterText"></ag-input-text-field>
            </div>`)||this}return t.prototype.destroy=function(){n.prototype.destroy.call(this)},t.prototype.init=function(e){this.params=e;var r=this.columnModel.getDisplayNameForColumn(e.column,"header",!0),i=this.localeService.getLocaleTextFunc();this.eFloatingFilterText.setDisabled(!0).setInputAriaLabel("".concat(r," ").concat(i("ariaFilterInput","Filter Input")))},t.prototype.onParentModelChanged=function(e){var r=this;if(e==null){this.eFloatingFilterText.setValue("");return}this.params.parentFilterInstance(function(i){if(i.getModelAsString){var o=i.getModelAsString(e);r.eFloatingFilterText.setValue(o)}})},t.prototype.onParamsUpdated=function(e){this.refresh(e)},t.prototype.refresh=function(e){this.init(e)},n$([j("eFloatingFilterText")],t.prototype,"eFloatingFilterText",void 0),n$([E("columnModel")],t.prototype,"columnModel",void 0),t}(ae),CY=function(){function n(t,e,r,i){var o=this;this.alive=!0,this.context=t,this.eParent=i;var a=e.getDateCompDetails(r),s=a.newAgStackInstance();s.then(function(l){if(!o.alive){t.destroyBean(l);return}o.dateComp=l,l&&(i.appendChild(l.getGui()),l.afterGuiAttached&&l.afterGuiAttached(),o.tempValue&&l.setDate(o.tempValue),o.disabled!=null&&o.setDateCompDisabled(o.disabled))})}return n.prototype.destroy=function(){this.alive=!1,this.dateComp=this.context.destroyBean(this.dateComp)},n.prototype.getDate=function(){return this.dateComp?this.dateComp.getDate():this.tempValue},n.prototype.setDate=function(t){this.dateComp?this.dateComp.setDate(t):this.tempValue=t},n.prototype.setDisabled=function(t){this.dateComp?this.setDateCompDisabled(t):this.disabled=t},n.prototype.setDisplayed=function(t){Ct(this.eParent,t)},n.prototype.setInputPlaceholder=function(t){this.dateComp&&this.dateComp.setInputPlaceholder&&this.dateComp.setInputPlaceholder(t)},n.prototype.setInputAriaLabel=function(t){this.dateComp&&this.dateComp.setInputAriaLabel&&this.dateComp.setInputAriaLabel(t)},n.prototype.afterGuiAttached=function(t){this.dateComp&&typeof this.dateComp.afterGuiAttached=="function"&&this.dateComp.afterGuiAttached(t)},n.prototype.updateParams=function(t){var e,r,i=!1;if(!((e=this.dateComp)===null||e===void 0)&&e.refresh&&typeof this.dateComp.refresh=="function"){var o=this.dateComp.refresh(t);o!==null&&(i=!0)}if(!i&&(!((r=this.dateComp)===null||r===void 0)&&r.onParamsUpdated)&&typeof this.dateComp.onParamsUpdated=="function"){var o=this.dateComp.onParamsUpdated(t);o!==null&&Ge("Custom date component method 'onParamsUpdated' is deprecated. Use 'refresh' instead.")}},n.prototype.setDateCompDisabled=function(t){this.dateComp!=null&&this.dateComp.setDisabled!=null&&this.dateComp.setDisabled(t)},n}(),SY=function(){function n(){this.customFilterOptions={}}return n.prototype.init=function(t,e){this.filterOptions=t.filterOptions||e,this.mapCustomOptions(),this.selectDefaultItem(t)},n.prototype.getFilterOptions=function(){return this.filterOptions},n.prototype.mapCustomOptions=function(){var t=this;this.filterOptions&&this.filterOptions.forEach(function(e){if(typeof e!="string"){var r=[["displayKey"],["displayName"],["predicate","test"]],i=function(o){return o.some(function(a){return e[a]!=null})?!0:(console.warn("AG Grid: ignoring FilterOptionDef as it doesn't contain one of '".concat(o,"'")),!1)};if(!r.every(i)){t.filterOptions=t.filterOptions.filter(function(o){return o===e})||[];return}t.customFilterOptions[e.displayKey]=e}})},n.prototype.selectDefaultItem=function(t){if(t.defaultOption)this.defaultOption=t.defaultOption;else if(this.filterOptions.length>=1){var e=this.filterOptions[0];typeof e=="string"?this.defaultOption=e:e.displayKey?this.defaultOption=e.displayKey:console.warn("AG Grid: invalid FilterOptionDef supplied as it doesn't contain a 'displayKey'")}else console.warn("AG Grid: no filter options for filter")},n.prototype.getDefaultOption=function(){return this.defaultOption},n.prototype.getCustomOption=function(t){return this.customFilterOptions[t]},n}(),wY={applyFilter:"Apply",clearFilter:"Clear",resetFilter:"Reset",cancelFilter:"Cancel",textFilter:"Text Filter",numberFilter:"Number Filter",dateFilter:"Date Filter",setFilter:"Set Filter",filterOoo:"Filter...",empty:"Choose one",equals:"Equals",notEqual:"Does not equal",lessThan:"Less than",greaterThan:"Greater than",inRange:"Between",inRangeStart:"From",inRangeEnd:"To",lessThanOrEqual:"Less than or equal to",greaterThanOrEqual:"Greater than or equal to",contains:"Contains",notContains:"Does not contain",startsWith:"Begins with",endsWith:"Ends with",blank:"Blank",notBlank:"Not blank",before:"Before",after:"After",andCondition:"AND",orCondition:"OR",dateFormatOoo:"yyyy-mm-dd"},K_e=function(){var n=function(t,e){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])},n(t,e)};return function(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");n(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}}(),mF=function(){return mF=Object.assign||function(n){for(var t,e=1,r=arguments.length;e<r;e++){t=arguments[e];for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(n[i]=t[i])}return n},mF.apply(this,arguments)},i$=function(n,t,e,r){var i=arguments.length,o=i<3?t:r===null?r=Object.getOwnPropertyDescriptor(t,e):r,a;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(n,t,e,r);else for(var s=n.length-1;s>=0;s--)(a=n[s])&&(o=(i<3?a(o):i>3?a(t,e,o):a(t,e))||o);return i>3&&o&&Object.defineProperty(t,e,o),o},au=function(n){K_e(t,n);function t(e,r){r===void 0&&(r={});var i=n.call(this)||this;return i.eFocusableElement=e,i.callbacks=r,i.callbacks=mF({shouldStopEventPropagation:function(){return!1},onTabKeyDown:function(o){if(!o.defaultPrevented){var a=i.focusService.findNextFocusableElement(i.eFocusableElement,!1,o.shiftKey);a&&(a.focus(),o.preventDefault())}}},r),i}return t.prototype.postConstruct=function(){this.eFocusableElement.classList.add(t.FOCUS_MANAGED_CLASS),this.addKeyDownListeners(this.eFocusableElement),this.callbacks.onFocusIn&&this.addManagedListener(this.eFocusableElement,"focusin",this.callbacks.onFocusIn),this.callbacks.onFocusOut&&this.addManagedListener(this.eFocusableElement,"focusout",this.callbacks.onFocusOut)},t.prototype.addKeyDownListeners=function(e){var r=this;this.addManagedListener(e,"keydown",function(i){if(!(i.defaultPrevented||Fs(i))){if(r.callbacks.shouldStopEventPropagation(i)){Gs(i);return}i.key===U.TAB?r.callbacks.onTabKeyDown(i):r.callbacks.handleKeyDown&&r.callbacks.handleKeyDown(i)}})},t.FOCUS_MANAGED_CLASS="ag-focus-managed",i$([E("focusService")],t.prototype,"focusService",void 0),i$([z],t.prototype,"postConstruct",null),t}(X),Y_e=function(){var n=function(t,e){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])},n(t,e)};return function(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");n(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}}(),LA=function(n,t,e,r){var i=arguments.length,o=i<3?t:r===null?r=Object.getOwnPropertyDescriptor(t,e):r,a;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(n,t,e,r);else for(var s=n.length-1;s>=0;s--)(a=n[s])&&(o=(i<3?a(o):i>3?a(t,e,o):a(t,e))||o);return i>3&&o&&Object.defineProperty(t,e,o),o},_Y="ag-resizer-wrapper",X_e='<div class="'.concat(_Y,`">
        <div ref="eTopLeftResizer" class="ag-resizer ag-resizer-topLeft"></div>
        <div ref="eTopResizer" class="ag-resizer ag-resizer-top"></div>
        <div ref="eTopRightResizer" class="ag-resizer ag-resizer-topRight"></div>
        <div ref="eRightResizer" class="ag-resizer ag-resizer-right"></div>
        <div ref="eBottomRightResizer" class="ag-resizer ag-resizer-bottomRight"></div>
        <div ref="eBottomResizer" class="ag-resizer ag-resizer-bottom"></div>
        <div ref="eBottomLeftResizer" class="ag-resizer ag-resizer-bottomLeft"></div>
        <div ref="eLeftResizer" class="ag-resizer ag-resizer-left"></div>
    </div>`),Vw=function(n){Y_e(t,n);function t(e,r){var i=n.call(this)||this;return i.element=e,i.dragStartPosition={x:0,y:0},i.position={x:0,y:0},i.lastSize={width:-1,height:-1},i.positioned=!1,i.resizersAdded=!1,i.resizeListeners=[],i.boundaryEl=null,i.isResizing=!1,i.isMoving=!1,i.resizable={},i.movable=!1,i.currentResizer=null,i.config=Object.assign({},{popup:!1},r),i}return t.prototype.center=function(){var e=this.offsetParent,r=e.clientHeight,i=e.clientWidth,o=i/2-this.getWidth()/2,a=r/2-this.getHeight()/2;this.offsetElement(o,a)},t.prototype.initialisePosition=function(){if(!this.positioned){var e=this.config,r=e.centered,i=e.forcePopupParentAsOffsetParent,o=e.minWidth,a=e.width,s=e.minHeight,l=e.height,u=e.x,c=e.y;this.offsetParent||this.setOffsetParent();var d=0,p=0,h=ca(this.element);if(h){var f=this.findBoundaryElement(),v=window.getComputedStyle(f);if(v.minWidth!=null){var g=f.offsetWidth-this.element.offsetWidth;p=parseInt(v.minWidth,10)-g}if(v.minHeight!=null){var y=f.offsetHeight-this.element.offsetHeight;d=parseInt(v.minHeight,10)-y}}if(this.minHeight=s||d,this.minWidth=o||p,a&&this.setWidth(a),l&&this.setHeight(l),(!a||!l)&&this.refreshSize(),r)this.center();else if(u||c)this.offsetElement(u,c);else if(h&&i){var f=this.boundaryEl,m=!0;if(f||(f=this.findBoundaryElement(),m=!1),f){var C=parseFloat(f.style.top),S=parseFloat(f.style.left);m?this.offsetElement(isNaN(S)?0:S,isNaN(C)?0:C):this.setPosition(S,C)}}this.positioned=!!this.offsetParent}},t.prototype.isPositioned=function(){return this.positioned},t.prototype.getPosition=function(){return this.position},t.prototype.setMovable=function(e,r){if(!(!this.config.popup||e===this.movable)){this.movable=e;var i=this.moveElementDragListener||{eElement:r,onDragStart:this.onMoveStart.bind(this),onDragging:this.onMove.bind(this),onDragStop:this.onMoveEnd.bind(this)};e?(this.dragService.addDragSource(i),this.moveElementDragListener=i):(this.dragService.removeDragSource(i),this.moveElementDragListener=void 0)}},t.prototype.setResizable=function(e){var r=this;if(this.clearResizeListeners(),e?this.addResizers():this.removeResizers(),typeof e=="boolean"){if(e===!1)return;e={topLeft:e,top:e,topRight:e,right:e,bottomRight:e,bottom:e,bottomLeft:e,left:e}}Object.keys(e).forEach(function(i){var o=e,a=!!o[i],s=r.getResizerElement(i),l={dragStartPixels:0,eElement:s,onDragStart:function(u){return r.onResizeStart(u,i)},onDragging:r.onResize.bind(r),onDragStop:function(u){return r.onResizeEnd(u,i)}};(a||!r.isAlive()&&!a)&&(a?(r.dragService.addDragSource(l),r.resizeListeners.push(l),s.style.pointerEvents="all"):s.style.pointerEvents="none",r.resizable[i]=a)})},t.prototype.removeSizeFromEl=function(){this.element.style.removeProperty("height"),this.element.style.removeProperty("width"),this.element.style.removeProperty("flex")},t.prototype.restoreLastSize=function(){this.element.style.flex="0 0 auto";var e=this.lastSize,r=e.height,i=e.width;i!==-1&&(this.element.style.width="".concat(i,"px")),r!==-1&&(this.element.style.height="".concat(r,"px"))},t.prototype.getHeight=function(){return this.element.offsetHeight},t.prototype.setHeight=function(e){var r=this.config.popup,i=this.element,o=!1;if(typeof e=="string"&&e.indexOf("%")!==-1)Nh(i,e),e=qk(i),o=!0;else if(e=Math.max(this.minHeight,e),this.positioned){var a=this.getAvailableHeight();a&&e>a&&(e=a)}this.getHeight()!==e&&(o?(i.style.maxHeight="unset",i.style.minHeight="unset"):r?Nh(i,e):(i.style.height="".concat(e,"px"),i.style.flex="0 0 auto",this.lastSize.height=typeof e=="number"?e:parseFloat(e)))},t.prototype.getAvailableHeight=function(){var e=this.config,r=e.popup,i=e.forcePopupParentAsOffsetParent;this.positioned||this.initialisePosition();var o=this.offsetParent.clientHeight;if(!o)return null;var a=this.element.getBoundingClientRect(),s=this.offsetParent.getBoundingClientRect(),l=r?this.position.y:a.top,u=r?0:s.top,c=0;if(i){var d=this.element.parentElement;if(d){var p=d.getBoundingClientRect().bottom;c=p-a.bottom}}var h=o+u-l-c;return h},t.prototype.getWidth=function(){return this.element.offsetWidth},t.prototype.setWidth=function(e){var r=this.element,i=this.config.popup,o=!1;if(typeof e=="string"&&e.indexOf("%")!==-1)Ka(r,e),e=NS(r),o=!0;else if(this.positioned){e=Math.max(this.minWidth,e);var a=this.offsetParent.clientWidth,s=i?this.position.x:this.element.getBoundingClientRect().left;a&&e+s>a&&(e=a-s)}this.getWidth()!==e&&(o?(r.style.maxWidth="unset",r.style.minWidth="unset"):this.config.popup?Ka(r,e):(r.style.width="".concat(e,"px"),r.style.flex=" unset",this.lastSize.width=typeof e=="number"?e:parseFloat(e)))},t.prototype.offsetElement=function(e,r){e===void 0&&(e=0),r===void 0&&(r=0);var i=this.config.forcePopupParentAsOffsetParent,o=i?this.boundaryEl:this.element;o&&(this.popupService.positionPopup({ePopup:o,keepWithinBounds:!0,skipObserver:this.movable||this.isResizable(),updatePosition:function(){return{x:e,y:r}}}),this.setPosition(parseFloat(o.style.left),parseFloat(o.style.top)))},t.prototype.constrainSizeToAvailableHeight=function(e){var r=this;if(this.config.forcePopupParentAsOffsetParent){var i=function(){var o=r.getAvailableHeight();r.element.style.setProperty("max-height","".concat(o,"px"))};e?this.resizeObserverSubscriber=this.resizeObserverService.observeResize(this.popupService.getPopupParent(),i):(this.element.style.removeProperty("max-height"),this.resizeObserverSubscriber&&(this.resizeObserverSubscriber(),this.resizeObserverSubscriber=void 0))}},t.prototype.setPosition=function(e,r){this.position.x=e,this.position.y=r},t.prototype.updateDragStartPosition=function(e,r){this.dragStartPosition={x:e,y:r}},t.prototype.calculateMouseMovement=function(e){var r=e.e,i=e.isLeft,o=e.isTop,a=e.anywhereWithin,s=e.topBuffer,l=r.clientX-this.dragStartPosition.x,u=r.clientY-this.dragStartPosition.y,c=this.shouldSkipX(r,!!i,!!a,l)?0:l,d=this.shouldSkipY(r,!!o,s,u)?0:u;return{movementX:c,movementY:d}},t.prototype.shouldSkipX=function(e,r,i,o){var a=this.element.getBoundingClientRect(),s=this.offsetParent.getBoundingClientRect(),l=this.boundaryEl.getBoundingClientRect(),u=this.config.popup?this.position.x:a.left,c=u<=0&&s.left>=e.clientX||s.right<=e.clientX&&s.right<=l.right;return c?!0:(r?c=o<0&&e.clientX>u+s.left||o>0&&e.clientX<u+s.left:i?c=o<0&&e.clientX>l.right||o>0&&e.clientX<u+s.left:c=o<0&&e.clientX>l.right||o>0&&e.clientX<l.right,c)},t.prototype.shouldSkipY=function(e,r,i,o){i===void 0&&(i=0);var a=this.element.getBoundingClientRect(),s=this.offsetParent.getBoundingClientRect(),l=this.boundaryEl.getBoundingClientRect(),u=this.config.popup?this.position.y:a.top,c=u<=0&&s.top>=e.clientY||s.bottom<=e.clientY&&s.bottom<=l.bottom;return c?!0:(r?c=o<0&&e.clientY>u+s.top+i||o>0&&e.clientY<u+s.top:c=o<0&&e.clientY>l.bottom||o>0&&e.clientY<l.bottom,c)},t.prototype.createResizeMap=function(){var e=this.element;this.resizerMap={topLeft:{element:e.querySelector("[ref=eTopLeftResizer]")},top:{element:e.querySelector("[ref=eTopResizer]")},topRight:{element:e.querySelector("[ref=eTopRightResizer]")},right:{element:e.querySelector("[ref=eRightResizer]")},bottomRight:{element:e.querySelector("[ref=eBottomRightResizer]")},bottom:{element:e.querySelector("[ref=eBottomResizer]")},bottomLeft:{element:e.querySelector("[ref=eBottomLeftResizer]")},left:{element:e.querySelector("[ref=eLeftResizer]")}}},t.prototype.addResizers=function(){if(!this.resizersAdded){var e=this.element;if(e){var r=new DOMParser,i=r.parseFromString(X_e,"text/html").body;e.appendChild(i.firstChild),this.createResizeMap(),this.resizersAdded=!0}}},t.prototype.removeResizers=function(){this.resizerMap=void 0;var e=this.element.querySelector(".".concat(_Y));e&&this.element.removeChild(e),this.resizersAdded=!1},t.prototype.getResizerElement=function(e){return this.resizerMap[e].element},t.prototype.onResizeStart=function(e,r){this.boundaryEl=this.findBoundaryElement(),this.positioned||this.initialisePosition(),this.currentResizer={isTop:!!r.match(/top/i),isRight:!!r.match(/right/i),isBottom:!!r.match(/bottom/i),isLeft:!!r.match(/left/i)},this.element.classList.add("ag-resizing"),this.resizerMap[r].element.classList.add("ag-active");var i=this.config,o=i.popup,a=i.forcePopupParentAsOffsetParent;!o&&!a&&this.applySizeToSiblings(this.currentResizer.isBottom||this.currentResizer.isTop),this.isResizing=!0,this.updateDragStartPosition(e.clientX,e.clientY)},t.prototype.getSiblings=function(){var e=this.element,r=e.parentElement;return r?Array.prototype.slice.call(r.children).filter(function(i){return!i.classList.contains("ag-hidden")}):null},t.prototype.getMinSizeOfSiblings=function(){for(var e=this.getSiblings()||[],r=0,i=0,o=0;o<e.length;o++){var a=e[o],s=!!a.style.flex&&a.style.flex!=="0 0 auto";if(a!==this.element){var l=this.minHeight||0,u=this.minWidth||0;if(s){var c=window.getComputedStyle(a);c.minHeight&&(l=parseInt(c.minHeight,10)),c.minWidth&&(u=parseInt(c.minWidth,10))}else l=a.offsetHeight,u=a.offsetWidth;r+=l,i+=u}}return{height:r,width:i}},t.prototype.applySizeToSiblings=function(e){var r=null,i=this.getSiblings();if(i){for(var o=0;o<i.length;o++){var a=i[o];a!==r&&(e?a.style.height="".concat(a.offsetHeight,"px"):a.style.width="".concat(a.offsetWidth,"px"),a.style.flex="0 0 auto",a===this.element&&(r=i[o+1]))}r&&(r.style.removeProperty("height"),r.style.removeProperty("min-height"),r.style.removeProperty("max-height"),r.style.flex="1 1 auto")}},t.prototype.isResizable=function(){return Object.values(this.resizable).some(function(e){return e})},t.prototype.onResize=function(e){if(!(!this.isResizing||!this.currentResizer)){var r=this.config,i=r.popup,o=r.forcePopupParentAsOffsetParent,a=this.currentResizer,s=a.isTop,l=a.isRight,u=a.isBottom,c=a.isLeft,d=l||c,p=u||s,h=this.calculateMouseMovement({e,isLeft:c,isTop:s}),f=h.movementX,v=h.movementY,g=this.position.x,y=this.position.y,m=0,C=0;if(d&&f){var S=c?-1:1,w=this.getWidth(),_=w+f*S,x=!1;c&&(m=w-_,(g+m<=0||_<=this.minWidth)&&(x=!0,m=0)),x||this.setWidth(_)}if(p&&v){var S=s?-1:1,b=this.getHeight(),O=b+v*S,P=!1;s?(C=b-O,(y+C<=0||O<=this.minHeight)&&(P=!0,C=0)):!this.config.popup&&!this.config.forcePopupParentAsOffsetParent&&b<O&&this.getMinSizeOfSiblings().height+O>this.element.parentElement.offsetHeight&&(P=!0),P||this.setHeight(O)}this.updateDragStartPosition(e.clientX,e.clientY),((i||o)&&m||C)&&this.offsetElement(g+m,y+C)}},t.prototype.onResizeEnd=function(e,r){this.isResizing=!1,this.currentResizer=null,this.boundaryEl=null;var i={type:"resize"};this.element.classList.remove("ag-resizing"),this.resizerMap[r].element.classList.remove("ag-active"),this.dispatchEvent(i)},t.prototype.refreshSize=function(){var e=this.element;this.config.popup&&(this.config.width||this.setWidth(e.offsetWidth),this.config.height||this.setHeight(e.offsetHeight))},t.prototype.onMoveStart=function(e){this.boundaryEl=this.findBoundaryElement(),this.positioned||this.initialisePosition(),this.isMoving=!0,this.element.classList.add("ag-moving"),this.updateDragStartPosition(e.clientX,e.clientY)},t.prototype.onMove=function(e){if(this.isMoving){var r=this.position,i=r.x,o=r.y,a;this.config.calculateTopBuffer&&(a=this.config.calculateTopBuffer());var s=this.calculateMouseMovement({e,isTop:!0,anywhereWithin:!0,topBuffer:a}),l=s.movementX,u=s.movementY;this.offsetElement(i+l,o+u),this.updateDragStartPosition(e.clientX,e.clientY)}},t.prototype.onMoveEnd=function(){this.isMoving=!1,this.boundaryEl=null,this.element.classList.remove("ag-moving")},t.prototype.setOffsetParent=function(){this.config.forcePopupParentAsOffsetParent?this.offsetParent=this.popupService.getPopupParent():this.offsetParent=this.element.offsetParent},t.prototype.findBoundaryElement=function(){for(var e=this.element;e;){if(window.getComputedStyle(e).position!=="static")return e;e=e.parentElement}return this.element},t.prototype.clearResizeListeners=function(){for(;this.resizeListeners.length;){var e=this.resizeListeners.pop();this.dragService.removeDragSource(e)}},t.prototype.destroy=function(){n.prototype.destroy.call(this),this.moveElementDragListener&&this.dragService.removeDragSource(this.moveElementDragListener),this.constrainSizeToAvailableHeight(!1),this.clearResizeListeners(),this.removeResizers()},LA([E("popupService")],t.prototype,"popupService",void 0),LA([E("resizeObserverService")],t.prototype,"resizeObserverService",void 0),LA([E("dragService")],t.prototype,"dragService",void 0),t}(X),q_e=function(){var n=function(t,e){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])},n(t,e)};return function(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");n(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}}(),FA=function(n,t,e,r){var i=arguments.length,o=i<3?t:r===null?r=Object.getOwnPropertyDescriptor(t,e):r,a;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(n,t,e,r);else for(var s=n.length-1;s>=0;s--)(a=n[s])&&(o=(i<3?a(o):i>3?a(t,e,o):a(t,e))||o);return i>3&&o&&Object.defineProperty(t,e,o),o},Yd=function(n){q_e(t,n);function t(e){var r=n.call(this)||this;return r.filterNameKey=e,r.applyActive=!1,r.hidePopup=null,r.debouncePending=!1,r.appliedModel=null,r.buttonListeners=[],r}return t.prototype.postConstruct=function(){this.resetTemplate(),this.createManagedBean(new au(this.getFocusableElement(),{handleKeyDown:this.handleKeyDown.bind(this)})),this.positionableFeature=new Vw(this.getPositionableElement(),{forcePopupParentAsOffsetParent:!0}),this.createBean(this.positionableFeature)},t.prototype.handleKeyDown=function(e){},t.prototype.getFilterTitle=function(){return this.translate(this.filterNameKey)},t.prototype.isFilterActive=function(){return!!this.appliedModel},t.prototype.resetTemplate=function(e){var r=this.getGui();r&&r.removeEventListener("submit",this.onFormSubmit);var i=`
            <form class="ag-filter-wrapper">
                <div class="ag-filter-body-wrapper ag-`.concat(this.getCssIdentifier(),`-body-wrapper" ref="eFilterBody">
                    `).concat(this.createBodyTemplate(),`
                </div>
            </form>`);this.setTemplate(i,e),r=this.getGui(),r&&r.addEventListener("submit",this.onFormSubmit)},t.prototype.isReadOnly=function(){return!!this.providedFilterParams.readOnly},t.prototype.init=function(e){var r=this;this.setParams(e),this.resetUiToDefaults(!0).then(function(){r.updateUiVisibility(),r.setupOnBtApplyDebounce()})},t.prototype.setParams=function(e){this.providedFilterParams=e,this.applyActive=t.isUseApplyButton(e),this.resetButtonsPanel()},t.prototype.updateParams=function(e){var r=this;this.providedFilterParams=e,this.applyActive=t.isUseApplyButton(e),this.resetUiToActiveModel(this.getModel(),function(){r.updateUiVisibility(),r.setupOnBtApplyDebounce()})},t.prototype.resetButtonsPanel=function(){var e=this,r=this.providedFilterParams.buttons,i=r&&r.length>0&&!this.isReadOnly();if(this.eButtonsPanel?(Rn(this.eButtonsPanel),this.buttonListeners.forEach(function(s){return s==null?void 0:s()}),this.buttonListeners=[]):i&&(this.eButtonsPanel=document.createElement("div"),this.eButtonsPanel.classList.add("ag-filter-apply-panel")),!i){this.eButtonsPanel&&Nl(this.eButtonsPanel);return}var o=document.createDocumentFragment(),a=function(s){var l,u;switch(s){case"apply":l=e.translate("applyFilter"),u=function(p){return e.onBtApply(!1,!1,p)};break;case"clear":l=e.translate("clearFilter"),u=function(){return e.onBtClear()};break;case"reset":l=e.translate("resetFilter"),u=function(){return e.onBtReset()};break;case"cancel":l=e.translate("cancelFilter"),u=function(p){e.onBtCancel(p)};break;default:console.warn("AG Grid: Unknown button type specified");return}var c=s==="apply"?"submit":"button",d=fo(`<button
                    type="`.concat(c,`"
                    ref="`).concat(s,`FilterButton"
                    class="ag-button ag-standard-button ag-filter-apply-panel-button"
                >`).concat(l,`
                </button>`));e.buttonListeners.push(e.addManagedListener(d,"click",u)),o.append(d)};oG(r).forEach(function(s){return a(s)}),this.eButtonsPanel.append(o),this.getGui().appendChild(this.eButtonsPanel)},t.prototype.getDefaultDebounceMs=function(){return 0},t.prototype.setupOnBtApplyDebounce=function(){var e=this,r=t.getDebounceMs(this.providedFilterParams,this.getDefaultDebounceMs()),i=ia(this.checkApplyDebounce.bind(this),r);this.onBtApplyDebounce=function(){e.debouncePending=!0,i()}},t.prototype.checkApplyDebounce=function(){this.debouncePending&&(this.debouncePending=!1,this.onBtApply())},t.prototype.getModel=function(){return this.appliedModel?this.appliedModel:null},t.prototype.setModel=function(e){var r=this,i=e!=null?this.setModelIntoUi(e):this.resetUiToDefaults();return i.then(function(){r.updateUiVisibility(),r.applyModel("api")})},t.prototype.onBtCancel=function(e){var r=this;this.resetUiToActiveModel(this.getModel(),function(){r.handleCancelEnd(e)})},t.prototype.handleCancelEnd=function(e){this.providedFilterParams.closeOnApply&&this.close(e)},t.prototype.resetUiToActiveModel=function(e,r){var i=this,o=function(){i.onUiChanged(!1,"prevent"),r==null||r()};e!=null?this.setModelIntoUi(e).then(o):this.resetUiToDefaults().then(o)},t.prototype.onBtClear=function(){var e=this;this.resetUiToDefaults().then(function(){return e.onUiChanged()})},t.prototype.onBtReset=function(){this.onBtClear(),this.onBtApply()},t.prototype.applyModel=function(e){var r=this.getModelFromUi();if(!this.isModelValid(r))return!1;var i=this.appliedModel;return this.appliedModel=r,!this.areModelsEqual(i,r)},t.prototype.isModelValid=function(e){return!0},t.prototype.onFormSubmit=function(e){e.preventDefault()},t.prototype.onBtApply=function(e,r,i){if(e===void 0&&(e=!1),r===void 0&&(r=!1),i&&i.preventDefault(),this.applyModel(r?"rowDataUpdated":"ui")){var o="columnFilter";this.providedFilterParams.filterChangedCallback({afterFloatingFilter:e,afterDataChange:r,source:o})}var a=this.providedFilterParams.closeOnApply;a&&this.applyActive&&!e&&!r&&this.close(i)},t.prototype.onNewRowsLoaded=function(){},t.prototype.close=function(e){if(this.hidePopup){var r=e,i=r&&r.key,o;(i==="Enter"||i==="Space")&&(o={keyboardEvent:r}),this.hidePopup(o),this.hidePopup=null}},t.prototype.onUiChanged=function(e,r){if(e===void 0&&(e=!1),this.updateUiVisibility(),this.providedFilterParams.filterModifiedCallback(),this.applyActive&&!this.isReadOnly()){var i=this.isModelValid(this.getModelFromUi()),o=this.getRefElement("applyFilterButton");o&&Mg(o,!i)}e&&!r||r==="immediately"?this.onBtApply(e):(!this.applyActive&&!r||r==="debounce")&&this.onBtApplyDebounce()},t.prototype.afterGuiAttached=function(e){e&&(this.hidePopup=e.hidePopup),this.refreshFilterResizer(e==null?void 0:e.container)},t.prototype.refreshFilterResizer=function(e){if(!(!this.positionableFeature||e==="toolPanel")){var r=e==="floatingFilter"||e==="columnFilter",i=this,o=i.positionableFeature,a=i.gridOptionsService;r?(o.restoreLastSize(),o.setResizable(a.get("enableRtl")?{bottom:!0,bottomLeft:!0,left:!0}:{bottom:!0,bottomRight:!0,right:!0})):(this.positionableFeature.removeSizeFromEl(),this.positionableFeature.setResizable(!1)),this.positionableFeature.constrainSizeToAvailableHeight(!0)}},t.prototype.afterGuiDetached=function(){this.checkApplyDebounce(),this.positionableFeature&&this.positionableFeature.constrainSizeToAvailableHeight(!1)},t.getDebounceMs=function(e,r){return t.isUseApplyButton(e)?(e.debounceMs!=null&&console.warn("AG Grid: debounceMs is ignored when apply button is present"),0):e.debounceMs!=null?e.debounceMs:r},t.isUseApplyButton=function(e){return!!e.buttons&&e.buttons.indexOf("apply")>=0},t.prototype.refresh=function(e){return this.providedFilterParams=e,!0},t.prototype.destroy=function(){var e=this.getGui();e&&e.removeEventListener("submit",this.onFormSubmit),this.hidePopup=null,this.positionableFeature&&(this.positionableFeature=this.destroyBean(this.positionableFeature)),this.appliedModel=null,n.prototype.destroy.call(this)},t.prototype.translate=function(e){var r=this.localeService.getLocaleTextFunc();return r(e,wY[e])},t.prototype.getCellValue=function(e){return this.providedFilterParams.getValue(e)},t.prototype.getPositionableElement=function(){return this.eFilterBody},FA([E("rowModel")],t.prototype,"rowModel",void 0),FA([j("eFilterBody")],t.prototype,"eFilterBody",void 0),FA([z],t.prototype,"postConstruct",null),t}(ae),Z_e=function(){var n=function(t,e){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])},n(t,e)};return function(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");n(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}}(),Q_e=function(n,t,e,r){var i=arguments.length,o=i<3?t:r===null?r=Object.getOwnPropertyDescriptor(t,e):r,a;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(n,t,e,r);else for(var s=n.length-1;s>=0;s--)(a=n[s])&&(o=(i<3?a(o):i>3?a(t,e,o):a(t,e))||o);return i>3&&o&&Object.defineProperty(t,e,o),o},yT=function(n){Z_e(t,n);function t(e,r){var i=n.call(this,r)||this;return i.labelSeparator="",i.labelAlignment="left",i.disabled=!1,i.label="",i.config=e||{},i}return t.prototype.postConstruct=function(){this.addCssClass("ag-labeled"),this.eLabel.classList.add("ag-label");var e=this.config,r=e.labelSeparator,i=e.label,o=e.labelWidth,a=e.labelAlignment;r!=null&&this.setLabelSeparator(r),i!=null&&this.setLabel(i),o!=null&&this.setLabelWidth(o),this.setLabelAlignment(a||this.labelAlignment),this.refreshLabel()},t.prototype.refreshLabel=function(){Rn(this.eLabel),typeof this.label=="string"?this.eLabel.innerText=this.label+this.labelSeparator:this.label&&this.eLabel.appendChild(this.label),this.label===""?(Ct(this.eLabel,!1),hn(this.eLabel,"presentation")):(Ct(this.eLabel,!0),hn(this.eLabel,null))},t.prototype.setLabelSeparator=function(e){return this.labelSeparator===e?this:(this.labelSeparator=e,this.label!=null&&this.refreshLabel(),this)},t.prototype.getLabelId=function(){return this.eLabel.id=this.eLabel.id||"ag-".concat(this.getCompId(),"-label"),this.eLabel.id},t.prototype.getLabel=function(){return this.label},t.prototype.setLabel=function(e){return this.label===e?this:(this.label=e,this.refreshLabel(),this)},t.prototype.setLabelAlignment=function(e){var r=this.getGui(),i=r.classList;return i.toggle("ag-label-align-left",e==="left"),i.toggle("ag-label-align-right",e==="right"),i.toggle("ag-label-align-top",e==="top"),this},t.prototype.setLabelEllipsis=function(e){return this.eLabel.classList.toggle("ag-label-ellipsis",e),this},t.prototype.setLabelWidth=function(e){return this.label==null?this:(BS(this.eLabel,e),this)},t.prototype.setDisabled=function(e){e=!!e;var r=this.getGui();return Mg(r,e),r.classList.toggle("ag-disabled",e),this.disabled=e,this},t.prototype.isDisabled=function(){return!!this.disabled},Q_e([z],t.prototype,"postConstruct",null),t}(ae),J_e=function(){var n=function(t,e){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])},n(t,e)};return function(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");n(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}}(),sG=function(n){J_e(t,n);function t(e,r,i){var o=n.call(this,e,r)||this;return o.className=i,o}return t.prototype.postConstruct=function(){n.prototype.postConstruct.call(this),this.className&&this.addCssClass(this.className),this.refreshAriaLabelledBy()},t.prototype.refreshAriaLabelledBy=function(){var e=this.getAriaElement(),r=this.getLabelId();j7(e)!==null?Ab(e,""):Ab(e,r??"")},t.prototype.setAriaLabel=function(e){return lp(this.getAriaElement(),e),this.refreshAriaLabelledBy(),this},t.prototype.onValueChange=function(e){var r=this;return this.addManagedListener(this,T.EVENT_FIELD_VALUE_CHANGED,function(){return e(r.getValue())}),this},t.prototype.getWidth=function(){return this.getGui().clientWidth},t.prototype.setWidth=function(e){return Ka(this.getGui(),e),this},t.prototype.getPreviousValue=function(){return this.previousValue},t.prototype.getValue=function(){return this.value},t.prototype.setValue=function(e,r){return this.value===e?this:(this.previousValue=this.value,this.value=e,r||this.dispatchEvent({type:T.EVENT_FIELD_VALUE_CHANGED}),this)},t}(yT),exe=function(){var n=function(t,e){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])},n(t,e)};return function(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");n(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}}(),ky=function(n,t,e,r){var i=arguments.length,o=i<3?t:r===null?r=Object.getOwnPropertyDescriptor(t,e):r,a;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(n,t,e,r);else for(var s=n.length-1;s>=0;s--)(a=n[s])&&(o=(i<3?a(o):i>3?a(t,e,o):a(t,e))||o);return i>3&&o&&Object.defineProperty(t,e,o),o},txe=`
    <div class="ag-picker-field" role="presentation">
        <div ref="eLabel"></div>
            <div ref="eWrapper" class="ag-wrapper ag-picker-field-wrapper ag-picker-collapsed">
            <div ref="eDisplayField" class="ag-picker-field-display"></div>
            <div ref="eIcon" class="ag-picker-field-icon" aria-hidden="true"></div>
        </div>
    </div>`,mT=function(n){exe(t,n);function t(e){var r=n.call(this,e,(e==null?void 0:e.template)||txe,e==null?void 0:e.className)||this;if(r.isPickerDisplayed=!1,r.skipClick=!1,r.pickerGap=4,r.hideCurrentPicker=null,r.ariaRole=e==null?void 0:e.ariaRole,r.onPickerFocusIn=r.onPickerFocusIn.bind(r),r.onPickerFocusOut=r.onPickerFocusOut.bind(r),!e)return r;var i=e.pickerGap,o=e.maxPickerHeight,a=e.variableWidth,s=e.minPickerWidth,l=e.maxPickerWidth;return i!=null&&(r.pickerGap=i),r.variableWidth=!!a,o!=null&&r.setPickerMaxHeight(o),s!=null&&r.setPickerMinWidth(s),l!=null&&r.setPickerMaxWidth(l),r}return t.prototype.postConstruct=function(){n.prototype.postConstruct.call(this),this.setupAria();var e="ag-".concat(this.getCompId(),"-display");this.eDisplayField.setAttribute("id",e);var r=this.getAriaElement();this.addManagedListener(r,"keydown",this.onKeyDown.bind(this)),this.addManagedListener(this.eLabel,"mousedown",this.onLabelOrWrapperMouseDown.bind(this)),this.addManagedListener(this.eWrapper,"mousedown",this.onLabelOrWrapperMouseDown.bind(this));var i=this.config.pickerIcon;if(i){var o=Qr(i,this.gridOptionsService);o&&this.eIcon.appendChild(o)}},t.prototype.setupAria=function(){var e=this.getAriaElement();e.setAttribute("tabindex",this.gridOptionsService.get("tabIndex").toString()),oc(e,!1),this.ariaRole&&hn(e,this.ariaRole)},t.prototype.onLabelOrWrapperMouseDown=function(e){if(e){var r=this.getFocusableElement();if(r!==this.eWrapper&&(e==null?void 0:e.target)===r)return;e.preventDefault(),this.getFocusableElement().focus()}if(this.skipClick){this.skipClick=!1;return}this.isDisabled()||(this.isPickerDisplayed?this.hidePicker():this.showPicker())},t.prototype.onKeyDown=function(e){switch(e.key){case U.UP:case U.DOWN:case U.ENTER:case U.SPACE:e.preventDefault(),this.onLabelOrWrapperMouseDown();break;case U.ESCAPE:this.isPickerDisplayed&&(e.preventDefault(),e.stopPropagation(),this.hideCurrentPicker&&this.hideCurrentPicker());break}},t.prototype.showPicker=function(){this.isPickerDisplayed=!0,this.pickerComponent||(this.pickerComponent=this.createPickerComponent());var e=this.pickerComponent.getGui();e.addEventListener("focusin",this.onPickerFocusIn),e.addEventListener("focusout",this.onPickerFocusOut),this.hideCurrentPicker=this.renderAndPositionPicker(),this.toggleExpandedStyles(!0)},t.prototype.renderAndPositionPicker=function(){var e=this,r=this.gridOptionsService.getDocument(),i=this.pickerComponent.getGui();this.gridOptionsService.get("suppressScrollWhenPopupsAreOpen")||(this.destroyMouseWheelFunc=this.addManagedListener(this.eventService,T.EVENT_BODY_SCROLL,function(){e.hidePicker()}));var o=this.localeService.getLocaleTextFunc(),a=this.config,s=a.pickerAriaLabelKey,l=a.pickerAriaLabelValue,u=a.modalPicker,c=u===void 0?!0:u,d={modal:c,eChild:i,closeOnEsc:!0,closedCallback:function(){var C=r.activeElement===r.body;e.beforeHidePicker(),C&&e.isAlive()&&e.getFocusableElement().focus()},ariaLabel:o(s,l)},p=this.popupService.addPopup(d),h=this,f=h.maxPickerHeight,v=h.minPickerWidth,g=h.maxPickerWidth,y=h.variableWidth;y?(v&&(i.style.minWidth=v),i.style.width=vT(NS(this.eWrapper)),g&&(i.style.maxWidth=g)):BS(i,g??NS(this.eWrapper));var m=f??"".concat(Nw(this.popupService.getPopupParent()),"px");return i.style.setProperty("max-height",m),i.style.position="absolute",this.alignPickerToComponent(),p.hideFunc},t.prototype.alignPickerToComponent=function(){if(this.pickerComponent){var e=this.config.pickerType,r=this.pickerGap,i=this.gridOptionsService.get("enableRtl")?"right":"left";this.popupService.positionPopupByComponent({type:e,eventSource:this.eWrapper,ePopup:this.pickerComponent.getGui(),position:"under",alignSide:i,keepWithinBounds:!0,nudgeY:r})}},t.prototype.beforeHidePicker=function(){this.destroyMouseWheelFunc&&(this.destroyMouseWheelFunc(),this.destroyMouseWheelFunc=void 0),this.toggleExpandedStyles(!1);var e=this.pickerComponent.getGui();e.removeEventListener("focusin",this.onPickerFocusIn),e.removeEventListener("focusout",this.onPickerFocusOut),this.isPickerDisplayed=!1,this.pickerComponent=void 0,this.hideCurrentPicker=null},t.prototype.toggleExpandedStyles=function(e){if(this.isAlive()){var r=this.getAriaElement();oc(r,e),this.eWrapper.classList.toggle("ag-picker-expanded",e),this.eWrapper.classList.toggle("ag-picker-collapsed",!e)}},t.prototype.onPickerFocusIn=function(){this.togglePickerHasFocus(!0)},t.prototype.onPickerFocusOut=function(e){var r;!((r=this.pickerComponent)===null||r===void 0)&&r.getGui().contains(e.relatedTarget)||this.togglePickerHasFocus(!1)},t.prototype.togglePickerHasFocus=function(e){this.pickerComponent&&this.eWrapper.classList.toggle("ag-picker-has-focus",e)},t.prototype.hidePicker=function(){this.hideCurrentPicker&&this.hideCurrentPicker()},t.prototype.setInputWidth=function(e){return BS(this.eWrapper,e),this},t.prototype.getFocusableElement=function(){return this.eWrapper},t.prototype.setPickerGap=function(e){return this.pickerGap=e,this},t.prototype.setPickerMinWidth=function(e){return typeof e=="number"&&(e="".concat(e,"px")),this.minPickerWidth=e??void 0,this},t.prototype.setPickerMaxWidth=function(e){return typeof e=="number"&&(e="".concat(e,"px")),this.maxPickerWidth=e??void 0,this},t.prototype.setPickerMaxHeight=function(e){return typeof e=="number"&&(e="".concat(e,"px")),this.maxPickerHeight=e??void 0,this},t.prototype.destroy=function(){this.hidePicker(),n.prototype.destroy.call(this)},ky([E("popupService")],t.prototype,"popupService",void 0),ky([j("eLabel")],t.prototype,"eLabel",void 0),ky([j("eWrapper")],t.prototype,"eWrapper",void 0),ky([j("eDisplayField")],t.prototype,"eDisplayField",void 0),ky([j("eIcon")],t.prototype,"eIcon",void 0),t}(sG),rxe=function(){var n=function(t,e){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])},n(t,e)};return function(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");n(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}}(),nxe=function(n,t,e,r){var i=arguments.length,o=i<3?t:r===null?r=Object.getOwnPropertyDescriptor(t,e):r,a;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(n,t,e,r);else for(var s=n.length-1;s>=0;s--)(a=n[s])&&(o=(i<3?a(o):i>3?a(t,e,o):a(t,e))||o);return i>3&&o&&Object.defineProperty(t,e,o),o},o$=function(n){rxe(t,n);function t(e){e===void 0&&(e="default");var r=n.call(this,'<div class="ag-list ag-'.concat(e,'-list" role="listbox"></div>'))||this;return r.cssIdentifier=e,r.options=[],r.itemEls=[],r}return t.prototype.init=function(){this.addManagedListener(this.getGui(),"keydown",this.handleKeyDown.bind(this))},t.prototype.handleKeyDown=function(e){var r=e.key;switch(r){case U.ENTER:if(!this.highlightedEl)this.setValue(this.getValue());else{var i=this.itemEls.indexOf(this.highlightedEl);this.setValueByIndex(i)}break;case U.DOWN:case U.UP:var o=r===U.DOWN,a=void 0;if(e.preventDefault(),!this.highlightedEl)a=this.itemEls[o?0:this.itemEls.length-1];else{var s=this.itemEls.indexOf(this.highlightedEl),l=s+(o?1:-1);l=Math.min(Math.max(l,0),this.itemEls.length-1),a=this.itemEls[l]}this.highlightItem(a);break}},t.prototype.addOptions=function(e){var r=this;return e.forEach(function(i){return r.addOption(i)}),this},t.prototype.addOption=function(e){var r=e.value,i=e.text,o=cn(i||r);return this.options.push({value:r,text:o}),this.renderOption(r,o),this.updateIndices(),this},t.prototype.updateIndices=function(){var e=this.getGui().querySelectorAll(".ag-list-item");e.forEach(function(r,i){kk(r,i+1),Nk(r,e.length)})},t.prototype.renderOption=function(e,r){var i=this,o=document.createElement("div");hn(o,"option"),o.classList.add("ag-list-item","ag-".concat(this.cssIdentifier,"-list-item")),o.innerHTML="<span>".concat(r,"</span>"),o.tabIndex=-1,this.itemEls.push(o),this.addManagedListener(o,"mouseover",function(){return i.highlightItem(o)}),this.addManagedListener(o,"mouseleave",function(){return i.clearHighlighted()}),this.addManagedListener(o,"click",function(){return i.setValue(e)}),this.getGui().appendChild(o)},t.prototype.setValue=function(e,r){if(this.value===e)return this.fireItemSelected(),this;if(e==null)return this.reset(),this;var i=this.options.findIndex(function(a){return a.value===e});if(i!==-1){var o=this.options[i];this.value=o.value,this.displayValue=o.text!=null?o.text:o.value,this.highlightItem(this.itemEls[i]),r||this.fireChangeEvent()}return this},t.prototype.setValueByIndex=function(e){return this.setValue(this.options[e].value)},t.prototype.getValue=function(){return this.value},t.prototype.getDisplayValue=function(){return this.displayValue},t.prototype.refreshHighlighted=function(){var e=this;this.clearHighlighted();var r=this.options.findIndex(function(i){return i.value===e.value});r!==-1&&this.highlightItem(this.itemEls[r])},t.prototype.reset=function(){this.value=null,this.displayValue=null,this.clearHighlighted(),this.fireChangeEvent()},t.prototype.highlightItem=function(e){ca(e)&&(this.clearHighlighted(),this.highlightedEl=e,this.highlightedEl.classList.add(t.ACTIVE_CLASS),Dg(this.highlightedEl,!0),this.highlightedEl.focus())},t.prototype.clearHighlighted=function(){!this.highlightedEl||!ca(this.highlightedEl)||(this.highlightedEl.classList.remove(t.ACTIVE_CLASS),Dg(this.highlightedEl,!1),this.highlightedEl=null)},t.prototype.fireChangeEvent=function(){this.dispatchEvent({type:T.EVENT_FIELD_VALUE_CHANGED}),this.fireItemSelected()},t.prototype.fireItemSelected=function(){this.dispatchEvent({type:t.EVENT_ITEM_SELECTED})},t.EVENT_ITEM_SELECTED="selectedItem",t.ACTIVE_CLASS="ag-active-item",nxe([z],t.prototype,"init",null),t}(ae),ixe=function(){var n=function(t,e){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])},n(t,e)};return function(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");n(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}}(),CF=function(){return CF=Object.assign||function(n){for(var t,e=1,r=arguments.length;e<r;e++){t=arguments[e];for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(n[i]=t[i])}return n},CF.apply(this,arguments)},ru=function(n){ixe(t,n);function t(e){return n.call(this,CF({pickerAriaLabelKey:"ariaLabelSelectField",pickerAriaLabelValue:"Select Field",pickerType:"ag-list",className:"ag-select",pickerIcon:"smallDown",ariaRole:"combobox"},e))||this}return t.prototype.postConstruct=function(){n.prototype.postConstruct.call(this),this.createListComponent(),this.eWrapper.tabIndex=this.gridOptionsService.get("tabIndex")},t.prototype.createListComponent=function(){var e=this;this.listComponent=this.createBean(new o$("select")),this.listComponent.setParentComponent(this);var r=this.listComponent.getAriaElement(),i="ag-select-list-".concat(this.listComponent.getCompId());r.setAttribute("id",i),Bk(this.getAriaElement(),r),this.listComponent.addGuiEventListener("keydown",function(o){o.key===U.TAB&&(o.preventDefault(),o.stopImmediatePropagation(),e.getGui().dispatchEvent(new KeyboardEvent("keydown",{key:o.key,shiftKey:o.shiftKey,ctrlKey:o.ctrlKey,bubbles:!0})))}),this.listComponent.addManagedListener(this.listComponent,o$.EVENT_ITEM_SELECTED,function(){e.hidePicker(),e.dispatchEvent({type:t.EVENT_ITEM_SELECTED})}),this.listComponent.addManagedListener(this.listComponent,T.EVENT_FIELD_VALUE_CHANGED,function(){e.listComponent&&(e.setValue(e.listComponent.getValue(),!1,!0),e.hidePicker())})},t.prototype.createPickerComponent=function(){return this.listComponent},t.prototype.showPicker=function(){this.listComponent&&(n.prototype.showPicker.call(this),this.listComponent.refreshHighlighted())},t.prototype.addOptions=function(e){var r=this;return e.forEach(function(i){return r.addOption(i)}),this},t.prototype.addOption=function(e){return this.listComponent.addOption(e),this},t.prototype.setValue=function(e,r,i){if(this.value===e||!this.listComponent)return this;i||this.listComponent.setValue(e,!0);var o=this.listComponent.getValue();return o===this.getValue()?this:(this.eDisplayField.innerHTML=this.listComponent.getDisplayValue(),n.prototype.setValue.call(this,e,r))},t.prototype.destroy=function(){this.listComponent&&(this.destroyBean(this.listComponent),this.listComponent=void 0),n.prototype.destroy.call(this)},t.EVENT_ITEM_SELECTED="selectedItem",t}(mT),oxe=function(){var n=function(t,e){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])},n(t,e)};return function(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");n(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}}(),IA=function(n,t,e,r){var i=arguments.length,o=i<3?t:r===null?r=Object.getOwnPropertyDescriptor(t,e):r,a;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(n,t,e,r);else for(var s=n.length-1;s>=0;s--)(a=n[s])&&(o=(i<3?a(o):i>3?a(t,e,o):a(t,e))||o);return i>3&&o&&Object.defineProperty(t,e,o),o},md=function(n){oxe(t,n);function t(e,r,i,o){i===void 0&&(i="text"),o===void 0&&(o="input");var a=n.call(this,e,`
            <div role="presentation">
                <div ref="eLabel" class="ag-input-field-label"></div>
                <div ref="eWrapper" class="ag-wrapper ag-input-wrapper" role="presentation">
                    <`.concat(o,' ref="eInput" class="ag-input-field-input"></').concat(o,`>
                </div>
            </div>`),r)||this;return a.inputType=i,a.displayFieldTag=o,a}return t.prototype.postConstruct=function(){n.prototype.postConstruct.call(this),this.setInputType(),this.eLabel.classList.add("".concat(this.className,"-label")),this.eWrapper.classList.add("".concat(this.className,"-input-wrapper")),this.eInput.classList.add("".concat(this.className,"-input")),this.addCssClass("ag-input-field"),this.eInput.id=this.eInput.id||"ag-".concat(this.getCompId(),"-input");var e=this.config,r=e.width,i=e.value;r!=null&&this.setWidth(r),i!=null&&this.setValue(i),this.addInputListeners(),this.activateTabIndex([this.eInput])},t.prototype.addInputListeners=function(){var e=this;this.addManagedListener(this.eInput,"input",function(r){return e.setValue(r.target.value)})},t.prototype.setInputType=function(){this.displayFieldTag==="input"&&this.eInput.setAttribute("type",this.inputType)},t.prototype.getInputElement=function(){return this.eInput},t.prototype.setInputWidth=function(e){return BS(this.eWrapper,e),this},t.prototype.setInputName=function(e){return this.getInputElement().setAttribute("name",e),this},t.prototype.getFocusableElement=function(){return this.eInput},t.prototype.setMaxLength=function(e){var r=this.eInput;return r.maxLength=e,this},t.prototype.setInputPlaceholder=function(e){return Yl(this.eInput,"placeholder",e),this},t.prototype.setInputAriaLabel=function(e){return lp(this.eInput,e),this.refreshAriaLabelledBy(),this},t.prototype.setDisabled=function(e){return Mg(this.eInput,e),n.prototype.setDisabled.call(this,e)},t.prototype.setAutoComplete=function(e){if(e===!0)Yl(this.eInput,"autocomplete",null);else{var r=typeof e=="string"?e:"off";Yl(this.eInput,"autocomplete",r)}return this},IA([j("eLabel")],t.prototype,"eLabel",void 0),IA([j("eWrapper")],t.prototype,"eWrapper",void 0),IA([j("eInput")],t.prototype,"eInput",void 0),t}(sG),axe=function(){var n=function(t,e){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])},n(t,e)};return function(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");n(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}}(),Hu=function(n){axe(t,n);function t(e,r,i){r===void 0&&(r="ag-checkbox"),i===void 0&&(i="checkbox");var o=n.call(this,e,r,i)||this;return o.labelAlignment="right",o.selected=!1,o.readOnly=!1,o.passive=!1,o}return t.prototype.addInputListeners=function(){this.addManagedListener(this.eInput,"click",this.onCheckboxClick.bind(this)),this.addManagedListener(this.eLabel,"click",this.toggle.bind(this))},t.prototype.getNextValue=function(){return this.selected===void 0?!0:!this.selected},t.prototype.setPassive=function(e){this.passive=e},t.prototype.isReadOnly=function(){return this.readOnly},t.prototype.setReadOnly=function(e){this.eWrapper.classList.toggle("ag-disabled",e),this.eInput.disabled=e,this.readOnly=e},t.prototype.setDisabled=function(e){return this.eWrapper.classList.toggle("ag-disabled",e),n.prototype.setDisabled.call(this,e)},t.prototype.toggle=function(){if(!this.eInput.disabled){var e=this.isSelected(),r=this.getNextValue();this.passive?this.dispatchChange(r,e):this.setValue(r)}},t.prototype.getValue=function(){return this.isSelected()},t.prototype.setValue=function(e,r){return this.refreshSelectedClass(e),this.setSelected(e,r),this},t.prototype.setName=function(e){var r=this.getInputElement();return r.name=e,this},t.prototype.isSelected=function(){return this.selected},t.prototype.setSelected=function(e,r){this.isSelected()!==e&&(this.previousValue=this.isSelected(),e=this.selected=typeof e=="boolean"?e:void 0,this.eInput.checked=e,this.eInput.indeterminate=e===void 0,r||this.dispatchChange(this.selected,this.previousValue))},t.prototype.dispatchChange=function(e,r,i){this.dispatchEvent({type:T.EVENT_FIELD_VALUE_CHANGED,selected:e,previousValue:r,event:i});var o=this.getInputElement(),a={type:T.EVENT_CHECKBOX_CHANGED,id:o.id,name:o.name,selected:e,previousValue:r};this.eventService.dispatchEvent(a)},t.prototype.onCheckboxClick=function(e){if(!(this.passive||this.eInput.disabled)){var r=this.isSelected(),i=this.selected=e.target.checked;this.refreshSelectedClass(i),this.dispatchChange(i,r,e)}},t.prototype.refreshSelectedClass=function(e){this.eWrapper.classList.toggle("ag-checked",e===!0),this.eWrapper.classList.toggle("ag-indeterminate",e==null)},t}(md),sxe=function(){var n=function(t,e){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])},n(t,e)};return function(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");n(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}}(),CT=function(n){sxe(t,n);function t(e){return n.call(this,e,"ag-radio-button","radio")||this}return t.prototype.isSelected=function(){return this.eInput.checked},t.prototype.toggle=function(){this.eInput.disabled||this.isSelected()||this.setValue(!0)},t.prototype.addInputListeners=function(){n.prototype.addInputListeners.call(this),this.addManagedListener(this.eventService,T.EVENT_CHECKBOX_CHANGED,this.onChange.bind(this))},t.prototype.onChange=function(e){e.selected&&e.name&&this.eInput.name&&this.eInput.name===e.name&&e.id&&this.eInput.id!==e.id&&this.setValue(!1,!0)},t}(Hu),lxe=function(){var n=function(t,e){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])},n(t,e)};return function(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");n(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}}(),uxe=function(n,t){var e=typeof Symbol=="function"&&n[Symbol.iterator];if(!e)return n;var r=e.call(n),i,o=[],a;try{for(;(t===void 0||t-- >0)&&!(i=r.next()).done;)o.push(i.value)}catch(s){a={error:s}}finally{try{i&&!i.done&&(e=r.return)&&e.call(r)}finally{if(a)throw a.error}}return o},cxe=function(n,t,e){if(e||arguments.length===2)for(var r=0,i=t.length,o;r<i;r++)(o||!(r in t))&&(o||(o=Array.prototype.slice.call(t,0,r)),o[r]=t[r]);return n.concat(o||Array.prototype.slice.call(t))},lG=function(){function n(t,e,r){this.localeService=t,this.optionsFactory=e,this.valueFormatter=r}return n.prototype.getModelAsString=function(t){var e=this;if(!t)return null;var r=t.operator!=null,i=this.localeService.getLocaleTextFunc();if(r){var o=t,a=o.conditions;if(!a){var s=o.condition1,l=o.condition2;a=[s,l]}var u=a.map(function(y){return e.getModelAsString(y)}),c=o.operator==="AND"?"andCondition":"orCondition";return u.join(" ".concat(i(c,wY[c])," "))}else{if(t.type===Cr.BLANK||t.type===Cr.NOT_BLANK)return i(t.type,t.type);var d=t,p=this.optionsFactory.getCustomOption(d.type),h=p||{},f=h.displayKey,v=h.displayName,g=h.numberOfInputs;return f&&v&&g===0?(i(f,v),v):this.conditionToString(d,p)}},n.prototype.updateParams=function(t){this.optionsFactory=t.optionsFactory},n.prototype.formatValue=function(t){var e;return this.valueFormatter?(e=this.valueFormatter(t??null))!==null&&e!==void 0?e:"":String(t)},n}(),Cr=function(n){lxe(t,n);function t(){var e=n!==null&&n.apply(this,arguments)||this;return e.eTypes=[],e.eJoinOperatorPanels=[],e.eJoinOperatorsAnd=[],e.eJoinOperatorsOr=[],e.eConditionBodies=[],e.listener=function(){return e.onUiChanged()},e.lastUiCompletePosition=null,e.joinOperatorId=0,e}return t.prototype.getNumberOfInputs=function(e){var r=this.optionsFactory.getCustomOption(e);if(r){var i=r.numberOfInputs;return i??1}var o=[t.EMPTY,t.NOT_BLANK,t.BLANK];return e&&o.indexOf(e)>=0?0:e===t.IN_RANGE?2:1},t.prototype.onFloatingFilterChanged=function(e,r){this.setTypeFromFloatingFilter(e),this.setValueFromFloatingFilter(r),this.onUiChanged(!0)},t.prototype.setTypeFromFloatingFilter=function(e){var r=this;this.eTypes.forEach(function(i,o){o===0?i.setValue(e,!0):i.setValue(r.optionsFactory.getDefaultOption(),!0)})},t.prototype.getModelFromUi=function(){var e=this.getUiCompleteConditions();return e.length===0?null:this.maxNumConditions>1&&e.length>1?{filterType:this.getFilterType(),operator:this.getJoinOperator(),condition1:e[0],condition2:e[1],conditions:e}:e[0]},t.prototype.getConditionTypes=function(){return this.eTypes.map(function(e){return e.getValue()})},t.prototype.getConditionType=function(e){return this.eTypes[e].getValue()},t.prototype.getJoinOperator=function(){return this.eJoinOperatorsOr.length===0?this.defaultJoinOperator:this.eJoinOperatorsOr[0].getValue()===!0?"OR":"AND"},t.prototype.areModelsEqual=function(e,r){var i=this;if(!e&&!r)return!0;if(!e&&r||e&&!r)return!1;var o=!e.operator,a=!r.operator,s=!o&&a||o&&!a;if(s)return!1;var l;if(o){var u=e,c=r;l=this.areSimpleModelsEqual(u,c)}else{var d=e,p=r;l=d.operator===p.operator&&Gu(d.conditions,p.conditions,function(h,f){return i.areSimpleModelsEqual(h,f)})}return l},t.prototype.shouldRefresh=function(e){var r,i,o,a=this.getModel(),s=a?(r=a.conditions)!==null&&r!==void 0?r:[a]:null,l=(o=(i=e.filterOptions)===null||i===void 0?void 0:i.map(function(c){return typeof c=="string"?c:c.displayKey}))!==null&&o!==void 0?o:this.getDefaultFilterOptions(),u=!s||s.every(function(c){return l.find(function(d){return d===c.type})!==void 0});return!(!u||typeof e.maxNumConditions=="number"&&s&&s.length>e.maxNumConditions)},t.prototype.refresh=function(e){if(!this.shouldRefresh(e))return!1;var r=n.prototype.refresh.call(this,e);return r?(this.setParams(e),this.removeConditionsAndOperators(0),this.createOption(),this.setModel(this.getModel()),!0):!1},t.prototype.setModelIntoUi=function(e){var r=this,i=e.operator;if(i){var o=e;o.conditions||(o.conditions=[o.condition1,o.condition2]);var a=this.validateAndUpdateConditions(o.conditions),s=this.getNumConditions();if(a<s)this.removeConditionsAndOperators(a);else if(a>s)for(var l=s;l<a;l++)this.createJoinOperatorPanel(),this.createOption();var u=o.operator==="OR";this.eJoinOperatorsAnd.forEach(function(d){return d.setValue(!u,!0)}),this.eJoinOperatorsOr.forEach(function(d){return d.setValue(u,!0)}),o.conditions.forEach(function(d,p){r.eTypes[p].setValue(d.type,!0),r.setConditionIntoUi(d,p)})}else{var c=e;this.getNumConditions()>1&&this.removeConditionsAndOperators(1),this.eTypes[0].setValue(c.type,!0),this.setConditionIntoUi(c,0)}return this.lastUiCompletePosition=this.getNumConditions()-1,this.createMissingConditionsAndOperators(),this.onUiChanged(),tt.resolve()},t.prototype.validateAndUpdateConditions=function(e){var r=e.length;return r>this.maxNumConditions&&(e.splice(this.maxNumConditions),Ge('Filter Model contains more conditions than "filterParams.maxNumConditions". Additional conditions have been ignored.'),r=this.maxNumConditions),r},t.prototype.doesFilterPass=function(e){var r=this,i,o=this.getModel();if(o==null)return!0;var a=o.operator,s=[];if(a){var l=o;s.push.apply(s,cxe([],uxe((i=l.conditions)!==null&&i!==void 0?i:[]),!1))}else s.push(o);var u=a&&a==="OR"?"some":"every";return s[u](function(c){return r.individualConditionPasses(e,c)})},t.prototype.setParams=function(e){n.prototype.setParams.call(this,e),this.setNumConditions(e),this.defaultJoinOperator=this.getDefaultJoinOperator(e.defaultJoinOperator),this.filterPlaceholder=e.filterPlaceholder,this.optionsFactory=new SY,this.optionsFactory.init(e,this.getDefaultFilterOptions()),this.createFilterListOptions(),this.createOption(),this.createMissingConditionsAndOperators(),this.isReadOnly()&&this.eFilterBody.setAttribute("tabindex","-1")},t.prototype.setNumConditions=function(e){var r,i;e.suppressAndOrCondition!=null&&Ge('Since v29.2 "filterParams.suppressAndOrCondition" is deprecated. Use "filterParams.maxNumConditions = 1" instead.'),e.alwaysShowBothConditions!=null&&Ge('Since v29.2 "filterParams.alwaysShowBothConditions" is deprecated. Use "filterParams.numAlwaysVisibleConditions = 2" instead.'),this.maxNumConditions=(r=e.maxNumConditions)!==null&&r!==void 0?r:e.suppressAndOrCondition?1:2,this.maxNumConditions<1&&(Ge('"filterParams.maxNumConditions" must be greater than or equal to zero.'),this.maxNumConditions=1),this.numAlwaysVisibleConditions=(i=e.numAlwaysVisibleConditions)!==null&&i!==void 0?i:e.alwaysShowBothConditions?2:1,this.numAlwaysVisibleConditions<1&&(Ge('"filterParams.numAlwaysVisibleConditions" must be greater than or equal to zero.'),this.numAlwaysVisibleConditions=1),this.numAlwaysVisibleConditions>this.maxNumConditions&&(Ge('"filterParams.numAlwaysVisibleConditions" cannot be greater than "filterParams.maxNumConditions".'),this.numAlwaysVisibleConditions=this.maxNumConditions)},t.prototype.createOption=function(){var e=this,r=this.createManagedBean(new ru);this.eTypes.push(r),r.addCssClass("ag-filter-select"),this.eFilterBody.appendChild(r.getGui());var i=this.createValueElement();this.eConditionBodies.push(i),this.eFilterBody.appendChild(i),this.putOptionsIntoDropdown(r),this.resetType(r);var o=this.getNumConditions()-1;this.forEachPositionInput(o,function(a){return e.resetInput(a)}),this.addChangedListeners(r,o)},t.prototype.createJoinOperatorPanel=function(){var e=document.createElement("div");this.eJoinOperatorPanels.push(e),e.classList.add("ag-filter-condition");var r=this.createJoinOperator(this.eJoinOperatorsAnd,e,"and"),i=this.createJoinOperator(this.eJoinOperatorsOr,e,"or");this.eFilterBody.appendChild(e);var o=this.eJoinOperatorPanels.length-1,a=this.joinOperatorId++;this.resetJoinOperatorAnd(r,o,a),this.resetJoinOperatorOr(i,o,a),this.isReadOnly()||(r.onValueChange(this.listener),i.onValueChange(this.listener))},t.prototype.createJoinOperator=function(e,r,i){var o=this.createManagedBean(new CT);return e.push(o),o.addCssClass("ag-filter-condition-operator"),o.addCssClass("ag-filter-condition-operator-".concat(i)),r.appendChild(o.getGui()),o},t.prototype.getDefaultJoinOperator=function(e){return e==="AND"||e==="OR"?e:"AND"},t.prototype.createFilterListOptions=function(){var e=this,r=this.optionsFactory.getFilterOptions();this.filterListOptions=r.map(function(i){return typeof i=="string"?e.createBoilerplateListOption(i):e.createCustomListOption(i)})},t.prototype.putOptionsIntoDropdown=function(e){this.filterListOptions.forEach(function(r){e.addOption(r)}),e.setDisabled(this.filterListOptions.length<=1)},t.prototype.createBoilerplateListOption=function(e){return{value:e,text:this.translate(e)}},t.prototype.createCustomListOption=function(e){var r=e.displayKey,i=this.optionsFactory.getCustomOption(e.displayKey);return{value:r,text:i?this.localeService.getLocaleTextFunc()(i.displayKey,i.displayName):this.translate(r)}},t.prototype.isAllowTwoConditions=function(){return this.maxNumConditions>=2},t.prototype.createBodyTemplate=function(){return""},t.prototype.getCssIdentifier=function(){return"simple-filter"},t.prototype.updateUiVisibility=function(){var e=this.getJoinOperator();this.updateNumConditions(),this.updateConditionStatusesAndValues(this.lastUiCompletePosition,e)},t.prototype.updateNumConditions=function(){for(var e,r=-1,i=!0,o=0;o<this.getNumConditions();o++)this.isConditionUiComplete(o)?r=o:i=!1;if(this.shouldAddNewConditionAtEnd(i))this.createJoinOperatorPanel(),this.createOption();else{var a=(e=this.lastUiCompletePosition)!==null&&e!==void 0?e:this.getNumConditions()-2;if(r<a){this.removeConditionsAndOperators(a+1);var s=r+1,l=a-s;l>0&&this.removeConditionsAndOperators(s,l),this.createMissingConditionsAndOperators()}}this.lastUiCompletePosition=r},t.prototype.updateConditionStatusesAndValues=function(e,r){var i=this;this.eTypes.forEach(function(a,s){var l=i.isConditionDisabled(s,e);a.setDisabled(l||i.filterListOptions.length<=1),s===1&&(Mg(i.eJoinOperatorPanels[0],l),i.eJoinOperatorsAnd[0].setDisabled(l),i.eJoinOperatorsOr[0].setDisabled(l))}),this.eConditionBodies.forEach(function(a,s){Ct(a,i.isConditionBodyVisible(s))});var o=(r??this.getJoinOperator())==="OR";this.eJoinOperatorsAnd.forEach(function(a,s){a.setValue(!o,!0)}),this.eJoinOperatorsOr.forEach(function(a,s){a.setValue(o,!0)}),this.forEachInput(function(a,s,l,u){i.setElementDisplayed(a,s<u),i.setElementDisabled(a,i.isConditionDisabled(l,e))}),this.resetPlaceholder()},t.prototype.shouldAddNewConditionAtEnd=function(e){return e&&this.getNumConditions()<this.maxNumConditions&&!this.isReadOnly()},t.prototype.removeConditionsAndOperators=function(e,r){if(!(e>=this.getNumConditions())){this.removeComponents(this.eTypes,e,r),this.removeElements(this.eConditionBodies,e,r),this.removeValueElements(e,r);var i=Math.max(e-1,0);this.removeElements(this.eJoinOperatorPanels,i,r),this.removeComponents(this.eJoinOperatorsAnd,i,r),this.removeComponents(this.eJoinOperatorsOr,i,r)}},t.prototype.removeElements=function(e,r,i){var o=this.removeItems(e,r,i);o.forEach(function(a){return Nl(a)})},t.prototype.removeComponents=function(e,r,i){var o=this,a=this.removeItems(e,r,i);a.forEach(function(s){Nl(s.getGui()),o.destroyBean(s)})},t.prototype.removeItems=function(e,r,i){return i==null?e.splice(r):e.splice(r,i)},t.prototype.afterGuiAttached=function(e){if(n.prototype.afterGuiAttached.call(this,e),this.resetPlaceholder(),!(e!=null&&e.suppressFocus))if(this.isReadOnly())this.eFilterBody.focus();else{var r=this.getInputs(0)[0];if(!r)return;r instanceof md&&r.getInputElement().focus()}},t.prototype.afterGuiDetached=function(){n.prototype.afterGuiDetached.call(this);var e=this.getModel();this.resetUiToActiveModel(e);for(var r=-1,i=-1,o=!1,a=this.getJoinOperator(),s=this.getNumConditions()-1;s>=0;s--)if(this.isConditionUiComplete(s))r===-1&&(r=s,i=s);else{var l=s>=this.numAlwaysVisibleConditions&&!this.isConditionUiComplete(s-1),u=s<r;(l||u)&&(this.removeConditionsAndOperators(s,1),o=!0,u&&i--)}var c=!1;this.getNumConditions()<this.numAlwaysVisibleConditions&&(this.createMissingConditionsAndOperators(),c=!0),this.shouldAddNewConditionAtEnd(i===this.getNumConditions()-1)&&(this.createJoinOperatorPanel(),this.createOption(),c=!0),c&&this.updateConditionStatusesAndValues(i,a),o&&this.updateJoinOperatorsDisabled(),this.lastUiCompletePosition=i},t.prototype.getPlaceholderText=function(e,r){var i=this.translate(e);if(pT(this.filterPlaceholder)){var o=this.filterPlaceholder,a=this.eTypes[r].getValue(),s=this.translate(a);i=o({filterOptionKey:a,filterOption:s,placeholder:i})}else typeof this.filterPlaceholder=="string"&&(i=this.filterPlaceholder);return i},t.prototype.resetPlaceholder=function(){var e=this,r=this.localeService.getLocaleTextFunc();this.forEachInput(function(i,o,a,s){if(i instanceof md){var l=o===0&&s>1?"inRangeStart":o===0?"filterOoo":"inRangeEnd",u=o===0&&s>1?r("ariaFilterFromValue","Filter from value"):o===0?r("ariaFilterValue","Filter Value"):r("ariaFilterToValue","Filter to Value");i.setInputPlaceholder(e.getPlaceholderText(l,a)),i.setInputAriaLabel(u)}})},t.prototype.setElementValue=function(e,r,i){e instanceof md&&e.setValue(r!=null?String(r):null,!0)},t.prototype.setElementDisplayed=function(e,r){e instanceof ae&&Ct(e.getGui(),r)},t.prototype.setElementDisabled=function(e,r){e instanceof ae&&Mg(e.getGui(),r)},t.prototype.attachElementOnChange=function(e,r){e instanceof md&&e.onValueChange(r)},t.prototype.forEachInput=function(e){var r=this;this.getConditionTypes().forEach(function(i,o){r.forEachPositionTypeInput(o,i,e)})},t.prototype.forEachPositionInput=function(e,r){var i=this.getConditionType(e);this.forEachPositionTypeInput(e,i,r)},t.prototype.forEachPositionTypeInput=function(e,r,i){for(var o=this.getNumberOfInputs(r),a=this.getInputs(e),s=0;s<a.length;s++){var l=a[s];l!=null&&i(l,s,e,o)}},t.prototype.isConditionDisabled=function(e,r){return this.isReadOnly()?!0:e===0?!1:e>r+1},t.prototype.isConditionBodyVisible=function(e){var r=this.getConditionType(e),i=this.getNumberOfInputs(r);return i>0},t.prototype.isConditionUiComplete=function(e){if(e>=this.getNumConditions())return!1;var r=this.getConditionType(e);return!(r===t.EMPTY||this.getValues(e).some(function(i){return i==null}))},t.prototype.getNumConditions=function(){return this.eTypes.length},t.prototype.getUiCompleteConditions=function(){for(var e=[],r=0;r<this.getNumConditions();r++)this.isConditionUiComplete(r)&&e.push(this.createCondition(r));return e},t.prototype.createMissingConditionsAndOperators=function(){if(!this.isReadOnly())for(var e=this.getNumConditions();e<this.numAlwaysVisibleConditions;e++)this.createJoinOperatorPanel(),this.createOption()},t.prototype.resetUiToDefaults=function(e){var r=this;return this.removeConditionsAndOperators(this.isReadOnly()?1:this.numAlwaysVisibleConditions),this.eTypes.forEach(function(i){return r.resetType(i)}),this.eJoinOperatorsAnd.forEach(function(i,o){return r.resetJoinOperatorAnd(i,o,r.joinOperatorId+o)}),this.eJoinOperatorsOr.forEach(function(i,o){return r.resetJoinOperatorOr(i,o,r.joinOperatorId+o)}),this.joinOperatorId++,this.forEachInput(function(i){return r.resetInput(i)}),this.resetPlaceholder(),this.createMissingConditionsAndOperators(),this.lastUiCompletePosition=null,e||this.onUiChanged(),tt.resolve()},t.prototype.resetType=function(e){var r=this.localeService.getLocaleTextFunc(),i=r("ariaFilteringOperator","Filtering operator");e.setValue(this.optionsFactory.getDefaultOption(),!0).setAriaLabel(i).setDisabled(this.isReadOnly()||this.filterListOptions.length<=1)},t.prototype.resetJoinOperatorAnd=function(e,r,i){this.resetJoinOperator(e,r,this.isDefaultOperator("AND"),this.translate("andCondition"),i)},t.prototype.resetJoinOperatorOr=function(e,r,i){this.resetJoinOperator(e,r,this.isDefaultOperator("OR"),this.translate("orCondition"),i)},t.prototype.resetJoinOperator=function(e,r,i,o,a){this.updateJoinOperatorDisabled(e.setValue(i,!0).setName("ag-simple-filter-and-or-".concat(this.getCompId(),"-").concat(a)).setLabel(o),r)},t.prototype.updateJoinOperatorsDisabled=function(){var e=this;this.eJoinOperatorsAnd.forEach(function(r,i){return e.updateJoinOperatorDisabled(r,i)}),this.eJoinOperatorsOr.forEach(function(r,i){return e.updateJoinOperatorDisabled(r,i)})},t.prototype.updateJoinOperatorDisabled=function(e,r){e.setDisabled(this.isReadOnly()||r>0)},t.prototype.resetInput=function(e){this.setElementValue(e,null),this.setElementDisabled(e,this.isReadOnly())},t.prototype.setConditionIntoUi=function(e,r){var i=this,o=this.mapValuesFromModel(e);this.forEachInput(function(a,s,l,u){l===r&&i.setElementValue(a,o[s]!=null?o[s]:null)})},t.prototype.setValueFromFloatingFilter=function(e){var r=this;this.forEachInput(function(i,o,a,s){r.setElementValue(i,o===0&&a===0?e:null,!0)})},t.prototype.isDefaultOperator=function(e){return e===this.defaultJoinOperator},t.prototype.addChangedListeners=function(e,r){var i=this;this.isReadOnly()||(e.onValueChange(this.listener),this.forEachPositionInput(r,function(o){i.attachElementOnChange(o,i.listener)}))},t.prototype.individualConditionPasses=function(e,r){var i=this.getCellValue(e.node),o=this.mapValuesFromModel(r),a=this.optionsFactory.getCustomOption(r.type),s=this.evaluateCustomFilter(a,o,i);return s??(i==null?this.evaluateNullValue(r.type):this.evaluateNonNullValue(o,i,r,e))},t.prototype.evaluateCustomFilter=function(e,r,i){if(e!=null){var o=e.predicate;if(o!=null&&!r.some(function(a){return a==null}))return o(r,i)}},t.prototype.isBlank=function(e){return e==null||typeof e=="string"&&e.trim().length===0},t.prototype.hasInvalidInputs=function(){return!1},t.EMPTY="empty",t.BLANK="blank",t.NOT_BLANK="notBlank",t.EQUALS="equals",t.NOT_EQUAL="notEqual",t.LESS_THAN="lessThan",t.LESS_THAN_OR_EQUAL="lessThanOrEqual",t.GREATER_THAN="greaterThan",t.GREATER_THAN_OR_EQUAL="greaterThanOrEqual",t.IN_RANGE="inRange",t.CONTAINS="contains",t.NOT_CONTAINS="notContains",t.STARTS_WITH="startsWith",t.ENDS_WITH="endsWith",t}(Yd),dxe=function(){var n=function(t,e){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])},n(t,e)};return function(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");n(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}}(),zr=function(n){dxe(t,n);function t(){return n!==null&&n.apply(this,arguments)||this}return t.prototype.setParams=function(e){n.prototype.setParams.call(this,e),this.scalarFilterParams=e},t.prototype.evaluateNullValue=function(e){switch(e){case t.EQUALS:case t.NOT_EQUAL:if(this.scalarFilterParams.includeBlanksInEquals)return!0;break;case t.GREATER_THAN:case t.GREATER_THAN_OR_EQUAL:if(this.scalarFilterParams.includeBlanksInGreaterThan)return!0;break;case t.LESS_THAN:case t.LESS_THAN_OR_EQUAL:if(this.scalarFilterParams.includeBlanksInLessThan)return!0;break;case t.IN_RANGE:if(this.scalarFilterParams.includeBlanksInRange)return!0;break;case t.BLANK:return!0;case t.NOT_BLANK:return!1}return!1},t.prototype.evaluateNonNullValue=function(e,r,i){var o=this.comparator(),a=e[0]!=null?o(e[0],r):0;switch(i.type){case t.EQUALS:return a===0;case t.NOT_EQUAL:return a!==0;case t.GREATER_THAN:return a>0;case t.GREATER_THAN_OR_EQUAL:return a>=0;case t.LESS_THAN:return a<0;case t.LESS_THAN_OR_EQUAL:return a<=0;case t.IN_RANGE:{var s=o(e[1],r);return this.scalarFilterParams.inRangeInclusive?a>=0&&s<=0:a>0&&s<0}case t.BLANK:return this.isBlank(r);case t.NOT_BLANK:return!this.isBlank(r);default:return console.warn('AG Grid: Unexpected type of filter "'+i.type+'", it looks like the filter was configured with incorrect Filter Options'),!0}},t}(Cr),xY=function(){var n=function(t,e){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])},n(t,e)};return function(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");n(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}}(),SF=function(){return SF=Object.assign||function(n){for(var t,e=1,r=arguments.length;e<r;e++){t=arguments[e];for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(n[i]=t[i])}return n},SF.apply(this,arguments)},pxe=function(n,t,e,r){var i=arguments.length,o=i<3?t:r===null?r=Object.getOwnPropertyDescriptor(t,e):r,a;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(n,t,e,r);else for(var s=n.length-1;s>=0;s--)(a=n[s])&&(o=(i<3?a(o):i>3?a(t,e,o):a(t,e))||o);return i>3&&o&&Object.defineProperty(t,e,o),o},a$=1e3,s$=1/0,EY=function(n){xY(t,n);function t(e,r,i){var o=n.call(this,r,i)||this;return o.dateFilterParams=e,o}return t.prototype.conditionToString=function(e,r){var i=e.type,o=(r||{}).numberOfInputs,a=i==Cr.IN_RANGE||o===2,s=ho(e.dateFrom),l=ho(e.dateTo),u=this.dateFilterParams.inRangeFloatingFilterDateFormat;if(a){var c=s!==null?tg(s,u):"null",d=l!==null?tg(l,u):"null";return"".concat(c,"-").concat(d)}return s!=null?tg(s,u):"".concat(i)},t.prototype.updateParams=function(e){n.prototype.updateParams.call(this,e),this.dateFilterParams=e.dateFilterParams},t}(lG),uG=function(n){xY(t,n);function t(){var e=n.call(this,"dateFilter")||this;return e.eConditionPanelsFrom=[],e.eConditionPanelsTo=[],e.dateConditionFromComps=[],e.dateConditionToComps=[],e.minValidYear=a$,e.maxValidYear=s$,e.minValidDate=null,e.maxValidDate=null,e}return t.prototype.afterGuiAttached=function(e){n.prototype.afterGuiAttached.call(this,e),this.dateConditionFromComps[0].afterGuiAttached(e)},t.prototype.mapValuesFromModel=function(e){var r=e||{},i=r.dateFrom,o=r.dateTo,a=r.type;return[i&&ho(i)||null,o&&ho(o)||null].slice(0,this.getNumberOfInputs(a))},t.prototype.comparator=function(){return this.dateFilterParams.comparator?this.dateFilterParams.comparator:this.defaultComparator.bind(this)},t.prototype.defaultComparator=function(e,r){var i=r;return r==null||i<e?-1:i>e?1:0},t.prototype.setParams=function(e){this.dateFilterParams=e,n.prototype.setParams.call(this,e);var r=function(i,o){if(e[i]!=null)if(isNaN(e[i]))console.warn("AG Grid: DateFilter ".concat(i," is not a number"));else return e[i]==null?o:Number(e[i]);return o};this.minValidYear=r("minValidYear",a$),this.maxValidYear=r("maxValidYear",s$),this.minValidYear>this.maxValidYear&&console.warn("AG Grid: DateFilter minValidYear should be <= maxValidYear"),e.minValidDate?this.minValidDate=e.minValidDate instanceof Date?e.minValidDate:ho(e.minValidDate):this.minValidDate=null,e.maxValidDate?this.maxValidDate=e.maxValidDate instanceof Date?e.maxValidDate:ho(e.maxValidDate):this.maxValidDate=null,this.minValidDate&&this.maxValidDate&&this.minValidDate>this.maxValidDate&&console.warn("AG Grid: DateFilter minValidDate should be <= maxValidDate"),this.filterModelFormatter=new EY(this.dateFilterParams,this.localeService,this.optionsFactory)},t.prototype.createDateCompWrapper=function(e){var r=this,i=new CY(this.getContext(),this.userComponentFactory,{onDateChanged:function(){return r.onUiChanged()},filterParams:this.dateFilterParams},e);return this.addDestroyFunc(function(){return i.destroy()}),i},t.prototype.setElementValue=function(e,r){e.setDate(r)},t.prototype.setElementDisplayed=function(e,r){e.setDisplayed(r)},t.prototype.setElementDisabled=function(e,r){e.setDisabled(r)},t.prototype.getDefaultFilterOptions=function(){return t.DEFAULT_FILTER_OPTIONS},t.prototype.createValueElement=function(){var e=document.createElement("div");return e.classList.add("ag-filter-body"),this.createFromToElement(e,this.eConditionPanelsFrom,this.dateConditionFromComps,"from"),this.createFromToElement(e,this.eConditionPanelsTo,this.dateConditionToComps,"to"),e},t.prototype.createFromToElement=function(e,r,i,o){var a=document.createElement("div");a.classList.add("ag-filter-".concat(o)),a.classList.add("ag-filter-date-".concat(o)),r.push(a),e.appendChild(a),i.push(this.createDateCompWrapper(a))},t.prototype.removeValueElements=function(e,r){this.removeDateComps(this.dateConditionFromComps,e,r),this.removeDateComps(this.dateConditionToComps,e,r),this.removeItems(this.eConditionPanelsFrom,e,r),this.removeItems(this.eConditionPanelsTo,e,r)},t.prototype.removeDateComps=function(e,r,i){var o=this.removeItems(e,r,i);o.forEach(function(a){return a.destroy()})},t.prototype.isValidDateValue=function(e){if(e===null)return!1;if(this.minValidDate){if(e<this.minValidDate)return!1}else if(e.getUTCFullYear()<this.minValidYear)return!1;if(this.maxValidDate){if(e>this.maxValidDate)return!1}else if(e.getUTCFullYear()>this.maxValidYear)return!1;return!0},t.prototype.isConditionUiComplete=function(e){var r=this;if(!n.prototype.isConditionUiComplete.call(this,e))return!1;var i=!0;return this.forEachInput(function(o,a,s,l){s!==e||!i||a>=l||(i=i&&r.isValidDateValue(o.getDate()))}),i},t.prototype.areSimpleModelsEqual=function(e,r){return e.dateFrom===r.dateFrom&&e.dateTo===r.dateTo&&e.type===r.type},t.prototype.getFilterType=function(){return"date"},t.prototype.createCondition=function(e){var r=this.getConditionType(e),i={},o=this.getValues(e);return o.length>0&&(i.dateFrom=za(o[0])),o.length>1&&(i.dateTo=za(o[1])),SF({dateFrom:null,dateTo:null,filterType:this.getFilterType(),type:r},i)},t.prototype.resetPlaceholder=function(){var e=this.localeService.getLocaleTextFunc(),r=this.translate("dateFormatOoo"),i=e("ariaFilterValue","Filter Value");this.forEachInput(function(o){o.setInputPlaceholder(r),o.setInputAriaLabel(i)})},t.prototype.getInputs=function(e){return e>=this.dateConditionFromComps.length?[null,null]:[this.dateConditionFromComps[e],this.dateConditionToComps[e]]},t.prototype.getValues=function(e){var r=[];return this.forEachPositionInput(e,function(i,o,a,s){o<s&&r.push(i.getDate())}),r},t.prototype.translate=function(e){return e===zr.LESS_THAN?n.prototype.translate.call(this,"before"):e===zr.GREATER_THAN?n.prototype.translate.call(this,"after"):n.prototype.translate.call(this,e)},t.prototype.getModelAsString=function(e){var r;return(r=this.filterModelFormatter.getModelAsString(e))!==null&&r!==void 0?r:""},t.DEFAULT_FILTER_OPTIONS=[zr.EQUALS,zr.NOT_EQUAL,zr.LESS_THAN,zr.GREATER_THAN,zr.IN_RANGE,zr.BLANK,zr.NOT_BLANK],pxe([E("userComponentFactory")],t.prototype,"userComponentFactory",void 0),t}(zr),hxe=function(){var n=function(t,e){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])},n(t,e)};return function(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");n(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}}(),bY=function(n){hxe(t,n);function t(){return n!==null&&n.apply(this,arguments)||this}return t.prototype.getDefaultDebounceMs=function(){return 0},t.prototype.destroy=function(){n.prototype.destroy.call(this)},t.prototype.isEventFromFloatingFilter=function(e){return e&&e.afterFloatingFilter},t.prototype.isEventFromDataChange=function(e){return e==null?void 0:e.afterDataChange},t.prototype.getLastType=function(){return this.lastType},t.prototype.isReadOnly=function(){return this.readOnly},t.prototype.setLastTypeFromModel=function(e){if(!e){this.lastType=this.optionsFactory.getDefaultOption();return}var r=e.operator,i;if(r){var o=e;i=o.conditions[0]}else i=e;this.lastType=i.type},t.prototype.canWeEditAfterModelFromParentFilter=function(e){if(!e)return this.isTypeEditable(this.lastType);var r=e.operator;if(r)return!1;var i=e;return this.isTypeEditable(i.type)},t.prototype.init=function(e){this.setSimpleParams(e,!1)},t.prototype.setSimpleParams=function(e,r){r===void 0&&(r=!0),this.optionsFactory=new SY,this.optionsFactory.init(e.filterParams,this.getDefaultFilterOptions()),r||(this.lastType=this.optionsFactory.getDefaultOption()),this.readOnly=!!e.filterParams.readOnly;var i=this.isTypeEditable(this.optionsFactory.getDefaultOption());this.setEditable(i)},t.prototype.onParamsUpdated=function(e){this.refresh(e)},t.prototype.refresh=function(e){this.setSimpleParams(e)},t.prototype.doesFilterHaveSingleInput=function(e){var r=this.optionsFactory.getCustomOption(e),i=(r||{}).numberOfInputs;return i==null||i==1},t.prototype.isTypeEditable=function(e){var r=[Cr.IN_RANGE,Cr.EMPTY,Cr.BLANK,Cr.NOT_BLANK];return!!e&&!this.isReadOnly()&&this.doesFilterHaveSingleInput(e)&&r.indexOf(e)<0},t}(ae),fxe=function(){var n=function(t,e){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])},n(t,e)};return function(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");n(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}}(),NA=function(n,t,e,r){var i=arguments.length,o=i<3?t:r===null?r=Object.getOwnPropertyDescriptor(t,e):r,a;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(n,t,e,r);else for(var s=n.length-1;s>=0;s--)(a=n[s])&&(o=(i<3?a(o):i>3?a(t,e,o):a(t,e))||o);return i>3&&o&&Object.defineProperty(t,e,o),o},vxe=function(n){fxe(t,n);function t(){return n.call(this,`
            <div class="ag-floating-filter-input" role="presentation">
                <ag-input-text-field ref="eReadOnlyText"></ag-input-text-field>
                <div ref="eDateWrapper" style="display: flex;"></div>
            </div>`)||this}return t.prototype.getDefaultFilterOptions=function(){return uG.DEFAULT_FILTER_OPTIONS},t.prototype.init=function(e){n.prototype.init.call(this,e),this.params=e,this.filterParams=e.filterParams,this.createDateComponent(),this.filterModelFormatter=new EY(this.filterParams,this.localeService,this.optionsFactory);var r=this.localeService.getLocaleTextFunc();this.eReadOnlyText.setDisabled(!0).setInputAriaLabel(r("ariaDateFilterInput","Date Filter Input"))},t.prototype.onParamsUpdated=function(e){this.refresh(e)},t.prototype.refresh=function(e){n.prototype.refresh.call(this,e),this.params=e,this.filterParams=e.filterParams,this.updateDateComponent(),this.filterModelFormatter.updateParams({optionsFactory:this.optionsFactory,dateFilterParams:this.filterParams}),this.updateCompOnModelChange(e.currentParentModel())},t.prototype.updateCompOnModelChange=function(e){var r=!this.isReadOnly()&&this.canWeEditAfterModelFromParentFilter(e);if(this.setEditable(r),r){if(e){var i=e;this.dateComp.setDate(ho(i.dateFrom))}else this.dateComp.setDate(null);this.eReadOnlyText.setValue("")}else this.eReadOnlyText.setValue(this.filterModelFormatter.getModelAsString(e)),this.dateComp.setDate(null)},t.prototype.setEditable=function(e){Ct(this.eDateWrapper,e),Ct(this.eReadOnlyText.getGui(),!e)},t.prototype.onParentModelChanged=function(e,r){this.isEventFromFloatingFilter(r)||this.isEventFromDataChange(r)||(n.prototype.setLastTypeFromModel.call(this,e),this.updateCompOnModelChange(e))},t.prototype.onDateChanged=function(){var e=this,r=this.dateComp.getDate(),i=za(r);this.params.parentFilterInstance(function(o){if(o){var a=ho(i);o.onFloatingFilterChanged(e.getLastType()||null,a)}})},t.prototype.getDateComponentParams=function(){var e=Yd.getDebounceMs(this.params.filterParams,this.getDefaultDebounceMs());return{onDateChanged:ia(this.onDateChanged.bind(this),e),filterParams:this.params.column.getColDef().filterParams}},t.prototype.createDateComponent=function(){var e=this;this.dateComp=new CY(this.getContext(),this.userComponentFactory,this.getDateComponentParams(),this.eDateWrapper),this.addDestroyFunc(function(){return e.dateComp.destroy()})},t.prototype.updateDateComponent=function(){var e=this.gridOptionsService.addGridCommonParams(this.getDateComponentParams());this.dateComp.updateParams(e)},t.prototype.getFilterModelFormatter=function(){return this.filterModelFormatter},NA([E("userComponentFactory")],t.prototype,"userComponentFactory",void 0),NA([j("eReadOnlyText")],t.prototype,"eReadOnlyText",void 0),NA([j("eDateWrapper")],t.prototype,"eDateWrapper",void 0),t}(bY),gxe=function(){var n=function(t,e){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])},n(t,e)};return function(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");n(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}}(),yxe=function(n,t,e,r){var i=arguments.length,o=i<3?t:r===null?r=Object.getOwnPropertyDescriptor(t,e):r,a;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(n,t,e,r);else for(var s=n.length-1;s>=0;s--)(a=n[s])&&(o=(i<3?a(o):i>3?a(t,e,o):a(t,e))||o);return i>3&&o&&Object.defineProperty(t,e,o),o},mxe=function(n,t){var e=typeof Symbol=="function"&&n[Symbol.iterator];if(!e)return n;var r=e.call(n),i,o=[],a;try{for(;(t===void 0||t-- >0)&&!(i=r.next()).done;)o.push(i.value)}catch(s){a={error:s}}finally{try{i&&!i.done&&(e=r.return)&&e.call(r)}finally{if(a)throw a.error}}return o},Cxe=function(n){gxe(t,n);function t(){return n.call(this,`
            <div class="ag-filter-filter">
                <ag-input-text-field class="ag-date-filter" ref="eDateInput"></ag-input-text-field>
            </div>`)||this}return t.prototype.destroy=function(){n.prototype.destroy.call(this)},t.prototype.init=function(e){var r=this;this.params=e,this.setParams(e);var i=this.gridOptionsService.getDocument(),o=this.eDateInput.getInputElement();this.addManagedListener(o,"mousedown",function(){r.eDateInput.isDisabled()||r.usingSafariDatePicker||o.focus()}),this.addManagedListener(o,"input",function(a){a.target===i.activeElement&&(r.eDateInput.isDisabled()||r.params.onDateChanged())})},t.prototype.setParams=function(e){var r=this.eDateInput.getInputElement(),i=this.shouldUseBrowserDatePicker(e);this.usingSafariDatePicker=i&&tu(),r.type=i?"date":"text";var o=e.filterParams||{},a=o.minValidYear,s=o.maxValidYear,l=o.minValidDate,u=o.maxValidDate;if(l&&a&&Ge("DateFilter should not have both minValidDate and minValidYear parameters set at the same time! minValidYear will be ignored."),u&&s&&Ge("DateFilter should not have both maxValidDate and maxValidYear parameters set at the same time! maxValidYear will be ignored."),l&&u){var c=mxe([l,u].map(function(h){return h instanceof Date?h:ho(h)}),2),d=c[0],p=c[1];d&&p&&d.getTime()>p.getTime()&&Ge("DateFilter parameter minValidDate should always be lower than or equal to parameter maxValidDate.")}l?l instanceof Date?r.min=tg(l):r.min=l:a&&(r.min="".concat(a,"-01-01")),u?u instanceof Date?r.max=tg(u):r.max=u:s&&(r.max="".concat(s,"-12-31"))},t.prototype.onParamsUpdated=function(e){this.refresh(e)},t.prototype.refresh=function(e){this.params=e,this.setParams(e)},t.prototype.getDate=function(){return ho(this.eDateInput.getValue())},t.prototype.setDate=function(e){this.eDateInput.setValue(za(e,!1))},t.prototype.setInputPlaceholder=function(e){this.eDateInput.setInputPlaceholder(e)},t.prototype.setDisabled=function(e){this.eDateInput.setDisabled(e)},t.prototype.afterGuiAttached=function(e){(!e||!e.suppressFocus)&&this.eDateInput.getInputElement().focus()},t.prototype.shouldUseBrowserDatePicker=function(e){return e.filterParams&&e.filterParams.browserDatePicker!=null?e.filterParams.browserDatePicker:fT()||$k()||tu()&&jk()>=14.1},yxe([j("eDateInput")],t.prototype,"eDateInput",void 0),t}(ae),Sxe=function(){var n=function(t,e){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])},n(t,e)};return function(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");n(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}}(),su=function(n){Sxe(t,n);function t(e,r,i){return r===void 0&&(r="ag-text-field"),i===void 0&&(i="text"),n.call(this,e,r,i)||this}return t.prototype.postConstruct=function(){n.prototype.postConstruct.call(this),this.config.allowedCharPattern&&this.preventDisallowedCharacters()},t.prototype.setValue=function(e,r){return this.eInput.value!==e&&(this.eInput.value=oe(e)?e:""),n.prototype.setValue.call(this,e,r)},t.prototype.setStartValue=function(e){this.setValue(e,!0)},t.prototype.preventDisallowedCharacters=function(){var e=new RegExp("[".concat(this.config.allowedCharPattern,"]")),r=function(i){gT(i)&&i.key&&!e.test(i.key)&&i.preventDefault()};this.addManagedListener(this.eInput,"keydown",r),this.addManagedListener(this.eInput,"paste",function(i){var o,a=(o=i.clipboardData)===null||o===void 0?void 0:o.getData("text");a&&a.split("").some(function(s){return!e.test(s)})&&i.preventDefault()})},t}(md),wxe=function(){var n=function(t,e){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])},n(t,e)};return function(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");n(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}}(),Bw=function(n){wxe(t,n);function t(e){return n.call(this,e,"ag-number-field","number")||this}return t.prototype.postConstruct=function(){var e=this;n.prototype.postConstruct.call(this),this.addManagedListener(this.eInput,"blur",function(){var r=parseFloat(e.eInput.value),i=isNaN(r)?"":e.normalizeValue(r.toString());e.value!==i&&e.setValue(i)}),this.addManagedListener(this.eInput,"wheel",this.onWheel.bind(this)),this.eInput.step="any"},t.prototype.onWheel=function(e){document.activeElement===this.eInput&&e.preventDefault()},t.prototype.normalizeValue=function(e){if(e==="")return"";this.precision!=null&&(e=this.adjustPrecision(e));var r=parseFloat(e);return this.min!=null&&r<this.min?e=this.min.toString():this.max!=null&&r>this.max&&(e=this.max.toString()),e},t.prototype.adjustPrecision=function(e,r){if(this.precision==null)return e;if(r){var i=parseFloat(e).toFixed(this.precision);return parseFloat(i).toString()}var o=String(e).split(".");if(o.length>1){if(o[1].length<=this.precision)return e;if(this.precision>0)return"".concat(o[0],".").concat(o[1].slice(0,this.precision))}return o[0]},t.prototype.setMin=function(e){return this.min===e?this:(this.min=e,Yl(this.eInput,"min",e),this)},t.prototype.setMax=function(e){return this.max===e?this:(this.max=e,Yl(this.eInput,"max",e),this)},t.prototype.setPrecision=function(e){return this.precision=e,this},t.prototype.setStep=function(e){return this.step===e?this:(this.step=e,Yl(this.eInput,"step",e),this)},t.prototype.setValue=function(e,r){var i=this;return this.setValueOrInputValue(function(o){return n.prototype.setValue.call(i,o,r)},function(){return i},e)},t.prototype.setStartValue=function(e){var r=this;return this.setValueOrInputValue(function(i){return n.prototype.setValue.call(r,i,!0)},function(i){r.eInput.value=i},e)},t.prototype.setValueOrInputValue=function(e,r,i){if(oe(i)){var o=this.isScientificNotation(i);if(o&&this.eInput.validity.valid)return e(i);if(!o){i=this.adjustPrecision(i);var a=this.normalizeValue(i);o=i!=a}if(o)return r(i)}return e(i)},t.prototype.getValue=function(){if(this.eInput.validity.valid){var e=this.eInput.value;return this.isScientificNotation(e)?this.adjustPrecision(e,!0):n.prototype.getValue.call(this)}},t.prototype.isScientificNotation=function(e){return typeof e=="string"&&e.includes("e")},t}(su),OY=function(){var n=function(t,e){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])},n(t,e)};return function(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");n(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}}(),RY=function(n){OY(t,n);function t(){return n!==null&&n.apply(this,arguments)||this}return t.prototype.conditionToString=function(e,r){var i=(r||{}).numberOfInputs,o=e.type==Cr.IN_RANGE||i===2;return o?"".concat(this.formatValue(e.filter),"-").concat(this.formatValue(e.filterTo)):e.filter!=null?this.formatValue(e.filter):"".concat(e.type)},t}(lG);function wF(n){var t=(n??{}).allowedCharPattern;return t??null}var cG=function(n){OY(t,n);function t(){var e=n.call(this,"numberFilter")||this;return e.eValuesFrom=[],e.eValuesTo=[],e}return t.prototype.refresh=function(e){return this.numberFilterParams.allowedCharPattern!==e.allowedCharPattern?!1:n.prototype.refresh.call(this,e)},t.prototype.mapValuesFromModel=function(e){var r=e||{},i=r.filter,o=r.filterTo,a=r.type;return[this.processValue(i),this.processValue(o)].slice(0,this.getNumberOfInputs(a))},t.prototype.getDefaultDebounceMs=function(){return 500},t.prototype.comparator=function(){return function(e,r){return e===r?0:e<r?1:-1}},t.prototype.setParams=function(e){this.numberFilterParams=e,n.prototype.setParams.call(this,e),this.filterModelFormatter=new RY(this.localeService,this.optionsFactory,this.numberFilterParams.numberFormatter)},t.prototype.getDefaultFilterOptions=function(){return t.DEFAULT_FILTER_OPTIONS},t.prototype.setElementValue=function(e,r,i){var o=!i&&this.numberFilterParams.numberFormatter?this.numberFilterParams.numberFormatter(r??null):r;n.prototype.setElementValue.call(this,e,o)},t.prototype.createValueElement=function(){var e=wF(this.numberFilterParams),r=document.createElement("div");return r.classList.add("ag-filter-body"),hn(r,"presentation"),this.createFromToElement(r,this.eValuesFrom,"from",e),this.createFromToElement(r,this.eValuesTo,"to",e),r},t.prototype.createFromToElement=function(e,r,i,o){var a=this.createManagedBean(o?new su({allowedCharPattern:o}):new Bw);a.addCssClass("ag-filter-".concat(i)),a.addCssClass("ag-filter-filter"),r.push(a),e.appendChild(a.getGui())},t.prototype.removeValueElements=function(e,r){this.removeComponents(this.eValuesFrom,e,r),this.removeComponents(this.eValuesTo,e,r)},t.prototype.getValues=function(e){var r=this,i=[];return this.forEachPositionInput(e,function(o,a,s,l){a<l&&i.push(r.processValue(r.stringToFloat(o.getValue())))}),i},t.prototype.areSimpleModelsEqual=function(e,r){return e.filter===r.filter&&e.filterTo===r.filterTo&&e.type===r.type},t.prototype.getFilterType=function(){return"number"},t.prototype.processValue=function(e){return e==null||isNaN(e)?null:e},t.prototype.stringToFloat=function(e){if(typeof e=="number")return e;var r=Kl(e);return r!=null&&r.trim()===""&&(r=null),this.numberFilterParams.numberParser?this.numberFilterParams.numberParser(r):r==null||r.trim()==="-"?null:parseFloat(r)},t.prototype.createCondition=function(e){var r=this.getConditionType(e),i={filterType:this.getFilterType(),type:r},o=this.getValues(e);return o.length>0&&(i.filter=o[0]),o.length>1&&(i.filterTo=o[1]),i},t.prototype.getInputs=function(e){return e>=this.eValuesFrom.length?[null,null]:[this.eValuesFrom[e],this.eValuesTo[e]]},t.prototype.getModelAsString=function(e){var r;return(r=this.filterModelFormatter.getModelAsString(e))!==null&&r!==void 0?r:""},t.prototype.hasInvalidInputs=function(){var e=!1;return this.forEachInput(function(r){if(!r.getInputElement().validity.valid){e=!0;return}}),e},t.DEFAULT_FILTER_OPTIONS=[zr.EQUALS,zr.NOT_EQUAL,zr.GREATER_THAN,zr.GREATER_THAN_OR_EQUAL,zr.LESS_THAN,zr.LESS_THAN_OR_EQUAL,zr.IN_RANGE,zr.BLANK,zr.NOT_BLANK],t}(zr),TY=function(){var n=function(t,e){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])},n(t,e)};return function(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");n(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}}(),Lb=function(){return Lb=Object.assign||function(n){for(var t,e=1,r=arguments.length;e<r;e++){t=arguments[e];for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(n[i]=t[i])}return n},Lb.apply(this,arguments)},PY=function(n){TY(t,n);function t(){return n!==null&&n.apply(this,arguments)||this}return t.prototype.conditionToString=function(e,r){var i=(r||{}).numberOfInputs,o=e.type==Cr.IN_RANGE||i===2;return o?"".concat(e.filter,"-").concat(e.filterTo):e.filter!=null?"".concat(e.filter):"".concat(e.type)},t}(lG),Lg=function(n){TY(t,n);function t(){var e=n.call(this,"textFilter")||this;return e.eValuesFrom=[],e.eValuesTo=[],e}return t.trimInput=function(e){var r=e&&e.trim();return r===""?e:r},t.prototype.getDefaultDebounceMs=function(){return 500},t.prototype.setParams=function(e){this.textFilterParams=e,n.prototype.setParams.call(this,e),this.matcher=this.getTextMatcher(),this.formatter=this.textFilterParams.textFormatter||(this.textFilterParams.caseSensitive?t.DEFAULT_FORMATTER:t.DEFAULT_LOWERCASE_FORMATTER),this.filterModelFormatter=new PY(this.localeService,this.optionsFactory)},t.prototype.getTextMatcher=function(){var e=this.textFilterParams.textCustomComparator;return e?(A.warnOnce("textCustomComparator is deprecated, use textMatcher instead."),function(r){var i=r.filterOption,o=r.value,a=r.filterText;return e(i,o,a)}):this.textFilterParams.textMatcher||t.DEFAULT_MATCHER},t.prototype.createCondition=function(e){var r=this.getConditionType(e),i={filterType:this.getFilterType(),type:r},o=this.getValuesWithSideEffects(e,!0);return o.length>0&&(i.filter=o[0]),o.length>1&&(i.filterTo=o[1]),i},t.prototype.getFilterType=function(){return"text"},t.prototype.areSimpleModelsEqual=function(e,r){return e.filter===r.filter&&e.filterTo===r.filterTo&&e.type===r.type},t.prototype.getInputs=function(e){return e>=this.eValuesFrom.length?[null,null]:[this.eValuesFrom[e],this.eValuesTo[e]]},t.prototype.getValues=function(e){return this.getValuesWithSideEffects(e,!1)},t.prototype.getValuesWithSideEffects=function(e,r){var i=this,o=[];return this.forEachPositionInput(e,function(a,s,l,u){var c;if(s<u){var d=Kl(a.getValue());r&&i.textFilterParams.trimInput&&(d=(c=t.trimInput(d))!==null&&c!==void 0?c:null,a.setValue(d,!0)),o.push(d)}}),o},t.prototype.getDefaultFilterOptions=function(){return t.DEFAULT_FILTER_OPTIONS},t.prototype.createValueElement=function(){var e=document.createElement("div");return e.classList.add("ag-filter-body"),hn(e,"presentation"),this.createFromToElement(e,this.eValuesFrom,"from"),this.createFromToElement(e,this.eValuesTo,"to"),e},t.prototype.createFromToElement=function(e,r,i){var o=this.createManagedBean(new su);o.addCssClass("ag-filter-".concat(i)),o.addCssClass("ag-filter-filter"),r.push(o),e.appendChild(o.getGui())},t.prototype.removeValueElements=function(e,r){this.removeComponents(this.eValuesFrom,e,r),this.removeComponents(this.eValuesTo,e,r)},t.prototype.mapValuesFromModel=function(e){var r=e||{},i=r.filter,o=r.filterTo,a=r.type;return[i||null,o||null].slice(0,this.getNumberOfInputs(a))},t.prototype.evaluateNullValue=function(e){var r=[Cr.NOT_EQUAL,Cr.NOT_CONTAINS,Cr.BLANK];return e?r.indexOf(e)>=0:!1},t.prototype.evaluateNonNullValue=function(e,r,i,o){var a=this,s=e.map(function(y){return a.formatter(y)})||[],l=this.formatter(r),u=this.textFilterParams,c=u.api,d=u.colDef,p=u.column,h=u.columnApi,f=u.context,v=u.textFormatter;if(i.type===Cr.BLANK)return this.isBlank(r);if(i.type===Cr.NOT_BLANK)return!this.isBlank(r);var g={api:c,colDef:d,column:p,columnApi:h,context:f,node:o.node,data:o.data,filterOption:i.type,value:l,textFormatter:v};return s.some(function(y){return a.matcher(Lb(Lb({},g),{filterText:y}))})},t.prototype.getModelAsString=function(e){var r;return(r=this.filterModelFormatter.getModelAsString(e))!==null&&r!==void 0?r:""},t.DEFAULT_FILTER_OPTIONS=[Cr.CONTAINS,Cr.NOT_CONTAINS,Cr.EQUALS,Cr.NOT_EQUAL,Cr.STARTS_WITH,Cr.ENDS_WITH,Cr.BLANK,Cr.NOT_BLANK],t.DEFAULT_FORMATTER=function(e){return e},t.DEFAULT_LOWERCASE_FORMATTER=function(e){return e==null?null:e.toString().toLowerCase()},t.DEFAULT_MATCHER=function(e){var r=e.filterOption,i=e.value,o=e.filterText;if(o==null)return!1;switch(r){case t.CONTAINS:return i.indexOf(o)>=0;case t.NOT_CONTAINS:return i.indexOf(o)<0;case t.EQUALS:return i===o;case t.NOT_EQUAL:return i!=o;case t.STARTS_WITH:return i.indexOf(o)===0;case t.ENDS_WITH:var a=i.lastIndexOf(o);return a>=0&&a===i.length-o.length;default:return!1}},t}(Cr),AY=function(){var n=function(t,e){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])},n(t,e)};return function(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");n(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}}(),kA=function(n,t,e,r){var i=arguments.length,o=i<3?t:r===null?r=Object.getOwnPropertyDescriptor(t,e):r,a;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(n,t,e,r);else for(var s=n.length-1;s>=0;s--)(a=n[s])&&(o=(i<3?a(o):i>3?a(t,e,o):a(t,e))||o);return i>3&&o&&Object.defineProperty(t,e,o),o},DY=function(n){AY(t,n);function t(e){var r=n.call(this)||this;return r.params=e,r.valueChangedListener=function(){},r}return t.prototype.setupGui=function(e){var r=this,i;this.eFloatingFilterTextInput=this.createManagedBean(new su((i=this.params)===null||i===void 0?void 0:i.config));var o=this.eFloatingFilterTextInput.getGui();e.appendChild(o),this.addManagedListener(o,"input",function(a){return r.valueChangedListener(a)}),this.addManagedListener(o,"keydown",function(a){return r.valueChangedListener(a)})},t.prototype.setEditable=function(e){this.eFloatingFilterTextInput.setDisabled(!e)},t.prototype.setAutoComplete=function(e){this.eFloatingFilterTextInput.setAutoComplete(e)},t.prototype.getValue=function(){return this.eFloatingFilterTextInput.getValue()},t.prototype.setValue=function(e,r){this.eFloatingFilterTextInput.setValue(e,r)},t.prototype.setValueChangedListener=function(e){this.valueChangedListener=e},t.prototype.setParams=function(e){this.setAriaLabel(e.ariaLabel),e.autoComplete!==void 0&&this.setAutoComplete(e.autoComplete)},t.prototype.setAriaLabel=function(e){this.eFloatingFilterTextInput.setInputAriaLabel(e)},t}(X),MY=function(n){AY(t,n);function t(){return n!==null&&n.apply(this,arguments)||this}return t.prototype.postConstruct=function(){this.setTemplate(`
            <div class="ag-floating-filter-input" role="presentation" ref="eFloatingFilterInputContainer"></div>
        `)},t.prototype.getDefaultDebounceMs=function(){return 500},t.prototype.onParentModelChanged=function(e,r){this.isEventFromFloatingFilter(r)||this.isEventFromDataChange(r)||(this.setLastTypeFromModel(e),this.setEditable(this.canWeEditAfterModelFromParentFilter(e)),this.floatingFilterInputService.setValue(this.getFilterModelFormatter().getModelAsString(e)))},t.prototype.init=function(e){this.setupFloatingFilterInputService(e),n.prototype.init.call(this,e),this.setTextInputParams(e)},t.prototype.setupFloatingFilterInputService=function(e){this.floatingFilterInputService=this.createFloatingFilterInputService(e),this.floatingFilterInputService.setupGui(this.eFloatingFilterInputContainer)},t.prototype.setTextInputParams=function(e){var r;this.params=e;var i=(r=e.browserAutoComplete)!==null&&r!==void 0?r:!1;if(this.floatingFilterInputService.setParams({ariaLabel:this.getAriaLabel(e),autoComplete:i}),this.applyActive=Yd.isUseApplyButton(this.params.filterParams),!this.isReadOnly()){var o=Yd.getDebounceMs(this.params.filterParams,this.getDefaultDebounceMs()),a=ia(this.syncUpWithParentFilter.bind(this),o);this.floatingFilterInputService.setValueChangedListener(a)}},t.prototype.onParamsUpdated=function(e){this.refresh(e)},t.prototype.refresh=function(e){n.prototype.refresh.call(this,e),this.setTextInputParams(e)},t.prototype.recreateFloatingFilterInputService=function(e){var r=this.floatingFilterInputService.getValue();Rn(this.eFloatingFilterInputContainer),this.destroyBean(this.floatingFilterInputService),this.setupFloatingFilterInputService(e),this.floatingFilterInputService.setValue(r,!0)},t.prototype.getAriaLabel=function(e){var r=this.columnModel.getDisplayNameForColumn(e.column,"header",!0),i=this.localeService.getLocaleTextFunc();return"".concat(r," ").concat(i("ariaFilterInput","Filter Input"))},t.prototype.syncUpWithParentFilter=function(e){var r=this,i=e.key===U.ENTER;if(!(this.applyActive&&!i)){var o=this.floatingFilterInputService.getValue();this.params.filterParams.trimInput&&(o=Lg.trimInput(o),this.floatingFilterInputService.setValue(o,!0)),this.params.parentFilterInstance(function(a){a&&a.onFloatingFilterChanged(r.getLastType()||null,o||null)})}},t.prototype.setEditable=function(e){this.floatingFilterInputService.setEditable(e)},kA([E("columnModel")],t.prototype,"columnModel",void 0),kA([j("eFloatingFilterInputContainer")],t.prototype,"eFloatingFilterInputContainer",void 0),kA([z],t.prototype,"postConstruct",null),t}(bY),LY=function(){var n=function(t,e){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])},n(t,e)};return function(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");n(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}}(),_xe=function(n){LY(t,n);function t(){var e=n!==null&&n.apply(this,arguments)||this;return e.valueChangedListener=function(){},e.numberInputActive=!0,e}return t.prototype.setupGui=function(e){var r=this;this.eFloatingFilterNumberInput=this.createManagedBean(new Bw),this.eFloatingFilterTextInput=this.createManagedBean(new su),this.eFloatingFilterTextInput.setDisabled(!0);var i=this.eFloatingFilterNumberInput.getGui(),o=this.eFloatingFilterTextInput.getGui();e.appendChild(i),e.appendChild(o),this.setupListeners(i,function(a){return r.valueChangedListener(a)}),this.setupListeners(o,function(a){return r.valueChangedListener(a)})},t.prototype.setEditable=function(e){this.numberInputActive=e,this.eFloatingFilterNumberInput.setDisplayed(this.numberInputActive),this.eFloatingFilterTextInput.setDisplayed(!this.numberInputActive)},t.prototype.setAutoComplete=function(e){this.eFloatingFilterNumberInput.setAutoComplete(e),this.eFloatingFilterTextInput.setAutoComplete(e)},t.prototype.getValue=function(){return this.getActiveInputElement().getValue()},t.prototype.setValue=function(e,r){this.getActiveInputElement().setValue(e,r)},t.prototype.getActiveInputElement=function(){return this.numberInputActive?this.eFloatingFilterNumberInput:this.eFloatingFilterTextInput},t.prototype.setValueChangedListener=function(e){this.valueChangedListener=e},t.prototype.setupListeners=function(e,r){this.addManagedListener(e,"input",r),this.addManagedListener(e,"keydown",r)},t.prototype.setParams=function(e){this.setAriaLabel(e.ariaLabel),e.autoComplete!==void 0&&this.setAutoComplete(e.autoComplete)},t.prototype.setAriaLabel=function(e){this.eFloatingFilterNumberInput.setInputAriaLabel(e),this.eFloatingFilterTextInput.setInputAriaLabel(e)},t}(X),xxe=function(n){LY(t,n);function t(){return n!==null&&n.apply(this,arguments)||this}return t.prototype.init=function(e){var r;n.prototype.init.call(this,e),this.filterModelFormatter=new RY(this.localeService,this.optionsFactory,(r=e.filterParams)===null||r===void 0?void 0:r.numberFormatter)},t.prototype.onParamsUpdated=function(e){this.refresh(e)},t.prototype.refresh=function(e){var r=wF(e.filterParams);r!==this.allowedCharPattern&&this.recreateFloatingFilterInputService(e),n.prototype.refresh.call(this,e),this.filterModelFormatter.updateParams({optionsFactory:this.optionsFactory})},t.prototype.getDefaultFilterOptions=function(){return cG.DEFAULT_FILTER_OPTIONS},t.prototype.getFilterModelFormatter=function(){return this.filterModelFormatter},t.prototype.createFloatingFilterInputService=function(e){return this.allowedCharPattern=wF(e.filterParams),this.allowedCharPattern?this.createManagedBean(new DY({config:{allowedCharPattern:this.allowedCharPattern}})):this.createManagedBean(new _xe)},t}(MY),Exe=function(){var n=function(t,e){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])},n(t,e)};return function(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");n(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}}(),FY=function(n){Exe(t,n);function t(){return n!==null&&n.apply(this,arguments)||this}return t.prototype.init=function(e){n.prototype.init.call(this,e),this.filterModelFormatter=new PY(this.localeService,this.optionsFactory)},t.prototype.onParamsUpdated=function(e){this.refresh(e)},t.prototype.refresh=function(e){n.prototype.refresh.call(this,e),this.filterModelFormatter.updateParams({optionsFactory:this.optionsFactory})},t.prototype.getDefaultFilterOptions=function(){return Lg.DEFAULT_FILTER_OPTIONS},t.prototype.getFilterModelFormatter=function(){return this.filterModelFormatter},t.prototype.createFloatingFilterInputService=function(){return this.createManagedBean(new DY)},t}(MY),qr=function(){function n(t,e){e===void 0&&(e=!1);var r=this;this.destroyFuncs=[],this.touching=!1,this.eventService=new Us,this.eElement=t,this.preventMouseClick=e;var i=this.onTouchStart.bind(this),o=this.onTouchMove.bind(this),a=this.onTouchEnd.bind(this);this.eElement.addEventListener("touchstart",i,{passive:!0}),this.eElement.addEventListener("touchmove",o,{passive:!0}),this.eElement.addEventListener("touchend",a,{passive:!1}),this.destroyFuncs.push(function(){r.eElement.removeEventListener("touchstart",i,{passive:!0}),r.eElement.removeEventListener("touchmove",o,{passive:!0}),r.eElement.removeEventListener("touchend",a,{passive:!1})})}return n.prototype.getActiveTouch=function(t){for(var e=0;e<t.length;e++){var r=t[e].identifier===this.touchStart.identifier;if(r)return t[e]}return null},n.prototype.addEventListener=function(t,e){this.eventService.addEventListener(t,e)},n.prototype.removeEventListener=function(t,e){this.eventService.removeEventListener(t,e)},n.prototype.onTouchStart=function(t){var e=this;if(!this.touching){this.touchStart=t.touches[0],this.touching=!0,this.moved=!1;var r=this.touchStart;window.setTimeout(function(){var i=e.touchStart===r;if(e.touching&&i&&!e.moved){e.moved=!0;var o={type:n.EVENT_LONG_TAP,touchStart:e.touchStart,touchEvent:t};e.eventService.dispatchEvent(o)}},500)}},n.prototype.onTouchMove=function(t){if(this.touching){var e=this.getActiveTouch(t.touches);if(e){var r=!iG(e,this.touchStart,4);r&&(this.moved=!0)}}},n.prototype.onTouchEnd=function(t){if(this.touching){if(!this.moved){var e={type:n.EVENT_TAP,touchStart:this.touchStart};this.eventService.dispatchEvent(e),this.checkForDoubleTap()}this.preventMouseClick&&t.cancelable&&t.preventDefault(),this.touching=!1}},n.prototype.checkForDoubleTap=function(){var t=new Date().getTime();if(this.lastTapTime&&this.lastTapTime>0){var e=t-this.lastTapTime;if(e>n.DOUBLE_TAP_MILLIS){var r={type:n.EVENT_DOUBLE_TAP,touchStart:this.touchStart};this.eventService.dispatchEvent(r),this.lastTapTime=null}else this.lastTapTime=t}else this.lastTapTime=t},n.prototype.destroy=function(){this.destroyFuncs.forEach(function(t){return t()})},n.EVENT_TAP="tap",n.EVENT_DOUBLE_TAP="doubleTap",n.EVENT_LONG_TAP="longTap",n.DOUBLE_TAP_MILLIS=500,n}(),bxe=function(){var n=function(t,e){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])},n(t,e)};return function(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");n(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}}(),Rp=function(n,t,e,r){var i=arguments.length,o=i<3?t:r===null?r=Object.getOwnPropertyDescriptor(t,e):r,a;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(n,t,e,r);else for(var s=n.length-1;s>=0;s--)(a=n[s])&&(o=(i<3?a(o):i>3?a(t,e,o):a(t,e))||o);return i>3&&o&&Object.defineProperty(t,e,o),o},ST=function(n){bxe(t,n);function t(e){var r=n.call(this)||this;return e||r.setTemplate(t.TEMPLATE),r}return t.prototype.attachCustomElements=function(e,r,i,o,a){this.eSortOrder=e,this.eSortAsc=r,this.eSortDesc=i,this.eSortMixed=o,this.eSortNone=a},t.prototype.setupSort=function(e,r){var i=this;r===void 0&&(r=!1),this.column=e,this.suppressOrder=r,this.setupMultiSortIndicator(),this.column.isSortable()&&(this.addInIcon("sortAscending",this.eSortAsc,e),this.addInIcon("sortDescending",this.eSortDesc,e),this.addInIcon("sortUnSort",this.eSortNone,e),this.addManagedPropertyListener("unSortIcon",function(){return i.updateIcons()}),this.addManagedListener(this.eventService,T.EVENT_NEW_COLUMNS_LOADED,function(){return i.updateIcons()}),this.addManagedListener(this.eventService,T.EVENT_SORT_CHANGED,function(){return i.onSortChanged()}),this.addManagedListener(this.eventService,T.EVENT_COLUMN_ROW_GROUP_CHANGED,function(){return i.onSortChanged()}),this.onSortChanged())},t.prototype.addInIcon=function(e,r,i){if(r!=null){var o=Qr(e,this.gridOptionsService,i);o&&r.appendChild(o)}},t.prototype.onSortChanged=function(){this.updateIcons(),this.suppressOrder||this.updateSortOrder()},t.prototype.updateIcons=function(){var e=this.sortController.getDisplaySortForColumn(this.column);if(this.eSortAsc){var r=e==="asc";Ct(this.eSortAsc,r,{skipAriaHidden:!0})}if(this.eSortDesc){var i=e==="desc";Ct(this.eSortDesc,i,{skipAriaHidden:!0})}if(this.eSortNone){var o=!this.column.getColDef().unSortIcon&&!this.gridOptionsService.get("unSortIcon"),a=e==null;Ct(this.eSortNone,!o&&a,{skipAriaHidden:!0})}},t.prototype.setupMultiSortIndicator=function(){var e=this;this.addInIcon("sortUnSort",this.eSortMixed,this.column);var r=this.column.getColDef().showRowGroup,i=this.gridOptionsService.isColumnsSortingCoupledToGroup();i&&r&&(this.addManagedListener(this.eventService,T.EVENT_SORT_CHANGED,function(){return e.updateMultiSortIndicator()}),this.addManagedListener(this.eventService,T.EVENT_COLUMN_ROW_GROUP_CHANGED,function(){return e.updateMultiSortIndicator()}),this.updateMultiSortIndicator())},t.prototype.updateMultiSortIndicator=function(){if(this.eSortMixed){var e=this.sortController.getDisplaySortForColumn(this.column)==="mixed";Ct(this.eSortMixed,e,{skipAriaHidden:!0})}},t.prototype.updateSortOrder=function(){var e=this,r;if(this.eSortOrder){var i=this.sortController.getColumnsWithSortingOrdered(),o=(r=this.sortController.getDisplaySortIndexForColumn(this.column))!==null&&r!==void 0?r:-1,a=i.some(function(l){var u;return(u=e.sortController.getDisplaySortIndexForColumn(l))!==null&&u!==void 0?u:-1>=1}),s=o>=0&&a;Ct(this.eSortOrder,s,{skipAriaHidden:!0}),o>=0?this.eSortOrder.textContent=(o+1).toString():Rn(this.eSortOrder)}},t.TEMPLATE=`<span class="ag-sort-indicator-container">
            <span ref="eSortOrder" class="ag-sort-indicator-icon ag-sort-order ag-hidden" aria-hidden="true"></span>
            <span ref="eSortAsc" class="ag-sort-indicator-icon ag-sort-ascending-icon ag-hidden" aria-hidden="true"></span>
            <span ref="eSortDesc" class="ag-sort-indicator-icon ag-sort-descending-icon ag-hidden" aria-hidden="true"></span>
            <span ref="eSortMixed" class="ag-sort-indicator-icon ag-sort-mixed-icon ag-hidden" aria-hidden="true"></span>
            <span ref="eSortNone" class="ag-sort-indicator-icon ag-sort-none-icon ag-hidden" aria-hidden="true"></span>
        </span>`,Rp([j("eSortOrder")],t.prototype,"eSortOrder",void 0),Rp([j("eSortAsc")],t.prototype,"eSortAsc",void 0),Rp([j("eSortDesc")],t.prototype,"eSortDesc",void 0),Rp([j("eSortMixed")],t.prototype,"eSortMixed",void 0),Rp([j("eSortNone")],t.prototype,"eSortNone",void 0),Rp([E("columnModel")],t.prototype,"columnModel",void 0),Rp([E("sortController")],t.prototype,"sortController",void 0),t}(ae),Oxe=function(){var n=function(t,e){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])},n(t,e)};return function(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");n(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}}(),Ui=function(n,t,e,r){var i=arguments.length,o=i<3?t:r===null?r=Object.getOwnPropertyDescriptor(t,e):r,a;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(n,t,e,r);else for(var s=n.length-1;s>=0;s--)(a=n[s])&&(o=(i<3?a(o):i>3?a(t,e,o):a(t,e))||o);return i>3&&o&&Object.defineProperty(t,e,o),o},_F=function(n){Oxe(t,n);function t(){var e=n!==null&&n.apply(this,arguments)||this;return e.lastMovingChanged=0,e}return t.prototype.destroy=function(){n.prototype.destroy.call(this)},t.prototype.refresh=function(e){return this.params=e,this.workOutTemplate()!=this.currentTemplate||this.workOutShowMenu()!=this.currentShowMenu||this.workOutSort()!=this.currentSort||this.shouldSuppressMenuHide()!=this.currentSuppressMenuHide?!1:(this.setDisplayName(e),!0)},t.prototype.workOutTemplate=function(){var e,r=(e=this.params.template)!==null&&e!==void 0?e:t.TEMPLATE;return r=r&&r.trim?r.trim():r,r},t.prototype.init=function(e){this.params=e,this.currentTemplate=this.workOutTemplate(),this.setTemplate(this.currentTemplate),this.setupTap(),this.setMenu(),this.setupSort(),this.setupFilterIcon(),this.setupFilterButton(),this.setDisplayName(e)},t.prototype.setDisplayName=function(e){if(this.currentDisplayName!=e.displayName){this.currentDisplayName=e.displayName;var r=cn(this.currentDisplayName,!0);this.eText&&(this.eText.textContent=r)}},t.prototype.addInIcon=function(e,r,i){if(r!=null){var o=Qr(e,this.gridOptionsService,i);o&&r.appendChild(o)}},t.prototype.setupTap=function(){var e=this,r=this.gridOptionsService;if(!r.get("suppressTouch")){var i=new qr(this.getGui(),!0),o=this.shouldSuppressMenuHide(),a=o&&oe(this.eMenu),s=a?new qr(this.eMenu,!0):i;if(this.params.enableMenu){var l=a?"EVENT_TAP":"EVENT_LONG_TAP",u=function(p){return e.params.showColumnMenuAfterMouseClick(p.touchStart)};this.addManagedListener(s,qr[l],u)}if(this.params.enableSorting){var c=function(p){var h,f,v=p.touchStart.target;o&&(!((h=e.eMenu)===null||h===void 0)&&h.contains(v)||!((f=e.eFilterButton)===null||f===void 0)&&f.contains(v))||e.sortController.progressSort(e.params.column,!1,"uiColumnSorted")};this.addManagedListener(i,qr.EVENT_TAP,c)}if(this.params.enableFilterButton){var d=new qr(this.eFilterButton,!0);this.addManagedListener(d,"tap",function(){return e.params.showFilter(e.eFilterButton)}),this.addDestroyFunc(function(){return d.destroy()})}this.addDestroyFunc(function(){return i.destroy()}),a&&this.addDestroyFunc(function(){return s.destroy()})}},t.prototype.workOutShowMenu=function(){return this.params.enableMenu&&this.menuService.isHeaderMenuButtonEnabled()},t.prototype.shouldSuppressMenuHide=function(){return this.menuService.isHeaderMenuButtonAlwaysShowEnabled()},t.prototype.setMenu=function(){var e=this;if(this.eMenu){if(this.currentShowMenu=this.workOutShowMenu(),!this.currentShowMenu){Nl(this.eMenu),this.eMenu=void 0;return}var r=this.menuService.isLegacyMenuEnabled();this.addInIcon(r?"menu":"menuAlt",this.eMenu,this.params.column),this.eMenu.classList.toggle("ag-header-menu-icon",!r),this.currentSuppressMenuHide=this.shouldSuppressMenuHide(),this.addManagedListener(this.eMenu,"click",function(){return e.params.showColumnMenu(e.eMenu)}),this.eMenu.classList.toggle("ag-header-menu-always-show",this.currentSuppressMenuHide)}},t.prototype.onMenuKeyboardShortcut=function(e){var r,i,o,a,s=this.params.column,l=this.menuService.isLegacyMenuEnabled();if(e&&!l){if(this.menuService.isFilterMenuInHeaderEnabled(s))return this.params.showFilter((i=(r=this.eFilterButton)!==null&&r!==void 0?r:this.eMenu)!==null&&i!==void 0?i:this.getGui()),!0}else if(this.params.enableMenu)return this.params.showColumnMenu((a=(o=this.eMenu)!==null&&o!==void 0?o:this.eFilterButton)!==null&&a!==void 0?a:this.getGui()),!0;return!1},t.prototype.workOutSort=function(){return this.params.enableSorting},t.prototype.setupSort=function(){var e=this;if(this.currentSort=this.params.enableSorting,this.eSortIndicator||(this.eSortIndicator=this.context.createBean(new ST(!0)),this.eSortIndicator.attachCustomElements(this.eSortOrder,this.eSortAsc,this.eSortDesc,this.eSortMixed,this.eSortNone)),this.eSortIndicator.setupSort(this.params.column),!!this.currentSort){this.addManagedListener(this.params.column,rt.EVENT_MOVING_CHANGED,function(){e.lastMovingChanged=new Date().getTime()}),this.eLabel&&this.addManagedListener(this.eLabel,"click",function(i){var o=e.params.column.isMoving(),a=new Date().getTime(),s=a-e.lastMovingChanged<50,l=o||s;if(!l){var u=e.gridOptionsService.get("multiSortKey")==="ctrl",c=u?i.ctrlKey||i.metaKey:i.shiftKey;e.params.progressSort(c)}});var r=function(){if(e.addOrRemoveCssClass("ag-header-cell-sorted-asc",e.params.column.isSortAscending()),e.addOrRemoveCssClass("ag-header-cell-sorted-desc",e.params.column.isSortDescending()),e.addOrRemoveCssClass("ag-header-cell-sorted-none",e.params.column.isSortNone()),e.params.column.getColDef().showRowGroup){var i=e.columnModel.getSourceColumnsForGroupColumn(e.params.column),o=i==null?void 0:i.every(function(s){return e.params.column.getSort()==s.getSort()}),a=!o;e.addOrRemoveCssClass("ag-header-cell-sorted-mixed",a)}};this.addManagedListener(this.eventService,T.EVENT_SORT_CHANGED,r),this.addManagedListener(this.eventService,T.EVENT_COLUMN_ROW_GROUP_CHANGED,r)}},t.prototype.setupFilterIcon=function(){this.eFilter&&this.configureFilter(this.params.enableFilterIcon,this.eFilter,this.onFilterChangedIcon.bind(this))},t.prototype.setupFilterButton=function(){var e=this;if(this.eFilterButton){var r=this.configureFilter(this.params.enableFilterButton,this.eFilterButton,this.onFilterChangedButton.bind(this));r?this.addManagedListener(this.eFilterButton,"click",function(){return e.params.showFilter(e.eFilterButton)}):this.eFilterButton=void 0}},t.prototype.configureFilter=function(e,r,i){if(!e)return Nl(r),!1;var o=this.params.column;return this.addInIcon("filter",r,o),this.addManagedListener(o,rt.EVENT_FILTER_CHANGED,i),i(),!0},t.prototype.onFilterChangedIcon=function(){var e=this.params.column.isFilterActive();Ct(this.eFilter,e,{skipAriaHidden:!0})},t.prototype.onFilterChangedButton=function(){var e=this.params.column.isFilterActive();this.eFilterButton.classList.toggle("ag-filter-active",e)},t.prototype.getAnchorElementForMenu=function(e){var r,i,o,a;return e?(i=(r=this.eFilterButton)!==null&&r!==void 0?r:this.eMenu)!==null&&i!==void 0?i:this.getGui():(a=(o=this.eMenu)!==null&&o!==void 0?o:this.eFilterButton)!==null&&a!==void 0?a:this.getGui()},t.TEMPLATE=`<div class="ag-cell-label-container" role="presentation">
            <span ref="eMenu" class="ag-header-icon ag-header-cell-menu-button" aria-hidden="true"></span>
            <span ref="eFilterButton" class="ag-header-icon ag-header-cell-filter-button" aria-hidden="true"></span>
            <div ref="eLabel" class="ag-header-cell-label" role="presentation">
                <span ref="eText" class="ag-header-cell-text"></span>
                <span ref="eFilter" class="ag-header-icon ag-header-label-icon ag-filter-icon" aria-hidden="true"></span>
                <ag-sort-indicator ref="eSortIndicator"></ag-sort-indicator>
            </div>
        </div>`,Ui([E("sortController")],t.prototype,"sortController",void 0),Ui([E("menuService")],t.prototype,"menuService",void 0),Ui([E("columnModel")],t.prototype,"columnModel",void 0),Ui([j("eFilter")],t.prototype,"eFilter",void 0),Ui([j("eFilterButton")],t.prototype,"eFilterButton",void 0),Ui([j("eSortIndicator")],t.prototype,"eSortIndicator",void 0),Ui([j("eMenu")],t.prototype,"eMenu",void 0),Ui([j("eLabel")],t.prototype,"eLabel",void 0),Ui([j("eText")],t.prototype,"eText",void 0),Ui([j("eSortOrder")],t.prototype,"eSortOrder",void 0),Ui([j("eSortAsc")],t.prototype,"eSortAsc",void 0),Ui([j("eSortDesc")],t.prototype,"eSortDesc",void 0),Ui([j("eSortMixed")],t.prototype,"eSortMixed",void 0),Ui([j("eSortNone")],t.prototype,"eSortNone",void 0),t}(ae),Rxe=function(){var n=function(t,e){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])},n(t,e)};return function(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");n(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}}(),GA=function(n,t,e,r){var i=arguments.length,o=i<3?t:r===null?r=Object.getOwnPropertyDescriptor(t,e):r,a;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(n,t,e,r);else for(var s=n.length-1;s>=0;s--)(a=n[s])&&(o=(i<3?a(o):i>3?a(t,e,o):a(t,e))||o);return i>3&&o&&Object.defineProperty(t,e,o),o},Txe=function(n){Rxe(t,n);function t(){return n.call(this,t.TEMPLATE)||this}return t.prototype.destroy=function(){n.prototype.destroy.call(this)},t.prototype.init=function(e){this.params=e,this.checkWarnings(),this.setupLabel(),this.addGroupExpandIcon(),this.setupExpandIcons()},t.prototype.checkWarnings=function(){var e=this.params;e.template&&Ge("A template was provided for Header Group Comp - templates are only supported for Header Comps (not groups)")},t.prototype.setupExpandIcons=function(){var e=this;this.addInIcon("columnGroupOpened","agOpened"),this.addInIcon("columnGroupClosed","agClosed");var r=function(a){if(!Fs(a)){var s=!e.params.columnGroup.isExpanded();e.columnModel.setColumnGroupOpened(e.params.columnGroup.getProvidedColumnGroup(),s,"uiColumnExpanded")}};this.addTouchAndClickListeners(this.eCloseIcon,r),this.addTouchAndClickListeners(this.eOpenIcon,r);var i=function(a){Gs(a)};this.addManagedListener(this.eCloseIcon,"dblclick",i),this.addManagedListener(this.eOpenIcon,"dblclick",i),this.addManagedListener(this.getGui(),"dblclick",r),this.updateIconVisibility();var o=this.params.columnGroup.getProvidedColumnGroup();this.addManagedListener(o,Rt.EVENT_EXPANDED_CHANGED,this.updateIconVisibility.bind(this)),this.addManagedListener(o,Rt.EVENT_EXPANDABLE_CHANGED,this.updateIconVisibility.bind(this))},t.prototype.addTouchAndClickListeners=function(e,r){var i=new qr(e,!0);this.addManagedListener(i,qr.EVENT_TAP,r),this.addDestroyFunc(function(){return i.destroy()}),this.addManagedListener(e,"click",r)},t.prototype.updateIconVisibility=function(){var e=this.params.columnGroup;if(e.isExpandable()){var r=this.params.columnGroup.isExpanded();Ct(this.eOpenIcon,r),Ct(this.eCloseIcon,!r)}else Ct(this.eOpenIcon,!1),Ct(this.eCloseIcon,!1)},t.prototype.addInIcon=function(e,r){var i=Qr(e,this.gridOptionsService,null);i&&this.getRefElement(r).appendChild(i)},t.prototype.addGroupExpandIcon=function(){if(!this.params.columnGroup.isExpandable()){Ct(this.eOpenIcon,!1),Ct(this.eCloseIcon,!1);return}},t.prototype.setupLabel=function(){var e,r=this.params,i=r.displayName,o=r.columnGroup;if(oe(i)){var a=cn(i,!0);this.getRefElement("agLabel").textContent=a}this.addOrRemoveCssClass("ag-sticky-label",!(!((e=o.getColGroupDef())===null||e===void 0)&&e.suppressStickyLabel))},t.TEMPLATE=`<div class="ag-header-group-cell-label" ref="agContainer" role="presentation">
            <span ref="agLabel" class="ag-header-group-text" role="presentation"></span>
            <span ref="agOpened" class="ag-header-icon ag-header-expand-icon ag-header-expand-icon-expanded"></span>
            <span ref="agClosed" class="ag-header-icon ag-header-expand-icon ag-header-expand-icon-collapsed"></span>
        </div>`,GA([E("columnModel")],t.prototype,"columnModel",void 0),GA([j("agOpened")],t.prototype,"eOpenIcon",void 0),GA([j("agClosed")],t.prototype,"eCloseIcon",void 0),t}(ae),Pxe=function(){var n=function(t,e){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])},n(t,e)};return function(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");n(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}}(),mc=function(n){Pxe(t,n);function t(){return n!==null&&n.apply(this,arguments)||this}return t.prototype.isPopup=function(){return!0},t.prototype.setParentComponent=function(e){e.addCssClass("ag-has-popup"),n.prototype.setParentComponent.call(this,e)},t.prototype.destroy=function(){var e=this.parentComponent,r=e&&e.isAlive();r&&e.getGui().classList.remove("ag-has-popup"),n.prototype.destroy.call(this)},t}(ae),Axe=function(){var n=function(t,e){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])},n(t,e)};return function(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");n(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}}(),Dxe=function(n,t,e,r){var i=arguments.length,o=i<3?t:r===null?r=Object.getOwnPropertyDescriptor(t,e):r,a;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(n,t,e,r);else for(var s=n.length-1;s>=0;s--)(a=n[s])&&(o=(i<3?a(o):i>3?a(t,e,o):a(t,e))||o);return i>3&&o&&Object.defineProperty(t,e,o),o},IY=function(n){Axe(t,n);function t(){return n.call(this,t.TEMPLATE)||this}return t.prototype.init=function(e){this.params=e,this.focusAfterAttached=e.cellStartedEdit,this.eTextArea.setMaxLength(e.maxLength||200).setCols(e.cols||60).setRows(e.rows||10),oe(e.value,!0)&&this.eTextArea.setValue(e.value.toString(),!0),this.addGuiEventListener("keydown",this.onKeyDown.bind(this)),this.activateTabIndex()},t.prototype.onKeyDown=function(e){var r=e.key;(r===U.LEFT||r===U.UP||r===U.RIGHT||r===U.DOWN||e.shiftKey&&r===U.ENTER)&&e.stopPropagation()},t.prototype.afterGuiAttached=function(){var e=this.localeService.getLocaleTextFunc();this.eTextArea.setInputAriaLabel(e("ariaInputEditor","Input Editor")),this.focusAfterAttached&&this.eTextArea.getFocusableElement().focus()},t.prototype.getValue=function(){var e=this.eTextArea.getValue();return!oe(e)&&!oe(this.params.value)?this.params.value:this.params.parseValue(e)},t.TEMPLATE=`<div class="ag-large-text">
            <ag-input-text-area ref="eTextArea" class="ag-large-text-input"></ag-input-text-area>
        </div>`,Dxe([j("eTextArea")],t.prototype,"eTextArea",void 0),t}(mc),Mxe=function(){var n=function(t,e){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])},n(t,e)};return function(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");n(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}}(),l$=function(n,t,e,r){var i=arguments.length,o=i<3?t:r===null?r=Object.getOwnPropertyDescriptor(t,e):r,a;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(n,t,e,r);else for(var s=n.length-1;s>=0;s--)(a=n[s])&&(o=(i<3?a(o):i>3?a(t,e,o):a(t,e))||o);return i>3&&o&&Object.defineProperty(t,e,o),o},NY=function(n){Mxe(t,n);function t(){var e=n.call(this,`<div class="ag-cell-edit-wrapper">
                <ag-select class="ag-cell-editor" ref="eSelect"></ag-select>
            </div>`)||this;return e.startedByEnter=!1,e}return t.prototype.init=function(e){this.focusAfterAttached=e.cellStartedEdit;var r=this,i=r.eSelect,o=r.valueFormatterService,a=r.gridOptionsService,s=e.values,l=e.value,u=e.eventKey;if(We(s)){console.warn("AG Grid: no values found for select cellEditor");return}this.startedByEnter=u!=null?u===U.ENTER:!1;var c=!1;s.forEach(function(f){var v={value:f},g=o.formatValue(e.column,null,f),y=g!=null;v.text=y?g:f,i.addOption(v),c=c||l===f}),c?i.setValue(e.value,!0):e.values.length&&i.setValue(e.values[0],!0);var d=e.valueListGap,p=e.valueListMaxWidth,h=e.valueListMaxHeight;d!=null&&i.setPickerGap(d),h!=null&&i.setPickerMaxHeight(h),p!=null&&i.setPickerMaxWidth(p),a.get("editType")!=="fullRow"&&this.addManagedListener(this.eSelect,ru.EVENT_ITEM_SELECTED,function(){return e.stopEditing()})},t.prototype.afterGuiAttached=function(){var e=this;this.focusAfterAttached&&this.eSelect.getFocusableElement().focus(),this.startedByEnter&&setTimeout(function(){e.isAlive()&&e.eSelect.showPicker()})},t.prototype.focusIn=function(){this.eSelect.getFocusableElement().focus()},t.prototype.getValue=function(){return this.eSelect.getValue()},t.prototype.isPopup=function(){return!1},l$([E("valueFormatterService")],t.prototype,"valueFormatterService",void 0),l$([j("eSelect")],t.prototype,"eSelect",void 0),t}(mc),Lxe=function(){var n=function(t,e){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])},n(t,e)};return function(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");n(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}}(),Fxe=function(n,t,e,r){var i=arguments.length,o=i<3?t:r===null?r=Object.getOwnPropertyDescriptor(t,e):r,a;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(n,t,e,r);else for(var s=n.length-1;s>=0;s--)(a=n[s])&&(o=(i<3?a(o):i>3?a(t,e,o):a(t,e))||o);return i>3&&o&&Object.defineProperty(t,e,o),o},wT=function(n){Lxe(t,n);function t(e){var r=n.call(this,`
            <div class="ag-cell-edit-wrapper">
                `.concat(e.getTemplate(),`
            </div>`))||this;return r.cellEditorInput=e,r}return t.prototype.init=function(e){this.params=e;var r=this.eInput;this.cellEditorInput.init(r,e);var i;if(e.cellStartedEdit){this.focusAfterAttached=!0;var o=e.eventKey;o===U.BACKSPACE||e.eventKey===U.DELETE?i="":o&&o.length===1?i=o:(i=this.cellEditorInput.getStartValue(),o!==U.F2&&(this.highlightAllOnFocus=!0))}else this.focusAfterAttached=!1,i=this.cellEditorInput.getStartValue();i!=null&&r.setStartValue(i),this.addManagedListener(r.getGui(),"keydown",function(a){var s=a.key;(s===U.PAGE_UP||s===U.PAGE_DOWN)&&a.preventDefault()})},t.prototype.afterGuiAttached=function(){var e,r,i=this.localeService.getLocaleTextFunc(),o=this.eInput;if(o.setInputAriaLabel(i("ariaInputEditor","Input Editor")),!!this.focusAfterAttached){tu()||o.getFocusableElement().focus();var a=o.getInputElement();this.highlightAllOnFocus?a.select():(r=(e=this.cellEditorInput).setCaret)===null||r===void 0||r.call(e)}},t.prototype.focusIn=function(){var e=this.eInput,r=e.getFocusableElement(),i=e.getInputElement();r.focus(),i.select()},t.prototype.getValue=function(){return this.cellEditorInput.getValue()},t.prototype.isPopup=function(){return!1},Fxe([j("eInput")],t.prototype,"eInput",void 0),t}(mc),Ixe=function(){var n=function(t,e){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])},n(t,e)};return function(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");n(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}}(),Nxe=function(){function n(){}return n.prototype.getTemplate=function(){return'<ag-input-text-field class="ag-cell-editor" ref="eInput"></ag-input-text-field>'},n.prototype.init=function(t,e){this.eInput=t,this.params=e,e.maxLength!=null&&t.setMaxLength(e.maxLength)},n.prototype.getValue=function(){var t=this.eInput.getValue();return!oe(t)&&!oe(this.params.value)?this.params.value:this.params.parseValue(t)},n.prototype.getStartValue=function(){var t=this.params.useFormatter||this.params.column.getColDef().refData;return t?this.params.formatValue(this.params.value):this.params.value},n.prototype.setCaret=function(){var t=this.eInput.getValue(),e=oe(t)&&t.length||0;e&&this.eInput.getInputElement().setSelectionRange(e,e)},n}(),xF=function(n){Ixe(t,n);function t(){return n.call(this,new Nxe)||this}return t}(wT),kxe=function(){var n=function(t,e){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])},n(t,e)};return function(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");n(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}}(),Gxe=function(n,t,e,r){var i=arguments.length,o=i<3?t:r===null?r=Object.getOwnPropertyDescriptor(t,e):r,a;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(n,t,e,r);else for(var s=n.length-1;s>=0;s--)(a=n[s])&&(o=(i<3?a(o):i>3?a(t,e,o):a(t,e))||o);return i>3&&o&&Object.defineProperty(t,e,o),o},Vxe="↑",Bxe="↓",kY=function(n){kxe(t,n);function t(){var e=n.call(this)||this;e.refreshCount=0;var r=document.createElement("span"),i=document.createElement("span");i.setAttribute("class","ag-value-change-delta");var o=document.createElement("span");return o.setAttribute("class","ag-value-change-value"),r.appendChild(i),r.appendChild(o),e.setTemplateFromElement(r),e}return t.prototype.init=function(e){this.eValue=this.queryForHtmlElement(".ag-value-change-value"),this.eDelta=this.queryForHtmlElement(".ag-value-change-delta"),this.refresh(e,!0)},t.prototype.showDelta=function(e,r){var i=Math.abs(r),o=e.formatValue(i),a=oe(o)?o:i,s=r>=0;s?this.eDelta.textContent=Vxe+a:this.eDelta.textContent=Bxe+a,this.eDelta.classList.toggle("ag-value-change-delta-up",s),this.eDelta.classList.toggle("ag-value-change-delta-down",!s)},t.prototype.setTimerToRemoveDelta=function(){var e=this;this.refreshCount++;var r=this.refreshCount;this.getFrameworkOverrides().wrapIncoming(function(){window.setTimeout(function(){r===e.refreshCount&&e.hideDeltaValue()},2e3)})},t.prototype.hideDeltaValue=function(){this.eValue.classList.remove("ag-value-change-value-highlight"),Rn(this.eDelta)},t.prototype.refresh=function(e,r){r===void 0&&(r=!1);var i=e.value;if(i===this.lastValue||(oe(e.valueFormatted)?this.eValue.textContent=e.valueFormatted:oe(e.value)?this.eValue.textContent=i:Rn(this.eValue),this.filterManager.isSuppressFlashingCellsBecauseFiltering()))return!1;if(typeof i=="number"&&typeof this.lastValue=="number"){var o=i-this.lastValue;this.showDelta(e,o)}return this.lastValue&&this.eValue.classList.add("ag-value-change-value-highlight"),r||this.setTimerToRemoveDelta(),this.lastValue=i,!0},Gxe([E("filterManager")],t.prototype,"filterManager",void 0),t}(ae),Hxe=function(){var n=function(t,e){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])},n(t,e)};return function(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");n(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}}(),jxe=function(n,t,e,r){var i=arguments.length,o=i<3?t:r===null?r=Object.getOwnPropertyDescriptor(t,e):r,a;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(n,t,e,r);else for(var s=n.length-1;s>=0;s--)(a=n[s])&&(o=(i<3?a(o):i>3?a(t,e,o):a(t,e))||o);return i>3&&o&&Object.defineProperty(t,e,o),o},GY=function(n){Hxe(t,n);function t(){var e=n.call(this)||this;e.refreshCount=0;var r=document.createElement("span"),i=document.createElement("span");return i.setAttribute("class","ag-value-slide-current"),r.appendChild(i),e.setTemplateFromElement(r),e.eCurrent=e.queryForHtmlElement(".ag-value-slide-current"),e}return t.prototype.init=function(e){this.refresh(e,!0)},t.prototype.addSlideAnimation=function(){var e=this;this.refreshCount++;var r=this.refreshCount;this.ePrevious&&this.getGui().removeChild(this.ePrevious);var i=document.createElement("span");i.setAttribute("class","ag-value-slide-previous ag-value-slide-out"),this.ePrevious=i,this.ePrevious.textContent=this.eCurrent.textContent,this.getGui().insertBefore(this.ePrevious,this.eCurrent),this.getFrameworkOverrides().wrapIncoming(function(){window.setTimeout(function(){r===e.refreshCount&&e.ePrevious.classList.add("ag-value-slide-out-end")},50),window.setTimeout(function(){r===e.refreshCount&&(e.getGui().removeChild(e.ePrevious),e.ePrevious=null)},3e3)})},t.prototype.refresh=function(e,r){r===void 0&&(r=!1);var i=e.value;return We(i)&&(i=""),i===this.lastValue||this.filterManager.isSuppressFlashingCellsBecauseFiltering()?!1:(r||this.addSlideAnimation(),this.lastValue=i,oe(e.valueFormatted)?this.eCurrent.textContent=e.valueFormatted:oe(e.value)?this.eCurrent.textContent=i:Rn(this.eCurrent),!0)},jxe([E("filterManager")],t.prototype,"filterManager",void 0),t}(ae),Tv=function(){return Tv=Object.assign||function(n){for(var t,e=1,r=arguments.length;e<r;e++){t=arguments[e];for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(n[i]=t[i])}return n},Tv.apply(this,arguments)},Xe=function(){function n(t){this.rowIndex=null,this.key=null,this.childrenMapped={},this.displayed=!1,this.rowTop=null,this.oldRowTop=null,this.selectable=!0,this.__objectId=n.OBJECT_ID_SEQUENCE++,this.__autoHeights={},this.alreadyRendered=!1,this.highlighted=null,this.hovered=!1,this.selected=!1,this.beans=t}return n.prototype.setData=function(t){this.setDataCommon(t,!1)},n.prototype.updateData=function(t){this.setDataCommon(t,!0)},n.prototype.setDataCommon=function(t,e){var r=this.data;this.data=t,this.beans.valueCache.onDataChanged(),this.updateDataOnDetailNode(),this.checkRowSelectable(),this.resetQuickFilterAggregateText();var i=this.createDataChangedEvent(t,r,e);this.dispatchLocalEvent(i)},n.prototype.updateDataOnDetailNode=function(){this.detailNode&&(this.detailNode.data=this.data)},n.prototype.createDataChangedEvent=function(t,e,r){return{type:n.EVENT_DATA_CHANGED,node:this,oldData:e,newData:t,update:r}},n.prototype.createLocalRowEvent=function(t){return{type:t,node:this}},n.prototype.getRowIndexString=function(){return this.rowPinned==="top"?"t-"+this.rowIndex:this.rowPinned==="bottom"?"b-"+this.rowIndex:this.rowIndex.toString()},n.prototype.createDaemonNode=function(){var t=new n(this.beans);return t.id=this.id,t.data=this.data,t.__daemon=!0,t.selected=this.selected,t.level=this.level,t},n.prototype.setDataAndId=function(t,e){var r=oe(this.id)?this.createDaemonNode():null,i=this.data;this.data=t,this.updateDataOnDetailNode(),this.setId(e),this.checkRowSelectable(),this.beans.selectionService.syncInRowNode(this,r);var o=this.createDataChangedEvent(t,i,!1);this.dispatchLocalEvent(o)},n.prototype.checkRowSelectable=function(){var t=this.beans.gridOptionsService.get("isRowSelectable");this.setRowSelectable(t?t(this):!0)},n.prototype.setRowSelectable=function(t,e){if(this.selectable!==t){if(this.selectable=t,this.eventService&&this.eventService.dispatchEvent(this.createLocalRowEvent(n.EVENT_SELECTABLE_CHANGED)),e)return;var r=this.beans.gridOptionsService.get("groupSelectsChildren");if(r){var i=this.calculateSelectedFromChildren();this.setSelectedParams({newValue:i??!1,source:"selectableChanged"});return}this.isSelected()&&!this.selectable&&this.setSelectedParams({newValue:!1,source:"selectableChanged"})}},n.prototype.setId=function(t){var e=this.beans.gridOptionsService.getCallback("getRowId");if(e)if(this.data){var r=this.getGroupKeys(!0);this.id=e({data:this.data,parentKeys:r.length>0?r:void 0,level:this.level}),this.id!==null&&typeof this.id=="string"&&this.id.startsWith(n.ID_PREFIX_ROW_GROUP)&&console.error("AG Grid: Row IDs cannot start with ".concat(n.ID_PREFIX_ROW_GROUP,", this is a reserved prefix for AG Grid's row grouping feature.")),this.id!==null&&typeof this.id!="string"&&(this.id=""+this.id)}else this.id=void 0;else this.id=t},n.prototype.getGroupKeys=function(t){t===void 0&&(t=!1);var e=[],r=this;for(t&&(r=r.parent);r&&r.level>=0;)e.push(r.key),r=r.parent;return e.reverse(),e},n.prototype.isPixelInRange=function(t){return!oe(this.rowTop)||!oe(this.rowHeight)?!1:t>=this.rowTop&&t<this.rowTop+this.rowHeight},n.prototype.setFirstChild=function(t){this.firstChild!==t&&(this.firstChild=t,this.eventService&&this.eventService.dispatchEvent(this.createLocalRowEvent(n.EVENT_FIRST_CHILD_CHANGED)))},n.prototype.setLastChild=function(t){this.lastChild!==t&&(this.lastChild=t,this.eventService&&this.eventService.dispatchEvent(this.createLocalRowEvent(n.EVENT_LAST_CHILD_CHANGED)))},n.prototype.setChildIndex=function(t){this.childIndex!==t&&(this.childIndex=t,this.eventService&&this.eventService.dispatchEvent(this.createLocalRowEvent(n.EVENT_CHILD_INDEX_CHANGED)))},n.prototype.setRowTop=function(t){this.oldRowTop=this.rowTop,this.rowTop!==t&&(this.rowTop=t,this.eventService&&this.eventService.dispatchEvent(this.createLocalRowEvent(n.EVENT_TOP_CHANGED)),this.setDisplayed(t!==null))},n.prototype.clearRowTopAndRowIndex=function(){this.oldRowTop=null,this.setRowTop(null),this.setRowIndex(null)},n.prototype.setDisplayed=function(t){this.displayed!==t&&(this.displayed=t,this.eventService&&this.eventService.dispatchEvent(this.createLocalRowEvent(n.EVENT_DISPLAYED_CHANGED)))},n.prototype.setDragging=function(t){this.dragging!==t&&(this.dragging=t,this.eventService&&this.eventService.dispatchEvent(this.createLocalRowEvent(n.EVENT_DRAGGING_CHANGED)))},n.prototype.setHighlighted=function(t){t!==this.highlighted&&(this.highlighted=t,this.eventService&&this.eventService.dispatchEvent(this.createLocalRowEvent(n.EVENT_HIGHLIGHT_CHANGED)))},n.prototype.setHovered=function(t){this.hovered!==t&&(this.hovered=t)},n.prototype.isHovered=function(){return this.hovered},n.prototype.setAllChildrenCount=function(t){this.allChildrenCount!==t&&(this.allChildrenCount=t,this.eventService&&this.eventService.dispatchEvent(this.createLocalRowEvent(n.EVENT_ALL_CHILDREN_COUNT_CHANGED)))},n.prototype.setMaster=function(t){this.master!==t&&(this.master&&!t&&(this.expanded=!1),this.master=t,this.eventService&&this.eventService.dispatchEvent(this.createLocalRowEvent(n.EVENT_MASTER_CHANGED)))},n.prototype.setGroup=function(t){this.group!==t&&(this.group&&!t&&(this.expanded=!1),this.group=t,this.updateHasChildren(),this.eventService&&this.eventService.dispatchEvent(this.createLocalRowEvent(n.EVENT_GROUP_CHANGED)))},n.prototype.setRowHeight=function(t,e){e===void 0&&(e=!1),this.rowHeight=t,this.rowHeightEstimated=e,this.eventService&&this.eventService.dispatchEvent(this.createLocalRowEvent(n.EVENT_HEIGHT_CHANGED))},n.prototype.setRowAutoHeight=function(t,e){this.__autoHeights||(this.__autoHeights={}),this.__autoHeights[e.getId()]=t,t!=null&&(this.checkAutoHeightsDebounced==null&&(this.checkAutoHeightsDebounced=ia(this.checkAutoHeights.bind(this),1)),this.checkAutoHeightsDebounced())},n.prototype.checkAutoHeights=function(){var t=this,e=!1,r=!0,i=0,o=this.__autoHeights;if(o!=null){var a=this.beans.columnModel.getAllDisplayedAutoHeightCols();if(a.forEach(function(l){var u=o[l.getId()];if(u==null)if(t.beans.columnModel.isColSpanActive()){var c=[];switch(l.getPinned()){case"left":c=t.beans.columnModel.getDisplayedLeftColumnsForRow(t);break;case"right":c=t.beans.columnModel.getDisplayedRightColumnsForRow(t);break;case null:c=t.beans.columnModel.getViewportCenterColumnsForRow(t);break}if(c.includes(l)){e=!0;return}u=-1}else{e=!0;return}else r=!1;u>i&&(i=u)}),!e&&((r||i<10)&&(i=this.beans.gridOptionsService.getRowHeightForNode(this).height),i!=this.rowHeight)){this.setRowHeight(i);var s=this.beans.rowModel;s.onRowHeightChangedDebounced&&s.onRowHeightChangedDebounced()}}},n.prototype.setRowIndex=function(t){this.rowIndex!==t&&(this.rowIndex=t,this.eventService&&this.eventService.dispatchEvent(this.createLocalRowEvent(n.EVENT_ROW_INDEX_CHANGED)))},n.prototype.setUiLevel=function(t){this.uiLevel!==t&&(this.uiLevel=t,this.eventService&&this.eventService.dispatchEvent(this.createLocalRowEvent(n.EVENT_UI_LEVEL_CHANGED)))},n.prototype.setExpanded=function(t,e){if(this.expanded!==t){this.expanded=t,this.eventService&&this.eventService.dispatchEvent(this.createLocalRowEvent(n.EVENT_EXPANDED_CHANGED));var r=Object.assign({},this.createGlobalRowEvent(T.EVENT_ROW_GROUP_OPENED),{expanded:t,event:e||null});this.beans.rowNodeEventThrottle.dispatchExpanded(r),this.sibling&&this.beans.rowRenderer.refreshCells({rowNodes:[this]})}},n.prototype.createGlobalRowEvent=function(t){return this.beans.gridOptionsService.addGridCommonParams({type:t,node:this,data:this.data,rowIndex:this.rowIndex,rowPinned:this.rowPinned})},n.prototype.dispatchLocalEvent=function(t){this.eventService&&this.eventService.dispatchEvent(t)},n.prototype.setDataValue=function(t,e,r){var i=this,o=function(){var u;return typeof t!="string"?t:(u=i.beans.columnModel.getGridColumn(t))!==null&&u!==void 0?u:i.beans.columnModel.getPrimaryColumn(t)},a=o(),s=this.getValueFromValueService(a);if(this.beans.gridOptionsService.get("readOnlyEdit"))return this.dispatchEventForSaveValueReadOnly(a,s,e,r),!1;var l=this.beans.valueService.setValue(this,a,e,r);return this.dispatchCellChangedEvent(a,e,s),this.checkRowSelectable(),l},n.prototype.getValueFromValueService=function(t){var e=this.leafGroup&&this.beans.columnModel.isPivotMode(),r=this.group&&this.expanded&&!this.footer&&!e,i=this.beans.gridOptionsService.getGroupIncludeFooter(),o=i({node:this}),a=this.beans.gridOptionsService.get("groupSuppressBlankHeader"),s=r&&o&&!a,l=this.beans.valueService.getValue(t,this,!1,s);return l},n.prototype.dispatchEventForSaveValueReadOnly=function(t,e,r,i){var o=this.beans.gridOptionsService.addGridCommonParams({type:T.EVENT_CELL_EDIT_REQUEST,event:null,rowIndex:this.rowIndex,rowPinned:this.rowPinned,column:t,colDef:t.getColDef(),data:this.data,node:this,oldValue:e,newValue:r,value:r,source:i});this.beans.eventService.dispatchEvent(o)},n.prototype.setGroupValue=function(t,e){var r=this.beans.columnModel.getGridColumn(t);We(this.groupData)&&(this.groupData={});var i=r.getColId(),o=this.groupData[i];o!==e&&(this.groupData[i]=e,this.dispatchCellChangedEvent(r,e,o))},n.prototype.setAggData=function(t){var e=this,r=this.aggData;if(this.aggData=t,this.eventService){var i=function(a){var s=e.aggData?e.aggData[a]:void 0,l=r?r[a]:void 0;if(s!==l){var u=e.beans.columnModel.lookupGridColumn(a);u&&e.dispatchCellChangedEvent(u,s,l)}};for(var o in this.aggData)i(o);for(var o in t)o in this.aggData||i(o)}},n.prototype.updateHasChildren=function(){var t=this.group&&!this.footer||this.childrenAfterGroup&&this.childrenAfterGroup.length>0,e=this.beans.gridOptionsService.isRowModelType("serverSide");if(e){var r=this.beans.gridOptionsService.get("treeData"),i=this.beans.gridOptionsService.get("isServerSideGroup");t=!this.stub&&!this.footer&&(r?!!i&&i(this.data):!!this.group)}t!==this.__hasChildren&&(this.__hasChildren=!!t,this.eventService&&this.eventService.dispatchEvent(this.createLocalRowEvent(n.EVENT_HAS_CHILDREN_CHANGED)))},n.prototype.hasChildren=function(){return this.__hasChildren==null&&this.updateHasChildren(),this.__hasChildren},n.prototype.isEmptyRowGroupNode=function(){return this.group&&Jo(this.childrenAfterGroup)},n.prototype.dispatchCellChangedEvent=function(t,e,r){var i={type:n.EVENT_CELL_CHANGED,node:this,column:t,newValue:e,oldValue:r};this.dispatchLocalEvent(i)},n.prototype.resetQuickFilterAggregateText=function(){this.quickFilterAggregateText=null},n.prototype.isExpandable=function(){return this.footer?!1:this.beans.columnModel.isPivotMode()?this.hasChildren()&&!this.leafGroup:this.hasChildren()||!!this.master},n.prototype.isSelected=function(){return this.footer?this.sibling.isSelected():this.selected},n.prototype.depthFirstSearch=function(t){this.childrenAfterGroup&&this.childrenAfterGroup.forEach(function(e){return e.depthFirstSearch(t)}),t(this)},n.prototype.calculateSelectedFromChildren=function(){var t,e=!1,r=!1,i=!1;if(!(!((t=this.childrenAfterGroup)===null||t===void 0)&&t.length))return this.selectable?this.selected:null;for(var o=0;o<this.childrenAfterGroup.length;o++){var a=this.childrenAfterGroup[o],s=a.isSelected();if(!a.selectable){var l=a.calculateSelectedFromChildren();if(l===null)continue;s=l}switch(s){case!0:e=!0;break;case!1:r=!0;break;default:i=!0;break}}if(!(i||e&&r))return e?!0:r?!1:this.selectable?this.selected:null},n.prototype.setSelectedInitialValue=function(t){this.selected=t},n.prototype.selectThisNode=function(t,e,r){r===void 0&&(r="api");var i=!this.selectable&&t,o=this.selected===t;if(i||o)return!1;if(this.selected=t,this.eventService){this.dispatchLocalEvent(this.createLocalRowEvent(n.EVENT_ROW_SELECTED));var a=this.sibling;a&&a.footer&&a.dispatchLocalEvent(a.createLocalRowEvent(n.EVENT_ROW_SELECTED))}var s=Tv(Tv({},this.createGlobalRowEvent(T.EVENT_ROW_SELECTED)),{event:e||null,source:r});return this.beans.eventService.dispatchEvent(s),!0},n.prototype.setSelected=function(t,e,r){if(e===void 0&&(e=!1),r===void 0&&(r="api"),typeof r=="boolean"){console.warn("AG Grid: since version v30, rowNode.setSelected() property `suppressFinishActions` has been removed, please use `gridApi.setNodesSelected()` for bulk actions, and the event `source` property for ignoring events instead.");return}this.setSelectedParams({newValue:t,clearSelection:e,rangeSelect:!1,source:r})},n.prototype.setSelectedParams=function(t){return this.rowPinned?(console.warn("AG Grid: cannot select pinned rows"),0):this.id===void 0?(console.warn("AG Grid: cannot select node until id for node is known"),0):this.beans.selectionService.setNodesSelected(Tv(Tv({},t),{nodes:[this.footer?this.sibling:this]}))},n.prototype.isRowPinned=function(){return this.rowPinned==="top"||this.rowPinned==="bottom"},n.prototype.isParentOfNode=function(t){for(var e=this.parent;e;){if(e===t)return!0;e=e.parent}return!1},n.prototype.addEventListener=function(t,e){var r,i;this.eventService||(this.eventService=new Us),this.beans.frameworkOverrides.shouldWrapOutgoing&&!this.frameworkEventListenerService&&(this.eventService.setFrameworkOverrides(this.beans.frameworkOverrides),this.frameworkEventListenerService=new Rk(this.beans.frameworkOverrides));var o=(i=(r=this.frameworkEventListenerService)===null||r===void 0?void 0:r.wrap(e))!==null&&i!==void 0?i:e;this.eventService.addEventListener(t,o)},n.prototype.removeEventListener=function(t,e){var r,i;if(this.eventService){var o=(i=(r=this.frameworkEventListenerService)===null||r===void 0?void 0:r.unwrap(e))!==null&&i!==void 0?i:e;this.eventService.removeEventListener(t,o),this.eventService.noRegisteredListenersExist()&&(this.eventService=null)}},n.prototype.onMouseEnter=function(){this.dispatchLocalEvent(this.createLocalRowEvent(n.EVENT_MOUSE_ENTER))},n.prototype.onMouseLeave=function(){this.dispatchLocalEvent(this.createLocalRowEvent(n.EVENT_MOUSE_LEAVE))},n.prototype.getFirstChildOfFirstChild=function(t){for(var e=this,r=!0,i=!1,o=null;r&&!i;){var a=e.parent,s=oe(a)&&e.firstChild;s?a.rowGroupColumn===t&&(i=!0,o=a):r=!1,e=a}return i?o:null},n.prototype.isFullWidthCell=function(){if(this.detail)return!0;var t=this.beans.gridOptionsService.getCallback("isFullWidthRow");return t?t({rowNode:this}):!1},n.prototype.getRoute=function(){if(this.key!=null){for(var t=[],e=this;e.key!=null;)t.push(e.key),e=e.parent;return t.reverse()}},n.prototype.createFooter=function(){var t=this;if(!this.sibling){var e=new Set(["eventService","__objectId","sticky"]),r=new n(this.beans);Object.keys(this).forEach(function(i){e.has(i)||(r[i]=t[i])}),r.footer=!0,r.setRowTop(null),r.setRowIndex(null),r.oldRowTop=null,r.id="rowGroupFooter_"+this.id,r.sibling=this,this.sibling=r}},n.prototype.destroyFooter=function(){this.sibling&&(this.sibling.setRowTop(null),this.sibling.setRowIndex(null),this.sibling=void 0)},n.ID_PREFIX_ROW_GROUP="row-group-",n.ID_PREFIX_TOP_PINNED="t-",n.ID_PREFIX_BOTTOM_PINNED="b-",n.OBJECT_ID_SEQUENCE=0,n.EVENT_ROW_SELECTED="rowSelected",n.EVENT_DATA_CHANGED="dataChanged",n.EVENT_CELL_CHANGED="cellChanged",n.EVENT_ALL_CHILDREN_COUNT_CHANGED="allChildrenCountChanged",n.EVENT_MASTER_CHANGED="masterChanged",n.EVENT_GROUP_CHANGED="groupChanged",n.EVENT_MOUSE_ENTER="mouseEnter",n.EVENT_MOUSE_LEAVE="mouseLeave",n.EVENT_HEIGHT_CHANGED="heightChanged",n.EVENT_TOP_CHANGED="topChanged",n.EVENT_DISPLAYED_CHANGED="displayedChanged",n.EVENT_FIRST_CHILD_CHANGED="firstChildChanged",n.EVENT_LAST_CHILD_CHANGED="lastChildChanged",n.EVENT_CHILD_INDEX_CHANGED="childIndexChanged",n.EVENT_ROW_INDEX_CHANGED="rowIndexChanged",n.EVENT_EXPANDED_CHANGED="expandedChanged",n.EVENT_HAS_CHILDREN_CHANGED="hasChildrenChanged",n.EVENT_SELECTABLE_CHANGED="selectableChanged",n.EVENT_UI_LEVEL_CHANGED="uiLevelChanged",n.EVENT_HIGHLIGHT_CHANGED="rowHighlightChanged",n.EVENT_DRAGGING_CHANGED="draggingChanged",n}(),$xe=function(){var n=function(t,e){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])},n(t,e)};return function(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");n(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}}(),Fb=function(){return Fb=Object.assign||function(n){for(var t,e=1,r=arguments.length;e<r;e++){t=arguments[e];for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(n[i]=t[i])}return n},Fb.apply(this,arguments)},u$=function(n,t,e,r){var i=arguments.length,o=i<3?t:r===null?r=Object.getOwnPropertyDescriptor(t,e):r,a;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(n,t,e,r);else for(var s=n.length-1;s>=0;s--)(a=n[s])&&(o=(i<3?a(o):i>3?a(t,e,o):a(t,e))||o);return i>3&&o&&Object.defineProperty(t,e,o),o},dG=function(n){$xe(t,n);function t(){return n.call(this,`
            <div class="ag-selection-checkbox" role="presentation">
                <ag-checkbox role="presentation" ref="eCheckbox"></ag-checkbox>
            </div>`)||this}return t.prototype.postConstruct=function(){this.eCheckbox.setPassive(!0)},t.prototype.getCheckboxId=function(){return this.eCheckbox.getInputElement().id},t.prototype.onDataChanged=function(){this.onSelectionChanged()},t.prototype.onSelectableChanged=function(){this.showOrHideSelect()},t.prototype.onSelectionChanged=function(){var e=this.rowNode.isSelected();this.eCheckbox.setValue(e,!0)},t.prototype.onClicked=function(e,r,i){return this.rowNode.setSelectedParams({newValue:e,rangeSelect:i.shiftKey,groupSelectsFiltered:r,event:i,source:"checkboxSelected"})},t.prototype.init=function(e){var r=this;this.rowNode=e.rowNode,this.column=e.column,this.overrides=e.overrides,this.onSelectionChanged(),this.addManagedListener(this.eCheckbox.getInputElement(),"dblclick",function(s){Gs(s)}),this.addManagedListener(this.eCheckbox.getInputElement(),"click",function(s){Gs(s);var l=r.gridOptionsService.get("groupSelectsFiltered"),u=r.eCheckbox.getValue();if(r.shouldHandleIndeterminateState(u,l)){var c=r.onClicked(!0,l,s||{});c===0&&r.onClicked(!1,l,s)}else u?r.onClicked(!1,l,s):r.onClicked(!0,l,s||{})}),this.addManagedListener(this.rowNode,Xe.EVENT_ROW_SELECTED,this.onSelectionChanged.bind(this)),this.addManagedListener(this.rowNode,Xe.EVENT_DATA_CHANGED,this.onDataChanged.bind(this)),this.addManagedListener(this.rowNode,Xe.EVENT_SELECTABLE_CHANGED,this.onSelectableChanged.bind(this));var i=this.gridOptionsService.get("isRowSelectable"),o=i||typeof this.getIsVisible()=="function";if(o){var a=this.showOrHideSelect.bind(this);this.addManagedListener(this.eventService,T.EVENT_DISPLAYED_COLUMNS_CHANGED,a),this.addManagedListener(this.rowNode,Xe.EVENT_DATA_CHANGED,a),this.addManagedListener(this.rowNode,Xe.EVENT_CELL_CHANGED,a),this.showOrHideSelect()}this.eCheckbox.getInputElement().setAttribute("tabindex","-1")},t.prototype.shouldHandleIndeterminateState=function(e,r){return r&&(this.eCheckbox.getPreviousValue()===void 0||e===void 0)&&this.gridOptionsService.isRowModelType("clientSide")},t.prototype.showOrHideSelect=function(){var e,r,i,o,a=this.rowNode.selectable,s=this.getIsVisible();if(a)if(typeof s=="function"){var l=(e=this.overrides)===null||e===void 0?void 0:e.callbackParams,u=(r=this.column)===null||r===void 0?void 0:r.createColumnFunctionCallbackParams(this.rowNode);a=u?s(Fb(Fb({},l),u)):!1}else a=s??!1;var c=(i=this.column)===null||i===void 0?void 0:i.getColDef().showDisabledCheckboxes;if(c){this.eCheckbox.setDisabled(!a),this.setVisible(!0),this.setDisplayed(!0);return}if(!((o=this.overrides)===null||o===void 0)&&o.removeHidden){this.setDisplayed(a);return}this.setVisible(a)},t.prototype.getIsVisible=function(){var e,r;return this.overrides?this.overrides.isVisible:(r=(e=this.column)===null||e===void 0?void 0:e.getColDef())===null||r===void 0?void 0:r.checkboxSelection},u$([j("eCheckbox")],t.prototype,"eCheckbox",void 0),u$([z],t.prototype,"postConstruct",null),t}(ae),Jh;(function(n){n[n.Up=0]="Up",n[n.Down=1]="Down"})(Jh||(Jh={}));var vo;(function(n){n[n.Left=0]="Left",n[n.Right=1]="Right"})(vo||(vo={}));var Wxe=function(){var n=function(t,e){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])},n(t,e)};return function(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");n(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}}(),Tp=function(n,t,e,r){var i=arguments.length,o=i<3?t:r===null?r=Object.getOwnPropertyDescriptor(t,e):r,a;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(n,t,e,r);else for(var s=n.length-1;s>=0;s--)(a=n[s])&&(o=(i<3?a(o):i>3?a(t,e,o):a(t,e))||o);return i>3&&o&&Object.defineProperty(t,e,o),o},o_=function(n){var t=typeof Symbol=="function"&&Symbol.iterator,e=t&&n[t],r=0;if(e)return e.call(n);if(n&&typeof n.length=="number")return{next:function(){return n&&r>=n.length&&(n=void 0),{value:n&&n[r++],done:!n}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")},Or;(function(n){n[n.ToolPanel=0]="ToolPanel",n[n.HeaderCell=1]="HeaderCell",n[n.RowDrag=2]="RowDrag",n[n.ChartPanel=3]="ChartPanel",n[n.AdvancedFilterBuilder=4]="AdvancedFilterBuilder"})(Or||(Or={}));var St=function(n){Wxe(t,n);function t(){var r=n!==null&&n.apply(this,arguments)||this;return r.dragSourceAndParamsList=[],r.dropTargets=[],r}e=t,t.prototype.init=function(){this.ePinnedIcon=Ta("columnMovePin",this.gridOptionsService,null),this.eHideIcon=Ta("columnMoveHide",this.gridOptionsService,null),this.eMoveIcon=Ta("columnMoveMove",this.gridOptionsService,null),this.eLeftIcon=Ta("columnMoveLeft",this.gridOptionsService,null),this.eRightIcon=Ta("columnMoveRight",this.gridOptionsService,null),this.eGroupIcon=Ta("columnMoveGroup",this.gridOptionsService,null),this.eAggregateIcon=Ta("columnMoveValue",this.gridOptionsService,null),this.ePivotIcon=Ta("columnMovePivot",this.gridOptionsService,null),this.eDropNotAllowedIcon=Ta("dropNotAllowed",this.gridOptionsService,null)},t.prototype.addDragSource=function(r,i){i===void 0&&(i=!1);var o={eElement:r.eElement,dragStartPixels:r.dragStartPixels,onDragStart:this.onDragStart.bind(this,r),onDragStop:this.onDragStop.bind(this),onDragging:this.onDragging.bind(this),includeTouch:i};this.dragSourceAndParamsList.push({params:o,dragSource:r}),this.dragService.addDragSource(o)},t.prototype.removeDragSource=function(r){var i=this.dragSourceAndParamsList.find(function(o){return o.dragSource===r});i&&(this.dragService.removeDragSource(i.params),so(this.dragSourceAndParamsList,i))},t.prototype.clearDragSourceParamsList=function(){var r=this;this.dragSourceAndParamsList.forEach(function(i){return r.dragService.removeDragSource(i.params)}),this.dragSourceAndParamsList.length=0,this.dropTargets.length=0},t.prototype.nudge=function(){this.dragging&&this.onDragging(this.eventLastTime,!0)},t.prototype.onDragStart=function(r,i){this.dragging=!0,this.dragSource=r,this.eventLastTime=i,this.dragItem=this.dragSource.getDragItem(),this.dragSource.onDragStarted&&this.dragSource.onDragStarted(),this.createGhost()},t.prototype.onDragStop=function(r){if(this.eventLastTime=null,this.dragging=!1,this.dragSource.onDragStopped&&this.dragSource.onDragStopped(),this.lastDropTarget&&this.lastDropTarget.onDragStop){var i=this.createDropTargetEvent(this.lastDropTarget,r,null,null,!1);this.lastDropTarget.onDragStop(i)}this.lastDropTarget=null,this.dragItem=null,this.removeGhost()},t.prototype.onDragging=function(r,i){var o=this,a,s,l,u,c=this.getHorizontalDirection(r),d=this.getVerticalDirection(r);this.eventLastTime=r,this.positionGhost(r);var p=this.dropTargets.filter(function(v){return o.isMouseOnDropTarget(r,v)}),h=this.findCurrentDropTarget(r,p);if(h!==this.lastDropTarget)this.leaveLastTargetIfExists(r,c,d,i),this.lastDropTarget!==null&&h===null&&((s=(a=this.dragSource).onGridExit)===null||s===void 0||s.call(a,this.dragItem)),this.lastDropTarget===null&&h!==null&&((u=(l=this.dragSource).onGridEnter)===null||u===void 0||u.call(l,this.dragItem)),this.enterDragTargetIfExists(h,r,c,d,i),this.lastDropTarget=h;else if(h&&h.onDragging){var f=this.createDropTargetEvent(h,r,c,d,i);h.onDragging(f)}},t.prototype.getAllContainersFromDropTarget=function(r){var i=r.getSecondaryContainers?r.getSecondaryContainers():null,o=[[r.getContainer()]];return i?o.concat(i):o},t.prototype.allContainersIntersect=function(r,i){var o,a;try{for(var s=o_(i),l=s.next();!l.done;l=s.next()){var u=l.value,c=u.getBoundingClientRect();if(c.width===0||c.height===0)return!1;var d=r.clientX>=c.left&&r.clientX<c.right,p=r.clientY>=c.top&&r.clientY<c.bottom;if(!d||!p)return!1}}catch(h){o={error:h}}finally{try{l&&!l.done&&(a=s.return)&&a.call(s)}finally{if(o)throw o.error}}return!0},t.prototype.isMouseOnDropTarget=function(r,i){var o,a,s=this.getAllContainersFromDropTarget(i),l=!1;try{for(var u=o_(s),c=u.next();!c.done;c=u.next()){var d=c.value;if(this.allContainersIntersect(r,d)){l=!0;break}}}catch(p){o={error:p}}finally{try{c&&!c.done&&(a=u.return)&&a.call(u)}finally{if(o)throw o.error}}return i.targetContainsSource&&!i.getContainer().contains(this.dragSource.eElement)?!1:l&&i.isInterestedIn(this.dragSource.type,this.dragSource.eElement)},t.prototype.findCurrentDropTarget=function(r,i){var o,a,s,l,u=i.length;if(u===0)return null;if(u===1)return i[0];var c=this.gridOptionsService.getRootNode(),d=c.elementsFromPoint(r.clientX,r.clientY);try{for(var p=o_(d),h=p.next();!h.done;h=p.next()){var f=h.value;try{for(var v=(s=void 0,o_(i)),g=v.next();!g.done;g=v.next()){var y=g.value,m=R7(this.getAllContainersFromDropTarget(y));if(m.indexOf(f)!==-1)return y}}catch(C){s={error:C}}finally{try{g&&!g.done&&(l=v.return)&&l.call(v)}finally{if(s)throw s.error}}}}catch(C){o={error:C}}finally{try{h&&!h.done&&(a=p.return)&&a.call(p)}finally{if(o)throw o.error}}return null},t.prototype.enterDragTargetIfExists=function(r,i,o,a,s){if(r){if(r.onDragEnter){var l=this.createDropTargetEvent(r,i,o,a,s);r.onDragEnter(l)}this.setGhostIcon(r.getIconName?r.getIconName():null)}},t.prototype.leaveLastTargetIfExists=function(r,i,o,a){if(this.lastDropTarget){if(this.lastDropTarget.onDragLeave){var s=this.createDropTargetEvent(this.lastDropTarget,r,i,o,a);this.lastDropTarget.onDragLeave(s)}this.setGhostIcon(null)}},t.prototype.addDropTarget=function(r){this.dropTargets.push(r)},t.prototype.removeDropTarget=function(r){this.dropTargets=this.dropTargets.filter(function(i){return i.getContainer()!==r.getContainer()})},t.prototype.hasExternalDropZones=function(){return this.dropTargets.some(function(r){return r.external})},t.prototype.findExternalZone=function(r){var i=this.dropTargets.filter(function(o){return o.external});return i.find(function(o){return o.getContainer()===r.getContainer()})||null},t.prototype.getHorizontalDirection=function(r){var i=this.eventLastTime&&this.eventLastTime.clientX,o=r.clientX;return i===o?null:i>o?vo.Left:vo.Right},t.prototype.getVerticalDirection=function(r){var i=this.eventLastTime&&this.eventLastTime.clientY,o=r.clientY;return i===o?null:i>o?Jh.Up:Jh.Down},t.prototype.createDropTargetEvent=function(r,i,o,a,s){var l=r.getContainer(),u=l.getBoundingClientRect(),c=this,d=c.gridApi,p=c.columnApi,h=c.dragItem,f=c.dragSource,v=i.clientX-u.left,g=i.clientY-u.top;return{event:i,x:v,y:g,vDirection:a,hDirection:o,dragSource:f,fromNudge:s,dragItem:h,api:d,columnApi:p,dropZoneTarget:l}},t.prototype.positionGhost=function(r){var i=this.eGhost;if(i){var o=i.getBoundingClientRect(),a=o.height,s=eY()-2,l=tY()-2,u=Zk(i.offsetParent),c=r.clientY,d=r.clientX,p=c-u.top-a/2,h=d-u.left-10,f=this.gridOptionsService.getDocument(),v=f.defaultView||window,g=v.pageYOffset||f.documentElement.scrollTop,y=v.pageXOffset||f.documentElement.scrollLeft;s>0&&h+i.clientWidth>s+y&&(h=s+y-i.clientWidth),h<0&&(h=0),l>0&&p+i.clientHeight>l+g&&(p=l+g-i.clientHeight),p<0&&(p=0),i.style.left="".concat(h,"px"),i.style.top="".concat(p,"px")}},t.prototype.removeGhost=function(){this.eGhost&&this.eGhostParent&&this.eGhostParent.removeChild(this.eGhost),this.eGhost=null},t.prototype.createGhost=function(){this.eGhost=fo(e.GHOST_TEMPLATE),this.mouseEventService.stampTopLevelGridCompWithGridInstance(this.eGhost);var r=this.environment.getTheme().theme;r&&this.eGhost.classList.add(r),this.eGhostIcon=this.eGhost.querySelector(".ag-dnd-ghost-icon"),this.setGhostIcon(null);var i=this.eGhost.querySelector(".ag-dnd-ghost-label"),o=this.dragSource.dragItemName;pT(o)&&(o=o()),i.innerHTML=cn(o)||"",this.eGhost.style.height="25px",this.eGhost.style.top="20px",this.eGhost.style.left="20px";var a=this.gridOptionsService.getDocument(),s=null,l=null;try{s=a.fullscreenElement}catch{}finally{s||(s=this.gridOptionsService.getRootNode());var u=s.querySelector("body");u?l=u:s instanceof ShadowRoot?l=s:s instanceof Document?l=s==null?void 0:s.documentElement:l=s}this.eGhostParent=l,this.eGhostParent?this.eGhostParent.appendChild(this.eGhost):console.warn("AG Grid: could not find document body, it is needed for dragging columns")},t.prototype.setGhostIcon=function(r,i){i===void 0&&(i=!1),Rn(this.eGhostIcon);var o=null;switch(r||(r=this.dragSource.getDefaultIconName?this.dragSource.getDefaultIconName():e.ICON_NOT_ALLOWED),r){case e.ICON_PINNED:o=this.ePinnedIcon;break;case e.ICON_MOVE:o=this.eMoveIcon;break;case e.ICON_LEFT:o=this.eLeftIcon;break;case e.ICON_RIGHT:o=this.eRightIcon;break;case e.ICON_GROUP:o=this.eGroupIcon;break;case e.ICON_AGGREGATE:o=this.eAggregateIcon;break;case e.ICON_PIVOT:o=this.ePivotIcon;break;case e.ICON_NOT_ALLOWED:o=this.eDropNotAllowedIcon;break;case e.ICON_HIDE:o=this.eHideIcon;break}this.eGhostIcon.classList.toggle("ag-shake-left-to-right",i),!(o===this.eHideIcon&&this.gridOptionsService.get("suppressDragLeaveHidesColumns"))&&o&&this.eGhostIcon.appendChild(o)};var e;return t.ICON_PINNED="pinned",t.ICON_MOVE="move",t.ICON_LEFT="left",t.ICON_RIGHT="right",t.ICON_GROUP="group",t.ICON_AGGREGATE="aggregate",t.ICON_PIVOT="pivot",t.ICON_NOT_ALLOWED="notAllowed",t.ICON_HIDE="hide",t.GHOST_TEMPLATE=`<div class="ag-dnd-ghost ag-unselectable">
            <span class="ag-dnd-ghost-icon ag-shake-left-to-right"></span>
            <div class="ag-dnd-ghost-label"></div>
        </div>`,Tp([E("dragService")],t.prototype,"dragService",void 0),Tp([E("mouseEventService")],t.prototype,"mouseEventService",void 0),Tp([E("columnApi")],t.prototype,"columnApi",void 0),Tp([E("gridApi")],t.prototype,"gridApi",void 0),Tp([z],t.prototype,"init",null),Tp([ar],t.prototype,"clearDragSourceParamsList",null),t=e=Tp([ie("dragAndDropService")],t),t}(X),_T=function(){var n=function(t,e){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])},n(t,e)};return function(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");n(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}}(),PC=function(n,t,e,r){var i=arguments.length,o=i<3?t:r===null?r=Object.getOwnPropertyDescriptor(t,e):r,a;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(n,t,e,r);else for(var s=n.length-1;s>=0;s--)(a=n[s])&&(o=(i<3?a(o):i>3?a(t,e,o):a(t,e))||o);return i>3&&o&&Object.defineProperty(t,e,o),o},Ib=function(n){_T(t,n);function t(e,r,i,o,a,s){var l=n.call(this)||this;return l.cellValueFn=e,l.rowNode=r,l.column=i,l.customGui=o,l.dragStartPixels=a,l.suppressVisibilityChange=s,l.dragSource=null,l}return t.prototype.isCustomGui=function(){return this.customGui!=null},t.prototype.postConstruct=function(){if(this.customGui?this.setDragElement(this.customGui,this.dragStartPixels):(this.setTemplate('<div class="ag-drag-handle ag-row-drag" aria-hidden="true"></div>'),this.getGui().appendChild(Qr("rowDrag",this.gridOptionsService,null)),this.addDragSource()),this.checkCompatibility(),!this.suppressVisibilityChange){var e=this.gridOptionsService.get("rowDragManaged")?new zxe(this,this.beans,this.rowNode,this.column):new Uxe(this,this.beans,this.rowNode,this.column);this.createManagedBean(e,this.beans.context)}},t.prototype.setDragElement=function(e,r){this.setTemplateFromElement(e),this.addDragSource(r)},t.prototype.getSelectedNodes=function(){var e=this.gridOptionsService.get("rowDragMultiRow");if(!e)return[this.rowNode];var r=this.beans.selectionService.getSelectedNodes();return r.indexOf(this.rowNode)!==-1?r:[this.rowNode]},t.prototype.checkCompatibility=function(){var e=this.gridOptionsService.get("rowDragManaged"),r=this.gridOptionsService.get("treeData");r&&e&&Ge("If using row drag with tree data, you cannot have rowDragManaged=true")},t.prototype.getDragItem=function(){return{rowNode:this.rowNode,rowNodes:this.getSelectedNodes(),columns:this.column?[this.column]:void 0,defaultTextValue:this.cellValueFn()}},t.prototype.getRowDragText=function(e){if(e){var r=e.getColDef();if(r.rowDragText)return r.rowDragText}return this.gridOptionsService.get("rowDragText")},t.prototype.addDragSource=function(e){var r=this;e===void 0&&(e=4),this.dragSource&&this.removeDragSource();var i=this.localeService.getLocaleTextFunc();this.dragSource={type:Or.RowDrag,eElement:this.getGui(),dragItemName:function(){var o,a=r.getDragItem(),s=((o=a.rowNodes)===null||o===void 0?void 0:o.length)||1,l=r.getRowDragText(r.column);return l?l(a,s):s===1?r.cellValueFn():"".concat(s," ").concat(i("rowDragRows","rows"))},getDragItem:function(){return r.getDragItem()},dragStartPixels:e,dragSourceDomDataKey:this.gridOptionsService.getDomDataKey()},this.beans.dragAndDropService.addDragSource(this.dragSource,!0)},t.prototype.removeDragSource=function(){this.dragSource&&this.beans.dragAndDropService.removeDragSource(this.dragSource),this.dragSource=null},PC([E("beans")],t.prototype,"beans",void 0),PC([z],t.prototype,"postConstruct",null),PC([ar],t.prototype,"removeDragSource",null),t}(ae),VY=function(n){_T(t,n);function t(e,r,i){var o=n.call(this)||this;return o.parent=e,o.rowNode=r,o.column=i,o}return t.prototype.setDisplayedOrVisible=function(e){var r={skipAriaHidden:!0};if(e)this.parent.setDisplayed(!1,r);else{var i=!0,o=!1;this.column&&(i=this.column.isRowDrag(this.rowNode)||this.parent.isCustomGui(),o=pT(this.column.getColDef().rowDrag)),o?(this.parent.setDisplayed(!0,r),this.parent.setVisible(i,r)):(this.parent.setDisplayed(i,r),this.parent.setVisible(!0,r))}},t}(X),Uxe=function(n){_T(t,n);function t(e,r,i,o){var a=n.call(this,e,i,o)||this;return a.beans=r,a}return t.prototype.postConstruct=function(){this.addManagedPropertyListener("suppressRowDrag",this.onSuppressRowDrag.bind(this)),this.addManagedListener(this.rowNode,Xe.EVENT_DATA_CHANGED,this.workOutVisibility.bind(this)),this.addManagedListener(this.rowNode,Xe.EVENT_CELL_CHANGED,this.workOutVisibility.bind(this)),this.addManagedListener(this.rowNode,Xe.EVENT_CELL_CHANGED,this.workOutVisibility.bind(this)),this.addManagedListener(this.beans.eventService,T.EVENT_NEW_COLUMNS_LOADED,this.workOutVisibility.bind(this)),this.workOutVisibility()},t.prototype.onSuppressRowDrag=function(){this.workOutVisibility()},t.prototype.workOutVisibility=function(){var e=this.gridOptionsService.get("suppressRowDrag");this.setDisplayedOrVisible(e)},PC([z],t.prototype,"postConstruct",null),t}(VY),zxe=function(n){_T(t,n);function t(e,r,i,o){var a=n.call(this,e,i,o)||this;return a.beans=r,a}return t.prototype.postConstruct=function(){this.addManagedListener(this.beans.eventService,T.EVENT_SORT_CHANGED,this.workOutVisibility.bind(this)),this.addManagedListener(this.beans.eventService,T.EVENT_FILTER_CHANGED,this.workOutVisibility.bind(this)),this.addManagedListener(this.beans.eventService,T.EVENT_COLUMN_ROW_GROUP_CHANGED,this.workOutVisibility.bind(this)),this.addManagedListener(this.beans.eventService,T.EVENT_NEW_COLUMNS_LOADED,this.workOutVisibility.bind(this)),this.addManagedListener(this.rowNode,Xe.EVENT_DATA_CHANGED,this.workOutVisibility.bind(this)),this.addManagedListener(this.rowNode,Xe.EVENT_CELL_CHANGED,this.workOutVisibility.bind(this)),this.addManagedPropertyListener("suppressRowDrag",this.onSuppressRowDrag.bind(this)),this.workOutVisibility()},t.prototype.onSuppressRowDrag=function(){this.workOutVisibility()},t.prototype.workOutVisibility=function(){var e=this.beans.ctrlsService.getGridBodyCtrl(),r=e.getRowDragFeature(),i=r&&r.shouldPreventRowMove(),o=this.gridOptionsService.get("suppressRowDrag"),a=this.beans.dragAndDropService.hasExternalDropZones(),s=i&&!a||o;this.setDisplayedOrVisible(s)},PC([z],t.prototype,"postConstruct",null),t}(VY),Kxe=function(){var n=function(t,e){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])},n(t,e)};return function(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");n(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}}(),Nb=function(){return Nb=Object.assign||function(n){for(var t,e=1,r=arguments.length;e<r;e++){t=arguments[e];for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(n[i]=t[i])}return n},Nb.apply(this,arguments)},Gy=function(n,t,e,r){var i=arguments.length,o=i<3?t:r===null?r=Object.getOwnPropertyDescriptor(t,e):r,a;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(n,t,e,r);else for(var s=n.length-1;s>=0;s--)(a=n[s])&&(o=(i<3?a(o):i>3?a(t,e,o):a(t,e))||o);return i>3&&o&&Object.defineProperty(t,e,o),o},BY=function(n){Kxe(t,n);function t(){return n!==null&&n.apply(this,arguments)||this}return t.prototype.init=function(e,r,i,o,a,s,l){var u,c,d,p;this.params=l,this.eGui=r,this.eCheckbox=i,this.eExpanded=o,this.eContracted=a,this.comp=e,this.compClass=s;var h=l.node;l.value;var f=l.colDef,v=this.isTopLevelFooter();if(!v){var g=this.isEmbeddedRowMismatch();if(g)return;if(h.footer&&this.gridOptionsService.get("groupHideOpenParents")){var y=f&&f.showRowGroup,m=h.rowGroupColumn&&h.rowGroupColumn.getColId();if(y!==m)return}}if(this.setupShowingValueForOpenedParent(),this.findDisplayedGroupNode(),!v){var C=l.node.footer&&l.node.rowGroupIndex===this.columnModel.getRowGroupColumns().findIndex(function(P){var D;return P.getColId()===((D=l.colDef)===null||D===void 0?void 0:D.showRowGroup)}),S=this.gridOptionsService.get("groupDisplayType")!="multipleColumns"||this.gridOptionsService.get("treeData"),w=S||this.gridOptionsService.get("showOpenedGroup")&&!l.node.footer&&(!l.node.group||l.node.rowGroupIndex!=null&&l.node.rowGroupIndex>this.columnModel.getRowGroupColumns().findIndex(function(P){var D;return P.getColId()===((D=l.colDef)===null||D===void 0?void 0:D.showRowGroup)})),_=!h.group&&(((u=this.params.colDef)===null||u===void 0?void 0:u.field)||((c=this.params.colDef)===null||c===void 0?void 0:c.valueGetter)),x=this.isExpandable(),b=this.columnModel.isPivotMode()&&h.leafGroup&&((d=h.rowGroupColumn)===null||d===void 0?void 0:d.getColId())===((p=l.column)===null||p===void 0?void 0:p.getColDef().showRowGroup),O=!this.showingValueForOpenedParent&&!x&&!_&&!w&&!C&&!b;if(O)return}this.addExpandAndContract(),this.addFullWidthRowDraggerIfNeeded(),this.addCheckboxIfNeeded(),this.addValueElement(),this.setupIndent(),this.refreshAriaExpanded()},t.prototype.getCellAriaRole=function(){var e,r,i=(e=this.params.colDef)===null||e===void 0?void 0:e.cellAriaRole,o=(r=this.params.column)===null||r===void 0?void 0:r.getColDef().cellAriaRole;return i||o||"gridcell"},t.prototype.destroy=function(){n.prototype.destroy.call(this),this.expandListener=null},t.prototype.refreshAriaExpanded=function(){var e=this.params,r=e.node,i=e.eGridCell;if(this.expandListener&&(this.expandListener=this.expandListener()),!this.isExpandable()){z7(i);return}var o=function(){oc(i,!!r.expanded)};this.expandListener=this.addManagedListener(r,Xe.EVENT_EXPANDED_CHANGED,o)||null,o()},t.prototype.isTopLevelFooter=function(){if(!this.gridOptionsService.get("groupIncludeTotalFooter")||this.params.value!=null||this.params.node.level!=-1)return!1;var e=this.params.colDef,r=e==null;if(r||e.showRowGroup===!0)return!0;var i=this.columnModel.getRowGroupColumns();if(!i||i.length===0)return!0;var o=i[0];return o.getId()===e.showRowGroup},t.prototype.isEmbeddedRowMismatch=function(){if(!this.params.fullWidth||!this.gridOptionsService.get("embedFullWidthRows"))return!1;var e=this.params.pinned==="left",r=this.params.pinned==="right",i=!e&&!r;return this.gridOptionsService.get("enableRtl")?this.columnModel.isPinningLeft()?!r:!i:this.columnModel.isPinningLeft()?!e:!i},t.prototype.findDisplayedGroupNode=function(){var e=this.params.column,r=this.params.node;if(this.showingValueForOpenedParent)for(var i=r.parent;i!=null;){if(i.rowGroupColumn&&e.isRowGroupDisplayed(i.rowGroupColumn.getId())){this.displayedGroupNode=i;break}i=i.parent}We(this.displayedGroupNode)&&(this.displayedGroupNode=r)},t.prototype.setupShowingValueForOpenedParent=function(){var e=this.params.node,r=this.params.column;if(!this.gridOptionsService.get("groupHideOpenParents")){this.showingValueForOpenedParent=!1;return}if(!e.groupData){this.showingValueForOpenedParent=!1;return}var i=e.rowGroupColumn!=null;if(i){var o=e.rowGroupColumn.getId(),a=r.isRowGroupDisplayed(o);if(a){this.showingValueForOpenedParent=!1;return}}var s=e.groupData[r.getId()]!=null;this.showingValueForOpenedParent=s},t.prototype.addValueElement=function(){this.displayedGroupNode.footer?this.addFooterValue():(this.addGroupValue(),this.addChildCount())},t.prototype.addGroupValue=function(){var e,r=this.adjustParamsWithDetailsFromRelatedColumn(),i=this.getInnerCompDetails(r),o=r.valueFormatted,a=r.value,s=o;if(s==null){var l=this.displayedGroupNode.rowGroupColumn&&((e=this.params.column)===null||e===void 0?void 0:e.isRowGroupDisplayed(this.displayedGroupNode.rowGroupColumn.getId()));if(this.displayedGroupNode.key===""&&this.displayedGroupNode.group&&l){var u=this.localeService.getLocaleTextFunc();s=u("blanks","(Blanks)")}else s=a??null}this.comp.setInnerRenderer(i,s)},t.prototype.adjustParamsWithDetailsFromRelatedColumn=function(){var e=this.displayedGroupNode.rowGroupColumn,r=this.params.column;if(!e)return this.params;var i=r!=null;if(i){var o=r.isRowGroupDisplayed(e.getId());if(!o)return this.params}var a=this.params,s=this.params,l=s.value,u=s.node,c=this.valueFormatterService.formatValue(e,u,l),d=Nb(Nb({},a),{valueFormatted:c});return d},t.prototype.addFooterValue=function(){var e=this.params.footerValueGetter,r="";if(e){var i=bk(this.params);i.value=this.params.value,typeof e=="function"?r=e(i):typeof e=="string"?r=this.expressionService.evaluate(e,i):console.warn("AG Grid: footerValueGetter should be either a function or a string (expression)")}else{var o=this.localeService.getLocaleTextFunc(),a=o("footerTotal","Total");r=a+" "+(this.params.value!=null?this.params.value:"")}var s=this.getInnerCompDetails(this.params);this.comp.setInnerRenderer(s,r)},t.prototype.getInnerCompDetails=function(e){var r=this;if(e.fullWidth)return this.userComponentFactory.getFullWidthGroupRowInnerCellRenderer(this.gridOptionsService.get("groupRowRendererParams"),e);var i=this.userComponentFactory.getInnerRendererDetails(e,e),o=function(c){return c&&c.componentClass==r.compClass};if(i&&!o(i))return i;var a=this.displayedGroupNode.rowGroupColumn,s=a?a.getColDef():void 0;if(s){var l=this.userComponentFactory.getCellRendererDetails(s,e);if(l&&!o(l))return l;if(o(l)&&s.cellRendererParams&&s.cellRendererParams.innerRenderer){var u=this.userComponentFactory.getInnerRendererDetails(s.cellRendererParams,e);return u}}},t.prototype.addChildCount=function(){this.params.suppressCount||(this.addManagedListener(this.displayedGroupNode,Xe.EVENT_ALL_CHILDREN_COUNT_CHANGED,this.updateChildCount.bind(this)),this.updateChildCount())},t.prototype.updateChildCount=function(){var e=this.displayedGroupNode.allChildrenCount,r=this.isShowRowGroupForThisRow(),i=r&&e!=null&&e>=0,o=i?"(".concat(e,")"):"";this.comp.setChildCount(o)},t.prototype.isShowRowGroupForThisRow=function(){if(this.gridOptionsService.get("treeData"))return!0;var e=this.displayedGroupNode.rowGroupColumn;if(!e)return!1;var r=this.params.column,i=r==null||r.isRowGroupDisplayed(e.getId());return i},t.prototype.addExpandAndContract=function(){var e,r=this.params,i=Qr("groupExpanded",this.gridOptionsService,null),o=Qr("groupContracted",this.gridOptionsService,null);i&&this.eExpanded.appendChild(i),o&&this.eContracted.appendChild(o);var a=r.eGridCell,s=((e=this.params.column)===null||e===void 0?void 0:e.isCellEditable(r.node))&&this.gridOptionsService.get("enableGroupEdit");!s&&this.isExpandable()&&!r.suppressDoubleClickExpand&&this.addManagedListener(a,"dblclick",this.onCellDblClicked.bind(this)),this.addManagedListener(this.eExpanded,"click",this.onExpandClicked.bind(this)),this.addManagedListener(this.eContracted,"click",this.onExpandClicked.bind(this)),this.addManagedListener(a,"keydown",this.onKeyDown.bind(this)),this.addManagedListener(r.node,Xe.EVENT_EXPANDED_CHANGED,this.showExpandAndContractIcons.bind(this)),this.showExpandAndContractIcons();var l=this.onRowNodeIsExpandableChanged.bind(this);this.addManagedListener(this.displayedGroupNode,Xe.EVENT_ALL_CHILDREN_COUNT_CHANGED,l),this.addManagedListener(this.displayedGroupNode,Xe.EVENT_MASTER_CHANGED,l),this.addManagedListener(this.displayedGroupNode,Xe.EVENT_GROUP_CHANGED,l),this.addManagedListener(this.displayedGroupNode,Xe.EVENT_HAS_CHILDREN_CHANGED,l)},t.prototype.onExpandClicked=function(e){Fs(e)||(Gs(e),this.onExpandOrContract(e))},t.prototype.onExpandOrContract=function(e){var r=this.displayedGroupNode,i=!r.expanded;!i&&r.sticky&&this.scrollToStickyNode(r),r.setExpanded(i,e)},t.prototype.scrollToStickyNode=function(e){var r=this.ctrlsService.getGridBodyCtrl(),i=r.getScrollFeature();i.setVerticalScrollPosition(e.rowTop-e.stickyRowTop)},t.prototype.isExpandable=function(){if(this.showingValueForOpenedParent)return!0;var e=this.displayedGroupNode,r=this.columnModel.isPivotMode()&&e.leafGroup,i=e.isExpandable()&&!e.footer&&!r;if(!i)return!1;var o=this.params.column,a=o!=null&&typeof o.getColDef().showRowGroup=="string";if(a){var s=this.isShowRowGroupForThisRow();return s}return!0},t.prototype.showExpandAndContractIcons=function(){var e=this,r=e.params,i=e.displayedGroupNode,o=e.columnModel,a=r.node,s=this.isExpandable();if(s){var l=this.showingValueForOpenedParent?!0:a.expanded;this.comp.setExpandedDisplayed(l),this.comp.setContractedDisplayed(!l)}else this.comp.setExpandedDisplayed(!1),this.comp.setContractedDisplayed(!1);var u=o.isPivotMode(),c=u&&i.leafGroup,d=s&&!c,p=a.footer&&a.level===-1;this.comp.addOrRemoveCssClass("ag-cell-expandable",d),this.comp.addOrRemoveCssClass("ag-row-group",d),u?this.comp.addOrRemoveCssClass("ag-pivot-leaf-group",c):p||this.comp.addOrRemoveCssClass("ag-row-group-leaf-indent",!d)},t.prototype.onRowNodeIsExpandableChanged=function(){this.showExpandAndContractIcons(),this.setIndent(),this.refreshAriaExpanded()},t.prototype.setupIndent=function(){var e=this.params.node,r=this.params.suppressPadding;r||(this.addManagedListener(e,Xe.EVENT_UI_LEVEL_CHANGED,this.setIndent.bind(this)),this.setIndent())},t.prototype.setIndent=function(){if(!this.gridOptionsService.get("groupHideOpenParents")){var e=this.params,r=e.node,i=!!e.colDef,o=this.gridOptionsService.get("treeData"),a=!i||o||e.colDef.showRowGroup===!0,s=a?r.uiLevel:0;this.indentClass&&this.comp.addOrRemoveCssClass(this.indentClass,!1),this.indentClass="ag-row-group-indent-"+s,this.comp.addOrRemoveCssClass(this.indentClass,!0)}},t.prototype.addFullWidthRowDraggerIfNeeded=function(){var e=this;if(!(!this.params.fullWidth||!this.params.rowDrag)){var r=new Ib(function(){return e.params.value},this.params.node);this.createManagedBean(r,this.context),this.eGui.insertAdjacentElement("afterbegin",r.getGui())}},t.prototype.isUserWantsSelected=function(){var e=this.params.checkbox;return typeof e=="function"||e===!0},t.prototype.addCheckboxIfNeeded=function(){var e=this,r=this.displayedGroupNode,i=this.isUserWantsSelected()&&!r.footer&&!r.rowPinned&&!r.detail;if(i){var o=new dG;this.getContext().createBean(o),o.init({rowNode:this.params.node,column:this.params.column,overrides:{isVisible:this.params.checkbox,callbackParams:this.params,removeHidden:!0}}),this.eCheckbox.appendChild(o.getGui()),this.addDestroyFunc(function(){return e.getContext().destroyBean(o)})}this.comp.setCheckboxVisible(i)},t.prototype.onKeyDown=function(e){var r=e.key===U.ENTER;if(!(!r||this.params.suppressEnterExpand)){var i=this.params.column&&this.params.column.isCellEditable(this.params.node);i||this.onExpandOrContract(e)}},t.prototype.onCellDblClicked=function(e){if(!Fs(e)){var r=Pb(this.eExpanded,e)||Pb(this.eContracted,e);r||this.onExpandOrContract(e)}},Gy([E("expressionService")],t.prototype,"expressionService",void 0),Gy([E("valueFormatterService")],t.prototype,"valueFormatterService",void 0),Gy([E("columnModel")],t.prototype,"columnModel",void 0),Gy([E("userComponentFactory")],t.prototype,"userComponentFactory",void 0),Gy([E("ctrlsService")],t.prototype,"ctrlsService",void 0),t}(X),Yxe=function(){var n=function(t,e){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])},n(t,e)};return function(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");n(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}}(),Vy=function(n,t,e,r){var i=arguments.length,o=i<3?t:r===null?r=Object.getOwnPropertyDescriptor(t,e):r,a;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(n,t,e,r);else for(var s=n.length-1;s>=0;s--)(a=n[s])&&(o=(i<3?a(o):i>3?a(t,e,o):a(t,e))||o);return i>3&&o&&Object.defineProperty(t,e,o),o},EF=function(n){Yxe(t,n);function t(){return n.call(this,t.TEMPLATE)||this}return t.prototype.init=function(e){var r=this,i={setInnerRenderer:function(l,u){return r.setRenderDetails(l,u)},setChildCount:function(l){return r.eChildCount.textContent=l},addOrRemoveCssClass:function(l,u){return r.addOrRemoveCssClass(l,u)},setContractedDisplayed:function(l){return Ct(r.eContracted,l)},setExpandedDisplayed:function(l){return Ct(r.eExpanded,l)},setCheckboxVisible:function(l){return r.eCheckbox.classList.toggle("ag-invisible",!l)}},o=this.createManagedBean(new BY),a=!e.colDef,s=this.getGui();o.init(i,s,this.eCheckbox,this.eExpanded,this.eContracted,this.constructor,e),a&&hn(s,o.getCellAriaRole())},t.prototype.setRenderDetails=function(e,r){var i=this;if(e){var o=e.newAgStackInstance();if(!o)return;o.then(function(a){if(a){var s=function(){return i.context.destroyBean(a)};i.isAlive()?(i.eValue.appendChild(a.getGui()),i.addDestroyFunc(s)):s()}})}else this.eValue.innerText=r},t.prototype.destroy=function(){this.getContext().destroyBean(this.innerCellRenderer),n.prototype.destroy.call(this)},t.prototype.refresh=function(){return!1},t.TEMPLATE=`<span class="ag-cell-wrapper">
            <span class="ag-group-expanded" ref="eExpanded"></span>
            <span class="ag-group-contracted" ref="eContracted"></span>
            <span class="ag-group-checkbox ag-invisible" ref="eCheckbox"></span>
            <span class="ag-group-value" ref="eValue"></span>
            <span class="ag-group-child-count" ref="eChildCount"></span>
        </span>`,Vy([j("eExpanded")],t.prototype,"eExpanded",void 0),Vy([j("eContracted")],t.prototype,"eContracted",void 0),Vy([j("eCheckbox")],t.prototype,"eCheckbox",void 0),Vy([j("eValue")],t.prototype,"eValue",void 0),Vy([j("eChildCount")],t.prototype,"eChildCount",void 0),t}(ae),Xxe=function(){var n=function(t,e){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])},n(t,e)};return function(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");n(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}}(),c$=function(n,t,e,r){var i=arguments.length,o=i<3?t:r===null?r=Object.getOwnPropertyDescriptor(t,e):r,a;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(n,t,e,r);else for(var s=n.length-1;s>=0;s--)(a=n[s])&&(o=(i<3?a(o):i>3?a(t,e,o):a(t,e))||o);return i>3&&o&&Object.defineProperty(t,e,o),o},qxe=function(n){Xxe(t,n);function t(){return n.call(this,t.TEMPLATE)||this}return t.prototype.init=function(e){e.node.failedLoad?this.setupFailed():this.setupLoading()},t.prototype.setupFailed=function(){var e=this.localeService.getLocaleTextFunc();this.eLoadingText.innerText=e("loadingError","ERR")},t.prototype.setupLoading=function(){var e=Qr("groupLoading",this.gridOptionsService,null);e&&this.eLoadingIcon.appendChild(e);var r=this.localeService.getLocaleTextFunc();this.eLoadingText.innerText=r("loadingOoo","Loading")},t.prototype.refresh=function(e){return!1},t.prototype.destroy=function(){n.prototype.destroy.call(this)},t.TEMPLATE=`<div class="ag-loading">
            <span class="ag-loading-icon" ref="eLoadingIcon"></span>
            <span class="ag-loading-text" ref="eLoadingText"></span>
        </div>`,c$([j("eLoadingIcon")],t.prototype,"eLoadingIcon",void 0),c$([j("eLoadingText")],t.prototype,"eLoadingText",void 0),t}(ae),Zxe=function(){var n=function(t,e){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])},n(t,e)};return function(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");n(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}}(),Qxe=function(n){Zxe(t,n);function t(){return n.call(this)||this}return t.prototype.destroy=function(){n.prototype.destroy.call(this)},t.prototype.init=function(e){var r=this,i=this.gridOptionsService.get("overlayLoadingTemplate");if(this.setTemplate(i??t.DEFAULT_LOADING_OVERLAY_TEMPLATE),!i){var o=this.localeService.getLocaleTextFunc();setTimeout(function(){r.getGui().textContent=o("loadingOoo","Loading...")})}},t.DEFAULT_LOADING_OVERLAY_TEMPLATE='<span aria-live="polite" aria-atomic="true" class="ag-overlay-loading-center"></span>',t}(ae),Jxe=function(){var n=function(t,e){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])},n(t,e)};return function(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");n(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}}(),eEe=function(n){Jxe(t,n);function t(){return n.call(this)||this}return t.prototype.destroy=function(){n.prototype.destroy.call(this)},t.prototype.init=function(e){var r=this,i=this.gridOptionsService.get("overlayNoRowsTemplate");if(this.setTemplate(i??t.DEFAULT_NO_ROWS_TEMPLATE),!i){var o=this.localeService.getLocaleTextFunc();setTimeout(function(){r.getGui().textContent=o("noRowsToShow","No Rows To Show")})}},t.DEFAULT_NO_ROWS_TEMPLATE='<span class="ag-overlay-no-rows-center"></span>',t}(ae),tEe=function(){var n=function(t,e){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])},n(t,e)};return function(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");n(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}}(),rEe=function(n){tEe(t,n);function t(){return n.call(this,'<div class="ag-tooltip"></div>')||this}return t.prototype.init=function(e){var r=e.value;this.getGui().textContent=cn(r,!0)},t}(mc),nEe=function(){var n=function(t,e){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])},n(t,e)};return function(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");n(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}}(),iEe=function(){function n(){}return n.prototype.getTemplate=function(){return'<ag-input-number-field class="ag-cell-editor" ref="eInput"></ag-input-number-field>'},n.prototype.init=function(t,e){this.eInput=t,this.params=e,e.max!=null&&t.setMax(e.max),e.min!=null&&t.setMin(e.min),e.precision!=null&&t.setPrecision(e.precision),e.step!=null&&t.setStep(e.step);var r=t.getInputElement();e.preventStepping?t.addManagedListener(r,"keydown",this.preventStepping):e.showStepperButtons&&r.classList.add("ag-number-field-input-stepper")},n.prototype.preventStepping=function(t){(t.key===U.UP||t.key===U.DOWN)&&t.preventDefault()},n.prototype.getValue=function(){var t=this.eInput.getValue();if(!oe(t)&&!oe(this.params.value))return this.params.value;var e=this.params.parseValue(t);if(e==null)return e;if(typeof e=="string"){if(e==="")return null;e=Number(e)}return isNaN(e)?null:e},n.prototype.getStartValue=function(){return this.params.value},n}(),HY=function(n){nEe(t,n);function t(){return n.call(this,new iEe)||this}return t}(wT),oEe=function(){var n=function(t,e){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])},n(t,e)};return function(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");n(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}}(),aEe=function(){function n(){}return n.prototype.getTemplate=function(){return'<ag-input-date-field class="ag-cell-editor" ref="eInput"></ag-input-date-field>'},n.prototype.init=function(t,e){this.eInput=t,this.params=e,e.min!=null&&t.setMin(e.min),e.max!=null&&t.setMax(e.max),e.step!=null&&t.setStep(e.step)},n.prototype.getValue=function(){var t=this.eInput.getDate();return!oe(t)&&!oe(this.params.value)?this.params.value:t??null},n.prototype.getStartValue=function(){var t=this.params.value;if(t instanceof Date)return za(t,!1)},n}(),jY=function(n){oEe(t,n);function t(){return n.call(this,new aEe)||this}return t}(wT),sEe=function(){var n=function(t,e){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])},n(t,e)};return function(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");n(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}}(),lEe=function(n,t,e,r){var i=arguments.length,o=i<3?t:r===null?r=Object.getOwnPropertyDescriptor(t,e):r,a;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(n,t,e,r);else for(var s=n.length-1;s>=0;s--)(a=n[s])&&(o=(i<3?a(o):i>3?a(t,e,o):a(t,e))||o);return i>3&&o&&Object.defineProperty(t,e,o),o},uEe=function(){function n(t){this.getDataTypeService=t}return n.prototype.getTemplate=function(){return'<ag-input-date-field class="ag-cell-editor" ref="eInput"></ag-input-date-field>'},n.prototype.init=function(t,e){this.eInput=t,this.params=e,e.min!=null&&t.setMin(e.min),e.max!=null&&t.setMax(e.max),e.step!=null&&t.setStep(e.step)},n.prototype.getValue=function(){var t=this.formatDate(this.eInput.getDate());return!oe(t)&&!oe(this.params.value)?this.params.value:this.params.parseValue(t??"")},n.prototype.getStartValue=function(){var t,e;return za((e=this.parseDate((t=this.params.value)!==null&&t!==void 0?t:void 0))!==null&&e!==void 0?e:null,!1)},n.prototype.parseDate=function(t){return this.getDataTypeService().getDateParserFunction(this.params.column)(t)},n.prototype.formatDate=function(t){return this.getDataTypeService().getDateFormatterFunction(this.params.column)(t)},n}(),$Y=function(n){sEe(t,n);function t(){var e=n.call(this,new uEe(function(){return e.dataTypeService}))||this;return e}return lEe([E("dataTypeService")],t.prototype,"dataTypeService",void 0),t}(wT),cEe=function(){var n=function(t,e){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])},n(t,e)};return function(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");n(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}}(),dEe=function(n,t,e,r){var i=arguments.length,o=i<3?t:r===null?r=Object.getOwnPropertyDescriptor(t,e):r,a;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(n,t,e,r);else for(var s=n.length-1;s>=0;s--)(a=n[s])&&(o=(i<3?a(o):i>3?a(t,e,o):a(t,e))||o);return i>3&&o&&Object.defineProperty(t,e,o),o},WY=function(n){cEe(t,n);function t(){return n.call(this,t.TEMPLATE)||this}return t.prototype.init=function(e){var r=this;this.params=e,this.updateCheckbox(e);var i=this.eCheckbox.getInputElement();i.setAttribute("tabindex","-1"),Lk(i,"polite"),this.addManagedListener(i,"click",function(a){if(Gs(a),!r.eCheckbox.isDisabled()){var s=r.eCheckbox.getValue();r.onCheckboxChanged(s)}}),this.addManagedListener(i,"dblclick",function(a){Gs(a)});var o=this.gridOptionsService.getDocument();this.addManagedListener(this.params.eGridCell,"keydown",function(a){if(a.key===U.SPACE&&!r.eCheckbox.isDisabled()){r.params.eGridCell===o.activeElement&&r.eCheckbox.toggle();var s=r.eCheckbox.getValue();r.onCheckboxChanged(s),a.preventDefault()}})},t.prototype.refresh=function(e){return this.params=e,this.updateCheckbox(e),!0},t.prototype.updateCheckbox=function(e){var r,i,o,a,s=!0;if(e.node.group&&e.column){var l=e.column.getColId();l.startsWith(ic)?a=e.value==null||e.value===""?void 0:e.value==="true":e.node.aggData&&e.node.aggData[l]!==void 0?a=(r=e.value)!==null&&r!==void 0?r:void 0:s=!1}else a=(i=e.value)!==null&&i!==void 0?i:void 0;if(!s){this.eCheckbox.setDisplayed(!1);return}this.eCheckbox.setValue(a);var u=e.disabled!=null?e.disabled:!(!((o=e.column)===null||o===void 0)&&o.isCellEditable(e.node));this.eCheckbox.setDisabled(u);var c=this.localeService.getLocaleTextFunc(),d=Hk(c,a),p=u?d:"".concat(c("ariaToggleCellValue","Press SPACE to toggle cell value")," (").concat(d,")");this.eCheckbox.setInputAriaLabel(p)},t.prototype.onCheckboxChanged=function(e){var r=this.params,i=r.column,o=r.node,a=r.rowIndex,s=r.value,l={type:T.EVENT_CELL_EDITING_STARTED,column:i,colDef:i==null?void 0:i.getColDef(),data:o.data,node:o,rowIndex:a,rowPinned:o.rowPinned,value:s};this.eventService.dispatchEvent(l);var u=this.params.node.setDataValue(this.params.column,e,"edit"),c={type:T.EVENT_CELL_EDITING_STOPPED,column:i,colDef:i==null?void 0:i.getColDef(),data:o.data,node:o,rowIndex:a,rowPinned:o.rowPinned,value:s,oldValue:s,newValue:e,valueChanged:u};this.eventService.dispatchEvent(c)},t.TEMPLATE=`
        <div class="ag-cell-wrapper ag-checkbox-cell" role="presentation">
            <ag-checkbox role="presentation" ref="eCheckbox"></ag-checkbox>
        </div>`,dEe([j("eCheckbox")],t.prototype,"eCheckbox",void 0),t}(ae),pEe=function(){var n=function(t,e){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])},n(t,e)};return function(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");n(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}}(),hEe=function(n,t,e,r){var i=arguments.length,o=i<3?t:r===null?r=Object.getOwnPropertyDescriptor(t,e):r,a;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(n,t,e,r);else for(var s=n.length-1;s>=0;s--)(a=n[s])&&(o=(i<3?a(o):i>3?a(t,e,o):a(t,e))||o);return i>3&&o&&Object.defineProperty(t,e,o),o},UY=function(n){pEe(t,n);function t(){return n.call(this,`
            <div class="ag-cell-wrapper ag-cell-edit-wrapper ag-checkbox-edit">
                <ag-checkbox role="presentation" ref="eCheckbox"></ag-checkbox>
            </div>`)||this}return t.prototype.init=function(e){var r=this,i;this.params=e;var o=(i=e.value)!==null&&i!==void 0?i:void 0;this.eCheckbox.setValue(o);var a=this.eCheckbox.getInputElement();a.setAttribute("tabindex","-1"),this.setAriaLabel(o),this.addManagedListener(this.eCheckbox,T.EVENT_FIELD_VALUE_CHANGED,function(s){return r.setAriaLabel(s.selected)})},t.prototype.getValue=function(){return this.eCheckbox.getValue()},t.prototype.focusIn=function(){this.eCheckbox.getFocusableElement().focus()},t.prototype.afterGuiAttached=function(){this.params.cellStartedEdit&&this.focusIn()},t.prototype.isPopup=function(){return!1},t.prototype.setAriaLabel=function(e){var r=this.localeService.getLocaleTextFunc(),i=Hk(r,e),o=r("ariaToggleCellValue","Press SPACE to toggle cell value");this.eCheckbox.setInputAriaLabel("".concat(o," (").concat(i,")"))},hEe([j("eCheckbox")],t.prototype,"eCheckbox",void 0),t}(mc),fEe=function(){var n=function(t,e){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])},n(t,e)};return function(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");n(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}}(),pG=function(n){fEe(t,n);function t(){var e=n.call(this)||this;return e.setTemplate("<div></div>"),e}return t.prototype.init=function(e){var r;this.params=e,this.cssClassPrefix=(r=this.params.cssClassPrefix)!==null&&r!==void 0?r:"ag-menu-option",this.addIcon(),this.addName(),this.addShortcut(),this.addSubMenu()},t.prototype.configureDefaults=function(){return!0},t.prototype.addIcon=function(){if(!this.params.isCompact){var e=fo('<span ref="eIcon" class="'.concat(this.getClassName("part")," ").concat(this.getClassName("icon"),'" role="presentation"></span>'));this.params.checked?e.appendChild(Qr("check",this.gridOptionsService)):this.params.icon&&(kw(this.params.icon)?e.appendChild(this.params.icon):typeof this.params.icon=="string"?e.innerHTML=this.params.icon:console.warn("AG Grid: menu item icon must be DOM node or string")),this.getGui().appendChild(e)}},t.prototype.addName=function(){var e=fo('<span ref="eName" class="'.concat(this.getClassName("part")," ").concat(this.getClassName("text"),'">').concat(this.params.name||"","</span>"));this.getGui().appendChild(e)},t.prototype.addShortcut=function(){if(!this.params.isCompact){var e=fo('<span ref="eShortcut" class="'.concat(this.getClassName("part")," ").concat(this.getClassName("shortcut"),'">').concat(this.params.shortcut||"","</span>"));this.getGui().appendChild(e)}},t.prototype.addSubMenu=function(){var e=fo('<span ref="ePopupPointer" class="'.concat(this.getClassName("part")," ").concat(this.getClassName("popup-pointer"),'"></span>')),r=this.getGui();if(this.params.subMenu){var i=this.gridOptionsService.get("enableRtl")?"smallLeft":"smallRight";oc(r,!1),e.appendChild(Qr(i,this.gridOptionsService))}r.appendChild(e)},t.prototype.getClassName=function(e){return"".concat(this.cssClassPrefix,"-").concat(e)},t.prototype.destroy=function(){n.prototype.destroy.call(this)},t}(ae),vEe=function(){var n=function(t,e){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])},n(t,e)};return function(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");n(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}}(),VA=function(n,t,e,r){var i=arguments.length,o=i<3?t:r===null?r=Object.getOwnPropertyDescriptor(t,e):r,a;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(n,t,e,r);else for(var s=n.length-1;s>=0;s--)(a=n[s])&&(o=(i<3?a(o):i>3?a(t,e,o):a(t,e))||o);return i>3&&o&&Object.defineProperty(t,e,o),o},d$=function(n,t){var e=typeof Symbol=="function"&&n[Symbol.iterator];if(!e)return n;var r=e.call(n),i,o=[],a;try{for(;(t===void 0||t-- >0)&&!(i=r.next()).done;)o.push(i.value)}catch(s){a={error:s}}finally{try{i&&!i.done&&(e=r.return)&&e.call(r)}finally{if(a)throw a.error}}return o},p$=function(n,t,e){if(e||arguments.length===2)for(var r=0,i=t.length,o;r<i;r++)(o||!(r in t))&&(o||(o=Array.prototype.slice.call(t,0,r)),o[r]=t[r]);return n.concat(o||Array.prototype.slice.call(t))},zY=function(n){vEe(t,n);function t(){var e=n!==null&&n.apply(this,arguments)||this;return e.agGridDefaults={agDateInput:Cxe,agColumnHeader:_F,agColumnGroupHeader:Txe,agSortIndicator:ST,agTextColumnFloatingFilter:FY,agNumberColumnFloatingFilter:xxe,agDateColumnFloatingFilter:vxe,agReadOnlyFloatingFilter:z_e,agAnimateShowChangeCellRenderer:kY,agAnimateSlideCellRenderer:GY,agGroupCellRenderer:EF,agGroupRowRenderer:EF,agLoadingCellRenderer:qxe,agCheckboxCellRenderer:WY,agCellEditor:xF,agTextCellEditor:xF,agNumberCellEditor:HY,agDateCellEditor:jY,agDateStringCellEditor:$Y,agSelectCellEditor:NY,agLargeTextCellEditor:IY,agCheckboxCellEditor:UY,agTextColumnFilter:Lg,agNumberColumnFilter:cG,agDateColumnFilter:uG,agLoadingOverlay:Qxe,agNoRowsOverlay:eEe,agTooltipComponent:rEe,agMenuItem:pG},e.enterpriseAgDefaultCompsModule={agSetColumnFilter:pe.SetFilterModule,agSetColumnFloatingFilter:pe.SetFilterModule,agMultiColumnFilter:pe.MultiFilterModule,agMultiColumnFloatingFilter:pe.MultiFilterModule,agGroupColumnFilter:pe.RowGroupingModule,agGroupColumnFloatingFilter:pe.RowGroupingModule,agRichSelect:pe.RichSelectModule,agRichSelectCellEditor:pe.RichSelectModule,agDetailCellRenderer:pe.MasterDetailModule,agSparklineCellRenderer:pe.SparklinesModule},e.jsComps={},e}return t.prototype.init=function(){var e=this;this.gridOptions.components!=null&&gi(this.gridOptions.components,function(r,i){return e.registerJsComponent(r,i)})},t.prototype.registerDefaultComponent=function(e,r){if(this.agGridDefaults[e]){console.error("Trying to overwrite a default component. You should call registerComponent");return}this.agGridDefaults[e]=r},t.prototype.registerJsComponent=function(e,r){this.jsComps[e]=r},t.prototype.retrieve=function(e,r){var i=this,o=function(d,p){return{componentFromFramework:p,component:d}},a=this.getFrameworkOverrides().frameworkComponent(r,this.gridOptions.components);if(a!=null)return o(a,!0);var s=this.jsComps[r];if(s){var l=this.getFrameworkOverrides().isFrameworkComponent(s);return o(s,l)}var u=this.agGridDefaults[r];if(u)return o(u,!1);var c=this.enterpriseAgDefaultCompsModule[r];return c?He.__assertRegistered(c,"AG Grid '".concat(e,"' component: ").concat(r),this.context.getGridId()):Fh(function(){i.warnAboutMissingComponent(e,r)},"MissingComp"+r),null},t.prototype.warnAboutMissingComponent=function(e,r){var i=p$(p$([],d$(Object.keys(this.agGridDefaults).filter(function(a){return!["agCellEditor","agGroupRowRenderer","agSortIndicator"].includes(a)})),!1),d$(Object.keys(this.jsComps)),!1),o=Gw(r,i,!0,.8).values;console.warn("AG Grid: Could not find '".concat(r,`' component. It was configured as "`).concat(e,": '").concat(r,`'" but it wasn't found in the list of registered components.`)),o.length>0&&console.warn("         Did you mean: [".concat(o.slice(0,3),"]?")),console.warn("If using a custom component check it has been registered as described in: ".concat(this.getFrameworkOverrides().getDocLink("components/")))},VA([E("gridOptions")],t.prototype,"gridOptions",void 0),VA([z],t.prototype,"init",null),t=VA([ie("userComponentRegistry")],t),t}(X),gEe={propertyName:"dateComponent",cellRenderer:!1},yEe={propertyName:"headerComponent",cellRenderer:!1},mEe={propertyName:"headerGroupComponent",cellRenderer:!1},h$={propertyName:"cellRenderer",cellRenderer:!0},CEe={propertyName:"cellEditor",cellRenderer:!1},f$={propertyName:"innerRenderer",cellRenderer:!0},SEe={propertyName:"loadingOverlayComponent",cellRenderer:!1},wEe={propertyName:"noRowsOverlayComponent",cellRenderer:!1},_Ee={propertyName:"tooltipComponent",cellRenderer:!1},bF={propertyName:"filter",cellRenderer:!1},xEe={propertyName:"floatingFilterComponent",cellRenderer:!1},EEe={propertyName:"toolPanel",cellRenderer:!1},bEe={propertyName:"statusPanel",cellRenderer:!1},OEe={propertyName:"fullWidthCellRenderer",cellRenderer:!0},REe={propertyName:"loadingCellRenderer",cellRenderer:!0},TEe={propertyName:"groupRowRenderer",cellRenderer:!0},PEe={propertyName:"detailCellRenderer",cellRenderer:!0},AEe={propertyName:"menuItem",cellRenderer:!1},KY=function(){function n(){}return n.getFloatingFilterType=function(t){return this.filterToFloatingFilterMapping[t]},n.filterToFloatingFilterMapping={set:"agSetColumnFloatingFilter",agSetColumnFilter:"agSetColumnFloatingFilter",multi:"agMultiColumnFloatingFilter",agMultiColumnFilter:"agMultiColumnFloatingFilter",group:"agGroupColumnFloatingFilter",agGroupColumnFilter:"agGroupColumnFloatingFilter",number:"agNumberColumnFloatingFilter",agNumberColumnFilter:"agNumberColumnFloatingFilter",date:"agDateColumnFloatingFilter",agDateColumnFilter:"agDateColumnFloatingFilter",text:"agTextColumnFloatingFilter",agTextColumnFilter:"agTextColumnFloatingFilter"},n}(),DEe=function(){var n=function(t,e){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])},n(t,e)};return function(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");n(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}}(),Gf=function(n,t,e,r){var i=arguments.length,o=i<3?t:r===null?r=Object.getOwnPropertyDescriptor(t,e):r,a;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(n,t,e,r);else for(var s=n.length-1;s>=0;s--)(a=n[s])&&(o=(i<3?a(o):i>3?a(t,e,o):a(t,e))||o);return i>3&&o&&Object.defineProperty(t,e,o),o},YY=function(n){DEe(t,n);function t(){return n!==null&&n.apply(this,arguments)||this}return t.prototype.getHeaderCompDetails=function(e,r){return this.getCompDetails(e,yEe,"agColumnHeader",r)},t.prototype.getHeaderGroupCompDetails=function(e){var r=e.columnGroup.getColGroupDef();return this.getCompDetails(r,mEe,"agColumnGroupHeader",e)},t.prototype.getFullWidthCellRendererDetails=function(e){return this.getCompDetails(this.gridOptions,OEe,null,e,!0)},t.prototype.getFullWidthLoadingCellRendererDetails=function(e){return this.getCompDetails(this.gridOptions,REe,"agLoadingCellRenderer",e,!0)},t.prototype.getFullWidthGroupCellRendererDetails=function(e){return this.getCompDetails(this.gridOptions,TEe,"agGroupRowRenderer",e,!0)},t.prototype.getFullWidthDetailCellRendererDetails=function(e){return this.getCompDetails(this.gridOptions,PEe,"agDetailCellRenderer",e,!0)},t.prototype.getInnerRendererDetails=function(e,r){return this.getCompDetails(e,f$,null,r)},t.prototype.getFullWidthGroupRowInnerCellRenderer=function(e,r){return this.getCompDetails(e,f$,null,r)},t.prototype.getCellRendererDetails=function(e,r){return this.getCompDetails(e,h$,null,r)},t.prototype.getCellEditorDetails=function(e,r){return this.getCompDetails(e,CEe,"agCellEditor",r,!0)},t.prototype.getFilterDetails=function(e,r,i){return this.getCompDetails(e,bF,i,r,!0)},t.prototype.getDateCompDetails=function(e){return this.getCompDetails(this.gridOptions,gEe,"agDateInput",e,!0)},t.prototype.getLoadingOverlayCompDetails=function(e){return this.getCompDetails(this.gridOptions,SEe,"agLoadingOverlay",e,!0)},t.prototype.getNoRowsOverlayCompDetails=function(e){return this.getCompDetails(this.gridOptions,wEe,"agNoRowsOverlay",e,!0)},t.prototype.getTooltipCompDetails=function(e){return this.getCompDetails(e.colDef,_Ee,"agTooltipComponent",e,!0)},t.prototype.getSetFilterCellRendererDetails=function(e,r){return this.getCompDetails(e,h$,null,r)},t.prototype.getFloatingFilterCompDetails=function(e,r,i){return this.getCompDetails(e,xEe,i,r)},t.prototype.getToolPanelCompDetails=function(e,r){return this.getCompDetails(e,EEe,null,r,!0)},t.prototype.getStatusPanelCompDetails=function(e,r){return this.getCompDetails(e,bEe,null,r,!0)},t.prototype.getMenuItemCompDetails=function(e,r){return this.getCompDetails(e,AEe,"agMenuItem",r,!0)},t.prototype.getCompDetails=function(e,r,i,o,a){var s=this;a===void 0&&(a=!1);var l=r.propertyName,u=r.cellRenderer,c=this.getCompKeys(e,r,o),d=c.compName,p=c.jsComp,h=c.fwComp,f=c.paramsFromSelector,v=c.popupFromSelector,g=c.popupPositionFromSelector,y=function(w){var _=s.userComponentRegistry.retrieve(l,w);_&&(p=_.componentFromFramework?void 0:_.component,h=_.componentFromFramework?_.component:void 0)};if(d!=null&&y(d),p==null&&h==null&&i!=null&&y(i),p&&u&&!this.agComponentUtils.doesImplementIComponent(p)&&(p=this.agComponentUtils.adaptFunction(l,p)),!p&&!h){a&&console.error("AG Grid: Could not find component ".concat(d,", did you forget to configure this component?"));return}var m=this.mergeParamsWithApplicationProvidedParams(e,r,o,f),C=p==null,S=p||h;return{componentFromFramework:C,componentClass:S,params:m,type:r,popupFromSelector:v,popupPositionFromSelector:g,newAgStackInstance:function(){return s.newAgStackInstance(S,C,m,r)}}},t.prototype.getCompKeys=function(e,r,i){var o=this,a=r.propertyName,s,l,u,c,d,p;if(e){var h=e,f=h[a+"Selector"],v=f?f(i):null,g=function(y){if(typeof y=="string")s=y;else if(y!=null&&y!==!0){var m=o.getFrameworkOverrides().isFrameworkComponent(y);m?u=y:l=y}};v?(g(v.component),c=v.params,d=v.popup,p=v.popupPosition):g(h[a])}return{compName:s,jsComp:l,fwComp:u,paramsFromSelector:c,popupFromSelector:d,popupPositionFromSelector:p}},t.prototype.newAgStackInstance=function(e,r,i,o){var a=o.propertyName,s=!r,l;if(s)l=new e;else{var u=this.componentMetadataProvider.retrieve(a);l=this.frameworkComponentWrapper.wrap(e,u.mandatoryMethodList,u.optionalMethodList,o)}var c=this.initComponent(l,i);return c==null?tt.resolve(l):c.then(function(){return l})},t.prototype.mergeParamsWithApplicationProvidedParams=function(e,r,i,o){o===void 0&&(o=null);var a=this.gridOptionsService.getGridCommonParams();na(a,i);var s=e,l=s&&s[r.propertyName+"Params"];if(typeof l=="function"){var u=l(i);na(a,u)}else typeof l=="object"&&na(a,l);return na(a,o),a},t.prototype.initComponent=function(e,r){if(this.context.createBean(e),e.init!=null)return e.init(r)},t.prototype.getDefaultFloatingFilterType=function(e,r){if(e==null)return null;var i=null,o=this.getCompKeys(e,bF),a=o.compName,s=o.jsComp,l=o.fwComp;if(a)i=KY.getFloatingFilterType(a);else{var u=s==null&&l==null&&e.filter===!0;u&&(i=r())}return i},Gf([E("gridOptions")],t.prototype,"gridOptions",void 0),Gf([E("agComponentUtils")],t.prototype,"agComponentUtils",void 0),Gf([E("componentMetadataProvider")],t.prototype,"componentMetadataProvider",void 0),Gf([E("userComponentRegistry")],t.prototype,"userComponentRegistry",void 0),Gf([et("frameworkComponentWrapper")],t.prototype,"frameworkComponentWrapper",void 0),t=Gf([ie("userComponentFactory")],t),t}(X),XY=function(){function n(){}return n.ColDefPropertyMap={headerName:void 0,columnGroupShow:void 0,headerClass:void 0,toolPanelClass:void 0,headerValueGetter:void 0,pivotKeys:void 0,groupId:void 0,colId:void 0,sort:void 0,initialSort:void 0,field:void 0,type:void 0,cellDataType:void 0,tooltipComponent:void 0,tooltipField:void 0,headerTooltip:void 0,cellClass:void 0,showRowGroup:void 0,filter:void 0,initialAggFunc:void 0,defaultAggFunc:void 0,aggFunc:void 0,pinned:void 0,initialPinned:void 0,chartDataType:void 0,cellAriaRole:void 0,cellEditorPopupPosition:void 0,headerGroupComponent:void 0,headerGroupComponentParams:void 0,cellStyle:void 0,cellRenderer:void 0,cellRendererParams:void 0,cellEditor:void 0,cellEditorParams:void 0,filterParams:void 0,pivotValueColumn:void 0,headerComponent:void 0,headerComponentParams:void 0,floatingFilterComponent:void 0,floatingFilterComponentParams:void 0,tooltipComponentParams:void 0,refData:void 0,columnsMenuParams:void 0,columnChooserParams:void 0,children:void 0,sortingOrder:void 0,allowedAggFuncs:void 0,menuTabs:void 0,pivotTotalColumnIds:void 0,cellClassRules:void 0,icons:void 0,sortIndex:void 0,initialSortIndex:void 0,flex:void 0,initialFlex:void 0,width:void 0,initialWidth:void 0,minWidth:void 0,maxWidth:void 0,rowGroupIndex:void 0,initialRowGroupIndex:void 0,pivotIndex:void 0,initialPivotIndex:void 0,suppressCellFlash:void 0,suppressColumnsToolPanel:void 0,suppressFiltersToolPanel:void 0,openByDefault:void 0,marryChildren:void 0,suppressStickyLabel:void 0,hide:void 0,initialHide:void 0,rowGroup:void 0,initialRowGroup:void 0,pivot:void 0,initialPivot:void 0,checkboxSelection:void 0,showDisabledCheckboxes:void 0,headerCheckboxSelection:void 0,headerCheckboxSelectionFilteredOnly:void 0,headerCheckboxSelectionCurrentPageOnly:void 0,suppressMenu:void 0,suppressHeaderMenuButton:void 0,suppressMovable:void 0,lockPosition:void 0,lockVisible:void 0,lockPinned:void 0,unSortIcon:void 0,suppressSizeToFit:void 0,suppressAutoSize:void 0,enableRowGroup:void 0,enablePivot:void 0,enableValue:void 0,editable:void 0,suppressPaste:void 0,suppressNavigable:void 0,enableCellChangeFlash:void 0,rowDrag:void 0,dndSource:void 0,autoHeight:void 0,wrapText:void 0,sortable:void 0,resizable:void 0,singleClickEdit:void 0,floatingFilter:void 0,cellEditorPopup:void 0,suppressFillHandle:void 0,wrapHeaderText:void 0,autoHeaderHeight:void 0,dndSourceOnRowDrag:void 0,valueGetter:void 0,valueSetter:void 0,filterValueGetter:void 0,keyCreator:void 0,valueFormatter:void 0,valueParser:void 0,comparator:void 0,equals:void 0,pivotComparator:void 0,suppressKeyboardEvent:void 0,suppressHeaderKeyboardEvent:void 0,colSpan:void 0,rowSpan:void 0,getQuickFilterText:void 0,onCellValueChanged:void 0,onCellClicked:void 0,onCellDoubleClicked:void 0,onCellContextMenu:void 0,rowDragText:void 0,tooltipValueGetter:void 0,cellRendererSelector:void 0,cellEditorSelector:void 0,suppressSpanHeaderHeight:void 0,useValueFormatterForExport:void 0,useValueParserForImport:void 0,mainMenuItems:void 0,contextMenuItems:void 0,suppressFloatingFilterButton:void 0,suppressHeaderFilterButton:void 0,suppressHeaderContextMenu:void 0},n.ALL_PROPERTIES=Object.keys(n.ColDefPropertyMap),n}(),ef;(function(n){n[n.SINGLE_SHEET=0]="SINGLE_SHEET",n[n.MULTI_SHEET=1]="MULTI_SHEET"})(ef||(ef={}));var MEe=function(){var n=function(t,e){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])},n(t,e)};return function(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");n(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}}(),BA=function(n,t,e,r){var i=arguments.length,o=i<3?t:r===null?r=Object.getOwnPropertyDescriptor(t,e):r,a;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(n,t,e,r);else for(var s=n.length-1;s>=0;s--)(a=n[s])&&(o=(i<3?a(o):i>3?a(t,e,o):a(t,e))||o);return i>3&&o&&Object.defineProperty(t,e,o),o},qY=function(n){MEe(t,n);function t(){var e=n!==null&&n.apply(this,arguments)||this;return e.dragEndFunctions=[],e.dragSources=[],e}return t.prototype.removeAllListeners=function(){this.dragSources.forEach(this.removeListener.bind(this)),this.dragSources.length=0},t.prototype.removeListener=function(e){var r=e.dragSource.eElement,i=e.mouseDownListener;if(r.removeEventListener("mousedown",i),e.touchEnabled){var o=e.touchStartListener;r.removeEventListener("touchstart",o,{passive:!0})}},t.prototype.removeDragSource=function(e){var r=this.dragSources.find(function(i){return i.dragSource===e});r&&(this.removeListener(r),so(this.dragSources,r))},t.prototype.isDragging=function(){return this.dragging},t.prototype.addDragSource=function(e){var r=this,i=this.onMouseDown.bind(this,e),o=e.eElement,a=e.includeTouch,s=e.stopPropagationForTouch;o.addEventListener("mousedown",i);var l=null,u=this.gridOptionsService.get("suppressTouch");a&&!u&&(l=function(c){Xk(c.target)||(c.cancelable&&(c.preventDefault(),s&&c.stopPropagation()),r.onTouchStart(e,c))},o.addEventListener("touchstart",l,{passive:!1})),this.dragSources.push({dragSource:e,mouseDownListener:i,touchStartListener:l,touchEnabled:!!a})},t.prototype.getStartTarget=function(){return this.startTarget},t.prototype.onTouchStart=function(e,r){var i=this;this.currentDragParams=e,this.dragging=!1;var o=r.touches[0];this.touchLastTime=o,this.touchStart=o;var a=function(d){return i.onTouchMove(d,e.eElement)},s=function(d){return i.onTouchUp(d,e.eElement)},l=function(d){d.cancelable&&d.preventDefault()},u=r.target,c=[{target:this.gridOptionsService.getRootNode(),type:"touchmove",listener:l,options:{passive:!1}},{target:u,type:"touchmove",listener:a,options:{passive:!0}},{target:u,type:"touchend",listener:s,options:{passive:!0}},{target:u,type:"touchcancel",listener:s,options:{passive:!0}}];this.addTemporaryEvents(c),e.dragStartPixels===0&&this.onCommonMove(o,this.touchStart,e.eElement)},t.prototype.onMouseDown=function(e,r){var i=this,o=r;if(!(e.skipMouseEvent&&e.skipMouseEvent(r))&&!o._alreadyProcessedByDragService&&(o._alreadyProcessedByDragService=!0,r.button===0)){this.shouldPreventMouseEvent(r)&&r.preventDefault(),this.currentDragParams=e,this.dragging=!1,this.mouseStartEvent=r,this.startTarget=r.target;var a=function(d){return i.onMouseMove(d,e.eElement)},s=function(d){return i.onMouseUp(d,e.eElement)},l=function(d){return d.preventDefault()},u=this.gridOptionsService.getRootNode(),c=[{target:u,type:"mousemove",listener:a},{target:u,type:"mouseup",listener:s},{target:u,type:"contextmenu",listener:l}];this.addTemporaryEvents(c),e.dragStartPixels===0&&this.onMouseMove(r,e.eElement)}},t.prototype.addTemporaryEvents=function(e){e.forEach(function(r){var i=r.target,o=r.type,a=r.listener,s=r.options;i.addEventListener(o,a,s)}),this.dragEndFunctions.push(function(){e.forEach(function(r){var i=r.target,o=r.type,a=r.listener,s=r.options;i.removeEventListener(o,a,s)})})},t.prototype.isEventNearStartEvent=function(e,r){var i=this.currentDragParams.dragStartPixels,o=oe(i)?i:4;return iG(e,r,o)},t.prototype.getFirstActiveTouch=function(e){for(var r=0;r<e.length;r++)if(e[r].identifier===this.touchStart.identifier)return e[r];return null},t.prototype.onCommonMove=function(e,r,i){if(!this.dragging){if(!this.dragging&&this.isEventNearStartEvent(e,r))return;this.dragging=!0;var o={type:T.EVENT_DRAG_STARTED,target:i};this.eventService.dispatchEvent(o),this.currentDragParams.onDragStart(r),this.currentDragParams.onDragging(r)}this.currentDragParams.onDragging(e)},t.prototype.onTouchMove=function(e,r){var i=this.getFirstActiveTouch(e.touches);i&&this.onCommonMove(i,this.touchStart,r)},t.prototype.onMouseMove=function(e,r){var i;if(tu()){var o=this.gridOptionsService.getDocument();(i=o.getSelection())===null||i===void 0||i.removeAllRanges()}this.shouldPreventMouseEvent(e)&&e.preventDefault(),this.onCommonMove(e,this.mouseStartEvent,r)},t.prototype.shouldPreventMouseEvent=function(e){var r=this.gridOptionsService.get("enableCellTextSelection"),i=e.type==="mousemove";return r&&i&&e.cancelable&&this.mouseEventService.isEventFromThisGrid(e)&&!this.isOverFormFieldElement(e)},t.prototype.isOverFormFieldElement=function(e){var r=e.target,i=r==null?void 0:r.tagName.toLocaleLowerCase();return!!(i!=null&&i.match("^a$|textarea|input|select|button"))},t.prototype.onTouchUp=function(e,r){var i=this.getFirstActiveTouch(e.changedTouches);i||(i=this.touchLastTime),this.onUpCommon(i,r)},t.prototype.onMouseUp=function(e,r){this.onUpCommon(e,r)},t.prototype.onUpCommon=function(e,r){if(this.dragging){this.dragging=!1,this.currentDragParams.onDragStop(e);var i={type:T.EVENT_DRAG_STOPPED,target:r};this.eventService.dispatchEvent(i)}this.mouseStartEvent=null,this.startTarget=null,this.touchStart=null,this.touchLastTime=null,this.currentDragParams=null,this.dragEndFunctions.forEach(function(o){return o()}),this.dragEndFunctions.length=0},BA([E("mouseEventService")],t.prototype,"mouseEventService",void 0),BA([ar],t.prototype,"removeAllListeners",null),t=BA([ie("dragService")],t),t}(X),Hw=function(){function n(t){this.tickingInterval=null,this.onScrollCallback=null,this.scrollContainer=t.scrollContainer,this.scrollHorizontally=t.scrollAxis.indexOf("x")!==-1,this.scrollVertically=t.scrollAxis.indexOf("y")!==-1,this.scrollByTick=t.scrollByTick!=null?t.scrollByTick:20,t.onScrollCallback&&(this.onScrollCallback=t.onScrollCallback),this.scrollVertically&&(this.getVerticalPosition=t.getVerticalPosition,this.setVerticalPosition=t.setVerticalPosition),this.scrollHorizontally&&(this.getHorizontalPosition=t.getHorizontalPosition,this.setHorizontalPosition=t.setHorizontalPosition),this.shouldSkipVerticalScroll=t.shouldSkipVerticalScroll||function(){return!1},this.shouldSkipHorizontalScroll=t.shouldSkipHorizontalScroll||function(){return!1}}return n.prototype.check=function(t,e){e===void 0&&(e=!1);var r=e||this.shouldSkipVerticalScroll();if(!(r&&this.shouldSkipHorizontalScroll())){var i=this.scrollContainer.getBoundingClientRect(),o=this.scrollByTick;this.tickLeft=t.clientX<i.left+o,this.tickRight=t.clientX>i.right-o,this.tickUp=t.clientY<i.top+o&&!r,this.tickDown=t.clientY>i.bottom-o&&!r,this.tickLeft||this.tickRight||this.tickUp||this.tickDown?this.ensureTickingStarted():this.ensureCleared()}},n.prototype.ensureTickingStarted=function(){this.tickingInterval===null&&(this.tickingInterval=window.setInterval(this.doTick.bind(this),100),this.tickCount=0)},n.prototype.doTick=function(){this.tickCount++;var t;if(t=this.tickCount>20?200:this.tickCount>10?80:40,this.scrollVertically){var e=this.getVerticalPosition();this.tickUp&&this.setVerticalPosition(e-t),this.tickDown&&this.setVerticalPosition(e+t)}if(this.scrollHorizontally){var r=this.getHorizontalPosition();this.tickLeft&&this.setHorizontalPosition(r-t),this.tickRight&&this.setHorizontalPosition(r+t)}this.onScrollCallback&&this.onScrollCallback()},n.prototype.ensureCleared=function(){this.tickingInterval&&(window.clearInterval(this.tickingInterval),this.tickingInterval=null)},n}(),LEe=function(){var n=function(t,e){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])},n(t,e)};return function(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");n(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}}(),v$=function(n,t,e,r){var i=arguments.length,o=i<3?t:r===null?r=Object.getOwnPropertyDescriptor(t,e):r,a;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(n,t,e,r);else for(var s=n.length-1;s>=0;s--)(a=n[s])&&(o=(i<3?a(o):i>3?a(t,e,o):a(t,e))||o);return i>3&&o&&Object.defineProperty(t,e,o),o},HA="ag-list-item-hovered",hG=function(n){LEe(t,n);function t(e,r,i){var o=n.call(this)||this;return o.comp=e,o.virtualList=r,o.params=i,o.currentDragValue=null,o.lastHoveredListItem=null,o}return t.prototype.postConstruct=function(){this.addManagedListener(this.params.eventSource,this.params.listItemDragStartEvent,this.listItemDragStart.bind(this)),this.addManagedListener(this.params.eventSource,this.params.listItemDragEndEvent,this.listItemDragEnd.bind(this)),this.createDropTarget(),this.createAutoScrollService()},t.prototype.listItemDragStart=function(e){this.currentDragValue=this.params.getCurrentDragValue(e),this.moveBlocked=this.params.isMoveBlocked(this.currentDragValue)},t.prototype.listItemDragEnd=function(){var e=this;window.setTimeout(function(){e.currentDragValue=null,e.moveBlocked=!1},10)},t.prototype.createDropTarget=function(){var e=this,r={isInterestedIn:function(i){return i===e.params.dragSourceType},getIconName:function(){return e.moveBlocked?St.ICON_PINNED:St.ICON_MOVE},getContainer:function(){return e.comp.getGui()},onDragging:function(i){return e.onDragging(i)},onDragStop:function(){return e.onDragStop()},onDragLeave:function(){return e.onDragLeave()}};this.dragAndDropService.addDropTarget(r)},t.prototype.createAutoScrollService=function(){var e=this.virtualList.getGui();this.autoScrollService=new Hw({scrollContainer:e,scrollAxis:"y",getVerticalPosition:function(){return e.scrollTop},setVerticalPosition:function(r){return e.scrollTop=r}})},t.prototype.onDragging=function(e){if(!(!this.currentDragValue||this.moveBlocked)){var r=this.getListDragItem(e),i=this.virtualList.getComponentAt(r.rowIndex);if(i){var o=i.getGui().parentElement;this.lastHoveredListItem&&this.lastHoveredListItem.rowIndex===r.rowIndex&&this.lastHoveredListItem.position===r.position||(this.autoScrollService.check(e.event),this.clearHoveredItems(),this.lastHoveredListItem=r,yF(o,HA),yF(o,"ag-item-highlight-".concat(r.position)))}}},t.prototype.getListDragItem=function(e){var r=this.virtualList.getGui(),i=parseFloat(window.getComputedStyle(r).paddingTop),o=this.virtualList.getRowHeight(),a=this.virtualList.getScrollTop(),s=Math.max(0,(e.y-i+a)/o),l=this.params.getNumRows(this.comp)-1,u=Math.min(l,s)|0;return{rowIndex:u,position:Math.round(s)>s||s>l?"bottom":"top",component:this.virtualList.getComponentAt(u)}},t.prototype.onDragStop=function(){this.moveBlocked||(this.params.moveItem(this.currentDragValue,this.lastHoveredListItem),this.clearHoveredItems(),this.autoScrollService.ensureCleared())},t.prototype.onDragLeave=function(){this.clearHoveredItems(),this.autoScrollService.ensureCleared()},t.prototype.clearHoveredItems=function(){var e=this.virtualList.getGui();e.querySelectorAll(".".concat(HA)).forEach(function(r){[HA,"ag-item-highlight-top","ag-item-highlight-bottom"].forEach(function(i){r.classList.remove(i)})}),this.lastHoveredListItem=null},v$([E("dragAndDropService")],t.prototype,"dragAndDropService",void 0),v$([z],t.prototype,"postConstruct",null),t}(X),Xl;(function(n){n[n.Above=0]="Above",n[n.Below=1]="Below"})(Xl||(Xl={}));var ft=function(n,t,e,r){var i=arguments.length,o=i<3?t:r===null?r=Object.getOwnPropertyDescriptor(t,e):r,a;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(n,t,e,r);else for(var s=n.length-1;s>=0;s--)(a=n[s])&&(o=(i<3?a(o):i>3?a(t,e,o):a(t,e))||o);return i>3&&o&&Object.defineProperty(t,e,o),o};function Eh(n){var t=n,e=t!=null&&t.getFrameworkComponentInstance!=null;return e?t.getFrameworkComponentInstance():n}var fG=function(){function n(){this.detailGridInfoMap={},this.destroyCalled=!1}return n.prototype.init=function(){var t=this;switch(this.rowModel.getType()){case"clientSide":this.clientSideRowModel=this.rowModel;break;case"infinite":this.infiniteRowModel=this.rowModel;break;case"serverSide":this.serverSideRowModel=this.rowModel;break}this.ctrlsService.whenReady(function(){t.gridBodyCtrl=t.ctrlsService.getGridBodyCtrl()})},n.prototype.__getAlignedGridService=function(){return this.alignedGridsService},n.prototype.__getContext=function(){return this.context},n.prototype.__getModel=function(){return this.rowModel},n.prototype.getGridId=function(){return this.context.getGridId()},n.prototype.addDetailGridInfo=function(t,e){this.detailGridInfoMap[t]=e},n.prototype.removeDetailGridInfo=function(t){this.detailGridInfoMap[t]=void 0},n.prototype.getDetailGridInfo=function(t){return this.detailGridInfoMap[t]},n.prototype.forEachDetailGridInfo=function(t){var e=0;gi(this.detailGridInfoMap,function(r,i){oe(i)&&(t(i,e),e++)})},n.prototype.getDataAsCsv=function(t){if(He.__assertRegistered(pe.CsvExportModule,"api.getDataAsCsv",this.context.getGridId()))return this.csvCreator.getDataAsCsv(t)},n.prototype.exportDataAsCsv=function(t){He.__assertRegistered(pe.CsvExportModule,"api.exportDataAsCSv",this.context.getGridId())&&this.csvCreator.exportDataAsCsv(t)},n.prototype.assertNotExcelMultiSheet=function(t,e){return He.__assertRegistered(pe.ExcelExportModule,"api."+t,this.context.getGridId())?this.excelCreator.getFactoryMode()===ef.MULTI_SHEET?(console.warn("AG Grid: The Excel Exporter is currently on Multi Sheet mode. End that operation by calling 'api.getMultipleSheetAsExcel()' or 'api.exportMultipleSheetsAsExcel()'"),!1):!0:!1},n.prototype.getDataAsExcel=function(t){if(this.assertNotExcelMultiSheet("getDataAsExcel",t))return this.excelCreator.getDataAsExcel(t)},n.prototype.exportDataAsExcel=function(t){this.assertNotExcelMultiSheet("exportDataAsExcel",t)&&this.excelCreator.exportDataAsExcel(t)},n.prototype.getSheetDataForExcel=function(t){if(He.__assertRegistered(pe.ExcelExportModule,"api.getSheetDataForExcel",this.context.getGridId()))return this.excelCreator.setFactoryMode(ef.MULTI_SHEET),this.excelCreator.getSheetDataForExcel(t)},n.prototype.getMultipleSheetsAsExcel=function(t){if(He.__assertRegistered(pe.ExcelExportModule,"api.getMultipleSheetsAsExcel",this.context.getGridId()))return this.excelCreator.getMultipleSheetsAsExcel(t)},n.prototype.exportMultipleSheetsAsExcel=function(t){He.__assertRegistered(pe.ExcelExportModule,"api.exportMultipleSheetsAsExcel",this.context.getGridId())&&this.excelCreator.exportMultipleSheetsAsExcel(t)},n.prototype.setGridAriaProperty=function(t,e){if(t){var r=this.ctrlsService.getGridBodyCtrl().getGui(),i="aria-".concat(t);e===null?r.removeAttribute(i):r.setAttribute(i,e)}},n.prototype.logMissingRowModel=function(t){for(var e=[],r=1;r<arguments.length;r++)e[r-1]=arguments[r];console.error("AG Grid: api.".concat(t," can only be called when gridOptions.rowModelType is ").concat(e.join(" or ")))},n.prototype.logDeprecation=function(t,e,r,i){Ge("Since ".concat(t," api.").concat(e," is deprecated. Please use ").concat(r," instead. ").concat(i))},n.prototype.getPinnedTopRowCount=function(){return this.pinnedRowModel.getPinnedTopRowCount()},n.prototype.getPinnedBottomRowCount=function(){return this.pinnedRowModel.getPinnedBottomRowCount()},n.prototype.getPinnedTopRow=function(t){return this.pinnedRowModel.getPinnedTopRow(t)},n.prototype.getPinnedBottomRow=function(t){return this.pinnedRowModel.getPinnedBottomRow(t)},n.prototype.expireValueCache=function(){this.valueCache.expire()},n.prototype.getVerticalPixelRange=function(){return this.gridBodyCtrl.getScrollFeature().getVScrollPosition()},n.prototype.getHorizontalPixelRange=function(){return this.gridBodyCtrl.getScrollFeature().getHScrollPosition()},n.prototype.refreshCells=function(t){var e=this;t===void 0&&(t={}),this.frameworkOverrides.wrapIncoming(function(){return e.rowRenderer.refreshCells(t)})},n.prototype.flashCells=function(t){var e=this;t===void 0&&(t={});var r=function(i){return Ge("Since v31.1 api.flashCells parameter '".concat(i,"Delay' is deprecated. Please use '").concat(i,"Duration' instead."))};oe(t.fadeDelay)&&r("fade"),oe(t.flashDelay)&&r("flash"),this.frameworkOverrides.wrapIncoming(function(){return e.rowRenderer.flashCells(t)})},n.prototype.redrawRows=function(t){var e=this;t===void 0&&(t={});var r=t?t.rowNodes:void 0;this.frameworkOverrides.wrapIncoming(function(){return e.rowRenderer.redrawRows(r)})},n.prototype.refreshHeader=function(){var t=this;this.frameworkOverrides.wrapIncoming(function(){return t.ctrlsService.getHeaderRowContainerCtrls().forEach(function(e){return e.refresh()})})},n.prototype.isAnyFilterPresent=function(){return this.filterManager.isAnyFilterPresent()},n.prototype.isColumnFilterPresent=function(){return this.filterManager.isColumnFilterPresent()||this.filterManager.isAggregateFilterPresent()},n.prototype.isQuickFilterPresent=function(){return this.filterManager.isQuickFilterPresent()},n.prototype.getModel=function(){return Ge("Since v31.1 getModel() is deprecated. Please use the appropriate grid API methods instead."),this.rowModel},n.prototype.setRowNodeExpanded=function(t,e,r){this.expansionService.setRowNodeExpanded(t,e,r)},n.prototype.onGroupExpandedOrCollapsed=function(){if(We(this.clientSideRowModel)){this.logMissingRowModel("onGroupExpandedOrCollapsed","clientSide");return}this.expansionService.onGroupExpandedOrCollapsed()},n.prototype.refreshClientSideRowModel=function(t){if(We(this.clientSideRowModel)){this.logMissingRowModel("refreshClientSideRowModel","clientSide");return}this.clientSideRowModel.refreshModel(t)},n.prototype.isAnimationFrameQueueEmpty=function(){return this.animationFrameService.isQueueEmpty()},n.prototype.flushAllAnimationFrames=function(){this.animationFrameService.flushAllFrames()},n.prototype.getRowNode=function(t){return this.rowModel.getRowNode(t)},n.prototype.getSizesForCurrentTheme=function(){return{rowHeight:this.gos.getRowHeightAsNumber(),headerHeight:this.columnModel.getHeaderHeight()}},n.prototype.expandAll=function(){this.clientSideRowModel||this.serverSideRowModel?this.expansionService.expandAll(!0):this.logMissingRowModel("expandAll","clientSide","serverSide")},n.prototype.collapseAll=function(){this.clientSideRowModel||this.serverSideRowModel?this.expansionService.expandAll(!1):this.logMissingRowModel("collapseAll","clientSide","serverSide")},n.prototype.addRenderedRowListener=function(t,e,r){this.rowRenderer.addRenderedRowListener(t,e,r)},n.prototype.getQuickFilter=function(){return this.gos.get("quickFilterText")},n.prototype.getAdvancedFilterModel=function(){return He.__assertRegistered(pe.AdvancedFilterModule,"api.getAdvancedFilterModel",this.context.getGridId())?this.filterManager.getAdvancedFilterModel():null},n.prototype.setAdvancedFilterModel=function(t){this.filterManager.setAdvancedFilterModel(t)},n.prototype.showAdvancedFilterBuilder=function(){He.__assertRegistered(pe.AdvancedFilterModule,"api.setAdvancedFilterModel",this.context.getGridId())&&this.filterManager.showAdvancedFilterBuilder("api")},n.prototype.setNodesSelected=function(t){var e=t.nodes.every(function(s){return s.rowPinned?(console.warn("AG Grid: cannot select pinned rows"),!1):s.id===void 0?(console.warn("AG Grid: cannot select node until id for node is known"),!1):!0});if(e){var r=t.nodes,i=t.source,o=t.newValue,a=r;this.selectionService.setNodesSelected({nodes:a,source:i??"api",newValue:o})}},n.prototype.selectAll=function(t){t===void 0&&(t="apiSelectAll"),this.selectionService.selectAllRowNodes({source:t})},n.prototype.deselectAll=function(t){t===void 0&&(t="apiSelectAll"),this.selectionService.deselectAllRowNodes({source:t})},n.prototype.selectAllFiltered=function(t){t===void 0&&(t="apiSelectAllFiltered"),this.selectionService.selectAllRowNodes({source:t,justFiltered:!0})},n.prototype.deselectAllFiltered=function(t){t===void 0&&(t="apiSelectAllFiltered"),this.selectionService.deselectAllRowNodes({source:t,justFiltered:!0})},n.prototype.getServerSideSelectionState=function(){return We(this.serverSideRowModel)?(this.logMissingRowModel("getServerSideSelectionState","serverSide"),null):this.selectionService.getSelectionState()},n.prototype.setServerSideSelectionState=function(t){if(We(this.serverSideRowModel)){this.logMissingRowModel("setServerSideSelectionState","serverSide");return}this.selectionService.setSelectionState(t,"api")},n.prototype.selectAllOnCurrentPage=function(t){t===void 0&&(t="apiSelectAllCurrentPage"),this.selectionService.selectAllRowNodes({source:t,justCurrentPage:!0})},n.prototype.deselectAllOnCurrentPage=function(t){t===void 0&&(t="apiSelectAllCurrentPage"),this.selectionService.deselectAllRowNodes({source:t,justCurrentPage:!0})},n.prototype.showLoadingOverlay=function(){this.overlayService.showLoadingOverlay()},n.prototype.showNoRowsOverlay=function(){this.overlayService.showNoRowsOverlay()},n.prototype.hideOverlay=function(){this.overlayService.hideOverlay()},n.prototype.getSelectedNodes=function(){return this.selectionService.getSelectedNodes()},n.prototype.getSelectedRows=function(){return this.selectionService.getSelectedRows()},n.prototype.getBestCostNodeSelection=function(){if(We(this.clientSideRowModel)){this.logMissingRowModel("getBestCostNodeSelection","clientSide");return}return this.selectionService.getBestCostNodeSelection()},n.prototype.getRenderedNodes=function(){return this.rowRenderer.getRenderedNodes()},n.prototype.ensureColumnVisible=function(t,e){var r=this;e===void 0&&(e="auto"),this.frameworkOverrides.wrapIncoming(function(){return r.gridBodyCtrl.getScrollFeature().ensureColumnVisible(t,e)},"ensureVisible")},n.prototype.ensureIndexVisible=function(t,e){var r=this;this.frameworkOverrides.wrapIncoming(function(){return r.gridBodyCtrl.getScrollFeature().ensureIndexVisible(t,e)},"ensureVisible")},n.prototype.ensureNodeVisible=function(t,e){var r=this;e===void 0&&(e=null),this.frameworkOverrides.wrapIncoming(function(){return r.gridBodyCtrl.getScrollFeature().ensureNodeVisible(t,e)},"ensureVisible")},n.prototype.forEachLeafNode=function(t){if(We(this.clientSideRowModel)){this.logMissingRowModel("forEachLeafNode","clientSide");return}this.clientSideRowModel.forEachLeafNode(t)},n.prototype.forEachNode=function(t,e){this.rowModel.forEachNode(t,e)},n.prototype.forEachNodeAfterFilter=function(t){if(We(this.clientSideRowModel)){this.logMissingRowModel("forEachNodeAfterFilter","clientSide");return}this.clientSideRowModel.forEachNodeAfterFilter(t)},n.prototype.forEachNodeAfterFilterAndSort=function(t){if(We(this.clientSideRowModel)){this.logMissingRowModel("forEachNodeAfterFilterAndSort","clientSide");return}this.clientSideRowModel.forEachNodeAfterFilterAndSort(t)},n.prototype.getFilterInstance=function(t,e){return Ge("'getFilterInstance' is deprecated. To get/set individual filter models, use 'getColumnFilterModel' or 'setColumnFilterModel' instead. To get hold of the filter instance, use 'getColumnFilterInstance' which returns the instance asynchronously."),this.filterManager.getFilterInstance(t,e)},n.prototype.getColumnFilterInstance=function(t){return this.filterManager.getColumnFilterInstance(t)},n.prototype.destroyFilter=function(t){var e=this.columnModel.getPrimaryColumn(t);if(e)return this.filterManager.destroyFilter(e,"api")},n.prototype.getStatusPanel=function(t){if(He.__assertRegistered(pe.StatusBarModule,"api.getStatusPanel",this.context.getGridId())){var e=this.statusBarService.getStatusPanel(t);return Eh(e)}},n.prototype.getColumnDef=function(t){var e=this.columnModel.getPrimaryColumn(t);return e?e.getColDef():null},n.prototype.getColumnDefs=function(){return this.columnModel.getColumnDefs()},n.prototype.onFilterChanged=function(t){t===void 0&&(t="api"),this.filterManager.onFilterChanged({source:t})},n.prototype.onSortChanged=function(){this.sortController.onSortChanged("api")},n.prototype.setFilterModel=function(t){var e=this;this.frameworkOverrides.wrapIncoming(function(){return e.filterManager.setFilterModel(t)})},n.prototype.getFilterModel=function(){return this.filterManager.getFilterModel()},n.prototype.getColumnFilterModel=function(t){return this.filterManager.getColumnFilterModel(t)},n.prototype.setColumnFilterModel=function(t,e){return this.filterManager.setColumnFilterModel(t,e)},n.prototype.getFocusedCell=function(){return this.focusService.getFocusedCell()},n.prototype.clearFocusedCell=function(){return this.focusService.clearFocusedCell()},n.prototype.setFocusedCell=function(t,e,r){this.focusService.setFocusedCell({rowIndex:t,column:e,rowPinned:r,forceBrowserFocus:!0})},n.prototype.addRowDropZone=function(t){this.gridBodyCtrl.getRowDragFeature().addRowDropZone(t)},n.prototype.removeRowDropZone=function(t){var e=this.dragAndDropService.findExternalZone(t);e&&this.dragAndDropService.removeDropTarget(e)},n.prototype.getRowDropZoneParams=function(t){return this.gridBodyCtrl.getRowDragFeature().getRowDropZone(t)},n.prototype.assertSideBarLoaded=function(t){return He.__assertRegistered(pe.SideBarModule,"api."+t,this.context.getGridId())},n.prototype.isSideBarVisible=function(){return this.assertSideBarLoaded("isSideBarVisible")&&this.sideBarService.getSideBarComp().isDisplayed()},n.prototype.setSideBarVisible=function(t){this.assertSideBarLoaded("setSideBarVisible")&&this.sideBarService.getSideBarComp().setDisplayed(t)},n.prototype.setSideBarPosition=function(t){this.assertSideBarLoaded("setSideBarPosition")&&this.sideBarService.getSideBarComp().setSideBarPosition(t)},n.prototype.openToolPanel=function(t){this.assertSideBarLoaded("openToolPanel")&&this.sideBarService.getSideBarComp().openToolPanel(t,"api")},n.prototype.closeToolPanel=function(){this.assertSideBarLoaded("closeToolPanel")&&this.sideBarService.getSideBarComp().close("api")},n.prototype.getOpenedToolPanel=function(){return this.assertSideBarLoaded("getOpenedToolPanel")?this.sideBarService.getSideBarComp().openedItem():null},n.prototype.refreshToolPanel=function(){this.assertSideBarLoaded("refreshToolPanel")&&this.sideBarService.getSideBarComp().refresh()},n.prototype.isToolPanelShowing=function(){return this.assertSideBarLoaded("isToolPanelShowing")&&this.sideBarService.getSideBarComp().isToolPanelShowing()},n.prototype.getToolPanelInstance=function(t){if(this.assertSideBarLoaded("getToolPanelInstance")){var e=this.sideBarService.getSideBarComp().getToolPanelInstance(t);return Eh(e)}},n.prototype.getSideBar=function(){if(this.assertSideBarLoaded("getSideBar"))return this.sideBarService.getSideBarComp().getDef()},n.prototype.resetRowHeights=function(){if(oe(this.clientSideRowModel)){if(this.columnModel.isAutoRowHeightActive()){console.warn("AG Grid: calling gridApi.resetRowHeights() makes no sense when using Auto Row Height.");return}this.clientSideRowModel.resetRowHeights()}},n.prototype.setRowCount=function(t,e){if(this.serverSideRowModel){if(this.columnModel.isRowGroupEmpty()){this.serverSideRowModel.setRowCount(t,e);return}console.error("AG Grid: setRowCount cannot be used while using row grouping.");return}if(this.infiniteRowModel){this.infiniteRowModel.setRowCount(t,e);return}this.logMissingRowModel("setRowCount","infinite","serverSide")},n.prototype.onRowHeightChanged=function(){this.clientSideRowModel?this.clientSideRowModel.onRowHeightChanged():this.serverSideRowModel&&this.serverSideRowModel.onRowHeightChanged()},n.prototype.getValue=function(t,e){var r=this.columnModel.getPrimaryColumn(t);return We(r)&&(r=this.columnModel.getGridColumn(t)),We(r)?null:this.valueService.getValue(r,e)},n.prototype.addEventListener=function(t,e){this.apiEventService.addEventListener(t,e)},n.prototype.addGlobalListener=function(t){this.apiEventService.addGlobalListener(t)},n.prototype.removeEventListener=function(t,e){this.apiEventService.removeEventListener(t,e)},n.prototype.removeGlobalListener=function(t){this.apiEventService.removeGlobalListener(t)},n.prototype.dispatchEvent=function(t){this.eventService.dispatchEvent(t)},n.prototype.destroy=function(){var t="See ".concat(this.frameworkOverrides.getDocLink("grid-lifecycle/#grid-pre-destroyed"));if(!this.destroyCalled){var e={type:T.EVENT_GRID_PRE_DESTROYED,state:this.getState()};this.dispatchEvent(e),this.destroyCalled=!0;var r=this.ctrlsService.getGridCtrl();r&&r.destroyGridUi(),this.context.destroy(),m7(this,["isDestroyed"],t)}},n.prototype.isDestroyed=function(){return this.destroyCalled},n.prototype.resetQuickFilter=function(){this.filterManager.resetQuickFilterCache()},n.prototype.getCellRanges=function(){return this.rangeService?this.rangeService.getCellRanges():(He.__assertRegistered(pe.RangeSelectionModule,"api.getCellRanges",this.context.getGridId()),null)},n.prototype.addCellRange=function(t){if(this.rangeService){this.rangeService.addCellRange(t);return}He.__assertRegistered(pe.RangeSelectionModule,"api.addCellRange",this.context.getGridId())},n.prototype.clearRangeSelection=function(){this.rangeService&&this.rangeService.removeAllCellRanges(),He.__assertRegistered(pe.RangeSelectionModule,"gridApi.clearRangeSelection",this.context.getGridId())},n.prototype.undoCellEditing=function(){this.undoRedoService.undo("api")},n.prototype.redoCellEditing=function(){this.undoRedoService.redo("api")},n.prototype.getCurrentUndoSize=function(){return this.undoRedoService.getCurrentUndoStackSize()},n.prototype.getCurrentRedoSize=function(){return this.undoRedoService.getCurrentRedoStackSize()},n.prototype.assertChart=function(t,e){if(He.__assertRegistered(pe.GridChartsModule,"api."+t,this.context.getGridId()))return this.frameworkOverrides.wrapIncoming(function(){return e()})},n.prototype.getChartModels=function(){var t=this;return this.assertChart("getChartModels",function(){return t.chartService.getChartModels()})},n.prototype.getChartRef=function(t){var e=this;return this.assertChart("getChartRef",function(){return e.chartService.getChartRef(t)})},n.prototype.getChartImageDataURL=function(t){var e=this;return this.assertChart("getChartImageDataURL",function(){return e.chartService.getChartImageDataURL(t)})},n.prototype.downloadChart=function(t){var e=this;return this.assertChart("downloadChart",function(){return e.chartService.downloadChart(t)})},n.prototype.openChartToolPanel=function(t){var e=this;return this.assertChart("openChartToolPanel",function(){return e.chartService.openChartToolPanel(t)})},n.prototype.closeChartToolPanel=function(t){var e=this;return this.assertChart("closeChartToolPanel",function(){return e.chartService.closeChartToolPanel(t.chartId)})},n.prototype.createRangeChart=function(t){var e=this;return this.assertChart("createRangeChart",function(){return e.chartService.createRangeChart(t)})},n.prototype.createPivotChart=function(t){var e=this;return this.assertChart("createPivotChart",function(){return e.chartService.createPivotChart(t)})},n.prototype.createCrossFilterChart=function(t){var e=this;return this.assertChart("createCrossFilterChart",function(){return e.chartService.createCrossFilterChart(t)})},n.prototype.updateChart=function(t){var e=this;return this.assertChart("updateChart",function(){return e.chartService.updateChart(t)})},n.prototype.restoreChart=function(t,e){var r=this;return this.assertChart("restoreChart",function(){return r.chartService.restoreChart(t,e)})},n.prototype.assertClipboard=function(t,e){He.__assertRegistered(pe.ClipboardModule,"api"+t,this.context.getGridId())&&e()},n.prototype.copyToClipboard=function(t){var e=this;this.assertClipboard("copyToClipboard",function(){return e.clipboardService.copyToClipboard(t)})},n.prototype.cutToClipboard=function(t){var e=this;this.assertClipboard("cutToClipboard",function(){return e.clipboardService.cutToClipboard(t)})},n.prototype.copySelectedRowsToClipboard=function(t){var e=this;this.assertClipboard("copySelectedRowsToClipboard",function(){return e.clipboardService.copySelectedRowsToClipboard(t)})},n.prototype.copySelectedRangeToClipboard=function(t){var e=this;this.assertClipboard("copySelectedRangeToClipboard",function(){return e.clipboardService.copySelectedRangeToClipboard(t)})},n.prototype.copySelectedRangeDown=function(){var t=this;this.assertClipboard("copySelectedRangeDown",function(){return t.clipboardService.copyRangeDown()})},n.prototype.pasteFromClipboard=function(){var t=this;this.assertClipboard("pasteFromClipboard",function(){return t.clipboardService.pasteFromClipboard()})},n.prototype.showColumnMenuAfterButtonClick=function(t,e){Ge("'showColumnMenuAfterButtonClick' is deprecated. Use 'IHeaderParams.showColumnMenu' within a header component, or 'api.showColumnMenu' elsewhere.");var r=this.columnModel.getGridColumn(t);this.menuService.showColumnMenu({column:r,buttonElement:e,positionBy:"button"})},n.prototype.showColumnMenuAfterMouseClick=function(t,e){Ge("'showColumnMenuAfterMouseClick' is deprecated. Use 'IHeaderParams.showColumnMenuAfterMouseClick' within a header component, or 'api.showColumnMenu' elsewhere.");var r=this.columnModel.getGridColumn(t);if(r||(r=this.columnModel.getPrimaryColumn(t)),!r){console.error("AG Grid: column '".concat(t,"' not found"));return}this.menuService.showColumnMenu({column:r,mouseEvent:e,positionBy:"mouse"})},n.prototype.showColumnChooser=function(t){this.menuService.showColumnChooser({chooserParams:t})},n.prototype.showColumnFilter=function(t){var e=this.columnModel.getGridColumn(t);if(!e){console.error("AG Grid: column '".concat(t,"' not found"));return}this.menuService.showFilterMenu({column:e,containerType:"columnFilter",positionBy:"auto"})},n.prototype.showColumnMenu=function(t){var e=this.columnModel.getGridColumn(t);if(!e){console.error("AG Grid: column '".concat(t,"' not found"));return}this.menuService.showColumnMenu({column:e,positionBy:"auto"})},n.prototype.hidePopupMenu=function(){this.menuService.hidePopupMenu()},n.prototype.hideColumnChooser=function(){this.menuService.hideColumnChooser()},n.prototype.tabToNextCell=function(t){return this.navigationService.tabToNextCell(!1,t)},n.prototype.tabToPreviousCell=function(t){return this.navigationService.tabToNextCell(!0,t)},n.prototype.getCellRendererInstances=function(t){t===void 0&&(t={});var e=this.rowRenderer.getCellRendererInstances(t),r=e.map(Eh);return r},n.prototype.getCellEditorInstances=function(t){t===void 0&&(t={});var e=this.rowRenderer.getCellEditorInstances(t),r=e.map(Eh);return r},n.prototype.getEditingCells=function(){return this.rowRenderer.getEditingCells()},n.prototype.stopEditing=function(t){t===void 0&&(t=!1),this.rowRenderer.stopEditing(t)},n.prototype.startEditingCell=function(t){var e=this.columnModel.getGridColumn(t.colKey);if(!e){console.warn("AG Grid: no column found for ".concat(t.colKey));return}var r={rowIndex:t.rowIndex,rowPinned:t.rowPinned||null,column:e},i=t.rowPinned==null;i&&this.ensureIndexVisible(t.rowIndex),this.ensureColumnVisible(t.colKey);var o=this.navigationService.getCellByPosition(r);o&&(this.focusService.isCellFocused(r)||this.focusService.setFocusedCell(r),o.startRowOrCellEdit(t.key))},n.prototype.addAggFunc=function(t,e){this.logDeprecation("v31.1","addAggFunc(key, func)","addAggFuncs({ key: func })"),this.aggFuncService&&this.aggFuncService.addAggFuncs({key:e})},n.prototype.addAggFuncs=function(t){this.aggFuncService&&this.aggFuncService.addAggFuncs(t)},n.prototype.clearAggFuncs=function(){this.aggFuncService&&this.aggFuncService.clear()},n.prototype.applyServerSideTransaction=function(t){if(!this.serverSideTransactionManager){this.logMissingRowModel("applyServerSideTransaction","serverSide");return}return this.serverSideTransactionManager.applyTransaction(t)},n.prototype.applyServerSideTransactionAsync=function(t,e){if(!this.serverSideTransactionManager){this.logMissingRowModel("applyServerSideTransactionAsync","serverSide");return}return this.serverSideTransactionManager.applyTransactionAsync(t,e)},n.prototype.applyServerSideRowData=function(t){var e,r,i=(e=t.startRow)!==null&&e!==void 0?e:0,o=(r=t.route)!==null&&r!==void 0?r:[];if(i<0){console.warn("AG Grid: invalid value ".concat(t.startRow," for startRow, the value should be >= 0"));return}this.serverSideRowModel?this.serverSideRowModel.applyRowData(t.successParams,i,o):this.logMissingRowModel("setServerSideDatasource","serverSide")},n.prototype.retryServerSideLoads=function(){if(!this.serverSideRowModel){this.logMissingRowModel("retryServerSideLoads","serverSide");return}this.serverSideRowModel.retryLoads()},n.prototype.flushServerSideAsyncTransactions=function(){if(!this.serverSideTransactionManager){this.logMissingRowModel("flushServerSideAsyncTransactions","serverSide");return}return this.serverSideTransactionManager.flushAsyncTransactions()},n.prototype.applyTransaction=function(t){var e=this;if(!this.clientSideRowModel){this.logMissingRowModel("applyTransaction","clientSide");return}return this.frameworkOverrides.wrapIncoming(function(){return e.clientSideRowModel.updateRowData(t)})},n.prototype.applyTransactionAsync=function(t,e){var r=this;if(!this.clientSideRowModel){this.logMissingRowModel("applyTransactionAsync","clientSide");return}this.frameworkOverrides.wrapIncoming(function(){return r.clientSideRowModel.batchUpdateRowData(t,e)})},n.prototype.flushAsyncTransactions=function(){var t=this;if(!this.clientSideRowModel){this.logMissingRowModel("flushAsyncTransactions","clientSide");return}this.frameworkOverrides.wrapIncoming(function(){return t.clientSideRowModel.flushAsyncTransactions()})},n.prototype.refreshInfiniteCache=function(){this.infiniteRowModel?this.infiniteRowModel.refreshCache():this.logMissingRowModel("refreshInfiniteCache","infinite")},n.prototype.purgeInfiniteCache=function(){this.infiniteRowModel?this.infiniteRowModel.purgeCache():this.logMissingRowModel("purgeInfiniteCache","infinite")},n.prototype.refreshServerSide=function(t){if(!this.serverSideRowModel){this.logMissingRowModel("refreshServerSide","serverSide");return}this.serverSideRowModel.refreshStore(t)},n.prototype.getServerSideGroupLevelState=function(){return this.serverSideRowModel?this.serverSideRowModel.getStoreState():(this.logMissingRowModel("getServerSideGroupLevelState","serverSide"),[])},n.prototype.getInfiniteRowCount=function(){if(this.infiniteRowModel)return this.infiniteRowModel.getRowCount();this.logMissingRowModel("getInfiniteRowCount","infinite")},n.prototype.isLastRowIndexKnown=function(){if(this.infiniteRowModel)return this.infiniteRowModel.isLastRowIndexKnown();this.logMissingRowModel("isLastRowIndexKnown","infinite")},n.prototype.getCacheBlockState=function(){return this.rowNodeBlockLoader.getBlockState()},n.prototype.getFirstDisplayedRow=function(){return this.logDeprecation("v31.1","getFirstDisplayedRow","getFirstDisplayedRowIndex"),this.getFirstDisplayedRowIndex()},n.prototype.getFirstDisplayedRowIndex=function(){return this.rowRenderer.getFirstVirtualRenderedRow()},n.prototype.getLastDisplayedRow=function(){return this.logDeprecation("v31.1","getLastDisplayedRow","getLastDisplayedRowIndex"),this.getLastDisplayedRowIndex()},n.prototype.getLastDisplayedRowIndex=function(){return this.rowRenderer.getLastVirtualRenderedRow()},n.prototype.getDisplayedRowAtIndex=function(t){return this.rowModel.getRow(t)},n.prototype.getDisplayedRowCount=function(){return this.rowModel.getRowCount()},n.prototype.paginationIsLastPageFound=function(){return this.paginationProxy.isLastPageFound()},n.prototype.paginationGetPageSize=function(){return this.paginationProxy.getPageSize()},n.prototype.paginationGetCurrentPage=function(){return this.paginationProxy.getCurrentPage()},n.prototype.paginationGetTotalPages=function(){return this.paginationProxy.getTotalPages()},n.prototype.paginationGetRowCount=function(){return this.paginationProxy.getMasterRowCount()},n.prototype.paginationGoToNextPage=function(){this.paginationProxy.goToNextPage()},n.prototype.paginationGoToPreviousPage=function(){this.paginationProxy.goToPreviousPage()},n.prototype.paginationGoToFirstPage=function(){this.paginationProxy.goToFirstPage()},n.prototype.paginationGoToLastPage=function(){this.paginationProxy.goToLastPage()},n.prototype.paginationGoToPage=function(t){this.paginationProxy.goToPage(t)},n.prototype.sizeColumnsToFit=function(t){typeof t=="number"?this.columnModel.sizeColumnsToFit(t,"api"):this.gridBodyCtrl.sizeColumnsToFit(t)},n.prototype.setColumnGroupOpened=function(t,e){this.columnModel.setColumnGroupOpened(t,e,"api")},n.prototype.getColumnGroup=function(t,e){return this.columnModel.getColumnGroup(t,e)},n.prototype.getProvidedColumnGroup=function(t){return this.columnModel.getProvidedColumnGroup(t)},n.prototype.getDisplayNameForColumn=function(t,e){return this.columnModel.getDisplayNameForColumn(t,e)||""},n.prototype.getDisplayNameForColumnGroup=function(t,e){return this.columnModel.getDisplayNameForColumnGroup(t,e)||""},n.prototype.getColumn=function(t){return this.columnModel.getPrimaryColumn(t)},n.prototype.getColumns=function(){return this.columnModel.getAllPrimaryColumns()},n.prototype.applyColumnState=function(t){return this.columnModel.applyColumnState(t,"api")},n.prototype.getColumnState=function(){return this.columnModel.getColumnState()},n.prototype.resetColumnState=function(){this.columnModel.resetColumnState("api")},n.prototype.getColumnGroupState=function(){return this.columnModel.getColumnGroupState()},n.prototype.setColumnGroupState=function(t){this.columnModel.setColumnGroupState(t,"api")},n.prototype.resetColumnGroupState=function(){this.columnModel.resetColumnGroupState("api")},n.prototype.isPinning=function(){return this.columnModel.isPinningLeft()||this.columnModel.isPinningRight()},n.prototype.isPinningLeft=function(){return this.columnModel.isPinningLeft()},n.prototype.isPinningRight=function(){return this.columnModel.isPinningRight()},n.prototype.getDisplayedColAfter=function(t){return this.columnModel.getDisplayedColAfter(t)},n.prototype.getDisplayedColBefore=function(t){return this.columnModel.getDisplayedColBefore(t)},n.prototype.setColumnVisible=function(t,e){this.logDeprecation("v31.1","setColumnVisible(key,visible)","setColumnsVisible([key],visible)"),this.columnModel.setColumnsVisible([t],e,"api")},n.prototype.setColumnsVisible=function(t,e){this.columnModel.setColumnsVisible(t,e,"api")},n.prototype.setColumnPinned=function(t,e){this.logDeprecation("v31.1","setColumnPinned(key,pinned)","setColumnsPinned([key],pinned)"),this.columnModel.setColumnsPinned([t],e,"api")},n.prototype.setColumnsPinned=function(t,e){this.columnModel.setColumnsPinned(t,e,"api")},n.prototype.getAllGridColumns=function(){return this.columnModel.getAllGridColumns()},n.prototype.getDisplayedLeftColumns=function(){return this.columnModel.getDisplayedLeftColumns()},n.prototype.getDisplayedCenterColumns=function(){return this.columnModel.getDisplayedCenterColumns()},n.prototype.getDisplayedRightColumns=function(){return this.columnModel.getDisplayedRightColumns()},n.prototype.getAllDisplayedColumns=function(){return this.columnModel.getAllDisplayedColumns()},n.prototype.getAllDisplayedVirtualColumns=function(){return this.columnModel.getViewportColumns()},n.prototype.moveColumn=function(t,e){this.logDeprecation("v31.1","moveColumn(key, toIndex)","moveColumns([key], toIndex)"),this.columnModel.moveColumns([t],e,"api")},n.prototype.moveColumnByIndex=function(t,e){this.columnModel.moveColumnByIndex(t,e,"api")},n.prototype.moveColumns=function(t,e){this.columnModel.moveColumns(t,e,"api")},n.prototype.moveRowGroupColumn=function(t,e){this.columnModel.moveRowGroupColumn(t,e,"api")},n.prototype.setColumnAggFunc=function(t,e){this.columnModel.setColumnAggFunc(t,e,"api")},n.prototype.setColumnWidth=function(t,e,r,i){r===void 0&&(r=!0),i===void 0&&(i="api"),this.logDeprecation("v31.1","setColumnWidth(col, width)","setColumnWidths([{key: col, newWidth: width}])"),this.columnModel.setColumnWidths([{key:t,newWidth:e}],!1,r,i)},n.prototype.setColumnWidths=function(t,e,r){e===void 0&&(e=!0),r===void 0&&(r="api"),this.columnModel.setColumnWidths(t,!1,e,r)},n.prototype.isPivotMode=function(){return this.columnModel.isPivotMode()},n.prototype.getPivotResultColumn=function(t,e){return this.columnModel.getSecondaryPivotColumn(t,e)},n.prototype.setValueColumns=function(t){this.columnModel.setValueColumns(t,"api")},n.prototype.getValueColumns=function(){return this.columnModel.getValueColumns()},n.prototype.removeValueColumn=function(t){this.logDeprecation("v31.1","removeValueColumn(colKey)","removeValueColumns([colKey])"),this.columnModel.removeValueColumns([t],"api")},n.prototype.removeValueColumns=function(t){this.columnModel.removeValueColumns(t,"api")},n.prototype.addValueColumn=function(t){this.logDeprecation("v31.1","addValueColumn(colKey)","addValueColumns([colKey])"),this.columnModel.addValueColumns([t],"api")},n.prototype.addValueColumns=function(t){this.columnModel.addValueColumns(t,"api")},n.prototype.setRowGroupColumns=function(t){this.columnModel.setRowGroupColumns(t,"api")},n.prototype.removeRowGroupColumn=function(t){this.logDeprecation("v31.1","removeRowGroupColumn(colKey)","removeRowGroupColumns([colKey])"),this.columnModel.removeRowGroupColumns([t],"api")},n.prototype.removeRowGroupColumns=function(t){this.columnModel.removeRowGroupColumns(t,"api")},n.prototype.addRowGroupColumn=function(t){this.logDeprecation("v31.1","addRowGroupColumn(colKey)","addRowGroupColumns([colKey])"),this.columnModel.addRowGroupColumns([t],"api")},n.prototype.addRowGroupColumns=function(t){this.columnModel.addRowGroupColumns(t,"api")},n.prototype.getRowGroupColumns=function(){return this.columnModel.getRowGroupColumns()},n.prototype.setPivotColumns=function(t){this.columnModel.setPivotColumns(t,"api")},n.prototype.removePivotColumn=function(t){this.logDeprecation("v31.1","removePivotColumn(colKey)","removePivotColumns([colKey])"),this.columnModel.removePivotColumns([t],"api")},n.prototype.removePivotColumns=function(t){this.columnModel.removePivotColumns(t,"api")},n.prototype.addPivotColumn=function(t){this.logDeprecation("v31.1","addPivotColumn(colKey)","addPivotColumns([colKey])"),this.columnModel.addPivotColumns([t],"api")},n.prototype.addPivotColumns=function(t){this.columnModel.addPivotColumns(t,"api")},n.prototype.getPivotColumns=function(){return this.columnModel.getPivotColumns()},n.prototype.getLeftDisplayedColumnGroups=function(){return this.columnModel.getDisplayedTreeLeft()},n.prototype.getCenterDisplayedColumnGroups=function(){return this.columnModel.getDisplayedTreeCentre()},n.prototype.getRightDisplayedColumnGroups=function(){return this.columnModel.getDisplayedTreeRight()},n.prototype.getAllDisplayedColumnGroups=function(){return this.columnModel.getAllDisplayedTrees()},n.prototype.autoSizeColumn=function(t,e){return this.logDeprecation("v31.1","autoSizeColumn(key, skipHeader)","autoSizeColumns([key], skipHeader)"),this.columnModel.autoSizeColumns({columns:[t],skipHeader:e,source:"api"})},n.prototype.autoSizeColumns=function(t,e){this.columnModel.autoSizeColumns({columns:t,skipHeader:e,source:"api"})},n.prototype.autoSizeAllColumns=function(t){this.columnModel.autoSizeAllColumns("api",t)},n.prototype.setPivotResultColumns=function(t){this.columnModel.setSecondaryColumns(t,"api")},n.prototype.getPivotResultColumns=function(){return this.columnModel.getSecondaryColumns()},n.prototype.getState=function(){return this.stateService.getState()},n.prototype.getGridOption=function(t){return this.gos.get(t)},n.prototype.setGridOption=function(t,e){var r;this.updateGridOptions((r={},r[t]=e,r))},n.prototype.updateGridOptions=function(t){this.gos.updateGridOptions({options:t})},n.prototype.__internalUpdateGridOptions=function(t){this.gos.updateGridOptions({options:t,source:"gridOptionsUpdated"})},n.prototype.deprecatedUpdateGridOption=function(t,e){Ge("set".concat(t.charAt(0).toUpperCase()).concat(t.slice(1,t.length)," is deprecated. Please use 'api.setGridOption('").concat(t,"', newValue)' or 'api.updateGridOptions({ ").concat(t,": newValue })' instead.")),this.setGridOption(t,e)},n.prototype.setPivotMode=function(t){this.deprecatedUpdateGridOption("pivotMode",t)},n.prototype.setPinnedTopRowData=function(t){this.deprecatedUpdateGridOption("pinnedTopRowData",t)},n.prototype.setPinnedBottomRowData=function(t){this.deprecatedUpdateGridOption("pinnedBottomRowData",t)},n.prototype.setPopupParent=function(t){this.deprecatedUpdateGridOption("popupParent",t)},n.prototype.setSuppressModelUpdateAfterUpdateTransaction=function(t){this.deprecatedUpdateGridOption("suppressModelUpdateAfterUpdateTransaction",t)},n.prototype.setDataTypeDefinitions=function(t){this.deprecatedUpdateGridOption("dataTypeDefinitions",t)},n.prototype.setPagination=function(t){this.deprecatedUpdateGridOption("pagination",t)},n.prototype.paginationSetPageSize=function(t){this.deprecatedUpdateGridOption("paginationPageSize",t)},n.prototype.setSideBar=function(t){this.deprecatedUpdateGridOption("sideBar",t)},n.prototype.setSuppressClipboardPaste=function(t){this.deprecatedUpdateGridOption("suppressClipboardPaste",t)},n.prototype.setGroupRemoveSingleChildren=function(t){this.deprecatedUpdateGridOption("groupRemoveSingleChildren",t)},n.prototype.setGroupRemoveLowestSingleChildren=function(t){this.deprecatedUpdateGridOption("groupRemoveLowestSingleChildren",t)},n.prototype.setGroupDisplayType=function(t){this.deprecatedUpdateGridOption("groupDisplayType",t)},n.prototype.setGroupIncludeFooter=function(t){this.deprecatedUpdateGridOption("groupIncludeFooter",t)},n.prototype.setGroupIncludeTotalFooter=function(t){this.deprecatedUpdateGridOption("groupIncludeTotalFooter",t)},n.prototype.setRowClass=function(t){this.deprecatedUpdateGridOption("rowClass",t)},n.prototype.setDeltaSort=function(t){this.deprecatedUpdateGridOption("deltaSort",t)},n.prototype.setSuppressRowDrag=function(t){this.deprecatedUpdateGridOption("suppressRowDrag",t)},n.prototype.setSuppressMoveWhenRowDragging=function(t){this.deprecatedUpdateGridOption("suppressMoveWhenRowDragging",t)},n.prototype.setSuppressRowClickSelection=function(t){this.deprecatedUpdateGridOption("suppressRowClickSelection",t)},n.prototype.setEnableAdvancedFilter=function(t){this.deprecatedUpdateGridOption("enableAdvancedFilter",t)},n.prototype.setIncludeHiddenColumnsInAdvancedFilter=function(t){this.deprecatedUpdateGridOption("includeHiddenColumnsInAdvancedFilter",t)},n.prototype.setAdvancedFilterParent=function(t){this.deprecatedUpdateGridOption("advancedFilterParent",t)},n.prototype.setAdvancedFilterBuilderParams=function(t){this.deprecatedUpdateGridOption("advancedFilterBuilderParams",t)},n.prototype.setQuickFilter=function(t){Ge("setQuickFilter is deprecated. Please use 'api.setGridOption('quickFilterText', newValue)' or 'api.updateGridOptions({ quickFilterText: newValue })' instead."),this.gos.updateGridOptions({options:{quickFilterText:t}})},n.prototype.setExcludeHiddenColumnsFromQuickFilter=function(t){this.deprecatedUpdateGridOption("includeHiddenColumnsInQuickFilter",!t)},n.prototype.setIncludeHiddenColumnsInQuickFilter=function(t){this.deprecatedUpdateGridOption("includeHiddenColumnsInQuickFilter",t)},n.prototype.setQuickFilterParser=function(t){this.deprecatedUpdateGridOption("quickFilterParser",t)},n.prototype.setQuickFilterMatcher=function(t){this.deprecatedUpdateGridOption("quickFilterMatcher",t)},n.prototype.setAlwaysShowHorizontalScroll=function(t){this.deprecatedUpdateGridOption("alwaysShowHorizontalScroll",t)},n.prototype.setAlwaysShowVerticalScroll=function(t){this.deprecatedUpdateGridOption("alwaysShowVerticalScroll",t)},n.prototype.setFunctionsReadOnly=function(t){this.deprecatedUpdateGridOption("functionsReadOnly",t)},n.prototype.setColumnDefs=function(t,e){e===void 0&&(e="api"),Ge("setColumnDefs is deprecated. Please use 'api.setGridOption('columnDefs', newValue)' or 'api.updateGridOptions({ columnDefs: newValue })' instead."),this.gos.updateGridOptions({options:{columnDefs:t},source:e})},n.prototype.setAutoGroupColumnDef=function(t,e){e===void 0&&(e="api"),Ge("setAutoGroupColumnDef is deprecated. Please use 'api.setGridOption('autoGroupColumnDef', newValue)' or 'api.updateGridOptions({ autoGroupColumnDef: newValue })' instead."),this.gos.updateGridOptions({options:{autoGroupColumnDef:t},source:e})},n.prototype.setDefaultColDef=function(t,e){e===void 0&&(e="api"),Ge("setDefaultColDef is deprecated. Please use 'api.setGridOption('defaultColDef', newValue)' or 'api.updateGridOptions({ defaultColDef: newValue })' instead."),this.gos.updateGridOptions({options:{defaultColDef:t},source:e})},n.prototype.setColumnTypes=function(t,e){e===void 0&&(e="api"),Ge("setColumnTypes is deprecated. Please use 'api.setGridOption('columnTypes', newValue)' or 'api.updateGridOptions({ columnTypes: newValue })' instead."),this.gos.updateGridOptions({options:{columnTypes:t},source:e})},n.prototype.setTreeData=function(t){this.deprecatedUpdateGridOption("treeData",t)},n.prototype.setServerSideDatasource=function(t){this.deprecatedUpdateGridOption("serverSideDatasource",t)},n.prototype.setCacheBlockSize=function(t){this.deprecatedUpdateGridOption("cacheBlockSize",t)},n.prototype.setDatasource=function(t){this.deprecatedUpdateGridOption("datasource",t)},n.prototype.setViewportDatasource=function(t){this.deprecatedUpdateGridOption("viewportDatasource",t)},n.prototype.setRowData=function(t){this.deprecatedUpdateGridOption("rowData",t)},n.prototype.setEnableCellTextSelection=function(t){this.deprecatedUpdateGridOption("enableCellTextSelection",t)},n.prototype.setHeaderHeight=function(t){this.deprecatedUpdateGridOption("headerHeight",t)},n.prototype.setDomLayout=function(t){this.deprecatedUpdateGridOption("domLayout",t)},n.prototype.setFillHandleDirection=function(t){this.deprecatedUpdateGridOption("fillHandleDirection",t)},n.prototype.setGroupHeaderHeight=function(t){this.deprecatedUpdateGridOption("groupHeaderHeight",t)},n.prototype.setFloatingFiltersHeight=function(t){this.deprecatedUpdateGridOption("floatingFiltersHeight",t)},n.prototype.setPivotHeaderHeight=function(t){this.deprecatedUpdateGridOption("pivotHeaderHeight",t)},n.prototype.setPivotGroupHeaderHeight=function(t){this.deprecatedUpdateGridOption("pivotGroupHeaderHeight",t)},n.prototype.setAnimateRows=function(t){this.deprecatedUpdateGridOption("animateRows",t)},n.prototype.setIsExternalFilterPresent=function(t){this.deprecatedUpdateGridOption("isExternalFilterPresent",t)},n.prototype.setDoesExternalFilterPass=function(t){this.deprecatedUpdateGridOption("doesExternalFilterPass",t)},n.prototype.setNavigateToNextCell=function(t){this.deprecatedUpdateGridOption("navigateToNextCell",t)},n.prototype.setTabToNextCell=function(t){this.deprecatedUpdateGridOption("tabToNextCell",t)},n.prototype.setTabToNextHeader=function(t){this.deprecatedUpdateGridOption("tabToNextHeader",t)},n.prototype.setNavigateToNextHeader=function(t){this.deprecatedUpdateGridOption("navigateToNextHeader",t)},n.prototype.setRowGroupPanelShow=function(t){this.deprecatedUpdateGridOption("rowGroupPanelShow",t)},n.prototype.setGetGroupRowAgg=function(t){this.deprecatedUpdateGridOption("getGroupRowAgg",t)},n.prototype.setGetBusinessKeyForNode=function(t){this.deprecatedUpdateGridOption("getBusinessKeyForNode",t)},n.prototype.setGetChildCount=function(t){this.deprecatedUpdateGridOption("getChildCount",t)},n.prototype.setProcessRowPostCreate=function(t){this.deprecatedUpdateGridOption("processRowPostCreate",t)},n.prototype.setGetRowId=function(t){Ge("getRowId is a static property and can no longer be updated.")},n.prototype.setGetRowClass=function(t){this.deprecatedUpdateGridOption("getRowClass",t)},n.prototype.setIsFullWidthRow=function(t){this.deprecatedUpdateGridOption("isFullWidthRow",t)},n.prototype.setIsRowSelectable=function(t){this.deprecatedUpdateGridOption("isRowSelectable",t)},n.prototype.setIsRowMaster=function(t){this.deprecatedUpdateGridOption("isRowMaster",t)},n.prototype.setPostSortRows=function(t){this.deprecatedUpdateGridOption("postSortRows",t)},n.prototype.setGetDocument=function(t){this.deprecatedUpdateGridOption("getDocument",t)},n.prototype.setGetContextMenuItems=function(t){this.deprecatedUpdateGridOption("getContextMenuItems",t)},n.prototype.setGetMainMenuItems=function(t){this.deprecatedUpdateGridOption("getMainMenuItems",t)},n.prototype.setProcessCellForClipboard=function(t){this.deprecatedUpdateGridOption("processCellForClipboard",t)},n.prototype.setSendToClipboard=function(t){this.deprecatedUpdateGridOption("sendToClipboard",t)},n.prototype.setProcessCellFromClipboard=function(t){this.deprecatedUpdateGridOption("processCellFromClipboard",t)},n.prototype.setProcessPivotResultColDef=function(t){this.deprecatedUpdateGridOption("processPivotResultColDef",t)},n.prototype.setProcessPivotResultColGroupDef=function(t){this.deprecatedUpdateGridOption("processPivotResultColGroupDef",t)},n.prototype.setPostProcessPopup=function(t){this.deprecatedUpdateGridOption("postProcessPopup",t)},n.prototype.setInitialGroupOrderComparator=function(t){this.deprecatedUpdateGridOption("initialGroupOrderComparator",t)},n.prototype.setGetChartToolbarItems=function(t){this.deprecatedUpdateGridOption("getChartToolbarItems",t)},n.prototype.setPaginationNumberFormatter=function(t){this.deprecatedUpdateGridOption("paginationNumberFormatter",t)},n.prototype.setGetServerSideGroupLevelParams=function(t){this.deprecatedUpdateGridOption("getServerSideGroupLevelParams",t)},n.prototype.setIsServerSideGroupOpenByDefault=function(t){this.deprecatedUpdateGridOption("isServerSideGroupOpenByDefault",t)},n.prototype.setIsApplyServerSideTransaction=function(t){this.deprecatedUpdateGridOption("isApplyServerSideTransaction",t)},n.prototype.setIsServerSideGroup=function(t){this.deprecatedUpdateGridOption("isServerSideGroup",t)},n.prototype.setGetServerSideGroupKey=function(t){this.deprecatedUpdateGridOption("getServerSideGroupKey",t)},n.prototype.setGetRowStyle=function(t){this.deprecatedUpdateGridOption("getRowStyle",t)},n.prototype.setGetRowHeight=function(t){this.deprecatedUpdateGridOption("getRowHeight",t)},ft([et("csvCreator")],n.prototype,"csvCreator",void 0),ft([et("excelCreator")],n.prototype,"excelCreator",void 0),ft([E("rowRenderer")],n.prototype,"rowRenderer",void 0),ft([E("navigationService")],n.prototype,"navigationService",void 0),ft([E("filterManager")],n.prototype,"filterManager",void 0),ft([E("columnModel")],n.prototype,"columnModel",void 0),ft([E("selectionService")],n.prototype,"selectionService",void 0),ft([E("gridOptionsService")],n.prototype,"gos",void 0),ft([E("valueService")],n.prototype,"valueService",void 0),ft([E("alignedGridsService")],n.prototype,"alignedGridsService",void 0),ft([E("eventService")],n.prototype,"eventService",void 0),ft([E("pinnedRowModel")],n.prototype,"pinnedRowModel",void 0),ft([E("context")],n.prototype,"context",void 0),ft([E("rowModel")],n.prototype,"rowModel",void 0),ft([E("sortController")],n.prototype,"sortController",void 0),ft([E("paginationProxy")],n.prototype,"paginationProxy",void 0),ft([E("focusService")],n.prototype,"focusService",void 0),ft([E("dragAndDropService")],n.prototype,"dragAndDropService",void 0),ft([et("rangeService")],n.prototype,"rangeService",void 0),ft([et("clipboardService")],n.prototype,"clipboardService",void 0),ft([et("aggFuncService")],n.prototype,"aggFuncService",void 0),ft([E("menuService")],n.prototype,"menuService",void 0),ft([E("valueCache")],n.prototype,"valueCache",void 0),ft([E("animationFrameService")],n.prototype,"animationFrameService",void 0),ft([et("statusBarService")],n.prototype,"statusBarService",void 0),ft([et("chartService")],n.prototype,"chartService",void 0),ft([et("undoRedoService")],n.prototype,"undoRedoService",void 0),ft([et("rowNodeBlockLoader")],n.prototype,"rowNodeBlockLoader",void 0),ft([et("ssrmTransactionManager")],n.prototype,"serverSideTransactionManager",void 0),ft([E("ctrlsService")],n.prototype,"ctrlsService",void 0),ft([E("overlayService")],n.prototype,"overlayService",void 0),ft([et("sideBarService")],n.prototype,"sideBarService",void 0),ft([E("stateService")],n.prototype,"stateService",void 0),ft([E("expansionService")],n.prototype,"expansionService",void 0),ft([E("apiEventService")],n.prototype,"apiEventService",void 0),ft([E("frameworkOverrides")],n.prototype,"frameworkOverrides",void 0),ft([z],n.prototype,"init",null),n=ft([ie("gridApi")],n),n}(),FEe=function(){var n=function(t,e){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])},n(t,e)};return function(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");n(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}}(),By=function(n,t,e,r){var i=arguments.length,o=i<3?t:r===null?r=Object.getOwnPropertyDescriptor(t,e):r,a;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(n,t,e,r);else for(var s=n.length-1;s>=0;s--)(a=n[s])&&(o=(i<3?a(o):i>3?a(t,e,o):a(t,e))||o);return i>3&&o&&Object.defineProperty(t,e,o),o},ZY=function(n){FEe(t,n);function t(){var r=n!==null&&n.apply(this,arguments)||this;return r.quickFilter=null,r.quickFilterParts=null,r}e=t,t.prototype.postConstruct=function(){var r=this;this.addManagedListener(this.eventService,T.EVENT_COLUMN_PIVOT_MODE_CHANGED,function(){return r.resetQuickFilterCache()}),this.addManagedListener(this.eventService,T.EVENT_NEW_COLUMNS_LOADED,function(){return r.resetQuickFilterCache()}),this.addManagedListener(this.eventService,T.EVENT_COLUMN_ROW_GROUP_CHANGED,function(){return r.resetQuickFilterCache()}),this.addManagedListener(this.eventService,T.EVENT_COLUMN_VISIBLE,function(){r.gridOptionsService.get("includeHiddenColumnsInQuickFilter")||r.resetQuickFilterCache()}),this.addManagedPropertyListener("quickFilterText",function(i){return r.setQuickFilter(i.currentValue)}),this.addManagedPropertyListener("includeHiddenColumnsInQuickFilter",function(){return r.onIncludeHiddenColumnsInQuickFilterChanged()}),this.quickFilter=this.parseQuickFilter(this.gridOptionsService.get("quickFilterText")),this.parser=this.gridOptionsService.get("quickFilterParser"),this.matcher=this.gridOptionsService.get("quickFilterMatcher"),this.setQuickFilterParts(),this.addManagedPropertyListeners(["quickFilterMatcher","quickFilterParser"],function(){return r.setQuickFilterParserAndMatcher()})},t.prototype.isQuickFilterPresent=function(){return this.quickFilter!==null},t.prototype.doesRowPassQuickFilter=function(r){var i=this,o=this.gridOptionsService.get("cacheQuickFilter");return this.matcher?this.doesRowPassQuickFilterMatcher(o,r):this.quickFilterParts.every(function(a){return o?i.doesRowPassQuickFilterCache(r,a):i.doesRowPassQuickFilterNoCache(r,a)})},t.prototype.resetQuickFilterCache=function(){this.rowModel.forEachNode(function(r){return r.quickFilterAggregateText=null})},t.prototype.setQuickFilterParts=function(){var r=this,i=r.quickFilter,o=r.parser;i?this.quickFilterParts=o?o(i):i.split(" "):this.quickFilterParts=null},t.prototype.parseQuickFilter=function(r){return oe(r)?this.gridOptionsService.isRowModelType("clientSide")?r.toUpperCase():(console.warn("AG Grid - Quick filtering only works with the Client-Side Row Model"),null):null},t.prototype.setQuickFilter=function(r){if(r!=null&&typeof r!="string"){console.warn("AG Grid - Grid option quickFilterText only supports string inputs, received: ".concat(typeof r));return}var i=this.parseQuickFilter(r);this.quickFilter!==i&&(this.quickFilter=i,this.setQuickFilterParts(),this.dispatchEvent({type:e.EVENT_QUICK_FILTER_CHANGED}))},t.prototype.setQuickFilterParserAndMatcher=function(){var r=this.gridOptionsService.get("quickFilterParser"),i=this.gridOptionsService.get("quickFilterMatcher"),o=r!==this.parser||i!==this.matcher;this.parser=r,this.matcher=i,o&&(this.setQuickFilterParts(),this.dispatchEvent({type:e.EVENT_QUICK_FILTER_CHANGED}))},t.prototype.onIncludeHiddenColumnsInQuickFilterChanged=function(){this.columnModel.refreshQuickFilterColumns(),this.resetQuickFilterCache(),this.isQuickFilterPresent()&&this.dispatchEvent({type:e.EVENT_QUICK_FILTER_CHANGED})},t.prototype.doesRowPassQuickFilterNoCache=function(r,i){var o=this,a=this.columnModel.getAllColumnsForQuickFilter();return a.some(function(s){var l=o.getQuickFilterTextForColumn(s,r);return oe(l)&&l.indexOf(i)>=0})},t.prototype.doesRowPassQuickFilterCache=function(r,i){return this.checkGenerateQuickFilterAggregateText(r),r.quickFilterAggregateText.indexOf(i)>=0},t.prototype.doesRowPassQuickFilterMatcher=function(r,i){var o;r?(this.checkGenerateQuickFilterAggregateText(i),o=i.quickFilterAggregateText):o=this.getQuickFilterAggregateText(i);var a=this,s=a.quickFilterParts,l=a.matcher;return l(s,o)},t.prototype.checkGenerateQuickFilterAggregateText=function(r){r.quickFilterAggregateText||(r.quickFilterAggregateText=this.getQuickFilterAggregateText(r))},t.prototype.getQuickFilterTextForColumn=function(r,i){var o=this.valueService.getValue(r,i,!0),a=r.getColDef();if(a.getQuickFilterText){var s=this.gridOptionsService.addGridCommonParams({value:o,node:i,data:i.data,column:r,colDef:a});o=a.getQuickFilterText(s)}return oe(o)?o.toString().toUpperCase():null},t.prototype.getQuickFilterAggregateText=function(r){var i=this,o=[],a=this.columnModel.getAllColumnsForQuickFilter();return a.forEach(function(s){var l=i.getQuickFilterTextForColumn(s,r);oe(l)&&o.push(l)}),o.join(e.QUICK_FILTER_SEPARATOR)};var e;return t.EVENT_QUICK_FILTER_CHANGED="quickFilterChanged",t.QUICK_FILTER_SEPARATOR=`
`,By([E("valueService")],t.prototype,"valueService",void 0),By([E("columnModel")],t.prototype,"columnModel",void 0),By([E("rowModel")],t.prototype,"rowModel",void 0),By([z],t.prototype,"postConstruct",null),t=e=By([ie("quickFilterService")],t),t}(X),IEe=function(){var n=function(t,e){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])},n(t,e)};return function(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");n(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}}(),wl=function(){return wl=Object.assign||function(n){for(var t,e=1,r=arguments.length;e<r;e++){t=arguments[e];for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(n[i]=t[i])}return n},wl.apply(this,arguments)},il=function(n,t,e,r){var i=arguments.length,o=i<3?t:r===null?r=Object.getOwnPropertyDescriptor(t,e):r,a;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(n,t,e,r);else for(var s=n.length-1;s>=0;s--)(a=n[s])&&(o=(i<3?a(o):i>3?a(t,e,o):a(t,e))||o);return i>3&&o&&Object.defineProperty(t,e,o),o},QY=function(n){IEe(t,n);function t(){var e=n!==null&&n.apply(this,arguments)||this;return e.allColumnFilters=new Map,e.allColumnListeners=new Map,e.activeAggregateFilters=[],e.activeColumnFilters=[],e.processingFilterChange=!1,e.filterModelUpdateQueue=[],e.columnFilterModelUpdateQueue=[],e.advancedFilterModelUpdateQueue=[],e}return t.prototype.init=function(){var e=this,r,i,o;this.addManagedListener(this.eventService,T.EVENT_GRID_COLUMNS_CHANGED,function(){return e.onColumnsChanged()}),this.addManagedListener(this.eventService,T.EVENT_COLUMN_VALUE_CHANGED,function(){return e.refreshFiltersForAggregations()}),this.addManagedListener(this.eventService,T.EVENT_COLUMN_PIVOT_CHANGED,function(){return e.refreshFiltersForAggregations()}),this.addManagedListener(this.eventService,T.EVENT_COLUMN_PIVOT_MODE_CHANGED,function(){return e.refreshFiltersForAggregations()}),this.addManagedListener(this.eventService,T.EVENT_NEW_COLUMNS_LOADED,function(){return e.updateAdvancedFilterColumns()}),this.addManagedListener(this.eventService,T.EVENT_COLUMN_VISIBLE,function(){return e.updateAdvancedFilterColumns()}),this.addManagedListener(this.eventService,T.EVENT_ROW_DATA_UPDATED,function(){return e.onNewRowsLoaded("rowDataUpdated")}),this.externalFilterPresent=this.isExternalFilterPresentCallback(),this.addManagedPropertyListeners(["isExternalFilterPresent","doesExternalFilterPass"],function(){e.onFilterChanged({source:"api"})}),this.updateAggFiltering(),this.addManagedPropertyListener("groupAggFiltering",function(){e.updateAggFiltering(),e.onFilterChanged()}),this.addManagedPropertyListener("advancedFilterModel",function(a){return e.setAdvancedFilterModel(a.currentValue)}),this.addManagedListener(this.eventService,T.EVENT_ADVANCED_FILTER_ENABLED_CHANGED,function(a){var s=a.enabled;return e.onAdvancedFilterEnabledChanged(s)}),this.addManagedListener(this.eventService,T.EVENT_DATA_TYPES_INFERRED,function(){return e.processFilterModelUpdateQueue()}),this.addManagedListener(this.quickFilterService,ZY.EVENT_QUICK_FILTER_CHANGED,function(){return e.onFilterChanged({source:"quickFilter"})}),this.initialFilterModel=wl({},(o=(i=(r=this.gridOptionsService.get("initialState"))===null||r===void 0?void 0:r.filter)===null||i===void 0?void 0:i.filterModel)!==null&&o!==void 0?o:{})},t.prototype.isExternalFilterPresentCallback=function(){var e=this.gridOptionsService.getCallback("isExternalFilterPresent");return typeof e=="function"?e({}):!1},t.prototype.doesExternalFilterPass=function(e){var r=this.gridOptionsService.get("doesExternalFilterPass");return typeof r=="function"?r(e):!1},t.prototype.setFilterModel=function(e,r){var i=this;if(r===void 0&&(r="api"),this.isAdvancedFilterEnabled()){this.warnAdvancedFilters();return}if(this.dataTypeService.isPendingInference()){this.filterModelUpdateQueue.push({model:e,source:r});return}var o=[],a=this.getFilterModel();if(e){var s=oG(Object.keys(e));this.allColumnFilters.forEach(function(l,u){var c=e[u];o.push(i.setModelOnFilterWrapper(l.filterPromise,c)),s.delete(u)}),s.forEach(function(l){var u=i.columnModel.getPrimaryColumn(l)||i.columnModel.getGridColumn(l);if(!u){console.warn("AG Grid: setFilterModel() - no column found for colId: "+l);return}if(!u.isFilterAllowed()){console.warn("AG Grid: setFilterModel() - unable to fully apply model, filtering disabled for colId: "+l);return}var c=i.getOrCreateFilterWrapper(u,"NO_UI");if(!c){console.warn("AG-Grid: setFilterModel() - unable to fully apply model, unable to create filter for colId: "+l);return}o.push(i.setModelOnFilterWrapper(c.filterPromise,e[l]))})}else this.allColumnFilters.forEach(function(l){o.push(i.setModelOnFilterWrapper(l.filterPromise,null))});tt.all(o).then(function(){var l=i.getFilterModel(),u=[];i.allColumnFilters.forEach(function(c,d){var p=a?a[d]:null,h=l?l[d]:null;A.jsonEquals(p,h)||u.push(c.column)}),u.length>0&&i.onFilterChanged({columns:u,source:r})})},t.prototype.setModelOnFilterWrapper=function(e,r){return new tt(function(i){e.then(function(o){typeof o.setModel!="function"&&(console.warn("AG Grid: filter missing setModel method, which is needed for setFilterModel"),i()),(o.setModel(r)||tt.resolve()).then(function(){return i()})})})},t.prototype.getFilterModel=function(){var e=this,r={};return this.allColumnFilters.forEach(function(i,o){var a=e.getModelFromFilterWrapper(i);oe(a)&&(r[o]=a)}),r},t.prototype.getModelFromFilterWrapper=function(e){var r,i=e.filterPromise,o=i.resolveNow(null,function(a){return a});return o==null?(r=this.initialFilterModel[e.column.getColId()])!==null&&r!==void 0?r:null:typeof o.getModel!="function"?(console.warn("AG Grid: filter API missing getModel method, which is needed for getFilterModel"),null):o.getModel()},t.prototype.isColumnFilterPresent=function(){return this.activeColumnFilters.length>0},t.prototype.isAggregateFilterPresent=function(){return!!this.activeAggregateFilters.length},t.prototype.isExternalFilterPresent=function(){return this.externalFilterPresent},t.prototype.isChildFilterPresent=function(){return this.isColumnFilterPresent()||this.isQuickFilterPresent()||this.isExternalFilterPresent()||this.isAdvancedFilterPresent()},t.prototype.isAdvancedFilterPresent=function(){return this.isAdvancedFilterEnabled()&&this.advancedFilterService.isFilterPresent()},t.prototype.onAdvancedFilterEnabledChanged=function(e){var r=this,i;e?this.allColumnFilters.size&&(this.allColumnFilters.forEach(function(o){return r.disposeFilterWrapper(o,"advancedFilterEnabled")}),this.onFilterChanged({source:"advancedFilter"})):!((i=this.advancedFilterService)===null||i===void 0)&&i.isFilterPresent()&&(this.advancedFilterService.setModel(null),this.onFilterChanged({source:"advancedFilter"}))},t.prototype.isAdvancedFilterEnabled=function(){var e;return(e=this.advancedFilterService)===null||e===void 0?void 0:e.isEnabled()},t.prototype.isAdvancedFilterHeaderActive=function(){return this.isAdvancedFilterEnabled()&&this.advancedFilterService.isHeaderActive()},t.prototype.doAggregateFiltersPass=function(e,r){return this.doColumnFiltersPass(e,r,!0)},t.prototype.updateActiveFilters=function(){var e=this;this.activeColumnFilters.length=0,this.activeAggregateFilters.length=0;var r=function(a){return a?a.isFilterActive?a.isFilterActive():(console.warn("AG Grid: Filter is missing isFilterActive() method"),!1):!1},i=!!this.gridOptionsService.getGroupAggFiltering(),o=function(a){var s=!a.isPrimary();if(s)return!0;var l=!e.columnModel.isPivotActive(),u=a.isValueActive();return!u||!l?!1:e.columnModel.isPivotMode()?!0:i};this.allColumnFilters.forEach(function(a){if(a.filterPromise.resolveNow(!1,r)){var s=a.filterPromise.resolveNow(null,function(l){return l});o(a.column)?e.activeAggregateFilters.push(s):e.activeColumnFilters.push(s)}})},t.prototype.updateFilterFlagInColumns=function(e,r){this.allColumnFilters.forEach(function(i){var o=i.filterPromise.resolveNow(!1,function(a){return a.isFilterActive()});i.column.setFilterActive(o,e,r)})},t.prototype.isAnyFilterPresent=function(){return this.isQuickFilterPresent()||this.isColumnFilterPresent()||this.isAggregateFilterPresent()||this.isExternalFilterPresent()||this.isAdvancedFilterPresent()},t.prototype.doColumnFiltersPass=function(e,r,i){for(var o=e.data,a=e.aggData,s=i?this.activeAggregateFilters:this.activeColumnFilters,l=i?a:o,u=0;u<s.length;u++){var c=s[u];if(!(c==null||c===r)){if(typeof c.doesFilterPass!="function")throw new Error("Filter is missing method doesFilterPass");if(!c.doesFilterPass({node:e,data:l}))return!1}}return!0},t.prototype.resetQuickFilterCache=function(){this.quickFilterService.resetQuickFilterCache()},t.prototype.refreshFiltersForAggregations=function(){var e=this.gridOptionsService.getGroupAggFiltering();e&&this.onFilterChanged()},t.prototype.callOnFilterChangedOutsideRenderCycle=function(e){var r=this,i=function(){return r.onFilterChanged(e)};this.rowRenderer.isRefreshInProgress()?setTimeout(i,0):i()},t.prototype.onFilterChanged=function(e){e===void 0&&(e={});var r=e.source,i=e.filterInstance,o=e.additionalEventAttributes,a=e.columns;this.updateDependantFilters(),this.updateActiveFilters(),this.updateFilterFlagInColumns("filterChanged",o),this.externalFilterPresent=this.isExternalFilterPresentCallback(),this.allColumnFilters.forEach(function(l){l.filterPromise&&l.filterPromise.then(function(u){u&&u!==i&&u.onAnyFilterChanged&&u.onAnyFilterChanged()})});var s={source:r,type:T.EVENT_FILTER_CHANGED,columns:a||[]};o&&na(s,o),this.processingFilterChange=!0,this.eventService.dispatchEvent(s),this.processingFilterChange=!1},t.prototype.isSuppressFlashingCellsBecauseFiltering=function(){var e,r=(e=this.gridOptionsService.get("allowShowChangeAfterFilter"))!==null&&e!==void 0?e:!1;return!r&&this.processingFilterChange},t.prototype.isQuickFilterPresent=function(){return this.quickFilterService.isQuickFilterPresent()},t.prototype.updateAggFiltering=function(){this.aggFiltering=!!this.gridOptionsService.getGroupAggFiltering()},t.prototype.isAggregateQuickFilterPresent=function(){return this.isQuickFilterPresent()&&(this.aggFiltering||this.columnModel.isPivotMode())},t.prototype.isNonAggregateQuickFilterPresent=function(){return this.isQuickFilterPresent()&&!(this.aggFiltering||this.columnModel.isPivotMode())},t.prototype.doesRowPassOtherFilters=function(e,r){return this.doesRowPassFilter({rowNode:r,filterInstanceToSkip:e})},t.prototype.doesRowPassAggregateFilters=function(e){return!(this.isAggregateQuickFilterPresent()&&!this.quickFilterService.doesRowPassQuickFilter(e.rowNode)||this.isAggregateFilterPresent()&&!this.doAggregateFiltersPass(e.rowNode,e.filterInstanceToSkip))},t.prototype.doesRowPassFilter=function(e){return!(this.isNonAggregateQuickFilterPresent()&&!this.quickFilterService.doesRowPassQuickFilter(e.rowNode)||this.isExternalFilterPresent()&&!this.doesExternalFilterPass(e.rowNode)||this.isColumnFilterPresent()&&!this.doColumnFiltersPass(e.rowNode,e.filterInstanceToSkip)||this.isAdvancedFilterPresent()&&!this.advancedFilterService.doesFilterPass(e.rowNode))},t.prototype.onNewRowsLoaded=function(e){this.allColumnFilters.forEach(function(r){r.filterPromise.then(function(i){i.onNewRowsLoaded&&i.onNewRowsLoaded()})}),this.updateFilterFlagInColumns(e,{afterDataChange:!0}),this.updateActiveFilters()},t.prototype.createValueGetter=function(e){var r=this;return function(i){var o=i.node;return r.valueService.getValue(e,o,!0)}},t.prototype.createGetValue=function(e){var r=this;return function(i,o){var a=o?r.columnModel.getGridColumn(o):e;return a?r.valueService.getValue(a,i,!0):void 0}},t.prototype.getFilterComponent=function(e,r,i){var o;if(i===void 0&&(i=!0),i)return((o=this.getOrCreateFilterWrapper(e,r))===null||o===void 0?void 0:o.filterPromise)||null;var a=this.cachedFilter(e);return a?a.filterPromise:null},t.prototype.isFilterActive=function(e){var r=this.cachedFilter(e);return!!r&&r.filterPromise.resolveNow(!1,function(i){return i.isFilterActive()})},t.prototype.getOrCreateFilterWrapper=function(e,r){if(!e.isFilterAllowed())return null;var i=this.cachedFilter(e);return i?r!=="NO_UI"&&this.putIntoGui(i,r):(i=this.createFilterWrapper(e,r),this.setColumnFilterWrapper(e,i)),i},t.prototype.cachedFilter=function(e){return this.allColumnFilters.get(e.getColId())},t.prototype.getDefaultFilter=function(e){var r;if(He.__isRegistered(pe.SetFilterModule,this.context.getGridId()))r="agSetColumnFilter";else{var i=this.dataTypeService.getBaseDataType(e);i==="number"?r="agNumberColumnFilter":i==="date"||i==="dateString"?r="agDateColumnFilter":r="agTextColumnFilter"}return r},t.prototype.getDefaultFloatingFilter=function(e){var r;if(He.__isRegistered(pe.SetFilterModule,this.context.getGridId()))r="agSetColumnFloatingFilter";else{var i=this.dataTypeService.getBaseDataType(e);i==="number"?r="agNumberColumnFloatingFilter":i==="date"||i==="dateString"?r="agDateColumnFloatingFilter":r="agTextColumnFloatingFilter"}return r},t.prototype.createFilterInstance=function(e){var r=this,i=this.getDefaultFilter(e),o=e.getColDef(),a,s=wl(wl({},this.createFilterParams(e,o)),{filterModifiedCallback:function(){return r.filterModifiedCallbackFactory(a,e)()},filterChangedCallback:function(u){return r.filterChangedCallbackFactory(a,e)(u)},doesRowPassOtherFilter:function(u){return r.doesRowPassOtherFilters(a,u)}}),l=this.userComponentFactory.getFilterDetails(o,s,i);return l?{filterPromise:function(){var u=l.newAgStackInstance();return u&&u.then(function(c){return a=c}),u},compDetails:l}:{filterPromise:null,compDetails:null}},t.prototype.createFilterParams=function(e,r){var i=this.gridOptionsService.addGridCommonParams({column:e,colDef:bk(r),rowModel:this.rowModel,filterChangedCallback:function(){},filterModifiedCallback:function(){},valueGetter:this.createValueGetter(e),getValue:this.createGetValue(e),doesRowPassOtherFilter:function(){return!0}});return i},t.prototype.createFilterWrapper=function(e,r){var i,o={column:e,filterPromise:null,compiledElement:null,guiPromise:tt.resolve(null),compDetails:null},a=this.createFilterInstance(e),s=a.filterPromise,l=a.compDetails;return o.filterPromise=(i=s==null?void 0:s())!==null&&i!==void 0?i:null,o.compDetails=l,s&&this.putIntoGui(o,r),o},t.prototype.putIntoGui=function(e,r){var i=this,o=document.createElement("div");o.className="ag-filter",e.guiPromise=new tt(function(a){e.filterPromise.then(function(s){var l=s.getGui();oe(l)||console.warn("AG Grid: getGui method from filter returned ".concat(l,", it should be a DOM element or an HTML template string.")),typeof l=="string"&&(l=fo(l)),o.appendChild(l),a(o);var u={type:T.EVENT_FILTER_OPENED,column:e.column,source:r,eGui:o};i.eventService.dispatchEvent(u)})})},t.prototype.onColumnsChanged=function(){var e=this,r=[];this.allColumnFilters.forEach(function(i,o){var a;i.column.isPrimary()?a=e.columnModel.getPrimaryColumn(o):a=e.columnModel.getGridColumn(o),!a&&(r.push(i.column),e.disposeFilterWrapper(i,"columnChanged"),e.disposeColumnListener(o))}),r.length>0?this.onFilterChanged({columns:r,source:"api"}):this.updateDependantFilters()},t.prototype.updateDependantFilters=function(){var e=this,r=this.columnModel.getGroupAutoColumns();r==null||r.forEach(function(i){i.getColDef().filter==="agGroupColumnFilter"&&e.getOrCreateFilterWrapper(i,"NO_UI")})},t.prototype.isFilterAllowed=function(e){var r,i;if(this.isAdvancedFilterEnabled())return!1;var o=e.isFilterAllowed();if(!o)return!1;var a=this.allColumnFilters.get(e.getColId());return(i=(r=a==null?void 0:a.filterPromise)===null||r===void 0?void 0:r.resolveNow(!0,function(s){return typeof(s==null?void 0:s.isFilterAllowed)=="function"?s==null?void 0:s.isFilterAllowed():!0}))!==null&&i!==void 0?i:!0},t.prototype.getFloatingFilterCompDetails=function(e,r){var i=this,o=function(d){var p=i.getFilterComponent(e,"NO_UI");p!=null&&p.then(function(h){d(Eh(h))})},a=e.getColDef(),s=wl(wl({},this.createFilterParams(e,a)),{filterChangedCallback:function(){return o(function(d){return i.filterChangedCallbackFactory(d,e)()})}}),l=this.userComponentFactory.mergeParamsWithApplicationProvidedParams(a,bF,s),u=this.userComponentFactory.getDefaultFloatingFilterType(a,function(){return i.getDefaultFloatingFilter(e)});u==null&&(u="agReadOnlyFloatingFilter");var c={column:e,filterParams:l,currentParentModel:function(){return i.getCurrentFloatingFilterParentModel(e)},parentFilterInstance:o,showParentFilter:r,suppressFilterButton:!1};return this.userComponentFactory.getFloatingFilterCompDetails(a,c,u)},t.prototype.getCurrentFloatingFilterParentModel=function(e){var r=this.getFilterComponent(e,"NO_UI",!1);return r?r.resolveNow(null,function(i){return i&&i.getModel()}):null},t.prototype.destroyFilter=function(e,r){r===void 0&&(r="api");var i=e.getColId(),o=this.allColumnFilters.get(i);this.disposeColumnListener(i),delete this.initialFilterModel[i],o&&(this.disposeFilterWrapper(o,r),this.onFilterChanged({columns:[e],source:"api"}))},t.prototype.disposeColumnListener=function(e){var r=this.allColumnListeners.get(e);r&&(this.allColumnListeners.delete(e),r())},t.prototype.disposeFilterWrapper=function(e,r){var i=this;e.filterPromise.then(function(o){i.getContext().destroyBean(o),e.column.setFilterActive(!1,"filterDestroyed"),i.allColumnFilters.delete(e.column.getColId());var a={type:T.EVENT_FILTER_DESTROYED,source:r,column:e.column};i.eventService.dispatchEvent(a)})},t.prototype.filterModifiedCallbackFactory=function(e,r){var i=this;return function(){var o={type:T.EVENT_FILTER_MODIFIED,column:r,filterInstance:e};i.eventService.dispatchEvent(o)}},t.prototype.filterChangedCallbackFactory=function(e,r){var i=this;return function(o){var a,s=(a=o==null?void 0:o.source)!==null&&a!==void 0?a:"api",l={filter:e,additionalEventAttributes:o,columns:[r],source:s};i.callOnFilterChangedOutsideRenderCycle(l)}},t.prototype.checkDestroyFilter=function(e){var r=this,i=this.allColumnFilters.get(e);if(i){var o=i.column,a=(o.isFilterAllowed()?this.createFilterInstance(o):{compDetails:null}).compDetails;if(this.areFilterCompsDifferent(i.compDetails,a)){this.destroyFilter(o,"paramsUpdated");return}var s=o.getColDef().filterParams;if(!i.filterPromise){this.destroyFilter(o,"paramsUpdated");return}i.filterPromise.then(function(l){var u=l!=null&&l.refresh?l.refresh(wl(wl(wl({},r.createFilterParams(o,o.getColDef())),{filterModifiedCallback:r.filterModifiedCallbackFactory(l,o),filterChangedCallback:r.filterChangedCallbackFactory(l,o),doesRowPassOtherFilter:function(c){return r.doesRowPassOtherFilters(l,c)}}),s)):!0;u===!1&&r.destroyFilter(o,"paramsUpdated")})}},t.prototype.setColumnFilterWrapper=function(e,r){var i=this,o=e.getColId();this.allColumnFilters.set(o,r),this.allColumnListeners.set(o,this.addManagedListener(e,rt.EVENT_COL_DEF_CHANGED,function(){return i.checkDestroyFilter(o)}))},t.prototype.areFilterCompsDifferent=function(e,r){if(!r||!e)return!0;var i=e.componentClass,o=r.componentClass,a=i===o||(i==null?void 0:i.render)&&(o==null?void 0:o.render)&&i.render===o.render;return!a},t.prototype.getAdvancedFilterModel=function(){return this.isAdvancedFilterEnabled()?this.advancedFilterService.getModel():null},t.prototype.setAdvancedFilterModel=function(e){if(this.isAdvancedFilterEnabled()){if(this.dataTypeService.isPendingInference()){this.advancedFilterModelUpdateQueue.push(e);return}this.advancedFilterService.setModel(e??null),this.onFilterChanged({source:"advancedFilter"})}},t.prototype.showAdvancedFilterBuilder=function(e){this.isAdvancedFilterEnabled()&&this.advancedFilterService.getCtrl().toggleFilterBuilder(e,!0)},t.prototype.updateAdvancedFilterColumns=function(){this.isAdvancedFilterEnabled()&&this.advancedFilterService.updateValidity()&&this.onFilterChanged({source:"advancedFilter"})},t.prototype.hasFloatingFilters=function(){if(this.isAdvancedFilterEnabled())return!1;var e=this.columnModel.getAllGridColumns();return e.some(function(r){return r.getColDef().floatingFilter})},t.prototype.getFilterInstance=function(e,r){if(this.isAdvancedFilterEnabled()){this.warnAdvancedFilters();return}var i=this.getFilterInstanceImpl(e,function(a){if(r){var s=Eh(a);r(s)}}),o=Eh(i);return o},t.prototype.getColumnFilterInstance=function(e){var r=this;return new Promise(function(i){r.getFilterInstance(e,function(o){i(o)})})},t.prototype.getFilterInstanceImpl=function(e,r){var i=this.columnModel.getPrimaryColumn(e);if(i){var o=this.getFilterComponent(i,"NO_UI"),a=o&&o.resolveNow(null,function(s){return s});return a?setTimeout(r,0,a):o&&o.then(function(s){r(s)}),a}},t.prototype.warnAdvancedFilters=function(){Ge("Column Filter API methods have been disabled as Advanced Filters are enabled.")},t.prototype.setupAdvancedFilterHeaderComp=function(e){var r;(r=this.advancedFilterService)===null||r===void 0||r.getCtrl().setupHeaderComp(e)},t.prototype.getHeaderRowCount=function(){return this.isAdvancedFilterHeaderActive()?1:0},t.prototype.getHeaderHeight=function(){return this.isAdvancedFilterHeaderActive()?this.advancedFilterService.getCtrl().getHeaderHeight():0},t.prototype.processFilterModelUpdateQueue=function(){var e=this;this.filterModelUpdateQueue.forEach(function(r){var i=r.model,o=r.source;return e.setFilterModel(i,o)}),this.filterModelUpdateQueue=[],this.columnFilterModelUpdateQueue.forEach(function(r){var i=r.key,o=r.model,a=r.resolve;e.setColumnFilterModel(i,o).then(function(){return a()})}),this.columnFilterModelUpdateQueue=[],this.advancedFilterModelUpdateQueue.forEach(function(r){return e.setAdvancedFilterModel(r)}),this.advancedFilterModelUpdateQueue=[]},t.prototype.getColumnFilterModel=function(e){var r=this.getFilterWrapper(e);return r?this.getModelFromFilterWrapper(r):null},t.prototype.setColumnFilterModel=function(e,r){if(this.isAdvancedFilterEnabled())return this.warnAdvancedFilters(),Promise.resolve();if(this.dataTypeService.isPendingInference()){var i=function(){},o=new Promise(function(u){i=u});return this.columnFilterModelUpdateQueue.push({key:e,model:r,resolve:i}),o}var a=this.columnModel.getPrimaryColumn(e),s=a?this.getOrCreateFilterWrapper(a,"NO_UI"):null,l=function(u){return new Promise(function(c){u.then(function(d){return c(d)})})};return s?l(this.setModelOnFilterWrapper(s.filterPromise,r)):Promise.resolve()},t.prototype.getFilterWrapper=function(e){var r,i=this.columnModel.getPrimaryColumn(e);return i&&(r=this.cachedFilter(i))!==null&&r!==void 0?r:null},t.prototype.destroy=function(){var e=this;n.prototype.destroy.call(this),this.allColumnFilters.forEach(function(r){return e.disposeFilterWrapper(r,"gridDestroyed")}),this.allColumnListeners.clear()},il([E("valueService")],t.prototype,"valueService",void 0),il([E("columnModel")],t.prototype,"columnModel",void 0),il([E("rowModel")],t.prototype,"rowModel",void 0),il([E("userComponentFactory")],t.prototype,"userComponentFactory",void 0),il([E("rowRenderer")],t.prototype,"rowRenderer",void 0),il([E("dataTypeService")],t.prototype,"dataTypeService",void 0),il([E("quickFilterService")],t.prototype,"quickFilterService",void 0),il([et("advancedFilterService")],t.prototype,"advancedFilterService",void 0),il([z],t.prototype,"init",null),t=il([ie("filterManager")],t),t}(X),NEe=function(){var n=function(t,e){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])},n(t,e)};return function(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");n(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}}(),vG=function(n){NEe(t,n);function t(e,r){var i=n.call(this,e)||this;return i.ctrl=r,i}return t.prototype.getCtrl=function(){return this.ctrl},t}(ae),kEe=function(){var n=function(t,e){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])},n(t,e)};return function(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");n(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}}(),Hy=function(n,t,e,r){var i=arguments.length,o=i<3?t:r===null?r=Object.getOwnPropertyDescriptor(t,e):r,a;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(n,t,e,r);else for(var s=n.length-1;s>=0;s--)(a=n[s])&&(o=(i<3?a(o):i>3?a(t,e,o):a(t,e))||o);return i>3&&o&&Object.defineProperty(t,e,o),o},JY=function(n){kEe(t,n);function t(e){return n.call(this,t.TEMPLATE,e)||this}return t.prototype.postConstruct=function(){var e=this,r=this.getGui(),i={addOrRemoveCssClass:function(o,a){return e.addOrRemoveCssClass(o,a)},addOrRemoveBodyCssClass:function(o,a){return e.eFloatingFilterBody.classList.toggle(o,a)},setButtonWrapperDisplayed:function(o){return Ct(e.eButtonWrapper,o)},setCompDetails:function(o){return e.setCompDetails(o)},getFloatingFilterComp:function(){return e.compPromise},setWidth:function(o){return r.style.width=o},setMenuIcon:function(o){return e.eButtonShowMainFilter.appendChild(o)}};this.ctrl.setComp(i,r,this.eButtonShowMainFilter,this.eFloatingFilterBody)},t.prototype.setCompDetails=function(e){var r=this;if(!e){this.destroyFloatingFilterComp(),this.compPromise=null;return}this.compPromise=e.newAgStackInstance(),this.compPromise.then(function(i){return r.afterCompCreated(i)})},t.prototype.destroyFloatingFilterComp=function(){this.floatingFilterComp&&(this.eFloatingFilterBody.removeChild(this.floatingFilterComp.getGui()),this.floatingFilterComp=this.destroyBean(this.floatingFilterComp))},t.prototype.afterCompCreated=function(e){if(e){if(!this.isAlive()){this.destroyBean(e);return}this.destroyFloatingFilterComp(),this.floatingFilterComp=e,this.eFloatingFilterBody.appendChild(e.getGui()),e.afterGuiAttached&&e.afterGuiAttached()}},t.TEMPLATE=`<div class="ag-header-cell ag-floating-filter" role="gridcell">
            <div ref="eFloatingFilterBody" role="presentation"></div>
            <div class="ag-floating-filter-button ag-hidden" ref="eButtonWrapper" role="presentation">
                <button type="button" class="ag-button ag-floating-filter-button-button" ref="eButtonShowMainFilter" tabindex="-1"></button>
            </div>
        </div>`,Hy([j("eFloatingFilterBody")],t.prototype,"eFloatingFilterBody",void 0),Hy([j("eButtonWrapper")],t.prototype,"eButtonWrapper",void 0),Hy([j("eButtonShowMainFilter")],t.prototype,"eButtonShowMainFilter",void 0),Hy([z],t.prototype,"postConstruct",null),Hy([ar],t.prototype,"destroyFloatingFilterComp",null),t}(vG),GEe=function(){var n=function(t,e){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])},n(t,e)};return function(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");n(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}}(),VEe=function(n,t,e,r){var i=arguments.length,o=i<3?t:r===null?r=Object.getOwnPropertyDescriptor(t,e):r,a;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(n,t,e,r);else for(var s=n.length-1;s>=0;s--)(a=n[s])&&(o=(i<3?a(o):i>3?a(t,e,o):a(t,e))||o);return i>3&&o&&Object.defineProperty(t,e,o),o},Xr;(function(n){n.AUTO_HEIGHT="ag-layout-auto-height",n.NORMAL="ag-layout-normal",n.PRINT="ag-layout-print"})(Xr||(Xr={}));var gG=function(n){GEe(t,n);function t(e){var r=n.call(this)||this;return r.view=e,r}return t.prototype.postConstruct=function(){this.addManagedPropertyListener("domLayout",this.updateLayoutClasses.bind(this)),this.updateLayoutClasses()},t.prototype.updateLayoutClasses=function(){var e=this.getDomLayout(),r={autoHeight:e==="autoHeight",normal:e==="normal",print:e==="print"},i=r.autoHeight?Xr.AUTO_HEIGHT:r.print?Xr.PRINT:Xr.NORMAL;this.view.updateLayoutClasses(i,r)},t.prototype.getDomLayout=function(){var e,r=(e=this.gridOptionsService.get("domLayout"))!==null&&e!==void 0?e:"normal",i=["normal","print","autoHeight"];return i.indexOf(r)===-1?(Ge("".concat(r," is not valid for DOM Layout, valid values are 'normal', 'autoHeight', 'print'.")),"normal"):r},VEe([z],t.prototype,"postConstruct",null),t}(X),BEe=function(){var n=function(t,e){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])},n(t,e)};return function(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");n(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}}(),kb=function(){return kb=Object.assign||function(n){for(var t,e=1,r=arguments.length;e<r;e++){t=arguments[e];for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(n[i]=t[i])}return n},kb.apply(this,arguments)},Ic=function(n,t,e,r){var i=arguments.length,o=i<3?t:r===null?r=Object.getOwnPropertyDescriptor(t,e):r,a;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(n,t,e,r);else for(var s=n.length-1;s>=0;s--)(a=n[s])&&(o=(i<3?a(o):i>3?a(t,e,o):a(t,e))||o);return i>3&&o&&Object.defineProperty(t,e,o),o},pi;(function(n){n[n.Vertical=0]="Vertical",n[n.Horizontal=1]="Horizontal"})(pi||(pi={}));var Oi;(function(n){n[n.Container=0]="Container",n[n.FakeContainer=1]="FakeContainer"})(Oi||(Oi={}));var HEe=function(n){BEe(t,n);function t(e){var r=n.call(this)||this;return r.lastScrollSource=[null,null],r.scrollLeft=-1,r.nextScrollTop=-1,r.scrollTop=-1,r.lastOffsetHeight=-1,r.lastScrollTop=-1,r.eBodyViewport=e,r.resetLastHScrollDebounced=ia(function(){return r.lastScrollSource[pi.Horizontal]=null},500),r.resetLastVScrollDebounced=ia(function(){return r.lastScrollSource[pi.Vertical]=null},500),r}return t.prototype.postConstruct=function(){var e=this;this.enableRtl=this.gridOptionsService.get("enableRtl"),this.addManagedListener(this.eventService,T.EVENT_DISPLAYED_COLUMNS_WIDTH_CHANGED,this.onDisplayedColumnsWidthChanged.bind(this)),this.ctrlsService.whenReady(function(r){e.centerRowContainerCtrl=r.centerRowContainerCtrl,e.onDisplayedColumnsWidthChanged(),e.addScrollListener()})},t.prototype.addScrollListener=function(){var e=this.ctrlsService.getFakeHScrollComp(),r=this.ctrlsService.getFakeVScrollComp();this.addManagedListener(this.centerRowContainerCtrl.getViewportElement(),"scroll",this.onHScroll.bind(this)),e.onScrollCallback(this.onFakeHScroll.bind(this));var i=this.gridOptionsService.get("debounceVerticalScrollbar"),o=i?ia(this.onVScroll.bind(this),100):this.onVScroll.bind(this),a=i?ia(this.onFakeVScroll.bind(this),100):this.onFakeVScroll.bind(this);this.addManagedListener(this.eBodyViewport,"scroll",o),r.onScrollCallback(a)},t.prototype.onDisplayedColumnsWidthChanged=function(){this.enableRtl&&this.horizontallyScrollHeaderCenterAndFloatingCenter()},t.prototype.horizontallyScrollHeaderCenterAndFloatingCenter=function(e){var r=this.centerRowContainerCtrl==null;if(!r){e===void 0&&(e=this.centerRowContainerCtrl.getCenterViewportScrollLeft());var i=this.enableRtl?e:-e,o=this.ctrlsService.getTopCenterRowContainerCtrl(),a=this.ctrlsService.getStickyTopCenterRowContainerCtrl(),s=this.ctrlsService.getBottomCenterRowContainerCtrl(),l=this.ctrlsService.getFakeHScrollComp(),u=this.ctrlsService.getHeaderRowContainerCtrl();u.setHorizontalScroll(-i),s.setContainerTranslateX(i),o.setContainerTranslateX(i),a.setContainerTranslateX(i);var c=this.centerRowContainerCtrl.getViewportElement(),d=this.lastScrollSource[pi.Horizontal]===Oi.Container;e=Math.abs(e),d?l.setScrollPosition(e):VS(c,e,this.enableRtl)}},t.prototype.isControllingScroll=function(e,r){return this.lastScrollSource[r]==null?(this.lastScrollSource[r]=e,!0):this.lastScrollSource[r]===e},t.prototype.onFakeHScroll=function(){this.isControllingScroll(Oi.FakeContainer,pi.Horizontal)&&this.onHScrollCommon(Oi.FakeContainer)},t.prototype.onHScroll=function(){this.isControllingScroll(Oi.Container,pi.Horizontal)&&this.onHScrollCommon(Oi.Container)},t.prototype.onHScrollCommon=function(e){var r=this.centerRowContainerCtrl.getViewportElement(),i=r.scrollLeft;if(!this.shouldBlockScrollUpdate(pi.Horizontal,i,!0)){var o;e===Oi.Container?o=GS(r,this.enableRtl):o=this.ctrlsService.getFakeHScrollComp().getScrollPosition(),this.doHorizontalScroll(Math.round(o)),this.resetLastHScrollDebounced()}},t.prototype.onFakeVScroll=function(){this.isControllingScroll(Oi.FakeContainer,pi.Vertical)&&this.onVScrollCommon(Oi.FakeContainer)},t.prototype.onVScroll=function(){this.isControllingScroll(Oi.Container,pi.Vertical)&&this.onVScrollCommon(Oi.Container)},t.prototype.onVScrollCommon=function(e){var r;e===Oi.Container?r=this.eBodyViewport.scrollTop:r=this.ctrlsService.getFakeVScrollComp().getScrollPosition(),!this.shouldBlockScrollUpdate(pi.Vertical,r,!0)&&(this.animationFrameService.setScrollTop(r),this.nextScrollTop=r,e===Oi.Container?this.ctrlsService.getFakeVScrollComp().setScrollPosition(r):this.eBodyViewport.scrollTop=r,this.gridOptionsService.get("suppressAnimationFrame")?this.scrollGridIfNeeded():this.animationFrameService.schedule(),this.resetLastVScrollDebounced())},t.prototype.doHorizontalScroll=function(e){var r=this.ctrlsService.getFakeHScrollComp().getScrollPosition();this.scrollLeft===e&&e===r||(this.scrollLeft=e,this.fireScrollEvent(pi.Horizontal),this.horizontallyScrollHeaderCenterAndFloatingCenter(e),this.centerRowContainerCtrl.onHorizontalViewportChanged(!0))},t.prototype.fireScrollEvent=function(e){var r=this,i={type:T.EVENT_BODY_SCROLL,direction:e===pi.Horizontal?"horizontal":"vertical",left:this.scrollLeft,top:this.scrollTop};this.eventService.dispatchEvent(i),window.clearTimeout(this.scrollTimer),this.scrollTimer=void 0,this.scrollTimer=window.setTimeout(function(){var o=kb(kb({},i),{type:T.EVENT_BODY_SCROLL_END});r.eventService.dispatchEvent(o)},100)},t.prototype.shouldBlockScrollUpdate=function(e,r,i){return i===void 0&&(i=!1),i&&!yc()?!1:e===pi.Vertical?this.shouldBlockVerticalScroll(r):this.shouldBlockHorizontalScroll(r)},t.prototype.shouldBlockVerticalScroll=function(e){var r=Nw(this.eBodyViewport),i=this.eBodyViewport.scrollHeight;return e<0||e+r>i},t.prototype.shouldBlockHorizontalScroll=function(e){var r=this.centerRowContainerCtrl.getCenterWidth(),i=this.centerRowContainerCtrl.getViewportElement().scrollWidth;if(this.enableRtl&&kS()){if(e>0)return!0}else if(e<0)return!0;return Math.abs(e)+r>i},t.prototype.redrawRowsAfterScroll=function(){this.fireScrollEvent(pi.Vertical)},t.prototype.checkScrollLeft=function(){this.scrollLeft!==this.centerRowContainerCtrl.getCenterViewportScrollLeft()&&this.onHScrollCommon(Oi.Container)},t.prototype.scrollGridIfNeeded=function(){var e=this.scrollTop!=this.nextScrollTop;return e&&(this.scrollTop=this.nextScrollTop,this.redrawRowsAfterScroll()),e},t.prototype.setHorizontalScrollPosition=function(e,r){r===void 0&&(r=!1);var i=0,o=this.centerRowContainerCtrl.getViewportElement().scrollWidth-this.centerRowContainerCtrl.getCenterWidth();!r&&this.shouldBlockScrollUpdate(pi.Horizontal,e)&&(this.enableRtl&&kS()?e=e>0?0:o:e=Math.min(Math.max(e,i),o)),VS(this.centerRowContainerCtrl.getViewportElement(),Math.abs(e),this.enableRtl),this.doHorizontalScroll(e)},t.prototype.setVerticalScrollPosition=function(e){this.eBodyViewport.scrollTop=e},t.prototype.getVScrollPosition=function(){this.lastScrollTop=this.eBodyViewport.scrollTop,this.lastOffsetHeight=this.eBodyViewport.offsetHeight;var e={top:this.lastScrollTop,bottom:this.lastScrollTop+this.lastOffsetHeight};return e},t.prototype.getApproximateVScollPosition=function(){return this.lastScrollTop>=0&&this.lastOffsetHeight>=0?{top:this.scrollTop,bottom:this.scrollTop+this.lastOffsetHeight}:this.getVScrollPosition()},t.prototype.getHScrollPosition=function(){return this.centerRowContainerCtrl.getHScrollPosition()},t.prototype.isHorizontalScrollShowing=function(){return this.centerRowContainerCtrl.isHorizontalScrollShowing()},t.prototype.scrollHorizontally=function(e){var r=this.centerRowContainerCtrl.getViewportElement().scrollLeft;return this.setHorizontalScrollPosition(r+e),this.centerRowContainerCtrl.getViewportElement().scrollLeft-r},t.prototype.scrollToTop=function(){this.eBodyViewport.scrollTop=0},t.prototype.ensureNodeVisible=function(e,r){r===void 0&&(r=null);for(var i=this.rowModel.getRowCount(),o=-1,a=0;a<i;a++){var s=this.rowModel.getRow(a);if(typeof e=="function"){var l=e;if(s&&l(s)){o=a;break}}else if(e===s||e===s.data){o=a;break}}o>=0&&this.ensureIndexVisible(o,r)},t.prototype.ensureIndexVisible=function(e,r){var i=this;if(!this.gridOptionsService.isDomLayout("print")){var o=this.paginationProxy.getRowCount();if(typeof e!="number"||e<0||e>=o){console.warn("AG Grid: Invalid row index for ensureIndexVisible: "+e);return}var a=this.gridOptionsService.get("pagination"),s=a&&!this.gridOptionsService.get("suppressPaginationPanel");this.getFrameworkOverrides().wrapIncoming(function(){s||i.paginationProxy.goToPageWithIndex(e);var l=i.ctrlsService.getGridBodyCtrl(),u=l.getStickyTopHeight(),c=i.paginationProxy.getRow(e),d;do{var p=c.rowTop,h=c.rowHeight,f=i.paginationProxy.getPixelOffset(),v=c.rowTop-f,g=v+c.rowHeight,y=i.getVScrollPosition(),m=i.heightScaler.getDivStretchOffset(),C=y.top+m,S=y.bottom+m,w=S-C,_=i.heightScaler.getScrollPositionForPixel(v),x=i.heightScaler.getScrollPositionForPixel(g-w),b=Math.min((_+x)/2,v),O=C+u>v,P=S<g,D=null;r==="top"?D=_:r==="bottom"?D=x:r==="middle"?D=b:O?D=_-u:P&&(D=x),D!==null&&(i.setVerticalScrollPosition(D),i.rowRenderer.redraw({afterScroll:!0})),d=p!==c.rowTop||h!==c.rowHeight}while(d);i.animationFrameService.flushAllFrames()})}},t.prototype.ensureColumnVisible=function(e,r){var i=this;r===void 0&&(r="auto");var o=this.columnModel.getGridColumn(e);if(o&&!o.isPinned()&&this.columnModel.isColumnDisplayed(o)){var a=this.getPositionedHorizontalScroll(o,r);this.getFrameworkOverrides().wrapIncoming(function(){a!==null&&i.centerRowContainerCtrl.setCenterViewportScrollLeft(a),i.centerRowContainerCtrl.onHorizontalViewportChanged(),i.animationFrameService.flushAllFrames()})}},t.prototype.setScrollPosition=function(e,r){var i=this;this.getFrameworkOverrides().wrapIncoming(function(){i.centerRowContainerCtrl.setCenterViewportScrollLeft(r),i.setVerticalScrollPosition(e),i.rowRenderer.redraw({afterScroll:!0}),i.animationFrameService.flushAllFrames()})},t.prototype.getPositionedHorizontalScroll=function(e,r){var i=this.isColumnOutsideViewport(e),o=i.columnBeforeStart,a=i.columnAfterEnd,s=this.centerRowContainerCtrl.getCenterWidth()<e.getActualWidth(),l=this.centerRowContainerCtrl.getCenterWidth(),u=this.enableRtl,c=(u?o:a)||s,d=u?a:o;r!=="auto"&&(c=r==="start",d=r==="end");var p=r==="middle";if(c||d||p){var h=this.getColumnBounds(e),f=h.colLeft,v=h.colMiddle,g=h.colRight;return p?v-l/2:c?u?g:f:u?f-l:g-l}return null},t.prototype.isColumnOutsideViewport=function(e){var r=this.getViewportBounds(),i=r.start,o=r.end,a=this.getColumnBounds(e),s=a.colLeft,l=a.colRight,u=this.enableRtl,c=u?i>l:o<l,d=u?o<s:i>s;return{columnBeforeStart:c,columnAfterEnd:d}},t.prototype.getColumnBounds=function(e){var r=this.enableRtl,i=this.columnModel.getBodyContainerWidth(),o=e.getActualWidth(),a=e.getLeft(),s=r?-1:1,l=r?i-a:a,u=l+o*s,c=l+o/2*s;return{colLeft:l,colMiddle:c,colRight:u}},t.prototype.getViewportBounds=function(){var e=this.centerRowContainerCtrl.getCenterWidth(),r=this.centerRowContainerCtrl.getCenterViewportScrollLeft(),i=r,o=e+r;return{start:i,end:o,width:e}},Ic([E("ctrlsService")],t.prototype,"ctrlsService",void 0),Ic([E("animationFrameService")],t.prototype,"animationFrameService",void 0),Ic([E("paginationProxy")],t.prototype,"paginationProxy",void 0),Ic([E("rowModel")],t.prototype,"rowModel",void 0),Ic([E("rowContainerHeightService")],t.prototype,"heightScaler",void 0),Ic([E("rowRenderer")],t.prototype,"rowRenderer",void 0),Ic([E("columnModel")],t.prototype,"columnModel",void 0),Ic([z],t.prototype,"postConstruct",null),t}(X),jEe=function(){var n=function(t,e){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])},n(t,e)};return function(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");n(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}}(),OF=function(){return OF=Object.assign||function(n){for(var t,e=1,r=arguments.length;e<r;e++){t=arguments[e];for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(n[i]=t[i])}return n},OF.apply(this,arguments)},_a=function(n,t,e,r){var i=arguments.length,o=i<3?t:r===null?r=Object.getOwnPropertyDescriptor(t,e):r,a;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(n,t,e,r);else for(var s=n.length-1;s>=0;s--)(a=n[s])&&(o=(i<3?a(o):i>3?a(t,e,o):a(t,e))||o);return i>3&&o&&Object.defineProperty(t,e,o),o},$Ee=function(n,t){var e=typeof Symbol=="function"&&n[Symbol.iterator];if(!e)return n;var r=e.call(n),i,o=[],a;try{for(;(t===void 0||t-- >0)&&!(i=r.next()).done;)o.push(i.value)}catch(s){a={error:s}}finally{try{i&&!i.done&&(e=r.return)&&e.call(r)}finally{if(a)throw a.error}}return o},WEe=function(n,t,e){if(e||arguments.length===2)for(var r=0,i=t.length,o;r<i;r++)(o||!(r in t))&&(o||(o=Array.prototype.slice.call(t,0,r)),o[r]=t[r]);return n.concat(o||Array.prototype.slice.call(t))},UEe=function(n){jEe(t,n);function t(e){var r=n.call(this)||this;return r.isMultiRowDrag=!1,r.eContainer=e,r}return t.prototype.postConstruct=function(){var e=this;this.gridOptionsService.isRowModelType("clientSide")&&(this.clientSideRowModel=this.rowModel),this.ctrlsService.whenReady(function(){var r=e.ctrlsService.getGridBodyCtrl();e.autoScrollService=new Hw({scrollContainer:r.getBodyViewportElement(),scrollAxis:"y",getVerticalPosition:function(){return r.getScrollFeature().getVScrollPosition().top},setVerticalPosition:function(i){return r.getScrollFeature().setVerticalScrollPosition(i)},onScrollCallback:function(){e.onDragging(e.lastDraggingEvent)}})})},t.prototype.getContainer=function(){return this.eContainer},t.prototype.isInterestedIn=function(e){return e===Or.RowDrag},t.prototype.getIconName=function(){var e=this.gridOptionsService.get("rowDragManaged");return e&&this.shouldPreventRowMove()?St.ICON_NOT_ALLOWED:St.ICON_MOVE},t.prototype.shouldPreventRowMove=function(){var e=this.columnModel.getRowGroupColumns();if(e.length)return!0;var r=this.filterManager.isAnyFilterPresent();if(r)return!0;var i=this.sortController.isSortActive();return!!i},t.prototype.getRowNodes=function(e){var r=this;if(!this.isFromThisGrid(e))return e.dragItem.rowNodes||[];var i=this.gridOptionsService.get("rowDragMultiRow"),o=WEe([],$Ee(this.selectionService.getSelectedNodes()),!1).sort(function(s,l){return s.rowIndex==null||l.rowIndex==null?0:r.getRowIndexNumber(s)-r.getRowIndexNumber(l)}),a=e.dragItem.rowNode;return i&&o.indexOf(a)!==-1?(this.isMultiRowDrag=!0,o):(this.isMultiRowDrag=!1,[a])},t.prototype.onDragEnter=function(e){e.dragItem.rowNodes=this.getRowNodes(e),this.dispatchGridEvent(T.EVENT_ROW_DRAG_ENTER,e),this.getRowNodes(e).forEach(function(r){r.setDragging(!0)}),this.onEnterOrDragging(e)},t.prototype.onDragging=function(e){this.onEnterOrDragging(e)},t.prototype.isFromThisGrid=function(e){var r=e.dragSource.dragSourceDomDataKey;return r===this.gridOptionsService.getDomDataKey()},t.prototype.isDropZoneWithinThisGrid=function(e){var r=this.ctrlsService.getGridBodyCtrl(),i=r.getGui(),o=e.dropZoneTarget;return!i.contains(o)},t.prototype.onEnterOrDragging=function(e){this.dispatchGridEvent(T.EVENT_ROW_DRAG_MOVE,e),this.lastDraggingEvent=e;var r=this.mouseEventService.getNormalisedPosition(e).y,i=this.gridOptionsService.get("rowDragManaged");i&&this.doManagedDrag(e,r),this.autoScrollService.check(e.event)},t.prototype.doManagedDrag=function(e,r){var i=this.isFromThisGrid(e),o=this.gridOptionsService.get("rowDragManaged"),a=e.dragItem.rowNodes;o&&this.shouldPreventRowMove()||(this.gridOptionsService.get("suppressMoveWhenRowDragging")||!i?this.isDropZoneWithinThisGrid(e)||this.clientSideRowModel.highlightRowAtPixel(a[0],r):this.moveRows(a,r))},t.prototype.getRowIndexNumber=function(e){return parseInt(xt(e.getRowIndexString().split("-")),10)},t.prototype.moveRowAndClearHighlight=function(e){var r=this,i=this.clientSideRowModel.getLastHighlightedRowNode(),o=i&&i.highlighted===Xl.Below,a=this.mouseEventService.getNormalisedPosition(e).y,s=e.dragItem.rowNodes,l=o?1:0;if(this.isFromThisGrid(e))s.forEach(function(d){d.rowTop<a&&(l-=1)}),this.moveRows(s,a,l);else{var u=this.gridOptionsService.getCallback("getRowId"),c=this.clientSideRowModel.getRowIndexAtPixel(a)+1;this.clientSideRowModel.getHighlightPosition(a)===Xl.Above&&c--,this.clientSideRowModel.updateRowData({add:s.map(function(d){return d.data}).filter(function(d){return!r.clientSideRowModel.getRowNode(u?u({data:d,level:0}):d.id)}),addIndex:c})}this.clearRowHighlight()},t.prototype.clearRowHighlight=function(){this.clientSideRowModel.highlightRowAtPixel(null)},t.prototype.moveRows=function(e,r,i){i===void 0&&(i=0);var o=this.clientSideRowModel.ensureRowsAtPixel(e,r,i);o&&(this.focusService.clearFocusedCell(),this.rangeService&&this.rangeService.removeAllCellRanges())},t.prototype.addRowDropZone=function(e){var r=this;if(!e.getContainer()){Ge("addRowDropZone - A container target needs to be provided");return}if(this.dragAndDropService.findExternalZone(e)){console.warn("AG Grid: addRowDropZone - target already exists in the list of DropZones. Use `removeRowDropZone` before adding it again.");return}var i={getContainer:e.getContainer};e.fromGrid?(e.fromGrid=void 0,i=e):(e.onDragEnter&&(i.onDragEnter=function(o){e.onDragEnter(r.draggingToRowDragEvent(T.EVENT_ROW_DRAG_ENTER,o))}),e.onDragLeave&&(i.onDragLeave=function(o){e.onDragLeave(r.draggingToRowDragEvent(T.EVENT_ROW_DRAG_LEAVE,o))}),e.onDragging&&(i.onDragging=function(o){e.onDragging(r.draggingToRowDragEvent(T.EVENT_ROW_DRAG_MOVE,o))}),e.onDragStop&&(i.onDragStop=function(o){e.onDragStop(r.draggingToRowDragEvent(T.EVENT_ROW_DRAG_END,o))})),this.dragAndDropService.addDropTarget(OF({isInterestedIn:function(o){return o===Or.RowDrag},getIconName:function(){return St.ICON_MOVE},external:!0},i))},t.prototype.getRowDropZone=function(e){var r=this,i=this.getContainer.bind(this),o=this.onDragEnter.bind(this),a=this.onDragLeave.bind(this),s=this.onDragging.bind(this),l=this.onDragStop.bind(this);return e?{getContainer:i,onDragEnter:e.onDragEnter?function(u){o(u),e.onDragEnter(r.draggingToRowDragEvent(T.EVENT_ROW_DRAG_ENTER,u))}:o,onDragLeave:e.onDragLeave?function(u){a(u),e.onDragLeave(r.draggingToRowDragEvent(T.EVENT_ROW_DRAG_LEAVE,u))}:a,onDragging:e.onDragging?function(u){s(u),e.onDragging(r.draggingToRowDragEvent(T.EVENT_ROW_DRAG_MOVE,u))}:s,onDragStop:e.onDragStop?function(u){l(u),e.onDragStop(r.draggingToRowDragEvent(T.EVENT_ROW_DRAG_END,u))}:l,fromGrid:!0}:{getContainer:i,onDragEnter:o,onDragLeave:a,onDragging:s,onDragStop:l,fromGrid:!0}},t.prototype.draggingToRowDragEvent=function(e,r){var i=this.mouseEventService.getNormalisedPosition(r).y,o=i>this.paginationProxy.getCurrentPageHeight(),a=-1,s;o||(a=this.rowModel.getRowIndexAtPixel(i),s=this.rowModel.getRow(a));var l;switch(r.vDirection){case Jh.Down:l="down";break;case Jh.Up:l="up";break;default:l=null;break}var u=this.gridOptionsService.addGridCommonParams({type:e,event:r.event,node:r.dragItem.rowNode,nodes:r.dragItem.rowNodes,overIndex:a,overNode:s,y:i,vDirection:l});return u},t.prototype.dispatchGridEvent=function(e,r){var i=this.draggingToRowDragEvent(e,r);this.eventService.dispatchEvent(i)},t.prototype.onDragLeave=function(e){this.dispatchGridEvent(T.EVENT_ROW_DRAG_LEAVE,e),this.stopDragging(e),this.gridOptionsService.get("rowDragManaged")&&this.clearRowHighlight(),this.isFromThisGrid(e)&&(this.isMultiRowDrag=!1)},t.prototype.onDragStop=function(e){this.dispatchGridEvent(T.EVENT_ROW_DRAG_END,e),this.stopDragging(e),this.gridOptionsService.get("rowDragManaged")&&(this.gridOptionsService.get("suppressMoveWhenRowDragging")||!this.isFromThisGrid(e))&&!this.isDropZoneWithinThisGrid(e)&&this.moveRowAndClearHighlight(e)},t.prototype.stopDragging=function(e){this.autoScrollService.ensureCleared(),this.getRowNodes(e).forEach(function(r){r.setDragging(!1)})},_a([E("dragAndDropService")],t.prototype,"dragAndDropService",void 0),_a([E("rowModel")],t.prototype,"rowModel",void 0),_a([E("paginationProxy")],t.prototype,"paginationProxy",void 0),_a([E("columnModel")],t.prototype,"columnModel",void 0),_a([E("focusService")],t.prototype,"focusService",void 0),_a([E("sortController")],t.prototype,"sortController",void 0),_a([E("filterManager")],t.prototype,"filterManager",void 0),_a([E("selectionService")],t.prototype,"selectionService",void 0),_a([E("mouseEventService")],t.prototype,"mouseEventService",void 0),_a([E("ctrlsService")],t.prototype,"ctrlsService",void 0),_a([et("rangeService")],t.prototype,"rangeService",void 0),_a([z],t.prototype,"postConstruct",null),t}(X),zEe=function(){var n=function(t,e){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])},n(t,e)};return function(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");n(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}}(),zi=function(n,t,e,r){var i=arguments.length,o=i<3?t:r===null?r=Object.getOwnPropertyDescriptor(t,e):r,a;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(n,t,e,r);else for(var s=n.length-1;s>=0;s--)(a=n[s])&&(o=(i<3?a(o):i>3?a(t,e,o):a(t,e))||o);return i>3&&o&&Object.defineProperty(t,e,o),o},tf;(function(n){n.ANIMATION_ON="ag-row-animation",n.ANIMATION_OFF="ag-row-no-animation"})(tf||(tf={}));var eX="ag-force-vertical-scroll",KEe="ag-selectable",YEe="ag-column-moving",tX=function(n){zEe(t,n);function t(){var e=n!==null&&n.apply(this,arguments)||this;return e.stickyTopHeight=0,e}return t.prototype.getScrollFeature=function(){return this.bodyScrollFeature},t.prototype.getBodyViewportElement=function(){return this.eBodyViewport},t.prototype.setComp=function(e,r,i,o,a,s){var l=this;this.comp=e,this.eGridBody=r,this.eBodyViewport=i,this.eTop=o,this.eBottom=a,this.eStickyTop=s,this.setCellTextSelection(this.gridOptionsService.get("enableCellTextSelection")),this.addManagedPropertyListener("enableCellTextSelection",function(u){return l.setCellTextSelection(u.currentValue)}),this.createManagedBean(new gG(this.comp)),this.bodyScrollFeature=this.createManagedBean(new HEe(this.eBodyViewport)),this.addRowDragListener(),this.setupRowAnimationCssClass(),this.addEventListeners(),this.addFocusListeners([o,i,a,s]),this.onGridColumnsChanged(),this.addBodyViewportListener(),this.setFloatingHeights(),this.disableBrowserDragging(),this.addStopEditingWhenGridLosesFocus(),this.filterManager.setupAdvancedFilterHeaderComp(o),this.ctrlsService.registerGridBodyCtrl(this)},t.prototype.getComp=function(){return this.comp},t.prototype.addEventListeners=function(){this.addManagedListener(this.eventService,T.EVENT_GRID_COLUMNS_CHANGED,this.onGridColumnsChanged.bind(this)),this.addManagedListener(this.eventService,T.EVENT_SCROLL_VISIBILITY_CHANGED,this.onScrollVisibilityChanged.bind(this)),this.addManagedListener(this.eventService,T.EVENT_PINNED_ROW_DATA_CHANGED,this.onPinnedRowDataChanged.bind(this)),this.addManagedListener(this.eventService,T.EVENT_HEADER_HEIGHT_CHANGED,this.onHeaderHeightChanged.bind(this))},t.prototype.addFocusListeners=function(e){var r=this;e.forEach(function(i){r.addManagedListener(i,"focusin",function(o){var a=o.target,s=Ih(a,"ag-root",i);i.classList.toggle("ag-has-focus",!s)}),r.addManagedListener(i,"focusout",function(o){var a=o.target,s=o.relatedTarget,l=i.contains(s),u=Ih(s,"ag-root",i),c=Ih(a,"ag-root",i);c||(!l||u)&&i.classList.remove("ag-has-focus")})})},t.prototype.setColumnMovingCss=function(e){this.comp.setColumnMovingCss(YEe,e)},t.prototype.setCellTextSelection=function(e){e===void 0&&(e=!1),this.comp.setCellSelectableCss(KEe,e)},t.prototype.onScrollVisibilityChanged=function(){var e=this,r=this.scrollVisibleService.isVerticalScrollShowing();this.setVerticalScrollPaddingVisible(r),this.setStickyTopWidth(r);var i=r&&this.gridOptionsService.getScrollbarWidth()||0,o=zk()?16:0,a="calc(100% + ".concat(i+o,"px)");this.animationFrameService.requestAnimationFrame(function(){return e.comp.setBodyViewportWidth(a)})},t.prototype.onGridColumnsChanged=function(){var e=this.columnModel.getAllGridColumns();this.comp.setColumnCount(e.length)},t.prototype.disableBrowserDragging=function(){this.addManagedListener(this.eGridBody,"dragstart",function(e){if(e.target instanceof HTMLImageElement)return e.preventDefault(),!1})},t.prototype.addStopEditingWhenGridLosesFocus=function(){var e=this;if(this.gridOptionsService.get("stopEditingWhenCellsLoseFocus")){var r=function(o){var a=o.relatedTarget;if(Db(a)===null){e.rowRenderer.stopEditing();return}var s=i.some(function(u){return u.contains(a)})&&e.mouseEventService.isElementInThisGrid(a);if(!s){var l=e.popupService;s=l.getActivePopups().some(function(u){return u.contains(a)})||l.isElementWithinCustomPopup(a)}s||e.rowRenderer.stopEditing()},i=[this.eBodyViewport,this.eBottom,this.eTop,this.eStickyTop];i.forEach(function(o){return e.addManagedListener(o,"focusout",r)})}},t.prototype.updateRowCount=function(){var e=this.headerNavigationService.getHeaderRowCount()+this.filterManager.getHeaderRowCount(),r=this.rowModel.isLastRowIndexKnown()?this.rowModel.getRowCount():-1,i=r===-1?-1:e+r;this.comp.setRowCount(i)},t.prototype.registerBodyViewportResizeListener=function(e){this.comp.registerBodyViewportResizeListener(e)},t.prototype.setVerticalScrollPaddingVisible=function(e){var r=e?"scroll":"hidden";this.comp.setPinnedTopBottomOverflowY(r)},t.prototype.isVerticalScrollShowing=function(){var e=this.gridOptionsService.get("alwaysShowVerticalScroll"),r=e?eX:null,i=this.gridOptionsService.isDomLayout("normal");return this.comp.setAlwaysVerticalScrollClass(r,e),e||i&&uY(this.eBodyViewport)},t.prototype.setupRowAnimationCssClass=function(){var e=this,r=function(){var i=e.gridOptionsService.isAnimateRows()&&!e.rowContainerHeightService.isStretching(),o=i?tf.ANIMATION_ON:tf.ANIMATION_OFF;e.comp.setRowAnimationCssOnBodyViewport(o,i)};r(),this.addManagedListener(this.eventService,T.EVENT_HEIGHT_SCALE_CHANGED,r),this.addManagedPropertyListener("animateRows",r)},t.prototype.getGridBodyElement=function(){return this.eGridBody},t.prototype.addBodyViewportListener=function(){var e=this.onBodyViewportContextMenu.bind(this);this.addManagedListener(this.eBodyViewport,"contextmenu",e),this.mockContextMenuForIPad(e),this.addManagedListener(this.eBodyViewport,"wheel",this.onBodyViewportWheel.bind(this)),this.addManagedListener(this.eStickyTop,"wheel",this.onStickyTopWheel.bind(this)),this.addFullWidthContainerWheelListener()},t.prototype.addFullWidthContainerWheelListener=function(){var e=this,r=this.eBodyViewport.querySelector(".ag-full-width-container"),i=this.eBodyViewport.querySelector(".ag-center-cols-viewport");r&&i&&this.addManagedListener(r,"wheel",function(o){return e.onFullWidthContainerWheel(o,i)})},t.prototype.onFullWidthContainerWheel=function(e,r){!e.deltaX||Math.abs(e.deltaY)>Math.abs(e.deltaX)||!this.mouseEventService.isEventFromThisGrid(e)||(e.preventDefault(),r.scrollBy({left:e.deltaX}))},t.prototype.onBodyViewportContextMenu=function(e,r,i){if(!(!e&&!i)){if(this.gridOptionsService.get("preventDefaultOnContextMenu")){var o=e||i;o.preventDefault()}var a=(e||r).target;(a===this.eBodyViewport||a===this.ctrlsService.getCenterRowContainerCtrl().getViewportElement())&&this.menuService.showContextMenu({mouseEvent:e,touchEvent:i,value:null,anchorToElement:this.eGridBody})}},t.prototype.mockContextMenuForIPad=function(e){if(yc()){var r=new qr(this.eBodyViewport),i=function(o){e(void 0,o.touchStart,o.touchEvent)};this.addManagedListener(r,qr.EVENT_LONG_TAP,i),this.addDestroyFunc(function(){return r.destroy()})}},t.prototype.onBodyViewportWheel=function(e){this.gridOptionsService.get("suppressScrollWhenPopupsAreOpen")&&this.popupService.hasAnchoredPopup()&&e.preventDefault()},t.prototype.onStickyTopWheel=function(e){e.preventDefault(),e.offsetY&&this.scrollVertically(e.deltaY)},t.prototype.getGui=function(){return this.eGridBody},t.prototype.scrollVertically=function(e){var r=this.eBodyViewport.scrollTop;return this.bodyScrollFeature.setVerticalScrollPosition(r+e),this.eBodyViewport.scrollTop-r},t.prototype.addRowDragListener=function(){this.rowDragFeature=this.createManagedBean(new UEe(this.eBodyViewport)),this.dragAndDropService.addDropTarget(this.rowDragFeature)},t.prototype.getRowDragFeature=function(){return this.rowDragFeature},t.prototype.onPinnedRowDataChanged=function(){this.setFloatingHeights()},t.prototype.setFloatingHeights=function(){var e=this.pinnedRowModel,r=e.getPinnedTopTotalHeight(),i=e.getPinnedBottomTotalHeight();this.comp.setTopHeight(r),this.comp.setBottomHeight(i),this.comp.setTopDisplay(r?"inherit":"none"),this.comp.setBottomDisplay(i?"inherit":"none"),this.setStickyTopOffsetTop()},t.prototype.setStickyTopHeight=function(e){e===void 0&&(e=0),this.comp.setStickyTopHeight("".concat(e,"px")),this.stickyTopHeight=e},t.prototype.getStickyTopHeight=function(){return this.stickyTopHeight},t.prototype.setStickyTopWidth=function(e){if(!e)this.comp.setStickyTopWidth("100%");else{var r=this.gridOptionsService.getScrollbarWidth();this.comp.setStickyTopWidth("calc(100% - ".concat(r,"px)"))}},t.prototype.onHeaderHeightChanged=function(){this.setStickyTopOffsetTop()},t.prototype.setStickyTopOffsetTop=function(){var e=this.ctrlsService.getGridHeaderCtrl(),r=e.getHeaderHeight()+this.filterManager.getHeaderHeight(),i=this.pinnedRowModel.getPinnedTopTotalHeight(),o=0;r>0&&(o+=r+1),i>0&&(o+=i+1),this.comp.setStickyTopTop("".concat(o,"px"))},t.prototype.sizeColumnsToFit=function(e,r){var i=this,o=this.isVerticalScrollShowing(),a=o?this.gridOptionsService.getScrollbarWidth():0,s=gf(this.eGridBody),l=s-a;if(l>0){this.columnModel.sizeColumnsToFit(l,"sizeColumnsToFit",!1,e);return}r===void 0?window.setTimeout(function(){i.sizeColumnsToFit(e,100)},0):r===100?window.setTimeout(function(){i.sizeColumnsToFit(e,500)},100):r===500?window.setTimeout(function(){i.sizeColumnsToFit(e,-1)},500):console.warn("AG Grid: tried to call sizeColumnsToFit() but the grid is coming back with zero width, maybe the grid is not visible yet on the screen?")},t.prototype.addScrollEventListener=function(e){this.eBodyViewport.addEventListener("scroll",e,{passive:!0})},t.prototype.removeScrollEventListener=function(e){this.eBodyViewport.removeEventListener("scroll",e)},zi([E("animationFrameService")],t.prototype,"animationFrameService",void 0),zi([E("rowContainerHeightService")],t.prototype,"rowContainerHeightService",void 0),zi([E("ctrlsService")],t.prototype,"ctrlsService",void 0),zi([E("columnModel")],t.prototype,"columnModel",void 0),zi([E("scrollVisibleService")],t.prototype,"scrollVisibleService",void 0),zi([E("menuService")],t.prototype,"menuService",void 0),zi([E("headerNavigationService")],t.prototype,"headerNavigationService",void 0),zi([E("dragAndDropService")],t.prototype,"dragAndDropService",void 0),zi([E("pinnedRowModel")],t.prototype,"pinnedRowModel",void 0),zi([E("rowRenderer")],t.prototype,"rowRenderer",void 0),zi([E("popupService")],t.prototype,"popupService",void 0),zi([E("mouseEventService")],t.prototype,"mouseEventService",void 0),zi([E("rowModel")],t.prototype,"rowModel",void 0),zi([E("filterManager")],t.prototype,"filterManager",void 0),t}(X),ac;(function(n){n[n.FILL=0]="FILL",n[n.RANGE=1]="RANGE"})(ac||(ac={}));var uo;(function(n){n[n.VALUE=0]="VALUE",n[n.DIMENSION=1]="DIMENSION"})(uo||(uo={}));var jy="ag-cell-range-selected",XEe="ag-cell-range-chart",qEe="ag-cell-range-single-cell",ZEe="ag-cell-range-chart-category",QEe="ag-cell-range-handle",JEe="ag-cell-range-top",ebe="ag-cell-range-right",tbe="ag-cell-range-bottom",rbe="ag-cell-range-left",nbe=function(){function n(t,e){this.beans=t,this.cellCtrl=e}return n.prototype.setComp=function(t,e){this.cellComp=t,this.eGui=e,this.onRangeSelectionChanged()},n.prototype.onRangeSelectionChanged=function(){this.cellComp&&(this.rangeCount=this.beans.rangeService.getCellRangeCount(this.cellCtrl.getCellPosition()),this.hasChartRange=this.getHasChartRange(),this.cellComp.addOrRemoveCssClass(jy,this.rangeCount!==0),this.cellComp.addOrRemoveCssClass("".concat(jy,"-1"),this.rangeCount===1),this.cellComp.addOrRemoveCssClass("".concat(jy,"-2"),this.rangeCount===2),this.cellComp.addOrRemoveCssClass("".concat(jy,"-3"),this.rangeCount===3),this.cellComp.addOrRemoveCssClass("".concat(jy,"-4"),this.rangeCount>=4),this.cellComp.addOrRemoveCssClass(XEe,this.hasChartRange),Dg(this.eGui,this.rangeCount>0?!0:void 0),this.cellComp.addOrRemoveCssClass(qEe,this.isSingleCell()),this.updateRangeBorders(),this.refreshHandle())},n.prototype.updateRangeBorders=function(){var t=this.getRangeBorders(),e=this.isSingleCell(),r=!e&&t.top,i=!e&&t.right,o=!e&&t.bottom,a=!e&&t.left;this.cellComp.addOrRemoveCssClass(JEe,r),this.cellComp.addOrRemoveCssClass(ebe,i),this.cellComp.addOrRemoveCssClass(tbe,o),this.cellComp.addOrRemoveCssClass(rbe,a)},n.prototype.isSingleCell=function(){var t=this.beans.rangeService;return this.rangeCount===1&&t&&!t.isMoreThanOneCell()},n.prototype.getHasChartRange=function(){var t=this.beans.rangeService;if(!this.rangeCount||!t)return!1;var e=t.getCellRanges();return e.length>0&&e.every(function(r){return Ls([uo.DIMENSION,uo.VALUE],r.type)})},n.prototype.updateRangeBordersIfRangeCount=function(){this.rangeCount>0&&(this.updateRangeBorders(),this.refreshHandle())},n.prototype.getRangeBorders=function(){var t=this,e=this.beans.gridOptionsService.get("enableRtl"),r=!1,i=!1,o=!1,a=!1,s=this.cellCtrl.getCellPosition().column,l=this.beans,u=l.rangeService,c=l.columnModel,d,p;e?(d=c.getDisplayedColAfter(s),p=c.getDisplayedColBefore(s)):(d=c.getDisplayedColBefore(s),p=c.getDisplayedColAfter(s));var h=u.getCellRanges().filter(function(m){return u.isCellInSpecificRange(t.cellCtrl.getCellPosition(),m)});d||(a=!0),p||(i=!0);for(var f=0;f<h.length&&!(r&&i&&o&&a);f++){var v=h[f],g=u.getRangeStartRow(v),y=u.getRangeEndRow(v);!r&&this.beans.rowPositionUtils.sameRow(g,this.cellCtrl.getCellPosition())&&(r=!0),!o&&this.beans.rowPositionUtils.sameRow(y,this.cellCtrl.getCellPosition())&&(o=!0),!a&&d&&v.columns.indexOf(d)<0&&(a=!0),!i&&p&&v.columns.indexOf(p)<0&&(i=!0)}return{top:r,right:i,bottom:o,left:a}},n.prototype.refreshHandle=function(){if(!(!this.beans.rangeService||this.beans.context.isDestroyed())){var t=this.shouldHaveSelectionHandle();this.selectionHandle&&!t&&(this.selectionHandle=this.beans.context.destroyBean(this.selectionHandle)),t&&this.addSelectionHandle(),this.cellComp.addOrRemoveCssClass(QEe,!!this.selectionHandle)}},n.prototype.shouldHaveSelectionHandle=function(){var t=this.beans,e=t.gridOptionsService,r=t.rangeService,i=r.getCellRanges(),o=i.length;if(this.rangeCount<1||o<1)return!1;var a=xt(i),s=this.cellCtrl.getCellPosition(),l=e.get("enableFillHandle")&&!this.cellCtrl.isSuppressFillHandle(),u=e.get("enableRangeHandle"),c=o===1&&!this.cellCtrl.isEditing()&&(l||u);if(this.hasChartRange){var d=i[0].type===uo.DIMENSION,p=d&&r.isCellInSpecificRange(s,i[0]);this.cellComp.addOrRemoveCssClass(ZEe,p),c=a.type===uo.VALUE}return c&&a.endRow!=null&&r.isContiguousRange(a)&&r.isBottomRightCell(a,s)},n.prototype.addSelectionHandle=function(){var t=this.beans,e=t.gridOptionsService,r=t.rangeService,i=xt(r.getCellRanges()).type,o=e.get("enableFillHandle")&&We(i),a=o?ac.FILL:ac.RANGE;this.selectionHandle&&this.selectionHandle.getType()!==a&&(this.selectionHandle=this.beans.context.destroyBean(this.selectionHandle)),this.selectionHandle||(this.selectionHandle=this.beans.selectionHandleFactory.createSelectionHandle(a)),this.selectionHandle.refresh(this.cellCtrl)},n.prototype.destroy=function(){this.beans.context.destroyBean(this.selectionHandle)},n}(),ibe=function(){var n=function(t,e){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])},n(t,e)};return function(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");n(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}}(),obe=function(n){ibe(t,n);function t(e,r){var i=n.call(this)||this;return i.cellCtrl=e,i.beans=r,i.column=e.getColumn(),i.rowNode=e.getRowNode(),i.setupColSpan(),i.setupRowSpan(),i}return t.prototype.setupRowSpan=function(){var e=this;this.rowSpan=this.column.getRowSpan(this.rowNode),this.addManagedListener(this.beans.eventService,T.EVENT_NEW_COLUMNS_LOADED,function(){return e.onNewColumnsLoaded()})},t.prototype.setComp=function(e){this.eGui=e,this.onLeftChanged(),this.onWidthChanged(),this.applyRowSpan()},t.prototype.onNewColumnsLoaded=function(){var e=this.column.getRowSpan(this.rowNode);this.rowSpan!==e&&(this.rowSpan=e,this.applyRowSpan(!0))},t.prototype.onDisplayColumnsChanged=function(){var e=this.getColSpanningList();Gu(this.colsSpanning,e)||(this.colsSpanning=e,this.onWidthChanged(),this.onLeftChanged())},t.prototype.setupColSpan=function(){this.column.getColDef().colSpan!=null&&(this.colsSpanning=this.getColSpanningList(),this.addManagedListener(this.beans.eventService,T.EVENT_DISPLAYED_COLUMNS_CHANGED,this.onDisplayColumnsChanged.bind(this)),this.addManagedListener(this.beans.eventService,T.EVENT_DISPLAYED_COLUMNS_WIDTH_CHANGED,this.onWidthChanged.bind(this)))},t.prototype.onWidthChanged=function(){if(this.eGui){var e=this.getCellWidth();this.eGui.style.width="".concat(e,"px")}},t.prototype.getCellWidth=function(){return this.colsSpanning?this.colsSpanning.reduce(function(e,r){return e+r.getActualWidth()},0):this.column.getActualWidth()},t.prototype.getColSpanningList=function(){var e=this.column.getColSpan(this.rowNode),r=[];if(e===1)r.push(this.column);else for(var i=this.column,o=this.column.getPinned(),a=0;i&&a<e&&(r.push(i),i=this.beans.columnModel.getDisplayedColAfter(i),!(!i||We(i)||o!==i.getPinned()));a++);return r},t.prototype.onLeftChanged=function(){if(this.eGui){var e=this.modifyLeftForPrintLayout(this.getCellLeft());this.eGui.style.left=e+"px"}},t.prototype.getCellLeft=function(){var e;return this.beans.gridOptionsService.get("enableRtl")&&this.colsSpanning?e=xt(this.colsSpanning):e=this.column,e.getLeft()},t.prototype.modifyLeftForPrintLayout=function(e){if(!this.cellCtrl.isPrintLayout()||this.column.getPinned()==="left")return e;var r=this.beans.columnModel.getDisplayedColumnsLeftWidth();if(this.column.getPinned()==="right"){var i=this.beans.columnModel.getBodyContainerWidth();return r+i+(e||0)}return r+(e||0)},t.prototype.applyRowSpan=function(e){if(!(this.rowSpan===1&&!e)){var r=this.beans.gridOptionsService.getRowHeightAsNumber(),i=r*this.rowSpan;this.eGui.style.height="".concat(i,"px"),this.eGui.style.zIndex="1"}},t.prototype.destroy=function(){n.prototype.destroy.call(this)},t}(X),abe=function(){var n=function(t,e){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])},n(t,e)};return function(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");n(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}}(),sbe=function(n){abe(t,n);function t(e,r){var i=n.call(this)||this;return i.staticClasses=[],i.cellCtrl=e,i.beans=r,i.column=e.getColumn(),i.rowNode=e.getRowNode(),i}return t.prototype.setComp=function(e){this.cellComp=e,this.applyUserStyles(),this.applyCellClassRules(),this.applyClassesFromColDef()},t.prototype.applyCellClassRules=function(){var e=this,r=this.column.getColDef(),i=r.cellClassRules,o=this.beans.gridOptionsService.addGridCommonParams({value:this.cellCtrl.getValue(),data:this.rowNode.data,node:this.rowNode,colDef:r,column:this.column,rowIndex:this.rowNode.rowIndex});this.beans.stylingService.processClassRules(i===this.cellClassRules?void 0:this.cellClassRules,i,o,function(a){return e.cellComp.addOrRemoveCssClass(a,!0)},function(a){return e.cellComp.addOrRemoveCssClass(a,!1)}),this.cellClassRules=i},t.prototype.applyUserStyles=function(){var e=this.column.getColDef();if(e.cellStyle){var r;if(typeof e.cellStyle=="function"){var i=this.beans.gridOptionsService.addGridCommonParams({column:this.column,value:this.cellCtrl.getValue(),colDef:e,data:this.rowNode.data,node:this.rowNode,rowIndex:this.rowNode.rowIndex}),o=e.cellStyle;r=o(i)}else r=e.cellStyle;r&&this.cellComp.setUserStyles(r)}},t.prototype.applyClassesFromColDef=function(){var e=this,r=this.column.getColDef(),i=this.beans.gridOptionsService.addGridCommonParams({value:this.cellCtrl.getValue(),data:this.rowNode.data,node:this.rowNode,column:this.column,colDef:r,rowIndex:this.rowNode.rowIndex});this.staticClasses.length&&this.staticClasses.forEach(function(o){return e.cellComp.addOrRemoveCssClass(o,!1)}),this.staticClasses=this.beans.stylingService.getStaticCellClasses(r,i),this.staticClasses.length&&this.staticClasses.forEach(function(o){return e.cellComp.addOrRemoveCssClass(o,!0)})},t.prototype.destroy=function(){n.prototype.destroy.call(this)},t}(X),lbe=function(){var n=function(t,e){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])},n(t,e)};return function(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");n(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}}(),ka=function(n){lbe(t,n);function t(e,r){var i=n.call(this)||this;return i.ctrl=e,i.beans=r,i}return t.prototype.setComp=function(e){this.eGui=e,this.setupTooltip()},t.prototype.setBrowserTooltip=function(e){var r="title";e!=null&&e!=""?this.eGui.setAttribute(r,e):this.eGui.removeAttribute(r)},t.prototype.setupTooltip=function(){this.browserTooltips=this.beans.gridOptionsService.get("enableBrowserTooltips"),this.updateTooltipText(),this.browserTooltips?this.setBrowserTooltip(this.tooltip):this.createTooltipFeatureIfNeeded()},t.prototype.updateTooltipText=function(){this.tooltip=this.ctrl.getTooltipValue()},t.prototype.createTooltipFeatureIfNeeded=function(){var e=this,r,i,o,a;if(this.genericTooltipFeature==null){var s={getTooltipParams:function(){return e.getTooltipParams()},getGui:function(){return e.ctrl.getGui()}};this.genericTooltipFeature=this.createManagedBean(new aG(s,(i=(r=this.ctrl).getTooltipShowDelayOverride)===null||i===void 0?void 0:i.call(r),(a=(o=this.ctrl).getTooltipHideDelayOverride)===null||a===void 0?void 0:a.call(o)),this.beans.context)}},t.prototype.refreshToolTip=function(){this.updateTooltipText(),this.browserTooltips&&this.setBrowserTooltip(this.tooltip)},t.prototype.getTooltipParams=function(){var e=this,r=this.ctrl,i=r.getColumn?r.getColumn():void 0,o=r.getColDef?r.getColDef():void 0,a=r.getRowNode?r.getRowNode():void 0;return{location:r.getLocation(),colDef:o,column:i,rowIndex:r.getRowIndex?r.getRowIndex():void 0,node:a,data:a?a.data:void 0,value:this.getTooltipText(),valueFormatted:r.getValueFormatted?r.getValueFormatted():void 0,hideTooltipCallback:function(){return e.genericTooltipFeature.hideTooltip(!0)}}},t.prototype.getTooltipText=function(){return this.tooltip},t.prototype.destroy=function(){n.prototype.destroy.call(this)},t}(X),Qe=function(n,t,e,r){var i=arguments.length,o=i<3?t:r===null?r=Object.getOwnPropertyDescriptor(t,e):r,a;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(n,t,e,r);else for(var s=n.length-1;s>=0;s--)(a=n[s])&&(o=(i<3?a(o):i>3?a(t,e,o):a(t,e))||o);return i>3&&o&&Object.defineProperty(t,e,o),o},yG=function(){function n(){}return n.prototype.postConstruct=function(){this.gridOptionsService.isRowModelType("clientSide")&&(this.clientSideRowModel=this.rowModel),this.gridOptionsService.isRowModelType("serverSide")&&(this.serverSideRowModel=this.rowModel)},Qe([E("resizeObserverService")],n.prototype,"resizeObserverService",void 0),Qe([E("paginationProxy")],n.prototype,"paginationProxy",void 0),Qe([E("context")],n.prototype,"context",void 0),Qe([E("columnApi")],n.prototype,"columnApi",void 0),Qe([E("gridApi")],n.prototype,"gridApi",void 0),Qe([E("gridOptionsService")],n.prototype,"gridOptionsService",void 0),Qe([E("expressionService")],n.prototype,"expressionService",void 0),Qe([E("environment")],n.prototype,"environment",void 0),Qe([E("rowRenderer")],n.prototype,"rowRenderer",void 0),Qe([E("templateService")],n.prototype,"templateService",void 0),Qe([E("valueService")],n.prototype,"valueService",void 0),Qe([E("eventService")],n.prototype,"eventService",void 0),Qe([E("columnModel")],n.prototype,"columnModel",void 0),Qe([E("headerNavigationService")],n.prototype,"headerNavigationService",void 0),Qe([E("navigationService")],n.prototype,"navigationService",void 0),Qe([E("columnAnimationService")],n.prototype,"columnAnimationService",void 0),Qe([et("rangeService")],n.prototype,"rangeService",void 0),Qe([E("focusService")],n.prototype,"focusService",void 0),Qe([E("popupService")],n.prototype,"popupService",void 0),Qe([E("valueFormatterService")],n.prototype,"valueFormatterService",void 0),Qe([E("stylingService")],n.prototype,"stylingService",void 0),Qe([E("columnHoverService")],n.prototype,"columnHoverService",void 0),Qe([E("userComponentFactory")],n.prototype,"userComponentFactory",void 0),Qe([E("userComponentRegistry")],n.prototype,"userComponentRegistry",void 0),Qe([E("animationFrameService")],n.prototype,"animationFrameService",void 0),Qe([E("dragService")],n.prototype,"dragService",void 0),Qe([E("dragAndDropService")],n.prototype,"dragAndDropService",void 0),Qe([E("sortController")],n.prototype,"sortController",void 0),Qe([E("filterManager")],n.prototype,"filterManager",void 0),Qe([E("rowContainerHeightService")],n.prototype,"rowContainerHeightService",void 0),Qe([E("frameworkOverrides")],n.prototype,"frameworkOverrides",void 0),Qe([E("cellPositionUtils")],n.prototype,"cellPositionUtils",void 0),Qe([E("rowPositionUtils")],n.prototype,"rowPositionUtils",void 0),Qe([E("selectionService")],n.prototype,"selectionService",void 0),Qe([et("selectionHandleFactory")],n.prototype,"selectionHandleFactory",void 0),Qe([E("rowCssClassCalculator")],n.prototype,"rowCssClassCalculator",void 0),Qe([E("rowModel")],n.prototype,"rowModel",void 0),Qe([E("ctrlsService")],n.prototype,"ctrlsService",void 0),Qe([E("ctrlsFactory")],n.prototype,"ctrlsFactory",void 0),Qe([E("agStackComponentsRegistry")],n.prototype,"agStackComponentsRegistry",void 0),Qe([E("valueCache")],n.prototype,"valueCache",void 0),Qe([E("rowNodeEventThrottle")],n.prototype,"rowNodeEventThrottle",void 0),Qe([E("localeService")],n.prototype,"localeService",void 0),Qe([E("valueParserService")],n.prototype,"valueParserService",void 0),Qe([E("syncService")],n.prototype,"syncService",void 0),Qe([E("ariaAnnouncementService")],n.prototype,"ariaAnnouncementService",void 0),Qe([z],n.prototype,"postConstruct",null),n=Qe([ie("beans")],n),n}(),ube=function(){var n=function(t,e){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])},n(t,e)};return function(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");n(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}}(),cbe=function(n){ube(t,n);function t(e,r,i){var o=n.call(this)||this;return o.cellCtrl=e,o.beans=r,o.column=i,o}return t.prototype.onMouseEvent=function(e,r){if(!Fs(r))switch(e){case"click":this.onCellClicked(r);break;case"mousedown":case"touchstart":this.onMouseDown(r);break;case"dblclick":this.onCellDoubleClicked(r);break;case"mouseout":this.onMouseOut(r);break;case"mouseover":this.onMouseOver(r);break}},t.prototype.onCellClicked=function(e){var r=this;if(this.isDoubleClickOnIPad()){this.onCellDoubleClicked(e),e.preventDefault();return}var i=this.beans,o=i.eventService,a=i.rangeService,s=i.gridOptionsService,l=e.ctrlKey||e.metaKey;a&&l&&a.getCellRangeCount(this.cellCtrl.getCellPosition())>1&&a.intersectLastRange(!0);var u=this.cellCtrl.createEvent(e,T.EVENT_CELL_CLICKED);o.dispatchEvent(u);var c=this.column.getColDef();c.onCellClicked&&window.setTimeout(function(){r.beans.frameworkOverrides.wrapOutgoing(function(){c.onCellClicked(u)})},0);var d=(s.get("singleClickEdit")||c.singleClickEdit)&&!s.get("suppressClickEdit");d&&!(e.shiftKey&&(a==null?void 0:a.getCellRanges().length)!=0)&&this.cellCtrl.startRowOrCellEdit()},t.prototype.isDoubleClickOnIPad=function(){if(!yc()||Pk("dblclick"))return!1;var e=new Date().getTime(),r=e-this.lastIPadMouseClickEvent<200;return this.lastIPadMouseClickEvent=e,r},t.prototype.onCellDoubleClicked=function(e){var r=this,i=this.column.getColDef(),o=this.cellCtrl.createEvent(e,T.EVENT_CELL_DOUBLE_CLICKED);this.beans.eventService.dispatchEvent(o),typeof i.onCellDoubleClicked=="function"&&window.setTimeout(function(){r.beans.frameworkOverrides.wrapOutgoing(function(){i.onCellDoubleClicked(o)})},0);var a=!this.beans.gridOptionsService.get("singleClickEdit")&&!this.beans.gridOptionsService.get("suppressClickEdit");a&&this.cellCtrl.startRowOrCellEdit(null,e)},t.prototype.onMouseDown=function(e){var r=e.ctrlKey,i=e.metaKey,o=e.shiftKey,a=e.target,s=this,l=s.cellCtrl,u=s.beans,c=u.eventService,d=u.rangeService,p=u.focusService;if(!this.isRightClickInExistingRange(e)){var h=d&&d.getCellRanges().length!=0;if(!o||!h){var f=tu()&&!l.isEditing()&&!Xk(a);l.focusCell(f)}if(o&&h&&!p.isCellFocused(l.getCellPosition())){e.preventDefault();var v=p.getFocusedCell();if(v){var g=v.column,y=v.rowIndex,m=v.rowPinned,C=u.rowRenderer.getRowByPosition({rowIndex:y,rowPinned:m}),S=C==null?void 0:C.getCellCtrl(g);S!=null&&S.isEditing()&&S.stopEditing(),p.setFocusedCell({column:g,rowIndex:y,rowPinned:m,forceBrowserFocus:!0,preventScrollOnBrowserFocus:!0})}}if(!this.containsWidget(a)){if(d){var w=this.cellCtrl.getCellPosition();if(o)d.extendLatestRangeToCell(w);else{var _=r||i;d.setRangeToCell(w,_)}}c.dispatchEvent(this.cellCtrl.createEvent(e,T.EVENT_CELL_MOUSE_DOWN))}}},t.prototype.isRightClickInExistingRange=function(e){var r=this.beans.rangeService;if(r){var i=r.isCellInAnyRange(this.cellCtrl.getCellPosition()),o=e.button===2||e.ctrlKey&&this.beans.gridOptionsService.get("allowContextMenuWithControlKey");if(i&&o)return!0}return!1},t.prototype.containsWidget=function(e){return Ih(e,"ag-selection-checkbox",3)},t.prototype.onMouseOut=function(e){if(!this.mouseStayingInsideCell(e)){var r=this.cellCtrl.createEvent(e,T.EVENT_CELL_MOUSE_OUT);this.beans.eventService.dispatchEvent(r),this.beans.columnHoverService.clearMouseOver()}},t.prototype.onMouseOver=function(e){if(!this.mouseStayingInsideCell(e)){var r=this.cellCtrl.createEvent(e,T.EVENT_CELL_MOUSE_OVER);this.beans.eventService.dispatchEvent(r),this.beans.columnHoverService.setMouseOver([this.column])}},t.prototype.mouseStayingInsideCell=function(e){if(!e.target||!e.relatedTarget)return!1;var r=this.cellCtrl.getGui(),i=r.contains(e.target),o=r.contains(e.relatedTarget);return i&&o},t.prototype.destroy=function(){},t}(yG),dbe=function(){var n=function(t,e){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])},n(t,e)};return function(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");n(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}}(),pbe=function(n){dbe(t,n);function t(e,r,i,o,a){var s=n.call(this)||this;return s.cellCtrl=e,s.beans=r,s.rowNode=o,s.rowCtrl=a,s}return t.prototype.setComp=function(e){this.eGui=e},t.prototype.onKeyDown=function(e){var r=e.key;switch(r){case U.ENTER:this.onEnterKeyDown(e);break;case U.F2:this.onF2KeyDown(e);break;case U.ESCAPE:this.onEscapeKeyDown(e);break;case U.TAB:this.onTabKeyDown(e);break;case U.BACKSPACE:case U.DELETE:this.onBackspaceOrDeleteKeyDown(r,e);break;case U.DOWN:case U.UP:case U.RIGHT:case U.LEFT:this.onNavigationKeyDown(e,r);break}},t.prototype.onNavigationKeyDown=function(e,r){this.cellCtrl.isEditing()||(e.shiftKey&&this.cellCtrl.isRangeSelectionEnabled()?this.onShiftRangeSelect(e):this.beans.navigationService.navigateToNextCell(e,r,this.cellCtrl.getCellPosition(),!0),e.preventDefault())},t.prototype.onShiftRangeSelect=function(e){if(this.beans.rangeService){var r=this.beans.rangeService.extendLatestRangeInDirection(e);r&&this.beans.navigationService.ensureCellVisible(r)}},t.prototype.onTabKeyDown=function(e){this.beans.navigationService.onTabKeyDown(this.cellCtrl,e)},t.prototype.onBackspaceOrDeleteKeyDown=function(e,r){var i=this,o=i.cellCtrl,a=i.beans,s=i.rowNode,l=a.gridOptionsService,u=a.rangeService,c=a.eventService;o.isEditing()||(c.dispatchEvent({type:T.EVENT_KEY_SHORTCUT_CHANGED_CELL_START}),gY(e,l.get("enableCellEditingOnBackspace"))?u&&l.get("enableRangeSelection")?u.clearCellRangeCellValues({dispatchWrapperEvents:!0,wrapperEventSource:"deleteKey"}):o.isCellEditable()&&s.setDataValue(o.getColumn(),null,"cellClear"):o.startRowOrCellEdit(e,r),c.dispatchEvent({type:T.EVENT_KEY_SHORTCUT_CHANGED_CELL_END}))},t.prototype.onEnterKeyDown=function(e){if(this.cellCtrl.isEditing()||this.rowCtrl.isEditing())this.cellCtrl.stopEditingAndFocus(!1,e.shiftKey);else if(this.beans.gridOptionsService.get("enterNavigatesVertically")){var r=e.shiftKey?U.UP:U.DOWN;this.beans.navigationService.navigateToNextCell(null,r,this.cellCtrl.getCellPosition(),!1)}else this.cellCtrl.startRowOrCellEdit(U.ENTER,e),this.cellCtrl.isEditing()&&e.preventDefault()},t.prototype.onF2KeyDown=function(e){this.cellCtrl.isEditing()||this.cellCtrl.startRowOrCellEdit(U.F2,e)},t.prototype.onEscapeKeyDown=function(e){this.cellCtrl.isEditing()&&(this.cellCtrl.stopRowOrCellEdit(!0),this.cellCtrl.focusCell(!0))},t.prototype.processCharacter=function(e){var r=e.target,i=r!==this.eGui;if(!(i||this.cellCtrl.isEditing())){var o=e.key;o===" "?this.onSpaceKeyDown(e):(this.cellCtrl.startRowOrCellEdit(o,e),e.preventDefault())}},t.prototype.onSpaceKeyDown=function(e){var r=this.beans.gridOptionsService;if(!this.cellCtrl.isEditing()&&r.isRowSelection()){var i=this.rowNode.isSelected(),o=!i;if(o||!r.get("suppressRowDeselection")){var a=this.beans.gridOptionsService.get("groupSelectsFiltered"),s=this.rowNode.setSelectedParams({newValue:o,rangeSelect:e.shiftKey,groupSelectsFiltered:a,event:e,source:"spaceKey"});i===void 0&&s===0&&this.rowNode.setSelectedParams({newValue:!1,rangeSelect:e.shiftKey,groupSelectsFiltered:a,event:e,source:"spaceKey"})}}e.preventDefault()},t.prototype.destroy=function(){n.prototype.destroy.call(this)},t}(X),hbe=function(){var n=function(t,e){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])},n(t,e)};return function(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");n(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}}(),fbe=function(n,t,e,r){var i=arguments.length,o=i<3?t:r===null?r=Object.getOwnPropertyDescriptor(t,e):r,a;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(n,t,e,r);else for(var s=n.length-1;s>=0;s--)(a=n[s])&&(o=(i<3?a(o):i>3?a(t,e,o):a(t,e))||o);return i>3&&o&&Object.defineProperty(t,e,o),o},vbe=function(n){hbe(t,n);function t(e,r,i){var o=n.call(this,'<div class="ag-drag-handle ag-row-drag" draggable="true"></div>')||this;return o.rowNode=e,o.column=r,o.eCell=i,o}return t.prototype.postConstruct=function(){var e=this.getGui();e.appendChild(Qr("rowDrag",this.gridOptionsService,null)),this.addGuiEventListener("mousedown",function(r){r.stopPropagation()}),this.addDragSource(),this.checkVisibility()},t.prototype.addDragSource=function(){this.addGuiEventListener("dragstart",this.onDragStart.bind(this))},t.prototype.onDragStart=function(e){var r=this,i=this.column.getColDef().dndSourceOnRowDrag;e.dataTransfer.setDragImage(this.eCell,0,0);var o=function(){try{var s=JSON.stringify(r.rowNode.data);e.dataTransfer.setData("application/json",s),e.dataTransfer.setData("text/plain",s)}catch{}};if(i){var a=this.gridOptionsService.addGridCommonParams({rowNode:this.rowNode,dragEvent:e});i(a)}else o()},t.prototype.checkVisibility=function(){var e=this.column.isDndSource(this.rowNode);this.setDisplayed(e)},fbe([z],t.prototype,"postConstruct",null),t}(ae),gbe=function(n,t){var e=typeof Symbol=="function"&&n[Symbol.iterator];if(!e)return n;var r=e.call(n),i,o=[],a;try{for(;(t===void 0||t-- >0)&&!(i=r.next()).done;)o.push(i.value)}catch(s){a={error:s}}finally{try{i&&!i.done&&(e=r.return)&&e.call(r)}finally{if(a)throw a.error}}return o},ybe=function(n,t,e){if(e||arguments.length===2)for(var r=0,i=t.length,o;r<i;r++)(o||!(r in t))&&(o||(o=Array.prototype.slice.call(t,0,r)),o[r]=t[r]);return n.concat(o||Array.prototype.slice.call(t))},mbe="ag-column-first",Cbe="ag-column-last",cp=function(){function n(){}return n.getHeaderClassesFromColDef=function(t,e,r,i){return We(t)?[]:this.getColumnClassesFromCollDef(t.headerClass,t,e,r,i)},n.getToolPanelClassesFromColDef=function(t,e,r,i){return We(t)?[]:this.getColumnClassesFromCollDef(t.toolPanelClass,t,e,r,i)},n.refreshFirstAndLastStyles=function(t,e,r){t.addOrRemoveCssClass(mbe,r.isColumnAtEdge(e,"first")),t.addOrRemoveCssClass(Cbe,r.isColumnAtEdge(e,"last"))},n.getClassParams=function(t,e,r,i){return e.addGridCommonParams({colDef:t,column:r,columnGroup:i})},n.getColumnClassesFromCollDef=function(t,e,r,i,o){if(We(t))return[];var a;if(typeof t=="function"){var s=this.getClassParams(e,r,i,o);a=t(s)}else a=t;return typeof a=="string"?[a]:Array.isArray(a)?ybe([],gbe(a),!1):[]},n}(),Sbe=function(){var n=function(t,e){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])},n(t,e)};return function(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");n(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}}(),Gb=function(){return Gb=Object.assign||function(n){for(var t,e=1,r=arguments.length;e<r;e++){t=arguments[e];for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(n[i]=t[i])}return n},Gb.apply(this,arguments)},wbe="ag-cell",_be="ag-cell-auto-height",xbe="ag-cell-normal-height",Ebe="ag-cell-focus",bbe="ag-cell-first-right-pinned",Obe="ag-cell-last-left-pinned",Rbe="ag-cell-not-inline-editing",Tbe="ag-column-hover",Pbe="ag-cell-wrap-text",Abe=0,ju=function(n){Sbe(t,n);function t(e,r,i,o){var a=n.call(this)||this;return a.cellRangeFeature=null,a.cellPositionFeature=null,a.cellCustomStyleFeature=null,a.tooltipFeature=null,a.cellMouseListenerFeature=null,a.cellKeyboardListenerFeature=null,a.suppressRefreshCell=!1,a.onCellCompAttachedFuncs=[],a.column=e,a.rowNode=r,a.beans=i,a.rowCtrl=o,a.instanceId=e.getId()+"-"+Abe++,a.colIdSanitised=cn(a.column.getId()),i.gridOptionsService.get("suppressCellFocus")||(a.tabIndex=-1),a.createCellPosition(),a.addFeatures(),a.updateAndFormatValue(!1),a}return t.prototype.shouldRestoreFocus=function(){return this.beans.focusService.shouldRestoreFocus(this.cellPosition)},t.prototype.addFeatures=function(){var e=this;this.cellPositionFeature=new obe(this,this.beans),this.addDestroyFunc(function(){var i;(i=e.cellPositionFeature)===null||i===void 0||i.destroy(),e.cellPositionFeature=null}),this.cellCustomStyleFeature=new sbe(this,this.beans),this.addDestroyFunc(function(){var i;(i=e.cellCustomStyleFeature)===null||i===void 0||i.destroy(),e.cellCustomStyleFeature=null}),this.cellMouseListenerFeature=new cbe(this,this.beans,this.column),this.addDestroyFunc(function(){var i;(i=e.cellMouseListenerFeature)===null||i===void 0||i.destroy(),e.cellMouseListenerFeature=null}),this.cellKeyboardListenerFeature=new pbe(this,this.beans,this.column,this.rowNode,this.rowCtrl),this.addDestroyFunc(function(){var i;(i=e.cellKeyboardListenerFeature)===null||i===void 0||i.destroy(),e.cellKeyboardListenerFeature=null}),this.column.isTooltipEnabled()&&(this.enableTooltipFeature(),this.addDestroyFunc(function(){e.disableTooltipFeature()}));var r=this.beans.rangeService&&this.beans.gridOptionsService.get("enableRangeSelection");r&&(this.cellRangeFeature=new nbe(this.beans,this),this.addDestroyFunc(function(){var i;(i=e.cellRangeFeature)===null||i===void 0||i.destroy(),e.cellRangeFeature=null}))},t.prototype.enableTooltipFeature=function(){var e=this,r=function(){var o=e.column.getColDef(),a=e.rowNode.data;if(o.tooltipField&&oe(a))return Jv(a,o.tooltipField,e.column.isTooltipFieldContainsDots());var s=o.tooltipValueGetter;return s?s(e.beans.gridOptionsService.addGridCommonParams({location:"cell",colDef:e.column.getColDef(),column:e.column,rowIndex:e.cellPosition.rowIndex,node:e.rowNode,data:e.rowNode.data,value:e.value,valueFormatted:e.valueFormatted})):null},i={getColumn:function(){return e.column},getColDef:function(){return e.column.getColDef()},getRowIndex:function(){return e.cellPosition.rowIndex},getRowNode:function(){return e.rowNode},getGui:function(){return e.getGui()},getLocation:function(){return"cell"},getTooltipValue:r,getValueFormatted:function(){return e.valueFormatted}};this.tooltipFeature=new ka(i,this.beans)},t.prototype.disableTooltipFeature=function(){this.tooltipFeature&&(this.tooltipFeature.destroy(),this.tooltipFeature=null)},t.prototype.setComp=function(e,r,i,o,a){var s,l,u,c;this.cellComp=e,this.eGui=r,this.printLayout=o,this.addDomData(),this.onCellFocused(this.focusEventToRestore),this.applyStaticCssClasses(),this.setWrapText(),this.onFirstRightPinnedChanged(),this.onLastLeftPinnedChanged(),this.onColumnHover(),this.setupControlComps(),this.setupAutoHeight(i),this.refreshFirstAndLastStyles(),this.refreshAriaColIndex(),(s=this.cellPositionFeature)===null||s===void 0||s.setComp(r),(l=this.cellCustomStyleFeature)===null||l===void 0||l.setComp(e),(u=this.tooltipFeature)===null||u===void 0||u.setComp(r),(c=this.cellKeyboardListenerFeature)===null||c===void 0||c.setComp(this.eGui),this.cellRangeFeature&&this.cellRangeFeature.setComp(e,r),a&&this.isCellEditable()?this.startEditing():this.showValue(),this.onCellCompAttachedFuncs.length&&(this.onCellCompAttachedFuncs.forEach(function(d){return d()}),this.onCellCompAttachedFuncs=[])},t.prototype.setupAutoHeight=function(e){var r=this;if(this.isAutoHeight=this.column.isAutoHeight(),!(!this.isAutoHeight||!e)){var i=e.parentElement,o=this.beans.gridOptionsService.getRowHeightForNode(this.rowNode).height,a=function(u){if(!r.editing&&r.isAlive()){var c=up(i),d=c.paddingTop,p=c.paddingBottom,h=c.borderBottomWidth,f=c.borderTopWidth,v=d+p+h+f,g=e.offsetHeight,y=g+v;if(u<5){var m=r.beans.gridOptionsService.getDocument(),C=!m||!m.contains(e),S=y==0;if(C||S){window.setTimeout(function(){return a(u+1)},0);return}}var w=Math.max(y,o);r.rowNode.setRowAutoHeight(w,r.column)}},s=function(){return a(0)};s();var l=this.beans.resizeObserverService.observeResize(e,s);this.addDestroyFunc(function(){l(),r.rowNode.setRowAutoHeight(void 0,r.column)})}},t.prototype.getCellAriaRole=function(){var e;return(e=this.column.getColDef().cellAriaRole)!==null&&e!==void 0?e:"gridcell"},t.prototype.getInstanceId=function(){return this.instanceId},t.prototype.getIncludeSelection=function(){return this.includeSelection},t.prototype.getIncludeRowDrag=function(){return this.includeRowDrag},t.prototype.getIncludeDndSource=function(){return this.includeDndSource},t.prototype.getColumnIdSanitised=function(){return this.colIdSanitised},t.prototype.getTabIndex=function(){return this.tabIndex},t.prototype.isCellRenderer=function(){var e=this.column.getColDef();return e.cellRenderer!=null||e.cellRendererSelector!=null},t.prototype.getValueToDisplay=function(){return this.valueFormatted!=null?this.valueFormatted:this.value},t.prototype.showValue=function(e){e===void 0&&(e=!1);var r=this.getValueToDisplay(),i;if(this.isCellRenderer()){var o=this.createCellRendererParams();i=this.beans.userComponentFactory.getCellRendererDetails(this.column.getColDef(),o)}this.cellComp.setRenderDetails(i,r,e),this.refreshHandle()},t.prototype.setupControlComps=function(){var e=this.column.getColDef();this.includeSelection=this.isIncludeControl(e.checkboxSelection),this.includeRowDrag=this.isIncludeControl(e.rowDrag),this.includeDndSource=this.isIncludeControl(e.dndSource),this.cellComp.setIncludeSelection(this.includeSelection),this.cellComp.setIncludeDndSource(this.includeDndSource),this.cellComp.setIncludeRowDrag(this.includeRowDrag)},t.prototype.isForceWrapper=function(){var e=this.beans.gridOptionsService.get("enableCellTextSelection")||this.column.isAutoHeight();return e},t.prototype.isIncludeControl=function(e){var r=this.rowNode.rowPinned!=null,i=typeof e=="function",o=r?!1:i||e===!0;return o},t.prototype.refreshShouldDestroy=function(){var e=this.column.getColDef(),r=this.includeSelection!=this.isIncludeControl(e.checkboxSelection),i=this.includeRowDrag!=this.isIncludeControl(e.rowDrag),o=this.includeDndSource!=this.isIncludeControl(e.dndSource);return r||i||o},t.prototype.startEditing=function(e,r,i){var o=this;if(e===void 0&&(e=null),r===void 0&&(r=!1),i===void 0&&(i=null),!(!this.isCellEditable()||this.editing)){if(!this.cellComp){this.onCellCompAttachedFuncs.push(function(){o.startEditing(e,r,i)});return}var a=this.createCellEditorParams(e,r),s=this.column.getColDef(),l=this.beans.userComponentFactory.getCellEditorDetails(s,a);this.editCompDetails=l;var u=(l==null?void 0:l.popupFromSelector)!=null?l.popupFromSelector:!!s.cellEditorPopup,c=(l==null?void 0:l.popupPositionFromSelector)!=null?l.popupPositionFromSelector:s.cellEditorPopupPosition;this.setEditing(!0),this.cellComp.setEditDetails(l,u,c,this.beans.gridOptionsService.get("reactiveCustomComponents"));var d=this.createEvent(i,T.EVENT_CELL_EDITING_STARTED);this.beans.eventService.dispatchEvent(d)}},t.prototype.setEditing=function(e){this.editing!==e&&(this.editing=e,this.refreshHandle())},t.prototype.stopRowOrCellEdit=function(e){e===void 0&&(e=!1),this.beans.gridOptionsService.get("editType")==="fullRow"?this.rowCtrl.stopEditing(e):this.stopEditing(e)},t.prototype.onPopupEditorClosed=function(){this.isEditing()&&this.stopEditingAndFocus()},t.prototype.takeValueFromCellEditor=function(e){var r={newValueExists:!1};if(e)return r;var i=this.cellComp.getCellEditor();if(!i)return r;var o=i.isCancelAfterEnd&&i.isCancelAfterEnd();if(o)return r;var a=i.getValue();return{newValue:a,newValueExists:!0}},t.prototype.saveNewValue=function(e,r){if(r===e)return!1;this.suppressRefreshCell=!0;var i=this.rowNode.setDataValue(this.column,r,"edit");return this.suppressRefreshCell=!1,i},t.prototype.stopEditing=function(e){if(e===void 0&&(e=!1),!this.editing)return!1;var r=this.takeValueFromCellEditor(e),i=r.newValue,o=r.newValueExists,a=this.rowNode.getValueFromValueService(this.column),s=!1;return o&&(s=this.saveNewValue(a,i)),this.setEditing(!1),this.cellComp.setEditDetails(),this.editCompDetails=void 0,this.updateAndFormatValue(!1),this.refreshCell({forceRefresh:!0,suppressFlash:!0}),this.dispatchEditingStoppedEvent(a,i,!e&&!!s),s},t.prototype.dispatchEditingStoppedEvent=function(e,r,i){var o=Gb(Gb({},this.createEvent(null,T.EVENT_CELL_EDITING_STOPPED)),{oldValue:e,newValue:r,valueChanged:i});this.beans.eventService.dispatchEvent(o)},t.prototype.createCellEditorParams=function(e,r){return this.beans.gridOptionsService.addGridCommonParams({value:this.rowNode.getValueFromValueService(this.column),eventKey:e,column:this.column,colDef:this.column.getColDef(),rowIndex:this.getCellPosition().rowIndex,node:this.rowNode,data:this.rowNode.data,cellStartedEdit:r,onKeyDown:this.onKeyDown.bind(this),stopEditing:this.stopEditingAndFocus.bind(this),eGridCell:this.getGui(),parseValue:this.parseValue.bind(this),formatValue:this.formatValue.bind(this)})},t.prototype.createCellRendererParams=function(){var e=this,r=this.beans.gridOptionsService.addGridCommonParams({value:this.value,valueFormatted:this.valueFormatted,getValue:function(){return e.rowNode.getValueFromValueService(e.column)},setValue:function(i){return e.beans.valueService.setValue(e.rowNode,e.column,i)},formatValue:this.formatValue.bind(this),data:this.rowNode.data,node:this.rowNode,pinned:this.column.getPinned(),colDef:this.column.getColDef(),column:this.column,rowIndex:this.getCellPosition().rowIndex,refreshCell:this.refreshCell.bind(this),eGridCell:this.getGui(),eParentOfValue:this.cellComp.getParentOfValue(),registerRowDragger:function(i,o,a,s){return e.registerRowDragger(i,o,s)}});return r},t.prototype.parseValue=function(e){return this.beans.valueParserService.parseValue(this.column,this.rowNode,e,this.getValue())},t.prototype.setFocusOutOnEditor=function(){if(this.editing){var e=this.cellComp.getCellEditor();e&&e.focusOut&&e.focusOut()}},t.prototype.setFocusInOnEditor=function(){if(this.editing){var e=this.cellComp.getCellEditor();e&&e.focusIn?e.focusIn():this.focusCell(!0)}},t.prototype.onCellChanged=function(e){var r=e.column===this.column;r&&this.refreshCell({})},t.prototype.refreshOrDestroyCell=function(e){var r;this.refreshShouldDestroy()?(r=this.rowCtrl)===null||r===void 0||r.refreshCell(this):this.refreshCell(e)},t.prototype.refreshCell=function(e){var r,i,o;if(!(this.suppressRefreshCell||this.editing)){var a=this.column.getColDef(),s=e!=null&&!!e.newData,l=e!=null&&!!e.suppressFlash||!!a.suppressCellFlash,u=a.field==null&&a.valueGetter==null&&a.showRowGroup==null,c=e&&e.forceRefresh||u||s,d=!!this.cellComp,p=this.updateAndFormatValue(d),h=c||p;if(d){if(h){this.showValue(s);var f=this.beans.filterManager.isSuppressFlashingCellsBecauseFiltering(),v=!l&&!f&&(this.beans.gridOptionsService.get("enableCellChangeFlash")||a.enableCellChangeFlash);v&&this.flashCell(),(r=this.cellCustomStyleFeature)===null||r===void 0||r.applyUserStyles(),(i=this.cellCustomStyleFeature)===null||i===void 0||i.applyClassesFromColDef()}this.refreshToolTip(),(o=this.cellCustomStyleFeature)===null||o===void 0||o.applyCellClassRules()}}},t.prototype.stopEditingAndFocus=function(e,r){e===void 0&&(e=!1),r===void 0&&(r=!1),this.stopRowOrCellEdit(),this.focusCell(!0),e||this.navigateAfterEdit(r)},t.prototype.navigateAfterEdit=function(e){var r=this.beans.gridOptionsService.get("enterNavigatesVerticallyAfterEdit");if(r){var i=e?U.UP:U.DOWN;this.beans.navigationService.navigateToNextCell(null,i,this.getCellPosition(),!1)}},t.prototype.flashCell=function(e){var r,i,o=(r=e==null?void 0:e.flashDuration)!==null&&r!==void 0?r:e==null?void 0:e.flashDelay,a=(i=e==null?void 0:e.fadeDuration)!==null&&i!==void 0?i:e==null?void 0:e.fadeDelay;this.animateCell("data-changed",o,a)},t.prototype.animateCell=function(e,r,i){var o=this;if(this.cellComp){var a="ag-cell-".concat(e),s="ag-cell-".concat(e,"-animation"),l=this.beans.gridOptionsService;r||(r=l.get("cellFlashDuration")),oe(i)||(i=l.get("cellFadeDuration")),this.cellComp.addOrRemoveCssClass(a,!0),this.cellComp.addOrRemoveCssClass(s,!1),this.beans.frameworkOverrides.wrapIncoming(function(){window.setTimeout(function(){o.isAlive()&&(o.cellComp.addOrRemoveCssClass(a,!1),o.cellComp.addOrRemoveCssClass(s,!0),o.eGui.style.transition="background-color ".concat(i,"ms"),window.setTimeout(function(){o.isAlive()&&(o.cellComp.addOrRemoveCssClass(s,!1),o.eGui.style.transition="")},i))},r)})}},t.prototype.onFlashCells=function(e){if(this.cellComp){var r=this.beans.cellPositionUtils.createId(this.getCellPosition()),i=e.cells[r];i&&this.animateCell("highlight")}},t.prototype.isCellEditable=function(){return this.column.isCellEditable(this.rowNode)},t.prototype.isSuppressFillHandle=function(){return this.column.isSuppressFillHandle()},t.prototype.formatValue=function(e){var r;return(r=this.callValueFormatter(e))!==null&&r!==void 0?r:e},t.prototype.callValueFormatter=function(e){return this.beans.valueFormatterService.formatValue(this.column,this.rowNode,e)},t.prototype.updateAndFormatValue=function(e){var r=this.value,i=this.valueFormatted;return this.value=this.rowNode.getValueFromValueService(this.column),this.valueFormatted=this.callValueFormatter(this.value),e?!this.valuesAreEqual(r,this.value)||this.valueFormatted!=i:!0},t.prototype.valuesAreEqual=function(e,r){var i=this.column.getColDef();return i.equals?i.equals(e,r):e===r},t.prototype.getComp=function(){return this.cellComp},t.prototype.getValue=function(){return this.value},t.prototype.getValueFormatted=function(){return this.valueFormatted},t.prototype.addDomData=function(){var e=this,r=this.getGui();this.beans.gridOptionsService.setDomData(r,t.DOM_DATA_KEY_CELL_CTRL,this),this.addDestroyFunc(function(){return e.beans.gridOptionsService.setDomData(r,t.DOM_DATA_KEY_CELL_CTRL,null)})},t.prototype.createEvent=function(e,r){var i=this.beans.gridOptionsService.addGridCommonParams({type:r,node:this.rowNode,data:this.rowNode.data,value:this.value,column:this.column,colDef:this.column.getColDef(),rowPinned:this.rowNode.rowPinned,event:e,rowIndex:this.rowNode.rowIndex});return i},t.prototype.processCharacter=function(e){var r;(r=this.cellKeyboardListenerFeature)===null||r===void 0||r.processCharacter(e)},t.prototype.onKeyDown=function(e){var r;(r=this.cellKeyboardListenerFeature)===null||r===void 0||r.onKeyDown(e)},t.prototype.onMouseEvent=function(e,r){var i;(i=this.cellMouseListenerFeature)===null||i===void 0||i.onMouseEvent(e,r)},t.prototype.getGui=function(){return this.eGui},t.prototype.refreshToolTip=function(){var e;(e=this.tooltipFeature)===null||e===void 0||e.refreshToolTip()},t.prototype.getColSpanningList=function(){return this.cellPositionFeature.getColSpanningList()},t.prototype.onLeftChanged=function(){var e;this.cellComp&&((e=this.cellPositionFeature)===null||e===void 0||e.onLeftChanged())},t.prototype.onDisplayedColumnsChanged=function(){this.eGui&&(this.refreshAriaColIndex(),this.refreshFirstAndLastStyles())},t.prototype.refreshFirstAndLastStyles=function(){var e=this,r=e.cellComp,i=e.column,o=e.beans;cp.refreshFirstAndLastStyles(r,i,o.columnModel)},t.prototype.refreshAriaColIndex=function(){var e=this.beans.columnModel.getAriaColumnIndex(this.column);Vk(this.getGui(),e)},t.prototype.isSuppressNavigable=function(){return this.column.isSuppressNavigable(this.rowNode)},t.prototype.onWidthChanged=function(){var e;return(e=this.cellPositionFeature)===null||e===void 0?void 0:e.onWidthChanged()},t.prototype.getColumn=function(){return this.column},t.prototype.getRowNode=function(){return this.rowNode},t.prototype.getBeans=function(){return this.beans},t.prototype.isPrintLayout=function(){return this.printLayout},t.prototype.appendChild=function(e){this.eGui.appendChild(e)},t.prototype.refreshHandle=function(){this.cellRangeFeature&&this.cellRangeFeature.refreshHandle()},t.prototype.getCellPosition=function(){return this.cellPosition},t.prototype.isEditing=function(){return this.editing},t.prototype.startRowOrCellEdit=function(e,r){var i=this;if(r===void 0&&(r=null),!this.cellComp){this.onCellCompAttachedFuncs.push(function(){i.startRowOrCellEdit(e,r)});return}this.beans.gridOptionsService.get("editType")==="fullRow"?this.rowCtrl.startRowEditing(e,this):this.startEditing(e,!0,r)},t.prototype.getRowCtrl=function(){return this.rowCtrl},t.prototype.getRowPosition=function(){return{rowIndex:this.cellPosition.rowIndex,rowPinned:this.cellPosition.rowPinned}},t.prototype.updateRangeBordersIfRangeCount=function(){this.cellComp&&this.cellRangeFeature&&this.cellRangeFeature.updateRangeBordersIfRangeCount()},t.prototype.onRangeSelectionChanged=function(){this.cellComp&&this.cellRangeFeature&&this.cellRangeFeature.onRangeSelectionChanged()},t.prototype.isRangeSelectionEnabled=function(){return this.cellRangeFeature!=null},t.prototype.focusCell=function(e){e===void 0&&(e=!1),this.beans.focusService.setFocusedCell({rowIndex:this.getCellPosition().rowIndex,column:this.column,rowPinned:this.rowNode.rowPinned,forceBrowserFocus:e})},t.prototype.onRowIndexChanged=function(){this.createCellPosition(),this.onCellFocused(),this.cellRangeFeature&&this.cellRangeFeature.onRangeSelectionChanged()},t.prototype.onFirstRightPinnedChanged=function(){if(this.cellComp){var e=this.column.isFirstRightPinned();this.cellComp.addOrRemoveCssClass(bbe,e)}},t.prototype.onLastLeftPinnedChanged=function(){if(this.cellComp){var e=this.column.isLastLeftPinned();this.cellComp.addOrRemoveCssClass(Obe,e)}},t.prototype.onCellFocused=function(e){if(!this.beans.gridOptionsService.get("suppressCellFocus")){var r=this.beans.focusService.isCellFocused(this.cellPosition);if(!this.cellComp){r&&(e!=null&&e.forceBrowserFocus)&&(this.focusEventToRestore=e);return}if(this.focusEventToRestore=void 0,this.cellComp.addOrRemoveCssClass(Ebe,r),r&&e&&e.forceBrowserFocus){var i=this.cellComp.getFocusableElement();i.focus({preventScroll:!!e.preventScrollOnBrowserFocus})}var o=this.beans.gridOptionsService.get("editType")==="fullRow";!r&&!o&&this.editing&&this.stopRowOrCellEdit(),r&&this.rowCtrl.announceDescription()}},t.prototype.createCellPosition=function(){this.cellPosition={rowIndex:this.rowNode.rowIndex,rowPinned:Kl(this.rowNode.rowPinned),column:this.column}},t.prototype.applyStaticCssClasses=function(){this.cellComp.addOrRemoveCssClass(wbe,!0),this.cellComp.addOrRemoveCssClass(Rbe,!0);var e=this.column.isAutoHeight()==!0;this.cellComp.addOrRemoveCssClass(_be,e),this.cellComp.addOrRemoveCssClass(xbe,!e)},t.prototype.onColumnHover=function(){if(this.cellComp&&this.beans.gridOptionsService.get("columnHoverHighlight")){var e=this.beans.columnHoverService.isHovered(this.column);this.cellComp.addOrRemoveCssClass(Tbe,e)}},t.prototype.onColDefChanged=function(){var e,r;if(this.cellComp){var i=this.column.isAutoHeight();i!==this.isAutoHeight&&((e=this.rowCtrl)===null||e===void 0||e.refreshCell(this));var o=this.column.isTooltipEnabled();if(o?(this.disableTooltipFeature(),this.enableTooltipFeature(),(r=this.tooltipFeature)===null||r===void 0||r.setComp(this.eGui)):this.disableTooltipFeature(),this.setWrapText(),!this.editing)this.refreshOrDestroyCell({forceRefresh:!0,suppressFlash:!0});else{var a=this.getCellEditor();if(a!=null&&a.refresh){var s=this.editCompDetails.params,l=s.eventKey,u=s.cellStartedEdit,c=this.createCellEditorParams(l,u),d=this.column.getColDef(),p=this.beans.userComponentFactory.getCellEditorDetails(d,c);a.refresh(p.params)}}}},t.prototype.setWrapText=function(){var e=this.column.getColDef().wrapText==!0;this.cellComp.addOrRemoveCssClass(Pbe,e)},t.prototype.dispatchCellContextMenuEvent=function(e){var r=this,i=this.column.getColDef(),o=this.createEvent(e,T.EVENT_CELL_CONTEXT_MENU);this.beans.eventService.dispatchEvent(o),i.onCellContextMenu&&window.setTimeout(function(){r.beans.frameworkOverrides.wrapOutgoing(function(){i.onCellContextMenu(o)})},0)},t.prototype.getCellRenderer=function(){return this.cellComp?this.cellComp.getCellRenderer():null},t.prototype.getCellEditor=function(){return this.cellComp?this.cellComp.getCellEditor():null},t.prototype.destroy=function(){this.onCellCompAttachedFuncs=[],n.prototype.destroy.call(this)},t.prototype.createSelectionCheckbox=function(){var e=new dG;return this.beans.context.createBean(e),e.init({rowNode:this.rowNode,column:this.column}),e},t.prototype.createDndSource=function(){var e=new vbe(this.rowNode,this.column,this.eGui);return this.beans.context.createBean(e),e},t.prototype.registerRowDragger=function(e,r,i){var o=this;if(this.customRowDragComp){this.customRowDragComp.setDragElement(e,r);return}var a=this.createRowDragComp(e,r,i);a&&(this.customRowDragComp=a,this.addDestroyFunc(function(){o.beans.context.destroyBean(a),o.customRowDragComp=null}))},t.prototype.createRowDragComp=function(e,r,i){var o=this,a=this.beans.gridOptionsService.get("pagination"),s=this.beans.gridOptionsService.get("rowDragManaged"),l=this.beans.gridOptionsService.isRowModelType("clientSide");if(s){if(!l){Ge("managed row dragging is only allowed in the Client Side Row Model");return}if(a){Ge("managed row dragging is not possible when doing pagination");return}}var u=new Ib(function(){return o.value},this.rowNode,this.column,e,r,i);return this.beans.context.createBean(u),u},t.DOM_DATA_KEY_CELL_CTRL="cellCtrl",t}(X),Dbe=function(){var n=function(t,e){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])},n(t,e)};return function(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");n(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}}(),Mbe=function(n){var t=typeof Symbol=="function"&&Symbol.iterator,e=t&&n[t],r=0;if(e)return e.call(n);if(n&&typeof n.length=="number")return{next:function(){return n&&r>=n.length&&(n=void 0),{value:n&&n[r++],done:!n}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")},jA=function(n,t){var e=typeof Symbol=="function"&&n[Symbol.iterator];if(!e)return n;var r=e.call(n),i,o=[],a;try{for(;(t===void 0||t-- >0)&&!(i=r.next()).done;)o.push(i.value)}catch(s){a={error:s}}finally{try{i&&!i.done&&(e=r.return)&&e.call(r)}finally{if(a)throw a.error}}return o},$A=function(n,t,e){if(e||arguments.length===2)for(var r=0,i=t.length,o;r<i;r++)(o||!(r in t))&&(o||(o=Array.prototype.slice.call(t,0,r)),o[r]=t[r]);return n.concat(o||Array.prototype.slice.call(t))},Ji;(function(n){n.Normal="Normal",n.FullWidth="FullWidth",n.FullWidthLoading="FullWidthLoading",n.FullWidthGroup="FullWidthGroup",n.FullWidthDetail="FullWidthDetail"})(Ji||(Ji={}));var Lbe=0,kd=function(n){Dbe(t,n);function t(e,r,i,o,a){var s=n.call(this)||this;return s.allRowGuis=[],s.active=!0,s.centerCellCtrls={list:[],map:{}},s.leftCellCtrls={list:[],map:{}},s.rightCellCtrls={list:[],map:{}},s.slideInAnimation={left:!1,center:!1,right:!1,fullWidth:!1},s.fadeInAnimation={left:!1,center:!1,right:!1,fullWidth:!1},s.rowDragComps=[],s.lastMouseDownOnDragger=!1,s.emptyStyle={},s.updateColumnListsPending=!1,s.rowId=null,s.businessKeySanitised=null,s.beans=r,s.gridOptionsService=r.gridOptionsService,s.rowNode=e,s.paginationPage=r.paginationProxy.getCurrentPage(),s.useAnimationFrameForCreate=o,s.printLayout=a,s.suppressRowTransform=s.gridOptionsService.get("suppressRowTransform"),s.instanceId=e.id+"-"+Lbe++,s.rowId=cn(e.id),s.initRowBusinessKey(),s.rowFocused=r.focusService.isRowFocused(s.rowNode.rowIndex,s.rowNode.rowPinned),s.rowLevel=r.rowCssClassCalculator.calculateRowLevel(s.rowNode),s.setRowType(),s.setAnimateFlags(i),s.rowStyles=s.processStylesFromGridOptions(),s.isFullWidth()&&!s.gridOptionsService.get("suppressCellFocus")&&(s.tabIndex=-1),s.addListeners(),s}return t.prototype.initRowBusinessKey=function(){this.businessKeyForNodeFunc=this.gridOptionsService.get("getBusinessKeyForNode"),this.updateRowBusinessKey()},t.prototype.updateRowBusinessKey=function(){if(typeof this.businessKeyForNodeFunc=="function"){var e=this.businessKeyForNodeFunc(this.rowNode);this.businessKeySanitised=cn(e)}},t.prototype.getRowId=function(){return this.rowId},t.prototype.getRowStyles=function(){return this.rowStyles},t.prototype.getTabIndex=function(){return this.tabIndex},t.prototype.isSticky=function(){return this.rowNode.sticky},t.prototype.getBeans=function(){return this.beans},t.prototype.getInstanceId=function(){return this.instanceId},t.prototype.setComp=function(e,r,i){var o={rowComp:e,element:r,containerType:i};this.allRowGuis.push(o),i===on.LEFT?this.leftGui=o:i===on.RIGHT?this.rightGui=o:i===on.FULL_WIDTH?this.fullWidthGui=o:this.centerGui=o,this.initialiseRowComp(o),this.rowType!=="FullWidthLoading"&&!this.rowNode.rowPinned&&this.beans.rowRenderer.dispatchFirstDataRenderedEvent()},t.prototype.unsetComp=function(e){switch(this.allRowGuis=this.allRowGuis.filter(function(r){return r.containerType!==e}),e){case on.LEFT:this.leftGui=void 0;break;case on.RIGHT:this.rightGui=void 0;break;case on.FULL_WIDTH:this.fullWidthGui=void 0;break;case on.CENTER:this.centerGui=void 0;break}},t.prototype.isCacheable=function(){return this.rowType===Ji.FullWidthDetail&&this.gridOptionsService.get("keepDetailRows")},t.prototype.setCached=function(e){var r=e?"none":"";this.allRowGuis.forEach(function(i){return i.element.style.display=r})},t.prototype.initialiseRowComp=function(e){var r=this,i=this.gridOptionsService;this.listenOnDomOrder(e),this.beans.columnModel.wasAutoRowHeightEverActive()&&this.rowNode.checkAutoHeights(),this.onRowHeightChanged(e),this.updateRowIndexes(e),this.setFocusedClasses(e),this.setStylesFromGridOptions(!1,e),i.isRowSelection()&&this.rowNode.selectable&&this.onRowSelected(e),this.updateColumnLists(!this.useAnimationFrameForCreate);var o=e.rowComp,a=this.getInitialRowClasses(e.containerType);a.forEach(function(s){return o.addOrRemoveCssClass(s,!0)}),this.executeSlideAndFadeAnimations(e),this.rowNode.group&&oc(e.element,this.rowNode.expanded==!0),this.setRowCompRowId(o),this.setRowCompRowBusinessKey(o),i.setDomData(e.element,t.DOM_DATA_KEY_ROW_CTRL,this),this.addDestroyFunc(function(){return i.setDomData(e.element,t.DOM_DATA_KEY_ROW_CTRL,null)}),this.useAnimationFrameForCreate?this.beans.animationFrameService.createTask(this.addHoverFunctionality.bind(this,e.element),this.rowNode.rowIndex,"createTasksP2"):this.addHoverFunctionality(e.element),this.isFullWidth()&&this.setupFullWidth(e),i.get("rowDragEntireRow")&&this.addRowDraggerToRow(e),this.useAnimationFrameForCreate&&this.beans.animationFrameService.addDestroyTask(function(){r.isAlive()&&e.rowComp.addOrRemoveCssClass("ag-after-created",!0)}),this.executeProcessRowPostCreateFunc()},t.prototype.setRowCompRowBusinessKey=function(e){this.businessKeySanitised!=null&&e.setRowBusinessKey(this.businessKeySanitised)},t.prototype.getBusinessKey=function(){return this.businessKeySanitised},t.prototype.setRowCompRowId=function(e){this.rowId=cn(this.rowNode.id),this.rowId!=null&&e.setRowId(this.rowId)},t.prototype.executeSlideAndFadeAnimations=function(e){var r=this,i=e.containerType,o=this.slideInAnimation[i];o&&(cF(function(){r.onTopChanged()}),this.slideInAnimation[i]=!1);var a=this.fadeInAnimation[i];a&&(cF(function(){e.rowComp.addOrRemoveCssClass("ag-opacity-zero",!1)}),this.fadeInAnimation[i]=!1)},t.prototype.addRowDraggerToRow=function(e){if(this.gridOptionsService.get("enableRangeSelection")){Ge("Setting `rowDragEntireRow: true` in the gridOptions doesn't work with `enableRangeSelection: true`");return}var r=this.beans.localeService.getLocaleTextFunc(),i=new Ib(function(){return"1 ".concat(r("rowDragRow","row"))},this.rowNode,void 0,e.element,void 0,!0),o=this.createBean(i,this.beans.context);this.rowDragComps.push(o)},t.prototype.setupFullWidth=function(e){var r=this.getPinnedForContainer(e.containerType),i=this.createFullWidthParams(e.element,r);if(!(this.rowType==Ji.FullWidthDetail&&!He.__assertRegistered(pe.MasterDetailModule,"cell renderer 'agDetailCellRenderer' (for master detail)",this.beans.context.getGridId()))){var o;switch(this.rowType){case Ji.FullWidthDetail:o=this.beans.userComponentFactory.getFullWidthDetailCellRendererDetails(i);break;case Ji.FullWidthGroup:o=this.beans.userComponentFactory.getFullWidthGroupCellRendererDetails(i);break;case Ji.FullWidthLoading:o=this.beans.userComponentFactory.getFullWidthLoadingCellRendererDetails(i);break;default:o=this.beans.userComponentFactory.getFullWidthCellRendererDetails(i);break}e.rowComp.showFullWidth(o)}},t.prototype.isPrintLayout=function(){return this.printLayout},t.prototype.getFullWidthCellRenderers=function(){var e,r;return this.gridOptionsService.get("embedFullWidthRows")?this.allRowGuis.map(function(i){var o;return(o=i==null?void 0:i.rowComp)===null||o===void 0?void 0:o.getFullWidthCellRenderer()}):[(r=(e=this.fullWidthGui)===null||e===void 0?void 0:e.rowComp)===null||r===void 0?void 0:r.getFullWidthCellRenderer()]},t.prototype.getCellElement=function(e){var r=this.getCellCtrl(e);return r?r.getGui():null},t.prototype.executeProcessRowPostCreateFunc=function(){var e=this.gridOptionsService.getCallback("processRowPostCreate");if(!(!e||!this.areAllContainersReady())){var r={eRow:this.centerGui.element,ePinnedLeftRow:this.leftGui?this.leftGui.element:void 0,ePinnedRightRow:this.rightGui?this.rightGui.element:void 0,node:this.rowNode,rowIndex:this.rowNode.rowIndex,addRenderedRowListener:this.addEventListener.bind(this)};e(r)}},t.prototype.areAllContainersReady=function(){var e=!!this.leftGui||!this.beans.columnModel.isPinningLeft(),r=!!this.centerGui,i=!!this.rightGui||!this.beans.columnModel.isPinningRight();return e&&r&&i},t.prototype.setRowType=function(){var e=this.rowNode.stub,r=this.rowNode.isFullWidthCell(),i=this.gridOptionsService.get("masterDetail")&&this.rowNode.detail,o=this.beans.columnModel.isPivotMode(),a=!!this.rowNode.group&&!this.rowNode.footer,s=a&&this.gridOptionsService.isGroupUseEntireRow(o);e?this.rowType=Ji.FullWidthLoading:i?this.rowType=Ji.FullWidthDetail:r?this.rowType=Ji.FullWidth:s?this.rowType=Ji.FullWidthGroup:this.rowType=Ji.Normal},t.prototype.updateColumnLists=function(e,r){var i=this;if(e===void 0&&(e=!1),r===void 0&&(r=!1),!this.isFullWidth()){var o=e||this.gridOptionsService.get("suppressAnimationFrame")||this.printLayout;if(o){this.updateColumnListsImpl(r);return}this.updateColumnListsPending||(this.beans.animationFrameService.createTask(function(){i.active&&i.updateColumnListsImpl(!0)},this.rowNode.rowIndex,"createTasksP1"),this.updateColumnListsPending=!0)}},t.prototype.createCellCtrls=function(e,r,i){var o=this;i===void 0&&(i=null);var a={list:[],map:{}},s=function(l,u){a.list.push(u),a.map[l]=u};return r.forEach(function(l){var u=l.getInstanceId(),c=e.map[u];c||(c=new ju(l,o.rowNode,o.beans,o)),s(u,c)}),e.list.forEach(function(l){var u=a.map[l.getColumn().getInstanceId()]!=null;if(!u){var c=!o.isCellEligibleToBeRemoved(l,i);if(c){s(l.getColumn().getInstanceId(),l);return}l.destroy()}}),a},t.prototype.updateColumnListsImpl=function(e){this.updateColumnListsPending=!1,this.createAllCellCtrls(),this.setCellCtrls(e)},t.prototype.setCellCtrls=function(e){var r=this;this.allRowGuis.forEach(function(i){var o=r.getCellCtrlsForContainer(i.containerType);i.rowComp.setCellCtrls(o,e)})},t.prototype.getCellCtrlsForContainer=function(e){switch(e){case on.LEFT:return this.leftCellCtrls.list;case on.RIGHT:return this.rightCellCtrls.list;case on.FULL_WIDTH:return[];case on.CENTER:return this.centerCellCtrls.list;default:var r=e;throw new Error("Unhandled case: ".concat(r))}},t.prototype.createAllCellCtrls=function(){var e=this.beans.columnModel;if(this.printLayout)this.centerCellCtrls=this.createCellCtrls(this.centerCellCtrls,e.getAllDisplayedColumns()),this.leftCellCtrls={list:[],map:{}},this.rightCellCtrls={list:[],map:{}};else{var r=e.getViewportCenterColumnsForRow(this.rowNode);this.centerCellCtrls=this.createCellCtrls(this.centerCellCtrls,r);var i=e.getDisplayedLeftColumnsForRow(this.rowNode);this.leftCellCtrls=this.createCellCtrls(this.leftCellCtrls,i,"left");var o=e.getDisplayedRightColumnsForRow(this.rowNode);this.rightCellCtrls=this.createCellCtrls(this.rightCellCtrls,o,"right")}},t.prototype.isCellEligibleToBeRemoved=function(e,r){var i=!0,o=!1,a=e.getColumn();if(a.getPinned()!=r)return i;var s=e.isEditing(),l=this.beans.focusService.isCellFocused(e.getCellPosition()),u=s||l;if(u){var c=e.getColumn(),d=this.beans.columnModel.getAllDisplayedColumns(),p=d.indexOf(c)>=0;return p?o:i}return i},t.prototype.getDomOrder=function(){var e=this.gridOptionsService.get("ensureDomOrder");return e||this.gridOptionsService.isDomLayout("print")},t.prototype.listenOnDomOrder=function(e){var r=this,i=function(){e.rowComp.setDomOrder(r.getDomOrder())};this.addManagedPropertyListener("domLayout",i),this.addManagedPropertyListener("ensureDomOrder",i)},t.prototype.setAnimateFlags=function(e){if(!(this.isSticky()||!e)){var r=oe(this.rowNode.oldRowTop),i=this.beans.columnModel.isPinningLeft(),o=this.beans.columnModel.isPinningRight();if(r){if(this.isFullWidth()&&!this.gridOptionsService.get("embedFullWidthRows")){this.slideInAnimation.fullWidth=!0;return}this.slideInAnimation.center=!0,this.slideInAnimation.left=i,this.slideInAnimation.right=o}else{if(this.isFullWidth()&&!this.gridOptionsService.get("embedFullWidthRows")){this.fadeInAnimation.fullWidth=!0;return}this.fadeInAnimation.center=!0,this.fadeInAnimation.left=i,this.fadeInAnimation.right=o}}},t.prototype.isEditing=function(){return this.editingRow},t.prototype.isFullWidth=function(){return this.rowType!==Ji.Normal},t.prototype.getRowType=function(){return this.rowType},t.prototype.refreshFullWidth=function(){var e=this,r=function(u,c){return u?u.rowComp.refreshFullWidth(function(){return e.createFullWidthParams(u.element,c)}):!0},i=r(this.fullWidthGui,null),o=r(this.centerGui,null),a=r(this.leftGui,"left"),s=r(this.rightGui,"right"),l=i&&o&&a&&s;return l},t.prototype.addListeners=function(){var e=this;this.addManagedListener(this.rowNode,Xe.EVENT_HEIGHT_CHANGED,function(){return e.onRowHeightChanged()}),this.addManagedListener(this.rowNode,Xe.EVENT_ROW_SELECTED,function(){return e.onRowSelected()}),this.addManagedListener(this.rowNode,Xe.EVENT_ROW_INDEX_CHANGED,this.onRowIndexChanged.bind(this)),this.addManagedListener(this.rowNode,Xe.EVENT_TOP_CHANGED,this.onTopChanged.bind(this)),this.addManagedListener(this.rowNode,Xe.EVENT_EXPANDED_CHANGED,this.updateExpandedCss.bind(this)),this.addManagedListener(this.rowNode,Xe.EVENT_HAS_CHILDREN_CHANGED,this.updateExpandedCss.bind(this)),this.rowNode.detail&&this.addManagedListener(this.rowNode.parent,Xe.EVENT_DATA_CHANGED,this.onRowNodeDataChanged.bind(this)),this.addManagedListener(this.rowNode,Xe.EVENT_DATA_CHANGED,this.onRowNodeDataChanged.bind(this)),this.addManagedListener(this.rowNode,Xe.EVENT_CELL_CHANGED,this.postProcessCss.bind(this)),this.addManagedListener(this.rowNode,Xe.EVENT_HIGHLIGHT_CHANGED,this.onRowNodeHighlightChanged.bind(this)),this.addManagedListener(this.rowNode,Xe.EVENT_DRAGGING_CHANGED,this.postProcessRowDragging.bind(this)),this.addManagedListener(this.rowNode,Xe.EVENT_UI_LEVEL_CHANGED,this.onUiLevelChanged.bind(this));var r=this.beans.eventService;this.addManagedListener(r,T.EVENT_PAGINATION_PIXEL_OFFSET_CHANGED,this.onPaginationPixelOffsetChanged.bind(this)),this.addManagedListener(r,T.EVENT_HEIGHT_SCALE_CHANGED,this.onTopChanged.bind(this)),this.addManagedListener(r,T.EVENT_DISPLAYED_COLUMNS_CHANGED,this.onDisplayedColumnsChanged.bind(this)),this.addManagedListener(r,T.EVENT_VIRTUAL_COLUMNS_CHANGED,this.onVirtualColumnsChanged.bind(this)),this.addManagedListener(r,T.EVENT_CELL_FOCUSED,this.onCellFocusChanged.bind(this)),this.addManagedListener(r,T.EVENT_CELL_FOCUS_CLEARED,this.onCellFocusChanged.bind(this)),this.addManagedListener(r,T.EVENT_PAGINATION_CHANGED,this.onPaginationChanged.bind(this)),this.addManagedListener(r,T.EVENT_MODEL_UPDATED,this.refreshFirstAndLastRowStyles.bind(this)),this.addManagedListener(r,T.EVENT_COLUMN_MOVED,this.updateColumnLists.bind(this)),this.addDestroyFunc(function(){e.destroyBeans(e.rowDragComps,e.beans.context)}),this.addManagedPropertyListeners(["rowDragEntireRow"],function(){var i=e.gridOptionsService.get("rowDragEntireRow");if(i){e.allRowGuis.forEach(function(o){e.addRowDraggerToRow(o)});return}e.destroyBeans(e.rowDragComps,e.beans.context),e.rowDragComps=[]}),this.addListenersForCellComps()},t.prototype.addListenersForCellComps=function(){var e=this;this.addManagedListener(this.rowNode,Xe.EVENT_ROW_INDEX_CHANGED,function(){e.getAllCellCtrls().forEach(function(r){return r.onRowIndexChanged()})}),this.addManagedListener(this.rowNode,Xe.EVENT_CELL_CHANGED,function(r){e.getAllCellCtrls().forEach(function(i){return i.onCellChanged(r)})})},t.prototype.onRowNodeDataChanged=function(e){var r=this,i=this.isFullWidth()!==!!this.rowNode.isFullWidthCell();if(i){this.beans.rowRenderer.redrawRow(this.rowNode);return}if(this.isFullWidth()){var o=this.refreshFullWidth();o||this.beans.rowRenderer.redrawRow(this.rowNode);return}this.getAllCellCtrls().forEach(function(a){return a.refreshCell({suppressFlash:!e.update,newData:!e.update})}),this.allRowGuis.forEach(function(a){r.setRowCompRowId(a.rowComp),r.updateRowBusinessKey(),r.setRowCompRowBusinessKey(a.rowComp)}),this.onRowSelected(),this.postProcessCss()},t.prototype.postProcessCss=function(){this.setStylesFromGridOptions(!0),this.postProcessClassesFromGridOptions(),this.postProcessRowClassRules(),this.postProcessRowDragging()},t.prototype.onRowNodeHighlightChanged=function(){var e=this.rowNode.highlighted;this.allRowGuis.forEach(function(r){var i=e===Xl.Above,o=e===Xl.Below;r.rowComp.addOrRemoveCssClass("ag-row-highlight-above",i),r.rowComp.addOrRemoveCssClass("ag-row-highlight-below",o)})},t.prototype.postProcessRowDragging=function(){var e=this.rowNode.dragging;this.allRowGuis.forEach(function(r){return r.rowComp.addOrRemoveCssClass("ag-row-dragging",e)})},t.prototype.updateExpandedCss=function(){var e=this.rowNode.isExpandable(),r=this.rowNode.expanded==!0;this.allRowGuis.forEach(function(i){i.rowComp.addOrRemoveCssClass("ag-row-group",e),i.rowComp.addOrRemoveCssClass("ag-row-group-expanded",e&&r),i.rowComp.addOrRemoveCssClass("ag-row-group-contracted",e&&!r),oc(i.element,e&&r)})},t.prototype.onDisplayedColumnsChanged=function(){this.updateColumnLists(!0),this.beans.columnModel.wasAutoRowHeightEverActive()&&this.rowNode.checkAutoHeights()},t.prototype.onVirtualColumnsChanged=function(){this.updateColumnLists(!1,!0)},t.prototype.getRowPosition=function(){return{rowPinned:Kl(this.rowNode.rowPinned),rowIndex:this.rowNode.rowIndex}},t.prototype.onKeyboardNavigate=function(e){var r=this.allRowGuis.find(function(u){return u.element.contains(e.target)}),i=r?r.element:null,o=i===e.target;if(o){var a=this.rowNode,s=this.beans.focusService.getFocusedCell(),l={rowIndex:a.rowIndex,rowPinned:a.rowPinned,column:s&&s.column};this.beans.navigationService.navigateToNextCell(e,e.key,l,!0),e.preventDefault()}},t.prototype.onTabKeyDown=function(e){if(!(e.defaultPrevented||Fs(e))){var r=this.allRowGuis.find(function(s){return s.element.contains(e.target)}),i=r?r.element:null,o=i===e.target,a=null;o||(a=this.beans.focusService.findNextFocusableElement(i,!1,e.shiftKey)),(this.isFullWidth()&&o||!a)&&this.beans.navigationService.onTabKeyDown(this,e)}},t.prototype.onFullWidthRowFocused=function(e){var r,i=this.rowNode,o=e?this.isFullWidth()&&e.rowIndex===i.rowIndex&&e.rowPinned==i.rowPinned:!1,a=this.fullWidthGui?this.fullWidthGui.element:(r=this.centerGui)===null||r===void 0?void 0:r.element;a&&(a.classList.toggle("ag-full-width-focus",o),o&&a.focus({preventScroll:!0}))},t.prototype.refreshCell=function(e){this.centerCellCtrls=this.removeCellCtrl(this.centerCellCtrls,e),this.leftCellCtrls=this.removeCellCtrl(this.leftCellCtrls,e),this.rightCellCtrls=this.removeCellCtrl(this.rightCellCtrls,e),this.updateColumnLists()},t.prototype.removeCellCtrl=function(e,r){var i={list:[],map:{}};return e.list.forEach(function(o){o!==r&&(i.list.push(o),i.map[o.getInstanceId()]=o)}),i},t.prototype.onMouseEvent=function(e,r){switch(e){case"dblclick":this.onRowDblClick(r);break;case"click":this.onRowClick(r);break;case"touchstart":case"mousedown":this.onRowMouseDown(r);break}},t.prototype.createRowEvent=function(e,r){return this.gridOptionsService.addGridCommonParams({type:e,node:this.rowNode,data:this.rowNode.data,rowIndex:this.rowNode.rowIndex,rowPinned:this.rowNode.rowPinned,event:r})},t.prototype.createRowEventWithSource=function(e,r){var i=this.createRowEvent(e,r);return i.source=this,i},t.prototype.onRowDblClick=function(e){if(!Fs(e)){var r=this.createRowEventWithSource(T.EVENT_ROW_DOUBLE_CLICKED,e);this.beans.eventService.dispatchEvent(r)}},t.prototype.onRowMouseDown=function(e){if(this.lastMouseDownOnDragger=Ih(e.target,"ag-row-drag",3),!!this.isFullWidth()){var r=this.rowNode,i=this.beans.columnModel;this.beans.rangeService&&this.beans.rangeService.removeAllCellRanges(),this.beans.focusService.setFocusedCell({rowIndex:r.rowIndex,column:i.getAllDisplayedColumns()[0],rowPinned:r.rowPinned,forceBrowserFocus:!0})}},t.prototype.onRowClick=function(e){var r=Fs(e)||this.lastMouseDownOnDragger;if(!r){var i=this.createRowEventWithSource(T.EVENT_ROW_CLICKED,e);this.beans.eventService.dispatchEvent(i);var o=e.ctrlKey||e.metaKey,a=e.shiftKey,s=this.gridOptionsService.get("groupSelectsChildren");if(!(s&&this.rowNode.group||this.isRowSelectionBlocked()||this.gridOptionsService.get("suppressRowClickSelection"))){var l=this.gridOptionsService.get("rowMultiSelectWithClick"),u=!this.gridOptionsService.get("suppressRowDeselection"),c="rowClicked";if(this.rowNode.isSelected())l?this.rowNode.setSelectedParams({newValue:!1,event:e,source:c}):o?u&&this.rowNode.setSelectedParams({newValue:!1,event:e,source:c}):this.rowNode.setSelectedParams({newValue:!0,clearSelection:!a,rangeSelect:a,event:e,source:c});else{var d=l?!1:!o;this.rowNode.setSelectedParams({newValue:!0,clearSelection:d,rangeSelect:a,event:e,source:c})}}}},t.prototype.isRowSelectionBlocked=function(){return!this.rowNode.selectable||!!this.rowNode.rowPinned||!this.gridOptionsService.isRowSelection()},t.prototype.setupDetailRowAutoHeight=function(e){var r=this;if(this.rowType===Ji.FullWidthDetail&&this.gridOptionsService.get("detailRowAutoHeight")){var i=function(){var a=e.clientHeight;if(a!=null&&a>0){var s=function(){r.rowNode.setRowHeight(a),r.beans.clientSideRowModel?r.beans.clientSideRowModel.onRowHeightChanged():r.beans.serverSideRowModel&&r.beans.serverSideRowModel.onRowHeightChanged()};window.setTimeout(s,0)}},o=this.beans.resizeObserverService.observeResize(e,i);this.addDestroyFunc(o),i()}},t.prototype.createFullWidthParams=function(e,r){var i=this,o=this.gridOptionsService.addGridCommonParams({fullWidth:!0,data:this.rowNode.data,node:this.rowNode,value:this.rowNode.key,valueFormatted:this.rowNode.key,rowIndex:this.rowNode.rowIndex,eGridCell:e,eParentOfValue:e,pinned:r,addRenderedRowListener:this.addEventListener.bind(this),registerRowDragger:function(a,s,l,u){return i.addFullWidthRowDragging(a,s,l,u)}});return o},t.prototype.addFullWidthRowDragging=function(e,r,i,o){if(i===void 0&&(i=""),!!this.isFullWidth()){var a=new Ib(function(){return i},this.rowNode,void 0,e,r,o);this.createManagedBean(a,this.beans.context)}},t.prototype.onUiLevelChanged=function(){var e=this.beans.rowCssClassCalculator.calculateRowLevel(this.rowNode);if(this.rowLevel!=e){var r="ag-row-level-"+e,i="ag-row-level-"+this.rowLevel;this.allRowGuis.forEach(function(o){o.rowComp.addOrRemoveCssClass(r,!0),o.rowComp.addOrRemoveCssClass(i,!1)})}this.rowLevel=e},t.prototype.isFirstRowOnPage=function(){return this.rowNode.rowIndex===this.beans.paginationProxy.getPageFirstRow()},t.prototype.isLastRowOnPage=function(){return this.rowNode.rowIndex===this.beans.paginationProxy.getPageLastRow()},t.prototype.refreshFirstAndLastRowStyles=function(){var e=this.isFirstRowOnPage(),r=this.isLastRowOnPage();this.firstRowOnPage!==e&&(this.firstRowOnPage=e,this.allRowGuis.forEach(function(i){return i.rowComp.addOrRemoveCssClass("ag-row-first",e)})),this.lastRowOnPage!==r&&(this.lastRowOnPage=r,this.allRowGuis.forEach(function(i){return i.rowComp.addOrRemoveCssClass("ag-row-last",r)}))},t.prototype.stopEditing=function(e){var r,i;if(e===void 0&&(e=!1),!this.stoppingRowEdit){var o=this.getAllCellCtrls(),a=this.editingRow;this.stoppingRowEdit=!0;var s=!1;try{for(var l=Mbe(o),u=l.next();!u.done;u=l.next()){var c=u.value,d=c.stopEditing(e);a&&!e&&!s&&d&&(s=!0)}}catch(h){r={error:h}}finally{try{u&&!u.done&&(i=l.return)&&i.call(l)}finally{if(r)throw r.error}}if(s){var p=this.createRowEvent(T.EVENT_ROW_VALUE_CHANGED);this.beans.eventService.dispatchEvent(p)}a&&this.setEditingRow(!1),this.stoppingRowEdit=!1}},t.prototype.setInlineEditingCss=function(e){this.allRowGuis.forEach(function(r){r.rowComp.addOrRemoveCssClass("ag-row-inline-editing",e),r.rowComp.addOrRemoveCssClass("ag-row-not-inline-editing",!e)})},t.prototype.setEditingRow=function(e){this.editingRow=e,this.allRowGuis.forEach(function(i){return i.rowComp.addOrRemoveCssClass("ag-row-editing",e)});var r=e?this.createRowEvent(T.EVENT_ROW_EDITING_STARTED):this.createRowEvent(T.EVENT_ROW_EDITING_STOPPED);this.beans.eventService.dispatchEvent(r)},t.prototype.startRowEditing=function(e,r,i){if(e===void 0&&(e=null),r===void 0&&(r=null),i===void 0&&(i=null),!this.editingRow){var o=this.getAllCellCtrls().reduce(function(a,s){var l=s===r;return l?s.startEditing(e,l,i):s.startEditing(null,l,i),a?!0:s.isEditing()},!1);o&&this.setEditingRow(!0)}},t.prototype.getAllCellCtrls=function(){if(this.leftCellCtrls.list.length===0&&this.rightCellCtrls.list.length===0)return this.centerCellCtrls.list;var e=$A($A($A([],jA(this.centerCellCtrls.list),!1),jA(this.leftCellCtrls.list),!1),jA(this.rightCellCtrls.list),!1);return e},t.prototype.postProcessClassesFromGridOptions=function(){var e=this,r=this.beans.rowCssClassCalculator.processClassesFromGridOptions(this.rowNode);!r||!r.length||r.forEach(function(i){e.allRowGuis.forEach(function(o){return o.rowComp.addOrRemoveCssClass(i,!0)})})},t.prototype.postProcessRowClassRules=function(){var e=this;this.beans.rowCssClassCalculator.processRowClassRules(this.rowNode,function(r){e.allRowGuis.forEach(function(i){return i.rowComp.addOrRemoveCssClass(r,!0)})},function(r){e.allRowGuis.forEach(function(i){return i.rowComp.addOrRemoveCssClass(r,!1)})})},t.prototype.setStylesFromGridOptions=function(e,r){var i=this;e&&(this.rowStyles=this.processStylesFromGridOptions()),this.forEachGui(r,function(o){return o.rowComp.setUserStyles(i.rowStyles)})},t.prototype.getPinnedForContainer=function(e){var r=e===on.LEFT?"left":e===on.RIGHT?"right":null;return r},t.prototype.getInitialRowClasses=function(e){var r=this.getPinnedForContainer(e),i={rowNode:this.rowNode,rowFocused:this.rowFocused,fadeRowIn:this.fadeInAnimation[e],rowIsEven:this.rowNode.rowIndex%2===0,rowLevel:this.rowLevel,fullWidthRow:this.isFullWidth(),firstRowOnPage:this.isFirstRowOnPage(),lastRowOnPage:this.isLastRowOnPage(),printLayout:this.printLayout,expandable:this.rowNode.isExpandable(),pinned:r};return this.beans.rowCssClassCalculator.getInitialRowClasses(i)},t.prototype.processStylesFromGridOptions=function(){var e=this.gridOptionsService.get("rowStyle");if(e&&typeof e=="function"){console.warn("AG Grid: rowStyle should be an object of key/value styles, not be a function, use getRowStyle() instead");return}var r=this.gridOptionsService.getCallback("getRowStyle"),i;if(r){var o={data:this.rowNode.data,node:this.rowNode,rowIndex:this.rowNode.rowIndex};i=r(o)}return i||e?Object.assign({},e,i):this.emptyStyle},t.prototype.onRowSelected=function(e){var r=this,i=this.beans.gridOptionsService.getDocument(),o=!!this.rowNode.isSelected();this.forEachGui(e,function(a){a.rowComp.addOrRemoveCssClass("ag-row-selected",o),Dg(a.element,o);var s=a.element.contains(i.activeElement);s&&(a===r.centerGui||a===r.fullWidthGui)&&r.announceDescription()})},t.prototype.announceDescription=function(){if(!this.isRowSelectionBlocked()){var e=this.rowNode.isSelected();if(!(e&&this.beans.gridOptionsService.get("suppressRowDeselection"))){var r=this.beans.localeService.getLocaleTextFunc(),i=r(e?"ariaRowDeselect":"ariaRowSelect","Press SPACE to ".concat(e?"deselect":"select"," this row."));this.beans.ariaAnnouncementService.announceValue(i)}}},t.prototype.isUseAnimationFrameForCreate=function(){return this.useAnimationFrameForCreate},t.prototype.addHoverFunctionality=function(e){var r=this;this.active&&(this.addManagedListener(e,"mouseenter",function(){return r.rowNode.onMouseEnter()}),this.addManagedListener(e,"mouseleave",function(){return r.rowNode.onMouseLeave()}),this.addManagedListener(this.rowNode,Xe.EVENT_MOUSE_ENTER,function(){!r.beans.dragService.isDragging()&&!r.gridOptionsService.get("suppressRowHoverHighlight")&&(e.classList.add("ag-row-hover"),r.rowNode.setHovered(!0))}),this.addManagedListener(this.rowNode,Xe.EVENT_MOUSE_LEAVE,function(){e.classList.remove("ag-row-hover"),r.rowNode.setHovered(!1)}))},t.prototype.roundRowTopToBounds=function(e){var r=this.beans.ctrlsService.getGridBodyCtrl().getScrollFeature().getApproximateVScollPosition(),i=this.applyPaginationOffset(r.top,!0)-100,o=this.applyPaginationOffset(r.bottom,!0)+100;return Math.min(Math.max(i,e),o)},t.prototype.getFrameworkOverrides=function(){return this.beans.frameworkOverrides},t.prototype.forEachGui=function(e,r){e?r(e):this.allRowGuis.forEach(r)},t.prototype.onRowHeightChanged=function(e){if(this.rowNode.rowHeight!=null){var r=this.rowNode.rowHeight,i=this.beans.environment.getDefaultRowHeight(),o=this.gridOptionsService.isGetRowHeightFunction(),a=o?this.gridOptionsService.getRowHeightForNode(this.rowNode).height:void 0,s=a?"".concat(Math.min(i,a)-2,"px"):void 0;this.forEachGui(e,function(l){l.element.style.height="".concat(r,"px"),s&&l.element.style.setProperty("--ag-line-height",s)})}},t.prototype.addEventListener=function(e,r){n.prototype.addEventListener.call(this,e,r)},t.prototype.removeEventListener=function(e,r){n.prototype.removeEventListener.call(this,e,r)},t.prototype.destroyFirstPass=function(e){if(e===void 0&&(e=!1),this.active=!1,!e&&this.gridOptionsService.isAnimateRows()&&!this.isSticky()){var r=this.rowNode.rowTop!=null;if(r){var i=this.roundRowTopToBounds(this.rowNode.rowTop);this.setRowTop(i)}else this.allRowGuis.forEach(function(a){return a.rowComp.addOrRemoveCssClass("ag-opacity-zero",!0)})}this.rowNode.setHovered(!1);var o=this.createRowEvent(T.EVENT_VIRTUAL_ROW_REMOVED);this.dispatchEvent(o),this.beans.eventService.dispatchEvent(o),n.prototype.destroy.call(this)},t.prototype.destroySecondPass=function(){this.allRowGuis.length=0,this.stopEditing();var e=function(r){return r.list.forEach(function(i){return i.destroy()}),{list:[],map:{}}};this.centerCellCtrls=e(this.centerCellCtrls),this.leftCellCtrls=e(this.leftCellCtrls),this.rightCellCtrls=e(this.rightCellCtrls)},t.prototype.setFocusedClasses=function(e){var r=this;this.forEachGui(e,function(i){i.rowComp.addOrRemoveCssClass("ag-row-focus",r.rowFocused),i.rowComp.addOrRemoveCssClass("ag-row-no-focus",!r.rowFocused)})},t.prototype.onCellFocusChanged=function(){var e=this.beans.focusService.isRowFocused(this.rowNode.rowIndex,this.rowNode.rowPinned);e!==this.rowFocused&&(this.rowFocused=e,this.setFocusedClasses()),!e&&this.editingRow&&this.stopEditing(!1)},t.prototype.onPaginationChanged=function(){var e=this.beans.paginationProxy.getCurrentPage();this.paginationPage!==e&&(this.paginationPage=e,this.onTopChanged()),this.refreshFirstAndLastRowStyles()},t.prototype.onTopChanged=function(){this.setRowTop(this.rowNode.rowTop)},t.prototype.onPaginationPixelOffsetChanged=function(){this.onTopChanged()},t.prototype.applyPaginationOffset=function(e,r){if(r===void 0&&(r=!1),this.rowNode.isRowPinned()||this.rowNode.sticky)return e;var i=this.beans.paginationProxy.getPixelOffset(),o=r?1:-1;return e+i*o},t.prototype.setRowTop=function(e){if(!this.printLayout&&oe(e)){var r=this.applyPaginationOffset(e),i=this.rowNode.isRowPinned()||this.rowNode.sticky,o=i?r:this.beans.rowContainerHeightService.getRealPixelPosition(r),a="".concat(o,"px");this.setRowTopStyle(a)}},t.prototype.getInitialRowTop=function(e){return this.suppressRowTransform?this.getInitialRowTopShared(e):void 0},t.prototype.getInitialTransform=function(e){return this.suppressRowTransform?void 0:"translateY(".concat(this.getInitialRowTopShared(e),")")},t.prototype.getInitialRowTopShared=function(e){if(this.printLayout)return"";var r;if(this.isSticky())r=this.rowNode.stickyRowTop;else{var i=this.slideInAnimation[e]?this.roundRowTopToBounds(this.rowNode.oldRowTop):this.rowNode.rowTop,o=this.applyPaginationOffset(i);r=this.rowNode.isRowPinned()?o:this.beans.rowContainerHeightService.getRealPixelPosition(o)}return r+"px"},t.prototype.setRowTopStyle=function(e){var r=this;this.allRowGuis.forEach(function(i){return r.suppressRowTransform?i.rowComp.setTop(e):i.rowComp.setTransform("translateY(".concat(e,")"))})},t.prototype.getRowNode=function(){return this.rowNode},t.prototype.getCellCtrl=function(e){var r=null;return this.getAllCellCtrls().forEach(function(i){i.getColumn()==e&&(r=i)}),r!=null||this.getAllCellCtrls().forEach(function(i){i.getColSpanningList().indexOf(e)>=0&&(r=i)}),r},t.prototype.onRowIndexChanged=function(){this.rowNode.rowIndex!=null&&(this.onCellFocusChanged(),this.updateRowIndexes(),this.postProcessCss())},t.prototype.getRowIndex=function(){return this.rowNode.getRowIndexString()},t.prototype.updateRowIndexes=function(e){var r=this.rowNode.getRowIndexString(),i=this.beans.headerNavigationService.getHeaderRowCount()+this.beans.filterManager.getHeaderRowCount(),o=this.rowNode.rowIndex%2===0,a=i+this.rowNode.rowIndex+1;this.forEachGui(e,function(s){s.rowComp.setRowIndex(r),s.rowComp.addOrRemoveCssClass("ag-row-even",o),s.rowComp.addOrRemoveCssClass("ag-row-odd",!o),Gk(s.element,a)})},t.DOM_DATA_KEY_ROW_CTRL="renderedRow",t}(X),Fbe=function(){var n=function(t,e){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])},n(t,e)};return function(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");n(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}}(),Mo=function(n,t,e,r){var i=arguments.length,o=i<3?t:r===null?r=Object.getOwnPropertyDescriptor(t,e):r,a;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(n,t,e,r);else for(var s=n.length-1;s>=0;s--)(a=n[s])&&(o=(i<3?a(o):i>3?a(t,e,o):a(t,e))||o);return i>3&&o&&Object.defineProperty(t,e,o),o},Ibe=function(n,t){var e=typeof Symbol=="function"&&n[Symbol.iterator];if(!e)return n;var r=e.call(n),i,o=[],a;try{for(;(t===void 0||t-- >0)&&!(i=r.next()).done;)o.push(i.value)}catch(s){a={error:s}}finally{try{i&&!i.done&&(e=r.return)&&e.call(r)}finally{if(a)throw a.error}}return o},Nbe=function(n){Fbe(t,n);function t(e){var r=n.call(this)||this;return r.element=e,r}return t.prototype.postConstruct=function(){this.addKeyboardListeners(),this.addMouseListeners(),this.mockContextMenuForIPad()},t.prototype.addKeyboardListeners=function(){var e="keydown",r=this.processKeyboardEvent.bind(this,e);this.addManagedListener(this.element,e,r)},t.prototype.addMouseListeners=function(){var e=this,r=Pk("touchstart")?"touchstart":"mousedown",i=["dblclick","contextmenu","mouseover","mouseout","click",r];i.forEach(function(o){var a=e.processMouseEvent.bind(e,o);e.addManagedListener(e.element,o,a)})},t.prototype.processMouseEvent=function(e,r){if(!(!this.mouseEventService.isEventFromThisGrid(r)||Fs(r))){var i=this.getRowForEvent(r),o=this.mouseEventService.getRenderedCellForEvent(r);e==="contextmenu"?this.handleContextMenuMouseEvent(r,void 0,i,o):(o&&o.onMouseEvent(e,r),i&&i.onMouseEvent(e,r))}},t.prototype.mockContextMenuForIPad=function(){var e=this;if(yc()){var r=new qr(this.element),i=function(o){var a=e.getRowForEvent(o.touchEvent),s=e.mouseEventService.getRenderedCellForEvent(o.touchEvent);e.handleContextMenuMouseEvent(void 0,o.touchEvent,a,s)};this.addManagedListener(r,qr.EVENT_LONG_TAP,i),this.addDestroyFunc(function(){return r.destroy()})}},t.prototype.getRowForEvent=function(e){for(var r=e.target;r;){var i=this.gridOptionsService.getDomData(r,kd.DOM_DATA_KEY_ROW_CTRL);if(i)return i;r=r.parentElement}return null},t.prototype.handleContextMenuMouseEvent=function(e,r,i,o){var a=i?i.getRowNode():null,s=o?o.getColumn():null,l=null;if(s){var u=e||r;o.dispatchCellContextMenuEvent(u??null),l=this.valueService.getValue(s,a)}var c=this.ctrlsService.getGridBodyCtrl(),d=o?o.getGui():c.getGridBodyElement();this.menuService.showContextMenu({mouseEvent:e,touchEvent:r,rowNode:a,column:s,value:l,anchorToElement:d})},t.prototype.getControlsForEventTarget=function(e){return{cellCtrl:Tb(this.gridOptionsService,e,ju.DOM_DATA_KEY_CELL_CTRL),rowCtrl:Tb(this.gridOptionsService,e,kd.DOM_DATA_KEY_ROW_CTRL)}},t.prototype.processKeyboardEvent=function(e,r){var i=this.getControlsForEventTarget(r.target),o=i.cellCtrl,a=i.rowCtrl;r.defaultPrevented||(o?this.processCellKeyboardEvent(o,e,r):a&&a.isFullWidth()&&this.processFullWidthRowKeyboardEvent(a,e,r))},t.prototype.processCellKeyboardEvent=function(e,r,i){var o=e.getRowNode(),a=e.getColumn(),s=e.isEditing(),l=!Mb(this.gridOptionsService,i,o,a,s);if(l&&r==="keydown"){var u=!s&&this.navigationService.handlePageScrollingKey(i);u||e.onKeyDown(i),this.doGridOperations(i,e.isEditing()),gT(i)&&e.processCharacter(i)}if(r==="keydown"){var c=e.createEvent(i,T.EVENT_CELL_KEY_DOWN);this.eventService.dispatchEvent(c)}},t.prototype.processFullWidthRowKeyboardEvent=function(e,r,i){var o=e.getRowNode(),a=this.focusService.getFocusedCell(),s=a&&a.column,l=!Mb(this.gridOptionsService,i,o,s,!1);if(l){var u=i.key;if(r==="keydown")switch(u){case U.PAGE_HOME:case U.PAGE_END:case U.PAGE_UP:case U.PAGE_DOWN:this.navigationService.handlePageScrollingKey(i,!0);break;case U.UP:case U.DOWN:e.onKeyboardNavigate(i);break;case U.TAB:e.onTabKeyDown(i);break}}if(r==="keydown"){var c=e.createRowEvent(T.EVENT_CELL_KEY_DOWN,i);this.eventService.dispatchEvent(c)}},t.prototype.doGridOperations=function(e,r){if(!(!e.ctrlKey&&!e.metaKey)&&!r&&this.mouseEventService.isEventFromThisGrid(e)){var i=vY(e);if(i===U.A)return this.onCtrlAndA(e);if(i===U.C)return this.onCtrlAndC(e);if(i===U.D)return this.onCtrlAndD(e);if(i===U.V)return this.onCtrlAndV(e);if(i===U.X)return this.onCtrlAndX(e);if(i===U.Y)return this.onCtrlAndY();if(i===U.Z)return this.onCtrlAndZ(e)}},t.prototype.onCtrlAndA=function(e){var r=this,i=r.pinnedRowModel,o=r.paginationProxy,a=r.rangeService;if(a&&o.isRowsToRender()){var s=Ibe([i.isEmpty("top"),i.isEmpty("bottom")],2),l=s[0],u=s[1],c=l?null:"top",d=void 0,p=void 0;u?(d=null,p=this.paginationProxy.getRowCount()-1):(d="bottom",p=i.getPinnedBottomRowData().length-1);var h=this.columnModel.getAllDisplayedColumns();if(Jo(h))return;a.setCellRange({rowStartIndex:0,rowStartPinned:c,rowEndIndex:p,rowEndPinned:d,columnStart:h[0],columnEnd:xt(h)})}e.preventDefault()},t.prototype.onCtrlAndC=function(e){if(!(!this.clipboardService||this.gridOptionsService.get("enableCellTextSelection"))){var r=this.getControlsForEventTarget(e.target),i=r.cellCtrl,o=r.rowCtrl;i!=null&&i.isEditing()||o!=null&&o.isEditing()||(e.preventDefault(),this.clipboardService.copyToClipboard())}},t.prototype.onCtrlAndX=function(e){if(!(!this.clipboardService||this.gridOptionsService.get("enableCellTextSelection")||this.gridOptionsService.get("suppressCutToClipboard"))){var r=this.getControlsForEventTarget(e.target),i=r.cellCtrl,o=r.rowCtrl;i!=null&&i.isEditing()||o!=null&&o.isEditing()||(e.preventDefault(),this.clipboardService.cutToClipboard(void 0,"ui"))}},t.prototype.onCtrlAndV=function(e){var r=this.getControlsForEventTarget(e.target),i=r.cellCtrl,o=r.rowCtrl;i!=null&&i.isEditing()||o!=null&&o.isEditing()||this.clipboardService&&!this.gridOptionsService.get("suppressClipboardPaste")&&this.clipboardService.pasteFromClipboard()},t.prototype.onCtrlAndD=function(e){this.clipboardService&&!this.gridOptionsService.get("suppressClipboardPaste")&&this.clipboardService.copyRangeDown(),e.preventDefault()},t.prototype.onCtrlAndZ=function(e){this.gridOptionsService.get("undoRedoCellEditing")&&(e.preventDefault(),e.shiftKey?this.undoRedoService.redo("ui"):this.undoRedoService.undo("ui"))},t.prototype.onCtrlAndY=function(){this.undoRedoService.redo("ui")},Mo([E("mouseEventService")],t.prototype,"mouseEventService",void 0),Mo([E("valueService")],t.prototype,"valueService",void 0),Mo([E("menuService")],t.prototype,"menuService",void 0),Mo([E("ctrlsService")],t.prototype,"ctrlsService",void 0),Mo([E("navigationService")],t.prototype,"navigationService",void 0),Mo([E("focusService")],t.prototype,"focusService",void 0),Mo([E("undoRedoService")],t.prototype,"undoRedoService",void 0),Mo([E("columnModel")],t.prototype,"columnModel",void 0),Mo([E("paginationProxy")],t.prototype,"paginationProxy",void 0),Mo([E("pinnedRowModel")],t.prototype,"pinnedRowModel",void 0),Mo([et("rangeService")],t.prototype,"rangeService",void 0),Mo([et("clipboardService")],t.prototype,"clipboardService",void 0),Mo([z],t.prototype,"postConstruct",null),t}(X),kbe=function(){var n=function(t,e){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])},n(t,e)};return function(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");n(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}}(),$y=function(n,t,e,r){var i=arguments.length,o=i<3?t:r===null?r=Object.getOwnPropertyDescriptor(t,e):r,a;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(n,t,e,r);else for(var s=n.length-1;s>=0;s--)(a=n[s])&&(o=(i<3?a(o):i>3?a(t,e,o):a(t,e))||o);return i>3&&o&&Object.defineProperty(t,e,o),o},g$=function(n,t){var e=typeof Symbol=="function"&&n[Symbol.iterator];if(!e)return n;var r=e.call(n),i,o=[],a;try{for(;(t===void 0||t-- >0)&&!(i=r.next()).done;)o.push(i.value)}catch(s){a={error:s}}finally{try{i&&!i.done&&(e=r.return)&&e.call(r)}finally{if(a)throw a.error}}return o},y$=function(n,t,e){if(e||arguments.length===2)for(var r=0,i=t.length,o;r<i;r++)(o||!(r in t))&&(o||(o=Array.prototype.slice.call(t,0,r)),o[r]=t[r]);return n.concat(o||Array.prototype.slice.call(t))},Gbe=function(n){kbe(t,n);function t(e){var r=n.call(this)||this;return r.centerContainerCtrl=e,r}return t.prototype.postConstruct=function(){var e=this;this.ctrlsService.whenReady(function(){e.gridBodyCtrl=e.ctrlsService.getGridBodyCtrl(),e.listenForResize()}),this.addManagedListener(this.eventService,T.EVENT_SCROLLBAR_WIDTH_CHANGED,this.onScrollbarWidthChanged.bind(this)),this.addManagedPropertyListeners(["alwaysShowHorizontalScroll","alwaysShowVerticalScroll"],function(){e.checkViewportAndScrolls()})},t.prototype.listenForResize=function(){var e=this,r=function(){return e.onCenterViewportResized()};this.centerContainerCtrl.registerViewportResizeListener(r),this.gridBodyCtrl.registerBodyViewportResizeListener(r)},t.prototype.onScrollbarWidthChanged=function(){this.checkViewportAndScrolls()},t.prototype.onCenterViewportResized=function(){if(this.centerContainerCtrl.isViewportInTheDOMTree()){this.keepPinnedColumnsNarrowerThanViewport(),this.checkViewportAndScrolls();var e=this.centerContainerCtrl.getCenterWidth();e!==this.centerWidth&&(this.centerWidth=e,this.columnModel.refreshFlexedColumns({viewportWidth:this.centerWidth,updateBodyWidths:!0,fireResizedEvent:!0}))}else this.bodyHeight=0},t.prototype.keepPinnedColumnsNarrowerThanViewport=function(){var e=this.gridBodyCtrl.getBodyViewportElement(),r=gf(e);if(!(r<=50)){var i=this.getPinnedColumnsOverflowingViewport(r-50),o=this.gridOptionsService.getCallback("processUnpinnedColumns");if(i.length){if(o){var a={columns:i,viewportWidth:r};i=o(a)}this.columnModel.setColumnsPinned(i,null,"viewportSizeFeature")}}},t.prototype.getPinnedColumnsOverflowingViewport=function(e){var r=this.pinnedWidthService.getPinnedRightWidth(),i=this.pinnedWidthService.getPinnedLeftWidth(),o=r+i;if(o<e)return[];for(var a=y$([],g$(this.columnModel.getDisplayedLeftColumns()),!1),s=y$([],g$(this.columnModel.getDisplayedRightColumns()),!1),l=0,u=0,c=0,d=[],p=o-c-e;(u<a.length||l<s.length)&&p>0;){if(l<s.length){var h=s[l++];p-=h.getActualWidth(),d.push(h)}if(u<a.length&&p>0){var h=a[u++];p-=h.getActualWidth(),d.push(h)}}return d},t.prototype.checkViewportAndScrolls=function(){this.updateScrollVisibleService(),this.checkBodyHeight(),this.onHorizontalViewportChanged(),this.gridBodyCtrl.getScrollFeature().checkScrollLeft()},t.prototype.getBodyHeight=function(){return this.bodyHeight},t.prototype.checkBodyHeight=function(){var e=this.gridBodyCtrl.getBodyViewportElement(),r=Nw(e);if(this.bodyHeight!==r){this.bodyHeight=r;var i={type:T.EVENT_BODY_HEIGHT_CHANGED};this.eventService.dispatchEvent(i)}},t.prototype.updateScrollVisibleService=function(){this.updateScrollVisibleServiceImpl(),setTimeout(this.updateScrollVisibleServiceImpl.bind(this),500)},t.prototype.updateScrollVisibleServiceImpl=function(){var e={horizontalScrollShowing:this.isHorizontalScrollShowing(),verticalScrollShowing:this.gridBodyCtrl.isVerticalScrollShowing()};this.scrollVisibleService.setScrollsVisible(e)},t.prototype.isHorizontalScrollShowing=function(){return this.centerContainerCtrl.isHorizontalScrollShowing()},t.prototype.onHorizontalViewportChanged=function(){var e=this.centerContainerCtrl.getCenterWidth(),r=this.centerContainerCtrl.getViewportScrollLeft();this.columnModel.setViewportPosition(e,r)},$y([E("ctrlsService")],t.prototype,"ctrlsService",void 0),$y([E("pinnedWidthService")],t.prototype,"pinnedWidthService",void 0),$y([E("columnModel")],t.prototype,"columnModel",void 0),$y([E("scrollVisibleService")],t.prototype,"scrollVisibleService",void 0),$y([z],t.prototype,"postConstruct",null),t}(X),Vbe=function(){var n=function(t,e){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])},n(t,e)};return function(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");n(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}}(),m$=function(n,t,e,r){var i=arguments.length,o=i<3?t:r===null?r=Object.getOwnPropertyDescriptor(t,e):r,a;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(n,t,e,r);else for(var s=n.length-1;s>=0;s--)(a=n[s])&&(o=(i<3?a(o):i>3?a(t,e,o):a(t,e))||o);return i>3&&o&&Object.defineProperty(t,e,o),o},Bbe=function(n){Vbe(t,n);function t(e){var r=n.call(this)||this;return r.element=e,r}return t.prototype.postConstruct=function(){this.addManagedListener(this.eventService,T.EVENT_LEFT_PINNED_WIDTH_CHANGED,this.onPinnedLeftWidthChanged.bind(this))},t.prototype.onPinnedLeftWidthChanged=function(){var e=this.pinnedWidthService.getPinnedLeftWidth(),r=e>0;Ct(this.element,r),Ka(this.element,e)},t.prototype.getWidth=function(){return this.pinnedWidthService.getPinnedLeftWidth()},m$([E("pinnedWidthService")],t.prototype,"pinnedWidthService",void 0),m$([z],t.prototype,"postConstruct",null),t}(X),Hbe=function(){var n=function(t,e){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])},n(t,e)};return function(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");n(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}}(),C$=function(n,t,e,r){var i=arguments.length,o=i<3?t:r===null?r=Object.getOwnPropertyDescriptor(t,e):r,a;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(n,t,e,r);else for(var s=n.length-1;s>=0;s--)(a=n[s])&&(o=(i<3?a(o):i>3?a(t,e,o):a(t,e))||o);return i>3&&o&&Object.defineProperty(t,e,o),o},jbe=function(n){Hbe(t,n);function t(e){var r=n.call(this)||this;return r.element=e,r}return t.prototype.postConstruct=function(){this.addManagedListener(this.eventService,T.EVENT_RIGHT_PINNED_WIDTH_CHANGED,this.onPinnedRightWidthChanged.bind(this))},t.prototype.onPinnedRightWidthChanged=function(){var e=this.pinnedWidthService.getPinnedRightWidth(),r=e>0;Ct(this.element,r),Ka(this.element,e)},t.prototype.getWidth=function(){return this.pinnedWidthService.getPinnedRightWidth()},C$([E("pinnedWidthService")],t.prototype,"pinnedWidthService",void 0),C$([z],t.prototype,"postConstruct",null),t}(X),$be=function(){var n=function(t,e){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])},n(t,e)};return function(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");n(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}}(),S$=function(n,t,e,r){var i=arguments.length,o=i<3?t:r===null?r=Object.getOwnPropertyDescriptor(t,e):r,a;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(n,t,e,r);else for(var s=n.length-1;s>=0;s--)(a=n[s])&&(o=(i<3?a(o):i>3?a(t,e,o):a(t,e))||o);return i>3&&o&&Object.defineProperty(t,e,o),o},rX=function(n){$be(t,n);function t(e,r){var i=n.call(this)||this;return i.eContainer=e,i.eViewport=r,i}return t.prototype.postConstruct=function(){this.addManagedListener(this.eventService,T.EVENT_ROW_CONTAINER_HEIGHT_CHANGED,this.onHeightChanged.bind(this))},t.prototype.onHeightChanged=function(){var e=this.maxDivHeightScaler.getUiContainerHeight(),r=e!=null?"".concat(e,"px"):"";this.eContainer.style.height=r,this.eViewport&&(this.eViewport.style.height=r)},S$([E("rowContainerHeightService")],t.prototype,"maxDivHeightScaler",void 0),S$([z],t.prototype,"postConstruct",null),t}(X),Wbe=function(){var n=function(t,e){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])},n(t,e)};return function(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");n(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}}(),WA=function(n,t,e,r){var i=arguments.length,o=i<3?t:r===null?r=Object.getOwnPropertyDescriptor(t,e):r,a;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(n,t,e,r);else for(var s=n.length-1;s>=0;s--)(a=n[s])&&(o=(i<3?a(o):i>3?a(t,e,o):a(t,e))||o);return i>3&&o&&Object.defineProperty(t,e,o),o},Ube=function(n){Wbe(t,n);function t(e){var r=n.call(this)||this;return r.eContainer=e,r}return t.prototype.postConstruct=function(){var e=this;if(!We(this.rangeService)){this.params={eElement:this.eContainer,onDragStart:this.rangeService.onDragStart.bind(this.rangeService),onDragStop:this.rangeService.onDragStop.bind(this.rangeService),onDragging:this.rangeService.onDragging.bind(this.rangeService)},this.addManagedPropertyListener("enableRangeSelection",function(i){var o=i.currentValue;if(o){e.enableFeature();return}e.disableFeature()}),this.addDestroyFunc(function(){return e.disableFeature()});var r=this.gridOptionsService.get("enableRangeSelection");r&&this.enableFeature()}},t.prototype.enableFeature=function(){this.dragService.addDragSource(this.params)},t.prototype.disableFeature=function(){this.dragService.removeDragSource(this.params)},WA([et("rangeService")],t.prototype,"rangeService",void 0),WA([E("dragService")],t.prototype,"dragService",void 0),WA([z],t.prototype,"postConstruct",null),t}(X),zbe=function(){var n=function(t,e){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])},n(t,e)};return function(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");n(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}}(),UA=function(n,t,e,r){var i=arguments.length,o=i<3?t:r===null?r=Object.getOwnPropertyDescriptor(t,e):r,a;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(n,t,e,r);else for(var s=n.length-1;s>=0;s--)(a=n[s])&&(o=(i<3?a(o):i>3?a(t,e,o):a(t,e))||o);return i>3&&o&&Object.defineProperty(t,e,o),o},mG=function(n){zbe(t,n);function t(e,r){r===void 0&&(r=!1);var i=n.call(this)||this;return i.callback=e,i.addSpacer=r,i}return t.prototype.postConstruct=function(){var e=this.setWidth.bind(this);this.addManagedPropertyListener("domLayout",e),this.addManagedListener(this.eventService,T.EVENT_COLUMN_CONTAINER_WIDTH_CHANGED,e),this.addManagedListener(this.eventService,T.EVENT_DISPLAYED_COLUMNS_CHANGED,e),this.addManagedListener(this.eventService,T.EVENT_LEFT_PINNED_WIDTH_CHANGED,e),this.addSpacer&&(this.addManagedListener(this.eventService,T.EVENT_RIGHT_PINNED_WIDTH_CHANGED,e),this.addManagedListener(this.eventService,T.EVENT_SCROLL_VISIBILITY_CHANGED,e),this.addManagedListener(this.eventService,T.EVENT_SCROLLBAR_WIDTH_CHANGED,e)),this.setWidth()},t.prototype.setWidth=function(){var e=this.columnModel,r=this.gridOptionsService.isDomLayout("print"),i=e.getBodyContainerWidth(),o=e.getDisplayedColumnsLeftWidth(),a=e.getDisplayedColumnsRightWidth(),s;if(r)s=i+o+a;else if(s=i,this.addSpacer){var l=this.gridOptionsService.get("enableRtl")?o:a;l===0&&this.scrollVisibleService.isVerticalScrollShowing()&&(s+=this.gridOptionsService.getScrollbarWidth())}this.callback(s)},UA([E("columnModel")],t.prototype,"columnModel",void 0),UA([E("scrollVisibleService")],t.prototype,"scrollVisibleService",void 0),UA([z],t.prototype,"postConstruct",null),t}(X),Kbe=function(){var n=function(t,e){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])},n(t,e)};return function(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");n(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}}(),Vf=function(n,t,e,r){var i=arguments.length,o=i<3?t:r===null?r=Object.getOwnPropertyDescriptor(t,e):r,a;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(n,t,e,r);else for(var s=n.length-1;s>=0;s--)(a=n[s])&&(o=(i<3?a(o):i>3?a(t,e,o):a(t,e))||o);return i>3&&o&&Object.defineProperty(t,e,o),o},a_=function(n,t){var e=typeof Symbol=="function"&&n[Symbol.iterator];if(!e)return n;var r=e.call(n),i,o=[],a;try{for(;(t===void 0||t-- >0)&&!(i=r.next()).done;)o.push(i.value)}catch(s){a={error:s}}finally{try{i&&!i.done&&(e=r.return)&&e.call(r)}finally{if(a)throw a.error}}return o},s_=function(n,t,e){if(e||arguments.length===2)for(var r=0,i=t.length,o;r<i;r++)(o||!(r in t))&&(o||(o=Array.prototype.slice.call(t,0,r)),o[r]=t[r]);return n.concat(o||Array.prototype.slice.call(t))},re;(function(n){n.LEFT="left",n.RIGHT="right",n.CENTER="center",n.FULL_WIDTH="fullWidth",n.TOP_LEFT="topLeft",n.TOP_RIGHT="topRight",n.TOP_CENTER="topCenter",n.TOP_FULL_WIDTH="topFullWidth",n.STICKY_TOP_LEFT="stickyTopLeft",n.STICKY_TOP_RIGHT="stickyTopRight",n.STICKY_TOP_CENTER="stickyTopCenter",n.STICKY_TOP_FULL_WIDTH="stickyTopFullWidth",n.BOTTOM_LEFT="bottomLeft",n.BOTTOM_RIGHT="bottomRight",n.BOTTOM_CENTER="bottomCenter",n.BOTTOM_FULL_WIDTH="bottomFullWidth"})(re||(re={}));var on;(function(n){n.LEFT="left",n.RIGHT="right",n.CENTER="center",n.FULL_WIDTH="fullWidth"})(on||(on={}));function nX(n){switch(n){case re.CENTER:case re.TOP_CENTER:case re.STICKY_TOP_CENTER:case re.BOTTOM_CENTER:return on.CENTER;case re.LEFT:case re.TOP_LEFT:case re.STICKY_TOP_LEFT:case re.BOTTOM_LEFT:return on.LEFT;case re.RIGHT:case re.TOP_RIGHT:case re.STICKY_TOP_RIGHT:case re.BOTTOM_RIGHT:return on.RIGHT;case re.FULL_WIDTH:case re.TOP_FULL_WIDTH:case re.STICKY_TOP_FULL_WIDTH:case re.BOTTOM_FULL_WIDTH:return on.FULL_WIDTH;default:throw Error("Invalid Row Container Type")}}var Ybe=dd([[re.CENTER,"ag-center-cols-container"],[re.LEFT,"ag-pinned-left-cols-container"],[re.RIGHT,"ag-pinned-right-cols-container"],[re.FULL_WIDTH,"ag-full-width-container"],[re.TOP_CENTER,"ag-floating-top-container"],[re.TOP_LEFT,"ag-pinned-left-floating-top"],[re.TOP_RIGHT,"ag-pinned-right-floating-top"],[re.TOP_FULL_WIDTH,"ag-floating-top-full-width-container"],[re.STICKY_TOP_CENTER,"ag-sticky-top-container"],[re.STICKY_TOP_LEFT,"ag-pinned-left-sticky-top"],[re.STICKY_TOP_RIGHT,"ag-pinned-right-sticky-top"],[re.STICKY_TOP_FULL_WIDTH,"ag-sticky-top-full-width-container"],[re.BOTTOM_CENTER,"ag-floating-bottom-container"],[re.BOTTOM_LEFT,"ag-pinned-left-floating-bottom"],[re.BOTTOM_RIGHT,"ag-pinned-right-floating-bottom"],[re.BOTTOM_FULL_WIDTH,"ag-floating-bottom-full-width-container"]]),Xbe=dd([[re.CENTER,"ag-center-cols-viewport"],[re.TOP_CENTER,"ag-floating-top-viewport"],[re.STICKY_TOP_CENTER,"ag-sticky-top-viewport"],[re.BOTTOM_CENTER,"ag-floating-bottom-viewport"]]),CG=function(n){Kbe(t,n);function t(e){var r=n.call(this)||this;return r.visible=!0,r.EMPTY_CTRLS=[],r.name=e,r.isFullWithContainer=r.name===re.TOP_FULL_WIDTH||r.name===re.STICKY_TOP_FULL_WIDTH||r.name===re.BOTTOM_FULL_WIDTH||r.name===re.FULL_WIDTH,r}return t.getRowContainerCssClasses=function(e){var r=Ybe.get(e),i=Xbe.get(e);return{container:r,viewport:i}},t.getPinned=function(e){switch(e){case re.BOTTOM_LEFT:case re.TOP_LEFT:case re.STICKY_TOP_LEFT:case re.LEFT:return"left";case re.BOTTOM_RIGHT:case re.TOP_RIGHT:case re.STICKY_TOP_RIGHT:case re.RIGHT:return"right";default:return null}},t.prototype.postConstruct=function(){var e=this;this.enableRtl=this.gridOptionsService.get("enableRtl"),this.forContainers([re.CENTER],function(){return e.viewportSizeFeature=e.createManagedBean(new Gbe(e))})},t.prototype.registerWithCtrlsService=function(){switch(this.name){case re.CENTER:this.ctrlsService.registerCenterRowContainerCtrl(this);break;case re.LEFT:this.ctrlsService.registerLeftRowContainerCtrl(this);break;case re.RIGHT:this.ctrlsService.registerRightRowContainerCtrl(this);break;case re.TOP_CENTER:this.ctrlsService.registerTopCenterRowContainerCtrl(this);break;case re.TOP_LEFT:this.ctrlsService.registerTopLeftRowContainerCon(this);break;case re.TOP_RIGHT:this.ctrlsService.registerTopRightRowContainerCtrl(this);break;case re.STICKY_TOP_CENTER:this.ctrlsService.registerStickyTopCenterRowContainerCtrl(this);break;case re.STICKY_TOP_LEFT:this.ctrlsService.registerStickyTopLeftRowContainerCon(this);break;case re.STICKY_TOP_RIGHT:this.ctrlsService.registerStickyTopRightRowContainerCtrl(this);break;case re.BOTTOM_CENTER:this.ctrlsService.registerBottomCenterRowContainerCtrl(this);break;case re.BOTTOM_LEFT:this.ctrlsService.registerBottomLeftRowContainerCtrl(this);break;case re.BOTTOM_RIGHT:this.ctrlsService.registerBottomRightRowContainerCtrl(this);break}},t.prototype.forContainers=function(e,r){e.indexOf(this.name)>=0&&r()},t.prototype.getContainerElement=function(){return this.eContainer},t.prototype.getViewportSizeFeature=function(){return this.viewportSizeFeature},t.prototype.setComp=function(e,r,i){var o=this;this.comp=e,this.eContainer=r,this.eViewport=i,this.createManagedBean(new Nbe(this.eContainer)),this.addPreventScrollWhileDragging(),this.listenOnDomOrder(),this.stopHScrollOnPinnedRows();var a=[re.TOP_CENTER,re.TOP_LEFT,re.TOP_RIGHT],s=[re.STICKY_TOP_CENTER,re.STICKY_TOP_LEFT,re.STICKY_TOP_RIGHT],l=[re.BOTTOM_CENTER,re.BOTTOM_LEFT,re.BOTTOM_RIGHT],u=[re.CENTER,re.LEFT,re.RIGHT],c=s_(s_(s_(s_([],a_(a),!1),a_(l),!1),a_(u),!1),a_(s),!1),d=[re.CENTER,re.LEFT,re.RIGHT,re.FULL_WIDTH],p=[re.CENTER,re.TOP_CENTER,re.STICKY_TOP_CENTER,re.BOTTOM_CENTER],h=[re.LEFT,re.BOTTOM_LEFT,re.TOP_LEFT,re.STICKY_TOP_LEFT],f=[re.RIGHT,re.BOTTOM_RIGHT,re.TOP_RIGHT,re.STICKY_TOP_RIGHT];this.forContainers(h,function(){o.pinnedWidthFeature=o.createManagedBean(new Bbe(o.eContainer)),o.addManagedListener(o.eventService,T.EVENT_LEFT_PINNED_WIDTH_CHANGED,function(){return o.onPinnedWidthChanged()})}),this.forContainers(f,function(){o.pinnedWidthFeature=o.createManagedBean(new jbe(o.eContainer)),o.addManagedListener(o.eventService,T.EVENT_RIGHT_PINNED_WIDTH_CHANGED,function(){return o.onPinnedWidthChanged()})}),this.forContainers(d,function(){return o.createManagedBean(new rX(o.eContainer,o.name===re.CENTER?i:void 0))}),this.forContainers(c,function(){return o.createManagedBean(new Ube(o.eContainer))}),this.forContainers(p,function(){return o.createManagedBean(new mG(function(v){return o.comp.setContainerWidth("".concat(v,"px"))}))}),this.addListeners(),this.registerWithCtrlsService()},t.prototype.addListeners=function(){var e=this;this.addManagedListener(this.eventService,T.EVENT_DISPLAYED_COLUMNS_CHANGED,function(){return e.onDisplayedColumnsChanged()}),this.addManagedListener(this.eventService,T.EVENT_DISPLAYED_COLUMNS_WIDTH_CHANGED,function(){return e.onDisplayedColumnsWidthChanged()}),this.addManagedListener(this.eventService,T.EVENT_DISPLAYED_ROWS_CHANGED,function(r){return e.onDisplayedRowsChanged(r.afterScroll)}),this.onDisplayedColumnsChanged(),this.onDisplayedColumnsWidthChanged(),this.onDisplayedRowsChanged()},t.prototype.listenOnDomOrder=function(){var e=this,r=[re.STICKY_TOP_CENTER,re.STICKY_TOP_LEFT,re.STICKY_TOP_RIGHT,re.STICKY_TOP_FULL_WIDTH],i=r.indexOf(this.name)>=0;if(i){this.comp.setDomOrder(!0);return}var o=function(){var a=e.gridOptionsService.get("ensureDomOrder"),s=e.gridOptionsService.isDomLayout("print");e.comp.setDomOrder(a||s)};this.addManagedPropertyListener("domLayout",o),o()},t.prototype.stopHScrollOnPinnedRows=function(){var e=this;this.forContainers([re.TOP_CENTER,re.STICKY_TOP_CENTER,re.BOTTOM_CENTER],function(){var r=function(){return e.eViewport.scrollLeft=0};e.addManagedListener(e.eViewport,"scroll",r)})},t.prototype.onDisplayedColumnsChanged=function(){var e=this;this.forContainers([re.CENTER],function(){return e.onHorizontalViewportChanged()})},t.prototype.onDisplayedColumnsWidthChanged=function(){var e=this;this.forContainers([re.CENTER],function(){return e.onHorizontalViewportChanged()})},t.prototype.addPreventScrollWhileDragging=function(){var e=this,r=function(i){e.dragService.isDragging()&&i.cancelable&&i.preventDefault()};this.eContainer.addEventListener("touchmove",r,{passive:!1}),this.addDestroyFunc(function(){return e.eContainer.removeEventListener("touchmove",r)})},t.prototype.onHorizontalViewportChanged=function(e){e===void 0&&(e=!1);var r=this.getCenterWidth(),i=this.getCenterViewportScrollLeft();this.columnModel.setViewportPosition(r,i,e)},t.prototype.getCenterWidth=function(){return gf(this.eViewport)},t.prototype.getCenterViewportScrollLeft=function(){return GS(this.eViewport,this.enableRtl)},t.prototype.registerViewportResizeListener=function(e){var r=this.resizeObserverService.observeResize(this.eViewport,e);this.addDestroyFunc(function(){return r()})},t.prototype.isViewportInTheDOMTree=function(){return Qk(this.eViewport)},t.prototype.getViewportScrollLeft=function(){return GS(this.eViewport,this.enableRtl)},t.prototype.isHorizontalScrollShowing=function(){var e=this.gridOptionsService.get("alwaysShowHorizontalScroll");return e||lY(this.eViewport)},t.prototype.getViewportElement=function(){return this.eViewport},t.prototype.setContainerTranslateX=function(e){this.eContainer.style.transform="translateX(".concat(e,"px)")},t.prototype.getHScrollPosition=function(){var e={left:this.eViewport.scrollLeft,right:this.eViewport.scrollLeft+this.eViewport.offsetWidth};return e},t.prototype.setCenterViewportScrollLeft=function(e){VS(this.eViewport,e,this.enableRtl)},t.prototype.isContainerVisible=function(){var e=t.getPinned(this.name);return!e||!!this.pinnedWidthFeature&&this.pinnedWidthFeature.getWidth()>0},t.prototype.onPinnedWidthChanged=function(){var e=this.isContainerVisible();this.visible!=e&&(this.visible=e,this.onDisplayedRowsChanged())},t.prototype.onDisplayedRowsChanged=function(e){var r=this;if(e===void 0&&(e=!1),!this.visible){this.comp.setRowCtrls({rowCtrls:this.EMPTY_CTRLS});return}var i=this.gridOptionsService.isDomLayout("print"),o=this.gridOptionsService.get("embedFullWidthRows"),a=o||i,s=this.getRowCtrls().filter(function(l){var u=l.isFullWidth(),c=r.isFullWithContainer?!a&&u:a||!u;return c});this.comp.setRowCtrls({rowCtrls:s,useFlushSync:e})},t.prototype.getRowCtrls=function(){switch(this.name){case re.TOP_CENTER:case re.TOP_LEFT:case re.TOP_RIGHT:case re.TOP_FULL_WIDTH:return this.rowRenderer.getTopRowCtrls();case re.STICKY_TOP_CENTER:case re.STICKY_TOP_LEFT:case re.STICKY_TOP_RIGHT:case re.STICKY_TOP_FULL_WIDTH:return this.rowRenderer.getStickyTopRowCtrls();case re.BOTTOM_CENTER:case re.BOTTOM_LEFT:case re.BOTTOM_RIGHT:case re.BOTTOM_FULL_WIDTH:return this.rowRenderer.getBottomRowCtrls();default:return this.rowRenderer.getCentreRowCtrls()}},Vf([E("dragService")],t.prototype,"dragService",void 0),Vf([E("ctrlsService")],t.prototype,"ctrlsService",void 0),Vf([E("columnModel")],t.prototype,"columnModel",void 0),Vf([E("resizeObserverService")],t.prototype,"resizeObserverService",void 0),Vf([E("rowRenderer")],t.prototype,"rowRenderer",void 0),Vf([z],t.prototype,"postConstruct",null),t}(X),qbe=function(){var n=function(t,e){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])},n(t,e)};return function(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");n(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}}(),yu=function(n,t,e,r){var i=arguments.length,o=i<3?t:r===null?r=Object.getOwnPropertyDescriptor(t,e):r,a;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(n,t,e,r);else for(var s=n.length-1;s>=0;s--)(a=n[s])&&(o=(i<3?a(o):i>3?a(t,e,o):a(t,e))||o);return i>3&&o&&Object.defineProperty(t,e,o),o},Zbe=`<div class="ag-root ag-unselectable" role="treegrid">
        <ag-header-root ref="gridHeader"></ag-header-root>
        <div class="ag-floating-top" ref="eTop" role="presentation">
            <ag-row-container ref="topLeftContainer" name="`.concat(re.TOP_LEFT,`"></ag-row-container>
            <ag-row-container ref="topCenterContainer" name="`).concat(re.TOP_CENTER,`"></ag-row-container>
            <ag-row-container ref="topRightContainer" name="`).concat(re.TOP_RIGHT,`"></ag-row-container>
            <ag-row-container ref="topFullWidthContainer" name="`).concat(re.TOP_FULL_WIDTH,`"></ag-row-container>
        </div>
        <div class="ag-body" ref="eBody" role="presentation">
            <div class="ag-body-viewport" ref="eBodyViewport" role="presentation">
                <ag-row-container ref="leftContainer" name="`).concat(re.LEFT,`"></ag-row-container>
                <ag-row-container ref="centerContainer" name="`).concat(re.CENTER,`"></ag-row-container>
                <ag-row-container ref="rightContainer" name="`).concat(re.RIGHT,`"></ag-row-container>
                <ag-row-container ref="fullWidthContainer" name="`).concat(re.FULL_WIDTH,`"></ag-row-container>
            </div>
            <ag-fake-vertical-scroll></ag-fake-vertical-scroll>
        </div>
        <div class="ag-sticky-top" ref="eStickyTop" role="presentation">
            <ag-row-container ref="stickyTopLeftContainer" name="`).concat(re.STICKY_TOP_LEFT,`"></ag-row-container>
            <ag-row-container ref="stickyTopCenterContainer" name="`).concat(re.STICKY_TOP_CENTER,`"></ag-row-container>
            <ag-row-container ref="stickyTopRightContainer" name="`).concat(re.STICKY_TOP_RIGHT,`"></ag-row-container>
            <ag-row-container ref="stickyTopFullWidthContainer" name="`).concat(re.STICKY_TOP_FULL_WIDTH,`"></ag-row-container>
        </div>
        <div class="ag-floating-bottom" ref="eBottom" role="presentation">
            <ag-row-container ref="bottomLeftContainer" name="`).concat(re.BOTTOM_LEFT,`"></ag-row-container>
            <ag-row-container ref="bottomCenterContainer" name="`).concat(re.BOTTOM_CENTER,`"></ag-row-container>
            <ag-row-container ref="bottomRightContainer" name="`).concat(re.BOTTOM_RIGHT,`"></ag-row-container>
            <ag-row-container ref="bottomFullWidthContainer" name="`).concat(re.BOTTOM_FULL_WIDTH,`"></ag-row-container>
        </div>
        <ag-fake-horizontal-scroll></ag-fake-horizontal-scroll>
        <ag-overlay-wrapper></ag-overlay-wrapper>
    </div>`),iX=function(n){qbe(t,n);function t(){return n.call(this,Zbe)||this}return t.prototype.init=function(){var e=this,r=function(o,a){var s="".concat(o,"px");a.style.minHeight=s,a.style.height=s},i={setRowAnimationCssOnBodyViewport:function(o,a){return e.setRowAnimationCssOnBodyViewport(o,a)},setColumnCount:function(o){return X7(e.getGui(),o)},setRowCount:function(o){return Y7(e.getGui(),o)},setTopHeight:function(o){return r(o,e.eTop)},setBottomHeight:function(o){return r(o,e.eBottom)},setTopDisplay:function(o){return e.eTop.style.display=o},setBottomDisplay:function(o){return e.eBottom.style.display=o},setStickyTopHeight:function(o){return e.eStickyTop.style.height=o},setStickyTopTop:function(o){return e.eStickyTop.style.top=o},setStickyTopWidth:function(o){return e.eStickyTop.style.width=o},setColumnMovingCss:function(o,a){return e.addOrRemoveCssClass(o,a)},updateLayoutClasses:function(o,a){var s=[e.eBodyViewport.classList,e.eBody.classList];s.forEach(function(l){l.toggle(Xr.AUTO_HEIGHT,a.autoHeight),l.toggle(Xr.NORMAL,a.normal),l.toggle(Xr.PRINT,a.print)}),e.addOrRemoveCssClass(Xr.AUTO_HEIGHT,a.autoHeight),e.addOrRemoveCssClass(Xr.NORMAL,a.normal),e.addOrRemoveCssClass(Xr.PRINT,a.print)},setAlwaysVerticalScrollClass:function(o,a){return e.eBodyViewport.classList.toggle(eX,a)},registerBodyViewportResizeListener:function(o){var a=e.resizeObserverService.observeResize(e.eBodyViewport,o);e.addDestroyFunc(function(){return a()})},setPinnedTopBottomOverflowY:function(o){return e.eTop.style.overflowY=e.eBottom.style.overflowY=o},setCellSelectableCss:function(o,a){[e.eTop,e.eBodyViewport,e.eBottom].forEach(function(s){return s.classList.toggle(o,a)})},setBodyViewportWidth:function(o){return e.eBodyViewport.style.width=o}};this.ctrl=this.createManagedBean(new tX),this.ctrl.setComp(i,this.getGui(),this.eBodyViewport,this.eTop,this.eBottom,this.eStickyTop),(this.rangeService&&this.gridOptionsService.get("enableRangeSelection")||this.gridOptionsService.get("rowSelection")==="multiple")&&K7(this.getGui(),!0)},t.prototype.setRowAnimationCssOnBodyViewport=function(e,r){var i=this.eBodyViewport.classList;i.toggle(tf.ANIMATION_ON,r),i.toggle(tf.ANIMATION_OFF,!r)},t.prototype.getFloatingTopBottom=function(){return[this.eTop,this.eBottom]},yu([E("resizeObserverService")],t.prototype,"resizeObserverService",void 0),yu([et("rangeService")],t.prototype,"rangeService",void 0),yu([j("eBodyViewport")],t.prototype,"eBodyViewport",void 0),yu([j("eStickyTop")],t.prototype,"eStickyTop",void 0),yu([j("eTop")],t.prototype,"eTop",void 0),yu([j("eBottom")],t.prototype,"eBottom",void 0),yu([j("gridHeader")],t.prototype,"headerRootComp",void 0),yu([j("eBody")],t.prototype,"eBody",void 0),yu([z],t.prototype,"init",null),t}(ae),Qbe=function(){var n=function(t,e){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])},n(t,e)};return function(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");n(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}}(),l_=function(n,t,e,r){var i=arguments.length,o=i<3?t:r===null?r=Object.getOwnPropertyDescriptor(t,e):r,a;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(n,t,e,r);else for(var s=n.length-1;s>=0;s--)(a=n[s])&&(o=(i<3?a(o):i>3?a(t,e,o):a(t,e))||o);return i>3&&o&&Object.defineProperty(t,e,o),o},oX=function(n){Qbe(t,n);function t(){return n!==null&&n.apply(this,arguments)||this}return t.prototype.postConstruct=function(){this.addManagedListener(this.eventService,T.EVENT_DISPLAYED_COLUMNS_CHANGED,this.onDisplayedColumnsChanged.bind(this)),this.addManagedListener(this.eventService,T.EVENT_DISPLAYED_COLUMNS_WIDTH_CHANGED,this.onDisplayedColumnsWidthChanged.bind(this))},t.prototype.onDisplayedColumnsChanged=function(){this.update()},t.prototype.onDisplayedColumnsWidthChanged=function(){this.update()},t.prototype.update=function(){var e=this;this.columnAnimationService.isActive()?this.columnAnimationService.executeLaterVMTurn(function(){e.columnAnimationService.executeLaterVMTurn(function(){return e.updateImpl()})}):this.updateImpl()},t.prototype.updateImpl=function(){var e=this.ctrlsService.getCenterRowContainerCtrl();if(!(!e||this.columnAnimationService.isActive())){var r={horizontalScrollShowing:e.isHorizontalScrollShowing(),verticalScrollShowing:this.isVerticalScrollShowing()};this.setScrollsVisible(r)}},t.prototype.setScrollsVisible=function(e){var r=this.horizontalScrollShowing!==e.horizontalScrollShowing||this.verticalScrollShowing!==e.verticalScrollShowing;if(r){this.horizontalScrollShowing=e.horizontalScrollShowing,this.verticalScrollShowing=e.verticalScrollShowing;var i={type:T.EVENT_SCROLL_VISIBILITY_CHANGED};this.eventService.dispatchEvent(i)}},t.prototype.isHorizontalScrollShowing=function(){return this.horizontalScrollShowing},t.prototype.isVerticalScrollShowing=function(){return this.verticalScrollShowing},l_([E("ctrlsService")],t.prototype,"ctrlsService",void 0),l_([E("columnAnimationService")],t.prototype,"columnAnimationService",void 0),l_([z],t.prototype,"postConstruct",null),t=l_([ie("scrollVisibleService")],t),t}(X),Jbe=function(){var n=function(t,e){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])},n(t,e)};return function(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");n(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}}(),w$=function(n,t,e,r){var i=arguments.length,o=i<3?t:r===null?r=Object.getOwnPropertyDescriptor(t,e):r,a;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(n,t,e,r);else for(var s=n.length-1;s>=0;s--)(a=n[s])&&(o=(i<3?a(o):i>3?a(t,e,o):a(t,e))||o);return i>3&&o&&Object.defineProperty(t,e,o),o},aX=function(n){Jbe(t,n);function t(){var r=n!==null&&n.apply(this,arguments)||this;return r.gridInstanceId=e.gridInstanceSequence.next(),r}e=t,t.prototype.stampTopLevelGridCompWithGridInstance=function(r){r[e.GRID_DOM_KEY]=this.gridInstanceId},t.prototype.getRenderedCellForEvent=function(r){return Tb(this.gridOptionsService,r.target,ju.DOM_DATA_KEY_CELL_CTRL)},t.prototype.isEventFromThisGrid=function(r){var i=this.isElementInThisGrid(r.target);return i},t.prototype.isElementInThisGrid=function(r){for(var i=r;i;){var o=i[e.GRID_DOM_KEY];if(oe(o)){var a=o===this.gridInstanceId;return a}i=i.parentElement}return!1},t.prototype.getCellPositionForEvent=function(r){var i=this.getRenderedCellForEvent(r);return i?i.getCellPosition():null},t.prototype.getNormalisedPosition=function(r){var i=this.gridOptionsService.isDomLayout("normal"),o=r,a,s;if(o.clientX!=null||o.clientY!=null?(a=o.clientX,s=o.clientY):(a=o.x,s=o.y),i){var l=this.ctrlsService.getGridBodyCtrl(),u=l.getScrollFeature().getVScrollPosition(),c=l.getScrollFeature().getHScrollPosition();a+=c.left,s+=u.top}return{x:a,y:s}};var e;return t.gridInstanceSequence=new ti,t.GRID_DOM_KEY="__ag_grid_instance",w$([E("ctrlsService")],t.prototype,"ctrlsService",void 0),t=e=w$([ie("mouseEventService")],t),t}(X),eOe=function(){var n=function(t,e){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])},n(t,e)};return function(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");n(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}}(),Vb=function(){return Vb=Object.assign||function(n){for(var t,e=1,r=arguments.length;e<r;e++){t=arguments[e];for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(n[i]=t[i])}return n},Vb.apply(this,arguments)},Ki=function(n,t,e,r){var i=arguments.length,o=i<3?t:r===null?r=Object.getOwnPropertyDescriptor(t,e):r,a;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(n,t,e,r);else for(var s=n.length-1;s>=0;s--)(a=n[s])&&(o=(i<3?a(o):i>3?a(t,e,o):a(t,e))||o);return i>3&&o&&Object.defineProperty(t,e,o),o},sX=function(n){eOe(t,n);function t(){var e=n.call(this)||this;return e.onPageDown=dF(e.onPageDown,100),e.onPageUp=dF(e.onPageUp,100),e}return t.prototype.postConstruct=function(){var e=this;this.ctrlsService.whenReady(function(r){e.gridBodyCon=r.gridBodyCtrl})},t.prototype.handlePageScrollingKey=function(e,r){r===void 0&&(r=!1);var i=e.key,o=e.altKey,a=e.ctrlKey||e.metaKey,s=!!this.rangeService&&e.shiftKey,l=this.mouseEventService.getCellPositionForEvent(e),u=!1;switch(i){case U.PAGE_HOME:case U.PAGE_END:!a&&!o&&(this.onHomeOrEndKey(i),u=!0);break;case U.LEFT:case U.RIGHT:case U.UP:case U.DOWN:if(!l)return!1;a&&!o&&!s&&(this.onCtrlUpDownLeftRight(i,l),u=!0);break;case U.PAGE_DOWN:case U.PAGE_UP:!a&&!o&&(u=this.handlePageUpDown(i,l,r));break}return u&&e.preventDefault(),u},t.prototype.handlePageUpDown=function(e,r,i){return i&&(r=this.focusService.getFocusedCell()),r?(e===U.PAGE_UP?this.onPageUp(r):this.onPageDown(r),!0):!1},t.prototype.navigateTo=function(e){var r=e.scrollIndex,i=e.scrollType,o=e.scrollColumn,a=e.focusIndex,s=e.focusColumn;if(oe(o)&&!o.isPinned()&&this.gridBodyCon.getScrollFeature().ensureColumnVisible(o),oe(r)&&this.gridBodyCon.getScrollFeature().ensureIndexVisible(r,i),e.isAsync||this.gridBodyCon.getScrollFeature().ensureIndexVisible(a),this.focusService.setFocusedCell({rowIndex:a,column:s,rowPinned:null,forceBrowserFocus:!0}),this.rangeService){var l={rowIndex:a,rowPinned:null,column:s};this.rangeService.setRangeToCell(l)}},t.prototype.onPageDown=function(e){var r=this.ctrlsService.getGridBodyCtrl(),i=r.getScrollFeature().getVScrollPosition(),o=this.getViewportHeight(),a=this.paginationProxy.getPixelOffset(),s=i.top+o,l=this.paginationProxy.getRowIndexAtPixel(s+a);this.columnModel.isAutoRowHeightActive()?this.navigateToNextPageWithAutoHeight(e,l):this.navigateToNextPage(e,l)},t.prototype.onPageUp=function(e){var r=this.ctrlsService.getGridBodyCtrl(),i=r.getScrollFeature().getVScrollPosition(),o=this.paginationProxy.getPixelOffset(),a=i.top,s=this.paginationProxy.getRowIndexAtPixel(a+o);this.columnModel.isAutoRowHeightActive()?this.navigateToNextPageWithAutoHeight(e,s,!0):this.navigateToNextPage(e,s,!0)},t.prototype.navigateToNextPage=function(e,r,i){i===void 0&&(i=!1);var o=this.getViewportHeight(),a=this.paginationProxy.getPageFirstRow(),s=this.paginationProxy.getPageLastRow(),l=this.paginationProxy.getPixelOffset(),u=this.paginationProxy.getRow(e.rowIndex),c=i?(u==null?void 0:u.rowHeight)-o-l:o-l,d=(u==null?void 0:u.rowTop)+c,p=this.paginationProxy.getRowIndexAtPixel(d+l);if(p===e.rowIndex){var h=i?-1:1;r=p=e.rowIndex+h}var f;i?(f="bottom",p<a&&(p=a),r<a&&(r=a)):(f="top",p>s&&(p=s),r>s&&(r=s)),this.isRowTallerThanView(p)&&(r=p,f="top"),this.navigateTo({scrollIndex:r,scrollType:f,scrollColumn:null,focusIndex:p,focusColumn:e.column})},t.prototype.navigateToNextPageWithAutoHeight=function(e,r,i){var o=this;i===void 0&&(i=!1),this.navigateTo({scrollIndex:r,scrollType:i?"bottom":"top",scrollColumn:null,focusIndex:r,focusColumn:e.column}),setTimeout(function(){var a=o.getNextFocusIndexForAutoHeight(e,i);o.navigateTo({scrollIndex:r,scrollType:i?"bottom":"top",scrollColumn:null,focusIndex:a,focusColumn:e.column,isAsync:!0})},50)},t.prototype.getNextFocusIndexForAutoHeight=function(e,r){var i;r===void 0&&(r=!1);for(var o=r?-1:1,a=this.getViewportHeight(),s=this.paginationProxy.getPageLastRow(),l=0,u=e.rowIndex;u>=0&&u<=s;){var c=this.paginationProxy.getRow(u);if(c){var d=(i=c.rowHeight)!==null&&i!==void 0?i:0;if(l+d>a)break;l+=d}u+=o}return Math.max(0,Math.min(u,s))},t.prototype.getViewportHeight=function(){var e=this.ctrlsService.getGridBodyCtrl(),r=e.getScrollFeature().getVScrollPosition(),i=this.gridOptionsService.getScrollbarWidth(),o=r.bottom-r.top;return this.ctrlsService.getCenterRowContainerCtrl().isHorizontalScrollShowing()&&(o-=i),o},t.prototype.isRowTallerThanView=function(e){var r=this.paginationProxy.getRow(e);if(!r)return!1;var i=r.rowHeight;return typeof i!="number"?!1:i>this.getViewportHeight()},t.prototype.onCtrlUpDownLeftRight=function(e,r){var i=this.cellNavigationService.getNextCellToFocus(e,r,!0),o=i.rowIndex,a=i.column;this.navigateTo({scrollIndex:o,scrollType:null,scrollColumn:a,focusIndex:o,focusColumn:a})},t.prototype.onHomeOrEndKey=function(e){var r=e===U.PAGE_HOME,i=this.columnModel.getAllDisplayedColumns(),o=r?i[0]:xt(i),a=r?this.paginationProxy.getPageFirstRow():this.paginationProxy.getPageLastRow();this.navigateTo({scrollIndex:a,scrollType:null,scrollColumn:o,focusIndex:a,focusColumn:o})},t.prototype.onTabKeyDown=function(e,r){var i=r.shiftKey,o=this.tabToNextCellCommon(e,i,r);if(o){r.preventDefault();return}if(i){var a=e.getRowPosition(),s=a.rowIndex,l=a.rowPinned,u=l?s===0:s===this.paginationProxy.getPageFirstRow();u&&(this.gridOptionsService.get("headerHeight")===0||this.gridOptionsService.get("suppressHeaderFocus")?this.focusService.focusNextGridCoreContainer(!0,!0):(r.preventDefault(),this.focusService.focusPreviousFromFirstCell(r)))}else e instanceof ju&&e.focusCell(!0),this.focusService.focusNextGridCoreContainer(i)&&r.preventDefault()},t.prototype.tabToNextCell=function(e,r){var i=this.focusService.getFocusedCell();if(!i)return!1;var o=this.getCellByPosition(i);return!o&&(o=this.rowRenderer.getRowByPosition(i),!o||!o.isFullWidth())?!1:this.tabToNextCellCommon(o,e,r)},t.prototype.tabToNextCellCommon=function(e,r,i){var o=e.isEditing();if(!o&&e instanceof ju){var a=e,s=a.getRowCtrl();s&&(o=s.isEditing())}var l;return o?this.gridOptionsService.get("editType")==="fullRow"?l=this.moveToNextEditingRow(e,r,i):l=this.moveToNextEditingCell(e,r,i):l=this.moveToNextCellNotEditing(e,r),l||!!this.focusService.getFocusedHeader()},t.prototype.moveToNextEditingCell=function(e,r,i){i===void 0&&(i=null);var o=e.getCellPosition();e.getGui().focus(),e.stopEditing();var a=this.findNextCellToFocusOn(o,r,!0);return a==null?!1:(a.startEditing(null,!0,i),a.focusCell(!1),!0)},t.prototype.moveToNextEditingRow=function(e,r,i){i===void 0&&(i=null);var o=e.getCellPosition(),a=this.findNextCellToFocusOn(o,r,!0);if(a==null)return!1;var s=a.getCellPosition(),l=this.isCellEditable(o),u=this.isCellEditable(s),c=s&&o.rowIndex===s.rowIndex&&o.rowPinned===s.rowPinned;if(l&&e.setFocusOutOnEditor(),!c){var d=e.getRowCtrl();d.stopEditing();var p=a.getRowCtrl();p.startRowEditing(void 0,void 0,i)}return u?(a.setFocusInOnEditor(),a.focusCell()):a.focusCell(!0),!0},t.prototype.moveToNextCellNotEditing=function(e,r){var i=this.columnModel.getAllDisplayedColumns(),o;e instanceof kd?o=Vb(Vb({},e.getRowPosition()),{column:r?i[0]:xt(i)}):o=e.getCellPosition();var a=this.findNextCellToFocusOn(o,r,!1);if(a instanceof ju)a.focusCell(!0);else if(a)return this.tryToFocusFullWidthRow(a.getRowPosition(),r);return oe(a)},t.prototype.findNextCellToFocusOn=function(e,r,i){for(var o=e;;){e!==o&&(e=o),r||(o=this.getLastCellOfColSpan(o)),o=this.cellNavigationService.getNextTabbedCell(o,r);var a=this.gridOptionsService.getCallback("tabToNextCell");if(oe(a)){var s={backwards:r,editing:i,previousCellPosition:e,nextCellPosition:o||null},l=a(s);oe(l)?(l.floating&&(Ge("tabToNextCellFunc return type should have attributes: rowIndex, rowPinned, column. However you had 'floating', maybe you meant 'rowPinned'?"),l.rowPinned=l.floating),o={rowIndex:l.rowIndex,column:l.column,rowPinned:l.rowPinned}):o=null}if(!o)return null;if(o.rowIndex<0){var u=this.headerNavigationService.getHeaderRowCount();return this.focusService.focusHeaderPosition({headerPosition:{headerRowIndex:u+o.rowIndex,column:o.column},fromCell:!0}),null}var c=this.gridOptionsService.get("editType")==="fullRow";if(i&&!c){var d=this.isCellEditable(o);if(!d)continue}this.ensureCellVisible(o);var p=this.getCellByPosition(o);if(!p){var h=this.rowRenderer.getRowByPosition(o);if(!h||!h.isFullWidth()||i)continue;return h}if(!p.isSuppressNavigable())return this.rangeService&&this.rangeService.setRangeToCell(o),p}},t.prototype.isCellEditable=function(e){var r=this.lookupRowNodeForCell(e);return r?e.column.isCellEditable(r):!1},t.prototype.getCellByPosition=function(e){var r=this.rowRenderer.getRowByPosition(e);return r?r.getCellCtrl(e.column):null},t.prototype.lookupRowNodeForCell=function(e){return e.rowPinned==="top"?this.pinnedRowModel.getPinnedTopRow(e.rowIndex):e.rowPinned==="bottom"?this.pinnedRowModel.getPinnedBottomRow(e.rowIndex):this.paginationProxy.getRow(e.rowIndex)},t.prototype.navigateToNextCell=function(e,r,i,o){for(var a=i,s=!1;a&&(a===i||!this.isValidNavigateCell(a));)this.gridOptionsService.get("enableRtl")?r===U.LEFT&&(a=this.getLastCellOfColSpan(a)):r===U.RIGHT&&(a=this.getLastCellOfColSpan(a)),a=this.cellNavigationService.getNextCellToFocus(r,a),s=We(a);if(s&&e&&e.key===U.UP&&(a={rowIndex:-1,rowPinned:null,column:i.column}),o){var l=this.gridOptionsService.getCallback("navigateToNextCell");if(oe(l)){var u={key:r,previousCellPosition:i,nextCellPosition:a||null,event:e},c=l(u);oe(c)?(c.floating&&(Ge("tabToNextCellFunc return type should have attributes: rowIndex, rowPinned, column. However you had 'floating', maybe you meant 'rowPinned'?"),c.rowPinned=c.floating),a={rowPinned:c.rowPinned,rowIndex:c.rowIndex,column:c.column}):a=null}}if(a){if(a.rowIndex<0){var d=this.headerNavigationService.getHeaderRowCount();this.focusService.focusHeaderPosition({headerPosition:{headerRowIndex:d+a.rowIndex,column:i.column},event:e||void 0,fromCell:!0});return}var p=this.getNormalisedPosition(a);p?this.focusPosition(p):this.tryToFocusFullWidthRow(a)}},t.prototype.getNormalisedPosition=function(e){this.ensureCellVisible(e);var r=this.getCellByPosition(e);return r?(e=r.getCellPosition(),this.ensureCellVisible(e),e):null},t.prototype.tryToFocusFullWidthRow=function(e,r){r===void 0&&(r=!1);var i=this.columnModel.getAllDisplayedColumns(),o=this.rowRenderer.getRowByPosition(e);if(!o||!o.isFullWidth())return!1;var a=this.focusService.getFocusedCell(),s={rowIndex:e.rowIndex,rowPinned:e.rowPinned,column:e.column||(r?xt(i):i[0])};this.focusPosition(s);var l=a!=null?this.rowPositionUtils.before(s,a):!1,u={type:T.EVENT_FULL_WIDTH_ROW_FOCUSED,rowIndex:s.rowIndex,rowPinned:s.rowPinned,column:s.column,isFullWidthCell:!0,floating:s.rowPinned,fromBelow:l};return this.eventService.dispatchEvent(u),!0},t.prototype.focusPosition=function(e){this.focusService.setFocusedCell({rowIndex:e.rowIndex,column:e.column,rowPinned:e.rowPinned,forceBrowserFocus:!0}),this.rangeService&&this.rangeService.setRangeToCell(e)},t.prototype.isValidNavigateCell=function(e){var r=this.rowPositionUtils.getRowNode(e);return!!r},t.prototype.getLastCellOfColSpan=function(e){var r=this.getCellByPosition(e);if(!r)return e;var i=r.getColSpanningList();return i.length===1?e:{rowIndex:e.rowIndex,column:xt(i),rowPinned:e.rowPinned}},t.prototype.ensureCellVisible=function(e){var r=this.gridOptionsService.isGroupRowsSticky(),i=this.rowModel.getRow(e.rowIndex),o=r&&(i==null?void 0:i.sticky);!o&&We(e.rowPinned)&&this.gridBodyCon.getScrollFeature().ensureIndexVisible(e.rowIndex),e.column.isPinned()||this.gridBodyCon.getScrollFeature().ensureColumnVisible(e.column)},Ki([E("mouseEventService")],t.prototype,"mouseEventService",void 0),Ki([E("paginationProxy")],t.prototype,"paginationProxy",void 0),Ki([E("focusService")],t.prototype,"focusService",void 0),Ki([et("rangeService")],t.prototype,"rangeService",void 0),Ki([E("columnModel")],t.prototype,"columnModel",void 0),Ki([E("rowModel")],t.prototype,"rowModel",void 0),Ki([E("ctrlsService")],t.prototype,"ctrlsService",void 0),Ki([E("rowRenderer")],t.prototype,"rowRenderer",void 0),Ki([E("headerNavigationService")],t.prototype,"headerNavigationService",void 0),Ki([E("rowPositionUtils")],t.prototype,"rowPositionUtils",void 0),Ki([E("cellNavigationService")],t.prototype,"cellNavigationService",void 0),Ki([E("pinnedRowModel")],t.prototype,"pinnedRowModel",void 0),Ki([z],t.prototype,"postConstruct",null),t=Ki([ie("navigationService")],t),t}(X),tOe=function(){var n=function(t,e){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])},n(t,e)};return function(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");n(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}}(),rOe=function(n,t,e,r){var i=arguments.length,o=i<3?t:r===null?r=Object.getOwnPropertyDescriptor(t,e):r,a;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(n,t,e,r);else for(var s=n.length-1;s>=0;s--)(a=n[s])&&(o=(i<3?a(o):i>3?a(t,e,o):a(t,e))||o);return i>3&&o&&Object.defineProperty(t,e,o),o},lX=function(n){tOe(t,n);function t(e){var r=n.call(this,'<div class="ag-popup-editor" tabindex="-1"/>')||this;return r.params=e,r}return t.prototype.postConstruct=function(){this.gridOptionsService.setDomData(this.getGui(),t.DOM_KEY_POPUP_EDITOR_WRAPPER,!0),this.addKeyDownListener()},t.prototype.addKeyDownListener=function(){var e=this,r=this.getGui(),i=this.params,o=function(a){Mb(e.gridOptionsService,a,i.node,i.column,!0)||i.onKeyDown(a)};this.addManagedListener(r,"keydown",o)},t.DOM_KEY_POPUP_EDITOR_WRAPPER="popupEditorWrapper",rOe([z],t.prototype,"postConstruct",null),t}(mc),nOe=function(){var n=function(t,e){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])},n(t,e)};return function(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");n(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}}(),uX=function(n){nOe(t,n);function t(e,r,i,o,a){var s=n.call(this)||this;s.rendererVersion=0,s.editorVersion=0,s.beans=e,s.column=r.getColumn(),s.rowNode=r.getRowNode(),s.rowCtrl=r.getRowCtrl(),s.eRow=o,s.cellCtrl=r;var l=document.createElement("div");l.setAttribute("comp-id","".concat(s.getCompId())),s.setTemplateFromElement(l);var u=s.getGui();s.forceWrapper=r.isForceWrapper(),s.refreshWrapper(!1);var c=function(h,f){f!=null&&f!=""?u.setAttribute(h,f):u.removeAttribute(h)};hn(u,r.getCellAriaRole()),c("col-id",r.getColumnIdSanitised());var d=r.getTabIndex();d!==void 0&&c("tabindex",d.toString());var p={addOrRemoveCssClass:function(h,f){return s.addOrRemoveCssClass(h,f)},setUserStyles:function(h){return tG(u,h)},getFocusableElement:function(){return s.getFocusableElement()},setIncludeSelection:function(h){return s.includeSelection=h},setIncludeRowDrag:function(h){return s.includeRowDrag=h},setIncludeDndSource:function(h){return s.includeDndSource=h},setRenderDetails:function(h,f,v){return s.setRenderDetails(h,f,v)},setEditDetails:function(h,f,v){return s.setEditDetails(h,f,v)},getCellEditor:function(){return s.cellEditor||null},getCellRenderer:function(){return s.cellRenderer||null},getParentOfValue:function(){return s.getParentOfValue()}};return r.setComp(p,s.getGui(),s.eCellWrapper,i,a),s}return t.prototype.getParentOfValue=function(){return this.eCellValue?this.eCellValue:this.eCellWrapper?this.eCellWrapper:this.getGui()},t.prototype.setRenderDetails=function(e,r,i){var o=this.cellEditor&&!this.cellEditorPopupWrapper;if(!o){this.firstRender=this.firstRender==null;var a=this.refreshWrapper(!1);if(this.refreshEditStyles(!1),e){var s=i||a,l=s?!1:this.refreshCellRenderer(e);l||(this.destroyRenderer(),this.createCellRendererInstance(e))}else this.destroyRenderer(),this.insertValueWithoutCellRenderer(r)}},t.prototype.setEditDetails=function(e,r,i){e?this.createCellEditorInstance(e,r,i):this.destroyEditor()},t.prototype.removeControls=function(){this.checkboxSelectionComp=this.beans.context.destroyBean(this.checkboxSelectionComp),this.dndSourceComp=this.beans.context.destroyBean(this.dndSourceComp),this.rowDraggingComp=this.beans.context.destroyBean(this.rowDraggingComp)},t.prototype.refreshWrapper=function(e){var r=this.includeRowDrag||this.includeDndSource||this.includeSelection,i=r||this.forceWrapper,o=i&&this.eCellWrapper==null;if(o){var a=document.createElement("div");a.setAttribute("role","presentation"),a.setAttribute("class","ag-cell-wrapper"),this.eCellWrapper=a,this.getGui().appendChild(this.eCellWrapper)}var s=!i&&this.eCellWrapper!=null;s&&(Nl(this.eCellWrapper),this.eCellWrapper=void 0),this.addOrRemoveCssClass("ag-cell-value",!i);var l=!e&&i,u=l&&this.eCellValue==null;if(u){var c=document.createElement("span");c.setAttribute("role","presentation"),c.setAttribute("class","ag-cell-value"),this.eCellValue=c,this.eCellWrapper.appendChild(this.eCellValue)}var d=!l&&this.eCellValue!=null;d&&(Nl(this.eCellValue),this.eCellValue=void 0);var p=o||s||u||d;return p&&this.removeControls(),e||r&&this.addControls(),p},t.prototype.addControls=function(){this.includeRowDrag&&this.rowDraggingComp==null&&(this.rowDraggingComp=this.cellCtrl.createRowDragComp(),this.rowDraggingComp&&this.eCellWrapper.insertBefore(this.rowDraggingComp.getGui(),this.eCellValue)),this.includeDndSource&&this.dndSourceComp==null&&(this.dndSourceComp=this.cellCtrl.createDndSource(),this.eCellWrapper.insertBefore(this.dndSourceComp.getGui(),this.eCellValue)),this.includeSelection&&this.checkboxSelectionComp==null&&(this.checkboxSelectionComp=this.cellCtrl.createSelectionCheckbox(),this.eCellWrapper.insertBefore(this.checkboxSelectionComp.getGui(),this.eCellValue))},t.prototype.createCellEditorInstance=function(e,r,i){var o=this,a=this.editorVersion,s=e.newAgStackInstance();if(s){var l=e.params;s.then(function(c){return o.afterCellEditorCreated(a,c,l,r,i)});var u=We(this.cellEditor);u&&l.cellStartedEdit&&this.cellCtrl.focusCell(!0)}},t.prototype.insertValueWithoutCellRenderer=function(e){var r=this.getParentOfValue();Rn(r);var i=e!=null?cn(e,!0):null;i!=null&&(r.textContent=i)},t.prototype.destroyEditorAndRenderer=function(){this.destroyRenderer(),this.destroyEditor()},t.prototype.destroyRenderer=function(){var e=this.beans.context;this.cellRenderer=e.destroyBean(this.cellRenderer),Nl(this.cellRendererGui),this.cellRendererGui=null,this.rendererVersion++},t.prototype.destroyEditor=function(){var e=this.beans.context;this.hideEditorPopup&&this.hideEditorPopup(),this.hideEditorPopup=void 0,this.cellEditor=e.destroyBean(this.cellEditor),this.cellEditorPopupWrapper=e.destroyBean(this.cellEditorPopupWrapper),Nl(this.cellEditorGui),this.cellEditorGui=null,this.editorVersion++},t.prototype.refreshCellRenderer=function(e){if(this.cellRenderer==null||this.cellRenderer.refresh==null||this.cellRendererClass!==e.componentClass)return!1;var r=this.cellRenderer.refresh(e.params);return r===!0||r===void 0},t.prototype.createCellRendererInstance=function(e){var r=this,i=this.beans.gridOptionsService.get("suppressAnimationFrame"),o=!i,a=this.rendererVersion,s=e.componentClass,l=function(){var u=r.rendererVersion!==a||!r.isAlive();if(!u){var c=e.newAgStackInstance(),d=r.afterCellRendererCreated.bind(r,a,s);c&&c.then(d)}};o&&this.firstRender?this.beans.animationFrameService.createTask(l,this.rowNode.rowIndex,"createTasksP2"):l()},t.prototype.getCtrl=function(){return this.cellCtrl},t.prototype.getRowCtrl=function(){return this.rowCtrl},t.prototype.getCellRenderer=function(){return this.cellRenderer},t.prototype.getCellEditor=function(){return this.cellEditor},t.prototype.afterCellRendererCreated=function(e,r,i){var o=!this.isAlive()||e!==this.rendererVersion;if(o){this.beans.context.destroyBean(i);return}if(this.cellRenderer=i,this.cellRendererClass=r,this.cellRendererGui=this.cellRenderer.getGui(),this.cellRendererGui!=null){var a=this.getParentOfValue();Rn(a),a.appendChild(this.cellRendererGui)}},t.prototype.afterCellEditorCreated=function(e,r,i,o,a){var s=e!==this.editorVersion;if(s){this.beans.context.destroyBean(r);return}var l=r.isCancelBeforeStart&&r.isCancelBeforeStart();if(l){this.beans.context.destroyBean(r),this.cellCtrl.stopEditing(!0);return}if(!r.getGui){console.warn("AG Grid: cellEditor for column ".concat(this.column.getId()," is missing getGui() method")),this.beans.context.destroyBean(r);return}this.cellEditor=r,this.cellEditorGui=r.getGui();var u=o||r.isPopup!==void 0&&r.isPopup();u?this.addPopupCellEditor(i,a):this.addInCellEditor(),this.refreshEditStyles(!0,u),r.afterGuiAttached&&r.afterGuiAttached()},t.prototype.refreshEditStyles=function(e,r){var i;this.addOrRemoveCssClass("ag-cell-inline-editing",e&&!r),this.addOrRemoveCssClass("ag-cell-popup-editing",e&&!!r),this.addOrRemoveCssClass("ag-cell-not-inline-editing",!e||!!r),(i=this.rowCtrl)===null||i===void 0||i.setInlineEditingCss(e)},t.prototype.addInCellEditor=function(){var e=this.getGui(),r=this.beans.gridOptionsService.getDocument();if(e.contains(r.activeElement)&&e.focus(),this.destroyRenderer(),this.refreshWrapper(!0),this.clearParentOfValue(),this.cellEditorGui){var i=this.getParentOfValue();i.appendChild(this.cellEditorGui)}},t.prototype.addPopupCellEditor=function(e,r){var i=this;this.beans.gridOptionsService.get("editType")==="fullRow"&&console.warn("AG Grid: popup cellEditor does not work with fullRowEdit - you cannot use them both - either turn off fullRowEdit, or stop using popup editors.");var o=this.cellEditor;this.cellEditorPopupWrapper=this.beans.context.createBean(new lX(e));var a=this.cellEditorPopupWrapper.getGui();this.cellEditorGui&&a.appendChild(this.cellEditorGui);var s=this.beans.popupService,l=this.beans.gridOptionsService.get("stopEditingWhenCellsLoseFocus"),u=r??(o.getPopupPosition?o.getPopupPosition():"over"),c=this.beans.gridOptionsService.get("enableRtl"),d={ePopup:a,column:this.column,rowNode:this.rowNode,type:"popupCellEditor",eventSource:this.getGui(),position:u,alignSide:c?"right":"left",keepWithinBounds:!0},p=s.positionPopupByComponent.bind(s,d),h=this.beans.localeService.getLocaleTextFunc(),f=s.addPopup({modal:l,eChild:a,closeOnEsc:!0,closedCallback:function(){i.cellCtrl.onPopupEditorClosed()},anchorToElement:this.getGui(),positionCallback:p,ariaLabel:h("ariaLabelCellEditor","Cell Editor")});f&&(this.hideEditorPopup=f.hideFunc)},t.prototype.detach=function(){this.eRow.removeChild(this.getGui())},t.prototype.destroy=function(){this.cellCtrl.stopEditing(),this.destroyEditorAndRenderer(),this.removeControls(),n.prototype.destroy.call(this)},t.prototype.clearParentOfValue=function(){var e=this.getGui(),r=this.beans.gridOptionsService.getDocument();e.contains(r.activeElement)&&Uk()&&e.focus({preventScroll:!0}),Rn(this.getParentOfValue())},t}(ae),iOe=function(){var n=function(t,e){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])},n(t,e)};return function(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");n(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}}(),oOe=function(n){iOe(t,n);function t(e,r,i){var o=n.call(this)||this;o.cellComps={},o.beans=r,o.rowCtrl=e;var a=document.createElement("div");a.setAttribute("comp-id","".concat(o.getCompId())),a.setAttribute("style",o.getInitialStyle(i)),o.setTemplateFromElement(a);var s=o.getGui(),l=s.style;o.domOrder=o.rowCtrl.getDomOrder(),hn(s,"row");var u=o.rowCtrl.getTabIndex();u!=null&&s.setAttribute("tabindex",u.toString());var c={setDomOrder:function(d){return o.domOrder=d},setCellCtrls:function(d){return o.setCellCtrls(d)},showFullWidth:function(d){return o.showFullWidth(d)},getFullWidthCellRenderer:function(){return o.getFullWidthCellRenderer()},addOrRemoveCssClass:function(d,p){return o.addOrRemoveCssClass(d,p)},setUserStyles:function(d){return tG(s,d)},setTop:function(d){return l.top=d},setTransform:function(d){return l.transform=d},setRowIndex:function(d){return s.setAttribute("row-index",d)},setRowId:function(d){return s.setAttribute("row-id",d)},setRowBusinessKey:function(d){return s.setAttribute("row-business-key",d)},refreshFullWidth:function(d){return o.refreshFullWidth(d)}};return e.setComp(c,o.getGui(),i),o.addDestroyFunc(function(){e.unsetComp(i)}),o}return t.prototype.getInitialStyle=function(e){var r=this.rowCtrl.getInitialTransform(e);return r?"transform: ".concat(r):"top: ".concat(this.rowCtrl.getInitialRowTop(e))},t.prototype.showFullWidth=function(e){var r=this,i=function(a){if(r.isAlive()){var s=a.getGui();r.getGui().appendChild(s),r.rowCtrl.setupDetailRowAutoHeight(s),r.setFullWidthRowComp(a)}else r.beans.context.destroyBean(a)},o=e.newAgStackInstance();o&&o.then(i)},t.prototype.setCellCtrls=function(e){var r=this,i=Object.assign({},this.cellComps);e.forEach(function(a){var s=a.getInstanceId(),l=r.cellComps[s];l==null?r.newCellComp(a):i[s]=null});var o=Kd(i).filter(function(a){return a!=null});this.destroyCells(o),this.ensureDomOrder(e)},t.prototype.ensureDomOrder=function(e){var r=this;if(this.domOrder){var i=[];e.forEach(function(o){var a=r.cellComps[o.getInstanceId()];a&&i.push(a.getGui())}),eG(this.getGui(),i)}},t.prototype.newCellComp=function(e){var r=new uX(this.beans,e,this.rowCtrl.isPrintLayout(),this.getGui(),this.rowCtrl.isEditing());this.cellComps[e.getInstanceId()]=r,this.getGui().appendChild(r.getGui())},t.prototype.destroy=function(){n.prototype.destroy.call(this),this.destroyAllCells()},t.prototype.destroyAllCells=function(){var e=Kd(this.cellComps).filter(function(r){return r!=null});this.destroyCells(e)},t.prototype.setFullWidthRowComp=function(e){var r=this;this.fullWidthCellRenderer&&console.error("AG Grid - should not be setting fullWidthRowComponent twice"),this.fullWidthCellRenderer=e,this.addDestroyFunc(function(){r.fullWidthCellRenderer=r.beans.context.destroyBean(r.fullWidthCellRenderer)})},t.prototype.getFullWidthCellRenderer=function(){return this.fullWidthCellRenderer},t.prototype.destroyCells=function(e){var r=this;e.forEach(function(i){if(i){var o=i.getCtrl().getInstanceId();r.cellComps[o]===i&&(i.detach(),i.destroy(),r.cellComps[o]=null)}})},t.prototype.refreshFullWidth=function(e){var r=this.fullWidthCellRenderer;if(!r||!r.refresh)return!1;var i=e();return r.refresh(i)},t}(ae),aOe=function(){var n=function(t,e){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])},n(t,e)};return function(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");n(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}}(),RF=function(){return RF=Object.assign||function(n){for(var t,e=1,r=arguments.length;e<r;e++){t=arguments[e];for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(n[i]=t[i])}return n},RF.apply(this,arguments)},Wy=function(n,t,e,r){var i=arguments.length,o=i<3?t:r===null?r=Object.getOwnPropertyDescriptor(t,e):r,a;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(n,t,e,r);else for(var s=n.length-1;s>=0;s--)(a=n[s])&&(o=(i<3?a(o):i>3?a(t,e,o):a(t,e))||o);return i>3&&o&&Object.defineProperty(t,e,o),o};function sOe(){var n=ae.elementGettingCreated.getAttribute("name"),t=CG.getRowContainerCssClasses(n),e,r=n===re.CENTER||n===re.TOP_CENTER||n===re.STICKY_TOP_CENTER||n===re.BOTTOM_CENTER;return r?e='<div class="'.concat(t.viewport,`" ref="eViewport" role="presentation">
                <div class="`).concat(t.container,`" ref="eContainer"></div>
            </div>`):e='<div class="'.concat(t.container,'" ref="eContainer"></div>'),e}var cX=function(n){aOe(t,n);function t(){var e=n.call(this,sOe())||this;return e.rowComps={},e.name=ae.elementGettingCreated.getAttribute("name"),e.type=nX(e.name),e}return t.prototype.postConstruct=function(){var e=this,r={setViewportHeight:function(o){return e.eViewport.style.height=o},setRowCtrls:function(o){var a=o.rowCtrls;return e.setRowCtrls(a)},setDomOrder:function(o){e.domOrder=o},setContainerWidth:function(o){return e.eContainer.style.width=o}},i=this.createManagedBean(new CG(this.name));i.setComp(r,this.eContainer,this.eViewport)},t.prototype.preDestroy=function(){this.setRowCtrls([])},t.prototype.setRowCtrls=function(e){var r=this,i=RF({},this.rowComps);this.rowComps={},this.lastPlacedElement=null;var o=function(a){var s=a.getInstanceId(),l=i[s];if(l)r.rowComps[s]=l,delete i[s],r.ensureDomOrder(l.getGui());else{if(!a.getRowNode().displayed)return;var u=new oOe(a,r.beans,r.type);r.rowComps[s]=u,r.appendRow(u.getGui())}};e.forEach(o),Kd(i).forEach(function(a){r.eContainer.removeChild(a.getGui()),a.destroy()}),hn(this.eContainer,"rowgroup")},t.prototype.appendRow=function(e){this.domOrder?sY(this.eContainer,e,this.lastPlacedElement):this.eContainer.appendChild(e),this.lastPlacedElement=e},t.prototype.ensureDomOrder=function(e){this.domOrder&&(Jk(this.eContainer,e,this.lastPlacedElement),this.lastPlacedElement=e)},Wy([E("beans")],t.prototype,"beans",void 0),Wy([j("eViewport")],t.prototype,"eViewport",void 0),Wy([j("eContainer")],t.prototype,"eContainer",void 0),Wy([z],t.prototype,"postConstruct",null),Wy([ar],t.prototype,"preDestroy",null),t}(ae),_$=function(n,t,e,r){var i=arguments.length,o=i<3?t:r===null?r=Object.getOwnPropertyDescriptor(t,e):r,a;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(n,t,e,r);else for(var s=n.length-1;s>=0;s--)(a=n[s])&&(o=(i<3?a(o):i>3?a(t,e,o):a(t,e))||o);return i>3&&o&&Object.defineProperty(t,e,o),o},dX=function(){function n(t){this.columnsToAggregate=[],this.columnsToGroup=[],this.columnsToPivot=[],this.pinned=t}return n.prototype.onDragEnter=function(t){var e=this;if(this.clearColumnsList(),!this.gridOptionsService.get("functionsReadOnly")){var r=t.dragItem.columns;r&&r.forEach(function(i){i.isPrimary()&&(i.isAnyFunctionActive()||(i.isAllowValue()?e.columnsToAggregate.push(i):i.isAllowRowGroup()?e.columnsToGroup.push(i):i.isAllowPivot()&&e.columnsToPivot.push(i)))})}},n.prototype.getIconName=function(){var t=this.columnsToAggregate.length+this.columnsToGroup.length+this.columnsToPivot.length;return t>0?this.pinned?St.ICON_PINNED:St.ICON_MOVE:null},n.prototype.onDragLeave=function(t){this.clearColumnsList()},n.prototype.clearColumnsList=function(){this.columnsToAggregate.length=0,this.columnsToGroup.length=0,this.columnsToPivot.length=0},n.prototype.onDragging=function(t){},n.prototype.onDragStop=function(t){this.columnsToAggregate.length>0&&this.columnModel.addValueColumns(this.columnsToAggregate,"toolPanelDragAndDrop"),this.columnsToGroup.length>0&&this.columnModel.addRowGroupColumns(this.columnsToGroup,"toolPanelDragAndDrop"),this.columnsToPivot.length>0&&this.columnModel.addPivotColumns(this.columnsToPivot,"toolPanelDragAndDrop")},_$([E("columnModel")],n.prototype,"columnModel",void 0),_$([E("gridOptionsService")],n.prototype,"gridOptionsService",void 0),n}(),lOe=function(n,t){var e=typeof Symbol=="function"&&n[Symbol.iterator];if(!e)return n;var r=e.call(n),i,o=[],a;try{for(;(t===void 0||t-- >0)&&!(i=r.next()).done;)o.push(i.value)}catch(s){a={error:s}}finally{try{i&&!i.done&&(e=r.return)&&e.call(r)}finally{if(a)throw a.error}}return o},kh=function(){function n(){}return n.attemptMoveColumns=function(t){var e=t.isFromHeader,r=t.hDirection,i=t.xPosition,o=t.fromEnter,a=t.fakeEvent,s=t.pinned,l=t.gridOptionsService,u=t.columnModel,c=r===vo.Left,d=r===vo.Right,p=t.allMovingColumns;if(e){var h=[];p.forEach(function(D){for(var N,L=null,I=D.getParent();I!=null&&I.getDisplayedLeafColumns().length===1;)L=I,I=I.getParent();if(L!=null){var k=!!(!((N=L.getColGroupDef())===null||N===void 0)&&N.marryChildren),H=k?L.getProvidedColumnGroup().getLeafColumns():L.getLeafColumns();H.forEach(function($){h.includes($)||h.push($)})}else h.includes(D)||h.push(D)}),p=h}var f=p.slice();u.sortColumnsLikeGridColumns(f);var v=this.calculateValidMoves({movingCols:f,draggingRight:d,xPosition:i,pinned:s,gridOptionsService:l,columnModel:u}),g=this.calculateOldIndex(f,u);if(v.length!==0){var y=v[0],m=g!==null&&!o;if(e&&(m=g!==null),!(m&&!a&&(c&&y>=g||d&&y<=g))){for(var C=u.getAllDisplayedColumns(),S=[],w=null,_=0;_<v.length;_++){var x=v[_],b=u.getProposedColumnOrder(f,x);if(u.doesOrderPassRules(b)){var O=b.filter(function(D){return C.includes(D)});if(w===null)w=O;else if(!Gu(O,w))break;var P=this.groupFragCount(b);S.push({move:x,fragCount:P})}}if(S.length!==0)return S.sort(function(D,N){return D.fragCount-N.fragCount}),this.moveColumns(p,S[0].move,"uiColumnMoved",!1,u)}}},n.moveColumns=function(t,e,r,i,o){return o.moveColumns(t,e,r,i),i?null:{columns:t,toIndex:e}},n.calculateOldIndex=function(t,e){var r=e.getAllGridColumns(),i=E7(t.map(function(u){return r.indexOf(u)})),o=i[0],a=xt(i),s=a-o,l=s!==i.length-1;return l?null:o},n.groupFragCount=function(t){function e(a){for(var s=[],l=a.getOriginalParent();l!=null;)s.push(l),l=l.getOriginalParent();return s}for(var r=0,i=function(a){var s,l=e(t[a]),u=e(t[a+1]);s=lOe(l.length>u.length?[l,u]:[u,l],2),l=s[0],u=s[1],l.forEach(function(c){u.indexOf(c)===-1&&r++})},o=0;o<t.length-1;o++)i(o);return r},n.calculateValidMoves=function(t){var e=t.movingCols,r=t.draggingRight,i=t.xPosition,o=t.pinned,a=t.gridOptionsService,s=t.columnModel,l=a.get("suppressMovableColumns")||e.some(function(D){return D.getColDef().suppressMovable});if(l)return[];var u=s.getDisplayedColumns(o),c=s.getAllGridColumns(),d=u.filter(function(D){return Ls(e,D)}),p=u.filter(function(D){return!Ls(e,D)}),h=c.filter(function(D){return!Ls(e,D)}),f=0,v=i;if(r){var g=0;d.forEach(function(D){return g+=D.getActualWidth()}),v-=g}if(v>0){for(var y=0;y<p.length;y++){var m=p[y];if(v-=m.getActualWidth(),v<0)break;f++}r&&f++}var C;if(f>0){var S=p[f-1];C=h.indexOf(S)+1}else C=h.indexOf(p[0]),C===-1&&(C=0);var w=[C],_=function(D,N){return D-N};if(r){for(var x=C+1,b=c.length-1;x<=b;)w.push(x),x++;w.sort(_)}else{for(var x=C,b=c.length-1,O=c[x];x<=b&&u.indexOf(O)<0;)x++,w.push(x),O=c[x];x=C-1;for(var P=0;x>=P;)w.push(x),x--;w.sort(_).reverse()}return w},n.normaliseX=function(t,e,r,i,o){var a=o.getHeaderRowContainerCtrl(e).getViewport();if(r&&(t-=a.getBoundingClientRect().left),i.get("enableRtl")){var s=a.clientWidth;t=s-t}return e==null&&(t+=o.getCenterRowContainerCtrl().getCenterViewportScrollLeft()),t},n}(),Uy=function(n,t,e,r){var i=arguments.length,o=i<3?t:r===null?r=Object.getOwnPropertyDescriptor(t,e):r,a;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(n,t,e,r);else for(var s=n.length-1;s>=0;s--)(a=n[s])&&(o=(i<3?a(o):i>3?a(t,e,o):a(t,e))||o);return i>3&&o&&Object.defineProperty(t,e,o),o},pX=function(){function n(t,e){this.needToMoveLeft=!1,this.needToMoveRight=!1,this.lastMovedInfo=null,this.pinned=t,this.eContainer=e,this.centerContainer=!oe(t)}return n.prototype.init=function(){var t=this;this.ctrlsService.whenReady(function(){t.gridBodyCon=t.ctrlsService.getGridBodyCtrl()})},n.prototype.getIconName=function(){return this.pinned?St.ICON_PINNED:St.ICON_MOVE},n.prototype.onDragEnter=function(t){var e=t.dragItem.columns,r=t.dragSource.type===Or.ToolPanel;if(r)this.setColumnsVisible(e,!0,"uiColumnDragged");else{var i=t.dragItem.visibleState,o=(e||[]).filter(function(a){return i[a.getId()]});this.setColumnsVisible(o,!0,"uiColumnDragged")}this.setColumnsPinned(e,this.pinned,"uiColumnDragged"),this.onDragging(t,!0,!0)},n.prototype.onDragLeave=function(){this.ensureIntervalCleared(),this.lastMovedInfo=null},n.prototype.setColumnsVisible=function(t,e,r){if(t){var i=t.filter(function(o){return!o.getColDef().lockVisible});this.columnModel.setColumnsVisible(i,e,r)}},n.prototype.setColumnsPinned=function(t,e,r){if(t){var i=t.filter(function(o){return!o.getColDef().lockPinned});this.columnModel.setColumnsPinned(i,e,r)}},n.prototype.onDragStop=function(){this.onDragging(this.lastDraggingEvent,!1,!0,!0),this.ensureIntervalCleared(),this.lastMovedInfo=null},n.prototype.checkCenterForScrolling=function(t){if(this.centerContainer){var e=this.ctrlsService.getCenterRowContainerCtrl().getCenterViewportScrollLeft(),r=e+this.ctrlsService.getCenterRowContainerCtrl().getCenterWidth();this.gridOptionsService.get("enableRtl")?(this.needToMoveRight=t<e+50,this.needToMoveLeft=t>r-50):(this.needToMoveLeft=t<e+50,this.needToMoveRight=t>r-50),this.needToMoveLeft||this.needToMoveRight?this.ensureIntervalStarted():this.ensureIntervalCleared()}},n.prototype.onDragging=function(t,e,r,i){var o=this,a;if(t===void 0&&(t=this.lastDraggingEvent),e===void 0&&(e=!1),r===void 0&&(r=!1),i===void 0&&(i=!1),i){if(this.lastMovedInfo){var s=this.lastMovedInfo,l=s.columns,u=s.toIndex;kh.moveColumns(l,u,"uiColumnMoved",!0,this.columnModel)}return}if(this.lastDraggingEvent=t,!We(t.hDirection)){var c=kh.normaliseX(t.x,this.pinned,!1,this.gridOptionsService,this.ctrlsService);e||this.checkCenterForScrolling(c);var d=this.normaliseDirection(t.hDirection),p=t.dragSource.type,h=((a=t.dragSource.getDragItem().columns)===null||a===void 0?void 0:a.filter(function(v){return v.getColDef().lockPinned?v.getPinned()==o.pinned:!0}))||[],f=kh.attemptMoveColumns({allMovingColumns:h,isFromHeader:p===Or.HeaderCell,hDirection:d,xPosition:c,pinned:this.pinned,fromEnter:e,fakeEvent:r,gridOptionsService:this.gridOptionsService,columnModel:this.columnModel});f&&(this.lastMovedInfo=f)}},n.prototype.normaliseDirection=function(t){if(this.gridOptionsService.get("enableRtl"))switch(t){case vo.Left:return vo.Right;case vo.Right:return vo.Left;default:console.error("AG Grid: Unknown direction ".concat(t))}else return t},n.prototype.ensureIntervalStarted=function(){this.movingIntervalId||(this.intervalCount=0,this.failedMoveAttempts=0,this.movingIntervalId=window.setInterval(this.moveInterval.bind(this),100),this.needToMoveLeft?this.dragAndDropService.setGhostIcon(St.ICON_LEFT,!0):this.dragAndDropService.setGhostIcon(St.ICON_RIGHT,!0))},n.prototype.ensureIntervalCleared=function(){this.movingIntervalId&&(window.clearInterval(this.movingIntervalId),this.movingIntervalId=null,this.dragAndDropService.setGhostIcon(St.ICON_MOVE))},n.prototype.moveInterval=function(){var t;this.intervalCount++,t=10+this.intervalCount*5,t>100&&(t=100);var e=null,r=this.gridBodyCon.getScrollFeature();if(this.needToMoveLeft?e=r.scrollHorizontally(-t):this.needToMoveRight&&(e=r.scrollHorizontally(t)),e!==0)this.onDragging(this.lastDraggingEvent),this.failedMoveAttempts=0;else{this.failedMoveAttempts++;var i=this.lastDraggingEvent.dragItem.columns,o=i.filter(function(s){return!s.getColDef().lockPinned});if(o.length>0&&(this.dragAndDropService.setGhostIcon(St.ICON_PINNED),this.failedMoveAttempts>7)){var a=this.needToMoveLeft?"left":"right";this.setColumnsPinned(o,a,"uiColumnDragged"),this.dragAndDropService.nudge()}}},Uy([E("columnModel")],n.prototype,"columnModel",void 0),Uy([E("dragAndDropService")],n.prototype,"dragAndDropService",void 0),Uy([E("gridOptionsService")],n.prototype,"gridOptionsService",void 0),Uy([E("ctrlsService")],n.prototype,"ctrlsService",void 0),Uy([z],n.prototype,"init",null),n}(),uOe=function(){var n=function(t,e){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])},n(t,e)};return function(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");n(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}}(),zy=function(n,t,e,r){var i=arguments.length,o=i<3?t:r===null?r=Object.getOwnPropertyDescriptor(t,e):r,a;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(n,t,e,r);else for(var s=n.length-1;s>=0;s--)(a=n[s])&&(o=(i<3?a(o):i>3?a(t,e,o):a(t,e))||o);return i>3&&o&&Object.defineProperty(t,e,o),o},hX=function(n){uOe(t,n);function t(e,r){var i=n.call(this)||this;return i.pinned=e,i.eContainer=r,i}return t.prototype.postConstruct=function(){var e=this;this.ctrlsService.whenReady(function(r){switch(e.pinned){case"left":e.eSecondaryContainers=[[r.gridBodyCtrl.getBodyViewportElement(),r.leftRowContainerCtrl.getContainerElement()],[r.bottomLeftRowContainerCtrl.getContainerElement()],[r.topLeftRowContainerCtrl.getContainerElement()]];break;case"right":e.eSecondaryContainers=[[r.gridBodyCtrl.getBodyViewportElement(),r.rightRowContainerCtrl.getContainerElement()],[r.bottomRightRowContainerCtrl.getContainerElement()],[r.topRightRowContainerCtrl.getContainerElement()]];break;default:e.eSecondaryContainers=[[r.gridBodyCtrl.getBodyViewportElement(),r.centerRowContainerCtrl.getViewportElement()],[r.bottomCenterRowContainerCtrl.getViewportElement()],[r.topCenterRowContainerCtrl.getViewportElement()]];break}})},t.prototype.isInterestedIn=function(e){return e===Or.HeaderCell||e===Or.ToolPanel&&this.gridOptionsService.get("allowDragFromColumnsToolPanel")},t.prototype.getSecondaryContainers=function(){return this.eSecondaryContainers},t.prototype.getContainer=function(){return this.eContainer},t.prototype.init=function(){this.moveColumnFeature=this.createManagedBean(new pX(this.pinned,this.eContainer)),this.bodyDropPivotTarget=this.createManagedBean(new dX(this.pinned)),this.dragAndDropService.addDropTarget(this)},t.prototype.getIconName=function(){return this.currentDropListener.getIconName()},t.prototype.isDropColumnInPivotMode=function(e){return this.columnModel.isPivotMode()&&e.dragSource.type===Or.ToolPanel},t.prototype.onDragEnter=function(e){this.currentDropListener=this.isDropColumnInPivotMode(e)?this.bodyDropPivotTarget:this.moveColumnFeature,this.currentDropListener.onDragEnter(e)},t.prototype.onDragLeave=function(e){this.currentDropListener.onDragLeave(e)},t.prototype.onDragging=function(e){this.currentDropListener.onDragging(e)},t.prototype.onDragStop=function(e){this.currentDropListener.onDragStop(e)},zy([E("dragAndDropService")],t.prototype,"dragAndDropService",void 0),zy([E("columnModel")],t.prototype,"columnModel",void 0),zy([E("ctrlsService")],t.prototype,"ctrlsService",void 0),zy([z],t.prototype,"postConstruct",null),zy([z],t.prototype,"init",null),t}(X),cOe=function(){var n=function(t,e){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])},n(t,e)};return function(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");n(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}}(),u_=function(n,t,e,r){var i=arguments.length,o=i<3?t:r===null?r=Object.getOwnPropertyDescriptor(t,e):r,a;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(n,t,e,r);else for(var s=n.length-1;s>=0;s--)(a=n[s])&&(o=(i<3?a(o):i>3?a(t,e,o):a(t,e))||o);return i>3&&o&&Object.defineProperty(t,e,o),o},dOe=function(n){cOe(t,n);function t(e){var r=n.call(this,t.TEMPLATE,e)||this;return r.headerCompVersion=0,r.column=e.getColumnGroupChild(),r.pinned=e.getPinned(),r}return t.prototype.postConstruct=function(){var e=this,r=this.getGui(),i=function(s,l){l!=null&&l!=""?r.setAttribute(s,l):r.removeAttribute(s)};i("col-id",this.column.getColId());var o={setWidth:function(s){return r.style.width=s},addOrRemoveCssClass:function(s,l){return e.addOrRemoveCssClass(s,l)},setAriaSort:function(s){return s?Z7(r,s):Q7(r)},setUserCompDetails:function(s){return e.setUserCompDetails(s)},getUserCompInstance:function(){return e.headerComp}};this.ctrl.setComp(o,this.getGui(),this.eResize,this.eHeaderCompWrapper);var a=this.ctrl.getSelectAllGui();this.eResize.insertAdjacentElement("afterend",a)},t.prototype.destroyHeaderComp=function(){this.headerComp&&(this.eHeaderCompWrapper.removeChild(this.headerCompGui),this.headerComp=this.destroyBean(this.headerComp),this.headerCompGui=void 0)},t.prototype.setUserCompDetails=function(e){var r=this;this.headerCompVersion++;var i=this.headerCompVersion;e.newAgStackInstance().then(function(o){return r.afterCompCreated(i,o)})},t.prototype.afterCompCreated=function(e,r){if(e!=this.headerCompVersion||!this.isAlive()){this.destroyBean(r);return}this.destroyHeaderComp(),this.headerComp=r,this.headerCompGui=r.getGui(),this.eHeaderCompWrapper.appendChild(this.headerCompGui),this.ctrl.setDragSource(this.getGui())},t.TEMPLATE=`<div class="ag-header-cell" role="columnheader">
            <div ref="eResize" class="ag-header-cell-resize" role="presentation"></div>
            <div ref="eHeaderCompWrapper" class="ag-header-cell-comp-wrapper" role="presentation"></div>
        </div>`,u_([j("eResize")],t.prototype,"eResize",void 0),u_([j("eHeaderCompWrapper")],t.prototype,"eHeaderCompWrapper",void 0),u_([z],t.prototype,"postConstruct",null),u_([ar],t.prototype,"destroyHeaderComp",null),t}(vG),pOe=function(){var n=function(t,e){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])},n(t,e)};return function(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");n(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}}(),x$=function(n,t,e,r){var i=arguments.length,o=i<3?t:r===null?r=Object.getOwnPropertyDescriptor(t,e):r,a;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(n,t,e,r);else for(var s=n.length-1;s>=0;s--)(a=n[s])&&(o=(i<3?a(o):i>3?a(t,e,o):a(t,e))||o);return i>3&&o&&Object.defineProperty(t,e,o),o},hOe=function(n){pOe(t,n);function t(e){return n.call(this,t.TEMPLATE,e)||this}return t.prototype.postConstruct=function(){var e=this,r=this.getGui(),i=function(a,s){return s!=null?r.setAttribute(a,s):r.removeAttribute(a)};r.setAttribute("col-id",this.ctrl.getColId());var o={addOrRemoveCssClass:function(a,s){return e.addOrRemoveCssClass(a,s)},setResizableDisplayed:function(a){return Ct(e.eResize,a)},setWidth:function(a){return r.style.width=a},setAriaExpanded:function(a){return i("aria-expanded",a)},setUserCompDetails:function(a){return e.setUserCompDetails(a)},getUserCompInstance:function(){return e.headerGroupComp}};this.ctrl.setComp(o,r,this.eResize)},t.prototype.setUserCompDetails=function(e){var r=this;e.newAgStackInstance().then(function(i){return r.afterHeaderCompCreated(i)})},t.prototype.afterHeaderCompCreated=function(e){var r=this,i=function(){return r.destroyBean(e)};if(!this.isAlive()){i();return}var o=this.getGui(),a=e.getGui();o.appendChild(a),this.addDestroyFunc(i),this.headerGroupComp=e,this.ctrl.setDragSource(o)},t.TEMPLATE=`<div class="ag-header-group-cell" role="columnheader">
            <div ref="eResize" class="ag-header-cell-resize" role="presentation"></div>
        </div>`,x$([j("eResize")],t.prototype,"eResize",void 0),x$([z],t.prototype,"postConstruct",null),t}(vG),fOe=function(){var n=function(t,e){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])},n(t,e)};return function(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");n(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}}(),E$=function(n,t,e,r){var i=arguments.length,o=i<3?t:r===null?r=Object.getOwnPropertyDescriptor(t,e):r,a;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(n,t,e,r);else for(var s=n.length-1;s>=0;s--)(a=n[s])&&(o=(i<3?a(o):i>3?a(t,e,o):a(t,e))||o);return i>3&&o&&Object.defineProperty(t,e,o),o},Nn;(function(n){n.COLUMN_GROUP="group",n.COLUMN="column",n.FLOATING_FILTER="filter"})(Nn||(Nn={}));var fX=function(n){fOe(t,n);function t(e){var r=n.call(this)||this;return r.headerComps={},r.ctrl=e,r.setTemplate('<div class="'.concat(r.ctrl.getHeaderRowClass(),'" role="row"></div>')),r}return t.prototype.init=function(){var e=this;Gk(this.getGui(),this.ctrl.getAriaRowIndex());var r={setHeight:function(i){return e.getGui().style.height=i},setTop:function(i){return e.getGui().style.top=i},setHeaderCtrls:function(i,o){return e.setHeaderCtrls(i,o)},setWidth:function(i){return e.getGui().style.width=i}};this.ctrl.setComp(r)},t.prototype.destroyHeaderCtrls=function(){this.setHeaderCtrls([],!1)},t.prototype.setHeaderCtrls=function(e,r){var i=this;if(this.isAlive()){var o=this.headerComps;if(this.headerComps={},e.forEach(function(l){var u=l.getInstanceId(),c=o[u];delete o[u],c==null&&(c=i.createHeaderComp(l),i.getGui().appendChild(c.getGui())),i.headerComps[u]=c}),gi(o,function(l,u){i.getGui().removeChild(u.getGui()),i.destroyBean(u)}),r){var a=Kd(this.headerComps);a.sort(function(l,u){var c=l.getCtrl().getColumnGroupChild().getLeft(),d=u.getCtrl().getColumnGroupChild().getLeft();return c-d});var s=a.map(function(l){return l.getGui()});eG(this.getGui(),s)}}},t.prototype.createHeaderComp=function(e){var r;switch(this.ctrl.getType()){case Nn.COLUMN_GROUP:r=new hOe(e);break;case Nn.FLOATING_FILTER:r=new JY(e);break;default:r=new dOe(e);break}return this.createBean(r),r.setParentComponent(this),r},E$([z],t.prototype,"init",null),E$([ar],t.prototype,"destroyHeaderCtrls",null),t}(ae),vOe=function(){var n=function(t,e){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])},n(t,e)};return function(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");n(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}}(),Pp=function(n,t,e,r){var i=arguments.length,o=i<3?t:r===null?r=Object.getOwnPropertyDescriptor(t,e):r,a;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(n,t,e,r);else for(var s=n.length-1;s>=0;s--)(a=n[s])&&(o=(i<3?a(o):i>3?a(t,e,o):a(t,e))||o);return i>3&&o&&Object.defineProperty(t,e,o),o},gOe=0,jw=function(n){vOe(t,n);function t(e,r,i){var o=n.call(this)||this;return o.resizeToggleTimeout=0,o.resizeMultiplier=1,o.resizeFeature=null,o.lastFocusEvent=null,o.dragSource=null,o.columnGroupChild=e,o.parentRowCtrl=i,o.beans=r,o.instanceId=e.getUniqueId()+"-"+gOe++,o}return t.prototype.postConstruct=function(){var e=this;this.addManagedPropertyListeners(["suppressHeaderFocus"],function(){return e.refreshTabIndex()})},t.prototype.shouldStopEventPropagation=function(e){var r=this.focusService.getFocusedHeader(),i=r.headerRowIndex,o=r.column;return fY(this.gridOptionsService,e,i,o)},t.prototype.getWrapperHasFocus=function(){var e=this.gridOptionsService.getDocument(),r=e.activeElement;return r===this.eGui},t.prototype.setGui=function(e){this.eGui=e,this.addDomData(),this.addManagedListener(this.beans.eventService,T.EVENT_DISPLAYED_COLUMNS_CHANGED,this.onDisplayedColumnsChanged.bind(this)),this.onDisplayedColumnsChanged(),this.refreshTabIndex()},t.prototype.onDisplayedColumnsChanged=function(){!this.comp||!this.column||(this.refreshFirstAndLastStyles(),this.refreshAriaColIndex())},t.prototype.refreshFirstAndLastStyles=function(){var e=this,r=e.comp,i=e.column,o=e.beans;cp.refreshFirstAndLastStyles(r,i,o.columnModel)},t.prototype.refreshAriaColIndex=function(){var e=this,r=e.beans,i=e.column,o=r.columnModel.getAriaColumnIndex(i);Vk(this.eGui,o)},t.prototype.addResizeAndMoveKeyboardListeners=function(){this.resizeFeature&&(this.addManagedListener(this.eGui,"keydown",this.onGuiKeyDown.bind(this)),this.addManagedListener(this.eGui,"keyup",this.onGuiKeyUp.bind(this)))},t.prototype.refreshTabIndex=function(){var e=this.gridOptionsService.get("suppressHeaderFocus");e?this.eGui.removeAttribute("tabindex"):this.eGui.setAttribute("tabindex","-1")},t.prototype.onGuiKeyDown=function(e){var r,i=this.gridOptionsService.getDocument(),o=i.activeElement,a=e.key===U.LEFT||e.key===U.RIGHT;if(this.isResizing&&(e.preventDefault(),e.stopImmediatePropagation()),!(o!==this.eGui||!e.shiftKey&&!e.altKey)&&((this.isResizing||a)&&(e.preventDefault(),e.stopImmediatePropagation()),!!a)){var s=e.key===U.LEFT!==this.gridOptionsService.get("enableRtl"),l=vo[s?"Left":"Right"];if(e.altKey){this.isResizing=!0,this.resizeMultiplier+=1;var u=this.getViewportAdjustedResizeDiff(e);this.resizeHeader(u,e.shiftKey),(r=this.resizeFeature)===null||r===void 0||r.toggleColumnResizing(!0)}else this.moveHeader(l)}},t.prototype.getViewportAdjustedResizeDiff=function(e){var r=this.getResizeDiff(e),i=this.column.getPinned();if(i){var o=this.pinnedWidthService.getPinnedLeftWidth(),a=this.pinnedWidthService.getPinnedRightWidth(),s=gf(this.ctrlsService.getGridBodyCtrl().getBodyViewportElement())-50;if(o+a+r>s)if(s>o+a)r=s-o-a;else return 0}return r},t.prototype.getResizeDiff=function(e){var r=e.key===U.LEFT!==this.gridOptionsService.get("enableRtl"),i=this.column.getPinned(),o=this.gridOptionsService.get("enableRtl");return i&&o!==(i==="right")&&(r=!r),(r?-1:1)*this.resizeMultiplier},t.prototype.onGuiKeyUp=function(){var e=this;this.isResizing&&(this.resizeToggleTimeout&&(window.clearTimeout(this.resizeToggleTimeout),this.resizeToggleTimeout=0),this.isResizing=!1,this.resizeMultiplier=1,this.resizeToggleTimeout=setTimeout(function(){var r;(r=e.resizeFeature)===null||r===void 0||r.toggleColumnResizing(!1)},150))},t.prototype.handleKeyDown=function(e){var r=this.getWrapperHasFocus();switch(e.key){case U.PAGE_DOWN:case U.PAGE_UP:case U.PAGE_HOME:case U.PAGE_END:r&&e.preventDefault()}},t.prototype.addDomData=function(){var e=this,r=t.DOM_DATA_KEY_HEADER_CTRL;this.gridOptionsService.setDomData(this.eGui,r,this),this.addDestroyFunc(function(){return e.gridOptionsService.setDomData(e.eGui,r,null)})},t.prototype.getGui=function(){return this.eGui},t.prototype.focus=function(e){return this.eGui?(this.lastFocusEvent=e||null,this.eGui.focus(),!0):!1},t.prototype.getRowIndex=function(){return this.parentRowCtrl.getRowIndex()},t.prototype.getParentRowCtrl=function(){return this.parentRowCtrl},t.prototype.getPinned=function(){return this.parentRowCtrl.getPinned()},t.prototype.getInstanceId=function(){return this.instanceId},t.prototype.getColumnGroupChild=function(){return this.columnGroupChild},t.prototype.removeDragSource=function(){this.dragSource&&(this.dragAndDropService.removeDragSource(this.dragSource),this.dragSource=null)},t.prototype.handleContextMenuMouseEvent=function(e,r,i){var o=e??r;this.gridOptionsService.get("preventDefaultOnContextMenu")&&o.preventDefault();var a=i instanceof rt?i:void 0;this.menuService.isHeaderContextMenuEnabled(a)&&this.menuService.showHeaderContextMenu(a,e,r),this.dispatchColumnMouseEvent(T.EVENT_COLUMN_HEADER_CONTEXT_MENU,i)},t.prototype.dispatchColumnMouseEvent=function(e,r){var i={type:e,column:r};this.eventService.dispatchEvent(i)},t.prototype.destroy=function(){n.prototype.destroy.call(this),this.removeDragSource(),this.comp=null,this.column=null,this.resizeFeature=null,this.lastFocusEvent=null,this.columnGroupChild=null,this.parentRowCtrl=null,this.eGui=null},t.DOM_DATA_KEY_HEADER_CTRL="headerCtrl",Pp([E("pinnedWidthService")],t.prototype,"pinnedWidthService",void 0),Pp([E("focusService")],t.prototype,"focusService",void 0),Pp([E("userComponentFactory")],t.prototype,"userComponentFactory",void 0),Pp([E("ctrlsService")],t.prototype,"ctrlsService",void 0),Pp([E("dragAndDropService")],t.prototype,"dragAndDropService",void 0),Pp([E("menuService")],t.prototype,"menuService",void 0),Pp([z],t.prototype,"postConstruct",null),t}(X),yOe=function(){var n=function(t,e){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])},n(t,e)};return function(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");n(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}}(),mOe=function(n,t,e,r){var i=arguments.length,o=i<3?t:r===null?r=Object.getOwnPropertyDescriptor(t,e):r,a;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(n,t,e,r);else for(var s=n.length-1;s>=0;s--)(a=n[s])&&(o=(i<3?a(o):i>3?a(t,e,o):a(t,e))||o);return i>3&&o&&Object.defineProperty(t,e,o),o},xT=function(n){yOe(t,n);function t(e,r,i,o){var a=n.call(this)||this;return a.columnOrGroup=e,a.eCell=r,a.ariaEl=a.eCell.querySelector("[role=columnheader]")||a.eCell,a.colsSpanning=o,a.beans=i,a}return t.prototype.setColsSpanning=function(e){this.colsSpanning=e,this.onLeftChanged()},t.prototype.getColumnOrGroup=function(){return this.beans.gridOptionsService.get("enableRtl")&&this.colsSpanning?xt(this.colsSpanning):this.columnOrGroup},t.prototype.postConstruct=function(){this.addManagedListener(this.columnOrGroup,rt.EVENT_LEFT_CHANGED,this.onLeftChanged.bind(this)),this.setLeftFirstTime(),this.addManagedListener(this.eventService,T.EVENT_DISPLAYED_COLUMNS_WIDTH_CHANGED,this.onLeftChanged.bind(this)),this.addManagedPropertyListener("domLayout",this.onLeftChanged.bind(this))},t.prototype.setLeftFirstTime=function(){var e=this.beans.gridOptionsService.get("suppressColumnMoveAnimation"),r=oe(this.columnOrGroup.getOldLeft()),i=this.beans.columnAnimationService.isActive()&&r&&!e;i?this.animateInLeft():this.onLeftChanged()},t.prototype.animateInLeft=function(){var e=this,r=this.getColumnOrGroup(),i=r.getLeft(),o=r.getOldLeft(),a=this.modifyLeftForPrintLayout(r,o),s=this.modifyLeftForPrintLayout(r,i);this.setLeft(a),this.actualLeft=s,this.beans.columnAnimationService.executeNextVMTurn(function(){e.actualLeft===s&&e.setLeft(s)})},t.prototype.onLeftChanged=function(){var e=this.getColumnOrGroup(),r=e.getLeft();this.actualLeft=this.modifyLeftForPrintLayout(e,r),this.setLeft(this.actualLeft)},t.prototype.modifyLeftForPrintLayout=function(e,r){var i=this.beans.gridOptionsService.isDomLayout("print");if(!i||e.getPinned()==="left")return r;var o=this.beans.columnModel.getDisplayedColumnsLeftWidth();if(e.getPinned()==="right"){var a=this.beans.columnModel.getBodyContainerWidth();return o+a+r}return o+r},t.prototype.setLeft=function(e){if(oe(e)&&(this.eCell.style.left="".concat(e,"px")),this.columnOrGroup instanceof rt)this.columnOrGroup;else{var r=this.columnOrGroup,i=r.getLeafColumns();if(!i.length)return;i.length>1&&q7(this.ariaEl,i.length),i[0]}},mOe([z],t.prototype,"postConstruct",null),t}(X),COe=function(){var n=function(t,e){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])},n(t,e)};return function(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");n(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}}(),b$=function(n,t,e,r){var i=arguments.length,o=i<3?t:r===null?r=Object.getOwnPropertyDescriptor(t,e):r,a;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(n,t,e,r);else for(var s=n.length-1;s>=0;s--)(a=n[s])&&(o=(i<3?a(o):i>3?a(t,e,o):a(t,e))||o);return i>3&&o&&Object.defineProperty(t,e,o),o},SG=function(n){COe(t,n);function t(e,r){var i=n.call(this)||this;return i.columns=e,i.element=r,i}return t.prototype.postConstruct=function(){this.gridOptionsService.get("columnHoverHighlight")&&this.addMouseHoverListeners()},t.prototype.addMouseHoverListeners=function(){this.addManagedListener(this.element,"mouseout",this.onMouseOut.bind(this)),this.addManagedListener(this.element,"mouseover",this.onMouseOver.bind(this))},t.prototype.onMouseOut=function(){this.columnHoverService.clearMouseOver()},t.prototype.onMouseOver=function(){this.columnHoverService.setMouseOver(this.columns)},b$([E("columnHoverService")],t.prototype,"columnHoverService",void 0),b$([z],t.prototype,"postConstruct",null),t}(X),SOe=function(){var n=function(t,e){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])},n(t,e)};return function(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");n(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}}(),vX=function(n){SOe(t,n);function t(e,r,i){var o=n.call(this,e,r,i)||this;return o.iconCreated=!1,o.column=e,o}return t.prototype.setComp=function(e,r,i,o){this.comp=e,this.eButtonShowMainFilter=i,this.eFloatingFilterBody=o,this.setGui(r),this.setupActive(),this.setupWidth(),this.setupLeft(),this.setupHover(),this.setupFocus(),this.setupAria(),this.setupFilterButton(),this.setupUserComp(),this.setupSyncWithFilter(),this.setupUi(),this.addManagedListener(this.eButtonShowMainFilter,"click",this.showParentFilter.bind(this)),this.setupFilterChangedListener(),this.addManagedListener(this.column,rt.EVENT_COL_DEF_CHANGED,this.onColDefChanged.bind(this))},t.prototype.resizeHeader=function(){},t.prototype.moveHeader=function(){},t.prototype.setupActive=function(){var e=this.column.getColDef(),r=!!e.filter,i=!!e.floatingFilter;this.active=r&&i},t.prototype.setupUi=function(){if(this.comp.setButtonWrapperDisplayed(!this.suppressFilterButton&&this.active),this.comp.addOrRemoveBodyCssClass("ag-floating-filter-full-body",this.suppressFilterButton),this.comp.addOrRemoveBodyCssClass("ag-floating-filter-body",!this.suppressFilterButton),!(!this.active||this.iconCreated)){var e=Qr("filter",this.gridOptionsService,this.column);e&&(this.iconCreated=!0,this.eButtonShowMainFilter.appendChild(e))}},t.prototype.setupFocus=function(){this.createManagedBean(new au(this.eGui,{shouldStopEventPropagation:this.shouldStopEventPropagation.bind(this),onTabKeyDown:this.onTabKeyDown.bind(this),handleKeyDown:this.handleKeyDown.bind(this),onFocusIn:this.onFocusIn.bind(this)}))},t.prototype.setupAria=function(){var e=this.localeService.getLocaleTextFunc();lp(this.eButtonShowMainFilter,e("ariaFilterMenuOpen","Open Filter Menu"))},t.prototype.onTabKeyDown=function(e){var r=this.gridOptionsService.getDocument(),i=r.activeElement,o=i===this.eGui;if(!o){var a=this.focusService.findNextFocusableElement(this.eGui,null,e.shiftKey);if(a){this.beans.headerNavigationService.scrollToColumn(this.column),e.preventDefault(),a.focus();return}var s=this.findNextColumnWithFloatingFilter(e.shiftKey);s&&this.focusService.focusHeaderPosition({headerPosition:{headerRowIndex:this.getParentRowCtrl().getRowIndex(),column:s},event:e})&&e.preventDefault()}},t.prototype.findNextColumnWithFloatingFilter=function(e){var r=this.beans.columnModel,i=this.column;do if(i=e?r.getDisplayedColBefore(i):r.getDisplayedColAfter(i),!i)break;while(!i.getColDef().filter||!i.getColDef().floatingFilter);return i},t.prototype.handleKeyDown=function(e){n.prototype.handleKeyDown.call(this,e);var r=this.getWrapperHasFocus();switch(e.key){case U.UP:case U.DOWN:r||e.preventDefault();case U.LEFT:case U.RIGHT:if(r)return;e.stopPropagation();case U.ENTER:r&&this.focusService.focusInto(this.eGui)&&e.preventDefault();break;case U.ESCAPE:r||this.eGui.focus()}},t.prototype.onFocusIn=function(e){var r=this.eGui.contains(e.relatedTarget);if(!r){var i=!!e.relatedTarget&&!e.relatedTarget.classList.contains("ag-floating-filter"),o=!!e.relatedTarget&&Ih(e.relatedTarget,"ag-floating-filter");if(i&&o&&e.target===this.eGui){var a=this.lastFocusEvent,s=!!(a&&a.key===U.TAB);if(a&&s){var l=a.shiftKey;this.focusService.focusInto(this.eGui,l)}}var u=this.getRowIndex();this.beans.focusService.setFocusedHeader(u,this.column)}},t.prototype.setupHover=function(){var e=this;this.createManagedBean(new SG([this.column],this.eGui));var r=function(){if(e.gridOptionsService.get("columnHoverHighlight")){var i=e.beans.columnHoverService.isHovered(e.column);e.comp.addOrRemoveCssClass("ag-column-hover",i)}};this.addManagedListener(this.eventService,T.EVENT_COLUMN_HOVER_CHANGED,r),r()},t.prototype.setupLeft=function(){var e=new xT(this.column,this.eGui,this.beans);this.createManagedBean(e)},t.prototype.setupFilterButton=function(){this.suppressFilterButton=!this.menuService.isFloatingFilterButtonEnabled(this.column),this.highlightFilterButtonWhenActive=!this.menuService.isLegacyMenuEnabled()},t.prototype.setupUserComp=function(){var e=this;if(this.active){var r=this.beans.filterManager.getFloatingFilterCompDetails(this.column,function(){return e.showParentFilter()});r&&this.setCompDetails(r)}},t.prototype.setCompDetails=function(e){this.userCompDetails=e,this.comp.setCompDetails(e)},t.prototype.showParentFilter=function(){var e=this.suppressFilterButton?this.eFloatingFilterBody:this.eButtonShowMainFilter;this.menuService.showFilterMenu({column:this.column,buttonElement:e,containerType:"floatingFilter",positionBy:"button"})},t.prototype.setupSyncWithFilter=function(){var e=this;if(this.active){var r=this.beans.filterManager,i=function(o){var a=e.comp.getFloatingFilterComp();a&&a.then(function(s){if(s){var l=r.getCurrentFloatingFilterParentModel(e.column);s.onParentModelChanged(l,o)}})};this.destroySyncListener=this.addManagedListener(this.column,rt.EVENT_FILTER_CHANGED,i),r.isFilterActive(this.column)&&i(null)}},t.prototype.setupWidth=function(){var e=this,r=function(){var i="".concat(e.column.getActualWidth(),"px");e.comp.setWidth(i)};this.addManagedListener(this.column,rt.EVENT_WIDTH_CHANGED,r),r()},t.prototype.setupFilterChangedListener=function(){this.active&&(this.destroyFilterChangedListener=this.addManagedListener(this.column,rt.EVENT_FILTER_CHANGED,this.updateFilterButton.bind(this)),this.updateFilterButton())},t.prototype.updateFilterButton=function(){if(!this.suppressFilterButton&&this.comp){var e=this.beans.filterManager.isFilterAllowed(this.column);this.comp.setButtonWrapperDisplayed(e),this.highlightFilterButtonWhenActive&&e&&this.eButtonShowMainFilter.classList.toggle("ag-filter-active",this.column.isFilterActive())}},t.prototype.onColDefChanged=function(){var e=this,r,i,o=this.active;this.setupActive();var a=!o&&this.active;o&&!this.active&&((r=this.destroySyncListener)===null||r===void 0||r.call(this),(i=this.destroyFilterChangedListener)===null||i===void 0||i.call(this));var s=this.active?this.beans.filterManager.getFloatingFilterCompDetails(this.column,function(){return e.showParentFilter()}):null,l=this.comp.getFloatingFilterComp();!l||!s?this.updateCompDetails(s,a):l.then(function(u){var c;!u||e.beans.filterManager.areFilterCompsDifferent((c=e.userCompDetails)!==null&&c!==void 0?c:null,s)?e.updateCompDetails(s,a):e.updateFloatingFilterParams(s)})},t.prototype.updateCompDetails=function(e,r){this.isAlive()&&(this.setCompDetails(e),this.setupFilterButton(),this.setupUi(),r&&(this.setupSyncWithFilter(),this.setupFilterChangedListener()))},t.prototype.updateFloatingFilterParams=function(e){var r;if(e){var i=e.params;(r=this.comp.getFloatingFilterComp())===null||r===void 0||r.then(function(o){var a=!1;if(o!=null&&o.refresh&&typeof o.refresh=="function"){var s=o.refresh(i);s!==null&&(a=!0)}if(!a&&(o!=null&&o.onParamsUpdated)&&typeof o.onParamsUpdated=="function"){var s=o.onParamsUpdated(i);s!==null&&Ge("Custom floating filter method 'onParamsUpdated' is deprecated. Use 'refresh' instead.")}})}},t.prototype.destroy=function(){n.prototype.destroy.call(this),this.eButtonShowMainFilter=null,this.eFloatingFilterBody=null,this.userCompDetails=null,this.destroySyncListener=null,this.destroyFilterChangedListener=null},t}(jw),wOe=function(){var n=function(t,e){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])},n(t,e)};return function(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");n(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}}(),Ky=function(n,t,e,r){var i=arguments.length,o=i<3?t:r===null?r=Object.getOwnPropertyDescriptor(t,e):r,a;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(n,t,e,r);else for(var s=n.length-1;s>=0;s--)(a=n[s])&&(o=(i<3?a(o):i>3?a(t,e,o):a(t,e))||o);return i>3&&o&&Object.defineProperty(t,e,o),o},_Oe=function(n){wOe(t,n);function t(e,r,i,o,a){var s=n.call(this)||this;return s.pinned=e,s.column=r,s.eResize=i,s.comp=o,s.ctrl=a,s}return t.prototype.postConstruct=function(){var e=this,r=[],i,o,a=function(){if(Ct(e.eResize,i),!!i){var u=e.horizontalResizeService.addResizeBar({eResizeBar:e.eResize,onResizeStart:e.onResizeStart.bind(e),onResizing:e.onResizing.bind(e,!1),onResizeEnd:e.onResizing.bind(e,!0)});if(r.push(u),o){var c=e.gridOptionsService.get("skipHeaderOnAutoSize"),d=function(){e.columnModel.autoSizeColumn(e.column,"uiColumnResized",c)};e.eResize.addEventListener("dblclick",d);var p=new qr(e.eResize);p.addEventListener(qr.EVENT_DOUBLE_TAP,d),r.push(function(){e.eResize.removeEventListener("dblclick",d),p.removeEventListener(qr.EVENT_DOUBLE_TAP,d),p.destroy()})}}},s=function(){r.forEach(function(u){return u()}),r.length=0},l=function(){var u=e.column.isResizable(),c=!e.gridOptionsService.get("suppressAutoSize")&&!e.column.getColDef().suppressAutoSize,d=u!==i||c!==o;d&&(i=u,o=c,s(),a())};l(),this.addDestroyFunc(s),this.ctrl.addRefreshFunction(l)},t.prototype.onResizing=function(e,r){var i=this,o=i.column,a=i.lastResizeAmount,s=i.resizeStartWidth,l=this.normaliseResizeAmount(r),u=s+l,c=[{key:o,newWidth:u}];if(this.column.getPinned()){var d=this.pinnedWidthService.getPinnedLeftWidth(),p=this.pinnedWidthService.getPinnedRightWidth(),h=gf(this.ctrlsService.getGridBodyCtrl().getBodyViewportElement())-50;if(d+p+(l-a)>h)return}this.lastResizeAmount=l,this.columnModel.setColumnWidths(c,this.resizeWithShiftKey,e,"uiColumnResized"),e&&this.toggleColumnResizing(!1)},t.prototype.onResizeStart=function(e){this.resizeStartWidth=this.column.getActualWidth(),this.lastResizeAmount=0,this.resizeWithShiftKey=e,this.toggleColumnResizing(!0)},t.prototype.toggleColumnResizing=function(e){this.comp.addOrRemoveCssClass("ag-column-resizing",e)},t.prototype.normaliseResizeAmount=function(e){var r=e,i=this.pinned!=="left",o=this.pinned==="right";return this.gridOptionsService.get("enableRtl")?i&&(r*=-1):o&&(r*=-1),r},Ky([E("horizontalResizeService")],t.prototype,"horizontalResizeService",void 0),Ky([E("pinnedWidthService")],t.prototype,"pinnedWidthService",void 0),Ky([E("ctrlsService")],t.prototype,"ctrlsService",void 0),Ky([E("columnModel")],t.prototype,"columnModel",void 0),Ky([z],t.prototype,"postConstruct",null),t}(X),xOe=function(){var n=function(t,e){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])},n(t,e)};return function(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");n(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}}(),O$=function(n,t,e,r){var i=arguments.length,o=i<3?t:r===null?r=Object.getOwnPropertyDescriptor(t,e):r,a;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(n,t,e,r);else for(var s=n.length-1;s>=0;s--)(a=n[s])&&(o=(i<3?a(o):i>3?a(t,e,o):a(t,e))||o);return i>3&&o&&Object.defineProperty(t,e,o),o},EOe=function(n){xOe(t,n);function t(e){var r=n.call(this)||this;return r.cbSelectAllVisible=!1,r.processingEventFromCheckbox=!1,r.column=e,r}return t.prototype.onSpaceKeyDown=function(e){var r=this.cbSelectAll,i=this.gridOptionsService.getDocument();r.isDisplayed()&&!r.getGui().contains(i.activeElement)&&(e.preventDefault(),r.setValue(!r.getValue()))},t.prototype.getCheckboxGui=function(){return this.cbSelectAll.getGui()},t.prototype.setComp=function(e){this.headerCellCtrl=e,this.cbSelectAll=this.createManagedBean(new Hu),this.cbSelectAll.addCssClass("ag-header-select-all"),hn(this.cbSelectAll.getGui(),"presentation"),this.showOrHideSelectAll(),this.addManagedListener(this.eventService,T.EVENT_NEW_COLUMNS_LOADED,this.onNewColumnsLoaded.bind(this)),this.addManagedListener(this.eventService,T.EVENT_DISPLAYED_COLUMNS_CHANGED,this.onDisplayedColumnsChanged.bind(this)),this.addManagedListener(this.eventService,T.EVENT_SELECTION_CHANGED,this.onSelectionChanged.bind(this)),this.addManagedListener(this.eventService,T.EVENT_PAGINATION_CHANGED,this.onSelectionChanged.bind(this)),this.addManagedListener(this.eventService,T.EVENT_MODEL_UPDATED,this.onModelChanged.bind(this)),this.addManagedListener(this.cbSelectAll,T.EVENT_FIELD_VALUE_CHANGED,this.onCbSelectAll.bind(this)),hT(this.cbSelectAll.getGui(),!0),this.cbSelectAll.getInputElement().setAttribute("tabindex","-1"),this.refreshSelectAllLabel()},t.prototype.onNewColumnsLoaded=function(){this.showOrHideSelectAll()},t.prototype.onDisplayedColumnsChanged=function(){this.isAlive()&&this.showOrHideSelectAll()},t.prototype.showOrHideSelectAll=function(){this.cbSelectAllVisible=this.isCheckboxSelection(),this.cbSelectAll.setDisplayed(this.cbSelectAllVisible,{skipAriaHidden:!0}),this.cbSelectAllVisible&&(this.checkRightRowModelType("selectAllCheckbox"),this.checkSelectionType("selectAllCheckbox"),this.updateStateOfCheckbox()),this.refreshSelectAllLabel()},t.prototype.onModelChanged=function(){this.cbSelectAllVisible&&this.updateStateOfCheckbox()},t.prototype.onSelectionChanged=function(){this.cbSelectAllVisible&&this.updateStateOfCheckbox()},t.prototype.updateStateOfCheckbox=function(){if(!this.processingEventFromCheckbox){this.processingEventFromCheckbox=!0;var e=this.selectionService.getSelectAllState(this.isFilteredOnly(),this.isCurrentPageOnly());this.cbSelectAll.setValue(e);var r=this.selectionService.hasNodesToSelect(this.isFilteredOnly(),this.isCurrentPageOnly());this.cbSelectAll.setDisabled(!r),this.refreshSelectAllLabel(),this.processingEventFromCheckbox=!1}},t.prototype.refreshSelectAllLabel=function(){var e=this.localeService.getLocaleTextFunc(),r=this.cbSelectAll.getValue(),i=r?e("ariaChecked","checked"):e("ariaUnchecked","unchecked"),o=e("ariaRowSelectAll","Press Space to toggle all rows selection");this.cbSelectAllVisible?this.headerCellCtrl.setAriaDescriptionProperty("selectAll","".concat(o," (").concat(i,")")):this.headerCellCtrl.setAriaDescriptionProperty("selectAll",null),this.cbSelectAll.setInputAriaLabel("".concat(o," (").concat(i,")")),this.headerCellCtrl.announceAriaDescription()},t.prototype.checkSelectionType=function(e){var r=this.gridOptionsService.get("rowSelection")==="multiple";return r?!0:(console.warn("AG Grid: ".concat(e," is only available if using 'multiple' rowSelection.")),!1)},t.prototype.checkRightRowModelType=function(e){var r=this.rowModel.getType(),i=r==="clientSide"||r==="serverSide";return i?!0:(console.warn("AG Grid: ".concat(e," is only available if using 'clientSide' or 'serverSide' rowModelType, you are using ").concat(r,".")),!1)},t.prototype.onCbSelectAll=function(){if(!this.processingEventFromCheckbox&&this.cbSelectAllVisible){var e=this.cbSelectAll.getValue(),r=this.isFilteredOnly(),i=this.isCurrentPageOnly(),o="uiSelectAll";i?o="uiSelectAllCurrentPage":r&&(o="uiSelectAllFiltered");var a={source:o,justFiltered:r,justCurrentPage:i};e?this.selectionService.selectAllRowNodes(a):this.selectionService.deselectAllRowNodes(a)}},t.prototype.isCheckboxSelection=function(){var e=this.column.getColDef().headerCheckboxSelection;if(typeof e=="function"){var r=e,i=this.gridOptionsService.addGridCommonParams({column:this.column,colDef:this.column.getColDef()});e=r(i)}return e?this.checkRightRowModelType("headerCheckboxSelection")&&this.checkSelectionType("headerCheckboxSelection"):!1},t.prototype.isFilteredOnly=function(){return!!this.column.getColDef().headerCheckboxSelectionFilteredOnly},t.prototype.isCurrentPageOnly=function(){return!!this.column.getColDef().headerCheckboxSelectionCurrentPageOnly},O$([E("rowModel")],t.prototype,"rowModel",void 0),O$([E("selectionService")],t.prototype,"selectionService",void 0),t}(X),bOe=function(){var n=function(t,e){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])},n(t,e)};return function(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");n(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}}(),gX=function(n){bOe(t,n);function t(e,r,i){var o=n.call(this,e,r,i)||this;return o.refreshFunctions=[],o.userHeaderClasses=new Set,o.ariaDescriptionProperties=new Map,o.column=e,o}return t.prototype.setComp=function(e,r,i,o){var a=this;this.comp=e,this.setGui(r),this.updateState(),this.setupWidth(),this.setupMovingCss(),this.setupMenuClass(),this.setupSortableClass(),this.setupWrapTextClass(),this.refreshSpanHeaderHeight(),this.setupAutoHeight(o),this.addColumnHoverListener(),this.setupFilterClass(),this.setupClassesFromColDef(),this.setupTooltip(),this.addActiveHeaderMouseListeners(),this.setupSelectAll(),this.setupUserComp(),this.refreshAria(),this.resizeFeature=this.createManagedBean(new _Oe(this.getPinned(),this.column,i,e,this)),this.createManagedBean(new SG([this.column],r)),this.createManagedBean(new xT(this.column,r,this.beans)),this.createManagedBean(new au(r,{shouldStopEventPropagation:function(s){return a.shouldStopEventPropagation(s)},onTabKeyDown:function(){return null},handleKeyDown:this.handleKeyDown.bind(this),onFocusIn:this.onFocusIn.bind(this),onFocusOut:this.onFocusOut.bind(this)})),this.addResizeAndMoveKeyboardListeners(),this.addManagedPropertyListeners(["suppressMovableColumns","suppressMenuHide","suppressAggFuncInHeader"],this.refresh.bind(this)),this.addManagedListener(this.column,rt.EVENT_COL_DEF_CHANGED,this.refresh.bind(this)),this.addManagedListener(this.eventService,T.EVENT_COLUMN_VALUE_CHANGED,this.onColumnValueChanged.bind(this)),this.addManagedListener(this.eventService,T.EVENT_COLUMN_ROW_GROUP_CHANGED,this.onColumnRowGroupChanged.bind(this)),this.addManagedListener(this.eventService,T.EVENT_COLUMN_PIVOT_CHANGED,this.onColumnPivotChanged.bind(this)),this.addManagedListener(this.eventService,T.EVENT_HEADER_HEIGHT_CHANGED,this.onHeaderHeightChanged.bind(this))},t.prototype.resizeHeader=function(e,r){var i,o;if(this.column.isResizable()){var a=this.column.getActualWidth(),s=(i=this.column.getMinWidth())!==null&&i!==void 0?i:0,l=(o=this.column.getMaxWidth())!==null&&o!==void 0?o:Number.MAX_SAFE_INTEGER,u=Math.min(Math.max(a+e,s),l);this.beans.columnModel.setColumnWidths([{key:this.column,newWidth:u}],r,!0,"uiColumnResized")}},t.prototype.moveHeader=function(e){var r=this,i=r.eGui,o=r.column,a=r.gridOptionsService,s=r.ctrlsService,l=this.getPinned(),u=i.getBoundingClientRect().left,c=o.getActualWidth(),d=a.get("enableRtl"),p=e===vo.Left!==d,h=kh.normaliseX(p?u-20:u+c+20,l,!0,a,s);kh.attemptMoveColumns({allMovingColumns:[o],isFromHeader:!0,hDirection:e,xPosition:h,pinned:l,fromEnter:!1,fakeEvent:!1,gridOptionsService:a,columnModel:this.beans.columnModel}),s.getGridBodyCtrl().getScrollFeature().ensureColumnVisible(o,"auto")},t.prototype.setupUserComp=function(){var e=this.lookupUserCompDetails();this.setCompDetails(e)},t.prototype.setCompDetails=function(e){this.userCompDetails=e,this.comp.setUserCompDetails(e)},t.prototype.lookupUserCompDetails=function(){var e=this.createParams(),r=this.column.getColDef();return this.userComponentFactory.getHeaderCompDetails(r,e)},t.prototype.createParams=function(){var e=this,r=this.gridOptionsService.addGridCommonParams({column:this.column,displayName:this.displayName,enableSorting:this.column.isSortable(),enableMenu:this.menuEnabled,enableFilterButton:this.openFilterEnabled&&this.menuService.isHeaderFilterButtonEnabled(this.column),enableFilterIcon:!this.openFilterEnabled||this.menuService.isLegacyMenuEnabled(),showColumnMenu:function(i){e.menuService.showColumnMenu({column:e.column,buttonElement:i,positionBy:"button"})},showColumnMenuAfterMouseClick:function(i){e.menuService.showColumnMenu({column:e.column,mouseEvent:i,positionBy:"mouse"})},showFilter:function(i){e.menuService.showFilterMenu({column:e.column,buttonElement:i,containerType:"columnFilter",positionBy:"button"})},progressSort:function(i){e.beans.sortController.progressSort(e.column,!!i,"uiColumnSorted")},setSort:function(i,o){e.beans.sortController.setSortForColumn(e.column,i,!!o,"uiColumnSorted")},eGridHeader:this.getGui()});return r},t.prototype.setupSelectAll=function(){this.selectAllFeature=this.createManagedBean(new EOe(this.column)),this.selectAllFeature.setComp(this)},t.prototype.getSelectAllGui=function(){return this.selectAllFeature.getCheckboxGui()},t.prototype.handleKeyDown=function(e){n.prototype.handleKeyDown.call(this,e),e.key===U.SPACE&&this.selectAllFeature.onSpaceKeyDown(e),e.key===U.ENTER&&this.onEnterKeyDown(e),e.key===U.DOWN&&e.altKey&&this.showMenuOnKeyPress(e,!1)},t.prototype.onEnterKeyDown=function(e){if(e.ctrlKey||e.metaKey)this.showMenuOnKeyPress(e,!0);else if(this.sortable){var r=e.shiftKey;this.beans.sortController.progressSort(this.column,r,"uiColumnSorted")}},t.prototype.showMenuOnKeyPress=function(e,r){var i=this.comp.getUserCompInstance();!i||!(i instanceof _F)||i.onMenuKeyboardShortcut(r)&&e.preventDefault()},t.prototype.onFocusIn=function(e){if(!this.getGui().contains(e.relatedTarget)){var r=this.getRowIndex();this.focusService.setFocusedHeader(r,this.column),this.announceAriaDescription()}this.focusService.isKeyboardMode()&&this.setActiveHeader(!0)},t.prototype.onFocusOut=function(e){this.getGui().contains(e.relatedTarget)||this.setActiveHeader(!1)},t.prototype.setupTooltip=function(){var e=this,r={getColumn:function(){return e.column},getColDef:function(){return e.column.getColDef()},getGui:function(){return e.eGui},getLocation:function(){return"header"},getTooltipValue:function(){var o=e.column.getColDef().headerTooltip;return o}},i=this.createManagedBean(new ka(r,this.beans));i.setComp(this.eGui),this.refreshFunctions.push(function(){return i.refreshToolTip()})},t.prototype.setupClassesFromColDef=function(){var e=this,r=function(){var i=e.column.getColDef(),o=cp.getHeaderClassesFromColDef(i,e.gridOptionsService,e.column,null),a=e.userHeaderClasses;e.userHeaderClasses=new Set(o),o.forEach(function(s){a.has(s)?a.delete(s):e.comp.addOrRemoveCssClass(s,!0)}),a.forEach(function(s){return e.comp.addOrRemoveCssClass(s,!1)})};this.refreshFunctions.push(r),r()},t.prototype.setDragSource=function(e){var r=this;if(this.dragSourceElement=e,this.removeDragSource(),!(!e||!this.draggable)){var i=this,o=i.column,a=i.beans,s=i.displayName,l=i.dragAndDropService,u=i.gridOptionsService,c=a.columnModel,d=!this.gridOptionsService.get("suppressDragLeaveHidesColumns"),p=this.dragSource={type:Or.HeaderCell,eElement:e,getDefaultIconName:function(){return d?St.ICON_HIDE:St.ICON_NOT_ALLOWED},getDragItem:function(){return r.createDragItem(o)},dragItemName:s,onDragStarted:function(){d=!u.get("suppressDragLeaveHidesColumns"),o.setMoving(!0,"uiColumnMoved")},onDragStopped:function(){return o.setMoving(!1,"uiColumnMoved")},onGridEnter:function(h){var f;if(d){var v=((f=h==null?void 0:h.columns)===null||f===void 0?void 0:f.filter(function(g){return!g.getColDef().lockVisible}))||[];c.setColumnsVisible(v,!0,"uiColumnMoved")}},onGridExit:function(h){var f;if(d){var v=((f=h==null?void 0:h.columns)===null||f===void 0?void 0:f.filter(function(g){return!g.getColDef().lockVisible}))||[];c.setColumnsVisible(v,!1,"uiColumnMoved")}}};l.addDragSource(p,!0)}},t.prototype.createDragItem=function(e){var r={};return r[e.getId()]=e.isVisible(),{columns:[e],visibleState:r}},t.prototype.updateState=function(){this.menuEnabled=this.menuService.isColumnMenuInHeaderEnabled(this.column),this.openFilterEnabled=this.menuService.isFilterMenuInHeaderEnabled(this.column),this.sortable=this.column.isSortable(),this.displayName=this.calculateDisplayName(),this.draggable=this.workOutDraggable()},t.prototype.addRefreshFunction=function(e){this.refreshFunctions.push(e)},t.prototype.refresh=function(){this.updateState(),this.refreshHeaderComp(),this.refreshAria(),this.refreshFunctions.forEach(function(e){return e()})},t.prototype.refreshHeaderComp=function(){var e=this.lookupUserCompDetails(),r=this.comp.getUserCompInstance(),i=r!=null&&this.userCompDetails.componentClass==e.componentClass,o=i?this.attemptHeaderCompRefresh(e.params):!1;o?this.setDragSource(this.dragSourceElement):this.setCompDetails(e)},t.prototype.attemptHeaderCompRefresh=function(e){var r=this.comp.getUserCompInstance();if(!r||!r.refresh)return!1;var i=r.refresh(e);return i},t.prototype.calculateDisplayName=function(){return this.beans.columnModel.getDisplayNameForColumn(this.column,"header",!0)},t.prototype.checkDisplayName=function(){this.displayName!==this.calculateDisplayName()&&this.refresh()},t.prototype.workOutDraggable=function(){var e=this.column.getColDef(),r=this.gridOptionsService.get("suppressMovableColumns"),i=!r&&!e.suppressMovable&&!e.lockPosition;return!!i||!!e.enableRowGroup||!!e.enablePivot},t.prototype.onColumnRowGroupChanged=function(){this.checkDisplayName()},t.prototype.onColumnPivotChanged=function(){this.checkDisplayName()},t.prototype.onColumnValueChanged=function(){this.checkDisplayName()},t.prototype.setupWidth=function(){var e=this,r=function(){var i=e.column.getActualWidth();e.comp.setWidth("".concat(i,"px"))};this.addManagedListener(this.column,rt.EVENT_WIDTH_CHANGED,r),r()},t.prototype.setupMovingCss=function(){var e=this,r=function(){e.comp.addOrRemoveCssClass("ag-header-cell-moving",e.column.isMoving())};this.addManagedListener(this.column,rt.EVENT_MOVING_CHANGED,r),r()},t.prototype.setupMenuClass=function(){var e=this,r=function(){e.comp.addOrRemoveCssClass("ag-column-menu-visible",e.column.isMenuVisible())};this.addManagedListener(this.column,rt.EVENT_MENU_VISIBLE_CHANGED,r),r()},t.prototype.setupSortableClass=function(){var e=this,r=function(){e.comp.addOrRemoveCssClass("ag-header-cell-sortable",!!e.sortable)};r(),this.addRefreshFunction(r),this.addManagedListener(this.eventService,rt.EVENT_SORT_CHANGED,this.refreshAriaSort.bind(this))},t.prototype.setupFilterClass=function(){var e=this,r=function(){var i=e.column.isFilterActive();e.comp.addOrRemoveCssClass("ag-header-cell-filtered",i),e.refreshAria()};this.addManagedListener(this.column,rt.EVENT_FILTER_ACTIVE_CHANGED,r),r()},t.prototype.setupWrapTextClass=function(){var e=this,r=function(){var i=!!e.column.getColDef().wrapHeaderText;e.comp.addOrRemoveCssClass("ag-header-cell-wrap-text",i)};r(),this.addRefreshFunction(r)},t.prototype.onDisplayedColumnsChanged=function(){n.prototype.onDisplayedColumnsChanged.call(this),this.isAlive()&&this.onHeaderHeightChanged()},t.prototype.onHeaderHeightChanged=function(){this.refreshSpanHeaderHeight()},t.prototype.refreshSpanHeaderHeight=function(){var e=this,r=e.eGui,i=e.column,o=e.comp,a=e.beans;if(!i.isSpanHeaderHeight()){r.style.removeProperty("top"),r.style.removeProperty("height"),o.addOrRemoveCssClass("ag-header-span-height",!1),o.addOrRemoveCssClass("ag-header-span-total",!1);return}var s=this.column.getColumnGroupPaddingInfo(),l=s.numberOfParents,u=s.isSpanningTotal;o.addOrRemoveCssClass("ag-header-span-height",l>0);var c=a.columnModel,d=c.getColumnHeaderRowHeight();if(l===0){o.addOrRemoveCssClass("ag-header-span-total",!1),r.style.setProperty("top","0px"),r.style.setProperty("height","".concat(d,"px"));return}o.addOrRemoveCssClass("ag-header-span-total",u);var p=c.isPivotMode(),h=p?c.getPivotGroupHeaderHeight():c.getGroupHeaderHeight(),f=l*h;r.style.setProperty("top","".concat(-f,"px")),r.style.setProperty("height","".concat(d+f,"px"))},t.prototype.setupAutoHeight=function(e){var r=this,i=this.beans,o=i.columnModel,a=i.resizeObserverService,s=function(h){if(r.isAlive()){var f=up(r.getGui()),v=f.paddingTop,g=f.paddingBottom,y=f.borderBottomWidth,m=f.borderTopWidth,C=v+g+y+m,S=e.offsetHeight,w=S+C;if(h<5){var _=r.beans.gridOptionsService.getDocument(),x=!_||!_.contains(e),b=w==0;if(x||b){window.setTimeout(function(){return s(h+1)},0);return}}o.setColumnHeaderHeight(r.column,w)}},l=!1,u,c=function(){var h=r.column.isAutoHeaderHeight();h&&!l&&d(),!h&&l&&p()},d=function(){l=!0,s(0),r.comp.addOrRemoveCssClass("ag-header-cell-auto-height",!0),u=a.observeResize(e,function(){return s(0)})},p=function(){l=!1,u&&u(),r.comp.addOrRemoveCssClass("ag-header-cell-auto-height",!1),u=void 0};c(),this.addDestroyFunc(function(){return p()}),this.addManagedListener(this.column,rt.EVENT_WIDTH_CHANGED,function(){return l&&s(0)}),this.addManagedListener(this.eventService,rt.EVENT_SORT_CHANGED,function(){l&&window.setTimeout(function(){return s(0)})}),this.addRefreshFunction(c)},t.prototype.refreshAriaSort=function(){if(this.sortable){var e=this.localeService.getLocaleTextFunc(),r=this.beans.sortController.getDisplaySortForColumn(this.column)||null;this.comp.setAriaSort(B7(r)),this.setAriaDescriptionProperty("sort",e("ariaSortableColumn","Press ENTER to sort"))}else this.comp.setAriaSort(),this.setAriaDescriptionProperty("sort",null)},t.prototype.refreshAriaMenu=function(){if(this.menuEnabled){var e=this.localeService.getLocaleTextFunc();this.setAriaDescriptionProperty("menu",e("ariaMenuColumn","Press ALT DOWN to open column menu"))}else this.setAriaDescriptionProperty("menu",null)},t.prototype.refreshAriaFilterButton=function(){if(this.openFilterEnabled&&!this.menuService.isLegacyMenuEnabled()){var e=this.localeService.getLocaleTextFunc();this.setAriaDescriptionProperty("filterButton",e("ariaFilterColumn","Press CTRL ENTER to open filter"))}else this.setAriaDescriptionProperty("filterButton",null)},t.prototype.refreshAriaFiltered=function(){var e=this.localeService.getLocaleTextFunc(),r=this.column.isFilterActive();r?this.setAriaDescriptionProperty("filter",e("ariaColumnFiltered","Column Filtered")):this.setAriaDescriptionProperty("filter",null)},t.prototype.setAriaDescriptionProperty=function(e,r){r!=null?this.ariaDescriptionProperties.set(e,r):this.ariaDescriptionProperties.delete(e)},t.prototype.announceAriaDescription=function(){var e=this,r=this.beans.gridOptionsService.getDocument();if(this.eGui.contains(r.activeElement)){var i=Array.from(this.ariaDescriptionProperties.keys()).sort(function(o,a){return o==="filter"?-1:a.charCodeAt(0)-o.charCodeAt(0)}).map(function(o){return e.ariaDescriptionProperties.get(o)}).join(". ");this.beans.ariaAnnouncementService.announceValue(i)}},t.prototype.refreshAria=function(){this.refreshAriaSort(),this.refreshAriaMenu(),this.refreshAriaFilterButton(),this.refreshAriaFiltered()},t.prototype.addColumnHoverListener=function(){var e=this,r=function(){if(e.gridOptionsService.get("columnHoverHighlight")){var i=e.beans.columnHoverService.isHovered(e.column);e.comp.addOrRemoveCssClass("ag-column-hover",i)}};this.addManagedListener(this.eventService,T.EVENT_COLUMN_HOVER_CHANGED,r),r()},t.prototype.getColId=function(){return this.column.getColId()},t.prototype.addActiveHeaderMouseListeners=function(){var e=this,r=function(a){return e.handleMouseOverChange(a.type==="mouseenter")},i=function(){return e.dispatchColumnMouseEvent(T.EVENT_COLUMN_HEADER_CLICKED,e.column)},o=function(a){return e.handleContextMenuMouseEvent(a,void 0,e.column)};this.addManagedListener(this.getGui(),"mouseenter",r),this.addManagedListener(this.getGui(),"mouseleave",r),this.addManagedListener(this.getGui(),"click",i),this.addManagedListener(this.getGui(),"contextmenu",o)},t.prototype.handleMouseOverChange=function(e){this.setActiveHeader(e);var r=e?T.EVENT_COLUMN_HEADER_MOUSE_OVER:T.EVENT_COLUMN_HEADER_MOUSE_LEAVE,i={type:r,column:this.column};this.eventService.dispatchEvent(i)},t.prototype.setActiveHeader=function(e){this.comp.addOrRemoveCssClass("ag-header-active",e)},t.prototype.getAnchorElementForMenu=function(e){var r=this.comp.getUserCompInstance();return r instanceof _F?r.getAnchorElementForMenu(e):this.getGui()},t.prototype.destroy=function(){n.prototype.destroy.call(this),this.refreshFunctions=null,this.selectAllFeature=null,this.dragSourceElement=null,this.userCompDetails=null,this.userHeaderClasses=null,this.ariaDescriptionProperties=null},t}(jw),OOe=function(){var n=function(t,e){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])},n(t,e)};return function(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");n(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}}(),c_=function(n,t,e,r){var i=arguments.length,o=i<3?t:r===null?r=Object.getOwnPropertyDescriptor(t,e):r,a;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(n,t,e,r);else for(var s=n.length-1;s>=0;s--)(a=n[s])&&(o=(i<3?a(o):i>3?a(t,e,o):a(t,e))||o);return i>3&&o&&Object.defineProperty(t,e,o),o},ROe=function(n){OOe(t,n);function t(e,r,i,o){var a=n.call(this)||this;return a.eResize=r,a.comp=e,a.pinned=i,a.columnGroup=o,a}return t.prototype.postConstruct=function(){var e=this;if(!this.columnGroup.isResizable()){this.comp.setResizableDisplayed(!1);return}var r=this.horizontalResizeService.addResizeBar({eResizeBar:this.eResize,onResizeStart:this.onResizeStart.bind(this),onResizing:this.onResizing.bind(this,!1),onResizeEnd:this.onResizing.bind(this,!0)});if(this.addDestroyFunc(r),!this.gridOptionsService.get("suppressAutoSize")){var i=this.gridOptionsService.get("skipHeaderOnAutoSize");this.eResize.addEventListener("dblclick",function(){var o=[],a=e.columnGroup.getDisplayedLeafColumns();a.forEach(function(s){s.getColDef().suppressAutoSize||o.push(s.getColId())}),o.length>0&&e.columnModel.autoSizeColumns({columns:o,skipHeader:i,stopAtGroup:e.columnGroup,source:"uiColumnResized"}),e.resizeLeafColumnsToFit("uiColumnResized")})}},t.prototype.onResizeStart=function(e){var r=this.getInitialValues(e);this.storeLocalValues(r),this.toggleColumnResizing(!0)},t.prototype.onResizing=function(e,r,i){i===void 0&&(i="uiColumnResized");var o=this.normaliseDragChange(r),a=this.resizeStartWidth+o;this.resizeColumnsFromLocalValues(a,i,e)},t.prototype.getInitialValues=function(e){var r=this.getColumnsToResize(),i=this.getInitialSizeOfColumns(r),o=this.getSizeRatiosOfColumns(r,i),a={columnsToResize:r,resizeStartWidth:i,resizeRatios:o},s=null;if(e&&(s=this.columnModel.getDisplayedGroupAfter(this.columnGroup)),s){var l=s.getDisplayedLeafColumns(),u=a.groupAfterColumns=l.filter(function(d){return d.isResizable()}),c=a.groupAfterStartWidth=this.getInitialSizeOfColumns(u);a.groupAfterRatios=this.getSizeRatiosOfColumns(u,c)}else a.groupAfterColumns=void 0,a.groupAfterStartWidth=void 0,a.groupAfterRatios=void 0;return a},t.prototype.storeLocalValues=function(e){var r=e.columnsToResize,i=e.resizeStartWidth,o=e.resizeRatios,a=e.groupAfterColumns,s=e.groupAfterStartWidth,l=e.groupAfterRatios;this.resizeCols=r,this.resizeStartWidth=i,this.resizeRatios=o,this.resizeTakeFromCols=a,this.resizeTakeFromStartWidth=s,this.resizeTakeFromRatios=l},t.prototype.clearLocalValues=function(){this.resizeCols=void 0,this.resizeRatios=void 0,this.resizeTakeFromCols=void 0,this.resizeTakeFromRatios=void 0},t.prototype.resizeLeafColumnsToFit=function(e){var r=this.autoWidthCalculator.getPreferredWidthForColumnGroup(this.columnGroup),i=this.getInitialValues();r>i.resizeStartWidth&&this.resizeColumns(i,r,e,!0)},t.prototype.resizeColumnsFromLocalValues=function(e,r,i){var o,a,s;if(i===void 0&&(i=!0),!(!this.resizeCols||!this.resizeRatios)){var l={columnsToResize:this.resizeCols,resizeStartWidth:this.resizeStartWidth,resizeRatios:this.resizeRatios,groupAfterColumns:(o=this.resizeTakeFromCols)!==null&&o!==void 0?o:void 0,groupAfterStartWidth:(a=this.resizeTakeFromStartWidth)!==null&&a!==void 0?a:void 0,groupAfterRatios:(s=this.resizeTakeFromRatios)!==null&&s!==void 0?s:void 0};this.resizeColumns(l,e,r,i)}},t.prototype.resizeColumns=function(e,r,i,o){o===void 0&&(o=!0);var a=e.columnsToResize,s=e.resizeStartWidth,l=e.resizeRatios,u=e.groupAfterColumns,c=e.groupAfterStartWidth,d=e.groupAfterRatios,p=[];if(p.push({columns:a,ratios:l,width:r}),u){var h=r-s;p.push({columns:u,ratios:d,width:c-h})}this.columnModel.resizeColumnSets({resizeSets:p,finished:o,source:i}),o&&this.toggleColumnResizing(!1)},t.prototype.toggleColumnResizing=function(e){this.comp.addOrRemoveCssClass("ag-column-resizing",e)},t.prototype.getColumnsToResize=function(){var e=this.columnGroup.getDisplayedLeafColumns();return e.filter(function(r){return r.isResizable()})},t.prototype.getInitialSizeOfColumns=function(e){return e.reduce(function(r,i){return r+i.getActualWidth()},0)},t.prototype.getSizeRatiosOfColumns=function(e,r){return e.map(function(i){return i.getActualWidth()/r})},t.prototype.normaliseDragChange=function(e){var r=e;return this.gridOptionsService.get("enableRtl")?this.pinned!=="left"&&(r*=-1):this.pinned==="right"&&(r*=-1),r},t.prototype.destroy=function(){n.prototype.destroy.call(this),this.clearLocalValues()},c_([E("horizontalResizeService")],t.prototype,"horizontalResizeService",void 0),c_([E("autoWidthCalculator")],t.prototype,"autoWidthCalculator",void 0),c_([E("columnModel")],t.prototype,"columnModel",void 0),c_([z],t.prototype,"postConstruct",null),t}(X),TOe=function(){var n=function(t,e){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])},n(t,e)};return function(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");n(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}}(),POe=function(n,t,e,r){var i=arguments.length,o=i<3?t:r===null?r=Object.getOwnPropertyDescriptor(t,e):r,a;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(n,t,e,r);else for(var s=n.length-1;s>=0;s--)(a=n[s])&&(o=(i<3?a(o):i>3?a(t,e,o):a(t,e))||o);return i>3&&o&&Object.defineProperty(t,e,o),o},AOe=function(n){TOe(t,n);function t(e,r){var i=n.call(this)||this;return i.removeChildListenersFuncs=[],i.columnGroup=r,i.comp=e,i}return t.prototype.postConstruct=function(){this.addListenersToChildrenColumns(),this.addManagedListener(this.columnGroup,Kr.EVENT_DISPLAYED_CHILDREN_CHANGED,this.onDisplayedChildrenChanged.bind(this)),this.onWidthChanged(),this.addDestroyFunc(this.removeListenersOnChildrenColumns.bind(this))},t.prototype.addListenersToChildrenColumns=function(){var e=this;this.removeListenersOnChildrenColumns();var r=this.onWidthChanged.bind(this);this.columnGroup.getLeafColumns().forEach(function(i){i.addEventListener("widthChanged",r),i.addEventListener("visibleChanged",r),e.removeChildListenersFuncs.push(function(){i.removeEventListener("widthChanged",r),i.removeEventListener("visibleChanged",r)})})},t.prototype.removeListenersOnChildrenColumns=function(){this.removeChildListenersFuncs.forEach(function(e){return e()}),this.removeChildListenersFuncs=[]},t.prototype.onDisplayedChildrenChanged=function(){this.addListenersToChildrenColumns(),this.onWidthChanged()},t.prototype.onWidthChanged=function(){var e=this.columnGroup.getActualWidth();this.comp.setWidth("".concat(e,"px")),this.comp.addOrRemoveCssClass("ag-hidden",e===0)},POe([z],t.prototype,"postConstruct",null),t}(X),DOe=function(){var n=function(t,e){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])},n(t,e)};return function(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");n(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}}(),Bb=function(){return Bb=Object.assign||function(n){for(var t,e=1,r=arguments.length;e<r;e++){t=arguments[e];for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(n[i]=t[i])}return n},Bb.apply(this,arguments)},yX=function(n){DOe(t,n);function t(e,r,i){var o=n.call(this,e,r,i)||this;return o.onSuppressColMoveChange=function(){if(!o.isAlive()||o.isSuppressMoving())o.removeDragSource();else if(!o.dragSource){var a=o.getGui();o.setDragSource(a)}},o.column=e,o}return t.prototype.setComp=function(e,r,i){this.comp=e,this.setGui(r),this.displayName=this.beans.columnModel.getDisplayNameForColumnGroup(this.column,"header"),this.addClasses(),this.setupMovingCss(),this.setupExpandable(),this.setupTooltip(),this.setupUserComp(),this.addHeaderMouseListeners();var o=this.getParentRowCtrl().getPinned(),a=this.column.getProvidedColumnGroup().getLeafColumns();this.createManagedBean(new SG(a,r)),this.createManagedBean(new xT(this.column,r,this.beans)),this.createManagedBean(new AOe(e,this.column)),this.resizeFeature=this.createManagedBean(new ROe(e,i,o,this.column)),this.createManagedBean(new au(r,{shouldStopEventPropagation:this.shouldStopEventPropagation.bind(this),onTabKeyDown:function(){},handleKeyDown:this.handleKeyDown.bind(this),onFocusIn:this.onFocusIn.bind(this)})),this.addManagedPropertyListener(T.EVENT_SUPPRESS_COLUMN_MOVE_CHANGED,this.onSuppressColMoveChange),this.addResizeAndMoveKeyboardListeners()},t.prototype.resizeHeader=function(e,r){if(this.resizeFeature){var i=this.resizeFeature.getInitialValues(r);this.resizeFeature.resizeColumns(i,i.resizeStartWidth+e,"uiColumnResized",!0)}},t.prototype.moveHeader=function(e){var r=this,i=r.beans,o=r.eGui,a=r.column,s=r.gridOptionsService,l=r.ctrlsService,u=s.get("enableRtl"),c=e===vo.Left,d=this.getPinned(),p=o.getBoundingClientRect(),h=p.left,f=p.width,v=kh.normaliseX(c!==u?h-20:h+f+20,d,!0,s,l),g=a.getGroupId(),y=this.focusService.getFocusedHeader();kh.attemptMoveColumns({allMovingColumns:this.column.getLeafColumns(),isFromHeader:!0,hDirection:e,xPosition:v,pinned:d,fromEnter:!1,fakeEvent:!1,gridOptionsService:s,columnModel:i.columnModel});var m=a.getDisplayedLeafColumns(),C=c?m[0]:xt(m);this.ctrlsService.getGridBodyCtrl().getScrollFeature().ensureColumnVisible(C,"auto"),!this.isAlive()&&y&&this.restoreFocus(g,a,y)},t.prototype.restoreFocus=function(e,r,i){var o=r.getLeafColumns();if(o.length){var a=o[0].getParent();if(a){var s=this.findGroupWidthId(a,e);s&&this.focusService.focusHeaderPosition({headerPosition:Bb(Bb({},i),{column:s})})}}},t.prototype.findGroupWidthId=function(e,r){for(;e;){if(e.getGroupId()===r)return e;e=e.getParent()}return null},t.prototype.resizeLeafColumnsToFit=function(e){this.resizeFeature&&this.resizeFeature.resizeLeafColumnsToFit(e)},t.prototype.setupUserComp=function(){var e=this,r=this.gridOptionsService.addGridCommonParams({displayName:this.displayName,columnGroup:this.column,setExpanded:function(o){e.beans.columnModel.setColumnGroupOpened(e.column.getProvidedColumnGroup(),o,"gridInitializing")}}),i=this.userComponentFactory.getHeaderGroupCompDetails(r);this.comp.setUserCompDetails(i)},t.prototype.addHeaderMouseListeners=function(){var e=this,r=function(a){return e.handleMouseOverChange(a.type==="mouseenter")},i=function(){return e.dispatchColumnMouseEvent(T.EVENT_COLUMN_HEADER_CLICKED,e.column.getProvidedColumnGroup())},o=function(a){return e.handleContextMenuMouseEvent(a,void 0,e.column.getProvidedColumnGroup())};this.addManagedListener(this.getGui(),"mouseenter",r),this.addManagedListener(this.getGui(),"mouseleave",r),this.addManagedListener(this.getGui(),"click",i),this.addManagedListener(this.getGui(),"contextmenu",o)},t.prototype.handleMouseOverChange=function(e){var r=e?T.EVENT_COLUMN_HEADER_MOUSE_OVER:T.EVENT_COLUMN_HEADER_MOUSE_LEAVE,i={type:r,column:this.column.getProvidedColumnGroup()};this.eventService.dispatchEvent(i)},t.prototype.setupTooltip=function(){var e=this,r=this.column.getColGroupDef(),i={getColumn:function(){return e.column},getGui:function(){return e.eGui},getLocation:function(){return"headerGroup"},getTooltipValue:function(){return r&&r.headerTooltip}};r&&(i.getColDef=function(){return r});var o=this.createManagedBean(new ka(i,this.beans));o.setComp(this.eGui)},t.prototype.setupExpandable=function(){var e=this.column.getProvidedColumnGroup();this.refreshExpanded(),this.addManagedListener(e,Rt.EVENT_EXPANDABLE_CHANGED,this.refreshExpanded.bind(this)),this.addManagedListener(e,Rt.EVENT_EXPANDED_CHANGED,this.refreshExpanded.bind(this))},t.prototype.refreshExpanded=function(){var e=this.column;this.expandable=e.isExpandable();var r=e.isExpanded();this.expandable?this.comp.setAriaExpanded(r?"true":"false"):this.comp.setAriaExpanded(void 0)},t.prototype.getColId=function(){return this.column.getUniqueId()},t.prototype.addClasses=function(){var e=this,r=this.column.getColGroupDef(),i=cp.getHeaderClassesFromColDef(r,this.gridOptionsService,null,this.column);if(this.column.isPadding()){i.push("ag-header-group-cell-no-group");var o=this.column.getLeafColumns();o.every(function(a){return a.isSpanHeaderHeight()})&&i.push("ag-header-span-height")}else i.push("ag-header-group-cell-with-group");i.forEach(function(a){return e.comp.addOrRemoveCssClass(a,!0)})},t.prototype.setupMovingCss=function(){var e=this,r=this.column.getProvidedColumnGroup(),i=r.getLeafColumns(),o=function(){return e.comp.addOrRemoveCssClass("ag-header-cell-moving",e.column.isMoving())};i.forEach(function(a){e.addManagedListener(a,rt.EVENT_MOVING_CHANGED,o)}),o()},t.prototype.onFocusIn=function(e){if(!this.eGui.contains(e.relatedTarget)){var r=this.getRowIndex();this.beans.focusService.setFocusedHeader(r,this.column)}},t.prototype.handleKeyDown=function(e){n.prototype.handleKeyDown.call(this,e);var r=this.getWrapperHasFocus();if(!(!this.expandable||!r)&&e.key===U.ENTER){var i=this.column,o=!i.isExpanded();this.beans.columnModel.setColumnGroupOpened(i.getProvidedColumnGroup(),o,"uiColumnExpanded")}},t.prototype.setDragSource=function(e){var r=this;if(!(!this.isAlive()||this.isSuppressMoving())&&(this.removeDragSource(),!!e)){var i=this,o=i.beans,a=i.column,s=i.displayName,l=i.gridOptionsService,u=i.dragAndDropService,c=o.columnModel,d=a.getProvidedColumnGroup().getLeafColumns(),p=!l.get("suppressDragLeaveHidesColumns"),h=this.dragSource={type:Or.HeaderCell,eElement:e,getDefaultIconName:function(){return p?St.ICON_HIDE:St.ICON_NOT_ALLOWED},dragItemName:s,getDragItem:function(){return r.getDragItemForGroup(a)},onDragStarted:function(){p=!l.get("suppressDragLeaveHidesColumns"),d.forEach(function(f){return f.setMoving(!0,"uiColumnDragged")})},onDragStopped:function(){return d.forEach(function(f){return f.setMoving(!1,"uiColumnDragged")})},onGridEnter:function(f){var v;if(p){var g=((v=f==null?void 0:f.columns)===null||v===void 0?void 0:v.filter(function(y){return!y.getColDef().lockVisible}))||[];c.setColumnsVisible(g,!0,"uiColumnMoved")}},onGridExit:function(f){var v;if(p){var g=((v=f==null?void 0:f.columns)===null||v===void 0?void 0:v.filter(function(y){return!y.getColDef().lockVisible}))||[];c.setColumnsVisible(g,!1,"uiColumnMoved")}}};u.addDragSource(h,!0)}},t.prototype.getDragItemForGroup=function(e){var r=e.getProvidedColumnGroup().getLeafColumns(),i={};r.forEach(function(a){return i[a.getId()]=a.isVisible()});var o=[];return this.beans.columnModel.getAllDisplayedColumns().forEach(function(a){r.indexOf(a)>=0&&(o.push(a),so(r,a))}),r.forEach(function(a){return o.push(a)}),{columns:o,visibleState:i}},t.prototype.isSuppressMoving=function(){var e=!1;this.column.getLeafColumns().forEach(function(i){(i.getColDef().suppressMovable||i.getColDef().lockPosition)&&(e=!0)});var r=e||this.gridOptionsService.get("suppressMovableColumns");return r},t}(jw),MOe=function(){var n=function(t,e){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])},n(t,e)};return function(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");n(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}}(),R$=function(n,t,e,r){var i=arguments.length,o=i<3?t:r===null?r=Object.getOwnPropertyDescriptor(t,e):r,a;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(n,t,e,r);else for(var s=n.length-1;s>=0;s--)(a=n[s])&&(o=(i<3?a(o):i>3?a(t,e,o):a(t,e))||o);return i>3&&o&&Object.defineProperty(t,e,o),o},T$=function(n){var t=typeof Symbol=="function"&&Symbol.iterator,e=t&&n[t],r=0;if(e)return e.call(n);if(n&&typeof n.length=="number")return{next:function(){return n&&r>=n.length&&(n=void 0),{value:n&&n[r++],done:!n}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")},LOe=function(n,t){var e=typeof Symbol=="function"&&n[Symbol.iterator];if(!e)return n;var r=e.call(n),i,o=[],a;try{for(;(t===void 0||t-- >0)&&!(i=r.next()).done;)o.push(i.value)}catch(s){a={error:s}}finally{try{i&&!i.done&&(e=r.return)&&e.call(r)}finally{if(a)throw a.error}}return o},FOe=0,Qx=function(n){MOe(t,n);function t(e,r,i){var o=n.call(this)||this;o.instanceId=FOe++,o.rowIndex=e,o.pinned=r,o.type=i;var a=i==Nn.COLUMN_GROUP?"ag-header-row-column-group":i==Nn.FLOATING_FILTER?"ag-header-row-column-filter":"ag-header-row-column";return o.headerRowClass="ag-header-row ".concat(a),o}return t.prototype.postConstruct=function(){this.isPrintLayout=this.gridOptionsService.isDomLayout("print"),this.isEnsureDomOrder=this.gridOptionsService.get("ensureDomOrder")},t.prototype.getInstanceId=function(){return this.instanceId},t.prototype.setComp=function(e,r){r===void 0&&(r=!0),this.comp=e,r&&(this.onRowHeightChanged(),this.onVirtualColumnsChanged()),this.setWidth(),this.addEventListeners()},t.prototype.getHeaderRowClass=function(){return this.headerRowClass},t.prototype.getAriaRowIndex=function(){return this.rowIndex+1},t.prototype.addEventListeners=function(){var e=this;this.addManagedListener(this.eventService,T.EVENT_COLUMN_RESIZED,this.onColumnResized.bind(this)),this.addManagedListener(this.eventService,T.EVENT_DISPLAYED_COLUMNS_CHANGED,this.onDisplayedColumnsChanged.bind(this)),this.addManagedListener(this.eventService,T.EVENT_VIRTUAL_COLUMNS_CHANGED,function(r){return e.onVirtualColumnsChanged(r.afterScroll)}),this.addManagedListener(this.eventService,T.EVENT_COLUMN_HEADER_HEIGHT_CHANGED,this.onRowHeightChanged.bind(this)),this.addManagedListener(this.eventService,T.EVENT_GRID_STYLES_CHANGED,this.onRowHeightChanged.bind(this)),this.addManagedListener(this.eventService,T.EVENT_ADVANCED_FILTER_ENABLED_CHANGED,this.onRowHeightChanged.bind(this)),this.addManagedPropertyListener("domLayout",this.onDisplayedColumnsChanged.bind(this)),this.addManagedPropertyListener("ensureDomOrder",function(r){return e.isEnsureDomOrder=r.currentValue}),this.addManagedPropertyListener("headerHeight",this.onRowHeightChanged.bind(this)),this.addManagedPropertyListener("pivotHeaderHeight",this.onRowHeightChanged.bind(this)),this.addManagedPropertyListener("groupHeaderHeight",this.onRowHeightChanged.bind(this)),this.addManagedPropertyListener("pivotGroupHeaderHeight",this.onRowHeightChanged.bind(this)),this.addManagedPropertyListener("floatingFiltersHeight",this.onRowHeightChanged.bind(this))},t.prototype.getHeaderCellCtrl=function(e){if(this.headerCellCtrls)return Lh(this.headerCellCtrls).find(function(r){return r.getColumnGroupChild()===e})},t.prototype.onDisplayedColumnsChanged=function(){this.isPrintLayout=this.gridOptionsService.isDomLayout("print"),this.onVirtualColumnsChanged(),this.setWidth(),this.onRowHeightChanged()},t.prototype.getType=function(){return this.type},t.prototype.onColumnResized=function(){this.setWidth()},t.prototype.setWidth=function(){var e=this.getWidthForRow();this.comp.setWidth("".concat(e,"px"))},t.prototype.getWidthForRow=function(){var e=this.beans.columnModel;if(this.isPrintLayout){var r=this.pinned!=null;return r?0:e.getContainerWidth("right")+e.getContainerWidth("left")+e.getContainerWidth(null)}return e.getContainerWidth(this.pinned)},t.prototype.onRowHeightChanged=function(){var e=this.getTopAndHeight(),r=e.topOffset,i=e.rowHeight;this.comp.setTop(r+"px"),this.comp.setHeight(i+"px")},t.prototype.getTopAndHeight=function(){var e=this.beans,r=e.columnModel,i=e.filterManager,o=r.getHeaderRowCount(),a=[],s=0;i.hasFloatingFilters()&&(o++,s=1);for(var l=r.getColumnGroupHeaderRowHeight(),u=r.getColumnHeaderRowHeight(),c=1+s,d=o-c,p=0;p<d;p++)a.push(l);a.push(u);for(var p=0;p<s;p++)a.push(r.getFloatingFiltersHeight());for(var h=0,p=0;p<this.rowIndex;p++)h+=a[p];var f=a[this.rowIndex];return{topOffset:h,rowHeight:f}},t.prototype.getPinned=function(){return this.pinned},t.prototype.getRowIndex=function(){return this.rowIndex},t.prototype.onVirtualColumnsChanged=function(e){e===void 0&&(e=!1);var r=this.getHeaderCtrls(),i=this.isEnsureDomOrder||this.isPrintLayout;this.comp.setHeaderCtrls(r,i,e)},t.prototype.getHeaderCtrls=function(){var e,r,i,o,a=this,s=this.headerCellCtrls;this.headerCellCtrls=new Map;var l=this.getColumnsInViewport();try{for(var u=T$(l),c=u.next();!c.done;c=u.next()){var d=c.value;this.recycleAndCreateHeaderCtrls(d,s)}}catch(S){e={error:S}}finally{try{c&&!c.done&&(r=u.return)&&r.call(u)}finally{if(e)throw e.error}}var p=function(S){var w=a.beans,_=w.focusService,x=w.columnModel,b=_.isHeaderWrapperFocused(S);if(!b)return!1;var O=x.isDisplayed(S.getColumnGroupChild());return O};if(s)try{for(var h=T$(s),f=h.next();!f.done;f=h.next()){var v=LOe(f.value,2),g=v[0],y=v[1],m=p(y);m?this.headerCellCtrls.set(g,y):this.destroyBean(y)}}catch(S){i={error:S}}finally{try{f&&!f.done&&(o=h.return)&&o.call(h)}finally{if(i)throw i.error}}var C=Array.from(this.headerCellCtrls.values());return C},t.prototype.recycleAndCreateHeaderCtrls=function(e,r){if(this.headerCellCtrls&&!e.isEmptyGroup()){var i=e.getUniqueId(),o;r&&(o=r.get(i),r.delete(i));var a=o&&o.getColumnGroupChild()!=e;if(a&&(this.destroyBean(o),o=void 0),o==null)switch(this.type){case Nn.FLOATING_FILTER:o=this.createBean(new vX(e,this.beans,this));break;case Nn.COLUMN_GROUP:o=this.createBean(new yX(e,this.beans,this));break;default:o=this.createBean(new gX(e,this.beans,this));break}this.headerCellCtrls.set(i,o)}},t.prototype.getColumnsInViewport=function(){return this.isPrintLayout?this.getColumnsInViewportPrintLayout():this.getColumnsInViewportNormalLayout()},t.prototype.getColumnsInViewportPrintLayout=function(){if(this.pinned!=null)return[];var e=[],r=this.getActualDepth(),i=this.beans.columnModel;return["left",null,"right"].forEach(function(o){var a=i.getVirtualHeaderGroupRow(o,r);e=e.concat(a)}),e},t.prototype.getActualDepth=function(){return this.type==Nn.FLOATING_FILTER?this.rowIndex-1:this.rowIndex},t.prototype.getColumnsInViewportNormalLayout=function(){return this.beans.columnModel.getVirtualHeaderGroupRow(this.pinned,this.getActualDepth())},t.prototype.focusHeader=function(e,r){if(!this.headerCellCtrls)return!1;var i=Array.from(this.headerCellCtrls.values()),o=i.find(function(a){return a.getColumnGroupChild()==e});return o?o.focus(r):!1},t.prototype.destroy=function(){var e=this;this.headerCellCtrls&&this.headerCellCtrls.forEach(function(r){e.destroyBean(r)}),this.headerCellCtrls=void 0,n.prototype.destroy.call(this)},R$([E("beans")],t.prototype,"beans",void 0),R$([z],t.prototype,"postConstruct",null),t}(X),IOe=function(){var n=function(t,e){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])},n(t,e)};return function(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");n(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}}(),Bf=function(n,t,e,r){var i=arguments.length,o=i<3?t:r===null?r=Object.getOwnPropertyDescriptor(t,e):r,a;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(n,t,e,r);else for(var s=n.length-1;s>=0;s--)(a=n[s])&&(o=(i<3?a(o):i>3?a(t,e,o):a(t,e))||o);return i>3&&o&&Object.defineProperty(t,e,o),o},NOe=function(n,t){var e=typeof Symbol=="function"&&n[Symbol.iterator];if(!e)return n;var r=e.call(n),i,o=[],a;try{for(;(t===void 0||t-- >0)&&!(i=r.next()).done;)o.push(i.value)}catch(s){a={error:s}}finally{try{i&&!i.done&&(e=r.return)&&e.call(r)}finally{if(a)throw a.error}}return o},kOe=function(n,t,e){if(e||arguments.length===2)for(var r=0,i=t.length,o;r<i;r++)(o||!(r in t))&&(o||(o=Array.prototype.slice.call(t,0,r)),o[r]=t[r]);return n.concat(o||Array.prototype.slice.call(t))},mX=function(n){IOe(t,n);function t(e){var r=n.call(this)||this;return r.hidden=!1,r.includeFloatingFilter=!1,r.groupsRowCtrls=[],r.pinned=e,r}return t.prototype.setComp=function(e,r){this.comp=e,this.eViewport=r,this.setupCenterWidth(),this.setupPinnedWidth(),this.setupDragAndDrop(this.eViewport),this.addManagedListener(this.eventService,T.EVENT_GRID_COLUMNS_CHANGED,this.onGridColumnsChanged.bind(this)),this.addManagedListener(this.eventService,T.EVENT_DISPLAYED_COLUMNS_CHANGED,this.onDisplayedColumnsChanged.bind(this)),this.addManagedListener(this.eventService,T.EVENT_ADVANCED_FILTER_ENABLED_CHANGED,this.onDisplayedColumnsChanged.bind(this)),this.ctrlsService.registerHeaderContainer(this,this.pinned),this.columnModel.isReady()&&this.refresh()},t.prototype.setupDragAndDrop=function(e){var r=new hX(this.pinned,e);this.createManagedBean(r)},t.prototype.refresh=function(e){var r=this;e===void 0&&(e=!1);var i=new ti,o=this.focusService.getFocusHeaderToUseAfterRefresh(),a=function(){var c=r.columnModel.getHeaderRowCount()-1;r.groupsRowCtrls=r.destroyBeans(r.groupsRowCtrls);for(var d=0;d<c;d++){var p=r.createBean(new Qx(i.next(),r.pinned,Nn.COLUMN_GROUP));r.groupsRowCtrls.push(p)}},s=function(){var c=i.next(),d=!r.hidden&&(r.columnsRowCtrl==null||!e||r.columnsRowCtrl.getRowIndex()!==c),p=d||r.hidden;p&&(r.columnsRowCtrl=r.destroyBean(r.columnsRowCtrl)),d&&(r.columnsRowCtrl=r.createBean(new Qx(c,r.pinned,Nn.COLUMN)))},l=function(){r.includeFloatingFilter=r.filterManager.hasFloatingFilters()&&!r.hidden;var c=function(){r.filtersRowCtrl=r.destroyBean(r.filtersRowCtrl)};if(!r.includeFloatingFilter){c();return}var d=i.next();if(r.filtersRowCtrl){var p=r.filtersRowCtrl.getRowIndex()!==d;(!e||p)&&c()}r.filtersRowCtrl||(r.filtersRowCtrl=r.createBean(new Qx(d,r.pinned,Nn.FLOATING_FILTER)))};a(),s(),l();var u=this.getAllCtrls();this.comp.setCtrls(u),this.restoreFocusOnHeader(o)},t.prototype.restoreFocusOnHeader=function(e){e==null||e.column.getPinned()!=this.pinned||this.focusService.focusHeaderPosition({headerPosition:e})},t.prototype.getAllCtrls=function(){var e=kOe([],NOe(this.groupsRowCtrls),!1);return this.columnsRowCtrl&&e.push(this.columnsRowCtrl),this.filtersRowCtrl&&e.push(this.filtersRowCtrl),e},t.prototype.onGridColumnsChanged=function(){this.refresh(!0)},t.prototype.onDisplayedColumnsChanged=function(){var e=this.filterManager.hasFloatingFilters()&&!this.hidden;this.includeFloatingFilter!==e&&this.refresh(!0)},t.prototype.setupCenterWidth=function(){var e=this;this.pinned==null&&this.createManagedBean(new mG(function(r){return e.comp.setCenterWidth("".concat(r,"px"))},!0))},t.prototype.setHorizontalScroll=function(e){this.comp.setViewportScrollLeft(e)},t.prototype.setupPinnedWidth=function(){var e=this;if(this.pinned!=null){var r=this.pinned==="left",i=this.pinned==="right";this.hidden=!0;var o=function(){var a=r?e.pinnedWidthService.getPinnedLeftWidth():e.pinnedWidthService.getPinnedRightWidth();if(a!=null){var s=a==0,l=e.hidden!==s,u=e.gridOptionsService.get("enableRtl"),c=e.gridOptionsService.getScrollbarWidth(),d=e.scrollVisibleService.isVerticalScrollShowing()&&(u&&r||!u&&i),p=d?a+c:a;e.comp.setPinnedContainerWidth("".concat(p,"px")),e.comp.setDisplayed(!s),l&&(e.hidden=s,e.refresh())}};this.addManagedListener(this.eventService,T.EVENT_LEFT_PINNED_WIDTH_CHANGED,o),this.addManagedListener(this.eventService,T.EVENT_RIGHT_PINNED_WIDTH_CHANGED,o),this.addManagedListener(this.eventService,T.EVENT_SCROLL_VISIBILITY_CHANGED,o),this.addManagedListener(this.eventService,T.EVENT_SCROLLBAR_WIDTH_CHANGED,o)}},t.prototype.getHeaderCtrlForColumn=function(e){if(e instanceof rt)return this.columnsRowCtrl?this.columnsRowCtrl.getHeaderCellCtrl(e):void 0;if(this.groupsRowCtrls.length!==0)for(var r=0;r<this.groupsRowCtrls.length;r++){var i=this.groupsRowCtrls[r].getHeaderCellCtrl(e);if(i)return i}},t.prototype.getHtmlElementForColumnHeader=function(e){var r=this.getHeaderCtrlForColumn(e);return r?r.getGui():null},t.prototype.getRowType=function(e){var r=this.getAllCtrls(),i=r[e];return i?i.getType():void 0},t.prototype.focusHeader=function(e,r,i){var o=this.getAllCtrls(),a=o[e];return a?a.focusHeader(r,i):!1},t.prototype.getViewport=function(){return this.eViewport},t.prototype.getRowCount=function(){return this.groupsRowCtrls.length+(this.columnsRowCtrl?1:0)+(this.filtersRowCtrl?1:0)},t.prototype.destroy=function(){this.filtersRowCtrl&&(this.filtersRowCtrl=this.destroyBean(this.filtersRowCtrl)),this.columnsRowCtrl&&(this.columnsRowCtrl=this.destroyBean(this.columnsRowCtrl)),this.groupsRowCtrls&&this.groupsRowCtrls.length&&(this.groupsRowCtrls=this.destroyBeans(this.groupsRowCtrls)),n.prototype.destroy.call(this)},Bf([E("ctrlsService")],t.prototype,"ctrlsService",void 0),Bf([E("scrollVisibleService")],t.prototype,"scrollVisibleService",void 0),Bf([E("pinnedWidthService")],t.prototype,"pinnedWidthService",void 0),Bf([E("columnModel")],t.prototype,"columnModel",void 0),Bf([E("focusService")],t.prototype,"focusService",void 0),Bf([E("filterManager")],t.prototype,"filterManager",void 0),t}(X),GOe=function(){var n=function(t,e){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])},n(t,e)};return function(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");n(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}}(),zA=function(n,t,e,r){var i=arguments.length,o=i<3?t:r===null?r=Object.getOwnPropertyDescriptor(t,e):r,a;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(n,t,e,r);else for(var s=n.length-1;s>=0;s--)(a=n[s])&&(o=(i<3?a(o):i>3?a(t,e,o):a(t,e))||o);return i>3&&o&&Object.defineProperty(t,e,o),o},Jx=function(n){GOe(t,n);function t(e){var r=n.call(this)||this;return r.headerRowComps={},r.rowCompsList=[],r.pinned=e,r}return t.prototype.init=function(){var e=this;this.selectAndSetTemplate();var r={setDisplayed:function(o){return e.setDisplayed(o)},setCtrls:function(o){return e.setCtrls(o)},setCenterWidth:function(o){return e.eCenterContainer.style.width=o},setViewportScrollLeft:function(o){return e.getGui().scrollLeft=o},setPinnedContainerWidth:function(o){var a=e.getGui();a.style.width=o,a.style.maxWidth=o,a.style.minWidth=o}},i=this.createManagedBean(new mX(this.pinned));i.setComp(r,this.getGui())},t.prototype.selectAndSetTemplate=function(){var e=this.pinned=="left",r=this.pinned=="right",i=e?t.PINNED_LEFT_TEMPLATE:r?t.PINNED_RIGHT_TEMPLATE:t.CENTER_TEMPLATE;this.setTemplate(i),this.eRowContainer=this.eCenterContainer?this.eCenterContainer:this.getGui()},t.prototype.destroyRowComps=function(){this.setCtrls([])},t.prototype.destroyRowComp=function(e){this.destroyBean(e),this.eRowContainer.removeChild(e.getGui())},t.prototype.setCtrls=function(e){var r=this,i=this.headerRowComps;this.headerRowComps={},this.rowCompsList=[];var o,a=function(s){var l=s.getGui(),u=l.parentElement!=r.eRowContainer;u&&r.eRowContainer.appendChild(l),o&&Jk(r.eRowContainer,l,o),o=l};e.forEach(function(s){var l=s.getInstanceId(),u=i[l];delete i[l];var c=u||r.createBean(new fX(s));r.headerRowComps[l]=c,r.rowCompsList.push(c),a(c)}),Kd(i).forEach(function(s){return r.destroyRowComp(s)})},t.PINNED_LEFT_TEMPLATE='<div class="ag-pinned-left-header" role="rowgroup"></div>',t.PINNED_RIGHT_TEMPLATE='<div class="ag-pinned-right-header" role="rowgroup"></div>',t.CENTER_TEMPLATE=`<div class="ag-header-viewport" role="presentation">
            <div class="ag-header-container" ref="eCenterContainer" role="rowgroup"></div>
        </div>`,zA([j("eCenterContainer")],t.prototype,"eCenterContainer",void 0),zA([z],t.prototype,"init",null),zA([ar],t.prototype,"destroyRowComps",null),t}(ae),VOe=function(){var n=function(t,e){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])},n(t,e)};return function(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");n(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}}(),Yy=function(n,t,e,r){var i=arguments.length,o=i<3?t:r===null?r=Object.getOwnPropertyDescriptor(t,e):r,a;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(n,t,e,r);else for(var s=n.length-1;s>=0;s--)(a=n[s])&&(o=(i<3?a(o):i>3?a(t,e,o):a(t,e))||o);return i>3&&o&&Object.defineProperty(t,e,o),o},xs;(function(n){n[n.UP=0]="UP",n[n.DOWN=1]="DOWN",n[n.LEFT=2]="LEFT",n[n.RIGHT=3]="RIGHT"})(xs||(xs={}));var CX=function(n){VOe(t,n);function t(){var e=n!==null&&n.apply(this,arguments)||this;return e.currentHeaderRowWithoutSpan=-1,e}return t.prototype.postConstruct=function(){var e=this;this.ctrlsService.whenReady(function(i){e.gridBodyCon=i.gridBodyCtrl});var r=this.gridOptionsService.getDocument();this.addManagedListener(r,"mousedown",function(){return e.setCurrentHeaderRowWithoutSpan(-1)})},t.prototype.getHeaderRowCount=function(){var e=this.ctrlsService.getHeaderRowContainerCtrl();return e?e.getRowCount():0},t.prototype.navigateVertically=function(e,r,i){if(r||(r=this.focusService.getFocusedHeader()),!r)return!1;var o=r.headerRowIndex,a=r.column,s=this.getHeaderRowCount(),l=e===xs.UP,u=l?this.headerPositionUtils.getColumnVisibleParent(a,o):this.headerPositionUtils.getColumnVisibleChild(a,o),c=u.headerRowIndex,d=u.column,p=u.headerRowIndexWithoutSpan,h=!1;return c<0&&(c=0,d=a,h=!0),c>=s?(c=-1,this.setCurrentHeaderRowWithoutSpan(-1)):p!==void 0&&(this.currentHeaderRowWithoutSpan=p),!h&&!d?!1:this.focusService.focusHeaderPosition({headerPosition:{headerRowIndex:c,column:d},allowUserOverride:!0,event:i})},t.prototype.setCurrentHeaderRowWithoutSpan=function(e){this.currentHeaderRowWithoutSpan=e},t.prototype.navigateHorizontally=function(e,r,i){r===void 0&&(r=!1);var o=this.focusService.getFocusedHeader(),a=e===xs.LEFT,s=this.gridOptionsService.get("enableRtl"),l,u;return this.currentHeaderRowWithoutSpan!==-1?o.headerRowIndex=this.currentHeaderRowWithoutSpan:this.currentHeaderRowWithoutSpan=o.headerRowIndex,a!==s?(u="Before",l=this.headerPositionUtils.findHeader(o,u)):(u="After",l=this.headerPositionUtils.findHeader(o,u)),l||!r?this.focusService.focusHeaderPosition({headerPosition:l,direction:u,fromTab:r,allowUserOverride:!0,event:i}):this.focusNextHeaderRow(o,u,i)},t.prototype.focusNextHeaderRow=function(e,r,i){var o=e.headerRowIndex,a=null,s;if(r==="Before"?o>0&&(s=o-1,this.currentHeaderRowWithoutSpan-=1,a=this.headerPositionUtils.findColAtEdgeForHeaderRow(s,"end")):(s=o+1,this.currentHeaderRowWithoutSpan<this.getHeaderRowCount()?this.currentHeaderRowWithoutSpan+=1:this.setCurrentHeaderRowWithoutSpan(-1),a=this.headerPositionUtils.findColAtEdgeForHeaderRow(s,"start")),!a)return!1;var l=this.headerPositionUtils.getHeaderIndexToFocus(a.column,a==null?void 0:a.headerRowIndex),u=l.column,c=l.headerRowIndex;return this.focusService.focusHeaderPosition({headerPosition:{column:u,headerRowIndex:c},direction:r,fromTab:!0,allowUserOverride:!0,event:i})},t.prototype.scrollToColumn=function(e,r){if(r===void 0&&(r="After"),!e.getPinned()){var i;if(e instanceof Kr){var o=e.getDisplayedLeafColumns();i=r==="Before"?xt(o):o[0]}else i=e;this.gridBodyCon.getScrollFeature().ensureColumnVisible(i)}},Yy([E("focusService")],t.prototype,"focusService",void 0),Yy([E("headerPositionUtils")],t.prototype,"headerPositionUtils",void 0),Yy([E("ctrlsService")],t.prototype,"ctrlsService",void 0),Yy([z],t.prototype,"postConstruct",null),t=Yy([ie("headerNavigationService")],t),t}(X),BOe=function(){var n=function(t,e){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])},n(t,e)};return function(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");n(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}}(),Hf=function(n,t,e,r){var i=arguments.length,o=i<3?t:r===null?r=Object.getOwnPropertyDescriptor(t,e):r,a;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(n,t,e,r);else for(var s=n.length-1;s>=0;s--)(a=n[s])&&(o=(i<3?a(o):i>3?a(t,e,o):a(t,e))||o);return i>3&&o&&Object.defineProperty(t,e,o),o},SX=function(n){BOe(t,n);function t(){return n!==null&&n.apply(this,arguments)||this}return t.prototype.setComp=function(e,r,i){this.comp=e,this.eGui=r,this.createManagedBean(new au(i,{onTabKeyDown:this.onTabKeyDown.bind(this),handleKeyDown:this.handleKeyDown.bind(this),onFocusOut:this.onFocusOut.bind(this)})),this.addManagedListener(this.eventService,T.EVENT_COLUMN_PIVOT_MODE_CHANGED,this.onPivotModeChanged.bind(this)),this.addManagedListener(this.eventService,T.EVENT_DISPLAYED_COLUMNS_CHANGED,this.onDisplayedColumnsChanged.bind(this)),this.onPivotModeChanged(),this.setupHeaderHeight();var o=this.onHeaderContextMenu.bind(this);this.addManagedListener(this.eGui,"contextmenu",o),this.mockContextMenuForIPad(o),this.ctrlsService.registerGridHeaderCtrl(this)},t.prototype.setupHeaderHeight=function(){var e=this.setHeaderHeight.bind(this);e(),this.addManagedPropertyListener("headerHeight",e),this.addManagedPropertyListener("pivotHeaderHeight",e),this.addManagedPropertyListener("groupHeaderHeight",e),this.addManagedPropertyListener("pivotGroupHeaderHeight",e),this.addManagedPropertyListener("floatingFiltersHeight",e),this.addManagedListener(this.eventService,T.EVENT_DISPLAYED_COLUMNS_CHANGED,e),this.addManagedListener(this.eventService,T.EVENT_COLUMN_HEADER_HEIGHT_CHANGED,e),this.addManagedListener(this.eventService,T.EVENT_GRID_STYLES_CHANGED,e),this.addManagedListener(this.eventService,T.EVENT_ADVANCED_FILTER_ENABLED_CHANGED,e)},t.prototype.getHeaderHeight=function(){return this.headerHeight},t.prototype.setHeaderHeight=function(){var e=this.columnModel,r=0,i=e.getHeaderRowCount(),o,a=this.filterManager.hasFloatingFilters();a&&(i++,r=1);var s=this.columnModel.getColumnGroupHeaderRowHeight(),l=this.columnModel.getColumnHeaderRowHeight(),u=1+r,c=i-u;if(o=r*e.getFloatingFiltersHeight(),o+=c*s,o+=l,this.headerHeight!==o){this.headerHeight=o;var d="".concat(o+1,"px");this.comp.setHeightAndMinHeight(d),this.eventService.dispatchEvent({type:T.EVENT_HEADER_HEIGHT_CHANGED})}},t.prototype.onPivotModeChanged=function(){var e=this.columnModel.isPivotMode();this.comp.addOrRemoveCssClass("ag-pivot-on",e),this.comp.addOrRemoveCssClass("ag-pivot-off",!e)},t.prototype.onDisplayedColumnsChanged=function(){var e=this.columnModel.getAllDisplayedColumns(),r=e.some(function(i){return i.isSpanHeaderHeight()});this.comp.addOrRemoveCssClass("ag-header-allow-overflow",r)},t.prototype.onTabKeyDown=function(e){var r=this.gridOptionsService.get("enableRtl"),i=e.shiftKey!==r?xs.LEFT:xs.RIGHT;(this.headerNavigationService.navigateHorizontally(i,!0,e)||this.focusService.focusNextGridCoreContainer(e.shiftKey))&&e.preventDefault()},t.prototype.handleKeyDown=function(e){var r=null;switch(e.key){case U.LEFT:r=xs.LEFT;case U.RIGHT:oe(r)||(r=xs.RIGHT),this.headerNavigationService.navigateHorizontally(r,!1,e);break;case U.UP:r=xs.UP;case U.DOWN:oe(r)||(r=xs.DOWN),this.headerNavigationService.navigateVertically(r,null,e)&&e.preventDefault();break;default:return}},t.prototype.onFocusOut=function(e){var r=this.gridOptionsService.getDocument(),i=e.relatedTarget;!i&&this.eGui.contains(r.activeElement)||this.eGui.contains(i)||this.focusService.clearFocusedHeader()},t.prototype.onHeaderContextMenu=function(e,r,i){if(!(!e&&!i||!this.menuService.isHeaderContextMenuEnabled())){var o=(e??r).target;(o===this.eGui||o===this.ctrlsService.getHeaderRowContainerCtrl().getViewport())&&this.menuService.showHeaderContextMenu(void 0,e,i)}},t.prototype.mockContextMenuForIPad=function(e){if(yc()){var r=new qr(this.eGui),i=function(o){e(void 0,o.touchStart,o.touchEvent)};this.addManagedListener(r,qr.EVENT_LONG_TAP,i),this.addDestroyFunc(function(){return r.destroy()})}},Hf([E("headerNavigationService")],t.prototype,"headerNavigationService",void 0),Hf([E("focusService")],t.prototype,"focusService",void 0),Hf([E("columnModel")],t.prototype,"columnModel",void 0),Hf([E("ctrlsService")],t.prototype,"ctrlsService",void 0),Hf([E("filterManager")],t.prototype,"filterManager",void 0),Hf([E("menuService")],t.prototype,"menuService",void 0),t}(X),HOe=function(){var n=function(t,e){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])},n(t,e)};return function(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");n(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}}(),jOe=function(n,t,e,r){var i=arguments.length,o=i<3?t:r===null?r=Object.getOwnPropertyDescriptor(t,e):r,a;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(n,t,e,r);else for(var s=n.length-1;s>=0;s--)(a=n[s])&&(o=(i<3?a(o):i>3?a(t,e,o):a(t,e))||o);return i>3&&o&&Object.defineProperty(t,e,o),o},wX=function(n){HOe(t,n);function t(){return n.call(this,t.TEMPLATE)||this}return t.prototype.postConstruct=function(){var e=this,r={addOrRemoveCssClass:function(a,s){return e.addOrRemoveCssClass(a,s)},setHeightAndMinHeight:function(a){e.getGui().style.height=a,e.getGui().style.minHeight=a}},i=this.createManagedBean(new SX);i.setComp(r,this.getGui(),this.getFocusableElement());var o=function(a){e.createManagedBean(a),e.appendChild(a)};o(new Jx("left")),o(new Jx(null)),o(new Jx("right"))},t.TEMPLATE='<div class="ag-header" role="presentation"/>',jOe([z],t.prototype,"postConstruct",null),t}(ae),$Oe=function(){var n=function(t,e){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])},n(t,e)};return function(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");n(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}}(),KA=function(n,t,e,r){var i=arguments.length,o=i<3?t:r===null?r=Object.getOwnPropertyDescriptor(t,e):r,a;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(n,t,e,r);else for(var s=n.length-1;s>=0;s--)(a=n[s])&&(o=(i<3?a(o):i>3?a(t,e,o):a(t,e))||o);return i>3&&o&&Object.defineProperty(t,e,o),o},_X=function(n){$Oe(t,n);function t(){return n!==null&&n.apply(this,arguments)||this}return t.prototype.addResizeBar=function(e){var r=this,i={dragStartPixels:e.dragStartPixels||0,eElement:e.eResizeBar,onDragStart:this.onDragStart.bind(this,e),onDragStop:this.onDragStop.bind(this,e),onDragging:this.onDragging.bind(this,e),includeTouch:!0,stopPropagationForTouch:!0};this.dragService.addDragSource(i);var o=function(){return r.dragService.removeDragSource(i)};return o},t.prototype.onDragStart=function(e,r){this.dragStartX=r.clientX,this.setResizeIcons();var i=r instanceof MouseEvent&&r.shiftKey===!0;e.onResizeStart(i)},t.prototype.setResizeIcons=function(){var e=this.ctrlsService.getGridCtrl();e.setResizeCursor(!0),e.disableUserSelect(!0)},t.prototype.onDragStop=function(e,r){e.onResizeEnd(this.resizeAmount),this.resetIcons()},t.prototype.resetIcons=function(){var e=this.ctrlsService.getGridCtrl();e.setResizeCursor(!1),e.disableUserSelect(!1)},t.prototype.onDragging=function(e,r){this.resizeAmount=r.clientX-this.dragStartX,e.onResizing(this.resizeAmount)},KA([E("dragService")],t.prototype,"dragService",void 0),KA([E("ctrlsService")],t.prototype,"ctrlsService",void 0),t=KA([ie("horizontalResizeService")],t),t}(X),WOe=function(){var n=function(t,e){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])},n(t,e)};return function(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");n(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}}(),jf=function(n,t,e,r){var i=arguments.length,o=i<3?t:r===null?r=Object.getOwnPropertyDescriptor(t,e):r,a;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(n,t,e,r);else for(var s=n.length-1;s>=0;s--)(a=n[s])&&(o=(i<3?a(o):i>3?a(t,e,o):a(t,e))||o);return i>3&&o&&Object.defineProperty(t,e,o),o},xX=function(n){WOe(t,n);function t(){return n!==null&&n.apply(this,arguments)||this}return t.prototype.hideActiveMenu=function(){this.hidePopup&&this.hidePopup()},t.prototype.showMenuAfterMouseEvent=function(e,r,i){var o=this;this.showPopup(e,function(a){o.popupService.positionPopupUnderMouseEvent({column:e,type:i,mouseEvent:r,ePopup:a})},i,r.target,this.menuService.isLegacyMenuEnabled())},t.prototype.showMenuAfterButtonClick=function(e,r,i){var o=this,a=-1,s="left",l=this.menuService.isLegacyMenuEnabled();!l&&this.gridOptionsService.get("enableRtl")&&(a=1,s="right");var u=l?void 0:4*a,c=l?void 0:4;this.showPopup(e,function(d){o.popupService.positionPopupByComponent({type:i,eventSource:r,ePopup:d,nudgeX:u,nudgeY:c,alignSide:s,keepWithinBounds:!0,position:"under",column:e})},i,r,l)},t.prototype.showPopup=function(e,r,i,o,a){var s=this,l=e?this.filterManager.getOrCreateFilterWrapper(e,"COLUMN_MENU"):void 0;if(!l||!e)throw new Error("AG Grid - unable to show popup filter, filter instantiation failed");var u=document.createElement("div");hn(u,"presentation"),u.classList.add("ag-menu"),a||u.classList.add("ag-filter-menu"),this.tabListener=this.addManagedListener(u,"keydown",function(y){return s.trapFocusWithin(y,u)}),l.guiPromise.then(function(y){return u.appendChild(y)});var c,d=function(){var y;return(y=l.filterPromise)===null||y===void 0?void 0:y.then(function(m){var C;return(C=m==null?void 0:m.afterGuiDetached)===null||C===void 0?void 0:C.call(m)})},p=this.menuService.isColumnMenuAnchoringEnabled()?o??this.ctrlsService.getGridBodyCtrl().getGui():void 0,h=function(y){e.setMenuVisible(!1,"contextMenu");var m=y instanceof KeyboardEvent;if(s.tabListener&&(s.tabListener=s.tabListener()),m&&o&&ca(o)){var C=s.focusService.findTabbableParent(o);C&&C.focus()}d(),s.dispatchVisibleChangedEvent(!1,i,e)},f=this.localeService.getLocaleTextFunc(),v=a&&i!=="columnFilter"?f("ariaLabelColumnMenu","Column Menu"):f("ariaLabelColumnFilter","Column Filter"),g=this.popupService.addPopup({modal:!0,eChild:u,closeOnEsc:!0,closedCallback:h,positionCallback:function(){return r(u)},anchorToElement:p,ariaLabel:v});g&&(this.hidePopup=c=g.hideFunc),l.filterPromise.then(function(y){r(u),y.afterGuiAttached&&y.afterGuiAttached({container:i,hidePopup:c})}),e.setMenuVisible(!0,"contextMenu"),this.dispatchVisibleChangedEvent(!0,i,e)},t.prototype.trapFocusWithin=function(e,r){e.key!==U.TAB||e.defaultPrevented||this.focusService.findNextFocusableElement(r,!1,e.shiftKey)||(e.preventDefault(),this.focusService.focusInto(r,e.shiftKey))},t.prototype.dispatchVisibleChangedEvent=function(e,r,i){var o={type:T.EVENT_COLUMN_MENU_VISIBLE_CHANGED,visible:e,switchingTab:!1,key:r,column:i??null};this.eventService.dispatchEvent(o)},t.prototype.isMenuEnabled=function(e){var r;return e.isFilterAllowed()&&((r=e.getColDef().menuTabs)!==null&&r!==void 0?r:["filterMenuTab"]).includes("filterMenuTab")},t.prototype.showMenuAfterContextMenuEvent=function(){},jf([E("filterManager")],t.prototype,"filterManager",void 0),jf([E("popupService")],t.prototype,"popupService",void 0),jf([E("focusService")],t.prototype,"focusService",void 0),jf([E("ctrlsService")],t.prototype,"ctrlsService",void 0),jf([E("menuService")],t.prototype,"menuService",void 0),t=jf([ie("filterMenuFactory")],t),t}(X),UOe=function(){var n=function(t,e){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])},n(t,e)};return function(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");n(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}}(),P$=function(n,t,e,r){var i=arguments.length,o=i<3?t:r===null?r=Object.getOwnPropertyDescriptor(t,e):r,a;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(n,t,e,r);else for(var s=n.length-1;s>=0;s--)(a=n[s])&&(o=(i<3?a(o):i>3?a(t,e,o):a(t,e))||o);return i>3&&o&&Object.defineProperty(t,e,o),o},Gh;(function(n){n.TAB_GUARD="ag-tab-guard",n.TAB_GUARD_TOP="ag-tab-guard-top",n.TAB_GUARD_BOTTOM="ag-tab-guard-bottom"})(Gh||(Gh={}));var EX=function(n){UOe(t,n);function t(e){var r=n.call(this)||this;r.skipTabGuardFocus=!1,r.forcingFocusOut=!1;var i=e.comp,o=e.eTopGuard,a=e.eBottomGuard,s=e.focusTrapActive,l=e.forceFocusOutWhenTabGuardsAreEmpty,u=e.focusInnerElement,c=e.onFocusIn,d=e.onFocusOut,p=e.shouldStopEventPropagation,h=e.onTabKeyDown,f=e.handleKeyDown,v=e.eFocusableElement;return r.comp=i,r.eTopGuard=o,r.eBottomGuard=a,r.providedFocusInnerElement=u,r.eFocusableElement=v,r.focusTrapActive=!!s,r.forceFocusOutWhenTabGuardsAreEmpty=!!l,r.providedFocusIn=c,r.providedFocusOut=d,r.providedShouldStopEventPropagation=p,r.providedOnTabKeyDown=h,r.providedHandleKeyDown=f,r}return t.prototype.postConstruct=function(){var e=this;this.createManagedBean(new au(this.eFocusableElement,{shouldStopEventPropagation:function(){return e.shouldStopEventPropagation()},onTabKeyDown:function(r){return e.onTabKeyDown(r)},handleKeyDown:function(r){return e.handleKeyDown(r)},onFocusIn:function(r){return e.onFocusIn(r)},onFocusOut:function(r){return e.onFocusOut(r)}})),this.activateTabGuards(),[this.eTopGuard,this.eBottomGuard].forEach(function(r){return e.addManagedListener(r,"focus",e.onFocus.bind(e))})},t.prototype.handleKeyDown=function(e){this.providedHandleKeyDown&&this.providedHandleKeyDown(e)},t.prototype.tabGuardsAreActive=function(){return!!this.eTopGuard&&this.eTopGuard.hasAttribute("tabIndex")},t.prototype.shouldStopEventPropagation=function(){return this.providedShouldStopEventPropagation?this.providedShouldStopEventPropagation():!1},t.prototype.activateTabGuards=function(){if(!this.forcingFocusOut){var e=this.gridOptionsService.get("tabIndex");this.comp.setTabIndex(e.toString())}},t.prototype.deactivateTabGuards=function(){this.comp.setTabIndex()},t.prototype.onFocus=function(e){if(this.skipTabGuardFocus){this.skipTabGuardFocus=!1;return}if(this.forceFocusOutWhenTabGuardsAreEmpty){var r=this.focusService.findFocusableElements(this.eFocusableElement,".ag-tab-guard").length===0;if(r){this.findNextElementOutsideAndFocus(e.target===this.eBottomGuard);return}}var i=e.target===this.eBottomGuard;this.providedFocusInnerElement?this.providedFocusInnerElement(i):this.focusInnerElement(i)},t.prototype.findNextElementOutsideAndFocus=function(e){var r=this.gridOptionsService.getDocument(),i=this.focusService.findFocusableElements(r.body,null,!0),o=i.indexOf(e?this.eTopGuard:this.eBottomGuard);if(o!==-1){var a,s;e?(a=0,s=o):(a=o+1,s=i.length);var l=i.slice(a,s),u=this.gridOptionsService.get("tabIndex");l.sort(function(c,d){var p=parseInt(c.getAttribute("tabindex")||"0"),h=parseInt(d.getAttribute("tabindex")||"0");return h===u?1:p===u?-1:p===0?1:h===0?-1:p-h}),l[e?l.length-1:0].focus()}},t.prototype.onFocusIn=function(e){this.focusTrapActive||(this.providedFocusIn&&this.providedFocusIn(e),this.deactivateTabGuards())},t.prototype.onFocusOut=function(e){this.focusTrapActive||(this.providedFocusOut&&this.providedFocusOut(e),this.eFocusableElement.contains(e.relatedTarget)||this.activateTabGuards())},t.prototype.onTabKeyDown=function(e){var r=this;if(this.providedOnTabKeyDown){this.providedOnTabKeyDown(e);return}if(!this.focusTrapActive&&!e.defaultPrevented){var i=this.tabGuardsAreActive();i&&this.deactivateTabGuards();var o=this.getNextFocusableElement(e.shiftKey);i&&setTimeout(function(){return r.activateTabGuards()},0),o&&(o.focus(),e.preventDefault())}},t.prototype.focusInnerElement=function(e){e===void 0&&(e=!1);var r=this.focusService.findFocusableElements(this.eFocusableElement);this.tabGuardsAreActive()&&(r.splice(0,1),r.splice(r.length-1,1)),r.length&&r[e?r.length-1:0].focus({preventScroll:!0})},t.prototype.getNextFocusableElement=function(e){return this.focusService.findNextFocusableElement(this.eFocusableElement,!1,e)},t.prototype.forceFocusOutOfContainer=function(e){var r=this;if(e===void 0&&(e=!1),!this.forcingFocusOut){var i=e?this.eTopGuard:this.eBottomGuard;this.activateTabGuards(),this.skipTabGuardFocus=!0,this.forcingFocusOut=!0,i.focus(),window.setTimeout(function(){r.forcingFocusOut=!1,r.activateTabGuards()})}},t.prototype.isTabGuard=function(e){return e===this.eTopGuard||e===this.eBottomGuard},P$([E("focusService")],t.prototype,"focusService",void 0),P$([z],t.prototype,"postConstruct",null),t}(X),zOe=function(){var n=function(t,e){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])},n(t,e)};return function(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");n(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}}(),KOe=function(n,t){var e=typeof Symbol=="function"&&n[Symbol.iterator];if(!e)return n;var r=e.call(n),i,o=[],a;try{for(;(t===void 0||t-- >0)&&!(i=r.next()).done;)o.push(i.value)}catch(s){a={error:s}}finally{try{i&&!i.done&&(e=r.return)&&e.call(r)}finally{if(a)throw a.error}}return o},YOe=function(n,t,e){if(e||arguments.length===2)for(var r=0,i=t.length,o;r<i;r++)(o||!(r in t))&&(o||(o=Array.prototype.slice.call(t,0,r)),o[r]=t[r]);return n.concat(o||Array.prototype.slice.call(t))},Cc=function(n){zOe(t,n);function t(){return n!==null&&n.apply(this,arguments)||this}return t.prototype.initialiseTabGuard=function(e){this.eTopGuard=this.createTabGuard("top"),this.eBottomGuard=this.createTabGuard("bottom"),this.eFocusableElement=this.getFocusableElement();var r=[this.eTopGuard,this.eBottomGuard],i={setTabIndex:function(o){r.forEach(function(a){return o!=null?a.setAttribute("tabindex",o):a.removeAttribute("tabindex")})}};this.addTabGuards(this.eTopGuard,this.eBottomGuard),this.tabGuardCtrl=this.createManagedBean(new EX({comp:i,focusTrapActive:!!e.focusTrapActive,eTopGuard:this.eTopGuard,eBottomGuard:this.eBottomGuard,eFocusableElement:this.eFocusableElement,onFocusIn:e.onFocusIn,onFocusOut:e.onFocusOut,focusInnerElement:e.focusInnerElement,handleKeyDown:e.handleKeyDown,onTabKeyDown:e.onTabKeyDown,shouldStopEventPropagation:e.shouldStopEventPropagation,forceFocusOutWhenTabGuardsAreEmpty:e.forceFocusOutWhenTabGuardsAreEmpty}))},t.prototype.createTabGuard=function(e){var r=document.createElement("div"),i=e==="top"?Gh.TAB_GUARD_TOP:Gh.TAB_GUARD_BOTTOM;return r.classList.add(Gh.TAB_GUARD,i),hn(r,"presentation"),r},t.prototype.addTabGuards=function(e,r){this.eFocusableElement.insertAdjacentElement("afterbegin",e),this.eFocusableElement.insertAdjacentElement("beforeend",r)},t.prototype.removeAllChildrenExceptTabGuards=function(){var e=[this.eTopGuard,this.eBottomGuard];Rn(this.getFocusableElement()),this.addTabGuards.apply(this,YOe([],KOe(e),!1))},t.prototype.forceFocusOutOfContainer=function(e){e===void 0&&(e=!1),this.tabGuardCtrl.forceFocusOutOfContainer(e)},t.prototype.appendChild=function(e,r){kw(e)||(e=e.getGui());var i=this.eBottomGuard;i?i.insertAdjacentElement("beforebegin",e):n.prototype.appendChild.call(this,e,r)},t}(ae),XOe=function(){var n=function(t,e){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])},n(t,e)};return function(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");n(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}}(),d_=function(n,t,e,r){var i=arguments.length,o=i<3?t:r===null?r=Object.getOwnPropertyDescriptor(t,e):r,a;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(n,t,e,r);else for(var s=n.length-1;s>=0;s--)(a=n[s])&&(o=(i<3?a(o):i>3?a(t,e,o):a(t,e))||o);return i>3&&o&&Object.defineProperty(t,e,o),o},wG=function(n){XOe(t,n);function t(e){var r=n.call(this,t.getTemplate(e.cssClass))||this;return r.items=[],r.tabbedItemScrollMap=new Map,r.params=e,e.items&&e.items.forEach(function(i){return r.addItem(i)}),r}return t.prototype.postConstruct=function(){var e=this;this.initialiseTabGuard({onTabKeyDown:this.onTabKeyDown.bind(this),handleKeyDown:this.handleKeyDown.bind(this),focusInnerElement:this.focusInnerElement.bind(this),focusTrapActive:!0}),this.addDestroyFunc(function(){var r,i,o;return(o=(i=(r=e.activeItem)===null||r===void 0?void 0:r.tabbedItem)===null||i===void 0?void 0:i.afterDetachedCallback)===null||o===void 0?void 0:o.call(i)})},t.getTemplate=function(e){return'<div class="ag-tabs '.concat(e,`">
            <div ref="eHeader" role="tablist" class="ag-tabs-header `).concat(e?"".concat(e,"-header"):"",`"></div>
            <div ref="eBody" role="presentation" class="ag-tabs-body `).concat(e?"".concat(e,"-body"):"",`"></div>
        </div>`)},t.prototype.handleKeyDown=function(e){var r=this.gridOptionsService.getDocument();switch(e.key){case U.RIGHT:case U.LEFT:if(!this.eHeader.contains(r.activeElement))return;var i=e.key===U.RIGHT,o=this.gridOptionsService.get("enableRtl"),a=this.items.indexOf(this.activeItem),s=i!==o?Math.min(a+1,this.items.length-1):Math.max(a-1,0);if(a===s)return;e.preventDefault();var l=this.items[s];this.showItemWrapper(l),l.eHeaderButton.focus();break;case U.UP:case U.DOWN:e.stopPropagation();break}},t.prototype.onTabKeyDown=function(e){if(!e.defaultPrevented){var r=this,i=r.focusService,o=r.eHeader,a=r.eBody,s=r.activeItem,l=this.gridOptionsService.getDocument(),u=l.activeElement,c=e.target;if(e.preventDefault(),o.contains(u)){this.focusBody(e.shiftKey);return}var d=null;i.isTargetUnderManagedComponent(a,c)&&(e.shiftKey&&(d=this.focusService.findFocusableElementBeforeTabGuard(a,c)),d||(d=s.eHeaderButton)),!d&&a.contains(u)&&(d=i.findNextFocusableElement(a,!1,e.shiftKey),d||this.focusHeader()),d&&d.focus()}},t.prototype.focusInnerElement=function(e){e?this.focusHeader():this.focusBody(!0)},t.prototype.focusHeader=function(){this.activeItem.eHeaderButton.focus()},t.prototype.focusBody=function(e){this.focusService.focusInto(this.eBody,e)},t.prototype.setAfterAttachedParams=function(e){this.afterAttachedParams=e},t.prototype.showFirstItem=function(){this.items.length>0&&this.showItemWrapper(this.items[0])},t.prototype.addItem=function(e){var r=document.createElement("span");hn(r,"tab"),r.setAttribute("tabindex","-1"),r.appendChild(e.title),r.classList.add("ag-tab"),this.eHeader.appendChild(r),lp(r,e.titleLabel);var i={tabbedItem:e,eHeaderButton:r};this.items.push(i),r.addEventListener("click",this.showItemWrapper.bind(this,i))},t.prototype.showItem=function(e){var r=this.items.find(function(i){return i.tabbedItem===e});r&&this.showItemWrapper(r)},t.prototype.showItemWrapper=function(e){var r=this,i,o,a,s,l,u,c=e.tabbedItem,d=e.eHeaderButton;if((o=(i=this.params).onItemClicked)===null||o===void 0||o.call(i,{item:c}),this.activeItem===e){(s=(a=this.params).onActiveItemClicked)===null||s===void 0||s.call(a);return}this.lastScrollListener&&(this.lastScrollListener=this.lastScrollListener()),Rn(this.eBody),c.bodyPromise.then(function(p){r.eBody.appendChild(p);var h=!r.focusService.isKeyboardMode();if(r.focusService.focusInto(r.eBody,!1,h),c.afterAttachedCallback&&c.afterAttachedCallback(r.afterAttachedParams),r.params.keepScrollPosition){var f=c.getScrollableContainer&&c.getScrollableContainer()||p;r.lastScrollListener=r.addManagedListener(f,"scroll",function(){r.tabbedItemScrollMap.set(c.name,f.scrollTop)});var v=r.tabbedItemScrollMap.get(c.name);v!==void 0&&setTimeout(function(){f.scrollTop=v},0)}}),this.activeItem&&(this.activeItem.eHeaderButton.classList.remove("ag-tab-selected"),(u=(l=this.activeItem.tabbedItem).afterDetachedCallback)===null||u===void 0||u.call(l)),d.classList.add("ag-tab-selected"),this.activeItem=e},d_([E("focusService")],t.prototype,"focusService",void 0),d_([j("eHeader")],t.prototype,"eHeader",void 0),d_([j("eBody")],t.prototype,"eBody",void 0),d_([z],t.prototype,"postConstruct",null),t}(Cc),qOe=function(){var n=function(t,e){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])},n(t,e)};return function(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");n(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}}(),ZOe=function(n,t,e,r){var i=arguments.length,o=i<3?t:r===null?r=Object.getOwnPropertyDescriptor(t,e):r,a;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(n,t,e,r);else for(var s=n.length-1;s>=0;s--)(a=n[s])&&(o=(i<3?a(o):i>3?a(t,e,o):a(t,e))||o);return i>3&&o&&Object.defineProperty(t,e,o),o},QOe=50,bX=function(n){qOe(t,n);function t(){var e=n!==null&&n.apply(this,arguments)||this;return e.polyfillFunctions=[],e}return t.prototype.observeResize=function(e,r){var i=this,o=this.gridOptionsService.getWindow(),a=function(){var c=new o.ResizeObserver(r);return c.observe(e),function(){return c.disconnect()}},s=function(){var c,d,p=(c=e==null?void 0:e.clientWidth)!==null&&c!==void 0?c:0,h=(d=e==null?void 0:e.clientHeight)!==null&&d!==void 0?d:0,f=!0,v=function(){var g,y;if(f){var m=(g=e==null?void 0:e.clientWidth)!==null&&g!==void 0?g:0,C=(y=e==null?void 0:e.clientHeight)!==null&&y!==void 0?y:0,S=m!==p||C!==h;S&&(p=m,h=C,r()),i.doNextPolyfillTurn(v)}};return v(),function(){return f=!1}},l=this.gridOptionsService.get("suppressBrowserResizeObserver"),u=!!o.ResizeObserver;return u&&!l?a():this.getFrameworkOverrides().wrapIncoming(function(){return s()},"resize-observer")},t.prototype.doNextPolyfillTurn=function(e){this.polyfillFunctions.push(e),this.schedulePolyfill()},t.prototype.schedulePolyfill=function(){var e=this;if(!this.polyfillScheduled){var r=function(){var i=e.polyfillFunctions;e.polyfillScheduled=!1,e.polyfillFunctions=[],i.forEach(function(o){return o()})};this.polyfillScheduled=!0,window.setTimeout(r,QOe)}},t=ZOe([ie("resizeObserverService")],t),t}(X),JOe=function(){var n=function(t,e){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])},n(t,e)};return function(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");n(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}}(),p_=function(n,t,e,r){var i=arguments.length,o=i<3?t:r===null?r=Object.getOwnPropertyDescriptor(t,e):r,a;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(n,t,e,r);else for(var s=n.length-1;s>=0;s--)(a=n[s])&&(o=(i<3?a(o):i>3?a(t,e,o):a(t,e))||o);return i>3&&o&&Object.defineProperty(t,e,o),o},OX=function(n){JOe(t,n);function t(){var e=n!==null&&n.apply(this,arguments)||this;return e.createTasksP1={list:[],sorted:!1},e.createTasksP2={list:[],sorted:!1},e.destroyTasks=[],e.ticking=!1,e.scrollGoingDown=!0,e.lastPage=0,e.lastScrollTop=0,e.taskCount=0,e.cancelledTasks=new Set,e}return t.prototype.setScrollTop=function(e){var r=this.gridOptionsService.get("pagination");if(this.scrollGoingDown=e>=this.lastScrollTop,r&&e===0){var i=this.paginationProxy.getCurrentPage();i!==this.lastPage&&(this.lastPage=i,this.scrollGoingDown=!0)}this.lastScrollTop=e},t.prototype.init=function(){this.useAnimationFrame=!this.gridOptionsService.get("suppressAnimationFrame")},t.prototype.isOn=function(){return this.useAnimationFrame},t.prototype.verifyAnimationFrameOn=function(e){this.useAnimationFrame===!1&&console.warn("AG Grid: AnimationFrameService.".concat(e," called but animation frames are off"))},t.prototype.createTask=function(e,r,i){this.verifyAnimationFrameOn(i);var o={task:e,index:r,createOrder:++this.taskCount};this.addTaskToList(this[i],o),this.schedule()},t.prototype.cancelTask=function(e){this.cancelledTasks.add(e)},t.prototype.addTaskToList=function(e,r){e.list.push(r),e.sorted=!1},t.prototype.sortTaskList=function(e){if(!e.sorted){var r=this.scrollGoingDown?1:-1;e.list.sort(function(i,o){return i.index!==o.index?r*(o.index-i.index):o.createOrder-i.createOrder}),e.sorted=!0}},t.prototype.addDestroyTask=function(e){this.verifyAnimationFrameOn("createTasksP3"),this.destroyTasks.push(e),this.schedule()},t.prototype.executeFrame=function(e){this.verifyAnimationFrameOn("executeFrame");for(var r=this.createTasksP1,i=r.list,o=this.createTasksP2,a=o.list,s=this.destroyTasks,l=new Date().getTime(),u=new Date().getTime()-l,c=e<=0,d=this.ctrlsService.getGridBodyCtrl();c||u<e;){var p=d.getScrollFeature().scrollGridIfNeeded();if(!p){var h=void 0;if(i.length)this.sortTaskList(r),h=i.pop().task;else if(a.length)this.sortTaskList(o),h=a.pop().task;else if(s.length)h=s.pop();else{this.cancelledTasks.clear();break}this.cancelledTasks.has(h)||h()}u=new Date().getTime()-l}i.length||a.length||s.length?this.requestFrame():this.stopTicking()},t.prototype.stopTicking=function(){this.ticking=!1},t.prototype.flushAllFrames=function(){this.useAnimationFrame&&this.executeFrame(-1)},t.prototype.schedule=function(){this.useAnimationFrame&&(this.ticking||(this.ticking=!0,this.requestFrame()))},t.prototype.requestFrame=function(){var e=this.executeFrame.bind(this,60);this.requestAnimationFrame(e)},t.prototype.requestAnimationFrame=function(e){var r=this.gridOptionsService.getWindow();r.requestAnimationFrame?r.requestAnimationFrame(e):r.webkitRequestAnimationFrame?r.webkitRequestAnimationFrame(e):r.setTimeout(e,0)},t.prototype.isQueueEmpty=function(){return!this.ticking},t.prototype.debounce=function(e){var r=this,i=!1;return function(){if(!r.isOn()){window.setTimeout(e,0);return}i||(i=!0,r.addDestroyTask(function(){i=!1,e()}))}},p_([E("ctrlsService")],t.prototype,"ctrlsService",void 0),p_([E("paginationProxy")],t.prototype,"paginationProxy",void 0),p_([z],t.prototype,"init",null),t=p_([ie("animationFrameService")],t),t}(X),dt;(function(n){n.EVERYTHING="group",n.FILTER="filter",n.SORT="sort",n.MAP="map",n.AGGREGATE="aggregate",n.FILTER_AGGREGATES="filter_aggregates",n.PIVOT="pivot",n.NOTHING="nothing"})(dt||(dt={}));var eRe=function(){var n=function(t,e){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])},n(t,e)};return function(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");n(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}}(),YA=function(n,t,e,r){var i=arguments.length,o=i<3?t:r===null?r=Object.getOwnPropertyDescriptor(t,e):r,a;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(n,t,e,r);else for(var s=n.length-1;s>=0;s--)(a=n[s])&&(o=(i<3?a(o):i>3?a(t,e,o):a(t,e))||o);return i>3&&o&&Object.defineProperty(t,e,o),o},_G=function(n){eRe(t,n);function t(){return n!==null&&n.apply(this,arguments)||this}return t.prototype.postConstruct=function(){this.isClientSideRowModel=this.rowModel.getType()==="clientSide"},t.prototype.expandRows=function(e){if(this.isClientSideRowModel){var r=new Set(e);this.rowModel.forEachNode(function(i){i.id&&r.has(i.id)&&(i.expanded=!0)}),this.onGroupExpandedOrCollapsed()}},t.prototype.getExpandedRows=function(){var e=[];return this.rowModel.forEachNode(function(r){var i=r.expanded,o=r.id;i&&o&&e.push(o)}),e},t.prototype.expandAll=function(e){this.isClientSideRowModel&&this.rowModel.expandOrCollapseAll(e)},t.prototype.setRowNodeExpanded=function(e,r,i){e&&(i&&e.parent&&e.parent.level!==-1&&this.setRowNodeExpanded(e.parent,r,i),e.setExpanded(r))},t.prototype.onGroupExpandedOrCollapsed=function(){this.isClientSideRowModel&&this.rowModel.refreshModel({step:dt.MAP})},YA([E("rowModel")],t.prototype,"rowModel",void 0),YA([z],t.prototype,"postConstruct",null),t=YA([ie("expansionService")],t),t}(X),tRe=function(){var n=function(t,e){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])},n(t,e)};return function(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");n(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}}(),mu=function(n,t,e,r){var i=arguments.length,o=i<3?t:r===null?r=Object.getOwnPropertyDescriptor(t,e):r,a;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(n,t,e,r);else for(var s=n.length-1;s>=0;s--)(a=n[s])&&(o=(i<3?a(o):i>3?a(t,e,o):a(t,e))||o);return i>3&&o&&Object.defineProperty(t,e,o),o},RX=function(n){tRe(t,n);function t(){return n!==null&&n.apply(this,arguments)||this}return t.prototype.postConstruct=function(){var e;this.activeMenuFactory=(e=this.enterpriseMenuFactory)!==null&&e!==void 0?e:this.filterMenuFactory},t.prototype.showColumnMenu=function(e){this.showColumnMenuCommon(this.activeMenuFactory,e,"columnMenu")},t.prototype.showFilterMenu=function(e){var r=this.enterpriseMenuFactory&&this.isLegacyMenuEnabled()?this.enterpriseMenuFactory:this.filterMenuFactory;this.showColumnMenuCommon(r,e,e.containerType,!0)},t.prototype.showHeaderContextMenu=function(e,r,i){this.activeMenuFactory.showMenuAfterContextMenuEvent(e,r,i)},t.prototype.showContextMenu=function(e){var r,i,o,a=e.column,s=e.anchorToElement,l=e.rowNode,u=e.value;(r=this.contextMenuFactory)===null||r===void 0||r.onContextMenu((i=e.mouseEvent)!==null&&i!==void 0?i:null,(o=e.touchEvent)!==null&&o!==void 0?o:null,l??null,a??null,u,s)},t.prototype.showColumnChooser=function(e){var r;(r=this.columnChooserFactory)===null||r===void 0||r.showColumnChooser(e)},t.prototype.hidePopupMenu=function(){var e;(e=this.contextMenuFactory)===null||e===void 0||e.hideActiveMenu(),this.activeMenuFactory.hideActiveMenu()},t.prototype.hideColumnChooser=function(){var e;(e=this.columnChooserFactory)===null||e===void 0||e.hideActiveColumnChooser()},t.prototype.isColumnMenuInHeaderEnabled=function(e){var r=e.getColDef(),i=r.suppressMenu,o=r.suppressHeaderMenuButton,a=o??i;return!a&&this.activeMenuFactory.isMenuEnabled(e)&&(this.isLegacyMenuEnabled()||!!this.enterpriseMenuFactory)},t.prototype.isFilterMenuInHeaderEnabled=function(e){return!e.getColDef().suppressHeaderFilterButton&&this.filterManager.isFilterAllowed(e)},t.prototype.isHeaderContextMenuEnabled=function(e){return!(e!=null&&e.getColDef().suppressHeaderContextMenu)&&this.getColumnMenuType()==="new"},t.prototype.isHeaderMenuButtonAlwaysShowEnabled=function(){return this.isSuppressMenuHide()},t.prototype.isHeaderMenuButtonEnabled=function(){var e=!this.isSuppressMenuHide(),r=yc()&&e;return!r},t.prototype.isHeaderFilterButtonEnabled=function(e){return this.isFilterMenuInHeaderEnabled(e)&&!this.isLegacyMenuEnabled()&&!this.isFloatingFilterButtonDisplayed(e)},t.prototype.isFilterMenuItemEnabled=function(e){return this.filterManager.isFilterAllowed(e)&&!this.isLegacyMenuEnabled()&&!this.isFilterMenuInHeaderEnabled(e)&&!this.isFloatingFilterButtonDisplayed(e)},t.prototype.isColumnMenuAnchoringEnabled=function(){return!this.isLegacyMenuEnabled()},t.prototype.areAdditionalColumnMenuItemsEnabled=function(){return this.getColumnMenuType()==="new"},t.prototype.isLegacyMenuEnabled=function(){return this.getColumnMenuType()==="legacy"},t.prototype.isFloatingFilterButtonEnabled=function(e){var r,i=e.getColDef(),o=(r=i.floatingFilterComponentParams)===null||r===void 0?void 0:r.suppressFilterButton;return o!=null&&Ge("As of v31.1, 'colDef.floatingFilterComponentParams.suppressFilterButton' is deprecated. Use 'colDef.suppressFloatingFilterButton' instead."),i.suppressFloatingFilterButton==null?!o:!i.suppressFloatingFilterButton},t.prototype.getColumnMenuType=function(){var e;return(e=this.gridOptionsService.get("columnMenu"))!==null&&e!==void 0?e:"legacy"},t.prototype.isFloatingFilterButtonDisplayed=function(e){return!!e.getColDef().floatingFilter&&this.isFloatingFilterButtonEnabled(e)},t.prototype.isSuppressMenuHide=function(){var e=this.gridOptionsService.get("suppressMenuHide");return this.isLegacyMenuEnabled()||this.gridOptionsService.exists("suppressMenuHide")?e:!0},t.prototype.showColumnMenuCommon=function(e,r,i,o){var a=this,s=r.column,l=r.positionBy;if(l==="button"){var u=r.buttonElement;e.showMenuAfterButtonClick(s,u,i,o)}else if(l==="mouse"){var c=r.mouseEvent;e.showMenuAfterMouseEvent(s,c,i,o)}else s&&(this.ctrlsService.getGridBodyCtrl().getScrollFeature().ensureColumnVisible(s,"auto"),this.animationFrameService.requestAnimationFrame(function(){var d=a.ctrlsService.getHeaderRowContainerCtrl(s.getPinned()).getHeaderCtrlForColumn(s);e.showMenuAfterButtonClick(s,d.getAnchorElementForMenu(o),i,!0)}))},mu([et("enterpriseMenuFactory")],t.prototype,"enterpriseMenuFactory",void 0),mu([E("filterMenuFactory")],t.prototype,"filterMenuFactory",void 0),mu([et("contextMenuFactory")],t.prototype,"contextMenuFactory",void 0),mu([E("ctrlsService")],t.prototype,"ctrlsService",void 0),mu([E("animationFrameService")],t.prototype,"animationFrameService",void 0),mu([et("columnChooserFactory")],t.prototype,"columnChooserFactory",void 0),mu([E("filterManager")],t.prototype,"filterManager",void 0),mu([z],t.prototype,"postConstruct",null),t=mu([ie("menuService")],t),t}(X),rRe=function(){var n=function(t,e){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])},n(t,e)};return function(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");n(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}}(),Xy=function(n,t,e,r){var i=arguments.length,o=i<3?t:r===null?r=Object.getOwnPropertyDescriptor(t,e):r,a;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(n,t,e,r);else for(var s=n.length-1;s>=0;s--)(a=n[s])&&(o=(i<3?a(o):i>3?a(t,e,o):a(t,e))||o);return i>3&&o&&Object.defineProperty(t,e,o),o},TX=function(n){rRe(t,n);function t(){return n!==null&&n.apply(this,arguments)||this}return t.prototype.postConstruct=function(){var e=this;this.ctrlsService.whenReady(function(r){e.centerRowContainerCtrl=r.centerRowContainerCtrl})},t.prototype.getPreferredWidthForColumn=function(e,r){var i=this.getHeaderCellForColumn(e);if(!i)return-1;var o=this.rowRenderer.getAllCellsForColumn(e);return r||o.push(i),this.addElementsToContainerAndGetWidth(o)},t.prototype.getPreferredWidthForColumnGroup=function(e){var r=this.getHeaderCellForColumn(e);return r?this.addElementsToContainerAndGetWidth([r]):-1},t.prototype.addElementsToContainerAndGetWidth=function(e){var r=this,i=document.createElement("form");i.style.position="fixed";var o=this.centerRowContainerCtrl.getContainerElement();e.forEach(function(l){return r.cloneItemIntoDummy(l,i)}),o.appendChild(i);var a=i.offsetWidth;o.removeChild(i);var s=this.getAutoSizePadding();return a+s},t.prototype.getAutoSizePadding=function(){return this.gridOptionsService.get("autoSizePadding")},t.prototype.getHeaderCellForColumn=function(e){var r=null;return this.ctrlsService.getHeaderRowContainerCtrls().forEach(function(i){var o=i.getHtmlElementForColumnHeader(e);o!=null&&(r=o)}),r},t.prototype.cloneItemIntoDummy=function(e,r){var i=e.cloneNode(!0);i.style.width="",i.style.position="static",i.style.left="";var o=document.createElement("div"),a=o.classList,s=["ag-header-cell","ag-header-group-cell"].some(function(p){return i.classList.contains(p)});s?(a.add("ag-header","ag-header-row"),o.style.position="static"):a.add("ag-row");for(var l=e.parentElement;l;){var u=["ag-header-row","ag-row"].some(function(p){return l.classList.contains(p)});if(u){for(var c=0;c<l.classList.length;c++){var d=l.classList[c];d!="ag-row-position-absolute"&&a.add(d)}break}l=l.parentElement}o.appendChild(i),r.appendChild(o)},Xy([E("rowRenderer")],t.prototype,"rowRenderer",void 0),Xy([E("ctrlsService")],t.prototype,"ctrlsService",void 0),Xy([E("rowCssClassCalculator")],t.prototype,"rowCssClassCalculator",void 0),Xy([z],t.prototype,"postConstruct",null),t=Xy([ie("autoWidthCalculator")],t),t}(X),nRe=function(){var n=function(t,e){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])},n(t,e)};return function(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");n(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}}(),h_=function(n,t,e,r){var i=arguments.length,o=i<3?t:r===null?r=Object.getOwnPropertyDescriptor(t,e):r,a;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(n,t,e,r);else for(var s=n.length-1;s>=0;s--)(a=n[s])&&(o=(i<3?a(o):i>3?a(t,e,o):a(t,e))||o);return i>3&&o&&Object.defineProperty(t,e,o),o},iRe=function(n){var t=typeof Symbol=="function"&&Symbol.iterator,e=t&&n[t],r=0;if(e)return e.call(n);if(n&&typeof n.length=="number")return{next:function(){return n&&r>=n.length&&(n=void 0),{value:n&&n[r++],done:!n}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")},oRe=function(n,t){var e=typeof Symbol=="function"&&n[Symbol.iterator];if(!e)return n;var r=e.call(n),i,o=[],a;try{for(;(t===void 0||t-- >0)&&!(i=r.next()).done;)o.push(i.value)}catch(s){a={error:s}}finally{try{i&&!i.done&&(e=r.return)&&e.call(r)}finally{if(a)throw a.error}}return o},aRe=function(n,t,e){if(e||arguments.length===2)for(var r=0,i=t.length,o;r<i;r++)(o||!(r in t))&&(o||(o=Array.prototype.slice.call(t,0,r)),o[r]=t[r]);return n.concat(o||Array.prototype.slice.call(t))},sRe=function(n){nRe(t,n);function t(e,r){var i=n.call(this)||this;return i.createRowCon=e,i.destroyRowCtrls=r,i.stickyRowCtrls=[],i.containerHeight=0,i}return t.prototype.postConstruct=function(){var e=this;this.isClientSide=this.rowModel.getType()==="clientSide",this.ctrlsService.whenReady(function(r){e.gridBodyCtrl=r.gridBodyCtrl})},t.prototype.getStickyRowCtrls=function(){return this.stickyRowCtrls},t.prototype.checkStickyRows=function(){var e=this,r=0;if(!this.gridOptionsService.isGroupRowsSticky())return this.refreshNodesAndContainerHeight([],r);for(var i=[],o=this.rowRenderer.getFirstVisibleVerticalPixel(),a=function(f){var v,g,y;i.push(f);var m;if(e.isClientSide){for(var C=f;C.isExpandable()&&C.expanded;)if(C.master)C=C.detailNode;else if(C.childrenAfterSort){if(C.childrenAfterSort.length===0)break;C=xt(C.childrenAfterSort)}m=C.rowTop+C.rowHeight}else if(f.master)m=f.detailNode.rowTop+f.detailNode.rowHeight;else{var S=(v=f.childStore)===null||v===void 0?void 0:v.getStoreBounds();m=((g=S==null?void 0:S.heightPx)!==null&&g!==void 0?g:0)+((y=S==null?void 0:S.topPx)!==null&&y!==void 0?y:0)}var w=o+r+f.rowHeight;m<w?f.stickyRowTop=r+(m-w):f.stickyRowTop=r,r=0,i.forEach(function(_){var x=_.stickyRowTop+_.rowHeight;r<x&&(r=x)})},s=0;;){var l=o+r,u=this.rowModel.getRowIndexAtPixel(l),c=this.rowModel.getRow(u);if(c==null||c.level<0||s++===100)break;for(var d=[],p=c.parent;p.level>=0;)d.push(p),p=p.parent;var h=d.reverse().find(function(f){return i.indexOf(f)<0&&f.displayed});if(h){a(h);continue}if(c.isExpandable()&&c.expanded&&c.rowTop<l){a(c);continue}break}return this.refreshNodesAndContainerHeight(i,r)},t.prototype.refreshStickyNode=function(e){for(var r=[],i=0;i<this.stickyRowCtrls.length;i++){var o=this.stickyRowCtrls[i].getRowNode();o!==e&&r.push(o)}this.refreshNodesAndContainerHeight(r,this.containerHeight)&&this.checkStickyRows()},t.prototype.refreshNodesAndContainerHeight=function(e,r){var i,o,a,s=this,l=!1,u=this.stickyRowCtrls.filter(function(g){return e.indexOf(g.getRowNode())===-1}),c=e.filter(function(g){return s.stickyRowCtrls.findIndex(function(y){return y.getRowNode()===g})===-1});(u.length||c.length)&&(l=!0);var d={};u.forEach(function(g){d[g.getRowNode().id]=g,s.stickyRowCtrls=s.stickyRowCtrls.filter(function(y){return y!==g})});try{for(var p=iRe(Object.values(d)),h=p.next();!h.done;h=p.next()){var f=h.value;f.getRowNode().sticky=!1}}catch(g){i={error:g}}finally{try{h&&!h.done&&(o=p.return)&&o.call(p)}finally{if(i)throw i.error}}this.destroyRowCtrls(d,!1);var v=c.map(function(g){return g.sticky=!0,s.createRowCon(g,!1,!1)});return(a=this.stickyRowCtrls).push.apply(a,aRe([],oRe(v),!1)),this.stickyRowCtrls.forEach(function(g){return g.setRowTop(g.getRowNode().stickyRowTop)}),this.stickyRowCtrls.sort(function(g,y){return y.getRowNode().rowIndex-g.getRowNode().rowIndex}),this.containerHeight!==r&&(this.containerHeight=r,this.gridBodyCtrl.setStickyTopHeight(r),l=!0),l},h_([E("rowModel")],t.prototype,"rowModel",void 0),h_([E("rowRenderer")],t.prototype,"rowRenderer",void 0),h_([E("ctrlsService")],t.prototype,"ctrlsService",void 0),h_([z],t.prototype,"postConstruct",null),t}(X),lRe=function(){var n=function(t,e){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])},n(t,e)};return function(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");n(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}}(),hs=function(n,t,e,r){var i=arguments.length,o=i<3?t:r===null?r=Object.getOwnPropertyDescriptor(t,e):r,a;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(n,t,e,r);else for(var s=n.length-1;s>=0;s--)(a=n[s])&&(o=(i<3?a(o):i>3?a(t,e,o):a(t,e))||o);return i>3&&o&&Object.defineProperty(t,e,o),o},Nc=function(n,t){var e=typeof Symbol=="function"&&n[Symbol.iterator];if(!e)return n;var r=e.call(n),i,o=[],a;try{for(;(t===void 0||t-- >0)&&!(i=r.next()).done;)o.push(i.value)}catch(s){a={error:s}}finally{try{i&&!i.done&&(e=r.return)&&e.call(r)}finally{if(a)throw a.error}}return o},kc=function(n,t,e){if(e||arguments.length===2)for(var r=0,i=t.length,o;r<i;r++)(o||!(r in t))&&(o||(o=Array.prototype.slice.call(t,0,r)),o[r]=t[r]);return n.concat(o||Array.prototype.slice.call(t))},uRe=function(n){var t=typeof Symbol=="function"&&Symbol.iterator,e=t&&n[t],r=0;if(e)return e.call(n);if(n&&typeof n.length=="number")return{next:function(){return n&&r>=n.length&&(n=void 0),{value:n&&n[r++],done:!n}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")},PX=function(n){lRe(t,n);function t(){var e=n!==null&&n.apply(this,arguments)||this;return e.destroyFuncsForColumnListeners=[],e.rowCtrlsByRowIndex={},e.zombieRowCtrls={},e.allRowCtrls=[],e.topRowCtrls=[],e.bottomRowCtrls=[],e.refreshInProgress=!1,e.dataFirstRenderedFired=!1,e.setupRangeSelectionListeners=function(){var r=function(){e.getAllCellCtrls().forEach(function(l){return l.onRangeSelectionChanged()})},i=function(){e.getAllCellCtrls().forEach(function(l){return l.updateRangeBordersIfRangeCount()})},o=function(){e.eventService.addEventListener(T.EVENT_RANGE_SELECTION_CHANGED,r),e.eventService.addEventListener(T.EVENT_COLUMN_MOVED,i),e.eventService.addEventListener(T.EVENT_COLUMN_PINNED,i),e.eventService.addEventListener(T.EVENT_COLUMN_VISIBLE,i)},a=function(){e.eventService.removeEventListener(T.EVENT_RANGE_SELECTION_CHANGED,r),e.eventService.removeEventListener(T.EVENT_COLUMN_MOVED,i),e.eventService.removeEventListener(T.EVENT_COLUMN_PINNED,i),e.eventService.removeEventListener(T.EVENT_COLUMN_VISIBLE,i)};e.addDestroyFunc(function(){return a()}),e.addManagedPropertyListener("enableRangeSelection",function(l){var u=l.currentValue;u?o():a()});var s=e.gridOptionsService.get("enableRangeSelection");s&&o()},e}return t.prototype.postConstruct=function(){var e=this;this.ctrlsService.whenReady(function(){e.gridBodyCtrl=e.ctrlsService.getGridBodyCtrl(),e.initialise()})},t.prototype.initialise=function(){var e=this;if(this.addManagedListener(this.eventService,T.EVENT_PAGINATION_CHANGED,this.onPageLoaded.bind(this)),this.addManagedListener(this.eventService,T.EVENT_PINNED_ROW_DATA_CHANGED,this.onPinnedRowDataChanged.bind(this)),this.addManagedListener(this.eventService,T.EVENT_DISPLAYED_COLUMNS_CHANGED,this.onDisplayedColumnsChanged.bind(this)),this.addManagedListener(this.eventService,T.EVENT_BODY_SCROLL,this.onBodyScroll.bind(this)),this.addManagedListener(this.eventService,T.EVENT_BODY_HEIGHT_CHANGED,this.redraw.bind(this)),this.addManagedPropertyListeners(["domLayout","embedFullWidthRows"],function(){return e.onDomLayoutChanged()}),this.addManagedPropertyListeners(["suppressMaxRenderedRowRestriction","rowBuffer"],function(){return e.redraw()}),this.addManagedPropertyListeners(["suppressCellFocus","getBusinessKeyForNode","fullWidthCellRenderer","fullWidthCellRendererParams","rowStyle","getRowStyle","rowClass","getRowClass","rowClassRules","groupRowRenderer","groupRowRendererParams","loadingCellRenderer","loadingCellRendererParams","detailCellRenderer","detailCellRendererParams","enableRangeSelection","enableCellTextSelection"],function(){return e.redrawRows()}),this.gridOptionsService.isGroupRowsSticky()){var r=this.rowModel.getType();(r==="clientSide"||r==="serverSide")&&(this.stickyRowFeature=this.createManagedBean(new sRe(this.createRowCon.bind(this),this.destroyRowCtrls.bind(this))))}this.registerCellEventListeners(),this.initialiseCache(),this.printLayout=this.gridOptionsService.isDomLayout("print"),this.embedFullWidthRows=this.printLayout||this.gridOptionsService.get("embedFullWidthRows"),this.redrawAfterModelUpdate()},t.prototype.initialiseCache=function(){if(this.gridOptionsService.get("keepDetailRows")){var e=this.getKeepDetailRowsCount(),r=e??3;this.cachedRowCtrls=new cRe(r)}},t.prototype.getKeepDetailRowsCount=function(){return this.gridOptionsService.get("keepDetailRowsCount")},t.prototype.getStickyTopRowCtrls=function(){return this.stickyRowFeature?this.stickyRowFeature.getStickyRowCtrls():[]},t.prototype.updateAllRowCtrls=function(){var e=Kd(this.rowCtrlsByRowIndex),r=Kd(this.zombieRowCtrls),i=this.cachedRowCtrls?this.cachedRowCtrls.getEntries():[];r.length>0||i.length>0?this.allRowCtrls=kc(kc(kc([],Nc(e),!1),Nc(r),!1),Nc(i),!1):this.allRowCtrls=e},t.prototype.onCellFocusChanged=function(e){this.getAllCellCtrls().forEach(function(r){return r.onCellFocused(e)}),this.getFullWidthRowCtrls().forEach(function(r){return r.onFullWidthRowFocused(e)})},t.prototype.registerCellEventListeners=function(){var e=this;this.addManagedListener(this.eventService,T.EVENT_CELL_FOCUSED,function(r){e.onCellFocusChanged(r)}),this.addManagedListener(this.eventService,T.EVENT_CELL_FOCUS_CLEARED,function(){e.onCellFocusChanged()}),this.addManagedListener(this.eventService,T.EVENT_FLASH_CELLS,function(r){e.getAllCellCtrls().forEach(function(i){return i.onFlashCells(r)})}),this.addManagedListener(this.eventService,T.EVENT_COLUMN_HOVER_CHANGED,function(){e.getAllCellCtrls().forEach(function(r){return r.onColumnHover()})}),this.addManagedListener(this.eventService,T.EVENT_DISPLAYED_COLUMNS_CHANGED,function(){e.getAllCellCtrls().forEach(function(r){return r.onDisplayedColumnsChanged()})}),this.addManagedListener(this.eventService,T.EVENT_DISPLAYED_COLUMNS_WIDTH_CHANGED,function(){e.printLayout&&e.getAllCellCtrls().forEach(function(r){return r.onLeftChanged()})}),this.setupRangeSelectionListeners(),this.refreshListenersToColumnsForCellComps(),this.addManagedListener(this.eventService,T.EVENT_GRID_COLUMNS_CHANGED,this.refreshListenersToColumnsForCellComps.bind(this)),this.addDestroyFunc(this.removeGridColumnListeners.bind(this))},t.prototype.removeGridColumnListeners=function(){this.destroyFuncsForColumnListeners.forEach(function(e){return e()}),this.destroyFuncsForColumnListeners.length=0},t.prototype.refreshListenersToColumnsForCellComps=function(){var e=this;this.removeGridColumnListeners();var r=this.columnModel.getAllGridColumns();r.forEach(function(i){var o=function(d){e.getAllCellCtrls().forEach(function(p){p.getColumn()===i&&d(p)})},a=function(){o(function(d){return d.onLeftChanged()})},s=function(){o(function(d){return d.onWidthChanged()})},l=function(){o(function(d){return d.onFirstRightPinnedChanged()})},u=function(){o(function(d){return d.onLastLeftPinnedChanged()})},c=function(){o(function(d){return d.onColDefChanged()})};i.addEventListener("leftChanged",a),i.addEventListener("widthChanged",s),i.addEventListener("firstRightPinnedChanged",l),i.addEventListener("lastLeftPinnedChanged",u),i.addEventListener("colDefChanged",c),e.destroyFuncsForColumnListeners.push(function(){i.removeEventListener("leftChanged",a),i.removeEventListener("widthChanged",s),i.removeEventListener("firstRightPinnedChanged",l),i.removeEventListener("lastLeftPinnedChanged",u),i.removeEventListener("colDefChanged",c)})})},t.prototype.onDomLayoutChanged=function(){var e=this.gridOptionsService.isDomLayout("print"),r=e||this.gridOptionsService.get("embedFullWidthRows"),i=r!==this.embedFullWidthRows||this.printLayout!==e;this.printLayout=e,this.embedFullWidthRows=r,i&&this.redrawAfterModelUpdate({domLayoutChanged:!0})},t.prototype.datasourceChanged=function(){this.firstRenderedRow=0,this.lastRenderedRow=-1;var e=Object.keys(this.rowCtrlsByRowIndex);this.removeRowCtrls(e)},t.prototype.onPageLoaded=function(e){var r={recycleRows:e.keepRenderedRows,animate:e.animate,newData:e.newData,newPage:e.newPage,onlyBody:!0};this.redrawAfterModelUpdate(r)},t.prototype.getAllCellsForColumn=function(e){var r=[];return this.getAllRowCtrls().forEach(function(i){var o=i.getCellElement(e);o&&r.push(o)}),r},t.prototype.refreshFloatingRowComps=function(){this.refreshFloatingRows(this.topRowCtrls,this.pinnedRowModel.getPinnedTopRowData()),this.refreshFloatingRows(this.bottomRowCtrls,this.pinnedRowModel.getPinnedBottomRowData())},t.prototype.getTopRowCtrls=function(){return this.topRowCtrls},t.prototype.getCentreRowCtrls=function(){return this.allRowCtrls},t.prototype.getBottomRowCtrls=function(){return this.bottomRowCtrls},t.prototype.refreshFloatingRows=function(e,r){var i=this;e.forEach(function(o){o.destroyFirstPass(),o.destroySecondPass()}),e.length=0,r&&r.forEach(function(o){var a=new kd(o,i.beans,!1,!1,i.printLayout);e.push(a)})},t.prototype.onPinnedRowDataChanged=function(){var e={recycleRows:!0};this.redrawAfterModelUpdate(e)},t.prototype.redrawRow=function(e,r){var i=this,o;if(r===void 0&&(r=!1),e.sticky)this.stickyRowFeature.refreshStickyNode(e);else if(!((o=this.cachedRowCtrls)===null||o===void 0)&&o.has(e)){this.cachedRowCtrls.removeRow(e);return}else{var a=function(s){var l=s[e.rowIndex];l&&l.getRowNode()===e&&(l.destroyFirstPass(),l.destroySecondPass(),s[e.rowIndex]=i.createRowCon(e,!1,!1))};switch(e.rowPinned){case"top":a(this.topRowCtrls);break;case"bottom":a(this.bottomRowCtrls);break;default:a(this.rowCtrlsByRowIndex),this.updateAllRowCtrls()}}r||this.dispatchDisplayedRowsChanged(!1)},t.prototype.redrawRows=function(e){var r=this,i=e!=null;if(i){e==null||e.forEach(function(o){return r.redrawRow(o,!0)}),this.dispatchDisplayedRowsChanged(!1);return}this.redrawAfterModelUpdate()},t.prototype.getCellToRestoreFocusToAfterRefresh=function(e){var r=e!=null&&e.suppressKeepFocus?null:this.focusService.getFocusCellToUseAfterRefresh();if(r==null)return null;var i=this.gridOptionsService.getDocument(),o=i.activeElement,a=this.gridOptionsService.getDomData(o,ju.DOM_DATA_KEY_CELL_CTRL),s=this.gridOptionsService.getDomData(o,kd.DOM_DATA_KEY_ROW_CTRL),l=a||s;return l?r:null},t.prototype.redrawAfterModelUpdate=function(e){e===void 0&&(e={}),this.getLockOnRefresh();var r=this.getCellToRestoreFocusToAfterRefresh(e);this.updateContainerHeights(),this.scrollToTopIfNewData(e);var i=!e.domLayoutChanged&&!!e.recycleRows,o=e.animate&&this.gridOptionsService.isAnimateRows(),a=i?this.getRowsToRecycle():null;i||this.removeAllRowComps(),this.workOutFirstAndLastRowsToRender(),this.stickyRowFeature&&this.stickyRowFeature.checkStickyRows(),this.recycleRows(a,o),this.gridBodyCtrl.updateRowCount(),e.onlyBody||this.refreshFloatingRowComps(),this.dispatchDisplayedRowsChanged(),r!=null&&this.restoreFocusedCell(r),this.releaseLockOnRefresh()},t.prototype.scrollToTopIfNewData=function(e){var r=e.newData||e.newPage,i=this.gridOptionsService.get("suppressScrollOnNewData");r&&!i&&this.gridBodyCtrl.getScrollFeature().scrollToTop()},t.prototype.updateContainerHeights=function(){if(this.printLayout){this.rowContainerHeightService.setModelHeight(null);return}var e=this.paginationProxy.getCurrentPageHeight();e===0&&(e=1),this.rowContainerHeightService.setModelHeight(e)},t.prototype.getLockOnRefresh=function(){if(this.refreshInProgress)throw new Error("AG Grid: cannot get grid to draw rows when it is in the middle of drawing rows. Your code probably called a grid API method while the grid was in the render stage. To overcome this, put the API call into a timeout, e.g. instead of api.redrawRows(), call setTimeout(function() { api.redrawRows(); }, 0). To see what part of your code that caused the refresh check this stacktrace.");this.refreshInProgress=!0},t.prototype.releaseLockOnRefresh=function(){this.refreshInProgress=!1},t.prototype.isRefreshInProgress=function(){return this.refreshInProgress},t.prototype.restoreFocusedCell=function(e){e&&(this.focusService.setRestoreFocusedCell(e),this.onCellFocusChanged(this.beans.gridOptionsService.addGridCommonParams({rowIndex:e.rowIndex,column:e.column,rowPinned:e.rowPinned,forceBrowserFocus:!0,preventScrollOnBrowserFocus:!0,type:"mock"})))},t.prototype.stopEditing=function(e){e===void 0&&(e=!1),this.getAllRowCtrls().forEach(function(r){r.stopEditing(e)})},t.prototype.getAllCellCtrls=function(){for(var e=[],r=this.getAllRowCtrls(),i=r.length,o=0;o<i;o++)for(var a=r[o].getAllCellCtrls(),s=a.length,l=0;l<s;l++)e.push(a[l]);return e},t.prototype.getAllRowCtrls=function(){var e,r,i=this.stickyRowFeature&&this.stickyRowFeature.getStickyRowCtrls()||[],o=kc(kc(kc([],Nc(this.topRowCtrls),!1),Nc(this.bottomRowCtrls),!1),Nc(i),!1);try{for(var a=uRe(Object.keys(this.rowCtrlsByRowIndex)),s=a.next();!s.done;s=a.next()){var l=s.value;o.push(this.rowCtrlsByRowIndex[l])}}catch(u){e={error:u}}finally{try{s&&!s.done&&(r=a.return)&&r.call(a)}finally{if(e)throw e.error}}return o},t.prototype.addRenderedRowListener=function(e,r,i){var o=this.rowCtrlsByRowIndex[r];o&&o.addEventListener(e,i)},t.prototype.flashCells=function(e){e===void 0&&(e={}),this.getCellCtrls(e.rowNodes,e.columns).forEach(function(r){return r.flashCell(e)})},t.prototype.refreshCells=function(e){var r=this;e===void 0&&(e={});var i={forceRefresh:e.force,newData:!1,suppressFlash:e.suppressFlash};this.getCellCtrls(e.rowNodes,e.columns).forEach(function(o){return o.refreshOrDestroyCell(i)}),e.rowNodes&&(this.getRowCtrls(e.rowNodes).forEach(function(o){if(o.isFullWidth()){var a=o.refreshFullWidth();a||r.redrawRow(o.getRowNode(),!0)}}),this.dispatchDisplayedRowsChanged(!1))},t.prototype.getCellRendererInstances=function(e){var r=this,i,o=this.getCellCtrls(e.rowNodes,e.columns).map(function(l){return l.getCellRenderer()}).filter(function(l){return l!=null});if(!((i=e.columns)===null||i===void 0)&&i.length)return o;var a=[],s=this.mapRowNodes(e.rowNodes);return this.getAllRowCtrls().forEach(function(l){if(!(s&&!r.isRowInMap(l.getRowNode(),s))&&l.isFullWidth())for(var u=l.getFullWidthCellRenderers(),c=0;c<u.length;c++){var d=u[c];d!=null&&a.push(d)}}),kc(kc([],Nc(a),!1),Nc(o),!1)},t.prototype.getCellEditorInstances=function(e){var r=[];return this.getCellCtrls(e.rowNodes,e.columns).forEach(function(i){var o=i.getCellEditor();o&&r.push(o)}),r},t.prototype.getEditingCells=function(){var e=[];return this.getAllCellCtrls().forEach(function(r){if(r.isEditing()){var i=r.getCellPosition();e.push(i)}}),e},t.prototype.mapRowNodes=function(e){if(e){var r={top:{},bottom:{},normal:{}};return e.forEach(function(i){var o=i.id;i.rowPinned==="top"?r.top[o]=i:i.rowPinned==="bottom"?r.bottom[o]=i:r.normal[o]=i}),r}},t.prototype.isRowInMap=function(e,r){var i=e.id,o=e.rowPinned;return o==="bottom"?r.bottom[i]!=null:o==="top"?r.top[i]!=null:r.normal[i]!=null},t.prototype.getRowCtrls=function(e){var r=this,i=this.mapRowNodes(e),o=this.getAllRowCtrls();return!e||!i?o:o.filter(function(a){var s=a.getRowNode();return r.isRowInMap(s,i)})},t.prototype.getCellCtrls=function(e,r){var i=this,o;oe(r)&&(o={},r.forEach(function(s){var l=i.columnModel.getGridColumn(s);oe(l)&&(o[l.getId()]=!0)}));var a=[];return this.getRowCtrls(e).forEach(function(s){s.getAllCellCtrls().forEach(function(l){var u=l.getColumn().getId(),c=o&&!o[u];c||a.push(l)})}),a},t.prototype.destroy=function(){this.removeAllRowComps(),n.prototype.destroy.call(this)},t.prototype.removeAllRowComps=function(){var e=Object.keys(this.rowCtrlsByRowIndex);this.removeRowCtrls(e)},t.prototype.getRowsToRecycle=function(){var e=[];gi(this.rowCtrlsByRowIndex,function(i,o){var a=o.getRowNode().id==null;a&&e.push(i)}),this.removeRowCtrls(e);var r={};return gi(this.rowCtrlsByRowIndex,function(i,o){var a=o.getRowNode();r[a.id]=o}),this.rowCtrlsByRowIndex={},r},t.prototype.removeRowCtrls=function(e,r){var i=this;r===void 0&&(r=!1),e.forEach(function(o){var a=i.rowCtrlsByRowIndex[o];a&&(a.destroyFirstPass(r),a.destroySecondPass()),delete i.rowCtrlsByRowIndex[o]})},t.prototype.onBodyScroll=function(e){e.direction==="vertical"&&this.redraw({afterScroll:!0})},t.prototype.redraw=function(e){e===void 0&&(e={});var r=e.afterScroll,i;this.stickyRowFeature&&Uk()&&(i=this.getCellToRestoreFocusToAfterRefresh()||void 0);var o=this.firstRenderedRow,a=this.lastRenderedRow;this.workOutFirstAndLastRowsToRender();var s=!1;this.stickyRowFeature&&(s=this.stickyRowFeature.checkStickyRows());var l=this.firstRenderedRow!==o||this.lastRenderedRow!==a;if(!(r&&!s&&!l)&&(this.getLockOnRefresh(),this.recycleRows(null,!1,r),this.releaseLockOnRefresh(),this.dispatchDisplayedRowsChanged(r&&!s),i!=null)){var u=this.getCellToRestoreFocusToAfterRefresh();i!=null&&u==null&&(this.animationFrameService.flushAllFrames(),this.restoreFocusedCell(i))}},t.prototype.removeRowCompsNotToDraw=function(e,r){var i={};e.forEach(function(s){return i[s]=!0});var o=Object.keys(this.rowCtrlsByRowIndex),a=o.filter(function(s){return!i[s]});this.removeRowCtrls(a,r)},t.prototype.calculateIndexesToDraw=function(e){var r=this,i=iY(this.firstRenderedRow,this.lastRenderedRow),o=function(c,d){var p=d.getRowNode().rowIndex;p!=null&&(p<r.firstRenderedRow||p>r.lastRenderedRow)&&r.doNotUnVirtualiseRow(d)&&i.push(p)};gi(this.rowCtrlsByRowIndex,o),gi(e,o),i.sort(function(c,d){return c-d});for(var a=[],s=0;s<i.length;s++){var l=i[s],u=this.paginationProxy.getRow(l);u&&!u.sticky&&a.push(l)}return a},t.prototype.recycleRows=function(e,r,i){var o=this;r===void 0&&(r=!1),i===void 0&&(i=!1);var a=this.calculateIndexesToDraw(e);if((this.printLayout||i)&&(r=!1),this.removeRowCompsNotToDraw(a,!r),a.forEach(function(l){var u=o.createOrUpdateRowCtrl(l,e,r,i);oe(u)}),e){var s=i&&!this.gridOptionsService.get("suppressAnimationFrame")&&!this.printLayout;s?this.beans.animationFrameService.addDestroyTask(function(){o.destroyRowCtrls(e,r),o.updateAllRowCtrls(),o.dispatchDisplayedRowsChanged()}):this.destroyRowCtrls(e,r)}this.updateAllRowCtrls()},t.prototype.dispatchDisplayedRowsChanged=function(e){e===void 0&&(e=!1);var r={type:T.EVENT_DISPLAYED_ROWS_CHANGED,afterScroll:e};this.eventService.dispatchEvent(r)},t.prototype.onDisplayedColumnsChanged=function(){var e=this.columnModel.isPinningLeft(),r=this.columnModel.isPinningRight(),i=this.pinningLeft!==e||r!==this.pinningRight;i&&(this.pinningLeft=e,this.pinningRight=r,this.embedFullWidthRows&&this.redrawFullWidthEmbeddedRows())},t.prototype.redrawFullWidthEmbeddedRows=function(){var e=[];this.getFullWidthRowCtrls().forEach(function(r){var i=r.getRowNode().rowIndex;e.push(i.toString())}),this.refreshFloatingRowComps(),this.removeRowCtrls(e),this.redraw({afterScroll:!0})},t.prototype.getFullWidthRowCtrls=function(e){var r=this,i=this.mapRowNodes(e);return this.getAllRowCtrls().filter(function(o){if(!o.isFullWidth())return!1;var a=o.getRowNode();return!(i!=null&&!r.isRowInMap(a,i))})},t.prototype.createOrUpdateRowCtrl=function(e,r,i,o){var a,s=this.rowCtrlsByRowIndex[e];s||(a=this.paginationProxy.getRow(e),oe(a)&&oe(r)&&r[a.id]&&a.alreadyRendered&&(s=r[a.id],r[a.id]=null));var l=!s;if(l)if(a||(a=this.paginationProxy.getRow(e)),oe(a))s=this.createRowCon(a,i,o);else return;return a&&(a.alreadyRendered=!0),this.rowCtrlsByRowIndex[e]=s,s},t.prototype.destroyRowCtrls=function(e,r){var i=this,o=[];gi(e,function(a,s){if(s){if(i.cachedRowCtrls&&s.isCacheable()){i.cachedRowCtrls.addRow(s);return}s.destroyFirstPass(!r),r?(i.zombieRowCtrls[s.getInstanceId()]=s,o.push(function(){s.destroySecondPass(),delete i.zombieRowCtrls[s.getInstanceId()]})):s.destroySecondPass()}}),r&&(o.push(function(){i.updateAllRowCtrls(),i.dispatchDisplayedRowsChanged()}),C7(o))},t.prototype.getRowBuffer=function(){return this.gridOptionsService.get("rowBuffer")},t.prototype.getRowBufferInPixels=function(){var e=this.getRowBuffer(),r=this.gridOptionsService.getRowHeightAsNumber();return e*r},t.prototype.workOutFirstAndLastRowsToRender=function(){this.rowContainerHeightService.updateOffset();var e,r;if(!this.paginationProxy.isRowsToRender())e=0,r=-1;else if(this.printLayout)this.environment.refreshRowHeightVariable(),e=this.paginationProxy.getPageFirstRow(),r=this.paginationProxy.getPageLastRow();else{var i=this.getRowBufferInPixels(),o=this.ctrlsService.getGridBodyCtrl(),a=this.gridOptionsService.get("suppressRowVirtualisation"),s=!1,l=void 0,u=void 0;do{var c=this.paginationProxy.getPixelOffset(),d=this.paginationProxy.getCurrentPagePixelRange(),p=d.pageFirstPixel,h=d.pageLastPixel,f=this.rowContainerHeightService.getDivStretchOffset(),v=o.getScrollFeature().getVScrollPosition(),g=v.top,y=v.bottom;a?(l=p+f,u=h+f):(l=Math.max(g+c-i,p)+f,u=Math.min(y+c+i,h)+f),this.firstVisibleVPixel=Math.max(g+c,p)+f,s=this.ensureAllRowsInRangeHaveHeightsCalculated(l,u)}while(s);var m=this.paginationProxy.getRowIndexAtPixel(l),C=this.paginationProxy.getRowIndexAtPixel(u),S=this.paginationProxy.getPageFirstRow(),w=this.paginationProxy.getPageLastRow();m<S&&(m=S),C>w&&(C=w),e=m,r=C}var _=this.gridOptionsService.isDomLayout("normal"),x=this.gridOptionsService.get("suppressMaxRenderedRowRestriction"),b=Math.max(this.getRowBuffer(),500);_&&!x&&r-e>b&&(r=e+b);var O=e!==this.firstRenderedRow,P=r!==this.lastRenderedRow;if(O||P){this.firstRenderedRow=e,this.lastRenderedRow=r;var D={type:T.EVENT_VIEWPORT_CHANGED,firstRow:e,lastRow:r};this.eventService.dispatchEvent(D)}},t.prototype.dispatchFirstDataRenderedEvent=function(){var e=this;if(!this.dataFirstRenderedFired){this.dataFirstRenderedFired=!0;var r={type:T.EVENT_FIRST_DATA_RENDERED,firstRow:this.firstRenderedRow,lastRow:this.lastRenderedRow};window.requestAnimationFrame(function(){e.beans.eventService.dispatchEvent(r)})}},t.prototype.ensureAllRowsInRangeHaveHeightsCalculated=function(e,r){var i=this.paginationProxy.ensureRowHeightsValid(e,r,-1,-1);return i&&this.updateContainerHeights(),i},t.prototype.getFirstVisibleVerticalPixel=function(){return this.firstVisibleVPixel},t.prototype.getFirstVirtualRenderedRow=function(){return this.firstRenderedRow},t.prototype.getLastVirtualRenderedRow=function(){return this.lastRenderedRow},t.prototype.doNotUnVirtualiseRow=function(e){var r=!1,i=!0,o=e.getRowNode(),a=this.focusService.isRowNodeFocused(o),s=e.isEditing(),l=o.detail,u=a||s||l;if(!u)return r;var c=this.paginationProxy.isRowPresent(o);return c?i:r},t.prototype.createRowCon=function(e,r,i){var o=this.cachedRowCtrls?this.cachedRowCtrls.getRow(e):null;if(o)return o;var a=this.gridOptionsService.get("suppressAnimationFrame"),s=i&&!a&&!this.printLayout,l=new kd(e,this.beans,r,s,this.printLayout);return l},t.prototype.getRenderedNodes=function(){var e=this.rowCtrlsByRowIndex;return Object.keys(e).map(function(r){return e[r].getRowNode()})},t.prototype.getRowByPosition=function(e){var r,i=e.rowIndex;switch(e.rowPinned){case"top":r=this.topRowCtrls[i];break;case"bottom":r=this.bottomRowCtrls[i];break;default:r=this.rowCtrlsByRowIndex[i],r||(r=this.getStickyTopRowCtrls().find(function(o){return o.getRowNode().rowIndex===i})||null);break}return r},t.prototype.getRowNode=function(e){switch(e.rowPinned){case"top":return this.pinnedRowModel.getPinnedTopRowData()[e.rowIndex];case"bottom":return this.pinnedRowModel.getPinnedBottomRowData()[e.rowIndex];default:return this.rowModel.getRow(e.rowIndex)}},t.prototype.isRangeInRenderedViewport=function(e,r){var i=e==null||r==null;if(i)return!1;var o=e>this.lastRenderedRow,a=r<this.firstRenderedRow,s=!a&&!o;return s},hs([E("animationFrameService")],t.prototype,"animationFrameService",void 0),hs([E("paginationProxy")],t.prototype,"paginationProxy",void 0),hs([E("columnModel")],t.prototype,"columnModel",void 0),hs([E("pinnedRowModel")],t.prototype,"pinnedRowModel",void 0),hs([E("rowModel")],t.prototype,"rowModel",void 0),hs([E("focusService")],t.prototype,"focusService",void 0),hs([E("beans")],t.prototype,"beans",void 0),hs([E("rowContainerHeightService")],t.prototype,"rowContainerHeightService",void 0),hs([E("ctrlsService")],t.prototype,"ctrlsService",void 0),hs([z],t.prototype,"postConstruct",null),t=hs([ie("rowRenderer")],t),t}(X),cRe=function(){function n(t){this.entriesMap={},this.entriesList=[],this.maxCount=t}return n.prototype.addRow=function(t){if(this.entriesMap[t.getRowNode().id]=t,this.entriesList.push(t),t.setCached(!0),this.entriesList.length>this.maxCount){var e=this.entriesList[0];e.destroyFirstPass(),e.destroySecondPass(),this.removeFromCache(e)}},n.prototype.getRow=function(t){if(t==null||t.id==null)return null;var e=this.entriesMap[t.id];if(!e)return null;this.removeFromCache(e),e.setCached(!1);var r=e.getRowNode()!=t;return r?null:e},n.prototype.has=function(t){return this.entriesMap[t.id]!=null},n.prototype.removeRow=function(t){var e=t.id,r=this.entriesMap[e];delete this.entriesMap[e],so(this.entriesList,r)},n.prototype.removeFromCache=function(t){var e=t.getRowNode().id;delete this.entriesMap[e],so(this.entriesList,t)},n.prototype.getEntries=function(){return this.entriesList},n}(),dRe=function(){var n=function(t,e){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])},n(t,e)};return function(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");n(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}}(),A$=function(n,t,e,r){var i=arguments.length,o=i<3?t:r===null?r=Object.getOwnPropertyDescriptor(t,e):r,a;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(n,t,e,r);else for(var s=n.length-1;s>=0;s--)(a=n[s])&&(o=(i<3?a(o):i>3?a(t,e,o):a(t,e))||o);return i>3&&o&&Object.defineProperty(t,e,o),o},AX=function(n){dRe(t,n);function t(){return n!==null&&n.apply(this,arguments)||this}return t.prototype.formatValue=function(e,r,i,o,a){a===void 0&&(a=!0);var s=null,l,u=e.getColDef();if(o?l=o:a&&(l=u.valueFormatter),l){var c=this.gridOptionsService.addGridCommonParams({value:i,node:r,data:r?r.data:null,colDef:u,column:e});typeof l=="function"?s=l(c):s=this.expressionService.evaluate(l,c)}else if(u.refData)return u.refData[i]||"";return s==null&&Array.isArray(i)&&(s=i.join(", ")),s},A$([E("expressionService")],t.prototype,"expressionService",void 0),t=A$([ie("valueFormatterService")],t),t}(X),pRe=function(){var n=function(t,e){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])},n(t,e)};return function(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");n(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}}(),XA=function(n,t,e,r){var i=arguments.length,o=i<3?t:r===null?r=Object.getOwnPropertyDescriptor(t,e):r,a;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(n,t,e,r);else for(var s=n.length-1;s>=0;s--)(a=n[s])&&(o=(i<3?a(o):i>3?a(t,e,o):a(t,e))||o);return i>3&&o&&Object.defineProperty(t,e,o),o},DX=function(n){pRe(t,n);function t(){return n!==null&&n.apply(this,arguments)||this}return t.prototype.init=function(){var e=this;this.setPinnedTopRowData(),this.setPinnedBottomRowData(),this.addManagedPropertyListener("pinnedTopRowData",function(){return e.setPinnedTopRowData()}),this.addManagedPropertyListener("pinnedBottomRowData",function(){return e.setPinnedBottomRowData()})},t.prototype.isEmpty=function(e){var r=e==="top"?this.pinnedTopRows:this.pinnedBottomRows;return Jo(r)},t.prototype.isRowsToRender=function(e){return!this.isEmpty(e)},t.prototype.getRowAtPixel=function(e,r){var i=r==="top"?this.pinnedTopRows:this.pinnedBottomRows;if(Jo(i))return 0;for(var o=0;o<i.length;o++){var a=i[o],s=a.rowTop+a.rowHeight-1;if(s>=e)return o}return i.length-1},t.prototype.setPinnedTopRowData=function(){var e=this.gridOptionsService.get("pinnedTopRowData");this.pinnedTopRows=this.createNodesFromData(e,!0);var r={type:T.EVENT_PINNED_ROW_DATA_CHANGED};this.eventService.dispatchEvent(r)},t.prototype.setPinnedBottomRowData=function(){var e=this.gridOptionsService.get("pinnedBottomRowData");this.pinnedBottomRows=this.createNodesFromData(e,!1);var r={type:T.EVENT_PINNED_ROW_DATA_CHANGED};this.eventService.dispatchEvent(r)},t.prototype.createNodesFromData=function(e,r){var i=this,o=[];if(e){var a=0;e.forEach(function(s,l){var u=new Xe(i.beans);u.data=s;var c=r?Xe.ID_PREFIX_TOP_PINNED:Xe.ID_PREFIX_BOTTOM_PINNED;u.id=c+l,u.rowPinned=r?"top":"bottom",u.setRowTop(a),u.setRowHeight(i.gridOptionsService.getRowHeightForNode(u).height),u.setRowIndex(l),a+=u.rowHeight,o.push(u)})}return o},t.prototype.getPinnedTopRowData=function(){return this.pinnedTopRows},t.prototype.getPinnedBottomRowData=function(){return this.pinnedBottomRows},t.prototype.getPinnedTopTotalHeight=function(){return this.getTotalHeight(this.pinnedTopRows)},t.prototype.getPinnedTopRowCount=function(){return this.pinnedTopRows?this.pinnedTopRows.length:0},t.prototype.getPinnedBottomRowCount=function(){return this.pinnedBottomRows?this.pinnedBottomRows.length:0},t.prototype.getPinnedTopRow=function(e){return this.pinnedTopRows[e]},t.prototype.getPinnedBottomRow=function(e){return this.pinnedBottomRows[e]},t.prototype.forEachPinnedTopRow=function(e){Jo(this.pinnedTopRows)||this.pinnedTopRows.forEach(e)},t.prototype.forEachPinnedBottomRow=function(e){Jo(this.pinnedBottomRows)||this.pinnedBottomRows.forEach(e)},t.prototype.getPinnedBottomTotalHeight=function(){return this.getTotalHeight(this.pinnedBottomRows)},t.prototype.getTotalHeight=function(e){if(!e||e.length===0)return 0;var r=xt(e);return r.rowTop+r.rowHeight},XA([E("beans")],t.prototype,"beans",void 0),XA([z],t.prototype,"init",null),t=XA([ie("pinnedRowModel")],t),t}(X),Qn;(function(n){n.Applied="Applied",n.StoreNotFound="StoreNotFound",n.StoreLoading="StoreLoading",n.StoreWaitingToLoad="StoreWaitingToLoad",n.StoreLoadingFailed="StoreLoadingFailed",n.StoreWrongType="StoreWrongType",n.Cancelled="Cancelled",n.StoreNotStarted="StoreNotStarted"})(Qn||(Qn={}));var Yg=function(){function n(t,e){this.active=!0,this.nodeIdsToColumns={},this.mapToItems={},this.keepingColumns=t,this.pathRoot={rowNode:e,children:null},this.mapToItems[e.id]=this.pathRoot}return n.prototype.setInactive=function(){this.active=!1},n.prototype.isActive=function(){return this.active},n.prototype.depthFirstSearchChangedPath=function(t,e){if(t.children)for(var r=0;r<t.children.length;r++)this.depthFirstSearchChangedPath(t.children[r],e);e(t.rowNode)},n.prototype.depthFirstSearchEverything=function(t,e,r){if(t.childrenAfterGroup)for(var i=0;i<t.childrenAfterGroup.length;i++){var o=t.childrenAfterGroup[i];o.childrenAfterGroup?this.depthFirstSearchEverything(t.childrenAfterGroup[i],e,r):r&&e(o)}e(t)},n.prototype.forEachChangedNodeDepthFirst=function(t,e,r){e===void 0&&(e=!1),r===void 0&&(r=!1),this.active&&!r?this.depthFirstSearchChangedPath(this.pathRoot,t):this.depthFirstSearchEverything(this.pathRoot.rowNode,t,e)},n.prototype.executeFromRootNode=function(t){t(this.pathRoot.rowNode)},n.prototype.createPathItems=function(t){for(var e=t,r=0;!this.mapToItems[e.id];){var i={rowNode:e,children:null};this.mapToItems[e.id]=i,r++,e=e.parent}return r},n.prototype.populateColumnsMap=function(t,e){var r=this;if(!(!this.keepingColumns||!e))for(var i=t;i;)this.nodeIdsToColumns[i.id]||(this.nodeIdsToColumns[i.id]={}),e.forEach(function(o){return r.nodeIdsToColumns[i.id][o.getId()]=!0}),i=i.parent},n.prototype.linkPathItems=function(t,e){for(var r=t,i=0;i<e;i++){var o=this.mapToItems[r.id],a=this.mapToItems[r.parent.id];a.children||(a.children=[]),a.children.push(o),r=r.parent}},n.prototype.addParentNode=function(t,e){if(!(!t||t.isRowPinned())){var r=this.createPathItems(t);this.linkPathItems(t,r),this.populateColumnsMap(t,e)}},n.prototype.canSkip=function(t){return this.active&&!this.mapToItems[t.id]},n.prototype.getValueColumnsForNode=function(t,e){if(!this.keepingColumns)return e;var r=this.nodeIdsToColumns[t.id],i=e.filter(function(o){return r[o.getId()]});return i},n.prototype.getNotValueColumnsForNode=function(t,e){if(!this.keepingColumns)return null;var r=this.nodeIdsToColumns[t.id],i=e.filter(function(o){return!r[o.getId()]});return i},n}(),hRe=function(){var n=function(t,e){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])},n(t,e)};return function(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");n(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}}(),Rl=function(n){hRe(t,n);function t(e){var r=n.call(this)||this;return r.state=t.STATE_WAITING_TO_LOAD,r.version=0,r.id=e,r}return t.prototype.getId=function(){return this.id},t.prototype.load=function(){this.state=t.STATE_LOADING,this.loadFromDatasource()},t.prototype.getVersion=function(){return this.version},t.prototype.setStateWaitingToLoad=function(){this.version++,this.state=t.STATE_WAITING_TO_LOAD},t.prototype.getState=function(){return this.state},t.prototype.pageLoadFailed=function(e){var r=this.isRequestMostRecentAndLive(e);r&&(this.state=t.STATE_FAILED,this.processServerFail()),this.dispatchLoadCompleted(!1)},t.prototype.success=function(e,r){this.successCommon(e,r)},t.prototype.pageLoaded=function(e,r,i){this.successCommon(e,{rowData:r,rowCount:i})},t.prototype.isRequestMostRecentAndLive=function(e){var r=e===this.version,i=this.isAlive();return r&&i},t.prototype.successCommon=function(e,r){this.dispatchLoadCompleted();var i=this.isRequestMostRecentAndLive(e);i&&(this.state=t.STATE_LOADED,this.processServerResult(r))},t.prototype.dispatchLoadCompleted=function(e){e===void 0&&(e=!0);var r={type:t.EVENT_LOAD_COMPLETE,success:e,block:this};this.dispatchEvent(r)},t.EVENT_LOAD_COMPLETE="loadComplete",t.STATE_WAITING_TO_LOAD="needsLoading",t.STATE_LOADING="loading",t.STATE_LOADED="loaded",t.STATE_FAILED="failed",t}(X),fRe=function(){var n=function(t,e){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])},n(t,e)};return function(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");n(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}}(),f_=function(n,t,e,r){var i=arguments.length,o=i<3?t:r===null?r=Object.getOwnPropertyDescriptor(t,e):r,a;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(n,t,e,r);else for(var s=n.length-1;s>=0;s--)(a=n[s])&&(o=(i<3?a(o):i>3?a(t,e,o):a(t,e))||o);return i>3&&o&&Object.defineProperty(t,e,o),o},vRe=function(n,t){return function(e,r){t(e,r,n)}},xG=function(n){fRe(t,n);function t(){var r=n!==null&&n.apply(this,arguments)||this;return r.activeBlockLoadsCount=0,r.blocks=[],r.active=!0,r}e=t,t.prototype.postConstruct=function(){this.maxConcurrentRequests=this.getMaxConcurrentDatasourceRequests();var r=this.gridOptionsService.get("blockLoadDebounceMillis");r&&r>0&&(this.checkBlockToLoadDebounce=A.debounce(this.performCheckBlocksToLoad.bind(this),r))},t.prototype.setBeans=function(r){this.logger=r.create("RowNodeBlockLoader")},t.prototype.getMaxConcurrentDatasourceRequests=function(){var r=this.gridOptionsService.get("maxConcurrentDatasourceRequests");if(r==null)return 2;if(!(r<=0))return r},t.prototype.addBlock=function(r){this.blocks.push(r),r.addEventListener(Rl.EVENT_LOAD_COMPLETE,this.loadComplete.bind(this)),this.checkBlockToLoad()},t.prototype.removeBlock=function(r){A.removeFromArray(this.blocks,r)},t.prototype.destroy=function(){n.prototype.destroy.call(this),this.active=!1},t.prototype.loadComplete=function(){this.activeBlockLoadsCount--,this.checkBlockToLoad(),this.dispatchEvent({type:e.BLOCK_LOADED_EVENT}),this.activeBlockLoadsCount==0&&this.dispatchEvent({type:e.BLOCK_LOADER_FINISHED_EVENT})},t.prototype.checkBlockToLoad=function(){this.checkBlockToLoadDebounce?this.checkBlockToLoadDebounce():this.performCheckBlocksToLoad()},t.prototype.performCheckBlocksToLoad=function(){if(this.active){if(this.printCacheStatus(),this.maxConcurrentRequests!=null&&this.activeBlockLoadsCount>=this.maxConcurrentRequests){this.logger.log("checkBlockToLoad: max loads exceeded");return}var r=this.getAvailableLoadingCount(),i=this.blocks.filter(function(o){return o.getState()===Rl.STATE_WAITING_TO_LOAD}).slice(0,r);this.registerLoads(i.length),i.forEach(function(o){return o.load()}),this.printCacheStatus()}},t.prototype.getBlockState=function(){if(this.gridOptionsService.isRowModelType("serverSide")){var r=this.rowModel;return r.getBlockStates()}var i={};return this.blocks.forEach(function(o){var a=o.getBlockStateJson(),s=a.id,l=a.state;i[s]=l}),i},t.prototype.printCacheStatus=function(){this.logger.isLogging()&&this.logger.log("printCacheStatus: activePageLoadsCount = ".concat(this.activeBlockLoadsCount,",")+" blocks = ".concat(JSON.stringify(this.getBlockState())))},t.prototype.isLoading=function(){return this.activeBlockLoadsCount>0},t.prototype.registerLoads=function(r){this.activeBlockLoadsCount+=r},t.prototype.getAvailableLoadingCount=function(){return this.maxConcurrentRequests!==void 0?this.maxConcurrentRequests-this.activeBlockLoadsCount:void 0};var e;return t.BLOCK_LOADED_EVENT="blockLoaded",t.BLOCK_LOADER_FINISHED_EVENT="blockLoaderFinished",f_([E("rowModel")],t.prototype,"rowModel",void 0),f_([z],t.prototype,"postConstruct",null),f_([vRe(0,oa("loggerFactory"))],t.prototype,"setBeans",null),t=e=f_([ie("rowNodeBlockLoader")],t),t}(X),gRe=function(){var n=function(t,e){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])},n(t,e)};return function(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");n(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}}(),qA=function(n,t,e,r){var i=arguments.length,o=i<3?t:r===null?r=Object.getOwnPropertyDescriptor(t,e):r,a;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(n,t,e,r);else for(var s=n.length-1;s>=0;s--)(a=n[s])&&(o=(i<3?a(o):i>3?a(t,e,o):a(t,e))||o);return i>3&&o&&Object.defineProperty(t,e,o),o},MX=function(n){gRe(t,n);function t(){var e=n!==null&&n.apply(this,arguments)||this;return e.currentPage=0,e.topDisplayedRowIndex=0,e.bottomDisplayedRowIndex=0,e.pixelOffset=0,e.masterRowCount=0,e}return t.prototype.postConstruct=function(){this.active=this.gridOptionsService.get("pagination"),this.pageSizeFromGridOptions=this.gridOptionsService.get("paginationPageSize"),this.paginateChildRows=this.isPaginateChildRows(),this.addManagedListener(this.eventService,T.EVENT_MODEL_UPDATED,this.onModelUpdated.bind(this)),this.addManagedPropertyListener("pagination",this.onPaginationGridOptionChanged.bind(this)),this.addManagedPropertyListener("paginationPageSize",this.onPageSizeGridOptionChanged.bind(this)),this.onModelUpdated()},t.prototype.ensureRowHeightsValid=function(e,r,i,o){var a=this.rowModel.ensureRowHeightsValid(e,r,this.getPageFirstRow(),this.getPageLastRow());return a&&this.calculatePages(),a},t.prototype.isPaginateChildRows=function(){var e=this.gridOptionsService.get("groupRemoveSingleChildren")||this.gridOptionsService.get("groupRemoveLowestSingleChildren");return e?!0:this.gridOptionsService.get("paginateChildRows")},t.prototype.onModelUpdated=function(e){this.calculatePages();var r={type:T.EVENT_PAGINATION_CHANGED,animate:e?e.animate:!1,newData:e?e.newData:!1,newPage:e?e.newPage:!1,newPageSize:e?e.newPageSize:!1,keepRenderedRows:e?e.keepRenderedRows:!1};this.eventService.dispatchEvent(r)},t.prototype.onPaginationGridOptionChanged=function(){this.active=this.gridOptionsService.get("pagination"),this.calculatePages();var e={type:T.EVENT_PAGINATION_CHANGED,animate:!1,newData:!1,newPage:!1,newPageSize:!1,keepRenderedRows:!0};this.eventService.dispatchEvent(e)},t.prototype.onPageSizeGridOptionChanged=function(){this.setPageSize(this.gridOptionsService.get("paginationPageSize"),"gridOptions")},t.prototype.goToPage=function(e){if(!(!this.active||this.currentPage===e||typeof this.currentPage!="number")){this.currentPage=e;var r={type:T.EVENT_MODEL_UPDATED,animate:!1,keepRenderedRows:!1,newData:!1,newPage:!0,newPageSize:!1};this.onModelUpdated(r)}},t.prototype.getPixelOffset=function(){return this.pixelOffset},t.prototype.getRow=function(e){return this.rowModel.getRow(e)},t.prototype.getRowNode=function(e){return this.rowModel.getRowNode(e)},t.prototype.getRowIndexAtPixel=function(e){return this.rowModel.getRowIndexAtPixel(e)},t.prototype.getCurrentPageHeight=function(){return We(this.topRowBounds)||We(this.bottomRowBounds)?0:Math.max(this.bottomRowBounds.rowTop+this.bottomRowBounds.rowHeight-this.topRowBounds.rowTop,0)},t.prototype.getCurrentPagePixelRange=function(){var e=this.topRowBounds?this.topRowBounds.rowTop:0,r=this.bottomRowBounds?this.bottomRowBounds.rowTop+this.bottomRowBounds.rowHeight:0;return{pageFirstPixel:e,pageLastPixel:r}},t.prototype.isRowPresent=function(e){if(!this.rowModel.isRowPresent(e))return!1;var r=e.rowIndex>=this.topDisplayedRowIndex&&e.rowIndex<=this.bottomDisplayedRowIndex;return r},t.prototype.isEmpty=function(){return this.rowModel.isEmpty()},t.prototype.isRowsToRender=function(){return this.rowModel.isRowsToRender()},t.prototype.forEachNode=function(e){return this.rowModel.forEachNode(e)},t.prototype.forEachNodeOnPage=function(e){for(var r=this.getPageFirstRow(),i=this.getPageLastRow(),o=r;o<=i;o++){var a=this.getRow(o);a&&e(a)}},t.prototype.getType=function(){return this.rowModel.getType()},t.prototype.getRowBounds=function(e){var r=this.rowModel.getRowBounds(e);return r.rowIndex=e,r},t.prototype.getPageFirstRow=function(){return this.topRowBounds?this.topRowBounds.rowIndex:-1},t.prototype.getPageLastRow=function(){return this.bottomRowBounds?this.bottomRowBounds.rowIndex:-1},t.prototype.getRowCount=function(){return this.rowModel.getRowCount()},t.prototype.getPageForIndex=function(e){return Math.floor(e/this.pageSize)},t.prototype.goToPageWithIndex=function(e){if(this.active){var r=this.getPageForIndex(e);this.goToPage(r)}},t.prototype.isRowInPage=function(e){if(!this.active)return!0;var r=this.getPageForIndex(e.rowIndex);return r===this.currentPage},t.prototype.isLastPageFound=function(){return this.rowModel.isLastRowIndexKnown()},t.prototype.getCurrentPage=function(){return this.currentPage},t.prototype.goToNextPage=function(){this.goToPage(this.currentPage+1)},t.prototype.goToPreviousPage=function(){this.goToPage(this.currentPage-1)},t.prototype.goToFirstPage=function(){this.goToPage(0)},t.prototype.goToLastPage=function(){var e=this.rowModel.getRowCount(),r=Math.floor(e/this.pageSize);this.goToPage(r)},t.prototype.getPageSize=function(){return this.pageSize},t.prototype.getTotalPages=function(){return this.totalPages},t.prototype.setPage=function(e){this.currentPage=e},Object.defineProperty(t.prototype,"pageSize",{get:function(){return oe(this.pageSizeAutoCalculated)?this.pageSizeAutoCalculated:oe(this.pageSizeFromPageSizeSelector)?this.pageSizeFromPageSizeSelector:oe(this.pageSizeFromInitialState)?this.pageSizeFromInitialState:oe(this.pageSizeFromGridOptions)?this.pageSizeFromGridOptions:this.defaultPageSize},enumerable:!1,configurable:!0}),t.prototype.unsetAutoCalculatedPageSize=function(){if(this.pageSizeAutoCalculated!==void 0){var e=this.pageSizeAutoCalculated;this.pageSizeAutoCalculated=void 0,this.pageSize!==e&&this.onModelUpdated({type:T.EVENT_MODEL_UPDATED,animate:!1,keepRenderedRows:!1,newData:!1,newPage:!1,newPageSize:!0})}},t.prototype.setPageSize=function(e,r){var i=this.pageSize;switch(r){case"autoCalculated":this.pageSizeAutoCalculated=e;break;case"pageSizeSelector":this.pageSizeFromPageSizeSelector=e,this.currentPage!==0&&this.goToFirstPage();break;case"initialState":this.pageSizeFromInitialState=e;break;case"gridOptions":this.pageSizeFromGridOptions=e,this.pageSizeFromInitialState=void 0,this.pageSizeFromPageSizeSelector=void 0,this.currentPage!==0&&this.goToFirstPage();break}if(i!==this.pageSize){var o={type:T.EVENT_MODEL_UPDATED,animate:!1,keepRenderedRows:!1,newData:!1,newPage:!1,newPageSize:!0};this.onModelUpdated(o)}},t.prototype.calculatePages=function(){this.active?this.paginateChildRows?this.calculatePagesAllRows():this.calculatePagesMasterRowsOnly():this.calculatedPagesNotActive(),this.topRowBounds=this.rowModel.getRowBounds(this.topDisplayedRowIndex),this.topRowBounds&&(this.topRowBounds.rowIndex=this.topDisplayedRowIndex),this.bottomRowBounds=this.rowModel.getRowBounds(this.bottomDisplayedRowIndex),this.bottomRowBounds&&(this.bottomRowBounds.rowIndex=this.bottomDisplayedRowIndex),this.setPixelOffset(oe(this.topRowBounds)?this.topRowBounds.rowTop:0)},t.prototype.setPixelOffset=function(e){this.pixelOffset!==e&&(this.pixelOffset=e,this.eventService.dispatchEvent({type:T.EVENT_PAGINATION_PIXEL_OFFSET_CHANGED}))},t.prototype.setZeroRows=function(){this.masterRowCount=0,this.topDisplayedRowIndex=0,this.bottomDisplayedRowIndex=-1,this.currentPage=0,this.totalPages=0},t.prototype.adjustCurrentPageIfInvalid=function(){this.currentPage>=this.totalPages&&(this.currentPage=this.totalPages-1),(!isFinite(this.currentPage)||isNaN(this.currentPage)||this.currentPage<0)&&(this.currentPage=0)},t.prototype.calculatePagesMasterRowsOnly=function(){if(this.masterRowCount=this.rowModel.getTopLevelRowCount(),this.masterRowCount<=0){this.setZeroRows();return}var e=this.masterRowCount-1;this.totalPages=Math.floor(e/this.pageSize)+1,this.adjustCurrentPageIfInvalid();var r=this.pageSize*this.currentPage,i=this.pageSize*(this.currentPage+1)-1;if(i>e&&(i=e),this.topDisplayedRowIndex=this.rowModel.getTopLevelRowDisplayedIndex(r),i===e)this.bottomDisplayedRowIndex=this.rowModel.getRowCount()-1;else{var o=this.rowModel.getTopLevelRowDisplayedIndex(i+1);this.bottomDisplayedRowIndex=o-1}},t.prototype.getMasterRowCount=function(){return this.masterRowCount},t.prototype.calculatePagesAllRows=function(){if(this.masterRowCount=this.rowModel.getRowCount(),this.masterRowCount===0){this.setZeroRows();return}var e=this.masterRowCount-1;this.totalPages=Math.floor(e/this.pageSize)+1,this.adjustCurrentPageIfInvalid(),this.topDisplayedRowIndex=this.pageSize*this.currentPage,this.bottomDisplayedRowIndex=this.pageSize*(this.currentPage+1)-1,this.bottomDisplayedRowIndex>e&&(this.bottomDisplayedRowIndex=e)},t.prototype.calculatedPagesNotActive=function(){this.setPageSize(this.masterRowCount,"autoCalculated"),this.totalPages=1,this.currentPage=0,this.topDisplayedRowIndex=0,this.bottomDisplayedRowIndex=this.rowModel.getRowCount()-1},qA([E("rowModel")],t.prototype,"rowModel",void 0),qA([z],t.prototype,"postConstruct",null),t=qA([ie("paginationProxy")],t),t}(X),yRe=function(){var n=function(t,e){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])},n(t,e)};return function(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");n(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}}(),D$=function(n,t,e,r){var i=arguments.length,o=i<3?t:r===null?r=Object.getOwnPropertyDescriptor(t,e):r,a;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(n,t,e,r);else for(var s=n.length-1;s>=0;s--)(a=n[s])&&(o=(i<3?a(o):i>3?a(t,e,o):a(t,e))||o);return i>3&&o&&Object.defineProperty(t,e,o),o},LX=function(n){yRe(t,n);function t(){return n!==null&&n.apply(this,arguments)||this}return t.prototype.processAllCellClasses=function(e,r,i,o){this.processClassRules(void 0,e.cellClassRules,r,i,o),this.processStaticCellClasses(e,r,i)},t.prototype.processClassRules=function(e,r,i,o,a){if(!(r==null&&e==null)){var s={},l={},u=function(f,v){f.split(" ").forEach(function(g){g.trim()!=""&&v(g)})};if(r)for(var c=Object.keys(r),d=function(f){var v=c[f],g=r[v],y;typeof g=="string"?y=p.expressionService.evaluate(g,i):typeof g=="function"&&(y=g(i)),u(v,function(m){y?s[m]=!0:l[m]=!0})},p=this,h=0;h<c.length;h++)d(h);e&&a&&Object.keys(e).forEach(function(f){return u(f,function(v){s[v]||(l[v]=!0)})}),a&&Object.keys(l).forEach(a),Object.keys(s).forEach(o)}},t.prototype.getStaticCellClasses=function(e,r){var i=e.cellClass;if(!i)return[];var o;if(typeof i=="function"){var a=i;o=a(r)}else o=i;return typeof o=="string"&&(o=[o]),o||[]},t.prototype.processStaticCellClasses=function(e,r,i){var o=this.getStaticCellClasses(e,r);o.forEach(function(a){i(a)})},D$([E("expressionService")],t.prototype,"expressionService",void 0),t=D$([ie("stylingService")],t),t}(X),mRe=function(){var n=function(t,e){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])},n(t,e)};return function(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");n(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}}(),ET=function(n){mRe(t,n);function t(e){return n.call(this,e,"ag-toggle-button")||this}return t.prototype.setValue=function(e,r){return n.prototype.setValue.call(this,e,r),this.addOrRemoveCssClass("ag-selected",this.getValue()),this},t}(Hu),CRe=function(){var n=function(t,e){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])},n(t,e)};return function(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");n(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}}(),FX=function(n){CRe(t,n);function t(e){return n.call(this,e,"ag-text-area",null,"textarea")||this}return t.prototype.setValue=function(e,r){var i=n.prototype.setValue.call(this,e,r);return this.eInput.value=e,i},t.prototype.setCols=function(e){return this.eInput.cols=e,this},t.prototype.setRows=function(e){return this.eInput.rows=e,this},t}(md),SRe=function(){var n=function(t,e){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])},n(t,e)};return function(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");n(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}}(),EG=function(n){SRe(t,n);function t(e){return n.call(this,e,"ag-date-field","date")||this}return t.prototype.postConstruct=function(){var e=this;n.prototype.postConstruct.call(this),this.addManagedListener(this.eInput,"wheel",this.onWheel.bind(this));var r=tu();this.addManagedListener(this.eInput,"mousedown",function(){e.isDisabled()||r||e.eInput.focus()}),this.eInput.step="any"},t.prototype.onWheel=function(e){document.activeElement===this.eInput&&e.preventDefault()},t.prototype.setMin=function(e){var r,i=e instanceof Date?(r=za(e??null,!1))!==null&&r!==void 0?r:void 0:e;return this.min===i?this:(this.min=i,Yl(this.eInput,"min",i),this)},t.prototype.setMax=function(e){var r,i=e instanceof Date?(r=za(e??null,!1))!==null&&r!==void 0?r:void 0:e;return this.max===i?this:(this.max=i,Yl(this.eInput,"max",i),this)},t.prototype.setStep=function(e){return this.step===e?this:(this.step=e,Yl(this.eInput,"step",e),this)},t.prototype.getDate=function(){var e;if(this.eInput.validity.valid)return(e=ho(this.getValue()))!==null&&e!==void 0?e:void 0},t.prototype.setDate=function(e,r){this.setValue(za(e??null,!1),r)},t}(su),wRe=function(){var n=function(t,e){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])},n(t,e)};return function(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");n(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}}(),IX=function(n){wRe(t,n);function t(e){return n.call(this,e,"ag-range-field","range")||this}return t.prototype.postConstruct=function(){n.prototype.postConstruct.call(this);var e=this.config,r=e.min,i=e.max,o=e.step;r!=null&&this.setMinValue(r),i!=null&&this.setMaxValue(i),this.setStep(o||1)},t.prototype.addInputListeners=function(){var e=this;this.addManagedListener(this.eInput,"input",function(r){var i=r.target.value;e.setValue(i)})},t.prototype.setMinValue=function(e){return this.min=e,this.eInput.setAttribute("min",e.toString()),this},t.prototype.setMaxValue=function(e){return this.max=e,this.eInput.setAttribute("max",e.toString()),this},t.prototype.setStep=function(e){return this.eInput.setAttribute("step",e.toString()),this},t.prototype.setValue=function(e,r){this.min!=null&&(e=Math.max(parseFloat(e),this.min).toString()),this.max!=null&&(e=Math.min(parseFloat(e),this.max).toString());var i=n.prototype.setValue.call(this,e,r);return this.eInput.value=e,i},t}(md),_Re=function(){var n=function(t,e){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])},n(t,e)};return function(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");n(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}}(),M$=function(n,t,e,r){var i=arguments.length,o=i<3?t:r===null?r=Object.getOwnPropertyDescriptor(t,e):r,a;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(n,t,e,r);else for(var s=n.length-1;s>=0;s--)(a=n[s])&&(o=(i<3?a(o):i>3?a(t,e,o):a(t,e))||o);return i>3&&o&&Object.defineProperty(t,e,o),o},xRe=function(n){_Re(t,n);function t(e,r){var i=n.call(this,'<div class="ag-rich-select-row" role="presentation"></div>')||this;return i.params=e,i.wrapperEl=r,i}return t.prototype.postConstruct=function(){this.addManagedListener(this.getGui(),"click",this.onClick.bind(this))},t.prototype.setState=function(e){var r="";this.params.valueFormatter&&(r=this.params.valueFormatter(e));var i=this.populateWithRenderer(e,r);i||this.populateWithoutRenderer(e,r),this.value=e},t.prototype.highlightString=function(e){var r=this.parsedValue;if(!(this.params.cellRenderer||!oe(r))){var i=oe(e);if(i){var o=r==null?void 0:r.toLocaleLowerCase().indexOf(e.toLocaleLowerCase());if(o>=0){var a=o+e.length,s=cn(r.slice(0,o),!0),l=cn(r.slice(o,a),!0),u=cn(r.slice(a));this.renderValueWithoutRenderer("".concat(s,'<span class="ag-rich-select-row-text-highlight">').concat(l,"</span>").concat(u))}else i=!1}i||this.renderValueWithoutRenderer(r)}},t.prototype.updateHighlighted=function(e){var r,i=this.getGui(),o="ag-rich-select-row-".concat(this.getCompId());if((r=i.parentElement)===null||r===void 0||r.setAttribute("id",o),e){var a=this.getParentComponent().getAriaElement();Ik(a,o),this.wrapperEl.setAttribute("data-active-option",o)}Dg(i.parentElement,e),this.addOrRemoveCssClass("ag-rich-select-row-selected",e)},t.prototype.populateWithoutRenderer=function(e,r){var i=this.gridOptionsService.getDocument(),o=this.getGui(),a=i.createElement("span");a.style.overflow="hidden",a.style.textOverflow="ellipsis";var s=cn(oe(r)?r:e,!0);this.parsedValue=oe(s)?s:null,o.appendChild(a),this.renderValueWithoutRenderer(s)},t.prototype.renderValueWithoutRenderer=function(e){var r=this.getGui().querySelector("span");r&&(r.innerHTML=oe(e)?e:"&nbsp;")},t.prototype.populateWithRenderer=function(e,r){var i=this,o,a;return this.params.cellRenderer&&(a=this.userComponentFactory.getCellRendererDetails(this.params,{value:e,valueFormatted:r})),a&&(o=a.newAgStackInstance()),o&&nG(o,this.getGui()),o?(o.then(function(s){i.addDestroyFunc(function(){i.getContext().destroyBean(s)})}),!0):!1},t.prototype.onClick=function(){var e=this.getParentComponent(),r={type:T.EVENT_FIELD_PICKER_VALUE_SELECTED,fromEnterKey:!1,value:this.value};e==null||e.dispatchEvent(r)},M$([E("userComponentFactory")],t.prototype,"userComponentFactory",void 0),M$([z],t.prototype,"postConstruct",null),t}(ae),ERe=function(){var n=function(t,e){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])},n(t,e)};return function(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");n(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}}(),v_=function(n,t,e,r){var i=arguments.length,o=i<3?t:r===null?r=Object.getOwnPropertyDescriptor(t,e):r,a;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(n,t,e,r);else for(var s=n.length-1;s>=0;s--)(a=n[s])&&(o=(i<3?a(o):i>3?a(t,e,o):a(t,e))||o);return i>3&&o&&Object.defineProperty(t,e,o),o},yf=function(n){ERe(t,n);function t(e){var r=n.call(this,t.getTemplate((e==null?void 0:e.cssIdentifier)||"default"))||this;r.renderedRows=new Map,r.rowHeight=20;var i=e||{},o=i.cssIdentifier,a=o===void 0?"default":o,s=i.ariaRole,l=s===void 0?"listbox":s,u=i.listName;return r.cssIdentifier=a,r.ariaRole=l,r.listName=u,r}return t.prototype.postConstruct=function(){var e=this;this.addScrollListener(),this.rowHeight=this.getItemHeight(),this.addResizeObserver(),this.initialiseTabGuard({onFocusIn:function(r){return e.onFocusIn(r)},onFocusOut:function(r){return e.onFocusOut(r)},focusInnerElement:function(r){return e.focusInnerElement(r)},onTabKeyDown:function(r){return e.onTabKeyDown(r)},handleKeyDown:function(r){return e.handleKeyDown(r)}}),this.setAriaProperties(),this.addManagedListener(this.eventService,T.EVENT_GRID_STYLES_CHANGED,this.onGridStylesChanged.bind(this))},t.prototype.onGridStylesChanged=function(){this.rowHeight=this.getItemHeight(),this.refresh()},t.prototype.setAriaProperties=function(){var e=this.localeService.getLocaleTextFunc(),r=e("ariaDefaultListName",this.listName||"List"),i=this.eContainer;hn(i,this.ariaRole),lp(i,r)},t.prototype.addResizeObserver=function(){var e=this,r=function(){return e.animationFrameService.requestAnimationFrame(function(){return e.drawVirtualRows()})},i=this.resizeObserverService.observeResize(this.getGui(),r);this.addDestroyFunc(i)},t.prototype.focusInnerElement=function(e){this.focusRow(e?this.model.getRowCount()-1:0)},t.prototype.onFocusIn=function(e){var r=e.target;r.classList.contains("ag-virtual-list-item")&&(this.lastFocusedRowIndex=H7(r)-1)},t.prototype.onFocusOut=function(e){this.getFocusableElement().contains(e.relatedTarget)||(this.lastFocusedRowIndex=null)},t.prototype.handleKeyDown=function(e){switch(e.key){case U.UP:case U.DOWN:this.navigate(e.key===U.UP)&&e.preventDefault();break}},t.prototype.onTabKeyDown=function(e){this.navigate(e.shiftKey)?e.preventDefault():(Gs(e),this.forceFocusOutOfContainer(e.shiftKey))},t.prototype.navigate=function(e){if(this.lastFocusedRowIndex==null)return!1;var r=this.lastFocusedRowIndex+(e?-1:1);return r<0||r>=this.model.getRowCount()?!1:(this.focusRow(r),!0)},t.prototype.getLastFocusedRow=function(){return this.lastFocusedRowIndex},t.prototype.focusRow=function(e){var r=this;this.ensureIndexVisible(e),window.setTimeout(function(){if(r.isAlive()){var i=r.renderedRows.get(e);i&&i.eDiv.focus()}},10)},t.prototype.getComponentAt=function(e){var r=this.renderedRows.get(e);return r&&r.rowComponent},t.prototype.forEachRenderedRow=function(e){this.renderedRows.forEach(function(r,i){return e(r.rowComponent,i)})},t.getTemplate=function(e){return'<div class="ag-virtual-list-viewport ag-'.concat(e,`-virtual-list-viewport" role="presentation">
                <div class="ag-virtual-list-container ag-`).concat(e,`-virtual-list-container" ref="eContainer"></div>
            </div>`)},t.prototype.getItemHeight=function(){return this.environment.getListItemHeight()},t.prototype.ensureIndexVisible=function(e,r){r===void 0&&(r=!0);var i=this.model.getRowCount();if(typeof e!="number"||e<0||e>=i)return console.warn("AG Grid: invalid row index for ensureIndexVisible: "+e),!1;var o=e*this.rowHeight,a=o+this.rowHeight,s=this.getGui(),l=s.scrollTop,u=s.offsetHeight,c=l+u,d=r?0:this.rowHeight,p=l>o+d,h=c<a-d;if(p)return s.scrollTop=o,!0;if(h){var f=a-u;return s.scrollTop=f,!0}return!1},t.prototype.setComponentCreator=function(e){this.componentCreator=e},t.prototype.setComponentUpdater=function(e){this.componentUpdater=e},t.prototype.getRowHeight=function(){return this.rowHeight},t.prototype.getScrollTop=function(){return this.getGui().scrollTop},t.prototype.setRowHeight=function(e){this.rowHeight=e,this.refresh()},t.prototype.refresh=function(e){var r=this;if(!(this.model==null||!this.isAlive())){var i=this.model.getRowCount();this.eContainer.style.height="".concat(i*this.rowHeight,"px"),Ok(function(){return r.eContainer.clientHeight>=i*r.rowHeight},function(){r.isAlive()&&(r.canSoftRefresh(e)?r.drawVirtualRows(!0):(r.clearVirtualRows(),r.drawVirtualRows()))})}},t.prototype.canSoftRefresh=function(e){return!!(e&&this.renderedRows.size&&typeof this.model.areRowsEqual=="function"&&this.componentUpdater)},t.prototype.clearVirtualRows=function(){var e=this;this.renderedRows.forEach(function(r,i){return e.removeRow(i)})},t.prototype.drawVirtualRows=function(e){if(!(!this.isAlive()||!this.model)){var r=this.getGui(),i=r.scrollTop,o=i+r.offsetHeight,a=Math.floor(i/this.rowHeight),s=Math.floor(o/this.rowHeight);this.ensureRowsRendered(a,s,e)}},t.prototype.ensureRowsRendered=function(e,r,i){var o=this;this.renderedRows.forEach(function(s,l){(l<e||l>r)&&l!==o.lastFocusedRowIndex&&o.removeRow(l)}),i&&this.refreshRows();for(var a=e;a<=r;a++)this.renderedRows.has(a)||a<this.model.getRowCount()&&this.insertRow(a)},t.prototype.insertRow=function(e){var r=this,i=this.model.getRow(e),o=document.createElement("div");o.classList.add("ag-virtual-list-item","ag-".concat(this.cssIdentifier,"-virtual-list-item")),hn(o,this.ariaRole==="tree"?"treeitem":"option"),Nk(o,this.model.getRowCount()),kk(o,e+1),o.setAttribute("tabindex","-1"),o.style.height="".concat(this.rowHeight,"px"),o.style.top="".concat(this.rowHeight*e,"px");var a=this.componentCreator(i,o);a.addGuiEventListener("focusin",function(){return r.lastFocusedRowIndex=e}),o.appendChild(a.getGui()),this.renderedRows.has(e-1)?this.renderedRows.get(e-1).eDiv.insertAdjacentElement("afterend",o):this.renderedRows.has(e+1)?this.renderedRows.get(e+1).eDiv.insertAdjacentElement("beforebegin",o):this.eContainer.appendChild(o),this.renderedRows.set(e,{rowComponent:a,eDiv:o,value:i})},t.prototype.removeRow=function(e){var r=this.renderedRows.get(e);this.eContainer.removeChild(r.eDiv),this.destroyBean(r.rowComponent),this.renderedRows.delete(e)},t.prototype.refreshRows=function(){var e=this,r=this.model.getRowCount();this.renderedRows.forEach(function(i,o){var a,s;if(o>=r)e.removeRow(o);else{var l=e.model.getRow(o);!((s=(a=e.model).areRowsEqual)===null||s===void 0)&&s.call(a,i.value,l)?e.componentUpdater(l,i.rowComponent):e.removeRow(o)}})},t.prototype.addScrollListener=function(){var e=this;this.addGuiEventListener("scroll",function(){return e.drawVirtualRows()},{passive:!0})},t.prototype.setModel=function(e){this.model=e},t.prototype.getAriaElement=function(){return this.eContainer},t.prototype.destroy=function(){this.isAlive()&&(this.clearVirtualRows(),n.prototype.destroy.call(this))},v_([E("resizeObserverService")],t.prototype,"resizeObserverService",void 0),v_([E("animationFrameService")],t.prototype,"animationFrameService",void 0),v_([j("eContainer")],t.prototype,"eContainer",void 0),v_([z],t.prototype,"postConstruct",null),t}(Cc),bRe=function(){var n=function(t,e){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])},n(t,e)};return function(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");n(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}}(),Hb=function(){return Hb=Object.assign||function(n){for(var t,e=1,r=arguments.length;e<r;e++){t=arguments[e];for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(n[i]=t[i])}return n},Hb.apply(this,arguments)},L$=function(n,t,e,r){var i=arguments.length,o=i<3?t:r===null?r=Object.getOwnPropertyDescriptor(t,e):r,a;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(n,t,e,r);else for(var s=n.length-1;s>=0;s--)(a=n[s])&&(o=(i<3?a(o):i>3?a(t,e,o):a(t,e))||o);return i>3&&o&&Object.defineProperty(t,e,o),o},ORe=`
    <div class="ag-picker-field" role="presentation">
        <div ref="eLabel"></div>
            <div ref="eWrapper" class="ag-wrapper ag-picker-field-wrapper ag-rich-select-value ag-picker-collapsed">
            <div ref="eDisplayField" class="ag-picker-field-display"></div>
            <ag-input-text-field ref="eInput" class="ag-rich-select-field-input"></ag-input-text-field>
            <div ref="eIcon" class="ag-picker-field-icon" aria-hidden="true"></div>
        </div>
    </div>`,$w=function(n){bRe(t,n);function t(e){var r=this,i,o;r=n.call(this,Hb(Hb({pickerAriaLabelKey:"ariaLabelRichSelectField",pickerAriaLabelValue:"Rich Select Field",pickerType:"ag-list",className:"ag-rich-select",pickerIcon:"smallDown",ariaRole:"combobox",template:(i=e==null?void 0:e.template)!==null&&i!==void 0?i:ORe,modalPicker:!1},e),{maxPickerHeight:(o=e==null?void 0:e.maxPickerHeight)!==null&&o!==void 0?o:"calc(var(--ag-row-height) * 6.5)"}))||this,r.searchString="",r.highlightedItem=-1,r.lastRowHovered=-1,r.searchStringCreator=null;var a=e||{},s=a.cellRowHeight,l=a.value,u=a.valueList,c=a.searchStringCreator;return s!=null&&(r.cellRowHeight=s),l!==void 0&&(r.value=l),u!=null&&(r.values=u),c&&(r.searchStringCreator=c),r}return t.prototype.postConstruct=function(){var e=this;n.prototype.postConstruct.call(this),this.createLoadingElement(),this.createListComponent();var r=this.config,i=r.allowTyping,o=r.placeholder;i?(this.eInput.setAutoComplete(!1).setInputPlaceholder(o),this.eDisplayField.classList.add("ag-hidden")):this.eInput.setDisplayed(!1),this.eWrapper.tabIndex=this.gridOptionsService.get("tabIndex");var a=this.config.searchDebounceDelay,s=a===void 0?300:a;this.clearSearchString=ia(this.clearSearchString,s),this.renderSelectedValue(),i&&(this.eInput.onValueChange(function(l){return e.searchTextFromString(l)}),this.addManagedListener(this.eWrapper,"focus",this.onWrapperFocus.bind(this))),this.addManagedListener(this.eWrapper,"focusout",this.onWrapperFocusOut.bind(this))},t.prototype.createLoadingElement=function(){var e=this.gridOptionsService.getDocument(),r=this.localeService.getLocaleTextFunc(),i=e.createElement("div");i.classList.add("ag-loading-text"),i.innerText=r("loadingOoo","Loading..."),this.eLoading=i},t.prototype.createListComponent=function(){var e=this;this.listComponent=this.createBean(new yf({cssIdentifier:"rich-select"})),this.listComponent.setComponentCreator(this.createRowComponent.bind(this));var r=function(c,d){};this.listComponent.setComponentUpdater(r),this.listComponent.setParentComponent(this),this.addManagedListener(this.listComponent,T.EVENT_FIELD_PICKER_VALUE_SELECTED,function(c){e.onListValueSelected(c.value,c.fromEnterKey)});var i=this.cellRowHeight;i&&this.listComponent.setRowHeight(i);var o=this.listComponent.getGui(),a=this.listComponent.getAriaElement();this.addManagedListener(o,"mousemove",this.onPickerMouseMove.bind(this)),this.addManagedListener(o,"mousedown",function(c){return c.preventDefault()}),o.classList.add("ag-rich-select-list");var s="ag-rich-select-list-".concat(this.listComponent.getCompId());a.setAttribute("id",s);var l=this.localeService.getLocaleTextFunc(),u=l(this.config.pickerAriaLabelKey,this.config.pickerAriaLabelValue);lp(a,u),Bk(this.eWrapper,a)},t.prototype.renderSelectedValue=function(){var e=this,r=this,i=r.value,o=r.eDisplayField,a=r.config,s=this.config,l=s.allowTyping,u=s.initialInputValue,c=this.config.valueFormatter?this.config.valueFormatter(i):i;if(l){this.eInput.setValue(u??c);return}var d;a.cellRenderer&&(d=this.userComponentFactory.getCellRendererDetails(this.config,{value:i,valueFormatted:c}));var p;if(d&&(p=d.newAgStackInstance()),p)Rn(o),nG(p,o),p.then(function(f){e.addDestroyFunc(function(){return e.getContext().destroyBean(f)})});else if(oe(this.value))o.innerText=c,o.classList.remove("ag-display-as-placeholder");else{var h=a.placeholder;oe(h)?(o.innerHTML="".concat(cn(h)),o.classList.add("ag-display-as-placeholder")):Rn(o)}},t.prototype.getCurrentValueIndex=function(){var e=this,r=e.currentList,i=e.value;if(i==null||!r)return-1;for(var o=0;o<r.length;o++)if(r[o]===i)return o;return-1},t.prototype.highlightFilterMatch=function(){var e=this,r;(r=this.listComponent)===null||r===void 0||r.forEachRenderedRow(function(i,o){i.highlightString(e.searchString)})},t.prototype.highlightSelectedValue=function(e){var r=this,i;e==null&&(e=this.getCurrentValueIndex()),this.highlightedItem=e,(i=this.listComponent)===null||i===void 0||i.forEachRenderedRow(function(o,a){var s=e===-1?!1:r.highlightedItem===a;o.updateHighlighted(s)})},t.prototype.setRowHeight=function(e){e!==this.cellRowHeight&&(this.cellRowHeight=e),this.listComponent&&this.listComponent.setRowHeight(e)},t.prototype.createPickerComponent=function(){var e=this.values;return e&&this.setValueList({valueList:e}),this.listComponent},t.prototype.setSearchStringCreator=function(e){this.searchStringCreator=e},t.prototype.setValueList=function(e){var r=e.valueList,i=e.refresh;this.listComponent&&this.currentList!==r&&(this.currentList=r,this.listComponent.setModel({getRowCount:function(){return r.length},getRow:function(o){return r[o]},areRowsEqual:function(o,a){return o===a}}),i&&(this.values?this.listComponent.refresh(!0):(this.values=r,this.isPickerDisplayed&&this.showCurrentValueInPicker())))},t.prototype.showPicker=function(){n.prototype.showPicker.call(this),this.showCurrentValueInPicker(),this.displayOrHidePicker()},t.prototype.showCurrentValueInPicker=function(){var e,r;if(this.listComponent){if(!this.currentList){this.isPickerDisplayed&&this.eLoading&&this.listComponent.appendChild(this.eLoading);return}!((e=this.eLoading)===null||e===void 0)&&e.offsetParent&&((r=this.eLoading.parentElement)===null||r===void 0||r.removeChild(this.eLoading));var i=this.getCurrentValueIndex();i!==-1?(this.listComponent.refresh(),this.listComponent.ensureIndexVisible(i),this.listComponent.refresh(!0),this.highlightSelectedValue(i)):this.listComponent.refresh()}},t.prototype.beforeHidePicker=function(){this.highlightedItem=-1,n.prototype.beforeHidePicker.call(this)},t.prototype.onWrapperFocus=function(){if(this.eInput){var e=this.eInput.getFocusableElement();e.focus(),e.select()}},t.prototype.onWrapperFocusOut=function(e){this.eWrapper.contains(e.relatedTarget)||this.hidePicker()},t.prototype.buildSearchStringFromKeyboardEvent=function(e){var r=e.key;if(r===U.BACKSPACE)this.searchString=this.searchString.slice(0,-1),r="";else if(!gT(e))return;e.preventDefault(),this.searchTextFromCharacter(r)},t.prototype.searchTextFromCharacter=function(e){this.searchString+=e,this.runSearch(),this.clearSearchString()},t.prototype.searchTextFromString=function(e){e==null&&(e=""),this.searchString=e,this.runSearch()},t.prototype.buildSearchStrings=function(e){var r=this.config.valueFormatter,i=r===void 0?function(a){return a}:r,o;return typeof e[0]=="number"||typeof e[0]=="string"?o=e.map(function(a){return i(a)}):typeof e[0]=="object"&&this.searchStringCreator&&(o=this.searchStringCreator(e)),o},t.prototype.getSuggestionsAndFilteredValues=function(e,r){var i=this,o=[],a=[];if(!e.length)return{suggestions:o,filteredValues:a};var s=this.config,l=s.searchType,u=l===void 0?"fuzzy":l,c=s.filterList;if(u==="fuzzy"){var d=Gw(this.searchString,r,!0);o=d.values;var p=d.indices;if(c&&p.length)for(var h=0;h<p.length;h++)a.push(this.values[p[h]])}else o=r.filter(function(f,v){var g=f.toLocaleLowerCase(),y=i.searchString.toLocaleLowerCase(),m=u==="match"?g.startsWith(y):g.indexOf(y)!==-1;return c&&m&&a.push(i.values[v]),m});return{suggestions:o,filteredValues:a}},t.prototype.filterListModel=function(e){var r=this.config.filterList;r&&(this.setValueList({valueList:e,refresh:!0}),this.alignPickerToComponent())},t.prototype.runSearch=function(){var e,r,i=this.values,o=this.buildSearchStrings(i);if(!o){this.highlightSelectedValue(-1);return}var a=this.getSuggestionsAndFilteredValues(this.searchString,o),s=a.suggestions,l=a.filteredValues,u=this.config,c=u.filterList,d=u.highlightMatch,p=u.searchType,h=p===void 0?"fuzzy":p,f=l.length,v=!!(c&&this.searchString!=="");if(this.filterListModel(v?l:i),s.length){var g=v?0:o.indexOf(s[0]);this.selectListItem(g)}else if(this.highlightSelectedValue(-1),!v||f)(e=this.listComponent)===null||e===void 0||e.ensureIndexVisible(0);else if(v){this.getAriaElement().removeAttribute("data-active-option");var y=(r=this.listComponent)===null||r===void 0?void 0:r.getAriaElement();y&&Ik(y,null)}d&&h!=="fuzzy"&&this.highlightFilterMatch(),this.displayOrHidePicker()},t.prototype.displayOrHidePicker=function(){var e,r=(e=this.listComponent)===null||e===void 0?void 0:e.getGui(),i=this.currentList?this.currentList.length===0:!1;r==null||r.classList.toggle("ag-hidden",i)},t.prototype.clearSearchString=function(){this.searchString=""},t.prototype.selectListItem=function(e,r){if(!(!this.isPickerDisplayed||!this.currentList||!this.listComponent||e<0||e>=this.currentList.length)){var i=this.listComponent.ensureIndexVisible(e,!r);i&&!r&&this.listComponent.refresh(!0),this.highlightSelectedValue(e)}},t.prototype.setValue=function(e,r,i){var o=this.currentList?this.currentList.indexOf(e):-1;return o===-1?this:(this.value=e,i||this.selectListItem(o),this.renderSelectedValue(),n.prototype.setValue.call(this,e,r))},t.prototype.createRowComponent=function(e){var r=new xRe(this.config,this.eWrapper);r.setParentComponent(this.listComponent),this.getContext().createBean(r),r.setState(e);var i=this.config,o=i.highlightMatch,a=i.searchType,s=a===void 0?"fuzzy":a;return o&&s!=="fuzzy"&&r.highlightString(this.searchString),r},t.prototype.getRowForMouseEvent=function(e){var r=this.listComponent;if(!r)return-1;var i=r==null?void 0:r.getGui(),o=i.getBoundingClientRect(),a=r.getScrollTop(),s=e.clientY-o.top+a;return Math.floor(s/r.getRowHeight())},t.prototype.onPickerMouseMove=function(e){if(this.listComponent){var r=this.getRowForMouseEvent(e);r!==-1&&r!=this.lastRowHovered&&(this.lastRowHovered=r,this.selectListItem(r,!0))}},t.prototype.onNavigationKeyDown=function(e,r){e.preventDefault();var i=r===U.DOWN;if(!this.isPickerDisplayed&&i){this.showPicker();return}var o=this.highlightedItem,a=i?1:-1,s=o===-1?0:o+a;this.selectListItem(s)},t.prototype.onEnterKeyDown=function(e){this.isPickerDisplayed&&(e.preventDefault(),this.currentList&&this.onListValueSelected(this.currentList[this.highlightedItem],!0))},t.prototype.onTabKeyDown=function(){!this.isPickerDisplayed||!this.currentList||this.setValue(this.currentList[this.highlightedItem],!1,!0)},t.prototype.onListValueSelected=function(e,r){this.setValue(e,!1,!0),this.dispatchPickerEvent(e,r),this.hidePicker()},t.prototype.dispatchPickerEvent=function(e,r){var i={type:T.EVENT_FIELD_PICKER_VALUE_SELECTED,fromEnterKey:r,value:e};this.dispatchEvent(i)},t.prototype.getFocusableElement=function(){var e=this.config.allowTyping;return e?this.eInput.getFocusableElement():n.prototype.getFocusableElement.call(this)},t.prototype.onKeyDown=function(e){var r=e.key,i=this.config.allowTyping;switch(r){case U.LEFT:case U.RIGHT:case U.PAGE_HOME:case U.PAGE_END:i||e.preventDefault();break;case U.PAGE_UP:case U.PAGE_DOWN:e.preventDefault();break;case U.DOWN:case U.UP:this.onNavigationKeyDown(e,r);break;case U.ESCAPE:this.isPickerDisplayed&&(ca(this.listComponent.getGui())&&(e.preventDefault(),Gs(e)),this.hidePicker());break;case U.ENTER:this.onEnterKeyDown(e);break;case U.TAB:this.onTabKeyDown();break;default:i||this.buildSearchStringFromKeyboardEvent(e)}},t.prototype.destroy=function(){this.listComponent&&(this.destroyBean(this.listComponent),this.listComponent=void 0),this.eLoading=void 0,n.prototype.destroy.call(this)},L$([E("userComponentFactory")],t.prototype,"userComponentFactory",void 0),L$([j("eInput")],t.prototype,"eInput",void 0),t}(mT),RRe=function(){var n=function(t,e){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])},n(t,e)};return function(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");n(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}}(),g_=function(n,t,e,r){var i=arguments.length,o=i<3?t:r===null?r=Object.getOwnPropertyDescriptor(t,e):r,a;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(n,t,e,r);else for(var s=n.length-1;s>=0;s--)(a=n[s])&&(o=(i<3?a(o):i>3?a(t,e,o):a(t,e))||o);return i>3&&o&&Object.defineProperty(t,e,o),o},qo=function(n){RRe(t,n);function t(e){var r=n.call(this,e,t.TEMPLATE)||this;return r.labelAlignment="top",r}return t.prototype.init=function(){this.eSlider.addCssClass("ag-slider-field")},t.prototype.onValueChange=function(e){var r=this,i=T.EVENT_FIELD_VALUE_CHANGED;return this.addManagedListener(this.eText,i,function(){var o=parseFloat(r.eText.getValue());r.eSlider.setValue(o.toString(),!0),e(o||0)}),this.addManagedListener(this.eSlider,i,function(){var o=r.eSlider.getValue();r.eText.setValue(o,!0),e(parseFloat(o))}),this},t.prototype.setSliderWidth=function(e){return this.eSlider.setWidth(e),this},t.prototype.setTextFieldWidth=function(e){return this.eText.setWidth(e),this},t.prototype.setMinValue=function(e){return this.eSlider.setMinValue(e),this.eText.setMin(e),this},t.prototype.setMaxValue=function(e){return this.eSlider.setMaxValue(e),this.eText.setMax(e),this},t.prototype.getValue=function(){return this.eText.getValue()},t.prototype.setValue=function(e){return this.getValue()===e?this:(this.eText.setValue(e,!0),this.eSlider.setValue(e,!0),this.dispatchEvent({type:T.EVENT_FIELD_VALUE_CHANGED}),this)},t.prototype.setStep=function(e){return this.eSlider.setStep(e),this.eText.setStep(e),this},t.TEMPLATE=`<div class="ag-slider">
            <label ref="eLabel"></label>
            <div class="ag-wrapper ag-slider-wrapper">
                <ag-input-range ref="eSlider"></ag-input-range>
                <ag-input-number-field ref="eText"></ag-input-number-field>
            </div>
        </div>`,g_([j("eLabel")],t.prototype,"eLabel",void 0),g_([j("eSlider")],t.prototype,"eSlider",void 0),g_([j("eText")],t.prototype,"eText",void 0),g_([z],t.prototype,"init",null),t}(yT),TRe=function(){var n=function(t,e){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])},n(t,e)};return function(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");n(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}}(),Gc=function(n,t,e,r){var i=arguments.length,o=i<3?t:r===null?r=Object.getOwnPropertyDescriptor(t,e):r,a;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(n,t,e,r);else for(var s=n.length-1;s>=0;s--)(a=n[s])&&(o=(i<3?a(o):i>3?a(t,e,o):a(t,e))||o);return i>3&&o&&Object.defineProperty(t,e,o),o},Ha=function(n){TRe(t,n);function t(e){e===void 0&&(e={});var r=n.call(this,t.getTemplate(e))||this;r.suppressEnabledCheckbox=!0,r.suppressOpenCloseIcons=!1;var i=e.title,o=e.enabled,a=e.items,s=e.suppressEnabledCheckbox,l=e.suppressOpenCloseIcons;return r.title=i,r.cssIdentifier=e.cssIdentifier||"default",r.enabled=o??!0,r.items=a||[],r.alignItems=e.alignItems||"center",s!=null&&(r.suppressEnabledCheckbox=s),l!=null&&(r.suppressOpenCloseIcons=l),r}return t.getTemplate=function(e){var r=e.cssIdentifier||"default",i=e.direction||"vertical";return'<div class="ag-group ag-'.concat(r,`-group" role="presentation">
            <div class="ag-group-title-bar ag-`).concat(r,`-group-title-bar ag-unselectable" ref="eTitleBar" role="button">
                <span class="ag-group-title-bar-icon ag-`).concat(r,`-group-title-bar-icon" ref="eGroupOpenedIcon" role="presentation"></span>
                <span class="ag-group-title-bar-icon ag-`).concat(r,`-group-title-bar-icon" ref="eGroupClosedIcon" role="presentation"></span>
                <span ref="eTitle" class="ag-group-title ag-`).concat(r,`-group-title"></span>
            </div>
            <div ref="eToolbar" class="ag-group-toolbar ag-`).concat(r,`-group-toolbar">
                <ag-checkbox ref="cbGroupEnabled"></ag-checkbox>
            </div>
            <div ref="eContainer" class="ag-group-container ag-group-container-`).concat(i," ag-").concat(r,`-group-container"></div>
        </div>`)},t.prototype.postConstruct=function(){if(this.items.length){var e=this.items;this.items=[],this.addItems(e)}var r=this.localeService.getLocaleTextFunc();this.cbGroupEnabled.setLabel(r("enabled","Enabled")),this.title&&this.setTitle(this.title),this.enabled&&this.setEnabled(this.enabled),this.setAlignItems(this.alignItems),this.hideEnabledCheckbox(this.suppressEnabledCheckbox),this.hideOpenCloseIcons(this.suppressOpenCloseIcons),this.setupExpandContract(),this.refreshAriaStatus(),this.refreshChildDisplay()},t.prototype.setupExpandContract=function(){var e=this;this.eGroupClosedIcon.appendChild(Ta("columnSelectClosed",this.gridOptionsService,null)),this.eGroupOpenedIcon.appendChild(Ta("columnSelectOpen",this.gridOptionsService,null)),this.addManagedListener(this.eTitleBar,"click",function(){return e.toggleGroupExpand()}),this.addManagedListener(this.eTitleBar,"keydown",function(r){switch(r.key){case U.ENTER:case U.SPACE:r.preventDefault(),e.toggleGroupExpand();break;case U.RIGHT:case U.LEFT:r.preventDefault(),e.toggleGroupExpand(r.key===U.RIGHT);break}})},t.prototype.refreshAriaStatus=function(){this.suppressOpenCloseIcons||oc(this.eTitleBar,this.expanded)},t.prototype.refreshChildDisplay=function(){var e=!this.suppressOpenCloseIcons;Ct(this.eToolbar,this.expanded&&!this.suppressEnabledCheckbox),Ct(this.eGroupOpenedIcon,e&&this.expanded),Ct(this.eGroupClosedIcon,e&&!this.expanded)},t.prototype.isExpanded=function(){return this.expanded},t.prototype.setAlignItems=function(e){this.alignItems!==e&&this.removeCssClass("ag-group-item-alignment-".concat(this.alignItems)),this.alignItems=e;var r="ag-group-item-alignment-".concat(this.alignItems);return this.addCssClass(r),this},t.prototype.toggleGroupExpand=function(e){return this.suppressOpenCloseIcons?(this.expanded=!0,this.refreshChildDisplay(),Ct(this.eContainer,!0),this):(e=e??!this.expanded,this.expanded===e?this:(this.expanded=e,this.refreshAriaStatus(),this.refreshChildDisplay(),Ct(this.eContainer,e),this.dispatchEvent({type:this.expanded?t.EVENT_EXPANDED:t.EVENT_COLLAPSED}),this))},t.prototype.addItems=function(e){var r=this;e.forEach(function(i){return r.addItem(i)})},t.prototype.prependItem=function(e){this.insertItem(e,this.eContainer.firstChild)},t.prototype.addItem=function(e){this.insertItem(e,null)},t.prototype.insertItem=function(e,r){var i=this.eContainer,o=e instanceof ae?e.getGui():e;o.classList.add("ag-group-item","ag-".concat(this.cssIdentifier,"-group-item")),i.insertBefore(o,r),this.items.push(o)},t.prototype.hideItem=function(e,r){var i=this.items[r];Ct(i,!e)},t.prototype.setTitle=function(e){return this.eTitle.innerText=e,this},t.prototype.addCssClassToTitleBar=function(e){this.eTitleBar.classList.add(e)},t.prototype.setEnabled=function(e,r){return this.enabled=e,this.refreshDisabledStyles(),this.toggleGroupExpand(e),r||this.cbGroupEnabled.setValue(e),this},t.prototype.isEnabled=function(){return this.enabled},t.prototype.onEnableChange=function(e){var r=this;return this.cbGroupEnabled.onValueChange(function(i){r.setEnabled(i,!0),e(i)}),this},t.prototype.hideEnabledCheckbox=function(e){return this.suppressEnabledCheckbox=e,this.refreshChildDisplay(),this.refreshDisabledStyles(),this},t.prototype.hideOpenCloseIcons=function(e){return this.suppressOpenCloseIcons=e,e&&this.toggleGroupExpand(!0),this},t.prototype.refreshDisabledStyles=function(){this.addOrRemoveCssClass("ag-disabled",!this.enabled),this.suppressEnabledCheckbox&&!this.enabled?(this.eTitleBar.classList.add("ag-disabled-group-title-bar"),this.eTitleBar.removeAttribute("tabindex")):(this.eTitleBar.classList.remove("ag-disabled-group-title-bar"),this.eTitleBar.setAttribute("tabindex","0")),this.eContainer.classList.toggle("ag-disabled-group-container",!this.enabled)},t.EVENT_EXPANDED="expanded",t.EVENT_COLLAPSED="collapsed",Gc([j("eTitleBar")],t.prototype,"eTitleBar",void 0),Gc([j("eGroupOpenedIcon")],t.prototype,"eGroupOpenedIcon",void 0),Gc([j("eGroupClosedIcon")],t.prototype,"eGroupClosedIcon",void 0),Gc([j("eToolbar")],t.prototype,"eToolbar",void 0),Gc([j("cbGroupEnabled")],t.prototype,"cbGroupEnabled",void 0),Gc([j("eTitle")],t.prototype,"eTitle",void 0),Gc([j("eContainer")],t.prototype,"eContainer",void 0),Gc([z],t.prototype,"postConstruct",null),t}(ae),PRe=function(){var n=function(t,e){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])},n(t,e)};return function(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");n(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}}(),F$=function(n,t,e,r){var i=arguments.length,o=i<3?t:r===null?r=Object.getOwnPropertyDescriptor(t,e):r,a;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(n,t,e,r);else for(var s=n.length-1;s>=0;s--)(a=n[s])&&(o=(i<3?a(o):i>3?a(t,e,o):a(t,e))||o);return i>3&&o&&Object.defineProperty(t,e,o),o},Ww=function(n){PRe(t,n);function t(e,r){e===void 0&&(e=0);var i=n.call(this,'<div class="ag-menu-list" role="tree"></div>')||this;return i.level=e,i.menuItems=[],i.params=r??{column:null,node:null,value:null},i}return t.prototype.postConstruct=function(){var e=this;this.initialiseTabGuard({onTabKeyDown:function(r){return e.onTabKeyDown(r)},handleKeyDown:function(r){return e.handleKeyDown(r)},onFocusIn:function(r){return e.handleFocusIn(r)},onFocusOut:function(r){return e.handleFocusOut(r)}})},t.prototype.onTabKeyDown=function(e){var r=this.getParentComponent(),i=r&&r.getGui(),o=i&&i.classList.contains("ag-focus-managed");o||e.preventDefault(),e.shiftKey&&this.closeIfIsChild(e)},t.prototype.handleKeyDown=function(e){switch(e.key){case U.UP:case U.RIGHT:case U.DOWN:case U.LEFT:e.preventDefault(),this.handleNavKey(e.key);break;case U.ESCAPE:this.closeIfIsChild()&&Gs(e);break}},t.prototype.handleFocusIn=function(e){var r,i,o=e.relatedTarget;!this.tabGuardCtrl.isTabGuard(o)&&(this.getGui().contains(o)||!((i=(r=this.activeMenuItem)===null||r===void 0?void 0:r.getSubMenuGui())===null||i===void 0)&&i.contains(o))||(this.activeMenuItem?this.activeMenuItem.activate():this.activateFirstItem())},t.prototype.handleFocusOut=function(e){var r,i=e.relatedTarget;!this.activeMenuItem||this.getGui().contains(i)||!((r=this.activeMenuItem.getSubMenuGui())===null||r===void 0)&&r.contains(i)||this.activeMenuItem.isSubMenuOpening()||this.activeMenuItem.deactivate()},t.prototype.clearActiveItem=function(){this.activeMenuItem&&(this.activeMenuItem.deactivate(),this.activeMenuItem=null)},t.prototype.addMenuItems=function(e){var r=this;e!=null&&tt.all(e.map(function(i){return i==="separator"?tt.resolve({eGui:r.createSeparator()}):typeof i=="string"?(console.warn("AG Grid: unrecognised menu item ".concat(i)),tt.resolve({eGui:null})):r.addItem(i)})).then(function(i){i.forEach(function(o){o!=null&&o.eGui&&(r.appendChild(o.eGui),o.comp&&r.menuItems.push(o.comp))})})},t.prototype.addItem=function(e){var r=this,i=this.createManagedBean(new ja);return i.init({menuItemDef:e,isAnotherSubMenuOpen:function(){return r.menuItems.some(function(o){return o.isSubMenuOpen()})},level:this.level,contextParams:this.params}).then(function(){return i.setParentComponent(r),r.addManagedListener(i,ja.EVENT_CLOSE_MENU,function(o){r.dispatchEvent(o)}),r.addManagedListener(i,ja.EVENT_MENU_ITEM_ACTIVATED,function(o){r.activeMenuItem&&r.activeMenuItem!==o.menuItem&&r.activeMenuItem.deactivate(),r.activeMenuItem=o.menuItem}),{comp:i,eGui:i.getGui()}})},t.prototype.activateFirstItem=function(){var e=this.menuItems.filter(function(r){return!r.isDisabled()})[0];e&&e.activate()},t.prototype.createSeparator=function(){var e=`
            <div class="ag-menu-separator" aria-hidden="true">
                <div class="ag-menu-separator-part"></div>
                <div class="ag-menu-separator-part"></div>
                <div class="ag-menu-separator-part"></div>
                <div class="ag-menu-separator-part"></div>
            </div>`;return fo(e)},t.prototype.handleNavKey=function(e){switch(e){case U.UP:case U.DOWN:var r=this.findNextItem(e===U.UP);r&&r!==this.activeMenuItem&&r.activate();return}var i=this.gridOptionsService.get("enableRtl")?U.RIGHT:U.LEFT;e===i?this.closeIfIsChild():this.openChild()},t.prototype.closeIfIsChild=function(e){var r=this.getParentComponent();return r&&r instanceof ja?(e&&e.preventDefault(),r.closeSubMenu(),r.getGui().focus(),!0):!1},t.prototype.openChild=function(){this.activeMenuItem&&this.activeMenuItem.openSubMenu(!0)},t.prototype.findNextItem=function(e){var r=this.menuItems.filter(function(l){return!l.isDisabled()});if(r.length){if(!this.activeMenuItem)return e?xt(r):r[0];e&&r.reverse();for(var i,o=!1,a=0;a<r.length;a++){var s=r[a];if(!o){s===this.activeMenuItem&&(o=!0);continue}i=s;break}return o&&!i?r[0]:i||this.activeMenuItem}},t.prototype.destroy=function(){this.clearActiveItem(),n.prototype.destroy.call(this)},F$([E("focusService")],t.prototype,"focusService",void 0),F$([z],t.prototype,"postConstruct",null),t}(Cc),ARe=function(){var n=function(t,e){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])},n(t,e)};return function(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");n(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}}(),DRe=function(n,t,e,r){var i=arguments.length,o=i<3?t:r===null?r=Object.getOwnPropertyDescriptor(t,e):r,a;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(n,t,e,r);else for(var s=n.length-1;s>=0;s--)(a=n[s])&&(o=(i<3?a(o):i>3?a(t,e,o):a(t,e))||o);return i>3&&o&&Object.defineProperty(t,e,o),o},NX=function(n){ARe(t,n);function t(e){var r=n.call(this)||this;return r.wrappedComponent=e,r.setTemplateFromElement(e.getGui()),r}return t.prototype.postConstruct=function(){var e=this;this.initialiseTabGuard({onTabKeyDown:function(r){return e.onTabKeyDown(r)},handleKeyDown:function(r){return e.handleKeyDown(r)}})},t.prototype.handleKeyDown=function(e){e.key===U.ESCAPE&&this.closePanel()},t.prototype.onTabKeyDown=function(e){e.defaultPrevented||(this.closePanel(),e.preventDefault())},t.prototype.closePanel=function(){var e=this.parentComponent;e.closeSubMenu(),setTimeout(function(){return e.getGui().focus()},0)},DRe([z],t.prototype,"postConstruct",null),t}(Cc),MRe=function(){var n=function(t,e){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])},n(t,e)};return function(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");n(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}}(),AC=function(){return AC=Object.assign||function(n){for(var t,e=1,r=arguments.length;e<r;e++){t=arguments[e];for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(n[i]=t[i])}return n},AC.apply(this,arguments)},ZA=function(n,t,e,r){var i=arguments.length,o=i<3?t:r===null?r=Object.getOwnPropertyDescriptor(t,e):r,a;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(n,t,e,r);else for(var s=n.length-1;s>=0;s--)(a=n[s])&&(o=(i<3?a(o):i>3?a(t,e,o):a(t,e))||o);return i>3&&o&&Object.defineProperty(t,e,o),o},ja=function(n){MRe(t,n);function t(){var e=n!==null&&n.apply(this,arguments)||this;return e.isActive=!1,e.subMenuIsOpen=!1,e.subMenuIsOpening=!1,e.suppressRootStyles=!0,e.suppressAria=!0,e.suppressFocus=!0,e}return t.prototype.init=function(e){var r=this,i,o,a=e.menuItemDef,s=e.isAnotherSubMenuOpen,l=e.level,u=e.childComponent,c=e.contextParams;this.params=e.menuItemDef,this.level=l,this.isAnotherSubMenuOpen=s,this.childComponent=u,this.contextParams=c,this.cssClassPrefix=(o=(i=this.params.menuItemParams)===null||i===void 0?void 0:i.cssClassPrefix)!==null&&o!==void 0?o:"ag-menu-option";var d=this.userComponentFactory.getMenuItemCompDetails(this.params,AC(AC({},a),{level:l,isAnotherSubMenuOpen:s,openSubMenu:function(p){return r.openSubMenu(p)},closeSubMenu:function(){return r.closeSubMenu()},closeMenu:function(p){return r.closeMenu(p)},updateTooltip:function(p){return r.updateTooltip(p)},onItemActivated:function(){return r.onItemActivated()}}));return d.newAgStackInstance().then(function(p){var h;r.menuItemComp=p;var f=(h=p.configureDefaults)===null||h===void 0?void 0:h.call(p);f&&r.configureDefaults(f===!0?void 0:f)})},t.prototype.addListeners=function(e,r){var i=this;r!=null&&r.suppressClick||this.addManagedListener(e,"click",function(o){return i.onItemSelected(o)}),r!=null&&r.suppressKeyboardSelect||this.addManagedListener(e,"keydown",function(o){(o.key===U.ENTER||o.key===U.SPACE)&&(o.preventDefault(),i.onItemSelected(o))}),r!=null&&r.suppressMouseDown||this.addManagedListener(e,"mousedown",function(o){o.stopPropagation(),o.preventDefault()}),r!=null&&r.suppressMouseOver||(this.addManagedListener(e,"mouseenter",function(){return i.onMouseEnter()}),this.addManagedListener(e,"mouseleave",function(){return i.onMouseLeave()}))},t.prototype.isDisabled=function(){return!!this.params.disabled},t.prototype.openSubMenu=function(e){var r=this,i,o;if(e===void 0&&(e=!1),this.closeSubMenu(),!!this.params.subMenu){this.subMenuIsOpening=!0;var a=fo('<div class="ag-menu" role="presentation"></div>');this.eSubMenuGui=a;var s,l=function(){r.subMenuIsOpening=!1};if(this.childComponent){var u=this.createBean(new NX(this.childComponent));u.setParentComponent(this);var c=u.getGui(),d="mouseenter",p=function(){return r.cancelDeactivate()};c.addEventListener(d,p),s=function(){return c.removeEventListener(d,p)},a.appendChild(c),this.childComponent.afterGuiAttached&&(l=function(){r.childComponent.afterGuiAttached(),r.subMenuIsOpening=!1})}else if(this.params.subMenu){var h=this.createBean(new Ww(this.level+1,this.contextParams));h.setParentComponent(this),h.addMenuItems(this.params.subMenu),a.appendChild(h.getGui()),this.addManagedListener(h,t.EVENT_CLOSE_MENU,function(y){return r.dispatchEvent(y)}),h.addGuiEventListener("mouseenter",function(){return r.cancelDeactivate()}),s=function(){return r.destroyBean(h)},e&&(l=function(){h.activateFirstItem(),r.subMenuIsOpening=!1})}var f=this.popupService.positionPopupForMenu.bind(this.popupService,{eventSource:this.eGui,ePopup:a}),v=this.localeService.getLocaleTextFunc(),g=this.popupService.addPopup({modal:!0,eChild:a,positionCallback:f,anchorToElement:this.eGui,ariaLabel:v("ariaLabelSubMenu","SubMenu"),afterGuiAttached:l});this.subMenuIsOpen=!0,this.setAriaExpanded(!0),this.hideSubMenu=function(){var y,m;g&&g.hideFunc(),r.subMenuIsOpen=!1,r.setAriaExpanded(!1),s(),(m=(y=r.menuItemComp).setExpanded)===null||m===void 0||m.call(y,!1),r.eSubMenuGui=void 0},(o=(i=this.menuItemComp).setExpanded)===null||o===void 0||o.call(i,!0)}},t.prototype.setAriaExpanded=function(e){this.suppressAria||oc(this.eGui,e)},t.prototype.closeSubMenu=function(){this.hideSubMenu&&(this.hideSubMenu(),this.hideSubMenu=null,this.setAriaExpanded(!1))},t.prototype.isSubMenuOpen=function(){return this.subMenuIsOpen},t.prototype.isSubMenuOpening=function(){return this.subMenuIsOpening},t.prototype.activate=function(e){var r=this,i,o;this.cancelActivate(),!this.params.disabled&&(this.isActive=!0,this.suppressRootStyles||this.eGui.classList.add("".concat(this.cssClassPrefix,"-active")),(o=(i=this.menuItemComp).setActive)===null||o===void 0||o.call(i,!0),this.suppressFocus||this.eGui.focus({preventScroll:!0}),e&&this.params.subMenu&&window.setTimeout(function(){r.isAlive()&&r.isActive&&r.openSubMenu()},300),this.onItemActivated())},t.prototype.deactivate=function(){var e,r;this.cancelDeactivate(),this.suppressRootStyles||this.eGui.classList.remove("".concat(this.cssClassPrefix,"-active")),(r=(e=this.menuItemComp).setActive)===null||r===void 0||r.call(e,!1),this.isActive=!1,this.subMenuIsOpen&&this.hideSubMenu()},t.prototype.getGui=function(){return this.menuItemComp.getGui()},t.prototype.getParentComponent=function(){return this.parentComponent},t.prototype.setParentComponent=function(e){this.parentComponent=e},t.prototype.getSubMenuGui=function(){return this.eSubMenuGui},t.prototype.onItemSelected=function(e){var r=this,i,o;(o=(i=this.menuItemComp).select)===null||o===void 0||o.call(i),this.params.action?this.getFrameworkOverrides().wrapOutgoing(function(){return r.params.action(r.gridOptionsService.addGridCommonParams(AC({},r.contextParams)))}):this.openSubMenu(e&&e.type==="keydown"),!(this.params.subMenu&&!this.params.action||this.params.suppressCloseOnSelect)&&this.closeMenu(e)},t.prototype.closeMenu=function(e){var r={type:t.EVENT_CLOSE_MENU,event:e};this.dispatchEvent(r)},t.prototype.onItemActivated=function(){var e={type:t.EVENT_MENU_ITEM_ACTIVATED,menuItem:this};this.dispatchEvent(e)},t.prototype.cancelActivate=function(){this.activateTimeoutId&&(window.clearTimeout(this.activateTimeoutId),this.activateTimeoutId=0)},t.prototype.cancelDeactivate=function(){this.deactivateTimeoutId&&(window.clearTimeout(this.deactivateTimeoutId),this.deactivateTimeoutId=0)},t.prototype.onMouseEnter=function(){var e=this;this.cancelDeactivate(),this.isAnotherSubMenuOpen()?this.activateTimeoutId=window.setTimeout(function(){return e.activate(!0)},t.ACTIVATION_DELAY):this.activate(!0)},t.prototype.onMouseLeave=function(){var e=this;this.cancelActivate(),this.isSubMenuOpen()?this.deactivateTimeoutId=window.setTimeout(function(){return e.deactivate()},t.ACTIVATION_DELAY):this.deactivate()},t.prototype.configureDefaults=function(e){var r=this,i,o,a;if(this.tooltip=this.params.tooltip,!this.menuItemComp){setTimeout(function(){return r.configureDefaults(e)});return}var s=this.menuItemComp.getGui(),l=(o=(i=this.menuItemComp).getRootElement)===null||o===void 0?void 0:o.call(i);l&&(e!=null&&e.suppressRootStyles||s.classList.add("ag-menu-option-custom"),s=l),this.eGui=s,this.suppressRootStyles=!!(e!=null&&e.suppressRootStyles),this.suppressRootStyles||(s.classList.add(this.cssClassPrefix),(a=this.params.cssClasses)===null||a===void 0||a.forEach(function(u){return s.classList.add(u)}),this.params.disabled&&s.classList.add("".concat(this.cssClassPrefix,"-disabled"))),e!=null&&e.suppressTooltip||this.setTooltip(),this.suppressAria=!!(e!=null&&e.suppressAria),this.suppressAria||(hn(s,"treeitem"),U7(s,this.level+1),this.params.disabled&&Fk(s,!0)),e!=null&&e.suppressTabIndex||s.setAttribute("tabindex","-1"),this.params.disabled||this.addListeners(s,e),this.suppressFocus=!!(e!=null&&e.suppressFocus)},t.prototype.updateTooltip=function(e){this.tooltip=e,!this.tooltipFeature&&this.menuItemComp&&this.setTooltip()},t.prototype.setTooltip=function(){var e=this;this.tooltip&&(this.tooltipFeature=this.createManagedBean(new ka({getGui:function(){return e.getGui()},getTooltipValue:function(){return e.tooltip},getLocation:function(){return"menu"}},this.beans)),this.tooltipFeature.setComp(this.getGui()))},t.EVENT_CLOSE_MENU="closeMenu",t.EVENT_MENU_ITEM_ACTIVATED="menuItemActivated",t.ACTIVATION_DELAY=80,ZA([E("popupService")],t.prototype,"popupService",void 0),ZA([E("userComponentFactory")],t.prototype,"userComponentFactory",void 0),ZA([E("beans")],t.prototype,"beans",void 0),t}(X),LRe=function(){var n=function(t,e){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])},n(t,e)};return function(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");n(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}}(),qy=function(n,t,e,r){var i=arguments.length,o=i<3?t:r===null?r=Object.getOwnPropertyDescriptor(t,e):r,a;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(n,t,e,r);else for(var s=n.length-1;s>=0;s--)(a=n[s])&&(o=(i<3?a(o):i>3?a(t,e,o):a(t,e))||o);return i>3&&o&&Object.defineProperty(t,e,o),o},bG=function(n){LRe(t,n);function t(e){var r=n.call(this,t.getTemplate(e))||this;return r.config=e,r.closable=!0,r}return t.getTemplate=function(e){var r=e.cssIdentifier||"default";return'<div class="ag-panel ag-'.concat(r,`-panel" tabindex="-1">
            <div ref="eTitleBar" class="ag-panel-title-bar ag-`).concat(r,`-panel-title-bar ag-unselectable">
                <span ref="eTitle" class="ag-panel-title-bar-title ag-`).concat(r,`-panel-title-bar-title"></span>
                <div ref="eTitleBarButtons" class="ag-panel-title-bar-buttons ag-`).concat(r,`-panel-title-bar-buttons"></div>
            </div>
            <div ref="eContentWrapper" class="ag-panel-content-wrapper ag-`).concat(r,`-panel-content-wrapper"></div>
        </div>`)},t.prototype.postConstruct=function(){var e=this,r=this.config,i=r.component,o=r.closable,a=r.hideTitleBar,s=r.title,l=r.minWidth,u=l===void 0?250:l,c=r.width,d=r.minHeight,p=d===void 0?250:d,h=r.height,f=r.centered,v=r.popup,g=r.x,y=r.y;this.positionableFeature=new Vw(this.getGui(),{minWidth:u,width:c,minHeight:p,height:h,centered:f,x:g,y,popup:v,calculateTopBuffer:function(){return e.positionableFeature.getHeight()-e.getBodyHeight()}}),this.createManagedBean(this.positionableFeature);var m=this.getGui();i&&this.setBodyComponent(i),a?Ct(this.eTitleBar,!1):(s&&this.setTitle(s),this.setClosable(o??this.closable)),this.addManagedListener(this.eTitleBar,"mousedown",function(C){var S=e.gridOptionsService.getDocument();if(m.contains(C.relatedTarget)||m.contains(S.activeElement)||e.eTitleBarButtons.contains(C.target)){C.preventDefault();return}var w=e.eContentWrapper.querySelector("button, [href], input, select, textarea, [tabindex]");w&&w.focus()}),!(v&&this.positionableFeature.isPositioned())&&(this.renderComponent&&this.renderComponent(),this.positionableFeature.initialisePosition(),this.eContentWrapper.style.height="0")},t.prototype.renderComponent=function(){var e=this,r=this.getGui();r.focus(),this.close=function(){r.parentElement.removeChild(r),e.destroy()}},t.prototype.getHeight=function(){return this.positionableFeature.getHeight()},t.prototype.setHeight=function(e){this.positionableFeature.setHeight(e)},t.prototype.getWidth=function(){return this.positionableFeature.getWidth()},t.prototype.setWidth=function(e){this.positionableFeature.setWidth(e)},t.prototype.setClosable=function(e){if(e!==this.closable&&(this.closable=e),e){var r=this.closeButtonComp=new ae(t.CLOSE_BTN_TEMPLATE);this.getContext().createBean(r);var i=r.getGui(),o=Qr("close",this.gridOptionsService);o.classList.add("ag-panel-title-bar-button-icon"),i.appendChild(o),this.addTitleBarButton(r),r.addManagedListener(i,"click",this.onBtClose.bind(this))}else if(this.closeButtonComp){var i=this.closeButtonComp.getGui();i.parentElement.removeChild(i),this.closeButtonComp=this.destroyBean(this.closeButtonComp)}},t.prototype.setBodyComponent=function(e){e.setParentComponent(this),this.eContentWrapper.appendChild(e.getGui())},t.prototype.addTitleBarButton=function(e,r){var i=this.eTitleBarButtons,o=i.children,a=o.length;r==null&&(r=a),r=Math.max(0,Math.min(r,a)),e.addCssClass("ag-panel-title-bar-button");var s=e.getGui();r===0?i.insertAdjacentElement("afterbegin",s):r===a?i.insertAdjacentElement("beforeend",s):o[r-1].insertAdjacentElement("afterend",s),e.setParentComponent(this)},t.prototype.getBodyHeight=function(){return Nw(this.eContentWrapper)},t.prototype.getBodyWidth=function(){return gf(this.eContentWrapper)},t.prototype.setTitle=function(e){this.eTitle.innerText=e},t.prototype.onBtClose=function(){this.close()},t.prototype.destroy=function(){this.closeButtonComp&&(this.closeButtonComp=this.destroyBean(this.closeButtonComp));var e=this.getGui();e&&ca(e)&&this.close(),n.prototype.destroy.call(this)},t.CLOSE_BTN_TEMPLATE='<div class="ag-button"></div>',qy([j("eContentWrapper")],t.prototype,"eContentWrapper",void 0),qy([j("eTitleBar")],t.prototype,"eTitleBar",void 0),qy([j("eTitleBarButtons")],t.prototype,"eTitleBarButtons",void 0),qy([j("eTitle")],t.prototype,"eTitle",void 0),qy([z],t.prototype,"postConstruct",null),t}(ae),FRe=function(){var n=function(t,e){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])},n(t,e)};return function(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");n(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}}(),jb=function(){return jb=Object.assign||function(n){for(var t,e=1,r=arguments.length;e<r;e++){t=arguments[e];for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(n[i]=t[i])}return n},jb.apply(this,arguments)},IRe=function(n,t,e,r){var i=arguments.length,o=i<3?t:r===null?r=Object.getOwnPropertyDescriptor(t,e):r,a;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(n,t,e,r);else for(var s=n.length-1;s>=0;s--)(a=n[s])&&(o=(i<3?a(o):i>3?a(t,e,o):a(t,e))||o);return i>3&&o&&Object.defineProperty(t,e,o),o},rf=function(n){FRe(t,n);function t(e){var r=n.call(this,jb(jb({},e),{popup:!0}))||this;return r.isMaximizable=!1,r.isMaximized=!1,r.maximizeListeners=[],r.resizeListenerDestroy=null,r.lastPosition={x:0,y:0,width:0,height:0},r}return t.prototype.postConstruct=function(){var e=this,r=this.getGui(),i=this.config,o=i.movable,a=i.resizable,s=i.maximizable;this.addCssClass("ag-dialog"),n.prototype.postConstruct.call(this),this.addManagedListener(r,"focusin",function(l){r.contains(l.relatedTarget)||e.popupService.bringPopupToFront(r)}),o&&this.setMovable(o),s&&this.setMaximizable(s),a&&this.setResizable(a)},t.prototype.renderComponent=function(){var e=this.getGui(),r=this.config,i=r.alwaysOnTop,o=r.modal,a=r.title,s=r.afterGuiAttached,l=this.localeService.getLocaleTextFunc(),u=this.popupService.addPopup({modal:o,eChild:e,closeOnEsc:!0,closedCallback:this.onClosed.bind(this),alwaysOnTop:i,ariaLabel:a||l("ariaLabelDialog","Dialog"),afterGuiAttached:s});u&&(this.close=u.hideFunc)},t.prototype.onClosed=function(e){var r,i;this.destroy(),(i=(r=this.config).closedCallback)===null||i===void 0||i.call(r,e)},t.prototype.toggleMaximize=function(){var e=this.positionableFeature.getPosition();if(this.isMaximized){var r=this.lastPosition,i=r.x,o=r.y,a=r.width,s=r.height;this.setWidth(a),this.setHeight(s),this.positionableFeature.offsetElement(i,o)}else this.lastPosition.width=this.getWidth(),this.lastPosition.height=this.getHeight(),this.lastPosition.x=e.x,this.lastPosition.y=e.y,this.positionableFeature.offsetElement(0,0),this.setHeight("100%"),this.setWidth("100%");this.isMaximized=!this.isMaximized,this.refreshMaximizeIcon()},t.prototype.refreshMaximizeIcon=function(){Ct(this.maximizeIcon,!this.isMaximized),Ct(this.minimizeIcon,this.isMaximized)},t.prototype.clearMaximizebleListeners=function(){this.maximizeListeners.length&&(this.maximizeListeners.forEach(function(e){return e()}),this.maximizeListeners.length=0),this.resizeListenerDestroy&&(this.resizeListenerDestroy(),this.resizeListenerDestroy=null)},t.prototype.destroy=function(){this.maximizeButtonComp=this.destroyBean(this.maximizeButtonComp),this.clearMaximizebleListeners(),n.prototype.destroy.call(this)},t.prototype.setResizable=function(e){this.positionableFeature.setResizable(e)},t.prototype.setMovable=function(e){this.positionableFeature.setMovable(e,this.eTitleBar)},t.prototype.setMaximizable=function(e){var r=this;if(!e){this.clearMaximizebleListeners(),this.maximizeButtonComp&&(this.destroyBean(this.maximizeButtonComp),this.maximizeButtonComp=this.maximizeIcon=this.minimizeIcon=void 0);return}var i=this.eTitleBar;if(!(!i||e===this.isMaximizable)){var o=this.buildMaximizeAndMinimizeElements();this.refreshMaximizeIcon(),o.addManagedListener(o.getGui(),"click",this.toggleMaximize.bind(this)),this.addTitleBarButton(o,0),this.maximizeListeners.push(this.addManagedListener(i,"dblclick",this.toggleMaximize.bind(this))),this.resizeListenerDestroy=this.addManagedListener(this,"resize",function(){r.isMaximized=!1,r.refreshMaximizeIcon()})}},t.prototype.buildMaximizeAndMinimizeElements=function(){var e=this.maximizeButtonComp=this.createBean(new ae('<div class="ag-dialog-button"></span>')),r=e.getGui();return this.maximizeIcon=Qr("maximize",this.gridOptionsService),r.appendChild(this.maximizeIcon),this.maximizeIcon.classList.add("ag-panel-title-bar-button-icon"),this.minimizeIcon=Qr("minimize",this.gridOptionsService),r.appendChild(this.minimizeIcon),this.minimizeIcon.classList.add("ag-panel-title-bar-button-icon"),e},IRe([E("popupService")],t.prototype,"popupService",void 0),t}(bG),NRe=function(){var n=function(t,e){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])},n(t,e)};return function(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");n(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}}(),$b=function(){return $b=Object.assign||function(n){for(var t,e=1,r=arguments.length;e<r;e++){t=arguments[e];for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(n[i]=t[i])}return n},$b.apply(this,arguments)},Zy=function(n,t,e,r){var i=arguments.length,o=i<3?t:r===null?r=Object.getOwnPropertyDescriptor(t,e):r,a;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(n,t,e,r);else for(var s=n.length-1;s>=0;s--)(a=n[s])&&(o=(i<3?a(o):i>3?a(t,e,o):a(t,e))||o);return i>3&&o&&Object.defineProperty(t,e,o),o},I$=function(n,t){var e=typeof Symbol=="function"&&n[Symbol.iterator];if(!e)return n;var r=e.call(n),i,o=[],a;try{for(;(t===void 0||t-- >0)&&!(i=r.next()).done;)o.push(i.value)}catch(s){a={error:s}}finally{try{i&&!i.done&&(e=r.return)&&e.call(r)}finally{if(a)throw a.error}}return o},N$=function(n,t,e){if(e||arguments.length===2)for(var r=0,i=t.length,o;r<i;r++)(o||!(r in t))&&(o||(o=Array.prototype.slice.call(t,0,r)),o[r]=t[r]);return n.concat(o||Array.prototype.slice.call(t))},k$=function(n){var t=typeof Symbol=="function"&&Symbol.iterator,e=t&&n[t],r=0;if(e)return e.call(n);if(n&&typeof n.length=="number")return{next:function(){return n&&r>=n.length&&(n=void 0),{value:n&&n[r++],done:!n}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")},rd;(function(n){n[n.vertical=0]="vertical",n[n.horizontal=1]="horizontal"})(rd||(rd={}));var kRe=0,kX=function(n){NRe(t,n);function t(){var r=n!==null&&n.apply(this,arguments)||this;return r.popupList=[],r}e=t,t.prototype.postConstruct=function(){var r=this;this.ctrlsService.whenReady(function(i){r.gridCtrl=i.gridCtrl}),this.addManagedListener(this.eventService,T.EVENT_GRID_STYLES_CHANGED,this.handleThemeChange.bind(this))},t.prototype.getPopupParent=function(){var r=this.gridOptionsService.get("popupParent");return r||this.gridCtrl.getGui()},t.prototype.positionPopupForMenu=function(r){var i=r.eventSource,o=r.ePopup,a=this.getPopupIndex(o);if(a!==-1){var s=this.popupList[a];s.alignedToElement=i}var l=i.getBoundingClientRect(),u=this.getParentRect(),c=this.keepXYWithinBounds(o,l.top-u.top,rd.vertical),d=o.clientWidth>0?o.clientWidth:200;o.style.minWidth="".concat(d,"px");var p=u.right-u.left,h=p-d,f;this.gridOptionsService.get("enableRtl")?(f=g(),f<0&&(f=v(),this.setAlignedStyles(o,"left")),f>h&&(f=0,this.setAlignedStyles(o,"right"))):(f=v(),f>h&&(f=g(),this.setAlignedStyles(o,"right")),f<0&&(f=0,this.setAlignedStyles(o,"left"))),o.style.left="".concat(f,"px"),o.style.top="".concat(c,"px");function v(){return l.right-u.left-2}function g(){return l.left-u.left-d}},t.prototype.positionPopupUnderMouseEvent=function(r){var i=this,o=r.ePopup,a=r.nudgeX,s=r.nudgeY,l=r.skipObserver;this.positionPopup({ePopup:o,nudgeX:a,nudgeY:s,keepWithinBounds:!0,skipObserver:l,updatePosition:function(){return i.calculatePointerAlign(r.mouseEvent)},postProcessCallback:function(){return i.callPostProcessPopup(r.type,r.ePopup,null,r.mouseEvent,r.column,r.rowNode)}})},t.prototype.calculatePointerAlign=function(r){var i=this.getParentRect();return{x:r.clientX-i.left,y:r.clientY-i.top}},t.prototype.positionPopupByComponent=function(r){var i=this,o=r.ePopup,a=r.nudgeX,s=r.nudgeY,l=r.keepWithinBounds,u=r.eventSource,c=r.alignSide,d=c===void 0?"left":c,p=r.position,h=p===void 0?"over":p,f=r.column,v=r.rowNode,g=r.type,y=u.getBoundingClientRect(),m=this.getParentRect(),C=this.getPopupIndex(o);if(C!==-1){var S=this.popupList[C];S.alignedToElement=u}var w=function(){var _=y.left-m.left;d==="right"&&(_-=o.offsetWidth-y.width);var x;if(h==="over")x=y.top-m.top,i.setAlignedStyles(o,"over");else{i.setAlignedStyles(o,"under");var b=i.shouldRenderUnderOrAbove(o,y,m,r.nudgeY||0);b==="under"?x=y.top-m.top+y.height:x=y.top-o.offsetHeight-(s||0)*2-m.top}return{x:_,y:x}};this.positionPopup({ePopup:o,nudgeX:a,nudgeY:s,keepWithinBounds:l,updatePosition:w,postProcessCallback:function(){return i.callPostProcessPopup(g,o,u,null,f,v)}})},t.prototype.shouldRenderUnderOrAbove=function(r,i,o,a){var s=o.bottom-i.bottom,l=i.top-o.top,u=r.offsetHeight+a;return s>u?"under":l>u||l>s?"above":"under"},t.prototype.setAlignedStyles=function(r,i){var o=this.getPopupIndex(r);if(o!==-1){var a=this.popupList[o],s=a.alignedToElement;if(s){var l=["right","left","over","above","under"];l.forEach(function(u){s.classList.remove("ag-has-popup-positioned-".concat(u)),r.classList.remove("ag-popup-positioned-".concat(u))}),i&&(s.classList.add("ag-has-popup-positioned-".concat(i)),r.classList.add("ag-popup-positioned-".concat(i)))}}},t.prototype.callPostProcessPopup=function(r,i,o,a,s,l){var u=this.gridOptionsService.getCallback("postProcessPopup");if(u){var c={column:s,rowNode:l,ePopup:i,type:r,eventSource:o,mouseEvent:a};u(c)}},t.prototype.positionPopup=function(r){var i=this,o=r.ePopup,a=r.keepWithinBounds,s=r.nudgeX,l=r.nudgeY,u=r.skipObserver,c=r.updatePosition,d={width:0,height:0},p=function(f){f===void 0&&(f=!1);var v=c(),g=v.x,y=v.y;f&&o.clientWidth===d.width&&o.clientHeight===d.height||(d.width=o.clientWidth,d.height=o.clientHeight,s&&(g+=s),l&&(y+=l),a&&(g=i.keepXYWithinBounds(o,g,rd.horizontal),y=i.keepXYWithinBounds(o,y,rd.vertical)),o.style.left="".concat(g,"px"),o.style.top="".concat(y,"px"),r.postProcessCallback&&r.postProcessCallback())};if(p(),!u){var h=this.resizeObserverService.observeResize(o,function(){return p(!0)});setTimeout(function(){return h()},e.WAIT_FOR_POPUP_CONTENT_RESIZE)}},t.prototype.getActivePopups=function(){return this.popupList.map(function(r){return r.element})},t.prototype.getPopupList=function(){return this.popupList},t.prototype.getParentRect=function(){var r=this.gridOptionsService.getDocument(),i=this.getPopupParent();return i===r.body?i=r.documentElement:getComputedStyle(i).position==="static"&&(i=i.offsetParent),Zk(i)},t.prototype.keepXYWithinBounds=function(r,i,o){var a=o===rd.vertical,s=a?"clientHeight":"clientWidth",l=a?"top":"left",u=a?"offsetHeight":"offsetWidth",c=a?"scrollTop":"scrollLeft",d=this.gridOptionsService.getDocument(),p=d.documentElement,h=this.getPopupParent(),f=h.getBoundingClientRect(),v=d.documentElement.getBoundingClientRect(),g=h===d.body,y=r[u],m=a?qk:NS,C=g?m(p)+p[c]:h[s];g&&(C-=Math.abs(v[l]-f[l]));var S=C-y;return Math.min(Math.max(i,0),Math.abs(S))},t.prototype.addPopup=function(r){var i=this.gridOptionsService.getDocument(),o=r.eChild,a=r.ariaLabel,s=r.alwaysOnTop,l=r.positionCallback,u=r.anchorToElement;if(!i)return console.warn("AG Grid: could not find the document, document is empty"),{hideFunc:function(){}};var c=this.getPopupIndex(o);if(c!==-1){var d=this.popupList[c];return{hideFunc:d.hideFunc}}this.initialisePopupPosition(o);var p=this.createPopupWrapper(o,a,!!s),h=this.addEventListenersToPopup($b($b({},r),{wrapperEl:p}));return l&&l(),this.addPopupToPopupList(o,p,h,u),{hideFunc:h}},t.prototype.initialisePopupPosition=function(r){var i=this.getPopupParent(),o=i.getBoundingClientRect();oe(r.style.top)||(r.style.top="".concat(o.top*-1,"px")),oe(r.style.left)||(r.style.left="".concat(o.left*-1,"px"))},t.prototype.createPopupWrapper=function(r,i,o){var a,s=this.getPopupParent(),l=document.createElement("div"),u=this.environment.getTheme().allThemes;return u.length&&(a=l.classList).add.apply(a,N$([],I$(u),!1)),l.classList.add("ag-popup"),r.classList.add(this.gridOptionsService.get("enableRtl")?"ag-rtl":"ag-ltr","ag-popup-child"),r.hasAttribute("role")||hn(r,"dialog"),lp(r,i),l.appendChild(r),s.appendChild(l),o?this.setAlwaysOnTop(r,!0):this.bringPopupToFront(r),l},t.prototype.handleThemeChange=function(){var r,i,o,a,s,l=this.environment.getTheme().allThemes;try{for(var u=k$(this.popupList),c=u.next();!c.done;c=u.next()){var d=c.value;try{for(var p=(o=void 0,k$(Array.from(d.wrapper.classList))),h=p.next();!h.done;h=p.next()){var f=h.value;f.startsWith("ag-theme-")&&d.wrapper.classList.remove(f)}}catch(v){o={error:v}}finally{try{h&&!h.done&&(a=p.return)&&a.call(p)}finally{if(o)throw o.error}}l.length&&(s=d.wrapper.classList).add.apply(s,N$([],I$(l),!1))}}catch(v){r={error:v}}finally{try{c&&!c.done&&(i=u.return)&&i.call(u)}finally{if(r)throw r.error}}},t.prototype.addEventListenersToPopup=function(r){var i=this,o=this.gridOptionsService.getDocument(),a=this.getPopupParent(),s=r.wrapperEl,l=r.eChild;r.click;var u=r.closedCallback,c=r.afterGuiAttached,d=r.closeOnEsc,p=r.modal,h=!1,f=function(m){if(s.contains(o.activeElement)){var C=m.key;C===U.ESCAPE&&!Fs(m)&&y({keyboardEvent:m})}},v=function(m){return y({mouseEvent:m})},g=function(m){return y({touchEvent:m})},y=function(m){m===void 0&&(m={});var C=m.mouseEvent,S=m.touchEvent,w=m.keyboardEvent;i.isEventFromCurrentPopup({mouseEvent:C,touchEvent:S},l)||h||(h=!0,a.removeChild(s),o.removeEventListener("keydown",f),o.removeEventListener("mousedown",v),o.removeEventListener("touchstart",g),o.removeEventListener("contextmenu",v),i.eventService.removeEventListener(T.EVENT_DRAG_STARTED,v),u&&u(C||S||w),i.removePopupFromPopupList(l))};return c&&c({hidePopup:y}),window.setTimeout(function(){d&&o.addEventListener("keydown",f),p&&(o.addEventListener("mousedown",v),i.eventService.addEventListener(T.EVENT_DRAG_STARTED,v),o.addEventListener("touchstart",g),o.addEventListener("contextmenu",v))},0),y},t.prototype.addPopupToPopupList=function(r,i,o,a){this.popupList.push({element:r,wrapper:i,hideFunc:o,instanceId:kRe++,isAnchored:!!a}),a&&this.setPopupPositionRelatedToElement(r,a)},t.prototype.getPopupIndex=function(r){return this.popupList.findIndex(function(i){return i.element===r})},t.prototype.setPopupPositionRelatedToElement=function(r,i){var o=this.getPopupIndex(r);if(o!==-1){var a=this.popupList[o];if(a.stopAnchoringPromise&&a.stopAnchoringPromise.then(function(l){return l&&l()}),a.stopAnchoringPromise=void 0,a.isAnchored=!1,!!i){var s=this.keepPopupPositionedRelativeTo({element:i,ePopup:r,hidePopup:a.hideFunc});return a.stopAnchoringPromise=s,a.isAnchored=!0,s}}},t.prototype.removePopupFromPopupList=function(r){this.setAlignedStyles(r,null),this.setPopupPositionRelatedToElement(r,null),this.popupList=this.popupList.filter(function(i){return i.element!==r})},t.prototype.keepPopupPositionedRelativeTo=function(r){var i=this,o=this.getPopupParent(),a=o.getBoundingClientRect(),s=r.element,l=r.ePopup,u=s.getBoundingClientRect(),c=a.top-u.top,d=a.left-u.left,p=c,h=d,f=l.style.top,v=parseInt(f.substring(0,f.length-1),10),g=l.style.left,y=parseInt(g.substring(0,g.length-1),10);return new tt(function(m){i.getFrameworkOverrides().setInterval(function(){var C=o.getBoundingClientRect(),S=s.getBoundingClientRect(),w=S.top==0&&S.left==0&&S.height==0&&S.width==0;if(w){r.hidePopup();return}var _=C.top-S.top;if(_!=p){var x=i.keepXYWithinBounds(l,v+c-_,rd.vertical);l.style.top="".concat(x,"px")}p=_;var b=C.left-S.left;if(b!=h){var O=i.keepXYWithinBounds(l,y+d-b,rd.horizontal);l.style.left="".concat(O,"px")}h=b},200).then(function(C){var S=function(){C!=null&&window.clearInterval(C)};m(S)})})},t.prototype.hasAnchoredPopup=function(){return this.popupList.some(function(r){return r.isAnchored})},t.prototype.isEventFromCurrentPopup=function(r,i){var o=r.mouseEvent,a=r.touchEvent,s=o||a;if(!s)return!1;var l=this.getPopupIndex(i);if(l===-1)return!1;for(var u=l;u<this.popupList.length;u++){var c=this.popupList[u];if(Pb(c.element,s))return!0}return this.isElementWithinCustomPopup(s.target)},t.prototype.isElementWithinCustomPopup=function(r){for(var i=this.gridOptionsService.getDocument();r&&r!==i.body;){if(r.classList.contains("ag-custom-component-popup")||r.parentElement===null)return!0;r=r.parentElement}return!1},t.prototype.getWrapper=function(r){for(;!r.classList.contains("ag-popup")&&r.parentElement;)r=r.parentElement;return r.classList.contains("ag-popup")?r:null},t.prototype.setAlwaysOnTop=function(r,i){var o=this.getWrapper(r);o&&(o.classList.toggle("ag-always-on-top",!!i),i&&this.bringPopupToFront(o))},t.prototype.bringPopupToFront=function(r){var i=this.getPopupParent(),o=Array.prototype.slice.call(i.querySelectorAll(".ag-popup")),a=o.length,s=Array.prototype.slice.call(i.querySelectorAll(".ag-popup.ag-always-on-top")),l=s.length,u=this.getWrapper(r);if(!(!u||a<=1||!i.contains(r))){var c=o.indexOf(u),d=u.querySelectorAll("div"),p=[];if(d.forEach(function(g){g.scrollTop!==0&&p.push([g,g.scrollTop])}),l){var h=u.classList.contains("ag-always-on-top");h?c!==a-1&&xt(s).insertAdjacentElement("afterend",u):c!==a-l-1&&s[0].insertAdjacentElement("beforebegin",u)}else c!==a-1&&xt(o).insertAdjacentElement("afterend",u);for(;p.length;){var f=p.pop();f[0].scrollTop=f[1]}var v={type:"popupToFront",eWrapper:u};this.eventService.dispatchEvent(v)}};var e;return t.WAIT_FOR_POPUP_CONTENT_RESIZE=200,Zy([E("focusService")],t.prototype,"focusService",void 0),Zy([E("ctrlsService")],t.prototype,"ctrlsService",void 0),Zy([E("resizeObserverService")],t.prototype,"resizeObserverService",void 0),Zy([z],t.prototype,"postConstruct",null),t=e=Zy([ie("popupService")],t),t}(X),GRe=function(){var n=function(t,e){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])},n(t,e)};return function(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");n(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}}(),VRe=function(n){GRe(t,n);function t(){var e=n.call(this,`
        <div class="ag-autocomplete-row" role="presentation">
            <div class="ag-autocomplete-row-label"></div>
        </div>`)||this;return e.hasHighlighting=!1,e}return t.prototype.setState=function(e,r){this.value=e,this.render(),this.updateSelected(r)},t.prototype.updateSelected=function(e){this.addOrRemoveCssClass("ag-autocomplete-row-selected",e)},t.prototype.setSearchString=function(e){var r,i=!1;if(oe(e)){var o=(r=this.value)===null||r===void 0?void 0:r.toLocaleLowerCase().indexOf(e.toLocaleLowerCase());if(o>=0){i=!0,this.hasHighlighting=!0;var a=o+e.length,s=cn(this.value.slice(0,o)),l=cn(this.value.slice(o,a)),u=cn(this.value.slice(a));this.getGui().lastElementChild.innerHTML="".concat(s,"<b>").concat(l,"</b>").concat(u)}}!i&&this.hasHighlighting&&(this.hasHighlighting=!1,this.render())},t.prototype.render=function(){var e;this.getGui().lastElementChild.innerHTML=(e=cn(this.value))!==null&&e!==void 0?e:"&nbsp;"},t}(ae),BRe=function(){var n=function(t,e){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])},n(t,e)};return function(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");n(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}}(),G$=function(n,t,e,r){var i=arguments.length,o=i<3?t:r===null?r=Object.getOwnPropertyDescriptor(t,e):r,a;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(n,t,e,r);else for(var s=n.length-1;s>=0;s--)(a=n[s])&&(o=(i<3?a(o):i>3?a(t,e,o):a(t,e))||o);return i>3&&o&&Object.defineProperty(t,e,o),o},HRe=function(n){BRe(t,n);function t(e){var r=n.call(this,t.TEMPLATE)||this;return r.params=e,r.searchString="",r}return t.prototype.destroy=function(){n.prototype.destroy.call(this)},t.prototype.init=function(){var e=this;this.autocompleteEntries=this.params.autocompleteEntries,this.virtualList=this.createManagedBean(new yf({cssIdentifier:"autocomplete"})),this.virtualList.setComponentCreator(this.createRowComponent.bind(this)),this.eList.appendChild(this.virtualList.getGui()),this.virtualList.setModel({getRowCount:function(){return e.autocompleteEntries.length},getRow:function(i){return e.autocompleteEntries[i]}});var r=this.virtualList.getGui();this.addManagedListener(r,"click",function(){return e.params.onConfirmed()}),this.addManagedListener(r,"mousemove",this.onMouseMove.bind(this)),this.addManagedListener(r,"mousedown",function(i){return i.preventDefault()}),this.setSelectedValue(0)},t.prototype.onNavigationKeyDown=function(e,r){e.preventDefault();var i=this.autocompleteEntries.indexOf(this.selectedValue),o=r===U.UP?i-1:i+1;this.checkSetSelectedValue(o)},t.prototype.setSearch=function(e){this.searchString=e,oe(e)?this.runSearch():(this.autocompleteEntries=this.params.autocompleteEntries,this.virtualList.refresh(),this.checkSetSelectedValue(0)),this.updateSearchInList()},t.prototype.runContainsSearch=function(e,r){var i,o=!1,a=e.toLocaleLowerCase(),s=r.filter(function(l){var u=l.toLocaleLowerCase(),c=u.indexOf(a),d=c===0,p=c>=0;return p&&(!i||!o&&d||o===d&&l.length<i.length)&&(i=l,o=d),p});return!i&&s.length&&(i=s[0]),{topMatch:i,allMatches:s}},t.prototype.runSearch=function(){var e,r,i=this.params.autocompleteEntries,o=i.map(function(d){var p;return(p=d.displayValue)!==null&&p!==void 0?p:d.key}),a,s;if(this.params.useFuzzySearch)a=Gw(this.searchString,o,!0).values,s=a.length?a[0]:void 0;else{var l=this.runContainsSearch(this.searchString,o);a=l.allMatches,s=l.topMatch}var u=i.filter(function(d){var p=d.key,h=d.displayValue;return a.includes(h??p)});if(!u.length&&this.selectedValue&&(!((r=(e=this.params)===null||e===void 0?void 0:e.forceLastSelection)===null||r===void 0)&&r.call(e,this.selectedValue,this.searchString))&&(u=[this.selectedValue]),this.autocompleteEntries=u,this.virtualList.refresh(),!!s){var c=a.indexOf(s);this.checkSetSelectedValue(c)}},t.prototype.updateSearchInList=function(){var e=this;this.virtualList.forEachRenderedRow(function(r){return r.setSearchString(e.searchString)})},t.prototype.checkSetSelectedValue=function(e){e>=0&&e<this.autocompleteEntries.length&&this.setSelectedValue(e)},t.prototype.setSelectedValue=function(e){var r=this.autocompleteEntries[e];this.selectedValue!==r&&(this.selectedValue=r,this.virtualList.ensureIndexVisible(e),this.virtualList.forEachRenderedRow(function(i,o){i.updateSelected(e===o)}))},t.prototype.createRowComponent=function(e){var r,i=new VRe;return this.getContext().createBean(i),i.setState((r=e.displayValue)!==null&&r!==void 0?r:e.key,e===this.selectedValue),i},t.prototype.onMouseMove=function(e){var r=this.virtualList.getGui().getBoundingClientRect(),i=this.virtualList.getScrollTop(),o=e.clientY-r.top+i,a=Math.floor(o/this.virtualList.getRowHeight());this.checkSetSelectedValue(a)},t.prototype.afterGuiAttached=function(){this.virtualList.refresh()},t.prototype.getSelectedValue=function(){var e;return this.autocompleteEntries.length&&(e=this.selectedValue)!==null&&e!==void 0?e:null},t.TEMPLATE=`<div class="ag-autocomplete-list-popup">
            <div ref="eList" class="ag-autocomplete-list"></div>
        <div>`,G$([j("eList")],t.prototype,"eList",void 0),G$([z],t.prototype,"init",null),t}(mc),jRe=function(){var n=function(t,e){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])},n(t,e)};return function(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");n(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}}(),QA=function(n,t,e,r){var i=arguments.length,o=i<3?t:r===null?r=Object.getOwnPropertyDescriptor(t,e):r,a;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(n,t,e,r);else for(var s=n.length-1;s>=0;s--)(a=n[s])&&(o=(i<3?a(o):i>3?a(t,e,o):a(t,e))||o);return i>3&&o&&Object.defineProperty(t,e,o),o},Pv=function(n){jRe(t,n);function t(){var e=n.call(this,`
            <div class="ag-autocomplete" role="presentation">
                <ag-input-text-field ref="eAutocompleteInput"></ag-input-text-field>
            </div>`)||this;return e.isListOpen=!1,e.lastPosition=0,e.valid=!0,e}return t.prototype.postConstruct=function(){var e=this;this.eAutocompleteInput.onValueChange(function(r){return e.onValueChanged(r)}),this.eAutocompleteInput.getInputElement().setAttribute("autocomplete","off"),this.addGuiEventListener("keydown",this.onKeyDown.bind(this)),this.addGuiEventListener("click",this.updatePositionAndList.bind(this)),this.addDestroyFunc(function(){e.destroyBean(e.autocompleteList)}),this.addGuiEventListener("focusout",function(){return e.onFocusOut()})},t.prototype.onValueChanged=function(e){var r=Kl(e);this.updateValue(r),this.updateAutocompleteList(r)},t.prototype.updateValue=function(e){this.updateLastPosition(),this.dispatchEvent({type:t.EVENT_VALUE_CHANGED,value:e}),this.validate(e)},t.prototype.updateAutocompleteList=function(e){var r,i,o,a,s=(i=(r=this.listGenerator)===null||r===void 0?void 0:r.call(this,e,this.lastPosition))!==null&&i!==void 0?i:{enabled:!1};if((!s.type||s.type!==((o=this.autocompleteListParams)===null||o===void 0?void 0:o.type))&&this.isListOpen&&this.closeList(),this.autocompleteListParams=s,!((a=this.autocompleteListParams)===null||a===void 0)&&a.enabled){this.isListOpen||this.openList();var l=this.autocompleteListParams.searchString;this.autocompleteList.setSearch(l??"")}else this.isListOpen&&this.closeList()},t.prototype.onKeyDown=function(e){var r=this,i=e.key;switch(this.updateLastPosition(),i){case U.ENTER:this.onEnterKeyDown(e);break;case U.TAB:this.onTabKeyDown(e);break;case U.DOWN:case U.UP:this.onUpDownKeyDown(e,i);break;case U.LEFT:case U.RIGHT:case U.PAGE_HOME:case U.PAGE_END:setTimeout(function(){r.updatePositionAndList()});break;case U.ESCAPE:this.onEscapeKeyDown(e);break;case U.SPACE:e.ctrlKey&&!this.isListOpen&&(e.preventDefault(),this.forceOpenList());break}},t.prototype.confirmSelection=function(){var e,r=(e=this.autocompleteList)===null||e===void 0?void 0:e.getSelectedValue();r&&(this.closeList(),this.dispatchEvent({type:t.EVENT_OPTION_SELECTED,value:this.getValue(),position:this.lastPosition,updateEntry:r,autocompleteType:this.autocompleteListParams.type}))},t.prototype.onTabKeyDown=function(e){this.isListOpen&&(e.preventDefault(),e.stopPropagation(),this.confirmSelection())},t.prototype.onEnterKeyDown=function(e){e.preventDefault(),this.isListOpen?this.confirmSelection():this.onCompleted()},t.prototype.onUpDownKeyDown=function(e,r){var i;e.preventDefault(),this.isListOpen?(i=this.autocompleteList)===null||i===void 0||i.onNavigationKeyDown(e,r):this.forceOpenList()},t.prototype.onEscapeKeyDown=function(e){this.isListOpen&&(e.preventDefault(),e.stopPropagation(),this.closeList(),this.setCaret(this.lastPosition,!0))},t.prototype.onFocusOut=function(){this.isListOpen&&this.closeList()},t.prototype.updatePositionAndList=function(){var e;this.updateLastPosition(),this.updateAutocompleteList((e=this.eAutocompleteInput.getValue())!==null&&e!==void 0?e:null)},t.prototype.setCaret=function(e,r){var i=this.gridOptionsService.getDocument();r&&i.activeElement===i.body&&this.eAutocompleteInput.getFocusableElement().focus();var o=this.eAutocompleteInput.getInputElement();o.setSelectionRange(e,e),e===o.value.length&&(o.scrollLeft=o.scrollWidth)},t.prototype.forceOpenList=function(){this.onValueChanged(this.eAutocompleteInput.getValue())},t.prototype.updateLastPosition=function(){var e;this.lastPosition=(e=this.eAutocompleteInput.getInputElement().selectionStart)!==null&&e!==void 0?e:0},t.prototype.validate=function(e){var r;this.validator&&(this.validationMessage=this.validator(e),this.eAutocompleteInput.getInputElement().setCustomValidity((r=this.validationMessage)!==null&&r!==void 0?r:""),this.valid=!this.validationMessage,this.dispatchEvent({type:t.EVENT_VALID_CHANGED,isValid:this.valid,validationMessage:this.validationMessage}))},t.prototype.openList=function(){var e=this;this.isListOpen=!0,this.autocompleteList=this.createBean(new HRe({autocompleteEntries:this.autocompleteListParams.entries,onConfirmed:function(){return e.confirmSelection()},forceLastSelection:this.forceLastSelection}));var r=this.autocompleteList.getGui(),i={ePopup:r,type:"autocomplete",eventSource:this.getGui(),position:"under",alignSide:this.gridOptionsService.get("enableRtl")?"right":"left",keepWithinBounds:!0},o=this.popupService.addPopup({eChild:r,anchorToElement:this.getGui(),positionCallback:function(){return e.popupService.positionPopupByComponent(i)},ariaLabel:this.listAriaLabel});this.hidePopup=o.hideFunc,this.autocompleteList.afterGuiAttached()},t.prototype.closeList=function(){this.isListOpen=!1,this.hidePopup(),this.destroyBean(this.autocompleteList),this.autocompleteList=null},t.prototype.onCompleted=function(){this.isListOpen&&this.closeList(),this.dispatchEvent({type:t.EVENT_VALUE_CONFIRMED,value:this.getValue(),isValid:this.isValid()})},t.prototype.getValue=function(){return Kl(this.eAutocompleteInput.getValue())},t.prototype.setInputPlaceholder=function(e){return this.eAutocompleteInput.setInputPlaceholder(e),this},t.prototype.setInputAriaLabel=function(e){return this.eAutocompleteInput.setInputAriaLabel(e),this},t.prototype.setListAriaLabel=function(e){return this.listAriaLabel=e,this},t.prototype.setListGenerator=function(e){return this.listGenerator=e,this},t.prototype.setValidator=function(e){return this.validator=e,this},t.prototype.isValid=function(){return this.valid},t.prototype.setValue=function(e){var r=e.value,i=e.position,o=e.silent,a=e.updateListOnlyIfOpen,s=e.restoreFocus;this.eAutocompleteInput.setValue(r,!0),this.setCaret(i??this.lastPosition,s),o||this.updateValue(r),(!a||this.isListOpen)&&this.updateAutocompleteList(r)},t.prototype.setForceLastSelection=function(e){return this.forceLastSelection=e,this},t.prototype.setInputDisabled=function(e){return this.eAutocompleteInput.setDisabled(e),this},t.EVENT_VALUE_CHANGED="eventValueChanged",t.EVENT_VALUE_CONFIRMED="eventValueConfirmed",t.EVENT_OPTION_SELECTED="eventOptionSelected",t.EVENT_VALID_CHANGED="eventValidChanged",QA([E("popupService")],t.prototype,"popupService",void 0),QA([j("eAutocompleteInput")],t.prototype,"eAutocompleteInput",void 0),QA([z],t.prototype,"postConstruct",null),t}(ae),$Re=["touchstart","touchend","touchmove","touchcancel"],GX=function(){function n(t){t===void 0&&(t="javascript"),this.frameworkName=t,this.renderingEngine="vanilla",this.wrapIncoming=function(e){return e()},this.wrapOutgoing=function(e){return e()}}return n.prototype.setInterval=function(t,e){return new tt(function(r){r(window.setInterval(t,e))})},n.prototype.addEventListener=function(t,e,r,i){var o=Ls($Re,e);t.addEventListener(e,r,{capture:!!i,passive:o})},Object.defineProperty(n.prototype,"shouldWrapOutgoing",{get:function(){return!1},enumerable:!1,configurable:!0}),n.prototype.frameworkComponent=function(t){return null},n.prototype.isFrameworkComponent=function(t){return!1},n.prototype.getDocLink=function(t){var e=this.frameworkName==="solid"?"react":this.frameworkName;return"https://www.ag-grid.com/".concat(e,"-data-grid").concat(t?"/".concat(t):"")},n}(),WRe=function(){var n=function(t,e){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])},n(t,e)};return function(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");n(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}}(),$f=function(n,t,e,r){var i=arguments.length,o=i<3?t:r===null?r=Object.getOwnPropertyDescriptor(t,e):r,a;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(n,t,e,r);else for(var s=n.length-1;s>=0;s--)(a=n[s])&&(o=(i<3?a(o):i>3?a(t,e,o):a(t,e))||o);return i>3&&o&&Object.defineProperty(t,e,o),o},URe=function(n,t){var e=typeof Symbol=="function"&&n[Symbol.iterator];if(!e)return n;var r=e.call(n),i,o=[],a;try{for(;(t===void 0||t-- >0)&&!(i=r.next()).done;)o.push(i.value)}catch(s){a={error:s}}finally{try{i&&!i.done&&(e=r.return)&&e.call(r)}finally{if(a)throw a.error}}return o},zRe=function(n,t,e){if(e||arguments.length===2)for(var r=0,i=t.length,o;r<i;r++)(o||!(r in t))&&(o||(o=Array.prototype.slice.call(t,0,r)),o[r]=t[r]);return n.concat(o||Array.prototype.slice.call(t))},VX=function(n){WRe(t,n);function t(){return n!==null&&n.apply(this,arguments)||this}return t.prototype.getNextCellToFocus=function(e,r,i){return i===void 0&&(i=!1),i?this.getNextCellToFocusWithCtrlPressed(e,r):this.getNextCellToFocusWithoutCtrlPressed(e,r)},t.prototype.getNextCellToFocusWithCtrlPressed=function(e,r){var i=e===U.UP,o=e===U.DOWN,a=e===U.LEFT,s,l;if(i||o)l=i?this.paginationProxy.getPageFirstRow():this.paginationProxy.getPageLastRow(),s=r.column;else{var u=this.columnModel.getAllDisplayedColumns(),c=this.gridOptionsService.get("enableRtl");l=r.rowIndex,s=a!==c?u[0]:xt(u)}return{rowIndex:l,rowPinned:null,column:s}},t.prototype.getNextCellToFocusWithoutCtrlPressed=function(e,r){for(var i=r,o=!1;!o;){switch(e){case U.UP:i=this.getCellAbove(i);break;case U.DOWN:i=this.getCellBelow(i);break;case U.RIGHT:this.gridOptionsService.get("enableRtl")?i=this.getCellToLeft(i):i=this.getCellToRight(i);break;case U.LEFT:this.gridOptionsService.get("enableRtl")?i=this.getCellToRight(i):i=this.getCellToLeft(i);break;default:i=null,console.warn("AG Grid: unknown key for navigation "+e);break}i?o=this.isCellGoodToFocusOn(i):o=!0}return i},t.prototype.isCellGoodToFocusOn=function(e){var r=e.column,i;switch(e.rowPinned){case"top":i=this.pinnedRowModel.getPinnedTopRow(e.rowIndex);break;case"bottom":i=this.pinnedRowModel.getPinnedBottomRow(e.rowIndex);break;default:i=this.rowModel.getRow(e.rowIndex);break}if(!i)return!1;var o=r.isSuppressNavigable(i);return!o},t.prototype.getCellToLeft=function(e){if(!e)return null;var r=this.columnModel.getDisplayedColBefore(e.column);return r?{rowIndex:e.rowIndex,column:r,rowPinned:e.rowPinned}:null},t.prototype.getCellToRight=function(e){if(!e)return null;var r=this.columnModel.getDisplayedColAfter(e.column);return r?{rowIndex:e.rowIndex,column:r,rowPinned:e.rowPinned}:null},t.prototype.getRowBelow=function(e){var r=e.rowIndex,i=e.rowPinned;if(this.isLastRowInContainer(e))switch(i){case"bottom":return null;case"top":return this.rowModel.isRowsToRender()?{rowIndex:this.paginationProxy.getPageFirstRow(),rowPinned:null}:this.pinnedRowModel.isRowsToRender("bottom")?{rowIndex:0,rowPinned:"bottom"}:null;default:return this.pinnedRowModel.isRowsToRender("bottom")?{rowIndex:0,rowPinned:"bottom"}:null}var o=this.rowModel.getRow(e.rowIndex),a=this.getNextStickyPosition(o);return a||{rowIndex:r+1,rowPinned:i}},t.prototype.getNextStickyPosition=function(e,r){if(!(!this.gridOptionsService.isGroupRowsSticky()||!e||!e.sticky)){var i=zRe([],URe(this.rowRenderer.getStickyTopRowCtrls()),!1).sort(function(l,u){return l.getRowNode().rowIndex-u.getRowNode().rowIndex}),o=r?-1:1,a=i.findIndex(function(l){return l.getRowNode().rowIndex===e.rowIndex}),s=i[a+o];if(s)return{rowIndex:s.getRowNode().rowIndex,rowPinned:null}}},t.prototype.getCellBelow=function(e){if(!e)return null;var r=this.getRowBelow(e);return r?{rowIndex:r.rowIndex,column:e.column,rowPinned:r.rowPinned}:null},t.prototype.isLastRowInContainer=function(e){var r=e.rowPinned,i=e.rowIndex;if(r==="top"){var o=this.pinnedRowModel.getPinnedTopRowData().length-1;return o<=i}if(r==="bottom"){var a=this.pinnedRowModel.getPinnedBottomRowData().length-1;return a<=i}var s=this.paginationProxy.getPageLastRow();return s<=i},t.prototype.getRowAbove=function(e){var r=e.rowIndex,i=e.rowPinned,o=i?r===0:r===this.paginationProxy.getPageFirstRow();if(o)return i==="top"?null:i?this.rowModel.isRowsToRender()?this.getLastBodyCell():this.pinnedRowModel.isRowsToRender("top")?this.getLastFloatingTopRow():null:this.pinnedRowModel.isRowsToRender("top")?this.getLastFloatingTopRow():null;var a=this.rowModel.getRow(e.rowIndex),s=this.getNextStickyPosition(a,!0);return s||{rowIndex:r-1,rowPinned:i}},t.prototype.getCellAbove=function(e){if(!e)return null;var r=this.getRowAbove({rowIndex:e.rowIndex,rowPinned:e.rowPinned});return r?{rowIndex:r.rowIndex,column:e.column,rowPinned:r.rowPinned}:null},t.prototype.getLastBodyCell=function(){var e=this.paginationProxy.getPageLastRow();return{rowIndex:e,rowPinned:null}},t.prototype.getLastFloatingTopRow=function(){var e=this.pinnedRowModel.getPinnedTopRowData().length-1;return{rowIndex:e,rowPinned:"top"}},t.prototype.getNextTabbedCell=function(e,r){return r?this.getNextTabbedCellBackwards(e):this.getNextTabbedCellForwards(e)},t.prototype.getNextTabbedCellForwards=function(e){var r=this.columnModel.getAllDisplayedColumns(),i=e.rowIndex,o=e.rowPinned,a=this.columnModel.getDisplayedColAfter(e.column);if(!a){a=r[0];var s=this.getRowBelow(e);if(We(s)||!s.rowPinned&&!this.paginationProxy.isRowInPage(s))return null;i=s?s.rowIndex:null,o=s?s.rowPinned:null}return{rowIndex:i,column:a,rowPinned:o}},t.prototype.getNextTabbedCellBackwards=function(e){var r=this.columnModel.getAllDisplayedColumns(),i=e.rowIndex,o=e.rowPinned,a=this.columnModel.getDisplayedColBefore(e.column);if(!a){a=xt(r);var s=this.getRowAbove({rowIndex:e.rowIndex,rowPinned:e.rowPinned});if(We(s)||!s.rowPinned&&!this.paginationProxy.isRowInPage(s))return null;i=s?s.rowIndex:null,o=s?s.rowPinned:null}return{rowIndex:i,column:a,rowPinned:o}},$f([E("columnModel")],t.prototype,"columnModel",void 0),$f([E("rowModel")],t.prototype,"rowModel",void 0),$f([E("rowRenderer")],t.prototype,"rowRenderer",void 0),$f([E("pinnedRowModel")],t.prototype,"pinnedRowModel",void 0),$f([E("paginationProxy")],t.prototype,"paginationProxy",void 0),t=$f([ie("cellNavigationService")],t),t}(X),KRe=function(){var n=function(t,e){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])},n(t,e)};return function(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");n(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}}(),Qy=function(n,t,e,r){var i=arguments.length,o=i<3?t:r===null?r=Object.getOwnPropertyDescriptor(t,e):r,a;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(n,t,e,r);else for(var s=n.length-1;s>=0;s--)(a=n[s])&&(o=(i<3?a(o):i>3?a(t,e,o):a(t,e))||o);return i>3&&o&&Object.defineProperty(t,e,o),o},YRe=function(n,t){return function(e,r){t(e,r,n)}},BX=function(n){KRe(t,n);function t(){var e=n!==null&&n.apply(this,arguments)||this;return e.consuming=!1,e}return t.prototype.setBeans=function(e){this.logger=e.create("AlignedGridsService")},t.prototype.getAlignedGridApis=function(){var e=this,r,i=(r=this.gridOptionsService.get("alignedGrids"))!==null&&r!==void 0?r:[],o=typeof i=="function";typeof i=="function"&&(i=i());var a=function(){return"See ".concat(e.getFrameworkOverrides().getDocLink("aligned-grids"))},s=i.map(function(l){var u;if(!l){Ps("alignedGrids contains an undefined option."),o||Ps(`You may want to configure via a callback to avoid setup race conditions:
                     "alignedGrids: () => [linkedGrid]"`),Ps(a());return}if(l instanceof fG)return l;var c=l;return"current"in c?(u=c.current)===null||u===void 0?void 0:u.api:(c.api||Ps("alignedGrids - No api found on the linked grid. If you are passing gridOptions to alignedGrids since v31 this is no longer valid. ".concat(a())),c.api)}).filter(function(l){return!!l&&!l.isDestroyed()});return s},t.prototype.init=function(){this.addManagedListener(this.eventService,T.EVENT_COLUMN_MOVED,this.fireColumnEvent.bind(this)),this.addManagedListener(this.eventService,T.EVENT_COLUMN_VISIBLE,this.fireColumnEvent.bind(this)),this.addManagedListener(this.eventService,T.EVENT_COLUMN_PINNED,this.fireColumnEvent.bind(this)),this.addManagedListener(this.eventService,T.EVENT_COLUMN_GROUP_OPENED,this.fireColumnEvent.bind(this)),this.addManagedListener(this.eventService,T.EVENT_COLUMN_RESIZED,this.fireColumnEvent.bind(this)),this.addManagedListener(this.eventService,T.EVENT_BODY_SCROLL,this.fireScrollEvent.bind(this))},t.prototype.fireEvent=function(e){this.consuming||this.getAlignedGridApis().forEach(function(r){var i=r.__getAlignedGridService();e(i)})},t.prototype.onEvent=function(e){this.consuming=!0,e(),this.consuming=!1},t.prototype.fireColumnEvent=function(e){this.fireEvent(function(r){r.onColumnEvent(e)})},t.prototype.fireScrollEvent=function(e){e.direction==="horizontal"&&this.fireEvent(function(r){r.onScrollEvent(e)})},t.prototype.onScrollEvent=function(e){var r=this;this.onEvent(function(){var i=r.ctrlsService.getGridBodyCtrl();i.getScrollFeature().setHorizontalScrollPosition(e.left,!0)})},t.prototype.getMasterColumns=function(e){var r=[];return e.columns?e.columns.forEach(function(i){r.push(i)}):e.column&&r.push(e.column),r},t.prototype.getColumnIds=function(e){var r=[];return e.columns?e.columns.forEach(function(i){r.push(i.getColId())}):e.column&&r.push(e.column.getColId()),r},t.prototype.onColumnEvent=function(e){var r=this;this.onEvent(function(){switch(e.type){case T.EVENT_COLUMN_MOVED:case T.EVENT_COLUMN_VISIBLE:case T.EVENT_COLUMN_PINNED:case T.EVENT_COLUMN_RESIZED:var i=e;r.processColumnEvent(i);break;case T.EVENT_COLUMN_GROUP_OPENED:var o=e;r.processGroupOpenedEvent(o);break;case T.EVENT_COLUMN_PIVOT_CHANGED:console.warn("AG Grid: pivoting is not supported with aligned grids. You can only use one of these features at a time in a grid.");break}})},t.prototype.processGroupOpenedEvent=function(e){var r=this;e.columnGroups.forEach(function(i){var o=null;if(i){var a=i.getGroupId();o=r.columnModel.getProvidedColumnGroup(a)}i&&!o||(r.logger.log("onColumnEvent-> processing "+e+" expanded = "+i.isExpanded()),r.columnModel.setColumnGroupOpened(o,i.isExpanded(),"alignedGridChanged"))})},t.prototype.processColumnEvent=function(e){var r=this,i,o=e.column,a=null;if(o&&(a=this.columnModel.getPrimaryColumn(o.getColId())),!(o&&!a)){var s=this.getMasterColumns(e);switch(e.type){case T.EVENT_COLUMN_MOVED:{var l=e,u=e.api.getColumnState(),c=u.map(function(y){return{colId:y.colId}});this.columnModel.applyColumnState({state:c,applyOrder:!0},"alignedGridChanged"),this.logger.log("onColumnEvent-> processing ".concat(e.type," toIndex = ").concat(l.toIndex))}break;case T.EVENT_COLUMN_VISIBLE:{var d=e,u=e.api.getColumnState(),c=u.map(function(C){return{colId:C.colId,hide:C.hide}});this.columnModel.applyColumnState({state:c},"alignedGridChanged"),this.logger.log("onColumnEvent-> processing ".concat(e.type," visible = ").concat(d.visible))}break;case T.EVENT_COLUMN_PINNED:{var p=e,u=e.api.getColumnState(),c=u.map(function(C){return{colId:C.colId,pinned:C.pinned}});this.columnModel.applyColumnState({state:c},"alignedGridChanged"),this.logger.log("onColumnEvent-> processing ".concat(e.type," pinned = ").concat(p.pinned))}break;case T.EVENT_COLUMN_RESIZED:var h=e,f={};s.forEach(function(y){r.logger.log("onColumnEvent-> processing ".concat(e.type," actualWidth = ").concat(y.getActualWidth())),f[y.getId()]={key:y.getColId(),newWidth:y.getActualWidth()}}),(i=h.flexColumns)===null||i===void 0||i.forEach(function(y){f[y.getId()]&&delete f[y.getId()]}),this.columnModel.setColumnWidths(Object.values(f),!1,h.finished,"alignedGridChanged");break}var v=this.ctrlsService.getGridBodyCtrl(),g=v.isVerticalScrollShowing();this.getAlignedGridApis().forEach(function(y){y.setGridOption("alwaysShowVerticalScroll",g)})}},Qy([E("columnModel")],t.prototype,"columnModel",void 0),Qy([E("ctrlsService")],t.prototype,"ctrlsService",void 0),Qy([YRe(0,oa("loggerFactory"))],t.prototype,"setBeans",null),Qy([z],t.prototype,"init",null),t=Qy([ie("alignedGridsService")],t),t}(X),XRe=function(){var n=function(t,e){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])},n(t,e)};return function(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");n(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}}(),y_=function(n,t,e,r){var i=arguments.length,o=i<3?t:r===null?r=Object.getOwnPropertyDescriptor(t,e):r,a;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(n,t,e,r);else for(var s=n.length-1;s>=0;s--)(a=n[s])&&(o=(i<3?a(o):i>3?a(t,e,o):a(t,e))||o);return i>3&&o&&Object.defineProperty(t,e,o),o},HX=function(n){XRe(t,n);function t(){var e=n!==null&&n.apply(this,arguments)||this;return e.selectedNodes=new Map,e.lastRowNode=null,e}return t.prototype.init=function(){var e=this;this.rowSelection=this.gridOptionsService.get("rowSelection"),this.groupSelectsChildren=this.gridOptionsService.get("groupSelectsChildren"),this.addManagedPropertyListeners(["groupSelectsChildren","rowSelection"],function(){e.groupSelectsChildren=e.gridOptionsService.get("groupSelectsChildren"),e.rowSelection=e.gridOptionsService.get("rowSelection"),e.deselectAllRowNodes({source:"api"})}),this.addManagedListener(this.eventService,T.EVENT_ROW_SELECTED,this.onRowSelected.bind(this))},t.prototype.destroy=function(){n.prototype.destroy.call(this),this.resetNodes(),this.lastRowNode=null},t.prototype.isMultiselect=function(){return this.rowSelection==="multiple"},t.prototype.setNodesSelected=function(e){var r,i=e.newValue,o=e.clearSelection,a=e.suppressFinishActions,s=e.rangeSelect,l=e.nodes,u=e.event,c=e.source,d=c===void 0?"api":c;if(l.length===0)return 0;if(l.length>1&&!this.isMultiselect())return console.warn("AG Grid: cannot multi select while rowSelection='single'"),0;var p=this.groupSelectsChildren&&e.groupSelectsFiltered===!0,h=l.map(function(b){return b.footer?b.sibling:b});if(s){if(l.length>1)return console.warn("AG Grid: cannot range select while selecting multiple rows"),0;var f=null;if(d==="checkboxSelected"&&i===!1&&this.lastRowNode&&(this.lastRowNode.id?f=this.lastRowNode:this.lastRowNode=null),f==null&&(f=this.getLastSelectedNode()),f){var v=h[0],g=v!==f;if(g&&this.isMultiselect())return this.selectRange(v,f,i,d)}}this.lastRowNode=i?null:h[0];for(var y=0,m=0;m<h.length;m++){var C=h[m],S=p&&C.group;if(!S){var w=C.selectThisNode(i,u,d);w&&y++}this.groupSelectsChildren&&(!((r=C.childrenAfterGroup)===null||r===void 0)&&r.length)&&(y+=this.selectChildren(C,i,p,d))}if(!a){var _=i&&(o||!this.isMultiselect());if(_&&(y+=this.clearOtherNodes(h[0],d)),y>0){this.updateGroupsFromChildrenSelections(d);var x={type:T.EVENT_SELECTION_CHANGED,source:d};this.eventService.dispatchEvent(x)}}return y},t.prototype.selectRange=function(e,r,i,o){var a=this;i===void 0&&(i=!0);var s=this.rowModel.getNodesInRangeForSelection(e,r),l=0;s.forEach(function(c){if(!(c.group&&a.groupSelectsChildren)){var d=c.selectThisNode(i,void 0,o);d&&l++}}),this.updateGroupsFromChildrenSelections(o);var u={type:T.EVENT_SELECTION_CHANGED,source:o};return this.eventService.dispatchEvent(u),l},t.prototype.selectChildren=function(e,r,i,o){var a=i?e.childrenAfterAggFilter:e.childrenAfterGroup;return We(a)?0:this.setNodesSelected({newValue:r,clearSelection:!1,suppressFinishActions:!0,groupSelectsFiltered:i,source:o,nodes:a})},t.prototype.getLastSelectedNode=function(){var e=Array.from(this.selectedNodes.keys());if(e.length==0)return null;var r=this.selectedNodes.get(xt(e));return r||null},t.prototype.getSelectedNodes=function(){var e=[];return this.selectedNodes.forEach(function(r){r&&e.push(r)}),e},t.prototype.getSelectedRows=function(){var e=[];return this.selectedNodes.forEach(function(r){r&&r.data&&e.push(r.data)}),e},t.prototype.getSelectionCount=function(){return this.selectedNodes.size},t.prototype.filterFromSelection=function(e){var r=new Map;this.selectedNodes.forEach(function(i,o){var a=i&&e(i);a&&r.set(o,i)}),this.selectedNodes=r},t.prototype.updateGroupsFromChildrenSelections=function(e,r){if(!this.groupSelectsChildren||this.rowModel.getType()!=="clientSide")return!1;var i=this.rowModel,o=i.getRootNode();r||(r=new Yg(!0,o),r.setInactive());var a=!1;return r.forEachChangedNodeDepthFirst(function(s){if(s!==o){var l=s.calculateSelectedFromChildren();a=s.selectThisNode(l===null?!1:l,void 0,e)||a}}),a},t.prototype.clearOtherNodes=function(e,r){var i=this,o=new Map,a=0;return this.selectedNodes.forEach(function(s){if(s&&s.id!==e.id){var l=i.selectedNodes.get(s.id);a+=l.setSelectedParams({newValue:!1,clearSelection:!1,suppressFinishActions:!0,source:r}),i.groupSelectsChildren&&s.parent&&o.set(s.parent.id,s.parent)}}),o.forEach(function(s){var l=s.calculateSelectedFromChildren();s.selectThisNode(l===null?!1:l,void 0,r)}),a},t.prototype.onRowSelected=function(e){var r=e.node;this.groupSelectsChildren&&r.group||(r.isSelected()?this.selectedNodes.set(r.id,r):this.selectedNodes.delete(r.id))},t.prototype.syncInRowNode=function(e,r){this.syncInOldRowNode(e,r),this.syncInNewRowNode(e)},t.prototype.syncInOldRowNode=function(e,r){var i=oe(r)&&e.id!==r.id;if(i&&r){var o=r.id,a=this.selectedNodes.get(o)==e;a&&this.selectedNodes.set(r.id,r)}},t.prototype.syncInNewRowNode=function(e){this.selectedNodes.has(e.id)?(e.setSelectedInitialValue(!0),this.selectedNodes.set(e.id,e)):e.setSelectedInitialValue(!1)},t.prototype.reset=function(e){var r=this.getSelectionCount();if(this.resetNodes(),r){var i={type:T.EVENT_SELECTION_CHANGED,source:e};this.eventService.dispatchEvent(i)}},t.prototype.resetNodes=function(){var e;(e=this.selectedNodes)===null||e===void 0||e.clear()},t.prototype.getBestCostNodeSelection=function(){if(this.rowModel.getType()!=="clientSide")return;var e=this.rowModel,r=e.getTopLevelNodes();if(r===null)return;var i=[];function o(a){for(var s=0,l=a.length;s<l;s++){var u=a[s];if(u.isSelected())i.push(u);else{var c=u;c.group&&c.children&&o(c.children)}}}return o(r),i},t.prototype.isEmpty=function(){var e=0;return this.selectedNodes.forEach(function(r){r&&e++}),e===0},t.prototype.deselectAllRowNodes=function(e){var r=function(u){return u.selectThisNode(!1,void 0,o)},i=this.rowModel.getType()==="clientSide",o=e.source,a=e.justFiltered,s=e.justCurrentPage;if(s||a){if(!i){console.error("AG Grid: selecting just filtered only works when gridOptions.rowModelType='clientSide'");return}this.getNodesToSelect(a,s).forEach(r)}else this.selectedNodes.forEach(function(u){u&&r(u)}),this.reset(o);i&&this.groupSelectsChildren&&this.updateGroupsFromChildrenSelections(o);var l={type:T.EVENT_SELECTION_CHANGED,source:o};this.eventService.dispatchEvent(l)},t.prototype.getSelectedCounts=function(e,r){var i=this,o=0,a=0,s=function(l){i.groupSelectsChildren&&l.group||(l.isSelected()?o++:l.selectable&&a++)};return this.getNodesToSelect(e,r).forEach(s),{selectedCount:o,notSelectedCount:a}},t.prototype.getSelectAllState=function(e,r){var i=this.getSelectedCounts(e,r),o=i.selectedCount,a=i.notSelectedCount;return o===0&&a===0?!1:o>0&&a>0?null:o>0},t.prototype.hasNodesToSelect=function(e,r){return e===void 0&&(e=!1),r===void 0&&(r=!1),this.getNodesToSelect(e,r).filter(function(i){return i.selectable}).length>0},t.prototype.getNodesToSelect=function(e,r){var i=this;if(e===void 0&&(e=!1),r===void 0&&(r=!1),this.rowModel.getType()!=="clientSide")throw new Error("selectAll only available when rowModelType='clientSide', ie not ".concat(this.rowModel.getType()));var o=[];if(r)return this.paginationProxy.forEachNodeOnPage(function(s){if(!s.group){o.push(s);return}if(!s.expanded){var l=function(u){var c;o.push(u),!((c=u.childrenAfterFilter)===null||c===void 0)&&c.length&&u.childrenAfterFilter.forEach(l)};l(s);return}i.groupSelectsChildren||o.push(s)}),o;var a=this.rowModel;return e?(a.forEachNodeAfterFilter(function(s){o.push(s)}),o):(a.forEachNode(function(s){o.push(s)}),o)},t.prototype.selectAllRowNodes=function(e){if(this.rowModel.getType()!=="clientSide")throw new Error("selectAll only available when rowModelType='clientSide', ie not ".concat(this.rowModel.getType()));var r=e.source,i=e.justFiltered,o=e.justCurrentPage,a=function(l){return l.selectThisNode(!0,void 0,r)};this.getNodesToSelect(i,o).forEach(a),this.rowModel.getType()==="clientSide"&&this.groupSelectsChildren&&this.updateGroupsFromChildrenSelections(r);var s={type:T.EVENT_SELECTION_CHANGED,source:r};this.eventService.dispatchEvent(s)},t.prototype.getSelectionState=function(){var e=[];return this.selectedNodes.forEach(function(r){r!=null&&r.id&&e.push(r.id)}),e.length?e:null},t.prototype.setSelectionState=function(e,r){if(Array.isArray(e)){var i=new Set(e),o=[];this.rowModel.forEachNode(function(a){i.has(a.id)&&o.push(a)}),this.setNodesSelected({newValue:!0,nodes:o,source:r})}},y_([E("rowModel")],t.prototype,"rowModel",void 0),y_([E("paginationProxy")],t.prototype,"paginationProxy",void 0),y_([z],t.prototype,"init",null),t=y_([ie("selectionService")],t),t}(X),V$=function(n,t,e,r){var i=arguments.length,o=i<3?t:r===null?r=Object.getOwnPropertyDescriptor(t,e):r,a;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(n,t,e,r);else for(var s=n.length-1;s>=0;s--)(a=n[s])&&(o=(i<3?a(o):i>3?a(t,e,o):a(t,e))||o);return i>3&&o&&Object.defineProperty(t,e,o),o},qRe=function(n,t){var e=typeof Symbol=="function"&&n[Symbol.iterator];if(!e)return n;var r=e.call(n),i,o=[],a;try{for(;(t===void 0||t-- >0)&&!(i=r.next()).done;)o.push(i.value)}catch(s){a={error:s}}finally{try{i&&!i.done&&(e=r.return)&&e.call(r)}finally{if(a)throw a.error}}return o},ZRe=function(n,t,e){if(e||arguments.length===2)for(var r=0,i=t.length,o;r<i;r++)(o||!(r in t))&&(o||(o=Array.prototype.slice.call(t,0,r)),o[r]=t[r]);return n.concat(o||Array.prototype.slice.call(t))},Uw=function(){function n(t){var e=this;this.viaApi=function(r){for(var i,o=[],a=1;a<arguments.length;a++)o[a-1]=arguments[a];return Ge("Since v31, 'columnApi.".concat(r,"' is deprecated and moved to 'api.").concat(r,"'.")),(i=e.api)[r].apply(i,ZRe([],qRe(o),!1))},this.api=t}return n.prototype.sizeColumnsToFit=function(t){this.viaApi("sizeColumnsToFit",t)},n.prototype.setColumnGroupOpened=function(t,e){this.viaApi("setColumnGroupOpened",t,e)},n.prototype.getColumnGroup=function(t,e){return this.viaApi("getColumnGroup",t,e)},n.prototype.getProvidedColumnGroup=function(t){return this.viaApi("getProvidedColumnGroup",t)},n.prototype.getDisplayNameForColumn=function(t,e){return this.viaApi("getDisplayNameForColumn",t,e)},n.prototype.getDisplayNameForColumnGroup=function(t,e){return this.viaApi("getDisplayNameForColumnGroup",t,e)},n.prototype.getColumn=function(t){return this.viaApi("getColumn",t)},n.prototype.getColumns=function(){return this.viaApi("getColumns")},n.prototype.applyColumnState=function(t){return this.viaApi("applyColumnState",t)},n.prototype.getColumnState=function(){return this.viaApi("getColumnState")},n.prototype.resetColumnState=function(){this.viaApi("resetColumnState")},n.prototype.getColumnGroupState=function(){return this.viaApi("getColumnGroupState")},n.prototype.setColumnGroupState=function(t){this.viaApi("setColumnGroupState",t)},n.prototype.resetColumnGroupState=function(){this.viaApi("resetColumnGroupState")},n.prototype.isPinning=function(){return this.viaApi("isPinning")},n.prototype.isPinningLeft=function(){return this.viaApi("isPinningLeft")},n.prototype.isPinningRight=function(){return this.viaApi("isPinningRight")},n.prototype.getDisplayedColAfter=function(t){return this.viaApi("getDisplayedColAfter",t)},n.prototype.getDisplayedColBefore=function(t){return this.viaApi("getDisplayedColBefore",t)},n.prototype.setColumnVisible=function(t,e){this.viaApi("setColumnVisible",t,e)},n.prototype.setColumnsVisible=function(t,e){this.viaApi("setColumnsVisible",t,e)},n.prototype.setColumnPinned=function(t,e){this.viaApi("setColumnPinned",t,e)},n.prototype.setColumnsPinned=function(t,e){this.viaApi("setColumnsPinned",t,e)},n.prototype.getAllGridColumns=function(){return this.viaApi("getAllGridColumns")},n.prototype.getDisplayedLeftColumns=function(){return this.viaApi("getDisplayedLeftColumns")},n.prototype.getDisplayedCenterColumns=function(){return this.viaApi("getDisplayedCenterColumns")},n.prototype.getDisplayedRightColumns=function(){return this.viaApi("getDisplayedRightColumns")},n.prototype.getAllDisplayedColumns=function(){return this.viaApi("getAllDisplayedColumns")},n.prototype.getAllDisplayedVirtualColumns=function(){return this.viaApi("getAllDisplayedVirtualColumns")},n.prototype.moveColumn=function(t,e){this.viaApi("moveColumn",t,e)},n.prototype.moveColumnByIndex=function(t,e){this.viaApi("moveColumnByIndex",t,e)},n.prototype.moveColumns=function(t,e){this.viaApi("moveColumns",t,e)},n.prototype.moveRowGroupColumn=function(t,e){this.viaApi("moveRowGroupColumn",t,e)},n.prototype.setColumnAggFunc=function(t,e){this.viaApi("setColumnAggFunc",t,e)},n.prototype.setColumnWidth=function(t,e,r,i){r===void 0&&(r=!0),this.viaApi("setColumnWidth",t,e,r,i)},n.prototype.setColumnWidths=function(t,e,r){e===void 0&&(e=!0),this.viaApi("setColumnWidths",t,e,r)},n.prototype.setPivotMode=function(t){this.viaApi("setPivotMode",t)},n.prototype.isPivotMode=function(){return this.viaApi("isPivotMode")},n.prototype.getPivotResultColumn=function(t,e){return this.viaApi("getPivotResultColumn",t,e)},n.prototype.setValueColumns=function(t){this.viaApi("setValueColumns",t)},n.prototype.getValueColumns=function(){return this.viaApi("getValueColumns")},n.prototype.removeValueColumn=function(t){this.viaApi("removeValueColumn",t)},n.prototype.removeValueColumns=function(t){this.viaApi("removeValueColumns",t)},n.prototype.addValueColumn=function(t){this.viaApi("addValueColumn",t)},n.prototype.addValueColumns=function(t){this.viaApi("addValueColumns",t)},n.prototype.setRowGroupColumns=function(t){this.viaApi("setRowGroupColumns",t)},n.prototype.removeRowGroupColumn=function(t){this.viaApi("removeRowGroupColumn",t)},n.prototype.removeRowGroupColumns=function(t){this.viaApi("removeRowGroupColumns",t)},n.prototype.addRowGroupColumn=function(t){this.viaApi("addRowGroupColumn",t)},n.prototype.addRowGroupColumns=function(t){this.viaApi("addRowGroupColumns",t)},n.prototype.getRowGroupColumns=function(){return this.viaApi("getRowGroupColumns")},n.prototype.setPivotColumns=function(t){this.viaApi("setPivotColumns",t)},n.prototype.removePivotColumn=function(t){this.viaApi("removePivotColumn",t)},n.prototype.removePivotColumns=function(t){this.viaApi("removePivotColumns",t)},n.prototype.addPivotColumn=function(t){this.viaApi("addPivotColumn",t)},n.prototype.addPivotColumns=function(t){this.viaApi("addPivotColumns",t)},n.prototype.getPivotColumns=function(){return this.viaApi("getPivotColumns")},n.prototype.getLeftDisplayedColumnGroups=function(){return this.viaApi("getLeftDisplayedColumnGroups")},n.prototype.getCenterDisplayedColumnGroups=function(){return this.viaApi("getCenterDisplayedColumnGroups")},n.prototype.getRightDisplayedColumnGroups=function(){return this.viaApi("getRightDisplayedColumnGroups")},n.prototype.getAllDisplayedColumnGroups=function(){return this.viaApi("getAllDisplayedColumnGroups")},n.prototype.autoSizeColumn=function(t,e){return this.viaApi("autoSizeColumn",t,e)},n.prototype.autoSizeColumns=function(t,e){this.viaApi("autoSizeColumns",t,e)},n.prototype.autoSizeAllColumns=function(t){this.viaApi("autoSizeAllColumns",t)},n.prototype.setPivotResultColumns=function(t){this.viaApi("setPivotResultColumns",t)},n.prototype.getPivotResultColumns=function(){return this.viaApi("getPivotResultColumns")},V$([E("gridApi")],n.prototype,"api",void 0),n=V$([ie("columnApi")],n),n}(),QRe=function(){var n=function(t,e){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])},n(t,e)};return function(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");n(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}}(),Wf=function(n,t,e,r){var i=arguments.length,o=i<3?t:r===null?r=Object.getOwnPropertyDescriptor(t,e):r,a;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(n,t,e,r);else for(var s=n.length-1;s>=0;s--)(a=n[s])&&(o=(i<3?a(o):i>3?a(t,e,o):a(t,e))||o);return i>3&&o&&Object.defineProperty(t,e,o),o},jX=function(n){QRe(t,n);function t(){var e=n!==null&&n.apply(this,arguments)||this;return e.initialised=!1,e.isSsrm=!1,e}return t.prototype.init=function(){var e=this;this.isSsrm=this.gridOptionsService.isRowModelType("serverSide"),this.cellExpressions=this.gridOptionsService.get("enableCellExpressions"),this.isTreeData=this.gridOptionsService.get("treeData"),this.initialised=!0;var r=function(o){return e.callColumnCellValueChangedHandler(o)},i=this.gridOptionsService.useAsyncEvents();this.eventService.addEventListener(T.EVENT_CELL_VALUE_CHANGED,r,i),this.addDestroyFunc(function(){return e.eventService.removeEventListener(T.EVENT_CELL_VALUE_CHANGED,r,i)}),this.addManagedPropertyListener("treeData",function(o){return e.isTreeData=o.currentValue})},t.prototype.getValue=function(e,r,i,o){if(i===void 0&&(i=!1),o===void 0&&(o=!1),this.initialised||this.init(),!!r){var a=e.getColDef(),s=a.field,l=e.getColId(),u=r.data,c,d=r.groupData&&r.groupData[l]!==void 0,p=!o&&r.aggData&&r.aggData[l]!==void 0,h=this.isSsrm&&o&&!!e.getColDef().aggFunc,f=this.isSsrm&&r.footer&&r.field&&(e.getColDef().showRowGroup===!0||e.getColDef().showRowGroup===r.field);if(i&&a.filterValueGetter?c=this.executeFilterValueGetter(a.filterValueGetter,u,e,r):this.isTreeData&&p?c=r.aggData[l]:this.isTreeData&&a.valueGetter?c=this.executeValueGetter(a.valueGetter,u,e,r):this.isTreeData&&s&&u?c=Jv(u,s,e.isFieldContainsDots()):d?c=r.groupData[l]:p?c=r.aggData[l]:a.valueGetter?c=this.executeValueGetter(a.valueGetter,u,e,r):f?c=Jv(u,r.field,e.isFieldContainsDots()):s&&u&&!h&&(c=Jv(u,s,e.isFieldContainsDots())),this.cellExpressions&&typeof c=="string"&&c.indexOf("=")===0){var v=c.substring(1);c=this.executeValueGetter(v,u,e,r)}if(c==null){var g=this.getOpenedGroup(r,e);if(g!=null)return g}return c}},t.prototype.getOpenedGroup=function(e,r){if(this.gridOptionsService.get("showOpenedGroup")){var i=r.getColDef();if(i.showRowGroup)for(var o=r.getColDef().showRowGroup,a=e.parent;a!=null;){if(a.rowGroupColumn&&(o===!0||o===a.rowGroupColumn.getColId()))return a.key;a=a.parent}}},t.prototype.setValue=function(e,r,i,o){var a=this.columnModel.getPrimaryColumn(r);if(!e||!a)return!1;We(e.data)&&(e.data={});var s=a.getColDef(),l=s.field,u=s.valueSetter;if(We(l)&&We(u))return console.warn("AG Grid: you need either field or valueSetter set on colDef for editing to work"),!1;if(!this.dataTypeService.checkType(a,i))return console.warn("AG Grid: Data type of the new value does not match the cell data type of the column"),!1;var c=this.gridOptionsService.addGridCommonParams({node:e,data:e.data,oldValue:this.getValue(a,e),newValue:i,colDef:a.getColDef(),column:a});c.newValue=i;var d;if(oe(u)?typeof u=="function"?d=u(c):d=this.expressionService.evaluate(u,c):d=this.setValueUsingField(e.data,l,i,a.isFieldContainsDots()),d===void 0&&(d=!0),!d)return!1;e.resetQuickFilterAggregateText(),this.valueCache.onDataChanged(),c.newValue=this.getValue(a,e);var p={type:T.EVENT_CELL_VALUE_CHANGED,event:null,rowIndex:e.rowIndex,rowPinned:e.rowPinned,column:c.column,api:c.api,columnApi:c.columnApi,colDef:c.colDef,context:c.context,data:e.data,node:e,oldValue:c.oldValue,newValue:c.newValue,value:c.newValue,source:o};return this.eventService.dispatchEvent(p),!0},t.prototype.callColumnCellValueChangedHandler=function(e){var r=e.colDef.onCellValueChanged;typeof r=="function"&&this.getFrameworkOverrides().wrapOutgoing(function(){r({node:e.node,data:e.data,oldValue:e.oldValue,newValue:e.newValue,colDef:e.colDef,column:e.column,api:e.api,columnApi:e.columnApi,context:e.context})})},t.prototype.setValueUsingField=function(e,r,i,o){if(!r)return!1;var a=!1;if(!o)a=e[r]===i,a||(e[r]=i);else for(var s=r.split("."),l=e;s.length>0&&l;){var u=s.shift();s.length===0?(a=l[u]===i,a||(l[u]=i)):l=l[u]}return!a},t.prototype.executeFilterValueGetter=function(e,r,i,o){var a=this.gridOptionsService.addGridCommonParams({data:r,node:o,column:i,colDef:i.getColDef(),getValue:this.getValueCallback.bind(this,o)});return typeof e=="function"?e(a):this.expressionService.evaluate(e,a)},t.prototype.executeValueGetter=function(e,r,i,o){var a=i.getColId(),s=this.valueCache.getValue(o,a);if(s!==void 0)return s;var l=this.gridOptionsService.addGridCommonParams({data:r,node:o,column:i,colDef:i.getColDef(),getValue:this.getValueCallback.bind(this,o)}),u;return typeof e=="function"?u=e(l):u=this.expressionService.evaluate(e,l),this.valueCache.setValue(o,a,u),u},t.prototype.getValueCallback=function(e,r){var i=this.columnModel.getPrimaryColumn(r);return i?this.getValue(i,e):null},t.prototype.getKeyForNode=function(e,r){var i=this.getValue(e,r),o=e.getColDef().keyCreator,a=i;if(o){var s=this.gridOptionsService.addGridCommonParams({value:i,colDef:e.getColDef(),column:e,node:r,data:r.data});a=o(s)}return typeof a=="string"||a==null||(a=String(a),a==="[object Object]"&&Ge("a column you are grouping or pivoting by has objects as values. If you want to group by complex objects then either a) use a colDef.keyCreator (se AG Grid docs) or b) to toString() on the object to return a key")),a},Wf([E("expressionService")],t.prototype,"expressionService",void 0),Wf([E("columnModel")],t.prototype,"columnModel",void 0),Wf([E("valueCache")],t.prototype,"valueCache",void 0),Wf([E("dataTypeService")],t.prototype,"dataTypeService",void 0),Wf([z],t.prototype,"init",null),t=Wf([ie("valueService")],t),t}(X),JRe=function(){var n=function(t,e){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])},n(t,e)};return function(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");n(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}}(),B$=function(n,t,e,r){var i=arguments.length,o=i<3?t:r===null?r=Object.getOwnPropertyDescriptor(t,e):r,a;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(n,t,e,r);else for(var s=n.length-1;s>=0;s--)(a=n[s])&&(o=(i<3?a(o):i>3?a(t,e,o):a(t,e))||o);return i>3&&o&&Object.defineProperty(t,e,o),o},eTe=function(n,t){return function(e,r){t(e,r,n)}},$X=function(n){JRe(t,n);function t(){var e=n!==null&&n.apply(this,arguments)||this;return e.expressionToFunctionCache={},e}return t.prototype.setBeans=function(e){this.logger=e.create("ExpressionService")},t.prototype.evaluate=function(e,r){if(typeof e=="string")return this.evaluateExpression(e,r);console.error("AG Grid: value should be either a string or a function",e)},t.prototype.evaluateExpression=function(e,r){try{var i=this.createExpressionFunction(e),o=i(r.value,r.context,r.oldValue,r.newValue,r.value,r.node,r.data,r.colDef,r.rowIndex,r.api,r.columnApi,r.getValue,r.column,r.columnGroup);return o}catch(a){return console.log("Processing of the expression failed"),console.log("Expression = "+e),console.log("Params =",r),console.log("Exception = "+a),null}},t.prototype.createExpressionFunction=function(e){if(this.expressionToFunctionCache[e])return this.expressionToFunctionCache[e];var r=this.createFunctionBody(e),i=new Function("x, ctx, oldValue, newValue, value, node, data, colDef, rowIndex, api, columnApi, getValue, column, columnGroup",r);return this.expressionToFunctionCache[e]=i,i},t.prototype.createFunctionBody=function(e){return e.indexOf("return")>=0?e:"return "+e+";"},B$([eTe(0,oa("loggerFactory"))],t.prototype,"setBeans",null),t=B$([ie("expressionService")],t),t}(X),tTe=function(){var n=function(t,e){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])},n(t,e)};return function(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");n(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}}(),rTe=function(n,t,e,r){var i=arguments.length,o=i<3?t:r===null?r=Object.getOwnPropertyDescriptor(t,e):r,a;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(n,t,e,r);else for(var s=n.length-1;s>=0;s--)(a=n[s])&&(o=(i<3?a(o):i>3?a(t,e,o):a(t,e))||o);return i>3&&o&&Object.defineProperty(t,e,o),o},WX=function(n){tTe(t,n);function t(){var e=n!==null&&n.apply(this,arguments)||this;return e.templateCache={},e.waitingCallbacks={},e}return t.prototype.getTemplate=function(e,r){var i=this.templateCache[e];if(i)return i;var o=this.waitingCallbacks[e],a=this;if(!o){o=[],this.waitingCallbacks[e]=o;var s=new XMLHttpRequest;s.onload=function(){a.handleHttpResult(this,e)},s.open("GET",e),s.send()}return r&&o.push(r),null},t.prototype.handleHttpResult=function(e,r){if(e.status!==200||e.response===null){console.warn("AG Grid: Unable to get template error ".concat(e.status," - ").concat(r));return}this.templateCache[r]=e.response||e.responseText;for(var i=this.waitingCallbacks[r],o=0;o<i.length;o++){var a=i[o];a()}},t=rTe([ie("templateService")],t),t}(X),nTe=function(){var n=function(t,e){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])},n(t,e)};return function(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");n(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}}(),H$=function(n,t,e,r){var i=arguments.length,o=i<3?t:r===null?r=Object.getOwnPropertyDescriptor(t,e):r,a;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(n,t,e,r);else for(var s=n.length-1;s>=0;s--)(a=n[s])&&(o=(i<3?a(o):i>3?a(t,e,o):a(t,e))||o);return i>3&&o&&Object.defineProperty(t,e,o),o},iTe=function(n,t){return function(e,r){t(e,r,n)}},UX=function(n){nTe(t,n);function t(){return n!==null&&n.apply(this,arguments)||this}return t.prototype.setBeans=function(e){this.logging=e.get("debug")},t.prototype.create=function(e){return new bT(e,this.isLogging.bind(this))},t.prototype.isLogging=function(){return this.logging},H$([iTe(0,oa("gridOptionsService"))],t.prototype,"setBeans",null),t=H$([ie("loggerFactory")],t),t}(X),bT=function(){function n(t,e){this.name=t,this.isLoggingFunc=e}return n.prototype.isLogging=function(){return this.isLoggingFunc()},n.prototype.log=function(t){this.isLoggingFunc()&&console.log("AG Grid."+this.name+": "+t)},n}(),oTe=function(){var n=function(t,e){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])},n(t,e)};return function(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");n(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}}(),Uf=function(n,t,e,r){var i=arguments.length,o=i<3?t:r===null?r=Object.getOwnPropertyDescriptor(t,e):r,a;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(n,t,e,r);else for(var s=n.length-1;s>=0;s--)(a=n[s])&&(o=(i<3?a(o):i>3?a(t,e,o):a(t,e))||o);return i>3&&o&&Object.defineProperty(t,e,o),o},zX=function(n){oTe(t,n);function t(){return n!==null&&n.apply(this,arguments)||this}return t.prototype.setComp=function(e,r,i){var o=this;this.view=e,this.eGridHostDiv=r,this.eGui=i,this.eGui.setAttribute("grid-id",this.context.getGridId()),this.dragAndDropService.addDropTarget({getContainer:function(){return o.eGui},isInterestedIn:function(s){return s===Or.HeaderCell||s===Or.ToolPanel},getIconName:function(){return St.ICON_NOT_ALLOWED}}),this.mouseEventService.stampTopLevelGridCompWithGridInstance(r),this.createManagedBean(new gG(this.view)),this.addRtlSupport();var a=this.resizeObserverService.observeResize(this.eGridHostDiv,this.onGridSizeChanged.bind(this));this.addDestroyFunc(function(){return a()}),this.ctrlsService.registerGridCtrl(this)},t.prototype.isDetailGrid=function(){var e,r=this.focusService.findTabbableParent(this.getGui());return((e=r==null?void 0:r.getAttribute("row-id"))===null||e===void 0?void 0:e.startsWith("detail"))||!1},t.prototype.showDropZones=function(){return He.__isRegistered(pe.RowGroupingModule,this.context.getGridId())},t.prototype.showSideBar=function(){return He.__isRegistered(pe.SideBarModule,this.context.getGridId())},t.prototype.showStatusBar=function(){return He.__isRegistered(pe.StatusBarModule,this.context.getGridId())},t.prototype.showWatermark=function(){return He.__isRegistered(pe.EnterpriseCoreModule,this.context.getGridId())},t.prototype.onGridSizeChanged=function(){var e={type:T.EVENT_GRID_SIZE_CHANGED,clientWidth:this.eGridHostDiv.clientWidth,clientHeight:this.eGridHostDiv.clientHeight};this.eventService.dispatchEvent(e)},t.prototype.addRtlSupport=function(){var e=this.gridOptionsService.get("enableRtl")?"ag-rtl":"ag-ltr";this.view.setRtlClass(e)},t.prototype.destroyGridUi=function(){this.view.destroyGridUi()},t.prototype.getGui=function(){return this.eGui},t.prototype.setResizeCursor=function(e){this.view.setCursor(e?"ew-resize":null)},t.prototype.disableUserSelect=function(e){this.view.setUserSelect(e?"none":null)},t.prototype.focusNextInnerContainer=function(e){var r=this.gridOptionsService.getDocument(),i=this.view.getFocusableContainers(),o=i.findIndex(function(s){return s.contains(r.activeElement)}),a=o+(e?-1:1);return a<=0||a>=i.length?!1:this.focusService.focusInto(i[a])},t.prototype.focusInnerElement=function(e){var r=this.view.getFocusableContainers(),i=this.columnModel.getAllDisplayedColumns();if(e){if(r.length>1)return this.focusService.focusInto(xt(r),!0);var o=xt(i);if(this.focusService.focusGridView(o,!0))return!0}if(this.gridOptionsService.get("headerHeight")===0||this.gridOptionsService.get("suppressHeaderFocus")){if(this.focusService.focusGridView(i[0]))return!0;for(var a=1;a<r.length;a++)if(this.focusService.focusInto(r[a]))return!0;return!1}return this.focusService.focusFirstHeader()},t.prototype.forceFocusOutOfContainer=function(e){e===void 0&&(e=!1),this.view.forceFocusOutOfContainer(e)},Uf([E("focusService")],t.prototype,"focusService",void 0),Uf([E("resizeObserverService")],t.prototype,"resizeObserverService",void 0),Uf([E("columnModel")],t.prototype,"columnModel",void 0),Uf([E("ctrlsService")],t.prototype,"ctrlsService",void 0),Uf([E("mouseEventService")],t.prototype,"mouseEventService",void 0),Uf([E("dragAndDropService")],t.prototype,"dragAndDropService",void 0),t}(X),aTe=function(){var n=function(t,e){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])},n(t,e)};return function(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");n(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}}(),Jy=function(n,t,e,r){var i=arguments.length,o=i<3?t:r===null?r=Object.getOwnPropertyDescriptor(t,e):r,a;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(n,t,e,r);else for(var s=n.length-1;s>=0;s--)(a=n[s])&&(o=(i<3?a(o):i>3?a(t,e,o):a(t,e))||o);return i>3&&o&&Object.defineProperty(t,e,o),o},OG=function(n){aTe(t,n);function t(e){var r=n.call(this)||this;return r.eGridDiv=e,r}return t.prototype.postConstruct=function(){var e=this;this.logger=this.loggerFactory.create("GridComp");var r={destroyGridUi:function(){return e.destroyBean(e)},setRtlClass:function(o){return e.addCssClass(o)},forceFocusOutOfContainer:this.forceFocusOutOfContainer.bind(this),updateLayoutClasses:this.updateLayoutClasses.bind(this),getFocusableContainers:this.getFocusableContainers.bind(this),setUserSelect:function(o){e.getGui().style.userSelect=o??"",e.getGui().style.webkitUserSelect=o??""},setCursor:function(o){e.getGui().style.cursor=o??""}};this.ctrl=this.createManagedBean(new zX);var i=this.createTemplate();this.setTemplate(i),this.ctrl.setComp(r,this.eGridDiv,this.getGui()),this.insertGridIntoDom(),this.initialiseTabGuard({onTabKeyDown:function(){},focusInnerElement:function(o){return e.ctrl.focusInnerElement(o)},forceFocusOutWhenTabGuardsAreEmpty:!0})},t.prototype.insertGridIntoDom=function(){var e=this,r=this.getGui();this.eGridDiv.appendChild(r),this.addDestroyFunc(function(){e.eGridDiv.removeChild(r),e.logger.log("Grid removed from DOM")})},t.prototype.updateLayoutClasses=function(e,r){var i=this.eRootWrapperBody.classList;i.toggle(Xr.AUTO_HEIGHT,r.autoHeight),i.toggle(Xr.NORMAL,r.normal),i.toggle(Xr.PRINT,r.print),this.addOrRemoveCssClass(Xr.AUTO_HEIGHT,r.autoHeight),this.addOrRemoveCssClass(Xr.NORMAL,r.normal),this.addOrRemoveCssClass(Xr.PRINT,r.print)},t.prototype.createTemplate=function(){var e=this.ctrl.showDropZones()?"<ag-grid-header-drop-zones></ag-grid-header-drop-zones>":"",r=this.ctrl.showSideBar()?'<ag-side-bar ref="sideBar"></ag-side-bar>':"",i=this.ctrl.showStatusBar()?'<ag-status-bar ref="statusBar"></ag-status-bar>':"",o=this.ctrl.showWatermark()?"<ag-watermark></ag-watermark>":"",a=`<div class="ag-root-wrapper" role="presentation">
                `.concat(e,`
                <div class="ag-root-wrapper-body" ref="rootWrapperBody" role="presentation">
                    <ag-grid-body ref="gridBody"></ag-grid-body>
                    `).concat(r,`
                </div>
                `).concat(i,`
                <ag-pagination></ag-pagination>
                `).concat(o,`
            </div>`);return a},t.prototype.getFocusableElement=function(){return this.eRootWrapperBody},t.prototype.getFocusableContainers=function(){var e=[this.gridBodyComp.getGui()];return this.sideBarComp&&e.push(this.sideBarComp.getGui()),e.filter(function(r){return ca(r)})},Jy([E("loggerFactory")],t.prototype,"loggerFactory",void 0),Jy([j("gridBody")],t.prototype,"gridBodyComp",void 0),Jy([j("sideBar")],t.prototype,"sideBarComp",void 0),Jy([j("rootWrapperBody")],t.prototype,"eRootWrapperBody",void 0),Jy([z],t.prototype,"postConstruct",null),t}(Cc),sTe=function(){var n=function(t,e){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])},n(t,e)};return function(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");n(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}}(),j$=function(n,t,e,r){var i=arguments.length,o=i<3?t:r===null?r=Object.getOwnPropertyDescriptor(t,e):r,a;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(n,t,e,r);else for(var s=n.length-1;s>=0;s--)(a=n[s])&&(o=(i<3?a(o):i>3?a(t,e,o):a(t,e))||o);return i>3&&o&&Object.defineProperty(t,e,o),o},ol=function(n,t){var e=typeof Symbol=="function"&&n[Symbol.iterator];if(!e)return n;var r=e.call(n),i,o=[],a;try{for(;(t===void 0||t-- >0)&&!(i=r.next()).done;)o.push(i.value)}catch(s){a={error:s}}finally{try{i&&!i.done&&(e=r.return)&&e.call(r)}finally{if(a)throw a.error}}return o},Vc=function(n,t,e){if(e||arguments.length===2)for(var r=0,i=t.length,o;r<i;r++)(o||!(r in t))&&(o||(o=Array.prototype.slice.call(t,0,r)),o[r]=t[r]);return n.concat(o||Array.prototype.slice.call(t))},KX=function(n){sTe(t,n);function t(){return n!==null&&n.apply(this,arguments)||this}e=t,t.prototype.progressSort=function(r,i,o){var a=this.getNextSortDirection(r);this.setSortForColumn(r,a,i,o)},t.prototype.setSortForColumn=function(r,i,o,a){i!=="asc"&&i!=="desc"&&(i=null);var s=this.gridOptionsService.isColumnsSortingCoupledToGroup(),l=[r];if(s&&r.getColDef().showRowGroup){var u=this.columnModel.getSourceColumnsForGroupColumn(r),c=u==null?void 0:u.filter(function(f){return f.isSortable()});c&&(l=Vc([r],ol(c),!1))}l.forEach(function(f){return f.setSort(i,a)});var d=(o||this.gridOptionsService.get("alwaysMultiSort"))&&!this.gridOptionsService.get("suppressMultiSort"),p=[];if(!d){var h=this.clearSortBarTheseColumns(l,a);p.push.apply(p,Vc([],ol(h),!1))}this.updateSortIndex(r),p.push.apply(p,Vc([],ol(l),!1)),this.dispatchSortChangedEvents(a,p)},t.prototype.updateSortIndex=function(r){var i=this.gridOptionsService.isColumnsSortingCoupledToGroup(),o=this.columnModel.getGroupDisplayColumnForGroup(r.getId()),a=i&&o||r,s=this.getColumnsWithSortingOrdered();this.columnModel.getPrimaryAndSecondaryAndAutoColumns().forEach(function(c){return c.setSortIndex(null)});var l=s.filter(function(c){return i&&c.getColDef().showRowGroup?!1:c!==a}),u=a.getSort()?Vc(Vc([],ol(l),!1),[a],!1):l;u.forEach(function(c,d){c.setSortIndex(d)})},t.prototype.onSortChanged=function(r,i){this.dispatchSortChangedEvents(r,i)},t.prototype.isSortActive=function(){var r=this.columnModel.getPrimaryAndSecondaryAndAutoColumns(),i=r.filter(function(o){return!!o.getSort()});return i&&i.length>0},t.prototype.dispatchSortChangedEvents=function(r,i){var o={type:T.EVENT_SORT_CHANGED,source:r};i&&(o.columns=i),this.eventService.dispatchEvent(o)},t.prototype.clearSortBarTheseColumns=function(r,i){var o=[];return this.columnModel.getPrimaryAndSecondaryAndAutoColumns().forEach(function(a){r.includes(a)||(a.getSort()&&o.push(a),a.setSort(void 0,i))}),o},t.prototype.getNextSortDirection=function(r){var i;if(r.getColDef().sortingOrder?i=r.getColDef().sortingOrder:this.gridOptionsService.get("sortingOrder")?i=this.gridOptionsService.get("sortingOrder"):i=e.DEFAULT_SORTING_ORDER,!Array.isArray(i)||i.length<=0)return console.warn("AG Grid: sortingOrder must be an array with at least one element, currently it's ".concat(i)),null;var o=i.indexOf(r.getSort()),a=o<0,s=o==i.length-1,l;return a||s?l=i[0]:l=i[o+1],e.DEFAULT_SORTING_ORDER.indexOf(l)<0?(console.warn("AG Grid: invalid sort type "+l),null):l},t.prototype.getIndexedSortMap=function(){var r=this,i=this.columnModel.getPrimaryAndSecondaryAndAutoColumns().filter(function(c){return!!c.getSort()});if(this.columnModel.isPivotMode()){var o=this.gridOptionsService.isColumnsSortingCoupledToGroup();i=i.filter(function(c){var d=!!c.getAggFunc(),p=!c.isPrimary(),h=o?r.columnModel.getGroupDisplayColumnForGroup(c.getId()):c.getColDef().showRowGroup;return d||p||h})}var a=this.columnModel.getRowGroupColumns().filter(function(c){return!!c.getSort()}),s=this.gridOptionsService.isColumnsSortingCoupledToGroup()&&!!a.length;s&&(i=Vc([],ol(new Set(i.map(function(c){var d;return(d=r.columnModel.getGroupDisplayColumnForGroup(c.getId()))!==null&&d!==void 0?d:c}))),!1));var l={};i.forEach(function(c,d){return l[c.getId()]=d}),i.sort(function(c,d){var p=c.getSortIndex(),h=d.getSortIndex();if(p!=null&&h!=null)return p-h;if(p==null&&h==null){var f=l[c.getId()],v=l[d.getId()];return f>v?1:-1}else return h==null?-1:1});var u=new Map;return i.forEach(function(c,d){return u.set(c,d)}),s&&a.forEach(function(c){var d=r.columnModel.getGroupDisplayColumnForGroup(c.getId());u.set(c,u.get(d))}),u},t.prototype.getColumnsWithSortingOrdered=function(){return Vc([],ol(this.getIndexedSortMap().entries()),!1).sort(function(r,i){var o=ol(r,2);o[0];var a=o[1],s=ol(i,2);s[0];var l=s[1];return a-l}).map(function(r){var i=ol(r,1),o=i[0];return o})},t.prototype.getSortModel=function(){return this.getColumnsWithSortingOrdered().filter(function(r){return r.getSort()}).map(function(r){return{sort:r.getSort(),colId:r.getId()}})},t.prototype.getSortOptions=function(){return this.getColumnsWithSortingOrdered().filter(function(r){return r.getSort()}).map(function(r){return{sort:r.getSort(),column:r}})},t.prototype.canColumnDisplayMixedSort=function(r){var i=this.gridOptionsService.isColumnsSortingCoupledToGroup(),o=!!r.getColDef().showRowGroup;return i&&o},t.prototype.getDisplaySortForColumn=function(r){var i=this.columnModel.getSourceColumnsForGroupColumn(r);if(!this.canColumnDisplayMixedSort(r)||!(i!=null&&i.length))return r.getSort();var o=r.getColDef().field!=null||!!r.getColDef().valueGetter,a=o?Vc([r],ol(i),!1):i,s=a[0].getSort(),l=a.every(function(u){return u.getSort()==s});return l?s:"mixed"},t.prototype.getDisplaySortIndexForColumn=function(r){return this.getIndexedSortMap().get(r)};var e;return t.DEFAULT_SORTING_ORDER=["asc","desc",null],j$([E("columnModel")],t.prototype,"columnModel",void 0),t=e=j$([ie("sortController")],t),t}(X),lTe=function(){var n=function(t,e){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])},n(t,e)};return function(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");n(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}}(),DC=function(){return DC=Object.assign||function(n){for(var t,e=1,r=arguments.length;e<r;e++){t=arguments[e];for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(n[i]=t[i])}return n},DC.apply(this,arguments)},Yi=function(n,t,e,r){var i=arguments.length,o=i<3?t:r===null?r=Object.getOwnPropertyDescriptor(t,e):r,a;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(n,t,e,r);else for(var s=n.length-1;s>=0;s--)(a=n[s])&&(o=(i<3?a(o):i>3?a(t,e,o):a(t,e))||o);return i>3&&o&&Object.defineProperty(t,e,o),o},YX=function(n){lTe(t,n);function t(){return n!==null&&n.apply(this,arguments)||this}e=t,t.addKeyboardModeEvents=function(r){this.instanceCount>0||(r.addEventListener("keydown",e.toggleKeyboardMode),r.addEventListener("mousedown",e.toggleKeyboardMode))},t.removeKeyboardModeEvents=function(r){this.instanceCount>0||(r.addEventListener("keydown",e.toggleKeyboardMode),r.addEventListener("mousedown",e.toggleKeyboardMode))},t.toggleKeyboardMode=function(r){var i=e.keyboardModeActive,o=r.type==="keydown";o&&(r.ctrlKey||r.metaKey||r.altKey)||i!==o&&(e.keyboardModeActive=o)},t.unregisterGridCompController=function(r){e.removeKeyboardModeEvents(r)},t.prototype.init=function(){var r=this,i=this.clearFocusedCell.bind(this);this.addManagedListener(this.eventService,T.EVENT_COLUMN_PIVOT_MODE_CHANGED,i),this.addManagedListener(this.eventService,T.EVENT_NEW_COLUMNS_LOADED,this.onColumnEverythingChanged.bind(this)),this.addManagedListener(this.eventService,T.EVENT_COLUMN_GROUP_OPENED,i),this.addManagedListener(this.eventService,T.EVENT_COLUMN_ROW_GROUP_CHANGED,i),this.registerKeyboardFocusEvents(),this.ctrlsService.whenReady(function(o){r.gridCtrl=o.gridCtrl})},t.prototype.registerKeyboardFocusEvents=function(){var r=this.gridOptionsService.getDocument();e.addKeyboardModeEvents(r),e.instanceCount++,this.addDestroyFunc(function(){e.instanceCount--,e.unregisterGridCompController(r)})},t.prototype.onColumnEverythingChanged=function(){if(this.focusedCellPosition){var r=this.focusedCellPosition.column,i=this.columnModel.getGridColumn(r.getId());r!==i&&this.clearFocusedCell()}},t.prototype.isKeyboardMode=function(){return e.keyboardModeActive},t.prototype.getFocusCellToUseAfterRefresh=function(){var r=this.gridOptionsService.getDocument();return this.gridOptionsService.get("suppressFocusAfterRefresh")||!this.focusedCellPosition||this.isDomDataMissingInHierarchy(r.activeElement,kd.DOM_DATA_KEY_ROW_CTRL)?null:this.focusedCellPosition},t.prototype.getFocusHeaderToUseAfterRefresh=function(){var r=this.gridOptionsService.getDocument();return this.gridOptionsService.get("suppressFocusAfterRefresh")||!this.focusedHeaderPosition||this.isDomDataMissingInHierarchy(r.activeElement,jw.DOM_DATA_KEY_HEADER_CTRL)?null:this.focusedHeaderPosition},t.prototype.isDomDataMissingInHierarchy=function(r,i){for(var o=r;o;){var a=this.gridOptionsService.getDomData(o,i);if(a)return!1;o=o.parentNode}return!0},t.prototype.getFocusedCell=function(){return this.focusedCellPosition},t.prototype.shouldRestoreFocus=function(r){var i=this;return this.isCellRestoreFocused(r)?(setTimeout(function(){i.restoredFocusedCellPosition=null},0),!0):!1},t.prototype.isCellRestoreFocused=function(r){return this.restoredFocusedCellPosition==null?!1:this.cellPositionUtils.equals(r,this.restoredFocusedCellPosition)},t.prototype.setRestoreFocusedCell=function(r){this.getFrameworkOverrides().renderingEngine==="react"&&(this.restoredFocusedCellPosition=r)},t.prototype.getFocusEventParams=function(){var r=this.focusedCellPosition,i=r.rowIndex,o=r.rowPinned,a=r.column,s={rowIndex:i,rowPinned:o,column:a,isFullWidthCell:!1},l=this.rowRenderer.getRowByPosition({rowIndex:i,rowPinned:o});return l&&(s.isFullWidthCell=l.isFullWidth()),s},t.prototype.clearFocusedCell=function(){if(this.restoredFocusedCellPosition=null,this.focusedCellPosition!=null){var r=DC({type:T.EVENT_CELL_FOCUS_CLEARED},this.getFocusEventParams());this.focusedCellPosition=null,this.eventService.dispatchEvent(r)}},t.prototype.setFocusedCell=function(r){var i=r.column,o=r.rowIndex,a=r.rowPinned,s=r.forceBrowserFocus,l=s===void 0?!1:s,u=r.preventScrollOnBrowserFocus,c=u===void 0?!1:u,d=this.columnModel.getGridColumn(i);if(!d){this.focusedCellPosition=null;return}this.focusedCellPosition=d?{rowIndex:o,rowPinned:Kl(a),column:d}:null;var p=DC(DC({type:T.EVENT_CELL_FOCUSED},this.getFocusEventParams()),{forceBrowserFocus:l,preventScrollOnBrowserFocus:c,floating:null});this.eventService.dispatchEvent(p)},t.prototype.isCellFocused=function(r){return this.focusedCellPosition==null?!1:this.cellPositionUtils.equals(r,this.focusedCellPosition)},t.prototype.isRowNodeFocused=function(r){return this.isRowFocused(r.rowIndex,r.rowPinned)},t.prototype.isHeaderWrapperFocused=function(r){if(this.focusedHeaderPosition==null)return!1;var i=r.getColumnGroupChild(),o=r.getRowIndex(),a=r.getPinned(),s=this.focusedHeaderPosition,l=s.column,u=s.headerRowIndex;return i===l&&o===u&&a==l.getPinned()},t.prototype.clearFocusedHeader=function(){this.focusedHeaderPosition=null},t.prototype.getFocusedHeader=function(){return this.focusedHeaderPosition},t.prototype.setFocusedHeader=function(r,i){this.focusedHeaderPosition={headerRowIndex:r,column:i}},t.prototype.focusHeaderPosition=function(r){if(this.gridOptionsService.get("suppressHeaderFocus"))return!1;var i=r.direction,o=r.fromTab,a=r.allowUserOverride,s=r.event,l=r.fromCell,u=r.rowWithoutSpanValue,c=r.headerPosition;if(l&&this.filterManager.isAdvancedFilterHeaderActive())return this.focusAdvancedFilter(c);if(a){var d=this.getFocusedHeader(),p=this.headerNavigationService.getHeaderRowCount();if(o){var h=this.gridOptionsService.getCallback("tabToNextHeader");if(h){var f={backwards:i==="Before",previousHeaderPosition:d,nextHeaderPosition:c,headerRowCount:p};c=h(f)}}else{var h=this.gridOptionsService.getCallback("navigateToNextHeader");if(h&&s){var v={key:s.key,previousHeaderPosition:d,nextHeaderPosition:c,headerRowCount:p,event:s};c=h(v)}}}if(!c)return!1;if(c.headerRowIndex===-1)return this.filterManager.isAdvancedFilterHeaderActive()?this.focusAdvancedFilter(c):this.focusGridView(c.column);this.headerNavigationService.scrollToColumn(c.column,i);var g=this.ctrlsService.getHeaderRowContainerCtrl(c.column.getPinned()),y=g.focusHeader(c.headerRowIndex,c.column,s);return y&&(u!=null||l)&&this.headerNavigationService.setCurrentHeaderRowWithoutSpan(u??-1),y},t.prototype.focusFirstHeader=function(){var r=this.columnModel.getAllDisplayedColumns()[0];if(!r)return!1;r.getParent()&&(r=this.columnModel.getColumnGroupAtLevel(r,0));var i=this.headerPositionUtils.getHeaderIndexToFocus(r,0);return this.focusHeaderPosition({headerPosition:i,rowWithoutSpanValue:0})},t.prototype.focusLastHeader=function(r){var i=this.headerNavigationService.getHeaderRowCount()-1,o=xt(this.columnModel.getAllDisplayedColumns());return this.focusHeaderPosition({headerPosition:{headerRowIndex:i,column:o},rowWithoutSpanValue:-1,event:r})},t.prototype.focusPreviousFromFirstCell=function(r){return this.filterManager.isAdvancedFilterHeaderActive()?this.focusAdvancedFilter(null):this.focusLastHeader(r)},t.prototype.isAnyCellFocused=function(){return!!this.focusedCellPosition},t.prototype.isRowFocused=function(r,i){return this.focusedCellPosition==null?!1:this.focusedCellPosition.rowIndex===r&&this.focusedCellPosition.rowPinned===Kl(i)},t.prototype.findFocusableElements=function(r,i,o){o===void 0&&(o=!1);var a=oY,s=Yk;i&&(s+=", "+i),o&&(s+=', [tabindex="-1"]');var l=Array.prototype.slice.apply(r.querySelectorAll(a)).filter(function(d){return ca(d)}),u=Array.prototype.slice.apply(r.querySelectorAll(s));if(!u.length)return l;var c=function(d,p){return d.filter(function(h){return p.indexOf(h)===-1})};return c(l,u)},t.prototype.focusInto=function(r,i,o){i===void 0&&(i=!1),o===void 0&&(o=!1);var a=this.findFocusableElements(r,null,o),s=i?xt(a):a[0];return s?(s.focus({preventScroll:!0}),!0):!1},t.prototype.findFocusableElementBeforeTabGuard=function(r,i){if(!i)return null;var o=this.findFocusableElements(r),a=o.indexOf(i);if(a===-1)return null;for(var s=-1,l=a-1;l>=0;l--)if(o[l].classList.contains(Gh.TAB_GUARD_TOP)){s=l;break}return s<=0?null:o[s-1]},t.prototype.findNextFocusableElement=function(r,i,o){r===void 0&&(r=this.eGridDiv);var a=this.findFocusableElements(r,i?':not([tabindex="-1"])':null),s=this.gridOptionsService.getDocument(),l=s.activeElement,u;i?u=a.findIndex(function(d){return d.contains(l)}):u=a.indexOf(l);var c=u+(o?-1:1);return c<0||c>=a.length?null:a[c]},t.prototype.isTargetUnderManagedComponent=function(r,i){if(!i)return!1;var o=r.querySelectorAll(".".concat(au.FOCUS_MANAGED_CLASS));if(!o.length)return!1;for(var a=0;a<o.length;a++)if(o[a].contains(i))return!0;return!1},t.prototype.findTabbableParent=function(r,i){i===void 0&&(i=5);for(var o=0;r&&Db(r)===null&&++o<=i;)r=r.parentElement;return Db(r)===null?null:r},t.prototype.focusGridView=function(r,i){if(this.gridOptionsService.get("suppressCellFocus"))return i?this.gridOptionsService.get("suppressHeaderFocus")?this.focusNextGridCoreContainer(!0,!0):this.focusLastHeader():this.focusNextGridCoreContainer(!1);var o=i?this.rowPositionUtils.getLastRow():this.rowPositionUtils.getFirstRow();if(!o)return!1;var a=o.rowIndex,s=o.rowPinned,l=this.getFocusedHeader();if(!r&&l&&(r=l.column),a==null||!r)return!1;if(this.navigationService.ensureCellVisible({rowIndex:a,column:r,rowPinned:s}),this.setFocusedCell({rowIndex:a,column:r,rowPinned:Kl(s),forceBrowserFocus:!0}),this.rangeService){var u={rowIndex:a,rowPinned:s,column:r};this.rangeService.setRangeToCell(u)}return!0},t.prototype.focusNextGridCoreContainer=function(r,i){return i===void 0&&(i=!1),!i&&this.gridCtrl.focusNextInnerContainer(r)?!0:((i||!r&&!this.gridCtrl.isDetailGrid())&&this.gridCtrl.forceFocusOutOfContainer(r),!1)},t.prototype.focusAdvancedFilter=function(r){return this.advancedFilterFocusColumn=r==null?void 0:r.column,this.advancedFilterService.getCtrl().focusHeaderComp()},t.prototype.focusNextFromAdvancedFilter=function(r,i){var o,a,s=(o=i?void 0:this.advancedFilterFocusColumn)!==null&&o!==void 0?o:(a=this.columnModel.getAllDisplayedColumns())===null||a===void 0?void 0:a[0];return r?this.focusHeaderPosition({headerPosition:{column:s,headerRowIndex:this.headerNavigationService.getHeaderRowCount()-1}}):this.focusGridView(s)},t.prototype.clearAdvancedFilterColumn=function(){this.advancedFilterFocusColumn=void 0};var e;return t.keyboardModeActive=!1,t.instanceCount=0,Yi([E("eGridDiv")],t.prototype,"eGridDiv",void 0),Yi([E("columnModel")],t.prototype,"columnModel",void 0),Yi([E("headerNavigationService")],t.prototype,"headerNavigationService",void 0),Yi([E("headerPositionUtils")],t.prototype,"headerPositionUtils",void 0),Yi([E("rowRenderer")],t.prototype,"rowRenderer",void 0),Yi([E("rowPositionUtils")],t.prototype,"rowPositionUtils",void 0),Yi([E("cellPositionUtils")],t.prototype,"cellPositionUtils",void 0),Yi([et("rangeService")],t.prototype,"rangeService",void 0),Yi([E("navigationService")],t.prototype,"navigationService",void 0),Yi([E("ctrlsService")],t.prototype,"ctrlsService",void 0),Yi([E("filterManager")],t.prototype,"filterManager",void 0),Yi([et("advancedFilterService")],t.prototype,"advancedFilterService",void 0),Yi([z],t.prototype,"init",null),t=e=Yi([ie("focusService")],t),t}(X),uTe=function(){var n=function(t,e){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])},n(t,e)};return function(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");n(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}}(),cTe=function(n,t,e,r){var i=arguments.length,o=i<3?t:r===null?r=Object.getOwnPropertyDescriptor(t,e):r,a;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(n,t,e,r);else for(var s=n.length-1;s>=0;s--)(a=n[s])&&(o=(i<3?a(o):i>3?a(t,e,o):a(t,e))||o);return i>3&&o&&Object.defineProperty(t,e,o),o},dTe=function(n){uTe(t,n);function t(){return n!==null&&n.apply(this,arguments)||this}return t.prototype.setMouseOver=function(e){this.selectedColumns=e;var r={type:T.EVENT_COLUMN_HOVER_CHANGED};this.eventService.dispatchEvent(r)},t.prototype.clearMouseOver=function(){this.selectedColumns=null;var e={type:T.EVENT_COLUMN_HOVER_CHANGED};this.eventService.dispatchEvent(e)},t.prototype.isHovered=function(e){return!!this.selectedColumns&&this.selectedColumns.indexOf(e)>=0},t=cTe([ie("columnHoverService")],t),t}(X),pTe=function(){var n=function(t,e){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])},n(t,e)};return function(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");n(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}}(),JA=function(n,t,e,r){var i=arguments.length,o=i<3?t:r===null?r=Object.getOwnPropertyDescriptor(t,e):r,a;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(n,t,e,r);else for(var s=n.length-1;s>=0;s--)(a=n[s])&&(o=(i<3?a(o):i>3?a(t,e,o):a(t,e))||o);return i>3&&o&&Object.defineProperty(t,e,o),o},hTe=function(n){pTe(t,n);function t(){var e=n!==null&&n.apply(this,arguments)||this;return e.executeNextFuncs=[],e.executeLaterFuncs=[],e.active=!1,e.suppressAnimation=!1,e.animationThreadCount=0,e}return t.prototype.postConstruct=function(){var e=this;this.ctrlsService.whenReady(function(r){return e.gridBodyCtrl=r.gridBodyCtrl})},t.prototype.isActive=function(){return this.active&&!this.suppressAnimation},t.prototype.setSuppressAnimation=function(e){this.suppressAnimation=e},t.prototype.start=function(){this.active||this.gridOptionsService.get("suppressColumnMoveAnimation")||this.gridOptionsService.get("enableRtl")||(this.ensureAnimationCssClassPresent(),this.active=!0)},t.prototype.finish=function(){var e=this;this.active&&this.flush(function(){e.active=!1})},t.prototype.executeNextVMTurn=function(e){this.active?this.executeNextFuncs.push(e):e()},t.prototype.executeLaterVMTurn=function(e){this.active?this.executeLaterFuncs.push(e):e()},t.prototype.ensureAnimationCssClassPresent=function(){var e=this;this.animationThreadCount++;var r=this.animationThreadCount;this.gridBodyCtrl.setColumnMovingCss(!0),this.executeLaterFuncs.push(function(){e.animationThreadCount===r&&e.gridBodyCtrl.setColumnMovingCss(!1)})},t.prototype.flush=function(e){var r=this;if(this.executeNextFuncs.length===0&&this.executeLaterFuncs.length===0){e();return}var i=function(o){for(;o.length;){var a=o.pop();a&&a()}};this.getFrameworkOverrides().wrapIncoming(function(){window.setTimeout(function(){return i(r.executeNextFuncs)},0),window.setTimeout(function(){i(r.executeLaterFuncs),e()},200)})},JA([E("ctrlsService")],t.prototype,"ctrlsService",void 0),JA([z],t.prototype,"postConstruct",null),t=JA([ie("columnAnimationService")],t),t}(X),fTe=function(){var n=function(t,e){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])},n(t,e)};return function(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");n(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}}(),m_=function(n,t,e,r){var i=arguments.length,o=i<3?t:r===null?r=Object.getOwnPropertyDescriptor(t,e):r,a;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(n,t,e,r);else for(var s=n.length-1;s>=0;s--)(a=n[s])&&(o=(i<3?a(o):i>3?a(t,e,o):a(t,e))||o);return i>3&&o&&Object.defineProperty(t,e,o),o},vTe=function(n){fTe(t,n);function t(){return n!==null&&n.apply(this,arguments)||this}return t.prototype.postConstruct=function(){var e=this;this.ctrlsService.whenReady(function(r){e.centerRowContainerCon=r.centerRowContainerCtrl,e.addManagedListener(e.eventService,T.EVENT_BODY_HEIGHT_CHANGED,e.checkPageSize.bind(e)),e.addManagedListener(e.eventService,T.EVENT_SCROLL_VISIBILITY_CHANGED,e.checkPageSize.bind(e)),e.addManagedPropertyListener("paginationAutoPageSize",e.onPaginationAutoSizeChanged.bind(e)),e.checkPageSize()})},t.prototype.notActive=function(){return!this.gridOptionsService.get("paginationAutoPageSize")||this.centerRowContainerCon==null},t.prototype.onPaginationAutoSizeChanged=function(){this.notActive()?this.paginationProxy.unsetAutoCalculatedPageSize():this.checkPageSize()},t.prototype.checkPageSize=function(){var e=this;if(!this.notActive()){var r=this.centerRowContainerCon.getViewportSizeFeature().getBodyHeight();if(r>0){var i=function(){var o=e.gridOptionsService.getRowHeightAsNumber(),a=Math.floor(r/o);e.paginationProxy.setPageSize(a,"autoCalculated")};this.isBodyRendered?ia(function(){return i()},50)():(i(),this.isBodyRendered=!0)}else this.isBodyRendered=!1}},m_([E("ctrlsService")],t.prototype,"ctrlsService",void 0),m_([E("paginationProxy")],t.prototype,"paginationProxy",void 0),m_([z],t.prototype,"postConstruct",null),t=m_([ie("paginationAutoPageSizeService")],t),t}(X),gTe=function(){var n=function(t,e){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])},n(t,e)};return function(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");n(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}}(),$$=function(n,t,e,r){var i=arguments.length,o=i<3?t:r===null?r=Object.getOwnPropertyDescriptor(t,e):r,a;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(n,t,e,r);else for(var s=n.length-1;s>=0;s--)(a=n[s])&&(o=(i<3?a(o):i>3?a(t,e,o):a(t,e))||o);return i>3&&o&&Object.defineProperty(t,e,o),o},XX=function(n){gTe(t,n);function t(){var e=n!==null&&n.apply(this,arguments)||this;return e.cacheVersion=0,e}return t.prototype.init=function(){this.active=this.gridOptionsService.get("valueCache"),this.neverExpires=this.gridOptionsService.get("valueCacheNeverExpires")},t.prototype.onDataChanged=function(){this.neverExpires||this.expire()},t.prototype.expire=function(){this.cacheVersion++},t.prototype.setValue=function(e,r,i){this.active&&(e.__cacheVersion!==this.cacheVersion&&(e.__cacheVersion=this.cacheVersion,e.__cacheData={}),e.__cacheData[r]=i)},t.prototype.getValue=function(e,r){if(!(!this.active||e.__cacheVersion!==this.cacheVersion))return e.__cacheData[r]},$$([z],t.prototype,"init",null),t=$$([ie("valueCache")],t),t}(X),yTe=function(){var n=function(t,e){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])},n(t,e)};return function(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");n(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}}(),C_=function(n,t,e,r){var i=arguments.length,o=i<3?t:r===null?r=Object.getOwnPropertyDescriptor(t,e):r,a;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(n,t,e,r);else for(var s=n.length-1;s>=0;s--)(a=n[s])&&(o=(i<3?a(o):i>3?a(t,e,o):a(t,e))||o);return i>3&&o&&Object.defineProperty(t,e,o),o},mTe="paste",CTe=function(n){yTe(t,n);function t(){return n!==null&&n.apply(this,arguments)||this}return t.prototype.init=function(){this.rowModel.getType()==="clientSide"&&(this.clientSideRowModel=this.rowModel),this.addManagedListener(this.eventService,T.EVENT_CELL_VALUE_CHANGED,this.onCellValueChanged.bind(this))},t.prototype.onCellValueChanged=function(e){e.source!==mTe&&this.doChangeDetection(e.node,e.column)},t.prototype.doChangeDetection=function(e,r){if(!this.gridOptionsService.get("suppressChangeDetection")){var i=[e];if(this.clientSideRowModel&&!e.isRowPinned()){var o=this.gridOptionsService.get("aggregateOnlyChangedColumns"),a=new Yg(o,this.clientSideRowModel.getRootNode());a.addParentNode(e.parent,[r]),this.clientSideRowModel.doAggregate(a),a.forEachChangedNodeDepthFirst(function(s){i.push(s)})}this.rowRenderer.refreshCells({rowNodes:i})}},C_([E("rowModel")],t.prototype,"rowModel",void 0),C_([E("rowRenderer")],t.prototype,"rowRenderer",void 0),C_([z],t.prototype,"init",null),t=C_([ie("changeDetectionService")],t),t}(X),STe=function(){var n=function(t,e){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])},n(t,e)};return function(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");n(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}}(),W$=function(n,t,e,r){var i=arguments.length,o=i<3?t:r===null?r=Object.getOwnPropertyDescriptor(t,e):r,a;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(n,t,e,r);else for(var s=n.length-1;s>=0;s--)(a=n[s])&&(o=(i<3?a(o):i>3?a(t,e,o):a(t,e))||o);return i>3&&o&&Object.defineProperty(t,e,o),o},wTe=function(n){STe(t,n);function t(){return n!==null&&n.apply(this,arguments)||this}return t.prototype.adaptFunction=function(e,r){var i=this.componentMetadataProvider.retrieve(e);return i&&i.functionAdapter?i.functionAdapter(r):null},t.prototype.adaptCellRendererFunction=function(e){var r=function(){function i(){}return i.prototype.refresh=function(o){return!1},i.prototype.getGui=function(){return this.eGui},i.prototype.init=function(o){var a=e(o),s=typeof a;if(s==="string"||s==="number"||s==="boolean"){this.eGui=fo("<span>"+a+"</span>");return}if(a==null){this.eGui=fo("<span></span>");return}this.eGui=a},i}();return r},t.prototype.doesImplementIComponent=function(e){return e?e.prototype&&"getGui"in e.prototype:!1},W$([E("componentMetadataProvider")],t.prototype,"componentMetadataProvider",void 0),t=W$([ie("agComponentUtils")],t),t}(X),_Te=function(){var n=function(t,e){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])},n(t,e)};return function(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");n(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}}(),eD=function(n,t,e,r){var i=arguments.length,o=i<3?t:r===null?r=Object.getOwnPropertyDescriptor(t,e):r,a;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(n,t,e,r);else for(var s=n.length-1;s>=0;s--)(a=n[s])&&(o=(i<3?a(o):i>3?a(t,e,o):a(t,e))||o);return i>3&&o&&Object.defineProperty(t,e,o),o},xTe=function(n){_Te(t,n);function t(){return n!==null&&n.apply(this,arguments)||this}return t.prototype.postConstruct=function(){this.componentMetaData={dateComponent:{mandatoryMethodList:["getDate","setDate"],optionalMethodList:["afterGuiAttached","setInputPlaceholder","setInputAriaLabel","setDisabled","onParamsUpdated","refresh"]},detailCellRenderer:{mandatoryMethodList:[],optionalMethodList:["refresh"],functionAdapter:this.agComponentUtils.adaptCellRendererFunction.bind(this.agComponentUtils)},headerComponent:{mandatoryMethodList:[],optionalMethodList:["refresh"]},headerGroupComponent:{mandatoryMethodList:[],optionalMethodList:[]},loadingCellRenderer:{mandatoryMethodList:[],optionalMethodList:[]},loadingOverlayComponent:{mandatoryMethodList:[],optionalMethodList:["refresh"]},noRowsOverlayComponent:{mandatoryMethodList:[],optionalMethodList:["refresh"]},floatingFilterComponent:{mandatoryMethodList:["onParentModelChanged"],optionalMethodList:["afterGuiAttached","onParamsUpdated","refresh"]},cellRenderer:{mandatoryMethodList:[],optionalMethodList:["refresh","afterGuiAttached"],functionAdapter:this.agComponentUtils.adaptCellRendererFunction.bind(this.agComponentUtils)},cellEditor:{mandatoryMethodList:["getValue"],optionalMethodList:["isPopup","isCancelBeforeStart","isCancelAfterEnd","getPopupPosition","focusIn","focusOut","afterGuiAttached","refresh"]},innerRenderer:{mandatoryMethodList:[],optionalMethodList:["afterGuiAttached"],functionAdapter:this.agComponentUtils.adaptCellRendererFunction.bind(this.agComponentUtils)},fullWidthCellRenderer:{mandatoryMethodList:[],optionalMethodList:["refresh","afterGuiAttached"],functionAdapter:this.agComponentUtils.adaptCellRendererFunction.bind(this.agComponentUtils)},groupRowRenderer:{mandatoryMethodList:[],optionalMethodList:["afterGuiAttached"],functionAdapter:this.agComponentUtils.adaptCellRendererFunction.bind(this.agComponentUtils)},filter:{mandatoryMethodList:["isFilterActive","doesFilterPass","getModel","setModel"],optionalMethodList:["afterGuiAttached","afterGuiDetached","onNewRowsLoaded","getModelAsString","onFloatingFilterChanged","onAnyFilterChanged","refresh"]},statusPanel:{mandatoryMethodList:[],optionalMethodList:["refresh"]},toolPanel:{mandatoryMethodList:[],optionalMethodList:["refresh","getState"]},tooltipComponent:{mandatoryMethodList:[],optionalMethodList:[]},menuItem:{mandatoryMethodList:[],optionalMethodList:["setActive","select","setExpanded","configureDefaults"]}}},t.prototype.retrieve=function(e){return this.componentMetaData[e]},eD([E("agComponentUtils")],t.prototype,"agComponentUtils",void 0),eD([z],t.prototype,"postConstruct",null),t=eD([ie("componentMetadataProvider")],t),t}(X),ETe=function(){var n=function(t,e){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])},n(t,e)};return function(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");n(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}}(),tD=function(n,t,e,r){var i=arguments.length,o=i<3?t:r===null?r=Object.getOwnPropertyDescriptor(t,e):r,a;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(n,t,e,r);else for(var s=n.length-1;s>=0;s--)(a=n[s])&&(o=(i<3?a(o):i>3?a(t,e,o):a(t,e))||o);return i>3&&o&&Object.defineProperty(t,e,o),o},bTe=function(n,t){var e=typeof Symbol=="function"&&n[Symbol.iterator];if(!e)return n;var r=e.call(n),i,o=[],a;try{for(;(t===void 0||t-- >0)&&!(i=r.next()).done;)o.push(i.value)}catch(s){a={error:s}}finally{try{i&&!i.done&&(e=r.return)&&e.call(r)}finally{if(a)throw a.error}}return o},OTe=function(n,t,e){if(e||arguments.length===2)for(var r=0,i=t.length,o;r<i;r++)(o||!(r in t))&&(o||(o=Array.prototype.slice.call(t,0,r)),o[r]=t[r]);return n.concat(o||Array.prototype.slice.call(t))},RTe=25,U$=10,rD=8,TTe=4,nD=4,iD=6,PTe=16,z$=14,oD=8,ATe={"ag-theme-custom":{headerHeight:25,headerCellMinWidth:24,listItemHeight:TTe*5,rowHeight:25,chartMenuPanelWidth:220},"ag-theme-material":{headerHeight:rD*7,headerCellMinWidth:48,listItemHeight:rD*4,rowHeight:rD*6,chartMenuPanelWidth:240},"ag-theme-balham":{headerHeight:nD*8,headerCellMinWidth:24,listItemHeight:nD*6,rowHeight:nD*7,chartMenuPanelWidth:220},"ag-theme-alpine":{headerHeight:iD*8,headerCellMinWidth:36,listItemHeight:iD*4,rowHeight:iD*7,chartMenuPanelWidth:240},"ag-theme-quartz":{headerHeight:z$+oD*4.25,headerCellMinWidth:36,listItemHeight:PTe+oD,rowHeight:z$+oD*3.5,chartMenuPanelWidth:260}},K$={headerHeight:["ag-header-row"],headerCellMinWidth:["ag-header-cell"],listItemHeight:["ag-virtual-list-item"],rowHeight:["ag-row"],chartMenuPanelWidth:["ag-chart-docked-container"]},qX=function(n){ETe(t,n);function t(){var e=n!==null&&n.apply(this,arguments)||this;return e.calculatedSizes={},e}return t.prototype.postConstruct=function(){var e=this,r,i=(r=this.getTheme().el)!==null&&r!==void 0?r:this.eGridDiv;this.addManagedPropertyListener("rowHeight",function(){return e.refreshRowHeightVariable()}),this.mutationObserver=new MutationObserver(function(){e.calculatedSizes={},e.fireGridStylesChangedEvent()}),this.mutationObserver.observe(i||this.eGridDiv,{attributes:!0,attributeFilter:["class"]})},t.prototype.fireGridStylesChangedEvent=function(){var e={type:T.EVENT_GRID_STYLES_CHANGED};this.eventService.dispatchEvent(e)},t.prototype.getSassVariable=function(e){var r=this.getTheme(),i=r.themeFamily,o=r.el;if(!(!i||i.indexOf("ag-theme")!==0)){this.calculatedSizes||(this.calculatedSizes={}),this.calculatedSizes[i]||(this.calculatedSizes[i]={});var a=this.calculatedSizes[i][e];return a??(this.calculatedSizes[i][e]=this.calculateValueForSassProperty(e,i,o),this.calculatedSizes[i][e])}},t.prototype.calculateValueForSassProperty=function(e,r,i){var o,a="ag-theme-"+(r.match("material")?"material":r.match("balham")?"balham":r.match("alpine")?"alpine":"custom"),s=ATe[a][e],l=this.gridOptionsService.getDocument();if(i||(i=this.eGridDiv),!K$[e])return s;var u=K$[e],c=l.createElement("div"),d=Array.from(i.classList);(o=c.classList).add.apply(o,OTe([r],bTe(d),!1)),c.style.position="absolute";var p=u.reduce(function(v,g){var y=l.createElement("div");return y.style.position="static",y.classList.add(g),v.appendChild(y),y},c),h=0;if(l.body){l.body.appendChild(c);var f=e.toLowerCase().indexOf("height")!==-1?"height":"width";h=parseInt(window.getComputedStyle(p)[f],10),l.body.removeChild(c)}return h||s},t.prototype.isThemeDark=function(){var e=this.getTheme().theme;return!!e&&e.indexOf("dark")>=0},t.prototype.chartMenuPanelWidth=function(){return this.getSassVariable("chartMenuPanelWidth")},t.prototype.getTheme=function(){for(var e=/\bag-(material|(?:theme-([\w\-]*)))\b/g,r=this.eGridDiv,i=null,o=[];r;)if(i=e.exec(r.className),!i)r=r.parentElement||void 0;else{var a=r.className.match(e);a&&(o=a);break}if(!i)return{allThemes:o};var s=i[0];return{theme:s,el:r,themeFamily:s.replace(/-dark$/,""),allThemes:o}},t.prototype.getFromTheme=function(e,r){var i;return(i=this.getSassVariable(r))!==null&&i!==void 0?i:e},t.prototype.getDefaultRowHeight=function(){return this.getFromTheme(RTe,"rowHeight")},t.prototype.getListItemHeight=function(){return this.getFromTheme(20,"listItemHeight")},t.prototype.refreshRowHeightVariable=function(){var e=this.eGridDiv.style.getPropertyValue("--ag-line-height").trim(),r=this.gridOptionsService.get("rowHeight");if(r==null||isNaN(r)||!isFinite(r))return e!==null&&this.eGridDiv.style.setProperty("--ag-line-height",null),-1;var i="".concat(r,"px");return e!=i?(this.eGridDiv.style.setProperty("--ag-line-height",i),r):e!=""?parseFloat(e):-1},t.prototype.getMinColWidth=function(){var e=this.getFromTheme(null,"headerCellMinWidth");return oe(e)?Math.max(e,U$):U$},t.prototype.destroy=function(){this.calculatedSizes=null,this.mutationObserver&&this.mutationObserver.disconnect(),n.prototype.destroy.call(this)},tD([E("eGridDiv")],t.prototype,"eGridDiv",void 0),tD([z],t.prototype,"postConstruct",null),t=tD([ie("environment")],t),t}(X),DTe=function(){var n=function(t,e){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])},n(t,e)};return function(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");n(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}}(),S_=function(n,t,e,r){var i=arguments.length,o=i<3?t:r===null?r=Object.getOwnPropertyDescriptor(t,e):r,a;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(n,t,e,r);else for(var s=n.length-1;s>=0;s--)(a=n[s])&&(o=(i<3?a(o):i>3?a(t,e,o):a(t,e))||o);return i>3&&o&&Object.defineProperty(t,e,o),o},MTe=function(n,t){return function(e,r){t(e,r,n)}},LTe=function(n){DTe(t,n);function t(){var e=n!==null&&n.apply(this,arguments)||this;return e.scrollY=0,e.uiBodyHeight=0,e}return t.prototype.agWire=function(e){this.logger=e.create("RowContainerHeightService")},t.prototype.postConstruct=function(){this.addManagedListener(this.eventService,T.EVENT_BODY_HEIGHT_CHANGED,this.updateOffset.bind(this)),this.maxDivHeight=J7(),this.logger.log("maxDivHeight = "+this.maxDivHeight)},t.prototype.isStretching=function(){return this.stretching},t.prototype.getDivStretchOffset=function(){return this.divStretchOffset},t.prototype.updateOffset=function(){if(this.stretching){var e=this.ctrlsService.getGridBodyCtrl(),r=e.getScrollFeature().getVScrollPosition().top,i=this.getUiBodyHeight(),o=r!==this.scrollY||i!==this.uiBodyHeight;o&&(this.scrollY=r,this.uiBodyHeight=i,this.calculateOffset())}},t.prototype.calculateOffset=function(){this.setUiContainerHeight(this.maxDivHeight),this.pixelsToShave=this.modelHeight-this.uiContainerHeight,this.maxScrollY=this.uiContainerHeight-this.uiBodyHeight;var e=this.scrollY/this.maxScrollY,r=e*this.pixelsToShave;this.logger.log("Div Stretch Offset = ".concat(r," (").concat(this.pixelsToShave," * ").concat(e,")")),this.setDivStretchOffset(r)},t.prototype.setUiContainerHeight=function(e){e!==this.uiContainerHeight&&(this.uiContainerHeight=e,this.eventService.dispatchEvent({type:T.EVENT_ROW_CONTAINER_HEIGHT_CHANGED}))},t.prototype.clearOffset=function(){this.setUiContainerHeight(this.modelHeight),this.pixelsToShave=0,this.setDivStretchOffset(0)},t.prototype.setDivStretchOffset=function(e){var r=typeof e=="number"?Math.floor(e):null;this.divStretchOffset!==r&&(this.divStretchOffset=r,this.eventService.dispatchEvent({type:T.EVENT_HEIGHT_SCALE_CHANGED}))},t.prototype.setModelHeight=function(e){this.modelHeight=e,this.stretching=e!=null&&this.maxDivHeight>0&&e>this.maxDivHeight,this.stretching?this.calculateOffset():this.clearOffset()},t.prototype.getUiContainerHeight=function(){return this.uiContainerHeight},t.prototype.getRealPixelPosition=function(e){return e-this.divStretchOffset},t.prototype.getUiBodyHeight=function(){var e=this.ctrlsService.getGridBodyCtrl(),r=e.getScrollFeature().getVScrollPosition();return r.bottom-r.top},t.prototype.getScrollPositionForPixel=function(e){if(this.pixelsToShave<=0)return e;var r=this.modelHeight-this.getUiBodyHeight(),i=e/r,o=this.maxScrollY*i;return o},S_([E("ctrlsService")],t.prototype,"ctrlsService",void 0),S_([MTe(0,oa("loggerFactory"))],t.prototype,"agWire",null),S_([z],t.prototype,"postConstruct",null),t=S_([ie("rowContainerHeightService")],t),t}(X),FTe=function(){var n=function(t,e){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])},n(t,e)};return function(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");n(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}}(),w_=function(n,t,e,r){var i=arguments.length,o=i<3?t:r===null?r=Object.getOwnPropertyDescriptor(t,e):r,a;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(n,t,e,r);else for(var s=n.length-1;s>=0;s--)(a=n[s])&&(o=(i<3?a(o):i>3?a(t,e,o):a(t,e))||o);return i>3&&o&&Object.defineProperty(t,e,o),o},ZX=function(n){FTe(t,n);function t(){return n!==null&&n.apply(this,arguments)||this}return t.prototype.init=function(){var e=this;this.addManagedPropertyListener("isRowSelectable",function(){return e.updateSelectable()})},t.prototype.updateSelectableAfterGrouping=function(){this.updateSelectable(!0)},t.prototype.updateSelectable=function(e){e===void 0&&(e=!1);var r=!!this.gridOptionsService.get("rowSelection"),i=this.gridOptionsService.get("isRowSelectable");if(!(!r||!i)){var o=this.gridOptionsService.get("groupSelectsChildren"),a=this.rowModel.getType()==="clientSide"&&o,s=[],l=function(d){if(!(e&&!d.group)){if(a&&d.group){var p=d.childrenAfterGroup.some(function(f){return f.selectable===!0});d.setRowSelectable(p,!0);return}var h=i?i(d):!0;d.setRowSelectable(h,!0),!h&&d.isSelected()&&s.push(d)}};if(a){var u=this.rowModel,c=new Yg(!1,u.getRootNode());c.forEachChangedNodeDepthFirst(l,!0,!0)}else this.rowModel.forEachNode(l);s.length&&this.selectionService.setNodesSelected({nodes:s,newValue:!1,source:"selectableChanged"}),a&&this.selectionService instanceof HX&&this.selectionService.updateGroupsFromChildrenSelections("selectableChanged")}},w_([E("rowModel")],t.prototype,"rowModel",void 0),w_([E("selectionService")],t.prototype,"selectionService",void 0),w_([z],t.prototype,"init",null),t=w_([ie("selectableService")],t),t}(X),ITe=function(){var n=function(t,e){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])},n(t,e)};return function(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");n(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}}(),Lo=function(n,t,e,r){var i=arguments.length,o=i<3?t:r===null?r=Object.getOwnPropertyDescriptor(t,e):r,a;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(n,t,e,r);else for(var s=n.length-1;s>=0;s--)(a=n[s])&&(o=(i<3?a(o):i>3?a(t,e,o):a(t,e))||o);return i>3&&o&&Object.defineProperty(t,e,o),o},NTe=function(n){ITe(t,n);function t(){var e=n.call(this)||this;return e.previousAndFirstButtonsDisabled=!1,e.nextButtonDisabled=!1,e.lastButtonDisabled=!1,e.areListenersSetup=!1,e}return t.prototype.postConstruct=function(){var e=this,r=this.gridOptionsService.get("enableRtl");this.setTemplate(this.getTemplate());var i=this,o=i.btFirst,a=i.btPrevious,s=i.btNext,l=i.btLast;i.pageSizeComp,this.activateTabIndex([o,a,s,l]),o.insertAdjacentElement("afterbegin",Qr(r?"last":"first",this.gridOptionsService)),a.insertAdjacentElement("afterbegin",Qr(r?"next":"previous",this.gridOptionsService)),s.insertAdjacentElement("afterbegin",Qr(r?"previous":"next",this.gridOptionsService)),l.insertAdjacentElement("afterbegin",Qr(r?"first":"last",this.gridOptionsService)),this.addManagedPropertyListener("pagination",this.onPaginationChanged.bind(this)),this.addManagedPropertyListener("suppressPaginationPanel",this.onPaginationChanged.bind(this)),this.addManagedPropertyListeners(["paginationPageSizeSelector","paginationAutoPageSize","suppressPaginationPanel"],function(){return e.onPageSizeRelatedOptionsChange()}),this.pageSizeComp.toggleSelectDisplay(this.pageSizeComp.shouldShowPageSizeSelector()),this.onPaginationChanged()},t.prototype.onPaginationChanged=function(){var e=this.gridOptionsService.get("pagination"),r=e&&!this.gridOptionsService.get("suppressPaginationPanel");this.setDisplayed(r),r&&(this.setupListeners(),this.enableOrDisableButtons(),this.updateRowLabels(),this.setCurrentPageLabel(),this.setTotalLabels(),this.onPageSizeRelatedOptionsChange())},t.prototype.onPageSizeRelatedOptionsChange=function(){this.pageSizeComp.toggleSelectDisplay(this.pageSizeComp.shouldShowPageSizeSelector())},t.prototype.setupListeners=function(){var e=this;this.areListenersSetup||(this.addManagedListener(this.eventService,T.EVENT_PAGINATION_CHANGED,this.onPaginationChanged.bind(this)),[{el:this.btFirst,fn:this.onBtFirst.bind(this)},{el:this.btPrevious,fn:this.onBtPrevious.bind(this)},{el:this.btNext,fn:this.onBtNext.bind(this)},{el:this.btLast,fn:this.onBtLast.bind(this)}].forEach(function(r){var i=r.el,o=r.fn;e.addManagedListener(i,"click",o),e.addManagedListener(i,"keydown",function(a){(a.key===U.ENTER||a.key===U.SPACE)&&(a.preventDefault(),o())})}),this.areListenersSetup=!0)},t.prototype.onBtFirst=function(){this.previousAndFirstButtonsDisabled||this.paginationProxy.goToFirstPage()},t.prototype.setCurrentPageLabel=function(){var e=this.paginationProxy.getTotalPages()>0,r=this.paginationProxy.getCurrentPage(),i=e?r+1:0;this.lbCurrent.textContent=this.formatNumber(i)},t.prototype.formatNumber=function(e){var r=this.gridOptionsService.getCallback("paginationNumberFormatter");if(r){var i={value:e};return r(i)}var o=this.localeService.getLocaleTextFunc(),a=o("thousandSeparator",","),s=o("decimalSeparator",".");return Kk(e,a,s)},t.prototype.getTemplate=function(){var e=this.localeService.getLocaleTextFunc(),r=e("page","Page"),i=e("to","to"),o=e("of","of"),a=e("firstPage","First Page"),s=e("previousPage","Previous Page"),l=e("nextPage","Next Page"),u=e("lastPage","Last Page"),c=this.getCompId();return'<div class="ag-paging-panel ag-unselectable" id="ag-'.concat(c,`">
                <ag-page-size-selector ref="pageSizeComp"></ag-page-size-selector>
                <span class="ag-paging-row-summary-panel" role="status">
                    <span id="ag-`).concat(c,`-first-row" ref="lbFirstRowOnPage" class="ag-paging-row-summary-panel-number"></span>
                    <span id="ag-`).concat(c,'-to">').concat(i,`</span>
                    <span id="ag-`).concat(c,`-last-row" ref="lbLastRowOnPage" class="ag-paging-row-summary-panel-number"></span>
                    <span id="ag-`).concat(c,'-of">').concat(o,`</span>
                    <span id="ag-`).concat(c,`-row-count" ref="lbRecordCount" class="ag-paging-row-summary-panel-number"></span>
                </span>
                <span class="ag-paging-page-summary-panel" role="presentation">
                    <div ref="btFirst" class="ag-button ag-paging-button" role="button" aria-label="`).concat(a,`"></div>
                    <div ref="btPrevious" class="ag-button ag-paging-button" role="button" aria-label="`).concat(s,`"></div>
                    <span class="ag-paging-description" role="status">
                        <span id="ag-`).concat(c,'-start-page">').concat(r,`</span>
                        <span id="ag-`).concat(c,`-start-page-number" ref="lbCurrent" class="ag-paging-number"></span>
                        <span id="ag-`).concat(c,'-of-page">').concat(o,`</span>
                        <span id="ag-`).concat(c,`-of-page-number" ref="lbTotal" class="ag-paging-number"></span>
                    </span>
                    <div ref="btNext" class="ag-button ag-paging-button" role="button" aria-label="`).concat(l,`"></div>
                    <div ref="btLast" class="ag-button ag-paging-button" role="button" aria-label="`).concat(u,`"></div>
                </span>
            </div>`)},t.prototype.onBtNext=function(){this.nextButtonDisabled||this.paginationProxy.goToNextPage()},t.prototype.onBtPrevious=function(){this.previousAndFirstButtonsDisabled||this.paginationProxy.goToPreviousPage()},t.prototype.onBtLast=function(){this.lastButtonDisabled||this.paginationProxy.goToLastPage()},t.prototype.enableOrDisableButtons=function(){var e=this.paginationProxy.getCurrentPage(),r=this.paginationProxy.isLastPageFound(),i=this.paginationProxy.getTotalPages();this.previousAndFirstButtonsDisabled=e===0,this.toggleButtonDisabled(this.btFirst,this.previousAndFirstButtonsDisabled),this.toggleButtonDisabled(this.btPrevious,this.previousAndFirstButtonsDisabled);var o=this.isZeroPagesToDisplay(),a=e===i-1;this.nextButtonDisabled=a||o,this.lastButtonDisabled=!r||o||e===i-1,this.toggleButtonDisabled(this.btNext,this.nextButtonDisabled),this.toggleButtonDisabled(this.btLast,this.lastButtonDisabled)},t.prototype.toggleButtonDisabled=function(e,r){Fk(e,r),e.classList.toggle("ag-disabled",r)},t.prototype.updateRowLabels=function(){var e=this.paginationProxy.getCurrentPage(),r=this.paginationProxy.getPageSize(),i=this.paginationProxy.isLastPageFound(),o=this.paginationProxy.isLastPageFound()?this.paginationProxy.getMasterRowCount():null,a,s;if(this.isZeroPagesToDisplay()?a=s=0:(a=r*e+1,s=a+r-1,i&&s>o&&(s=o)),this.lbFirstRowOnPage.textContent=this.formatNumber(a),this.rowNodeBlockLoader.isLoading()){var l=this.localeService.getLocaleTextFunc();this.lbLastRowOnPage.innerHTML=l("pageLastRowUnknown","?")}else this.lbLastRowOnPage.textContent=this.formatNumber(s)},t.prototype.isZeroPagesToDisplay=function(){var e=this.paginationProxy.isLastPageFound(),r=this.paginationProxy.getTotalPages();return e&&r===0},t.prototype.setTotalLabels=function(){var e=this.paginationProxy.isLastPageFound(),r=this.paginationProxy.getTotalPages(),i=e?this.paginationProxy.getMasterRowCount():null;if(i===1){var o=this.paginationProxy.getRow(0),a=o&&o.group&&!(o.groupData||o.aggData);if(a){this.setTotalLabelsToZero();return}}if(e)this.lbTotal.textContent=this.formatNumber(r),this.lbRecordCount.textContent=this.formatNumber(i);else{var s=this.localeService.getLocaleTextFunc()("more","more");this.lbTotal.innerHTML=s,this.lbRecordCount.innerHTML=s}},t.prototype.setTotalLabelsToZero=function(){this.lbFirstRowOnPage.textContent=this.formatNumber(0),this.lbCurrent.textContent=this.formatNumber(0),this.lbLastRowOnPage.textContent=this.formatNumber(0),this.lbTotal.textContent=this.formatNumber(0),this.lbRecordCount.textContent=this.formatNumber(0)},Lo([E("paginationProxy")],t.prototype,"paginationProxy",void 0),Lo([E("rowNodeBlockLoader")],t.prototype,"rowNodeBlockLoader",void 0),Lo([j("btFirst")],t.prototype,"btFirst",void 0),Lo([j("btPrevious")],t.prototype,"btPrevious",void 0),Lo([j("btNext")],t.prototype,"btNext",void 0),Lo([j("btLast")],t.prototype,"btLast",void 0),Lo([j("lbRecordCount")],t.prototype,"lbRecordCount",void 0),Lo([j("lbFirstRowOnPage")],t.prototype,"lbFirstRowOnPage",void 0),Lo([j("lbLastRowOnPage")],t.prototype,"lbLastRowOnPage",void 0),Lo([j("lbCurrent")],t.prototype,"lbCurrent",void 0),Lo([j("lbTotal")],t.prototype,"lbTotal",void 0),Lo([j("pageSizeComp")],t.prototype,"pageSizeComp",void 0),Lo([z],t.prototype,"postConstruct",null),t}(ae),kTe=function(){var n=function(t,e){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])},n(t,e)};return function(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");n(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}}(),aD=function(n,t,e,r){var i=arguments.length,o=i<3?t:r===null?r=Object.getOwnPropertyDescriptor(t,e):r,a;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(n,t,e,r);else for(var s=n.length-1;s>=0;s--)(a=n[s])&&(o=(i<3?a(o):i>3?a(t,e,o):a(t,e))||o);return i>3&&o&&Object.defineProperty(t,e,o),o},GTe=function(n){kTe(t,n);function t(){var e=n.call(this,t.TEMPLATE)||this;return e.inProgress=!1,e.destroyRequested=!1,e}return t.prototype.updateLayoutClasses=function(e,r){var i=this.eOverlayWrapper.classList;i.toggle(Xr.AUTO_HEIGHT,r.autoHeight),i.toggle(Xr.NORMAL,r.normal),i.toggle(Xr.PRINT,r.print)},t.prototype.postConstruct=function(){this.createManagedBean(new gG(this)),this.setDisplayed(!1,{skipAriaHidden:!0}),this.overlayService.registerOverlayWrapperComp(this)},t.prototype.setWrapperTypeClass=function(e){var r=this.eOverlayWrapper.classList;this.activeOverlayWrapperCssClass&&r.toggle(this.activeOverlayWrapperCssClass,!1),this.activeOverlayWrapperCssClass=e,r.toggle(e,!0)},t.prototype.showOverlay=function(e,r,i){var o=this;this.inProgress||(this.setWrapperTypeClass(r),this.destroyActiveOverlay(),this.inProgress=!0,e&&e.then(function(a){o.inProgress=!1,o.eOverlayWrapper.appendChild(a.getGui()),o.activeOverlay=a,o.updateListenerDestroyFunc=i,o.destroyRequested&&(o.destroyRequested=!1,o.destroyActiveOverlay())}),this.setDisplayed(!0,{skipAriaHidden:!0}))},t.prototype.destroyActiveOverlay=function(){var e;if(this.inProgress){this.destroyRequested=!0;return}this.activeOverlay&&(this.activeOverlay=this.getContext().destroyBean(this.activeOverlay),(e=this.updateListenerDestroyFunc)===null||e===void 0||e.call(this),Rn(this.eOverlayWrapper))},t.prototype.hideOverlay=function(){this.destroyActiveOverlay(),this.setDisplayed(!1,{skipAriaHidden:!0})},t.prototype.destroy=function(){this.destroyActiveOverlay(),n.prototype.destroy.call(this)},t.TEMPLATE=`
        <div class="ag-overlay" role="presentation">
            <div class="ag-overlay-panel" role="presentation">
                <div class="ag-overlay-wrapper" ref="eOverlayWrapper" role="presentation"></div>
            </div>
        </div>`,aD([E("overlayService")],t.prototype,"overlayService",void 0),aD([j("eOverlayWrapper")],t.prototype,"eOverlayWrapper",void 0),aD([z],t.prototype,"postConstruct",null),t}(ae),VTe=function(){var n=function(t,e){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])},n(t,e)};return function(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");n(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}}(),__=function(n,t,e,r){var i=arguments.length,o=i<3?t:r===null?r=Object.getOwnPropertyDescriptor(t,e):r,a;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(n,t,e,r);else for(var s=n.length-1;s>=0;s--)(a=n[s])&&(o=(i<3?a(o):i>3?a(t,e,o):a(t,e))||o);return i>3&&o&&Object.defineProperty(t,e,o),o},QX=function(n){VTe(t,n);function t(){return n!==null&&n.apply(this,arguments)||this}return t.prototype.getFirstRow=function(){var e=0,r;return this.pinnedRowModel.getPinnedTopRowCount()?r="top":this.rowModel.getRowCount()?(r=null,e=this.paginationProxy.getPageFirstRow()):this.pinnedRowModel.getPinnedBottomRowCount()&&(r="bottom"),r===void 0?null:{rowIndex:e,rowPinned:r}},t.prototype.getLastRow=function(){var e,r=null,i=this.pinnedRowModel.getPinnedBottomRowCount(),o=this.pinnedRowModel.getPinnedTopRowCount();return i?(r="bottom",e=i-1):this.rowModel.getRowCount()?(r=null,e=this.paginationProxy.getPageLastRow()):o&&(r="top",e=o-1),e===void 0?null:{rowIndex:e,rowPinned:r}},t.prototype.getRowNode=function(e){switch(e.rowPinned){case"top":return this.pinnedRowModel.getPinnedTopRowData()[e.rowIndex];case"bottom":return this.pinnedRowModel.getPinnedBottomRowData()[e.rowIndex];default:return this.rowModel.getRow(e.rowIndex)}},t.prototype.sameRow=function(e,r){return!e&&!r?!0:e&&!r||!e&&r?!1:e.rowIndex===r.rowIndex&&e.rowPinned==r.rowPinned},t.prototype.before=function(e,r){switch(e.rowPinned){case"top":if(r.rowPinned!=="top")return!0;break;case"bottom":if(r.rowPinned!=="bottom")return!1;break;default:if(oe(r.rowPinned))return r.rowPinned!=="top";break}return e.rowIndex<r.rowIndex},t.prototype.rowMax=function(e){var r=this,i;return e.forEach(function(o){(i===void 0||r.before(i,o))&&(i=o)}),i},t.prototype.rowMin=function(e){var r=this,i;return e.forEach(function(o){(i===void 0||r.before(o,i))&&(i=o)}),i},__([E("rowModel")],t.prototype,"rowModel",void 0),__([E("pinnedRowModel")],t.prototype,"pinnedRowModel",void 0),__([E("paginationProxy")],t.prototype,"paginationProxy",void 0),t=__([ie("rowPositionUtils")],t),t}(X),BTe=function(){var n=function(t,e){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])},n(t,e)};return function(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");n(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}}(),HTe=function(n,t,e,r){var i=arguments.length,o=i<3?t:r===null?r=Object.getOwnPropertyDescriptor(t,e):r,a;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(n,t,e,r);else for(var s=n.length-1;s>=0;s--)(a=n[s])&&(o=(i<3?a(o):i>3?a(t,e,o):a(t,e))||o);return i>3&&o&&Object.defineProperty(t,e,o),o},JX=function(n){BTe(t,n);function t(){return n!==null&&n.apply(this,arguments)||this}return t.prototype.createId=function(e){var r=e.rowIndex,i=e.rowPinned,o=e.column;return this.createIdFromValues({rowIndex:r,column:o,rowPinned:i})},t.prototype.createIdFromValues=function(e){var r=e.rowIndex,i=e.rowPinned,o=e.column;return"".concat(r,".").concat(i??"null",".").concat(o.getId())},t.prototype.equals=function(e,r){var i=e.column===r.column,o=e.rowPinned===r.rowPinned,a=e.rowIndex===r.rowIndex;return i&&o&&a},t=HTe([ie("cellPositionUtils")],t),t}(X),jTe=function(){var n=function(t,e){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])},n(t,e)};return function(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");n(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}}(),Bm=function(){function n(t){this.cellValueChanges=t}return n}(),sD=function(n){jTe(t,n);function t(e,r,i,o){var a=n.call(this,e)||this;return a.initialRange=r,a.finalRange=i,a.ranges=o,a}return t}(Bm),Y$=function(){function n(t){this.actionStack=[],this.maxStackSize=t||n.DEFAULT_STACK_SIZE,this.actionStack=new Array(this.maxStackSize)}return n.prototype.pop=function(){return this.actionStack.pop()},n.prototype.push=function(t){var e=t.cellValueChanges&&t.cellValueChanges.length>0;e&&(this.actionStack.length===this.maxStackSize&&this.actionStack.shift(),this.actionStack.push(t))},n.prototype.clear=function(){this.actionStack=[]},n.prototype.getCurrentStackSize=function(){return this.actionStack.length},n.DEFAULT_STACK_SIZE=10,n}(),$Te=function(){var n=function(t,e){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])},n(t,e)};return function(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");n(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}}(),Wb=function(){return Wb=Object.assign||function(n){for(var t,e=1,r=arguments.length;e<r;e++){t=arguments[e];for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(n[i]=t[i])}return n},Wb.apply(this,arguments)},al=function(n,t,e,r){var i=arguments.length,o=i<3?t:r===null?r=Object.getOwnPropertyDescriptor(t,e):r,a;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(n,t,e,r);else for(var s=n.length-1;s>=0;s--)(a=n[s])&&(o=(i<3?a(o):i>3?a(t,e,o):a(t,e))||o);return i>3&&o&&Object.defineProperty(t,e,o),o},WTe=function(n,t){var e=typeof Symbol=="function"&&n[Symbol.iterator];if(!e)return n;var r=e.call(n),i,o=[],a;try{for(;(t===void 0||t-- >0)&&!(i=r.next()).done;)o.push(i.value)}catch(s){a={error:s}}finally{try{i&&!i.done&&(e=r.return)&&e.call(r)}finally{if(a)throw a.error}}return o},UTe=function(n,t,e){if(e||arguments.length===2)for(var r=0,i=t.length,o;r<i;r++)(o||!(r in t))&&(o||(o=Array.prototype.slice.call(t,0,r)),o[r]=t[r]);return n.concat(o||Array.prototype.slice.call(t))},zTe=function(n){$Te(t,n);function t(){var e=n!==null&&n.apply(this,arguments)||this;return e.cellValueChanges=[],e.activeCellEdit=null,e.activeRowEdit=null,e.isPasting=!1,e.isRangeInAction=!1,e.onCellValueChanged=function(r){var i={column:r.column,rowIndex:r.rowIndex,rowPinned:r.rowPinned},o=e.activeCellEdit!==null&&e.cellPositionUtils.equals(e.activeCellEdit,i),a=e.activeRowEdit!==null&&e.rowPositionUtils.sameRow(e.activeRowEdit,i),s=o||a||e.isPasting||e.isRangeInAction;if(s){var l=r.rowPinned,u=r.rowIndex,c=r.column,d=r.oldValue,p=r.value,h={rowPinned:l,rowIndex:u,columnId:c.getColId(),newValue:p,oldValue:d};e.cellValueChanges.push(h)}},e.clearStacks=function(){e.undoStack.clear(),e.redoStack.clear()},e}return t.prototype.init=function(){var e=this;if(this.gridOptionsService.get("undoRedoCellEditing")){var r=this.gridOptionsService.get("undoRedoCellEditingLimit");r<=0||(this.undoStack=new Y$(r),this.redoStack=new Y$(r),this.addRowEditingListeners(),this.addCellEditingListeners(),this.addPasteListeners(),this.addFillListeners(),this.addCellKeyListeners(),this.addManagedListener(this.eventService,T.EVENT_CELL_VALUE_CHANGED,this.onCellValueChanged),this.addManagedListener(this.eventService,T.EVENT_MODEL_UPDATED,function(i){i.keepUndoRedoStack||e.clearStacks()}),this.addManagedListener(this.eventService,T.EVENT_COLUMN_PIVOT_MODE_CHANGED,this.clearStacks),this.addManagedListener(this.eventService,T.EVENT_NEW_COLUMNS_LOADED,this.clearStacks),this.addManagedListener(this.eventService,T.EVENT_COLUMN_GROUP_OPENED,this.clearStacks),this.addManagedListener(this.eventService,T.EVENT_COLUMN_ROW_GROUP_CHANGED,this.clearStacks),this.addManagedListener(this.eventService,T.EVENT_COLUMN_MOVED,this.clearStacks),this.addManagedListener(this.eventService,T.EVENT_COLUMN_PINNED,this.clearStacks),this.addManagedListener(this.eventService,T.EVENT_COLUMN_VISIBLE,this.clearStacks),this.addManagedListener(this.eventService,T.EVENT_ROW_DRAG_END,this.clearStacks),this.ctrlsService.whenReady(function(){e.gridBodyCtrl=e.ctrlsService.getGridBodyCtrl()}))}},t.prototype.getCurrentUndoStackSize=function(){return this.undoStack?this.undoStack.getCurrentStackSize():0},t.prototype.getCurrentRedoStackSize=function(){return this.redoStack?this.redoStack.getCurrentStackSize():0},t.prototype.undo=function(e){var r={type:T.EVENT_UNDO_STARTED,source:e};this.eventService.dispatchEvent(r);var i=this.undoRedo(this.undoStack,this.redoStack,"initialRange","oldValue","undo"),o={type:T.EVENT_UNDO_ENDED,source:e,operationPerformed:i};this.eventService.dispatchEvent(o)},t.prototype.redo=function(e){var r={type:T.EVENT_REDO_STARTED,source:e};this.eventService.dispatchEvent(r);var i=this.undoRedo(this.redoStack,this.undoStack,"finalRange","newValue","redo"),o={type:T.EVENT_REDO_ENDED,source:e,operationPerformed:i};this.eventService.dispatchEvent(o)},t.prototype.undoRedo=function(e,r,i,o,a){if(!e)return!1;var s=e.pop();return!s||!s.cellValueChanges?!1:(this.processAction(s,function(l){return l[o]},a),s instanceof sD?this.processRange(s.ranges||[s[i]]):this.processCell(s.cellValueChanges),r.push(s),!0)},t.prototype.processAction=function(e,r,i){var o=this;e.cellValueChanges.forEach(function(a){var s=a.rowIndex,l=a.rowPinned,u=a.columnId,c={rowIndex:s,rowPinned:l},d=o.getRowNode(c);d.displayed&&d.setDataValue(u,r(a),i)})},t.prototype.processRange=function(e){var r=this,i;this.rangeService.removeAllCellRanges(!0),e.forEach(function(o,a){if(o){var s=o.startRow,l=o.endRow;a===e.length-1&&(i={rowPinned:s.rowPinned,rowIndex:s.rowIndex,columnId:o.startColumn.getColId()},r.setLastFocusedCell(i));var u={rowStartIndex:s.rowIndex,rowStartPinned:s.rowPinned,rowEndIndex:l.rowIndex,rowEndPinned:l.rowPinned,columnStart:o.startColumn,columns:o.columns};r.rangeService.addCellRange(u)}})},t.prototype.processCell=function(e){var r=e[0],i=r.rowIndex,o=r.rowPinned,a={rowIndex:i,rowPinned:o},s=this.getRowNode(a),l={rowPinned:r.rowPinned,rowIndex:s.rowIndex,columnId:r.columnId};this.setLastFocusedCell(l,!!this.rangeService)},t.prototype.setLastFocusedCell=function(e,r){var i=e.rowIndex,o=e.columnId,a=e.rowPinned,s=this.gridBodyCtrl.getScrollFeature(),l=this.columnModel.getGridColumn(o);if(l){s.ensureIndexVisible(i),s.ensureColumnVisible(l);var u={rowIndex:i,column:l,rowPinned:a};this.focusService.setFocusedCell(Wb(Wb({},u),{forceBrowserFocus:!0})),r&&this.rangeService.setRangeToCell(u)}},t.prototype.addRowEditingListeners=function(){var e=this;this.addManagedListener(this.eventService,T.EVENT_ROW_EDITING_STARTED,function(r){e.activeRowEdit={rowIndex:r.rowIndex,rowPinned:r.rowPinned}}),this.addManagedListener(this.eventService,T.EVENT_ROW_EDITING_STOPPED,function(){var r=new Bm(e.cellValueChanges);e.pushActionsToUndoStack(r),e.activeRowEdit=null})},t.prototype.addCellEditingListeners=function(){var e=this;this.addManagedListener(this.eventService,T.EVENT_CELL_EDITING_STARTED,function(r){e.activeCellEdit={column:r.column,rowIndex:r.rowIndex,rowPinned:r.rowPinned}}),this.addManagedListener(this.eventService,T.EVENT_CELL_EDITING_STOPPED,function(r){e.activeCellEdit=null;var i=r.valueChanged&&!e.activeRowEdit&&!e.isPasting&&!e.isRangeInAction;if(i){var o=new Bm(e.cellValueChanges);e.pushActionsToUndoStack(o)}})},t.prototype.addPasteListeners=function(){var e=this;this.addManagedListener(this.eventService,T.EVENT_PASTE_START,function(){e.isPasting=!0}),this.addManagedListener(this.eventService,T.EVENT_PASTE_END,function(){var r=new Bm(e.cellValueChanges);e.pushActionsToUndoStack(r),e.isPasting=!1})},t.prototype.addFillListeners=function(){var e=this;this.addManagedListener(this.eventService,T.EVENT_FILL_START,function(){e.isRangeInAction=!0}),this.addManagedListener(this.eventService,T.EVENT_FILL_END,function(r){var i=new sD(e.cellValueChanges,r.initialRange,r.finalRange);e.pushActionsToUndoStack(i),e.isRangeInAction=!1})},t.prototype.addCellKeyListeners=function(){var e=this;this.addManagedListener(this.eventService,T.EVENT_KEY_SHORTCUT_CHANGED_CELL_START,function(){e.isRangeInAction=!0}),this.addManagedListener(this.eventService,T.EVENT_KEY_SHORTCUT_CHANGED_CELL_END,function(){var r;e.rangeService&&e.gridOptionsService.get("enableRangeSelection")?r=new sD(e.cellValueChanges,void 0,void 0,UTe([],WTe(e.rangeService.getCellRanges()),!1)):r=new Bm(e.cellValueChanges),e.pushActionsToUndoStack(r),e.isRangeInAction=!1})},t.prototype.pushActionsToUndoStack=function(e){this.undoStack.push(e),this.cellValueChanges=[],this.redoStack.clear()},t.prototype.getRowNode=function(e){switch(e.rowPinned){case"top":return this.pinnedRowModel.getPinnedTopRowData()[e.rowIndex];case"bottom":return this.pinnedRowModel.getPinnedBottomRowData()[e.rowIndex];default:return this.rowModel.getRow(e.rowIndex)}},al([E("focusService")],t.prototype,"focusService",void 0),al([E("ctrlsService")],t.prototype,"ctrlsService",void 0),al([E("rowModel")],t.prototype,"rowModel",void 0),al([E("pinnedRowModel")],t.prototype,"pinnedRowModel",void 0),al([E("cellPositionUtils")],t.prototype,"cellPositionUtils",void 0),al([E("rowPositionUtils")],t.prototype,"rowPositionUtils",void 0),al([E("columnModel")],t.prototype,"columnModel",void 0),al([et("rangeService")],t.prototype,"rangeService",void 0),al([z],t.prototype,"init",null),t=al([ie("undoRedoService")],t),t}(X),KTe=function(){var n=function(t,e){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])},n(t,e)};return function(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");n(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}}(),lD=function(n,t,e,r){var i=arguments.length,o=i<3?t:r===null?r=Object.getOwnPropertyDescriptor(t,e):r,a;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(n,t,e,r);else for(var s=n.length-1;s>=0;s--)(a=n[s])&&(o=(i<3?a(o):i>3?a(t,e,o):a(t,e))||o);return i>3&&o&&Object.defineProperty(t,e,o),o},eq=function(n){KTe(t,n);function t(){return n!==null&&n.apply(this,arguments)||this}return t.prototype.findHeader=function(e,r){var i,o,a;if(e.column instanceof Kr?(o="getDisplayedGroup".concat(r),i=this.columnModel[o](e.column)):(a="getDisplayedCol".concat(r),i=this.columnModel[a](e.column)),!!i){var s=e.headerRowIndex;if(this.getHeaderRowType(s)!==Nn.FLOATING_FILTER){for(var l=[i];i.getParent();)i=i.getParent(),l.push(i);i=l[l.length-1-s]}var u=this.getHeaderIndexToFocus(i,s),c=u.column,d=u.headerRowIndex;return{column:c,headerRowIndex:d}}},t.prototype.getHeaderIndexToFocus=function(e,r){var i;if(e instanceof Kr&&this.isAnyChildSpanningHeaderHeight(e)&&e.isPadding()){var o=e;i=o.getLeafColumns()[0];for(var a=i;a!==o;)r++,a=a.getParent()}return{column:i||e,headerRowIndex:r}},t.prototype.isAnyChildSpanningHeaderHeight=function(e){return e?e.getLeafColumns().some(function(r){return r.isSpanHeaderHeight()}):!1},t.prototype.getColumnVisibleParent=function(e,r){var i=this.getHeaderRowType(r),o=i===Nn.FLOATING_FILTER,a=i===Nn.COLUMN,s=o?e:e.getParent(),l=r-1,u=l;if(a&&this.isAnyChildSpanningHeaderHeight(e.getParent())){for(;s&&s.isPadding();)s=s.getParent(),l--;u=l,l<0&&(s=e,l=r,u=void 0)}return{column:s,headerRowIndex:l,headerRowIndexWithoutSpan:u}},t.prototype.getColumnVisibleChild=function(e,r,i){i===void 0&&(i="After");var o=this.getHeaderRowType(r),a=e,s=r+1,l=s;if(o===Nn.COLUMN_GROUP){for(var u=e.getDisplayedLeafColumns(),c=i==="After"?u[0]:xt(u),d=[],p=c;p.getParent()!==e;)p=p.getParent(),d.push(p);if(a=c,c.isSpanHeaderHeight())for(var h=d.length-1;h>=0;h--){var f=d[h];if(!f.isPadding()){a=f;break}s++}else a=xt(d),a||(a=c)}return{column:a,headerRowIndex:s,headerRowIndexWithoutSpan:l}},t.prototype.getHeaderRowType=function(e){var r=this.ctrlsService.getHeaderRowContainerCtrl();if(r)return r.getRowType(e)},t.prototype.findColAtEdgeForHeaderRow=function(e,r){var i=this.columnModel.getAllDisplayedColumns(),o=i[r==="start"?0:i.length-1];if(o){var a=this.ctrlsService.getHeaderRowContainerCtrl(o.getPinned()),s=a.getRowType(e);if(s==Nn.COLUMN_GROUP){var l=this.columnModel.getColumnGroupAtLevel(o,e);return{headerRowIndex:e,column:l}}return{headerRowIndex:s==null?-1:e,column:o}}},lD([E("columnModel")],t.prototype,"columnModel",void 0),lD([E("ctrlsService")],t.prototype,"ctrlsService",void 0),t=lD([ie("headerPositionUtils")],t),t}(X),YTe=function(n,t,e,r){var i=arguments.length,o=i<3?t:r===null?r=Object.getOwnPropertyDescriptor(t,e):r,a;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(n,t,e,r);else for(var s=n.length-1;s>=0;s--)(a=n[s])&&(o=(i<3?a(o):i>3?a(t,e,o):a(t,e))||o);return i>3&&o&&Object.defineProperty(t,e,o),o},XTe=function(){function n(){}return n.prototype.buildColumnDefs=function(t,e,r){var i=this,o=[],a={};return t.forEach(function(s){for(var l=i.createDefFromColumn(s,e,r),u=!0,c=l,d=s.getOriginalParent(),p=null;d;){var h=null;if(d.isPadding()){d=d.getOriginalParent();continue}var f=a[d.getGroupId()];if(f){f.children.push(c),u=!1;break}if(h=i.createDefFromGroup(d),h&&(h.children=[c],a[h.groupId]=h,c=h,d=d.getOriginalParent()),d!=null&&p===d){u=!1;break}p=d}u&&o.push(c)}),o},n.prototype.createDefFromGroup=function(t){var e=Ob(t.getColGroupDef(),["children"]);return e&&(e.groupId=t.getGroupId()),e},n.prototype.createDefFromColumn=function(t,e,r){var i=Ob(t.getColDef());return i.colId=t.getColId(),i.width=t.getActualWidth(),i.rowGroup=t.isRowGroupActive(),i.rowGroupIndex=t.isRowGroupActive()?e.indexOf(t):null,i.pivot=t.isPivotActive(),i.pivotIndex=t.isPivotActive()?r.indexOf(t):null,i.aggFunc=t.isValueActive()?t.getAggFunc():null,i.hide=t.isVisible()?void 0:!0,i.pinned=t.isPinned()?t.getPinned():null,i.sort=t.getSort()?t.getSort():null,i.sortIndex=t.getSortIndex()!=null?t.getSortIndex():null,i},n=YTe([ie("columnDefFactory")],n),n}(),uD=function(n,t,e,r){var i=arguments.length,o=i<3?t:r===null?r=Object.getOwnPropertyDescriptor(t,e):r,a;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(n,t,e,r);else for(var s=n.length-1;s>=0;s--)(a=n[s])&&(o=(i<3?a(o):i>3?a(t,e,o):a(t,e))||o);return i>3&&o&&Object.defineProperty(t,e,o),o},qTe=function(){function n(){}return n.prototype.getInitialRowClasses=function(t){var e=[];return oe(t.extraCssClass)&&e.push(t.extraCssClass),e.push("ag-row"),e.push(t.rowFocused?"ag-row-focus":"ag-row-no-focus"),t.fadeRowIn&&e.push("ag-opacity-zero"),e.push(t.rowIsEven?"ag-row-even":"ag-row-odd"),t.rowNode.isRowPinned()&&e.push("ag-row-pinned"),t.rowNode.isSelected()&&e.push("ag-row-selected"),t.rowNode.footer&&e.push("ag-row-footer"),e.push("ag-row-level-"+t.rowLevel),t.rowNode.stub&&e.push("ag-row-loading"),t.fullWidthRow&&e.push("ag-full-width-row"),t.expandable&&(e.push("ag-row-group"),e.push(t.rowNode.expanded?"ag-row-group-expanded":"ag-row-group-contracted")),t.rowNode.dragging&&e.push("ag-row-dragging"),hF(e,this.processClassesFromGridOptions(t.rowNode)),hF(e,this.preProcessRowClassRules(t.rowNode)),e.push(t.printLayout?"ag-row-position-relative":"ag-row-position-absolute"),t.firstRowOnPage&&e.push("ag-row-first"),t.lastRowOnPage&&e.push("ag-row-last"),t.fullWidthRow&&(t.pinned==="left"&&e.push("ag-cell-last-left-pinned"),t.pinned==="right"&&e.push("ag-cell-first-right-pinned")),e},n.prototype.processClassesFromGridOptions=function(t){var e=[],r=function(l){typeof l=="string"?e.push(l):Array.isArray(l)&&l.forEach(function(u){return e.push(u)})},i=this.gridOptionsService.get("rowClass");if(i){if(typeof i=="function")return console.warn("AG Grid: rowClass should not be a function, please use getRowClass instead"),[];r(i)}var o=this.gridOptionsService.getCallback("getRowClass");if(o){var a={data:t.data,node:t,rowIndex:t.rowIndex},s=o(a);r(s)}return e},n.prototype.preProcessRowClassRules=function(t){var e=[];return this.processRowClassRules(t,function(r){e.push(r)},function(r){}),e},n.prototype.processRowClassRules=function(t,e,r){var i=this.gridOptionsService.addGridCommonParams({data:t.data,node:t,rowIndex:t.rowIndex});this.stylingService.processClassRules(void 0,this.gridOptionsService.get("rowClassRules"),i,e,r)},n.prototype.calculateRowLevel=function(t){return t.group?t.level:t.parent?t.parent.level+1:0},uD([E("stylingService")],n.prototype,"stylingService",void 0),uD([E("gridOptionsService")],n.prototype,"gridOptionsService",void 0),n=uD([ie("rowCssClassCalculator")],n),n}(),ZTe=function(){var n=function(t,e){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])},n(t,e)};return function(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");n(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}}(),x_=function(n,t,e,r){var i=arguments.length,o=i<3?t:r===null?r=Object.getOwnPropertyDescriptor(t,e):r,a;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(n,t,e,r);else for(var s=n.length-1;s>=0;s--)(a=n[s])&&(o=(i<3?a(o):i>3?a(t,e,o):a(t,e))||o);return i>3&&o&&Object.defineProperty(t,e,o),o},tq=function(n){ZTe(t,n);function t(){return n!==null&&n.apply(this,arguments)||this}return t.prototype.init=function(){var e=this;this.isAccentedSort=this.gridOptionsService.get("accentedSort"),this.primaryColumnsSortGroups=this.gridOptionsService.isColumnsSortingCoupledToGroup(),this.addManagedPropertyListener("accentedSort",function(r){return e.isAccentedSort=r.currentValue}),this.addManagedPropertyListener("autoGroupColumnDef",function(){return e.primaryColumnsSortGroups=e.gridOptionsService.isColumnsSortingCoupledToGroup()})},t.prototype.doFullSort=function(e,r){var i=function(a,s){return{currentPos:s,rowNode:a}},o=e.map(i);return o.sort(this.compareRowNodes.bind(this,r)),o.map(function(a){return a.rowNode})},t.prototype.compareRowNodes=function(e,r,i){for(var o=r.rowNode,a=i.rowNode,s=0,l=e.length;s<l;s++){var u=e[s],c=u.sort==="desc",d=this.getValue(o,u.column),p=this.getValue(a,u.column),h=void 0,f=this.getComparator(u,o);f?h=f(d,p,o,a,c):h=A.defaultComparator(d,p,this.isAccentedSort);var v=!isNaN(h);if(v&&h!==0)return u.sort==="asc"?h:h*-1}return r.currentPos-i.currentPos},t.prototype.getComparator=function(e,r){var i=e.column,o=i.getColDef().comparator;if(o!=null)return o;if(i.getColDef().showRowGroup){var a=!r.group&&i.getColDef().field;if(a){var s=this.columnModel.getPrimaryColumn(a);if(s)return s.getColDef().comparator}}},t.prototype.getValue=function(e,r){var i,o;if(!this.primaryColumnsSortGroups)return this.valueService.getValue(r,e,!1,!1);var a=e.rowGroupColumn===r;if(a){var s=this.gridOptionsService.isGroupUseEntireRow(this.columnModel.isPivotActive());if(s){var l=(i=e.allLeafChildren)===null||i===void 0?void 0:i[0];return l?this.valueService.getValue(r,l,!1,!1):void 0}var u=this.columnModel.getGroupDisplayColumnForGroup(r.getId());return u?(o=e.groupData)===null||o===void 0?void 0:o[u.getId()]:void 0}if(!(e.group&&r.getColDef().showRowGroup))return this.valueService.getValue(r,e,!1,!1)},x_([E("valueService")],t.prototype,"valueService",void 0),x_([E("columnModel")],t.prototype,"columnModel",void 0),x_([z],t.prototype,"init",null),t=x_([ie("rowNodeSorter")],t),t}(X),QTe=function(){var n=function(t,e){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])},n(t,e)};return function(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");n(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}}(),JTe=function(n,t,e,r){var i=arguments.length,o=i<3?t:r===null?r=Object.getOwnPropertyDescriptor(t,e):r,a;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(n,t,e,r);else for(var s=n.length-1;s>=0;s--)(a=n[s])&&(o=(i<3?a(o):i>3?a(t,e,o):a(t,e))||o);return i>3&&o&&Object.defineProperty(t,e,o),o},rq=function(n){QTe(t,n);function t(){var r=n!==null&&n.apply(this,arguments)||this;return r.ready=!1,r.readyCallbacks=[],r}e=t,t.prototype.checkReady=function(){if(this.ready=this.gridCtrl!=null&&this.gridBodyCtrl!=null&&this.centerRowContainerCtrl!=null&&this.leftRowContainerCtrl!=null&&this.rightRowContainerCtrl!=null&&this.bottomCenterRowContainerCtrl!=null&&this.bottomLeftRowContainerCtrl!=null&&this.bottomRightRowContainerCtrl!=null&&this.topCenterRowContainerCtrl!=null&&this.topLeftRowContainerCtrl!=null&&this.topRightRowContainerCtrl!=null&&this.stickyTopCenterRowContainerCtrl!=null&&this.stickyTopLeftRowContainerCtrl!=null&&this.stickyTopRightRowContainerCtrl!=null&&this.centerHeaderRowContainerCtrl!=null&&this.leftHeaderRowContainerCtrl!=null&&this.rightHeaderRowContainerCtrl!=null&&this.fakeHScrollComp!=null&&this.fakeVScrollComp!=null&&this.gridHeaderCtrl!=null,this.ready){var r=this.createReadyParams();this.readyCallbacks.forEach(function(i){return i(r)}),this.readyCallbacks.length=0}},t.prototype.whenReady=function(r){this.ready?r(this.createReadyParams()):this.readyCallbacks.push(r)},t.prototype.createReadyParams=function(){return{centerRowContainerCtrl:this.centerRowContainerCtrl,leftRowContainerCtrl:this.leftRowContainerCtrl,rightRowContainerCtrl:this.rightRowContainerCtrl,bottomCenterRowContainerCtrl:this.bottomCenterRowContainerCtrl,bottomLeftRowContainerCtrl:this.bottomLeftRowContainerCtrl,bottomRightRowContainerCtrl:this.bottomRightRowContainerCtrl,topCenterRowContainerCtrl:this.topCenterRowContainerCtrl,topLeftRowContainerCtrl:this.topLeftRowContainerCtrl,topRightRowContainerCtrl:this.topRightRowContainerCtrl,stickyTopCenterRowContainerCtrl:this.stickyTopCenterRowContainerCtrl,stickyTopLeftRowContainerCtrl:this.stickyTopLeftRowContainerCtrl,stickyTopRightRowContainerCtrl:this.stickyTopRightRowContainerCtrl,centerHeaderRowContainerCtrl:this.centerHeaderRowContainerCtrl,leftHeaderRowContainerCtrl:this.leftHeaderRowContainerCtrl,rightHeaderRowContainerCtrl:this.rightHeaderRowContainerCtrl,fakeHScrollComp:this.fakeHScrollComp,fakeVScrollComp:this.fakeVScrollComp,gridBodyCtrl:this.gridBodyCtrl,gridCtrl:this.gridCtrl,gridHeaderCtrl:this.gridHeaderCtrl}},t.prototype.registerFakeHScrollComp=function(r){this.fakeHScrollComp=r,this.checkReady()},t.prototype.registerFakeVScrollComp=function(r){this.fakeVScrollComp=r,this.checkReady()},t.prototype.registerGridHeaderCtrl=function(r){this.gridHeaderCtrl=r,this.checkReady()},t.prototype.registerCenterRowContainerCtrl=function(r){this.centerRowContainerCtrl=r,this.checkReady()},t.prototype.registerLeftRowContainerCtrl=function(r){this.leftRowContainerCtrl=r,this.checkReady()},t.prototype.registerRightRowContainerCtrl=function(r){this.rightRowContainerCtrl=r,this.checkReady()},t.prototype.registerTopCenterRowContainerCtrl=function(r){this.topCenterRowContainerCtrl=r,this.checkReady()},t.prototype.registerTopLeftRowContainerCon=function(r){this.topLeftRowContainerCtrl=r,this.checkReady()},t.prototype.registerTopRightRowContainerCtrl=function(r){this.topRightRowContainerCtrl=r,this.checkReady()},t.prototype.registerStickyTopCenterRowContainerCtrl=function(r){this.stickyTopCenterRowContainerCtrl=r,this.checkReady()},t.prototype.registerStickyTopLeftRowContainerCon=function(r){this.stickyTopLeftRowContainerCtrl=r,this.checkReady()},t.prototype.registerStickyTopRightRowContainerCtrl=function(r){this.stickyTopRightRowContainerCtrl=r,this.checkReady()},t.prototype.registerBottomCenterRowContainerCtrl=function(r){this.bottomCenterRowContainerCtrl=r,this.checkReady()},t.prototype.registerBottomLeftRowContainerCtrl=function(r){this.bottomLeftRowContainerCtrl=r,this.checkReady()},t.prototype.registerBottomRightRowContainerCtrl=function(r){this.bottomRightRowContainerCtrl=r,this.checkReady()},t.prototype.registerHeaderContainer=function(r,i){switch(i){case"left":this.leftHeaderRowContainerCtrl=r;break;case"right":this.rightHeaderRowContainerCtrl=r;break;default:this.centerHeaderRowContainerCtrl=r;break}this.checkReady()},t.prototype.registerGridBodyCtrl=function(r){this.gridBodyCtrl=r,this.checkReady()},t.prototype.registerGridCtrl=function(r){this.gridCtrl=r,this.checkReady()},t.prototype.getFakeHScrollComp=function(){return this.fakeHScrollComp},t.prototype.getFakeVScrollComp=function(){return this.fakeVScrollComp},t.prototype.getGridHeaderCtrl=function(){return this.gridHeaderCtrl},t.prototype.getGridCtrl=function(){return this.gridCtrl},t.prototype.getCenterRowContainerCtrl=function(){return this.centerRowContainerCtrl},t.prototype.getTopCenterRowContainerCtrl=function(){return this.topCenterRowContainerCtrl},t.prototype.getBottomCenterRowContainerCtrl=function(){return this.bottomCenterRowContainerCtrl},t.prototype.getStickyTopCenterRowContainerCtrl=function(){return this.stickyTopCenterRowContainerCtrl},t.prototype.getGridBodyCtrl=function(){return this.gridBodyCtrl},t.prototype.getHeaderRowContainerCtrls=function(){return[this.leftHeaderRowContainerCtrl,this.rightHeaderRowContainerCtrl,this.centerHeaderRowContainerCtrl]},t.prototype.getHeaderRowContainerCtrl=function(r){switch(r){case"left":return this.leftHeaderRowContainerCtrl;case"right":return this.rightHeaderRowContainerCtrl;default:return this.centerHeaderRowContainerCtrl}};var e;return t.NAME="ctrlsService",t=e=JTe([ie(e.NAME)],t),t}(X),ePe=function(){var n=function(t,e){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])},n(t,e)};return function(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");n(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}}(),tPe=function(n,t,e,r){var i=arguments.length,o=i<3?t:r===null?r=Object.getOwnPropertyDescriptor(t,e):r,a;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(n,t,e,r);else for(var s=n.length-1;s>=0;s--)(a=n[s])&&(o=(i<3?a(o):i>3?a(t,e,o):a(t,e))||o);return i>3&&o&&Object.defineProperty(t,e,o),o},rPe=function(n){ePe(t,n);function t(){var e=n!==null&&n.apply(this,arguments)||this;return e.registry={},e}return t.prototype.register=function(e){this.registry[e.controllerName]=e.controllerClass},t.prototype.getInstance=function(e){var r=this.registry[e];if(r!=null)return new r},t=tPe([ie("ctrlsFactory")],t),t}(X),nPe=function(){var n=function(t,e){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])},n(t,e)};return function(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");n(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}}(),em=function(n,t,e,r){var i=arguments.length,o=i<3?t:r===null?r=Object.getOwnPropertyDescriptor(t,e):r,a;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(n,t,e,r);else for(var s=n.length-1;s>=0;s--)(a=n[s])&&(o=(i<3?a(o):i>3?a(t,e,o):a(t,e))||o);return i>3&&o&&Object.defineProperty(t,e,o),o},nq=function(n){nPe(t,n);function t(e,r){var i=n.call(this,e)||this;return i.direction=r,i.hideTimeout=null,i}return t.prototype.postConstruct=function(){this.addManagedListener(this.eventService,T.EVENT_SCROLL_VISIBILITY_CHANGED,this.onScrollVisibilityChanged.bind(this)),this.onScrollVisibilityChanged(),this.addOrRemoveCssClass("ag-apple-scrollbar",Wk()||yc())},t.prototype.initialiseInvisibleScrollbar=function(){this.invisibleScrollbar===void 0&&(this.invisibleScrollbar=zk(),this.invisibleScrollbar&&(this.hideAndShowInvisibleScrollAsNeeded(),this.addActiveListenerToggles()))},t.prototype.addActiveListenerToggles=function(){var e=this,r=["mouseenter","mousedown","touchstart"],i=["mouseleave","touchend"],o=this.getGui();r.forEach(function(a){return e.addManagedListener(o,a,function(){return e.addOrRemoveCssClass("ag-scrollbar-active",!0)})}),i.forEach(function(a){return e.addManagedListener(o,a,function(){return e.addOrRemoveCssClass("ag-scrollbar-active",!1)})})},t.prototype.onScrollVisibilityChanged=function(){var e=this;this.invisibleScrollbar===void 0&&this.initialiseInvisibleScrollbar(),this.animationFrameService.requestAnimationFrame(function(){return e.setScrollVisible()})},t.prototype.hideAndShowInvisibleScrollAsNeeded=function(){var e=this;this.addManagedListener(this.eventService,T.EVENT_BODY_SCROLL,function(r){r.direction===e.direction&&(e.hideTimeout!==null&&(window.clearTimeout(e.hideTimeout),e.hideTimeout=null),e.addOrRemoveCssClass("ag-scrollbar-scrolling",!0))}),this.addManagedListener(this.eventService,T.EVENT_BODY_SCROLL_END,function(){e.hideTimeout=window.setTimeout(function(){e.addOrRemoveCssClass("ag-scrollbar-scrolling",!1),e.hideTimeout=null},400)})},t.prototype.attemptSettingScrollPosition=function(e){var r=this,i=this.getViewport();Ok(function(){return ca(i)},function(){return r.setScrollPosition(e)},100)},t.prototype.getViewport=function(){return this.eViewport},t.prototype.getContainer=function(){return this.eContainer},t.prototype.onScrollCallback=function(e){this.addManagedListener(this.getViewport(),"scroll",e)},em([j("eViewport")],t.prototype,"eViewport",void 0),em([j("eContainer")],t.prototype,"eContainer",void 0),em([E("scrollVisibleService")],t.prototype,"scrollVisibleService",void 0),em([E("ctrlsService")],t.prototype,"ctrlsService",void 0),em([E("animationFrameService")],t.prototype,"animationFrameService",void 0),t}(ae),iPe=function(){var n=function(t,e){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])},n(t,e)};return function(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");n(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}}(),tm=function(n,t,e,r){var i=arguments.length,o=i<3?t:r===null?r=Object.getOwnPropertyDescriptor(t,e):r,a;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(n,t,e,r);else for(var s=n.length-1;s>=0;s--)(a=n[s])&&(o=(i<3?a(o):i>3?a(t,e,o):a(t,e))||o);return i>3&&o&&Object.defineProperty(t,e,o),o},oPe=function(n){iPe(t,n);function t(){return n.call(this,t.TEMPLATE,"horizontal")||this}return t.prototype.postConstruct=function(){var e=this;n.prototype.postConstruct.call(this);var r=this.setFakeHScrollSpacerWidths.bind(this);this.addManagedListener(this.eventService,T.EVENT_DISPLAYED_COLUMNS_CHANGED,r),this.addManagedListener(this.eventService,T.EVENT_DISPLAYED_COLUMNS_WIDTH_CHANGED,r),this.addManagedListener(this.eventService,T.EVENT_PINNED_ROW_DATA_CHANGED,this.onPinnedRowDataChanged.bind(this)),this.addManagedPropertyListener("domLayout",r),this.ctrlsService.registerFakeHScrollComp(this),this.createManagedBean(new mG(function(i){return e.eContainer.style.width="".concat(i,"px")})),this.addManagedPropertyListeners(["suppressHorizontalScroll"],this.onScrollVisibilityChanged.bind(this))},t.prototype.initialiseInvisibleScrollbar=function(){this.invisibleScrollbar===void 0&&(this.enableRtl=this.gridOptionsService.get("enableRtl"),n.prototype.initialiseInvisibleScrollbar.call(this),this.invisibleScrollbar&&this.refreshCompBottom())},t.prototype.onPinnedRowDataChanged=function(){this.refreshCompBottom()},t.prototype.refreshCompBottom=function(){if(this.invisibleScrollbar){var e=this.pinnedRowModel.getPinnedBottomTotalHeight();this.getGui().style.bottom="".concat(e,"px")}},t.prototype.onScrollVisibilityChanged=function(){n.prototype.onScrollVisibilityChanged.call(this),this.setFakeHScrollSpacerWidths()},t.prototype.setFakeHScrollSpacerWidths=function(){var e=this.scrollVisibleService.isVerticalScrollShowing(),r=this.columnModel.getDisplayedColumnsRightWidth(),i=!this.enableRtl&&e,o=this.gridOptionsService.getScrollbarWidth();i&&(r+=o),Ka(this.eRightSpacer,r),this.eRightSpacer.classList.toggle("ag-scroller-corner",r<=o);var a=this.columnModel.getDisplayedColumnsLeftWidth(),s=this.enableRtl&&e;s&&(a+=o),Ka(this.eLeftSpacer,a),this.eLeftSpacer.classList.toggle("ag-scroller-corner",a<=o)},t.prototype.setScrollVisible=function(){var e=this.scrollVisibleService.isHorizontalScrollShowing(),r=this.invisibleScrollbar,i=this.gridOptionsService.get("suppressHorizontalScroll"),o=e&&this.gridOptionsService.getScrollbarWidth()||0,a=o===0&&r?16:o,s=i?0:a;this.addOrRemoveCssClass("ag-scrollbar-invisible",r),Nh(this.getGui(),s),Nh(this.eViewport,s),Nh(this.eContainer,s),this.setDisplayed(e,{skipAriaHidden:!0})},t.prototype.getScrollPosition=function(){return GS(this.getViewport(),this.enableRtl)},t.prototype.setScrollPosition=function(e){ca(this.getViewport())||this.attemptSettingScrollPosition(e),VS(this.getViewport(),e,this.enableRtl)},t.TEMPLATE=`<div class="ag-body-horizontal-scroll" aria-hidden="true">
            <div class="ag-horizontal-left-spacer" ref="eLeftSpacer"></div>
            <div class="ag-body-horizontal-scroll-viewport" ref="eViewport">
                <div class="ag-body-horizontal-scroll-container" ref="eContainer"></div>
            </div>
            <div class="ag-horizontal-right-spacer" ref="eRightSpacer"></div>
        </div>`,tm([j("eLeftSpacer")],t.prototype,"eLeftSpacer",void 0),tm([j("eRightSpacer")],t.prototype,"eRightSpacer",void 0),tm([E("columnModel")],t.prototype,"columnModel",void 0),tm([E("pinnedRowModel")],t.prototype,"pinnedRowModel",void 0),tm([z],t.prototype,"postConstruct",null),t}(nq),aPe=function(){var n=function(t,e){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])},n(t,e)};return function(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");n(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}}(),cD=function(n,t,e,r){var i=arguments.length,o=i<3?t:r===null?r=Object.getOwnPropertyDescriptor(t,e):r,a;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(n,t,e,r);else for(var s=n.length-1;s>=0;s--)(a=n[s])&&(o=(i<3?a(o):i>3?a(t,e,o):a(t,e))||o);return i>3&&o&&Object.defineProperty(t,e,o),o},sPe=function(n){aPe(t,n);function t(){return n!==null&&n.apply(this,arguments)||this}return t.prototype.postConstruct=function(){var e=this.checkContainerWidths.bind(this);this.addManagedListener(this.eventService,T.EVENT_DISPLAYED_COLUMNS_CHANGED,e),this.addManagedListener(this.eventService,T.EVENT_DISPLAYED_COLUMNS_WIDTH_CHANGED,e),this.addManagedPropertyListener("domLayout",e)},t.prototype.checkContainerWidths=function(){var e=this.gridOptionsService.isDomLayout("print"),r=e?0:this.columnModel.getDisplayedColumnsLeftWidth(),i=e?0:this.columnModel.getDisplayedColumnsRightWidth();r!=this.leftWidth&&(this.leftWidth=r,this.eventService.dispatchEvent({type:T.EVENT_LEFT_PINNED_WIDTH_CHANGED})),i!=this.rightWidth&&(this.rightWidth=i,this.eventService.dispatchEvent({type:T.EVENT_RIGHT_PINNED_WIDTH_CHANGED}))},t.prototype.getPinnedRightWidth=function(){return this.rightWidth},t.prototype.getPinnedLeftWidth=function(){return this.leftWidth},cD([E("columnModel")],t.prototype,"columnModel",void 0),cD([z],t.prototype,"postConstruct",null),t=cD([ie("pinnedWidthService")],t),t}(X),lPe=function(){var n=function(t,e){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])},n(t,e)};return function(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");n(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}}(),E_=function(n,t,e,r){var i=arguments.length,o=i<3?t:r===null?r=Object.getOwnPropertyDescriptor(t,e):r,a;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(n,t,e,r);else for(var s=n.length-1;s>=0;s--)(a=n[s])&&(o=(i<3?a(o):i>3?a(t,e,o):a(t,e))||o);return i>3&&o&&Object.defineProperty(t,e,o),o},uPe=function(n){lPe(t,n);function t(){var e=n!==null&&n.apply(this,arguments)||this;return e.events=[],e}return t.prototype.postConstruct=function(){this.rowModel.getType()=="clientSide"&&(this.clientSideRowModel=this.rowModel)},t.prototype.dispatchExpanded=function(e){var r=this;if(this.clientSideRowModel==null){this.eventService.dispatchEvent(e);return}this.events.push(e);var i=function(){r.clientSideRowModel&&r.clientSideRowModel.onRowGroupOpened(),r.events.forEach(function(o){return r.eventService.dispatchEvent(o)}),r.events=[]};this.dispatchExpandedDebounced==null&&(this.dispatchExpandedDebounced=this.animationFrameService.debounce(i)),this.dispatchExpandedDebounced()},E_([E("animationFrameService")],t.prototype,"animationFrameService",void 0),E_([E("rowModel")],t.prototype,"rowModel",void 0),E_([z],t.prototype,"postConstruct",null),t=E_([ie("rowNodeEventThrottle")],t),t}(X),cPe={columnsMenuParams:{version:"31.1",message:"Use `columnChooserParams` instead."},suppressMenu:{version:"31.1",message:"Use `suppressHeaderMenuButton` instead."}},Bc=function(n,t){var e;return((e=t.rowModelType)!==null&&e!==void 0?e:"clientSide")==="clientSide"?{module:pe.RowGroupingModule}:null},dPe={enableRowGroup:Bc,rowGroup:Bc,rowGroupIndex:Bc,enablePivot:Bc,enableValue:Bc,pivot:Bc,pivotIndex:Bc,aggFunc:Bc,cellEditor:function(n){return n.cellEditor==="agRichSelect"||n.cellEditor==="agRichSelectCellEditor"?{module:pe.RichSelectModule}:null},menuTabs:function(n){var t,e=["columnsMenuTab","generalMenuTab"];return!((t=n.menuTabs)===null||t===void 0)&&t.some(function(r){return e.includes(r)})?{module:pe.MenuModule}:null},columnsMenuParams:{module:[pe.MenuModule,pe.ColumnsToolPanelModule]},columnChooserParams:{module:[pe.MenuModule,pe.ColumnsToolPanelModule]},headerCheckboxSelection:{supportedRowModels:["clientSide","serverSide"],dependencies:function(n,t){var e=t.rowSelection;return e==="multiple"?null:"headerCheckboxSelection is only supported with rowSelection=multiple"}},headerCheckboxSelectionFilteredOnly:{supportedRowModels:["clientSide"],dependencies:function(n,t){var e=t.rowSelection;return e==="multiple"?null:"headerCheckboxSelectionFilteredOnly is only supported with rowSelection=multiple"}},headerCheckboxSelectionCurrentPageOnly:{supportedRowModels:["clientSide"],dependencies:function(n,t){var e=t.rowSelection;return e==="multiple"?null:"headerCheckboxSelectionCurrentPageOnly is only supported with rowSelection=multiple"}},children:function(){return Av}},Av={objectName:"colDef",allProperties:XY.ALL_PROPERTIES,docsUrl:"column-properties/",deprecations:cPe,validations:dPe},X$=function(n,t){var e=typeof Symbol=="function"&&n[Symbol.iterator];if(!e)return n;var r=e.call(n),i,o=[],a;try{for(;(t===void 0||t-- >0)&&!(i=r.next()).done;)o.push(i.value)}catch(s){a={error:s}}finally{try{i&&!i.done&&(e=r.return)&&e.call(r)}finally{if(a)throw a.error}}return o},q$=function(n,t,e){if(e||arguments.length===2)for(var r=0,i=t.length,o;r<i;r++)(o||!(r in t))&&(o||(o=Array.prototype.slice.call(t,0,r)),o[r]=t[r]);return n.concat(o||Array.prototype.slice.call(t))},pPe={enableChartToolPanelsButton:{version:"29",message:"The Chart Tool Panels button is now enabled by default. To hide the Chart Tool Panels button and display the hamburger button instead, set suppressChartToolPanelsButton=true."},functionsPassive:{version:"29.2"},onColumnRowGroupChangeRequest:{version:"29.2"},onColumnPivotChangeRequest:{version:"29.2"},onColumnValueChangeRequest:{version:"29.2"},onColumnAggFuncChangeRequest:{version:"29.2"},serverSideFilterAllLevels:{version:"30",message:"All server-side group levels are now filtered by default. This can be toggled using `serverSideOnlyRefreshFilteredGroups`."},suppressAggAtRootLevel:{version:"30",message:"The root level aggregation is now suppressed by default. This can be toggled using  `alwaysAggregateAtRootLevel`."},excludeHiddenColumnsFromQuickFilter:{version:"30",message:"Hidden columns are now excluded from the Quick Filter by default. This can be toggled using `includeHiddenColumnsInQuickFilter`."},enterMovesDown:{version:"30",renamed:"enterNavigatesVertically"},enterMovesDownAfterEdit:{version:"30",renamed:"enterNavigatesVerticallyAfterEdit"},suppressParentsInRowNodes:{version:"30.2",message:"Using suppressParentsInRowNodes is no longer recommended. To serialize nodes it is now recommended to instead remove the parent node reference before serialization."},advancedFilterModel:{version:"31",message:"Use `initialState.filter.advancedFilterModel` instead."},suppressAsyncEvents:{version:"31",message:"Events should be handled asynchronously."},cellFadeDelay:{version:"31.1",renamed:"cellFadeDuration"},cellFlashDelay:{version:"31.1",renamed:"cellFlashDuration"},suppressServerSideInfiniteScroll:{version:"31.1"},serverSideSortOnServer:{version:"31.1"},serverSideFilterOnServer:{version:"31.1"}},hPe={suppressContextMenu:!1,preventDefaultOnContextMenu:!1,allowContextMenuWithControlKey:!1,suppressMenuHide:!1,enableBrowserTooltips:!1,tooltipTrigger:"hover",tooltipShowDelay:2e3,tooltipHideDelay:1e4,tooltipMouseTrack:!1,tooltipInteraction:!1,copyHeadersToClipboard:!1,copyGroupHeadersToClipboard:!1,clipboardDelimiter:"	",suppressCopyRowsToClipboard:!1,suppressCopySingleCellRanges:!1,suppressLastEmptyLineOnPaste:!1,suppressClipboardPaste:!1,suppressClipboardApi:!1,suppressCutToClipboard:!1,maintainColumnOrder:!1,suppressFieldDotNotation:!1,allowDragFromColumnsToolPanel:!1,suppressMovableColumns:!1,suppressColumnMoveAnimation:!1,suppressDragLeaveHidesColumns:!1,suppressRowGroupHidesColumns:!1,suppressAutoSize:!1,autoSizePadding:20,skipHeaderOnAutoSize:!1,singleClickEdit:!1,suppressClickEdit:!1,readOnlyEdit:!1,stopEditingWhenCellsLoseFocus:!1,enterNavigatesVertically:!1,enterNavigatesVerticallyAfterEdit:!1,enableCellEditingOnBackspace:!1,undoRedoCellEditing:!1,undoRedoCellEditingLimit:10,suppressCsvExport:!1,suppressExcelExport:!1,cacheQuickFilter:!1,includeHiddenColumnsInQuickFilter:!1,excludeChildrenWhenTreeDataFiltering:!1,enableAdvancedFilter:!1,includeHiddenColumnsInAdvancedFilter:!1,enableCharts:!1,suppressChartToolPanelsButton:!1,masterDetail:!1,keepDetailRows:!1,keepDetailRowsCount:10,detailRowAutoHeight:!1,tabIndex:0,rowBuffer:10,valueCache:!1,valueCacheNeverExpires:!1,enableCellExpressions:!1,suppressTouch:!1,suppressFocusAfterRefresh:!1,suppressAsyncEvents:!1,suppressBrowserResizeObserver:!1,suppressPropertyNamesCheck:!1,suppressChangeDetection:!1,debug:!1,suppressLoadingOverlay:!1,suppressNoRowsOverlay:!1,pagination:!1,paginationPageSize:100,paginationPageSizeSelector:!0,paginationAutoPageSize:!1,paginateChildRows:!1,suppressPaginationPanel:!1,pivotMode:!1,pivotPanelShow:"never",pivotDefaultExpanded:0,pivotSuppressAutoColumn:!1,suppressExpandablePivotGroups:!1,functionsReadOnly:!1,suppressAggFuncInHeader:!1,alwaysAggregateAtRootLevel:!1,aggregateOnlyChangedColumns:!1,suppressAggFilteredOnly:!1,removePivotHeaderRowWhenSingleValueColumn:!1,animateRows:!0,enableCellChangeFlash:!1,cellFlashDelay:500,cellFlashDuration:500,cellFadeDelay:1e3,cellFadeDuration:1e3,allowShowChangeAfterFilter:!1,domLayout:"normal",ensureDomOrder:!1,enableRtl:!1,suppressColumnVirtualisation:!1,suppressMaxRenderedRowRestriction:!1,suppressRowVirtualisation:!1,rowDragManaged:!1,suppressRowDrag:!1,suppressMoveWhenRowDragging:!1,rowDragEntireRow:!1,rowDragMultiRow:!1,embedFullWidthRows:!1,groupDisplayType:"singleColumn",groupDefaultExpanded:0,groupMaintainOrder:!1,groupSelectsChildren:!1,groupIncludeTotalFooter:!1,groupSuppressBlankHeader:!1,groupSelectsFiltered:!1,showOpenedGroup:!1,groupRemoveSingleChildren:!1,groupRemoveLowestSingleChildren:!1,groupHideOpenParents:!1,groupAllowUnbalanced:!1,rowGroupPanelShow:"never",suppressMakeColumnVisibleAfterUnGroup:!1,treeData:!1,rowGroupPanelSuppressSort:!1,suppressGroupRowsSticky:!1,rowModelType:"clientSide",asyncTransactionWaitMillis:50,suppressModelUpdateAfterUpdateTransaction:!1,cacheOverflowSize:1,infiniteInitialRowCount:1,serverSideInitialRowCount:1,suppressServerSideInfiniteScroll:!1,cacheBlockSize:100,maxBlocksInCache:-1,maxConcurrentDatasourceRequests:2,blockLoadDebounceMillis:0,purgeClosedRowNodes:!1,serverSideSortAllLevels:!1,serverSideOnlyRefreshFilteredGroups:!1,serverSideSortOnServer:!1,serverSideFilterOnServer:!1,serverSidePivotResultFieldSeparator:"_",viewportRowModelPageSize:5,viewportRowModelBufferSize:5,alwaysShowHorizontalScroll:!1,alwaysShowVerticalScroll:!1,debounceVerticalScrollbar:!1,suppressHorizontalScroll:!1,suppressScrollOnNewData:!1,suppressScrollWhenPopupsAreOpen:!1,suppressAnimationFrame:!1,suppressMiddleClickScrolls:!1,suppressPreventDefaultOnMouseWheel:!1,rowMultiSelectWithClick:!1,suppressRowDeselection:!1,suppressRowClickSelection:!1,suppressCellFocus:!1,suppressHeaderFocus:!1,suppressMultiRangeSelection:!1,enableCellTextSelection:!1,enableRangeSelection:!1,enableRangeHandle:!1,enableFillHandle:!1,fillHandleDirection:"xy",suppressClearOnFillReduction:!1,accentedSort:!1,unSortIcon:!1,suppressMultiSort:!1,alwaysMultiSort:!1,suppressMaintainUnsortedOrder:!1,suppressRowHoverHighlight:!1,suppressRowTransform:!1,columnHoverHighlight:!1,deltaSort:!1,enableGroupEdit:!1,suppressGroupMaintainValueType:!1,functionsPassive:!1,groupLockGroupColumns:0,serverSideEnableClientSideSort:!1},fPe={sideBar:{module:pe.SideBarModule},statusBar:{module:pe.StatusBarModule},enableCharts:{module:pe.GridChartsModule},getMainMenuItems:{module:pe.MenuModule},getContextMenuItems:{module:pe.MenuModule},allowContextMenuWithControlKey:{module:pe.MenuModule},enableAdvancedFilter:{module:pe.AdvancedFilterModule},treeData:{supportedRowModels:["clientSide","serverSide"],module:pe.RowGroupingModule,dependencies:function(n){var t,e=(t=n.rowModelType)!==null&&t!==void 0?t:"clientSide";switch(e){case"clientSide":var r="treeData requires 'getDataPath' in the ".concat(e," row model.");return n.getDataPath?null:r;case"serverSide":var i="treeData requires 'isServerSideGroup' and 'getServerSideGroupKey' in the ".concat(e," row model.");return n.isServerSideGroup&&n.getServerSideGroupKey?null:i}return null}},masterDetail:{module:pe.MasterDetailModule},enableRangeSelection:{module:pe.RangeSelectionModule},enableRangeHandle:{dependencies:{enableRangeSelection:[!0]}},enableFillHandle:{dependencies:{enableRangeSelection:[!0]}},groupDefaultExpanded:{supportedRowModels:["clientSide"]},groupIncludeFooter:{supportedRowModels:["clientSide","serverSide"],dependencies:function(n){var t,e=(t=n.rowModelType)!==null&&t!==void 0?t:"clientSide";switch(e){case"clientSide":return null;case"serverSide":var r="groupIncludeFooter is not supported alongside suppressServerSideInfiniteScroll";return n.suppressServerSideInfiniteScroll?r:null}return null}},groupIncludeTotalFooter:{supportedRowModels:["clientSide"]},groupRemoveSingleChildren:{dependencies:{groupHideOpenParents:[void 0,!1],groupRemoveLowestSingleChildren:[void 0,!1]}},groupRemoveLowestSingleChildren:{dependencies:{groupHideOpenParents:[void 0,!1],groupRemoveSingleChildren:[void 0,!1]}},groupSelectsChildren:{dependencies:{rowSelection:["multiple"]}},suppressParentsInRowNodes:{dependencies:{groupSelectsChildren:[void 0,!1]}},viewportDatasource:{supportedRowModels:["viewport"],module:pe.ViewportRowModelModule},serverSideDatasource:{supportedRowModels:["serverSide"],module:pe.ServerSideRowModelModule},cacheBlockSize:{supportedRowModels:["serverSide","infinite"]},datasource:{supportedRowModels:["infinite"],module:pe.InfiniteRowModelModule},rowData:{supportedRowModels:["clientSide"],module:pe.ClientSideRowModelModule},columnDefs:function(){return Av},defaultColDef:function(){return Av},defaultColGroupDef:function(){return Av},autoGroupColumnDef:function(){return Av}},vPe={objectName:"gridOptions",allProperties:q$(q$([],X$(Ss.ALL_PROPERTIES),!1),X$(Dk.EVENT_CALLBACKS),!1),propertyExceptions:["api","columnApi"],docsUrl:"grid-options/",deprecations:pPe,validations:fPe},sl=function(n,t,e,r){var i=arguments.length,o=i<3?t:r===null?r=Object.getOwnPropertyDescriptor(t,e):r,a;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(n,t,e,r);else for(var s=n.length-1;s>=0;s--)(a=n[s])&&(o=(i<3?a(o):i>3?a(t,e,o):a(t,e))||o);return i>3&&o&&Object.defineProperty(t,e,o),o},b_=function(n,t){var e=typeof Symbol=="function"&&n[Symbol.iterator];if(!e)return n;var r=e.call(n),i,o=[],a;try{for(;(t===void 0||t-- >0)&&!(i=r.next()).done;)o.push(i.value)}catch(s){a={error:s}}finally{try{i&&!i.done&&(e=r.return)&&e.call(r)}finally{if(a)throw a.error}}return o},dD=function(n,t,e){if(e||arguments.length===2)for(var r=0,i=t.length,o;r<i;r++)(o||!(r in t))&&(o||(o=Array.prototype.slice.call(t,0,r)),o[r]=t[r]);return n.concat(o||Array.prototype.slice.call(t))},RG=function(){function n(){var e=this;this.destroyed=!1,this.domDataKey="__AG_"+Math.random().toString(),this.propertyEventService=new Us,this.globalEventHandlerFactory=function(r){return function(i,o){if(!e.destroyed){var a=t.alwaysSyncGlobalEvents.has(i);if(!(a&&!r||!a&&r)){var s=Dk.getCallbackForEvent(i),l=e.gridOptions[s];typeof l=="function"&&e.frameworkOverrides.wrapOutgoing(function(){l(o)})}}}}}t=n,Object.defineProperty(n.prototype,"context",{get:function(){return this.gridOptions.context},enumerable:!1,configurable:!0}),n.prototype.init=function(){this.columnApi=new Uw(this.api);var e=!this.get("suppressAsyncEvents");this.eventService.addGlobalListener(this.globalEventHandlerFactory().bind(this),e),this.eventService.addGlobalListener(this.globalEventHandlerFactory(!0).bind(this),!1),this.propertyEventService.setFrameworkOverrides(this.frameworkOverrides),this.getScrollbarWidth()},n.prototype.destroy=function(){this.destroyed=!0,this.columnApi=void 0},n.prototype.get=function(e){var r;return(r=this.gridOptions[e])!==null&&r!==void 0?r:hPe[e]},n.prototype.getCallback=function(e){return this.mergeGridCommonParams(this.gridOptions[e])},n.prototype.exists=function(e){return oe(this.gridOptions[e])},n.prototype.mergeGridCommonParams=function(e){var r=this;if(e){var i=function(o){var a=o;return a.api=r.api,a.columnApi=r.columnApi,a.context=r.context,e(a)};return i}return e},n.toBoolean=function(e){return typeof e=="boolean"?e:typeof e=="string"?e.toUpperCase()==="TRUE"||e=="":!1},n.toNumber=function(e){if(typeof e=="number")return e;if(typeof e=="string"){var r=parseInt(e);return isNaN(r)?void 0:r}},n.toConstrainedNum=function(e,r){return function(i){var o=t.toNumber(i);if(!(o==null||o<e||o>r))return o}},n.getCoercedValue=function(e,r){var i=t.PROPERTY_COERCIONS.get(e);return i?i(r):r},n.getCoercedGridOptions=function(e){var r={};return Object.entries(e).forEach(function(i){var o=b_(i,2),a=o[0],s=o[1],l=t.getCoercedValue(a,s);r[a]=l}),r},n.prototype.updateGridOptions=function(e){var r=this,i=e.options,o=e.source,a=o===void 0?"api":o,s={id:t.changeSetId++,properties:[]},l=[];Object.entries(i).forEach(function(u){var c=b_(u,2),d=c[0],p=c[1];a==="api"&&i_e[d]&&Ge("".concat(d," is an initial property and cannot be updated."));var h=t.getCoercedValue(d,p),f=typeof h=="object"&&a==="api",v=r.gridOptions[d];if(f||v!==h){r.gridOptions[d]=h;var g={type:d,currentValue:h,previousValue:v,changeSet:s,source:a};l.push(g)}}),this.validationService.processGridOptions(this.gridOptions),s.properties=l.map(function(u){return u.type}),l.forEach(function(u){r.gridOptions.debug&&console.log("AG Grid: Updated property ".concat(u.type," from "),u.previousValue," to  ",u.currentValue),r.propertyEventService.dispatchEvent(u)})},n.prototype.addEventListener=function(e,r){this.propertyEventService.addEventListener(e,r)},n.prototype.removeEventListener=function(e,r){this.propertyEventService.removeEventListener(e,r)},n.prototype.getScrollbarWidth=function(){if(this.scrollbarWidth==null){var e=typeof this.gridOptions.scrollbarWidth=="number"&&this.gridOptions.scrollbarWidth>=0,r=e?this.gridOptions.scrollbarWidth:rY();r!=null&&(this.scrollbarWidth=r,this.eventService.dispatchEvent({type:T.EVENT_SCROLLBAR_WIDTH_CHANGED}))}return this.scrollbarWidth},n.prototype.isRowModelType=function(e){return this.gridOptions.rowModelType===e||e==="clientSide"&&We(this.gridOptions.rowModelType)},n.prototype.isDomLayout=function(e){var r,i=(r=this.gridOptions.domLayout)!==null&&r!==void 0?r:"normal";return i===e},n.prototype.isRowSelection=function(){return this.gridOptions.rowSelection==="single"||this.gridOptions.rowSelection==="multiple"},n.prototype.useAsyncEvents=function(){return!this.get("suppressAsyncEvents")},n.prototype.isGetRowHeightFunction=function(){return typeof this.gridOptions.getRowHeight=="function"},n.prototype.getRowHeightForNode=function(e,r,i){if(r===void 0&&(r=!1),i==null&&(i=this.environment.getDefaultRowHeight()),this.isGetRowHeightFunction()){if(r)return{height:i,estimated:!0};var o={node:e,data:e.data},a=this.getCallback("getRowHeight")(o);if(this.isNumeric(a))return a===0&&Ge("The return of `getRowHeight` cannot be zero. If the intention is to hide rows, use a filter instead."),{height:Math.max(1,a),estimated:!1}}if(e.detail&&this.get("masterDetail"))return this.getMasterDetailRowHeight();var s=this.gridOptions.rowHeight&&this.isNumeric(this.gridOptions.rowHeight)?this.gridOptions.rowHeight:i;return{height:s,estimated:!1}},n.prototype.getMasterDetailRowHeight=function(){return this.get("detailRowAutoHeight")?{height:1,estimated:!1}:this.isNumeric(this.gridOptions.detailRowHeight)?{height:this.gridOptions.detailRowHeight,estimated:!1}:{height:300,estimated:!1}},n.prototype.getRowHeightAsNumber=function(){if(!this.gridOptions.rowHeight||We(this.gridOptions.rowHeight))return this.environment.getDefaultRowHeight();var e=this.environment.refreshRowHeightVariable();return e!==-1?e:(console.warn("AG Grid row height must be a number if not using standard row model"),this.environment.getDefaultRowHeight())},n.prototype.isNumeric=function(e){return!isNaN(e)&&typeof e=="number"&&isFinite(e)},n.prototype.getDomDataKey=function(){return this.domDataKey},n.prototype.getDomData=function(e,r){var i=e[this.getDomDataKey()];return i?i[r]:void 0},n.prototype.setDomData=function(e,r,i){var o=this.getDomDataKey(),a=e[o];We(a)&&(a={},e[o]=a),a[r]=i},n.prototype.getDocument=function(){var e=null;return this.gridOptions.getDocument&&oe(this.gridOptions.getDocument)?e=this.gridOptions.getDocument():this.eGridDiv&&(e=this.eGridDiv.ownerDocument),e&&oe(e)?e:document},n.prototype.getWindow=function(){var e=this.getDocument();return e.defaultView||window},n.prototype.getRootNode=function(){return this.eGridDiv.getRootNode()},n.prototype.getAsyncTransactionWaitMillis=function(){return oe(this.gridOptions.asyncTransactionWaitMillis)?this.gridOptions.asyncTransactionWaitMillis:50},n.prototype.isAnimateRows=function(){return this.get("ensureDomOrder")?!1:this.get("animateRows")},n.prototype.isGroupRowsSticky=function(){return!(this.get("suppressGroupRowsSticky")||this.get("paginateChildRows")||this.get("groupHideOpenParents")||this.isDomLayout("print"))},n.prototype.isColumnsSortingCoupledToGroup=function(){var e=this.gridOptions.autoGroupColumnDef;return!(e!=null&&e.comparator)&&!this.get("treeData")},n.prototype.getGroupAggFiltering=function(){var e=this.gridOptions.groupAggFiltering;if(typeof e=="function")return this.getCallback("groupAggFiltering");if(e===!0)return function(){return!0}},n.prototype.isGroupIncludeFooterTrueOrCallback=function(){var e=this.gridOptions.groupIncludeFooter;return e===!0||typeof e=="function"},n.prototype.getGroupIncludeFooter=function(){var e=this.gridOptions.groupIncludeFooter;return typeof e=="function"?this.getCallback("groupIncludeFooter"):e===!0?function(){return!0}:function(){return!1}},n.prototype.isGroupMultiAutoColumn=function(){return this.gridOptions.groupDisplayType?this.gridOptions.groupDisplayType==="multipleColumns":this.get("groupHideOpenParents")},n.prototype.isGroupUseEntireRow=function(e){return e?!1:this.gridOptions.groupDisplayType==="groupRows"},n.prototype.getGridCommonParams=function(){return{api:this.api,columnApi:this.columnApi,context:this.context}},n.prototype.addGridCommonParams=function(e){var r=e;return r.api=this.api,r.columnApi=this.columnApi,r.context=this.context,r};var t;return n.alwaysSyncGlobalEvents=new Set([T.EVENT_GRID_PRE_DESTROYED]),n.PROPERTY_COERCIONS=new Map(dD(dD(dD([],b_(Ss.BOOLEAN_PROPERTIES.map(function(e){return[e,t.toBoolean]})),!1),b_(Ss.NUMBER_PROPERTIES.map(function(e){return[e,t.toNumber]})),!1),[["groupAggFiltering",function(e){return typeof e=="function"?e:t.toBoolean(e)}],["pageSize",t.toConstrainedNum(1,Number.MAX_VALUE)],["autoSizePadding",t.toConstrainedNum(0,Number.MAX_VALUE)],["keepDetailRowsCount",t.toConstrainedNum(1,Number.MAX_VALUE)],["rowBuffer",t.toConstrainedNum(0,Number.MAX_VALUE)],["infiniteInitialRowCount",t.toConstrainedNum(1,Number.MAX_VALUE)],["cacheOverflowSize",t.toConstrainedNum(1,Number.MAX_VALUE)],["cacheBlockSize",t.toConstrainedNum(1,Number.MAX_VALUE)],["serverSideInitialRowCount",t.toConstrainedNum(1,Number.MAX_VALUE)],["viewportRowModelPageSize",t.toConstrainedNum(1,Number.MAX_VALUE)],["viewportRowModelBufferSize",t.toConstrainedNum(0,Number.MAX_VALUE)]],!1)),n.changeSetId=0,sl([E("gridOptions")],n.prototype,"gridOptions",void 0),sl([E("eventService")],n.prototype,"eventService",void 0),sl([E("environment")],n.prototype,"environment",void 0),sl([E("frameworkOverrides")],n.prototype,"frameworkOverrides",void 0),sl([E("eGridDiv")],n.prototype,"eGridDiv",void 0),sl([E("validationService")],n.prototype,"validationService",void 0),sl([E("gridApi")],n.prototype,"api",void 0),sl([z],n.prototype,"init",null),sl([ar],n.prototype,"destroy",null),n=t=sl([ie("gridOptionsService")],n),n}(),gPe=function(){var n=function(t,e){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])},n(t,e)};return function(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");n(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}}(),yPe=function(n,t,e,r){var i=arguments.length,o=i<3?t:r===null?r=Object.getOwnPropertyDescriptor(t,e):r,a;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(n,t,e,r);else for(var s=n.length-1;s>=0;s--)(a=n[s])&&(o=(i<3?a(o):i>3?a(t,e,o):a(t,e))||o);return i>3&&o&&Object.defineProperty(t,e,o),o},iq=function(n){gPe(t,n);function t(){return n!==null&&n.apply(this,arguments)||this}return t.prototype.getLocaleTextFunc=function(){var e=this.gridOptionsService.getCallback("getLocaleText");if(e)return function(i,o,a){var s={key:i,defaultValue:o,variableValues:a};return e(s)};var r=this.gridOptionsService.get("localeText");return function(i,o,a){var s=r&&r[i];if(s&&a&&a.length)for(var l=0;!(l>=a.length);){var u=s.indexOf("${variable}");if(u===-1)break;s=s.replace("${variable}",a[l++])}return s??o}},t=yPe([ie("localeService")],t),t}(X),mPe=function(){var n=function(t,e){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])},n(t,e)};return function(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");n(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}}(),CPe=function(n,t,e,r){var i=arguments.length,o=i<3?t:r===null?r=Object.getOwnPropertyDescriptor(t,e):r,a;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(n,t,e,r);else for(var s=n.length-1;s>=0;s--)(a=n[s])&&(o=(i<3?a(o):i>3?a(t,e,o):a(t,e))||o);return i>3&&o&&Object.defineProperty(t,e,o),o},SPe=function(n){mPe(t,n);function t(){return n.call(this,t.TEMPLATE,"vertical")||this}return t.prototype.postConstruct=function(){n.prototype.postConstruct.call(this),this.createManagedBean(new rX(this.eContainer)),this.ctrlsService.registerFakeVScrollComp(this),this.addManagedListener(this.eventService,T.EVENT_ROW_CONTAINER_HEIGHT_CHANGED,this.onRowContainerHeightChanged.bind(this))},t.prototype.setScrollVisible=function(){var e=this.scrollVisibleService.isVerticalScrollShowing(),r=this.invisibleScrollbar,i=e&&this.gridOptionsService.getScrollbarWidth()||0,o=i===0&&r?16:i;this.addOrRemoveCssClass("ag-scrollbar-invisible",r),Ka(this.getGui(),o),Ka(this.eViewport,o),Ka(this.eContainer,o),this.setDisplayed(e,{skipAriaHidden:!0})},t.prototype.onRowContainerHeightChanged=function(){var e=this.ctrlsService,r=e.getGridBodyCtrl(),i=r.getBodyViewportElement(),o=this.getScrollPosition(),a=i.scrollTop;o!=a&&this.setScrollPosition(a,!0)},t.prototype.getScrollPosition=function(){return this.getViewport().scrollTop},t.prototype.setScrollPosition=function(e,r){!r&&!ca(this.getViewport())&&this.attemptSettingScrollPosition(e),this.getViewport().scrollTop=e},t.TEMPLATE=`<div class="ag-body-vertical-scroll" aria-hidden="true">
            <div class="ag-body-vertical-scroll-viewport" ref="eViewport">
                <div class="ag-body-vertical-scroll-container" ref="eContainer"></div>
            </div>
        </div>`,CPe([z],t.prototype,"postConstruct",null),t}(nq),wPe=function(){var n=function(t,e){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])},n(t,e)};return function(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");n(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}}(),eo=function(){return eo=Object.assign||function(n){for(var t,e=1,r=arguments.length;e<r;e++){t=arguments[e];for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(n[i]=t[i])}return n},eo.apply(this,arguments)},Ap=function(n,t,e,r){var i=arguments.length,o=i<3?t:r===null?r=Object.getOwnPropertyDescriptor(t,e):r,a;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(n,t,e,r);else for(var s=n.length-1;s>=0;s--)(a=n[s])&&(o=(i<3?a(o):i>3?a(t,e,o):a(t,e))||o);return i>3&&o&&Object.defineProperty(t,e,o),o},ll=function(n,t){var e=typeof Symbol=="function"&&n[Symbol.iterator];if(!e)return n;var r=e.call(n),i,o=[],a;try{for(;(t===void 0||t-- >0)&&!(i=r.next()).done;)o.push(i.value)}catch(s){a={error:s}}finally{try{i&&!i.done&&(e=r.return)&&e.call(r)}finally{if(a)throw a.error}}return o},rm=function(n,t,e){if(e||arguments.length===2)for(var r=0,i=t.length,o;r<i;r++)(o||!(r in t))&&(o||(o=Array.prototype.slice.call(t,0,r)),o[r]=t[r]);return n.concat(o||Array.prototype.slice.call(t))},Z$={january:"January",february:"February",march:"March",april:"April",may:"May",june:"June",july:"July",august:"August",september:"September",october:"October",november:"November",december:"December"},Q$=["january","february","march","april","may","june","july","august","september","october","november","december"],oq=function(n){wPe(t,n);function t(){var e=n!==null&&n.apply(this,arguments)||this;return e.dataTypeDefinitions={},e.isWaitingForRowData=!1,e.isColumnTypeOverrideInDataTypeDefinitions=!1,e.columnStateUpdatesPendingInference={},e.columnStateUpdateListenerDestroyFuncs=[],e}return t.prototype.init=function(){var e=this;this.groupHideOpenParents=this.gridOptionsService.get("groupHideOpenParents"),this.addManagedPropertyListener("groupHideOpenParents",function(){e.groupHideOpenParents=e.gridOptionsService.get("groupHideOpenParents")}),this.processDataTypeDefinitions(),this.addManagedPropertyListener("dataTypeDefinitions",function(r){e.processDataTypeDefinitions(),e.columnModel.recreateColumnDefs(Rv(r.source))})},t.prototype.processDataTypeDefinitions=function(){var e=this,r,i=this.getDefaultDataTypes();this.dataTypeDefinitions={},Object.entries(i).forEach(function(a){var s=ll(a,2),l=s[0],u=s[1];e.dataTypeDefinitions[l]=eo(eo({},u),{groupSafeValueFormatter:e.createGroupSafeValueFormatter(u)})});var o=(r=this.gridOptionsService.get("dataTypeDefinitions"))!==null&&r!==void 0?r:{};this.dataTypeMatchers={},Object.entries(o).forEach(function(a){var s=ll(a,2),l=s[0],u=s[1],c=e.processDataTypeDefinition(u,o,[l],i);c&&(e.dataTypeDefinitions[l]=c,u.dataTypeMatcher&&(e.dataTypeMatchers[l]=u.dataTypeMatcher))}),this.checkObjectValueHandlers(i),["dateString","text","number","boolean","date"].forEach(function(a){var s=e.dataTypeMatchers[a];s&&delete e.dataTypeMatchers[a],e.dataTypeMatchers[a]=s??i[a].dataTypeMatcher})},t.prototype.mergeDataTypeDefinitions=function(e,r){var i=eo(eo({},e),r);return e.columnTypes&&r.columnTypes&&r.appendColumnTypes&&(i.columnTypes=rm(rm([],ll(this.convertColumnTypes(e.columnTypes)),!1),ll(this.convertColumnTypes(r.columnTypes)),!1)),i},t.prototype.processDataTypeDefinition=function(e,r,i,o){var a,s=e.extendsDataType;if(e.columnTypes&&(this.isColumnTypeOverrideInDataTypeDefinitions=!0),e.extendsDataType===e.baseDataType){var l=o[s],u=r[s];if(l&&u&&(l=u),!this.validateDataTypeDefinition(e,l,s))return;a=this.mergeDataTypeDefinitions(l,e)}else{if(i.includes(s)){Ge('Data type definition hierarchies (via the "extendsDataType" property) cannot contain circular references.');return}var c=r[s];if(!this.validateDataTypeDefinition(e,c,s))return;var d=this.processDataTypeDefinition(c,r,rm(rm([],ll(i),!1),[s],!1),o);if(!d)return;a=this.mergeDataTypeDefinitions(d,e)}return eo(eo({},a),{groupSafeValueFormatter:this.createGroupSafeValueFormatter(a)})},t.prototype.validateDataTypeDefinition=function(e,r,i){return r?r.baseDataType!==e.baseDataType?(Ge('The "baseDataType" property of a data type definition must match that of its parent.'),!1):!0:(Ge("The data type definition ".concat(i," does not exist.")),!1)},t.prototype.createGroupSafeValueFormatter=function(e){var r=this;if(e.valueFormatter)return function(i){var o,a;if(!((o=i.node)===null||o===void 0)&&o.group){var s=i.column.getAggFunc();if(s){if(s==="first"||s==="last")return e.valueFormatter(i);if(e.baseDataType==="number"&&s!=="count"){if(typeof i.value=="number")return e.valueFormatter(i);if(typeof i.value=="object"){if(!i.value)return;if("toNumber"in i.value)return e.valueFormatter(eo(eo({},i),{value:i.value.toNumber()}));if("value"in i.value)return e.valueFormatter(eo(eo({},i),{value:i.value.value}))}}}if(!r.gridOptionsService.get("suppressGroupMaintainValueType"))return}else if(r.groupHideOpenParents&&i.column.isRowGroupActive()){if(typeof i.value!="string"||!((a=e.dataTypeMatcher)===null||a===void 0)&&a.call(e,i.value))return e.valueFormatter(i);if(!r.gridOptionsService.get("suppressGroupMaintainValueType"))return}return e.valueFormatter(i)}},t.prototype.updateColDefAndGetDataTypeDefinitionColumnType=function(e,r,i){var o=r.cellDataType,a=r.field;if(o===void 0&&(o=e.cellDataType),(o==null||o===!0)&&(o=this.canInferCellDataType(e,r)?this.inferCellDataType(a,i):!1),!o){e.cellDataType=!1;return}var s=this.dataTypeDefinitions[o];if(!s){Ge('Missing data type definition - "'.concat(o,'"'));return}return e.cellDataType=o,s.groupSafeValueFormatter&&(e.valueFormatter=s.groupSafeValueFormatter),s.valueParser&&(e.valueParser=s.valueParser),s.suppressDefaultProperties||this.setColDefPropertiesForBaseDataType(e,s,i),s.columnTypes},t.prototype.updateColDefAndGetColumnType=function(e,r,i){var o,a,s=this.updateColDefAndGetDataTypeDefinitionColumnType(e,r,i),l=(a=(o=r.type)!==null&&o!==void 0?o:s)!==null&&a!==void 0?a:e.type;return e.type=l,l?this.convertColumnTypes(l):void 0},t.prototype.addColumnListeners=function(e){if(this.isWaitingForRowData){var r=this.columnStateUpdatesPendingInference[e.getColId()];if(r){var i=function(o){r.add(o.key)};e.addEventListener(rt.EVENT_STATE_UPDATED,i),this.columnStateUpdateListenerDestroyFuncs.push(function(){return e.removeEventListener(rt.EVENT_STATE_UPDATED,i)})}}},t.prototype.canInferCellDataType=function(e,r){var i=this,o;if(this.rowModel.getType()!=="clientSide")return!1;var a={cellRenderer:!0,valueGetter:!0,valueParser:!0,refData:!0};if(this.doColDefPropsPreventInference(r,a))return!1;var s=r.type===null?e.type:r.type;if(s){var l=(o=this.gridOptionsService.get("columnTypes"))!==null&&o!==void 0?o:{},u=this.convertColumnTypes(s).some(function(c){var d=l[c.trim()];return d&&i.doColDefPropsPreventInference(d,a)});if(u)return!1}return!this.doColDefPropsPreventInference(e,a)},t.prototype.doColDefPropsPreventInference=function(e,r){var i=this;return[["cellRenderer","agSparklineCellRenderer"],["valueGetter",void 0],["valueParser",void 0],["refData",void 0]].some(function(o){var a=ll(o,2),s=a[0],l=a[1];return i.doesColDefPropPreventInference(e,r,s,l)})},t.prototype.doesColDefPropPreventInference=function(e,r,i,o){if(!r[i])return!1;var a=e[i];return a===null?(r[i]=!1,!1):o===void 0?!!a:a===o},t.prototype.inferCellDataType=function(e,r){var i;if(e){var o,a=this.getInitialData();if(a){var s=e.indexOf(".")>=0&&!this.gridOptionsService.get("suppressFieldDotNotation");o=Jv(a,e,s)}else this.initWaitForRowData(r);if(o!=null){var l=ll((i=Object.entries(this.dataTypeMatchers).find(function(c){var d=ll(c,2);d[0];var p=d[1];return p(o)}))!==null&&i!==void 0?i:["object"],1),u=l[0];return u}}},t.prototype.getInitialData=function(){var e=this.gridOptionsService.get("rowData");if(e!=null&&e.length)return e[0];if(this.initialData)return this.initialData;var r=this.rowModel.getRootNode().allLeafChildren;return r!=null&&r.length?r[0].data:null},t.prototype.initWaitForRowData=function(e){var r=this;if(this.columnStateUpdatesPendingInference[e]=new Set,!this.isWaitingForRowData){this.isWaitingForRowData=!0;var i=this.isColumnTypeOverrideInDataTypeDefinitions;i&&this.columnModel.queueResizeOperations();var o=this.addManagedListener(this.eventService,T.EVENT_ROW_DATA_UPDATE_STARTED,function(a){var s=a.firstRowData;if(s){o==null||o(),r.isWaitingForRowData=!1,r.processColumnsPendingInference(s,i),r.columnStateUpdatesPendingInference={},i&&r.columnModel.processResizeOperations();var l={type:T.EVENT_DATA_TYPES_INFERRED};r.eventService.dispatchEvent(l)}})}},t.prototype.isPendingInference=function(){return this.isWaitingForRowData},t.prototype.processColumnsPendingInference=function(e,r){var i=this;this.initialData=e;var o=[];this.columnStateUpdateListenerDestroyFuncs.forEach(function(l){return l()}),this.columnStateUpdateListenerDestroyFuncs=[];var a={},s={};Object.entries(this.columnStateUpdatesPendingInference).forEach(function(l){var u=ll(l,2),c=u[0],d=u[1],p=i.columnModel.getGridColumn(c);if(p){var h=p.getColDef();if(i.columnModel.resetColumnDefIntoColumn(p,"cellDataTypeInferred")){var f=p.getColDef();if(r&&f.type&&f.type!==h.type){var v=i.getUpdatedColumnState(p,d);v.rowGroup&&v.rowGroupIndex==null&&(a[c]=v),v.pivot&&v.pivotIndex==null&&(s[c]=v),o.push(v)}}}}),r&&o.push.apply(o,rm([],ll(this.columnModel.generateColumnStateForRowGroupAndPivotIndexes(a,s)),!1)),o.length&&this.columnModel.applyColumnState({state:o},"cellDataTypeInferred"),this.initialData=null},t.prototype.getUpdatedColumnState=function(e,r){var i=this.columnModel.getColumnStateFromColDef(e);return r.forEach(function(o){delete i[o],o==="rowGroup"?delete i.rowGroupIndex:o==="pivot"&&delete i.pivotIndex}),i},t.prototype.checkObjectValueHandlers=function(e){var r=this.dataTypeDefinitions.object,i=e.object;this.hasObjectValueParser=r.valueParser!==i.valueParser,this.hasObjectValueFormatter=r.valueFormatter!==i.valueFormatter},t.prototype.convertColumnTypes=function(e){var r=[];if(e instanceof Array){var i=e.some(function(o){return typeof o!="string"});i?console.warn("if colDef.type is supplied an array it should be of type 'string[]'"):r=e}else typeof e=="string"?r=e.split(","):console.warn("colDef.type should be of type 'string' | 'string[]'");return r},t.prototype.getDateStringTypeDefinition=function(e){var r;return e?(r=this.getDataTypeDefinition(e))!==null&&r!==void 0?r:this.dataTypeDefinitions.dateString:this.dataTypeDefinitions.dateString},t.prototype.getDateParserFunction=function(e){return this.getDateStringTypeDefinition(e).dateParser},t.prototype.getDateFormatterFunction=function(e){return this.getDateStringTypeDefinition(e).dateFormatter},t.prototype.getDataTypeDefinition=function(e){var r=e.getColDef();if(r.cellDataType)return this.dataTypeDefinitions[r.cellDataType]},t.prototype.getBaseDataType=function(e){var r;return(r=this.getDataTypeDefinition(e))===null||r===void 0?void 0:r.baseDataType},t.prototype.checkType=function(e,r){var i;if(r==null)return!0;var o=(i=this.getDataTypeDefinition(e))===null||i===void 0?void 0:i.dataTypeMatcher;return o?o(r):!0},t.prototype.validateColDef=function(e){e.cellDataType==="object"&&(e.valueFormatter===this.dataTypeDefinitions.object.groupSafeValueFormatter&&!this.hasObjectValueFormatter&&Ge('Cell data type is "object" but no value formatter has been provided. Please either provide an object data type definition with a value formatter, or set "colDef.valueFormatter"'),e.editable&&e.valueParser===this.dataTypeDefinitions.object.valueParser&&!this.hasObjectValueParser&&Ge('Cell data type is "object" but no value parser has been provided. Please either provide an object data type definition with a value parser, or set "colDef.valueParser"'))},t.prototype.setColDefPropertiesForBaseDataType=function(e,r,i){var o=this,a=function(d,p,h){var f=d.getColDef().valueFormatter;return f===r.groupSafeValueFormatter&&(f=r.valueFormatter),o.valueFormatterService.formatValue(d,p,h,f)},s=He.__isRegistered(pe.SetFilterModule,this.context.getGridId()),l=this.localeService.getLocaleTextFunc(),u=function(d){var p=e.filterParams;e.filterParams=typeof p=="object"?eo(eo({},p),d):d};switch(r.baseDataType){case"number":{e.cellEditor="agNumberCellEditor",s&&u({comparator:function(d,p){var h=d==null?0:parseInt(d),f=p==null?0:parseInt(p);return h===f?0:h>f?1:-1}});break}case"boolean":{e.cellEditor="agCheckboxCellEditor",e.cellRenderer="agCheckboxCellRenderer",e.suppressKeyboardEvent=function(d){return!!d.colDef.editable&&d.event.key===U.SPACE},u(s?{valueFormatter:function(d){return oe(d.value)?l(String(d.value),d.value?"True":"False"):l("blanks","(Blanks)")}}:{maxNumConditions:1,debounceMs:0,filterOptions:["empty",{displayKey:"true",displayName:"True",predicate:function(d,p){return p},numberOfInputs:0},{displayKey:"false",displayName:"False",predicate:function(d,p){return p===!1},numberOfInputs:0}]});break}case"date":{e.cellEditor="agDateCellEditor",e.keyCreator=function(d){return a(d.column,d.node,d.value)},s&&u({valueFormatter:function(d){var p=a(d.column,d.node,d.value);return oe(p)?p:l("blanks","(Blanks)")},treeList:!0,treeListFormatter:function(d,p){if(p===1&&d!=null){var h=Q$[Number(d)-1];return l(h,Z$[h])}return d??l("blanks","(Blanks)")}});break}case"dateString":{e.cellEditor="agDateStringCellEditor",e.keyCreator=function(d){return a(d.column,d.node,d.value)};var c=r.dateParser;u(s?{valueFormatter:function(d){var p=a(d.column,d.node,d.value);return oe(p)?p:l("blanks","(Blanks)")},treeList:!0,treeListPathGetter:function(d){var p=c(d??void 0);return p?[String(p.getFullYear()),String(p.getMonth()+1),String(p.getDate())]:null},treeListFormatter:function(d,p){if(p===1&&d!=null){var h=Q$[Number(d)-1];return l(h,Z$[h])}return d??l("blanks","(Blanks)")}}:{comparator:function(d,p){var h=c(p);return p==null||h<d?-1:h>d?1:0}});break}case"object":{e.cellEditorParams={useFormatter:!0},e.comparator=function(d,p){var h=o.columnModel.getPrimaryColumn(i),f=h==null?void 0:h.getColDef();if(!h||!f)return 0;var v=d==null?"":a(h,null,d),g=p==null?"":a(h,null,p);return v===g?0:v>g?1:-1},e.keyCreator=function(d){return a(d.column,d.node,d.value)},s?u({valueFormatter:function(d){var p=a(d.column,d.node,d.value);return oe(p)?p:l("blanks","(Blanks)")}}):e.filterValueGetter=function(d){return a(d.column,d.node,o.valueService.getValue(d.column,d.node))};break}}},t.prototype.getDefaultDataTypes=function(){var e=function(i){return!!i.match("^\\d{4}-\\d{2}-\\d{2}$")},r=this.localeService.getLocaleTextFunc();return{number:{baseDataType:"number",valueParser:function(i){var o,a;return((a=(o=i.newValue)===null||o===void 0?void 0:o.trim)===null||a===void 0?void 0:a.call(o))===""?null:Number(i.newValue)},valueFormatter:function(i){return i.value==null?"":typeof i.value!="number"||isNaN(i.value)?r("invalidNumber","Invalid Number"):String(i.value)},dataTypeMatcher:function(i){return typeof i=="number"}},text:{baseDataType:"text",valueParser:function(i){return i.newValue===""?null:FS(i.newValue)},dataTypeMatcher:function(i){return typeof i=="string"}},boolean:{baseDataType:"boolean",valueParser:function(i){var o,a;return i.newValue==null?i.newValue:((a=(o=i.newValue)===null||o===void 0?void 0:o.trim)===null||a===void 0?void 0:a.call(o))===""?null:String(i.newValue).toLowerCase()==="true"},valueFormatter:function(i){return i.value==null?"":String(i.value)},dataTypeMatcher:function(i){return typeof i=="boolean"}},date:{baseDataType:"date",valueParser:function(i){return ho(i.newValue==null?null:String(i.newValue))},valueFormatter:function(i){var o;return i.value==null?"":!(i.value instanceof Date)||isNaN(i.value.getTime())?r("invalidDate","Invalid Date"):(o=za(i.value,!1))!==null&&o!==void 0?o:""},dataTypeMatcher:function(i){return i instanceof Date}},dateString:{baseDataType:"dateString",dateParser:function(i){var o;return(o=ho(i))!==null&&o!==void 0?o:void 0},dateFormatter:function(i){var o;return(o=za(i??null,!1))!==null&&o!==void 0?o:void 0},valueParser:function(i){return e(String(i.newValue))?i.newValue:null},valueFormatter:function(i){return e(String(i.value))?i.value:""},dataTypeMatcher:function(i){return typeof i=="string"&&e(i)}},object:{baseDataType:"object",valueParser:function(){return null},valueFormatter:function(i){var o;return(o=FS(i.value))!==null&&o!==void 0?o:""}}}},Ap([E("rowModel")],t.prototype,"rowModel",void 0),Ap([E("columnModel")],t.prototype,"columnModel",void 0),Ap([E("columnUtils")],t.prototype,"columnUtils",void 0),Ap([E("valueService")],t.prototype,"valueService",void 0),Ap([E("valueFormatterService")],t.prototype,"valueFormatterService",void 0),Ap([z],t.prototype,"init",null),t=Ap([ie("dataTypeService")],t),t}(X),_Pe=function(){var n=function(t,e){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])},n(t,e)};return function(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");n(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}}(),J$=function(n,t,e,r){var i=arguments.length,o=i<3?t:r===null?r=Object.getOwnPropertyDescriptor(t,e):r,a;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(n,t,e,r);else for(var s=n.length-1;s>=0;s--)(a=n[s])&&(o=(i<3?a(o):i>3?a(t,e,o):a(t,e))||o);return i>3&&o&&Object.defineProperty(t,e,o),o},aq=function(n){_Pe(t,n);function t(){return n!==null&&n.apply(this,arguments)||this}return t.prototype.parseValue=function(e,r,i,o){var a=e.getColDef(),s=this.gridOptionsService.addGridCommonParams({node:r,data:r==null?void 0:r.data,oldValue:o,newValue:i,colDef:a,column:e}),l=a.valueParser;return oe(l)?typeof l=="function"?l(s):this.expressionService.evaluate(l,s):i},J$([E("expressionService")],t.prototype,"expressionService",void 0),t=J$([ie("valueParserService")],t),t}(X),xPe=function(){var n=function(t,e){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])},n(t,e)};return function(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");n(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}}(),nm=function(n,t,e,r){var i=arguments.length,o=i<3?t:r===null?r=Object.getOwnPropertyDescriptor(t,e):r,a;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(n,t,e,r);else for(var s=n.length-1;s>=0;s--)(a=n[s])&&(o=(i<3?a(o):i>3?a(t,e,o):a(t,e))||o);return i>3&&o&&Object.defineProperty(t,e,o),o},EPe=function(n){xPe(t,n);function t(){var e=n!==null&&n.apply(this,arguments)||this;return e.waitingForColumns=!1,e}return t.prototype.postConstruct=function(){var e=this;this.addManagedPropertyListener("columnDefs",function(r){return e.setColumnDefs(r)})},t.prototype.start=function(){var e=this;this.ctrlsService.whenReady(function(){var r=e.gridOptionsService.get("columnDefs");r?e.setColumnsAndData(r):e.waitingForColumns=!0,e.gridReady()})},t.prototype.setColumnsAndData=function(e){this.columnModel.setColumnDefs(e??[],"gridInitializing"),this.rowModel.start()},t.prototype.gridReady=function(){var e=this;this.dispatchGridReadyEvent();var r=He.__isRegistered(pe.EnterpriseCoreModule,this.context.getGridId()),i=new bT("AG Grid",function(){return e.gridOptionsService.get("debug")});i.log("initialised successfully, enterprise = ".concat(r))},t.prototype.dispatchGridReadyEvent=function(){var e={type:T.EVENT_GRID_READY};this.eventService.dispatchEvent(e)},t.prototype.setColumnDefs=function(e){var r=this.gridOptionsService.get("columnDefs");if(r){if(this.waitingForColumns){this.waitingForColumns=!1,this.setColumnsAndData(r);return}this.columnModel.setColumnDefs(r,Rv(e.source))}},nm([E("ctrlsService")],t.prototype,"ctrlsService",void 0),nm([E("columnModel")],t.prototype,"columnModel",void 0),nm([E("rowModel")],t.prototype,"rowModel",void 0),nm([z],t.prototype,"postConstruct",null),t=nm([ie("syncService")],t),t}(X),bPe=function(){var n=function(t,e){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])},n(t,e)};return function(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");n(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}}(),TF=function(){return TF=Object.assign||function(n){for(var t,e=1,r=arguments.length;e<r;e++){t=arguments[e];for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(n[i]=t[i])}return n},TF.apply(this,arguments)},im=function(n,t,e,r){var i=arguments.length,o=i<3?t:r===null?r=Object.getOwnPropertyDescriptor(t,e):r,a;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(n,t,e,r);else for(var s=n.length-1;s>=0;s--)(a=n[s])&&(o=(i<3?a(o):i>3?a(t,e,o):a(t,e))||o);return i>3&&o&&Object.defineProperty(t,e,o),o},OPe=function(n){bPe(t,n);function t(){var e=n!==null&&n.apply(this,arguments)||this;return e.manuallyDisplayed=!1,e}return t.prototype.postConstruct=function(){var e=this;this.addManagedListener(this.eventService,T.EVENT_ROW_DATA_UPDATED,function(){return e.onRowDataUpdated()}),this.addManagedListener(this.eventService,T.EVENT_NEW_COLUMNS_LOADED,function(){return e.onNewColumnsLoaded()})},t.prototype.registerOverlayWrapperComp=function(e){this.overlayWrapperComp=e,(!this.gridOptionsService.get("columnDefs")||this.gridOptionsService.isRowModelType("clientSide")&&!this.gridOptionsService.get("rowData"))&&this.showLoadingOverlay()},t.prototype.showLoadingOverlay=function(){if(!this.gridOptionsService.get("suppressLoadingOverlay")){var e={},r=this.userComponentFactory.getLoadingOverlayCompDetails(e);this.showOverlay(r,"ag-overlay-loading-wrapper","loadingOverlayComponentParams")}},t.prototype.showNoRowsOverlay=function(){if(!this.gridOptionsService.get("suppressNoRowsOverlay")){var e={},r=this.userComponentFactory.getNoRowsOverlayCompDetails(e);this.showOverlay(r,"ag-overlay-no-rows-wrapper","noRowsOverlayComponentParams")}},t.prototype.showOverlay=function(e,r,i){var o=this,a=e.newAgStackInstance(),s=this.addManagedPropertyListener(i,function(l){var u=l.currentValue;a.then(function(c){c.refresh&&c.refresh(o.gridOptionsService.addGridCommonParams(TF({},u??{})))})});this.manuallyDisplayed=this.columnModel.isReady()&&!this.paginationProxy.isEmpty(),this.overlayWrapperComp.showOverlay(a,r,s)},t.prototype.hideOverlay=function(){this.manuallyDisplayed=!1,this.overlayWrapperComp.hideOverlay()},t.prototype.showOrHideOverlay=function(){var e=this.paginationProxy.isEmpty(),r=this.gridOptionsService.get("suppressNoRowsOverlay");e&&!r?this.showNoRowsOverlay():this.hideOverlay()},t.prototype.onRowDataUpdated=function(){this.showOrHideOverlay()},t.prototype.onNewColumnsLoaded=function(){this.columnModel.isReady()&&!this.paginationProxy.isEmpty()&&!this.manuallyDisplayed&&this.hideOverlay()},im([E("userComponentFactory")],t.prototype,"userComponentFactory",void 0),im([E("paginationProxy")],t.prototype,"paginationProxy",void 0),im([E("columnModel")],t.prototype,"columnModel",void 0),im([z],t.prototype,"postConstruct",null),t=im([ie("overlayService")],t),t}(X),RPe=function(){var n=function(t,e){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])},n(t,e)};return function(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");n(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}}(),nd=function(){return nd=Object.assign||function(n){for(var t,e=1,r=arguments.length;e<r;e++){t=arguments[e];for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(n[i]=t[i])}return n},nd.apply(this,arguments)},Fo=function(n,t,e,r){var i=arguments.length,o=i<3?t:r===null?r=Object.getOwnPropertyDescriptor(t,e):r,a;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(n,t,e,r);else for(var s=n.length-1;s>=0;s--)(a=n[s])&&(o=(i<3?a(o):i>3?a(t,e,o):a(t,e))||o);return i>3&&o&&Object.defineProperty(t,e,o),o},TPe=function(n){var t=typeof Symbol=="function"&&Symbol.iterator,e=t&&n[t],r=0;if(e)return e.call(n);if(n&&typeof n.length=="number")return{next:function(){return n&&r>=n.length&&(n=void 0),{value:n&&n[r++],done:!n}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")},PPe=function(n,t){var e=typeof Symbol=="function"&&n[Symbol.iterator];if(!e)return n;var r=e.call(n),i,o=[],a;try{for(;(t===void 0||t-- >0)&&!(i=r.next()).done;)o.push(i.value)}catch(s){a={error:s}}finally{try{i&&!i.done&&(e=r.return)&&e.call(r)}finally{if(a)throw a.error}}return o},APe=function(n){RPe(t,n);function t(){var e=n!==null&&n.apply(this,arguments)||this;return e.suppressEvents=!0,e.queuedUpdateSources=new Set,e.dispatchStateUpdateEventDebounced=ia(function(){return e.dispatchQueuedStateUpdateEvents()},0),e}return t.prototype.postConstruct=function(){var e=this,r;this.isClientSideRowModel=this.rowModel.getType()==="clientSide",this.cachedState=(r=this.gridOptionsService.get("initialState"))!==null&&r!==void 0?r:{},this.ctrlsService.whenReady(function(){return e.suppressEventsAndDispatchInitEvent(function(){return e.setupStateOnGridReady()})});var i=this.addManagedListener(this.eventService,T.EVENT_NEW_COLUMNS_LOADED,function(s){var l=s.source;l==="gridInitializing"&&(i==null||i(),e.suppressEventsAndDispatchInitEvent(function(){return e.setupStateOnColumnsInitialised()}))}),o=this.addManagedListener(this.eventService,T.EVENT_ROW_COUNT_READY,function(){o==null||o(),e.suppressEventsAndDispatchInitEvent(function(){return e.setupStateOnRowCountReady()})}),a=this.addManagedListener(this.eventService,T.EVENT_FIRST_DATA_RENDERED,function(){a==null||a(),e.suppressEventsAndDispatchInitEvent(function(){return e.setupStateOnFirstDataRendered()})})},t.prototype.getState=function(){return this.cachedState},t.prototype.setupStateOnGridReady=function(){var e=this;this.updateCachedState("sideBar",this.getSideBarState()),this.addManagedListener(this.eventService,T.EVENT_TOOL_PANEL_VISIBLE_CHANGED,function(){return e.updateCachedState("sideBar",e.getSideBarState())}),this.addManagedListener(this.eventService,T.EVENT_SIDE_BAR_UPDATED,function(){return e.updateCachedState("sideBar",e.getSideBarState())})},t.prototype.setupStateOnColumnsInitialised=function(){var e=this,r,i=(r=this.gridOptionsService.get("initialState"))!==null&&r!==void 0?r:{};this.setColumnState(i),this.setColumnGroupState(i),this.updateColumnState(["aggregation","columnOrder","columnPinning","columnSizing","columnVisibility","pivot","pivot","rowGroup","sort"]),this.updateCachedState("columnGroup",this.getColumnGroupState()),this.addManagedListener(this.eventService,T.EVENT_COLUMN_VALUE_CHANGED,function(){return e.updateColumnState(["aggregation"])}),this.addManagedListener(this.eventService,T.EVENT_COLUMN_MOVED,function(){return e.updateColumnState(["columnOrder"])}),this.addManagedListener(this.eventService,T.EVENT_COLUMN_PINNED,function(){return e.updateColumnState(["columnPinning"])}),this.addManagedListener(this.eventService,T.EVENT_COLUMN_RESIZED,function(){return e.updateColumnState(["columnSizing"])}),this.addManagedListener(this.eventService,T.EVENT_COLUMN_VISIBLE,function(){return e.updateColumnState(["columnVisibility"])}),this.addManagedListener(this.eventService,T.EVENT_COLUMN_PIVOT_CHANGED,function(){return e.updateColumnState(["pivot"])}),this.addManagedListener(this.eventService,T.EVENT_COLUMN_PIVOT_MODE_CHANGED,function(){return e.updateColumnState(["pivot"])}),this.addManagedListener(this.eventService,T.EVENT_COLUMN_ROW_GROUP_CHANGED,function(){return e.updateColumnState(["rowGroup"])}),this.addManagedListener(this.eventService,T.EVENT_SORT_CHANGED,function(){return e.updateColumnState(["sort"])}),this.addManagedListener(this.eventService,T.EVENT_NEW_COLUMNS_LOADED,function(){return e.updateColumnState(["aggregation","columnOrder","columnPinning","columnSizing","columnVisibility","pivot","pivot","rowGroup","sort"])}),this.addManagedListener(this.eventService,T.EVENT_COLUMN_GROUP_OPENED,function(){return e.updateCachedState("columnGroup",e.getColumnGroupState())})},t.prototype.setupStateOnRowCountReady=function(){var e=this,r,i=(r=this.gridOptionsService.get("initialState"))!==null&&r!==void 0?r:{},o=i.filter,a=i.rowGroupExpansion,s=i.rowSelection,l=i.pagination,u=this.gridOptionsService.get("advancedFilterModel");(o||u)&&this.setFilterState(o,u),a&&this.setRowGroupExpansionState(a),s&&this.setRowSelectionState(s),l&&this.setPaginationState(l),this.updateCachedState("filter",this.getFilterState()),this.updateCachedState("rowGroupExpansion",this.getRowGroupExpansionState()),this.updateCachedState("rowSelection",this.getRowSelectionState()),this.updateCachedState("pagination",this.getPaginationState()),this.addManagedListener(this.eventService,T.EVENT_FILTER_CHANGED,function(){return e.updateCachedState("filter",e.getFilterState())}),this.addManagedListener(this.eventService,T.EVENT_ROW_GROUP_OPENED,function(){return e.updateCachedState("rowGroupExpansion",e.getRowGroupExpansionState())}),this.addManagedListener(this.eventService,T.EVENT_EXPAND_COLLAPSE_ALL,function(){return e.updateCachedState("rowGroupExpansion",e.getRowGroupExpansionState())}),this.addManagedListener(this.eventService,T.EVENT_SELECTION_CHANGED,function(){return e.updateCachedState("rowSelection",e.getRowSelectionState())}),this.addManagedListener(this.eventService,T.EVENT_PAGINATION_CHANGED,function(c){(c.newPage||c.newPageSize)&&e.updateCachedState("pagination",e.getPaginationState())})},t.prototype.setupStateOnFirstDataRendered=function(){var e=this,r,i=(r=this.gridOptionsService.get("initialState"))!==null&&r!==void 0?r:{},o=i.scroll,a=i.rangeSelection,s=i.focusedCell,l=i.columnOrder;s&&this.setFocusedCellState(s),a&&this.setRangeSelectionState(a),o&&this.setScrollState(o),this.setColumnPivotState(!!(l!=null&&l.orderedColIds)),this.updateCachedState("sideBar",this.getSideBarState()),this.updateCachedState("focusedCell",this.getFocusedCellState()),this.updateCachedState("rangeSelection",this.getRangeSelectionState()),this.updateCachedState("scroll",this.getScrollState()),this.addManagedListener(this.eventService,T.EVENT_CELL_FOCUSED,function(){return e.updateCachedState("focusedCell",e.getFocusedCellState())}),this.addManagedListener(this.eventService,T.EVENT_RANGE_SELECTION_CHANGED,function(u){u.finished&&e.updateCachedState("rangeSelection",e.getRangeSelectionState())}),this.addManagedListener(this.eventService,T.EVENT_BODY_SCROLL_END,function(){return e.updateCachedState("scroll",e.getScrollState())})},t.prototype.getColumnState=function(){for(var e=this.columnModel.isPivotMode(),r=[],i=[],o=[],a=[],s=[],l=[],u=[],c=[],d=[],p=this.columnModel.getColumnState(),h=0;h<p.length;h++){var f=p[h],v=f.colId,g=f.sort,y=f.sortIndex,m=f.rowGroup,C=f.rowGroupIndex,S=f.aggFunc,w=f.pivot,_=f.pivotIndex,x=f.pinned,b=f.hide,O=f.width,P=f.flex;d.push(v),g&&(r[y??0]={colId:v,sort:g}),m&&(i[C??0]=v),typeof S=="string"&&o.push({colId:v,aggFunc:S}),w&&(a[_??0]=v),x&&(x==="right"?l:s).push(v),b&&u.push(v),(P||O)&&c.push({colId:v,flex:P??void 0,width:O})}return{sort:r.length?{sortModel:r}:void 0,rowGroup:i.length?{groupColIds:i}:void 0,aggregation:o.length?{aggregationModel:o}:void 0,pivot:a.length||e?{pivotMode:e,pivotColIds:a}:void 0,columnPinning:s.length||l.length?{leftColIds:s,rightColIds:l}:void 0,columnVisibility:u.length?{hiddenColIds:u}:void 0,columnSizing:c.length?{columnSizingModel:c}:void 0,columnOrder:d.length?{orderedColIds:d}:void 0}},t.prototype.setColumnState=function(e){var r=e.sort,i=e.rowGroup,o=e.aggregation,a=e.pivot,s=e.columnPinning,l=e.columnVisibility,u=e.columnSizing,c=e.columnOrder,d={},p=function(y){var m=d[y];return m||(m={colId:y},d[y]=m,m)};r&&r.sortModel.forEach(function(y,m){var C=y.colId,S=y.sort,w=p(C);w.sort=S,w.sortIndex=m}),i&&i.groupColIds.forEach(function(y,m){var C=p(y);C.rowGroup=!0,C.rowGroupIndex=m}),o&&o.aggregationModel.forEach(function(y){var m=y.colId,C=y.aggFunc;p(m).aggFunc=C}),a&&(a.pivotColIds.forEach(function(y,m){var C=p(y);C.pivot=!0,C.pivotIndex=m}),this.gridOptionsService.updateGridOptions({options:{pivotMode:a.pivotMode},source:"gridInitializing"})),s&&(s.leftColIds.forEach(function(y){p(y).pinned="left"}),s.rightColIds.forEach(function(y){p(y).pinned="right"})),l&&l.hiddenColIds.forEach(function(y){p(y).hide=!0}),u&&u.columnSizingModel.forEach(function(y){var m=y.colId,C=y.flex,S=y.width,w=p(m);w.flex=C??null,w.width=S});var h=c==null?void 0:c.orderedColIds,f=!!(h!=null&&h.length),v=f?h.map(function(y){return p(y)}):Object.values(d);if(v.length){this.columnStates=v;var g={sort:null,sortIndex:null,rowGroup:null,rowGroupIndex:null,aggFunc:null,pivot:null,pivotIndex:null,pinned:null,hide:null,flex:null};this.columnModel.applyColumnState({state:v,applyOrder:f,defaultState:g},"gridInitializing")}},t.prototype.setColumnPivotState=function(e){var r,i,o=this.columnStates;this.columnStates=void 0;var a=this.columnGroupStates;if(this.columnGroupStates=void 0,!!this.columnModel.isSecondaryColumnsPresent()){if(o){var s=[];try{for(var l=TPe(o),u=l.next();!u.done;u=l.next()){var c=u.value;this.columnModel.getSecondaryColumn(c.colId)&&s.push(c)}}catch(d){r={error:d}}finally{try{u&&!u.done&&(i=l.return)&&i.call(l)}finally{if(r)throw r.error}}this.columnModel.applyColumnState({state:s,applyOrder:e},"gridInitializing")}a&&this.columnModel.setColumnGroupState(a,"gridInitializing")}},t.prototype.getColumnGroupState=function(){var e=this.columnModel.getColumnGroupState(),r=[];return e.forEach(function(i){var o=i.groupId,a=i.open;a&&r.push(o)}),r.length?{openColumnGroupIds:r}:void 0},t.prototype.setColumnGroupState=function(e){var r;if(e.hasOwnProperty("columnGroup")){var i=new Set((r=e.columnGroup)===null||r===void 0?void 0:r.openColumnGroupIds),o=this.columnModel.getColumnGroupState(),a=o.map(function(s){var l=s.groupId,u=i.has(l);return u&&i.delete(l),{groupId:l,open:u}});i.forEach(function(s){a.push({groupId:s,open:!0})}),a.length&&(this.columnGroupStates=a),this.columnModel.setColumnGroupState(a,"gridInitializing")}},t.prototype.getFilterState=function(){var e,r=this.filterManager.getFilterModel();r&&Object.keys(r).length===0&&(r=void 0);var i=(e=this.filterManager.getAdvancedFilterModel())!==null&&e!==void 0?e:void 0;return r||i?{filterModel:r,advancedFilterModel:i}:void 0},t.prototype.setFilterState=function(e,r){var i=e??{advancedFilterModel:r},o=i.filterModel,a=i.advancedFilterModel;o&&this.filterManager.setFilterModel(o,"columnFilter"),a&&this.filterManager.setAdvancedFilterModel(a)},t.prototype.getRangeSelectionState=function(){var e,r=(e=this.rangeService)===null||e===void 0?void 0:e.getCellRanges().map(function(i){var o=i.id,a=i.type,s=i.startRow,l=i.endRow,u=i.columns,c=i.startColumn;return{id:o,type:a,startRow:s,endRow:l,colIds:u.map(function(d){return d.getColId()}),startColId:c.getColId()}});return r!=null&&r.length?{cellRanges:r}:void 0},t.prototype.setRangeSelectionState=function(e){var r=this,i;if(this.gridOptionsService.get("enableRangeSelection")){var o=e.cellRanges.map(function(a){return nd(nd({},a),{columns:a.colIds.map(function(s){return r.columnModel.getGridColumn(s)}),startColumn:r.columnModel.getGridColumn(a.startColId)})});(i=this.rangeService)===null||i===void 0||i.setCellRanges(o)}},t.prototype.getScrollState=function(){var e,r,i;if(this.isClientSideRowModel){var o=(e=this.ctrlsService.getGridBodyCtrl())===null||e===void 0?void 0:e.getScrollFeature(),a=((r=o==null?void 0:o.getHScrollPosition())!==null&&r!==void 0?r:{left:0}).left,s=((i=o==null?void 0:o.getVScrollPosition())!==null&&i!==void 0?i:{top:0}).top;return s||a?{top:s,left:a}:void 0}},t.prototype.setScrollState=function(e){var r;if(this.isClientSideRowModel){var i=e.top,o=e.left;(r=this.ctrlsService.getGridBodyCtrl())===null||r===void 0||r.getScrollFeature().setScrollPosition(i,o)}},t.prototype.getSideBarState=function(){var e,r;return(r=(e=this.sideBarService)===null||e===void 0?void 0:e.getSideBarComp())===null||r===void 0?void 0:r.getState()},t.prototype.getFocusedCellState=function(){if(this.isClientSideRowModel){var e=this.focusService.getFocusedCell();if(e){var r=e.column,i=e.rowIndex,o=e.rowPinned;return{colId:r.getColId(),rowIndex:i,rowPinned:o}}}},t.prototype.setFocusedCellState=function(e){if(this.isClientSideRowModel){var r=e.colId,i=e.rowIndex,o=e.rowPinned;this.focusService.setFocusedCell({column:this.columnModel.getGridColumn(r),rowIndex:i,rowPinned:o,forceBrowserFocus:!0,preventScrollOnBrowserFocus:!0})}},t.prototype.getPaginationState=function(){var e=this.paginationProxy.getCurrentPage(),r=this.gridOptionsService.get("paginationAutoPageSize")?void 0:this.paginationProxy.getPageSize();if(!(!e&&!r))return{page:e,pageSize:r}},t.prototype.setPaginationState=function(e){e.pageSize&&!this.gridOptionsService.get("paginationAutoPageSize")&&this.paginationProxy.setPageSize(e.pageSize,"initialState"),typeof e.page=="number"&&this.paginationProxy.setPage(e.page)},t.prototype.getRowSelectionState=function(){var e,r=this.selectionService.getSelectionState(),i=!r||!Array.isArray(r)&&(r.selectAll===!1||r.selectAllChildren===!1)&&!(!((e=r==null?void 0:r.toggledNodes)===null||e===void 0)&&e.length);return i?void 0:r},t.prototype.setRowSelectionState=function(e){this.selectionService.setSelectionState(e,"gridInitializing")},t.prototype.getRowGroupExpansionState=function(){var e=this.expansionService.getExpandedRows();return e.length?{expandedRowGroupIds:e}:void 0},t.prototype.setRowGroupExpansionState=function(e){this.expansionService.expandRows(e.expandedRowGroupIds)},t.prototype.updateColumnState=function(e){var r=this,i=this.getColumnState(),o=!1;Object.entries(i).forEach(function(a){var s=PPe(a,2),l=s[0],u=s[1];uF(u,r.cachedState[l])||(o=!0)}),this.cachedState=nd(nd({},this.cachedState),i),o&&this.dispatchStateUpdateEvent(e)},t.prototype.updateCachedState=function(e,r){var i,o=this.cachedState[e];this.cachedState=nd(nd({},this.cachedState),(i={},i[e]=r,i)),uF(r,o)||this.dispatchStateUpdateEvent([e])},t.prototype.dispatchStateUpdateEvent=function(e){var r=this;this.suppressEvents||(e.forEach(function(i){return r.queuedUpdateSources.add(i)}),this.dispatchStateUpdateEventDebounced())},t.prototype.dispatchQueuedStateUpdateEvents=function(){var e=Array.from(this.queuedUpdateSources);this.queuedUpdateSources.clear();var r={type:T.EVENT_STATE_UPDATED,sources:e,state:this.cachedState};this.eventService.dispatchEvent(r)},t.prototype.suppressEventsAndDispatchInitEvent=function(e){var r=this;this.suppressEvents=!0,this.columnAnimationService.setSuppressAnimation(!0),e(),setTimeout(function(){r.suppressEvents=!1,r.queuedUpdateSources.clear(),r.isAlive()&&(r.columnAnimationService.setSuppressAnimation(!1),r.dispatchStateUpdateEvent(["gridInitializing"]))})},Fo([E("filterManager")],t.prototype,"filterManager",void 0),Fo([et("rangeService")],t.prototype,"rangeService",void 0),Fo([E("ctrlsService")],t.prototype,"ctrlsService",void 0),Fo([et("sideBarService")],t.prototype,"sideBarService",void 0),Fo([E("focusService")],t.prototype,"focusService",void 0),Fo([E("columnModel")],t.prototype,"columnModel",void 0),Fo([E("paginationProxy")],t.prototype,"paginationProxy",void 0),Fo([E("rowModel")],t.prototype,"rowModel",void 0),Fo([E("selectionService")],t.prototype,"selectionService",void 0),Fo([E("expansionService")],t.prototype,"expansionService",void 0),Fo([E("columnAnimationService")],t.prototype,"columnAnimationService",void 0),Fo([z],t.prototype,"postConstruct",null),t=Fo([ie("stateService")],t),t}(X),DPe=function(){var n=function(t,e){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])},n(t,e)};return function(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");n(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}}(),pD=function(n,t,e,r){var i=arguments.length,o=i<3?t:r===null?r=Object.getOwnPropertyDescriptor(t,e):r,a;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(n,t,e,r);else for(var s=n.length-1;s>=0;s--)(a=n[s])&&(o=(i<3?a(o):i>3?a(t,e,o):a(t,e))||o);return i>3&&o&&Object.defineProperty(t,e,o),o},Dp=function(n,t){var e=typeof Symbol=="function"&&n[Symbol.iterator];if(!e)return n;var r=e.call(n),i,o=[],a;try{for(;(t===void 0||t-- >0)&&!(i=r.next()).done;)o.push(i.value)}catch(s){a={error:s}}finally{try{i&&!i.done&&(e=r.return)&&e.call(r)}finally{if(a)throw a.error}}return o},om=function(n,t,e){if(e||arguments.length===2)for(var r=0,i=t.length,o;r<i;r++)(o||!(r in t))&&(o||(o=Array.prototype.slice.call(t,0,r)),o[r]=t[r]);return n.concat(o||Array.prototype.slice.call(t))},MPe=function(n){DPe(t,n);function t(){return n!==null&&n.apply(this,arguments)||this}return t.prototype.init=function(){this.processGridOptions(this.gridOptions)},t.prototype.processGridOptions=function(e){this.processOptions(e,vPe)},t.prototype.processColumnDefs=function(e){this.processOptions(e,Av)},t.prototype.processOptions=function(e,r){var i=this,o=r.validations,a=r.deprecations,s=r.allProperties,l=r.propertyExceptions,u=r.objectName,c=r.docsUrl;s&&this.gridOptions.suppressPropertyNamesCheck!==!0&&this.checkProperties(e,om(om([],Dp(l??[]),!1),Dp(Object.keys(a)),!1),s,u,c);var d=new Set,p=Object.keys(e);p.forEach(function(h){var f,v=a[h];if(v)if("renamed"in v){var g=v.renamed,y=v.version;d.add("As of v".concat(y,", ").concat(String(h)," is deprecated. Please use ").concat(String(g)," instead.")),e[g]=e[h]}else{var m=v.message,y=v.version;d.add("As of v".concat(y,", ").concat(String(h)," is deprecated. ").concat(m??""))}var C=e[h];if(!(C==null||C===!1)){var S=o[h],w;if(S)if(typeof S=="function"){var _=S(e,i.gridOptions);if(!_)return;if("objectName"in _){var x=e[h];if(Array.isArray(x)){x.forEach(function(k){i.processOptions(k,_)});return}i.processOptions(e[h],_);return}w=_}else w=S;else return;var b=w.module,O=w.dependencies,P=w.supportedRowModels;if(P){var D=(f=i.gridOptions.rowModelType)!==null&&f!==void 0?f:"clientSide";if(!P.includes(D)){d.add("".concat(String(h)," is not supported with the '").concat(D,"' row model."));return}}if(b){var N=Array.isArray(b)?b:[b],L=!0;if(N.forEach(function(k){He.__assertRegistered(k,String(h),i.context.getGridId())||(L=!1,d.add("".concat(String(h)," is only available when ").concat(k," is loaded.")))}),!L)return}if(O){var I=i.checkForWarning(h,O,e);if(I){d.add(I);return}}}}),d.size>0&&d.forEach(function(h){Ge(h)})},t.prototype.checkForWarning=function(e,r,i){if(typeof r=="function")return r(i,this.gridOptions);var o=Object.entries(r),a=o.find(function(c){var d=Dp(c,2),p=d[0],h=d[1],f=i[p];return!h.includes(f)});if(!a)return null;var s=Dp(a,2),l=s[0],u=s[1];return u.length>1?"'".concat(String(e),"' requires '").concat(l,"' to be one of [").concat(u.join(", "),"]."):"'".concat(String(e),"' requires '").concat(l,"' to be ").concat(u[0],".")},t.prototype.checkProperties=function(e,r,i,o,a){var s=["__ob__","__v_skip","__metadata__"],l=pY(Object.getOwnPropertyNames(e),om(om(om([],Dp(s),!1),Dp(r),!1),Dp(i),!1),i);if(gi(l,function(c,d){Ge("invalid ".concat(o," property '").concat(c,"' did you mean any of these: ").concat(d.slice(0,8).join(", ")))}),Object.keys(l).length>0&&a){var u=this.getFrameworkOverrides().getDocLink(a);Ge("to see all the valid ".concat(o," properties please check: ").concat(u))}},pD([E("gridOptions")],t.prototype,"gridOptions",void 0),pD([z],t.prototype,"init",null),t=pD([ie("validationService")],t),t}(X),LPe=function(){var n=function(t,e){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])},n(t,e)};return function(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");n(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}}(),eW=function(n,t,e,r){var i=arguments.length,o=i<3?t:r===null?r=Object.getOwnPropertyDescriptor(t,e):r,a;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(n,t,e,r);else for(var s=n.length-1;s>=0;s--)(a=n[s])&&(o=(i<3?a(o):i>3?a(t,e,o):a(t,e))||o);return i>3&&o&&Object.defineProperty(t,e,o),o},FPe=function(n){LPe(t,n);function t(){var e=n!==null&&n.apply(this,arguments)||this;return e.syncEventListeners=new Map,e.asyncEventListeners=new Map,e.syncGlobalEventListeners=new Set,e.asyncGlobalEventListeners=new Set,e}return t.prototype.postConstruct=function(){this.frameworkEventWrappingService=new Rk(this.getFrameworkOverrides())},t.prototype.addEventListener=function(e,r){var i=this.frameworkEventWrappingService.wrap(r),o=this.gridOptionsService.useAsyncEvents(),a=o?this.asyncEventListeners:this.syncEventListeners;a.has(e)||a.set(e,new Set),a.get(e).add(i),this.eventService.addEventListener(e,i,o)},t.prototype.addGlobalListener=function(e){var r=this.frameworkEventWrappingService.wrapGlobal(e),i=this.gridOptionsService.useAsyncEvents(),o=i?this.asyncGlobalEventListeners:this.syncGlobalEventListeners;o.add(r),this.eventService.addGlobalListener(r,i)},t.prototype.removeEventListener=function(e,r){var i,o=this.frameworkEventWrappingService.unwrap(r),a=this.asyncEventListeners.get(e),s=!!(a!=null&&a.delete(o));s||(i=this.asyncEventListeners.get(e))===null||i===void 0||i.delete(o),this.eventService.removeEventListener(e,o,s)},t.prototype.removeGlobalListener=function(e){var r=this.frameworkEventWrappingService.unwrapGlobal(e),i=this.asyncGlobalEventListeners.delete(r);i||this.syncGlobalEventListeners.delete(r),this.eventService.removeGlobalListener(r,i)},t.prototype.destroyEventListeners=function(e,r){var i=this;e.forEach(function(o,a){o.forEach(function(s){return i.eventService.removeEventListener(a,s,r)}),o.clear()}),e.clear()},t.prototype.destroyGlobalListeners=function(e,r){var i=this;e.forEach(function(o){return i.eventService.removeGlobalListener(o,r)}),e.clear()},t.prototype.destroy=function(){n.prototype.destroy.call(this),this.destroyEventListeners(this.syncEventListeners,!1),this.destroyEventListeners(this.asyncEventListeners,!0),this.destroyGlobalListeners(this.syncGlobalEventListeners,!1),this.destroyGlobalListeners(this.asyncGlobalEventListeners,!0)},eW([z],t.prototype,"postConstruct",null),t=eW([ie("apiEventService")],t),t}(X),IPe=function(){var n=function(t,e){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])},n(t,e)};return function(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");n(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}}(),O_=function(n,t,e,r){var i=arguments.length,o=i<3?t:r===null?r=Object.getOwnPropertyDescriptor(t,e):r,a;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(n,t,e,r);else for(var s=n.length-1;s>=0;s--)(a=n[s])&&(o=(i<3?a(o):i>3?a(t,e,o):a(t,e))||o);return i>3&&o&&Object.defineProperty(t,e,o),o},NPe=function(n,t){var e=typeof Symbol=="function"&&n[Symbol.iterator];if(!e)return n;var r=e.call(n),i,o=[],a;try{for(;(t===void 0||t-- >0)&&!(i=r.next()).done;)o.push(i.value)}catch(s){a={error:s}}finally{try{i&&!i.done&&(e=r.return)&&e.call(r)}finally{if(a)throw a.error}}return o},kPe=function(n,t,e){if(e||arguments.length===2)for(var r=0,i=t.length,o;r<i;r++)(o||!(r in t))&&(o||(o=Array.prototype.slice.call(t,0,r)),o[r]=t[r]);return n.concat(o||Array.prototype.slice.call(t))},GPe=function(n){IPe(t,n);function t(){var e=n.call(this,'<span class="ag-paging-page-size"></span>')||this;return e.hasEmptyOption=!1,e.handlePageSizeItemSelected=function(){if(e.selectPageSizeComp){var r=e.selectPageSizeComp.getValue();if(r){var i=Number(r);isNaN(i)||i<1||i===e.paginationProxy.getPageSize()||(e.paginationProxy.setPageSize(i,"pageSizeSelector"),e.hasEmptyOption&&e.toggleSelectDisplay(!0),e.selectPageSizeComp.getFocusableElement().focus())}}},e}return t.prototype.init=function(){var e=this;this.addManagedPropertyListener("paginationPageSizeSelector",function(){e.onPageSizeSelectorValuesChange()}),this.addManagedListener(this.eventService,T.EVENT_PAGINATION_CHANGED,function(r){return e.handlePaginationChanged(r)})},t.prototype.handlePaginationChanged=function(e){if(!(!this.selectPageSizeComp||!(e!=null&&e.newPageSize))){var r=this.paginationProxy.getPageSize();this.getPageSizeSelectorValues().includes(r)?this.selectPageSizeComp.setValue(r.toString()):this.hasEmptyOption?this.selectPageSizeComp.setValue(""):this.toggleSelectDisplay(!0)}},t.prototype.toggleSelectDisplay=function(e){this.selectPageSizeComp&&this.reset(),e&&(this.reloadPageSizesSelector(),this.selectPageSizeComp&&this.appendChild(this.selectPageSizeComp))},t.prototype.reset=function(){Rn(this.getGui()),this.selectPageSizeComp&&(this.destroyBean(this.selectPageSizeComp),this.selectPageSizeComp=void 0)},t.prototype.onPageSizeSelectorValuesChange=function(){this.selectPageSizeComp&&this.shouldShowPageSizeSelector()&&this.reloadPageSizesSelector()},t.prototype.shouldShowPageSizeSelector=function(){return this.gridOptionsService.get("pagination")&&!this.gridOptionsService.get("suppressPaginationPanel")&&!this.gridOptionsService.get("paginationAutoPageSize")&&this.gridOptionsService.get("paginationPageSizeSelector")!==!1},t.prototype.reloadPageSizesSelector=function(){var e=this,r=this.getPageSizeSelectorValues(),i=this.paginationProxy.getPageSize(),o=!i||!r.includes(i);o&&(r.unshift(""),Ge(`The paginationPageSize grid option is set to a value that is not in the list of page size options.
                Please make sure that the paginationPageSize grid option is set to one of the values in the 
                paginationPageSizeSelector array, or set the paginationPageSizeSelector to false to hide the page size selector.`)),this.selectPageSizeComp&&(this.destroyBean(this.selectPageSizeComp),this.selectPageSizeComp=void 0);var a=this.localeService.getLocaleTextFunc(),s=a("pageSizeSelectorLabel","Page Size:"),l=r.map(function(c){return{value:String(c),text:String(c)}}),u=a("ariaPageSizeSelectorLabel","Page Size");this.selectPageSizeComp=this.createManagedBean(new ru).addOptions(l).setValue(String(o?"":i)).setAriaLabel(u).setLabel(s).onValueChange(function(){return e.handlePageSizeItemSelected()}),this.hasEmptyOption=o},t.prototype.getPageSizeSelectorValues=function(){var e=[20,50,100],r=this.gridOptionsService.get("paginationPageSizeSelector");return!Array.isArray(r)||!this.validateValues(r)?e:kPe([],NPe(r),!1).sort(function(i,o){return i-o})},t.prototype.validateValues=function(e){if(!e.length)return Ge(`The paginationPageSizeSelector grid option is an empty array. This is most likely a mistake.
                If you want to hide the page size selector, please set the paginationPageSizeSelector to false.`),!1;for(var r=0;r<e.length;r++){var i=e[r],o=typeof i=="number",a=i>0;if(!o)return Ge(`The paginationPageSizeSelector grid option contains a non-numeric value.
                    Please make sure that all values in the paginationPageSizeSelector array are numbers.`),!1;if(!a)return Ge(`The paginationPageSizeSelector grid option contains a negative number or zero.
                    Please make sure that all values in the paginationPageSizeSelector array are positive.`),!1}return!0},t.prototype.destroy=function(){this.toggleSelectDisplay(!1),n.prototype.destroy.call(this)},O_([E("localeService")],t.prototype,"localeService",void 0),O_([E("gridOptionsService")],t.prototype,"gridOptionsService",void 0),O_([E("paginationProxy")],t.prototype,"paginationProxy",void 0),O_([z],t.prototype,"init",null),t}(ae),VPe=function(){var n=function(t,e){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])},n(t,e)};return function(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");n(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}}(),hD=function(n,t,e,r){var i=arguments.length,o=i<3?t:r===null?r=Object.getOwnPropertyDescriptor(t,e):r,a;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(n,t,e,r);else for(var s=n.length-1;s>=0;s--)(a=n[s])&&(o=(i<3?a(o):i>3?a(t,e,o):a(t,e))||o);return i>3&&o&&Object.defineProperty(t,e,o),o},BPe=function(n){VPe(t,n);function t(){var e=n.call(this)||this;return e.descriptionContainer=null,e.announceValue=ia(e.announceValue.bind(e),200),e}return t.prototype.postConstruct=function(){var e=this.gridOptionsService.getDocument(),r=this.descriptionContainer=e.createElement("div");r.classList.add("ag-aria-description-container"),Lk(r,"polite"),W7(r,"additions text"),$7(r,!0),this.eGridDiv.appendChild(r)},t.prototype.announceValue=function(e){var r=this;this.descriptionContainer&&(this.descriptionContainer.textContent="",setTimeout(function(){r.descriptionContainer.textContent=e},50))},t.prototype.destroy=function(){n.prototype.destroy.call(this);var e=this.descriptionContainer;e&&(Rn(e),e.parentElement&&e.parentElement.removeChild(e)),this.descriptionContainer=null,this.eGridDiv=null},hD([E("eGridDiv")],t.prototype,"eGridDiv",void 0),hD([z],t.prototype,"postConstruct",null),t=hD([ie("ariaAnnouncementService")],t),t}(X),tW=function(n,t){var e=typeof Symbol=="function"&&n[Symbol.iterator];if(!e)return n;var r=e.call(n),i,o=[],a;try{for(;(t===void 0||t-- >0)&&!(i=r.next()).done;)o.push(i.value)}catch(s){a={error:s}}finally{try{i&&!i.done&&(e=r.return)&&e.call(r)}finally{if(a)throw a.error}}return o},rW=function(n,t,e){if(e||arguments.length===2)for(var r=0,i=t.length,o;r<i;r++)(o||!(r in t))&&(o||(o=Array.prototype.slice.call(t,0,r)),o[r]=t[r]);return n.concat(o||Array.prototype.slice.call(t))};function sq(n,t,e){if(!t)return Ps("No gridOptions provided to createGrid"),{};var r=RG.getCoercedGridOptions(t),i=new TG().create(n,r,function(a){var s=new OG(n);a.createBean(s)},void 0,e);if(!Object.isFrozen(t)&&!(e!=null&&e.frameworkOverrides)){var o="https://ag-grid.com/javascript-data-grid/grid-interface/#grid-api";Object.defineProperty(t,"api",{get:function(){Ps("gridOptions.api is no longer supported. See ".concat(o,"."))},configurable:!0}),Object.defineProperty(t,"columnApi",{get:function(){Ps("gridOptions.columnApi is no longer supported and all methods moved to the grid api. See ".concat(o,"."))},configurable:!0})}return i}var HPe=function(){function n(t,e,r){var i=this;if(Ge("Since v31 new Grid(...) is deprecated. Use createGrid instead: `const gridApi = createGrid(...)`. The grid api is returned from createGrid and will not be available on gridOptions."),!e){Ps("No gridOptions provided to the grid");return}this.gridOptions=e;var o=new TG().create(t,e,function(a){var s=new OG(t),l=a.createBean(s);l.addDestroyFunc(function(){i.destroy()})},void 0,r);this.gridOptions.api=o,this.gridOptions.columnApi=new Uw(o)}return n.prototype.destroy=function(){var t;this.gridOptions&&((t=this.gridOptions.api)===null||t===void 0||t.destroy(),delete this.gridOptions.api,delete this.gridOptions.columnApi)},n}(),jPe=1,TG=function(){function n(){}return n.prototype.create=function(t,e,r,i,o){var a,s=!!e.debug,l=(a=e.gridId)!==null&&a!==void 0?a:String(jPe++),u=this.getRegisteredModules(o,l),c=this.createBeansList(e.rowModelType,u,l),d=this.createProvidedBeans(t,e,o);if(!c){Ps("Failed to create grid.");return}var p={providedBeanInstances:d,beanClasses:c,debug:s,gridId:l},h=new bT("Context",function(){return p.debug}),f=new w7(p,h),v=f.getBean("beans");return this.registerModuleUserComponents(v,u),this.registerStackComponents(v,u),this.registerControllers(v,u),r(f),v.syncService.start(),i&&i(f),v.gridApi},n.prototype.registerControllers=function(t,e){e.forEach(function(r){r.controllers&&r.controllers.forEach(function(i){return t.ctrlsFactory.register(i)})})},n.prototype.registerStackComponents=function(t,e){var r=this.createAgStackComponentsList(e);t.agStackComponentsRegistry.setupComponents(r)},n.prototype.getRegisteredModules=function(t,e){var r=t?t.modules:null,i=He.__getRegisteredModules(e),o=[],a={},s=function(l,u,c){var d=function(p){a[p.moduleName]||(a[p.moduleName]=!0,o.push(p),He.__register(p,l,c))};d(u),u.dependantModules&&u.dependantModules.forEach(function(p){return s(l,p,c)})};return r&&r.forEach(function(l){return s(!0,l,e)}),i&&i.forEach(function(l){return s(!He.__isPackageBased(),l,void 0)}),o},n.prototype.registerModuleUserComponents=function(t,e){var r=this.extractModuleEntity(e,function(i){return i.userComponents?i.userComponents:[]});r.forEach(function(i){t.userComponentRegistry.registerDefaultComponent(i.componentName,i.componentClass)})},n.prototype.createProvidedBeans=function(t,e,r){var i=r?r.frameworkOverrides:null;We(i)&&(i=new GX);var o={gridOptions:e,eGridDiv:t,globalEventListener:r?r.globalEventListener:null,globalSyncEventListener:r?r.globalSyncEventListener:null,frameworkOverrides:i};return r&&r.providedBeanInstances&&Object.assign(o,r.providedBeanInstances),o},n.prototype.createAgStackComponentsList=function(t){var e=[{componentName:"AgCheckbox",componentClass:Hu},{componentName:"AgRadioButton",componentClass:CT},{componentName:"AgToggleButton",componentClass:ET},{componentName:"AgInputTextField",componentClass:su},{componentName:"AgInputTextArea",componentClass:FX},{componentName:"AgInputNumberField",componentClass:Bw},{componentName:"AgInputDateField",componentClass:EG},{componentName:"AgInputRange",componentClass:IX},{componentName:"AgRichSelect",componentClass:$w},{componentName:"AgSelect",componentClass:ru},{componentName:"AgSlider",componentClass:qo},{componentName:"AgGridBody",componentClass:iX},{componentName:"AgHeaderRoot",componentClass:wX},{componentName:"AgSortIndicator",componentClass:ST},{componentName:"AgPagination",componentClass:NTe},{componentName:"AgPageSizeSelector",componentClass:GPe},{componentName:"AgOverlayWrapper",componentClass:GTe},{componentName:"AgGroupComponent",componentClass:Ha},{componentName:"AgRowContainer",componentClass:cX},{componentName:"AgFakeHorizontalScroll",componentClass:oPe},{componentName:"AgFakeVerticalScroll",componentClass:SPe},{componentName:"AgAutocomplete",componentClass:Pv}],r=this.extractModuleEntity(t,function(i){return i.agStackComponents?i.agStackComponents:[]});return e=e.concat(r),e},n.prototype.createBeansList=function(t,e,r){t===void 0&&(t="clientSide");var i=e.filter(function(u){return!u.rowModel||u.rowModel===t}),o={clientSide:pe.ClientSideRowModelModule,infinite:pe.InfiniteRowModelModule,serverSide:pe.ServerSideRowModelModule,viewport:pe.ViewportRowModelModule};if(!o[t]){Ps("Could not find row model for rowModelType = "+t);return}if(He.__assertRegistered(o[t],"rowModelType = '".concat(t,"'"),r)){var a=[yG,QX,JX,eq,vTe,fG,zY,wTe,xTe,bX,YY,LTe,_X,iq,MPe,DX,qY,k7,Us,RG,kX,HX,QY,I7,CX,MX,PX,$X,M7,WX,BX,sX,XX,jX,UX,N7,TX,xX,St,Uw,YX,aX,qX,VX,AX,LX,oX,KX,dTe,hTe,ZX,j0e,CTe,OX,zTe,G7,XTe,qTe,xG,tq,rq,sPe,uPe,rPe,oq,aq,ZY,EPe,OPe,APe,_G,FPe,BPe,RX],s=this.extractModuleEntity(i,function(u){return u.beans?u.beans:[]});a.push.apply(a,rW([],tW(s),!1));var l=[];return a.forEach(function(u){l.indexOf(u)<0&&l.push(u)}),l}},n.prototype.extractModuleEntity=function(t,e){return[].concat.apply([],rW([],tW(t.map(e)),!1))},n}(),$Pe=function(){function n(){}return n.prototype.wrap=function(t,e,r,i){var o=this;r===void 0&&(r=[]);var a=this.createWrapper(t,i);return e.forEach(function(s){o.createMethod(a,s,!0)}),r.forEach(function(s){o.createMethod(a,s,!1)}),a},n.prototype.unwrap=function(t){return t},n.prototype.createMethod=function(t,e,r){t.addMethod(e,this.createMethodProxy(t,e,r))},n.prototype.createMethodProxy=function(t,e,r){return function(){return t.hasMethod(e)?t.callMethod(e,arguments):(r&&console.warn("AG Grid: Framework component is missing the method "+e+"()"),null)}},n}(),lq={columnGroup:["column","stackedColumn","normalizedColumn"],barGroup:["bar","stackedBar","normalizedBar"],pieGroup:["pie","donut"],lineGroup:["line"],scatterGroup:["scatter","bubble"],areaGroup:["area","stackedArea","normalizedArea"],polarGroup:["radarLine","radarArea","nightingale","radialColumn","radialBar"],statisticalGroup:["boxPlot","histogram","rangeBar","rangeArea"],hierarchicalGroup:["treemap","sunburst"],specializedGroup:["heatmap","waterfall"],combinationGroup:["columnLineCombo","areaColumnCombo","customCombo"]},eE=["chartSettings","chartData","chartFormat"],PF=["chartUnlink","chartLink","chartDownload"],MC={settings:"chartSettings",data:"chartData",format:"chartFormat"},WPe=0,AF;(function(n){n.InsideBase="insideBase",n.InsideEnd="insideEnd",n.Center="center",n.OutsideEnd="outsideEnd"})(AF||(AF={}));/**
 * @ag-grid-community/core - Advanced Data Grid / Data Table supporting Javascript / Typescript / React / Angular / Vue
 * @version v31.1.1
 * @link https://www.ag-grid.com/
 * @license MIT
 */var Xg=typeof global>"u"?{}:global;Xg.HTMLElement=typeof HTMLElement>"u"?{}:HTMLElement;Xg.HTMLButtonElement=typeof HTMLButtonElement>"u"?{}:HTMLButtonElement;Xg.HTMLSelectElement=typeof HTMLSelectElement>"u"?{}:HTMLSelectElement;Xg.HTMLInputElement=typeof HTMLInputElement>"u"?{}:HTMLInputElement;Xg.Node=typeof Node>"u"?{}:Node;Xg.MouseEvent=typeof MouseEvent>"u"?{}:MouseEvent;var am=function(n,t){var e=typeof Symbol=="function"&&n[Symbol.iterator];if(!e)return n;var r=e.call(n),i,o=[],a;try{for(;(t===void 0||t-- >0)&&!(i=r.next()).done;)o.push(i.value)}catch(s){a={error:s}}finally{try{i&&!i.done&&(e=r.return)&&e.call(r)}finally{if(a)throw a.error}}return o},sm=function(n,t,e){if(e||arguments.length===2)for(var r=0,i=t.length,o;r<i;r++)(o||!(r in t))&&(o||(o=Array.prototype.slice.call(t,0,r)),o[r]=t[r]);return n.concat(o||Array.prototype.slice.call(t))},UPe=function(){function n(t,e,r,i,o,a){this.nextId=0,this.rowCountReady=!1,this.allNodesMap={},this.rootNode=t,this.gridOptionsService=e,this.eventService=r,this.columnModel=i,this.beans=a,this.selectionService=o,this.rootNode.group=!0,this.rootNode.level=-1,this.rootNode.id=n.ROOT_NODE_ID,this.rootNode.allLeafChildren=[],this.rootNode.childrenAfterGroup=[],this.rootNode.childrenAfterSort=[],this.rootNode.childrenAfterAggFilter=[],this.rootNode.childrenAfterFilter=[]}return n.prototype.getCopyOfNodesMap=function(){return A.cloneObject(this.allNodesMap)},n.prototype.getRowNode=function(t){return this.allNodesMap[t]},n.prototype.setRowData=function(t){var e=this;if(typeof t=="string"){console.warn("AG Grid: rowData must be an array, however you passed in a string. If you are loading JSON, make sure you convert the JSON string to JavaScript objects first");return}this.rowCountReady=!0,this.dispatchRowDataUpdateStartedEvent(t);var r=this.rootNode,i=this.rootNode.sibling;r.childrenAfterFilter=null,r.childrenAfterGroup=null,r.childrenAfterAggFilter=null,r.childrenAfterSort=null,r.childrenMapped=null,r.updateHasChildren(),this.nextId=0,this.allNodesMap={},t?r.allLeafChildren=t.map(function(o){return e.createNode(o,e.rootNode,n.TOP_LEVEL)}):(r.allLeafChildren=[],r.childrenAfterGroup=[]),i&&(i.childrenAfterFilter=r.childrenAfterFilter,i.childrenAfterGroup=r.childrenAfterGroup,i.childrenAfterAggFilter=r.childrenAfterAggFilter,i.childrenAfterSort=r.childrenAfterSort,i.childrenMapped=r.childrenMapped,i.allLeafChildren=r.allLeafChildren)},n.prototype.updateRowData=function(t,e){this.rowCountReady=!0,this.dispatchRowDataUpdateStartedEvent(t.add);var r={remove:[],update:[],add:[]},i=[];return this.executeRemove(t,r,i),this.executeUpdate(t,r,i),this.executeAdd(t,r),this.updateSelection(i,"rowDataChanged"),e&&A.sortRowNodesByOrder(this.rootNode.allLeafChildren,e),r},n.prototype.isRowCountReady=function(){return this.rowCountReady},n.prototype.dispatchRowDataUpdateStartedEvent=function(t){var e={type:T.EVENT_ROW_DATA_UPDATE_STARTED,firstRowData:t!=null&&t.length?t[0]:null};this.eventService.dispatchEvent(e)},n.prototype.updateSelection=function(t,e){var r=t.length>0;if(r&&this.selectionService.setNodesSelected({newValue:!1,nodes:t,suppressFinishActions:!0,source:e}),this.selectionService.updateGroupsFromChildrenSelections(e),r){var i={type:T.EVENT_SELECTION_CHANGED,source:e};this.eventService.dispatchEvent(i)}},n.prototype.executeAdd=function(t,e){var r=this,i,o=t.add,a=t.addIndex;if(!A.missingOrEmpty(o)){var s=o.map(function(v){return r.createNode(v,r.rootNode,n.TOP_LEVEL)});if(typeof a=="number"&&a>=0){var l=this.rootNode.allLeafChildren,u=l.length,c=a,d=this.gridOptionsService.get("treeData");if(d&&a>0&&u>0){for(var p=0;p<u;p++)if(((i=l[p])===null||i===void 0?void 0:i.rowIndex)==a-1){c=p+1;break}}var h=l.slice(0,c),f=l.slice(c,l.length);this.rootNode.allLeafChildren=sm(sm(sm([],am(h),!1),am(s),!1),am(f),!1)}else this.rootNode.allLeafChildren=sm(sm([],am(this.rootNode.allLeafChildren),!1),am(s),!1);this.rootNode.sibling&&(this.rootNode.sibling.allLeafChildren=this.rootNode.allLeafChildren),e.add=s}},n.prototype.executeRemove=function(t,e,r){var i=this,o=t.remove;if(!A.missingOrEmpty(o)){var a={};o.forEach(function(s){var l=i.lookupRowNode(s);l&&(l.isSelected()&&r.push(l),l.clearRowTopAndRowIndex(),a[l.id]=!0,delete i.allNodesMap[l.id],e.remove.push(l))}),this.rootNode.allLeafChildren=this.rootNode.allLeafChildren.filter(function(s){return!a[s.id]}),this.rootNode.sibling&&(this.rootNode.sibling.allLeafChildren=this.rootNode.allLeafChildren)}},n.prototype.executeUpdate=function(t,e,r){var i=this,o=t.update;A.missingOrEmpty(o)||o.forEach(function(a){var s=i.lookupRowNode(a);s&&(s.updateData(a),!s.selectable&&s.isSelected()&&r.push(s),i.setMasterForRow(s,a,n.TOP_LEVEL,!1),e.update.push(s))})},n.prototype.lookupRowNode=function(t){var e=this.gridOptionsService.getCallback("getRowId"),r;if(e){var i=e({data:t,level:0});if(r=this.allNodesMap[i],!r)return console.error("AG Grid: could not find row id=".concat(i,", data item was not found for this id")),null}else if(r=this.rootNode.allLeafChildren.find(function(o){return o.data===t}),!r)return console.error("AG Grid: could not find data item as object was not found",t),console.error("Consider using getRowId to help the Grid find matching row data"),null;return r||null},n.prototype.createNode=function(t,e,r){var i=new Xe(this.beans);i.group=!1,this.setMasterForRow(i,t,r,!0);var o=this.gridOptionsService.get("suppressParentsInRowNodes");return e&&!o&&(i.parent=e),i.level=r,i.setDataAndId(t,this.nextId.toString()),this.allNodesMap[i.id]&&console.warn("AG Grid: duplicate node id '".concat(i.id,"' detected from getRowId callback, this could cause issues in your grid.")),this.allNodesMap[i.id]=i,this.nextId++,i},n.prototype.setMasterForRow=function(t,e,r,i){var o=this.gridOptionsService.get("treeData");if(o)t.setMaster(!1),i&&(t.expanded=!1);else{var a=this.gridOptionsService.get("masterDetail");if(a){var s=this.gridOptionsService.get("isRowMaster");s?t.setMaster(s(e)):t.setMaster(!0)}else t.setMaster(!1);if(i){var l=this.columnModel.getRowGroupColumns(),u=l?l.length:0,c=r+u;t.expanded=t.master?this.isExpanded(c):!1}}},n.prototype.isExpanded=function(t){var e=this.gridOptionsService.get("groupDefaultExpanded");return e===-1?!0:t<e},n.TOP_LEVEL=0,n.ROOT_NODE_ID="ROOT_NODE_ID",n}(),zPe=function(){var n=function(t,e){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])},n(t,e)};return function(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");n(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}}(),Xi=function(n,t,e,r){var i=arguments.length,o=i<3?t:r===null?r=Object.getOwnPropertyDescriptor(t,e):r,a;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(n,t,e,r);else for(var s=n.length-1;s>=0;s--)(a=n[s])&&(o=(i<3?a(o):i>3?a(t,e,o):a(t,e))||o);return i>3&&o&&Object.defineProperty(t,e,o),o},qi=function(n,t){var e=typeof Symbol=="function"&&n[Symbol.iterator];if(!e)return n;var r=e.call(n),i,o=[],a;try{for(;(t===void 0||t-- >0)&&!(i=r.next()).done;)o.push(i.value)}catch(s){a={error:s}}finally{try{i&&!i.done&&(e=r.return)&&e.call(r)}finally{if(a)throw a.error}}return o},Zi=function(n,t,e){if(e||arguments.length===2)for(var r=0,i=t.length,o;r<i;r++)(o||!(r in t))&&(o||(o=Array.prototype.slice.call(t,0,r)),o[r]=t[r]);return n.concat(o||Array.prototype.slice.call(t))},_l;(function(n){n[n.Normal=0]="Normal",n[n.AfterFilter=1]="AfterFilter",n[n.AfterFilterAndSort=2]="AfterFilterAndSort",n[n.PivotNodes=3]="PivotNodes"})(_l||(_l={}));var KPe=function(n){zPe(t,n);function t(){var e=n!==null&&n.apply(this,arguments)||this;return e.onRowHeightChanged_debounced=A.debounce(e.onRowHeightChanged.bind(e),100),e.rowsToDisplay=[],e.hasStarted=!1,e.shouldSkipSettingDataOnStart=!1,e.isRefreshingModel=!1,e.rowCountReady=!1,e}return t.prototype.init=function(){var e=this,r=this.refreshModel.bind(this,{step:dt.EVERYTHING}),i=!this.gridOptionsService.get("suppressAnimationFrame"),o=this.refreshModel.bind(this,{step:dt.EVERYTHING,afterColumnsChanged:!0,keepRenderedRows:!0,animate:i});this.addManagedListener(this.eventService,T.EVENT_NEW_COLUMNS_LOADED,o),this.addManagedListener(this.eventService,T.EVENT_COLUMN_ROW_GROUP_CHANGED,r),this.addManagedListener(this.eventService,T.EVENT_COLUMN_VALUE_CHANGED,this.onValueChanged.bind(this)),this.addManagedListener(this.eventService,T.EVENT_COLUMN_PIVOT_CHANGED,this.refreshModel.bind(this,{step:dt.PIVOT})),this.addManagedListener(this.eventService,T.EVENT_FILTER_CHANGED,this.onFilterChanged.bind(this)),this.addManagedListener(this.eventService,T.EVENT_SORT_CHANGED,this.onSortChanged.bind(this)),this.addManagedListener(this.eventService,T.EVENT_COLUMN_PIVOT_MODE_CHANGED,r),this.addManagedListener(this.eventService,T.EVENT_GRID_STYLES_CHANGED,this.onGridStylesChanges.bind(this)),this.addManagedListener(this.eventService,T.EVENT_GRID_READY,function(){return e.onGridReady()}),this.addPropertyListeners(),this.rootNode=new Xe(this.beans),this.nodeManager=new UPe(this.rootNode,this.gridOptionsService,this.eventService,this.columnModel,this.selectionService,this.beans)},t.prototype.addPropertyListeners=function(){var e=this,r=new Set(["treeData","masterDetail"]),i=new Set(["suppressParentsInRowNodes","groupDefaultExpanded","groupAllowUnbalanced","initialGroupOrderComparator","groupHideOpenParents","groupDisplayType"]),o=new Set(["excludeChildrenWhenTreeDataFiltering"]),a=new Set(["removePivotHeaderRowWhenSingleValueColumn","pivotRowTotals","pivotColumnGroupTotals","suppressExpandablePivotGroups"]),s=new Set(["getGroupRowAgg","alwaysAggregateAtRootLevel","groupIncludeTotalFooter","suppressAggFilteredOnly"]),l=new Set(["postSortRows","groupDisplayType","accentedSort"]),u=new Set([]),c=new Set(["groupRemoveSingleChildren","groupRemoveLowestSingleChildren","groupIncludeFooter"]),d=Zi(Zi(Zi(Zi(Zi(Zi(Zi(Zi(Zi([],qi(r),!1),qi(i),!1),qi(o),!1),qi(a),!1),qi(a),!1),qi(s),!1),qi(l),!1),qi(u),!1),qi(c),!1);this.addManagedPropertyListeners(d,function(p){var h,f=(h=p.changeSet)===null||h===void 0?void 0:h.properties;if(f){var v=function(g){return f.some(function(y){return g.has(y)})};if(v(r)){e.setRowData(e.rootNode.allLeafChildren.map(function(g){return g.data}));return}if(v(i)){e.refreshModel({step:dt.EVERYTHING});return}if(v(o)){e.refreshModel({step:dt.FILTER});return}if(v(a)){e.refreshModel({step:dt.PIVOT});return}if(v(s)){e.refreshModel({step:dt.AGGREGATE});return}if(v(l)){e.refreshModel({step:dt.SORT});return}if(v(u)){e.refreshModel({step:dt.FILTER_AGGREGATES});return}v(c)&&e.refreshModel({step:dt.MAP})}}),this.addManagedPropertyListener("rowHeight",function(){return e.resetRowHeights()})},t.prototype.start=function(){this.hasStarted=!0,this.shouldSkipSettingDataOnStart?this.dispatchUpdateEventsAndRefresh():this.setInitialData()},t.prototype.setInitialData=function(){var e=this.gridOptionsService.get("rowData");e&&(this.shouldSkipSettingDataOnStart=!0,this.setRowData(e))},t.prototype.ensureRowHeightsValid=function(e,r,i,o){var a,s=!1;do{a=!1;for(var l=this.getRowIndexAtPixel(e),u=this.getRowIndexAtPixel(r),c=Math.max(l,i),d=Math.min(u,o),p=c;p<=d;p++){var h=this.getRow(p);if(h.rowHeightEstimated){var f=this.gridOptionsService.getRowHeightForNode(h);h.setRowHeight(f.height),a=!0,s=!0}}a&&this.setRowTopAndRowIndex()}while(a);return s},t.prototype.setRowTopAndRowIndex=function(){for(var e=this.environment.getDefaultRowHeight(),r=0,i=new Set,o=this.gridOptionsService.isDomLayout("normal"),a=0;a<this.rowsToDisplay.length;a++){var s=this.rowsToDisplay[a];if(s.id!=null&&i.add(s.id),s.rowHeight==null){var l=this.gridOptionsService.getRowHeightForNode(s,o,e);s.setRowHeight(l.height,l.estimated)}s.setRowTop(r),s.setRowIndex(a),r+=s.rowHeight}return i},t.prototype.clearRowTopAndRowIndex=function(e,r){var i=e.isActive(),o=function(s){s&&s.id!=null&&!r.has(s.id)&&s.clearRowTopAndRowIndex()},a=function(s){if(o(s),o(s.detailNode),o(s.sibling),s.hasChildren()&&s.childrenAfterGroup){var l=s.level==-1,u=i&&!l&&!s.expanded;u||s.childrenAfterGroup.forEach(a)}};a(this.rootNode)},t.prototype.ensureRowsAtPixel=function(e,r,i){var o=this;i===void 0&&(i=0);var a=this.getRowIndexAtPixel(r),s=this.getRow(a),l=!this.gridOptionsService.get("suppressAnimationFrame");return s===e[0]?!1:(e.forEach(function(u){A.removeFromArray(o.rootNode.allLeafChildren,u)}),e.forEach(function(u,c){A.insertIntoArray(o.rootNode.allLeafChildren,u,Math.max(a+i,0)+c)}),this.refreshModel({step:dt.EVERYTHING,keepRenderedRows:!0,keepEditingRows:!0,animate:l}),!0)},t.prototype.highlightRowAtPixel=function(e,r){var i=r!=null?this.getRowIndexAtPixel(r):null,o=i!=null?this.getRow(i):null;if(!o||!e||o===e||r==null){this.lastHighlightedRow&&(this.lastHighlightedRow.setHighlighted(null),this.lastHighlightedRow=null);return}var a=this.getHighlightPosition(r,o);this.lastHighlightedRow&&this.lastHighlightedRow!==o&&(this.lastHighlightedRow.setHighlighted(null),this.lastHighlightedRow=null),o.setHighlighted(a),this.lastHighlightedRow=o},t.prototype.getHighlightPosition=function(e,r){if(!r){var i=this.getRowIndexAtPixel(e);if(r=this.getRow(i||0),!r)return Xl.Below}var o=r.rowTop,a=r.rowHeight;return e-o<a/2?Xl.Above:Xl.Below},t.prototype.getLastHighlightedRowNode=function(){return this.lastHighlightedRow},t.prototype.isLastRowIndexKnown=function(){return!0},t.prototype.getRowCount=function(){return this.rowsToDisplay?this.rowsToDisplay.length:0},t.prototype.getTopLevelRowCount=function(){var e=this.rowsToDisplay&&this.rowsToDisplay[0]===this.rootNode;if(e)return 1;var r=this.rootNode.childrenAfterAggFilter;return r?r.length:0},t.prototype.getTopLevelRowDisplayedIndex=function(e){var r=this.rowsToDisplay&&this.rowsToDisplay[0]===this.rootNode;if(r)return e;var i=this.rootNode.childrenAfterSort[e];if(this.gridOptionsService.get("groupHideOpenParents"))for(;i.expanded&&i.childrenAfterSort&&i.childrenAfterSort.length>0;)i=i.childrenAfterSort[0];return i.rowIndex},t.prototype.getRowBounds=function(e){if(A.missing(this.rowsToDisplay))return null;var r=this.rowsToDisplay[e];return r?{rowTop:r.rowTop,rowHeight:r.rowHeight}:null},t.prototype.onRowGroupOpened=function(){var e=this.gridOptionsService.isAnimateRows();this.refreshModel({step:dt.MAP,keepRenderedRows:!0,animate:e})},t.prototype.onFilterChanged=function(e){if(!e.afterDataChange){var r=this.gridOptionsService.isAnimateRows(),i=e.columns.length===0||e.columns.some(function(a){return a.isPrimary()}),o=i?dt.FILTER:dt.FILTER_AGGREGATES;this.refreshModel({step:o,keepRenderedRows:!0,animate:r})}},t.prototype.onSortChanged=function(){var e=this.gridOptionsService.isAnimateRows();this.refreshModel({step:dt.SORT,keepRenderedRows:!0,animate:e,keepEditingRows:!0})},t.prototype.getType=function(){return"clientSide"},t.prototype.onValueChanged=function(){this.columnModel.isPivotActive()?this.refreshModel({step:dt.PIVOT}):this.refreshModel({step:dt.AGGREGATE})},t.prototype.createChangePath=function(e){var r=A.missingOrEmpty(e),i=new Yg(!1,this.rootNode);return(r||this.gridOptionsService.get("treeData"))&&i.setInactive(),i},t.prototype.isSuppressModelUpdateAfterUpdateTransaction=function(e){if(!this.gridOptionsService.get("suppressModelUpdateAfterUpdateTransaction")||e.rowNodeTransactions==null)return!1;var r=e.rowNodeTransactions.filter(function(o){return o.add!=null&&o.add.length>0||o.remove!=null&&o.remove.length>0}),i=r==null||r.length==0;return i},t.prototype.buildRefreshModelParams=function(e){var r=dt.EVERYTHING,i={everything:dt.EVERYTHING,group:dt.EVERYTHING,filter:dt.FILTER,map:dt.MAP,aggregate:dt.AGGREGATE,sort:dt.SORT,pivot:dt.PIVOT};if(A.exists(e)&&(r=i[e]),A.missing(r)){console.error("AG Grid: invalid step ".concat(e,", available steps are ").concat(Object.keys(i).join(", ")));return}var o=!this.gridOptionsService.get("suppressAnimationFrame"),a={step:r,keepRenderedRows:!0,keepEditingRows:!0,animate:o};return a},t.prototype.refreshModel=function(e){if(!(!this.hasStarted||this.isRefreshingModel||this.columnModel.shouldRowModelIgnoreRefresh())){var r=typeof e=="object"&&"step"in e?e:this.buildRefreshModelParams(e);if(r&&!this.isSuppressModelUpdateAfterUpdateTransaction(r)){var i=this.createChangePath(r.rowNodeTransactions);switch(this.isRefreshingModel=!0,r.step){case dt.EVERYTHING:this.doRowGrouping(r.rowNodeTransactions,r.rowNodeOrder,i,!!r.afterColumnsChanged);case dt.FILTER:this.doFilter(i);case dt.PIVOT:this.doPivot(i);case dt.AGGREGATE:this.doAggregate(i);case dt.FILTER_AGGREGATES:this.doFilterAggregates(i);case dt.SORT:this.doSort(r.rowNodeTransactions,i);case dt.MAP:this.doRowsToDisplay()}var o=this.setRowTopAndRowIndex();this.clearRowTopAndRowIndex(i,o),this.isRefreshingModel=!1;var a={type:T.EVENT_MODEL_UPDATED,animate:r.animate,keepRenderedRows:r.keepRenderedRows,newData:r.newData,newPage:!1,keepUndoRedoStack:r.keepUndoRedoStack};this.eventService.dispatchEvent(a)}}},t.prototype.isEmpty=function(){var e=A.missing(this.rootNode.allLeafChildren)||this.rootNode.allLeafChildren.length===0;return A.missing(this.rootNode)||e||!this.columnModel.isReady()},t.prototype.isRowsToRender=function(){return A.exists(this.rowsToDisplay)&&this.rowsToDisplay.length>0},t.prototype.getNodesInRangeForSelection=function(e,r){var i=!r,o=!1,a=[],s=this.gridOptionsService.get("groupSelectsChildren");return this.forEachNodeAfterFilterAndSort(function(l){if(!o){if(i&&(l===r||l===e)&&(o=!0,l.group&&s)){a.push.apply(a,Zi([],qi(l.allLeafChildren),!1));return}if(!i){if(l!==r&&l!==e)return;i=!0}var u=!l.group||!s;if(u){a.push(l);return}}}),a},t.prototype.setDatasource=function(e){console.error("AG Grid: should never call setDatasource on clientSideRowController")},t.prototype.getTopLevelNodes=function(){return this.rootNode?this.rootNode.childrenAfterGroup:null},t.prototype.getRootNode=function(){return this.rootNode},t.prototype.getRow=function(e){return this.rowsToDisplay[e]},t.prototype.isRowPresent=function(e){return this.rowsToDisplay.indexOf(e)>=0},t.prototype.getRowIndexAtPixel=function(e){if(this.isEmpty()||this.rowsToDisplay.length===0)return-1;var r=0,i=this.rowsToDisplay.length-1;if(e<=0)return 0;var o=A.last(this.rowsToDisplay);if(o.rowTop<=e)return this.rowsToDisplay.length-1;for(var a=-1,s=-1;;){var l=Math.floor((r+i)/2),u=this.rowsToDisplay[l];if(this.isRowInPixel(u,e))return l;u.rowTop<e?r=l+1:u.rowTop>e&&(i=l-1);var c=a===r&&s===i;if(c)return l;a=r,s=i}},t.prototype.isRowInPixel=function(e,r){var i=e.rowTop,o=e.rowTop+e.rowHeight,a=i<=r&&o>r;return a},t.prototype.forEachLeafNode=function(e){this.rootNode.allLeafChildren&&this.rootNode.allLeafChildren.forEach(function(r,i){return e(r,i)})},t.prototype.forEachNode=function(e,r){r===void 0&&(r=!1),this.recursivelyWalkNodesAndCallback({nodes:Zi([],qi(this.rootNode.childrenAfterGroup||[]),!1),callback:e,recursionType:_l.Normal,index:0,includeFooterNodes:r})},t.prototype.forEachNodeAfterFilter=function(e,r){r===void 0&&(r=!1),this.recursivelyWalkNodesAndCallback({nodes:Zi([],qi(this.rootNode.childrenAfterAggFilter||[]),!1),callback:e,recursionType:_l.AfterFilter,index:0,includeFooterNodes:r})},t.prototype.forEachNodeAfterFilterAndSort=function(e,r){r===void 0&&(r=!1),this.recursivelyWalkNodesAndCallback({nodes:Zi([],qi(this.rootNode.childrenAfterSort||[]),!1),callback:e,recursionType:_l.AfterFilterAndSort,index:0,includeFooterNodes:r})},t.prototype.forEachPivotNode=function(e,r){r===void 0&&(r=!1),this.recursivelyWalkNodesAndCallback({nodes:[this.rootNode],callback:e,recursionType:_l.PivotNodes,index:0,includeFooterNodes:r})},t.prototype.recursivelyWalkNodesAndCallback=function(e){for(var r,i=e.nodes,o=e.callback,a=e.recursionType,s=e.includeFooterNodes,l=e.index,u=0;u<i.length;u++){var c=i[u];if(o(c,l++),c.hasChildren()&&!c.footer){var d=null;switch(a){case _l.Normal:d=c.childrenAfterGroup;break;case _l.AfterFilter:d=c.childrenAfterAggFilter;break;case _l.AfterFilterAndSort:d=c.childrenAfterSort;break;case _l.PivotNodes:d=c.leafGroup?null:c.childrenAfterSort;break}d&&(l=this.recursivelyWalkNodesAndCallback({nodes:Zi([],qi(d),!1),callback:o,recursionType:a,index:l,includeFooterNodes:s}))}}var p=(r=i[0])===null||r===void 0?void 0:r.parent;if(!s||!p)return l;var h=p===this.rootNode;if(h){var f=this.gridOptionsService.get("groupIncludeTotalFooter");if(!f)return l}else{var v=this.gridOptionsService.getGroupIncludeFooter();if(!v({node:p}))return l}return p.createFooter(),o(p.sibling,l++),l},t.prototype.doAggregate=function(e){this.aggregationStage&&this.aggregationStage.execute({rowNode:this.rootNode,changedPath:e})},t.prototype.doFilterAggregates=function(e){this.filterAggregatesStage?this.filterAggregatesStage.execute({rowNode:this.rootNode,changedPath:e}):this.rootNode.childrenAfterAggFilter=this.rootNode.childrenAfterFilter},t.prototype.expandOrCollapseAll=function(e){var r=this.gridOptionsService.get("treeData"),i=this.columnModel.isPivotActive(),o=function(l){l&&l.forEach(function(u){var c=function(){u.expanded=e,o(u.childrenAfterGroup)};if(r){var d=A.exists(u.childrenAfterGroup);d&&c();return}if(i){var p=!u.leafGroup;p&&c();return}var h=u.group;h&&c()})};this.rootNode&&o(this.rootNode.childrenAfterGroup),this.refreshModel({step:dt.MAP});var a=e?"expandAll":"collapseAll",s={type:T.EVENT_EXPAND_COLLAPSE_ALL,source:a};this.eventService.dispatchEvent(s)},t.prototype.doSort=function(e,r){this.sortStage.execute({rowNode:this.rootNode,rowNodeTransactions:e,changedPath:r})},t.prototype.doRowGrouping=function(e,r,i,o){if(this.groupStage){if(e?this.groupStage.execute({rowNode:this.rootNode,rowNodeTransactions:e,rowNodeOrder:r,changedPath:i}):this.groupStage.execute({rowNode:this.rootNode,changedPath:i,afterColumnsChanged:o}),this.gridOptionsService.get("groupSelectsChildren")){var a=this.selectionService.updateGroupsFromChildrenSelections("rowGroupChanged",i);if(a){var s={type:T.EVENT_SELECTION_CHANGED,source:"rowGroupChanged"};this.eventService.dispatchEvent(s)}}}else this.rootNode.childrenAfterGroup=this.rootNode.allLeafChildren,this.rootNode.sibling&&(this.rootNode.sibling.childrenAfterGroup=this.rootNode.childrenAfterGroup),this.rootNode.updateHasChildren();this.nodeManager.isRowCountReady()&&(this.rowCountReady=!0,this.eventService.dispatchEventOnce({type:T.EVENT_ROW_COUNT_READY}))},t.prototype.doFilter=function(e){this.filterStage.execute({rowNode:this.rootNode,changedPath:e})},t.prototype.doPivot=function(e){this.pivotStage&&this.pivotStage.execute({rowNode:this.rootNode,changedPath:e})},t.prototype.getCopyOfNodesMap=function(){return this.nodeManager.getCopyOfNodesMap()},t.prototype.getRowNode=function(e){var r=typeof e=="string"&&e.indexOf(Xe.ID_PREFIX_ROW_GROUP)==0;if(r){var i=void 0;return this.forEachNode(function(o){o.id===e&&(i=o)}),i}return this.nodeManager.getRowNode(e)},t.prototype.setRowData=function(e){this.selectionService.reset("rowDataChanged"),this.nodeManager.setRowData(e),this.hasStarted&&this.dispatchUpdateEventsAndRefresh()},t.prototype.dispatchUpdateEventsAndRefresh=function(){var e={type:T.EVENT_ROW_DATA_UPDATED};this.eventService.dispatchEvent(e),this.refreshModel({step:dt.EVERYTHING,newData:!0})},t.prototype.batchUpdateRowData=function(e,r){var i=this;if(this.applyAsyncTransactionsTimeout==null){this.rowDataTransactionBatch=[];var o=this.gridOptionsService.getAsyncTransactionWaitMillis();this.applyAsyncTransactionsTimeout=window.setTimeout(function(){i.executeBatchUpdateRowData()},o)}this.rowDataTransactionBatch.push({rowDataTransaction:e,callback:r})},t.prototype.flushAsyncTransactions=function(){this.applyAsyncTransactionsTimeout!=null&&(clearTimeout(this.applyAsyncTransactionsTimeout),this.executeBatchUpdateRowData())},t.prototype.executeBatchUpdateRowData=function(){var e=this;this.valueCache.onDataChanged();var r=[],i=[],o=!1;if(this.rowDataTransactionBatch&&this.rowDataTransactionBatch.forEach(function(s){var l=e.nodeManager.updateRowData(s.rowDataTransaction,void 0);i.push(l),s.callback&&r.push(s.callback.bind(null,l)),typeof s.rowDataTransaction.addIndex=="number"&&(o=!0)}),this.commonUpdateRowData(i,void 0,o),r.length>0&&window.setTimeout(function(){r.forEach(function(s){return s()})},0),i.length>0){var a={type:T.EVENT_ASYNC_TRANSACTIONS_FLUSHED,results:i};this.eventService.dispatchEvent(a)}this.rowDataTransactionBatch=null,this.applyAsyncTransactionsTimeout=void 0},t.prototype.updateRowData=function(e,r){this.valueCache.onDataChanged();var i=this.nodeManager.updateRowData(e,r),o=typeof e.addIndex=="number";return this.commonUpdateRowData([i],r,o),i},t.prototype.createRowNodeOrder=function(){var e=this.gridOptionsService.get("suppressMaintainUnsortedOrder");if(!e){var r={};if(this.rootNode&&this.rootNode.allLeafChildren)for(var i=0;i<this.rootNode.allLeafChildren.length;i++){var o=this.rootNode.allLeafChildren[i];r[o.id]=i}return r}},t.prototype.commonUpdateRowData=function(e,r,i){if(this.hasStarted){var o=!this.gridOptionsService.get("suppressAnimationFrame");i&&(r=this.createRowNodeOrder());var a={type:T.EVENT_ROW_DATA_UPDATED};this.eventService.dispatchEvent(a),this.refreshModel({step:dt.EVERYTHING,rowNodeTransactions:e,rowNodeOrder:r,keepRenderedRows:!0,keepEditingRows:!0,animate:o})}},t.prototype.doRowsToDisplay=function(){this.rowsToDisplay=this.flattenStage.execute({rowNode:this.rootNode})},t.prototype.onRowHeightChanged=function(){this.refreshModel({step:dt.MAP,keepRenderedRows:!0,keepEditingRows:!0,keepUndoRedoStack:!0})},t.prototype.onRowHeightChangedDebounced=function(){this.onRowHeightChanged_debounced()},t.prototype.resetRowHeights=function(){var e=this.resetRowHeightsForAllRowNodes();this.rootNode.setRowHeight(this.rootNode.rowHeight,!0),this.rootNode.sibling&&this.rootNode.sibling.setRowHeight(this.rootNode.sibling.rowHeight,!0),e&&this.onRowHeightChanged()},t.prototype.resetRowHeightsForAllRowNodes=function(){var e=!1;return this.forEachNode(function(r){r.setRowHeight(r.rowHeight,!0);var i=r.detailNode;i&&i.setRowHeight(i.rowHeight,!0),r.sibling&&r.sibling.setRowHeight(r.sibling.rowHeight,!0),e=!0}),e},t.prototype.onGridStylesChanges=function(){this.columnModel.isAutoRowHeightActive()||this.resetRowHeights()},t.prototype.onGridReady=function(){this.hasStarted||this.setInitialData()},t.prototype.isRowDataLoaded=function(){return this.rowCountReady},Xi([E("columnModel")],t.prototype,"columnModel",void 0),Xi([E("selectionService")],t.prototype,"selectionService",void 0),Xi([E("filterManager")],t.prototype,"filterManager",void 0),Xi([E("valueCache")],t.prototype,"valueCache",void 0),Xi([E("beans")],t.prototype,"beans",void 0),Xi([E("filterStage")],t.prototype,"filterStage",void 0),Xi([E("sortStage")],t.prototype,"sortStage",void 0),Xi([E("flattenStage")],t.prototype,"flattenStage",void 0),Xi([et("groupStage")],t.prototype,"groupStage",void 0),Xi([et("aggregationStage")],t.prototype,"aggregationStage",void 0),Xi([et("pivotStage")],t.prototype,"pivotStage",void 0),Xi([et("filterAggregatesStage")],t.prototype,"filterAggregatesStage",void 0),Xi([z],t.prototype,"init",null),t=Xi([ie("rowModel")],t),t}(X),YPe=function(){var n=function(t,e){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])},n(t,e)};return function(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");n(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}}(),nW=function(n,t,e,r){var i=arguments.length,o=i<3?t:r===null?r=Object.getOwnPropertyDescriptor(t,e):r,a;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(n,t,e,r);else for(var s=n.length-1;s>=0;s--)(a=n[s])&&(o=(i<3?a(o):i>3?a(t,e,o):a(t,e))||o);return i>3&&o&&Object.defineProperty(t,e,o),o},XPe=function(n){YPe(t,n);function t(){return n!==null&&n.apply(this,arguments)||this}return t.prototype.execute=function(e){var r=e.changedPath;this.filterService.filter(r)},nW([E("filterService")],t.prototype,"filterService",void 0),t=nW([ie("filterStage")],t),t}(X),qPe=function(){var n=function(t,e){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])},n(t,e)};return function(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");n(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}}(),fD=function(n,t,e,r){var i=arguments.length,o=i<3?t:r===null?r=Object.getOwnPropertyDescriptor(t,e):r,a;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(n,t,e,r);else for(var s=n.length-1;s>=0;s--)(a=n[s])&&(o=(i<3?a(o):i>3?a(t,e,o):a(t,e))||o);return i>3&&o&&Object.defineProperty(t,e,o),o},ZPe=function(n){qPe(t,n);function t(){return n!==null&&n.apply(this,arguments)||this}return t.prototype.execute=function(e){var r=this,i=this.sortController.getSortOptions(),o=A.exists(i)&&i.length>0,a=o&&A.exists(e.rowNodeTransactions)&&this.gridOptionsService.get("deltaSort"),s=i.some(function(l){var u=r.gridOptionsService.isColumnsSortingCoupledToGroup();return u?l.column.isPrimary()&&l.column.isRowGroupActive():!!l.column.getColDef().showRowGroup});this.sortService.sort(i,o,a,e.rowNodeTransactions,e.changedPath,s)},fD([E("sortService")],t.prototype,"sortService",void 0),fD([E("sortController")],t.prototype,"sortController",void 0),t=fD([ie("sortStage")],t),t}(X),QPe=function(){var n=function(t,e){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])},n(t,e)};return function(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");n(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}}(),vD=function(n,t,e,r){var i=arguments.length,o=i<3?t:r===null?r=Object.getOwnPropertyDescriptor(t,e):r,a;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(n,t,e,r);else for(var s=n.length-1;s>=0;s--)(a=n[s])&&(o=(i<3?a(o):i>3?a(t,e,o):a(t,e))||o);return i>3&&o&&Object.defineProperty(t,e,o),o},JPe=function(n){QPe(t,n);function t(){return n!==null&&n.apply(this,arguments)||this}return t.prototype.execute=function(e){var r=e.rowNode,i=[],o=this.columnModel.isPivotMode(),a=o&&r.leafGroup,s=a?[r]:r.childrenAfterSort,l=this.getFlattenDetails();this.recursivelyAddToRowsToDisplay(l,s,i,o,0);var u=i.length>0,c=!a&&u&&l.groupIncludeTotalFooter;return c&&(r.createFooter(),this.addRowNodeToRowsToDisplay(l,r.sibling,i,0)),i},t.prototype.getFlattenDetails=function(){var e=this.gridOptionsService.get("groupRemoveSingleChildren"),r=!e&&this.gridOptionsService.get("groupRemoveLowestSingleChildren");return{groupRemoveLowestSingleChildren:r,groupRemoveSingleChildren:e,isGroupMultiAutoColumn:this.gridOptionsService.isGroupMultiAutoColumn(),hideOpenParents:this.gridOptionsService.get("groupHideOpenParents"),groupIncludeTotalFooter:this.gridOptionsService.get("groupIncludeTotalFooter"),getGroupIncludeFooter:this.gridOptionsService.getGroupIncludeFooter()}},t.prototype.recursivelyAddToRowsToDisplay=function(e,r,i,o,a){if(!A.missingOrEmpty(r))for(var s=0;s<r.length;s++){var l=r[s],u=l.hasChildren(),c=o&&!u,d=e.groupRemoveSingleChildren&&u&&l.childrenAfterGroup.length===1,p=e.groupRemoveLowestSingleChildren&&u&&l.leafGroup&&l.childrenAfterGroup.length===1,h=o&&l.leafGroup,f=e.hideOpenParents&&l.expanded&&!l.master&&!h,v=!c&&!f&&!d&&!p;if(v&&this.addRowNodeToRowsToDisplay(e,l,i,a),!(o&&l.leafGroup)){if(u){var g=d||p;if(l.expanded||g){var y=g?a:a+1;this.recursivelyAddToRowsToDisplay(e,l.childrenAfterSort,i,o,y);var m=e.getGroupIncludeFooter({node:l});m?(l.createFooter(),this.addRowNodeToRowsToDisplay(e,l.sibling,i,y)):l.destroyFooter()}}else if(l.master&&l.expanded){var C=this.createDetailNode(l);this.addRowNodeToRowsToDisplay(e,C,i,a)}}}},t.prototype.addRowNodeToRowsToDisplay=function(e,r,i,o){i.push(r),r.setUiLevel(e.isGroupMultiAutoColumn?0:o)},t.prototype.createDetailNode=function(e){if(A.exists(e.detailNode))return e.detailNode;var r=new Xe(this.beans);return r.detail=!0,r.selectable=!1,r.parent=e,A.exists(e.id)&&(r.id="detail_"+e.id),r.data=e.data,r.level=e.level+1,e.detailNode=r,r},vD([E("columnModel")],t.prototype,"columnModel",void 0),vD([E("beans")],t.prototype,"beans",void 0),t=vD([ie("flattenStage")],t),t}(X),eAe=function(){var n=function(t,e){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])},n(t,e)};return function(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");n(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}}(),gD=function(n,t,e,r){var i=arguments.length,o=i<3?t:r===null?r=Object.getOwnPropertyDescriptor(t,e):r,a;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(n,t,e,r);else for(var s=n.length-1;s>=0;s--)(a=n[s])&&(o=(i<3?a(o):i>3?a(t,e,o):a(t,e))||o);return i>3&&o&&Object.defineProperty(t,e,o),o},tAe=function(n){eAe(t,n);function t(){return n!==null&&n.apply(this,arguments)||this}return t.prototype.sort=function(e,r,i,o,a,s){var l=this,u=this.gridOptionsService.get("groupMaintainOrder"),c=this.columnModel.getAllGridColumns().some(function(v){return v.isRowGroupActive()}),d={};i&&o&&(d=this.calculateDirtyNodes(o));var p=this.columnModel.isPivotMode(),h=this.gridOptionsService.getCallback("postSortRows"),f=function(v){var g;l.pullDownGroupDataForHideOpenParents(v.childrenAfterAggFilter,!0);var y=p&&v.leafGroup,m=u&&c&&!v.leafGroup&&!s;if(m){var C=(g=l.columnModel.getRowGroupColumns())===null||g===void 0?void 0:g[v.level+1],S=(C==null?void 0:C.getSort())===null,w=v.childrenAfterAggFilter.slice(0);if(v.childrenAfterSort&&!S){var _={};v.childrenAfterSort.forEach(function(b,O){_[b.id]=O}),w.sort(function(b,O){var P,D;return((P=_[b.id])!==null&&P!==void 0?P:0)-((D=_[O.id])!==null&&D!==void 0?D:0)})}v.childrenAfterSort=w}else!r||y?v.childrenAfterSort=v.childrenAfterAggFilter.slice(0):i?v.childrenAfterSort=l.doDeltaSort(v,d,a,e):v.childrenAfterSort=l.rowNodeSorter.doFullSort(v.childrenAfterAggFilter,e);if(v.sibling&&(v.sibling.childrenAfterSort=v.childrenAfterSort),l.updateChildIndexes(v),h){var x={nodes:v.childrenAfterSort};h(x)}};a&&a.forEachChangedNodeDepthFirst(f),this.updateGroupDataForHideOpenParents(a)},t.prototype.calculateDirtyNodes=function(e){var r={},i=function(o){o&&o.forEach(function(a){return r[a.id]=!0})};return e&&e.forEach(function(o){i(o.add),i(o.update),i(o.remove)}),r},t.prototype.doDeltaSort=function(e,r,i,o){var a=this,s=e.childrenAfterAggFilter,l=e.childrenAfterSort;if(!l)return this.rowNodeSorter.doFullSort(s,o);var u={},c=[];s.forEach(function(f){r[f.id]||!i.canSkip(f)?c.push(f):u[f.id]=!0});var d=l.filter(function(f){return u[f.id]}),p=function(f,v){return{currentPos:v,rowNode:f}},h=c.map(p).sort(function(f,v){return a.rowNodeSorter.compareRowNodes(o,f,v)});return this.mergeSortedArrays(o,h,d.map(p)).map(function(f){var v=f.rowNode;return v})},t.prototype.mergeSortedArrays=function(e,r,i){for(var o=[],a=0,s=0;a<r.length&&s<i.length;){var l=this.rowNodeSorter.compareRowNodes(e,r[a],i[s]);l<0?o.push(r[a++]):o.push(i[s++])}for(;a<r.length;)o.push(r[a++]);for(;s<i.length;)o.push(i[s++]);return o},t.prototype.updateChildIndexes=function(e){if(!A.missing(e.childrenAfterSort))for(var r=e.childrenAfterSort,i=0;i<r.length;i++){var o=r[i],a=i===0,s=i===e.childrenAfterSort.length-1;o.setFirstChild(a),o.setLastChild(s),o.setChildIndex(i)}},t.prototype.updateGroupDataForHideOpenParents=function(e){var r=this;if(this.gridOptionsService.get("groupHideOpenParents")){if(this.gridOptionsService.get("treeData"))return A.warnOnce("The property hideOpenParents dose not work with Tree Data. This is because Tree Data has values at the group level, it doesn't make sense to hide them."),!1;var i=function(o){r.pullDownGroupDataForHideOpenParents(o.childrenAfterSort,!1),o.childrenAfterSort.forEach(function(a){a.hasChildren()&&i(a)})};e&&e.executeFromRootNode(function(o){return i(o)})}},t.prototype.pullDownGroupDataForHideOpenParents=function(e,r){var i=this;!this.gridOptionsService.get("groupHideOpenParents")||A.missing(e)||e.forEach(function(o){var a=i.columnModel.getGroupDisplayColumns();a.forEach(function(s){var l=s.getColDef().showRowGroup;if(typeof l!="string"){console.error("AG Grid: groupHideOpenParents only works when specifying specific columns for colDef.showRowGroup");return}var u=l,c=i.columnModel.getPrimaryColumn(u),d=c===o.rowGroupColumn;if(!d)if(r)o.setGroupValue(s.getId(),void 0);else{var p=o.getFirstChildOfFirstChild(c);p&&o.setGroupValue(s.getId(),p.key)}})})},gD([E("columnModel")],t.prototype,"columnModel",void 0),gD([E("rowNodeSorter")],t.prototype,"rowNodeSorter",void 0),t=gD([ie("sortService")],t),t}(X),rAe=function(){var n=function(t,e){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])},n(t,e)};return function(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");n(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}}(),iW=function(n,t,e,r){var i=arguments.length,o=i<3?t:r===null?r=Object.getOwnPropertyDescriptor(t,e):r,a;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(n,t,e,r);else for(var s=n.length-1;s>=0;s--)(a=n[s])&&(o=(i<3?a(o):i>3?a(t,e,o):a(t,e))||o);return i>3&&o&&Object.defineProperty(t,e,o),o},nAe=function(n){rAe(t,n);function t(){return n!==null&&n.apply(this,arguments)||this}return t.prototype.filter=function(e){var r=this.filterManager.isChildFilterPresent();this.filterNodes(r,e)},t.prototype.filterNodes=function(e,r){var i=this,o=function(u,c){u.hasChildren()&&e&&!c?u.childrenAfterFilter=u.childrenAfterGroup.filter(function(d){var p=d.childrenAfterFilter&&d.childrenAfterFilter.length>0,h=d.data&&i.filterManager.doesRowPassFilter({rowNode:d});return p||h}):u.childrenAfterFilter=u.childrenAfterGroup,u.sibling&&(u.sibling.childrenAfterFilter=u.childrenAfterFilter)};if(this.doingTreeDataFiltering()){var a=function(u,c){if(u.childrenAfterGroup)for(var d=0;d<u.childrenAfterGroup.length;d++){var p=u.childrenAfterGroup[d],h=c||i.filterManager.doesRowPassFilter({rowNode:p});p.childrenAfterGroup?a(u.childrenAfterGroup[d],h):o(p,h)}o(u,c)},s=function(u){return a(u,!1)};r.executeFromRootNode(s)}else{var l=function(u){return o(u,!1)};r.forEachChangedNodeDepthFirst(l,!0)}},t.prototype.doingTreeDataFiltering=function(){return this.gridOptionsService.get("treeData")&&!this.gridOptionsService.get("excludeChildrenWhenTreeDataFiltering")},iW([E("filterManager")],t.prototype,"filterManager",void 0),t=iW([ie("filterService")],t),t}(X),iAe=function(){var n=function(t,e){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])},n(t,e)};return function(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");n(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}}(),lm=function(n,t,e,r){var i=arguments.length,o=i<3?t:r===null?r=Object.getOwnPropertyDescriptor(t,e):r,a;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(n,t,e,r);else for(var s=n.length-1;s>=0;s--)(a=n[s])&&(o=(i<3?a(o):i>3?a(t,e,o):a(t,e))||o);return i>3&&o&&Object.defineProperty(t,e,o),o},oAe=function(n,t){var e=typeof Symbol=="function"&&n[Symbol.iterator];if(!e)return n;var r=e.call(n),i,o=[],a;try{for(;(t===void 0||t-- >0)&&!(i=r.next()).done;)o.push(i.value)}catch(s){a={error:s}}finally{try{i&&!i.done&&(e=r.return)&&e.call(r)}finally{if(a)throw a.error}}return o},aAe=function(n){iAe(t,n);function t(){return n!==null&&n.apply(this,arguments)||this}return t.prototype.postConstruct=function(){var e=this;this.rowModel.getType()==="clientSide"&&(this.clientSideRowModel=this.rowModel,this.addManagedPropertyListener("rowData",function(){return e.onRowDataUpdated()}))},t.prototype.isActive=function(){var e=this.gridOptionsService.exists("getRowId"),r=this.gridOptionsService.get("resetRowDataOnUpdate");return r?!1:e},t.prototype.setRowData=function(e){var r=this.createTransactionForRowData(e);if(r){var i=oAe(r,2),o=i[0],a=i[1];this.clientSideRowModel.updateRowData(o,a)}},t.prototype.createTransactionForRowData=function(e){if(A.missing(this.clientSideRowModel)){console.error("AG Grid: ImmutableService only works with ClientSideRowModel");return}var r=this.gridOptionsService.getCallback("getRowId");if(r==null){console.error("AG Grid: ImmutableService requires getRowId() callback to be implemented, your row data needs IDs!");return}var i={remove:[],update:[],add:[]},o=this.clientSideRowModel.getCopyOfNodesMap(),a=this.gridOptionsService.get("suppressMaintainUnsortedOrder"),s=a?void 0:{};return A.exists(e)&&e.forEach(function(l,u){var c=r({data:l,level:0}),d=o[c];if(s&&(s[c]=u),d){var p=d.data!==l;p&&i.update.push(l),o[c]=void 0}else i.add.push(l)}),A.iterateObject(o,function(l,u){u&&i.remove.push(u.data)}),[i,s]},t.prototype.onRowDataUpdated=function(){var e=this.gridOptionsService.get("rowData");e&&(this.isActive()?this.setRowData(e):(this.selectionService.reset("rowDataChanged"),this.clientSideRowModel.setRowData(e)))},lm([E("rowModel")],t.prototype,"rowModel",void 0),lm([E("rowRenderer")],t.prototype,"rowRenderer",void 0),lm([E("selectionService")],t.prototype,"selectionService",void 0),lm([z],t.prototype,"postConstruct",null),t=lm([ie("immutableService")],t),t}(X),sAe="31.1.1",uq={version:sAe,moduleName:pe.ClientSideRowModelModule,rowModel:"clientSide",beans:[KPe,XPe,ZPe,JPe,tAe,nAe,aAe]},lAe=function(){var n=function(t,e){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])},n(t,e)};return function(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");n(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}}(),yD=function(n,t,e,r){var i=arguments.length,o=i<3?t:r===null?r=Object.getOwnPropertyDescriptor(t,e):r,a;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(n,t,e,r);else for(var s=n.length-1;s>=0;s--)(a=n[s])&&(o=(i<3?a(o):i>3?a(t,e,o):a(t,e))||o);return i>3&&o&&Object.defineProperty(t,e,o),o},oW=function(n){lAe(t,n);function t(e,r,i){var o=n.call(this,e)||this;return o.parentCache=r,o.params=i,o.startRow=e*i.blockSize,o.endRow=o.startRow+i.blockSize,o}return t.prototype.postConstruct=function(){this.createRowNodes()},t.prototype.getBlockStateJson=function(){return{id:""+this.getId(),state:{blockNumber:this.getId(),startRow:this.getStartRow(),endRow:this.getEndRow(),pageStatus:this.getState()}}},t.prototype.setDataAndId=function(e,r,i){A.exists(r)?e.setDataAndId(r,i.toString()):e.setDataAndId(void 0,void 0)},t.prototype.loadFromDatasource=function(){var e=this,r=this.createLoadParams();if(A.missing(this.params.datasource.getRows)){console.warn("AG Grid: datasource is missing getRows method");return}window.setTimeout(function(){e.params.datasource.getRows(r)},0)},t.prototype.processServerFail=function(){},t.prototype.createLoadParams=function(){var e={startRow:this.getStartRow(),endRow:this.getEndRow(),successCallback:this.pageLoaded.bind(this,this.getVersion()),failCallback:this.pageLoadFailed.bind(this,this.getVersion()),sortModel:this.params.sortModel,filterModel:this.params.filterModel,context:this.gridOptionsService.getGridCommonParams().context};return e},t.prototype.forEachNode=function(e,r,i){var o=this;this.rowNodes.forEach(function(a,s){var l=o.startRow+s;l<i&&e(a,r.next())})},t.prototype.getLastAccessed=function(){return this.lastAccessed},t.prototype.getRow=function(e,r){r===void 0&&(r=!1),r||(this.lastAccessed=this.params.lastAccessedSequence.next());var i=e-this.startRow;return this.rowNodes[i]},t.prototype.getStartRow=function(){return this.startRow},t.prototype.getEndRow=function(){return this.endRow},t.prototype.createRowNodes=function(){this.rowNodes=[];for(var e=0;e<this.params.blockSize;e++){var r=this.startRow+e,i=new Xe(this.beans);i.setRowHeight(this.params.rowHeight),i.uiLevel=0,i.setRowIndex(r),i.setRowTop(this.params.rowHeight*r),this.rowNodes.push(i)}},t.prototype.processServerResult=function(e){var r=this;this.rowNodes.forEach(function(o,a){var s=e.rowData?e.rowData[a]:void 0;!o.id&&o.alreadyRendered&&s&&(r.rowNodes[a]=new Xe(r.beans),r.rowNodes[a].setRowIndex(o.rowIndex),r.rowNodes[a].setRowTop(o.rowTop),r.rowNodes[a].setRowHeight(o.rowHeight),o.clearRowTopAndRowIndex()),r.setDataAndId(r.rowNodes[a],s,r.startRow+a)});var i=e.rowCount!=null&&e.rowCount>=0?e.rowCount:void 0;this.parentCache.pageLoaded(this,i)},t.prototype.destroyRowNodes=function(){this.rowNodes.forEach(function(e){e.clearRowTopAndRowIndex()})},yD([E("beans")],t.prototype,"beans",void 0),yD([z],t.prototype,"postConstruct",null),yD([ar],t.prototype,"destroyRowNodes",null),t}(Rl),uAe=function(){var n=function(t,e){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])},n(t,e)};return function(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");n(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}}(),R_=function(n,t,e,r){var i=arguments.length,o=i<3?t:r===null?r=Object.getOwnPropertyDescriptor(t,e):r,a;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(n,t,e,r);else for(var s=n.length-1;s>=0;s--)(a=n[s])&&(o=(i<3?a(o):i>3?a(t,e,o):a(t,e))||o);return i>3&&o&&Object.defineProperty(t,e,o),o},cAe=function(n,t){return function(e,r){t(e,r,n)}},dAe=function(n){uAe(t,n);function t(e){var r=n.call(this)||this;return r.lastRowIndexKnown=!1,r.blocks={},r.blockCount=0,r.rowCount=e.initialRowCount,r.params=e,r}return t.prototype.setBeans=function(e){this.logger=e.create("InfiniteCache")},t.prototype.getRow=function(e,r){r===void 0&&(r=!1);var i=Math.floor(e/this.params.blockSize),o=this.blocks[i];if(!o){if(r)return;o=this.createBlock(i)}return o.getRow(e)},t.prototype.createBlock=function(e){var r=this.createBean(new oW(e,this,this.params));return this.blocks[r.getId()]=r,this.blockCount++,this.purgeBlocksIfNeeded(r),this.params.rowNodeBlockLoader.addBlock(r),r},t.prototype.refreshCache=function(){var e=this.blockCount==0;if(e){this.purgeCache();return}this.getBlocksInOrder().forEach(function(r){return r.setStateWaitingToLoad()}),this.params.rowNodeBlockLoader.checkBlockToLoad()},t.prototype.destroyAllBlocks=function(){var e=this;this.getBlocksInOrder().forEach(function(r){return e.destroyBlock(r)})},t.prototype.getRowCount=function(){return this.rowCount},t.prototype.isLastRowIndexKnown=function(){return this.lastRowIndexKnown},t.prototype.pageLoaded=function(e,r){this.isAlive()&&(this.logger.log("onPageLoaded: page = ".concat(e.getId(),", lastRow = ").concat(r)),this.checkRowCount(e,r),this.onCacheUpdated())},t.prototype.purgeBlocksIfNeeded=function(e){var r=this,i=this.getBlocksInOrder().filter(function(u){return u!=e}),o=function(u,c){return c.getLastAccessed()-u.getLastAccessed()};i.sort(o);var a=this.params.maxBlocksInCache>0,s=a?this.params.maxBlocksInCache-1:null,l=t.MAX_EMPTY_BLOCKS_TO_KEEP-1;i.forEach(function(u,c){var d=u.getState()===oW.STATE_WAITING_TO_LOAD&&c>=l,p=a?c>=s:!1;if(d||p){if(r.isBlockCurrentlyDisplayed(u)||r.isBlockFocused(u))return;r.removeBlockFromCache(u)}})},t.prototype.isBlockFocused=function(e){var r=this.focusService.getFocusCellToUseAfterRefresh();if(!r||r.rowPinned!=null)return!1;var i=e.getStartRow(),o=e.getEndRow(),a=r.rowIndex>=i&&r.rowIndex<o;return a},t.prototype.isBlockCurrentlyDisplayed=function(e){var r=e.getStartRow(),i=e.getEndRow()-1;return this.rowRenderer.isRangeInRenderedViewport(r,i)},t.prototype.removeBlockFromCache=function(e){e&&this.destroyBlock(e)},t.prototype.checkRowCount=function(e,r){if(typeof r=="number"&&r>=0)this.rowCount=r,this.lastRowIndexKnown=!0;else if(!this.lastRowIndexKnown){var i=(e.getId()+1)*this.params.blockSize,o=i+this.params.overflowSize;this.rowCount<o&&(this.rowCount=o)}},t.prototype.setRowCount=function(e,r){this.rowCount=e,A.exists(r)&&(this.lastRowIndexKnown=r),this.lastRowIndexKnown||this.rowCount%this.params.blockSize===0&&this.rowCount++,this.onCacheUpdated()},t.prototype.forEachNodeDeep=function(e){var r=this,i=new ti;this.getBlocksInOrder().forEach(function(o){return o.forEachNode(e,i,r.rowCount)})},t.prototype.getBlocksInOrder=function(){var e=function(i,o){return i.getId()-o.getId()},r=A.getAllValuesInObject(this.blocks).sort(e);return r},t.prototype.destroyBlock=function(e){delete this.blocks[e.getId()],this.destroyBean(e),this.blockCount--,this.params.rowNodeBlockLoader.removeBlock(e)},t.prototype.onCacheUpdated=function(){if(this.isAlive()){this.destroyAllBlocksPastVirtualRowCount();var e={type:T.EVENT_STORE_UPDATED};this.eventService.dispatchEvent(e)}},t.prototype.destroyAllBlocksPastVirtualRowCount=function(){var e=this,r=[];this.getBlocksInOrder().forEach(function(i){var o=i.getId()*e.params.blockSize;o>=e.rowCount&&r.push(i)}),r.length>0&&r.forEach(function(i){return e.destroyBlock(i)})},t.prototype.purgeCache=function(){var e=this;this.getBlocksInOrder().forEach(function(r){return e.removeBlockFromCache(r)}),this.lastRowIndexKnown=!1,this.rowCount===0&&(this.rowCount=this.params.initialRowCount),this.onCacheUpdated()},t.prototype.getRowNodesInRange=function(e,r){var i=this,o=[],a=-1,s=!1,l=new ti;A.missing(e)&&(s=!0);var u=!1;this.getBlocksInOrder().forEach(function(d){if(!u){if(s&&a+1!==d.getId()){u=!0;return}a=d.getId(),d.forEachNode(function(p){var h=p===e||p===r;(s||h)&&o.push(p),h&&(s=!s)},l,i.rowCount)}});var c=u||s;return c?[]:o},t.MAX_EMPTY_BLOCKS_TO_KEEP=2,R_([E("rowRenderer")],t.prototype,"rowRenderer",void 0),R_([E("focusService")],t.prototype,"focusService",void 0),R_([cAe(0,oa("loggerFactory"))],t.prototype,"setBeans",null),R_([ar],t.prototype,"destroyAllBlocks",null),t}(X),pAe=function(){var n=function(t,e){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])},n(t,e)};return function(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");n(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}}(),Hc=function(n,t,e,r){var i=arguments.length,o=i<3?t:r===null?r=Object.getOwnPropertyDescriptor(t,e):r,a;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(n,t,e,r);else for(var s=n.length-1;s>=0;s--)(a=n[s])&&(o=(i<3?a(o):i>3?a(t,e,o):a(t,e))||o);return i>3&&o&&Object.defineProperty(t,e,o),o},hAe=function(n){pAe(t,n);function t(){return n!==null&&n.apply(this,arguments)||this}return t.prototype.getRowBounds=function(e){return{rowHeight:this.rowHeight,rowTop:this.rowHeight*e}},t.prototype.ensureRowHeightsValid=function(e,r,i,o){return!1},t.prototype.init=function(){var e=this;this.gridOptionsService.isRowModelType("infinite")&&(this.rowHeight=this.gridOptionsService.getRowHeightAsNumber(),this.addEventListeners(),this.addDestroyFunc(function(){return e.destroyCache()}),this.verifyProps())},t.prototype.verifyProps=function(){this.gridOptionsService.exists("initialGroupOrderComparator")&&A.warnOnce("initialGroupOrderComparator cannot be used with Infinite Row Model as sorting is done on the server side")},t.prototype.start=function(){this.setDatasource(this.gridOptionsService.get("datasource"))},t.prototype.destroyDatasource=function(){this.datasource&&(this.getContext().destroyBean(this.datasource),this.rowRenderer.datasourceChanged(),this.datasource=null)},t.prototype.addEventListeners=function(){var e=this;this.addManagedListener(this.eventService,T.EVENT_FILTER_CHANGED,this.onFilterChanged.bind(this)),this.addManagedListener(this.eventService,T.EVENT_SORT_CHANGED,this.onSortChanged.bind(this)),this.addManagedListener(this.eventService,T.EVENT_NEW_COLUMNS_LOADED,this.onColumnEverything.bind(this)),this.addManagedListener(this.eventService,T.EVENT_STORE_UPDATED,this.onCacheUpdated.bind(this)),this.addManagedPropertyListener("datasource",function(){return e.setDatasource(e.gridOptionsService.get("datasource"))}),this.addManagedPropertyListener("cacheBlockSize",function(){return e.resetCache()}),this.addManagedPropertyListener("rowHeight",function(){e.rowHeight=e.gridOptionsService.getRowHeightAsNumber(),e.cacheParams.rowHeight=e.rowHeight,e.updateRowHeights()})},t.prototype.onFilterChanged=function(){this.reset()},t.prototype.onSortChanged=function(){this.reset()},t.prototype.onColumnEverything=function(){var e;this.cacheParams?e=this.isSortModelDifferent():e=!0,e&&this.reset()},t.prototype.isSortModelDifferent=function(){return!A.jsonEquals(this.cacheParams.sortModel,this.sortController.getSortModel())},t.prototype.getType=function(){return"infinite"},t.prototype.setDatasource=function(e){this.destroyDatasource(),this.datasource=e,e&&this.reset()},t.prototype.isEmpty=function(){return!this.infiniteCache},t.prototype.isRowsToRender=function(){return!!this.infiniteCache},t.prototype.getNodesInRangeForSelection=function(e,r){return this.infiniteCache?this.infiniteCache.getRowNodesInRange(e,r):[]},t.prototype.reset=function(){if(this.datasource){var e=this.gridOptionsService.getCallback("getRowId"),r=e!=null;r||this.selectionService.reset("rowDataChanged"),this.resetCache()}},t.prototype.createModelUpdatedEvent=function(){return{type:T.EVENT_MODEL_UPDATED,newPage:!1,newPageSize:!1,newData:!1,keepRenderedRows:!0,animate:!1}},t.prototype.resetCache=function(){this.destroyCache(),this.cacheParams={datasource:this.datasource,filterModel:this.filterManager.getFilterModel(),sortModel:this.sortController.getSortModel(),rowNodeBlockLoader:this.rowNodeBlockLoader,initialRowCount:this.gridOptionsService.get("infiniteInitialRowCount"),maxBlocksInCache:this.gridOptionsService.get("maxBlocksInCache"),rowHeight:this.gridOptionsService.getRowHeightAsNumber(),overflowSize:this.gridOptionsService.get("cacheOverflowSize"),blockSize:this.gridOptionsService.get("cacheBlockSize"),lastAccessedSequence:new ti},this.infiniteCache=this.createBean(new dAe(this.cacheParams)),this.eventService.dispatchEventOnce({type:T.EVENT_ROW_COUNT_READY});var e=this.createModelUpdatedEvent();this.eventService.dispatchEvent(e)},t.prototype.updateRowHeights=function(){var e=this;this.forEachNode(function(i){i.setRowHeight(e.rowHeight),i.setRowTop(e.rowHeight*i.rowIndex)});var r=this.createModelUpdatedEvent();this.eventService.dispatchEvent(r)},t.prototype.destroyCache=function(){this.infiniteCache&&(this.infiniteCache=this.destroyBean(this.infiniteCache))},t.prototype.onCacheUpdated=function(){var e=this.createModelUpdatedEvent();this.eventService.dispatchEvent(e)},t.prototype.getRow=function(e){if(this.infiniteCache&&!(e>=this.infiniteCache.getRowCount()))return this.infiniteCache.getRow(e)},t.prototype.getRowNode=function(e){var r;return this.forEachNode(function(i){i.id===e&&(r=i)}),r},t.prototype.forEachNode=function(e){this.infiniteCache&&this.infiniteCache.forEachNodeDeep(e)},t.prototype.getTopLevelRowCount=function(){return this.getRowCount()},t.prototype.getTopLevelRowDisplayedIndex=function(e){return e},t.prototype.getRowIndexAtPixel=function(e){if(this.rowHeight!==0){var r=Math.floor(e/this.rowHeight),i=this.getRowCount()-1;return r>i?i:r}return 0},t.prototype.getRowCount=function(){return this.infiniteCache?this.infiniteCache.getRowCount():0},t.prototype.isRowPresent=function(e){var r=this.getRowNode(e.id);return!!r},t.prototype.refreshCache=function(){this.infiniteCache&&this.infiniteCache.refreshCache()},t.prototype.purgeCache=function(){this.infiniteCache&&this.infiniteCache.purgeCache()},t.prototype.isLastRowIndexKnown=function(){return this.infiniteCache?this.infiniteCache.isLastRowIndexKnown():!1},t.prototype.setRowCount=function(e,r){this.infiniteCache&&this.infiniteCache.setRowCount(e,r)},Hc([E("filterManager")],t.prototype,"filterManager",void 0),Hc([E("sortController")],t.prototype,"sortController",void 0),Hc([E("selectionService")],t.prototype,"selectionService",void 0),Hc([E("rowRenderer")],t.prototype,"rowRenderer",void 0),Hc([E("rowNodeBlockLoader")],t.prototype,"rowNodeBlockLoader",void 0),Hc([z],t.prototype,"init",null),Hc([ar],t.prototype,"destroyDatasource",null),t=Hc([ie("rowModel")],t),t}(X),fAe="31.1.1",cq={version:fAe,moduleName:pe.InfiniteRowModelModule,rowModel:"infinite",beans:[hAe]},PG=function(){function n(){}return n.prototype.setBeans=function(t){this.beans=t},n.prototype.getFileName=function(t){var e=this.getDefaultFileExtension();return(t==null||!t.length)&&(t=this.getDefaultFileName()),t.indexOf(".")===-1?"".concat(t,".").concat(e):t},n.prototype.getData=function(t){var e=this.createSerializingSession(t);return this.beans.gridSerializer.serialize(e,t)},n.prototype.getDefaultFileName=function(){return"export.".concat(this.getDefaultFileExtension())},n}(),AG=function(){function n(t){this.groupColumns=[];var e=t.columnModel,r=t.valueService,i=t.gridOptionsService,o=t.valueFormatterService,a=t.valueParserService,s=t.processCellCallback,l=t.processHeaderCallback,u=t.processGroupHeaderCallback,c=t.processRowGroupCallback;this.columnModel=e,this.valueService=r,this.gridOptionsService=i,this.valueFormatterService=o,this.valueParserService=a,this.processCellCallback=s,this.processHeaderCallback=l,this.processGroupHeaderCallback=u,this.processRowGroupCallback=c}return n.prototype.prepare=function(t){this.groupColumns=t.filter(function(e){return!!e.getColDef().showRowGroup})},n.prototype.extractHeaderValue=function(t){var e=this.getHeaderName(this.processHeaderCallback,t);return e??""},n.prototype.extractRowCellValue=function(t,e,r,i,o){var a=this.gridOptionsService.get("groupHideOpenParents"),s=(!a||o.footer)&&this.shouldRenderGroupSummaryCell(o,t,e)?this.createValueForGroupNode(t,o):this.valueService.getValue(t,o),l=this.processCell({accumulatedRowIndex:r,rowNode:o,column:t,value:s,processCellCallback:this.processCellCallback,type:i});return l},n.prototype.shouldRenderGroupSummaryCell=function(t,e,r){var i,o=t&&t.group;if(!o)return!1;var a=this.groupColumns.indexOf(e);if(a!==-1){if(((i=t.groupData)===null||i===void 0?void 0:i[e.getId()])!=null||this.gridOptionsService.isRowModelType("serverSide")&&t.group)return!0;if(t.footer&&t.level===-1){var s=e.getColDef(),l=s==null||s.showRowGroup===!0;return l||s.showRowGroup===this.columnModel.getRowGroupColumns()[0].getId()}}var u=this.gridOptionsService.isGroupUseEntireRow(this.columnModel.isPivotMode());return r===0&&u},n.prototype.getHeaderName=function(t,e){return t?t(this.gridOptionsService.addGridCommonParams({column:e})):this.columnModel.getDisplayNameForColumn(e,"csv",!0)},n.prototype.createValueForGroupNode=function(t,e){var r=this;if(this.processRowGroupCallback)return this.processRowGroupCallback(this.gridOptionsService.addGridCommonParams({column:t,node:e}));var i=this.gridOptionsService.get("treeData"),o=this.gridOptionsService.get("suppressGroupMaintainValueType"),a=function(c){var d,p;if(i||o)return c.key;var h=(d=c.groupData)===null||d===void 0?void 0:d[t.getId()];return!h||!c.rowGroupColumn||c.rowGroupColumn.getColDef().useValueFormatterForExport===!1?h:(p=r.valueFormatterService.formatValue(c.rowGroupColumn,c,h))!==null&&p!==void 0?p:h},s=e.footer,l=[a(e)];if(!this.gridOptionsService.isGroupMultiAutoColumn())for(;e.parent;)e=e.parent,l.push(a(e));var u=l.reverse().join(" -> ");return s?"Total ".concat(u):u},n.prototype.processCell=function(t){var e=this,r,i=t.accumulatedRowIndex,o=t.rowNode,a=t.column,s=t.value,l=t.processCellCallback,u=t.type;return l?{value:(r=l(this.gridOptionsService.addGridCommonParams({accumulatedRowIndex:i,column:a,node:o,value:s,type:u,parseValue:function(c){return e.valueParserService.parseValue(a,o,c,e.valueService.getValue(a,o))},formatValue:function(c){var d;return(d=e.valueFormatterService.formatValue(a,o,c))!==null&&d!==void 0?d:c}})))!==null&&r!==void 0?r:""}:a.getColDef().useValueFormatterForExport!==!1?{value:s??"",valueFormatted:this.valueFormatterService.formatValue(a,o,s)}:{value:s??""}},n}(),OT=function(){function n(){}return n.download=function(t,e){var r=document.defaultView||window;if(!r){console.warn("AG Grid: There is no `window` associated with the current `document`");return}var i=document.createElement("a"),o=r.URL.createObjectURL(e);i.setAttribute("href",o),i.setAttribute("download",t),i.style.display="none",document.body.appendChild(i),i.dispatchEvent(new MouseEvent("click",{bubbles:!1,cancelable:!0,view:r})),document.body.removeChild(i),r.setTimeout(function(){r.URL.revokeObjectURL(o)},0)},n}(),vAe=function(){var n=function(t,e){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])},n(t,e)};return function(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");n(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}}(),aW=`\r
`,gAe=function(n){vAe(t,n);function t(e){var r=n.call(this,e)||this;r.isFirstLine=!0,r.result="";var i=e.suppressQuotes,o=e.columnSeparator;return r.suppressQuotes=i,r.columnSeparator=o,r}return t.prototype.addCustomContent=function(e){var r=this;e&&(typeof e=="string"?(/^\s*\n/.test(e)||this.beginNewLine(),e=e.replace(/\r?\n/g,aW),this.result+=e):e.forEach(function(i){r.beginNewLine(),i.forEach(function(o,a){a!==0&&(r.result+=r.columnSeparator),r.result+=r.putInQuotes(o.data.value||""),o.mergeAcross&&r.appendEmptyCells(o.mergeAcross)})}))},t.prototype.onNewHeaderGroupingRow=function(){return this.beginNewLine(),{onColumn:this.onNewHeaderGroupingRowColumn.bind(this)}},t.prototype.onNewHeaderGroupingRowColumn=function(e,r,i,o){i!=0&&(this.result+=this.columnSeparator),this.result+=this.putInQuotes(r),this.appendEmptyCells(o)},t.prototype.appendEmptyCells=function(e){for(var r=1;r<=e;r++)this.result+=this.columnSeparator+this.putInQuotes("")},t.prototype.onNewHeaderRow=function(){return this.beginNewLine(),{onColumn:this.onNewHeaderRowColumn.bind(this)}},t.prototype.onNewHeaderRowColumn=function(e,r){r!=0&&(this.result+=this.columnSeparator),this.result+=this.putInQuotes(this.extractHeaderValue(e))},t.prototype.onNewBodyRow=function(){return this.beginNewLine(),{onColumn:this.onNewBodyRowColumn.bind(this)}},t.prototype.onNewBodyRowColumn=function(e,r,i){var o;r!=0&&(this.result+=this.columnSeparator);var a=this.extractRowCellValue(e,r,r,"csv",i);this.result+=this.putInQuotes((o=a.valueFormatted)!==null&&o!==void 0?o:a.value)},t.prototype.putInQuotes=function(e){if(this.suppressQuotes)return e;if(e==null)return'""';var r;typeof e=="string"?r=e:typeof e.toString=="function"?r=e.toString():(console.warn("AG Grid: unknown value type during csv conversion"),r="");var i=r.replace(/"/g,'""');return'"'+i+'"'},t.prototype.parse=function(){return this.result},t.prototype.beginNewLine=function(){this.isFirstLine||(this.result+=aW),this.isFirstLine=!1},t}(AG),yAe=function(){var n=function(t,e){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])},n(t,e)};return function(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");n(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}}(),jc=function(n,t,e,r){var i=arguments.length,o=i<3?t:r===null?r=Object.getOwnPropertyDescriptor(t,e):r,a;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(n,t,e,r);else for(var s=n.length-1;s>=0;s--)(a=n[s])&&(o=(i<3?a(o):i>3?a(t,e,o):a(t,e))||o);return i>3&&o&&Object.defineProperty(t,e,o),o},DG=function(n){yAe(t,n);function t(){return n!==null&&n.apply(this,arguments)||this}return t.prototype.postConstruct=function(){this.setBeans({gridSerializer:this.gridSerializer,gridOptionsService:this.gridOptionsService})},t.prototype.getMergedParams=function(e){var r=this.gridOptionsService.get("defaultCsvExportParams");return Object.assign({},r,e)},t.prototype.export=function(e){if(this.isExportSuppressed()){console.warn("AG Grid: Export cancelled. Export is not allowed as per your configuration.");return}var r=this.getMergedParams(e),i=this.getData(r),o=new Blob(["\uFEFF",i],{type:"text/plain"}),a=typeof r.fileName=="function"?r.fileName(this.gridOptionsService.getGridCommonParams()):r.fileName;OT.download(this.getFileName(a),o)},t.prototype.exportDataAsCsv=function(e){this.export(e)},t.prototype.getDataAsCsv=function(e,r){r===void 0&&(r=!1);var i=r?Object.assign({},e):this.getMergedParams(e);return this.getData(i)},t.prototype.getDefaultFileExtension=function(){return"csv"},t.prototype.createSerializingSession=function(e){var r=this,i=r.columnModel,o=r.valueService,a=r.gridOptionsService,s=r.valueFormatterService,l=r.valueParserService,u=e,c=u.processCellCallback,d=u.processHeaderCallback,p=u.processGroupHeaderCallback,h=u.processRowGroupCallback,f=u.suppressQuotes,v=u.columnSeparator;return new gAe({columnModel:i,valueService:o,gridOptionsService:a,valueFormatterService:s,valueParserService:l,processCellCallback:c||void 0,processHeaderCallback:d||void 0,processGroupHeaderCallback:p||void 0,processRowGroupCallback:h||void 0,suppressQuotes:f||!1,columnSeparator:v||","})},t.prototype.isExportSuppressed=function(){return this.gridOptionsService.get("suppressCsvExport")},jc([E("columnModel")],t.prototype,"columnModel",void 0),jc([E("valueService")],t.prototype,"valueService",void 0),jc([E("gridSerializer")],t.prototype,"gridSerializer",void 0),jc([E("gridOptionsService")],t.prototype,"gridOptionsService",void 0),jc([E("valueFormatterService")],t.prototype,"valueFormatterService",void 0),jc([E("valueParserService")],t.prototype,"valueParserService",void 0),jc([z],t.prototype,"postConstruct",null),t=jc([ie("csvCreator")],t),t}(PG),mAe=function(){var n=function(t,e){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])},n(t,e)};return function(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");n(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}}(),$c=function(n,t,e,r){var i=arguments.length,o=i<3?t:r===null?r=Object.getOwnPropertyDescriptor(t,e):r,a;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(n,t,e,r);else for(var s=n.length-1;s>=0;s--)(a=n[s])&&(o=(i<3?a(o):i>3?a(t,e,o):a(t,e))||o);return i>3&&o&&Object.defineProperty(t,e,o),o},Gd;(function(n){n[n.HEADER_GROUPING=0]="HEADER_GROUPING",n[n.HEADER=1]="HEADER",n[n.BODY=2]="BODY"})(Gd||(Gd={}));var MG=function(n){mAe(t,n);function t(){return n!==null&&n.apply(this,arguments)||this}return t.prototype.serialize=function(e,r){r===void 0&&(r={});var i=r.allColumns,o=r.columnKeys,a=r.skipRowGroups,s=this.getColumnsToExport(i,a,o),l=A.compose(this.prepareSession(s),this.prependContent(r),this.exportColumnGroups(r,s),this.exportHeaders(r,s),this.processPinnedTopRows(r,s),this.processRows(r,s),this.processPinnedBottomRows(r,s),this.appendContent(r));return l(e).parse()},t.prototype.processRow=function(e,r,i,o){var a=r.shouldRowBeSkipped||function(){return!1},s=this.gridOptionsService.get("groupRemoveSingleChildren"),l=this.gridOptionsService.get("groupRemoveLowestSingleChildren"),u=r.rowPositions!=null,c=u||!!r.onlySelected,d=this.gridOptionsService.get("groupHideOpenParents")&&!c,p=this.columnModel.isPivotMode()?o.leafGroup:!o.group,h=!!o.footer;r.skipRowGroups;var f=l&&o.leafGroup,v=o.allChildrenCount===1&&(s||f);if(!(!p&&!h&&(r.skipRowGroups||v||d)||r.onlySelected&&!o.isSelected()||r.skipPinnedTop&&o.rowPinned==="top"||r.skipPinnedBottom&&o.rowPinned==="bottom")){var g=o.level===-1;if(!(g&&!p&&!h)){var y=a(this.gridOptionsService.addGridCommonParams({node:o}));if(!y){var m=e.onNewBodyRow(o);if(i.forEach(function(S,w){m.onColumn(S,w,o)}),r.getCustomContentBelowRow){var C=r.getCustomContentBelowRow(this.gridOptionsService.addGridCommonParams({node:o}));C&&e.addCustomContent(C)}}}}},t.prototype.appendContent=function(e){return function(r){var i=e.appendContent;return i&&r.addCustomContent(i),r}},t.prototype.prependContent=function(e){return function(r){var i=e.prependContent;return i&&r.addCustomContent(i),r}},t.prototype.prepareSession=function(e){return function(r){return r.prepare(e),r}},t.prototype.exportColumnGroups=function(e,r){var i=this;return function(o){if(!e.skipColumnGroupHeaders){var a=new Ak,s=i.displayedGroupCreator.createDisplayedGroups(r,a,null);i.recursivelyAddHeaderGroups(s,o,e.processGroupHeaderCallback)}return o}},t.prototype.exportHeaders=function(e,r){return function(i){if(!e.skipColumnHeaders){var o=i.onNewHeaderRow();r.forEach(function(a,s){o.onColumn(a,s,void 0)})}return i}},t.prototype.processPinnedTopRows=function(e,r){var i=this;return function(o){var a=i.processRow.bind(i,o,e,r);return e.rowPositions?e.rowPositions.filter(function(s){return s.rowPinned==="top"}).sort(function(s,l){return s.rowIndex-l.rowIndex}).map(function(s){return i.pinnedRowModel.getPinnedTopRow(s.rowIndex)}).forEach(a):i.pinnedRowModel.forEachPinnedTopRow(a),o}},t.prototype.processRows=function(e,r){var i=this;return function(o){var a=i.rowModel,s=a.getType(),l=s==="clientSide",u=s==="serverSide",c=!l&&e.onlySelected,d=i.processRow.bind(i,o,e,r),p=e.exportedRows,h=p===void 0?"filteredAndSorted":p;if(e.rowPositions)e.rowPositions.filter(function(v){return v.rowPinned==null}).sort(function(v,g){return v.rowIndex-g.rowIndex}).map(function(v){return a.getRow(v.rowIndex)}).forEach(d);else if(i.columnModel.isPivotMode())l?a.forEachPivotNode(d,!0):u?a.forEachNodeAfterFilterAndSort(d,!0):a.forEachNode(d);else if(e.onlySelectedAllPages||c){var f=i.selectionService.getSelectedNodes();i.replicateSortedOrder(f),f.forEach(d)}else h==="all"?a.forEachNode(d):l||u?a.forEachNodeAfterFilterAndSort(d,!0):a.forEachNode(d);return o}},t.prototype.replicateSortedOrder=function(e){var r=this,i=this.sortController.getSortOptions(),o=function(a,s){var l,u,c,d;return a.rowIndex!=null&&s.rowIndex!=null?a.rowIndex-s.rowIndex:a.level===s.level?((l=a.parent)===null||l===void 0?void 0:l.id)===((u=s.parent)===null||u===void 0?void 0:u.id)?r.rowNodeSorter.compareRowNodes(i,{rowNode:a,currentPos:(c=a.rowIndex)!==null&&c!==void 0?c:-1},{rowNode:s,currentPos:(d=s.rowIndex)!==null&&d!==void 0?d:-1}):o(a.parent,s.parent):a.level>s.level?o(a.parent,s):o(a,s.parent)};e.sort(o)},t.prototype.processPinnedBottomRows=function(e,r){var i=this;return function(o){var a=i.processRow.bind(i,o,e,r);return e.rowPositions?e.rowPositions.filter(function(s){return s.rowPinned==="bottom"}).sort(function(s,l){return s.rowIndex-l.rowIndex}).map(function(s){return i.pinnedRowModel.getPinnedBottomRow(s.rowIndex)}).forEach(a):i.pinnedRowModel.forEachPinnedBottomRow(a),o}},t.prototype.getColumnsToExport=function(e,r,i){e===void 0&&(e=!1),r===void 0&&(r=!1);var o=this.columnModel.isPivotMode();if(i&&i.length)return this.columnModel.getGridColumns(i);var a=this.gridOptionsService.get("treeData"),s=[];return e&&!o?s=this.columnModel.getAllGridColumns():s=this.columnModel.getAllDisplayedColumns(),r&&!a&&(s=s.filter(function(l){return l.getColId()!==ic})),s},t.prototype.recursivelyAddHeaderGroups=function(e,r,i){var o=[];e.forEach(function(a){var s=a;s.getChildren&&s.getChildren().forEach(function(l){return o.push(l)})}),e.length>0&&e[0]instanceof Kr&&this.doAddHeaderHeader(r,e,i),o&&o.length>0&&this.recursivelyAddHeaderGroups(o,r,i)},t.prototype.doAddHeaderHeader=function(e,r,i){var o=this,a=e.onNewHeaderGroupingRow(),s=0;r.forEach(function(l){var u=l,c;i?c=i(o.gridOptionsService.addGridCommonParams({columnGroup:u})):c=o.columnModel.getDisplayNameForColumnGroup(u,"header");var d=u.getLeafColumns().reduce(function(p,h,f,v){var g=A.last(p),y=h.getColumnGroupShow()==="open";return y?(!g||g[1]!=null)&&(g=[f],p.push(g)):g&&g[1]==null&&(g[1]=f-1),f===v.length-1&&g&&g[1]==null&&(g[1]=f),p},[]);a.onColumn(u,c||"",s++,u.getLeafColumns().length-1,d)})},$c([E("displayedGroupCreator")],t.prototype,"displayedGroupCreator",void 0),$c([E("columnModel")],t.prototype,"columnModel",void 0),$c([E("rowModel")],t.prototype,"rowModel",void 0),$c([E("pinnedRowModel")],t.prototype,"pinnedRowModel",void 0),$c([E("selectionService")],t.prototype,"selectionService",void 0),$c([E("rowNodeSorter")],t.prototype,"rowNodeSorter",void 0),$c([E("sortController")],t.prototype,"sortController",void 0),t=$c([ie("gridSerializer")],t),t}(X),CAe="31.1.1",RT={version:CAe,moduleName:pe.CsvExportModule,beans:[DG,MG]},T_=`\r
`,DF=function(){function n(){}return n.createHeader=function(t){t===void 0&&(t={});var e="<?",r="?>",i=["version"];t.version||(t.version="1.0"),t.encoding&&i.push("encoding"),t.standalone&&i.push("standalone");var o=i.map(function(a){return"".concat(a,'="').concat(t[a],'"')}).join(" ");return"".concat(e,"xml ").concat(o," ").concat(r)},n.createXml=function(t,e){var r=this,i="";t.properties&&(t.properties.prefixedAttributes&&t.properties.prefixedAttributes.forEach(function(a){Object.keys(a.map).forEach(function(s){i+=r.returnAttributeIfPopulated(a.prefix+s,a.map[s],e)})}),t.properties.rawMap&&Object.keys(t.properties.rawMap).forEach(function(a){i+=r.returnAttributeIfPopulated(a,t.properties.rawMap[a],e)}));var o="<"+t.name+i;return!t.children&&t.textNode==null?o+"/>"+T_:t.textNode!=null?o+">"+t.textNode+"</"+t.name+">"+T_:(o+=">"+T_,t.children&&t.children.forEach(function(a){o+=r.createXml(a,e)}),o+"</"+t.name+">"+T_)},n.returnAttributeIfPopulated=function(t,e,r){if(!e&&e!==""&&e!==0)return"";var i=e;return typeof e=="boolean"&&r&&(i=r(e))," ".concat(t,'="').concat(i,'"')},n}(),SAe=function(n){var t=n.getHours();return t<<=6,t=t|n.getMinutes(),t<<=5,t=t|n.getSeconds()/2,t},wAe=function(n){var t=n.getFullYear()-1980;return t<<=4,t=t|n.getMonth()+1,t<<=5,t=t|n.getDate(),t};function fi(n,t){for(var e="",r=0;r<t;r++)e+=String.fromCharCode(n&255),n>>>=8;return e}var sW=function(n){if(!n.length)return 0;for(var t=-1,e=0,r=0,i=0,o=0;o<n.length;o++)e=n[o],r=(t^e)&255,i=_Ae[r],t=t>>>8^i;return t^-1},lW=function(n){return n.length?sW(typeof n=="string"?new TextEncoder().encode(n):n):0},_Ae=new Uint32Array([0,1996959894,3993919788,2567524794,124634137,1886057615,3915621685,2657392035,249268274,2044508324,3772115230,2547177864,162941995,2125561021,3887607047,2428444049,498536548,1789927666,4089016648,2227061214,450548861,1843258603,4107580753,2211677639,325883990,1684777152,4251122042,2321926636,335633487,1661365465,4195302755,2366115317,997073096,1281953886,3579855332,2724688242,1006888145,1258607687,3524101629,2768942443,901097722,1119000684,3686517206,2898065728,853044451,1172266101,3705015759,2882616665,651767980,1373503546,3369554304,3218104598,565507253,1454621731,3485111705,3099436303,671266974,1594198024,3322730930,2970347812,795835527,1483230225,3244367275,3060149565,1994146192,31158534,2563907772,4023717930,1907459465,112637215,2680153253,3904427059,2013776290,251722036,2517215374,3775830040,2137656763,141376813,2439277719,3865271297,1802195444,476864866,2238001368,4066508878,1812370925,453092731,2181625025,4111451223,1706088902,314042704,2344532202,4240017532,1658658271,366619977,2362670323,4224994405,1303535960,984961486,2747007092,3569037538,1256170817,1037604311,2765210733,3554079995,1131014506,879679996,2909243462,3663771856,1141124467,855842277,2852801631,3708648649,1342533948,654459306,3188396048,3373015174,1466479909,544179635,3110523913,3462522015,1591671054,702138776,2966460450,3352799412,1504918807,783551873,3082640443,3233442989,3988292384,2596254646,62317068,1957810842,3939845945,2647816111,81470997,1943803523,3814918930,2489596804,225274430,2053790376,3826175755,2466906013,167816743,2097651377,4027552580,2265490386,503444072,1762050814,4150417245,2154129355,426522225,1852507879,4275313526,2312317920,282753626,1742555852,4189708143,2394877945,397917763,1622183637,3604390888,2714866558,953729732,1340076626,3518719985,2797360999,1068828381,1219638859,3624741850,2936675148,906185462,1090812512,3747672003,2825379669,829329135,1181335161,3412177804,3160834842,628085408,1382605366,3423369109,3138078467,570562233,1426400815,3317316542,2998733608,733239954,1555261956,3268935591,3050360625,752459403,1541320221,2607071920,3965973030,1969922972,40735498,2617837225,3943577151,1913087877,83908371,2512341634,3803740692,2075208622,213261112,2463272603,3855990285,2094854071,198958881,2262029012,4057260610,1759359992,534414190,2176718541,4139329115,1873836001,414664567,2282248934,4279200368,1711684554,285281116,2405801727,4167216745,1634467795,376229701,2685067896,3608007406,1308918612,956543938,2808555105,3495958263,1231636301,1047427035,2932959818,3654703836,1088359270,936918e3,2847714899,3736837829,1202900863,817233897,3183342108,3401237130,1404277552,615818150,3134207493,3453421203,1423857449,601450431,3009837614,3294710456,1567103746,711928724,3020668471,3272380065,1510334235,755167117]),dq=function(n,t,e,r){function i(o){return o instanceof e?o:new e(function(a){a(o)})}return new(e||(e=Promise))(function(o,a){function s(c){try{u(r.next(c))}catch(d){a(d)}}function l(c){try{u(r.throw(c))}catch(d){a(d)}}function u(c){c.done?o(c.value):i(c.value).then(s,l)}u((r=r.apply(n,t||[])).next())})},pq=function(n,t){var e={label:0,sent:function(){if(o[0]&1)throw o[1];return o[1]},trys:[],ops:[]},r,i,o,a;return a={next:s(0),throw:s(1),return:s(2)},typeof Symbol=="function"&&(a[Symbol.iterator]=function(){return this}),a;function s(u){return function(c){return l([u,c])}}function l(u){if(r)throw new TypeError("Generator is already executing.");for(;e;)try{if(r=1,i&&(o=u[0]&2?i.return:u[0]?i.throw||((o=i.return)&&o.call(i),0):i.next)&&!(o=o.call(i,u[1])).done)return o;switch(i=0,o&&(u=[u[0]&2,o.value]),u[0]){case 0:case 1:o=u;break;case 4:return e.label++,{value:u[1],done:!1};case 5:e.label++,i=u[1],u=[0];continue;case 7:u=e.ops.pop(),e.trys.pop();continue;default:if(o=e.trys,!(o=o.length>0&&o[o.length-1])&&(u[0]===6||u[0]===2)){e=0;continue}if(u[0]===3&&(!o||u[1]>o[0]&&u[1]<o[3])){e.label=u[1];break}if(u[0]===6&&e.label<o[1]){e.label=o[1],o=u;break}if(o&&e.label<o[2]){e.label=o[2],e.ops.push(u);break}o[2]&&e.ops.pop(),e.trys.pop();continue}u=t.call(n,e)}catch(c){u=[6,c],i=0}finally{r=o=0}if(u[0]&5)throw u[1];return{value:u[0]?u[1]:void 0,done:!0}}},xAe=function(n){return dq(void 0,void 0,void 0,function(){var t,e,r,i,o;return pq(this,function(a){switch(a.label){case 0:return t=0,e=[],r=new WritableStream({write:function(s){e.push(s),t+=s.length}}),i=new ReadableStream({start:function(s){var l=new FileReader;l.onload=function(u){var c;!((c=u.target)===null||c===void 0)&&c.result&&s.enqueue(u.target.result),s.close()},l.readAsArrayBuffer(n)}}),o=new window.CompressionStream("deflate-raw"),[4,i.pipeThrough(o).pipeTo(r)];case 1:return a.sent(),[2,{size:t,content:new Blob(e)}]}})})},EAe=function(n){return dq(void 0,void 0,void 0,function(){var t,e,r,i,o,a;return pq(this,function(s){switch(s.label){case 0:return t=new Blob([n]),[4,xAe(t)];case 1:return e=s.sent(),r=e.size,i=e.content,a=Uint8Array.bind,[4,i.arrayBuffer()];case 2:return o=new(a.apply(Uint8Array,[void 0,s.sent()])),[2,{size:r,content:o}]}})})},Fg=function(){return Fg=Object.assign||function(n){for(var t,e=1,r=arguments.length;e<r;e++){t=arguments[e];for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(n[i]=t[i])}return n},Fg.apply(this,arguments)},bAe=function(n,t,e,r){function i(o){return o instanceof e?o:new e(function(a){a(o)})}return new(e||(e=Promise))(function(o,a){function s(c){try{u(r.next(c))}catch(d){a(d)}}function l(c){try{u(r.throw(c))}catch(d){a(d)}}function u(c){c.done?o(c.value):i(c.value).then(s,l)}u((r=r.apply(n,t||[])).next())})},OAe=function(n,t){var e={label:0,sent:function(){if(o[0]&1)throw o[1];return o[1]},trys:[],ops:[]},r,i,o,a;return a={next:s(0),throw:s(1),return:s(2)},typeof Symbol=="function"&&(a[Symbol.iterator]=function(){return this}),a;function s(u){return function(c){return l([u,c])}}function l(u){if(r)throw new TypeError("Generator is already executing.");for(;e;)try{if(r=1,i&&(o=u[0]&2?i.return:u[0]?i.throw||((o=i.return)&&o.call(i),0):i.next)&&!(o=o.call(i,u[1])).done)return o;switch(i=0,o&&(u=[u[0]&2,o.value]),u[0]){case 0:case 1:o=u;break;case 4:return e.label++,{value:u[1],done:!1};case 5:e.label++,i=u[1],u=[0];continue;case 7:u=e.ops.pop(),e.trys.pop();continue;default:if(o=e.trys,!(o=o.length>0&&o[o.length-1])&&(u[0]===6||u[0]===2)){e=0;continue}if(u[0]===3&&(!o||u[1]>o[0]&&u[1]<o[3])){e.label=u[1];break}if(u[0]===6&&e.label<o[1]){e.label=o[1],o=u;break}if(o&&e.label<o[2]){e.label=o[2],e.ops.push(u);break}o[2]&&e.ops.pop(),e.trys.pop();continue}u=t.call(n,e)}catch(c){u=[6,c],i=0}finally{r=o=0}if(u[0]&5)throw u[1];return{value:u[0]?u[1]:void 0,done:!0}}},RAe=A.utf8_encode,TAe=function(n,t){return bAe(void 0,void 0,void 0,function(){var e,r,i,o,a,s,l,u,c,d;return OAe(this,function(p){switch(p.label){case 0:return e=n.content,r=e?fq(e):{size:0,content:Uint8Array.from([])},i=r.size,o=r.content,a=void 0,s=void 0,l=!1,u=n.type==="file"&&o&&i>0,u?[4,EAe(o)]:[3,2];case 1:c=p.sent(),a=c.content,s=c.size,l=!0,p.label=2;case 2:return d=hq(n,l,t,i,o,s),[2,Fg(Fg({},d),{content:a||o,isCompressed:l})]}})})},PAe=function(n,t){var e=n.content,r=(e?fq(e):{content:Uint8Array.from([])}).content,i=hq(n,!1,t,r.length,r,void 0);return Fg(Fg({},i),{content:r,isCompressed:!1})},hq=function(n,t,e,r,i,o){var a=n.content,s=n.path,l=n.created,u=SAe(l),c=wAe(l),d=lW(i),p=o!==void 0?o:r,h=RAe(s),f=h!==s,v="";if(f){var g=fi(1,1)+fi(lW(h),4)+h;v="up"+fi(g.length,2)+g}var y="\0"+(f?"\0\b":"\0\0")+fi(t?8:0,2)+fi(u,2)+fi(c,2)+fi(p?d:0,4)+fi(o??r,4)+fi(r,4)+fi(h.length,2)+fi(v.length,2),m="PK"+y+h+v,C="PK\0"+y+"\0\0\0\0\0\0"+(a?"\0\0\0\0":"\0\0\0")+fi(e,4)+h+v;return{localFileHeader:Uint8Array.from(m,function(S){return S.charCodeAt(0)}),centralDirectoryHeader:Uint8Array.from(C,function(S){return S.charCodeAt(0)})}},AAe=function(n,t,e){var r="PK\0\0\0\0"+fi(n,2)+fi(n,2)+fi(t,4)+fi(e,4)+"\0\0";return Uint8Array.from(r,function(i){return i.charCodeAt(0)})},DAe=function(n){for(var t=new Uint8Array(n.length),e=0;e<n.length;e++)t[e]=n.charCodeAt(e);return t},fq=function(n){var t;if(typeof n=="string"){var e=atob(n.split(";base64,")[1]);t=DAe(e)}else t=n;return{size:t.length,content:t}},uW=function(n,t,e,r){function i(o){return o instanceof e?o:new e(function(a){a(o)})}return new(e||(e=Promise))(function(o,a){function s(c){try{u(r.next(c))}catch(d){a(d)}}function l(c){try{u(r.throw(c))}catch(d){a(d)}}function u(c){c.done?o(c.value):i(c.value).then(s,l)}u((r=r.apply(n,t||[])).next())})},cW=function(n,t){var e={label:0,sent:function(){if(o[0]&1)throw o[1];return o[1]},trys:[],ops:[]},r,i,o,a;return a={next:s(0),throw:s(1),return:s(2)},typeof Symbol=="function"&&(a[Symbol.iterator]=function(){return this}),a;function s(u){return function(c){return l([u,c])}}function l(u){if(r)throw new TypeError("Generator is already executing.");for(;e;)try{if(r=1,i&&(o=u[0]&2?i.return:u[0]?i.throw||((o=i.return)&&o.call(i),0):i.next)&&!(o=o.call(i,u[1])).done)return o;switch(i=0,o&&(u=[u[0]&2,o.value]),u[0]){case 0:case 1:o=u;break;case 4:return e.label++,{value:u[1],done:!1};case 5:e.label++,i=u[1],u=[0];continue;case 7:u=e.ops.pop(),e.trys.pop();continue;default:if(o=e.trys,!(o=o.length>0&&o[o.length-1])&&(u[0]===6||u[0]===2)){e=0;continue}if(u[0]===3&&(!o||u[1]>o[0]&&u[1]<o[3])){e.label=u[1];break}if(u[0]===6&&e.label<o[1]){e.label=o[1],o=u;break}if(o&&e.label<o[2]){e.label=o[2],e.ops.push(u);break}o[2]&&e.ops.pop(),e.trys.pop();continue}u=t.call(n,e)}catch(c){u=[6,c],i=0}finally{r=o=0}if(u[0]&5)throw u[1];return{value:u[0]?u[1]:void 0,done:!0}}},mD=function(n){var t=typeof Symbol=="function"&&Symbol.iterator,e=t&&n[t],r=0;if(e)return e.call(n);if(n&&typeof n.length=="number")return{next:function(){return n&&r>=n.length&&(n=void 0),{value:n&&n[r++],done:!n}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")},P_=function(n,t){var e=typeof Symbol=="function"&&n[Symbol.iterator];if(!e)return n;var r=e.call(n),i,o=[],a;try{for(;(t===void 0||t-- >0)&&!(i=r.next()).done;)o.push(i.value)}catch(s){a={error:s}}finally{try{i&&!i.done&&(e=r.return)&&e.call(r)}finally{if(a)throw a.error}}return o},A_=function(n,t,e){if(e||arguments.length===2)for(var r=0,i=t.length,o;r<i;r++)(o||!(r in t))&&(o||(o=Array.prototype.slice.call(t,0,r)),o[r]=t[r]);return n.concat(o||Array.prototype.slice.call(t))},Fn=function(){function n(){}return n.addFolders=function(t){t.forEach(this.addFolder.bind(this))},n.addFolder=function(t){this.folders.push({path:t,created:new Date,isBase64:!1,type:"folder"})},n.addFile=function(t,e,r){r===void 0&&(r=!1),this.files.push({path:t,created:new Date,content:r?e:new TextEncoder().encode(e),isBase64:r,type:"file"})},n.getZipFile=function(t){return t===void 0&&(t="application/zip"),uW(this,void 0,void 0,function(){var e;return cW(this,function(r){switch(r.label){case 0:return[4,this.buildCompressedFileStream()];case 1:return e=r.sent(),this.clearStream(),[2,new Blob([e],{type:t})]}})})},n.getUncompressedZipFile=function(t){t===void 0&&(t="application/zip");var e=this.buildFileStream();return this.clearStream(),new Blob([e],{type:t})},n.clearStream=function(){this.folders=[],this.files=[]},n.packageFiles=function(t){var e,r,i=new Uint8Array(0),o=new Uint8Array(0),a=0,s=0;try{for(var l=mD(t),u=l.next();!u.done;u=l.next()){var c=u.value,d=c.localFileHeader,p=c.centralDirectoryHeader,h=c.content,f=new Uint8Array(i.length+d.length);f.set(i),f.set(d,i.length),i=f;var v=new Uint8Array(i.length+h.length);v.set(i),v.set(h,i.length),i=v;var g=new Uint8Array(o.length+p.length);g.set(o),g.set(p,o.length),o=g,a+=d.length+h.length,s+=p.length}}catch(C){e={error:C}}finally{try{u&&!u.done&&(r=l.return)&&r.call(l)}finally{if(e)throw e.error}}var y=AAe(t.length,s,a),m=new Uint8Array(i.length+o.length+y.length);return m.set(i),m.set(o,i.length),m.set(y,i.length+o.length),m},n.buildCompressedFileStream=function(){return uW(this,void 0,void 0,function(){var t,e,r,i,o,a,s,l,u,c,d,p;return cW(this,function(h){switch(h.label){case 0:t=A_(A_([],P_(this.folders),!1),P_(this.files),!1),e=[],r=0,h.label=1;case 1:h.trys.push([1,6,7,8]),i=mD(t),o=i.next(),h.label=2;case 2:return o.done?[3,5]:(a=o.value,[4,TAe(a,r)]);case 3:s=h.sent(),l=s.localFileHeader,u=s.content,e.push(s),r+=l.length+u.length,h.label=4;case 4:return o=i.next(),[3,2];case 5:return[3,8];case 6:return c=h.sent(),d={error:c},[3,8];case 7:try{o&&!o.done&&(p=i.return)&&p.call(i)}finally{if(d)throw d.error}return[7];case 8:return[2,this.packageFiles(e)]}})})},n.buildFileStream=function(){var t,e,r=A_(A_([],P_(this.folders),!1),P_(this.files),!1),i=[],o=0;try{for(var a=mD(r),s=a.next();!s.done;s=a.next()){var l=s.value,u=PAe(l,o),c=u.localFileHeader,d=u.content;i.push(u),o+=c.length+d.length}}catch(p){t={error:p}}finally{try{s&&!s.done&&(e=a.return)&&e.call(a)}finally{if(t)throw t.error}}return this.packageFiles(i)},n.folders=[],n.files=[],n}(),vq=[uq,cq,RT];He.registerModules(vq);const MAe=Object.freeze(Object.defineProperty({__proto__:null,AbstractHeaderCellCtrl:jw,AgAbstractField:sG,AgAbstractLabel:yT,AgAutocomplete:Pv,AgCheckbox:Hu,AgDialog:rf,AgGroupComponent:Ha,AgInputDateField:EG,AgInputNumberField:Bw,AgInputRange:IX,AgInputTextArea:FX,AgInputTextField:su,AgMenuItemComponent:ja,AgMenuItemRenderer:pG,AgMenuList:Ww,AgMenuPanel:NX,AgPanel:bG,AgPickerField:mT,AgPromise:tt,get AgPromiseStatus(){return xh},AgRadioButton:CT,AgRichSelect:$w,AgSelect:ru,AgSlider:qo,AgStackComponentsRegistry:G7,AgToggleButton:ET,AlignedGridsService:BX,AllCommunityModules:vq,AnimateShowChangeCellRenderer:kY,AnimateSlideCellRenderer:GY,AnimationFrameService:OX,AutoScrollService:Hw,AutoWidthCalculator:TX,Autowired:E,get BarColumnLabelPlacement(){return AF},BaseComponentWrapper:$Pe,BaseCreator:PG,BaseGridSerializingSession:AG,Bean:ie,BeanStub:X,Beans:yG,BodyDropPivotTarget:dX,BodyDropTarget:hX,CHART_TOOLBAR_ALLOW_LIST:PF,CHART_TOOL_PANEL_ALLOW_LIST:eE,CHART_TOOL_PANEL_MENU_OPTIONS:MC,CellComp:uX,CellCtrl:ju,CellNavigationService:VX,CellPositionUtils:JX,get CellRangeType(){return uo},ChangedPath:Yg,CheckboxCellEditor:UY,CheckboxCellRenderer:WY,CheckboxSelectionComponent:dG,ClientSideRowModelModule:uq,get ClientSideRowModelSteps(){return dt},ColDefUtil:XY,Column:rt,ColumnApi:Uw,ColumnFactory:M7,ColumnGroup:Kr,ColumnKeyCreator:y7,ColumnModel:I7,ColumnUtils:N7,Component:ae,ComponentUtil:Dk,Context:w7,CssClassApplier:cp,CssClassManager:yY,CsvCreator:DG,CsvExportModule:RT,CtrlsService:rq,CustomTooltipFeature:aG,DEFAULT_CHART_GROUPS:lq,DataTypeService:oq,DateCellEditor:jY,DateFilter:uG,DateStringCellEditor:$Y,DisplayedGroupCreator:k7,Downloader:OT,DragAndDropService:St,DragService:qY,get DragSourceType(){return Or},Environment:qX,EventService:Us,Events:T,get ExcelFactoryMode(){return ef},ExpansionService:_G,ExpressionService:$X,FilterManager:QY,FloatingFilterMapper:KY,FocusService:YX,GROUP_AUTO_COLUMN_ID:ic,Grid:HPe,GridApi:fG,GridBodyComp:iX,GridBodyCtrl:tX,GridComp:OG,GridCoreCreator:TG,GridCtrl:zX,GridHeaderComp:wX,GridHeaderCtrl:SX,GridOptionsService:RG,GridSerializer:MG,GroupCellRenderer:EF,GroupCellRendererCtrl:BY,GroupInstanceIdCreator:Ak,HeaderCellCtrl:gX,HeaderFilterCellComp:JY,HeaderFilterCellCtrl:vX,HeaderGroupCellCtrl:yX,get HeaderNavigationDirection(){return xs},HeaderNavigationService:CX,HeaderPositionUtils:eq,HeaderRowComp:fX,HeaderRowContainerComp:Jx,HeaderRowContainerCtrl:mX,HeaderRowCtrl:Qx,get HeaderRowType(){return Nn},get HorizontalDirection(){return vo},HorizontalResizeService:_X,InfiniteRowModelModule:cq,KeyCode:U,LargeTextCellEditor:IY,get LayoutCssClasses(){return Xr},LocaleService:iq,Logger:bT,LoggerFactory:UX,ManagedFocusFeature:au,MenuService:RX,get ModuleNames(){return pe},ModuleRegistry:He,MouseEventService:aX,MoveColumnFeature:pX,NavigationService:sX,NumberCellEditor:HY,NumberFilter:cG,NumberSequence:ti,Optional:et,PaginationProxy:MX,PinnedRowModel:DX,PopupComponent:mc,PopupEditorWrapper:lX,PopupService:kX,PositionableFeature:Vw,PostConstruct:z,PreConstruct:Zh,PreDestroy:ar,PropertyKeys:Ss,ProvidedColumnGroup:Rt,ProvidedFilter:Yd,Qualifier:oa,QuerySelector:j_e,RefSelector:j,ResizeObserverService:bX,get RowAnimationCssClasses(){return tf},RowContainerComp:cX,RowContainerCtrl:CG,get RowContainerName(){return re},get RowContainerType(){return on},RowCtrl:kd,get RowHighlightPosition(){return Xl},RowNode:Xe,RowNodeBlock:Rl,RowNodeBlockLoader:xG,RowNodeSorter:tq,RowPositionUtils:QX,RowRenderer:PX,get RowType(){return Gd},ScalarFilter:zr,ScrollVisibleService:oX,SelectCellEditor:NY,SelectableService:ZX,get SelectionHandleType(){return ac},get ServerSideTransactionResultStatus(){return Qn},SetLeftFeature:xT,SimpleFilter:Cr,SortController:KX,SortIndicatorComp:ST,StandardMenuFactory:xX,StylingService:LX,get TabGuardClassNames(){return Gh},TabGuardComp:Cc,TabGuardCtrl:EX,TabbedLayout:wG,TemplateService:WX,TextCellEditor:xF,TextFilter:Lg,TextFloatingFilter:FY,Timer:G_e,TooltipFeature:ka,TouchListener:qr,UserComponentFactory:YY,UserComponentRegistry:zY,ValueCache:XX,ValueFormatterService:AX,ValueParserService:aq,ValueService:jX,VanillaFrameworkOverrides:GX,get VerticalDirection(){return Jh},VirtualList:yf,VirtualListDragFeature:hG,XmlFactory:DF,ZipContainer:Fn,_:A,__FORCE_MODULE_DETECTION:WPe,createGrid:sq,getRowContainerTypeForName:nX},Symbol.toStringTag,{value:"Module"})),Pn=ou(MAe);var TT={},ki={},LG={},mf={};Object.defineProperty(mf,"__esModule",{value:!0});mf.CustomContext=void 0;var LAe=F;mf.CustomContext=LAe.createContext({setMethods:function(){}});var MF=Y&&Y.__assign||function(){return MF=Object.assign||function(n){for(var t,e=1,r=arguments.length;e<r;e++){t=arguments[e];for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(n[i]=t[i])}return n},MF.apply(this,arguments)},FAe=Y&&Y.__createBinding||(Object.create?function(n,t,e,r){r===void 0&&(r=e),Object.defineProperty(n,r,{enumerable:!0,get:function(){return t[e]}})}:function(n,t,e,r){r===void 0&&(r=e),n[r]=t[e]}),IAe=Y&&Y.__setModuleDefault||(Object.create?function(n,t){Object.defineProperty(n,"default",{enumerable:!0,value:t})}:function(n,t){n.default=t}),NAe=Y&&Y.__importStar||function(n){if(n&&n.__esModule)return n;var t={};if(n!=null)for(var e in n)e!=="default"&&Object.prototype.hasOwnProperty.call(n,e)&&FAe(t,n,e);return IAe(t,n),t};Object.defineProperty(LG,"__esModule",{value:!0});var Hm=NAe(F),kAe=mf,GAe=function(n){var t=n.initialProps,e=n.addUpdateCallback,r=n.CustomComponentClass,i=n.setMethods,o=Hm.useState(t),a=o[0],s=o[1];return Hm.useEffect(function(){e(function(l){return s(l)})},[]),Hm.default.createElement(kAe.CustomContext.Provider,{value:{setMethods:i}},Hm.default.createElement(r,MF({},a)))};LG.default=Hm.memo(GAe);var zw={},FG={};Object.defineProperty(FG,"__esModule",{value:!0});var VAe=0;function BAe(){return"agPortalKey_"+ ++VAe}FG.default=BAe;var Cf={},qg={};/**
 * @license React
 * react-dom-server-legacy.browser.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var gq=F;function at(n){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+n,e=1;e<arguments.length;e++)t+="&args[]="+encodeURIComponent(arguments[e]);return"Minified React error #"+n+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var ro=Object.prototype.hasOwnProperty,HAe=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,dW={},pW={};function yq(n){return ro.call(pW,n)?!0:ro.call(dW,n)?!1:HAe.test(n)?pW[n]=!0:(dW[n]=!0,!1)}function Bi(n,t,e,r,i,o,a){this.acceptsBooleans=t===2||t===3||t===4,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=e,this.propertyName=n,this.type=t,this.sanitizeURL=o,this.removeEmptyString=a}var oi={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(n){oi[n]=new Bi(n,0,!1,n,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(n){var t=n[0];oi[t]=new Bi(t,1,!1,n[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(n){oi[n]=new Bi(n,2,!1,n.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(n){oi[n]=new Bi(n,2,!1,n,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(n){oi[n]=new Bi(n,3,!1,n.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(n){oi[n]=new Bi(n,3,!0,n,null,!1,!1)});["capture","download"].forEach(function(n){oi[n]=new Bi(n,4,!1,n,null,!1,!1)});["cols","rows","size","span"].forEach(function(n){oi[n]=new Bi(n,6,!1,n,null,!1,!1)});["rowSpan","start"].forEach(function(n){oi[n]=new Bi(n,5,!1,n.toLowerCase(),null,!1,!1)});var IG=/[\-:]([a-z])/g;function NG(n){return n[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(n){var t=n.replace(IG,NG);oi[t]=new Bi(t,1,!1,n,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(n){var t=n.replace(IG,NG);oi[t]=new Bi(t,1,!1,n,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(n){var t=n.replace(IG,NG);oi[t]=new Bi(t,1,!1,n,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(n){oi[n]=new Bi(n,1,!1,n.toLowerCase(),null,!1,!1)});oi.xlinkHref=new Bi("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(n){oi[n]=new Bi(n,1,!1,n.toLowerCase(),null,!0,!0)});var tE={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},jAe=["Webkit","ms","Moz","O"];Object.keys(tE).forEach(function(n){jAe.forEach(function(t){t=t+n.charAt(0).toUpperCase()+n.substring(1),tE[t]=tE[n]})});var $Ae=/["'&<>]/;function Di(n){if(typeof n=="boolean"||typeof n=="number")return""+n;n=""+n;var t=$Ae.exec(n);if(t){var e="",r,i=0;for(r=t.index;r<n.length;r++){switch(n.charCodeAt(r)){case 34:t="&quot;";break;case 38:t="&amp;";break;case 39:t="&#x27;";break;case 60:t="&lt;";break;case 62:t="&gt;";break;default:continue}i!==r&&(e+=n.substring(i,r)),i=r+1,e+=t}n=i!==r?e+n.substring(i,r):e}return n}var WAe=/([A-Z])/g,UAe=/^ms-/,LF=Array.isArray;function Cu(n,t){return{insertionMode:n,selectedValue:t}}function zAe(n,t,e){switch(t){case"select":return Cu(1,e.value!=null?e.value:e.defaultValue);case"svg":return Cu(2,null);case"math":return Cu(3,null);case"foreignObject":return Cu(1,null);case"table":return Cu(4,null);case"thead":case"tbody":case"tfoot":return Cu(5,null);case"colgroup":return Cu(7,null);case"tr":return Cu(6,null)}return 4<=n.insertionMode||n.insertionMode===0?Cu(1,null):n}var hW=new Map;function mq(n,t,e){if(typeof e!="object")throw Error(at(62));t=!0;for(var r in e)if(ro.call(e,r)){var i=e[r];if(i!=null&&typeof i!="boolean"&&i!==""){if(r.indexOf("--")===0){var o=Di(r);i=Di((""+i).trim())}else{o=r;var a=hW.get(o);a!==void 0||(a=Di(o.replace(WAe,"-$1").toLowerCase().replace(UAe,"-ms-")),hW.set(o,a)),o=a,i=typeof i=="number"?i===0||ro.call(tE,r)?""+i:i+"px":Di((""+i).trim())}t?(t=!1,n.push(' style="',o,":",i)):n.push(";",o,":",i)}}t||n.push('"')}function Vo(n,t,e,r){switch(e){case"style":mq(n,t,r);return;case"defaultValue":case"defaultChecked":case"innerHTML":case"suppressContentEditableWarning":case"suppressHydrationWarning":return}if(!(2<e.length)||e[0]!=="o"&&e[0]!=="O"||e[1]!=="n"&&e[1]!=="N"){if(t=oi.hasOwnProperty(e)?oi[e]:null,t!==null){switch(typeof r){case"function":case"symbol":return;case"boolean":if(!t.acceptsBooleans)return}switch(e=t.attributeName,t.type){case 3:r&&n.push(" ",e,'=""');break;case 4:r===!0?n.push(" ",e,'=""'):r!==!1&&n.push(" ",e,'="',Di(r),'"');break;case 5:isNaN(r)||n.push(" ",e,'="',Di(r),'"');break;case 6:!isNaN(r)&&1<=r&&n.push(" ",e,'="',Di(r),'"');break;default:t.sanitizeURL&&(r=""+r),n.push(" ",e,'="',Di(r),'"')}}else if(yq(e)){switch(typeof r){case"function":case"symbol":return;case"boolean":if(t=e.toLowerCase().slice(0,5),t!=="data-"&&t!=="aria-")return}n.push(" ",e,'="',Di(r),'"')}}}function rE(n,t,e){if(t!=null){if(e!=null)throw Error(at(60));if(typeof t!="object"||!("__html"in t))throw Error(at(61));t=t.__html,t!=null&&n.push(""+t)}}function KAe(n){var t="";return gq.Children.forEach(n,function(e){e!=null&&(t+=e)}),t}function CD(n,t,e,r){n.push(fl(e));var i=e=null,o;for(o in t)if(ro.call(t,o)){var a=t[o];if(a!=null)switch(o){case"children":e=a;break;case"dangerouslySetInnerHTML":i=a;break;default:Vo(n,r,o,a)}}return n.push(">"),rE(n,i,e),typeof e=="string"?(n.push(Di(e)),null):e}var YAe=/^[a-zA-Z][a-zA-Z:_\.\-\d]*$/,fW=new Map;function fl(n){var t=fW.get(n);if(t===void 0){if(!YAe.test(n))throw Error(at(65,n));t="<"+n,fW.set(n,t)}return t}function XAe(n,t,e,r,i){switch(t){case"select":n.push(fl("select"));var o=null,a=null;for(c in e)if(ro.call(e,c)){var s=e[c];if(s!=null)switch(c){case"children":o=s;break;case"dangerouslySetInnerHTML":a=s;break;case"defaultValue":case"value":break;default:Vo(n,r,c,s)}}return n.push(">"),rE(n,a,o),o;case"option":a=i.selectedValue,n.push(fl("option"));var l=s=null,u=null,c=null;for(o in e)if(ro.call(e,o)){var d=e[o];if(d!=null)switch(o){case"children":s=d;break;case"selected":u=d;break;case"dangerouslySetInnerHTML":c=d;break;case"value":l=d;default:Vo(n,r,o,d)}}if(a!=null)if(e=l!==null?""+l:KAe(s),LF(a)){for(r=0;r<a.length;r++)if(""+a[r]===e){n.push(' selected=""');break}}else""+a===e&&n.push(' selected=""');else u&&n.push(' selected=""');return n.push(">"),rE(n,c,s),s;case"textarea":n.push(fl("textarea")),c=a=o=null;for(s in e)if(ro.call(e,s)&&(l=e[s],l!=null))switch(s){case"children":c=l;break;case"value":o=l;break;case"defaultValue":a=l;break;case"dangerouslySetInnerHTML":throw Error(at(91));default:Vo(n,r,s,l)}if(o===null&&a!==null&&(o=a),n.push(">"),c!=null){if(o!=null)throw Error(at(92));if(LF(c)&&1<c.length)throw Error(at(93));o=""+c}return typeof o=="string"&&o[0]===`
`&&n.push(`
`),o!==null&&n.push(Di(""+o)),null;case"input":n.push(fl("input")),l=c=s=o=null;for(a in e)if(ro.call(e,a)&&(u=e[a],u!=null))switch(a){case"children":case"dangerouslySetInnerHTML":throw Error(at(399,"input"));case"defaultChecked":l=u;break;case"defaultValue":s=u;break;case"checked":c=u;break;case"value":o=u;break;default:Vo(n,r,a,u)}return c!==null?Vo(n,r,"checked",c):l!==null&&Vo(n,r,"checked",l),o!==null?Vo(n,r,"value",o):s!==null&&Vo(n,r,"value",s),n.push("/>"),null;case"menuitem":n.push(fl("menuitem"));for(var p in e)if(ro.call(e,p)&&(o=e[p],o!=null))switch(p){case"children":case"dangerouslySetInnerHTML":throw Error(at(400));default:Vo(n,r,p,o)}return n.push(">"),null;case"title":n.push(fl("title")),o=null;for(d in e)if(ro.call(e,d)&&(a=e[d],a!=null))switch(d){case"children":o=a;break;case"dangerouslySetInnerHTML":throw Error(at(434));default:Vo(n,r,d,a)}return n.push(">"),o;case"listing":case"pre":n.push(fl(t)),a=o=null;for(l in e)if(ro.call(e,l)&&(s=e[l],s!=null))switch(l){case"children":o=s;break;case"dangerouslySetInnerHTML":a=s;break;default:Vo(n,r,l,s)}if(n.push(">"),a!=null){if(o!=null)throw Error(at(60));if(typeof a!="object"||!("__html"in a))throw Error(at(61));e=a.__html,e!=null&&(typeof e=="string"&&0<e.length&&e[0]===`
`?n.push(`
`,e):n.push(""+e))}return typeof o=="string"&&o[0]===`
`&&n.push(`
`),o;case"area":case"base":case"br":case"col":case"embed":case"hr":case"img":case"keygen":case"link":case"meta":case"param":case"source":case"track":case"wbr":n.push(fl(t));for(var h in e)if(ro.call(e,h)&&(o=e[h],o!=null))switch(h){case"children":case"dangerouslySetInnerHTML":throw Error(at(399,t));default:Vo(n,r,h,o)}return n.push("/>"),null;case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return CD(n,e,t,r);case"html":return i.insertionMode===0&&n.push("<!DOCTYPE html>"),CD(n,e,t,r);default:if(t.indexOf("-")===-1&&typeof e.is!="string")return CD(n,e,t,r);n.push(fl(t)),a=o=null;for(u in e)if(ro.call(e,u)&&(s=e[u],s!=null))switch(u){case"children":o=s;break;case"dangerouslySetInnerHTML":a=s;break;case"style":mq(n,r,s);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":break;default:yq(u)&&typeof s!="function"&&typeof s!="symbol"&&n.push(" ",u,'="',Di(s),'"')}return n.push(">"),rE(n,a,o),o}}function vW(n,t,e){if(n.push('<!--$?--><template id="'),e===null)throw Error(at(395));return n.push(e),n.push('"></template>')}function qAe(n,t,e,r){switch(e.insertionMode){case 0:case 1:return n.push('<div hidden id="'),n.push(t.segmentPrefix),t=r.toString(16),n.push(t),n.push('">');case 2:return n.push('<svg aria-hidden="true" style="display:none" id="'),n.push(t.segmentPrefix),t=r.toString(16),n.push(t),n.push('">');case 3:return n.push('<math aria-hidden="true" style="display:none" id="'),n.push(t.segmentPrefix),t=r.toString(16),n.push(t),n.push('">');case 4:return n.push('<table hidden id="'),n.push(t.segmentPrefix),t=r.toString(16),n.push(t),n.push('">');case 5:return n.push('<table hidden><tbody id="'),n.push(t.segmentPrefix),t=r.toString(16),n.push(t),n.push('">');case 6:return n.push('<table hidden><tr id="'),n.push(t.segmentPrefix),t=r.toString(16),n.push(t),n.push('">');case 7:return n.push('<table hidden><colgroup id="'),n.push(t.segmentPrefix),t=r.toString(16),n.push(t),n.push('">');default:throw Error(at(397))}}function ZAe(n,t){switch(t.insertionMode){case 0:case 1:return n.push("</div>");case 2:return n.push("</svg>");case 3:return n.push("</math>");case 4:return n.push("</table>");case 5:return n.push("</tbody></table>");case 6:return n.push("</tr></table>");case 7:return n.push("</colgroup></table>");default:throw Error(at(397))}}var QAe=/[<\u2028\u2029]/g;function SD(n){return JSON.stringify(n).replace(QAe,function(t){switch(t){case"<":return"\\u003c";case"\u2028":return"\\u2028";case"\u2029":return"\\u2029";default:throw Error("escapeJSStringsForInstructionScripts encountered a match it does not know how to replace. this means the match regex and the replacement characters are no longer in sync. This is a bug in React")}})}function JAe(n,t){return t=t===void 0?"":t,{bootstrapChunks:[],startInlineScript:"<script>",placeholderPrefix:t+"P:",segmentPrefix:t+"S:",boundaryPrefix:t+"B:",idPrefix:t,nextSuspenseID:0,sentCompleteSegmentFunction:!1,sentCompleteBoundaryFunction:!1,sentClientRenderFunction:!1,generateStaticMarkup:n}}function gW(n,t,e,r){return e.generateStaticMarkup?(n.push(Di(t)),!1):(t===""?n=r:(r&&n.push("<!-- -->"),n.push(Di(t)),n=!0),n)}var LC=Object.assign,eDe=Symbol.for("react.element"),Cq=Symbol.for("react.portal"),Sq=Symbol.for("react.fragment"),wq=Symbol.for("react.strict_mode"),_q=Symbol.for("react.profiler"),xq=Symbol.for("react.provider"),Eq=Symbol.for("react.context"),bq=Symbol.for("react.forward_ref"),Oq=Symbol.for("react.suspense"),Rq=Symbol.for("react.suspense_list"),Tq=Symbol.for("react.memo"),kG=Symbol.for("react.lazy"),tDe=Symbol.for("react.scope"),rDe=Symbol.for("react.debug_trace_mode"),nDe=Symbol.for("react.legacy_hidden"),iDe=Symbol.for("react.default_value"),yW=Symbol.iterator;function FF(n){if(n==null)return null;if(typeof n=="function")return n.displayName||n.name||null;if(typeof n=="string")return n;switch(n){case Sq:return"Fragment";case Cq:return"Portal";case _q:return"Profiler";case wq:return"StrictMode";case Oq:return"Suspense";case Rq:return"SuspenseList"}if(typeof n=="object")switch(n.$$typeof){case Eq:return(n.displayName||"Context")+".Consumer";case xq:return(n._context.displayName||"Context")+".Provider";case bq:var t=n.render;return n=n.displayName,n||(n=t.displayName||t.name||"",n=n!==""?"ForwardRef("+n+")":"ForwardRef"),n;case Tq:return t=n.displayName||null,t!==null?t:FF(n.type)||"Memo";case kG:t=n._payload,n=n._init;try{return FF(n(t))}catch{}}return null}var Pq={};function mW(n,t){if(n=n.contextTypes,!n)return Pq;var e={},r;for(r in n)e[r]=t[r];return e}var bh=null;function PT(n,t){if(n!==t){n.context._currentValue2=n.parentValue,n=n.parent;var e=t.parent;if(n===null){if(e!==null)throw Error(at(401))}else{if(e===null)throw Error(at(401));PT(n,e)}t.context._currentValue2=t.value}}function Aq(n){n.context._currentValue2=n.parentValue,n=n.parent,n!==null&&Aq(n)}function Dq(n){var t=n.parent;t!==null&&Dq(t),n.context._currentValue2=n.value}function Mq(n,t){if(n.context._currentValue2=n.parentValue,n=n.parent,n===null)throw Error(at(402));n.depth===t.depth?PT(n,t):Mq(n,t)}function Lq(n,t){var e=t.parent;if(e===null)throw Error(at(402));n.depth===e.depth?PT(n,e):Lq(n,e),t.context._currentValue2=t.value}function Ub(n){var t=bh;t!==n&&(t===null?Dq(n):n===null?Aq(t):t.depth===n.depth?PT(t,n):t.depth>n.depth?Mq(t,n):Lq(t,n),bh=n)}var CW={isMounted:function(){return!1},enqueueSetState:function(n,t){n=n._reactInternals,n.queue!==null&&n.queue.push(t)},enqueueReplaceState:function(n,t){n=n._reactInternals,n.replace=!0,n.queue=[t]},enqueueForceUpdate:function(){}};function SW(n,t,e,r){var i=n.state!==void 0?n.state:null;n.updater=CW,n.props=e,n.state=i;var o={queue:[],replace:!1};n._reactInternals=o;var a=t.contextType;if(n.context=typeof a=="object"&&a!==null?a._currentValue2:r,a=t.getDerivedStateFromProps,typeof a=="function"&&(a=a(e,i),i=a==null?i:LC({},i,a),n.state=i),typeof t.getDerivedStateFromProps!="function"&&typeof n.getSnapshotBeforeUpdate!="function"&&(typeof n.UNSAFE_componentWillMount=="function"||typeof n.componentWillMount=="function"))if(t=n.state,typeof n.componentWillMount=="function"&&n.componentWillMount(),typeof n.UNSAFE_componentWillMount=="function"&&n.UNSAFE_componentWillMount(),t!==n.state&&CW.enqueueReplaceState(n,n.state,null),o.queue!==null&&0<o.queue.length)if(t=o.queue,a=o.replace,o.queue=null,o.replace=!1,a&&t.length===1)n.state=t[0];else{for(o=a?t[0]:n.state,i=!0,a=a?1:0;a<t.length;a++){var s=t[a];s=typeof s=="function"?s.call(n,o,e,r):s,s!=null&&(i?(i=!1,o=LC({},o,s)):LC(o,s))}n.state=o}else o.queue=null}var oDe={id:1,overflow:""};function IF(n,t,e){var r=n.id;n=n.overflow;var i=32-nE(r)-1;r&=~(1<<i),e+=1;var o=32-nE(t)+i;if(30<o){var a=i-i%5;return o=(r&(1<<a)-1).toString(32),r>>=a,i-=a,{id:1<<32-nE(t)+i|e<<i|r,overflow:o+n}}return{id:1<<o|e<<i|r,overflow:n}}var nE=Math.clz32?Math.clz32:lDe,aDe=Math.log,sDe=Math.LN2;function lDe(n){return n>>>=0,n===0?32:31-(aDe(n)/sDe|0)|0}function uDe(n,t){return n===t&&(n!==0||1/n===1/t)||n!==n&&t!==t}var cDe=typeof Object.is=="function"?Object.is:uDe,sc=null,GG=null,iE=null,pr=null,jm=!1,zb=!1,HS=0,Cd=null,AT=0;function uh(){if(sc===null)throw Error(at(321));return sc}function wW(){if(0<AT)throw Error(at(312));return{memoizedState:null,queue:null,next:null}}function VG(){return pr===null?iE===null?(jm=!1,iE=pr=wW()):(jm=!0,pr=iE):pr.next===null?(jm=!1,pr=pr.next=wW()):(jm=!0,pr=pr.next),pr}function BG(){GG=sc=null,zb=!1,iE=null,AT=0,pr=Cd=null}function Fq(n,t){return typeof t=="function"?t(n):t}function _W(n,t,e){if(sc=uh(),pr=VG(),jm){var r=pr.queue;if(t=r.dispatch,Cd!==null&&(e=Cd.get(r),e!==void 0)){Cd.delete(r),r=pr.memoizedState;do r=n(r,e.action),e=e.next;while(e!==null);return pr.memoizedState=r,[r,t]}return[pr.memoizedState,t]}return n=n===Fq?typeof t=="function"?t():t:e!==void 0?e(t):t,pr.memoizedState=n,n=pr.queue={last:null,dispatch:null},n=n.dispatch=dDe.bind(null,sc,n),[pr.memoizedState,n]}function xW(n,t){if(sc=uh(),pr=VG(),t=t===void 0?null:t,pr!==null){var e=pr.memoizedState;if(e!==null&&t!==null){var r=e[1];e:if(r===null)r=!1;else{for(var i=0;i<r.length&&i<t.length;i++)if(!cDe(t[i],r[i])){r=!1;break e}r=!0}if(r)return e[0]}}return n=n(),pr.memoizedState=[n,t],n}function dDe(n,t,e){if(25<=AT)throw Error(at(301));if(n===sc)if(zb=!0,n={action:e,next:null},Cd===null&&(Cd=new Map),e=Cd.get(t),e===void 0)Cd.set(t,n);else{for(t=e;t.next!==null;)t=t.next;t.next=n}}function pDe(){throw Error(at(394))}function D_(){}var EW={readContext:function(n){return n._currentValue2},useContext:function(n){return uh(),n._currentValue2},useMemo:xW,useReducer:_W,useRef:function(n){sc=uh(),pr=VG();var t=pr.memoizedState;return t===null?(n={current:n},pr.memoizedState=n):t},useState:function(n){return _W(Fq,n)},useInsertionEffect:D_,useLayoutEffect:function(){},useCallback:function(n,t){return xW(function(){return n},t)},useImperativeHandle:D_,useEffect:D_,useDebugValue:D_,useDeferredValue:function(n){return uh(),n},useTransition:function(){return uh(),[!1,pDe]},useId:function(){var n=GG.treeContext,t=n.overflow;n=n.id,n=(n&~(1<<32-nE(n)-1)).toString(32)+t;var e=oE;if(e===null)throw Error(at(404));return t=HS++,n=":"+e.idPrefix+"R"+n,0<t&&(n+="H"+t.toString(32)),n+":"},useMutableSource:function(n,t){return uh(),t(n._source)},useSyncExternalStore:function(n,t,e){if(e===void 0)throw Error(at(407));return e()}},oE=null,wD=gq.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentDispatcher;function hDe(n){return console.error(n),null}function $m(){}function fDe(n,t,e,r,i,o,a,s,l){var u=[],c=new Set;return t={destination:null,responseState:t,progressiveChunkSize:r===void 0?12800:r,status:0,fatalError:null,nextSegmentId:0,allPendingTasks:0,pendingRootTasks:0,completedRootSegment:null,abortableTasks:c,pingedTasks:u,clientRenderedBoundaries:[],completedBoundaries:[],partialBoundaries:[],onError:i===void 0?hDe:i,onAllReady:o===void 0?$m:o,onShellReady:a===void 0?$m:a,onShellError:s===void 0?$m:s,onFatalError:l===void 0?$m:l},e=Kb(t,0,null,e,!1,!1),e.parentFlushed=!0,n=HG(t,n,null,e,c,Pq,null,oDe),u.push(n),t}function HG(n,t,e,r,i,o,a,s){n.allPendingTasks++,e===null?n.pendingRootTasks++:e.pendingTasks++;var l={node:t,ping:function(){var u=n.pingedTasks;u.push(l),u.length===1&&kq(n)},blockedBoundary:e,blockedSegment:r,abortSet:i,legacyContext:o,context:a,treeContext:s};return i.add(l),l}function Kb(n,t,e,r,i,o){return{status:0,id:-1,index:t,parentFlushed:!1,chunks:[],children:[],formatContext:r,boundary:e,lastPushedText:i,textEmbedded:o}}function jS(n,t){if(n=n.onError(t),n!=null&&typeof n!="string")throw Error('onError returned something with a type other than "string". onError should return a string and may return null or undefined but must not return anything else. It received something of type "'+typeof n+'" instead');return n}function Yb(n,t){var e=n.onShellError;e(t),e=n.onFatalError,e(t),n.destination!==null?(n.status=2,n.destination.destroy(t)):(n.status=1,n.fatalError=t)}function bW(n,t,e,r,i){for(sc={},GG=t,HS=0,n=e(r,i);zb;)zb=!1,HS=0,AT+=1,pr=null,n=e(r,i);return BG(),n}function OW(n,t,e,r){var i=e.render(),o=r.childContextTypes;if(o!=null){var a=t.legacyContext;if(typeof e.getChildContext!="function")r=a;else{e=e.getChildContext();for(var s in e)if(!(s in o))throw Error(at(108,FF(r)||"Unknown",s));r=LC({},a,e)}t.legacyContext=r,zo(n,t,i),t.legacyContext=a}else zo(n,t,i)}function RW(n,t){if(n&&n.defaultProps){t=LC({},t),n=n.defaultProps;for(var e in n)t[e]===void 0&&(t[e]=n[e]);return t}return t}function NF(n,t,e,r,i){if(typeof e=="function")if(e.prototype&&e.prototype.isReactComponent){i=mW(e,t.legacyContext);var o=e.contextType;o=new e(r,typeof o=="object"&&o!==null?o._currentValue2:i),SW(o,e,r,i),OW(n,t,o,e)}else{o=mW(e,t.legacyContext),i=bW(n,t,e,r,o);var a=HS!==0;if(typeof i=="object"&&i!==null&&typeof i.render=="function"&&i.$$typeof===void 0)SW(i,e,r,o),OW(n,t,i,e);else if(a){r=t.treeContext,t.treeContext=IF(r,1,0);try{zo(n,t,i)}finally{t.treeContext=r}}else zo(n,t,i)}else if(typeof e=="string"){switch(i=t.blockedSegment,o=XAe(i.chunks,e,r,n.responseState,i.formatContext),i.lastPushedText=!1,a=i.formatContext,i.formatContext=zAe(a,e,r),kF(n,t,o),i.formatContext=a,e){case"area":case"base":case"br":case"col":case"embed":case"hr":case"img":case"input":case"keygen":case"link":case"meta":case"param":case"source":case"track":case"wbr":break;default:i.chunks.push("</",e,">")}i.lastPushedText=!1}else{switch(e){case nDe:case rDe:case wq:case _q:case Sq:zo(n,t,r.children);return;case Rq:zo(n,t,r.children);return;case tDe:throw Error(at(343));case Oq:e:{e=t.blockedBoundary,i=t.blockedSegment,o=r.fallback,r=r.children,a=new Set;var s={id:null,rootSegmentID:-1,parentFlushed:!1,pendingTasks:0,forceClientRender:!1,completedSegments:[],byteSize:0,fallbackAbortableTasks:a,errorDigest:null},l=Kb(n,i.chunks.length,s,i.formatContext,!1,!1);i.children.push(l),i.lastPushedText=!1;var u=Kb(n,0,null,i.formatContext,!1,!1);u.parentFlushed=!0,t.blockedBoundary=s,t.blockedSegment=u;try{if(kF(n,t,r),n.responseState.generateStaticMarkup||u.lastPushedText&&u.textEmbedded&&u.chunks.push("<!-- -->"),u.status=1,Xb(s,u),s.pendingTasks===0)break e}catch(c){u.status=4,s.forceClientRender=!0,s.errorDigest=jS(n,c)}finally{t.blockedBoundary=e,t.blockedSegment=i}t=HG(n,o,e,l,a,t.legacyContext,t.context,t.treeContext),n.pingedTasks.push(t)}return}if(typeof e=="object"&&e!==null)switch(e.$$typeof){case bq:if(r=bW(n,t,e.render,r,i),HS!==0){e=t.treeContext,t.treeContext=IF(e,1,0);try{zo(n,t,r)}finally{t.treeContext=e}}else zo(n,t,r);return;case Tq:e=e.type,r=RW(e,r),NF(n,t,e,r,i);return;case xq:if(i=r.children,e=e._context,r=r.value,o=e._currentValue2,e._currentValue2=r,a=bh,bh=r={parent:a,depth:a===null?0:a.depth+1,context:e,parentValue:o,value:r},t.context=r,zo(n,t,i),n=bh,n===null)throw Error(at(403));r=n.parentValue,n.context._currentValue2=r===iDe?n.context._defaultValue:r,n=bh=n.parent,t.context=n;return;case Eq:r=r.children,r=r(e._currentValue2),zo(n,t,r);return;case kG:i=e._init,e=i(e._payload),r=RW(e,r),NF(n,t,e,r,void 0);return}throw Error(at(130,e==null?e:typeof e,""))}}function zo(n,t,e){if(t.node=e,typeof e=="object"&&e!==null){switch(e.$$typeof){case eDe:NF(n,t,e.type,e.props,e.ref);return;case Cq:throw Error(at(257));case kG:var r=e._init;e=r(e._payload),zo(n,t,e);return}if(LF(e)){TW(n,t,e);return}if(e===null||typeof e!="object"?r=null:(r=yW&&e[yW]||e["@@iterator"],r=typeof r=="function"?r:null),r&&(r=r.call(e))){if(e=r.next(),!e.done){var i=[];do i.push(e.value),e=r.next();while(!e.done);TW(n,t,i)}return}throw n=Object.prototype.toString.call(e),Error(at(31,n==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":n))}typeof e=="string"?(r=t.blockedSegment,r.lastPushedText=gW(t.blockedSegment.chunks,e,n.responseState,r.lastPushedText)):typeof e=="number"&&(r=t.blockedSegment,r.lastPushedText=gW(t.blockedSegment.chunks,""+e,n.responseState,r.lastPushedText))}function TW(n,t,e){for(var r=e.length,i=0;i<r;i++){var o=t.treeContext;t.treeContext=IF(o,r,i);try{kF(n,t,e[i])}finally{t.treeContext=o}}}function kF(n,t,e){var r=t.blockedSegment.formatContext,i=t.legacyContext,o=t.context;try{return zo(n,t,e)}catch(l){if(BG(),typeof l=="object"&&l!==null&&typeof l.then=="function"){e=l;var a=t.blockedSegment,s=Kb(n,a.chunks.length,null,a.formatContext,a.lastPushedText,!0);a.children.push(s),a.lastPushedText=!1,n=HG(n,t.node,t.blockedBoundary,s,t.abortSet,t.legacyContext,t.context,t.treeContext).ping,e.then(n,n),t.blockedSegment.formatContext=r,t.legacyContext=i,t.context=o,Ub(o)}else throw t.blockedSegment.formatContext=r,t.legacyContext=i,t.context=o,Ub(o),l}}function vDe(n){var t=n.blockedBoundary;n=n.blockedSegment,n.status=3,Nq(this,t,n)}function Iq(n,t,e){var r=n.blockedBoundary;n.blockedSegment.status=3,r===null?(t.allPendingTasks--,t.status!==2&&(t.status=2,t.destination!==null&&t.destination.push(null))):(r.pendingTasks--,r.forceClientRender||(r.forceClientRender=!0,n=e===void 0?Error(at(432)):e,r.errorDigest=t.onError(n),r.parentFlushed&&t.clientRenderedBoundaries.push(r)),r.fallbackAbortableTasks.forEach(function(i){return Iq(i,t,e)}),r.fallbackAbortableTasks.clear(),t.allPendingTasks--,t.allPendingTasks===0&&(r=t.onAllReady,r()))}function Xb(n,t){if(t.chunks.length===0&&t.children.length===1&&t.children[0].boundary===null){var e=t.children[0];e.id=t.id,e.parentFlushed=!0,e.status===1&&Xb(n,e)}else n.completedSegments.push(t)}function Nq(n,t,e){if(t===null){if(e.parentFlushed){if(n.completedRootSegment!==null)throw Error(at(389));n.completedRootSegment=e}n.pendingRootTasks--,n.pendingRootTasks===0&&(n.onShellError=$m,t=n.onShellReady,t())}else t.pendingTasks--,t.forceClientRender||(t.pendingTasks===0?(e.parentFlushed&&e.status===1&&Xb(t,e),t.parentFlushed&&n.completedBoundaries.push(t),t.fallbackAbortableTasks.forEach(vDe,n),t.fallbackAbortableTasks.clear()):e.parentFlushed&&e.status===1&&(Xb(t,e),t.completedSegments.length===1&&t.parentFlushed&&n.partialBoundaries.push(t)));n.allPendingTasks--,n.allPendingTasks===0&&(n=n.onAllReady,n())}function kq(n){if(n.status!==2){var t=bh,e=wD.current;wD.current=EW;var r=oE;oE=n.responseState;try{var i=n.pingedTasks,o;for(o=0;o<i.length;o++){var a=i[o],s=n,l=a.blockedSegment;if(l.status===0){Ub(a.context);try{zo(s,a,a.node),s.responseState.generateStaticMarkup||l.lastPushedText&&l.textEmbedded&&l.chunks.push("<!-- -->"),a.abortSet.delete(a),l.status=1,Nq(s,a.blockedBoundary,l)}catch(f){if(BG(),typeof f=="object"&&f!==null&&typeof f.then=="function"){var u=a.ping;f.then(u,u)}else{a.abortSet.delete(a),l.status=4;var c=a.blockedBoundary,d=f,p=jS(s,d);if(c===null?Yb(s,d):(c.pendingTasks--,c.forceClientRender||(c.forceClientRender=!0,c.errorDigest=p,c.parentFlushed&&s.clientRenderedBoundaries.push(c))),s.allPendingTasks--,s.allPendingTasks===0){var h=s.onAllReady;h()}}}finally{}}}i.splice(0,o),n.destination!==null&&jG(n,n.destination)}catch(f){jS(n,f),Yb(n,f)}finally{oE=r,wD.current=e,e===EW&&Ub(t)}}}function M_(n,t,e){switch(e.parentFlushed=!0,e.status){case 0:var r=e.id=n.nextSegmentId++;return e.lastPushedText=!1,e.textEmbedded=!1,n=n.responseState,t.push('<template id="'),t.push(n.placeholderPrefix),n=r.toString(16),t.push(n),t.push('"></template>');case 1:e.status=2;var i=!0;r=e.chunks;var o=0;e=e.children;for(var a=0;a<e.length;a++){for(i=e[a];o<i.index;o++)t.push(r[o]);i=DT(n,t,i)}for(;o<r.length-1;o++)t.push(r[o]);return o<r.length&&(i=t.push(r[o])),i;default:throw Error(at(390))}}function DT(n,t,e){var r=e.boundary;if(r===null)return M_(n,t,e);if(r.parentFlushed=!0,r.forceClientRender)return n.responseState.generateStaticMarkup||(r=r.errorDigest,t.push("<!--$!-->"),t.push("<template"),r&&(t.push(' data-dgst="'),r=Di(r),t.push(r),t.push('"')),t.push("></template>")),M_(n,t,e),n=n.responseState.generateStaticMarkup?!0:t.push("<!--/$-->"),n;if(0<r.pendingTasks){r.rootSegmentID=n.nextSegmentId++,0<r.completedSegments.length&&n.partialBoundaries.push(r);var i=n.responseState,o=i.nextSuspenseID++;return i=i.boundaryPrefix+o.toString(16),r=r.id=i,vW(t,n.responseState,r),M_(n,t,e),t.push("<!--/$-->")}if(r.byteSize>n.progressiveChunkSize)return r.rootSegmentID=n.nextSegmentId++,n.completedBoundaries.push(r),vW(t,n.responseState,r.id),M_(n,t,e),t.push("<!--/$-->");if(n.responseState.generateStaticMarkup||t.push("<!--$-->"),e=r.completedSegments,e.length!==1)throw Error(at(391));return DT(n,t,e[0]),n=n.responseState.generateStaticMarkup?!0:t.push("<!--/$-->"),n}function PW(n,t,e){return qAe(t,n.responseState,e.formatContext,e.id),DT(n,t,e),ZAe(t,e.formatContext)}function AW(n,t,e){for(var r=e.completedSegments,i=0;i<r.length;i++)Gq(n,t,e,r[i]);if(r.length=0,n=n.responseState,r=e.id,e=e.rootSegmentID,t.push(n.startInlineScript),n.sentCompleteBoundaryFunction?t.push('$RC("'):(n.sentCompleteBoundaryFunction=!0,t.push('function $RC(a,b){a=document.getElementById(a);b=document.getElementById(b);b.parentNode.removeChild(b);if(a){a=a.previousSibling;var f=a.parentNode,c=a.nextSibling,e=0;do{if(c&&8===c.nodeType){var d=c.data;if("/$"===d)if(0===e)break;else e--;else"$"!==d&&"$?"!==d&&"$!"!==d||e++}d=c.nextSibling;f.removeChild(c);c=d}while(c);for(;b.firstChild;)f.insertBefore(b.firstChild,c);a.data="$";a._reactRetry&&a._reactRetry()}};$RC("')),r===null)throw Error(at(395));return e=e.toString(16),t.push(r),t.push('","'),t.push(n.segmentPrefix),t.push(e),t.push('")<\/script>')}function Gq(n,t,e,r){if(r.status===2)return!0;var i=r.id;if(i===-1){if((r.id=e.rootSegmentID)===-1)throw Error(at(392));return PW(n,t,r)}return PW(n,t,r),n=n.responseState,t.push(n.startInlineScript),n.sentCompleteSegmentFunction?t.push('$RS("'):(n.sentCompleteSegmentFunction=!0,t.push('function $RS(a,b){a=document.getElementById(a);b=document.getElementById(b);for(a.parentNode.removeChild(a);a.firstChild;)b.parentNode.insertBefore(a.firstChild,b);b.parentNode.removeChild(b)};$RS("')),t.push(n.segmentPrefix),i=i.toString(16),t.push(i),t.push('","'),t.push(n.placeholderPrefix),t.push(i),t.push('")<\/script>')}function jG(n,t){try{var e=n.completedRootSegment;if(e!==null&&n.pendingRootTasks===0){DT(n,t,e),n.completedRootSegment=null;var r=n.responseState.bootstrapChunks;for(e=0;e<r.length-1;e++)t.push(r[e]);e<r.length&&t.push(r[e])}var i=n.clientRenderedBoundaries,o;for(o=0;o<i.length;o++){var a=i[o];r=t;var s=n.responseState,l=a.id,u=a.errorDigest,c=a.errorMessage,d=a.errorComponentStack;if(r.push(s.startInlineScript),s.sentClientRenderFunction?r.push('$RX("'):(s.sentClientRenderFunction=!0,r.push('function $RX(b,c,d,e){var a=document.getElementById(b);a&&(b=a.previousSibling,b.data="$!",a=a.dataset,c&&(a.dgst=c),d&&(a.msg=d),e&&(a.stck=e),b._reactRetry&&b._reactRetry())};$RX("')),l===null)throw Error(at(395));if(r.push(l),r.push('"'),u||c||d){r.push(",");var p=SD(u||"");r.push(p)}if(c||d){r.push(",");var h=SD(c||"");r.push(h)}if(d){r.push(",");var f=SD(d);r.push(f)}if(!r.push(")<\/script>")){n.destination=null,o++,i.splice(0,o);return}}i.splice(0,o);var v=n.completedBoundaries;for(o=0;o<v.length;o++)if(!AW(n,t,v[o])){n.destination=null,o++,v.splice(0,o);return}v.splice(0,o);var g=n.partialBoundaries;for(o=0;o<g.length;o++){var y=g[o];e:{i=n,a=t;var m=y.completedSegments;for(s=0;s<m.length;s++)if(!Gq(i,a,y,m[s])){s++,m.splice(0,s);var C=!1;break e}m.splice(0,s),C=!0}if(!C){n.destination=null,o++,g.splice(0,o);return}}g.splice(0,o);var S=n.completedBoundaries;for(o=0;o<S.length;o++)if(!AW(n,t,S[o])){n.destination=null,o++,S.splice(0,o);return}S.splice(0,o)}finally{n.allPendingTasks===0&&n.pingedTasks.length===0&&n.clientRenderedBoundaries.length===0&&n.completedBoundaries.length===0&&t.push(null)}}function gDe(n,t){try{var e=n.abortableTasks;e.forEach(function(r){return Iq(r,n,t)}),e.clear(),n.destination!==null&&jG(n,n.destination)}catch(r){jS(n,r),Yb(n,r)}}function yDe(){}function Vq(n,t,e,r){var i=!1,o=null,a="",s={push:function(u){return u!==null&&(a+=u),!0},destroy:function(u){i=!0,o=u}},l=!1;if(n=fDe(n,JAe(e,t?t.identifierPrefix:void 0),{insertionMode:1,selectedValue:null},1/0,yDe,void 0,function(){l=!0},void 0,void 0),kq(n),gDe(n,r),n.status===1)n.status=2,s.destroy(n.fatalError);else if(n.status!==2&&n.destination===null){n.destination=s;try{jG(n,s)}catch(u){jS(n,u),Yb(n,u)}}if(i)throw o;if(!l)throw Error(at(426));return a}qg.renderToNodeStream=function(){throw Error(at(207))};qg.renderToStaticMarkup=function(n,t){return Vq(n,t,!0,'The server used "renderToStaticMarkup" which does not support Suspense. If you intended to have the server wait for the suspended component please switch to "renderToReadableStream" which supports Suspense on the server')};qg.renderToStaticNodeStream=function(){throw Error(at(208))};qg.renderToString=function(n,t){return Vq(n,t,!1,'The server used "renderToString" which does not support Suspense. If you intended for this Suspense boundary to render the fallback content on the server consider throwing an Error somewhere within the Suspense boundary. If you intended to have the server wait for the suspended component please switch to "renderToReadableStream" which supports Suspense on the server')};qg.version="18.2.0";var $G={};/**
 * @license React
 * react-dom-server.browser.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Bq=F;function ht(n){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+n,e=1;e<arguments.length;e++)t+="&args[]="+encodeURIComponent(arguments[e]);return"Minified React error #"+n+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var Ko=null,Yo=0;function Ie(n,t){if(t.length!==0)if(512<t.length)0<Yo&&(n.enqueue(new Uint8Array(Ko.buffer,0,Yo)),Ko=new Uint8Array(512),Yo=0),n.enqueue(t);else{var e=Ko.length-Yo;e<t.length&&(e===0?n.enqueue(Ko):(Ko.set(t.subarray(0,e),Yo),n.enqueue(Ko),t=t.subarray(e)),Ko=new Uint8Array(512),Yo=0),Ko.set(t,Yo),Yo+=t.length}}function wr(n,t){return Ie(n,t),!0}function DW(n){Ko&&0<Yo&&(n.enqueue(new Uint8Array(Ko.buffer,0,Yo)),Ko=null,Yo=0)}var Hq=new TextEncoder;function gt(n){return Hq.encode(n)}function Re(n){return Hq.encode(n)}function jq(n,t){typeof n.error=="function"?n.error(t):n.close()}var no=Object.prototype.hasOwnProperty,mDe=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,MW={},LW={};function $q(n){return no.call(LW,n)?!0:no.call(MW,n)?!1:mDe.test(n)?LW[n]=!0:(MW[n]=!0,!1)}function Hi(n,t,e,r,i,o,a){this.acceptsBooleans=t===2||t===3||t===4,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=e,this.propertyName=n,this.type=t,this.sanitizeURL=o,this.removeEmptyString=a}var ai={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(n){ai[n]=new Hi(n,0,!1,n,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(n){var t=n[0];ai[t]=new Hi(t,1,!1,n[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(n){ai[n]=new Hi(n,2,!1,n.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(n){ai[n]=new Hi(n,2,!1,n,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(n){ai[n]=new Hi(n,3,!1,n.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(n){ai[n]=new Hi(n,3,!0,n,null,!1,!1)});["capture","download"].forEach(function(n){ai[n]=new Hi(n,4,!1,n,null,!1,!1)});["cols","rows","size","span"].forEach(function(n){ai[n]=new Hi(n,6,!1,n,null,!1,!1)});["rowSpan","start"].forEach(function(n){ai[n]=new Hi(n,5,!1,n.toLowerCase(),null,!1,!1)});var WG=/[\-:]([a-z])/g;function UG(n){return n[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(n){var t=n.replace(WG,UG);ai[t]=new Hi(t,1,!1,n,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(n){var t=n.replace(WG,UG);ai[t]=new Hi(t,1,!1,n,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(n){var t=n.replace(WG,UG);ai[t]=new Hi(t,1,!1,n,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(n){ai[n]=new Hi(n,1,!1,n.toLowerCase(),null,!1,!1)});ai.xlinkHref=new Hi("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(n){ai[n]=new Hi(n,1,!1,n.toLowerCase(),null,!0,!0)});var aE={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},CDe=["Webkit","ms","Moz","O"];Object.keys(aE).forEach(function(n){CDe.forEach(function(t){t=t+n.charAt(0).toUpperCase()+n.substring(1),aE[t]=aE[n]})});var SDe=/["'&<>]/;function Jn(n){if(typeof n=="boolean"||typeof n=="number")return""+n;n=""+n;var t=SDe.exec(n);if(t){var e="",r,i=0;for(r=t.index;r<n.length;r++){switch(n.charCodeAt(r)){case 34:t="&quot;";break;case 38:t="&amp;";break;case 39:t="&#x27;";break;case 60:t="&lt;";break;case 62:t="&gt;";break;default:continue}i!==r&&(e+=n.substring(i,r)),i=r+1,e+=t}n=i!==r?e+n.substring(i,r):e}return n}var wDe=/([A-Z])/g,_De=/^ms-/,GF=Array.isArray,xDe=Re("<script>"),EDe=Re("<\/script>"),bDe=Re('<script src="'),ODe=Re('<script type="module" src="'),FW=Re('" async=""><\/script>'),RDe=/(<\/|<)(s)(cript)/gi;function TDe(n,t,e,r){return""+t+(e==="s"?"\\u0073":"\\u0053")+r}function PDe(n,t,e,r,i){n=n===void 0?"":n,t=t===void 0?xDe:Re('<script nonce="'+Jn(t)+'">');var o=[];if(e!==void 0&&o.push(t,gt((""+e).replace(RDe,TDe)),EDe),r!==void 0)for(e=0;e<r.length;e++)o.push(bDe,gt(Jn(r[e])),FW);if(i!==void 0)for(r=0;r<i.length;r++)o.push(ODe,gt(Jn(i[r])),FW);return{bootstrapChunks:o,startInlineScript:t,placeholderPrefix:Re(n+"P:"),segmentPrefix:Re(n+"S:"),boundaryPrefix:n+"B:",idPrefix:n,nextSuspenseID:0,sentCompleteSegmentFunction:!1,sentCompleteBoundaryFunction:!1,sentClientRenderFunction:!1}}function vl(n,t){return{insertionMode:n,selectedValue:t}}function ADe(n){return vl(n==="http://www.w3.org/2000/svg"?2:n==="http://www.w3.org/1998/Math/MathML"?3:0,null)}function DDe(n,t,e){switch(t){case"select":return vl(1,e.value!=null?e.value:e.defaultValue);case"svg":return vl(2,null);case"math":return vl(3,null);case"foreignObject":return vl(1,null);case"table":return vl(4,null);case"thead":case"tbody":case"tfoot":return vl(5,null);case"colgroup":return vl(7,null);case"tr":return vl(6,null)}return 4<=n.insertionMode||n.insertionMode===0?vl(1,null):n}var zG=Re("<!-- -->");function IW(n,t,e,r){return t===""?r:(r&&n.push(zG),n.push(gt(Jn(t))),!0)}var NW=new Map,MDe=Re(' style="'),kW=Re(":"),LDe=Re(";");function Wq(n,t,e){if(typeof e!="object")throw Error(ht(62));t=!0;for(var r in e)if(no.call(e,r)){var i=e[r];if(i!=null&&typeof i!="boolean"&&i!==""){if(r.indexOf("--")===0){var o=gt(Jn(r));i=gt(Jn((""+i).trim()))}else{o=r;var a=NW.get(o);a!==void 0||(a=Re(Jn(o.replace(wDe,"-$1").toLowerCase().replace(_De,"-ms-"))),NW.set(o,a)),o=a,i=typeof i=="number"?i===0||no.call(aE,r)?gt(""+i):gt(i+"px"):gt(Jn((""+i).trim()))}t?(t=!1,n.push(MDe,o,kW,i)):n.push(LDe,o,kW,i)}}t||n.push(ch)}var Qc=Re(" "),hv=Re('="'),ch=Re('"'),GW=Re('=""');function Bo(n,t,e,r){switch(e){case"style":Wq(n,t,r);return;case"defaultValue":case"defaultChecked":case"innerHTML":case"suppressContentEditableWarning":case"suppressHydrationWarning":return}if(!(2<e.length)||e[0]!=="o"&&e[0]!=="O"||e[1]!=="n"&&e[1]!=="N"){if(t=ai.hasOwnProperty(e)?ai[e]:null,t!==null){switch(typeof r){case"function":case"symbol":return;case"boolean":if(!t.acceptsBooleans)return}switch(e=gt(t.attributeName),t.type){case 3:r&&n.push(Qc,e,GW);break;case 4:r===!0?n.push(Qc,e,GW):r!==!1&&n.push(Qc,e,hv,gt(Jn(r)),ch);break;case 5:isNaN(r)||n.push(Qc,e,hv,gt(Jn(r)),ch);break;case 6:!isNaN(r)&&1<=r&&n.push(Qc,e,hv,gt(Jn(r)),ch);break;default:t.sanitizeURL&&(r=""+r),n.push(Qc,e,hv,gt(Jn(r)),ch)}}else if($q(e)){switch(typeof r){case"function":case"symbol":return;case"boolean":if(t=e.toLowerCase().slice(0,5),t!=="data-"&&t!=="aria-")return}n.push(Qc,gt(e),hv,gt(Jn(r)),ch)}}}var Jc=Re(">"),VW=Re("/>");function sE(n,t,e){if(t!=null){if(e!=null)throw Error(ht(60));if(typeof t!="object"||!("__html"in t))throw Error(ht(61));t=t.__html,t!=null&&n.push(gt(""+t))}}function FDe(n){var t="";return Bq.Children.forEach(n,function(e){e!=null&&(t+=e)}),t}var _D=Re(' selected=""');function xD(n,t,e,r){n.push(gl(e));var i=e=null,o;for(o in t)if(no.call(t,o)){var a=t[o];if(a!=null)switch(o){case"children":e=a;break;case"dangerouslySetInnerHTML":i=a;break;default:Bo(n,r,o,a)}}return n.push(Jc),sE(n,i,e),typeof e=="string"?(n.push(gt(Jn(e))),null):e}var ED=Re(`
`),IDe=/^[a-zA-Z][a-zA-Z:_\.\-\d]*$/,BW=new Map;function gl(n){var t=BW.get(n);if(t===void 0){if(!IDe.test(n))throw Error(ht(65,n));t=Re("<"+n),BW.set(n,t)}return t}var NDe=Re("<!DOCTYPE html>");function kDe(n,t,e,r,i){switch(t){case"select":n.push(gl("select"));var o=null,a=null;for(c in e)if(no.call(e,c)){var s=e[c];if(s!=null)switch(c){case"children":o=s;break;case"dangerouslySetInnerHTML":a=s;break;case"defaultValue":case"value":break;default:Bo(n,r,c,s)}}return n.push(Jc),sE(n,a,o),o;case"option":a=i.selectedValue,n.push(gl("option"));var l=s=null,u=null,c=null;for(o in e)if(no.call(e,o)){var d=e[o];if(d!=null)switch(o){case"children":s=d;break;case"selected":u=d;break;case"dangerouslySetInnerHTML":c=d;break;case"value":l=d;default:Bo(n,r,o,d)}}if(a!=null)if(e=l!==null?""+l:FDe(s),GF(a)){for(r=0;r<a.length;r++)if(""+a[r]===e){n.push(_D);break}}else""+a===e&&n.push(_D);else u&&n.push(_D);return n.push(Jc),sE(n,c,s),s;case"textarea":n.push(gl("textarea")),c=a=o=null;for(s in e)if(no.call(e,s)&&(l=e[s],l!=null))switch(s){case"children":c=l;break;case"value":o=l;break;case"defaultValue":a=l;break;case"dangerouslySetInnerHTML":throw Error(ht(91));default:Bo(n,r,s,l)}if(o===null&&a!==null&&(o=a),n.push(Jc),c!=null){if(o!=null)throw Error(ht(92));if(GF(c)&&1<c.length)throw Error(ht(93));o=""+c}return typeof o=="string"&&o[0]===`
`&&n.push(ED),o!==null&&n.push(gt(Jn(""+o))),null;case"input":n.push(gl("input")),l=c=s=o=null;for(a in e)if(no.call(e,a)&&(u=e[a],u!=null))switch(a){case"children":case"dangerouslySetInnerHTML":throw Error(ht(399,"input"));case"defaultChecked":l=u;break;case"defaultValue":s=u;break;case"checked":c=u;break;case"value":o=u;break;default:Bo(n,r,a,u)}return c!==null?Bo(n,r,"checked",c):l!==null&&Bo(n,r,"checked",l),o!==null?Bo(n,r,"value",o):s!==null&&Bo(n,r,"value",s),n.push(VW),null;case"menuitem":n.push(gl("menuitem"));for(var p in e)if(no.call(e,p)&&(o=e[p],o!=null))switch(p){case"children":case"dangerouslySetInnerHTML":throw Error(ht(400));default:Bo(n,r,p,o)}return n.push(Jc),null;case"title":n.push(gl("title")),o=null;for(d in e)if(no.call(e,d)&&(a=e[d],a!=null))switch(d){case"children":o=a;break;case"dangerouslySetInnerHTML":throw Error(ht(434));default:Bo(n,r,d,a)}return n.push(Jc),o;case"listing":case"pre":n.push(gl(t)),a=o=null;for(l in e)if(no.call(e,l)&&(s=e[l],s!=null))switch(l){case"children":o=s;break;case"dangerouslySetInnerHTML":a=s;break;default:Bo(n,r,l,s)}if(n.push(Jc),a!=null){if(o!=null)throw Error(ht(60));if(typeof a!="object"||!("__html"in a))throw Error(ht(61));e=a.__html,e!=null&&(typeof e=="string"&&0<e.length&&e[0]===`
`?n.push(ED,gt(e)):n.push(gt(""+e)))}return typeof o=="string"&&o[0]===`
`&&n.push(ED),o;case"area":case"base":case"br":case"col":case"embed":case"hr":case"img":case"keygen":case"link":case"meta":case"param":case"source":case"track":case"wbr":n.push(gl(t));for(var h in e)if(no.call(e,h)&&(o=e[h],o!=null))switch(h){case"children":case"dangerouslySetInnerHTML":throw Error(ht(399,t));default:Bo(n,r,h,o)}return n.push(VW),null;case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return xD(n,e,t,r);case"html":return i.insertionMode===0&&n.push(NDe),xD(n,e,t,r);default:if(t.indexOf("-")===-1&&typeof e.is!="string")return xD(n,e,t,r);n.push(gl(t)),a=o=null;for(u in e)if(no.call(e,u)&&(s=e[u],s!=null))switch(u){case"children":o=s;break;case"dangerouslySetInnerHTML":a=s;break;case"style":Wq(n,r,s);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":break;default:$q(u)&&typeof s!="function"&&typeof s!="symbol"&&n.push(Qc,gt(u),hv,gt(Jn(s)),ch)}return n.push(Jc),sE(n,a,o),o}}var GDe=Re("</"),VDe=Re(">"),BDe=Re('<template id="'),HDe=Re('"></template>'),jDe=Re("<!--$-->"),$De=Re('<!--$?--><template id="'),WDe=Re('"></template>'),UDe=Re("<!--$!-->"),zDe=Re("<!--/$-->"),KDe=Re("<template"),YDe=Re('"'),XDe=Re(' data-dgst="');Re(' data-msg="');Re(' data-stck="');var qDe=Re("></template>");function HW(n,t,e){if(Ie(n,$De),e===null)throw Error(ht(395));return Ie(n,e),wr(n,WDe)}var ZDe=Re('<div hidden id="'),QDe=Re('">'),JDe=Re("</div>"),eMe=Re('<svg aria-hidden="true" style="display:none" id="'),tMe=Re('">'),rMe=Re("</svg>"),nMe=Re('<math aria-hidden="true" style="display:none" id="'),iMe=Re('">'),oMe=Re("</math>"),aMe=Re('<table hidden id="'),sMe=Re('">'),lMe=Re("</table>"),uMe=Re('<table hidden><tbody id="'),cMe=Re('">'),dMe=Re("</tbody></table>"),pMe=Re('<table hidden><tr id="'),hMe=Re('">'),fMe=Re("</tr></table>"),vMe=Re('<table hidden><colgroup id="'),gMe=Re('">'),yMe=Re("</colgroup></table>");function mMe(n,t,e,r){switch(e.insertionMode){case 0:case 1:return Ie(n,ZDe),Ie(n,t.segmentPrefix),Ie(n,gt(r.toString(16))),wr(n,QDe);case 2:return Ie(n,eMe),Ie(n,t.segmentPrefix),Ie(n,gt(r.toString(16))),wr(n,tMe);case 3:return Ie(n,nMe),Ie(n,t.segmentPrefix),Ie(n,gt(r.toString(16))),wr(n,iMe);case 4:return Ie(n,aMe),Ie(n,t.segmentPrefix),Ie(n,gt(r.toString(16))),wr(n,sMe);case 5:return Ie(n,uMe),Ie(n,t.segmentPrefix),Ie(n,gt(r.toString(16))),wr(n,cMe);case 6:return Ie(n,pMe),Ie(n,t.segmentPrefix),Ie(n,gt(r.toString(16))),wr(n,hMe);case 7:return Ie(n,vMe),Ie(n,t.segmentPrefix),Ie(n,gt(r.toString(16))),wr(n,gMe);default:throw Error(ht(397))}}function CMe(n,t){switch(t.insertionMode){case 0:case 1:return wr(n,JDe);case 2:return wr(n,rMe);case 3:return wr(n,oMe);case 4:return wr(n,lMe);case 5:return wr(n,dMe);case 6:return wr(n,fMe);case 7:return wr(n,yMe);default:throw Error(ht(397))}}var SMe=Re('function $RS(a,b){a=document.getElementById(a);b=document.getElementById(b);for(a.parentNode.removeChild(a);a.firstChild;)b.parentNode.insertBefore(a.firstChild,b);b.parentNode.removeChild(b)};$RS("'),wMe=Re('$RS("'),_Me=Re('","'),xMe=Re('")<\/script>'),EMe=Re('function $RC(a,b){a=document.getElementById(a);b=document.getElementById(b);b.parentNode.removeChild(b);if(a){a=a.previousSibling;var f=a.parentNode,c=a.nextSibling,e=0;do{if(c&&8===c.nodeType){var d=c.data;if("/$"===d)if(0===e)break;else e--;else"$"!==d&&"$?"!==d&&"$!"!==d||e++}d=c.nextSibling;f.removeChild(c);c=d}while(c);for(;b.firstChild;)f.insertBefore(b.firstChild,c);a.data="$";a._reactRetry&&a._reactRetry()}};$RC("'),bMe=Re('$RC("'),OMe=Re('","'),RMe=Re('")<\/script>'),TMe=Re('function $RX(b,c,d,e){var a=document.getElementById(b);a&&(b=a.previousSibling,b.data="$!",a=a.dataset,c&&(a.dgst=c),d&&(a.msg=d),e&&(a.stck=e),b._reactRetry&&b._reactRetry())};$RX("'),PMe=Re('$RX("'),AMe=Re('"'),DMe=Re(")<\/script>"),bD=Re(","),MMe=/[<\u2028\u2029]/g;function OD(n){return JSON.stringify(n).replace(MMe,function(t){switch(t){case"<":return"\\u003c";case"\u2028":return"\\u2028";case"\u2029":return"\\u2029";default:throw Error("escapeJSStringsForInstructionScripts encountered a match it does not know how to replace. this means the match regex and the replacement characters are no longer in sync. This is a bug in React")}})}var FC=Object.assign,LMe=Symbol.for("react.element"),Uq=Symbol.for("react.portal"),zq=Symbol.for("react.fragment"),Kq=Symbol.for("react.strict_mode"),Yq=Symbol.for("react.profiler"),Xq=Symbol.for("react.provider"),qq=Symbol.for("react.context"),Zq=Symbol.for("react.forward_ref"),Qq=Symbol.for("react.suspense"),Jq=Symbol.for("react.suspense_list"),eZ=Symbol.for("react.memo"),KG=Symbol.for("react.lazy"),FMe=Symbol.for("react.scope"),IMe=Symbol.for("react.debug_trace_mode"),NMe=Symbol.for("react.legacy_hidden"),kMe=Symbol.for("react.default_value"),jW=Symbol.iterator;function VF(n){if(n==null)return null;if(typeof n=="function")return n.displayName||n.name||null;if(typeof n=="string")return n;switch(n){case zq:return"Fragment";case Uq:return"Portal";case Yq:return"Profiler";case Kq:return"StrictMode";case Qq:return"Suspense";case Jq:return"SuspenseList"}if(typeof n=="object")switch(n.$$typeof){case qq:return(n.displayName||"Context")+".Consumer";case Xq:return(n._context.displayName||"Context")+".Provider";case Zq:var t=n.render;return n=n.displayName,n||(n=t.displayName||t.name||"",n=n!==""?"ForwardRef("+n+")":"ForwardRef"),n;case eZ:return t=n.displayName||null,t!==null?t:VF(n.type)||"Memo";case KG:t=n._payload,n=n._init;try{return VF(n(t))}catch{}}return null}var tZ={};function $W(n,t){if(n=n.contextTypes,!n)return tZ;var e={},r;for(r in n)e[r]=t[r];return e}var Oh=null;function MT(n,t){if(n!==t){n.context._currentValue=n.parentValue,n=n.parent;var e=t.parent;if(n===null){if(e!==null)throw Error(ht(401))}else{if(e===null)throw Error(ht(401));MT(n,e)}t.context._currentValue=t.value}}function rZ(n){n.context._currentValue=n.parentValue,n=n.parent,n!==null&&rZ(n)}function nZ(n){var t=n.parent;t!==null&&nZ(t),n.context._currentValue=n.value}function iZ(n,t){if(n.context._currentValue=n.parentValue,n=n.parent,n===null)throw Error(ht(402));n.depth===t.depth?MT(n,t):iZ(n,t)}function oZ(n,t){var e=t.parent;if(e===null)throw Error(ht(402));n.depth===e.depth?MT(n,e):oZ(n,e),t.context._currentValue=t.value}function qb(n){var t=Oh;t!==n&&(t===null?nZ(n):n===null?rZ(t):t.depth===n.depth?MT(t,n):t.depth>n.depth?iZ(t,n):oZ(t,n),Oh=n)}var WW={isMounted:function(){return!1},enqueueSetState:function(n,t){n=n._reactInternals,n.queue!==null&&n.queue.push(t)},enqueueReplaceState:function(n,t){n=n._reactInternals,n.replace=!0,n.queue=[t]},enqueueForceUpdate:function(){}};function UW(n,t,e,r){var i=n.state!==void 0?n.state:null;n.updater=WW,n.props=e,n.state=i;var o={queue:[],replace:!1};n._reactInternals=o;var a=t.contextType;if(n.context=typeof a=="object"&&a!==null?a._currentValue:r,a=t.getDerivedStateFromProps,typeof a=="function"&&(a=a(e,i),i=a==null?i:FC({},i,a),n.state=i),typeof t.getDerivedStateFromProps!="function"&&typeof n.getSnapshotBeforeUpdate!="function"&&(typeof n.UNSAFE_componentWillMount=="function"||typeof n.componentWillMount=="function"))if(t=n.state,typeof n.componentWillMount=="function"&&n.componentWillMount(),typeof n.UNSAFE_componentWillMount=="function"&&n.UNSAFE_componentWillMount(),t!==n.state&&WW.enqueueReplaceState(n,n.state,null),o.queue!==null&&0<o.queue.length)if(t=o.queue,a=o.replace,o.queue=null,o.replace=!1,a&&t.length===1)n.state=t[0];else{for(o=a?t[0]:n.state,i=!0,a=a?1:0;a<t.length;a++){var s=t[a];s=typeof s=="function"?s.call(n,o,e,r):s,s!=null&&(i?(i=!1,o=FC({},o,s)):FC(o,s))}n.state=o}else o.queue=null}var GMe={id:1,overflow:""};function BF(n,t,e){var r=n.id;n=n.overflow;var i=32-lE(r)-1;r&=~(1<<i),e+=1;var o=32-lE(t)+i;if(30<o){var a=i-i%5;return o=(r&(1<<a)-1).toString(32),r>>=a,i-=a,{id:1<<32-lE(t)+i|e<<i|r,overflow:o+n}}return{id:1<<o|e<<i|r,overflow:n}}var lE=Math.clz32?Math.clz32:HMe,VMe=Math.log,BMe=Math.LN2;function HMe(n){return n>>>=0,n===0?32:31-(VMe(n)/BMe|0)|0}function jMe(n,t){return n===t&&(n!==0||1/n===1/t)||n!==n&&t!==t}var $Me=typeof Object.is=="function"?Object.is:jMe,lc=null,YG=null,uE=null,hr=null,Wm=!1,Zb=!1,$S=0,Sd=null,LT=0;function dh(){if(lc===null)throw Error(ht(321));return lc}function zW(){if(0<LT)throw Error(ht(312));return{memoizedState:null,queue:null,next:null}}function XG(){return hr===null?uE===null?(Wm=!1,uE=hr=zW()):(Wm=!0,hr=uE):hr.next===null?(Wm=!1,hr=hr.next=zW()):(Wm=!0,hr=hr.next),hr}function qG(){YG=lc=null,Zb=!1,uE=null,LT=0,hr=Sd=null}function aZ(n,t){return typeof t=="function"?t(n):t}function KW(n,t,e){if(lc=dh(),hr=XG(),Wm){var r=hr.queue;if(t=r.dispatch,Sd!==null&&(e=Sd.get(r),e!==void 0)){Sd.delete(r),r=hr.memoizedState;do r=n(r,e.action),e=e.next;while(e!==null);return hr.memoizedState=r,[r,t]}return[hr.memoizedState,t]}return n=n===aZ?typeof t=="function"?t():t:e!==void 0?e(t):t,hr.memoizedState=n,n=hr.queue={last:null,dispatch:null},n=n.dispatch=WMe.bind(null,lc,n),[hr.memoizedState,n]}function YW(n,t){if(lc=dh(),hr=XG(),t=t===void 0?null:t,hr!==null){var e=hr.memoizedState;if(e!==null&&t!==null){var r=e[1];e:if(r===null)r=!1;else{for(var i=0;i<r.length&&i<t.length;i++)if(!$Me(t[i],r[i])){r=!1;break e}r=!0}if(r)return e[0]}}return n=n(),hr.memoizedState=[n,t],n}function WMe(n,t,e){if(25<=LT)throw Error(ht(301));if(n===lc)if(Zb=!0,n={action:e,next:null},Sd===null&&(Sd=new Map),e=Sd.get(t),e===void 0)Sd.set(t,n);else{for(t=e;t.next!==null;)t=t.next;t.next=n}}function UMe(){throw Error(ht(394))}function L_(){}var XW={readContext:function(n){return n._currentValue},useContext:function(n){return dh(),n._currentValue},useMemo:YW,useReducer:KW,useRef:function(n){lc=dh(),hr=XG();var t=hr.memoizedState;return t===null?(n={current:n},hr.memoizedState=n):t},useState:function(n){return KW(aZ,n)},useInsertionEffect:L_,useLayoutEffect:function(){},useCallback:function(n,t){return YW(function(){return n},t)},useImperativeHandle:L_,useEffect:L_,useDebugValue:L_,useDeferredValue:function(n){return dh(),n},useTransition:function(){return dh(),[!1,UMe]},useId:function(){var n=YG.treeContext,t=n.overflow;n=n.id,n=(n&~(1<<32-lE(n)-1)).toString(32)+t;var e=cE;if(e===null)throw Error(ht(404));return t=$S++,n=":"+e.idPrefix+"R"+n,0<t&&(n+="H"+t.toString(32)),n+":"},useMutableSource:function(n,t){return dh(),t(n._source)},useSyncExternalStore:function(n,t,e){if(e===void 0)throw Error(ht(407));return e()}},cE=null,RD=Bq.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentDispatcher;function zMe(n){return console.error(n),null}function Um(){}function KMe(n,t,e,r,i,o,a,s,l){var u=[],c=new Set;return t={destination:null,responseState:t,progressiveChunkSize:r===void 0?12800:r,status:0,fatalError:null,nextSegmentId:0,allPendingTasks:0,pendingRootTasks:0,completedRootSegment:null,abortableTasks:c,pingedTasks:u,clientRenderedBoundaries:[],completedBoundaries:[],partialBoundaries:[],onError:i===void 0?zMe:i,onAllReady:o===void 0?Um:o,onShellReady:a===void 0?Um:a,onShellError:s===void 0?Um:s,onFatalError:l===void 0?Um:l},e=Qb(t,0,null,e,!1,!1),e.parentFlushed=!0,n=ZG(t,n,null,e,c,tZ,null,GMe),u.push(n),t}function ZG(n,t,e,r,i,o,a,s){n.allPendingTasks++,e===null?n.pendingRootTasks++:e.pendingTasks++;var l={node:t,ping:function(){var u=n.pingedTasks;u.push(l),u.length===1&&uZ(n)},blockedBoundary:e,blockedSegment:r,abortSet:i,legacyContext:o,context:a,treeContext:s};return i.add(l),l}function Qb(n,t,e,r,i,o){return{status:0,id:-1,index:t,parentFlushed:!1,chunks:[],children:[],formatContext:r,boundary:e,lastPushedText:i,textEmbedded:o}}function WS(n,t){if(n=n.onError(t),n!=null&&typeof n!="string")throw Error('onError returned something with a type other than "string". onError should return a string and may return null or undefined but must not return anything else. It received something of type "'+typeof n+'" instead');return n}function Jb(n,t){var e=n.onShellError;e(t),e=n.onFatalError,e(t),n.destination!==null?(n.status=2,jq(n.destination,t)):(n.status=1,n.fatalError=t)}function qW(n,t,e,r,i){for(lc={},YG=t,$S=0,n=e(r,i);Zb;)Zb=!1,$S=0,LT+=1,hr=null,n=e(r,i);return qG(),n}function ZW(n,t,e,r){var i=e.render(),o=r.childContextTypes;if(o!=null){var a=t.legacyContext;if(typeof e.getChildContext!="function")r=a;else{e=e.getChildContext();for(var s in e)if(!(s in o))throw Error(ht(108,VF(r)||"Unknown",s));r=FC({},a,e)}t.legacyContext=r,Xo(n,t,i),t.legacyContext=a}else Xo(n,t,i)}function QW(n,t){if(n&&n.defaultProps){t=FC({},t),n=n.defaultProps;for(var e in n)t[e]===void 0&&(t[e]=n[e]);return t}return t}function HF(n,t,e,r,i){if(typeof e=="function")if(e.prototype&&e.prototype.isReactComponent){i=$W(e,t.legacyContext);var o=e.contextType;o=new e(r,typeof o=="object"&&o!==null?o._currentValue:i),UW(o,e,r,i),ZW(n,t,o,e)}else{o=$W(e,t.legacyContext),i=qW(n,t,e,r,o);var a=$S!==0;if(typeof i=="object"&&i!==null&&typeof i.render=="function"&&i.$$typeof===void 0)UW(i,e,r,o),ZW(n,t,i,e);else if(a){r=t.treeContext,t.treeContext=BF(r,1,0);try{Xo(n,t,i)}finally{t.treeContext=r}}else Xo(n,t,i)}else if(typeof e=="string"){switch(i=t.blockedSegment,o=kDe(i.chunks,e,r,n.responseState,i.formatContext),i.lastPushedText=!1,a=i.formatContext,i.formatContext=DDe(a,e,r),jF(n,t,o),i.formatContext=a,e){case"area":case"base":case"br":case"col":case"embed":case"hr":case"img":case"input":case"keygen":case"link":case"meta":case"param":case"source":case"track":case"wbr":break;default:i.chunks.push(GDe,gt(e),VDe)}i.lastPushedText=!1}else{switch(e){case NMe:case IMe:case Kq:case Yq:case zq:Xo(n,t,r.children);return;case Jq:Xo(n,t,r.children);return;case FMe:throw Error(ht(343));case Qq:e:{e=t.blockedBoundary,i=t.blockedSegment,o=r.fallback,r=r.children,a=new Set;var s={id:null,rootSegmentID:-1,parentFlushed:!1,pendingTasks:0,forceClientRender:!1,completedSegments:[],byteSize:0,fallbackAbortableTasks:a,errorDigest:null},l=Qb(n,i.chunks.length,s,i.formatContext,!1,!1);i.children.push(l),i.lastPushedText=!1;var u=Qb(n,0,null,i.formatContext,!1,!1);u.parentFlushed=!0,t.blockedBoundary=s,t.blockedSegment=u;try{if(jF(n,t,r),u.lastPushedText&&u.textEmbedded&&u.chunks.push(zG),u.status=1,eO(s,u),s.pendingTasks===0)break e}catch(c){u.status=4,s.forceClientRender=!0,s.errorDigest=WS(n,c)}finally{t.blockedBoundary=e,t.blockedSegment=i}t=ZG(n,o,e,l,a,t.legacyContext,t.context,t.treeContext),n.pingedTasks.push(t)}return}if(typeof e=="object"&&e!==null)switch(e.$$typeof){case Zq:if(r=qW(n,t,e.render,r,i),$S!==0){e=t.treeContext,t.treeContext=BF(e,1,0);try{Xo(n,t,r)}finally{t.treeContext=e}}else Xo(n,t,r);return;case eZ:e=e.type,r=QW(e,r),HF(n,t,e,r,i);return;case Xq:if(i=r.children,e=e._context,r=r.value,o=e._currentValue,e._currentValue=r,a=Oh,Oh=r={parent:a,depth:a===null?0:a.depth+1,context:e,parentValue:o,value:r},t.context=r,Xo(n,t,i),n=Oh,n===null)throw Error(ht(403));r=n.parentValue,n.context._currentValue=r===kMe?n.context._defaultValue:r,n=Oh=n.parent,t.context=n;return;case qq:r=r.children,r=r(e._currentValue),Xo(n,t,r);return;case KG:i=e._init,e=i(e._payload),r=QW(e,r),HF(n,t,e,r,void 0);return}throw Error(ht(130,e==null?e:typeof e,""))}}function Xo(n,t,e){if(t.node=e,typeof e=="object"&&e!==null){switch(e.$$typeof){case LMe:HF(n,t,e.type,e.props,e.ref);return;case Uq:throw Error(ht(257));case KG:var r=e._init;e=r(e._payload),Xo(n,t,e);return}if(GF(e)){JW(n,t,e);return}if(e===null||typeof e!="object"?r=null:(r=jW&&e[jW]||e["@@iterator"],r=typeof r=="function"?r:null),r&&(r=r.call(e))){if(e=r.next(),!e.done){var i=[];do i.push(e.value),e=r.next();while(!e.done);JW(n,t,i)}return}throw n=Object.prototype.toString.call(e),Error(ht(31,n==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":n))}typeof e=="string"?(r=t.blockedSegment,r.lastPushedText=IW(t.blockedSegment.chunks,e,n.responseState,r.lastPushedText)):typeof e=="number"&&(r=t.blockedSegment,r.lastPushedText=IW(t.blockedSegment.chunks,""+e,n.responseState,r.lastPushedText))}function JW(n,t,e){for(var r=e.length,i=0;i<r;i++){var o=t.treeContext;t.treeContext=BF(o,r,i);try{jF(n,t,e[i])}finally{t.treeContext=o}}}function jF(n,t,e){var r=t.blockedSegment.formatContext,i=t.legacyContext,o=t.context;try{return Xo(n,t,e)}catch(l){if(qG(),typeof l=="object"&&l!==null&&typeof l.then=="function"){e=l;var a=t.blockedSegment,s=Qb(n,a.chunks.length,null,a.formatContext,a.lastPushedText,!0);a.children.push(s),a.lastPushedText=!1,n=ZG(n,t.node,t.blockedBoundary,s,t.abortSet,t.legacyContext,t.context,t.treeContext).ping,e.then(n,n),t.blockedSegment.formatContext=r,t.legacyContext=i,t.context=o,qb(o)}else throw t.blockedSegment.formatContext=r,t.legacyContext=i,t.context=o,qb(o),l}}function YMe(n){var t=n.blockedBoundary;n=n.blockedSegment,n.status=3,lZ(this,t,n)}function sZ(n,t,e){var r=n.blockedBoundary;n.blockedSegment.status=3,r===null?(t.allPendingTasks--,t.status!==2&&(t.status=2,t.destination!==null&&t.destination.close())):(r.pendingTasks--,r.forceClientRender||(r.forceClientRender=!0,n=e===void 0?Error(ht(432)):e,r.errorDigest=t.onError(n),r.parentFlushed&&t.clientRenderedBoundaries.push(r)),r.fallbackAbortableTasks.forEach(function(i){return sZ(i,t,e)}),r.fallbackAbortableTasks.clear(),t.allPendingTasks--,t.allPendingTasks===0&&(r=t.onAllReady,r()))}function eO(n,t){if(t.chunks.length===0&&t.children.length===1&&t.children[0].boundary===null){var e=t.children[0];e.id=t.id,e.parentFlushed=!0,e.status===1&&eO(n,e)}else n.completedSegments.push(t)}function lZ(n,t,e){if(t===null){if(e.parentFlushed){if(n.completedRootSegment!==null)throw Error(ht(389));n.completedRootSegment=e}n.pendingRootTasks--,n.pendingRootTasks===0&&(n.onShellError=Um,t=n.onShellReady,t())}else t.pendingTasks--,t.forceClientRender||(t.pendingTasks===0?(e.parentFlushed&&e.status===1&&eO(t,e),t.parentFlushed&&n.completedBoundaries.push(t),t.fallbackAbortableTasks.forEach(YMe,n),t.fallbackAbortableTasks.clear()):e.parentFlushed&&e.status===1&&(eO(t,e),t.completedSegments.length===1&&t.parentFlushed&&n.partialBoundaries.push(t)));n.allPendingTasks--,n.allPendingTasks===0&&(n=n.onAllReady,n())}function uZ(n){if(n.status!==2){var t=Oh,e=RD.current;RD.current=XW;var r=cE;cE=n.responseState;try{var i=n.pingedTasks,o;for(o=0;o<i.length;o++){var a=i[o],s=n,l=a.blockedSegment;if(l.status===0){qb(a.context);try{Xo(s,a,a.node),l.lastPushedText&&l.textEmbedded&&l.chunks.push(zG),a.abortSet.delete(a),l.status=1,lZ(s,a.blockedBoundary,l)}catch(f){if(qG(),typeof f=="object"&&f!==null&&typeof f.then=="function"){var u=a.ping;f.then(u,u)}else{a.abortSet.delete(a),l.status=4;var c=a.blockedBoundary,d=f,p=WS(s,d);if(c===null?Jb(s,d):(c.pendingTasks--,c.forceClientRender||(c.forceClientRender=!0,c.errorDigest=p,c.parentFlushed&&s.clientRenderedBoundaries.push(c))),s.allPendingTasks--,s.allPendingTasks===0){var h=s.onAllReady;h()}}}finally{}}}i.splice(0,o),n.destination!==null&&QG(n,n.destination)}catch(f){WS(n,f),Jb(n,f)}finally{cE=r,RD.current=e,e===XW&&qb(t)}}}function F_(n,t,e){switch(e.parentFlushed=!0,e.status){case 0:var r=e.id=n.nextSegmentId++;return e.lastPushedText=!1,e.textEmbedded=!1,n=n.responseState,Ie(t,BDe),Ie(t,n.placeholderPrefix),n=gt(r.toString(16)),Ie(t,n),wr(t,HDe);case 1:e.status=2;var i=!0;r=e.chunks;var o=0;e=e.children;for(var a=0;a<e.length;a++){for(i=e[a];o<i.index;o++)Ie(t,r[o]);i=FT(n,t,i)}for(;o<r.length-1;o++)Ie(t,r[o]);return o<r.length&&(i=wr(t,r[o])),i;default:throw Error(ht(390))}}function FT(n,t,e){var r=e.boundary;if(r===null)return F_(n,t,e);if(r.parentFlushed=!0,r.forceClientRender)r=r.errorDigest,wr(t,UDe),Ie(t,KDe),r&&(Ie(t,XDe),Ie(t,gt(Jn(r))),Ie(t,YDe)),wr(t,qDe),F_(n,t,e);else if(0<r.pendingTasks){r.rootSegmentID=n.nextSegmentId++,0<r.completedSegments.length&&n.partialBoundaries.push(r);var i=n.responseState,o=i.nextSuspenseID++;i=Re(i.boundaryPrefix+o.toString(16)),r=r.id=i,HW(t,n.responseState,r),F_(n,t,e)}else if(r.byteSize>n.progressiveChunkSize)r.rootSegmentID=n.nextSegmentId++,n.completedBoundaries.push(r),HW(t,n.responseState,r.id),F_(n,t,e);else{if(wr(t,jDe),e=r.completedSegments,e.length!==1)throw Error(ht(391));FT(n,t,e[0])}return wr(t,zDe)}function eU(n,t,e){return mMe(t,n.responseState,e.formatContext,e.id),FT(n,t,e),CMe(t,e.formatContext)}function tU(n,t,e){for(var r=e.completedSegments,i=0;i<r.length;i++)cZ(n,t,e,r[i]);if(r.length=0,n=n.responseState,r=e.id,e=e.rootSegmentID,Ie(t,n.startInlineScript),n.sentCompleteBoundaryFunction?Ie(t,bMe):(n.sentCompleteBoundaryFunction=!0,Ie(t,EMe)),r===null)throw Error(ht(395));return e=gt(e.toString(16)),Ie(t,r),Ie(t,OMe),Ie(t,n.segmentPrefix),Ie(t,e),wr(t,RMe)}function cZ(n,t,e,r){if(r.status===2)return!0;var i=r.id;if(i===-1){if((r.id=e.rootSegmentID)===-1)throw Error(ht(392));return eU(n,t,r)}return eU(n,t,r),n=n.responseState,Ie(t,n.startInlineScript),n.sentCompleteSegmentFunction?Ie(t,wMe):(n.sentCompleteSegmentFunction=!0,Ie(t,SMe)),Ie(t,n.segmentPrefix),i=gt(i.toString(16)),Ie(t,i),Ie(t,_Me),Ie(t,n.placeholderPrefix),Ie(t,i),wr(t,xMe)}function QG(n,t){Ko=new Uint8Array(512),Yo=0;try{var e=n.completedRootSegment;if(e!==null&&n.pendingRootTasks===0){FT(n,t,e),n.completedRootSegment=null;var r=n.responseState.bootstrapChunks;for(e=0;e<r.length-1;e++)Ie(t,r[e]);e<r.length&&wr(t,r[e])}var i=n.clientRenderedBoundaries,o;for(o=0;o<i.length;o++){var a=i[o];r=t;var s=n.responseState,l=a.id,u=a.errorDigest,c=a.errorMessage,d=a.errorComponentStack;if(Ie(r,s.startInlineScript),s.sentClientRenderFunction?Ie(r,PMe):(s.sentClientRenderFunction=!0,Ie(r,TMe)),l===null)throw Error(ht(395));Ie(r,l),Ie(r,AMe),(u||c||d)&&(Ie(r,bD),Ie(r,gt(OD(u||"")))),(c||d)&&(Ie(r,bD),Ie(r,gt(OD(c||"")))),d&&(Ie(r,bD),Ie(r,gt(OD(d)))),wr(r,DMe)}i.splice(0,o);var p=n.completedBoundaries;for(o=0;o<p.length;o++)tU(n,t,p[o]);p.splice(0,o),DW(t),Ko=new Uint8Array(512),Yo=0;var h=n.partialBoundaries;for(o=0;o<h.length;o++){var f=h[o];e:{i=n,a=t;var v=f.completedSegments;for(s=0;s<v.length;s++)if(!cZ(i,a,f,v[s])){s++,v.splice(0,s);var g=!1;break e}v.splice(0,s),g=!0}if(!g){n.destination=null,o++,h.splice(0,o);return}}h.splice(0,o);var y=n.completedBoundaries;for(o=0;o<y.length;o++)tU(n,t,y[o]);y.splice(0,o)}finally{DW(t),n.allPendingTasks===0&&n.pingedTasks.length===0&&n.clientRenderedBoundaries.length===0&&n.completedBoundaries.length===0&&t.close()}}function rU(n,t){try{var e=n.abortableTasks;e.forEach(function(r){return sZ(r,n,t)}),e.clear(),n.destination!==null&&QG(n,n.destination)}catch(r){WS(n,r),Jb(n,r)}}$G.renderToReadableStream=function(n,t){return new Promise(function(e,r){var i,o,a=new Promise(function(c,d){o=c,i=d}),s=KMe(n,PDe(t?t.identifierPrefix:void 0,t?t.nonce:void 0,t?t.bootstrapScriptContent:void 0,t?t.bootstrapScripts:void 0,t?t.bootstrapModules:void 0),ADe(t?t.namespaceURI:void 0),t?t.progressiveChunkSize:void 0,t?t.onError:void 0,o,function(){var c=new ReadableStream({type:"bytes",pull:function(d){if(s.status===1)s.status=2,jq(d,s.fatalError);else if(s.status!==2&&s.destination===null){s.destination=d;try{QG(s,d)}catch(p){WS(s,p),Jb(s,p)}}},cancel:function(){rU(s)}},{highWaterMark:0});c.allReady=a,e(c)},function(c){a.catch(function(){}),r(c)},i);if(t&&t.signal){var l=t.signal,u=function(){rU(s,l.reason),l.removeEventListener("abort",u)};l.addEventListener("abort",u)}uZ(s)})};$G.version="18.2.0";var Zg,dZ;Zg=qg,dZ=$G;Cf.version=Zg.version;Cf.renderToString=Zg.renderToString;Cf.renderToStaticMarkup=Zg.renderToStaticMarkup;Cf.renderToNodeStream=Zg.renderToNodeStream;Cf.renderToStaticNodeStream=Zg.renderToStaticNodeStream;Cf.renderToReadableStream=dZ.renderToReadableStream;var tO=Y&&Y.__assign||function(){return tO=Object.assign||function(n){for(var t,e=1,r=arguments.length;e<r;e++){t=arguments[e];for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(n[i]=t[i])}return n},tO.apply(this,arguments)},XMe=Y&&Y.__importDefault||function(n){return n&&n.__esModule?n:{default:n}};Object.defineProperty(zw,"__esModule",{value:!0});zw.ReactComponent=void 0;var nU=F,um=Pn,iU=XMe(FG),qMe=uf,ZMe=Cf,QMe=function(){function n(t,e,r,i){var o=this;this.portal=null,this.oldPortal=null,this.reactComponent=t,this.portalManager=e,this.componentType=r,this.suppressFallbackMethods=!!i,this.statelessComponent=this.isStateless(this.reactComponent),this.key=iU.default(),this.portalKey=iU.default(),this.instanceCreated=this.isStatelessComponent()?um.AgPromise.resolve(!1):new um.AgPromise(function(a){o.resolveInstanceCreated=a})}return n.prototype.getGui=function(){return this.eParentElement},n.prototype.getRootElement=function(){var t=this.eParentElement.firstChild;return t},n.prototype.destroy=function(){return this.componentInstance&&typeof this.componentInstance.destroy=="function"&&this.componentInstance.destroy(),this.portalManager.destroyPortal(this.portal)},n.prototype.createParentElement=function(t){var e=this.portalManager.getComponentWrappingElement(),r=document.createElement(e||"div");return r.classList.add("ag-react-container"),t.reactContainer=r,r},n.prototype.addParentContainerStyleAndClasses=function(){var t=this;if(this.componentInstance&&(this.componentInstance.getReactContainerStyle&&this.componentInstance.getReactContainerStyle()&&(um._.warnOnce('Since v31.1 "getReactContainerStyle" is deprecated. Apply styling directly to ".ag-react-container" if needed.'),Object.assign(this.eParentElement.style,this.componentInstance.getReactContainerStyle())),this.componentInstance.getReactContainerClasses&&this.componentInstance.getReactContainerClasses())){um._.warnOnce('Since v31.1 "getReactContainerClasses" is deprecated. Apply styling directly to ".ag-react-container" if needed.');var e=this.componentInstance.getReactContainerClasses();e.forEach(function(r){return t.eParentElement.classList.add(r)})}},n.prototype.statelessComponentRendered=function(){return this.eParentElement.childElementCount>0||this.eParentElement.childNodes.length>0},n.prototype.getFrameworkComponentInstance=function(){return this.componentInstance},n.prototype.isStatelessComponent=function(){return this.statelessComponent},n.prototype.getReactComponentName=function(){return this.reactComponent.name},n.prototype.getMemoType=function(){return this.hasSymbol()?Symbol.for("react.memo"):60115},n.prototype.hasSymbol=function(){return typeof Symbol=="function"&&Symbol.for},n.prototype.isStateless=function(t){return typeof t=="function"&&!(t.prototype&&t.prototype.isReactComponent)||typeof t=="object"&&t.$$typeof===this.getMemoType()},n.prototype.hasMethod=function(t){var e=this.getFrameworkComponentInstance();return!!e&&e[t]!=null||this.fallbackMethodAvailable(t)},n.prototype.callMethod=function(t,e){var r=this,i=this.getFrameworkComponentInstance();if(this.isStatelessComponent())return this.fallbackMethod(t,e&&e[0]?e[0]:{});if(!i){setTimeout(function(){return r.callMethod(t,e)});return}var o=i[t];if(o)return o.apply(i,e);if(this.fallbackMethodAvailable(t))return this.fallbackMethod(t,e&&e[0]?e[0]:{})},n.prototype.addMethod=function(t,e){this[t]=e},n.prototype.init=function(t){var e=this;return this.eParentElement=this.createParentElement(t),this.params=t,this.createOrUpdatePortal(t),new um.AgPromise(function(r){return e.createReactComponent(r)})},n.prototype.createOrUpdatePortal=function(t){var e=this;this.isStatelessComponent()||(this.ref=function(r){var i;e.componentInstance=r,e.addParentContainerStyleAndClasses(),(i=e.resolveInstanceCreated)===null||i===void 0||i.call(e,!0),e.resolveInstanceCreated=void 0},t.ref=this.ref),this.reactElement=this.createElement(this.reactComponent,tO(tO({},t),{key:this.key})),this.portal=qMe.createPortal(this.reactElement,this.eParentElement,this.portalKey)},n.prototype.createElement=function(t,e){return nU.createElement(t,e)},n.prototype.createReactComponent=function(t){this.portalManager.mountReactPortal(this.portal,this,function(e){t(e)})},n.prototype.isNullValue=function(){return this.valueRenderedIsNull(this.params)},n.prototype.rendered=function(){return this.isStatelessComponent()&&this.statelessComponentRendered()||!!(!this.isStatelessComponent()&&this.getFrameworkComponentInstance())},n.prototype.valueRenderedIsNull=function(t){if(!this.componentType.cellRenderer)return!1;var e=console.error;try{console.error=function(){};var r=ZMe.renderToStaticMarkup(nU.createElement(this.reactComponent,t));return r===""}catch{}finally{console.error=e}return!1},n.prototype.refreshComponent=function(t){this.oldPortal=this.portal,this.createOrUpdatePortal(t),this.portalManager.updateReactPortal(this.oldPortal,this.portal)},n.prototype.fallbackMethod=function(t,e){var r=this[t+"Component"];if(!this.suppressFallbackMethods&&r)return r.bind(this)(e)},n.prototype.fallbackMethodAvailable=function(t){if(this.suppressFallbackMethods)return!1;var e=this[t+"Component"];return!!e},n}();zw.ReactComponent=QMe;var JMe=Y&&Y.__extends||function(){var n=function(t,e){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])},n(t,e)};return function(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");n(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}}(),rO=Y&&Y.__assign||function(){return rO=Object.assign||function(n){for(var t,e=1,r=arguments.length;e<r;e++){t=arguments[e];for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(n[i]=t[i])}return n},rO.apply(this,arguments)},eLe=Y&&Y.__importDefault||function(n){return n&&n.__esModule?n:{default:n}};Object.defineProperty(ki,"__esModule",{value:!0});ki.CustomComponentWrapper=ki.addOptionalMethods=void 0;var TD=Pn,tLe=eLe(LG),rLe=zw;function pZ(n,t,e){n.forEach(function(r){var i=t[r];i&&(e[r]=i)})}ki.addOptionalMethods=pZ;var nLe=function(n){JMe(t,n);function t(){var e=n!==null&&n.apply(this,arguments)||this;return e.awaitUpdateCallback=new TD.AgPromise(function(r){e.resolveUpdateCallback=r}),e.wrapperComponent=tLe.default,e}return t.prototype.init=function(e){return this.sourceParams=e,n.prototype.init.call(this,this.getProps())},t.prototype.addMethod=function(){},t.prototype.getInstance=function(){var e=this;return this.instanceCreated.then(function(){return e.componentInstance})},t.prototype.getFrameworkComponentInstance=function(){return this},t.prototype.createElement=function(e,r){var i=this;return n.prototype.createElement.call(this,this.wrapperComponent,{initialProps:r,CustomComponentClass:e,setMethods:function(o){return i.setMethods(o)},addUpdateCallback:function(o){i.updateCallback=function(){return o(i.getProps()),new TD.AgPromise(function(a){setTimeout(function(){a()})})},i.resolveUpdateCallback()}})},t.prototype.setMethods=function(e){this.providedMethods=e,pZ(this.getOptionalMethods(),this.providedMethods,this)},t.prototype.getOptionalMethods=function(){return[]},t.prototype.getProps=function(){return rO(rO({},this.sourceParams),{key:this.key,ref:this.ref})},t.prototype.refreshProps=function(){var e=this;return this.updateCallback?this.updateCallback():new TD.AgPromise(function(r){return e.awaitUpdateCallback.then(function(){e.updateCallback().then(function(){return r()})})})},t}(rLe.ReactComponent);ki.CustomComponentWrapper=nLe;var iLe=Y&&Y.__extends||function(){var n=function(t,e){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])},n(t,e)};return function(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");n(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}}();Object.defineProperty(TT,"__esModule",{value:!0});TT.DateComponentWrapper=void 0;var oLe=ki,aLe=function(n){iLe(t,n);function t(){var e=n!==null&&n.apply(this,arguments)||this;return e.date=null,e.onDateChange=function(r){return e.updateDate(r)},e}return t.prototype.getDate=function(){return this.date},t.prototype.setDate=function(e){this.date=e,this.refreshProps()},t.prototype.refresh=function(e){this.sourceParams=e,this.refreshProps()},t.prototype.getOptionalMethods=function(){return["afterGuiAttached","setInputPlaceholder","setInputAriaLabel","setDisabled"]},t.prototype.updateDate=function(e){this.setDate(e),this.sourceParams.onDateChanged()},t.prototype.getProps=function(){var e=n.prototype.getProps.call(this);return e.date=this.date,e.onDateChange=this.onDateChange,delete e.onDateChanged,e},t}(oLe.CustomComponentWrapper);TT.DateComponentWrapper=aLe;var IT={},sLe=Y&&Y.__extends||function(){var n=function(t,e){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])},n(t,e)};return function(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");n(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}}();Object.defineProperty(IT,"__esModule",{value:!0});IT.FilterComponentWrapper=void 0;var lLe=ki,uLe=function(n){sLe(t,n);function t(){var e=n!==null&&n.apply(this,arguments)||this;return e.model=null,e.onModelChange=function(r){return e.updateModel(r)},e.onUiChange=function(){return e.sourceParams.filterChangedCallback()},e}return t.prototype.isFilterActive=function(){return this.model!=null},t.prototype.doesFilterPass=function(e){return this.providedMethods.doesFilterPass(e)},t.prototype.getModel=function(){return this.model},t.prototype.setModel=function(e){return this.model=e,this.refreshProps()},t.prototype.refresh=function(e){return this.sourceParams=e,this.refreshProps(),!0},t.prototype.getOptionalMethods=function(){return["afterGuiAttached","afterGuiDetached","onNewRowsLoaded","getModelAsString","onAnyFilterChanged"]},t.prototype.updateModel=function(e){var r=this;this.setModel(e).then(function(){return r.sourceParams.filterChangedCallback()})},t.prototype.getProps=function(){var e=n.prototype.getProps.call(this);return e.model=this.model,e.onModelChange=this.onModelChange,e.onUiChange=this.onUiChange,delete e.filterChangedCallback,delete e.filterModifiedCallback,delete e.valueGetter,e},t}(lLe.CustomComponentWrapper);IT.FilterComponentWrapper=uLe;var NT={},nf={},nO=Y&&Y.__assign||function(){return nO=Object.assign||function(n){for(var t,e=1,r=arguments.length;e<r;e++){t=arguments[e];for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(n[i]=t[i])}return n},nO.apply(this,arguments)};Object.defineProperty(nf,"__esModule",{value:!0});nf.FloatingFilterComponentProxy=nf.updateFloatingFilterParent=void 0;var cLe=Pn,dLe=ki;function hZ(n,t){n.parentFilterInstance(function(e){(e.setModel(t)||cLe.AgPromise.resolve()).then(function(){n.filterParams.filterChangedCallback()})})}nf.updateFloatingFilterParent=hZ;var pLe=function(){function n(t,e){var r=this;this.floatingFilterParams=t,this.refreshProps=e,this.model=null,this.onModelChange=function(i){return r.updateModel(i)}}return n.prototype.getProps=function(){return nO(nO({},this.floatingFilterParams),{model:this.model,onModelChange:this.onModelChange})},n.prototype.onParentModelChanged=function(t){this.model=t,this.refreshProps()},n.prototype.refresh=function(t){this.floatingFilterParams=t,this.refreshProps()},n.prototype.setMethods=function(t){dLe.addOptionalMethods(this.getOptionalMethods(),t,this)},n.prototype.getOptionalMethods=function(){return["afterGuiAttached"]},n.prototype.updateModel=function(t){this.model=t,this.refreshProps(),hZ(this.floatingFilterParams,t)},n}();nf.FloatingFilterComponentProxy=pLe;var hLe=Y&&Y.__extends||function(){var n=function(t,e){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])},n(t,e)};return function(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");n(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}}();Object.defineProperty(NT,"__esModule",{value:!0});NT.FloatingFilterComponentWrapper=void 0;var fLe=ki,vLe=nf,gLe=function(n){hLe(t,n);function t(){var e=n!==null&&n.apply(this,arguments)||this;return e.model=null,e.onModelChange=function(r){return e.updateModel(r)},e}return t.prototype.onParentModelChanged=function(e){this.model=e,this.refreshProps()},t.prototype.refresh=function(e){this.sourceParams=e,this.refreshProps()},t.prototype.getOptionalMethods=function(){return["afterGuiAttached"]},t.prototype.updateModel=function(e){this.model=e,this.refreshProps(),vLe.updateFloatingFilterParent(this.sourceParams,e)},t.prototype.getProps=function(){var e=n.prototype.getProps.call(this);return e.model=this.model,e.onModelChange=this.onModelChange,e},t}(fLe.CustomComponentWrapper);NT.FloatingFilterComponentWrapper=gLe;var kT={},yLe=Y&&Y.__extends||function(){var n=function(t,e){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])},n(t,e)};return function(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");n(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}}();Object.defineProperty(kT,"__esModule",{value:!0});kT.LoadingOverlayComponentWrapper=void 0;var mLe=ki,CLe=function(n){yLe(t,n);function t(){return n!==null&&n.apply(this,arguments)||this}return t.prototype.refresh=function(e){this.sourceParams=e,this.refreshProps()},t}(mLe.CustomComponentWrapper);kT.LoadingOverlayComponentWrapper=CLe;var GT={},SLe=Y&&Y.__extends||function(){var n=function(t,e){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])},n(t,e)};return function(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");n(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}}();Object.defineProperty(GT,"__esModule",{value:!0});GT.MenuItemComponentWrapper=void 0;var wLe=ki,_Le=function(n){SLe(t,n);function t(){var e=n!==null&&n.apply(this,arguments)||this;return e.active=!1,e.expanded=!1,e.onActiveChange=function(r){return e.updateActive(r)},e}return t.prototype.setActive=function(e){this.awaitSetActive(e)},t.prototype.setExpanded=function(e){this.expanded=e,this.refreshProps()},t.prototype.getOptionalMethods=function(){return["select","configureDefaults"]},t.prototype.awaitSetActive=function(e){return this.active=e,this.refreshProps()},t.prototype.updateActive=function(e){var r=this,i=this.awaitSetActive(e);e&&i.then(function(){return r.sourceParams.onItemActivated()})},t.prototype.getProps=function(){var e=n.prototype.getProps.call(this);return e.active=this.active,e.expanded=this.expanded,e.onActiveChange=this.onActiveChange,delete e.onItemActivated,e},t}(wLe.CustomComponentWrapper);GT.MenuItemComponentWrapper=_Le;var VT={},xLe=Y&&Y.__extends||function(){var n=function(t,e){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])},n(t,e)};return function(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");n(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}}();Object.defineProperty(VT,"__esModule",{value:!0});VT.NoRowsOverlayComponentWrapper=void 0;var ELe=ki,bLe=function(n){xLe(t,n);function t(){return n!==null&&n.apply(this,arguments)||this}return t.prototype.refresh=function(e){this.sourceParams=e,this.refreshProps()},t}(ELe.CustomComponentWrapper);VT.NoRowsOverlayComponentWrapper=bLe;var BT={},OLe=Y&&Y.__extends||function(){var n=function(t,e){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])},n(t,e)};return function(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");n(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}}();Object.defineProperty(BT,"__esModule",{value:!0});BT.StatusPanelComponentWrapper=void 0;var RLe=ki,TLe=function(n){OLe(t,n);function t(){return n!==null&&n.apply(this,arguments)||this}return t.prototype.refresh=function(e){return this.sourceParams=e,this.refreshProps(),!0},t}(RLe.CustomComponentWrapper);BT.StatusPanelComponentWrapper=TLe;var HT={},PLe=Y&&Y.__extends||function(){var n=function(t,e){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])},n(t,e)};return function(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");n(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}}();Object.defineProperty(HT,"__esModule",{value:!0});HT.ToolPanelComponentWrapper=void 0;var ALe=ki,DLe=function(n){PLe(t,n);function t(){var e=n!==null&&n.apply(this,arguments)||this;return e.onStateChange=function(r){return e.updateState(r)},e}return t.prototype.refresh=function(e){return this.sourceParams=e,this.refreshProps(),!0},t.prototype.getState=function(){return this.state},t.prototype.updateState=function(e){this.state=e,this.refreshProps(),this.sourceParams.onStateUpdated()},t.prototype.getProps=function(){var e=n.prototype.getProps.call(this);return e.state=this.state,e.onStateChange=this.onStateChange,e},t}(ALe.CustomComponentWrapper);HT.ToolPanelComponentWrapper=DLe;var jT={},oU=Y&&Y.__spreadArray||function(n,t){for(var e=0,r=t.length,i=n.length;e<r;e++,i++)n[i]=t[e];return n};Object.defineProperty(jT,"__esModule",{value:!0});jT.PortalManager=void 0;var MLe=function(){function n(t,e,r){this.destroyed=!1,this.portals=[],this.hasPendingPortalUpdate=!1,this.wrappingElement=e||"div",this.refresher=t,this.maxComponentCreationTimeMs=r||n.MAX_COMPONENT_CREATION_TIME_IN_MS}return n.prototype.getPortals=function(){return this.portals},n.prototype.destroy=function(){this.destroyed=!0},n.prototype.destroyPortal=function(t){this.portals=this.portals.filter(function(e){return e!==t}),this.batchUpdate()},n.prototype.getComponentWrappingElement=function(){return this.wrappingElement},n.prototype.mountReactPortal=function(t,e,r){this.portals=oU(oU([],this.portals),[t]),this.waitForInstance(e,r),this.batchUpdate()},n.prototype.updateReactPortal=function(t,e){this.portals[this.portals.indexOf(t)]=e,this.batchUpdate()},n.prototype.batchUpdate=function(){var t=this;this.hasPendingPortalUpdate||(setTimeout(function(){t.destroyed||(t.refresher(),t.hasPendingPortalUpdate=!1)}),this.hasPendingPortalUpdate=!0)},n.prototype.waitForInstance=function(t,e,r){var i=this;if(r===void 0&&(r=Date.now()),this.destroyed){e(null);return}if(t.rendered())e(t);else{if(Date.now()-r>=this.maxComponentCreationTimeMs&&!this.hasPendingPortalUpdate){if(t.isNullValue()){e(t);return}console.error("AG Grid: React Component '"+t.getReactComponentName()+"' not created within "+this.maxComponentCreationTimeMs+"ms."),console.error("    If the component is using `forwardRef` but not `useImperativeHandle`, add the following: `useImperativeHandle(ref, () => ({}));`");return}window.setTimeout(function(){i.waitForInstance(t,e,r)})}},n.MAX_COMPONENT_CREATION_TIME_IN_MS=1e3,n}();jT.PortalManager=MLe;var Hn={},LLe=Y&&Y.__importDefault||function(n){return n&&n.__esModule?n:{default:n}};Object.defineProperty(Hn,"__esModule",{value:!0});Hn.BeansContext=void 0;var FLe=LLe(F);Hn.BeansContext=FLe.default.createContext({});var _r={},$F=Y&&Y.__assign||function(){return $F=Object.assign||function(n){for(var t,e=1,r=arguments.length;e<r;e++){t=arguments[e];for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(n[i]=t[i])}return n},$F.apply(this,arguments)},aU=Y&&Y.__spreadArray||function(n,t){for(var e=0,r=t.length,i=n.length;e<r;e++,i++)n[i]=t[e];return n},ILe=Y&&Y.__importDefault||function(n){return n&&n.__esModule?n:{default:n}};Object.defineProperty(_r,"__esModule",{value:!0});_r.getNextValueIfDifferent=_r.agFlushSync=_r.runWithoutFlushSync=_r.isComponentStateless=_r.CssClasses=_r.classesList=void 0;var WF=ILe(uf),NLe=function(){for(var n=[],t=0;t<arguments.length;t++)n[t]=arguments[t];var e=n.filter(function(r){return r!=null&&r!==""});return e.join(" ")};_r.classesList=NLe;var kLe=function(){function n(){for(var t=this,e=[],r=0;r<arguments.length;r++)e[r]=arguments[r];this.classesMap={},e.forEach(function(i){t.classesMap[i]=!0})}return n.prototype.setClass=function(t,e){var r=!!this.classesMap[t]==e;if(r)return this;var i=new n;return i.classesMap=$F({},this.classesMap),i.classesMap[t]=e,i},n.prototype.toString=function(){var t=this,e=Object.keys(this.classesMap).filter(function(r){return t.classesMap[r]}).join(" ");return e},n}();_r.CssClasses=kLe;var GLe=function(n){var t=function(){return typeof Symbol=="function"&&Symbol.for},e=function(){return t()?Symbol.for("react.memo"):60115};return typeof n=="function"&&!(n.prototype&&n.prototype.isReactComponent)||typeof n=="object"&&n.$$typeof===e()};_r.isComponentStateless=GLe;var VLe=WF.default.createRoot!=null&&WF.default.flushSync!=null,dE=!1;function BLe(n){return dE||setTimeout(function(){return dE=!1},0),dE=!0,n()}_r.runWithoutFlushSync=BLe;var HLe=function(n,t){VLe&&n&&!dE?WF.default.flushSync(t):t()};_r.agFlushSync=HLe;function jLe(n,t,e){if(t==null||n==null)return t;if(n===t||t.length===0&&n.length===0)return n;if(e||n.length===0&&t.length>0||n.length>0&&t.length===0)return t;for(var r=[],i=[],o=new Map,a=new Map,s=0;s<t.length;s++){var l=t[s];a.set(l.getInstanceId(),l)}for(var s=0;s<n.length;s++){var l=n[s];o.set(l.getInstanceId(),l),a.has(l.getInstanceId())&&r.push(l)}for(var s=0;s<t.length;s++){var l=t[s],u=l.getInstanceId();o.has(u)||i.push(l)}return r.length===n.length&&i.length===0?n:r.length===0&&i.length===t.length?t:aU(aU([],r),i)}_r.getNextValueIfDifferent=jLe;var JG={},Vs={};Object.defineProperty(Vs,"__esModule",{value:!0});Vs.createSyncJsComp=Vs.showJsComp=void 0;var $Le=function(n,t,e,r){var i=!n||n.componentFromFramework||t.isDestroyed();if(!i){var o=n.newAgStackInstance();if(o){var a,s,l=!1;return o.then(function(u){if(l){t.destroyBean(u);return}a=u,s=a.getGui(),e.appendChild(s),sU(r,a)}),function(){l=!0,a&&(s&&s.parentElement&&s.parentElement.removeChild(s),t.destroyBean(a),r&&sU(r,void 0))}}}};Vs.showJsComp=$Le;var sU=function(n,t){if(n)if(n instanceof Function){var e=n;e(t)}else{var r=n;r.current=t}},WLe=function(n){var t=n.newAgStackInstance();if(t)return t.resolveNow(null,function(e){return e})};Vs.createSyncJsComp=WLe;var iO=Y&&Y.__assign||function(){return iO=Object.assign||function(n){for(var t,e=1,r=arguments.length;e<r;e++){t=arguments[e];for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(n[i]=t[i])}return n},iO.apply(this,arguments)},ULe=Y&&Y.__createBinding||(Object.create?function(n,t,e,r){r===void 0&&(r=e),Object.defineProperty(n,r,{enumerable:!0,get:function(){return t[e]}})}:function(n,t,e,r){r===void 0&&(r=e),n[r]=t[e]}),zLe=Y&&Y.__setModuleDefault||(Object.create?function(n,t){Object.defineProperty(n,"default",{enumerable:!0,value:t})}:function(n,t){n.default=t}),KLe=Y&&Y.__importStar||function(n){if(n&&n.__esModule)return n;var t={};if(n!=null)for(var e in n)e!=="default"&&Object.prototype.hasOwnProperty.call(n,e)&&ULe(t,n,e);return zLe(t,n),t};Object.defineProperty(JG,"__esModule",{value:!0});var lU=Pn,Bt=KLe(F),YLe=Hn,XLe=Vs,I_=_r,fZ=Bt.forwardRef(function(n,t){var e,r=Bt.useContext(YLe.BeansContext).context,i=Bt.useRef(null),o=Bt.useRef(null),a=Bt.useRef(null),s=Bt.useRef(null),l=Bt.useRef(null),u=Bt.useRef(),c=Bt.useState(),d=c[0],p=c[1],h=Bt.useState(),f=h[0],v=h[1],g=Bt.useState(),y=g[0],m=g[1],C=Bt.useState(function(){return new I_.CssClasses}),S=C[0],w=C[1],_=Bt.useState(function(){return new I_.CssClasses("ag-hidden")}),x=_[0],b=_[1],O=Bt.useState(function(){return new I_.CssClasses("ag-hidden")}),P=O[0],D=O[1],N=Bt.useState(function(){return new I_.CssClasses("ag-invisible")}),L=N[0],I=N[1];Bt.useImperativeHandle(t,function(){return{refresh:function(){return!1}}}),Bt.useLayoutEffect(function(){return XLe.showJsComp(d,r,o.current)},[d]);var k=Bt.useCallback(function(ue){if(i.current=ue,!i.current){r.destroyBean(u.current),u.current=null;return}var se={setInnerRenderer:function(q,he){p(q),m(he)},setChildCount:function(q){return v(q)},addOrRemoveCssClass:function(q,he){return w(function(be){return be.setClass(q,he)})},setContractedDisplayed:function(q){return D(function(he){return he.setClass("ag-hidden",!q)})},setExpandedDisplayed:function(q){return b(function(he){return he.setClass("ag-hidden",!q)})},setCheckboxVisible:function(q){return I(function(he){return he.setClass("ag-invisible",!q)})}};u.current=r.createBean(new lU.GroupCellRendererCtrl),u.current.init(se,i.current,a.current,s.current,l.current,fZ,n)},[]),H=Bt.useMemo(function(){return"ag-cell-wrapper "+S.toString()},[S]),$=Bt.useMemo(function(){return"ag-group-expanded "+x.toString()},[x]),V=Bt.useMemo(function(){return"ag-group-contracted "+P.toString()},[P]),W=Bt.useMemo(function(){return"ag-group-checkbox "+L.toString()},[L]),K=d&&d.componentFromFramework,Z=K?d.componentClass:void 0,Q=d==null&&y!=null,ce=lU._.escapeString(y,!0);return Bt.default.createElement("span",iO({className:H,ref:k},n.colDef?{}:{role:(e=u.current)===null||e===void 0?void 0:e.getCellAriaRole()}),Bt.default.createElement("span",{className:$,ref:s}),Bt.default.createElement("span",{className:V,ref:l}),Bt.default.createElement("span",{className:W,ref:a}),Bt.default.createElement("span",{className:"ag-group-value",ref:o},Q&&Bt.default.createElement(Bt.default.Fragment,null,ce),K&&Bt.default.createElement(Z,iO({},d.params))),Bt.default.createElement("span",{className:"ag-group-child-count"},f))});JG.default=fZ;var eV={},tV={},rV={},nV={},iV={},oV={},oO=Y&&Y.__assign||function(){return oO=Object.assign||function(n){for(var t,e=1,r=arguments.length;e<r;e++){t=arguments[e];for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(n[i]=t[i])}return n},oO.apply(this,arguments)},qLe=Y&&Y.__createBinding||(Object.create?function(n,t,e,r){r===void 0&&(r=e),Object.defineProperty(n,r,{enumerable:!0,get:function(){return t[e]}})}:function(n,t,e,r){r===void 0&&(r=e),n[r]=t[e]}),ZLe=Y&&Y.__setModuleDefault||(Object.create?function(n,t){Object.defineProperty(n,"default",{enumerable:!0,value:t})}:function(n,t){n.default=t}),QLe=Y&&Y.__importStar||function(n){if(n&&n.__esModule)return n;var t={};if(n!=null)for(var e in n)e!=="default"&&Object.prototype.hasOwnProperty.call(n,e)&&qLe(t,n,e);return ZLe(t,n),t};Object.defineProperty(oV,"__esModule",{value:!0});var Kn=QLe(F),JLe=Hn,PD=Pn,eFe=_r,tFe=Vs,rFe=function(n){var t=n.ctrl,e=t.isAlive(),r=Kn.useContext(JLe.BeansContext).context,i=e?t.getColId():void 0,o=Kn.useState(),a=o[0],s=o[1],l=Kn.useRef(null),u=Kn.useRef(null),c=Kn.useRef(null),d=Kn.useRef(),p=Kn.useRef();e&&!p.current&&(p.current=new PD.CssClassManager(function(){return l.current}));var h=Kn.useCallback(function(y){var m;if(l.current=y,!(!l.current||!e)){var C={setWidth:function(w){l.current&&(l.current.style.width=w)},addOrRemoveCssClass:function(w,_){return p.current.addOrRemoveCssClass(w,_)},setAriaSort:function(w){l.current&&(w?PD._.setAriaSort(l.current,w):PD._.removeAriaSort(l.current))},setUserCompDetails:function(w){return s(w)},getUserCompInstance:function(){return d.current||void 0}};t.setComp(C,l.current,u.current,c.current);var S=t.getSelectAllGui();(m=u.current)===null||m===void 0||m.insertAdjacentElement("afterend",S)}},[]);Kn.useLayoutEffect(function(){return tFe.showJsComp(a,r,c.current,d)},[a]),Kn.useEffect(function(){t.setDragSource(l.current)},[a]);var f=Kn.useMemo(function(){var y=(a==null?void 0:a.componentFromFramework)&&eFe.isComponentStateless(a.componentClass);return!!y},[a]),v=a&&a.componentFromFramework,g=a&&a.componentClass;return Kn.default.createElement("div",{ref:h,className:"ag-header-cell","col-id":i,role:"columnheader"},Kn.default.createElement("div",{ref:u,className:"ag-header-cell-resize",role:"presentation"}),Kn.default.createElement("div",{ref:c,className:"ag-header-cell-comp-wrapper",role:"presentation"},v&&f&&Kn.default.createElement(g,oO({},a.params)),v&&!f&&Kn.default.createElement(g,oO({},a.params,{ref:d}))))};oV.default=Kn.memo(rFe);var aV={},aO=Y&&Y.__assign||function(){return aO=Object.assign||function(n){for(var t,e=1,r=arguments.length;e<r;e++){t=arguments[e];for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(n[i]=t[i])}return n},aO.apply(this,arguments)},nFe=Y&&Y.__createBinding||(Object.create?function(n,t,e,r){r===void 0&&(r=e),Object.defineProperty(n,r,{enumerable:!0,get:function(){return t[e]}})}:function(n,t,e,r){r===void 0&&(r=e),n[r]=t[e]}),iFe=Y&&Y.__setModuleDefault||(Object.create?function(n,t){Object.defineProperty(n,"default",{enumerable:!0,value:t})}:function(n,t){n.default=t}),oFe=Y&&Y.__importStar||function(n){if(n&&n.__esModule)return n;var t={};if(n!=null)for(var e in n)e!=="default"&&Object.prototype.hasOwnProperty.call(n,e)&&nFe(t,n,e);return iFe(t,n),t};Object.defineProperty(aV,"__esModule",{value:!0});var Ur=oFe(F),aFe=Hn,sFe=Vs,AD=_r,lFe=function(n){var t=Ur.useContext(aFe.BeansContext).context,e=n.ctrl,r=Ur.useState(function(){return new AD.CssClasses}),i=r[0],o=r[1],a=Ur.useState(function(){return new AD.CssClasses}),s=a[0],l=a[1],u=Ur.useState("false"),c=u[0],d=u[1],p=Ur.useState(),h=p[0],f=p[1],v=Ur.useState(),g=v[0],y=v[1],m=Ur.useMemo(function(){return e.getColId()},[]),C=Ur.useRef(null),S=Ur.useRef(null),w=Ur.useRef(),_=Ur.useCallback(function(N){if(C.current=N,!!C.current){var L={setWidth:function(I){C.current&&(C.current.style.width=I)},addOrRemoveCssClass:function(I,k){return o(function(H){return H.setClass(I,k)})},setUserCompDetails:function(I){return y(I)},setResizableDisplayed:function(I){l(function(k){return k.setClass("ag-hidden",!I)}),d(I?"false":"true")},setAriaExpanded:function(I){return f(I)},getUserCompInstance:function(){return w.current||void 0}};e.setComp(L,C.current,S.current)}},[]);Ur.useLayoutEffect(function(){return sFe.showJsComp(g,t,C.current)},[g]),Ur.useEffect(function(){C.current&&e.setDragSource(C.current)},[g]);var x=Ur.useMemo(function(){var N=(g==null?void 0:g.componentFromFramework)&&AD.isComponentStateless(g.componentClass);return!!N},[g]),b=Ur.useMemo(function(){return"ag-header-group-cell "+i.toString()},[i]),O=Ur.useMemo(function(){return"ag-header-cell-resize "+s.toString()},[s]),P=g&&g.componentFromFramework,D=g&&g.componentClass;return Ur.default.createElement("div",{ref:_,className:b,"col-id":m,role:"columnheader","aria-expanded":h},P&&x&&Ur.default.createElement(D,aO({},g.params)),P&&!x&&Ur.default.createElement(D,aO({},g.params,{ref:w})),Ur.default.createElement("div",{ref:S,"aria-hidden":c,className:O}))};aV.default=Ur.memo(lFe);var sV={},uc={};Object.defineProperty(uc,"__esModule",{value:!0});uc.warnReactiveCustomComponents=uc.getInstance=void 0;var vZ=Pn;function uFe(n,t){var e,r,i,o=(i=(r=(e=n)===null||e===void 0?void 0:e.getInstance)===null||r===void 0?void 0:r.call(e))!==null&&i!==void 0?i:vZ.AgPromise.resolve(void 0);o.then(function(a){return t(a)})}uc.getInstance=uFe;function cFe(){vZ._.warnOnce("Using custom components without `reactiveCustomComponents = true` is deprecated.")}uc.warnReactiveCustomComponents=cFe;var sO=Y&&Y.__assign||function(){return sO=Object.assign||function(n){for(var t,e=1,r=arguments.length;e<r;e++){t=arguments[e];for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(n[i]=t[i])}return n},sO.apply(this,arguments)},dFe=Y&&Y.__createBinding||(Object.create?function(n,t,e,r){r===void 0&&(r=e),Object.defineProperty(n,r,{enumerable:!0,get:function(){return t[e]}})}:function(n,t,e,r){r===void 0&&(r=e),n[r]=t[e]}),pFe=Y&&Y.__setModuleDefault||(Object.create?function(n,t){Object.defineProperty(n,"default",{enumerable:!0,value:t})}:function(n,t){n.default=t}),hFe=Y&&Y.__importStar||function(n){if(n&&n.__esModule)return n;var t={};if(n!=null)for(var e in n)e!=="default"&&Object.prototype.hasOwnProperty.call(n,e)&&dFe(t,n,e);return pFe(t,n),t};Object.defineProperty(sV,"__esModule",{value:!0});var Xt=hFe(F),fFe=Hn,vFe=Pn,N_=_r,gFe=Vs,yFe=nf,mFe=mf,CFe=uc,SFe=function(n){var t=Xt.useContext(fFe.BeansContext),e=t.context,r=t.gridOptionsService,i=Xt.useState(function(){return new N_.CssClasses("ag-header-cell","ag-floating-filter")}),o=i[0],a=i[1],s=Xt.useState(function(){return new N_.CssClasses}),l=s[0],u=s[1],c=Xt.useState(function(){return new N_.CssClasses("ag-floating-filter-button","ag-hidden")}),d=c[0],p=c[1],h=Xt.useState("false"),f=h[0],v=h[1],g=Xt.useState(),y=g[0],m=g[1],C=Xt.useState(1);C[0];var S=C[1],w=Xt.useRef(null),_=Xt.useRef(null),x=Xt.useRef(null),b=Xt.useRef(null),O=Xt.useRef(),P=Xt.useRef(),D=function(ce){ce!=null&&O.current&&O.current(ce)},N=n.ctrl,L=Xt.useCallback(function(ce){if(w.current=ce,!!w.current){P.current=new vFe.AgPromise(function(se){O.current=se});var ue={addOrRemoveCssClass:function(se,q){return a(function(he){return he.setClass(se,q)})},addOrRemoveBodyCssClass:function(se,q){return u(function(he){return he.setClass(se,q)})},setButtonWrapperDisplayed:function(se){p(function(q){return q.setClass("ag-hidden",!se)}),v(se?"false":"true")},setWidth:function(se){w.current&&(w.current.style.width=se)},setCompDetails:function(se){return m(se)},getFloatingFilterComp:function(){return P.current?P.current:null},setMenuIcon:function(se){var q;return(q=b.current)===null||q===void 0?void 0:q.appendChild(se)}};N.setComp(ue,w.current,b.current,_.current)}},[]);Xt.useLayoutEffect(function(){return gFe.showJsComp(y,e,_.current,D)},[y]);var I=Xt.useMemo(function(){return o.toString()},[o]),k=Xt.useMemo(function(){return l.toString()},[l]),H=Xt.useMemo(function(){return d.toString()},[d]),$=Xt.useMemo(function(){var ce=y&&y.componentFromFramework&&N_.isComponentStateless(y.componentClass);return!!ce},[y]),V=Xt.useMemo(function(){return r.get("reactiveCustomComponents")},[]),W=Xt.useMemo(function(){if(y)if(V){var ce=new yFe.FloatingFilterComponentProxy(y.params,function(){return S(function(ue){return ue+1})});return D(ce),ce}else y.componentFromFramework&&CFe.warnReactiveCustomComponents()},[y]),K=W==null?void 0:W.getProps(),Z=y&&y.componentFromFramework,Q=y&&y.componentClass;return Xt.default.createElement("div",{ref:L,className:I,role:"gridcell"},Xt.default.createElement("div",{ref:_,className:k,role:"presentation"},Z&&!V&&Xt.default.createElement(Q,sO({},y.params,{ref:$?function(){}:D})),Z&&V&&Xt.default.createElement(mFe.CustomContext.Provider,{value:{setMethods:function(ce){return W.setMethods(ce)}}},Xt.default.createElement(Q,sO({},K)))),Xt.default.createElement("div",{ref:x,"aria-hidden":f,className:H,role:"presentation"},Xt.default.createElement("button",{ref:b,type:"button",className:"ag-button ag-floating-filter-button-button",tabIndex:-1})))};sV.default=Xt.memo(SFe);var wFe=Y&&Y.__createBinding||(Object.create?function(n,t,e,r){r===void 0&&(r=e),Object.defineProperty(n,r,{enumerable:!0,get:function(){return t[e]}})}:function(n,t,e,r){r===void 0&&(r=e),n[r]=t[e]}),_Fe=Y&&Y.__setModuleDefault||(Object.create?function(n,t){Object.defineProperty(n,"default",{enumerable:!0,value:t})}:function(n,t){n.default=t}),xFe=Y&&Y.__importStar||function(n){if(n&&n.__esModule)return n;var t={};if(n!=null)for(var e in n)e!=="default"&&Object.prototype.hasOwnProperty.call(n,e)&&wFe(t,n,e);return _Fe(t,n),t},lV=Y&&Y.__importDefault||function(n){return n&&n.__esModule?n:{default:n}};Object.defineProperty(iV,"__esModule",{value:!0});var uU=Pn,Ho=xFe(F),EFe=lV(oV),bFe=lV(aV),OFe=lV(sV),cU=_r,RFe=function(n){var t=n.ctrl,e=Ho.useMemo(function(){return t.getTopAndHeight()},[]),r=e.topOffset,i=e.rowHeight,o=t.getAriaRowIndex(),a=t.getHeaderRowClass(),s=Ho.useState(function(){return i+"px"}),l=s[0],u=s[1],c=Ho.useState(function(){return r+"px"}),d=c[0],p=c[1],h=Ho.useState(function(){return t.getHeaderCtrls()}),f=h[0],v=h[1],g=Ho.useRef(null),y=Ho.useCallback(function(S){if(g.current=S,!!S){var w={setHeight:function(_){return u(_)},setTop:function(_){return p(_)},setHeaderCtrls:function(_,x,b){cU.agFlushSync(b,function(){v(function(O){return cU.getNextValueIfDifferent(O,_,x)})})},setWidth:function(_){g.current&&(g.current.style.width=_)}};t.setComp(w,!1)}},[]),m=Ho.useMemo(function(){return{height:l,top:d}},[l,d]),C=Ho.useCallback(function(S){switch(t.getType()){case uU.HeaderRowType.COLUMN_GROUP:return Ho.default.createElement(bFe.default,{ctrl:S,key:S.getInstanceId()});case uU.HeaderRowType.FLOATING_FILTER:return Ho.default.createElement(OFe.default,{ctrl:S,key:S.getInstanceId()});default:return Ho.default.createElement(EFe.default,{ctrl:S,key:S.getInstanceId()})}},[]);return Ho.default.createElement("div",{ref:y,className:a,role:"row",style:m,"aria-rowindex":o},f.map(C))};iV.default=Ho.memo(RFe);var TFe=Y&&Y.__createBinding||(Object.create?function(n,t,e,r){r===void 0&&(r=e),Object.defineProperty(n,r,{enumerable:!0,get:function(){return t[e]}})}:function(n,t,e,r){r===void 0&&(r=e),n[r]=t[e]}),PFe=Y&&Y.__setModuleDefault||(Object.create?function(n,t){Object.defineProperty(n,"default",{enumerable:!0,value:t})}:function(n,t){n.default=t}),AFe=Y&&Y.__importStar||function(n){if(n&&n.__esModule)return n;var t={};if(n!=null)for(var e in n)e!=="default"&&Object.prototype.hasOwnProperty.call(n,e)&&TFe(t,n,e);return PFe(t,n),t},DFe=Y&&Y.__importDefault||function(n){return n&&n.__esModule?n:{default:n}};Object.defineProperty(nV,"__esModule",{value:!0});var bi=AFe(F),MFe=Hn,LFe=Pn,FFe=DFe(iV),IFe=function(n){var t=bi.useState(!0),e=t[0],r=t[1],i=bi.useState([]),o=i[0],a=i[1],s=bi.useContext(MFe.BeansContext).context,l=bi.useRef(null),u=bi.useRef(null),c=bi.useRef(null),d=n.pinned==="left",p=n.pinned==="right",h=!d&&!p,f=bi.useCallback(function(y){if(l.current=y,!l.current){s.destroyBean(c.current),c.current=null;return}var m={setDisplayed:r,setCtrls:function(C){return a(C)},setCenterWidth:function(C){u.current&&(u.current.style.width=C)},setViewportScrollLeft:function(C){l.current&&(l.current.scrollLeft=C)},setPinnedContainerWidth:function(C){l.current&&(l.current.style.width=C,l.current.style.minWidth=C,l.current.style.maxWidth=C)}};c.current=s.createBean(new LFe.HeaderRowContainerCtrl(n.pinned)),c.current.setComp(m,l.current)},[]),v=e?"":"ag-hidden",g=function(){return o.map(function(y){return bi.default.createElement(FFe.default,{ctrl:y,key:y.getInstanceId()})})};return bi.default.createElement(bi.default.Fragment,null,d&&bi.default.createElement("div",{ref:f,className:"ag-pinned-left-header "+v,"aria-hidden":!e,role:"rowgroup"},g()),p&&bi.default.createElement("div",{ref:f,className:"ag-pinned-right-header "+v,"aria-hidden":!e,role:"rowgroup"},g()),h&&bi.default.createElement("div",{ref:f,className:"ag-header-viewport "+v,role:"presentation"},bi.default.createElement("div",{ref:u,className:"ag-header-container",role:"rowgroup"},g())))};nV.default=bi.memo(IFe);var NFe=Y&&Y.__createBinding||(Object.create?function(n,t,e,r){r===void 0&&(r=e),Object.defineProperty(n,r,{enumerable:!0,get:function(){return t[e]}})}:function(n,t,e,r){r===void 0&&(r=e),n[r]=t[e]}),kFe=Y&&Y.__setModuleDefault||(Object.create?function(n,t){Object.defineProperty(n,"default",{enumerable:!0,value:t})}:function(n,t){n.default=t}),GFe=Y&&Y.__importStar||function(n){if(n&&n.__esModule)return n;var t={};if(n!=null)for(var e in n)e!=="default"&&Object.prototype.hasOwnProperty.call(n,e)&&NFe(t,n,e);return kFe(t,n),t},VFe=Y&&Y.__importDefault||function(n){return n&&n.__esModule?n:{default:n}};Object.defineProperty(rV,"__esModule",{value:!0});var jo=GFe(F),BFe=Hn,HFe=Pn,jFe=_r,DD=VFe(nV),$Fe=function(){var n=jo.useState(function(){return new jFe.CssClasses}),t=n[0],e=n[1],r=jo.useState(),i=r[0],o=r[1],a=jo.useContext(BFe.BeansContext).context,s=jo.useRef(null),l=jo.useRef(null),u=jo.useCallback(function(p){if(s.current=p,!p){a.destroyBean(l.current),l.current=null;return}var h={addOrRemoveCssClass:function(f,v){return e(function(g){return g.setClass(f,v)})},setHeightAndMinHeight:function(f){return o(f)}};l.current=a.createBean(new HFe.GridHeaderCtrl),l.current.setComp(h,s.current,s.current)},[]),c=jo.useMemo(function(){var p=t.toString();return"ag-header "+p},[t]),d=jo.useMemo(function(){return{height:i,minHeight:i}},[i]);return jo.default.createElement("div",{ref:u,className:c,style:d,role:"presentation"},jo.default.createElement(DD.default,{pinned:"left"}),jo.default.createElement(DD.default,{pinned:null}),jo.default.createElement(DD.default,{pinned:"right"}))};rV.default=jo.memo($Fe);var Kw={};Object.defineProperty(Kw,"__esModule",{value:!0});var WFe=F,UFe=function(n,t){WFe.useEffect(function(){var e=t.current;if(e){var r=e.parentElement;if(r){var i=document.createComment(n);return r.insertBefore(i,e),function(){r.removeChild(i)}}}},[n])};Kw.default=UFe;var uV={},cV={},gZ={},dV={},$T={};Object.defineProperty($T,"__esModule",{value:!0});$T.useEffectOnce=void 0;var zf=F,zFe=function(n){var t=zf.useRef(n),e=zf.useRef(),r=zf.useRef(!1),i=zf.useRef(!1),o=zf.useState(0),a=o[1];r.current&&(i.current=!0),zf.useEffect(function(){return r.current||(e.current=t.current(),r.current=!0),a(function(s){return s+1}),function(){i.current&&e.current&&e.current()}},[])};$T.useEffectOnce=zFe;var KFe=Y&&Y.__createBinding||(Object.create?function(n,t,e,r){r===void 0&&(r=e),Object.defineProperty(n,r,{enumerable:!0,get:function(){return t[e]}})}:function(n,t,e,r){r===void 0&&(r=e),n[r]=t[e]}),YFe=Y&&Y.__setModuleDefault||(Object.create?function(n,t){Object.defineProperty(n,"default",{enumerable:!0,value:t})}:function(n,t){n.default=t}),XFe=Y&&Y.__importStar||function(n){if(n&&n.__esModule)return n;var t={};if(n!=null)for(var e in n)e!=="default"&&Object.prototype.hasOwnProperty.call(n,e)&&KFe(t,n,e);return YFe(t,n),t};Object.defineProperty(dV,"__esModule",{value:!0});var qFe=Pn,zm=XFe(F),ZFe=uf,QFe=Hn,JFe=$T,eIe=function(n){var t=zm.useState(),e=t[0],r=t[1],i=zm.useContext(QFe.BeansContext),o=i.context,a=i.popupService,s=i.localeService,l=i.gridOptionsService;return JFe.useEffectOnce(function(){var u=n.editDetails,c=n.cellCtrl,d=n.eParentCell,p=u.compDetails,h=l.get("stopEditingWhenCellsLoseFocus"),f=o.createBean(new qFe.PopupEditorWrapper(p.params)),v=f.getGui();if(n.jsChildComp){var g=n.jsChildComp.getGui();g&&v.appendChild(g)}var y={column:c.getColumn(),rowNode:c.getRowNode(),type:"popupCellEditor",eventSource:d,ePopup:v,position:u.popupPosition,keepWithinBounds:!0},m=a.positionPopupByComponent.bind(a,y),C=s.getLocaleTextFunc(),S=a.addPopup({modal:h,eChild:v,closeOnEsc:!0,closedCallback:function(){c.onPopupEditorClosed()},anchorToElement:d,positionCallback:m,ariaLabel:C("ariaLabelCellEditor","Cell Editor")}),w=S?S.hideFunc:void 0;return r(f),n.jsChildComp&&n.jsChildComp.afterGuiAttached&&n.jsChildComp.afterGuiAttached(),function(){w!=null&&w(),o.destroyBean(f)}}),zm.default.createElement(zm.default.Fragment,null,e&&n.wrappedContent&&ZFe.createPortal(n.wrappedContent,e.getGui()))};dV.default=zm.memo(eIe);var pV={};Object.defineProperty(pV,"__esModule",{value:!0});var k_=F,tIe=Hn,rIe=function(n,t,e,r,i,o){var a=k_.useContext(tIe.BeansContext).context,s=k_.useCallback(function(){var l=i.current;if(l){var u=l.getGui();u&&u.parentElement&&u.parentElement.removeChild(u),a.destroyBean(l),i.current=void 0}},[]);k_.useEffect(function(){var l=n!=null,u=n&&n.compDetails&&!n.compDetails.componentFromFramework,c=t&&e==null,d=l&&u&&!c;if(!d){s();return}var p=n.compDetails;if(i.current){var h=i.current,f=h.refresh!=null&&n.force==!1,v=f?h.refresh(p.params):!1,g=v===!0||v===void 0;if(g)return;s()}var y=p.newAgStackInstance();if(y){var m=y.resolveNow(null,function(w){return w});if(m){var C=m.getGui();if(C){var S=t?e:o.current;S.appendChild(C),i.current=m}}}},[n,t,r]),k_.useEffect(function(){return s},[])};pV.default=rIe;var WT={},lO=Y&&Y.__assign||function(){return lO=Object.assign||function(n){for(var t,e=1,r=arguments.length;e<r;e++){t=arguments[e];for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(n[i]=t[i])}return n},lO.apply(this,arguments)};Object.defineProperty(WT,"__esModule",{value:!0});WT.CellEditorComponentProxy=void 0;var nIe=Pn,iIe=ki,oIe=function(){function n(t,e){var r=this;this.cellEditorParams=t,this.refreshProps=e,this.instanceCreated=new nIe.AgPromise(function(i){r.resolveInstanceCreated=i}),this.onValueChange=function(i){return r.updateValue(i)},this.value=t.value}return n.prototype.getProps=function(){return lO(lO({},this.cellEditorParams),{initialValue:this.cellEditorParams.value,value:this.value,onValueChange:this.onValueChange})},n.prototype.getValue=function(){return this.value},n.prototype.refresh=function(t){this.cellEditorParams=t,this.refreshProps()},n.prototype.setMethods=function(t){iIe.addOptionalMethods(this.getOptionalMethods(),t,this)},n.prototype.getInstance=function(){var t=this;return this.instanceCreated.then(function(){return t.componentInstance})},n.prototype.setRef=function(t){var e;this.componentInstance=t,(e=this.resolveInstanceCreated)===null||e===void 0||e.call(this),this.resolveInstanceCreated=void 0},n.prototype.getOptionalMethods=function(){return["isPopup","isCancelBeforeStart","isCancelAfterEnd","getPopupPosition","focusIn","focusOut","afterGuiAttached"]},n.prototype.updateValue=function(t){this.value=t,this.refreshProps()},n}();WT.CellEditorComponentProxy=oIe;(function(n){var t=Y&&Y.__assign||function(){return t=Object.assign||function(_){for(var x,b=1,O=arguments.length;b<O;b++){x=arguments[b];for(var P in x)Object.prototype.hasOwnProperty.call(x,P)&&(_[P]=x[P])}return _},t.apply(this,arguments)},e=Y&&Y.__createBinding||(Object.create?function(_,x,b,O){O===void 0&&(O=b),Object.defineProperty(_,O,{enumerable:!0,get:function(){return x[b]}})}:function(_,x,b,O){O===void 0&&(O=b),_[O]=x[b]}),r=Y&&Y.__setModuleDefault||(Object.create?function(_,x){Object.defineProperty(_,"default",{enumerable:!0,value:x})}:function(_,x){_.default=x}),i=Y&&Y.__importStar||function(_){if(_&&_.__esModule)return _;var x={};if(_!=null)for(var b in _)b!=="default"&&Object.prototype.hasOwnProperty.call(_,b)&&e(x,_,b);return r(x,_),x},o=Y&&Y.__importDefault||function(_){return _&&_.__esModule?_:{default:_}};Object.defineProperty(n,"__esModule",{value:!0}),n.CellCompState=void 0;var a=Pn,s=i(F),l=_r,u=o(dV),c=o(pV),d=Hn,p=Vs,h=WT,f=mf,v=uc;(function(_){_[_.ShowValue=0]="ShowValue",_[_.EditValue=1]="EditValue"})(n.CellCompState||(n.CellCompState={}));var g=function(_,x,b){var O=b.getColumn();if(!_&&x.isPopup&&x.isPopup()){var P="AG Grid: Found an issue in column "+O.getColId()+". If using React, specify an editor is a popup using colDef.cellEditorPopup=true. AG Grid React cannot depend on the editor component specifying if it's in a popup (via the isPopup() method on the editor), as React needs to know this information BEFORE the component is created.";a._.doOnce(function(){return console.warn(P)},"jsEditorComp-isPopup-"+b.getColumn().getColId())}if(_&&x.getPopupPosition&&x.getPopupPosition()!=null){var D="AG Grid: Found an issue in column "+O.getColId()+". If using React, specify an editor popup position using colDef.cellEditorPopupPosition=true. AG Grid React cannot depend on the editor component specifying it's position (via the getPopupPosition() method on the editor), as React needs to know this information BEFORE the component is created.";a._.doOnce(function(){return console.warn(D)},"jsEditorComp-getPopupPosition-"+b.getColumn().getColId())}},y=function(_,x,b){var O=_.compProxy;b(O);var P=O.getProps(),D=l.isComponentStateless(x);return s.default.createElement(f.CustomContext.Provider,{value:{setMethods:function(N){return O.setMethods(N)}}},D&&s.default.createElement(x,t({},P)),!D&&s.default.createElement(x,t({},P,{ref:function(N){return O.setRef(N)}})))},m=function(_,x,b){var O=_.compProxy;return s.default.createElement(s.default.Fragment,null,!O&&s.default.createElement(x,t({},_.compDetails.params,{ref:b})),O&&y(_,x,b))},C=function(_,x,b,O,P,D){var N=_.compDetails,L=N.componentClass,I=N.componentFromFramework&&!_.popup,k=N.componentFromFramework&&_.popup,H=!N.componentFromFramework&&_.popup;return s.default.createElement(s.default.Fragment,null,I&&m(_,L,x),k&&s.default.createElement(u.default,{editDetails:_,cellCtrl:P,eParentCell:O,wrappedContent:m(_,L,b)}),H&&D&&s.default.createElement(u.default,{editDetails:_,cellCtrl:P,eParentCell:O,jsChildComp:D}))},S=function(_,x,b,O,P,D,N){var L=_.compDetails,I=_.value,k=!L,H=L&&L.componentFromFramework,$=L&&L.componentClass,V=I!=null&&I.toString?I.toString():I,W=function(){return s.default.createElement(s.default.Fragment,null,k&&s.default.createElement(s.default.Fragment,null,V),H&&!D&&s.default.createElement($,t({},L.params,{key:x,ref:O})),H&&D&&s.default.createElement($,t({},L.params,{key:x})))};return s.default.createElement(s.default.Fragment,null,P?s.default.createElement("span",{role:"presentation",id:"cell-"+b,className:"ag-cell-value",ref:N},W()):W())},w=function(_){var x=s.useContext(d.BeansContext).context,b=_.cellCtrl,O=_.printLayout,P=_.editingRow,D=b.getTabIndex(),N=b.getColumnIdSanitised(),L=b.getInstanceId(),I=s.useState(function(){return b.isCellRenderer()?void 0:{compDetails:void 0,value:b.getValueToDisplay(),force:!1}}),k=I[0],H=I[1],$=s.useState(),V=$[0],W=$[1],K=s.useState(1),Z=K[0],Q=K[1],ce=s.useState(),ue=ce[0],se=ce[1],q=s.useState(!1),he=q[0],be=q[1],ee=s.useState(!1),Se=ee[0],Ce=ee[1],te=s.useState(!1),Pe=te[0],De=te[1],Ne=s.useState(),ke=Ne[0],Ye=Ne[1],it=s.useMemo(function(){return b.isForceWrapper()},[b]),Dr=s.useMemo(function(){return b.getCellAriaRole()},[b]),ze=s.useRef(null),lr=s.useRef(null),gr=s.useRef(),yr=s.useRef(),yt=s.useRef(),Pt=s.useRef([]),Vt=s.useRef(),ir=s.useState(0),mn=ir[0],$e=ir[1],Kt=s.useCallback(function(Yt){Vt.current=Yt,$e(function(or){return or+1})},[]),Nr=k!=null&&(he||Pe||Se),ma=it||Nr,vu=s.useCallback(function(Yt,or){if(yr.current=or,or){g(Yt,or,b);var Ei=or.isCancelBeforeStart&&or.isCancelBeforeStart();Ei&&setTimeout(function(){b.stopEditing(!0),b.focusCell(!0)})}},[b]),gy=s.useCallback(function(Yt){return vu(!0,Yt)},[vu]),Fe=s.useCallback(function(Yt){return vu(!1,Yt)},[vu]),Be=s.useRef();Be.current||(Be.current=new a.CssClassManager(function(){return ze.current})),c.default(k,ma,Vt.current,mn,gr,ze);var Ft=s.useRef();s.useLayoutEffect(function(){var Yt=Ft.current,or=k;if(Ft.current=k,!(Yt==null||Yt.compDetails==null||or==null||or.compDetails==null)){var Ei=Yt.compDetails,_t=or.compDetails;if(Ei.componentClass==_t.componentClass&&!(lr.current==null||lr.current.refresh==null)){var Cn=lr.current.refresh(_t.params);Cn!=!0&&Q(function(Po){return Po+1})}}},[k]),s.useLayoutEffect(function(){var Yt=V&&!V.compDetails.componentFromFramework;if(Yt){var or=V.compDetails,Ei=V.popup===!0,_t=p.createSyncJsComp(or);if(_t){var Cn=_t.getGui();if(vu(Ei,_t),!Ei){var Po=(it?yt:ze).current;Po==null||Po.appendChild(Cn),_t.afterGuiAttached&&_t.afterGuiAttached()}return Ye(_t),function(){x.destroyBean(_t),vu(Ei,void 0),Ye(void 0),Cn&&Cn.parentElement&&Cn.parentElement.removeChild(Cn)}}}},[V]);var At=s.useCallback(function(Yt){if(yt.current=Yt,!yt.current){Pt.current.forEach(function(_t){return _t()}),Pt.current=[];return}var or=function(_t){var Cn;if(_t){var Po=_t.getGui();(Cn=yt.current)===null||Cn===void 0||Cn.insertAdjacentElement("afterbegin",Po),Pt.current.push(function(){x.destroyBean(_t),a._.removeFromParent(Po)})}return _t};if(he){var Ei=b.createSelectionCheckbox();or(Ei)}Pe&&or(b.createDndSource()),Se&&or(b.createRowDragComp())},[b,x,Pe,Se,he]),kr=s.useCallback(function(Yt){if(ze.current=Yt,!!ze.current&&b){var or={addOrRemoveCssClass:function(_t,Cn){return Be.current.addOrRemoveCssClass(_t,Cn)},setUserStyles:function(_t){return se(_t)},getFocusableElement:function(){return ze.current},setIncludeSelection:function(_t){return be(_t)},setIncludeRowDrag:function(_t){return Ce(_t)},setIncludeDndSource:function(_t){return De(_t)},getCellEditor:function(){return yr.current||null},getCellRenderer:function(){return lr.current?lr.current:gr.current},getParentOfValue:function(){return Vt.current?Vt.current:yt.current?yt.current:ze.current},setRenderDetails:function(_t,Cn,Po){H(function(Ca){return(Ca==null?void 0:Ca.compDetails)!==_t||(Ca==null?void 0:Ca.value)!==Cn||(Ca==null?void 0:Ca.force)!==Po?{value:Cn,compDetails:_t,force:Po}:Ca})},setEditDetails:function(_t,Cn,Po,Ca){if(_t){var a2=void 0;Ca?a2=new h.CellEditorComponentProxy(_t.params,function(){return Q(function(yy){return yy+1})}):_t.componentFromFramework&&v.warnReactiveCustomComponents(),W({compDetails:_t,popup:Cn,popupPosition:Po,compProxy:a2}),Cn||H(void 0)}else W(function(yy){yy!=null&&yy.compProxy&&(yr.current=void 0)})}},Ei=yt.current||void 0;b.setComp(or,ze.current,Ei,O,P)}},[]),Wn=s.useMemo(function(){var Yt=k&&k.compDetails&&k.compDetails.componentFromFramework&&l.isComponentStateless(k.compDetails.componentClass);return!!Yt},[k]);s.useLayoutEffect(function(){var Yt;ze.current&&(Be.current.addOrRemoveCssClass("ag-cell-value",!ma),Be.current.addOrRemoveCssClass("ag-cell-inline-editing",!!V&&!V.popup),Be.current.addOrRemoveCssClass("ag-cell-popup-editing",!!V&&!!V.popup),Be.current.addOrRemoveCssClass("ag-cell-not-inline-editing",!V||!!V.popup),(Yt=b.getRowCtrl())===null||Yt===void 0||Yt.setInlineEditingCss(!!V),b.shouldRestoreFocus()&&!b.isEditing()&&ze.current.focus({preventScroll:!0}))});var To=function(){return s.default.createElement(s.default.Fragment,null,k!=null&&S(k,Z,L,lr,ma,Wn,Kt),V!=null&&C(V,Fe,gy,ze.current,b,ke))};return s.default.createElement("div",{ref:kr,style:ue,tabIndex:D,role:Dr,"col-id":N},ma?s.default.createElement("div",{className:"ag-cell-wrapper",role:"presentation",ref:At},To()):To())};n.default=s.memo(w)})(gZ);var Dv=Y&&Y.__assign||function(){return Dv=Object.assign||function(n){for(var t,e=1,r=arguments.length;e<r;e++){t=arguments[e];for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(n[i]=t[i])}return n},Dv.apply(this,arguments)},aIe=Y&&Y.__createBinding||(Object.create?function(n,t,e,r){r===void 0&&(r=e),Object.defineProperty(n,r,{enumerable:!0,get:function(){return t[e]}})}:function(n,t,e,r){r===void 0&&(r=e),n[r]=t[e]}),sIe=Y&&Y.__setModuleDefault||(Object.create?function(n,t){Object.defineProperty(n,"default",{enumerable:!0,value:t})}:function(n,t){n.default=t}),lIe=Y&&Y.__importStar||function(n){if(n&&n.__esModule)return n;var t={};if(n!=null)for(var e in n)e!=="default"&&Object.prototype.hasOwnProperty.call(n,e)&&aIe(t,n,e);return sIe(t,n),t},uIe=Y&&Y.__importDefault||function(n){return n&&n.__esModule?n:{default:n}};Object.defineProperty(cV,"__esModule",{value:!0});var qt=lIe(F),cIe=Pn,dIe=Vs,MD=_r,pIe=Hn,hIe=uIe(gZ),fIe=function(n){var t=qt.useContext(pIe.BeansContext),e=t.context,r=t.gridOptionsService,i=n.rowCtrl,o=n.containerType,a=i.getTabIndex(),s=qt.useRef(i.getDomOrder()),l=i.isFullWidth(),u=i.getRowNode().displayed,c=qt.useState(function(){return u?i.getRowIndex():null}),d=c[0],p=c[1],h=qt.useState(function(){return i.getRowId()}),f=h[0],v=h[1],g=qt.useState(function(){return i.getBusinessKey()}),y=g[0],m=g[1],C=qt.useState(function(){return i.getRowStyles()}),S=C[0],w=C[1],_=qt.useState(function(){return null}),x=_[0],b=_[1],O=qt.useState(),P=O[0],D=O[1],N=qt.useState(function(){return u?i.getInitialRowTop(o):void 0}),L=N[0],I=N[1],k=qt.useState(function(){return u?i.getInitialTransform(o):void 0}),H=k[0],$=k[1],V=qt.useRef(null),W=qt.useRef(),K=qt.useRef(!1),Z=qt.useState(0),Q=Z[0],ce=Z[1];qt.useEffect(function(){var Pe;if(!K.current&&P&&!(Q>10)){var De=(Pe=V.current)===null||Pe===void 0?void 0:Pe.firstChild;De?(i.setupDetailRowAutoHeight(De),K.current=!0):ce(function(Ne){return Ne+1})}},[P,Q]);var ue=qt.useRef();ue.current||(ue.current=new cIe.CssClassManager(function(){return V.current}));var se=qt.useCallback(function(Pe){if(V.current=Pe,!V.current){i.unsetComp(o);return}if(i.isAlive()){var De={setTop:I,setTransform:$,addOrRemoveCssClass:function(Ne,ke){return ue.current.addOrRemoveCssClass(Ne,ke)},setDomOrder:function(Ne){return s.current=Ne},setRowIndex:p,setRowId:v,setRowBusinessKey:m,setUserStyles:w,setCellCtrls:function(Ne,ke){MD.agFlushSync(ke,function(){b(function(Ye){return MD.getNextValueIfDifferent(Ye,Ne,s.current)})})},showFullWidth:function(Ne){return D(Ne)},getFullWidthCellRenderer:function(){return W.current},refreshFullWidth:function(Ne){return Se.current?(D(function(ke){return Dv(Dv({},ke),{params:Ne()})}),!0):!W.current||!W.current.refresh?!1:W.current.refresh(Ne())}};i.setComp(De,V.current,o)}},[]);qt.useLayoutEffect(function(){return dIe.showJsComp(P,e,V.current,W)},[P]);var q=qt.useMemo(function(){var Pe={top:L,transform:H};return Object.assign(Pe,S),Pe},[L,H,S]),he=l&&P&&P.componentFromFramework,be=!l&&x!=null,ee=qt.useMemo(function(){var Pe=(P==null?void 0:P.componentFromFramework)&&MD.isComponentStateless(P.componentClass);return!!Pe},[P]),Se=qt.useRef(!1);qt.useEffect(function(){Se.current=ee&&!!P&&!!r.get("reactiveCustomComponents")},[ee,P]);var Ce=function(){return x==null?void 0:x.map(function(Pe){return qt.default.createElement(hIe.default,{cellCtrl:Pe,editingRow:i.isEditing(),printLayout:i.isPrintLayout(),key:Pe.getInstanceId()})})},te=function(){var Pe=P.componentClass;return qt.default.createElement(qt.default.Fragment,null,ee&&qt.default.createElement(Pe,Dv({},P.params)),!ee&&qt.default.createElement(Pe,Dv({},P.params,{ref:W})))};return qt.default.createElement("div",{ref:se,role:"row",style:q,"row-index":d,"row-id":f,"row-business-key":y,tabIndex:a},be&&Ce(),he&&te())};cV.default=qt.memo(fIe);var vIe=Y&&Y.__createBinding||(Object.create?function(n,t,e,r){r===void 0&&(r=e),Object.defineProperty(n,r,{enumerable:!0,get:function(){return t[e]}})}:function(n,t,e,r){r===void 0&&(r=e),n[r]=t[e]}),gIe=Y&&Y.__setModuleDefault||(Object.create?function(n,t){Object.defineProperty(n,"default",{enumerable:!0,value:t})}:function(n,t){n.default=t}),yIe=Y&&Y.__importStar||function(n){if(n&&n.__esModule)return n;var t={};if(n!=null)for(var e in n)e!=="default"&&Object.prototype.hasOwnProperty.call(n,e)&&vIe(t,n,e);return gIe(t,n),t},yZ=Y&&Y.__importDefault||function(n){return n&&n.__esModule?n:{default:n}};Object.defineProperty(uV,"__esModule",{value:!0});var Mp=Pn,Gr=yIe(F),G_=_r,mIe=yZ(Kw),CIe=yZ(cV),SIe=Hn,wIe=function(n){var t=Gr.useContext(SIe.BeansContext).context,e=n.name,r=Gr.useMemo(function(){return Mp.getRowContainerTypeForName(e)},[e]),i=Gr.useRef(null),o=Gr.useRef(null),a=Gr.useRef([]),s=Gr.useState(function(){return[]}),l=s[0],u=s[1],c=Gr.useRef(!1),d=Gr.useRef(),p=Gr.useMemo(function(){return Mp.RowContainerCtrl.getRowContainerCssClasses(e)},[e]),h=Gr.useMemo(function(){return G_.classesList(p.viewport)},[p]),f=Gr.useMemo(function(){return G_.classesList(p.container)},[p]),v=e===Mp.RowContainerName.CENTER||e===Mp.RowContainerName.TOP_CENTER||e===Mp.RowContainerName.BOTTOM_CENTER||e===Mp.RowContainerName.STICKY_TOP_CENTER,g=v?i:o;mIe.default(" AG Row Container "+e+" ",g);var y=Gr.useCallback(function(){return v?i.current!=null&&o.current!=null:o.current!=null},[]),m=Gr.useCallback(function(){return v?i.current==null&&o.current==null:o.current==null},[]),C=Gr.useCallback(function(){if(m()&&(t.destroyBean(d.current),d.current=null),y()){var x=function(O){G_.agFlushSync(O,function(){u(function(P){return G_.getNextValueIfDifferent(P,a.current,c.current)})})},b={setViewportHeight:function(O){i.current&&(i.current.style.height=O)},setRowCtrls:function(O){var P=O.rowCtrls,D=O.useFlushSync,N=!!D&&a.current.length>0&&P.length>0;a.current=P,x(N)},setDomOrder:function(O){c.current!=O&&(c.current=O,x(!1))},setContainerWidth:function(O){o.current&&(o.current.style.width=O)}};d.current=t.createBean(new Mp.RowContainerCtrl(e)),d.current.setComp(b,o.current,i.current)}},[y,m]),S=Gr.useCallback(function(x){o.current=x,C()},[C]),w=Gr.useCallback(function(x){i.current=x,C()},[C]),_=function(){return Gr.default.createElement("div",{className:f,ref:S,role:"rowgroup"},l.map(function(x){return Gr.default.createElement(CIe.default,{rowCtrl:x,containerType:r,key:x.getInstanceId()})}))};return Gr.default.createElement(Gr.default.Fragment,null,v?Gr.default.createElement("div",{className:h,ref:w,role:"presentation"},_()):_())};uV.default=Gr.memo(wIe);var _Ie=Y&&Y.__createBinding||(Object.create?function(n,t,e,r){r===void 0&&(r=e),Object.defineProperty(n,r,{enumerable:!0,get:function(){return t[e]}})}:function(n,t,e,r){r===void 0&&(r=e),n[r]=t[e]}),xIe=Y&&Y.__setModuleDefault||(Object.create?function(n,t){Object.defineProperty(n,"default",{enumerable:!0,value:t})}:function(n,t){n.default=t}),EIe=Y&&Y.__importStar||function(n){if(n&&n.__esModule)return n;var t={};if(n!=null)for(var e in n)e!=="default"&&Object.prototype.hasOwnProperty.call(n,e)&&_Ie(t,n,e);return xIe(t,n),t},hV=Y&&Y.__importDefault||function(n){return n&&n.__esModule?n:{default:n}};Object.defineProperty(tV,"__esModule",{value:!0});var rn=Pn,vt=EIe(F),bIe=Hn,OIe=hV(rV),cm=hV(Kw),RIe=hV(uV),Kf=_r,TIe=function(){var n=vt.useContext(bIe.BeansContext),t=n.context,e=n.agStackComponentsRegistry,r=n.resizeObserverService,i=vt.useState(""),o=i[0],a=i[1],s=vt.useState(0),l=s[0],u=s[1],c=vt.useState(0),d=c[0],p=c[1],h=vt.useState("0px"),f=h[0],v=h[1],g=vt.useState("0px"),y=g[0],m=g[1],C=vt.useState("100%"),S=C[0],w=C[1],_=vt.useState(""),x=_[0],b=_[1],O=vt.useState(""),P=O[0],D=O[1],N=vt.useState(null),L=N[0],I=N[1],k=vt.useState(""),H=k[0],$=k[1],V=vt.useState(null),W=V[0],K=V[1],Z=vt.useState("ag-layout-normal"),Q=Z[0],ce=Z[1],ue=vt.useRef();ue.current||(ue.current=new rn.CssClassManager(function(){return se.current}));var se=vt.useRef(null),q=vt.useRef(null),he=vt.useRef(null),be=vt.useRef(null),ee=vt.useRef(null),Se=vt.useRef(null),Ce=vt.useRef([]),te=vt.useRef([]);cm.default(" AG Grid Body ",se),cm.default(" AG Pinned Top ",q),cm.default(" AG Sticky Top ",he),cm.default(" AG Middle ",ee),cm.default(" AG Pinned Bottom ",Se);var Pe=vt.useCallback(function(Pt){if(se.current=Pt,!se.current){t.destroyBeans(Ce.current),te.current.forEach(function(Kt){return Kt()}),Ce.current=[],te.current=[];return}if(t){var Vt=function(Kt){var Nr=e.getComponentClass(Kt),ma=t.createBean(new Nr);return Ce.current.push(ma),ma},ir=function(Kt,Nr){Kt.appendChild(Nr),te.current.push(function(){return Kt.removeChild(Nr)})};ir(se.current,document.createComment(" AG Fake Horizontal Scroll ")),ir(se.current,Vt("AG-FAKE-HORIZONTAL-SCROLL").getGui()),ir(se.current,document.createComment(" AG Overlay Wrapper ")),ir(se.current,Vt("AG-OVERLAY-WRAPPER").getGui()),be.current&&(ir(be.current,document.createComment(" AG Fake Vertical Scroll ")),ir(be.current,Vt("AG-FAKE-VERTICAL-SCROLL").getGui()));var mn={setRowAnimationCssOnBodyViewport:a,setColumnCount:function(Kt){se.current&&rn._.setAriaColCount(se.current,Kt)},setRowCount:function(Kt){se.current&&rn._.setAriaRowCount(se.current,Kt)},setTopHeight:u,setBottomHeight:p,setStickyTopHeight:v,setStickyTopTop:m,setStickyTopWidth:w,setTopDisplay:b,setBottomDisplay:D,setColumnMovingCss:function(Kt,Nr){return ue.current.addOrRemoveCssClass(Kt,Nr)},updateLayoutClasses:ce,setAlwaysVerticalScrollClass:I,setPinnedTopBottomOverflowY:$,setCellSelectableCss:function(Kt,Nr){return K(Nr?Kt:null)},setBodyViewportWidth:function(Kt){ee.current&&(ee.current.style.width=Kt)},registerBodyViewportResizeListener:function(Kt){if(ee.current){var Nr=r.observeResize(ee.current,Kt);te.current.push(function(){return Nr()})}}},$e=t.createBean(new rn.GridBodyCtrl);Ce.current.push($e),$e.setComp(mn,se.current,ee.current,q.current,Se.current,he.current)}},[]),De=vt.useMemo(function(){return Kf.classesList("ag-root","ag-unselectable",Q)},[Q]),Ne=vt.useMemo(function(){return Kf.classesList("ag-body-viewport",o,Q,L,W)},[o,Q,L,W]),ke=vt.useMemo(function(){return Kf.classesList("ag-body",Q)},[Q]),Ye=vt.useMemo(function(){return Kf.classesList("ag-floating-top",W)},[W]),it=vt.useMemo(function(){return Kf.classesList("ag-sticky-top",W)},[W]),Dr=vt.useMemo(function(){return Kf.classesList("ag-floating-bottom",W)},[W]),ze=vt.useMemo(function(){return{height:l,minHeight:l,display:x,overflowY:H}},[l,x,H]),lr=vt.useMemo(function(){return{height:f,top:y,width:S}},[f,y,S]),gr=vt.useMemo(function(){return{height:d,minHeight:d,display:P,overflowY:H}},[d,P,H]),yr=function(Pt){return vt.default.createElement(RIe.default,{name:Pt,key:Pt+"-container"})},yt=function(Pt){var Vt=Pt.section,ir=Pt.children,mn=Pt.className,$e=Pt.style;return vt.default.createElement("div",{ref:Vt,className:mn,role:"presentation",style:$e},ir.map(yr))};return vt.default.createElement("div",{ref:Pe,className:De,role:"treegrid"},vt.default.createElement(OIe.default,null),yt({section:q,className:Ye,style:ze,children:[rn.RowContainerName.TOP_LEFT,rn.RowContainerName.TOP_CENTER,rn.RowContainerName.TOP_RIGHT,rn.RowContainerName.TOP_FULL_WIDTH]}),vt.default.createElement("div",{className:ke,ref:be,role:"presentation"},yt({section:ee,className:Ne,children:[rn.RowContainerName.LEFT,rn.RowContainerName.CENTER,rn.RowContainerName.RIGHT,rn.RowContainerName.FULL_WIDTH]})),yt({section:he,className:it,style:lr,children:[rn.RowContainerName.STICKY_TOP_LEFT,rn.RowContainerName.STICKY_TOP_CENTER,rn.RowContainerName.STICKY_TOP_RIGHT,rn.RowContainerName.STICKY_TOP_FULL_WIDTH]}),yt({section:Se,className:Dr,style:gr,children:[rn.RowContainerName.BOTTOM_LEFT,rn.RowContainerName.BOTTOM_CENTER,rn.RowContainerName.BOTTOM_RIGHT,rn.RowContainerName.BOTTOM_FULL_WIDTH]}))};tV.default=vt.memo(TIe);var fV={},PIe=Y&&Y.__createBinding||(Object.create?function(n,t,e,r){r===void 0&&(r=e),Object.defineProperty(n,r,{enumerable:!0,get:function(){return t[e]}})}:function(n,t,e,r){r===void 0&&(r=e),n[r]=t[e]}),AIe=Y&&Y.__setModuleDefault||(Object.create?function(n,t){Object.defineProperty(n,"default",{enumerable:!0,value:t})}:function(n,t){n.default=t}),DIe=Y&&Y.__importStar||function(n){if(n&&n.__esModule)return n;var t={};if(n!=null)for(var e in n)e!=="default"&&Object.prototype.hasOwnProperty.call(n,e)&&PIe(t,n,e);return AIe(t,n),t};Object.defineProperty(fV,"__esModule",{value:!0});var Wo=DIe(F),V_=Pn,MIe=Hn,LIe=function(n,t){var e=n.children,r=n.eFocusableElement,i=n.onTabKeyDown,o=n.gridCtrl,a=n.forceFocusOutWhenTabGuardsAreEmpty,s=Wo.useContext(MIe.BeansContext).context,l=Wo.useRef(null),u=Wo.useRef(null),c=Wo.useRef(),d=function(g){var y=g==null?void 0:parseInt(g,10).toString();[l,u].forEach(function(m){var C,S;y===void 0?(C=m.current)===null||C===void 0||C.removeAttribute("tabindex"):(S=m.current)===null||S===void 0||S.setAttribute("tabindex",y)})};Wo.useImperativeHandle(t,function(){return{forceFocusOutOfContainer:function(g){var y;(y=c.current)===null||y===void 0||y.forceFocusOutOfContainer(g)}}});var p=Wo.useCallback(function(){if(!l.current&&!u.current){s.destroyBean(c.current),c.current=null;return}if(l.current&&u.current){var g={setTabIndex:d};c.current=s.createBean(new V_.TabGuardCtrl({comp:g,eTopGuard:l.current,eBottomGuard:u.current,eFocusableElement:r,onTabKeyDown:i,forceFocusOutWhenTabGuardsAreEmpty:a,focusInnerElement:function(y){return o.focusInnerElement(y)}}))}},[]),h=Wo.useCallback(function(g){l.current=g,p()},[p]),f=Wo.useCallback(function(g){u.current=g,p()},[p]),v=function(g){var y=g==="top"?V_.TabGuardClassNames.TAB_GUARD_TOP:V_.TabGuardClassNames.TAB_GUARD_BOTTOM;return Wo.default.createElement("div",{className:V_.TabGuardClassNames.TAB_GUARD+" "+y,role:"presentation",ref:g==="top"?h:f})};return Wo.default.createElement(Wo.default.Fragment,null,v("top"),e,v("bottom"))},FIe=Wo.forwardRef(LIe);fV.default=Wo.memo(FIe);var IIe=Y&&Y.__createBinding||(Object.create?function(n,t,e,r){r===void 0&&(r=e),Object.defineProperty(n,r,{enumerable:!0,get:function(){return t[e]}})}:function(n,t,e,r){r===void 0&&(r=e),n[r]=t[e]}),NIe=Y&&Y.__setModuleDefault||(Object.create?function(n,t){Object.defineProperty(n,"default",{enumerable:!0,value:t})}:function(n,t){n.default=t}),kIe=Y&&Y.__importStar||function(n){if(n&&n.__esModule)return n;var t={};if(n!=null)for(var e in n)e!=="default"&&Object.prototype.hasOwnProperty.call(n,e)&&IIe(t,n,e);return NIe(t,n),t},vV=Y&&Y.__importDefault||function(n){return n&&n.__esModule?n:{default:n}};Object.defineProperty(eV,"__esModule",{value:!0});var GIe=Pn,dr=kIe(F),VIe=Hn,BIe=vV(tV),HIe=vV(Kw),jIe=vV(fV),dU=_r,$Ie=function(n){var t=n.context,e=dr.useState(""),r=e[0],i=e[1],o=dr.useState(""),a=o[0];o[1];var s=dr.useState(""),l=s[0],u=s[1],c=dr.useState(null),d=c[0],p=c[1],h=dr.useState(null),f=h[0],v=h[1],g=dr.useState(!1),y=g[0],m=g[1],C=dr.useState(),S=C[0],w=C[1],_=dr.useRef(null),x=dr.useRef(null),b=dr.useRef(),O=dr.useState(null),P=O[0],D=O[1],N=dr.useRef(function(){}),L=dr.useCallback(function(){},[]),I=dr.useMemo(function(){return t.isDestroyed()?null:t.getBean("beans")},[t]);HIe.default(" AG Grid ",x);var k=dr.useCallback(function(K){if(x.current=K,!x.current){t.destroyBean(_.current),_.current=null;return}if(!t.isDestroyed()){_.current=t.createBean(new GIe.GridCtrl);var Z=_.current;N.current=Z.focusInnerElement.bind(Z);var Q={destroyGridUi:function(){},setRtlClass:i,forceFocusOutOfContainer:function(ce){var ue;(ue=b.current)===null||ue===void 0||ue.forceFocusOutOfContainer(ce)},updateLayoutClasses:u,getFocusableContainers:function(){var ce,ue,se=[],q=(ce=x.current)===null||ce===void 0?void 0:ce.querySelector(".ag-root"),he=(ue=x.current)===null||ue===void 0?void 0:ue.querySelector(".ag-side-bar:not(.ag-hidden)");return q&&se.push(q),he&&se.push(he),se},setCursor:p,setUserSelect:v};Z.setComp(Q,x.current,x.current),m(!0)}},[]);dr.useEffect(function(){if(!(!S||!I||!_.current||!P||!x.current)){var K=_.current,Z=[],Q=I.agStackComponentsRegistry,ce=Q.getComponentClass("AG-GRID-HEADER-DROP-ZONES"),ue=Q.getComponentClass("AG-SIDE-BAR"),se=Q.getComponentClass("AG-STATUS-BAR"),q=Q.getComponentClass("AG-WATERMARK"),he=Q.getComponentClass("AG-PAGINATION"),be=[],ee=x.current;if(K.showDropZones()&&ce){var Se=t.createBean(new ce),Ce=Se.getGui();ee.insertAdjacentElement("afterbegin",Ce),be.push(Ce),Z.push(Se)}if(K.showSideBar()&&ue){var te=t.createBean(new ue),Ce=te.getGui(),Pe=P.querySelector(".ag-tab-guard-bottom");Pe&&(Pe.insertAdjacentElement("beforebegin",Ce),be.push(Ce)),Z.push(te)}if(K.showStatusBar()&&se){var De=t.createBean(new se),Ce=De.getGui();ee.insertAdjacentElement("beforeend",Ce),be.push(Ce),Z.push(De)}if(he){var Ne=t.createBean(new he),Ce=Ne.getGui();ee.insertAdjacentElement("beforeend",Ce),be.push(Ce),Z.push(Ne)}if(K.showWatermark()&&q){var ke=t.createBean(new q),Ce=ke.getGui();ee.insertAdjacentElement("beforeend",Ce),be.push(Ce),Z.push(ke)}return function(){t.destroyBeans(Z),be.forEach(function(Ye){Ye.parentElement&&Ye.parentElement.removeChild(Ye)})}}},[S,P,I]);var H=dr.useMemo(function(){return dU.classesList("ag-root-wrapper",r,a,l)},[r,a,l]),$=dr.useMemo(function(){return dU.classesList("ag-root-wrapper-body","ag-focus-managed",l)},[l]),V=dr.useMemo(function(){return{userSelect:f??"",WebkitUserSelect:f??"",cursor:d??""}},[f,d]),W=dr.useCallback(function(K){b.current=K,w(K!==null)},[]);return dr.default.createElement("div",{ref:k,className:H,style:V,role:"presentation"},dr.default.createElement("div",{className:$,ref:D,role:"presentation"},y&&P&&I&&dr.default.createElement(VIe.BeansContext.Provider,{value:I},dr.default.createElement(jIe.default,{ref:W,eFocusableElement:P,onTabKeyDown:L,gridCtrl:_.current,forceFocusOutWhenTabGuardsAreEmpty:!0},dr.default.createElement(BIe.default,null)))))};eV.default=dr.memo($Ie);(function(n){var t=Y&&Y.__extends||function(){var L=function(I,k){return L=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(H,$){H.__proto__=$}||function(H,$){for(var V in $)Object.prototype.hasOwnProperty.call($,V)&&(H[V]=$[V])},L(I,k)};return function(I,k){if(typeof k!="function"&&k!==null)throw new TypeError("Class extends value "+String(k)+" is not a constructor or null");L(I,k);function H(){this.constructor=I}I.prototype=k===null?Object.create(k):(H.prototype=k.prototype,new H)}}(),e=Y&&Y.__assign||function(){return e=Object.assign||function(L){for(var I,k=1,H=arguments.length;k<H;k++){I=arguments[k];for(var $ in I)Object.prototype.hasOwnProperty.call(I,$)&&(L[$]=I[$])}return L},e.apply(this,arguments)},r=Y&&Y.__createBinding||(Object.create?function(L,I,k,H){H===void 0&&(H=k),Object.defineProperty(L,H,{enumerable:!0,get:function(){return I[k]}})}:function(L,I,k,H){H===void 0&&(H=k),L[H]=I[k]}),i=Y&&Y.__setModuleDefault||(Object.create?function(L,I){Object.defineProperty(L,"default",{enumerable:!0,value:I})}:function(L,I){L.default=I}),o=Y&&Y.__importStar||function(L){if(L&&L.__esModule)return L;var I={};if(L!=null)for(var k in L)k!=="default"&&Object.prototype.hasOwnProperty.call(L,k)&&r(I,L,k);return i(I,L),I},a=Y&&Y.__importDefault||function(L){return L&&L.__esModule?L:{default:L}};Object.defineProperty(n,"__esModule",{value:!0}),n.AgGridReactUi=void 0;var s=Pn,l=o(F),u=TT,c=IT,d=NT,p=kT,h=GT,f=VT,v=BT,g=HT,y=zw,m=jT,C=Hn,S=_r,w=a(JG),_=a(eV),x=uc,b=function(L){var I,k,H=l.useRef(),$=l.useRef(null),V=l.useRef(null),W=l.useRef([]),K=l.useRef([]),Z=l.useRef(L),Q=l.useRef(!1),ce=l.useState(void 0),ue=ce[0],se=ce[1],q=l.useState(0),he=q[1],be=l.useCallback(function(Ce){if($.current=Ce,!$.current){W.current.forEach(function(it){return it()}),W.current.length=0;return}var te=L.modules||[];V.current||(V.current=new m.PortalManager(function(){return he(function(it){return it+1})},L.componentWrappingElement,L.maxComponentCreationTimeMs),W.current.push(function(){var it;(it=V.current)===null||it===void 0||it.destroy(),V.current=null}));var Pe=s.ComponentUtil.combineAttributesAndGridOptions(L.gridOptions,L),De={providedBeanInstances:{frameworkComponentWrapper:new P(V.current,!!Pe.reactiveCustomComponents)},modules:te,frameworkOverrides:new N},Ne=function(it){se(it),W.current.push(function(){it.destroy()});var Dr=it.getBean(s.CtrlsService.NAME);Dr.whenReady(function(){if(!it.isDestroyed()){var ze=H.current;ze&&L.setGridApi&&L.setGridApi(ze,new s.ColumnApi(ze))}})},ke=function(it){var Dr=it.getBean(s.CtrlsService.NAME);Dr.whenReady(function(){K.current.forEach(function(ze){return ze()}),K.current.length=0,Q.current=!0})},Ye=new s.GridCoreCreator;H.current=Ye.create($.current,Pe,Ne,ke,De)},[]),ee=l.useMemo(function(){return e({height:"100%"},L.containerStyle||{})},[L.containerStyle]),Se=l.useCallback(function(Ce){Q.current?Ce():K.current.push(Ce)},[]);return l.useEffect(function(){var Ce=O(Z.current,L);Z.current=L,Se(function(){H.current&&s.ComponentUtil.processOnChange(Ce,H.current)})},[L]),l.default.createElement("div",{style:ee,className:L.className,ref:be},ue&&!ue.isDestroyed()?l.default.createElement(_.default,{context:ue}):null,(k=(I=V.current)===null||I===void 0?void 0:I.getPortals())!==null&&k!==void 0?k:null)};n.AgGridReactUi=b;function O(L,I){var k={};return Object.keys(I).forEach(function(H){var $=I[H];L[H]!==$&&(k[H]=$)}),k}var P=function(L){t(I,L);function I(k,H){var $=L.call(this)||this;return $.parent=k,$.reactiveCustomComponents=H,$}return I.prototype.createWrapper=function(k,H){if(this.reactiveCustomComponents){var $=function(K){switch(K){case"filter":return c.FilterComponentWrapper;case"floatingFilterComponent":return d.FloatingFilterComponentWrapper;case"dateComponent":return u.DateComponentWrapper;case"loadingOverlayComponent":return p.LoadingOverlayComponentWrapper;case"noRowsOverlayComponent":return f.NoRowsOverlayComponentWrapper;case"statusPanel":return v.StatusPanelComponentWrapper;case"toolPanel":return g.ToolPanelComponentWrapper;case"menuItem":return h.MenuItemComponentWrapper}},V=$(H.propertyName);if(V)return new V(k,this.parent,H)}else switch(H.propertyName){case"filter":case"floatingFilterComponent":case"dateComponent":case"loadingOverlayComponent":case"noRowsOverlayComponent":case"statusPanel":case"toolPanel":case"menuItem":x.warnReactiveCustomComponents();break}var W=!H.cellRenderer&&H.propertyName!=="toolPanel";return new y.ReactComponent(k,this.parent,H,W)},I}(s.BaseComponentWrapper),D=l.forwardRef(function(L,I){var k=l.useContext(C.BeansContext),H=k.ctrlsFactory,$=k.context,V=k.gridOptionsService,W=k.resizeObserverService,K=k.clientSideRowModel,Z=k.serverSideRowModel,Q=l.useState(function(){return new S.CssClasses}),ce=Q[0],ue=Q[1],se=l.useState(function(){return new S.CssClasses}),q=se[0],he=se[1],be=l.useState(),ee=be[0],Se=be[1],Ce=l.useState(),te=Ce[0],Pe=Ce[1],De=l.useRef(),Ne=l.useRef(null),ke=l.useRef(),Ye=l.useMemo(function(){return s.ModuleRegistry.__getGridRegisteredModules(L.api.getGridId())},[L]),it=l.useMemo(function(){return ce.toString()+" ag-details-row"},[ce]),Dr=l.useMemo(function(){return q.toString()+" ag-details-grid"},[q]);I&&l.useImperativeHandle(I,function(){return{refresh:function(){var gr,yr;return(yr=(gr=De.current)===null||gr===void 0?void 0:gr.refresh())!==null&&yr!==void 0?yr:!1}}}),L.template&&s._.warnOnce("detailCellRendererParams.template is not supported by AG Grid React. To change the template, provide a Custom Detail Cell Renderer. See https://ag-grid.com/react-data-grid/master-detail-custom-detail/");var ze=l.useCallback(function(gr){if(Ne.current=gr,!Ne.current){$.destroyBean(De.current),ke.current&&ke.current();return}var yr={addOrRemoveCssClass:function(Vt,ir){return ue(function(mn){return mn.setClass(Vt,ir)})},addOrRemoveDetailGridCssClass:function(Vt,ir){return he(function(mn){return mn.setClass(Vt,ir)})},setDetailGrid:function(Vt){return Se(Vt)},setRowData:function(Vt){return Pe(Vt)},getGui:function(){return Ne.current}},yt=H.getInstance("detailCellRenderer");if(yt&&($.createBean(yt),yt.init(yr,L),De.current=yt,V.get("detailRowAutoHeight"))){var Pt=function(){if(Ne.current!=null){var Vt=Ne.current.clientHeight;if(Vt!=null&&Vt>0){var ir=function(){L.node.setRowHeight(Vt),K?K.onRowHeightChanged():Z&&Z.onRowHeightChanged()};setTimeout(ir,0)}}};ke.current=W.observeResize(Ne.current,Pt),Pt()}},[]),lr=l.useCallback(function(gr,yr){var yt;(yt=De.current)===null||yt===void 0||yt.registerDetailWithMaster(gr,yr)},[]);return l.default.createElement("div",{className:it,ref:ze},ee&&l.default.createElement(n.AgGridReactUi,e({className:Dr},ee,{modules:Ye,rowData:te,setGridApi:lr})))}),N=function(L){t(I,L);function I(){var k=L.call(this,"react")||this;return k.frameworkComponents={agGroupCellRenderer:w.default,agGroupRowRenderer:w.default,agDetailCellRenderer:D},k.wrapIncoming=function(H,$){return $==="ensureVisible"?S.runWithoutFlushSync(H):H()},k.renderingEngine="react",k}return I.prototype.frameworkComponent=function(k){return this.frameworkComponents[k]},I.prototype.isFrameworkComponent=function(k){if(!k)return!1;var H=k.prototype,$=H&&"getGui"in H;return!$},I}(s.VanillaFrameworkOverrides)})(g7);var WIe=Y&&Y.__extends||function(){var n=function(t,e){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])},n(t,e)};return function(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");n(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}}(),UF=Y&&Y.__assign||function(){return UF=Object.assign||function(n){for(var t,e=1,r=arguments.length;e<r;e++){t=arguments[e];for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(n[i]=t[i])}return n},UF.apply(this,arguments)},UIe=Y&&Y.__createBinding||(Object.create?function(n,t,e,r){r===void 0&&(r=e),Object.defineProperty(n,r,{enumerable:!0,get:function(){return t[e]}})}:function(n,t,e,r){r===void 0&&(r=e),n[r]=t[e]}),zIe=Y&&Y.__setModuleDefault||(Object.create?function(n,t){Object.defineProperty(n,"default",{enumerable:!0,value:t})}:function(n,t){n.default=t}),KIe=Y&&Y.__importStar||function(n){if(n&&n.__esModule)return n;var t={};if(n!=null)for(var e in n)e!=="default"&&Object.prototype.hasOwnProperty.call(n,e)&&UIe(t,n,e);return zIe(t,n),t};Object.defineProperty(cT,"__esModule",{value:!0});cT.AgGridReact=void 0;var pU=KIe(F),YIe=g7,XIe=function(n){WIe(t,n);function t(){var e=n!==null&&n.apply(this,arguments)||this;return e.apiListeners=[],e.setGridApi=function(r,i){e.api=r,e.columnApi=i,e.apiListeners.forEach(function(o){return o(r)})},e}return t.prototype.registerApiListener=function(e){this.apiListeners.push(e)},t.prototype.componentWillUnmount=function(){this.apiListeners.length=0},t.prototype.render=function(){return pU.default.createElement(YIe.AgGridReactUi,UF({},this.props,{setGridApi:this.setGridApi}))},t}(pU.Component);cT.AgGridReact=XIe;var mZ={};(function(n){Object.defineProperty(n,"__esModule",{value:!0}),n.ChangeDetectionStrategyType=void 0,function(t){t.IdentityCheck="IdentityCheck",t.DeepValueCheck="DeepValueCheck",t.NoCheck="NoCheck"}(n.ChangeDetectionStrategyType||(n.ChangeDetectionStrategyType={}))})(mZ);var Ga={};Object.defineProperty(Ga,"__esModule",{value:!0});Ga.useGridMenuItem=Ga.useGridFloatingFilter=Ga.useGridFilter=Ga.useGridDate=Ga.useGridCellEditor=void 0;var qIe=F,ZIe=mf;function Yw(n){var t=qIe.useContext(ZIe.CustomContext).setMethods;t(n)}function QIe(n){Yw(n)}Ga.useGridCellEditor=QIe;function JIe(n){return Yw(n)}Ga.useGridDate=JIe;function e1e(n){return Yw(n)}Ga.useGridFilter=e1e;function t1e(n){Yw(n)}Ga.useGridFloatingFilter=t1e;function r1e(n){Yw(n)}Ga.useGridMenuItem=r1e;(function(n){var t=Y&&Y.__createBinding||(Object.create?function(i,o,a,s){s===void 0&&(s=a),Object.defineProperty(i,s,{enumerable:!0,get:function(){return o[a]}})}:function(i,o,a,s){s===void 0&&(s=a),i[s]=o[a]}),e=Y&&Y.__exportStar||function(i,o){for(var a in i)a!=="default"&&!Object.prototype.hasOwnProperty.call(o,a)&&t(o,i,a)};Object.defineProperty(n,"__esModule",{value:!0}),n.AgGridReact=void 0;var r=cT;Object.defineProperty(n,"AgGridReact",{enumerable:!0,get:function(){return r.AgGridReact}}),e(mZ,n),e(Ga,n),e(uc,n)})(v7);/**
          * @ag-grid-enterprise/all-modules - Advanced Data Grid / Data Table supporting Javascript / Typescript / React / Angular / Vue * @version v31.1.1
          * @link https://www.ag-grid.com/
          * @license Commercial
          */var n1e=function(){function n(){this.ieCompatibility=!1}return n.prototype.init=function(){this.ieCompatibility=this.md5("hello")!="5d41402abc4b2a76b9719d911017c592"},n.prototype.md5cycle=function(t,e){var r=t[0],i=t[1],o=t[2],a=t[3];r=this.ff(r,i,o,a,e[0],7,-680876936),a=this.ff(a,r,i,o,e[1],12,-389564586),o=this.ff(o,a,r,i,e[2],17,606105819),i=this.ff(i,o,a,r,e[3],22,-1044525330),r=this.ff(r,i,o,a,e[4],7,-176418897),a=this.ff(a,r,i,o,e[5],12,1200080426),o=this.ff(o,a,r,i,e[6],17,-1473231341),i=this.ff(i,o,a,r,e[7],22,-45705983),r=this.ff(r,i,o,a,e[8],7,1770035416),a=this.ff(a,r,i,o,e[9],12,-1958414417),o=this.ff(o,a,r,i,e[10],17,-42063),i=this.ff(i,o,a,r,e[11],22,-1990404162),r=this.ff(r,i,o,a,e[12],7,1804603682),a=this.ff(a,r,i,o,e[13],12,-40341101),o=this.ff(o,a,r,i,e[14],17,-1502002290),i=this.ff(i,o,a,r,e[15],22,1236535329),r=this.gg(r,i,o,a,e[1],5,-165796510),a=this.gg(a,r,i,o,e[6],9,-1069501632),o=this.gg(o,a,r,i,e[11],14,643717713),i=this.gg(i,o,a,r,e[0],20,-373897302),r=this.gg(r,i,o,a,e[5],5,-701558691),a=this.gg(a,r,i,o,e[10],9,38016083),o=this.gg(o,a,r,i,e[15],14,-660478335),i=this.gg(i,o,a,r,e[4],20,-405537848),r=this.gg(r,i,o,a,e[9],5,568446438),a=this.gg(a,r,i,o,e[14],9,-1019803690),o=this.gg(o,a,r,i,e[3],14,-187363961),i=this.gg(i,o,a,r,e[8],20,1163531501),r=this.gg(r,i,o,a,e[13],5,-1444681467),a=this.gg(a,r,i,o,e[2],9,-51403784),o=this.gg(o,a,r,i,e[7],14,1735328473),i=this.gg(i,o,a,r,e[12],20,-1926607734),r=this.hh(r,i,o,a,e[5],4,-378558),a=this.hh(a,r,i,o,e[8],11,-2022574463),o=this.hh(o,a,r,i,e[11],16,1839030562),i=this.hh(i,o,a,r,e[14],23,-35309556),r=this.hh(r,i,o,a,e[1],4,-1530992060),a=this.hh(a,r,i,o,e[4],11,1272893353),o=this.hh(o,a,r,i,e[7],16,-155497632),i=this.hh(i,o,a,r,e[10],23,-1094730640),r=this.hh(r,i,o,a,e[13],4,681279174),a=this.hh(a,r,i,o,e[0],11,-358537222),o=this.hh(o,a,r,i,e[3],16,-722521979),i=this.hh(i,o,a,r,e[6],23,76029189),r=this.hh(r,i,o,a,e[9],4,-640364487),a=this.hh(a,r,i,o,e[12],11,-421815835),o=this.hh(o,a,r,i,e[15],16,530742520),i=this.hh(i,o,a,r,e[2],23,-995338651),r=this.ii(r,i,o,a,e[0],6,-198630844),a=this.ii(a,r,i,o,e[7],10,1126891415),o=this.ii(o,a,r,i,e[14],15,-1416354905),i=this.ii(i,o,a,r,e[5],21,-57434055),r=this.ii(r,i,o,a,e[12],6,1700485571),a=this.ii(a,r,i,o,e[3],10,-1894986606),o=this.ii(o,a,r,i,e[10],15,-1051523),i=this.ii(i,o,a,r,e[1],21,-2054922799),r=this.ii(r,i,o,a,e[8],6,1873313359),a=this.ii(a,r,i,o,e[15],10,-30611744),o=this.ii(o,a,r,i,e[6],15,-1560198380),i=this.ii(i,o,a,r,e[13],21,1309151649),r=this.ii(r,i,o,a,e[4],6,-145523070),a=this.ii(a,r,i,o,e[11],10,-1120210379),o=this.ii(o,a,r,i,e[2],15,718787259),i=this.ii(i,o,a,r,e[9],21,-343485551),t[0]=this.add32(r,t[0]),t[1]=this.add32(i,t[1]),t[2]=this.add32(o,t[2]),t[3]=this.add32(a,t[3])},n.prototype.cmn=function(t,e,r,i,o,a){return e=this.add32(this.add32(e,t),this.add32(i,a)),this.add32(e<<o|e>>>32-o,r)},n.prototype.ff=function(t,e,r,i,o,a,s){return this.cmn(e&r|~e&i,t,e,o,a,s)},n.prototype.gg=function(t,e,r,i,o,a,s){return this.cmn(e&i|r&~i,t,e,o,a,s)},n.prototype.hh=function(t,e,r,i,o,a,s){return this.cmn(e^r^i,t,e,o,a,s)},n.prototype.ii=function(t,e,r,i,o,a,s){return this.cmn(r^(e|~i),t,e,o,a,s)},n.prototype.md51=function(t){var e=t.length,r=[1732584193,-271733879,-1732584194,271733878],i;for(i=64;i<=t.length;i+=64)this.md5cycle(r,this.md5blk(t.substring(i-64,i)));t=t.substring(i-64);var o=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0];for(i=0;i<t.length;i++)o[i>>2]|=t.charCodeAt(i)<<(i%4<<3);if(o[i>>2]|=128<<(i%4<<3),i>55)for(this.md5cycle(r,o),i=0;i<16;i++)o[i]=0;return o[14]=e*8,this.md5cycle(r,o),r},n.prototype.md5blk=function(t){for(var e=[],r=0;r<64;r+=4)e[r>>2]=t.charCodeAt(r)+(t.charCodeAt(r+1)<<8)+(t.charCodeAt(r+2)<<16)+(t.charCodeAt(r+3)<<24);return e},n.prototype.rhex=function(t){for(var e="0123456789abcdef".split(""),r="",i=0;i<4;i++)r+=e[t>>i*8+4&15]+e[t>>i*8&15];return r},n.prototype.hex=function(t){for(var e=0;e<t.length;e++)t[e]=this.rhex(t[e]);return t.join("")},n.prototype.md5=function(t){return this.hex(this.md51(t))},n.prototype.add32=function(t,e){return this.ieCompatibility?this.add32Compat(t,e):this.add32Std(t,e)},n.prototype.add32Std=function(t,e){return t+e&4294967295},n.prototype.add32Compat=function(t,e){var r=(t&65535)+(e&65535),i=(t>>16)+(e>>16)+(r>>16);return i<<16|r&65535},n}(),i1e=function(n,t){var e=typeof Symbol=="function"&&n[Symbol.iterator];if(!e)return n;var r=e.call(n),i,o=[],a;try{for(;(t===void 0||t-- >0)&&!(i=r.next()).done;)o.push(i.value)}catch(s){a={error:s}}finally{try{i&&!i.done&&(e=r.return)&&e.call(r)}finally{if(a)throw a.error}}return o};function LD(n){return n==null||n.length===0}var B_={"01":"GRID","02":"CHARTS","0102":"BOTH"},H_=function(){function n(t){this.watermarkMessage=void 0,this.totalMessageLength=124,this.document=t,this.md5=new n1e,this.md5.init()}return n.prototype.validateLicense=function(){var t=this.getLicenseDetails(n.licenseKey),e="AG Grid ".concat(t.currentLicenseType==="BOTH"?"and AG Charts ":"","Enterprise"),r=t.suppliedLicenseType===void 0?"":"AG ".concat(t.suppliedLicenseType==="BOTH"?"Grid and AG Charts":t.suppliedLicenseType==="GRID"?"Grid":"Charts"," Enterprise");if(t.missing)(!this.isWebsiteUrl()||this.isForceWatermark())&&this.outputMissingLicenseKey(e);else if(t.expired){var i=n.getGridReleaseDate(),o=n.formatDate(i);this.outputExpiredKey(t.expiry,o,e,r)}else t.valid?t.isTrial&&t.trialExpired&&this.outputExpiredTrialKey(t.expiry,e,r):this.outputInvalidLicenseKey(!!t.incorrectLicenseType,e,r)},n.extractExpiry=function(t){var e=t.substring(t.lastIndexOf("_")+1,t.length);return new Date(parseInt(n.decode(e),10))},n.extractLicenseComponents=function(t){var e=t.replace(/[\u200B-\u200D\uFEFF]/g,"");if(e=e.replace(/\r?\n|\r/g,""),t.length<=32)return{md5:null,license:t,version:null,isTrial:null};var r=e.length-32,i=e.substring(r),o=e.substring(0,r),a=i1e(n.extractBracketedInformation(e),3),s=a[0],l=a[1],u=a[2];return{md5:i,license:o,version:s,isTrial:l,type:u}},n.prototype.getLicenseDetails=function(t){var e=n.chartsLicenseManager?"BOTH":"GRID";if(LD(t))return{licenseKey:t,valid:!1,missing:!0,currentLicenseType:e};var r=n.getGridReleaseDate(),i=n.extractLicenseComponents(t),o=i.md5,a=i.license,s=i.version,l=i.isTrial,u=i.type,c=o===this.md5.md5(a)&&t.indexOf("For_Trialing_ag-Grid_Only")===-1,d=void 0,p=void 0,h=null,f=!1,v=void 0;function g(){var y=new Date;d=h<y,p=void 0}if(c&&(h=n.extractExpiry(a),c=!isNaN(h.getTime()),c))switch(p=r>h,s){case"legacy":case"2":{l&&g();break}case"3":LD(u)?c=!1:(v=u,u!==B_["01"]&&u!==B_["0102"]||e==="BOTH"&&v!=="BOTH"?(c=!1,f=!0):l&&g())}return c?{licenseKey:t,valid:c,expiry:n.formatDate(h),expired:p,version:s,isTrial:l,trialExpired:d,incorrectLicenseType:f,currentLicenseType:e,suppliedLicenseType:v}:{licenseKey:t,valid:c,incorrectLicenseType:f,currentLicenseType:e,suppliedLicenseType:v}},n.prototype.isDisplayWatermark=function(){return this.isForceWatermark()||!this.isLocalhost()&&!this.isWebsiteUrl()&&!LD(this.watermarkMessage)},n.prototype.getWatermarkMessage=function(){return this.watermarkMessage||""},n.prototype.getHostname=function(){var t=this.document.defaultView||window,e=t.location,r=e.hostname,i=r===void 0?"":r;return i},n.prototype.isForceWatermark=function(){var t=this.document.defaultView||window,e=t.location,r=e.pathname;return r?r.indexOf("forceWatermark")!==-1:!1},n.prototype.isWebsiteUrl=function(){var t=this.getHostname();return t.match(/^((?:\w+\.)?ag-grid\.com)$/)!==null},n.prototype.isLocalhost=function(){var t=this.getHostname();return t.match(/^(?:127\.0\.0\.1|localhost)$/)!==null},n.formatDate=function(t){var e=["January","February","March","April","May","June","July","August","September","October","November","December"],r=t.getDate(),i=t.getMonth(),o=t.getFullYear();return r+" "+e[i]+" "+o},n.getGridReleaseDate=function(){return new Date(parseInt(n.decode(n.RELEASE_INFORMATION),10))},n.decode=function(t){for(var e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",r="",i,o,a,s,l,u,c,d=0,p=t.replace(/[^A-Za-z0-9+/=]/g,"");d<p.length;)s=e.indexOf(p.charAt(d++)),l=e.indexOf(p.charAt(d++)),u=e.indexOf(p.charAt(d++)),c=e.indexOf(p.charAt(d++)),i=s<<2|l>>4,o=(l&15)<<4|u>>2,a=(u&3)<<6|c,r=r+String.fromCharCode(i),u!=64&&(r=r+String.fromCharCode(o)),c!=64&&(r=r+String.fromCharCode(a));return r=n.utf8_decode(r),r},n.utf8_decode=function(t){t=t.replace(/rn/g,"n");for(var e="",r=0;r<t.length;r++){var i=t.charCodeAt(r);i<128?e+=String.fromCharCode(i):i>127&&i<2048?(e+=String.fromCharCode(i>>6|192),e+=String.fromCharCode(i&63|128)):(e+=String.fromCharCode(i>>12|224),e+=String.fromCharCode(i>>6&63|128),e+=String.fromCharCode(i&63|128))}return e},n.setChartsLicenseManager=function(t){this.chartsLicenseManager=t},n.setLicenseKey=function(t){this.licenseKey=t,this.chartsLicenseManager&&this.chartsLicenseManager.setLicenseKey(t,!0)},n.extractBracketedInformation=function(t){if(!t.includes("["))return["legacy",!1,void 0];var e=t.match(/\[(.*?)\]/g).map(function(s){return s.replace("[","").replace("]","")});if(!e||e.length===0)return["legacy",!1,void 0];var r=e.filter(function(s){return s==="TRIAL"}).length===1,i=e.filter(function(s){return s.indexOf("v")===0})[0],o=i?i.replace("v",""):"legacy",a=B_[e.filter(function(s){return B_[s]})[0]];return[o,r,a]},n.prototype.centerPadAndOutput=function(t){var e=this.totalMessageLength-t.length;console.error(t.padStart(e/2+t.length,"*").padEnd(this.totalMessageLength,"*"))},n.prototype.padAndOutput=function(t,e,r){e===void 0&&(e="*"),r===void 0&&(r=""),console.error(t.padEnd(this.totalMessageLength-r.length,e)+r)},n.prototype.outputInvalidLicenseKey=function(t,e,r){t?(this.centerPadAndOutput(""),this.centerPadAndOutput(" ".concat(e," License ")),this.centerPadAndOutput(" Incompatible License Key "),this.padAndOutput("* Your license key is for ".concat(r," only and does not cover you for ").concat(e,".")," ","*"),this.padAndOutput("* Please contact info@ag-grid.com to obtain a combined license key."," ","*"),this.centerPadAndOutput(""),this.centerPadAndOutput("")):(this.centerPadAndOutput(""),this.centerPadAndOutput(" ".concat(e," License ")),this.centerPadAndOutput(" Invalid License Key "),this.padAndOutput("* Your license key is not valid - please contact info@ag-grid.com to obtain a valid license."," ","*"),this.centerPadAndOutput(""),this.centerPadAndOutput("")),this.watermarkMessage="Invalid License"},n.prototype.outputExpiredTrialKey=function(t,e,r){this.centerPadAndOutput(""),this.centerPadAndOutput(" ".concat(e," License ")),this.centerPadAndOutput(" Trial Period Expired. "),this.padAndOutput("* Your trial only license for ".concat(r," expired on ").concat(t,".")," ","*"),this.padAndOutput("* Please email info@ag-grid.com to purchase a license."," ","*"),this.centerPadAndOutput(""),this.centerPadAndOutput(""),this.watermarkMessage="Trial Period Expired"},n.prototype.outputMissingLicenseKey=function(t){this.centerPadAndOutput(""),this.centerPadAndOutput(" ".concat(t," License ")),this.centerPadAndOutput(" License Key Not Found "),this.padAndOutput("* All ".concat(t," features are unlocked for trial.")," ","*"),this.padAndOutput("* If you want to hide the watermark please email info@ag-grid.com for a trial license key."," ","*"),this.centerPadAndOutput(""),this.centerPadAndOutput(""),this.watermarkMessage="For Trial Use Only"},n.prototype.outputExpiredKey=function(t,e,r,i){this.centerPadAndOutput(""),this.centerPadAndOutput(" ".concat(r," License ")),this.centerPadAndOutput(" Incompatible Software Version "),this.padAndOutput("* Your license key works with versions of ".concat(i," released before ").concat(t,".")," ","*"),this.padAndOutput("* The version you are trying to use was released on ".concat(e,".")," ","*"),this.padAndOutput("* Please contact info@ag-grid.com to renew your license key."," ","*"),this.centerPadAndOutput(""),this.centerPadAndOutput(""),this.watermarkMessage="License Expired"},n.RELEASE_INFORMATION="MTcwODI3NzkwNjI5Nw==",n}(),o1e=function(){var n=function(t,e){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])},n(t,e)};return function(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");n(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}}(),hU=function(n,t,e,r){var i=arguments.length,o=i<3?t:r===null?r=Object.getOwnPropertyDescriptor(t,e):r,a;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(n,t,e,r);else for(var s=n.length-1;s>=0;s--)(a=n[s])&&(o=(i<3?a(o):i>3?a(t,e,o):a(t,e))||o);return i>3&&o&&Object.defineProperty(t,e,o),o},a1e=function(n){o1e(t,n);function t(){return n!==null&&n.apply(this,arguments)||this}return t.prototype.validateLicense=function(){this.licenseManager=new H_(this.gridOptionsService.getDocument()),this.licenseManager.validateLicense()},t.getLicenseDetails=function(e){return new H_(null).getLicenseDetails(e)},t.prototype.isDisplayWatermark=function(){return this.licenseManager.isDisplayWatermark()},t.prototype.getWatermarkMessage=function(){return this.licenseManager.getWatermarkMessage()},t.setLicenseKey=function(e){H_.setLicenseKey(e)},t.setChartsLicenseManager=function(e){H_.setChartsLicenseManager(e)},hU([Zh],t.prototype,"validateLicense",null),t=hU([ie("licenseManager")],t),t}(X),s1e=function(){var n=function(t,e){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])},n(t,e)};return function(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");n(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}}(),FD=function(n,t,e,r){var i=arguments.length,o=i<3?t:r===null?r=Object.getOwnPropertyDescriptor(t,e):r,a;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(n,t,e,r);else for(var s=n.length-1;s>=0;s--)(a=n[s])&&(o=(i<3?a(o):i>3?a(t,e,o):a(t,e))||o);return i>3&&o&&Object.defineProperty(t,e,o),o},l1e=function(n){s1e(t,n);function t(){return n.call(this,`<div class="ag-watermark">
                <div ref="eLicenseTextRef" class="ag-watermark-text"></div>
            </div>`)||this}return t.prototype.postConstruct=function(){var e=this,r=this.shouldDisplayWatermark();this.setDisplayed(r),r&&(this.eLicenseTextRef.innerText=this.licenseManager.getWatermarkMessage(),window.setTimeout(function(){return e.addCssClass("ag-opacity-zero")},0),window.setTimeout(function(){return e.setDisplayed(!1)},5e3))},t.prototype.shouldDisplayWatermark=function(){return this.licenseManager.isDisplayWatermark()},FD([E("licenseManager")],t.prototype,"licenseManager",void 0),FD([j("eLicenseTextRef")],t.prototype,"eLicenseTextRef",void 0),FD([z],t.prototype,"postConstruct",null),t}(ae),u1e="31.1.1",jn={version:u1e,moduleName:pe.EnterpriseCoreModule,beans:[a1e],agStackComponents:[{componentName:"AgWatermark",componentClass:l1e}]},c1e=function(){var n=function(t,e){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])},n(t,e)};return function(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");n(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}}(),j_=function(n,t,e,r){var i=arguments.length,o=i<3?t:r===null?r=Object.getOwnPropertyDescriptor(t,e):r,a;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(n,t,e,r);else for(var s=n.length-1;s>=0;s--)(a=n[s])&&(o=(i<3?a(o):i>3?a(t,e,o):a(t,e))||o);return i>3&&o&&Object.defineProperty(t,e,o),o},d1e=function(n){c1e(t,n);function t(e){var r=n.call(this,`
            <div class="ag-advanced-filter-header" role="row">
            </div>`)||this;return r.enabled=e,r}return t.prototype.postConstruct=function(){var e=this;this.setupAdvancedFilter(this.enabled),this.addDestroyFunc(function(){return e.destroyBean(e.eAdvancedFilter)}),this.addManagedListener(this.eventService,T.EVENT_GRID_COLUMNS_CHANGED,function(){return e.onGridColumnsChanged()}),this.addGuiEventListener("keydown",function(r){return e.onKeyDown(r)}),this.addGuiEventListener("focusout",function(r){e.getFocusableElement().contains(r.relatedTarget)||e.focusService.clearAdvancedFilterColumn()})},t.prototype.getFocusableElement=function(){var e,r;return(r=(e=this.eAdvancedFilter)===null||e===void 0?void 0:e.getGui())!==null&&r!==void 0?r:this.getGui()},t.prototype.setEnabled=function(e){e!==this.enabled&&this.setupAdvancedFilter(e)},t.prototype.refresh=function(){var e;(e=this.eAdvancedFilter)===null||e===void 0||e.refresh()},t.prototype.getHeight=function(){return this.height},t.prototype.setInputDisabled=function(e){var r;(r=this.eAdvancedFilter)===null||r===void 0||r.setInputDisabled(e)},t.prototype.setupAdvancedFilter=function(e){var r=this.getGui();if(e){this.eAdvancedFilter=this.createBean(new gV);var i=this.eAdvancedFilter.getGui();this.eAdvancedFilter.addCssClass("ag-advanced-filter-header-cell"),this.height=this.columnModel.getFloatingFiltersHeight();var o="".concat(this.height,"px");r.style.height=o,r.style.minHeight=o,this.setAriaRowIndex(),A.setAriaRole(i,"gridcell"),A.setAriaColIndex(i,1),this.setAriaColumnCount(i),r.appendChild(i)}else A.clearElement(r),this.destroyBean(this.eAdvancedFilter),this.height=0;A.setDisplayed(r,e),this.enabled=e},t.prototype.setAriaColumnCount=function(e){A.setAriaColSpan(e,this.columnModel.getAllGridColumns().length)},t.prototype.setAriaRowIndex=function(){A.setAriaRowIndex(this.getGui(),this.headerNavigationService.getHeaderRowCount())},t.prototype.onGridColumnsChanged=function(){this.eAdvancedFilter&&(this.setAriaColumnCount(this.eAdvancedFilter.getGui()),this.setAriaRowIndex())},t.prototype.onKeyDown=function(e){switch(e.key){case U.ENTER:{this.hasFocus()&&this.focusService.focusInto(this.getFocusableElement())&&e.preventDefault();break}case U.ESCAPE:this.hasFocus()||this.getFocusableElement().focus();break;case U.UP:this.navigateUpDown(!0,e);break;case U.DOWN:this.navigateUpDown(!1,e);break;case U.TAB:if(this.hasFocus())this.navigateLeftRight(e);else{var r=this.focusService.findNextFocusableElement(this.getFocusableElement(),null,e.shiftKey);r?(e.preventDefault(),r.focus()):this.navigateLeftRight(e)}break}},t.prototype.navigateUpDown=function(e,r){this.hasFocus()&&this.focusService.focusNextFromAdvancedFilter(e)&&r.preventDefault()},t.prototype.navigateLeftRight=function(e){(e.shiftKey?this.focusService.focusLastHeader():this.focusService.focusNextFromAdvancedFilter(!1,!0))&&e.preventDefault()},t.prototype.hasFocus=function(){var e=this.gridOptionsService.getDocument();return e.activeElement===this.getFocusableElement()},j_([E("columnModel")],t.prototype,"columnModel",void 0),j_([E("focusService")],t.prototype,"focusService",void 0),j_([E("headerNavigationService")],t.prototype,"headerNavigationService",void 0),j_([z],t.prototype,"postConstruct",null),t}(ae),p1e=function(){var n=function(t,e){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])},n(t,e)};return function(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");n(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}}(),uO=function(){return uO=Object.assign||function(n){for(var t,e=1,r=arguments.length;e<r;e++){t=arguments[e];for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(n[i]=t[i])}return n},uO.apply(this,arguments)},CZ=function(n){p1e(t,n);function t(e){var r=n.call(this,uO(uO({},e),{template:`
                <div class="ag-picker-field" role="presentation">
                    <div ref="eLabel"></div>
                    <div ref="eWrapper" class="ag-wrapper ag-picker-collapsed">
                        <div ref="eDisplayField" class="ag-picker-field-display"></div>
                        <ag-input-text-field ref="eInput" class="ag-rich-select-field-input"></ag-input-text-field>
                        <div ref="eIcon" class="ag-picker-field-icon" aria-hidden="true"></div>
                    </div>
                </div>`}))||this;return r.params=e,r}return t.prototype.showPicker=function(){var e=this;setTimeout(function(){return n.prototype.showPicker.call(e)})},t.prototype.hidePicker=function(){var e=this;setTimeout(function(){return n.prototype.hidePicker.call(e)})},t.prototype.postConstruct=function(){n.prototype.postConstruct.call(this);var e=this.params,r=e.wrapperClassName,i=e.ariaLabel;A.setDisplayed(this.eDisplayField,!1),r&&this.eWrapper.classList.add(r),A.setAriaLabelledBy(this.eWrapper,""),A.setAriaLabel(this.eWrapper,i)},t.prototype.onEnterKeyDown=function(e){A.stopPropagationForAgGrid(e),this.isPickerDisplayed?n.prototype.onEnterKeyDown.call(this,e):(e.preventDefault(),this.showPicker())},t}($w),h1e=function(){var n=function(t,e){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])},n(t,e)};return function(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");n(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}}(),f1e=function(n,t,e,r){var i=arguments.length,o=i<3?t:r===null?r=Object.getOwnPropertyDescriptor(t,e):r,a;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(n,t,e,r);else for(var s=n.length-1;s>=0;s--)(a=n[s])&&(o=(i<3?a(o):i>3?a(t,e,o):a(t,e))||o);return i>3&&o&&Object.defineProperty(t,e,o),o},zF=function(n){h1e(t,n);function t(e,r){var i=n.call(this)||this;return i.comp=e,i.virtualList=r,i}return t.prototype.postConstruct=function(){var e=this;this.createManagedBean(new hG(this.comp,this.virtualList,{dragSourceType:Or.AdvancedFilterBuilder,listItemDragStartEvent:t.EVENT_DRAG_STARTED,listItemDragEndEvent:t.EVENT_DRAG_ENDED,eventSource:this,getCurrentDragValue:function(r){return e.getCurrentDragValue(r)},isMoveBlocked:function(){return!1},getNumRows:function(r){return r.getNumItems()},moveItem:function(r,i){return e.moveItem(r,i)}}))},t.prototype.getCurrentDragValue=function(e){return e.item},t.prototype.moveItem=function(e,r){this.comp.moveItem(e,r)},t.EVENT_DRAG_STARTED="advancedFilterBuilderDragStarted",t.EVENT_DRAG_ENDED="advancedFilterBuilderDragEnded",f1e([z],t.prototype,"postConstruct",null),t}(X),v1e=function(){var n=function(t,e){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])},n(t,e)};return function(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");n(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}}(),g1e=function(n,t,e,r){var i=arguments.length,o=i<3?t:r===null?r=Object.getOwnPropertyDescriptor(t,e):r,a;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(n,t,e,r);else for(var s=n.length-1;s>=0;s--)(a=n[s])&&(o=(i<3?a(o):i>3?a(t,e,o):a(t,e))||o);return i>3&&o&&Object.defineProperty(t,e,o),o},SZ=function(n){v1e(t,n);function t(e,r,i){var o=n.call(this)||this;return o.eGui=e,o.focusWrapper=r,o.eFocusableComp=i,o}return t.prototype.postConstruct=function(){var e=this;this.addManagedListener(this.eGui,"keydown",function(r){switch(r.key){case U.TAB:r.defaultPrevented||A.stopPropagationForAgGrid(r);break;case U.UP:case U.DOWN:A.stopPropagationForAgGrid(r);break;case U.ESCAPE:if(A.isStopPropagationForAgGrid(r))return;var i=e.gridOptionsService.getDocument();e.eGui.contains(i.activeElement)&&(r.preventDefault(),A.stopPropagationForAgGrid(r),e.focusWrapper.focus());break}}),this.addManagedListener(this.focusWrapper,"keydown",function(r){switch(r.key){case U.ENTER:if(A.isStopPropagationForAgGrid(r))return;var i=e.gridOptionsService.getDocument();i.activeElement===e.focusWrapper&&(r.preventDefault(),A.stopPropagationForAgGrid(r),e.eFocusableComp.getFocusableElement().focus());break}}),this.addManagedListener(this.focusWrapper,"focusin",function(){e.focusWrapper.classList.add("ag-advanced-filter-builder-virtual-list-item-highlight")}),this.addManagedListener(this.focusWrapper,"focusout",function(r){e.focusWrapper.contains(r.relatedTarget)||e.focusWrapper.classList.remove("ag-advanced-filter-builder-virtual-list-item-highlight")})},g1e([z],t.prototype,"postConstruct",null),t}(X);function wZ(n,t){return{pickerAriaLabelKey:"ariaLabelAdvancedFilterBuilderAddField",pickerAriaLabelValue:"Advanced Filter Builder Add Field",pickerType:"ag-list",valueList:[{key:"condition",displayValue:n("advancedFilterBuilderAddCondition")},{key:"join",displayValue:n("advancedFilterBuilderAddJoin")}],valueFormatter:function(e){var r;return e==null?null:(r=e.displayValue)!==null&&r!==void 0?r:e.key},pickerIcon:"advancedFilterBuilderAdd",maxPickerWidth:"".concat(t??120,"px"),wrapperClassName:"ag-advanced-filter-builder-item-button",ariaLabel:n("advancedFilterBuilderAddButtonTooltip")}}var Zo=function(){function n(){}return n.EVENT_ADDED="advancedFilterBuilderAdded",n.EVENT_MOVED="advancedFilterBuilderMoved",n.EVENT_REMOVED="advancedFilterBuilderRemoved",n.EVENT_VALUE_CHANGED="advancedFilterBuilderValueChanged",n.EVENT_VALID_CHANGED="advancedFilterBuilderValidChanged",n}(),y1e=function(){var n=function(t,e){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])},n(t,e)};return function(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");n(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}}(),fU=function(n,t,e,r){var i=arguments.length,o=i<3?t:r===null?r=Object.getOwnPropertyDescriptor(t,e):r,a;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(n,t,e,r);else for(var s=n.length-1;s>=0;s--)(a=n[s])&&(o=(i<3?a(o):i>3?a(t,e,o):a(t,e))||o);return i>3&&o&&Object.defineProperty(t,e,o),o},m1e=function(n){y1e(t,n);function t(){var e=n.call(this,`
            <div class="ag-advanced-filter-builder-item-condition" role="presentation"></div>
        `)||this;return e.validationMessage=null,e}return t.prototype.init=function(e){var r=this,i=e.item,o=e.createPill;this.item=i,this.createPill=o,this.filterModel=i.filterModel,this.setupColumnCondition(this.filterModel),this.validate(),this.addDestroyFunc(function(){return r.destroyBeans([r.eColumnPill,r.eOperatorPill,r.eOperandPill])})},t.prototype.getDragName=function(){return this.filterModel.colId?this.advancedFilterExpressionService.parseColumnFilterModel(this.filterModel):this.getDefaultColumnDisplayValue()},t.prototype.getAriaLabel=function(){return"".concat(this.advancedFilterExpressionService.translate("ariaAdvancedFilterBuilderFilterItem")," ").concat(this.getDragName())},t.prototype.getValidationMessage=function(){return this.validationMessage},t.prototype.getFocusableElement=function(){return this.eColumnPill.getFocusableElement()},t.prototype.setupColumnCondition=function(e){var r=this,i,o=this.advancedFilterExpressionService.getColumnDetails(e.colId);this.baseCellDataType=o.baseCellDataType,this.column=o.column,this.numOperands=this.getNumOperands(this.getOperatorKey()),this.eColumnPill=this.createPill({key:this.getColumnKey(),displayValue:(i=this.getColumnDisplayValue())!==null&&i!==void 0?i:this.getDefaultColumnDisplayValue(),cssClass:"ag-advanced-filter-builder-column-pill",isSelect:!0,getEditorParams:function(){return{values:r.advancedFilterExpressionService.getColumnAutocompleteEntries()}},update:function(a){return r.setColumnKey(a)},pickerAriaLabelKey:"ariaLabelAdvancedFilterBuilderColumnSelectField",pickerAriaLabelValue:"Advanced Filter Builder Column Select Field",ariaLabel:this.advancedFilterExpressionService.translate("ariaAdvancedFilterBuilderColumn")}),this.getGui().appendChild(this.eColumnPill.getGui()),A.exists(this.getColumnKey())&&(this.createOperatorPill(),this.hasOperand()&&this.createOperandPill())},t.prototype.createOperatorPill=function(){var e=this,r;this.eOperatorPill=this.createPill({key:this.getOperatorKey(),displayValue:(r=this.getOperatorDisplayValue())!==null&&r!==void 0?r:this.getDefaultOptionSelectValue(),cssClass:"ag-advanced-filter-builder-option-pill",isSelect:!0,getEditorParams:function(){return{values:e.getOperatorAutocompleteEntries()}},update:function(i){return e.setOperatorKey(i)},pickerAriaLabelKey:"ariaLabelAdvancedFilterBuilderOptionSelectField",pickerAriaLabelValue:"Advanced Filter Builder Option Select Field",ariaLabel:this.advancedFilterExpressionService.translate("ariaAdvancedFilterBuilderOption")}),this.eColumnPill.getGui().insertAdjacentElement("afterend",this.eOperatorPill.getGui())},t.prototype.createOperandPill=function(){var e=this,r,i=(r=this.getOperandDisplayValue())!==null&&r!==void 0?r:"";this.eOperandPill=this.createPill({key:i,displayValue:i,baseCellDataType:this.baseCellDataType,cssClass:"ag-advanced-filter-builder-value-pill",isSelect:!1,update:function(o){return e.setOperand(o)},ariaLabel:this.advancedFilterExpressionService.translate("ariaAdvancedFilterBuilderValue")}),this.getGui().appendChild(this.eOperandPill.getGui())},t.prototype.getColumnKey=function(){return this.filterModel.colId},t.prototype.getColumnDisplayValue=function(){return this.advancedFilterExpressionService.getColumnDisplayValue(this.filterModel)},t.prototype.getOperatorKey=function(){return this.filterModel.type},t.prototype.getOperatorDisplayValue=function(){return this.advancedFilterExpressionService.getOperatorDisplayValue(this.filterModel)},t.prototype.getOperandDisplayValue=function(){return this.advancedFilterExpressionService.getOperandDisplayValue(this.filterModel,!0)},t.prototype.hasOperand=function(){return this.numOperands>0},t.prototype.getOperatorAutocompleteEntries=function(){return this.column?this.advancedFilterExpressionService.getOperatorAutocompleteEntries(this.column,this.baseCellDataType):[]},t.prototype.setColumnKey=function(e){this.eOperatorPill||this.createOperatorPill();var r=this.advancedFilterExpressionService.getColumnDetails(e);this.column=r.column;var i=r.baseCellDataType;this.baseCellDataType!==i&&(this.baseCellDataType=i,this.setOperatorKey(void 0),this.eOperatorPill&&(A.removeFromParent(this.eOperatorPill.getGui()),this.destroyBean(this.eOperatorPill),this.createOperatorPill()),this.validate()),this.filterModel.colId=e,this.filterModel.filterType=this.baseCellDataType},t.prototype.setOperatorKey=function(e){var r=this.getNumOperands(e);r!==this.numOperands&&(this.numOperands=r,r===0?this.destroyOperandPill():(this.createOperandPill(),this.baseCellDataType!=="number"&&this.setOperand(""))),this.filterModel.type=e,this.validate()},t.prototype.setOperand=function(e){var r,i=e;this.column&&(i=(r=this.advancedFilterExpressionService.getOperandModelValue(e,this.baseCellDataType,this.column))!==null&&r!==void 0?r:""),this.filterModel.filter=i,this.validate()},t.prototype.getNumOperands=function(e){var r,i;return(i=(r=this.advancedFilterExpressionService.getExpressionOperator(this.baseCellDataType,e))===null||r===void 0?void 0:r.numOperands)!==null&&i!==void 0?i:0},t.prototype.destroyOperandPill=function(){delete this.filterModel.filter,this.getGui().removeChild(this.eOperandPill.getGui()),this.destroyBean(this.eOperandPill),this.eOperandPill=void 0},t.prototype.validate=function(){var e=null;A.exists(this.getColumnKey())?A.exists(this.getOperatorKey())?this.numOperands>0&&!A.exists(this.getOperandDisplayValue())&&(e=this.advancedFilterExpressionService.translate("advancedFilterBuilderValidationEnterValue")):e=this.advancedFilterExpressionService.translate("advancedFilterBuilderValidationSelectOption"):e=this.advancedFilterExpressionService.translate("advancedFilterBuilderValidationSelectColumn"),this.item.valid=!e,e!==this.validationMessage&&(this.validationMessage=e,this.dispatchEvent({type:Zo.EVENT_VALID_CHANGED}))},t.prototype.getDefaultColumnDisplayValue=function(){return this.advancedFilterExpressionService.translate("advancedFilterBuilderSelectColumn")},t.prototype.getDefaultOptionSelectValue=function(){return this.advancedFilterExpressionService.translate("advancedFilterBuilderSelectOption")},fU([E("advancedFilterExpressionService")],t.prototype,"advancedFilterExpressionService",void 0),fU([E("valueParserService")],t.prototype,"valueParserService",void 0),t}(ae),C1e=function(){var n=function(t,e){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])},n(t,e)};return function(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");n(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}}(),$_=function(n,t,e,r){var i=arguments.length,o=i<3?t:r===null?r=Object.getOwnPropertyDescriptor(t,e):r,a;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(n,t,e,r);else for(var s=n.length-1;s>=0;s--)(a=n[s])&&(o=(i<3?a(o):i>3?a(t,e,o):a(t,e))||o);return i>3&&o&&Object.defineProperty(t,e,o),o},S1e=function(n){C1e(t,n);function t(e){var r=n.call(this,`
            <div class="ag-advanced-filter-builder-pill-wrapper" role="presentation">
                <div ref="ePill" class="ag-advanced-filter-builder-pill" role="button">
                    <span ref="eLabel" class="ag-advanced-filter-builder-pill-display"></span>
                </div>
            </div>
        `)||this;return r.params=e,r.value=e.value,r}return t.prototype.postConstruct=function(){var e=this,r=this.params,i=r.cssClass,o=r.ariaLabel;this.ePill.classList.add(i),this.activateTabIndex([this.ePill]),this.eLabel.id="".concat(this.getCompId()),A.setAriaDescribedBy(this.ePill,this.eLabel.id),A.setAriaLabel(this.ePill,o),this.renderValue(),this.addManagedListener(this.ePill,"click",function(a){a.preventDefault(),e.showEditor()}),this.addManagedListener(this.ePill,"keydown",function(a){switch(a.key){case U.ENTER:a.preventDefault(),A.stopPropagationForAgGrid(a),e.showEditor();break}}),this.addDestroyFunc(function(){return e.destroyBean(e.eEditor)})},t.prototype.getFocusableElement=function(){return this.ePill},t.prototype.showEditor=function(){var e=this;if(!this.eEditor){A.setDisplayed(this.ePill,!1),this.eEditor=this.createEditorComp(this.params.type),this.eEditor.setValue(this.value);var r=this.eEditor.getGui();this.eEditor.addManagedListener(r,"keydown",function(i){switch(i.key){case U.ENTER:i.preventDefault(),A.stopPropagationForAgGrid(i),e.updateValue(!0);break;case U.ESCAPE:i.preventDefault(),A.stopPropagationForAgGrid(i),e.hideEditor(!0);break}}),this.eEditor.addManagedListener(r,"focusout",function(){e.updateValue(!1)}),this.getGui().appendChild(r),this.eEditor.getFocusableElement().focus()}},t.prototype.createEditorComp=function(e){var r;switch(e){case"text":r=new su;break;case"number":r=new Bw;break;case"date":r=new EG;break}return this.createBean(r)},t.prototype.hideEditor=function(e){var r=this.eEditor;r&&(this.eEditor=void 0,this.getGui().removeChild(r.getGui()),this.destroyBean(r),A.setDisplayed(this.ePill,!0),e&&this.ePill.focus())},t.prototype.renderValue=function(){var e;this.eLabel.classList.remove("ag-advanced-filter-builder-value-empty","ag-advanced-filter-builder-value-number","ag-advanced-filter-builder-value-text"),A.exists(this.value)?this.params.type==="number"?(e=this.value,this.eLabel.classList.add("ag-advanced-filter-builder-value-number")):(e='"'.concat(this.value,'"'),this.eLabel.classList.add("ag-advanced-filter-builder-value-text")):(e=this.advancedFilterExpressionService.translate("advancedFilterBuilderEnterValue"),this.eLabel.classList.add("ag-advanced-filter-builder-value-empty")),this.eLabel.innerText=e},t.prototype.updateValue=function(e){var r;if(this.eEditor){var i=(r=this.eEditor.getValue())!==null&&r!==void 0?r:"";this.dispatchEvent({type:T.EVENT_FIELD_VALUE_CHANGED,value:i}),this.value=i,this.renderValue(),this.hideEditor(e)}},$_([j("ePill")],t.prototype,"ePill",void 0),$_([j("eLabel")],t.prototype,"eLabel",void 0),$_([E("advancedFilterExpressionService")],t.prototype,"advancedFilterExpressionService",void 0),$_([z],t.prototype,"postConstruct",null),t}(ae),w1e=function(){var n=function(t,e){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])},n(t,e)};return function(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");n(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}}(),_1e=function(n,t,e,r){var i=arguments.length,o=i<3?t:r===null?r=Object.getOwnPropertyDescriptor(t,e):r,a;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(n,t,e,r);else for(var s=n.length-1;s>=0;s--)(a=n[s])&&(o=(i<3?a(o):i>3?a(t,e,o):a(t,e))||o);return i>3&&o&&Object.defineProperty(t,e,o),o},x1e=function(n){w1e(t,n);function t(){return n.call(this,`
            <div class="ag-advanced-filter-builder-item-condition" role="presentation"></div>
        `)||this}return t.prototype.init=function(e){var r=this,i=e.item,o=e.createPill,a=i.filterModel;this.filterModel=a,this.ePill=o({key:a.type,displayValue:this.advancedFilterExpressionService.parseJoinOperator(a),cssClass:"ag-advanced-filter-builder-join-pill",isSelect:!0,getEditorParams:function(){return{values:r.advancedFilterExpressionService.getJoinOperatorAutocompleteEntries()}},update:function(s){return a.type=s},pickerAriaLabelKey:"ariaLabelAdvancedFilterBuilderJoinSelectField",pickerAriaLabelValue:"Advanced Filter Builder Join Operator Select Field",ariaLabel:this.advancedFilterExpressionService.translate("ariaAdvancedFilterBuilderJoinOperator")}),this.getGui().appendChild(this.ePill.getGui()),this.addDestroyFunc(function(){return r.destroyBean(r.ePill)})},t.prototype.getDragName=function(){return this.advancedFilterExpressionService.parseJoinOperator(this.filterModel)},t.prototype.getAriaLabel=function(){return"".concat(this.advancedFilterExpressionService.translate("ariaAdvancedFilterBuilderGroupItem")," ").concat(this.getDragName())},t.prototype.getValidationMessage=function(){return null},t.prototype.getFocusableElement=function(){return this.ePill.getFocusableElement()},_1e([E("advancedFilterExpressionService")],t.prototype,"advancedFilterExpressionService",void 0),t}(ae),E1e=function(){var n=function(t,e){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])},n(t,e)};return function(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");n(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}}(),cO=function(){return cO=Object.assign||function(n){for(var t,e=1,r=arguments.length;e<r;e++){t=arguments[e];for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(n[i]=t[i])}return n},cO.apply(this,arguments)},b1e=function(n){E1e(t,n);function t(e){var r=n.call(this,cO(cO({},e),{template:`
                <div class="ag-picker-field ag-advanced-filter-builder-pill-wrapper" role="presentation">
                    <div ref="eLabel"></div>
                    <div ref="eWrapper" class="ag-wrapper ag-advanced-filter-builder-pill ag-picker-collapsed">
                        <div ref="eDisplayField" class="ag-picker-field-display ag-advanced-filter-builder-pill-display"></div>
                        <ag-input-text-field ref="eInput" class="ag-rich-select-field-input"></ag-input-text-field>
                        <div ref="eIcon" class="ag-picker-field-icon" aria-hidden="true"></div>
                    </div>
                </div>`}))||this;return r.params=e,r}return t.prototype.getFocusableElement=function(){return this.eWrapper},t.prototype.showPicker=function(){var e=this;setTimeout(function(){return n.prototype.showPicker.call(e)})},t.prototype.hidePicker=function(){var e=this;setTimeout(function(){return n.prototype.hidePicker.call(e)})},t.prototype.postConstruct=function(){n.prototype.postConstruct.call(this);var e=this.params,r=e.wrapperClassName,i=e.ariaLabel;this.eWrapper.classList.add(r),A.setAriaLabelledBy(this.eWrapper,""),A.setAriaLabel(this.eWrapper,i)},t.prototype.createPickerComponent=function(){var e;if(!this.values){var r=this.params.getEditorParams().values;this.values=r;var i=this.value.key,o=(e=r.find(function(a){return a.key===i}))!==null&&e!==void 0?e:{key:i,displayValue:this.value.displayValue};this.value=o}return n.prototype.createPickerComponent.call(this)},t.prototype.onEnterKeyDown=function(e){A.stopPropagationForAgGrid(e),this.isPickerDisplayed?n.prototype.onEnterKeyDown.call(this,e):(e.preventDefault(),this.showPicker())},t}($w),O1e=function(){var n=function(t,e){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])},n(t,e)};return function(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");n(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}}(),Io=function(n,t,e,r){var i=arguments.length,o=i<3?t:r===null?r=Object.getOwnPropertyDescriptor(t,e):r,a;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(n,t,e,r);else for(var s=n.length-1;s>=0;s--)(a=n[s])&&(o=(i<3?a(o):i>3?a(t,e,o):a(t,e))||o);return i>3&&o&&Object.defineProperty(t,e,o),o},ID=function(n){O1e(t,n);function t(e,r,i){var o=n.call(this,`
            <div class="ag-advanced-filter-builder-item-wrapper" role="presentation">
                <div ref="eItem" class="ag-advanced-filter-builder-item" role="presentation">
                    <div ref="eTreeLines" class="ag-advanced-filter-builder-item-tree-lines" aria-hidden="true"></div>
                    <span ref="eDragHandle" class="ag-drag-handle" aria-hidden="true"></span>
                    <span ref="eValidation" class="ag-advanced-filter-builder-item-button ag-advanced-filter-builder-invalid" aria-hidden="true"></span>
                </div>
                <div ref="eButtons" class="ag-advanced-filter-builder-item-buttons">
                    <span ref="eMoveUpButton" class="ag-advanced-filter-builder-item-button" role="button"></span>
                    <span ref="eMoveDownButton" class="ag-advanced-filter-builder-item-button" role="button"></span>
                    <div ref="eAddButton" role="presentation"></div>
                    <span ref="eRemoveButton" class="ag-advanced-filter-builder-item-button" role="button"></span>
                </div>
            </div>
        `)||this;return o.item=e,o.dragFeature=r,o.focusWrapper=i,o.moveUpDisabled=!1,o.moveDownDisabled=!1,o}return t.prototype.postConstruct=function(){var e=this,r=this.item,i=r.filterModel,o=r.level,a=r.showMove,s=i.filterType==="join";if(this.ePillWrapper=this.createManagedBean(s?new x1e:new m1e),this.ePillWrapper.init({item:this.item,createPill:function(u){return e.createPill(u)}}),this.eDragHandle.insertAdjacentElement("afterend",this.ePillWrapper.getGui()),o===0){var l=document.createElement("div");l.classList.add("ag-advanced-filter-builder-item-tree-line-vertical-bottom"),l.classList.add("ag-advanced-filter-builder-item-tree-line-root"),this.eTreeLines.appendChild(l),A.setDisplayed(this.eDragHandle,!1),A.setDisplayed(this.eButtons,!1),A.setAriaExpanded(this.focusWrapper,!0)}else this.setupTreeLines(o),this.eDragHandle.appendChild(A.createIconNoSpan("advancedFilterBuilderDrag",this.gridOptionsService)),this.setupValidation(),this.setupMoveButtons(a),this.setupAddButton(),this.setupRemoveButton(),this.setupDragging(),this.updateAriaExpanded();A.setAriaLevel(this.focusWrapper,o+1),this.initialiseTabGuard({}),this.createManagedBean(new SZ(this.getGui(),this.focusWrapper,this.ePillWrapper)),this.updateAriaLabel(),this.addManagedListener(this.ePillWrapper,Zo.EVENT_VALUE_CHANGED,function(){return e.dispatchEvent({type:Zo.EVENT_VALUE_CHANGED})}),this.addManagedListener(this.ePillWrapper,Zo.EVENT_VALID_CHANGED,function(){return e.updateValidity()})},t.prototype.setState=function(e){var r=this.item.level;if(r!==0){var i=this.item.showMove,o=e.disableMoveUp,a=e.disableMoveDown,s=e.treeLines,l=e.showStartTreeLine;this.updateTreeLines(s,l),this.updateAriaExpanded(),i&&(this.moveUpDisabled=!!o,this.moveDownDisabled=!!a,this.eMoveUpButton.classList.toggle("ag-advanced-filter-builder-item-button-disabled",o),this.eMoveDownButton.classList.toggle("ag-advanced-filter-builder-item-button-disabled",a),A.setAriaDisabled(this.eMoveUpButton,!!o),A.setAriaDisabled(this.eMoveDownButton,!!a),this.moveUpTooltipFeature.refreshToolTip(),this.moveDownTooltipFeature.refreshToolTip())}},t.prototype.focusMoveButton=function(e){(e?this.eMoveUpButton:this.eMoveDownButton).focus()},t.prototype.afterAdd=function(){this.ePillWrapper.getFocusableElement().focus()},t.prototype.setupTreeLines=function(e){for(var r=0;r<e;r++){var i=document.createElement("div");this.eTreeLines.appendChild(i)}},t.prototype.updateTreeLines=function(e,r){for(var i=e.length-1,o=this.eTreeLines.children,a=0;a<i;a++){var s=o.item(a);s&&s.classList.toggle("ag-advanced-filter-builder-item-tree-line-vertical",!e[a])}var l=o.item(i);if(l){l.classList.add("ag-advanced-filter-builder-item-tree-line-horizontal");var u=e[i];l.classList.toggle("ag-advanced-filter-builder-item-tree-line-vertical-top",u),l.classList.toggle("ag-advanced-filter-builder-item-tree-line-vertical",!u)}this.eDragHandle.classList.toggle("ag-advanced-filter-builder-item-tree-line-vertical-bottom",r)},t.prototype.setupValidation=function(){var e=this;this.eValidation.appendChild(A.createIconNoSpan("advancedFilterBuilderInvalid",this.gridOptionsService)),this.validationTooltipFeature=this.createManagedBean(new ka({getGui:function(){return e.eValidation},getLocation:function(){return"advancedFilter"},getTooltipValue:function(){return e.ePillWrapper.getValidationMessage()},getTooltipShowDelayOverride:function(){return 1e3}},this.beans)),this.validationTooltipFeature.setComp(this.eValidation),this.updateValidity()},t.prototype.setupAddButton=function(){var e=this,r,i=wZ(function(s){return e.advancedFilterExpressionService.translate(s)},(r=this.gridOptionsService.get("advancedFilterBuilderParams"))===null||r===void 0?void 0:r.addSelectWidth),o=this.createManagedBean(new CZ(i));this.addManagedListener(o,T.EVENT_FIELD_PICKER_VALUE_SELECTED,function(s){var l=s.value;return e.dispatchEvent({type:Zo.EVENT_ADDED,item:e.item,isJoin:l.key==="join"})}),this.eAddButton.appendChild(o.getGui());var a=this.createManagedBean(new ka({getGui:function(){return e.eAddButton},getLocation:function(){return"advancedFilter"},getTooltipValue:function(){return e.advancedFilterExpressionService.translate("advancedFilterBuilderAddButtonTooltip")}},this.beans));a.setComp(this.eAddButton)},t.prototype.setupRemoveButton=function(){var e=this;this.eRemoveButton.appendChild(A.createIconNoSpan("advancedFilterBuilderRemove",this.gridOptionsService)),this.addManagedListener(this.eRemoveButton,"click",function(){return e.removeItem()}),this.addManagedListener(this.eRemoveButton,"keydown",function(i){switch(i.key){case U.ENTER:i.preventDefault(),A.stopPropagationForAgGrid(i),e.removeItem();break}});var r=this.createManagedBean(new ka({getGui:function(){return e.eRemoveButton},getLocation:function(){return"advancedFilter"},getTooltipValue:function(){return e.advancedFilterExpressionService.translate("advancedFilterBuilderRemoveButtonTooltip")}},this.beans));r.setComp(this.eRemoveButton),A.setAriaLabel(this.eRemoveButton,this.advancedFilterExpressionService.translate("advancedFilterBuilderRemoveButtonTooltip")),this.activateTabIndex([this.eRemoveButton])},t.prototype.setupMoveButtons=function(e){var r=this;e?(this.eMoveUpButton.appendChild(A.createIconNoSpan("advancedFilterBuilderMoveUp",this.gridOptionsService)),this.addManagedListener(this.eMoveUpButton,"click",function(){return r.moveItem(!0)}),this.addManagedListener(this.eMoveUpButton,"keydown",function(i){switch(i.key){case U.ENTER:i.preventDefault(),A.stopPropagationForAgGrid(i),r.moveItem(!0);break}}),this.moveUpTooltipFeature=this.createManagedBean(new ka({getGui:function(){return r.eMoveUpButton},getLocation:function(){return"advancedFilter"},getTooltipValue:function(){return r.moveUpDisabled?null:r.advancedFilterExpressionService.translate("advancedFilterBuilderMoveUpButtonTooltip")}},this.beans)),this.moveUpTooltipFeature.setComp(this.eMoveUpButton),A.setAriaLabel(this.eMoveUpButton,this.advancedFilterExpressionService.translate("advancedFilterBuilderMoveUpButtonTooltip")),this.eMoveDownButton.appendChild(A.createIconNoSpan("advancedFilterBuilderMoveDown",this.gridOptionsService)),this.addManagedListener(this.eMoveDownButton,"click",function(){return r.moveItem(!1)}),this.addManagedListener(this.eMoveDownButton,"keydown",function(i){switch(i.key){case U.ENTER:i.preventDefault(),A.stopPropagationForAgGrid(i),r.moveItem(!1);break}}),this.moveDownTooltipFeature=this.createManagedBean(new ka({getGui:function(){return r.eMoveDownButton},getLocation:function(){return"advancedFilter"},getTooltipValue:function(){return r.moveDownDisabled?null:r.advancedFilterExpressionService.translate("advancedFilterBuilderMoveDownButtonTooltip")}},this.beans)),this.moveDownTooltipFeature.setComp(this.eMoveDownButton),A.setAriaLabel(this.eMoveDownButton,this.advancedFilterExpressionService.translate("advancedFilterBuilderMoveDownButtonTooltip")),this.activateTabIndex([this.eMoveUpButton,this.eMoveDownButton])):(A.setDisplayed(this.eMoveUpButton,!1),A.setDisplayed(this.eMoveDownButton,!1))},t.prototype.updateValidity=function(){A.setVisible(this.eValidation,!this.item.valid),this.validationTooltipFeature.refreshToolTip(),this.updateAriaLabel()},t.prototype.createPill=function(e){var r=this,i,o,a=e.key,s=e.displayValue,l=e.cssClass,u=e.update,c=e.ariaLabel,d=function(C){C!=null&&(u(C),r.dispatchEvent({type:Zo.EVENT_VALUE_CHANGED}))};if(e.isSelect){var p=e.getEditorParams,h=e.pickerAriaLabelKey,f=e.pickerAriaLabelValue,v=this.gridOptionsService.get("advancedFilterBuilderParams"),g="".concat((i=v==null?void 0:v.pillSelectMinWidth)!==null&&i!==void 0?i:140,"px"),y="".concat((o=v==null?void 0:v.pillSelectMaxWidth)!==null&&o!==void 0?o:200,"px"),m=this.createBean(new b1e({pickerAriaLabelKey:h,pickerAriaLabelValue:f,pickerType:"ag-list",value:{key:a,displayValue:s},valueFormatter:function(C){var S;return C==null?null:(S=C.displayValue)!==null&&S!==void 0?S:C.key},variableWidth:!0,minPickerWidth:g,maxPickerWidth:y,getEditorParams:p,wrapperClassName:l,ariaLabel:c}));return this.addManagedListener(m,T.EVENT_FIELD_PICKER_VALUE_SELECTED,function(C){var S=C.value;return d(S==null?void 0:S.key)}),m}else{var m=this.createBean(new S1e({value:s,cssClass:l,type:this.getInputType(e.baseCellDataType),ariaLabel:c}));return this.addManagedListener(m,T.EVENT_FIELD_VALUE_CHANGED,function(S){var w=S.value;return d(w)}),m}},t.prototype.getInputType=function(e){switch(e){case"text":case"object":case"boolean":return"text";case"number":return"number";case"date":case"dateString":return"date"}},t.prototype.setupDragging=function(){var e=this,r={type:Or.AdvancedFilterBuilder,eElement:this.eDragHandle,dragItemName:function(){return e.ePillWrapper.getDragName()},getDefaultIconName:function(){return St.ICON_NOT_ALLOWED},getDragItem:function(){return{}},onDragStarted:function(){return e.dragFeature.dispatchEvent({type:zF.EVENT_DRAG_STARTED,item:e.item})},onDragStopped:function(){return e.dragFeature.dispatchEvent({type:zF.EVENT_DRAG_ENDED})}};this.dragAndDropService.addDragSource(r,!0),this.addDestroyFunc(function(){return e.dragAndDropService.removeDragSource(r)})},t.prototype.updateAriaLabel=function(){var e=this.ePillWrapper.getAriaLabel(),r="".concat(this.item.level+1),i=this.ePillWrapper.getValidationMessage(),o;i?o=this.advancedFilterExpressionService.translate("ariaAdvancedFilterBuilderItemValidation",[e,r,i]):o=this.advancedFilterExpressionService.translate("ariaAdvancedFilterBuilderItem",[e,r]),A.setAriaLabel(this.focusWrapper,o)},t.prototype.updateAriaExpanded=function(){A.removeAriaExpanded(this.focusWrapper);var e=this.item.filterModel;(e==null?void 0:e.filterType)==="join"&&e.conditions.length&&A.setAriaExpanded(this.focusWrapper,!0)},t.prototype.removeItem=function(){this.dispatchEvent({type:Zo.EVENT_REMOVED,item:this.item})},t.prototype.moveItem=function(e){this.dispatchEvent({type:Zo.EVENT_MOVED,item:this.item,backwards:e})},Io([j("eTreeLines")],t.prototype,"eTreeLines",void 0),Io([j("eDragHandle")],t.prototype,"eDragHandle",void 0),Io([j("eItem")],t.prototype,"eItem",void 0),Io([j("eButtons")],t.prototype,"eButtons",void 0),Io([j("eValidation")],t.prototype,"eValidation",void 0),Io([j("eMoveUpButton")],t.prototype,"eMoveUpButton",void 0),Io([j("eMoveDownButton")],t.prototype,"eMoveDownButton",void 0),Io([j("eAddButton")],t.prototype,"eAddButton",void 0),Io([j("eRemoveButton")],t.prototype,"eRemoveButton",void 0),Io([E("beans")],t.prototype,"beans",void 0),Io([E("dragAndDropService")],t.prototype,"dragAndDropService",void 0),Io([E("advancedFilterExpressionService")],t.prototype,"advancedFilterExpressionService",void 0),Io([z],t.prototype,"postConstruct",null),t}(Cc),R1e=function(){var n=function(t,e){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])},n(t,e)};return function(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");n(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}}(),W_=function(n,t,e,r){var i=arguments.length,o=i<3?t:r===null?r=Object.getOwnPropertyDescriptor(t,e):r,a;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(n,t,e,r);else for(var s=n.length-1;s>=0;s--)(a=n[s])&&(o=(i<3?a(o):i>3?a(t,e,o):a(t,e))||o);return i>3&&o&&Object.defineProperty(t,e,o),o},T1e=function(n){R1e(t,n);function t(e,r){var i=n.call(this,`
            <div class="ag-advanced-filter-builder-item-wrapper" role="presentation">
                <div ref="eItem" class="ag-advanced-filter-builder-item" role="presentation">
                    <div class="ag-advanced-filter-builder-item-tree-lines" aria-hidden="true">
                        <div class="ag-advanced-filter-builder-item-tree-line-vertical-top ag-advanced-filter-builder-item-tree-line-horizontal"></div>
                    </div>
                </div>
            </div>
        `)||this;return i.item=e,i.focusWrapper=r,i}return t.prototype.postConstruct=function(){var e=this,r;A.setAriaLevel(this.focusWrapper,2);var i=wZ(function(s){return e.advancedFilterExpressionService.translate(s)},(r=this.gridOptionsService.get("advancedFilterBuilderParams"))===null||r===void 0?void 0:r.addSelectWidth),o=this.createManagedBean(new CZ(i));this.addManagedListener(o,T.EVENT_FIELD_PICKER_VALUE_SELECTED,function(s){var l=s.value;e.dispatchEvent({type:Zo.EVENT_ADDED,item:e.item,isJoin:l.key==="join"})}),this.eItem.appendChild(o.getGui());var a=this.createManagedBean(new ka({getGui:function(){return o.getGui()},getLocation:function(){return"advancedFilter"},getTooltipValue:function(){return e.advancedFilterExpressionService.translate("advancedFilterBuilderAddButtonTooltip")}},this.beans));a.setComp(o.getGui()),this.createManagedBean(new SZ(this.getGui(),this.focusWrapper,o)),A.setAriaLabel(this.focusWrapper,this.advancedFilterExpressionService.translate("ariaAdvancedFilterBuilderItem",[this.advancedFilterExpressionService.translate("advancedFilterBuilderAddButtonTooltip"),"".concat(this.item.level+1)]))},t.prototype.afterAdd=function(){},W_([E("beans")],t.prototype,"beans",void 0),W_([E("advancedFilterExpressionService")],t.prototype,"advancedFilterExpressionService",void 0),W_([j("eItem")],t.prototype,"eItem",void 0),W_([z],t.prototype,"postConstruct",null),t}(ae),P1e=function(){var n=function(t,e){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])},n(t,e)};return function(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");n(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}}(),Wc=function(n,t,e,r){var i=arguments.length,o=i<3?t:r===null?r=Object.getOwnPropertyDescriptor(t,e):r,a;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(n,t,e,r);else for(var s=n.length-1;s>=0;s--)(a=n[s])&&(o=(i<3?a(o):i>3?a(t,e,o):a(t,e))||o);return i>3&&o&&Object.defineProperty(t,e,o),o},A1e=function(n,t){var e=typeof Symbol=="function"&&n[Symbol.iterator];if(!e)return n;var r=e.call(n),i,o=[],a;try{for(;(t===void 0||t-- >0)&&!(i=r.next()).done;)o.push(i.value)}catch(s){a={error:s}}finally{try{i&&!i.done&&(e=r.return)&&e.call(r)}finally{if(a)throw a.error}}return o},D1e=function(n,t,e){if(e||arguments.length===2)for(var r=0,i=t.length,o;r<i;r++)(o||!(r in t))&&(o||(o=Array.prototype.slice.call(t,0,r)),o[r]=t[r]);return n.concat(o||Array.prototype.slice.call(t))},M1e=function(n){P1e(t,n);function t(){var e=n.call(this,`
            <div role="presentation" class="ag-advanced-filter-builder" tabindex="-1">
                <div role="presentation" class="ag-advanced-filter-builder-list" ref="eList"></div>
                <div role="presentation" class="ag-advanced-filter-builder-button-panel">
                    <button class="ag-button ag-standard-button ag-advanced-filter-builder-apply-button" ref="eApplyFilterButton"></button>
                    <button class="ag-button ag-standard-button ag-advanced-filter-builder-cancel-button" ref="eCancelFilterButton"></button>
                </div>
            </div>`)||this;return e.validationMessage=null,e}return t.prototype.postConstruct=function(){var e=this,r,i=((r=this.gridOptionsService.get("advancedFilterBuilderParams"))!==null&&r!==void 0?r:{}).showMoveButtons;this.showMove=!!i,this.addManagedPropertyListener("advancedFilterBuilderParams",function(o){var a=o.currentValue;e.showMove=!!(a!=null&&a.showMoveButtons),e.refreshList(!1)}),this.filterModel=this.setupFilterModel(),this.setupVirtualList(),this.dragFeature=this.createManagedBean(new zF(this,this.virtualList)),this.setupButtons()},t.prototype.refresh=function(){var e=this.virtualList.getLastFocusedRow();this.setupFilterModel(),this.validateItems(),this.refreshList(!1),e!=null&&(this.virtualList.getComponentAt(e)||(e=0),this.virtualList.focusRow(e))},t.prototype.getNumItems=function(){return this.items.length},t.prototype.moveItem=function(e,r){!r||!e||this.moveItemToIndex(e,r.rowIndex,r.position)},t.prototype.afterGuiAttached=function(){this.virtualList.focusRow(0)},t.prototype.setupVirtualList=function(){var e=this;this.virtualList=this.createManagedBean(new yf({cssIdentifier:"advanced-filter-builder",ariaRole:"tree",listName:this.advancedFilterExpressionService.translate("ariaAdvancedFilterBuilderList")})),this.virtualList.setComponentCreator(this.createItemComponent.bind(this)),this.virtualList.setComponentUpdater(this.updateItemComponent.bind(this)),this.virtualList.setRowHeight(40),this.eList.appendChild(this.virtualList.getGui()),this.virtualList.setModel({getRowCount:function(){return e.items.length},getRow:function(r){return e.items[r]},areRowsEqual:function(r,i){return r===i}}),this.buildList(),this.virtualList.refresh()},t.prototype.setupButtons=function(){var e=this;this.eApplyFilterButton.innerText=this.advancedFilterExpressionService.translate("advancedFilterBuilderApply"),this.activateTabIndex([this.eApplyFilterButton]),this.addManagedListener(this.eApplyFilterButton,"click",function(){e.advancedFilterService.setModel(e.filterModel),e.filterManager.onFilterChanged({source:"advancedFilter"}),e.close()}),this.validationTooltipFeature=this.createManagedBean(new ka({getGui:function(){return e.eApplyFilterButton},getLocation:function(){return"advancedFilter"},getTooltipValue:function(){return e.validationMessage},getTooltipShowDelayOverride:function(){return 1e3}},this.beans)),this.validationTooltipFeature.setComp(this.eApplyFilterButton),this.validate(),this.addManagedListener(this.eApplyFilterButton,"mouseenter",function(){return e.addOrRemoveCssClass("ag-advanced-filter-builder-validation",!0)}),this.addManagedListener(this.eApplyFilterButton,"mouseleave",function(){return e.addOrRemoveCssClass("ag-advanced-filter-builder-validation",!1)}),this.eCancelFilterButton.innerText=this.advancedFilterExpressionService.translate("advancedFilterBuilderCancel"),this.activateTabIndex([this.eCancelFilterButton]),this.addManagedListener(this.eCancelFilterButton,"click",function(){return e.close()})},t.prototype.removeItemFromParent=function(e){var r=e.parent.conditions.indexOf(e.filterModel);return e.parent.conditions.splice(r,1),r},t.prototype.moveItemToIndex=function(e,r,i){var o,a=this.items[r],s=((o=a.filterModel)===null||o===void 0?void 0:o.filterType)==="join"&&i==="bottom",l=s?a.filterModel:a.parent;if(l&&!(this.isChildOrSelf(l,e.filterModel)||a===e)){this.removeItemFromParent(e);var u;s?u=0:(u=l.conditions.indexOf(a.filterModel),u===-1?u=l.conditions.length:i==="bottom"&&(u+=1)),l.conditions.splice(u,0,e.filterModel),this.refreshList(!1)}},t.prototype.isChildOrSelf=function(e,r){var i=this;return e===r||r.filterType==="join"&&r.conditions.some(function(o){return i.isChildOrSelf(e,o)})},t.prototype.setupFilterModel=function(){var e=this.formatFilterModel(this.advancedFilterService.getModel());return this.stringifiedModel=JSON.stringify(e),e},t.prototype.formatFilterModel=function(e){return e=e??{filterType:"join",type:"AND",conditions:[]},e.filterType!=="join"&&(e={filterType:"join",type:"AND",conditions:[e]}),e},t.prototype.buildList=function(){var e=this,r=function(i,o,a,s){o.push({filterModel:i,level:a,parent:s,valid:!0,showMove:e.showMove}),i.filterType==="join"&&(i.conditions.forEach(function(l){return r(l,o,a+1,i)}),a===0&&o.push({filterModel:null,level:a+1,parent:i,valid:!0}))};this.items=[],r(this.filterModel,this.items,0)},t.prototype.refreshList=function(e){if(!e){var r=[];this.items.forEach(function(i){i.valid||r.push(i.filterModel)}),this.buildList(),r.length&&this.items.forEach(function(i){i.filterModel&&r.includes(i.filterModel)&&(i.valid=!1)})}this.virtualList.refresh(e),this.validate()},t.prototype.updateItemComponent=function(e,r){var i=this,o=this.items.indexOf(e),a=function(c,d){var p=i.items.find(function(v){return v.filterModel===c}),h=p==null?void 0:p.parent;if(h){var f=h.conditions;a(h,d),d.push(f[f.length-1]===c)}},s=[],l=e.filterModel;l&&(a(l,s),s[0]=!1);var u=(l==null?void 0:l.filterType)==="join"&&!!l.conditions.length;r.setState({disableMoveUp:o===1,disableMoveDown:!this.canMoveDown(e,o),treeLines:s,showStartTreeLine:u})},t.prototype.createItemComponent=function(e,r){var i=this,o=this.createBean(e.filterModel?new ID(e,this.dragFeature,r):new T1e(e,r));return o.addManagedListener(o,Zo.EVENT_REMOVED,function(a){var s=a.item;return i.removeItem(s)}),o.addManagedListener(o,Zo.EVENT_VALUE_CHANGED,function(){return i.validate()}),o.addManagedListener(o,Zo.EVENT_ADDED,function(a){var s=a.item,l=a.isJoin;return i.addItem(s,l)}),o.addManagedListener(o,Zo.EVENT_MOVED,function(a){var s=a.item,l=a.backwards;return i.moveItemUpDown(s,l)}),o instanceof ID&&this.updateItemComponent(e,o),o},t.prototype.addItem=function(e,r){var i,o,a=e.parent,s=e.level,l=e.filterModel,u=(l==null?void 0:l.filterType)==="join",c=r?{filterType:"join",type:"AND",conditions:[]}:{},d=u?l:a,p=u?0:d.conditions.indexOf(l);p>=0?(u||(p+=1),d.conditions.splice(p,0,c)):d.conditions.push(c);var h=this.items.indexOf(e),f=h>=0;if(f){e.filterModel&&h++;var v=[{filterModel:c,level:u?s+1:s,parent:d,valid:r,showMove:this.showMove}];(i=this.items).splice.apply(i,D1e([h,0],A1e(v),!1))}this.refreshList(f),f&&((o=this.virtualList.getComponentAt(h))===null||o===void 0||o.afterAdd())},t.prototype.removeItem=function(e){var r,i=e.parent,o=e.filterModel,a=i.conditions.indexOf(o);i.conditions.splice(a,1);var s=((r=e.filterModel)===null||r===void 0?void 0:r.filterType)==="join",l=this.items.indexOf(e),u=!s&&l>=0;u&&this.items.splice(l,1),this.refreshList(u),l>=0&&this.virtualList.focusRow(l)},t.prototype.moveItemUpDown=function(e,r){var i=this.items.indexOf(e),o=r?i-1:i+1;if(!(o===0||!r&&!this.canMoveDown(e,i))){var a=this.items[o],s=this.removeItemFromParent(e),l=e.level,u=e.filterModel,c=e.parent,d=a.level,p=a.filterModel,h=a.parent;if(r)if(d===l&&p.filterType==="join")p.conditions.push(u);else if(d<=l){var f=h.conditions.indexOf(p);h.conditions.splice(f,0,u)}else{var v=c.conditions[s-1];v.conditions.push(u)}else if(d===l)if(p.filterType==="join")p.conditions.splice(0,0,u);else{var g=h.conditions.indexOf(p);h.conditions.splice(g+1,0,u)}else if(s<c.conditions.length)c.conditions.splice(s+1,0,u);else{var y=this.items.find(function(w){return w.filterModel===c}),m=y.parent.conditions.indexOf(y.filterModel)+1;y.parent.conditions.splice(m,0,u)}this.refreshList(!1);var C=this.items.findIndex(function(w){var _=w.filterModel;return _===u});if(C>=0){var S=this.virtualList.getComponentAt(C);S instanceof ID&&S.focusMoveButton(r)}}},t.prototype.canMoveDown=function(e,r){return!(e.level===1&&r===this.items.length-2||e.level===1&&e.parent.conditions[e.parent.conditions.length-1]===e.filterModel)},t.prototype.close=function(){this.advancedFilterService.getCtrl().toggleFilterBuilder("ui")},t.prototype.validate=function(){var e=!this.items.every(function(r){var i=r.valid;return i});e?this.validationMessage=this.advancedFilterExpressionService.translate("advancedFilterBuilderValidationIncomplete"):(e=JSON.stringify(this.filterModel)===this.stringifiedModel,e?this.validationMessage=this.advancedFilterExpressionService.translate("advancedFilterBuilderValidationAlreadyApplied"):this.validationMessage=null),A.setDisabled(this.eApplyFilterButton,e),this.validationTooltipFeature.refreshToolTip()},t.prototype.validateItems=function(){var e=this,r=function(o){o.type=void 0},i=function(o){delete o.filter};this.items.forEach(function(o){if(!(!o.valid||!o.filterModel||o.filterModel.filterType==="join")){var a=o.filterModel,s=a.colId,l=e.advancedFilterExpressionService.getColumnAutocompleteEntries().find(function(p){var h=p.key;return h===s}),u=e.advancedFilterExpressionService.getColumnDetails(a.colId);if(!l||!u.column){o.valid=!1,a.colId=void 0,r(a),i(a);return}var c=e.advancedFilterExpressionService.getDataTypeExpressionOperator(u.baseCellDataType),d=c.operators[a.type];if(!d){o.valid=!1,r(a),i(a);return}if(d.numOperands>0&&!A.exists(a.filter)){o.valid=!1;return}}})},Wc([j("eList")],t.prototype,"eList",void 0),Wc([j("eApplyFilterButton")],t.prototype,"eApplyFilterButton",void 0),Wc([j("eCancelFilterButton")],t.prototype,"eCancelFilterButton",void 0),Wc([E("filterManager")],t.prototype,"filterManager",void 0),Wc([E("advancedFilterService")],t.prototype,"advancedFilterService",void 0),Wc([E("advancedFilterExpressionService")],t.prototype,"advancedFilterExpressionService",void 0),Wc([E("beans")],t.prototype,"beans",void 0),Wc([z],t.prototype,"postConstruct",null),t}(ae),L1e=function(){var n=function(t,e){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])},n(t,e)};return function(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");n(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}}(),dm=function(n,t,e,r){var i=arguments.length,o=i<3?t:r===null?r=Object.getOwnPropertyDescriptor(t,e):r,a;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(n,t,e,r);else for(var s=n.length-1;s>=0;s--)(a=n[s])&&(o=(i<3?a(o):i>3?a(t,e,o):a(t,e))||o);return i>3&&o&&Object.defineProperty(t,e,o),o},F1e=function(n,t){var e=typeof Symbol=="function"&&n[Symbol.iterator];if(!e)return n;var r=e.call(n),i,o=[],a;try{for(;(t===void 0||t-- >0)&&!(i=r.next()).done;)o.push(i.value)}catch(s){a={error:s}}finally{try{i&&!i.done&&(e=r.return)&&e.call(r)}finally{if(a)throw a.error}}return o},I1e=function(n,t,e){if(e||arguments.length===2)for(var r=0,i=t.length,o;r<i;r++)(o||!(r in t))&&(o||(o=Array.prototype.slice.call(t,0,r)),o[r]=t[r]);return n.concat(o||Array.prototype.slice.call(t))},_Z=function(n){L1e(t,n);function t(e){var r=n.call(this)||this;return r.enabled=e,r}return t.prototype.postConstruct=function(){var e=this;this.hasAdvancedFilterParent=!!this.gridOptionsService.get("advancedFilterParent"),this.ctrlsService.whenReady(function(){return e.setAdvancedFilterComp()}),this.addManagedListener(this.eventService,T.EVENT_ADVANCED_FILTER_ENABLED_CHANGED,function(r){var i=r.enabled;return e.onEnabledChanged(i)}),this.addManagedPropertyListener("advancedFilterParent",function(){return e.updateComps()}),this.addDestroyFunc(function(){e.destroyAdvancedFilterComp(),e.destroyBean(e.eBuilderComp),e.eBuilderDialog&&e.eBuilderDialog.isAlive()&&e.destroyBean(e.eBuilderDialog)})},t.prototype.setupHeaderComp=function(e){this.eHeaderComp=this.createManagedBean(new d1e(this.enabled&&!this.hasAdvancedFilterParent)),e.insertAdjacentElement("beforebegin",this.eHeaderComp.getGui())},t.prototype.focusHeaderComp=function(){return this.eHeaderComp?(this.eHeaderComp.getFocusableElement().focus(),!0):!1},t.prototype.refreshComp=function(){var e,r;(e=this.eFilterComp)===null||e===void 0||e.refresh(),(r=this.eHeaderComp)===null||r===void 0||r.refresh()},t.prototype.refreshBuilderComp=function(){var e;(e=this.eBuilderComp)===null||e===void 0||e.refresh()},t.prototype.getHeaderHeight=function(){var e,r;return(r=(e=this.eHeaderComp)===null||e===void 0?void 0:e.getHeight())!==null&&r!==void 0?r:0},t.prototype.setInputDisabled=function(e){var r,i;(r=this.eFilterComp)===null||r===void 0||r.setInputDisabled(e),(i=this.eHeaderComp)===null||i===void 0||i.setInputDisabled(e)},t.prototype.toggleFilterBuilder=function(e,r){var i=this;if(!(r&&this.eBuilderDialog||r===!1&&!this.eBuilderDialog)){if(this.eBuilderDialog){this.builderDestroySource=e,this.destroyBean(this.eBuilderDialog);return}this.setInputDisabled(!0);var o=this.getBuilderDialogSize(),a=o.width,s=o.height,l=o.minWidth;this.eBuilderComp=this.createBean(new M1e),this.eBuilderDialog=this.createBean(new rf({title:this.advancedFilterExpressionService.translate("advancedFilterBuilderTitle"),component:this.eBuilderComp,width:a,height:s,resizable:!0,movable:!0,maximizable:!0,centered:!0,closable:!0,minWidth:l,afterGuiAttached:function(){var u;return(u=i.eBuilderComp)===null||u===void 0?void 0:u.afterGuiAttached()}})),this.dispatchFilterBuilderVisibleChangedEvent(e,!0),this.eBuilderDialog.addEventListener(rf.EVENT_DESTROYED,function(){var u;i.destroyBean(i.eBuilderComp),i.eBuilderComp=void 0,i.eBuilderDialog=void 0,i.setInputDisabled(!1),i.dispatchEvent({type:t.EVENT_BUILDER_CLOSED}),i.dispatchFilterBuilderVisibleChangedEvent((u=i.builderDestroySource)!==null&&u!==void 0?u:"ui",!1),i.builderDestroySource=void 0})}},t.prototype.dispatchFilterBuilderVisibleChangedEvent=function(e,r){var i={type:T.EVENT_ADVANCED_FILTER_BUILDER_VISIBLE_CHANGED,source:e,visible:r};this.eventService.dispatchEvent(i)},t.prototype.getBuilderDialogSize=function(){var e,r,i=(r=(e=this.gridOptionsService.get("advancedFilterBuilderParams"))===null||e===void 0?void 0:e.minWidth)!==null&&r!==void 0?r:500,o=this.popupService.getPopupParent(),a=Math.round(A.getAbsoluteWidth(o))-2,s=Math.round(A.getAbsoluteHeight(o)*.75)-2,l=Math.min(Math.max(600,i),a),u=Math.min(600,s);return{width:l,height:u,minWidth:i}},t.prototype.onEnabledChanged=function(e){this.enabled=e,this.updateComps()},t.prototype.updateComps=function(){this.setAdvancedFilterComp(),this.setHeaderCompEnabled(),this.eventService.dispatchEvent({type:T.EVENT_HEADER_HEIGHT_CHANGED})},t.prototype.setAdvancedFilterComp=function(){var e;if(this.destroyAdvancedFilterComp(),!!this.enabled){var r=this.gridOptionsService.get("advancedFilterParent");if(this.hasAdvancedFilterParent=!!r,r){var i=this.createBean(new gV),o=i.getGui(),a=this.environment.getTheme().allThemes;a.length&&(e=o.classList).add.apply(e,I1e([],F1e(a),!1)),o.classList.add(this.gridOptionsService.get("enableRtl")?"ag-rtl":"ag-ltr"),r.appendChild(o),this.eFilterComp=i}}},t.prototype.setHeaderCompEnabled=function(){var e;(e=this.eHeaderComp)===null||e===void 0||e.setEnabled(this.enabled&&!this.hasAdvancedFilterParent)},t.prototype.destroyAdvancedFilterComp=function(){this.eFilterComp&&(A.removeFromParent(this.eFilterComp.getGui()),this.destroyBean(this.eFilterComp))},t.EVENT_BUILDER_CLOSED="advancedFilterBuilderClosed",dm([E("focusService")],t.prototype,"focusService",void 0),dm([E("ctrlsService")],t.prototype,"ctrlsService",void 0),dm([E("popupService")],t.prototype,"popupService",void 0),dm([E("advancedFilterExpressionService")],t.prototype,"advancedFilterExpressionService",void 0),dm([z],t.prototype,"postConstruct",null),t}(X),N1e=function(){var n=function(t,e){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])},n(t,e)};return function(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");n(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}}(),Su=function(n,t,e,r){var i=arguments.length,o=i<3?t:r===null?r=Object.getOwnPropertyDescriptor(t,e):r,a;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(n,t,e,r);else for(var s=n.length-1;s>=0;s--)(a=n[s])&&(o=(i<3?a(o):i>3?a(t,e,o):a(t,e))||o);return i>3&&o&&Object.defineProperty(t,e,o),o},gV=function(n){N1e(t,n);function t(){var e=n.call(this,`
            <div class="ag-advanced-filter" role="presentation" tabindex="-1">
                <ag-autocomplete ref="eAutocomplete"></ag-autocomplete>
                <button class="ag-button ag-standard-button ag-advanced-filter-apply-button" ref="eApplyFilterButton"></button>
                <button class="ag-advanced-filter-builder-button" ref="eBuilderFilterButton">
                    <span ref="eBuilderFilterButtonIcon" aria-hidden="true"></span>
                    <span class="ag-advanced-filter-builder-button-label" ref="eBuilderFilterButtonLabel"></span>
                </button>
            </div>`)||this;return e.expressionParser=null,e.isApplyDisabled=!0,e.builderOpen=!1,e}return t.prototype.postConstruct=function(){var e=this;this.eAutocomplete.setListGenerator(function(r,i){return e.generateAutocompleteListParams(i)}).setValidator(function(){return e.validateValue()}).setForceLastSelection(function(r,i){return e.forceLastSelection(r,i)}).setInputAriaLabel(this.advancedFilterExpressionService.translate("ariaAdvancedFilterInput")).setListAriaLabel(this.advancedFilterExpressionService.translate("ariaLabelAdvancedFilterAutocomplete")),this.refresh(),this.addManagedListener(this.eAutocomplete,Pv.EVENT_VALUE_CHANGED,function(r){var i=r.value;return e.onValueChanged(i)}),this.addManagedListener(this.eAutocomplete,Pv.EVENT_VALUE_CONFIRMED,function(r){var i=r.isValid;return e.onValueConfirmed(i)}),this.addManagedListener(this.eAutocomplete,Pv.EVENT_OPTION_SELECTED,function(r){var i=r.position,o=r.updateEntry,a=r.autocompleteType;return e.onOptionSelected(i,o,a)}),this.addManagedListener(this.eAutocomplete,Pv.EVENT_VALID_CHANGED,function(r){var i=r.isValid,o=r.validationMessage;return e.onValidChanged(i,o)}),this.setupApplyButton(),this.setupBuilderButton()},t.prototype.refresh=function(){var e=this.advancedFilterService.getExpressionDisplayValue();this.eAutocomplete.setValue({value:e??"",position:e==null?void 0:e.length,updateListOnlyIfOpen:!0})},t.prototype.setInputDisabled=function(e){this.eAutocomplete.setInputDisabled(e),A.setDisabled(this.eApplyFilterButton,e||this.isApplyDisabled)},t.prototype.getTooltipParams=function(){var e=n.prototype.getTooltipParams.call(this);return e.location="advancedFilter",e},t.prototype.setupApplyButton=function(){var e=this;this.eApplyFilterButton.innerText=this.advancedFilterExpressionService.translate("advancedFilterApply"),this.activateTabIndex([this.eApplyFilterButton]),this.addManagedListener(this.eApplyFilterButton,"click",function(){return e.onValueConfirmed(e.eAutocomplete.isValid())}),A.setDisabled(this.eApplyFilterButton,this.isApplyDisabled)},t.prototype.setupBuilderButton=function(){var e=this;this.eBuilderFilterButtonIcon.appendChild(A.createIconNoSpan("advancedFilterBuilder",this.gridOptionsService)),this.eBuilderFilterButtonLabel.innerText=this.advancedFilterExpressionService.translate("advancedFilterBuilder"),this.activateTabIndex([this.eBuilderFilterButton]),this.addManagedListener(this.eBuilderFilterButton,"click",function(){return e.openBuilder()}),this.addManagedListener(this.advancedFilterService.getCtrl(),_Z.EVENT_BUILDER_CLOSED,function(){return e.closeBuilder()})},t.prototype.onValueChanged=function(e){var r;e=A.makeNull(e),this.advancedFilterService.setExpressionDisplayValue(e),this.expressionParser=this.advancedFilterService.createExpressionParser(e);var i=(r=this.expressionParser)===null||r===void 0?void 0:r.parseExpression();i&&i!==e&&this.eAutocomplete.setValue({value:i,silent:!0,restoreFocus:!0})},t.prototype.onValueConfirmed=function(e){!e||this.isApplyDisabled||(A.setDisabled(this.eApplyFilterButton,!0),this.advancedFilterService.applyExpression(),this.filterManager.onFilterChanged({source:"advancedFilter"}))},t.prototype.onOptionSelected=function(e,r,i){var o=this.updateExpression(e,r,i),a=o.updatedValue,s=o.updatedPosition,l=o.hideAutocomplete;this.eAutocomplete.setValue({value:a,position:s,updateListOnlyIfOpen:l,restoreFocus:!0})},t.prototype.validateValue=function(){var e,r,i;return!((e=this.expressionParser)===null||e===void 0)&&e.isValid()?null:(i=(r=this.expressionParser)===null||r===void 0?void 0:r.getValidationMessage())!==null&&i!==void 0?i:null},t.prototype.onValidChanged=function(e,r){this.isApplyDisabled=!e||this.advancedFilterService.isCurrentExpressionApplied(),A.setDisabled(this.eApplyFilterButton,this.isApplyDisabled),this.setTooltip(r,1e3)},t.prototype.generateAutocompleteListParams=function(e){return this.expressionParser?this.expressionParser.getAutocompleteListParams(e):this.advancedFilterExpressionService.getDefaultAutocompleteListParams("")},t.prototype.updateExpression=function(e,r,i){var o,a;return this.advancedFilterExpressionService.updateAutocompleteCache(r,i),(a=(o=this.expressionParser)===null||o===void 0?void 0:o.updateExpression(e,r,i))!==null&&a!==void 0?a:this.advancedFilterService.getDefaultExpression(r)},t.prototype.forceLastSelection=function(e,r){var i=e.key,o=e.displayValue;return!!r.toLocaleLowerCase().match("^".concat((o??i).toLocaleLowerCase(),"\\s*$"))},t.prototype.openBuilder=function(){this.builderOpen||(this.builderOpen=!0,A.setDisabled(this.eBuilderFilterButton,!0),this.advancedFilterService.getCtrl().toggleFilterBuilder("ui"))},t.prototype.closeBuilder=function(){this.builderOpen&&(this.builderOpen=!1,A.setDisabled(this.eBuilderFilterButton,!1),this.eBuilderFilterButton.focus())},Su([j("eAutocomplete")],t.prototype,"eAutocomplete",void 0),Su([j("eApplyFilterButton")],t.prototype,"eApplyFilterButton",void 0),Su([j("eBuilderFilterButton")],t.prototype,"eBuilderFilterButton",void 0),Su([j("eBuilderFilterButtonIcon")],t.prototype,"eBuilderFilterButtonIcon",void 0),Su([j("eBuilderFilterButtonLabel")],t.prototype,"eBuilderFilterButtonLabel",void 0),Su([E("advancedFilterService")],t.prototype,"advancedFilterService",void 0),Su([E("advancedFilterExpressionService")],t.prototype,"advancedFilterExpressionService",void 0),Su([E("filterManager")],t.prototype,"filterManager",void 0),Su([z],t.prototype,"postConstruct",null),t}(ae),k1e={ariaAdvancedFilterBuilderItem:function(n){return"".concat(n[0],". Level ").concat(n[1],". Press ENTER to edit.")},ariaAdvancedFilterBuilderItemValidation:function(n){return"".concat(n[0],". Level ").concat(n[1],". ").concat(n[2]," Press ENTER to edit.")},ariaAdvancedFilterBuilderList:"Advanced Filter Builder List",ariaAdvancedFilterBuilderFilterItem:"Filter Condition",ariaAdvancedFilterBuilderGroupItem:"Filter Group",ariaAdvancedFilterBuilderColumn:"Column",ariaAdvancedFilterBuilderOption:"Option",ariaAdvancedFilterBuilderValue:"Value",ariaAdvancedFilterBuilderJoinOperator:"Join Operator",ariaAdvancedFilterInput:"Advanced Filter Input",ariaLabelAdvancedFilterAutocomplete:"Advanced Filter Autocomplete",advancedFilterContains:"contains",advancedFilterNotContains:"does not contain",advancedFilterTextEquals:"equals",advancedFilterTextNotEqual:"does not equal",advancedFilterStartsWith:"begins with",advancedFilterEndsWith:"ends with",advancedFilterBlank:"is blank",advancedFilterNotBlank:"is not blank",advancedFilterEquals:"=",advancedFilterNotEqual:"!=",advancedFilterGreaterThan:">",advancedFilterGreaterThanOrEqual:">=",advancedFilterLessThan:"<",advancedFilterLessThanOrEqual:"<=",advancedFilterTrue:"is true",advancedFilterFalse:"is false",advancedFilterAnd:"AND",advancedFilterOr:"OR",advancedFilterApply:"Apply",advancedFilterBuilder:"Builder",advancedFilterValidationMissingColumn:"Column is missing",advancedFilterValidationMissingOption:"Option is missing",advancedFilterValidationMissingValue:"Value is missing",advancedFilterValidationInvalidColumn:"Column not found",advancedFilterValidationInvalidOption:"Option not found",advancedFilterValidationMissingQuote:"Value is missing an end quote",advancedFilterValidationNotANumber:"Value is not a number",advancedFilterValidationInvalidDate:"Value is not a valid date",advancedFilterValidationMissingCondition:"Condition is missing",advancedFilterValidationJoinOperatorMismatch:"Join operators within a condition must be the same",advancedFilterValidationInvalidJoinOperator:"Join operator not found",advancedFilterValidationMissingEndBracket:"Missing end bracket",advancedFilterValidationExtraEndBracket:"Too many end brackets",advancedFilterValidationMessage:function(n){return"Expression has an error. ".concat(n[0]," - ").concat(n[1],".")},advancedFilterValidationMessageAtEnd:function(n){return"Expression has an error. ".concat(n[0]," at end of expression.")},advancedFilterBuilderTitle:"Advanced Filter",advancedFilterBuilderApply:"Apply",advancedFilterBuilderCancel:"Cancel",advancedFilterBuilderAddButtonTooltip:"Add Filter or Group",advancedFilterBuilderRemoveButtonTooltip:"Remove",advancedFilterBuilderMoveUpButtonTooltip:"Move Up",advancedFilterBuilderMoveDownButtonTooltip:"Move Down",advancedFilterBuilderAddJoin:"Add Group",advancedFilterBuilderAddCondition:"Add Filter",advancedFilterBuilderSelectColumn:"Select a column",advancedFilterBuilderSelectOption:"Select an option",advancedFilterBuilderEnterValue:"Enter a value...",advancedFilterBuilderValidationAlreadyApplied:"Current filter already applied.",advancedFilterBuilderValidationIncomplete:"Not all conditions are complete.",advancedFilterBuilderValidationSelectColumn:"Must select a column.",advancedFilterBuilderValidationSelectOption:"Must select an option.",advancedFilterBuilderValidationEnterValue:"Must enter a value."};function KF(n,t,e){if(!n)return"";var r=e-t;return r?n.slice(0,n.length-r):n}function Vd(n,t,e,r,i,o,a){var s=e+(!n.length||a?0:1),l=0;i&&(n[s]===" "?l=1:(r+=" ",o&&(r+='"')));var u=n.slice(0,t)+r+n.slice(s);return{updatedValue:u,updatedPosition:t+r.length+l}}function G1e(n,t,e){for(var r=t;r<e;){var i=n[r];if(i!==" ")break;r++}return r}function YF(n,t,e,r){for(var i=t,o=!1;i<n.length;){var a=n[i];if(a==="("){r&&n[i-1]===" "?o=!0:i=i-1;break}else if(a===" "||e&&a===")"){i=i-1;break}i++}return{endPosition:i,isEmpty:o}}function yV(n,t,e,r){e!==t&&(n.expression=Vd(n.expression,r-t.length+1,r,e).updatedValue)}function V1e(n){return n.replace(/(['"])/,"\\$1")}var dO=function(){return dO=Object.assign||function(n){for(var t,e=1,r=arguments.length;e<r;e++){t=arguments[e];for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(n[i]=t[i])}return n},dO.apply(this,arguments)},B1e=function(){function n(t,e){this.params=t,this.startPosition=e,this.type="column",this.valid=!0,this.hasStartChar=!1,this.hasEndChar=!1,this.colName=""}return n.prototype.parse=function(t,e){if(t===Rh.COL_START_CHAR&&!this.colName)this.hasStartChar=!0;else if(t===Rh.COL_END_CHAR&&this.hasStartChar){var r=this.parseColumn(!1,e);if(r)return this.hasEndChar=!0,!1;this.colName+=t}else this.colName+=t},n.prototype.getDisplayValue=function(){return(this.hasStartChar?Rh.COL_START_CHAR:"")+this.colName+(this.hasEndChar?Rh.COL_END_CHAR:"")},n.prototype.getColId=function(){return this.colId},n.prototype.complete=function(t){this.parseColumn(!0,t)},n.prototype.getValidationError=function(){var t;return this.valid?null:{message:this.params.advancedFilterExpressionService.translate("advancedFilterValidationInvalidColumn"),startPosition:this.startPosition,endPosition:(t=this.endPosition)!==null&&t!==void 0?t:this.params.expression.length-1}},n.prototype.parseColumn=function(t,e){var r;this.endPosition=e;var i=this.params.advancedFilterExpressionService.getColId(this.colName);return i&&this.hasStartChar&&(this.colId=i.colId,yV(this.params,this.colName,i.columnName,e-1),this.colName=i.columnName,this.column=this.params.columnModel.getPrimaryColumn(this.colId),this.column)?(this.baseCellDataType=(r=this.params.dataTypeService.getBaseDataType(this.column))!==null&&r!==void 0?r:"text",!0):(t&&(this.valid=!1),this.baseCellDataType="text",!1)},n}(),H1e=function(){function n(t,e,r){this.params=t,this.startPosition=e,this.baseCellDataType=r,this.type="operator",this.valid=!0,this.expectedNumOperands=0,this.operator=""}return n.prototype.parse=function(t,e){if(t===" "||t===")"){var r=this.parseOperator(!1,e-1);if(r)return!0;this.operator+=t}else this.operator+=t},n.prototype.complete=function(t){this.parseOperator(!0,t)},n.prototype.getValidationError=function(){var t;return this.valid?null:{message:this.params.advancedFilterExpressionService.translate("advancedFilterValidationInvalidOption"),startPosition:this.startPosition,endPosition:(t=this.endPosition)!==null&&t!==void 0?t:this.params.expression.length-1}},n.prototype.getDisplayValue=function(){return this.operator},n.prototype.getOperatorKey=function(){return this.parsedOperator},n.prototype.parseOperator=function(t,e){var r=this.params.advancedFilterExpressionService.getDataTypeExpressionOperator(this.baseCellDataType),i=r.findOperator(this.operator);if(this.endPosition=e,i){this.parsedOperator=i;var o=r.operators[i];this.expectedNumOperands=o.numOperands;var a=o.displayValue;return yV(this.params,this.operator,a,e),this.operator=a,!0}var s=i===null;return(t||!s)&&(this.valid=!1),!1},n}(),j1e=function(){function n(t,e,r,i){this.params=t,this.startPosition=e,this.baseCellDataType=r,this.column=i,this.type="operand",this.valid=!0,this.operand="",this.validationMessage=null}return n.prototype.parse=function(t,e){if(t===" ")if(this.quotes)this.operand+=t;else return this.parseOperand(!1,e),!0;else if(t===")"){if(this.baseCellDataType==="number"||!this.quotes)return this.parseOperand(!1,e-1),!0;this.operand+=t}else if(!this.operand&&!this.quotes&&(t==="'"||t==='"'))this.quotes=t;else{if(this.quotes&&t===this.quotes)return this.parseOperand(!1,e),!1;this.operand+=t}},n.prototype.complete=function(t){this.parseOperand(!0,t)},n.prototype.getValidationError=function(){var t;return this.validationMessage?{message:this.validationMessage,startPosition:this.startPosition,endPosition:(t=this.endPosition)!==null&&t!==void 0?t:this.params.expression.length-1}:null},n.prototype.getRawValue=function(){return this.operand},n.prototype.getModelValue=function(){return this.modelValue},n.prototype.parseOperand=function(t,e){var r=this.params.advancedFilterExpressionService;if(this.endPosition=e,this.modelValue=this.operand,t&&this.quotes)this.valid=!1,this.validationMessage=r.translate("advancedFilterValidationMissingQuote");else if(this.modelValue==="")this.valid=!1,this.validationMessage=r.translate("advancedFilterValidationMissingValue");else{var i=r.getOperandModelValue(this.operand,this.baseCellDataType,this.column);switch(i!=null&&(this.modelValue=i),this.baseCellDataType){case"number":(this.quotes||isNaN(this.modelValue))&&(this.valid=!1,this.validationMessage=r.translate("advancedFilterValidationNotANumber"));break;case"date":case"dateString":i==null&&(this.valid=!1,this.validationMessage=r.translate("advancedFilterValidationInvalidDate"));break}}},n}(),Rh=function(){function n(t,e){this.params=t,this.startPosition=e,this.isAwaiting=!0}return n.prototype.parseExpression=function(){for(var t,e,r=this.startPosition,i=this.params.expression;r<i.length;){var o=i[r];if(!(o===" "&&this.isAwaiting)){if(this.isAwaiting=!1,!this.parser){var a=void 0;this.columnParser?this.operatorParser?(this.operandParser=new j1e(this.params,r,this.columnParser.baseCellDataType,this.columnParser.column),a=this.operandParser):(this.operatorParser=new H1e(this.params,r,this.columnParser.baseCellDataType),a=this.operatorParser):(this.columnParser=new B1e(this.params,r),a=this.columnParser),this.parser=a}var s=this.parser.parse(o,r);if(s!=null){if(this.isComplete())return this.returnEndPosition(s?r-1:r,!0);this.parser=void 0,this.isAwaiting=!0}}r++}return(e=(t=this.parser)===null||t===void 0?void 0:t.complete)===null||e===void 0||e.call(t,r-1),this.returnEndPosition(r)},n.prototype.isValid=function(){return this.isComplete()&&this.columnParser.valid&&this.operatorParser.valid&&(!this.operandParser||this.operandParser.valid)},n.prototype.getValidationError=function(){var t,e,r,i,o,a=(i=(e=(t=this.columnParser)===null||t===void 0?void 0:t.getValidationError())!==null&&e!==void 0?e:(r=this.operatorParser)===null||r===void 0?void 0:r.getValidationError())!==null&&i!==void 0?i:(o=this.operandParser)===null||o===void 0?void 0:o.getValidationError();if(a)return a;var s=this.params.expression.length,l;return this.columnParser?this.operatorParser?this.operatorParser.expectedNumOperands&&!this.operandParser&&(l="advancedFilterValidationMissingValue"):l="advancedFilterValidationMissingOption":l="advancedFilterValidationMissingColumn",l?{message:this.params.advancedFilterExpressionService.translate(l),startPosition:s,endPosition:s}:null},n.prototype.getFunction=function(t){var e,r,i=this.columnParser.getColId(),o=V1e(i),a=(e=this.operatorParser)===null||e===void 0?void 0:e.getOperatorKey(),s=t.operators,l=t.evaluatorParams,u=t.operands,c=this.params.advancedFilterExpressionService.getExpressionOperator(this.columnParser.baseCellDataType,a),d=this.addToListAndGetIndex(s,c),p=this.params.advancedFilterExpressionService.getExpressionEvaluatorParams(i),h=this.addToListAndGetIndex(l,p),f;if(((r=this.operatorParser)===null||r===void 0?void 0:r.expectedNumOperands)===0)f="";else{var v=this.addToListAndGetIndex(u,this.getOperandValue());f=", params.operands[".concat(v,"]")}return"params.operators[".concat(d,"].evaluator(expressionProxy.getValue('").concat(o,"', node), node, params.evaluatorParams[").concat(h,"]").concat(f,")")},n.prototype.getAutocompleteListParams=function(t){if(this.isColumnPosition(t))return this.getColumnAutocompleteListParams(t);if(this.isOperatorPosition(t))return this.getOperatorAutocompleteListParams(t);if(!this.isBeyondEndPosition(t))return{enabled:!1}},n.prototype.updateExpression=function(t,e,r){var i,o,a,s,l,u=this.params.expression;if(this.isColumnPosition(t))return Vd(this.params.expression,this.startPosition,!((i=this.columnParser)===null||i===void 0)&&i.getColId()?this.columnParser.endPosition:YF(u,t).endPosition,this.params.advancedFilterExpressionService.getColumnValue(e),!0);if(this.isOperatorPosition(t)){var c=this.getBaseCellDataTypeFromOperatorAutocompleteType(r),d=this.hasOperand(c,e.key),p=d&&this.doesOperandNeedQuotes(c),h=void 0;if(((o=this.operatorParser)===null||o===void 0?void 0:o.startPosition)!=null&&t<this.operatorParser.startPosition)h=Vd(u,t,t,(a=e.displayValue)!==null&&a!==void 0?a:e.key,d,p);else{var f=void 0,v=!1;if(!((s=this.operatorParser)===null||s===void 0)&&s.getOperatorKey())f=this.operatorParser.endPosition;else{var g=YF(u,t,!0,!0),y=g.endPosition,m=g.isEmpty;f=y,v=m}h=Vd(u,G1e(u,this.columnParser.endPosition+1,f),f,(l=e.displayValue)!==null&&l!==void 0?l:e.key,d,p,v)}return dO(dO({},h),{hideAutocomplete:!d})}return null},n.prototype.getModel=function(){var t=this.columnParser.getColId(),e={filterType:this.columnParser.baseCellDataType,colId:t,type:this.operatorParser.getOperatorKey()};return this.operatorParser.expectedNumOperands&&(e.filter=this.operandParser.getModelValue()),e},n.prototype.getOperandValue=function(){var t=this.operandParser.getRawValue(),e=this.columnParser,r=e.baseCellDataType,i=e.column;switch(r){case"number":t=Number(t);break;case"date":case"dateString":t=this.params.valueParserService.parseValue(i,null,t,void 0);break}return r==="dateString"?this.params.dataTypeService.getDateParserFunction(i)(t):t},n.prototype.isComplete=function(){return!!(this.operatorParser&&(!this.operatorParser.expectedNumOperands||this.operatorParser.expectedNumOperands&&this.operandParser))},n.prototype.isColumnPosition=function(t){return!this.columnParser||this.columnParser.endPosition==null||t<=this.columnParser.endPosition+1},n.prototype.isOperatorPosition=function(t){return!this.operatorParser||this.operatorParser.endPosition==null||t<=this.operatorParser.endPosition+1},n.prototype.isBeyondEndPosition=function(t){return this.isComplete()&&this.endPosition!=null&&t>this.endPosition+1&&this.endPosition+1<this.params.expression.length},n.prototype.returnEndPosition=function(t,e){return this.endPosition=e?t:t-1,t},n.prototype.getColumnAutocompleteListParams=function(t){return this.params.advancedFilterExpressionService.generateAutocompleteListParams(this.params.advancedFilterExpressionService.getColumnAutocompleteEntries(),"column",this.getColumnSearchString(t))},n.prototype.getColumnSearchString=function(t){var e,r,i,o,a,s=(r=(e=this.columnParser)===null||e===void 0?void 0:e.getDisplayValue())!==null&&r!==void 0?r:"",l=KF(s,t,((i=this.columnParser)===null||i===void 0?void 0:i.endPosition)==null?this.params.expression.length:this.columnParser.endPosition+1),u=((o=this.columnParser)===null||o===void 0?void 0:o.hasStartChar)&&l.length>0,c=((a=this.columnParser)===null||a===void 0?void 0:a.hasEndChar)&&l.length===s.length+2;return u?l.slice(1,c?-1:void 0):l},n.prototype.getOperatorAutocompleteListParams=function(t){var e,r,i,o,a,s=(e=this.columnParser)===null||e===void 0?void 0:e.column;if(!s)return{enabled:!1};var l=this.columnParser.baseCellDataType,u=((r=this.operatorParser)===null||r===void 0?void 0:r.startPosition)!=null&&t<this.operatorParser.startPosition?"":KF((o=(i=this.operatorParser)===null||i===void 0?void 0:i.getDisplayValue())!==null&&o!==void 0?o:"",t,((a=this.operatorParser)===null||a===void 0?void 0:a.endPosition)==null?this.params.expression.length:this.operatorParser.endPosition+1);return this.params.advancedFilterExpressionService.generateAutocompleteListParams(this.params.advancedFilterExpressionService.getOperatorAutocompleteEntries(s,l),"operator-".concat(l),u)},n.prototype.getBaseCellDataTypeFromOperatorAutocompleteType=function(t){return t==null?void 0:t.replace("operator-","")},n.prototype.hasOperand=function(t,e){var r,i;return!t||!e||((i=(r=this.params.advancedFilterExpressionService.getExpressionOperator(t,e))===null||r===void 0?void 0:r.numOperands)!==null&&i!==void 0?i:0)>0},n.prototype.doesOperandNeedQuotes=function(t){return t!=="number"},n.prototype.addToListAndGetIndex=function(t,e){var r=t.length;return t.push(e),r},n.COL_START_CHAR="[",n.COL_END_CHAR="]",n}(),$1e=function(n,t){var e=typeof Symbol=="function"&&n[Symbol.iterator];if(!e)return n;var r=e.call(n),i,o=[],a;try{for(;(t===void 0||t-- >0)&&!(i=r.next()).done;)o.push(i.value)}catch(s){a={error:s}}finally{try{i&&!i.done&&(e=r.return)&&e.call(r)}finally{if(a)throw a.error}}return o};function UT(n,t,e){var r=!1,i=n.toLocaleLowerCase(),o=i+" ",a=Object.entries(t).find(function(s){var l=$1e(s,2);l[0];var u=l[1],c=e(u).toLocaleLowerCase();return c.startsWith(o)&&(r=!0),c===i});return a?a[0]:r?null:void 0}function mV(n,t){var e=t??Object.keys(n);return e.map(function(r){return{key:r,displayValue:n[r].displayValue}})}var vU=function(){function n(t){this.params=t,this.initOperators()}return n.prototype.getEntries=function(t){return mV(this.operators,t)},n.prototype.findOperator=function(t){return UT(t,this.operators,function(e){var r=e.displayValue;return r})},n.prototype.initOperators=function(){var t=this,e=this.params.translate;this.operators={contains:{displayValue:e("advancedFilterContains"),evaluator:function(r,i,o,a){return t.evaluateExpression(r,i,o,a,!1,function(s,l){return s.includes(l)})},numOperands:1},notContains:{displayValue:e("advancedFilterNotContains"),evaluator:function(r,i,o,a){return t.evaluateExpression(r,i,o,a,!0,function(s,l){return!s.includes(l)})},numOperands:1},equals:{displayValue:e("advancedFilterTextEquals"),evaluator:function(r,i,o,a){return t.evaluateExpression(r,i,o,a,!1,function(s,l){return s===l})},numOperands:1},notEqual:{displayValue:e("advancedFilterTextNotEqual"),evaluator:function(r,i,o,a){return t.evaluateExpression(r,i,o,a,!0,function(s,l){return s!=l})},numOperands:1},startsWith:{displayValue:e("advancedFilterStartsWith"),evaluator:function(r,i,o,a){return t.evaluateExpression(r,i,o,a,!1,function(s,l){return s.startsWith(l)})},numOperands:1},endsWith:{displayValue:e("advancedFilterEndsWith"),evaluator:function(r,i,o,a){return t.evaluateExpression(r,i,o,a,!1,function(s,l){return s.endsWith(l)})},numOperands:1},blank:{displayValue:e("advancedFilterBlank"),evaluator:function(r){return r==null||typeof r=="string"&&r.trim().length===0},numOperands:0},notBlank:{displayValue:e("advancedFilterNotBlank"),evaluator:function(r){return r!=null&&(typeof r!="string"||r.trim().length>0)},numOperands:0}}},n.prototype.evaluateExpression=function(t,e,r,i,o,a){return t==null?o:r.caseSensitive?a(r.valueConverter(t,e),i):a(r.valueConverter(t,e).toLocaleLowerCase(),i.toLocaleLowerCase())},n}(),ND=function(){function n(t){this.params=t,this.initOperators()}return n.prototype.getEntries=function(t){return mV(this.operators,t)},n.prototype.findOperator=function(t){return UT(t,this.operators,function(e){var r=e.displayValue;return r})},n.prototype.initOperators=function(){var t=this,e=this.params,r=e.translate,i=e.equals;this.operators={equals:{displayValue:r("advancedFilterEquals"),evaluator:function(o,a,s,l){return t.evaluateSingleOperandExpression(o,a,s,l,!!s.includeBlanksInEquals,i)},numOperands:1},notEqual:{displayValue:r("advancedFilterNotEqual"),evaluator:function(o,a,s,l){return t.evaluateSingleOperandExpression(o,a,s,l,!!s.includeBlanksInEquals,function(u,c){return!i(u,c)})},numOperands:1},greaterThan:{displayValue:r("advancedFilterGreaterThan"),evaluator:function(o,a,s,l){return t.evaluateSingleOperandExpression(o,a,s,l,!!s.includeBlanksInGreaterThan,function(u,c){return u>c})},numOperands:1},greaterThanOrEqual:{displayValue:r("advancedFilterGreaterThanOrEqual"),evaluator:function(o,a,s,l){return t.evaluateSingleOperandExpression(o,a,s,l,!!s.includeBlanksInGreaterThan,function(u,c){return u>=c})},numOperands:1},lessThan:{displayValue:r("advancedFilterLessThan"),evaluator:function(o,a,s,l){return t.evaluateSingleOperandExpression(o,a,s,l,!!s.includeBlanksInLessThan,function(u,c){return u<c})},numOperands:1},lessThanOrEqual:{displayValue:r("advancedFilterLessThanOrEqual"),evaluator:function(o,a,s,l){return t.evaluateSingleOperandExpression(o,a,s,l,!!s.includeBlanksInLessThan,function(u,c){return u<=c})},numOperands:1},blank:{displayValue:r("advancedFilterBlank"),evaluator:function(o){return o==null},numOperands:0},notBlank:{displayValue:r("advancedFilterNotBlank"),evaluator:function(o){return o!=null},numOperands:0}}},n.prototype.evaluateSingleOperandExpression=function(t,e,r,i,o,a){return t==null?o:a(r.valueConverter(t,e),i)},n}(),W1e=function(){function n(t){this.params=t,this.initOperators()}return n.prototype.getEntries=function(t){return mV(this.operators,t)},n.prototype.findOperator=function(t){return UT(t,this.operators,function(e){var r=e.displayValue;return r})},n.prototype.initOperators=function(){var t=this.params.translate;this.operators={true:{displayValue:t("advancedFilterTrue"),evaluator:function(e){return!!e},numOperands:0},false:{displayValue:t("advancedFilterFalse"),evaluator:function(e){return e===!1},numOperands:0},blank:{displayValue:t("advancedFilterBlank"),evaluator:function(e){return e==null},numOperands:0},notBlank:{displayValue:t("advancedFilterNotBlank"),evaluator:function(e){return e!=null},numOperands:0}}},n}(),U1e=function(){var n=function(t,e){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])},n(t,e)};return function(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");n(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}}(),Yf=function(n,t,e,r){var i=arguments.length,o=i<3?t:r===null?r=Object.getOwnPropertyDescriptor(t,e):r,a;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(n,t,e,r);else for(var s=n.length-1;s>=0;s--)(a=n[s])&&(o=(i<3?a(o):i>3?a(t,e,o):a(t,e))||o);return i>3&&o&&Object.defineProperty(t,e,o),o},z1e=function(n,t){var e=typeof Symbol=="function"&&n[Symbol.iterator];if(!e)return n;var r=e.call(n),i,o=[],a;try{for(;(t===void 0||t-- >0)&&!(i=r.next()).done;)o.push(i.value)}catch(s){a={error:s}}finally{try{i&&!i.done&&(e=r.return)&&e.call(r)}finally{if(a)throw a.error}}return o},K1e=function(n){U1e(t,n);function t(){var e=n!==null&&n.apply(this,arguments)||this;return e.columnNameToIdMap={},e.columnAutocompleteEntries=null,e.expressionEvaluatorParams={},e}return t.prototype.postConstruct=function(){this.expressionJoinOperators=this.generateExpressionJoinOperators(),this.expressionOperators=this.generateExpressionOperators()},t.prototype.parseJoinOperator=function(e){var r,i=e.type;return(r=this.expressionJoinOperators[i])!==null&&r!==void 0?r:i},t.prototype.getColumnDisplayValue=function(e){var r=e.colId,i=this.getColumnAutocompleteEntries(),o=i.find(function(s){var l=s.key;return l===r}),a;return o?(a=o.displayValue,this.columnNameToIdMap[a.toLocaleUpperCase()]={colId:r,columnName:a}):a=r,a},t.prototype.getOperatorDisplayValue=function(e){var r,i;return(i=(r=this.getExpressionOperator(e.filterType,e.type))===null||r===void 0?void 0:r.displayValue)!==null&&i!==void 0?i:e.type},t.prototype.getOperandModelValue=function(e,r,i){var o;switch(r){case"number":return A.exists(e)?Number(e):null;case"date":return A.serialiseDate(this.valueParserService.parseValue(i,null,e,void 0),!1);case"dateString":var a=this.valueParserService.parseValue(i,null,e,void 0);return A.serialiseDate((o=this.dataTypeService.getDateParserFunction(i)(a))!==null&&o!==void 0?o:null,!1)}return e},t.prototype.getOperandDisplayValue=function(e,r){var i,o,a=e,s=a.colId,l=a.filter,u=this.columnModel.getPrimaryColumn(s),c="";if(l!=null){var d=void 0;switch(e.filterType){case"number":d=(i=A.toStringOrNull(l))!==null&&i!==void 0?i:"";break;case"date":var p=A.parseDateTimeFromString(l);d=u?this.valueFormatterService.formatValue(u,null,p):null;break;case"dateString":var h=A.parseDateTimeFromString(l),f=u?this.dataTypeService.getDateFormatterFunction(u)(h??void 0):null;d=u?this.valueFormatterService.formatValue(u,null,f):null;break}e.filterType!=="number"&&(d=(o=d??A.toStringOrNull(l))!==null&&o!==void 0?o:"",r||(d='"'.concat(d,'"'))),c=r?d:" ".concat(d)}return c},t.prototype.parseColumnFilterModel=function(e){var r,i,o=(r=this.getColumnDisplayValue(e))!==null&&r!==void 0?r:"",a=(i=this.getOperatorDisplayValue(e))!==null&&i!==void 0?i:"",s=this.getOperandDisplayValue(e);return"[".concat(o,"] ").concat(a).concat(s)},t.prototype.updateAutocompleteCache=function(e,r){if(r==="column"){var i=e.key,o=e.displayValue;this.columnNameToIdMap[e.displayValue.toLocaleUpperCase()]={colId:i,columnName:o}}},t.prototype.translate=function(e,r){var i=k1e[e];return typeof i=="function"&&(i=i(r)),this.localeService.getLocaleTextFunc()(e,i,r)},t.prototype.generateAutocompleteListParams=function(e,r,i){return{enabled:!0,type:r,searchString:i,entries:e}},t.prototype.getColumnAutocompleteEntries=function(){var e=this,r;if(this.columnAutocompleteEntries)return this.columnAutocompleteEntries;var i=(r=this.columnModel.getAllPrimaryColumns())!==null&&r!==void 0?r:[],o=[],a=this.gridOptionsService.get("includeHiddenColumnsInAdvancedFilter");return i.forEach(function(s){s.getColDef().filter&&(a||s.isVisible()||s.isRowGroupActive())&&o.push({key:s.getColId(),displayValue:e.columnModel.getDisplayNameForColumn(s,"advancedFilter")})}),o.sort(function(s,l){var u,c,d=(u=s.displayValue)!==null&&u!==void 0?u:"",p=(c=l.displayValue)!==null&&c!==void 0?c:"";return d<p?-1:p>d?1:0}),o},t.prototype.getOperatorAutocompleteEntries=function(e,r){var i=this.getActiveOperators(e);return this.getDataTypeExpressionOperator(r).getEntries(i)},t.prototype.getJoinOperatorAutocompleteEntries=function(){return Object.entries(this.expressionJoinOperators).map(function(e){var r=z1e(e,2),i=r[0],o=r[1];return{key:i,displayValue:o}})},t.prototype.getDefaultAutocompleteListParams=function(e){return this.generateAutocompleteListParams(this.getColumnAutocompleteEntries(),"column",e)},t.prototype.getDataTypeExpressionOperator=function(e){return this.expressionOperators[e]},t.prototype.getExpressionOperator=function(e,r){var i,o;return(o=(i=this.getDataTypeExpressionOperator(e))===null||i===void 0?void 0:i.operators)===null||o===void 0?void 0:o[r]},t.prototype.getExpressionJoinOperators=function(){return this.expressionJoinOperators},t.prototype.getColId=function(e){var r=e.toLocaleUpperCase(),i=this.columnNameToIdMap[r];if(i)return i;var o=this.getColumnAutocompleteEntries(),a=o.find(function(c){var d=c.displayValue;return d.toLocaleUpperCase()===r});if(a){var s=a.key,l=a.displayValue,u={colId:s,columnName:l};return this.columnNameToIdMap[r]=u,u}return null},t.prototype.getExpressionEvaluatorParams=function(e){var r=this,i=this.expressionEvaluatorParams[e];if(i)return i;var o=this.columnModel.getPrimaryColumn(e);if(!o)return{valueConverter:function(l){return l}};var a=this.dataTypeService.getBaseDataType(o);switch(a){case"dateString":i={valueConverter:this.dataTypeService.getDateParserFunction(o)};break;case"object":o.getColDef().filterValueGetter?i={valueConverter:function(l){return l}}:i={valueConverter:function(l,u){var c;return(c=r.valueFormatterService.formatValue(o,u,l))!==null&&c!==void 0?c:typeof l.toString=="function"?l.toString():""}};break;case"text":case void 0:i={valueConverter:function(l){return A.toStringOrNull(l)}};break;default:i={valueConverter:function(l){return l}};break}var s=o.getColDef().filterParams;return s&&["caseSensitive","includeBlanksInEquals","includeBlanksInLessThan","includeBlanksInGreaterThan"].forEach(function(l){var u=s[l];u&&(i[l]=u)}),this.expressionEvaluatorParams[e]=i,i},t.prototype.getColumnDetails=function(e){var r,i,o=(r=this.columnModel.getPrimaryColumn(e))!==null&&r!==void 0?r:void 0,a=(i=o?this.dataTypeService.getBaseDataType(o):void 0)!==null&&i!==void 0?i:"text";return{column:o,baseCellDataType:a}},t.prototype.generateExpressionOperators=function(){var e=this,r=function(i,o){return e.translate(i,o)};return{text:new vU({translate:r}),boolean:new W1e({translate:r}),object:new vU({translate:r}),number:new ND({translate:r,equals:function(i,o){return i===o}}),date:new ND({translate:r,equals:function(i,o){return i.getTime()===o.getTime()}}),dateString:new ND({translate:r,equals:function(i,o){return i.getTime()===o.getTime()}})}},t.prototype.getColumnValue=function(e){var r=e.displayValue;return"".concat(Rh.COL_START_CHAR).concat(r).concat(Rh.COL_END_CHAR)},t.prototype.generateExpressionJoinOperators=function(){return{AND:this.translate("advancedFilterAnd"),OR:this.translate("advancedFilterOr")}},t.prototype.getActiveOperators=function(e){var r,i=(r=e.getColDef().filterParams)===null||r===void 0?void 0:r.filterOptions;if(i){var o=i.every(function(a){return typeof a=="string"});return o?i:void 0}},t.prototype.resetColumnCaches=function(){this.columnAutocompleteEntries=null,this.columnNameToIdMap={},this.expressionEvaluatorParams={}},Yf([E("valueFormatterService")],t.prototype,"valueFormatterService",void 0),Yf([E("valueParserService")],t.prototype,"valueParserService",void 0),Yf([E("columnModel")],t.prototype,"columnModel",void 0),Yf([E("dataTypeService")],t.prototype,"dataTypeService",void 0),Yf([z],t.prototype,"postConstruct",null),t=Yf([ie("advancedFilterExpressionService")],t),t}(X),Y1e=function(){function n(t){this.params=t,this.operators=[],this.operatorStartPositions=[],this.operatorEndPositions=[],this.activeOperator=0,this.validationError=null}return n.prototype.parseExpression=function(t){this.operators.push(""),this.operatorStartPositions.push(t),this.operatorEndPositions.push(void 0);for(var e=this.params.expression;t<e.length;){var r=e[t];if(r===" "){var i=this.parseOperator(t-1);if(i)return this.activeOperator++,t-1;this.operators[this.activeOperator]+=r}else this.operators[this.activeOperator]+=r;t++}return this.parseOperator(t-1),t},n.prototype.isValid=function(){return!this.validationError&&(!this.operators.length||!!this.parsedOperator)},n.prototype.getValidationError=function(){return this.validationError},n.prototype.getFunction=function(){return this.parsedOperator==="OR"?"||":"&&"},n.prototype.getModel=function(){return this.parsedOperator==="OR"?"OR":"AND"},n.prototype.getAutocompleteListParams=function(t,e){var r=this,i;if(e==null)i="";else{var o=this.operators[e],a=this.operatorEndPositions[e];i=KF(o,t,a==null?this.params.expression.length:a+1)}var s=this.params.advancedFilterExpressionService.getJoinOperatorAutocompleteEntries();return(e||e==null&&this.activeOperator)&&(s=s.filter(function(l){var u=l.key;return u===r.parsedOperator})),this.params.advancedFilterExpressionService.generateAutocompleteListParams(s,"join",i)},n.prototype.updateExpression=function(t,e,r){var i,o,a=this.params.expression,s=(i=e.displayValue)!==null&&i!==void 0?i:e.key;if(r===0)for(var l=this.operatorEndPositions.length-1;l>0;l--){var u=this.operatorEndPositions[l];u!=null&&(a=Vd(a,this.operatorStartPositions[l],u,s).updatedValue)}var c=this.operatorStartPositions.length>r?this.operatorStartPositions[r]:t,d=(o=this.operatorEndPositions.length>r?this.operatorEndPositions[r]:void 0)!==null&&o!==void 0?o:YF(a,t,!0).endPosition;return Vd(a,c,d,s,!0)},n.prototype.getNumOperators=function(){return this.operators.length},n.prototype.getLastOperatorEndPosition=function(){return this.operatorEndPositions[this.operatorEndPositions.length-1]},n.prototype.parseOperator=function(t){var e=this.operators.length>this.activeOperator?this.operators[this.activeOperator]:"",r=this.params.advancedFilterExpressionService.getExpressionJoinOperators(),i=UT(e,r,function(a){return a});if(i){this.operatorEndPositions[this.activeOperator]=t;var o=r[i];if(this.activeOperator){if(i!==this.parsedOperator)return this.validationError||(this.validationError={message:this.params.advancedFilterExpressionService.translate("advancedFilterValidationJoinOperatorMismatch"),startPosition:t-e.length+1,endPosition:t}),!1}else this.parsedOperator=i;return e!==o&&(yV(this.params,e,o,t),this.operators[this.activeOperator]=o),!0}else return i===null?!1:(this.validationError||(this.validationError={message:this.params.advancedFilterExpressionService.translate("advancedFilterValidationInvalidJoinOperator"),startPosition:t-e.length+1,endPosition:t}),!0)},n}(),X1e=function(){function n(t,e){this.params=t,this.startPosition=e,this.expectingExpression=!0,this.expectingOperator=!1,this.expressionParsers=[],this.operatorParser=new Y1e(this.params),this.missingEndBracket=!1,this.extraEndBracket=!1}return n.prototype.parseExpression=function(){for(var t=this.startPosition,e=this.params.expression;t<e.length;){var r=e[t];if(r==="("&&!this.expectingOperator){var i=new n(this.params,t+1);t=i.parseExpression(),this.expressionParsers.push(i),this.expectingExpression=!1,this.expectingOperator=!0}else{if(r===")")return this.endPosition=t-1,this.startPosition===0&&(this.extraEndBracket=!0),t;if(r!==" ")if(this.expectingExpression){var i=new Rh(this.params,t);t=i.parseExpression(),this.expressionParsers.push(i),this.expectingExpression=!1,this.expectingOperator=!0}else this.expectingOperator&&(t=this.operatorParser.parseExpression(t),this.expectingOperator=!1,this.expectingExpression=!0)}t++}return this.startPosition>0&&(this.missingEndBracket=!0),t},n.prototype.isValid=function(){return!this.missingEndBracket&&!this.extraEndBracket&&this.expressionParsers.length===this.operatorParser.getNumOperators()+1&&this.operatorParser.isValid()&&this.expressionParsers.every(function(t){return t.isValid()})},n.prototype.getValidationError=function(){for(var t=this.operatorParser.getValidationError(),e=0;e<this.expressionParsers.length;e++){var r=this.expressionParsers[e].getValidationError();if(r)return t&&t.startPosition<r.startPosition?t:r}if(t)return t;if(this.extraEndBracket)return{message:this.params.advancedFilterExpressionService.translate("advancedFilterValidationExtraEndBracket"),startPosition:this.endPosition+1,endPosition:this.endPosition+1};var i;return this.expressionParsers.length===this.operatorParser.getNumOperators()?i="advancedFilterValidationMissingCondition":this.missingEndBracket&&(i="advancedFilterValidationMissingEndBracket"),i?{message:this.params.advancedFilterExpressionService.translate(i),startPosition:this.params.expression.length,endPosition:this.params.expression.length}:null},n.prototype.getFunction=function(t){var e=this.expressionParsers.length>1,r=this.expressionParsers.map(function(i){return i.getFunction(t)}).join(" ".concat(this.operatorParser.getFunction()," "));return e?"(".concat(r,")"):r},n.prototype.getAutocompleteListParams=function(t){if(!(this.endPosition!=null&&t>this.endPosition+1)){if(!this.expressionParsers.length)return this.getColumnAutocompleteListParams();var e=this.getExpressionParserIndex(t);if(e==null)return this.params.expression[t]==="("?{enabled:!1}:this.getColumnAutocompleteListParams();var r=this.expressionParsers[e],i=r.getAutocompleteListParams(t);if(!i){if(e<this.expressionParsers.length-1)return this.operatorParser.getAutocompleteListParams(t,e);if(this.expressionParsers.length===this.operatorParser.getNumOperators()){var o=this.operatorParser.getLastOperatorEndPosition();return o==null||t<=o+1?this.operatorParser.getAutocompleteListParams(t,this.operatorParser.getNumOperators()-1):this.getColumnAutocompleteListParams()}return this.params.expression[t-1]===")"?{enabled:!1}:this.operatorParser.getAutocompleteListParams(t)}return i}},n.prototype.updateExpression=function(t,e,r){var i,o=this.params.expression,a=this.getExpressionParserIndex(t);if(a==null){var s=r==="column"?this.params.advancedFilterExpressionService.getColumnValue(e):(i=e.displayValue)!==null&&i!==void 0?i:e.key;return Vd(o,this.startPosition,this.startPosition,s,!0)}var l=this.expressionParsers[a],u=l.updateExpression(t,e,r);return u??(r==="column"?Vd(o,t,o.length-1,this.params.advancedFilterExpressionService.getColumnValue(e),!0):this.endPosition!=null&&t>this.endPosition+1?null:this.operatorParser.updateExpression(t,e,a))},n.prototype.getModel=function(){return this.expressionParsers.length>1?{filterType:"join",type:this.operatorParser.getModel(),conditions:this.expressionParsers.map(function(t){return t.getModel()})}:this.expressionParsers[0].getModel()},n.prototype.getColumnAutocompleteListParams=function(){return this.params.advancedFilterExpressionService.generateAutocompleteListParams(this.params.advancedFilterExpressionService.getColumnAutocompleteEntries(),"column","")},n.prototype.getExpressionParserIndex=function(t){for(var e,r=0;r<this.expressionParsers.length;r++){var i=this.expressionParsers[r];if(i.startPosition>t)break;e=r}return e},n}(),q1e=function(){function n(t){this.params=t,this.valid=!1}return n.prototype.parseExpression=function(){this.joinExpressionParser=new X1e(this.params,0);var t=this.joinExpressionParser.parseExpression();return this.valid=t>=this.params.expression.length-1&&this.joinExpressionParser.isValid(),this.params.expression},n.prototype.isValid=function(){return this.valid},n.prototype.getValidationMessage=function(){var t=this.joinExpressionParser.getValidationError();if(!t)return null;var e=t.message,r=t.startPosition,i=t.endPosition;return r<this.params.expression.length?this.params.advancedFilterExpressionService.translate("advancedFilterValidationMessage",[e,this.params.expression.slice(r,i+1).trim()]):this.params.advancedFilterExpressionService.translate("advancedFilterValidationMessageAtEnd",[e])},n.prototype.getFunction=function(){var t={operands:[],operators:[],evaluatorParams:[]},e="return ".concat(this.joinExpressionParser.getFunction(t),";");return{functionBody:e,params:t}},n.prototype.getAutocompleteListParams=function(t){var e;return(e=this.joinExpressionParser.getAutocompleteListParams(t))!==null&&e!==void 0?e:{enabled:!1}},n.prototype.updateExpression=function(t,e,r){return this.joinExpressionParser.updateExpression(t,e,r)},n.prototype.getModel=function(){return this.isValid()?this.joinExpressionParser.getModel():null},n}(),Z1e=function(){var n=function(t,e){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])},n(t,e)};return function(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");n(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}}(),Uc=function(n,t,e,r){var i=arguments.length,o=i<3?t:r===null?r=Object.getOwnPropertyDescriptor(t,e):r,a;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(n,t,e,r);else for(var s=n.length-1;s>=0;s--)(a=n[s])&&(o=(i<3?a(o):i>3?a(t,e,o):a(t,e))||o);return i>3&&o&&Object.defineProperty(t,e,o),o},Q1e=function(n){Z1e(t,n);function t(){var e=n!==null&&n.apply(this,arguments)||this;return e.appliedExpression=null,e.expression=null,e.isValid=!0,e}return t.prototype.postConstruct=function(){var e=this;this.setEnabled(this.gridOptionsService.get("enableAdvancedFilter"),!0),this.ctrl=this.createManagedBean(new _Z(this.enabled)),this.expressionProxy={getValue:function(r,i){var o=e.columnModel.getPrimaryColumn(r);return o?e.valueService.getValue(o,i,!0):void 0}},this.addManagedPropertyListener("enableAdvancedFilter",function(r){return e.setEnabled(!!r.currentValue)}),this.addManagedListener(this.eventService,T.EVENT_NEW_COLUMNS_LOADED,function(r){return e.onNewColumnsLoaded(r)}),this.addManagedPropertyListener("includeHiddenColumnsInAdvancedFilter",function(){return e.updateValidity()})},t.prototype.isEnabled=function(){return this.enabled},t.prototype.isFilterPresent=function(){return!!this.expressionFunction},t.prototype.doesFilterPass=function(e){return this.expressionFunction(this.expressionProxy,e,this.expressionParams)},t.prototype.getModel=function(){var e,r=this.createExpressionParser(this.appliedExpression);return r==null||r.parseExpression(),(e=r==null?void 0:r.getModel())!==null&&e!==void 0?e:null},t.prototype.setModel=function(e){var r=this,i=function(a,s){if(a.filterType==="join"){var l=r.advancedFilterExpressionService.parseJoinOperator(a),u=a.conditions.map(function(c){return i(c)}).filter(function(c){return A.exists(c)}).join(" ".concat(l," "));return s||a.conditions.length<=1?u:"(".concat(u,")")}else return r.advancedFilterExpressionService.parseColumnFilterModel(a)},o=e?i(e,!0):null;this.setExpressionDisplayValue(o),this.applyExpression(),this.ctrl.refreshComp(),this.ctrl.refreshBuilderComp()},t.prototype.getExpressionDisplayValue=function(){return this.expression},t.prototype.setExpressionDisplayValue=function(e){this.expression=e},t.prototype.isCurrentExpressionApplied=function(){return this.appliedExpression===this.expression},t.prototype.createExpressionParser=function(e){return e?new q1e({expression:e,columnModel:this.columnModel,dataTypeService:this.dataTypeService,valueParserService:this.valueParserService,advancedFilterExpressionService:this.advancedFilterExpressionService}):null},t.prototype.getDefaultExpression=function(e){var r=this.advancedFilterExpressionService.getColumnValue(e)+" ";return{updatedValue:r,updatedPosition:r.length}},t.prototype.isHeaderActive=function(){return!this.gridOptionsService.get("advancedFilterParent")},t.prototype.getCtrl=function(){return this.ctrl},t.prototype.setEnabled=function(e,r){var i=this.enabled,o=this.rowModel.getType(),a=o==="clientSide"||o==="serverSide";if(e&&!o&&A.warnOnce("Advanced Filter is only supported with the Client-Side Row Model or Server-Side Row Model."),this.enabled=e&&a,!r&&this.enabled!==i){var s={type:T.EVENT_ADVANCED_FILTER_ENABLED_CHANGED,enabled:this.enabled};this.eventService.dispatchEvent(s)}},t.prototype.applyExpression=function(){var e=this.createExpressionParser(this.expression);e==null||e.parseExpression(),this.applyExpressionFromParser(e)},t.prototype.applyExpressionFromParser=function(e){if(this.isValid=!e||e.isValid(),!e||!this.isValid){this.expressionFunction=null,this.expressionParams=null,this.appliedExpression=null;return}var r=e.getFunction(),i=r.functionBody,o=r.params;this.expressionFunction=new Function("expressionProxy","node","params",i),this.expressionParams=o,this.appliedExpression=this.expression},t.prototype.updateValidity=function(){this.advancedFilterExpressionService.resetColumnCaches();var e=this.createExpressionParser(this.expression);e==null||e.parseExpression();var r=!e||e.isValid(),i=r!==this.isValid;return this.applyExpressionFromParser(e),this.ctrl.refreshComp(),this.ctrl.refreshBuilderComp(),i},t.prototype.onNewColumnsLoaded=function(e){var r=this;if(!(e.source!=="gridInitializing"||!this.dataTypeService.isPendingInference())){this.ctrl.setInputDisabled(!0);var i=this.addManagedListener(this.eventService,T.EVENT_DATA_TYPES_INFERRED,function(){i==null||i(),r.ctrl.setInputDisabled(!1)})}},Uc([E("valueService")],t.prototype,"valueService",void 0),Uc([E("columnModel")],t.prototype,"columnModel",void 0),Uc([E("dataTypeService")],t.prototype,"dataTypeService",void 0),Uc([E("valueParserService")],t.prototype,"valueParserService",void 0),Uc([E("rowModel")],t.prototype,"rowModel",void 0),Uc([E("advancedFilterExpressionService")],t.prototype,"advancedFilterExpressionService",void 0),Uc([z],t.prototype,"postConstruct",null),t=Uc([ie("advancedFilterService")],t),t}(X),J1e="31.1.1",eNe={version:J1e,moduleName:pe.AdvancedFilterModule,beans:[Q1e,K1e],agStackComponents:[{componentName:"agAdvancedFilter",componentClass:gV}],dependantModules:[jn]},tNe=function(){var n=function(t,e){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])},n(t,e)};return function(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");n(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}}(),zn=function(n,t,e,r){var i=arguments.length,o=i<3?t:r===null?r=Object.getOwnPropertyDescriptor(t,e):r,a;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(n,t,e,r);else for(var s=n.length-1;s>=0;s--)(a=n[s])&&(o=(i<3?a(o):i>3?a(t,e,o):a(t,e))||o);return i>3&&o&&Object.defineProperty(t,e,o),o},rNe=function(n,t){var e=typeof Symbol=="function"&&n[Symbol.iterator];if(!e)return n;var r=e.call(n),i,o=[],a;try{for(;(t===void 0||t-- >0)&&!(i=r.next()).done;)o.push(i.value)}catch(s){a={error:s}}finally{try{i&&!i.done&&(e=r.return)&&e.call(r)}finally{if(a)throw a.error}}return o},nNe=function(n,t,e){if(e||arguments.length===2)for(var r=0,i=t.length,o;r<i;r++)(o||!(r in t))&&(o||(o=Array.prototype.slice.call(t,0,r)),o[r]=t[r]);return n.concat(o||Array.prototype.slice.call(t))},gU=function(n){var t=typeof Symbol=="function"&&Symbol.iterator,e=t&&n[t],r=0;if(e)return e.call(n);if(n&&typeof n.length=="number")return{next:function(){return n&&r>=n.length&&(n=void 0),{value:n&&n[r++],done:!n}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")},kD="paste",GD="dragCopy",yU="clipboard",ph;(function(n){n[n.CellRange=0]="CellRange",n[n.SelectedRows=1]="SelectedRows",n[n.FocusedCell=2]="FocusedCell"})(ph||(ph={}));var mU=function(n){return"AG Grid: Unable to use the Clipboard API (navigator.clipboard.".concat(n,"()). ")+"The reason why it could not be used has been logged in the previous line. For this reason the grid has defaulted to using a workaround which doesn't perform as well. Either fix why Clipboard API is blocked, OR stop this message from appearing by setting grid property suppressClipboardApi=true (which will default the grid to using the workaround rather than the API."},iNe=function(n){tNe(t,n);function t(){var r=n!==null&&n.apply(this,arguments)||this;return r.lastPasteOperationTime=0,r.navigatorApiFailed=!1,r}e=t,t.prototype.init=function(){var r=this;this.logger=this.loggerFactory.create("ClipboardService"),this.rowModel.getType()==="clientSide"&&(this.clientSideRowModel=this.rowModel),this.ctrlsService.whenReady(function(i){r.gridCtrl=i.gridCtrl})},t.prototype.pasteFromClipboard=function(){var r=this;this.logger.log("pasteFromClipboard");var i=!this.gridOptionsService.get("suppressClipboardApi");i&&!this.navigatorApiFailed&&navigator.clipboard&&navigator.clipboard.readText?navigator.clipboard.readText().then(this.processClipboardData.bind(this)).catch(function(o){A.doOnce(function(){console.warn(o),console.warn(mU("readText"))},"clipboardApiError"),r.navigatorApiFailed=!0,r.pasteFromClipboardLegacy()}):this.pasteFromClipboardLegacy()},t.prototype.pasteFromClipboardLegacy=function(){var r=this,i=!1,o=function(a){var s=new Date().getTime();s-r.lastPasteOperationTime<50&&(i=!0,a.preventDefault()),r.lastPasteOperationTime=s};this.executeOnTempElement(function(a){a.addEventListener("paste",o),a.focus({preventScroll:!0})},function(a){var s=a.value;i?r.refocusLastFocusedCell():r.processClipboardData(s),a.removeEventListener("paste",o)})},t.prototype.refocusLastFocusedCell=function(){var r=this.focusService.getFocusedCell();r&&this.focusService.setFocusedCell({rowIndex:r.rowIndex,column:r.column,rowPinned:r.rowPinned,forceBrowserFocus:!0})},t.prototype.getClipboardDelimiter=function(){var r=this.gridOptionsService.get("clipboardDelimiter");return A.exists(r)?r:"	"},t.prototype.processClipboardData=function(r){var i=this;if(r!=null){var o=e.stringToArray(r,this.getClipboardDelimiter()),a=this.gridOptionsService.getCallback("processDataFromClipboard");if(a&&(o=a({data:o})),o!=null){this.gridOptionsService.get("suppressLastEmptyLineOnPaste")&&this.removeLastLineIfBlank(o);var s=function(l,u,c,d){var p=i.rangeService&&i.rangeService.isMoreThanOneCell(),h=p&&!i.hasOnlyOneValueToPaste(o);h?i.pasteIntoActiveRange(o,l,u,d):i.pasteStartingFromFocusedCell(o,l,u,c,d)};this.doPasteOperation(s)}}},t.stringToArray=function(r,i){i===void 0&&(i=",");var o=[],a=function(v){return v==="\r"||v===`
`},s=!1;if(r==="")return[[""]];for(var l=function(v,g,y){var m=r[y-1],C=r[y],S=r[y+1],w=function(){o[v]||(o[v]=[]),o[v][g]||(o[v][g]="")};if(w(),C==='"'&&(s?S==='"'?(o[v][g]+='"',y++):s=!1:(m===void 0||m===i||a(m))&&(s=!0)),!s&&C!=='"'){if(C===i)return g++,w(),u=v,c=g,d=y,"continue";if(a(C))return g=0,v++,w(),C==="\r"&&S===`
`&&y++,u=v,c=g,d=y,"continue"}o[v][g]+=C,u=v,c=g,d=y},u,c,d,p=0,h=0,f=0;f<r.length;f++)l(p,h,f),p=u,h=c,f=d;return o},t.prototype.doPasteOperation=function(r){var i="clipboard";this.eventService.dispatchEvent({type:T.EVENT_PASTE_START,source:i});var o;if(this.clientSideRowModel){var a=this.gridOptionsService.get("aggregateOnlyChangedColumns");o=new Yg(a,this.clientSideRowModel.getRootNode())}var s={},l=[],u=this.focusService.getFocusedCell();r(s,l,u,o);var c=nNe([],rNe(l),!1);o&&(this.clientSideRowModel.doAggregate(o),o.forEachChangedNodeDepthFirst(function(p){c.push(p)})),this.rowRenderer.refreshCells({rowNodes:c}),this.dispatchFlashCells(s),this.fireRowChanged(l),this.refocusLastFocusedCell();var d={type:T.EVENT_PASTE_END,source:i};this.eventService.dispatchEvent(d)},t.prototype.pasteIntoActiveRange=function(r,i,o,a){var s=this,l=this.getRangeSize()%r.length!=0,u=0,c=0,d=function(p,h,f,v){var g=v-u>=r.length;if(g){if(l)return;u+=c,c=0}var y=r[v-u];o.push(h);var m=s.gridOptionsService.getCallback("processCellFromClipboard");f.forEach(function(C,S){if(!(!C.isCellEditable(h)||C.isSuppressPaste(h))){S>=y.length&&(S=S%y.length);var w=s.processCell(h,C,y[S],GD,m,!0);h.setDataValue(C,w,kD),a&&a.addParentNode(h.parent,[C]);var _=p.rowIndex,x=p.rowPinned,b=s.cellPositionUtils.createIdFromValues({rowIndex:_,column:C,rowPinned:x});i[b]=!0}}),c++};this.iterateActiveRanges(!1,d)},t.prototype.pasteStartingFromFocusedCell=function(r,i,o,a,s){if(a){var l={rowIndex:a.rowIndex,rowPinned:a.rowPinned},u=this.columnModel.getDisplayedColumnsStartingAt(a.column);this.isPasteSingleValueIntoRange(r)?this.pasteSingleValueIntoRange(r,o,i,s):this.pasteMultipleValues(r,l,o,u,i,yU,s)}},t.prototype.isPasteSingleValueIntoRange=function(r){return this.hasOnlyOneValueToPaste(r)&&this.rangeService!=null&&!this.rangeService.isEmpty()},t.prototype.pasteSingleValueIntoRange=function(r,i,o,a){var s=this,l=r[0][0],u=function(c,d,p){i.push(d),p.forEach(function(h){return s.updateCellValue(d,h,l,o,yU,a)})};this.iterateActiveRanges(!1,u)},t.prototype.hasOnlyOneValueToPaste=function(r){return r.length===1&&r[0].length===1},t.prototype.copyRangeDown=function(){var r=this;if(!(!this.rangeService||this.rangeService.isEmpty())){var i=[],o=function(a,s,l,u){var c=r.gridOptionsService.getCallback("processCellForClipboard"),d=r.gridOptionsService.getCallback("processCellFromClipboard"),p=function(h,f,v){i.length?(s.push(f),v.forEach(function(g,y){if(!(!g.isCellEditable(f)||g.isSuppressPaste(f))){var m=r.processCell(f,g,i[y],GD,d,!0);f.setDataValue(g,m,kD),u&&u.addParentNode(f.parent,[g]);var C=h.rowIndex,S=h.rowPinned,w=r.cellPositionUtils.createIdFromValues({rowIndex:C,column:g,rowPinned:S});a[w]=!0}})):v.forEach(function(g){var y=r.processCell(f,g,r.valueService.getValue(g,f),GD,c,!1,!0);i.push(y)})};r.iterateActiveRanges(!0,p)};this.doPasteOperation(o)}},t.prototype.removeLastLineIfBlank=function(r){var i=A.last(r),o=i&&i.length===1&&i[0]==="";if(o){if(r.length===1)return;A.removeFromArray(r,i)}},t.prototype.fireRowChanged=function(r){var i=this;this.gridOptionsService.get("editType")==="fullRow"&&r.forEach(function(o){var a={type:T.EVENT_ROW_VALUE_CHANGED,node:o,data:o.data,rowIndex:o.rowIndex,rowPinned:o.rowPinned};i.eventService.dispatchEvent(a)})},t.prototype.pasteMultipleValues=function(r,i,o,a,s,l,u){var c=this,d=i,p=this.clientSideRowModel!=null&&!this.gridOptionsService.get("enableGroupEdit")&&!this.gridOptionsService.get("treeData"),h=function(){for(;;){if(!d)return null;var f=c.rowPositionUtils.getRowNode(d);if(d=c.cellNavigationService.getRowBelow({rowPinned:d.rowPinned,rowIndex:d.rowIndex}),f==null)return null;var v=f.detail||f.footer||p&&f.group;if(!v)return f}};r.forEach(function(f){var v=h();v&&(f.forEach(function(g,y){return c.updateCellValue(v,a[y],g,s,l,u)}),o.push(v))})},t.prototype.updateCellValue=function(r,i,o,a,s,l){if(!(!r||!i||!i.isCellEditable(r)||i.isSuppressPaste(r))&&!(r.group&&i.isValueActive())){var u=this.processCell(r,i,o,s,this.gridOptionsService.getCallback("processCellFromClipboard"),!0);r.setDataValue(i,u,kD);var c=r.rowIndex,d=r.rowPinned,p=this.cellPositionUtils.createIdFromValues({rowIndex:c,column:i,rowPinned:d});a[p]=!0,l&&l.addParentNode(r.parent,[i])}},t.prototype.copyToClipboard=function(r){r===void 0&&(r={}),this.copyOrCutToClipboard(r)},t.prototype.cutToClipboard=function(r,i){if(r===void 0&&(r={}),i===void 0&&(i="api"),!this.gridOptionsService.get("suppressCutToClipboard")){var o={type:T.EVENT_CUT_START,source:i};this.eventService.dispatchEvent(o),this.copyOrCutToClipboard(r,!0);var a={type:T.EVENT_CUT_END,source:i};this.eventService.dispatchEvent(a)}},t.prototype.copyOrCutToClipboard=function(r,i){var o=r.includeHeaders,a=r.includeGroupHeaders;this.logger.log("copyToClipboard: includeHeaders = ".concat(o)),o==null&&(o=this.gridOptionsService.get("copyHeadersToClipboard")),a==null&&(a=this.gridOptionsService.get("copyGroupHeadersToClipboard"));var s={includeHeaders:o,includeGroupHeaders:a},l=!this.gridOptionsService.get("suppressCopyRowsToClipboard"),u=null;this.rangeService&&!this.rangeService.isEmpty()&&!this.shouldSkipSingleCellRange()?(this.copySelectedRangeToClipboard(s),u=ph.CellRange):l&&!this.selectionService.isEmpty()?(this.copySelectedRowsToClipboard(s),u=ph.SelectedRows):this.focusService.isAnyCellFocused()&&(this.copyFocusedCellToClipboard(s),u=ph.FocusedCell),i&&u!==null&&this.clearCellsAfterCopy(u)},t.prototype.clearCellsAfterCopy=function(r){if(this.eventService.dispatchEvent({type:T.EVENT_KEY_SHORTCUT_CHANGED_CELL_START}),r===ph.CellRange)this.rangeService.clearCellRangeCellValues({cellEventSource:"clipboardService"});else if(r===ph.SelectedRows)this.clearSelectedRows();else{var i=this.focusService.getFocusedCell();if(i==null)return;var o=this.rowPositionUtils.getRowNode(i);o&&this.clearCellValue(o,i.column)}this.eventService.dispatchEvent({type:T.EVENT_KEY_SHORTCUT_CHANGED_CELL_END})},t.prototype.clearSelectedRows=function(){var r,i,o,a,s=this.selectionService.getSelectedNodes(),l=this.columnModel.getAllDisplayedColumns();try{for(var u=gU(s),c=u.next();!c.done;c=u.next()){var d=c.value;try{for(var p=(o=void 0,gU(l)),h=p.next();!h.done;h=p.next()){var f=h.value;this.clearCellValue(d,f)}}catch(v){o={error:v}}finally{try{h&&!h.done&&(a=p.return)&&a.call(p)}finally{if(o)throw o.error}}}}catch(v){r={error:v}}finally{try{c&&!c.done&&(i=u.return)&&i.call(u)}finally{if(r)throw r.error}}},t.prototype.clearCellValue=function(r,i){i.isCellEditable(r)&&r.setDataValue(i,null,"clipboardService")},t.prototype.shouldSkipSingleCellRange=function(){return this.gridOptionsService.get("suppressCopySingleCellRanges")&&!this.rangeService.isMoreThanOneCell()},t.prototype.iterateActiveRanges=function(r,i,o){var a=this;if(!(!this.rangeService||this.rangeService.isEmpty())){var s=this.rangeService.getCellRanges();r?this.iterateActiveRange(s[0],i,o,!0):s.forEach(function(l,u){return a.iterateActiveRange(l,i,o,u===s.length-1)})}},t.prototype.iterateActiveRange=function(r,i,o,a){if(this.rangeService){var s=this.rangeService.getRangeStartRow(r),l=this.rangeService.getRangeEndRow(r);o&&r.columns&&o(r.columns);for(var u=0,c=!1;!c&&s!=null;){var d=this.rowPositionUtils.getRowNode(s);c=this.rowPositionUtils.sameRow(s,l),i(s,d,r.columns,u++,c&&a),s=this.cellNavigationService.getRowBelow(s)}}},t.prototype.copySelectedRangeToClipboard=function(r){if(r===void 0&&(r={}),!(!this.rangeService||this.rangeService.isEmpty())){var i=this.rangeService.areAllRangesAbleToMerge(),o=i?this.buildDataFromMergedRanges(r):this.buildDataFromRanges(r),a=o.data,s=o.cellsToFlash;this.copyDataToClipboard(a),this.dispatchFlashCells(s)}},t.prototype.buildDataFromMergedRanges=function(r){var i=this,o=new Set,a=this.rangeService.getCellRanges(),s=new Map,l=[],u={};a.forEach(function(h){h.columns.forEach(function(y){return o.add(y)});var f=i.getRangeRowPositionsAndCellsToFlash(h),v=f.rowPositions,g=f.cellsToFlash;v.forEach(function(y){var m="".concat(y.rowIndex,"-").concat(y.rowPinned||"null");s.get(m)||(s.set(m,!0),l.push(y))}),Object.assign(u,g)});var c=this.columnModel.getAllDisplayedColumns(),d=Array.from(o);d.sort(function(h,f){var v=c.indexOf(h),g=c.indexOf(f);return v-g});var p=this.buildExportParams({columns:d,rowPositions:l,includeHeaders:r.includeHeaders,includeGroupHeaders:r.includeGroupHeaders});return{data:p,cellsToFlash:u}},t.prototype.buildDataFromRanges=function(r){var i=this,o=this.rangeService.getCellRanges(),a=[],s={};return o.forEach(function(l){var u=i.getRangeRowPositionsAndCellsToFlash(l),c=u.rowPositions,d=u.cellsToFlash;Object.assign(s,d),a.push(i.buildExportParams({columns:l.columns,rowPositions:c,includeHeaders:r.includeHeaders,includeGroupHeaders:r.includeGroupHeaders}))}),{data:a.join(`
`),cellsToFlash:s}},t.prototype.getRangeRowPositionsAndCellsToFlash=function(r){for(var i=this,o=[],a={},s=this.rangeService.getRangeStartRow(r),l=this.rangeService.getRangeEndRow(r),u=s;u&&(o.push(u),r.columns.forEach(function(c){var d=u,p=d.rowIndex,h=d.rowPinned,f=i.cellPositionUtils.createIdFromValues({rowIndex:p,column:c,rowPinned:h});a[f]=!0}),!this.rowPositionUtils.sameRow(u,l));)u=this.cellNavigationService.getRowBelow(u);return{rowPositions:o,cellsToFlash:a}},t.prototype.getCellsToFlashFromRowNodes=function(r){for(var i=this.columnModel.getAllDisplayedColumns(),o={},a=0;a<r.length;a++){var s=r[a],l=s.rowIndex,u=s.rowPinned;if(l!=null)for(var c=0;c<i.length;c++){var d=i[c],p=this.cellPositionUtils.createIdFromValues({rowIndex:l,column:d,rowPinned:u});o[p]=!0}}return o},t.prototype.copyFocusedCellToClipboard=function(r){var i;r===void 0&&(r={});var o=this.focusService.getFocusedCell();if(o!=null){var a=this.cellPositionUtils.createId(o),s={rowPinned:o.rowPinned,rowIndex:o.rowIndex},l=o.column,u=this.buildExportParams({columns:[l],rowPositions:[s],includeHeaders:r.includeHeaders,includeGroupHeaders:r.includeGroupHeaders});this.copyDataToClipboard(u),this.dispatchFlashCells((i={},i[a]=!0,i))}},t.prototype.copySelectedRowsToClipboard=function(r){r===void 0&&(r={});var i=r.columnKeys,o=r.includeHeaders,a=r.includeGroupHeaders,s=this.buildExportParams({columns:i,includeHeaders:o,includeGroupHeaders:a});this.copyDataToClipboard(s);var l=this.selectionService.getSelectedNodes()||[];this.dispatchFlashCells(this.getCellsToFlashFromRowNodes(l))},t.prototype.buildExportParams=function(r){var i=this,o=r.columns,a=r.rowPositions,s=r.includeHeaders,l=s===void 0?!1:s,u=r.includeGroupHeaders,c=u===void 0?!1:u,d={columnKeys:o,rowPositions:a,skipColumnHeaders:!l,skipColumnGroupHeaders:!c,suppressQuotes:!0,columnSeparator:this.getClipboardDelimiter(),onlySelected:!a,processCellCallback:this.gridOptionsService.getCallback("processCellForClipboard"),processRowGroupCallback:function(p){return i.processRowGroupCallback(p)},processHeaderCallback:this.gridOptionsService.getCallback("processHeaderForClipboard"),processGroupHeaderCallback:this.gridOptionsService.getCallback("processGroupHeaderForClipboard")};return this.csvCreator.getDataAsCsv(d,!0)},t.prototype.processRowGroupCallback=function(r){var i=this,o=r.node,a=r.column,s=this.gridOptionsService.get("treeData"),l=this.gridOptionsService.get("suppressGroupMaintainValueType"),u=function(){var f,v;if(s||l||!a)return o.key;var g=(f=o.groupData)===null||f===void 0?void 0:f[a.getId()];return!g||!o.rowGroupColumn||o.rowGroupColumn.getColDef().useValueFormatterForExport===!1?g:(v=i.valueFormatterService.formatValue(o.rowGroupColumn,o,g))!==null&&v!==void 0?v:g},c=u();if(r.node.footer){var d="";c&&c.length&&(d=" ".concat(c)),c="Total".concat(d)}var p=this.gridOptionsService.getCallback("processCellForClipboard");if(p){var h=o.rowGroupColumn;return!h&&o.footer&&o.level===-1&&(h=this.columnModel.getRowGroupColumns()[0]),p({value:c,node:o,column:h,type:"clipboard",formatValue:function(f){var v;return(v=i.valueFormatterService.formatValue(h,o,f))!==null&&v!==void 0?v:f},parseValue:function(f){return i.valueParserService.parseValue(h,o,f,i.valueService.getValue(h,o))}})}return c},t.prototype.dispatchFlashCells=function(r){var i=this;window.setTimeout(function(){var o={type:T.EVENT_FLASH_CELLS,cells:r};i.eventService.dispatchEvent(o)},0)},t.prototype.processCell=function(r,i,o,a,s,l,u){var c=this,d;if(s){var p={column:i,node:r,value:o,type:a,formatValue:function(h){var f;return(f=c.valueFormatterService.formatValue(i,r??null,h))!==null&&f!==void 0?f:h},parseValue:function(h){return c.valueParserService.parseValue(i,r??null,h,c.valueService.getValue(i,r))}};return s(p)}return l&&i.getColDef().useValueParserForImport!==!1?this.valueParserService.parseValue(i,r??null,o,this.valueService.getValue(i,r)):u&&i.getColDef().useValueFormatterForExport!==!1&&(d=this.valueFormatterService.formatValue(i,r??null,o))!==null&&d!==void 0?d:o},t.prototype.copyDataToClipboard=function(r){var i=this,o=this.gridOptionsService.getCallback("sendToClipboard");if(o){o({data:r});return}var a=!this.gridOptionsService.get("suppressClipboardApi");if(a&&navigator.clipboard){navigator.clipboard.writeText(r).catch(function(s){A.doOnce(function(){console.warn(s),console.warn(mU("writeText"))},"clipboardApiError"),i.copyDataToClipboardLegacy(r)});return}this.copyDataToClipboardLegacy(r)},t.prototype.copyDataToClipboardLegacy=function(r){var i=this;this.executeOnTempElement(function(o){var a=i.gridOptionsService.getDocument(),s=a.activeElement;o.value=r||" ",o.select(),o.focus({preventScroll:!0});var l=a.execCommand("copy");l||console.warn("AG Grid: Browser did not allow document.execCommand('copy'). Ensure api.copySelectedRowsToClipboard() is invoked via a user event, i.e. button click, otherwise the browser will prevent it for security reasons."),s!=null&&s.focus!=null&&s.focus({preventScroll:!0})})},t.prototype.executeOnTempElement=function(r,i){var o=this.gridOptionsService.getDocument(),a=o.createElement("textarea");a.style.width="1px",a.style.height="1px",a.style.top=o.documentElement.scrollTop+"px",a.style.left=o.documentElement.scrollLeft+"px",a.style.position="absolute",a.style.opacity="0";var s=this.gridCtrl.getGui();s.appendChild(a);try{r(a)}catch{console.warn("AG Grid: Browser does not support document.execCommand('copy') for clipboard operations")}i?window.setTimeout(function(){i(a),s.removeChild(a)},100):s.removeChild(a)},t.prototype.getRangeSize=function(){var r=this.rangeService.getCellRanges(),i=0,o=0;return r.length>0&&(i=this.rangeService.getRangeStartRow(r[0]).rowIndex,o=this.rangeService.getRangeEndRow(r[0]).rowIndex),i-o+1};var e;return zn([E("csvCreator")],t.prototype,"csvCreator",void 0),zn([E("loggerFactory")],t.prototype,"loggerFactory",void 0),zn([E("selectionService")],t.prototype,"selectionService",void 0),zn([et("rangeService")],t.prototype,"rangeService",void 0),zn([E("rowModel")],t.prototype,"rowModel",void 0),zn([E("ctrlsService")],t.prototype,"ctrlsService",void 0),zn([E("valueService")],t.prototype,"valueService",void 0),zn([E("focusService")],t.prototype,"focusService",void 0),zn([E("rowRenderer")],t.prototype,"rowRenderer",void 0),zn([E("columnModel")],t.prototype,"columnModel",void 0),zn([E("cellNavigationService")],t.prototype,"cellNavigationService",void 0),zn([E("cellPositionUtils")],t.prototype,"cellPositionUtils",void 0),zn([E("rowPositionUtils")],t.prototype,"rowPositionUtils",void 0),zn([E("valueFormatterService")],t.prototype,"valueFormatterService",void 0),zn([E("valueParserService")],t.prototype,"valueParserService",void 0),zn([z],t.prototype,"init",null),t=e=zn([ie("clipboardService")],t),t}(X),oNe="31.1.1",aNe={version:oNe,moduleName:pe.ClipboardModule,beans:[iNe],dependantModules:[jn,RT]},sNe=function(){var n=function(t,e){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])},n(t,e)};return function(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");n(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}}(),pm=function(n,t,e,r){var i=arguments.length,o=i<3?t:r===null?r=Object.getOwnPropertyDescriptor(t,e):r,a;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(n,t,e,r);else for(var s=n.length-1;s>=0;s--)(a=n[s])&&(o=(i<3?a(o):i>3?a(t,e,o):a(t,e))||o);return i>3&&o&&Object.defineProperty(t,e,o),o},Dl;(function(n){n[n.EXPANDED=0]="EXPANDED",n[n.COLLAPSED=1]="COLLAPSED",n[n.INDETERMINATE=2]="INDETERMINATE"})(Dl||(Dl={}));var lNe=function(n){sNe(t,n);function t(){return n.call(this,t.TEMPLATE)||this}return t.prototype.postConstruct=function(){var e=this;this.createExpandIcons(),this.addManagedListener(this.eExpand,"click",this.onExpandClicked.bind(this)),this.addManagedListener(this.eExpand,"keydown",function(i){i.key===U.SPACE&&(i.preventDefault(),e.onExpandClicked())}),this.addManagedListener(this.eSelect.getInputElement(),"click",this.onSelectClicked.bind(this)),this.addManagedPropertyListener("functionsReadOnly",function(){return e.onFunctionsReadOnlyPropChanged()}),this.eFilterTextField.setAutoComplete(!1).onValueChange(function(){return e.onFilterTextChanged()}),this.addManagedListener(this.eFilterTextField.getInputElement(),"keydown",this.onMiniFilterKeyDown.bind(this)),this.addManagedListener(this.eventService,T.EVENT_NEW_COLUMNS_LOADED,this.showOrHideOptions.bind(this));var r=this.localeService.getLocaleTextFunc();this.eSelect.setInputAriaLabel(r("ariaColumnSelectAll","Toggle Select All Columns")),this.eFilterTextField.setInputAriaLabel(r("ariaFilterColumnsInput","Filter Columns Input")),this.activateTabIndex([this.eExpand])},t.prototype.onFunctionsReadOnlyPropChanged=function(){var e=this.gridOptionsService.get("functionsReadOnly");this.eSelect.setReadOnly(e),this.eSelect.addOrRemoveCssClass("ag-column-select-column-readonly",e)},t.prototype.init=function(e){this.params=e;var r=this.gridOptionsService.get("functionsReadOnly");this.eSelect.setReadOnly(r),this.eSelect.addOrRemoveCssClass("ag-column-select-column-readonly",r),this.columnModel.isReady()&&this.showOrHideOptions()},t.prototype.createExpandIcons=function(){this.eExpand.appendChild(this.eExpandChecked=A.createIconNoSpan("columnSelectOpen",this.gridOptionsService)),this.eExpand.appendChild(this.eExpandUnchecked=A.createIconNoSpan("columnSelectClosed",this.gridOptionsService)),this.eExpand.appendChild(this.eExpandIndeterminate=A.createIconNoSpan("columnSelectIndeterminate",this.gridOptionsService)),this.setExpandState(Dl.EXPANDED)},t.prototype.showOrHideOptions=function(){var e=!this.params.suppressColumnFilter,r=!this.params.suppressColumnSelectAll,i=!this.params.suppressColumnExpandAll,o=this.columnModel.isPrimaryColumnGroupsPresent(),a=this.localeService.getLocaleTextFunc();this.eFilterTextField.setInputPlaceholder(a("searchOoo","Search...")),A.setDisplayed(this.eFilterTextField.getGui(),e),A.setDisplayed(this.eSelect.getGui(),r),A.setDisplayed(this.eExpand,i&&o)},t.prototype.onFilterTextChanged=function(){var e=this;this.onFilterTextChangedDebounced||(this.onFilterTextChangedDebounced=A.debounce(function(){var r=e.eFilterTextField.getValue();e.dispatchEvent({type:"filterChanged",filterText:r})},t.DEBOUNCE_DELAY)),this.onFilterTextChangedDebounced()},t.prototype.onMiniFilterKeyDown=function(e){var r=this;e.key===U.ENTER&&setTimeout(function(){return r.onSelectClicked()},t.DEBOUNCE_DELAY)},t.prototype.onSelectClicked=function(){this.dispatchEvent({type:this.selectState?"unselectAll":"selectAll"})},t.prototype.onExpandClicked=function(){this.dispatchEvent({type:this.expandState===Dl.EXPANDED?"collapseAll":"expandAll"})},t.prototype.setExpandState=function(e){this.expandState=e,A.setDisplayed(this.eExpandChecked,this.expandState===Dl.EXPANDED),A.setDisplayed(this.eExpandUnchecked,this.expandState===Dl.COLLAPSED),A.setDisplayed(this.eExpandIndeterminate,this.expandState===Dl.INDETERMINATE)},t.prototype.setSelectionState=function(e){this.selectState=e,this.eSelect.setValue(this.selectState)},t.DEBOUNCE_DELAY=300,t.TEMPLATE=`<div class="ag-column-select-header" role="presentation">
            <div ref="eExpand" class="ag-column-select-header-icon"></div>
            <ag-checkbox ref="eSelect" class="ag-column-select-header-checkbox"></ag-checkbox>
            <ag-input-text-field class="ag-column-select-header-filter-wrapper" ref="eFilterTextField"></ag-input-text-field>
        </div>`,pm([E("columnModel")],t.prototype,"columnModel",void 0),pm([j("eExpand")],t.prototype,"eExpand",void 0),pm([j("eSelect")],t.prototype,"eSelect",void 0),pm([j("eFilterTextField")],t.prototype,"eFilterTextField",void 0),pm([z],t.prototype,"postConstruct",null),t}(ae),Km=function(){function n(t,e,r,i,o){i===void 0&&(i=!1),this.eventService=new Us,this.displayName=t,this.dept=r,this.group=i,i?(this.columnGroup=e,this.expanded=o,this.children=[]):this.column=e}return n.prototype.isGroup=function(){return this.group},n.prototype.getDisplayName=function(){return this.displayName},n.prototype.getColumnGroup=function(){return this.columnGroup},n.prototype.getColumn=function(){return this.column},n.prototype.getDept=function(){return this.dept},n.prototype.isExpanded=function(){return!!this.expanded},n.prototype.getChildren=function(){return this.children},n.prototype.isPassesFilter=function(){return this.passesFilter},n.prototype.setExpanded=function(t){t!==this.expanded&&(this.expanded=t,this.eventService.dispatchEvent({type:n.EVENT_EXPANDED_CHANGED}))},n.prototype.setPassesFilter=function(t){this.passesFilter=t},n.prototype.addEventListener=function(t,e){this.eventService.addEventListener(t,e)},n.prototype.removeEventListener=function(t,e){this.eventService.removeEventListener(t,e)},n.EVENT_EXPANDED_CHANGED="expandedChanged",n}(),uNe=function(){var n=function(t,e){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])},n(t,e)};return function(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");n(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}}(),U_=function(n,t,e,r){var i=arguments.length,o=i<3?t:r===null?r=Object.getOwnPropertyDescriptor(t,e):r,a;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(n,t,e,r);else for(var s=n.length-1;s>=0;s--)(a=n[s])&&(o=(i<3?a(o):i>3?a(t,e,o):a(t,e))||o);return i>3&&o&&Object.defineProperty(t,e,o),o},cNe=function(n,t){var e=typeof Symbol=="function"&&n[Symbol.iterator];if(!e)return n;var r=e.call(n),i,o=[],a;try{for(;(t===void 0||t-- >0)&&!(i=r.next()).done;)o.push(i.value)}catch(s){a={error:s}}finally{try{i&&!i.done&&(e=r.return)&&e.call(r)}finally{if(a)throw a.error}}return o},dNe=function(n,t,e){if(e||arguments.length===2)for(var r=0,i=t.length,o;r<i;r++)(o||!(r in t))&&(o||(o=Array.prototype.slice.call(t,0,r)),o[r]=t[r]);return n.concat(o||Array.prototype.slice.call(t))},pNe=function(n){var t=typeof Symbol=="function"&&Symbol.iterator,e=t&&n[t],r=0;if(e)return e.call(n);if(n&&typeof n.length=="number")return{next:function(){return n&&r>=n.length&&(n=void 0),{value:n&&n[r++],done:!n}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")},xZ=function(n){uNe(t,n);function t(e,r,i){var o=n.call(this,'<div class="ag-menu"></div>')||this;return o.column=e,o.mouseEvent=r,o.parentEl=i,o.displayName=null,o}return t.prototype.postConstruct=function(){if(this.initializeProperties(this.column),this.buildMenuItemMap(),this.column instanceof rt?this.displayName=this.columnModel.getDisplayNameForColumn(this.column,"columnToolPanel"):this.displayName=this.columnModel.getDisplayNameForProvidedColumnGroup(null,this.column,"columnToolPanel"),this.isActive()){this.mouseEvent.preventDefault();var e=this.getMappedMenuItems();if(e.length===0)return;this.displayContextMenu(e)}},t.prototype.initializeProperties=function(e){e instanceof Rt?this.columns=e.getLeafColumns():this.columns=[e],this.allowGrouping=this.columns.some(function(r){return r.isPrimary()&&r.isAllowRowGroup()}),this.allowValues=this.columns.some(function(r){return r.isPrimary()&&r.isAllowValue()}),this.allowPivoting=this.columnModel.isPivotMode()&&this.columns.some(function(r){return r.isPrimary()&&r.isAllowPivot()})},t.prototype.buildMenuItemMap=function(){var e=this,r=this.localeService.getLocaleTextFunc();this.menuItemMap=new Map,this.menuItemMap.set("rowGroup",{allowedFunction:function(i){return i.isPrimary()&&i.isAllowRowGroup()&&!e.columnModel.isColumnGroupingLocked(i)},activeFunction:function(i){return i.isRowGroupActive()},activateLabel:function(){return"".concat(r("groupBy","Group by")," ").concat(e.displayName)},deactivateLabel:function(){return"".concat(r("ungroupBy","Un-Group by")," ").concat(e.displayName)},activateFunction:function(){var i=e.columnModel.getRowGroupColumns();e.columnModel.setRowGroupColumns(e.addColumnsToList(i),"toolPanelUi")},deActivateFunction:function(){var i=e.columnModel.getRowGroupColumns();e.columnModel.setRowGroupColumns(e.removeColumnsFromList(i),"toolPanelUi")},addIcon:"menuAddRowGroup",removeIcon:"menuRemoveRowGroup"}),this.menuItemMap.set("value",{allowedFunction:function(i){return i.isPrimary()&&i.isAllowValue()},activeFunction:function(i){return i.isValueActive()},activateLabel:function(){return r("addToValues","Add ".concat(e.displayName," to values"),[e.displayName])},deactivateLabel:function(){return r("removeFromValues","Remove ".concat(e.displayName," from values"),[e.displayName])},activateFunction:function(){var i=e.columnModel.getValueColumns();e.columnModel.setValueColumns(e.addColumnsToList(i),"toolPanelUi")},deActivateFunction:function(){var i=e.columnModel.getValueColumns();e.columnModel.setValueColumns(e.removeColumnsFromList(i),"toolPanelUi")},addIcon:"valuePanel",removeIcon:"valuePanel"}),this.menuItemMap.set("pivot",{allowedFunction:function(i){return e.columnModel.isPivotMode()&&i.isPrimary()&&i.isAllowPivot()},activeFunction:function(i){return i.isPivotActive()},activateLabel:function(){return r("addToLabels","Add ".concat(e.displayName," to labels"),[e.displayName])},deactivateLabel:function(){return r("removeFromLabels","Remove ".concat(e.displayName," from labels"),[e.displayName])},activateFunction:function(){var i=e.columnModel.getPivotColumns();e.columnModel.setPivotColumns(e.addColumnsToList(i),"toolPanelUi")},deActivateFunction:function(){var i=e.columnModel.getPivotColumns();e.columnModel.setPivotColumns(e.removeColumnsFromList(i),"toolPanelUi")},addIcon:"pivotPanel",removeIcon:"pivotPanel"})},t.prototype.addColumnsToList=function(e){return dNe([],cNe(e),!1).concat(this.columns.filter(function(r){return e.indexOf(r)===-1}))},t.prototype.removeColumnsFromList=function(e){var r=this;return e.filter(function(i){return r.columns.indexOf(i)===-1})},t.prototype.displayContextMenu=function(e){var r=this,i=this.getGui(),o=this.createBean(new Ww),a=this.localeService.getLocaleTextFunc(),s=function(){};i.appendChild(o.getGui()),o.addMenuItems(e),o.addManagedListener(o,ja.EVENT_CLOSE_MENU,function(){r.parentEl.focus(),s()});var l=this.popupService.addPopup({modal:!0,eChild:i,closeOnEsc:!0,afterGuiAttached:function(){return r.focusService.focusInto(o.getGui())},ariaLabel:a("ariaLabelContextMenu","Context Menu"),closedCallback:function(u){u instanceof KeyboardEvent&&r.parentEl.focus(),r.destroyBean(o)}});l&&(s=l.hideFunc),this.popupService.positionPopupUnderMouseEvent({type:"columnContextMenu",mouseEvent:this.mouseEvent,ePopup:i})},t.prototype.isActive=function(){return this.allowGrouping||this.allowValues||this.allowPivoting},t.prototype.getMappedMenuItems=function(){var e,r,i=[],o=function(c){var d=a.columns.some(function(h){return c.allowedFunction(h)&&!c.activeFunction(h)}),p=a.columns.some(function(h){return c.allowedFunction(h)&&c.activeFunction(h)});d&&i.push({name:c.activateLabel(a.displayName),icon:A.createIconNoSpan(c.addIcon,a.gridOptionsService,null),action:function(){return c.activateFunction()}}),p&&i.push({name:c.deactivateLabel(a.displayName),icon:A.createIconNoSpan(c.removeIcon,a.gridOptionsService,null),action:function(){return c.deActivateFunction()}})},a=this;try{for(var s=pNe(this.menuItemMap.values()),l=s.next();!l.done;l=s.next()){var u=l.value;o(u)}}catch(c){e={error:c}}finally{try{l&&!l.done&&(r=s.return)&&r.call(s)}finally{if(e)throw e.error}}return i},U_([E("columnModel")],t.prototype,"columnModel",void 0),U_([E("popupService")],t.prototype,"popupService",void 0),U_([E("focusService")],t.prototype,"focusService",void 0),U_([z],t.prototype,"postConstruct",null),t}(ae),hNe=function(){var n=function(t,e){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])},n(t,e)};return function(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");n(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}}(),wu=function(n,t,e,r){var i=arguments.length,o=i<3?t:r===null?r=Object.getOwnPropertyDescriptor(t,e):r,a;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(n,t,e,r);else for(var s=n.length-1;s>=0;s--)(a=n[s])&&(o=(i<3?a(o):i>3?a(t,e,o):a(t,e))||o);return i>3&&o&&Object.defineProperty(t,e,o),o},EZ=function(n){hNe(t,n);function t(e,r,i,o){var a=n.call(this)||this;return a.modelItem=e,a.allowDragging=r,a.eventType=i,a.focusWrapper=o,a.processingColumnStateChange=!1,a.modelItem=e,a.columnGroup=e.getColumnGroup(),a.columnDept=e.getDept(),a.displayName=e.getDisplayName(),a.allowDragging=r,a}return t.prototype.init=function(){var e=this;this.setTemplate(t.TEMPLATE),this.eDragHandle=A.createIconNoSpan("columnDrag",this.gridOptionsService),this.eDragHandle.classList.add("ag-drag-handle","ag-column-select-column-group-drag-handle");var r=this.cbSelect.getGui(),i=this.cbSelect.getInputElement();r.insertAdjacentElement("afterend",this.eDragHandle),i.setAttribute("tabindex","-1"),this.eLabel.innerHTML=this.displayName?this.displayName:"",this.setupExpandContract(),this.addCssClass("ag-column-select-indent-"+this.columnDept),this.addManagedListener(this.eventService,T.EVENT_COLUMN_PIVOT_MODE_CHANGED,this.onColumnStateChanged.bind(this)),this.addManagedListener(this.eLabel,"click",this.onLabelClicked.bind(this)),this.addManagedListener(this.cbSelect,T.EVENT_FIELD_VALUE_CHANGED,this.onCheckboxChanged.bind(this)),this.addManagedListener(this.modelItem,Km.EVENT_EXPANDED_CHANGED,this.onExpandChanged.bind(this)),this.addManagedListener(this.focusWrapper,"keydown",this.handleKeyDown.bind(this)),this.addManagedListener(this.focusWrapper,"contextmenu",this.onContextMenu.bind(this)),this.setOpenClosedIcons(),this.setupDragging(),this.onColumnStateChanged(),this.addVisibilityListenersToAllChildren(),this.refreshAriaExpanded(),this.refreshAriaLabel(),this.setupTooltip();var o=cp.getToolPanelClassesFromColDef(this.columnGroup.getColGroupDef(),this.gridOptionsService,null,this.columnGroup);o.forEach(function(a){return e.addOrRemoveCssClass(a,!0)})},t.prototype.getColumns=function(){return this.columnGroup.getLeafColumns()},t.prototype.setupTooltip=function(){var e=this,r=this.columnGroup.getColGroupDef();if(r){var i=function(){var o=r.headerTooltip;e.setTooltip(o)};i(),this.addManagedListener(this.eventService,T.EVENT_NEW_COLUMNS_LOADED,i)}},t.prototype.getTooltipParams=function(){var e=n.prototype.getTooltipParams.call(this);return e.location="columnToolPanelColumnGroup",e},t.prototype.handleKeyDown=function(e){switch(e.key){case U.LEFT:e.preventDefault(),this.modelItem.setExpanded(!1);break;case U.RIGHT:e.preventDefault(),this.modelItem.setExpanded(!0);break;case U.SPACE:e.preventDefault(),this.isSelectable()&&this.onSelectAllChanged(!this.isSelected());break}},t.prototype.onContextMenu=function(e){var r=this,i=this,o=i.columnGroup,a=i.gridOptionsService;if(!a.get("functionsReadOnly")){var s=this.createBean(new xZ(o,e,this.focusWrapper));this.addDestroyFunc(function(){s.isAlive()&&r.destroyBean(s)})}},t.prototype.addVisibilityListenersToAllChildren=function(){var e=this;this.columnGroup.getLeafColumns().forEach(function(r){e.addManagedListener(r,rt.EVENT_VISIBLE_CHANGED,e.onColumnStateChanged.bind(e)),e.addManagedListener(r,rt.EVENT_VALUE_CHANGED,e.onColumnStateChanged.bind(e)),e.addManagedListener(r,rt.EVENT_PIVOT_CHANGED,e.onColumnStateChanged.bind(e)),e.addManagedListener(r,rt.EVENT_ROW_GROUP_CHANGED,e.onColumnStateChanged.bind(e))})},t.prototype.setupDragging=function(){var e=this;if(!this.allowDragging){A.setDisplayed(this.eDragHandle,!1);return}var r=!this.gridOptionsService.get("suppressDragLeaveHidesColumns"),i={type:Or.ToolPanel,eElement:this.eDragHandle,dragItemName:this.displayName,getDefaultIconName:function(){return r?St.ICON_HIDE:St.ICON_NOT_ALLOWED},getDragItem:function(){return e.createDragItem()},onDragStarted:function(){r=!e.gridOptionsService.get("suppressDragLeaveHidesColumns");var o={type:T.EVENT_COLUMN_PANEL_ITEM_DRAG_START,column:e.columnGroup};e.eventService.dispatchEvent(o)},onDragStopped:function(){var o={type:T.EVENT_COLUMN_PANEL_ITEM_DRAG_END};e.eventService.dispatchEvent(o)},onGridEnter:function(o){r&&e.modelItemUtils.updateColumns({columns:e.columnGroup.getLeafColumns(),visibleState:o==null?void 0:o.visibleState,pivotState:o==null?void 0:o.pivotState,eventType:e.eventType})},onGridExit:function(){r&&e.onChangeCommon(!1)}};this.dragAndDropService.addDragSource(i,!0),this.addDestroyFunc(function(){return e.dragAndDropService.removeDragSource(i)})},t.prototype.createDragItem=function(){var e=this,r=this.columnGroup.getLeafColumns(),i={},o={};return r.forEach(function(a){var s=a.getId();i[s]=a.isVisible(),o[s]=e.modelItemUtils.createPivotState(a)}),{columns:r,visibleState:i,pivotState:o}},t.prototype.setupExpandContract=function(){this.eGroupClosedIcon.appendChild(A.createIcon("columnSelectClosed",this.gridOptionsService,null)),this.eGroupOpenedIcon.appendChild(A.createIcon("columnSelectOpen",this.gridOptionsService,null)),this.addManagedListener(this.eGroupClosedIcon,"click",this.onExpandOrContractClicked.bind(this)),this.addManagedListener(this.eGroupOpenedIcon,"click",this.onExpandOrContractClicked.bind(this));var e=new qr(this.eColumnGroupIcons,!0);this.addManagedListener(e,qr.EVENT_TAP,this.onExpandOrContractClicked.bind(this)),this.addDestroyFunc(e.destroy.bind(e))},t.prototype.onLabelClicked=function(){var e=!this.cbSelect.getValue();this.onChangeCommon(e)},t.prototype.onCheckboxChanged=function(e){this.onChangeCommon(e.selected)},t.prototype.getVisibleLeafColumns=function(){var e=[],r=function(i){i.forEach(function(o){o.isPassesFilter()&&(o.isGroup()?r(o.getChildren()):e.push(o.getColumn()))})};return r(this.modelItem.getChildren()),e},t.prototype.onChangeCommon=function(e){this.refreshAriaLabel(),!this.processingColumnStateChange&&this.modelItemUtils.selectAllChildren(this.modelItem.getChildren(),e,this.eventType)},t.prototype.refreshAriaLabel=function(){var e=this.localeService.getLocaleTextFunc(),r=e("ariaColumnGroup","Column Group"),i=this.cbSelect.getValue(),o=i===void 0?e("ariaIndeterminate","indeterminate"):i?e("ariaVisible","visible"):e("ariaHidden","hidden"),a=e("ariaToggleVisibility","Press SPACE to toggle visibility");A.setAriaLabel(this.focusWrapper,"".concat(this.displayName," ").concat(r)),this.cbSelect.setInputAriaLabel("".concat(a," (").concat(o,")")),A.setAriaDescribedBy(this.focusWrapper,this.cbSelect.getInputElement().id)},t.prototype.onColumnStateChanged=function(){var e=this.workOutSelectedValue(),r=this.workOutReadOnlyValue();this.processingColumnStateChange=!0,this.cbSelect.setValue(e),this.cbSelect.setReadOnly(r),this.addOrRemoveCssClass("ag-column-select-column-group-readonly",r),this.processingColumnStateChange=!1},t.prototype.workOutSelectedValue=function(){var e=this,r=this.columnModel.isPivotMode(),i=this.getVisibleLeafColumns(),o=0,a=0;if(i.forEach(function(s){!r&&s.getColDef().lockVisible||(e.isColumnChecked(s,r)?o++:a++)}),!(o>0&&a>0))return o>0},t.prototype.workOutReadOnlyValue=function(){var e=this.columnModel.isPivotMode(),r=0;return this.columnGroup.getLeafColumns().forEach(function(i){e?i.isAnyFunctionAllowed()&&r++:i.getColDef().lockVisible||r++}),r===0},t.prototype.isColumnChecked=function(e,r){if(r){var i=e.isPivotActive(),o=e.isRowGroupActive(),a=e.isValueActive();return i||o||a}return e.isVisible()},t.prototype.onExpandOrContractClicked=function(){var e=this.modelItem.isExpanded();this.modelItem.setExpanded(!e)},t.prototype.onExpandChanged=function(){this.setOpenClosedIcons(),this.refreshAriaExpanded()},t.prototype.setOpenClosedIcons=function(){var e=this.modelItem.isExpanded();A.setDisplayed(this.eGroupClosedIcon,!e),A.setDisplayed(this.eGroupOpenedIcon,e)},t.prototype.refreshAriaExpanded=function(){A.setAriaExpanded(this.focusWrapper,this.modelItem.isExpanded())},t.prototype.getDisplayName=function(){return this.displayName},t.prototype.onSelectAllChanged=function(e){var r=this.cbSelect.getValue(),i=this.cbSelect.isReadOnly();!i&&(e&&!r||!e&&r)&&this.cbSelect.toggle()},t.prototype.isSelected=function(){return this.cbSelect.getValue()},t.prototype.isSelectable=function(){return!this.cbSelect.isReadOnly()},t.prototype.setSelected=function(e){this.cbSelect.setValue(e,!0)},t.TEMPLATE=`<div class="ag-column-select-column-group" aria-hidden="true">
            <span class="ag-column-group-icons" ref="eColumnGroupIcons" >
                <span class="ag-column-group-closed-icon" ref="eGroupClosedIcon"></span>
                <span class="ag-column-group-opened-icon" ref="eGroupOpenedIcon"></span>
            </span>
            <ag-checkbox ref="cbSelect" class="ag-column-select-checkbox"></ag-checkbox>
            <span class="ag-column-select-column-label" ref="eLabel"></span>
        </div>`,wu([E("columnModel")],t.prototype,"columnModel",void 0),wu([E("dragAndDropService")],t.prototype,"dragAndDropService",void 0),wu([E("modelItemUtils")],t.prototype,"modelItemUtils",void 0),wu([j("cbSelect")],t.prototype,"cbSelect",void 0),wu([j("eLabel")],t.prototype,"eLabel",void 0),wu([j("eGroupOpenedIcon")],t.prototype,"eGroupOpenedIcon",void 0),wu([j("eGroupClosedIcon")],t.prototype,"eGroupClosedIcon",void 0),wu([j("eColumnGroupIcons")],t.prototype,"eColumnGroupIcons",void 0),wu([z],t.prototype,"init",null),t}(ae),fNe=function(){var n=function(t,e){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])},n(t,e)};return function(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");n(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}}(),VD=function(n,t,e,r){var i=arguments.length,o=i<3?t:r===null?r=Object.getOwnPropertyDescriptor(t,e):r,a;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(n,t,e,r);else for(var s=n.length-1;s>=0;s--)(a=n[s])&&(o=(i<3?a(o):i>3?a(t,e,o):a(t,e))||o);return i>3&&o&&Object.defineProperty(t,e,o),o},vNe=function(n){fNe(t,n);function t(e,r){var i=n.call(this)||this;return i.comp=e,i.virtualList=r,i}return t.prototype.postConstruct=function(){var e=this;this.createManagedBean(new hG(this.comp,this.virtualList,{dragSourceType:Or.ToolPanel,listItemDragStartEvent:T.EVENT_COLUMN_PANEL_ITEM_DRAG_START,listItemDragEndEvent:T.EVENT_COLUMN_PANEL_ITEM_DRAG_END,eventSource:this.eventService,getCurrentDragValue:function(r){return e.getCurrentDragValue(r)},isMoveBlocked:function(r){return e.isMoveBlocked(r)},getNumRows:function(r){return r.getDisplayedColsList().length},moveItem:function(r,i){return e.moveItem(r,i)}}))},t.prototype.getCurrentDragValue=function(e){return e.column},t.prototype.isMoveBlocked=function(e){var r=this.gridOptionsService.get("suppressMovableColumns");if(r)return!0;var i=this.getCurrentColumns(e),o=i.find(function(a){var s=a.getColDef();return!!s.suppressMovable||!!s.lockPosition});return!!o},t.prototype.moveItem=function(e,r){var i=this.getTargetIndex(e,r),o=this.getCurrentColumns(e);i!=null&&this.columnModel.moveColumns(o,i,"toolPanelUi")},t.prototype.getMoveDiff=function(e,r){var i=this.columnModel.getAllGridColumns(),o=this.getCurrentColumns(e),a=o[0],s=o.length,l=i.indexOf(a);return l<r?s:0},t.prototype.getCurrentColumns=function(e){return e instanceof Rt?e.getLeafColumns():[e]},t.prototype.getTargetIndex=function(e,r){if(!r)return null;var i=r.component,o=r.position==="top",a;if(i instanceof EZ){var s=i.getColumns();a=s[0],o=!0}else a=i.getColumn();var l=this.getCurrentColumns(e);if(l.indexOf(a)!==-1)return null;var u=this.columnModel.getAllGridColumns().indexOf(a),c=o?u:u+1,d=this.getMoveDiff(e,c);return c-d},VD([E("columnModel")],t.prototype,"columnModel",void 0),VD([E("gridOptionsService")],t.prototype,"gridOptionsService",void 0),VD([z],t.prototype,"postConstruct",null),t}(X),gNe=function(){var n=function(t,e){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])},n(t,e)};return function(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");n(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}}(),Xf=function(n,t,e,r){var i=arguments.length,o=i<3?t:r===null?r=Object.getOwnPropertyDescriptor(t,e):r,a;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(n,t,e,r);else for(var s=n.length-1;s>=0;s--)(a=n[s])&&(o=(i<3?a(o):i>3?a(t,e,o):a(t,e))||o);return i>3&&o&&Object.defineProperty(t,e,o),o},yNe=function(n){gNe(t,n);function t(e,r,i,o){var a=n.call(this)||this;return a.allowDragging=r,a.groupsExist=i,a.focusWrapper=o,a.processingColumnStateChange=!1,a.column=e.getColumn(),a.columnDept=e.getDept(),a.displayName=e.getDisplayName(),a}return t.prototype.init=function(){var e=this;this.setTemplate(t.TEMPLATE),this.eDragHandle=A.createIconNoSpan("columnDrag",this.gridOptionsService),this.eDragHandle.classList.add("ag-drag-handle","ag-column-select-column-drag-handle");var r=this.cbSelect.getGui(),i=this.cbSelect.getInputElement();r.insertAdjacentElement("afterend",this.eDragHandle),i.setAttribute("tabindex","-1");var o=A.escapeString(this.displayName);this.eLabel.innerHTML=o;var a=this.columnDept;this.groupsExist&&this.addCssClass("ag-column-select-add-group-indent"),this.addCssClass("ag-column-select-indent-".concat(a)),this.setupDragging(),this.addManagedListener(this.eventService,T.EVENT_COLUMN_PIVOT_MODE_CHANGED,this.onColumnStateChanged.bind(this)),this.addManagedListener(this.column,rt.EVENT_VALUE_CHANGED,this.onColumnStateChanged.bind(this)),this.addManagedListener(this.column,rt.EVENT_PIVOT_CHANGED,this.onColumnStateChanged.bind(this)),this.addManagedListener(this.column,rt.EVENT_ROW_GROUP_CHANGED,this.onColumnStateChanged.bind(this)),this.addManagedListener(this.column,rt.EVENT_VISIBLE_CHANGED,this.onColumnStateChanged.bind(this)),this.addManagedListener(this.focusWrapper,"keydown",this.handleKeyDown.bind(this)),this.addManagedListener(this.focusWrapper,"contextmenu",this.onContextMenu.bind(this)),this.addManagedPropertyListener("functionsReadOnly",this.onColumnStateChanged.bind(this)),this.addManagedListener(this.cbSelect,T.EVENT_FIELD_VALUE_CHANGED,this.onCheckboxChanged.bind(this)),this.addManagedListener(this.eLabel,"click",this.onLabelClicked.bind(this)),this.onColumnStateChanged(),this.refreshAriaLabel(),this.setupTooltip();var s=cp.getToolPanelClassesFromColDef(this.column.getColDef(),this.gridOptionsService,this.column,null);s.forEach(function(l){return e.addOrRemoveCssClass(l,!0)})},t.prototype.getColumn=function(){return this.column},t.prototype.setupTooltip=function(){var e=this,r=function(){var i=e.column.getColDef().headerTooltip;e.setTooltip(i)};r(),this.addManagedListener(this.eventService,T.EVENT_NEW_COLUMNS_LOADED,r)},t.prototype.getTooltipParams=function(){var e=n.prototype.getTooltipParams.call(this);return e.location="columnToolPanelColumn",e.colDef=this.column.getColDef(),e},t.prototype.onContextMenu=function(e){var r=this,i=this,o=i.column,a=i.gridOptionsService;if(!a.get("functionsReadOnly")){var s=this.createBean(new xZ(o,e,this.focusWrapper));this.addDestroyFunc(function(){s.isAlive()&&r.destroyBean(s)})}},t.prototype.handleKeyDown=function(e){e.key===U.SPACE&&(e.preventDefault(),this.isSelectable()&&this.onSelectAllChanged(!this.isSelected()))},t.prototype.onLabelClicked=function(){if(!this.gridOptionsService.get("functionsReadOnly")){var e=!this.cbSelect.getValue();this.onChangeCommon(e)}},t.prototype.onCheckboxChanged=function(e){this.onChangeCommon(e.selected)},t.prototype.onChangeCommon=function(e){this.cbSelect.isReadOnly()||(this.refreshAriaLabel(),!this.processingColumnStateChange&&this.modelItemUtils.setColumn(this.column,e,"toolPanelUi"))},t.prototype.refreshAriaLabel=function(){var e=this.localeService.getLocaleTextFunc(),r=e("ariaColumn","Column"),i=this.cbSelect.getValue()?e("ariaVisible","visible"):e("ariaHidden","hidden"),o=e("ariaToggleVisibility","Press SPACE to toggle visibility");A.setAriaLabel(this.focusWrapper,"".concat(this.displayName," ").concat(r)),this.cbSelect.setInputAriaLabel("".concat(o," (").concat(i,")")),A.setAriaDescribedBy(this.focusWrapper,this.cbSelect.getInputElement().id)},t.prototype.setupDragging=function(){var e=this;if(!this.allowDragging){A.setDisplayed(this.eDragHandle,!1);return}var r=!this.gridOptionsService.get("suppressDragLeaveHidesColumns"),i={type:Or.ToolPanel,eElement:this.eDragHandle,dragItemName:this.displayName,getDefaultIconName:function(){return r?St.ICON_HIDE:St.ICON_NOT_ALLOWED},getDragItem:function(){return e.createDragItem()},onDragStarted:function(){r=!e.gridOptionsService.get("suppressDragLeaveHidesColumns");var o={type:T.EVENT_COLUMN_PANEL_ITEM_DRAG_START,column:e.column};e.eventService.dispatchEvent(o)},onDragStopped:function(){var o={type:T.EVENT_COLUMN_PANEL_ITEM_DRAG_END};e.eventService.dispatchEvent(o)},onGridEnter:function(o){r&&e.modelItemUtils.updateColumns({columns:[e.column],visibleState:o==null?void 0:o.visibleState,pivotState:o==null?void 0:o.pivotState,eventType:"toolPanelUi"})},onGridExit:function(){r&&e.onChangeCommon(!1)}};this.dragAndDropService.addDragSource(i,!0),this.addDestroyFunc(function(){return e.dragAndDropService.removeDragSource(i)})},t.prototype.createDragItem=function(){var e,r,i=this.column.getColId(),o=(e={},e[i]=this.column.isVisible(),e),a=(r={},r[i]=this.modelItemUtils.createPivotState(this.column),r);return{columns:[this.column],visibleState:o,pivotState:a}},t.prototype.onColumnStateChanged=function(){this.processingColumnStateChange=!0;var e=this.columnModel.isPivotMode();if(e){var r=this.column.isAnyFunctionActive();this.cbSelect.setValue(r)}else this.cbSelect.setValue(this.column.isVisible());var i=!0,o=!0;if(e){var a=this.gridOptionsService.get("functionsReadOnly"),s=!this.column.isAnyFunctionAllowed();i=!a&&!s,o=i}else{var l=this.column.getColDef(),u=l.enableRowGroup,c=l.enableValue,d=l.lockPosition,p=l.suppressMovable,h=l.lockVisible,f=!!u||!!c,v=!!d||!!p;i=!h,o=f||!v}this.cbSelect.setReadOnly(!i),this.eDragHandle.classList.toggle("ag-column-select-column-readonly",!o),this.addOrRemoveCssClass("ag-column-select-column-readonly",!o&&!i);var g=e&&this.gridOptionsService.get("functionsPassive");this.cbSelect.setPassive(g),this.processingColumnStateChange=!1},t.prototype.getDisplayName=function(){return this.displayName},t.prototype.onSelectAllChanged=function(e){e!==this.cbSelect.getValue()&&(this.cbSelect.isReadOnly()||this.cbSelect.toggle())},t.prototype.isSelected=function(){return this.cbSelect.getValue()},t.prototype.isSelectable=function(){return!this.cbSelect.isReadOnly()},t.prototype.isExpandable=function(){return!1},t.prototype.setExpanded=function(e){console.warn("AG Grid: can not expand a column item that does not represent a column group header")},t.TEMPLATE=`<div class="ag-column-select-column" aria-hidden="true">
            <ag-checkbox ref="cbSelect" class="ag-column-select-checkbox"></ag-checkbox>
            <span class="ag-column-select-column-label" ref="eLabel"></span>
        </div>`,Xf([E("columnModel")],t.prototype,"columnModel",void 0),Xf([E("dragAndDropService")],t.prototype,"dragAndDropService",void 0),Xf([E("modelItemUtils")],t.prototype,"modelItemUtils",void 0),Xf([j("eLabel")],t.prototype,"eLabel",void 0),Xf([j("cbSelect")],t.prototype,"cbSelect",void 0),Xf([z],t.prototype,"init",null),t}(ae),mNe=function(){var n=function(t,e){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])},n(t,e)};return function(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");n(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}}(),z_=function(n,t,e,r){var i=arguments.length,o=i<3?t:r===null?r=Object.getOwnPropertyDescriptor(t,e):r,a;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(n,t,e,r);else for(var s=n.length-1;s>=0;s--)(a=n[s])&&(o=(i<3?a(o):i>3?a(t,e,o):a(t,e))||o);return i>3&&o&&Object.defineProperty(t,e,o),o},CNe=function(){function n(t){this.items=t}return n.prototype.getRowCount=function(){return this.items.length},n.prototype.getRow=function(t){return this.items[t]},n}(),SNe="ag-column-select-list",wNe=function(n){mNe(t,n);function t(){var e=n.call(this,t.TEMPLATE)||this;return e.destroyColumnItemFuncs=[],e.hasLoadedInitialState=!1,e.isInitialState=!1,e}return t.prototype.destroyColumnTree=function(){this.allColsTree=[],this.destroyColumnItemFuncs.forEach(function(e){return e()}),this.destroyColumnItemFuncs=[]},t.prototype.init=function(e,r,i){var o=this;this.params=e,this.allowDragging=r,this.eventType=i,this.params.suppressSyncLayoutWithGrid||this.addManagedListener(this.eventService,T.EVENT_COLUMN_MOVED,this.onColumnsChanged.bind(this)),this.addManagedListener(this.eventService,T.EVENT_NEW_COLUMNS_LOADED,this.onColumnsChanged.bind(this));var a=[T.EVENT_COLUMN_PIVOT_CHANGED,T.EVENT_COLUMN_PIVOT_MODE_CHANGED,T.EVENT_COLUMN_ROW_GROUP_CHANGED,T.EVENT_COLUMN_VALUE_CHANGED,T.EVENT_COLUMN_VISIBLE,T.EVENT_NEW_COLUMNS_LOADED];a.forEach(function(l){o.addManagedListener(o.eventService,l,o.fireSelectionChangedEvent.bind(o))}),this.expandGroupsByDefault=!this.params.contractColumnSelection,this.virtualList=this.createManagedBean(new yf({cssIdentifier:"column-select",ariaRole:"tree"})),this.appendChild(this.virtualList.getGui());var s=this.virtualList.getAriaElement();A.setAriaLive(s,"assertive"),A.setAriaAtomic(s,!1),A.setAriaRelevant(s,"text"),this.virtualList.setComponentCreator(function(l,u){return A.setAriaLevel(u,l.getDept()+1),o.createComponentFromItem(l,u)}),this.columnModel.isReady()&&this.onColumnsChanged(),!this.params.suppressColumnMove&&(this.colsListPanelItemDragFeature=this.createManagedBean(new vNe(this,this.virtualList)))},t.prototype.createComponentFromItem=function(e,r){if(e.isGroup()){var i=new EZ(e,this.allowDragging,this.eventType,r);return this.getContext().createBean(i),i}var o=new yNe(e,this.allowDragging,this.groupsExist,r);return this.getContext().createBean(o),o},t.prototype.onColumnsChanged=function(){this.hasLoadedInitialState||(this.hasLoadedInitialState=!0,this.isInitialState=!!this.params.initialState);var e=this.getExpandedStates(),r=this.columnModel.isPivotMode(),i=!this.params.suppressSyncLayoutWithGrid&&!r;i?this.buildTreeFromWhatGridIsDisplaying():this.buildTreeFromProvidedColumnDefs(),this.setExpandedStates(e),this.markFilteredColumns(),this.flattenAndFilterModel(),this.isInitialState=!1},t.prototype.getDisplayedColsList=function(){return this.displayedColsList},t.prototype.getExpandedStates=function(){var e={};if(this.isInitialState){var r=this.params.initialState.expandedGroupIds;return r.forEach(function(i){e[i]=!0}),e}return this.allColsTree?(this.forEachItem(function(i){if(i.isGroup()){var o=i.getColumnGroup();o&&(e[o.getId()]=i.isExpanded())}}),e):{}},t.prototype.setExpandedStates=function(e){if(this.allColsTree){var r=this.isInitialState;this.forEachItem(function(i){if(i.isGroup()){var o=i.getColumnGroup();if(o){var a=e[o.getId()],s=a!=null;(s||r)&&i.setExpanded(!!a)}}})}},t.prototype.buildTreeFromWhatGridIsDisplaying=function(){this.colDefService.syncLayoutWithGrid(this.setColumnLayout.bind(this))},t.prototype.setColumnLayout=function(e){var r=this.colDefService.createColumnTree(e);this.buildListModel(r),this.groupsExist=e.some(function(i){return i&&typeof i.children<"u"}),this.markFilteredColumns(),this.flattenAndFilterModel()},t.prototype.buildTreeFromProvidedColumnDefs=function(){this.buildListModel(this.columnModel.getPrimaryColumnTree()),this.groupsExist=this.columnModel.isPrimaryColumnGroupsPresent()},t.prototype.buildListModel=function(e){var r=this,i=this.onColumnExpanded.bind(this),o=function(u){u.addEventListener(Km.EVENT_EXPANDED_CHANGED,i);var c=u.removeEventListener.bind(u,Km.EVENT_EXPANDED_CHANGED,i);r.destroyColumnItemFuncs.push(c)},a=function(u,c,d){u.forEach(function(p){p instanceof Rt?s(p,c,d):l(p,c,d)})},s=function(u,c,d){var p=u.getColGroupDef(),h=p&&p.suppressColumnsToolPanel;if(!h){if(u.isPadding()){a(u.getChildren(),c,d);return}var f=r.columnModel.getDisplayNameForProvidedColumnGroup(null,u,"columnToolPanel"),v=new Km(f,u,c,!0,r.expandGroupsByDefault);d.push(v),o(v),a(u.getChildren(),c+1,v.getChildren())}},l=function(u,c,d){var p=u.getColDef()&&u.getColDef().suppressColumnsToolPanel;if(!p){var h=r.columnModel.getDisplayNameForColumn(u,"columnToolPanel");d.push(new Km(h,u,c))}};this.destroyColumnTree(),a(e,0,this.allColsTree)},t.prototype.onColumnExpanded=function(){this.flattenAndFilterModel()},t.prototype.flattenAndFilterModel=function(){var e=this;this.displayedColsList=[];var r=function(o){o.isPassesFilter()&&(e.displayedColsList.push(o),o.isGroup()&&o.isExpanded()&&o.getChildren().forEach(r))};this.allColsTree.forEach(r),this.virtualList.setModel(new CNe(this.displayedColsList));var i=this.virtualList.getLastFocusedRow();this.virtualList.refresh(),i!=null&&this.focusRowIfAlive(i),this.notifyListeners(),this.refreshAriaLabel()},t.prototype.refreshAriaLabel=function(){var e=this.localeService.getLocaleTextFunc(),r=e("ariaColumnPanelList","Column List"),i=e("columns","Columns"),o=this.displayedColsList.length;A.setAriaLabel(this.virtualList.getAriaElement(),"".concat(r," ").concat(o," ").concat(i))},t.prototype.focusRowIfAlive=function(e){var r=this;window.setTimeout(function(){r.isAlive()&&r.virtualList.focusRow(e)},0)},t.prototype.forEachItem=function(e){var r=function(i){i.forEach(function(o){e(o),o.isGroup()&&r(o.getChildren())})};this.allColsTree&&r(this.allColsTree)},t.prototype.doSetExpandedAll=function(e){this.forEachItem(function(r){r.isGroup()&&r.setExpanded(e)})},t.prototype.setGroupsExpanded=function(e,r){if(!r){this.doSetExpandedAll(e);return}var i=[];this.forEachItem(function(a){if(a.isGroup()){var s=a.getColumnGroup().getId();r.indexOf(s)>=0&&(a.setExpanded(e),i.push(s))}});var o=r.filter(function(a){return!A.includes(i,a)});o.length>0&&console.warn("AG Grid: unable to find group(s) for supplied groupIds:",o)},t.prototype.getExpandState=function(){var e=0,r=0;return this.forEachItem(function(i){i.isGroup()&&(i.isExpanded()?e++:r++)}),e>0&&r>0?Dl.INDETERMINATE:r>0?Dl.COLLAPSED:Dl.EXPANDED},t.prototype.doSetSelectedAll=function(e){this.modelItemUtils.selectAllChildren(this.allColsTree,e,this.eventType)},t.prototype.getSelectionState=function(){var e=0,r=0,i=this.columnModel.isPivotMode();if(this.forEachItem(function(o){if(!o.isGroup()&&o.isPassesFilter()){var a=o.getColumn(),s=a.getColDef(),l;if(i){var u=!a.isAllowPivot()&&!a.isAllowRowGroup()&&!a.isAllowValue();if(u)return;l=a.isValueActive()||a.isPivotActive()||a.isRowGroupActive()}else{if(s.lockVisible)return;l=a.isVisible()}l?e++:r++}}),!(e>0&&r>0))return!(e===0||r>0)},t.prototype.setFilterText=function(e){this.filterText=A.exists(e)?e.toLowerCase():null,this.markFilteredColumns(),this.flattenAndFilterModel()},t.prototype.markFilteredColumns=function(){var e=this,r=function(o){if(!A.exists(e.filterText))return!0;var a=o.getDisplayName();return a==null||a.toLowerCase().indexOf(e.filterText)!==-1},i=function(o,a){var s=!1;if(o.isGroup()){var l=r(o);o.getChildren().forEach(function(c){var d=i(c,l||a);d&&(s=d)})}var u=a||s?!0:r(o);return o.setPassesFilter(u),u};this.allColsTree.forEach(function(o){return i(o,!1)})},t.prototype.notifyListeners=function(){this.fireGroupExpandedEvent(),this.fireSelectionChangedEvent()},t.prototype.fireGroupExpandedEvent=function(){var e=this.getExpandState();this.dispatchEvent({type:"groupExpanded",state:e})},t.prototype.fireSelectionChangedEvent=function(){if(this.allColsTree){var e=this.getSelectionState();this.dispatchEvent({type:"selectionChanged",state:e})}},t.prototype.getExpandedGroups=function(){var e=[];return this.allColsTree&&this.forEachItem(function(r){r.isGroup()&&r.isExpanded()&&e.push(r.getColumnGroup().getId())}),e},t.TEMPLATE='<div class="'.concat(SNe,'" role="presentation"></div>'),z_([E("columnModel")],t.prototype,"columnModel",void 0),z_([E("toolPanelColDefService")],t.prototype,"colDefService",void 0),z_([E("modelItemUtils")],t.prototype,"modelItemUtils",void 0),z_([ar],t.prototype,"destroyColumnTree",null),t}(ae),_Ne=function(){var n=function(t,e){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])},n(t,e)};return function(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");n(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}}(),K_=function(n,t,e,r){var i=arguments.length,o=i<3?t:r===null?r=Object.getOwnPropertyDescriptor(t,e):r,a;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(n,t,e,r);else for(var s=n.length-1;s>=0;s--)(a=n[s])&&(o=(i<3?a(o):i>3?a(t,e,o):a(t,e))||o);return i>3&&o&&Object.defineProperty(t,e,o),o},CU=function(n){_Ne(t,n);function t(){return n!==null&&n.apply(this,arguments)||this}return t.prototype.createTemplate=function(){return`<div class="ag-pivot-mode-panel">
                <ag-toggle-button ref="cbPivotMode" class="ag-pivot-mode-select"></ag-toggle-button>
            </div>`},t.prototype.init=function(){this.setTemplate(this.createTemplate()),this.cbPivotMode.setValue(this.columnModel.isPivotMode());var e=this.localeService.getLocaleTextFunc();this.cbPivotMode.setLabel(e("pivotMode","Pivot Mode")),this.addManagedListener(this.cbPivotMode,T.EVENT_FIELD_VALUE_CHANGED,this.onBtPivotMode.bind(this)),this.addManagedListener(this.eventService,T.EVENT_NEW_COLUMNS_LOADED,this.onPivotModeChanged.bind(this)),this.addManagedListener(this.eventService,T.EVENT_COLUMN_PIVOT_MODE_CHANGED,this.onPivotModeChanged.bind(this))},t.prototype.onBtPivotMode=function(){var e=!!this.cbPivotMode.getValue();if(e!==this.columnModel.isPivotMode()){this.gridOptionsService.updateGridOptions({options:{pivotMode:e},source:"toolPanelUi"});var r=this.api;r&&r.refreshHeader()}},t.prototype.onPivotModeChanged=function(){var e=this.columnModel.isPivotMode();this.cbPivotMode.setValue(e)},K_([E("columnModel")],t.prototype,"columnModel",void 0),K_([E("gridApi")],t.prototype,"api",void 0),K_([j("cbPivotMode")],t.prototype,"cbPivotMode",void 0),K_([Zh],t.prototype,"init",null),t}(ae),xNe=function(){var n=function(t,e){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])},n(t,e)};return function(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");n(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}}(),Y_=function(n,t,e,r){var i=arguments.length,o=i<3?t:r===null?r=Object.getOwnPropertyDescriptor(t,e):r,a;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(n,t,e,r);else for(var s=n.length-1;s>=0;s--)(a=n[s])&&(o=(i<3?a(o):i>3?a(t,e,o):a(t,e))||o);return i>3&&o&&Object.defineProperty(t,e,o),o},ENe=function(n){xNe(t,n);function t(){return n!==null&&n.apply(this,arguments)||this}return t.prototype.execute=function(e){var r=A.missingOrEmpty(this.columnModel.getValueColumns()),i=!this.gridOptionsService.getCallback("getGroupRowAgg"),o=e.changedPath&&e.changedPath.isActive();if(!(r&&i&&o)){var a=this.createAggDetails(e);this.recursivelyCreateAggData(a)}},t.prototype.createAggDetails=function(e){var r=this.columnModel.isPivotActive(),i=this.columnModel.getValueColumns(),o=r?this.columnModel.getPivotColumns():[],a={alwaysAggregateAtRootLevel:this.gridOptionsService.get("alwaysAggregateAtRootLevel"),groupIncludeTotalFooter:this.gridOptionsService.get("groupIncludeTotalFooter"),changedPath:e.changedPath,valueColumns:i,pivotColumns:o,filteredOnly:!this.isSuppressAggFilteredOnly(),userAggFunc:this.gridOptionsService.getCallback("getGroupRowAgg")};return a},t.prototype.isSuppressAggFilteredOnly=function(){var e=this.gridOptionsService.getGroupAggFiltering()!==void 0;return e||this.gridOptionsService.get("suppressAggFilteredOnly")},t.prototype.recursivelyCreateAggData=function(e){var r=this,i=function(o){var a=!o.hasChildren();if(a){o.aggData&&o.setAggData(null);return}var s=o.level===-1;if(s&&!e.groupIncludeTotalFooter){var l=!r.columnModel.isPivotMode();if(!e.alwaysAggregateAtRootLevel&&l){o.setAggData(null);return}}r.aggregateRowNode(o,e)};e.changedPath.forEachChangedNodeDepthFirst(i,!0)},t.prototype.aggregateRowNode=function(e,r){var i=r.valueColumns.length===0,o=r.pivotColumns.length===0,a;r.userAggFunc?a=r.userAggFunc({nodes:e.childrenAfterFilter}):i?a=null:o?a=this.aggregateRowNodeUsingValuesOnly(e,r):a=this.aggregateRowNodeUsingValuesAndPivot(e),e.setAggData(a),e.sibling&&e.sibling.setAggData(a)},t.prototype.aggregateRowNodeUsingValuesAndPivot=function(e){for(var r,i,o={},a=(r=this.columnModel.getSecondaryColumns())!==null&&r!==void 0?r:[],s=!0,l=0;l<a.length;l++){var u=a[l],c=u.getColDef();if(c.pivotTotalColumnIds!=null){s=!1;continue}var d=(i=c.pivotKeys)!==null&&i!==void 0?i:[],p=void 0;e.leafGroup?p=this.getValuesFromMappedSet(e.childrenMapped,d,c.pivotValueColumn):p=this.getValuesPivotNonLeaf(e,c.colId),o[c.colId]=this.aggregateValues(p,c.pivotValueColumn.getAggFunc(),c.pivotValueColumn,e,u)}if(!s)for(var l=0;l<a.length;l++){var u=a[l],c=u.getColDef();if(!(c.pivotTotalColumnIds==null||!c.pivotTotalColumnIds.length)){var h=c.pivotTotalColumnIds.map(function(y){return o[y]});o[c.colId]=this.aggregateValues(h,c.pivotValueColumn.getAggFunc(),c.pivotValueColumn,e,u)}}return o},t.prototype.aggregateRowNodeUsingValuesOnly=function(e,r){var i=this,o={},a=r.changedPath.isActive()?r.changedPath.getValueColumnsForNode(e,r.valueColumns):r.valueColumns,s=r.changedPath.isActive()?r.changedPath.getNotValueColumnsForNode(e,r.valueColumns):null,l=this.getValuesNormal(e,a,r.filteredOnly),u=e.aggData;return a.forEach(function(c,d){o[c.getId()]=i.aggregateValues(l[d],c.getAggFunc(),c,e)}),s&&u&&s.forEach(function(c){o[c.getId()]=u[c.getId()]}),o},t.prototype.getValuesPivotNonLeaf=function(e,r){return e.childrenAfterFilter.map(function(i){return i.aggData[r]})},t.prototype.getValuesFromMappedSet=function(e,r,i){for(var o=this,a=e,s=0;s<r.length;s++){var l=r[s];a=a?a[l]:null}return a?a.map(function(u){return o.valueService.getValue(i,u)}):[]},t.prototype.getValuesNormal=function(e,r,i){var o=[];r.forEach(function(){return o.push([])});for(var a=r.length,s=i?e.childrenAfterFilter:e.childrenAfterGroup,l=s.length,u=0;u<l;u++)for(var c=s[u],d=0;d<a;d++){var p=r[d],h=this.valueService.getValue(p,c);o[d].push(h)}return o},t.prototype.aggregateValues=function(e,r,i,o,a){var s=typeof r=="string"?this.aggFuncService.getAggFunc(r):r;if(typeof s!="function")return console.error("AG Grid: unrecognised aggregation function ".concat(r)),null;var l=s,u=this.gridOptionsService.addGridCommonParams({values:e,column:i,colDef:i?i.getColDef():void 0,pivotResultColumn:a,rowNode:o,data:o?o.data:void 0});return l(u)},Y_([E("columnModel")],t.prototype,"columnModel",void 0),Y_([E("valueService")],t.prototype,"valueService",void 0),Y_([E("aggFuncService")],t.prototype,"aggFuncService",void 0),t=Y_([ie("aggregationStage")],t),t}(X),BD=function(){function n(){this.allSets={},this.allParents=[]}return n.prototype.removeFromChildrenAfterGroup=function(t,e){var r=this.getSet(t);r.removeFromChildrenAfterGroup[e.id]=!0},n.prototype.isRemoveFromAllLeafChildren=function(t,e){var r=this.getSet(t);return!!r.removeFromAllLeafChildren[e.id]},n.prototype.preventRemoveFromAllLeafChildren=function(t,e){var r=this.getSet(t);delete r.removeFromAllLeafChildren[e.id]},n.prototype.removeFromAllLeafChildren=function(t,e){var r=this.getSet(t);r.removeFromAllLeafChildren[e.id]=!0},n.prototype.getSet=function(t){return this.allSets[t.id]||(this.allSets[t.id]={removeFromAllLeafChildren:{},removeFromChildrenAfterGroup:{}},this.allParents.push(t)),this.allSets[t.id]},n.prototype.getAllParents=function(){return this.allParents},n.prototype.flush=function(){var t=this;this.allParents.forEach(function(e){var r=t.allSets[e.id];e.childrenAfterGroup=e.childrenAfterGroup.filter(function(i){return!r.removeFromChildrenAfterGroup[i.id]}),e.allLeafChildren=e.allLeafChildren.filter(function(i){return!r.removeFromAllLeafChildren[i.id]}),e.updateHasChildren(),e.sibling&&(e.sibling.childrenAfterGroup=e.childrenAfterGroup,e.sibling.allLeafChildren=e.allLeafChildren)}),this.allSets={},this.allParents.length=0},n}(),bNe=function(){var n=function(t,e){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])},n(t,e)};return function(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");n(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}}(),qf=function(n,t,e,r){var i=arguments.length,o=i<3?t:r===null?r=Object.getOwnPropertyDescriptor(t,e):r,a;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(n,t,e,r);else for(var s=n.length-1;s>=0;s--)(a=n[s])&&(o=(i<3?a(o):i>3?a(t,e,o):a(t,e))||o);return i>3&&o&&Object.defineProperty(t,e,o),o},SU=function(n,t){var e=typeof Symbol=="function"&&n[Symbol.iterator];if(!e)return n;var r=e.call(n),i,o=[],a;try{for(;(t===void 0||t-- >0)&&!(i=r.next()).done;)o.push(i.value)}catch(s){a={error:s}}finally{try{i&&!i.done&&(e=r.return)&&e.call(r)}finally{if(a)throw a.error}}return o},wU=function(n,t,e){if(e||arguments.length===2)for(var r=0,i=t.length,o;r<i;r++)(o||!(r in t))&&(o||(o=Array.prototype.slice.call(t,0,r)),o[r]=t[r]);return n.concat(o||Array.prototype.slice.call(t))},ONe=function(n){bNe(t,n);function t(){return n!==null&&n.apply(this,arguments)||this}return t.prototype.execute=function(e){var r=this.createGroupingDetails(e);if(r.transactions)this.handleTransaction(r);else{var i=e.afterColumnsChanged===!0;this.shotgunResetEverything(r,i)}r.usingTreeData||(this.positionLeafsAndGroups(e.changedPath),this.orderGroups(r)),this.selectableService.updateSelectableAfterGrouping()},t.prototype.positionLeafsAndGroups=function(e){e.forEachChangedNodeDepthFirst(function(r){if(r.childrenAfterGroup){var i=[],o=[],a;r.childrenAfterGroup.forEach(function(s){var l;!((l=s.childrenAfterGroup)===null||l===void 0)&&l.length?s.key===""&&!a?a=s:o.push(s):i.push(s)}),a&&o.push(a),r.childrenAfterGroup=wU(wU([],SU(i),!1),SU(o),!1)}},!1)},t.prototype.createGroupingDetails=function(e){var r,i=e.rowNode,o=e.changedPath,a=e.rowNodeTransactions,s=e.rowNodeOrder,l=this.gridOptionsService.get("treeData"),u=l?null:this.columnModel.getRowGroupColumns(),c={includeParents:!this.gridOptionsService.get("suppressParentsInRowNodes"),expandByDefault:this.gridOptionsService.get("groupDefaultExpanded"),groupedCols:u,rootNode:i,pivotMode:this.columnModel.isPivotMode(),groupedColCount:l||!u?0:u.length,rowNodeOrder:s,transactions:a,changedPath:o,groupAllowUnbalanced:this.gridOptionsService.get("groupAllowUnbalanced"),isGroupOpenByDefault:this.gridOptionsService.getCallback("isGroupOpenByDefault"),initialGroupOrderComparator:this.gridOptionsService.getCallback("initialGroupOrderComparator"),usingTreeData:l,suppressGroupMaintainValueType:this.gridOptionsService.get("suppressGroupMaintainValueType"),getDataPath:l?this.gridOptionsService.get("getDataPath"):void 0,keyCreators:(r=u==null?void 0:u.map(function(d){return d.getColDef().keyCreator}))!==null&&r!==void 0?r:[]};return c},t.prototype.handleTransaction=function(e){var r=this;e.transactions.forEach(function(i){var o=e.usingTreeData?void 0:new BD;if(A.existsAndNotEmpty(i.remove)&&r.removeNodes(i.remove,e,o),A.existsAndNotEmpty(i.update)&&r.moveNodesInWrongPath(i.update,e,o),A.existsAndNotEmpty(i.add)&&r.insertNodes(i.add,e,!1),o){var a=o.getAllParents().slice();o.flush(),r.removeEmptyGroups(a,e)}}),e.rowNodeOrder&&this.sortChildren(e)},t.prototype.sortChildren=function(e){e.changedPath.forEachChangedNodeDepthFirst(function(r){if(r.childrenAfterGroup){var i=A.sortRowNodesByOrder(r.childrenAfterGroup,e.rowNodeOrder);i&&e.changedPath.addParentNode(r)}},!1,!0)},t.prototype.orderGroups=function(e){var r=e.initialGroupOrderComparator;A.exists(r)&&i(e.rootNode);function i(o){var a=A.exists(o.childrenAfterGroup)&&!o.leafGroup;a&&(o.childrenAfterGroup.sort(function(s,l){return r({nodeA:s,nodeB:l})}),o.childrenAfterGroup.forEach(function(s){return i(s)}))}},t.prototype.getExistingPathForNode=function(e,r){for(var i=[],o=r.usingTreeData?e:e.parent;o&&o!==r.rootNode;)i.push({key:o.key,rowGroupColumn:o.rowGroupColumn,field:o.field}),o=o.parent;return i.reverse(),i},t.prototype.moveNodesInWrongPath=function(e,r,i){var o=this;e.forEach(function(a){r.changedPath.isActive()&&r.changedPath.addParentNode(a.parent);var s=function(d){return d.key},l=o.getExistingPathForNode(a,r).map(s),u=o.getGroupInfo(a,r).map(s),c=A.areEqual(l,u);c||o.moveNode(a,r,i)})},t.prototype.moveNode=function(e,r,i){if(this.removeNodesInStages([e],r,i),this.insertOneNode(e,r,!0,i),e.setData(e.data),r.changedPath.isActive()){var o=e.parent;r.changedPath.addParentNode(o)}},t.prototype.removeNodes=function(e,r,i){this.removeNodesInStages(e,r,i),r.changedPath.isActive()&&e.forEach(function(o){return r.changedPath.addParentNode(o.parent)})},t.prototype.removeNodesInStages=function(e,r,i){if(this.removeNodesFromParents(e,r,i),r.usingTreeData){this.postRemoveCreateFillerNodes(e,r);var o=e.map(function(a){return a.parent});this.removeEmptyGroups(o,r)}},t.prototype.forEachParentGroup=function(e,r,i){for(var o=r;o&&o!==e.rootNode;)i(o),o=o.parent},t.prototype.removeNodesFromParents=function(e,r,i){var o=this,a=i==null,s=i||new BD;e.forEach(function(l){o.removeFromParent(l,s),o.forEachParentGroup(r,l.parent,function(u){s.removeFromAllLeafChildren(u,l)})}),a&&s.flush()},t.prototype.postRemoveCreateFillerNodes=function(e,r){var i=this;e.forEach(function(o){var a=o.hasChildren();if(a){var s=i.getExistingPathForNode(o,r),l=i.findParentForNode(o,s,r);l.expanded=o.expanded,l.allLeafChildren=o.allLeafChildren,l.childrenAfterGroup=o.childrenAfterGroup,l.childrenMapped=o.childrenMapped,l.updateHasChildren(),l.childrenAfterGroup.forEach(function(u){return u.parent=l})}})},t.prototype.removeEmptyGroups=function(e,r){for(var i=this,o=!0,a=function(l){var u=i.getChildrenMappedKey(l.key,l.rowGroupColumn),c=l.parent,d=c&&c.childrenMapped?!c.childrenMapped[u]:!0;return d?!1:!!l.isEmptyRowGroupNode()},s=function(){o=!1;var l=new BD;e.forEach(function(u){i.forEachParentGroup(r,u,function(c){a(c)&&(o=!0,i.removeFromParent(c,l),c.setSelectedParams({newValue:!1,source:"rowGroupChanged"}))})}),l.flush()};o;)s()},t.prototype.removeFromParent=function(e,r){e.parent&&(r?r.removeFromChildrenAfterGroup(e.parent,e):(A.removeFromArray(e.parent.childrenAfterGroup,e),e.parent.updateHasChildren()));var i=this.getChildrenMappedKey(e.key,e.rowGroupColumn);e.parent&&e.parent.childrenMapped&&(e.parent.childrenMapped[i]=void 0),e.setRowTop(null),e.setRowIndex(null)},t.prototype.addToParent=function(e,r){var i=this.getChildrenMappedKey(e.key,e.rowGroupColumn);if(r){var o=r.childrenMapped!=null;o&&(r.childrenMapped[i]=e),r.childrenAfterGroup.push(e),r.updateHasChildren()}},t.prototype.areGroupColsEqual=function(e,r){return e==null||r==null||e.pivotMode!==r.pivotMode?!1:A.areEqual(e.groupedCols,r.groupedCols)&&A.areEqual(e.keyCreators,r.keyCreators)},t.prototype.checkAllGroupDataAfterColsChanged=function(e){var r=this,i=function(o){o&&o.forEach(function(a){var s=!e.usingTreeData&&!a.group;if(!s){var l={field:a.field,key:a.key,rowGroupColumn:a.rowGroupColumn,leafNode:a.allLeafChildren[0]};r.setGroupData(a,l,e),i(a.childrenAfterGroup)}})};i(e.rootNode.childrenAfterGroup)},t.prototype.shotgunResetEverything=function(e,r){if(!this.noChangeInGroupingColumns(e,r)){this.selectionService.filterFromSelection(function(s){return s&&!s.group});var i=e.rootNode,o=e.groupedCols;i.leafGroup=e.usingTreeData?!1:o.length===0,i.childrenAfterGroup=[],i.childrenMapped={},i.updateHasChildren();var a=i.sibling;a&&(a.childrenAfterGroup=i.childrenAfterGroup,a.childrenMapped=i.childrenMapped),this.insertNodes(i.allLeafChildren,e,!1)}},t.prototype.noChangeInGroupingColumns=function(e,r){var i=!1,o=this.columnModel.getGroupDisplayColumns(),a=o?o.map(function(s){return s.getId()}).join("-"):"";return r&&(i=e.usingTreeData||this.areGroupColsEqual(e,this.oldGroupingDetails),this.oldGroupDisplayColIds!==a&&this.checkAllGroupDataAfterColsChanged(e)),this.oldGroupingDetails=e,this.oldGroupDisplayColIds=a,i},t.prototype.insertNodes=function(e,r,i){var o=this;e.forEach(function(a){o.insertOneNode(a,r,i),r.changedPath.isActive()&&r.changedPath.addParentNode(a.parent)})},t.prototype.insertOneNode=function(e,r,i,o){var a=this.getGroupInfo(e,r),s=this.findParentForNode(e,a,r,o);s.group||console.warn("AG Grid: duplicate group keys for row data, keys should be unique",[s.data,e.data]),r.usingTreeData?this.swapGroupWithUserNode(s,e,i):(e.parent=s,e.level=a.length,s.childrenAfterGroup.push(e),s.updateHasChildren())},t.prototype.findParentForNode=function(e,r,i,o){var a=this,s=i.rootNode;return r.forEach(function(l,u){s=a.getOrCreateNextNode(s,l,u,i),o!=null&&o.isRemoveFromAllLeafChildren(s,e)?o==null||o.preventRemoveFromAllLeafChildren(s,e):s.allLeafChildren.push(e)}),s},t.prototype.swapGroupWithUserNode=function(e,r,i){r.parent=e.parent,r.key=e.key,r.field=e.field,r.groupData=e.groupData,r.level=e.level,i||(r.expanded=e.expanded),r.leafGroup=e.leafGroup,r.rowGroupIndex=e.rowGroupIndex,r.allLeafChildren=e.allLeafChildren,r.childrenAfterGroup=e.childrenAfterGroup,r.childrenMapped=e.childrenMapped,r.sibling=e.sibling,r.updateHasChildren(),this.removeFromParent(e),r.childrenAfterGroup.forEach(function(o){return o.parent=r}),this.addToParent(r,e.parent)},t.prototype.getOrCreateNextNode=function(e,r,i,o){var a=this.getChildrenMappedKey(r.key,r.rowGroupColumn),s=e.childrenMapped?e.childrenMapped[a]:void 0;return s||(s=this.createGroup(r,e,i,o),this.addToParent(s,e)),s},t.prototype.createGroup=function(e,r,i,o){var a=new Xe(this.beans);return a.group=!0,a.field=e.field,a.rowGroupColumn=e.rowGroupColumn,this.setGroupData(a,e,o),a.key=e.key,a.id=this.createGroupId(a,r,o.usingTreeData,i),a.level=i,a.leafGroup=o.usingTreeData?!1:i===o.groupedColCount-1,a.allLeafChildren=[],a.setAllChildrenCount(0),a.rowGroupIndex=o.usingTreeData?null:i,a.childrenAfterGroup=[],a.childrenMapped={},a.updateHasChildren(),a.parent=o.includeParents?r:null,this.setExpandedInitialValue(o,a),a},t.prototype.createGroupId=function(e,r,i,o){var a;return i?a=function(s,l,u){if(u<0)return null;var c=l?a(l,l.parent,u-1):null;return"".concat(c==null?"":c+"-").concat(u,"-").concat(s.key)}:a=function(s,l){if(!s.rowGroupColumn)return null;var u=l?a(l,l.parent,0):null;return"".concat(u==null?"":u+"-").concat(s.rowGroupColumn.getColId(),"-").concat(s.key)},Xe.ID_PREFIX_ROW_GROUP+a(e,r,o)},t.prototype.setGroupData=function(e,r,i){var o=this;e.groupData={};var a=this.columnModel.getGroupDisplayColumns();a.forEach(function(s){var l=i.usingTreeData;if(l){e.groupData[s.getColId()]=r.key;return}var u=e.rowGroupColumn,c=u!==null&&s.isRowGroupDisplayed(u.getId());c&&(i.suppressGroupMaintainValueType?e.groupData[s.getColId()]=r.key:e.groupData[s.getColId()]=o.valueService.getValue(u,r.leafNode))})},t.prototype.getChildrenMappedKey=function(e,r){return r?r.getId()+"-"+e:e},t.prototype.setExpandedInitialValue=function(e,r){if(e.pivotMode&&r.leafGroup){r.expanded=!1;return}var i=e.isGroupOpenByDefault;if(i){var o={rowNode:r,field:r.field,key:r.key,level:r.level,rowGroupColumn:r.rowGroupColumn};r.expanded=i(o)==!0;return}var a=e.expandByDefault;if(e.expandByDefault===-1){r.expanded=!0;return}r.expanded=r.level<a},t.prototype.getGroupInfo=function(e,r){return r.usingTreeData?this.getGroupInfoFromCallback(e,r):this.getGroupInfoFromGroupColumns(e,r)},t.prototype.getGroupInfoFromCallback=function(e,r){var i=r.getDataPath?r.getDataPath(e.data):null;(i==null||i.length===0)&&A.warnOnce("getDataPath() should not return an empty path for data ".concat(e.data));var o=function(a){return{key:a,field:null,rowGroupColumn:null}};return i?i.map(o):[]},t.prototype.getGroupInfoFromGroupColumns=function(e,r){var i=this,o=[];return r.groupedCols.forEach(function(a){var s=i.valueService.getKeyForNode(a,e),l=s!=null&&s!=="",u=r.pivotMode||!r.groupAllowUnbalanced;if(u&&!l&&(s="",l=!0),l){var c={key:s,field:a.getColDef().field,rowGroupColumn:a,leafNode:e};o.push(c)}}),o},qf([E("columnModel")],t.prototype,"columnModel",void 0),qf([E("selectableService")],t.prototype,"selectableService",void 0),qf([E("valueService")],t.prototype,"valueService",void 0),qf([E("beans")],t.prototype,"beans",void 0),qf([E("selectionService")],t.prototype,"selectionService",void 0),t=qf([ie("groupStage")],t),t}(X),RNe=function(){var n=function(t,e){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])},n(t,e)};return function(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");n(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}}(),pO=function(){return pO=Object.assign||function(n){for(var t,e=1,r=arguments.length;e<r;e++){t=arguments[e];for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(n[i]=t[i])}return n},pO.apply(this,arguments)},X_=function(n,t,e,r){var i=arguments.length,o=i<3?t:r===null?r=Object.getOwnPropertyDescriptor(t,e):r,a;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(n,t,e,r);else for(var s=n.length-1;s>=0;s--)(a=n[s])&&(o=(i<3?a(o):i>3?a(t,e,o):a(t,e))||o);return i>3&&o&&Object.defineProperty(t,e,o),o},q_=function(n,t){var e=typeof Symbol=="function"&&n[Symbol.iterator];if(!e)return n;var r=e.call(n),i,o=[],a;try{for(;(t===void 0||t-- >0)&&!(i=r.next()).done;)o.push(i.value)}catch(s){a={error:s}}finally{try{i&&!i.done&&(e=r.return)&&e.call(r)}finally{if(a)throw a.error}}return o},Zf=function(n,t,e){if(e||arguments.length===2)for(var r=0,i=t.length,o;r<i;r++)(o||!(r in t))&&(o||(o=Array.prototype.slice.call(t,0,r)),o[r]=t[r]);return n.concat(o||Array.prototype.slice.call(t))},TNe=function(n){RNe(t,n);function t(){return n!==null&&n.apply(this,arguments)||this}e=t,t.prototype.init=function(){var r=this,i=function(){var a;return(a=r.gos.get("serverSidePivotResultFieldSeparator"))!==null&&a!==void 0?a:"_"};this.fieldSeparator=i(),this.addManagedPropertyListener("serverSidePivotResultFieldSeparator",function(){r.fieldSeparator=i()});var o=function(){return r.gos.get("pivotDefaultExpanded")};this.pivotDefaultExpanded=o(),this.addManagedPropertyListener("pivotDefaultExpanded",function(){r.pivotDefaultExpanded=o()})},t.prototype.createPivotColumnDefs=function(r){var i=this.createPivotColumnsFromUniqueValues(r);function o(l,u){return u===void 0&&(u=[]),l.forEach(function(c){c.children!==void 0?o(c.children,u):u.push(c)}),u}var a=o(i);this.addRowGroupTotals(i,a),this.addExpandablePivotGroups(i,a),this.addPivotTotalsToGroups(i,a);var s=a.map(function(l){return A.cloneObject(l)});return{pivotColumnGroupDefs:i,pivotColumnDefs:s}},t.prototype.createPivotColumnsFromUniqueValues=function(r){var i=this.columnModel.getPivotColumns(),o=i.length,a=this.recursivelyBuildGroup(0,r,[],o,i);return a},t.prototype.recursivelyBuildGroup=function(r,i,o,a,s){var l=this,u=this.columnModel.getValueColumns();if(r>=a)return this.buildMeasureCols(o);var c=s[r].getColDef(),d=this.headerNameComparator.bind(this,c.pivotComparator);if(u.length===1&&this.gridOptionsService.get("removePivotHeaderRowWhenSingleValueColumn")&&r===a-1){var p=[];return A.iterateObject(i,function(f){var v=Zf(Zf([],q_(o),!1),[f],!1),g=l.createColDef(u[0],f,v);g.columnGroupShow="open",p.push(g)}),p.sort(d),p}var h=[];return A.iterateObject(i,function(f,v){var g=l.pivotDefaultExpanded===-1||r<l.pivotDefaultExpanded,y=Zf(Zf([],q_(o),!1),[f],!1);h.push({children:l.recursivelyBuildGroup(r+1,v,y,a,s),headerName:f,pivotKeys:y,columnGroupShow:"open",openByDefault:g,groupId:l.generateColumnGroupId(y)})}),h.sort(d),h},t.prototype.buildMeasureCols=function(r){var i=this,o=this.columnModel.getValueColumns();return o.length===0?[this.createColDef(null,"-",r)]:o.map(function(a){var s=i.columnModel.getDisplayNameForColumn(a,"header");return pO(pO({},i.createColDef(a,s,r)),{columnGroupShow:"open"})})},t.prototype.addExpandablePivotGroups=function(r,i){var o=this;if(!(this.gridOptionsService.get("suppressExpandablePivotGroups")||this.gridOptionsService.get("pivotColumnGroupTotals"))){var a=function(s,l,u){var c=s;if(c.children){var d=new Map;c.children.forEach(function(g){a(g,l,d)});var p=!c.children.some(function(g){return g.children});o.columnModel.getValueColumns().forEach(function(g){var y=o.columnModel.getDisplayNameForColumn(g,"header"),m=o.createColDef(g,y,s.pivotKeys);if(m.pivotTotalColumnIds=d.get(g.getColId()),m.columnGroupShow="closed",m.aggFunc=g.getAggFunc(),!p){var C=s.children;C.push(m),l.push(m)}}),o.merge(u,d)}else{var h=s;if(!h.pivotValueColumn)return;var f=h.pivotValueColumn.getColId(),v=u.has(f)?u.get(f):[];v.push(h.colId),u.set(f,v)}};r.forEach(function(s){a(s,i,new Map)})}},t.prototype.addPivotTotalsToGroups=function(r,i){var o=this;if(this.gridOptionsService.get("pivotColumnGroupTotals")){var a=this.gridOptionsService.get("pivotColumnGroupTotals")==="after",s=this.columnModel.getValueColumns(),l=s.map(function(c){return c.getAggFunc()});if(!(!l||l.length<1||!this.sameAggFuncs(l))){var u=s[0];r.forEach(function(c){o.recursivelyAddPivotTotal(c,i,u,a)})}}},t.prototype.recursivelyAddPivotTotal=function(r,i,o,a){var s=this,l=r;if(!l.children){var u=r;return u.colId?[u.colId]:null}var c=[];if(l.children.forEach(function(v){var g=s.recursivelyAddPivotTotal(v,i,o,a);g&&(c=c.concat(g))}),l.children.length>1){var d=this.localeService.getLocaleTextFunc(),p=d("pivotColumnGroupTotals","Total"),h=this.createColDef(o,p,r.pivotKeys,!0);h.pivotTotalColumnIds=c,h.aggFunc=o.getAggFunc();var f=r.children;a?f.push(h):f.unshift(h),i.push(h)}return c},t.prototype.addRowGroupTotals=function(r,i){var o=this;if(this.gridOptionsService.get("pivotRowTotals"))for(var a=this.gridOptionsService.get("pivotRowTotals")==="after",s=this.columnModel.getValueColumns(),l=a?s.slice():s.slice().reverse(),u=function(p){var h=l[p],f=[];r.forEach(function(g){f=f.concat(o.extractColIdsForValueColumn(g,h))});var v=l.length>1||!c.gridOptionsService.get("removePivotHeaderRowWhenSingleValueColumn");c.createRowGroupTotal(r,i,h,f,a,v)},c=this,d=0;d<l.length;d++)u(d)},t.prototype.extractColIdsForValueColumn=function(r,i){var o=this,a=r;if(!a.children){var s=a;return s.pivotValueColumn===i&&s.colId?[s.colId]:[]}var l=[];return a.children.forEach(function(u){o.extractColIdsForValueColumn(u,i);var c=o.extractColIdsForValueColumn(u,i);l=l.concat(c)}),l},t.prototype.createRowGroupTotal=function(r,i,o,a,s,l){var u=this.columnModel.getValueColumns(),c;if(u.length===0)c=this.createColDef(null,"-",[]);else{var d=this.columnModel.getDisplayNameForColumn(o,"header");c=this.createColDef(o,d,[]),c.pivotTotalColumnIds=a}c.colId=e.PIVOT_ROW_TOTAL_PREFIX+c.colId,i.push(c);var p=l?{children:[c],pivotKeys:[],groupId:"".concat(e.PIVOT_ROW_TOTAL_PREFIX,"_pivotGroup_").concat(o.getColId())}:c;s?r.push(p):r.unshift(p)},t.prototype.createColDef=function(r,i,o,a){a===void 0&&(a=!1);var s={};if(r){var l=r.getColDef();Object.assign(s,l),s.hide=!1}return s.headerName=i,s.colId=this.generateColumnId(o||[],r&&!a?r.getColId():""),s.field=s.colId,s.valueGetter=function(u){var c;return(c=u.data)===null||c===void 0?void 0:c[u.colDef.field]},s.pivotKeys=o,s.pivotValueColumn=r,s.filter===!0&&(s.filter="agNumberColumnFilter"),s},t.prototype.sameAggFuncs=function(r){if(r.length==1)return!0;for(var i=1;i<r.length;i++)if(r[i]!==r[0])return!1;return!0},t.prototype.headerNameComparator=function(r,i,o){return r?r(i.headerName,o.headerName):i.headerName&&!o.headerName?1:!i.headerName&&o.headerName?-1:!i.headerName||!o.headerName?0:i.headerName<o.headerName?-1:i.headerName>o.headerName?1:0},t.prototype.merge=function(r,i){i.forEach(function(o,a,s){var l=r.has(a)?r.get(a):[],u=Zf(Zf([],q_(l),!1),q_(o),!1);r.set(a,u)})},t.prototype.generateColumnGroupId=function(r){var i=this.columnModel.getPivotColumns().map(function(o){return o.getColId()});return"pivotGroup_".concat(i.join("-"),"_").concat(r.join("-"))},t.prototype.generateColumnId=function(r,i){var o=this.columnModel.getPivotColumns().map(function(a){return a.getColId()});return"pivot_".concat(o.join("-"),"_").concat(r.join("-"),"_").concat(i)},t.prototype.createColDefsFromFields=function(r){for(var i=this,o={},a=0;a<r.length;a++)for(var s=r[a],l=s.split(this.fieldSeparator),u=o,c=0;c<l.length;c++){var d=l[c];u[d]==null&&(u[d]={}),u=u[d]}var p=function(y,m,C,S){var w,_=[];for(var x in C){var b=C[x],O=p("".concat(y).concat(i.fieldSeparator).concat(x),x,b,S+1);_.push(O)}if(_.length===0){var P=i.columnModel.getPrimaryColumn(m);if(P){var D=(w=i.columnModel.getDisplayNameForColumn(P,"header"))!==null&&w!==void 0?w:m,N=i.createColDef(P,D,void 0,!1);return N.colId=y,N.aggFunc=P.getAggFunc(),N.valueGetter=function(H){var $;return($=H.data)===null||$===void 0?void 0:$[y]},N}var L={colId:y,headerName:m,valueGetter:function(H){var $;return($=H.data)===null||$===void 0?void 0:$[y]}};return L}var I=i.gridOptionsService.get("removePivotHeaderRowWhenSingleValueColumn");if(I&&_.length===1&&"colId"in _[0])return _[0].headerName=m,_[0];var k={openByDefault:i.pivotDefaultExpanded===-1||S<i.pivotDefaultExpanded,groupId:y,headerName:m,children:_};return k},h=[];for(var f in o){var v=o[f],g=p(f,f,v,0);h.push(g)}return h};var e;return t.PIVOT_ROW_TOTAL_PREFIX="PivotRowTotal_",X_([E("columnModel")],t.prototype,"columnModel",void 0),X_([E("gridOptionsService")],t.prototype,"gos",void 0),X_([z],t.prototype,"init",null),t=e=X_([ie("pivotColDefService")],t),t}(X),PNe=function(){var n=function(t,e){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])},n(t,e)};return function(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");n(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}}(),Z_=function(n,t,e,r){var i=arguments.length,o=i<3?t:r===null?r=Object.getOwnPropertyDescriptor(t,e):r,a;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(n,t,e,r);else for(var s=n.length-1;s>=0;s--)(a=n[s])&&(o=(i<3?a(o):i>3?a(t,e,o):a(t,e))||o);return i>3&&o&&Object.defineProperty(t,e,o),o},ANe=function(n){PNe(t,n);function t(){var e=n!==null&&n.apply(this,arguments)||this;return e.uniqueValues={},e}return t.prototype.execute=function(e){var r=e.changedPath;this.columnModel.isPivotActive()?this.executePivotOn(r):this.executePivotOff(r)},t.prototype.executePivotOff=function(e){this.aggregationColumnsHashLastTime=null,this.uniqueValues={},this.columnModel.isSecondaryColumnsPresent()&&(this.columnModel.setSecondaryColumns(null,"rowModelUpdated"),e&&e.setInactive())},t.prototype.executePivotOn=function(e){var r=this.bucketUpRowNodes(e),i=this.setUniqueValues(r),o=this.columnModel.getValueColumns(),a=o.map(function(S){return"".concat(S.getId(),"-").concat(S.getColDef().headerName)}).join("#"),s=o.map(function(S){return S.getAggFunc().toString()}).join("#"),l=this.aggregationColumnsHashLastTime!==a,u=this.aggregationFuncsHashLastTime!==s;this.aggregationColumnsHashLastTime=a,this.aggregationFuncsHashLastTime=s;var c=this.columnModel.getRowGroupColumns().map(function(S){return S.getId()}).join("#"),d=c!==this.groupColumnsHashLastTime;this.groupColumnsHashLastTime=c;var p=this.gridOptionsService.get("pivotRowTotals"),h=this.gridOptionsService.get("pivotColumnGroupTotals"),f=this.gridOptionsService.get("suppressExpandablePivotGroups"),v=this.gridOptionsService.get("removePivotHeaderRowWhenSingleValueColumn"),g=p!==this.pivotRowTotalsLastTime||h!==this.pivotColumnGroupTotalsLastTime||f!==this.suppressExpandablePivotGroupsLastTime||v!==this.removePivotHeaderRowWhenSingleValueColumnLastTime;if(this.pivotRowTotalsLastTime=p,this.pivotColumnGroupTotalsLastTime=h,this.suppressExpandablePivotGroupsLastTime=f,this.removePivotHeaderRowWhenSingleValueColumnLastTime=v,i||l||d||u||g){var y=this.pivotColDefService.createPivotColumnDefs(this.uniqueValues),m=y.pivotColumnGroupDefs,C=y.pivotColumnDefs;this.pivotColumnDefs=C,this.columnModel.setSecondaryColumns(m,"rowModelUpdated"),e&&e.setInactive()}},t.prototype.setUniqueValues=function(e){var r=JSON.stringify(e),i=JSON.stringify(this.uniqueValues),o=r!==i;return o?(this.uniqueValues=e,!0):!1},t.prototype.bucketUpRowNodes=function(e){var r=this,i={};e.forEachChangedNodeDepthFirst(function(a){a.leafGroup&&(a.childrenMapped=null)});var o=function(a){var s;a.leafGroup?r.bucketRowNode(a,i):(s=a.childrenAfterFilter)===null||s===void 0||s.forEach(o)};return e.executeFromRootNode(o),i},t.prototype.bucketRowNode=function(e,r){var i=this.columnModel.getPivotColumns();i.length===0?e.childrenMapped=null:e.childrenMapped=this.bucketChildren(e.childrenAfterFilter,i,0,r),e.sibling&&(e.sibling.childrenMapped=e.childrenMapped)},t.prototype.bucketChildren=function(e,r,i,o){var a=this,s={},l=r[i];if(e.forEach(function(c){var d=a.valueService.getKeyForNode(l,c);A.missing(d)&&(d=""),o[d]||(o[d]={}),s[d]||(s[d]=[]),s[d].push(c)}),i===r.length-1)return s;var u={};return A.iterateObject(s,function(c,d){u[c]=a.bucketChildren(d,r,i+1,o[c])}),u},t.prototype.getPivotColumnDefs=function(){return this.pivotColumnDefs},Z_([E("valueService")],t.prototype,"valueService",void 0),Z_([E("columnModel")],t.prototype,"columnModel",void 0),Z_([E("pivotColDefService")],t.prototype,"pivotColDefService",void 0),t=Z_([ie("pivotStage")],t),t}(X),DNe=function(){var n=function(t,e){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])},n(t,e)};return function(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");n(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}}(),_U=function(n,t,e,r){var i=arguments.length,o=i<3?t:r===null?r=Object.getOwnPropertyDescriptor(t,e):r,a;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(n,t,e,r);else for(var s=n.length-1;s>=0;s--)(a=n[s])&&(o=(i<3?a(o):i>3?a(t,e,o):a(t,e))||o);return i>3&&o&&Object.defineProperty(t,e,o),o},El=typeof BigInt>"u"?null:BigInt,MNe={sum:"Sum",first:"First",last:"Last",min:"Min",max:"Max",count:"Count",avg:"Average"},LNe=function(n){DNe(t,n);function t(){var r=n!==null&&n.apply(this,arguments)||this;return r.aggFuncsMap={},r.initialised=!1,r}e=t,t.prototype.init=function(){this.initialised||(this.initialiseWithDefaultAggregations(),this.addAggFuncs(this.gridOptionsService.get("aggFuncs")))},t.prototype.initialiseWithDefaultAggregations=function(){this.aggFuncsMap[e.AGG_SUM]=FNe,this.aggFuncsMap[e.AGG_FIRST]=INe,this.aggFuncsMap[e.AGG_LAST]=NNe,this.aggFuncsMap[e.AGG_MIN]=kNe,this.aggFuncsMap[e.AGG_MAX]=GNe,this.aggFuncsMap[e.AGG_COUNT]=VNe,this.aggFuncsMap[e.AGG_AVG]=BNe,this.initialised=!0},t.prototype.isAggFuncPossible=function(r,i){var o=this.getFuncNames(r),a=A.includes(o,i),s=A.exists(this.aggFuncsMap[i]);return a&&s},t.prototype.getDefaultFuncLabel=function(r){var i;return(i=MNe[r])!==null&&i!==void 0?i:r},t.prototype.getDefaultAggFunc=function(r){var i=r.getColDef().defaultAggFunc;if(A.exists(i)&&this.isAggFuncPossible(r,i))return i;if(this.isAggFuncPossible(r,e.AGG_SUM))return e.AGG_SUM;var o=this.getFuncNames(r);return A.existsAndNotEmpty(o)?o[0]:null},t.prototype.addAggFuncs=function(r){var i=this;this.init(),A.iterateObject(r,function(o,a){i.aggFuncsMap[o]=a})},t.prototype.getAggFunc=function(r){return this.init(),this.aggFuncsMap[r]},t.prototype.getFuncNames=function(r){var i=r.getColDef().allowedAggFuncs;return i??Object.keys(this.aggFuncsMap).sort()},t.prototype.clear=function(){this.aggFuncsMap={}};var e;return t.AGG_SUM="sum",t.AGG_FIRST="first",t.AGG_LAST="last",t.AGG_MIN="min",t.AGG_MAX="max",t.AGG_COUNT="count",t.AGG_AVG="avg",_U([z],t.prototype,"init",null),t=e=_U([ie("aggFuncService")],t),t}(X);function FNe(n){for(var t=n.values,e=null,r=0;r<t.length;r++){var i=t[r];typeof i=="number"?e===null?e=i:El?e+=typeof e=="number"?i:El(i):e+=i:typeof i=="bigint"&&(e===null?e=i:e=(typeof e=="bigint"?e:El(e))+i)}return e}function INe(n){return n.values.length>0?n.values[0]:null}function NNe(n){return n.values.length>0?A.last(n.values):null}function kNe(n){for(var t=n.values,e=null,r=0;r<t.length;r++){var i=t[r];(typeof i=="number"||typeof i=="bigint")&&(e===null||e>i)&&(e=i)}return e}function GNe(n){for(var t=n.values,e=null,r=0;r<t.length;r++){var i=t[r];(typeof i=="number"||typeof i=="bigint")&&(e===null||e<i)&&(e=i)}return e}function VNe(n){for(var t,e,r=n.values,i=0,o=0;o<r.length;o++){var a=r[o];i+=a!=null&&typeof a.value=="number"?a.value:1}var s=(e=(t=n.rowNode)===null||t===void 0?void 0:t.aggData)===null||e===void 0?void 0:e[n.column.getColId()];return s&&s.value===i?s:{value:i,toString:function(){return this.value.toString()},toNumber:function(){return this.value}}}function BNe(n){for(var t,e,r,i=n.values,o=0,a=0,s=0;s<i.length;s++){var l=i[s],u=null;typeof l=="number"||typeof l=="bigint"?(u=l,a++):l!=null&&(typeof l.value=="number"||typeof l.value=="bigint")&&typeof l.count=="number"&&(El?u=l.value*(typeof l.value=="number"?l.count:El(l.count)):u=l.value*l.count,a+=l.count),typeof u=="number"?El?o+=typeof o=="number"?u:El(u):o+=u:typeof u=="bigint"&&(o=(typeof o=="bigint"?o:El(o))+u)}var c=null;a>0&&(El?c=o/(typeof o=="number"?a:El(a)):c=o/a);var d=(e=(t=n.rowNode)===null||t===void 0?void 0:t.aggData)===null||e===void 0?void 0:e[(r=n.column)===null||r===void 0?void 0:r.getColId()];return d&&d.count===a&&d.value===c?d:{count:a,value:c,toString:function(){return typeof this.value=="number"||typeof this.value=="bigint"?this.value.toString():""},toNumber:function(){return this.value}}}var bZ=function(){var n=function(t,e){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])},n(t,e)};return function(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");n(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}}(),ul=function(n,t,e,r){var i=arguments.length,o=i<3?t:r===null?r=Object.getOwnPropertyDescriptor(t,e):r,a;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(n,t,e,r);else for(var s=n.length-1;s>=0;s--)(a=n[s])&&(o=(i<3?a(o):i>3?a(t,e,o):a(t,e))||o);return i>3&&o&&Object.defineProperty(t,e,o),o},xU=function(n){bZ(t,n);function t(e,r,i,o,a){var s=n.call(this)||this;return s.column=e,s.dragSourceDropTarget=r,s.ghost=i,s.dropZonePurpose=o,s.horizontal=a,s.popupShowing=!1,s}return t.prototype.init=function(){var e=this;this.setTemplate(t.TEMPLATE);var r=this.getGui(),i=this.gridOptionsService.get("functionsReadOnly");this.addElementClasses(r),this.addElementClasses(this.eDragHandle,"drag-handle"),this.addElementClasses(this.eText,"text"),this.addElementClasses(this.eButton,"button"),this.eDragHandle.appendChild(A.createIconNoSpan("columnDrag",this.gridOptionsService)),this.eButton.appendChild(A.createIconNoSpan("cancel",this.gridOptionsService)),this.setupSort(),this.displayName=this.columnModel.getDisplayNameForColumn(this.column,"columnDrop"),this.setupComponents(),!this.ghost&&!i&&this.addDragSource(),this.setupAria(),this.addManagedListener(this.eventService,rt.EVENT_SORT_CHANGED,function(){e.setupAria()}),this.setupTooltip(),this.activateTabIndex();var o=function(){var a=e.isGroupingAndLocked();A.setDisplayed(e.eButton,!a&&!e.gridOptionsService.get("functionsReadOnly")),e.eDragHandle.classList.toggle("ag-column-select-column-readonly",a),e.setupAria()};o(),this.isGroupingZone()&&this.addManagedPropertyListener("groupLockGroupColumns",function(){return o()})},t.prototype.getColumn=function(){return this.column},t.prototype.setupAria=function(){var e=this.localeService.getLocaleTextFunc(),r=this.getColumnAndAggFuncName(),i=r.name,o=r.aggFuncName,a=e("ariaDropZoneColumnComponentAggFuncSeparator"," of "),s={asc:e("ariaDropZoneColumnComponentSortAscending","ascending"),desc:e("ariaDropZoneColumnComponentSortDescending","descending")},l=this.column.getSort(),u=this.gridOptionsService.get("rowGroupPanelSuppressSort"),c=[[o&&"".concat(o).concat(a),i,this.isGroupingZone()&&!u&&l&&", ".concat(s[l])].filter(function(v){return!!v}).join("")],d=this.gridOptionsService.get("functionsReadOnly");if(this.isAggregationZone()&&!d){var p=e("ariaDropZoneColumnValueItemDescription","Press ENTER to change the aggregation type");c.push(p)}if(this.isGroupingZone()&&this.column.isSortable()&&!u){var h=e("ariaDropZoneColumnGroupItemDescription","Press ENTER to sort");c.push(h)}if(!this.isGroupingAndLocked()){var f=e("ariaDropZoneColumnComponentDescription","Press DELETE to remove");c.push(f)}A.setAriaLabel(this.getGui(),c.join(". "))},t.prototype.setupTooltip=function(){var e=this,r=function(){var i=e.column.getColDef().headerTooltip;e.setTooltip(i)};r(),this.addManagedListener(this.eventService,T.EVENT_NEW_COLUMNS_LOADED,r)},t.prototype.setupSort=function(){var e=this,r=this.column.isSortable(),i=this.isGroupingZone();if(!(!r||!i)&&!this.gridOptionsService.get("rowGroupPanelSuppressSort")){this.eSortIndicator.setupSort(this.column,!0);var o=function(a){a.preventDefault();var s=e.gridOptionsService.get("multiSortKey")==="ctrl",l=s?a.ctrlKey||a.metaKey:a.shiftKey;e.sortController.progressSort(e.column,l,"uiColumnSorted")};this.addGuiEventListener("click",o),this.addGuiEventListener("keydown",function(a){var s=a.key===U.ENTER;s&&e.isGroupingZone()&&o(a)})}},t.prototype.addDragSource=function(){var e=this,r=this,i=r.dragAndDropService,o=r.displayName,a=r.eDragHandle,s=r.column,l={type:Or.ToolPanel,eElement:a,getDefaultIconName:function(){return St.ICON_HIDE},getDragItem:function(){return e.createDragItem(s)},dragItemName:o};i.addDragSource(l,!0),this.addDestroyFunc(function(){return i.removeDragSource(l)})},t.prototype.createDragItem=function(e){var r={};return r[e.getId()]=e.isVisible(),{columns:[e],visibleState:r}},t.prototype.setupComponents=function(){this.setTextValue(),this.setupRemove(),this.ghost&&this.addCssClass("ag-column-drop-cell-ghost"),this.isAggregationZone()&&!this.gridOptionsService.get("functionsReadOnly")&&this.addGuiEventListener("click",this.onShowAggFuncSelection.bind(this))},t.prototype.isGroupingAndLocked=function(){return this.isGroupingZone()&&this.columnModel.isColumnGroupingLocked(this.column)},t.prototype.setupRemove=function(){var e=this;A.setDisplayed(this.eButton,!this.isGroupingAndLocked()&&!this.gridOptionsService.get("functionsReadOnly"));var r={type:t.EVENT_COLUMN_REMOVE};this.addGuiEventListener("keydown",function(o){var a=o.key===U.ENTER,s=o.key===U.DELETE;s&&(e.isGroupingAndLocked()||(o.preventDefault(),e.dispatchEvent(r))),a&&e.isAggregationZone()&&!e.gridOptionsService.get("functionsReadOnly")&&(o.preventDefault(),e.onShowAggFuncSelection())}),this.addManagedListener(this.eButton,"click",function(o){e.dispatchEvent(r),o.stopPropagation()});var i=new qr(this.eButton);this.addManagedListener(i,qr.EVENT_TAP,function(){e.dispatchEvent(r)}),this.addDestroyFunc(i.destroy.bind(i))},t.prototype.getColumnAndAggFuncName=function(){var e=this.displayName,r="";if(this.isAggregationZone()){var i=this.column.getAggFunc(),o=typeof i=="string"?i:"agg",a=this.localeService.getLocaleTextFunc();r=a(o,o)}return{name:e,aggFuncName:r}},t.prototype.setTextValue=function(){var e=this.getColumnAndAggFuncName(),r=e.name,i=e.aggFuncName,o=this.isAggregationZone()?"".concat(i,"(").concat(r,")"):r,a=A.escapeString(o);this.eText.innerHTML=a},t.prototype.onShowAggFuncSelection=function(){var e=this;if(!this.popupShowing){this.popupShowing=!0;var r=new yf({cssIdentifier:"select-agg-func"}),i=this.aggFuncService.getFuncNames(this.column),o=this.getGui(),a=r.getGui();r.setModel({getRow:function(h){return i[h]},getRowCount:function(){return i.length}}),this.getContext().createBean(r);var s=A.loadTemplate('<div class="ag-select-agg-func-popup"></div>');s.style.top="0px",s.style.left="0px",s.appendChild(a),s.style.width="".concat(o.clientWidth,"px");var l=this.addManagedListener(s,"focusout",function(h){!s.contains(h.relatedTarget)&&d&&d.hideFunc()}),u=function(h){e.destroyBean(r),e.popupShowing=!1,(h==null?void 0:h.key)==="Escape"&&o.focus(),l&&l()},c=this.localeService.getLocaleTextFunc(),d=this.popupService.addPopup({modal:!0,eChild:s,closeOnEsc:!0,closedCallback:u,ariaLabel:c("ariaLabelAggregationFunction","Aggregation Function")});d&&r.setComponentCreator(this.createAggSelect.bind(this,d.hideFunc)),r.addGuiEventListener("keydown",function(h){if(h.key===U.ENTER||h.key===U.SPACE){var f=r.getLastFocusedRow();if(f==null)return;var v=r.getComponentAt(f);v&&v.selectItem()}}),this.popupService.positionPopupByComponent({type:"aggFuncSelect",eventSource:o,ePopup:s,keepWithinBounds:!0,column:this.column,position:"under"}),r.refresh();var p=i.findIndex(function(h){return h===e.column.getAggFunc()});p===-1&&(p=0),r.focusRow(p)}},t.prototype.createAggSelect=function(e,r){var i=this,o=function(){if(e(),i.gridOptionsService.get("functionsPassive")){var c={type:T.EVENT_COLUMN_AGG_FUNC_CHANGE_REQUEST,columns:[i.column],aggFunc:r};i.eventService.dispatchEvent(c)}else i.columnModel.setColumnAggFunc(i.column,r,"toolPanelDragAndDrop")},a=this.localeService.getLocaleTextFunc(),s=r.toString(),l=a(s,s),u=new HNe(o,l);return u},t.prototype.addElementClasses=function(e,r){r=r?"-".concat(r):"";var i=this.horizontal?"horizontal":"vertical";e.classList.add("ag-column-drop-cell".concat(r),"ag-column-drop-".concat(i,"-cell").concat(r))},t.prototype.isAggregationZone=function(){return this.dropZonePurpose==="aggregation"},t.prototype.isGroupingZone=function(){return this.dropZonePurpose==="rowGroup"},t.prototype.destroy=function(){n.prototype.destroy.call(this),this.column=null,this.dragSourceDropTarget=null},t.EVENT_COLUMN_REMOVE="columnRemove",t.TEMPLATE=`<span role="option">
          <span ref="eDragHandle" class="ag-drag-handle ag-column-drop-cell-drag-handle" role="presentation"></span>
          <span ref="eText" class="ag-column-drop-cell-text" aria-hidden="true"></span>
          <ag-sort-indicator ref="eSortIndicator"></ag-sort-indicator>
          <span ref="eButton" class="ag-column-drop-cell-button" role="presentation"></span>
        </span>`,ul([E("dragAndDropService")],t.prototype,"dragAndDropService",void 0),ul([E("columnModel")],t.prototype,"columnModel",void 0),ul([E("popupService")],t.prototype,"popupService",void 0),ul([et("aggFuncService")],t.prototype,"aggFuncService",void 0),ul([E("sortController")],t.prototype,"sortController",void 0),ul([j("eText")],t.prototype,"eText",void 0),ul([j("eDragHandle")],t.prototype,"eDragHandle",void 0),ul([j("eButton")],t.prototype,"eButton",void 0),ul([j("eSortIndicator")],t.prototype,"eSortIndicator",void 0),ul([z],t.prototype,"init",null),t}(ae),HNe=function(n){bZ(t,n);function t(e,r){var i=n.call(this,'<div class="ag-select-agg-func-item"/>')||this;return i.selectItem=e,i.getGui().innerText=r,i.addGuiEventListener("click",i.selectItem),i}return t}(ae),jNe=function(){var n=function(t,e){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])},n(t,e)};return function(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");n(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}}(),EU=function(n,t,e,r){var i=arguments.length,o=i<3?t:r===null?r=Object.getOwnPropertyDescriptor(t,e):r,a;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(n,t,e,r);else for(var s=n.length-1;s>=0;s--)(a=n[s])&&(o=(i<3?a(o):i>3?a(t,e,o):a(t,e))||o);return i>3&&o&&Object.defineProperty(t,e,o),o},bU=function(n,t){var e=typeof Symbol=="function"&&n[Symbol.iterator];if(!e)return n;var r=e.call(n),i,o=[],a;try{for(;(t===void 0||t-- >0)&&!(i=r.next()).done;)o.push(i.value)}catch(s){a={error:s}}finally{try{i&&!i.done&&(e=r.return)&&e.call(r)}finally{if(a)throw a.error}}return o},OU=function(n,t,e){if(e||arguments.length===2)for(var r=0,i=t.length,o;r<i;r++)(o||!(r in t))&&(o||(o=Array.prototype.slice.call(t,0,r)),o[r]=t[r]);return n.concat(o||Array.prototype.slice.call(t))},CV=function(n){jNe(t,n);function t(e,r){var i=n.call(this,'<div class="ag-unselectable" role="presentation"></div>')||this;return i.horizontal=e,i.dropZonePurpose=r,i.state=t.STATE_NOT_DRAGGING,i.guiDestroyFunctions=[],i.childColumnComponents=[],i.resizeEnabled=!1,i.addElementClasses(i.getGui()),i.eColumnDropList=document.createElement("div"),i.addElementClasses(i.eColumnDropList,"list"),A.setAriaRole(i.eColumnDropList,"listbox"),i}return t.prototype.isHorizontal=function(){return this.horizontal},t.prototype.toggleResizable=function(e){this.positionableFeature.setResizable(e?{bottom:!0}:!1),this.resizeEnabled=e},t.prototype.setBeans=function(e){this.beans=e},t.prototype.isSourceEventFromTarget=function(e){var r=e.dropZoneTarget,i=e.dragSource;return r.contains(i.eElement)},t.prototype.destroy=function(){this.destroyGui(),n.prototype.destroy.call(this)},t.prototype.destroyGui=function(){this.guiDestroyFunctions.forEach(function(e){return e()}),this.guiDestroyFunctions.length=0,this.childColumnComponents.length=0,A.clearElement(this.getGui()),A.clearElement(this.eColumnDropList)},t.prototype.init=function(e){this.params=e,this.createManagedBean(new au(this.getFocusableElement(),{handleKeyDown:this.handleKeyDown.bind(this)})),this.addManagedListener(this.beans.eventService,T.EVENT_NEW_COLUMNS_LOADED,this.refreshGui.bind(this)),this.addManagedPropertyListeners(["functionsReadOnly","rowGroupPanelSuppressSort","groupLockGroupColumns"],this.refreshGui.bind(this)),this.setupDropTarget(),this.positionableFeature=new Vw(this.getGui(),{minHeight:100}),this.createManagedBean(this.positionableFeature),this.refreshGui(),A.setAriaLabel(this.eColumnDropList,this.getAriaLabel())},t.prototype.handleKeyDown=function(e){var r=!this.horizontal,i=e.key===U.DOWN,o=e.key===U.UP;if(!r){var a=this.gridOptionsService.get("enableRtl");i=!a&&e.key===U.RIGHT||a&&e.key===U.LEFT,o=!a&&e.key===U.LEFT||a&&e.key===U.RIGHT}if(!(!i&&!o)){var s=this.focusService.findNextFocusableElement(this.getFocusableElement(),!1,o);s&&(e.preventDefault(),s.focus())}},t.prototype.addElementClasses=function(e,r){r=r?"-".concat(r):"";var i=this.horizontal?"horizontal":"vertical";e.classList.add("ag-column-drop".concat(r),"ag-column-drop-".concat(i).concat(r))},t.prototype.setupDropTarget=function(){this.dropTarget={getContainer:this.getGui.bind(this),getIconName:this.getIconName.bind(this),onDragging:this.onDragging.bind(this),onDragEnter:this.onDragEnter.bind(this),onDragLeave:this.onDragLeave.bind(this),onDragStop:this.onDragStop.bind(this),isInterestedIn:this.isInterestedIn.bind(this)},this.beans.dragAndDropService.addDropTarget(this.dropTarget)},t.prototype.isInterestedIn=function(e){return e===Or.HeaderCell||e===Or.ToolPanel},t.prototype.minimumAllowedNewInsertIndex=function(){var e=this.gridOptionsService.get("groupLockGroupColumns"),r=this.colModel.getRowGroupColumns().length;return e===-1?r:Math.min(e,r)},t.prototype.checkInsertIndex=function(e){var r=this.getNewInsertIndex(e);if(r<0)return!1;var i=this.minimumAllowedNewInsertIndex(),o=Math.max(i,r),a=o!==this.insertIndex;return a&&(this.insertIndex=o),a},t.prototype.getNewInsertIndex=function(e){var r=this,i=e.event,o=this.horizontal?i.clientX:i.clientY,a=this.childColumnComponents.map(function(d){return d.getGui().getBoundingClientRect()}),s=a.findIndex(function(d){return r.horizontal?d.right>o&&d.left<o:d.top<o&&d.bottom>o});if(s===-1){var l=this.beans.gridOptionsService.get("enableRtl"),u=a.every(function(d){return o>(r.horizontal?d.right:d.bottom)});if(u)return l&&this.horizontal?0:this.childColumnComponents.length;var c=a.every(function(d){return o<(r.horizontal?d.left:d.top)});return c?l&&this.horizontal?this.childColumnComponents.length:0:this.insertIndex}return this.insertIndex<=s?s+1:s},t.prototype.checkDragStartedBySelf=function(e){this.state===t.STATE_NOT_DRAGGING&&(this.state=t.STATE_REARRANGE_COLUMNS,this.potentialDndColumns=e.dragSource.getDragItem().columns||[],this.refreshGui(),this.checkInsertIndex(e),this.refreshGui())},t.prototype.onDragging=function(e){this.checkDragStartedBySelf(e),this.checkInsertIndex(e)&&this.refreshGui()},t.prototype.onDragEnter=function(e){var r=this,i=e.dragSource.getDragItem().columns||[];this.state=t.STATE_NEW_COLUMNS_IN;var o=i.filter(function(c){return r.isColumnDroppable(c,e)}),a=o.every(function(c){return r.childColumnComponents.map(function(d){return d.getColumn()}).indexOf(c)!==-1});if(o.length!==0){if(this.potentialDndColumns=o,a){this.state=t.STATE_NOT_DRAGGING;return}var s=this.isRowGroupPanel()&&!this.gridOptionsService.get("suppressRowGroupHidesColumns")&&!e.fromNudge;if(s){var l=e.dragSource.getDragItem(),u=l.columns;this.setColumnsVisible(u,!1,"uiColumnDragged")}this.checkInsertIndex(e),this.refreshGui()}},t.prototype.setColumnsVisible=function(e,r,i){if(e){var o=e.filter(function(a){return!a.getColDef().lockVisible});this.colModel.setColumnsVisible(o,r,i)}},t.prototype.isPotentialDndColumns=function(){return A.existsAndNotEmpty(this.potentialDndColumns)},t.prototype.isRowGroupPanel=function(){return this.dropZonePurpose==="rowGroup"},t.prototype.onDragLeave=function(e){if(this.state===t.STATE_REARRANGE_COLUMNS){var r=e.dragSource.getDragItem().columns||[];this.removeColumns(r)}if(this.isPotentialDndColumns()){var i=this.isRowGroupPanel()&&!this.gridOptionsService.get("suppressMakeColumnVisibleAfterUnGroup")&&!e.fromNudge;if(i){var o=e.dragSource.getDragItem();this.setColumnsVisible(o.columns,!0,"uiColumnDragged")}this.potentialDndColumns=[],this.refreshGui()}this.state=t.STATE_NOT_DRAGGING},t.prototype.onDragStop=function(){if(this.isPotentialDndColumns()){var e=!1;this.state===t.STATE_NEW_COLUMNS_IN?(this.addColumns(this.potentialDndColumns),e=!0):e=this.rearrangeColumns(this.potentialDndColumns),this.potentialDndColumns=[],(!this.beans.gridOptionsService.get("functionsPassive")||!e)&&this.refreshGui()}this.state=t.STATE_NOT_DRAGGING},t.prototype.removeColumns=function(e){var r=this.getExistingColumns().filter(function(i){return!A.includes(e,i)});this.updateColumns(r)},t.prototype.addColumns=function(e){if(e){var r=this.getExistingColumns().slice(),i=e.filter(function(o){return r.indexOf(o)<0});A.insertArrayIntoArray(r,i,this.insertIndex),this.updateColumns(r)}},t.prototype.rearrangeColumns=function(e){var r=this.getNonGhostColumns().slice();return A.insertArrayIntoArray(r,e,this.insertIndex),A.areEqual(r,this.getExistingColumns())?!1:(this.updateColumns(r),!0)},t.prototype.refreshGui=function(){var e=this.eColumnDropList.scrollTop,r=this.resizeEnabled,i=this.getFocusedItem(),o=this.focusService.findNextFocusableElement();o||(o=this.focusService.findNextFocusableElement(void 0,!1,!0)),this.toggleResizable(!1),this.destroyGui(),this.addIconAndTitleToGui(),this.addEmptyMessageToGui(),this.addColumnsToGui(),this.isHorizontal()||(this.eColumnDropList.scrollTop=e),r&&this.toggleResizable(r),this.focusService.isKeyboardMode()&&this.restoreFocus(i,o)},t.prototype.getFocusedItem=function(){var e=this.getGui(),r=this.gridOptionsService.getDocument().activeElement;if(!e.contains(r))return-1;var i=Array.from(e.querySelectorAll(".ag-column-drop-cell"));return i.indexOf(r)},t.prototype.restoreFocus=function(e,r){var i=this.getGui(),o=Array.from(i.querySelectorAll(".ag-column-drop-cell"));if(e!==-1){o.length===0&&r.focus();var a=Math.min(o.length-1,e),s=o[a];s&&s.focus()}},t.prototype.getNonGhostColumns=function(){var e=this,r=this.getExistingColumns();return this.isPotentialDndColumns()?r.filter(function(i){return!A.includes(e.potentialDndColumns,i)}):r},t.prototype.addColumnsToGui=function(){var e=this,r=this.getNonGhostColumns(),i=r.map(function(a){return e.createColumnComponent(a,!1)});if(this.isPotentialDndColumns()){var o=this.potentialDndColumns.map(function(a){return e.createColumnComponent(a,!0)});this.insertIndex>=i.length?i.push.apply(i,OU([],bU(o),!1)):i.splice.apply(i,OU([this.insertIndex,0],bU(o),!1))}this.appendChild(this.eColumnDropList),i.forEach(function(a,s){s>0&&e.addArrow(e.eColumnDropList),e.eColumnDropList.appendChild(a.getGui())}),this.addAriaLabelsToComponents()},t.prototype.addAriaLabelsToComponents=function(){var e=this;this.childColumnComponents.forEach(function(r,i){var o=r.getGui();A.setAriaPosInSet(o,i+1),A.setAriaSetSize(o,e.childColumnComponents.length)})},t.prototype.createColumnComponent=function(e,r){var i=this,o=new xU(e,this.dropTarget,r,this.dropZonePurpose,this.horizontal);return o.addEventListener(xU.EVENT_COLUMN_REMOVE,this.removeColumns.bind(this,[e])),this.beans.context.createBean(o),this.guiDestroyFunctions.push(function(){return i.destroyBean(o)}),r||this.childColumnComponents.push(o),o},t.prototype.addIconAndTitleToGui=function(){var e=this.params.icon,r=document.createElement("div");if(A.setAriaHidden(r,!0),this.addElementClasses(r,"title-bar"),this.addElementClasses(e,"icon"),this.addOrRemoveCssClass("ag-column-drop-empty",this.isExistingColumnsEmpty()),r.appendChild(e),!this.horizontal){var i=document.createElement("span");this.addElementClasses(i,"title"),i.innerHTML=this.params.title,r.appendChild(i)}this.appendChild(r)},t.prototype.isExistingColumnsEmpty=function(){return this.getExistingColumns().length===0},t.prototype.addEmptyMessageToGui=function(){if(!(!this.isExistingColumnsEmpty()||this.isPotentialDndColumns())){var e=document.createElement("span");e.innerHTML=this.params.emptyMessage,this.addElementClasses(e,"empty-message"),this.eColumnDropList.appendChild(e)}},t.prototype.addArrow=function(e){if(this.horizontal){var r=this.beans.gridOptionsService.get("enableRtl"),i=A.createIconNoSpan(r?"smallLeft":"smallRight",this.beans.gridOptionsService);this.addElementClasses(i,"cell-separator"),e.appendChild(i)}},t.STATE_NOT_DRAGGING="notDragging",t.STATE_NEW_COLUMNS_IN="newColumnsIn",t.STATE_REARRANGE_COLUMNS="rearrangeColumns",EU([E("columnModel")],t.prototype,"colModel",void 0),EU([E("focusService")],t.prototype,"focusService",void 0),t}(ae),$Ne=function(){var n=function(t,e){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])},n(t,e)};return function(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");n(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}}(),Q_=function(n,t,e,r){var i=arguments.length,o=i<3?t:r===null?r=Object.getOwnPropertyDescriptor(t,e):r,a;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(n,t,e,r);else for(var s=n.length-1;s>=0;s--)(a=n[s])&&(o=(i<3?a(o):i>3?a(t,e,o):a(t,e))||o);return i>3&&o&&Object.defineProperty(t,e,o),o},XF=function(n){$Ne(t,n);function t(e){return n.call(this,e,"rowGroup")||this}return t.prototype.passBeansUp=function(){n.prototype.setBeans.call(this,{gridOptionsService:this.gridOptionsService,eventService:this.eventService,context:this.getContext(),loggerFactory:this.loggerFactory,dragAndDropService:this.dragAndDropService});var e=this.localeService.getLocaleTextFunc(),r=e("rowGroupColumnsEmptyMessage","Drag here to set row groups"),i=e("groups","Row Groups");n.prototype.init.call(this,{dragAndDropIcon:St.ICON_GROUP,icon:A.createIconNoSpan("rowGroupPanel",this.gridOptionsService,null),emptyMessage:r,title:i}),this.addManagedListener(this.eventService,T.EVENT_COLUMN_ROW_GROUP_CHANGED,this.refreshGui.bind(this))},t.prototype.getAriaLabel=function(){var e=this.localeService.getLocaleTextFunc(),r=e("ariaRowGroupDropZonePanelLabel","Row Groups");return r},t.prototype.getTooltipParams=function(){var e=n.prototype.getTooltipParams.call(this);return e.location="rowGroupColumnsList",e},t.prototype.isColumnDroppable=function(e,r){return this.gridOptionsService.get("functionsReadOnly")||!e.isPrimary()?!1:e.isAllowRowGroup()&&(!e.isRowGroupActive()||this.isSourceEventFromTarget(r))},t.prototype.updateColumns=function(e){if(this.gridOptionsService.get("functionsPassive")){var r={type:T.EVENT_COLUMN_ROW_GROUP_CHANGE_REQUEST,columns:e};this.eventService.dispatchEvent(r)}else this.columnModel.setRowGroupColumns(e,"toolPanelUi")},t.prototype.getIconName=function(){return this.isPotentialDndColumns()?St.ICON_GROUP:St.ICON_NOT_ALLOWED},t.prototype.getExistingColumns=function(){return this.columnModel.getRowGroupColumns()},Q_([E("columnModel")],t.prototype,"columnModel",void 0),Q_([E("loggerFactory")],t.prototype,"loggerFactory",void 0),Q_([E("dragAndDropService")],t.prototype,"dragAndDropService",void 0),Q_([z],t.prototype,"passBeansUp",null),t}(CV),WNe=function(){var n=function(t,e){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])},n(t,e)};return function(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");n(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}}(),J_=function(n,t,e,r){var i=arguments.length,o=i<3?t:r===null?r=Object.getOwnPropertyDescriptor(t,e):r,a;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(n,t,e,r);else for(var s=n.length-1;s>=0;s--)(a=n[s])&&(o=(i<3?a(o):i>3?a(t,e,o):a(t,e))||o);return i>3&&o&&Object.defineProperty(t,e,o),o},qF=function(n){WNe(t,n);function t(e){return n.call(this,e,"pivot")||this}return t.prototype.passBeansUp=function(){n.prototype.setBeans.call(this,{gridOptionsService:this.gridOptionsService,eventService:this.eventService,context:this.getContext(),loggerFactory:this.loggerFactory,dragAndDropService:this.dragAndDropService});var e=this.localeService.getLocaleTextFunc(),r=e("pivotColumnsEmptyMessage","Drag here to set column labels"),i=e("pivots","Column Labels");n.prototype.init.call(this,{dragAndDropIcon:St.ICON_GROUP,icon:A.createIconNoSpan("pivotPanel",this.gridOptionsService,null),emptyMessage:r,title:i}),this.addManagedListener(this.eventService,T.EVENT_NEW_COLUMNS_LOADED,this.refresh.bind(this)),this.addManagedListener(this.eventService,T.EVENT_COLUMN_PIVOT_CHANGED,this.refresh.bind(this)),this.addManagedListener(this.eventService,T.EVENT_COLUMN_PIVOT_MODE_CHANGED,this.checkVisibility.bind(this)),this.refresh()},t.prototype.getAriaLabel=function(){var e=this.localeService.getLocaleTextFunc(),r=e("ariaPivotDropZonePanelLabel","Column Labels");return r},t.prototype.getTooltipParams=function(){var e=n.prototype.getTooltipParams.call(this);return e.location="pivotColumnsList",e},t.prototype.refresh=function(){this.checkVisibility(),this.refreshGui()},t.prototype.checkVisibility=function(){var e=this.columnModel.isPivotMode();if(this.isHorizontal())switch(this.gridOptionsService.get("pivotPanelShow")){case"always":this.setDisplayed(e);break;case"onlyWhenPivoting":var r=this.columnModel.isPivotActive();this.setDisplayed(e&&r);break;default:this.setDisplayed(!1);break}else this.setDisplayed(e)},t.prototype.isColumnDroppable=function(e,r){return this.gridOptionsService.get("functionsReadOnly")||!e.isPrimary()?!1:e.isAllowPivot()&&(!e.isPivotActive()||this.isSourceEventFromTarget(r))},t.prototype.updateColumns=function(e){if(this.gridOptionsService.get("functionsPassive")){var r={type:T.EVENT_COLUMN_PIVOT_CHANGE_REQUEST,columns:e};this.eventService.dispatchEvent(r)}else this.columnModel.setPivotColumns(e,"toolPanelUi")},t.prototype.getIconName=function(){return this.isPotentialDndColumns()?St.ICON_PIVOT:St.ICON_NOT_ALLOWED},t.prototype.getExistingColumns=function(){return this.columnModel.getPivotColumns()},J_([E("columnModel")],t.prototype,"columnModel",void 0),J_([E("loggerFactory")],t.prototype,"loggerFactory",void 0),J_([E("dragAndDropService")],t.prototype,"dragAndDropService",void 0),J_([z],t.prototype,"passBeansUp",null),t}(CV),UNe=function(){var n=function(t,e){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])},n(t,e)};return function(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");n(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}}(),RU=function(n,t,e,r){var i=arguments.length,o=i<3?t:r===null?r=Object.getOwnPropertyDescriptor(t,e):r,a;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(n,t,e,r);else for(var s=n.length-1;s>=0;s--)(a=n[s])&&(o=(i<3?a(o):i>3?a(t,e,o):a(t,e))||o);return i>3&&o&&Object.defineProperty(t,e,o),o},zNe=function(n){UNe(t,n);function t(){return n.call(this)||this}return t.prototype.postConstruct=function(){var e=this;this.setGui(this.createNorthPanel()),this.addManagedListener(this.eventService,T.EVENT_COLUMN_ROW_GROUP_CHANGED,function(){return e.onRowGroupChanged()}),this.addManagedListener(this.eventService,T.EVENT_NEW_COLUMNS_LOADED,function(){return e.onRowGroupChanged()}),this.addManagedPropertyListener("rowGroupPanelShow",function(){return e.onRowGroupChanged()}),this.addManagedPropertyListener("pivotPanelShow",function(){return e.onPivotPanelShow()}),this.onRowGroupChanged()},t.prototype.createNorthPanel=function(){var e=this,r=document.createElement("div");return r.classList.add("ag-column-drop-wrapper"),A.setAriaRole(r,"presentation"),this.rowGroupComp=new XF(!0),this.createManagedBean(this.rowGroupComp),this.pivotComp=new qF(!0),this.createManagedBean(this.pivotComp),r.appendChild(this.rowGroupComp.getGui()),r.appendChild(this.pivotComp.getGui()),this.addManagedListener(this.rowGroupComp,ae.EVENT_DISPLAYED_CHANGED,function(){return e.onDropPanelVisible()}),this.addManagedListener(this.pivotComp,ae.EVENT_DISPLAYED_CHANGED,function(){return e.onDropPanelVisible()}),this.onDropPanelVisible(),r},t.prototype.onDropPanelVisible=function(){var e=this.rowGroupComp.isDisplayed()&&this.pivotComp.isDisplayed();this.rowGroupComp.addOrRemoveCssClass("ag-column-drop-horizontal-half-width",e),this.pivotComp.addOrRemoveCssClass("ag-column-drop-horizontal-half-width",e)},t.prototype.onRowGroupChanged=function(){if(this.rowGroupComp){var e=this.gridOptionsService.get("rowGroupPanelShow");if(e==="always")this.rowGroupComp.setDisplayed(!0);else if(e==="onlyWhenGrouping"){var r=!this.columnModel.isRowGroupEmpty();this.rowGroupComp.setDisplayed(r)}else this.rowGroupComp.setDisplayed(!1)}},t.prototype.onPivotPanelShow=function(){if(this.pivotComp){var e=this.gridOptionsService.get("pivotPanelShow");if(e==="always")this.pivotComp.setDisplayed(!0);else if(e==="onlyWhenPivoting"){var r=this.columnModel.isPivotActive();this.pivotComp.setDisplayed(r)}else this.pivotComp.setDisplayed(!1)}},RU([E("columnModel")],t.prototype,"columnModel",void 0),RU([z],t.prototype,"postConstruct",null),t}(ae),KNe=function(){var n=function(t,e){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])},n(t,e)};return function(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");n(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}}(),HD=function(n,t,e,r){var i=arguments.length,o=i<3?t:r===null?r=Object.getOwnPropertyDescriptor(t,e):r,a;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(n,t,e,r);else for(var s=n.length-1;s>=0;s--)(a=n[s])&&(o=(i<3?a(o):i>3?a(t,e,o):a(t,e))||o);return i>3&&o&&Object.defineProperty(t,e,o),o},YNe=function(n){KNe(t,n);function t(){return n!==null&&n.apply(this,arguments)||this}return t.prototype.execute=function(e){var r=this,i=this.columnModel.isPivotMode(),o=this.filterManager.isAggregateFilterPresent()||this.filterManager.isAggregateQuickFilterPresent(),a=function(p){return!p.node.group},s=function(p){return p.node.leafGroup},l=this.gridOptionsService.getGroupAggFiltering()||(i?s:a),u=e.changedPath,c=function(p,h){h===void 0&&(h=!1),p.childrenAfterFilter&&(p.childrenAfterAggFilter=p.childrenAfterFilter,h&&p.childrenAfterAggFilter.forEach(function(f){return c(f,h)}),r.setAllChildrenCount(p)),p.sibling&&(p.sibling.childrenAfterAggFilter=p.childrenAfterAggFilter)},d=function(p){var h;p.childrenAfterAggFilter=((h=p.childrenAfterFilter)===null||h===void 0?void 0:h.filter(function(f){var v,g=l({node:f});if(g){var y=r.filterManager.doesRowPassAggregateFilters({rowNode:f});if(y)return c(f,!0),!0}var m=(v=f.childrenAfterAggFilter)===null||v===void 0?void 0:v.length;return m}))||null,r.setAllChildrenCount(p),p.sibling&&(p.sibling.childrenAfterAggFilter=p.childrenAfterAggFilter)};u.forEachChangedNodeDepthFirst(o?d:c,!0)},t.prototype.setAllChildrenCountTreeData=function(e){var r=0;e.childrenAfterAggFilter.forEach(function(i){r++,r+=i.allChildrenCount}),e.setAllChildrenCount(r)},t.prototype.setAllChildrenCountGridGrouping=function(e){var r=0;e.childrenAfterAggFilter.forEach(function(i){i.group?r+=i.allChildrenCount:r++}),e.setAllChildrenCount(r)},t.prototype.setAllChildrenCount=function(e){if(!e.hasChildren()){e.setAllChildrenCount(null);return}this.gridOptionsService.get("treeData")?this.setAllChildrenCountTreeData(e):this.setAllChildrenCountGridGrouping(e)},HD([E("filterManager")],t.prototype,"filterManager",void 0),HD([E("columnModel")],t.prototype,"columnModel",void 0),t=HD([ie("filterAggregatesStage")],t),t}(X),XNe="31.1.1",qNe=function(){var n=function(t,e){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])},n(t,e)};return function(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");n(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}}(),hm=function(n,t,e,r){var i=arguments.length,o=i<3?t:r===null?r=Object.getOwnPropertyDescriptor(t,e):r,a;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(n,t,e,r);else for(var s=n.length-1;s>=0;s--)(a=n[s])&&(o=(i<3?a(o):i>3?a(t,e,o):a(t,e))||o);return i>3&&o&&Object.defineProperty(t,e,o),o},ZF=function(n){qNe(t,n);function t(){return n.call(this,`
            <div class="ag-group-filter">
                <div ref="eGroupField"></div>
                <div ref="eUnderlyingFilter"></div>
            </div>
        `)||this}return t.prototype.postConstruct=function(){this.initialiseTabGuard({})},t.prototype.init=function(e){var r=this;return this.params=e,this.validateParams(),this.updateGroups().then(function(){r.addManagedListener(r.eventService,T.EVENT_COLUMN_ROW_GROUP_CHANGED,function(){return r.onColumnRowGroupChanged()})})},t.prototype.validateParams=function(){var e=this.params.colDef;e.field&&A.warnOnce('Group Column Filter does not work with the colDef property "field". This property will be ignored.'),e.filterValueGetter&&A.warnOnce('Group Column Filter does not work with the colDef property "filterValueGetter". This property will be ignored.'),e.filterParams&&A.warnOnce('Group Column Filter does not work with the colDef property "filterParams". This property will be ignored.')},t.prototype.updateGroups=function(){var e=this.updateGroupField();return this.getUnderlyingFilters(e)},t.prototype.getSourceColumns=function(){if(this.groupColumn=this.params.column,this.gridOptionsService.get("treeData"))return A.warnOnce("Group Column Filter does not work with Tree Data enabled. Please disable Tree Data, or use a different filter."),[];var e=this.columnModel.getSourceColumnsForGroupColumn(this.groupColumn);return e||(A.warnOnce("Group Column Filter only works on group columns. Please use a different filter."),[])},t.prototype.updateGroupField=function(){var e=this;A.clearElement(this.eGroupField),this.eGroupFieldSelect&&this.destroyBean(this.eGroupFieldSelect);var r=this.getSourceColumns(),i=r.filter(function(o){return o.isFilterAllowed()});return i.length?(r.length===1?(this.selectedColumn=i[0],A.setDisplayed(this.eGroupField,!1)):((!this.selectedColumn||!i.some(function(o){return o.getId()===e.selectedColumn.getId()}))&&(this.selectedColumn=i[0]),this.createGroupFieldSelectElement(i),this.eGroupField.appendChild(this.eGroupFieldSelect.getGui()),this.eGroupField.appendChild(A.loadTemplate('<div class="ag-filter-separator"></div>')),A.setDisplayed(this.eGroupField,!0)),i):(this.selectedColumn=void 0,A.setDisplayed(this.eGroupField,!1),null)},t.prototype.createGroupFieldSelectElement=function(e){var r=this;this.eGroupFieldSelect=this.createManagedBean(new ru);var i=this.localeService.getLocaleTextFunc();this.eGroupFieldSelect.setLabel(i("groupFilterSelect","Select field:")),this.eGroupFieldSelect.setLabelAlignment("top"),this.eGroupFieldSelect.addOptions(e.map(function(o){var a;return{value:o.getId(),text:(a=r.columnModel.getDisplayNameForColumn(o,"groupFilter",!1))!==null&&a!==void 0?a:void 0}})),this.eGroupFieldSelect.setValue(this.selectedColumn.getId()),this.eGroupFieldSelect.onValueChange(function(o){return r.updateSelectedColumn(o)}),this.eGroupFieldSelect.addCssClass("ag-group-filter-field-select-wrapper"),e.length===1&&this.eGroupFieldSelect.setDisabled(!0)},t.prototype.getUnderlyingFilters=function(e){var r=this;if(!e)return this.filterColumnPairs=void 0,this.selectedFilter=void 0,this.groupColumn.setFilterActive(!1,"columnRowGroupChanged"),tt.resolve();var i=[],o=[];return e.forEach(function(a){var s=r.filterManager.getOrCreateFilterWrapper(a,"COLUMN_MENU");s!=null&&s.filterPromise&&i.push(s.filterPromise.then(function(l){return l&&o.push({filter:l,column:a}),a.getId()===r.selectedColumn.getId()&&(r.selectedFilter=l??void 0),l}))}),tt.all(i).then(function(){r.filterColumnPairs=o,r.groupColumn.setFilterActive(r.isFilterActive(),"columnRowGroupChanged")})},t.prototype.addUnderlyingFilterElement=function(){var e=this;if(A.clearElement(this.eUnderlyingFilter),!this.selectedColumn)return tt.resolve();var r=this.filterManager.getOrCreateFilterWrapper(this.selectedColumn,"COLUMN_MENU");return r?r.guiPromise.then(function(i){var o;e.eUnderlyingFilter.appendChild(i),(o=r.filterPromise)===null||o===void 0||o.then(function(a){var s,l;(s=a==null?void 0:a.afterGuiAttached)===null||s===void 0||s.call(a,e.afterGuiAttachedParams),!(!((l=e.afterGuiAttachedParams)===null||l===void 0)&&l.suppressFocus)&&e.eGroupFieldSelect&&!e.eGroupFieldSelect.isDisabled()&&e.eGroupFieldSelect.getFocusableElement().focus()})}):tt.resolve()},t.prototype.updateSelectedColumn=function(e){var r,i;if(e){(i=(r=this.selectedFilter)===null||r===void 0?void 0:r.afterGuiDetached)===null||i===void 0||i.call(r);var o=this.getFilterColumnPair(e);this.selectedColumn=o==null?void 0:o.column,this.selectedFilter=o==null?void 0:o.filter,this.dispatchEvent({type:t.EVENT_SELECTED_COLUMN_CHANGED}),this.addUnderlyingFilterElement()}},t.prototype.isFilterActive=function(){var e;return!!(!((e=this.filterColumnPairs)===null||e===void 0)&&e.some(function(r){var i=r.filter;return i.isFilterActive()}))},t.prototype.doesFilterPass=function(){return!0},t.prototype.getModel=function(){return null},t.prototype.setModel=function(){return tt.resolve()},t.prototype.afterGuiAttached=function(e){this.afterGuiAttachedParams=e,this.addUnderlyingFilterElement()},t.prototype.afterGuiDetached=function(){var e,r;A.clearElement(this.eUnderlyingFilter),(r=(e=this.selectedFilter)===null||e===void 0?void 0:e.afterGuiDetached)===null||r===void 0||r.call(e)},t.prototype.onColumnRowGroupChanged=function(){var e=this;this.updateGroups().then(function(){e.dispatchEvent({type:t.EVENT_COLUMN_ROW_GROUP_CHANGED}),e.eventService.dispatchEvent({type:"filterAllowedUpdated"})})},t.prototype.getFilterColumnPair=function(e){var r;if(e)return(r=this.filterColumnPairs)===null||r===void 0?void 0:r.find(function(i){var o=i.column;return o.getId()===e})},t.prototype.getSelectedFilter=function(){return this.selectedFilter},t.prototype.getSelectedColumn=function(){return this.selectedColumn},t.prototype.isFilterAllowed=function(){return!!this.selectedColumn},t.prototype.destroy=function(){n.prototype.destroy.call(this)},t.EVENT_COLUMN_ROW_GROUP_CHANGED="columnRowGroupChanged",t.EVENT_SELECTED_COLUMN_CHANGED="selectedColumnChanged",hm([E("filterManager")],t.prototype,"filterManager",void 0),hm([E("columnModel")],t.prototype,"columnModel",void 0),hm([j("eGroupField")],t.prototype,"eGroupField",void 0),hm([j("eUnderlyingFilter")],t.prototype,"eUnderlyingFilter",void 0),hm([z],t.prototype,"postConstruct",null),t}(Cc),ZNe=function(){var n=function(t,e){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])},n(t,e)};return function(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");n(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}}(),jD=function(n,t,e,r){var i=arguments.length,o=i<3?t:r===null?r=Object.getOwnPropertyDescriptor(t,e):r,a;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(n,t,e,r);else for(var s=n.length-1;s>=0;s--)(a=n[s])&&(o=(i<3?a(o):i>3?a(t,e,o):a(t,e))||o);return i>3&&o&&Object.defineProperty(t,e,o),o},QNe=function(n){ZNe(t,n);function t(){var e=n.call(this,`
            <div ref="eFloatingFilter" class="ag-group-floating-filter ag-floating-filter-input" role="presentation"></div>
        `)||this;return e.haveAddedColumnListeners=!1,e}return t.prototype.init=function(e){var r=this;this.params=e;var i=this.gridOptionsService.get("groupDisplayType")==="multipleColumns";return new tt(function(o){r.params.parentFilterInstance(function(a){r.parentFilterInstance=a,i?r.setupUnderlyingFloatingFilterElement().then(function(){return o()}):(r.setupReadOnlyFloatingFilterElement(),o())})}).then(function(){r.addManagedListener(r.parentFilterInstance,ZF.EVENT_SELECTED_COLUMN_CHANGED,function(){return r.onSelectedColumnChanged()}),r.addManagedListener(r.parentFilterInstance,ZF.EVENT_COLUMN_ROW_GROUP_CHANGED,function(){return r.onColumnRowGroupChanged()})})},t.prototype.onParamsUpdated=function(e){this.refresh(e)},t.prototype.refresh=function(e){this.params=e,this.setParams()},t.prototype.setParams=function(){var e,r=this.columnModel.getDisplayNameForColumn(this.params.column,"header",!0),i=this.localeService.getLocaleTextFunc();(e=this.eFloatingFilterText)===null||e===void 0||e.setInputAriaLabel("".concat(r," ").concat(i("ariaFilterInput","Filter Input")))},t.prototype.setupReadOnlyFloatingFilterElement=function(){var e=this;this.eFloatingFilterText||(this.eFloatingFilterText=this.createManagedBean(new su),this.eFloatingFilterText.setDisabled(!0).addGuiEventListener("click",function(){return e.params.showParentFilter()}),this.setParams()),this.updateDisplayedValue(),this.eFloatingFilter.appendChild(this.eFloatingFilterText.getGui())},t.prototype.setupUnderlyingFloatingFilterElement=function(){var e=this;this.showingUnderlyingFloatingFilter=!1,this.underlyingFloatingFilter=void 0,A.clearElement(this.eFloatingFilter);var r=this.parentFilterInstance.getSelectedColumn();if(r&&!r.isVisible()){var i=this.filterManager.getFloatingFilterCompDetails(r,this.params.showParentFilter);if(i)return this.compDetails=i,this.haveAddedColumnListeners||(this.haveAddedColumnListeners=!0,this.addManagedListener(r,rt.EVENT_VISIBLE_CHANGED,this.onColumnVisibleChanged.bind(this)),this.addManagedListener(r,rt.EVENT_COL_DEF_CHANGED,this.onColDefChanged.bind(this))),i.newAgStackInstance().then(function(o){var a,s;e.underlyingFloatingFilter=o,(a=e.underlyingFloatingFilter)===null||a===void 0||a.onParentModelChanged((s=e.parentFilterInstance.getSelectedFilter())===null||s===void 0?void 0:s.getModel()),e.appendChild(o.getGui()),e.showingUnderlyingFloatingFilter=!0})}return this.setupReadOnlyFloatingFilterElement(),tt.resolve()},t.prototype.onColumnVisibleChanged=function(){this.setupUnderlyingFloatingFilterElement()},t.prototype.onColDefChanged=function(e){var r,i,o;if(e.column){var a=this.filterManager.getFloatingFilterCompDetails(e.column,this.params.showParentFilter);a&&(!((r=this.underlyingFloatingFilter)===null||r===void 0)&&r.refresh?this.underlyingFloatingFilter.refresh(a.params):(o=(i=this.underlyingFloatingFilter)===null||i===void 0?void 0:i.onParamsUpdated)===null||o===void 0||o.call(i,a.params))}},t.prototype.onParentModelChanged=function(e,r){var i,o;this.showingUnderlyingFloatingFilter?(i=this.underlyingFloatingFilter)===null||i===void 0||i.onParentModelChanged((o=this.parentFilterInstance.getSelectedFilter())===null||o===void 0?void 0:o.getModel(),r):this.updateDisplayedValue()},t.prototype.updateDisplayedValue=function(){if(!(!this.parentFilterInstance||!this.eFloatingFilterText)){var e=this.parentFilterInstance.getSelectedFilter();if(!e){this.eFloatingFilterText.setValue(""),this.eFloatingFilterText.setDisplayed(!1);return}if(this.eFloatingFilterText.setDisplayed(!0),e.getModelAsString){var r=e.getModel();this.eFloatingFilterText.setValue(r==null?"":e.getModelAsString(r))}else this.eFloatingFilterText.setValue("")}},t.prototype.onSelectedColumnChanged=function(){this.showingUnderlyingFloatingFilter||this.updateDisplayedValue()},t.prototype.onColumnRowGroupChanged=function(){this.showingUnderlyingFloatingFilter||this.updateDisplayedValue()},t.prototype.destroy=function(){n.prototype.destroy.call(this)},jD([E("columnModel")],t.prototype,"columnModel",void 0),jD([E("filterManager")],t.prototype,"filterManager",void 0),jD([j("eFloatingFilter")],t.prototype,"eFloatingFilter",void 0),t}(ae),OZ={version:XNe,moduleName:pe.RowGroupingModule,beans:[ENe,YNe,ONe,TNe,ANe,LNe],agStackComponents:[{componentName:"AgGridHeaderDropZones",componentClass:zNe}],userComponents:[{componentName:"agGroupColumnFilter",componentClass:ZF},{componentName:"agGroupColumnFloatingFilter",componentClass:QNe}],dependantModules:[jn]},JNe=function(){var n=function(t,e){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])},n(t,e)};return function(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");n(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}}(),ex=function(n,t,e,r){var i=arguments.length,o=i<3?t:r===null?r=Object.getOwnPropertyDescriptor(t,e):r,a;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(n,t,e,r);else for(var s=n.length-1;s>=0;s--)(a=n[s])&&(o=(i<3?a(o):i>3?a(t,e,o):a(t,e))||o);return i>3&&o&&Object.defineProperty(t,e,o),o},TU=function(n){JNe(t,n);function t(e){return n.call(this,e,"aggregation")||this}return t.prototype.passBeansUp=function(){n.prototype.setBeans.call(this,{gridOptionsService:this.gridOptionsService,eventService:this.eventService,context:this.getContext(),loggerFactory:this.loggerFactory,dragAndDropService:this.dragAndDropService});var e=this.localeService.getLocaleTextFunc(),r=e("valueColumnsEmptyMessage","Drag here to aggregate"),i=e("values","Values");n.prototype.init.call(this,{dragAndDropIcon:St.ICON_AGGREGATE,icon:A.createIconNoSpan("valuePanel",this.gridOptionsService,null),emptyMessage:r,title:i}),this.addManagedListener(this.eventService,T.EVENT_COLUMN_VALUE_CHANGED,this.refreshGui.bind(this))},t.prototype.getAriaLabel=function(){var e=this.localeService.getLocaleTextFunc(),r=e("ariaValuesDropZonePanelLabel","Values");return r},t.prototype.getTooltipParams=function(){var e=n.prototype.getTooltipParams.call(this);return e.location="valueColumnsList",e},t.prototype.getIconName=function(){return this.isPotentialDndColumns()?St.ICON_AGGREGATE:St.ICON_NOT_ALLOWED},t.prototype.isColumnDroppable=function(e,r){return this.gridOptionsService.get("functionsReadOnly")||!e.isPrimary()?!1:e.isAllowValue()&&(!e.isValueActive()||this.isSourceEventFromTarget(r))},t.prototype.updateColumns=function(e){if(this.gridOptionsService.get("functionsPassive")){var r={type:T.EVENT_COLUMN_VALUE_CHANGE_REQUEST,columns:e};this.eventService.dispatchEvent(r)}else this.columnModel.setValueColumns(e,"toolPanelUi")},t.prototype.getExistingColumns=function(){return this.columnModel.getValueColumns()},ex([E("columnModel")],t.prototype,"columnModel",void 0),ex([E("loggerFactory")],t.prototype,"loggerFactory",void 0),ex([E("dragAndDropService")],t.prototype,"dragAndDropService",void 0),ex([z],t.prototype,"passBeansUp",null),t}(CV),eke=function(){var n=function(t,e){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])},n(t,e)};return function(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");n(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}}(),PU=function(n,t,e,r){var i=arguments.length,o=i<3?t:r===null?r=Object.getOwnPropertyDescriptor(t,e):r,a;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(n,t,e,r);else for(var s=n.length-1;s>=0;s--)(a=n[s])&&(o=(i<3?a(o):i>3?a(t,e,o):a(t,e))||o);return i>3&&o&&Object.defineProperty(t,e,o),o},SV=function(n){eke(t,n);function t(){return n.call(this,t.TEMPLATE)||this}return t.prototype.init=function(e,r,i){this.allowDragging=e,this.params=r,this.eventType=i,this.primaryColsHeaderPanel.init(this.params);var o=this.params.suppressColumnFilter,a=this.params.suppressColumnSelectAll,s=this.params.suppressColumnExpandAll;s&&o&&a&&this.primaryColsHeaderPanel.setDisplayed(!1),this.addManagedListener(this.primaryColsListPanel,"groupExpanded",this.onGroupExpanded.bind(this)),this.addManagedListener(this.primaryColsListPanel,"selectionChanged",this.onSelectionChange.bind(this)),this.primaryColsListPanel.init(this.params,this.allowDragging,this.eventType),this.addManagedListener(this.primaryColsHeaderPanel,"expandAll",this.onExpandAll.bind(this)),this.addManagedListener(this.primaryColsHeaderPanel,"collapseAll",this.onCollapseAll.bind(this)),this.addManagedListener(this.primaryColsHeaderPanel,"selectAll",this.onSelectAll.bind(this)),this.addManagedListener(this.primaryColsHeaderPanel,"unselectAll",this.onUnselectAll.bind(this)),this.addManagedListener(this.primaryColsHeaderPanel,"filterChanged",this.onFilterChanged.bind(this)),this.positionableFeature=new Vw(this.getGui(),{minHeight:100}),this.createManagedBean(this.positionableFeature)},t.prototype.toggleResizable=function(e){this.positionableFeature.setResizable(e?{bottom:!0}:!1)},t.prototype.onExpandAll=function(){this.primaryColsListPanel.doSetExpandedAll(!0)},t.prototype.onCollapseAll=function(){this.primaryColsListPanel.doSetExpandedAll(!1)},t.prototype.expandGroups=function(e){this.primaryColsListPanel.setGroupsExpanded(!0,e)},t.prototype.collapseGroups=function(e){this.primaryColsListPanel.setGroupsExpanded(!1,e)},t.prototype.setColumnLayout=function(e){this.primaryColsListPanel.setColumnLayout(e)},t.prototype.onFilterChanged=function(e){this.primaryColsListPanel.setFilterText(e.filterText)},t.prototype.syncLayoutWithGrid=function(){this.primaryColsListPanel.onColumnsChanged()},t.prototype.onSelectAll=function(){this.primaryColsListPanel.doSetSelectedAll(!0)},t.prototype.onUnselectAll=function(){this.primaryColsListPanel.doSetSelectedAll(!1)},t.prototype.onGroupExpanded=function(e){this.primaryColsHeaderPanel.setExpandState(e.state),this.params.onStateUpdated()},t.prototype.onSelectionChange=function(e){this.primaryColsHeaderPanel.setSelectionState(e.state)},t.prototype.getExpandedGroups=function(){return this.primaryColsListPanel.getExpandedGroups()},t.TEMPLATE=`<div class="ag-column-select">
            <ag-primary-cols-header ref="primaryColsHeaderPanel"></ag-primary-cols-header>
            <ag-primary-cols-list ref="primaryColsListPanel"></ag-primary-cols-list>
        </div>`,PU([j("primaryColsHeaderPanel")],t.prototype,"primaryColsHeaderPanel",void 0),PU([j("primaryColsListPanel")],t.prototype,"primaryColsListPanel",void 0),t}(ae),tke=function(){var n=function(t,e){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])},n(t,e)};return function(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");n(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}}(),hO=function(){return hO=Object.assign||function(n){for(var t,e=1,r=arguments.length;e<r;e++){t=arguments[e];for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(n[i]=t[i])}return n},hO.apply(this,arguments)},rke=function(n){tke(t,n);function t(){var e=n.call(this,t.TEMPLATE)||this;return e.initialised=!1,e.childDestroyFuncs=[],e}return t.prototype.setVisible=function(e){n.prototype.setDisplayed.call(this,e),e&&!this.initialised&&this.init(this.params)},t.prototype.init=function(e){var r=this,i=this.gridOptionsService.addGridCommonParams({suppressColumnMove:!1,suppressColumnSelectAll:!1,suppressColumnFilter:!1,suppressColumnExpandAll:!1,contractColumnSelection:!1,suppressPivotMode:!1,suppressRowGroups:!1,suppressValues:!1,suppressPivots:!1,suppressSyncLayoutWithGrid:!1});if(this.params=hO(hO({},i),e),this.isRowGroupingModuleLoaded()&&!this.params.suppressPivotMode&&(this.pivotModePanel=this.createBean(new CU),this.childDestroyFuncs.push(function(){return r.destroyBean(r.pivotModePanel)}),this.appendChild(this.pivotModePanel)),this.primaryColsPanel=this.createBean(new SV),this.childDestroyFuncs.push(function(){return r.destroyBean(r.primaryColsPanel)}),this.primaryColsPanel.init(!0,this.params,"toolPanelUi"),this.primaryColsPanel.addCssClass("ag-column-panel-column-select"),this.appendChild(this.primaryColsPanel),this.isRowGroupingModuleLoaded()){this.params.suppressRowGroups||(this.rowGroupDropZonePanel=this.createBean(new XF(!1)),this.childDestroyFuncs.push(function(){return r.destroyBean(r.rowGroupDropZonePanel)}),this.appendChild(this.rowGroupDropZonePanel)),this.params.suppressValues||(this.valuesDropZonePanel=this.createBean(new TU(!1)),this.childDestroyFuncs.push(function(){return r.destroyBean(r.valuesDropZonePanel)}),this.appendChild(this.valuesDropZonePanel)),this.params.suppressPivots||(this.pivotDropZonePanel=this.createBean(new qF(!1)),this.childDestroyFuncs.push(function(){return r.destroyBean(r.pivotDropZonePanel)}),this.appendChild(this.pivotDropZonePanel)),this.setLastVisible();var o=this.addManagedListener(this.eventService,T.EVENT_COLUMN_PIVOT_MODE_CHANGED,function(){r.resetChildrenHeight(),r.setLastVisible()});this.childDestroyFuncs.push(function(){return o()})}this.initialised=!0},t.prototype.setPivotModeSectionVisible=function(e){var r=this;this.isRowGroupingModuleLoaded()&&(this.pivotModePanel?this.pivotModePanel.setDisplayed(e):e&&(this.pivotModePanel=this.createBean(new CU),this.getGui().insertBefore(this.pivotModePanel.getGui(),this.getGui().firstChild),this.childDestroyFuncs.push(function(){return r.destroyBean(r.pivotModePanel)})),this.setLastVisible())},t.prototype.setRowGroupsSectionVisible=function(e){this.isRowGroupingModuleLoaded()&&(this.rowGroupDropZonePanel?this.rowGroupDropZonePanel.setDisplayed(e):e&&(this.rowGroupDropZonePanel=this.createManagedBean(new XF(!1)),this.appendChild(this.rowGroupDropZonePanel)),this.setLastVisible())},t.prototype.setValuesSectionVisible=function(e){this.isRowGroupingModuleLoaded()&&(this.valuesDropZonePanel?this.valuesDropZonePanel.setDisplayed(e):e&&(this.valuesDropZonePanel=this.createManagedBean(new TU(!1)),this.appendChild(this.valuesDropZonePanel)),this.setLastVisible())},t.prototype.setPivotSectionVisible=function(e){this.isRowGroupingModuleLoaded()&&(this.pivotDropZonePanel?this.pivotDropZonePanel.setDisplayed(e):e&&(this.pivotDropZonePanel=this.createManagedBean(new qF(!1)),this.appendChild(this.pivotDropZonePanel),this.pivotDropZonePanel.setDisplayed(e)),this.setLastVisible())},t.prototype.setResizers=function(){[this.primaryColsPanel,this.rowGroupDropZonePanel,this.valuesDropZonePanel,this.pivotDropZonePanel].forEach(function(e){if(e){var r=e.getGui();e.toggleResizable(!r.classList.contains("ag-last-column-drop")&&!r.classList.contains("ag-hidden"))}})},t.prototype.setLastVisible=function(){var e=this.getGui(),r=Array.prototype.slice.call(e.querySelectorAll(".ag-column-drop"));r.forEach(function(a){return a.classList.remove("ag-last-column-drop")});var i=e.querySelectorAll(".ag-column-drop:not(.ag-hidden)"),o=A.last(i);o&&o.classList.add("ag-last-column-drop"),this.setResizers()},t.prototype.resetChildrenHeight=function(){for(var e=this.getGui(),r=e.children,i=0;i<r.length;i++){var o=r[i];o.style.removeProperty("height"),o.style.removeProperty("flex")}},t.prototype.isRowGroupingModuleLoaded=function(){return He.__assertRegistered(pe.RowGroupingModule,"Row Grouping",this.context.getGridId())},t.prototype.expandColumnGroups=function(e){this.primaryColsPanel.expandGroups(e)},t.prototype.collapseColumnGroups=function(e){this.primaryColsPanel.collapseGroups(e)},t.prototype.setColumnLayout=function(e){this.primaryColsPanel.setColumnLayout(e)},t.prototype.syncLayoutWithGrid=function(){this.primaryColsPanel.syncLayoutWithGrid()},t.prototype.destroyChildren=function(){this.childDestroyFuncs.forEach(function(e){return e()}),this.childDestroyFuncs.length=0,A.clearElement(this.getGui())},t.prototype.refresh=function(e){return this.destroyChildren(),this.init(e),!0},t.prototype.getState=function(){return{expandedGroupIds:this.primaryColsPanel.getExpandedGroups()}},t.prototype.destroy=function(){this.destroyChildren(),n.prototype.destroy.call(this)},t.TEMPLATE='<div class="ag-column-panel"></div>',t}(ae),nke=function(){var n=function(t,e){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])},n(t,e)};return function(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");n(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}}(),AU=function(n,t,e,r){var i=arguments.length,o=i<3?t:r===null?r=Object.getOwnPropertyDescriptor(t,e):r,a;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(n,t,e,r);else for(var s=n.length-1;s>=0;s--)(a=n[s])&&(o=(i<3?a(o):i>3?a(t,e,o):a(t,e))||o);return i>3&&o&&Object.defineProperty(t,e,o),o},RZ=function(n){nke(t,n);function t(){var e=n.call(this,'<div class="ag-tool-panel-horizontal-resize"></div>')||this;return e.minWidth=100,e.maxWidth=null,e}return t.prototype.setElementToResize=function(e){this.elementToResize=e},t.prototype.postConstruct=function(){var e=this.horizontalResizeService.addResizeBar({eResizeBar:this.getGui(),dragStartPixels:1,onResizeStart:this.onResizeStart.bind(this),onResizing:this.onResizing.bind(this),onResizeEnd:this.onResizeEnd.bind(this)});this.addDestroyFunc(e),this.setInverted(this.gridOptionsService.get("enableRtl"))},t.prototype.dispatchResizeEvent=function(e,r,i){var o={type:T.EVENT_TOOL_PANEL_SIZE_CHANGED,width:i,started:e,ended:r};this.eventService.dispatchEvent(o)},t.prototype.onResizeStart=function(){this.startingWidth=this.elementToResize.offsetWidth,this.dispatchResizeEvent(!0,!1,this.startingWidth)},t.prototype.onResizeEnd=function(e){return this.onResizing(e,!0)},t.prototype.onResizing=function(e,r){r===void 0&&(r=!1);var i=this.inverted?-1:1,o=Math.max(this.minWidth,Math.floor(this.startingWidth-e*i));this.maxWidth!=null&&(o=Math.min(this.maxWidth,o)),this.elementToResize.style.width="".concat(o,"px"),this.dispatchResizeEvent(!1,r,o)},t.prototype.setInverted=function(e){this.inverted=e},t.prototype.setMaxWidth=function(e){this.maxWidth=e},t.prototype.setMinWidth=function(e){e!=null?this.minWidth=e:this.minWidth=100},AU([E("horizontalResizeService")],t.prototype,"horizontalResizeService",void 0),AU([z],t.prototype,"postConstruct",null),t}(ae),ike=function(){var n=function(t,e){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])},n(t,e)};return function(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");n(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}}(),tx=function(n,t,e,r){var i=arguments.length,o=i<3?t:r===null?r=Object.getOwnPropertyDescriptor(t,e):r,a;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(n,t,e,r);else for(var s=n.length-1;s>=0;s--)(a=n[s])&&(o=(i<3?a(o):i>3?a(t,e,o):a(t,e))||o);return i>3&&o&&Object.defineProperty(t,e,o),o},DU=function(n){ike(t,n);function t(e){var r=n.call(this)||this;return r.toolPanelDef=e,r}return t.prototype.getToolPanelId=function(){return this.toolPanelDef.id},t.prototype.postConstruct=function(){var e=this.createTemplate();this.setTemplate(e),this.setLabel(),this.setIcon(),this.addManagedListener(this.eToggleButton,"click",this.onButtonPressed.bind(this)),this.eToggleButton.setAttribute("id","ag-".concat(this.getCompId(),"-button"))},t.prototype.createTemplate=function(){var e=`<div class="ag-side-button" role="presentation">
                <button type="button" ref="eToggleButton" tabindex="-1" role="tab" aria-expanded="false" class="ag-button ag-side-button-button">
                    <div ref="eIconWrapper" class="ag-side-button-icon-wrapper" aria-hidden="true"></div>
                    <span ref ="eLabel" class="ag-side-button-label"></span>
                </button>
            </div>`;return e},t.prototype.setLabel=function(){var e=this.localeService.getLocaleTextFunc(),r=this.toolPanelDef,i=e(r.labelKey,r.labelDefault);this.eLabel.innerText=i},t.prototype.setIcon=function(){this.eIconWrapper.insertAdjacentElement("afterbegin",A.createIconNoSpan(this.toolPanelDef.iconKey,this.gridOptionsService))},t.prototype.onButtonPressed=function(){this.dispatchEvent({type:t.EVENT_TOGGLE_BUTTON_CLICKED})},t.prototype.setSelected=function(e){this.addOrRemoveCssClass("ag-selected",e),A.setAriaExpanded(this.eToggleButton,e)},t.prototype.getButtonElement=function(){return this.eToggleButton},t.EVENT_TOGGLE_BUTTON_CLICKED="toggleButtonClicked",tx([j("eToggleButton")],t.prototype,"eToggleButton",void 0),tx([j("eIconWrapper")],t.prototype,"eIconWrapper",void 0),tx([j("eLabel")],t.prototype,"eLabel",void 0),tx([z],t.prototype,"postConstruct",null),t}(ae),oke=function(){var n=function(t,e){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])},n(t,e)};return function(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");n(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}}(),rx=function(n,t,e,r){var i=arguments.length,o=i<3?t:r===null?r=Object.getOwnPropertyDescriptor(t,e):r,a;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(n,t,e,r);else for(var s=n.length-1;s>=0;s--)(a=n[s])&&(o=(i<3?a(o):i>3?a(t,e,o):a(t,e))||o);return i>3&&o&&Object.defineProperty(t,e,o),o},TZ=function(n){oke(t,n);function t(){var e=n.call(this,t.TEMPLATE)||this;return e.buttonComps=[],e}return t.prototype.postConstruct=function(){this.addManagedListener(this.getFocusableElement(),"keydown",this.handleKeyDown.bind(this))},t.prototype.handleKeyDown=function(e){if(!(e.key!==U.TAB||!e.shiftKey)){var r=A.last(this.columnModel.getAllDisplayedColumns());this.focusService.focusGridView(r,!0)&&e.preventDefault()}},t.prototype.setActiveButton=function(e){this.buttonComps.forEach(function(r){r.setSelected(e===r.getToolPanelId())})},t.prototype.addButtonComp=function(e){var r=this,i=this.createBean(new DU(e));return this.buttonComps.push(i),this.appendChild(i),i.addEventListener(DU.EVENT_TOGGLE_BUTTON_CLICKED,function(){r.dispatchEvent({type:t.EVENT_SIDE_BAR_BUTTON_CLICKED,toolPanelId:e.id})}),i},t.prototype.clearButtons=function(){this.buttonComps=this.destroyBeans(this.buttonComps),A.clearElement(this.getGui())},t.EVENT_SIDE_BAR_BUTTON_CLICKED="sideBarButtonClicked",t.TEMPLATE='<div class="ag-side-buttons" role="tablist"></div>',rx([E("focusService")],t.prototype,"focusService",void 0),rx([E("columnModel")],t.prototype,"columnModel",void 0),rx([z],t.prototype,"postConstruct",null),rx([ar],t.prototype,"clearButtons",null),t}(ae),MU=function(){function n(){}return n.parse=function(t){if(t){if(t===!0)return{toolPanels:[n.DEFAULT_COLUMN_COMP,n.DEFAULT_FILTER_COMP],defaultToolPanel:"columns"};if(typeof t=="string")return n.parse([t]);if(Array.isArray(t)){var e=[];return t.forEach(function(i){var o=n.DEFAULT_BY_KEY[i];if(!o){console.warn("AG Grid: the key ".concat(i," is not a valid key for specifying a tool panel, valid keys are: ").concat(Object.keys(n.DEFAULT_BY_KEY).join(",")));return}e.push(o)}),e.length===0?void 0:{toolPanels:e,defaultToolPanel:e[0].id}}var r={toolPanels:n.parseComponents(t.toolPanels),defaultToolPanel:t.defaultToolPanel,hiddenByDefault:t.hiddenByDefault,position:t.position};return r}},n.parseComponents=function(t){var e=[];return t&&t.forEach(function(r){var i=null;if(typeof r=="string"){var o=n.DEFAULT_BY_KEY[r];if(!o){console.warn("AG Grid: the key ".concat(r," is not a valid key for specifying a tool panel, valid keys are: ").concat(Object.keys(n.DEFAULT_BY_KEY).join(",")));return}i=o}else i=r;e.push(i)}),e},n.DEFAULT_COLUMN_COMP={id:"columns",labelDefault:"Columns",labelKey:"columns",iconKey:"columns",toolPanel:"agColumnsToolPanel"},n.DEFAULT_FILTER_COMP={id:"filters",labelDefault:"Filters",labelKey:"filters",iconKey:"filter",toolPanel:"agFiltersToolPanel"},n.DEFAULT_BY_KEY={columns:n.DEFAULT_COLUMN_COMP,filters:n.DEFAULT_FILTER_COMP},n}(),ake=function(){var n=function(t,e){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])},n(t,e)};return function(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");n(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}}(),LU=function(n,t,e,r){var i=arguments.length,o=i<3?t:r===null?r=Object.getOwnPropertyDescriptor(t,e):r,a;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(n,t,e,r);else for(var s=n.length-1;s>=0;s--)(a=n[s])&&(o=(i<3?a(o):i>3?a(t,e,o):a(t,e))||o);return i>3&&o&&Object.defineProperty(t,e,o),o},ske=function(n){ake(t,n);function t(){return n.call(this,t.TEMPLATE)||this}return t.prototype.setupResize=function(){var e=this.getGui(),r=this.resizeBar=this.createManagedBean(new RZ);e.setAttribute("id","ag-".concat(this.getCompId())),r.setElementToResize(e),this.appendChild(r)},t.prototype.getToolPanelId=function(){return this.toolPanelId},t.prototype.setToolPanelDef=function(e,r){var i=e.id,o=e.minWidth,a=e.maxWidth,s=e.width;this.toolPanelId=i,this.width=s;var l=this.userComponentFactory.getToolPanelCompDetails(e,r),u=l.newAgStackInstance();if(this.params=l.params,u==null){console.warn("AG Grid: error processing tool panel component ".concat(i,". You need to specify 'toolPanel'"));return}u.then(this.setToolPanelComponent.bind(this)),o!=null&&this.resizeBar.setMinWidth(o),a!=null&&this.resizeBar.setMaxWidth(a)},t.prototype.setToolPanelComponent=function(e){var r=this;this.toolPanelCompInstance=e,this.appendChild(e.getGui()),this.addDestroyFunc(function(){r.destroyBean(e)}),this.width&&(this.getGui().style.width="".concat(this.width,"px"))},t.prototype.getToolPanelInstance=function(){return this.toolPanelCompInstance},t.prototype.setResizerSizerSide=function(e){var r=this.gridOptionsService.get("enableRtl"),i=e==="left",o=r?i:!i;this.resizeBar.setInverted(o)},t.prototype.refresh=function(){this.toolPanelCompInstance.refresh(this.params)},t.TEMPLATE='<div class="ag-tool-panel-wrapper" role="tabpanel"/>',LU([E("userComponentFactory")],t.prototype,"userComponentFactory",void 0),LU([z],t.prototype,"setupResize",null),t}(ae),lke=function(){var n=function(t,e){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])},n(t,e)};return function(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");n(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}}(),fO=function(){return fO=Object.assign||function(n){for(var t,e=1,r=arguments.length;e<r;e++){t=arguments[e];for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(n[i]=t[i])}return n},fO.apply(this,arguments)},fm=function(n,t,e,r){var i=arguments.length,o=i<3?t:r===null?r=Object.getOwnPropertyDescriptor(t,e):r,a;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(n,t,e,r);else for(var s=n.length-1;s>=0;s--)(a=n[s])&&(o=(i<3?a(o):i>3?a(t,e,o):a(t,e))||o);return i>3&&o&&Object.defineProperty(t,e,o),o},uke=function(n){var t=typeof Symbol=="function"&&Symbol.iterator,e=t&&n[t],r=0;if(e)return e.call(n);if(n&&typeof n.length=="number")return{next:function(){return n&&r>=n.length&&(n=void 0),{value:n&&n[r++],done:!n}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")},cke=function(n){lke(t,n);function t(){var e=n.call(this,t.TEMPLATE)||this;return e.toolPanelWrappers=[],e}return t.prototype.postConstruct=function(){var e;this.sideBarButtonsComp.addEventListener(TZ.EVENT_SIDE_BAR_BUTTON_CLICKED,this.onToolPanelButtonClicked.bind(this));var r=((e=this.gridOptionsService.get("initialState"))!==null&&e!==void 0?e:{}).sideBar;this.setSideBarDef({sideBarDef:MU.parse(this.gridOptionsService.get("sideBar")),sideBarState:r}),this.addManagedPropertyListener("sideBar",this.onSideBarUpdated.bind(this)),this.sideBarService.registerSideBarComp(this),this.createManagedBean(new au(this.getFocusableElement(),{onTabKeyDown:this.onTabKeyDown.bind(this),handleKeyDown:this.handleKeyDown.bind(this)}))},t.prototype.onTabKeyDown=function(e){if(!e.defaultPrevented){var r=this,i=r.focusService,o=r.sideBarButtonsComp,a=this.getGui(),s=o.getGui(),l=this.gridOptionsService.getDocument(),u=l.activeElement,c=a.querySelector(".ag-tool-panel-wrapper:not(.ag-hidden)"),d=e.target;if(c){if(s.contains(u)){i.focusInto(c,e.shiftKey)&&e.preventDefault();return}if(e.shiftKey){var p=null;c.contains(u)?p=this.focusService.findNextFocusableElement(c,void 0,!0):i.isTargetUnderManagedComponent(c,d)&&e.shiftKey&&(p=this.focusService.findFocusableElementBeforeTabGuard(c,d)),p||(p=s.querySelector(".ag-selected button")),p&&p!==e.target&&(e.preventDefault(),p.focus())}}}},t.prototype.handleKeyDown=function(e){var r=this.gridOptionsService.getDocument();if(this.sideBarButtonsComp.getGui().contains(r.activeElement)){var i=this.sideBarButtonsComp.getGui(),o=Array.prototype.slice.call(i.querySelectorAll(".ag-side-button")),a=r.activeElement,s=o.findIndex(function(c){return c.contains(a)}),l=null;switch(e.key){case U.LEFT:case U.UP:l=Math.max(0,s-1);break;case U.RIGHT:case U.DOWN:l=Math.min(s+1,o.length-1);break}if(l!==null){var u=o[l].querySelector("button");u&&(u.focus(),e.preventDefault())}}},t.prototype.onToolPanelButtonClicked=function(e){var r=e.toolPanelId,i=this.openedItem();i===r?this.openToolPanel(void 0,"sideBarButtonClicked"):this.openToolPanel(r,"sideBarButtonClicked")},t.prototype.clearDownUi=function(){this.sideBarButtonsComp.clearButtons(),this.destroyToolPanelWrappers()},t.prototype.setSideBarDef=function(e){var r=e.sideBarDef,i=e.sideBarState,o=e.existingToolPanelWrappers;if(this.setDisplayed(!1),this.sideBar=r,this.sideBar&&this.sideBar.toolPanels){var a=this.sideBar.toolPanels;if(this.createToolPanelsAndSideButtons(a,i,o),!this.toolPanelWrappers.length)return;var s=i?i.visible:!this.sideBar.hiddenByDefault;if(this.setDisplayed(s),this.setSideBarPosition(i?i.position:this.sideBar.position),s)if(i){var l=i.openToolPanel;l&&this.openToolPanel(l,"sideBarInitializing")}else this.openToolPanel(this.sideBar.defaultToolPanel,"sideBarInitializing")}},t.prototype.getDef=function(){return this.sideBar},t.prototype.setSideBarPosition=function(e){e||(e="right"),this.position=e;var r=e==="left",i=r?"right":"left";return this.addOrRemoveCssClass("ag-side-bar-left",r),this.addOrRemoveCssClass("ag-side-bar-right",!r),this.toolPanelWrappers.forEach(function(o){o.setResizerSizerSide(i)}),this.eventService.dispatchEvent({type:T.EVENT_SIDE_BAR_UPDATED}),this},t.prototype.setDisplayed=function(e,r){n.prototype.setDisplayed.call(this,e,r),this.eventService.dispatchEvent({type:T.EVENT_SIDE_BAR_UPDATED})},t.prototype.getState=function(){var e={};return this.toolPanelWrappers.forEach(function(r){var i,o;e[r.getToolPanelId()]=(o=(i=r.getToolPanelInstance())===null||i===void 0?void 0:i.getState)===null||o===void 0?void 0:o.call(i)}),{visible:this.isDisplayed(),position:this.position,openToolPanel:this.openedItem(),toolPanels:e}},t.prototype.createToolPanelsAndSideButtons=function(e,r,i){var o,a,s;try{for(var l=uke(e),u=l.next();!u.done;u=l.next()){var c=u.value;this.createToolPanelAndSideButton(c,(s=r==null?void 0:r.toolPanels)===null||s===void 0?void 0:s[c.id],i==null?void 0:i[c.id])}}catch(d){o={error:d}}finally{try{u&&!u.done&&(a=l.return)&&a.call(l)}finally{if(o)throw o.error}}},t.prototype.validateDef=function(e){if(e.id==null)return console.warn("AG Grid: please review all your toolPanel components, it seems like at least one of them doesn't have an id"),!1;if(e.toolPanel==="agColumnsToolPanel"){var r=!He.__assertRegistered(pe.ColumnsToolPanelModule,"Column Tool Panel",this.context.getGridId());if(r)return!1}if(e.toolPanel==="agFiltersToolPanel"){var r=!He.__assertRegistered(pe.FiltersToolPanelModule,"Filters Tool Panel",this.context.getGridId());if(r)return!1;if(this.filterManager.isAdvancedFilterEnabled())return A.warnOnce("Advanced Filter does not work with Filters Tool Panel. Filters Tool Panel has been disabled."),!1}return!0},t.prototype.createToolPanelAndSideButton=function(e,r,i){var o=this;if(this.validateDef(e)){var a=this.sideBarButtonsComp.addButtonComp(e),s;i?s=i:(s=this.getContext().createBean(new ske),s.setToolPanelDef(e,{initialState:r,onStateUpdated:function(){return o.eventService.dispatchEvent({type:T.EVENT_SIDE_BAR_UPDATED})}})),s.setDisplayed(!1);var l=s.getGui();this.appendChild(l),this.toolPanelWrappers.push(s),A.setAriaControls(a.getButtonElement(),l)}},t.prototype.refresh=function(){this.toolPanelWrappers.forEach(function(e){return e.refresh()})},t.prototype.openToolPanel=function(e,r){r===void 0&&(r="api");var i=this.openedItem();if(i!==e){this.toolPanelWrappers.forEach(function(s){var l=e===s.getToolPanelId();s.setDisplayed(l)});var o=this.openedItem(),a=i!==o;a&&(this.sideBarButtonsComp.setActiveButton(e),this.raiseToolPanelVisibleEvent(e,i??void 0,r))}},t.prototype.getToolPanelInstance=function(e){var r=this.toolPanelWrappers.filter(function(i){return i.getToolPanelId()===e})[0];if(!r){console.warn("AG Grid: unable to lookup Tool Panel as invalid key supplied: ".concat(e));return}return r.getToolPanelInstance()},t.prototype.raiseToolPanelVisibleEvent=function(e,r,i){var o=!!e&&!!r;if(r){var a={type:T.EVENT_TOOL_PANEL_VISIBLE_CHANGED,source:i,key:r,visible:!1,switchingToolPanel:o};this.eventService.dispatchEvent(a)}if(e){var s={type:T.EVENT_TOOL_PANEL_VISIBLE_CHANGED,source:i,key:e,visible:!0,switchingToolPanel:o};this.eventService.dispatchEvent(s)}},t.prototype.close=function(e){e===void 0&&(e="api"),this.openToolPanel(void 0,e)},t.prototype.isToolPanelShowing=function(){return!!this.openedItem()},t.prototype.openedItem=function(){var e=null;return this.toolPanelWrappers.forEach(function(r){r.isDisplayed()&&(e=r.getToolPanelId())}),e},t.prototype.onSideBarUpdated=function(){var e=this,r,i=MU.parse(this.gridOptionsService.get("sideBar")),o={};i&&this.sideBar&&((r=i.toolPanels)===null||r===void 0||r.forEach(function(a){var s,l,u=a.id;if(u){var c=(s=e.sideBar.toolPanels)===null||s===void 0?void 0:s.find(function(f){return f.id===u});if(!(!c||a.toolPanel!==c.toolPanel)){var d=e.toolPanelWrappers.find(function(f){return f.getToolPanelId()===u});if(d){var p=e.gridOptionsService.addGridCommonParams(fO(fO({},(l=a.toolPanelParams)!==null&&l!==void 0?l:{}),{onStateUpdated:function(){return e.eventService.dispatchEvent({type:T.EVENT_SIDE_BAR_UPDATED})}})),h=d.getToolPanelInstance().refresh(p);h===!0&&(e.toolPanelWrappers=e.toolPanelWrappers.filter(function(f){return f!==d}),A.removeFromParent(d.getGui()),o[u]=d)}}}})),this.clearDownUi(),this.setSideBarDef({sideBarDef:i,existingToolPanelWrappers:o})},t.prototype.destroyToolPanelWrappers=function(){var e=this;this.toolPanelWrappers.forEach(function(r){A.removeFromParent(r.getGui()),e.destroyBean(r)}),this.toolPanelWrappers.length=0},t.prototype.destroy=function(){this.destroyToolPanelWrappers(),n.prototype.destroy.call(this)},t.TEMPLATE=`<div class="ag-side-bar ag-unselectable">
            <ag-side-bar-buttons ref="sideBarButtons"></ag-side-bar-buttons>
        </div>`,fm([E("focusService")],t.prototype,"focusService",void 0),fm([E("filterManager")],t.prototype,"filterManager",void 0),fm([E("sideBarService")],t.prototype,"sideBarService",void 0),fm([j("sideBarButtons")],t.prototype,"sideBarButtonsComp",void 0),fm([z],t.prototype,"postConstruct",null),t}(ae),dke=function(){var n=function(t,e){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])},n(t,e)};return function(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");n(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}}(),FU=function(n,t,e,r){var i=arguments.length,o=i<3?t:r===null?r=Object.getOwnPropertyDescriptor(t,e):r,a;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(n,t,e,r);else for(var s=n.length-1;s>=0;s--)(a=n[s])&&(o=(i<3?a(o):i>3?a(t,e,o):a(t,e))||o);return i>3&&o&&Object.defineProperty(t,e,o),o},pke=function(n){dke(t,n);function t(){var e=n!==null&&n.apply(this,arguments)||this;return e.isColGroupDef=function(r){return r&&typeof r.children<"u"},e.getId=function(r){return e.isColGroupDef(r)?r.groupId:r.colId},e}return t.prototype.createColumnTree=function(e){var r=this,i=[],o=function(s,l){if(r.isColGroupDef(s)){var u=s,c=typeof u.groupId<"u"?u.groupId:u.headerName,d=new Rt(u,c,!1,l),p=[];return u.children.forEach(function(g){var y=o(g,l+1);y&&p.push(y)}),d.setChildren(p),d}else{var h=s,f=h.colId?h.colId:h.field,v=r.columnModel.getPrimaryColumn(f);return v||i.push(h),v}},a=[];return e.forEach(function(s){var l=o(s,0);l&&a.push(l)}),i.length>0&&console.warn("AG Grid: unable to find grid columns for the supplied colDef(s):",i),a},t.prototype.syncLayoutWithGrid=function(e){var r=this.getLeafPathTrees(),i=this.mergeLeafPathTrees(r);e(i)},t.prototype.getLeafPathTrees=function(){var e=function(o,a){var s;if(o instanceof Rt)if(o.isPadding())s=a;else{var l=Object.assign({},o.getColGroupDef());l.groupId=o.getGroupId(),l.children=[a],s=l}else{var u=Object.assign({},o.getColDef());u.colId=o.getColId(),s=u}var c=o.getOriginalParent();return c?e(c,s):s},r=this.columnModel.getAllGridColumns(),i=r.filter(function(o){var a=o.getColDef();return o.isPrimary()&&!a.showRowGroup});return i.map(function(o){return e(o,o.getColDef())})},t.prototype.mergeLeafPathTrees=function(e){for(var r=this,i=function(c,d){var p=r.isColGroupDef(c)&&r.isColGroupDef(d);return p&&r.getId(c)===r.getId(d)},o=function(c,d){if(!r.isColGroupDef(d))return c;var p=c,h=d;if(h.children&&h.groupId){var f=r.addChildrenToGroup(p,h.groupId,h.children[0]);if(f)return p}return h.children.forEach(function(v){return o(p,v)}),p},a=[],s=1;s<=e.length;s++){var l=e[s-1],u=e[s];i(l,u)?e[s]=o(l,u):a.push(l)}return a},t.prototype.addChildrenToGroup=function(e,r,i){var o=this,a=function(d,p){var h=d.children.map(o.getId),f=A.includes(h,o.getId(p)),v=A.last(d.children),g=v&&o.getId(v)!==o.getId(p);return f&&g};if(!this.isColGroupDef(e))return!0;var s=e,l=i;if(a(s,l))return s.children.push(l),!0;if(s.groupId===r){var u=s.children.map(this.getId),c=A.includes(u,this.getId(l));if(!c)return s.children.push(l),!0}return s.children.forEach(function(d){return o.addChildrenToGroup(d,r,i)}),!1},FU([E("columnModel")],t.prototype,"columnModel",void 0),t=FU([ie("toolPanelColDefService")],t),t}(X),hke="31.1.1",fke=function(){var n=function(t,e){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])},n(t,e)};return function(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");n(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}}(),vke=function(n,t,e,r){var i=arguments.length,o=i<3?t:r===null?r=Object.getOwnPropertyDescriptor(t,e):r,a;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(n,t,e,r);else for(var s=n.length-1;s>=0;s--)(a=n[s])&&(o=(i<3?a(o):i>3?a(t,e,o):a(t,e))||o);return i>3&&o&&Object.defineProperty(t,e,o),o},gke=function(n){fke(t,n);function t(){return n!==null&&n.apply(this,arguments)||this}return t.prototype.registerSideBarComp=function(e){this.sideBarComp=e},t.prototype.getSideBarComp=function(){return this.sideBarComp},t=vke([ie("sideBarService")],t),t}(X),wV={version:hke,moduleName:pe.SideBarModule,beans:[pke,gke],agStackComponents:[{componentName:"AgHorizontalResize",componentClass:RZ},{componentName:"AgSideBar",componentClass:cke},{componentName:"AgSideBarButtons",componentClass:TZ}],dependantModules:[jn]},vm=function(n,t,e,r){var i=arguments.length,o=i<3?t:r===null?r=Object.getOwnPropertyDescriptor(t,e):r,a;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(n,t,e,r);else for(var s=n.length-1;s>=0;s--)(a=n[s])&&(o=(i<3?a(o):i>3?a(t,e,o):a(t,e))||o);return i>3&&o&&Object.defineProperty(t,e,o),o},yke=function(){function n(){}return n.prototype.selectAllChildren=function(t,e,r){var i=this.extractAllLeafColumns(t);this.setAllColumns(i,e,r)},n.prototype.setColumn=function(t,e,r){this.setAllColumns([t],e,r)},n.prototype.setAllColumns=function(t,e,r){this.columnModel.isPivotMode()?this.setAllPivot(t,e,r):this.setAllVisible(t,e,r)},n.prototype.extractAllLeafColumns=function(t){var e=[],r=function(i){i.forEach(function(o){o.isPassesFilter()&&(o.isGroup()?r(o.getChildren()):e.push(o.getColumn()))})};return r(t),e},n.prototype.setAllVisible=function(t,e,r){var i=[];t.forEach(function(o){o.getColDef().lockVisible||o.isVisible()!=e&&i.push({colId:o.getId(),hide:!e})}),i.length>0&&this.columnModel.applyColumnState({state:i},r)},n.prototype.setAllPivot=function(t,e,r){this.gridOptionsService.get("functionsPassive")?this.setAllPivotPassive(t,e):this.setAllPivotActive(t,e,r)},n.prototype.setAllPivotPassive=function(t,e){var r=this.columnModel.getPivotColumns().slice(),i=this.columnModel.getValueColumns().slice(),o=this.columnModel.getRowGroupColumns().slice(),a=!1,s=!1,l=!1,u=function(v){v.isAnyFunctionActive()||(v.isAllowValue()?(i.push(v),s=!0):v.isAllowRowGroup()?(o.push(v),a=!0):v.isAllowPivot()&&(r.push(v),l=!0))},c=function(v){v.isAnyFunctionActive()&&(r.indexOf(v)>=0&&(A.removeFromArray(r,v),a=!0),i.indexOf(v)>=0&&(A.removeFromArray(i,v),s=!0),o.indexOf(v)>=0&&(A.removeFromArray(o,v),l=!0))},d=e?u:c;if(t.forEach(d),a){var p={type:T.EVENT_COLUMN_PIVOT_CHANGE_REQUEST,columns:r};this.eventService.dispatchEvent(p)}if(l){var h={type:T.EVENT_COLUMN_ROW_GROUP_CHANGE_REQUEST,columns:o};this.eventService.dispatchEvent(h)}if(s){var f={type:T.EVENT_COLUMN_VALUE_CHANGE_REQUEST,columns:o};this.eventService.dispatchEvent(f)}},n.prototype.setAllPivotActive=function(t,e,r){var i=this,o=[],a=function(u){if(!u.isAnyFunctionActive())if(u.isAllowValue()){var c=typeof u.getAggFunc()=="string"?u.getAggFunc():i.aggFuncService.getDefaultAggFunc(u);o.push({colId:u.getId(),aggFunc:c})}else u.isAllowRowGroup()?o.push({colId:u.getId(),rowGroup:!0}):u.isAllowPivot()&&o.push({colId:u.getId(),pivot:!0})},s=function(u){var c=u.isPivotActive()||u.isRowGroupActive()||u.isValueActive();c&&o.push({colId:u.getId(),pivot:!1,rowGroup:!1,aggFunc:null})},l=e?a:s;t.forEach(l),o.length>0&&this.columnModel.applyColumnState({state:o},r)},n.prototype.updateColumns=function(t){var e=this,r=t.columns,i=t.visibleState,o=t.pivotState,a=t.eventType,s=r.map(function(l){var u=l.getColId();if(e.columnModel.isPivotMode()){var c=o==null?void 0:o[u];return{colId:u,pivot:c==null?void 0:c.pivot,rowGroup:c==null?void 0:c.rowGroup,aggFunc:c==null?void 0:c.aggFunc}}else return{colId:u,hide:!(i!=null&&i[u])}});this.columnModel.applyColumnState({state:s},a)},n.prototype.createPivotState=function(t){return{pivot:t.isPivotActive(),rowGroup:t.isRowGroupActive(),aggFunc:t.isValueActive()?t.getAggFunc():void 0}},vm([E("aggFuncService")],n.prototype,"aggFuncService",void 0),vm([E("columnModel")],n.prototype,"columnModel",void 0),vm([E("gridOptionsService")],n.prototype,"gridOptionsService",void 0),vm([E("eventService")],n.prototype,"eventService",void 0),n=vm([ie("modelItemUtils")],n),n}(),mke="31.1.1",Cke={version:mke,moduleName:pe.ColumnsToolPanelModule,beans:[yke],agStackComponents:[{componentName:"AgPrimaryColsHeader",componentClass:lNe},{componentName:"AgPrimaryColsList",componentClass:wNe},{componentName:"AgPrimaryCols",componentClass:SV}],userComponents:[{componentName:"agColumnsToolPanel",componentClass:rke}],dependantModules:[jn,OZ,wV]},Ske={getTemplate:function(n){var t=new Date,e=t.toJSON();return{name:"cp:coreProperties",properties:{prefixedAttributes:[{prefix:"xmlns:",map:{cp:"http://schemas.openxmlformats.org/package/2006/metadata/core-properties",dc:"http://purl.org/dc/elements/1.1/",dcterms:"http://purl.org/dc/terms/",dcmitype:"http://purl.org/dc/dcmitype/",xsi:"http://www.w3.org/2001/XMLSchema-instance"}}]},children:[{name:"dc:creator",textNode:n},{name:"dc:title",textNode:"Workbook"},{name:"dcterms:created",properties:{rawMap:{"xsi:type":"dcterms:W3CDTF"}},textNode:e},{name:"dcterms:modified",properties:{rawMap:{"xsi:type":"dcterms:W3CDTF"}},textNode:e}]}}},wke={getTemplate:function(n){var t=n.name,e=n.ContentType,r=n.Extension,i=n.PartName;return{name:t,properties:{rawMap:{Extension:r,PartName:i,ContentType:e}}}}},$D=function(n,t){var e=typeof Symbol=="function"&&n[Symbol.iterator];if(!e)return n;var r=e.call(n),i,o=[],a;try{for(;(t===void 0||t-- >0)&&!(i=r.next()).done;)o.push(i.value)}catch(s){a={error:s}}finally{try{i&&!i.done&&(e=r.return)&&e.call(r)}finally{if(a)throw a.error}}return o},Qf=function(n,t,e){if(e||arguments.length===2)for(var r=0,i=t.length,o;r<i;r++)(o||!(r in t))&&(o||(o=Array.prototype.slice.call(t,0,r)),o[r]=t[r]);return n.concat(o||Array.prototype.slice.call(t))},_ke={getTemplate:function(n){var t=new Array(n).fill(void 0).map(function(s,l){return{name:"Override",ContentType:"application/vnd.openxmlformats-officedocument.spreadsheetml.worksheet+xml",PartName:"/xl/worksheets/sheet".concat(l+1,".xml")}}),e=ur.worksheetImages.size,r={};ur.workbookImageIds.forEach(function(s){r[s.type]=!0});var i=new Array(e).fill(void 0).map(function(s,l){return{name:"Override",ContentType:"application/vnd.openxmlformats-officedocument.drawing+xml",PartName:"/xl/drawings/drawing".concat(l+1,".xml")}}),o=Object.keys(r).map(function(s){return{name:"Default",ContentType:"image/".concat(s),Extension:s}}),a=Qf(Qf(Qf(Qf(Qf(Qf([],$D(o),!1),[{name:"Default",Extension:"rels",ContentType:"application/vnd.openxmlformats-package.relationships+xml"},{name:"Default",ContentType:"application/xml",Extension:"xml"},{name:"Override",ContentType:"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet.main+xml",PartName:"/xl/workbook.xml"}],!1),$D(t),!1),[{name:"Override",ContentType:"application/vnd.openxmlformats-officedocument.theme+xml",PartName:"/xl/theme/theme1.xml"},{name:"Override",ContentType:"application/vnd.openxmlformats-officedocument.spreadsheetml.styles+xml",PartName:"/xl/styles.xml"},{name:"Override",ContentType:"application/vnd.openxmlformats-officedocument.spreadsheetml.sharedStrings+xml",PartName:"/xl/sharedStrings.xml"}],!1),$D(i),!1),[{name:"Override",ContentType:"application/vnd.openxmlformats-package.core-properties+xml",PartName:"/docProps/core.xml"}],!1).map(function(s){return wke.getTemplate(s)});return{name:"Types",properties:{rawMap:{xmlns:"http://schemas.openxmlformats.org/package/2006/content-types"}},children:a}}},xke=9525,IU={0:1,"0.00":2,"#,##0":3,"#,##0.00":4,"0%":9,"0.00%":10,"0.00E+00":11,"# ?/?":12,"# ??/??":13,"mm-dd-yy":14,"d-mmm-yy":15,"d-mmm":16,"mmm-yy":17,"h:mm AM/PM":18,"h:mm:ss AM/PM":19,"h:mm":20,"h:mm:ss":21,"m/d/yy h:mm":22,"#,##0 ;(#,##0)":37,"#,##0 ;[Red](#,##0)":38,"#,##0.00;(#,##0.00)":39,"#,##0.00;[Red](#,##0.00)":40,"mm:ss":45,"[h]:mm:ss":46,"mmss.0":47,"##0.0E+0":48,"@":49},Eke=function(n){return Math.round(n*72/96)},bke=function(n){return Math.round(n*96/72)},Jf=function(n){return Math.ceil(n*xke)},Oke=function(n){if(n!==void 0){var t=["Automatic","Roman","Swiss","Modern","Script","Decorative"],e=t.indexOf(n||"Automatic");return Math.max(e,0)}},pE=function(n,t){if(t){var e;if(typeof t=="number")e=t;else{var r=t;e=r({rowIndex:n})}return Eke(e)}},Rke=function(n,t){var e=n.position,r=e.colSpan,i=e.column;if(n.width)if(r)for(var o=t.slice(i-1,i+r-1),a=0,s=0;s<o.length;s++){var l=o[s].getActualWidth();if(n.width<a+l){n.position.colSpan=s+1,n.totalWidth=n.width,n.width=n.totalWidth-a;break}a+=l}else n.totalWidth=n.width},Tke=function(n,t){var e=n.position,r=e.rowSpan,i=e.row;if(n.height)if(r)for(var o=0,a=0,s=i;s<i+r;s++){var l=bke(pE(s,t)||20);if(n.height<o+l){n.position.rowSpan=a+1,n.totalHeight=n.height,n.height=n.totalHeight-o;break}o+=l,a++}else n.totalHeight=n.height},xa=function(n){var t=DF.createHeader({encoding:"UTF-8",standalone:"yes"}),e=DF.createXml(n);return"".concat(t).concat(e)},US=function(n){var t=65,e=26,r=String.fromCharCode,i=Math.floor(n/e),o=n%e;return!i||n===e?r(t+n-1):o?i<e?r(t+i-1)+r(t+o-1):US(i)+r(t+o-1):US(i-1)+"Z"},NU=function(n,t){return{name:"xdr:".concat(n),children:[{name:"xdr:col",textNode:t.col.toString()},{name:"xdr:colOff",textNode:t.offsetX.toString()},{name:"xdr:row",textNode:t.row.toString()},{name:"xdr:rowOff",textNode:t.offsetY.toString()}]}},Pke=function(n){var t=[{name:"a:ext",properties:{rawMap:{uri:"{FF2B5EF4-FFF2-40B4-BE49-F238E27FC236}"}},children:[{name:"a16:creationId",properties:{rawMap:{id:"{822E6D20-D7BC-2841-A643-D49A6EF008A2}","xmlns:a16":"http://schemas.microsoft.com/office/drawing/2014/main"}}}]}],e=n.recolor&&n.recolor.toLowerCase();switch(e){case"grayscale":case"sepia":case"washout":t.push({name:"a:ext",properties:{rawMap:{uri:"{C183D7F6-B498-43B3-948B-1728B52AA6E4}"}},children:[{name:"adec:decorative",properties:{rawMap:{val:"0","xmlns:adec":"http://schemas.microsoft.com/office/drawing/2017/decorative"}}}]})}return{name:"a:extLst",children:t}},Ake=function(n,t){return{name:"xdr:nvPicPr",children:[{name:"xdr:cNvPr",properties:{rawMap:{id:t,name:n.id,descr:n.altText!=null?n.altText:void 0}},children:[Pke(n)]},{name:"xdr:cNvPicPr",properties:{rawMap:{preferRelativeResize:"0"}},children:[{name:"a:picLocks"}]}]}},kU=function(n){if(!(!n.saturation&&!n.tint)){var t=[];return n.saturation&&t.push({name:"a:satMod",properties:{rawMap:{val:n.saturation*1e3}}}),n.tint&&t.push({name:"a:tint",properties:{rawMap:{val:n.tint*1e3}}}),t}},Dke=function(n,t){return{name:"a:duotone",children:[{name:"a:prstClr",properties:{rawMap:{val:n.color}},children:kU(n)},{name:"a:srgbClr",properties:{rawMap:{val:t.color}},children:kU(t)}]}},Mke=function(n,t){var e;if(n.transparency){var r=Math.min(Math.max(n.transparency,0),100);e=[{name:"a:alphaModFix",properties:{rawMap:{amt:1e5-Math.round(r*1e3)}}}]}if(n.recolor)switch(e||(e=[]),n.recolor.toLocaleLowerCase()){case"grayscale":e.push({name:"a:grayscl"});break;case"sepia":e.push(Dke({color:"black"},{color:"D9C3A5",tint:50,saturation:180}));break;case"washout":e.push({name:"a:lum",properties:{rawMap:{bright:"70000",contrast:"-70000"}}});break}return{name:"xdr:blipFill",children:[{name:"a:blip",properties:{rawMap:{cstate:"print","r:embed":"rId".concat(t),"xmlns:r":"http://schemas.openxmlformats.org/officeDocument/2006/relationships"}},children:e},{name:"a:stretch",children:[{name:"a:fillRect"}]}]}},Lke=function(n,t){var e={name:"a:xfrm",children:[{name:"a:off",properties:{rawMap:{x:0,y:0}}},{name:"a:ext",properties:{rawMap:{cx:t.width,cy:t.height}}}]};if(n.rotation){var r=n.rotation;e.properties={rawMap:{rot:Math.min(Math.max(r,0),360)*6e4}}}var i={name:"a:prstGeom",properties:{rawMap:{prst:"rect"}},children:[{name:"a:avLst"}]},o={name:"xdr:spPr",children:[e,i]};return o},Fke=function(n){n.fitCell=!!n.fitCell||!n.width||!n.height;var t=n.position,e=t===void 0?{}:t,r=n.fitCell,i=n.width,o=i===void 0?0:i,a=n.height,s=a===void 0?0:a,l=n.totalHeight,u=n.totalWidth,c=e.offsetX,d=c===void 0?0:c,p=e.offsetY,h=p===void 0?0:p,f=e.row,v=f===void 0?1:f,g=e.rowSpan,y=g===void 0?1:g,m=e.column,C=m===void 0?1:m,S=e.colSpan,w=S===void 0?1:S;return{from:{row:v-1,col:C-1,offsetX:Jf(d),offsetY:Jf(h)},to:{row:v-1+(r?1:y-1),col:C-1+(r?1:w-1),offsetX:Jf(o+d),offsetY:Jf(s+h)},height:Jf(l||s),width:Jf(u||o)}},Ike=function(n,t,e,r){return{name:"xdr:pic",children:[Ake(n,t+1),Mke(n,e+1),Lke(n,r)]}},Nke={getTemplate:function(n){var t=n.sheetIndex,e=ur.worksheetImages.get(t),r=ur.worksheetImageIds.get(t),i=e.map(function(o,a){var s=Fke(o);return{name:"xdr:twoCellAnchor",properties:{rawMap:{editAs:"absolute"}},children:[NU("from",s.from),NU("to",s.to),Ike(o,a,r.get(o.id).index,s),{name:"xdr:clientData"}]}});return{name:"xdr:wsDr",properties:{rawMap:{"xmlns:a":"http://schemas.openxmlformats.org/drawingml/2006/main","xmlns:xdr":"http://schemas.openxmlformats.org/drawingml/2006/spreadsheetDrawing"}},children:i}}},kke=function(n,t){var e=typeof Symbol=="function"&&n[Symbol.iterator];if(!e)return n;var r=e.call(n),i,o=[],a;try{for(;(t===void 0||t-- >0)&&!(i=r.next()).done;)o.push(i.value)}catch(s){a={error:s}}finally{try{i&&!i.done&&(e=r.return)&&e.call(r)}finally{if(a)throw a.error}}return o},Ea=function(n){var t=kke(n,4),e=t[0],r=t[1],i=t[2],o=t[3];return{name:"a:".concat(e),children:[{name:"a:".concat(r),properties:{rawMap:{val:i,lastClr:o}}}]}},Gke={getTemplate:function(){return{name:"a:clrScheme",properties:{rawMap:{name:"Office"}},children:[Ea(["dk1","sysClr","windowText","000000"]),Ea(["lt1","sysClr","window","FFFFFF"]),Ea(["dk2","srgbClr","44546A"]),Ea(["lt2","srgbClr","E7E6E6"]),Ea(["accent1","srgbClr","4472C4"]),Ea(["accent2","srgbClr","ED7D31"]),Ea(["accent3","srgbClr","A5A5A5"]),Ea(["accent4","srgbClr","FFC000"]),Ea(["accent5","srgbClr","5B9BD5"]),Ea(["accent6","srgbClr","70AD47"]),Ea(["hlink","srgbClr","0563C1"]),Ea(["folHlink","srgbClr","954F72"])]}}},Vke=function(n,t){var e=typeof Symbol=="function"&&n[Symbol.iterator];if(!e)return n;var r=e.call(n),i,o=[],a;try{for(;(t===void 0||t-- >0)&&!(i=r.next()).done;)o.push(i.value)}catch(s){a={error:s}}finally{try{i&&!i.done&&(e=r.return)&&e.call(r)}finally{if(a)throw a.error}}return o},ge=function(n){var t=Vke(n,4),e=t[0],r=t[1],i=t[2],o=t[3];return{name:"a:".concat(e),properties:{rawMap:{script:i,typeface:r,panose:o}}}},Bke={getTemplate:function(){return{name:"a:fontScheme",properties:{rawMap:{name:"Office"}},children:[{name:"a:majorFont",children:[ge(["latin","Calibri Light",void 0,"020F0302020204030204"]),ge(["ea",""]),ge(["cs",""]),ge(["font","游ゴシック Light","Jpan"]),ge(["font","맑은 고딕","Hang"]),ge(["font","等线 Light","Hans"]),ge(["font","新細明體","Hant"]),ge(["font","Times New Roman","Arab"]),ge(["font","Times New Roman","Hebr"]),ge(["font","Tahoma","Thai"]),ge(["font","Nyala","Ethi"]),ge(["font","Vrinda","Beng"]),ge(["font","Shruti","Gujr"]),ge(["font","MoolBoran","Khmr"]),ge(["font","Tunga","Knda"]),ge(["font","Raavi","Guru"]),ge(["font","Euphemia","Cans"]),ge(["font","Plantagenet Cherokee","Cher"]),ge(["font","Microsoft Yi Baiti","Yiii"]),ge(["font","Microsoft Himalaya","Tibt"]),ge(["font","MV Boli","Thaa"]),ge(["font","Mangal","Deva"]),ge(["font","Gautami","Telu"]),ge(["font","Latha","Taml"]),ge(["font","Estrangelo Edessa","Syrc"]),ge(["font","Kalinga","Orya"]),ge(["font","Kartika","Mlym"]),ge(["font","DokChampa","Laoo"]),ge(["font","Iskoola Pota","Sinh"]),ge(["font","Mongolian Baiti","Mong"]),ge(["font","Times New Roman","Viet"]),ge(["font","Microsoft Uighur","Uigh"]),ge(["font","Sylfaen","Geor"]),ge(["font","Arial","Armn"]),ge(["font","Leelawadee UI","Bugi"]),ge(["font","Microsoft JhengHei","Bopo"]),ge(["font","Javanese Text","Java"]),ge(["font","Segoe UI","Lisu"]),ge(["font","Myanmar Text","Mymr"]),ge(["font","Ebrima","Nkoo"]),ge(["font","Nirmala UI","Olck"]),ge(["font","Ebrima","Osma"]),ge(["font","Phagspa","Phag"]),ge(["font","Estrangelo Edessa","Syrn"]),ge(["font","Estrangelo Edessa","Syrj"]),ge(["font","Estrangelo Edessa","Syre"]),ge(["font","Nirmala UI","Sora"]),ge(["font","Microsoft Tai Le","Tale"]),ge(["font","Microsoft New Tai Lue","Talu"]),ge(["font","Ebrima","Tfng"])]},{name:"a:minorFont",children:[ge(["latin","Calibri",void 0,"020F0502020204030204"]),ge(["ea",""]),ge(["cs",""]),ge(["font","游ゴシック","Jpan"]),ge(["font","맑은 고딕","Hang"]),ge(["font","等线","Hans"]),ge(["font","新細明體","Hant"]),ge(["font","Arial","Arab"]),ge(["font","Arial","Hebr"]),ge(["font","Tahoma","Thai"]),ge(["font","Nyala","Ethi"]),ge(["font","Vrinda","Beng"]),ge(["font","Shruti","Gujr"]),ge(["font","DaunPenh","Khmr"]),ge(["font","Tunga","Knda"]),ge(["font","Raavi","Guru"]),ge(["font","Euphemia","Cans"]),ge(["font","Plantagenet Cherokee","Cher"]),ge(["font","Microsoft Yi Baiti","Yiii"]),ge(["font","Microsoft Himalaya","Tibt"]),ge(["font","MV Boli","Thaa"]),ge(["font","Mangal","Deva"]),ge(["font","Gautami","Telu"]),ge(["font","Latha","Taml"]),ge(["font","Estrangelo Edessa","Syrc"]),ge(["font","Kalinga","Orya"]),ge(["font","Kartika","Mlym"]),ge(["font","DokChampa","Laoo"]),ge(["font","Iskoola Pota","Sinh"]),ge(["font","Mongolian Baiti","Mong"]),ge(["font","Arial","Viet"]),ge(["font","Microsoft Uighur","Uigh"]),ge(["font","Sylfaen","Geor"]),ge(["font","Arial","Armn"]),ge(["font","Leelawadee UI","Bugi"]),ge(["font","Microsoft JhengHei","Bopo"]),ge(["font","Javanese Text","Java"]),ge(["font","Segoe UI","Lisu"]),ge(["font","Myanmar Text","Mymr"]),ge(["font","Ebrima","Nkoo"]),ge(["font","Nirmala UI","Olck"]),ge(["font","Ebrima","Osma"]),ge(["font","Phagspa","Phag"]),ge(["font","Estrangelo Edessa","Syrn"]),ge(["font","Estrangelo Edessa","Syrj"]),ge(["font","Estrangelo Edessa","Syre"]),ge(["font","Nirmala UI","Sora"]),ge(["font","Microsoft Tai Le","Tale"]),ge(["font","Microsoft New Tai Lue","Talu"]),ge(["font","Ebrima","Tfng"])]}]}}},zS=function(n,t){var e=typeof Symbol=="function"&&n[Symbol.iterator];if(!e)return n;var r=e.call(n),i,o=[],a;try{for(;(t===void 0||t-- >0)&&!(i=r.next()).done;)o.push(i.value)}catch(s){a={error:s}}finally{try{i&&!i.done&&(e=r.return)&&e.call(r)}finally{if(a)throw a.error}}return o},kl=function(n,t,e){return{name:"a:".concat(n),properties:{rawMap:{val:t}},children:e}},WD=function(n){var t=zS(n,6),e=t[0],r=t[1],i=t[2],o=t[3],a=t[4],s=t[5],l=[];return l.push(kl("satMod",i)),o&&l.push(kl("lumMod",o)),a&&l.push(kl("tint",a)),s&&l.push(kl("shade",s)),{name:"a:gs",properties:{rawMap:{pos:e}},children:[{name:"a:schemeClr",properties:{rawMap:{val:r}},children:l}]}},vO=function(n,t){return{name:"a:solidFill",children:[kl("schemeClr",n,t)]}},QF=function(n){var t=zS(n,5),e=t[0],r=t[1],i=t[2],o=t[3],a=t[4],s=zS(a,2),l=s[0],u=s[1];return{name:"a:gradFill",properties:{rawMap:{rotWithShape:e}},children:[{name:"a:gsLst",children:[WD(r),WD(i),WD(o)]},{name:"a:lin",properties:{rawMap:{ang:l,scaled:u}}}]}},UD=function(n){var t=zS(n,4),e=t[0],r=t[1],i=t[2],o=t[3];return{name:"a:ln",properties:{rawMap:{w:e,cap:r,cmpd:i,algn:o}},children:[vO("phClr"),kl("prstDash","solid"),{name:"a:miter",properties:{rawMap:{lim:"800000"}}}]}},zD=function(n){var t=[];if(n){var e=zS(n,5),r=e[0],i=e[1],o=e[2],a=e[3],s=e[4];t.push({name:"a:outerShdw",properties:{rawMap:{blurRad:r,dist:i,dir:o,algn:a,rotWithShape:s}},children:[kl("srgbClr","000000",[kl("alpha","63000")])]})}return{name:"a:effectStyle",children:[Object.assign({},{name:"a:effectLst"},t.length?{children:t}:{})]}},Hke=function(){return{name:"a:fillStyleLst",children:[vO("phClr"),QF(["1",["0","phClr","105000","110000","67000"],["50000","phClr","103000","105000","73000"],["100000","phClr","109000","105000","81000"],["5400000","0"]]),QF(["1",["0","phClr","103000","102000","94000"],["50000","phClr","110000","100000",void 0,"100000"],["100000","phClr","120000","99000",void 0,"78000"],["5400000","0"]])]}},jke=function(){return{name:"a:lnStyleLst",children:[UD(["6350","flat","sng","ctr"]),UD(["12700","flat","sng","ctr"]),UD(["19050","flat","sng","ctr"])]}},$ke=function(){return{name:"a:effectStyleLst",children:[zD(),zD(),zD(["57150","19050","5400000","ctr","0"])]}},Wke=function(){return{name:"a:bgFillStyleLst",children:[vO("phClr"),vO("phClr",[kl("tint","95000"),kl("satMod","170000")]),QF(["1",["0","phClr","150000","102000","93000","98000"],["50000","phClr","130000","103000","98000","90000"],["100000","phClr","120000",void 0,void 0,"63000"],["5400000","0"]])]}},Uke={getTemplate:function(){return{name:"a:fmtScheme",properties:{rawMap:{name:"Office"}},children:[Hke(),jke(),$ke(),Wke()]}}},zke={getTemplate:function(){return{name:"a:themeElements",children:[Gke.getTemplate(),Bke.getTemplate(),Uke.getTemplate()]}}},Kke={getTemplate:function(){return{name:"a:theme",properties:{prefixedAttributes:[{prefix:"xmlns:",map:{a:"http://schemas.openxmlformats.org/drawingml/2006/main"}}],rawMap:{name:"Office Theme"}},children:[zke.getTemplate(),{name:"a:objectDefaults"},{name:"a:extraClrSchemeLst"}]}}},Yke=function(n){var t=typeof Symbol=="function"&&Symbol.iterator,e=t&&n[t],r=0;if(e)return e.call(n);if(n&&typeof n.length=="number")return{next:function(){return n&&r>=n.length&&(n=void 0),{value:n&&n[r++],done:!n}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")},Xke=function(n){var t,e,r=[];try{for(var i=Yke(n.keys()),o=i.next();!o.done;o=i.next()){var a=o.value,s=a.toString(),l={name:"t",textNode:A.escapeString(s)},u=s.trim().length!==s.length;u&&(l.properties={rawMap:{"xml:space":"preserve"}}),r.push({name:"si",children:[l]})}}catch(c){t={error:c}}finally{try{o&&!o.done&&(e=i.return)&&e.call(i)}finally{if(t)throw t.error}}return r},qke={getTemplate:function(n){return{name:"sst",properties:{rawMap:{xmlns:"http://schemas.openxmlformats.org/spreadsheetml/2006/main",count:n.size,uniqueCount:n.size}},children:Xke(n)}}};function Zke(n){for(var t=n.split(/(\[[^\]]*\])/),e=0;e<t.length;e++){var r=t[e];r.length&&(r.startsWith("[")||(r=r.replace(/\$/g,'"$"')),t[e]=A.escapeString(r))}return t.join("")}var Qke={getTemplate:function(n){var t=n.formatCode,e=n.numFmtId;return t.length&&(t=Zke(t)),{name:"numFmt",properties:{rawMap:{formatCode:t,numFmtId:e}}}}},Jke={getTemplate:function(n){return{name:"numFmts",properties:{rawMap:{count:n.length}},children:n.map(function(t){return Qke.getTemplate(t)})}}},eGe={getTemplate:function(n){var t=n.size,e=n.colorTheme,r=n.color,i=r===void 0?"FF000000":r,o=n.fontName,a=o===void 0?"Calibri":o,s=n.family,l=n.scheme,u=n.italic,c=n.bold,d=n.strikeThrough,p=n.outline,h=n.shadow,f=n.underline,v=n.verticalAlign,g=[{name:"sz",properties:{rawMap:{val:t}}},{name:"color",properties:{rawMap:{theme:e,rgb:i}}},{name:"name",properties:{rawMap:{val:a}}}];return s&&g.push({name:"family",properties:{rawMap:{val:s}}}),l&&g.push({name:"scheme",properties:{rawMap:{val:l}}}),u&&g.push({name:"i"}),c&&g.push({name:"b"}),d&&g.push({name:"strike"}),p&&g.push({name:"outline"}),h&&g.push({name:"shadow"}),f&&g.push({name:"u",properties:{rawMap:{val:f}}}),v&&g.push({name:"vertAlign",properties:{rawMap:{val:v}}}),{name:"font",children:g}}},tGe={getTemplate:function(n){return{name:"fonts",properties:{rawMap:{count:n.length}},children:n.map(function(t){return eGe.getTemplate(t)})}}},rGe={getTemplate:function(n){var t=n.patternType,e=n.fgTheme,r=n.fgTint,i=n.fgRgb,o=n.bgRgb,a=n.bgIndexed,s={name:"patternFill",properties:{rawMap:{patternType:t}}};return(e||r||i)&&(s.children=[{name:"fgColor",properties:{rawMap:{theme:e,tint:r,rgb:i}}}]),(a||o)&&(s.children||(s.children=[]),s.children.push({name:"bgColor",properties:{rawMap:{indexed:a,rgb:o}}})),{name:"fill",children:[s]}}},nGe={getTemplate:function(n){return{name:"fills",properties:{rawMap:{count:n.length}},children:n.map(function(t){return rGe.getTemplate(t)})}}},iGe=function(n){switch(n){case 1:return"thin";case 2:return"medium";case 3:return"thick";default:return"hair"}},oGe={None:"None",Dot:"Dotted",Dash:"Dashed",Double:"Double",DashDot:"DashDot",DashDotDot:"DashDotDot",SlantDashDot:"SlantDashDot"},aGe=["Dashed","DashDot","DashDotDot"],sGe={None:"none",Solid:"solid",Gray50:"mediumGray",Gray75:"darkGray",Gray25:"lightGray",HorzStripe:"darkHorizontal",VertStripe:"darkVertical",ReverseDiagStripe:"darkDown",DiagStripe:"darkUp",DiagCross:"darkGrid",ThickDiagCross:"darkTrellis",ThinHorzStripe:"lightHorizontal",ThinVertStripe:"lightVertical",ThinReverseDiagStripe:"lightDown",ThinDiagStripe:"lightUp",ThinHorzCross:"lightGrid",ThinDiagCross:"lightTrellis",Gray125:"gray125",Gray0625:"gray0625"},lGe={Automatic:"general",Left:"left",Center:"center",Right:"right",Fill:"fill",Justify:"justify",CenterAcrossSelection:"centerContinuous",Distributed:"distributed",JustifyDistributed:"justify"},uGe={Automatic:void 0,Top:"top",Bottom:"bottom",Center:"center",Justify:"justify",Distributed:"distributed",JustifyDistributed:"justify"},cGe=function(n){return n?sGe[n]||n:"none"},wd=function(n){return n==null?n:(n.charAt(0)==="#"&&(n=n.substring(1)),n.length===6?"FF"+n:n)},nx=function(n,t){if(!n)return"thin";var e=iGe(t),r=oGe[n];return n==="Continuous"?e:e==="medium"&&aGe.indexOf(r)!==-1?"medium".concat(r):r.charAt(0).toLowerCase()+r.substring(1)},dGe=function(n){return lGe[n]||"general"},pGe=function(n){return uGe[n]||void 0},gm=function(n){return{name:"color",properties:{rawMap:{rgb:wd(n||"#000000")}}}},hGe={getTemplate:function(n){var t=n.left,e=n.right,r=n.top,i=n.bottom,o=n.diagonal,a=t?[gm(t.color)]:void 0,s=e?[gm(e.color)]:void 0,l=r?[gm(r.color)]:void 0,u=i?[gm(i.color)]:void 0,c=o?[gm(o.color)]:void 0;return{name:"border",children:[{name:"left",properties:{rawMap:{style:t&&t.style}},children:a},{name:"right",properties:{rawMap:{style:e&&e.style}},children:s},{name:"top",properties:{rawMap:{style:r&&r.style}},children:l},{name:"bottom",properties:{rawMap:{style:i&&i.style}},children:u},{name:"diagonal",properties:{rawMap:{style:o&&o.style}},children:c}]}}},fGe={getTemplate:function(n){return{name:"borders",properties:{rawMap:{count:n.length}},children:n.map(function(t){return hGe.getTemplate(t)})}}},vGe=function(n){var t=["Context","LeftToRight","RightToLeft"],e=t.indexOf(n);return Math.max(e,0)},gGe={getTemplate:function(n){var t=n.horizontal,e=n.indent,r=n.readingOrder,i=n.rotate,o=n.shrinkToFit,a=n.vertical,s=n.wrapText;return{name:"alignment",properties:{rawMap:{horizontal:t&&dGe(t),indent:e,readingOrder:r&&vGe(r),textRotation:i,shrinkToFit:o,vertical:a&&pGe(a),wrapText:s}}}}},yGe={getTemplate:function(n){var t=n.protected===!1?0:1,e=n.hideFormula===!0?1:0;return{name:"protection",properties:{rawMap:{hidden:e,locked:t}}}}},PZ={getTemplate:function(n){var t=n.alignment,e=n.borderId,r=n.fillId,i=n.fontId,o=n.numFmtId,a=n.protection,s=n.quotePrefix,l=n.xfId,u=[];return t&&u.push(gGe.getTemplate(t)),a&&u.push(yGe.getTemplate(a)),{name:"xf",properties:{rawMap:{applyAlignment:t?1:void 0,applyProtection:a?1:void 0,applyBorder:e?1:void 0,applyFill:r?1:void 0,borderId:e,fillId:r,applyFont:i?1:void 0,fontId:i,applyNumberFormat:o?1:void 0,numFmtId:o,quotePrefix:s?1:void 0,xfId:l}},children:u.length?u:void 0}}},mGe={getTemplate:function(n){return{name:"cellStyleXfs",properties:{rawMap:{count:n.length}},children:n.map(function(t){return PZ.getTemplate(t)})}}},CGe={getTemplate:function(n){return{name:"cellXfs",properties:{rawMap:{count:n.length}},children:n.map(function(t){return PZ.getTemplate(t)})}}},SGe={getTemplate:function(n){var t=n.builtinId,e=n.name,r=n.xfId;return{name:"cellStyle",properties:{rawMap:{builtinId:t,name:e,xfId:r}}}}},wGe={getTemplate:function(n){return{name:"cellStyles",properties:{rawMap:{count:n.length}},children:n.map(function(t){return SGe.getTemplate(t)})}}},gO=function(){return gO=Object.assign||function(n){for(var t,e=1,r=arguments.length;e<r;e++){t=arguments[e];for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(n[i]=t[i])}return n},gO.apply(this,arguments)},yO,Mv,IC,NC,kC,AZ,mO,DZ,JF,MZ=function(n,t){return n.indexOf("mixedStyle")!==-1&&t>1&&(n+="_".concat(t)),n},LZ=function(){yO={base:0},Mv=[],IC=[{fontName:"Calibri",colorTheme:"1",family:"2",scheme:"minor"}],NC=[{patternType:"none"},{patternType:"gray125"}],kC=[{left:void 0,right:void 0,top:void 0,bottom:void 0,diagonal:void 0}],AZ=[{borderId:0,fillId:0,fontId:0,numFmtId:0}],mO=[{borderId:0,fillId:0,fontId:0,numFmtId:0,xfId:0}],DZ=[{builtinId:0,name:"Normal",xfId:0}]},_Ge=function(n){var t=cGe(n.pattern),e=wd(n.color),r=wd(n.patternColor),i=NC.findIndex(function(o){var a=o.patternType,s=o.fgRgb,l=o.bgRgb;return!(a!=t||s!=e||l!=r)});return i===-1&&(i=NC.length,NC.push({patternType:t,fgRgb:e,bgRgb:r})),i},xGe=function(n){if(IU[n])return IU[n];var t=Mv.findIndex(function(e){return e.formatCode===n});return t===-1?(t=Mv.length+164,Mv.push({formatCode:n,numFmtId:t})):t=Mv[t].numFmtId,t},EGe=function(n){var t=n.borderBottom,e=n.borderTop,r=n.borderLeft,i=n.borderRight,o,a,s,l,u,c,d,p;r&&(s=nx(r.lineStyle,r.weight),d=wd(r.color)),i&&(l=nx(i.lineStyle,i.weight),p=wd(i.color)),t&&(o=nx(t.lineStyle,t.weight),u=wd(t.color)),e&&(a=nx(e.lineStyle,e.weight),c=wd(e.color));var h=kC.findIndex(function(f){var v=f.left,g=f.right,y=f.top,m=f.bottom;if(!v&&(s||d)||!g&&(l||p)||!y&&(a||c)||!m&&(o||u))return!1;var C=v||{},S=C.style,w=C.color,_=g||{},x=_.style,b=_.color,O=y||{},P=O.style,D=O.color,N=m||{},L=N.style,I=N.color;return!(S!=s||w!=d||x!=l||b!=p||P!=a||D!=c||L!=o||I!=u)});return h===-1&&(h=kC.length,kC.push({left:{style:s,color:d},right:{style:l,color:p},top:{style:a,color:c},bottom:{style:o,color:u},diagonal:{style:void 0,color:void 0}})),h},bGe=function(n){var t=n.fontName,e=t===void 0?"Calibri":t,r=n.color,i=n.size,o=n.bold,a=n.italic,s=n.outline,l=n.shadow,u=n.strikeThrough,c=n.underline,d=n.family,p=n.verticalAlign,h=wd(r),f=Oke(d),v=c?c.toLocaleLowerCase():void 0,g=p?p.toLocaleLowerCase():void 0,y=IC.findIndex(function(m){return!(m.fontName!=e||m.color!=h||m.size!=i||m.bold!=o||m.italic!=a||m.outline!=s||m.shadow!=l||m.strikeThrough!=u||m.underline!=v||m.verticalAlign!=g||m.family!=f)});return y===-1&&(y=IC.length,IC.push({fontName:e,color:h,size:i,bold:o,italic:a,outline:s,shadow:l,strikeThrough:u,underline:v,verticalAlign:g,family:f!=null?f.toString():void 0})),y},OGe=function(n){var t=n.alignment,e=n.borders,r=n.font,i=n.interior,o=n.numberFormat,a=n.protection,s=n.quotePrefix,l=n.id,u=0,c=0,d=0,p=0;l&&(l=MZ(l,JF),yO[l]==null&&(i&&(u=_Ge(i)),e&&(c=EGe(e)),r&&(d=bGe(r)),o&&(p=xGe(o.format)),yO[l]=mO.length,mO.push({alignment:t,borderId:c||0,fillId:u||0,fontId:d||0,numFmtId:p||0,protection:a,quotePrefix:s,xfId:0})))},RGe={getTemplate:function(n){var t=Jke.getTemplate(Mv),e=tGe.getTemplate(IC.map(function(l){return gO(gO({},l),{size:l.size!=null?l.size:n})})),r=nGe.getTemplate(NC),i=fGe.getTemplate(kC),o=mGe.getTemplate(AZ),a=CGe.getTemplate(mO),s=wGe.getTemplate(DZ);return LZ(),{name:"styleSheet",properties:{rawMap:{"mc:Ignorable":"x14ac x16r2 xr",xmlns:"http://schemas.openxmlformats.org/spreadsheetml/2006/main","xmlns:mc":"http://schemas.openxmlformats.org/markup-compatibility/2006","xmlns:x14ac":"http://schemas.microsoft.com/office/spreadsheetml/2009/9/ac","xmlns:x16r2":"http://schemas.microsoft.com/office/spreadsheetml/2015/02/main","xmlns:xr":"http://schemas.microsoft.com/office/spreadsheetml/2014/revision"}},children:[t,e,r,i,o,a,s,{name:"tableStyles",properties:{rawMap:{count:0,defaultPivotStyle:"PivotStyleLight16",defaultTableStyle:"TableStyleMedium2"}}}]}}},TGe=function(n,t){return yO[MZ(n,t)]||0},PGe=function(n,t){JF=t,JF===1&&LZ(),n.forEach(OGe)},AGe={getTemplate:function(n,t){var e=(t+1).toString();return{name:"sheet",properties:{rawMap:{name:n,sheetId:e,"r:id":"rId".concat(e)}}}}},DGe={getTemplate:function(n){return{name:"sheets",children:n.map(function(t,e){return AGe.getTemplate(t,e)})}}},MGe={getTemplate:function(n){return{name:"workbook",properties:{prefixedAttributes:[{prefix:"xmlns:",map:{r:"http://schemas.openxmlformats.org/officeDocument/2006/relationships"}}],rawMap:{xmlns:"http://schemas.openxmlformats.org/spreadsheetml/2006/main"}},children:[DGe.getTemplate(n)]}}},LGe=function(n){return Math.ceil((n-12)/7+1)},FGe={getTemplate:function(n){var t=n.min,e=n.max,r=n.outlineLevel,i=n.s,o=n.width,a=n.hidden,s=n.bestFit,l=1,u="0";return o>1&&(l=LGe(o),u="1"),{name:"col",properties:{rawMap:{min:t,max:e,outlineLevel:r??void 0,width:l,style:i,hidden:a?"1":"0",bestFit:s?"1":"0",customWidth:u}}}}},IGe=function(n){var t=n.charAt(0).toLowerCase();return t==="s"?"inlineStr":t},NGe={getTemplate:function(n,t,e){var r=n.ref,i=n.data,o=n.styleId,a=i||{type:"empty",value:null},s=a.type,l=a.value,u=s;s==="f"?u="str":s.charAt(0)===s.charAt(0).toUpperCase()&&(u=IGe(s));var c={name:"c",properties:{rawMap:{r,t:u==="empty"?void 0:u,s:o?TGe(o,e):void 0}}};if(u==="empty")return c;var d;return u==="str"&&s==="f"?d=[{name:"f",textNode:A.escapeString(l)}]:u==="inlineStr"?d=[{name:"is",children:[{name:"t",textNode:A.escapeString(l)}]}]:d=[{name:"v",textNode:l}],Object.assign({},c,{children:d})}},kGe=function(n,t){var e=typeof Symbol=="function"&&n[Symbol.iterator];if(!e)return n;var r=e.call(n),i,o=[],a;try{for(;(t===void 0||t-- >0)&&!(i=r.next()).done;)o.push(i.value)}catch(s){a={error:s}}finally{try{i&&!i.done&&(e=r.return)&&e.call(r)}finally{if(a)throw a.error}}return o},GGe=function(n,t,e){if(e||arguments.length===2)for(var r=0,i=t.length,o;r<i;r++)(o||!(r in t))&&(o||(o=Array.prototype.slice.call(t,0,r)),o[r]=t[r]);return n.concat(o||Array.prototype.slice.call(t))},VGe=function(n,t){for(var e=[],r=0,i=0;i<n.length;i++){var o=n[i];o.mergeAcross&&(e.push({pos:i,excelPos:r}),r+=o.mergeAcross),r++}if(e.length)for(var i=e.length-1;i>=0;i--){for(var a=[],o=n[e[i].pos],s=1;s<=o.mergeAcross;s++)a.push({ref:"".concat(US(e[i].excelPos+1+s)).concat(t+1),styleId:o.styleId,data:{type:"empty",value:null}});a.length&&n.splice.apply(n,GGe([e[i].pos+1,0],kGe(a),!1))}},BGe=function(n){var t;return((t=n.data)===null||t===void 0?void 0:t.value)!==""||n.styleId!==void 0},HGe={getTemplate:function(n,t,e){var r=n.collapsed,i=n.hidden,o=n.height,a=n.outlineLevel,s=n.cells,l=s===void 0?[]:s;VGe(l,t);var u=l.filter(BGe).map(function(c,d){return NGe.getTemplate(c,d,e)});return{name:"row",properties:{rawMap:{r:t+1,collapsed:r?"1":"0",hidden:i?"1":"0",ht:o,customHeight:o!=null?"1":"0",spans:"1:1",outlineLevel:a||void 0}},children:u}}},jGe={getTemplate:function(n){return{name:"mergeCell",properties:{rawMap:{ref:n}}}}},$Ge=function(n,t,e){var r=[],i=[];n.forEach(function(s,l){var u=s.cells,c=0,d;u.forEach(function(p,h){var f=h+c+1,v=US(f),g=l+1;if(p.mergeAcross){c+=p.mergeAcross;var y=US(h+c+1);r.push("".concat(v).concat(g,":").concat(y).concat(g))}t[f-1]||(t[f-1]={});var m=p.collapsibleRanges;m&&m.forEach(function(C){i.push([f+C[0],f+C[1]])}),d=t[f-1],d.min=f,d.max=f,p.ref="".concat(v).concat(g)})}),i.sort(function(s,l){return s[0]!==l[0]?s[0]-l[0]:l[1]-s[1]});var o=new Map,a=new Map;return i.filter(function(s){var l=s.toString(),u=o.get(l);return u?!1:(o.set(l,!0),!0)}).forEach(function(s){var l=t.find(function(c){return c.min==s[0]&&c.max==s[1]}),u=a.get(s[0]);t.push({min:s[0],max:s[1],outlineLevel:e?void 0:u||1,width:(l||{width:100}).width}),a.set(s[0],(u||0)+1)}),r},WGe=function(n){return!n||n!=="Portrait"&&n!=="Landscape"?"portrait":n.toLocaleLowerCase()},UGe=function(n){if(n==null)return 1;var t=["Letter","Letter Small","Tabloid","Ledger","Legal","Statement","Executive","A3","A4","A4 Small","A5","A6","B4","B5","Folio","Envelope","Envelope DL","Envelope C5","Envelope B5","Envelope C3","Envelope C4","Envelope C6","Envelope Monarch","Japanese Postcard","Japanese Double Postcard"],e=t.indexOf(n);return e===-1?1:e+1},zGe=function(n){return function(t){return n.length&&t.push({name:"cols",children:n.map(function(e){return FGe.getTemplate(e)})}),t}},KGe=function(n,t){return function(e){return n.length&&e.push({name:"sheetData",children:n.map(function(r,i){return HGe.getTemplate(r,i,t)})}),e}},YGe=function(n){return function(t){return n.length&&t.push({name:"mergeCells",properties:{rawMap:{count:n.length}},children:n.map(function(e){return jGe.getTemplate(e)})}),t}},XGe=function(n){return function(t){var e=n.top,r=e===void 0?.75:e,i=n.right,o=i===void 0?.7:i,a=n.bottom,s=a===void 0?.75:a,l=n.left,u=l===void 0?.7:l,c=n.header,d=c===void 0?.3:c,p=n.footer,h=p===void 0?.3:p;return t.push({name:"pageMargins",properties:{rawMap:{bottom:s,footer:h,header:d,left:u,right:o,top:r}}}),t}},qGe=function(n){return function(t){return n&&t.push({name:"pageSetup",properties:{rawMap:{horizontalDpi:0,verticalDpi:0,orientation:WGe(n.orientation),paperSize:UGe(n.pageSize)}}}),t}},ZGe=function(n){var t={"&[Page]":"&P","&[Pages]":"&N","&[Date]":"&D","&[Time]":"&T","&[Tab]":"&A","&[Path]":"&Z","&[File]":"&F"};return A.iterateObject(t,function(e,r){n=n.replace(e,r)}),n},QGe=function(n){return n==="Center"?"C":n==="Right"?"R":"L"},JGe=function(n,t){return t&&(n+="&amp;&quot;",n+=t.fontName||"Calibri",t.bold!==t.italic?n+=t.bold?",Bold":",Italic":t.bold?n+=",Bold Italic":n+=",Regular",n+="&quot;",t.size&&(n+="&amp;".concat(t.size)),t.strikeThrough&&(n+="&amp;S"),t.underline&&(n+="&amp;".concat(t.underline==="Double"?"E":"U")),t.color&&(n+="&amp;K".concat(t.color.replace("#","").toUpperCase()))),n},eVe=function(n){return n.reduce(function(t,e){var r=QGe(e.position),i=JGe("".concat(t,"&amp;").concat(r),e.font);return"".concat(i).concat(A.escapeString(ZGe(e.value)))},"")},tVe=function(n){var t=["all","first","even"],e=[];return t.forEach(function(r){var i=n[r],o=r==="all"?"odd":r;!i||!i.header&&!i.footer||A.iterateObject(i,function(a,s){var l="".concat(a.charAt(0).toUpperCase()).concat(a.slice(1));s&&e.push({name:"".concat(o).concat(l),properties:{rawMap:{"xml:space":"preserve"}},textNode:eVe(s)})})}),e},rVe=function(n){return function(t){if(!n)return t;var e=n.first!=null?1:0,r=n.even!=null?1:0;return t.push({name:"headerFooter",properties:{rawMap:{differentFirst:e,differentOddEven:r}},children:tVe(n)}),t}},nVe=function(n){return function(t){return ur.worksheetImages.get(n)&&t.push({name:"drawing",properties:{rawMap:{"r:id":"rId1"}}}),t}},iVe=function(){return function(n){return n.push({name:"sheetPr",children:[{name:"outlinePr",properties:{rawMap:{summaryBelow:0}}}]}),n}},oVe=function(n){return function(t){var e=n.reduce(function(r,i){return i.outlineLevel&&i.outlineLevel>r?i.outlineLevel:r},0);return t.push({name:"sheetFormatPr",properties:{rawMap:{baseColWidth:10,defaultRowHeight:16,outlineLevelRow:e||void 0}}}),t}},aVe={getTemplate:function(n){var t=n.worksheet,e=n.currentSheet,r=n.config,i=r.margins,o=i===void 0?{}:i,a=r.pageSetup,s=r.headerFooterConfig,l=r.suppressColumnOutline,u=t.table,c=u.rows,d=u.columns,p=d&&d.length?$Ge(c,d,!!l):[],h=A.compose(iVe(),oVe(c),zGe(d),KGe(c,e+1),YGe(p),XGe(o),qGe(a),rVe(s),nVe(e)),f=h([]);return{name:"worksheet",properties:{prefixedAttributes:[{prefix:"xmlns:",map:{r:"http://schemas.openxmlformats.org/officeDocument/2006/relationships"}}],rawMap:{xmlns:"http://schemas.openxmlformats.org/spreadsheetml/2006/main"}},children:f}}},sVe={getTemplate:function(n){var t=n.Id,e=n.Type,r=n.Target;return{name:"Relationship",properties:{rawMap:{Id:t,Type:e,Target:r}}}}},ix={getTemplate:function(n){var t=n.map(function(e){return sVe.getTemplate(e)});return{name:"Relationships",properties:{rawMap:{xmlns:"http://schemas.openxmlformats.org/package/2006/relationships"}},children:t}}},lVe=function(n,t){var e=typeof Symbol=="function"&&n[Symbol.iterator];if(!e)return n;var r=e.call(n),i,o=[],a;try{for(;(t===void 0||t-- >0)&&!(i=r.next()).done;)o.push(i.value)}catch(s){a={error:s}}finally{try{i&&!i.done&&(e=r.return)&&e.call(r)}finally{if(a)throw a.error}}return o},GU=function(n,t,e){if(e||arguments.length===2)for(var r=0,i=t.length,o;r<i;r++)(o||!(r in t))&&(o||(o=Array.prototype.slice.call(t,0,r)),o[r]=t[r]);return n.concat(o||Array.prototype.slice.call(t))},ur=function(){function n(){}return n.createExcel=function(t,e,r){return this.addSheetName(e),PGe(t,this.sheetNames.length),this.createWorksheet(e,r)},n.buildImageMap=function(t,e,r,i,o){var a=this.sheetNames.length,s=this.images.get(t.id);(!t.position||!t.position.row||!t.position.column)&&(t.position||(t.position={}),t.position=Object.assign({},t.position,{row:e,column:i.indexOf(r)+1}));var l=t;if(Rke(l,i),Tke(l,o),s){var u=s.find(function(c){return c.sheetId===a});u?u.image.push(l):s.push({sheetId:a,image:[l]})}else this.images.set(l.id,[{sheetId:a,image:[l]}]),this.workbookImageIds.set(l.id,{type:l.imageType,index:this.workbookImageIds.size});this.buildSheetImageMap(a,l)},n.buildSheetImageMap=function(t,e){var r=this.worksheetImageIds.get(t);r||(r=new Map,this.worksheetImageIds.set(t,r));var i=this.worksheetImages.get(t);i?(i.push(e),r.get(e.id)||r.set(e.id,{index:r.size,type:e.imageType})):(this.worksheetImages.set(t,[e]),r.set(e.id,{index:0,type:e.imageType}))},n.addSheetName=function(t){for(var e=A.escapeString(t.name)||"",r="";this.sheetNames.indexOf("".concat(e).concat(r))!==-1;)if(r==="")r="_1";else{var i=parseInt(r.slice(1),10);r="_".concat(i+1)}t.name="".concat(e).concat(r),this.sheetNames.push(t.name)},n.getStringPosition=function(t){return this.sharedStrings.has(t)?this.sharedStrings.get(t):(this.sharedStrings.set(t,this.sharedStrings.size),this.sharedStrings.size-1)},n.resetFactory=function(){this.sharedStrings=new Map,this.images=new Map,this.worksheetImages=new Map,this.workbookImageIds=new Map,this.worksheetImageIds=new Map,this.sheetNames=[],this.factoryMode=ef.SINGLE_SHEET},n.createWorkbook=function(){return xa(MGe.getTemplate(this.sheetNames))},n.createStylesheet=function(t){return xa(RGe.getTemplate(t))},n.createSharedStrings=function(){return xa(qke.getTemplate(this.sharedStrings))},n.createCore=function(t){return xa(Ske.getTemplate(t))},n.createContentTypes=function(t){return xa(_ke.getTemplate(t))},n.createRels=function(){var t=ix.getTemplate([{Id:"rId1",Type:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/officeDocument",Target:"xl/workbook.xml"},{Id:"rId2",Type:"http://schemas.openxmlformats.org/package/2006/relationships/metadata/core-properties",Target:"docProps/core.xml"}]);return xa(t)},n.createTheme=function(){return xa(Kke.getTemplate())},n.createWorkbookRels=function(t){var e=new Array(t).fill(void 0).map(function(i,o){return{Id:"rId".concat(o+1),Type:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/worksheet",Target:"worksheets/sheet".concat(o+1,".xml")}}),r=ix.getTemplate(GU(GU([],lVe(e),!1),[{Id:"rId".concat(t+1),Type:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/theme",Target:"theme/theme1.xml"},{Id:"rId".concat(t+2),Type:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/styles",Target:"styles.xml"},{Id:"rId".concat(t+3),Type:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/sharedStrings",Target:"sharedStrings.xml"}],!1));return xa(r)},n.createDrawing=function(t){return xa(Nke.getTemplate({sheetIndex:t}))},n.createDrawingRel=function(t){var e=this,r=this.worksheetImageIds.get(t),i=[];return r.forEach(function(o,a){i.push({Id:"rId".concat(o.index+1),Type:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/image",Target:"../media/image".concat(e.workbookImageIds.get(a).index+1,".").concat(o.type)})}),xa(ix.getTemplate(i))},n.createWorksheetDrawingRel=function(t){var e=ix.getTemplate([{Id:"rId1",Type:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/drawing",Target:"../drawings/drawing".concat(t+1,".xml")}]);return xa(e)},n.createWorksheet=function(t,e){return xa(aVe.getTemplate({worksheet:t,currentSheet:this.sheetNames.length-1,config:e}))},n.sharedStrings=new Map,n.sheetNames=[],n.images=new Map,n.worksheetImages=new Map,n.workbookImageIds=new Map,n.worksheetImageIds=new Map,n.factoryMode=ef.SINGLE_SHEET,n}(),uVe=function(){var n=function(t,e){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])},n(t,e)};return function(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");n(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}}(),CO=function(){return CO=Object.assign||function(n){for(var t,e=1,r=arguments.length;e<r;e++){t=arguments[e];for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(n[i]=t[i])}return n},CO.apply(this,arguments)},VU=function(n,t){var e=typeof Symbol=="function"&&n[Symbol.iterator];if(!e)return n;var r=e.call(n),i,o=[],a;try{for(;(t===void 0||t-- >0)&&!(i=r.next()).done;)o.push(i.value)}catch(s){a={error:s}}finally{try{i&&!i.done&&(e=r.return)&&e.call(r)}finally{if(a)throw a.error}}return o},KD=function(n,t,e){if(e||arguments.length===2)for(var r=0,i=t.length,o;r<i;r++)(o||!(r in t))&&(o||(o=Array.prototype.slice.call(t,0,r)),o[r]=t[r]);return n.concat(o||Array.prototype.slice.call(t))},BU=function(n){var t=typeof Symbol=="function"&&Symbol.iterator,e=t&&n[t],r=0;if(e)return e.call(n);if(n&&typeof n.length=="number")return{next:function(){return n&&r>=n.length&&(n=void 0),{value:n&&n[r++],done:!n}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")},cVe=function(n){uVe(t,n);function t(e){var r=n.call(this,e)||this;return r.mixedStyles={},r.mixedStyleCounter=0,r.rows=[],r.config=Object.assign({},e),r.stylesByIds={},r.config.baseExcelStyles.forEach(function(i){r.stylesByIds[i.id]=i}),r.excelStyles=KD(KD([],VU(r.config.baseExcelStyles),!1),[{id:"_quotePrefix",quotePrefix:1}],!1),r}return t.prototype.addCustomContent=function(e){var r=this;e.forEach(function(i){var o=r.rows.length+1,a;!r.config.suppressRowOutline&&i.outlineLevel!=null&&(a=i.outlineLevel);var s={height:pE(o,i.height||r.config.rowHeight),cells:(i.cells||[]).map(function(l,u){var c,d,p,h=r.addImage(o,r.columnsToExport[u],(c=l.data)===null||c===void 0?void 0:c.value),f=null;l.styleId&&(f=typeof l.styleId=="string"?[l.styleId]:l.styleId);var v=r.getStyleId(f);if(h)return r.createCell(v,r.getDataTypeForValue(h.value),h.value==null?"":h.value);var g=(p=(d=l.data)===null||d===void 0?void 0:d.value)!==null&&p!==void 0?p:"",y=r.getDataTypeForValue(g);return l.mergeAcross?r.createMergedCell(v,y,g,l.mergeAcross):r.createCell(v,y,g)}),outlineLevel:a};i.collapsed!=null&&(s.collapsed=i.collapsed),i.hidden!=null&&(s.hidden=i.hidden),r.rows.push(s)})},t.prototype.onNewHeaderGroupingRow=function(){var e=this,r=[];return this.rows.push({cells:r,height:pE(this.rows.length+1,this.config.headerRowHeight)}),{onColumn:function(i,o,a,s,l){var u=e.config.styleLinker({rowType:Gd.HEADER_GROUPING,rowIndex:1,value:"grouping-".concat(o),columnGroup:i});r.push(CO(CO({},e.createMergedCell(e.getStyleId(u),e.getDataTypeForValue("string"),o,s)),{collapsibleRanges:l}))}}},t.prototype.onNewHeaderRow=function(){return this.onNewRow(this.onNewHeaderColumn,this.config.headerRowHeight)},t.prototype.onNewBodyRow=function(e){var r=this.onNewRow(this.onNewBodyColumn,this.config.rowHeight);return e&&this.addRowOutlineIfNecessary(e),r},t.prototype.prepare=function(e){var r=this;n.prototype.prepare.call(this,e),this.columnsToExport=KD([],VU(e),!1),this.cols=e.map(function(i,o){return r.convertColumnToExcel(i,o)})},t.prototype.parse=function(){for(var e=this.rows.reduce(function(i,o){return Math.max(i,o.cells.length)},0);this.cols.length<e;)this.cols.push(this.convertColumnToExcel(null,this.cols.length+1));var r={name:this.config.sheetName,table:{columns:this.cols,rows:this.rows}};return this.createExcel(r)},t.prototype.addRowOutlineIfNecessary=function(e){var r=this.config,i=r.gridOptionsService,o=r.suppressRowOutline,a=r.rowGroupExpandState,s=a===void 0?"expanded":a,l=i.get("groupHideOpenParents");if(!(l||o||e.level==null)){var u=e.footer?1:0,c=A.last(this.rows);if(c.outlineLevel=e.level+u,s!=="expanded"){var d=s==="collapsed";if(e.isExpandable()){var p=!d&&e.expanded;c.collapsed=!p}c.hidden=!!e.parent&&e.parent.level!==-1&&(d||this.isAnyParentCollapsed(e.parent))}}},t.prototype.isAnyParentCollapsed=function(e){for(;e&&e.level!==-1;){if(!e.expanded)return!0;e=e.parent}return!1},t.prototype.convertColumnToExcel=function(e,r){var i=this.config.columnWidth;if(i)return typeof i=="number"?{width:i}:{width:i({column:e,index:r})};if(e){var o=75;return{width:Math.max(e.getActualWidth(),o)}}return{}},t.prototype.onNewHeaderColumn=function(e,r){var i=this;return function(o,a){var s=i.extractHeaderValue(o),l=i.config.styleLinker({rowType:Gd.HEADER,rowIndex:e,value:s,column:o});r.push(i.createCell(i.getStyleId(l),i.getDataTypeForValue("string"),s))}},t.prototype.onNewBodyColumn=function(e,r){var i=this,o=0;return function(a,s,l){if(o>0){o-=1;return}var u=i.extractRowCellValue(a,s,e,"excel",l),c=u.value,d=u.valueFormatted,p=i.config.styleLinker({rowType:Gd.BODY,rowIndex:e,value:c,column:a,node:l}),h=i.getStyleId(p),f=a.getColSpan(l),v=i.addImage(e,a,c);v?r.push(i.createCell(h,i.getDataTypeForValue(v.value),v.value==null?"":v.value)):f>1?(o=f-1,r.push(i.createMergedCell(h,i.getDataTypeForValue(c),c,f-1))):r.push(i.createCell(h,i.getDataTypeForValue(c),c,d))}},t.prototype.onNewRow=function(e,r){var i=[];return this.rows.push({cells:i,height:pE(this.rows.length+1,r)}),{onColumn:e.bind(this,this.rows.length,i)()}},t.prototype.createExcel=function(e){var r=this,i=r.excelStyles,o=r.config;return ur.createExcel(i,e,o)},t.prototype.getDataTypeForValue=function(e){return e===void 0?"empty":this.isNumerical(e)?"n":"s"},t.prototype.getTypeFromStyle=function(e,r){if(this.isFormula(r))return"f";if(e&&e.dataType)switch(e.dataType.toLocaleLowerCase()){case"formula":return"f";case"string":return"s";case"number":return"n";case"datetime":return"d";case"error":return"e";case"boolean":return"b";default:console.warn("AG Grid: Unrecognized data type for excel export [".concat(e.id,".dataType=").concat(e.dataType,"]"))}return null},t.prototype.addImage=function(e,r,i){if(this.config.addImageToCell){var o=this.config.addImageToCell(e,r,i);if(o)return ur.buildImageMap(o.image,e,r,this.columnsToExport,this.config.rowHeight),o}},t.prototype.createCell=function(e,r,i,o){var a=this.getStyleById(e);!(a!=null&&a.dataType)&&r==="s"&&o&&(i=o);var s=this.getTypeFromStyle(a,i)||r,l=this.getCellValue(s,i),u=l.value,c=l.escaped,d=[];return a&&d.push(e),c&&d.push("_quotePrefix"),e=this.getStyleId(d)||void 0,{styleId:e,data:{type:s,value:u}}},t.prototype.createMergedCell=function(e,r,i,o){var a=i??"";return{styleId:this.getStyleById(e)?e:void 0,data:{type:r,value:r==="s"?ur.getStringPosition(a).toString():i},mergeAcross:o}},t.prototype.getCellValue=function(e,r){var i=!1;return r==null&&(e="s",r=""),e==="s"?(r&&r[0]==="'"&&(i=!0,r=r.slice(1)),r=ur.getStringPosition(r).toString()):e==="f"?r=r.slice(1):e==="n"&&(r=Number(r).toString()),{value:r,escaped:i}},t.prototype.getStyleId=function(e){if(!e||!e.length)return null;if(e.length===1)return e[0];var r=e.join("-");return this.mixedStyles[r]||this.addNewMixedStyle(e),this.mixedStyles[r].excelID},t.prototype.deepCloneObject=function(e){return JSON.parse(JSON.stringify(e))},t.prototype.addNewMixedStyle=function(e){var r,i,o,a;this.mixedStyleCounter+=1;var s="mixedStyle".concat(this.mixedStyleCounter),l={};try{for(var u=BU(e),c=u.next();!c.done;c=u.next()){var d=c.value;try{for(var p=(o=void 0,BU(this.excelStyles)),h=p.next();!h.done;h=p.next()){var f=h.value;f.id===d&&A.mergeDeep(l,this.deepCloneObject(f))}}catch(g){o={error:g}}finally{try{h&&!h.done&&(a=p.return)&&a.call(p)}finally{if(o)throw o.error}}}}catch(g){r={error:g}}finally{try{c&&!c.done&&(i=u.return)&&i.call(u)}finally{if(r)throw r.error}}l.id=s,l.name=s;var v=e.join("-");this.mixedStyles[v]={excelID:s,key:v,result:l},this.excelStyles.push(l),this.stylesByIds[s]=l},t.prototype.isFormula=function(e){return e==null?!1:this.config.autoConvertFormulas&&e.toString().startsWith("=")},t.prototype.isNumerical=function(e){return typeof e=="bigint"?!0:isFinite(e)&&e!==""&&!isNaN(parseFloat(e))},t.prototype.getStyleById=function(e){return e==null?null:this.stylesByIds[e]||null},t}(AG),dVe=function(){var n=function(t,e){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])},n(t,e)};return function(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");n(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}}(),SO=function(){return SO=Object.assign||function(n){for(var t,e=1,r=arguments.length;e<r;e++){t=arguments[e];for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(n[i]=t[i])}return n},SO.apply(this,arguments)},_u=function(n,t,e,r){var i=arguments.length,o=i<3?t:r===null?r=Object.getOwnPropertyDescriptor(t,e):r,a;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(n,t,e,r);else for(var s=n.length-1;s>=0;s--)(a=n[s])&&(o=(i<3?a(o):i>3?a(t,e,o):a(t,e))||o);return i>3&&o&&Object.defineProperty(t,e,o),o},pVe=function(){if(Fn.addFolders(["_rels/","docProps/","xl/","xl/theme/","xl/_rels/","xl/worksheets/"]),!!ur.images.size){Fn.addFolders(["xl/worksheets/_rels","xl/drawings/","xl/drawings/_rels","xl/media/"]);var n=0;ur.images.forEach(function(t){var e=t[0].image[0],r=e.imageType;Fn.addFile("xl/media/image".concat(++n,".").concat(r),e.base64,!0)})}},hVe=function(n){var t=0;n.forEach(function(e,r){Fn.addFile("xl/worksheets/sheet".concat(r+1,".xml"),e,!1),ur.images.size&&ur.worksheetImages.get(r)&&gVe(r,t++)})},fVe=function(n,t,e){Fn.addFile("xl/workbook.xml",ur.createWorkbook()),Fn.addFile("xl/styles.xml",ur.createStylesheet(n)),Fn.addFile("xl/sharedStrings.xml",ur.createSharedStrings()),Fn.addFile("xl/theme/theme1.xml",ur.createTheme()),Fn.addFile("xl/_rels/workbook.xml.rels",ur.createWorkbookRels(e)),Fn.addFile("docProps/core.xml",ur.createCore(t)),Fn.addFile("[Content_Types].xml",ur.createContentTypes(e)),Fn.addFile("_rels/.rels",ur.createRels())},FZ=function(n,t,e){return t===void 0&&(t=11),e===void 0&&(e="AG Grid"),n&&n.length>0?(pVe(),hVe(n),fVe(t,e,n.length)):console.warn("AG Grid: Invalid params supplied to getMultipleSheetsAsExcel() - `ExcelExportParams.data` is empty."),ur.resetFactory(),!(!n||n.length===0)},IZ=function(n){var t=n.data,e=n.fontSize,r=n.author,i=n.mimeType||"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet";return FZ(t,e,r)?Fn.getZipFile(i):Promise.resolve(void 0)},HU=function(n){var t=n.data,e=n.fontSize,r=n.author,i=n.mimeType||"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet";if(FZ(t,e,r))return Fn.getUncompressedZipFile(i)},vVe=function(n){var t=n.fileName,e=t===void 0?"export.xlsx":t;IZ(n).then(function(r){if(r){var i=typeof e=="function"?e():e;OT.download(i,r)}})},gVe=function(n,t){var e="xl/drawings",r="".concat(e,"/drawing").concat(t+1,".xml"),i="".concat(e,"/_rels/drawing").concat(t+1,".xml.rels"),o="xl/worksheets/_rels/sheet".concat(n+1,".xml.rels");Fn.addFile(i,ur.createDrawingRel(n)),Fn.addFile(r,ur.createDrawing(n)),Fn.addFile(o,ur.createWorksheetDrawingRel(t))},yVe=function(n){dVe(t,n);function t(){return n!==null&&n.apply(this,arguments)||this}return t.prototype.postConstruct=function(){this.setBeans({gridSerializer:this.gridSerializer,gridOptionsService:this.gridOptionsService})},t.prototype.getMergedParams=function(e){var r=this.gridOptionsService.get("defaultExcelExportParams");return Object.assign({},r,e)},t.prototype.export=function(e){var r=this;if(this.isExportSuppressed()){console.warn("AG Grid: Export cancelled. Export is not allowed as per your configuration.");return}var i=this.getMergedParams(e),o=this.getData(i),a={data:[o],fontSize:i.fontSize,author:i.author,mimeType:i.mimeType};this.packageCompressedFile(a).then(function(s){if(s){var l=i.fileName,u=typeof l=="function"?l(r.gridOptionsService.getGridCommonParams()):l;OT.download(r.getFileName(u),s)}})},t.prototype.exportDataAsExcel=function(e){this.export(e)},t.prototype.getDataAsExcel=function(e){var r=this.getMergedParams(e),i=this.getData(r),o={data:[i],fontSize:r.fontSize,author:r.author,mimeType:r.mimeType};return this.packageFile(o)},t.prototype.setFactoryMode=function(e){ur.factoryMode=e},t.prototype.getFactoryMode=function(){return ur.factoryMode},t.prototype.getSheetDataForExcel=function(e){var r=this.getMergedParams(e),i=this.getData(r);return i},t.prototype.getMultipleSheetsAsExcel=function(e){return HU(e)},t.prototype.exportMultipleSheetsAsExcel=function(e){vVe(e)},t.prototype.getDefaultFileExtension=function(){return"xlsx"},t.prototype.createSerializingSession=function(e){var r=this,i=r.columnModel,o=r.valueService,a=r.gridOptionsService,s=r.valueFormatterService,l=r.valueParserService,u;if(e.sheetName!=null){var c=e.sheetName,d=typeof c=="function"?c(this.gridOptionsService.getGridCommonParams()):c;u=String(d).substring(0,31)}else u="ag-grid";var p=SO(SO({},e),{sheetName:u,columnModel:i,valueService:o,gridOptionsService:a,valueFormatterService:s,valueParserService:l,suppressRowOutline:e.suppressRowOutline||e.skipRowGroups,headerRowHeight:e.headerRowHeight||e.rowHeight,baseExcelStyles:this.gridOptionsService.get("excelStyles")||[],styleLinker:this.styleLinker.bind(this)});return new cVe(p)},t.prototype.styleLinker=function(e){var r=e.rowType,i=e.rowIndex,o=e.value,a=e.column,s=e.columnGroup,l=e.node,u=r===Gd.HEADER,c=r===Gd.HEADER_GROUPING,d=u?a:s,p=[];if(u||c)return p.push("header"),c&&p.push("headerGroup"),d&&(p=p.concat(cp.getHeaderClassesFromColDef(d.getDefinition(),this.gridOptionsService,a||null,s||null))),p;var h=this.gridOptionsService.get("excelStyles"),f=["cell"];if(!h||!h.length)return f;var v=h.map(function(g){return g.id});return this.stylingService.processAllCellClasses(a.getDefinition(),this.gridOptionsService.addGridCommonParams({value:o,data:l.data,node:l,colDef:a.getDefinition(),column:a,rowIndex:i}),function(g){v.indexOf(g)>-1&&f.push(g)}),f.sort(function(g,y){return v.indexOf(g)<v.indexOf(y)?-1:1})},t.prototype.isExportSuppressed=function(){return this.gridOptionsService.get("suppressExcelExport")},t.prototype.packageCompressedFile=function(e){return IZ(e)},t.prototype.packageFile=function(e){return HU(e)},_u([E("columnModel")],t.prototype,"columnModel",void 0),_u([E("valueService")],t.prototype,"valueService",void 0),_u([E("stylingService")],t.prototype,"stylingService",void 0),_u([E("gridSerializer")],t.prototype,"gridSerializer",void 0),_u([E("gridOptionsService")],t.prototype,"gridOptionsService",void 0),_u([E("valueFormatterService")],t.prototype,"valueFormatterService",void 0),_u([E("valueParserService")],t.prototype,"valueParserService",void 0),_u([z],t.prototype,"postConstruct",null),t=_u([ie("excelCreator")],t),t}(PG),mVe="31.1.1",CVe={version:mVe,moduleName:pe.ExcelExportModule,beans:[yVe,MG,DG],dependantModules:[RT,jn]},SVe=function(){var n=function(t,e){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])},n(t,e)};return function(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");n(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}}(),ym=function(n,t,e,r){var i=arguments.length,o=i<3?t:r===null?r=Object.getOwnPropertyDescriptor(t,e):r,a;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(n,t,e,r);else for(var s=n.length-1;s>=0;s--)(a=n[s])&&(o=(i<3?a(o):i>3?a(t,e,o):a(t,e))||o);return i>3&&o&&Object.defineProperty(t,e,o),o},Ml;(function(n){n[n.EXPANDED=0]="EXPANDED",n[n.COLLAPSED=1]="COLLAPSED",n[n.INDETERMINATE=2]="INDETERMINATE"})(Ml||(Ml={}));var wVe=function(n){SVe(t,n);function t(){return n!==null&&n.apply(this,arguments)||this}return t.prototype.preConstruct=function(){this.setTemplate(`<div class="ag-filter-toolpanel-search" role="presentation">
                <div ref="eExpand" class="ag-filter-toolpanel-expand"></div>
                <ag-input-text-field ref="eFilterTextField" class="ag-filter-toolpanel-search-input"></ag-input-text-field>
            </div>`)},t.prototype.postConstruct=function(){var e=this.localeService.getLocaleTextFunc();this.eFilterTextField.setAutoComplete(!1).setInputAriaLabel(e("ariaFilterColumnsInput","Filter Columns Input")).onValueChange(this.onSearchTextChanged.bind(this)),this.createExpandIcons(),this.setExpandState(Ml.EXPANDED),this.addManagedListener(this.eExpand,"click",this.onExpandClicked.bind(this)),this.addManagedListener(this.eventService,T.EVENT_NEW_COLUMNS_LOADED,this.showOrHideOptions.bind(this))},t.prototype.init=function(e){this.params=e,this.columnModel.isReady()&&this.showOrHideOptions()},t.prototype.createExpandIcons=function(){this.eExpand.appendChild(this.eExpandChecked=A.createIconNoSpan("columnSelectOpen",this.gridOptionsService)),this.eExpand.appendChild(this.eExpandUnchecked=A.createIconNoSpan("columnSelectClosed",this.gridOptionsService)),this.eExpand.appendChild(this.eExpandIndeterminate=A.createIconNoSpan("columnSelectIndeterminate",this.gridOptionsService))},t.prototype.showOrHideOptions=function(){var e=!this.params.suppressFilterSearch,r=!this.params.suppressExpandAll,i=this.localeService.getLocaleTextFunc();this.eFilterTextField.setInputPlaceholder(i("searchOoo","Search..."));var o=function(s){return s.getOriginalParent()&&s.isFilterAllowed()},a=this.columnModel.getAllGridColumns().some(o);A.setDisplayed(this.eFilterTextField.getGui(),e),A.setDisplayed(this.eExpand,r&&a)},t.prototype.onSearchTextChanged=function(){var e=this;this.onSearchTextChangedDebounced||(this.onSearchTextChangedDebounced=A.debounce(function(){e.dispatchEvent({type:"searchChanged",searchText:e.eFilterTextField.getValue()})},300)),this.onSearchTextChangedDebounced()},t.prototype.onExpandClicked=function(){var e=this.currentExpandState===Ml.EXPANDED?{type:"collapseAll"}:{type:"expandAll"};this.dispatchEvent(e)},t.prototype.setExpandState=function(e){this.currentExpandState=e,A.setDisplayed(this.eExpandChecked,this.currentExpandState===Ml.EXPANDED),A.setDisplayed(this.eExpandUnchecked,this.currentExpandState===Ml.COLLAPSED),A.setDisplayed(this.eExpandIndeterminate,this.currentExpandState===Ml.INDETERMINATE)},ym([E("columnModel")],t.prototype,"columnModel",void 0),ym([j("eExpand")],t.prototype,"eExpand",void 0),ym([j("eFilterTextField")],t.prototype,"eFilterTextField",void 0),ym([Zh],t.prototype,"preConstruct",null),ym([z],t.prototype,"postConstruct",null),t}(ae),_Ve=function(){var n=function(t,e){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])},n(t,e)};return function(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");n(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}}(),zc=function(n,t,e,r){var i=arguments.length,o=i<3?t:r===null?r=Object.getOwnPropertyDescriptor(t,e):r,a;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(n,t,e,r);else for(var s=n.length-1;s>=0;s--)(a=n[s])&&(o=(i<3?a(o):i>3?a(t,e,o):a(t,e))||o);return i>3&&o&&Object.defineProperty(t,e,o),o},NZ=function(n){_Ve(t,n);function t(e,r){var i=n.call(this,t.TEMPLATE)||this;return i.expandedCallback=r,i.expanded=!1,i.hideHeader=e,i}return t.prototype.postConstruct=function(){this.eExpandChecked=A.createIconNoSpan("columnSelectOpen",this.gridOptionsService),this.eExpandUnchecked=A.createIconNoSpan("columnSelectClosed",this.gridOptionsService),this.eExpand.appendChild(this.eExpandChecked),this.eExpand.appendChild(this.eExpandUnchecked)},t.prototype.setColumn=function(e){var r=this;this.column=e,this.eFilterName.innerText=this.columnModel.getDisplayNameForColumn(this.column,"filterToolPanel",!1)||"",this.addManagedListener(this.eFilterToolPanelHeader,"click",this.toggleExpanded.bind(this)),this.addManagedListener(this.eFilterToolPanelHeader,"keydown",function(i){(i.key===U.ENTER||i.key===U.SPACE)&&(i.preventDefault(),r.toggleExpanded())}),this.addManagedListener(this.eventService,T.EVENT_FILTER_OPENED,this.onFilterOpened.bind(this)),this.addInIcon("filter",this.eFilterIcon,this.column),A.setDisplayed(this.eFilterIcon,this.isFilterActive(),{skipAriaHidden:!0}),A.setDisplayed(this.eExpandChecked,!1),this.hideHeader?(A.setDisplayed(this.eFilterToolPanelHeader,!1),this.eFilterToolPanelHeader.removeAttribute("tabindex")):this.eFilterToolPanelHeader.setAttribute("tabindex","0"),this.addManagedListener(this.column,rt.EVENT_FILTER_CHANGED,this.onFilterChanged.bind(this)),this.addManagedListener(this.eventService,T.EVENT_FILTER_DESTROYED,this.onFilterDestroyed.bind(this))},t.prototype.getColumn=function(){return this.column},t.prototype.getColumnFilterName=function(){return this.columnModel.getDisplayNameForColumn(this.column,"filterToolPanel",!1)},t.prototype.addCssClassToTitleBar=function(e){this.eFilterToolPanelHeader.classList.add(e)},t.prototype.addInIcon=function(e,r,i){if(r!=null){var o=A.createIconNoSpan(e,this.gridOptionsService,i);r.appendChild(o)}},t.prototype.isFilterActive=function(){return this.filterManager.isFilterActive(this.column)},t.prototype.onFilterChanged=function(){A.setDisplayed(this.eFilterIcon,this.isFilterActive(),{skipAriaHidden:!0}),this.dispatchEvent({type:rt.EVENT_FILTER_CHANGED})},t.prototype.onFilterDestroyed=function(e){this.expanded&&(e.source==="api"||e.source==="paramsUpdated")&&e.column.getId()===this.column.getId()&&this.columnModel.getPrimaryColumn(this.column)&&(this.removeFilterElement(),this.addFilterElement(!0))},t.prototype.toggleExpanded=function(){this.expanded?this.collapse():this.expand()},t.prototype.expand=function(){this.expanded||(this.expanded=!0,A.setAriaExpanded(this.eFilterToolPanelHeader,!0),A.setDisplayed(this.eExpandChecked,!0),A.setDisplayed(this.eExpandUnchecked,!1),this.addFilterElement(),this.expandedCallback())},t.prototype.addFilterElement=function(e){var r=this,i=A.loadTemplate('<div class="ag-filter-toolpanel-instance-filter"></div>'),o=this.filterManager.getOrCreateFilterWrapper(this.column,"TOOLBAR");if(o){var a=o.filterPromise,s=o.guiPromise;a==null||a.then(function(l){r.underlyingFilter=l,l&&s.then(function(u){u&&i.appendChild(u),r.agFilterToolPanelBody.appendChild(i),l.afterGuiAttached&&l.afterGuiAttached({container:"toolPanel",suppressFocus:e})})})}},t.prototype.collapse=function(){var e,r;this.expanded&&(this.expanded=!1,A.setAriaExpanded(this.eFilterToolPanelHeader,!1),this.removeFilterElement(),A.setDisplayed(this.eExpandChecked,!1),A.setDisplayed(this.eExpandUnchecked,!0),(r=(e=this.underlyingFilter)===null||e===void 0?void 0:e.afterGuiDetached)===null||r===void 0||r.call(e),this.expandedCallback())},t.prototype.removeFilterElement=function(){A.clearElement(this.agFilterToolPanelBody)},t.prototype.isExpanded=function(){return this.expanded},t.prototype.refreshFilter=function(e){var r;if(this.expanded){var i=this.underlyingFilter;i&&(e?typeof i.refreshVirtualList=="function"&&i.refreshVirtualList():(r=i.afterGuiDetached)===null||r===void 0||r.call(i))}},t.prototype.onFilterOpened=function(e){e.source==="COLUMN_MENU"&&e.column===this.column&&this.expanded&&this.collapse()},t.TEMPLATE=`
        <div class="ag-filter-toolpanel-instance">
            <div class="ag-filter-toolpanel-header ag-filter-toolpanel-instance-header" ref="eFilterToolPanelHeader" role="button" aria-expanded="false">
                <div ref="eExpand" class="ag-filter-toolpanel-expand"></div>
                <span ref="eFilterName" class="ag-header-cell-text"></span>
                <span ref="eFilterIcon" class="ag-header-icon ag-filter-icon ag-filter-toolpanel-instance-header-icon" aria-hidden="true"></span>
            </div>
            <div class="ag-filter-toolpanel-instance-body ag-filter" ref="agFilterToolPanelBody"></div>
        </div>`,zc([j("eFilterToolPanelHeader")],t.prototype,"eFilterToolPanelHeader",void 0),zc([j("eFilterName")],t.prototype,"eFilterName",void 0),zc([j("agFilterToolPanelBody")],t.prototype,"agFilterToolPanelBody",void 0),zc([j("eFilterIcon")],t.prototype,"eFilterIcon",void 0),zc([j("eExpand")],t.prototype,"eExpand",void 0),zc([E("filterManager")],t.prototype,"filterManager",void 0),zc([E("columnModel")],t.prototype,"columnModel",void 0),zc([z],t.prototype,"postConstruct",null),t}(ae),xVe=function(){var n=function(t,e){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])},n(t,e)};return function(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");n(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}}(),ox=function(n,t,e,r){var i=arguments.length,o=i<3?t:r===null?r=Object.getOwnPropertyDescriptor(t,e):r,a;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(n,t,e,r);else for(var s=n.length-1;s>=0;s--)(a=n[s])&&(o=(i<3?a(o):i>3?a(t,e,o):a(t,e))||o);return i>3&&o&&Object.defineProperty(t,e,o),o},Kc=function(n){xVe(t,n);function t(e,r,i,o,a){var s=n.call(this)||this;return s.columnGroup=e,s.childFilterComps=r,s.depth=o,s.expandedCallback=i,s.showingColumn=a,s}return t.prototype.preConstruct=function(){var e={cssIdentifier:"filter-toolpanel",direction:"vertical"};this.setTemplate(t.TEMPLATE,{filterGroupComp:e})},t.prototype.init=function(){var e=this;this.setGroupTitle(),this.filterGroupComp.setAlignItems("stretch"),this.filterGroupComp.addCssClass("ag-filter-toolpanel-group-level-".concat(this.depth)),this.filterGroupComp.addCssClassToTitleBar("ag-filter-toolpanel-group-level-".concat(this.depth,"-header")),this.childFilterComps.forEach(function(r){e.filterGroupComp.addItem(r),r.addCssClassToTitleBar("ag-filter-toolpanel-group-level-".concat(e.depth+1,"-header"))}),this.refreshFilterClass(),this.addExpandCollapseListeners(),this.addFilterChangedListeners(),this.setupTooltip()},t.prototype.setupTooltip=function(){var e=this;if(this.showingColumn){var r=function(){var i=e.columnGroup.getColDef().headerTooltip;e.setTooltip(i)};r(),this.addManagedListener(this.eventService,T.EVENT_NEW_COLUMNS_LOADED,r)}},t.prototype.getTooltipParams=function(){var e=n.prototype.getTooltipParams.call(this);return e.location="filterToolPanelColumnGroup",e},t.prototype.addCssClassToTitleBar=function(e){this.filterGroupComp.addCssClassToTitleBar(e)},t.prototype.refreshFilters=function(e){this.childFilterComps.forEach(function(r){r instanceof t?r.refreshFilters(e):r.refreshFilter(e)})},t.prototype.isColumnGroup=function(){return this.columnGroup instanceof Rt},t.prototype.isExpanded=function(){return this.filterGroupComp.isExpanded()},t.prototype.getChildren=function(){return this.childFilterComps},t.prototype.getFilterGroupName=function(){return this.filterGroupName?this.filterGroupName:""},t.prototype.getFilterGroupId=function(){return this.columnGroup.getId()},t.prototype.hideGroupItem=function(e,r){this.filterGroupComp.hideItem(e,r)},t.prototype.hideGroup=function(e){this.setDisplayed(!e)},t.prototype.forEachToolPanelFilterChild=function(e){this.childFilterComps.forEach(function(r){r instanceof NZ&&e(r)})},t.prototype.addExpandCollapseListeners=function(){var e=this,r=this.isColumnGroup()?function(){return e.expandedCallback()}:function(){return e.forEachToolPanelFilterChild(function(o){return o.expand()})},i=this.isColumnGroup()?function(){return e.expandedCallback()}:function(){return e.forEachToolPanelFilterChild(function(o){return o.collapse()})};this.addManagedListener(this.filterGroupComp,Ha.EVENT_EXPANDED,r),this.addManagedListener(this.filterGroupComp,Ha.EVENT_COLLAPSED,i)},t.prototype.getColumns=function(){return this.columnGroup instanceof Rt?this.columnGroup.getLeafColumns():[this.columnGroup]},t.prototype.addFilterChangedListeners=function(){var e=this;this.getColumns().forEach(function(r){e.addManagedListener(r,rt.EVENT_FILTER_CHANGED,function(){return e.refreshFilterClass()})}),this.columnGroup instanceof Rt||this.addManagedListener(this.eventService,T.EVENT_FILTER_OPENED,this.onFilterOpened.bind(this))},t.prototype.refreshFilterClass=function(){var e=this.getColumns(),r=function(){return e.some(function(i){return i.isFilterActive()})};this.filterGroupComp.addOrRemoveCssClass("ag-has-filter",r())},t.prototype.onFilterOpened=function(e){e.source==="COLUMN_MENU"&&e.column===this.columnGroup&&this.isExpanded()&&this.collapse()},t.prototype.expand=function(){this.filterGroupComp.toggleGroupExpand(!0)},t.prototype.collapse=function(){this.filterGroupComp.toggleGroupExpand(!1)},t.prototype.setGroupTitle=function(){this.filterGroupName=this.columnGroup instanceof Rt?this.getColumnGroupName(this.columnGroup):this.getColumnName(this.columnGroup),this.filterGroupComp.setTitle(this.filterGroupName||"")},t.prototype.getColumnGroupName=function(e){return this.columnModel.getDisplayNameForProvidedColumnGroup(null,e,"filterToolPanel")},t.prototype.getColumnName=function(e){return this.columnModel.getDisplayNameForColumn(e,"filterToolPanel",!1)},t.prototype.destroyFilters=function(){this.childFilterComps=this.destroyBeans(this.childFilterComps),A.clearElement(this.getGui())},t.prototype.destroy=function(){this.destroyFilters(),n.prototype.destroy.call(this)},t.TEMPLATE=`<div class="ag-filter-toolpanel-group-wrapper">
            <ag-group-component ref="filterGroupComp"></ag-group-component>
        </div>`,ox([j("filterGroupComp")],t.prototype,"filterGroupComp",void 0),ox([E("columnModel")],t.prototype,"columnModel",void 0),ox([Zh],t.prototype,"preConstruct",null),ox([z],t.prototype,"init",null),t}(ae),EVe=function(){var n=function(t,e){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])},n(t,e)};return function(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");n(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}}(),jU=function(n,t,e,r){var i=arguments.length,o=i<3?t:r===null?r=Object.getOwnPropertyDescriptor(t,e):r,a;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(n,t,e,r);else for(var s=n.length-1;s>=0;s--)(a=n[s])&&(o=(i<3?a(o):i>3?a(t,e,o):a(t,e))||o);return i>3&&o&&Object.defineProperty(t,e,o),o},bVe=function(n){EVe(t,n);function t(){var e=n.call(this,t.TEMPLATE)||this;return e.initialised=!1,e.hasLoadedInitialState=!1,e.isInitialState=!1,e.filterGroupComps=[],e.suppressOnColumnsChanged=!1,e.onColumnsChangedPending=!1,e}return t.prototype.init=function(e){var r=this;this.initialised=!0;var i=this.gridOptionsService.addGridCommonParams({suppressExpandAll:!1,suppressFilterSearch:!1,suppressSyncLayoutWithGrid:!1});A.mergeDeep(i,e),this.params=i,this.params.suppressSyncLayoutWithGrid||this.addManagedListener(this.eventService,T.EVENT_COLUMN_MOVED,function(){return r.onColumnsChanged()}),this.addManagedListener(this.eventService,T.EVENT_NEW_COLUMNS_LOADED,function(){return r.onColumnsChanged()}),this.addManagedListener(this.eventService,T.EVENT_TOOL_PANEL_VISIBLE_CHANGED,function(a){a.key==="filters"&&r.refreshFilters(a.visible)}),this.addManagedListener(this.eventService,T.EVENT_DRAG_STARTED,function(){r.suppressOnColumnsChanged=!0}),this.addManagedListener(this.eventService,T.EVENT_DRAG_STOPPED,function(){r.suppressOnColumnsChanged=!1,r.onColumnsChangedPending&&(r.onColumnsChangedPending=!1,r.onColumnsChanged())}),this.columnModel.isReady()&&this.onColumnsChanged();var o=this.getAriaElement();A.setAriaLive(o,"assertive"),A.setAriaAtomic(o,!1),A.setAriaRelevant(o,"text")},t.prototype.onColumnsChanged=function(){if(this.suppressOnColumnsChanged){this.onColumnsChangedPending=!0;return}var e=this.columnModel.isPivotMode(),r=!this.params.suppressSyncLayoutWithGrid&&!e;r?this.syncFilterLayout():this.buildTreeFromProvidedColumnDefs(),this.refreshAriaLabel()},t.prototype.syncFilterLayout=function(){this.toolPanelColDefService.syncLayoutWithGrid(this.setFiltersLayout.bind(this)),this.refreshAriaLabel()},t.prototype.buildTreeFromProvidedColumnDefs=function(){var e=this.columnModel.getPrimaryColumnTree();this.recreateFilters(e)},t.prototype.setFiltersLayout=function(e){var r=this.toolPanelColDefService.createColumnTree(e);this.recreateFilters(r)},t.prototype.recreateFilters=function(e){var r=this,i=this.gridOptionsService.getDocument().activeElement;this.hasLoadedInitialState||(this.hasLoadedInitialState=!0,this.isInitialState=!!this.params.initialState);var o=this.getExpansionState();this.destroyFilters(),this.filterGroupComps=this.recursivelyAddComps(e,0,o);var a=this.filterGroupComps.length;a&&(this.filterGroupComps.forEach(function(s){return r.appendChild(s)}),this.setFirstAndLastVisible(0,a-1)),A.exists(this.searchFilterText)&&this.searchFilters(this.searchFilterText),this.fireExpandedEvent(),this.getGui().contains(i)&&i.focus(),this.isInitialState=!1,this.refreshAriaLabel()},t.prototype.recursivelyAddComps=function(e,r,i){var o=this;return A.flatten(e.map(function(a){if(a instanceof Rt)return A.flatten(o.recursivelyAddFilterGroupComps(a,r,i));var s=a;if(!o.shouldDisplayFilter(s))return[];var l=r===0,u=new NZ(l,function(){return o.onFilterExpanded()});if(o.createBean(u),u.setColumn(s),i.get(s.getId())&&u.expand(),r>0)return u;var c=o.createBean(new Kc(s,[u],o.onGroupExpanded.bind(o),r,!0));return c.addCssClassToTitleBar("ag-filter-toolpanel-header"),i.get(c.getFilterGroupId())||c.collapse(),c}))},t.prototype.refreshAriaLabel=function(){var e=this.localeService.getLocaleTextFunc(),r=e("ariaFilterPanelList","Filter List"),i=e("filters","Filters"),o=this.getGui(),a=".ag-filter-toolpanel-group-wrapper",s=".ag-filter-toolpanel-group-item",l=".ag-hidden",u=o.querySelectorAll("".concat(s,":not(").concat(a,", ").concat(l,")")),c=u.length;A.setAriaLabel(this.getAriaElement(),"".concat(r," ").concat(c," ").concat(i))},t.prototype.recursivelyAddFilterGroupComps=function(e,r,i){if(this.filtersExistInChildren(e.getChildren())){var o=e.getColGroupDef();if(o&&o.suppressFiltersToolPanel)return[];var a=e.isPadding()?r:r+1,s=A.flatten(this.recursivelyAddComps(e.getChildren(),a,i));if(e.isPadding())return s;var l=new Kc(e,s,this.onGroupExpanded.bind(this),r,!1);this.createBean(l),l.addCssClassToTitleBar("ag-filter-toolpanel-header");var u=i.get(l.getFilterGroupId());return(this.isInitialState&&!u||u===!1)&&l.collapse(),[l]}},t.prototype.filtersExistInChildren=function(e){var r=this;return e.some(function(i){return i instanceof Rt?r.filtersExistInChildren(i.getChildren()):r.shouldDisplayFilter(i)})},t.prototype.shouldDisplayFilter=function(e){var r=e.getColDef()&&e.getColDef().suppressFiltersToolPanel;return e.isFilterAllowed()&&!r},t.prototype.getExpansionState=function(){var e=new Map;if(this.isInitialState){var r=this.params.initialState,i=r.expandedColIds,o=r.expandedGroupIds;return i.forEach(function(s){return e.set(s,!0)}),o.forEach(function(s){return e.set(s,!0)}),e}var a=function(s){e.set(s.getFilterGroupId(),s.isExpanded()),s.getChildren().forEach(function(l){l instanceof Kc?a(l):e.set(l.getColumn().getId(),l.isExpanded())})};return this.filterGroupComps.forEach(a),e},t.prototype.refresh=function(){},t.prototype.setVisible=function(e){n.prototype.setDisplayed.call(this,e),e&&!this.initialised&&this.init(this.params)},t.prototype.expandFilterGroups=function(e,r){var i=[],o=function(s){var l=s.getFilterGroupId(),u=!r||A.includes(r,l);u&&(e&&s.isColumnGroup()?s.expand():s.collapse(),i.push(l)),s.getChildren().forEach(function(c){c instanceof Kc&&o(c)})};if(this.filterGroupComps.forEach(o),this.onGroupExpanded(),r){var a=r.filter(function(s){return i.indexOf(s)<0});a.length>0&&console.warn("AG Grid: unable to find groups for these supplied groupIds:",a)}},t.prototype.expandFilters=function(e,r){var i=[],o=function(s){if(s instanceof Kc){var l=!1;return s.getChildren().forEach(function(d){var p=o(d);p&&(e?(s.expand(),l=!0):s.isColumnGroup()||s.collapse())}),l}var u=s.getColumn().getColId(),c=!r||A.includes(r,u);return c&&(e?s.expand():s.collapse(),i.push(u)),c};if(this.filterGroupComps.forEach(o),this.onGroupExpanded(),r){var a=r.filter(function(s){return i.indexOf(s)<0});a.length>0&&console.warn("AG Grid: unable to find columns for these supplied colIds:",a)}},t.prototype.onGroupExpanded=function(){this.fireExpandedEvent()},t.prototype.onFilterExpanded=function(){this.dispatchEvent({type:"filterExpanded"})},t.prototype.fireExpandedEvent=function(){var e=0,r=0,i=function(a){a.isColumnGroup()&&(a.isExpanded()?e++:r++,a.getChildren().forEach(function(s){s instanceof Kc&&i(s)}))};this.filterGroupComps.forEach(i);var o;e>0&&r>0?o=Ml.INDETERMINATE:r>0?o=Ml.COLLAPSED:o=Ml.EXPANDED,this.dispatchEvent({type:"groupExpanded",state:o})},t.prototype.performFilterSearch=function(e){this.searchFilterText=A.exists(e)?e.toLowerCase():null,this.searchFilters(this.searchFilterText)},t.prototype.searchFilters=function(e){var r=function(s){return!A.exists(e)||s.toLowerCase().indexOf(e)!==-1},i=function(s,l){if(!(s instanceof Kc))return r(s.getColumnFilterName()||"");var u=s.getChildren(),c=r(s.getFilterGroupName()),d=l||c;if(d){s.hideGroup(!1);for(var p=0;p<u.length;p++)i(u[p],d),s.hideGroupItem(!1,p);return!0}var h=!1;return u.forEach(function(f,v){var g=i(f,l);s.hideGroupItem(!g,v),g&&(h=!0)}),s.hideGroup(!h),h},o,a;this.filterGroupComps.forEach(function(s,l){i(s,!1),o===void 0?s.containsCssClass("ag-hidden")||(o=l,a=l):!s.containsCssClass("ag-hidden")&&a!==l&&(a=l)}),this.setFirstAndLastVisible(o,a),this.refreshAriaLabel()},t.prototype.setFirstAndLastVisible=function(e,r){this.filterGroupComps.forEach(function(i,o){i.removeCssClass("ag-first-group-visible"),i.removeCssClass("ag-last-group-visible"),o===e&&i.addCssClass("ag-first-group-visible"),o===r&&i.addCssClass("ag-last-group-visible")})},t.prototype.refreshFilters=function(e){this.filterGroupComps.forEach(function(r){return r.refreshFilters(e)})},t.prototype.getExpandedFiltersAndGroups=function(){var e=[],r=new Set,i=function(o){if(o instanceof Kc){o.getChildren().forEach(function(s){return i(s)});var a=o.getFilterGroupId();o.isExpanded()&&!r.has(a)&&e.push(a)}else o.isExpanded()&&r.add(o.getColumn().getColId())};return this.filterGroupComps.forEach(i),{expandedGroupIds:e,expandedColIds:Array.from(r)}},t.prototype.destroyFilters=function(){this.filterGroupComps=this.destroyBeans(this.filterGroupComps),A.clearElement(this.getGui())},t.prototype.destroy=function(){this.destroyFilters(),n.prototype.destroy.call(this)},t.TEMPLATE='<div class="ag-filter-list-panel"></div>',jU([E("toolPanelColDefService")],t.prototype,"toolPanelColDefService",void 0),jU([E("columnModel")],t.prototype,"columnModel",void 0),t}(ae),OVe=function(){var n=function(t,e){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])},n(t,e)};return function(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");n(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}}(),wO=function(){return wO=Object.assign||function(n){for(var t,e=1,r=arguments.length;e<r;e++){t=arguments[e];for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(n[i]=t[i])}return n},wO.apply(this,arguments)},$U=function(n,t,e,r){var i=arguments.length,o=i<3?t:r===null?r=Object.getOwnPropertyDescriptor(t,e):r,a;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(n,t,e,r);else for(var s=n.length-1;s>=0;s--)(a=n[s])&&(o=(i<3?a(o):i>3?a(t,e,o):a(t,e))||o);return i>3&&o&&Object.defineProperty(t,e,o),o},RVe=function(n){OVe(t,n);function t(){var e=n.call(this,t.TEMPLATE)||this;return e.initialised=!1,e.listenerDestroyFuncs=[],e}return t.prototype.init=function(e){this.initialised&&(this.listenerDestroyFuncs.forEach(function(a){return a()}),this.listenerDestroyFuncs=[]),this.initialised=!0;var r=this.gridOptionsService.addGridCommonParams({suppressExpandAll:!1,suppressFilterSearch:!1,suppressSyncLayoutWithGrid:!1});this.params=wO(wO({},r),e),this.filtersToolPanelHeaderPanel.init(this.params),this.filtersToolPanelListPanel.init(this.params);var i=this.params.suppressExpandAll,o=this.params.suppressFilterSearch;i&&o&&this.filtersToolPanelHeaderPanel.setDisplayed(!1),this.listenerDestroyFuncs.push(this.addManagedListener(this.filtersToolPanelHeaderPanel,"expandAll",this.onExpandAll.bind(this)),this.addManagedListener(this.filtersToolPanelHeaderPanel,"collapseAll",this.onCollapseAll.bind(this)),this.addManagedListener(this.filtersToolPanelHeaderPanel,"searchChanged",this.onSearchChanged.bind(this)),this.addManagedListener(this.filtersToolPanelListPanel,"filterExpanded",this.onFilterExpanded.bind(this)),this.addManagedListener(this.filtersToolPanelListPanel,"groupExpanded",this.onGroupExpanded.bind(this)))},t.prototype.setVisible=function(e){n.prototype.setDisplayed.call(this,e),e&&!this.initialised&&this.init(this.params)},t.prototype.onExpandAll=function(){this.filtersToolPanelListPanel.expandFilterGroups(!0)},t.prototype.onCollapseAll=function(){this.filtersToolPanelListPanel.expandFilterGroups(!1)},t.prototype.onSearchChanged=function(e){this.filtersToolPanelListPanel.performFilterSearch(e.searchText)},t.prototype.setFilterLayout=function(e){this.filtersToolPanelListPanel.setFiltersLayout(e)},t.prototype.onFilterExpanded=function(){this.params.onStateUpdated()},t.prototype.onGroupExpanded=function(e){this.filtersToolPanelHeaderPanel.setExpandState(e.state),this.params.onStateUpdated()},t.prototype.expandFilterGroups=function(e){this.filtersToolPanelListPanel.expandFilterGroups(!0,e)},t.prototype.collapseFilterGroups=function(e){this.filtersToolPanelListPanel.expandFilterGroups(!1,e)},t.prototype.expandFilters=function(e){this.filtersToolPanelListPanel.expandFilters(!0,e)},t.prototype.collapseFilters=function(e){this.filtersToolPanelListPanel.expandFilters(!1,e)},t.prototype.syncLayoutWithGrid=function(){this.filtersToolPanelListPanel.syncFilterLayout()},t.prototype.refresh=function(e){return this.init(e),!0},t.prototype.getState=function(){return this.filtersToolPanelListPanel.getExpandedFiltersAndGroups()},t.prototype.destroy=function(){n.prototype.destroy.call(this)},t.TEMPLATE=`<div class="ag-filter-toolpanel">
            <ag-filters-tool-panel-header ref="filtersToolPanelHeaderPanel"></ag-filters-tool-panel-header>
            <ag-filters-tool-panel-list ref="filtersToolPanelListPanel"></ag-filters-tool-panel-list>
         </div>`,$U([j("filtersToolPanelHeaderPanel")],t.prototype,"filtersToolPanelHeaderPanel",void 0),$U([j("filtersToolPanelListPanel")],t.prototype,"filtersToolPanelListPanel",void 0),t}(ae),TVe="31.1.1",PVe={version:TVe,moduleName:pe.FiltersToolPanelModule,beans:[],agStackComponents:[{componentName:"AgFiltersToolPanelHeader",componentClass:wVe},{componentName:"AgFiltersToolPanelList",componentClass:bVe}],userComponents:[{componentName:"agFiltersToolPanel",componentClass:RVe}],dependantModules:[wV,jn]},_V=Object.defineProperty,AVe=Object.defineProperties,DVe=Object.getOwnPropertyDescriptor,MVe=Object.getOwnPropertyDescriptors,_O=Object.getOwnPropertySymbols,LVe=Object.getPrototypeOf,kZ=Object.prototype.hasOwnProperty,GZ=Object.prototype.propertyIsEnumerable,FVe=Reflect.get,YD=(n,t)=>(t=Symbol[n])?t:Symbol.for("Symbol."+n),pt=Math.pow,WU=(n,t,e)=>t in n?_V(n,t,{enumerable:!0,configurable:!0,writable:!0,value:e}):n[t]=e,J=(n,t)=>{for(var e in t||(t={}))kZ.call(t,e)&&WU(n,e,t[e]);if(_O)for(var e of _O(t))GZ.call(t,e)&&WU(n,e,t[e]);return n},Te=(n,t)=>AVe(n,MVe(t)),En=(n,t)=>{var e={};for(var r in n)kZ.call(n,r)&&t.indexOf(r)<0&&(e[r]=n[r]);if(n!=null&&_O)for(var r of _O(n))t.indexOf(r)<0&&GZ.call(n,r)&&(e[r]=n[r]);return e},Sc=(n,t)=>{for(var e in t)_V(n,e,{get:t[e],enumerable:!0})},R=(n,t,e,r)=>{for(var i=r>1?void 0:r?DVe(t,e):t,o=n.length-1,a;o>=0;o--)(a=n[o])&&(i=(r?a(t,e,i):a(i))||i);return r&&i&&_V(t,e,i),i},wc=(n,t,e)=>FVe(LVe(n),e,t),le=(n,t,e)=>new Promise((r,i)=>{var o=l=>{try{s(e.next(l))}catch(u){i(u)}},a=l=>{try{s(e.throw(l))}catch(u){i(u)}},s=l=>l.done?r(l.value):Promise.resolve(l.value).then(o,a);s((e=e.apply(n,t)).next())}),IVe=function(n,t){this[0]=n,this[1]=t},NVe=n=>{var t=n[YD("asyncIterator")],e=!1,r,i={};return t==null?(t=n[YD("iterator")](),r=o=>i[o]=a=>t[o](a)):(t=t.call(n),r=o=>i[o]=a=>{if(e){if(e=!1,o==="throw")throw a;return a}return e=!0,{done:!1,value:new IVe(new Promise(s=>{var l=t[o](a);if(!(l instanceof Object))throw TypeError("Object expected");s(l)}),1)}}),i[YD("iterator")]=()=>i,r("next"),"throw"in t?r("throw"):i.throw=o=>{throw o},"return"in t&&r("return"),i},VZ=(n=>(n.POINTER="pointer",n.NODE="node",n))(VZ||{}),kVe={};Sc(kVe,{day:()=>KZ,friday:()=>iBe,hour:()=>zZ,millisecond:()=>BZ,minute:()=>WZ,monday:()=>eBe,month:()=>XZ,saturday:()=>oBe,second:()=>jZ,sunday:()=>YZ,thursday:()=>nBe,tuesday:()=>tBe,utcDay:()=>wBe,utcHour:()=>mBe,utcMinute:()=>vBe,utcMonth:()=>EBe,utcYear:()=>RBe,wednesday:()=>rBe,year:()=>qZ});var eI=new Map;function tI(n,t){eI.has(t)||(eI.set(t,!0),n())}tI.clear=()=>eI.clear();function UU(n){return n}function GVe(n,t=0,e){const{leading:r=!1,trailing:i=!0,maxWait:o=1/0}=e??{};let a,s;if(o<t)throw new Error("Value of maxWait cannot be lower than waitMs.");function l(...u){if(r&&!s){s=Date.now(),a=setTimeout(()=>s=null,t),n(...u);return}let c=t;if(o!==1/0&&s){const d=Date.now()-s;t>o-d&&(c=o-d)}clearTimeout(a),s??(s=Date.now()),a=setTimeout(()=>{s=null,i&&n(...u)},c)}return Object.assign(l,{cancel(){clearTimeout(a),s=null}})}function zU(n,t=0,e){const{leading:r=!0,trailing:i=!0}=e??{};let o,a,s=!1;function l(){i&&a?(o=setTimeout(l,t),n(...a)):s=!1,a=null}function u(...c){s?a=c:(s=!0,o=setTimeout(l,t),r?n(...c):a=c)}return Object.assign(u,{cancel(){clearTimeout(o),s=!1,a=null}})}var Oe={log(...n){console.log(...n)},warn(n,...t){console.warn(`AG Charts - ${n}`,...t)},error(n,...t){typeof n=="object"?console.error("AG Charts error",n,...t):console.error(`AG Charts - ${n}`,...t)},table(...n){console.table(...n)},warnOnce(n,...t){tI(()=>Oe.warn(n,...t),`Logger.warn: ${n}`)},errorOnce(n,...t){tI(()=>Oe.error(n,...t),`Logger.error: ${n}`)}},KS=class{constructor(n,t,e){this._encode=n,this._decode=t,this._rangeCallback=e}floor(n){const t=new Date(n),e=this._encode(t);return this._decode(e)}ceil(n){const t=new Date(Number(n)-1),e=this._encode(t);return this._decode(e+1)}range(n,t,e){var r;const i=(r=this._rangeCallback)==null?void 0:r.call(this,n,t),o=this._encode(e?this.floor(n):this.ceil(n)),a=this._encode(e?this.ceil(t):this.floor(t));if(a<o)return[];const s=[];for(let l=o;l<=a;l++){const u=this._decode(l);s.push(u)}return i==null||i(),s}},va=class extends KS{getOffset(n,t){const e=typeof n=="number"||n instanceof Date?this._encode(new Date(n)):0;return Math.floor(e)%t}every(n,t){let e=0,r;const i=n;n=Math.max(1,Math.round(n)),i!==n&&Oe.warnOnce(`interval step of [${i}] rounded to [${n}].`);const{snapTo:o="start"}=t??{};if(typeof o=="string"){const l=e;r=(u,c)=>{const d=o==="start"?u:c;return e=this.getOffset(d,n),()=>e=l}}else typeof o=="number"?e=this.getOffset(new Date(o),n):o instanceof Date&&(e=this.getOffset(o,n));const a=l=>{const u=this._encode(l);return Math.floor((u-e)/n)},s=l=>this._decode(l*n+e);return new KS(a,s,r)}};function VVe(n){return n.getTime()}function BVe(n){return new Date(n)}var BZ=new va(VVe,BVe),HVe=BZ;new Date(0).getFullYear();var Th=1e3,Mi=Th*60,Ll=Mi*60,Bd=Ll*24,Ym=Bd*7,mm=Bd*30,ax=Bd*365,HZ=new Date().getTimezoneOffset()*Mi;function jVe(n){return Math.floor((n.getTime()-HZ)/Th)}function $Ve(n){return new Date(HZ+n*Th)}var jZ=new va(jVe,$Ve),WVe=jZ,$Z=new Date().getTimezoneOffset()*Mi;function UVe(n){return Math.floor((n.getTime()-$Z)/Mi)}function zVe(n){return new Date($Z+n*Mi)}var WZ=new va(UVe,zVe),KVe=WZ,UZ=new Date().getTimezoneOffset()*Mi;function YVe(n){return Math.floor((n.getTime()-UZ)/Ll)}function XVe(n){return new Date(UZ+n*Ll)}var zZ=new va(YVe,XVe),qVe=zZ;function ZVe(n){const t=n.getTimezoneOffset()*Mi;return Math.floor((n.getTime()-t)/Bd)}function QVe(n){const t=new Date(1970,0,1);return t.setDate(t.getDate()+n),t}var KZ=new va(ZVe,QVe),JVe=KZ;function Sf(n){const e=(7+n-4)%7;function r(o){const a=o.getTimezoneOffset()*Mi;return Math.floor((o.getTime()-a)/Ym-e/7)}function i(o){const a=new Date(1970,0,1);return a.setDate(a.getDate()+o*7+e),a}return new va(r,i)}var YZ=Sf(0),eBe=Sf(1),tBe=Sf(2),rBe=Sf(3),nBe=Sf(4),iBe=Sf(5),oBe=Sf(6),aBe=YZ;function sBe(n){return n.getFullYear()*12+n.getMonth()}function lBe(n){const t=Math.floor(n/12),e=n-t*12;return new Date(t,e,1)}var XZ=new va(sBe,lBe),uBe=XZ;function cBe(n){return n.getFullYear()}function dBe(n){const t=new Date;return t.setFullYear(n),t.setMonth(0,1),t.setHours(0,0,0,0),t}var qZ=new va(cBe,dBe),pBe=qZ;function hBe(n){return Math.floor(n.getTime()/Mi)}function fBe(n){return new Date(n*Mi)}var vBe=new va(hBe,fBe);function gBe(n){return Math.floor(n.getTime()/Ll)}function yBe(n){return new Date(n*Ll)}var mBe=new va(gBe,yBe);function CBe(n){return Math.floor(n.getTime()/Bd)}function SBe(n){const t=new Date(0);return t.setUTCDate(t.getUTCDate()+n),t.setUTCHours(0,0,0,0),t}var wBe=new va(CBe,SBe);function _Be(n){return n.getUTCFullYear()*12+n.getUTCMonth()}function xBe(n){const t=Math.floor(n/12),e=n-t*12;return new Date(Date.UTC(t,e,1))}var EBe=new va(_Be,xBe);function bBe(n){return n.getUTCFullYear()}function OBe(n){const t=new Date;return t.setUTCFullYear(n),t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0),t}var RBe=new va(bBe,OBe),rg={isEnterprise:!1},xV=class{constructor(){this.destroyFns=[]}destroy(){for(const n of this.destroyFns)n()}},Gl=[];function gs(n){const t=Gl.find(e=>n.type===e.type&&n.optionsKey===e.optionsKey&&n.identifier===e.identifier);if(t){if(n.packageType==="enterprise"&&t.packageType==="community"){const e=Gl.indexOf(t);Gl.splice(e,1,n)}}else Gl.push(n)}function EV(){return Gl.some(n=>n.packageType==="enterprise")}var xO={};function ZZ(n,t){xO[n]=t}function TBe(n,t){const e=xO[n];if(e)return new e(t);throw new Error(`AG Charts - unknown axis type: ${n}`)}var bV={has(n){return Object.hasOwn(xO,n)},get axesTypes(){return Object.keys(xO)}},QZ={};function KU(n,t){QZ[n]=t}function PBe(n){var t;return(t=QZ[n])!=null?t:{}}var EO=Symbol("BREAK"),ng="__decorator_config";function JZ(n,t){Object.getOwnPropertyDescriptor(n,ng)==null&&Object.defineProperty(n,ng,{value:{}});const e=n[ng],r=t.toString();if(typeof e[r]<"u")return e[r];const i=new WeakMap;e[r]={setters:[],getters:[],observers:[],valuesMap:i};const o=Object.getOwnPropertyDescriptor(n,t),a=o==null?void 0:o.set,s=o==null?void 0:o.get;return Object.defineProperty(n,t,{set:function(c){const{setters:d,observers:p}=e[r];let h;d.some(f=>f.length>2)&&(h=s?s.call(this):i.get(this));for(const f of d)if(c=f(this,t,c,h),c===EO)return;a?a.call(this,c):i.set(this,c);for(const f of p)f(this,c,h)},get:function(){let c=s?s.call(this):i.get(this);for(const d of e[r].getters)if(c=d(this,t,c),c===EO)return;return c},enumerable:!0,configurable:!1}),e[r]}function cc(n,t,e){return(r,i)=>{const o=JZ(r,i);o.setters.push(n),t&&o.getters.unshift(t),e&&Object.assign(o,e)}}function ABe(n){return(t,e)=>{JZ(t,e).observers.push(n)}}function zT(n){return typeof n<"u"&&ng in n}function ig(n){const t=new Set;for(;zT(n);)t.add(n==null?void 0:n[ng]),n=Object.getPrototypeOf(n);return Array.from(t).flatMap(e=>Object.keys(e))}function DBe(n){return ig(n).reduce((t,e)=>{var r;return t[e]=(r=n[e])!=null?r:null,t},{})}function MBe(n,t){const e=t.toString();for(;zT(n);){const r=n[ng];if(Object.hasOwn(r,e))return r[e];n=Object.getPrototypeOf(n)}}function rI(n){return n!=null}function fn(n){return Array.isArray(n)}function eQ(n){return typeof n=="boolean"}function KT(n){return n instanceof Date}function Xw(n){return KT(n)&&!isNaN(Number(n))}function tQ(n){return n instanceof RegExp}function Qg(n){return typeof n=="function"}function nu(n){return typeof n=="object"&&n!==null&&!fn(n)}function LBe(n){return fn(n)||ts(n)}function ts(n){return typeof n=="object"&&n!==null&&n.constructor===Object}function Ya(n){return typeof n=="string"}function As(n){return typeof n=="number"}function Nt(n){return As(n)&&Number.isFinite(n)}function rQ(n){return typeof window<"u"&&n instanceof HTMLElement}function FBe(n,t){return Ya(t)&&Object.keys(n).includes(t)}function nQ(n,t){return Object.values(n).includes(t)}function iQ(n){return typeof n=="symbol"}function IBe(...n){return mt(...n.reverse())}function mt(...n){var t;const e={};for(const r of n){if(!nu(r))continue;const i=zT(r)?ig(r):Object.keys(r);for(const o of i)ts(e[o])&&ts(r[o])?e[o]=mt(e[o],r[o]):(t=e[o])!=null||(e[o]=r[o])}return e}function nI(n,...t){return t&&fn(n)?n.map(e=>mt(e,...t)):n}function oQ(n,t){return Object.entries(n).reduce((e,[r,i])=>(e[r]=t(i,r,n),e),{})}function aQ(n,t){return(fn(t)?t:t.split(".")).reduce((r,i)=>r[i],n)}function sQ(n,t,e){const r=fn(t)?t.slice():t.split("."),i=r.pop(),o=r.reduce((a,s)=>a[s],n);o[i]=e}function iI(n,t,e){if(e===void 0)return t;for(const r of n){const i=e[r];i!==void 0&&(t[r]=i)}return t}var hh={},oI={},$a={has(n){return Object.hasOwn(hh,n)},isCartesian(n){return hh[n]==="cartesian"},isPolar(n){return hh[n]==="polar"},isHierarchy(n){return hh[n]==="hierarchy"},get seriesTypes(){return Object.keys(hh)},get cartesianTypes(){return this.seriesTypes.filter(n=>this.isCartesian(n))},get polarTypes(){return this.seriesTypes.filter(n=>this.isPolar(n))},get hierarchyTypes(){return this.seriesTypes.filter(n=>this.isHierarchy(n))}};function NBe(n,t){hh[n]=t}function kBe(n,t){oI[n]=mt(t,oI[n])}function YU(n){var t;return(t=oI[n])!=null?t:{}}function GBe(n){var t;return(t=hh[n])!=null?t:"unknown"}var Jg=[{type:"root",optionsKey:"animation",chartTypes:["cartesian","polar","hierarchy"]},{type:"root",optionsKey:"background",chartTypes:["cartesian","polar","hierarchy"],optionsInnerKey:"image"},{type:"root",optionsKey:"contextMenu",chartTypes:["cartesian","polar","hierarchy"]},{type:"root",optionsKey:"dataSource",chartTypes:["cartesian","polar","hierarchy"]},{type:"root",optionsKey:"sync",chartTypes:["cartesian"]},{type:"root",optionsKey:"zoom",chartTypes:["cartesian"]},{type:"legend",optionsKey:"gradientLegend",chartTypes:["cartesian","polar","hierarchy"],identifier:"gradient"},{type:"root",optionsKey:"navigator",chartTypes:["cartesian"],optionsInnerKey:"miniChart"},{type:"axis",optionsKey:"axes[]",chartTypes:["polar"],identifier:"angle-category"},{type:"axis",optionsKey:"axes[]",chartTypes:["polar"],identifier:"angle-number"},{type:"axis",optionsKey:"axes[]",chartTypes:["polar"],identifier:"radius-category"},{type:"axis",optionsKey:"axes[]",chartTypes:["polar"],identifier:"radius-number"},{type:"axis-option",optionsKey:"crosshair",chartTypes:["cartesian"]},{type:"series",optionsKey:"series[]",chartTypes:["cartesian"],identifier:"box-plot"},{type:"series",optionsKey:"series[]",chartTypes:["cartesian"],identifier:"bullet"},{type:"series",optionsKey:"series[]",chartTypes:["cartesian"],identifier:"heatmap"},{type:"series",optionsKey:"series[]",chartTypes:["polar"],identifier:"nightingale"},{type:"series",optionsKey:"series[]",chartTypes:["polar"],identifier:"radar-area"},{type:"series",optionsKey:"series[]",chartTypes:["polar"],identifier:"radar-line"},{type:"series",optionsKey:"series[]",chartTypes:["polar"],identifier:"radial-bar"},{type:"series",optionsKey:"series[]",chartTypes:["polar"],identifier:"radial-column"},{type:"series",optionsKey:"series[]",chartTypes:["cartesian"],identifier:"range-area"},{type:"series",optionsKey:"series[]",chartTypes:["cartesian"],identifier:"range-bar"},{type:"series",optionsKey:"series[]",chartTypes:["hierarchy"],identifier:"sunburst"},{type:"series",optionsKey:"series[]",chartTypes:["hierarchy"],identifier:"treemap"},{type:"series",optionsKey:"series[]",chartTypes:["cartesian"],identifier:"waterfall"},{type:"series-option",optionsKey:"errorBar",chartTypes:["cartesian"],identifier:"error-bars"}];function lQ(n){return Jg.some(t=>t.type==="series"&&t.identifier===n)}function OV(n){var t;return(t=Jg.find(e=>e.type==="series"&&e.identifier===n))==null?void 0:t.chartTypes}function VBe(n){var t,e;return((e=(t=Jg.find(r=>r.type==="series"&&r.identifier===n))==null?void 0:t.useCount)!=null?e:0)>0}function BBe(n){var t;return((t=OV(n))==null?void 0:t.find(r=>r==="cartesian"))==="cartesian"}function HBe(n){var t;return((t=OV(n))==null?void 0:t.find(r=>r==="polar"))==="polar"}function jBe(n){var t;return((t=OV(n))==null?void 0:t.find(r=>r==="hierarchy"))==="hierarchy"}function $Be(n){return n.packageType==="enterprise"}function WBe(n){var t;if(!$Be(n))throw new Error("AG Charts - internal configuration error, only enterprise modules need verification.");const e=Jg.find(r=>r.type===n.type&&r.optionsKey===n.optionsKey&&r.identifier===n.identifier&&n.chartTypes.every(i=>r.chartTypes.includes(i)));return e&&((t=e.useCount)!=null||(e.useCount=0),e.useCount++),e!=null}function UBe(){return Jg.filter(({useCount:n})=>n==null||n===0)}function qw(n){var t,e,r;return(r=(e=(t=n.series)==null?void 0:t[0])==null?void 0:e.type)!=null?r:"line"}function Vh(n){const t=qw(n);return t==null?!0:t==="cartesian"?(Oe.warnOnce(`type '${t}' is deprecated, use a series type instead`),!0):$a.isCartesian(t)||BBe(t)}function RV(n){const t=qw(n);return t==null?!1:t==="hierarchy"?(Oe.warnOnce(`type '${t}' is deprecated, use a series type instead`),!0):$a.isHierarchy(t)||jBe(t)}function Zw(n){const t=qw(n);return t==null?!1:t==="polar"?(Oe.warnOnce(`type '${t}' is deprecated, use a series type instead`),!0):$a.isPolar(t)||HBe(t)}function zBe(n){const t=qw(n);return Zw(n)&&t!=="pie"&&t!=="donut"}function KBe(n){return n==null?!1:$a.has(n)}function YBe(n){return n==null?!1:bV.has(n)}function XBe(n){var t,e,r,i;const o=[],a=GBe(qw(n));for(const{type:s,chartTypes:l,optionsKey:u,optionsInnerKey:c,identifier:d}of Jg)if(!(a!=="unknown"&&!l.includes(a))){if(s==="root"||s==="legend"){const p=n[u];if(p==null)continue;c?p[c]&&(o.push(`${u}.${c}`),delete p[c]):(o.push(u),delete n[u])}else if(s==="axis"){if(!("axes"in n)||!((t=n.axes)!=null&&t.some(p=>p.type===d)))continue;o.push(`axis[type=${d}]`),n.axes=n.axes.filter(p=>p.type!==d)}else if(s==="axis-option"){if(!("axes"in n)||!((e=n.axes)!=null&&e.some(p=>p[u])))continue;o.push(`axis.${u}`),n.axes.forEach(p=>{p[u]&&delete p[u]})}else if(s==="series"){if(!((r=n.series)!=null&&r.some(p=>p.type===d)))continue;o.push(`series[type=${d}]`),n.series=n.series.filter(p=>p.type!==d)}else if(s==="series-option"){if(!((i=n.series)!=null&&i.some(p=>p[u])))continue;o.push(`series.${u}`),n.series.forEach(p=>{p[u]&&delete p[u]})}}o.length&&Oe.warnOnce([`unable to use these enterprise features as 'ag-charts-enterprise' has not been loaded:
`,"",...o,"","See: https://charts.ag-grid.com/javascript/installation/"].join(`
`))}var nr=class{constructor(n){this.className=n}set(n){const t=new Set(Object.keys(n));for(const e of ig(this))if(t.has(e)){const r=n[e],i=this;ta(i[e])?i[e]=i[e]instanceof Qw?i[e].reset(r):i[e].set(r):i[e]=r,t.delete(e)}for(const e of t){const{className:r=this.constructor.name}=this.constructor;Oe.warn(`unable to set [${e}] in ${r} - property is unknown`)}return this}isValid(){return ig(this).every(n=>{const{optional:t}=MBe(this,n);return t||typeof this[n]<"u"})}toJson(){return ig(this).reduce((n,t)=>{const e=this[t];return n[t]=ta(e)?e.toJson():e,n},{})}},Qw=class uQ extends Array{constructor(t,...e){super(e.length),Object.defineProperty(this,"itemFactory",{value:t,enumerable:!1,configurable:!1}),this.set(e)}set(t){if(fn(t)){this.length=t.length;for(let e=0;e<t.length;e++)this[e]=new this.itemFactory().set(t[e])}return this}reset(t){return new uQ(this.itemFactory,...t)}toJson(){return this.slice()}};function ta(n){return n instanceof nr||n instanceof Qw}var hE="class-instance";function da(n,t){if(fn(t)){if(!fn(n)||n.length!==t.length||t.some((e,r)=>da(n[r],e)!=null))return t}else if(ts(t)){if(!ts(n))return t;const e={},r=new Set([...Object.keys(n),...Object.keys(t)]);for(const i of r)if(n[i]!==t[i])if(typeof n[i]!=typeof t[i])e[i]=t[i];else{const o=da(n[i],t[i]);o!==null&&(e[i]=o)}return Object.keys(e).length?e:null}else if(n!==t)return t;return null}function yi(n,t){return fn(n)?n.map(e=>yi(e,t)):ts(n)?Object.entries(n).reduce((e,[r,i])=>{var o;return e[r]=(o=t==null?void 0:t.shallow)!=null&&o.includes(r)?bO(i):yi(i,t),e},{}):bO(n)}function bO(n){return fn(n)?[...n]:ts(n)?J({},n):KT(n)?new Date(n):tQ(n)?new RegExp(n.source,n.flags):n}function Vl(n,t,e,...r){var i;if(fn(n))t(n,...r),n.forEach((o,a)=>{Vl(o,t,e,...XU(r,a))});else if(ts(n)){t(n,...r);for(const o of Object.keys(n)){if((i=e==null?void 0:e.skip)!=null&&i.includes(o))continue;const a=n[o];(fn(a)||ts(a))&&Vl(a,t,e,...XU(r,o))}}}function Hd(n,t,e={}){var r,i,o;const{path:a,matcherPath:s=a?a.replace(/(\[[0-9+]+])/i,"[]"):void 0,skip:l=[],constructors:u={},constructedArrays:c=new WeakMap,allowedTypes:d={},idx:p}=e;if(n==null)throw new Error(`AG Charts - target is uninitialised: ${a??"<root>"}`);if(t==null)return n;if(ta(n))return n.set(t);const h=n;p!=null&&"_declarationOrder"in h&&(h._declarationOrder=p);const f=XD(n);for(const v in t){const g=`${s?s+".":""}${v}`;if(l.indexOf(g)>=0)continue;const y=t[v],m=`${a?a+".":""}${v}`,C=h.constructor,S=h[v];let w=(r=u[g])!=null?r:u[v];try{const _=XD(S),x=XD(y);if(f===hE&&!(v in n||Object.hasOwn(h,v))){Oe.warn(`unable to set [${m}] in ${C==null?void 0:C.name} - property is unknown`);continue}const b=(i=d[g])!=null?i:[_];if(!(_===hE&&x==="object")){if(_!=null&&x!=null&&!b.includes(x)){Oe.warn(`unable to set [${m}] in ${C==null?void 0:C.name} - can't apply type of [${x}], allowed types are: [${b}]`);continue}}if(x==="array")if(w=(o=w??c.get(S))!=null?o:u[`${g}[]`],ta(h[v]))h[v].set(y);else if(w!=null){const O=y;h[v]=O.map((P,D)=>Hd(new w,P,Te(J({},e),{path:m,matcherPath:g+"[]",idx:D})))}else h[v]=y;else if(x===hE)h[v]=y;else if(x==="object")if(ta(S))h[v].set(y);else if(S!=null)Hd(S,y,Te(J({},e),{path:m,matcherPath:g,idx:void 0}));else if(w!=null){const O=new w;ta(O)?h[v]=O.set(y):h[v]=Hd(O,y,Te(J({},e),{path:m,matcherPath:g,idx:void 0}))}else h[v]=y;else ta(h[v])?h[v].set(y):h[v]=y}catch(_){Oe.warn(`unable to set [${m}] in [${C==null?void 0:C.name}]; nested error is: ${_.message}`)}}return n}function XU(n,t){return n.map(e=>e==null?void 0:e[t])}function XD(n){return n==null?null:rQ(n)||KT(n)?"primitive":fn(n)?"array":nu(n)?ts(n)?"object":hE:Qg(n)?"function":"primitive"}var cQ={},dQ={},aI={},pQ={},hQ={},fQ=new Set,vQ=new Set,gQ=new Set,yQ=new Set,sI={};function qBe({identifier:n,chartTypes:[t],instanceConstructor:e,seriesDefaults:r,themeTemplate:i,enterpriseThemeTemplate:o,paletteFactory:a,solo:s,stackable:l,groupable:u,stackedByDefault:c,swapDefaultAxesCondition:d}){cQ[n]=e,dQ[n]=r,mQ(n,i,o),a&&e2e(n,a),s&&a2e(n),l&&s2e(n),u&&o2e(n),c&&l2e(n),d&&u2e(n,d),NBe(n,t)}function mQ(n,t,e={}){const r=aI[n];aI[n]=mt(t,r),pQ[n]=mt(e,t,r)}function ZBe(n,t){const e=cQ[n];if(e)return new e(t);throw new Error(`AG Charts - unknown series type: ${n}`)}function QBe(n){var t;return yi((t=dQ[n])!=null?t:{})}function JBe(n){return rg.isEnterprise?pQ[n]:aI[n]}function e2e(n,t){hQ[n]=t}function t2e(n){return hQ[n]}function qD(n){return fQ.has(n)}function r2e(n){return vQ.has(n)}function n2e(n){return gQ.has(n)}function i2e(n){return yQ.has(n)}function o2e(n){gQ.add(n)}function a2e(n){fQ.add(n)}function s2e(n){vQ.add(n)}function l2e(n){yQ.add(n)}function u2e(n,t){sI[n]=t}function c2e(n){var t,e;let r;for(const i of(t=n.series)!=null?t:[]){const{type:o="line"}=i,a=(e=sI[o])==null?void 0:e.call(sI,i);if(a!=null){if(r!=null&&r!=a)throw new Error("AG Charts - The provided series have incompatible directions");r=a}}return r}var CQ={};function SQ(n,t,e,r){CQ[n]=t,wQ[t]=r}var wQ={};function d2e(){return wQ}function p2e(){return CQ}var _Q=(n=>(n[n.SMALL=12]="SMALL",n[n.MEDIUM=13]="MEDIUM",n[n.LARGE=17]="LARGE",n))(_Q||{}),xQ=(n=>(n.NORMAL="normal",n.BOLD="bold",n.BOLDER="bolder",n.LIGHTER="lighter",n))(xQ||{}),EQ=(n=>(n.TOP="top",n.RIGHT="right",n.BOTTOM="bottom",n.LEFT="left",n))(EQ||{}),bQ=(n=>(n.CATEGORY="category",n.NUMBER="number",n.TIME="time",n.LOG="log",n))(bQ||{}),OQ=(n=>(n.ANGLE_CATEGORY="angle-category",n.ANGLE_NUMBER="angle-number",n.RADIUS_CATEGORY="radius-category",n.RADIUS_NUMBER="radius-number",n))(OQ||{}),RQ=(n=>(n.CIRCLE="circle",n.POLYGON="polygon",n))(RQ||{}),Tl={BLUE:"#5090dc",ORANGE:"#ffa03a",GREEN:"#459d55",CYAN:"#34bfe1",YELLOW:"#e1cc00",VIOLET:"#9669cb",GRAY:"#b5b5b5",MAGENTA:"#bd5aa7",BROWN:"#8a6224",RED:"#ef5452"},Bh={BLUE:"#2b5c95",ORANGE:"#cc6f10",GREEN:"#1e652e",CYAN:"#18859e",YELLOW:"#a69400",VIOLET:"#603c88",GRAY:"#575757",MAGENTA:"#7d2f6d",BROWN:"#4f3508",RED:"#a82529"},fh=Symbol("is-dark-theme"),TQ=Symbol("extends-chart-defaults"),PQ=Symbol("extends-legend-defaults"),AQ=Symbol("extends-legend-item-defaults"),DQ=Symbol("extends-legend-item-marker-defaults"),MQ=Symbol("extends-axes-defaults"),LQ=Symbol("extends-axes-label-defaults"),FQ=Symbol("extends-axes-line-defaults"),IQ=Symbol("extends-axes-tick-defaults"),NQ=Symbol("extends-axes-grid-line-defaults"),_c=Symbol("extends-series-defaults"),ey=Symbol("extends-cartesian-marker-defaults"),kQ=Symbol("override-series-label-defaults"),_n=Symbol("default-font"),It=Symbol("default-label-colour"),GQ=Symbol("default-inverted-label-colour"),ty=Symbol("default-inside-series-label-colour"),og=Symbol("default-muted-label-colour"),OO=Symbol("default-axis-grid-colour"),fE=Symbol("default-axis-line-colour"),GC=Symbol("default-cross-lines-colour"),YS=Symbol("default-background-colour"),ry=Symbol("default-shadow-colour"),zs=Symbol("default-waterfall-series-positive-colors"),Ks=Symbol("default-waterfall-series-negative-colors"),Ys=Symbol("default-waterfall-series-total-colors"),Xs=Symbol("default-waterfall-series-connector-line-stroke"),TV=Symbol("default-polar-series-stroke"),qs=Symbol("default-diverging-series-colour-range"),PV=Symbol("default-hierarchy-fills"),AV=Symbol("default-hierarchy-strokes"),ZD="white",h2e={fills:Object.values(Tl),strokes:Object.values(Bh)},lI={get cartesian(){return{seriesTypes:$a.cartesianTypes,commonOptions:["zoom","navigator"]}},get polar(){return{seriesTypes:$a.polarTypes,commonOptions:[]}},get hierarchy(){return{seriesTypes:$a.hierarchyTypes,commonOptions:[]}}},f2e=Object.values(lI).reduce((n,{commonOptions:t})=>[...n,...t],[]);function v2e(n,t){var e,r;return n==null?null:{fills:(e=n.fills)!=null?e:t.fills,strokes:(r=n.strokes)!=null?r:t.strokes}}var Zp=class Vr{getPalette(){return h2e}static getAxisDefaults(t){return mt(t,{top:{},right:{},bottom:{},left:{},title:{enabled:!1,text:"Axis Title",spacing:25,fontWeight:"normal",fontSize:13,fontFamily:_n,color:It},label:{fontSize:12,fontFamily:_n,padding:5,color:It,avoidCollisions:!0},line:{enabled:!0,width:1,color:fE},tick:{enabled:!1,width:1,color:fE},gridLine:{enabled:!0,style:[{stroke:OO,lineDash:[]}]},crossLines:{enabled:!1,fill:GC,stroke:GC,fillOpacity:.1,strokeWidth:1,label:{enabled:!1,fontSize:12,fontFamily:_n,padding:5,color:It}}})}static getSeriesDefaults(){return{tooltip:{enabled:!0},visible:!0,showInLegend:!0,highlightStyle:{item:{fill:"rgba(255,255,255, 0.33)",stroke:"rgba(0, 0, 0, 0.4)",strokeWidth:2},series:{dimOpacity:1},text:{color:"black"}},nodeClickRange:"exact"}}static getCartesianSeriesMarkerDefaults(){return{enabled:!0,shape:"circle",size:7,strokeWidth:1}}static getLegendItemMarkerDefaults(){return{size:15,padding:8}}static getCaptionWrappingDefaults(){return"hyphenate"}static getChartDefaults(){return{background:{visible:!0,fill:YS},padding:{top:20,right:20,bottom:20,left:20},title:{enabled:!1,text:"Title",fontWeight:"normal",fontSize:17,fontFamily:_n,color:It,wrapping:Vr.getCaptionWrappingDefaults()},subtitle:{enabled:!1,text:"Subtitle",spacing:20,fontSize:13,fontFamily:_n,color:og,wrapping:Vr.getCaptionWrappingDefaults()},footnote:{enabled:!1,text:"Footnote",spacing:20,fontSize:13,fontFamily:_n,color:"rgb(140, 140, 140)",wrapping:Vr.getCaptionWrappingDefaults()},legend:{position:"bottom",spacing:30,listeners:{},item:{paddingX:16,paddingY:8,marker:Vr.getLegendItemMarkerDefaults(),toggleSeriesVisible:!0,label:{color:It,fontSize:12,fontFamily:_n}},reverseOrder:!1,pagination:{marker:{size:12},activeStyle:{fill:It},inactiveStyle:{fill:og},highlightStyle:{fill:It},label:{color:It}}},tooltip:{enabled:!0,darkTheme:fh,range:"nearest",delay:0},overlays:{loading:{darkTheme:fh},noData:{darkTheme:fh},noVisibleSeries:{darkTheme:fh}},listeners:{}}}constructor(t){var e;t=yi(t??{});const{overrides:r=null,palette:i=null}=t,o=this.createChartConfigPerChartType(this.getDefaults());if(r){const{common:s}=r,l=(u,c)=>{if(c)for(const d of u){const p=d;o[p]=mt(c,o[p])}};for(const[,{seriesTypes:u,commonOptions:c}]of Object.entries(lI)){const d=J({},s);for(const p of f2e)c.includes(p)||delete d[p];l(u,d)}$a.seriesTypes.forEach(u=>{const c=u;r[c]&&(o[c]=mt(r[c],o[c]))})}const a=this.getPalette();this.palette=(e=v2e(i,a))!=null?e:a,this.config=Object.freeze(this.templateTheme(o))}createChartConfigPerChartType(t){return Object.entries(lI).forEach(([e,{seriesTypes:r}])=>{const i=YU(e);r.forEach(o=>{const a=o;t[a]||(t[a]=yi(i))})}),t}getDefaults(){const t=r=>J(J(J({axes:{}},d2e()),Vr.getChartDefaults()),YU(r)),e=(r,i)=>{var o;const a=t(r),s={};for(const l of i){s[l]=mt(JBe(l),(o=s[l])!=null?o:yi(a));const{axes:u}=s[l];for(const c of bV.axesTypes)u[c]=mt(u[c],PBe(c),r==="cartesian"&&Vr.cartesianAxisDefault[c])}return s};return mt(e("cartesian",$a.cartesianTypes),e("polar",$a.polarTypes),e("hierarchy",$a.hierarchyTypes))}templateTheme(t){const e=yi(t),{extensions:r,properties:i}=this.getTemplateParameters();return Vl(e,o=>{if(o.__extends__){const a=o.__extends__,s=r.get(a);if(s==null)throw new Error(`AG Charts - no template variable provided for: ${a}`);Object.keys(s).forEach(l=>{l in o?nu(o[l])&&(o[l]=mt(o[l],s[l])):o[l]=s[l]}),delete o.__extends__}if(o.__overrides__){const a=o.__overrides__,s=r.get(a);if(s==null)throw new Error(`AG Charts - no template variable provided for: ${a}`);Object.assign(o,s),delete o.__overrides__}if(fn(o))for(let a=0;a<o.length;a++){const s=o[a];i.has(s)&&(o[a]=i.get(s))}else for(const[a,s]of Object.entries(o))i.has(s)&&(o[a]=i.get(s))}),yi(e)}static getWaterfallSeriesDefaultPositiveColors(){return{fill:Tl.BLUE,stroke:Bh.BLUE,label:{color:It}}}static getWaterfallSeriesDefaultNegativeColors(){return{fill:Tl.ORANGE,stroke:Bh.ORANGE,label:{color:It}}}static getWaterfallSeriesDefaultTotalColors(){return{fill:Tl.GRAY,stroke:Bh.GRAY,label:{color:It}}}getTemplateParameters(){const t=new Map;t.set(TQ,Vr.getChartDefaults()),t.set(MQ,Vr.getAxisDefaults()),t.set(PQ,Vr.getChartDefaults().legend),t.set(AQ,Vr.getChartDefaults().legend.item),t.set(DQ,Vr.getLegendItemMarkerDefaults()),t.set(LQ,Vr.getAxisDefaults().label),t.set(FQ,Vr.getAxisDefaults().line),t.set(IQ,Vr.getAxisDefaults().tick),t.set(NQ,Vr.getAxisDefaults().gridLine),t.set(_c,Vr.getSeriesDefaults()),t.set(kQ,{}),t.set(ey,Vr.getCartesianSeriesMarkerDefaults());const e=new Map;return e.set(fh,!1),e.set(_n,"Verdana, sans-serif"),e.set(It,"rgb(70, 70, 70)"),e.set(GQ,"white"),e.set(og,"rgb(140, 140, 140)"),e.set(OO,"rgb(224,234,241)"),e.set(fE,"rgb(195, 195, 195)"),e.set(GC,"rgb(70, 70, 70)"),e.set(ty,ZD),e.set(YS,ZD),e.set(ry,"rgba(0, 0, 0, 0.5)"),e.set(qs,[Tl.ORANGE,Tl.YELLOW,Tl.GREEN]),e.set(PV,["#ffffff","#e0e5ea","#c1ccd5","#a3b4c1","#859cad"]),e.set(AV,["#ffffff","#c5cbd1","#a4b1bd","#8498a9","#648096"]),e.set(TV,ZD),e.set(zs,Vr.getWaterfallSeriesDefaultPositiveColors()),e.set(Ks,Vr.getWaterfallSeriesDefaultNegativeColors()),e.set(Ys,Vr.getWaterfallSeriesDefaultTotalColors()),e.set(Xs,Vr.getWaterfallSeriesDefaultTotalColors().stroke),{extensions:t,properties:e}}};Zp.cartesianAxisDefault={number:Zp.getAxisDefaults({line:{enabled:!1}}),log:Zp.getAxisDefaults({base:10,line:{enabled:!1}}),category:Zp.getAxisDefaults({groupPaddingInner:.1,label:{autoRotate:!0},gridLine:{enabled:!1}}),time:Zp.getAxisDefaults({gridLine:{enabled:!1}}),"grouped-category":Zp.getAxisDefaults()};var xc=Zp,QD="#192232",Qp={BLUE:"#5090dc",ORANGE:"#ffa03a",GREEN:"#459d55",CYAN:"#34bfe1",YELLOW:"#e1cc00",VIOLET:"#9669cb",GRAY:"#b5b5b5",MAGENTA:"#bd5aa7",BROWN:"#8a6224",RED:"#ef5452"},vE={BLUE:"#74a8e6",ORANGE:"#ffbe70",GREEN:"#6cb176",CYAN:"#75d4ef",YELLOW:"#f6e559",VIOLET:"#aa86d8",GRAY:"#a1a1a1",MAGENTA:"#ce7ab9",BROWN:"#997b52",RED:"#ff7872"},g2e={fills:Object.values(Qp),strokes:Object.values(vE)},Jw=class Xm extends xc{static getWaterfallSeriesDefaultPositiveColors(){return{fill:Qp.BLUE,stroke:vE.BLUE,label:{color:"white"}}}static getWaterfallSeriesDefaultNegativeColors(){return{fill:Qp.ORANGE,stroke:vE.ORANGE,label:{color:"white"}}}static getWaterfallSeriesDefaultTotalColors(){return{fill:Qp.GRAY,stroke:vE.GRAY,label:{color:"white"}}}getTemplateParameters(){const t=super.getTemplateParameters();return t.properties.set(fh,!0),t.properties.set(zs,Xm.getWaterfallSeriesDefaultPositiveColors()),t.properties.set(Ks,Xm.getWaterfallSeriesDefaultNegativeColors()),t.properties.set(Ys,Xm.getWaterfallSeriesDefaultTotalColors()),t.properties.set(Xs,Xm.getWaterfallSeriesDefaultTotalColors().stroke),t.properties.set(TV,QD),t.properties.set(It,"white"),t.properties.set(og,"#7D91A0"),t.properties.set(OO,"#545A6E"),t.properties.set(GC,"white"),t.properties.set(qs,[Qp.ORANGE,Qp.YELLOW,Qp.GREEN]),t.properties.set(PV,["#192834","#253746","#324859","#3f596c","#4d6a80"]),t.properties.set(AV,["#192834","#3b5164","#496275","#577287","#668399"]),t.properties.set(YS,QD),t.properties.set(ty,QD),t}getPalette(){return g2e}constructor(t){super(t)}},Jp={BLUE:"#2196F3",ORANGE:"#FF9800",GREEN:"#4CAF50",CYAN:"#00BCD4",YELLOW:"#FFEB3B",VIOLET:"#7E57C2",GRAY:"#9E9E9E",MAGENTA:"#F06292",BROWN:"#795548",RED:"#F44336"},gE={BLUE:"#90CAF9",ORANGE:"#FFCC80",GREEN:"#A5D6A7",CYAN:"#80DEEA",YELLOW:"#FFF9C4",VIOLET:"#B39DDB",GRAY:"#E0E0E0",MAGENTA:"#F48FB1",BROWN:"#A1887F",RED:"#EF9A9A"},y2e={fills:Object.values(Jp),strokes:Object.values(gE)},m2e=class qm extends Jw{static getWaterfallSeriesDefaultPositiveColors(){return{fill:Jp.BLUE,stroke:gE.BLUE,label:{color:"white"}}}static getWaterfallSeriesDefaultNegativeColors(){return{fill:Jp.RED,stroke:gE.RED,label:{color:"white"}}}static getWaterfallSeriesDefaultTotalColors(){return{fill:Jp.GRAY,stroke:gE.GRAY,label:{color:"white"}}}getTemplateParameters(){const t=super.getTemplateParameters();return t.properties.set(zs,qm.getWaterfallSeriesDefaultPositiveColors()),t.properties.set(Ks,qm.getWaterfallSeriesDefaultNegativeColors()),t.properties.set(Ys,qm.getWaterfallSeriesDefaultTotalColors()),t.properties.set(qs,[Jp.ORANGE,Jp.YELLOW,Jp.GREEN]),t.properties.set(Xs,qm.getWaterfallSeriesDefaultTotalColors().stroke),t}getPalette(){return y2e}},eh={BLUE:"#2196F3",ORANGE:"#FF9800",GREEN:"#4CAF50",CYAN:"#00BCD4",YELLOW:"#FFEB3B",VIOLET:"#7E57C2",GRAY:"#9E9E9E",MAGENTA:"#F06292",BROWN:"#795548",RED:"#F44336"},yE={BLUE:"#1565C0",ORANGE:"#E65100",GREEN:"#2E7D32",CYAN:"#00838F",YELLOW:"#F9A825",VIOLET:"#4527A0",GRAY:"#616161",MAGENTA:"#C2185B",BROWN:"#4E342E",RED:"#B71C1C"},C2e={fills:Object.values(eh),strokes:Object.values(yE)},S2e=class Zm extends xc{static getWaterfallSeriesDefaultPositiveColors(){return{fill:eh.BLUE,stroke:yE.BLUE,label:{color:It}}}static getWaterfallSeriesDefaultNegativeColors(){return{fill:eh.RED,stroke:yE.RED,label:{color:It}}}static getWaterfallSeriesDefaultTotalColors(){return{fill:eh.GRAY,stroke:yE.GRAY,label:{color:It}}}getTemplateParameters(){const t=super.getTemplateParameters();return t.properties.set(zs,Zm.getWaterfallSeriesDefaultPositiveColors()),t.properties.set(Ks,Zm.getWaterfallSeriesDefaultNegativeColors()),t.properties.set(Ys,Zm.getWaterfallSeriesDefaultTotalColors()),t.properties.set(qs,[eh.ORANGE,eh.YELLOW,eh.GREEN]),t.properties.set(Xs,Zm.getWaterfallSeriesDefaultTotalColors().stroke),t}getPalette(){return C2e}},Qm={BLUE:"#436ff4",PURPLE:"#9a7bff",MAGENTA:"#d165d2",PINK:"#f0598b",RED:"#f47348",ORANGE:"#f2a602",YELLOW:"#e9e201",GREEN:"#21b448",CYAN:"#00b9a2",MODERATE_BLUE:"#00aee4"},uI={BLUE:"#6698ff",PURPLE:"#c0a3ff",MAGENTA:"#fc8dfc",PINK:"#ff82b1",RED:"#ff9b70",ORANGE:"#ffcf4e",YELLOW:"#ffff58",GREEN:"#58dd70",CYAN:"#51e2c9",MODERATE_BLUE:"#4fd7ff"},w2e="#bbbbbb",_2e="#eeeeee",x2e={fills:Object.values(Qm),strokes:Object.values(uI)},E2e=class Jm extends Jw{static getWaterfallSeriesDefaultPositiveColors(){return{fill:Qm.BLUE,stroke:uI.BLUE,label:{color:"white"}}}static getWaterfallSeriesDefaultNegativeColors(){return{fill:Qm.RED,stroke:uI.RED,label:{color:"white"}}}static getWaterfallSeriesDefaultTotalColors(){return{fill:w2e,stroke:_2e,label:{color:"white"}}}getTemplateParameters(){const t=super.getTemplateParameters();return t.properties.set(zs,Jm.getWaterfallSeriesDefaultPositiveColors()),t.properties.set(Ks,Jm.getWaterfallSeriesDefaultNegativeColors()),t.properties.set(Ys,Jm.getWaterfallSeriesDefaultTotalColors()),t.properties.set(qs,[Qm.BLUE,Qm.RED]),t.properties.set(Xs,Jm.getWaterfallSeriesDefaultTotalColors().stroke),t}getPalette(){return x2e}},eC={BLUE:"#436ff4",PURPLE:"#9a7bff",MAGENTA:"#d165d2",PINK:"#f0598b",RED:"#f47348",ORANGE:"#f2a602",YELLOW:"#e9e201",GREEN:"#21b448",CYAN:"#00b9a2",MODERATE_BLUE:"#00aee4"},cI={BLUE:"#2346c9",PURPLE:"#7653d4",MAGENTA:"#a73da9",PINK:"#c32d66",RED:"#c84b1c",ORANGE:"#c87f00",YELLOW:"#c1b900",GREEN:"#008c1c",CYAN:"#00927c",MODERATE_BLUE:"#0087bb"},b2e="#bbbbbb",O2e="#888888",R2e={fills:Object.values(eC),strokes:Object.values(cI)},T2e=class tC extends xc{static getWaterfallSeriesDefaultPositiveColors(){return{fill:eC.BLUE,stroke:cI.BLUE,label:{color:It}}}static getWaterfallSeriesDefaultNegativeColors(){return{fill:eC.RED,stroke:cI.RED,label:{color:It}}}static getWaterfallSeriesDefaultTotalColors(){return{fill:b2e,stroke:O2e,label:{color:It}}}getTemplateParameters(){const t=super.getTemplateParameters();return t.properties.set(zs,tC.getWaterfallSeriesDefaultPositiveColors()),t.properties.set(Ks,tC.getWaterfallSeriesDefaultNegativeColors()),t.properties.set(Ys,tC.getWaterfallSeriesDefaultTotalColors()),t.properties.set(qs,[eC.BLUE,eC.RED]),t.properties.set(Xs,tC.getWaterfallSeriesDefaultTotalColors().stroke),t}getPalette(){return R2e}},th={BLUE:"#4472C4",ORANGE:"#ED7D31",GRAY:"#A5A5A5",YELLOW:"#FFC000",MODERATE_BLUE:"#5B9BD5",GREEN:"#70AD47",DARK_GRAY:"#7B7B7B",DARK_BLUE:"#264478",VERY_DARK_GRAY:"#636363",DARK_YELLOW:"#997300"},mE={BLUE:"#6899ee",ORANGE:"#ffa55d",GRAY:"#cdcdcd",YELLOW:"#ffea53",MODERATE_BLUE:"#82c3ff",GREEN:"#96d56f",DARK_GRAY:"#a1a1a1",DARK_BLUE:"#47689f",VERY_DARK_GRAY:"#878787",DARK_YELLOW:"#c0993d"},P2e={fills:Object.values(th),strokes:Object.values(mE)},A2e=class rC extends Jw{static getWaterfallSeriesDefaultPositiveColors(){return{fill:th.BLUE,stroke:mE.BLUE,label:{color:"white"}}}static getWaterfallSeriesDefaultNegativeColors(){return{fill:th.ORANGE,stroke:mE.ORANGE,label:{color:"white"}}}static getWaterfallSeriesDefaultTotalColors(){return{fill:th.GRAY,stroke:mE.GRAY,label:{color:"white"}}}getTemplateParameters(){const t=super.getTemplateParameters();return t.properties.set(zs,rC.getWaterfallSeriesDefaultPositiveColors()),t.properties.set(Ks,rC.getWaterfallSeriesDefaultNegativeColors()),t.properties.set(Ys,rC.getWaterfallSeriesDefaultTotalColors()),t.properties.set(qs,[th.ORANGE,th.YELLOW,th.GREEN]),t.properties.set(Xs,rC.getWaterfallSeriesDefaultTotalColors().stroke),t}getPalette(){return P2e}},rh={BLUE:"#5281d5",ORANGE:"#ff8d44",GRAY:"#b5b5b5",YELLOW:"#ffd02f",MODERATE_BLUE:"#6aabe6",GREEN:"#7fbd57",DARK_GRAY:"#8a8a8a",DARK_BLUE:"#335287",VERY_DARK_GRAY:"#717171",DARK_YELLOW:"#a98220"},CE={BLUE:"#214d9b",ORANGE:"#c25600",GRAY:"#7f7f7f",YELLOW:"#d59800",MODERATE_BLUE:"#3575ac",GREEN:"#4b861a",DARK_GRAY:"#575757",DARK_BLUE:"#062253",VERY_DARK_GRAY:"#414141",DARK_YELLOW:"#734f00"},D2e={fills:Object.values(rh),strokes:Object.values(CE)},M2e=class nC extends xc{static getWaterfallSeriesDefaultPositiveColors(){return{fill:rh.BLUE,stroke:CE.BLUE,label:{color:It}}}static getWaterfallSeriesDefaultNegativeColors(){return{fill:rh.ORANGE,stroke:CE.ORANGE,label:{color:It}}}static getWaterfallSeriesDefaultTotalColors(){return{fill:rh.GRAY,stroke:CE.GRAY,label:{color:It}}}getTemplateParameters(){const t=super.getTemplateParameters();return t.properties.set(zs,nC.getWaterfallSeriesDefaultPositiveColors()),t.properties.set(Ks,nC.getWaterfallSeriesDefaultNegativeColors()),t.properties.set(Ys,nC.getWaterfallSeriesDefaultTotalColors()),t.properties.set(qs,[rh.ORANGE,rh.YELLOW,rh.GREEN]),t.properties.set(Xs,nC.getWaterfallSeriesDefaultTotalColors().stroke),t}getPalette(){return D2e}},nh={BLUE:"#0083ff",ORANGE:"#ff6600",GREEN:"#00af00",CYAN:"#00ccff",YELLOW:"#f7c700",VIOLET:"#ac26ff",GRAY:"#a7a7b7",MAGENTA:"#e800c5",BROWN:"#b54300",RED:"#ff0000"},SE={BLUE:"#67b7ff",ORANGE:"#ffc24d",GREEN:"#5cc86f",CYAN:"#54ebff",VIOLET:"#c18aff",YELLOW:"#fff653",GRAY:"#aeaeae",MAGENTA:"#f078d4",BROWN:"#ba8438",RED:"#ff726e"},L2e={fills:Object.values(nh),strokes:Object.values(SE)},F2e=class iC extends Jw{static getWaterfallSeriesDefaultPositiveColors(){return{fill:nh.BLUE,stroke:SE.BLUE,label:{color:"white"}}}static getWaterfallSeriesDefaultNegativeColors(){return{fill:nh.ORANGE,stroke:SE.ORANGE,label:{color:"white"}}}static getWaterfallSeriesDefaultTotalColors(){return{fill:nh.GRAY,stroke:SE.GRAY,label:{color:"white"}}}getTemplateParameters(){const t=super.getTemplateParameters();return t.properties.set(zs,iC.getWaterfallSeriesDefaultPositiveColors()),t.properties.set(Ks,iC.getWaterfallSeriesDefaultNegativeColors()),t.properties.set(Ys,iC.getWaterfallSeriesDefaultTotalColors()),t.properties.set(qs,[nh.ORANGE,nh.YELLOW,nh.GREEN]),t.properties.set(Xs,iC.getWaterfallSeriesDefaultTotalColors().stroke),t}getPalette(){return L2e}},ih={BLUE:"#0083ff",ORANGE:"#ff6600",GREEN:"#00af00",CYAN:"#00ccff",YELLOW:"#f7c700",VIOLET:"#ac26ff",GRAY:"#a7a7b7",MAGENTA:"#e800c5",BROWN:"#b54300",RED:"#ff0000"},wE={BLUE:"#0f68c0",ORANGE:"#d47100",GREEN:"#007922",CYAN:"#009ac2",VIOLET:"#bca400",YELLOW:"#753cac",GRAY:"#646464",MAGENTA:"#9b2685",BROWN:"#6c3b00",RED:"#cb0021"},I2e={fills:Object.values(ih),strokes:Object.values(wE)},N2e=class oC extends xc{static getWaterfallSeriesDefaultPositiveColors(){return{fill:ih.BLUE,stroke:wE.BLUE,label:{color:It}}}static getWaterfallSeriesDefaultNegativeColors(){return{fill:ih.ORANGE,stroke:wE.ORANGE,label:{color:It}}}static getWaterfallSeriesDefaultTotalColors(){return{fill:ih.GRAY,stroke:wE.GRAY,label:{color:It}}}getTemplateParameters(){const t=super.getTemplateParameters();return t.properties.set(zs,oC.getWaterfallSeriesDefaultPositiveColors()),t.properties.set(Ks,oC.getWaterfallSeriesDefaultNegativeColors()),t.properties.set(Ys,oC.getWaterfallSeriesDefaultTotalColors()),t.properties.set(qs,[ih.ORANGE,ih.YELLOW,ih.GREEN]),t.properties.set(Xs,oC.getWaterfallSeriesDefaultTotalColors().stroke),t}getPalette(){return I2e}},VC=()=>new xc,JD=()=>new Jw,k2e={undefined:VC,null:VC,"ag-default":VC,"ag-sheets":()=>new M2e,"ag-polychroma":()=>new T2e,"ag-vivid":()=>new N2e,"ag-material":()=>new S2e},G2e={undefined:JD,null:JD,"ag-default-dark":JD,"ag-sheets-dark":()=>new A2e,"ag-polychroma-dark":()=>new E2e,"ag-vivid-dark":()=>new F2e,"ag-material-dark":()=>new m2e},VQ=J(J({},G2e),k2e);function V2e(n){if(n===null)return;let t=!0;const{baseTheme:e,palette:r,overrides:i}=n;if(e!==void 0&&typeof e!="string"&&typeof e!="object"&&(Oe.warn(`invalid theme.baseTheme type ${typeof e}, expected (string | object).`),t=!1),i!==void 0&&typeof i!="object"&&(Oe.warn(`invalid theme.overrides type ${typeof i}, expected object.`),t=!1),typeof r=="object"){if(r!==null){const{fills:o,strokes:a}=r;o!==void 0&&!Array.isArray(o)&&(Oe.warn("theme.overrides.fills must be undefined or an array"),t=!1),a!==void 0&&!Array.isArray(a)&&(Oe.warn("theme.overrides.strokes must be undefined or an array"),t=!1)}}else r!==void 0&&(Oe.warn(`invalid theme.palette type ${typeof r}, expected object.`),t=!1);if(t)return n}function B2e(n){if(n===void 0||typeof n=="string"||n instanceof xc)return n;if(typeof n=="object")return V2e(n);Oe.warn(`invalid theme value type ${typeof n}, expected object or string.`)}function DV(n){let t=B2e(n);if(t instanceof xc)return t;if(t===void 0||typeof t=="string"){const a=VQ[t];return a?a():(Oe.warnOnce(`the theme [${t}] is invalid, using [ag-default] instead.`),VC())}const e=[];let r;for(;typeof t=="object";)e.push(t.overrides),r??(r=t.palette),t=t.baseTheme;const i={baseTheme:t,overrides:mt(...e),palette:r},o=i.baseTheme?DV(i.baseTheme):VC();return new o.constructor(i)}function lu(n){if(n.length===0)return;let t=1/0,e=-1/0;for(let i of n)i instanceof Date&&(i=i.getTime()),typeof i=="number"&&(i<t&&(t=i),i>e&&(e=i));const r=[t,e];if(r.every(isFinite))return r}function BQ(n,t,e){return e0(n,t,e).extent}function e0(n,t,e){var r;let i=!1;return n.length>2&&(n=(r=lu(n))!=null?r:[NaN,NaN]),isNaN(t)||(i||(i=t>n[0]),n=[t,n[1]]),isNaN(e)||(i||(i=e<n[1]),n=[n[0],e]),n[0]>n[1]&&(n=[]),{extent:n,clipped:i}}function BC(n,t){if(n==null||t==null||n.length!==t.length)return!1;for(let e=0;e<n.length;e++)if(Array.isArray(n[e])&&Array.isArray(t[e])){if(!BC(n[e],t[e]))return!1}else if(n[e]!==t[e])return!1;return!0}function RO(n){return typeof n>"u"?[]:Array.isArray(n)?n:[n]}function MV(n){return Array.from(new Set(n))}function LV(n,t){return n.reduce((e,r)=>{var i;const o=t(r);return(i=e[o])!=null||(e[o]=[]),e[o].push(r),e},{})}function dI(n,t,e=0){if(n.length===0)return[];const r=[];for(let i=0;i<t;i++)r.push(n.at((i+e)%n.length));return r}function pI(n){const t=typeof window<"u"?window:void 0;return t==null?void 0:t[n]}var H2e=2e3,qU=Date.now(),j2e=()=>{const n=Date.now()-qU;if(n>H2e){const t=(Math.floor(n/100)/10).toFixed(1);Oe.log(`**** ${t}s since last log message ****`)}qU=Date.now()},$r={create(...n){return Object.assign((...e)=>{$r.check(...n)&&(typeof e[0]=="function"&&(e=RO(e[0]())),j2e(),Oe.log(...e))},{check:()=>$r.check(...n)})},check(...n){return n.length===0&&n.push(!0),RO(pI("agChartsDebug")).some(e=>n.includes(e))}},HQ=class{constructor(n,t){var e,r,i;const o={shallow:["data"]},a=yi(n,o),s=this.optionsType(a);this.sanityCheckAndCleanup(a),this.userOptions=a,this.activeTheme=DV(a.theme),this.seriesDefaults=this.getOptionsDefaults(a),this.specialOverrides=this.specialOverridesDefaults(J({},t));const l=this.getSeriesThemeConfig(s),{axes:u={},series:c}=l,d=En(l,["axes","series"]);this.processedOptions=yi(mt(this.userOptions,d,this.seriesDefaults),o),this.processAxesOptions(this.processedOptions,u),this.processSeriesOptions(this.processedOptions),(Vh(this.processedOptions)||zBe(this.processedOptions))&&((e=this.processedOptions.legend)==null?void 0:e.enabled)==null&&((i=(r=this.processedOptions).legend)!=null||(r.legend={}),this.processedOptions.legend.enabled=this.processedOptions.series.length>1),this.enableConfiguredOptions(this.processedOptions),rg.isEnterprise||XBe(this.processedOptions)}getOptions(){var n;return(n=this.processedOptions)!=null?n:{}}diffOptions(n){return da(n,this.processedOptions)}getSeriesThemeConfig(n){var t,e;return yi((e=(t=this.activeTheme)==null?void 0:t.config[n])!=null?e:{})}getOptionsDefaults(n){const t=this.optionsType(n),e=QBe(t);return c2e(n)&&this.swapAxesPosition(e),e}optionsType(n){var t,e,r;return(r=(e=(t=n.series)==null?void 0:t[0])==null?void 0:e.type)!=null?r:"line"}sanityCheckAndCleanup(n){var t;this.deprecationWarnings(n),this.axesTypeIntegrity(n),this.seriesTypeIntegrity(n),this.soloSeriesIntegrity(n),this.removeDisabledOptions(n),this.removeLeftoverSymbols(n),(t=n.series)!=null&&t.some(e=>e.type==="bullet")&&n.sync!=null&&n.sync.enabled!==!1&&(Oe.warnOnce("bullet series cannot be synced, disabling synchronization."),delete n.sync)}swapAxesPosition(n){var t;if(Vh(n)){const[e,r]=(t=n.axes)!=null?t:[];n.axes=[Te(J({},e),{position:r.position}),Te(J({},r),{position:e.position})]}}processAxesOptions(n,t){"axes"in n&&(n.axes=n.axes.map(e=>{var r,i,o,a;const s=mt((r=this.seriesDefaults.axes)==null?void 0:r.find(({type:h})=>h===e.type),(i=t[e.type])==null?void 0:i[e.position],t[e.type]),{crossLines:l}=s,u=En(s,["crossLines"]);e.crossLines&&(e.crossLines=nI(e.crossLines,l));const c=(o=u.gridLine)==null?void 0:o.style;(a=e.gridLine)!=null&&a.style&&(c!=null&&c.length)&&(e.gridLine.style=e.gridLine.style.map((h,f)=>h.stroke!=null||h.lineDash!=null?mt(h,c.at(f%c.length)):h));const d=mt(e,u);return En(d,["top","right","bottom","left"])}))}processSeriesOptions(n){const t=this.getDefaultSeriesType(n),e=this.getTooltipPositionDefaults(n),r={colourIndex:0,userPalette:!!(nu(n.theme)&&n.theme.palette)},i=n.series.map(o=>{var a,s;(a=o.type)!=null||(o.type=t);const l=(s=this.getSeriesThemeConfig(o.type).series)!=null?s:{},{innerLabels:u}=l,c=En(l,["innerLabels"]),d=mt(this.getSeriesGroupingOptions(o),o,e,c,this.getSeriesPalette(o.type,r));return d.innerLabels&&(d.innerLabels=nI(d.innerLabels,u)),this.activeTheme.templateTheme(d)});n.series=this.setSeriesGroupingOptions(i)}getSeriesPalette(n,t){const e=t2e(n),{colourIndex:r,userPalette:i}=t,{fills:o=[],strokes:a=[]}=this.activeTheme.palette;return e==null?void 0:e({userPalette:i,colorsCount:Math.max(o.length,a.length),themeTemplateParameters:this.activeTheme.getTemplateParameters(),takeColors(s){return t.colourIndex+=s,{fills:dI(o,s,r),strokes:dI(a,s,r)}}})}getSeriesGroupingOptions(n){const t=n2e(n.type),e=r2e(n.type),r=i2e(n.type);n.grouped&&!t&&Oe.warnOnce(`unsupported grouping of series type "${n.type}".`),(n.stacked||n.stackGroup)&&!e&&Oe.warnOnce(`unsupported stacking of series type "${n.type}".`);let{grouped:i,stacked:o}=n;return o??(o=(r||n.stackGroup!=null)&&!(t&&i)),i??(i=!0),{stacked:e&&o,grouped:t&&i&&!(e&&o)}}setSeriesGroupingOptions(n){const t=this.getSeriesGrouping(n);$r.create(!0,"opts")("setSeriesGroupingOptions() - series grouping: ",t);const e={},r=t.reduce((i,o)=>{var a,s;return o.groupType==="default"||((s=i[a=o.seriesType])!=null||(i[a]=0),i[o.seriesType]+=o.groupType==="stack"?1:o.series.length),i},{});return t.flatMap(i=>{var o,a;switch((a=e[o=i.seriesType])!=null||(e[o]=0),i.groupType){case"stack":const s=e[i.seriesType]++;return i.series.map((l,u)=>Object.assign(l,{seriesGrouping:{groupIndex:s,groupCount:r[i.seriesType],stackIndex:u,stackCount:i.series.length}}));case"group":return i.series.map(l=>Object.assign(l,{seriesGrouping:{groupIndex:e[i.seriesType]++,groupCount:r[i.seriesType],stackIndex:0,stackCount:0}}))}return i.series}).map(i=>{var o=i,a=En(o,["stacked","grouped"]);return a})}getSeriesGroupId(n){var t;return!n.stacked&&!n.grouped?"default-ag-charts-group":[n.type,n.xKey,n.stacked?(t=n.stackGroup)!=null?t:"stacked":"grouped"].filter(Boolean).join("-")}getSeriesGrouping(n){const t=new Map;return n.reduce((e,r)=>{const i=r.type;if(!r.stacked&&!r.grouped)e.push({groupType:"default",seriesType:i,series:[r]});else{const o=this.getSeriesGroupId(r);if(!t.has(o)){const s={groupType:r.stacked?"stack":"group",seriesType:i,series:[]};t.set(o,s),e.push(s)}t.get(o).series.push(r)}return e},[])}getDefaultSeriesType(n){if(Vh(n))return"line";if(RV(n))return"treemap";if(Zw(n))return"pie";throw new Error("Invalid chart options type detected.")}getTooltipPositionDefaults(n){var t;const e=(t=n.tooltip)==null?void 0:t.position;if(!ts(e))return;const{type:r,xOffset:i,yOffset:o}=e,a={};return Ya(r)&&nQ(VZ,r)&&(a.type=r),Nt(i)&&(a.xOffset=i),Nt(o)&&(a.yOffset=o),{tooltip:{position:a}}}deprecationWarnings(n){Object.entries({yKeys:"yKey",yNames:"yName"}).forEach(([e,r])=>{var i;(i=n.series)!=null&&i.some(o=>o[e]!=null)&&Oe.warnOnce(`Property [series.${e}] is deprecated, please use [series.${r}] and multiple series instead.`)})}axesTypeIntegrity(n){var t;if("axes"in n){const e=(t=n.axes)!=null?t:[];for(const{type:r}of e)YBe(r)||(delete n.axes,Oe.warnOnce(`unknown axis type: ${r}; expected one of: ${bV.axesTypes.join(", ")}, ignoring.`))}}seriesTypeIntegrity(n){var t;const e=(t=n.series)!=null?t:[];n.series=e.filter(({type:r})=>{if(r==null||KBe(r)||lQ(r))return!0;Oe.warnOnce(`unknown series type: ${r}; expected one of: ${$a.seriesTypes.join(", ")}`)})}soloSeriesIntegrity(n){const t=n.series;if(t&&t.length>1&&t.some(e=>qD(e.type))){const e=this.optionsType(n);if(qD(e))Oe.warn(`series[0] of type '${e}' is incompatible with other series types. Only processing series[0]`),n.series=t.slice(0,1);else{const{solo:r,nonSolo:i}=LV(t,a=>qD(a.type)?"solo":"nonSolo"),o=MV(r.map(a=>a.type)).join(", ");Oe.warn(`Unable to mix these series types with the lead series type: ${o}`),n.series=i}}}enableConfiguredOptions(n){Vl(this.userOptions,(t,e)=>{e&&"enabled"in e&&!e._enabledFromTheme&&t.enabled==null&&(e.enabled=!0)},{skip:["data","theme"]},n),Vl(n,t=>{t._enabledFromTheme!=null&&delete t._enabledFromTheme},{skip:["data","theme"]})}removeDisabledOptions(n){Vl(n,t=>{"enabled"in t&&t.enabled===!1&&Object.keys(t).forEach(e=>{e!=="enabled"&&delete t[e]})},{skip:["data","theme"]})}removeLeftoverSymbols(n){Vl(n,t=>{if(!(!t||!nu(t)))for(const[e,r]of Object.entries(t))iQ(r)&&delete t[e]},{skip:["data"]})}specialOverridesDefaults(n){if(n.window==null)if(typeof window<"u")n.window=window;else if(typeof global<"u")n.window=global.window;else throw new Error("AG Charts - unable to resolve global window");if(n.document==null)if(typeof document<"u")n.document=document;else if(typeof global<"u")n.document=global.document;else throw new Error("AG Charts - unable to resolve global document");return n}};function FV(){return(n,t)=>{const e=[`Property [${n}] is deprecated.`,t].filter(Boolean).join(" ");Oe.warnOnce(e)}}function wf(n,t){const e=FV(),r=t==null?void 0:t.default;return cc((i,o,a)=>(a!==r&&e(o.toString(),n),a))}function $2e(n,t){const e=FV();return cc((r,i,o)=>(o!==r[n]&&(e(i.toString(),`Use [${n}] instead.`),r[n]=t?t(o):o),EO),(r,i)=>(e(i.toString(),`Use [${n}] instead.`),r[n]))}var jQ={};Sc(jQ,{NODE_UPDATE_PHASES:()=>nJ,NODE_UPDATE_STATE_TO_PHASE_MAPPING:()=>Fi,fromToMotion:()=>xr,staticFromToMotion:()=>cu});function hI(n,t){const e={};if(Array.isArray(t))for(let r=0;r<n.length;r++)e[`${n[r]}`]=t[r];else for(let r=0;r<n.length;r++)e[`${n[r]}`]=t;return e}var fI=new Map;function $Q(){fI.clear()}function uu(n){var t;const e=n.constructor,r=Object.hasOwn(e,"className")?e.className:e.name;if(!r)throw new Error(`The ${e} is missing the 'className' property.`);const i=((t=fI.get(r))!=null?t:0)+1;return fI.set(r,i),`${r}-${i}`}var id=(n=>(n[n.NONE=0]="NONE",n[n.TRIVIAL=1]="TRIVIAL",n[n.MINOR=2]="MINOR",n[n.MAJOR=3]="MAJOR",n))(id||{});function W2e(){try{return new Function("return true"),!0}catch{return!1}}var U2e=W2e();function Ae(n){const{changeCb:t,convertor:e}=n??{};return function(r,i){const o=`__${i}`;r[i]||(U2e&&t==null&&e==null?z2e(r,i,o,n):K2e(r,i,o,n))}}function z2e(n,t,e,r){const{redraw:i=1,type:o="normal",checkDirtyOnAssignment:a=!1}=r??{},s=new Function("value",`
        const oldValue = this.${e};
        if (value !== oldValue) {
            this.${e} = value;
            ${o==="normal"?`this.markDirty(this, ${i});`:""}
            ${o==="transform"?`this.markDirtyTransform(${i});`:""}
            ${o==="path"?`if (!this._dirtyPath) { this._dirtyPath = true; this.markDirty(this, ${i}); }`:""}
            ${o==="font"?`if (!this._dirtyFont) { this._dirtyFont = true; this.markDirty(this, ${i}); }`:""}
        }
        ${a?"if (value != null && value._dirty > 0) { this.markDirty(value, value._dirty); }":""}
`),l=new Function(`return this.${e};`);Object.defineProperty(n,t,{set:s,get:l,enumerable:!0,configurable:!0})}function K2e(n,t,e,r){const{redraw:i=1,type:o="normal",changeCb:a,convertor:s,checkDirtyOnAssignment:l=!1}=r??{};Object.defineProperty(n,t,{set:function(d){const p=this[e];d=s?s(d):d,d!==p&&(this[e]=d,o==="normal"&&this.markDirty(this,i),o==="transform"&&this.markDirtyTransform(i),o==="path"&&!this._dirtyPath&&(this._dirtyPath=!0,this.markDirty(this,i)),o==="font"&&!this._dirtyFont&&(this._dirtyFont=!0,this.markDirty(this,i)),a&&a(this)),l&&d!=null&&d._dirty>0&&this.markDirty(d,d._dirty)},get:function(){return this[e]},enumerable:!0,configurable:!0})}var Y2e=class{constructor(){this._dirty=3}markDirty(n,t=1){this._dirty<t&&(this._dirty=t)}markClean(n){this._dirty=0}isDirty(){return this._dirty>0}};function Dt(n,t,e){return Math.min(e,Math.max(n,t))}function TO(n,t){const[e,r]=dc(t);return Dt(e,n,r)}function dc(n){return n.length?[Math.min(...n),Math.max(...n)]:[]}function Ig(n){const[t,e]=dc(n);return e-t}function Hh(n,t,e=1e-10){return Math.abs(n-t)<e}function t0(n){return Math.sign(n)===-1||Object.is(n,-0)}function IV(n,t=2){const e=pt(10,t);return Math.round(n*e)/e}function YT(n,t=2){const e=Math.floor(Math.log(Math.abs(n))/Math.LN10);return e>=0||!isFinite(e)?n.toFixed(t):n.toFixed(Math.abs(e)-1+t)}function XT(n,t){return Math.floor(n%t+(n<0?t:0))}function NV(n,t=10){const[,e=""]=(Math.abs(n)%1).toLocaleString("en-GB",{minimumFractionDigits:0,maximumFractionDigits:t}).split(".");return e.length}function WQ(n,t,e=1/0){const r={nearest:void 0,distanceSquared:e};for(const i of t){const o=i.distanceSquared(n);if(o===0)return{nearest:i,distanceSquared:0};o<r.distanceSquared&&(r.nearest=i,r.distanceSquared=o)}return r}function X2e(n,t,e=1/0){const r=t.transformPoint(n.x,n.y),i={nearest:void 0,distanceSquared:e};for(const o of t.children){const{nearest:a,distanceSquared:s}=o.nearestSquared(r,i.distanceSquared);if(s===0)return{nearest:a,distanceSquared:s};s<i.distanceSquared&&(i.nearest=a,i.distanceSquared=s)}return i}var vI=class gI{constructor(t,e,r,i){this.x=t,this.y=e,this.width=r,this.height=i}clone(){const{x:t,y:e,width:r,height:i}=this;return new gI(t,e,r,i)}equals(t){return this.x===t.x&&this.y===t.y&&this.width===t.width&&this.height===t.height}containsPoint(t,e){return t>=this.x&&t<=this.x+this.width&&e>=this.y&&e<=this.y+this.height}collidesBBox(t){return this.x<t.x+t.width&&this.x+this.width>t.x&&this.y<t.y+t.height&&this.y+this.height>t.y}isInfinite(){return Math.abs(this.x)===1/0||Math.abs(this.y)===1/0||Math.abs(this.width)===1/0||Math.abs(this.height)===1/0}distanceSquared(t){if(this.containsPoint(t.x,t.y))return 0;const e=t.x-Dt(this.x,t.x,this.x+this.width),r=t.y-Dt(this.y,t.y,this.y+this.height);return e*e+r*r}static nearestBox(t,e){return WQ(t,e)}shrink(t,e){const r=(i,o)=>{switch(i){case"top":this.y+=o;case"bottom":this.height-=o;break;case"left":this.x+=o;case"right":this.width-=o;break;case"vertical":this.y+=o,this.height-=o*2;break;case"horizontal":this.x+=o,this.width-=o*2;break;case void 0:this.x+=o,this.width-=o*2,this.y+=o,this.height-=o*2;break}};return typeof t=="number"?r(e,t):typeof t=="object"&&Object.entries(t).forEach(([i,o])=>r(i,o)),this}grow(t,e){if(typeof t=="number")this.shrink(-t,e);else{const r=J({},t);for(const i in r)r[i]*=-1;this.shrink(r)}return this}static merge(t){let e=1/0,r=1/0,i=-1/0,o=-1/0;return t.forEach(a=>{a.x<e&&(e=a.x),a.y<r&&(r=a.y),a.x+a.width>i&&(i=a.x+a.width),a.y+a.height>o&&(o=a.y+a.height)}),new gI(e,r,i-e,o-r)}};vI.zero=new vI(0,0,0,0);var nt=vI,yI=class aC{get e(){return[...this.elements]}constructor(t=[1,0,0,1,0,0]){this.elements=t}setElements(t){const e=this.elements;return e[0]=t[0],e[1]=t[1],e[2]=t[2],e[3]=t[3],e[4]=t[4],e[5]=t[5],this}get identity(){const t=this.elements;return t[0]===1&&t[1]===0&&t[2]===0&&t[3]===1&&t[4]===0&&t[5]===0}AxB(t,e,r){const i=t[0]*e[0]+t[2]*e[1],o=t[1]*e[0]+t[3]*e[1],a=t[0]*e[2]+t[2]*e[3],s=t[1]*e[2]+t[3]*e[3],l=t[0]*e[4]+t[2]*e[5]+t[4],u=t[1]*e[4]+t[3]*e[5]+t[5];r=r??t,r[0]=i,r[1]=o,r[2]=a,r[3]=s,r[4]=l,r[5]=u}multiplySelf(t){return this.AxB(this.elements,t.elements),this}multiply(t){const e=new Array(6);return this.AxB(this.elements,t.elements,e),new aC(e)}preMultiplySelf(t){return this.AxB(t.elements,this.elements,this.elements),this}inverse(){const t=this.elements;let e=t[0],r=t[1],i=t[2],o=t[3];const a=t[4],s=t[5],l=1/(e*o-r*i);return e*=l,r*=l,i*=l,o*=l,new aC([o,-r,-i,e,i*s-o*a,r*a-e*s])}inverseTo(t){const e=this.elements;let r=e[0],i=e[1],o=e[2],a=e[3];const s=e[4],l=e[5],u=1/(r*a-i*o);return r*=u,i*=u,o*=u,a*=u,t.setElements([a,-i,-o,r,o*l-a*s,i*s-r*l]),this}invertSelf(){const t=this.elements;let e=t[0],r=t[1],i=t[2],o=t[3];const a=t[4],s=t[5],l=1/(e*o-r*i);return e*=l,r*=l,i*=l,o*=l,t[0]=o,t[1]=-r,t[2]=-i,t[3]=e,t[4]=i*s-o*a,t[5]=r*a-e*s,this}transformPoint(t,e){const r=this.elements;return{x:t*r[0]+e*r[2]+r[4],y:t*r[1]+e*r[3]+r[5]}}transformBBox(t,e){const r=this.elements,i=r[0],o=r[1],a=r[2],s=r[3],l=t.width*.5,u=t.height*.5,c=t.x+l,d=t.y+u,p=Math.abs(l*i)+Math.abs(u*a),h=Math.abs(l*o)+Math.abs(u*s);return e||(e=new nt(0,0,0,0)),e.x=c*i+d*a+r[4]-p,e.y=c*o+d*s+r[5]-h,e.width=p+p,e.height=h+h,e}toContext(t){if(this.identity)return;const e=this.elements;t.transform(e[0],e[1],e[2],e[3],e[4],e[5])}static flyweight(t){return aC.instance.setElements(t.elements)}static updateTransformMatrix(t,e,r,i,o,a,s){const[l,u]=[0,0],c=e,d=r;let p,h;c===1&&d===1?(p=0,h=0):(p=(s==null?void 0:s.scalingCenterX)==null?l:s==null?void 0:s.scalingCenterX,h=(s==null?void 0:s.scalingCenterY)==null?u:s==null?void 0:s.scalingCenterY);const f=i,v=Math.cos(f),g=Math.sin(f);let y,m;f===0?(y=0,m=0):(y=(s==null?void 0:s.rotationCenterX)==null?l:s==null?void 0:s.rotationCenterX,m=(s==null?void 0:s.rotationCenterY)==null?u:s==null?void 0:s.rotationCenterY);const C=o,S=a,w=p*(1-c)-y,_=h*(1-d)-m;return t.setElements([v*c,g*c,-g*d,v*d,v*w-g*_+y+C,g*w+v*_+m+S]),t}static fromContext(t){const e=t.getTransform();return new aC([e.a,e.b,e.c,e.d,e.e,e.f])}};yI.instance=new yI;var bs=yI,UQ=(n=>(n[n.All=0]="All",n[n.None=1]="None",n))(UQ||{}),zQ=n=>{n.parent&&(n.parent.dirtyZIndex=!0),n.zIndexChanged()},xo=class KQ extends Y2e{constructor({isVirtual:t,tag:e}={}){super(),this.serialNumber=KQ._nextSerialNumber++,this.id=uu(this),this.isContainerNode=!1,this._virtualChildren=[],this._children=[],this.childSet={},this.matrix=new bs,this.inverseMatrix=new bs,this.dirtyTransform=!1,this.scalingX=1,this.scalingY=1,this.scalingCenterX=null,this.scalingCenterY=null,this.rotationCenterX=null,this.rotationCenterY=null,this.rotation=0,this.translationX=0,this.translationY=0,this.visible=!0,this.dirtyZIndex=!1,this.zIndex=0,this.zIndexSubOrder=void 0,this.pointerEvents=0,this.isVirtual=t??!1,this.tag=e??NaN}get datum(){var t,e;return(e=this._datum)!=null?e:(t=this._parent)==null?void 0:t.datum}get previousDatum(){return this._previousDatum}set datum(t){this._datum!==t&&(this._previousDatum=this._datum),this._datum=t}_setLayerManager(t){this._layerManager=t,this._debug=t==null?void 0:t.debug;for(const e of this._children)e._setLayerManager(t);for(const e of this._virtualChildren)e._setLayerManager(t)}get layerManager(){return this._layerManager}get parent(){return this._parent}get children(){if(this._virtualChildren.length===0)return this._children;const t=[...this._children];for(const e of this._virtualChildren)t.push(...e.children);return t}get virtualChildren(){return this._virtualChildren}hasVirtualChildren(){return this._virtualChildren.length>0}setProperties(t,e){const r=e??Object.keys(t);for(const i of r)this[i]=t[i];return this}append(t){Array.isArray(t)||(t=[t]);for(const e of t){if(e.parent)throw new Error(`${e} already belongs to another parent: ${e.parent}.`);if(e.layerManager)throw new Error(`${e} already belongs to a scene: ${e.layerManager}.`);if(this.childSet[e.id])throw new Error(`Duplicate ${e.constructor.name} node: ${e}`);e.isVirtual?this._virtualChildren.push(e):this._children.push(e),this.childSet[e.id]=!0,e._parent=this,e._setLayerManager(this.layerManager)}this.dirtyZIndex=!0,this.markDirty(this,3)}appendChild(t){return this.append(t),t}removeChild(t){const e=()=>{throw new Error("The node to be removed is not a child of this node.")};if(t.parent!==this&&e(),t.isVirtual){const r=this._virtualChildren.indexOf(t);r<0&&e(),this._virtualChildren.splice(r,1)}else{const r=this._children.indexOf(t);r<0&&e(),this._children.splice(r,1)}return delete this.childSet[t.id],t._parent=void 0,t._setLayerManager(),this.dirtyZIndex=!0,this.markDirty(t,3),t}calculateCumulativeMatrix(){this.computeTransformMatrix();const t=bs.flyweight(this.matrix);let e=this.parent;for(;e;)e.computeTransformMatrix(),t.preMultiplySelf(e.matrix),e=e.parent;return t}transformPoint(t,e){return this.calculateCumulativeMatrix().invertSelf().transformPoint(t,e)}inverseTransformPoint(t,e){return this.calculateCumulativeMatrix().transformPoint(t,e)}transformBBox(t){return this.calculateCumulativeMatrix().invertSelf().transformBBox(t)}inverseTransformBBox(t){return this.calculateCumulativeMatrix().transformBBox(t)}markDirtyTransform(){this.dirtyTransform=!0,this.markDirty(this,3)}containsPoint(t,e){return!1}pickNode(t,e){var r;if(!this.visible||this.pointerEvents===1||!this.containsPoint(t,e))return;const i=this.children;if(i.length>1e3)for(let o=i.length-1;o>=0;o--){const a=i[o],l=((r=a.computeTransformedBBox())==null?void 0:r.containsPoint(t,e))?a.pickNode(t,e):void 0;if(l)return l}else if(i.length)for(let o=i.length-1;o>=0;o--){const a=i[o].pickNode(t,e);if(a)return a}else if(!this.isContainerNode)return this}findNodes(t){const e=t(this)?[this]:[];for(const r of this.children){const i=r.findNodes(t);i&&e.push(...i)}return e}computeBBox(){}computeTransformedBBox(){const t=this.computeBBox();if(!t)return;this.computeTransformMatrix();const e=bs.flyweight(this.matrix);let r=this.parent;for(;r;)r.computeTransformMatrix(),e.preMultiplySelf(r.matrix),r=r.parent;return e.transformBBox(t,t),t}computeTransformMatrix(){if(!this.dirtyTransform)return;const{matrix:t,scalingX:e,scalingY:r,rotation:i,translationX:o,translationY:a,scalingCenterX:s,scalingCenterY:l,rotationCenterX:u,rotationCenterY:c}=this;bs.updateTransformMatrix(t,e,r,i,o,a,{scalingCenterX:s,scalingCenterY:l,rotationCenterX:u,rotationCenterY:c}),t.inverseTo(this.inverseMatrix),this.dirtyTransform=!1}render(t){const{stats:e}=t;this._dirty=0,e&&e.nodesRendered++}clearBBox(t){const e=this.computeBBox();if(e==null)return;const{x:r,y:i,width:o,height:a}=e,s=this.transformPoint(r,i),l=this.transformPoint(r+o,i+a);t.clearRect(s.x,s.y,l.x-s.x,l.y-s.y)}markDirty(t,e=1,r=e){this._dirty>e||this._dirty===e&&e===r||(this._dirty=e,this.parent?this.parent.markDirty(this,r):this.layerManager&&this.layerManager.markDirty())}get dirty(){return this._dirty}markClean(t){const{force:e=!1,recursive:r=!0}=t??{};if(!(this._dirty===0&&!e)){if(this._dirty=0,r!==!1)for(const i of this._virtualChildren)i.markClean({force:e});if(r===!0)for(const i of this._children)i.markClean({force:e})}}visibilityChanged(){}get nodeCount(){let t=1,e=this._dirty>=0||this.dirtyTransform?1:0,r=this.visible?1:0;const i=o=>{const{count:a,visibleCount:s,dirtyCount:l}=o.nodeCount;t+=a,r+=s,e+=l};for(const o of this._children)i(o);for(const o of this._virtualChildren)i(o);return{count:t,visibleCount:r,dirtyCount:e}}zIndexChanged(){}};xo._nextSerialNumber=0;R([Ae({type:"transform"})],xo.prototype,"scalingX",2);R([Ae({type:"transform"})],xo.prototype,"scalingY",2);R([Ae({type:"transform"})],xo.prototype,"scalingCenterX",2);R([Ae({type:"transform"})],xo.prototype,"scalingCenterY",2);R([Ae({type:"transform"})],xo.prototype,"rotationCenterX",2);R([Ae({type:"transform"})],xo.prototype,"rotationCenterY",2);R([Ae({type:"transform"})],xo.prototype,"rotation",2);R([Ae({type:"transform"})],xo.prototype,"translationX",2);R([Ae({type:"transform"})],xo.prototype,"translationY",2);R([Ae({redraw:3,changeCb:n=>n.visibilityChanged()})],xo.prototype,"visible",2);R([Ae({redraw:1,changeCb:zQ})],xo.prototype,"zIndex",2);R([Ae({redraw:1,changeCb:zQ})],xo.prototype,"zIndexSubOrder",2);var ny=xo,eM=n=>{const t=n<0?-1:1,e=Math.abs(n);return e<=.04045?n/12.92:t*pt((e+.055)/1.055,2.4)},tM=n=>{const t=n<0?-1:1,e=Math.abs(n);return e>.0031308?t*(1.055*pt(e,1/2.4)-.055):12.92*n},kV=class Ot{constructor(t,e,r,i=1){this.r=Dt(0,t||0,1),this.g=Dt(0,e||0,1),this.b=Dt(0,r||0,1),this.a=Dt(0,i||0,1)}static validColorString(t){return t.indexOf("#")>=0?!!Ot.parseHex(t):t.indexOf("rgb")>=0?!!Ot.stringToRgba(t):!!Ot.nameToHex[t.toLowerCase()]}static fromString(t){if(t.indexOf("#")>=0)return Ot.fromHexString(t);const e=Ot.nameToHex[t.toLowerCase()];if(e)return Ot.fromHexString(e);if(t.indexOf("rgb")>=0)return Ot.fromRgbaString(t);throw new Error(`Invalid color string: '${t}'`)}static tryParseFromString(t){try{return Ot.fromString(t)}catch{return Oe.warnOnce(`invalid color string: '${t}'.`),Ot.fromArray([0,0,0])}}static parseHex(t){t=t.replace(/ /g,"").slice(1);let e;switch(t.length){case 6:case 8:e=[];for(let r=0;r<t.length;r+=2)e.push(parseInt(`${t[r]}${t[r+1]}`,16));break;case 3:case 4:e=t.split("").map(r=>parseInt(r,16)).map(r=>r+r*16);break}if((e==null?void 0:e.length)>=3&&e.every(r=>r>=0))return e.length===3&&e.push(255),e}static fromHexString(t){const e=Ot.parseHex(t);if(e){const[r,i,o,a]=e;return new Ot(r/255,i/255,o/255,a/255)}throw new Error(`Malformed hexadecimal color string: '${t}'`)}static stringToRgba(t){let[e,r]=[NaN,NaN];for(let s=0;s<t.length;s++){const l=t[s];if(!e&&l==="(")e=s;else if(l===")"){r=s;break}}const i=e&&r&&t.substring(e+1,r);if(!i)return;const o=i.split(","),a=[];for(let s=0;s<o.length;s++){const l=o[s];let u=parseFloat(l);if(isNaN(u))return;l.indexOf("%")>=0?(u=Dt(0,u,100),u/=100):s===3?u=Dt(0,u,1):(u=Dt(0,u,255),u/=255),a.push(u)}return a}static fromRgbaString(t){const e=Ot.stringToRgba(t);if(e){if(e.length===3)return new Ot(e[0],e[1],e[2]);if(e.length===4)return new Ot(e[0],e[1],e[2],e[3])}throw new Error(`Malformed rgb/rgba color string: '${t}'`)}static fromArray(t){if(t.length===4)return new Ot(t[0],t[1],t[2],t[3]);if(t.length===3)return new Ot(t[0],t[1],t[2]);throw new Error("The given array should contain 3 or 4 color components (numbers).")}static fromHSB(t,e,r,i=1){const o=Ot.HSBtoRGB(t,e,r);return new Ot(o[0],o[1],o[2],i)}static fromHSL(t,e,r,i=1){const o=Ot.HSLtoRGB(t,e,r);return new Ot(o[0],o[1],o[2],i)}static fromOKLCH(t,e,r,i=1){const o=Ot.OKLCHtoRGB(t,e,r);return new Ot(o[0],o[1],o[2],i)}static padHex(t){return t.length===1?"0"+t:t}toHexString(){let t="#"+Ot.padHex(Math.round(this.r*255).toString(16))+Ot.padHex(Math.round(this.g*255).toString(16))+Ot.padHex(Math.round(this.b*255).toString(16));return this.a<1&&(t+=Ot.padHex(Math.round(this.a*255).toString(16))),t}toRgbaString(t=3){const e=[Math.round(this.r*255),Math.round(this.g*255),Math.round(this.b*255)],r=Math.pow(10,t);return this.a!==1?(e.push(Math.round(this.a*r)/r),`rgba(${e.join(", ")})`):`rgb(${e.join(", ")})`}toString(){return this.a===1?this.toHexString():this.toRgbaString()}toHSB(){return Ot.RGBtoHSB(this.r,this.g,this.b)}static RGBtoOKLCH(t,e,r){const i=eM(t),o=eM(e),a=eM(r),s=Math.cbrt(.4122214708*i+.5363325363*o+.0514459929*a),l=Math.cbrt(.2119034982*i+.6806995451*o+.1073969566*a),u=Math.cbrt(.0883024619*i+.2817188376*o+.6299787005*a),c=.2104542553*s+.793617785*l-.0040720468*u,d=1.9779984951*s-2.428592205*l+.4505937099*u,p=.0259040371*s+.7827717662*l-.808675766*u,h=Math.atan2(p,d)*180/Math.PI,f=c,v=Math.hypot(d,p),g=h>=0?h:h+360;return[f,v,g]}static OKLCHtoRGB(t,e,r){const i=t,o=e*Math.cos(r*Math.PI/180),a=e*Math.sin(r*Math.PI/180),s=pt(i+.3963377774*o+.2158037573*a,3),l=pt(i-.1055613458*o-.0638541728*a,3),u=pt(i-.0894841775*o-1.291485548*a,3),c=4.0767416621*s-3.3077115913*l+.2309699292*u,d=-1.2684380046*s+2.6097574011*l-.3413193965*u,p=-.0041960863*s-.7034186147*l+1.707614701*u,h=tM(c),f=tM(d),v=tM(p);return[h,f,v]}static RGBtoHSL(t,e,r){const i=Math.min(t,e,r),o=Math.max(t,e,r),a=(o+i)/2;let s,l;if(o===i)s=NaN,l=0;else{const u=o-i;l=a>.5?u/(2-o-i):u/(o+i),o===t?s=(e-r)/u+(e<r?6:0):o===e?s=(r-t)/u+2:s=(t-e)/u+4,s*=360/6}return[s,l,a]}static HSLtoRGB(t,e,r){if(e===0)return[r,r,r];const i=r<.5?r*(1+e):r+e-r*e,o=2*r-i;function a(c){return c<0&&(c+=1),c>1&&(c-=1),c<1/6?o+(i-o)*6*c:c<1/2?i:c<2/3?o+(i-o)*(2/3-c)*6:o}const s=a(t/360+1/3),l=a(t/360),u=a(t/360-1/3);return[s,l,u]}static RGBtoHSB(t,e,r){const i=Math.min(t,e,r),o=Math.max(t,e,r),a=o!==0?(o-i)/o:0;let s=NaN;if(i!==o){const l=o-i,u=(o-t)/l,c=(o-e)/l,d=(o-r)/l;t===o?s=d-c:e===o?s=2+u-d:s=4+c-u,s/=6,s<0&&(s=s+1)}return[s*360,a,o]}static HSBtoRGB(t,e,r){isNaN(t)&&(t=0),t=(t%360+360)%360/360;let i=0,o=0,a=0;if(e===0)i=o=a=r;else{const s=(t-Math.floor(t))*6,l=s-Math.floor(s),u=r*(1-e),c=r*(1-e*l),d=r*(1-e*(1-l));switch(s>>0){case 0:i=r,o=d,a=u;break;case 1:i=c,o=r,a=u;break;case 2:i=u,o=r,a=d;break;case 3:i=u,o=c,a=r;break;case 4:i=d,o=u,a=r;break;case 5:i=r,o=u,a=c;break}}return[i,o,a]}derive(t,e,r,i){const o=Ot.RGBtoHSB(this.r,this.g,this.b);let a=o[2];a==0&&r>1&&(a=.05);const s=((o[0]+t)%360+360)%360,l=Dt(0,o[1]*e,1);a=Dt(0,a*r,1);const u=Dt(0,this.a*i,1),c=Ot.HSBtoRGB(s,l,a);return c.push(u),Ot.fromArray(c)}brighter(){return this.derive(0,1,1/.7,1)}darker(){return this.derive(0,1,.7,1)}static interpolate(t,e){const r=Ot.tryParseFromString(t),i=Ot.tryParseFromString(e);return o=>{const a=(l,u)=>l*(1-o)+u*o;return new Ot(a(r.r,i.r),a(r.g,i.g),a(r.b,i.b),a(r.a,i.a)).toString()}}};kV.didDebug=!1;kV.nameToHex=Object.freeze({aliceblue:"#F0F8FF",antiquewhite:"#FAEBD7",aqua:"#00FFFF",aquamarine:"#7FFFD4",azure:"#F0FFFF",beige:"#F5F5DC",bisque:"#FFE4C4",black:"#000000",blanchedalmond:"#FFEBCD",blue:"#0000FF",blueviolet:"#8A2BE2",brown:"#A52A2A",burlywood:"#DEB887",cadetblue:"#5F9EA0",chartreuse:"#7FFF00",chocolate:"#D2691E",coral:"#FF7F50",cornflowerblue:"#6495ED",cornsilk:"#FFF8DC",crimson:"#DC143C",cyan:"#00FFFF",darkblue:"#00008B",darkcyan:"#008B8B",darkgoldenrod:"#B8860B",darkgray:"#A9A9A9",darkgreen:"#006400",darkgrey:"#A9A9A9",darkkhaki:"#BDB76B",darkmagenta:"#8B008B",darkolivegreen:"#556B2F",darkorange:"#FF8C00",darkorchid:"#9932CC",darkred:"#8B0000",darksalmon:"#E9967A",darkseagreen:"#8FBC8F",darkslateblue:"#483D8B",darkslategray:"#2F4F4F",darkslategrey:"#2F4F4F",darkturquoise:"#00CED1",darkviolet:"#9400D3",deeppink:"#FF1493",deepskyblue:"#00BFFF",dimgray:"#696969",dimgrey:"#696969",dodgerblue:"#1E90FF",firebrick:"#B22222",floralwhite:"#FFFAF0",forestgreen:"#228B22",fuchsia:"#FF00FF",gainsboro:"#DCDCDC",ghostwhite:"#F8F8FF",gold:"#FFD700",goldenrod:"#DAA520",gray:"#808080",green:"#008000",greenyellow:"#ADFF2F",grey:"#808080",honeydew:"#F0FFF0",hotpink:"#FF69B4",indianred:"#CD5C5C",indigo:"#4B0082",ivory:"#FFFFF0",khaki:"#F0E68C",lavender:"#E6E6FA",lavenderblush:"#FFF0F5",lawngreen:"#7CFC00",lemonchiffon:"#FFFACD",lightblue:"#ADD8E6",lightcoral:"#F08080",lightcyan:"#E0FFFF",lightgoldenrodyellow:"#FAFAD2",lightgray:"#D3D3D3",lightgreen:"#90EE90",lightgrey:"#D3D3D3",lightpink:"#FFB6C1",lightsalmon:"#FFA07A",lightseagreen:"#20B2AA",lightskyblue:"#87CEFA",lightslategray:"#778899",lightslategrey:"#778899",lightsteelblue:"#B0C4DE",lightyellow:"#FFFFE0",lime:"#00FF00",limegreen:"#32CD32",linen:"#FAF0E6",magenta:"#FF00FF",maroon:"#800000",mediumaquamarine:"#66CDAA",mediumblue:"#0000CD",mediumorchid:"#BA55D3",mediumpurple:"#9370DB",mediumseagreen:"#3CB371",mediumslateblue:"#7B68EE",mediumspringgreen:"#00FA9A",mediumturquoise:"#48D1CC",mediumvioletred:"#C71585",midnightblue:"#191970",mintcream:"#F5FFFA",mistyrose:"#FFE4E1",moccasin:"#FFE4B5",navajowhite:"#FFDEAD",navy:"#000080",oldlace:"#FDF5E6",olive:"#808000",olivedrab:"#6B8E23",orange:"#FFA500",orangered:"#FF4500",orchid:"#DA70D6",palegoldenrod:"#EEE8AA",palegreen:"#98FB98",paleturquoise:"#AFEEEE",palevioletred:"#DB7093",papayawhip:"#FFEFD5",peachpuff:"#FFDAB9",peru:"#CD853F",pink:"#FFC0CB",plum:"#DDA0DD",powderblue:"#B0E0E6",purple:"#800080",rebeccapurple:"#663399",red:"#FF0000",rosybrown:"#BC8F8F",royalblue:"#4169E1",saddlebrown:"#8B4513",salmon:"#FA8072",sandybrown:"#F4A460",seagreen:"#2E8B57",seashell:"#FFF5EE",sienna:"#A0522D",silver:"#C0C0C0",skyblue:"#87CEEB",slateblue:"#6A5ACD",slategray:"#708090",slategrey:"#708090",snow:"#FFFAFA",springgreen:"#00FF7F",steelblue:"#4682B4",tan:"#D2B48C",teal:"#008080",thistle:"#D8BFD8",tomato:"#FF6347",transparent:"#00000000",turquoise:"#40E0D0",violet:"#EE82EE",wheat:"#F5DEB3",white:"#FFFFFF",whitesmoke:"#F5F5F5",yellow:"#FFFF00",yellowgreen:"#9ACD32"});var Fl=kV;function sC(n,t){return e=>Number(n)*(1-e)+Number(t)*e}function q2e(n,t){if(typeof n=="string")try{n=Fl.fromString(n)}catch{n=Fl.fromArray([0,0,0])}if(typeof t=="string")try{t=Fl.fromString(t)}catch{t=Fl.fromArray([0,0,0])}const e=sC(n.r,t.r),r=sC(n.g,t.g),i=sC(n.b,t.b),o=sC(n.a,t.a);return a=>Fl.fromArray([e(a),r(a),i(a),o(a)]).toRgbaString()}var GV={};Sc(GV,{easeIn:()=>Z2e,easeInOut:()=>Q2e,easeInOutQuad:()=>tHe,easeInQuad:()=>J2e,easeOut:()=>XS,easeOutQuad:()=>eHe,inverseEaseOut:()=>XQ,linear:()=>YQ});var YQ=n=>n,Z2e=n=>1-Math.cos(n*Math.PI/2),XS=n=>Math.sin(n*Math.PI/2),Q2e=n=>-(Math.cos(n*Math.PI)-1)/2,J2e=n=>n*n,eHe=n=>1-pt(1-n,2),tHe=n=>n<.5?2*n*n:1-pt(-2*n+2,2)/2,XQ=n=>2*Math.asin(n)/Math.PI,qT=.2,qQ={animationDuration:1,animationDelay:0},ZQ={animationDuration:.25,animationDelay:0},QQ={animationDuration:.5,animationDelay:.25},VV={animationDuration:.25,animationDelay:.75},JQ={animationDuration:qT,animationDelay:1},oh=["initial","remove","update","add","trailing","end"],eJ={initial:qQ,add:VV,remove:ZQ,update:QQ,trailing:JQ,end:{animationDelay:1+qT,animationDuration:0}},tJ=(n=>(n.Loop="loop",n.Reverse="reverse",n))(tJ||{});function rHe(n){return n.every(t=>t instanceof ny)}function ZT(n){return rHe(n)?{nodes:n,selections:[]}:{nodes:[],selections:n}}var rJ=class{constructor(n){this.isComplete=!1,this.elapsed=0,this.iteration=0,this.isPlaying=!1,this.isReverse=!1;var t,e,r,i,o,a,s,l;this.id=n.id,this.groupId=n.groupId,this.autoplay=(t=n.autoplay)!=null?t:!0,this.ease=(e=n.ease)!=null?e:YQ,this.phase=n.phase;const u=(r=n.duration)!=null?r:eJ[this.phase].animationDuration;this.duration=u*n.defaultDuration,this.delay=((i=n.delay)!=null?i:0)*n.defaultDuration,this.onComplete=n.onComplete,this.onPlay=n.onPlay,this.onStop=n.onStop,this.onUpdate=n.onUpdate,this.interpolate=this.createInterpolator(n.from,n.to),n.skip===!0?((o=this.onUpdate)==null||o.call(this,n.to,!1,this),(a=this.onStop)==null||a.call(this,this),(s=this.onComplete)==null||s.call(this,this),this.isComplete=!0):this.autoplay&&(this.play(),(l=this.onUpdate)==null||l.call(this,n.from,!0,this)),n.collapsable!==!1&&(this.duration=this.checkCollapse(n,this.duration))}checkCollapse(n,t){let e=n.from===n.to;return e||(e=typeof n.from=="object"&&da(n.from,n.to)==null),e?0:t}play(){var n;!this.isPlaying&&!this.isComplete&&(this.isPlaying=!0,(n=this.onPlay)==null||n.call(this,this))}pause(){this.isPlaying&&(this.isPlaying=!1)}stop(){var n;this.isPlaying&&(this.isPlaying=!1,this.isComplete=!0,(n=this.onStop)==null||n.call(this,this))}update(n){var t,e;const r=this.elapsed;if(this.elapsed+=n,this.delay>this.elapsed)return 0;const i=this.interpolate(this.isReverse?1-this.delta:this.delta);(t=this.onUpdate)==null||t.call(this,i,!1,this);const o=this.delay+this.duration;return this.elapsed>=o?(this.stop(),this.isComplete=!0,(e=this.onComplete)==null||e.call(this,this),n-(o-r)):0}get delta(){return this.ease(Dt(0,(this.elapsed-this.delay)/this.duration,1))}createInterpolator(n,t){if(typeof t!="object")return this.interpolateValue(n,t);const e=[];for(const r in t){const i=this.interpolateValue(n[r],t[r]);i!=null&&e.push([r,i])}return r=>{const i={};for(const[o,a]of e)i[o]=a(r);return i}}interpolateValue(n,t){if(!(n===void 0||t===void 0)){try{switch(typeof n){case"number":return sC(n,t);case"string":return q2e(n,t)}}catch{}throw new Error(`Unable to interpolate values: ${n}, ${t}`)}}},nJ=["removed","updated","added"],Fi={added:"add",updated:"update",removed:"remove",unknown:"initial"};function xr(n,t,e,r,i,o,a){const{fromFn:s,toFn:l,intermediateFn:u}=i,{nodes:c,selections:d}=ZT(r),p={added:{},removed:{}};o&&a&&(p.added=hI(a.added,!0),p.removed=hI(a.removed,!0));const h=(v,g)=>{var y;let m,C=0,S=0;for(const w of g){const _=v[C]===w,x={last:S>=g.length-1,lastLive:C>=v.length-1,prev:g[S-1],prevFromProps:m,prevLive:v[C-1],next:g[S+1],nextLive:v[C+(_?1:0)]},b=`${n}_${t}_${w.id}`;e.stopByAnimationId(b);let O="unknown";_?o&&a&&(O=nHe(w,w.datum,o,p)):O="removed";const P=s(w,w.datum,O,x),{phase:D,start:N,finish:L,delay:I,duration:k}=P,H=En(P,["phase","start","finish","delay","duration"]),$=l(w,w.datum,O,x),{phase:V,start:W,finish:K,delay:Z,duration:Q}=$,ce=En($,["phase","start","finish","delay","duration"]),ue=L==null&&K==null;e.animate({id:b,groupId:n,phase:(y=D??V)!=null?y:"update",duration:k??Q,delay:I??Z,from:H,to:ce,ease:XS,collapsable:ue,onPlay:()=>{w.setProperties(J(J({},N),W))},onUpdate(se){w.setProperties(se),u&&w.setProperties(u(w,w.datum,O,x))},onStop:()=>{w.setProperties(J(J(J({},ce),L),K))}}),_&&C++,S++,m=H}};let f=0;for(const v of d){const g=v.nodes(),y=g.filter(m=>!v.isGarbage(m));h(y,g),e.animate({id:`${n}_${t}_selection_${f}`,groupId:n,phase:"end",from:0,to:1,ease:XS,onStop(){v.cleanup()}}),f++}h(c,c)}function cu(n,t,e,r,i,o,a){const{nodes:s,selections:l}=ZT(r),{start:u={},finish:c,phase:d}=a,p=c==null;e.animate({id:`${n}_${t}`,groupId:n,phase:d??"update",from:i,to:o,ease:XS,collapsable:p,onPlay:()=>{for(const h of s)h.setProperties(u);for(const h of l)for(const f of h.nodes())f.setProperties(u)},onUpdate(h){for(const f of s)f.setProperties(h);for(const f of l)for(const v of f.nodes())v.setProperties(h)},onStop:()=>{for(const h of s)h.setProperties(J(J({},o),c));for(const h of l)for(const f of h.nodes())f.setProperties(J(J({},o),c))}})}function nHe(n,t,e,r){const i=e(n,t);return r.added[i]?"added":"updated"}var Bl=Math.PI*2;function Zr(n){return n%=Bl,n+=Bl,n%=Bl,n}function iHe(n){return n%=Bl,n+=Bl,n!==Bl&&(n%=Bl),n}function qS(n){return n%=Bl,n<-Math.PI?n+=Bl:n>=Math.PI&&(n-=Bl),n}function Ci(n){return n/180*Math.PI}function oHe(n){return n/Math.PI*180}function BV(n,t){return n=Zr(n),t=Zr(t),t-n+(n>t?2*Math.PI:0)}var Eo=(n,t)=>{const e=Symbol(String(t));n[e]=void 0,Object.defineProperty(n,t,{get(){return this[e]},set(r){this[e]!==r&&(this[e]=r,this.invalid=!0)},enumerable:!0,configurable:!1})},iu=class{constructor(){this.type="band",this.invalid=!0,this.interval=1,this.index=new Map,this.ordinalRange=[],this._domain=[],this.range=[0,1],this._bandwidth=1,this._step=1,this._rawBandwidth=1,this._paddingInner=0,this._paddingOuter=0,this.round=!1}refresh(){this.invalid&&(this.invalid=!1,this.update(),this.invalid&&Oe.warnOnce("Expected update to not invalidate scale"))}set domain(n){this.invalid=!0;const t=[];this.index=new Map;const e=this.index;n.forEach(r=>{e.get(r)===void 0&&e.set(r,t.push(r)-1)}),this._domain=t}get domain(){return this._domain}ticks(){this.refresh();const{interval:n=1}=this,t=Math.abs(Math.round(n));return this._domain.filter((e,r)=>r%t===0)}convert(n){this.refresh();const t=this.index.get(n);if(t===void 0)return NaN;const e=this.ordinalRange[t];return e===void 0?NaN:e}invert(n){this.refresh();const t=this.ordinalRange.findIndex(e=>e===n);return this.domain[t]}get bandwidth(){return this.refresh(),this._bandwidth}get step(){return this.refresh(),this._step}get rawBandwidth(){return this.refresh(),this._rawBandwidth}set padding(n){n=Dt(0,n,1),this._paddingInner=n,this._paddingOuter=n}get padding(){return this._paddingInner}set paddingInner(n){this._paddingInner=Dt(0,n,1)}get paddingInner(){return this._paddingInner}set paddingOuter(n){this._paddingOuter=Dt(0,n,1)}get paddingOuter(){return this._paddingOuter}update(){const n=this._domain.length;if(n===0)return;const t=this.round,e=this._paddingInner,r=this._paddingOuter,[i,o]=this.range,a=o-i,s=a/Math.max(1,n+2*r-e),l=t?Math.floor(s):s,u=l*(n-e),c=i+(a-u)/2,d=t?Math.round(c):c,p=l*(1-e),h=t?Math.round(p):p,f=s*(1-e),v=[];for(let g=0;g<n;g++)v.push(d+l*g);this._bandwidth=h,this._rawBandwidth=f,this._step=l,this.ordinalRange=v}};R([Eo],iu.prototype,"interval",2);R([Eo],iu.prototype,"range",2);R([Eo],iu.prototype,"round",2);function M(n,t={}){const{optional:e=!1}=t;return cc((r,i,o)=>{var a;const s=Te(J({},t),{target:r,property:i});if(e&&typeof o>"u"||n(o,s))return ta(r[i])&&!ta(o)?(r[i].set(o),r[i]):o;const l=String(i).replace(/^_*/,""),u=(a=r.constructor.className)!=null?a:r.constructor.name.replace(/Properties$/,"");return Oe.warn(`Property [${l}] of [${u}] cannot be set to [${HC(o)}]${n.message?`; expecting ${o0(n,s)}`:""}, ignoring.`),EO},void 0,{optional:e})}var du=(...n)=>{const t=[];return er((e,r)=>(t.length=0,n.every(i=>{const o=i(e,r);return o||t.push(o0(i,r)),o})),()=>t.filter(Boolean).join(" AND "))},_f=(...n)=>er((t,e)=>n.some(r=>r(t,e)),t=>n.map(pHe(t)).filter(Boolean).join(" OR ")),je=vHe(er((n,t)=>ta(n)||nu(n)&&ta(t.target[t.property]),"an object")),qe=er(eQ,"a boolean"),ss=er(Qg,"a function"),Ee=er(Ya,"a string"),sr=fHe(er(Nt,"a number")),QT=er(n=>As(n)&&isNaN(n),"NaN"),xe=sr.restrict({min:0}),Ut=sr.restrict({min:0,max:1}),dp=sr.restrict({min:-360,max:360}),iy=_f(sr,QT),r0=hHe(er(fn,"an array")),Ec=(n,t)=>er((e,r)=>fn(e)&&e.every(i=>n(i,r)),e=>{var r;const i=(r=o0(r0,e))!=null?r:"";return t?`${i} of ${t}`:i}),PO=n=>Nt(n)||Xw(n),n0=n=>er((t,e)=>!PO(t)||!PO(e.target[n])||t<e.target[n],`expected to be less than ${n}`),i0=n=>er((t,e)=>!PO(t)||!PO(e.target[n])||t>e.target[n],`expected to be greater than ${n}`),HV=er(Xw,"Date object"),jV=_f(HV,xe),iJ="A color string can be in one of the following formats to be valid: #rgb, #rrggbb, rgb(r, g, b), rgba(r, g, b, a) or a CSS color name such as 'white', 'orange', 'cyan', etc",Tt=er(n=>Ya(n)&&Fl.validColorString(n),`color String. ${iJ}`),ls=er(Ec(Tt),`color strings. ${iJ}`),aHe=Ec(qe,"boolean values"),JT=Ec(sr,"numbers"),oJ=Ec(Ee,"strings"),sHe=er(Ec(HV),"Date objects"),$V=er(Ec(je),"objects"),aJ=tn(["butt","round","square"],"a line cap"),lHe=tn(["round","bevel","miter"],"a line join"),bc=er(Ec(xe),"numbers specifying the length in pixels of alternating dashes and gaps, for example, [6, 3] means dashes with a length of 6 pixels with gaps between of 3 pixels."),WV=tn(["top","right","bottom","left"],"a position"),pp=tn(["normal","italic","oblique"],"a font style"),hp=_f(tn(["normal","bold","bolder","lighter"],"a font weight"),sr.restrict({min:1,max:1e3})),eP=tn(["never","always","hyphenate","on-space"],"a text wrap strategy"),sJ=tn(["left","center","right"],"a text align"),uHe=tn(["top","middle","bottom"],"a vertical align"),cHe=tn(["ellipsis","hide"],"an overflow strategy"),lJ=tn(["horizontal","vertical"],"a direction"),uJ=tn(["inside","outside"],"a placement"),UV=_f(tn(["exact","nearest"],"interaction range"),sr);function tn(n,t="a"){return er(e=>n.includes(e),`${t} keyword such as ${dHe(n)}`)}var cJ=_f(du(sr.restrict({min:1}),n0("maxSpacing")),QT),zV=_f(du(sr.restrict({min:1}),i0("minSpacing")),QT);function er(n,t){return n.message=t,n}function dHe(n){const t=n.map(r=>`'${r}'`);if(t.length===1)return t[0];const e=t.pop();return`${t.join(", ")} or ${e}`}function o0(n,t){return Qg(n.message)?n.message(t):n.message}function pHe(n){return t=>o0(t,n)}function hHe(n){return Object.assign(n,{restrict({length:t,minLength:e}={}){return er(r=>fn(r)&&(As(t)?r.length===t:!0)&&(As(e)?r.length>=e:!0),As(e)&&e>0?"a non-empty array":As(t)?`an array of length ${t}`:"an array")}})}function fHe(n){return Object.assign(n,{restrict({min:t,max:e}={}){const r=["a number"],i=As(t),o=As(e);return i&&o?r.push(`between ${t} and ${e} inclusive`):i?r.push(`greater than or equal to ${t}`):o&&r.push(`less than or equal to ${e}`),er(a=>Nt(a)&&(i?a>=t:!0)&&(o?a<=e:!0),r.join(" "))}})}function vHe(n){return Object.assign(n,{restrict(t){const e=r=>ta(r)&&r instanceof t;return er((r,i)=>e(r)||nu(r)&&e(i.target[i.property]),r=>{var i;return(i=o0(n,r))!=null?i:"an object"})}})}function HC(n){if(typeof n=="number"){if(isNaN(n))return"NaN";if(n===1/0)return"Infinity";if(n===-1/0)return"-Infinity"}return JSON.stringify(n)}var dJ=(n=>(n.X="x",n.Y="y",n))(dJ||{});function pJ(){if(typeof navigator>"u")return!1;const n=navigator.userAgent.match(/\(iPhone; CPU iPhone OS (\d+_\d+_\d+) like Mac OS X\)/);if(n==null)return!1;const t=n[1].split("_"),e=Number(t[0]);return e>16?!1:e===16?Number(t[1])<6:!0}var KV=class mI{constructor(t){this._enabled=!0,this._pixelRatio=NaN,this._width=0,this._height=0;const{document:e,window:r,width:i=600,height:o=300,domLayer:a=!1,zIndex:s=0,name:l=void 0,overrideDevicePixelRatio:u=void 0}=t;this.document=e,this.window=r,mI.document=e,this.element=e.createElement("canvas"),this.element.width=i,this.element.height=o,this.realContext=this.element.getContext("2d"),this.imageSource=this.realContext.canvas;const{style:c}=this.element;c.userSelect="none",c.display="block",a&&(c.position="absolute",c.zIndex=String(s),c.top="0",c.left="0",c.pointerEvents="none",c.opacity="1",l&&(this.element.id=l)),this.context=this.setPixelRatio(u),this.resize(i,o)}set container(t){this._container!==t&&(this.remove(),t&&t.appendChild(this.element),this._container=t)}get container(){return this._container}set enabled(t){this.element.style.display=t?"block":"none",this._enabled=!!t}get enabled(){return this._enabled}remove(){const{parentNode:t}=this.element;t!=null&&t.removeChild(this.element)}destroy(){this.element.remove(),this.element.width=0,this.element.height=0,this.context.clearRect(0,0,0,0),Object.freeze(this)}snapshot(){}clear(){this.context.save(),this.context.resetTransform(),this.context.clearRect(0,0,this.width,this.height),this.context.restore()}toImage(){const t=this.document.createElement("img");return t.src=this.getDataURL(),t}getDataURL(t){return this.element.toDataURL(t)}download(t,e="image/png"){t=(t??"").trim()||"image";const r=this.getDataURL(e),i=this.document,o=i.createElement("a");o.href=r,o.download=t,o.style.display="none",i.body.appendChild(o),o.click(),i.body.removeChild(o)}get pixelRatio(){return this._pixelRatio}setPixelRatio(t){let e=t??this.window.devicePixelRatio;return pJ()&&(e=1),this._pixelRatio=e,mI.overrideScale(this.realContext,e)}set pixelated(t){this.element.style.imageRendering=t?"pixelated":"auto"}get pixelated(){return this.element.style.imageRendering==="pixelated"}get width(){return this._width}get height(){return this._height}resize(t,e){if(!(t>0&&e>0))return;const{element:r,context:i,pixelRatio:o}=this;r.width=Math.round(t*o),r.height=Math.round(e*o),r.style.width=t+"px",r.style.height=e+"px",i.resetTransform(),this._width=t,this._height=e}static get textMeasuringContext(){if(this._textMeasuringContext)return this._textMeasuringContext;const t=this.document.createElement("canvas");return this._textMeasuringContext=t.getContext("2d"),this._textMeasuringContext}static get svgText(){if(this._svgText)return this._svgText;const t="http://www.w3.org/2000/svg",e=document.createElementNS(t,"svg");e.setAttribute("width","100"),e.setAttribute("height","100"),e.classList?e.classList.add("text-measuring-svg"):e.setAttribute("class","text-measuring-svg"),e.style.position="absolute",e.style.top="-1000px",e.style.visibility="hidden";const r=document.createElementNS(t,"text");return r.setAttribute("x","0"),r.setAttribute("y","30"),r.setAttribute("text","black"),e.appendChild(r),document.body.appendChild(e),this._svgText=r,r}static get has(){if(this._has)return this._has;const t=typeof navigator>"u"||navigator.userAgent.indexOf("Chrome")>-1,e=typeof navigator<"u"&&navigator.userAgent.indexOf("Firefox")>-1,r=!t&&typeof navigator<"u"&&navigator.userAgent.indexOf("Safari")>-1;return this._has=Object.freeze({textMetrics:this.textMeasuringContext.measureText("test").actualBoundingBoxDescent!==void 0&&!e&&!r,getTransform:this.textMeasuringContext.getTransform!==void 0}),this._has}static measureText(t,e,r,i){const o=this.textMeasuringContext;return o.font=e,o.textBaseline=r,o.textAlign=i,o.measureText(t)}static getTextSize(t,e){if(this.has.textMetrics){const r=this.textMeasuringContext;r.font=e;const i=r.measureText(t);return{width:i.width,height:i.actualBoundingBoxAscent+i.actualBoundingBoxDescent}}else return this.measureSvgText(t,e)}static measureSvgText(t,e){const r=this.textSizeCache,i=r[e];if(i){const l=i[t];if(l)return l}else r[e]={};const o=this.svgText;o.style.font=e,o.textContent=t;const a=o.getBBox(),s={width:a.width,height:a.height};return r[e][t]=s,s}static overrideScale(t,e){let r=0;const i={save(){this.$save(),r++},restore(){if(r>0)this.$restore(),r--;else throw new Error("AG Charts - Unable to restore() past depth 0")},setTransform(o,a,s,l,u,c){typeof o=="object"?this.$setTransform(o):this.$setTransform(o*e,a*e,s*e,l*e,u*e,c*e)},resetTransform(){this.$setTransform(e,0,0,e,0,0)},verifyDepthZero(){if(r!==0)throw new Error("AG Charts - Save/restore depth is non-zero: "+r)}};for(const o in i)Object.hasOwn(i,o)&&(t["$"+o]||(t["$"+o]=t[o]),t[o]=i[o]);return t}};KV.document=globalThis.document;KV.textSizeCache={};var Wr=KV,gHe=class{constructor(){this.stops=[]}},yHe=class extends gHe{constructor(){super(...arguments),this.angle=0}createGradient(n,t){const{stops:r,angle:i}=this,o=Zr(Ci(i+90)),a=Math.cos(o),s=Math.sin(o),l=t.width,u=t.height,c=t.x+l*.5,d=t.y+u*.5;if(l>0&&u>0){const p=Math.sqrt(u*u+l*l)/2,h=Math.atan2(u,l);let f;o<Math.PI/2?f=o:o<Math.PI?f=Math.PI-o:o<3*Math.PI/2?f=o-Math.PI:f=2*Math.PI-o;const v=p*Math.abs(Math.cos(f-h)),g=n.createLinearGradient(c+a*v,d+s*v,c-a*v,d-s*v);return r.forEach(y=>{g.addColorStop(y.offset,y.color)}),g}return"black"}},mHe=/^linear-gradient\((.*?)deg,\s*(.*?)\s*\)$/i,ga=class yl extends ny{constructor(){super(...arguments),this.fillOpacity=1,this.strokeOpacity=1,this.fill=yl.defaultStyles.fill,this.stroke=yl.defaultStyles.stroke,this.strokeWidth=yl.defaultStyles.strokeWidth,this.lineDash=yl.defaultStyles.lineDash,this.lineDashOffset=yl.defaultStyles.lineDashOffset,this.lineCap=yl.defaultStyles.lineCap,this.lineJoin=yl.defaultStyles.lineJoin,this.opacity=yl.defaultStyles.opacity,this.fillShadow=yl.defaultStyles.fillShadow}restoreOwnStyles(){const t=this.constructor.defaultStyles,e=Object.getOwnPropertyNames(t);for(let r=0,i=e.length;r<i;r++){const o=e[r];this[o]=t[o]}}updateGradient(){const{fill:t}=this;let e;if(t!=null&&t.startsWith("linear-gradient")&&(e=mHe.exec(t))){const r=parseFloat(e[1]),i=[],o=e[2],a=/(#[0-9a-f]+)|(rgba?\(.+?\))|([a-z]+)/gi;let s;for(;s=a.exec(o);)i.push(s[0]);this.gradient=new yHe,this.gradient.angle=r,this.gradient.stops=i.map((l,u)=>({offset:u/(i.length-1),color:l}))}else this.gradient=void 0}align(t,e){var r,i,o;const a=(o=(i=(r=this.layerManager)==null?void 0:r.canvas)==null?void 0:i.pixelRatio)!=null?o:1,s=Math.round(t*a)/a;return e==null?s:e===0?0:e<1?Math.ceil(e*a)/a:Math.round((e+t)*a)/a-s}fillStroke(t){this.renderFill(t),this.renderStroke(t)}renderFill(t){if(this.fill){const{globalAlpha:e}=t;this.applyFill(t),this.applyFillAlpha(t),this.applyShadow(t),t.fill(),t.globalAlpha=e}t.shadowColor="rgba(0, 0, 0, 0)"}applyFill(t){this.gradient?t.fillStyle=this.gradient.createGradient(t,this.computeBBox()):t.fillStyle=this.fill}applyFillAlpha(t){const{globalAlpha:e}=t;t.globalAlpha=e*this.opacity*this.fillOpacity}applyShadow(t){var e,r;const i=(r=(e=this.layerManager)==null?void 0:e.canvas.pixelRatio)!=null?r:1,o=this.fillShadow;o!=null&&o.enabled&&(t.shadowColor=o.color,t.shadowOffsetX=o.xOffset*i,t.shadowOffsetY=o.yOffset*i,t.shadowBlur=o.blur*i)}renderStroke(t){if(this.stroke&&this.strokeWidth){const{globalAlpha:e}=t;t.strokeStyle=this.stroke,t.globalAlpha=e*this.opacity*this.strokeOpacity,t.lineWidth=this.strokeWidth,this.lineDash&&t.setLineDash(this.lineDash),this.lineDashOffset&&(t.lineDashOffset=this.lineDashOffset),this.lineCap&&(t.lineCap=this.lineCap),this.lineJoin&&(t.lineJoin=this.lineJoin),t.stroke(),t.globalAlpha=e}}containsPoint(t,e){return this.isPointInPath(t,e)}};ga.defaultStyles=Object.assign({},{fill:"black",stroke:void 0,strokeWidth:0,lineDash:void 0,lineDashOffset:0,lineCap:void 0,lineJoin:void 0,opacity:1,fillShadow:void 0});R([Ae({redraw:2})],ga.prototype,"fillOpacity",2);R([Ae({redraw:2})],ga.prototype,"strokeOpacity",2);R([Ae({redraw:2,changeCb:n=>n.updateGradient()})],ga.prototype,"fill",2);R([Ae({redraw:2})],ga.prototype,"stroke",2);R([Ae({redraw:2})],ga.prototype,"strokeWidth",2);R([Ae({redraw:2})],ga.prototype,"lineDash",2);R([Ae({redraw:2})],ga.prototype,"lineDashOffset",2);R([Ae({redraw:2})],ga.prototype,"lineCap",2);R([Ae({redraw:2})],ga.prototype,"lineJoin",2);R([Ae({redraw:2,convertor:n=>Dt(0,n,1)})],ga.prototype,"opacity",2);R([Ae({redraw:2,checkDirtyOnAssignment:!0})],ga.prototype,"fillShadow",2);var rs=ga,CI="…";function tP(n){const{redraw:t=3,changeCb:e}=n??{};return Ae({redraw:t,type:"font",changeCb:e})}var wi=class $o extends rs{constructor(){super(...arguments),this.x=0,this.y=0,this.lines=[],this.text=void 0,this._dirtyFont=!0,this.fontSize=10,this.fontFamily="sans-serif",this.textAlign=$o.defaultStyles.textAlign,this.textBaseline=$o.defaultStyles.textBaseline,this.lineHeight=void 0}_setLines(){this.lines=gJ(this.text)}get font(){return(this._font==null||this._dirtyFont)&&(this._dirtyFont=!1,this._font=Xd(this)),this._font}computeBBox(){return Wr.has.textMetrics?hJ(this.lines,this.x,this.y,this):fJ(this.lines,this.x,this.y,this)}getLineHeight(t){var e,r;if(this.lineHeight)return this.lineHeight;if(Wr.has.textMetrics){const i=Wr.measureText(t,this.font,this.textBaseline,this.textAlign);return((e=i.fontBoundingBoxAscent)!=null?e:i.emHeightAscent)+((r=i.fontBoundingBoxDescent)!=null?r:i.emHeightDescent)}return Wr.getTextSize(t,this.font).height}isPointInPath(t,e){const r=this.transformPoint(t,e),i=this.computeBBox();return i?i.containsPoint(r.x,r.y):!1}render(t){const{ctx:e,forceRender:r,stats:i}=t;if(this.dirty===0&&!r){i&&(i.nodesSkipped+=this.nodeCount.count);return}if(!this.lines.length||!this.layerManager){i&&(i.nodesSkipped+=this.nodeCount.count);return}this.computeTransformMatrix(),this.matrix.toContext(e);const{fill:o,stroke:a,strokeWidth:s}=this;e.font=this.font,e.textAlign=this.textAlign,e.textBaseline=this.textBaseline;const l=this.layerManager.canvas.pixelRatio||1,{globalAlpha:u}=e;if(o){e.fillStyle=o,e.globalAlpha=u*this.opacity*this.fillOpacity;const{fillShadow:c}=this;c!=null&&c.enabled&&(e.shadowColor=c.color,e.shadowOffsetX=c.xOffset*l,e.shadowOffsetY=c.yOffset*l,e.shadowBlur=c.blur*l),this.renderLines((d,p,h)=>e.fillText(d,p,h))}if(a&&s){e.strokeStyle=a,e.lineWidth=s,e.globalAlpha=u*this.opacity*this.strokeOpacity;const{lineDash:c,lineDashOffset:d,lineCap:p,lineJoin:h}=this;c&&e.setLineDash(c),d&&(e.lineDashOffset=d),p&&(e.lineCap=p),h&&(e.lineJoin=h),this.renderLines((f,v,g)=>e.strokeText(f,v,g))}super.render(t)}renderLines(t){const{lines:e,x:r,y:i}=this,o=this.lines.map(l=>this.getLineHeight(l));let s=-(o.reduce((l,u)=>l+u,0)-o[0])*vJ(this.textBaseline);for(let l=0;l<e.length;l++)t(e[l],r,i+s),s+=o[l]}static wrapLines(t,e,r,i,o,a){const s=a!=="hide",l=Xd(i),u=CHe(l),c=t.split(/\r?\n/g);if(c.length===0)return{lines:void 0,truncated:!1};if(o==="never"){const{text:f,truncated:v}=$o.truncateLine(c[0],e,u,s?"auto":"never");return{lines:f!=null?[f]:void 0,truncated:v}}const d=[];let p=0,h=!1;for(const f of c){const v=$o.wrapLine(f,e,r,u,i,o,p,s);if(v==null)return{lines:void 0,truncated:!1};if(d.push(...v.result),p=v.cumulativeHeight,v.truncated){h=!0;break}}return{lines:d,truncated:h}}static wrap(t,e,r,i,o,a="ellipsis"){const{lines:s,truncated:l}=$o.wrapLines(t,e,r,i,o,a);return{text:s!=null?s.join(`
`).trim():"",truncated:l}}static wrapLine(t,e,r,i,o,a,s,l){if(t=t.trim(),!t)return{result:[],truncated:!1,cumulativeHeight:s};const u=i.size(t);if(u.width<=e)return{result:[t],truncated:!1,cumulativeHeight:s+u.height};if(u.height>r||i.width("W")>e)return l?{result:[],truncated:!0,cumulativeHeight:s}:void 0;const c=t.split(/\s+/g),d=$o.wrapLineSequentially(c,e,r,i,o,a,s,l);if(d==null)return;s=d.cumulativeHeight;let{lines:p}=d;if(!(d.wordsBrokenOrTruncated||d.linesTruncated)){const f=d.lines.length,v=$o.wrapLineBalanced(c,e,i,f);v.length===p.length&&(p=v)}return{result:p.map(f=>f.join(" ")),truncated:d.linesTruncated,cumulativeHeight:s}}static breakWord(t,e,r,i,o){const a=h=>$o.punctuationMarks.includes(t[h]),s=i?o.width("-"):0,l=[];let u=0,c=0;for(let h=0;h<t.length;h++){const f=t[h],v=o.width(f),g=c===0?e:r;u+v+s>g&&(l.push(h),u=0,c++),u+=v}const d=[];let p=0;for(const h of l){let f=t.substring(p,h);i&&f.length>0&&!a(h-1)&&!a(h)&&(f+="-"),d.push(f),p=h}return d.push(t.substring(p)),d}static truncateLine(t,e,r,i){t=t.trimEnd();const o=r.width(t);if(o>e&&i==="never")return{text:void 0,truncated:!1};if(o<=e&&i!=="force")return{text:t,truncated:!1};const a=r.width(CI);let s=t,l=o;for(;s.length>0&&l+a>e;)s=s.slice(0,-1).trimEnd(),l=r.width(s);return l+a<=e?{text:`${s}${CI}`,truncated:!0}:{text:void 0,truncated:!1}}static wrapLineSequentially(t,e,r,i,o,a,s,l){const{fontSize:u=0,lineHeight:c=u*$o.defaultLineHeightRatio}=o,d=a==="always"||a==="hyphenate",p=a==="hyphenate",h=i.width(" ");let f=!1,v=!1;const g=[];let y=[],m=0;const C=()=>({lines:g,linesTruncated:v,wordsBrokenOrTruncated:f,cumulativeHeight:s}),S=()=>{if(!l)return;const _=y.join(" "),{text:x}=$o.truncateLine(_,e,i,"force");if(x!=null)return y.splice(0,y.length,x),v=!0,C()},w=()=>{const _=s+c;return _>=r?!1:(y=[],m=0,s=_,g.push(y),!0)};if(!w())return S();for(let _=0;_<t.length;_++){const x=t[_],b=i.width(x),O=y.length===0?0:h,P=m+O+b;if(P<=e){y.push(x),m=P;continue}if(b<=e){if(!w())return S();y.push(x),m=b;continue}if(f=!0,d){const D=e-m-O,N=$o.breakWord(x,D,e,p,i);for(let L=0;L<N.length;L++){const I=N[L];if(I&&y.push(I),L===N.length-1)m=i.width(I);else if(!w())return S()}}else if(l){if(!w())return S();const{text:D}=$o.truncateLine(x,e,i,"force");if(D==null)return;y.push(D),_<t.length-1&&(v=!0);break}else return}return C()}static wrapLineBalanced(t,e,r,i){const o=t.reduce((h,f)=>h+r.width(f),0),a=r.width(" "),s=a*(t.length-i-2),l=(o+s)/i,u=[];let c=[],d=r.width(t[0]),p=!0;for(const h of t){const f=r.width(h);if(p){c=[],c.push(h),d=f,p=!1,u.push(c);continue}const v=d+a+f;v<=l?(c.push(h),d=v):v<=e?(c.push(h),p=!0):(c=[h],d=f,u.push(c))}return u}setFont(t){this.fontFamily=t.fontFamily,this.fontSize=t.fontSize,this.fontStyle=t.fontStyle,this.fontWeight=t.fontWeight}setAlign(t){this.textAlign=t.textAlign,this.textBaseline=t.textBaseline}};wi.className="Text";wi.defaultLineHeightRatio=1.15;wi.defaultStyles=Object.assign({},rs.defaultStyles,{textAlign:"start",fontStyle:void 0,fontWeight:void 0,fontSize:10,fontFamily:"sans-serif",textBaseline:"alphabetic"});wi.ellipsis=CI;wi.punctuationMarks=[".",",","-",":",";","!","?","'",'"',"(",")"];R([Ae({redraw:3})],wi.prototype,"x",2);R([Ae({redraw:3})],wi.prototype,"y",2);R([Ae({redraw:3,changeCb:n=>n._setLines()})],wi.prototype,"text",2);R([tP()],wi.prototype,"fontStyle",2);R([tP()],wi.prototype,"fontWeight",2);R([tP()],wi.prototype,"fontSize",2);R([tP()],wi.prototype,"fontFamily",2);R([Ae({redraw:3})],wi.prototype,"textAlign",2);R([Ae({redraw:3})],wi.prototype,"textBaseline",2);R([Ae({redraw:3})],wi.prototype,"lineHeight",2);var Mt=wi;function CHe(n){const t=new Map,e=i=>Wr.getTextSize(i,n);return{size:e,width:i=>{if(t.has(i))return t.get(i);const{width:o}=e(i);return t.set(i,o),o}}}function Xd(n){const{fontFamily:t,fontSize:e,fontStyle:r,fontWeight:i}=n;return[r??"",i??"",e+"px",t].join(" ").trim()}function SHe(n,t,e,r){return Wr.has.textMetrics?hJ(n,t,e,r):fJ(n,t,e,r)}function hJ(n,t,e,r){var i,o;let a=0,s=0,l=0,u=0,c=0;const d=Xd(r),{lineHeight:p,textBaseline:h=Mt.defaultStyles.textBaseline,textAlign:f=Mt.defaultStyles.textAlign}=r;for(let v=0;v<n.length;v++){const g=Wr.measureText(n[v],d,h,f);a=Math.max(a,g.actualBoundingBoxLeft),l=Math.max(l,g.width),v==0?(s+=g.actualBoundingBoxAscent,u+=g.actualBoundingBoxAscent):c+=(i=g.fontBoundingBoxAscent)!=null?i:g.emHeightAscent,v==n.length-1?u+=g.actualBoundingBoxDescent:c+=(o=g.fontBoundingBoxDescent)!=null?o:g.emHeightDescent}return p!==void 0&&(c=(n.length-1)*p),u+=c,s+=c*vJ(h),new nt(t-a,e-s,l,u)}function fJ(n,t,e,r){let i=0,o=0,a=0;const s=Xd(r),{lineHeight:l,textBaseline:u=Mt.defaultStyles.textBaseline,textAlign:c=Mt.defaultStyles.textAlign}=r;if(n.length>0){const d=Wr.getTextSize(n[0],s);i=d.width,o=d.height}for(let d=1;d<n.length;d++){const p=Wr.getTextSize(n[d],s);i=Math.max(i,p.width),a+=l??p.height}switch(c){case"end":case"right":t-=i;break;case"center":t-=i/2}switch(u){case"alphabetic":e-=o*.7+a*.5;break;case"middle":e-=o*.45+a*.5;break;case"ideographic":e-=o+a;break;case"hanging":e-=o*.2+a*.5;break;case"bottom":e-=o+a;break}return new nt(t,e,i,o+a)}function vJ(n){switch(n){case"top":case"hanging":return 0;case"bottom":case"alphabetic":case"ideographic":return 1;case"middle":return .5}}function gJ(n){return typeof n=="string"?n.split(/\r?\n/g):[]}function fp(n){const t=fn(n)?n:n.split(".");if(t.length===1){const[e]=t;return cc((r,i,o)=>r[e]=o,r=>r[e])}return cc((e,r,i)=>sQ(e,t,i),e=>aQ(e,t))}function wHe(n){return cc((t,e,r)=>t[n]=r)}function cr(n,t){return cc((e,r,i)=>e[n][t??r]=i)}function An(n){const{newValue:t,oldValue:e,changeValue:r}=n;return cc((i,o,a,s)=>(a!==s&&(s!==void 0&&(e==null||e.call(i,s)),a!==void 0&&(t==null||t.call(i,a)),r==null||r.call(i,a,s)),a))}function oy(n){return ABe(n)}function rP(n,t){const e=n.createElement("style");e.innerHTML=t,n.head.insertBefore(e,n.head.querySelector("style"))}var an="ag-chart-tooltip",_He="ag-chart-dark-tooltip",xHe=`
.${an} {
    transition: transform 0.1s ease;
    max-width: 100%;
    position: fixed;
    left: 0px;
    top: 0px;
    z-index: 99999;
    font: 12px Verdana, sans-serif;
    color: rgb(70, 70, 70);
    box-shadow: 0 4px 8px rgba(0, 0, 0, 0.08);
}

.${an}-wrap-always {
    overflow-wrap: break-word;
    word-break: break-word;
    hyphens: none;
}

.${an}-wrap-hyphenate {
    overflow-wrap: break-word;
    word-break: break-word;
    hyphens: auto;
}

.${an}-wrap-on-space {
    overflow-wrap: normal;
    word-break: normal;
}

.${an}-wrap-never {
    white-space: pre;
    text-overflow: ellipsis;
}

.${an}-no-interaction {
    pointer-events: none;
    user-select: none;
}

.${an}-no-animation {
    transition: none !important;
}

.${an}-hidden {
    visibility: hidden;
}

.${an}-title {
    overflow: hidden;
    position: relative;
    padding: 8px 14px;
    border-top-left-radius: 2px;
    border-top-right-radius: 2px;
    color: white;
    background-color: #888888;
    z-index: 1;
    text-overflow: inherit;
}

.${an}-title:only-child {
    border-bottom-left-radius: 2px;
    border-bottom-right-radius: 2px;
}

.${an}-content {
    overflow: hidden;
    padding: 6px 14px;
    line-height: 1.7em;
    background: white;
    border-bottom-left-radius: 2px;
    border-bottom-right-radius: 2px;
    border: 1px solid rgba(0, 0, 0, 0.15);
    overflow: hidden;
    text-overflow: inherit;
}

.${an}-arrow::before {
    content: "";

    position: absolute;
    top: 100%;
    left: 50%;
    transform: translateX(-50%);

    border: 5px solid #d9d9d9;

    border-left-color: transparent;
    border-right-color: transparent;
    border-bottom-color: transparent;

    width: 0;
    height: 0;

    margin: 0 auto;
}

.${an}-arrow::after {
    content: "";

    position: absolute;
    top: calc(100% - 1px);
    left: 50%;
    transform: translateX(-50%);

    border: 5px solid white;

    border-left-color: transparent;
    border-right-color: transparent;
    border-bottom-color: transparent;

    width: 0;
    height: 0;

    margin: 0 auto;
}

.ag-chart-wrapper {
    box-sizing: border-box;
    overflow: hidden;
}
`;function ZS(n,t){var e,r,i;if(typeof n=="string")return n;const{content:o=(e=t==null?void 0:t.content)!=null?e:"",title:a=t==null?void 0:t.title,color:s=(r=t==null?void 0:t.color)!=null?r:"white",backgroundColor:l=(i=t==null?void 0:t.backgroundColor)!=null?i:"#888"}=n,u=a?`<div class="${an}-title"
        style="color: ${s}; background-color: ${l}">${a}</div>`:"",c=o?`<div class="${an}-content">${o}</div>`:"";return`${u}${c}`}var a0=class extends nr{constructor(){super(...arguments),this.type="pointer",this.xOffset=0,this.yOffset=0}};R([M(tn(["pointer","node"],"a position type"))],a0.prototype,"type",2);R([M(sr)],a0.prototype,"xOffset",2);R([M(sr)],a0.prototype,"yOffset",2);var Oc=class SI{constructor(t,e,r,i){this.enableInteraction=!1,this.enabled=!0,this.showArrow=void 0,this.class=void 0,this.lastClass=void 0,this.delay=0,this.range="nearest",this.wrapping="hyphenate",this.darkTheme=!1,this.lastVisibilityChange=Date.now(),this.position=new a0,this.showTimeout=0,this._showArrow=!0,this.tooltipRoot=i,this.window=r;const o=e.createElement("div");if(this.element=this.tooltipRoot.appendChild(o),this.element.classList.add(an),this.canvasElement=t,typeof IntersectionObserver<"u"){const a=new IntersectionObserver(s=>{for(const l of s)l.target===this.canvasElement&&l.intersectionRatio===0&&this.toggle(!1)},{root:this.tooltipRoot});a.observe(this.canvasElement),this.observer=a}SI.tooltipDocuments.indexOf(e)<0&&(rP(e,xHe),SI.tooltipDocuments.push(e))}destroy(){const{parentNode:t}=this.element;t&&t.removeChild(this.element),this.observer&&this.observer.unobserve(this.canvasElement)}isVisible(){const{element:t}=this;return!t.classList.contains(an+"-hidden")}updateClass(t,e,r=!0){const{element:i,class:o,lastClass:a,enableInteraction:s,lastVisibilityChange:l}=this,u=this.isVisible(),c=!!t;let d=1/0;if(u!==c){const g=Date.now();d=g-l,this.lastVisibilityChange=g}const p=(g,y)=>{const m=`${an}-${g}`;y?i.classList.add(m):i.classList.remove(m)},h=100,f=5,v=!u&&c&&d>h;d>f&&p("no-animation",v),p("no-interaction",!s),p("hidden",!t),p("arrow",!!e),i.classList.toggle(_He,this.darkTheme),this.updateWrapping(),r?(o!==a&&(a&&i.classList.remove(a),o&&i.classList.add(o)),this.lastClass=o):(a&&i.classList.remove(a),this.lastClass=void 0)}updateWrapping(){const{element:t,wrapping:e}=this,r={always:!1,hyphenate:!1,"on-space":!1,never:!1};r[e]=!0,Object.entries(r).forEach(([i,o])=>{t.classList.toggle(`${an}-wrap-${i}`,o)})}show(t,e,r=!1){var i,o,a,s,l,u,c;const{element:d,canvasElement:p}=this;if(e!==void 0)d.innerHTML=e;else if(!d.innerHTML){this.toggle(!1);return}const h=(o=(i=t.position)==null?void 0:i.xOffset)!=null?o:0,f=(s=(a=t.position)==null?void 0:a.yOffset)!=null?s:0,v=p.getBoundingClientRect(),g=v.left+t.offsetX-d.clientWidth/2+h,y=v.top+t.offsetY-d.clientHeight-8+f,m=this.getWindowBoundingBox(),C=m.x+m.width-d.clientWidth-1,S=m.y+m.height-d.clientHeight,w=Dt(m.x,g,C),_=Dt(m.y,y,S),b=!(w!==g||_!==y)&&!h&&!f,O=(u=(l=t.showArrow)!=null?l:this.showArrow)!=null?u:b;if(this.updateShowArrow(O),d.style.transform=`translate(${Math.round(w)}px, ${Math.round(_)}px)`,this.enableInteraction=(c=t.enableInteraction)!=null?c:!1,this.delay>0&&!r){this.toggle(!1),this.showTimeout=this.window.setTimeout(()=>{this.toggle(!0,t.addCustomClass)},this.delay);return}this.toggle(!0,t.addCustomClass)}getWindowBoundingBox(){return new nt(0,0,this.window.innerWidth,this.window.innerHeight)}toggle(t,e){t||this.window.clearTimeout(this.showTimeout),this.updateClass(t,this._showArrow,e)}pointerLeftOntoTooltip(t){var e;if(!this.enableInteraction)return!1;const r=(e=t.sourceEvent.relatedTarget)==null?void 0:e.classList,o=!!["","-title","-content"].filter(a=>r==null?void 0:r.contains(`${an}${a}`));return r!==void 0&&o}updateShowArrow(t){this._showArrow=t}};Oc.tooltipDocuments=[];R([M(qe)],Oc.prototype,"enabled",2);R([M(qe,{optional:!0})],Oc.prototype,"showArrow",2);R([M(Ee,{optional:!0})],Oc.prototype,"class",2);R([M(xe)],Oc.prototype,"delay",2);R([M(UV)],Oc.prototype,"range",2);R([M(eP)],Oc.prototype,"wrapping",2);R([M(qe)],Oc.prototype,"darkTheme",2);var yJ=Oc,Ar=class extends nr{constructor(){super(...arguments),this.id=uu(this),this.node=new Mt().setProperties({textAlign:"center",pointerEvents:1}),this.enabled=!1,this.textAlign="center",this.fontSize=10,this.fontFamily="sans-serif",this.wrapping="always",this.truncated=!1}registerInteraction(n){return n.interactionManager.addListener("hover",t=>this.handleMouseMove(n,t))}computeTextWrap(n,t){var e,r;const{text:i,wrapping:o}=this,a=Math.min((e=this.maxWidth)!=null?e:1/0,n),s=(r=this.maxHeight)!=null?r:t;if(!isFinite(a)&&!isFinite(s)){this.node.text=i;return}const{text:l,truncated:u}=Mt.wrap(i??"",a,s,this,o);this.node.text=l,this.truncated=u}handleMouseMove(n,t){if(!this.enabled)return;const{offsetX:e,offsetY:r}=t,i=this.node.computeBBox(),o=this.node.visible&&i.containsPoint(e,r);o&&t.consume(),!this.truncated||!o?n.tooltipManager.removeTooltip(this.id):n.tooltipManager.updateTooltip(this.id,{offsetX:e,offsetY:r,lastPointerEvent:t,showArrow:!1,addCustomClass:!1},ZS({content:this.text}))}};Ar.SMALL_PADDING=10;Ar.LARGE_PADDING=20;R([M(qe)],Ar.prototype,"enabled",2);R([M(Ee,{optional:!0}),cr("node")],Ar.prototype,"text",2);R([M(sJ,{optional:!0}),cr("node")],Ar.prototype,"textAlign",2);R([M(pp,{optional:!0}),cr("node")],Ar.prototype,"fontStyle",2);R([M(hp,{optional:!0}),cr("node")],Ar.prototype,"fontWeight",2);R([M(xe),cr("node")],Ar.prototype,"fontSize",2);R([M(Ee),cr("node")],Ar.prototype,"fontFamily",2);R([M(Tt,{optional:!0}),cr("node","fill")],Ar.prototype,"color",2);R([M(xe,{optional:!0})],Ar.prototype,"spacing",2);R([M(xe,{optional:!0})],Ar.prototype,"lineHeight",2);R([M(xe,{optional:!0})],Ar.prototype,"maxWidth",2);R([M(xe,{optional:!0})],Ar.prototype,"maxHeight",2);R([M(eP)],Ar.prototype,"wrapping",2);var Zs=class{constructor(){this.enabled=!1,this.spacing=Ar.SMALL_PADDING,this.fontSize=10,this.fontFamily="sans-serif",this.wrapping="always"}};R([M(qe)],Zs.prototype,"enabled",2);R([M(Ee,{optional:!0})],Zs.prototype,"text",2);R([M(xe,{optional:!0})],Zs.prototype,"spacing",2);R([M(pp,{optional:!0})],Zs.prototype,"fontStyle",2);R([M(hp,{optional:!0})],Zs.prototype,"fontWeight",2);R([M(xe)],Zs.prototype,"fontSize",2);R([M(Ee)],Zs.prototype,"fontFamily",2);R([M(Tt,{optional:!0})],Zs.prototype,"color",2);R([M(eP)],Zs.prototype,"wrapping",2);R([M(ss,{optional:!0})],Zs.prototype,"formatter",2);var mJ={constructedArrays:new WeakMap};function CJ(n,t){var e;(e=mJ.constructedArrays)==null||e.set(n,t)}var ZU={constructors:{"axes[].title":Zs},allowedTypes:{"legend.pagination.marker.shape":["primitive","function"],"axis[].tick.count":["primitive","class-instance"]}},pu=class wI{constructor(t,e){this.invalid=!0,this.nice=!1,this.interval=void 0,this.tickCount=wI.defaultTickCount,this.minTickCount=0,this.maxTickCount=1/0,this.niceDomain=[],this.defaultClampMode="raw",this.domain=t,this.range=e}static is(t){return t instanceof wI}transform(t){return t}transformInvert(t){return t}calcBandwidth(t=1){const{range:e}=this,r=this.getDomain(),i=Math.abs(e[1]-e[0]),o=Math.abs(r[1]-r[0])/t+1,a=Math.floor(i),s=Math.min(o,a);return i/Math.max(1,s)}fromDomain(t){return typeof t=="number"?t:t instanceof Date?t.getTime():NaN}getDomain(){return this.nice&&(this.refresh(),this.niceDomain.length)?this.niceDomain:this.domain}convert(t,e){var r;const i=(r=e==null?void 0:e.clampMode)!=null?r:this.defaultClampMode;if(!this.domain||this.domain.length<2)return NaN;this.refresh();const o=this.getDomain().map(d=>this.transform(d)),[a,s]=o,{range:l}=this,[u,c]=l;if(t=this.transform(t),i==="clamped"){const d=Math.min(this.fromDomain(a),this.fromDomain(s)),p=Math.max(this.fromDomain(a),this.fromDomain(s));if(this.fromDomain(t)<d)return u;if(this.fromDomain(t)>p)return c}return a===s?(u+c)/2:t===a?u:t===s?c:u+(this.fromDomain(t)-this.fromDomain(a))/(this.fromDomain(s)-this.fromDomain(a))*(c-u)}invert(t){this.refresh();const e=this.getDomain().map(p=>this.transform(p)),[r,i]=e,{range:o}=this,[a,s]=o,l=a>s,u=l?s:a,c=l?a:s;let d;return t<u?l?i:r:t>c?l?r:i:(a===s?d=this.toDomain((this.fromDomain(r)+this.fromDomain(i))/2):d=this.toDomain(this.fromDomain(r)+(t-a)/(s-a)*(this.fromDomain(i)-this.fromDomain(r))),this.transformInvert(d))}refresh(){this.invalid&&(this.invalid=!1,this.update(),this.invalid&&Oe.warnOnce("Expected update to not invalidate scale"))}getPixelRange(){const t=this.range.slice().sort((e,r)=>e-r);return t[1]-t[0]}isDenseInterval({start:t,stop:e,interval:r,count:i}){const o=e-t,a=this.getPixelRange();return i??(i=o/(typeof r=="number"?r:1)),i>=a?(Oe.warn("the configured interval results in more than 1 item per pixel, ignoring. Supply a larger interval or omit this configuration"),!0):!1}};pu.defaultTickCount=5;pu.defaultMaxTickCount=6;R([Eo],pu.prototype,"domain",2);R([Eo],pu.prototype,"range",2);R([Eo],pu.prototype,"nice",2);R([Eo],pu.prototype,"interval",2);R([Eo],pu.prototype,"tickCount",2);R([Eo],pu.prototype,"minTickCount",2);R([Eo],pu.prototype,"maxTickCount",2);var Zt=pu;function SJ(n,t){let e=0;return typeof n=="number"&&typeof t=="number"?e=n-t:typeof n=="string"&&typeof t=="string"?e=n.localeCompare(t):n==null&&t==null||(n==null?e=-1:t==null?e=1:e=String(n).localeCompare(String(t))),e}function wJ(n,t,e){const r=i=>typeof i=="function"?i():i;for(const i in n){const o=e(r(n[i]),r(t[i]));if(o!==0)return o}return 0}var YV=class _I extends ny{constructor(t){var e;super({isVirtual:t==null?void 0:t.isVirtual}),this.opts=t,this.opacity=1,this.lastBBox=void 0;const{zIndex:r,zIndexSubOrder:i}=t??{};this.isContainerNode=!0,r!==void 0&&(this.zIndex=r),i!==void 0&&(this.zIndexSubOrder=i),this.name=(e=this.opts)==null?void 0:e.name}zIndexChanged(){var t;this.layer&&((t=this._layerManager)==null||t.moveLayer(this.layer,this.zIndex,this.zIndexSubOrder))}isLayer(){return this.layer!=null}_setLayerManager(t){var e,r;if(this._layerManager&&this.layer&&(this._layerManager.removeLayer(this.layer),this.layer=void 0),this.layer)throw new Error("AG Charts - unable to deregister scene rendering layer!");if(super._setLayerManager(t),t&&((e=this.opts)!=null&&e.layer)){const{zIndex:i,zIndexSubOrder:o,name:a}=(r=this.opts)!=null?r:{},s=()=>this.getComputedOpacity(),l=()=>this.getVisibility();this.layer=t.addLayer({zIndex:i,zIndexSubOrder:o,name:a,getComputedOpacity:s,getVisibility:l})}}getComputedOpacity(){let t=1,e=this;do e instanceof _I&&(t*=e.opacity);while(e=e.parent);return t}getVisibility(){let t=this,e=this.visible;for(;t=t.parent;)t.visible||(e=t.visible);return e}visibilityChanged(){this.layer&&(this.layer.enabled=this.visible)}markDirty(t,e=1){if(this.isVirtual){super.markDirty(t,e);return}let r=e;(e<2||this.layer!=null)&&(r=1),super.markDirty(t,e,r)}containsPoint(t,e){return!0}computeBBox(){return this.computeTransformMatrix(),_I.computeBBox(this.children)}computeTransformedBBox(){return this.computeBBox()}render(t){var e,r;const{opts:{name:i=void 0}={},_debug:o=()=>{}}=this,{dirty:a,dirtyZIndex:s,layer:l,children:u,clipRect:c,dirtyTransform:d}=this;let{ctx:p,forceRender:h,clipBBox:f}=t;const{resized:v,stats:g}=t,y=p.getTransform(),m=a>=2||s||v;let C=m,S=!1;for(const P of u)if(C||(C=P.layerManager==null&&P.dirty>=1),S||(S=P.layerManager!=null&&P.dirty>=1),C)break;if(i&&o({name:i,group:this,isDirty:m,isChildDirty:C,dirtyTransform:d,renderCtx:t,forceRender:h}),d)h="dirtyTransform";else if(l){const P=this.computeBBox();(this.lastBBox===void 0||!this.lastBBox.equals(P))&&(h="dirtyTransform",this.lastBBox=P)}if(!m&&!C&&!S&&!h){i&&g&&o({name:i,result:"skipping",renderCtx:t,counts:this.nodeCount,group:this}),l&&g&&(g.layersSkipped++,g.nodesSkipped+=this.nodeCount.count),this.markClean({recursive:!1});return}const w=this.visible;if(l){if(p=l.context,p.save(),p.resetTransform(),h!=="dirtyTransform"&&(h=C||s),h&&l.clear(),f){const{width:P,height:D,x:N,y:L}=f;o(()=>({name:i,clipBBox:f,ctxTransform:p.getTransform(),renderCtx:t,group:this})),this.clipCtx(p,N,L,P,D)}p.setTransform(y)}else p.globalAlpha*=this.opacity;if(this.computeTransformMatrix(),this.matrix.toContext(p),c){const{x:P,y:D,width:N,height:L}=c;p.save(),o(()=>({name:i,clipRect:c,ctxTransform:p.getTransform(),renderCtx:t,group:this})),this.clipCtx(p,P,D,N,L),f=this.matrix.transformBBox(c)}const _=this.hasVirtualChildren();s?(this.sortChildren(u),h!=="dirtyTransform"&&(h=!0)):_&&this.sortChildren(u);const b=h!==t.forceRender||f!==t.clipBBox||p!==t.ctx?Te(J({},t),{ctx:p,forceRender:h,clipBBox:f}):t;let O=0;for(const P of u){if(!P.visible||!w){P.markClean(),g&&(O+=P.nodeCount.count);continue}if(!h&&P.dirty===0){g&&(O+=P.nodeCount.count);continue}p.save(),P.render(b),p.restore()}if(g&&(g.nodesSkipped+=O),super.render(t),c&&p.restore(),_)for(const P of this.virtualChildren)P.markClean({recursive:"virtual"});l&&(g&&g.layersRendered++,p.restore(),h&&l.snapshot(),(r=(e=l.context).verifyDepthZero)==null||r.call(e)),i&&g&&o({name:i,result:"rendered",skipped:O,renderCtx:t,counts:this.nodeCount,group:this})}sortChildren(t){this.dirtyZIndex=!1,t.sort((e,r)=>{var i,o;return wJ([e.zIndex,...(i=e.zIndexSubOrder)!=null?i:[void 0,void 0],e.serialNumber],[r.zIndex,...(o=r.zIndexSubOrder)!=null?o:[void 0,void 0],r.serialNumber],SJ)})}clipCtx(t,e,r,i,o){t.beginPath(),t.moveTo(e,r),t.lineTo(e+i,r),t.lineTo(e+i,r+o),t.lineTo(e,r+o),t.closePath(),t.clip()}static computeBBox(t){let e=1/0,r=-1/0,i=1/0,o=-1/0;return t.forEach(a=>{if(!a.visible)return;const s=a.computeTransformedBBox();if(!s)return;const l=s.x,u=s.y;l<e&&(e=l),u<i&&(i=u),l+s.width>r&&(r=l+s.width),u+s.height>o&&(o=u+s.height)}),new nt(e,i,r-e,o-i)}setClipRectInGroupCoordinateSpace(t){this.clipRect=t?this.transformBBox(t):void 0}};YV.className="Group";R([Ae({redraw:3,convertor:n=>Dt(0,n,1)})],YV.prototype,"opacity",2);var Ve=YV,hu=class extends rs{constructor(n={}){super(n),this.x1=0,this.y1=0,this.x2=0,this.y2=0,this.startLine=!1,this.endLine=!1,this.isRange=!1,this.restoreOwnStyles()}computeBBox(){return new nt(this.x1,this.y1,this.x2-this.x1,this.y2-this.y1)}isPointInPath(n,t){return!1}render(n){var t;const{ctx:e,forceRender:r,stats:i}=n;if(this.dirty===0&&!r){i&&(i.nodesSkipped+=this.nodeCount.count);return}this.computeTransformMatrix(),this.matrix.toContext(e);let{x1:o,y1:a,x2:s,y2:l}=this;o=this.align(o),a=this.align(a),s=this.align(s),l=this.align(l);const{fill:u,opacity:c,isRange:d}=this;if(!!(d&&u)){const{fillOpacity:m}=this;e.fillStyle=u,e.globalAlpha=c*m,e.beginPath(),e.moveTo(o,a),e.lineTo(s,a),e.lineTo(s,l),e.lineTo(o,l),e.closePath(),e.fill()}const{stroke:h,strokeWidth:f,startLine:v,endLine:g}=this;if(!!((v||g)&&h&&f)){const{strokeOpacity:m,lineDash:C,lineDashOffset:S,lineCap:w,lineJoin:_}=this;e.strokeStyle=h,e.globalAlpha=c*m,e.lineWidth=f,C&&e.setLineDash(C),S&&(e.lineDashOffset=S),w&&(e.lineCap=w),_&&(e.lineJoin=_),e.beginPath(),v&&(e.moveTo(o,a),e.lineTo(s,a)),g&&(e.moveTo(s,l),e.lineTo(o,l)),e.stroke()}(t=this.fillShadow)==null||t.markClean(),super.render(n)}};hu.className="Range";hu.defaultStyles=Te(J({},rs.defaultStyles),{strokeWidth:1});R([Ae({redraw:2})],hu.prototype,"x1",2);R([Ae({redraw:2})],hu.prototype,"y1",2);R([Ae({redraw:2})],hu.prototype,"x2",2);R([Ae({redraw:2})],hu.prototype,"y2",2);R([Ae({redraw:2})],hu.prototype,"startLine",2);R([Ae({redraw:2})],hu.prototype,"endLine",2);R([Ae({redraw:2})],hu.prototype,"isRange",2);var gn=class extends nr{constructor(){super(...arguments),this.enabled=!0,this.color="#464646",this.fontSize=12,this.fontFamily="Verdana, sans-serif"}getFont(){return Xd(this)}};R([M(qe)],gn.prototype,"enabled",2);R([M(Tt)],gn.prototype,"color",2);R([M(pp,{optional:!0})],gn.prototype,"fontStyle",2);R([M(hp,{optional:!0})],gn.prototype,"fontWeight",2);R([M(xe)],gn.prototype,"fontSize",2);R([M(Ee)],gn.prototype,"fontFamily",2);R([M(ss,{optional:!0})],gn.prototype,"formatter",2);function AO(n){const{parallelFlipRotation:t=0,regularFlipRotation:e=0}=n,r=n.rotation?Zr(Ci(n.rotation)):0,i=!r&&t>=0&&t<=Math.PI?-1:1,o=!r&&e>=0&&e<=Math.PI?-1:1;let a=0;return n.parallel?a=i*Math.PI/2:o===-1&&(a=Math.PI),{configuredRotation:r,defaultRotation:a,parallelFlipFlag:i,regularFlipFlag:o}}function EHe(n,t){return isNaN(n)?t?0:10:n}function bHe(n,t,e,r){return n&&!t?e*r===-1?"hanging":"bottom":"middle"}function rM(n,t,e,r,i){const o=t>0&&t<=Math.PI,a=e>0&&e<=Math.PI,s=o||a?-1:1;if(n)if(t||e){if(r*s===-1)return"end"}else return"center";else if(r*i===-1)return"end";return"start"}function OHe(n,t,e,r,i){const{width:o,height:a}=t,s=new nt(e,r,0,0);i.transformBBox(s,t);const{x:l=0,y:u=0}=t;return t.width=o,t.height=a,{point:{x:l,y:u,size:0},label:{width:o,height:a,text:n}}}var _J=(n=>(n[n.SERIES_BACKGROUND_ZINDEX=0]="SERIES_BACKGROUND_ZINDEX",n[n.AXIS_GRID_ZINDEX=1]="AXIS_GRID_ZINDEX",n[n.AXIS_ZINDEX=2]="AXIS_ZINDEX",n[n.SERIES_CROSSLINE_RANGE_ZINDEX=3]="SERIES_CROSSLINE_RANGE_ZINDEX",n[n.SERIES_LAYER_ZINDEX=4]="SERIES_LAYER_ZINDEX",n[n.AXIS_FOREGROUND_ZINDEX=5]="AXIS_FOREGROUND_ZINDEX",n[n.SERIES_CROSSHAIR_ZINDEX=6]="SERIES_CROSSHAIR_ZINDEX",n[n.SERIES_LABEL_ZINDEX=7]="SERIES_LABEL_ZINDEX",n[n.SERIES_CROSSLINE_LINE_ZINDEX=8]="SERIES_CROSSLINE_LINE_ZINDEX",n[n.LEGEND_ZINDEX=9]="LEGEND_ZINDEX",n))(_J||{}),XV=n=>!!n&&Object.hasOwn(n,"toString")&&Ya(n.toString()),RHe=n=>!!n&&Object.hasOwn(n,"valueOf")&&Nt(n.valueOf()),qV=n=>Nt(n)||RHe(n)||Xw(n);function QS(n,t){if(t&&qV(n))return n;if(!t)return Ya(n)||XV(n)?n:String(n)}function ag(n){return XV(n)&&Object.hasOwn(n,"id")?n.id:n}var ZV=n=>n==="value"?er((t,e)=>e.target.type==="line",t=>t.target.type==="range"?"crossLine type 'range' to have a 'range' property instead of 'value'":"crossLine property 'type' to be 'line'"):er((t,e)=>e.target.type==="range",t=>t.target.type==="line"?"crossLine type 'line' to have a 'value' property instead of 'range'":"crossLine property 'type' to be 'range'"),xJ=(n,t,e,r)=>{const i=n==="line"&&t!==void 0,o=n==="range"&&e!==void 0;if(!i&&!o)return!0;const[a,s]=e??[t,void 0],l=Zt.is(r),u=QS(a,l)!=null&&!isNaN(r.convert(a)),c=QS(s,l)!=null&&!isNaN(r.convert(s));if(i&&u||o&&u&&c)return!0;const d=["Expecting crossLine"];return o?(u||d.push(`range start ${HC(a)}`),c||d.push(`${u?"":"and "}range end ${HC(s)}`)):d.push(`value ${HC(a)}`),d.push("to match the axis scale domain."),Oe.warnOnce(d.join(" ")),!1},THe={top:{xTranslationDirection:0,yTranslationDirection:-1},bottom:{xTranslationDirection:0,yTranslationDirection:1},left:{xTranslationDirection:-1,yTranslationDirection:0},right:{xTranslationDirection:1,yTranslationDirection:0},topLeft:{xTranslationDirection:1,yTranslationDirection:-1},topRight:{xTranslationDirection:-1,yTranslationDirection:-1},bottomLeft:{xTranslationDirection:1,yTranslationDirection:1},bottomRight:{xTranslationDirection:-1,yTranslationDirection:1},inside:{xTranslationDirection:0,yTranslationDirection:0},insideLeft:{xTranslationDirection:1,yTranslationDirection:0},insideRight:{xTranslationDirection:-1,yTranslationDirection:0},insideTop:{xTranslationDirection:0,yTranslationDirection:1},insideBottom:{xTranslationDirection:0,yTranslationDirection:-1},insideTopLeft:{xTranslationDirection:1,yTranslationDirection:1},insideBottomLeft:{xTranslationDirection:1,yTranslationDirection:-1},insideTopRight:{xTranslationDirection:-1,yTranslationDirection:1},insideBottomRight:{xTranslationDirection:-1,yTranslationDirection:-1}},PHe={top:{xTranslationDirection:1,yTranslationDirection:0},bottom:{xTranslationDirection:-1,yTranslationDirection:0},left:{xTranslationDirection:0,yTranslationDirection:-1},right:{xTranslationDirection:0,yTranslationDirection:1},topLeft:{xTranslationDirection:-1,yTranslationDirection:-1},topRight:{xTranslationDirection:-1,yTranslationDirection:1},bottomLeft:{xTranslationDirection:1,yTranslationDirection:-1},bottomRight:{xTranslationDirection:1,yTranslationDirection:1},inside:{xTranslationDirection:0,yTranslationDirection:0},insideLeft:{xTranslationDirection:0,yTranslationDirection:1},insideRight:{xTranslationDirection:0,yTranslationDirection:-1},insideTop:{xTranslationDirection:-1,yTranslationDirection:0},insideBottom:{xTranslationDirection:1,yTranslationDirection:0},insideTopLeft:{xTranslationDirection:-1,yTranslationDirection:1},insideBottomLeft:{xTranslationDirection:1,yTranslationDirection:1},insideTopRight:{xTranslationDirection:-1,yTranslationDirection:-1},insideBottomRight:{xTranslationDirection:1,yTranslationDirection:-1}};function QU({yDirection:n,padding:t=0,position:e="top",bbox:r}){const i=n?THe:PHe,{xTranslationDirection:o,yTranslationDirection:a}=i[e],s=n?r.width:r.height,l=n?r.height:r.width,u=o*(t+s/2),c=a*(t+l/2);return{xTranslation:u,yTranslation:c}}function AHe({yDirection:n,bbox:t,padding:e=0,position:r="top"}){const i={};return r.startsWith("inside")||(r==="top"&&!n?i.top=e+t.height:r==="bottom"&&!n?i.bottom=e+t.height:r==="left"&&n?i.left=e+t.width:r==="right"&&n&&(i.right=e+t.width)),i}var xI=({yDirection:n,xEnd:t,yStart:e,yEnd:r})=>n?{x:t/2,y:e}:{x:t,y:isNaN(r)?e:(e+r)/2},JU=({yDirection:n,xStart:t,xEnd:e,yStart:r,yEnd:i})=>n?{x:t,y:isNaN(i)?r:(r+i)/2}:{x:e/2,y:r},ez=({yDirection:n,xEnd:t,yStart:e,yEnd:r})=>n?{x:t,y:isNaN(r)?e:(e+r)/2}:{x:t/2,y:isNaN(r)?e:r},tz=({yDirection:n,xStart:t,xEnd:e,yStart:r,yEnd:i})=>n?{x:e/2,y:isNaN(i)?r:i}:{x:t,y:isNaN(i)?r:(r+i)/2},DHe=({xEnd:n,yStart:t,yEnd:e})=>({x:n/2,y:isNaN(e)?t:(t+e)/2}),rz=({yDirection:n,xStart:t,xEnd:e,yStart:r})=>n?{x:t/2,y:r}:{x:e,y:r},nz=({yDirection:n,xStart:t,yStart:e,yEnd:r})=>n?{x:t,y:isNaN(r)?e:r}:{x:t,y:e},iz=({yDirection:n,xEnd:t,yStart:e,yEnd:r})=>n?{x:t,y:e}:{x:t,y:isNaN(r)?e:r},oz=({yDirection:n,xStart:t,xEnd:e,yStart:r,yEnd:i})=>n?{x:e,y:isNaN(i)?r:i}:{x:t,y:isNaN(i)?r:i},MHe={top:{c:xI},bottom:{c:tz},left:{c:JU},right:{c:ez},topLeft:{c:rz},topRight:{c:iz},bottomLeft:{c:nz},bottomRight:{c:oz},inside:{c:DHe},insideLeft:{c:JU},insideRight:{c:ez},insideTop:{c:xI},insideBottom:{c:tz},insideTopLeft:{c:rz},insideBottomLeft:{c:nz},insideTopRight:{c:iz},insideBottomRight:{c:oz}},LHe=tn(["top","left","right","bottom","topLeft","topRight","bottomLeft","bottomRight","inside","insideLeft","insideRight","insideTop","insideBottom","insideTopLeft","insideBottomLeft","insideTopRight","insideBottomRight"],"crossLine label position"),us=class{constructor(){this.enabled=void 0,this.text=void 0,this.fontStyle=void 0,this.fontWeight=void 0,this.fontSize=14,this.fontFamily="Verdana, sans-serif",this.padding=5,this.color="rgba(87, 87, 87, 1)",this.position=void 0,this.rotation=void 0,this.parallel=void 0}};R([M(qe,{optional:!0})],us.prototype,"enabled",2);R([M(Ee,{optional:!0})],us.prototype,"text",2);R([M(pp,{optional:!0})],us.prototype,"fontStyle",2);R([M(hp,{optional:!0})],us.prototype,"fontWeight",2);R([M(xe)],us.prototype,"fontSize",2);R([M(Ee)],us.prototype,"fontFamily",2);R([M(sr)],us.prototype,"padding",2);R([M(Tt,{optional:!0})],us.prototype,"color",2);R([M(LHe,{optional:!0})],us.prototype,"position",2);R([M(dp,{optional:!0})],us.prototype,"rotation",2);R([M(qe,{optional:!0})],us.prototype,"parallel",2);var ji=class lC{constructor(){this.id=uu(this),this.enabled=void 0,this.type=void 0,this.range=void 0,this.value=void 0,this.fill=void 0,this.fillOpacity=void 0,this.stroke=void 0,this.strokeWidth=void 0,this.strokeOpacity=void 0,this.lineDash=void 0,this.label=new us,this.scale=void 0,this.clippedRange=[-1/0,1/0],this.gridLength=0,this.sideFlag=-1,this.parallelFlipRotation=0,this.regularFlipRotation=0,this.direction="x",this.group=new Ve({name:`${this.id}`,layer:!0,zIndex:lC.LINE_LAYER_ZINDEX}),this.labelGroup=new Ve({name:`${this.id}`,layer:!0,zIndex:lC.LABEL_LAYER_ZINDEX}),this.crossLineRange=new hu,this.crossLineLabel=new Mt,this.labelPoint=void 0,this.data=[],this.startLine=!1,this.endLine=!1,this.isRange=!1;const{group:t,labelGroup:e,crossLineRange:r,crossLineLabel:i}=this;t.append(r),e.append(i),r.pointerEvents=1}update(t){const{enabled:e,data:r,type:i,value:o,range:a,scale:s}=this;if(!i||!s||!e||!t||!xJ(i,o,a,s)||r.length===0){this.group.visible=!1,this.labelGroup.visible=!1;return}this.group.visible=t,this.labelGroup.visible=t,this.group.zIndex=this.getZIndex(this.isRange),this.updateNodes()}calculateLayout(t,e){if(!t||!this.createNodeData(e))return;const{sideFlag:i,gridLength:o,data:a}=this,s=[],l=0,u=i*o,c=a[0],d=a[1],p=new nt(Math.min(l,u),Math.min(c,d),Math.abs(l-u),Math.abs(c-d));s.push(p);const h=this.computeLabelBBox();return h&&s.push(h),nt.merge(s)}updateNodes(){this.updateRangeNode(),this.label.enabled&&(this.updateLabel(),this.positionLabel())}createNodeData(t){var e,r,i;const{scale:o,gridLength:a,sideFlag:s,direction:l,label:{position:u="top"},clippedRange:c,strokeWidth:d=0}=this;if(this.data=[],!o)return!1;const p=(e=o.bandwidth)!=null?e:0,h=(r=o.step)!=null?r:0,f=(t?-1:1)*(o instanceof iu?(h-p)/2:0),[v,g]=[0,s*a];let[y,m]=this.getRange(),[C,S]=[Number(o.convert(y,{clampMode:"clamped"}))-f,o.convert(m,{clampMode:"clamped"})+p+f];C=TO(C,c),S=TO(S,c),[y,m]=[Number(o.convert(y)),o.convert(m)+p];const w=(y===C||m===S||C!==S)&&Math.abs(S-C)>0;if(w&&C>S&&([C,S]=[S,C],[y,m]=[m,y]),y-f>=C&&(y-=f),m+f<=S&&(m+=f),this.isRange=w,this.startLine=d>0&&y>=C&&y<=C+f,this.endLine=d>0&&m>=S-p-f&&m<=S,!w&&!this.startLine&&!this.endLine)return!1;if(this.data=[C,S],this.label.enabled){const _=l==="y",{c:x=xI}=(i=MHe[u])!=null?i:{},{x:b,y:O}=x({yDirection:_,xStart:v,xEnd:g,yStart:C,yEnd:S});this.labelPoint={x:b,y:O}}return!0}updateRangeNode(){var t;const{crossLineRange:e,sideFlag:r,gridLength:i,data:o,startLine:a,endLine:s,isRange:l,fill:u,fillOpacity:c,stroke:d,strokeWidth:p,lineDash:h}=this;e.x1=0,e.x2=r*i,e.y1=o[0],e.y2=o[1],e.startLine=a,e.endLine=s,e.isRange=l,e.fill=u,e.fillOpacity=c??1,e.stroke=d,e.strokeWidth=p??1,e.strokeOpacity=(t=this.strokeOpacity)!=null?t:1,e.lineDash=h}updateLabel(){const{crossLineLabel:t,label:e}=this;e.text&&(t.fontStyle=e.fontStyle,t.fontWeight=e.fontWeight,t.fontSize=e.fontSize,t.fontFamily=e.fontFamily,t.fill=e.color,t.text=e.text)}positionLabel(){const{crossLineLabel:t,labelPoint:{x:e=void 0,y:r=void 0}={},label:{parallel:i,rotation:o,position:a="top",padding:s=0},direction:l,parallelFlipRotation:u,regularFlipRotation:c}=this;if(e===void 0||r===void 0)return;const{defaultRotation:d,configuredRotation:p}=AO({rotation:o,parallel:i,regularFlipRotation:c,parallelFlipRotation:u});t.rotation=d+p,t.textBaseline="middle",t.textAlign="center";const h=t.computeTransformedBBox();if(!h)return;const f=l==="y",{xTranslation:v,yTranslation:g}=QU({yDirection:f,padding:s,position:a,bbox:h});t.translationX=e+v,t.translationY=r+g}getZIndex(t=!1){return t?lC.RANGE_LAYER_ZINDEX:lC.LINE_LAYER_ZINDEX}getRange(){var t;const{value:e,range:r,scale:i}=this,o=Zt.is(i),a=(t=r==null?void 0:r[0])!=null?t:e;let s=r==null?void 0:r[1];return!o&&s===void 0&&(s=a),o&&a===s&&(s=void 0),[a,s]}computeLabelBBox(){const{label:t}=this;if(!t.enabled)return;const e=new Mt;e.fontFamily=t.fontFamily,e.fontSize=t.fontSize,e.fontStyle=t.fontStyle,e.fontWeight=t.fontWeight,e.text=t.text;const{labelPoint:{x:r=void 0,y:i=void 0}={},label:{parallel:o,rotation:a,position:s="top",padding:l=0},direction:u,parallelFlipRotation:c,regularFlipRotation:d}=this;if(r===void 0||i===void 0)return;const{configuredRotation:p}=AO({rotation:a,parallel:o,regularFlipRotation:d,parallelFlipRotation:c});e.rotation=p,e.textBaseline="middle",e.textAlign="center";const h=e.computeTransformedBBox();if(!h)return;const f=u==="y",{xTranslation:v,yTranslation:g}=QU({yDirection:f,padding:l,position:s,bbox:h});return e.translationX=r+v,e.translationY=i+g,e.computeTransformedBBox()}calculatePadding(t){var e,r,i,o,a,s,l,u;const{isRange:c,startLine:d,endLine:p,direction:h,label:{padding:f=0,position:v="top"}}=this;if(!c&&!d&&!p)return;const g=this.computeLabelBBox();if((g==null?void 0:g.x)==null||(g==null?void 0:g.y)==null)return;const y=AHe({yDirection:h==="y",padding:f,position:v,bbox:g});t.left=Math.max((e=t.left)!=null?e:0,(r=y.left)!=null?r:0),t.right=Math.max((i=t.right)!=null?i:0,(o=y.right)!=null?o:0),t.top=Math.max((a=t.top)!=null?a:0,(s=y.top)!=null?s:0),t.bottom=Math.max((l=t.bottom)!=null?l:0,(u=y.bottom)!=null?u:0)}};ji.LINE_LAYER_ZINDEX=8;ji.RANGE_LAYER_ZINDEX=3;ji.LABEL_LAYER_ZINDEX=7;ji.className="CrossLine";R([M(qe,{optional:!0})],ji.prototype,"enabled",2);R([M(tn(["range","line"],"a crossLine type"),{optional:!0})],ji.prototype,"type",2);R([M(du(ZV("range"),r0.restrict({length:2})),{optional:!0})],ji.prototype,"range",2);R([M(ZV("value"),{optional:!0})],ji.prototype,"value",2);R([M(Tt,{optional:!0})],ji.prototype,"fill",2);R([M(Ut,{optional:!0})],ji.prototype,"fillOpacity",2);R([M(Tt,{optional:!0})],ji.prototype,"stroke",2);R([M(sr,{optional:!0})],ji.prototype,"strokeWidth",2);R([M(Ut,{optional:!0})],ji.prototype,"strokeOpacity",2);R([M(bc,{optional:!0})],ji.prototype,"lineDash",2);var EI=ji,EJ=class{constructor(){this.moduleMap=new Map}addModule(n,t){if(this.moduleMap.has(n.optionsKey))throw new Error(`AG Charts - module already initialised: ${n.optionsKey}`);this.moduleMap.set(n.optionsKey,t(n))}removeModule(n){var t;const e=Ya(n)?n:n.optionsKey;(t=this.moduleMap.get(e))==null||t.destroy(),this.moduleMap.delete(e)}isModuleEnabled(n){return this.moduleMap.has(Ya(n)?n:n.optionsKey)}getModule(n){return this.moduleMap.get(Ya(n)?n:n.optionsKey)}get modules(){return this.moduleMap.values()}mapValues(n){return Array.from(this.moduleMap.values()).map(n)}destroy(){for(const n of this.moduleMap.keys())this.removeModule({optionsKey:n})}},bJ={};Sc(bJ,{resetMotion:()=>xn});function xn(n,t){const{nodes:e,selections:r}=ZT(n);for(const i of r){for(const o of i.nodes()){const a=t(o,o.datum);o.setProperties(a)}i.cleanup()}for(const i of e){const o=t(i,i.datum);i.setProperties(o)}}var s0=class{constructor(n,t,e){this.states=t,this.preTransitionCb=e,this.debug=$r.create(!0,"animation"),this.state=n,this.debug(`%c${this.constructor.name} | init -> ${n}`,"color: green")}transition(n,t){var e,r;const i=this.states[this.state],o=i==null?void 0:i[n];if(!o){this.debug(`%c${this.constructor.name} | ${this.state} -> ${n} -> ${this.state}`,"color: grey");return}let a=this.state;return typeof o=="string"?a=o:typeof o=="object"&&(a=o.target),this.debug(`%c${this.constructor.name} | ${this.state} -> ${n} -> ${a}`,"color: green"),(e=this.preTransitionCb)==null||e.call(this,this.state,a),this.state=a,typeof o=="function"?o(t):typeof o=="object"&&((r=o.action)==null||r.call(o,t)),this.state}},sg=n=>`(${n})`,Ru=n=>`${sg(n)}?`,az=n=>Ru(`?:${n}`),FHe=(()=>{const n=".",t="[<>=^]",e="[+\\-( ]",r="[$€£¥₣₹#]",i="0",o="\\d+",a=",",s="\\d+",l="~",u="[%a-z]";return new RegExp(["^",az(`${Ru(n)}${sg(t)}`),Ru(e),Ru(r),Ru(i),Ru(o),Ru(a),az(`\\.${sg(s)}`),Ru(l),Ru(u),"$"].join(""),"i")})(),IHe=(()=>{const n=".*?",t=".+?",e=".*?";return new RegExp(["^",sg(n),`#\\{${sg(t)}\\}`,sg(e),"$"].join(""))})();function OJ(n){let t,e;const r=IHe.exec(n);r&&([,t,n,e]=r);const i=FHe.exec(n);if(!i)throw new Error(`The number formatter is invalid: ${n}`);const[,o,a,s,l,u,c,d,p,h,f]=i;return{fill:o,align:a,sign:s,symbol:l,zero:u,width:parseInt(c),comma:d,precision:parseInt(p),trim:!!h,type:f,prefix:t,suffix:e}}function RJ(n){const t=typeof n=="string"?OJ(n):n,{fill:e,align:r,sign:i="-",symbol:o,zero:a,width:s,comma:l,type:u,prefix:c="",suffix:d="",precision:p}=t;let{trim:h}=t;const f=p===void 0||isNaN(p);let v;if(!u)v=Qo.g,h=!0;else if(u in Qo&&u in Lv)v=f?Lv[u]:Qo[u];else if(u in Qo)v=Qo[u];else if(u in Lv)v=Lv[u];else throw new Error(`The number formatter type is invalid: ${u}`);let g;return p==null||f?g=u?6:12:g=p,y=>{let m=v(y,g);return h&&(m=NHe(m)),l&&(m=kHe(m,l)),m=HHe(y,m,i),o&&o!=="#"&&(m=`${o}${m}`),o==="#"&&u==="x"&&(m=`0x${m}`),u==="s"&&(m=`${m}${GHe(y)}`),(u==="%"||u==="p")&&(m=`${m}%`),s!=null&&!isNaN(s)&&(m=jHe(m,s,e??a,r)),m=`${c}${m}${d}`,m}}var sx=n=>Math.floor(Math.abs(n)),Lv={b:n=>sx(n).toString(2),c:n=>String.fromCharCode(n),d:n=>Math.round(Math.abs(n)).toFixed(0),o:n=>sx(n).toString(8),x:n=>sx(n).toString(16),X:n=>Lv.x(n).toUpperCase(),n:n=>Lv.d(n),"%":n=>`${sx(n*100).toFixed(0)}`},Qo={e:(n,t)=>Math.abs(n).toExponential(t),E:(n,t)=>Qo.e(n,t).toUpperCase(),f:(n,t)=>Math.abs(n).toFixed(t),F:(n,t)=>Qo.f(n,t).toUpperCase(),g:(n,t)=>{if(n===0)return"0";const e=Math.abs(n),r=Math.floor(Math.log10(e));return r>=-4&&r<t?e.toFixed(t-1-r):e.toExponential(t-1)},G:(n,t)=>Qo.g(n,t).toUpperCase(),n:(n,t)=>Qo.g(n,t),p:(n,t)=>Qo.r(n*100,t),r:(n,t)=>{if(n===0)return"0";const e=Math.abs(n),i=Math.floor(Math.log10(e))-(t-1);if(i<=0)return e.toFixed(-i);const o=Math.pow(10,i);return(Math.round(e/o)*o).toFixed()},s:(n,t)=>{const e=TJ(n);return Qo.r(n/Math.pow(10,e),t)},"%":(n,t)=>Qo.f(n*100,t)};function NHe(n){return n.replace(/\.0+$/,"").replace(/(\.[1-9])0+$/,"$1")}function kHe(n,t){let e=n.indexOf(".");e<0&&(e=n.length);const r=n.substring(0,e).split(""),i=n.substring(e);for(let o=r.length-3;o>0;o-=3)r.splice(o,0,t);return`${r.join("")}${i}`}function GHe(n){return VHe[TJ(n)]}function TJ(n){return Dt(PJ,Math.floor(Math.log10(Math.abs(n))/3)*3,AJ)}var PJ=-24,AJ=24,VHe={[PJ]:"y",[-21]:"z",[-18]:"a",[-15]:"f",[-12]:"p",[-9]:"n",[-6]:"µ",[-3]:"m",0:"",3:"k",6:"M",9:"G",12:"T",15:"P",18:"E",21:"Z",[AJ]:"Y"},BHe="−";function HHe(n,t,e=""){if(e==="(")return n>=0?t:`(${t})`;const r=e==="+"?"+":"";return`${n>=0?r:BHe}${t}`}function jHe(n,t,e=" ",r=">"){let i=n;if(r===">"||!r)i=i.padStart(t,e);else if(r==="<")i=i.padEnd(t,e);else if(r==="^"){const o=Math.max(0,t-i.length),a=Math.ceil(o/2),s=Math.floor(o/2);i=i.padStart(a+i.length,e),i=i.padEnd(s+i.length,e)}return i}function DJ(n,t){const e=OJ(t??",f"),{precision:r}=e;(r==null||isNaN(r))&&(e.type==="f"||e.type==="%"?e.precision=Math.max(...n.map(o=>{if(typeof o!="number"||o===0)return 0;const a=Math.floor(Math.log10(Math.abs(o))),s=e.type?6:12,l=o.toExponential(s-1).replace(/\.?0+e/,"e"),u=l.indexOf(".");if(u<0)return a>=0?0:-a;const c=l.indexOf("e")-u;return Math.max(0,c-a-1)})):(!e.type||e.type in Qo)&&(e.precision=Math.max(...n.map(o=>{if(typeof o!="number")return 0;const a=o.toExponential((e.type?6:12)-1).replace(/\.?0+e/,"e");return a.substring(0,a.indexOf("e")).replace(".","").length}))));const i=RJ(e);return o=>i(Number(o))}var JS=(n,t=[])=>Object.assign(t,{fractionDigits:n});function nP(n,t,e,r,i){if(e<2)return ew(n,t,t-n);const o=Ng(n,t,e,r,i);return isNaN(o)?JS(0):(n=Math.ceil(n/o)*o,t=Math.floor(t/o)*o,ew(n,t,o))}var MJ=[1,2,5,10];function Ng(n,t,e,r=0,i=1/0){const o=Math.abs(t-n),a=o/e,s=Math.floor(Math.log10(a)),l=Math.pow(10,s),u=MJ.map(c=>{const d=c*l,p=Math.ceil(o/d),h=p>=r&&p<=i,f=Math.abs(p-e);return{multiplier:c,isWithinBounds:h,diffCount:f}}).sort((c,d)=>c.isWithinBounds!==d.isWithinBounds?c.isWithinBounds?-1:1:c.diffCount-d.diffCount)[0].multiplier;return!u||isNaN(u)?NaN:u*l}function $He(n,t){const e=Math.abs(t-n),r=Math.floor(Math.log10(e)),i=Math.pow(10,r),o=n>t?Math.ceil:Math.floor,a=t<n?Math.floor:Math.ceil;return MJ.map(s=>{const l=s*i,u=o(n/l)*l,c=a(t/l)*l;return{error:1-e/Math.abs(c-u),domain:[u,c]}}).sort((s,l)=>s.error-l.error)[0].domain}function ew(n,t,e){const r=Math.min(n,t),i=Math.max(n,t),o=NV(e),a=Math.pow(10,o),s=Math.ceil((i-r)/e),l=JS(o);for(let u=0;u<=s;u++){const c=r+e*u;l.push(Math.round(c*a)/a)}return l}var LJ=class bI extends Zt{constructor(){super([1,10],[0,1]),this.type="log",this.base=10,this.baseLog=UU,this.basePow=UU,this.log=t=>Math.min(...this.domain)>=0?this.baseLog(t):-this.baseLog(-t),this.pow=t=>Math.min(...this.domain)>=0?this.basePow(t):-this.basePow(-t),this.defaultClampMode="clamped"}toDomain(t){return t}transform(t){return Math.min(...this.domain)>=0?Math.log(t):-Math.log(-t)}transformInvert(t){return Math.min(...this.domain)>=0?Math.exp(t):-Math.exp(-t)}refresh(){this.base<=0&&(this.base=0,Oe.warnOnce("expecting a finite Number greater than to 0")),super.refresh()}update(){!this.domain||this.domain.length<2||(this.baseLog=bI.getBaseLogMethod(this.base),this.basePow=bI.getBasePowerMethod(this.base),this.nice&&this.updateNiceDomain())}updateNiceDomain(){const[t,e]=this.domain,r=t>e?Math.ceil:Math.floor,i=t>e?Math.floor:Math.ceil,o=this.pow(r(this.log(t))),a=this.pow(i(this.log(e)));this.niceDomain=[o,a]}ticks(){var t;const e=(t=this.tickCount)!=null?t:10;if(!this.domain||this.domain.length<2||e<1)return[];this.refresh();const r=this.base,[i,o]=this.getDomain(),a=Math.min(i,o),s=Math.max(i,o);let l=this.log(a),u=this.log(s);if(this.interval){const g=Math.abs(this.interval),y=Math.abs(u-l);let m=ew(l,u,Math.min(y,g));if(m=JS(m.fractionDigits,m.map(C=>this.pow(C)).filter(C=>C>=a&&C<=s)),!this.isDenseInterval({start:a,stop:s,interval:g,count:m.length}))return m}const c=r%1===0,d=u-l>=e;if(!c||d){let g=nP(l,u,Math.min(u-l,e));return g=JS(g.fractionDigits,g.map(y=>this.pow(y))),g}const p=[],h=a>0;l=Math.floor(l)-1,u=Math.round(u)+1;const f=Ig(this.range)/e;let v=1/0;for(let g=l;g<=u;g++){const y=this.convert(this.pow(g+1));for(let m=1;m<r;m++){const C=h?m:r-m+1,S=this.pow(g)*C,w=this.convert(S),_=Math.abs(v-w),x=Math.abs(w-y),b=_>=f&&x>=f;S>=a&&S<=s&&(m===1||b)&&(p.push(S),v=w)}}return p}tickFormat({count:t,ticks:e,specifier:r}){return t!==1/0&&e==null&&this.ticks(),r??(r=this.base===10?".0e":","),Ya(r)?RJ(r):r}static getBaseLogMethod(t){switch(t){case 10:return Math.log10;case Math.E:return Math.log;case 2:return Math.log2;default:const e=Math.log(t);return r=>Math.log(r)/e}}static getBasePowerMethod(t){switch(t){case 10:return e=>e>=0?pt(10,e):1/pt(10,-e);case Math.E:return Math.exp;default:return e=>pt(t,e)}}};R([Eo],LJ.prototype,"base",2);var QV=LJ,lx={periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]};function JV(n,t=new Date(n.getFullYear(),0,1)){const e=n.getTimezoneOffset()-t.getTimezoneOffset(),r=n.getTime()-t.getTime()+e*6e4,i=36e5*24;return Math.floor(r/i)}function sz(n,t){const r=new Date(n.getFullYear(),0,1).getDay(),i=(t-r+7)%7,o=new Date(n.getFullYear(),0,i+1);return o<=n?Math.floor(JV(n,o)/7)+1:0}var WHe=0,FJ=1,lz=4;function IJ(n,t=n.getFullYear()){const r=new Date(t,0,1).getDay(),i=(lz-r+7)%7,o=new Date(t,0,i-(lz-FJ)+1);return o<=n?Math.floor(JV(n,o)/7)+1:IJ(n,t-1)}function UHe(n){const t=n.getTimezoneOffset(),e=Math.abs(t);return`${t>0?"-":"+"}${Yn(Math.floor(e/60),2,"0")}${Yn(Math.floor(e%60),2,"0")}`}var zHe={a:n=>lx.shortDays[n.getDay()],A:n=>lx.days[n.getDay()],b:n=>lx.shortMonths[n.getMonth()],B:n=>lx.months[n.getMonth()],c:"%x, %X",d:(n,t)=>Yn(n.getDate(),2,t??"0"),e:"%_d",f:(n,t)=>Yn(n.getMilliseconds()*1e3,6,t??"0"),H:(n,t)=>Yn(n.getHours(),2,t??"0"),I:(n,t)=>{const e=n.getHours()%12;return e===0?"12":Yn(e,2,t??"0")},j:(n,t)=>Yn(JV(n)+1,3,t??"0"),m:(n,t)=>Yn(n.getMonth()+1,2,t??"0"),M:(n,t)=>Yn(n.getMinutes(),2,t??"0"),L:(n,t)=>Yn(n.getMilliseconds(),3,t??"0"),p:n=>n.getHours()<12?"AM":"PM",Q:n=>String(n.getTime()),s:n=>String(Math.floor(n.getTime()/1e3)),S:(n,t)=>Yn(n.getSeconds(),2,t??"0"),u:n=>{let t=n.getDay();return t<1&&(t+=7),String(t%7)},U:(n,t)=>Yn(sz(n,WHe),2,t??"0"),V:(n,t)=>Yn(IJ(n),2,t??"0"),w:(n,t)=>Yn(n.getDay(),2,t??"0"),W:(n,t)=>Yn(sz(n,FJ),2,t??"0"),x:"%-m/%-d/%Y",X:"%-I:%M:%S %p",y:(n,t)=>Yn(n.getFullYear()%100,2,t??"0"),Y:(n,t)=>Yn(n.getFullYear(),4,t??"0"),Z:n=>UHe(n),"%":()=>"%"},KHe={_:" ",0:"0","-":""};function Yn(n,t,e){const r=String(Math.floor(n));return r.length>=t?r:`${e.repeat(t-r.length)}${r}`}function OI(n){const t=[];for(;n.length>0;){let e=n.indexOf("%");if(e!==0){const s=e>0?n.substring(0,e):n;t.push(s)}if(e<0)break;const r=n[e+1],i=KHe[r];i!=null&&e++;const o=n[e+1],a=zHe[o];if(typeof a=="function")t.push([a,i]);else if(typeof a=="string"){const s=OI(a);t.push([s,i])}else t.push(`${i??""}${o}`);n=n.substring(e+2)}return e=>{const r=typeof e=="number"?new Date(e):e;return t.map(i=>typeof i=="string"?i:i[0](r,i[1])).join("")}}var Lp={0:".%L",1:":%S",2:"%I:%M",3:"%I %p",4:"%a",5:"%b %d",6:"%B",7:"%y",8:"%Y"};function ba(n){return n instanceof Date?n.getTime():n}var eB=class extends Zt{constructor(){super([],[0,1]),this.type="time",this.year=pBe,this.month=uBe,this.week=aBe,this.day=JVe,this.hour=qVe,this.minute=KVe,this.second=WVe,this.millisecond=HVe,this.tickIntervals=[[this.second,1,Th],[this.second,5,5*Th],[this.second,15,15*Th],[this.second,30,30*Th],[this.minute,1,Mi],[this.minute,5,5*Mi],[this.minute,15,15*Mi],[this.minute,30,30*Mi],[this.hour,1,Ll],[this.hour,3,3*Ll],[this.hour,6,6*Ll],[this.hour,12,12*Ll],[this.day,1,Bd],[this.day,2,2*Bd],[this.week,1,Ym],[this.week,2,2*Ym],[this.week,3,3*Ym],[this.month,1,mm],[this.month,2,2*mm],[this.month,3,3*mm],[this.month,4,4*mm],[this.month,6,6*mm],[this.year,1,ax]]}toDomain(n){return new Date(n)}calculateDefaultTickFormat(n=[]){let t=8;const e=l=>{l<t&&(t=l)};for(const l of n){const u=this.getLowestGranularityFormat(l);e(u)}const r=ba(n[0]),i=ba(n.at(-1)),o=new Date(r).getFullYear(),s=new Date(i).getFullYear()-o>0;return this.buildFormatString(t,s)}buildFormatString(n,t){let e=[Lp[n]],r=0;const i=this.getDomain(),o=Ig(i.map(ba));switch(n){case 1:o/Mi>1&&e.push(Lp[2]);case 2:o/Ll>1&&e.push(Lp[3]);case 3:r=e.length,o/Bd>1&&e.push(Lp[4]);case 4:if(o/Ym>1||t){const a=e.indexOf(Lp[4]);a>-1&&e.splice(a,1,Lp[5])}case 5:case 6:(o/ax>1||t)&&e.push(Lp[8])}return r<e.length&&(e=[...e.slice(0,r),e.slice(r).join(" ")]),r>0&&(e=[...e.slice(0,r).reverse(),...e.slice(r)],r<e.length&&e.splice(r,0," ")),e.join("")}getLowestGranularityFormat(n){return this.second.floor(n)<n?0:this.minute.floor(n)<n?1:this.hour.floor(n)<n?2:this.day.floor(n)<n?3:this.month.floor(n)<n?this.week.floor(n)<n?4:5:this.year.floor(n)<n?6:8}defaultTickFormat(n){const t=this.calculateDefaultTickFormat(n);return e=>OI(t)(e)}getTickInterval({start:n,stop:t,count:e,minCount:r,maxCount:i}){const{tickIntervals:o}=this;let a,s;const l=e??Zt.defaultTickCount,u=Math.abs(t-n)/Math.max(l,1);let c=0;for(;c<o.length&&u>o[c][2];)c++;if(c===0)s=Math.max(Ng(n,t,l,r,i),1),a=this.millisecond;else if(c===o.length){const d=n/ax,p=t/ax;s=Ng(d,p,l,r,i),a=this.year}else{const d=u-o[c-1][2],p=o[c][2]-u,h=d<p?c-1:c;[a,s]=o[h]}return a.every(s)}invert(n){return new Date(super.invert(n))}ticks(){if(!this.domain||this.domain.length<2)return[];this.refresh();const[n,t]=this.getDomain().map(ba),e=Math.min(n,t),r=Math.max(n,t);if(this.interval!==void 0)return this.getTicksForInterval({start:e,stop:r});if(this.nice){const{tickCount:i}=this;if(i===2)return this.niceDomain;if(i===1)return this.niceDomain.slice(0,1)}return this.getDefaultTicks({start:e,stop:r})}getDefaultTicks({start:n,stop:t}){const e=this.getTickInterval({start:n,stop:t,count:this.tickCount,minCount:this.minTickCount,maxCount:this.maxTickCount});return e?e.range(new Date(n),new Date(t)):[]}getTicksForInterval({start:n,stop:t}){const{interval:e,tickIntervals:r}=this;if(!e)return[];if(e instanceof KS){const c=e.range(new Date(n),new Date(t));return this.isDenseInterval({start:n,stop:t,interval:e,count:c.length})?this.getDefaultTicks({start:n,stop:t}):c}const i=Math.abs(e);if(this.isDenseInterval({start:n,stop:t,interval:i}))return this.getDefaultTicks({start:n,stop:t});const o=[...r];o.reverse();const a=o.find(c=>i%c[2]===0);if(a)return a[0].every(i/(a[2]/a[1])).range(new Date(n),new Date(t));let s=new Date(n);const l=new Date(t),u=[];for(;s<=l;)u.push(s),s=new Date(s),s.setMilliseconds(s.getMilliseconds()+i);return u}tickFormat({ticks:n,specifier:t}){return t==null?this.defaultTickFormat(n):OI(t)}update(){!this.domain||this.domain.length<2||this.nice&&this.updateNiceDomain()}updateNiceDomain(){let[t,e]=this.domain;for(let r=0;r<4;r++){this.updateNiceDomainIteration(t,e);const[i,o]=this.niceDomain;if(ba(t)===ba(i)&&ba(e)===ba(o))break;t=i,e=o}}updateNiceDomainIteration(n,t){const e=Math.min(ba(n),ba(t)),r=Math.max(ba(n),ba(t)),i=n>t,{interval:o}=this;let a;if(o instanceof KS)a=o;else{const s=typeof o=="number"?(r-e)/Math.max(o,1):this.tickCount;a=this.getTickInterval({start:e,stop:r,count:s,minCount:this.minTickCount,maxCount:this.maxTickCount})}if(a){const s=a.range(new Date(e),new Date(r),!0),l=i?[...s].reverse():s,u=l[0],c=l.at(-1);this.niceDomain=[u,c]}}},Er=class ah{constructor(t,e,r=!0){this.parentNode=t,this.autoCleanup=r,this.garbageBin=new Set,this._nodesMap=new Map,this._nodes=[],this.data=[],this.debug=$r.create(!0,"scene","scene:selections"),this.nodeFactory=Object.prototype.isPrototypeOf.call(ny,e)?()=>new e:e}static select(t,e,r=!0){return new ah(t,e,r)}static selectAll(t,e){const r=[],i=o=>{e(o)&&r.push(o),o.children.forEach(i)};return i(t),r}static selectByClass(t,e){return ah.selectAll(t,r=>r instanceof e)}static selectByTag(t,e){return ah.selectAll(t,r=>r.tag===e)}createNode(t,e,r){const i=this.nodeFactory(t);return i.datum=t,e==null||e(i),r!=null?this._nodes.splice(r,0,i):this._nodes.push(i),this.parentNode.appendChild(i),i}update(t,e,r){if(this.garbageBin.size>0&&this.debug(`Selection - update() called with pending garbage: ${t}`),r){const i=new Map(t.map((o,a)=>[r(o),[o,a]]));for(const[o,a]of this._nodesMap.entries())if(i.has(a)){const[s]=i.get(a);o.datum=s,this.garbageBin.delete(o),i.delete(a)}else this.garbageBin.add(o);for(const[o,[a,s]]of i.entries())this._nodesMap.set(this.createNode(a,e,s),o)}else{const i=Math.max(t.length,this.data.length);for(let o=0;o<i;o++)o>=t.length?this.garbageBin.add(this._nodes[o]):o>=this._nodes.length?this.createNode(t[o],e):(this._nodes[o].datum=t[o],this.garbageBin.delete(this._nodes[o]))}return this.data=t.slice(),this.autoCleanup&&this.cleanup(),this}cleanup(){return this.garbageBin.size===0?this:(this._nodes=this._nodes.filter(t=>this.garbageBin.has(t)?(this._nodesMap.delete(t),this.garbageBin.delete(t),this.parentNode.removeChild(t),!1):!0),this)}clear(){return this.update([]),this}isGarbage(t){return this.garbageBin.has(t)}hasGarbage(){return this.garbageBin.size>0}each(t){return this._nodes.forEach((e,r)=>t(e,e.datum,r)),this}*[Symbol.iterator](){for(let t=0;t<this._nodes.length;t++){const e=this._nodes[t],r=this._nodes[t].datum;yield{node:e,datum:r,index:t}}}select(t){return ah.selectAll(this.parentNode,t)}selectByClass(t){return ah.selectByClass(this.parentNode,t)}selectByTag(t){return ah.selectByTag(this.parentNode,t)}nodes(){return this._nodes}},bn=class extends rs{constructor(n={}){super(n),this.x1=0,this.y1=0,this.x2=0,this.y2=0,this.restoreOwnStyles()}set x(n){this.x1=n,this.x2=n}set y(n){this.y1=n,this.y2=n}computeBBox(){return new nt(Math.min(this.x1,this.x2),Math.min(this.y1,this.y2),Math.abs(this.x2-this.x1),Math.abs(this.y2-this.y1))}isPointInPath(n,t){if(this.x1===this.x2||this.y1===this.y2){const{x:e,y:r}=this.transformPoint(n,t);return this.computeBBox().grow(this.strokeWidth/2).containsPoint(e,r)}return!1}render(n){var t;const{ctx:e,forceRender:r,stats:i,devicePixelRatio:o}=n;if(this.dirty===0&&!r){i&&(i.nodesSkipped+=this.nodeCount.count);return}this.computeTransformMatrix(),this.matrix.toContext(e);let{x1:a,y1:s,x2:l,y2:u}=this;if(a===l){const{strokeWidth:c}=this,d=Math.round(a*o)/o+Math.trunc(c*o)%2/(o*2);a=d,l=d}else if(s===u){const{strokeWidth:c}=this,d=Math.round(s*o)/o+Math.trunc(c*o)%2/(o*2);s=d,u=d}e.beginPath(),e.moveTo(a,s),e.lineTo(l,u),this.fillStroke(e),(t=this.fillShadow)==null||t.markClean(),super.render(n)}};bn.className="Line";bn.defaultStyles=Object.assign({},rs.defaultStyles,{fill:void 0,strokeWidth:1});R([Ae({redraw:3})],bn.prototype,"x1",2);R([Ae({redraw:3})],bn.prototype,"y1",2);R([Ae({redraw:3})],bn.prototype,"x2",2);R([Ae({redraw:3})],bn.prototype,"y2",2);function YHe(n,t,e,r,i){let o=n.x;n.x<t?o=t:n.x>t+r&&(o=t+r);let a=n.y;n.y<e?a=e:n.y>e+i&&(a=e+i);const s=n.x-o,l=n.y-a;return Math.sqrt(s*s+l*l)<=n.size*.5}function NJ(n,t,e,r,i){const o=n.x+n.width>t&&n.x<t+r,a=n.y+n.height>e&&n.y<e+i;return o&&a}function XHe(n,t,e,r,i){return t+r<n.x+n.width&&t>n.x&&e>n.y&&e+i<n.y+n.height}function qHe(n){return n!=null&&typeof n.point=="object"&&typeof n.label=="object"}function ZHe(n,t,e=5){const r=[];n=n.map(i=>i.slice().sort((o,a)=>a.point.size-o.point.size));for(let i=0;i<n.length;i++){const o=r[i]=[],a=n[i];if(a!=null&&a.length&&a[0].label)for(let s=0,l=a.length;s<l;s++){const u=a[s],c=u.label,d=u.point.size*.5,p=u.point.x-c.width*.5,h=u.point.y-d-c.height-e,{width:f,height:v}=c;!(!t||XHe(t,p,h,f,v))||n.some(C=>C.some(S=>YHe(S.point,p,h,f,v)))||r.some(C=>C.some(S=>NJ(S,p,h,f,v)))||o.push({index:s,text:c.text,x:p,y:h,width:f,height:v,datum:u})}}return r}function QHe(n,t){const e=[];for(let r=0;r<n.length;r++){const i=n[r],{point:{x:o,y:a},label:{text:s}}=i;let{label:{width:l,height:u}}=i;if(l+=t??0,u+=t??0,e.some(d=>NJ(d,o,a,l,u)))return!0;e.push({index:r,text:s,x:o,y:a,width:l,height:u,datum:i})}return!1}function JHe(n,t){return n.length===t.length&&n.every((e,r)=>Number(e)===Number(t[r]))}var eje=["stroke","lineDash"],tje=Ec(n=>nu(n)&&Object.keys(n).every(t=>eje.includes(t)),"objects with gridline style properties such as 'stroke' or 'lineDash'"),iP=class{constructor(){this.enabled=!0,this.width=1,this.style=[{stroke:void 0,lineDash:[]}]}};R([M(qe)],iP.prototype,"enabled",2);R([M(xe)],iP.prototype,"width",2);R([M(tje)],iP.prototype,"style",2);function Rc(n,t=[void 0]){return cc((e,r,i)=>t.includes(i)?Qg(n)?n(i):n:i)}var yn=class{constructor(){this.enabled=!0,this.autoWrap=!1,this.maxWidth=void 0,this.maxHeight=void 0,this.fontStyle=void 0,this.fontWeight=void 0,this.fontSize=12,this.fontFamily="Verdana, sans-serif",this.padding=5,this.minSpacing=NaN,this.color="rgba(87, 87, 87, 1)",this.rotation=void 0,this.avoidCollisions=!0,this.mirrored=!1,this.parallel=!1,this.formatter=void 0}getSideFlag(){return this.mirrored?1:-1}getFont(){return Xd(this)}};R([M(qe)],yn.prototype,"enabled",2);R([M(qe,{optional:!0})],yn.prototype,"autoWrap",2);R([M(xe,{optional:!0})],yn.prototype,"maxWidth",2);R([M(xe,{optional:!0})],yn.prototype,"maxHeight",2);R([M(pp,{optional:!0})],yn.prototype,"fontStyle",2);R([M(hp,{optional:!0})],yn.prototype,"fontWeight",2);R([M(sr.restrict({min:1}))],yn.prototype,"fontSize",2);R([M(Ee)],yn.prototype,"fontFamily",2);R([M(xe)],yn.prototype,"padding",2);R([M(iy),Rc(NaN)],yn.prototype,"minSpacing",2);R([M(Tt,{optional:!0})],yn.prototype,"color",2);R([M(dp,{optional:!0})],yn.prototype,"rotation",2);R([M(qe)],yn.prototype,"avoidCollisions",2);R([M(qe)],yn.prototype,"mirrored",2);R([M(qe)],yn.prototype,"parallel",2);R([M(Ee,{optional:!0})],yn.prototype,"format",2);var l0=class{constructor(){this.enabled=!0,this.width=1,this.color=void 0}};R([M(qe)],l0.prototype,"enabled",2);R([M(xe)],l0.prototype,"width",2);R([M(Tt,{optional:!0})],l0.prototype,"color",2);var rje=er(n=>Nt(n)&&n>0||n instanceof KS,"a non-zero positive Number value or, for a time axis, a Time Interval such as 'agCharts.time.month'"),Qs=class{constructor(){this.enabled=!0,this.width=1,this.size=6,this.color=void 0,this.interval=void 0,this.values=void 0,this.minSpacing=NaN}};R([M(qe)],Qs.prototype,"enabled",2);R([M(xe)],Qs.prototype,"width",2);R([M(xe)],Qs.prototype,"size",2);R([M(Tt,{optional:!0})],Qs.prototype,"color",2);R([M(rje,{optional:!0})],Qs.prototype,"interval",2);R([M(r0,{optional:!0})],Qs.prototype,"values",2);R([M(cJ),Rc(NaN)],Qs.prototype,"minSpacing",2);function RI(n){const[t,e]=dc(n.range),r=Math.floor(t),i=Math.ceil(e);return{min:r,max:i,visible:r!==i}}var TI=Math.PI*2,nje=TI/2;function ije(n,t){return Math.abs(t-n)<nje?t:n>t?t+TI:t-TI}function kJ(n){const t=(a,s)=>{const[l=n.min,u=n.max]=dc(s??[]);return a<l||a>u};return{tick:{fromFn(a,s,l){let u=a.y1+a.translationY,c=a.opacity;return(l==="added"||t(a.datum.translationY,a.datum.range))&&(u=s.translationY,c=0),{y:0,translationY:u,opacity:c,phase:Fi[l]}},toFn(a,s,l){const u=s.translationY;let c=1;return l==="removed"&&(c=0),{y:0,translationY:u,opacity:c,finish:{y:u,translationY:0}}},intermediateFn(a,s,l){return{visible:!t(a.y)}}},line:{fromFn(a,s){var l;return Te(J({},(l=a.previousDatum)!=null?l:s),{phase:Fi.updated})},toFn(a,s){return J({},s)}},label:{fromFn(a,s,l){var u;const c=(u=a.previousDatum)!=null?u:s,d=c.x,p=c.y,h=c.rotationCenterX;let f=Math.round(a.translationY),v=c.rotation,g=a.opacity;return l==="removed"||t(c.y,c.range)||(l==="added"||t(a.datum.y,a.datum.range))&&(f=Math.round(c.translationY),g=0,v=s.rotation),{x:d,y:p,rotationCenterX:h,translationY:f,rotation:v,opacity:g,phase:Fi[l]}},toFn(a,s,l){var u,c;const d=s.x,p=s.y,h=s.rotationCenterX,f=Math.round(s.translationY);let v=0,g=1;return l==="added"?(g=1,v=s.rotation):l==="removed"?(g=0,v=s.rotation):v=ije((c=(u=a.previousDatum)==null?void 0:u.rotation)!=null?c:s.rotation,s.rotation),{x:d,y:p,rotationCenterX:h,translationY:f,rotation:v,opacity:g,finish:{rotation:s.rotation}}}},group:{fromFn(a,s){const{rotation:l,translationX:u,translationY:c}=a;return{rotation:l,translationX:u,translationY:c,phase:Fi.updated}},toFn(a,s){const{rotation:l,translationX:u,translationY:c}=s;return{rotation:l,translationX:u,translationY:c}}}}}function GJ(){return(n,t)=>({rotation:t.rotation,rotationCenterX:t.rotationCenterX,rotationCenterY:t.rotationCenterY,translationX:t.translationX,translationY:t.translationY})}function VJ(n){const{visible:t,min:e,max:r}=n;return(i,o)=>{const a=o.translationY,s=t&&a>=e&&a<=r;return{y:a,translationY:0,opacity:1,visible:s}}}function BJ(){return(n,t)=>({x:t.x,y:t.y,translationY:t.translationY,rotation:t.rotation,rotationCenterX:t.rotationCenterX})}function HJ(){return(n,t)=>J({},t)}var jJ=(n=>(n[n.TickLine=0]="TickLine",n[n.TickLabel=1]="TickLabel",n[n.GridLine=2]="GridLine",n[n.GridArc=3]="GridArc",n[n.AxisLine=4]="AxisLine",n))(jJ||{}),xf=class $J{constructor(t,e,r){this.moduleCtx=t,this.scale=e,this.id=uu(this),this.nice=!0,this.reverse=!1,this.keys=[],this.dataDomain={domain:[],clipped:!1},this.boundSeries=[],this.includeInvisibleDomains=!1,this.interactionEnabled=!0,this.axisGroup=new Ve({name:`${this.id}-axis`,zIndex:2}),this.lineNode=this.axisGroup.appendChild(new bn),this.tickLineGroup=this.axisGroup.appendChild(new Ve({name:`${this.id}-Axis-tick-lines`,zIndex:2})),this.tickLabelGroup=this.axisGroup.appendChild(new Ve({name:`${this.id}-Axis-tick-labels`,zIndex:2})),this.crossLineGroup=new Ve({name:`${this.id}-CrossLines`}),this.gridGroup=new Ve({name:`${this.id}-Axis-grid`}),this.gridLineGroup=this.gridGroup.appendChild(new Ve({name:`${this.id}-gridLines`,zIndex:1})),this.tickLineGroupSelection=Er.select(this.tickLineGroup,bn,!1),this.tickLabelGroupSelection=Er.select(this.tickLabelGroup,Mt,!1),this.gridLineGroupSelection=Er.select(this.gridLineGroup,bn,!1),this.line=new l0,this.tick=this.createTick(),this.gridLine=new iP,this.label=this.createLabel(),this.defaultTickMinSpacing=$J.defaultTickMinSpacing,this.translation={x:0,y:0},this.rotation=0,this.layout={label:{fractionDigits:0,padding:this.label.padding,format:this.label.format}},this.destroyFns=[],this.range=[0,1],this.visibleRange=[0,1],this.title=void 0,this._titleCaption=new Ar,this.gridLength=0,this.fractionDigits=0,this.gridPadding=0,this.seriesAreaPadding=0,this.tickGenerationResult=void 0,this.maxThickness=1/0,this.moduleMap=new EJ,this.refreshScale(),this._titleCaption.registerInteraction(this.moduleCtx),this._titleCaption.node.rotation=-Math.PI/2,this.axisGroup.appendChild(this._titleCaption.node),this.destroyFns.push(t.interactionManager.addListener("hover",o=>this.checkAxisHover(o))),this.animationManager=t.animationManager,this.animationState=new s0("empty",{empty:{update:{target:"ready",action:()=>this.resetSelectionNodes()},reset:"empty"},ready:{update:o=>this.animateReadyUpdate(o),resize:()=>this.resetSelectionNodes(),reset:"empty"}}),this._crossLines=[],this.assignCrossLineArrayConstructor(this._crossLines);let i;this.destroyFns.push(t.layoutService.addListener("layout-complete",o=>{i!=null&&da(o.chart,i)!=null&&this.animationState.transition("resize"),i=J({},o.chart)})),(r==null?void 0:r.respondsToZoom)!==!1&&this.destroyFns.push(t.updateService.addListener("update-complete",o=>{this.minRect=o.minRect}))}get type(){var t;return(t=this.constructor.type)!=null?t:""}set crossLines(t){var e,r;(e=this._crossLines)==null||e.forEach(i=>this.detachCrossLine(i)),t&&this.assignCrossLineArrayConstructor(t),this._crossLines=t,(r=this._crossLines)==null||r.forEach(i=>{this.attachCrossLine(i),this.initCrossLine(i)})}get crossLines(){return this._crossLines}resetAnimation(t){t==="initial"&&this.animationState.transition("reset")}attachCrossLine(t){this.crossLineGroup.appendChild(t.group),this.crossLineGroup.appendChild(t.labelGroup)}detachCrossLine(t){this.crossLineGroup.removeChild(t.group),this.crossLineGroup.removeChild(t.labelGroup)}destroy(){this.moduleMap.destroy(),this.destroyFns.forEach(t=>t())}refreshScale(){var t;this.range=this.scale.range.slice(),(t=this.crossLines)==null||t.forEach(this.initCrossLine,this)}updateRange(){var t;const{range:e,visibleRange:r,scale:i}=this,o=(e[1]-e[0])/(r[1]-r[0]),a=o*r[0],s=e[0]-a;i.range=[s,s+o],(t=this.crossLines)==null||t.forEach(l=>{l.clippedRange=[e[0],e[1]]})}setCrossLinesVisible(t){this.crossLineGroup.visible=t}attachAxis(t,e){e.appendChild(this.gridGroup),t.appendChild(this.axisGroup),t.appendChild(this.crossLineGroup)}detachAxis(t,e){e.removeChild(this.gridGroup),t.removeChild(this.axisGroup),t.removeChild(this.crossLineGroup)}inRange(t,e=0,r=0){const[i,o]=dc(this.range);return t+e>=i-r&&t<=o+r}onLabelFormatChange(t,e){const{scale:r,fractionDigits:i}=this,a=!(r instanceof QV)&&i>0?s=>typeof s=="number"?s.toFixed(i):String(s):s=>String(s);if(e&&r&&r.tickFormat)try{this.labelFormatter=r.tickFormat({ticks:t,specifier:e})}catch{this.labelFormatter=a,Oe.warnOnce(`the axis label format string ${e} is invalid. No formatting will be applied`)}else this.labelFormatter=a}setTickInterval(t){var e;this.scale.interval=(e=this.tick.interval)!=null?e:t}setTickCount(t,e,r){const{scale:i}=this;if(t&&Zt.is(i)){if(typeof t=="number"){i.tickCount=t,i.minTickCount=e??0,i.maxTickCount=r??1/0;return}i instanceof eB&&this.setTickInterval(t)}}onGridLengthChange(t,e){var r;(e&&!t||!e&&t)&&this.onGridVisibilityChange(),(r=this.crossLines)==null||r.forEach(this.initCrossLine,this)}onGridVisibilityChange(){this.gridLineGroupSelection.clear()}createTick(){return new Qs}createLabel(){return new yn}checkAxisHover(t){!this.interactionEnabled||!this.computeBBox().containsPoint(t.offsetX,t.offsetY)||this.moduleCtx.chartEventManager.axisHover(this.id,this.direction)}update(t=0,e=!0){if(!this.tickGenerationResult)return;const{rotation:r,parallelFlipRotation:i,regularFlipRotation:o}=this.calculateRotations(),a=this.label.getSideFlag();this.updatePosition();const s=this.getAxisLineCoordinates(),{tickData:l,combinedRotation:u,textBaseline:c,textAlign:d,primaryTickCount:p}=this.tickGenerationResult,h=this.tickLabelGroupSelection.nodes().map(f=>f.datum.tickId);if(this.updateSelections(s,l.ticks,{combinedRotation:u,textAlign:d,textBaseline:c,range:this.scale.range}),!e||this.animationManager.isSkipped())this.resetSelectionNodes();else{const f=this.calculateUpdateDiff(h,l);this.animationState.transition("update",f)}return this.updateAxisLine(),this.updateLabels(),this.updateVisibility(),this.updateGridLines(a),this.updateTickLines(),this.updateTitle({anyTickVisible:l.ticks.length>0}),this.updateCrossLines({rotation:r,parallelFlipRotation:i,regularFlipRotation:o}),this.updateLayoutState(),p}getAxisLineCoordinates(){const[t,e]=dc(this.range);return{x:0,y1:t,y2:e}}getTickLineCoordinates(t){const r=this.label.getSideFlag()*this.getTickSize(),i=Math.min(0,r),o=i+Math.abs(r),a=t.translationY;return{x1:i,x2:o,y:a}}getTickLabelProps(t,e){const{label:r}=this,{combinedRotation:i,textBaseline:o,textAlign:a,range:s}=e,l=t.tickLabel,c=r.getSideFlag()*(this.getTickSize()+r.padding+this.seriesAreaPadding),d=l!==""&&l!=null;return{tickId:t.tickId,translationY:t.translationY,fill:r.color,fontFamily:r.fontFamily,fontSize:r.fontSize,fontStyle:r.fontStyle,fontWeight:r.fontWeight,rotation:i,rotationCenterX:c,text:l,textAlign:a,textBaseline:o,visible:d,x:c,y:0,range:s}}getTickSize(){return this.tick.enabled?this.tick.size:this.createTick().size}setTitleProps(t,e){var r;const{title:i}=this;if(!i){t.enabled=!1;return}if(t.color=i.color,t.fontFamily=i.fontFamily,t.fontSize=i.fontSize,t.fontStyle=i.fontStyle,t.fontWeight=i.fontWeight,t.enabled=i.enabled,t.wrapping=i.wrapping,i.enabled){const o=t.node,a=((r=i.spacing)!=null?r:0)+e.spacing,s=this.label.getSideFlag(),l=Zr(this.rotation),u=s===-1&&l>Math.PI&&l<Math.PI*2?-1:1,c=u*s*Math.PI/2,d=u===1?"bottom":"top",{range:p}=this,h=Math.floor(u*s*(p[0]+p[1])/2),f=Math.floor(s===-1?u*-a:-a),{callbackCache:v}=this.moduleCtx,{formatter:g=m=>m.defaultValue}=i,y=v.call(g,this.getTitleFormatterParams());o.setProperties({rotation:c,text:y,textBaseline:d,visible:!0,x:h,y:f})}}calculateLayout(t){var e,r;const{rotation:i,parallelFlipRotation:o,regularFlipRotation:a}=this.calculateRotations(),s=this.label.getSideFlag(),l=s*(this.getTickSize()+this.label.padding+this.seriesAreaPadding);this.updateScale(),this.tickGenerationResult=this.generateTicks({primaryTickCount:t,parallelFlipRotation:o,regularFlipRotation:a,labelX:l,sideFlag:s}),this.updateLayoutState();const u=this.tickGenerationResult,{tickData:c,combinedRotation:d,textBaseline:p,textAlign:h}=u,f=En(u,["tickData","combinedRotation","textBaseline","textAlign"]),v=[],{x:g,y1:y,y2:m}=this.getAxisLineCoordinates(),C=new nt(g+Math.min(s*this.seriesAreaPadding,0),y,this.seriesAreaPadding,m-y);if(v.push(C),this.tick.enabled&&c.ticks.forEach(b=>{const{x1:O,x2:P,y:D}=this.getTickLineCoordinates(b),N=new nt(O,D,P-O,0);v.push(N)}),this.label.enabled){const b=new Mt;c.ticks.forEach(O=>{const P=this.getTickLabelProps(O,{combinedRotation:d,textAlign:h,textBaseline:p,range:this.scale.range});if(!P.visible)return;b.setProperties(Te(J({},P),{translationY:Math.round(O.translationY)}));const D=b.computeTransformedBBox();D&&v.push(D)})}const S=b=>{const O=new bs,{rotation:P,translationX:D,translationY:N,rotationCenterX:L,rotationCenterY:I}=this.getAxisTransform();return bs.updateTransformMatrix(O,1,1,P,D,N,{scalingCenterX:0,scalingCenterY:0,rotationCenterX:L,rotationCenterY:I}),O.transformBBox(b)};if((e=this.title)!=null&&e.enabled){const b=new Ar,O=nt.merge(v).width;this.setTitleProps(b,{spacing:O});const D=b.node.computeTransformedBBox();D&&v.push(D)}const w=nt.merge(v),_=S(w),x=this.isAnySeriesActive();return(r=this.crossLines)==null||r.forEach(b=>{var O;b.sideFlag=-s,b.direction=i===-Math.PI/2?"x":"y",b instanceof EI&&(b.label.parallel=(O=b.label.parallel)!=null?O:this.label.parallel),b.parallelFlipRotation=o,b.regularFlipRotation=a,b.calculateLayout(x,this.reverse)}),t=f.primaryTickCount,{primaryTickCount:t,bbox:_}}updateLayoutState(){this.layout.label={fractionDigits:this.fractionDigits,padding:this.label.padding,format:this.label.format}}setDomain(t){this.dataDomain=this.normaliseDataDomain(t),this.reverse&&this.dataDomain.domain.reverse(),this.scale.domain=this.dataDomain.domain}updateScale(){this.updateRange(),this.calculateDomain(),this.setTickInterval(this.tick.interval);const{scale:t,nice:e}=this;Zt.is(t)&&(t.nice=e,t.update())}calculateRotations(){const t=Ci(this.rotation),e=Zr(t),r=Zr(t-Math.PI/2);return{rotation:t,parallelFlipRotation:e,regularFlipRotation:r}}generateTicks({primaryTickCount:t,parallelFlipRotation:e,regularFlipRotation:r,labelX:i,sideFlag:o}){var a;const{scale:s,tick:l,label:{parallel:u,rotation:c,fontFamily:d,fontSize:p,fontStyle:h,fontWeight:f}}=this,v=t!==void 0,{defaultRotation:g,configuredRotation:y,parallelFlipFlag:m,regularFlipFlag:C}=AO({rotation:c,parallel:u,regularFlipRotation:r,parallelFlipRotation:e}),S=y+g,w=new bs,{maxTickCount:_}=this.estimateTickCount({minSpacing:l.minSpacing,maxSpacing:(a=l.maxSpacing)!=null?a:NaN}),b=!Zt.is(s)||isNaN(_)?10:_;let O=rM(u,y,0,o,C);const P=bHe(u,y,o,m),D={fontFamily:d,fontSize:p,fontStyle:h,fontWeight:f,textBaseline:P,textAlign:O};let N={rawTicks:[],ticks:[],labelCount:0},L=0,I=0,k=!0,H=!1;for(;k&&L<=b&&!H;){I=0,O=rM(u,y,0,o,C);const V=this.getTickStrategies({secondaryAxis:v,index:L});for(const W of V){({tickData:N,index:L,autoRotation:I,terminate:H}=W({index:L,tickData:N,textProps:D,labelOverlap:k,terminate:H,primaryTickCount:t}));const K=y!==0||I!==0,Z=S+I;O=rM(u,y,I,o,C),k=this.checkLabelOverlap(Z,K,w,N.ticks,i,Te(J({},D),{textAlign:O}))}}const $=g+y+I;return!v&&N.rawTicks.length>0&&(t=N.rawTicks.length),{tickData:N,primaryTickCount:t,combinedRotation:$,textBaseline:P,textAlign:O}}getTickStrategies({index:t,secondaryAxis:e}){const{scale:r,label:i,tick:o}=this,a=Zt.is(r),s=i.enabled&&i.avoidCollisions,l=!a&&t!==0&&s,u=i.autoRotate===!0&&i.rotation===void 0,c=[];let d;this.tick.values?d=3:e?d=1:l?d=2:d=0;const p=({index:h,tickData:f,primaryTickCount:v,terminate:g})=>this.createTickData(d,h,f,g,v);if(c.push(p),!a&&!isNaN(o.minSpacing)){const h=({index:f,tickData:v,primaryTickCount:g,terminate:y})=>this.createTickData(2,f,v,y,g);c.push(h)}if(!s)return c;if(i.autoWrap){const h=({index:f,tickData:v,textProps:g})=>this.wrapLabels(v,f,g);c.push(h)}else if(u){const h=({index:f,tickData:v,labelOverlap:g,terminate:y})=>({index:f,tickData:v,autoRotation:this.getAutoRotation(g),terminate:y});c.push(h)}return c}createTickData(t,e,r,i,o){var a;const{scale:s,tick:l}=this,{maxTickCount:u,minTickCount:c,defaultTickCount:d}=this.estimateTickCount({minSpacing:l.minSpacing,maxSpacing:(a=l.maxSpacing)!=null?a:NaN}),p=Zt.is(s),h=!p||isNaN(u)?10:u;let f=p?Math.max(d-e,c):u;const v=l.interval===void 0&&l.values===void 0&&f>c&&(p||t===2);let g=!0;for(;g&&e<=h;){const m=r.rawTicks;f=p?Math.max(d-e,c):u;const{rawTicks:C,ticks:S,labelCount:w}=this.getTicks({tickGenerationType:t,previousTicks:m,tickCount:f,minTickCount:c,maxTickCount:u,primaryTickCount:o});r.rawTicks=C,r.ticks=S,r.labelCount=w,g=v?JHe(C,m):!1,e++}const y=l.interval!==void 0||l.values!==void 0;return i||(i=y),{tickData:r,index:e,autoRotation:0,terminate:i}}checkLabelOverlap(t,e,r,i,o,a){bs.updateTransformMatrix(r,1,1,t,0,0);const s=this.createLabelData(i,o,a,r),l=EHe(this.label.minSpacing,e);return QHe(s,l)}createLabelData(t,e,r,i){const o=[];for(const a of t){const{tickLabel:s,translationY:l}=a;if(s===""||s==null)continue;const u=gJ(s),{width:c,height:d}=SHe(u,e,l,r),p=new nt(e,l,c,d),h=OHe(s,p,e,l,i);o.push(h)}return o}getAutoRotation(t){var e;return t?Zr(Ci((e=this.label.autoRotateAngle)!=null?e:0)):0}getTicks({tickGenerationType:t,previousTicks:e,tickCount:r,minTickCount:i,maxTickCount:o,primaryTickCount:a}){var s;const{range:l,scale:u,visibleRange:c}=this;let d;switch(t){case 3:if(Zt.is(u)){const m=u.getDomain(),C=u.fromDomain(m[0]),S=u.fromDomain(m[1]),w=Math.min(C,S),_=Math.max(C,S);d=this.tick.values.filter(x=>x>=w&&x<=_).sort((x,b)=>x-b)}else d=this.tick.values;break;case 1:d=this.updateSecondaryAxisTicks(a);break;case 2:d=this.filterTicks(e,r);break;default:d=this.createTicks(r,i,o);break}this.fractionDigits=d.fractionDigits>=0?d.fractionDigits:0,this.onLabelFormatChange(d,this.label.format);const p=((s=u.bandwidth)!=null?s:0)/2,h=[];let f=0;const v=new Map,g=Math.max(0,Math.floor(c[0]*d.length)),y=Math.min(d.length,Math.ceil(c[1]*d.length));for(let m=g;m<y;m++){const C=d[m],S=u.convert(C)+p;if(l.length>0&&!this.inRange(S,0,.001))continue;const w=this.formatTick(C,m);let _=w;if(v.has(_)){const x=v.get(_);v.set(_,x+1),_=`${_}_${x}`}else v.set(_,1);h.push({tick:C,tickId:_,tickLabel:w,translationY:S}),!(w===""||w==null)&&f++}return{rawTicks:d,ticks:h,labelCount:f}}filterTicks(t,e){var r;const o=!isNaN(this.tick.minSpacing)||!isNaN((r=this.tick.maxSpacing)!=null?r:NaN)?Math.ceil(t.length/e):2;return t.filter((a,s)=>s%o===0)}createTicks(t,e,r){var i,o,a;return this.setTickCount(t,e,r),(a=(o=(i=this.scale).ticks)==null?void 0:o.call(i))!=null?a:[]}estimateTickCount({minSpacing:t,maxSpacing:e}){const{minRect:r}=this,i=this.calculateRangeWithBleed(),o=Math.max(this.defaultTickMinSpacing,i/Zt.defaultMaxTickCount);let a=!isNaN(e);isNaN(t)&&(t=o),isNaN(e)&&(e=i),t>e&&(t===o?t=e:e=t);const s=r?this.direction==="x"?r.width:r.height:1;a&&(a=s<o);const l=Dt(1,Math.floor(i/t),a?Math.floor(i/s):1/0),u=Math.min(l,Math.ceil(i/e)),c=Dt(u,Zt.defaultTickCount,l);return{minTickCount:u,maxTickCount:l,defaultTickCount:c}}updateVisibility(){this.moduleCtx.animationManager.isSkipped()&&this.resetSelectionNodes(),this.tickLineGroup.visible=this.tick.enabled,this.gridLineGroup.visible=this.gridLine.enabled,this.tickLabelGroup.visible=this.label.enabled}updateCrossLines({rotation:t,parallelFlipRotation:e,regularFlipRotation:r}){var i;const o=this.label.getSideFlag(),a=this.isAnySeriesActive();(i=this.crossLines)==null||i.forEach(s=>{var l;s.sideFlag=-o,s.direction=t===-Math.PI/2?"x":"y",s instanceof EI&&(s.label.parallel=(l=s.label.parallel)!=null?l:this.label.parallel),s.parallelFlipRotation=e,s.regularFlipRotation=r,s.update(a)})}updateTickLines(){const{tick:t,label:e}=this,r=e.getSideFlag();this.tickLineGroupSelection.each(i=>{i.strokeWidth=t.width,i.stroke=t.color,i.x1=r*this.getTickSize(),i.x2=0})}calculateAvailableRange(){return Ig(this.range)}calculateRangeWithBleed(){const t=1/Ig(this.visibleRange);return IV(this.calculateAvailableRange()*t,2)}calculateDomain(){const e=this.boundSeries.filter(r=>this.includeInvisibleDomains||r.isEnabled()).flatMap(r=>r.getDomain(this.direction));this.setDomain(e)}getAxisTransform(){return{rotation:Ci(this.rotation),rotationCenterX:0,rotationCenterY:0,translationX:Math.floor(this.translation.x),translationY:Math.floor(this.translation.y)}}updatePosition(){const{crossLineGroup:t,axisGroup:e,gridGroup:r,translation:i,gridLineGroupSelection:o,gridPadding:a,gridLength:s}=this,{rotation:l}=this.calculateRotations(),u=this.label.getSideFlag(),c=Math.floor(i.x),d=Math.floor(i.y);t.setProperties({rotation:l,translationX:c,translationY:d}),r.setProperties({rotation:l,translationX:c,translationY:d}),e.datum=this.getAxisTransform(),o.each(p=>{p.x1=a,p.x2=-u*s+a})}updateSecondaryAxisTicks(t){throw new Error("AG Charts - unexpected call to updateSecondaryAxisTicks() - check axes configuration.")}updateSelections(t,e,r){this.lineNode.datum=t,this.gridLineGroupSelection.update(this.gridLength?e:[],i=>i.append(new bn({tag:2})),i=>i.tickId),this.tickLineGroupSelection.update(e,i=>i.appendChild(new bn({tag:0})),i=>i.tickId),this.tickLabelGroupSelection.update(e.map(i=>this.getTickLabelProps(i,r)),i=>i.appendChild(new Mt({tag:1})),i=>i.tickId)}updateAxisLine(){const{line:t}=this,e=t.enabled?t.width:0;this.lineNode.setProperties({stroke:t.color,strokeWidth:e})}updateGridLines(t){const{gridLine:{style:e,width:r},gridPadding:i,gridLength:o}=this;o===0||e.length===0||this.gridLineGroupSelection.each((a,s,l)=>{const{stroke:u,lineDash:c}=e[l%e.length];a.setProperties({x1:i,x2:-t*o+i,fill:void 0,stroke:u,strokeWidth:r,lineDash:c})})}updateLabels(){const{label:t}=this;t.enabled&&this.tickLabelGroupSelection.each((e,r)=>{e.setProperties(r,["fill","fontFamily","fontSize","fontStyle","fontWeight","text","textAlign","textBaseline"])})}wrapLabels(t,e,r){const{parallel:i,maxWidth:o,maxHeight:a}=this.label;let s=this.maxThickness,l=Math.round(this.calculateAvailableRange()/t.labelCount);return i&&([s,l]=[l,s]),t.ticks.forEach(u=>{const{text:c}=Mt.wrap(u.tickLabel,o??s,a??l,r,"hyphenate");u.tickLabel=c}),{tickData:t,index:e,autoRotation:0,terminate:!0}}updateTitle(t){const{rotation:e,title:r,_titleCaption:i,lineNode:o,tickLineGroup:a,tickLabelGroup:s}=this;if(!r){i.enabled=!1;return}let l=0;if(r.enabled&&t.anyTickVisible){const u=Ve.computeBBox([a,s,o]),c=e===0?u.width:u.height;l+=c+(this.tickLabelGroup.visible?0:this.seriesAreaPadding)}this.setTitleProps(i,{spacing:l})}formatTick(t,e){var r,i;const{label:o,labelFormatter:a,fractionDigits:s,moduleCtx:{callbackCache:l}}=this;if(o.formatter){const u=s>0?t:String(t);return(r=l.call(o.formatter,{value:u,index:e,fractionDigits:s,formatter:a}))!=null?r:u}else if(a)return(i=l.call(a,t))!=null?i:String(t);return String(t)}formatDatum(t){return String(t)}computeBBox(){return this.axisGroup.computeBBox()}initCrossLine(t){t.scale=this.scale,t.gridLength=this.gridLength}isAnySeriesActive(){return this.boundSeries.some(t=>this.includeInvisibleDomains||t.isEnabled())}clipTickLines(t,e,r,i){this.tickLineGroup.setClipRectInGroupCoordinateSpace(new nt(t,e,r,i))}clipGrid(t,e,r,i){this.gridGroup.setClipRectInGroupCoordinateSpace(new nt(t,e,r,i))}calculatePadding(t,e,r){const i=Math.abs(r?e:t)*.01;return[i,i]}getTitleFormatterParams(){var t;const e=this.boundSeries.reduce((r,i)=>{const o=i.getKeys(this.direction),a=i.getNames(this.direction);for(let s=0;s<o.length;s++)r.push({key:o[s],name:a[s]});return r},[]);return{direction:this.direction,boundSeries:e,defaultValue:(t=this.title)==null?void 0:t.text}}normaliseDataDomain(t){return{domain:[...t],clipped:!1}}getLayoutState(){return J({rect:this.computeBBox(),gridPadding:this.gridPadding,seriesAreaPadding:this.seriesAreaPadding,tickSize:this.getTickSize()},this.layout)}getModuleMap(){return this.moduleMap}createModuleContext(){var t;return(t=this.axisContext)!=null||(this.axisContext=this.createAxisContext()),Te(J({},this.moduleCtx),{parent:this.axisContext})}createAxisContext(){return{axisId:this.id,direction:this.direction,continuous:Zt.is(this.scale),keys:()=>this.boundSeries.flatMap(t=>t.getKeys(this.direction)),scaleValueFormatter:t=>{var e,r;return(r=(e=this.scale).tickFormat)==null?void 0:r.call(e,{specifier:t})},scaleBandwidth:()=>{var t;return(t=this.scale.bandwidth)!=null?t:0},scaleConvert:t=>this.scale.convert(t),scaleInvert:t=>{var e,r;return(r=(e=this.scale).invert)==null?void 0:r.call(e,t)}}}animateReadyUpdate(t){const{animationManager:e}=this.moduleCtx,r=RI(this),i=kJ(r);xr(this.id,"axis-group",e,[this.axisGroup],i.group),xr(this.id,"line",e,[this.lineNode],i.line),xr(this.id,"line-paths",e,[this.gridLineGroupSelection,this.tickLineGroupSelection],i.tick,(o,a)=>a.tickId,t),xr(this.id,"tick-labels",e,[this.tickLabelGroupSelection],i.label,(o,a)=>a.tickId,t)}resetSelectionNodes(){const{gridLineGroupSelection:t,tickLineGroupSelection:e,tickLabelGroupSelection:r,lineNode:i}=this,o=RI(this);xn([this.axisGroup],GJ()),xn([t,e],VJ(o)),xn([r],BJ()),xn([i],HJ())}calculateUpdateDiff(t,e){const r=new Set,i=new Set,o=Math.max(t.length,e.ticks.length);for(let a=0;a<o;a++){const s=e.ticks[a],l=t[a],u=s==null?void 0:s.tickId;l!==u&&(i.has(u)?i.delete(u):u&&r.add(u),r.has(l)?r.delete(l):l&&i.add(l))}return{changed:r.size>0||i.size>0,added:Array.from(r.values()),removed:Array.from(i.values())}}isReversed(){return this.reverse}};xf.defaultTickMinSpacing=50;R([M(qe)],xf.prototype,"nice",2);R([M(qe)],xf.prototype,"reverse",2);R([M(oJ)],xf.prototype,"keys",2);R([M(er(n=>typeof n=="object","Title object"),{optional:!0})],xf.prototype,"title",2);R([oy((n,t,e)=>n.onGridLengthChange(t,e))],xf.prototype,"gridLength",2);var tB=xf,rB=class extends yn{constructor(){super(...arguments),this.autoRotateAngle=335}};R([M(qe,{optional:!0})],rB.prototype,"autoRotate",2);R([M(dp)],rB.prototype,"autoRotateAngle",2);var nB=class WJ extends tB{constructor(){super(...arguments),this.thickness=0,this.position="left"}static is(t){return t instanceof WJ}get direction(){return["top","bottom"].includes(this.position)?"x":"y"}updateDirection(){switch(this.position){case"top":this.rotation=-90,this.label.mirrored=!0,this.label.parallel=!0;break;case"right":this.rotation=0,this.label.mirrored=!0,this.label.parallel=!1;break;case"bottom":this.rotation=-90,this.label.mirrored=!1,this.label.parallel=!0;break;case"left":this.rotation=0,this.label.mirrored=!1,this.label.parallel=!1;break}this.axisContext&&(this.axisContext.position=this.position,this.axisContext.direction=this.direction)}update(t,e){return this.updateDirection(),super.update(t,e)}calculateLayout(t){return this.updateDirection(),super.calculateLayout(t)}createAxisContext(){return Te(J({},super.createAxisContext()),{position:this.position})}assignCrossLineArrayConstructor(t){CJ(t,EI)}createLabel(){return new rB}};R([M(xe)],nB.prototype,"thickness",2);R([M(WV)],nB.prototype,"position",2);var u0=nB,pc=class extends u0{constructor(n){super(n,new iu),this._paddingOverrideEnabled=!1,this.groupPaddingInner=.1,this.includeInvisibleDomains=!0}set paddingInner(n){this._paddingOverrideEnabled=!0,this.scale.paddingInner=n}get paddingInner(){return this._paddingOverrideEnabled=!0,this.scale.paddingInner}set paddingOuter(n){this.scale.paddingOuter=n}get paddingOuter(){return this.scale.paddingOuter}normaliseDataDomain(n){const t=[],e=new Set;for(const r of n){const i=r instanceof Date?r.getTime():r;e.has(i)||(e.add(i),t.push(r))}return{domain:t,clipped:!1}}calculateDomain(){if(!this._paddingOverrideEnabled){const n=this.boundSeries.map(t=>{var e;return(e=t.getBandScalePadding)==null?void 0:e.call(t)}).filter(t=>t!=null);n.length>0&&(this.scale.paddingInner=Math.min(...n.map(t=>t.inner)),this.scale.paddingOuter=Math.max(...n.map(t=>t.outer)))}return super.calculateDomain()}};pc.className="CategoryAxis";pc.type="category";R([M(Ut)],pc.prototype,"groupPaddingInner",2);var UJ=class{constructor(n="",t,e=0){this.x=0,this.y=0,this.subtreeLeft=NaN,this.subtreeRight=NaN,this.screenX=0,this.screenY=0,this.children=[],this.leafCount=0,this.prelim=0,this.mod=0,this.ancestor=this,this.change=0,this.shift=0,this.label=n,this.parent=t,this.depth=t?t.depth+1:0,this.number=e}getLeftSibling(){return this.number>0&&this.parent?this.parent.children[this.number-1]:void 0}getLeftmostSibling(){return this.number>0&&this.parent?this.parent.children[0]:void 0}nextLeft(){return this.children?this.children[0]:this.thread}nextRight(){return this.children?this.children[this.children.length-1]:this.thread}getSiblings(){return this.parent?this.parent.children.filter((n,t)=>t!==this.number):[]}};function oje(n,t=!0){const e=new UJ;let r=0;return t&&n.forEach(i=>r=Math.max(r,i.labels.length)),n.forEach(i=>{if(t)for(;i.labels.length<r;)i.labels.unshift("");aje(e,i)}),e}function aje(n,t){const e=t.labels.slice().reverse(),r=e.length-1;e.forEach((i,o)=>{const a=n.children,s=a.find(u=>u.label===i),l=o!==r;if(s&&l)n=s;else{const u=new UJ(i,n);u.number=a.length,a.push(u),l&&(n=u)}})}function sje(n,t,e){const r=t.number-n.number,i=e/r;t.change-=i,t.shift+=e,n.change+=i,t.prelim+=e,t.mod+=e}function lje(n,t,e){return t.getSiblings().indexOf(n.ancestor)>=0?n.ancestor:e}function uje(n){const t=n.children;if(t){let e=0,r=0;for(let i=t.length-1;i>=0;i--){const o=t[i];o.prelim+=e,o.mod+=e,r+=o.change,e+=o.shift+r}}}function cje(n,t,e){const r=n.getLeftSibling();if(r){let i=n,o=n,a=r,s=o.getLeftmostSibling(),l=o.mod,u=i.mod,c=a.mod,d=s.mod;for(;a.nextRight()&&o.nextLeft();){a=a.nextRight(),o=o.nextLeft(),s=s.nextLeft(),i=i.nextRight(),i.ancestor=n;const p=a.prelim+c-(o.prelim+l)+e;p>0&&(sje(lje(a,n,t),n,p),l+=p,u+=p),c+=a.mod,l+=o.mod,d+=s.mod,u+=i.mod}a.nextRight()&&!i.nextRight()?(i.thread=a.nextRight(),i.mod+=c-u):(o.nextLeft()&&!s.nextLeft()&&(s.thread=o.nextLeft(),s.mod+=l-d),t=n)}return t}function zJ(n,t){const e=n.children;if(e.length){let r=e[0];e.forEach(a=>{zJ(a,t),r=cje(a,r,t)}),uje(n);const i=(e[0].prelim+e.at(-1).prelim)/2,o=n.getLeftSibling();o?(n.prelim=o.prelim+t,n.mod=n.prelim-i):n.prelim=i}else{const r=n.getLeftSibling();n.prelim=r?r.prelim+t:0}}var uz=class{constructor(){this.top=1/0,this.right=-1/0,this.bottom=-1/0,this.left=1/0}update(n,t){const{x:e,y:r}=t(n);e>this.right&&(this.right=e),e<this.left&&(this.left=e),r>this.bottom&&(this.bottom=r),r<this.top&&(this.top=r)}};function KJ(n,t,e){n.x=n.prelim+t,n.y=n.depth,e.update(n),n.children.forEach(r=>KJ(r,t+n.mod,e))}function YJ(n){const t=n.children;let e=0;t.forEach(r=>{YJ(r),r.children.length?e+=r.leafCount:e++}),n.leafCount=e,t.length?(n.subtreeLeft=t[0].subtreeLeft,n.subtreeRight=t[n.children.length-1].subtreeRight,n.x=(n.subtreeLeft+n.subtreeRight)/2):(n.subtreeLeft=n.x,n.subtreeRight=n.x)}function dje(n){const t=new pje;return zJ(n,1),KJ(n,-n.prelim,t),YJ(n),t}var pje=class{constructor(){this.dimensions=new uz,this.leafCount=0,this.nodes=[],this.leafNodes=[],this.nonLeafNodes=[],this.depth=0}update(n){this.dimensions.update(n,t=>({x:t.x,y:t.y})),n.children.length?this.nonLeafNodes.push(n):(this.leafCount++,this.leafNodes.push(n)),n.depth>this.depth&&(this.depth=n.depth),this.nodes.push(n)}resize(n,t,e=0,r=0,i=!1){const o=this.leafCount-1,a=this.depth,s=this.dimensions;let l=1,u=1;if(n>0&&o){const h=(s.right-s.left)/o;l=n/o/h,i&&(l=-l)}if(t>0&&a){const h=(s.bottom-s.top)/a;u=t/a/h}const c=new uz;this.nodes.forEach(h=>{h.screenX=h.x*l,h.screenY=h.y*u,c.update(h,f=>({x:f.screenX,y:f.screenY}))});const d=-c.left,p=-c.top;this.nodes.forEach(h=>{h.screenX+=d+e,h.screenY+=p+r})}},XJ=class extends yn{constructor(){super(...arguments),this.grid=!1}};R([M(qe)],XJ.prototype,"grid",2);var qd=class extends u0{constructor(n){super(n,new iu),this.tickScale=new iu,this.line=new l0,this.label=new XJ,this.labelColor="rgba(87, 87, 87, 1)",this.includeInvisibleDomains=!0;const{tickLineGroup:t,tickLabelGroup:e,gridLineGroup:r,tickScale:i,scale:o}=this;o.paddingOuter=.1,o.paddingInner=o.paddingOuter*2,this.refreshScale(),i.paddingInner=1,i.paddingOuter=0,this.gridLineSelection=Er.select(r,bn),this.axisLineSelection=Er.select(t,bn),this.separatorSelection=Er.select(t,bn),this.labelSelection=Er.select(e,Mt)}updateRange(){const{range:n,visibleRange:t,scale:e}=this,r=(n[1]-n[0])/(t[1]-t[0]),i=r*t[0],o=n[0]-i;this.tickScale.range=e.range=[o,o+r],this.resizeTickTree()}resizeTickTree(){var n;const t=this.scale,e=t.domain.length?[t.convert(t.domain[0]),t.convert(t.domain[t.domain.length-1])]:t.range,r=this.tickTreeLayout,i=this.lineHeight;r&&r.resize(Math.abs(e[1]-e[0]),r.depth*i,(Math.min(e[0],e[1])||0)+((n=t.bandwidth)!=null?n:0)/2,-r.depth*i,e[1]-e[0]<0)}get lineHeight(){return this.label.fontSize*1.5}onGridVisibilityChange(){this.gridLineSelection.clear(),this.labelSelection.clear()}calculateDomain(){var n;const{direction:t}=this;let e=null;const r=this.boundSeries.filter(o=>o.visible).flatMap(o=>{if(t==="y"||e)return o.getDomain(t);if(e===null){const a=o.getDomain(t);return e=As(a[0]),a}return[]});this.setDomain((n=lu(r))!=null?n:MV(r));const{domain:i}=this.dataDomain;this.tickTreeLayout=dje(oje(i)),this.tickScale.domain=i.concat(""),this.resizeTickTree()}update(){this.computedLayout&&(this.updatePosition(),this.updateTitleCaption(),this.updateCategoryLabels(),this.updateSeparators(),this.updateAxisLines(),this.updateCategoryGridLines(),this.resetSelectionNodes())}updateTitleCaption(){const{_titleCaption:n}=this;n.node.visible=!1}updateCategoryLabels(){if(!this.computedLayout)return;const{tickLabelLayout:n}=this.computedLayout;this.labelSelection.update(n).each((e,r)=>{e.setProperties(r)})}updateSeparators(){if(!this.computedLayout)return;const{separatorLayout:n}=this.computedLayout,{range:t}=this,e=1e-7;this.separatorSelection.update(n).each((i,o)=>{i.x1=o.x1,i.x2=o.x2,i.y1=o.y,i.y2=o.y,i.visible=o.y>=t[0]-e&&o.y<=t[1]+e,i.stroke=this.tick.color,i.fill=void 0,i.strokeWidth=1})}updateAxisLines(){if(!this.computedLayout)return;const{axisLineLayout:n}=this.computedLayout;this.axisLineSelection.update(n).each((e,r)=>{e.setProperties(Te(J({},r),{stroke:this.line.color,strokeWidth:this.line.width})),e.x1=r.x,e.x2=r.x,e.y1=r.y1,e.y2=r.y2,e.strokeWidth=this.line.width,e.stroke=this.line.color})}updateCategoryGridLines(){const{gridLength:n,gridLine:t,label:e,range:r,tickScale:i}=this,o=i.ticks(),a=e.getSideFlag(),s=this.gridLineSelection.update(n?o:[]);if(n){const{width:l,style:u}=t,c=u.length;s.each((d,p,h)=>{const f=Math.round(i.convert(p));d.x1=0,d.x2=-a*n,d.y1=f,d.y2=f,d.visible=f>=r[0]&&f<=r[1];const{stroke:v,lineDash:g}=u[h%c];d.stroke=v,d.strokeWidth=l,d.lineDash=g,d.fill=void 0})}}computeLayout(){this.updateDirection(),this.calculateDomain(),this.updateRange();const{scale:n,label:t,label:{parallel:e},moduleCtx:{callbackCache:r},range:i,title:o,title:{formatter:a=q=>q.defaultValue}={}}=this,s=n.range[0],l=n.range[1],c=Math.abs(l-s)/n.domain.length||0,d=Math.ceil(t.fontSize/c),p=Ci(this.rotation),h=Math.abs(Math.cos(p))<1e-8,f=t.getSideFlag(),v=this.lineHeight,g=this.tickTreeLayout,y=n.ticks(),m=g?g.nodes:[],C=g?g.depth>1:!1,{defaultRotation:S,configuredRotation:w,parallelFlipFlag:_}=AO({rotation:t.rotation,parallel:e,regularFlipRotation:Zr(p-Math.PI/2),parallelFlipRotation:Zr(p)}),x=[],b=q=>({fill:q.fill,fontFamily:q.fontFamily,fontSize:q.fontSize,fontStyle:q.fontStyle,fontWeight:q.fontWeight,rotation:q.rotation,rotationCenterX:q.rotationCenterX,rotationCenterY:q.rotationCenterY,text:q.text,textAlign:q.textAlign,textBaseline:q.textBaseline,translationX:q.translationX,translationY:q.translationY,visible:q.visible,x:q.x,y:q.y}),O=new Map;let P=0;const D=new Mt,N=(q,he)=>{var be;if(D.setProperties({fill:t.color,fontFamily:t.fontFamily,fontSize:t.fontSize,fontStyle:t.fontStyle,fontWeight:t.fontWeight,textAlign:"center",textBaseline:_===-1?"bottom":"hanging",translationX:q.screenY-t.fontSize*.25,translationY:q.screenX}),he===0){if(!((o==null?void 0:o.enabled)&&y.length>0))return!1;const Se=r.call(a,this.getTitleFormatterParams());D.setProperties({fill:o.color,fontFamily:o.fontFamily,fontSize:o.fontSize,fontStyle:o.fontStyle,fontWeight:o.fontWeight,text:Se,textBaseline:"hanging",translationX:q.screenY-t.fontSize*.25,translationY:q.screenX})}else{if(he%d!==0)return!1;if(!(q.screenX>=i[0]&&q.screenX<=i[1]))return!1;t.formatter?D.text=(be=r.call(t.formatter,{value:String(q.label),index:he}))!=null?be:String(q.label):D.text=String(q.label)}return!0};m.forEach((q,he)=>{if(!N(q,he))return;const ee=D.computeTransformedBBox();if(!ee)return;O.set(he,ee),!q.children.length&&ee.width>P&&(P=ee.width)});const L=f*t.padding,I=this.label.grid,k=[];m.forEach((q,he)=>{let be=N(q,he);const ee=he;D.x=L,D.rotationCenterX=L;const Se=!q.children.length;if(Se)D.rotation=w,D.textAlign="end",D.textBaseline="middle";else{D.translationX-=P-v+this.label.padding;const te=q.leafCount*c,Pe=O.get(ee);Pe&&Pe.width>te?(be=!1,O.delete(ee)):h?D.rotation=S:D.rotation=-Math.PI/2}if(q.parent&&C){const te=Se?q.screenX-c/2:q.screenX-q.leafCount*c/2;if(Se)(q.number!==q.children.length-1||I)&&k.push({y:te,x1:0,x2:-P-this.label.padding*2});else{const Pe=-P-this.label.padding*2+q.screenY;k.push({y:te,x1:Pe+v,x2:Pe})}}let Ce;if(be){const te=D.computeTransformedBBox();te&&O.set(he,te),Ce=Te(J({},b(D)),{visible:be})}else O.delete(he),Ce={visible:be};x.push(Ce)});let H=0;k.forEach(q=>H=Math.min(H,q.x2)),k.push({y:Math.max(s,l),x1:0,x2:H});const $=[],V=[],W=1e-7;k.forEach(q=>{if(q.y>=i[0]-W&&q.y<=i[1]+W){const{x1:he,x2:be,y:ee}=q,Se=new nt(Math.min(he,be),ee,Math.abs(he-be),0);V.push(Se),$.push({x1:he,x2:be,y:ee})}});const K=[],Z=[],Q=g?g.depth+1:1;for(let q=0;q<Q;q++){const he=y.length>0&&(q===0||I&&C),be=q>0?-P-this.label.padding*2-(q-1)*v:0,ee=new nt(be,Math.min(...i),0,Math.abs(i[1]-i[0]));Z.push(ee),K.push({x:be,y1:i[0],y2:i[1],visible:he})}const ce=q=>{const he=new bs,{rotation:be,translationX:ee,translationY:Se,rotationCenterX:Ce,rotationCenterY:te}=this.getAxisTransform();return bs.updateTransformMatrix(he,1,1,be,ee,Se,{scalingCenterX:0,scalingCenterY:0,rotationCenterX:Ce,rotationCenterY:te}),he.transformBBox(q)},ue=nt.merge([...O.values(),...V,...Z]);return{bbox:ce(ue),tickLabelLayout:x,separatorLayout:$,axisLineLayout:K}}calculateLayout(){const{axisLineLayout:n,separatorLayout:t,tickLabelLayout:e,bbox:r}=this.computeLayout();return this.computedLayout={axisLineLayout:n,separatorLayout:t,tickLabelLayout:e},{bbox:r,primaryTickCount:void 0}}};qd.className="GroupedCategoryAxis";qd.type="grouped-category";R([M(Tt,{optional:!0})],qd.prototype,"labelColor",2);var cz=class{constructor({width:n=600,height:t=300,overrideDevicePixelRatio:e}){this.enabled=!0,this._pixelRatio=NaN,this._width=0,this._height=0,this.canvas=new OffscreenCanvas(n,t),this.realContext=this.canvas.getContext("2d"),this.imageSource=this.canvas.transferToImageBitmap(),this.context=this.setPixelRatio(e),this.resize(n,t)}static isSupported(){return typeof OffscreenCanvas<"u"&&OffscreenCanvas.prototype.transferToImageBitmap!=null}snapshot(){this.imageSource.close(),this.imageSource=this.canvas.transferToImageBitmap()}destroy(){this.imageSource.close(),this.canvas.width=0,this.canvas.height=0,this.context.clearRect(0,0,0,0)}clear(){this.context.save(),this.context.resetTransform(),this.context.clearRect(0,0,this.width,this.height),this.context.restore()}get pixelRatio(){return this._pixelRatio}setPixelRatio(n){let t=n??window.devicePixelRatio;return pJ()&&(t=1),this._pixelRatio=t,Wr.overrideScale(this.realContext,t)}get width(){return this._width}get height(){return this._height}resize(n,t){if(!(n>0&&t>0))return;const{canvas:e,context:r,pixelRatio:i}=this;e.width=Math.round(n*i),e.height=Math.round(t*i),r.resetTransform(),this._width=n,this._height=t}},nM="adv-composite",iM="dom-composite",iB=class{constructor(n){this.id=uu(this),this.layers=[],this._nextZIndex=0,this._nextLayerId=0,this._dirty=!1,this._root=null,this.debug=$r.create(!0,"scene");var t;const{document:e,window:r,mode:i=(t=pI("agChartsSceneRenderModel"))!=null?t:nM,width:o,height:a,overrideDevicePixelRatio:s=void 0}=n;this.overrideDevicePixelRatio=s,this.opts={document:e,window:r,mode:i},this.canvas=new Wr({document:e,window:r,width:o,height:a,overrideDevicePixelRatio:s})}set container(n){this.canvas.container=n}get container(){return this.canvas.container}download(n,t){this.canvas.download(n,t)}getDataURL(n){return this.canvas.getDataURL(n)}get width(){return this.pendingSize?this.pendingSize[0]:this.canvas.width}get height(){return this.pendingSize?this.pendingSize[1]:this.canvas.height}resize(n,t){n=Math.round(n),t=Math.round(t);const e=n<=0||t<=0,r=isNaN(n)||isNaN(t);return n===this.width&&t===this.height||r||e?!1:(this.pendingSize=[n,t],this.markDirty(),!0)}addLayer(n){var t;const{mode:e}=this.opts;if(!["composite",iM,nM].includes(e))return;const{zIndex:i=this._nextZIndex++,name:o,zIndexSubOrder:a,getComputedOpacity:s,getVisibility:l}=n,{width:u,height:c,overrideDevicePixelRatio:d}=this,p=e===iM,f=!(e===nM)||!cz.isSupported()?new Wr({document:this.opts.document,window:this.opts.window,width:u,height:c,domLayer:p,zIndex:i,name:o,overrideDevicePixelRatio:d}):new cz({width:u,height:c,overrideDevicePixelRatio:d}),v={id:this._nextLayerId++,name:o,zIndex:i,zIndexSubOrder:a,canvas:f,getComputedOpacity:s,getVisibility:l};if(i>=this._nextZIndex&&(this._nextZIndex=i+1),this.layers.push(v),this.sortLayers(),p){const g=this.layers.map(C=>C.canvas).filter(C=>C instanceof Wr),y=g.findIndex(C=>C===f);((t=g[y-1])!=null?t:this.canvas).element.insertAdjacentElement("afterend",f.element)}return this.debug("Scene.addLayer() - layers",this.layers),v.canvas}removeLayer(n){const t=this.layers.findIndex(e=>e.canvas===n);t>=0&&(this.layers.splice(t,1),n.destroy(),this.markDirty(),this.debug("Scene.removeLayer() -  layers",this.layers))}moveLayer(n,t,e){const r=this.layers.find(i=>i.canvas===n);r&&(r.zIndex=t,r.zIndexSubOrder=e,this.sortLayers(),this.markDirty(),this.debug("Scene.moveLayer() -  layers",this.layers))}sortLayers(){this.layers.sort((n,t)=>{var e,r;return wJ([n.zIndex,...(e=n.zIndexSubOrder)!=null?e:[void 0,void 0],n.id],[t.zIndex,...(r=t.zIndexSubOrder)!=null?r:[void 0,void 0],t.id],SJ)})}markDirty(){this._dirty=!0}get dirty(){return this._dirty}set root(n){var t;n!==this._root&&((t=this._root)==null||t._setLayerManager(),this._root=n,n&&n._setLayerManager({addLayer:e=>this.addLayer(e),moveLayer:(...e)=>this.moveLayer(...e),removeLayer:(...e)=>this.removeLayer(...e),markDirty:()=>this.markDirty(),canvas:this.canvas,debug:$r.create("scene")}),this.markDirty())}get root(){return this._root}strip(){const{layers:n}=this;for(const t of n)t.canvas.destroy(),delete t.canvas;n.splice(0,n.length),this.root=null,this._dirty=!1,this.canvas.context.resetTransform()}destroy(){this.container=void 0,this.strip(),this.canvas.destroy(),Object.assign(this,{canvas:void 0,ctx:void 0})}render(n){return le(this,null,function*(){var t,e;const{debugSplitTimes:r={start:performance.now()},extraDebugStats:i={}}=n??{},{canvas:o,canvas:{context:a},root:s,layers:l,pendingSize:u,opts:{mode:c}}=this;if(u&&(this.canvas.resize(...u),this.layers.forEach(h=>h.canvas.resize(...u)),this.pendingSize=void 0),s&&!s.visible){this._dirty=!1;return}if(s&&!this.dirty){this.debug("Scene.render() - no-op",{redrawType:id[s.dirty],tree:this.buildTree(s)}),this.debugStats(r,a,void 0,i);return}const d={ctx:a,devicePixelRatio:(t=this.canvas.pixelRatio)!=null?t:1,forceRender:!0,resized:!!u,debugNodes:{}};$r.check("scene:stats:verbose")&&(d.stats={layersRendered:0,layersSkipped:0,nodesRendered:0,nodesSkipped:0});let p=!1;if((!s||s.dirty>=1)&&(p=!0,o.clear()),s&&$r.check("scene:dirtyTree")){const{dirtyTree:h,paths:f}=this.buildDirtyTree(s);$r.create("scene:dirtyTree")("Scene.render() - dirtyTree",{dirtyTree:h,paths:f})}s&&p&&(this.debug("Scene.render() - before",{redrawType:id[s.dirty],canvasCleared:p,tree:this.buildTree(s)}),s.visible&&(a.save(),s.render(d),a.restore())),r["✍️"]=performance.now(),c!==iM&&l.length>0&&p&&(this.sortLayers(),a.save(),a.setTransform(1/o.pixelRatio,0,0,1/o.pixelRatio,0,0),l.forEach(({canvas:{imageSource:h,enabled:f},getComputedOpacity:v,getVisibility:g})=>{!f||!g()||(a.globalAlpha=v(),a.drawImage(h,0,0))}),a.restore(),r["⛙"]=performance.now()),(e=a.verifyDepthZero)==null||e.call(a),this._dirty=!1,this.debugStats(r,a,d.stats,i),this.debugSceneNodeHighlight(a,d.debugNodes),s&&this.debug("Scene.render() - after",{redrawType:id[s.dirty],canvasCleared:p,tree:this.buildTree(s)})})}debugStats(n,t,e,r={}){if($r.check("scene:stats","scene:stats:verbose")){const i=performance.now(),o=n.start;n.end=performance.now();const a=(w,_)=>{const x=w+_;return`${w} / ${x} (${Math.round(100*w/x)}%)`},s=(w,_,x)=>`${w}: ${Math.round((x-_)*100)/100}ms`,{layersRendered:l=0,layersSkipped:u=0,nodesRendered:c=0,nodesSkipped:d=0}=e??{};let p=0;const h=Object.entries(n).filter(([w])=>w!=="end").map(([w,_],x)=>{const b=x>0?s(w,p,_):null;return p=_,b}).filter(w=>w!=null).join(" + "),f=Object.entries(r).map(([w,_])=>`${w}: ${_}`).join(" ; "),v=$r.check("scene:stats:verbose"),y=[`${s("⏱️",o,i)} (${h})`,`${f}`,`Layers: ${v?a(l,u):this.layers.length}`,v?`Nodes: ${a(c,d)}`:null].filter(w=>w!=null).map(w=>[w,Wr.getTextSize(w,t.font)]),m=Math.max(...y.map(([,{width:w}])=>w)),C=y.reduce((w,[,{height:_}])=>w+_,0);t.save(),t.fillStyle="white",t.fillRect(0,0,m,C),t.fillStyle="black";let S=0;for(const[w,_]of y)S+=_.height,t.fillText(w,2,S);t.restore()}}debugSceneNodeHighlight(n,t){var e;const r=a=>s=>a.test(s.id)?!0:s instanceof Ve&&s.name!=null&&a.test(s.name),i=a=>s=>a===s.id?!0:s instanceof Ve&&s.name!=null&&a===s.name,o=RO(pI("agChartsSceneDebug")).flatMap(a=>a==="layout"?["seriesRoot","legend","root",/.*Axis-\d+-axis.*/]:a);for(const a of o){if(typeof a=="string"&&t[a]!=null)continue;const s=typeof a=="string"?i(a):r(a),l=(e=this.root)==null?void 0:e.findNodes(s);if(!l||l.length===0){Oe.log(`Scene.render() - no debugging node with id [${a}] in scene graph.`);continue}for(const u of l)u instanceof Ve&&u.name?t[u.name]=u:t[u.id]=u}n.save();for(const[a,s]of Object.entries(t)){const l=s.computeTransformedBBox();if(!l){Oe.log(`Scene.render() - no bbox for debugged node [${a}].`);continue}n.globalAlpha=.8,n.strokeStyle="red",n.lineWidth=1,n.strokeRect(l.x,l.y,l.width,l.height),n.fillStyle="red",n.strokeStyle="white",n.font="16px sans-serif",n.textBaseline="top",n.textAlign="left",n.lineWidth=2,n.strokeText(a,l.x,l.y,l.width),n.fillText(a,l.x,l.y,l.width)}n.restore()}buildTree(n){var t,e;const r=(t=n instanceof Ve?n.name:null)!=null?t:n.id;return this.debug.check()?J(J({name:r,node:n,dirty:id[n.dirty]},(e=n.parent)!=null&&e.isVirtual?{virtualParentDirty:id[n.parent.dirty],virtualParent:n.parent}:{}),n.children.map(i=>this.buildTree(i)).reduce((i,o)=>{let{name:a}=o;const{node:{visible:s,opacity:l,zIndex:u,zIndexSubOrder:c},node:d,virtualParent:p}=o;(!s||l<=0)&&(a=`(${a})`),d instanceof Ve&&d.isLayer()&&(a=`*${a}*`);const h=[`${a??"<unknown>"}`,`z: ${u}`,c&&`zo: ${c.map(g=>typeof g=="function"?`${g()} (fn)`:g).join(" / ")}`,p&&"(virtual parent)"].filter(g=>!!g).join(" ");let f=h,v=1;for(;i[f]!=null&&v<100;)f=`${h} (${v++})`;return i[f]=o,i},{})):{}}buildDirtyTree(n){var t;if(n.dirty===0)return{dirtyTree:{},paths:[]};const e=n.children.map(o=>this.buildDirtyTree(o)).filter(o=>o.paths.length>0),r=(t=n instanceof Ve?n.name:null)!=null?t:n.id,i=e.length===0?[r]:e.map(o=>o.paths).reduce((o,a)=>o.concat(a),[]).map(o=>`${r}.${o}`);return{dirtyTree:J({name:r,node:n,dirty:id[n.dirty]},e.map(o=>o.dirtyTree).filter(o=>o.dirty!==void 0).reduce((o,a)=>{var s;return o[(s=a.name)!=null?s:"<unknown>"]=a,o},{})),paths:i}}};iB.className="Scene";function hje(n){return new Promise(t=>{setTimeout(()=>t(void 0),n)})}var fje=class{constructor(){this.cache=new WeakMap}call(n,...t){let e,r=this.cache.get(n);const i=()=>{try{const o=n(...t);return r&&e!=null&&r.set(e,o),o}catch(o){Oe.warnOnce("User callback errored, ignoring",o);return}};try{e=JSON.stringify(t)}catch{return i()}return r==null&&(r=new Map,this.cache.set(n,r)),r.has(e)?r.get(e):i()}invalidateCache(){this.cache=new WeakMap}},vje=class{constructor(){this.available=!0,this.acquireQueue=[]}acquire(n){return new Promise(t=>{this.acquireQueue.push([n,t]),this.available&&this.dispatchNext()})}acquireImmediately(n){return le(this,null,function*(){return this.available?(yield this.acquire(n),!0):!1})}waitForClearAcquireQueue(){return le(this,null,function*(){return this.acquire(()=>le(this,null,function*(){}))})}dispatchNext(){return le(this,null,function*(){var n,t;this.available=!1;let[e,r]=(n=this.acquireQueue.shift())!=null?n:[];for(;e;){try{yield e(),r==null||r()}catch(i){Oe.error("mutex callback error",i),r==null||r()}[e,r]=(t=this.acquireQueue.shift())!=null?t:[]}this.available=!0})}},qJ=class{constructor(){this.eventListeners=new Map}addEventListener(n,t){if(typeof t!="function")throw new Error("AG Charts - listener must be a Function");const e=this.eventListeners.get(n);e?e.add(t):this.eventListeners.set(n,new Set([t]))}removeEventListener(n,t){var e;(e=this.eventListeners.get(n))==null||e.delete(t),this.eventListeners.size===0&&this.eventListeners.delete(n)}hasEventListener(n){return this.eventListeners.has(n)}clearEventListeners(){this.eventListeners.clear()}fireEvent(n){var t;(t=this.eventListeners.get(n.type))==null||t.forEach(e=>e(n))}},vp=class extends nr{constructor(n=0,t=n,e=n,r=t){super(),this.top=n,this.right=t,this.bottom=e,this.left=r}clear(){this.top=this.right=this.bottom=this.left=0}};R([M(xe)],vp.prototype,"top",2);R([M(xe)],vp.prototype,"right",2);R([M(xe)],vp.prototype,"bottom",2);R([M(xe)],vp.prototype,"left",2);function gje(n){return ZJ((t,e)=>requestAnimationFrame(t),n)}function yje(n){return ZJ((t,e=0)=>setTimeout(t,e),n)}function ZJ(n,t){let e=0,r=!1,i,o;const a=()=>r,s=()=>{r=!1,o==null||o(),o=void 0,i=void 0,e>0&&n(l)},l=()=>{const u=e;e=0,r=!0;const c=t({count:u});if(!c){s();return}c.then(s,s)};return{schedule(u){e===0&&!a()&&n(l,u),e++},await(){return le(this,null,function*(){if(a())for(i==null&&(i=new Promise(u=>{o=u}));a();)yield i})}}}var Da=class{static init(t){if(typeof ResizeObserver>"u"){for(const[e,r]of this.elements)this.checkClientSize(e,r);return}this.resizeObserver=new ResizeObserver(e=>{for(const r of e){const{width:i,height:o}=r.contentRect;this.checkSize(this.elements.get(r.target),r.target,i,o)}}),this.ownerDocument=t,this.ready=!0,this.documentReady=t.readyState!=="loading",this.documentReady||t.addEventListener("DOMContentLoaded",this.onContentLoaded)}static destroy(){var t,e;(t=this.ownerDocument)==null||t.removeEventListener("DOMContentLoaded",this.onContentLoaded),(e=this.resizeObserver)==null||e.disconnect(),delete this.resizeObserver,delete this.ownerDocument,this.ready=!1}static checkSize(t,e,r,i){var o,a;t&&(r!==((o=t.size)==null?void 0:o.width)||i!==((a=t.size)==null?void 0:a.height))&&(t.size={width:r,height:i},t.cb(t.size,e))}static observe(t,e){var r;if(this.ready||this.init(t.ownerDocument),!this.documentReady){this.queuedObserveRequests.push([t,e]);return}this.elements.has(t)?this.removeFromQueue(t):(r=this.resizeObserver)==null||r.observe(t),this.elements.set(t,{cb:e})}static unobserve(t){var e;(e=this.resizeObserver)==null||e.unobserve(t),this.elements.delete(t),this.removeFromQueue(t),this.elements.size||this.destroy()}static removeFromQueue(t){this.queuedObserveRequests=this.queuedObserveRequests.filter(([e])=>e!==t)}static checkClientSize(t,e){var r,i;const o=(r=t.clientWidth)!=null?r:0,a=(i=t.clientHeight)!=null?i:0;this.checkSize(e,t,o,a)}};Da.elements=new Map;Da.ready=!1;Da.documentReady=!1;Da.queuedObserveRequests=[];Da.onContentLoaded=()=>{var n;const t=((n=Da.ownerDocument)==null?void 0:n.readyState)!=="loading",e=Da.documentReady;Da.documentReady=t,t&&t!==e&&(Da.queuedObserveRequests.forEach(([r,i])=>Da.observe(r,i)),Da.queuedObserveRequests=[])};var dz=Da,QJ=class{constructor(){this.range="tooltip"}};R([M(tn(["tooltip","node"],"a range"))],QJ.prototype,"range",2);var jC=(n=>(n[n.FULL=0]="FULL",n[n.UPDATE_DATA=1]="UPDATE_DATA",n[n.PROCESS_DATA=2]="PROCESS_DATA",n[n.PERFORM_LAYOUT=3]="PERFORM_LAYOUT",n[n.SERIES_UPDATE=4]="SERIES_UPDATE",n[n.TOOLTIP_RECALCULATION=5]="TOOLTIP_RECALCULATION",n[n.SCENE_RENDER=6]="SCENE_RENDER",n[n.NONE=7]="NONE",n))(jC||{}),oM=class{constructor(n){this.type=n,this.continuousDomain=[1/0,-1/0],this.discreteDomain=new Set}extend(n){this.type==="discrete"?this.discreteDomain.add(n):this.type==="continuous"&&(this.continuousDomain[0]>n&&(this.continuousDomain[0]=n),this.continuousDomain[1]<n&&(this.continuousDomain[1]=n))}getDomain(){if(this.type==="discrete")return this.discreteDomain;if(this.type==="continuous")return this.continuousDomain;throw new Error("AG Charts - Unsupported data domain type: "+this.type)}};function uC(n,t=[1/0,-1/0]){for(const e of n)typeof e=="number"&&(e<t[0]&&(t[0]=e),e>t[1]&&(t[1]=e));return t}function mje(n){return n.map(t=>nu(t)?JSON.stringify(t):t).join("-")}function Cje(n){return Number.isInteger(n)?n:Math.abs(n)>1e4?Math.trunc(n):Math.round(n*1e4)/1e4}function Sje(n){if(n===void 0)return[];let[t,e]=n;return t=Number(t),e=Number(e),t===0&&e===0?[0,1]:t===1/0&&e===-1/0?[]:(t===1/0&&(t=0),e===-1/0&&(e=0),Nt(t)&&Nt(e)?[t,e]:[])}function Ii(n,t){var e;const r=Sje(n);if(r.length===0)return r;let[i,o]=r;if(i===o){const[a,s]=(e=t==null?void 0:t.calculatePadding(i,o,t.isReversed()))!=null?e:[1,1];i-=a,o+=s}return[i,o]}function pz(){return new Map([[void 0,0]])}function oB(n,t){var e;return t===void 0?0:(e=t.get(n.id))!=null?e:0}var Fp=Symbol("invalid"),JJ=class{constructor(n){this.debug=$r.create(!0,"data-model");const{props:t,mode:e="standalone"}=n;this.mode=e;let r=!0;for(const a of t){if(a.type==="key"&&!r)throw new Error("AG Charts - internal config error: keys must come before values.");a.type==="value"&&r&&(r=!1)}this.opts=J({dataVisible:!0},n),this.keys=t.filter(a=>a.type==="key").map((a,s)=>Te(J({},a),{index:s,missing:pz()})),this.values=t.filter(a=>a.type==="value").map((a,s)=>Te(J({},a),{index:s,missing:pz()})),this.aggregates=t.filter(a=>a.type==="aggregate").map((a,s)=>Te(J({},a),{index:s})),this.groupProcessors=t.filter(a=>a.type==="group-value-processor").map((a,s)=>Te(J({},a),{index:s})),this.propertyProcessors=t.filter(a=>a.type==="property-value-processor").map((a,s)=>Te(J({},a),{index:s})),this.reducers=t.filter(a=>a.type==="reducer").map((a,s)=>Te(J({},a),{index:s})),this.processors=t.filter(a=>a.type==="processor").map((a,s)=>Te(J({},a),{index:s}));for(const a of this.values)if(a.property==null)throw new Error(`AG Charts - internal config error: no properties specified for value definitions: ${JSON.stringify(a)}`);const i=({matchGroupIds:a})=>{for(const s of a??[])if(!this.values.some(l=>l.groupId===s))throw new Error(`AG Charts - internal config error: matchGroupIds properties must match defined groups (${s}).`)},o=({matchIds:a})=>{for(const s of a??[])if(!this.values.some(l=>{var u;return(u=l.ids)==null?void 0:u.some(([c,d])=>c===s[0]&&d===s[1])}))throw new Error(`AG Charts - internal config error: matchGroupIds properties must match defined groups (${s}).`)};for(const a of[...this.groupProcessors,...this.aggregates])o(a),i(a)}resolveProcessedDataIndexById(n,t){var e;const{index:r,def:i}=(e=this.resolveProcessedDataDefById(n,t))!=null?e:{};return{index:r,def:i}}resolveProcessedDataIndicesById(n,t){return this.resolveProcessedDataDefsById(n,t).map(({index:e,def:r})=>({index:e,def:r}))}resolveProcessedDataDefById(n,t){return this.resolveProcessedDataDefsById(n,t)[0]}resolveProcessedDataDefsByIds(n,t){const e=[];for(const r of t)e.push([r,this.resolveProcessedDataDefsById(n,r)]);return e}resolveProcessedDataDefsValues(n,{keys:t,values:e}){const r={};for(const[i,[{index:o,def:a}]]of n){const s=a.type==="key"?t:e;r[i]=s[o]}return r}resolveProcessedDataDefsById(n,t){const{keys:e,values:r,aggregates:i,groupProcessors:o,reducers:a}=this,s=c=>{const{ids:d,scopes:p}=c;return d==null||n!=null&&!(p!=null&&p.some(h=>h===n.id))?!1:d.some(([h,f])=>h===n.id&&(typeof t=="string"?f===t:t.test(f)))},l=[e,r,i,o,a],u=[];for(const c of l)u.push(...c.filter(s).map(d=>({index:d.index,def:d})));if(u.length>0)return u;throw new Error(`AG Charts - didn't find property definition for [${t}, ${n.id}]`)}getDomain(n,t,e="value",r){var i,o,a,s;let l;try{l=this.resolveProcessedDataIndicesById(n,t)}catch(p){if(typeof t!="string"&&/didn't find property definition/.test(p.message))return[];throw p}let u;switch(e){case"key":u="keys";break;case"value":u="values";break;case"aggregate":u="aggValues";break;case"group-value-processor":u="groups";break;default:return[]}const c=(o=(i=r.domain[u])==null?void 0:i[l[0].index])!=null?o:[];if(l.length===1)return c;const d=[...c];for(const p of l.slice(1))uC((s=(a=r.domain[u])==null?void 0:a[p.index])!=null?s:[],d);return d}processData(n,t){const{opts:{groupByKeys:e,groupByFn:r},aggregates:i,groupProcessors:o,reducers:a,processors:s,propertyProcessors:l}=this,u=performance.now();if(e&&this.keys.length===0)return;let c=this.extractData(n,t);e?c=this.groupData(c):r&&(c=this.groupData(c,r(c))),o.length>0&&this.postProcessGroups(c),i.length>0&&this.aggregateData(c),l.length>0&&this.postProcessProperties(c),a.length>0&&this.reduceData(c),s.length>0&&this.postProcessData(c);for(const p of[...this.keys,...this.values])if(n.length>0){for(const[h,f]of p.missing)if(f>=n.length){const v=h===void 0?"":` for ${h}`;Oe.warnOnce(`the key '${p.property}' was not found in any data element${v}.`)}}const d=performance.now();return c.time=d-u,this.debug.check()&&wje(c),c}valueGroupIdxLookup({matchGroupIds:n,matchIds:t}){return this.values.map((e,r)=>({def:e,index:r})).filter(({def:e})=>n&&(e.groupId==null||!n.includes(e.groupId))?!1:t?e.ids==null?!1:t.some(([r,i])=>{var o;return(o=e.ids)==null?void 0:o.some(([a,s])=>a===r&&s===i)}):!0).map(({index:e})=>e)}valueIdxLookup(n,t){const e=n==null||n.length===0,r=s=>{if(s==null)return!0;const u=s==null||s.length===0;return e===u?!0:s==null?void 0:s.some(c=>n.includes(c))},i=typeof t=="string"?t:t.id,o=([s,l])=>r([s])&&l===i,a=this.values.findIndex(s=>{var l;return r(s.scopes)&&(((l=s.ids)==null?void 0:l.some(u=>o(u)))||s.property===i||s.id===i)});if(a>=0)return a;throw new Error(`AG Charts - configuration error, unknown property ${JSON.stringify(t)} in scope(s) ${JSON.stringify(n)}`)}extractData(n,t){var e,r,i,o,a,s;const{keys:l,values:u,opts:{dataVisible:c}}=this,{dataDomain:d,processValue:p,scopes:h,allScopesHaveSameDefs:f}=this.initDataDomainProcessor(),v=new Array(c?n.length:0);let g=0,y=0;for(const[C,S]of n.entries()){const w={},_=h.size>0?new Set(h):void 0,x=c?new Array(l.length):void 0;let b=0,O;for(const L of l){if(O=p(L,S,O),O===Fp)break;x&&(x[b++]=O)}if(O===Fp)continue;const P=c&&u.length>0?new Array(u.length):void 0;let D;const N={};for(const L of t??[])N[L.id]=L;for(const[L,I]of u.entries()){for(const k of(e=I.scopes)!=null?e:h){const H=N[k],$=(r=H==null?void 0:H.data[C])!=null?r:S;D=p(I,$,D,k),!(D===Fp||!P)&&(H!==void 0&&((o=w[i=H.id])!=null||(w[i]={}),w[H.id][I.property]=D),I.useScopedValues?((a=P[L])!=null||(P[L]={}),P[L][k]=D):P[L]=D)}if(D===Fp){if(f)break;for(const k of(s=I.scopes)!=null?s:h)_==null||_.delete(k);if((_==null?void 0:_.size)===0)break}}if(!(D===Fp&&f)&&(_==null?void 0:_.size)!==0&&c){const L={datum:J(J({},S),w),keys:x,values:P};!f&&_&&_.size<h.size&&(y++,L.validScopes=[..._]),v[g++]=L}}v.length=g;const m=C=>{const S=d.get(C).getDomain();return Array.isArray(S)&&S[0]>S[1]?[]:[...S]};return{type:"ungrouped",input:{count:n.length},data:v,domain:{keys:l.map(C=>m(C)),values:u.map(C=>m(C))},defs:{allScopesHaveSameDefs:f,keys:l,values:u},partialValidDataCount:y,time:0}}groupData(n,t){var e,r,i,o;const a=new Map;for(const c of n.data){const{keys:d,values:p,datum:h,validScopes:f}=c,v=t?t(c):d,g=mje(v);if(a.has(g)){const y=a.get(g);if(y.values.push(p),y.datum.push(h),f!=null)for(let m=0;m<((r=(e=y.validScopes)==null?void 0:e.length)!=null?r:0);m++){const C=(i=y.validScopes)==null?void 0:i[m];f.some(S=>S===C)||(o=y.validScopes)==null||o.splice(m,1)}}else a.set(g,{keys:v,values:[p],datum:[h],validScopes:f})}const s=new Array(a.size),l=new Array(a.size);let u=0;for(const[,{keys:c,values:d,datum:p,validScopes:h}]of a.entries())(h==null?void 0:h.length)!==0&&(l[u]=c,s[u++]={keys:c,values:d,datum:p,validScopes:h});return Te(J({},n),{type:"grouped",data:s,domain:Te(J({},n.domain),{groups:l})})}aggregateData(n){var t,e,r,i,o,a,s,l;const{aggregates:u}=this;if(!u)return;const c=u.map(()=>[1/0,-1/0]),d=u.map(v=>this.valueGroupIdxLookup(v)),p=u.map(v=>v.aggregateFunction),h=u.map(v=>v.groupAggregateFunction),f=u.map(v=>v.finalFunction);for(const v of n.data){let{values:g}=v;const{validScopes:y}=v;(t=v.aggValues)!=null||(v.aggValues=new Array(d.length)),n.type==="ungrouped"&&(g=[g]);let m=0;for(const C of d){if(!((e=y==null?void 0:y.some(x=>{var b;return(b=u[m].matchScopes)==null?void 0:b.some(O=>x===O)}))!=null?e:!0)){m++;continue}let w=(i=(r=h[m])==null?void 0:r.call(h))!=null?i:uC([]);for(const x of g){const b=C.map(P=>x[P]),O=p[m](b,v.keys);O&&(w=(a=(o=h[m])==null?void 0:o.call(h,O,w))!=null?a:uC(O,w))}const _=((l=(s=f[m])==null?void 0:s.call(f,w))!=null?l:w).map(x=>Cje(x));uC(_,c[m]),v.aggValues[m++]=_}}n.domain.aggValues=c}postProcessGroups(n){var t,e,r,i,o;const{groupProcessors:a}=this;if(!a)return;const s=new Set,l=new Map,u=new Map,c=new Map;for(const p of a){const h=this.valueGroupIdxLookup(p);u.set(p,h),c.set(p,p.adjust());for(const f of h){const v=this.values[f];s.add(f),l.set(f,new oM(v.valueType==="category"?"discrete":"continuous"))}}const d=p=>{var h;for(const f of s)(h=l.get(f))==null||h.extend(p[f])};for(const p of n.data){for(const h of a){if(!((e=(t=p.validScopes)==null?void 0:t.some(y=>{var m;return(m=h.matchScopes)==null?void 0:m.some(C=>y===C)}))!=null?e:!0))continue;const v=(r=u.get(h))!=null?r:[],g=(o=(i=c.get(h))==null?void 0:i())!=null?o:()=>{};if(n.type==="grouped"){for(const y of p.values)y&&g(y,v);continue}p.values&&g(p.values,v)}if(n.type==="grouped")for(const h of p.values)d(h);else d(p.values)}for(const[p,h]of l)n.domain.values[p]=[...h.getDomain()]}postProcessProperties(n){const{propertyProcessors:t}=this;if(t)for(const{adjust:e,property:r,scopes:i}of t)e()(n,this.valueIdxLookup(i??[],r))}reduceData(n){var t,e,r;const{reducers:i}=this,o=i.map(l=>l.scopes),a=i.map(l=>l.reducer()),s=i.map(l=>l.initialValue);for(const l of n.data){let u=0;for(const c of a){if(!((e=(t=l.validScopes)==null?void 0:t.some(p=>{var h;return(h=o[u])==null?void 0:h.some(f=>p===f)}))!=null?e:!0)){u++;continue}s[u]=c(s[u],l),u++}}for(let l=0;l<s.length;l++)(r=n.reduced)!=null||(n.reduced={}),n.reduced[i[l].property]=s[l]}postProcessData(n){var t;const{processors:e}=this;for(const r of e)(t=n.reduced)!=null||(n.reduced={}),n.reduced[r.property]=r.calculate(n)}initDataDomainProcessor(){var n;const{keys:t,values:e}=this,r=new Set;for(const p of e)for(const h of(n=p.scopes)!=null?n:[])r.add(h);const i=r.size,o=new Map,a=new Map;let s=!0;const l=(p,h,f=o)=>{var v;h==="category"?f.set(p,new oM("discrete")):(f.set(p,new oM("continuous")),s&&(s=((v=p.scopes)!=null?v:[]).length===i))},u=()=>{t.forEach(p=>l(p,p.valueType)),e.forEach(p=>l(p,p.valueType))};u();const c=this.buildAccessors(...t,...e);return{dataDomain:o,processValue:(p,h,f,v)=>{var g,y,m,C,S;const w=p.property in c;let _=!1,x;if(w){try{x=c[p.property](h)}catch{}_=x!==void 0}else _=p.property in h,x=_?h[p.property]:p.missingValue;p.forceValue!=null&&(x=_&&t0(x)?-1*p.forceValue:p.forceValue,_=!0);const b="missingValue"in p;if(!_&&!b){const O=(g=p.missing.get(v))!=null?g:0;p.missing.set(v,O+1)}if(o.has(p)||u(),_&&!((m=(y=p.validation)==null?void 0:y.call(p,x,h))!=null?m:!0))if("invalidValue"in p)x=p.invalidValue;else return this.mode!=="integrated"&&Oe.warnOnce(`invalid value of type [${typeof x}] ignored:`,`[${x}]`),Fp;return p.processor&&(a.has(p)||a.set(p,p.processor()),x=(C=a.get(p))==null?void 0:C(x,f!==Fp?f:void 0)),(S=o.get(p))==null||S.extend(x),x},initDataDomain:u,scopes:r,allScopesHaveSameDefs:s}}buildAccessors(...n){const t={};if(this.mode==="integrated")return t;for(const e of n){if(!(e.property.indexOf(".")>=0||e.property.indexOf("[")>=0))continue;let i;e.property.startsWith("[")?i=`return datum${e.property};`:i=`return datum.${e.property};`,t[e.property]=new Function("datum",i)}return t}};function wje(n){var t,e;const r=(i,o)=>{o.length>0&&(Oe.log(`DataModel.processData() - ${i}`),Oe.table(o))};if(Oe.log("DataModel.processData() - processedData",n),r("Key Domains",n.domain.keys),r("Group Domains",(t=n.domain.groups)!=null?t:[]),r("Value Domains",n.domain.values),r("Aggregate Domains",(e=n.domain.aggValues)!=null?e:[]),n.type==="grouped"){const i=n.data.reduce((o,a)=>{var s,l;const u=(s=a.keys)!=null?s:[],c=(l=a.aggValues)!=null?l:[],d=a.keys.map(()=>{}),p=c==null?void 0:c.map(()=>{});return o.push(...a.values.map((h,f)=>[...f===0?u:d,...h??[],...f==0?c:p])),o},[]);r("Values",i)}else{const i=n.data.reduce((o,a)=>{var s;const l=(s=a.aggValues)!=null?s:[];return o.push([...a.keys,...a.values,...l]),o},[]);r("Values",i)}}var eee=class{constructor(n){this.mode=n,this.debug=$r.create(!0,"data-model"),this.requested=[],this.status="setup"}request(n,t,e){return le(this,null,function*(){if(this.status!=="setup")throw new Error("AG Charts - data request after data setup phase.");return new Promise((r,i)=>{this.requested.push({id:n,opts:e,data:t,resultCb:r,reject:i})})})}execute(){if(this.status!=="setup")throw new Error("AG Charts - data request after data setup phase.");this.status="executed",this.debug("DataController.execute() - requested",this.requested);const{valid:n,invalid:t}=this.validateRequests(this.requested);this.debug("DataController.execute() - validated",n);const e=this.mergeRequested(n);this.debug("DataController.execute() - merged",e),this.debug.check()&&(window.processedData=[]);const r=n.some(i=>i.data!=null);for(const{opts:i,data:o,resultCbs:a,rejects:s,ids:l}of e){const u=r||i.props.some(c=>{var d;return c.type!=="value"&&c.type!=="key"?!1:(d=c.useScopedValues)!=null?d:!1});try{const c=new JJ(Te(J({},i),{mode:this.mode})),d=c.processData(o,n);this.debug.check()&&window.processedData.push(d),d&&d.partialValidDataCount===0?a.forEach((p,h)=>{const f=l[h];let v=d;u&&(v=this.extractScopedData(f,d)),p({dataModel:c,processedData:v})}):d?this.splitResult(c,d,l,a):s.forEach(p=>p(new Error("AG Charts - no processed data generated")))}catch(c){s.forEach(d=>d(c))}}t.forEach(({error:i,reject:o})=>o(i))}extractScopedData(n,t){const e=i=>Array.isArray(i)?i.map(e):J(J({},i),i[n]),r=i=>{var o;return Array.isArray(i)?i.map(r):(o=i==null?void 0:i[n])!=null?o:i};return Te(J({},t),{data:t.data.map(i=>Te(J({},i),{datum:e(i.datum),values:i.values.map(r)}))})}validateRequests(n){const t=[],e=[];for(const[r,i]of n.entries())r>0&&i.data.length!==n[0].data.length&&i.opts.groupByData===!1?e.push(Te(J({},i),{error:new Error("all series[].data arrays must be of the same length and have matching keys.")})):t.push(i);return{valid:t,invalid:e}}mergeRequested(n){const t=[],e=l=>l.filter(u=>u.type==="key").map(u=>u.property).join(";"),r=({opts:l,data:u})=>c=>(l.groupByData===!1||c[0].data===u)&&c[0].opts.groupByKeys===l.groupByKeys&&c[0].opts.dataVisible===l.dataVisible&&c[0].opts.groupByFn===l.groupByFn&&e(c[0].opts.props)===e(l.props),i=l=>u=>{var c;if(u.type!==l.type)return!1;const d=(c=da(u,l))!=null?c:{};return delete d.scopes,delete d.id,delete d.ids,"useScopedValues"in d&&delete d.useScopedValues,Object.keys(d).length===0},o=l=>{var u;if(l.type!=="key"&&l.type!=="value")return;const c=new Set((u=l.scopes)!=null?u:[]);l.useScopedValues=c.size>1},a=l=>Te(J({},l[0]),{props:l.reduce((u,c)=>{var d,p,h,f,v,g;for(const y of c.props){if(y.id!=null){(d=y.ids)!=null||(y.ids=[]);for(const C of(p=y.scopes)!=null?p:[])y.ids.push([C,y.id])}const m=u.find(i(y));if(!m){o(y),u.push(y);continue}(h=m.scopes)!=null||(m.scopes=[]),m.scopes.push(...(f=y.scopes)!=null?f:[]),o(y),(m.type==="key"||m.type==="value")&&((v=y.ids)!=null&&v.length)&&((g=m.ids)==null||g.push(...y.ids))}return u},[])}),s=l=>({ids:l.map(({id:u})=>u),resultCbs:l.map(({resultCb:u})=>u),rejects:l.map(({reject:u})=>u),data:l[0].data,opts:a(l.map(({opts:u})=>u))});for(const l of n){const u=t.find(r(l));u?u.push(l):t.push([l])}return t.map(s)}splitResult(n,t,e,r){for(let i=0;i<e.length;i++){const o=e[i],a=r[i];a({dataModel:n,processedData:Te(J({},t),{data:t.data.filter(({validScopes:s})=>s==null||s.some(l=>l===o))})})}}},ay=class{constructor(){this.registeredListeners=new Map}addListener(n,t){const e={symbol:Symbol(n),handler:t};return this.registeredListeners.has(n)?this.registeredListeners.get(n).push(e):this.registeredListeners.set(n,[e]),()=>this.removeListener(e.symbol)}removeListener(n){for(const[t,e]of this.registeredListeners.entries()){const r=e.findIndex(i=>i.symbol===n);if(r>=0){e.splice(r,1),e.length===0&&this.registeredListeners.delete(t);break}}}dispatch(n,...t){for(const e of this.getListenersByType(n))try{e.handler(...t)}catch(r){Oe.errorOnce(r)}}dispatchWrapHandlers(n,t,...e){for(const r of this.getListenersByType(n))try{t(r.handler,...e)}catch(i){Oe.errorOnce(i)}}getListenersByType(n){var t;return(t=this.registeredListeners.get(n))!=null?t:[]}destroy(){this.registeredListeners.clear()}},oP=class extends ay{constructor(n){super(),this.animationManager=n,this.dispatchOnlyLatest=!0,this.dispatchThrottle=0,this.requestThrottle=300,this.isLoadingInitialData=!1,this.freshRequests=[],this.requestCounter=0,this.debug=$r.create(!0,"data-model","data-source"),this.throttledFetch=this.createThrottledFetch(this.requestThrottle),this.throttledDispatch=this.createThrottledDispatch(this.dispatchThrottle)}updateCallback(n){typeof n=="function"&&(this.debug("DataService - updated data source callback"),this.dataSourceCallback=n,this.isLoadingInitialData=!0,this.animationManager.skip(),this.dispatch("data-source-change"))}clearCallback(){this.dataSourceCallback=void 0}load(n){this.throttledFetch(n)}isLazy(){return this.dataSourceCallback!=null}isLoading(){return this.isLazy()&&(this.isLoadingInitialData||this.freshRequests.length>0)}createThrottledFetch(n){return zU(t=>this.fetch(t),n,{leading:!1,trailing:!0})}createThrottledDispatch(n){return zU((t,e)=>{this.debug(`DataService - dispatching 'data-load' | ${t}`),this.dispatch("data-load",{type:"data-load",data:e})},n,{leading:!0,trailing:!0})}fetch(n){return le(this,null,function*(){if(!this.dataSourceCallback)throw new Error("DataService - [dataSource.getData] callback not initialised");const t=performance.now(),e=this.requestCounter++;this.debug(`DataService - requesting | ${e}`),this.freshRequests.push(e);let r;try{r=yield this.dataSourceCallback(n),this.debug(`DataService - response | ${performance.now()-t}ms | ${e}`)}catch(o){this.debug(`DataService - request failed | ${e}`),Oe.errorOnce(`DataService - request failed | [${o}]`)}this.isLoadingInitialData=!1;const i=this.freshRequests.findIndex(o=>o===e);if(i===-1||this.dispatchOnlyLatest&&i!==this.freshRequests.length-1){this.debug(`DataService - discarding stale request | ${e}`);return}this.freshRequests=this.freshRequests.slice(i+1),Array.isArray(r)?this.throttledDispatch(e,r):this.dispatch("data-error")})}};R([An({newValue(n){this.throttledDispatch=this.createThrottledDispatch(n)}})],oP.prototype,"dispatchThrottle",2);R([An({newValue(n){this.throttledFetch=this.createThrottledFetch(n)}})],oP.prototype,"requestThrottle",2);var _je=[!0,"animation"],hz=class{constructor(){this.stoppedCbs=new Set,this.controllers=new Map,this.debug=$r.create(..._je),this.currentPhase=0,this.phases=new Map(oh.map(n=>[n,[]])),this.skipAnimations=!1}get size(){return this.controllers.size}isActive(){return this.controllers.size>0}getActiveControllers(){var n;return(n=this.phases.get(oh[this.currentPhase]))!=null?n:[]}checkOverlappingId(n){n!=null&&this.controllers.has(n)&&(this.controllers.get(n).stop(),this.debug(`Skipping animation batch due to update of existing animation: ${n}`),this.skip())}addAnimation(n){var t;if(n.isComplete)return;if(oh.indexOf(n.phase)<this.currentPhase){this.debug("Skipping animation due to being for an earlier phase",n.id),n.stop();return}this.controllers.set(n.id,n),(t=this.phases.get(n.phase))==null||t.push(n)}removeAnimation(n){this.controllers.delete(n.id);const t=this.phases.get(n.phase),e=t==null?void 0:t.indexOf(n);e!=null&&e>=0&&(t==null||t.splice(e,1))}progress(n){const t=oh[this.currentPhase];let e=[...this.getActiveControllers()];const r=this.controllers.size;this.debug(`AnimationBatch - progressing by ${n}; current phase ${t} with ${e==null?void 0:e.length} active controllers of ${r} total`,this.phases);let i=n===0?.01:n;const o=()=>oh[this.currentPhase]==null,a=()=>{for(e=[...this.getActiveControllers()];!o()&&e.length===0;)this.currentPhase++,e=[...this.getActiveControllers()],this.debug(`AnimationBatch - phase changing to ${oh[this.currentPhase]}`,{unusedTime:i},e)};for(;i>0&&!o();){a();const s=i;let l=0;for(const u of e)i=Math.min(u.update(s),i),u.isComplete&&(l++,this.removeAnimation(u));this.debug(`AnimationBatch - updated ${e.length} controllers; ${l} completed`)}}skip(n=!0){if(this.skipAnimations===!1&&n===!0){for(const t of this.controllers.values())t.stop();this.controllers.clear()}this.skipAnimations=n}play(){for(const n of this.controllers.values())n.play()}pause(){for(const n of this.controllers.values())n.pause()}stop(){for(const n of this.controllers.values())try{n.stop(),this.removeAnimation(n)}catch(t){Oe.error("Error during animation stop",t)}this.dispatchStopped()}stopByAnimationId(n){if(n!=null&&this.controllers.has(n)){const t=this.controllers.get(n);t&&(t.stop(),this.removeAnimation(t))}}stopByAnimationGroupId(n){for(const t of this.controllers.values())t.groupId===n&&this.stopByAnimationId(t.id)}dispatchStopped(){this.stoppedCbs.forEach(n=>n()),this.stoppedCbs.clear()}isSkipped(){return this.skipAnimations}destroy(){}},Ef=class{constructor(){this.listeners=new ay}addListener(n,t){return this.listeners.addListener(n,t)}removeListener(n){this.listeners.removeListener(n)}destroy(){this.listeners.destroy()}},tee=["click","dblclick","contextmenu","hover","drag-start","drag","drag-end","leave","page-left","wheel"],fz=["pagehide","mousemove","mouseup"],vz=["click","dblclick","contextmenu","mousedown","mouseout","mouseenter","touchstart","touchmove","touchend","touchcancel","wheel"],xje=`
.ag-chart-wrapper {
    touch-action: none;
}
`,DO=(n=>(n[n.Default=8]="Default",n[n.ZoomDrag=4]="ZoomDrag",n[n.ContextMenu=2]="ContextMenu",n[n.Animation=1]="Animation",n[n.All=15]="All",n))(DO||{}),Eje=[!0,"interaction"],aB=class cC extends Ef{constructor(t,e,r){super(),this.debug=$r.create(...Eje),this.eventHandler=i=>this.processEvent(i),this.mouseDown=!1,this.touchDown=!1,this.stateQueue=8,this.rootElement=e.body,this.element=t,this.window=r;for(const i of vz)i.startsWith("touch")?t.addEventListener(i,this.eventHandler,{passive:!0}):i==="wheel"?t.addEventListener(i,this.eventHandler,{passive:!1}):t.addEventListener(i,this.eventHandler);for(const i of fz)this.window.addEventListener(i,this.eventHandler);cC.interactionDocuments.includes(e)||(rP(e,xje),cC.interactionDocuments.push(e))}destroy(){super.destroy();for(const t of fz)this.window.removeEventListener(t,this.eventHandler);for(const t of vz)this.element.removeEventListener(t,this.eventHandler)}addListener(t,e,r=8){return super.addListener(t,i=>{this.getState()&r&&e(i)})}pushState(t){this.stateQueue|=t}popState(t){this.stateQueue&=~t}getState(){return this.stateQueue&-this.stateQueue}processEvent(t){const e=this.decideInteractionEventTypes(t);e.length>0&&this.dispatchEvent(t,e).catch(r=>Oe.errorOnce(r))}dispatchEvent(t,e){return le(this,null,function*(){const r=this.calculateCoordinates(t);if(r!=null)for(const i of e)this.listeners.dispatchWrapHandlers(i,(o,a)=>{a.consumed||o(a)},this.buildEvent(J({type:i,event:t},r)))})}decideInteractionEventTypes(t){const e="drag-start";switch(t.type){case"click":case"dblclick":case"contextmenu":case"wheel":return[t.type];case"mousedown":return this.mouseDown=!0,this.dragStartElement=t.target,[e];case"touchstart":return this.touchDown=!0,this.dragStartElement=t.target,[e];case"touchmove":case"mousemove":return!this.mouseDown&&!this.touchDown&&!this.isEventOverElement(t)?[]:this.mouseDown||this.touchDown?["drag"]:["hover"];case"mouseup":return!this.mouseDown&&!this.isEventOverElement(t)?[]:(this.mouseDown=!1,this.dragStartElement=void 0,["drag-end"]);case"touchend":return!this.touchDown&&!this.isEventOverElement(t)?[]:(this.touchDown=!1,this.dragStartElement=void 0,["drag-end"]);case"mouseout":case"touchcancel":return["leave"];case"mouseenter":const r=t instanceof MouseEvent&&(t.buttons&1)===1;return this.mouseDown!==r?(this.mouseDown=r,[r?e:"drag-end"]):[];case"pagehide":return["page-left"]}return[]}isEventOverElement(t){var e;return t.target===this.element||((e=t.target)==null?void 0:e.parentElement)===this.element}calculateCoordinates(t){var e;if(t instanceof MouseEvent)return this.getMouseEventCoords(t);if(typeof TouchEvent<"u"&&t instanceof TouchEvent){const r=(e=t.touches[0])!=null?e:t.changedTouches[0],{clientX:i,clientY:o,pageX:a,pageY:s}=r;return Te(J({},cC.NULL_COORDS),{clientX:i,clientY:o,pageX:a,pageY:s})}else if(t instanceof PageTransitionEvent)return t.persisted?void 0:cC.NULL_COORDS}getMouseEventCoords(t){const{clientX:e,clientY:r,pageX:i,pageY:o}=t;let{offsetX:a,offsetY:s}=t;const l=u=>{let c=0,d=0;for(;u;)c+=u.offsetLeft,d+=u.offsetTop,u=u.offsetParent;return{x:c,y:d}};if(this.dragStartElement!=null&&t.target!==this.dragStartElement){const u=l(this.dragStartElement),c=l(t.target);a-=u.x-c.x,s-=u.y-c.y}return{clientX:e,clientY:r,pageX:i,pageY:o,offsetX:a,offsetY:s}}isWheelEvent(t){return t.type==="wheel"}buildEvent(t){const{type:e,event:r,clientX:i,clientY:o}=t;let{offsetX:a,offsetY:s,pageX:l,pageY:u}=t;if(!Nt(a)||!Nt(s)){const f=this.element.getBoundingClientRect();a=i-f.left,s=o-f.top}if(!Nt(l)||!Nt(u)){const f=this.rootElement.getBoundingClientRect();l=i-f.left,u=o-f.top}const c=f=>{const m=Math.sign(f);return(Math.log10(Math.abs(f)/60+.1)*3+3)*m};let[d,p]=[NaN,NaN];if(this.isWheelEvent(r)){const f=r.deltaMode===0?c:v=>v;d=f(r.deltaX),p=f(r.deltaY)}const h={type:e,offsetX:a,offsetY:s,pageX:l,pageY:u,deltaX:d,deltaY:p,sourceEvent:r,consumed:!1,consume(){h.consumed=!0}};return this.debug("InteractionManager - builtEvent: ",h),h}};aB.interactionDocuments=[];aB.NULL_COORDS={clientX:-1/0,clientY:-1/0,pageX:-1/0,pageY:-1/0,offsetX:-1/0,offsetY:-1/0};var ree=aB,bje=[!0,"animation"],nee=class extends Ef{constructor(n,t){super(),this.interactionManager=n,this.chartUpdateMutex=t,this.defaultDuration=1e3,this.batch=new hz,this.debug=$r.create(...bje),this.rafAvailable=typeof requestAnimationFrame<"u",this.isPlaying=!1,this.requestId=null,this.skipAnimations=!1}animate(n){var t=n,e=En(t,["disableInteractions"]),r;const i=this.batch;try{i.checkOverlappingId(e.id)}catch(l){this.failsafeOnError(l);return}const o=(r=e.id)!=null?r:Math.random().toString(),a=this.isSkipped();a&&this.debug("AnimationManager - skipping animation");const s=new rJ(Te(J({},e),{id:o,skip:a,autoplay:this.isPlaying?e.autoplay:!1,phase:e.phase,defaultDuration:this.defaultDuration}));if(!this.forceTimeJump(s,this.defaultDuration))return this.batch.addAnimation(s),s}play(){if(!this.isPlaying){this.isPlaying=!0,this.debug("AnimationManager.play()");try{this.batch.play()}catch(n){this.failsafeOnError(n)}this.requestAnimation()}}pause(){if(this.isPlaying){this.isPlaying=!1,this.cancelAnimation(),this.debug("AnimationManager.pause()");try{this.batch.pause()}catch(n){this.failsafeOnError(n)}}}stop(){this.isPlaying=!1,this.cancelAnimation(),this.debug("AnimationManager.stop()"),this.batch.stop()}stopByAnimationId(n){try{this.batch.stopByAnimationId(n)}catch(t){this.failsafeOnError(t)}}stopByAnimationGroupId(n){try{this.batch.stopByAnimationGroupId(n)}catch(t){this.failsafeOnError(t)}}reset(){this.isPlaying?(this.stop(),this.play()):this.stop()}skip(n=!0){this.skipAnimations=n}isSkipped(){return!this.rafAvailable||this.skipAnimations||this.batch.isSkipped()}isActive(){return this.isPlaying&&this.batch.isActive()}skipCurrentBatch(){this.debug.check()&&this.debug("AnimationManager - skipCurrentBatch()",{stack:new Error().stack}),this.batch.skip()}isSkippingFrames(){return!0}scheduleAnimationFrame(n){this.requestId=requestAnimationFrame(n)}forceTimeJump(n,t){return!1}requestAnimation(){if(!this.rafAvailable||!this.batch.isActive()||this.requestId!==null)return;let n;const t=e=>le(this,null,function*(){const r=()=>le(this,null,function*(){const i=e-(n??e);n=e,this.debug("AnimationManager - onAnimationFrame()",{controllersCount:this.batch.size,deltaTime:i}),this.interactionManager.pushState(1);try{this.batch.progress(i)}catch(o){this.failsafeOnError(o)}this.listeners.dispatch("animation-frame",{type:"animation-frame",deltaMs:i})});this.isSkippingFrames()?yield this.chartUpdateMutex.acquireImmediately(r):yield this.chartUpdateMutex.acquire(r),this.batch.isActive()?this.scheduleAnimationFrame(t):this.batch.stop()});this.scheduleAnimationFrame(t)}cancelAnimation(){this.requestId!==null&&(cancelAnimationFrame(this.requestId),this.requestId=null,this.startBatch())}failsafeOnError(n,t=!0){Oe.error("Error during animation, skipping animations",n),t&&this.cancelAnimation()}startBatch(n){this.debug(`AnimationManager - startBatch() with skipAnimations=${n}.`),this.reset(),this.batch.stop(),this.batch.destroy(),this.batch=new hz,n===!0&&this.batch.skip()}endBatch(){this.debug(`AnimationManager - endBatch() with ${this.batch.size} animations; skipped: ${this.batch.isSkipped()}.`),this.batch.isActive()||this.interactionManager.popState(1),this.batch.isSkipped()&&!this.batch.isActive()&&this.batch.skip(!1),this.requestAnimation()}onBatchStop(n){this.batch.stoppedCbs.add(n)}},iee=class extends Ef{legendItemClick(n,t,e,r){const i={type:"legend-item-click",series:n,itemId:t,enabled:e,legendItemName:r};this.listeners.dispatch("legend-item-click",i)}legendItemDoubleClick(n,t,e,r,i){const o={type:"legend-item-double-click",series:n,itemId:t,enabled:e,legendItemName:i,numVisibleItems:r};this.listeners.dispatch("legend-item-double-click",o)}axisHover(n,t){const e={type:"axis-hover",axisId:n,direction:t};this.listeners.dispatch("axis-hover",e)}},oee=class{constructor(){this.defaultActions=[],this.disabledActions=new Set}copyDefaultAction(){return[...this.defaultActions]}registerDefaultAction(n){n.id&&this.defaultActions.find(({id:t})=>t===n.id)||this.defaultActions.push(n)}enableAction(n){this.disabledActions.delete(n)}disableAction(n){this.disabledActions.add(n)}isDisabled(n){return this.disabledActions.has(n)}},aee=class{constructor(n){this.states={},this.element=n}updateCursor(n,t){delete this.states[n],t!=null&&(this.states[n]={style:t}),this.applyStates()}applyStates(){let n="default";Object.entries(this.states).reverse().slice(0,1).forEach(([t,{style:e}])=>n=e),this.element.style.cursor=n}getCursor(){return this.element.style.cursor}};function Oje(n,t){const e=n.screenX-t.screenX,r=n.screenY-t.screenY;return e*e+r*r}function gz(n,t){return Math.sqrt(Oje(n,t))}var Rje=1,see=class extends Ef{constructor(n){super(),this.touchstart=t=>this.onTouchStart(t),this.touchmove=t=>this.onTouchMove(t),this.touchend=t=>this.onTouchEnd(t),this.touchcancel=t=>this.onTouchCancel(t),this.pinch={finger1:{identifier:NaN,screenX:NaN,screenY:NaN},finger2:{identifier:NaN,screenX:NaN,screenY:NaN},origin:{x:NaN,y:NaN},distance:NaN,status:0},this.element=n,n.addEventListener("touchstart",this.touchstart,{passive:!0}),n.addEventListener("touchmove",this.touchmove,{passive:!0}),n.addEventListener("touchend",this.touchend),n.addEventListener("touchcancel",this.touchcancel)}destroy(){const{element:n}=this;n.removeEventListener("touchstart",this.touchstart),n.removeEventListener("touchmove",this.touchmove),n.removeEventListener("touchend",this.touchend),n.removeEventListener("touchcancel",this.touchcancel)}findPinchTouches(n){const{touches:t}=n,{finger1:e,finger2:r}=this.pinch;if(this.pinch.status!==0&&t.length===2){if(t[0].identifier===e.identifier&&t[1].identifier===r.identifier)return[t[0],t[1]];if(t[0].identifier===r.identifier&&t[1].identifier===e.identifier)return[t[1],t[0]]}}copyTouchData(n){const t=["identifier","screenX","screenY"];iI(t,this.pinch.finger1,n.touches[0]),iI(t,this.pinch.finger2,n.touches[1]),this.pinch.distance=gz(this.pinch.finger1,this.pinch.finger2)}dispatchPinchEvent(n,t){const{finger1:e,finger2:r,origin:i}=this.pinch,o={type:n,finger1:e,finger2:r,deltaDistance:t,origin:i};this.listeners.dispatch(n,o)}onTouchStart(n){this.stopPinchTracking();const{pinch:t}=this;n.touches.length===2&&(t.status=1,this.copyTouchData(n),t.origin.x=(n.touches[0].clientX+n.touches[1].clientX)/2,t.origin.y=(n.touches[0].clientY+n.touches[1].clientY)/2)}onTouchMove(n){const t=this.findPinchTouches(n);if(t!==void 0){const[e,r]=t,{pinch:i}=this,o=gz(e,r),a=o-i.distance;i.status===1?Math.abs(a)>Rje&&(i.status=2,this.copyTouchData(n),this.dispatchPinchEvent("pinch-start",0)):i.status===2?(i.distance=o,this.copyTouchData(n),this.dispatchPinchEvent("pinch-move",a)):Oe.error(`unexpected pinch.status: ${i.status}`)}}onTouchEnd(n){this.stopPinchTracking()}onTouchCancel(n){this.stopPinchTracking()}stopPinchTracking(){const{pinch:n}=this;n.status===2&&this.dispatchPinchEvent("pinch-end",0),this.pinch.status=0}},PI=class extends Ef{constructor(){super(...arguments),this.highlightStates=new Map,this.pickedStates=new Map}updateHighlight(n,t){this.highlightStates.delete(n),t!=null&&this.highlightStates.set(n,t),this.applyHighlightStates()}getActiveHighlight(){return this.activeHighlight}updatePicked(n,t){this.pickedStates.delete(n),t!=null&&this.pickedStates.set(n,t),this.applyPickedStates()}getActivePicked(){return this.activePicked}applyHighlightStates(){const{activeHighlight:n}=this;this.activeHighlight=Array.from(this.highlightStates.values()).pop(),this.isEqual(this.activeHighlight,n)||this.listeners.dispatch("highlight-change",{type:"highlight-change",currentHighlight:this.activeHighlight,previousHighlight:n})}applyPickedStates(){this.activePicked=Array.from(this.pickedStates.values()).pop()}isEqual(n,t){return n===t||(n==null?void 0:n.series)===(t==null?void 0:t.series)&&(n==null?void 0:n.itemId)===(t==null?void 0:t.itemId)&&(n==null?void 0:n.datum)===(t==null?void 0:t.datum)}};function Tje(n,t,e){var r,i;return(i=(r=n.bbox.computeBBox())==null?void 0:r.containsPoint(t,e))!=null?i:!1}function yz(n){var t;const{width:e=0,height:r=0}=(t=n.bbox.computeBBox())!=null?t:{};return e*r}var Pje=class{constructor(){this.nodes=[]}add(n,t){this.nodes.push({value:n,bbox:t})}find(n,t){return this.nodes.filter(e=>Tje(e,n,t)).sort((e,r)=>yz(e)-yz(r)).map(e=>e.value)}*[Symbol.iterator](){for(const{value:n}of Object.values(this.nodes))yield n}clear(){this.nodes.length=0}},Aje=class extends ay{},Dje=class{constructor(n){this.interactionManager=n,this.eventHandler=t=>this.processEvent(t),this.regions=new Pje,this.destroyFns=[],tee.forEach(t=>this.destroyFns.push(n.addListener(t,this.eventHandler,15)))}destroy(){this.destroyFns.forEach(n=>n()),this.currentRegion=void 0;for(const n of this.regions)n.listeners.destroy();this.regions.clear()}pushRegion(n,t){const e={name:n,listeners:new Aje};return this.regions.add(e,t),e}addRegion(n,t){const e=this.pushRegion(n,t),{interactionManager:r}=this;class i{addListener(a,s,l=8){return e.listeners.addListener(a,u=>{u.consumed||r.getState()&l&&s(u)})}}return new i}processEvent(n){const{currentRegion:t}=this,e=this.pickRegion(n.offsetX,n.offsetY);t!==void 0&&(e==null?void 0:e.name)!==t.name&&(t==null||t.listeners.dispatch("leave",Te(J({},n),{type:"leave"}))),e!==void 0&&le(this,null,function*(){return e.listeners.dispatch(n.type,n)}).catch(i=>Oe.errorOnce(i)),this.currentRegion=e}pickRegion(n,t){const e=this.regions.find(n,t);return e.length>0?e[0]:void 0}},sB=class sh extends Ef{constructor(t){super(),this.chart=t}subscribe(t=sh.DEFAULT_GROUP){let e=this.get(t);return e||(e=new Set,sh.chartsGroups.set(t,e)),e.add(this.chart),this}unsubscribe(t=sh.DEFAULT_GROUP){var e;return(e=this.get(t))==null||e.delete(this.chart),this}getChart(){return this.chart}getGroup(t=sh.DEFAULT_GROUP){const e=this.get(t);return e?Array.from(e):[]}getGroupSiblings(t=sh.DEFAULT_GROUP){return this.getGroup(t).filter(e=>e!==this.chart)}get(t){return sh.chartsGroups.get(t)}};sB.chartsGroups=new Map;sB.DEFAULT_GROUP=Symbol("sync-group-default");var Mje=sB,AI=class{constructor(n,t){this.states={},this.exclusiveAreas={},this.destroyFns=[],this.tooltip=n,this.destroyFns.push(t.addListener("hover",e=>this.checkExclusiveRects(e)))}getRange(){return this.tooltip.range}updateTooltip(n,t,e){var r;e==null&&(e=(r=this.states[n])==null?void 0:r.content),this.states[n]={content:e,meta:t},this.applyStates()}updateExclusiveRect(n,t){t?this.exclusiveAreas[n]=t:delete this.exclusiveAreas[n]}removeTooltip(n){delete this.states[n],this.applyStates()}getTooltipMeta(n){var t;return(t=this.states[n])==null?void 0:t.meta}destroy(){for(const n of this.destroyFns)n()}checkExclusiveRects(n){let t;for(const[e,r]of Object.entries(this.exclusiveAreas))if(r.containsPoint(n.offsetX,n.offsetY)){t=e;break}t!==this.appliedExclusiveArea&&(this.appliedExclusiveArea=t,this.applyStates())}applyStates(){var n;const t=this.appliedExclusiveArea?[this.appliedExclusiveArea]:Object.keys(this.states);let e,r;if(t.reverse(),t.slice(0,1).forEach(i=>{var o;const{content:a,meta:s}=(o=this.states[i])!=null?o:{};e=a,r=s}),r===void 0||e===void 0){this.appliedState=void 0,this.tooltip.toggle(!1);return}if(((n=this.appliedState)==null?void 0:n.content)===e){const i=this.tooltip.isVisible();this.tooltip.show(r,void 0,i)}else this.tooltip.show(r,e);this.appliedState={content:e,meta:r}}static makeTooltipMeta(n,t){var e,r,i,o;const{offsetX:a,offsetY:s}=n,{tooltip:l}=t.series.properties,u={xOffset:l.position.xOffset,yOffset:l.position.yOffset},c={offsetX:a,offsetY:s,lastPointerEvent:{offsetX:a,offsetY:s},showArrow:l.showArrow,position:u},d=(r=(e=t.yBar)==null?void 0:e.upperPoint)!=null?r:t.midPoint;if(l.position.type==="node"&&d){const{x:p,y:h}=d,f=t.series.contentGroup.inverseTransformPoint(p,h);return Te(J({},c),{offsetX:Math.round(f.x),offsetY:Math.round(f.y)})}return c.enableInteraction=(o=(i=l.interaction)==null?void 0:i.enabled)!=null?o:!1,c}},lee=class extends Ef{constructor(){super(...arguments),this.axisZoomManagers=new Map}updateAxes(n){var t;const e=new Map(n.map(r=>[r.id,this.axisZoomManagers.get(r.id)]));this.axisZoomManagers.clear();for(const r of n)this.axisZoomManagers.set(r.id,(t=e.get(r.id))!=null?t:new Lje(r));this.initialZoom&&(this.updateZoom(this.initialZoom),this.initialZoom=void 0)}updateZoom(n){if(this.axisZoomManagers.size===0){this.initialZoom=n;return}this.axisZoomManagers.forEach(t=>{t.updateZoom(n==null?void 0:n[t.getDirection()])}),this.applyChanges()}updateAxisZoom(n,t){var e;(e=this.axisZoomManagers.get(n))==null||e.updateZoom(t),this.applyChanges()}getZoom(){let n,t;if(this.axisZoomManagers.forEach(e=>{e.getDirection()==="x"?n??(n=e.getZoom()):e.getDirection()==="y"&&(t??(t=e.getZoom()))}),n||t)return{x:n,y:t}}getAxisZoom(n){var t,e;return(e=(t=this.axisZoomManagers.get(n))==null?void 0:t.getZoom())!=null?e:{min:0,max:1}}getAxisZooms(){const n={};for(const[t,e]of this.axisZoomManagers.entries())n[t]={direction:e.getDirection(),zoom:e.getZoom()};return n}applyChanges(){if(!Array.from(this.axisZoomManagers.values()).map(e=>e.applyChanges()).some(Boolean))return;const t={};for(const[e,r]of this.axisZoomManagers.entries())t[e]=r.getZoom();this.listeners.dispatch("zoom-change",Te(J({type:"zoom-change"},this.getZoom()),{axes:t}))}},Lje=class{constructor(n){this.pendingZoom=null,this.axis=n;const[t=0,e=1]=n.visibleRange;this.initialZoom=this.currentZoom={min:t,max:e}}getDirection(){return this.axis.direction}updateZoom(n){this.pendingZoom=n?J({},n):null}getZoom(){return yi(this.currentZoom)}applyChanges(){var n;const t=this.currentZoom;return this.currentZoom=(n=this.pendingZoom)!=null?n:this.initialZoom,t.min!==this.currentZoom.min||t.max!==this.currentZoom.max}},uee=class extends ay{constructor(){super(...arguments),this.layoutComplete="layout-complete"}addListener(n,t){if(this.isLayoutStage(n)||this.isLayoutComplete(n))return super.addListener(n,t);throw new Error(`AG Charts - unsupported listener type: ${n}`)}dispatchPerformLayout(n,t){return this.isLayoutStage(n)?this.getListenersByType(n).reduce((e,r)=>{try{return r.handler(e)}catch(i){return Oe.errorOnce(i),e}},t):t}dispatchLayoutComplete(n){this.dispatch(this.layoutComplete,n)}isLayoutStage(n){return n!==this.layoutComplete}isLayoutComplete(n){return n===this.layoutComplete}};function Fje({orientation:n,bboxes:t,maxHeight:e,maxWidth:r,itemPaddingY:i=0,itemPaddingX:o=0,forceResult:a=!1}){const s=n==="horizontal",l={max:s?r:e,fn:s?p=>p.width:p=>p.height,padding:s?o:i},u={max:s?e:r,fn:s?p=>p.height:p=>p.width,padding:s?i:o};let c=0;const d=[];for(;c<t.length;){const p=t.slice(c),h=Ije(p,c,l,u,a);if(!h)return;c+=h.processedBBoxCount,d.push(h.pageIndices)}return kje(d,n,t,i,o)}function Ije(n,t,e,r,i){let a=Vje(n,e);if(a<1){if(!i)return;a=1}for(let s=a;s>=1;s--){const l=Nje(n,t,s,e,r,i);if(l==null&&s<=1)return;if(l==null)continue;if(typeof l=="number"){if(l<=1)return;s=l<s&&l>1?l:s;continue}return{processedBBoxCount:l.length*l[0].length,pageIndices:l}}}function Nje(n,t,e,r,i,o){var a;const s=[];let l=0,u=0,c=[];const d=[];for(let p=0;p<n.length;p++){const h=(p+e)%e;h===0&&(l+=u,u=0,c.length>0&&s.push(c),c=[]);const f=r.fn(n[p])+r.padding;d[h]=Math.max((a=d[h])!=null?a:0,f),u=Math.max(u,i.fn(n[p])+i.padding);const v=l+u,g=!o||s.length>0;if(v>i.max&&g){c=[];break}if(d.reduce((m,C)=>m+C,0)>r.max&&!o)return d.length<e?d.length:void 0;c.push(p+t)}return c.length>0&&s.push(c),s.length>0?s:void 0}function kje(n,t,e,r,i){let o=0,a=0;return{pages:n.map(l=>{t==="horizontal"&&(l=Gje(l));let u=0;const c=l.map(h=>{const f=h.map(y=>(u=Math.max(y,u),e[y]));let v=0,g=0;return f.forEach(y=>{v+=y.height+r,g=Math.max(g,y.width+i)}),{indices:h,bboxes:f,columnHeight:Math.ceil(v),columnWidth:Math.ceil(g)}});let d=0,p=0;return c.forEach(h=>{d+=h.columnWidth,p=Math.max(p,h.columnHeight)}),o=Math.max(d,o),a=Math.max(p,a),{columns:c,startIndex:l[0][0],endIndex:u,pageWidth:d,pageHeight:p}}),maxPageWidth:o,maxPageHeight:a}}function Gje(n){const t=[];for(const e of n[0])t.push([]);return n.forEach((e,r)=>{e.forEach((i,o)=>{t[o][r]=i})}),t}function Vje(n,t){const e=n.length;let r=0;for(let i=0;i<e;i++)if(r+=t.fn(n[i])+t.padding,r>t.max)return e/i<2?Math.ceil(e/2):i;return e}function Bje(n,t){const e=-t/n;return n!==0&&e>=0&&e<=1?[e]:[]}function Hje(n,t,e){if(n===0)return Bje(t,e);const r=t*t-4*n*e,i=[];if(r===0){const o=-t/(2*n);o>=0&&o<=1&&i.push(o)}else if(r>0){const o=Math.sqrt(r),a=(-t-o)/(2*n),s=(-t+o)/(2*n);a>=0&&a<=1&&i.push(a),s>=0&&s<=1&&i.push(s)}return i}function jje(n,t,e,r){if(n===0)return Hje(t,e,r);const i=t/n,o=e/n,a=r/n,s=(3*o-i*i)/9,l=(9*i*o-27*a-2*i*i*i)/54,u=s*s*s+l*l,c=1/3,d=[];if(u>=0){const p=Math.sqrt(u),h=Math.sign(l+p)*Math.pow(Math.abs(l+p),c),f=Math.sign(l-p)*Math.pow(Math.abs(l-p),c),v=Math.abs(Math.sqrt(3)*(h-f)/2),g=-c*i+(h+f);if(g>=0&&g<=1&&d.push(g),v===0){const y=-c*i-(h+f)/2;y>=0&&y<=1&&d.push(y)}}else{const p=Math.acos(l/Math.sqrt(-s*s*s)),h=c*i,f=2*Math.sqrt(-s),v=f*Math.cos(c*p)-h,g=f*Math.cos(c*(p+2*Math.PI))-h,y=f*Math.cos(c*(p+4*Math.PI))-h;v>=0&&v<=1&&d.push(v),g>=0&&g<=1&&d.push(g),y>=0&&y<=1&&d.push(y)}return d}function $C(n,t,e,r,i,o,a,s){const l=(e-n)*(s-o)-(r-t)*(a-i);if(l===0)return null;const u=((a-i)*(t-o)-(n-i)*(s-o))/l,c=((e-n)*(t-o)-(r-t)*(n-i))/l;return u>=0&&u<=1&&c>=0&&c<=1?{x:n+u*(e-n),y:t+u*(r-t)}:null}function $je(n,t,e,r,i,o,a,s,l,u,c,d){const p=[],h=u-d,f=c-l,v=l*(d-u)-u*(c-l),g=mz(n,e,i,a),y=mz(t,r,o,s),m=h*g[0]+f*y[0],C=h*g[1]+f*y[1],S=h*g[2]+f*y[2],w=h*g[3]+f*y[3]+v,_=jje(m,C,S,w);for(const x of _){const b=x*x,O=x*b,P=g[0]*O+g[1]*b+g[2]*x+g[3],D=y[0]*O+y[1]*b+y[2]*x+y[3];let N;l!==c?N=(P-l)/(c-l):N=(D-u)/(d-u),N>=0&&N<=1&&p.push({x:P,y:D})}return p}function mz(n,t,e,r){return[-n+3*t-3*e+r,3*n-6*t+3*e,-3*n+3*t,n]}function cee(n,t,e,r,i,o,a,s,l,u){const c=(u-s)/(l-a),d=s-c*a,p=Math.pow(c,2)+1,h=2*(c*(d-t)-n),f=Math.pow(n,2)+Math.pow(d-t,2)-Math.pow(e,2),v=Math.pow(h,2)-4*p*f;if(v<0)return[];const g=(-h+Math.sqrt(v))/2/p,y=(-h-Math.sqrt(v))/2/p,m=[];return[g,y].forEach(C=>{if(!(C>=Math.min(a,l)&&C<=Math.max(a,l)))return;const w=c*C+d,_=Zr(r);let x=Zr(i),b=Zr(Math.atan2(w,C));x<=_&&(x+=2*Math.PI),b<_&&(b+=2*Math.PI),o!==(b>=_&&b<=x)&&m.push({x:C,y:w})}),m}var kg=class{constructor(){this.previousCommands=[],this.previousParams=[],this.previousClosedPath=!1,this.commands=[],this.params=[],this._closedPath=!1}isDirty(){if(this._closedPath!==this.previousClosedPath||this.previousCommands.length!==this.commands.length||this.previousParams.length!==this.params.length)return!0;for(let n=0;n<this.commands.length;n++)if(this.commands[n]!==this.previousCommands[n])return!0;for(let n=0;n<this.params.length;n++)if(this.params[n]!==this.previousParams[n])return!0;return!1}draw(n){const t=this.commands,e=this.params;let r=0;n.beginPath();for(const i of t)switch(i){case 0:n.moveTo(e[r++],e[r++]);break;case 1:n.lineTo(e[r++],e[r++]);break;case 3:n.bezierCurveTo(e[r++],e[r++],e[r++],e[r++],e[r++],e[r++]);break;case 2:n.arc(e[r++],e[r++],e[r++],e[r++],e[r++],e[r++]===1);break;case 4:n.closePath();break}t.length===0&&n.closePath()}moveTo(n,t){this.xy?(this.xy[0]=n,this.xy[1]=t):this.xy=[n,t],this.commands.push(0),this.params.push(n,t)}lineTo(n,t){this.xy?(this.commands.push(1),this.params.push(n,t),this.xy[0]=n,this.xy[1]=t):this.moveTo(n,t)}rect(n,t,e,r){this.moveTo(n,t),this.lineTo(n+e,t),this.lineTo(n+e,t+r),this.lineTo(n,t+r),this.closePath()}roundRect(n,t,e,r,i){i=Math.min(i,e/2,r/2),this.moveTo(n,t+i),this.arc(n+i,t+i,i,Math.PI,3*Math.PI/2),this.lineTo(n+i,t),this.lineTo(n+e-i,t),this.arc(n+e-i,t+i,i,3*Math.PI/2,2*Math.PI),this.lineTo(n+e,t+i),this.lineTo(n+e,t+r-i),this.arc(n+e-i,t+r-i,i,0,Math.PI/2),this.lineTo(n+e-i,t+r),this.lineTo(n+i,t+r),this.arc(n+ +i,t+r-i,i,Math.PI/2,Math.PI),this.lineTo(n,t+r-i),this.closePath()}arc(n,t,e,r,i,o=!1){const a=n+e*Math.cos(i),s=t+e*Math.sin(i);this.xy?(this.xy[0]=a,this.xy[1]=s):this.xy=[a,s],this.commands.push(2),this.params.push(n,t,e,r,i,o?1:0)}cubicCurveTo(n,t,e,r,i,o){this.xy||this.moveTo(n,t),this.commands.push(3),this.params.push(n,t,e,r,i,o),this.xy&&(this.xy[0]=i,this.xy[1]=o)}get closedPath(){return this._closedPath}closePath(){this.xy&&(this.xy=void 0,this.commands.push(4),this._closedPath=!0)}clear({trackChanges:n}={trackChanges:!1}){n?(this.previousCommands=this.commands,this.previousParams=this.params,this.previousClosedPath=this._closedPath,this.commands=[],this.params=[]):(this.commands.length=0,this.params.length=0),this.xy=void 0,this._closedPath=!1}isPointInPath(n,t){const e=this.commands,r=this.params,i=e.length,o=-1e4,a=-1e4;let s=NaN,l=NaN,u=0,c=0,d=0;for(let p=0,h=0;p<i;p++)switch(e[p]){case 0:!isNaN(s)&&$C(s,l,u,c,o,a,n,t)&&d++,u=r[h++],s=u,c=r[h++],l=c;break;case 1:$C(u,c,r[h++],r[h++],o,a,n,t)&&d++,u=r[h-2],c=r[h-1];break;case 3:d+=$je(u,c,r[h++],r[h++],r[h++],r[h++],r[h++],r[h++],o,a,n,t).length,u=r[h-2],c=r[h-1];break;case 2:const f=r[h++],v=r[h++],g=r[h++],y=r[h++],m=r[h++],C=!!r[h++];d+=cee(f,v,g,y,m,C,o,a,n,t).length,u=f+Math.cos(m)*g,c=v+Math.sin(m)*g;break;case 4:!isNaN(s)&&$C(s,l,u,c,o,a,n,t)&&d++;break}return d%2===1}getPoints(){const{commands:n,params:t}=this,e=[];let r=0;for(let i=0;i<n.length;i++)switch(n[i]){case 0:case 1:e.push({x:t[r++],y:t[r++]});break;case 3:r+=4,e.push({x:t[r++],y:t[r++]});break;case 2:e.push({x:t[r++],y:t[r++]}),r+=4;break}return e}};function ct(n){const{redraw:t=3,changeCb:e,convertor:r}=n??{};return Ae({redraw:t,type:"path",convertor:r,changeCb:e})}var ya=class extends rs{constructor(){super(...arguments),this.path=new kg,this._clipX=NaN,this._clipY=NaN,this._dirtyPath=!0}set clipX(n){this._clipX=n,this.dirtyPath=!0}set clipY(n){this._clipY=n,this.dirtyPath=!0}set dirtyPath(n){this._dirtyPath!==n&&(this._dirtyPath=n,n&&this.markDirty(this,3))}get dirtyPath(){return this._dirtyPath}checkPathDirty(){var n,t,e,r;this._dirtyPath||(this.dirtyPath=this.path.isDirty()||((t=(n=this.fillShadow)==null?void 0:n.isDirty())!=null?t:!1)||((r=(e=this._clipPath)==null?void 0:e.isDirty())!=null?r:!1))}isPointInPath(n,t){const e=this.transformPoint(n,t);return this.path.closedPath&&this.path.isPointInPath(e.x,e.y)}isDirtyPath(){return!1}updatePath(){}render(n){var t,e,r,i,o;const{ctx:a,forceRender:s,stats:l}=n;if(this.dirty===0&&!s){l&&(l.nodesSkipped+=this.nodeCount.count);return}if(this.computeTransformMatrix(),this.matrix.toContext(a),(this.dirtyPath||this.isDirtyPath())&&(this.updatePath(),this.dirtyPath=!1),!isNaN(this._clipX)&&!isNaN(this._clipY)&&this.clipMode!=null){a.save();const u=this.strokeWidth/2;if((t=this._clipPath)!=null||(this._clipPath=new kg),this._clipPath.clear(),this._clipPath.rect(-u,-u,this._clipX+u,this._clipY+u+u),this.clipMode==="normal"&&((e=this._clipPath)==null||e.draw(a),a.clip()),this._clipX>0&&this._clipY>0&&(this.path.draw(a),this.fillStroke(a)),this.clipMode==="punch-out"){(r=this._clipPath)==null||r.draw(a),a.clip();const{x:c=-1e4,y:d=-1e4,width:p=2e4,height:h=2e4}=(i=this.computeBBox())!=null?i:{};a.clearRect(c,d,p,h)}a.restore()}else this.path.draw(a),this.fillStroke(a);(o=this.fillShadow)==null||o.markClean(),super.render(n)}};ya.className="Path";R([ct()],ya.prototype,"clipMode",2);R([ct()],ya.prototype,"clipX",1);R([ct()],ya.prototype,"clipY",1);var cs=class extends ya{constructor(){super(...arguments),this.x=0,this.y=0,this.size=12}computeBBox(){const{x:n,y:t,size:e}=this,r=e/2;return new nt(n-r,t-r,e,e)}applyPath(n,t){const{path:e}=this;let{x:r,y:i}=this;e.clear();for(const{x:o,y:a,t:s}of t)r+=o*n,i+=a*n,s==="move"?e.moveTo(r,i):e.lineTo(r,i);e.closePath()}};R([ct()],cs.prototype,"x",2);R([ct()],cs.prototype,"y",2);R([ct({convertor:Math.abs})],cs.prototype,"size",2);var ql=class extends cs{updatePath(){const{x:n,y:t,path:e,size:r}=this,i=r/2;e.clear(),e.arc(n,t,i,0,Math.PI*2),e.closePath()}};ql.className="Circle";var lB=class dee extends cs{updatePath(){const t=this.size/4.2;super.applyPath(t,dee.moves)}};lB.className="Cross";lB.moves=[{x:-1,y:0,t:"move"},{x:-1,y:-1},{x:1,y:-1},{x:1,y:1},{x:1,y:-1},{x:1,y:1},{x:-1,y:1},{x:1,y:1},{x:-1,y:1},{x:-1,y:-1},{x:-1,y:1},{x:-1,y:-1}];var Wje=lB,uB=class pee extends cs{updatePath(){const t=this.size/2;super.applyPath(t,pee.moves)}};uB.className="Diamond";uB.moves=[{x:0,y:-1,t:"move"},{x:1,y:1},{x:-1,y:1},{x:-1,y:-1},{x:1,y:-1}];var hee=uB,fee=class extends cs{rad(n){return n/180*Math.PI}updatePath(){const{x:n,path:t,size:e,rad:r}=this,i=e/4,o=this.y+i/2;t.clear(),t.arc(n-i,o-i,i,r(130),r(330)),t.arc(n+i,o-i,i,r(220),r(50)),t.lineTo(n,o+i),t.closePath()}};fee.className="Heart";var cB=class vee extends cs{updatePath(){const t=this.size/3;super.applyPath(t,vee.moves)}};cB.className="Plus";cB.moves=[{x:-.5,y:-.5,t:"move"},{x:0,y:-1},{x:1,y:0},{x:0,y:1},{x:1,y:0},{x:0,y:1},{x:-1,y:0},{x:0,y:1},{x:-1,y:0},{x:0,y:-1},{x:-1,y:0},{x:0,y:-1}];var Uje=cB,Gg=class extends cs{updatePath(){const{path:n,x:t,y:e}=this,r=this.size/2;n.clear(),n.moveTo(this.align(t-r),this.align(e-r)),n.lineTo(this.align(t+r),this.align(e-r)),n.lineTo(this.align(t+r),this.align(e+r)),n.lineTo(this.align(t-r),this.align(e+r)),n.closePath()}};Gg.className="Square";var dB=class gee extends cs{updatePath(){const t=this.size*1.1;super.applyPath(t,gee.moves)}};dB.className="Triangle";dB.moves=[{x:0,y:-.48,t:"move"},{x:.5,y:.87},{x:-1,y:0}];var lg=dB,yee={circle:ql,cross:Wje,diamond:hee,heart:fee,plus:Uje,square:Gg,triangle:lg},zje=Object.keys(yee);function mee(n){return typeof n=="string"&&zje.includes(n)}function gp(n=Gg){return mee(n)?yee[n]:typeof n=="function"?n:Gg}var vn=class extends Ve{constructor(){super({name:"markerLabelGroup"}),this.label=new Mt,this.line=new bn,this._marker=new Gg,this._markerSize=15,this._spacing=8;const{marker:n,label:t,line:e}=this;t.textBaseline="middle",t.fontSize=12,t.fontFamily="Verdana, sans-serif",t.fill="black",t.y=Wr.has.textMetrics?1:0,this.append([e,n,t]),this.update()}set marker(n){this._marker!==n&&(this.removeChild(this._marker),this._marker=n,this.appendChild(n),this.update())}get marker(){return this._marker}set markerSize(n){this._markerSize!==n&&(this._markerSize=n,this.update())}get markerSize(){return this._markerSize}set spacing(n){this._spacing!==n&&(this._spacing=n,this.update())}get spacing(){return this._spacing}setSeriesStrokeOffset(n){const t=this.marker.size/2+n;this.line.x1=-t,this.line.x2=t,this.line.y1=0,this.line.y2=0,this.line.markDirtyTransform(),this.update()}update(){this.marker.size=this.markerSize;const n=this.line.visible?this.line.x2:-1/0,t=this.markerSize/2;this.label.x=Math.max(n,t)+this.spacing}render(n){this.marker.opacity=this.opacity,this.label.opacity=this.opacity,this.line.opacity=this.opacity,super.render(n)}};vn.className="MarkerLabel";R([cr("label")],vn.prototype,"text",2);R([cr("label")],vn.prototype,"fontStyle",2);R([cr("label")],vn.prototype,"fontWeight",2);R([cr("label")],vn.prototype,"fontSize",2);R([cr("label")],vn.prototype,"fontFamily",2);R([cr("label","fill")],vn.prototype,"color",2);R([cr("marker","fill")],vn.prototype,"markerFill",2);R([cr("marker","stroke")],vn.prototype,"markerStroke",2);R([cr("marker","strokeWidth")],vn.prototype,"markerStrokeWidth",2);R([cr("marker","fillOpacity")],vn.prototype,"markerFillOpacity",2);R([cr("marker","strokeOpacity")],vn.prototype,"markerStrokeOpacity",2);R([cr("marker","visible")],vn.prototype,"markerVisible",2);R([cr("line","stroke")],vn.prototype,"lineStroke",2);R([cr("line","strokeWidth")],vn.prototype,"lineStrokeWidth",2);R([cr("line","strokeOpacity")],vn.prototype,"lineStrokeOpacity",2);R([cr("line","lineDash")],vn.prototype,"lineLineDash",2);R([cr("line","visible")],vn.prototype,"lineVisible",2);var sy=class extends nr{constructor(){super(...arguments),this.color="black",this.fontStyle=void 0,this.fontWeight=void 0,this.fontSize=12,this.fontFamily="Verdana, sans-serif"}};R([M(Tt)],sy.prototype,"color",2);R([M(pp,{optional:!0})],sy.prototype,"fontStyle",2);R([M(hp,{optional:!0})],sy.prototype,"fontWeight",2);R([M(xe)],sy.prototype,"fontSize",2);R([M(Ee)],sy.prototype,"fontFamily",2);var $u=class extends nr{constructor(){super(...arguments),this.size=15,this.fill=void 0,this.fillOpacity=void 0,this.stroke=void 0,this.strokeWidth=1,this.strokeOpacity=1}};R([M(xe)],$u.prototype,"size",2);R([M(Tt,{optional:!0})],$u.prototype,"fill",2);R([M(Ut,{optional:!0})],$u.prototype,"fillOpacity",2);R([M(Tt,{optional:!0})],$u.prototype,"stroke",2);R([M(xe)],$u.prototype,"strokeWidth",2);R([M(Ut)],$u.prototype,"strokeOpacity",2);var aP=class extends nr{constructor(n){super(),this.parent=n,this.shape=lg,this.size=15,this.padding=8}};R([An({changeValue(){this.parent.marker===this&&this.parent.onMarkerShapeChange()}})],aP.prototype,"shape",2);R([M(xe)],aP.prototype,"size",2);R([M(xe)],aP.prototype,"padding",2);var bf=class extends nr{constructor(n,t,e,r){super(),this.chartUpdateCallback=n,this.pageUpdateCallback=t,this.regionManager=e,this.cursorManager=r,this.id=uu(this),this.marker=new aP(this),this.activeStyle=new $u,this.inactiveStyle=new $u,this.highlightStyle=new $u,this.label=new sy,this.group=new Ve({name:"pagination"}),this.labelNode=new Mt,this.destroyFns=[],this.totalPages=0,this.currentPage=0,this.translationX=0,this.translationY=0,this.nextButtonDisabled=!1,this.previousButtonDisabled=!1,this._visible=!0,this._enabled=!0,this._orientation="vertical",this._nextButton=new lg,this._previousButton=new lg,this.labelNode.setProperties({textBaseline:"middle",fontSize:12,fontFamily:"Verdana, sans-serif",fill:"black",y:Wr.has.textMetrics?1:0}),this.group.append([this.nextButton,this.previousButton,this.labelNode]);const i=this.regionManager.addRegion("pagination",this.group);this.destroyFns.push(i.addListener("click",o=>this.onPaginationClick(o)),i.addListener("hover",o=>this.onPaginationMouseMove(o))),this.update(),this.updateMarkers()}destroy(){this.destroyFns.forEach(n=>n())}set visible(n){this._visible=n,this.updateGroupVisibility()}get visible(){return this._visible}set enabled(n){this._enabled=n,this.updateGroupVisibility()}get enabled(){return this._enabled}updateGroupVisibility(){this.group.visible=this.enabled&&this.visible}set orientation(n){switch(this._orientation=n,n){case"horizontal":{this.previousButton.rotation=-Math.PI/2,this.nextButton.rotation=Math.PI/2;break}case"vertical":default:this.previousButton.rotation=0,this.nextButton.rotation=Math.PI}}get orientation(){return this._orientation}set nextButton(n){this._nextButton!==n&&(this.group.removeChild(this._nextButton),this._nextButton=n,this.group.appendChild(n))}get nextButton(){return this._nextButton}set previousButton(n){this._previousButton!==n&&(this.group.removeChild(this._previousButton),this._previousButton=n,this.group.appendChild(n))}get previousButton(){return this._previousButton}update(){this.updateLabel(),this.updatePositions(),this.enableOrDisableButtons()}updatePositions(){this.group.translationX=this.translationX,this.group.translationY=this.translationY,this.updateLabelPosition(),this.updateNextButtonPosition()}updateLabelPosition(){const{size:n,padding:t}=this.marker;this.nextButton.size=n,this.previousButton.size=n,this.labelNode.x=n/2+t}updateNextButtonPosition(){const n=this.labelNode.computeBBox();this.nextButton.translationX=n.x+n.width+this.marker.size/2+this.marker.padding}updateLabel(){const{currentPage:n,totalPages:t,labelNode:e,label:{color:r,fontStyle:i,fontWeight:o,fontSize:a,fontFamily:s}}=this;e.text=`${n+1} / ${t}`,e.fill=r,e.fontStyle=i,e.fontWeight=o,e.fontSize=a,e.fontFamily=s}updateMarkers(){const{nextButton:n,previousButton:t,nextButtonDisabled:e,previousButtonDisabled:r,activeStyle:i,inactiveStyle:o,highlightStyle:a,highlightActive:s}=this,l=(u,c)=>c?o:u===s?a:i;this.updateMarker(n,l("next",e)),this.updateMarker(t,l("previous",r))}updateMarker(n,t){var e;const{size:r}=this.marker;n.size=r,n.fill=t.fill,n.fillOpacity=(e=t.fillOpacity)!=null?e:1,n.stroke=t.stroke,n.strokeWidth=t.strokeWidth,n.strokeOpacity=t.strokeOpacity}enableOrDisableButtons(){const{currentPage:n,totalPages:t}=this,e=t===0,r=n===t-1,i=n===0;this.nextButtonDisabled=r||e,this.previousButtonDisabled=i||e}nextButtonContainsPoint(n,t){return!this.nextButtonDisabled&&this.nextButton.containsPoint(n,t)}previousButtonContainsPoint(n,t){return!this.previousButtonDisabled&&this.previousButton.containsPoint(n,t)}onPaginationClick(n){const{offsetX:t,offsetY:e}=n;this.nextButtonContainsPoint(t,e)?(this.incrementPage(),this.onPaginationChanged(),n.consume()):this.previousButtonContainsPoint(t,e)&&(this.decrementPage(),this.onPaginationChanged(),n.consume())}onPaginationMouseMove(n){const{offsetX:t,offsetY:e}=n;this.nextButtonContainsPoint(t,e)?(this.cursorManager.updateCursor(this.id,"pointer"),this.highlightActive="next"):this.previousButtonContainsPoint(t,e)?(this.cursorManager.updateCursor(this.id,"pointer"),this.highlightActive="previous"):(this.cursorManager.updateCursor(this.id),this.highlightActive=void 0),this.updateMarkers(),this.chartUpdateCallback(6)}onPaginationChanged(){this.pageUpdateCallback(this.currentPage)}incrementPage(){this.currentPage=Math.min(this.currentPage+1,this.totalPages-1)}decrementPage(){this.currentPage=Math.max(this.currentPage-1,0)}onMarkerShapeChange(){const n=gp(this.marker.shape||lg);this.previousButton=new n,this.nextButton=new n,this.updatePositions(),this.updateMarkers(),this.chartUpdateCallback(6)}attachPagination(n){n.append(this.group)}computeBBox(){return this.group.computeBBox()}};bf.className="Pagination";R([M(je)],bf.prototype,"marker",2);R([M(je)],bf.prototype,"activeStyle",2);R([M(je)],bf.prototype,"inactiveStyle",2);R([M(je)],bf.prototype,"highlightStyle",2);R([M(je)],bf.prototype,"label",2);var yp=class extends nr{constructor(){super(...arguments),this.maxLength=void 0,this.color="black",this.fontStyle=void 0,this.fontWeight=void 0,this.fontSize=12,this.fontFamily="Verdana, sans-serif",this.formatter=void 0}};R([M(xe,{optional:!0})],yp.prototype,"maxLength",2);R([M(Tt)],yp.prototype,"color",2);R([M(pp,{optional:!0})],yp.prototype,"fontStyle",2);R([M(hp,{optional:!0})],yp.prototype,"fontWeight",2);R([M(xe)],yp.prototype,"fontSize",2);R([M(Ee)],yp.prototype,"fontFamily",2);R([M(ss,{optional:!0})],yp.prototype,"formatter",2);var ly=class extends nr{constructor(){super(...arguments),this.size=15,this.padding=8,this.enabled=!0}};R([oy(n=>{var t;return(t=n.parent)==null?void 0:t.onMarkerShapeChange()})],ly.prototype,"shape",2);R([M(xe)],ly.prototype,"size",2);R([M(xe)],ly.prototype,"padding",2);R([M(xe,{optional:!0})],ly.prototype,"strokeWidth",2);R([M(qe)],ly.prototype,"enabled",2);var pB=class extends nr{};R([M(xe,{optional:!0})],pB.prototype,"strokeWidth",2);R([M(xe,{optional:!0})],pB.prototype,"length",2);var Tc=class extends nr{constructor(){super(...arguments),this.paddingX=16,this.paddingY=8,this.toggleSeriesVisible=!0,this.showSeriesStroke=!1,this.marker=new ly,this.label=new yp,this.line=new pB}};R([M(xe,{optional:!0})],Tc.prototype,"maxWidth",2);R([M(xe)],Tc.prototype,"paddingX",2);R([M(xe)],Tc.prototype,"paddingY",2);R([M(qe)],Tc.prototype,"toggleSeriesVisible",2);R([M(qe)],Tc.prototype,"showSeriesStroke",2);R([M(je)],Tc.prototype,"marker",2);R([M(je)],Tc.prototype,"label",2);R([M(je)],Tc.prototype,"line",2);var hB=class extends nr{};R([M(ss,{optional:!0})],hB.prototype,"legendItemClick",2);R([M(ss,{optional:!0})],hB.prototype,"legendItemDoubleClick",2);var bo=class extends nr{constructor(n){super(),this.ctx=n,this.id=uu(this),this.group=new Ve({name:"legend",layer:!0,zIndex:9}),this.itemSelection=Er.select(this.group,vn),this.oldSize=[0,0],this.pages=[],this.maxPageSize=[0,0],this.paginationTrackingIndex=0,this.truncatedItems=new Set,this._data=[],this.item=new Tc,this.listeners=new hB,this.enabled=!0,this.position="bottom",this.spacing=20,this.characterWidths=new Map,this.destroyFns=[],this.size=[0,0],this._visible=!0,this.item.marker.parent=this,this.pagination=new bf(r=>n.updateService.update(r),r=>this.updatePageNumber(r),n.regionManager,n.cursorManager),this.pagination.attachPagination(this.group),this.item.marker.parent=this;const t=9,e=n.regionManager.addRegion("legend",this.group);this.destroyFns.push(e.addListener("click",r=>this.checkLegendClick(r),t),e.addListener("dblclick",r=>this.checkLegendDoubleClick(r),t),e.addListener("hover",r=>this.handleLegendMouseMove(r)),e.addListener("leave",r=>this.handleLegendMouseExit(r)),n.layoutService.addListener("start-layout",r=>this.positionLegend(r.shrinkRect)),()=>this.detachLegend())}set data(n){this._data=n,this.updateGroupVisibility()}get data(){return this._data}destroy(){this.destroyFns.forEach(n=>n()),this.pagination.destroy()}onMarkerShapeChange(){this.itemSelection.clear(),this.group.markDirty(this.group,2)}getOrientation(){if(this.orientation!==void 0)return this.orientation;switch(this.position){case"right":case"left":return"vertical";case"bottom":case"top":return"horizontal"}}getCharacterWidths(n){const{characterWidths:t}=this;if(t.has(n))return t.get(n);const e={"...":Wr.getTextSize("...",n).width};return t.set(n,e),e}set visible(n){this._visible=n,this.updateGroupVisibility()}get visible(){return this._visible}updateGroupVisibility(){this.group.visible=this.enabled&&this.visible&&this.data.length>0}attachLegend(n){n.append(this.group)}detachLegend(){var n;(n=this.group.parent)==null||n.removeChild(this.group)}getItemLabel(n){const{ctx:{callbackCache:t}}=this,{formatter:e}=this.item.label;return e?t.call(e,{itemId:n.itemId,value:n.label.text,seriesId:n.seriesId}):n.label.text}performLayout(n,t){const{paddingX:e,paddingY:r,label:i,maxWidth:o,marker:{size:a,padding:s,shape:l},label:{maxLength:u=1/0,fontStyle:c,fontWeight:d,fontSize:p,fontFamily:h},line:f,showSeriesStroke:v}=this.item,g=[...this.data];this.reverseOrder&&g.reverse(),this.itemSelection.update(g);const y=[],m=Xd(i),S=o??n*.8,w=a+s+e;if(this.itemSelection.each((L,I)=>{var k,H,$;const V=gp(l??I.marker.shape),W=(k=I.marker.enabled)!=null?k:this.item.marker.enabled;L.marker&&L.marker instanceof V||(L.marker=new V),L.markerSize=a,L.spacing=s,L.fontStyle=c,L.fontWeight=d,L.fontSize=p,L.fontFamily=h;const K=(H=I.itemId)!=null?H:I.id,Z=this.getItemLabel(I),Q=(Z??"<unknown>").replace(/\r?\n/g," ");L.text=this.truncate(Q,u,S,w,m,K),v&&I.line!==void 0?(L.lineVisible=!0,L.markerVisible=W,L.setSeriesStrokeOffset(($=f.length)!=null?$:5)):(L.lineVisible=!1,L.markerVisible=!0),y.push(L.computeBBox())}),n=Math.max(1,n),t=Math.max(1,t),!isFinite(n))return!1;const _=this.size,x=this.oldSize;_[0]=n,_[1]=t,(_[0]!==x[0]||_[1]!==x[1])&&(x[0]=_[0],x[1]=_[1]);const{pages:b,maxPageHeight:O,maxPageWidth:P}=this.updatePagination(y,n,t);this.pages=b,this.maxPageSize=[P-e,O-r];const D=this.pagination.currentPage,N=this.pages[D];if(this.pages.length<1||!N){this.visible=!1;return}this.visible=!0,this.updatePositions(D),this.update()}truncate(n,t,e,r,i,o){const a="...",s=n.split("");let l=!1;if(n.length>t&&(n=`${n.substring(0,t)}`,l=!0),Math.floor(r+Wr.getTextSize(n,i).width)>e){let c="";const d=this.getCharacterWidths(i);let p=r+d[a];for(const h of s){if(d[h]||(d[h]=Wr.getTextSize(h,i).width),p+=d[h],p>e)break;c+=h}n=c,l=!0}return l?(n+=a,this.truncatedItems.add(o)):this.truncatedItems.delete(o),n}updatePagination(n,t,e){const r=this.getOrientation(),i=Math.min(this.paginationTrackingIndex,n.length);this.pagination.orientation=r,this.pagination.translationX=0,this.pagination.translationY=0;const{pages:o,maxPageHeight:a,maxPageWidth:s,paginationBBox:l,paginationVertical:u}=this.calculatePagination(n,t,e),c=o.findIndex(m=>m.endIndex>=i);this.pagination.currentPage=Dt(0,c,o.length-1);const{paddingX:d,paddingY:p}=this.item,h=8,f=s-d,v=a-p;let g=0,y=-l.y-this.item.marker.size/2;return u?y+=v+h:(g+=-l.x+f+h,y+=(v-l.height)/2),this.pagination.translationX=g,this.pagination.translationY=y,this.pagination.update(),this.pagination.updateMarkers(),{maxPageHeight:a,maxPageWidth:s,pages:o}}calculatePagination(n,t,e){var r,i,o;const{paddingX:a,paddingY:s}=this.item,l=this.getOrientation(),u=["left","right"].includes(this.position);let c=this.pagination.computeBBox(),d=new nt(0,0,0,0),p=[],h=0,f=0,v=0;const g=m=>{const{width:C,height:S}=m;return C===c.width&&S===c.height},y=this.maxWidth!==void 0||this.maxHeight!==void 0;do{if(v++>10){Oe.warn("unable to find stable legend layout.");break}c=d;const m=t-(u?0:c.width),C=e-(u?c.height:0),S=Fje({orientation:l,bboxes:n,maxHeight:C,maxWidth:m,itemPaddingY:s,itemPaddingX:a,forceResult:y});p=(r=S==null?void 0:S.pages)!=null?r:[],h=(i=S==null?void 0:S.maxPageWidth)!=null?i:0,f=(o=S==null?void 0:S.maxPageHeight)!=null?o:0;const w=p.length;if(this.pagination.visible=w>1,this.pagination.totalPages=w,this.pagination.update(),d=this.pagination.computeBBox(),!this.pagination.visible)break}while(!g(d));return{maxPageWidth:h,maxPageHeight:f,pages:p,paginationBBox:c,paginationVertical:u}}updatePositions(n=0){const{item:{paddingY:t},itemSelection:e,pages:r}=this;if(r.length<1||!r[n])return;const{columns:i,startIndex:o,endIndex:a}=r[n];let s=0,l=0;const u=i.length,c=i[0].indices.length,d=this.getOrientation()==="horizontal",p=i[0].bboxes[0].height+t,h=[];e.each((f,v,g)=>{var y,m;if(g<o||g>a){f.visible=!1;return}const C=g-o;let S=0,w=0;d?(S=C%u,w=Math.floor(C/u)):(S=Math.floor(C/c),w=C%c),f.visible=!0;const _=i[S];_&&(l=p*w,s=(y=h[w])!=null?y:0,h[w]=((m=h[w])!=null?m:0)+_.columnWidth,f.translationX=Math.floor(s),f.translationY=Math.floor(l))})}updatePageNumber(n){const{pages:t}=this,{startIndex:e,endIndex:r}=t[n];e===0?this.paginationTrackingIndex=0:n===t.length-1?this.paginationTrackingIndex=r:this.paginationTrackingIndex=Math.floor((e+r)/2),this.pagination.update(),this.pagination.updateMarkers(),this.updatePositions(n),this.ctx.updateService.update(6)}update(){const{label:{color:n},marker:t,line:e,showSeriesStroke:r}=this.item;this.itemSelection.each((i,o)=>{var a,s;const l=o.marker;i.markerFill=l.fill,i.markerStroke=l.stroke,i.markerStrokeWidth=(a=t.strokeWidth)!=null?a:Math.min(2,l.strokeWidth),i.markerFillOpacity=l.fillOpacity,i.markerStrokeOpacity=l.strokeOpacity,i.opacity=o.enabled?1:.5,i.color=n;const{line:u}=o;r&&u!==void 0&&(i.lineStroke=u.stroke,i.lineStrokeOpacity=u.strokeOpacity,i.lineStrokeWidth=(s=e.strokeWidth)!=null?s:Math.min(2,u.strokeWidth),i.lineLineDash=u.lineDash)})}getDatumForPoint(n,t){const e=[],r={dist:1/0,datum:void 0};for(const o of this.group.children){if(!o.visible||!(o instanceof vn))continue;const a=o.computeBBox();if(a.grow(this.item.paddingX/2,"horizontal"),a.grow(this.item.paddingY/2,"vertical"),a.containsPoint(n,t))return o.datum;const s=n-a.x-this.item.paddingX/2,l=t-a.y-this.item.paddingY/2,u=pt(s,2)+pt(l,2);s>=0&&l>=0&&u<r.dist&&(r.dist=u,r.datum=o.datum),e.push(a)}if(nt.merge(e).containsPoint(n,t))return r.datum}computePagedBBox(){const n=this.group.computeBBox();if(this.pages.length<=1)return n;const[t,e]=this.maxPageSize;return n.height=Math.max(e,n.height),n.width=Math.max(t,n.width),n}checkLegendClick(n){const{listeners:{legendItemClick:t},ctx:{chartService:e,highlightManager:r},item:{toggleSeriesVisible:i},preventHidingAll:o}=this,a=this.getDatumForPoint(n.offsetX,n.offsetY);if(!a)return;const{id:s,itemId:l,enabled:u}=a,c=e.series.find(p=>p.id===s);if(!c)return;n.consume();let d=u;i&&(d=!u,o&&!d&&e.series.flatMap(h=>h.getLegendData("category")).filter(h=>h.enabled).length<2&&(d=!0),this.ctx.chartEventManager.legendItemClick(c,l,d,a.legendItemName)),d?r.updateHighlight(this.id,{series:c,itemId:l,datum:void 0}):r.updateHighlight(this.id),this.ctx.updateService.update(2,{forceNodeDataRefresh:!0}),t==null||t({type:"click",enabled:d,itemId:l,seriesId:c.id})}checkLegendDoubleClick(n){var t;const{listeners:{legendItemDoubleClick:e},ctx:{chartService:r},item:{toggleSeriesVisible:i}}=this;if(r.mode==="integrated")return;const o=this.getDatumForPoint(n.offsetX,n.offsetY);if(!o)return;const{id:a,itemId:s,seriesId:l}=o,u=r.series.find(c=>c.id===a);if(u){if(n.consume(),i){const c=r.series.flatMap(h=>h.getLegendData("category")),d=c.filter(h=>h.enabled).length,p=c.find(h=>h.itemId===s&&h.seriesId===l);this.ctx.chartEventManager.legendItemDoubleClick(u,s,(t=p==null?void 0:p.enabled)!=null?t:!1,d,p==null?void 0:p.legendItemName)}this.ctx.updateService.update(2,{forceNodeDataRefresh:!0}),e==null||e({type:"dblclick",enabled:!0,itemId:s,seriesId:u.id})}}handleLegendMouseMove(n){var t;const{enabled:e,item:{toggleSeriesVisible:r},listeners:i}=this;if(!e)return;const{offsetX:o,offsetY:a}=n;n.consume();const s=this.getDatumForPoint(o,a);if(s===void 0){this.ctx.cursorManager.updateCursor(this.id),this.ctx.highlightManager.updateHighlight(this.id);return}const l=s?this.ctx.chartService.series.find(u=>u.id===(s==null?void 0:s.id)):void 0;s&&this.truncatedItems.has((t=s.itemId)!=null?t:s.id)?this.ctx.tooltipManager.updateTooltip(this.id,{offsetX:o,offsetY:a,lastPointerEvent:n,showArrow:!1,addCustomClass:!1},ZS({content:this.getItemLabel(s)})):this.ctx.tooltipManager.removeTooltip(this.id),(r||i.legendItemClick!=null||i.legendItemDoubleClick!=null)&&this.ctx.cursorManager.updateCursor(this.id,"pointer"),s!=null&&s.enabled&&l?this.ctx.highlightManager.updateHighlight(this.id,{series:l,itemId:s==null?void 0:s.itemId,datum:void 0}):this.ctx.highlightManager.updateHighlight(this.id)}handleLegendMouseExit(n){this.ctx.cursorManager.updateCursor(this.id),this.ctx.highlightManager.updateHighlight(this.id),this.ctx.tooltipManager.removeTooltip(this.id)}positionLegend(n){const t=n.clone();if(!this.enabled||!this.data.length)return{shrinkRect:t};const[e,r]=this.calculateLegendDimensions(n);this.group.translationX=0,this.group.translationY=0,this.performLayout(e,r);const i=this.computePagedBBox(),o=()=>{switch(this.position){case"top":case"left":return 0;case"bottom":return n.height-i.height;case"right":default:return n.width-i.width}};if(this.visible){let a,s;switch(this.position){case"top":case"bottom":a=(n.width-i.width)/2,s=o(),t.shrink(i.height,this.position);break;case"left":case"right":default:a=o(),s=(n.height-i.height)/2,t.shrink(i.width,this.position)}this.group.translationX=Math.floor(-i.x+n.x+a),this.group.translationY=Math.floor(-i.y+n.y+s)}if(this.visible&&this.enabled&&this.data.length){const a=this.spacing;t.shrink(a,this.position);const s=i.clone();s.x+=this.group.translationX,s.y+=this.group.translationY,this.ctx.tooltipManager.updateExclusiveRect(this.id,s)}else this.ctx.tooltipManager.updateExclusiveRect(this.id);return{shrinkRect:t}}calculateLegendDimensions(n){const{width:t,height:e}=n,r=t/e,i=.5,o=.2,a=.25;let s,l;switch(this.position){case"top":case"bottom":const u=r<1?Math.min(i,o*(1/r)):o;s=this.maxWidth?Math.min(this.maxWidth,t):t,l=this.maxHeight?Math.min(this.maxHeight,e):Math.round(e*u);break;case"left":case"right":default:const c=r>1?Math.min(i,a*r):a;s=this.maxWidth?Math.min(this.maxWidth,t):Math.round(t*c),l=this.maxHeight?Math.min(this.maxHeight,e):e}return[s,l]}};bo.className="Legend";R([M(je)],bo.prototype,"pagination",2);R([M(je)],bo.prototype,"item",2);R([M(je)],bo.prototype,"listeners",2);R([oy(n=>n.updateGroupVisibility()),M(qe)],bo.prototype,"enabled",2);R([M(WV)],bo.prototype,"position",2);R([M(xe,{optional:!0})],bo.prototype,"maxWidth",2);R([M(xe,{optional:!0})],bo.prototype,"maxHeight",2);R([M(qe,{optional:!0})],bo.prototype,"reverseOrder",2);R([M(tn(["horizontal","vertical"],"an orientation"),{optional:!0})],bo.prototype,"orientation",2);R([M(qe,{optional:!0})],bo.prototype,"preventHidingAll",2);R([M(xe)],bo.prototype,"spacing",2);var Kje=["top","right","bottom","left"],Cee=["category","grouped-category","number","log","time"];function Yje(n){return Cee.includes(n.type)}function Xje(n){return Cee.includes(n.type)}function qje(n){return typeof n=="string"&&Kje.includes(n)}var Zje=class{constructor(){this.result=[],this.valid=[],this.invalid=[]}push(n,t){const{result:e,valid:r,invalid:i}=this;Xje(t)&&(qje(t.position)?r.push(n):i.push(n)),e.push(n)}guessInvalidPositions(){const n=this.valid.filter(e=>Yje(e)).map(e=>e.position).filter(e=>e!==void 0),t=["top","right","bottom","left"];for(const e of this.invalid){let r=t.pop();for(;n.includes(r)&&r!==void 0;)r=t.pop();if(r===void 0)break;e.position=r}return this.result}};function Qje(n,t,e){var r,i,o;const a=["direction","xKey","yKey","sizeKey","angleKey","radiusKey","normalizedTo"],s=(f,v)=>{const g=[f];for(const y of a)y in v&&v[y]!=null&&g.push(`${y}=${v[y]}`);return g.join(";")},l=new Map;let u=0;for(const f of n){const v=s(f.type,f.properties);l.has(v)||l.set(v,[]),(r=l.get(v))==null||r.push([f,u++])}const c=new Map;for(const f of t){const v=s(f.type,f);c.has(v)||c.set(v,[]),(i=c.get(v))==null||i.push(f)}if(![...l.keys()].some(f=>c.has(f)))return{status:"no-overlap",oldKeys:l.keys(),newKeys:c.keys()};const p=[];let h=-1;for(const[f,v]of c.entries())for(const g of v){h++;const y=l.get(f);if(y==null||y.length<1){p.push({opts:g,idx:h,status:"add"}),l.delete(f);continue}const[m,C]=y.shift(),S=(o=e==null?void 0:e[C])!=null?o:{},w=da(S,g??{});w?p.push({opts:g,series:m,diff:w,idx:C,status:"update"}):p.push({opts:g,series:m,idx:C,status:"no-op"}),y.length===0&&l.delete(f)}for(const f of l.values())for(const[v,g]of f)p.push({series:v,idx:g,status:"remove"});return{status:"overlap",changes:p}}var Mu="ag-chart-overlay",DI="ag-chart-dark-overlay",ug=class{constructor(n,t,e){this.className=n,this.parentElement=t,this.animationManager=e,this.darkTheme=!1}show(n){var t,e;this.element||(this.element=this.createElement("div"),this.element.classList.add(this.className,Mu)),this.element.classList.toggle(DI,this.darkTheme);const{element:r}=this;if(r.style.position="absolute",r.style.left=`${n.x}px`,r.style.top=`${n.y}px`,r.style.width=`${n.width}px`,r.style.height=`${n.height}px`,this.renderer)r.innerHTML=this.renderer();else{const i=this.createElement("div");i.style.alignItems="center",i.style.boxSizing="border-box",i.style.display="flex",i.style.justifyContent="center",i.style.margin="8px",i.style.height="100%",i.style.font="12px Verdana, sans-serif",i.innerText=(t=this.text)!=null?t:"No data to display",r.replaceChildren(i),this.animationManager.animate({from:0,to:1,phase:"add",id:"overlay",groupId:"opacity",onUpdate(o){r.style.opacity=String(o)},onStop(){r.style.opacity="1"}})}(e=this.parentElement)==null||e.append(r)}hide(){if(!this.element)return;const n=this.element;this.animationManager.animate({from:1,to:0,phase:"remove",id:"overlay",groupId:"opacity",onUpdate(t){n.style.opacity=String(t)},onStop(){n.remove()}}),this.element=void 0}createElement(n,t){return this.parentElement.ownerDocument.createElement(n,t)}};R([M(ss,{optional:!0})],ug.prototype,"renderer",2);R([M(Ee,{optional:!0})],ug.prototype,"text",2);R([M(qe)],ug.prototype,"darkTheme",2);var Jje=`
.${Mu} {
    color: #181d1f;
}

.${Mu}.${DI} {
    color: #ffffff;
}

.${Mu}--loading {
    color: rgb(140, 140, 140); /* DEFAULT_MUTED_LABEL_COLOUR */
}

.${Mu}__loading-background {
    background: white; /* DEFAULT_BACKGROUND_FILL */
}

.${Mu}.${DI} .${Mu}__loading-background {
    background: #192232; /* DEFAULT_DARK_BACKGROUND_FILL */
}
`,See=class MI{constructor(t,e){this.loading=new ug("ag-chart-loading-overlay",t,e),this.loading.text="Loading data...",this.loading.renderer=()=>this.renderLoadingSpinner(t,e),this.noData=new ug("ag-chart-no-data-overlay",t,e),this.noVisibleSeries=new ug("ag-chart-no-visible-series",t,e),this.noVisibleSeries.text="No visible series",MI.overlayDocuments.indexOf(t.ownerDocument)<0&&(rP(t.ownerDocument,Jje),MI.overlayDocuments.push(t.ownerDocument))}destroy(){this.loading.hide(),this.noData.hide(),this.noVisibleSeries.hide()}renderLoadingSpinner(t,e){var r;const i=this.createElement(t,"div");i.className=`${Mu}--loading`,i.style.display="flex",i.style.alignItems="center",i.style.justifyContent="center",i.style.flexDirection="column",i.style.height="100%",i.style.boxSizing="border-box",i.style.font="13px Verdana, sans-serif",i.style.userSelect="none",i.style.animation=`ag-charts-loading ${VV.animationDuration*e.defaultDuration}ms linear 50ms both`;const o=this.createElement(i,"span");o.style.width="45px",o.style.height="40px",o.style.backgroundImage=`${["linear-gradient(#0000 calc(1 * 100% / 6), #ccc 0 calc(3 * 100% / 6), #0000 0), ","linear-gradient(#0000 calc(2 * 100% / 6), #ccc 0 calc(4 * 100% / 6), #0000 0), ","linear-gradient(#0000 calc(3 * 100% / 6), #ccc 0 calc(5 * 100% / 6), #0000 0)"].join("")}`,o.style.backgroundSize="10px 400%",o.style.backgroundRepeat="no-repeat",o.style.animation="ag-charts-loading-matrix 1s infinite linear";const a=this.createElement(i,"p");a.style.marginTop="1em",a.innerText=(r=this.loading.text)!=null?r:"Loading data...";const s=this.createElement(t,"div");s.className=`${Mu}__loading-background`,s.style.position="absolute",s.style.top="0",s.style.right="0",s.style.bottom="0",s.style.left="0",s.style.opacity="0.5",s.style.zIndex="-1";const l=this.createElement(i,"style");return l.innerText=["@keyframes ag-charts-loading { from { opacity: 0 } to { opacity: 1 } }","@keyframes ag-charts-loading-matrix {","0% { background-position: 0% 0%, 50% 0%, 100% 0%; }","100% { background-position: 0% 100%, 50% 100%, 100% 100%; }","}"].join(" "),i.replaceChildren(l,o,a,s),i.outerHTML}createElement(t,e,r){return t.ownerDocument.createElement(e,r)}};See.overlayDocuments=[];var e3e=See;function sP(n,t=[0,0]){for(const e of n)typeof e=="number"&&(e<0&&(t[0]+=e),e>0&&(t[1]+=e));return t}function t3e(n,t,e){return{id:t,scopes:[n.id],matchGroupIds:[e],type:"aggregate",aggregateFunction:i=>sP(i)}}function wee(n,t,e){return{id:t,scopes:[n.id],type:"aggregate",matchGroupIds:e?[e]:void 0,aggregateFunction:r=>sP(r),groupAggregateFunction:(r,i=[0,0])=>{var o,a;return i[0]+=(o=r==null?void 0:r[0])!=null?o:0,i[1]+=(a=r==null?void 0:r[1])!=null?a:0,i}}}function _ee(n,t,e){return{id:t,scopes:[n.id],matchGroupIds:[e],type:"aggregate",aggregateFunction:i=>uC(i)}}function r3e(n,t){return{id:t,scopes:[n.id],type:"aggregate",aggregateFunction:()=>[0,1]}}function LI(n,t){return{id:t,scopes:[n.id],type:"aggregate",aggregateFunction:()=>[0,1],groupAggregateFunction:(e,r=[0,0])=>{var i,o;return r[0]+=(i=e==null?void 0:e[0])!=null?i:0,r[1]+=(o=e==null?void 0:e[1])!=null?o:0,r}}}function n3e(n,t,e){return{id:t,scopes:[n.id],matchGroupIds:[e],type:"aggregate",aggregateFunction:i=>sP(i).map(o=>o/i.length)}}function xee(n,t,e){return{id:t,scopes:[n.id],matchGroupIds:e?[e]:void 0,type:"aggregate",aggregateFunction:i=>sP(i),groupAggregateFunction:(i,o=[0,0,-1])=>{var a,s;return o[0]+=(a=i==null?void 0:i[0])!=null?a:0,o[1]+=(s=i==null?void 0:i[1])!=null?s:0,o[2]++,o},finalFunction:(i=[0,0,0])=>{const o=i[0]+i[1];return o>=0?[0,o/i[2]]:[o/i[2],0]}}}function FI(n,t,e,r){const i={id:t,scopes:[n.id],matchGroupIds:r?[r]:void 0,type:"aggregate",aggregateFunction:(o,a=[])=>{const s=a[1]-a[0];return e.aggregateFunction(o).map(l=>l/s)}};return e.groupAggregateFunction&&(i.groupAggregateFunction=e.groupAggregateFunction),i}function Eee(n){return()=>{let t=0;return e=>Nt(e)?(t+=n?Math.max(0,e):e,t):e}}function bee(){return()=>{let n=0;return t=>{if(!Nt(t))return t;const e=n;return n+=t,e}}}var Cm=new Map;function MO(n,t){var e,r,i;const o=JSON.stringify(n,null,0);return Cm.has(t)||Cm.set(t,new Map),(e=Cm.get(t))!=null&&e.has(o)||(r=Cm.get(t))==null||r.set(o,t(n)),(i=Cm.get(t))==null?void 0:i.get(o)}var II={type:"reducer",property:"smallestKeyInterval",initialValue:1/0,reducer:()=>{let n=NaN;return(t=1/0,e)=>{const r=e.keys[0],i=Math.abs(r-n);return n=r,!isNaN(i)&&i>0&&i<t?i:t}}},i3e={type:"processor",property:"aggValuesExtent",calculate:n=>{var t,e,r,i;const o=[...(e=(t=n.domain.aggValues)==null?void 0:t[0])!=null?e:[0,0]];for(const[a,s]of(i=(r=n.domain.aggValues)==null?void 0:r.slice(1))!=null?i:[])a<o[0]&&(o[0]=a),s>o[1]&&(o[1]=s);return o}},Oee={type:"processor",property:"sortedGroupDomain",calculate:({domain:{groups:n}})=>{if(n!=null)return[...n].sort((t,e)=>{for(let r=0;r<t.length;r++){const i=t[r]-e[r];if(i!==0)return i}return 0})}};function o3e({normaliseTo:n,mode:t}){const e=(r,i)=>{const o=r*n/i;return o>=0?Math.min(n,o):Math.max(-n,o)};return()=>()=>(r,i)=>{const o=[0,0];for(const s of i){const l=r[s],u=l<0?0:1;t==="sum"?o[u]+=l:u===0?o[u]=Math.min(o[u],l):o[u]=Math.max(o[u],l)}const a=Math.max(Math.abs(o[0]),o[1]);for(const s of i)r[s]=e(r[s],a)}}function LO(n,t,e,r="sum"){return{scopes:[n.id],type:"group-value-processor",matchGroupIds:t,adjust:MO({normaliseTo:e,mode:r},o3e)}}function a3e({normaliseTo:n,zeroDomain:t,rangeMin:e,rangeMax:r}){const i=n[1]-n[0],o=(a,s,l)=>{const u=n[0]+(a-s)/l*i;return l===0?t:u>=n[1]?n[1]:u<n[0]?n[0]:u};return()=>(a,s)=>{let[l,u]=a.domain.values[s];e!=null&&(l=e),r!=null&&(u=r);const c=u-l;a.domain.values[s]=[n[0],n[1]];for(const d of a.data){let p=d.values;a.type==="ungrouped"&&(p=[p]);for(const h of p)h[s]=o(h[s],l,c)}}}function tw(n,t,e,r,i,o){return{scopes:[n.id],type:"property-value-processor",property:t,adjust:MO({normaliseTo:e,rangeMin:i,rangeMax:o,zeroDomain:r},a3e)}}function uy(n,t=[]){return{type:"processor",scopes:[n.id],property:"animationValidation",calculate(e){var r;const{keys:i,values:o}=e.defs,{input:a,data:s}=e;let l=!0,u=!0;const c=[];for(let p=0;p<o.length;p++)(r=o[p].scopes)!=null&&r.some(h=>h===n.id)&&t.some(h=>o[p].id===h)&&c.push([p,o[p]]);const d=(p,h,f)=>{var v;if(h.valueType==="category"){const y=e.domain[f][p];l&&(l=y.length===a.count);return}let g=(v=s[0])==null?void 0:v[f][p];for(let y=1;(l||u)&&y<s.length;y++){const m=s[y][f][p];u&&(u=g<=m),l&&(l=g!==m),g=m}};for(let p=0;(l||u)&&p<i.length;p++)d(p,i[p],"keys");for(let p=0;(l||u)&&p<c.length;p++){const[h,f]=c[p];d(h,f,"values")}return{uniqueKeys:l,orderedKeys:u}}}}function s3e({mode:n,separateNegative:t}){return()=>()=>(e,r)=>{const i=[0,0];for(const o of r){const a=e[o],s=t0(a)&&t?0:1;Nt(a)&&(n==="normal"&&(i[s]+=a),e[o]=i[s],n==="trailing"&&(i[s]+=a))}}}function l3e({mode:n,sum:t}){return()=>{const e=[];let r=!0;return()=>(i,o)=>{let a=0;for(const s of o){const l=i[s],u=r&&t==="current"?0:e[s];e[s]=l;const c=t==="current"?l:u;if(!Nt(l)||!Nt(u)){i[s]=a;continue}n==="normal"&&(a+=c),i[s]=a,n==="trailing"&&(a+=c)}r=!1}}}function Ree(n,t,e,r,i=!1){let o;if(e.startsWith("window")){const a=e.endsWith("-trailing")?"trailing":"normal";o=MO({mode:a,sum:r},l3e)}else o=MO({mode:e,separateNegative:i},s3e);return{scopes:[n.id],type:"group-value-processor",matchGroupIds:[t],adjust:o}}function Of(n,t=!0){return{type:"processor",property:"diff",calculate:e=>{const r={changed:!1,moved:[],added:[],updated:[],removed:[],addedIndices:[],updatedIndices:[],removedIndices:[]},i=new Map,o=new Map,a=new Map,s=new Map,l=new Map,u=new Map,c=new Map;for(let d=0;d<Math.max(n.data.length,e.data.length);d++){const p=n.data[d],h=e.data[d],f=p?Zd(p.keys):"",v=h?Zd(h.keys):"";if(f===v){BC(p.values,h.values)||(a.set(v,h),u.set(v,d));continue}s.has(v)?((t||!BC(s.get(v).values,h.values))&&(a.set(v,h),u.set(v,d),i.set(v,h)),s.delete(v),c.delete(v)):h&&(o.set(v,h),l.set(v,d)),o.has(f)?((t||!BC(o.get(f).values,p.values))&&(a.set(f,p),u.set(f,d),i.set(f,p)),o.delete(f),l.delete(f)):p&&(a.delete(f),u.delete(f),s.set(f,p),c.set(f,d))}return r.added=Array.from(o.keys()),r.updated=Array.from(a.keys()),r.removed=Array.from(s.keys()),r.moved=Array.from(i.keys()),r.addedIndices=Array.from(l.values()),r.updatedIndices=Array.from(u.values()),r.removedIndices=Array.from(c.values()),r.changed=r.added.length>0||r.updated.length>0||r.removed.length>0,r}}}function Zd(n){return fn(n)?n.map(t=>ag(t)).join("___"):ag(n)}var Tee=(n=>(n[n.EXACT_SHAPE_MATCH=0]="EXACT_SHAPE_MATCH",n[n.NEAREST_BY_MAIN_AXIS_FIRST=1]="NEAREST_BY_MAIN_AXIS_FIRST",n[n.NEAREST_BY_MAIN_CATEGORY_AXIS_FIRST=2]="NEAREST_BY_MAIN_CATEGORY_AXIS_FIRST",n[n.NEAREST_NODE=3]="NEAREST_NODE",n))(Tee||{});function fB(n){return QS(n,!0)!=null}function Pee(n){return QS(n,!1)!=null}function ni(n,t,e,r={}){return J({scopes:[n.id],property:t,type:"key",valueType:e?"range":"category",validation:e?fB:Pee},r)}function Qt(n,t,e,r={}){return J({scopes:[n.id],property:t,type:"value",valueType:e?"range":"category",validation:e?fB:Pee},r)}function vB(n,t,e={}){const r=e,{min:i=-1/0,max:o=1/0}=r,a=En(r,["min","max"]);return J({scopes:[n.id],type:"value",property:t,valueType:"range",validation:fB,processor:()=>s=>Nt(s)?Dt(i,s,o):s},a)}function u3e(n,t,e,r={}){return Te(J({},Qt(n,t,e,r)),{processor:Aee()})}function Aee(){return()=>{let n=0;return t=>{const e=n;return n=t,e}}}function gB(n,t,e,r={}){const i=r,{onlyPositive:o}=i,a=En(i,["onlyPositive"]);return Te(J({},Qt(n,t,e,a)),{processor:Eee(o)})}function c3e(n,t,e,r={}){return Te(J({},Qt(n,t,e,r)),{processor:bee()})}function pd(n,t,e,r,i="current",o){return[Qt(n,t,e,o),Ree(n,o.groupId,r,i,o.separateNegative),...o.rangeId!=null?[_ee(n,o.rangeId,o.groupId)]:[]]}var c0=class{constructor(n,t,{datum:e},r){this.type=n,this.event=t,this.datum=e,this.seriesId=r.id}},yB=class{constructor(n,t,e){this.series=n,this.seriesGrouping=t,this.oldGrouping=e,this.type="groupingChanged"}},cy=class extends qJ{constructor(n){super(),this.destroyFns=[],this.seriesGrouping=void 0,this.NodeClickEvent=c0,this.internalId=uu(this),this.rootGroup=new Ve({name:"seriesRoot",isVirtual:!0}),this.axes={x:void 0,y:void 0},this.directions=["x","y"],this.nodeDataRefresh=!0,this.moduleMap=new EJ,this._declarationOrder=-1,this.seriesListeners=new ay;const{moduleCtx:t,useLabelLayer:e=!1,pickModes:r=[1],directionKeys:i={},directionNames:o={},contentGroupVirtual:a=!0,canHaveAxes:s=!1}=n;this.ctx=t,this.directionKeys=i,this.directionNames=o,this.canHaveAxes=s,this.contentGroup=this.rootGroup.appendChild(new Ve({name:`${this.internalId}-content`,layer:!a,isVirtual:a,zIndex:4,zIndexSubOrder:this.getGroupZIndexSubOrder("data")})),this.highlightGroup=new Ve({name:`${this.internalId}-highlight`,layer:!a,isVirtual:a,zIndex:4,zIndexSubOrder:this.getGroupZIndexSubOrder("highlight")}),this.highlightNode=this.highlightGroup.appendChild(new Ve({name:"highlightNode",zIndex:0})),this.highlightLabel=this.highlightGroup.appendChild(new Ve({name:"highlightLabel",zIndex:10})),this.pickModes=r,this.labelGroup=this.rootGroup.appendChild(new Ve({name:`${this.internalId}-series-labels`,layer:e,zIndex:7})),this.annotationGroup=new Ve({name:`${this.id}-annotation`,layer:!a,isVirtual:a,zIndex:4,zIndexSubOrder:this.getGroupZIndexSubOrder("annotation")})}get id(){var n,t;return(t=(n=this.properties)==null?void 0:n.id)!=null?t:this.internalId}get type(){var n;return(n=this.constructor.type)!=null?n:""}set data(n){this._data=n,this.onDataChange()}get data(){var n;return(n=this._data)!=null?n:this._chartData}set visible(n){this.properties.visible=n,this.visibleChanged()}get visible(){return this.properties.visible}onDataChange(){this.nodeDataRefresh=!0}setChartData(n){this._chartData=n,this.data===n&&this.onDataChange()}onSeriesGroupingChange(n,t){const{internalId:e,type:r,visible:i}=this;n&&this.ctx.seriesStateManager.deregisterSeries({id:e,type:r}),t&&this.ctx.seriesStateManager.registerSeries({id:e,type:r,visible:i,seriesGrouping:t}),this.fireEvent(new yB(this,t,n))}getBandScalePadding(){return{inner:1,outer:0}}getGroupZIndexSubOrder(n,t=0){let e=0;switch(n){case"data":case"paths":break;case"labels":e+=2e4;break;case"marker":e+=1e4;break;case"highlight":t+=15e3;break;case"annotation":e+=15e3;break}return[()=>this._declarationOrder+e,t]}addListener(n,t){return this.seriesListeners.addListener(n,t)}dispatch(n,t){this.seriesListeners.dispatch(n,t)}addChartEventListeners(){}destroy(){this.destroyFns.forEach(n=>n()),this.destroyFns=[],this.ctx.seriesStateManager.deregisterSeries(this)}getDirectionValues(n,t){const e=this.resolveKeyDirection(n),r=t==null?void 0:t[e],i=[];if(!r)return i;const o=(...a)=>{for(const s of a)Array.isArray(s)?o(...s):typeof s=="object"?o(...Object.values(s)):i.push(s)};return o(...r.map(a=>this.properties[a])),i}getKeys(n){return this.getDirectionValues(n,this.directionKeys)}getNames(n){return this.getDirectionValues(n,this.directionNames)}resolveKeyDirection(n){return n}getDomain(n){const t=this.getSeriesDomain(n),e=this.moduleMap.mapValues(r=>r.getDomain(n));return t.concat(e.flat())}markNodeDataDirty(){this.nodeDataRefresh=!0}visibleChanged(){this.ctx.seriesStateManager.registerSeries(this)}getOpacity(){const{dimOpacity:t=1,enabled:e=!0}=this.properties.highlightStyle.series;if(!e||t===1)return 1;switch(this.isItemIdHighlighted()){case 0:case 1:return 1;case 2:default:return t}}getStrokeWidth(n){const{strokeWidth:t,enabled:e=!0}=this.properties.highlightStyle.series;if(!e||t===void 0)return n;switch(this.isItemIdHighlighted()){case 1:return t;case 0:case 2:return n}}isItemIdHighlighted(){var n,t;const{series:e}=(t=(n=this.ctx.highlightManager)==null?void 0:n.getActiveHighlight())!=null?t:{};return e==null?0:e!==this?2:1}getModuleTooltipParams(){return this.moduleMap.mapValues(t=>t.getTooltipParams()).reduce((t,e)=>J(J({},e),t),{})}pickNode(n,t){const{pickModes:e,visible:r,rootGroup:i}=this;if(!(!r||!i.visible))for(const o of e){if(t&&!t.includes(o))continue;let a;switch(o){case 0:a=this.pickNodeExactShape(n);break;case 1:case 2:a=this.pickNodeMainAxisFirst(n,o===2);break;case 3:a=this.pickNodeClosestDatum(n);break}if(a)return{pickMode:o,match:a.datum,distance:a.distance}}}pickNodeExactShape(n){const t=this.contentGroup.pickNode(n.x,n.y);return t&&{datum:t.datum,distance:0}}pickNodeClosestDatum(n){throw new Error("AG Charts - Series.pickNodeClosestDatum() not implemented")}pickNodeMainAxisFirst(n,t){throw new Error("AG Charts - Series.pickNodeMainAxisFirst() not implemented")}fireNodeClickEvent(n,t){this.fireEvent(new this.NodeClickEvent("nodeClick",n,t,this))}fireNodeDoubleClickEvent(n,t){this.fireEvent(new this.NodeClickEvent("nodeDoubleClick",n,t,this))}toggleSeriesItem(n,t){this.visible=t,this.nodeDataRefresh=!0,this.dispatch("visibility-changed",{itemId:n,enabled:t})}isEnabled(){return this.visible}getModuleMap(){return this.moduleMap}createModuleContext(){return Te(J({},this.ctx),{series:this})}getLabelText(n,t,e=String){var r;return n.formatter&&(r=this.ctx.callbackCache.call(n.formatter,J({seriesId:this.id},t)))!=null?r:e(t.value)}getMarkerStyle(n,t,e=n.getStyle()){var r,i;const o={size:(i=(r=t.datum.point)==null?void 0:r.size)!=null?i:0},a=mt(o,e);if(n.formatter){const s=this.ctx.callbackCache.call(n.formatter,Te(J(J({seriesId:this.id},a),t),{datum:t.datum.datum}));return mt(s,a)}return a}updateMarkerStyle(n,t,e,r=t.getStyle(),{applyTranslation:i=!0}={}){const{point:o}=e.datum,a=this.getMarkerStyle(t,e,r),s=this.visible&&a.size>0&&o&&!isNaN(o.x)&&!isNaN(o.y);i?n.setProperties(Te(J({visible:s},a),{translationX:o==null?void 0:o.x,translationY:o==null?void 0:o.y})):n.setProperties(J({visible:s},a)),typeof t.shape=="function"&&!n.dirtyPath&&(n.path.clear({trackChanges:!0}),n.updatePath(),n.checkPathDirty())}getMinRect(){}get nodeDataDependencies(){var n;return(n=this._nodeDataDependencies)!=null?n:{seriesRectWidth:NaN,seriesRectHeight:NaN}}checkResize(n){const{width:t,height:e}=n??{width:NaN,height:NaN},r=n?{seriesRectWidth:t,seriesRectHeight:e}:void 0,i=da(this.nodeDataDependencies,r)!=null;return i&&(this._nodeDataDependencies=r,this.markNodeDataDirty()),i}};cy.highlightedZIndex=1e12;R([An({changeValue:function(n,t){this.onSeriesGroupingChange(t,n)}})],cy.prototype,"seriesGrouping",2);var Cz=30,d3e=class{constructor(n){this.groups={},this.series={},this.expectedSeriesCount=1,this.mode="normal",this.rootGroup=n}setSeriesCount(n){this.expectedSeriesCount=n}requestGroup(n){var t,e,r,i;const{internalId:o,type:a,rootGroup:s,highlightGroup:l,annotationGroup:u,seriesGrouping:c}=n,{groupIndex:d=o}=c??{};if(this.series[o]!=null)throw new Error(`AG Charts - series already has an allocated layer: ${this.series[o]}`);Object.keys(this.series).length===0&&(this.mode=this.expectedSeriesCount>=Cz?"aggressive-grouping":"normal"),(e=(t=this.groups)[a])!=null||(t[a]={});const p=this.lookupIdx(d);let h=this.groups[a][p];return h||(h=(i=(r=this.groups[a])[p])!=null?i:r[p]={seriesIds:[],group:this.rootGroup.appendChild(new Ve({name:`${a}-content`,layer:!0,zIndex:4,zIndexSubOrder:n.getGroupZIndexSubOrder("data")})),highlight:this.rootGroup.appendChild(new Ve({name:`${a}-highlight`,layer:!0,zIndex:4,zIndexSubOrder:n.getGroupZIndexSubOrder("highlight")})),annotation:this.rootGroup.appendChild(new Ve({name:`${a}-annotation`,layer:!0,zIndex:4,zIndexSubOrder:n.getGroupZIndexSubOrder("annotation")}))}),this.series[o]={layerState:h,seriesConfig:n},h.seriesIds.push(o),h.group.appendChild(s),h.highlight.appendChild(l),h.annotation.appendChild(u),h.group}changeGroup(n){var t,e;const{internalId:r,seriesGrouping:i,type:o,rootGroup:a,highlightGroup:s,annotationGroup:l,oldGrouping:u}=n,{groupIndex:c=r}=i??{};(e=(t=this.groups[o])==null?void 0:t[c])!=null&&e.seriesIds.includes(r)||(this.series[r]!=null&&this.releaseGroup({internalId:r,seriesGrouping:u,type:o,rootGroup:a,highlightGroup:s,annotationGroup:l}),this.requestGroup(n))}releaseGroup(n){var t,e,r,i,o;const{internalId:a,seriesGrouping:s,rootGroup:l,highlightGroup:u,annotationGroup:c,type:d}=n,{groupIndex:p=a}=s??{};if(this.series[a]==null)throw new Error(`AG Charts - series doesn't have an allocated layer: ${a}`);const h=this.lookupIdx(p),f=(r=(t=this.groups[d])==null?void 0:t[h])!=null?r:(e=this.series[a])==null?void 0:e.layerState;if(f&&(f.seriesIds=f.seriesIds.filter(v=>v!==a),f.group.removeChild(l),f.highlight.removeChild(u),f.annotation.removeChild(c)),(f==null?void 0:f.seriesIds.length)===0)this.rootGroup.removeChild(f.group),this.rootGroup.removeChild(f.highlight),this.rootGroup.removeChild(f.annotation),delete this.groups[d][h],delete this.groups[d][a];else if((f==null?void 0:f.seriesIds.length)>0){const v=(o=this.series[(i=f==null?void 0:f.seriesIds)==null?void 0:i[0]])==null?void 0:o.seriesConfig;f.group.zIndexSubOrder=v==null?void 0:v.getGroupZIndexSubOrder("data"),f.highlight.zIndexSubOrder=v==null?void 0:v.getGroupZIndexSubOrder("highlight"),f.annotation.zIndexSubOrder=v==null?void 0:v.getGroupZIndexSubOrder("annotation")}delete this.series[a]}lookupIdx(n){return this.mode==="normal"?n:typeof n=="string"&&(n=Number(n.split("-").slice(-1)[0]),!n)?0:Math.floor(Math.max(Math.min(n/this.expectedSeriesCount,1),0)*Cz)}destroy(){for(const n of Object.values(this.groups))for(const t of Object.values(n))this.rootGroup.removeChild(t.group),this.rootGroup.removeChild(t.highlight),this.rootGroup.removeChild(t.annotation);this.groups={},this.series={}}},p3e=class{constructor(){this.groups={}}registerSeries({id:n,seriesGrouping:t,visible:e,type:r}){var i,o;t&&((o=(i=this.groups)[r])!=null||(i[r]={}),this.groups[r][n]={grouping:t,visible:e})}deregisterSeries({id:n,type:t}){this.groups[t]&&delete this.groups[t][n],this.groups[t]&&Object.keys(this.groups[t]).length===0&&delete this.groups[t]}getVisiblePeerGroupIndex({type:n,seriesGrouping:t,visible:e}){var r;if(!t)return{visibleGroupCount:e?1:0,visibleSameStackCount:e?1:0,index:0};const i=new Set,o=new Set;for(const[s,l]of Object.entries((r=this.groups[n])!=null?r:{}))l.visible&&(i.add(l.grouping.groupIndex),l.grouping.groupIndex===t.groupIndex&&o.add(l.grouping.stackIndex));const a=[...i.values()];return a.sort((s,l)=>s-l),{visibleGroupCount:a.length,visibleSameStackCount:o.size,index:a.indexOf(t.groupIndex)}}},h3e=class{constructor(n,t){this.chartLike=n,this.layoutService=t,this.destroyFns=[],this.destroyFns.push(this.layoutService.addListener("layout-complete",e=>this.layoutComplete(e)),this.layoutService.addListener("start-layout",e=>this.positionPadding(e.shrinkRect)),this.layoutService.addListener("start-layout",e=>this.positionCaptions(e.shrinkRect)))}destroy(){this.destroyFns.forEach(n=>n())}layoutComplete({clipSeries:n,series:{paddedRect:t}}){const{seriesArea:e,seriesRoot:r}=this.chartLike;e.clip||n?r.setClipRectInGroupCoordinateSpace(t):r.setClipRectInGroupCoordinateSpace()}positionPadding(n){const{padding:t}=this.chartLike;return n.shrink(t.left,"left"),n.shrink(t.top,"top"),n.shrink(t.right,"right"),n.shrink(t.bottom,"bottom"),{shrinkRect:n}}positionCaptions(n){var t,e,r,i;const{title:o,subtitle:a,footnote:s}=this.chartLike,l=n.clone(),u=h=>{var f;const v=n.height/10,g=(f=h.lineHeight)!=null?f:h.fontSize*Mt.defaultLineHeightRatio,y=n.width,m=Math.max(g,v);h.computeTextWrap(y,m)},c=h=>h==="left"?l.x:h==="right"?l.x+l.width:(h!=="center"&&Oe.error(`invalid textAlign value: ${h}`),l.x+l.width/2),d=(h,f)=>{const v=l.y;h.node.x=c(h.textAlign),h.node.y=v,h.node.textBaseline="top",u(h);const g=h.node.computeBBox(),y=Math.ceil(g.y-v+g.height+f);l.shrink(y,"top")},p=(h,f)=>{const v=l.y+l.height;h.node.x=c(h.textAlign),h.node.y=v,h.node.textBaseline="bottom",u(h);const g=h.node.computeBBox(),y=Math.ceil(v-g.y+f);l.shrink(y,"bottom")};if(a&&(a.node.visible=(t=a.enabled)!=null?t:!1),o&&(o.node.visible=o.enabled,o.node.visible)){const h=a!=null&&a.node.visible?Ar.SMALL_PADDING:Ar.LARGE_PADDING,f=(e=o.spacing)!=null?e:h;d(o,f)}return a&&a.node.visible&&d(a,(r=a.spacing)!=null?r:0),s&&(s.node.visible=s.enabled,s.node.visible&&p(s,(i=s.spacing)!=null?i:0)),{shrinkRect:l}}},f3e=class{constructor(n,t,e,r){this.chart=n,this.dataService=t,this.updateService=e,this.zoomManager=r,this.dirtyZoom=!1,this.dirtyDataSource=!1,this.lastAxisZooms=new Map,this.destroyFns=[],this.destroyFns.push(this.dataService.addListener("data-source-change",()=>this.onDataSourceChange()),this.dataService.addListener("data-load",()=>this.onDataLoad()),this.dataService.addListener("data-error",()=>this.onDataError()),this.updateService.addListener("update-complete",()=>this.onUpdateComplete()),this.zoomManager.addListener("zoom-change",()=>this.onZoomChange()))}destroy(){this.destroyFns.forEach(n=>n())}onDataLoad(){this.updateService.update(1)}onDataError(){this.updateService.update(3)}onDataSourceChange(){this.dirtyDataSource=!0}onUpdateComplete(){!this.dirtyZoom&&!this.dirtyDataSource||this.updateWindow()}onZoomChange(){this.dirtyZoom=!0}updateWindow(){return le(this,null,function*(){if(!this.dataService.isLazy())return;const n=this.getValidAxis();let t,e=!0;if(n){const r=this.zoomManager.getAxisZoom(n.id);t=this.getAxisWindow(n,r),e=this.shouldRefresh(n,r)}this.dirtyZoom=!1,this.dirtyDataSource=!1,e&&this.dataService.load({windowStart:t==null?void 0:t.min,windowEnd:t==null?void 0:t.max})})}getValidAxis(){return this.chart.axes.find(n=>n.type==="time")}shouldRefresh(n,t){if(this.dirtyDataSource)return!0;if(!this.dirtyZoom)return!1;const e=this.lastAxisZooms.get(n.id);return e&&t.min===e.min&&t.max===e.max?!1:(this.lastAxisZooms.set(n.id,t),!0)}getAxisWindow(n,t){var e,r;const i=(r=(e=n.scale).getDomain)==null?void 0:r.call(e);if(!t||!i||i.length===0||isNaN(Number(i[0])))return;const o=Number(i[1])-Number(i[0]),a=new Date(Number(i[0])+o*t.min),s=new Date(Number(i[0])+o*t.max);return{min:a,max:s}}},v3e=class{constructor(n,t,e,r){this.chartLike=n,this.overlays=t,this.dataService=e,this.layoutService=r,this.destroyFns=[],this.destroyFns.push(this.layoutService.addListener("layout-complete",i=>this.onLayoutComplete(i)))}destroy(){this.destroyFns.forEach(n=>n())}onLayoutComplete({series:{rect:n}}){const t=this.dataService.isLoading(),e=this.chartLike.series.some(i=>{var o;return(o=i.data)==null?void 0:o.length}),r=this.chartLike.series.some(i=>i.visible);this.toggleOverlay(this.overlays.loading,n,t),this.toggleOverlay(this.overlays.noData,n,!t&&!e),this.toggleOverlay(this.overlays.noVisibleSeries,n,e&&!r)}toggleOverlay(n,t,e){e&&t?n.show(t):n.hide()}},Dee=class extends ay{constructor(n){super(),this.updateCallback=n}update(n=0,t){this.updateCallback(n,t)}dispatchUpdateComplete(n){this.dispatch("update-complete",{type:"update-complete",minRect:n})}},fs=$r.create(!0,"opts"),mB=class extends nr{constructor(){super(...arguments),this.padding=new vp(0)}};R([M(qe,{optional:!0})],mB.prototype,"clip",2);R([M(je)],mB.prototype,"padding",2);var pn=class Mee extends qJ{constructor(t,e){var r;super(),this.id=uu(this),this.seriesRoot=new Ve({name:`${this.id}-Series-root`}),this.debug=$r.create(),this.extraDebugStats={},this.data=[],this._firstAutoSize=!0,this.padding=new vp(20),this.seriesArea=new mB,this.mode="standalone",this.destroyed=!1,this._skipSync=!1,this._destroyFns=[],this.chartAnimationPhase="initial",this.highlightManager=new PI,this.syncManager=new Mje(this),this.zoomManager=new lee,this.modules=new Map,this.legends=new Map,this.processors=[],this.processedOptions={},this.userOptions={},this.queuedUserOptions=[],this._pendingFactoryUpdatesCount=0,this._performUpdateNoRenderCount=0,this._performUpdateSkipAnimations=!1,this.performUpdateType=7,this.updateShortcutCount=0,this.seriesToUpdate=new Set,this.updateMutex=new vje,this.updateRequestors={},this.performUpdateTrigger=yje(d=>le(this,[d],function*({count:p}){this.destroyed||this.updateMutex.acquire(()=>le(this,null,function*(){try{yield this.performUpdate(p)}catch(h){Oe.error("update error",h)}}))})),this.axes=[],this.series=[],this.lastInteractionEvent=void 0,this.pointerScheduler=gje(()=>{this.lastInteractionEvent&&(this.handlePointer(this.lastInteractionEvent,!1),this.lastInteractionEvent=void 0)}),this.onSeriesNodeClick=d=>{const p=Te(J({},d),{type:"seriesNodeClick"});Object.defineProperty(p,"series",{enumerable:!1,get:()=>d.series}),this.fireEvent(p)},this.onSeriesNodeDoubleClick=d=>{const p=Te(J({},d),{type:"seriesNodeDoubleClick"});this.fireEvent(p)},this.seriesGroupingChanged=d=>{if(!(d instanceof yB))return;const{series:p,seriesGrouping:h,oldGrouping:f}=d;p.rootGroup.parent!=null&&this.seriesLayerManager.changeGroup({internalId:p.internalId,type:p.type,rootGroup:p.rootGroup,highlightGroup:p.highlightGroup,annotationGroup:p.annotationGroup,getGroupZIndexSubOrder:v=>p.getGroupZIndexSubOrder(v),seriesGrouping:h,oldGrouping:f})},this.chartOptions=t;const{window:i,document:o}=t.specialOverrides,a=e==null?void 0:e.scene,s=(r=e==null?void 0:e.element)!=null?r:o.createElement("div"),l=e==null?void 0:e.container,u=new Ve({name:"root"});u.visible=!1,u.append(this.seriesRoot),this.axisGridGroup=new Ve({name:"Axes-Grids",layer:!0,zIndex:1}),u.appendChild(this.axisGridGroup),this.axisGroup=new Ve({name:"Axes",layer:!0,zIndex:2}),u.appendChild(this.axisGroup),this.element=s,s.classList.add("ag-chart-wrapper"),s.style.position="relative",this.scene=a??new iB(this.chartOptions.specialOverrides),this.scene.root=u,this.scene.container=s,this.autoSize=!0,this.chartEventManager=new iee,this.contextMenuRegistry=new oee,this.cursorManager=new aee(s),this.highlightManager=new PI,this.interactionManager=new ree(s,o,i),this.regionManager=new Dje(this.interactionManager),this.gestureDetector=new see(s),this.layoutService=new uee,this.updateService=new Dee((d=0,p)=>this.update(d,p)),this.seriesStateManager=new p3e,this.seriesLayerManager=new d3e(this.seriesRoot),this.callbackCache=new fje,this.animationManager=new nee(this.interactionManager,this.updateMutex),this.animationManager.skip(),this.animationManager.play(),this.dataService=new oP(this.animationManager),this.overlays=new e3e(this.element,this.animationManager),this.processors=[new h3e(this,this.layoutService),new f3e(this,this.dataService,this.updateService,this.zoomManager),new v3e(this,this.overlays,this.dataService,this.layoutService)],this.tooltip=new yJ(this.scene.canvas.element,o,i,o.body),this.tooltipManager=new AI(this.tooltip,this.interactionManager),this.highlight=new QJ,this.container=l,this.attachLegend("category",bo),this.legend=this.legends.get("category");const{All:c}=DO;dz.observe(this.element,d=>this.rawResize(d)),this._destroyFns.push(this.dataService.addListener("data-load",d=>{this.data=d.data}),this.interactionManager.addListener("click",d=>this.onClick(d)),this.interactionManager.addListener("dblclick",d=>this.onDoubleClick(d)),this.interactionManager.addListener("hover",d=>this.onMouseMove(d)),this.interactionManager.addListener("leave",d=>this.onLeave(d)),this.interactionManager.addListener("page-left",()=>this.destroy()),this.interactionManager.addListener("wheel",()=>this.resetPointer()),this.interactionManager.addListener("drag",()=>this.resetPointer()),this.interactionManager.addListener("contextmenu",d=>this.onContextMenu(d),c),this.animationManager.addListener("animation-frame",()=>{this.update(6)}),this.highlightManager.addListener("highlight-change",d=>this.changeHighlightDatum(d)),this.zoomManager.addListener("zoom-change",()=>this.update(2,{forceNodeDataRefresh:!0,skipAnimations:!0})))}static getInstance(t){return Mee.chartsInstances.get(t)}onAutoSizeChange(t){const{style:e}=this.element;if(t){if(e.display="block",e.width="100%",e.height="100%",!this._lastAutoSize)return;this.resize(void 0,void 0,"autoSize option")}else e.display="inline-block",e.width="auto",e.height="auto"}download(t,e){this.scene.download(t,e)}getOptions(){var t;return(t=this.queuedUserOptions.at(-1))!=null?t:this.userOptions}addModule(t){if(this.modules.has(t.optionsKey))throw new Error(`AG Charts - module already initialised: ${t.optionsKey}`);const e=new t.instanceConstructor(this.getModuleContext());if(t.type==="legend"){const r=e;this.legends.set(t.identifier,r),r.attachLegend(this.scene.root)}this.modules.set(t.optionsKey,e)}removeModule(t){var e;t.type==="legend"&&this.legends.delete(t.identifier),(e=this.modules.get(t.optionsKey))==null||e.destroy(),this.modules.delete(t.optionsKey)}attachLegend(t,e){const r=new e(this.getModuleContext());this.legends.set(t,r),r.attachLegend(this.scene.root)}isModuleEnabled(t){return this.modules.has(t.optionsKey)}getModuleContext(){return{window:this.chartOptions.specialOverrides.window,document:this.chartOptions.specialOverrides.document,scene:this.scene,animationManager:this.animationManager,chartEventManager:this.chartEventManager,contextMenuRegistry:this.contextMenuRegistry,cursorManager:this.cursorManager,highlightManager:this.highlightManager,interactionManager:this.interactionManager,regionManager:this.regionManager,gestureDetector:this.gestureDetector,tooltipManager:this.tooltipManager,syncManager:this.syncManager,zoomManager:this.zoomManager,chartService:this,dataService:this.dataService,layoutService:this.layoutService,updateService:this.updateService,seriesStateManager:this.seriesStateManager,callbackCache:this.callbackCache}}resetAnimations(){var t;this.chartAnimationPhase="initial";for(const e of this.series)e.resetAnimation(this.chartAnimationPhase);for(const e of this.axes)e.resetAnimation(this.chartAnimationPhase);this.animationRect=void 0,(t=this.animationManager)==null||t.reset()}skipAnimations(){this.animationManager.skipCurrentBatch(),this._performUpdateSkipAnimations=!0}destroy(t){if(this.destroyed)return;const e=t==null?void 0:t.keepTransferableResources;let r;this.performUpdateType=7,this._destroyFns.forEach(i=>i()),this.processors.forEach(i=>i.destroy()),this.tooltipManager.destroy(),this.tooltip.destroy(),this.legends.forEach(i=>i.destroy()),this.legends.clear(),this.overlays.destroy(),dz.unobserve(this.element);for(const i of this.modules.values())i==null||i.destroy();return this.modules.clear(),this.regionManager.destroy(),this.interactionManager.destroy(),this.animationManager.stop(),this.animationManager.destroy(),this.chartEventManager.destroy(),this.highlightManager.destroy(),this.zoomManager.destroy(),e?(this.scene.strip(),r={container:this.container,scene:this.scene,element:this.element}):(this.scene.destroy(),this.container=void 0),this.destroySeries(this.series),this.seriesLayerManager.destroy(),this.axes.forEach(i=>i.destroy()),this.axes=[],this.callbackCache.invalidateCache(),this.animationRect=void 0,this.animationManager.reset(),this.syncManager.destroy(),this.destroyed=!0,Object.freeze(this),r}resetPointer(t=!1){t||this.tooltipManager.removeTooltip(this.id),this.highlightManager.updateHighlight(this.id),this.lastInteractionEvent=void 0}requestFactoryUpdate(t){this.destroyed||(this._pendingFactoryUpdatesCount++,this.updateMutex.acquire(()=>le(this,null,function*(){this.destroyed||(yield t(this),!this.destroyed&&this._pendingFactoryUpdatesCount--)})))}update(t=0,e){var r,i;const{forceNodeDataRefresh:o=!1,skipAnimations:a,seriesToUpdate:s=this.series,newAnimationBatch:l}=e??{};o&&this.series.forEach(u=>u.markNodeDataDirty());for(const u of s)this.seriesToUpdate.add(u);if(a&&(this.animationManager.skipCurrentBatch(),this._performUpdateSkipAnimations=!0),l&&this.animationManager.isActive()&&(this._performUpdateSkipAnimations=!0),this._skipSync=(r=e==null?void 0:e.skipSync)!=null?r:!1,this.debug.check()){let u=(i=new Error().stack)!=null?i:"<unknown>";u=u.replace(/\([^)]*/g,""),this.updateRequestors[u]=t}t<this.performUpdateType&&(this.performUpdateType=t,this.performUpdateTrigger.schedule(e==null?void 0:e.backOffMs))}performUpdate(t){return le(this,null,function*(){const{performUpdateType:e,extraDebugStats:r}=this,i=[...this.seriesToUpdate];this.performUpdateType=7,this.seriesToUpdate.clear(),this.updateShortcutCount===0&&e<6&&(this.animationManager.startBatch(this._performUpdateSkipAnimations),this.animationManager.onBatchStop(()=>this.chartAnimationPhase="ready")),this.debug("Chart.performUpdate() - start",jC[e]);const o={start:performance.now()};switch(e){case 0:case 1:yield this.updateData(),o["⬇️"]=performance.now();case 2:yield this.processData(),this.resetPointer(!0),o["🏭"]=performance.now();case 3:if(this.checkUpdateShortcut(3)||!this.checkFirstAutoSize(i))break;yield this.processLayout(),o["⌖"]=performance.now();case 4:if(this.checkUpdateShortcut(4))break;const{seriesRect:s}=this;yield Promise.all(i.map(u=>u.update({seriesRect:s}))),o["🤔"]=performance.now();case 5:if(this.checkUpdateShortcut(5))break;const l=this.tooltipManager.getTooltipMeta(this.id);e<=4&&l!==void 0&&this.handlePointer(l.lastPointerEvent,!0),o["↖"]=performance.now();case 6:if(this.checkUpdateShortcut(6))break;r.updateShortcutCount=this.updateShortcutCount,yield this.scene.render({debugSplitTimes:o,extraDebugStats:r}),this.extraDebugStats={};case 7:this.updateShortcutCount=0,this.updateRequestors={},this._performUpdateSkipAnimations=!1,this.animationManager.endBatch()}this.updateService.dispatchUpdateComplete(this.getMinRect());const a=performance.now();this.debug("Chart.performUpdate() - end",{chart:this,durationMs:Math.round((a-o.start)*100)/100,count:t,performUpdateType:jC[e]})})}checkUpdateShortcut(t){return this.updateShortcutCount>3?(Oe.warn("exceeded the maximum number of simultaneous updates (4), discarding changes and rendering",this.updateRequestors),!1):this.performUpdateType<=t?(this.updateShortcutCount++,!0):!1}checkFirstAutoSize(t){if(this.autoSize&&!this._lastAutoSize){const e=this._performUpdateNoRenderCount++,r=pt(e,2)*10;if(e<8)return this.update(3,{seriesToUpdate:t,backOffMs:r}),this.debug("Chart.checkFirstAutoSize() - backing off until first size update",r),!1;this.debug("Chart.checkFirstAutoSize() - timeout for first size update.")}return this._performUpdateNoRenderCount=0,!0}onSeriesChange(t,e){var r,i;const o=(r=e==null?void 0:e.filter(a=>!t.includes(a)))!=null?r:[];this.destroySeries(o),(i=this.seriesLayerManager)==null||i.setSeriesCount(t.length);for(const a of t){if(e!=null&&e.includes(a))continue;a.rootGroup.parent==null&&this.seriesLayerManager.requestGroup(a);const s=this;a.chart={get mode(){return s.mode},get isMiniChart(){return!1},get seriesRect(){return s.seriesRect},placeLabels(){return s.placeLabels()}},a.resetAnimation(this.chartAnimationPhase),this.addSeriesListeners(a),a.addChartEventListeners()}}destroySeries(t){t==null||t.forEach(e=>{e.removeEventListener("nodeClick",this.onSeriesNodeClick),e.removeEventListener("nodeDoubleClick",this.onSeriesNodeDoubleClick),e.removeEventListener("groupingChanged",this.seriesGroupingChanged),e.destroy(),this.seriesLayerManager.releaseGroup(e),e.chart=void 0})}addSeriesListeners(t){this.hasEventListener("seriesNodeClick")&&t.addEventListener("nodeClick",this.onSeriesNodeClick),this.hasEventListener("seriesNodeDoubleClick")&&t.addEventListener("nodeDoubleClick",this.onSeriesNodeDoubleClick),t.addEventListener("groupingChanged",this.seriesGroupingChanged)}updateAllSeriesListeners(){this.series.forEach(t=>{t.removeEventListener("nodeClick",this.onSeriesNodeClick),t.removeEventListener("nodeDoubleClick",this.onSeriesNodeDoubleClick),this.addSeriesListeners(t)})}assignSeriesToAxes(){this.axes.forEach(t=>{t.boundSeries=this.series.filter(e=>e.axes[t.direction]===t)})}assignAxesToSeries(){const t=LV(this.axes,e=>e.direction);this.series.forEach(e=>{e.directions.forEach(r=>{const i=t[r];if(!i){Oe.warnOnce(`no available axis for direction [${r}]; check series and axes configuration.`);return}const o=e.getKeys(r),a=this.findMatchingAxis(i,o);if(!a){Oe.warnOnce(`no matching axis for direction [${r}] and keys [${o}]; check series and axes configuration.`);return}e.axes[r]=a})})}findMatchingAxis(t,e){for(const r of t){if(!r.keys.length)return r;if(e){for(const i of e)if(r.keys.includes(i))return r}}}rawResize(t){var e;let{width:r,height:i}=t;if(r=Math.floor(r),i=Math.floor(i),!this.autoSize||r===0&&i===0)return;const[o=0,a=0]=(e=this._lastAutoSize)!=null?e:[];o===r&&a===i||(this._lastAutoSize=[r,i],this.resize(void 0,void 0,"SizeMonitor"))}resize(t,e,r){var i,o,a,s;if(t??(t=(o=this.width)!=null?o:this.autoSize?(i=this._lastAutoSize)==null?void 0:i[0]:this.scene.canvas.width),e??(e=(s=this.height)!=null?s:this.autoSize?(a=this._lastAutoSize)==null?void 0:a[1]:this.scene.canvas.height),this.debug(`Chart.resize() from ${r}`,{width:t,height:e,stack:new Error().stack}),!(!t||!e||!Nt(t)||!Nt(e))&&this.scene.resize(t,e)){this.resetPointer(),this.animationManager.reset();let l=!0;this.autoSize&&this._firstAutoSize&&(l=!1,this._firstAutoSize=!1),this.update(3,{forceNodeDataRefresh:!0,skipAnimations:l})}}updateData(){return le(this,null,function*(){this.series.forEach(e=>e.setChartData(this.data));const t=Array.from(this.modules.values(),e=>{var r;return(r=e.updateData)==null?void 0:r.call(e,{data:this.data})});yield Promise.all(t)})}processData(){return le(this,null,function*(){if(this.series.some(i=>i.canHaveAxes)){this.assignAxesToSeries(),this.assignSeriesToAxes();const i=this.modules.get("sync");i!=null&&i.enabled&&i.syncAxes(this._skipSync)}const t=new eee(this.mode),e=this.series.map(i=>i.processData(t)),r=Array.from(this.modules.values(),i=>{var o;return(o=i.processData)==null?void 0:o.call(i,{dataController:t})});t.execute(),yield Promise.all([...e,...r]),yield this.updateLegend()})}placeLabels(){const t=[],e=[];for(const u of this.series){if(!u.visible)continue;const c=u.getLabelData();qHe(c==null?void 0:c[0])&&(e.push(c),t.push(u))}const{seriesRect:r}=this,{top:i,right:o,bottom:a,left:s}=this.seriesArea.padding,l=r&&e.length>0?ZHe(e,{x:-s,y:-i,width:r.width+s+o,height:r.height+i+a}):[];return new Map(l.map((u,c)=>[t[c],u]))}updateLegend(){return le(this,null,function*(){this.legends.forEach((t,e)=>{const r=o=>o.every(a=>a.legendType==="category"),i=this.series.filter(o=>o.properties.showInLegend).flatMap(o=>o.getLegendData(e));r(i)&&this.mode!=="integrated"&&this.validateCategoryLegendData(i),t.data=i})})}validateCategoryLegendData(t){const e={};t.forEach(r=>{var i,o,a,s,l;const u=(i=this.series.find(c=>c.id===r.seriesId))==null?void 0:i.type;u&&((o=e[u])!=null||(e[u]={}),(l=(a=e[u])[s=r.label.text])!=null||(a[s]=new Set),r.marker.fill!=null&&e[u][r.label.text].add(r.marker.fill))});for(const r of Object.values(e))for(const[i,o]of Object.entries(r))o.size>1&&Oe.warnOnce(`legend item '${i}' has multiple fill colors, this may cause unexpected behaviour.`)}processLayout(){return le(this,null,function*(){var t;const e=this.animationRect;yield this.performLayout(),e&&!((t=this.animationRect)!=null&&t.equals(e))&&this.animationManager.skipCurrentBatch(),this.debug("Chart.performUpdate() - seriesRect",this.seriesRect)})}performLayout(){return le(this,null,function*(){this.scene.root&&(this.scene.root.visible=!0);const{width:t,height:e}=this.scene;let r={shrinkRect:new nt(0,0,t,e)};r=this.layoutService.dispatchPerformLayout("start-layout",r),r=this.layoutService.dispatchPerformLayout("before-series",r);const i=Array.from(this.modules.values(),o=>le(this,null,function*(){var a;o.performLayout!=null&&(r=yield(a=o.performLayout)==null?void 0:a.call(o,r))}));return yield Promise.all(i),r.shrinkRect})}pickSeriesNode(t,e,r){var i,o;const a=performance.now(),s=e?[0]:void 0,l=[...this.series].reverse();let u;for(const c of l){if(!c.visible||!c.rootGroup.visible)continue;const{match:d,distance:p}=(i=c.pickNode(t,s))!=null?i:{};if(!(!d||p==null)&&((!u||u.distance>p)&&p<=(r??1/0)&&(u={series:c,distance:p,datum:d}),p===0))break}return this.extraDebugStats.pickSeriesNode=Math.round(((o=this.extraDebugStats.pickSeriesNode)!=null?o:0)+(performance.now()-a)),u}onMouseMove(t){this.lastInteractionEvent=t,this.pointerScheduler.schedule(),this.extraDebugStats.mouseX=t.offsetX,this.extraDebugStats.mouseY=t.offsetY,this.update(6)}onLeave(t){this.tooltip.pointerLeftOntoTooltip(t)||(this.resetPointer(),this.update(6))}onContextMenu(t){this.tooltipManager.removeTooltip(this.id);const{Default:e,ContextMenu:r}=DO;this.interactionManager.getState()&(e|r)&&this.checkSeriesNodeRange(t,(i,o)=>{this.highlightManager.updateHighlight(this.id,o)})}handlePointer(t,e){if(this.interactionManager.getState()!==8)return;const{lastPick:r,hoverRect:i}=this,{offsetX:o,offsetY:a}=t,s=(l=!1)=>{r&&this.resetPointer(l)};if(e&&this.animationManager.isActive()){s();return}if(!(i!=null&&i.containsPoint(o,a))){s();return}this.handlePointerTooltip(t,s),this.handlePointerNode(t)}handlePointerTooltip(t,e){const{lastPick:r,tooltip:i}=this,{range:o}=i,{offsetX:a,offsetY:s}=t;let l;Nt(o)&&(l=o);const u=this.pickSeriesNode({x:a,y:s},o==="exact",l);if(!u){this.tooltipManager.removeTooltip(this.id),this.highlight.range==="tooltip"&&e(!0);return}const c=this.highlight.range==="node"||!r||r!==u.datum;let d;c&&(d=u.series.getTooltipHtml(u.datum),this.highlight.range==="tooltip"&&this.highlightManager.updateHighlight(this.id,u.datum));const p=l!=null,h=this.tooltip.enabled&&u.series.properties.tooltip.enabled,f=o==="exact"&&u.distance===0,g=h&&(o==="nearest"||p||f)&&(!c||d!==void 0),y=AI.makeTooltipMeta(t,u.datum);g&&this.tooltipManager.updateTooltip(this.id,y,d)}handlePointerNode(t){this.checkSeriesNodeRange(t,(r,i)=>{(r.hasEventListener("nodeClick")||r.hasEventListener("nodeDoubleClick"))&&this.cursorManager.updateCursor("chart","pointer"),this.highlight.range==="node"&&this.highlightManager.updateHighlight(this.id,i)})||(this.cursorManager.updateCursor("chart"),this.highlight.range==="node"&&this.highlightManager.updateHighlight(this.id))}onClick(t){if(this.checkSeriesNodeClick(t)){this.update(4);return}this.fireEvent({type:"click",event:t.sourceEvent})}onDoubleClick(t){if(this.checkSeriesNodeDoubleClick(t)){this.update(4);return}this.fireEvent({type:"doubleClick",event:t.sourceEvent})}checkSeriesNodeClick(t){return this.checkSeriesNodeRange(t,(e,r)=>e.fireNodeClickEvent(t.sourceEvent,r))}checkSeriesNodeDoubleClick(t){return this.checkSeriesNodeRange(t,(e,r)=>e.fireNodeDoubleClickEvent(t.sourceEvent,r))}checkSeriesNodeRange(t,e){const r=this.pickSeriesNode({x:t.offsetX,y:t.offsetY},!1),i=r==null?void 0:r.datum,o=i==null?void 0:i.series.properties.nodeClickRange;let a;Nt(o)&&(a=o);let s=this.pickSeriesNode({x:t.offsetX,y:t.offsetY},!0);if(s?this.highlightManager.updatePicked(this.id,s.datum):this.highlightManager.updatePicked(this.id),i&&o==="nearest")return e(i.series,i),!0;if(o!=="exact"&&(s=this.pickSeriesNode({x:t.offsetX,y:t.offsetY},!1,a)),!s)return!1;const l=a!=null,u=o==="exact"&&s.distance===0;return l||u?(e(s.series,s.datum),!0):!1}changeHighlightDatum(t){var e,r;const i=new Set,{series:o=void 0,datum:a}=(e=t.currentHighlight)!=null?e:{},{series:s=void 0,datum:l}=(r=t.previousHighlight)!=null?r:{};s&&i.add(s),o&&i.add(o),s!=null&&s.properties.cursor&&l&&this.cursorManager.updateCursor(s.id),o!=null&&o.properties.cursor&&a&&this.cursorManager.updateCursor(o.id,o.properties.cursor),this.lastPick=t.currentHighlight,o==null||s==null?this.update(4):this.update(4,{seriesToUpdate:i})}waitForUpdate(t=5e3){return le(this,null,function*(){const e=performance.now();for(this._pendingFactoryUpdatesCount>0&&(yield this.updateMutex.waitForClearAcquireQueue());this.performUpdateType!==7;){if(performance.now()-e>t)throw new Error("waitForUpdate() timeout reached.");yield hje(5)}yield this.updateMutex.waitForClearAcquireQueue()})}getMinRect(){const t=this.series.map(e=>e.getMinRect()).filter(e=>e!==void 0);if(t.length)return new nt(0,0,t.reduce((e,r)=>Math.max(e,r.width),0),t.reduce((e,r)=>Math.max(e,r.height),0))}filterMiniChartSeries(t){return t!=null?t.filter(e=>e.showInMiniChart!==!1):t}applyOptions(t){var e,r,i,o,a,s;const l=this.processedOptions,u=t.diffOptions(l),c=t.userOptions;if(u==null)return;fs("AgChartV2.updateDelta() - applying delta",u);const d=mt(u,l),p=this.applyModules(d),h=["type","data","series","listeners","theme","legend.listeners","navigator.miniChart.label"];(Vh(u)||Zw(u))&&h.push("axes"),u.listeners&&this.registerListeners(this,u.listeners),this.applyOptionValues(this,u,{skip:h});let f=!1,v="no-op";u.series&&u.series.length>0&&(v=this.applySeries(this,u.series,l==null?void 0:l.series),f=!0),v==="replaced"&&this.resetAnimations(),this.applyAxes(this,d,l,v)&&(f=!0);const g=!!u.data||v==="data-change"||v==="replaced",y=p2e(),m=Object.values(y).some(O=>u[O]!=null),C=u.title!=null&&u.subtitle!=null;f=f||g||m||C,u.data&&(this.data=u.data),(e=u.legend)!=null&&e.listeners&&Object.assign(this.legend.listeners,u.legend.listeners),u.listeners&&this.updateAllSeriesListeners(),this.chartOptions=t,this.processedOptions=d,this.userOptions=mt(c,this.userOptions);const S=this.modules.get("navigator"),w=this.modules.get("zoom");!(S!=null&&S.enabled)&&!(w!=null&&w.enabled)&&this.zoomManager.updateZoom();const _=S==null?void 0:S.miniChart;if((_==null?void 0:_.enabled)===!0&&(u==null?void 0:u.series)!=null){const O=this.applySeries(_,this.filterMiniChartSeries(u.series),this.filterMiniChartSeries(l==null?void 0:l.series));this.applyAxes(_,u,l,O,["axes[].tick","axes[].thickness","axes[].title","axes[].crosshair","axes[].gridLine","axes[].label"]);const P=_.axes,D=P.find(N=>N.direction==="x");for(const N of P)N.gridLine.enabled=!1,N.label.enabled=N===D,N.tick.enabled=!1,N.interactionEnabled=!1;if(D!=null){const N=(i=(r=u.navigator)==null?void 0:r.miniChart)==null?void 0:i.label,L=(s=(a=(o=u.navigator)==null?void 0:o.miniChart)==null?void 0:a.label)==null?void 0:s.interval;Hd(D.label,N,{path:"navigator.miniChart.label",skip:["navigator.miniChart.label.interval","navigator.miniChart.label.rotation","navigator.miniChart.label.minSpacing","navigator.miniChart.label.autoRotate","navigator.miniChart.label.autoRotateAngle"]}),Hd(D.tick,L,{path:"navigator.miniChart.interval",skip:["navigator.miniChart.interval.enabled","navigator.miniChart.interval.width","navigator.miniChart.interval.size","navigator.miniChart.interval.color","navigator.miniChart.interval.interval","navigator.miniChart.interval.step"]});const I=L==null?void 0:L.step;I!=null&&(D.tick.interval=I)}}else(_==null?void 0:_.enabled)===!1&&(_.series=[],_.axes=[]);const b=f||p?1:3;fs("AgChartV2.applyChartOptions() - update type",jC[b]),this.update(b,{forceNodeDataRefresh:f,newAnimationBatch:!0})}applyModules(t){let e=!1;for(const r of Gl){if(r.type!=="root"&&r.type!=="legend")continue;const i=t[r.optionsKey],o=r.chartTypes.includes(this.constructor.type)&&i!=null,a=this.isModuleEnabled(r);o!==a&&(o?(this.addModule(r),this[r.optionsKey]=this.modules.get(r.optionsKey)):(this.removeModule(r),delete this[r.optionsKey]),e=!0)}return e}applySeries(t,e,r){if(!e)return"no-change";const i=Qje(t.series,e,r);if(i.status==="no-overlap")return fs(`AgChartV2.applySeries() - creating new series instances, status: ${i.status}`,i),t.series=this.createSeries(e),"replaced";fs("AgChartV2.applySeries() - matchResult",i);const o=[];for(const l of i.changes){if(l.status==="add"){const p=this.createSeries([l.opts])[0];o.push(p),fs("AgChartV2.applySeries() - created new series",p);continue}else if(l.status==="remove"){fs(`AgChartV2.applySeries() - removing series at previous idx ${l.idx}`,l.series);continue}else if(l.status==="no-op"){o.push(l.series),fs(`AgChartV2.applySeries() - no change to series at previous idx ${l.idx}`,l.series);continue}const{series:u,diff:c,idx:d}=l;fs(`AgChartV2.applySeries() - applying series diff previous idx ${d}`,c,u),this.applySeriesValues(u,c),u.markNodeDataDirty(),o.push(u)}for(let l=0;l<o.length;l++)o[l]._declarationOrder=l;fs("AgChartV2.applySeries() - final series instances",o),t.series=o;const a=i.changes.some(({diff:l})=>l&&(l.seriesGrouping!=null||l.data!=null)),s=i.changes.every(l=>l.status==="no-op");return a?"data-change":s?"no-op":"updated"}applyAxes(t,e,r,i,o=[]){if(!("axes"in e)||!e.axes)return!1;o=["axes[].type",...o];const{axes:a}=e;return!(i==="replaced")&&t.axes.length===a.length&&t.axes.every((u,c)=>u.type===a[c].type)&&Vh(r)?(t.axes.forEach((u,c)=>{var d,p;const h=(p=(d=r.axes)==null?void 0:d[c])!=null?p:{},f=da(h,a[c]);fs(`AgChartV2.applyAxes() - applying axis diff idx ${c}`,f);const v=`axes[${c}]`;this.applyOptionValues(u,f,{path:v,skip:o})}),!0):(fs(`AgChartV2.applyAxes() - creating new axes instances; seriesStatus: ${i}`),t.axes=this.createAxis(a,o),!0)}createSeries(t){var e;const r=[],i=this.getModuleContext();for(const o of t??[]){const a=(e=o.type)!=null?e:"unknown";if(lQ(a)&&!VBe(a))continue;const s=ZBe(a,i);this.applySeriesOptionModules(s,o),this.applySeriesValues(s,o),r.push(s)}return r}applySeriesOptionModules(t,e){const r=t.createModuleContext(),i=t.getModuleMap();for(const o of Gl)o.type==="series-option"&&o.optionsKey in e&&o.seriesTypes.includes(t.type)&&i.addModule(o,a=>new a.instanceConstructor(r))}applySeriesValues(t,e){const r=t.getModuleMap(),i=e,{type:o,data:a,errorBar:s,listeners:l,seriesGrouping:u,showInMiniChart:c}=i,d=En(i,["type","data","errorBar","listeners","seriesGrouping","showInMiniChart"]);t.properties.set(d),"data"in e&&(t.data=e.data),"errorBar"in e&&r.isModuleEnabled("errorBar")&&r.getModule("errorBar").properties.set(e.errorBar),e!=null&&e.listeners&&this.registerListeners(t,e.listeners),u&&(t.seriesGrouping=J(J({},t.seriesGrouping),u))}createAxis(t,e){const r=new Zje,i=this.getModuleContext();let o=0;for(const a of t??[]){const s=TBe(a.type,i),l=`axes[${o++}]`;this.applyAxisModules(s,a),this.applyOptionValues(s,a,{path:l,skip:e}),r.push(s,a)}return r.guessInvalidPositions()}applyAxisModules(t,e){let r=!1;const i=Gl.filter(a=>a.type==="axis-option"),o=t.createModuleContext();for(const a of i){const s=e[a.optionsKey]!=null,l=t.getModuleMap(),u=l.isModuleEnabled(a);s!==u&&(r=!0,s?(l.addModule(a,c=>new c.instanceConstructor(o)),t[a.optionsKey]=l.getModule(a)):(l.removeModule(a),delete t[a.optionsKey]))}return r}applyOptionValues(t,e,{skip:r,path:i}={}){const o=this.getModuleContext();class a extends Ar{constructor(){super(),this.registerInteraction(o)}}return Hd(t,e,{constructors:Te(J({},ZU.constructors),{title:a,subtitle:a,footnote:a}),constructedArrays:mJ.constructedArrays,allowedTypes:J({},ZU.allowedTypes),skip:r,path:i})}registerListeners(t,e){t.clearEventListeners();for(const[r,i]of Object.entries(e))Qg(i)&&t.addEventListener(r,i)}};pn.chartsInstances=new WeakMap;pn.NodeValueChangeOptions={newValue(n){var t;(t=this.scene.root)==null||t.appendChild(n.node)},oldValue(n){var t;(t=this.scene.root)==null||t.removeChild(n.node)}};R([An({newValue(n){this.destroyed||(n.setAttribute("data-ag-charts",""),n.appendChild(this.element),pn.chartsInstances.set(n,this))},oldValue(n){n.removeAttribute("data-ag-charts"),n.removeChild(this.element),pn.chartsInstances.delete(n)}})],pn.prototype,"container",2);R([An({newValue(n){this.resize(n,void 0,"width option")}})],pn.prototype,"width",2);R([An({newValue(n){this.resize(void 0,n,"height option")}})],pn.prototype,"height",2);R([An({newValue(n){this.onAutoSizeChange(n)}}),M(qe)],pn.prototype,"autoSize",2);R([M(je)],pn.prototype,"padding",2);R([M(je)],pn.prototype,"seriesArea",2);R([An(pn.NodeValueChangeOptions)],pn.prototype,"title",2);R([An(pn.NodeValueChangeOptions)],pn.prototype,"subtitle",2);R([An(pn.NodeValueChangeOptions)],pn.prototype,"footnote",2);R([M(tn(["standalone","integrated"],"a chart mode"))],pn.prototype,"mode",2);R([An({changeValue(n,t=[]){for(const e of t)n.includes(e)||(e.detachAxis(this.axisGroup,this.axisGridGroup),e.destroy());for(const e of n)t!=null&&t.includes(e)||e.attachAxis(this.axisGroup,this.axisGridGroup);this.zoomManager.updateAxes(n)}})],pn.prototype,"axes",2);R([An({changeValue(n,t){this.onSeriesChange(n,t)}})],pn.prototype,"series",2);var lP=pn,Lee=class extends cy{isContinuous(){var n,t;const e=Zt.is((n=this.axes.x)==null?void 0:n.scale),r=Zt.is((t=this.axes.y)==null?void 0:t.scale);return{isContinuousX:e,isContinuousY:r}}getModulePropertyDefinitions(){return this.moduleMap.mapValues(n=>n.getPropertyDefinitions(this.isContinuous())).flat()}requestDataModel(n,t,e){return le(this,null,function*(){e.props.push(...this.getModulePropertyDefinitions());const{dataModel:r,processedData:i}=yield n.request(this.id,t??[],e);return this.dataModel=r,this.processedData=i,this.dispatch("data-processed",{dataModel:r,processedData:i}),{dataModel:r,processedData:i}})}isProcessedDataAnimatable(){var n,t;const e=(t=(n=this.processedData)==null?void 0:n.reduced)==null?void 0:t.animationValidation;if(!e)return!0;const{orderedKeys:r,uniqueKeys:i}=e;return r&&i}checkProcessedDataAnimatable(){this.isProcessedDataAnimatable()||this.ctx.animationManager.skipCurrentBatch()}},Pc=class extends nr{constructor(){super(...arguments),this.fill="rgba(255,255,255, 0.33)",this.stroke="rgba(0, 0, 0, 0.4)",this.strokeWidth=2}};R([M(Tt,{optional:!0})],Pc.prototype,"fill",2);R([M(Ut,{optional:!0})],Pc.prototype,"fillOpacity",2);R([M(Tt,{optional:!0})],Pc.prototype,"stroke",2);R([M(xe,{optional:!0})],Pc.prototype,"strokeWidth",2);R([M(Ut,{optional:!0})],Pc.prototype,"strokeOpacity",2);R([M(bc,{optional:!0})],Pc.prototype,"lineDash",2);R([M(xe,{optional:!0})],Pc.prototype,"lineDashOffset",2);var uP=class extends nr{};R([M(xe,{optional:!0})],uP.prototype,"strokeWidth",2);R([M(Ut,{optional:!0})],uP.prototype,"dimOpacity",2);R([M(qe,{optional:!0})],uP.prototype,"enabled",2);var Fee=class extends nr{constructor(){super(...arguments),this.color="black"}};R([M(Tt,{optional:!0})],Fee.prototype,"color",2);var d0=class extends nr{constructor(){super(...arguments),this.item=new Pc,this.series=new uP,this.text=new Fee}};R([M(je)],d0.prototype,"item",2);R([M(je)],d0.prototype,"series",2);R([M(je)],d0.prototype,"text",2);var Js=class extends nr{constructor(){super(...arguments),this.visible=!0,this.showInLegend=!0,this.cursor="default",this.nodeClickRange="exact",this.highlightStyle=new d0}};R([M(Ee,{optional:!0})],Js.prototype,"id",2);R([M(qe)],Js.prototype,"visible",2);R([M(qe)],Js.prototype,"showInLegend",2);R([M(Ee)],Js.prototype,"cursor",2);R([M(UV)],Js.prototype,"nodeClickRange",2);R([M(je)],Js.prototype,"highlightStyle",2);var g3e={x:["xKey"],y:["yKey"]},y3e={x:["xName"],y:["yName"]},CB=class extends c0{constructor(n,t,e,r){super(n,t,e,r),this.xKey=r.properties.xKey,this.yKey=r.properties.yKey}},mp=class extends Js{};R([M(Ee,{optional:!0})],mp.prototype,"legendItemName",2);var Cp=class extends Lee{constructor(n){var t=n,{pathsPerSeries:e=1,hasMarkers:r=!1,hasHighlightedLabels:i=!1,pathsZIndexSubOrderOffset:o=[],directionKeys:a=g3e,directionNames:s=y3e,datumSelectionGarbageCollection:l=!0,markerSelectionGarbageCollection:u=!0,animationAlwaysUpdateSelections:c=!1,animationResetFns:d}=t,p=En(t,["pathsPerSeries","hasMarkers","hasHighlightedLabels","pathsZIndexSubOrderOffset","directionKeys","directionNames","datumSelectionGarbageCollection","markerSelectionGarbageCollection","animationAlwaysUpdateSelections","animationResetFns"]);super(J({directionKeys:a,directionNames:s,useSeriesGroupLayer:!0,canHaveAxes:!0},p)),this._contextNodeData=[],this.NodeClickEvent=CB,this.highlightSelection=Er.select(this.highlightNode,()=>this.opts.hasMarkers?this.markerFactory():this.nodeFactory()),this.highlightLabelSelection=Er.select(this.highlightLabel,Mt),this.annotationSelections=new Set,this.subGroups=[],this.subGroupId=0,this.debug=$r.create(),this.opts={pathsPerSeries:e,hasMarkers:r,hasHighlightedLabels:i,pathsZIndexSubOrderOffset:o,directionKeys:a,directionNames:s,animationResetFns:d,animationAlwaysUpdateSelections:c,datumSelectionGarbageCollection:l,markerSelectionGarbageCollection:u},this.animationState=new s0("empty",{empty:{update:{target:"ready",action:h=>this.animateEmptyUpdateReady(h)},reset:"empty",skip:"ready"},ready:{updateData:"waiting",clear:"clearing",highlight:h=>this.animateReadyHighlight(h),highlightMarkers:h=>this.animateReadyHighlightMarkers(h),resize:h=>this.animateReadyResize(h),reset:"empty",skip:"ready"},waiting:{update:{target:"ready",action:h=>this.animateWaitingUpdateReady(h)},reset:"empty",skip:"ready"},clearing:{update:{target:"empty",action:h=>this.animateClearingUpdateEmpty(h)},reset:"empty",skip:"ready"}},()=>this.checkProcessedDataAnimatable())}get contextNodeData(){return this._contextNodeData.slice()}resetAnimation(n){n==="initial"?this.animationState.transition("reset"):n==="ready"&&this.animationState.transition("skip")}addChartEventListeners(){this.destroyFns.push(this.ctx.chartEventManager.addListener("legend-item-click",n=>this.onLegendItemClick(n)),this.ctx.chartEventManager.addListener("legend-item-double-click",n=>this.onLegendItemDoubleClick(n)))}destroy(){super.destroy(),this._contextNodeData.splice(0,this._contextNodeData.length),this.subGroups.splice(0,this.subGroups.length)}update(n){return le(this,arguments,function*({seriesRect:t}){var e,r;const{visible:i,_contextNodeData:o}=this,{series:a}=(r=(e=this.ctx.highlightManager)==null?void 0:e.getActiveHighlight())!=null?r:{},s=a?a===this:void 0,l=this.checkResize(t),u=yield this.updateHighlightSelection(s);yield this.updateSelections(i),yield this.updateNodes(u,s,i);const c=this.getAnimationData(t,o);l&&this.animationState.transition("resize",c),this.animationState.transition("update",c)})}updateSelections(n){return le(this,null,function*(){const t=!this.opts.animationAlwaysUpdateSelections&&this.ctx.animationManager.isSkipped();if(!(!n&&t)&&!(!this.nodeDataRefresh&&!this.isPathOrSelectionDirty())){if(this.nodeDataRefresh){this.nodeDataRefresh=!1,this.debug("CartesianSeries.updateSelections() - calling createNodeData() for",this.id),this._contextNodeData=yield this.createNodeData();const e=this.isProcessedDataAnimatable();this._contextNodeData.forEach(o=>{var a;(a=o.animationValid)!=null||(o.animationValid=e)}),yield this.updateSeriesGroups();const{dataModel:r,processedData:i}=this;r!==void 0&&i!==void 0&&this.dispatch("data-update",{dataModel:r,processedData:i})}yield Promise.all(this.subGroups.map((e,r)=>this.updateSeriesGroupSelections(e,r)))}})}updateSeriesGroupSelections(n,t,e){return le(this,null,function*(){const{datumSelection:r,labelSelection:i,markerSelection:o,paths:a}=n,s=this._contextNodeData[t],{nodeData:l,labelData:u,itemId:c}=s;yield this.updatePaths({seriesHighlighted:e,itemId:c,contextData:s,paths:a,seriesIdx:t}),n.datumSelection=yield this.updateDatumSelection({nodeData:l,datumSelection:r,seriesIdx:t}),n.labelSelection=yield this.updateLabelSelection({labelData:u,labelSelection:i,seriesIdx:t}),o&&(n.markerSelection=yield this.updateMarkerSelection({nodeData:l,markerSelection:o,seriesIdx:t}))})}markerFactory(){const n=gp();return new n}updateSeriesGroups(){return le(this,null,function*(){const{_contextNodeData:n,contentGroup:t,subGroups:e,opts:{pathsPerSeries:r,hasMarkers:i,datumSelectionGarbageCollection:o,markerSelectionGarbageCollection:a}}=this;if(n.length===e.length)return;n.length<e.length&&e.splice(n.length).forEach(({dataNodeGroup:l,markerGroup:u,labelGroup:c,paths:d})=>{t.removeChild(l),u&&t.removeChild(u),c&&t.removeChild(c);for(const p of d)t.removeChild(p)});const s=n.length;for(;s>e.length;){const u=this.subGroupId++,c=new Ve({name:`${this.id}-series-sub${u}-dataNodes`,layer:!1,zIndex:4,zIndexSubOrder:this.getGroupZIndexSubOrder("data",u)}),d=i?new Ve({name:`${this.id}-series-sub${this.subGroupId++}-markers`,layer:!1,zIndex:4,zIndexSubOrder:this.getGroupZIndexSubOrder("marker",u)}):void 0,p=new Ve({name:`${this.id}-series-sub${this.subGroupId++}-labels`,layer:!1,zIndex:7,zIndexSubOrder:this.getGroupZIndexSubOrder("labels",u)});t.appendChild(c),t.appendChild(p),d&&t.appendChild(d);const h=[];for(let f=0;f<r;f++)h[f]=new ya,h[f].zIndex=4,h[f].zIndexSubOrder=this.getGroupZIndexSubOrder("paths",f),t.appendChild(h[f]);e.push({paths:h,dataNodeGroup:c,markerGroup:d,labelGroup:p,labelSelection:Er.select(p,Mt),datumSelection:Er.select(c,()=>this.nodeFactory(),o),markerSelection:d?Er.select(d,()=>this.markerFactory(),a):void 0})}})}getGroupZIndexSubOrder(n,t=0){var e;const r=super.getGroupZIndexSubOrder(n,t);if(n==="paths"){const i=(e=this.opts.pathsZIndexSubOrderOffset[t])!=null?e:0,o=r[0];typeof o=="function"?r[0]=()=>+o()+i:r[0]=+o+i}return r}updateNodes(n,t,e){return le(this,null,function*(){var r;const{highlightSelection:i,highlightLabelSelection:o,opts:{hasMarkers:a,hasHighlightedLabels:s}}=this,l=!this.ctx.animationManager.isSkipped(),u=this.visible&&((r=this._contextNodeData)==null?void 0:r.length)>0&&e;this.rootGroup.visible=l||u,this.contentGroup.visible=l||u,this.highlightGroup.visible=(l||u)&&!!t;const c=this.getOpacity();a?(yield this.updateMarkerNodes({markerSelection:i,isHighlight:!0,seriesIdx:-1}),this.animationState.transition("highlightMarkers",i)):(yield this.updateDatumNodes({datumSelection:i,isHighlight:!0,seriesIdx:-1}),this.animationState.transition("highlight",i)),s&&(yield this.updateLabelNodes({labelSelection:o,seriesIdx:-1})),yield Promise.all(this.subGroups.map((d,p)=>le(this,null,function*(){const{dataNodeGroup:h,markerGroup:f,datumSelection:v,labelSelection:g,markerSelection:y,paths:m,labelGroup:C}=d,{itemId:S}=this.contextNodeData[p],w=u;h.opacity=c,h.visible=l||w,C.visible=w,f&&(f.opacity=c,f.zIndex=h.zIndex>=4?h.zIndex:h.zIndex+1,f.visible=w),C&&(C.opacity=c),yield this.updatePathNodes({seriesHighlighted:t,itemId:S,paths:m,seriesIdx:p,opacity:c,visible:w,animationEnabled:l}),h.visible&&(yield this.updateDatumNodes({datumSelection:v,highlightedItems:n,isHighlight:!1,seriesIdx:p}),yield this.updateLabelNodes({labelSelection:g,seriesIdx:p}),a&&y&&(yield this.updateMarkerNodes({markerSelection:y,isHighlight:!1,seriesIdx:p})))})))})}getHighlightLabelData(n,t){const e=n.filter(r=>r.datum===t.datum&&r.itemId===t.itemId);return e.length!==0?e:void 0}getHighlightData(n,t){return t?[t]:void 0}updateHighlightSelection(n){return le(this,null,function*(){var t;const{highlightSelection:e,highlightLabelSelection:r,_contextNodeData:i}=this,o=(t=this.ctx.highlightManager)==null?void 0:t.getActiveHighlight(),a=n&&(o!=null&&o.datum)?o:void 0;let s,l;if(a!=null){const u=this.isLabelEnabled();for(const{labelData:c,nodeData:d}of i)if(l=this.getHighlightData(d,a),s=u?this.getHighlightLabelData(c,a):void 0,(!u||s!=null)&&l!=null)break}return this.highlightSelection=yield this.updateHighlightSelectionItem({items:l,highlightSelection:e}),this.highlightLabelSelection=yield this.updateHighlightSelectionLabel({items:s,highlightLabelSelection:r}),l})}pickNodeExactShape(n){var t;const e=super.pickNodeExactShape(n);if(e)return e;const{x:r,y:i}=n,{opts:{hasMarkers:o}}=this;for(const{dataNodeGroup:a,markerGroup:s}of this.subGroups){let l=a.pickNode(r,i);if(!l&&o&&(l=s==null?void 0:s.pickNode(r,i)),l)break}for(const a of this.moduleMap.modules){const{datum:s}=(t=a.pickNodeExact(n))!=null?t:{};if(s!==void 0)return{datum:s,distance:0}}}pickNodeClosestDatum(n){var t,e;const{x:r,y:i}=n,{axes:o,rootGroup:a,_contextNodeData:s}=this,l=o.x,u=o.y,c=a.transformPoint(r,i);let d=1/0,p;for(const h of s)for(const f of h.nodeData){const{point:{x:v=NaN,y:g=NaN}={}}=f;if(isNaN(v)||isNaN(g)||!((l==null?void 0:l.inRange(v))&&(u==null?void 0:u.inRange(g))))continue;const m=Math.max(pt(c.x-v,2)+pt(c.y-g,2),0);m<d&&(d=m,p=f)}for(const h of this.moduleMap.modules){const f=h.pickNodeNearest(n);if(f!==void 0&&f.distanceSquared<d){d=f.distanceSquared,p=f.datum;break}}if(p){const h=Math.max(Math.sqrt(d)-((e=(t=p.point)==null?void 0:t.size)!=null?e:0),0);return{datum:p,distance:h}}}pickNodeMainAxisFirst(n,t){var e,r;const{x:i,y:o}=n,{axes:a,rootGroup:s,_contextNodeData:l}=this,u=a.x,c=a.y,d=[u,c].filter(y=>y instanceof pc).map(y=>y.direction);if(t&&d.length===0)return;const[p="x"]=d,h=s.transformPoint(i,o),f=p==="x"?[h.x,h.y]:[h.y,h.x],v=[1/0,1/0];let g;for(const y of l)for(const m of y.nodeData){const{point:{x:C=NaN,y:S=NaN}={}}=m;if(isNaN(C)||isNaN(S)||!((u==null?void 0:u.inRange(C))&&(c==null?void 0:c.inRange(S))))continue;const _=p==="x"?[C,S]:[S,C];let x=!0;for(let b=0;b<_.length;b++){const O=Math.abs(_[b]-f[b]);if(O>v[b]){x=!1;break}O<v[b]&&(v[b]=O,v.fill(1/0,b+1,v.length))}x&&(g=m)}if(g){let y=Math.max(pt(v[0],2)+pt(v[1],2)-((r=(e=g.point)==null?void 0:e.size)!=null?r:0),0);for(const m of this.moduleMap.modules){const C=m.pickNodeMainAxisFirst(n);if(C!==void 0&&C.distanceSquared<y){g=C.datum,y=C.distanceSquared;break}}return{datum:g,distance:Math.sqrt(y)}}}onLegendItemClick(n){const{legendItemName:t}=this.properties,{enabled:e,itemId:r,series:i}=n,o=t!=null&&t===n.legendItemName;(i.id===this.id||o)&&this.toggleSeriesItem(r,e)}onLegendItemDoubleClick(n){const{enabled:t,itemId:e,series:r,numVisibleItems:i}=n,{legendItemName:o}=this.properties,a=o!=null&&o===n.legendItemName;r.id===this.id||a?this.toggleSeriesItem(e,!0):t&&i===1?this.toggleSeriesItem(e,!0):this.toggleSeriesItem(e,!1)}isPathOrSelectionDirty(){return!1}getLabelData(){return[]}shouldFlipXY(){return!1}getMinRect(){const[n]=this._contextNodeData;if(!(n!=null&&n.nodeData.length))return;const t=n.nodeData.map(({midPoint:r})=>{var i;return(i=r==null?void 0:r.x)!=null?i:0}).sort((r,i)=>r-i).reduce((r,i,o,a)=>o>0?Math.max(r,i-a[o-1]):r,0),e=n.nodeData.map(({midPoint:r})=>{var i;return(i=r==null?void 0:r.y)!=null?i:0}).sort((r,i)=>r-i).reduce((r,i,o,a)=>o>0?Math.max(r,i-a[o-1]):r,0);return new nt(0,0,t,e)}updateHighlightSelectionItem(n){return le(this,null,function*(){const{opts:{hasMarkers:t}}=this,{items:e,highlightSelection:r}=n,i=e??[];if(t){const o=r;return this.updateMarkerSelection({nodeData:i,markerSelection:o,seriesIdx:-1})}else return this.updateDatumSelection({nodeData:i,datumSelection:r,seriesIdx:-1})})}updateHighlightSelectionLabel(n){return le(this,null,function*(){var t;return this.updateLabelSelection({labelData:(t=n.items)!=null?t:[],labelSelection:n.highlightLabelSelection,seriesIdx:-1})})}updateDatumSelection(n){return le(this,null,function*(){return n.datumSelection})}updateDatumNodes(n){return le(this,null,function*(){})}updateMarkerSelection(n){return le(this,null,function*(){return n.markerSelection})}updateMarkerNodes(n){return le(this,null,function*(){})}updatePaths(n){return le(this,null,function*(){n.paths.forEach(t=>t.visible=!1)})}updatePathNodes(n){return le(this,null,function*(){const{paths:t,opacity:e,visible:r}=n;for(const i of t)i.opacity=e,i.visible=r})}resetAllAnimation(n){var t,e;const{path:r,datum:i,label:o,marker:a}=(e=(t=this.opts)==null?void 0:t.animationResetFns)!=null?e:{};this.ctx.animationManager.stopByAnimationGroupId(this.id),r&&n.paths.forEach(s=>{xn(s,r)}),i&&xn(n.datumSelections,i),o&&xn(n.labelSelections,o),a&&xn(n.markerSelections,a),n.contextData.some(s=>s.animationValid===!1)&&this.ctx.animationManager.skipCurrentBatch()}animateEmptyUpdateReady(n){this.ctx.animationManager.skipCurrentBatch(),this.resetAllAnimation(n)}animateWaitingUpdateReady(n){this.ctx.animationManager.skipCurrentBatch(),this.resetAllAnimation(n)}animateReadyHighlight(n){var t,e;const{datum:r}=(e=(t=this.opts)==null?void 0:t.animationResetFns)!=null?e:{};r&&xn([n],r)}animateReadyHighlightMarkers(n){var t,e;const{marker:r}=(e=(t=this.opts)==null?void 0:t.animationResetFns)!=null?e:{};r&&xn([n],r)}animateReadyResize(n){this.resetAllAnimation(n)}animateClearingUpdateEmpty(n){this.ctx.animationManager.skipCurrentBatch(),this.resetAllAnimation(n)}animationTransitionClear(){this.animationState.transition("clear",this.getAnimationData())}getAnimationData(n,t){return{datumSelections:this.subGroups.map(({datumSelection:r})=>r),markerSelections:this.subGroups.filter(({markerSelection:r})=>r!==void 0).map(({markerSelection:r})=>r),labelSelections:this.subGroups.map(({labelSelection:r})=>r),annotationSelections:[...this.annotationSelections],contextData:this._contextNodeData,previousContextData:t,paths:this.subGroups.map(({paths:r})=>r),seriesRect:n}}calculateScaling(){const n={},t=e=>{const r=this.axes[e];if(r){if(r.scale instanceof QV){const{range:i,domain:o}=r.scale;n[e]={type:"log",convert:a=>r.scale.convert(a),domain:[o[0],o[1]],range:[i[0],i[1]]}}else if(r.scale instanceof Zt){const{range:i}=r.scale,o=r.scale.getDomain();n[e]={type:"continuous",domain:[o[0],o[1]],range:[i[0],i[1]]}}else if(r.scale){const{domain:i}=r.scale;n[e]={type:"category",domain:i,range:i.map(o=>r.scale.convert(o))}}}};return t("x"),t("y"),n}},m3e=["top","right","bottom","left"],SB=class Iee extends lP{constructor(t,e){super(t,e),this.paired=!0,this.firstSeriesTranslation=!0,this._lastCrossLineIds=void 0,this._lastAxisWidths={top:0,bottom:0,left:0,right:0},this._lastVisibility={crossLines:!0,series:!0}}destroySeries(t){super.destroySeries(t),this.firstSeriesTranslation=!0}performLayout(){return le(this,null,function*(){const t=yield wc(Iee.prototype,this,"performLayout").call(this),{firstSeriesTranslation:e,seriesRoot:r}=this,{animationRect:i,seriesRect:o,visibility:a,clipSeries:s}=this.updateAxes(t);this.seriesRoot.visible=a.series,this.seriesRect=o,this.animationRect=i;const{x:l,y:u}=o;if(e)r.translationX=Math.floor(l),r.translationY=Math.floor(u),this.firstSeriesTranslation=!1;else{const{translationX:p,translationY:h}=r;cu(this.id,"seriesRect",this.animationManager,[this.seriesRoot],{translationX:p,translationY:h},{translationX:Math.floor(l),translationY:Math.floor(u)},{phase:"update"})}const c=o.clone().grow(this.seriesArea.padding);this.hoverRect=c,this.layoutService.dispatchLayoutComplete({type:"layout-complete",chart:{width:this.scene.width,height:this.scene.height},clipSeries:s,series:{rect:o,paddedRect:c,visible:a.series,shouldFlipXY:this.shouldFlipXY()},axes:this.axes.map(p=>J({id:p.id},p.getLayoutState()))});const d=Array.from(this.modules.values(),p=>{var h;return(h=p.performCartesianLayout)==null?void 0:h.call(p,{seriesRect:o})});return yield Promise.all(d),t})}updateAxes(t){var e;const r=this.axes.flatMap(y=>{var m;return(m=y.crossLines)!=null?m:[]}).map(y=>y.id),i=this._lastCrossLineIds!=null&&this._lastCrossLineIds.length===r.length&&this._lastCrossLineIds.every((y,m)=>r[m]===y);let o,a;i?(o=J({},this._lastAxisWidths),a=J({},this._lastVisibility)):(o={top:0,bottom:0,left:0,right:0},a={crossLines:!0,series:!0},this._lastCrossLineIds=r);const s=new Set(this.axes.map(y=>y.position));for(const y of Object.keys(o))s.has(y)||delete o[y];const l=(y,m)=>Object.keys(y).some(C=>o[C]==null)?!1:a.crossLines===m.crossLines&&a.series===m.series&&Object.entries(o).every(([C,S])=>{const w=y[C];return S!=null||w!=null?S===w:!0}),u=y=>oQ(y,m=>m&&Math.abs(m)===1/0?0:m!=null?Math.ceil(m):m);let c={},d={},p=!1,h=(e=this.seriesRect)==null?void 0:e.clone(),f=0,v={};do{Object.assign(o,c),Object.assign(a,d);const y=this.updateAxesPass(o,t.clone(),h);if(c=u(y.axisWidths),d=y.visibility,p=y.clipSeries,h=y.seriesRect,v=y.primaryTickCounts,f++>10){Oe.warn("unable to find stable axis layout.");break}}while(!l(c,d));this.axes.forEach(y=>{y.update(v[y.direction])});const g=5;return this.axes.forEach(y=>{if(y.setCrossLinesVisible(a.crossLines),!!h)switch(y.clipGrid(h.x,h.y,h.width+g,h.height+g),y.position){case"left":case"right":y.clipTickLines(t.x,h.y,t.width+g,h.height+g);break;case"top":case"bottom":y.clipTickLines(h.x,t.y,h.width+g,t.height+g);break}}),this._lastAxisWidths=o,this._lastVisibility=a,{seriesRect:h,animationRect:t,visibility:a,clipSeries:p}}updateAxesPass(t,e,r){const i={},o={},a={series:!0,crossLines:!0};let s=!1;const l={},u=this.applySeriesPadding(e),c=r?this.buildCrossLinePadding(t):{},d=this.buildAxisBound(u,t,c,a),p=this.buildSeriesRect(d,t);return this.axes.forEach(h=>{var f,v;const{position:g="left"}=h,{clipSeries:y,axisThickness:m,axisOffset:C}=this.calculateAxisDimensions({axis:h,seriesRect:p,paddedBounds:u,axisWidths:t,newAxisWidths:o,primaryTickCounts:l,clipSeries:s,addInterAxisPadding:((f=i[g])!=null?f:0)>0});i[g]=((v=i[g])!=null?v:0)+1,s=s||y,this.positionAxis({axis:h,axisBound:d,axisOffset:C,axisThickness:m,axisWidths:t,primaryTickCounts:l,seriesRect:p})}),{clipSeries:s,seriesRect:p,axisWidths:o,visibility:a,primaryTickCounts:l}}buildCrossLinePadding(t){var e;const r={};this.axes.forEach(i=>{i.crossLines&&i.crossLines.forEach(o=>{o.calculatePadding(r)})});for(const[i,o=0]of Object.entries(r))r[i]=Math.max(o-((e=t[i])!=null?e:0),0);return r}applySeriesPadding(t){const e=t.clone(),r=this.axes.slice().reverse();return m3e.forEach(i=>{const o=this.seriesArea.padding[i],a=r.find(s=>s.position===i);a?a.seriesAreaPadding=o:e.shrink(o,i)}),e}buildAxisBound(t,e,r,i){var o,a,s,l;const u=t.clone(),{top:c=0,right:d=0,bottom:p=0,left:h=0}=r,f=h+d,v=c+p,g=((o=e.left)!=null?o:0)+((a=e.right)!=null?a:0)+f,y=((s=e.top)!=null?s:0)+((l=e.bottom)!=null?l:0)+v;return u.width<=g||u.height<=y?(i.crossLines=!1,i.series=!1,u):(u.x+=h,u.y+=c,u.width-=f,u.height-=v,u)}buildSeriesRect(t,e){const r=t.clone(),{top:i,bottom:o,left:a,right:s}=e;return r.x+=a??0,r.y+=i??0,r.width-=(a??0)+(s??0),r.height-=(i??0)+(o??0),r.width=Math.max(0,r.width),r.height=Math.max(0,r.height),r}clampToOutsideSeriesRect(t,e,r,i){const{x:o,y:a,width:s,height:l}=t,c=[o,a,o+s,a+l][(r==="x"?0:1)+(i===1?0:2)];return(i===1?Math.min:Math.max)(e,c)}calculateAxisDimensions(t){var e,r,i,o,a;const{axis:s,seriesRect:l,paddedBounds:u,axisWidths:c,newAxisWidths:d,primaryTickCounts:p,addInterAxisPadding:h}=t;let{clipSeries:f}=t;const{position:v="left",direction:g}=s,y=D=>D instanceof pc||D instanceof qd?[0,l.height]:[l.height,0],m=(e=d[v])!=null?e:0;switch(v){case"top":case"bottom":s.range=[0,l.width],s.gridLength=l.height;break;case"right":case"left":s.range=y(s),s.gridLength=l.width;break}const{min:C,max:S}=this.zoomManager.getAxisZoom(s.id);s.visibleRange=[C,S],f||(f=s.dataDomain.clipped||s.visibleRange[0]>0||s.visibleRange[1]<1);let w=s.nice?p[g]:void 0;const _=g==="y",x=.3;s.maxThickness=s.thickness||(_?u.width:u.height)*x;const b=s.calculateLayout(w);w=b.primaryTickCount,(r=p[g])!=null||(p[g]=w);let O;if(s.thickness!=null&&s.thickness>0)O=s.thickness;else{const{bbox:D}=b;O=_?D.width:D.height}return h&&(O+=15),O=Math.ceil(O),d[v]=((i=d[v])!=null?i:0)+O,s.gridPadding=((o=c[v])!=null?o:0)-((a=d[v])!=null?a:0),{clipSeries:f,axisThickness:O,axisOffset:m,primaryTickCount:w}}positionAxis(t){var e,r,i,o;const{axis:a,axisBound:s,axisWidths:l,seriesRect:u,axisOffset:c,axisThickness:d}=t,{position:p}=a;switch(p){case"top":a.translation.x=s.x+((e=l.left)!=null?e:0),a.translation.y=this.clampToOutsideSeriesRect(u,s.y+1+c+d,"y",1);break;case"bottom":a.translation.x=s.x+((r=l.left)!=null?r:0),a.translation.y=this.clampToOutsideSeriesRect(u,s.y+s.height+1-d-c,"y",-1);break;case"left":a.translation.y=s.y+((i=l.top)!=null?i:0),a.translation.x=this.clampToOutsideSeriesRect(u,s.x+c+d,"x",1);break;case"right":a.translation.y=s.y+((o=l.top)!=null?o:0),a.translation.x=this.clampToOutsideSeriesRect(u,s.x+s.width-d-c,"x",-1);break}a.updatePosition({rotation:Ci(a.rotation),sideFlag:a.label.getSideFlag()})}shouldFlipXY(){return!this.series.some(t=>!(t instanceof Cp&&t.shouldFlipXY()))}};SB.className="CartesianChart";SB.type="cartesian";var C3e=SB,WC=class Nee{static isInstance(t){var e;return t instanceof Nee||((e=t.constructor)==null?void 0:e.name)==="AgChartInstanceProxy"&&t.chart!=null?!0:t.chart!=null&&this.validateImplementation(t)}static validateImplementation(t){var e;const r=["getOptions","destroy"],i=Object.keys((e=Object.getPrototypeOf(t))!=null?e:{});return r.every(o=>i.includes(o))}constructor(t){this.chart=t}getOptions(){return yi(this.chart.getOptions())}resetAnimations(){this.chart.resetAnimations()}skipAnimations(){this.chart.skipAnimations()}destroy(){this.chart.destroy()}};WC.chartInstances=new WeakMap;R([An({oldValue(n){WC.chartInstances.delete(n)},newValue(n){WC.chartInstances.set(n,this)}})],WC.prototype,"chart",2);var Fv=WC,Zl=class extends Zt{constructor(){super([0,1],[0,1]),this.type="linear"}toDomain(n){return n}ticks(){var n;const t=(n=this.tickCount)!=null?n:Zt.defaultTickCount;if(!this.domain||this.domain.length<2||t<1||this.domain.some(o=>!isFinite(o)))return[];this.refresh();const[e,r]=this.getDomain(),{interval:i}=this;if(i){const o=Math.abs(i);if(!this.isDenseInterval({start:e,stop:r,interval:o}))return ew(e,r,o)}return nP(e,r,t,this.minTickCount,this.maxTickCount)}update(){!this.domain||this.domain.length<2||this.nice&&this.updateNiceDomain()}getTickStep(n,t){var e,r;const i=(e=this.tickCount)!=null?e:Zt.defaultTickCount;return(r=this.interval)!=null?r:Ng(n,t,i,this.minTickCount,this.maxTickCount)}updateNiceDomain(){var n;const t=(n=this.tickCount)!=null?n:Zt.defaultTickCount;if(t<1){this.niceDomain=[...this.domain];return}let[e,r]=this.domain;if(t===1)[e,r]=$He(e,r);else{const i=e>r?Math.ceil:Math.floor,o=r<e?Math.floor:Math.ceil,a=4;for(let s=0;s<a;s++){const l=e,u=r,c=this.getTickStep(e,r),[d,p]=this.domain;if(c>=1)e=i(d/c)*c,r=o(p/c)*c;else{const h=1/c;e=i(d*h)/h,r=o(p*h)/h}if(e===l&&r===u)break}}this.niceDomain=[e,r]}tickFormat({ticks:n,specifier:t}){return DJ(n??this.ticks(),t)}};function S3e(n,t,e){let[r,i]=dc(n);r=w3e(Math.floor(r),i,t);const o=x3e(r,i,t),a=t-1;i=r+a*o;const s=e?[i,r]:[r,i],l=_3e(r,o,t);return[s,l]}function w3e(n,t,e){const r=Math.abs(t-n)/(e-1),i=Math.floor(Math.log10(r)),o=Math.pow(10,i);return Math.floor(n/o)*o}function _3e(n,t,e){const r=Math.floor(Math.log10(t)),i=t>0&&t<1?Math.abs(r):0,o=Math.pow(10,i),a=JS(i);for(let s=0;s<e;s++){const l=n+t*s;a[s]=Math.round(l*o)/o}return a}function x3e(n,t,e){const r=e-1,i=(t-n)/r;return E3e(i)}function E3e(n){const t=Math.floor(Math.log10(n)),e=Math.pow(10,t),r=n/e*10;return r>0&&r<=1?e/10:r>1&&r<=2?2*e/10:r>1&&r<=5?5*e/10:r>5&&r<=10?10*e/10:r>10&&r<=20?20*e/10:r>20&&r<=40?40*e/10:r>40&&r<=50?50*e/10:r>50&&r<=100?100*e/10:r}var kee=class extends Qs{constructor(){super(...arguments),this.maxSpacing=NaN}};R([M(zV),Rc(NaN)],kee.prototype,"maxSpacing",2);var of=class extends u0{constructor(n,t=new Zl){super(n,t),this.min=NaN,this.max=NaN}normaliseDataDomain(n){const{min:t,max:e}=this,{extent:r,clipped:i}=e0(n,t,e);return{domain:r,clipped:i}}formatDatum(n){return typeof n=="number"?n.toFixed(2):(Oe.warnOnce("data contains Date objects which are being plotted against a number axis, please only use a number axis for numbers."),String(n))}createTick(){return new kee}updateSecondaryAxisTicks(n){if(this.dataDomain==null)throw new Error("AG Charts - dataDomain not calculated, cannot perform tick calculation.");if(this.dataDomain.domain.length===0)return[];const[t,e]=S3e(this.dataDomain.domain,n??0,this.reverse);return this.scale.nice=!1,this.scale.domain=t,this.scale.update(),e}};of.className="NumberAxis";of.type="number";R([M(du(iy,n0("max"))),Rc(NaN)],of.prototype,"min",2);R([M(du(iy,i0("min"))),Rc(NaN)],of.prototype,"max",2);var Gee=er(n=>As(n)&&n!==0,"a non-zero number"),Qd=class extends of{constructor(n){super(n,new QV),this.min=NaN,this.max=NaN}normaliseDataDomain(n){const{min:t,max:e}=this,{extent:r,clipped:i}=e0(n,t,e),o=r[0]>r[1],a=r[0]<0&&r[1]>0,s=r[0]===0&&r[1]===0;return(o||a||s)&&(n=[],a?Oe.warn("the data domain crosses zero, the chart data cannot be rendered. See log axis documentation for more information."):s&&Oe.warn("the data domain has 0 extent, no data is rendered.")),r[0]===0&&(r[0]=1),r[1]===0&&(r[1]=-1),{domain:r,clipped:i}}set base(n){this.scale.base=n}get base(){return this.scale.base}};Qd.className="LogAxis";Qd.type="log";R([M(du(iy,Gee,n0("max"))),Rc(NaN)],Qd.prototype,"min",2);R([M(du(iy,Gee,i0("min"))),Rc(NaN)],Qd.prototype,"max",2);var Vee=class extends Qs{constructor(){super(...arguments),this.maxSpacing=NaN}};R([M(zV),Rc(NaN)],Vee.prototype,"maxSpacing",2);var af=class extends u0{constructor(n){super(n,new eB),this.datumFormat="%m/%d/%y, %H:%M:%S",this.min=void 0,this.max=void 0;const{scale:t}=this;this.refreshScale(),this.datumFormatter=t.tickFormat({specifier:this.datumFormat})}normaliseDataDomain(n){var t;let{min:e,max:r}=this,i=!1;return typeof e=="number"&&(e=new Date(e)),typeof r=="number"&&(r=new Date(r)),n.length>2&&(n=((t=lu(n))!=null?t:[0,1e3]).map(o=>new Date(o))),e instanceof Date&&(i||(i=e>n[0]),n=[e,n[1]]),r instanceof Date&&(i||(i=r<n[1]),n=[n[0],r]),n[0]>n[1]&&(n=[]),{domain:n,clipped:i}}createTick(){return new Vee}onLabelFormatChange(n,t){t?super.onLabelFormatChange(n,t):this.labelFormatter=this.scale.tickFormat({ticks:n})}formatDatum(n){var t;return(t=this.moduleCtx.callbackCache.call(this.datumFormatter,n))!=null?t:String(n)}calculatePadding(n,t,e){return e?[1,0]:[0,1]}};af.className="TimeAxis";af.type="time";R([M(du(jV,n0("max")),{optional:!0})],af.prototype,"min",2);R([M(du(jV,i0("min")),{optional:!0})],af.prototype,"max",2);var Sz=1e-6,ux=(n,t,e,r,i)=>{let o=!1,a=!1,s=r-Math.sqrt(Math.max(pt(i,2)-pt(e,2),0)),l=0,u=0,c=e-Math.sqrt(Math.max(pt(i,2)-pt(r,2),0));return s>n?(o=!0,s=n,l=e-Math.sqrt(Math.max(pt(i,2)-pt(r-n,2)))):s<Sz&&(s=0),c>t?(a=!0,u=r-Math.sqrt(Math.max(pt(i,2)-pt(e-t,2))),c=t):c<Sz&&(c=0),{leading0:s,leading1:l,trailing0:u,trailing1:c,leadingClipped:o,trailingClipped:a}},cx=(n,{x0:t,y0:e,x1:r,y1:i,cx:o,cy:a},s,l)=>{if(l&&n.moveTo(t,e),t!==r||e!==i){const u=Math.atan2(e-a,t-o),c=Math.atan2(i-a,r-o);n.arc(o,a,s,u,c)}else n.lineTo(t,e)},aM=(n,t,e,r,i,o,a)=>{let{topLeft:s,topRight:l,bottomRight:u,bottomLeft:c}=o;const d=Math.max(s+c,l+u),p=Math.max(s+l,c+u);if(d<=0&&p<=0){n.rect(t,e,r,i);return}else if(a==null&&s===l&&s===u&&s===c){n.roundRect(t,e,r,i,s);return}if(r<0&&(t+=r,r=Math.abs(r)),i<0&&(e+=i,i=Math.abs(i)),a!=null){const x=Math.max(t,a.x),b=Math.min(t+r,a.x+a.width),O=Math.max(e,a.y),P=Math.min(e+i,a.y+a.height);t=x,e=O,r=b-x,i=P-O}if(r<=0||i<=0)return;a??(a=new nt(t,e,r,i));const h=Math.max(d/a.height,p/a.width,1);h>1&&(s/=h,l/=h,u/=h,c/=h);let f=!0,v=!0,g=!0,y=!0,m,C,S,w;if(f){const x=ux(i,r,Math.max(a.x+s-t,0),Math.max(a.y+s-e,0),s);x.leadingClipped&&(y=!1),x.trailingClipped&&(v=!1);const b=Math.max(t+x.leading1,t),O=Math.max(e+x.leading0,e),P=Math.max(t+x.trailing1,t),D=Math.max(e+x.trailing0,e),N=a.x+s,L=a.y+s;m={x0:b,y0:O,x1:P,y1:D,cx:N,cy:L}}if(v){const x=ux(r,i,Math.max(a.y+l-e,0),Math.max(t+r-(a.x+a.width-l),0),l);x.leadingClipped&&(f=!1),x.trailingClipped&&(g=!1);const b=Math.min(t+r-x.leading0,t+r),O=Math.max(e+x.leading1,e),P=Math.min(t+r-x.trailing0,t+r),D=Math.max(e+x.trailing1,e),N=a.x+a.width-l,L=a.y+l;C={x0:b,y0:O,x1:P,y1:D,cx:N,cy:L}}if(g){const x=ux(i,r,Math.max(t+r-(a.x+a.width-u),0),Math.max(e+i-(a.y+a.height-u),0),u);x.leadingClipped&&(v=!1),x.trailingClipped&&(y=!1);const b=Math.min(t+r-x.leading1,t+r),O=Math.min(e+i-x.leading0,e+i),P=Math.min(t+r-x.trailing1,t+r),D=Math.min(e+i-x.trailing0,e+i),N=a.x+a.width-u,L=a.y+a.height-u;S={x0:b,y0:O,x1:P,y1:D,cx:N,cy:L}}if(y){const x=ux(r,i,Math.max(e+i-(a.y+a.height-c),0),Math.max(a.x+c-t,0),c);x.leadingClipped&&(g=!1),x.trailingClipped&&(f=!1);const b=Math.max(t+x.leading0,t),O=Math.min(e+i-x.leading1,e+i),P=Math.max(t+x.trailing0,t),D=Math.min(e+i-x.trailing1,e+i),N=a.x+c,L=a.y+a.height-c;w={x0:b,y0:O,x1:P,y1:D,cx:N,cy:L}}let _=!1;f&&m!=null&&(cx(n,m,s,!_),_||(_=!0)),v&&C!=null&&(cx(n,C,l,!_),_||(_=!0)),g&&S!=null&&(cx(n,S,u,!_),_||(_=!0)),y&&w!=null&&(cx(n,w,c,!_),_||(_=!0)),n.closePath()},_i=class extends ya{constructor(){super(...arguments),this.borderPath=new kg,this.x=0,this.y=0,this.width=10,this.height=10,this.topLeftCornerRadius=0,this.topRightCornerRadius=0,this.bottomRightCornerRadius=0,this.bottomLeftCornerRadius=0,this.cornerRadiusBbox=void 0,this.crisp=!1,this.lastUpdatePathStrokeWidth=rs.defaultStyles.strokeWidth,this.effectiveStrokeWidth=rs.defaultStyles.strokeWidth,this.microPixelEffectOpacity=1}set cornerRadius(n){this.topLeftCornerRadius=n,this.topRightCornerRadius=n,this.bottomRightCornerRadius=n,this.bottomLeftCornerRadius=n}isDirtyPath(){return this.lastUpdatePathStrokeWidth!==this.strokeWidth?!0:!!(this.path.isDirty()||this.borderPath.isDirty())}updatePath(){var n,t,e;const{path:r,borderPath:i,crisp:o,topLeftCornerRadius:a,topRightCornerRadius:s,bottomRightCornerRadius:l,bottomLeftCornerRadius:u}=this;let{x:c,y:d,width:p,height:h,strokeWidth:f,cornerRadiusBbox:v}=this;const y=1/((t=(n=this.layerManager)==null?void 0:n.canvas.pixelRatio)!=null?t:1);let m=1;if(r.clear({trackChanges:!0}),i.clear({trackChanges:!0}),o&&(p<=y&&(m*=p/y),h<=y&&(m*=h/y),p=this.align(c,p),h=this.align(d,h),c=this.align(c),d=this.align(d),v=v!=null?new nt(this.align(v.x),this.align(v.y),this.align(v.x,v.width),this.align(v.y,v.height)):void 0),f)if(p<y){const C=c+y/2;i.moveTo(C,d),i.lineTo(C,d+h),f=y,this.borderClipPath=void 0}else if(h<y){const C=d+y/2;i.moveTo(c,C),i.lineTo(c+p,C),f=y,this.borderClipPath=void 0}else if(f<p&&f<h){const C=f/2;c+=C,d+=C,p-=f,h-=f;const S=v==null?void 0:v.clone().shrink(C),w={topLeft:a>0?a-f:0,topRight:s>0?s-f:0,bottomRight:l>0?l-f:0,bottomLeft:u>0?u-f:0};this.borderClipPath=void 0,aM(r,c,d,p,h,w,S),aM(i,c,d,p,h,w,S)}else this.borderClipPath=(e=this.borderClipPath)!=null?e:new kg,this.borderClipPath.clear({trackChanges:!0}),this.borderClipPath.rect(c,d,p,h),i.rect(c,d,p,h);else{const C={topLeft:a,topRight:s,bottomRight:l,bottomLeft:u};this.borderClipPath=void 0,aM(r,c,d,p,h,C,v)}this.effectiveStrokeWidth=f,this.lastUpdatePathStrokeWidth=f,this.microPixelEffectOpacity=m}computeBBox(){const{x:n,y:t,width:e,height:r}=this;return new nt(n,t,e,r)}isPointInPath(n,t){const e=this.transformPoint(n,t);return this.computeBBox().containsPoint(e.x,e.y)}applyFillAlpha(n){const{fillOpacity:t,microPixelEffectOpacity:e,opacity:r}=this,{globalAlpha:i}=n;n.globalAlpha=i*r*t*e}renderStroke(n){const{stroke:t,effectiveStrokeWidth:e,borderPath:r,borderClipPath:i,opacity:o,microPixelEffectOpacity:a}=this;if(!!t&&!!e){const{strokeOpacity:l,lineDash:u,lineDashOffset:c,lineCap:d,lineJoin:p}=this;i&&(i.draw(n),n.clip()),r.draw(n);const{globalAlpha:h}=n;n.strokeStyle=t,n.globalAlpha=h*o*l*a,n.lineWidth=e,u&&n.setLineDash(u),c&&(n.lineDashOffset=c),d&&(n.lineCap=d),p&&(n.lineJoin=p),n.stroke(),n.globalAlpha=h}}};_i.className="Rect";R([ct()],_i.prototype,"x",2);R([ct()],_i.prototype,"y",2);R([ct()],_i.prototype,"width",2);R([ct()],_i.prototype,"height",2);R([ct()],_i.prototype,"topLeftCornerRadius",2);R([ct()],_i.prototype,"topRightCornerRadius",2);R([ct()],_i.prototype,"bottomRightCornerRadius",2);R([ct()],_i.prototype,"bottomLeftCornerRadius",2);R([ct()],_i.prototype,"cornerRadiusBbox",2);R([ct()],_i.prototype,"crisp",2);var p0=class extends xV{constructor(n){var t;super(),this.node=new Ve({name:"background",zIndex:0}),this.rectNode=new _i,this.visible=!0,this.fill="white",this.image=void 0,this.node.appendChild(this.rectNode),(t=n.scene.root)==null||t.appendChild(this.node),this.destroyFns.push(()=>{var e;return(e=n.scene.root)==null?void 0:e.removeChild(this.node)},n.layoutService.addListener("layout-complete",e=>this.onLayoutComplete(e)))}onLayoutComplete(n){const{width:t,height:e}=n.chart;this.rectNode.width=t,this.rectNode.height=e}};R([M(qe),cr("node","visible")],p0.prototype,"visible",2);R([M(Tt,{optional:!0}),cr("rectNode","fill")],p0.prototype,"fill",2);R([M(je,{optional:!0})],p0.prototype,"image",2);var Bee={type:"root",optionsKey:"background",packageType:"community",chartTypes:["cartesian","polar","hierarchy"],instanceConstructor:p0},Bs=class extends ya{constructor(){super(...arguments),this._fill="#f2f2f2",this._stroke="#999999",this._strokeWidth=1,this._lineCap="square",this._centerX=0,this._centerY=0,this._width=8,this._gripLineGap=2,this._gripLineLength=8,this._height=16}set centerX(n){this._centerX!==n&&(this._centerX=n,this.dirtyPath=!0)}get centerX(){return this._centerX}set centerY(n){this._centerY!==n&&(this._centerY=n,this.dirtyPath=!0)}get centerY(){return this._centerY}set width(n){this._width!==n&&(this._width=n,this.dirtyPath=!0)}get width(){return this._width}set gripLineGap(n){this._gripLineGap!==n&&(this._gripLineGap=n,this.dirtyPath=!0)}get gripLineGap(){return this._gripLineGap}set gripLineLength(n){this._gripLineLength!==n&&(this._gripLineLength=n,this.dirtyPath=!0)}get gripLineLength(){return this._gripLineLength}set height(n){this._height!==n&&(this._height=n,this.dirtyPath=!0)}get height(){return this._height}computeBBox(){const{centerX:n,centerY:t,width:e,height:r}=this,i=n-e/2,o=t-r/2;return new nt(i,o,e,r)}isPointInPath(n,t){const e=this.transformPoint(n,t);return this.computeBBox().containsPoint(e.x,e.y)}updatePath(){const{path:n,centerX:t,centerY:e,width:r,height:i}=this;n.clear();const o=t-r/2,a=e-i/2,s=this.align(o),l=this.align(a),u=s+this.align(o,r),c=l+this.align(a,i);n.moveTo(s,l),n.lineTo(u,l),n.lineTo(u,c),n.lineTo(s,c),n.closePath();const d=this.gripLineGap/2,p=this.gripLineLength/2;n.moveTo(this.align(t-d),this.align(e-p)),n.lineTo(this.align(t-d),this.align(e+p)),n.moveTo(this.align(t+d),this.align(e-p)),n.lineTo(this.align(t+d),this.align(e+p))}};Bs.className="RangeHandle";R([M(Tt)],Bs.prototype,"_fill",2);R([M(Tt)],Bs.prototype,"_stroke",2);R([M(xe)],Bs.prototype,"_strokeWidth",2);R([M(aJ)],Bs.prototype,"_lineCap",2);R([M(xe)],Bs.prototype,"_width",2);R([M(xe)],Bs.prototype,"_gripLineGap",2);R([M(xe)],Bs.prototype,"_gripLineLength",2);R([M(xe)],Bs.prototype,"_height",2);function cP(n,t){n!==t&&(this.dirtyPath=!0)}var Sp=class extends ya{constructor(){super(...arguments),this.x=0,this.y=0,this.width=200,this.height=30,this.minRange=.001,this._min=0,this._max=1}set min(n){var t;n=Dt(0,n,this.max-this.minRange),this._min!==n&&!isNaN(n)&&(this._min=n,this.dirtyPath=!0,(t=this.onRangeChange)==null||t.call(this))}get min(){return this._min}set max(n){var t;n=Dt(this.min+this.minRange,n,1),this._max!==n&&!isNaN(n)&&(this._max=n,this.dirtyPath=!0,(t=this.onRangeChange)==null||t.call(this))}get max(){return this._max}computeBBox(){const{x:n,y:t,width:e,height:r}=this;return new nt(n,t,e,r)}computeVisibleRangeBBox(){const{x:n,y:t,width:e,height:r,min:i,max:o}=this,a=n+e*i,s=n+e*o;return new nt(a,t,s-a,r)}updatePath(){const{path:n,x:t,y:e,width:r,height:i,min:o,max:a}=this;n.clear();const s=this.align(t),l=this.align(e),u=s+this.align(t,r),c=l+this.align(e,i);n.moveTo(s,l),n.lineTo(u,l),n.lineTo(u,c),n.lineTo(s,c),n.lineTo(s,l);const d=this.align(t+r*o),p=this.align(t+r*a);n.moveTo(d,l),n.lineTo(d,c),n.lineTo(p,c),n.lineTo(p,l),n.lineTo(d,l)}};Sp.className="RangeMask";R([An({changeValue:cP}),M(xe)],Sp.prototype,"x",2);R([An({changeValue:cP}),M(xe)],Sp.prototype,"y",2);R([An({changeValue:cP}),M(xe)],Sp.prototype,"width",2);R([An({changeValue:cP}),M(xe)],Sp.prototype,"height",2);R([M(sr)],Sp.prototype,"_min",2);R([M(sr)],Sp.prototype,"_max",2);var h0=class Hee extends Ve{constructor(){super({name:"rangeSelectorGroup",layer:!0}),this.minHandle=new Bs,this.maxHandle=new Bs,this.background=(()=>{const t=new Ve({name:"navigator-background"});return t.zIndex=1,this.appendChild(t),t})(),this.mask=(()=>{const{x:t,y:e,width:r,height:i,min:o,max:a}=Hee.defaults,s=new Sp;s.x=t,s.y=e,s.width=r,s.height=i,s.min=o,s.max=a,s.zIndex=2;const{minHandle:l,maxHandle:u}=this;return l.centerX=t,u.centerX=t+r,l.centerY=u.centerY=e+i/2,l.zIndex=4,u.zIndex=3,this.append([s,l,u]),s.onRangeChange=()=>{var c;this.updateHandles(),(c=this.onRangeChange)==null||c.call(this)},s})(),this.isContainerNode=!0}layout(t,e,r,i){this.mask.x=t,this.mask.y=e,this.mask.width=r,this.mask.height=i,this.updateHandles(),this.background.translationX=t,this.background.translationY=e}updateHandles(){const{x:t,y:e,width:r,height:i}=this.mask,{minHandle:o,maxHandle:a,min:s,max:l}=this;o.centerX=t+r*s,a.centerX=t+r*l,o.centerY=a.centerY=e+i/2,s+(l-s)/2<.5?(o.zIndex=3,a.zIndex=4):(o.zIndex=4,a.zIndex=3)}computeBBox(){return this.mask.computeBBox()}computeVisibleRangeBBox(){return this.mask.computeVisibleRangeBBox()}};h0.className="Range";h0.defaults={x:0,y:0,width:200,height:30,min:0,max:1};R([fp("mask.min")],h0.prototype,"min",2);R([fp("mask.max")],h0.prototype,"max",2);var b3e=h0,el=class extends xV{constructor(n){var t;super(),this.ctx=n,this.rs=new b3e,this.miniChart=void 0,this.minHandleDragging=!1,this.maxHandleDragging=!1,this.panHandleOffset=NaN,this.enabled=!1,this.height=30,this.margin=10,this.visible=!0,this.x=0,this.y=0,this.width=0,this.rs.onRangeChange=GVe(()=>this.onRangeChange()),(t=n.scene.root)==null||t.appendChild(this.rs);const e=13;this.destroyFns.push(n.interactionManager.addListener("drag-start",r=>this.onDragStart(r),e),n.interactionManager.addListener("drag",r=>this.onDrag(r),e),n.interactionManager.addListener("hover",r=>this.onDrag(r),e),n.interactionManager.addListener("drag-end",()=>this.onDragStop(),e),n.zoomManager.addListener("zoom-change",()=>this.onZoomChange()),()=>{var r;return(r=n.scene.root)==null?void 0:r.removeChild(this.rs)},()=>delete this.rs.onRangeChange),this.updateGroupVisibility()}updateGroupVisibility(){const n=!!(this.enabled&&this.visible);n!==this.rs.visible&&(this.rs.visible=n,n&&this.onRangeChange())}performLayout(n){return le(this,arguments,function*({shrinkRect:t}){if(this.enabled){const e=this.height+this.margin;t.shrink(e,"bottom"),this.y=t.y+t.height+this.margin}else this.y=0;return{shrinkRect:t}})}performCartesianLayout(n){return le(this,null,function*(){const{x:t,width:e}=n.seriesRect,r=!0;if(this.enabled&&r){const{y:i,height:o}=this;this.rs.layout(t,i,e,o)}this.visible=r,this.x=t,this.width=e})}onRangeChange(){var n,t;const{min:e,max:r}=this.rs,i=this.ctx.zoomManager.getZoom();(((n=i==null?void 0:i.x)==null?void 0:n.min)!==e||((t=i==null?void 0:i.x)==null?void 0:t.max)!==r)&&this.ctx.zoomManager.updateZoom({x:{min:e,max:r},y:i==null?void 0:i.y})}onZoomChange(){const n=this.ctx.zoomManager.getZoom();n&&n.x&&(this.min=n.x.min,this.max=n.x.max)}onDragStart(n){if(!this.enabled)return;const{offsetX:t,offsetY:e}=n,{rs:r}=this,{minHandle:i,maxHandle:o,min:a}=r,{x:s,width:l}=this,u=r.computeVisibleRangeBBox();this.minHandleDragging||this.maxHandleDragging||(i.zIndex<o.zIndex?o.containsPoint(t,e)?this.maxHandleDragging=!0:i.containsPoint(t,e)&&(this.minHandleDragging=!0):i.containsPoint(t,e)?this.minHandleDragging=!0:o.containsPoint(t,e)&&(this.maxHandleDragging=!0),!this.minHandleDragging&&!this.maxHandleDragging&&u.containsPoint(t,e)&&(this.panHandleOffset=(t-s)/l-a))}onDrag(n){if(!this.enabled)return;const{rs:t,panHandleOffset:e}=this,{minHandle:r,maxHandle:i}=t,{x:o,y:a,width:s,height:l}=this,{offsetX:u,offsetY:c}=n,d=o+s*t.min,p=o+s*t.max,h=new nt(d,a,p-d,l),f=()=>Dt(0,(u-o)/s,1);if(r.containsPoint(u,c)||i.containsPoint(u,c)?this.ctx.cursorManager.updateCursor("navigator","ew-resize"):h.containsPoint(u,c)?this.ctx.cursorManager.updateCursor("navigator","grab"):this.ctx.cursorManager.updateCursor("navigator"),this.minHandleDragging)t.min=f();else if(this.maxHandleDragging)t.max=f();else if(!isNaN(e)){const v=t.max-t.min,g=Math.min(f()-e,1-v);g<=t.min?(t.min=g,t.max=t.min+v):(t.max=g+v,t.min=t.max-v)}}onDragStop(){this.stopHandleDragging()}stopHandleDragging(){this.minHandleDragging=this.maxHandleDragging=!1,this.panHandleOffset=NaN}};R([M(je,{optional:!0})],el.prototype,"miniChart",2);R([M(qe),oy(n=>n.updateGroupVisibility())],el.prototype,"enabled",2);R([fp("rs.mask")],el.prototype,"mask",2);R([fp("rs.minHandle")],el.prototype,"minHandle",2);R([fp("rs.maxHandle")],el.prototype,"maxHandle",2);R([fp("rs.min")],el.prototype,"min",2);R([fp("rs.max")],el.prototype,"max",2);R([M(xe)],el.prototype,"margin",2);R([M(qe),oy(n=>n.updateGroupVisibility())],el.prototype,"visible",2);var jee={type:"root",optionsKey:"navigator",packageType:"community",chartTypes:["cartesian"],instanceConstructor:el,themeTemplate:{navigator:{enabled:!1,height:30,mask:{fill:"#999999",stroke:"#999999",strokeWidth:1,fillOpacity:.2},minHandle:{fill:"#f2f2f2",stroke:"#999999",strokeWidth:1,width:8,height:16,gripLineGap:2,gripLineLength:8},maxHandle:{fill:"#f2f2f2",stroke:"#999999",strokeWidth:1,width:8,height:16,gripLineGap:2,gripLineLength:8}}}},wB=({takeColors:n})=>{const{fills:[t],strokes:[e]}=n(1);return{fill:t,stroke:e}},f0=n=>{const{fill:t,stroke:e}=wB(n);return{marker:{fill:t,stroke:e}}};function $ee(n,t,e,r,i){const{addPhaseFn:o,updatePhaseFn:a,removePhaseFn:s}=i,l=(u,c,d)=>{e.animate({id:`${n}_${t}_${c.id}_${u}`,groupId:n,from:0,to:1,ease:XS,onUpdate(p,h){h&&u!=="removed"||(c.path.clear({trackChanges:!0}),d(p,c),c.checkPathDirty())},onStop(){u==="added"&&(c.path.clear({trackChanges:!0}),d(1,c),c.checkPathDirty())},phase:Fi[u]})};for(const u of r)e.isSkipped()||(l("removed",u,s),l("updated",u,a)),l("added",u,o)}var Sm=null;function Sr(n){if(n!=null)return n===""?"":(Sm??(Sm=document.createElement("div")),Sm.textContent=String(n),Sm.innerHTML)}function $t({id:n},t,e,r){cu(n,t,e,r,{opacity:0},{opacity:1},{phase:"trailing"})}function jh({id:n},t,e,r){cu(n,t,e,r,{opacity:1},{opacity:0},{phase:"remove"})}function Ac(n){return{opacity:1}}var Wee=class extends nr{constructor(){super(...arguments),this._dirty=3}markDirty(n,t=1){this._dirty<t&&(this._dirty=t)}markClean(n){this._dirty=0}isDirty(){return this._dirty>0}},tl=class extends Wee{constructor(){super(...arguments),this.enabled=!0,this.color="rgba(0, 0, 0, 0.5)",this.xOffset=0,this.yOffset=0,this.blur=5}};R([M(qe),Ae({redraw:3})],tl.prototype,"enabled",2);R([M(Tt),Ae({redraw:3})],tl.prototype,"color",2);R([M(sr),Ae({redraw:3})],tl.prototype,"xOffset",2);R([M(sr),Ae({redraw:3})],tl.prototype,"yOffset",2);R([M(xe),Ae({redraw:3})],tl.prototype,"blur",2);var O3e=er(n=>mee(n)||Object.getPrototypeOf(n)===cs,"a marker shape keyword such as 'circle', 'diamond' or 'square' or an object extending the Marker class"),Oo=class extends Wee{constructor(){super(...arguments),this.enabled=!0,this.shape=ql,this.size=6,this.fillOpacity=1,this.strokeWidth=1,this.strokeOpacity=1}getStyle(){const{size:n,fill:t,fillOpacity:e,stroke:r,strokeWidth:i,strokeOpacity:o}=this;return{size:n,fill:t,fillOpacity:e,stroke:r,strokeWidth:i,strokeOpacity:o}}getDiameter(){return this.size+this.strokeWidth}};R([M(qe),Ae({redraw:3})],Oo.prototype,"enabled",2);R([M(O3e),Ae({redraw:3})],Oo.prototype,"shape",2);R([M(xe),Ae({redraw:3})],Oo.prototype,"size",2);R([M(Tt,{optional:!0}),Ae({redraw:3})],Oo.prototype,"fill",2);R([M(Ut),Ae({redraw:3})],Oo.prototype,"fillOpacity",2);R([M(Tt,{optional:!0}),Ae({redraw:3})],Oo.prototype,"stroke",2);R([M(xe),Ae({redraw:3})],Oo.prototype,"strokeWidth",2);R([M(Ut),Ae({redraw:3})],Oo.prototype,"strokeOpacity",2);R([M(ss,{optional:!0}),Ae({redraw:3})],Oo.prototype,"formatter",2);var Uee=class extends nr{constructor(){super(...arguments),this.enabled=!1}};R([M(qe)],Uee.prototype,"enabled",2);var Ro=class extends nr{constructor(){super(...arguments),this.enabled=!0,this.interaction=new Uee,this.position=new a0}toTooltipHtml(n,t){return this.renderer?ZS(this.renderer(t),n):ZS(n)}};R([M(qe)],Ro.prototype,"enabled",2);R([M(qe,{optional:!0})],Ro.prototype,"showArrow",2);R([M(ss,{optional:!0})],Ro.prototype,"renderer",2);R([M(je)],Ro.prototype,"interaction",2);R([M(je)],Ro.prototype,"position",2);var $n=class extends mp{constructor(){super(...arguments),this.xName=void 0,this.fill="#c16068",this.fillOpacity=1,this.stroke="#874349",this.strokeWidth=2,this.strokeOpacity=1,this.lineDash=[0],this.lineDashOffset=0,this.shadow=new tl,this.marker=new Oo,this.label=new gn,this.tooltip=new Ro,this.connectMissingData=!1}};R([M(Ee)],$n.prototype,"xKey",2);R([M(Ee,{optional:!0})],$n.prototype,"xName",2);R([M(Ee)],$n.prototype,"yKey",2);R([M(Ee,{optional:!0})],$n.prototype,"yName",2);R([M(xe,{optional:!0})],$n.prototype,"normalizedTo",2);R([M(Tt)],$n.prototype,"fill",2);R([M(Ut)],$n.prototype,"fillOpacity",2);R([M(Tt)],$n.prototype,"stroke",2);R([M(xe)],$n.prototype,"strokeWidth",2);R([M(Ut)],$n.prototype,"strokeOpacity",2);R([M(bc)],$n.prototype,"lineDash",2);R([M(xe)],$n.prototype,"lineDashOffset",2);R([M(je)],$n.prototype,"shadow",2);R([M(je)],$n.prototype,"marker",2);R([M(je)],$n.prototype,"label",2);R([M(je)],$n.prototype,"tooltip",2);R([M(qe)],$n.prototype,"connectMissingData",2);function rw({id:n},t,e,r){const i={phase:r?Fi[r]:"trailing"};cu(n,"markers",t,e,{opacity:0},{opacity:1},i),e.forEach(o=>o.cleanup())}function _B({id:n},t,e){cu(n,"markers",t,e,{scalingX:0,scalingY:0},{scalingX:1,scalingY:1},{phase:"initial"}),e.forEach(r=>r.cleanup())}function xB({id:n,nodeDataDependencies:t},e,r){const i=t.seriesRectWidth;xr(n,"markers",e,r,{fromFn:(s,l)=>{var u,c;const d=(c=(u=l.midPoint)==null?void 0:u.x)!=null?c:i;return{scalingX:0,scalingY:0,delay:Dt(0,XQ(d/i),1),duration:qT,phase:"initial"}},toFn:()=>({scalingX:1,scalingY:1})})}function v0(n){return{opacity:1,scalingX:1,scalingY:1}}function nw(n,t){var e,r,i,o;return{translationX:(r=(e=t.point)==null?void 0:e.x)!=null?r:NaN,translationY:(o=(i=t.point)==null?void 0:i.y)!=null?o:NaN}}function EB(n,t){const e=(a,s)=>{const l=n[s][a];return Array.isArray(l)?l[0]:l},r=a=>{const{xValue:s}=a;return n.moved[s]?{point:e(s,"moved"),status:"updated"}:n.removed[s]?{point:e(s,"removed"),status:"removed"}:n.added[s]?{point:e(s,"added"),status:"added"}:{status:"unknown"}};return{fromFn:(a,s)=>{var l,u,c,d,p,h;const{status:f,point:v}=r(s);if(f==="unknown")return{opacity:0};const g={translationX:(u=(l=v==null?void 0:v.from)==null?void 0:l.x)!=null?u:a.translationX,translationY:(d=(c=v==null?void 0:v.from)==null?void 0:c.y)!=null?d:a.translationY,opacity:a.opacity,phase:Fi[f]};return t==="added"?Te(J({},g),{opacity:0,translationX:(p=v==null?void 0:v.to)==null?void 0:p.x,translationY:(h=v==null?void 0:v.to)==null?void 0:h.y,phase:Fi.added}):(f==="added"&&(g.opacity=0),g)},toFn:(a,s)=>{var l,u;const{status:c,point:d}=r(s);if(c==="unknown")return{opacity:0};const p={translationX:s.point.x,translationY:s.point.y,opacity:1,phase:Fi[c]};return c==="removed"||t==="removed"?Te(J({},p),{translationX:(l=d==null?void 0:d.to)==null?void 0:l.x,translationY:(u=d==null?void 0:d.to)==null?void 0:u.y,opacity:0,phase:Fi.removed}):p}}}function NI(n){return n.reduce(({min:t,max:e},r)=>((t==null||t.point.x>r.point.x)&&(t=r),(e==null||e.point.x<r.point.x)&&(e=r),{min:t,max:e}),{})}function wz(n,t,e){const r=(t.y-n.y)/(t.x-n.x),i=(e-n.x)*r+n.y;return{x:e,y:i}}function _z(n,t,e,r){let i=-1,o=0;const a=[];for(;o<n.length;){if(n[o].change===t){a.push(n[o]),o++;continue}if(n[o].change===e){o++;continue}a.length>0&&(r(a,i,o),a.length=0),i=o,o++}a.length>0&&r(a,i,o)}function bB(n,t){_z(n,"out","in",(e,r,i)=>{var o,a;r===-1&&n[i]?e.forEach(s=>s.to=n[i].from):i===n.length&&n[r]?e.forEach(s=>s.to=n[r].from):t==="intersect"&&((o=n[r])!=null&&o.from)&&((a=n[i])!=null&&a.from)?e.forEach(s=>s.to=wz(n[r].from,n[i].from,s.from.x)):e.forEach(s=>s.to=s.from)}),_z(n,"in","out",(e,r,i)=>{var o,a;r===-1&&n[i]?e.forEach(s=>s.from=n[i].to):i===n.length&&n[r]?e.forEach(s=>s.from=n[r].to):t==="intersect"&&((o=n[r])!=null&&o.to)&&((a=n[i])!=null&&a.to)?e.forEach(s=>s.from=wz(n[r].to,n[i].to,s.to.x)):e.forEach(s=>s.from=s.to)})}function xz(n,t,e){const r=isNaN(n.x)?t.x:n.x,i=isNaN(n.y)?t.y:n.y,o=t.x-n.x,a=t.y-n.y,s=isNaN(o)?0:o*e,l=isNaN(a)?0:a*e;return{x:r+s,y:i+l}}function OB(n,t,e){const{path:r}=e;let i;for(const o of n){const{from:a,to:s}=o,l=t[o.change];if(l==null||a==null||s==null)continue;const{x:u,y:c}=xz(a,s,l);if(o.moveTo===!1)r.lineTo(u,c);else if(o.moveTo===!0||!i)r.moveTo(u,c);else if(i){const d=o.moveTo==="in"?l:1-l,{x:p,y:h}=xz(i,{x:u,y:c},d);r.lineTo(p,h),r.moveTo(u,c)}i={x:u,y:c}}}function RB({id:n,visible:t,nodeDataDependencies:e},r,i){const{seriesRectWidth:o,seriesRectHeight:a}=e;cu(n,"path_properties",r,i,{clipX:0},{clipX:o},{phase:"initial",start:{clipMode:"normal",clipY:a,visible:t},finish:{clipMode:void 0,visible:t}})}function UC({id:n},t,e,r,i="add"){cu(n,t,e,r,{opacity:0},{opacity:1},{phase:i})}function R3e({id:n},t,e,r){cu(n,t,e,r,{opacity:1},{opacity:0},{phase:"remove"})}function TB(n){return t=>({opacity:n.getOpacity(),clipScalingX:1,clipMode:void 0})}function FO({nodeDataDependencies:n},t){const e=r=>isFinite(r)?r:0;t.clipX=e(n.seriesRectWidth),t.clipY=e(n.seriesRectHeight)}function Ez(n){return n.type==="continuous"||n.type==="log"}function bz(n){return n.type==="category"}function Oz(n,t){return n.domain.length===t.domain.length&&n.range.length===t.range.length&&n.domain.every((e,r)=>e===t.domain[r])&&n.range.every((e,r)=>e===t.range[r])}function Rz(n,t){return n===void 0||t===void 0?n!==void 0||t!==void 0:Ez(n)&&Ez(t)?n.type===t.type&&Oz(n,t):bz(n)&&bz(t)?Oz(n,t):!1}function dx(n,t){if(!t)return NaN;if(n instanceof Date&&(n=n.getTime()),t.type==="continuous"&&typeof n=="number")return(n-t.domain[0])/(t.domain[1]-t.domain[0])*(t.range[1]-t.range[0])+t.range[0];if(t.type==="log"&&typeof n=="number")return t.convert(n);const e=t.domain.findIndex(r=>r===n);return e>=0?t.range[e]:NaN}function T3e(n,t){return!Rz(n.scales.x,t.scales.x)||!Rz(n.scales.y,t.scales.y)}function P3e(n,t){const e=Number(n),r=Number(t);return!isNaN(e)&&!isNaN(r)?Math.abs(r-e)<.25:n===t}function zee(n=!1,t=!1){return n===t?!!n:n?"in":"out"}function iw(n,t,e={}){var r,i,o,a;const{backfillSplitMode:s="intersect"}=e,l=C=>{var S,w;return{x:dx((S=C.xValue)!=null?S:NaN,n.scales.x),y:dx((w=C.yValue)!=null?w:NaN,n.scales.y)}},u=C=>{var S,w;return{x:dx((S=C.xValue)!=null?S:NaN,t.scales.x),y:dx((w=C.yValue)!=null?w:NaN,t.scales.y)}},c=[],d={added:{},moved:{},removed:{}},p=(C,S,w,_="move")=>{C&&(isNaN(C.point.x)||isNaN(C.point.y))&&(C=S);const x={from:C==null?void 0:C.point,to:S==null?void 0:S.point,moveTo:zee(C==null?void 0:C.point.moveTo,S==null?void 0:S.point.moveTo),change:_};_==="move"?(d.moved[w]=x,y++,m++):_==="in"?(d.added[w]=x,m++):_==="out"&&(d.removed[w]=x,y++),c.push(x)},{min:h,max:f}=NI(t.nodeData),{min:v,max:g}=NI(n.nodeData);let y=0,m=0;for(;y<t.nodeData.length||m<n.nodeData.length;){const C=t.nodeData[y],S=n.nodeData[m],w=C?l(C):void 0,_=S?u(S):void 0,x=void 0;if(w&&P3e(w.x,S==null?void 0:S.point.x))p(C,S,S.xValue,"move");else if(w&&w.x<((r=v==null?void 0:v.point.x)!=null?r:-1/0))p(C,x,C.xValue,"out");else if(w&&w.x>((i=g==null?void 0:g.point.x)!=null?i:1/0))p(C,x,C.xValue,"out");else if(_&&_.x<((o=h==null?void 0:h.point.x)!=null?o:-1/0))p(x,S,S.xValue,"in");else if(_&&_.x>((a=f==null?void 0:f.point.x)!=null?a:1/0))p(x,S,S.xValue,"in");else if(w&&w.x<(S==null?void 0:S.point.x))p(C,x,C.xValue,"out");else if(_&&_.x<(C==null?void 0:C.point.x))p(x,S,S.xValue,"in");else if(C)p(C,x,C.xValue,"out");else if(S)p(x,S,S.xValue,"in");else throw new Error("Unable to process points")}return bB(c,s),{result:c,resultMap:d}}function ow(n,t,e,r={}){var i,o,a;const{backfillSplitMode:s="intersect",multiDatum:l=!1}=r,u=[],c={added:{},moved:{},removed:{}},d={added:{},moved:{},removed:{}};let p,h;const f=(C,S)=>{var w,_;const x=S.change==="move"?"moved":S.change==="in"?"added":"removed";l?((_=(w=d[x])[C])!=null||(w[C]=[]),d[x][C].push(S)):c[x][C]=S,p=S,h=ag(C)};let v=0,g=0,y=!1;for(;v<t.nodeData.length||g<n.nodeData.length;){const C=t.nodeData[v],S=n.nodeData[g],w=ag(C==null?void 0:C.xValue),_=ag(S==null?void 0:S.xValue);let x;if(w===_)x={change:"move",moveTo:zee((i=C.point.moveTo)!=null?i:!1,S.point.moveTo),from:C.point,to:S.point},f(C==null?void 0:C.xValue,x),v++,g++;else if(e!==void 0&&e.removed.indexOf(String(w))>=0)x={change:"out",moveTo:(o=C.point.moveTo)!=null?o:!1,from:C.point},f(C==null?void 0:C.xValue,x),v++;else if(e!==void 0&&e.added.indexOf(String(_))>=0)x={change:"in",moveTo:(a=S.point.moveTo)!=null?a:!1,to:S.point},f(S==null?void 0:S.xValue,x),g++;else if(l&&p&&h===w)x=J({},p),f(C==null?void 0:C.xValue,x),v++;else if(l&&p&&h===_)x=J({},p),f(S==null?void 0:S.xValue,x),g++;else{y=!0;break}u.push(x)}let m=-1/0;return y||(y=u.some(C=>{const{change:S,to:{x:w=-1/0}={}}=C;if(S==="out")return;const _=w<m;return m=w,_})),y?{result:void 0,resultMap:void 0}:(bB(u,s),l?{result:u,resultMap:d}:{result:u,resultMap:c})}function Kee(n,t){let e="updated";const r=i=>i.visible;return!r(t)&&r(n)?e="added":r(t)&&!r(n)&&(e="removed"),e}function A3e(n,t){const e=t==="none"?"updated":n,r={fromFn:i=>{let o;return n==="removed"?o={finish:{visible:!1}}:n==="added"?o={start:{visible:!0}}:o={},J({phase:Fi[e]},o)},toFn:i=>({phase:Fi[e]})};return t==="fade"?{fromFn:i=>{const o=n==="added"?0:i.opacity;return J({opacity:o},r.fromFn(i))},toFn:i=>J({opacity:n==="removed"?0:1},r.toFn(i))}:r}function PB(n,t,e,r,i){const o=Kee(n,t),a=(c,d)=>{i(e,{move:0,out:c},d)},s=(c,d)=>{i(e,{move:c},d)},l=(c,d)=>{i(e,{move:1,in:c},d)},u=A3e(o,r);return{status:o,path:{addPhaseFn:l,updatePhaseFn:s,removePhaseFn:a},pathProperties:u}}function Yee(n,t,e){var r,i,o;const a=((r=n.scales.x)==null?void 0:r.type)==="category",s=((i=t.scales.x)==null?void 0:i.type)==="category";if(a!==s)return;const{result:l,resultMap:u}=a?ow(n,t,e):iw(n,t);let c="updated";if(t.visible&&!n.visible?c="removed":!t.visible&&n.visible&&(c="added"),l===void 0||u===void 0)return;const d=((o=e==null?void 0:e.changed)!=null?o:!0)||T3e(n,t)||c!=="updated",p=PB(n,t,l,"fade",OB),h=EB(u,c);return Te(J({},p),{marker:h,hasMotion:d})}var Xee=(n=>(n[n.Fill=0]="Fill",n[n.Stroke=1]="Stroke",n[n.Marker=2]="Marker",n[n.Label=3]="Label",n))(Xee||{});function IO(n){const{points:t}=n.fillData;return{top:t.slice(0,t.length/2),bottom:t.slice(t.length/2).reverse()}}function _d(n,t,e){return{scales:t.scales,nodeData:e[n],visible:t.visible}}function D3e(n,t,e){const r=IO(t),i=IO(n),o={multiDatum:!0};return{top:ow(_d("top",n,i),_d("top",t,r),e,o),bottom:ow(_d("bottom",n,i),_d("bottom",t,r),e,o)}}function M3e(n,t){const e=IO(t),r=IO(n);return{top:iw(_d("top",n,r),_d("top",t,e)),bottom:iw(_d("bottom",n,r),_d("bottom",t,e))}}function qee(n,t,e){var r,i;const o=((r=n.scales.x)==null?void 0:r.type)==="category",a=((i=t.scales.x)==null?void 0:i.type)==="category";if(o!==a)return;let s="updated";t.visible&&!n.visible?s="removed":!t.visible&&n.visible&&(s="added");const l=()=>o?ow(n,t,e,{backfillSplitMode:"static",multiDatum:!0}):iw(n,t,{backfillSplitMode:"static"}),u=()=>o?D3e(n,t,e):M3e(n,t),{resultMap:c}=l(),{top:d,bottom:p}=u();if(c===void 0||d.result===void 0||p.result===void 0)return;const h=[...d.result,...p.result.reverse()],v=(t.stackVisible?n.stackVisible:!1)?"none":"fade",g=PB(n,t,h,v,OB),y=EB(c,s);return{fill:g,marker:y}}var AB=class Zee extends Cp{constructor(t){super({moduleCtx:t,pathsPerSeries:2,pathsZIndexSubOrderOffset:[0,1e3],hasMarkers:!0,markerSelectionGarbageCollection:!1,pickModes:[1,0],animationResetFns:{path:TB({getOpacity:()=>this.getOpacity()}),label:Ac,marker:(e,r)=>J(J({},v0()),nw(e,r))}}),this.properties=new $n}processData(t){return le(this,null,function*(){if(this.data==null||!this.properties.isValid())return;const{data:e,visible:r,seriesGrouping:{groupIndex:i=this.id,stackCount:o=1}={}}=this,{xKey:a,yKey:s,connectMissingData:l,normalizedTo:u}=this.properties,c=!this.ctx.animationManager.isSkipped(),{isContinuousX:d,isContinuousY:p}=this.isContinuous(),h=[`area-stack-${i}-yValues`,`area-stack-${i}-yValues-trailing`,`area-stack-${i}-yValues-prev`,`area-stack-${i}-yValues-trailing-prev`,`area-stack-${i}-yValues-marker`],f=[];rI(u)&&(f.push(LO(this,[h[0],h[1],h[4]],u,"range")),f.push(LO(this,[h[2],h[3]],u,"range"))),!d&&c&&this.processedData&&f.push(Of(this.processedData)),c&&f.push(uy(this));const v={invalidValue:null};l&&o>1&&(v.invalidValue=0),r||(v.forceValue=0),yield this.requestDataModel(t,e,{props:[ni(this,a,d,{id:"xValue"}),Qt(this,s,p,J({id:"yValueRaw"},v)),...pd(this,s,p,"window","current",Te(J({id:"yValueEnd"},v),{groupId:h[0]})),...pd(this,s,p,"window-trailing","current",Te(J({id:"yValueStart"},v),{groupId:h[1]})),...pd(this,s,p,"window","last",Te(J({id:"yValuePreviousEnd"},v),{groupId:h[2]})),...pd(this,s,p,"window-trailing","last",Te(J({id:"yValuePreviousStart"},v),{groupId:h[3]})),...pd(this,s,p,"normal","current",Te(J({id:"yValueCumulative"},v),{groupId:h[4]})),...f],groupByKeys:!0,groupByData:!1}),this.animationState.transition("updateData")})}getSeriesDomain(t){const{processedData:e,dataModel:r,axes:i}=this;if(!e||!r||e.data.length===0)return[];const o=i.x,a=i.y,s=r.resolveProcessedDataDefById(this,"xValue"),l=r.getDomain(this,"xValue","key",e),u=r.getDomain(this,"yValueEnd","value",e);if(t==="x")return(s==null?void 0:s.def.type)==="key"&&s.def.valueType==="category"?l:Ii(lu(l),o);if(a instanceof Qd||a instanceof af)return Ii(u,a);{const c=[u[0]>0?0:u[0],u[1]<0?0:u[1]];return Ii(c,a)}}createNodeData(){return le(this,null,function*(){var t;const{axes:e,data:r,processedData:{data:i}={},dataModel:o}=this,a=e.x,s=e.y;if(!a||!s||!r||!o||!this.properties.isValid())return[];const{yKey:l,xKey:u,marker:c,label:d,fill:p,stroke:h,connectMissingData:f}=this.properties,{scale:v}=a,{scale:g}=s,y=Zt.is(g),m=((t=v.bandwidth)!=null?t:0)/2,C=o.resolveProcessedDataDefsByIds(this,["yValueStart","yValueEnd","yValueRaw","yValuePreviousStart","yValuePreviousEnd","yValueCumulative"]),S=V=>{const W=V,{point:K}=W,Z=En(W,["point"]);return Te(J({},Z),{point:Te(J({},K),{moveTo:!0})})},w=(V,W,K)=>{const Z=v.convert(V)+m,Q=g.convert(W),ce=g.convert(K);return[{point:{x:Z,y:ce},yValue:K,xValue:V},{point:{x:Z,y:Q},yValue:W,xValue:V}]},_=(V,W,K)=>{let Z;return(rI(this.properties.normalizedTo)?y&&qV(K):!isNaN(K))&&(Z=W),{x:v.convert(V)+m,y:g.convert(Z),size:c.size}},x=l,b=[],O=[],{visibleSameStackCount:P}=this.ctx.seriesStateManager.getVisiblePeerGroupIndex(this),D={itemId:x,fillData:{itemId:x,points:[]},strokeData:{itemId:x,points:[]},labelData:b,nodeData:O,scales:wc(Zee.prototype,this,"calculateScaling").call(this),visible:this.visible,stackVisible:P>0},N=D.fillData.points,L=[],I=D.strokeData.points;let k=-1,H,$=-1/0;return i==null||i.forEach(V=>{const{keys:W,keys:[K],datum:Z,values:Q}=V;Q.forEach((ce,ue)=>{var se,q,he;k++;const be=Z[ue],ee=o.resolveProcessedDataDefsValues(C,{keys:W,values:ce}),{yValueRaw:Se,yValueCumulative:Ce}=ee;let{yValueStart:te,yValueEnd:Pe,yValuePreviousStart:De,yValuePreviousEnd:Ne}=ee;const ke=Se!=null,Ye=_(K,+Ce,Se);if(ke&&c&&O.push({index:k,series:this,itemId:x,datum:be,midPoint:{x:Ye.x,y:Ye.y},cumulativeValue:Pe,yValue:Se,xValue:K,yKey:l,xKey:u,point:Ye,fill:(se=c.fill)!=null?se:p,stroke:(q=c.stroke)!=null?q:h,strokeWidth:(he=c.strokeWidth)!=null?he:this.getStrokeWidth(this.properties.strokeWidth)}),ke&&d){const yt=this.getLabelText(d,{value:Se,datum:be,xKey:u,yKey:l,xName:this.properties.xName,yName:this.properties.yName},Pt=>Nt(Pt)?Pt.toFixed(2):String(Pt));b.push({index:k,series:this,itemId:l,datum:be,x:Ye.x,y:Ye.y,label:yt?{text:yt,fontStyle:d.fontStyle,fontWeight:d.fontWeight,fontSize:d.fontSize,fontFamily:d.fontFamily,textAlign:"center",textBaseline:"bottom",fill:d.color}:void 0})}const it=H!=null&&K!=null,Dr=$!=null&&ke;Dr||(te=te??0,Pe=te??0,De=De??0,Ne=De??0);const[ze,lr]=w(H,De,Ne),[gr,yr]=w(K,te,Pe);it&&(!f||Dr)&&(N.push(ze),L.push(lr),N.push(gr),L.push(yr)),Dr&&k>0&&(I.push(S(ze)),I.push(gr)),H=K,$=Se})}),I.length>0&&(I[0]=S(I[0])),L.reverse(),N.push(...L),[D]})}isPathOrSelectionDirty(){return this.properties.marker.isDirty()}markerFactory(){const{shape:t}=this.properties.marker,e=gp(t);return new e}updatePathNodes(t){return le(this,null,function*(){const{opacity:e,visible:r,animationEnabled:i}=t,[o,a]=t.paths,s=this.getStrokeWidth(this.properties.strokeWidth);a.setProperties({tag:1,fill:void 0,lineJoin:a.lineCap="round",pointerEvents:1,stroke:this.properties.stroke,strokeWidth:s,strokeOpacity:this.properties.strokeOpacity,lineDash:this.properties.lineDash,lineDashOffset:this.properties.lineDashOffset,opacity:e,visible:r}),o.setProperties({tag:0,stroke:void 0,lineJoin:"round",pointerEvents:1,fill:this.properties.fill,fillOpacity:this.properties.fillOpacity,lineDash:this.properties.lineDash,lineDashOffset:this.properties.lineDashOffset,strokeOpacity:this.properties.strokeOpacity,fillShadow:this.properties.shadow,opacity:e,visible:r||i,strokeWidth:s}),FO(this,a),FO(this,o)})}updatePaths(t){return le(this,null,function*(){this.updateAreaPaths([t.paths],[t.contextData])})}updateAreaPaths(t,e){this.updateFillPath(t,e),this.updateStrokePath(t,e)}updateFillPath(t,e){e.forEach(({fillData:r},i)=>{const[o]=t[i],{path:a}=o;a.clear({trackChanges:!0});for(const{point:s}of r.points)s.moveTo?a.moveTo(s.x,s.y):a.lineTo(s.x,s.y);a.closePath(),o.checkPathDirty()})}updateStrokePath(t,e){e.forEach(({strokeData:r},i)=>{const[,o]=t[i],{path:a}=o;a.clear({trackChanges:!0});for(const{point:s}of r.points)s.moveTo?a.moveTo(s.x,s.y):a.lineTo(s.x,s.y);o.checkPathDirty()})}updateMarkerSelection(t){return le(this,null,function*(){const{nodeData:e,markerSelection:r}=t;return this.properties.marker.isDirty()&&(r.clear(),r.cleanup()),r.update(this.properties.marker.enabled?e:[])})}updateMarkerNodes(t){return le(this,null,function*(){const{markerSelection:e,isHighlight:r}=t,{xKey:i,yKey:o,marker:a,fill:s,stroke:l,strokeWidth:u,fillOpacity:c,strokeOpacity:d,highlightStyle:p}=this.properties,h=mt(r&&p.item,a.getStyle(),{fill:s,stroke:l,strokeWidth:u,fillOpacity:c,strokeOpacity:d});e.each((f,v)=>{this.updateMarkerStyle(f,a,{datum:v,highlighted:r,xKey:i,yKey:o},h)}),r||this.properties.marker.markClean()})}updateLabelSelection(t){return le(this,null,function*(){const{labelData:e,labelSelection:r}=t;return r.update(e,i=>{i.tag=3})})}updateLabelNodes(t){return le(this,null,function*(){const{labelSelection:e}=t,{enabled:r,fontStyle:i,fontWeight:o,fontSize:a,fontFamily:s,color:l}=this.properties.label;e.each((u,c)=>{const{x:d,y:p,label:h}=c;h&&r&&this.visible?(u.fontStyle=i,u.fontWeight=o,u.fontSize=a,u.fontFamily=s,u.textAlign=h.textAlign,u.textBaseline=h.textBaseline,u.text=h.text,u.x=d,u.y=p-10,u.fill=l,u.visible=!0):u.visible=!1})})}getTooltipHtml(t){const{id:e,axes:r,dataModel:i}=this,{xKey:o,xName:a,yName:s,tooltip:l,marker:u}=this.properties,{yKey:c,xValue:d,yValue:p,datum:h}=t,f=r.x,v=r.y;if(!this.properties.isValid()||!(f&&v&&Nt(p))||!i)return"";const g=f.formatDatum(d),y=v.formatDatum(p),m=Sr(s),C=Sr(g+": "+y),S=mt({fill:this.properties.fill},u.getStyle(),{stroke:this.properties.stroke,strokeWidth:this.properties.strokeWidth}),{fill:w}=this.getMarkerStyle(u,{datum:t,xKey:o,yKey:c,highlighted:!1},S);return l.toTooltipHtml({title:m,content:C,backgroundColor:w},{datum:h,xKey:o,xName:a,yKey:c,yName:s,color:w,title:m,seriesId:e})}getLegendData(t){var e,r,i,o;if(!((e=this.data)!=null&&e.length)||!this.properties.isValid()||t!=="category")return[];const{yKey:a,yName:s,fill:l,stroke:u,fillOpacity:c,strokeOpacity:d,strokeWidth:p,lineDash:h,marker:f,visible:v}=this.properties,g=!f.enabled||f.fill===void 0;return[{legendType:t,id:this.id,itemId:a,seriesId:this.id,enabled:v,label:{text:s??a},marker:{shape:f.shape,fill:g?l:f.fill,fillOpacity:g?c:f.fillOpacity,stroke:(r=f.stroke)!=null?r:u,strokeOpacity:(i=f.strokeOpacity)!=null?i:d,strokeWidth:(o=f.strokeWidth)!=null?o:0,enabled:f.enabled||p<=0},line:{stroke:u,strokeOpacity:d,strokeWidth:p,lineDash:h}}]}animateEmptyUpdateReady(t){const{markerSelections:e,labelSelections:r,contextData:i,paths:o}=t,{animationManager:a}=this.ctx;this.updateAreaPaths(o,i),RB(this,a,o.flat()),xn(e,nw),xB(this,a,e),$t(this,"labels",a,r)}animateReadyResize(t){const{contextData:e,paths:r}=t;this.updateAreaPaths(r,e),super.animateReadyResize(t)}animateWaitingUpdateReady(t){var e,r;const{animationManager:i}=this.ctx,{markerSelections:o,labelSelections:a,contextData:s,paths:l,previousContextData:u}=t,[[c,d]]=l;super.resetAllAnimation(t);const p=()=>{this.updateAreaPaths(l,s),this.updateStrokePath(l,s)},h=()=>{i.skipCurrentBatch(),p()};if(s.length===0||(u==null?void 0:u.length)===0){p(),rw(this,i,o,"added"),UC(this,"fill_path_properties",i,[c]),UC(this,"stroke",i,[d],"trailing"),$t(this,"labels",i,a);return}const[f]=s,[v]=u??[],g=qee(f,v,(r=(e=this.processedData)==null?void 0:e.reduced)==null?void 0:r.diff);if(g===void 0){h();return}rw(this,i,o),xr(this.id,"fill_path_properties",i,[c],g.fill.pathProperties),$ee(this.id,"fill_path_update",i,[c],g.fill.path),this.updateStrokePath(l,s),UC(this,"stroke",i,[d],"trailing"),$t(this,"labels",i,a)}isLabelEnabled(){return this.properties.label.enabled}nodeFactory(){return new Ve}};AB.className="AreaSeries";AB.type="area";var L3e=AB,F3e={type:"series",optionsKey:"series[]",packageType:"community",chartTypes:["cartesian"],identifier:"area",instanceConstructor:L3e,stackable:!0,seriesDefaults:{axes:[{type:"number",position:"left"},{type:"category",position:"bottom"}]},themeTemplate:{series:{__extends__:_c,nodeClickRange:"nearest",tooltip:{position:{type:"node"}},fillOpacity:.8,strokeOpacity:1,strokeWidth:0,lineDash:[0],lineDashOffset:0,shadow:{enabled:!1,color:ry,xOffset:3,yOffset:3,blur:5},marker:{__extends__:ey,enabled:!1,fillOpacity:1,strokeOpacity:1,strokeWidth:0},label:{enabled:!1,fontStyle:void 0,fontWeight:void 0,fontSize:12,fontFamily:_n,color:It,formatter:void 0}}},paletteFactory:n=>{const{marker:t}=f0(n);return{fill:t.fill,stroke:t.stroke,marker:t}}},DB=class extends mp{constructor(){super(...arguments),this.direction="vertical"}};R([M(lJ)],DB.prototype,"direction",2);var Qee=class extends Cp{getBandScalePadding(){return{inner:.2,outer:.1}}shouldFlipXY(){return!this.isVertical()}isVertical(){return this.properties.direction==="vertical"}getBarDirection(){return this.shouldFlipXY()?"x":"y"}getCategoryDirection(){return this.shouldFlipXY()?"y":"x"}getValueAxis(){const n=this.getBarDirection();return this.axes[n]}getCategoryAxis(){const n=this.getCategoryDirection();return this.axes[n]}},Jee=class extends gn{constructor(){super(...arguments),this.placement="inside"}};R([M(uJ)],Jee.prototype,"placement",2);var Dn=class extends DB{constructor(){super(...arguments),this.fill="#c16068",this.fillOpacity=1,this.stroke="#874349",this.strokeWidth=1,this.strokeOpacity=1,this.lineDash=[0],this.lineDashOffset=0,this.cornerRadius=0,this.shadow=new tl,this.label=new Jee,this.tooltip=new Ro}};R([M(Ee)],Dn.prototype,"xKey",2);R([M(Ee,{optional:!0})],Dn.prototype,"xName",2);R([M(Ee)],Dn.prototype,"yKey",2);R([M(Ee,{optional:!0})],Dn.prototype,"yName",2);R([M(Ee,{optional:!0})],Dn.prototype,"stackGroup",2);R([M(sr,{optional:!0})],Dn.prototype,"normalizedTo",2);R([M(Tt)],Dn.prototype,"fill",2);R([M(Ut)],Dn.prototype,"fillOpacity",2);R([M(Tt)],Dn.prototype,"stroke",2);R([M(xe)],Dn.prototype,"strokeWidth",2);R([M(Ut)],Dn.prototype,"strokeOpacity",2);R([M(bc)],Dn.prototype,"lineDash",2);R([M(xe)],Dn.prototype,"lineDashOffset",2);R([M(xe)],Dn.prototype,"cornerRadius",2);R([M(ss,{optional:!0})],Dn.prototype,"formatter",2);R([M(je,{optional:!0})],Dn.prototype,"shadow",2);R([M(je)],Dn.prototype,"label",2);R([M(je)],Dn.prototype,"tooltip",2);function ete({rect:n,config:t}){const{crisp:e=!0,fill:r,stroke:i,strokeWidth:o,fillOpacity:a,strokeOpacity:s,lineDash:l,lineDashOffset:u,fillShadow:c,cornerRadius:d=0,topLeftCornerRadius:p,topRightCornerRadius:h,bottomRightCornerRadius:f,bottomLeftCornerRadius:v,cornerRadiusBbox:g,visible:y=!0}=t;n.crisp=e,n.fill=r,n.stroke=i,n.strokeWidth=o,n.fillOpacity=a,n.strokeOpacity=s,n.lineDash=l,n.lineDashOffset=u,n.fillShadow=c,n.topLeftCornerRadius=p?d:0,n.topRightCornerRadius=h?d:0,n.bottomRightCornerRadius=f?d:0,n.bottomLeftCornerRadius=v?d:0,n.cornerRadiusBbox=g,n.visible=y}function tte(n){var t=n,{datum:e,isHighlighted:r,style:i,highlightStyle:o,formatter:a,seriesId:s,ctx:{callbackCache:l}}=t,u=En(t,["datum","isHighlighted","style","highlightStyle","formatter","seriesId","ctx"]),c,d,p,h,f,v;const{fill:g,fillOpacity:y,stroke:m,strokeWidth:C}=mt(r&&o,i),{strokeOpacity:S,fillShadow:w,lineDash:_,lineDashOffset:x,cornerRadius:b=0,topLeftCornerRadius:O=!0,topRightCornerRadius:P=!0,bottomRightCornerRadius:D=!0,bottomLeftCornerRadius:N=!0,cornerRadiusBbox:L}=i;let I;return a&&(I=l.call(a,J({datum:e.datum,xKey:e.xKey,fill:g,stroke:m,strokeWidth:C,cornerRadius:b,highlighted:r,seriesId:s},u))),{fill:(c=I==null?void 0:I.fill)!=null?c:g,stroke:(d=I==null?void 0:I.stroke)!=null?d:m,strokeWidth:(p=I==null?void 0:I.strokeWidth)!=null?p:C,fillOpacity:(h=I==null?void 0:I.fillOpacity)!=null?h:y,strokeOpacity:(f=I==null?void 0:I.strokeOpacity)!=null?f:S,lineDash:_,lineDashOffset:x,fillShadow:w,cornerRadius:(v=I==null?void 0:I.cornerRadius)!=null?v:b,topLeftCornerRadius:O,topRightCornerRadius:P,bottomRightCornerRadius:D,bottomLeftCornerRadius:N,cornerRadiusBbox:L}}function rte(n=[]){const[t,e]=n;return!(t!==0||e!==1)}var Tz=n=>{var t;return t0((t=n.yValue)!=null?t:0)};function aw(n,t,e){const{startingX:r,startingY:i}=N3e(n,t);return{isVertical:n,calculate:(a,s)=>{let l=n?a.x:r,u=n?i:a.y,c=n?a.width:0,d=n?0:a.height;const p=a.opacity;return s&&(isNaN(l)||isNaN(u))&&({x:l,y:u}=s,c=n?s.width:0,d=n?0:s.height,n&&!Tz(s)?u+=s.height:!n&&Tz(s)&&(l+=s.width)),{x:l,y:u,width:c,height:d,opacity:p}},mode:e}}function I3e(n,t){return{isVertical:n,calculate:e=>({x:n?e.x:e.x+e.width/2,y:n?e.y+e.height/2:e.y,width:n?e.width:0,height:n?0:e.height,opacity:e.opacity}),mode:t}}function sw(n){const t=i=>i==null||isNaN(i.x)||isNaN(i.y);return{toFn:(i,o,a)=>a==="removed"&&i.datum==null&&n.mode==="fade"?Te(J({},lw(i,o)),{opacity:0}):a==="removed"||t(o)?n.calculate(o,i.previousDatum):{x:o.x,y:o.y,width:o.width,height:o.height,opacity:o.opacity},fromFn:(i,o,a)=>{a==="updated"&&t(o)?a="removed":a==="updated"&&t(i.previousDatum)&&(a="added");let s={x:i.x,y:i.y,width:i.width,height:i.height,opacity:i.opacity};a==="added"&&i.previousDatum==null&&n.mode==="fade"?s=Te(J({},lw(i,o)),{opacity:0}):(a==="unknown"||a==="added")&&(s=n.calculate(o,i.previousDatum));const l=Fi[a];return Te(J({},s),{phase:l})}}}function N3e(n,t){const e=t[n?"y":"x"];let r=1/0,i=0;return e?(n?i=e.scale.convert(Zt.is(e.scale)?0:Math.max(...e.range)):r=e.scale.convert(Zt.is(e.scale)?0:Math.min(...e.range)),{startingX:r,startingY:i}):{startingX:r,startingY:i}}function lw(n,{x:t,y:e,width:r,height:i,opacity:o}){return{x:t,y:e,width:r,height:i,opacity:o}}function nte(n,t,e){if(t.enabled&&e){const{x:r,y:i,text:o,textAlign:a,textBaseline:s}=e,{color:l,fontStyle:u,fontWeight:c,fontSize:d,fontFamily:p}=t;n.setProperties({visible:!0,x:r,y:i,text:o,fill:l,fontStyle:u,fontWeight:c,fontSize:d,fontFamily:p,textAlign:a,textBaseline:s})}else n.visible=!1}function ite({isPositive:n,isVertical:t,placement:e,padding:r=0,rect:i}){let o=i.x+i.width/2,a=i.y+i.height/2,s="center",l="middle";switch(e){case"start":{t?(a=n?i.y+i.height+r:i.y-r,l=n?"top":"bottom"):(o=n?i.x-r:i.x+i.width+r,s=n?"start":"end");break}case"outside":case"end":{t?(a=n?i.y-r:i.y+i.height+r,l=n?"bottom":"top"):(o=n?i.x+i.width+r:i.x-r,s=n?"start":"end");break}}return{x:o,y:a,textAlign:s,textBaseline:l}}var MB=class ote extends Qee{constructor(t){super({moduleCtx:t,pickModes:[0],pathsPerSeries:0,hasHighlightedLabels:!0,datumSelectionGarbageCollection:!1,animationAlwaysUpdateSelections:!0,animationResetFns:{datum:lw,label:Ac}}),this.properties=new Dn,this.groupScale=new iu,this.smallestDataInterval=void 0}resolveKeyDirection(t){return this.getBarDirection()==="x"?t==="x"?"y":"x":t}processData(t){return le(this,null,function*(){var e,r,i,o;if(!this.properties.isValid()||!this.data)return;const{seriesGrouping:{groupIndex:a=this.id}={},data:s=[]}=this,{xKey:l,yKey:u,normalizedTo:c}=this.properties,d=!this.ctx.animationManager.isSkipped(),p=Math.abs(c??NaN),h=Zt.is((e=this.getCategoryAxis())==null?void 0:e.scale),f=Zt.is((r=this.getValueAxis())==null?void 0:r.scale),v=`bar-stack-${a}-yValues`,g=`${v}-trailing`,y=p&&isFinite(p)?p:void 0,m=[];y&&m.push(LO(this,[v,g],y,"range")),d&&this.processedData&&m.push(Of(this.processedData)),d&&m.push(uy(this));const C=this.visible?{}:{forceValue:0},{processedData:S}=yield this.requestDataModel(t,s,{props:[ni(this,l,h,{id:"xValue"}),Qt(this,u,f,J({id:"yValue-raw",invalidValue:null},C)),...pd(this,u,f,"normal","current",J({id:"yValue-end",rangeId:"yValue-range",invalidValue:null,missingValue:0,groupId:v,separateNegative:!0},C)),...pd(this,u,f,"trailing","current",J({id:"yValue-start",invalidValue:null,missingValue:0,groupId:g,separateNegative:!0},C)),...h?[II]:[],...m],groupByKeys:!0,groupByData:!1});this.smallestDataInterval={x:(o=(i=S.reduced)==null?void 0:i.smallestKeyInterval)!=null?o:1/0,y:1/0},this.animationState.transition("updateData")})}getSeriesDomain(t){var e;const{processedData:r,dataModel:i}=this;if(!r||!i||r.data.length===0)return[];const{reduced:{[II.property]:o}={}}=r,a=this.getCategoryAxis(),s=this.getValueAxis(),l=i.resolveProcessedDataDefById(this,"xValue"),u=i.getDomain(this,"xValue","key",r),c=i.getDomain(this,"yValue-end","value",r);if(t===this.getCategoryDirection()){if((l==null?void 0:l.def.type)==="key"&&(l==null?void 0:l.def.valueType)==="category")return u;const d=o!=null&&isFinite(o)?o:0,p=(e=lu(u))!=null?e:[NaN,NaN],h=a==null?void 0:a.isReversed();if(t==="y"){const g=p[0]+(h?0:-d),y=p[1]+(h?d:0);return Ii([g,y],a)}const f=p[0]+(h?-d:0),v=p[1]+(h?0:d);return Ii([f,v],a)}else{if(this.getValueAxis()instanceof Qd)return Ii(c,s);{const d=[c[0]>0?0:c[0],c[1]<0?0:c[1]];return Ii(d,s)}}}createNodeData(){return le(this,null,function*(){const{dataModel:t}=this,e=this.getCategoryAxis(),r=this.getValueAxis();if(!(t&&e&&r&&this.properties.isValid()))return[];const i=e.scale,o=r.scale,{groupScale:a,processedData:s,smallestDataInterval:l,ctx:{seriesStateManager:u}}=this,{xKey:c,yKey:d,xName:p,yName:h,fill:f,stroke:v,strokeWidth:g,cornerRadius:y,legendItemName:m,label:C}=this.properties,S=r.isReversed(),w=Zt.is(i)?i.calcBandwidth(l==null?void 0:l.x):i.bandwidth,_=[],{index:x,visibleGroupCount:b}=u.getVisiblePeerGroupIndex(this);for(let $=0;$<b;$++)_.push(String($));a.domain=_,a.range=[0,w??0],e instanceof pc?a.paddingInner=e.groupPaddingInner:e instanceof qd?a.padding=.1:a.padding=0,a.round=a.padding!==0;const O=a.bandwidth>=1?a.bandwidth:a.rawBandwidth,P=t.resolveProcessedDataIndexById(this,"xValue").index,D=t.resolveProcessedDataIndexById(this,"yValue-raw").index,N=t.resolveProcessedDataIndexById(this,"yValue-start").index,L=t.resolveProcessedDataIndexById(this,"yValue-end").index,I=t.resolveProcessedDataDefById(this,"yValue-range").index,k=!this.ctx.animationManager.isSkipped(),H=[];return s==null||s.data.forEach(({keys:$,datum:V,values:W,aggValues:K})=>{W.forEach((Z,Q)=>{var ce,ue;(ce=H[Q])!=null||(H[Q]={itemId:d,nodeData:[],labelData:[],scales:wc(ote.prototype,this,"calculateScaling").call(this),visible:this.visible||k});const se=$[P],q=i.convert(se),he=+Z[L],be=+Z[N],ee=Z[D],Se=ee>=0,Ce=Se!==S,te=(ue=K==null?void 0:K[I][Se?1:0])!=null?ue:0,Pe=q+a.convert(String(x));if(isNaN(he))return;const De=o.convert(he),Ne=o.convert(be),ke=this.getBarDirection()==="x",Ye=o.convert(te),it=o.convert(0),Dr=new nt(ke?Math.min(it,Ye):Pe,ke?Pe:Math.min(it,Ye),ke?Math.abs(it-Ye):O,ke?O:Math.abs(it-Ye)),ze={x:ke?Math.min(De,Ne):Pe,y:ke?Pe:Math.min(De,Ne),width:ke?Math.abs(Ne-De):O,height:ke?O:Math.abs(Ne-De),cornerRadiusBbox:Dr},{fontStyle:lr,fontWeight:gr,fontSize:yr,fontFamily:yt,color:Pt,placement:Vt}=C,ir=this.getLabelText(this.properties.label,{datum:V[Q],value:ee,xKey:c,yKey:d,xName:p,yName:h,legendItemName:m},Nr=>Nt(Nr)?Nr.toFixed(2):""),mn=ir?J({text:ir,fill:Pt,fontStyle:lr,fontWeight:gr,fontSize:yr,fontFamily:yt},ite({isPositive:Se,isVertical:!ke,placement:Vt,rect:ze})):void 0,$e=this.shouldFlipXY()?ze.height:ze.width,Kt={series:this,itemId:d,datum:V[Q],cumulativeValue:he,xValue:se,yValue:ee,yKey:d,xKey:c,capDefaults:{lengthRatioMultiplier:$e,lengthMax:$e},x:ze.x,y:ze.y,width:ze.width,height:ze.height,midPoint:{x:ze.x+ze.width/2,y:ze.y+ze.height/2},fill:f,stroke:v,opacity:1,strokeWidth:g,cornerRadius:y,topLeftCornerRadius:ke!==Ce,topRightCornerRadius:Ce,bottomRightCornerRadius:ke===Ce,bottomLeftCornerRadius:!Ce,cornerRadiusBbox:Dr,label:mn};H[Q].nodeData.push(Kt),H[Q].labelData.push(Kt)})}),H})}nodeFactory(){return new _i}updateDatumSelection(t){return le(this,null,function*(){return t.datumSelection.update(t.nodeData,e=>{e.tag=0},e=>Zd(e.xValue))})}updateDatumNodes(t){return le(this,null,function*(){if(!this.properties.isValid())return;const{yKey:e,stackGroup:r,fill:i,fillOpacity:o,stroke:a,strokeWidth:s,strokeOpacity:l,lineDash:u,lineDashOffset:c,formatter:d,shadow:p,highlightStyle:{item:h}}=this.properties,f=this.axes.x,v=rte(f==null?void 0:f.visibleRange),g=this.getCategoryDirection()==="x";t.datumSelection.each((y,m)=>{const C={fill:i,stroke:a,fillOpacity:o,strokeOpacity:l,lineDash:u,lineDashOffset:c,fillShadow:p,strokeWidth:this.getStrokeWidth(s),cornerRadius:m.cornerRadius,topLeftCornerRadius:m.topLeftCornerRadius,topRightCornerRadius:m.topRightCornerRadius,bottomRightCornerRadius:m.bottomRightCornerRadius,bottomLeftCornerRadius:m.bottomLeftCornerRadius,cornerRadiusBbox:m.cornerRadiusBbox},S=g?m.width>0:m.height>0,w=tte({datum:m,ctx:this.ctx,seriesId:this.id,isHighlighted:t.isHighlight,highlightStyle:h,yKey:e,style:C,formatter:d,stackGroup:r});w.crisp=v,w.visible=S,ete({rect:y,config:w})})})}updateLabelSelection(t){return le(this,null,function*(){const e=this.isLabelEnabled()?t.labelData:[];return t.labelSelection.update(e,r=>{r.tag=1,r.pointerEvents=1})})}updateLabelNodes(t){return le(this,null,function*(){t.labelSelection.each((e,r)=>{nte(e,this.properties.label,r.label)})})}getTooltipHtml(t){var e;const{id:r,processedData:i,ctx:{callbackCache:o}}=this,a=this.getCategoryAxis(),s=this.getValueAxis();if(!i||!this.properties.isValid()||!a||!s)return"";const{xKey:l,yKey:u,xName:c,yName:d,fill:p,stroke:h,strokeWidth:f,tooltip:v,formatter:g,stackGroup:y}=this.properties,{xValue:m,yValue:C,datum:S}=t,w=a.formatDatum(m),_=s.formatDatum(C),x=Sr(d),b=Sr(w+": "+_);let O;g&&(O=o.call(g,{seriesId:r,datum:S,xKey:l,yKey:u,stackGroup:y,fill:p,stroke:h,strokeWidth:this.getStrokeWidth(f),highlighted:!1}));const P=(e=O==null?void 0:O.fill)!=null?e:p;return v.toTooltipHtml({title:x,content:b,backgroundColor:P},J({seriesId:r,datum:S,xKey:l,yKey:u,xName:c,yName:d,stackGroup:y,title:x,color:P},this.getModuleTooltipParams()))}getLegendData(t){var e,r;const{showInLegend:i}=this.properties;if(t!=="category"||!((e=this.data)!=null&&e.length)||!this.properties.isValid()||!i)return[];const{yKey:o,yName:a,fill:s,stroke:l,strokeWidth:u,fillOpacity:c,strokeOpacity:d,legendItemName:p,visible:h}=this.properties;return[{legendType:"category",id:this.id,itemId:o,seriesId:this.id,enabled:h,label:{text:(r=p??a)!=null?r:o},marker:{fill:s,fillOpacity:c,stroke:l,strokeWidth:u,strokeOpacity:d},legendItemName:p}]}animateEmptyUpdateReady({datumSelections:t,labelSelections:e,annotationSelections:r}){const i=sw(aw(this.isVertical(),this.axes,"normal"));xr(this.id,"nodes",this.ctx.animationManager,t,i),$t(this,"labels",this.ctx.animationManager,e),$t(this,"annotations",this.ctx.animationManager,r)}animateWaitingUpdateReady(t){var e,r,i;const{datumSelections:o,labelSelections:a,annotationSelections:s,previousContextData:l}=t;this.ctx.animationManager.stopByAnimationGroupId(this.id);const u=(r=(e=this.processedData)==null?void 0:e.reduced)==null?void 0:r.diff,c=(l==null?void 0:l.length)===0?"fade":"normal",d=sw(aw(this.isVertical(),this.axes,c));xr(this.id,"nodes",this.ctx.animationManager,o,d,(h,f)=>Zd(f.xValue),u),((i=u==null?void 0:u.changed)!=null?i:!0)&&($t(this,"labels",this.ctx.animationManager,a),$t(this,"annotations",this.ctx.animationManager,s))}isLabelEnabled(){return this.properties.label.enabled}};MB.className="BarSeries";MB.type="bar";var k3e=MB,G3e={type:"series",optionsKey:"series[]",packageType:"community",chartTypes:["cartesian"],identifier:"bar",instanceConstructor:k3e,stackable:!0,groupable:!0,seriesDefaults:{axes:[{type:"number",position:"left"},{type:"category",position:"bottom"}]},swapDefaultAxesCondition:n=>(n==null?void 0:n.direction)==="horizontal",themeTemplate:{series:{__extends__:_c,direction:"vertical",fillOpacity:1,strokeWidth:0,lineDash:[0],lineDashOffset:0,label:{enabled:!1,fontStyle:void 0,fontWeight:"normal",fontSize:12,fontFamily:_n,color:ty,formatter:void 0,placement:"inside"},shadow:{enabled:!1,color:ry,xOffset:3,yOffset:3,blur:5}}},enterpriseThemeTemplate:{series:{errorBar:{cap:{lengthRatio:.3}}}},paletteFactory:wB},Pz=n=>{const t=Fl.fromString(n),[e,r,i]=Fl.RGBtoOKLCH(t.r,t.g,t.b);return{l:e,c:r,h:i,a:t.a}},V3e=(n,t,e)=>{e=Dt(0,e,1);let r,i;if(Number.isNaN(n.h)&&Number.isNaN(t.h))r=0,i=0;else if(Number.isNaN(n.h))r=t.h,i=t.c;else if(Number.isNaN(t.h))r=n.h,i=n.c;else{const s=n.h;let l=t.h;const u=t.h-n.h;u>180?l-=360:u<-180&&(l+=360),r=s*(1-e)+l*e,i=n.c*(1-e)+t.c*e}const o=n.l*(1-e)+t.l*e,a=n.a*(1-e)+t.a*e;return Fl.fromOKLCH(o,i,r,a)},Rf=class{constructor(){this.invalid=!0,this.domain=[0,1],this.range=["red","blue"],this.parsedRange=this.range.map(Pz)}update(){const{domain:n,range:t}=this;n.length<2&&(Oe.warnOnce("`colorDomain` should have at least 2 values."),n.length===0?n.push(0,1):n.length===1&&n.push(n[0]+1));for(let e=1;e<n.length;e++){const r=n[e-1],i=n[e];if(r>=i){Oe.warnOnce("`colorDomain` values should be supplied in ascending order."),n.sort((o,a)=>o-a);break}}if(t.length<n.length)for(let e=t.length;e<n.length;e++)t.push(t.length>0?t[0]:"black");this.parsedRange=this.range.map(Pz)}convert(n){this.refresh();const{domain:t,range:e,parsedRange:r}=this,i=t[0],o=t.at(-1),a=e[0],s=e[e.length-1];if(n<=i)return a;if(n>=o)return s;let l,u;if(t.length===2){const p=(n-i)/(o-i),h=1/(e.length-1);l=e.length<=2?0:Math.min(Math.floor(p*(e.length-1)),e.length-2),u=(p-l*h)/h}else{for(l=0;l<t.length-2&&!(n<t[l+1]);l++);const p=t[l],h=t[l+1];u=(n-p)/(h-p)}const c=r[l],d=r[l+1];return V3e(c,d,u).toRgbaString()}refresh(){this.invalid&&(this.invalid=!1,this.update(),this.invalid&&Oe.warnOnce("Expected update to not invalidate scale"))}};R([Eo],Rf.prototype,"domain",2);R([Eo],Rf.prototype,"range",2);var LB=class extends Oo{constructor(){super(...arguments),this.maxSize=30}};R([M(xe),Ae({redraw:3})],LB.prototype,"maxSize",2);R([M(JT,{optional:!0}),Ae({redraw:3})],LB.prototype,"domain",2);var si=class extends mp{constructor(){super(...arguments),this.colorRange=["#ffff00","#00ff00","#0000ff"],this.marker=new LB,this.label=new gn,this.tooltip=new Ro}};R([M(Ee)],si.prototype,"xKey",2);R([M(Ee)],si.prototype,"yKey",2);R([M(Ee)],si.prototype,"sizeKey",2);R([M(Ee,{optional:!0})],si.prototype,"labelKey",2);R([M(Ee,{optional:!0})],si.prototype,"colorKey",2);R([M(Ee,{optional:!0})],si.prototype,"xName",2);R([M(Ee,{optional:!0})],si.prototype,"yName",2);R([M(Ee,{optional:!0})],si.prototype,"sizeName",2);R([M(Ee,{optional:!0})],si.prototype,"labelName",2);R([M(Ee,{optional:!0})],si.prototype,"colorName",2);R([M(JT,{optional:!0})],si.prototype,"colorDomain",2);R([M(ls)],si.prototype,"colorRange",2);R([M(Ee,{optional:!0})],si.prototype,"title",2);R([M(je)],si.prototype,"marker",2);R([M(je)],si.prototype,"label",2);R([M(je)],si.prototype,"tooltip",2);var B3e=class extends CB{constructor(n,t,e,r){super(n,t,e,r),this.sizeKey=r.properties.sizeKey}},FB=class ate extends Cp{constructor(t){super({moduleCtx:t,pickModes:[2,3,0],pathsPerSeries:0,hasMarkers:!0,markerSelectionGarbageCollection:!1,animationResetFns:{label:Ac,marker:v0}}),this.NodeClickEvent=B3e,this.properties=new si,this.sizeScale=new Zl,this.colorScale=new Rf}processData(t){return le(this,null,function*(){var e,r;if(!this.properties.isValid()||this.data==null)return;const{isContinuousX:i,isContinuousY:o}=this.isContinuous(),{xKey:a,yKey:s,sizeKey:l,labelKey:u,colorDomain:c,colorRange:d,colorKey:p,marker:h}=this.properties,{dataModel:f,processedData:v}=yield this.requestDataModel(t,this.data,{props:[ni(this,a,i,{id:"xKey-raw"}),ni(this,s,o,{id:"yKey-raw"}),...u?[ni(this,u,!1,{id:"labelKey-raw"})]:[],Qt(this,a,i,{id:"xValue"}),Qt(this,s,o,{id:"yValue"}),Qt(this,l,!0,{id:"sizeValue"}),...p?[Qt(this,p,!0,{id:"colorValue"})]:[],...u?[Qt(this,u,!1,{id:"labelValue"})]:[]],dataVisible:this.visible}),g=f.resolveProcessedDataIndexById(this,"sizeValue").index,y=(e=v.domain.values[g])!=null?e:[];if(this.sizeScale.domain=h.domain?h.domain:y,p){const m=f.resolveProcessedDataIndexById(this,"colorValue").index;this.colorScale.domain=(r=c??v.domain.values[m])!=null?r:[],this.colorScale.range=d,this.colorScale.update()}this.animationState.transition("updateData")})}getSeriesDomain(t){const{dataModel:e,processedData:r}=this;if(!r||!e)return[];const i=t==="x"?"xValue":"yValue",o=e.resolveProcessedDataDefById(this,i),a=e.getDomain(this,i,"value",r);if((o==null?void 0:o.def.type)==="value"&&(o==null?void 0:o.def.valueType)==="category")return a;const s=this.axes[t];return Ii(lu(a),s)}createNodeData(){return le(this,null,function*(){var t,e,r;const{axes:i,dataModel:o,processedData:a,colorScale:s,sizeScale:l}=this,{xKey:u,yKey:c,sizeKey:d,labelKey:p,xName:h,yName:f,sizeName:v,labelName:g,label:y,colorKey:m,marker:C,visible:S}=this.properties,w=i.x,_=i.y;if(!(o&&a&&S&&w&&_))return[];const x=o.resolveProcessedDataIndexById(this,"xValue").index,b=o.resolveProcessedDataIndexById(this,"yValue").index,O=d?o.resolveProcessedDataIndexById(this,"sizeValue").index:-1,P=m?o.resolveProcessedDataIndexById(this,"colorValue").index:-1,D=p?o.resolveProcessedDataIndexById(this,"labelValue").index:-1,N=w.scale,L=_.scale,I=((t=N.bandwidth)!=null?t:0)/2,k=((e=L.bandwidth)!=null?e:0)/2,H=[];l.range=[C.size,C.maxSize];const $=y.getFont();for(const{values:V,datum:W}of(r=a.data)!=null?r:[]){const K=V[x],Z=V[b],Q=N.convert(K)+I,ce=L.convert(Z)+k,ue=this.getLabelText(y,{value:p?V[D]:Z,datum:W,xKey:u,yKey:c,sizeKey:d,labelKey:p,xName:h,yName:f,sizeName:v,labelName:g}),se=Wr.getTextSize(String(ue),$),q=d?l.convert(V[O]):C.size,he=m?s.convert(V[P]):void 0;H.push({series:this,itemId:c,yKey:c,xKey:u,datum:W,xValue:K,yValue:Z,sizeValue:V[O],point:{x:Q,y:ce,size:q},midPoint:{x:Q,y:ce},fill:he,label:J({text:ue},se)})}return[{itemId:c,nodeData:H,labelData:H,scales:wc(ate.prototype,this,"calculateScaling").call(this),visible:this.visible}]})}isPathOrSelectionDirty(){return this.properties.marker.isDirty()}getLabelData(){var t;return(t=this.contextNodeData)==null?void 0:t.reduce((e,r)=>e.concat(r.labelData),[])}markerFactory(){const{shape:t}=this.properties.marker,e=gp(t);return new e}updateMarkerSelection(t){return le(this,null,function*(){const{nodeData:e,markerSelection:r}=t;this.properties.marker.isDirty()&&(r.clear(),r.cleanup());const i=this.properties.marker.enabled?e:[];return r.update(i,void 0,o=>Zd([o.xValue,o.yValue,o.label.text]))})}updateMarkerNodes(t){return le(this,null,function*(){const{markerSelection:e,isHighlight:r}=t,{xKey:i,yKey:o,sizeKey:a,labelKey:s,marker:l}=this.properties,u=mt(r&&this.properties.highlightStyle.item,l.getStyle());this.sizeScale.range=[l.size,l.maxSize],e.each((c,d)=>{this.updateMarkerStyle(c,l,{datum:d,highlighted:r,xKey:i,yKey:o,sizeKey:a,labelKey:s},u)}),r||this.properties.marker.markClean()})}updateLabelSelection(t){return le(this,null,function*(){var e,r;const i=this.properties.label.enabled?(r=(e=this.chart)==null?void 0:e.placeLabels().get(this))!=null?r:[]:[];return t.labelSelection.update(i.map(o=>Te(J({},o.datum),{point:{x:o.x,y:o.y,size:o.datum.point.size}})))})}updateLabelNodes(t){return le(this,null,function*(){const{label:e}=this.properties;t.labelSelection.each((r,i)=>{var o,a,s,l;r.text=i.label.text,r.fill=e.color,r.x=(a=(o=i.point)==null?void 0:o.x)!=null?a:0,r.y=(l=(s=i.point)==null?void 0:s.y)!=null?l:0,r.fontStyle=e.fontStyle,r.fontWeight=e.fontWeight,r.fontSize=e.fontSize,r.fontFamily=e.fontFamily,r.textAlign="left",r.textBaseline="top"})})}getTooltipHtml(t){var e;const r=this.axes.x,i=this.axes.y;if(!this.properties.isValid()||!r||!i)return"";const{xKey:o,yKey:a,sizeKey:s,labelKey:l,xName:u,yName:c,sizeName:d,labelName:p,marker:h,tooltip:f}=this.properties,v=(e=this.properties.title)!=null?e:c,g=mt({fill:t.fill,strokeWidth:this.getStrokeWidth(h.strokeWidth)},h.getStyle()),{fill:y="gray"}=this.getMarkerStyle(h,{datum:t,highlighted:!1,xKey:o,yKey:a,sizeKey:s,labelKey:l},g),{datum:m,xValue:C,yValue:S,sizeValue:w,label:{text:_}}=t,x=Sr(r.formatDatum(C)),b=Sr(i.formatDatum(S));let O=`<b>${Sr(u??o)}</b>: ${x}<br><b>${Sr(c??a)}</b>: ${b}`;return s&&(O+=`<br><b>${Sr(d??s)}</b>: ${Sr(String(w))}`),l&&(O=`<b>${Sr(p??l)}</b>: ${Sr(_)}<br>`+O),f.toTooltipHtml({title:v,content:O,backgroundColor:y},{datum:m,xKey:o,xName:u,yKey:a,yName:c,sizeKey:s,sizeName:d,labelKey:l,labelName:p,title:v,color:y,seriesId:this.id})}getLegendData(){var t,e;if(!((t=this.data)!=null&&t.length)||!this.properties.isValid())return[];const{yKey:r,yName:i,title:o,marker:a,visible:s}=this.properties,{shape:l,fill:u,stroke:c,fillOpacity:d,strokeOpacity:p,strokeWidth:h}=a;return[{legendType:"category",id:this.id,itemId:r,seriesId:this.id,enabled:s,label:{text:(e=o??i)!=null?e:r},marker:{shape:l,fill:u??"rgba(0, 0, 0, 0)",stroke:c??"rgba(0, 0, 0, 0)",fillOpacity:d??1,strokeOpacity:p??1,strokeWidth:h??0}}]}animateEmptyUpdateReady({markerSelections:t,labelSelections:e}){_B(this,this.ctx.animationManager,t),$t(this,"labels",this.ctx.animationManager,e)}isLabelEnabled(){return this.properties.label.enabled}nodeFactory(){return new Ve}};FB.className="BubbleSeries";FB.type="bubble";var H3e=FB,j3e={type:"series",optionsKey:"series[]",packageType:"community",chartTypes:["cartesian"],identifier:"bubble",instanceConstructor:H3e,seriesDefaults:{axes:[{type:"number",position:"bottom"},{type:"number",position:"left"}]},themeTemplate:{series:{__extends__:_c,tooltip:{position:{type:"node"}},marker:{__extends__:ey,maxSize:30,fillOpacity:.8},label:{enabled:!1,fontStyle:void 0,fontWeight:void 0,fontSize:12,fontFamily:_n,color:It}}},paletteFactory:f0},Mn=class extends mp{constructor(){super(...arguments),this.fillOpacity=1,this.strokeWidth=1,this.strokeOpacity=1,this.lineDash=[0],this.lineDashOffset=0,this.areaPlot=!1,this.aggregation="sum",this.shadow=new tl,this.label=new gn,this.tooltip=new Ro}};R([M(Ee)],Mn.prototype,"xKey",2);R([M(Ee,{optional:!0})],Mn.prototype,"yKey",2);R([M(Ee,{optional:!0})],Mn.prototype,"xName",2);R([M(Ee,{optional:!0})],Mn.prototype,"yName",2);R([M(Tt,{optional:!0})],Mn.prototype,"fill",2);R([M(Ut)],Mn.prototype,"fillOpacity",2);R([M(Tt,{optional:!0})],Mn.prototype,"stroke",2);R([M(xe)],Mn.prototype,"strokeWidth",2);R([M(Ut)],Mn.prototype,"strokeOpacity",2);R([M(bc)],Mn.prototype,"lineDash",2);R([M(xe)],Mn.prototype,"lineDashOffset",2);R([M(qe)],Mn.prototype,"areaPlot",2);R([M(r0,{optional:!0})],Mn.prototype,"bins",2);R([M(tn(["count","sum","mean"],"a histogram aggregation"))],Mn.prototype,"aggregation",2);R([M(xe,{optional:!0})],Mn.prototype,"binCount",2);R([M(je)],Mn.prototype,"shadow",2);R([M(je)],Mn.prototype,"label",2);R([M(je)],Mn.prototype,"tooltip",2);var Az=10,IB=class ste extends Cp{constructor(t){super({moduleCtx:t,pickModes:[0],datumSelectionGarbageCollection:!1,animationResetFns:{datum:lw,label:Ac}}),this.properties=new Mn,this.calculatedBins=[]}deriveBins(t){if(this.properties.binCount)return this.calculateNiceBins(t,this.properties.binCount);const e=nP(t[0],t[1],Az),r=Ng(t[0],t[1],Az),[i]=e,o=a=>[a,a+r];return[[i-r,i],...e.map(o)]}calculateNiceBins(t,e){const r=Math.floor(t[0]),i=t[1],o=e||1,{start:a,binSize:s}=this.calculateNiceStart(r,i,o);return this.getBins(a,i,s,o)}getBins(t,e,r,i){const o=[],a=this.calculatePrecision(r);for(let s=0;s<i;s++){const l=Math.round((t+s*r)*a)/a;let u=Math.round((t+(s+1)*r)*a)/a;s===i-1&&(u=Math.max(u,e)),o[s]=[l,u]}return o}calculatePrecision(t){let e=10;if(isFinite(t)&&t>0)for(;t<1;)e*=10,t*=10;return e}calculateNiceStart(t,e,r){const i=Math.abs(e-t)/r,o=Math.floor(Math.log10(i)),a=Math.pow(10,o);return{start:Math.floor(t/a)*a,binSize:i}}processData(t){return le(this,null,function*(){var e;const{xKey:r,yKey:i,areaPlot:o,aggregation:a}=this.properties,s=[ni(this,r,!0),Oee];if(i){let u=LI(this,"groupCount");a==="count"||(a==="sum"?u=wee(this,"groupAgg"):a==="mean"&&(u=xee(this,"groupAgg"))),o&&(u=FI(this,"groupAgg",u)),s.push(Qt(this,i,!0,{invalidValue:void 0}),u)}else{let u=LI(this,"groupAgg");o&&(u=FI(this,"groupAgg",u)),s.push(u)}const l=u=>{var c;const d=Ii(u.domain.keys[0]);if(d.length===0)return u.domain.groups=[],()=>[];const p=(c=this.properties.bins)!=null?c:this.deriveBins(d),h=p.length;return this.calculatedBins=[...p],f=>{const v=f.keys[0];for(let g=0;g<h;g++){const y=p[g];if(v>=y[0]&&v<y[1]||g===h-1&&v<=y[1])return y}return[]}};!this.ctx.animationManager.isSkipped()&&this.processedData&&s.push(Of(this.processedData,!1)),yield this.requestDataModel(t,(e=this.data)!=null?e:[],{props:s,dataVisible:this.visible,groupByFn:l}),this.animationState.transition("updateData")})}getSeriesDomain(t){var e,r,i,o;const{processedData:a,dataModel:s}=this;if(!a||!s||!this.calculatedBins.length)return[];const l=s.getDomain(this,"groupAgg","aggregate",a),u=(e=this.calculatedBins)==null?void 0:e[0][0],c=(o=this.calculatedBins)==null?void 0:o[((i=(r=this.calculatedBins)==null?void 0:r.length)!=null?i:0)-1][1];return Ii(t==="x"?[u,c]:l)}createNodeData(){return le(this,null,function*(){var t;const{id:e,axes:r,processedData:i,ctx:{callbackCache:o}}=this,a=r.x,s=r.y;if(!this.visible||!a||!s||!i||i.type!=="grouped")return[];const{scale:l}=a,{scale:u}=s,{xKey:c,yKey:d,xName:p,yName:h,fill:f,stroke:v,strokeWidth:g}=this.properties,{formatter:y=b=>String(b.value),fontStyle:m,fontWeight:C,fontSize:S,fontFamily:w,color:_}=this.properties.label,x=[];return i.data.forEach(b=>{var O;const{aggValues:[[P,D]]=[[0,0]],datum:N,datum:{length:L},keys:I,keys:[k,H]}=b,$=l.convert(k),V=l.convert(H),W=P+D,K=u.convert(0),Z=u.convert(W),Q=Math.abs(V-$),ce=Math.abs(Z-K),ue=Math.min($,V),se=Math.min(K,Z),q=W!==0?{text:(O=o.call(y,{value:W,datum:N,seriesId:e,xKey:c,yKey:d,xName:p,yName:h}))!=null?O:String(W),fontStyle:m,fontWeight:C,fontSize:S,fontFamily:w,fill:_,x:ue+Q/2,y:se+ce/2}:void 0,he={x:ue+Q/2,y:se+ce/2};x.push({series:this,datum:N,aggregatedValue:W,frequency:L,domain:I,yKey:d,xKey:c,x:ue,y:se,xValue:$,yValue:Z,width:Q,height:ce,midPoint:he,fill:f,stroke:v,opacity:1,strokeWidth:g,label:q})}),[{itemId:(t=this.properties.yKey)!=null?t:this.id,nodeData:x,labelData:x,scales:wc(ste.prototype,this,"calculateScaling").call(this),animationValid:!0,visible:this.visible}]})}nodeFactory(){return new _i}updateDatumSelection(t){return le(this,null,function*(){const{nodeData:e,datumSelection:r}=t;return r.update(e,i=>{i.tag=0,i.crisp=!0},i=>i.domain.join("_"))})}updateDatumNodes(t){return le(this,null,function*(){const{isHighlight:e}=t,{fillOpacity:r,strokeOpacity:i,lineDash:o,lineDashOffset:a,shadow:s,highlightStyle:{item:{fill:l,fillOpacity:u=r,stroke:c,strokeWidth:d}}}=this.properties;t.datumSelection.each((p,h,f)=>{var v,g;const y=e&&d!==void 0?d:h.strokeWidth,m=e?u:r;p.fill=(v=e?l:void 0)!=null?v:h.fill,p.stroke=(g=e?c:void 0)!=null?g:h.stroke,p.fillOpacity=m,p.strokeOpacity=i,p.strokeWidth=y,p.lineDash=o,p.lineDashOffset=a,p.fillShadow=s,p.zIndex=e?cy.highlightedZIndex:f,p.visible=h.height>0})})}updateLabelSelection(t){return le(this,null,function*(){const{labelData:e,labelSelection:r}=t;return r.update(e,i=>{i.tag=1,i.pointerEvents=1,i.textAlign="center",i.textBaseline="middle"})})}updateLabelNodes(t){return le(this,null,function*(){const e=this.isLabelEnabled();t.labelSelection.each((r,i)=>{const o=i.label;o&&e?(r.text=o.text,r.x=o.x,r.y=o.y,r.fontStyle=o.fontStyle,r.fontWeight=o.fontWeight,r.fontSize=o.fontSize,r.fontFamily=o.fontFamily,r.fill=o.fill,r.visible=!0):r.visible=!1})})}getTooltipHtml(t){const e=this.axes.x,r=this.axes.y;if(!this.properties.isValid()||!e||!r)return"";const{xKey:i,yKey:o,xName:a,yName:s,fill:l,aggregation:u,tooltip:c}=this.properties,{aggregatedValue:d,frequency:p,domain:[h,f]}=t,v=`${Sr(a??i)}: ${e.formatDatum(h)} - ${e.formatDatum(f)}`;let g=o?`<b>${Sr(s??o)} (${u})</b>: ${r.formatDatum(d)}<br>`:"";g+=`<b>Frequency</b>: ${p}`;const y={title:v,backgroundColor:l,content:g};return c.toTooltipHtml(y,{datum:{data:t.datum,aggregatedValue:t.aggregatedValue,domain:t.domain,frequency:t.frequency},xKey:i,xName:a,yKey:o,yName:s,color:l,title:v,seriesId:this.id})}getLegendData(t){var e,r;if(!((e=this.data)!=null&&e.length)||t!=="category")return[];const{xKey:i,yName:o,fill:a,fillOpacity:s,stroke:l,strokeWidth:u,strokeOpacity:c,visible:d}=this.properties;return[{legendType:"category",id:this.id,itemId:i,seriesId:this.id,enabled:d,label:{text:(r=o??i)!=null?r:"Frequency"},marker:{fill:a??"rgba(0, 0, 0, 0)",stroke:l??"rgba(0, 0, 0, 0)",fillOpacity:s,strokeOpacity:c,strokeWidth:u}}]}animateEmptyUpdateReady({datumSelections:t,labelSelections:e}){const r=sw(aw(!0,this.axes,"normal"));xr(this.id,"datums",this.ctx.animationManager,t,r),$t(this,"labels",this.ctx.animationManager,e)}animateWaitingUpdateReady(t){var e,r;const i=(r=(e=this.processedData)==null?void 0:e.reduced)==null?void 0:r.diff,o=sw(aw(!0,this.axes,"normal"));xr(this.id,"datums",this.ctx.animationManager,t.datumSelections,o,(a,s)=>Zd(s.domain),i),$t(this,"labels",this.ctx.animationManager,t.labelSelections)}isLabelEnabled(){return this.properties.label.enabled}};IB.className="HistogramSeries";IB.type="histogram";var $3e=IB,W3e={type:"series",optionsKey:"series[]",packageType:"community",chartTypes:["cartesian"],identifier:"histogram",instanceConstructor:$3e,seriesDefaults:{axes:[{type:"number",position:"bottom"},{type:"number",position:"left"}]},themeTemplate:{series:{__extends__:_c,strokeWidth:1,fillOpacity:1,strokeOpacity:1,lineDash:[0],lineDashOffset:0,label:{enabled:!1,fontStyle:void 0,fontWeight:void 0,fontSize:12,fontFamily:_n,color:ty,formatter:void 0},shadow:{enabled:!1,color:ry,xOffset:3,yOffset:3,blur:5}}},paletteFactory:({takeColors:n})=>{const{fills:[t],strokes:[e]}=n(1);return{fill:t,stroke:e}}},$i=class extends mp{constructor(){super(...arguments),this.stroke="#874349",this.strokeWidth=2,this.strokeOpacity=1,this.lineDash=[0],this.lineDashOffset=0,this.marker=new Oo,this.label=new gn,this.tooltip=new Ro,this.connectMissingData=!1}};R([M(Ee)],$i.prototype,"xKey",2);R([M(Ee)],$i.prototype,"yKey",2);R([M(Ee,{optional:!0})],$i.prototype,"xName",2);R([M(Ee,{optional:!0})],$i.prototype,"yName",2);R([M(Ee,{optional:!0})],$i.prototype,"title",2);R([M(Tt)],$i.prototype,"stroke",2);R([M(xe)],$i.prototype,"strokeWidth",2);R([M(Ut)],$i.prototype,"strokeOpacity",2);R([M(bc)],$i.prototype,"lineDash",2);R([M(xe)],$i.prototype,"lineDashOffset",2);R([M(je)],$i.prototype,"marker",2);R([M(je)],$i.prototype,"label",2);R([M(je)],$i.prototype,"tooltip",2);R([M(qe)],$i.prototype,"connectMissingData",2);var NB=class lte extends Cp{constructor(t){super({moduleCtx:t,hasMarkers:!0,pickModes:[2,3,0],markerSelectionGarbageCollection:!1,animationResetFns:{path:TB({getOpacity:()=>this.getOpacity()}),label:Ac,marker:(e,r)=>J(J({},v0()),nw(e,r))}}),this.properties=new $i}processData(t){return le(this,null,function*(){if(!this.properties.isValid()||this.data==null)return;const{xKey:e,yKey:r}=this.properties,i=!this.ctx.animationManager.isSkipped(),{isContinuousX:o,isContinuousY:a}=this.isContinuous(),s=[];o||(s.push(ni(this,e,o,{id:"xKey"})),i&&this.processedData&&s.push(Of(this.processedData))),i&&s.push(uy(this,o?["xValue"]:[])),s.push(Qt(this,e,o,{id:"xValue"}),Qt(this,r,a,{id:"yValue",invalidValue:void 0})),yield this.requestDataModel(t,this.data,{props:s}),this.animationState.transition("updateData")})}getSeriesDomain(t){const{axes:e,dataModel:r,processedData:i}=this;if(!i||!r)return[];const o=e.x,a=e.y,s=r.resolveProcessedDataDefById(this,"xValue");if(t==="x"){const l=r.getDomain(this,"xValue","value",i);return(s==null?void 0:s.def.type)==="value"&&s.def.valueType==="category"?l:Ii(lu(l),o)}else{const l=r.getDomain(this,"yValue","value",i);return Ii(l,a)}}createNodeData(){return le(this,null,function*(){var t,e,r;const{processedData:i,dataModel:o,axes:a}=this,s=a.x,l=a.y;if(!i||!o||!s||!l)return[];const{xKey:u,yKey:c,xName:d,yName:p,marker:h,label:f,connectMissingData:v}=this.properties,g=s.scale,y=l.scale,m=((t=g.bandwidth)!=null?t:0)/2,C=((e=y.bandwidth)!=null?e:0)/2,S=[],w=h.enabled?h.size:0,_=o.resolveProcessedDataIndexById(this,"xValue").index,x=o.resolveProcessedDataIndexById(this,"yValue").index;let b=!0,O;for(let P=0;P<i.data.length;P++){const{datum:D,values:N}=O??i.data[P],L=N[_],I=N[x];if(I===void 0)b=!v;else{const k=g.convert(L)+m;if(isNaN(k)){b=!v,O=void 0;continue}O=((r=i.data[P+1])==null?void 0:r.values[x])===void 0?void 0:i.data[P+1];const H=y.convert(I)+C,$=this.getLabelText(f,{value:I,datum:D,xKey:u,yKey:c,xName:d,yName:p},V=>Nt(V)?V.toFixed(2):String(V));S.push({series:this,datum:D,yKey:c,xKey:u,point:{x:k,y:H,moveTo:b,size:w},midPoint:{x:k,y:H},yValue:I,xValue:L,capDefaults:{lengthRatioMultiplier:this.properties.marker.getDiameter(),lengthMax:1/0},label:$?{text:$,fontStyle:f.fontStyle,fontWeight:f.fontWeight,fontSize:f.fontSize,fontFamily:f.fontFamily,textAlign:"center",textBaseline:"bottom",fill:f.color}:void 0}),b=!1}}return[{itemId:c,nodeData:S,labelData:S,scales:wc(lte.prototype,this,"calculateScaling").call(this),visible:this.visible}]})}isPathOrSelectionDirty(){return this.properties.marker.isDirty()}markerFactory(){const{shape:t}=this.properties.marker,e=gp(t);return new e}updatePathNodes(t){return le(this,null,function*(){const{paths:[e],opacity:r,visible:i,animationEnabled:o}=t;e.setProperties({fill:void 0,lineJoin:"round",pointerEvents:1,opacity:r,stroke:this.properties.stroke,strokeWidth:this.getStrokeWidth(this.properties.strokeWidth),strokeOpacity:this.properties.strokeOpacity,lineDash:this.properties.lineDash,lineDashOffset:this.properties.lineDashOffset}),o||(e.visible=i),FO(this,e)})}updateMarkerSelection(t){return le(this,null,function*(){let{nodeData:e}=t;const{markerSelection:r}=t,{shape:i,enabled:o}=this.properties.marker;return e=i&&o?e:[],this.properties.marker.isDirty()&&(r.clear(),r.cleanup()),r.update(e,void 0,a=>Zd(a.xValue))})}updateMarkerNodes(t){return le(this,null,function*(){const{markerSelection:e,isHighlight:r}=t,{xKey:i,yKey:o,stroke:a,strokeWidth:s,strokeOpacity:l,marker:u,highlightStyle:c}=this.properties,d=mt(r&&c.item,u.getStyle(),{stroke:a,strokeWidth:s,strokeOpacity:l}),p=this.ctx.animationManager.isSkipped();e.each((h,f)=>{this.updateMarkerStyle(h,u,{datum:f,highlighted:r,xKey:i,yKey:o},d,{applyTranslation:p})}),r||u.markClean()})}updateLabelSelection(t){return le(this,null,function*(){return t.labelSelection.update(this.isLabelEnabled()?t.labelData:[])})}updateLabelNodes(t){return le(this,null,function*(){const{enabled:e,fontStyle:r,fontWeight:i,fontSize:o,fontFamily:a,color:s}=this.properties.label;t.labelSelection.each((l,u)=>{const{point:c,label:d}=u;u&&d&&e?(l.fontStyle=r,l.fontWeight=i,l.fontSize=o,l.fontFamily=a,l.textAlign=d.textAlign,l.textBaseline=d.textBaseline,l.text=d.text,l.x=c.x,l.y=c.y-10,l.fill=s,l.visible=!0):l.visible=!1})})}getTooltipHtml(t){var e;const r=this.axes.x,i=this.axes.y;if(!this.properties.isValid()||!r||!i)return"";const{xKey:o,yKey:a,xName:s,yName:l,strokeWidth:u,marker:c,tooltip:d}=this.properties,{datum:p,xValue:h,yValue:f}=t,v=r.formatDatum(h),g=i.formatDatum(f),y=Sr((e=this.properties.title)!=null?e:l),m=Sr(v+": "+g),C=mt({fill:c.stroke},c.getStyle(),{strokeWidth:u}),{fill:S}=this.getMarkerStyle(c,{datum:t,xKey:o,yKey:a,highlighted:!1},C);return d.toTooltipHtml({title:y,content:m,backgroundColor:S},J({datum:p,xKey:o,xName:s,yKey:a,yName:l,title:y,color:S,seriesId:this.id},this.getModuleTooltipParams()))}getLegendData(t){var e,r,i,o,a,s,l,u,c;if(!((e=this.data)!=null&&e.length&&this.properties.isValid()&&t==="category"))return[];const{yKey:d,yName:p,stroke:h,strokeOpacity:f,strokeWidth:v,lineDash:g,title:y,marker:m,visible:C}=this.properties,S="rgba(0, 0, 0, 0)";return[{legendType:"category",id:this.id,itemId:d,seriesId:this.id,enabled:C,label:{text:(r=y??p)!=null?r:d},marker:{shape:m.shape,fill:(i=m.fill)!=null?i:S,stroke:(a=(o=m.stroke)!=null?o:h)!=null?a:S,fillOpacity:(s=m.fillOpacity)!=null?s:1,strokeOpacity:(u=(l=m.strokeOpacity)!=null?l:f)!=null?u:1,strokeWidth:(c=m.strokeWidth)!=null?c:0,enabled:m.enabled},line:{stroke:h??S,strokeOpacity:f,strokeWidth:v,lineDash:g}}]}updatePaths(t){return le(this,null,function*(){this.updateLinePaths([t.paths],[t.contextData])})}updateLinePaths(t,e){e.forEach(({nodeData:r},i)=>{const[o]=t[i],{path:a}=o;a.clear({trackChanges:!0});for(const s of r)s.point.moveTo?a.moveTo(s.point.x,s.point.y):a.lineTo(s.point.x,s.point.y);o.checkPathDirty()})}animateEmptyUpdateReady(t){const{markerSelections:e,labelSelections:r,annotationSelections:i,contextData:o,paths:a}=t,{animationManager:s}=this.ctx;this.updateLinePaths(a,o),RB(this,s,a.flat()),xn(e,nw),xB(this,s,e),$t(this,"labels",s,r),$t(this,"annotations",s,i)}animateReadyResize(t){const{contextData:e,paths:r}=t;this.updateLinePaths(r,e),super.animateReadyResize(t)}animateWaitingUpdateReady(t){var e,r;const{animationManager:i}=this.ctx,{markerSelections:o,labelSelections:a,annotationSelections:s,contextData:l,paths:u,previousContextData:c}=t,[d]=u;super.resetAllAnimation(t);const p=()=>{this.updateLinePaths(u,l)},h=()=>{i.skipCurrentBatch(),p()};if(l.length===0||(c==null?void 0:c.length)===0){p(),rw(this,i,o,"added"),UC(this,"path_properties",i,d??[]),$t(this,"labels",i,a),$t(this,"annotations",i,s);return}const[f]=l,[v]=c??[],g=Yee(f,v,(r=(e=this.processedData)==null?void 0:e.reduced)==null?void 0:r.diff);if(g===void 0){h();return}rw(this,i,o),xr(this.id,"path_properties",i,d,g.pathProperties),$ee(this.id,"path_update",i,d,g.path),g.hasMotion&&($t(this,"labels",i,a),$t(this,"annotations",i,s))}isLabelEnabled(){return this.properties.label.enabled}getBandScalePadding(){return{inner:1,outer:.1}}nodeFactory(){return new Ve}};NB.className="LineSeries";NB.type="line";var U3e=NB,z3e={type:"series",optionsKey:"series[]",packageType:"community",chartTypes:["cartesian"],identifier:"line",instanceConstructor:U3e,seriesDefaults:{axes:[{type:"number",position:"left"},{type:"category",position:"bottom"}]},themeTemplate:{series:{__extends__:_c,tooltip:{position:{type:"node"}},strokeWidth:2,strokeOpacity:1,lineDash:[0],lineDashOffset:0,marker:{__extends__:ey,fillOpacity:1,strokeOpacity:1,strokeWidth:0},label:{enabled:!1,fontStyle:void 0,fontWeight:void 0,fontSize:12,fontFamily:_n,color:It,formatter:void 0}}},enterpriseThemeTemplate:{series:{errorBar:{cap:{lengthRatio:1}}}},paletteFactory:n=>{const{marker:t}=f0(n);return{stroke:t.fill,marker:t}}},Wi=class extends mp{constructor(){super(...arguments),this.colorRange=["#ffff00","#00ff00","#0000ff"],this.marker=new Oo,this.label=new gn,this.tooltip=new Ro}};R([M(Ee)],Wi.prototype,"xKey",2);R([M(Ee)],Wi.prototype,"yKey",2);R([M(Ee,{optional:!0})],Wi.prototype,"labelKey",2);R([M(Ee,{optional:!0})],Wi.prototype,"colorKey",2);R([M(Ee,{optional:!0})],Wi.prototype,"xName",2);R([M(Ee,{optional:!0})],Wi.prototype,"yName",2);R([M(Ee,{optional:!0})],Wi.prototype,"labelName",2);R([M(Ee,{optional:!0})],Wi.prototype,"colorName",2);R([M(JT,{optional:!0})],Wi.prototype,"colorDomain",2);R([M(ls)],Wi.prototype,"colorRange",2);R([M(Ee,{optional:!0})],Wi.prototype,"title",2);R([M(je)],Wi.prototype,"marker",2);R([M(je)],Wi.prototype,"label",2);R([M(je)],Wi.prototype,"tooltip",2);var kB=class ute extends Cp{constructor(t){super({moduleCtx:t,pickModes:[2,3,0],pathsPerSeries:0,hasMarkers:!0,markerSelectionGarbageCollection:!1,animationResetFns:{marker:v0,label:Ac}}),this.properties=new Wi,this.colorScale=new Rf}processData(t){return le(this,null,function*(){var e;if(!this.properties.isValid()||this.data==null)return;const{isContinuousX:r,isContinuousY:i}=this.isContinuous(),{xKey:o,yKey:a,labelKey:s,colorKey:l,colorDomain:u,colorRange:c}=this.properties,{dataModel:d,processedData:p}=yield this.requestDataModel(t,this.data,{props:[ni(this,o,r,{id:"xKey-raw"}),ni(this,a,i,{id:"yKey-raw"}),...s?[ni(this,s,!1,{id:"labelKey-raw"})]:[],Qt(this,o,r,{id:"xValue"}),Qt(this,a,i,{id:"yValue"}),...l?[Qt(this,l,!0,{id:"colorValue"})]:[],...s?[Qt(this,s,!1,{id:"labelValue"})]:[]],dataVisible:this.visible});if(l){const h=d.resolveProcessedDataIndexById(this,"colorValue").index;this.colorScale.domain=(e=u??p.domain.values[h])!=null?e:[],this.colorScale.range=c,this.colorScale.update()}this.animationState.transition("updateData")})}getSeriesDomain(t){const{dataModel:e,processedData:r}=this;if(!r||!e)return[];const i=t==="x"?"xValue":"yValue",o=e.resolveProcessedDataDefById(this,i),a=e.getDomain(this,i,"value",r);if((o==null?void 0:o.def.type)==="value"&&(o==null?void 0:o.def.valueType)==="category")return a;const s=this.axes[t];return Ii(lu(a),s)}createNodeData(){return le(this,null,function*(){var t,e,r;const{axes:i,dataModel:o,processedData:a,colorScale:s}=this,{xKey:l,yKey:u,labelKey:c,colorKey:d,xName:p,yName:h,labelName:f,marker:v,label:g,visible:y}=this.properties,m=i.x,C=i.y;if(!(o&&a&&y&&m&&C))return[];const S=o.resolveProcessedDataIndexById(this,"xValue").index,w=o.resolveProcessedDataIndexById(this,"yValue").index,_=d?o.resolveProcessedDataIndexById(this,"colorValue").index:-1,x=c?o.resolveProcessedDataIndexById(this,"labelValue").index:-1,b=m.scale,O=C.scale,P=((t=b.bandwidth)!=null?t:0)/2,D=((e=O.bandwidth)!=null?e:0)/2,N=[],L=g.getFont();for(const{values:I,datum:k}of(r=a.data)!=null?r:[]){const H=I[S],$=I[w],V=b.convert(H)+P,W=O.convert($)+D,K=this.getLabelText(g,{value:c?I[x]:$,datum:k,xKey:l,yKey:u,labelKey:c,xName:p,yName:h,labelName:f}),Z=Wr.getTextSize(K,L),Q=d?s.convert(I[_]):void 0;N.push({series:this,itemId:u,yKey:u,xKey:l,datum:k,xValue:H,yValue:$,capDefaults:{lengthRatioMultiplier:v.getDiameter(),lengthMax:1/0},point:{x:V,y:W,size:v.size},midPoint:{x:V,y:W},fill:Q,label:J({text:K},Z)})}return[{itemId:u,nodeData:N,labelData:N,scales:wc(ute.prototype,this,"calculateScaling").call(this),visible:this.visible}]})}isPathOrSelectionDirty(){return this.properties.marker.isDirty()}getLabelData(){var t;return(t=this.contextNodeData)==null?void 0:t.reduce((e,r)=>e.concat(r.labelData),[])}markerFactory(){const{shape:t}=this.properties.marker,e=gp(t);return new e}updateMarkerSelection(t){return le(this,null,function*(){const{nodeData:e,markerSelection:r}=t;return this.properties.marker.isDirty()&&(r.clear(),r.cleanup()),r.update(this.properties.marker.enabled?e:[])})}updateMarkerNodes(t){return le(this,null,function*(){const{markerSelection:e,isHighlight:r}=t,{xKey:i,yKey:o,labelKey:a,marker:s,highlightStyle:l}=this.properties,u=mt(r&&l.item,s.getStyle());e.each((c,d)=>{this.updateMarkerStyle(c,s,{datum:d,highlighted:r,xKey:i,yKey:o,labelKey:a},u)}),r||s.markClean()})}updateLabelSelection(t){return le(this,null,function*(){var e,r;const i=this.isLabelEnabled()?(r=(e=this.chart)==null?void 0:e.placeLabels().get(this))!=null?r:[]:[];return t.labelSelection.update(i.map(({datum:o,x:a,y:s})=>Te(J({},o),{point:{x:a,y:s,size:o.point.size}})),o=>{o.pointerEvents=1})})}updateLabelNodes(t){return le(this,null,function*(){const{label:e}=this.properties;t.labelSelection.each((r,i)=>{var o,a,s,l;r.text=i.label.text,r.fill=e.color,r.x=(a=(o=i.point)==null?void 0:o.x)!=null?a:0,r.y=(l=(s=i.point)==null?void 0:s.y)!=null?l:0,r.fontStyle=e.fontStyle,r.fontWeight=e.fontWeight,r.fontSize=e.fontSize,r.fontFamily=e.fontFamily,r.textAlign="left",r.textBaseline="top"})})}getTooltipHtml(t){const e=this.axes.x,r=this.axes.y;if(!this.properties.isValid()||!e||!r)return"";const{xKey:i,yKey:o,labelKey:a,xName:s,yName:l,labelName:u,title:c=l,marker:d,tooltip:p}=this.properties,{datum:h,xValue:f,yValue:v,label:g}=t,y=mt({fill:t.fill,strokeWidth:this.getStrokeWidth(d.strokeWidth)},d.getStyle()),{fill:m="gray"}=this.getMarkerStyle(d,{datum:t,highlighted:!1,xKey:i,yKey:o,labelKey:a},y),C=Sr(e.formatDatum(f)),S=Sr(r.formatDatum(v));let w=`<b>${Sr(s??i)}</b>: ${C}<br><b>${Sr(l??o)}</b>: ${S}`;return a&&(w=`<b>${Sr(u??a)}</b>: ${Sr(g.text)}<br>`+w),p.toTooltipHtml({title:c,content:w,backgroundColor:m},J({datum:h,xKey:i,xName:s,yKey:o,yName:l,labelKey:a,labelName:u,title:c,color:m,seriesId:this.id},this.getModuleTooltipParams()))}getLegendData(t){var e,r,i,o,a,s;const{yKey:l,yName:u,title:c,marker:d,visible:p}=this.properties,{fill:h,stroke:f,fillOpacity:v,strokeOpacity:g,strokeWidth:y}=d;return!((e=this.data)!=null&&e.length)||!this.properties.isValid()||t!=="category"?[]:[{legendType:"category",id:this.id,itemId:l,seriesId:this.id,enabled:p,label:{text:(r=c??u)!=null?r:l},marker:{shape:d.shape,fill:(o=(i=d.fill)!=null?i:h)!=null?o:"rgba(0, 0, 0, 0)",stroke:(s=(a=d.stroke)!=null?a:f)!=null?s:"rgba(0, 0, 0, 0)",fillOpacity:v??1,strokeOpacity:g??1,strokeWidth:y??0}}]}animateEmptyUpdateReady(t){const{markerSelections:e,labelSelections:r,annotationSelections:i}=t;_B(this,this.ctx.animationManager,e),$t(this,"labels",this.ctx.animationManager,r),$t(this,"annotations",this.ctx.animationManager,i)}isLabelEnabled(){return this.properties.label.enabled}nodeFactory(){return new Ve}};kB.className="ScatterSeries";kB.type="scatter";var K3e=kB,Y3e={type:"series",optionsKey:"series[]",packageType:"community",chartTypes:["cartesian"],identifier:"scatter",instanceConstructor:K3e,seriesDefaults:{axes:[{type:"number",position:"bottom"},{type:"number",position:"left"}]},themeTemplate:{series:{__extends__:_c,tooltip:{position:{type:"node"}},marker:{__extends__:ey,fillOpacity:.8},label:{enabled:!1,fontStyle:void 0,fontWeight:void 0,fontSize:12,fontFamily:_n,color:It}}},enterpriseThemeTemplate:{series:{errorBar:{cap:{lengthRatio:1}}}},paletteFactory:f0};function GB(n,t,e){const r=Math.sqrt(Math.pow(n,2)+Math.pow(t,2)),{innerRadius:i,outerRadius:o}=e;if(e.startAngle===e.endAngle||r<Math.min(i,o)||r>Math.max(i,o))return!1;const a=qS(e.startAngle),s=qS(e.endAngle),l=Math.atan2(t,n);return a<s?l<=s&&l>=a:l<=s&&l>=-Math.PI||l>=a&&l<=Math.PI}function Dz(n,t){const{startAngle:e,endAngle:r,innerRadius:i,outerRadius:o}=t,a={x:o*Math.cos(e),y:o*Math.sin(e)},s={x:o*Math.cos(r),y:o*Math.sin(r)},l=i===0?{x:0,y:0}:{x:i*Math.cos(e),y:i*Math.sin(e)},u=i===0?{x:0,y:0}:{x:i*Math.cos(r),y:i*Math.sin(r)};return $C(n.start.x,n.start.y,n.end.x,n.end.y,a.x,a.y,l.x,l.y)!=null||$C(n.start.x,n.start.y,n.end.x,n.end.y,s.x,s.y,u.x,u.y)!=null||cee(0,0,o,e,r,!0,n.start.x,n.start.y,n.end.x,n.end.y).length>0}function cte(n,t){const e={x:n.x,y:n.y},r={x:n.x+n.width,y:n.y},i={x:n.x,y:n.y+n.height},o={x:n.x+n.width,y:n.y+n.height};return Dz({start:e,end:r},t)||Dz({start:i,end:o},t)}var ds=class extends ya{constructor(){super(...arguments),this.centerX=0,this.centerY=0,this.innerRadius=10,this.outerRadius=20,this.startAngle=0,this.endAngle=Math.PI*2,this.angleOffset=0,this.inset=0}computeBBox(){const n=this.outerRadius;return new nt(this.centerX-n,this.centerY-n,n*2,n*2)}updatePath(){const n=this.path,{angleOffset:t,inset:e}=this,r=this.startAngle+t,i=this.endAngle+t,o=r<=i?i-r:Math.PI*2-(r-i),a=Math.max(Math.min(this.innerRadius,this.outerRadius)+e,0),s=Math.max(Math.max(this.innerRadius,this.outerRadius)-e,0),l=o>=2*Math.PI,u=this.centerX,c=this.centerY;if(n.clear(),l)n.arc(u,c,s,r,i),a>e&&(n.moveTo(u+a*Math.cos(i),c+a*Math.sin(i)),n.arc(u,c,a,i,r,!0));else{const d=a>0?e/a:0,p=s>0?e/s:0;if(o<2*p)return;const f=a<=e||o<2*d;if(f){const v=o<Math.PI*.5?e*(1+Math.cos(o))/Math.sin(o):NaN;let g;v>0&&v<s?g=Math.max(Math.hypot(e,v),a):g=a;const y=r+o*.5;n.moveTo(u+g*Math.cos(y),c+g*Math.sin(y))}else n.moveTo(u+a*Math.cos(r+d),c+a*Math.sin(r+d));n.arc(u,c,s,r+p,i-p),f||(a>0?n.arc(u,c,a,i-d,r+d,!0):n.lineTo(u,c))}n.closePath(),this.dirtyPath=!1}isPointInPath(n,t){const{angleOffset:e}=this,r=this.startAngle+e,i=this.endAngle+e,o=Math.min(this.innerRadius,this.outerRadius),a=Math.max(this.innerRadius,this.outerRadius),s=this.transformPoint(n,t);return GB(s.x,s.y,{startAngle:r,endAngle:i,innerRadius:o,outerRadius:a})}};ds.className="Sector";R([ct()],ds.prototype,"centerX",2);R([ct()],ds.prototype,"centerY",2);R([ct()],ds.prototype,"innerRadius",2);R([ct()],ds.prototype,"outerRadius",2);R([ct()],ds.prototype,"startAngle",2);R([ct()],ds.prototype,"endAngle",2);R([ct()],ds.prototype,"angleOffset",2);R([ct()],ds.prototype,"inset",2);var dte=class extends Ar{constructor(){super(...arguments),this.showInLegend=!1}};R([M(qe)],dte.prototype,"showInLegend",2);var VB=class extends gn{constructor(){super(...arguments),this.margin=2}set(n,t){return super.set(n)}};R([M(Ee)],VB.prototype,"text",2);R([M(sr)],VB.prototype,"margin",2);var BB=class extends nr{constructor(){super(...arguments),this.fill="transparent",this.fillOpacity=1}};R([M(Tt)],BB.prototype,"fill",2);R([M(Ut)],BB.prototype,"fillOpacity",2);var dy=class extends gn{constructor(){super(...arguments),this.offset=3,this.minAngle=0,this.minSpacing=4,this.maxCollisionOffset=50,this.avoidCollisions=!0}};R([M(xe)],dy.prototype,"offset",2);R([M(dp)],dy.prototype,"minAngle",2);R([M(xe)],dy.prototype,"minSpacing",2);R([M(xe)],dy.prototype,"maxCollisionOffset",2);R([M(qe)],dy.prototype,"avoidCollisions",2);var HB=class extends gn{constructor(){super(...arguments),this.positionOffset=0,this.positionRatio=.5}};R([M(sr)],HB.prototype,"positionOffset",2);R([M(Ut)],HB.prototype,"positionRatio",2);var dP=class extends nr{constructor(){super(...arguments),this.length=10,this.strokeWidth=1}};R([M(ls,{optional:!0})],dP.prototype,"colors",2);R([M(xe)],dP.prototype,"length",2);R([M(xe)],dP.prototype,"strokeWidth",2);var Et=class extends Js{constructor(){super(...arguments),this.fills=Object.values(Tl),this.strokes=Object.values(Bh),this.fillOpacity=1,this.strokeOpacity=1,this.lineDash=[0],this.lineDashOffset=0,this.rotation=0,this.outerRadiusOffset=0,this.outerRadiusRatio=1,this.strokeWidth=1,this.sectorSpacing=void 0,this.innerLabels=new Qw(VB),this.title=new dte,this.innerCircle=new BB,this.shadow=new tl,this.calloutLabel=new dy,this.sectorLabel=new HB,this.calloutLine=new dP,this.tooltip=new Ro,this.__BACKGROUND_COLOR_DO_NOT_USE=void 0}isValid(){const n=super.isValid();return this.innerRadiusRatio==null&&this.innerRadiusOffset==null?(Oe.warnOnce("Either an [innerRadiusRatio] or an [innerRadiusOffset] must be set to render a donut series."),!1):n}};R([M(Ee)],Et.prototype,"angleKey",2);R([M(Ee,{optional:!0})],Et.prototype,"angleName",2);R([M(Ee,{optional:!0})],Et.prototype,"radiusKey",2);R([M(Ee,{optional:!0})],Et.prototype,"radiusName",2);R([M(xe,{optional:!0})],Et.prototype,"radiusMin",2);R([M(xe,{optional:!0})],Et.prototype,"radiusMax",2);R([M(Ee,{optional:!0})],Et.prototype,"calloutLabelKey",2);R([M(Ee,{optional:!0})],Et.prototype,"calloutLabelName",2);R([M(Ee,{optional:!0})],Et.prototype,"sectorLabelKey",2);R([M(Ee,{optional:!0})],Et.prototype,"sectorLabelName",2);R([M(Ee,{optional:!0})],Et.prototype,"legendItemKey",2);R([M(ls)],Et.prototype,"fills",2);R([M(ls)],Et.prototype,"strokes",2);R([M(Ut)],Et.prototype,"fillOpacity",2);R([M(Ut)],Et.prototype,"strokeOpacity",2);R([M(bc)],Et.prototype,"lineDash",2);R([M(xe)],Et.prototype,"lineDashOffset",2);R([M(ss,{optional:!0})],Et.prototype,"formatter",2);R([M(dp)],Et.prototype,"rotation",2);R([M(sr)],Et.prototype,"outerRadiusOffset",2);R([M(Ut)],Et.prototype,"outerRadiusRatio",2);R([M(sr,{optional:!0})],Et.prototype,"innerRadiusOffset",2);R([M(Ut,{optional:!0})],Et.prototype,"innerRadiusRatio",2);R([M(xe)],Et.prototype,"strokeWidth",2);R([M(xe,{optional:!0})],Et.prototype,"sectorSpacing",2);R([M($V)],Et.prototype,"innerLabels",2);R([M(je)],Et.prototype,"title",2);R([M(je)],Et.prototype,"innerCircle",2);R([M(je)],Et.prototype,"shadow",2);R([M(je)],Et.prototype,"calloutLabel",2);R([M(je)],Et.prototype,"sectorLabel",2);R([M(je)],Et.prototype,"calloutLine",2);R([M(je)],Et.prototype,"tooltip",2);R([M(Ee,{optional:!0})],Et.prototype,"__BACKGROUND_COLOR_DO_NOT_USE",2);function cg(n,t,e,r){const i=[e.convert(0),e.convert(1)],o=[r.convert(0),r.convert(1)],a=Math.PI/-2+Ci(t),s=({radius:h})=>({innerRadius:i[0],outerRadius:i[0]+(i[1]-i[0])*h}),l=({radius:h})=>({innerRadius:o[0],outerRadius:o[0]+(o[1]-o[0])*h});return{nodes:{toFn:(h,f,v,{prevLive:g})=>{var y,m;let{startAngle:C,endAngle:S,innerRadius:w,outerRadius:_}=f;const{stroke:x,fill:b}=f.sectorFormat;if(v==="removed"&&g?(C=(y=g.datum)==null?void 0:y.endAngle,S=(m=g.datum)==null?void 0:m.endAngle):v==="removed"&&!g&&(C=a,S=a),v==="removed"){const O=s(f);w=O.innerRadius,_=O.outerRadius}return{startAngle:C,endAngle:S,outerRadius:_,innerRadius:w,stroke:x,fill:b}},fromFn:(h,f,v,{prevFromProps:g})=>{var y,m,C,S,w,_;let{startAngle:x,endAngle:b,innerRadius:O,outerRadius:P}=h,{fill:D,stroke:N}=f.sectorFormat;if(v==="unknown"||v==="added"&&!g?(x=a,b=a,O=f.innerRadius,P=f.outerRadius):v==="added"&&g&&(x=(y=g.endAngle)!=null?y:a,b=(m=g.endAngle)!=null?m:a,O=(C=g.innerRadius)!=null?C:f.innerRadius,P=(S=g.outerRadius)!=null?S:f.outerRadius),v==="added"&&!n){const L=l(f);O=L.innerRadius,P=L.outerRadius}return v==="updated"&&(D=(w=h.fill)!=null?w:D,N=(_=h.stroke)!=null?_:N),{startAngle:x,endAngle:b,innerRadius:O,outerRadius:P,fill:D,stroke:N,phase:"initial"}}},innerCircle:{fromFn:(h,f)=>{var v,g,y;return{size:(y=(g=(v=h.previousDatum)==null?void 0:v.radius)!=null?g:h.size)!=null?y:0,phase:"initial"}},toFn:(h,f)=>{var v;return{size:(v=f.radius)!=null?v:0}}}}}function pte(n,t){return{startAngle:t.startAngle,endAngle:t.endAngle,innerRadius:t.innerRadius,outerRadius:t.outerRadius,fill:t.sectorFormat.fill,stroke:t.sectorFormat.stroke}}var pP=class extends Lee{constructor(n){var t=n,{useLabelLayer:e=!1,pickModes:r=[0],canHaveAxes:i=!1,animationResetFns:o}=t,a=En(t,["useLabelLayer","pickModes","canHaveAxes","animationResetFns"]);super(Te(J({},a),{useLabelLayer:e,pickModes:r,contentGroupVirtual:!1,directionKeys:{x:["angleKey"],y:["radiusKey"]},directionNames:{x:["angleName"],y:["radiusName"]},canHaveAxes:i})),this.itemGroup=this.contentGroup.appendChild(new Ve),this.itemSelection=Er.select(this.itemGroup,()=>this.nodeFactory(),!1),this.labelSelection=Er.select(this.labelGroup,Mt,!1),this.highlightSelection=Er.select(this.highlightGroup,()=>this.nodeFactory()),this.centerX=0,this.centerY=0,this.radius=0,this.itemGroup.zIndexSubOrder=[()=>this._declarationOrder,1],this.animationResetFns=o,this.animationState=new s0("empty",{empty:{update:{target:"ready",action:s=>this.animateEmptyUpdateReady(s)},reset:"empty",skip:"ready"},ready:{updateData:"waiting",clear:"clearing",highlight:s=>this.animateReadyHighlight(s),highlightMarkers:s=>this.animateReadyHighlightMarkers(s),resize:s=>this.animateReadyResize(s),reset:"empty",skip:"ready"},waiting:{update:{target:"ready",action:s=>this.animateWaitingUpdateReady(s)},reset:"empty",skip:"ready"},clearing:{update:{target:"empty",action:s=>this.animateClearingUpdateEmpty(s)},reset:"empty",skip:"ready"}},()=>this.checkProcessedDataAnimatable())}resetAnimation(n){n==="initial"?this.animationState.transition("reset"):n==="ready"&&this.animationState.transition("skip")}getLabelData(){return[]}computeLabelsBBox(n,t){return null}resetAllAnimation(){var n;const{item:t,label:e}=(n=this.animationResetFns)!=null?n:{};this.ctx.animationManager.stopByAnimationGroupId(this.id),t&&xn([this.itemSelection,this.highlightSelection],t),e&&xn([this.labelSelection],e),this.itemSelection.cleanup(),this.labelSelection.cleanup(),this.highlightSelection.cleanup()}animateEmptyUpdateReady(n){this.ctx.animationManager.skipCurrentBatch(),this.resetAllAnimation()}animateWaitingUpdateReady(n){this.ctx.animationManager.skipCurrentBatch(),this.resetAllAnimation()}animateReadyHighlight(n){var t;const{item:e}=(t=this.animationResetFns)!=null?t:{};e&&xn([this.highlightSelection],e)}animateReadyHighlightMarkers(n){}animateReadyResize(n){this.resetAllAnimation()}animateClearingUpdateEmpty(n){this.ctx.animationManager.skipCurrentBatch(),this.resetAllAnimation()}animationTransitionClear(){this.animationState.transition("clear",this.getAnimationData())}getAnimationData(n){return{seriesRect:n}}},X3e=class extends c0{constructor(n,t,e,r){super(n,t,e,r),this.angleKey=r.properties.angleKey,this.radiusKey=r.properties.radiusKey,this.calloutLabelKey=r.properties.calloutLabelKey,this.sectorLabelKey=r.properties.sectorLabelKey}},hP=class extends pP{constructor(n){super({moduleCtx:n,useLabelLayer:!0,animationResetFns:{item:pte,label:Ac}}),this.properties=new Et,this.previousRadiusScale=new Zl,this.radiusScale=new Zl,this.backgroundGroup=this.rootGroup.appendChild(new Ve({name:`${this.id}-background`,layer:!0,zIndex:0})),this.zerosumRingsGroup=this.backgroundGroup.appendChild(new Ve({name:`${this.id}-zerosumRings`})),this.zerosumOuterRing=this.zerosumRingsGroup.appendChild(new ql),this.zerosumInnerRing=this.zerosumRingsGroup.appendChild(new ql),this.innerCircleGroup=this.backgroundGroup.appendChild(new Ve({name:`${this.id}-innerCircle`})),this.nodeData=[],this.seriesItemEnabled=[],this.surroundingRadius=void 0,this.NodeClickEvent=X3e,this.angleScale=new Zl,this.angleScale.domain=[0,1],this.angleScale.range=[-Math.PI,Math.PI].map(i=>i+Math.PI/2);const t=new Ve({name:"pieCalloutLabels"}),e=new Ve({name:"pieSectorLabels"}),r=new Ve({name:"innerLabels"});this.labelGroup.append(t),this.labelGroup.append(e),this.labelGroup.append(r),this.calloutLabelSelection=Er.select(t,Ve),this.sectorLabelSelection=Er.select(e,Mt),this.innerLabelsSelection=Er.select(r,Mt),this.innerCircleSelection=Er.select(this.innerCircleGroup,ql);for(const i of[this.zerosumInnerRing,this.zerosumOuterRing])i.fillOpacity=0,i.stroke=this.properties.calloutLabel.color,i.strokeWidth=1,i.strokeOpacity=1}addChartEventListeners(){var n;this.destroyFns.push((n=this.ctx.chartEventManager)==null?void 0:n.addListener("legend-item-click",t=>this.onLegendItemClick(t)))}visibleChanged(){this.processSeriesItemEnabled()}get visible(){return this.seriesItemEnabled.length?this.seriesItemEnabled.some(n=>n):super.visible}processSeriesItemEnabled(){var n;const{data:t,visible:e}=this;this.seriesItemEnabled=(n=t==null?void 0:t.map(()=>e))!=null?n:[]}nodeFactory(){return new ds}getSeriesDomain(n){return n==="x"?this.angleScale.domain:this.radiusScale.domain}processData(n){return le(this,null,function*(){var t,e,r,i,o;if(this.data==null||!this.properties.isValid())return;let{data:a}=this;const{seriesItemEnabled:s}=this,{angleKey:l,radiusKey:u,calloutLabelKey:c,sectorLabelKey:d,legendItemKey:p}=this.properties,h=!this.ctx.animationManager.isSkipped(),f=[],v=[];p?f.push(ni(this,p,!1,{id:"legendItemKey"})):c?f.push(ni(this,c,!1,{id:"calloutLabelKey"})):d&&f.push(ni(this,d,!1,{id:"sectorLabelKey"})),u&&v.push(vB(this,u,{id:"radiusValue",min:(t=this.properties.radiusMin)!=null?t:0,max:this.properties.radiusMax}),Qt(this,u,!0,{id:"radiusRaw"}),tw(this,{id:"radiusValue"},[0,1],1,(e=this.properties.radiusMin)!=null?e:0,this.properties.radiusMax)),c&&v.push(Qt(this,c,!1,{id:"calloutLabelValue"})),d&&v.push(Qt(this,d,!1,{id:"sectorLabelValue"})),p&&v.push(Qt(this,p,!1,{id:"legendItemValue"})),h&&this.processedData&&f.length>0&&v.push(Of(this.processedData)),v.push(uy(this)),a=a.map((g,y)=>s[y]?g:Te(J({},g),{[l]:0})),yield this.requestDataModel(n,a,{props:[...f,gB(this,l,!0,{id:"angleValue",onlyPositive:!0}),Qt(this,l,!0,{id:"angleRaw"}),tw(this,{id:"angleValue"},[0,1],0,0),...v]});for(const g of(o=(i=(r=this.processedData)==null?void 0:r.defs)==null?void 0:i.values)!=null?o:[]){const{id:y,missing:m,property:C}=g,S=oB(this,m);y!=="angleRaw"&&S>0&&Oe.warnOnce(`no value was found for the key '${String(C)}' on ${S} data element${S>1?"s":""}`)}this.animationState.transition("updateData")})}maybeRefreshNodeData(){return le(this,null,function*(){if(!this.nodeDataRefresh)return;const[{nodeData:n=[]}={}]=yield this.createNodeData();this.nodeData=n,this.nodeDataRefresh=!1})}getProcessedDataIndexes(n){const t=n.resolveProcessedDataIndexById(this,"angleValue").index,e=this.properties.radiusKey?n.resolveProcessedDataIndexById(this,"radiusValue").index:-1,r=this.properties.calloutLabelKey?n.resolveProcessedDataIndexById(this,"calloutLabelValue").index:-1,i=this.properties.sectorLabelKey?n.resolveProcessedDataIndexById(this,"sectorLabelValue").index:-1,o=this.properties.legendItemKey?n.resolveProcessedDataIndexById(this,"legendItemValue").index:-1;return{angleIdx:t,radiusIdx:e,calloutLabelIdx:r,sectorLabelIdx:i,legendItemIdx:o}}createNodeData(){return le(this,null,function*(){const{id:n,processedData:t,dataModel:e,angleScale:r}=this,{rotation:i,innerRadiusRatio:o}=this.properties;if(!this.properties.isValid())return this.zerosumOuterRing.visible=!0,this.zerosumInnerRing.visible=!0,[{itemId:n,nodeData:[],labelData:[]}];if(!t||!e||t.type!=="ungrouped")return[];const{angleIdx:a,radiusIdx:s,calloutLabelIdx:l,sectorLabelIdx:u,legendItemIdx:c}=this.getProcessedDataIndexes(e);let d=0,p=0;const h=t.data.map((f,v)=>{var g;const{datum:y,values:m}=f,C=m[a],S=r.convert(d)+Ci(i);d=C,p+=C;const w=r.convert(d)+Ci(i),_=Math.abs(w-S),x=S+_/2,b=m[a+1],O=s>=0&&(g=m[s])!=null?g:1,P=s>=0?m[s+1]:void 0,D=c>=0?m[c]:void 0,N=this.getLabels(y,x,_,!0,m[l],m[u],D),L=this.getSectorFormat(y,v,!1);return J({itemId:v,series:this,datum:y,index:v,angleValue:b,midAngle:x,midCos:Math.cos(x),midSin:Math.sin(x),startAngle:S,endAngle:w,sectorFormat:L,radiusValue:P,radius:O,innerRadius:Math.max(this.radiusScale.convert(0),0),outerRadius:Math.max(this.radiusScale.convert(O),0),legendItemValue:D},N)});return this.zerosumOuterRing.visible=p===0,this.zerosumInnerRing.visible=p===0&&o!=null&&o!==1&&o>0,[{itemId:n,nodeData:h,labelData:h}]})}getLabels(n,t,e,r,i,o,a){const{calloutLabel:s,sectorLabel:l,legendItemKey:u}=this.properties,c=!r||s.enabled?this.properties.calloutLabelKey:void 0,d=!r||l.enabled?this.properties.sectorLabelKey:void 0;if(!c&&!d&&!u)return{};const p={datum:n,angleKey:this.properties.angleKey,angleName:this.properties.angleName,radiusKey:this.properties.radiusKey,radiusName:this.properties.radiusName,calloutLabelKey:this.properties.calloutLabelKey,calloutLabelName:this.properties.calloutLabelName,sectorLabelKey:this.properties.sectorLabelKey,sectorLabelName:this.properties.sectorLabelName,legendItemKey:this.properties.legendItemKey},h={};return c&&e>Ci(s.minAngle)&&(h.calloutLabel=Te(J({},this.getTextAlignment(t)),{text:this.getLabelText(s,Te(J({},p),{value:i})),hidden:!1,collisionTextAlign:void 0,collisionOffsetY:0,box:void 0})),d&&(h.sectorLabel={text:this.getLabelText(l,Te(J({},p),{value:o}))}),u!=null&&a!=null&&(h.legendItem={key:u,text:a}),h}getTextAlignment(n){const t=[{textAlign:"center",textBaseline:"bottom"},{textAlign:"left",textBaseline:"middle"},{textAlign:"center",textBaseline:"hanging"},{textAlign:"right",textBaseline:"middle"}],e=qS(n),r=-3*Math.PI/4,i=e-r,o=Math.floor(i/(Math.PI/2)),a=XT(o,t.length);return t[a]}getSectorFormat(n,t,e){var r,i,o,a,s;const{callbackCache:l,highlightManager:u}=this.ctx,{angleKey:c,radiusKey:d,fills:p,strokes:h,formatter:f,sectorSpacing:v,__BACKGROUND_COLOR_DO_NOT_USE:g}=this.properties,y=u.getActiveHighlight(),m=e&&(y==null?void 0:y.series)===this&&t===y.itemId,{fill:C,fillOpacity:S,stroke:w,strokeWidth:_,strokeOpacity:x}=mt(m&&this.properties.highlightStyle.item,{fill:p.length>0?p[t%p.length]:void 0,fillOpacity:this.properties.fillOpacity,stroke:v!=null?h.length>0?h[t%h.length]:void 0:h.length>0?h[t%h.length]:g,strokeWidth:this.getStrokeWidth(this.properties.strokeWidth),strokeOpacity:this.getOpacity()});let b;return f&&(b=l.call(f,{datum:n,angleKey:c,radiusKey:d,fill:C,stroke:w,fills:p,strokes:h,strokeWidth:_,highlighted:m,seriesId:this.id})),{fill:(r=b==null?void 0:b.fill)!=null?r:C,fillOpacity:(i=b==null?void 0:b.fillOpacity)!=null?i:S,stroke:(o=b==null?void 0:b.stroke)!=null?o:w,strokeWidth:(a=b==null?void 0:b.strokeWidth)!=null?a:_,strokeOpacity:(s=b==null?void 0:b.strokeOpacity)!=null?s:x}}getInnerRadius(){const{radius:n}=this,{innerRadiusRatio:t=1,innerRadiusOffset:e=0}=this.properties,r=n*t+e;return r===n||r<0?0:r}getOuterRadius(){const{outerRadiusRatio:n,outerRadiusOffset:t}=this.properties;return Math.max(this.radius*n+t,0)}updateRadiusScale(n){const t=[this.getInnerRadius(),this.getOuterRadius()];this.radiusScale.range=t,n&&(this.previousRadiusScale.range=t),this.nodeData=this.nodeData.map(e=>{var r=e,{radius:i}=r,o=En(r,["radius"]);return Te(J({},o),{radius:i,innerRadius:Math.max(this.radiusScale.convert(0),0),outerRadius:Math.max(this.radiusScale.convert(i),0)})})}getTitleTranslationY(){var n,t;const e=Math.max(0,this.radiusScale.range[1]);if(e===0)return NaN;const i=2+((t=(n=this.properties.title)==null?void 0:n.spacing)!=null?t:0),o=Math.max(0,-e);return-e-i-o}update(n){return le(this,arguments,function*({seriesRect:t}){const{title:e}=this.properties,r={seriesRectWidth:t==null?void 0:t.width,seriesRectHeight:t==null?void 0:t.height},i=da(this.nodeDataDependencies,r)!=null;if(i&&(this._nodeDataDependencies=r),yield this.maybeRefreshNodeData(),this.updateTitleNodes(),this.updateRadiusScale(i),this.contentGroup.translationX=this.centerX,this.contentGroup.translationY=this.centerY,this.highlightGroup.translationX=this.centerX,this.highlightGroup.translationY=this.centerY,this.backgroundGroup.translationX=this.centerX,this.backgroundGroup.translationY=this.centerY,this.labelGroup&&(this.labelGroup.translationX=this.centerX,this.labelGroup.translationY=this.centerY),e){const o=this.getTitleTranslationY(),a=e.node.computeBBox();e.node.visible=e.enabled&&isFinite(o)&&!this.bboxIntersectsSurroundingSeries(a,0,o),e.node.translationY=isFinite(o)?o:0}this.updateNodeMidPoint(),yield this.updateSelections(),yield this.updateNodes(t)})}updateTitleNodes(){var n,t;const{oldTitle:e}=this,{title:r}=this.properties;e!==r&&(e&&((n=this.labelGroup)==null||n.removeChild(e.node)),r&&(r.node.textBaseline="bottom",(t=this.labelGroup)==null||t.appendChild(r.node)),this.oldTitle=r)}updateNodeMidPoint(){this.nodeData.forEach(n=>{const t=n.innerRadius+(n.outerRadius-n.innerRadius)/2;n.midPoint={x:n.midCos*Math.max(0,t),y:n.midSin*Math.max(0,t)}})}updateSelections(){return le(this,null,function*(){yield this.updateGroupSelection(),this.updateInnerCircleSelection()})}updateGroupSelection(){return le(this,null,function*(){const{itemSelection:n,highlightSelection:t,calloutLabelSelection:e,sectorLabelSelection:r,innerLabelsSelection:i}=this,o=(a,s)=>{let l=this.nodeData;s&&(l=l.map(u=>Te(J({},u),{sectorFormat:J({},u.sectorFormat)}))),a.update(l,void 0,u=>this.getDatumId(u)),this.ctx.animationManager.isSkipped()&&a.cleanup()};o(n,!1),o(t,!0),e.update(this.nodeData,a=>{const s=new bn;s.tag=1,s.pointerEvents=1,a.appendChild(s);const l=new Mt;l.tag=2,l.pointerEvents=1,a.appendChild(l)}),r.update(this.nodeData,a=>{a.pointerEvents=1}),i.update(this.properties.innerLabels,a=>{a.pointerEvents=1})})}updateInnerCircleSelection(){const{innerCircle:n}=this.properties;let t=0;const e=this.getInnerRadius();if(e>0){const i=Math.min(e,this.getOuterRadius());t=Math.ceil(i*2+1)}const r=n?[{radius:t}]:[];this.innerCircleSelection.update(r)}updateNodes(n){return le(this,null,function*(){const t=this.ctx.highlightManager.getActiveHighlight(),e=this.seriesItemEnabled.indexOf(!0)>=0;this.rootGroup.visible=e,this.backgroundGroup.visible=e,this.contentGroup.visible=e,this.highlightGroup.visible=e&&(t==null?void 0:t.series)===this,this.labelGroup&&(this.labelGroup.visible=e),this.contentGroup.opacity=this.getOpacity(),this.innerCircleSelection.each((i,{radius:o})=>{var a,s;i.setProperties({fill:(a=this.properties.innerCircle)==null?void 0:a.fill,opacity:(s=this.properties.innerCircle)==null?void 0:s.fillOpacity,size:o})});const r=(i,o,a,s)=>{const l=this.getSectorFormat(o.datum,o.itemId,s);o.sectorFormat.fill=l.fill,o.sectorFormat.stroke=l.stroke;const u=this.ctx.animationManager.isSkipped();u&&(i.startAngle=o.startAngle,i.endAngle=o.endAngle,i.innerRadius=o.innerRadius,i.outerRadius=o.outerRadius),(s||u)&&(i.fill=l.fill,i.stroke=l.stroke),i.strokeWidth=l.strokeWidth,i.fillOpacity=l.fillOpacity,i.strokeOpacity=this.properties.strokeOpacity,i.lineDash=this.properties.lineDash,i.lineDashOffset=this.properties.lineDashOffset,i.fillShadow=this.properties.shadow,i.inset=this.properties.sectorSpacing!=null?(this.properties.sectorSpacing+(l.stroke!=null?l.strokeWidth:0))/2:0,i.lineJoin=this.properties.sectorSpacing!=null?"miter":"round"};this.itemSelection.each((i,o,a)=>r(i,o,a,!1)),this.highlightSelection.each((i,o,a)=>{const s=(t==null?void 0:t.series)===this&&i.datum.itemId===t.itemId;r(i,o,a,!0),i.visible=s}),this.updateCalloutLineNodes(),this.updateCalloutLabelNodes(n),this.updateSectorLabelNodes(),this.updateInnerLabelNodes(),this.updateZerosumRings(),this.animationState.transition("update")})}updateCalloutLineNodes(){var n;const{calloutLine:t}=this.properties,e=t.length,r=t.strokeWidth,i=(n=t.colors)!=null?n:this.properties.strokes,{offset:o}=this.properties.calloutLabel;this.calloutLabelSelection.selectByTag(1).forEach((a,s)=>{const l=a.datum,{calloutLabel:u,outerRadius:c}=l;if(u!=null&&u.text&&!u.hidden&&c!==0){a.visible=!0,a.strokeWidth=r,a.stroke=i[s%i.length],a.fill=void 0;const d=l.midCos*c,p=l.midSin*c;let h=l.midCos*(c+e),f=l.midSin*(c+e);if((u.collisionTextAlign||u.collisionOffsetY!==0)&&u.box!=null){const g=u.box;let y=h,m=f;h<g.x?y=g.x:h>g.x+g.width&&(y=g.x+g.width),f<g.y?m=g.y:f>g.y+g.height&&(m=g.y+g.height);const C=y-h,S=m-f,w=Math.sqrt(Math.pow(C,2)+Math.pow(S,2)),_=w-o;_>0&&(h=h+C*_/w,f=f+S*_/w)}a.x1=d,a.y1=p,a.x2=h,a.y2=f}else a.visible=!1})}getLabelOverflow(n,t,e){const r=e.x-this.centerX,i=e.x+e.width-this.centerX,o=e.y-this.centerY,a=e.y+e.height-this.centerY,s=1;let l=1;t.x+s<r?l=(t.x+t.width-r)/t.width:t.x+t.width-s>i&&(l=(i-t.x)/t.width);const u=t.y+s<o||t.y+t.height-s>a,c=l===1?n.length:Math.floor(n.length*l)-1,d=this.bboxIntersectsSurroundingSeries(t);return{textLength:c,hasVerticalOverflow:u,hasSurroundingSeriesOverflow:d}}bboxIntersectsSurroundingSeries(n,t=0,e=0){const{surroundingRadius:r}=this;if(r==null)return!1;const i=[{x:n.x+t,y:n.y+e},{x:n.x+n.width+t,y:n.y+e},{x:n.x+n.width+t,y:n.y+n.height+e},{x:n.x+t,y:n.y+n.height+e}],o=pt(r,2);return i.some(a=>pt(a.x,2)+pt(a.y,2)>o)}computeCalloutLabelCollisionOffsets(){const{radiusScale:n}=this,{calloutLabel:t,calloutLine:e}=this.properties,{offset:r,minSpacing:i}=t,o=n.convert(0),a=m=>!m.calloutLabel||m.outerRadius===0,s=this.nodeData,l=this.nodeData.filter(m=>!a(m));if(l.forEach(m=>{const C=m.calloutLabel;C!=null&&(C.hidden=!1,C.collisionTextAlign=void 0,C.collisionOffsetY=0)}),l.length<=1)return;const u=l.filter(m=>m.midCos<0).sort((m,C)=>m.midSin-C.midSin),c=l.filter(m=>m.midCos>=0).sort((m,C)=>m.midSin-C.midSin),d=l.filter(m=>{var C;return m.midSin<0&&((C=m.calloutLabel)==null?void 0:C.textAlign)==="center"}).sort((m,C)=>m.midCos-C.midCos),p=l.filter(m=>{var C;return m.midSin>=0&&((C=m.calloutLabel)==null?void 0:C.textAlign)==="center"}).sort((m,C)=>m.midCos-C.midCos),h=new Mt,f=m=>{var C;const S=m.calloutLabel;if(S==null)return new nt(0,0,0,0);const w=m.outerRadius+e.length+r,_=m.midCos*w,x=m.midSin*w+S.collisionOffsetY;return h.text=S.text,h.x=_,h.y=x,h.setFont(this.properties.calloutLabel),h.setAlign({textAlign:(C=S.collisionTextAlign)!=null?C:S.textAlign,textBaseline:S.textBaseline}),h.computeBBox()},v=(m,C,S)=>{const w=f(m).grow(i/2),_=f(C).grow(i/2);if(w.x<_.x+_.width&&w.x+w.width>_.x&&(S==="to-top"?w.y<_.y+_.height:w.y+w.height>_.y)){const b=S==="to-top"?w.y-_.y-_.height:w.y+w.height-_.y;C.calloutLabel.collisionOffsetY=b}},g=m=>{const C=m.slice().sort((w,_)=>Math.abs(w.midSin)-Math.abs(_.midSin))[0],S=m.indexOf(C);for(let w=S-1;w>=0;w--){const _=m[w+1],x=m[w];v(_,x,"to-top")}for(let w=S+1;w<m.length;w++){const _=m[w-1],x=m[w];v(_,x,"to-bottom")}},y=m=>{const C=l.some(O=>O.calloutLabel.collisionOffsetY!==0),S=m.map(O=>f(O)),w=S.map(O=>O.clone().grow(i/2));let _=!1;for(let O=0;O<w.length&&!_;O++){const P=w[O];for(let D=O+1;D<m.length;D++){const N=w[D];if(P.collidesBBox(N)){_=!0;break}}}const x=s.map(O=>{const{startAngle:P,endAngle:D,outerRadius:N}=O;return{startAngle:P,endAngle:D,innerRadius:o,outerRadius:N}}),b=S.some(O=>x.some(P=>cte(O,P)));!_&&!C&&!b||m.filter(O=>O.calloutLabel.textAlign==="center").forEach(O=>{const P=O.calloutLabel;O.midCos<0?P.collisionTextAlign="right":O.midCos>0?P.collisionTextAlign="left":P.collisionTextAlign="center"})};g(u),g(c),y(d),y(p)}updateCalloutLabelNodes(n){const{radiusScale:t}=this,{calloutLabel:e,calloutLine:r}=this.properties,i=r.length,{offset:o,color:a}=e,s=new Mt;this.calloutLabelSelection.selectByTag(2).forEach(l=>{var u;const{datum:c}=l,d=c.calloutLabel,p=t.convert(c.radius),h=Math.max(0,p);if(!(d!=null&&d.text)||h===0||d.hidden){l.visible=!1;return}const f=h+i+o,v=c.midCos*f,g=c.midSin*f+d.collisionOffsetY,y={textAlign:(u=d.collisionTextAlign)!=null?u:d.textAlign,textBaseline:d.textBaseline};s.text=d.text,s.x=v,s.y=g,s.setFont(this.properties.calloutLabel),s.setAlign(y);const m=s.computeBBox();let C=d.text,S=!0;if(e.avoidCollisions){const{textLength:w,hasVerticalOverflow:_}=this.getLabelOverflow(d.text,m,n);C=d.text.length===w?d.text:`${d.text.substring(0,w)}…`,S=!_}l.text=C,l.x=v,l.y=g,l.setFont(this.properties.calloutLabel),l.setAlign(y),l.fill=a,l.visible=S})}computeLabelsBBox(n,t){return le(this,null,function*(){const{calloutLabel:e,calloutLine:r}=this.properties,i=r.length,{offset:o,maxCollisionOffset:a,minSpacing:s}=e;if(!e.avoidCollisions)return null;yield this.maybeRefreshNodeData(),this.updateRadiusScale(!1),this.computeCalloutLabelCollisionOffsets();const l=[],u=new Mt;let c;const{title:d}=this.properties;if(d!=null&&d.text&&d.enabled){const p=this.getTitleTranslationY();isFinite(p)&&(u.text=d.text,u.x=0,u.y=p,u.setFont(d),u.setAlign({textBaseline:"bottom",textAlign:"center"}),c=u.computeBBox(),l.push(c))}return this.nodeData.forEach(p=>{var h;const f=p.calloutLabel;if(!f||p.outerRadius===0)return null;const v=p.outerRadius+i+o,g=p.midCos*v,y=p.midSin*v+f.collisionOffsetY;u.text=f.text,u.x=g,u.y=y,u.setFont(this.properties.calloutLabel),u.setAlign({textAlign:(h=f.collisionTextAlign)!=null?h:f.textAlign,textBaseline:f.textBaseline});const m=u.computeBBox();if(f.box=m,Math.abs(f.collisionOffsetY)>a){f.hidden=!0;return}if(c){const C=t.y-this.centerY,S=new nt(c.x-s,C,c.width+2*s,c.y+c.height+s-C);if(m.collidesBBox(S)){f.hidden=!0;return}}if(n.hideWhenNecessary){const{textLength:C,hasVerticalOverflow:S,hasSurroundingSeriesOverflow:w}=this.getLabelOverflow(f.text,m,t),_=f.text.length>2&&C<2;if(S||_||w){f.hidden=!0;return}}f.hidden=!1,l.push(m)}),l.length===0?null:nt.merge(l)})}updateSectorLabelNodes(){const{radiusScale:n}=this,t=n.convert(0),{fontSize:e,fontStyle:r,fontWeight:i,fontFamily:o,positionOffset:a,positionRatio:s,color:l}=this.properties.sectorLabel;this.sectorLabelSelection.each((u,c)=>{const{sectorLabel:d,outerRadius:p}=c;let h=!1;if(d&&p!==0){const f=t*(1-s)+p*s+a;u.fill=l,u.fontStyle=r,u.fontWeight=i,u.fontSize=e,u.fontFamily=o,u.text=d.text,u.x=c.midCos*f,u.y=c.midSin*f,u.textAlign="center",u.textBaseline="middle";const v=u.computeBBox(),g=[[v.x,v.y],[v.x+v.width,v.y],[v.x+v.width,v.y+v.height],[v.x,v.y+v.height]],{startAngle:y,endAngle:m}=c,C={startAngle:y,endAngle:m,innerRadius:t,outerRadius:p};g.every(([S,w])=>GB(S,w,C))&&(h=!0)}u.visible=h})}updateInnerLabelNodes(){const n=[],t=[];this.innerLabelsSelection.each((c,d)=>{const{fontStyle:p,fontWeight:h,fontSize:f,fontFamily:v,color:g}=d;c.fontStyle=p,c.fontWeight=h,c.fontSize=f,c.fontFamily=v,c.text=d.text,c.x=0,c.y=0,c.fill=g,c.textAlign="center",c.textBaseline="alphabetic",n.push(c.computeBBox()),t.push(d.margin)});const e=c=>c===0?0:t[c],r=c=>c===t.length-1?0:t[c],i=n.reduce((c,d,p)=>c+d.height+e(p)+r(p),0),o=Math.max(...n.map(c=>c.width)),a=this.getInnerRadius(),l=Math.sqrt(Math.pow(o/2,2)+Math.pow(i/2,2))<=(a>0?a:this.getOuterRadius()),u=[];for(let c=0,d=-i/2;c<n.length;c++){const h=n[c].height+d+e(c);u.push(h),d=h+r(c)}this.innerLabelsSelection.each((c,d,p)=>{c.y=u[p],c.visible=l})}updateZerosumRings(){this.zerosumOuterRing.size=this.getOuterRadius()*2,this.zerosumInnerRing.size=this.getInnerRadius()*2}getDatumLegendName(n){const{angleKey:t,calloutLabelKey:e,sectorLabelKey:r,legendItemKey:i}=this.properties,{sectorLabel:o,calloutLabel:a,legendItem:s}=n;if(i&&s!==void 0)return s.text;if(e&&e!==t&&(a==null?void 0:a.text)!==void 0)return a.text;if(r&&r!==t&&(o==null?void 0:o.text)!==void 0)return o.text}getTooltipHtml(n){var t;if(!this.properties.isValid())return"";const{datum:e,angleValue:r,sectorFormat:{fill:i}}=n,o=Sr((t=this.properties.title)==null?void 0:t.text),a=Nt(r)?YT(r):String(r),s=this.getDatumLegendName(n);return this.properties.tooltip.toTooltipHtml({title:o??s,content:o&&s?`${s}: ${a}`:a,backgroundColor:i},{datum:e,title:o,color:i,seriesId:this.id,angleKey:this.properties.angleKey,angleName:this.properties.angleName,radiusKey:this.properties.radiusKey,radiusName:this.properties.radiusName,calloutLabelKey:this.properties.calloutLabelKey,calloutLabelName:this.properties.calloutLabelName,sectorLabelKey:this.properties.sectorLabelKey,sectorLabelName:this.properties.sectorLabelName})}getLegendData(n){var t,e,r,i,o;const{processedData:a,dataModel:s}=this;if(!s||!(a!=null&&a.data.length)||!this.properties.isValid()||n!=="category")return[];const{angleKey:l,calloutLabelKey:u,sectorLabelKey:c,legendItemKey:d}=this.properties;if(!d&&(!u||u===l)&&(!c||c===l))return[];const{calloutLabelIdx:p,sectorLabelIdx:h,legendItemIdx:f}=this.getProcessedDataIndexes(s),v=((t=this.properties.title)==null?void 0:t.showInLegend)&&this.properties.title.text,g=[];for(let y=0;y<a.data.length;y++){const{datum:m,values:C}=a.data[y],S=[];v&&S.push(v);const w=this.getLabels(m,2*Math.PI,2*Math.PI,!1,C[p],C[h],C[f]);if(d&&w.legendItem!==void 0?S.push(w.legendItem.text):u&&u!==l&&((e=w.calloutLabel)==null?void 0:e.text)!==void 0?S.push((r=w.calloutLabel)==null?void 0:r.text):c&&c!==l&&((i=w.sectorLabel)==null?void 0:i.text)!==void 0&&S.push((o=w.sectorLabel)==null?void 0:o.text),S.length===0)continue;const _=this.getSectorFormat(m,y,!1);g.push({legendType:"category",id:this.id,itemId:y,seriesId:this.id,enabled:this.seriesItemEnabled[y],label:{text:S.join(" - ")},marker:{fill:_.fill,stroke:_.stroke,fillOpacity:this.properties.fillOpacity,strokeOpacity:this.properties.strokeOpacity,strokeWidth:this.properties.strokeWidth},legendItemName:d!=null?m[d]:void 0})}return g}onLegendItemClick(n){const{enabled:t,itemId:e,series:r,legendItemName:i}=n;r.id===this.id?this.toggleSeriesItem(e,t):i!=null&&this.toggleOtherSeriesItems(i,t)}toggleSeriesItem(n,t){this.seriesItemEnabled[n]=t,this.nodeDataRefresh=!0}toggleOtherSeriesItems(n,t){var e;if(!this.properties.legendItemKey||!this.dataModel)return;const r=this.dataModel.resolveProcessedDataIndexById(this,"legendItemValue").index;(e=this.processedData)==null||e.data.forEach(({values:i},o)=>{i[r]===n&&this.toggleSeriesItem(o,t)})}animateEmptyUpdateReady(n){const{animationManager:t}=this.ctx,e=cg(!0,this.properties.rotation,this.radiusScale,this.previousRadiusScale);xr(this.id,"nodes",t,[this.itemSelection,this.highlightSelection],e.nodes),xr(this.id,"innerCircle",t,[this.innerCircleSelection],e.innerCircle),$t(this,"callout",t,[this.calloutLabelSelection]),$t(this,"sector",t,[this.sectorLabelSelection]),$t(this,"inner",t,[this.innerLabelsSelection]),this.previousRadiusScale.range=this.radiusScale.range}animateWaitingUpdateReady(){var n,t,e,r,i,o;const{itemSelection:a,highlightSelection:s,processedData:l,radiusScale:u,previousRadiusScale:c}=this,{animationManager:d}=this.ctx,p=(n=l==null?void 0:l.reduced)==null?void 0:n.diff;this.ctx.animationManager.stopByAnimationGroupId(this.id);const h=((t=p==null?void 0:p.moved.length)!=null?t:0)===0&&(p==null?void 0:p.addedIndices.every(y=>!p.removedIndices.includes(y))),f=((e=l==null?void 0:l.defs.keys.length)!=null?e:0)>0,v=(o=(i=(r=l==null?void 0:l.reduced)==null?void 0:r.animationValidation)==null?void 0:i.uniqueKeys)!=null?o:!0;(!h||!f||!v)&&this.ctx.animationManager.skipCurrentBatch();const g=cg(!1,this.properties.rotation,u,c);xr(this.id,"nodes",d,[a,s],g.nodes,(y,m)=>this.getDatumId(m),p),xr(this.id,"innerCircle",d,[this.innerCircleSelection],g.innerCircle),$t(this,"callout",this.ctx.animationManager,[this.calloutLabelSelection]),$t(this,"sector",this.ctx.animationManager,[this.sectorLabelSelection]),$t(this,"inner",this.ctx.animationManager,[this.innerLabelsSelection]),this.previousRadiusScale.range=this.radiusScale.range}animateClearingUpdateEmpty(){const{itemSelection:n,highlightSelection:t,radiusScale:e,previousRadiusScale:r}=this,{animationManager:i}=this.ctx,o=cg(!1,this.properties.rotation,e,r);xr(this.id,"nodes",i,[n,t],o.nodes),xr(this.id,"innerCircle",i,[this.innerCircleSelection],o.innerCircle),jh(this,"callout",this.ctx.animationManager,[this.calloutLabelSelection]),jh(this,"sector",this.ctx.animationManager,[this.sectorLabelSelection]),jh(this,"inner",this.ctx.animationManager,[this.innerLabelsSelection]),this.previousRadiusScale.range=this.radiusScale.range}getDatumIdFromData(n){var t,e,r;const{calloutLabelKey:i,sectorLabelKey:o,legendItemKey:a}=this.properties;if((r=(e=(t=this.processedData)==null?void 0:t.reduced)==null?void 0:e.animationValidation)!=null&&r.uniqueKeys){if(a)return n[a];if(i)return n[i];if(o)return n[o]}}getDatumId(n){var t;const{index:e}=n;return(t=this.getDatumIdFromData(n.datum))!=null?t:`${e}`}onDataChange(){this.processSeriesItemEnabled()}};hP.className="DonutSeries";hP.type="donut";var hte={series:{__extends__:_c,title:{enabled:!0,fontStyle:void 0,fontWeight:"normal",fontSize:14,fontFamily:_n,color:og,spacing:5},calloutLabel:{enabled:!0,fontStyle:void 0,fontWeight:void 0,fontSize:12,fontFamily:_n,color:It,offset:3,minAngle:0},sectorLabel:{enabled:!0,fontStyle:void 0,fontWeight:"normal",fontSize:12,fontFamily:_n,color:ty,positionOffset:0,positionRatio:.5},calloutLine:{length:10,strokeWidth:2},fillOpacity:1,strokeOpacity:1,strokeWidth:1,lineDash:[0],lineDashOffset:0,rotation:0,shadow:{enabled:!1,color:ry,xOffset:3,yOffset:3,blur:5},innerLabels:{fontStyle:void 0,fontWeight:void 0,fontSize:12,fontFamily:_n,color:It,margin:2},__BACKGROUND_COLOR_DO_NOT_USE:YS}},fte=({takeColors:n,colorsCount:t,userPalette:e})=>{const{fills:r,strokes:i}=n(t);return{fills:r,strokes:e?i:[],calloutLine:{colors:i}}},q3e={type:"series",optionsKey:"series[]",packageType:"community",chartTypes:["polar"],identifier:"donut",instanceConstructor:hP,seriesDefaults:{},themeTemplate:hte,paletteFactory:fte},vte=class extends Ar{constructor(){super(...arguments),this.showInLegend=!1}};R([M(qe)],vte.prototype,"showInLegend",2);var jB=class extends gn{set(n,t){return super.set(n)}};R([wf("Use a Donut Series instead"),M(Ee,{optional:!0})],jB.prototype,"text",2);R([wf("Use a Donut Series instead"),M(sr,{optional:!0})],jB.prototype,"margin",2);var $B=class extends nr{};R([wf("Use a Donut Series instead"),M(Tt,{optional:!0})],$B.prototype,"fill",2);R([wf("Use a Donut Series instead"),M(Ut,{optional:!0})],$B.prototype,"fillOpacity",2);var py=class extends gn{constructor(){super(...arguments),this.offset=3,this.minAngle=0,this.minSpacing=4,this.maxCollisionOffset=50,this.avoidCollisions=!0}};R([M(xe)],py.prototype,"offset",2);R([M(dp)],py.prototype,"minAngle",2);R([M(xe)],py.prototype,"minSpacing",2);R([M(xe)],py.prototype,"maxCollisionOffset",2);R([M(qe)],py.prototype,"avoidCollisions",2);var WB=class extends gn{constructor(){super(...arguments),this.positionOffset=0,this.positionRatio=.5}};R([M(sr)],WB.prototype,"positionOffset",2);R([M(Ut)],WB.prototype,"positionRatio",2);var fP=class extends nr{constructor(){super(...arguments),this.length=10,this.strokeWidth=1}};R([M(ls,{optional:!0})],fP.prototype,"colors",2);R([M(xe)],fP.prototype,"length",2);R([M(xe)],fP.prototype,"strokeWidth",2);var bt=class extends Js{constructor(){super(...arguments),this.fills=Object.values(Tl),this.strokes=Object.values(Bh),this.fillOpacity=1,this.strokeOpacity=1,this.lineDash=[0],this.lineDashOffset=0,this.rotation=0,this.outerRadiusOffset=0,this.outerRadiusRatio=1,this.strokeWidth=1,this.sectorSpacing=void 0,this.innerLabels=new Qw(jB),this.title=new vte,this.innerCircle=new $B,this.shadow=new tl,this.calloutLabel=new py,this.sectorLabel=new WB,this.calloutLine=new fP,this.tooltip=new Ro,this.__BACKGROUND_COLOR_DO_NOT_USE=void 0}};R([M(Ee)],bt.prototype,"angleKey",2);R([M(Ee,{optional:!0})],bt.prototype,"angleName",2);R([M(Ee,{optional:!0})],bt.prototype,"radiusKey",2);R([M(Ee,{optional:!0})],bt.prototype,"radiusName",2);R([M(xe,{optional:!0})],bt.prototype,"radiusMin",2);R([M(xe,{optional:!0})],bt.prototype,"radiusMax",2);R([M(Ee,{optional:!0})],bt.prototype,"calloutLabelKey",2);R([M(Ee,{optional:!0})],bt.prototype,"calloutLabelName",2);R([M(Ee,{optional:!0})],bt.prototype,"sectorLabelKey",2);R([M(Ee,{optional:!0})],bt.prototype,"sectorLabelName",2);R([M(Ee,{optional:!0})],bt.prototype,"legendItemKey",2);R([M(ls)],bt.prototype,"fills",2);R([M(ls)],bt.prototype,"strokes",2);R([M(Ut)],bt.prototype,"fillOpacity",2);R([M(Ut)],bt.prototype,"strokeOpacity",2);R([M(bc)],bt.prototype,"lineDash",2);R([M(xe)],bt.prototype,"lineDashOffset",2);R([M(ss,{optional:!0})],bt.prototype,"formatter",2);R([M(dp)],bt.prototype,"rotation",2);R([M(sr)],bt.prototype,"outerRadiusOffset",2);R([M(Ut)],bt.prototype,"outerRadiusRatio",2);R([wf("Use a Donut Series instead"),M(sr,{optional:!0})],bt.prototype,"innerRadiusOffset",2);R([wf("Use a Donut Series instead"),M(Ut,{optional:!0})],bt.prototype,"innerRadiusRatio",2);R([M(xe)],bt.prototype,"strokeWidth",2);R([M(xe,{optional:!0})],bt.prototype,"sectorSpacing",2);R([M($V)],bt.prototype,"innerLabels",2);R([M(je)],bt.prototype,"title",2);R([M(je)],bt.prototype,"innerCircle",2);R([M(je)],bt.prototype,"shadow",2);R([M(je)],bt.prototype,"calloutLabel",2);R([M(je)],bt.prototype,"sectorLabel",2);R([M(je)],bt.prototype,"calloutLine",2);R([M(je)],bt.prototype,"tooltip",2);R([M(Ee,{optional:!0})],bt.prototype,"__BACKGROUND_COLOR_DO_NOT_USE",2);var Z3e=class extends c0{constructor(n,t,e,r){super(n,t,e,r),this.angleKey=r.properties.angleKey,this.radiusKey=r.properties.radiusKey,this.calloutLabelKey=r.properties.calloutLabelKey,this.sectorLabelKey=r.properties.sectorLabelKey}},vP=class extends pP{constructor(n){super({moduleCtx:n,useLabelLayer:!0,animationResetFns:{item:pte,label:Ac}}),this.properties=new bt,this.previousRadiusScale=new Zl,this.radiusScale=new Zl,this.backgroundGroup=this.rootGroup.appendChild(new Ve({name:`${this.id}-background`,layer:!0,zIndex:0})),this.zerosumRingsGroup=this.backgroundGroup.appendChild(new Ve({name:`${this.id}-zerosumRings`})),this.zerosumOuterRing=this.zerosumRingsGroup.appendChild(new ql),this.zerosumInnerRing=this.zerosumRingsGroup.appendChild(new ql),this.innerCircleGroup=this.backgroundGroup.appendChild(new Ve({name:`${this.id}-innerCircle`})),this.nodeData=[],this.seriesItemEnabled=[],this.surroundingRadius=void 0,this.NodeClickEvent=Z3e,this.angleScale=new Zl,this.angleScale.domain=[0,1],this.angleScale.range=[-Math.PI,Math.PI].map(i=>i+Math.PI/2);const t=new Ve({name:"pieCalloutLabels"}),e=new Ve({name:"pieSectorLabels"}),r=new Ve({name:"innerLabels"});this.labelGroup.append(t),this.labelGroup.append(e),this.labelGroup.append(r),this.calloutLabelSelection=Er.select(t,Ve),this.sectorLabelSelection=Er.select(e,Mt),this.innerLabelsSelection=Er.select(r,Mt),this.innerCircleSelection=Er.select(this.innerCircleGroup,ql);for(const i of[this.zerosumInnerRing,this.zerosumOuterRing])i.fillOpacity=0,i.stroke=this.properties.calloutLabel.color,i.strokeWidth=1,i.strokeOpacity=1}addChartEventListeners(){var n;this.destroyFns.push((n=this.ctx.chartEventManager)==null?void 0:n.addListener("legend-item-click",t=>this.onLegendItemClick(t)))}visibleChanged(){this.processSeriesItemEnabled()}get visible(){return this.seriesItemEnabled.length?this.seriesItemEnabled.some(n=>n):super.visible}processSeriesItemEnabled(){var n;const{data:t,visible:e}=this;this.seriesItemEnabled=(n=t==null?void 0:t.map(()=>e))!=null?n:[]}nodeFactory(){return new ds}getSeriesDomain(n){return n==="x"?this.angleScale.domain:this.radiusScale.domain}processData(n){return le(this,null,function*(){var t,e,r,i,o;if(this.data==null||!this.properties.isValid())return;let{data:a}=this;const{seriesItemEnabled:s}=this,{angleKey:l,radiusKey:u,calloutLabelKey:c,sectorLabelKey:d,legendItemKey:p}=this.properties,h=!this.ctx.animationManager.isSkipped(),f=[],v=[];p?f.push(ni(this,p,!1,{id:"legendItemKey"})):c?f.push(ni(this,c,!1,{id:"calloutLabelKey"})):d&&f.push(ni(this,d,!1,{id:"sectorLabelKey"})),u&&v.push(vB(this,u,{id:"radiusValue",min:(t=this.properties.radiusMin)!=null?t:0,max:this.properties.radiusMax}),Qt(this,u,!0,{id:"radiusRaw"}),tw(this,{id:"radiusValue"},[0,1],1,(e=this.properties.radiusMin)!=null?e:0,this.properties.radiusMax)),c&&v.push(Qt(this,c,!1,{id:"calloutLabelValue"})),d&&v.push(Qt(this,d,!1,{id:"sectorLabelValue"})),p&&v.push(Qt(this,p,!1,{id:"legendItemValue"})),h&&this.processedData&&f.length>0&&v.push(Of(this.processedData)),v.push(uy(this)),a=a.map((g,y)=>s[y]?g:Te(J({},g),{[l]:0})),yield this.requestDataModel(n,a,{props:[...f,gB(this,l,!0,{id:"angleValue",onlyPositive:!0}),Qt(this,l,!0,{id:"angleRaw"}),tw(this,{id:"angleValue"},[0,1],0,0),...v]});for(const g of(o=(i=(r=this.processedData)==null?void 0:r.defs)==null?void 0:i.values)!=null?o:[]){const{id:y,missing:m,property:C}=g,S=oB(this,m);y!=="angleRaw"&&S>0&&Oe.warnOnce(`no value was found for the key '${String(C)}' on ${S} data element${S>1?"s":""}`)}this.animationState.transition("updateData")})}maybeRefreshNodeData(){return le(this,null,function*(){if(!this.nodeDataRefresh)return;const[{nodeData:n=[]}={}]=yield this.createNodeData();this.nodeData=n,this.nodeDataRefresh=!1})}getProcessedDataIndexes(n){const t=n.resolveProcessedDataIndexById(this,"angleValue").index,e=this.properties.radiusKey?n.resolveProcessedDataIndexById(this,"radiusValue").index:-1,r=this.properties.calloutLabelKey?n.resolveProcessedDataIndexById(this,"calloutLabelValue").index:-1,i=this.properties.sectorLabelKey?n.resolveProcessedDataIndexById(this,"sectorLabelValue").index:-1,o=this.properties.legendItemKey?n.resolveProcessedDataIndexById(this,"legendItemValue").index:-1;return{angleIdx:t,radiusIdx:e,calloutLabelIdx:r,sectorLabelIdx:i,legendItemIdx:o}}createNodeData(){return le(this,null,function*(){const{id:n,processedData:t,dataModel:e,angleScale:r}=this,{rotation:i}=this.properties;if(!t||!e||t.type!=="ungrouped")return[];const{angleIdx:o,radiusIdx:a,calloutLabelIdx:s,sectorLabelIdx:l,legendItemIdx:u}=this.getProcessedDataIndexes(e);let c=0,d=0;const p=t.data.map((f,v)=>{var g;const{datum:y,values:m}=f,C=m[o],S=r.convert(c)+Ci(i);c=C,d+=C;const w=r.convert(c)+Ci(i),_=Math.abs(w-S),x=S+_/2,b=m[o+1],O=a>=0&&(g=m[a])!=null?g:1,P=a>=0?m[a+1]:void 0,D=u>=0?m[u]:void 0,N=this.getLabels(y,x,_,!0,m[s],m[l],D),L=this.getSectorFormat(y,v,!1);return J({itemId:v,series:this,datum:y,index:v,angleValue:b,midAngle:x,midCos:Math.cos(x),midSin:Math.sin(x),startAngle:S,endAngle:w,sectorFormat:L,radiusValue:P,radius:O,innerRadius:Math.max(this.radiusScale.convert(0),0),outerRadius:Math.max(this.radiusScale.convert(O),0),legendItemValue:D},N)});this.zerosumOuterRing.visible=d===0;const{innerRadiusRatio:h=1}=this.properties;return this.zerosumInnerRing.visible=d===0&&h!==1&&h>0,[{itemId:n,nodeData:p,labelData:p}]})}getLabels(n,t,e,r,i,o,a){const{calloutLabel:s,sectorLabel:l,legendItemKey:u}=this.properties,c=!r||s.enabled?this.properties.calloutLabelKey:void 0,d=!r||l.enabled?this.properties.sectorLabelKey:void 0;if(!c&&!d&&!u)return{};const p={datum:n,angleKey:this.properties.angleKey,angleName:this.properties.angleName,radiusKey:this.properties.radiusKey,radiusName:this.properties.radiusName,calloutLabelKey:this.properties.calloutLabelKey,calloutLabelName:this.properties.calloutLabelName,sectorLabelKey:this.properties.sectorLabelKey,sectorLabelName:this.properties.sectorLabelName,legendItemKey:this.properties.legendItemKey},h={};return c&&e>Ci(s.minAngle)&&(h.calloutLabel=Te(J({},this.getTextAlignment(t)),{text:this.getLabelText(s,Te(J({},p),{value:i})),hidden:!1,collisionTextAlign:void 0,collisionOffsetY:0,box:void 0})),d&&(h.sectorLabel={text:this.getLabelText(l,Te(J({},p),{value:o}))}),u!=null&&a!=null&&(h.legendItem={key:u,text:a}),h}getTextAlignment(n){const t=[{textAlign:"center",textBaseline:"bottom"},{textAlign:"left",textBaseline:"middle"},{textAlign:"center",textBaseline:"hanging"},{textAlign:"right",textBaseline:"middle"}],e=qS(n),r=-3*Math.PI/4,i=e-r,o=Math.floor(i/(Math.PI/2)),a=XT(o,t.length);return t[a]}getSectorFormat(n,t,e){var r,i,o,a,s;const{callbackCache:l,highlightManager:u}=this.ctx,{angleKey:c,radiusKey:d,fills:p,strokes:h,formatter:f,sectorSpacing:v,__BACKGROUND_COLOR_DO_NOT_USE:g}=this.properties,y=u.getActiveHighlight(),m=e&&(y==null?void 0:y.series)===this&&t===y.itemId,{fill:C,fillOpacity:S,stroke:w,strokeWidth:_,strokeOpacity:x}=mt(m&&this.properties.highlightStyle.item,{fill:p.length>0?p[t%p.length]:void 0,fillOpacity:this.properties.fillOpacity,stroke:v!=null?h.length>0?h[t%h.length]:void 0:h.length>0?h[t%h.length]:g,strokeWidth:this.getStrokeWidth(this.properties.strokeWidth),strokeOpacity:this.getOpacity()});let b;return f&&(b=l.call(f,{datum:n,angleKey:c,radiusKey:d,fill:C,stroke:w,fills:p,strokes:h,strokeWidth:_,highlighted:m,seriesId:this.id})),{fill:(r=b==null?void 0:b.fill)!=null?r:C,fillOpacity:(i=b==null?void 0:b.fillOpacity)!=null?i:S,stroke:(o=b==null?void 0:b.stroke)!=null?o:w,strokeWidth:(a=b==null?void 0:b.strokeWidth)!=null?a:_,strokeOpacity:(s=b==null?void 0:b.strokeOpacity)!=null?s:x}}getInnerRadius(){const{radius:n}=this,{innerRadiusRatio:t=1,innerRadiusOffset:e=0}=this.properties,r=n*t+e;return r===n||r<0?0:r}getOuterRadius(){return Math.max(this.radius*this.properties.outerRadiusRatio+this.properties.outerRadiusOffset,0)}updateRadiusScale(n){const t=[this.getInnerRadius(),this.getOuterRadius()];this.radiusScale.range=t,n&&(this.previousRadiusScale.range=t),this.nodeData=this.nodeData.map(e=>{var r=e,{radius:i}=r,o=En(r,["radius"]);return Te(J({},o),{radius:i,innerRadius:Math.max(this.radiusScale.convert(0),0),outerRadius:Math.max(this.radiusScale.convert(i),0)})})}getTitleTranslationY(){var n,t;const e=Math.max(0,this.radiusScale.range[1]);if(e===0)return NaN;const i=2+((t=(n=this.properties.title)==null?void 0:n.spacing)!=null?t:0),o=Math.max(0,-e);return-e-i-o}update(n){return le(this,arguments,function*({seriesRect:t}){const{title:e}=this.properties,r={seriesRectWidth:t==null?void 0:t.width,seriesRectHeight:t==null?void 0:t.height},i=da(this.nodeDataDependencies,r)!=null;if(i&&(this._nodeDataDependencies=r),yield this.maybeRefreshNodeData(),this.updateTitleNodes(),this.updateRadiusScale(i),this.contentGroup.translationX=this.centerX,this.contentGroup.translationY=this.centerY,this.highlightGroup.translationX=this.centerX,this.highlightGroup.translationY=this.centerY,this.backgroundGroup.translationX=this.centerX,this.backgroundGroup.translationY=this.centerY,this.labelGroup&&(this.labelGroup.translationX=this.centerX,this.labelGroup.translationY=this.centerY),e){const o=this.getTitleTranslationY(),a=e.node.computeBBox();e.node.visible=e.enabled&&isFinite(o)&&!this.bboxIntersectsSurroundingSeries(a,0,o),e.node.translationY=isFinite(o)?o:0}this.updateNodeMidPoint(),yield this.updateSelections(),yield this.updateNodes(t)})}updateTitleNodes(){var n,t;const{oldTitle:e}=this,{title:r}=this.properties;e!==r&&(e&&((n=this.labelGroup)==null||n.removeChild(e.node)),r&&(r.node.textBaseline="bottom",(t=this.labelGroup)==null||t.appendChild(r.node)),this.oldTitle=r)}updateNodeMidPoint(){this.nodeData.forEach(n=>{const t=n.innerRadius+(n.outerRadius-n.innerRadius)/2;n.midPoint={x:n.midCos*Math.max(0,t),y:n.midSin*Math.max(0,t)}})}updateSelections(){return le(this,null,function*(){yield this.updateGroupSelection(),this.updateInnerCircleSelection()})}updateGroupSelection(){return le(this,null,function*(){const{itemSelection:n,highlightSelection:t,calloutLabelSelection:e,sectorLabelSelection:r,innerLabelsSelection:i}=this,o=(a,s)=>{let l=this.nodeData;s&&(l=l.map(u=>Te(J({},u),{sectorFormat:J({},u.sectorFormat)}))),a.update(l,void 0,u=>this.getDatumId(u)),this.ctx.animationManager.isSkipped()&&a.cleanup()};o(n,!1),o(t,!0),e.update(this.nodeData,a=>{const s=new bn;s.tag=1,s.pointerEvents=1,a.appendChild(s);const l=new Mt;l.tag=2,l.pointerEvents=1,a.appendChild(l)}),r.update(this.nodeData,a=>{a.pointerEvents=1}),i.update(this.properties.innerLabels,a=>{a.pointerEvents=1})})}updateInnerCircleSelection(){const{innerCircle:n}=this.properties;let t=0;const e=this.getInnerRadius();if(e>0){const i=Math.min(e,this.getOuterRadius());t=Math.ceil(i*2+1)}const r=n?[{radius:t}]:[];this.innerCircleSelection.update(r)}updateNodes(n){return le(this,null,function*(){const t=this.ctx.highlightManager.getActiveHighlight(),e=this.seriesItemEnabled.indexOf(!0)>=0;this.rootGroup.visible=e,this.backgroundGroup.visible=e,this.contentGroup.visible=e,this.highlightGroup.visible=e&&(t==null?void 0:t.series)===this,this.labelGroup&&(this.labelGroup.visible=e),this.contentGroup.opacity=this.getOpacity(),this.innerCircleSelection.each((i,{radius:o})=>{var a,s;i.setProperties({fill:(a=this.properties.innerCircle)==null?void 0:a.fill,opacity:(s=this.properties.innerCircle)==null?void 0:s.fillOpacity,size:o})});const r=(i,o,a,s)=>{const l=this.getSectorFormat(o.datum,o.itemId,s);o.sectorFormat.fill=l.fill,o.sectorFormat.stroke=l.stroke;const u=this.ctx.animationManager.isSkipped();u&&(i.startAngle=o.startAngle,i.endAngle=o.endAngle,i.innerRadius=o.innerRadius,i.outerRadius=o.outerRadius),(s||u)&&(i.fill=l.fill,i.stroke=l.stroke),i.strokeWidth=l.strokeWidth,i.fillOpacity=l.fillOpacity,i.strokeOpacity=this.properties.strokeOpacity,i.lineDash=this.properties.lineDash,i.lineDashOffset=this.properties.lineDashOffset,i.fillShadow=this.properties.shadow,i.inset=this.properties.sectorSpacing!=null?(this.properties.sectorSpacing+(l.stroke!=null?l.strokeWidth:0))/2:0,i.lineJoin=this.properties.sectorSpacing!=null?"miter":"round"};this.itemSelection.each((i,o,a)=>r(i,o,a,!1)),this.highlightSelection.each((i,o,a)=>{const s=(t==null?void 0:t.series)===this&&i.datum.itemId===t.itemId;r(i,o,a,!0),i.visible=s}),this.updateCalloutLineNodes(),this.updateCalloutLabelNodes(n),this.updateSectorLabelNodes(),this.updateInnerLabelNodes(),this.updateZerosumRings(),this.animationState.transition("update")})}updateCalloutLineNodes(){var n;const{calloutLine:t}=this.properties,e=t.length,r=t.strokeWidth,i=(n=t.colors)!=null?n:this.properties.strokes,{offset:o}=this.properties.calloutLabel;this.calloutLabelSelection.selectByTag(1).forEach((a,s)=>{const l=a.datum,{calloutLabel:u,outerRadius:c}=l;if(u!=null&&u.text&&!u.hidden&&c!==0){a.visible=!0,a.strokeWidth=r,a.stroke=i[s%i.length],a.fill=void 0;const d=l.midCos*c,p=l.midSin*c;let h=l.midCos*(c+e),f=l.midSin*(c+e);if((u.collisionTextAlign||u.collisionOffsetY!==0)&&u.box!=null){const g=u.box;let y=h,m=f;h<g.x?y=g.x:h>g.x+g.width&&(y=g.x+g.width),f<g.y?m=g.y:f>g.y+g.height&&(m=g.y+g.height);const C=y-h,S=m-f,w=Math.sqrt(Math.pow(C,2)+Math.pow(S,2)),_=w-o;_>0&&(h=h+C*_/w,f=f+S*_/w)}a.x1=d,a.y1=p,a.x2=h,a.y2=f}else a.visible=!1})}getLabelOverflow(n,t,e){const r=e.x-this.centerX,i=e.x+e.width-this.centerX,o=e.y-this.centerY,a=e.y+e.height-this.centerY,s=1;let l=1;t.x+s<r?l=(t.x+t.width-r)/t.width:t.x+t.width-s>i&&(l=(i-t.x)/t.width);const u=t.y+s<o||t.y+t.height-s>a,c=l===1?n.length:Math.floor(n.length*l)-1,d=this.bboxIntersectsSurroundingSeries(t);return{textLength:c,hasVerticalOverflow:u,hasSurroundingSeriesOverflow:d}}bboxIntersectsSurroundingSeries(n,t=0,e=0){const{surroundingRadius:r}=this;if(r==null)return!1;const i=[{x:n.x+t,y:n.y+e},{x:n.x+n.width+t,y:n.y+e},{x:n.x+n.width+t,y:n.y+n.height+e},{x:n.x+t,y:n.y+n.height+e}],o=pt(r,2);return i.some(a=>pt(a.x,2)+pt(a.y,2)>o)}computeCalloutLabelCollisionOffsets(){const{radiusScale:n}=this,{calloutLabel:t,calloutLine:e}=this.properties,{offset:r,minSpacing:i}=t,o=n.convert(0),a=m=>!m.calloutLabel||m.outerRadius===0,s=this.nodeData,l=this.nodeData.filter(m=>!a(m));if(l.forEach(m=>{const C=m.calloutLabel;C!=null&&(C.hidden=!1,C.collisionTextAlign=void 0,C.collisionOffsetY=0)}),l.length<=1)return;const u=l.filter(m=>m.midCos<0).sort((m,C)=>m.midSin-C.midSin),c=l.filter(m=>m.midCos>=0).sort((m,C)=>m.midSin-C.midSin),d=l.filter(m=>{var C;return m.midSin<0&&((C=m.calloutLabel)==null?void 0:C.textAlign)==="center"}).sort((m,C)=>m.midCos-C.midCos),p=l.filter(m=>{var C;return m.midSin>=0&&((C=m.calloutLabel)==null?void 0:C.textAlign)==="center"}).sort((m,C)=>m.midCos-C.midCos),h=new Mt,f=m=>{var C;const S=m.calloutLabel;if(S==null)return new nt(0,0,0,0);const w=m.outerRadius+e.length+r,_=m.midCos*w,x=m.midSin*w+S.collisionOffsetY;return h.text=S.text,h.x=_,h.y=x,h.setFont(this.properties.calloutLabel),h.setAlign({textAlign:(C=S.collisionTextAlign)!=null?C:S.textAlign,textBaseline:S.textBaseline}),h.computeBBox()},v=(m,C,S)=>{const w=f(m).grow(i/2),_=f(C).grow(i/2);if(w.x<_.x+_.width&&w.x+w.width>_.x&&(S==="to-top"?w.y<_.y+_.height:w.y+w.height>_.y)){const b=S==="to-top"?w.y-_.y-_.height:w.y+w.height-_.y;C.calloutLabel.collisionOffsetY=b}},g=m=>{const C=m.slice().sort((w,_)=>Math.abs(w.midSin)-Math.abs(_.midSin))[0],S=m.indexOf(C);for(let w=S-1;w>=0;w--){const _=m[w+1],x=m[w];v(_,x,"to-top")}for(let w=S+1;w<m.length;w++){const _=m[w-1],x=m[w];v(_,x,"to-bottom")}},y=m=>{const C=l.some(O=>O.calloutLabel.collisionOffsetY!==0),S=m.map(O=>f(O)),w=S.map(O=>O.clone().grow(i/2));let _=!1;for(let O=0;O<w.length&&!_;O++){const P=w[O];for(let D=O+1;D<m.length;D++){const N=w[D];if(P.collidesBBox(N)){_=!0;break}}}const x=s.map(O=>{const{startAngle:P,endAngle:D,outerRadius:N}=O;return{startAngle:P,endAngle:D,innerRadius:o,outerRadius:N}}),b=S.some(O=>x.some(P=>cte(O,P)));!_&&!C&&!b||m.filter(O=>O.calloutLabel.textAlign==="center").forEach(O=>{const P=O.calloutLabel;O.midCos<0?P.collisionTextAlign="right":O.midCos>0?P.collisionTextAlign="left":P.collisionTextAlign="center"})};g(u),g(c),y(d),y(p)}updateCalloutLabelNodes(n){const{radiusScale:t}=this,{calloutLabel:e,calloutLine:r}=this.properties,i=r.length,{offset:o,color:a}=e,s=new Mt;this.calloutLabelSelection.selectByTag(2).forEach(l=>{var u;const{datum:c}=l,d=c.calloutLabel,p=t.convert(c.radius),h=Math.max(0,p);if(!(d!=null&&d.text)||h===0||d.hidden){l.visible=!1;return}const f=h+i+o,v=c.midCos*f,g=c.midSin*f+d.collisionOffsetY,y={textAlign:(u=d.collisionTextAlign)!=null?u:d.textAlign,textBaseline:d.textBaseline};s.text=d.text,s.x=v,s.y=g,s.setFont(this.properties.calloutLabel),s.setAlign(y);const m=s.computeBBox();let C=d.text,S=!0;if(e.avoidCollisions){const{textLength:w,hasVerticalOverflow:_}=this.getLabelOverflow(d.text,m,n);C=d.text.length===w?d.text:`${d.text.substring(0,w)}…`,S=!_}l.text=C,l.x=v,l.y=g,l.setFont(this.properties.calloutLabel),l.setAlign(y),l.fill=a,l.visible=S})}computeLabelsBBox(n,t){return le(this,null,function*(){const{calloutLabel:e,calloutLine:r}=this.properties,i=r.length,{offset:o,maxCollisionOffset:a,minSpacing:s}=e;if(!e.avoidCollisions)return null;yield this.maybeRefreshNodeData(),this.updateRadiusScale(!1),this.computeCalloutLabelCollisionOffsets();const l=[],u=new Mt;let c;const{title:d}=this.properties;if(d!=null&&d.text&&d.enabled){const p=this.getTitleTranslationY();isFinite(p)&&(u.text=d.text,u.x=0,u.y=p,u.setFont(d),u.setAlign({textBaseline:"bottom",textAlign:"center"}),c=u.computeBBox(),l.push(c))}return this.nodeData.forEach(p=>{var h;const f=p.calloutLabel;if(!f||p.outerRadius===0)return null;const v=p.outerRadius+i+o,g=p.midCos*v,y=p.midSin*v+f.collisionOffsetY;u.text=f.text,u.x=g,u.y=y,u.setFont(this.properties.calloutLabel),u.setAlign({textAlign:(h=f.collisionTextAlign)!=null?h:f.textAlign,textBaseline:f.textBaseline});const m=u.computeBBox();if(f.box=m,Math.abs(f.collisionOffsetY)>a){f.hidden=!0;return}if(c){const C=t.y-this.centerY,S=new nt(c.x-s,C,c.width+2*s,c.y+c.height+s-C);if(m.collidesBBox(S)){f.hidden=!0;return}}if(n.hideWhenNecessary){const{textLength:C,hasVerticalOverflow:S,hasSurroundingSeriesOverflow:w}=this.getLabelOverflow(f.text,m,t),_=f.text.length>2&&C<2;if(S||_||w){f.hidden=!0;return}}f.hidden=!1,l.push(m)}),l.length===0?null:nt.merge(l)})}updateSectorLabelNodes(){const{radiusScale:n}=this,t=n.convert(0),{fontSize:e,fontStyle:r,fontWeight:i,fontFamily:o,positionOffset:a,positionRatio:s,color:l}=this.properties.sectorLabel,u=t>0,c=this.seriesItemEnabled.filter(Boolean).length===1;this.sectorLabelSelection.each((d,p)=>{const{sectorLabel:h,outerRadius:f}=p;let v=!1;if(h&&f!==0){const g=t*(1-s)+f*s+a;d.fill=l,d.fontStyle=r,d.fontWeight=i,d.fontSize=e,d.fontFamily=o,d.text=h.text,!u&&c?(d.x=0,d.y=0):(d.x=p.midCos*g,d.y=p.midSin*g),d.textAlign="center",d.textBaseline="middle";const m=d.computeBBox(),C=[[m.x,m.y],[m.x+m.width,m.y],[m.x+m.width,m.y+m.height],[m.x,m.y+m.height]],{startAngle:S,endAngle:w}=p,_={startAngle:S,endAngle:w,innerRadius:t,outerRadius:f};C.every(([x,b])=>GB(x,b,_))&&(v=!0)}d.visible=v})}updateInnerLabelNodes(){const n=[],t=[];this.innerLabelsSelection.each((c,d)=>{const{fontStyle:p,fontWeight:h,fontSize:f,fontFamily:v,color:g,margin:y=2}=d;c.fontStyle=p,c.fontWeight=h,c.fontSize=f,c.fontFamily=v,c.text=d.text,c.x=0,c.y=0,c.fill=g,c.textAlign="center",c.textBaseline="alphabetic",n.push(c.computeBBox()),t.push(y)});const e=c=>c===0?0:t[c],r=c=>c===t.length-1?0:t[c],i=n.reduce((c,d,p)=>c+d.height+e(p)+r(p),0),o=Math.max(...n.map(c=>c.width)),a=this.getInnerRadius(),l=Math.sqrt(Math.pow(o/2,2)+Math.pow(i/2,2))<=(a>0?a:this.getOuterRadius()),u=[];for(let c=0,d=-i/2;c<n.length;c++){const h=n[c].height+d+e(c);u.push(h),d=h+r(c)}this.innerLabelsSelection.each((c,d,p)=>{c.y=u[p],c.visible=l})}updateZerosumRings(){this.zerosumOuterRing.size=this.getOuterRadius()*2,this.zerosumInnerRing.size=this.getInnerRadius()*2}getDatumLegendName(n){const{angleKey:t,calloutLabelKey:e,sectorLabelKey:r,legendItemKey:i}=this.properties,{sectorLabel:o,calloutLabel:a,legendItem:s}=n;if(i&&s!==void 0)return s.text;if(e&&e!==t&&(a==null?void 0:a.text)!==void 0)return a.text;if(r&&r!==t&&(o==null?void 0:o.text)!==void 0)return o.text}getTooltipHtml(n){var t;if(!this.properties.isValid())return"";const{datum:e,angleValue:r,sectorFormat:{fill:i}}=n,o=Sr((t=this.properties.title)==null?void 0:t.text),a=Nt(r)?YT(r):String(r),s=this.getDatumLegendName(n);return this.properties.tooltip.toTooltipHtml({title:o??s,content:o&&s?`${s}: ${a}`:a,backgroundColor:i},{datum:e,title:o,color:i,seriesId:this.id,angleKey:this.properties.angleKey,angleName:this.properties.angleName,radiusKey:this.properties.radiusKey,radiusName:this.properties.radiusName,calloutLabelKey:this.properties.calloutLabelKey,calloutLabelName:this.properties.calloutLabelName,sectorLabelKey:this.properties.sectorLabelKey,sectorLabelName:this.properties.sectorLabelName})}getLegendData(n){var t,e,r,i,o;const{processedData:a,dataModel:s}=this;if(!s||!(a!=null&&a.data.length)||n!=="category")return[];const{angleKey:l,calloutLabelKey:u,sectorLabelKey:c,legendItemKey:d}=this.properties;if(!d&&(!u||u===l)&&(!c||c===l))return[];const{calloutLabelIdx:p,sectorLabelIdx:h,legendItemIdx:f}=this.getProcessedDataIndexes(s),v=((t=this.properties.title)==null?void 0:t.showInLegend)&&this.properties.title.text,g=[];for(let y=0;y<a.data.length;y++){const{datum:m,values:C}=a.data[y],S=[];v&&S.push(v);const w=this.getLabels(m,2*Math.PI,2*Math.PI,!1,C[p],C[h],C[f]);if(d&&w.legendItem!==void 0?S.push(w.legendItem.text):u&&u!==l&&((e=w.calloutLabel)==null?void 0:e.text)!==void 0?S.push((r=w.calloutLabel)==null?void 0:r.text):c&&c!==l&&((i=w.sectorLabel)==null?void 0:i.text)!==void 0&&S.push((o=w.sectorLabel)==null?void 0:o.text),S.length===0)continue;const _=this.getSectorFormat(m,y,!1);g.push({legendType:"category",id:this.id,itemId:y,seriesId:this.id,enabled:this.seriesItemEnabled[y],label:{text:S.join(" - ")},marker:{fill:_.fill,stroke:_.stroke,fillOpacity:this.properties.fillOpacity,strokeOpacity:this.properties.strokeOpacity,strokeWidth:this.properties.strokeWidth},legendItemName:d!=null?m[d]:void 0})}return g}onLegendItemClick(n){const{enabled:t,itemId:e,series:r,legendItemName:i}=n;r.id===this.id?this.toggleSeriesItem(e,t):i!=null&&this.toggleOtherSeriesItems(i,t)}toggleSeriesItem(n,t){this.seriesItemEnabled[n]=t,this.nodeDataRefresh=!0}toggleOtherSeriesItems(n,t){var e;if(!this.properties.legendItemKey||!this.dataModel)return;const r=this.dataModel.resolveProcessedDataIndexById(this,"legendItemValue").index;(e=this.processedData)==null||e.data.forEach(({values:i},o)=>{i[r]===n&&this.toggleSeriesItem(o,t)})}animateEmptyUpdateReady(n){const{animationManager:t}=this.ctx,e=cg(!0,this.properties.rotation,this.radiusScale,this.previousRadiusScale);xr(this.id,"nodes",t,[this.itemSelection,this.highlightSelection],e.nodes),xr(this.id,"innerCircle",t,[this.innerCircleSelection],e.innerCircle),$t(this,"callout",t,[this.calloutLabelSelection]),$t(this,"sector",t,[this.sectorLabelSelection]),$t(this,"inner",t,[this.innerLabelsSelection]),this.previousRadiusScale.range=this.radiusScale.range}animateWaitingUpdateReady(){var n,t,e,r,i,o;const{itemSelection:a,highlightSelection:s,processedData:l,radiusScale:u,previousRadiusScale:c}=this,{animationManager:d}=this.ctx,p=(n=l==null?void 0:l.reduced)==null?void 0:n.diff;this.ctx.animationManager.stopByAnimationGroupId(this.id);const h=((t=p==null?void 0:p.moved.length)!=null?t:0)===0&&(p==null?void 0:p.addedIndices.every(y=>!p.removedIndices.includes(y))),f=((e=l==null?void 0:l.defs.keys.length)!=null?e:0)>0,v=(o=(i=(r=l==null?void 0:l.reduced)==null?void 0:r.animationValidation)==null?void 0:i.uniqueKeys)!=null?o:!0;(!h||!f||!v)&&this.ctx.animationManager.skipCurrentBatch();const g=cg(!1,this.properties.rotation,u,c);xr(this.id,"nodes",d,[a,s],g.nodes,(y,m)=>this.getDatumId(m),p),xr(this.id,"innerCircle",d,[this.innerCircleSelection],g.innerCircle),$t(this,"callout",this.ctx.animationManager,[this.calloutLabelSelection]),$t(this,"sector",this.ctx.animationManager,[this.sectorLabelSelection]),$t(this,"inner",this.ctx.animationManager,[this.innerLabelsSelection]),this.previousRadiusScale.range=this.radiusScale.range}animateClearingUpdateEmpty(){const{itemSelection:n,highlightSelection:t,radiusScale:e,previousRadiusScale:r}=this,{animationManager:i}=this.ctx,o=cg(!1,this.properties.rotation,e,r);xr(this.id,"nodes",i,[n,t],o.nodes),xr(this.id,"innerCircle",i,[this.innerCircleSelection],o.innerCircle),jh(this,"callout",this.ctx.animationManager,[this.calloutLabelSelection]),jh(this,"sector",this.ctx.animationManager,[this.sectorLabelSelection]),jh(this,"inner",this.ctx.animationManager,[this.innerLabelsSelection]),this.previousRadiusScale.range=this.radiusScale.range}getDatumIdFromData(n){var t,e,r;const{calloutLabelKey:i,sectorLabelKey:o,legendItemKey:a}=this.properties;if((r=(e=(t=this.processedData)==null?void 0:t.reduced)==null?void 0:e.animationValidation)!=null&&r.uniqueKeys){if(a)return n[a];if(i)return n[i];if(o)return n[o]}}getDatumId(n){var t;const{index:e}=n;return(t=this.getDatumIdFromData(n.datum))!=null?t:`${e}`}onDataChange(){this.processSeriesItemEnabled()}};vP.className="PieSeries";vP.type="pie";var Q3e={type:"series",optionsKey:"series[]",packageType:"community",chartTypes:["polar"],identifier:"pie",instanceConstructor:vP,seriesDefaults:{},themeTemplate:hte,paletteFactory:fte};function J3e(){gs(Bee),gs(jee),gs(F3e),gs(G3e),gs(j3e),gs(z3e),gs(Y3e),gs(q3e),gs(Q3e),gs(W3e),new Map([[of.type,of],[pc.type,pc],[af.type,af],[qd.type,qd],[Qd.type,Qd]]).forEach((t,e)=>{ZZ(e,t)}),SQ("category","legend",bo,void 0)}function e$e(){for(const n of Gl){if(n.packageType==="enterprise"&&!WBe(n)&&Oe.errorOnce("Unexpected enterprise module registered: "+n.identifier),n.type==="root"&&n.themeTemplate)for(const t of n.chartTypes)kBe(t,n.themeTemplate);if(n.type==="series"){if(n.chartTypes.length>1)throw new Error(`AG Charts - Module definition error: ${n.identifier}`);qBe(n)}if(n.type==="series-option"&&n.themeTemplate)for(const t of n.seriesTypes)mQ(t,n.themeTemplate);if(n.type==="axis-option"&&n.themeTemplate)for(const t of n.axisTypes){const e=n.themeTemplate[t],r=J(J({},n.themeTemplate),e);for(const i of n.axisTypes)delete r[i];KU(t,r)}n.type==="axis"&&(ZZ(n.identifier,n.instanceConstructor),n.themeTemplate&&KU(n.identifier,n.themeTemplate)),n.type==="legend"&&SQ(n.identifier,n.optionsKey,n.instanceConstructor,n.themeTemplate)}if(EV()){const n=UBe();n.length>0&&Oe.errorOnce("Enterprise modules expected but not registered: ",n)}}var UB=class gte extends lP{constructor(t,e){super(t,e),this._data={}}performLayout(){return le(this,null,function*(){const t=yield wc(gte.prototype,this,"performLayout").call(this),{seriesArea:{padding:e},seriesRoot:r}=this,i=t.clone();return t.shrink(e.left,"left"),t.shrink(e.top,"top"),t.shrink(e.right,"right"),t.shrink(e.bottom,"bottom"),this.seriesRect=t,this.animationRect=t,this.hoverRect=t,r.translationX=Math.floor(t.x),r.translationY=Math.floor(t.y),yield Promise.all(this.series.map(o=>le(this,null,function*(){yield o.update({seriesRect:t})}))),r.visible=this.series[0].visible,r.setClipRectInGroupCoordinateSpace(new nt(t.x,t.y,t.width,t.height)),this.layoutService.dispatchLayoutComplete({type:"layout-complete",chart:{width:this.scene.width,height:this.scene.height},clipSeries:!1,series:{rect:i,paddedRect:t,visible:!0},axes:[]}),t})}};UB.className="HierarchyChart";UB.type="hierarchy";var t$e=UB,dg=class extends tB{constructor(){super(...arguments),this.shape="polygon",this.innerRadiusRatio=0,this.defaultTickMinSpacing=20}computeLabelsBBox(n,t){return null}};R([M(tn(["polygon","circle"],"a polar axis shape"))],dg.prototype,"shape",2);R([M(Ut)],dg.prototype,"innerRadiusRatio",2);var zB=class yte extends lP{constructor(t,e){super(t,e),this.padding=new vp(40),this.axisGroup.zIndex=5}performLayout(){return le(this,null,function*(){const t=yield wc(yte.prototype,this,"performLayout").call(this),e=t.clone();return this.computeSeriesRect(t),yield this.computeCircle(t),this.axes.forEach(r=>r.update()),this.hoverRect=t,this.layoutService.dispatchLayoutComplete({type:"layout-complete",chart:{width:this.scene.width,height:this.scene.height},clipSeries:!1,series:{rect:e,paddedRect:t,visible:!0},axes:[]}),t})}updateAxes(t,e,r){var i,o;const a=this.axes.find(d=>d.direction==="x"),s=this.axes.find(d=>d.direction==="y");if(!(a instanceof dg)||!(s instanceof dg))return;const l=a.scale,u=(i=l.ticks)==null?void 0:i.call(l).map(d=>l.convert(d)),c=s.innerRadiusRatio;a.innerRadiusRatio=c,(o=a.computeRange)==null||o.call(a),a.gridLength=r,s.gridAngles=u,s.gridRange=a.range,s.range=[r,r*c],[a,s].forEach(d=>{d.translation.x=t,d.translation.y=e,d.calculateLayout()})}computeSeriesRect(t){const{seriesArea:{padding:e}}=this;t.shrink(e.left,"left"),t.shrink(e.top,"top"),t.shrink(e.right,"right"),t.shrink(e.bottom,"bottom"),this.seriesRect=t,this.animationRect=t}computeCircle(t){return le(this,null,function*(){const e=this.series.filter(c=>c instanceof pP),r=this.axes.filter(c=>c instanceof dg),i=(c,d,p)=>{this.updateAxes(c,d,p),e.forEach(f=>{f.centerX=c,f.centerY=d,f.radius=p});const h=e.filter(f=>f instanceof vP||f instanceof hP);if(h.length>1){const f=h.map(v=>{const g=v.getInnerRadius();return{series:v,innerRadius:g}}).sort((v,g)=>v.innerRadius-g.innerRadius);f.at(-1).series.surroundingRadius=void 0;for(let v=0;v<f.length-1;v++)f[v].series.surroundingRadius=f[v+1].innerRadius}},o=t.x+t.width/2,a=t.y+t.height/2,s=Math.max(0,Math.min(t.width,t.height)/2);let l=s;i(o,a,l);const u=(...c)=>le(this,[...c],function*({hideWhenNecessary:d=!1}={}){const p=[];for(const v of[...r,...e]){const g=yield v.computeLabelsBBox({hideWhenNecessary:d},t);g&&p.push(g)}if(p.length===0){i(o,a,s);return}const h=nt.merge(p),f=this.refineCircle(h,l,t);i(f.centerX,f.centerY,f.radius),f.radius!==l&&(l=f.radius)});return yield u(),yield u(),yield u(),yield u({hideWhenNecessary:!0}),yield u({hideWhenNecessary:!0}),{radius:l,centerX:o,centerY:a}})}refineCircle(t,e,r){const o=-e,a=-e,s=e,l=e;let u=Math.max(0,o-t.x),c=Math.max(0,a-t.y),d=Math.max(0,t.x+t.width-s),p=Math.max(0,t.y+t.height-l);u=d=Math.max(u,d),c=p=Math.max(c,p);const h=r.width-u-d,f=r.height-c-p;let v=Math.min(h,f)/2;const g=.5*r.width/2,y=.5*r.height/2,m=Math.min(g,y);if(v<m){v=m;const w=u+d,_=c+p;if(2*v+_>r.height){const x=r.height-2*v;Math.min(c,p)*2>x?(c=x/2,p=x/2):c>p?c=x-p:p=x-c}if(2*v+w>r.width){const x=r.width-2*v;Math.min(u,d)*2>x?(u=x/2,d=x/2):u>d?u=x-d:d=x-u}}const C=u+2*v+d,S=c+2*v+p;return{centerX:r.x+(r.width-C)/2+u+v,centerY:r.y+(r.height-S)/2+c+v,radius:v}}};zB.className="PolarChart";zB.type="polar";var r$e=zB,px=$r.create(!0,"opts");function Mz(n){if(Vh(n))return"cartesian";if(Zw(n))return"polar";if(RV(n))return"hierarchy";throw new Error(`AG Chart - unknown type of chart for options with type: ${n.type}`)}var gP=class dC{static licenseCheck(t){var e,r,i,o;this.licenseChecked||(this.licenseManager=(r=(e=rg).licenseManager)==null?void 0:r.call(e,t),(i=this.licenseManager)==null||i.setLicenseKey(this.licenseKey,this.gridContext),(o=this.licenseManager)==null||o.validateLicense(),this.licenseChecked=!0)}static setLicenseKey(t){this.licenseKey=t}static setGridContext(t){this.gridContext=t}static getLicenseDetails(t){var e,r;return(r=(e=rg).licenseManager)==null?void 0:r.call(e,{}).getLicenseDetails(t)}static getInstance(t){return ev.getInstance(t)}static create(t){var e,r,i,o;this.licenseCheck(t);const a=ev.createOrUpdate(t);return(e=this.licenseManager)!=null&&e.isDisplayWatermark()&&((o=(i=rg).injectWatermark)==null||o.call(i,(r=t.document)!=null?r:document,a.chart.element,this.licenseManager.getWatermarkMessage())),a}static update(t,e){if(!Fv.isInstance(t))throw new Error(dC.INVALID_CHART_REF_MESSAGE);ev.createOrUpdate(e,t)}static updateDelta(t,e){if(!Fv.isInstance(t))throw new Error(dC.INVALID_CHART_REF_MESSAGE);ev.updateUserDelta(t,e)}static download(t,e){if(!(t instanceof Fv))throw new Error(dC.INVALID_CHART_REF_MESSAGE);ev.download(t,e)}static getImageDataURL(t,e){if(!(t instanceof Fv))throw new Error(dC.INVALID_CHART_REF_MESSAGE);return ev.getImageDataURL(t,e)}};gP.INVALID_CHART_REF_MESSAGE="AG Charts - invalid chart reference passed";gP.licenseChecked=!1;gP.gridContext=!1;var Wu=gP,mte=class ml{static getInstance(t){const e=lP.getInstance(t);return e!=null?Fv.chartInstances.get(e):void 0}static initialiseModules(){ml.initialised||(J3e(),e$e(),ml.initialised=!0)}static createOrUpdate(t,e){var r;ml.initialiseModules(),px(">>> AgChartV2.createOrUpdate() user options",t);const i=t,{overrideDevicePixelRatio:o,document:a,window:s}=i,l=En(i,["overrideDevicePixelRatio","document","window"]),u=new HQ(l,{overrideDevicePixelRatio:o,document:a,window:s});let c=e==null?void 0:e.chart;return(c==null||Mz(l)!==Mz(c.processedOptions))&&(c=ml.createChartInstance(u,c)),e==null?e=new Fv(c):e.chart=c,px.check()&&typeof window<"u"&&((r=window.agChartInstances)!=null||(window.agChartInstances={}),window.agChartInstances[c.id]=c),c.queuedUserOptions.push(l),c.requestFactoryUpdate(d=>{d.applyOptions(u),d.queuedUserOptions.splice(0,d.queuedUserOptions.indexOf(l))}),e}static updateUserDelta(t,e){e=yi(e,{shallow:["data"]}),Vl(e,a=>{if(typeof a=="object")for(const[s,l]of Object.entries(a))typeof l>"u"&&Object.assign(a,{[s]:Symbol("UNSET")})},{skip:["data"]});const{chart:r}=t,i=r.getOptions(),o=mt(e,i);px(">>> AgChartV2.updateUserDelta() user delta",e),px("AgChartV2.updateUserDelta() - base options",i),ml.createOrUpdate(o,t)}static download(t,e){return le(this,null,function*(){try{const r=yield ml.prepareResizedChart(t,e);r.chart.scene.download(e==null?void 0:e.fileName,e==null?void 0:e.fileFormat),r.destroy()}catch(r){Oe.errorOnce(r)}})}static getImageDataURL(t,e){return le(this,null,function*(){const r=yield ml.prepareResizedChart(t,e),{canvas:i}=r.chart.scene,o=i.getDataURL(e==null?void 0:e.fileFormat);return r.destroy(),o})}static prepareResizedChart(t){return le(this,arguments,function*(e,r={}){const{chart:i}=e,{width:o=i.width,height:a=i.height}=r,s=mt({container:document.createElement("div"),overrideDevicePixelRatio:1,autoSize:!1,width:o,height:a},EV()&&{animation:{enabled:!1}},i.userOptions),l=ml.createOrUpdate(s);return l.chart.zoomManager.updateZoom(e.chart.zoomManager.getZoom()),e.chart.series.forEach((u,c)=>{u.visible!==!0&&(l.chart.series[c].visible=u.visible)}),e.chart.update(0,{forceNodeDataRefresh:!0}),yield l.chart.waitForUpdate(),l})}static createChartInstance(t,e){const r=e==null?void 0:e.destroy({keepTransferableResources:!0}),i=ml.getChartByOptions(t.processedOptions);return new i(t,r)}static getChartByOptions(t){if(Vh(t))return C3e;if(RV(t))return t$e;if(Zw(t))return r$e;throw new Error("AG Charts - couldn't apply configuration, check options are correctly structured and series types are specified")}};mte.initialised=!1;var ev=mte,n$e="9.1.1",ne={};Sc(ne,{Arc:()=>fu,BBox:()=>nt,BandScale:()=>iu,Caption:()=>Ar,Circle:()=>ql,ContinuousScale:()=>Zt,Diamond:()=>hee,DropShadow:()=>tl,Group:()=>Ve,HdpiCanvas:()=>Wr,Image:()=>hy,Label:()=>gn,Line:()=>bn,LinearGradientFill:()=>yP,LinearScale:()=>Zl,Marker:()=>cs,Node:()=>ny,Path:()=>ya,Path2D:()=>kg,PointerEvents:()=>UQ,RadialColumnShape:()=>rl,Rect:()=>_i,RedrawType:()=>id,Scene:()=>iB,SceneChangeDetection:()=>Ae,ScenePathChangeDetection:()=>ct,Sector:()=>ds,Selection:()=>Er,Shape:()=>rs,Square:()=>Gg,Text:()=>Mt,Tooltip:()=>yJ,Triangle:()=>lg,easing:()=>GV,getFont:()=>Xd,getMarker:()=>gp,getRadialColumnWidth:()=>i$e,motion:()=>o$e,nearestSquared:()=>WQ,nearestSquaredInContainer:()=>X2e,toRadians:()=>Ci,toTooltipHtml:()=>ZS});var fu=class extends ya{constructor(){super(),this.centerX=0,this.centerY=0,this.radius=10,this.startAngle=0,this.endAngle=Math.PI*2,this.counterClockwise=!1,this.type=0,this.restoreOwnStyles()}get fullPie(){return Hh(Zr(this.startAngle),Zr(this.endAngle))}updatePath(){const n=this.path;n.clear(),n.arc(this.centerX,this.centerY,this.radius,this.startAngle,this.endAngle,this.counterClockwise),this.type===1?n.closePath():this.type===2&&!this.fullPie&&(n.lineTo(this.centerX,this.centerY),n.closePath())}computeBBox(){return new nt(this.centerX-this.radius,this.centerY-this.radius,this.radius*2,this.radius*2)}isPointInPath(n,t){const e=this.transformPoint(n,t),r=this.computeBBox();return this.type!==0&&r.containsPoint(e.x,e.y)&&this.path.isPointInPath(e.x,e.y)}};fu.className="Arc";fu.defaultStyles=Object.assign({},rs.defaultStyles,{lineWidth:1,fillStyle:null});R([ct()],fu.prototype,"centerX",2);R([ct()],fu.prototype,"centerY",2);R([ct()],fu.prototype,"radius",2);R([ct()],fu.prototype,"startAngle",2);R([ct()],fu.prototype,"endAngle",2);R([ct()],fu.prototype,"counterClockwise",2);R([ct()],fu.prototype,"type",2);var yP=class extends rs{constructor(){super(...arguments),this.direction="to-right",this.stops=void 0,this._mask=void 0}get mask(){return this._mask}set mask(n){this._mask!=null&&this.removeChild(this._mask),n!=null&&this.appendChild(n),this._mask=n}isPointInPath(n,t){var e,r;return(r=(e=this.mask)==null?void 0:e.isPointInPath(n,t))!=null?r:!1}computeBBox(){var n;return(n=this.mask)==null?void 0:n.computeBBox()}render(n){const{mask:t,stops:e}=this,{ctx:r,devicePixelRatio:i}=n,o=1/i,a=t==null?void 0:t.computeTransformedBBox();if(t==null||e==null||a==null)return;t.dirtyPath&&(t.updatePath(),t.dirtyPath=!1),r.save(),r.beginPath(),t.path.draw(r),r.clip(),r.resetTransform();const s=Math.floor(a.x),l=Math.ceil(a.x+a.width),u=Math.floor(a.y),c=Math.ceil(a.y+a.height),d=new Rf,[p,h]=this.direction==="to-right"?[s,l]:[u,c];if(d.domain=e.map((f,v)=>p+(h-p)*v/(e.length-1)),d.range=e,d.update(),this.direction==="to-right"){const f=c-u;for(let v=s;v<=l;v+=o)r.fillStyle=d.convert(v),r.fillRect(v,u,o,f)}else{const f=l-s;for(let v=u;v<=c;v+=o)r.fillStyle=d.convert(v),r.fillRect(s,v,f,o)}r.restore()}};R([Ae({redraw:3})],yP.prototype,"direction",2);R([Ae({redraw:3})],yP.prototype,"stops",2);R([Ae({redraw:3})],yP.prototype,"_mask",2);function Lz(n,t,e){const r=Math.sqrt(pt(n,2)+pt(t,2)),o=Math.atan2(t,n)+e;return{x:Math.cos(o)*r,y:Math.sin(o)*r}}var rl=class extends ya{constructor(){super(...arguments),this.borderPath=new kg,this.isBeveled=!0,this.columnWidth=0,this.startAngle=0,this.endAngle=0,this.outerRadius=0,this.innerRadius=0,this.axisInnerRadius=0,this.axisOuterRadius=0,this.isRadiusAxisReversed=!1}getRotation(){const{startAngle:n,endAngle:t}=this,e=BV(n,t);return Zr(n+e/2+Math.PI/2)}updatePath(){const{isBeveled:n}=this;n?this.updateBeveledPath():this.updateRectangularPath(),this.checkPathDirty()}updateRectangularPath(){const{columnWidth:n,innerRadius:t,outerRadius:e,path:r}=this,i=-n/2,o=n/2,a=-e,s=-t,l=this.getRotation(),u=[[i,s],[i,a],[o,a],[o,s],[i,s]].map(([c,d])=>Lz(c,d,l));r.clear({trackChanges:!0}),r.moveTo(u[0].x,u[0].y),r.lineTo(u[1].x,u[1].y),r.lineTo(u[2].x,u[2].y),r.lineTo(u[3].x,u[3].y),r.lineTo(u[0].x,u[0].y),r.closePath()}updateBeveledPath(){const{columnWidth:n,path:t,outerRadius:e,innerRadius:r,axisInnerRadius:i,axisOuterRadius:o,isRadiusAxisReversed:a}=this,s=Hh(r,i),l=Math.asin(n/2/r),u=this.getRotation(),c=(b,O)=>Lz(b,O,u),d=(b,O)=>Math.sqrt(pt(b,2)+pt(O,2)),p=(b,O)=>O>b?0:Math.sqrt(pt(b,2)-pt(O,2)),h=(b,O,P)=>P?b<O:b>O,f=s&&!isNaN(l)&&l<Math.PI/6;let v=-n/2,g=n/2;const y=-e,m=-r*(f?Math.cos(l):1),C=h(o,d(r,n/2),!a);if(C){const b=p(o,r);v=-b,g=b}t.clear({trackChanges:!0});const S=c(v,m);t.moveTo(S.x,S.y);const w=Hh(r,e),_=h(o,d(e,n/2),!a);if(w&&f)t.arc(0,0,r,Zr(-l-Math.PI/2)+u,Zr(l-Math.PI/2)+u,!1);else if(_){const b=-p(o,n/2),O=p(o,e);if(!C){const P=c(v,b);t.lineTo(P.x,P.y)}if(t.arc(0,0,o,Math.atan2(b,v)+u,Math.atan2(y,-O)+u,!1),!Hh(O,0)){const P=c(O,y);t.lineTo(P.x,P.y)}t.arc(0,0,o,Math.atan2(y,O)+u,Math.atan2(b,g)+u,!1)}else{const b=c(v,y),O=c(g,y);t.lineTo(b.x,b.y),t.lineTo(O.x,O.y)}const x=c(g,m);if(t.lineTo(x.x,x.y),f)t.arc(0,0,r,Zr(l-Math.PI/2)+u,Zr(-l-Math.PI/2)+u,!0);else{const b=c(v,m);t.lineTo(b.x,b.y)}t.closePath()}};rl.className="RadialColumnShape";R([ct()],rl.prototype,"isBeveled",2);R([ct()],rl.prototype,"columnWidth",2);R([ct()],rl.prototype,"startAngle",2);R([ct()],rl.prototype,"endAngle",2);R([ct()],rl.prototype,"outerRadius",2);R([ct()],rl.prototype,"innerRadius",2);R([ct()],rl.prototype,"axisInnerRadius",2);R([ct()],rl.prototype,"axisOuterRadius",2);R([ct()],rl.prototype,"isRadiusAxisReversed",2);function i$e(n,t,e,r,i){const o=BV(n,t),a=o*(1-r)/2;if(n+=a,t-=a,o<.001)return 2*e*i;if(o>=2*Math.PI){const h=n+o/2;n=h-Math.PI,t=h+Math.PI}const s=e*Math.cos(n),l=e*Math.sin(n),u=e*Math.cos(t),c=e*Math.sin(t),d=Math.floor(Math.sqrt(pt(s-u,2)+pt(l-c,2))),p=2*e*i;return Math.max(1,Math.min(p,d))}var hy=class extends ny{constructor(n){super(),this.x=0,this.y=0,this.width=0,this.height=0,this.opacity=1,this.sourceImage=n}render(n){const{ctx:t,forceRender:e,stats:r}=n;if(this.dirty===0&&!e){r&&r.nodesSkipped++;return}this.computeTransformMatrix(),this.matrix.toContext(t);const i=this.sourceImage;t.globalAlpha=this.opacity,t.drawImage(i,0,0,i.width,i.height,this.x,this.y,this.width,this.height),super.render(n)}};R([Ae({redraw:3})],hy.prototype,"x",2);R([Ae({redraw:3})],hy.prototype,"y",2);R([Ae({redraw:3})],hy.prototype,"width",2);R([Ae({redraw:3})],hy.prototype,"height",2);R([Ae({redraw:3})],hy.prototype,"opacity",2);var o$e=J(J({},jQ),bJ),Hs={};Sc(Hs,{CARTESIAN_AXIS_TYPE:()=>bQ,ChartTheme:()=>xc,DEFAULT_AXIS_GRID_COLOUR:()=>OO,DEFAULT_AXIS_LINE_COLOUR:()=>fE,DEFAULT_BACKGROUND_COLOUR:()=>YS,DEFAULT_CROSS_LINES_COLOUR:()=>GC,DEFAULT_DIVERGING_SERIES_COLOUR_RANGE:()=>qs,DEFAULT_FONT_FAMILY:()=>_n,DEFAULT_HIERARCHY_FILLS:()=>PV,DEFAULT_HIERARCHY_STROKES:()=>AV,DEFAULT_INSIDE_SERIES_LABEL_COLOUR:()=>ty,DEFAULT_INVERTED_LABEL_COLOUR:()=>GQ,DEFAULT_LABEL_COLOUR:()=>It,DEFAULT_MUTED_LABEL_COLOUR:()=>og,DEFAULT_POLAR_SERIES_STROKE:()=>TV,DEFAULT_SHADOW_COLOUR:()=>ry,DEFAULT_WATERFALL_SERIES_CONNECTOR_LINE_STROKE:()=>Xs,DEFAULT_WATERFALL_SERIES_NEGATIVE_COLOURS:()=>Ks,DEFAULT_WATERFALL_SERIES_POSITIVE_COLOURS:()=>zs,DEFAULT_WATERFALL_SERIES_TOTAL_COLOURS:()=>Ys,EXTENDS_AXES_DEFAULTS:()=>MQ,EXTENDS_AXES_GRID_LINE_DEFAULTS:()=>NQ,EXTENDS_AXES_LABEL_DEFAULTS:()=>LQ,EXTENDS_AXES_LINE_DEFAULTS:()=>FQ,EXTENDS_AXES_TICK_DEFAULTS:()=>IQ,EXTENDS_CARTESIAN_MARKER_DEFAULTS:()=>ey,EXTENDS_CHART_DEFAULTS:()=>TQ,EXTENDS_LEGEND_DEFAULTS:()=>PQ,EXTENDS_LEGEND_ITEM_DEFAULTS:()=>AQ,EXTENDS_LEGEND_ITEM_MARKER_DEFAULTS:()=>DQ,EXTENDS_SERIES_DEFAULTS:()=>_c,FONT_SIZE:()=>_Q,FONT_WEIGHT:()=>xQ,IS_DARK_THEME:()=>fh,OVERRIDE_SERIES_LABEL_DEFAULTS:()=>kQ,POLAR_AXIS_SHAPE:()=>RQ,POLAR_AXIS_TYPE:()=>OQ,POSITION:()=>EQ,getChartTheme:()=>DV,themes:()=>a$e});var a$e=Object.entries(VQ).reduce((n,[t,e])=>(n[t]=e(),n),{}),wp={};Sc(wp,{BandScale:()=>iu,ColorScale:()=>Rf,ContinuousScale:()=>Zt,Invalidating:()=>Eo,LinearScale:()=>Zl,TimeScale:()=>eB});var Pr={};Sc(Pr,{Color:()=>Fl,Logger:()=>Oe,Padding:()=>vp,angleBetween:()=>BV,checkDatum:()=>QS,clamp:()=>Dt,clampArray:()=>TO,countFractionDigits:()=>NV,createId:()=>uu,deepClone:()=>yi,extent:()=>lu,findMinMax:()=>dc,findRangeExtent:()=>Ig,isContinuous:()=>qV,isDate:()=>Xw,isEqual:()=>Hh,isNegative:()=>t0,isNumber:()=>Nt,isNumberEqual:()=>Hh,isString:()=>Ya,isStringObject:()=>XV,jsonApply:()=>Hd,jsonDiff:()=>da,jsonWalk:()=>Vl,mod:()=>XT,normalisedExtent:()=>BQ,normalisedExtentWithMetadata:()=>e0,normalizeAngle180:()=>qS,normalizeAngle360:()=>Zr,normalizeAngle360Inclusive:()=>iHe,range:()=>ew,resetIds:()=>$Q,round:()=>IV,sanitizeHtml:()=>Sr,shallowClone:()=>bO,tickFormat:()=>DJ,tickStep:()=>Ng,ticks:()=>nP,toDegrees:()=>oHe,toFixed:()=>YT,toRadians:()=>Ci,transformIntegratedCategoryValue:()=>ag,zipObject:()=>hI});var KB={};Sc(KB,{ADD_PHASE:()=>VV,AGG_VALUES_EXTENT:()=>i3e,AND:()=>du,ANIMATION_PHASE_ORDER:()=>oh,ANIMATION_PHASE_TIMINGS:()=>eJ,ARRAY:()=>r0,ARRAY_OF:()=>Ec,AbstractBarSeries:()=>Qee,AbstractBarSeriesProperties:()=>DB,ActionOnSet:()=>An,Animation:()=>rJ,AnimationManager:()=>nee,AreaSeriesTag:()=>Xee,Axis:()=>tB,AxisLabel:()=>yn,AxisTick:()=>Qs,BOOLEAN:()=>qe,BOOLEAN_ARRAY:()=>aHe,Background:()=>p0,BackgroundModule:()=>Bee,BaseModuleInstance:()=>xV,BaseProperties:()=>nr,COLOR_STRING:()=>Tt,COLOR_STRING_ARRAY:()=>ls,CartesianAxis:()=>u0,CartesianSeries:()=>Cp,CartesianSeriesNodeClickEvent:()=>CB,CartesianSeriesProperties:()=>mp,CategoryAxis:()=>pc,ChartAxisDirection:()=>dJ,ChartEventManager:()=>iee,ChartOptions:()=>HQ,ChartUpdateType:()=>jC,ContextMenuRegistry:()=>oee,CursorManager:()=>aee,DATE:()=>HV,DATE_ARRAY:()=>sHe,DATE_OR_DATETIME_MS:()=>jV,DEGREE:()=>dp,DIRECTION:()=>lJ,DataController:()=>eee,DataModel:()=>JJ,DataService:()=>oP,Default:()=>Rc,Deprecated:()=>wf,DeprecatedAndRenamedTo:()=>$2e,FONT_STYLE:()=>pp,FONT_WEIGHT:()=>hp,FUNCTION:()=>ss,GREATER_THAN:()=>i0,GestureDetector:()=>see,GroupedCategoryAxis:()=>qd,HierarchyNode:()=>xE,HierarchySeries:()=>l$e,HierarchySeriesProperties:()=>_p,HighlightManager:()=>PI,HighlightStyle:()=>d0,INITIAL_LOAD:()=>qQ,INTERACTION_RANGE:()=>UV,INTERACTION_TYPES:()=>tee,InteractionManager:()=>ree,InteractionState:()=>DO,LABEL_PHASE:()=>JQ,LESS_THAN:()=>n0,LINE_CAP:()=>aJ,LINE_DASH:()=>bc,LINE_JOIN:()=>lHe,Layers:()=>_J,LayoutService:()=>uee,MATCHING_CROSSLINE_TYPE:()=>ZV,MAX_SPACING:()=>zV,MIN_SPACING:()=>cJ,Motion:()=>GV,NAN:()=>QT,NODE_UPDATE_PHASES:()=>nJ,NODE_UPDATE_STATE_TO_PHASE_MAPPING:()=>Fi,NUMBER:()=>sr,NUMBER_ARRAY:()=>JT,NUMBER_OR_NAN:()=>iy,Navigator:()=>el,NavigatorModule:()=>jee,OBJECT:()=>je,OBJECT_ARRAY:()=>$V,OR:()=>_f,OVERFLOW_STRATEGY:()=>cHe,ObserveChanges:()=>oy,PLACEMENT:()=>uJ,POSITION:()=>WV,POSITIVE_NUMBER:()=>xe,PolarAxis:()=>dg,PolarSeries:()=>pP,PropertiesArray:()=>Qw,ProxyOnWrite:()=>wHe,ProxyProperty:()=>fp,ProxyPropertyOnWrite:()=>cr,QUICK_TRANSITION:()=>qT,RATIO:()=>Ut,REGISTERED_MODULES:()=>Gl,REMOVE_PHASE:()=>ZQ,RepeatType:()=>tJ,SMALLEST_KEY_INTERVAL:()=>II,SORT_DOMAIN_GROUPS:()=>Oee,STRING:()=>Ee,STRING_ARRAY:()=>oJ,Series:()=>cy,SeriesGroupingChangedEvent:()=>yB,SeriesItemHighlightStyle:()=>Pc,SeriesMarker:()=>Oo,SeriesNodeClickEvent:()=>c0,SeriesNodePickMode:()=>Tee,SeriesProperties:()=>Js,SeriesTooltip:()=>Ro,StateMachine:()=>s0,TEXT_ALIGN:()=>sJ,TEXT_WRAP:()=>eP,Tags:()=>jJ,TooltipManager:()=>AI,UNION:()=>tn,UPDATE_PHASE:()=>QQ,UpdateService:()=>Dee,VERTICAL_ALIGN:()=>uHe,Validate:()=>M,ZoomManager:()=>lee,__FORCE_MODULE_DETECTION:()=>u$e,accumulateGroup:()=>Ree,accumulatedValue:()=>Eee,accumulativeValueProperty:()=>gB,adjustLabelPlacement:()=>ite,animationValidation:()=>uy,area:()=>FI,arraysEqual:()=>BC,assignJsonApplyConstructedArray:()=>CJ,average:()=>n3e,backfillPathPointData:()=>bB,buildResetPathFn:()=>TB,checkCrisp:()=>rte,circularSliceArray:()=>dI,clamp:()=>Dt,clampArray:()=>TO,collapsedStartingBarPosition:()=>aw,count:()=>r3e,countFractionDigits:()=>NV,createDatumId:()=>Zd,createDeprecationWarning:()=>FV,deconstructSelectionsOrNodes:()=>ZT,deepClone:()=>yi,deepMerge:()=>IBe,determinePathStatus:()=>Kee,diff:()=>Of,enterpriseModule:()=>rg,extent:()=>lu,extractDecoratedProperties:()=>DBe,findMinMax:()=>dc,findRangeExtent:()=>Ig,fixNumericExtent:()=>Ii,fromToMotion:()=>xr,getMissCount:()=>oB,getPath:()=>aQ,getRectConfig:()=>tte,groupAccumulativeValueProperty:()=>pd,groupAverage:()=>xee,groupBy:()=>LV,groupCount:()=>LI,groupSum:()=>wee,hasRegisteredEnterpriseModules:()=>EV,injectStyle:()=>rP,invertShapeDirection:()=>s$e,isArray:()=>fn,isBoolean:()=>eQ,isDate:()=>KT,isDecoratedObject:()=>zT,isDefined:()=>rI,isEnumKey:()=>FBe,isEnumValue:()=>nQ,isEqual:()=>Hh,isFiniteNumber:()=>Nt,isFunction:()=>Qg,isHtmlElement:()=>rQ,isNegative:()=>t0,isNumber:()=>As,isObject:()=>nu,isObjectLike:()=>LBe,isPlainObject:()=>ts,isProperties:()=>ta,isRegExp:()=>tQ,isString:()=>Ya,isSymbol:()=>iQ,isValidDate:()=>Xw,jsonApply:()=>Hd,jsonDiff:()=>da,jsonWalk:()=>Vl,keyProperty:()=>ni,listDecoratedProperties:()=>ig,mapValues:()=>oQ,markerFadeInAnimation:()=>rw,markerPaletteFactory:()=>f0,markerScaleInAnimation:()=>_B,markerSwipeScaleInAnimation:()=>xB,mergeArrayDefaults:()=>nI,mergeDefaults:()=>mt,midpointStartingBarPosition:()=>I3e,minMax:()=>NI,mod:()=>XT,normaliseGroupTo:()=>LO,normalisePropertyTo:()=>tw,normalisedExtent:()=>BQ,normalisedExtentWithMetadata:()=>e0,pairCategoryData:()=>ow,pairContinuousData:()=>iw,partialAssign:()=>iI,pathFadeInAnimation:()=>UC,pathFadeOutAnimation:()=>R3e,pathSwipeInAnimation:()=>RB,predicateWithMessage:()=>er,prepareAreaPathAnimation:()=>qee,prepareAxisAnimationContext:()=>RI,prepareAxisAnimationFunctions:()=>kJ,prepareBarAnimationFunctions:()=>sw,prepareLinePathAnimation:()=>Yee,prepareLinePathAnimationFns:()=>PB,prepareMarkerAnimation:()=>EB,range:()=>_ee,rangedValueProperty:()=>vB,registerModule:()=>gs,renderPartialPath:()=>OB,resetAxisGroupFn:()=>GJ,resetAxisLabelSelectionFn:()=>BJ,resetAxisLineSelectionFn:()=>HJ,resetAxisSelectionFn:()=>VJ,resetBarSelectionsFn:()=>lw,resetIds:()=>$Q,resetLabelFn:()=>Ac,resetMarkerFn:()=>v0,resetMarkerPositionFn:()=>nw,resetMotion:()=>xn,round:()=>IV,seriesLabelFadeInAnimation:()=>$t,seriesLabelFadeOutAnimation:()=>jh,setPath:()=>sQ,shallowClone:()=>bO,singleSeriesPaletteFactory:()=>wB,staticFromToMotion:()=>cu,stringify:()=>HC,sum:()=>t3e,toArray:()=>RO,toFixed:()=>YT,trailingAccumulatedValue:()=>bee,trailingAccumulatedValueProperty:()=>c3e,trailingValue:()=>Aee,trailingValueProperty:()=>u3e,unique:()=>MV,updateClipPath:()=>FO,updateLabelNode:()=>nte,updateRect:()=>ete,validateCrossLineValues:()=>xJ,valueProperty:()=>Qt});function s$e(...n){for(const t of n)if(t instanceof _i){const{x:e,y:r,width:i,height:o}=t;t.setProperties({x:r,y:e,width:o,height:i})}else if(t instanceof bn){const{x1:e,y1:r,x2:i,y2:o}=t;t.setProperties({x1:r,y1:e,x2:o,y2:i})}}var Cte=class _E{constructor(t,e,r,i,o,a,s,l,u,c,d){this.series=t,this.index=e,this.datum=r,this.size=i,this.colorValue=o,this.fill=a,this.stroke=s,this.sumSize=l,this.depth=u,this.parent=c,this.children=d,this.midPoint={x:0,y:0}}contains(t){let e=t;for(;e!=null&&e.index>=this.index;){if(e===this)return!0;e=e.parent}return!1}walk(t,e=_E.Walk.PreOrder){e===_E.Walk.PreOrder&&t(this),this.children.forEach(r=>{r.walk(t,e)}),e===_E.Walk.PostOrder&&t(this)}*[Symbol.iterator](){yield this;for(const t of this.children)yield*NVe(t)}};Cte.Walk={PreOrder:0,PostOrder:1};var xE=Cte,l$e=class extends cy{constructor(n){super({moduleCtx:n,pickModes:[0],contentGroupVirtual:!1}),this.rootNode=new xE(this,0,void 0,0,void 0,void 0,void 0,0,void 0,void 0,[]),this.colorDomain=[0,0],this.maxDepth=0,this.animationState=new s0("empty",{empty:{update:{target:"ready",action:t=>this.animateEmptyUpdateReady(t)},reset:"empty",skip:"ready"},ready:{updateData:"waiting",clear:"clearing",highlight:t=>this.animateReadyHighlight(t),resize:t=>this.animateReadyResize(t),reset:"empty",skip:"ready"},waiting:{update:{target:"ready",action:t=>this.animateWaitingUpdateReady(t)},reset:"empty",skip:"ready"},clearing:{update:{target:"empty",action:t=>this.animateClearingUpdateEmpty(t)},reset:"empty",skip:"ready"}},()=>this.checkProcessedDataAnimatable())}resetAnimation(n){n==="initial"?this.animationState.transition("reset"):n==="ready"&&this.animationState.transition("skip")}processData(){return le(this,null,function*(){var n,t;const{childrenKey:e,sizeKey:r,colorKey:i,fills:o,strokes:a,colorRange:s}=this.properties;let l=0;const u=()=>(l+=1,l);let c=0,d=1/0,p=-1/0;const h=new Array(((t=(n=this.data)==null?void 0:n.length)!=null?t:0)+1).fill(void 0),f=(C,S)=>{const w=u(),_=S.depth!=null?S.depth+1:0,x=e!=null?C[e]:void 0,b=x==null||x.length===0;let O=r!=null?C[r]:void 0;Number.isFinite(O)?O=Math.max(O,0):O=b?1:0;const P=O;c=Math.max(c,_);const D=i!=null?C[i]:void 0;return typeof D=="number"&&(h[w]=D,d=Math.min(d,D),p=Math.max(p,D)),v(new xE(this,w,C,O,D,void 0,void 0,P,_,S,[]),x)},v=(C,S)=>(S==null||S.forEach(w=>{const _=f(w,C);C.children.push(_),C.sumSize+=_.sumSize}),C),g=v(new xE(this,0,void 0,0,void 0,void 0,void 0,0,void 0,void 0,[]),this.data),y=[d,p];let m;s!=null&&Number.isFinite(d)&&Number.isFinite(p)&&(m=new Rf,m.domain=y,m.range=s,m.update()),g.children.forEach((C,S)=>{C.walk(w=>{let _;const x=h[w.index];x!=null&&(_=m==null?void 0:m.convert(x)),_??(_=o==null?void 0:o[S%o.length]),w.fill=_,w.stroke=m==null?a==null?void 0:a[S%a.length]:"rgba(0, 0, 0, 0.2)"})}),this.rootNode=g,this.maxDepth=c,this.colorDomain=y})}update(n){return le(this,arguments,function*({seriesRect:t}){yield this.updateSelections(),yield this.updateNodes();const e=this.getAnimationData();this.checkResize(t)&&this.animationState.transition("resize",e),this.animationState.transition("update",e)})}resetAllAnimation(n){var t;const e=(t=this.animationResetFns)==null?void 0:t.datum;this.ctx.animationManager.stopByAnimationGroupId(this.id),e!=null&&xn(n.datumSelections,e)}animateEmptyUpdateReady(n){this.ctx.animationManager.skipCurrentBatch(),this.resetAllAnimation(n)}animateWaitingUpdateReady(n){this.ctx.animationManager.skipCurrentBatch(),this.resetAllAnimation(n)}animateReadyHighlight(n){var t;const e=(t=this.animationResetFns)==null?void 0:t.datum;e!=null&&xn([n],e)}animateReadyResize(n){this.resetAllAnimation(n)}animateClearingUpdateEmpty(n){this.ctx.animationManager.skipCurrentBatch(),this.resetAllAnimation(n)}animationTransitionClear(){this.animationState.transition("clear",this.getAnimationData())}getAnimationData(){return{datumSelections:[this.groupSelection]}}isProcessedDataAnimatable(){return!0}checkProcessedDataAnimatable(){this.isProcessedDataAnimatable()||this.ctx.animationManager.skipCurrentBatch()}getLabelData(){return[]}getSeriesDomain(){return[NaN,NaN]}getLegendData(n){const{colorKey:t,colorName:e,colorRange:r,visible:i}=this.properties;return n==="gradient"&&t!=null&&r!=null?[{legendType:"gradient",enabled:i,seriesId:this.id,colorName:e,colorRange:r,colorDomain:this.colorDomain}]:[]}getDatumIdFromData(n){return`${n.index}`}getDatumId(n){return this.getDatumIdFromData(n)}},_p=class extends Js{constructor(){super(...arguments),this.childrenKey="children",this.fills=Object.values(Tl),this.strokes=Object.values(Bh)}};R([M(Ee)],_p.prototype,"childrenKey",2);R([M(Ee,{optional:!0})],_p.prototype,"sizeKey",2);R([M(Ee,{optional:!0})],_p.prototype,"colorKey",2);R([M(Ee,{optional:!0})],_p.prototype,"colorName",2);R([M(ls)],_p.prototype,"fills",2);R([M(ls)],_p.prototype,"strokes",2);R([M(ls,{optional:!0})],_p.prototype,"colorRange",2);var u$e=0,c$e=["area","bar","column","histogram","line","pie","donut","scatter","bubble","radial-column","radial-bar","radar-line","radar-area","nightingale","range-bar","range-area","box-plot","treemap","sunburst","heatmap","waterfall"];function Fz(n){switch(n){case"rangeBar":case"rangeArea":case"waterfall":case"boxPlot":case"radarLine":case"radarArea":case"nightingale":case"radialColumn":case"radialBar":case"sunburst":case"treemap":case"heatmap":return!0;default:return!1}}var d$e=new Set(["bar","groupedBar","stackedBar","normalizedBar"]);function Uu(n){return d$e.has(n)}var p$e=new Set(["stackedColumn","normalizedColumn","stackedBar","normalizedBar"]);function h$e(n){return p$e.has(n)}function Ste(n){switch(n){case"radialColumn":case"radialBar":case"radarLine":case"radarArea":case"nightingale":return!0;default:return!1}}function f$e(n){switch(n){case"radialColumn":case"radialBar":return!0;default:return!1}}function xd(n){switch(n){case"treemap":case"sunburst":return!0;default:return!1}}function v$e(n){switch(n){case"treemap":case"sunburst":case"heatmap":return!0;default:return!1}}function uw(n){switch(n){case"doughnut":return"donut";default:return n}}function Is(n){switch(n){case"bar":case"groupedBar":case"stackedBar":case"normalizedBar":return"bar";case"column":case"groupedColumn":case"stackedColumn":case"normalizedColumn":return"bar";case"line":return"line";case"area":case"stackedArea":case"normalizedArea":return"area";case"bubble":return"bubble";case"scatter":return"scatter";case"histogram":return"histogram";case"radialColumn":return"radial-column";case"radialBar":return"radial-bar";case"radarLine":return"radar-line";case"radarArea":return"radar-area";case"nightingale":return"nightingale";case"rangeBar":return"range-bar";case"rangeArea":return"range-area";case"boxPlot":return"box-plot";case"treemap":return"treemap";case"sunburst":return"sunburst";case"pie":return"pie";case"donut":case"doughnut":return"donut";case"heatmap":return"heatmap";case"waterfall":return"waterfall";default:return"cartesian"}}function YB(n){switch(n){case"pie":case"donut":return!0;default:return!1}}var wte=["number","category","grouped-category","log","time"];function g$e(n){switch(n){case"bar":case"stackedBar":case"normalizedBar":return["number","category"];case"groupedBar":return["number","grouped-category"];case"column":case"stackedColumn":case"normalizedColumn":case"line":case"area":case"stackedArea":case"normalizedArea":case"histogram":return["category","number"];case"groupedColumn":return["grouped-category","number"];case"scatter":case"bubble":return["number","number"];default:return}}function y$e(n){return Array.isArray(n)?[]:{}}function cw(n,t){return t.clone!==!1&&t.isMergeableObject(n)?jd(y$e(n),n,t):n}function m$e(n,t,e){return n.concat(t).map(function(r){return cw(r,e)})}function C$e(n,t){if(!t.customMerge)return jd;var e=t.customMerge(n);return typeof e=="function"?e:jd}function S$e(n){return Object.getOwnPropertySymbols?Object.getOwnPropertySymbols(n).filter(function(t){return n.propertyIsEnumerable(t)}):[]}function Iz(n){return Object.keys(n).concat(S$e(n))}function _te(n,t){try{return t in n}catch{return!1}}function w$e(n,t){return _te(n,t)&&!(Object.hasOwnProperty.call(n,t)&&Object.propertyIsEnumerable.call(n,t))}function _$e(n,t,e){n===void 0&&(n={}),t===void 0&&(t={});var r={};return e.isMergeableObject(n)&&Iz(n).forEach(function(i){r[i]=cw(n[i],e)}),Iz(t).forEach(function(i){w$e(n,i)||(_te(n,i)&&e.isMergeableObject(t[i])?r[i]=C$e(i,e)(n[i],t[i],e):r[i]=cw(t[i],e))}),r}function x$e(n){return E$e(n)&&!b$e(n)}function E$e(n){return!!n&&typeof n=="object"}function b$e(n){var t=Object.prototype.toString.call(n);return t==="[object RegExp]"||t==="[object Date]"}function jd(n,t,e){e=e||{},e.arrayMerge=e.arrayMerge||m$e,e.isMergeableObject=e.isMergeableObject||x$e,e.cloneUnlessOtherwiseSpecified=cw;var r=Array.isArray(t),i=Array.isArray(n),o=r===i;return o?r?e.arrayMerge(n,t,e):_$e(n,t,e):cw(t,e)}function Iv(n,t,e){if(n==null)return e;for(var r=t.split("."),i=n;r.length>1;)if(i=i[r.shift()],i==null)return e;var o=i[r[0]];return o??e}function O$e(n,t,e){if(n!=null){var r=t.split("."),i=n;r.forEach(function(o,a){i[o]||(i[o]={}),a<r.length-1&&(i=i[o])}),i[r[r.length-1]]=e}}var dw=function(){return dw=Object.assign||function(n){for(var t,e=1,r=arguments.length;e<r;e++){t=arguments[e];for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(n[i]=t[i])}return n},dw.apply(this,arguments)};function R$e(n,t){var e,r=n.chartOptionsToRestore,i=n.chartPaletteToRestore,o=n.chartThemeToRestore,a=L$e(n),s=XB(a),l=s?{baseTheme:a}:(e=xte(n,a))!==null&&e!==void 0?e:{},u=n.getGridOptionsChartThemeOverrides(),c=n.apiChartThemeOverrides,d=Is(n.chartType),p=YB(d)?d:"cartesian",h=n.crossFiltering?A$e(t,n,p):void 0,f=dw({},r??{}),v=function(){var C=function(S){return S?Object.keys(S).some(function(w){return Iv(S[w],"title.enabled",!1)}):!1};return C(u)||C(c)},g=[s?M$e(n,v()):void 0,h,u,c,f],y=g.filter(function(C){return!!C}).reduce(function(C,S){return{baseTheme:C,overrides:S}},l);if(i&&a===o){var m=Hs.getChartTheme(l).palette;P$e(i,m)||(y.palette=i)}return y}function T$e(n,t){return t.reduce(function(e,r){return r?{baseTheme:e,overrides:r}:e},n)}function P$e(n,t){var e=function(r,i){return r.length!==i.length?!1:r.every(function(o,a){return o===i[a]})};return e(n.fills,t.fills)&&e(n.strokes,t.strokes)}function XB(n){return A.includes(Object.keys(Hs.themes),n)}function A$e(n,t,e){var r,i={listeners:{legendItemClick:function(a){var s=n.getChart();s.series.forEach(function(l){l.toggleSeriesItem(a.itemId,a.enabled),l.toggleSeriesItem("".concat(a.itemId,"-filtered-out"),a.enabled)})}}},o={};return r={},r[e]={tooltip:{delay:500},legend:i,listeners:{click:function(a){return t.crossFilterCallback(a,!0)}},series:o},r}var D$e=wte.reduce(function(n,t){var e;return dw(dw({},n),(e={},e[t]={title:{_enabledFromTheme:!0}},e))},{});function M$e(n,t){var e=n.getExtraPaddingDirections();return{common:{animation:{duration:500},axes:D$e,padding:{top:!t&&e.includes("top")?40:20,right:e.includes("right")?30:20,bottom:e.includes("bottom")?40:20,left:e.includes("left")?30:20}},pie:{series:{title:{_enabledFromTheme:!0},calloutLabel:{_enabledFromTheme:!0},sectorLabel:{enabled:!1,_enabledFromTheme:!0}}},donut:{series:{title:{_enabledFromTheme:!0},calloutLabel:{_enabledFromTheme:!0},sectorLabel:{enabled:!1,_enabledFromTheme:!0}}}}}function L$e(n){var t=n.getChartThemeName(),e=n.getChartThemes();return A.includes(e,t)||(t=e[0]),t}function xte(n,t){var e=n.customChartThemes,r=e&&e[t];return r||console.warn("AG Grid: no stock theme exists with the name '".concat(t,"' and no ")+"custom chart theme with that name was supplied to 'customChartThemes'"),r}var kI=function(){return kI=Object.assign||function(n){for(var t,e=1,r=arguments.length;e<r;e++){t=arguments[e];for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(n[i]=t[i])}return n},kI.apply(this,arguments)},wm=function(n,t){var e=typeof Symbol=="function"&&n[Symbol.iterator];if(!e)return n;var r=e.call(n),i,o=[],a;try{for(;(t===void 0||t-- >0)&&!(i=r.next()).done;)o.push(i.value)}catch(s){a={error:s}}finally{try{i&&!i.done&&(e=r.return)&&e.call(r)}finally{if(a)throw a.error}}return o},tv=function(n,t,e){if(e||arguments.length===2)for(var r=0,i=t.length,o;r<i;r++)(o||!(r in t))&&(o||(o=Array.prototype.slice.call(t,0,r)),o[r]=t[r]);return n.concat(o||Array.prototype.slice.call(t))},F$e=function(n){var t=typeof Symbol=="function"&&Symbol.iterator,e=t&&n[t],r=0;if(e)return e.call(n);if(n&&typeof n.length=="number")return{next:function(){return n&&r>=n.length&&(n=void 0),{value:n&&n[r++],done:!n}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")},hx=function(n){return function(t){return t==null?!0:n(t)}},Nz=function(n){return typeof n=="string"},kz=function(n){return typeof n=="boolean"},I$e=function(n){return typeof n=="object"},xu=function(n,t){return function(e){return"AG Grid - unable to update chart as invalid params supplied:  `".concat(n,": ").concat(e,"`, expected ").concat(t,".")}},N$e=function(){function n(){}n.isValidChartType=function(e){return n.validChartTypes.includes(e)},n.isLegacyChartType=function(e){return n.legacyChartTypes.includes(e)},n.validateChartParams=function(e){var r=e;switch(r.type){case"rangeChartUpdate":return n.validateUpdateRangeChartParams(e);case"pivotChartUpdate":return n.validateUpdatePivotChartParams(e);case"crossFilterChartUpdate":return n.validateUpdateCrossFilterChartParams(e);default:return console.warn("AG Grid - Invalid value supplied for 'type': ".concat(e.type,". It must be either 'rangeChartUpdate', 'pivotChartUpdate', or 'crossFilterChartUpdate'.")),!1}},n.validateUpdateRangeChartParams=function(e){var r=tv(tv(tv([],wm(n.commonValidations),!1),wm(n.cellRangeValidations),!1),[{property:"seriesChartTypes",validationFn:function(i){return i===void 0||Array.isArray(i)&&i.every(I$e)},warnMessage:xu("seriesChartTypes","Array of SeriesChartType")}],!1);return n.validateProperties(e,r,["type","chartId","chartType","chartThemeName","chartThemeOverrides","unlinkChart","cellRange","suppressChartRanges","aggFunc","seriesChartTypes"],"UpdateRangeChartParams")},n.validateUpdatePivotChartParams=function(e){var r=tv([],wm(n.commonValidations),!1);return n.validateProperties(e,r,["type","chartId","chartType","chartThemeName","chartThemeOverrides","unlinkChart"],"UpdatePivotChartParams")},n.validateUpdateCrossFilterChartParams=function(e){var r=tv(tv([],wm(n.commonValidations),!1),wm(n.cellRangeValidations),!1);return n.validateProperties(e,r,["type","chartId","chartType","chartThemeName","chartThemeOverrides","unlinkChart","cellRange","suppressChartRanges","aggFunc"],"UpdateCrossFilterChartParams")},n.validateProperties=function(e,r,i,o){var a,s,l=void 0;try{for(var u=F$e(r),c=u.next();!c.done;c=u.next()){var d=c.value,p=d.property,h=d.validationFn,f=d.warnMessage;if(p in e){var v=e[p],g=h(v);if(g===!0)continue;if(g===!1)return console.warn(f(v)),!1;l=l||kI({},e),l[p]=g}}}catch(y){a={error:y}}finally{try{c&&!c.done&&(s=u.return)&&s.call(u)}finally{if(a)throw a.error}}for(var p in e)if(!i.includes(p))return console.warn("AG Grid - Unexpected property supplied. ".concat(o," does not contain: `").concat(p,"`.")),!1;return l||!0};var t;return t=n,n.validChartTypes=["column","groupedColumn","stackedColumn","normalizedColumn","bar","groupedBar","stackedBar","normalizedBar","line","scatter","bubble","pie","donut","area","stackedArea","normalizedArea","histogram","radialColumn","radialBar","radarLine","radarArea","nightingale","rangeBar","rangeArea","boxPlot","treemap","sunburst","heatmap","waterfall","columnLineCombo","areaColumnCombo","customCombo"],n.legacyChartTypes=["doughnut"],n.validateChartType=hx(function(e){if(t.isValidChartType(e))return!0;if(t.isLegacyChartType(e)){var r=uw(e);return console.warn("AG Grid - The chart type '".concat(e,"' has been deprecated. Please use '").concat(r,"' instead.")),r}return!1}),n.validateAgChartThemeOverrides=hx(function(e){return typeof e=="object"}),n.validateChartParamsCellRange=hx(function(e){return typeof e=="object"}),n.validateAggFunc=hx(function(e){return typeof e=="string"||typeof e=="function"}),n.commonValidations=[{property:"chartId",validationFn:Nz,warnMessage:xu("chartId","string")},{property:"chartType",validationFn:n.validateChartType,warnMessage:xu("chartType",n.validChartTypes.join(", "))},{property:"chartThemeName",validationFn:Nz,warnMessage:xu("chartThemeName","string")},{property:"chartThemeOverrides",validationFn:n.validateAgChartThemeOverrides,warnMessage:xu("chartThemeOverrides","AgChartThemeOverrides")},{property:"unlinkChart",validationFn:kz,warnMessage:xu("unlinkChart","boolean")}],n.cellRangeValidations=[{property:"cellRange",validationFn:n.validateChartParamsCellRange,warnMessage:xu("cellRange","ChartParamsCellRange")},{property:"suppressChartRanges",validationFn:kz,warnMessage:xu("suppressChartRanges","boolean")},{property:"aggFunc",validationFn:n.validateAggFunc,warnMessage:xu("aggFunc","string or IAggFunc")}],n}(),k$e=function(){var n=function(t,e){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])},n(t,e)};return function(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");n(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}}(),GI=function(){return GI=Object.assign||function(n){for(var t,e=1,r=arguments.length;e<r;e++){t=arguments[e];for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(n[i]=t[i])}return n},GI.apply(this,arguments)},Gz=function(n,t,e,r){var i=arguments.length,o=i<3?t:r===null?r=Object.getOwnPropertyDescriptor(t,e):r,a;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(n,t,e,r);else for(var s=n.length-1;s>=0;s--)(a=n[s])&&(o=(i<3?a(o):i>3?a(t,e,o):a(t,e))||o);return i>3&&o&&Object.defineProperty(t,e,o),o},G$e=function(n){var t=typeof Symbol=="function"&&Symbol.iterator,e=t&&n[t],r=0;if(e)return e.call(n);if(n&&typeof n.length=="number")return{next:function(){return n&&r>=n.length&&(n=void 0),{value:n&&n[r++],done:!n}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")},Ete=["ag-default","ag-material","ag-sheets","ag-polychroma","ag-vivid"],js=function(n){k$e(t,n);function t(e){var r=n.call(this)||this;return r.model=e,r.isEnterprise=function(){return KB.enterpriseModule.isEnterprise},r}return t.prototype.init=function(){var e=this;this.setChartRange(),this.addManagedListener(this.eventService,T.EVENT_RANGE_SELECTION_CHANGED,function(r){r.id&&r.id===e.model.chartId&&e.updateForRangeChange()}),this.model.unlinked&&this.rangeService&&this.rangeService.setCellRanges([]),this.addManagedListener(this.eventService,T.EVENT_COLUMN_MOVED,this.updateForGridChange.bind(this)),this.addManagedListener(this.eventService,T.EVENT_COLUMN_PINNED,this.updateForGridChange.bind(this)),this.addManagedListener(this.eventService,T.EVENT_COLUMN_VISIBLE,this.updateForGridChange.bind(this)),this.addManagedListener(this.eventService,T.EVENT_COLUMN_ROW_GROUP_CHANGED,this.updateForGridChange.bind(this)),this.addManagedListener(this.eventService,T.EVENT_MODEL_UPDATED,this.updateForGridChange.bind(this)),this.addManagedListener(this.eventService,T.EVENT_CELL_VALUE_CHANGED,this.updateForDataChange.bind(this))},t.prototype.update=function(e){if(!this.validUpdateType(e))return!1;var r=N$e.validateChartParams(e);if(!r)return!1;var i=r===!0?e:r;return this.applyValidatedChartParams(i),!0},t.prototype.applyValidatedChartParams=function(e){var r,i,o,a,s,l,u,c=e.chartId,d=e.chartType,p=e.chartThemeName,h=e.unlinkChart,f={chartId:c,pivotChart:this.model.pivotChart,chartType:d??this.model.chartType,chartThemeName:p??this.model.chartThemeName,unlinkChart:h??this.model.unlinked,cellRange:this.model.suppliedCellRange,aggFunc:this.model.aggFunc,seriesChartTypes:void 0,suppressChartRanges:!1,crossFiltering:!1},v=GI({},f);switch(e.type){case"rangeChartUpdate":v.cellRange=(r=this.createCellRange(e))!==null&&r!==void 0?r:this.model.suppliedCellRange,v.aggFunc=(i=e.aggFunc)!==null&&i!==void 0?i:this.model.aggFunc,v.seriesChartTypes=e.seriesChartTypes,v.suppressChartRanges=(o=e.suppressChartRanges)!==null&&o!==void 0?o:this.model.suppressChartRanges;break;case"crossFilterChartUpdate":v.cellRange=(a=this.createCellRange(e))!==null&&a!==void 0?a:this.model.suppliedCellRange,v.aggFunc=(s=e.aggFunc)!==null&&s!==void 0?s:this.model.aggFunc,v.crossFiltering=!0,v.suppressChartRanges=(l=e.suppressChartRanges)!==null&&l!==void 0?l:this.model.suppressChartRanges;break}this.model.updateModel(v);var g=v.unlinkChart||v.suppressChartRanges;g?(u=this.rangeService)===null||u===void 0||u.setCellRanges([]):this.setChartRange()},t.prototype.updateForGridChange=function(){this.model.unlinked||(this.model.updateCellRanges(),this.model.updateData(),this.setChartRange())},t.prototype.updateForDataChange=function(){this.model.unlinked||(this.model.updateData(),this.raiseChartModelUpdateEvent())},t.prototype.updateForRangeChange=function(){this.updateForGridChange(),this.raiseChartRangeSelectionChangedEvent()},t.prototype.updateForPanelChange=function(e){this.model.updateCellRanges(e),this.model.updateData(),this.setChartRange(),this.raiseChartRangeSelectionChangedEvent()},t.prototype.getChartUpdateParams=function(e){var r=this,i=this.getSelectedValueColState(),o=i.map(function(l){return{colId:l.colId,displayName:l.displayName}}),a=this.getChartData(),s=this.getSelectedDimensions();return{data:a,grouping:this.isGrouping(),categories:s.map(function(l){return{id:l.colId,name:l.displayName,chartDataType:r.model.getChartDataType(l.colId)}}),fields:o,chartId:this.getChartId(),getCrossFilteringContext:function(){return{lastSelectedChartId:"xxx"}},seriesChartTypes:this.getSeriesChartTypes(),updatedOverrides:e}},t.prototype.getChartModel=function(){var e=this.model.pivotChart?"pivot":"range",r=this.isComboChart()?this.model.comboChartModel.seriesChartTypes:void 0;return{modelType:e,chartId:this.model.chartId,chartType:this.model.chartType,chartThemeName:this.getChartThemeName(),chartOptions:this.chartProxy.getChartThemeOverrides(),chartPalette:this.chartProxy.getChartPalette(),cellRange:this.getCellRangeParams(),suppressChartRanges:this.model.suppressChartRanges,aggFunc:this.model.aggFunc,unlinkChart:this.model.unlinked,seriesChartTypes:r}},t.prototype.getChartId=function(){return this.model.chartId},t.prototype.getChartData=function(){return this.model.chartData},t.prototype.getChartType=function(){return this.model.chartType},t.prototype.setChartType=function(e){var r,i,o=this.model.chartType;if(xd(o)&&!xd(e)){var a=!1;try{for(var s=G$e(this.model.dimensionColState),l=s.next();!l.done;l=s.next()){var u=l.value;u.selected&&(a&&(u.selected=!1),a=!0)}}catch(c){r={error:c}}finally{try{l&&!l.done&&(i=s.return)&&i.call(s)}finally{if(r)throw r.error}}}this.model.chartType=e,this.model.comboChartModel.updateSeriesChartTypes(),this.raiseChartModelUpdateEvent(),this.raiseChartOptionsChangedEvent()},t.prototype.setChartThemeName=function(e,r){this.model.chartThemeName=e,r||(this.raiseChartModelUpdateEvent(),this.raiseChartOptionsChangedEvent())},t.prototype.getChartThemeName=function(){return this.model.chartThemeName},t.prototype.isPivotChart=function(){return this.model.pivotChart},t.prototype.isPivotMode=function(){return this.model.isPivotMode()},t.prototype.isGrouping=function(){return this.model.isGrouping()},t.prototype.isCrossFilterChart=function(){return this.model.crossFiltering},t.prototype.getThemeNames=function(){return this.gridOptionsService.get("chartThemes")||Ete},t.prototype.getThemes=function(){var e=this,r=this.getThemeNames();return r.map(function(i){var o=XB(i),a=o?i:e.chartProxy.lookupCustomChartTheme(i);return Hs.getChartTheme(a)})},t.prototype.getPalettes=function(){var e=this.getThemes();return e.map(function(r){return r.palette})},t.prototype.getThemeTemplateParameters=function(){var e=this.getThemes();return e.map(function(r){return r.getTemplateParameters()})},t.prototype.getValueColState=function(){return this.model.valueColState.map(this.displayNameMapper.bind(this))},t.prototype.getSelectedValueColState=function(){return this.getValueColState().filter(function(e){return e.selected})},t.prototype.getSelectedDimensions=function(){return this.model.getSelectedDimensions()},t.prototype.displayNameMapper=function(e){var r=this.model.columnNames[e.colId];return e.displayName=r?r.join(" - "):this.model.getColDisplayName(e.column),e},t.prototype.getColStateForMenu=function(){return{dimensionCols:this.model.dimensionColState,valueCols:this.getValueColState()}},t.prototype.setChartRange=function(e){e===void 0&&(e=!1),this.rangeService&&!this.model.suppressChartRanges&&!this.model.unlinked&&this.rangeService.setCellRanges(this.getCellRanges()),e||this.raiseChartModelUpdateEvent()},t.prototype.detachChartRange=function(){this.model.unlinked=!this.model.unlinked,this.model.unlinked?this.rangeService&&this.rangeService.setCellRanges([]):this.updateForGridChange()},t.prototype.setChartProxy=function(e){this.chartProxy=e},t.prototype.getChartProxy=function(){return this.chartProxy},t.prototype.isActiveXYChart=function(){return A.includes(["scatter","bubble"],this.getChartType())},t.prototype.isChartLinked=function(){return!this.model.unlinked},t.prototype.customComboExists=function(){var e=this.model.comboChartModel.savedCustomSeriesChartTypes;return e&&e.length>0},t.prototype.getSeriesChartTypes=function(){return this.model.comboChartModel.seriesChartTypes},t.prototype.isComboChart=function(){return this.model.isComboChart()},t.prototype.updateSeriesChartType=function(e,r,i){var o=this.model.comboChartModel.seriesChartTypes.find(function(l){return l.colId===e});if(o){var a=this.model.chartType!=="customCombo";a&&(this.model.chartType="customCombo");var s=o.chartType;r!=null&&(o.chartType=r),i!=null&&(o.secondaryAxis=i),this.model.comboChartModel.savedCustomSeriesChartTypes=this.model.comboChartModel.seriesChartTypes,this.model.comboChartModel.updateSeriesChartTypes(),this.updateForDataChange(),a&&this.dispatchEvent({type:t.EVENT_CHART_TYPE_CHANGED}),s!==r&&this.dispatchEvent({type:t.EVENT_CHART_SERIES_CHART_TYPE_CHANGED}),this.raiseChartOptionsChangedEvent()}},t.prototype.getActiveSeriesChartTypes=function(){var e=this.getSelectedValueColState().map(function(r){return r.colId});return this.getSeriesChartTypes().filter(function(r){return e.includes(r.colId)})},t.prototype.getChartSeriesTypes=function(){var e=["line","bar","area"];return this.isComboChart()?e:[Is(this.getChartType())]},t.prototype.getCellRanges=function(){return[this.model.dimensionCellRange,this.model.valueCellRange].filter(function(e){return e})},t.prototype.createCellRange=function(e){var r;return e.cellRange&&((r=this.rangeService)===null||r===void 0?void 0:r.createCellRangeFromCellRangeParams(e.cellRange))},t.prototype.validUpdateType=function(e){var r=this,i;if(!e.type)return console.warn("AG Grid - Unable to update chart as the 'type' is missing. It must be either 'rangeChartUpdate', 'pivotChartUpdate', or 'crossFilterChartUpdate'."),!1;var o={"Range Chart":function(){return!r.isPivotChart()&&!r.isCrossFilterChart()},"Pivot Chart":function(){return r.isPivotChart()},"Cross Filter Chart":function(){return r.isCrossFilterChart()}},a=(i=Object.keys(o).find(function(l){return o[l]()}))!==null&&i!==void 0?i:"Range Chart",s=e.type==="".concat(a[0].toLowerCase()).concat(a.slice(1).replace(/ /g,""),"Update");return s||console.warn("AG Grid - Unable to update chart as a '".concat(e.type,"' update type is not permitted on a ").concat(a,".")),s},t.prototype.getCellRangeParams=function(){var e=this.getCellRanges(),r=e[0],i=r&&r.startRow||null,o=r&&r.endRow||null;return{rowStartIndex:i&&i.rowIndex,rowStartPinned:i&&i.rowPinned,rowEndIndex:o&&o.rowIndex,rowEndPinned:o&&o.rowPinned,columns:e.reduce(function(a,s){return a.concat(s.columns.map(function(l){return l.getId()}))},[])}},t.prototype.raiseChartModelUpdateEvent=function(){var e={type:t.EVENT_CHART_MODEL_UPDATE};this.dispatchEvent(e)},t.prototype.raiseChartUpdatedEvent=function(){var e={type:t.EVENT_CHART_UPDATED};this.dispatchEvent(e)},t.prototype.raiseChartApiUpdateEvent=function(){var e={type:t.EVENT_CHART_API_UPDATE};this.dispatchEvent(e)},t.prototype.raiseChartOptionsChangedEvent=function(){var e=this.getChartModel(),r=e.chartId,i=e.chartType,o={type:T.EVENT_CHART_OPTIONS_CHANGED,chartId:r,chartType:i,chartThemeName:this.getChartThemeName(),chartOptions:this.chartProxy.getChartThemeOverrides()};this.eventService.dispatchEvent(o)},t.prototype.raiseChartRangeSelectionChangedEvent=function(){var e={type:T.EVENT_CHART_RANGE_SELECTION_CHANGED,id:this.model.chartId,chartId:this.model.chartId,cellRange:this.getCellRangeParams()};this.eventService.dispatchEvent(e)},t.prototype.destroy=function(){n.prototype.destroy.call(this),this.rangeService&&this.rangeService.setCellRanges([])},t.EVENT_CHART_UPDATED="chartUpdated",t.EVENT_CHART_API_UPDATE="chartApiUpdate",t.EVENT_CHART_MODEL_UPDATE="chartModelUpdate",t.EVENT_CHART_TYPE_CHANGED="chartTypeChanged",t.EVENT_CHART_SERIES_CHART_TYPE_CHANGED="chartSeriesChartTypeChanged",Gz([E("rangeService")],t.prototype,"rangeService",void 0),Gz([z],t.prototype,"init",null),t}(X),V$e=function(){var n=function(t,e){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])},n(t,e)};return function(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");n(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}}(),sM=function(n,t,e,r){var i=arguments.length,o=i<3?t:r===null?r=Object.getOwnPropertyDescriptor(t,e):r,a;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(n,t,e,r);else for(var s=n.length-1;s>=0;s--)(a=n[s])&&(o=(i<3?a(o):i>3?a(t,e,o):a(t,e))||o);return i>3&&o&&Object.defineProperty(t,e,o),o},fx=function(n,t){var e=typeof Symbol=="function"&&n[Symbol.iterator];if(!e)return n;var r=e.call(n),i,o=[],a;try{for(;(t===void 0||t-- >0)&&!(i=r.next()).done;)o.push(i.value)}catch(s){a={error:s}}finally{try{i&&!i.done&&(e=r.return)&&e.call(r)}finally{if(a)throw a.error}}return o},vx=function(n,t,e){if(e||arguments.length===2)for(var r=0,i=t.length,o;r<i;r++)(o||!(r in t))&&(o||(o=Array.prototype.slice.call(t,0,r)),o[r]=t[r]);return n.concat(o||Array.prototype.slice.call(t))},B$e=function(n){var t=typeof Symbol=="function"&&Symbol.iterator,e=t&&n[t],r=0;if(e)return e.call(n);if(n&&typeof n.length=="number")return{next:function(){return n&&r>=n.length&&(n=void 0),{value:n&&n[r++],done:!n}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")},H$e={groups:[{type:"categories",isOpen:!0},{type:"series",isOpen:!0},{type:"seriesChartType",isOpen:!0}]},j$e=function(n){V$e(t,n);function t(e,r){var i=n.call(this,t.TEMPLATE)||this;return i.chartController=e,i.chartOptionsService=r,i.columnComps=new Map,i}return t.prototype.init=function(){this.updatePanels(),this.addManagedListener(this.chartController,js.EVENT_CHART_MODEL_UPDATE,this.updatePanels.bind(this)),this.addManagedListener(this.chartController,js.EVENT_CHART_API_UPDATE,this.updatePanels.bind(this)),this.createAutoScrollService()},t.prototype.destroy=function(){this.clearComponents(),n.prototype.destroy.call(this)},t.prototype.updatePanels=function(){var e=this,r,i,o=this.chartType,a=this.chartController.getColStateForMenu(),s=a.dimensionCols,l=a.valueCols,u=s.map(function(h){return h.colId}).concat(l.map(function(h){return h.colId}));this.chartType=this.chartController.getChartType();var c=this.getGroupExpandedState();if(A.areEqual(A.keys(this.columnComps),u)&&this.chartType===o){if(vx(vx([],fx(s),!1),fx(l),!1).forEach(function(h){e.columnComps.get(h.colId).setValue(h.selected,!0)}),this.chartController.isActiveXYChart()){var d=this.generateGetSeriesLabel();l.forEach(function(h){e.columnComps.get(h.colId).setLabel(d(h))})}A.removeFromParent(this.getGui().querySelector("#seriesChartTypeGroup")),this.seriesChartTypeGroupComp=this.destroyBean(this.seriesChartTypeGroupComp);var p=(r=this.getDataPanelDef().groups)===null||r===void 0?void 0:r.reduce(function(h,f,v){var g=f.type;return g==="seriesChartType"?v:h},-1);p!==-1&&this.createSeriesChartTypeGroup(l,p)}else this.clearComponents(),(i=this.getDataPanelDef().groups)===null||i===void 0||i.forEach(function(h){var f=h.type;f==="categories"?e.createCategoriesGroup(s):f==="series"?e.createSeriesGroup(l):f==="seriesChartType"?e.createSeriesChartTypeGroup(l):console.warn("AG Grid: invalid charts data panel group name supplied: '".concat(f,"'"))});this.restoreGroupExpandedState(c)},t.prototype.getGroupExpandedState=function(){var e=this,r=[{groupType:"categories",comp:this.categoriesGroupComp},{groupType:"series",comp:this.seriesGroupComp},{groupType:"seriesChartType",comp:this.seriesChartTypeGroupComp}];return r.map(function(i){var o,a,s=i.groupType,l=i.comp,u=!!(!((a=(o=e.getDataPanelDef().groups)===null||o===void 0?void 0:o.find(function(c){var d=c.type;return d===s}))===null||a===void 0)&&a.isOpen);return l?l.isExpanded():u})},t.prototype.restoreGroupExpandedState=function(e){[this.categoriesGroupComp,this.seriesGroupComp,this.seriesChartTypeGroupComp].forEach(function(r,i){r&&r.toggleGroupExpand(e[i])})},t.prototype.createAutoScrollService=function(){var e=this.getGui();this.autoScrollService=new Hw({scrollContainer:e,scrollAxis:"y",getVerticalPosition:function(){return e.scrollTop},setVerticalPosition:function(r){return e.scrollTop=r}})},t.prototype.createComponent=function(e,r){var i=document.createElement("div");return i.id=r,i.className="ag-chart-data-section",i.appendChild(e.getGui()),i},t.prototype.addComponent=function(e,r,i){var o=this.createComponent(r,i);e.appendChild(o)},t.prototype.addComponentAtIndex=function(e,r,i,o){var a=this.createComponent(r,i);e.insertBefore(a,e.children[o])},t.prototype.addChangeListener=function(e,r){var i=this;this.addManagedListener(e,T.EVENT_FIELD_VALUE_CHANGED,function(){r.selected=e.getValue(),i.chartController.updateForPanelChange(r)})},t.prototype.createCategoriesGroup=function(e){var r=this;this.categoriesGroupComp=this.createBean(new Ha({title:this.getCategoryGroupTitle(),enabled:!0,suppressEnabledCheckbox:!0,suppressOpenCloseIcons:!1,cssIdentifier:"charts-data"}));var i="chartDimension".concat(this.categoriesGroupComp.getCompId()),o=this.chartController.getChartType(),a=xd(o);if(e.forEach(function(u){var c=r.categoriesGroupComp.createManagedBean(a?function(){var d=new Hu;return d.addCssClass("ag-data-select-checkbox"),d}():new CT);c.setLabel(A.escapeString(u.displayName)),c.setValue(u.selected),c.setInputName(i),r.addChangeListener(c,u),r.categoriesGroupComp.addItem(c),r.columnComps.set(u.colId,c),a&&r.addDragHandle(c,u)}),this.addComponent(this.getGui(),this.categoriesGroupComp,"categoriesGroup"),a){var s=this.categoriesGroupComp.getGui(),l={getIconName:function(){return St.ICON_MOVE},getContainer:function(){return s},onDragging:function(u){return r.onDragging(u)},onDragLeave:function(){return r.onDragLeave()},isInterestedIn:this.isInterestedIn.bind(this),targetContainsSource:!0};this.dragAndDropService.addDropTarget(l),this.addDestroyFunc(function(){return r.dragAndDropService.removeDropTarget(l)})}},t.prototype.createSeriesGroup=function(e){var r=this;if(this.seriesGroupComp=this.createManagedBean(new Ha({title:this.getSeriesGroupTitle(),enabled:!0,suppressEnabledCheckbox:!0,suppressOpenCloseIcons:!1,cssIdentifier:"charts-data"})),this.chartController.isActiveXYChart()){var i=this.seriesGroupComp.createManagedBean(new ET);i.setLabel(this.chartTranslationService.translate("paired")).setLabelAlignment("left").setLabelWidth("flex").setInputWidth("flex").setValue(this.chartOptionsService.getPairedMode()).onValueChange(function(u){r.chartOptionsService.setPairedMode(!!u),r.chartController.updateForGridChange()}),this.seriesGroupComp.addItem(i)}var o=this.generateGetSeriesLabel();e.forEach(function(u){var c=r.seriesGroupComp.createManagedBean(new Hu);c.addCssClass("ag-data-select-checkbox");var d=o(u);c.setLabel(d),c.setValue(u.selected),r.addChangeListener(c,u),r.seriesGroupComp.addItem(c),r.columnComps.set(u.colId,c),r.addDragHandle(c,u)});var a=this.getGui(),s=this.seriesGroupComp.getGui();this.addComponent(a,this.seriesGroupComp,"seriesGroup");var l={getIconName:function(){return St.ICON_MOVE},getContainer:function(){return s},onDragging:function(u){return r.onDragging(u)},onDragLeave:function(){return r.onDragLeave()},isInterestedIn:this.isInterestedIn.bind(this),targetContainsSource:!0};this.dragAndDropService.addDropTarget(l),this.addDestroyFunc(function(){return r.dragAndDropService.removeDropTarget(l)})},t.prototype.createSeriesChartTypeGroup=function(e,r){var i=this;if(this.chartController.isComboChart()){this.seriesChartTypeGroupComp=this.createManagedBean(new Ha({title:this.chartTranslationService.translate("seriesChartType"),enabled:!0,suppressEnabledCheckbox:!0,suppressOpenCloseIcons:!1,cssIdentifier:"charts-data"}));var o=this.chartController.getSeriesChartTypes();e.forEach(function(a){if(a.selected){var s=o.filter(function(h){return h.colId===a.colId})[0];if(s){var l=i.seriesChartTypeGroupComp.createManagedBean(new Ha({title:a.displayName,enabled:!0,suppressEnabledCheckbox:!0,suppressOpenCloseIcons:!0,cssIdentifier:"charts-format-sub-level"})),u=i.seriesChartTypeGroupComp.createManagedBean(new Hu).setLabel(i.chartTranslationService.translate("secondaryAxis")).setLabelWidth("flex").setDisabled(["groupedColumn","stackedColumn","stackedArea"].includes(s.chartType)).setValue(!!s.secondaryAxis).onValueChange(function(h){return i.chartController.updateSeriesChartType(a.colId,void 0,h)});l.addItem(u);var c=function(h,f){return i.chartTranslationService.translate(h,f)},d=[{value:"line",text:c("line","Line")},{value:"area",text:c("area","Area")},{value:"stackedArea",text:c("stackedArea","StackedArea")},{value:"groupedColumn",text:c("groupedColumn","Grouped Column")},{value:"stackedColumn",text:c("stackedColumn","Stacked Column")}],p=l.createManagedBean(new ru);p.setLabelAlignment("left").setLabelWidth("flex").addOptions(d).setValue(s.chartType).onValueChange(function(h){return i.chartController.updateSeriesChartType(a.colId,h)}),l.addItem(p),i.seriesChartTypeGroupComp.addItem(l)}}}),r===void 0?this.addComponent(this.getGui(),this.seriesChartTypeGroupComp,"seriesChartTypeGroup"):this.addComponentAtIndex(this.getGui(),this.seriesChartTypeGroupComp,"seriesChartTypeGroup",r)}},t.prototype.addDragHandle=function(e,r){var i=this,o=A.createIconNoSpan("columnDrag",this.gridOptionsService);o.classList.add("ag-drag-handle","ag-chart-data-column-drag-handle"),e.getGui().insertAdjacentElement("beforeend",o);var a={type:Or.ChartPanel,eElement:o,dragItemName:r.displayName,getDragItem:function(){return{columns:[r.column]}},onDragStopped:function(){return i.onDragStop()}};this.dragAndDropService.addDragSource(a,!0),this.addDestroyFunc(function(){return i.dragAndDropService.removeDragSource(a)})},t.prototype.generateGetSeriesLabel=function(){if(!this.chartController.isActiveXYChart())return function(a){return A.escapeString(a.displayName)};var e=this.chartType==="bubble",r=this.isInPairedMode(),i=0,o=new Map;return o.set(0,"X"),o.set(1,"Y"),o.set(2,"size"),function(a){var s=A.escapeString(a.displayName);if(!a.selected)return s;var l;return r?l=o.get(i%(e?3:2)):i===0?l="X":l=e&&i%2===0?"size":"Y",i++,"".concat(s," (").concat(l,")")}},t.prototype.getCategoryGroupTitle=function(){return this.chartTranslationService.translate(this.chartController.isActiveXYChart()?"labels":"categories")},t.prototype.getSeriesGroupTitle=function(){return this.chartTranslationService.translate(this.chartController.isActiveXYChart()?"xyValues":"series")},t.prototype.getDataPanelDef=function(){var e,r=(e=this.gridOptionsService.get("chartToolPanelsDef"))===null||e===void 0?void 0:e.dataPanel;return r||H$e},t.prototype.isInPairedMode=function(){return this.chartController.isActiveXYChart()&&this.chartOptionsService.getSeriesOption("paired","scatter")},t.prototype.clearComponents=function(){A.clearElement(this.getGui()),this.categoriesGroupComp=this.destroyBean(this.categoriesGroupComp),this.seriesGroupComp=this.destroyBean(this.seriesGroupComp),this.seriesChartTypeGroupComp=this.destroyBean(this.seriesChartTypeGroupComp),this.columnComps.clear()},t.prototype.onDragging=function(e){var r=this.checkHoveredItem(e);if(r){this.lastDraggedColumn=e.dragItem.columns[0];var i=r.comp,o=r.position,a=this.lastHoveredItem||{},s=a.comp,l=a.position;if(!(i===s&&o===l)){this.autoScrollService.check(e.event),this.clearHoveredItems(),this.lastHoveredItem={comp:i,position:o};var u=i.getGui();u.classList.add("ag-list-item-hovered","ag-item-highlight-".concat(o))}}},t.prototype.checkHoveredItem=function(e){var r,i;if(A.missing(e.vDirection))return null;var o=e.event;try{for(var a=B$e(this.columnComps.values()),s=a.next();!s.done;s=a.next()){var l=s.value,u=l.getGui();if(u.querySelector(".ag-chart-data-column-drag-handle")){var c=u.getBoundingClientRect(),d=o.clientY>=c.top&&o.clientY<=c.bottom;if(d){var p=u.clientHeight,h=o.clientY>c.top+p/2?"bottom":"top";return{comp:l,position:h}}}}}catch(f){r={error:f}}finally{try{s&&!s.done&&(i=a.return)&&i.call(a)}finally{if(r)throw r.error}}return null},t.prototype.onDragLeave=function(){this.clearHoveredItems()},t.prototype.onDragStop=function(){var e=this;if(this.lastHoveredItem){var r=this.chartController.getColStateForMenu(),i=r.dimensionCols,o=r.valueCols,a=vx(vx([],fx(i),!1),fx(o),!1).find(function(l){return l.column===e.lastDraggedColumn});if(a){var s=Array.from(this.columnComps.values()).indexOf(this.lastHoveredItem.comp);this.lastHoveredItem.position==="bottom"&&s++,a.order=s,this.chartController.updateForPanelChange(a)}}this.clearHoveredItems(),this.lastDraggedColumn=void 0,this.autoScrollService.ensureCleared()},t.prototype.clearHoveredItems=function(){this.columnComps.forEach(function(e){e.getGui().classList.remove("ag-list-item-hovered","ag-item-highlight-top","ag-item-highlight-bottom")}),this.lastHoveredItem=void 0},t.prototype.isInterestedIn=function(e){return e===Or.ChartPanel},t.TEMPLATE='<div class="ag-chart-data-wrapper ag-scrollable-container"></div>',sM([E("dragAndDropService")],t.prototype,"dragAndDropService",void 0),sM([E("chartTranslationService")],t.prototype,"chartTranslationService",void 0),sM([z],t.prototype,"init",null),t}(ae),$$e=function(){var n=function(t,e){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])},n(t,e)};return function(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");n(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}}(),Ip=function(n,t,e,r){var i=arguments.length,o=i<3?t:r===null?r=Object.getOwnPropertyDescriptor(t,e):r,a;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(n,t,e,r);else for(var s=n.length-1;s>=0;s--)(a=n[s])&&(o=(i<3?a(o):i>3?a(t,e,o):a(t,e))||o);return i>3&&o&&Object.defineProperty(t,e,o),o},Jd=function(n){$$e(t,n);function t(e){var r=n.call(this)||this;return r.activeComps=[],r.params=e,r}return t.prototype.init=function(){var e={cssIdentifier:"charts-format-sub-level",direction:"vertical",suppressOpenCloseIcons:!0};this.setTemplate(t.TEMPLATE,{fontGroup:e}),this.initGroup(),this.initFontFamilySelect(),this.initFontWeightStyleSelect(),this.initFontSizeSelect(),this.initFontColorPicker()},t.prototype.addCompToPanel=function(e){this.fontGroup.addItem(e),this.activeComps.push(e)},t.prototype.setEnabled=function(e){this.fontGroup.setEnabled(e)},t.prototype.initGroup=function(){var e=this;this.fontGroup.setTitle(this.params.name||this.chartTranslationService.translate("font")).setEnabled(this.params.enabled).hideEnabledCheckbox(!!this.params.suppressEnabledCheckbox).hideOpenCloseIcons(!0).onEnableChange(function(r){e.params.setEnabled&&e.params.setEnabled(r)})},t.prototype.initFontFamilySelect=function(){var e=this,r=["Arial, sans-serif","Aria Black, sans-serif","Book Antiqua,  serif","Charcoal, sans-serif","Comic Sans MS, cursive","Courier, monospace","Courier New, monospace","Gadget, sans-serif","Geneva, sans-serif","Helvetica, sans-serif","Impact, sans-serif","Lucida Console, monospace","Lucida Grande, sans-serif","Lucida Sans Unicode,  sans-serif","Monaco, monospace","Palatino Linotype, serif","Palatino, serif","Times New Roman, serif","Times, serif","Verdana, sans-serif"],i=this.params.initialFont.family,o=r[0];if(i){var a=r.map(function(c){return c.toLowerCase()}),s=a.indexOf(i.toLowerCase());if(s>=0)o=r[s];else{var l=A.capitalise(i);r.push(l),o=l}}var u=r.sort().map(function(c){return{value:c,text:c}});this.familySelect.addOptions(u).setInputWidth("flex").setValue("".concat(o)).onValueChange(function(c){return e.params.setFont({family:c})})},t.prototype.initFontSizeSelect=function(){var e=this,r=[8,10,12,14,16,18,20,22,24,26,28,30,32,34,36],i=this.params.initialFont.size;A.includes(r,i)||r.push(i);var o=r.sort(function(a,s){return a-s}).map(function(a){return{value:"".concat(a),text:"".concat(a)}});this.sizeSelect.addOptions(o).setInputWidth("flex").setValue("".concat(i)).onValueChange(function(a){return e.params.setFont({size:parseInt(a,10)})}),this.sizeSelect.setLabel(this.chartTranslationService.translate("size"))},t.prototype.initFontWeightStyleSelect=function(){var e=this,r=this.params.initialFont,i=r.weight,o=i===void 0?"normal":i,a=r.style,s=a===void 0?"normal":a,l=[{name:"normal",weight:"normal",style:"normal"},{name:"bold",weight:"bold",style:"normal"},{name:"italic",weight:"normal",style:"italic"},{name:"boldItalic",weight:"bold",style:"italic"}],u=l.find(function(d){return d.weight===o&&d.style===s});u||(u={name:"predefined",weight:o,style:s},l.unshift(u));var c=l.map(function(d){return{value:d.name,text:e.chartTranslationService.translate(d.name)}});this.weightStyleSelect.addOptions(c).setInputWidth("flex").setValue(u.name).onValueChange(function(d){var p=l.find(function(h){return h.name===d});e.params.setFont({weight:p.weight,style:p.style})})},t.prototype.initFontColorPicker=function(){var e=this;this.colorPicker.setLabel(this.chartTranslationService.translate("color")).setInputWidth("flex").setValue("".concat(this.params.initialFont.color)).onValueChange(function(r){return e.params.setFont({color:r})})},t.prototype.addItemToPanel=function(e){this.fontGroup.addItem(e),this.activeComps.push(e)},t.prototype.destroyActiveComps=function(){var e=this;this.activeComps.forEach(function(r){A.removeFromParent(r.getGui()),e.destroyBean(r)})},t.prototype.destroy=function(){this.destroyActiveComps(),n.prototype.destroy.call(this)},t.TEMPLATE=`<div class="ag-font-panel">
            <ag-group-component ref="fontGroup">
                <ag-select ref="familySelect"></ag-select>
                <ag-select ref="weightStyleSelect"></ag-select>
                <div class="ag-charts-font-size-color">
                    <ag-select ref="sizeSelect"></ag-select>
                    <ag-color-picker ref="colorPicker"></ag-color-picker>
                </div>
            </ag-group-component>
        </div>`,Ip([j("fontGroup")],t.prototype,"fontGroup",void 0),Ip([j("familySelect")],t.prototype,"familySelect",void 0),Ip([j("weightStyleSelect")],t.prototype,"weightStyleSelect",void 0),Ip([j("sizeSelect")],t.prototype,"sizeSelect",void 0),Ip([j("colorPicker")],t.prototype,"colorPicker",void 0),Ip([E("chartTranslationService")],t.prototype,"chartTranslationService",void 0),Ip([z],t.prototype,"init",null),t}(ae),W$e=function(){var n=function(t,e){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])},n(t,e)};return function(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");n(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}}(),cl=function(n,t,e,r){var i=arguments.length,o=i<3?t:r===null?r=Object.getOwnPropertyDescriptor(t,e):r,a;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(n,t,e,r);else for(var s=n.length-1;s>=0;s--)(a=n[s])&&(o=(i<3?a(o):i>3?a(t,e,o):a(t,e))||o);return i>3&&o&&Object.defineProperty(t,e,o),o},U$e=function(n){W$e(t,n);function t(e){var r=e.chartOptionsService,i=e.isExpandedOnInit,o=i===void 0?!1:i,a=n.call(this)||this;return a.activePanels=[],a.chartOptionsService=r,a.isExpandedOnInit=o,a}return t.prototype.init=function(){var e={cssIdentifier:"charts-format-top-level",direction:"vertical"};this.setTemplate(t.TEMPLATE,{legendGroup:e}),this.initLegendGroup(),this.initLegendPosition(),this.initLegendPadding(),this.initLegendItems(),this.initLabelPanel()},t.prototype.initLegendGroup=function(){var e=this;this.legendGroup.setTitle(this.chartTranslationService.translate("legend")).hideEnabledCheckbox(!1).setEnabled(this.chartOptionsService.getChartOption("legend.enabled")||!1).toggleGroupExpand(this.isExpandedOnInit).onEnableChange(function(r){e.chartOptionsService.setChartOption("legend.enabled",r),e.legendGroup.toggleGroupExpand(!0)})},t.prototype.initLegendPosition=function(){var e=this,r=["top","right","bottom","left"];this.legendPositionSelect.setLabel(this.chartTranslationService.translate("position")).setLabelWidth("flex").setInputWidth("flex").addOptions(r.map(function(i){return{value:i,text:e.chartTranslationService.translate(i)}})).setValue(this.chartOptionsService.getChartOption("legend.position")).onValueChange(function(i){return e.chartOptionsService.setChartOption("legend.position",i)})},t.prototype.initLegendPadding=function(){var e=this,r=this.chartOptionsService.getChartOption("legend.spacing");this.legendPaddingSlider.setLabel(this.chartTranslationService.translate("spacing")).setMaxValue(sn(r,200)).setValue("".concat(r)).setTextFieldWidth(45).onValueChange(function(i){return e.chartOptionsService.setChartOption("legend.spacing",i)})},t.prototype.initLegendItems=function(){var e=this,r=function(i,o,a,s){var l,u=(l=e.chartOptionsService.getChartOption("legend.".concat(i)))!==null&&l!==void 0?l:0;a.setLabel(e.chartTranslationService.translate(o)).setMaxValue(sn(u,s)).setValue("".concat(u)).setTextFieldWidth(45).onValueChange(function(c){e.chartOptionsService.setChartOption("legend.".concat(i),c)})};r("item.marker.size","markerSize",this.markerSizeSlider,40),r("item.marker.strokeWidth","markerStroke",this.markerStrokeSlider,10),r("item.marker.padding","itemSpacing",this.markerPaddingSlider,20),r("item.paddingX","layoutHorizontalSpacing",this.itemPaddingXSlider,50),r("item.paddingY","layoutVerticalSpacing",this.itemPaddingYSlider,50)},t.prototype.initLabelPanel=function(){var e=this,r=this.chartOptionsService,i={family:r.getChartOption("legend.item.label.fontFamily"),style:r.getChartOption("legend.item.label.fontStyle"),weight:r.getChartOption("legend.item.label.fontWeight"),size:r.getChartOption("legend.item.label.fontSize"),color:r.getChartOption("legend.item.label.color")},o=function(l){var u=e.chartOptionsService;l.family&&u.setChartOption("legend.item.label.fontFamily",l.family),l.weight&&u.setChartOption("legend.item.label.fontWeight",l.weight),l.style&&u.setChartOption("legend.item.label.fontStyle",l.style),l.size&&u.setChartOption("legend.item.label.fontSize",l.size),l.color&&u.setChartOption("legend.item.label.color",l.color)},a={enabled:!0,suppressEnabledCheckbox:!0,initialFont:i,setFont:o},s=this.createBean(new Jd(a));this.legendGroup.addItem(s),this.activePanels.push(s)},t.prototype.destroyActivePanels=function(){var e=this;this.activePanels.forEach(function(r){A.removeFromParent(r.getGui()),e.destroyBean(r)})},t.prototype.destroy=function(){this.destroyActivePanels(),n.prototype.destroy.call(this)},t.TEMPLATE=`<div>
            <ag-group-component ref="legendGroup">
                <ag-select ref="legendPositionSelect"></ag-select>
                <ag-slider ref="legendPaddingSlider"></ag-slider>
                <ag-slider ref="markerSizeSlider"></ag-slider>
                <ag-slider ref="markerStrokeSlider"></ag-slider>
                <ag-slider ref="markerPaddingSlider"></ag-slider>
                <ag-slider ref="itemPaddingXSlider"></ag-slider>
                <ag-slider ref="itemPaddingYSlider"></ag-slider>
            </ag-group-component>
        </div>`,cl([j("legendGroup")],t.prototype,"legendGroup",void 0),cl([j("legendPositionSelect")],t.prototype,"legendPositionSelect",void 0),cl([j("legendPaddingSlider")],t.prototype,"legendPaddingSlider",void 0),cl([j("markerSizeSlider")],t.prototype,"markerSizeSlider",void 0),cl([j("markerStrokeSlider")],t.prototype,"markerStrokeSlider",void 0),cl([j("markerPaddingSlider")],t.prototype,"markerPaddingSlider",void 0),cl([j("itemPaddingXSlider")],t.prototype,"itemPaddingXSlider",void 0),cl([j("itemPaddingYSlider")],t.prototype,"itemPaddingYSlider",void 0),cl([E("chartTranslationService")],t.prototype,"chartTranslationService",void 0),cl([z],t.prototype,"init",null),t}(ae),z$e=function(){var n=function(t,e){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])},n(t,e)};return function(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");n(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}}(),rv=function(n,t,e,r){var i=arguments.length,o=i<3?t:r===null?r=Object.getOwnPropertyDescriptor(t,e):r,a;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(n,t,e,r);else for(var s=n.length-1;s>=0;s--)(a=n[s])&&(o=(i<3?a(o):i>3?a(t,e,o):a(t,e))||o);return i>3&&o&&Object.defineProperty(t,e,o),o},K$e=function(n){z$e(t,n);function t(e){var r=n.call(this)||this;return r.chartOptionsService=e,r}return t.prototype.init=function(){var e={cssIdentifier:"charts-format-sub-level",direction:"vertical",suppressOpenCloseIcons:!0};this.setTemplate(t.TEMPLATE,{axisTicksGroup:e}),this.initAxisTicks()},t.prototype.initAxisTicks=function(){var e=this;this.axisTicksGroup.setTitle(this.chartTranslationService.translate("ticks")).setEnabled(this.chartOptionsService.getAxisProperty("tick.enabled")).hideOpenCloseIcons(!0).hideEnabledCheckbox(!1).onEnableChange(function(i){return e.chartOptionsService.setAxisProperty("tick.enabled",i)}),this.axisTicksColorPicker.setLabel(this.chartTranslationService.translate("color")).setLabelWidth("flex").setInputWidth("flex").setValue(this.chartOptionsService.getAxisProperty("tick.color")).onValueChange(function(i){return e.chartOptionsService.setAxisProperty("tick.color",i)});var r=function(i,o,a,s){var l=e.chartOptionsService.getAxisProperty(i);o.setLabel(a).setMaxValue(sn(l,s)).setValue("".concat(l)).setTextFieldWidth(45).onValueChange(function(u){return e.chartOptionsService.setAxisProperty(i,u)})};r("tick.width",this.axisTicksWidthSlider,this.chartTranslationService.translate("width"),10),r("tick.size",this.axisTicksSizeSlider,this.chartTranslationService.translate("length"),30)},t.TEMPLATE=`<div>
            <ag-group-component ref="axisTicksGroup">
                <ag-color-picker ref="axisTicksColorPicker"></ag-color-picker>
                <ag-slider ref="axisTicksWidthSlider"></ag-slider>
                <ag-slider ref="axisTicksSizeSlider"></ag-slider>
            </ag-group-component>
        </div>`,rv([j("axisTicksGroup")],t.prototype,"axisTicksGroup",void 0),rv([j("axisTicksColorPicker")],t.prototype,"axisTicksColorPicker",void 0),rv([j("axisTicksWidthSlider")],t.prototype,"axisTicksWidthSlider",void 0),rv([j("axisTicksSizeSlider")],t.prototype,"axisTicksSizeSlider",void 0),rv([E("chartTranslationService")],t.prototype,"chartTranslationService",void 0),rv([z],t.prototype,"init",null),t}(ae),Y$e=function(){var n=function(t,e){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])},n(t,e)};return function(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");n(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}}(),_m=function(n,t,e,r){var i=arguments.length,o=i<3?t:r===null?r=Object.getOwnPropertyDescriptor(t,e):r,a;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(n,t,e,r);else for(var s=n.length-1;s>=0;s--)(a=n[s])&&(o=(i<3?a(o):i>3?a(t,e,o):a(t,e))||o);return i>3&&o&&Object.defineProperty(t,e,o),o},bte=function(n){Y$e(t,n);function t(e){var r=n.call(this,e,t.TEMPLATE)||this;return r.radius=0,r.offsetX=0,r.offsetY=0,r}return t.prototype.postConstruct=function(){var e=this;n.prototype.postConstruct.call(this),this.dragListener={eElement:this.eParentCircle,dragStartPixels:0,onDragStart:function(r){e.parentCircleRect=e.eParentCircle.getBoundingClientRect()},onDragging:function(r){return e.calculateAngleDrag(r)},onDragStop:function(){}},this.dragService.addDragSource(this.dragListener),this.eAngleValue.setLabel("").setLabelWidth(5).setInputWidth(45).setMin(0).setMax(360).setValue("".concat(this.degrees)).onValueChange(function(r){(r==null||r==="")&&(r="0"),r=e.eAngleValue.normalizeValue(r);var i=parseFloat(r);i>180&&(i=i-360),e.setValue(i)}),this.updateNumberInput(),A.exists(this.getValue())&&this.eAngleValue.setValue(this.normalizeNegativeValue(this.getValue()).toString()),this.addManagedListener(this,T.EVENT_FIELD_VALUE_CHANGED,function(){var r=e.gridOptionsService.getDocument();e.eAngleValue.getInputElement().contains(r.activeElement)||e.updateNumberInput()})},t.prototype.updateNumberInput=function(){var e=this.normalizeNegativeValue(this.getValue());this.eAngleValue.setValue(e.toString())},t.prototype.positionChildCircle=function(e){var r=this.parentCircleRect||{width:24,height:24},i=this.eChildCircle,o=r.width/2,a=r.height/2;i.style.left="".concat(o+Math.cos(e)*8,"px"),i.style.top="".concat(a+Math.sin(e)*8,"px")},t.prototype.calculatePolar=function(){var e=this.offsetX,r=this.offsetY,i=Math.atan2(r,e);this.degrees=this.toDegrees(i),this.radius=Math.sqrt(e*e+r*r),this.positionChildCircle(i)},t.prototype.calculateCartesian=function(){var e=this.toRadians(this.getValue()),r=this.getRadius();this.setOffsetX(Math.cos(e)*r).setOffsetY(Math.sin(e)*r)},t.prototype.setOffsetX=function(e){return this.offsetX!==e&&(this.offsetX=e,this.calculatePolar()),this},t.prototype.setOffsetY=function(e){return this.offsetY!==e&&(this.offsetY=e,this.calculatePolar()),this},t.prototype.calculateAngleDrag=function(e){var r=this.parentCircleRect,i=r.width/2,o=r.height/2,a=e.clientX-r.left,s=e.clientY-r.top,l=a-i,u=s-o,c=Math.atan2(u,l);this.setValue(c,!0)},t.prototype.toDegrees=function(e){return e/Math.PI*180},t.prototype.toRadians=function(e){return e/180*Math.PI},t.prototype.normalizeNegativeValue=function(e){return e<0?360+e:e},t.prototype.normalizeAngle180=function(e){return e%=Math.PI*2,e<-Math.PI?e+=Math.PI*2:e>=Math.PI&&(e-=Math.PI*2),e},t.prototype.getRadius=function(){return this.radius},t.prototype.setRadius=function(e){return this.radius===e?this:(this.radius=e,this.calculateCartesian(),this)},t.prototype.onValueChange=function(e){var r=this;return this.addManagedListener(this,T.EVENT_FIELD_VALUE_CHANGED,function(){e(r.degrees)}),this},t.prototype.getValue=function(e){return e?this.toRadians(this.degrees):this.degrees},t.prototype.setValue=function(e,r){var i;return r?i=e:i=this.normalizeAngle180(this.toRadians(e)),e=this.toDegrees(i),this.degrees!==e&&(this.degrees=Math.floor(e),this.calculateCartesian(),this.positionChildCircle(i),this.dispatchEvent({type:T.EVENT_FIELD_VALUE_CHANGED})),this},t.prototype.setWidth=function(e){return A.setFixedWidth(this.getGui(),e),this},t.prototype.setDisabled=function(e){return n.prototype.setDisabled.call(this,e),this.eAngleValue.setDisabled(e),this},t.prototype.destroy=function(){this.dragService.removeDragSource(this.dragListener),n.prototype.destroy.call(this)},t.TEMPLATE=`<div class="ag-angle-select">
            <div ref="eLabel"></div>
            <div class="ag-wrapper ag-angle-select-wrapper">
                <div ref="eAngleSelectField" class="ag-angle-select-field">
                    <div ref="eParentCircle" class="ag-angle-select-parent-circle">
                        <div ref="eChildCircle" class="ag-angle-select-child-circle"></div>
                    </div>
                </div>
                <ag-input-number-field ref="eAngleValue"></ag-input-number-field>
            </div>
        </div>`,_m([j("eLabel")],t.prototype,"eLabel",void 0),_m([j("eParentCircle")],t.prototype,"eParentCircle",void 0),_m([j("eChildCircle")],t.prototype,"eChildCircle",void 0),_m([j("eAngleValue")],t.prototype,"eAngleValue",void 0),_m([E("dragService")],t.prototype,"dragService",void 0),t}(yT),X$e=function(){var n=function(t,e){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])},n(t,e)};return function(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");n(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}}(),xm=function(n,t,e,r){var i=arguments.length,o=i<3?t:r===null?r=Object.getOwnPropertyDescriptor(t,e):r,a;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(n,t,e,r);else for(var s=n.length-1;s>=0;s--)(a=n[s])&&(o=(i<3?a(o):i>3?a(t,e,o):a(t,e))||o);return i>3&&o&&Object.defineProperty(t,e,o),o},q$e=function(n){X$e(t,n);function t(e){var r=e.chartController,i=e.chartOptionsService,o=e.isExpandedOnInit,a=o===void 0?!1:o,s=n.call(this)||this;return s.activePanels=[],s.axisLabelUpdateFuncs=[],s.prevXRotation=0,s.prevYRotation=0,s.chartController=r,s.chartOptionsService=i,s.isExpandedOnInit=a,s}return t.prototype.init=function(){var e=this,r={cssIdentifier:"charts-format-top-level",direction:"vertical"};this.setTemplate(t.TEMPLATE,{axisGroup:r}),this.initAxis(),this.initAxisTicks(),this.initAxisLabels();var i=function(){return e.axisLabelUpdateFuncs.forEach(function(o){return o()})};this.addManagedListener(this.chartController,js.EVENT_CHART_UPDATED,i)},t.prototype.initAxis=function(){var e=this;this.axisGroup.setTitle(this.translate("axis")).toggleGroupExpand(this.isExpandedOnInit).hideEnabledCheckbox(!0),this.axisColorInput.setLabel(this.translate("color")).setLabelWidth("flex").setInputWidth("flex").setValue(this.chartOptionsService.getAxisProperty("line.color")).onValueChange(function(i){var o=e.chartOptionsService.getAxisProperty("line.width")>0;e.chartOptionsService.setAxisProperties([{expression:"line.enabled",value:o},{expression:"line.color",value:i}])});var r=this.chartOptionsService.getAxisProperty("line.width");this.axisLineWidthSlider.setMaxValue(sn(r,10)).setLabel(this.translate("thickness")).setTextFieldWidth(45).setValue("".concat(r)).onValueChange(function(i){return e.chartOptionsService.setAxisProperties([{expression:"line.enabled",value:i!==0},{expression:"line.width",value:i}])})},t.prototype.initAxisTicks=function(){if(this.hasConfigurableAxisTicks()){var e=this.createBean(new K$e(this.chartOptionsService));this.axisGroup.addItem(e),this.activePanels.push(e)}},t.prototype.hasConfigurableAxisTicks=function(){var e=this.chartController.getChartType();switch(e){case"radarLine":case"radarArea":case"rangeBar":case"boxPlot":case"waterfall":return!1;default:return!0}},t.prototype.initAxisLabels=function(){var e=this,r={family:this.chartOptionsService.getAxisProperty("label.fontFamily"),style:this.chartOptionsService.getAxisProperty("label.fontStyle"),weight:this.chartOptionsService.getAxisProperty("label.fontWeight"),size:this.chartOptionsService.getAxisProperty("label.fontSize"),color:this.chartOptionsService.getAxisProperty("label.color")},i=function(s){s.family&&e.chartOptionsService.setAxisProperty("label.fontFamily",s.family),s.weight&&e.chartOptionsService.setAxisProperty("label.fontWeight",s.weight),s.style&&e.chartOptionsService.setAxisProperty("label.fontStyle",s.style),s.size&&e.chartOptionsService.setAxisProperty("label.fontSize",s.size),s.color&&e.chartOptionsService.setAxisProperty("label.color",s.color)},o={name:this.translate("labels"),enabled:!0,suppressEnabledCheckbox:!0,initialFont:r,setFont:i},a=this.createBean(new Jd(o));this.axisGroup.addItem(a),this.activePanels.push(a),this.addAdditionalLabelComps(a)},t.prototype.addAdditionalLabelComps=function(e){this.addLabelPadding(e);var r=this.createRotationWidgets(),i=r.xRotationComp,o=r.yRotationComp,a=this.initLabelRotations(i,o);e.addCompToPanel(a),e.addCompToPanel(i),e.addCompToPanel(o)},t.prototype.initLabelRotations=function(e,r){var i=this,o=function(d){return i.chartOptionsService.getLabelRotation(d)},a=function(d,p){i.chartOptionsService.setLabelRotation(d,p)},s=function(d){i.chartOptionsService.setAxisProperty("label.autoRotate",d),d?(i.prevXRotation=o("xAxis"),i.prevYRotation=o("yAxis"),a("xAxis",void 0),a("yAxis",void 0)):(a("xAxis",i.prevXRotation),a("yAxis",i.prevYRotation)),e.setDisabled(d),r.setDisabled(d)},l=function(){var d=o("xAxis"),p=o("yAxis");return d==null&&p==null?i.chartOptionsService.getAxisProperty("label.autoRotate"):!1},u=l(),c=this.createBean(new Hu).setLabel(this.translate("autoRotate")).setValue(u).onValueChange(s);return e.setDisabled(u),r.setDisabled(u),c},t.prototype.createRotationWidgets=function(){var e=this,r="°",i=function(o,a){var s="".concat(e.chartTranslationService.translate(o)," ").concat(r),l=e.chartOptionsService.getLabelRotation(a),u=new bte().setLabel(s).setLabelWidth("flex").setValue(l||0).onValueChange(function(c){return e.chartOptionsService.setLabelRotation(a,c)});return e.axisLabelUpdateFuncs.push(function(){var c=e.chartOptionsService.getLabelRotation(a);u.setValue(c||0)}),e.createBean(u)};return{xRotationComp:i("xRotation","xAxis"),yRotationComp:i("yRotation","yAxis")}},t.prototype.addLabelPadding=function(e){var r=this,i=this.createBean(new qo),o=this.chartOptionsService.getAxisProperty("label.padding");i.setLabel(this.chartTranslationService.translate("padding")).setMaxValue(sn(o,30)).setValue("".concat(o)).setTextFieldWidth(45).onValueChange(function(a){return r.chartOptionsService.setAxisProperty("label.padding",a)}),e.addCompToPanel(i)},t.prototype.translate=function(e,r){return this.chartTranslationService.translate(e,r)},t.prototype.destroyActivePanels=function(){var e=this;this.activePanels.forEach(function(r){A.removeFromParent(r.getGui()),e.destroyBean(r)})},t.prototype.destroy=function(){this.destroyActivePanels(),n.prototype.destroy.call(this)},t.TEMPLATE=`<div>
            <ag-group-component ref="axisGroup">
                <ag-color-picker ref="axisColorInput"></ag-color-picker>
                <ag-slider ref="axisLineWidthSlider"></ag-slider>
            </ag-group-component>
        </div>`,xm([j("axisGroup")],t.prototype,"axisGroup",void 0),xm([j("axisColorInput")],t.prototype,"axisColorInput",void 0),xm([j("axisLineWidthSlider")],t.prototype,"axisLineWidthSlider",void 0),xm([E("chartTranslationService")],t.prototype,"chartTranslationService",void 0),xm([z],t.prototype,"init",null),t}(ae),Z$e=function(){var n=function(t,e){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])},n(t,e)};return function(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");n(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}}(),Em=function(n,t,e,r){var i=arguments.length,o=i<3?t:r===null?r=Object.getOwnPropertyDescriptor(t,e):r,a;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(n,t,e,r);else for(var s=n.length-1;s>=0;s--)(a=n[s])&&(o=(i<3?a(o):i>3?a(t,e,o):a(t,e))||o);return i>3&&o&&Object.defineProperty(t,e,o),o},Q$e=function(n){Z$e(t,n);function t(e){var r=e.chartController,i=e.chartOptionsService,o=e.isExpandedOnInit,a=o===void 0?!1:o,s=n.call(this)||this;return s.dynamicComponents=[],s.chartController=r,s.chartOptionsService=i,s.isExpandedOnInit=a,s}return t.prototype.init=function(){var e={cssIdentifier:"charts-format-top-level",direction:"vertical"};this.setTemplate(t.TEMPLATE,{axisGroup:e}),this.initAxis(),this.initAxisLabels(),this.initRadiusAxis()},t.prototype.initAxis=function(){var e=this;this.axisGroup.setTitle(this.translate("axis")).toggleGroupExpand(this.isExpandedOnInit).hideEnabledCheckbox(!0),this.axisColorInput.setLabel(this.translate("color")).setLabelWidth("flex").setInputWidth("flex").setValue(this.chartOptionsService.getAxisProperty("line.color")).onValueChange(function(l){return e.chartOptionsService.setAxisProperty("line.color",l)});var r=this.chartOptionsService.getAxisProperty("line.width");this.axisLineWidthSlider.setMaxValue(sn(r,10)).setLabel(this.translate("thickness")).setTextFieldWidth(45).setValue("".concat(r)).onValueChange(function(l){return e.chartOptionsService.setAxisProperty("line.width",l)});var i=this.chartController.getChartType(),o=["radarLine","radarArea"].includes(i);if(o){var a=[{value:"circle",text:this.translate("circle")},{value:"polygon",text:this.translate("polygon")}];this.axisGroup.addItem(this.initSelect({label:"shape",options:a,currentValue:this.chartOptionsService.getAxisProperty("shape"),onValueChange:function(l){return e.chartOptionsService.setAxisProperty("shape",l)}}))}if(Ste(i)){var s=this.chartOptionsService.getAxisProperty("innerRadiusRatio");this.axisGroup.addItem(this.initSlider({label:"innerRadius",maxValue:1,currentValue:s??0,onValueChange:function(l){return e.chartOptionsService.setAxisProperty("innerRadiusRatio",l)}}))}},t.prototype.initAxisLabels=function(){var e=this,r={family:this.chartOptionsService.getAxisProperty("label.fontFamily"),style:this.chartOptionsService.getAxisProperty("label.fontStyle"),weight:this.chartOptionsService.getAxisProperty("label.fontWeight"),size:this.chartOptionsService.getAxisProperty("label.fontSize"),color:this.chartOptionsService.getAxisProperty("label.color")},i=function(l){l.family&&e.chartOptionsService.setAxisProperty("label.fontFamily",l.family),l.weight&&e.chartOptionsService.setAxisProperty("label.fontWeight",l.weight),l.style&&e.chartOptionsService.setAxisProperty("label.fontStyle",l.style),l.size&&e.chartOptionsService.setAxisProperty("label.fontSize",l.size),l.color&&e.chartOptionsService.setAxisProperty("label.color",l.color)},o={name:this.translate("labels"),enabled:!0,suppressEnabledCheckbox:!0,initialFont:r,setFont:i},a=this.createBean(new Jd(o)),s=this.createOrientationWidget();a.addItemToPanel(s),this.axisGroup.addItem(a),this.dynamicComponents.push(a)},t.prototype.createOrientationWidget=function(){var e=this,r=[{value:"fixed",text:this.translate("fixed")},{value:"parallel",text:this.translate("parallel")},{value:"perpendicular",text:this.translate("perpendicular")}];return this.initSelect({label:"orientation",options:r,currentValue:this.chartOptionsService.getAxisProperty("label.orientation"),onValueChange:function(i){return e.chartOptionsService.setAxisProperty("label.orientation",i)}})},t.prototype.initRadiusAxis=function(){var e=this,r,i,o=this.chartController.getChartType();if(f$e(o)){var a=this.createBean(new Ha({cssIdentifier:"charts-format-sub-level",direction:"vertical",suppressOpenCloseIcons:!0,enabled:!0,suppressEnabledCheckbox:!0,title:this.translate("padding")})).hideEnabledCheckbox(!0).hideOpenCloseIcons(!0);a.addItem(this.initSlider({label:"groupPadding",maxValue:1,currentValue:(r=this.chartOptionsService.getAxisProperty("paddingInner"))!==null&&r!==void 0?r:0,onValueChange:function(s){return e.chartOptionsService.setAxisProperty("paddingInner",s)}})),a.addItem(this.initSlider({label:"seriesPadding",maxValue:1,currentValue:(i=this.chartOptionsService.getAxisProperty("groupPaddingInner"))!==null&&i!==void 0?i:0,onValueChange:function(s){return e.chartOptionsService.setAxisProperty("groupPaddingInner",s)}})),this.axisGroup.addItem(a),this.dynamicComponents.push(a)}},t.prototype.initSlider=function(e){var r=e.label,i=e.maxValue,o=e.minValue,a=o===void 0?0:o,s=e.step,l=s===void 0?.05:s,u=e.currentValue,c=e.onValueChange,d=this.createManagedBean(new qo);return d.setLabel(this.translate(r)).setLabelWidth("flex").setMinValue(a).setMaxValue(i).setStep(l).setValue("".concat(u)).onValueChange(c),this.dynamicComponents.push(d),d},t.prototype.initSelect=function(e){var r=e.label,i=e.options,o=e.currentValue,a=e.onValueChange,s=this.createManagedBean(new ru);return s.setLabel(this.translate(r)).setLabelAlignment("left").setLabelWidth("flex").setInputWidth("flex").addOptions(i),o!==void 0&&s.setValue(o),s.onValueChange(a),this.dynamicComponents.push(s),s},t.prototype.translate=function(e,r){return this.chartTranslationService.translate(e,r)},t.prototype.destroyDynamicComponents=function(){var e=this;this.dynamicComponents.forEach(function(r){A.removeFromParent(r.getGui()),e.destroyBean(r)}),this.dynamicComponents=[]},t.prototype.destroy=function(){this.destroyDynamicComponents(),n.prototype.destroy.call(this)},t.TEMPLATE=`<div>
            <ag-group-component ref="axisGroup">
                <ag-color-picker ref="axisColorInput"></ag-color-picker>
                <ag-slider ref="axisLineWidthSlider"></ag-slider>
            </ag-group-component>
        </div>`,Em([j("axisGroup")],t.prototype,"axisGroup",void 0),Em([j("axisColorInput")],t.prototype,"axisColorInput",void 0),Em([j("axisLineWidthSlider")],t.prototype,"axisLineWidthSlider",void 0),Em([E("chartTranslationService")],t.prototype,"chartTranslationService",void 0),Em([z],t.prototype,"init",null),t}(ae),J$e=function(){var n=function(t,e){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])},n(t,e)};return function(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");n(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}}(),gx=function(n,t,e,r){var i=arguments.length,o=i<3?t:r===null?r=Object.getOwnPropertyDescriptor(t,e):r,a;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(n,t,e,r);else for(var s=n.length-1;s>=0;s--)(a=n[s])&&(o=(i<3?a(o):i>3?a(t,e,o):a(t,e))||o);return i>3&&o&&Object.defineProperty(t,e,o),o},eWe=function(n){J$e(t,n);function t(e){var r=e.chartOptionsService,i=e.isExpandedOnInit,o=i===void 0?!1:i,a=n.call(this)||this;return a.chartOptionsService=r,a.isExpandedOnInit=o,a}return t.prototype.init=function(){var e={cssIdentifier:"charts-format-top-level",direction:"vertical"};this.setTemplate(t.TEMPLATE,{navigatorGroup:e}),this.initNavigator()},t.prototype.initNavigator=function(){var e=this,r=this.chartTranslationService;this.navigatorGroup.setTitle(r.translate("navigator")).hideEnabledCheckbox(!1).setEnabled(this.chartOptionsService.getChartOption("navigator.enabled")||!1).onEnableChange(function(o){e.chartOptionsService.setChartOption("navigator.enabled",o),e.navigatorGroup.toggleGroupExpand(!0)}).toggleGroupExpand(this.isExpandedOnInit);var i=this.chartOptionsService.getChartOption("navigator.height");this.navigatorHeightSlider.setLabel(r.translate("height")).setMinValue(10).setMaxValue(sn(i,60)).setTextFieldWidth(45).setValue("".concat(i||30)).onValueChange(function(o){return e.chartOptionsService.setChartOption("navigator.height",o)})},t.prototype.destroy=function(){n.prototype.destroy.call(this)},t.TEMPLATE=`<div>
            <ag-group-component ref="navigatorGroup">
                <ag-slider ref="navigatorHeightSlider"></ag-slider>
            </ag-group-component>
        </div>`,gx([j("navigatorGroup")],t.prototype,"navigatorGroup",void 0),gx([j("navigatorHeightSlider")],t.prototype,"navigatorHeightSlider",void 0),gx([E("chartTranslationService")],t.prototype,"chartTranslationService",void 0),gx([z],t.prototype,"init",null),t}(ae),tWe=function(){var n=function(t,e){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])},n(t,e)};return function(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");n(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}}(),Np=function(n,t,e,r){var i=arguments.length,o=i<3?t:r===null?r=Object.getOwnPropertyDescriptor(t,e):r,a;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(n,t,e,r);else for(var s=n.length-1;s>=0;s--)(a=n[s])&&(o=(i<3?a(o):i>3?a(t,e,o):a(t,e))||o);return i>3&&o&&Object.defineProperty(t,e,o),o},rWe=function(n,t){var e=typeof Symbol=="function"&&n[Symbol.iterator];if(!e)return n;var r=e.call(n),i,o=[],a;try{for(;(t===void 0||t-- >0)&&!(i=r.next()).done;)o.push(i.value)}catch(s){a={error:s}}finally{try{i&&!i.done&&(e=r.return)&&e.call(r)}finally{if(a)throw a.error}}return o},Vz=function(n,t,e){if(e||arguments.length===2)for(var r=0,i=t.length,o;r<i;r++)(o||!(r in t))&&(o||(o=Array.prototype.slice.call(t,0,r)),o[r]=t[r]);return n.concat(o||Array.prototype.slice.call(t))},nWe=function(n){tWe(t,n);function t(e,r){var i=n.call(this)||this;return i.chartOptionsService=e,i.chartController=r,i}return t.prototype.init=function(){var e=this,r={cssIdentifier:"charts-format-sub-level",direction:"vertical",suppressOpenCloseIcons:!0};this.setTemplate(t.TEMPLATE,{chartPaddingGroup:r}),this.addManagedListener(this.eventService,T.EVENT_CHART_OPTIONS_CHANGED,function(i){e.updateTopPadding(i.chartOptions)}),this.initGroup(),this.initChartPaddingItems()},t.prototype.initGroup=function(){this.chartPaddingGroup.setTitle(this.chartTranslationService.translate("padding")).hideOpenCloseIcons(!0).hideEnabledCheckbox(!0)},t.prototype.initChartPaddingItems=function(){var e=this,r=function(i,o){var a=e.chartOptionsService.getChartOption("padding."+i);o.setLabel(e.chartTranslationService.translate(i)).setMaxValue(sn(a,200)).setValue("".concat(a)).setTextFieldWidth(45).onValueChange(function(s){return e.chartOptionsService.setChartOption("padding."+i,s)})};r("top",this.paddingTopSlider),r("right",this.paddingRightSlider),r("bottom",this.paddingBottomSlider),r("left",this.paddingLeftSlider)},t.prototype.updateTopPadding=function(e){var r=Vz(Vz([],rWe(this.chartController.getChartSeriesTypes()),!1),["common"],!1).map(function(i){var o,a;return(a=(o=e[i])===null||o===void 0?void 0:o.padding)===null||a===void 0?void 0:a.top}).find(function(i){return i!=null});r!=null&&this.paddingTopSlider.setValue(r)},t.TEMPLATE=`<div>
            <ag-group-component ref="chartPaddingGroup">
                <ag-slider ref="paddingTopSlider"></ag-slider>
                <ag-slider ref="paddingRightSlider"></ag-slider>
                <ag-slider ref="paddingBottomSlider"></ag-slider>
                <ag-slider ref="paddingLeftSlider"></ag-slider>
            </ag-group-component>
        <div>`,Np([j("chartPaddingGroup")],t.prototype,"chartPaddingGroup",void 0),Np([j("paddingTopSlider")],t.prototype,"paddingTopSlider",void 0),Np([j("paddingRightSlider")],t.prototype,"paddingRightSlider",void 0),Np([j("paddingBottomSlider")],t.prototype,"paddingBottomSlider",void 0),Np([j("paddingLeftSlider")],t.prototype,"paddingLeftSlider",void 0),Np([E("chartTranslationService")],t.prototype,"chartTranslationService",void 0),Np([z],t.prototype,"init",null),t}(ae),iWe=function(){var n=function(t,e){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])},n(t,e)};return function(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");n(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}}(),yx=function(n,t,e,r){var i=arguments.length,o=i<3?t:r===null?r=Object.getOwnPropertyDescriptor(t,e):r,a;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(n,t,e,r);else for(var s=n.length-1;s>=0;s--)(a=n[s])&&(o=(i<3?a(o):i>3?a(t,e,o):a(t,e))||o);return i>3&&o&&Object.defineProperty(t,e,o),o},oWe=function(n){iWe(t,n);function t(e){var r=n.call(this)||this;return r.chartOptionsService=e,r}return t.prototype.init=function(){var e={cssIdentifier:"charts-format-sub-level",direction:"vertical",suppressOpenCloseIcons:!0};this.setTemplate(t.TEMPLATE,{chartBackgroundGroup:e}),this.initGroup(),this.initColorPicker()},t.prototype.initGroup=function(){var e=this;this.group.setTitle(this.chartTranslationService.translate("background")).setEnabled(this.chartOptionsService.getChartOption("background.visible")).hideOpenCloseIcons(!0).hideEnabledCheckbox(!1).onEnableChange(function(r){return e.chartOptionsService.setChartOption("background.visible",r)})},t.prototype.initColorPicker=function(){var e=this;this.colorPicker.setLabel(this.chartTranslationService.translate("color")).setLabelWidth("flex").setInputWidth("flex").setValue(this.chartOptionsService.getChartOption("background.fill")).onValueChange(function(r){return e.chartOptionsService.setChartOption("background.fill",r)})},t.TEMPLATE=`<div>
            <ag-group-component ref="chartBackgroundGroup">
                <ag-color-picker ref="colorPicker"></ag-color-picker>
            </ag-group-component>
        <div>`,yx([j("chartBackgroundGroup")],t.prototype,"group",void 0),yx([j("colorPicker")],t.prototype,"colorPicker",void 0),yx([E("chartTranslationService")],t.prototype,"chartTranslationService",void 0),yx([z],t.prototype,"init",null),t}(ae),aWe=function(){var n=function(t,e){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])},n(t,e)};return function(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");n(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}}(),Bz=function(n,t,e,r){var i=arguments.length,o=i<3?t:r===null?r=Object.getOwnPropertyDescriptor(t,e):r,a;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(n,t,e,r);else for(var s=n.length-1;s>=0;s--)(a=n[s])&&(o=(i<3?a(o):i>3?a(t,e,o):a(t,e))||o);return i>3&&o&&Object.defineProperty(t,e,o),o},sWe=function(n){aWe(t,n);function t(e){var r=n.call(this,t.TEMPLATE)||this;return r.chartOptionsService=e,r.activePanels=[],r}return t.prototype.init=function(){this.initFontPanel(),this.titlePlaceholder=this.chartTranslationService.translate("titlePlaceholder")},t.prototype.hasTitle=function(){var e=this.getOption("title");return e&&e.enabled&&e.text&&e.text.length>0},t.prototype.initFontPanel=function(){var e=this,r=this.hasTitle(),i=function(l,u){l.family&&e.setOption("title.fontFamily",l.family,u),l.weight&&e.setOption("title.fontWeight",l.weight,u),l.style&&e.setOption("title.fontStyle",l.style,u),l.size&&e.setOption("title.fontSize",l.size,u),l.color&&e.setOption("title.color",l.color,u)},o={family:this.getOption("title.fontFamily"),style:this.getOption("title.fontStyle"),weight:this.getOption("title.fontWeight"),size:this.getOption("title.fontSize"),color:this.getOption("title.color")};r||i(o,!0);var a={name:this.chartTranslationService.translate("title"),enabled:r,suppressEnabledCheckbox:!1,initialFont:o,setFont:i,setEnabled:function(l){if(e.toolbarExists()){var u=e.getOption("padding.top");e.setOption("padding.top",l?u-20:u+20)}e.setOption("title.enabled",l);var c=e.getOption("title.text"),d=c==="Title"||(c==null?void 0:c.trim().length)===0;l&&d&&e.setOption("title.text",e.titlePlaceholder)}},s=this.createBean(new Jd(a));s.addItemToPanel(this.createSpacingSlicer()),this.getGui().appendChild(s.getGui()),this.activePanels.push(s),this.addManagedListener(this.eventService,"chartTitleEdit",function(){s.setEnabled(e.hasTitle())})},t.prototype.createSpacingSlicer=function(){var e=this,r=this.createBean(new qo),i=this.chartOptionsService.getChartOption("title.spacing")||10;return r.setLabel(this.chartTranslationService.translate("spacing")).setMaxValue(Math.max(i,100)).setValue("".concat(i)).setTextFieldWidth(45).onValueChange(function(o){return e.chartOptionsService.setChartOption("title.spacing",o)}),r},t.prototype.toolbarExists=function(){var e=this.gridOptionsService.getCallback("getChartToolbarItems");if(!e)return!0;var r={defaultItems:["chartUnlink","chartDownload"]},i=["chartLink","chartUnlink","chartDownload"];return i.some(function(o){var a;return(a=e&&e(r))===null||a===void 0?void 0:a.includes(o)})},t.prototype.getOption=function(e){return this.chartOptionsService.getChartOption(e)},t.prototype.setOption=function(e,r,i){this.chartOptionsService.setChartOption(e,r,i)},t.prototype.destroyActivePanels=function(){var e=this;this.activePanels.forEach(function(r){A.removeFromParent(r.getGui()),e.destroyBean(r)})},t.prototype.destroy=function(){this.destroyActivePanels(),n.prototype.destroy.call(this)},t.TEMPLATE="<div></div>",Bz([E("chartTranslationService")],t.prototype,"chartTranslationService",void 0),Bz([z],t.prototype,"init",null),t}(ae),lWe=function(){var n=function(t,e){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])},n(t,e)};return function(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");n(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}}(),lM=function(n,t,e,r){var i=arguments.length,o=i<3?t:r===null?r=Object.getOwnPropertyDescriptor(t,e):r,a;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(n,t,e,r);else for(var s=n.length-1;s>=0;s--)(a=n[s])&&(o=(i<3?a(o):i>3?a(t,e,o):a(t,e))||o);return i>3&&o&&Object.defineProperty(t,e,o),o},uWe=function(n){lWe(t,n);function t(e){var r=e.chartController,i=e.chartOptionsService,o=e.isExpandedOnInit,a=o===void 0?!1:o,s=n.call(this)||this;return s.activePanels=[],s.chartController=r,s.chartOptionsService=i,s.isExpandedOnInit=a,s}return t.prototype.init=function(){var e={cssIdentifier:"charts-format-top-level",direction:"vertical"};this.setTemplate(t.TEMPLATE,{chartGroup:e}),this.initGroup(),this.initTitles(),this.initPaddingPanel(),this.initBackgroundPanel()},t.prototype.initGroup=function(){this.chartGroup.setTitle(this.chartTranslationService.translate("chart")).toggleGroupExpand(this.isExpandedOnInit).hideEnabledCheckbox(!0)},t.prototype.initTitles=function(){var e=this.createBean(new sWe(this.chartOptionsService));this.chartGroup.addItem(e),this.activePanels.push(e)},t.prototype.initPaddingPanel=function(){var e=this.createBean(new nWe(this.chartOptionsService,this.chartController));this.chartGroup.addItem(e),this.activePanels.push(e)},t.prototype.initBackgroundPanel=function(){var e=this.createBean(new oWe(this.chartOptionsService));this.chartGroup.addItem(e),this.activePanels.push(e)},t.prototype.destroyActivePanels=function(){var e=this;this.activePanels.forEach(function(r){A.removeFromParent(r.getGui()),e.destroyBean(r)})},t.prototype.destroy=function(){this.destroyActivePanels(),n.prototype.destroy.call(this)},t.TEMPLATE=`<div>
            <ag-group-component ref="chartGroup"></ag-group-component>
        </div>`,lM([j("chartGroup")],t.prototype,"chartGroup",void 0),lM([E("chartTranslationService")],t.prototype,"chartTranslationService",void 0),lM([z],t.prototype,"init",null),t}(ae),cWe=function(){var n=function(t,e){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])},n(t,e)};return function(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");n(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}}(),kp=function(n,t,e,r){var i=arguments.length,o=i<3?t:r===null?r=Object.getOwnPropertyDescriptor(t,e):r,a;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(n,t,e,r);else for(var s=n.length-1;s>=0;s--)(a=n[s])&&(o=(i<3?a(o):i>3?a(t,e,o):a(t,e))||o);return i>3&&o&&Object.defineProperty(t,e,o),o},dWe=function(n){cWe(t,n);function t(e,r,i){i===void 0&&(i="shadow");var o=n.call(this)||this;return o.chartOptionsService=e,o.getSelectedSeries=r,o.propertyKey=i,o}return t.prototype.init=function(){var e={cssIdentifier:"charts-format-sub-level",direction:"vertical",suppressOpenCloseIcons:!0};this.setTemplate(t.TEMPLATE,{shadowGroup:e}),this.shadowBlurSlider.setTextFieldWidth(45),this.shadowXOffsetSlider.setTextFieldWidth(45),this.shadowYOffsetSlider.setTextFieldWidth(45),this.initSeriesShadow()},t.prototype.initSeriesShadow=function(){var e=this,r=this.propertyKey;this.shadowGroup.setTitle(this.chartTranslationService.translate("shadow")).setEnabled(this.chartOptionsService.getSeriesOption("".concat(r,".enabled"),this.getSelectedSeries())).hideOpenCloseIcons(!0).hideEnabledCheckbox(!1).onEnableChange(function(o){return e.chartOptionsService.setSeriesOption("".concat(r,".enabled"),o,e.getSelectedSeries())}),this.shadowColorPicker.setLabel(this.chartTranslationService.translate("color")).setLabelWidth("flex").setInputWidth("flex").setValue(this.chartOptionsService.getSeriesOption("".concat(r,".color"),this.getSelectedSeries())).onValueChange(function(o){return e.chartOptionsService.setSeriesOption("".concat(r,".color"),o,e.getSelectedSeries())});var i=function(o,a,s,l){var u=e.chartOptionsService.getSeriesOption("".concat(r,".").concat(a),e.getSelectedSeries());o.setLabel(e.chartTranslationService.translate(a)).setMinValue(s).setMaxValue(sn(u,l)).setValue("".concat(u)).onValueChange(function(c){return e.chartOptionsService.setSeriesOption("".concat(r,".").concat(a),c,e.getSelectedSeries())})};i(this.shadowBlurSlider,"blur",0,20),i(this.shadowXOffsetSlider,"xOffset",-10,10),i(this.shadowYOffsetSlider,"yOffset",-10,10)},t.TEMPLATE=`<div>
            <ag-group-component ref="shadowGroup">
                <ag-color-picker ref="shadowColorPicker"></ag-color-picker>
                <ag-slider ref="shadowBlurSlider"></ag-slider>
                <ag-slider ref="shadowXOffsetSlider"></ag-slider>
                <ag-slider ref="shadowYOffsetSlider"></ag-slider>
            </ag-group-component>
        </div>`,kp([j("shadowGroup")],t.prototype,"shadowGroup",void 0),kp([j("shadowColorPicker")],t.prototype,"shadowColorPicker",void 0),kp([j("shadowBlurSlider")],t.prototype,"shadowBlurSlider",void 0),kp([j("shadowXOffsetSlider")],t.prototype,"shadowXOffsetSlider",void 0),kp([j("shadowYOffsetSlider")],t.prototype,"shadowYOffsetSlider",void 0),kp([E("chartTranslationService")],t.prototype,"chartTranslationService",void 0),kp([z],t.prototype,"init",null),t}(ae);function VI(n){var t=n.labelName,e=n.chartOptionsService,r=n.getSelectedSeries,i=n.seriesOptionLabelProperty,o=function(d){return"".concat(i,".").concat(d)},a=function(d){var p=o(d);return e.getSeriesOption(p,r())},s=function(d,p){var h=o(d);e.setSeriesOption(h,p,r())},l={family:a("fontFamily"),style:a("fontStyle"),weight:a("fontWeight"),size:a("fontSize"),color:a("color")},u=function(d){d.family&&s("fontFamily",d.family),d.weight&&s("fontWeight",d.weight),d.style&&s("fontStyle",d.style),d.size&&s("fontSize",d.size),d.color&&s("color",d.color)},c={name:t,enabled:a("enabled")||!1,setEnabled:function(d){return s("enabled",d)},suppressEnabledCheckbox:!1,initialFont:l,setFont:u};return c}var pWe=function(){var n=function(t,e){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])},n(t,e)};return function(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");n(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}}(),Gp=function(n,t,e,r){var i=arguments.length,o=i<3?t:r===null?r=Object.getOwnPropertyDescriptor(t,e):r,a;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(n,t,e,r);else for(var s=n.length-1;s>=0;s--)(a=n[s])&&(o=(i<3?a(o):i>3?a(t,e,o):a(t,e))||o);return i>3&&o&&Object.defineProperty(t,e,o),o},hWe=function(n){pWe(t,n);function t(e,r){var i=n.call(this)||this;return i.chartOptionsService=e,i.getSelectedSeries=r,i}return t.prototype.init=function(){var e={cssIdentifier:"charts-format-sub-level",direction:"vertical"};this.setTemplate(t.TEMPLATE,{seriesMarkersGroup:e}),this.initMarkers()},t.prototype.initMarkers=function(){var e=this,r=[{value:"square",text:"Square"},{value:"circle",text:"Circle"},{value:"cross",text:"Cross"},{value:"diamond",text:"Diamond"},{value:"plus",text:"Plus"},{value:"triangle",text:"Triangle"},{value:"heart",text:"Heart"}];this.seriesMarkerShapeSelect.addOptions(r).setLabel(this.chartTranslationService.translate("shape")).setValue(this.getSeriesOption("marker.shape")).onValueChange(function(s){return e.setSeriesOption("marker.shape",s)});var i=this.chartOptionsService.getChartType(),o=A.includes(["scatter","bubble"],i);this.seriesMarkersGroup.setTitle(this.chartTranslationService.translate("markers")).hideEnabledCheckbox(o).setEnabled(this.getSeriesOption("marker.enabled")||!1).hideOpenCloseIcons(!0).onEnableChange(function(s){return e.setSeriesOption("marker.enabled",s)});var a=function(s,l,u,c){var d=e.getSeriesOption(s);l.setLabel(e.chartTranslationService.translate(u)).setMaxValue(sn(d,c)).setValue("".concat(d)).setTextFieldWidth(45).onValueChange(function(p){return e.setSeriesOption(s,p)})};i==="bubble"?(a("marker.maxSize",this.seriesMarkerMinSizeSlider,"maxSize",60),a("marker.size",this.seriesMarkerSizeSlider,"minSize",60)):(this.seriesMarkerMinSizeSlider.setDisplayed(!1),a("marker.size",this.seriesMarkerSizeSlider,"size",60)),a("marker.strokeWidth",this.seriesMarkerStrokeWidthSlider,"strokeWidth",10)},t.prototype.getSeriesOption=function(e){return this.chartOptionsService.getSeriesOption(e,this.getSelectedSeries())},t.prototype.setSeriesOption=function(e,r){this.chartOptionsService.setSeriesOption(e,r,this.getSelectedSeries())},t.TEMPLATE=`<div>
            <ag-group-component ref="seriesMarkersGroup">
                <ag-select ref="seriesMarkerShapeSelect"></ag-select>
                <ag-slider ref="seriesMarkerMinSizeSlider"></ag-slider>
                <ag-slider ref="seriesMarkerSizeSlider"></ag-slider>
                <ag-slider ref="seriesMarkerStrokeWidthSlider"></ag-slider>
            </ag-group-component>
        </div>`,Gp([j("seriesMarkersGroup")],t.prototype,"seriesMarkersGroup",void 0),Gp([j("seriesMarkerShapeSelect")],t.prototype,"seriesMarkerShapeSelect",void 0),Gp([j("seriesMarkerSizeSlider")],t.prototype,"seriesMarkerSizeSlider",void 0),Gp([j("seriesMarkerMinSizeSlider")],t.prototype,"seriesMarkerMinSizeSlider",void 0),Gp([j("seriesMarkerStrokeWidthSlider")],t.prototype,"seriesMarkerStrokeWidthSlider",void 0),Gp([E("chartTranslationService")],t.prototype,"chartTranslationService",void 0),Gp([z],t.prototype,"init",null),t}(ae),fWe=function(){var n=function(t,e){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])},n(t,e)};return function(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");n(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}}(),Eu=function(n,t,e,r){var i=arguments.length,o=i<3?t:r===null?r=Object.getOwnPropertyDescriptor(t,e):r,a;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(n,t,e,r);else for(var s=n.length-1;s>=0;s--)(a=n[s])&&(o=(i<3?a(o):i>3?a(t,e,o):a(t,e))||o);return i>3&&o&&Object.defineProperty(t,e,o),o},vWe=function(n,t){var e=typeof Symbol=="function"&&n[Symbol.iterator];if(!e)return n;var r=e.call(n),i,o=[],a;try{for(;(t===void 0||t-- >0)&&!(i=r.next()).done;)o.push(i.value)}catch(s){a={error:s}}finally{try{i&&!i.done&&(e=r.return)&&e.call(r)}finally{if(a)throw a.error}}return o},gWe=function(n){fWe(t,n);function t(e){var r=n.call(this,t.TEMPLATE)||this;return r.H=1,r.S=1,r.B=1,r.A=1,r.isSpectrumDragging=!1,r.isSpectrumHueDragging=!1,r.isSpectrumAlphaDragging=!1,r.colorChanged=!1,r.picker=e.picker,r}return t.prototype.postConstruct=function(){var e=this;this.initTabIndex(),this.initRecentColors(),this.addGuiEventListener("focus",function(){return e.spectrumColor.focus()}),this.addGuiEventListener("keydown",function(r){r.key===U.ENTER&&!r.defaultPrevented&&e.destroy()}),this.addManagedListener(this.spectrumColor,"keydown",function(r){return e.moveDragger(r)}),this.addManagedListener(this.spectrumAlphaSlider,"keydown",function(r){return e.moveAlphaSlider(r)}),this.addManagedListener(this.spectrumHueSlider,"keydown",function(r){return e.moveHueSlider(r)}),this.addManagedListener(this.spectrumVal,"mousedown",this.onSpectrumDraggerDown.bind(this)),this.addManagedListener(this.spectrumHue,"mousedown",this.onSpectrumHueDown.bind(this)),this.addManagedListener(this.spectrumAlpha,"mousedown",this.onSpectrumAlphaDown.bind(this)),this.addGuiEventListener("mousemove",function(r){e.onSpectrumDraggerMove(r),e.onSpectrumHueMove(r),e.onSpectrumAlphaMove(r)}),this.addManagedListener(document,"mouseup",this.onMouseUp.bind(this)),this.addManagedListener(this.recentColors,"click",this.onRecentColorClick.bind(this)),this.addManagedListener(this.recentColors,"keydown",function(r){(r.key===U.ENTER||r.key===U.SPACE)&&(r.preventDefault(),e.onRecentColorClick(r))})},t.prototype.initTabIndex=function(){var e=this.tabIndex=this.gridOptionsService.get("tabIndex").toString();this.spectrumColor.setAttribute("tabindex",e),this.spectrumHueSlider.setAttribute("tabindex",e),this.spectrumAlphaSlider.setAttribute("tabindex",e)},t.prototype.refreshSpectrumRect=function(){return this.spectrumValRect=this.spectrumVal.getBoundingClientRect()},t.prototype.refreshHueRect=function(){return this.spectrumHueRect=this.spectrumHue.getBoundingClientRect()},t.prototype.refreshAlphaRect=function(){return this.spectrumAlphaRect=this.spectrumAlpha.getBoundingClientRect()},t.prototype.onSpectrumDraggerDown=function(e){this.refreshSpectrumRect(),this.isSpectrumDragging=!0,this.moveDragger(e)},t.prototype.onSpectrumDraggerMove=function(e){this.isSpectrumDragging&&this.moveDragger(e)},t.prototype.onSpectrumHueDown=function(e){this.refreshHueRect(),this.isSpectrumHueDragging=!0,this.moveHueSlider(e)},t.prototype.onSpectrumHueMove=function(e){this.isSpectrumHueDragging&&this.moveHueSlider(e)},t.prototype.onSpectrumAlphaDown=function(e){this.refreshAlphaRect(),this.isSpectrumAlphaDragging=!0,this.moveAlphaSlider(e)},t.prototype.onSpectrumAlphaMove=function(e){this.isSpectrumAlphaDragging&&this.moveAlphaSlider(e)},t.prototype.onMouseUp=function(){this.isSpectrumDragging=!1,this.isSpectrumHueDragging=!1,this.isSpectrumAlphaDragging=!1},t.prototype.moveDragger=function(e){var r=this.spectrumValRect;if(r){var i,o;if(e instanceof MouseEvent)i=e.clientX-r.left,o=e.clientY-r.top;else{var a=e.key===U.LEFT,s=e.key===U.RIGHT,l=e.key===U.UP,u=e.key===U.DOWN,c=l||u,d=a||s;if(!c&&!d)return;e.preventDefault();var p=this.getSpectrumValue(),h=p.x,f=p.y;i=h+(d?a?-5:5:0),o=f+(c?l?-5:5:0)}i=Math.max(i,0),i=Math.min(i,r.width),o=Math.max(o,0),o=Math.min(o,r.height),this.setSpectrumValue(i/r.width,1-o/r.height)}},t.prototype.moveHueSlider=function(e){var r=this.spectrumHueRect;if(r){var i=this.moveSlider(this.spectrumHueSlider,e);i!=null&&(this.H=1-i/r.width,this.update())}},t.prototype.moveAlphaSlider=function(e){var r=this.spectrumAlphaRect;if(r){var i=this.moveSlider(this.spectrumAlphaSlider,e);i!=null&&(this.A=i/r.width,this.update())}},t.prototype.moveSlider=function(e,r){var i,o=e.getBoundingClientRect(),a=(i=e.parentElement)===null||i===void 0?void 0:i.getBoundingClientRect();if(!e||!a)return null;var s;if(r instanceof MouseEvent)s=r.clientX-a.left;else{var l=r.key===U.LEFT,u=r.key===U.RIGHT;if(!l&&!u)return null;r.preventDefault();var c=l?-5:5;s=parseFloat(e.style.left)-o.width/2+c}return s=Math.max(s,0),s=Math.min(s,a.width),e.style.left=s+o.width/2+"px",s},t.prototype.update=function(){var e=Pr.Color.fromHSB(this.H*360,this.S,this.B,this.A),r=Pr.Color.fromHSB(this.H*360,1,1),i=e.toRgbaString(),o=this.picker,a=Pr.Color.fromString(o.getValue());a.toRgbaString()!==i&&(this.colorChanged=!0),o.setValue(i),this.spectrumColor.style.backgroundColor=r.toRgbaString(),this.spectrumDragger.style.backgroundColor=i},t.prototype.setSpectrumValue=function(e,r){var i=this.spectrumValRect||this.refreshSpectrumRect();if(i!=null){var o=this.spectrumDragger,a=o.getBoundingClientRect();e=Math.max(0,e),e=Math.min(1,e),r=Math.max(0,r),r=Math.min(1,r),this.S=e,this.B=r,o.style.left=e*i.width-a.width/2+"px",o.style.top=(1-r)*i.height-a.height/2+"px",this.update()}},t.prototype.getSpectrumValue=function(){var e=this.spectrumDragger,r=e.getBoundingClientRect(),i=parseFloat(e.style.left)+r.width/2,o=parseFloat(e.style.top)+r.height/2;return{x:i,y:o}},t.prototype.initRecentColors=function(){var e=this,r=t.recentColors,i=r.map(function(o,a){return'<div class="ag-recent-color" id='.concat(a,' style="background-color: ').concat(o,'; width: 15px; height: 15px;" recent-color="').concat(o,'" tabIndex="').concat(e.tabIndex,'"></div>')});this.recentColors.innerHTML=i.join("")},t.prototype.setValue=function(e){var r=Pr.Color.fromString(e),i=vWe(r.toHSB(),3),o=i[0],a=i[1],s=i[2];this.H=(isNaN(o)?0:o)/360,this.A=r.a;var l=this.spectrumHueRect||this.refreshHueRect(),u=this.spectrumAlphaRect||this.refreshAlphaRect();this.spectrumHueSlider.style.left="".concat((this.H-1)*-l.width,"px"),this.spectrumAlphaSlider.style.left="".concat(this.A*u.width,"px"),this.setSpectrumValue(a,s)},t.prototype.onRecentColorClick=function(e){var r=e.target;if(A.exists(r.id)){var i=parseInt(r.id,10);this.setValue(t.recentColors[i]),this.destroy()}},t.prototype.addRecentColor=function(){var e=Pr.Color.fromHSB(this.H*360,this.S,this.B,this.A),r=e.toRgbaString(),i=t.recentColors;!this.colorChanged||i[0]===r||(i=i.filter(function(o){return o!=r}),i=[r].concat(i),i.length>t.maxRecentColors&&(i=i.slice(0,t.maxRecentColors)),t.recentColors=i)},t.prototype.destroy=function(){this.addRecentColor(),n.prototype.destroy.call(this)},t.maxRecentColors=8,t.recentColors=[],t.TEMPLATE=`<div class="ag-color-panel" tabindex="-1">
            <div ref="spectrumColor" class="ag-spectrum-color">
                <div class="ag-spectrum-sat ag-spectrum-fill">
                    <div ref="spectrumVal" class="ag-spectrum-val ag-spectrum-fill">
                        <div ref="spectrumDragger" class="ag-spectrum-dragger"></div>
                    </div>
                </div>
            </div>
            <div class="ag-spectrum-tools">
                <div ref="spectrumHue" class="ag-spectrum-hue ag-spectrum-tool">
                    <div class="ag-spectrum-hue-background"></div>
                    <div ref="spectrumHueSlider" class="ag-spectrum-slider"></div>
                </div>
                <div ref="spectrumAlpha" class="ag-spectrum-alpha ag-spectrum-tool">
                    <div class="ag-spectrum-alpha-background"></div>
                    <div ref="spectrumAlphaSlider" class="ag-spectrum-slider"></div>
                </div>
                <div ref="recentColors" class="ag-recent-colors"></div>
            </div>
        </div>`,Eu([j("spectrumColor")],t.prototype,"spectrumColor",void 0),Eu([j("spectrumVal")],t.prototype,"spectrumVal",void 0),Eu([j("spectrumDragger")],t.prototype,"spectrumDragger",void 0),Eu([j("spectrumHue")],t.prototype,"spectrumHue",void 0),Eu([j("spectrumHueSlider")],t.prototype,"spectrumHueSlider",void 0),Eu([j("spectrumAlpha")],t.prototype,"spectrumAlpha",void 0),Eu([j("spectrumAlphaSlider")],t.prototype,"spectrumAlphaSlider",void 0),Eu([j("recentColors")],t.prototype,"recentColors",void 0),Eu([z],t.prototype,"postConstruct",null),t}(ae),yWe=function(){var n=function(t,e){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])},n(t,e)};return function(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");n(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}}(),BI=function(){return BI=Object.assign||function(n){for(var t,e=1,r=arguments.length;e<r;e++){t=arguments[e];for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(n[i]=t[i])}return n},BI.apply(this,arguments)},Ote=function(n){yWe(t,n);function t(e){var r=n.call(this,BI({pickerAriaLabelKey:"ariaLabelColorPicker",pickerAriaLabelValue:"Color Picker",pickerType:"ag-list",className:"ag-color-picker",pickerIcon:"colorPicker"},e))||this;return e&&e.color&&(r.value=e.color),r}return t.prototype.postConstruct=function(){n.prototype.postConstruct.call(this),this.value&&this.setValue(this.value)},t.prototype.createPickerComponent=function(){var e=this.getGui().getBoundingClientRect(),r=this.createBean(new rf({closable:!1,modal:!0,hideTitleBar:!0,minWidth:190,width:190,height:250,x:e.right-190,y:e.top-250}));return r},t.prototype.renderAndPositionPicker=function(){var e=this,r=this.pickerComponent,i=this.createBean(new gWe({picker:this}));return r.addCssClass("ag-color-dialog"),i.addDestroyFunc(function(){r.isAlive()&&e.destroyBean(r)}),r.setParentComponent(this),r.setBodyComponent(i),i.setValue(this.getValue()),i.getGui().focus(),r.addDestroyFunc(function(){e.isDestroyingPicker?e.isDestroyingPicker=!1:(e.beforeHidePicker(),e.isDestroyingPicker=!0,i.isAlive()&&e.destroyBean(i),e.isAlive()&&e.getFocusableElement().focus())}),function(){var o;return(o=e.pickerComponent)===null||o===void 0?void 0:o.close()}},t.prototype.setValue=function(e){return this.value===e?this:(this.eDisplayField.style.backgroundColor=e,n.prototype.setValue.call(this,e))},t.prototype.getValue=function(){return this.value},t}(mT),mWe=function(){var n=function(t,e){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])},n(t,e)};return function(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");n(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}}(),nv=function(n,t,e,r){var i=arguments.length,o=i<3?t:r===null?r=Object.getOwnPropertyDescriptor(t,e):r,a;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(n,t,e,r);else for(var s=n.length-1;s>=0;s--)(a=n[s])&&(o=(i<3?a(o):i>3?a(t,e,o):a(t,e))||o);return i>3&&o&&Object.defineProperty(t,e,o),o},CWe=function(n){mWe(t,n);function t(e,r){var i=n.call(this)||this;return i.chartOptionsService=e,i.getSelectedSeries=r,i}return t.prototype.init=function(){var e={cssIdentifier:"charts-format-sub-level",direction:"vertical"};this.setTemplate(t.TEMPLATE,{calloutGroup:e}),this.initCalloutOptions()},t.prototype.initCalloutOptions=function(){var e=this;this.calloutGroup.setTitle(this.chartTranslationService.translate("callout")).setEnabled(!0).hideOpenCloseIcons(!0).hideEnabledCheckbox(!0);var r=function(i,o,a,s){var l=e.chartOptionsService.getSeriesOption(i,e.getSelectedSeries());o.setLabel(e.chartTranslationService.translate(a)).setMaxValue(sn(l,s)).setValue("".concat(l)).setTextFieldWidth(45).onValueChange(function(u){return e.chartOptionsService.setSeriesOption(i,u,e.getSelectedSeries())})};r("calloutLine.length",this.calloutLengthSlider,"length",40),r("calloutLine.strokeWidth",this.calloutStrokeWidthSlider,"strokeWidth",10),r("calloutLabel.offset",this.labelOffsetSlider,"offset",30)},t.TEMPLATE=`<div>
            <ag-group-component ref="calloutGroup">
                <ag-slider ref="calloutLengthSlider"></ag-slider>
                <ag-slider ref="calloutStrokeWidthSlider"></ag-slider>
                <ag-slider ref="labelOffsetSlider"></ag-slider>
            </ag-group-component>
        </div>`,nv([j("calloutGroup")],t.prototype,"calloutGroup",void 0),nv([j("calloutLengthSlider")],t.prototype,"calloutLengthSlider",void 0),nv([j("calloutStrokeWidthSlider")],t.prototype,"calloutStrokeWidthSlider",void 0),nv([j("labelOffsetSlider")],t.prototype,"labelOffsetSlider",void 0),nv([E("chartTranslationService")],t.prototype,"chartTranslationService",void 0),nv([z],t.prototype,"init",null),t}(ae),SWe=function(){var n=function(t,e){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])},n(t,e)};return function(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");n(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}}(),mx=function(n,t,e,r){var i=arguments.length,o=i<3?t:r===null?r=Object.getOwnPropertyDescriptor(t,e):r,a;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(n,t,e,r);else for(var s=n.length-1;s>=0;s--)(a=n[s])&&(o=(i<3?a(o):i>3?a(t,e,o):a(t,e))||o);return i>3&&o&&Object.defineProperty(t,e,o),o},wWe=function(n){SWe(t,n);function t(e,r){var i=n.call(this)||this;return i.chartOptionsService=e,i.getSelectedSeries=r,i}return t.prototype.init=function(){var e={cssIdentifier:"charts-format-sub-level",direction:"vertical",title:this.chartTranslationService.translate("cap"),enabled:!0,suppressOpenCloseIcons:!0,suppressEnabledCheckbox:!0};this.setTemplate(t.TEMPLATE,{capsGroup:e}),this.initControls()},t.prototype.initControls=function(){var e=this,r=this.chartOptionsService.getSeriesOption("cap.lengthRatio",this.getSelectedSeries());this.capLengthRatioSlider.setLabel(this.chartTranslationService.translate("capLengthRatio")).setStep(.05).setMinValue(0).setMaxValue(1).setTextFieldWidth(45).setValue("".concat(r)).onValueChange(function(i){return e.chartOptionsService.setSeriesOption("cap.lengthRatio",i,e.getSelectedSeries())})},t.TEMPLATE=`<div>
            <ag-group-component ref="capsGroup">
                <ag-slider ref="capLengthRatioSlider"></ag-slider>
            </ag-group-component>
        </div>`,mx([j("capsGroup")],t.prototype,"capsGroup",void 0),mx([j("capLengthRatioSlider")],t.prototype,"capLengthRatioSlider",void 0),mx([E("chartTranslationService")],t.prototype,"chartTranslationService",void 0),mx([z],t.prototype,"init",null),t}(ae),_We=function(){var n=function(t,e){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])},n(t,e)};return function(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");n(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}}(),iv=function(n,t,e,r){var i=arguments.length,o=i<3?t:r===null?r=Object.getOwnPropertyDescriptor(t,e):r,a;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(n,t,e,r);else for(var s=n.length-1;s>=0;s--)(a=n[s])&&(o=(i<3?a(o):i>3?a(t,e,o):a(t,e))||o);return i>3&&o&&Object.defineProperty(t,e,o),o},xWe=function(n){_We(t,n);function t(e,r){var i=n.call(this)||this;return i.chartOptionsService=e,i.getSelectedSeries=r,i}return t.prototype.init=function(){var e={cssIdentifier:"charts-format-sub-level",direction:"vertical",title:this.chartTranslationService.translate("connectorLine"),enabled:!0,suppressOpenCloseIcons:!0,suppressEnabledCheckbox:!0};this.setTemplate(t.TEMPLATE,{lineGroup:e}),this.initConnectorLineControls()},t.prototype.initConnectorLineControls=function(){this.initColorPicker(this.lineColorPicker,"color","line.stroke"),this.initSlider(this.lineStrokeWidthSlider,"strokeWidth",0,10,45,"line.strokeWidth"),this.initSlider(this.lineDashSlider,"lineDash",0,30,45,"line.lineDash",1,!0),this.initSlider(this.lineOpacitySlider,"strokeOpacity",0,1,45,"line.strokeOpacity",.05,!1)},t.prototype.initColorPicker=function(e,r,i){var o=this,a=this.chartOptionsService.getSeriesOption(i,this.getSelectedSeries());e.setLabel(this.chartTranslationService.translate(r)).setLabelWidth("flex").setValue(a==null?"transparent":"".concat(a)).onValueChange(function(s){return o.chartOptionsService.setSeriesOption(i,s,o.getSelectedSeries())})},t.prototype.initSlider=function(e,r,i,o,a,s,l,u){var c=this;l===void 0&&(l=1),u===void 0&&(u=!1);var d=this.chartOptionsService.getSeriesOption(s,this.getSelectedSeries());e.setLabel(this.chartTranslationService.translate(r)).setMinValue(i).setMaxValue(o).setTextFieldWidth(a).setValue("".concat(d)).setStep(l).onValueChange(function(p){var h=u?[p]:p;c.chartOptionsService.setSeriesOption(s,h,c.getSelectedSeries())})},t.TEMPLATE=`<div>
            <ag-group-component ref="lineGroup">
                <ag-color-picker ref="lineColorPicker"></ag-color-picker>
                <ag-slider ref="lineStrokeWidthSlider"></ag-slider>
                <ag-slider ref="lineOpacitySlider"></ag-slider>
                <ag-slider ref="lineDashSlider"></ag-slider>                
            </ag-group-component>
        </div>`,iv([j("lineColorPicker")],t.prototype,"lineColorPicker",void 0),iv([j("lineStrokeWidthSlider")],t.prototype,"lineStrokeWidthSlider",void 0),iv([j("lineOpacitySlider")],t.prototype,"lineOpacitySlider",void 0),iv([j("lineDashSlider")],t.prototype,"lineDashSlider",void 0),iv([E("chartTranslationService")],t.prototype,"chartTranslationService",void 0),iv([z],t.prototype,"init",null),t}(ae),EWe=function(){var n=function(t,e){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])},n(t,e)};return function(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");n(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}}(),Yc=function(n,t,e,r){var i=arguments.length,o=i<3?t:r===null?r=Object.getOwnPropertyDescriptor(t,e):r,a;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(n,t,e,r);else for(var s=n.length-1;s>=0;s--)(a=n[s])&&(o=(i<3?a(o):i>3?a(t,e,o):a(t,e))||o);return i>3&&o&&Object.defineProperty(t,e,o),o},bWe=function(n){EWe(t,n);function t(e,r){var i=n.call(this)||this;return i.chartOptionsService=e,i.getSelectedSeries=r,i}return t.prototype.init=function(){var e={cssIdentifier:"charts-format-sub-level",direction:"vertical",title:this.chartTranslationService.translate("whisker"),enabled:!0,suppressOpenCloseIcons:!0,suppressEnabledCheckbox:!0};this.setTemplate(t.TEMPLATE,{whiskersGroup:e}),this.initControls()},t.prototype.initControls=function(){var e=this,r=this.chartOptionsService.getSeriesOption("whisker.stroke",this.getSelectedSeries());this.whiskerColorPicker.setLabel(this.chartTranslationService.translate("color")).setLabelWidth("flex").setValue(r==null?"transparent":"".concat(r)).onValueChange(function(l){return e.chartOptionsService.setSeriesOption("whisker.stroke",l,e.getSelectedSeries())});var i=this.chartOptionsService.getSeriesOption("whisker.strokeWidth",this.getSelectedSeries());this.whiskerThicknessSlider.setLabel(this.chartTranslationService.translate("strokeWidth")).setMinValue(0).setMaxValue(10).setTextFieldWidth(45).setValue("".concat(i)).onValueChange(function(l){return e.chartOptionsService.setSeriesOption("whisker.strokeWidth",l,e.getSelectedSeries())});var o=this.chartOptionsService.getSeriesOption("whisker.strokeOpacity",this.getSelectedSeries());this.whiskerOpacitySlider.setLabel(this.chartTranslationService.translate("strokeOpacity")).setStep(.05).setMinValue(0).setMaxValue(1).setTextFieldWidth(45).setValue("".concat(o)).onValueChange(function(l){return e.chartOptionsService.setSeriesOption("whisker.strokeOpacity",l,e.getSelectedSeries())});var a=this.chartOptionsService.getSeriesOption("whisker.lineDash",this.getSelectedSeries());this.whiskerLineDashSlider.setLabel(this.chartTranslationService.translate("lineDash")).setMinValue(0).setMaxValue(30).setTextFieldWidth(45).setValue("".concat(a)).onValueChange(function(l){return e.chartOptionsService.setSeriesOption("whisker.lineDash",[l],e.getSelectedSeries())});var s=this.chartOptionsService.getSeriesOption("whisker.lineDashOffset",this.getSelectedSeries());this.whiskerLineDashOffsetSlider.setLabel(this.chartTranslationService.translate("lineDashOffset")).setMinValue(0).setMaxValue(30).setTextFieldWidth(45).setValue("".concat(s)).onValueChange(function(l){return e.chartOptionsService.setSeriesOption("whisker.lineDashOffset",l,e.getSelectedSeries())})},t.TEMPLATE=`<div>
            <ag-group-component ref="whiskersGroup">
                <ag-color-picker ref="whiskerColorPicker"></ag-color-picker>
                <ag-slider ref="whiskerThicknessSlider"></ag-slider>
                <ag-slider ref="whiskerOpacitySlider"></ag-slider>
                <ag-slider ref="whiskerLineDashSlider"></ag-slider>
                <ag-slider ref="whiskerLineDashOffsetSlider"></ag-slider>
            </ag-group-component>
        </div>`,Yc([j("whiskersGroup")],t.prototype,"whiskersGroup",void 0),Yc([j("whiskerColorPicker")],t.prototype,"whiskerColorPicker",void 0),Yc([j("whiskerThicknessSlider")],t.prototype,"whiskerThicknessSlider",void 0),Yc([j("whiskerOpacitySlider")],t.prototype,"whiskerOpacitySlider",void 0),Yc([j("whiskerLineDashSlider")],t.prototype,"whiskerLineDashSlider",void 0),Yc([j("whiskerLineDashOffsetSlider")],t.prototype,"whiskerLineDashOffsetSlider",void 0),Yc([E("chartTranslationService")],t.prototype,"chartTranslationService",void 0),Yc([z],t.prototype,"init",null),t}(ae),OWe=function(){var n=function(t,e){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])},n(t,e)};return function(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");n(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}}(),Cx=function(n,t,e,r){var i=arguments.length,o=i<3?t:r===null?r=Object.getOwnPropertyDescriptor(t,e):r,a;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(n,t,e,r);else for(var s=n.length-1;s>=0;s--)(a=n[s])&&(o=(i<3?a(o):i>3?a(t,e,o):a(t,e))||o);return i>3&&o&&Object.defineProperty(t,e,o),o},RWe=function(n){OWe(t,n);function t(e,r){var i=n.call(this)||this;return i.chartOptionsService=e,i.getSelectedSeries=r,i.activePanels=[],i}return t.prototype.init=function(){var e={cssIdentifier:"charts-format-sub-level",direction:"vertical",title:this.chartTranslationService.translate("seriesItems"),enabled:!0,suppressOpenCloseIcons:!0,suppressEnabledCheckbox:!0};this.setTemplate(t.TEMPLATE,{seriesItemsGroup:e}),this.initSeriesItems(),this.initSeriesControls()},t.prototype.initSeriesItems=function(){var e=this,r=[{value:"positive",text:this.chartTranslationService.translate("seriesItemPositive")},{value:"negative",text:this.chartTranslationService.translate("seriesItemNegative")}],i=function(o){e.destroyActivePanels(),e.initSeriesControls(o)};this.seriesItemSelect.setLabel(this.chartTranslationService.translate("seriesItemType")).setLabelAlignment("left").setLabelWidth("flex").setInputWidth("flex").addOptions(r).setValue("positive").onValueChange(i)},t.prototype.initSeriesControls=function(e){e===void 0&&(e="positive"),this.initSlider("strokeWidth",0,10,45,"item.".concat(e,".strokeWidth")),this.initSlider("lineDash",0,30,45,"item.".concat(e,".lineDash"),1,!0),this.initSlider("strokeOpacity",0,1,45,"item.".concat(e,".strokeOpacity"),.05,!1),this.initSlider("fillOpacity",0,1,45,"item.".concat(e,".fillOpacity"),.05,!1),this.initItemLabels(e)},t.prototype.initSlider=function(e,r,i,o,a,s,l){var u=this;s===void 0&&(s=1),l===void 0&&(l=!1);var c=this.seriesItemsGroup.createManagedBean(new qo),d=this.chartOptionsService.getSeriesOption(a,this.getSelectedSeries()),p=function(h){var f=l?[h]:h;u.chartOptionsService.setSeriesOption(a,f,u.getSelectedSeries())};c.setLabel(this.chartTranslationService.translate(e)).setMinValue(r).setMaxValue(i).setTextFieldWidth(o).setValue("".concat(d)).setStep(s).onValueChange(p),this.seriesItemsGroup.addItem(c),this.activePanels.push(c)},t.prototype.initItemLabels=function(e){var r=this,i=VI({labelName:this.chartTranslationService.translate("seriesItemLabels"),chartOptionsService:this.chartOptionsService,getSelectedSeries:function(){return r.getSelectedSeries()},seriesOptionLabelProperty:"item.".concat(e,".label")}),o=this.createBean(new Jd(i));this.seriesItemsGroup.addItem(o),this.activePanels.push(o)},t.prototype.destroyActivePanels=function(){var e=this;this.activePanels.forEach(function(r){A.removeFromParent(r.getGui()),e.destroyBean(r)})},t.prototype.destroy=function(){this.destroyActivePanels(),n.prototype.destroy.call(this)},t.TEMPLATE=`<div>
            <ag-group-component ref="seriesItemsGroup">
                <ag-select ref="seriesItemSelect"></ag-select>
            </ag-group-component>
        </div>`,Cx([j("seriesItemsGroup")],t.prototype,"seriesItemsGroup",void 0),Cx([j("seriesItemSelect")],t.prototype,"seriesItemSelect",void 0),Cx([E("chartTranslationService")],t.prototype,"chartTranslationService",void 0),Cx([z],t.prototype,"init",null),t}(ae),TWe=function(){var n=function(t,e){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])},n(t,e)};return function(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");n(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}}(),Nv=function(){return Nv=Object.assign||function(n){for(var t,e=1,r=arguments.length;e<r;e++){t=arguments[e];for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(n[i]=t[i])}return n},Nv.apply(this,arguments)},Vp=function(n,t,e,r){var i=arguments.length,o=i<3?t:r===null?r=Object.getOwnPropertyDescriptor(t,e):r,a;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(n,t,e,r);else for(var s=n.length-1;s>=0;s--)(a=n[s])&&(o=(i<3?a(o):i>3?a(t,e,o):a(t,e))||o);return i>3&&o&&Object.defineProperty(t,e,o),o},PWe=function(n){var t=typeof Symbol=="function"&&Symbol.iterator,e=t&&n[t],r=0;if(e)return e.call(n);if(n&&typeof n.length=="number")return{next:function(){return n&&r>=n.length&&(n=void 0),{value:n&&n[r++],done:!n}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")},AWe=function(n){TWe(t,n);function t(e,r){var i=n.call(this)||this;return i.chartOptionsService=e,i.getSelectedSeries=r,i}return t.prototype.init=function(){var e={cssIdentifier:"charts-format-sub-level",direction:"vertical",enabled:!0,suppressOpenCloseIcons:!0,suppressEnabledCheckbox:!0};this.setTemplate(t.TEMPLATE,{groupSpacing:Nv(Nv({},e),{title:this.chartTranslationService.translate("group")}),tileSpacing:Nv(Nv({},e),{title:this.chartTranslationService.translate("tile")})}),this.initControls()},t.prototype.initControls=function(){var e,r,i=this,o=[{optionNamespace:"group",components:{paddingSlider:this.groupPaddingSlider,spacingSlider:this.groupSpacingSlider}},{optionNamespace:"tile",components:{paddingSlider:this.tilePaddingSlider,spacingSlider:this.tileSpacingSlider}}],a=function(d){var p=d.optionNamespace,h=d.components,f=h.paddingSlider,v=h.spacingSlider,g=s.chartOptionsService.getSeriesOption("".concat(p,".padding"),s.getSelectedSeries());f.setLabel(s.chartTranslationService.translate("padding")).setMinValue(0).setMaxValue(10).setTextFieldWidth(45).setValue("".concat(g)).onValueChange(function(m){return i.chartOptionsService.setSeriesOption("".concat(p,".padding"),m,i.getSelectedSeries())});var y=s.chartOptionsService.getSeriesOption("".concat(p,".gap"),s.getSelectedSeries());v.setLabel(s.chartTranslationService.translate("spacing")).setMinValue(0).setMaxValue(10).setTextFieldWidth(45).setValue("".concat(y)).onValueChange(function(m){return i.chartOptionsService.setSeriesOption("".concat(p,".gap"),m,i.getSelectedSeries())})},s=this;try{for(var l=PWe(o),u=l.next();!u.done;u=l.next()){var c=u.value;a(c)}}catch(d){e={error:d}}finally{try{u&&!u.done&&(r=l.return)&&r.call(l)}finally{if(e)throw e.error}}},t.TEMPLATE=`<div>
            <ag-group-component ref="groupSpacing">
                <ag-slider ref="groupPaddingSlider"></ag-slider>
                <ag-slider ref="groupSpacingSlider"></ag-slider>
            </ag-group-component>
            <ag-group-component ref="tileSpacing">
                <ag-slider ref="tilePaddingSlider"></ag-slider>
                <ag-slider ref="tileSpacingSlider"></ag-slider>
            </ag-group-component>
        </div>`,Vp([j("groupSpacing")],t.prototype,"groupSpacing",void 0),Vp([j("groupPaddingSlider")],t.prototype,"groupPaddingSlider",void 0),Vp([j("groupSpacingSlider")],t.prototype,"groupSpacingSlider",void 0),Vp([j("tilePaddingSlider")],t.prototype,"tilePaddingSlider",void 0),Vp([j("tileSpacingSlider")],t.prototype,"tileSpacingSlider",void 0),Vp([E("chartTranslationService")],t.prototype,"chartTranslationService",void 0),Vp([z],t.prototype,"init",null),t}(ae),DWe=function(){var n=function(t,e){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])},n(t,e)};return function(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");n(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}}(),uM=function(n,t,e,r){var i=arguments.length,o=i<3?t:r===null?r=Object.getOwnPropertyDescriptor(t,e):r,a;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(n,t,e,r);else for(var s=n.length-1;s>=0;s--)(a=n[s])&&(o=(i<3?a(o):i>3?a(t,e,o):a(t,e))||o);return i>3&&o&&Object.defineProperty(t,e,o),o},MWe=function(n){DWe(t,n);function t(e){var r=e.chartController,i=e.chartOptionsService,o=e.seriesType,a=e.isExpandedOnInit,s=a===void 0?!1:a,l=n.call(this)||this;return l.activePanels=[],l.widgetFuncs={lineWidth:function(){return l.initStrokeWidth("lineWidth")},strokeWidth:function(){return l.initStrokeWidth("strokeWidth")},lineColor:function(){return l.initLineColor()},lineDash:function(){return l.initLineDash()},lineOpacity:function(){return l.initLineOpacity()},fillOpacity:function(){return l.initFillOpacity()},markers:function(){return l.initMarkers()},labels:function(){return l.initLabels()},shadow:function(){return l.initShadow()},tooltips:function(){return l.initTooltips()},bins:function(){return l.initBins()},whiskers:function(){return l.initWhiskers()},caps:function(){return l.initCaps()},connectorLine:function(){return l.initConnectorLine()},seriesItems:function(){return l.initSeriesItemsPanel()},tileSpacing:function(){return l.initTileSpacingPanel()}},l.seriesWidgetMappings={column:["tooltips","strokeWidth","lineDash","lineOpacity","fillOpacity","labels","shadow"],bar:["tooltips","strokeWidth","lineDash","lineOpacity","fillOpacity","labels","shadow"],pie:["tooltips","strokeWidth","lineOpacity","fillOpacity","labels","shadow"],donut:["tooltips","strokeWidth","lineOpacity","fillOpacity","labels","shadow"],line:["tooltips","lineWidth","lineDash","lineOpacity","markers","labels"],scatter:["tooltips","markers","labels"],bubble:["tooltips","markers","labels"],area:["tooltips","lineWidth","lineDash","lineOpacity","fillOpacity","markers","labels","shadow"],histogram:["tooltips","bins","strokeWidth","lineDash","lineOpacity","fillOpacity","labels","shadow"],"radial-column":["tooltips","strokeWidth","lineDash","lineOpacity","fillOpacity","labels"],"radial-bar":["tooltips","strokeWidth","lineDash","lineOpacity","fillOpacity","labels"],"radar-line":["tooltips","strokeWidth","lineDash","lineOpacity","markers","labels"],"radar-area":["tooltips","strokeWidth","lineDash","lineOpacity","fillOpacity","markers","labels"],nightingale:["tooltips","strokeWidth","lineDash","lineOpacity","fillOpacity","labels"],"box-plot":["tooltips","strokeWidth","lineDash","lineOpacity","fillOpacity","whiskers","caps"],"range-bar":["tooltips","strokeWidth","lineDash","lineOpacity","fillOpacity","labels"],"range-area":["tooltips","lineWidth","lineDash","lineOpacity","fillOpacity","markers","labels","shadow"],treemap:["tooltips","tileSpacing"],sunburst:["tooltips"],heatmap:["tooltips","labels","lineColor","lineWidth","lineOpacity"],waterfall:["tooltips","connectorLine","seriesItems"]},l.chartController=r,l.chartOptionsService=i,l.seriesType=o||l.getChartSeriesType(),l.isExpandedOnInit=s,l}return t.prototype.init=function(){var e={cssIdentifier:"charts-format-top-level",direction:"vertical"};this.setTemplate(t.TEMPLATE,{seriesGroup:e}),this.seriesGroup.setTitle(this.translate("series")).toggleGroupExpand(this.isExpandedOnInit).hideEnabledCheckbox(!0),this.addManagedListener(this.chartController,js.EVENT_CHART_SERIES_CHART_TYPE_CHANGED,this.refreshWidgets.bind(this)),this.refreshWidgets()},t.prototype.refreshWidgets=function(){var e=this;this.destroyActivePanels();var r=this.chartController.getChartProxy().getChart();r.waitForUpdate().then(function(){var i,o=!e.isAlive();o||(e.chartController.isComboChart()&&(e.updateSeriesType(),e.initSeriesSelect()),((i=e.seriesWidgetMappings[e.seriesType])!==null&&i!==void 0?i:[]).forEach(function(a){return e.widgetFuncs[a]()}))}).catch(function(i){return console.error("AG Grid - chart rendering failed",i)})},t.prototype.initSeriesSelect=function(){var e=this,r=this.seriesGroup.createManagedBean(new ru);r.setLabel(this.translate("seriesType")).setLabelAlignment("left").setLabelWidth("flex").setInputWidth("flex").addOptions(this.getSeriesSelectOptions()).setValue("".concat(this.seriesType)).onValueChange(function(i){e.seriesType=i,e.refreshWidgets()}),this.seriesGroup.addItem(r),this.activePanels.push(r)},t.prototype.initTooltips=function(){var e=this,r=this.createBean(new ET);r.setLabel(this.translate("tooltips")).setLabelAlignment("left").setLabelWidth("flex").setInputWidth("flex").setValue(this.getSeriesOption("tooltip.enabled")||!1).onValueChange(function(i){return e.setSeriesOption("tooltip.enabled",i)}),this.addWidget(r)},t.prototype.initLineColor=function(){var e=this,r=this.getSeriesOption("stroke"),i=this.createBean(new Ote);i.setLabel(this.translate("strokeColor")).setLabelWidth("flex").onValueChange(function(o){return e.setSeriesOption("stroke",o)}),r&&i.setValue(r),this.addWidget(i)},t.prototype.initStrokeWidth=function(e){var r=this,i,o=(i=this.getSeriesOption("strokeWidth"))!==null&&i!==void 0?i:0,a=this.createBean(new qo);a.setLabel(this.translate(e)).setMaxValue(sn(o,10)).setTextFieldWidth(45).setValue("".concat(o)).onValueChange(function(s){return r.setSeriesOption("strokeWidth",s)}),this.addWidget(a)},t.prototype.initLineDash=function(){var e=this,r=this.getSeriesOption("lineDash"),i=r?r[0]:0,o=this.createBean(new qo);o.setLabel(this.translate("lineDash")).setMaxValue(sn(i,30)).setTextFieldWidth(45).setValue("".concat(i)).onValueChange(function(a){return e.setSeriesOption("lineDash",[a])}),this.addWidget(o)},t.prototype.initLineOpacity=function(){var e=this,r,i=(r=this.getSeriesOption("strokeOpacity"))!==null&&r!==void 0?r:0,o=this.createBean(new qo);o.setLabel(this.translate("strokeOpacity")).setStep(.05).setMaxValue(sn(i,1)).setTextFieldWidth(45).setValue("".concat(i)).onValueChange(function(a){return e.setSeriesOption("strokeOpacity",a)}),this.addWidget(o)},t.prototype.initFillOpacity=function(){var e=this,r,i=(r=this.getSeriesOption("fillOpacity"))!==null&&r!==void 0?r:0,o=this.createBean(new qo);o.setLabel(this.translate("fillOpacity")).setStep(.05).setMaxValue(sn(i,1)).setTextFieldWidth(45).setValue("".concat(i)).onValueChange(function(a){return e.setSeriesOption("fillOpacity",a)}),this.addWidget(o)},t.prototype.initLabels=function(){var e=this,r=YB(this.seriesType),i=r?"calloutLabel":"label",o=r?this.chartTranslationService.translate("calloutLabels"):this.chartTranslationService.translate("labels"),a=VI({labelName:o,chartOptionsService:this.chartOptionsService,getSelectedSeries:function(){return e.seriesType},seriesOptionLabelProperty:i}),s=this.createBean(new Jd(a));if(r){var l=this.createBean(new CWe(this.chartOptionsService,function(){return e.seriesType}));s.addCompToPanel(l),this.activePanels.push(l)}if(this.addWidget(s),r){var u=VI({labelName:this.chartTranslationService.translate("sectorLabels"),chartOptionsService:this.chartOptionsService,getSelectedSeries:function(){return e.seriesType},seriesOptionLabelProperty:"sectorLabel"}),c=this.createBean(new Jd(u)),d=this.getSectorLabelPositionRatio();c.addCompToPanel(d),this.addWidget(c)}if(this.seriesType==="range-bar"){var p=[{value:"inside",text:this.translate("inside")},{value:"outside",text:this.translate("outside")}],h=this.chartOptionsService.getSeriesOption("label.placement",this.seriesType),f=s.createManagedBean(new ru);f.setLabel(this.translate("labelPlacement")).setLabelAlignment("left").setLabelWidth("flex").setInputWidth("flex").addOptions(p).setValue(h).onValueChange(function(y){return e.chartOptionsService.setSeriesOption("label.placement",y,e.seriesType)}),s.addCompToPanel(f),this.activePanels.push(f);var v=this.chartOptionsService.getSeriesOption("label.padding",this.seriesType),g=s.createManagedBean(new qo);g.setLabel(this.chartTranslationService.translate("padding")).setMaxValue(sn(v,200)).setValue("".concat(v)).setTextFieldWidth(45).onValueChange(function(y){return e.chartOptionsService.setSeriesOption("label.padding",y,e.seriesType)}),s.addCompToPanel(g),this.activePanels.push(g)}},t.prototype.getSectorLabelPositionRatio=function(){var e=this,r="sectorLabel.positionRatio",i=this.chartOptionsService.getSeriesOption(r,this.seriesType),o=this.createBean(new qo);return o.setLabel(this.translate("positionRatio")).setStep(.05).setMaxValue(sn(i,1)).setTextFieldWidth(45).setValue("".concat(i)).onValueChange(function(a){return e.chartOptionsService.setSeriesOption(r,a,e.seriesType)})},t.prototype.initShadow=function(){var e=this,r=this.createBean(new dWe(this.chartOptionsService,function(){return e.seriesType}));this.addWidget(r)},t.prototype.initMarkers=function(){var e=this,r=this.createBean(new hWe(this.chartOptionsService,function(){return e.seriesType}));this.addWidget(r)},t.prototype.initBins=function(){var e=this,r,i=((r=this.getSeriesOption("bins"))!==null&&r!==void 0?r:this.getSeriesOption("calculatedBins",!0)).length,o=this.createBean(new qo);o.setLabel(this.translate("histogramBinCount")).setMinValue(0).setMaxValue(sn(i,20)).setTextFieldWidth(45).setValue("".concat(i)).onValueChange(function(a){return e.setSeriesOption("binCount",a)}),this.addWidget(o)},t.prototype.initWhiskers=function(){var e=this,r=this.createBean(new bWe(this.chartOptionsService,function(){return e.seriesType}));this.addWidget(r)},t.prototype.initCaps=function(){var e=this,r=this.createBean(new wWe(this.chartOptionsService,function(){return e.seriesType}));this.addWidget(r)},t.prototype.initConnectorLine=function(){var e=this,r=this.createBean(new xWe(this.chartOptionsService,function(){return e.seriesType}));this.addWidget(r)},t.prototype.initSeriesItemsPanel=function(){var e=this,r=this.createBean(new RWe(this.chartOptionsService,function(){return e.seriesType}));this.addWidget(r)},t.prototype.initTileSpacingPanel=function(){var e=this,r=this.createBean(new AWe(this.chartOptionsService,function(){return e.seriesType}));this.addWidget(r)},t.prototype.addWidget=function(e){this.seriesGroup.addItem(e),this.activePanels.push(e)},t.prototype.getSeriesOption=function(e,r){return this.chartOptionsService.getSeriesOption(e,this.seriesType,r)},t.prototype.setSeriesOption=function(e,r){this.chartOptionsService.setSeriesOption(e,r,this.seriesType)},t.prototype.getChartSeriesType=function(){if(this.chartController.getSeriesChartTypes().length===0)return"column";var e=this.chartController.getSeriesChartTypes()[0].chartType;return e==="columnLineCombo"?"column":e==="areaColumnCombo"?"area":Is(e)},t.prototype.getSeriesSelectOptions=function(){var e=this;this.seriesSelectOptions||(this.seriesSelectOptions=new Map([["area",{value:"area",text:this.translate("area","Area")}],["bar",{value:"bar",text:this.translate("bar","Bar")}],["column",{value:"column",text:this.translate("column","Column")}],["line",{value:"line",text:this.translate("line","Line")}],["scatter",{value:"scatter",text:this.translate("scatter","Scatter")}],["histogram",{value:"histogram",text:this.translate("histogram","Histogram")}],["radial-column",{value:"radial-column",text:this.translate("radialColumn","Radial Column")}],["radial-bar",{value:"radial-bar",text:this.translate("radialBar","Radial Bar")}],["radar-line",{value:"radar-line",text:this.translate("radarLine","Radar Line")}],["radar-area",{value:"radar-area",text:this.translate("radarArea","Radar Area")}],["nightingale",{value:"nightingale",text:this.translate("nightingale","Nightingale")}],["range-bar",{value:"range-bar",text:this.translate("rangeBar","Range Bar")}],["range-area",{value:"range-area",text:this.translate("rangeArea","Range Area")}],["treemap",{value:"treemap",text:this.translate("treemap","Treemap")}],["sunburst",{value:"sunburst",text:this.translate("sunburst","Sunburst")}],["waterfall",{value:"waterfall",text:this.translate("waterfall","Waterfall")}],["box-plot",{value:"box-plot",text:this.translate("boxPlot","Box Plot")}],["pie",{value:"pie",text:this.translate("pie","Pie")}],["donut",{value:"donut",text:this.translate("donut","Donut")}]]));var r=new Set;return this.chartController.getActiveSeriesChartTypes().forEach(function(i){var o=Is(i.chartType);r.add(e.seriesSelectOptions.get(o))}),Array.from(r)},t.prototype.updateSeriesType=function(){var e=this.chartController.getActiveSeriesChartTypes().map(function(i){return Is(i.chartType)}),r=!e.includes(this.seriesType);r&&e.length>0&&(this.seriesType=e[0])},t.prototype.translate=function(e,r){return this.chartTranslationService.translate(e,r)},t.prototype.destroyActivePanels=function(){var e=this;this.activePanels.forEach(function(r){A.removeFromParent(r.getGui()),e.destroyBean(r)})},t.prototype.destroy=function(){this.destroyActivePanels(),n.prototype.destroy.call(this)},t.TEMPLATE=`<div>
            <ag-group-component ref="seriesGroup">
            </ag-group-component>
        </div>`,uM([j("seriesGroup")],t.prototype,"seriesGroup",void 0),uM([E("chartTranslationService")],t.prototype,"chartTranslationService",void 0),uM([z],t.prototype,"init",null),t}(ae),LWe=function(){var n=function(t,e){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])},n(t,e)};return function(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");n(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}}(),Xc=function(n,t,e,r){var i=arguments.length,o=i<3?t:r===null?r=Object.getOwnPropertyDescriptor(t,e):r,a;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(n,t,e,r);else for(var s=n.length-1;s>=0;s--)(a=n[s])&&(o=(i<3?a(o):i>3?a(t,e,o):a(t,e))||o);return i>3&&o&&Object.defineProperty(t,e,o),o},FWe=function(n){LWe(t,n);function t(e){var r=e.chartOptionsService,i=e.isExpandedOnInit,o=i===void 0?!1:i,a=n.call(this)||this;return a.activePanels=[],a.chartOptionsService=r,a.isExpandedOnInit=o,a}return t.prototype.init=function(){var e={cssIdentifier:"charts-format-top-level",direction:"vertical"};this.setTemplate(t.TEMPLATE,{legendGroup:e}),this.initLegendGroup(),this.initLegendPosition(),this.initLegendGradient(),this.initLegendSpacing(),this.initLabelPanel()},t.prototype.initLegendGroup=function(){var e=this;this.legendGroup.setTitle(this.chartTranslationService.translate("legend")).hideEnabledCheckbox(!1).setEnabled(this.chartOptionsService.getChartOption("gradientLegend.enabled")||!1).toggleGroupExpand(this.isExpandedOnInit).onEnableChange(function(r){e.chartOptionsService.setChartOption("gradientLegend.enabled",r),e.legendGroup.toggleGroupExpand(!0)})},t.prototype.initLegendPosition=function(){var e=this,r=["top","right","bottom","left"];this.legendPositionSelect.setLabel(this.chartTranslationService.translate("position")).setLabelWidth("flex").setInputWidth("flex").addOptions(r.map(function(i){return{value:i,text:e.chartTranslationService.translate(i)}})).setValue(this.chartOptionsService.getChartOption("gradientLegend.position")).onValueChange(function(i){return e.chartOptionsService.setChartOption("gradientLegend.position",i)})},t.prototype.initLegendGradient=function(){var e=this;this.gradientReverseCheckbox.setLabel(this.chartTranslationService.translate("reverseDirection")).setLabelWidth("flex").setValue(this.chartOptionsService.getChartOption("gradientLegend.reverseOrder")).onValueChange(function(i){return e.chartOptionsService.setChartOption("gradientLegend.reverseOrder",i)});var r=function(i,o,a,s){var l,u=(l=e.chartOptionsService.getChartOption(i))!==null&&l!==void 0?l:0;a.setLabel(e.chartTranslationService.translate(o)).setMaxValue(sn(u,s)).setValue("".concat(u)).setTextFieldWidth(45).onValueChange(function(c){e.chartOptionsService.setChartOption(i,c)})};r("gradientLegend.gradient.thickness","thickness",this.gradientThicknessSlider,40),r("gradientLegend.gradient.preferredLength","preferredLength",this.gradientPreferredLengthSlider,300)},t.prototype.initLegendSpacing=function(){var e=this,r=this.chartOptionsService.getChartOption("gradientLegend.spacing");this.legendSpacingSlider.setLabel(this.chartTranslationService.translate("spacing")).setMaxValue(sn(r,200)).setValue("".concat(r)).setTextFieldWidth(45).onValueChange(function(i){return e.chartOptionsService.setChartOption("gradientLegend.spacing",i)})},t.prototype.initLabelPanel=function(){var e=this,r=this.chartOptionsService,i={family:r.getChartOption("gradientLegend.scale.label.fontFamily"),style:r.getChartOption("gradientLegend.scale.label.fontStyle"),weight:r.getChartOption("gradientLegend.scale.label.fontWeight"),size:r.getChartOption("gradientLegend.scale.label.fontSize"),color:r.getChartOption("gradientLegend.scale.label.color")},o=function(l){var u=e.chartOptionsService;l.family&&u.setChartOption("gradientLegend.scale.label.fontFamily",l.family),l.weight&&u.setChartOption("gradientLegend.scale.label.fontWeight",l.weight),l.style&&u.setChartOption("gradientLegend.scale.label.fontStyle",l.style),l.size&&u.setChartOption("gradientLegend.scale.label.fontSize",l.size),l.color&&u.setChartOption("gradientLegend.scale.label.color",l.color)},a={enabled:!0,suppressEnabledCheckbox:!0,initialFont:i,setFont:o},s=this.createBean(new Jd(a));this.legendGroup.addItem(s),this.activePanels.push(s)},t.prototype.destroyActivePanels=function(){var e=this;this.activePanels.forEach(function(r){A.removeFromParent(r.getGui()),e.destroyBean(r)})},t.prototype.destroy=function(){this.destroyActivePanels(),n.prototype.destroy.call(this)},t.TEMPLATE=`<div>
            <ag-group-component ref="legendGroup">
                <ag-select ref="legendPositionSelect"></ag-select>
                <ag-checkbox ref="gradientReverseCheckbox"></ag-checkbox>
                <ag-slider ref="gradientThicknessSlider"></ag-slider>
                <ag-slider ref="gradientPreferredLengthSlider"></ag-slider>
                <ag-slider ref="legendSpacingSlider"></ag-slider>
            </ag-group-component>
        </div>`,Xc([j("legendGroup")],t.prototype,"legendGroup",void 0),Xc([j("gradientReverseCheckbox")],t.prototype,"gradientReverseCheckbox",void 0),Xc([j("legendPositionSelect")],t.prototype,"legendPositionSelect",void 0),Xc([j("gradientThicknessSlider")],t.prototype,"gradientThicknessSlider",void 0),Xc([j("gradientPreferredLengthSlider")],t.prototype,"gradientPreferredLengthSlider",void 0),Xc([j("legendSpacingSlider")],t.prototype,"legendSpacingSlider",void 0),Xc([E("chartTranslationService")],t.prototype,"chartTranslationService",void 0),Xc([z],t.prototype,"init",null),t}(ae),IWe=function(){var n=function(t,e){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])},n(t,e)};return function(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");n(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}}(),NWe=function(n,t,e,r){var i=arguments.length,o=i<3?t:r===null?r=Object.getOwnPropertyDescriptor(t,e):r,a;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(n,t,e,r);else for(var s=n.length-1;s>=0;s--)(a=n[s])&&(o=(i<3?a(o):i>3?a(t,e,o):a(t,e))||o);return i>3&&o&&Object.defineProperty(t,e,o),o};function sn(n,t){return Math.max(n,t)}var kWe={groups:[{type:"chart"},{type:"legend"},{type:"series"},{type:"axis"},{type:"navigator"}]},GWe=function(n){IWe(t,n);function t(e,r){var i=n.call(this,t.TEMPLATE)||this;return i.chartController=e,i.chartOptionsService=r,i.panels=[],i.isGroupPanelShownInSeries=function(o,a){var s,l,u=["chart","legend","series"];if(u.includes(o))return!0;var c={bar:["axis","navigator"],column:["axis","navigator"],line:["axis","navigator"],area:["axis","navigator"],scatter:["axis","navigator"],bubble:["axis","navigator"],histogram:["axis","navigator"],cartesian:["axis","navigator"],"radial-column":["axis"],"radial-bar":["axis"],"radar-line":["axis"],"radar-area":["axis"],nightingale:["axis"],"range-bar":["axis","navigator"],"range-area":["axis","navigator"],treemap:[],sunburst:[],heatmap:["axis"],waterfall:["axis","navigator"],"box-plot":["axis","navigator"]};return(l=(s=c[a])===null||s===void 0?void 0:s.includes(o))!==null&&l!==void 0?l:!1},i}return t.prototype.init=function(){var e=this;this.createPanels(),this.addManagedListener(this.chartController,js.EVENT_CHART_UPDATED,function(){return e.createPanels(!0)}),this.addManagedListener(this.chartController,js.EVENT_CHART_API_UPDATE,function(){return e.createPanels(!1)})},t.prototype.createPanels=function(e){var r=this,i,o=this.chartController.getChartType(),a=this.chartController.isGrouping(),s=Is(o);e&&o===this.chartType&&a===this.isGrouping||(this.destroyPanels(),(i=this.getFormatPanelDef().groups)===null||i===void 0||i.forEach(function(l){var u=l.type;if(r.isGroupPanelShownInSeries(u,s)){var c={chartController:r.chartController,chartOptionsService:r.chartOptionsService,isExpandedOnInit:l.isOpen,seriesType:s};if(u==="chart")r.addComponent(new uWe(c));else if(u==="legend"){var d=v$e(o)?new FWe(c):new U$e(c);r.addComponent(d)}else if(u==="axis"){var d=Ste(o)?new Q$e(c):new q$e(c);r.addComponent(d)}else u==="series"?r.addComponent(new MWe(c)):u==="navigator"?r.addComponent(new eWe(c)):console.warn("AG Grid: invalid charts format panel group name supplied: '".concat(l.type,"'"))}}),this.chartType=o,this.isGrouping=a)},t.prototype.getFormatPanelDef=function(){var e,r=(e=this.gridOptionsService.get("chartToolPanelsDef"))===null||e===void 0?void 0:e.formatPanel;return r||kWe},t.prototype.addComponent=function(e){this.createBean(e),this.panels.push(e),e.addCssClass("ag-chart-format-section"),this.getGui().appendChild(e.getGui())},t.prototype.destroyPanels=function(){var e=this;this.panels.forEach(function(r){A.removeFromParent(r.getGui()),e.destroyBean(r)}),this.panels=[]},t.prototype.destroy=function(){this.destroyPanels(),n.prototype.destroy.call(this)},t.TEMPLATE='<div class="ag-chart-format-wrapper"></div>',NWe([z],t.prototype,"init",null),t}(ae),VWe=function(){var n=function(t,e){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])},n(t,e)};return function(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");n(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}}(),Hz=function(n,t,e,r){var i=arguments.length,o=i<3?t:r===null?r=Object.getOwnPropertyDescriptor(t,e):r,a;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(n,t,e,r);else for(var s=n.length-1;s>=0;s--)(a=n[s])&&(o=(i<3?a(o):i>3?a(t,e,o):a(t,e))||o);return i>3&&o&&Object.defineProperty(t,e,o),o},BWe="ag-chart-mini-thumbnail-canvas",HWe="AG Grid - chart update failed",fy=function(n){VWe(t,n);function t(e,r){var i=n.call(this)||this;i.size=58,i.padding=5,i.root=new ne.Group;var o=new ne.Scene({window,document:window.document,width:i.size,height:i.size});return o.canvas.element.classList.add(BWe),o.root=i.root,o.container=e,i.scene=o,i.tooltipName=r,i}return t.prototype.init=function(){this.scene.canvas.element.title=this.chartTranslationService.translate(this.tooltipName),this.scene.render().catch(function(e){console.error("".concat(HWe),e)})},Hz([E("chartTranslationService")],t.prototype,"chartTranslationService",void 0),Hz([z],t.prototype,"init",null),t}(ae),jWe=function(){var n=function(t,e){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])},n(t,e)};return function(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");n(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}}(),$We=function(n,t,e,r){var i=arguments.length,o=i<3?t:r===null?r=Object.getOwnPropertyDescriptor(t,e):r,a;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(n,t,e,r);else for(var s=n.length-1;s>=0;s--)(a=n[s])&&(o=(i<3?a(o):i>3?a(t,e,o):a(t,e))||o);return i>3&&o&&Object.defineProperty(t,e,o),o},xi=function(n){jWe(t,n);function t(e,r){var i=n.call(this,e,r)||this;return i.stroke="gray",i.axisOvershoot=3,i}return t.prototype.addAxes=function(){var e=this.size,r=this.padding,i=new ne.Line;i.x1=r,i.y1=r,i.x2=r,i.y2=e-r+this.axisOvershoot,i.stroke=this.stroke;var o=new ne.Line;o.x1=r-this.axisOvershoot+1,o.y1=e-r,o.x2=e-r+1,o.y2=e-r,o.stroke=this.stroke;var a=this.root;a.append(i),a.append(o)},$We([z],t.prototype,"addAxes",null),t}(fy),HI=function(n,t){var e=typeof Symbol=="function"&&n[Symbol.iterator];if(!e)return n;var r=e.call(n),i,o=[],a;try{for(;(t===void 0||t-- >0)&&!(i=r.next()).done;)o.push(i.value)}catch(s){a={error:s}}finally{try{i&&!i.done&&(e=r.return)&&e.call(r)}finally{if(a)throw a.error}}return o},jz=function(n,t,e){if(e||arguments.length===2)for(var r=0,i=t.length,o;r<i;r++)(o||!(r in t))&&(o||(o=Array.prototype.slice.call(t,0,r)),o[r]=t[r]);return n.concat(o||Array.prototype.slice.call(t))};function g0(n){var t=n.stacked,e=n.size,r=n.padding,i=n.xScalePadding,o=n.xScaleDomain,a=n.yScaleDomain,s=new ne.BandScale;s.domain=o,s.range=[r,e-r],s.paddingInner=i,s.paddingOuter=i;var l=new ne.LinearScale;l.domain=a,l.range=[e-r,r];var u=function(c,d,p){return c.map(function(h,f){var v=p.convert(h),g=new ne.Rect;return g.x=d.convert(f),g.y=v,g.width=d.bandwidth,g.height=p.convert(0)-v,g.strokeWidth=0,g.crisp=!0,g})};return t?n.data.map(function(c){return u(c,s,l)}):u(n.data,s,l)}function qB(n,t,e,r){var i=new ne.LinearScale;i.domain=[0,4],i.range=[r,e-r];var o=new ne.LinearScale;o.domain=[0,10],o.range=[e-r,r];var a=t.map(function(l){var u=new ne.Path;return u.strokeWidth=3,u.lineCap="round",u.fill=void 0,l.forEach(function(c,d){u.path[d>0?"lineTo":"moveTo"](i.convert(d),o.convert(c))}),u}),s=new ne.Group;return s.setClipRectInGroupCoordinateSpace(new ne.BBox(r,r,e-r*2,e-r*2)),s.append(a),n.append(s),a}function Rte(n,t,e,r,i,o){o===void 0&&(o=0);var a=new ne.LinearScale;a.domain=[0,7],a.range=[-Math.PI,Math.PI].map(function(p){return p+Math.PI/2});var s=new ne.LinearScale;s.domain=[0,10],s.range=[r,i];var l=[],u=t.map(function(p){var h=new ne.Path;return h.strokeWidth=1,h.strokeOpacity=.5,h.lineCap="round",h.fill=void 0,h.fillOpacity=.8,p.forEach(function(f,v){var g=a.convert(v),y=r+i-s.convert(f),m=y*Math.cos(g),C=y*Math.sin(g);if(h.path[v>0?"lineTo":"moveTo"](m,C),o>0){var S=new ne.Circle;S.x=m,S.y=C,S.size=o,l.push(S)}}),h.path.closePath(),h}),c=new ne.Group,d=e/2;return c.translationX=d,c.translationY=d,c.append(jz(jz([],HI(u),!1),HI(l),!1)),n.append(c),{paths:u,markers:l}}function mP(n){var t=HI([1/0,-1/0],2),e=t[0],r=t[1],i=n.reduce(function(o,a,s){var l,u=s>0?o[s-1]:void 0;(l=o[s])!==null&&l!==void 0||(o[s]=[]);var c=o[s];return a.forEach(function(d,p){u&&(d+=u[p]),c[p]=d,c[p]<e&&(e=c[p]),c[p]>r&&(r=c[p])}),o},[]);return{processedData:i,min:e,max:r}}var WWe=function(){var n=function(t,e){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])},n(t,e)};return function(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");n(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}}(),UWe=function(n){WWe(t,n);function t(e,r,i){var o=n.call(this,e,"groupedColumnTooltip")||this;o.columnData=[2,3,4];var a=o,s=a.root,l=a.columnData,u=a.size,c=a.padding;return o.columns=g0({stacked:!1,root:s,data:l,size:u,padding:c,xScaleDomain:[0,1,2],yScaleDomain:[0,4],xScalePadding:.3}),s.append(o.columns),o.updateColors(r,i),o}return t.prototype.updateColors=function(e,r){this.columns.forEach(function(i,o){i.fill=e[o],i.stroke=r[o]})},t.chartType="groupedColumn",t}(xi),zWe=function(){var n=function(t,e){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])},n(t,e)};return function(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");n(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}}(),Tte=function(n){zWe(t,n);function t(e,r,i,o,a,s,l,u){s===void 0&&(s=t.data),l===void 0&&(l=[0,16]),u===void 0&&(u="stackedColumnTooltip");var c=n.call(this,e,u)||this,d=c,p=d.root,h=d.size,f=d.padding;return c.stackedColumns=g0({stacked:!0,root:p,data:s,size:h,padding:f,xScaleDomain:[0,1,2],yScaleDomain:l,xScalePadding:.3}),p.append([].concat.apply([],c.stackedColumns)),c.updateColors(r,i),c}return t.prototype.updateColors=function(e,r){this.stackedColumns.forEach(function(i,o){return i.forEach(function(a){a.fill=e[o],a.stroke=r[o]})})},t.chartType="stackedColumn",t.data=[[8,12,16],[6,9,12],[2,3,4]],t}(xi),KWe=function(){var n=function(t,e){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])},n(t,e)};return function(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");n(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}}(),YWe=function(n){KWe(t,n);function t(e,r,i,o,a){return n.call(this,e,r,i,o,a,t.data,[0,10],"normalizedColumnTooltip")||this}return t.chartType="normalizedColumn",t.data=[[10,10,10],[6,7,8],[2,4,6]],t}(Tte),XWe=function(){var n=function(t,e){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])},n(t,e)};return function(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");n(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}}(),qWe=function(n){XWe(t,n);function t(e,r,i){var o=n.call(this,e,"groupedBarTooltip")||this,a=o.padding,s=o.size,l=[2,3,4],u=new ne.BandScale;u.domain=[0,1,2],u.range=[a,s-a],u.paddingInner=.3,u.paddingOuter=.3;var c=new ne.LinearScale;c.domain=[0,4],c.range=[s-a,a];var d=c.convert(0),p=u.bandwidth;return o.bars=l.map(function(h,f){var v=new ne.Rect;return v.x=a,v.y=u.convert(f),v.width=d-c.convert(h),v.height=p,v.strokeWidth=0,v.crisp=!0,v}),o.updateColors(r,i),o.root.append(o.bars),o}return t.prototype.updateColors=function(e,r){this.bars.forEach(function(i,o){i.fill=e[o],i.stroke=r[o]})},t.chartType="groupedBar",t}(xi),ZWe=function(){var n=function(t,e){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])},n(t,e)};return function(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");n(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}}(),Pte=function(n){ZWe(t,n);function t(e,r,i,o,a,s,l,u){s===void 0&&(s=t.data),l===void 0&&(l=[0,16]),u===void 0&&(u="stackedBarTooltip");var c=n.call(this,e,u)||this,d=c.size,p=c.padding,h=new ne.BandScale;h.domain=[0,1,2],h.range=[p,d-p],h.paddingInner=.3,h.paddingOuter=.3;var f=new ne.LinearScale;f.domain=l,f.range=[d-p,p];var v=f.convert(0),g=h.bandwidth;return c.bars=s.map(function(y){return y.map(function(m,C){var S=new ne.Rect;return S.x=p,S.y=h.convert(C),S.width=v-f.convert(m),S.height=g,S.strokeWidth=0,S.crisp=!0,S})}),c.updateColors(r,i),c.root.append([].concat.apply([],c.bars)),c}return t.prototype.updateColors=function(e,r){this.bars.forEach(function(i,o){return i.forEach(function(a){a.fill=e[o],a.stroke=r[o]})})},t.chartType="stackedBar",t.data=[[8,12,16],[6,9,12],[2,3,4]],t}(xi),QWe=function(){var n=function(t,e){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])},n(t,e)};return function(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");n(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}}(),JWe=function(n){QWe(t,n);function t(e,r,i,o,a){return n.call(this,e,r,i,o,a,t.data,[0,10],"normalizedBarTooltip")||this}return t.chartType="normalizedBar",t.data=[[10,10,10],[6,7,8],[2,4,6]],t}(Pte),eUe=function(){var n=function(t,e){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])},n(t,e)};return function(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");n(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}}(),tUe=function(n,t){var e=typeof Symbol=="function"&&n[Symbol.iterator];if(!e)return n;var r=e.call(n),i,o=[],a;try{for(;(t===void 0||t-- >0)&&!(i=r.next()).done;)o.push(i.value)}catch(s){a={error:s}}finally{try{i&&!i.done&&(e=r.return)&&e.call(r)}finally{if(a)throw a.error}}return o},Oa=ne.toRadians,jI=function(n){eUe(t,n);function t(e,r,i,o,a,s,l){s===void 0&&(s=.6),l===void 0&&(l="donutTooltip");var u=n.call(this,e,l)||this,c=(u.size-u.padding*2)/2,d=c+u.padding,p=[[Oa(-90),Oa(30)],[Oa(30),Oa(120)],[Oa(120),Oa(180)],[Oa(180),Oa(210)],[Oa(210),Oa(240)],[Oa(240),Oa(270)]];return u.sectors=p.map(function(h){var f=tUe(h,2),v=f[0],g=f[1],y=new ne.Sector;return y.centerX=d,y.centerY=d,y.innerRadius=c*s,y.outerRadius=c,y.startAngle=v,y.endAngle=g,y.stroke=void 0,y.strokeWidth=0,y.inset=.75,y}),u.updateColors(r,i),u.root.append(u.sectors),u}return t.prototype.updateColors=function(e,r){this.sectors.forEach(function(i,o){i.fill=e[o%e.length],i.stroke=r[o%r.length]})},t.chartType="donut",t}(fy),rUe=function(){var n=function(t,e){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])},n(t,e)};return function(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");n(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}}(),nUe=function(n){rUe(t,n);function t(e,r,i,o,a){return n.call(this,e,r,i,o,a,0,"pieTooltip")||this}return t.chartType="pie",t}(jI),iUe=function(){var n=function(t,e){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])},n(t,e)};return function(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");n(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}}(),oUe=function(n){iUe(t,n);function t(e,r,i){var o=n.call(this,e,"lineTooltip")||this;return o.data=[[9,7,8,5,6],[5,6,3,4,1],[1,3,4,8,7]],o.lines=qB(o.root,o.data,o.size,o.padding),o.updateColors(r,i),o}return t.prototype.updateColors=function(e,r){this.lines.forEach(function(i,o){i.stroke=e[o]})},t.chartType="line",t}(xi),aUe=function(){var n=function(t,e){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])},n(t,e)};return function(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");n(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}}(),sUe=function(n,t){var e=typeof Symbol=="function"&&n[Symbol.iterator];if(!e)return n;var r=e.call(n),i,o=[],a;try{for(;(t===void 0||t-- >0)&&!(i=r.next()).done;)o.push(i.value)}catch(s){a={error:s}}finally{try{i&&!i.done&&(e=r.return)&&e.call(r)}finally{if(a)throw a.error}}return o},lUe=function(n){aUe(t,n);function t(e,r,i){var o=n.call(this,e,"scatterTooltip")||this,a=o.size,s=o.padding,l=[[[.3,3],[1.1,.9],[2,.4],[3.4,2.4]],[[0,.3],[1,2],[2.4,1.4],[3,0]]],u=new ne.LinearScale;u.domain=[-.5,4],u.range=[s*2,a-s];var c=new ne.LinearScale;c.domain=[-.5,3.5],c.range=[a-s,s];var d=[];l.forEach(function(h){h.forEach(function(f){var v=sUe(f,2),g=v[0],y=v[1],m=new ne.Arc;m.strokeWidth=0,m.centerX=u.convert(g),m.centerY=c.convert(y),m.radius=2.5,d.push(m)})}),o.points=d,o.updateColors(r,i);var p=new ne.Group;return p.setClipRectInGroupCoordinateSpace(new ne.BBox(s,s,a-s*2,a-s*2)),p.append(o.points),o.root.append(p),o}return t.prototype.updateColors=function(e,r){this.points.forEach(function(i,o){i.stroke=r[o%r.length],i.fill=e[o%e.length]})},t.chartType="scatter",t}(xi),uUe=function(){var n=function(t,e){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])},n(t,e)};return function(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");n(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}}(),cUe=function(n,t){var e=typeof Symbol=="function"&&n[Symbol.iterator];if(!e)return n;var r=e.call(n),i,o=[],a;try{for(;(t===void 0||t-- >0)&&!(i=r.next()).done;)o.push(i.value)}catch(s){a={error:s}}finally{try{i&&!i.done&&(e=r.return)&&e.call(r)}finally{if(a)throw a.error}}return o},dUe=function(n){uUe(t,n);function t(e,r,i){var o=n.call(this,e,"bubbleTooltip")||this,a=o.size,s=o.padding,l=[[[.1,.3,5],[.5,.4,7],[.2,.8,7]],[[.8,.7,5],[.7,.3,9]]],u=new ne.LinearScale;u.domain=[0,1],u.range=[s*2,a-s];var c=new ne.LinearScale;c.domain=[0,1],c.range=[a-s,s];var d=[];l.forEach(function(h){h.forEach(function(f){var v=cUe(f,3),g=v[0],y=v[1],m=v[2],C=new ne.Arc;C.strokeWidth=0,C.centerX=u.convert(g),C.centerY=c.convert(y),C.radius=m,C.fillOpacity=.7,d.push(C)})}),o.points=d,o.updateColors(r,i);var p=new ne.Group;return p.setClipRectInGroupCoordinateSpace(new ne.BBox(s,s,a-s*2,a-s*2)),p.append(o.points),o.root.append(p),o}return t.prototype.updateColors=function(e,r){this.points.forEach(function(i,o){i.stroke=r[o%r.length],i.fill=e[o%e.length]})},t.chartType="bubble",t}(xi),pUe=function(){var n=function(t,e){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])},n(t,e)};return function(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");n(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}}(),hUe=function(n){pUe(t,n);function t(e,r,i,o,a,s){s===void 0&&(s=t.data);var l=n.call(this,e,"groupedAreaTooltip")||this,u=l.size,c=l.padding,d=new ne.BandScale;d.domain=[0,1,2],d.paddingInner=1,d.paddingOuter=0,d.range=[c+.5,u-c-.5];var p=new ne.LinearScale;p.domain=[0,6],p.range=[u-c+.5,c];var h=s.length,f=h*2-1,v=[],g=p.convert(0);return s.forEach(function(y,m){var C=d.convert(m);y.forEach(function(S,w){var _=p.convert(S),x=v[w]||(v[w]=[]);x[m]={x:C,y:_},x[f-m]={x:C,y:g}})}),l.areas=v.reverse().map(function(y){var m=new ne.Path;m.strokeWidth=1,m.strokeOpacity=.75,m.fillOpacity=.7;var C=m.path;return C.clear(),y.forEach(function(S,w){return C[w>0?"lineTo":"moveTo"](S.x,S.y)}),C.closePath(),m}),l.updateColors(r,i),l.root.append(l.areas),l}return t.prototype.updateColors=function(e,r){this.areas.forEach(function(i,o){i.fill=e[o],i.stroke=r[o]})},t.chartType="area",t.data=[[1,3,5],[2,6,4],[5,3,1]],t}(xi),fUe=function(){var n=function(t,e){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])},n(t,e)};return function(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");n(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}}(),$I=function(n){fUe(t,n);function t(e,r,i,o,a,s,l){s===void 0&&(s=t.data),l===void 0&&(l="stackedAreaTooltip");var u=n.call(this,e,l)||this,c=u.size,d=u.padding,p=new ne.BandScale;p.domain=[0,1,2],p.paddingInner=1,p.paddingOuter=0,p.range=[d+.5,c-d-.5];var h=new ne.LinearScale;h.domain=[0,16],h.range=[c-d+.5,d+.5];var f=s.length,v=f*2-1,g=[];return s.forEach(function(y,m){var C=p.convert(m),S=0;y.forEach(function(w,_){var x=h.convert(S+w),b=g[_]||(g[_]=[]);b[m]={x:C,y:x},b[v-m]={x:C,y:h.convert(S)},S+=w})}),u.areas=g.map(function(y){var m=new ne.Path;m.strokeWidth=0;var C=m.path;return C.clear(),y.forEach(function(S,w){return C[w>0?"lineTo":"moveTo"](S.x,S.y)}),C.closePath(),m}),u.updateColors(r,i),u.root.append(u.areas),u}return t.prototype.updateColors=function(e,r){this.areas.forEach(function(i,o){i.fill=e[o],i.stroke=r[o]})},t.chartType="stackedArea",t.data=[[2,3,2],[3,6,5],[6,2,2]],t}(xi),vUe=function(){var n=function(t,e){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])},n(t,e)};return function(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");n(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}}(),gUe=function(n){vUe(t,n);function t(e,r,i,o,a,s){return s===void 0&&(s=t.data),n.call(this,e,r,i,o,a,s,"normalizedAreaTooltip")||this}return t.chartType="normalizedArea",t.data=$I.data.map(function(e){var r=e.reduce(function(i,o){return i+o},0);return e.map(function(i){return i/r*16})}),t}($I),yUe=function(){var n=function(t,e){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])},n(t,e)};return function(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");n(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}}(),$z=function(n,t){var e=typeof Symbol=="function"&&n[Symbol.iterator];if(!e)return n;var r=e.call(n),i,o=[],a;try{for(;(t===void 0||t-- >0)&&!(i=r.next()).done;)o.push(i.value)}catch(s){a={error:s}}finally{try{i&&!i.done&&(e=r.return)&&e.call(r)}finally{if(a)throw a.error}}return o},mUe=function(n){yUe(t,n);function t(e,r,i){var o=n.call(this,e,"histogramTooltip")||this,a=o.padding,s=o.size,l=[2,5,11,13,10,6,1],u=new ne.LinearScale;u.domain=[0,l.length],u.range=[a,s-a];var c=new ne.LinearScale;c.domain=[0,l.reduce(function(p,h){return Math.max(p,h)},0)],c.range=[s-a,a];var d=c.convert(0);return o.bars=l.map(function(p,h){var f=c.convert(p),v=u.convert(h),g=u.convert(h+1),y=new ne.Rect;return y.x=v,y.y=f,y.width=g-v,y.height=d-f,y.strokeWidth=1,y.strokeOpacity=.75,y.crisp=!0,y}),o.updateColors(r,i),o.root.append(o.bars),o}return t.prototype.updateColors=function(e,r){var i=$z(e,1),o=i[0],a=$z(r,1),s=a[0];this.bars.forEach(function(l){l.fill=o,l.stroke=s})},t.chartType="histogram",t}(xi),CUe=function(){var n=function(t,e){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])},n(t,e)};return function(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");n(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}}(),SUe=function(n,t,e,r){var i=arguments.length,o=i<3?t:r===null?r=Object.getOwnPropertyDescriptor(t,e):r,a;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(n,t,e,r);else for(var s=n.length-1;s>=0;s--)(a=n[s])&&(o=(i<3?a(o):i>3?a(t,e,o):a(t,e))||o);return i>3&&o&&Object.defineProperty(t,e,o),o},vy=function(n){CUe(t,n);function t(e,r){var i=n.call(this,e,r)||this;return i.stroke="gray",i.showRadiusAxisLine=!0,i.showAngleAxisLines=!0,i}return t.prototype.addAxes=function(){var e=this,r=this.size,i=this.padding,o=i*2,a=(r-o)/2,s=this.showAngleAxisLines?[a,a*.8,a*.6,a*.4]:[],l=new ne.Line;l.x1=r/2,l.y1=i,l.x2=r/2,l.y2=r-i-a-s[s.length-1],l.stroke=this.stroke,l.strokeOpacity=.5,l.fill=void 0,l.visible=this.showRadiusAxisLine;var u=i+a;this.gridLines=s.map(function(d,p){var h=new ne.Path;return h.path.arc(u,u,d,0,2*Math.PI),h.strokeWidth=1,h.stroke=e.stroke,h.strokeOpacity=p===0?.5:.2,h.fill=void 0,h});var c=this.root;c.append(l),this.gridLines.length>0&&c.append(this.gridLines)},SUe([z],t.prototype,"addAxes",null),t}(fy),wUe=function(){var n=function(t,e){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])},n(t,e)};return function(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");n(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}}(),_Ue=function(n){wUe(t,n);function t(e,r,i){var o=n.call(this,e,"radialColumnTooltip")||this;o.data=[[6,8,10,2,6,5],[4,4,3,6,4,4],[5,4,2,9,8,9]],o.showRadiusAxisLine=!1;var a=o,s=a.padding,l=a.size,u=a.data,c=(l-s*2)/2,d=.4,p=c*d,h=new ne.BandScale;h.domain=u[0].map(function(S,w){return w}),h.range=[0,2*Math.PI],h.paddingInner=0,h.paddingOuter=0;var f=h.bandwidth*.7,v=mP(u),g=v.processedData,y=v.max,m=new ne.LinearScale;m.domain=[0,y],m.range=[p,c];var C=o.size/2;return o.series=g.map(function(S,w){var _=w===0,x=_?void 0:g[w-1],b=new ne.Group({zIndex:1e6}),O=S.map(function(P,D){var N=x==null?void 0:x[D],L=m.convert(P),I=m.convert(N??0),k=h.convert(D),H=k+f,$=ne.getRadialColumnWidth(k,H,c,.5,.5),V=new ne.RadialColumnShape;return V.scalingCenterX=C,V.scalingCenterY=C,V.columnWidth=$,V.innerRadius=I,V.outerRadius=L,V.startAngle=k,V.endAngle=H,V.isBeveled=!0,V.axisInnerRadius=p,V.axisOuterRadius=c,V.stroke=void 0,V.strokeWidth=0,V});return b.append(O),b.translationX=C,b.translationY=C,b}),o.root.append(o.series),o.updateColors(r,i),o}return t.prototype.updateColors=function(e,r){this.series.forEach(function(i,o){var a;(a=i.children)===null||a===void 0||a.forEach(function(s){s.fill=e[o%e.length],s.stroke=r[o%r.length]})})},t.chartType="radialColumn",t}(vy),xUe=function(){var n=function(t,e){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])},n(t,e)};return function(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");n(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}}(),EUe=function(n){xUe(t,n);function t(e,r,i){var o=n.call(this,e,"radialBarTooltip")||this;o.data=[[6,8,10],[4,4,3],[5,4,2]],o.showRadiusAxisLine=!1;var a=(o.size-o.padding)/2,s=.4,l=a*s,u=a+l,c=new ne.BandScale;c.domain=o.data[0].map(function(C,S){return S}),c.range=[a,l],c.paddingInner=.5,c.paddingOuter=0;var d=c.bandwidth,p=mP(o.data),h=p.processedData,f=p.max,v=new ne.LinearScale;v.domain=[0,Math.ceil(f*1.5)];var g=3/2*Math.PI,y=g+2*Math.PI;v.range=[g,y];var m=o.size/2;return o.series=h.map(function(C,S){var w=S<0?void 0:h[S-1],_=new ne.Group({zIndex:1e6}),x=C.map(function(b,O){var P,D=(P=w==null?void 0:w[O])!==null&&P!==void 0?P:0,N=u-c.convert(O),L=N+d,I=v.convert(D),k=v.convert(b),H=new ne.Sector;return H.centerX=m,H.centerY=m,H.innerRadius=N,H.outerRadius=L,H.startAngle=I,H.endAngle=k,H.stroke=void 0,H.strokeWidth=0,H});return _.append(x),_}),o.root.append(o.series),o.updateColors(r,i),o}return t.prototype.updateColors=function(e,r){this.series.forEach(function(i,o){var a;(a=i.children)===null||a===void 0||a.forEach(function(s){s.fill=e[o%e.length],s.stroke=r[o%r.length]})})},t.chartType="radialBar",t}(vy),bUe=function(){var n=function(t,e){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])},n(t,e)};return function(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");n(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}}(),OUe=function(n){bUe(t,n);function t(e,r,i){var o=n.call(this,e,"radarLineTooltip")||this;o.markerSize=4,o.data=[[8,7,8,7,8,8,7,8],[6,8,5,10,6,7,4,6],[0,3,3,5,4,4,2,0]],o.showRadiusAxisLine=!1;var a=(o.size-o.padding*2)/2,s=0,l=Rte(o.root,o.data,o.size,a,s,o.markerSize),u=l.paths,c=l.markers;return o.lines=u,o.markers=c,o.updateColors(r,i),o}return t.prototype.updateColors=function(e,r){var i=this;this.lines.forEach(function(o,a){var s=i.data[a].length;o.stroke=e[a];var l=a*s,u=l+s,c=i.markers.slice(l,u);c.forEach(function(d){d.stroke=r[a],d.fill=e[a]})})},t.chartType="radarLine",t}(vy),RUe=function(){var n=function(t,e){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])},n(t,e)};return function(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");n(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}}(),TUe=function(n){RUe(t,n);function t(e,r,i){var o=n.call(this,e,"radarAreaTooltip")||this;o.data=[[8,10,5,7,4,1,5,8],[1,1,2,7,7,8,10,1],[4,5,9,9,4,2,3,4]],o.showRadiusAxisLine=!1;var a=(o.size-o.padding*2)/2,s=a-o.size*.3;return o.areas=Rte(o.root,o.data,o.size,a,s).paths,o.updateColors(r,i),o}return t.prototype.updateColors=function(e,r){this.areas.forEach(function(i,o){i.fill=e[o],i.stroke=r[o]})},t.chartType="radarArea",t}(vy),PUe=function(){var n=function(t,e){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])},n(t,e)};return function(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");n(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}}(),AUe=function(n){PUe(t,n);function t(e,r,i){var o=n.call(this,e,"nightingaleTooltip")||this;o.data=[[6,10,9,8,7,8],[4,6,5,4,5,5],[3,5,4,3,4,7]],o.showRadiusAxisLine=!1;var a=(o.size-o.padding*2)/2,s=new ne.BandScale;s.domain=o.data[0].map(function(f,v){return v}),s.range=[-Math.PI,Math.PI],s.paddingInner=0,s.paddingOuter=0;var l=s.bandwidth*.7,u=mP(o.data),c=u.processedData,d=u.max,p=new ne.LinearScale;p.domain=[0,d],p.range=[0,a];var h=o.size/2;return o.series=c.map(function(f,v){var g=v<0?void 0:c[v-1],y=new ne.Group({zIndex:1e6}),m=f.map(function(C,S){var w=g==null?void 0:g[S],_=p.convert(C),x=p.convert(w??0),b=s.convert(S),O=b+l,P=new ne.Sector;return P.centerX=h,P.centerY=h,P.innerRadius=x,P.outerRadius=_,P.startAngle=b,P.endAngle=O,P.stroke=void 0,P.strokeWidth=0,P});return y.append(m),y}),o.root.append(o.series),o.updateColors(r,i),o}return t.prototype.updateColors=function(e,r){this.series.forEach(function(i,o){var a;(a=i.children)===null||a===void 0||a.forEach(function(s){s.fill=e[o%e.length],s.stroke=r[o%r.length]})})},t.chartType="nightingale",t}(vy),DUe=function(){var n=function(t,e){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])},n(t,e)};return function(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");n(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}}(),MUe=function(n,t){var e=typeof Symbol=="function"&&n[Symbol.iterator];if(!e)return n;var r=e.call(n),i,o=[],a;try{for(;(t===void 0||t-- >0)&&!(i=r.next()).done;)o.push(i.value)}catch(s){a={error:s}}finally{try{i&&!i.done&&(e=r.return)&&e.call(r)}finally{if(a)throw a.error}}return o},LUe=function(n){DUe(t,n);function t(e,r,i){var o=n.call(this,e,"rangeBarTooltip")||this,a=[3,3.5,3];return o.bars=o.createRangeBar(o.root,a,o.size,o.padding,"vertical"),o.updateColors(r,i),o}return t.prototype.updateColors=function(e,r){this.bars.forEach(function(i,o){i.fill=e[o],i.stroke=r[o]})},t.prototype.createRangeBar=function(e,r,i,o,a){var s=a==="horizontal",l=2*o,u=new ne.BandScale;u.domain=r.map(function(v,g){return g}),u.range=[o,i-o],u.paddingInner=.3,u.paddingOuter=.3;var c=.7,d=1.3,p=new ne.LinearScale;p.domain=[r.reduce(function(v,g){return Math.min(v,g)},1/0)*c,r.reduce(function(v,g){return Math.max(v,g)},0)*d],p.range=[l,i-l];var h=u.bandwidth,f=r.map(function(v,g){var y=MUe([v*c,v*d],2),m=y[0],C=y[1],S=u.convert(g),w=p.convert(m),_=p.convert(C)-w,x=new ne.Rect;return x.x=s?w:S,x.y=s?S:w,x.width=s?_:h,x.height=s?h:_,x.strokeWidth=0,x.crisp=!0,x});return e.append(f),f},t.chartType="rangeBar",t}(xi),FUe=function(){var n=function(t,e){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])},n(t,e)};return function(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");n(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}}(),pC=function(n,t){var e=typeof Symbol=="function"&&n[Symbol.iterator];if(!e)return n;var r=e.call(n),i,o=[],a;try{for(;(t===void 0||t-- >0)&&!(i=r.next()).done;)o.push(i.value)}catch(s){a={error:s}}finally{try{i&&!i.done&&(e=r.return)&&e.call(r)}finally{if(a)throw a.error}}return o},Ate=function(n,t,e){if(e||arguments.length===2)for(var r=0,i=t.length,o;r<i;r++)(o||!(r in t))&&(o||(o=Array.prototype.slice.call(t,0,r)),o[r]=t[r]);return n.concat(o||Array.prototype.slice.call(t))},IUe=function(n){FUe(t,n);function t(e,r,i){var o=n.call(this,e,"rangeAreaTooltip")||this,a=4,s=[cM({offset:.375*a,length:a,pattern:{low:3,high:5,period:a}}),cM({offset:.375*a,length:a,pattern:{low:2.25,high:4.25,period:a}}),cM({offset:.75*a,length:a,pattern:{low:2.5,high:4.5,period:a}})],l=1.75,u=s.map(function(h){return h.map(function(f){var v=pC(f,2),g=v[0],y=v[1];return{x:g,low:y-.5*l,high:y+.5*l}})}),c=o.createRangeArea(o.root,u,o.size,o.padding),d=c.lines,p=c.areas;return o.lines=d,o.areas=p,o.updateColors(r,i),o}return t.prototype.updateColors=function(e,r){e=Uz(e,1,2),r=Uz(r,1,2),this.lines.forEach(function(i,o){var a=pC(i,2),s=a[0],l=a[1];s.fill=void 0,s.stroke=r[o],l.fill=void 0,l.stroke=r[o]}),this.areas.forEach(function(i,o){i.fill=e[o]})},t.prototype.createRangeArea=function(e,r,i,o){var a=r.reduce(function(g,y){return y.reduce(function(m,C){var S=C.x;return Math.min(m,S)},g)},1/0),s=r.reduce(function(g,y){return y.reduce(function(m,C){var S=C.x;return Math.max(m,S)},g)},-1/0),l=r.reduce(function(g,y){return y.reduce(function(m,C){var S=C.low;return Math.min(m,S)},g)},1/0),u=r.reduce(function(g,y){return y.reduce(function(m,C){var S=C.high;return Math.max(m,S)},g)},-1/0),c=new ne.LinearScale;c.domain=[a,s],c.range=[o,i-o];var d=2*o,p=new ne.LinearScale;p.domain=[l,u],p.range=[i-d,d];var h=[],f=[],v=r.map(function(g){var y=new ne.Path,m=new ne.Path,C=new ne.Path;return h.push([y,m]),f.push(C),y.strokeWidth=0,m.strokeWidth=0,C.strokeWidth=0,C.fillOpacity=.8,y.path.clear(),m.path.clear(),C.path.clear(),g.map(function(S,w){var _=S.x,x=S.low,b=S.high,O=c.convert(_),P=p.convert(x),D=p.convert(b),N=w>0?"lineTo":"moveTo";return y.path[N](O,D),m.path[N](O,P),C.path[N](O,D),[O,P]})});return v.forEach(function(g,y){for(var m=g.length-1,C=f[y],S=m;S>=0;S--){var w=pC(g[S],2),_=w[0],x=w[1];C.path.lineTo(_,x)}}),e.append(f.concat.apply(f,Ate([],pC(h),!1))),{lines:h,areas:f}},t.chartType="rangeArea",t}(xi);function cM(n){var t=n.offset,e=n.length,r=n.pattern,i=s(t,e,r),o=0,a=e;return(i.length===0||i[0][0]!==o)&&i.unshift(l(o,t,r)),i[i.length-1][0]!==a&&i.push(l(a,t,r)),i;function s(c,d,p){var h=p.period,f=c/h,v=[0,.5],g=v.map(function(m){return m-f}).map(Wz).sort(function(m,C){return m-C}),y=Array.from({length:Math.floor(g.length*(h/d))},function(m,C){return g[C%g.length]+Math.floor(C/g.length)});return y.map(function(m){return m*h}).map(function(m){return l(m,c,p)})}function l(c,d,p){return[c,u(d+c,p)]}function u(c,d){var p=d.low,h=d.high,f=d.period,v=Wz(c/f),g=v>.5?1-2*(v-.5):2*v;return p+(h-p)*g}}function Wz(n){var t=n%1;return t<0?t+1:t}function Uz(n,t,e){var r=Ate([],pC(n),!1),i=r[t];return r[t]=r[e],r[e]=i,r}var NUe=function(){var n=function(t,e){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])},n(t,e)};return function(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");n(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}}(),kUe=function(n,t){var e=typeof Symbol=="function"&&n[Symbol.iterator];if(!e)return n;var r=e.call(n),i,o=[],a;try{for(;(t===void 0||t-- >0)&&!(i=r.next()).done;)o.push(i.value)}catch(s){a={error:s}}finally{try{i&&!i.done&&(e=r.return)&&e.call(r)}finally{if(a)throw a.error}}return o},GUe=function(n){NUe(t,n);function t(e,r,i,o,a){var s=n.call(this,e,"boxPlotTooltip")||this,l=s.padding,u=s.size,c=[11,11.5,10.5],d=1.2,p=1.1,h=.9,f=.8,v=new ne.LinearScale;v.domain=[c.reduce(function(C,S){return Math.min(C,S)},1/0)*f,c.reduce(function(C,S){return Math.max(C,S)},0)*d],v.range=[u-1.5*l,l];var g=new ne.BandScale;g.domain=c.map(function(C,S){return S}),g.range=[l,u-l],g.paddingInner=.4,g.paddingOuter=.2;var y=Math.round(g.bandwidth),m=Math.round(g.bandwidth/2);return s.boxPlotGroups=c.map(function(C,S){var w=kUe([C*f,C*h,C*p,C*d],4),_=w[0],x=w[1],b=w[2],O=w[3],P=Math.round(v.convert(b)),D=Math.round(g.convert(S)),N=Math.round(D+y),L=Math.round(v.convert(x)),I=Math.round(v.convert(_)),k=Math.round(v.convert(C)),H=Math.round(v.convert(O)),$=D+m,V=new ne.Group,W=new ne.Rect,K=new ne.Line,Z=new ne.Line,Q=new ne.Line,ce=new ne.Line,ue=new ne.Line;return W.x=D,W.y=P,W.width=y,W.height=L-P,W.strokeWidth=1,W.strokeOpacity=.75,W.crisp=!0,s.setLineProperties(K,D,N,k,k),s.setLineProperties(Z,$,$,H,P),s.setLineProperties(Q,$,$,I,L),s.setLineProperties(ce,D,N,H,H),s.setLineProperties(ue,D,N,I,I),V.append([W,K,Z,Q,ce,ue]),V}),s.updateColors(r,i,o,a),s.root.append(s.boxPlotGroups),s}return t.prototype.updateColors=function(e,r,i,o){var a,s=i==null?void 0:i.properties.get(Hs.DEFAULT_BACKGROUND_COLOUR),l=(a=Array.isArray(s)?s[0]:s)!==null&&a!==void 0?a:"white";this.boxPlotGroups.forEach(function(u,c){var d;(d=u.children)===null||d===void 0||d.forEach(function(p){var h=e[c%e.length];p.fill=o?h:Pr.Color.interpolate(h,l)(.7),p.stroke=r[c%r.length]})})},t.prototype.setLineProperties=function(e,r,i,o,a){e.x1=r,e.x2=i,e.y1=o,e.y2=a,e.strokeOpacity=.75},t.chartType="boxPlot",t}(xi),VUe=function(){var n=function(t,e){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])},n(t,e)};return function(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");n(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}}(),BUe=function(n,t){var e=typeof Symbol=="function"&&n[Symbol.iterator];if(!e)return n;var r=e.call(n),i,o=[],a;try{for(;(t===void 0||t-- >0)&&!(i=r.next()).done;)o.push(i.value)}catch(s){a={error:s}}finally{try{i&&!i.done&&(e=r.return)&&e.call(r)}finally{if(a)throw a.error}}return o},HUe=function(n,t,e){if(e||arguments.length===2)for(var r=0,i=t.length,o;r<i;r++)(o||!(r in t))&&(o||(o=Array.prototype.slice.call(t,0,r)),o[r]=t[r]);return n.concat(o||Array.prototype.slice.call(t))},jUe=function(n){VUe(t,n);function t(e,r,i,o,a){var s=n.call(this,e,"treemapTooltip")||this,l=s,u=l.size,c=l.padding,d=[[1,1],[3,2,1]],p=d.length,h=p%2===0?.3:.2,f=[c,u-c],v=d.length,g=v*(v+1)/2,y=h/(v-1),m=f[1]-f[0],C=m-h,S=f[0];s.rects=d.reduce(function(_,x,b){_??(_=[]);var O=(v-b)/g,P=C*O,D=x.length,N=x.reduce(function($,V){return $+=V},0),L=h/(D-1||1),I=D>1?m-h:m,k=f[0],H=x.map(function($){var V=new ne.Rect,W=I*$/N;return V.x=S,V.y=k,V.width=P,V.height=W,V.strokeWidth=.75,V.crisp=!0,k+=W+L,V});return S+=P+y,_.push.apply(_,HUe([],BUe(H),!1)),_},[]),s.updateColors(r,i,o,a);var w=new ne.Group;return w.setClipRectInGroupCoordinateSpace(new ne.BBox(c,c,u-c,u-c)),w.append(s.rects),s.root.append(w),s}return t.prototype.updateColors=function(e,r,i,o){var a,s=(i??{}).properties,l=s==null?void 0:s.get(Hs.DEFAULT_BACKGROUND_COLOUR),u=(a=Array.isArray(l)?l[0]:l)!==null&&a!==void 0?a:"white";this.rects.forEach(function(c,d){c.fill=e[d%r.length],c.stroke=o?r[d%r.length]:u})},t.chartType="treemap",t}(fy),$Ue=function(){var n=function(t,e){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])},n(t,e)};return function(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");n(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}}(),WUe=function(n){$Ue(t,n);function t(e,r,i){var o=n.call(this,e,"sunburstTooltip")||this;o.data=[[[],[]],[[],[]],[[],[]]],o.angleOffset=-Math.PI/2,o.innerRadiusRatio=0,o.showRadiusAxisLine=!1,o.showAngleAxisLines=!1;var a=o,s=a.data,l=a.size,u=a.padding,c=a.angleOffset,d=a.innerRadiusRatio,p=(l-u*2)/2,h=[c+0,c+2*Math.PI],f=Math.abs(h[1]-h[0]),v=[p*d,p],g=Math.abs(v[1]-v[0]),y=0,m=function(x,b){x.forEach(function(O){var P=b+1;y=Math.max(y,P),m(O,P)})};m(s,0);var C=g/y,S=o.size/2,w=h[0];o.series=[];var _=function(x,b,O,P,D){var N=Array.isArray(x);if(N){var L=b+1,I=O;x.forEach(function(k,H,$){var V=D;V||(V=new ne.Group,o.series.push(V));var W=v[0]+b*C,K=v[0]+L*C,Z=1/$.length,Q=I,ce=Q+P*Z,ue=new ne.Sector;ue.centerX=S,ue.centerY=S,ue.innerRadius=W,ue.outerRadius=K,ue.startAngle=Q,ue.endAngle=ce,ue.stroke=void 0,ue.strokeWidth=0,ue.inset=.75,I=ce,V.append(ue),_(k,L,Q,Math.abs(ce-Q),V)})}};return _(s,0,w,f),o.root.append(o.series),o.updateColors(r,i),o}return t.prototype.updateColors=function(e,r){this.series.forEach(function(i,o){var a;(a=i.children)===null||a===void 0||a.forEach(function(s){s.fill=e[o%e.length],s.stroke=r[o%r.length]})})},t.chartType="sunburst",t}(vy),UUe=function(){var n=function(t,e){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])},n(t,e)};return function(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");n(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}}(),zUe=function(n,t){var e=typeof Symbol=="function"&&n[Symbol.iterator];if(!e)return n;var r=e.call(n),i,o=[],a;try{for(;(t===void 0||t-- >0)&&!(i=r.next()).done;)o.push(i.value)}catch(s){a={error:s}}finally{try{i&&!i.done&&(e=r.return)&&e.call(r)}finally{if(a)throw a.error}}return o},KUe=function(n,t,e){if(e||arguments.length===2)for(var r=0,i=t.length,o;r<i;r++)(o||!(r in t))&&(o||(o=Array.prototype.slice.call(t,0,r)),o[r]=t[r]);return n.concat(o||Array.prototype.slice.call(t))},YUe=function(n){UUe(t,n);function t(e,r,i,o,a){var s=this,l,u;s=n.call(this,e,"heatmapTooltip")||this;var c=s,d=c.size,p=c.padding,h=3,f=Array.from({length:h},function(w,_){return Array.from({length:h},function(x,b){return b})}),v=f.map(function(w,_){return _}),g=new ne.BandScale;g.domain=v,g.range=[p,d-p],g.paddingInner=.01,g.paddingOuter=.1;var y=new ne.BandScale;y.domain=v,y.range=[p,d-p],y.paddingInner=.01,y.paddingOuter=.1;var m=(l=g.bandwidth)!==null&&l!==void 0?l:0,C=(u=y.bandwidth)!==null&&u!==void 0?u:0;s.rects=f.reduce(function(w,_,x){w??(w=[]);var b=_.map(function(O,P){var D=new ne.Rect;return D.x=g.convert(x),D.y=y.convert(P),D.width=m,D.height=C,D.strokeWidth=0,D.crisp=!0,D});return w.push.apply(w,KUe([],zUe(b),!1)),w},[]),s.updateColors(r,i,o,a);var S=new ne.Group;return S.setClipRectInGroupCoordinateSpace(new ne.BBox(p,p,d-p,d-p)),S.append(s.rects),s.root.append(S),s}return t.prototype.updateColors=function(e,r,i,o){var a,s=(i??{}).properties,l=s==null?void 0:s.get(Hs.DEFAULT_DIVERGING_SERIES_COLOUR_RANGE),u=s==null?void 0:s.get(Hs.DEFAULT_BACKGROUND_COLOUR),c=(a=Array.isArray(u)?u[0]:u)!==null&&a!==void 0?a:"white",d=o?[e[0],e[1]]:l,p=o?r[0]:c;this.rects.forEach(function(h,f){h.fill=Pr.Color.interpolate(d[0],d[1])(f*.2),h.stroke=p})},t.chartType="heatmap",t}(fy),XUe=function(){var n=function(t,e){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])},n(t,e)};return function(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");n(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}}(),qUe=function(n,t){var e=typeof Symbol=="function"&&n[Symbol.iterator];if(!e)return n;var r=e.call(n),i,o=[],a;try{for(;(t===void 0||t-- >0)&&!(i=r.next()).done;)o.push(i.value)}catch(s){a={error:s}}finally{try{i&&!i.done&&(e=r.return)&&e.call(r)}finally{if(a)throw a.error}}return o},ZUe=function(n,t,e){if(e||arguments.length===2)for(var r=0,i=t.length,o;r<i;r++)(o||!(r in t))&&(o||(o=Array.prototype.slice.call(t,0,r)),o[r]=t[r]);return n.concat(o||Array.prototype.slice.call(t))},QUe=function(n){XUe(t,n);function t(e,r,i,o,a){var s=n.call(this,e,"waterfallTooltip")||this;return s.data=[4,3,-3,6,-3],s.bars=s.createWaterfall(s.root,s.data,s.size,s.padding,"vertical").bars,s.updateColors(r,i,o,a),s}return t.prototype.updateColors=function(e,r,i,o){var a,s,l=this.data,u=(i??{}).properties,c={fill:e[0],stroke:r[0]},d={fill:e[1],stroke:r[1]},p=o?c:(a=u==null?void 0:u.get(Hs.DEFAULT_WATERFALL_SERIES_POSITIVE_COLOURS))!==null&&a!==void 0?a:c,h=o?d:(s=u==null?void 0:u.get(Hs.DEFAULT_WATERFALL_SERIES_NEGATIVE_COLOURS))!==null&&s!==void 0?s:d;this.bars.forEach(function(f,v){var g=l[v]>=0;f.fill=g?p.fill:h.fill,f.stroke=g?p.stroke:h.stroke})},t.prototype.createWaterfall=function(e,r,i,o,a){var s=2*o,l=mP(r.map(function(w){return[w]})),u=l.processedData,c=l.min,d=l.max,p=u.reduce(function(w,_){return w.concat(_)},[]),h=new ne.LinearScale;h.domain=[Math.min(c,0),d],h.range=[i-s,s];var f=new ne.BandScale;f.domain=r.map(function(w,_){return _}),f.range=[o,i-o],f.paddingInner=.2,f.paddingOuter=.3;var v=f.bandwidth,g=new ne.Path;g.stroke="#575757",g.strokeWidth=0;var y=Math.floor(g.strokeWidth)%2/2,m=g.path;m.clear();var C=a==="horizontal",S=p.map(function(w,_){var x=_>0?p[_-1]:0,b=r[_],O=b>0,P=Math.round(h.convert(w)),D=Math.round(h.convert(x)),N=(O?P:D)-y,L=(O?D:P)+y,I=Math.abs(L-N),k=f.convert(_),H=new ne.Rect;H.x=C?N:k,H.y=C?k:N,H.width=C?I:v,H.height=C?v:I,H.strokeWidth=0,H.crisp=!0;var $=P+y,V=D+y;if(_>0){var W=C?V:H.x,K=C?H.y:V;m.lineTo(W,K)}var Z=C?$:H.x,Q=C?H.y:$;return m.moveTo(Z,Q),H});return e.append(ZUe([g],qUe(S),!1)),{bars:S}},t.chartType="waterfall",t}(xi),JUe=function(){var n=function(t,e){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])},n(t,e)};return function(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");n(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}}(),eze=function(n){JUe(t,n);function t(e,r,i){var o=n.call(this,e,"columnLineComboTooltip")||this;o.columnData=[3,4],o.lineData=[[5,4,6,5,4]];var a=o,s=a.root,l=a.columnData,u=a.lineData,c=a.size,d=a.padding;return o.columns=g0({stacked:!1,root:s,data:l,size:c,padding:d,xScaleDomain:[0,1],yScaleDomain:[0,4],xScalePadding:.5}),s.append(o.columns),o.lines=qB(s,u,c,d),o.updateColors(r,i),o}return t.prototype.updateColors=function(e,r){this.columns.forEach(function(i,o){i.fill=e[o],i.stroke=r[o]}),this.lines.forEach(function(i,o){i.stroke=e[o+2]})},t.chartType="columnLineCombo",t}(xi),tze=function(){var n=function(t,e){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])},n(t,e)};return function(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");n(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}}(),rze=function(n){tze(t,n);function t(e,r,i){var o=n.call(this,e,"areaColumnComboTooltip")||this;o.columnData=[3,4.5],o.areaData=[[5,4,6,5,4]];var a=o,s=a.root,l=a.columnData,u=a.areaData,c=a.size,d=a.padding;o.columns=g0({stacked:!1,root:s,data:l,size:c,padding:d,xScaleDomain:[0,1],yScaleDomain:[0,6],xScalePadding:.5});var p=new ne.BandScale;p.range=[d,c-d],p.domain=[0,1,2,3,4],p.paddingInner=1,p.paddingOuter=0;var h=new ne.LinearScale;h.range=[c-d,d],h.domain=[0,6];var f=[],v=h.convert(0),g=p.convert(0);return u.forEach(function(y,m){var C=f[m]||(f[m]=[]);y.forEach(function(w,_){var x=w,b=_,O=p.convert(b),P=h.convert(x);C[_]={x:O,y:P}});var S=p.convert(y.length-1);f[m].push({x:S,y:v},{x:g,y:v})}),o.areas=f.map(function(y){var m=new ne.Path;m.strokeWidth=0,m.fillOpacity=.8;var C=m.path;return y.forEach(function(S,w){return C[w>0?"lineTo":"moveTo"](S.x,S.y)}),m}),s.append(o.areas),s.append([].concat.apply([],o.columns)),o.updateColors(r,i),o}return t.prototype.updateColors=function(e,r){this.areas.forEach(function(i,o){i.fill=e[o],i.stroke=r[o]}),this.columns.forEach(function(i,o){i.fill=e[o+1],i.stroke=r[o+1]})},t.chartType="areaColumnCombo",t}(xi),nze=function(){var n=function(t,e){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])},n(t,e)};return function(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");n(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}}(),ize=function(n){nze(t,n);function t(e,r,i){var o=n.call(this,e,"customComboTooltip")||this;o.columnData=[3,4],o.lineData=[[5,4,6,5,4]];var a=o,s=a.root,l=a.columnData,u=a.lineData,c=a.size,d=a.padding;o.columns=g0({stacked:!1,root:s,data:l,size:c,padding:d,xScaleDomain:[0,1],yScaleDomain:[0,4],xScalePadding:.5}),s.append(o.columns),o.lines=qB(s,u,c,d);var p="grey",h=3,f=new ne.Line;f.x1=d,f.y1=d,f.x2=d,f.y2=c-d+h,f.stroke=p;var v=new ne.Line;v.x1=d-h+1,v.y1=c-d,v.x2=c-d+1,v.y2=c-d,v.stroke=p;var g=new ne.Path;return o.buildPenIconPath(g),g.fill="whitesmoke",g.stroke="darkslategrey",g.strokeWidth=1,s.append([v,f,g]),o.updateColors(r,i),o}return t.prototype.updateColors=function(e,r){this.columns.forEach(function(i,o){i.fill=e[o],i.stroke=r[o]}),this.lines.forEach(function(i,o){i.stroke=e[o+2]})},t.prototype.buildPenIconPath=function(e){var r=e.path;r.moveTo(25.76,43.46),r.lineTo(31.27,48.53),r.moveTo(49.86,22),r.lineTo(49.86,22),r.cubicCurveTo(49.01994659053345,21.317514933510974,47.89593834348529,21.09645997825817,46.86,21.41),r.lineTo(46.86,21.41),r.cubicCurveTo(45.55460035985361,21.77260167850787,44.38777081121966,22.517979360321792,43.51,23.55),r.lineTo(25.51,43.8),r.lineTo(25.43,43.89),r.lineTo(23.01,51.89),r.lineTo(22.83,52.46),r.lineTo(31.02,48.86),r.lineTo(49.02,28.52),r.lineTo(49.02,28.52),r.cubicCurveTo(49.940716461596224,27.521914221246085,50.54302631059587,26.2720342455763,50.75,24.93),r.lineTo(50.75,24.93),r.cubicCurveTo(50.95363374988308,23.866379846512814,50.62080640232334,22.77066734274871,49.86,22),r.closePath(),r.moveTo(41.76,25.5),r.lineTo(47.34,30.5),r.moveTo(40.74,26.65),r.lineTo(46.25,31.71)},t.chartType="customCombo",t}(fy),oze=function(){var n=function(t,e){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])},n(t,e)};return function(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");n(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}}(),WI=function(){return WI=Object.assign||function(n){for(var t,e=1,r=arguments.length;e<r;e++){t=arguments[e];for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(n[i]=t[i])}return n},WI.apply(this,arguments)},zz=function(n,t,e,r){var i=arguments.length,o=i<3?t:r===null?r=Object.getOwnPropertyDescriptor(t,e):r,a;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(n,t,e,r);else for(var s=n.length-1;s>=0;s--)(a=n[s])&&(o=(i<3?a(o):i>3?a(t,e,o):a(t,e))||o);return i>3&&o&&Object.defineProperty(t,e,o),o},Kz=function(n){var t=typeof Symbol=="function"&&Symbol.iterator,e=t&&n[t],r=0;if(e)return e.call(n);if(n&&typeof n.length=="number")return{next:function(){return n&&r>=n.length&&(n=void 0),{value:n&&n[r++],done:!n}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")},Yz={columnGroup:{column:{range:!0,pivot:!0,enterprise:!1,icon:UWe},stackedColumn:{range:!0,pivot:!0,enterprise:!1,icon:Tte},normalizedColumn:{range:!0,pivot:!0,enterprise:!1,icon:YWe}},barGroup:{bar:{range:!0,pivot:!0,enterprise:!1,icon:qWe},stackedBar:{range:!0,pivot:!0,enterprise:!1,icon:Pte},normalizedBar:{range:!0,pivot:!0,enterprise:!1,icon:JWe}},pieGroup:{pie:{range:!0,pivot:!0,enterprise:!1,icon:nUe},donut:{range:!0,pivot:!0,enterprise:!1,icon:jI},doughnut:{range:!0,pivot:!0,enterprise:!1,icon:jI}},lineGroup:{line:{range:!0,pivot:!0,enterprise:!1,icon:oUe}},scatterGroup:{scatter:{range:!0,pivot:!0,enterprise:!1,icon:lUe},bubble:{range:!0,pivot:!0,enterprise:!1,icon:dUe}},areaGroup:{area:{range:!0,pivot:!0,enterprise:!1,icon:hUe},stackedArea:{range:!0,pivot:!0,enterprise:!1,icon:$I},normalizedArea:{range:!0,pivot:!0,enterprise:!1,icon:gUe}},polarGroup:{radarLine:{range:!0,pivot:!1,enterprise:!0,icon:OUe},radarArea:{range:!0,pivot:!1,enterprise:!0,icon:TUe},nightingale:{range:!0,pivot:!1,enterprise:!0,icon:AUe},radialColumn:{range:!0,pivot:!1,enterprise:!0,icon:_Ue},radialBar:{range:!0,pivot:!1,enterprise:!0,icon:EUe}},statisticalGroup:{boxPlot:{range:!0,pivot:!1,enterprise:!0,icon:GUe},histogram:{range:!0,pivot:!1,enterprise:!1,icon:mUe},rangeBar:{range:!0,pivot:!1,enterprise:!0,icon:LUe},rangeArea:{range:!0,pivot:!1,enterprise:!0,icon:IUe}},hierarchicalGroup:{treemap:{range:!0,pivot:!0,enterprise:!0,icon:jUe},sunburst:{range:!0,pivot:!0,enterprise:!0,icon:WUe}},specializedGroup:{heatmap:{range:!0,pivot:!1,enterprise:!0,icon:YUe},waterfall:{range:!0,pivot:!1,enterprise:!0,icon:QUe}},combinationGroup:{columnLineCombo:{range:!0,pivot:!0,enterprise:!1,icon:eze},areaColumnCombo:{range:!0,pivot:!0,enterprise:!1,icon:rze},customCombo:{range:!0,pivot:!0,enterprise:!1,icon:ize}}},aze=function(n){oze(t,n);function t(e,r,i,o,a,s){s===void 0&&(s=lq);var l=n.call(this,t.TEMPLATE)||this;return l.wrappers={},l.chartController=e,l.fills=r,l.strokes=i,l.themeTemplateParameters=o,l.isCustomTheme=a,l.chartGroups=WI({},s),l}return t.prototype.init=function(){var e,r,i,o,a=this,s=this.getGui(),l=this.chartController.isEnterprise(),u=this.chartController.isPivotChart(),c=!u,d=Object.keys(this.chartGroups).map(function(x){var b,O=x in Yz?Yz[x]:void 0;if(!O)return A.warnOnce("invalid chartGroupsDef config '".concat(x,"'")),null;var P=(b=a.chartGroups[x])!==null&&b!==void 0?b:[],D=P.map(function(N){var L=N in O?O[N]:void 0;return L?!l&&L.enterprise?null:c&&L.range||u&&L.pivot?L:null:(A.warnOnce("invalid chartGroupsDef config '".concat(x,".").concat(N,"'")),null)}).filter(function(N){return N!=null});return D.length===0?null:{label:a.chartTranslationService.translate(x),items:D}}).filter(function(x){return x!=null});try{for(var p=Kz(d),h=p.next();!h.done;h=p.next()){var f=h.value,v=f.label,g=f.items,y=this.createBean(new Ha({title:v,suppressEnabledCheckbox:!0,enabled:!0,suppressOpenCloseIcons:!0,cssIdentifier:"charts-settings",direction:"horizontal"})),m=function(x){var b=x.icon,O=document.createElement("div");O.classList.add("ag-chart-mini-thumbnail");var P=b.chartType;C.addManagedListener(O,"click",function(){a.chartController.setChartType(P),a.updateSelectedMiniChart()}),C.wrappers[P]=O,C.createBean(new b(O,C.fills,C.strokes,C.themeTemplateParameters,C.isCustomTheme)),y.addItem(O)},C=this;try{for(var S=(i=void 0,Kz(g)),w=S.next();!w.done;w=S.next()){var _=w.value;m(_)}}catch(x){i={error:x}}finally{try{w&&!w.done&&(o=S.return)&&o.call(S)}finally{if(i)throw i.error}}s.appendChild(y.getGui())}}catch(x){e={error:x}}finally{try{h&&!h.done&&(r=p.return)&&r.call(p)}finally{if(e)throw e.error}}!this.chartController.customComboExists()&&this.chartGroups.combinationGroup&&(this.chartGroups.combinationGroup=this.chartGroups.combinationGroup.filter(function(x){return x!=="customCombo"})),this.updateSelectedMiniChart()},t.prototype.updateSelectedMiniChart=function(){var e=this.chartController.getChartType();for(var r in this.wrappers){var i=this.wrappers[r],o=r===e;i.classList.toggle("ag-selected",o)}},t.TEMPLATE='<div class="ag-chart-settings-mini-wrapper"></div>',zz([E("chartTranslationService")],t.prototype,"chartTranslationService",void 0),zz([z],t.prototype,"init",null),t}(ae),sze=function(){var n=function(t,e){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])},n(t,e)};return function(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");n(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}}(),Bp=function(n,t,e,r){var i=arguments.length,o=i<3?t:r===null?r=Object.getOwnPropertyDescriptor(t,e):r,a;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(n,t,e,r);else for(var s=n.length-1;s>=0;s--)(a=n[s])&&(o=(i<3?a(o):i>3?a(t,e,o):a(t,e))||o);return i>3&&o&&Object.defineProperty(t,e,o),o},lze=function(n){sze(t,n);function t(e){var r=n.call(this,t.TEMPLATE)||this;return r.miniChartsContainers=[],r.cardItems=[],r.activePaletteIndex=0,r.palettes=[],r.themes=[],r.chartController=e,r}return t.prototype.postConstruct=function(){var e=this;this.resetPalettes(),this.ePrevBtn.insertAdjacentElement("afterbegin",A.createIconNoSpan("previous",this.gridOptionsService)),this.eNextBtn.insertAdjacentElement("afterbegin",A.createIconNoSpan("next",this.gridOptionsService)),this.addManagedListener(this.ePrevBtn,"click",function(){return e.setActivePalette(e.getPrev(),"left")}),this.addManagedListener(this.eNextBtn,"click",function(){return e.setActivePalette(e.getNext(),"right")}),this.addManagedListener(this.chartController,js.EVENT_CHART_TYPE_CHANGED,function(){return e.resetPalettes(!0)}),this.addManagedListener(this.chartController,js.EVENT_CHART_API_UPDATE,function(){return e.resetPalettes(!0)}),this.scrollSelectedIntoView()},t.prototype.scrollSelectedIntoView=function(){var e=this;setTimeout(function(){var r=function(s){return!s.getGui().classList.contains("ag-hidden")},i=e.miniChartsContainers.find(r),o=i.getGui().querySelector(".ag-selected");if(o){var a=o.offsetParent;a&&e.eMiniChartsContainer.scrollTo(0,a.offsetTop)}},250)},t.prototype.resetPalettes=function(e){var r=this,i,o,a=this.chartController.getPalettes(),s=this.chartController.getThemeTemplateParameters(),l=(o=(i=this.gridOptionsService.get("chartToolPanelsDef"))===null||i===void 0?void 0:i.settingsPanel)===null||o===void 0?void 0:o.chartGroupsDef;if(!(A.shallowCompare(a,this.palettes)&&!e||this.isAnimating)){this.palettes=a,this.themes=this.chartController.getThemeNames(),this.activePaletteIndex=this.themes.findIndex(function(c){return c===r.chartController.getChartThemeName()}),this.cardItems=[],A.clearElement(this.eCardSelector),this.destroyMiniCharts();var u=this.themes;this.palettes.forEach(function(c,d){var p=r.activePaletteIndex===d,h=c.fills,f=c.strokes,v=u[d],g=!XB(v),y=r.createBean(new aze(r.chartController,h,f,s[d],g,l));r.miniChartsContainers.push(y),r.eMiniChartsContainer.appendChild(y.getGui()),r.addCardLink(d),p?y.updateSelectedMiniChart():y.setDisplayed(!1)}),A.setDisplayed(this.eNavBar,this.palettes.length>1),A.radioCssClass(this.cardItems[this.activePaletteIndex],"ag-selected","ag-not-selected")}},t.prototype.addCardLink=function(e){var r=this,i=document.createElement("div");i.classList.add("ag-chart-settings-card-item"),this.addManagedListener(i,"click",function(){r.setActivePalette(e,e<r.activePaletteIndex?"left":"right")}),this.eCardSelector.appendChild(i),this.cardItems.push(i)},t.prototype.getPrev=function(){var e=this.activePaletteIndex-1;return e<0&&(e=this.palettes.length-1),e},t.prototype.getNext=function(){var e=this.activePaletteIndex+1;return e>=this.palettes.length&&(e=0),e},t.prototype.setActivePalette=function(e,r){var i=this;if(!(this.isAnimating||this.activePaletteIndex===e)){A.radioCssClass(this.cardItems[e],"ag-selected","ag-not-selected");var o=this.miniChartsContainers[this.activePaletteIndex],a=o.getGui(),s=this.miniChartsContainers[e],l=s.getGui();o.updateSelectedMiniChart(),s.updateSelectedMiniChart();var u=r==="left"?-1:1,c=l.style.left="".concat(A.getAbsoluteWidth(this.getGui())*u,"px");this.activePaletteIndex=e,this.isAnimating=!0;var d="ag-animating";s.setDisplayed(!0),o.addCssClass(d),s.addCssClass(d),this.chartController.setChartThemeName(this.themes[e]),window.setTimeout(function(){a.style.left="".concat(-parseFloat(c),"px"),l.style.left="0px"},0),window.setTimeout(function(){i.isAnimating=!1,o.removeCssClass(d),s.removeCssClass(d),o.setDisplayed(!1)},300)}},t.prototype.destroyMiniCharts=function(){A.clearElement(this.eMiniChartsContainer),this.miniChartsContainers=this.destroyBeans(this.miniChartsContainers)},t.prototype.destroy=function(){this.destroyMiniCharts(),n.prototype.destroy.call(this)},t.TEMPLATE=`<div class="ag-chart-settings-wrapper">
            <div ref="eMiniChartsContainer" class="ag-chart-settings-mini-charts-container ag-scrollable-container"></div>
            <div ref="eNavBar" class="ag-chart-settings-nav-bar">
                <div ref="ePrevBtn" class="ag-chart-settings-prev">
                    <button type="button" class="ag-button ag-chart-settings-prev-button"></button>
                </div>
                <div ref="eCardSelector" class="ag-chart-settings-card-selector"></div>
                <div ref="eNextBtn" class="ag-chart-settings-next">
                    <button type="button" class="ag-button ag-chart-settings-next-button"></button>
                </div>
            </div>
        </div>`,Bp([E("resizeObserverService")],t.prototype,"resizeObserverService",void 0),Bp([j("eMiniChartsContainer")],t.prototype,"eMiniChartsContainer",void 0),Bp([j("eNavBar")],t.prototype,"eNavBar",void 0),Bp([j("eCardSelector")],t.prototype,"eCardSelector",void 0),Bp([j("ePrevBtn")],t.prototype,"ePrevBtn",void 0),Bp([j("eNextBtn")],t.prototype,"eNextBtn",void 0),Bp([z],t.prototype,"postConstruct",null),t}(ae),uze=function(){var n=function(t,e){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])},n(t,e)};return function(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");n(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}}(),Xz=function(n,t,e,r){var i=arguments.length,o=i<3?t:r===null?r=Object.getOwnPropertyDescriptor(t,e):r,a;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(n,t,e,r);else for(var s=n.length-1;s>=0;s--)(a=n[s])&&(o=(i<3?a(o):i>3?a(t,e,o):a(t,e))||o);return i>3&&o&&Object.defineProperty(t,e,o),o},cze=function(n){uze(t,n);function t(e){var r=n.call(this)||this;r.tabs=[];var i=e.controller,o=e.panels,a=e.chartOptionsService;return r.chartController=i,r.chartOptionsService=a,r.panels=o,r}return t.prototype.init=function(){var e=this;this.panels.forEach(function(r){var i=r.replace("chart","").toLowerCase(),o=e.createTab(r,i,e.getPanelClass(i)),a=o.comp,s=o.tab;e.tabs.push(s),e.addDestroyFunc(function(){return e.destroyBean(a)})}),this.tabbedLayout=new wG({items:this.tabs,cssClass:"ag-chart-tabbed-menu",keepScrollPosition:!0}),this.getContext().createBean(this.tabbedLayout)},t.prototype.createTab=function(e,r,i){var o=document.createElement("div");o.classList.add("ag-chart-tab","ag-chart-".concat(r));var a=new i(this.chartController,this.chartOptionsService);this.getContext().createBean(a),o.appendChild(a.getGui());var s=document.createElement("div"),l=this.chartTranslationService.translate(r);return s.innerText=l,{comp:a,tab:{title:s,titleLabel:l,bodyPromise:tt.resolve(o),getScrollableContainer:function(){var u=o.querySelector(".ag-scrollable-container");return u||o},name:e}}},t.prototype.showTab=function(e){var r=this.tabs[e];this.tabbedLayout.showItem(r)},t.prototype.getGui=function(){return this.tabbedLayout&&this.tabbedLayout.getGui()},t.prototype.destroy=function(){this.parentComponent&&this.parentComponent.isAlive()&&this.destroyBean(this.parentComponent),n.prototype.destroy.call(this)},t.prototype.getPanelClass=function(e){switch(e){case t.TAB_DATA:return j$e;case t.TAB_FORMAT:return GWe;default:return lze}},t.TAB_DATA="data",t.TAB_FORMAT="format",Xz([E("chartTranslationService")],t.prototype,"chartTranslationService",void 0),Xz([z],t.prototype,"init",null),t}(ae),dze=function(){var n=function(t,e){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])},n(t,e)};return function(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");n(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}}(),bm=function(n,t,e,r){var i=arguments.length,o=i<3?t:r===null?r=Object.getOwnPropertyDescriptor(t,e):r,a;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(n,t,e,r);else for(var s=n.length-1;s>=0;s--)(a=n[s])&&(o=(i<3?a(o):i>3?a(t,e,o):a(t,e))||o);return i>3&&o&&Object.defineProperty(t,e,o),o},qz=function(n,t){var e=typeof Symbol=="function"&&n[Symbol.iterator];if(!e)return n;var r=e.call(n),i,o=[],a;try{for(;(t===void 0||t-- >0)&&!(i=r.next()).done;)o.push(i.value)}catch(s){a={error:s}}finally{try{i&&!i.done&&(e=r.return)&&e.call(r)}finally{if(a)throw a.error}}return o},pze=function(n,t,e){if(e||arguments.length===2)for(var r=0,i=t.length,o;r<i;r++)(o||!(r in t))&&(o||(o=Array.prototype.slice.call(t,0,r)),o[r]=t[r]);return n.concat(o||Array.prototype.slice.call(t))},Zz=function(n){dze(t,n);function t(e,r,i,o){var a=n.call(this,t.TEMPLATE)||this;return a.eChartContainer=e,a.eMenuPanelContainer=r,a.chartController=i,a.chartOptionsService=o,a.buttons={chartSettings:["menu",function(){return a.showMenu(a.defaultPanel)}],chartData:["menu",function(){return a.showMenu("chartData")}],chartFormat:["menu",function(){return a.showMenu("chartFormat")}],chartLink:["linked",function(s){return a.toggleDetached(s)}],chartUnlink:["unlinked",function(s){return a.toggleDetached(s)}],chartDownload:["save",function(){return a.saveChart()}]},a.panels=[],a.buttonListenersDestroyFuncs=[],a.menuVisible=!1,a}return t.prototype.postConstruct=function(){var e=this;this.createButtons(),this.addManagedListener(this.eventService,T.EVENT_CHART_CREATED,function(r){var i;if(r.chartId===e.chartController.getChartId()){var o=!!(!((i=e.gridOptionsService.get("chartToolPanelsDef"))===null||i===void 0)&&i.defaultToolPanel);o&&e.showMenu(e.defaultPanel,!1)}}),this.refreshMenuClasses(),!this.gridOptionsService.get("suppressChartToolPanelsButton")&&this.panels.length>0&&(this.getGui().classList.add("ag-chart-tool-panel-button-enable"),this.addManagedListener(this.eHideButton,"click",this.toggleMenu.bind(this))),this.addManagedListener(this.chartController,js.EVENT_CHART_API_UPDATE,this.createButtons.bind(this))},t.prototype.isVisible=function(){return this.menuVisible},t.prototype.getExtraPaddingDirections=function(){var e=this,r=["chartLink","chartUnlink","chartDownload"],i=["chartSettings","chartData","chartFormat"],o=[];return r.some(function(a){return e.chartToolbarOptions.includes(a)})&&o.push("top"),i.some(function(a){return e.chartToolbarOptions.includes(a)})&&o.push(this.gridOptionsService.get("enableRtl")?"left":"right"),o},t.prototype.getToolbarOptions=function(){var e=this,r,i,o,a=!!this.gridOptionsService.get("chartToolPanelsDef");if(a){var s=[this.chartController.isChartLinked()?"chartLink":"chartUnlink","chartDownload"],l=this.gridOptionsService.getCallback("getChartToolbarItems"),u={defaultItems:s},c=l?l(u).filter(function(g){if(!PF.includes(g)){var y=eE.includes(g)?"AG Grid: '".concat(g,"' is a Chart Tool Panel option and will be ignored since 'chartToolPanelsDef' is used. Please use 'chartToolPanelsDef.panels' grid option instead"):"AG Grid: '".concat(g,"' is not a valid Chart Toolbar Option");return console.warn(y),!1}return!0}):s,d=(i=(r=this.gridOptionsService.get("chartToolPanelsDef"))===null||r===void 0?void 0:r.panels)===null||i===void 0?void 0:i.map(function(g){var y=MC[g];return y||console.warn("AG Grid - invalid panel in chartToolPanelsDef.panels: '".concat(g,"'")),y}).filter(function(g){return!!g});this.panels=d||Object.values(MC),this.chartController.isPivotChart()&&(this.panels=this.panels.filter(function(g){return g!=="chartData"}));var p=(o=this.gridOptionsService.get("chartToolPanelsDef"))===null||o===void 0?void 0:o.defaultToolPanel;return this.defaultPanel=p&&MC[p]||this.panels[0],this.panels.length>0?pze([this.panels[0]],qz(c),!1):c}else{var h=["chartSettings","chartData","chartFormat",this.chartController.isChartLinked()?"chartLink":"chartUnlink","chartDownload"],l=this.gridOptionsService.getCallback("getChartToolbarItems");if(l){var f=this.gridOptionsService.get("suppressChartToolPanelsButton"),u={defaultItems:f?h:PF};h=l(u).filter(function(m){if(e.buttons[m]){if(!f&&eE.includes(m)){var C="AG Grid: '".concat(m,"' is a Chart Tool Panel option and will be ignored. Please use 'chartToolPanelsDef.panels' grid option instead");return console.warn(C),!1}}else return console.warn("AG Grid: '".concat(m,"' is not a valid Chart Toolbar Option")),!1;return!0}),f||(h=h.concat(eE))}this.chartController.isPivotChart()&&(h=h.filter(function(y){return y!=="chartData"}));var v=["chartUnlink","chartLink","chartDownload"];return this.panels=h.filter(function(y){return v.indexOf(y)===-1}),this.defaultPanel=this.panels[0],h.filter(function(y){return v.indexOf(y)!==-1||e.panels.length&&y===e.panels[0]})}},t.prototype.toggleDetached=function(e){var r=e.target,i=r.classList.contains("ag-icon-linked");r.classList.toggle("ag-icon-linked",!i),r.classList.toggle("ag-icon-unlinked",i);var o=i?"chartUnlinkToolbarTooltip":"chartLinkToolbarTooltip",a=this.chartTranslationService.translate(o);a&&(r.title=a),this.chartController.detachChartRange()},t.prototype.createButtons=function(){var e=this;this.buttonListenersDestroyFuncs.forEach(function(i){return i()}),this.buttonListenersDestroyFuncs=[],this.chartToolbarOptions=this.getToolbarOptions();var r=this.eMenu;A.clearElement(r),this.chartToolbarOptions.forEach(function(i){var o=e.buttons[i],a=qz(o,2),s=a[0],l=a[1],u=A.createIconNoSpan(s,e.gridOptionsService,void 0,!0);u.classList.add("ag-chart-menu-icon");var c=e.chartTranslationService.translate(i+"ToolbarTooltip");c&&u instanceof HTMLElement&&(u.title=c),e.buttonListenersDestroyFuncs.push(e.addManagedListener(u,"click",l)),r.appendChild(u)})},t.prototype.saveChart=function(){var e={type:t.EVENT_DOWNLOAD_CHART};this.dispatchEvent(e)},t.prototype.createMenuPanel=function(e){var r=this,i=this.environment.chartMenuPanelWidth(),o=this.menuPanel=this.createBean(new bG({minWidth:i,width:i,height:"100%",closable:!0,hideTitleBar:!0,cssIdentifier:"chart-menu"}));return o.setParentComponent(this),this.eMenuPanelContainer.appendChild(o.getGui()),this.tabbedMenu=this.createBean(new cze({controller:this.chartController,type:this.chartController.getChartType(),panels:this.panels,chartOptionsService:this.chartOptionsService})),this.addManagedListener(o,ae.EVENT_DESTROYED,function(){return r.destroyBean(r.tabbedMenu)}),new tt(function(a){window.setTimeout(function(){o.setBodyComponent(r.tabbedMenu),r.tabbedMenu.showTab(e),a(o),r.addManagedListener(r.eChartContainer,"click",function(s){r.getGui().contains(s.target)||r.menuVisible&&r.hideMenu()})},100)})},t.prototype.showContainer=function(){this.menuPanel&&(this.menuVisible=!0,this.showParent(this.menuPanel.getWidth()),this.refreshMenuClasses())},t.prototype.toggleMenu=function(){this.menuVisible?this.hideMenu():this.showMenu()},t.prototype.showMenu=function(e,r){var i=this;if(r===void 0&&(r=!0),r||this.eMenuPanelContainer.classList.add("ag-no-transition"),this.menuPanel&&!e)this.showContainer();else{var o=e||this.defaultPanel,a=this.panels.indexOf(o);a<0&&(console.warn("AG Grid: '".concat(e,"' is not a valid Chart Tool Panel name")),a=this.panels.indexOf(this.defaultPanel)),this.menuPanel?(this.tabbedMenu.showTab(a),this.showContainer()):this.createMenuPanel(a).then(this.showContainer.bind(this))}r||setTimeout(function(){i.isAlive()&&i.eMenuPanelContainer.classList.remove("ag-no-transition")},500)},t.prototype.hideMenu=function(){var e=this;this.hideParent(),window.setTimeout(function(){e.menuVisible=!1,e.refreshMenuClasses()},500)},t.prototype.refreshMenuClasses=function(){this.eChartContainer.classList.toggle("ag-chart-menu-visible",this.menuVisible),this.eChartContainer.classList.toggle("ag-chart-menu-hidden",!this.menuVisible),this.gridOptionsService.get("suppressChartToolPanelsButton")||(this.eHideButtonIcon.classList.toggle("ag-icon-contracted",this.menuVisible),this.eHideButtonIcon.classList.toggle("ag-icon-expanded",!this.menuVisible))},t.prototype.showParent=function(e){this.eMenuPanelContainer.style.minWidth="".concat(e,"px")},t.prototype.hideParent=function(){this.eMenuPanelContainer.style.minWidth="0"},t.prototype.destroy=function(){n.prototype.destroy.call(this),this.menuPanel&&this.menuPanel.isAlive()&&this.destroyBean(this.menuPanel),this.tabbedMenu&&this.tabbedMenu.isAlive()&&this.destroyBean(this.tabbedMenu)},t.EVENT_DOWNLOAD_CHART="downloadChart",t.TEMPLATE=`<div>
        <div class="ag-chart-menu" ref="eMenu"></div>
        <button class="ag-button ag-chart-menu-close" ref="eHideButton">
            <span class="ag-icon ag-icon-contracted" ref="eHideButtonIcon"></span>
        </button>
    </div>`,bm([E("chartTranslationService")],t.prototype,"chartTranslationService",void 0),bm([j("eMenu")],t.prototype,"eMenu",void 0),bm([j("eHideButton")],t.prototype,"eHideButton",void 0),bm([j("eHideButtonIcon")],t.prototype,"eHideButtonIcon",void 0),bm([z],t.prototype,"postConstruct",null),t}(ae),hze=function(){var n=function(t,e){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])},n(t,e)};return function(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");n(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}}(),NO=function(){return NO=Object.assign||function(n){for(var t,e=1,r=arguments.length;e<r;e++){t=arguments[e];for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(n[i]=t[i])}return n},NO.apply(this,arguments)},Qz=function(n,t,e,r){var i=arguments.length,o=i<3?t:r===null?r=Object.getOwnPropertyDescriptor(t,e):r,a;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(n,t,e,r);else for(var s=n.length-1;s>=0;s--)(a=n[s])&&(o=(i<3?a(o):i>3?a(t,e,o):a(t,e))||o);return i>3&&o&&Object.defineProperty(t,e,o),o},fze=function(n){var t=typeof Symbol=="function"&&Symbol.iterator,e=t&&n[t],r=0;if(e)return e.call(n);if(n&&typeof n.length=="number")return{next:function(){return n&&r>=n.length&&(n=void 0),{value:n&&n[r++],done:!n}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")},vze=function(n){hze(t,n);function t(e){var r=n.call(this,t.TEMPLATE)||this;return r.chartMenu=e,r.destroyableChartListeners=[],r.editing=!1,r}return t.prototype.init=function(){var e=this;this.addManagedListener(this.getGui(),"keydown",function(r){e.editing&&r.key==="Enter"&&!r.shiftKey&&(e.handleEndEditing(),r.preventDefault())}),this.addManagedListener(this.getGui(),"input",function(){e.editing&&e.updateHeight()}),this.addManagedListener(this.getGui(),"blur",function(){return e.endEditing()})},t.prototype.refreshTitle=function(e,r){var i,o,a=this;this.chartController=e,this.chartOptionsService=r;try{for(var s=fze(this.destroyableChartListeners),l=s.next();!l.done;l=s.next()){var u=l.value;u()}}catch(g){i={error:g}}finally{try{l&&!l.done&&(o=s.return)&&o.call(s)}finally{if(i)throw i.error}}this.destroyableChartListeners=[];var c=this.chartController.getChartProxy(),d=c.getChart(),p=d.scene.canvas.element,h=this.addManagedListener(p,"dblclick",function(g){var y=d.title;if(y&&y.node.containsPoint(g.offsetX,g.offsetY)){var m=y.node.computeBBox(),C=y.node.inverseTransformPoint(m.x,m.y);a.startEditing(NO(NO({},m),C),p.width)}}),f=!1,v=this.addManagedListener(p,"mousemove",function(g){var y=d.title,m=!!(y&&y.enabled&&y.node.containsPoint(g.offsetX,g.offsetY));f!==m&&(p.style.cursor=m?"pointer":""),f=m});this.destroyableChartListeners=[h,v]},t.prototype.startEditing=function(e,r){if(!(this.chartMenu&&this.chartMenu.isVisible())&&!this.editing){this.editing=!0;var i=300,o=Math.max(Math.min(e.width+20,r),i),a=this.getGui();a.classList.add("currently-editing");var s=a.style;s.fontFamily=this.chartOptionsService.getChartOption("title.fontFamily"),s.fontWeight=this.chartOptionsService.getChartOption("title.fontWeight"),s.fontStyle=this.chartOptionsService.getChartOption("title.fontStyle"),s.fontSize=this.chartOptionsService.getChartOption("title.fontSize")+"px",s.color=this.chartOptionsService.getChartOption("title.color");var l=this.chartOptionsService.getChartOption("title.text"),u=l===this.chartTranslationService.translate("titlePlaceholder");a.value=u?"":l;var c=l.split(/\r?\n/g).length;s.left=Math.round(e.x+e.width/2-o/2-1)+"px",s.top=Math.round(e.y+e.height/2-c*this.getLineHeight()/2-2)+"px",s.width=Math.round(o)+"px",s.lineHeight=this.getLineHeight()+"px",this.updateHeight(),a.focus()}},t.prototype.updateHeight=function(){var e=this.getGui(),r=this.chartOptionsService.getChartOption("title.text").split(/\r?\n/g).length,i=e.value.split(/\r?\n/g).length;e.style.height=Math.round(Math.max(r,i)*this.getLineHeight())+4+"px"},t.prototype.getLineHeight=function(){var e=this.chartOptionsService.getChartOption("title.lineHeight");return e?parseInt(e):Math.round(parseInt(this.chartOptionsService.getChartOption("title.fontSize"))*1.2)},t.prototype.handleEndEditing=function(){var e=this,r=this.chartOptionsService.getChartOption("title.color"),i="rgba(0, 0, 0, 0)";this.chartOptionsService.setChartOption("title.color",i),this.chartOptionsService.awaitChartOptionUpdate(function(){return e.endEditing()}),this.chartOptionsService.awaitChartOptionUpdate(function(){e.chartOptionsService.setChartOption("title.color",r)})},t.prototype.endEditing=function(){var e=this;if(this.editing){this.editing=!1;var r=this.getGui().value;r&&r.trim()!==""?(this.chartOptionsService.setChartOption("title.text",r),this.chartOptionsService.setChartOption("title.enabled",!0)):(this.chartOptionsService.setChartOption("title.text",""),this.chartOptionsService.setChartOption("title.enabled",!1)),this.getGui().classList.remove("currently-editing"),this.chartOptionsService.awaitChartOptionUpdate(function(){e.eventService.dispatchEvent({type:"chartTitleEdit"})})}},t.TEMPLATE=`<textarea
             class="ag-chart-title-edit"
             style="padding:0; border:none; border-radius: 0; min-height: 0; text-align: center; resize: none;" />
        `,Qz([E("chartTranslationService")],t.prototype,"chartTranslationService",void 0),Qz([z],t.prototype,"init",null),t}(ae),gze=function(){var n=function(t,e){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])},n(t,e)};return function(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");n(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}}(),ov=function(n,t,e,r){var i=arguments.length,o=i<3?t:r===null?r=Object.getOwnPropertyDescriptor(t,e):r,a;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(n,t,e,r);else for(var s=n.length-1;s>=0;s--)(a=n[s])&&(o=(i<3?a(o):i>3?a(t,e,o):a(t,e))||o);return i>3&&o&&Object.defineProperty(t,e,o),o},yze=function(n){gze(t,n);function t(){return n!==null&&n.apply(this,arguments)||this}return t.prototype.getData=function(e){if(e.crossFiltering){if(e.grouping)return console.warn("AG Grid: crossing filtering with row grouping is not supported."),{chartData:[],columnNames:{}};if(!this.gridOptionsService.isRowModelType("clientSide"))return console.warn("AG Grid: crossing filtering is only supported in the client side row model."),{chartData:[],columnNames:{}}}var r=this.gridOptionsService.isRowModelType("serverSide");r&&e.pivoting&&this.updatePivotKeysForSSRM();var i=this.extractRowsFromGridRowModel(e);return i.chartData=this.aggregateRowsByDimension(e,i.chartData),i},t.prototype.extractRowsFromGridRowModel=function(e){var r=this,i=[],o={},a={},s={},l={},u=[],c;if(e.crossFiltering)l=this.getFilteredRowNodes(),u=this.getAllRowNodes(),c=u.length;else{var d=this.gridRowModel.getRowCount()-1,p=e.endRow>=0?Math.min(e.endRow,d):d;c=p-e.startRow+1}for(var h=function(m){var C={},S=e.crossFiltering?u[m]:f.gridRowModel.getRow(m+e.startRow);e.dimensionCols.forEach(function(w){var _=w.colId,x=r.columnModel.getGridColumn(_);if(x){var b=r.valueService.getValue(x,S);if(e.grouping){var O=b&&b.toString?String(b.toString()):"",P=t.getGroupLabels(S,O);C[_]={labels:P,toString:function(){return this.labels.filter(function(N){return!!N}).reverse().join(" - ")}},S.group&&(a[P.toString()]=m);var D=P.slice(1,P.length).toString();D&&(s[D]=a[D])}else C[_]=b}else C[pw.DEFAULT_CATEGORY]=m+1}),e.valueCols.forEach(function(w){var _=[],x=w.getColDef().pivotKeys;x&&(_=x.slice());var b=w.getColDef().headerName;b&&_.push(b),_.length>0&&(o[w.getId()]=_);var O=w.getColId();if(e.crossFiltering){var P=O+"-filtered-out",D=r.valueService.getValue(w,S),N=D!=null&&typeof D.toNumber=="function"?D.toNumber():D;l[S.id]?(C[O]=N,C[P]=e.aggFunc||e.isScatter?void 0:0):(C[O]=e.aggFunc||e.isScatter?void 0:0,C[P]=N)}else{var D=r.valueService.getValue(w,S);D&&D.hasOwnProperty("toString")&&(D=parseFloat(D.toString())),C[O]=D!=null&&typeof D.toNumber=="function"?D.toNumber():D}}),S.footer&&(C.footer=!0),i.push(C)},f=this,v=0;v<c;v++)h(v);if(e.grouping){var g=A.values(s),y=function(m,C){return!m.footer&&!A.includes(g,C)};i=i.filter(y)}return{chartData:i,columnNames:o}},t.prototype.aggregateRowsByDimension=function(e,r){var i=this,o=e.dimensionCols;if(!e.aggFunc||o.length===0)return r;var a=A.last(o),s=a&&a.colId,l={},u=[];return r.forEach(function(c){var d=l;o.forEach(function(p){var h=p.colId,f=c[h];if(h===s){var v=d[f];v||(v={__children:[]},o.forEach(function(g){var y=g.colId;v[y]=c[y]}),d[f]=v,u.push(v)),v.__children.push(c)}else d[f]||(d[f]={}),d=d[f]})}),He.__assertRegistered(pe.RowGroupingModule,"Charting Aggregation",this.context.getGridId())&&u.forEach(function(c){return e.valueCols.forEach(function(d){if(e.crossFiltering)e.valueCols.forEach(function(f){var v=f.getColId(),g=c.__children.filter(function(w){return typeof w[v]<"u"}).map(function(w){return w[v]}),y=i.aggregationStage.aggregateValues(g,e.aggFunc);c[f.getId()]=y&&typeof y.value<"u"?y.value:y;var m="".concat(v,"-filtered-out"),C=c.__children.filter(function(w){return typeof w[m]<"u"}).map(function(w){return w[m]}),S=i.aggregationStage.aggregateValues(C,e.aggFunc);c[m]=S&&typeof S.value<"u"?S.value:S});else{var p=c.__children.map(function(f){return f[d.getId()]}),h=0;He.__assertRegistered(pe.RowGroupingModule,"Charting Aggregation",i.context.getGridId())&&(h=i.aggregationStage.aggregateValues(p,e.aggFunc)),c[d.getId()]=h&&typeof h.value<"u"?h.value:h}})}),u},t.prototype.updatePivotKeysForSSRM=function(){var e=this.columnModel.getSecondaryColumns();if(e){var r=this.extractPivotKeySeparator(e);e.forEach(function(i){if(r==="")i.getColDef().pivotKeys=[];else{var o=i.getColId().split(r);i.getColDef().pivotKeys=o.slice(0,o.length-1)}})}},t.prototype.extractPivotKeySeparator=function(e){if(e.length===0)return"";var r=function(o,a){var s=o.getGroupId();return o.getParent()?r(o.getParent(),s):a.split(s)[1][0]},i=e[0];return i.getParent()==null?"":r(i.getParent(),i.getColId())},t.getGroupLabels=function(e,r){for(var i=[r];e&&e.level!==0;)e=e.parent,e&&i.push(e.key);return i},t.prototype.getFilteredRowNodes=function(){var e={};return this.gridRowModel.forEachNodeAfterFilterAndSort(function(r){e[r.id]=r}),e},t.prototype.getAllRowNodes=function(){var e=[];return this.gridRowModel.forEachNode(function(r){e.push(r)}),this.sortRowNodes(e)},t.prototype.sortRowNodes=function(e){var r=this.sortController.getSortOptions(),i=!r||r.length==0;return i?e:this.rowNodeSorter.doFullSort(e,r)},ov([E("rowModel")],t.prototype,"gridRowModel",void 0),ov([E("valueService")],t.prototype,"valueService",void 0),ov([E("columnModel")],t.prototype,"columnModel",void 0),ov([E("rowNodeSorter")],t.prototype,"rowNodeSorter",void 0),ov([E("sortController")],t.prototype,"sortController",void 0),ov([et("aggregationStage")],t.prototype,"aggregationStage",void 0),t}(X),mze=function(){var n=function(t,e){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])},n(t,e)};return function(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");n(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}}(),Sx=function(n,t,e,r){var i=arguments.length,o=i<3?t:r===null?r=Object.getOwnPropertyDescriptor(t,e):r,a;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(n,t,e,r);else for(var s=n.length-1;s>=0;s--)(a=n[s])&&(o=(i<3?a(o):i>3?a(t,e,o):a(t,e))||o);return i>3&&o&&Object.defineProperty(t,e,o),o},Cze=function(n){mze(t,n);function t(){return n!==null&&n.apply(this,arguments)||this}return t.prototype.getColumn=function(e){return this.columnModel.getPrimaryColumn(e)},t.prototype.getAllDisplayedColumns=function(){return this.columnModel.getAllDisplayedColumns()},t.prototype.getColDisplayName=function(e){return this.columnModel.getDisplayNameForColumn(e,"chart")},t.prototype.getRowGroupColumns=function(){return this.columnModel.getRowGroupColumns()},t.prototype.getGroupDisplayColumns=function(){return this.columnModel.getGroupDisplayColumns()},t.prototype.isPivotMode=function(){return this.columnModel.isPivotMode()},t.prototype.isPivotActive=function(){return this.columnModel.isPivotActive()},t.prototype.getChartColumns=function(){var e=this,r=this.columnModel.getAllDisplayedColumns(),i=new Set,o=new Set;return r.forEach(function(a){var s=a.getColDef(),l=s.chartDataType;if(l)switch(l){case"category":case"time":i.add(a);return;case"series":o.add(a);return;case"excluded":return;default:console.warn("AG Grid: unexpected chartDataType value '".concat(l,"' supplied, instead use 'category', 'series' or 'excluded'"));break}if(s.colId==="ag-Grid-AutoColumn"){i.add(a);return}if(!a.isPrimary()){o.add(a);return}(e.isNumberCol(a)?o:i).add(a)}),{dimensionCols:i,valueCols:o}},t.prototype.isNumberCol=function(e){if(e.getColId()==="ag-Grid-AutoColumn")return!1;var r=this.rowRenderer.getRowNode({rowIndex:0,rowPinned:null});if(!r)return!1;var i=this.valueService.getValue(e,r);return i==null&&(i=this.extractLeafData(r,e)),i!=null&&typeof i.toNumber=="function"&&(i=i.toNumber()),typeof i=="number"},t.prototype.extractLeafData=function(e,r){if(!e.allLeafChildren)return null;for(var i=0;i<e.allLeafChildren.length;i++){var o=e.allLeafChildren[i],a=this.valueService.getValue(r,o);if(a!=null)return a}return null},Sx([E("columnModel")],t.prototype,"columnModel",void 0),Sx([E("valueService")],t.prototype,"valueService",void 0),Sx([E("rowRenderer")],t.prototype,"rowRenderer",void 0),t=Sx([ie("chartColumnService")],t),t}(X),Sze=function(){var n=function(t,e){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])},n(t,e)};return function(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");n(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}}(),wze=function(n,t,e,r){var i=arguments.length,o=i<3?t:r===null?r=Object.getOwnPropertyDescriptor(t,e):r,a;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(n,t,e,r);else for(var s=n.length-1;s>=0;s--)(a=n[s])&&(o=(i<3?a(o):i>3?a(t,e,o):a(t,e))||o);return i>3&&o&&Object.defineProperty(t,e,o),o},_ze=function(n){Sze(t,n);function t(e){var r=this,i;return r=n.call(this)||this,r.suppressComboChartWarnings=!1,r.chartDataModel=e,r.seriesChartTypes=(i=e.params.seriesChartTypes)!==null&&i!==void 0?i:[],r}return t.prototype.init=function(){this.initComboCharts()},t.prototype.update=function(e){this.seriesChartTypes=e??this.seriesChartTypes,this.initComboCharts(),this.updateSeriesChartTypes()},t.prototype.initComboCharts=function(){var e=this.seriesChartTypes&&this.seriesChartTypes.length>0,r=this.chartDataModel.chartType==="customCombo"||e;r&&(this.chartDataModel.chartType="customCombo",this.savedCustomSeriesChartTypes=this.seriesChartTypes||[])},t.prototype.updateSeriesChartTypes=function(){if(this.chartDataModel.isComboChart()){if(this.seriesChartTypes=this.seriesChartTypes.map(function(e){var r=["groupedColumn","stackedColumn","stackedArea"].includes(e.chartType);return e.secondaryAxis=r?!1:e.secondaryAxis,e}),this.chartDataModel.chartType==="customCombo"){this.updateSeriesChartTypesForCustomCombo();return}this.updateChartSeriesTypesForBuiltInCombos()}},t.prototype.updateSeriesChartTypesForCustomCombo=function(){var e=this,r=this.seriesChartTypes&&this.seriesChartTypes.length>0;!r&&!this.suppressComboChartWarnings&&console.warn("AG Grid: 'seriesChartTypes' are required when the 'customCombo' chart type is specified."),this.seriesChartTypes=this.seriesChartTypes.map(function(a){return t.SUPPORTED_COMBO_CHART_TYPES.includes(a.chartType)||(console.warn("AG Grid: invalid chartType '".concat(a.chartType,"' supplied in 'seriesChartTypes', converting to 'line' instead.")),a.chartType="line"),a});var i=function(a){(!e.savedCustomSeriesChartTypes||e.savedCustomSeriesChartTypes.length===0)&&(e.savedCustomSeriesChartTypes=e.seriesChartTypes);var s=e.savedCustomSeriesChartTypes.find(function(l){return l.colId===a.colId});return s||(a.selected&&!e.suppressComboChartWarnings&&console.warn("AG Grid: no 'seriesChartType' found for colId = '".concat(a.colId,"', defaulting to 'line'.")),{colId:a.colId,chartType:"line",secondaryAxis:!1})},o=this.chartDataModel.valueColState.map(i);this.seriesChartTypes=o,this.savedCustomSeriesChartTypes=o,this.suppressComboChartWarnings=!0},t.prototype.updateChartSeriesTypesForBuiltInCombos=function(){var e=this.chartDataModel,r=e.chartType,i=e.valueColState,o=r==="columnLineCombo"?"groupedColumn":"stackedArea",a=r==="columnLineCombo"?"line":"groupedColumn",s=i.filter(function(u){return u.selected}),l=Math.ceil(s.length/2);this.seriesChartTypes=s.map(function(u,c){var d=c>=l?a:o;return{colId:u.colId,chartType:d,secondaryAxis:!1}})},t.SUPPORTED_COMBO_CHART_TYPES=["line","groupedColumn","stackedColumn","area","stackedArea"],wze([z],t.prototype,"init",null),t}(X),xze=function(){var n=function(t,e){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])},n(t,e)};return function(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");n(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}}(),kv=function(){return kv=Object.assign||function(n){for(var t,e=1,r=arguments.length;e<r;e++){t=arguments[e];for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(n[i]=t[i])}return n},kv.apply(this,arguments)},dM=function(n,t,e,r){var i=arguments.length,o=i<3?t:r===null?r=Object.getOwnPropertyDescriptor(t,e):r,a;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(n,t,e,r);else for(var s=n.length-1;s>=0;s--)(a=n[s])&&(o=(i<3?a(o):i>3?a(t,e,o):a(t,e))||o);return i>3&&o&&Object.defineProperty(t,e,o),o},qc=function(n,t){var e=typeof Symbol=="function"&&n[Symbol.iterator];if(!e)return n;var r=e.call(n),i,o=[],a;try{for(;(t===void 0||t-- >0)&&!(i=r.next()).done;)o.push(i.value)}catch(s){a={error:s}}finally{try{i&&!i.done&&(e=r.return)&&e.call(r)}finally{if(a)throw a.error}}return o},Zc=function(n,t,e){if(e||arguments.length===2)for(var r=0,i=t.length,o;r<i;r++)(o||!(r in t))&&(o||(o=Array.prototype.slice.call(t,0,r)),o[r]=t[r]);return n.concat(o||Array.prototype.slice.call(t))},pw=function(n){xze(t,n);function t(e){var r=n.call(this)||this;return r.unlinked=!1,r.chartData=[],r.valueColState=[],r.dimensionColState=[],r.columnNames={},r.crossFiltering=!1,r.grouping=!1,r.params=e,r.chartId=e.chartId,r.chartType=e.chartType,r.pivotChart=e.pivotChart,r.chartThemeName=e.chartThemeName,r.aggFunc=e.aggFunc,r.referenceCellRange=e.cellRange,r.suppliedCellRange=e.cellRange,r.suppressChartRanges=e.suppressChartRanges,r.unlinked=!!e.unlinkChart,r.crossFiltering=!!e.crossFiltering,r}return t.prototype.init=function(){this.datasource=this.createManagedBean(new yze),this.chartColumnService=this.createManagedBean(new Cze),this.comboChartModel=this.createManagedBean(new _ze(this)),this.updateCellRanges(),this.updateData()},t.prototype.updateModel=function(e){var r=e.cellRange,i=e.chartType,o=e.pivotChart,a=e.chartThemeName,s=e.aggFunc,l=e.suppressChartRanges,u=e.unlinkChart,c=e.crossFiltering,d=e.seriesChartTypes;r!==this.suppliedCellRange&&(this.dimensionCellRange=void 0,this.valueCellRange=void 0),this.chartType=i,this.pivotChart=o,this.chartThemeName=a,this.aggFunc=s,this.referenceCellRange=r,this.suppliedCellRange=r,this.suppressChartRanges=l,this.unlinked=!!u,this.crossFiltering=!!c,this.updateSelectedDimensions(r==null?void 0:r.columns),this.updateCellRanges();var p=this.isComboChart()||d;p&&this.comboChartModel.update(d),this.unlinked||this.updateData()},t.prototype.updateCellRanges=function(e){this.valueCellRange&&(this.referenceCellRange=this.valueCellRange);var r=this.chartColumnService.getChartColumns(),i=r.dimensionCols,o=r.valueCols,a=this.getAllColumnsFromRanges();e&&this.updateColumnState(e),this.setDimensionCellRange(i,a,e),this.setValueCellRange(o,a,e),e||(this.resetColumnState(),this.syncDimensionCellRange()),this.comboChartModel.updateSeriesChartTypes()},t.prototype.updateData=function(){var e=this.getRowIndexes(),r=e.startRow,i=e.endRow;this.pivotChart&&this.resetColumnState(),this.grouping=this.isGrouping();var o={aggFunc:this.aggFunc,dimensionCols:this.getSelectedDimensions(),grouping:this.grouping,pivoting:this.isPivotActive(),crossFiltering:this.crossFiltering,valueCols:this.getSelectedValueCols(),startRow:r,endRow:i,isScatter:A.includes(["scatter","bubble"],this.chartType)},a=this.datasource.getData(o),s=a.chartData,l=a.columnNames;this.chartData=s,this.columnNames=l},t.prototype.isGrouping=function(){var e=this.gridOptionsService.get("treeData"),r=e?null:this.chartColumnService.getRowGroupColumns(),i=e||r&&r.length>0,o=this.getSelectedDimensions().map(function(l){var u=l.colId;return u}),a=this.chartColumnService.getGroupDisplayColumns(),s=a.map(function(l){return l.getColId()}).some(function(l){return o.includes(l)});return!!i&&s},t.prototype.getSelectedValueCols=function(){return this.valueColState.filter(function(e){return e.selected}).map(function(e){return e.column})},t.prototype.getSelectedDimensions=function(){return this.dimensionColState.filter(function(e){return e.selected})},t.prototype.getColDisplayName=function(e){return this.chartColumnService.getColDisplayName(e)},t.prototype.isPivotMode=function(){return this.chartColumnService.isPivotMode()},t.prototype.getChartDataType=function(e){var r=this.chartColumnService.getColumn(e);return r?r.getColDef().chartDataType:void 0},t.prototype.isPivotActive=function(){return this.chartColumnService.isPivotActive()},t.prototype.createCellRange=function(e){for(var r=[],i=1;i<arguments.length;i++)r[i-1]=arguments[i];return{id:this.chartId,startRow:this.referenceCellRange.startRow,endRow:this.referenceCellRange.endRow,columns:r,startColumn:e===uo.DIMENSION?r[0]:this.referenceCellRange.startColumn,type:e}},t.prototype.getAllColumnsFromRanges=function(){if(this.pivotChart)return A.convertToSet(this.chartColumnService.getAllDisplayedColumns());var e=this.dimensionCellRange||this.valueCellRange?[]:this.referenceCellRange.columns;return this.dimensionCellRange&&e.push.apply(e,Zc([],qc(this.dimensionCellRange.columns),!1)),this.valueCellRange&&e.push.apply(e,Zc([],qc(this.valueCellRange.columns),!1)),A.convertToSet(e)},t.prototype.getRowIndexes=function(){var e=0,r=0,i=this,o=i.rangeService,a=i.valueCellRange,s=i.dimensionCellRange,l=a||s;if(o&&l){e=o.getRangeStartRow(l).rowIndex;var u=o.getRangeEndRow(l);r=u.rowPinned==="bottom"?-1:u.rowIndex}return{startRow:e,endRow:r}},t.prototype.resetColumnState=function(){var e=this,r=this.chartColumnService.getChartColumns(),i=r.dimensionCols,o=r.valueCols,a=this.getAllColumnsFromRanges(),s=this.valueColState.length<1;this.dimensionColState=[],this.valueColState=[];var l=xd(this.chartType),u=!1,c=1,d=this.suppliedCellRange.columns[0];i.forEach(function(f){var v=f.getColId()==="ag-Grid-AutoColumn",g=!1;e.crossFiltering&&e.aggFunc?d.getColId()===f.getColId()&&(g=!0):g=v?!0:(!u||l)&&a.has(f),e.dimensionColState.push({column:f,colId:f.getColId(),displayName:e.getColDisplayName(f),selected:g,order:c++}),g&&(u=!0)});var p={colId:t.DEFAULT_CATEGORY,displayName:this.chartTranslationService.translate("defaultCategory"),selected:!u,order:0};this.dimensionColState.unshift(p);var h=this.referenceCellRange.columns.filter(function(f){return o.has(f)});o.forEach(function(f){s&&A.includes(e.referenceCellRange.columns,f)&&(f=h.shift()),e.valueColState.push({column:f,colId:f.getColId(),displayName:e.getColDisplayName(f),selected:a.has(f),order:c++})})},t.prototype.updateColumnState=function(e){var r=function(h){return h.colId===e.colId},i=this,o=i.dimensionColState,a=i.valueColState,s=o.find(r),l=a.find(r);if(s){var u=xd(this.chartType);if(u)s.selected=e.selected;else{var c=e.selected?s:o.filter(function(h){return h!==s}).find(function(h){var f=h.selected;return f});o.forEach(function(h){return h.selected=h===c})}}else l&&(l.selected=e.selected);var d=Zc(Zc([],qc(o),!1),qc(a),!1),p=[];d.forEach(function(h,f){f===e.order&&p.push(e.colId),h.colId!==e.colId&&p.push(h.colId)}),d.forEach(function(h){var f=p.indexOf(h.colId);h.order=f>=0?p.indexOf(h.colId):d.length-1}),this.reorderColState()},t.prototype.reorderColState=function(){var e=function(r,i){return r.order-i.order};this.dimensionColState.sort(e),this.valueColState.sort(e)},t.prototype.setDimensionCellRange=function(e,r,i){if(this.dimensionCellRange=void 0,!i&&!this.dimensionColState.length){var o=xd(this.chartType),a=new Array;e.forEach(function(d){a.length>0&&!o||!r.has(d)||a.push(d)}),a.length>0&&(this.dimensionCellRange=this.createCellRange.apply(this,Zc([uo.DIMENSION],qc(a),!1)));return}var s=i?[i]:[];if(this.crossFiltering&&this.aggFunc){var l=this.suppliedCellRange.columns[0];s=this.dimensionColState.filter(function(d){return d.colId===l.getColId()})}else(s.length===0||s.some(function(d){var p=d.column;return!p||!e.has(p)}))&&(s=this.dimensionColState.filter(function(d){return d.selected}));var u=s.length===1?s[0].colId===t.DEFAULT_CATEGORY:!1,c=s.map(function(d){var p=d.column;return p}).filter(function(d){return d!=null});c.length>0&&!u&&(this.dimensionCellRange=this.createCellRange.apply(this,Zc([uo.DIMENSION],qc(c),!1)))},t.prototype.setValueCellRange=function(e,r,i){this.valueCellRange=void 0;var o=[];if(e.forEach(function(s){i&&i.colId===s.getColId()?i.selected&&o.push(i.column):r.has(s)&&o.push(s)}),o.length>0){var a=[];this.valueColState.length>0?a=this.valueColState.map(function(s){return s.colId}):r.forEach(function(s){return a.push(s.getColId())}),o.sort(function(s,l){return a.indexOf(s.getColId())-a.indexOf(l.getColId())}),this.valueCellRange=this.createCellRange.apply(this,Zc([uo.VALUE],qc(o),!1))}},t.prototype.updateSelectedDimensions=function(e){var r=new Set(e.map(function(u){return u.getColId()})),i=xd(this.chartType);if(i){var s=this.dimensionColState.filter(function(u){return r.has(u.colId)}),l=new Set(s.map(function(u){return u.colId}));this.dimensionColState=this.dimensionColState.map(function(u){return kv(kv({},u),{selected:l.has(u.colId)})})}else{var o=this.dimensionColState.find(function(u){return r.has(u.colId)})||this.dimensionColState[0],a=o.colId;this.dimensionColState=this.dimensionColState.map(function(u){return kv(kv({},u),{selected:u.colId===a})})}},t.prototype.syncDimensionCellRange=function(){var e=this.getSelectedDimensions();if(e.length!==0){var r=e.map(function(i){var o=i.column;return o}).filter(function(i){return i!=null});r.length>0&&(this.dimensionCellRange=this.createCellRange.apply(this,Zc([uo.DIMENSION],qc(r),!1)))}},t.prototype.isComboChart=function(){return["columnLineCombo","areaColumnCombo","customCombo"].includes(this.chartType)},t.DEFAULT_CATEGORY="AG-GRID-DEFAULT-CATEGORY",dM([E("rangeService")],t.prototype,"rangeService",void 0),dM([E("chartTranslationService")],t.prototype,"chartTranslationService",void 0),dM([z],t.prototype,"init",null),t}(X);function Jz(n){return n.chart!=null?n.chart:n}var zC=function(){return zC=Object.assign||function(n){for(var t,e=1,r=arguments.length;e<r;e++){t=arguments[e];for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(n[i]=t[i])}return n},zC.apply(this,arguments)},y0=function(){function n(t){this.chartProxyParams=t,this.clearThemeOverrides=!1,this.chart=t.chartInstance,this.chartType=t.chartType,this.crossFiltering=t.crossFiltering,this.crossFilterCallback=t.crossFilterCallback,this.standaloneChartType=Is(this.chartType),this.chart==null?this.chart=Wu.create(this.getCommonChartOptions()):this.clearThemeOverrides=!0}return n.prototype.getChart=function(){return Jz(this.chart)},n.prototype.getChartRef=function(){return this.chart},n.prototype.downloadChart=function(t,e,r){var i=this.chart,o=Jz(i),a=e||(o.title?o.title.text:"chart"),s=t||{},l=s.width,u=s.height;Wu.download(i,{width:l,height:u,fileName:a,fileFormat:r})},n.prototype.getChartImageDataURL=function(t){return this.getChart().scene.getDataURL(t)},n.prototype.getChartOptions=function(){return this.chart.getOptions()},n.prototype.getChartThemeOverrides=function(){var t,e=this.getChartOptions().theme;return(t=e.overrides)!==null&&t!==void 0?t:{}},n.prototype.getChartPalette=function(){return Hs.getChartTheme(this.getChartOptions().theme).palette},n.prototype.setPaired=function(t){var e,r=Is(this.chartProxyParams.chartType);Wu.updateDelta(this.chart,{theme:{overrides:(e={},e[r]={paired:t},e)}})},n.prototype.isPaired=function(){var t=Is(this.chartProxyParams.chartType);return Iv(this.getChartThemeOverrides(),"".concat(t,".paired"),!0)},n.prototype.lookupCustomChartTheme=function(t){return xte(this.chartProxyParams,t)},n.prototype.transformData=function(t,e,r){return r?t.map(function(i,o){var a=i[e],s=a&&a.toString?a.toString():"",l=zC({},i);return l[e]={id:o,value:a,toString:function(){return s}},l}):t},n.prototype.getCommonChartOptions=function(t){var e,r,i=this.clearThemeOverrides?{}:(r=(e=this.chart)===null||e===void 0?void 0:e.getOptions())!==null&&r!==void 0?r:{},o=this.chart!=null?this.getActiveFormattingPanelOverrides():void 0;this.clearThemeOverrides=!1;var a=R$e(this.chartProxyParams,this),s=this.getChartThemeDefaults(),l=T$e(a,[s,t??o]);return zC(zC({},i),{theme:l,container:this.chartProxyParams.parentElement,mode:"integrated"})},n.prototype.getChartThemeDefaults=function(){},n.prototype.getActiveFormattingPanelOverrides=function(){var t,e;if(this.clearThemeOverrides)return{};var r=(t=this.chart)===null||t===void 0?void 0:t.getOptions().theme;return(e=r==null?void 0:r.overrides)!==null&&e!==void 0?e:{}},n.prototype.destroy=function(t){var e=t===void 0?{}:t,r=e.keepChartInstance,i=r===void 0?!1:r;if(i)return this.chart.resetAnimations(),this.chart;this.destroyChart()},n.prototype.destroyChart=function(){this.chart&&(this.chart.destroy(),this.chart=void 0)},n}(),Eze=function(){var n=function(t,e){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])},n(t,e)};return function(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");n(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}}(),kO=function(){return kO=Object.assign||function(n){for(var t,e=1,r=arguments.length;e<r;e++){t=arguments[e];for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(n[i]=t[i])}return n},kO.apply(this,arguments)},wx=function(n,t){var e=typeof Symbol=="function"&&n[Symbol.iterator];if(!e)return n;var r=e.call(n),i,o=[],a;try{for(;(t===void 0||t-- >0)&&!(i=r.next()).done;)o.push(i.value)}catch(s){a={error:s}}finally{try{i&&!i.done&&(e=r.return)&&e.call(r)}finally{if(a)throw a.error}}return o},xp=function(n){Eze(t,n);function t(e){var r=n.call(this,e)||this;return r.crossFilteringAllPoints=new Set,r.crossFilteringSelectedPoints=[],r}return t.prototype.update=function(e){var r=this.getAxes(e),i=kO(kO({},this.getCommonChartOptions(e.updatedOverrides)),{data:this.getData(e,r),axes:r,series:this.getSeries(e)});Wu.update(this.getChartRef(),i)},t.prototype.getData=function(e,r){var i=["area","line"].includes(this.standaloneChartType),o=r.some(function(a){return(a==null?void 0:a.type)==="category"});return this.crossFiltering&&i?this.getCrossFilterData(e):this.getDataTransformedData(e,o)},t.prototype.getDataTransformedData=function(e,r){var i=wx(e.categories,1),o=i[0];return this.transformData(e.data,o.id,r)},t.prototype.getXAxisType=function(e){return e.grouping?"grouped-category":t.isTimeAxis(e)?"time":"category"},t.isTimeAxis=function(e){var r=wx(e.categories,1),i=r[0];if(i&&i.chartDataType)return i.chartDataType==="time";var o=e.data[0];return(o&&o[i.id])instanceof Date},t.prototype.crossFilteringReset=function(){this.crossFilteringSelectedPoints=[],this.crossFilteringAllPoints.clear()},t.prototype.crossFilteringPointSelected=function(e){return this.crossFilteringSelectedPoints.length==0||this.crossFilteringSelectedPoints.includes(e)},t.prototype.crossFilteringDeselectedPoints=function(){return this.crossFilteringSelectedPoints.length>0&&this.crossFilteringAllPoints.size!==this.crossFilteringSelectedPoints.length},t.prototype.extractLineAreaCrossFilterSeries=function(e,r){var i=this,o=wx(r.categories,1),a=o[0],s=function(l){if(i.standaloneChartType==="area"){var u=r.getCrossFilteringContext().lastSelectedChartId;return u===r.chartId?l+"-total":l}return l+"-total"};return e.map(function(l){return l.yKey=s(l.yKey),l.listeners={nodeClick:function(u){var c=u.datum[l.xKey],d=u.event.metaKey||u.event.ctrlKey;i.crossFilteringAddSelectedPoint(d,c),i.crossFilterCallback(u)}},l.marker={formatter:function(u){var c=u.datum[a.id];return{fill:u.highlighted?"yellow":u.fill,size:u.highlighted?14:i.crossFilteringPointSelected(c)?8:0}}},i.standaloneChartType==="area"&&(l.fillOpacity=i.crossFilteringDeselectedPoints()?.3:1),i.standaloneChartType==="line"&&(l.strokeOpacity=i.crossFilteringDeselectedPoints()?.3:1),l})},t.prototype.getCrossFilterData=function(e){var r=this;this.crossFilteringAllPoints.clear();var i=wx(e.categories,1),o=i[0],a=e.fields[0].colId,s="".concat(a,"-filtered-out"),l=e.getCrossFilteringContext().lastSelectedChartId;return e.data.map(function(u){var c=u[o.id];r.crossFilteringAllPoints.add(c);var d=r.crossFilteringPointSelected(c);return r.standaloneChartType==="area"&&l===e.chartId&&(u["".concat(a,"-total")]=d?u[a]:u[a]+u[s]),r.standaloneChartType==="line"&&(u["".concat(a,"-total")]=d?u[a]:u[a]+u[s]),u})},t.prototype.crossFilteringAddSelectedPoint=function(e,r){e?this.crossFilteringSelectedPoints.push(r):this.crossFilteringSelectedPoints=[r]},t}(y0);function e5(n,t){var e=parseInt(n.slice(1,3),16),r=parseInt(n.slice(3,5),16),i=parseInt(n.slice(5,7),16);return t?"rgba(".concat(e,", ").concat(r,", ").concat(i,", ").concat(t,")"):"rgba(".concat(e,", ").concat(r,", ").concat(i,")")}function t5(n,t){return n.map(function(e){var r=Pr.Color.fromString(e);return new Pr.Color(r.r,r.g,r.b,t).toHexString()})}var bze=function(){var n=function(t,e){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])},n(t,e)};return function(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");n(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}}(),od=function(){return od=Object.assign||function(n){for(var t,e=1,r=arguments.length;e<r;e++){t=arguments[e];for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(n[i]=t[i])}return n},od.apply(this,arguments)},Oze=function(n,t){var e=typeof Symbol=="function"&&n[Symbol.iterator];if(!e)return n;var r=e.call(n),i,o=[],a;try{for(;(t===void 0||t-- >0)&&!(i=r.next()).done;)o.push(i.value)}catch(s){a={error:s}}finally{try{i&&!i.done&&(e=r.return)&&e.call(r)}finally{if(a)throw a.error}}return o},Rze=function(n){bze(t,n);function t(e){return n.call(this,e)||this}return t.prototype.getAxes=function(e){var r=[{type:this.getXAxisType(e),position:Uu(this.chartType)?"left":"bottom"},{type:"number",position:Uu(this.chartType)?"bottom":"left"}];if(this.isNormalised()){var i=r[1];i.label=od(od({},i.label),{formatter:function(o){return Math.round(o.value)+"%"}})}return r},t.prototype.getSeries=function(e){var r=this,i=Oze(e.categories,1),o=i[0],a=e.fields.map(function(s){return{type:r.standaloneChartType,direction:Uu(r.chartType)?"horizontal":"vertical",stacked:r.crossFiltering||h$e(r.chartType),normalizedTo:r.isNormalised()?100:void 0,xKey:o.id,xName:o.name,yKey:s.colId,yName:s.displayName}});return this.crossFiltering?this.extractCrossFilterSeries(a):a},t.prototype.extractCrossFilterSeries=function(e){for(var r=this,i=this.getChartPalette(),o=function(c,d){return od(od({},c),{highlightStyle:{item:{fill:void 0}},fill:i==null?void 0:i.fills[d],stroke:i==null?void 0:i.strokes[d],listeners:{nodeClick:r.crossFilterCallback}})},a=function(c){var d=c.yKey+"-filtered-out";return od(od({},jd({},c)),{yKey:d,fill:e5(c.fill,"0.3"),stroke:e5(c.stroke,"0.3"),showInLegend:!1})},s=[],l=0;l<e.length;l++){var u=o(e[l],l);s.push(u),s.push(a(u))}return s},t.prototype.isNormalised=function(){var e=["normalizedColumn","normalizedBar"];return!this.crossFiltering&&A.includes(e,this.chartType)},t}(xp),Tze=function(){var n=function(t,e){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])},n(t,e)};return function(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");n(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}}(),GO=function(){return GO=Object.assign||function(n){for(var t,e=1,r=arguments.length;e<r;e++){t=arguments[e];for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(n[i]=t[i])}return n},GO.apply(this,arguments)},Pze=function(n,t){var e=typeof Symbol=="function"&&n[Symbol.iterator];if(!e)return n;var r=e.call(n),i,o=[],a;try{for(;(t===void 0||t-- >0)&&!(i=r.next()).done;)o.push(i.value)}catch(s){a={error:s}}finally{try{i&&!i.done&&(e=r.return)&&e.call(r)}finally{if(a)throw a.error}}return o},Aze=function(n){Tze(t,n);function t(e){return n.call(this,e)||this}return t.prototype.getAxes=function(e){var r=[{type:this.getXAxisType(e),position:"bottom"},{type:"number",position:"left"}];if(this.isNormalised()){var i=r[1];i.label=GO(GO({},i.label),{formatter:function(o){return Math.round(o.value)+"%"}})}return r},t.prototype.getSeries=function(e){var r=this,i=Pze(e.categories,1),o=i[0],a=e.fields.map(function(s){return{type:r.standaloneChartType,xKey:o.id,xName:o.name,yKey:s.colId,yName:s.displayName,normalizedTo:r.chartType==="normalizedArea"?100:void 0,stacked:["normalizedArea","stackedArea"].includes(r.chartType)}});return this.crossFiltering?this.extractLineAreaCrossFilterSeries(a,e):a},t.prototype.isNormalised=function(){return!this.crossFiltering&&this.chartType==="normalizedArea"},t}(xp),Dze=function(){var n=function(t,e){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])},n(t,e)};return function(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");n(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}}(),Mze=function(n,t){var e=typeof Symbol=="function"&&n[Symbol.iterator];if(!e)return n;var r=e.call(n),i,o=[],a;try{for(;(t===void 0||t-- >0)&&!(i=r.next()).done;)o.push(i.value)}catch(s){a={error:s}}finally{try{i&&!i.done&&(e=r.return)&&e.call(r)}finally{if(a)throw a.error}}return o},Lze=function(n){Dze(t,n);function t(e){return n.call(this,e)||this}return t.prototype.getAxes=function(e){return[{type:this.getXAxisType(e),position:"bottom"},{type:"number",position:"left"}]},t.prototype.getSeries=function(e){var r=this,i=Mze(e.categories,1),o=i[0],a=e.fields.map(function(s){return{type:r.standaloneChartType,xKey:o.id,xName:o.name,yKey:s.colId,yName:s.displayName}});return this.crossFiltering?this.extractLineAreaCrossFilterSeries(a,e):a},t}(xp),Fze=function(){var n=function(t,e){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])},n(t,e)};return function(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");n(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}}(),VO=function(){return VO=Object.assign||function(n){for(var t,e=1,r=arguments.length;e<r;e++){t=arguments[e];for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(n[i]=t[i])}return n},VO.apply(this,arguments)},r5=function(n,t){var e=typeof Symbol=="function"&&n[Symbol.iterator];if(!e)return n;var r=e.call(n),i,o=[],a;try{for(;(t===void 0||t-- >0)&&!(i=r.next()).done;)o.push(i.value)}catch(s){a={error:s}}finally{try{i&&!i.done&&(e=r.return)&&e.call(r)}finally{if(a)throw a.error}}return o},Ize=function(n){Fze(t,n);function t(e){return n.call(this,e)||this}return t.prototype.getAxes=function(e){var r=this.standaloneChartType==="radial-bar";return[{type:r?"angle-number":"angle-category"},{type:r?"radius-category":"radius-number"}]},t.prototype.getSeries=function(e){var r=this,i=e.fields,o=r5(e.categories,1),a=o[0],s=this.standaloneChartType==="radial-bar";return i.map(function(l){var u,c;return{type:r.standaloneChartType,angleKey:s?l.colId:a.id,angleName:s?(u=l.displayName)!==null&&u!==void 0?u:void 0:a.name,radiusKey:s?a.id:l.colId,radiusName:s?a.name:(c=l.displayName)!==null&&c!==void 0?c:void 0}})},t.prototype.update=function(e){var r=this.getAxes(e),i=VO(VO({},this.getCommonChartOptions(e.updatedOverrides)),{data:this.getData(e,r),axes:r,series:this.getSeries(e)});Wu.update(this.getChartRef(),i)},t.prototype.getData=function(e,r){var i=r.some(function(o){return o.type==="angle-category"||o.type==="radius-category"});return this.getDataTransformedData(e,i)},t.prototype.getDataTransformedData=function(e,r){var i=r5(e.categories,1),o=i[0];return this.transformData(e.data,o.id,r)},t.prototype.crossFilteringReset=function(){},t}(y0),Nze=function(){var n=function(t,e){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])},n(t,e)};return function(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");n(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}}(),Ra=function(){return Ra=Object.assign||function(n){for(var t,e=1,r=arguments.length;e<r;e++){t=arguments[e];for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(n[i]=t[i])}return n},Ra.apply(this,arguments)},n5=function(n,t){var e=typeof Symbol=="function"&&n[Symbol.iterator];if(!e)return n;var r=e.call(n),i,o=[],a;try{for(;(t===void 0||t-- >0)&&!(i=r.next()).done;)o.push(i.value)}catch(s){a={error:s}}finally{try{i&&!i.done&&(e=r.return)&&e.call(r)}finally{if(a)throw a.error}}return o},kze=function(n){Nze(t,n);function t(e){return n.call(this,e)||this}return t.prototype.update=function(e){var r=e.data,i=n5(e.categories,1),o=i[0],a=Ra(Ra({},this.getCommonChartOptions(e.updatedOverrides)),{data:this.crossFiltering?this.getCrossFilterData(e):this.transformData(r,o.id),series:this.getSeries(e)});Wu.update(this.getChartRef(),a)},t.prototype.getSeries=function(e){var r=this,i=n5(e.categories,1),o=i[0],a=e.fields.length,s={currentOffset:0,offsetAmount:a>1?20:40},l=this.getFields(e).map(function(u){var c,d={type:r.standaloneChartType,angleKey:u.colId,angleName:u.displayName,sectorLabelKey:u.colId,calloutLabelName:o.name,calloutLabelKey:o.id};if(r.chartType==="donut"||r.chartType==="doughnut"){var p=t.calculateOffsets(s),h=p.outerRadiusOffset,f=p.innerRadiusOffset,v=u.displayName?{title:{text:u.displayName,showInLegend:a>1}}:void 0;return Ra(Ra(Ra(Ra({},d),{type:"donut",outerRadiusOffset:h,innerRadiusOffset:f}),v),{calloutLine:{colors:(c=r.getChartPalette())===null||c===void 0?void 0:c.strokes}})}return d});return this.crossFiltering?this.extractCrossFilterSeries(l):l},t.prototype.getCrossFilterData=function(e){var r=e.fields[0].colId,i="".concat(r,"-filtered-out");return e.data.map(function(o){var a=o[r]+o[i];return o["".concat(r,"-total")]=a,o[i]=1,o[r]=o[r]/a,o})},t.prototype.extractCrossFilterSeries=function(e){var r=this,i=this.getChartPalette(),o=function(c){return Ra(Ra({},c),{legendItemKey:c.calloutLabelKey,calloutLabel:{enabled:!1},highlightStyle:{item:{fill:void 0}},radiusKey:c.angleKey,angleKey:c.angleKey+"-total",radiusMin:0,radiusMax:1,listeners:{nodeClick:r.crossFilterCallback}})},a=function(c,d){var p,h;return Ra(Ra({},jd({},u)),{radiusKey:d+"-filtered-out",fills:t5((p=c.fills)!==null&&p!==void 0?p:i.fills,.3),strokes:t5((h=c.strokes)!==null&&h!==void 0?h:i.strokes,.3),showInLegend:!1})},s=e[0],l=s.angleKey,u=o(s);return[a(s,l),u]},t.calculateOffsets=function(e){var r=e.currentOffset;e.currentOffset-=e.offsetAmount;var i=e.currentOffset;return e.currentOffset-=e.offsetAmount,{outerRadiusOffset:r,innerRadiusOffset:i}},t.prototype.getFields=function(e){return this.chartType==="pie"?e.fields.slice(0,1):e.fields},t.prototype.crossFilteringReset=function(){},t}(y0),Gze=function(){var n=function(t,e){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])},n(t,e)};return function(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");n(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}}(),Sn=function(){return Sn=Object.assign||function(n){for(var t,e=1,r=arguments.length;e<r;e++){t=arguments[e];for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(n[i]=t[i])}return n},Sn.apply(this,arguments)},pM=function(n,t){var e=typeof Symbol=="function"&&n[Symbol.iterator];if(!e)return n;var r=e.call(n),i,o=[],a;try{for(;(t===void 0||t-- >0)&&!(i=r.next()).done;)o.push(i.value)}catch(s){a={error:s}}finally{try{i&&!i.done&&(e=r.return)&&e.call(r)}finally{if(a)throw a.error}}return o},Vze=function(n){var t=typeof Symbol=="function"&&Symbol.iterator,e=t&&n[t],r=0;if(e)return e.call(n);if(n&&typeof n.length=="number")return{next:function(){return n&&r>=n.length&&(n=void 0),{value:n&&n[r++],done:!n}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")},i5=function(n,t,e){if(e||arguments.length===2)for(var r=0,i=t.length,o;r<i;r++)(o||!(r in t))&&(o||(o=Array.prototype.slice.call(t,0,r)),o[r]=t[r]);return n.concat(o||Array.prototype.slice.call(t))},Bze=function(n){Gze(t,n);function t(e){return n.call(this,e)||this}return t.prototype.getAxes=function(e){return[{type:"number",position:"bottom"},{type:"number",position:"left"}]},t.prototype.getSeries=function(e){var r=pM(e.categories,1),i=r[0],o=this.isPaired(),a=this.getSeriesDefinitions(e.fields,o),s=i.id===pw.DEFAULT_CATEGORY?void 0:i,l=a.map(function(u){var c,d,p,h,f;if(u!=null&&u.sizeField){var v={type:"bubble",xKey:u.xField.colId,xName:(c=u.xField.displayName)!==null&&c!==void 0?c:void 0,yKey:u.yField.colId,yName:(d=u.yField.displayName)!==null&&d!==void 0?d:void 0,title:"".concat(u.yField.displayName," vs ").concat(u.xField.displayName),sizeKey:u.sizeField.colId,sizeName:(p=u.sizeField.displayName)!==null&&p!==void 0?p:"",labelKey:s?s.id:u.yField.colId,labelName:s?s.name:void 0};return v}var g={type:"scatter",xKey:u.xField.colId,xName:(h=u.xField.displayName)!==null&&h!==void 0?h:void 0,yKey:u.yField.colId,yName:(f=u.yField.displayName)!==null&&f!==void 0?f:void 0,title:"".concat(u.yField.displayName," vs ").concat(u.xField.displayName),labelKey:s?s.id:u.yField.colId,labelName:s?s.name:void 0};return g});return this.crossFiltering?this.extractCrossFilterSeries(l,e):l},t.prototype.extractCrossFilterSeries=function(e,r){var i=this,o=r.data,a=this.getChartPalette(),s=function(p){return"".concat(p,"-filtered-out")},l=function(p,h){var f,v,g,y=[1/0,-1/0];if(h!=null)try{for(var m=Vze(p),C=m.next();!C.done;C=m.next()){var S=C.value,w=(g=S[h])!==null&&g!==void 0?g:S[s(h)];w<y[0]&&(y[0]=w),w>y[1]&&(y[1]=w)}}catch(_){f={error:_}}finally{try{C&&!C.done&&(v=m.return)&&v.call(m)}finally{if(f)throw f.error}}if(y[0]<=y[1])return y},u=function(p,h){var f=a==null?void 0:a.fills[h],v=a==null?void 0:a.strokes[h],g=void 0;if(p.type==="bubble"){var y=p.sizeKey;g=l(o,y)}var m=Sn(Sn({},p.marker),{fill:f,stroke:v,domain:g});return Sn(Sn({},p),{marker:m,highlightStyle:{item:{fill:"yellow"}},listeners:Sn(Sn({},p.listeners),{nodeClick:i.crossFilterCallback})})},c=function(p){var h=p.yKey,f=p.xKey,v={};return p.type==="bubble"&&(v={sizeKey:s(p.sizeKey)}),Sn(Sn(Sn({},p),v),{yKey:s(h),xKey:s(f),marker:Sn(Sn({},p.marker),{fillOpacity:.3,strokeOpacity:.3}),showInLegend:!1,listeners:Sn(Sn({},p.listeners),{nodeClick:function(g){var y,m=g.datum[s(f)],C=Sn(Sn({},g),{xKey:f,datum:Sn(Sn({},g.datum),(y={},y[f]=m,y))});i.crossFilterCallback(C)}})})},d=e.map(u);return i5(i5([],pM(d),!1),pM(d.map(c)),!1)},t.prototype.getSeriesDefinitions=function(e,r){if(e.length<2)return[];var i=this.chartType==="bubble";if(r)return i?e.map(function(a,s){return s%3===0?{xField:a,yField:e[s+1],sizeField:e[s+2]}:null}).filter(function(a){return a&&a.yField&&a.sizeField}):e.map(function(a,s){return s%2===0?{xField:a,yField:e[s+1]}:null}).filter(function(a){return a&&a.yField});var o=e[0];return i?e.map(function(a,s){return s%2===1?{xField:o,yField:a,sizeField:e[s+1]}:null}).filter(function(a){return a&&a.sizeField}):e.filter(function(a,s){return s>0}).map(function(a){return{xField:o,yField:a}})},t}(xp),Hze=function(){var n=function(t,e){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])},n(t,e)};return function(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");n(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}}(),hM=function(n,t){var e=typeof Symbol=="function"&&n[Symbol.iterator];if(!e)return n;var r=e.call(n),i,o=[],a;try{for(;(t===void 0||t-- >0)&&!(i=r.next()).done;)o.push(i.value)}catch(s){a={error:s}}finally{try{i&&!i.done&&(e=r.return)&&e.call(r)}finally{if(a)throw a.error}}return o},Dte=function(n){Hze(t,n);function t(e){return n.call(this,e)||this}return t.prototype.getAxes=function(e){return[{type:this.getXAxisType(e),position:Uu(this.chartType)?"left":"bottom"},{type:"number",position:Uu(this.chartType)?"bottom":"left"}]},t.prototype.computeSeriesStatistics=function(e,r){var i=e.data,o=e.fields,a=hM(e.categories,1),s=a[0],l=s.id||pw.DEFAULT_CATEGORY,u=this.groupDataByCategory(l,i);return Array.from(u).map(function(c){var d,p=hM(c,2),h=p[0],f=p[1],v=(d={},d[s.id]=h,d);return o.forEach(function(g,y){var m=f.map(function(C){return C[g.colId]}).filter(function(C){return typeof C=="number"&&!isNaN(C)});Object.entries(r(m)).forEach(function(C){var S=hM(C,2),w=S[0],_=S[1],x="".concat(w,":").concat(y);v[x]=m.length>0?_:null})}),v})},t.prototype.groupDataByCategory=function(e,r){var i=function(o){if(e===pw.DEFAULT_CATEGORY)return 1;var a=o[e];return a==null?"":a instanceof Date?a.getTime():a};return r.reduce(function(o,a){var s=i(a),l=o.get(s);return l?l.push(a):o.set(s,[a]),o},new Map)},t}(xp),jze=function(){var n=function(t,e){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])},n(t,e)};return function(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");n(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}}(),fM=function(n,t){var e=typeof Symbol=="function"&&n[Symbol.iterator];if(!e)return n;var r=e.call(n),i,o=[],a;try{for(;(t===void 0||t-- >0)&&!(i=r.next()).done;)o.push(i.value)}catch(s){a={error:s}}finally{try{i&&!i.done&&(e=r.return)&&e.call(r)}finally{if(a)throw a.error}}return o},o5=function(n,t,e){if(e||arguments.length===2)for(var r=0,i=t.length,o;r<i;r++)(o||!(r in t))&&(o||(o=Array.prototype.slice.call(t,0,r)),o[r]=t[r]);return n.concat(o||Array.prototype.slice.call(t))},a5=function(n){jze(t,n);function t(e){return n.call(this,e)||this}return t.prototype.getSeries=function(e){var r=this,i=fM(e.categories,1),o=i[0];return e.fields.map(function(a,s){var l;return{type:r.standaloneChartType,xKey:o.id,xName:o.name,yName:(l=a.displayName)!==null&&l!==void 0?l:void 0,yLowName:"Min",yHighName:"Max",yLowKey:"min:".concat(s),yHighKey:"max:".concat(s)}})},t.prototype.getData=function(e){return this.computeSeriesStatistics(e,function(r){return{min:Math.min.apply(Math,o5([],fM(r),!1)),max:Math.max.apply(Math,o5([],fM(r),!1))}})},t}(Dte),$ze=function(){var n=function(t,e){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])},n(t,e)};return function(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");n(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}}(),Wze=function(n){$ze(t,n);function t(e){return n.call(this,e)||this}return t.prototype.getSeries=function(e){var r=e.fields[0];return[{type:this.standaloneChartType,xKey:r.colId,xName:r.displayName,yName:this.chartProxyParams.translate("histogramFrequency"),areaPlot:!1}]},t.prototype.getAxes=function(e){return[{type:"number",position:"bottom"},{type:"number",position:"left"}]},t}(xp),Uze=function(){var n=function(t,e){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])},n(t,e)};return function(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");n(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}}(),zze=function(n,t){var e=typeof Symbol=="function"&&n[Symbol.iterator];if(!e)return n;var r=e.call(n),i,o=[],a;try{for(;(t===void 0||t-- >0)&&!(i=r.next()).done;)o.push(i.value)}catch(s){a={error:s}}finally{try{i&&!i.done&&(e=r.return)&&e.call(r)}finally{if(a)throw a.error}}return o},Kze=function(n){Uze(t,n);function t(e){return n.call(this,e)||this}return t.prototype.getSeries=function(e){var r=this,i=zze(e.categories,1),o=i[0];return e.fields.map(function(a,s){var l;return{type:r.standaloneChartType,direction:Uu(r.chartType)?"horizontal":"vertical",xKey:o.id,xName:o.name,yName:(l=a.displayName)!==null&&l!==void 0?l:void 0,minName:"Min",q1Name:"Q1",medianName:"Median",q3Name:"Q3",maxName:"Max",minKey:"min:".concat(s),q1Key:"q1:".concat(s),medianKey:"median:".concat(s),q3Key:"q3:".concat(s),maxKey:"max:".concat(s)}})},t.prototype.getData=function(e){var r=this;return this.computeSeriesStatistics(e,function(i){var o=i.sort(function(a,s){return a-s});return{min:o[0],q1:r.quantile(o,.25),median:r.quantile(o,.5),q3:r.quantile(o,.75),max:o[o.length-1]}})},t.prototype.quantile=function(e,r){var i=(e.length-1)*r,o=Math.floor(i),a=i-o;return e[o+1]!==void 0?e[o]+a*(e[o+1]-e[o]):e[o]},t}(Dte),BO=function(){return BO=Object.assign||function(n){for(var t,e=1,r=arguments.length;e<r;e++){t=arguments[e];for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(n[i]=t[i])}return n},BO.apply(this,arguments)},s5=function(n,t){var e=typeof Symbol=="function"&&n[Symbol.iterator];if(!e)return n;var r=e.call(n),i,o=[],a;try{for(;(t===void 0||t-- >0)&&!(i=r.next()).done;)o.push(i.value)}catch(s){a={error:s}}finally{try{i&&!i.done&&(e=r.return)&&e.call(r)}finally{if(a)throw a.error}}return o},Yze=function(n,t,e){if(e||arguments.length===2)for(var r=0,i=t.length,o;r<i;r++)(o||!(r in t))&&(o||(o=Array.prototype.slice.call(t,0,r)),o[r]=t[r]);return n.concat(o||Array.prototype.slice.call(t))},Xze=function(n){var t=typeof Symbol=="function"&&Symbol.iterator,e=t&&n[t],r=0;if(e)return e.call(n);if(n&&typeof n.length=="number")return{next:function(){return n&&r>=n.length&&(n=void 0),{value:n&&n[r++],done:!n}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")},EE="AG-GRID-DEFAULT-LABEL-KEY";function qze(n,t){var e=Mte(n,r,i);return ZB(e);function r(a){return t.length}function i(a,s){var l=t[s],u=a[l];return o(u)}function o(a){return a==null?null:String(a)}}function Zze(n,t){var e=Mte(n,r,i);return ZB(e);function r(o){var a,s;return(s=(a=t(o))===null||a===void 0?void 0:a.length)!==null&&s!==void 0?s:0}function i(o,a){var s=t(o);if(!s)return null;var l=s.length-1-a;return s[l]}}function ZB(n){var t,e,r=n.depth,i=n.leaves,o=n.children;if(r===0)return i.map(function(h){var f;return BO((f={},f[EE]=null,f),h)});var a=new Array,s=function(h,f){var v;f.depth===0?a.push.apply(a,Yze([],s5(f.leaves.map(function(g){var y;return BO((y={},y[EE]=h,y),g)})),!1)):a.push((v={},v[EE]=h,v.children=ZB(f),v))};try{for(var l=Xze(o.entries()),u=l.next();!u.done;u=l.next()){var c=s5(u.value,2),d=c[0],p=c[1];s(d,p)}}catch(h){t={error:h}}finally{try{u&&!u.done&&(e=l.return)&&e.call(l)}finally{if(t)throw t.error}}return a}function Mte(n,t,e){var r={depth:0,leaves:[],children:new Map};return n.reduce(function(o,a){var s=t(a),l=0;return i(a,s,e,l,o)},r);function i(o,a,s,l,u){if(l===a)return u.leaves.push(o),u;var c=s(o,l),d=u.children.get(c),p=i(o,a,s,l+1,d||{depth:0,leaves:[],children:new Map});return u.children.set(c,p),u.depth=Math.max(1+p.depth,u.depth),u}}var Qze=function(){var n=function(t,e){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])},n(t,e)};return function(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");n(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}}(),HO=function(){return HO=Object.assign||function(n){for(var t,e=1,r=arguments.length;e<r;e++){t=arguments[e];for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(n[i]=t[i])}return n},HO.apply(this,arguments)},Lte=function(n){Qze(t,n);function t(e){var r=n.call(this,e)||this;return r.chartProxyParams=e,r}return t.prototype.update=function(e){var r=HO(HO({},this.getCommonChartOptions(e.updatedOverrides)),{series:this.getSeries(e,EE),data:this.getData(e)});Wu.update(this.getChartRef(),r)},t.prototype.getData=function(e){var r=e.categories,i=e.data,o=e.grouping;if(o)return Zze(i,Jze);var a=r.map(function(s){var l=s.id;return l});return qze(i,a)},t}(y0);function Jze(n){var t,e;return(e=(t=n[ic])===null||t===void 0?void 0:t.labels)!==null&&e!==void 0?e:null}var e5e=function(){var n=function(t,e){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])},n(t,e)};return function(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");n(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}}(),t5e=function(n,t){var e=typeof Symbol=="function"&&n[Symbol.iterator];if(!e)return n;var r=e.call(n),i,o=[],a;try{for(;(t===void 0||t-- >0)&&!(i=r.next()).done;)o.push(i.value)}catch(s){a={error:s}}finally{try{i&&!i.done&&(e=r.return)&&e.call(r)}finally{if(a)throw a.error}}return o},r5e=function(n){e5e(t,n);function t(e){return n.call(this,e)||this}return t.prototype.getSeries=function(e,r){var i,o,a=e.fields,s=t5e(a,2),l=s[0],u=s[1];return[{type:this.standaloneChartType,labelKey:r,sizeKey:l==null?void 0:l.colId,sizeName:(i=l==null?void 0:l.displayName)!==null&&i!==void 0?i:void 0,colorKey:u==null?void 0:u.colId,colorName:(o=u==null?void 0:u.displayName)!==null&&o!==void 0?o:void 0}]},t.prototype.getChartThemeDefaults=function(){return{treemap:{gradientLegend:{gradient:{preferredLength:200}}}}},t.prototype.transformData=function(e,r,i){return e},t.prototype.crossFilteringReset=function(){},t}(Lte),n5e=function(){var n=function(t,e){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])},n(t,e)};return function(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");n(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}}(),i5e=function(n,t){var e=typeof Symbol=="function"&&n[Symbol.iterator];if(!e)return n;var r=e.call(n),i,o=[],a;try{for(;(t===void 0||t-- >0)&&!(i=r.next()).done;)o.push(i.value)}catch(s){a={error:s}}finally{try{i&&!i.done&&(e=r.return)&&e.call(r)}finally{if(a)throw a.error}}return o},o5e=function(n){n5e(t,n);function t(e){return n.call(this,e)||this}return t.prototype.getSeries=function(e,r){var i,o,a=e.fields,s=i5e(a,2),l=s[0],u=s[1];return[{type:this.standaloneChartType,labelKey:r,sizeKey:l==null?void 0:l.colId,sizeName:(i=l==null?void 0:l.displayName)!==null&&i!==void 0?i:void 0,colorKey:u==null?void 0:u.colId,colorName:(o=u==null?void 0:u.displayName)!==null&&o!==void 0?o:void 0}]},t.prototype.getChartThemeDefaults=function(){return{sunburst:{gradientLegend:{gradient:{preferredLength:200}}}}},t.prototype.transformData=function(e,r,i){return e},t.prototype.crossFilteringReset=function(){},t}(Lte);function Fte(n,t){return n.reduce(function(e,r,i,o){return e.concat(t(r,i,o))},new Array)}var a5e=function(){var n=function(t,e){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])},n(t,e)};return function(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");n(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}}(),Gv=function(){return Gv=Object.assign||function(n){for(var t,e=1,r=arguments.length;e<r;e++){t=arguments[e];for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(n[i]=t[i])}return n},Gv.apply(this,arguments)},l5=function(n,t){var e=typeof Symbol=="function"&&n[Symbol.iterator];if(!e)return n;var r=e.call(n),i,o=[],a;try{for(;(t===void 0||t-- >0)&&!(i=r.next()).done;)o.push(i.value)}catch(s){a={error:s}}finally{try{i&&!i.done&&(e=r.return)&&e.call(r)}finally{if(a)throw a.error}}return o},s5e="AG-GRID-DEFAULT-HEATMAP-CATEGORY-KEY",l5e="AG-GRID-DEFAULT-HEATMAP-SERIES-KEY",u5e="AG-GRID-DEFAULT-HEATMAP-VALUE-KEY",c5e=function(n){a5e(t,n);function t(e){return n.call(this,e)||this}return t.prototype.update=function(e){var r=l5e,i=u5e,o=s5e,a=Gv(Gv({},this.getCommonChartOptions(e.updatedOverrides)),{series:this.getSeries(e,r,i,o),data:this.getData(e,r,i,o)});Wu.update(this.getChartRef(),a)},t.prototype.getSeries=function(e,r,i,o){var a=l5(e.categories,1),s=a[0];return[{type:this.standaloneChartType,yKey:o,xKey:r,colorKey:i,yName:s.name,xName:void 0,colorName:void 0}]},t.prototype.getData=function(e,r,i,o){var a=l5(e.categories,1),s=a[0];return Fte(e.data,function(l,u){var c=l[s.id],d=c==null?"":String(c),p={id:u,value:c,toString:function(){return d}};return e.fields.map(function(h){var f,v=h.colId,g=h.displayName;return Gv(Gv({},l),(f={},f[r]=g,f[i]=l[v],f[o]=p,f))})})},t.prototype.getChartThemeDefaults=function(){return{heatmap:{gradientLegend:{gradient:{preferredLength:200}},series:{tooltip:{renderer:d5e}}}}},t.prototype.transformData=function(e,r,i){return e},t.prototype.crossFilteringReset=function(){},t}(y0);function d5e(n){var t=n.xKey,e=n.yKey,r=n.colorKey,i=n.yName,o=n.seriesId,a=n.datum,s=a[o],l=[{label:i,value:s[e]},{label:s[t],value:r&&s[r]}],u=l.map(function(c){var d=c.label,p=c.value;return"<b>".concat(u5(String(d)),":</b> ").concat(u5(String(p)))}).join("<br>");return{title:"",content:u}}function u5(n){var t={"&":"&amp;","<":"&lt;",">":"&gt;"},e="[".concat(Object.keys(t).join(""),"]"),r=new RegExp(e,"g");return n.replace(r,function(i){return t[i]})}var p5e=function(){var n=function(t,e){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])},n(t,e)};return function(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");n(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}}(),c5=function(n,t){var e=typeof Symbol=="function"&&n[Symbol.iterator];if(!e)return n;var r=e.call(n),i,o=[],a;try{for(;(t===void 0||t-- >0)&&!(i=r.next()).done;)o.push(i.value)}catch(s){a={error:s}}finally{try{i&&!i.done&&(e=r.return)&&e.call(r)}finally{if(a)throw a.error}}return o},h5e=function(n){p5e(t,n);function t(e){return n.call(this,e)||this}return t.prototype.getAxes=function(e){return[{type:this.getXAxisType(e),position:Uu(this.chartType)?"left":"bottom"},{type:"number",position:Uu(this.chartType)?"bottom":"left"}]},t.prototype.getSeries=function(e){var r,i=c5(e.categories,1),o=i[0],a=c5(e.fields,1),s=a[0],l={type:this.standaloneChartType,direction:Uu(this.chartType)?"horizontal":"vertical",xKey:o.id,xName:o.name,yKey:s.colId,yName:(r=s.displayName)!==null&&r!==void 0?r:void 0};return[l]},t}(xp),f5e=function(){var n=function(t,e){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])},n(t,e)};return function(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");n(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}}(),v5e=function(n){var t=typeof Symbol=="function"&&Symbol.iterator,e=t&&n[t],r=0;if(e)return e.call(n);if(n&&typeof n.length=="number")return{next:function(){return n&&r>=n.length&&(n=void 0),{value:n&&n[r++],done:!n}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")},g5e=function(n){f5e(t,n);function t(e){var r=n.call(this)||this;return r.chartController=e,r}return t.prototype.getChartOption=function(e){return Iv(this.getChart(),e,void 0)},t.prototype.setChartOption=function(e,r,i){var o=this,a=this.chartController.getChartSeriesTypes();this.chartController.isComboChart()&&a.push("common");var s={};a.forEach(function(l){s=jd(s,o.createChartOptions({seriesType:l,expression:e,value:r}))}),i||(this.updateChart(s),this.raiseChartOptionsChangedEvent())},t.prototype.awaitChartOptionUpdate=function(e){var r=this.chartController.getChartProxy().getChart();r.waitForUpdate().then(function(){return e()}).catch(function(i){return console.error("AG Grid - chart update failed",i)})},t.prototype.getAxisProperty=function(e){var r;return Iv((r=this.getChart().axes)===null||r===void 0?void 0:r[0],e,void 0)},t.prototype.setAxisProperty=function(e,r){this.setAxisProperties([{expression:e,value:r}])},t.prototype.setAxisProperties=function(e){var r=this,i=this.getChart(),o=Fte(e,function(a){var s,l=a.expression,u=a.value,c=(s=i.axes)===null||s===void 0?void 0:s.filter(function(d){var p,h,f=l.split("."),v=d;try{for(var g=v5e(f),y=g.next();!y.done;y=g.next()){var m=y.value;if(!(m in v))return!1;v=v[m]}}catch(C){p={error:C}}finally{try{y&&!y.done&&(h=g.return)&&h.call(g)}finally{if(p)throw p.error}}return!0});return c?c.map(function(d){return r.getUpdateAxisOptions(d,l,u)}):[]}).reduce(function(a,s){return jd(a,s)},{});Object.keys(o).length>0&&(this.updateChart(o),this.raiseChartOptionsChangedEvent())},t.prototype.getLabelRotation=function(e){var r=this.getAxis(e);return Iv(r,"label.rotation",void 0)},t.prototype.setLabelRotation=function(e,r){var i=this.getAxis(e);if(i){var o=this.getUpdateAxisOptions(i,"label.rotation",r);this.updateChart(o),this.raiseChartOptionsChangedEvent()}},t.prototype.getSeriesOption=function(e,r,i){var o=this.getChart().series.find(function(a){return t.isMatchingSeries(r,a)});return Iv(i?o:o==null?void 0:o.properties.toJson(),e,void 0)},t.prototype.setSeriesOption=function(e,r,i){var o=this.createChartOptions({seriesType:i,expression:"series.".concat(e),value:r});this.updateChart(o),this.raiseChartOptionsChangedEvent()},t.prototype.getPairedMode=function(){return this.chartController.getChartProxy().isPaired()},t.prototype.setPairedMode=function(e){this.chartController.getChartProxy().setPaired(e)},t.prototype.getAxis=function(e){var r=this.getChart();if(!(!r.axes||r.axes.length<1))return e==="xAxis"?r.axes&&r.axes[0].direction==="x"?r.axes[0]:r.axes[1]:r.axes&&r.axes[1].direction==="y"?r.axes[1]:r.axes[0]},t.prototype.getUpdateAxisOptions=function(e,r,i){var o=this,a=this.chartController.getChartSeriesTypes();this.chartController.isComboChart()&&a.push("common");var s=["number","category","time","grouped-category","angle-category","angle-number","radius-category","radius-number"];return s.includes(e.type)?a.map(function(l){return o.createChartOptions({seriesType:l,expression:"axes.".concat(e.type,".").concat(r),value:i})}).reduce(function(l,u){return jd(l,u)}):{}},t.prototype.getChartType=function(){return this.chartController.getChartType()},t.prototype.getChart=function(){return this.chartController.getChartProxy().getChart()},t.prototype.updateChart=function(e){var r=this.chartController.getChartProxy().getChartRef();r.skipAnimations(),Wu.updateDelta(r,e)},t.prototype.createChartOptions=function(e){var r=e.seriesType,i=e.expression,o=e.value,a={},s={theme:{overrides:a}};return O$e(a,"".concat(r,".").concat(i),o),s},t.prototype.raiseChartOptionsChangedEvent=function(){var e=this.chartController.getChartModel(),r={type:T.EVENT_CHART_OPTIONS_CHANGED,chartId:e.chartId,chartType:e.chartType,chartThemeName:this.chartController.getChartThemeName(),chartOptions:e.chartOptions};this.eventService.dispatchEvent(r)},t.isMatchingSeries=function(e,r){return c$e.includes(e)&&r.type===e},t.prototype.destroy=function(){n.prototype.destroy.call(this)},t}(X),y5e=function(){var n=function(t,e){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])},n(t,e)};return function(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");n(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}}(),UI=function(){return UI=Object.assign||function(n){for(var t,e=1,r=arguments.length;e<r;e++){t=arguments[e];for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(n[i]=t[i])}return n},UI.apply(this,arguments)},m5e=function(n,t){var e=typeof Symbol=="function"&&n[Symbol.iterator];if(!e)return n;var r=e.call(n),i,o=[],a;try{for(;(t===void 0||t-- >0)&&!(i=r.next()).done;)o.push(i.value)}catch(s){a={error:s}}finally{try{i&&!i.done&&(e=r.return)&&e.call(r)}finally{if(a)throw a.error}}return o},C5e=function(n){y5e(t,n);function t(e){return n.call(this,e)||this}return t.prototype.getAxes=function(e){var r=e?e.fields:[],i=new Map(r.map(function(u){return[u.colId,u]})),o=this.getYKeys(r,e.seriesChartTypes),a=o.primaryYKeys,s=o.secondaryYKeys,l=[{type:this.getXAxisType(e),position:"bottom"}];return a.length>0&&l.push({type:"number",keys:a,position:"left"}),s.length>0&&s.forEach(function(u){var c=i.get(u),d=c&&c.colId===u;if(d){var p={type:"number",keys:[u],position:"right"};l.push(p)}}),l},t.prototype.getSeries=function(e){var r=e.fields,i=e.seriesChartTypes,o=m5e(e.categories,1),a=o[0];return r.map(function(s){var l=i.find(function(p){return p.colId===s.colId});if(l){var u=l.chartType,c=["groupedColumn","groupedBar"].includes(u),d=c?{grouped:!0}:{};return UI({type:Is(u),xKey:a.id,yKey:s.colId,yName:s.displayName,stacked:["stackedArea","stackedColumn"].includes(u)},d)}})},t.prototype.getYKeys=function(e,r){var i=[],o=[];return e.forEach(function(a){var s=a.colId,l=r.find(function(u){return u.colId===s});l&&(l.secondaryAxis?o.push(s):i.push(s))}),{primaryYKeys:i,secondaryYKeys:o}},t}(xp),S5e=function(){var n=function(t,e){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])},n(t,e)};return function(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");n(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}}(),dl=function(n,t,e,r){var i=arguments.length,o=i<3?t:r===null?r=Object.getOwnPropertyDescriptor(t,e):r,a;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(n,t,e,r);else for(var s=n.length-1;s>=0;s--)(a=n[s])&&(o=(i<3?a(o):i>3?a(t,e,o):a(t,e))||o);return i>3&&o&&Object.defineProperty(t,e,o),o},w5e=function(n,t){var e=typeof Symbol=="function"&&n[Symbol.iterator];if(!e)return n;var r=e.call(n),i,o=[],a;try{for(;(t===void 0||t-- >0)&&!(i=r.next()).done;)o.push(i.value)}catch(s){a={error:s}}finally{try{i&&!i.done&&(e=r.return)&&e.call(r)}finally{if(a)throw a.error}}return o},d5=function(n){S5e(t,n);function t(e){var r=n.call(this,t.TEMPLATE)||this;return r.params=e,r}return t.prototype.init=function(){var e=this,r={chartId:this.params.chartId,pivotChart:this.params.pivotChart,chartType:uw(this.params.chartType),chartThemeName:this.getThemeName(),aggFunc:this.params.aggFunc,cellRange:this.params.cellRange,suppressChartRanges:this.params.suppressChartRanges,unlinkChart:this.params.unlinkChart,crossFiltering:this.params.crossFiltering,seriesChartTypes:this.params.seriesChartTypes},i=this.gridOptionsService.get("enableRtl");this.addCssClass(i?"ag-rtl":"ag-ltr");var o=this.createBean(new pw(r));this.chartController=this.createManagedBean(new js(o)),this.validateCustomThemes(),this.createChart(),this.params.insideDialog&&this.addDialog(),this.addMenu(),this.addTitleEditComp(),this.addManagedListener(this.getGui(),"focusin",this.setActiveChartCellRange.bind(this)),this.addManagedListener(this.chartController,js.EVENT_CHART_MODEL_UPDATE,this.update.bind(this)),this.addManagedPropertyListeners(["chartThemeOverrides","chartThemes"],this.reactivePropertyUpdate.bind(this)),this.chartMenu&&this.addManagedListener(this.chartMenu,Zz.EVENT_DOWNLOAD_CHART,function(){return e.downloadChart()}),this.update(),this.raiseChartCreatedEvent()},t.prototype.createChart=function(){var e=this,r=void 0;this.chartProxy&&(r=this.chartProxy.destroy({keepChartInstance:!0}));var i=function(l,u){var c=e.params.crossFilteringContext;c.lastSelectedChartId=u?"":e.chartController.getChartId(),u&&e.params.crossFilteringResetCallback(),e.crossFilterService.filter(l,u)},o=this.chartController.getChartType(),a={chartType:o,chartInstance:r,getChartThemeName:this.getChartThemeName.bind(this),getChartThemes:this.getChartThemes.bind(this),customChartThemes:this.gridOptionsService.get("customChartThemes"),getGridOptionsChartThemeOverrides:function(){return e.getGridOptionsChartThemeOverrides()},getExtraPaddingDirections:function(){var l,u;return(u=(l=e.chartMenu)===null||l===void 0?void 0:l.getExtraPaddingDirections())!==null&&u!==void 0?u:[]},apiChartThemeOverrides:this.params.chartThemeOverrides,crossFiltering:this.params.crossFiltering,crossFilterCallback:i,parentElement:this.eChart,grouping:this.chartController.isGrouping(),chartThemeToRestore:this.params.chartThemeName,chartOptionsToRestore:this.params.chartOptionsToRestore,chartPaletteToRestore:this.params.chartPaletteToRestore,seriesChartTypes:this.chartController.getSeriesChartTypes(),translate:function(l,u){return e.chartTranslationService.translate(l,u)}};if(this.params.chartOptionsToRestore=void 0,this.chartType=o,this.chartProxy=t.createChartProxy(a),!this.chartProxy){console.warn("AG Grid: invalid chart type supplied: ",a.chartType);return}var s=this.eChart.querySelector("canvas");s&&s.classList.add("ag-charts-canvas"),this.chartController.setChartProxy(this.chartProxy),this.chartOptionsService=this.createBean(new g5e(this.chartController)),this.titleEdit&&this.titleEdit.refreshTitle(this.chartController,this.chartOptionsService)},t.prototype.getChartThemeName=function(){return this.chartController.getChartThemeName()},t.prototype.getChartThemes=function(){return this.chartController.getThemeNames()},t.prototype.getGridOptionsChartThemeOverrides=function(){return this.gridOptionsService.get("chartThemeOverrides")},t.createChartProxy=function(e){switch(e.chartType){case"column":case"bar":case"groupedColumn":case"stackedColumn":case"normalizedColumn":case"groupedBar":case"stackedBar":case"normalizedBar":return new Rze(e);case"pie":case"donut":case"doughnut":return new kze(e);case"area":case"stackedArea":case"normalizedArea":return new Aze(e);case"line":return new Lze(e);case"scatter":case"bubble":return new Bze(e);case"histogram":return new Wze(e);case"radarLine":case"radarArea":case"nightingale":case"radialColumn":case"radialBar":return new Ize(e);case"rangeBar":return new a5(e);case"rangeArea":return new a5(e);case"boxPlot":return new Kze(e);case"treemap":return new r5e(e);case"sunburst":return new o5e(e);case"heatmap":return new c5e(e);case"waterfall":return new h5e(e);case"columnLineCombo":case"areaColumnCombo":case"customCombo":return new C5e(e);default:throw"AG Grid: Unable to create chart as an invalid chartType = '".concat(e.chartType,"' was supplied.")}},t.prototype.addDialog=function(){var e=this,r=this.chartTranslationService.translate(this.params.pivotChart?"pivotChartTitle":"rangeChartTitle"),i=this.getBestDialogSize(),o=i.width,a=i.height;this.chartDialog=new rf({resizable:!0,movable:!0,maximizable:!0,title:r,width:o,height:a,component:this,centered:!0,closable:!0}),this.getContext().createBean(this.chartDialog),this.chartDialog.addEventListener(rf.EVENT_DESTROYED,function(){return e.destroy()})},t.prototype.getBestDialogSize=function(){var e=this.popupService.getPopupParent(),r=A.getAbsoluteWidth(e)*.75,i=A.getAbsoluteHeight(e)*.75,o=.553,a=this.chartProxy.getChart(),s=this.params.insideDialog?850:a.width,l=this.params.insideDialog?470:a.height;return(s>r||l>i)&&(s=Math.min(s,r),l=Math.round(s*o),l>i&&(l=i,s=Math.min(s,Math.round(l/o)))),{width:s,height:l}},t.prototype.addMenu=function(){this.params.crossFiltering||(this.chartMenu=this.createBean(new Zz(this.eChartContainer,this.eMenuContainer,this.chartController,this.chartOptionsService)),this.eChartContainer.appendChild(this.chartMenu.getGui()))},t.prototype.addTitleEditComp=function(){this.titleEdit=this.createBean(new vze(this.chartMenu)),this.eTitleEditContainer.appendChild(this.titleEdit.getGui()),this.chartProxy&&this.titleEdit.refreshTitle(this.chartController,this.chartOptionsService)},t.prototype.update=function(e){var r=this;if(e!=null&&e.chartId){var i=this.chartController.update(e);if(!i)return}var o=this.chartTypeChanged(e);o&&this.createChart(),this.updateChart(e==null?void 0:e.chartThemeOverrides),e!=null&&e.chartId&&this.chartProxy.getChart().waitForUpdate().then(function(){r.chartController.raiseChartApiUpdateEvent()})},t.prototype.updateChart=function(e){var r=this,i=this.chartProxy,o=this.chartController.getSelectedValueColState(),a=o.map(function(c){return{colId:c.colId,displayName:c.displayName}}),s=this.chartController.getChartData(),l=this.handleEmptyChart(s,a);if(!l){var u=this.chartController.getChartUpdateParams(e);i.update(u),this.chartProxy.getChart().waitForUpdate().then(function(){r.chartController.raiseChartUpdatedEvent()}),this.titleEdit.refreshTitle(this.chartController,this.chartOptionsService)}},t.prototype.chartTypeChanged=function(e){var r=w5e([this.chartController.getChartType(),e==null?void 0:e.chartType],2),i=r[0],o=r[1];return this.chartType!==i||!!o&&this.chartType!==uw(o)},t.prototype.getChartModel=function(){return this.chartController.getChartModel()},t.prototype.getChartImageDataURL=function(e){return this.chartProxy.getChartImageDataURL(e)},t.prototype.handleEmptyChart=function(e,r){var i=this.chartController.isPivotChart()&&!this.chartController.isPivotMode(),o=this.chartController.getChartType(),a=1;this.chartController.isActiveXYChart()?a=o==="bubble"?3:2:xd(o)&&(a=0);var s=r.length<a||e.length===0;if(this.eChart){var l=i||s;A.setDisplayed(this.eChart,!l),A.setDisplayed(this.eEmpty,l)}return i?(this.eEmpty.innerText=this.chartTranslationService.translate("pivotChartRequiresPivotMode"),!0):s?(this.eEmpty.innerText=this.chartTranslationService.translate("noDataToChart"),!0):!1},t.prototype.downloadChart=function(e,r,i){this.chartProxy.downloadChart(e,r,i)},t.prototype.openChartToolPanel=function(e){var r=e&&MC[e];this.chartMenu.showMenu(r)},t.prototype.closeChartToolPanel=function(){this.chartMenu.hideMenu()},t.prototype.getChartId=function(){return this.chartController.getChartId()},t.prototype.getUnderlyingChart=function(){return this.chartProxy.getChartRef()},t.prototype.crossFilteringReset=function(){this.chartProxy.crossFilteringReset()},t.prototype.setActiveChartCellRange=function(e){this.getGui().contains(e.relatedTarget)||(this.chartController.setChartRange(!0),this.gridApi.focusService.clearFocusedCell())},t.prototype.getThemeName=function(){var e=this.gridOptionsService.get("chartThemes")||Ete;if(e.length===0)throw new Error("Cannot create chart: no chart themes available.");var r=this.params.chartThemeName;return A.includes(e,r)?r:e[0]},t.prototype.getAllKeysInObjects=function(e){var r={};return e.filter(function(i){return i!=null}).forEach(function(i){Object.keys(i).forEach(function(o){return r[o]=null})}),Object.keys(r)},t.prototype.validateCustomThemes=function(){var e=this.getChartThemes(),r=this.gridOptionsService.get("customChartThemes");r&&this.getAllKeysInObjects([r]).forEach(function(i){A.includes(e,i)||console.warn("AG Grid: a custom chart theme with the name '"+i+"' has been supplied but not added to the 'chartThemes' list")})},t.prototype.reactivePropertyUpdate=function(){this.chartController.setChartThemeName(this.getThemeName(),!0);var e=this.getChartId(),r=this.chartController.isCrossFilterChart()?"crossFilter":this.getChartModel().modelType,i=this.gridOptionsService.get("chartThemeOverrides")||{};this.update({type:"".concat(r,"ChartUpdate"),chartId:e,chartThemeOverrides:i})},t.prototype.raiseChartCreatedEvent=function(){var e=this,r={type:T.EVENT_CHART_CREATED,chartId:this.chartController.getChartId()};this.chartProxy.getChart().waitForUpdate().then(function(){e.eventService.dispatchEvent(r)})},t.prototype.raiseChartDestroyedEvent=function(){var e={type:T.EVENT_CHART_DESTROYED,chartId:this.chartController.getChartId()};this.eventService.dispatchEvent(e)},t.prototype.destroy=function(){var e;n.prototype.destroy.call(this),this.chartProxy&&this.chartProxy.destroy(),this.destroyBean(this.chartMenu),this.destroyBean(this.titleEdit),this.chartDialog&&this.chartDialog.isAlive()&&this.destroyBean(this.chartDialog),(e=this.onDestroyColorSchemeChangeListener)===null||e===void 0||e.call(this);var r=this.getGui();A.clearElement(r),A.removeFromParent(r),this.raiseChartDestroyedEvent()},t.TEMPLATE=`<div class="ag-chart" tabindex="-1">
            <div ref="eChartContainer" tabindex="-1" class="ag-chart-components-wrapper">
                <div ref="eChart" class="ag-chart-canvas-wrapper"></div>
                <div ref="eEmpty" class="ag-chart-empty-text ag-unselectable"></div>
            </div>
            <div ref="eTitleEditContainer"></div>
            <div ref="eMenuContainer" class="ag-chart-docked-container" style="min-width: 0px;"></div>
        </div>`,dl([j("eChart")],t.prototype,"eChart",void 0),dl([j("eChartContainer")],t.prototype,"eChartContainer",void 0),dl([j("eMenuContainer")],t.prototype,"eMenuContainer",void 0),dl([j("eEmpty")],t.prototype,"eEmpty",void 0),dl([j("eTitleEditContainer")],t.prototype,"eTitleEditContainer",void 0),dl([E("chartCrossFilterService")],t.prototype,"crossFilterService",void 0),dl([E("chartTranslationService")],t.prototype,"chartTranslationService",void 0),dl([E("gridApi")],t.prototype,"gridApi",void 0),dl([E("popupService")],t.prototype,"popupService",void 0),dl([z],t.prototype,"init",null),t}(ae),hw="31.1.1",fr=function(){return fr=Object.assign||function(n){for(var t,e=1,r=arguments.length;e<r;e++){t=arguments[e];for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(n[i]=t[i])}return n},fr.apply(this,arguments)},$d=function(n,t){var e={};for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&t.indexOf(r)<0&&(e[r]=n[r]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(n);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(n,r[i])&&(e[r[i]]=n[r[i]]);return e},p5=function(n,t){var e=typeof Symbol=="function"&&n[Symbol.iterator];if(!e)return n;var r=e.call(n),i,o=[],a;try{for(;(t===void 0||t-- >0)&&!(i=r.next()).done;)o.push(i.value)}catch(s){a={error:s}}finally{try{i&&!i.done&&(e=r.return)&&e.call(r)}finally{if(a)throw a.error}}return o},_5e=function(n){var t=typeof Symbol=="function"&&Symbol.iterator,e=t&&n[t],r=0;if(e)return e.call(n);if(n&&typeof n.length=="number")return{next:function(){return n&&r>=n.length&&(n=void 0),{value:n&&n[r++],done:!n}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")};function x5e(n){return n.version,n.version==null&&(n.version=N5e(n)),n=Qi("23.0.0",n,E5e),n=Qi("24.0.0",n,b5e),n=Qi("25.1.0",n,O5e),n=Qi("26.0.0",n,R5e),n=Qi("26.1.0",n,T5e),n=Qi("26.2.0",n,P5e),n=Qi("28.0.0",n,A5e),n=Qi("28.2.0",n,D5e),n=Qi("29.0.0",n,M5e),n=Qi("29.1.0",n,Ite),n=Qi("29.2.0",n,Nte),n=Qi("30.0.0",n,L5e),n=Qi("31.0.0",n,F5e),n=I5e(n),n=Qi(hw,n,function(t){return t}),n}function E5e(n){return n=Pi("chartOptions.legend.item.marker.type","shape",n),n=Pi("chartOptions.seriesDefaults.marker.type","shape",n),n=Pi("chartOptions.legend.padding","spacing",n),n}function b5e(n){var t;n=mi("chartOptions.seriesDefaults.marker.minSize",n);var e=n,r=e.chartType,i=e.chartPalette,o=e.chartOptions,a=o.xAxis,s=o.yAxis,l=$d(o,["xAxis","yAxis"]),u=$d(e,["chartType","chartPalette","chartOptions"]),c=g$e(r),d=c==null?void 0:c.map(function(h,f){return fr({type:h},f===0?a:s)}),p={borneo:"ag-default",material:"ag-material",bright:"ag-vivid"};return fr({chartType:r,chartThemeName:(t=p[i])!==null&&t!==void 0?t:"ag-default",chartOptions:fr(fr({},l),{axes:d,xAxis:a,yAxis:s})},u)}function O5e(n){return n=Pi("chartOptions.seriesDefaults.label.minRequiredAngle","minAngle",n),n}function R5e(n){var t=function(e){var r=e.dimOpacity,i=$d(e,["dimOpacity"]);return fr(fr({},i),r!=null?{series:{dimOpacity:r}}:{})};return n=Vu("chartOptions.seriesDefaults.highlightStyle",n,t),n=mi("chart",n),n=mi("chartOptions.seriesDefaults.tooltipClass",n),n=mi("chartOptions.seriesDefaults.tooltipTracking",n),n=f5("chartOptions.axes[].label.rotation",0,n),n=f5("chartOptions.axes[].label.rotation",335,n),n}function T5e(n){var t=function(e){var r=e.item,i=e.series,o=$d(e,["item","series"]);return fr({item:fr(fr({},o),r)},i?{series:i}:{})};return n=Vu("chartOptions.seriesDefaults.highlightStyle",n,t),n=Vu("chartOptions.series[].highlightStyle",n,t),n}function P5e(n){n=bE("chartOptions.seriesDefaults.fill.opacity","chartOptions.seriesDefaults.fillOpacity",n),n=bE("chartOptions.seriesDefaults.stroke.opacity","chartOptions.seriesDefaults.strokeOpacity",n),n=bE("chartOptions.seriesDefaults.stroke.width","chartOptions.seriesDefaults.strokeWidth",n),n=mi("chartOptions.seriesDefaults.fill",n),n=mi("chartOptions.seriesDefaults.stroke",n),n=mi("chartOptions.seriesDefaults.callout.colors",n),n=mi("chartOptions.xAxis",n),n=mi("chartOptions.yAxis",n);var t=n,e=t.chartType,r=t.chartOptions,i=r.axes;r.series;var o=r.seriesDefaults,a=$d(r,["axes","series","seriesDefaults"]),s=$d(t,["chartType","chartOptions"]),l=uw(e),u=Is(l),c=[u],d={};if(!YB(u)){var p={top:{},bottom:{},left:{},right:{}},h=i.map(function(v){var g,y=v.type,m=$d(v,["type"]);return g={},g[y]=fr(fr({},p),m),g}).reduce(v5,{});wte.filter(function(v){return h[v]==null}).forEach(function(v){h[v]=fr({},p)}),d.axes=h}var f=c.map(function(v){var g;return g={},g[v]=fr(fr(fr({},d),{series:o}),a),g}).reduce(v5,{});return n=fr(fr({},s),{chartType:l,chartOptions:f}),n}function A5e(n){return n=mi("chartOptions.*.title.padding",n),n=mi("chartOptions.*.subtitle.padding",n),n=mi("chartOptions.*.axes.*.title.padding",n),n=QB("chartOptions.*.axes.*.title.enabled",!1,n),n}function D5e(n){return n=Pi("chartOptions.pie.series.callout","calloutLine",n),n=Pi("chartOptions.pie.series.label","calloutLabel",n),n=Pi("chartOptions.pie.series.labelKey","sectorLabelKey",n),n=Pi("chartOptions.pie.series.labelName","sectorLabelName",n),n=Pi("chartOptions.donut.series.callout","calloutLine",n),n=Pi("chartOptions.donut.series.label","calloutLabel",n),n=Pi("chartOptions.donut.series.labelKey","sectorLabelKey",n),n=Pi("chartOptions.donut.series.labelName","sectorLabelName",n),n}function M5e(n){return n=Om("chartOptions.scatter.series.fill","chartOptions.scatter.series.marker.fill",n),n=Om("chartOptions.scatter.series.fillOpacity","chartOptions.scatter.series.marker.fillOpacity",n),n=Om("chartOptions.scatter.series.stroke","chartOptions.scatter.series.marker.stroke",n),n=Om("chartOptions.scatter.series.strokeOpacity","chartOptions.scatter.series.marker.strokeOpacity",n),n=Om("chartOptions.scatter.series.strokeWidth","chartOptions.scatter.series.marker.strokeWidth",n),n=bE("chartOptions.scatter.series.paired","chartOptions.scatter.paired",n),n}function Ite(n){return n=mi("chartOptions.axes[].tick.count",n),n}function Nte(n){var t=function(e){var r,i,o,a,s=e.tracking,l=$d(e,["tracking"]),u=fr({},l);return s===!1?((r=u.position)!==null&&r!==void 0||(u.position={type:"pointer"}),(i=u.range)!==null&&i!==void 0||(u.range="nearest")):s===!0&&((o=u.position)!==null&&o!==void 0||(u.position={type:"node"}),(a=u.range)!==null&&a!==void 0||(u.range="nearest")),u};return n=Vu("chartOptions.*.tooltip",n,t),n}function L5e(n){return n=Pi("chartOptions.pie.series.labelKey","sectorLabelKey",n),n=Pi("chartOptions.pie.series.labelName","sectorLabelName",n),n=Ite(n),n=Nte(n),n=mi("chartOptions.*.series.flipXY",n),n=kte("chartOptions.common.legend.enabled",!0,n),n=QB("chartOptions.common.legend.position","right",n),n}function F5e(n){var t={"ag-pastel":"ag-sheets","ag-solar":"ag-polychroma"},e=Pi("chartOptions.column","bar",n),r=t[e.chartThemeName]||e.chartThemeName;return fr(fr({},e),{chartThemeName:r})}function I5e(n){return n=mi("chartOptions.*.width",n),n=mi("chartOptions.*.height",n),n=QB("chartOptions.*.axes.category.label.autoRotate",!0,n),n}function N5e(n){var t,e,r=n;if(n.version!=null)return n.version;var i=function(h){for(var f=[],v=1;v<arguments.length;v++)f[v-1]=arguments[v];return Object.keys(h||{}).some(function(g){return f.includes(g)})},o=r.chartOptions,a=i(o,"seriesDefaults")?o==null?void 0:o.seriesDefaults:o==null?void 0:o[Object.keys(o)[0]],s={"27.0.0":i(r,"seriesChartTypes"),"26.2.0":!i(o,"seriesDefaults"),"26.1.0":i(a==null?void 0:a.highlightStyle,"item"),"26.0.0":i(a==null?void 0:a.highlightStyle,"series"),"25.1.0":i(a==null?void 0:a.label,"minAngle"),"25.0.0":i(r,"modelType","aggFunc","unlinkChart","suppressChartRanges")||i(a,"lineDash","lineDashOffset"),"24.0.0":i(r,"chartThemeName","chart")||i(o,"series"),"23.2.0":i(o,"navigator"),"23.0.0":i((e=(t=o==null?void 0:o.legend)===null||t===void 0?void 0:t.item)===null||e===void 0?void 0:e.marker,"shape"),"22.1.0":i(r,"chartPalette","chartType")},l="27.1.0",u=Object.entries(s).filter(function(h){var f=p5(h,2);f[0];var v=f[1];return v}),c=p5(u[0],1),d=c[0],p=d===void 0?l:d;return p}function Qi(n,t,e){if(h5(n)>h5(t.version)){var r=e(t);return r.version=n,r}return t}function k5e(n){var t=typeof n=="string"?n.split(".").map(function(e){return Number(e)}):[];if(t.length!==3||t.some(function(e){return isNaN(e)}))throw new Error("AG Grid - Illegal version string: "+n);return{major:t[0],minor:t[1],patch:t[2]}}function h5(n){var t=k5e(n),e=t.major,r=t.minor,i=t.patch;return e*1e4+r*100+i}function f5(n,t,e){return ep(n,!0,e,function(r,i){r[i]===t&&delete r[i]})}function QB(n,t,e){return ep(n,!1,e,function(r,i){r[i]==null&&(r[i]=t)})}function kte(n,t,e){var r;typeof n=="string"&&(n=n.split("."));var i=n[0];n.length>1&&(e[i]=kte(n.slice(1),t,(r=e[i])!==null&&r!==void 0?r:{}));var o=Object.keys(e).includes(i);return o||(e[i]=t),e}function bE(n,t,e){var r=void 0,i=!1;return e=ep(n,!0,e,function(o,a){i=!0,r=o[a],delete o[a]}),i?ep(t,!1,e,function(o,a){o[a]=r}):e}function Om(n,t,e){var r=void 0,i=!1;return e=ep(n,!0,e,function(o,a){i=!0,r=o[a],delete o[a]}),i?ep(t,!1,e,function(o,a){o[a]===void 0&&(o[a]=r)}):e}function Pi(n,t,e){return ep(n,!0,e,function(r,i){r[t]=r[i],delete r[i]})}function mi(n,t){return ep(n,!0,t,function(e,r){return delete e[r]})}function ep(n,t,e,r){var i=n instanceof Array?n:n.split("."),o=i.slice(0,i.length-1),a=i[i.length-1];return Vu(o,e,function(s){var l=Object.keys(s).includes(a);if(t&&!l)return s;var u=fr({},s);return r(u,a),u})}function Vu(n,t,e){var r,i,o=n instanceof Array?n:n.split(".");if(t=fr({},t),o.length===0)return e(t);if(o[0].startsWith("{")){var a=o[0].substring(1,o[0].lastIndexOf("}")).split(",");try{for(var s=_5e(a),l=s.next();!l.done;l=s.next()){var u=l.value;t[u]!=null&&(t[u]=Vu(o.slice(1),t[u],e))}}catch(p){r={error:p}}finally{try{l&&!l.done&&(i=s.return)&&i.call(s)}finally{if(r)throw r.error}}}else if(o[0].endsWith("[]")){var c=o[0].substring(0,n[0].indexOf("["));t[c]instanceof Array&&(t[c]=t[c].map(function(p){return Vu(o.slice(1),p,e)}))}else if(o[0]==="*")for(var d in t)t[d]=Vu(o.slice(1),t[d],e);else t[o[0]]!=null&&(t[o[0]]=Vu(o.slice(1),t[o[0]],e));return t}var v5=function(n,t){return fr(fr({},n),t)},G5e=function(){var n=function(t,e){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])},n(t,e)};return function(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");n(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}}(),jO=function(){return jO=Object.assign||function(n){for(var t,e=1,r=arguments.length;e<r;e++){t=arguments[e];for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(n[i]=t[i])}return n},jO.apply(this,arguments)},_x=function(n,t,e,r){var i=arguments.length,o=i<3?t:r===null?r=Object.getOwnPropertyDescriptor(t,e):r,a;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(n,t,e,r);else for(var s=n.length-1;s>=0;s--)(a=n[s])&&(o=(i<3?a(o):i>3?a(t,e,o):a(t,e))||o);return i>3&&o&&Object.defineProperty(t,e,o),o},V5e=function(n,t){var e=typeof Symbol=="function"&&n[Symbol.iterator];if(!e)return n;var r=e.call(n),i,o=[],a;try{for(;(t===void 0||t-- >0)&&!(i=r.next()).done;)o.push(i.value)}catch(s){a={error:s}}finally{try{i&&!i.done&&(e=r.return)&&e.call(r)}finally{if(a)throw a.error}}return o},B5e=function(n,t,e){if(e||arguments.length===2)for(var r=0,i=t.length,o;r<i;r++)(o||!(r in t))&&(o||(o=Array.prototype.slice.call(t,0,r)),o[r]=t[r]);return n.concat(o||Array.prototype.slice.call(t))},g5=function(n){G5e(t,n);function t(){var e=n!==null&&n.apply(this,arguments)||this;return e.activeCharts=new Set,e.activeChartComps=new Set,e.crossFilteringContext={lastSelectedChartId:""},e.isEnterprise=function(){return KB.enterpriseModule.isEnterprise},e}return t.prototype.updateChart=function(e){var r=e.chartType;if(r&&Fz(r)&&!this.isEnterprise()){He.__warnEnterpriseChartDisabled(r);return}if(this.activeChartComps.size===0){console.warn("AG Grid - No active charts to update.");return}var i=B5e([],V5e(this.activeChartComps),!1).find(function(o){return o.getChartId()===e.chartId});if(!i){console.warn("AG Grid - Unable to update chart. No active chart found with ID: ".concat(e.chartId,"."));return}i.update(e)},t.prototype.getChartModels=function(){var e=[],r=function(i){return jO(jO({},i),{version:hw})};return this.activeChartComps.forEach(function(i){return e.push(r(i.getChartModel()))}),e},t.prototype.getChartRef=function(e){var r;return this.activeCharts.forEach(function(i){i.chartId===e&&(r=i)}),r},t.prototype.getChartComp=function(e){var r;return this.activeChartComps.forEach(function(i){i.getChartId()===e&&(r=i)}),r},t.prototype.getChartImageDataURL=function(e){var r;return this.activeChartComps.forEach(function(i){i.getChartId()===e.chartId&&(r=i.getChartImageDataURL(e.fileFormat))}),r},t.prototype.downloadChart=function(e){var r=Array.from(this.activeChartComps).find(function(i){return i.getChartId()===e.chartId});r==null||r.downloadChart(e.dimensions,e.fileName,e.fileFormat)},t.prototype.openChartToolPanel=function(e){var r=Array.from(this.activeChartComps).find(function(i){return i.getChartId()===e.chartId});r==null||r.openChartToolPanel(e.panel)},t.prototype.closeChartToolPanel=function(e){var r=Array.from(this.activeChartComps).find(function(i){return i.getChartId()===e});r==null||r.closeChartToolPanel()},t.prototype.createChartFromCurrentRange=function(e){e===void 0&&(e="groupedColumn");var r=this.getSelectedRange();return this.createChart(r,e)},t.prototype.restoreChart=function(e,r){var i=this;if(!e){console.warn("AG Grid - unable to restore chart as no chart model is provided");return}e.version!==hw&&(e=x5e(e));var o={cellRange:e.cellRange,chartType:e.chartType,chartThemeName:e.chartThemeName,chartContainer:r,suppressChartRanges:e.suppressChartRanges,aggFunc:e.aggFunc,unlinkChart:e.unlinkChart,seriesChartTypes:e.seriesChartTypes},a=function(d){return i.rangeService?i.rangeService.createCellRangeFromCellRangeParams(d):void 0};if(e.modelType==="pivot"){this.gridOptionsService.updateGridOptions({options:{pivotMode:!0},source:"pivotChart"});var s=this.columnModel.getAllDisplayedColumns().map(function(d){return d.getColId()}),l={rowStartIndex:null,rowStartPinned:void 0,rowEndIndex:null,rowEndPinned:void 0,columns:s},u=a(l);if(!u){console.warn("AG Grid - unable to create chart as there are no columns in the grid.");return}return this.createChart(u,o.chartType,o.chartThemeName,!0,!0,o.chartContainer,void 0,void 0,o.unlinkChart,!1,e.chartOptions)}var c=a(o.cellRange);if(!c){console.warn("AG Grid - unable to create chart as no range is selected");return}return this.createChart(c,o.chartType,o.chartThemeName,!1,o.suppressChartRanges,o.chartContainer,o.aggFunc,void 0,o.unlinkChart,!1,e.chartOptions,e.chartPalette,o.seriesChartTypes)},t.prototype.createRangeChart=function(e){var r,i=(r=this.rangeService)===null||r===void 0?void 0:r.createCellRangeFromCellRangeParams(e.cellRange);if(!i){console.warn("AG Grid - unable to create chart as no range is selected");return}return this.createChart(i,e.chartType,e.chartThemeName,!1,e.suppressChartRanges,e.chartContainer,e.aggFunc,e.chartThemeOverrides,e.unlinkChart,void 0,void 0,void 0,e.seriesChartTypes)},t.prototype.createPivotChart=function(e){this.gridOptionsService.updateGridOptions({options:{pivotMode:!0},source:"pivotChart"});var r={rowStartIndex:null,rowStartPinned:void 0,rowEndIndex:null,rowEndPinned:void 0,columns:this.columnModel.getAllDisplayedColumns().map(function(o){return o.getColId()})},i=this.rangeService?this.rangeService.createCellRangeFromCellRangeParams(r):void 0;if(!i){console.warn("AG Grid - unable to create chart as there are no columns in the grid.");return}return this.createChart(i,e.chartType,e.chartThemeName,!0,!0,e.chartContainer,void 0,e.chartThemeOverrides,e.unlinkChart)},t.prototype.createCrossFilterChart=function(e){var r,i=(r=this.rangeService)===null||r===void 0?void 0:r.createCellRangeFromCellRangeParams(e.cellRange);if(!i){console.warn("AG Grid - unable to create chart as no range is selected");return}var o=!0,a=typeof e.suppressChartRanges<"u"&&e.suppressChartRanges!==null,s=a?e.suppressChartRanges:!0;return this.createChart(i,e.chartType,e.chartThemeName,!1,s,e.chartContainer,e.aggFunc,e.chartThemeOverrides,e.unlinkChart,o)},t.prototype.createChart=function(e,r,i,o,a,s,l,u,c,d,p,h,f){var v=this;if(o===void 0&&(o=!1),a===void 0&&(a=!1),c===void 0&&(c=!1),d===void 0&&(d=!1),Fz(r)&&!this.isEnterprise()){He.__warnEnterpriseChartDisabled(r);return}var g=this.gridOptionsService.getCallback("createChartContainer"),y={chartId:this.generateId(),pivotChart:o,cellRange:e,chartType:uw(r),chartThemeName:i,insideDialog:!(s||g),suppressChartRanges:a,aggFunc:l,chartThemeOverrides:u,unlinkChart:c,crossFiltering:d,crossFilteringContext:this.crossFilteringContext,chartOptionsToRestore:p,chartPaletteToRestore:h,seriesChartTypes:f,crossFilteringResetCallback:function(){return v.activeChartComps.forEach(function(w){return w.crossFilteringReset()})}},m=new d5(y);this.context.createBean(m);var C=this.createChartRef(m);if(s){s.appendChild(m.getGui());var S=this.environment.getTheme();S.el&&!S.el.contains(s)&&s.classList.add(S.theme)}else g?g(C):m.addEventListener(d5.EVENT_DESTROYED,function(){v.activeChartComps.delete(m),v.activeCharts.delete(C)});return C},t.prototype.createChartRef=function(e){var r=this,i={destroyChart:function(){r.activeCharts.has(i)&&(r.context.destroyBean(e),r.activeChartComps.delete(e),r.activeCharts.delete(i))},chartElement:e.getGui(),chart:e.getUnderlyingChart(),chartId:e.getChartModel().chartId};return this.activeCharts.add(i),this.activeChartComps.add(e),i},t.prototype.getSelectedRange=function(){var e=this.rangeService.getCellRanges();return e.length>0?e[0]:{}},t.prototype.generateId=function(){return"id-".concat(Math.random().toString(36).substring(2,18))},t.prototype.destroyAllActiveCharts=function(){this.activeCharts.forEach(function(e){return e.destroyChart()})},t.CHARTS_VERSION=n$e,_x([et("rangeService")],t.prototype,"rangeService",void 0),_x([E("columnModel")],t.prototype,"columnModel",void 0),_x([ar],t.prototype,"destroyAllActiveCharts",null),t=_x([ie("chartService")],t),t}(X),H5e=function(){var n=function(t,e){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])},n(t,e)};return function(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");n(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}}(),j5e=function(n,t,e,r){var i=arguments.length,o=i<3?t:r===null?r=Object.getOwnPropertyDescriptor(t,e):r,a;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(n,t,e,r);else for(var s=n.length-1;s>=0;s--)(a=n[s])&&(o=(i<3?a(o):i>3?a(t,e,o):a(t,e))||o);return i>3&&o&&Object.defineProperty(t,e,o),o},$5e=function(n){H5e(t,n);function t(){return n!==null&&n.apply(this,arguments)||this}e=t,t.prototype.translate=function(r,i){var o=this.localeService.getLocaleTextFunc(),a=e.DEFAULT_TRANSLATIONS[r]||i;return o(r,a)};var e;return t.DEFAULT_TRANSLATIONS={pivotChartTitle:"Pivot Chart",rangeChartTitle:"Range Chart",settings:"Settings",data:"Data",format:"Format",categories:"Categories",defaultCategory:"(None)",series:"Series",xyValues:"X Y Values",paired:"Paired Mode",axis:"Axis",radiusAxis:"Radius Axis",navigator:"Navigator",color:"Color",thickness:"Thickness",preferredLength:"Preferred Length",xType:"X Type",automatic:"Automatic",category:"Category",number:"Number",time:"Time",autoRotate:"Auto Rotate",xRotation:"X Rotation",yRotation:"Y Rotation",labelRotation:"Rotation",circle:"Circle",orientation:"Orientation",polygon:"Polygon",fixed:"Fixed",parallel:"Parallel",perpendicular:"Perpendicular",radiusAxisPosition:"Position",ticks:"Ticks",width:"Width",height:"Height",length:"Length",padding:"Padding",spacing:"Spacing",chart:"Chart",title:"Title",titlePlaceholder:"Chart title - double click to edit",background:"Background",font:"Font",top:"Top",right:"Right",bottom:"Bottom",left:"Left",labels:"Labels",calloutLabels:"Callout Labels",sectorLabels:"Sector Labels",positionRatio:"Position Ratio",size:"Size",shape:"Shape",minSize:"Minimum Size",maxSize:"Maximum Size",legend:"Legend",position:"Position",markerSize:"Marker Size",markerStroke:"Marker Stroke",markerPadding:"Marker Padding",itemSpacing:"Item Spacing",itemPaddingX:"Item Padding X",itemPaddingY:"Item Padding Y",layoutHorizontalSpacing:"Horizontal Spacing",layoutVerticalSpacing:"Vertical Spacing",strokeWidth:"Stroke Width",offset:"Offset",offsets:"Offsets",tooltips:"Tooltips",callout:"Callout",markers:"Markers",shadow:"Shadow",blur:"Blur",xOffset:"X Offset",yOffset:"Y Offset",lineWidth:"Line Width",lineDash:"Line Dash",lineDashOffset:"Dash Offset",normal:"Normal",bold:"Bold",italic:"Italic",boldItalic:"Bold Italic",predefined:"Predefined",fillOpacity:"Fill Opacity",strokeColor:"Line Color",strokeOpacity:"Line Opacity",histogramBinCount:"Bin count",connectorLine:"Connector Line",seriesItems:"Series Items",seriesItemType:"Item Type",seriesItemPositive:"Positive",seriesItemNegative:"Negative",seriesItemLabels:"Item Labels",columnGroup:"Column",barGroup:"Bar",pieGroup:"Pie",lineGroup:"Line",scatterGroup:"X Y (Scatter)",areaGroup:"Area",polarGroup:"Polar",statisticalGroup:"Statistical",hierarchicalGroup:"Hierarchical",specializedGroup:"Specialized",combinationGroup:"Combination",groupedColumnTooltip:"Grouped",stackedColumnTooltip:"Stacked",normalizedColumnTooltip:"100% Stacked",groupedBarTooltip:"Grouped",stackedBarTooltip:"Stacked",normalizedBarTooltip:"100% Stacked",pieTooltip:"Pie",donutTooltip:"Donut",lineTooltip:"Line",groupedAreaTooltip:"Area",stackedAreaTooltip:"Stacked",normalizedAreaTooltip:"100% Stacked",scatterTooltip:"Scatter",bubbleTooltip:"Bubble",histogramTooltip:"Histogram",radialColumnTooltip:"Radial Column",radialBarTooltip:"Radial Bar",radarLineTooltip:"Radar Line",radarAreaTooltip:"Radar Area",nightingaleTooltip:"Nightingale",rangeBarTooltip:"Range Bar",rangeAreaTooltip:"Range Area",boxPlotTooltip:"Box Plot",treemapTooltip:"Treemap",sunburstTooltip:"Sunburst",heatmapTooltip:"Heatmap",waterfallTooltip:"Waterfall",columnLineComboTooltip:"Column & Line",areaColumnComboTooltip:"Area & Column",customComboTooltip:"Custom Combination",innerRadius:"Inner Radius",startAngle:"Start Angle",endAngle:"End Angle",reverseDirection:"Reverse Direction",groupPadding:"Group Padding",seriesPadding:"Series Padding",group:"Group",tile:"Tile",whisker:"Whisker",cap:"Cap",capLengthRatio:"Length Ratio",labelPlacement:"Placement",inside:"Inside",outside:"Outside",noDataToChart:"No data available to be charted.",pivotChartRequiresPivotMode:"Pivot Chart requires Pivot Mode enabled.",chartSettingsToolbarTooltip:"Menu",chartLinkToolbarTooltip:"Linked to Grid",chartUnlinkToolbarTooltip:"Unlinked from Grid",chartDownloadToolbarTooltip:"Download Chart",histogramFrequency:"Frequency",seriesChartType:"Series Chart Type",seriesType:"Series Type",secondaryAxis:"Secondary Axis"},t=e=j5e([ie("chartTranslationService")],t),t}(X),W5e=function(){var n=function(t,e){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])},n(t,e)};return function(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");n(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}}(),xx=function(n,t,e,r){var i=arguments.length,o=i<3?t:r===null?r=Object.getOwnPropertyDescriptor(t,e):r,a;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(n,t,e,r);else for(var s=n.length-1;s>=0;s--)(a=n[s])&&(o=(i<3?a(o):i>3?a(t,e,o):a(t,e))||o);return i>3&&o&&Object.defineProperty(t,e,o),o},U5e=function(n){W5e(t,n);function t(){return n!==null&&n.apply(this,arguments)||this}e=t,t.prototype.filter=function(r,i){i===void 0&&(i=!1);var o=this.gridApi.getFilterModel();if(i){this.resetFilters(o);return}var a=e.extractFilterColId(r);this.isValidColumnFilter(a)?this.updateFilters(o,r,a):console.warn("AG Grid: cross filtering requires a 'agSetColumnFilter' or 'agMultiColumnFilter' to be defined on the column with id: '"+a+"'")},t.prototype.resetFilters=function(r){var i=Object.keys(r).length>0;i&&(this.gridApi.setFilterModel(null),this.gridApi.onFilterChanged())},t.prototype.updateFilters=function(r,i,o){var a,s=e.extractFilterColId(i),l=i.datum[s];if(l!==void 0){var u=l.toString();if(i.event.metaKey||i.event.ctrlKey){var c=this.getCurrentGridValuesForCategory(o),d=A.includes(c,u),p=void 0;d?p=c.filter(function(h){return h!==u}):(p=c,p.push(u)),r[o]=this.getUpdatedFilterModel(o,p)}else{var p=[u];r=(a={},a[o]=this.getUpdatedFilterModel(o,p),a)}this.gridApi.setFilterModel(r)}},t.prototype.getUpdatedFilterModel=function(r,i){var o=this.getColumnFilterType(r);return o==="agMultiColumnFilter"?{filterType:"multi",filterModels:[null,{filterType:"set",values:i}]}:{filterType:"set",values:i}},t.prototype.getCurrentGridValuesForCategory=function(r){var i=this,o=[],a=this.getColumnById(r);return this.gridApi.forEachNodeAfterFilter(function(s){if(a&&!s.group){var l=i.valueService.getValue(a,s)+"";o.includes(l)||o.push(l)}}),o},t.extractFilterColId=function(r){return r.xKey||r.calloutLabelKey},t.prototype.isValidColumnFilter=function(r){r.indexOf("-filtered-out")&&(r=r.replace("-filtered-out",""));var i=this.getColumnFilterType(r);return typeof i=="boolean"?i:A.includes(["agSetColumnFilter","agMultiColumnFilter"],i)},t.prototype.getColumnFilterType=function(r){var i=this.getColumnById(r);if(i){var o=i.getColDef();return o.filter}},t.prototype.getColumnById=function(r){return this.columnModel.getGridColumn(r)};var e;return xx([E("gridApi")],t.prototype,"gridApi",void 0),xx([E("columnModel")],t.prototype,"columnModel",void 0),xx([E("valueService")],t.prototype,"valueService",void 0),t=e=xx([ie("chartCrossFilterService")],t),t}(X),z5e=function(){var n=function(t,e){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])},n(t,e)};return function(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");n(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}}(),ad=function(){return ad=Object.assign||function(n){for(var t,e=1,r=arguments.length;e<r;e++){t=arguments[e];for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(n[i]=t[i])}return n},ad.apply(this,arguments)},pl=function(n,t,e,r){var i=arguments.length,o=i<3?t:r===null?r=Object.getOwnPropertyDescriptor(t,e):r,a;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(n,t,e,r);else for(var s=n.length-1;s>=0;s--)(a=n[s])&&(o=(i<3?a(o):i>3?a(t,e,o):a(t,e))||o);return i>3&&o&&Object.defineProperty(t,e,o),o},Rm=function(n,t){var e=typeof Symbol=="function"&&n[Symbol.iterator];if(!e)return n;var r=e.call(n),i,o=[],a;try{for(;(t===void 0||t-- >0)&&!(i=r.next()).done;)o.push(i.value)}catch(s){a={error:s}}finally{try{i&&!i.done&&(e=r.return)&&e.call(r)}finally{if(a)throw a.error}}return o},av=function(n,t,e){if(e||arguments.length===2)for(var r=0,i=t.length,o;r<i;r++)(o||!(r in t))&&(o||(o=Array.prototype.slice.call(t,0,r)),o[r]=t[r]);return n.concat(o||Array.prototype.slice.call(t))},K5e=function(n){var t=typeof Symbol=="function"&&Symbol.iterator,e=t&&n[t],r=0;if(e)return e.call(n);if(n&&typeof n.length=="number")return{next:function(){return n&&r>=n.length&&(n=void 0),{value:n&&n[r++],done:!n}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")},Y5e=function(n){z5e(t,n);function t(){var e=n!==null&&n.apply(this,arguments)||this;return e.cellRanges=[],e.bodyScrollListener=e.onBodyScroll.bind(e),e.dragging=!1,e.intersectionRange=!1,e}return t.prototype.init=function(){var e=this;this.addManagedListener(this.eventService,T.EVENT_NEW_COLUMNS_LOADED,function(){return e.onColumnsChanged()}),this.addManagedListener(this.eventService,T.EVENT_COLUMN_VISIBLE,this.onColumnsChanged.bind(this)),this.addManagedListener(this.eventService,T.EVENT_COLUMN_VALUE_CHANGED,this.onColumnsChanged.bind(this)),this.addManagedListener(this.eventService,T.EVENT_COLUMN_PIVOT_MODE_CHANGED,function(){return e.removeAllCellRanges()}),this.addManagedListener(this.eventService,T.EVENT_COLUMN_ROW_GROUP_CHANGED,function(){return e.removeAllCellRanges()}),this.addManagedListener(this.eventService,T.EVENT_COLUMN_PIVOT_CHANGED,function(){return e.removeAllCellRanges()}),this.addManagedListener(this.eventService,T.EVENT_COLUMN_GROUP_OPENED,this.refreshLastRangeStart.bind(this)),this.addManagedListener(this.eventService,T.EVENT_COLUMN_MOVED,this.refreshLastRangeStart.bind(this)),this.addManagedListener(this.eventService,T.EVENT_COLUMN_PINNED,this.refreshLastRangeStart.bind(this)),this.ctrlsService.whenReady(function(){var r=e.ctrlsService.getGridBodyCtrl();e.autoScrollService=new Hw({scrollContainer:r.getBodyViewportElement(),scrollAxis:"xy",getVerticalPosition:function(){return r.getScrollFeature().getVScrollPosition().top},setVerticalPosition:function(i){return r.getScrollFeature().setVerticalScrollPosition(i)},getHorizontalPosition:function(){return r.getScrollFeature().getHScrollPosition().left},setHorizontalPosition:function(i){return r.getScrollFeature().setHorizontalScrollPosition(i)},shouldSkipVerticalScroll:function(){return!e.gridOptionsService.isDomLayout("normal")},shouldSkipHorizontalScroll:function(){return!r.getScrollFeature().isHorizontalScrollShowing()}})})},t.prototype.onColumnsChanged=function(){var e=this;this.refreshLastRangeStart();var r=this.columnModel.getAllDisplayedColumns();this.cellRanges.forEach(function(o){var a=o.columns;o.columns=o.columns.filter(function(l){return l.isVisible()&&r.indexOf(l)!==-1});var s=!A.areEqual(a,o.columns);s&&e.dispatchChangedEvent(!1,!0,o.id)});var i=this.cellRanges.length;this.cellRanges=this.cellRanges.filter(function(o){return o.columns.length>0}),i>this.cellRanges.length&&this.dispatchChangedEvent(!1,!0)},t.prototype.refreshLastRangeStart=function(){var e=A.last(this.cellRanges);e&&this.refreshRangeStart(e)},t.prototype.isContiguousRange=function(e){var r=e.columns;if(!r.length)return!1;var i=this.columnModel.getAllDisplayedColumns(),o=r.map(function(a){return i.indexOf(a)}).sort(function(a,s){return a-s});return A.last(o)-o[0]+1===r.length},t.prototype.getRangeStartRow=function(e){if(e.startRow&&e.endRow)return this.rowPositionUtils.before(e.startRow,e.endRow)?e.startRow:e.endRow;var r=this.pinnedRowModel.getPinnedTopRowCount()>0?"top":null;return{rowIndex:0,rowPinned:r}},t.prototype.getRangeEndRow=function(e){if(e.startRow&&e.endRow)return this.rowPositionUtils.before(e.startRow,e.endRow)?e.endRow:e.startRow;var r=this.pinnedRowModel.getPinnedBottomRowCount(),i=r>0;return i?{rowIndex:r-1,rowPinned:"bottom"}:{rowIndex:this.rowModel.getRowCount()-1,rowPinned:null}},t.prototype.setRangeToCell=function(e,r){if(r===void 0&&(r=!1),!!this.gridOptionsService.get("enableRangeSelection")){var i=this.calculateColumnsBetween(e.column,e.column);if(i){var o=this.gridOptionsService.get("suppressMultiRangeSelection");(o||!r||A.missing(this.cellRanges))&&this.removeAllCellRanges(!0);var a={rowIndex:e.rowIndex,rowPinned:e.rowPinned},s={startRow:a,endRow:a,columns:i,startColumn:e.column};this.cellRanges.push(s),this.setNewestRangeStartCell(e),this.onDragStop(),this.dispatchChangedEvent(!0,!0)}}},t.prototype.extendLatestRangeToCell=function(e){if(!(this.isEmpty()||!this.newestRangeStartCell)){var r=A.last(this.cellRanges);this.updateRangeEnd(r,e)}},t.prototype.updateRangeEnd=function(e,r,i){i===void 0&&(i=!1);var o=r.column,a=this.calculateColumnsBetween(e.startColumn,o);!a||this.isLastCellOfRange(e,r)||(e.columns=a,e.endRow={rowIndex:r.rowIndex,rowPinned:r.rowPinned},i||this.dispatchChangedEvent(!0,!0,e.id))},t.prototype.refreshRangeStart=function(e){var r=e.startColumn,i=e.columns,o=function(d,p){var h=e.columns.filter(function(f){return f!==d});d?(e.startColumn=d,e.columns=p?av([d],Rm(h),!1):av(av([],Rm(h),!1),[d],!1)):e.columns=h},a=this.getRangeEdgeColumns(e),s=a.left,l=a.right,u=r===i[0]&&r!==s;if(u){o(s,!0);return}var c=r===A.last(i)&&r===l;if(c){o(l,!1);return}},t.prototype.getRangeEdgeColumns=function(e){var r=this.columnModel.getAllDisplayedColumns(),i=e.columns.map(function(o){return r.indexOf(o)}).filter(function(o){return o>-1}).sort(function(o,a){return o-a});return{left:r[i[0]],right:r[A.last(i)]}},t.prototype.extendLatestRangeInDirection=function(e){if(!(this.isEmpty()||!this.newestRangeStartCell)){var r=e.key,i=e.ctrlKey||e.metaKey,o=A.last(this.cellRanges),a=this.newestRangeStartCell,s=o.columns[0],l=A.last(o.columns),u=o.endRow.rowIndex,c=o.endRow.rowPinned,d=a.column===s?l:s,p={column:d,rowIndex:u,rowPinned:c},h=this.cellNavigationService.getNextCellToFocus(r,p,i);if(h)return this.setCellRange({rowStartIndex:a.rowIndex,rowStartPinned:a.rowPinned,rowEndIndex:h.rowIndex,rowEndPinned:h.rowPinned,columnStart:a.column,columnEnd:h.column}),h}},t.prototype.setCellRange=function(e){this.gridOptionsService.get("enableRangeSelection")&&(this.removeAllCellRanges(!0),this.addCellRange(e))},t.prototype.setCellRanges=function(e){var r=this;A.shallowCompare(this.cellRanges,e)||(this.removeAllCellRanges(!0),e.forEach(function(i){i.columns&&i.startRow&&r.setNewestRangeStartCell({rowIndex:i.startRow.rowIndex,rowPinned:i.startRow.rowPinned,column:i.columns[0]}),r.cellRanges.push(i)}),this.dispatchChangedEvent(!1,!0))},t.prototype.setNewestRangeStartCell=function(e){this.newestRangeStartCell=e},t.prototype.clearCellRangeCellValues=function(e){var r=this,i=e.cellRanges,o=e.cellEventSource,a=o===void 0?"rangeService":o,s=e.dispatchWrapperEvents,l=e.wrapperEventSource,u=l===void 0?"deleteKey":l;if(s){var c={type:T.EVENT_RANGE_DELETE_START,source:u};this.eventService.dispatchEvent(c)}if(i||(i=this.cellRanges),i.forEach(function(p){r.forEachRowInRange(p,function(h){var f=r.rowPositionUtils.getRowNode(h);if(f)for(var v=0;v<p.columns.length;v++){var g=r.columnModel.getGridColumn(p.columns[v]);!g||!g.isCellEditable(f)||f.setDataValue(g,null,a)}})}),s){var d={type:T.EVENT_RANGE_DELETE_END,source:u};this.eventService.dispatchEvent(d)}},t.prototype.createCellRangeFromCellRangeParams=function(e){var r=this,i,o=!1;if(e.columns)i=e.columns.map(function(c){return r.columnModel.getColumnWithValidation(c)}).filter(function(c){return c});else{var a=this.columnModel.getColumnWithValidation(e.columnStart),s=this.columnModel.getColumnWithValidation(e.columnEnd);if(!a||!s)return;i=this.calculateColumnsBetween(a,s),i&&i.length&&(o=i[0]!==a)}if(i){var l=e.rowStartIndex!=null?{rowIndex:e.rowStartIndex,rowPinned:e.rowStartPinned||null}:void 0,u=e.rowEndIndex!=null?{rowIndex:e.rowEndIndex,rowPinned:e.rowEndPinned||null}:void 0;return{startRow:l,endRow:u,columns:i,startColumn:o?A.last(i):i[0]}}},t.prototype.addCellRange=function(e){if(this.gridOptionsService.get("enableRangeSelection")){var r=this.createCellRangeFromCellRangeParams(e);r&&(r.startRow&&this.setNewestRangeStartCell({rowIndex:r.startRow.rowIndex,rowPinned:r.startRow.rowPinned,column:r.startColumn}),this.cellRanges.push(r),this.dispatchChangedEvent(!1,!0,r.id))}},t.prototype.getCellRanges=function(){return this.cellRanges},t.prototype.isEmpty=function(){return this.cellRanges.length===0},t.prototype.isMoreThanOneCell=function(){var e=this.cellRanges.length;if(e===0)return!1;if(e>1)return!0;var r=this.cellRanges[0],i=this.getRangeStartRow(r),o=this.getRangeEndRow(r);return i.rowPinned!==o.rowPinned||i.rowIndex!==o.rowIndex||r.columns.length!==1},t.prototype.areAllRangesAbleToMerge=function(){var e,r,i=this,o=new Map,a=this.cellRanges.length;if(a<=1)return!0;this.cellRanges.forEach(function(p){i.forEachRowInRange(p,function(h){var f="".concat(h.rowPinned||"normal","_").concat(h.rowIndex),v=o.get(f),g=p.columns.map(function(m){return m.getId()});if(v){var y=g.filter(function(m){return v.indexOf(m)===-1});v.push.apply(v,av([],Rm(y),!1))}else o.set(f,g)})});var s;try{for(var l=K5e(o.values()),u=l.next();!u.done;u=l.next()){var c=u.value,d=c.sort().join();if(s===void 0){s=d;continue}if(s!==d)return!1}}catch(p){e={error:p}}finally{try{u&&!u.done&&(r=l.return)&&r.call(l)}finally{if(e)throw e.error}}return!0},t.prototype.forEachRowInRange=function(e,r){for(var i=this.getRangeStartRow(e),o=this.getRangeEndRow(e),a=i;a&&(r(a),!this.rowPositionUtils.sameRow(a,o));)a=this.cellNavigationService.getRowBelow(a)},t.prototype.removeAllCellRanges=function(e){this.isEmpty()||(this.onDragStop(),this.cellRanges.length=0,e||this.dispatchChangedEvent(!1,!0))},t.prototype.onBodyScroll=function(){this.dragging&&this.lastMouseEvent&&this.onDragging(this.lastMouseEvent)},t.prototype.isCellInAnyRange=function(e){return this.getCellRangeCount(e)>0},t.prototype.isCellInSpecificRange=function(e,r){var i=r.columns!==null&&A.includes(r.columns,e.column),o=this.isRowInRange(e.rowIndex,e.rowPinned,r);return i&&o},t.prototype.isLastCellOfRange=function(e,r){var i=e.startRow,o=e.endRow,a=this.rowPositionUtils.before(i,o)?o:i,s=r.rowIndex===a.rowIndex&&r.rowPinned===a.rowPinned,l=e.columns[0],u=A.last(e.columns),c=e.startColumn===l?u:l,d=r.column===c;return d&&s},t.prototype.isBottomRightCell=function(e,r){var i=this.columnModel.getAllDisplayedColumns(),o=e.columns.map(function(d){return i.indexOf(d)}).sort(function(d,p){return d-p}),a=e.startRow,s=e.endRow,l=this.rowPositionUtils.before(a,s)?s:a,u=i.indexOf(r.column)===A.last(o),c=r.rowIndex===l.rowIndex&&A.makeNull(r.rowPinned)===A.makeNull(l.rowPinned);return u&&c},t.prototype.getCellRangeCount=function(e){var r=this;return this.isEmpty()?0:this.cellRanges.filter(function(i){return r.isCellInSpecificRange(e,i)}).length},t.prototype.isRowInRange=function(e,r,i){var o=this.getRangeStartRow(i),a=this.getRangeEndRow(i),s={rowIndex:e,rowPinned:r||null},l=s.rowIndex===o.rowIndex&&s.rowPinned==o.rowPinned,u=s.rowIndex===a.rowIndex&&s.rowPinned==a.rowPinned;if(l||u)return!0;var c=!this.rowPositionUtils.before(s,o),d=this.rowPositionUtils.before(s,a);return c&&d},t.prototype.getDraggingRange=function(){return this.draggingRange},t.prototype.onDragStart=function(e){if(this.gridOptionsService.get("enableRangeSelection")){var r=e.ctrlKey,i=e.metaKey,o=e.shiftKey,a=r||i,s=!this.gridOptionsService.get("suppressMultiRangeSelection"),l=s?a:!1,u=o&&A.existsAndNotEmpty(this.cellRanges);!l&&(!u||A.exists(A.last(this.cellRanges).type))&&this.removeAllCellRanges(!0);var c=this.dragService.getStartTarget();if(c&&this.updateValuesOnMove(c),!!this.lastCellHovered){if(this.dragging=!0,this.lastMouseEvent=e,this.intersectionRange=l&&this.getCellRangeCount(this.lastCellHovered)>1,u||this.setNewestRangeStartCell(this.lastCellHovered),this.cellRanges.length>0)this.draggingRange=A.last(this.cellRanges);else{var d={rowIndex:this.lastCellHovered.rowIndex,rowPinned:this.lastCellHovered.rowPinned};this.draggingRange={startRow:d,endRow:d,columns:[this.lastCellHovered.column],startColumn:this.newestRangeStartCell.column},this.cellRanges.push(this.draggingRange)}this.ctrlsService.getGridBodyCtrl().addScrollEventListener(this.bodyScrollListener),this.dispatchChangedEvent(!0,!1,this.draggingRange.id)}}},t.prototype.intersectLastRange=function(e){var r=this;if(!(e&&this.dragging)&&!this.gridOptionsService.get("suppressMultiRangeSelection")&&!this.isEmpty()){var i=A.last(this.cellRanges),o=this.getRangeStartRow(i),a=this.getRangeEndRow(i),s=[];this.cellRanges.slice(0,-1).forEach(function(l){var u=r.getRangeStartRow(l),c=r.getRangeEndRow(l),d=l.columns,p=d.filter(function(g){return i.columns.indexOf(g)===-1});if(p.length===d.length){s.push(l);return}if(r.rowPositionUtils.before(a,u)||r.rowPositionUtils.before(c,o)){s.push(l);return}var h=s.length;if(r.rowPositionUtils.before(u,o)){var f={columns:av([],Rm(d),!1),startColumn:i.startColumn,startRow:ad({},u),endRow:r.cellNavigationService.getRowAbove(o)};s.push(f)}if(p.length>0){var v={columns:p,startColumn:A.includes(p,i.startColumn)?i.startColumn:p[0],startRow:r.rowPositionUtils.rowMax([ad({},o),ad({},u)]),endRow:r.rowPositionUtils.rowMin([ad({},a),ad({},c)])};s.push(v)}r.rowPositionUtils.before(a,c)&&s.push({columns:av([],Rm(d),!1),startColumn:i.startColumn,startRow:r.cellNavigationService.getRowBelow(a),endRow:ad({},c)}),s.length-h===1&&(s[s.length-1].id=l.id)}),this.cellRanges=s,e&&this.dispatchChangedEvent(!1,!0)}},t.prototype.updateValuesOnMove=function(e){var r=A.getCtrlForEventTarget(this.gridOptionsService,e,ju.DOM_DATA_KEY_CELL_CTRL),i=r==null?void 0:r.getCellPosition();this.cellHasChanged=!1,!(!i||this.lastCellHovered&&this.cellPositionUtils.equals(i,this.lastCellHovered))&&(this.lastCellHovered&&(this.cellHasChanged=!0),this.lastCellHovered=i)},t.prototype.onDragging=function(e){var r=this;if(!(!this.dragging||!e)){this.updateValuesOnMove(e.target),this.lastMouseEvent=e;var i=this.lastCellHovered,o=function(l){return i&&i.rowPinned===l&&r.newestRangeStartCell.rowPinned===l},a=o("top")||o("bottom");if(this.autoScrollService.check(e,a),!!this.cellHasChanged){var s=this.calculateColumnsBetween(this.newestRangeStartCell.column,i.column);s&&(this.draggingRange.endRow={rowIndex:i.rowIndex,rowPinned:i.rowPinned},this.draggingRange.columns=s,this.dispatchChangedEvent(!1,!1,this.draggingRange.id))}}},t.prototype.onDragStop=function(){if(this.dragging){var e=this.draggingRange.id;this.autoScrollService.ensureCleared(),this.ctrlsService.getGridBodyCtrl().removeScrollEventListener(this.bodyScrollListener),this.lastMouseEvent=null,this.dragging=!1,this.draggingRange=void 0,this.lastCellHovered=void 0,this.intersectionRange&&(this.intersectionRange=!1,this.intersectLastRange()),this.dispatchChangedEvent(!1,!0,e)}},t.prototype.dispatchChangedEvent=function(e,r,i){var o={type:T.EVENT_RANGE_SELECTION_CHANGED,started:e,finished:r,id:i};this.eventService.dispatchEvent(o)},t.prototype.calculateColumnsBetween=function(e,r){var i=this.columnModel.getAllDisplayedColumns(),o=e===r,a=i.indexOf(e);if(a<0){console.warn("AG Grid: column ".concat(e.getId()," is not visible"));return}var s=o?a:i.indexOf(r);if(s<0){console.warn("AG Grid: column ".concat(r.getId()," is not visible"));return}if(o)return[e];for(var l=Math.min(a,s),u=l===a?s:a,c=[],d=l;d<=u;d++)c.push(i[d]);return c},pl([E("rowModel")],t.prototype,"rowModel",void 0),pl([E("dragService")],t.prototype,"dragService",void 0),pl([E("columnModel")],t.prototype,"columnModel",void 0),pl([E("cellNavigationService")],t.prototype,"cellNavigationService",void 0),pl([E("pinnedRowModel")],t.prototype,"pinnedRowModel",void 0),pl([E("rowPositionUtils")],t.prototype,"rowPositionUtils",void 0),pl([E("cellPositionUtils")],t.prototype,"cellPositionUtils",void 0),pl([E("ctrlsService")],t.prototype,"ctrlsService",void 0),pl([z],t.prototype,"init",null),t=pl([ie("rangeService")],t),t}(X),X5e=function(){var n=function(t,e){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])},n(t,e)};return function(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");n(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}}(),vs=function(n,t,e,r){var i=arguments.length,o=i<3?t:r===null?r=Object.getOwnPropertyDescriptor(t,e):r,a;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(n,t,e,r);else for(var s=n.length-1;s>=0;s--)(a=n[s])&&(o=(i<3?a(o):i>3?a(t,e,o):a(t,e))||o);return i>3&&o&&Object.defineProperty(t,e,o),o},Gte=function(n){X5e(t,n);function t(){var e=n!==null&&n.apply(this,arguments)||this;return e.changedCalculatedValues=!1,e.dragging=!1,e.shouldDestroyOnEndDragging=!1,e}return t.prototype.init=function(){var e=this;this.dragService.addDragSource({dragStartPixels:0,eElement:this.getGui(),onDragStart:this.onDragStart.bind(this),onDragging:function(r){e.dragging=!0,e.rangeService.autoScrollService.check(r),e.changedCalculatedValues&&(e.onDrag(r),e.changedCalculatedValues=!1)},onDragStop:function(r){e.dragging=!1,e.onDragEnd(r),e.clearValues(),e.rangeService.autoScrollService.ensureCleared(),document.body.classList.remove(e.getDraggingCssClass()),e.shouldDestroyOnEndDragging&&e.destroy()}}),this.addManagedListener(this.getGui(),"mousedown",this.preventRangeExtension.bind(this))},t.prototype.isDragging=function(){return this.dragging},t.prototype.getCellCtrl=function(){return this.cellCtrl},t.prototype.setCellCtrl=function(e){this.cellCtrl=e},t.prototype.getCellRange=function(){return this.cellRange},t.prototype.setCellRange=function(e){this.cellRange=e},t.prototype.getRangeStartRow=function(){return this.rangeStartRow},t.prototype.setRangeStartRow=function(e){this.rangeStartRow=e},t.prototype.getRangeEndRow=function(){return this.rangeEndRow},t.prototype.setRangeEndRow=function(e){this.rangeEndRow=e},t.prototype.getLastCellHovered=function(){return this.lastCellHovered},t.prototype.preventRangeExtension=function(e){e.stopPropagation()},t.prototype.onDragStart=function(e){this.cellHoverListener=this.addManagedListener(this.ctrlsService.getGridCtrl().getGui(),"mousemove",this.updateValuesOnMove.bind(this)),document.body.classList.add(this.getDraggingCssClass())},t.prototype.getDraggingCssClass=function(){return"ag-dragging-".concat(this.type===ac.FILL?"fill":"range","-handle")},t.prototype.updateValuesOnMove=function(e){var r=this.mouseEventService.getCellPositionForEvent(e);!r||this.lastCellHovered&&this.cellPositionUtils.equals(r,this.lastCellHovered)||(this.lastCellHovered=r,this.changedCalculatedValues=!0)},t.prototype.getType=function(){return this.type},t.prototype.refresh=function(e){var r=this.getCellCtrl(),i=this.getGui(),o=A.last(this.rangeService.getCellRanges()),a=o.startRow,s=o.endRow;if(a&&s){var l=this.rowPositionUtils.before(s,a);l?(this.setRangeStartRow(s),this.setRangeEndRow(a)):(this.setRangeStartRow(a),this.setRangeEndRow(s))}if(r!==e||!A.isVisible(i)){this.setCellCtrl(e);var u=e.getComp().getParentOfValue();u&&u.appendChild(i)}this.setCellRange(o)},t.prototype.clearValues=function(){this.lastCellHovered=void 0,this.removeListeners()},t.prototype.removeListeners=function(){this.cellHoverListener&&(this.cellHoverListener(),this.cellHoverListener=void 0)},t.prototype.destroy=function(){if(!this.shouldDestroyOnEndDragging&&this.isDragging()){A.setDisplayed(this.getGui(),!1),this.shouldDestroyOnEndDragging=!0;return}this.shouldDestroyOnEndDragging=!1,n.prototype.destroy.call(this),this.removeListeners();var e=this.getGui();e.parentElement&&e.parentElement.removeChild(e)},vs([E("rowRenderer")],t.prototype,"rowRenderer",void 0),vs([E("dragService")],t.prototype,"dragService",void 0),vs([E("rangeService")],t.prototype,"rangeService",void 0),vs([E("mouseEventService")],t.prototype,"mouseEventService",void 0),vs([E("columnModel")],t.prototype,"columnModel",void 0),vs([E("cellNavigationService")],t.prototype,"cellNavigationService",void 0),vs([E("navigationService")],t.prototype,"navigationService",void 0),vs([E("rowPositionUtils")],t.prototype,"rowPositionUtils",void 0),vs([E("cellPositionUtils")],t.prototype,"cellPositionUtils",void 0),vs([E("ctrlsService")],t.prototype,"ctrlsService",void 0),vs([z],t.prototype,"init",null),t}(ae);function q5e(n){var t=n.length,e=0;if(t<=1)return n;for(var r=0;r<n.length;r++){var i=n[r],o=i.toString().split("e-");if(o.length>1){e=Math.max(e,parseInt(o[1],10));continue}Math.floor(i)!==i&&(e=Math.max(e,i.toString().split(".")[1].length))}for(var a=0,s=0,l=0,u=0,c=0,d=0;d<t;d++)c=n[d],a+=d,s+=c,u+=d*d,l+=d*c;for(var p=(t*l-a*s)/(t*u-a*a),h=s/t-p*a/t,f=[],d=0;d<=t;d++)f.push(parseFloat((d*p+h).toFixed(e)));return f}var Z5e=function(){var n=function(t,e){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])},n(t,e)};return function(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");n(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}}(),Vv=function(){return Vv=Object.assign||function(n){for(var t,e=1,r=arguments.length;e<r;e++){t=arguments[e];for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(n[i]=t[i])}return n},Vv.apply(this,arguments)},vM=function(n,t,e,r){var i=arguments.length,o=i<3?t:r===null?r=Object.getOwnPropertyDescriptor(t,e):r,a;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(n,t,e,r);else for(var s=n.length-1;s>=0;s--)(a=n[s])&&(o=(i<3?a(o):i>3?a(t,e,o):a(t,e))||o);return i>3&&o&&Object.defineProperty(t,e,o),o},Q5e=function(n,t){var e=typeof Symbol=="function"&&n[Symbol.iterator];if(!e)return n;var r=e.call(n),i,o=[],a;try{for(;(t===void 0||t-- >0)&&!(i=r.next()).done;)o.push(i.value)}catch(s){a={error:s}}finally{try{i&&!i.done&&(e=r.return)&&e.call(r)}finally{if(a)throw a.error}}return o},J5e=function(n,t,e){if(e||arguments.length===2)for(var r=0,i=t.length,o;r<i;r++)(o||!(r in t))&&(o||(o=Array.prototype.slice.call(t,0,r)),o[r]=t[r]);return n.concat(o||Array.prototype.slice.call(t))},Vte=function(n){Z5e(t,n);function t(){var e=n.call(this,t.TEMPLATE)||this;return e.markedCells=[],e.cellValues=[],e.isUp=!1,e.isLeft=!1,e.isReduce=!1,e.type=ac.FILL,e}return t.prototype.updateValuesOnMove=function(e){n.prototype.updateValuesOnMove.call(this,e),this.initialXY||(this.initialXY=this.mouseEventService.getNormalisedPosition(e));var r=this.initialXY,i=r.x,o=r.y,a=this.mouseEventService.getNormalisedPosition(e),s=a.x,l=a.y,u=Math.abs(i-s),c=Math.abs(o-l),d=this.getFillHandleDirection(),p;d==="xy"?p=u>c?"x":"y":p=d,p!==this.dragAxis&&(this.dragAxis=p,this.changedCalculatedValues=!0)},t.prototype.onDrag=function(e){if(!this.initialPosition){var r=this.getCellCtrl();if(!r)return;this.initialPosition=r.getCellPosition()}var i=this.getLastCellHovered();i&&this.markPathFrom(this.initialPosition,i)},t.prototype.onDragEnd=function(e){if(this.initialXY=null,!!this.markedCells.length){var r=this.dragAxis==="x",i=this.getCellRange(),o=i.columns.length,a=this.getRangeStartRow(),s=this.getRangeEndRow(),l;if(!this.isUp&&!this.isLeft)l=this.rangeService.createCellRangeFromCellRangeParams({rowStartIndex:a.rowIndex,rowStartPinned:a.rowPinned,columnStart:i.columns[0],rowEndIndex:r?s.rowIndex:this.lastCellMarked.rowIndex,rowEndPinned:r?s.rowPinned:this.lastCellMarked.rowPinned,columnEnd:r?this.lastCellMarked.column:i.columns[o-1]});else{var u=r?a:this.lastCellMarked;l=this.rangeService.createCellRangeFromCellRangeParams({rowStartIndex:u.rowIndex,rowStartPinned:u.rowPinned,columnStart:r?this.lastCellMarked.column:i.columns[0],rowEndIndex:s.rowIndex,rowEndPinned:s.rowPinned,columnEnd:i.columns[o-1]})}l&&(this.raiseFillStartEvent(),this.handleValueChanged(i,l,e),this.rangeService.setCellRanges([l]),this.raiseFillEndEvent(i,l))}},t.prototype.getFillHandleDirection=function(){var e=this.gridOptionsService.get("fillHandleDirection");return e?e!=="x"&&e!=="y"&&e!=="xy"?(A.warnOnce("valid values for fillHandleDirection are 'x', 'y' and 'xy'. Default to 'xy'."),"xy"):e:"xy"},t.prototype.raiseFillStartEvent=function(){var e={type:T.EVENT_FILL_START};this.eventService.dispatchEvent(e)},t.prototype.raiseFillEndEvent=function(e,r){var i={type:T.EVENT_FILL_END,initialRange:e,finalRange:r};this.eventService.dispatchEvent(i)},t.prototype.handleValueChanged=function(e,r,i){var o=this,a=this.rangeService.getRangeEndRow(e),s=this.rangeService.getRangeStartRow(e),l=this.rangeService.getRangeEndRow(r),u=this.rangeService.getRangeStartRow(r),c=this.dragAxis==="y";if(this.isReduce&&!this.gridOptionsService.get("suppressClearOnFillReduction")){var d=c?e.columns:e.columns.filter(function(_){return r.columns.indexOf(_)<0}),p=c?this.cellNavigationService.getRowBelow(l):u;p&&this.clearCellsInRange(p,a,d);return}var h=[],f=[],v=[],g=[],y=!0,m=0,C=function(){h.length=0,f.length=0,v.length=0,g.length=0,m=0},S=function(_,x){var b=o.isUp?a:s,O=!1;c&&(y=!0,C());for(var P=function(){var N=o.rowPositionUtils.getRowNode(b);if(!N)return"break";c&&_?w(h,_,N,function(){return!o.rowPositionUtils.sameRow(b,o.isUp?s:a)}):x&&(y=!0,C(),x.forEach(function(L){return w(h,L,N,function(){return L!==(o.isLeft?e.columns[0]:A.last(e.columns))})})),O=o.rowPositionUtils.sameRow(b,o.isUp?u:l),b=o.isUp?o.cellNavigationService.getRowAbove(b):o.cellNavigationService.getRowBelow(b)};!O&&b;){var D=P();if(D==="break")break}},w=function(_,x,b,O){var P,D,N,L=!1;if(y)N=o.valueService.getValue(x,b),f.push(N),v.push(o.valueService.getValue(x,b,void 0,!0)),g.push(o.valueFormatterService.formatValue(x,b,N)),y=O();else{var I=o.processValues({event:i,values:_,initialValues:f,initialNonAggregatedValues:v,initialFormattedValues:g,col:x,rowNode:b,idx:m++}),k=I.value,H=I.fromUserFunction,$=I.sourceCol,V=I.sourceRowNode;if(N=k,x.isCellEditable(b)){var W=o.valueService.getValue(x,b);H||($&&((P=$.getColDef())===null||P===void 0?void 0:P.useValueFormatterForExport)!==!1&&(N=(D=o.valueFormatterService.formatValue($,V,N))!==null&&D!==void 0?D:N),x.getColDef().useValueParserForImport!==!1&&(N=o.valueParserService.parseValue(x,b,$?N:A.toStringOrNull(N),W))),!H||W!==N?b.setDataValue(x,N,"rangeService"):L=!0}}L||_.push({value:N,column:x,rowNode:b})};if(c)e.columns.forEach(function(_){S(_)});else{var d=this.isLeft?J5e([],Q5e(r.columns),!1).reverse():r.columns;S(void 0,d)}},t.prototype.clearCellsInRange=function(e,r,i){var o={startRow:e,endRow:r,columns:i,startColumn:i[0]};this.rangeService.clearCellRangeCellValues({cellRanges:[o]})},t.prototype.processValues=function(e){var r=e.event,i=e.values,o=e.initialValues,a=e.initialNonAggregatedValues,s=e.initialFormattedValues,l=e.col,u=e.rowNode,c=e.idx,d=this.gridOptionsService.getCallback("fillOperation"),p=this.dragAxis==="y",h;if(p?h=this.isUp?"up":"down":h=this.isLeft?"left":"right",d){var f={event:r,values:i.map(function(_){var x=_.value;return x}),initialValues:o,initialNonAggregatedValues:a,initialFormattedValues:s,currentIndex:c,currentCellValue:this.valueService.getValue(l,u),direction:h,column:l,rowNode:u},v=d(f);if(v!==!1)return{value:v,fromUserFunction:!0}}var g=!i.some(function(_){var x=_.value,b=parseFloat(x);return isNaN(b)||b.toString()!==x.toString()});if(r.altKey||!g){if(g&&o.length===1){var y=this.isUp||this.isLeft?-1:1;return{value:parseFloat(A.last(i).value)+1*y,fromUserFunction:!1}}var m=i[c%i.length],C=m.value,S=m.column,w=m.rowNode;return{value:C,fromUserFunction:!1,sourceCol:S,sourceRowNode:w}}return{value:A.last(q5e(i.map(function(_){var x=_.value;return Number(x)}))),fromUserFunction:!1}},t.prototype.clearValues=function(){this.clearMarkedPath(),this.clearCellValues(),this.lastCellMarked=void 0,n.prototype.clearValues.call(this)},t.prototype.clearMarkedPath=function(){this.markedCells.forEach(function(e){if(e.isAlive()){var r=e.getComp();r.addOrRemoveCssClass("ag-selection-fill-top",!1),r.addOrRemoveCssClass("ag-selection-fill-right",!1),r.addOrRemoveCssClass("ag-selection-fill-bottom",!1),r.addOrRemoveCssClass("ag-selection-fill-left",!1)}}),this.markedCells.length=0,this.isUp=!1,this.isLeft=!1,this.isReduce=!1},t.prototype.clearCellValues=function(){this.cellValues.length=0},t.prototype.markPathFrom=function(e,r){if(this.clearMarkedPath(),this.clearCellValues(),this.dragAxis==="y"){if(this.rowPositionUtils.sameRow(r,e))return;var i=this.rowPositionUtils.before(r,e),o=this.getRangeStartRow(),a=this.getRangeEndRow();i&&(r.rowPinned==o.rowPinned&&r.rowIndex>=o.rowIndex||o.rowPinned!=a.rowPinned&&r.rowPinned==a.rowPinned&&r.rowIndex<=a.rowIndex)?(this.reduceVertical(e,r),this.isReduce=!0):(this.extendVertical(e,r,i),this.isReduce=!1)}else{var s=e.column,l=r.column;if(s===l)return;var u=this.columnModel.getAllDisplayedColumns(),c=u.indexOf(s),d=u.indexOf(l);d<=c&&d>=u.indexOf(this.getCellRange().columns[0])?(this.reduceHorizontal(e,r),this.isReduce=!0):(this.extendHorizontal(e,r,d<c),this.isReduce=!1)}this.lastCellMarked=r},t.prototype.extendVertical=function(e,r,i){var o=this,a=o.navigationService,s=o.rangeService,l=e;do{for(var u=this.getCellRange(),c=u.columns.length,d=0;d<c;d++){var p=u.columns[d],h={rowIndex:l.rowIndex,rowPinned:l.rowPinned},f=Vv(Vv({},h),{column:p}),v=s.isCellInSpecificRange(f,u),g=this.rowPositionUtils.sameRow(l,e);if(i&&(this.isUp=!0),!g){var y=a.getCellByPosition(f);if(y){this.markedCells.push(y);var m=y.getComp();v||(m.addOrRemoveCssClass("ag-selection-fill-left",d===0),m.addOrRemoveCssClass("ag-selection-fill-right",d===c-1)),m.addOrRemoveCssClass(i?"ag-selection-fill-top":"ag-selection-fill-bottom",this.rowPositionUtils.sameRow(l,r))}}}if(this.rowPositionUtils.sameRow(l,r))break}while(l=i?this.cellNavigationService.getRowAbove(l):this.cellNavigationService.getRowBelow(l))},t.prototype.reduceVertical=function(e,r){var i=e;do{for(var o=this.getCellRange(),a=o.columns.length,s=this.rowPositionUtils.sameRow(i,r),l=0;l<a;l++){var u={rowIndex:i.rowIndex,rowPinned:i.rowPinned},c=Vv(Vv({},u),{column:o.columns[l]}),d=this.navigationService.getCellByPosition(c);if(d){this.markedCells.push(d);var p=d.getComp();p.addOrRemoveCssClass("ag-selection-fill-bottom",this.rowPositionUtils.sameRow(i,r))}}if(s)break}while(i=this.cellNavigationService.getRowAbove(i))},t.prototype.extendHorizontal=function(e,r,i){var o=this,a=this.columnModel.getAllDisplayedColumns(),s=a.indexOf(i?r.column:e.column),l=a.indexOf(i?this.getCellRange().columns[0]:r.column),u=i?0:1,c=a.slice(s+u,l+u),d=this.getRangeStartRow(),p=this.getRangeEndRow();c.forEach(function(h){var f=d,v=!1;do{v=o.rowPositionUtils.sameRow(f,p);var g=o.navigationService.getCellByPosition({rowIndex:f.rowIndex,rowPinned:f.rowPinned,column:h});if(g){o.markedCells.push(g);var y=g.getComp();y.addOrRemoveCssClass("ag-selection-fill-top",o.rowPositionUtils.sameRow(f,d)),y.addOrRemoveCssClass("ag-selection-fill-bottom",o.rowPositionUtils.sameRow(f,p)),i?(o.isLeft=!0,y.addOrRemoveCssClass("ag-selection-fill-left",h===c[0])):y.addOrRemoveCssClass("ag-selection-fill-right",h===A.last(c))}f=o.cellNavigationService.getRowBelow(f)}while(!v)})},t.prototype.reduceHorizontal=function(e,r){var i=this,o=this.columnModel.getAllDisplayedColumns(),a=o.indexOf(r.column),s=o.indexOf(e.column),l=o.slice(a,s),u=this.getRangeStartRow(),c=this.getRangeEndRow();l.forEach(function(d){var p=u,h=!1;do{h=i.rowPositionUtils.sameRow(p,c);var f=i.navigationService.getCellByPosition({rowIndex:p.rowIndex,rowPinned:p.rowPinned,column:d});if(f){i.markedCells.push(f);var v=f.getComp();v.addOrRemoveCssClass("ag-selection-fill-right",d===l[0])}p=i.cellNavigationService.getRowBelow(p)}while(!h)})},t.prototype.refresh=function(e){var r=this.rangeService.getCellRanges()[0],i=!r.startRow||!r.endRow;if(i){this.destroy();return}n.prototype.refresh.call(this,e)},t.TEMPLATE='<div class="ag-fill-handle"></div>',vM([E("valueService")],t.prototype,"valueService",void 0),vM([E("valueParserService")],t.prototype,"valueParserService",void 0),vM([E("valueFormatterService")],t.prototype,"valueFormatterService",void 0),t}(Gte),e4e=function(){var n=function(t,e){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])},n(t,e)};return function(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");n(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}}(),$O=function(){return $O=Object.assign||function(n){for(var t,e=1,r=arguments.length;e<r;e++){t=arguments[e];for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(n[i]=t[i])}return n},$O.apply(this,arguments)},Bte=function(n){e4e(t,n);function t(){var e=n.call(this,t.TEMPLATE)||this;return e.type=ac.RANGE,e.rangeFixed=!1,e}return t.prototype.onDrag=function(e){var r=this.getLastCellHovered();if(r){var i=this.rangeService.getCellRanges(),o=A.last(i);if(this.rangeFixed||(this.fixRangeStartEnd(o),this.rangeFixed=!0),this.endPosition={rowIndex:r.rowIndex,rowPinned:r.rowPinned,column:r.column},i.length===2&&i[0].type===uo.DIMENSION&&o.type===uo.VALUE){var a=!this.rowPositionUtils.sameRow(this.endPosition,this.rangeService.getRangeEndRow(o));a&&this.rangeService.updateRangeEnd(i[0],$O($O({},this.endPosition),{column:i[0].columns[0]}),!0)}this.rangeService.extendLatestRangeToCell(this.endPosition)}},t.prototype.onDragEnd=function(e){var r=A.last(this.rangeService.getCellRanges());this.fixRangeStartEnd(r),this.rangeFixed=!1},t.prototype.fixRangeStartEnd=function(e){var r=this.rangeService.getRangeStartRow(e),i=this.rangeService.getRangeEndRow(e),o=e.columns[0];e.startRow=r,e.endRow=i,e.startColumn=o},t.TEMPLATE='<div class="ag-range-handle"></div>',t}(Gte),t4e=function(){var n=function(t,e){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])},n(t,e)};return function(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");n(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}}(),r4e=function(n,t,e,r){var i=arguments.length,o=i<3?t:r===null?r=Object.getOwnPropertyDescriptor(t,e):r,a;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(n,t,e,r);else for(var s=n.length-1;s>=0;s--)(a=n[s])&&(o=(i<3?a(o):i>3?a(t,e,o):a(t,e))||o);return i>3&&o&&Object.defineProperty(t,e,o),o},n4e=function(n){t4e(t,n);function t(){return n!==null&&n.apply(this,arguments)||this}return t.prototype.createSelectionHandle=function(e){return this.createBean(e===ac.RANGE?new Bte:new Vte)},t=r4e([ie("selectionHandleFactory")],t),t}(X),i4e="31.1.1",Hte={version:i4e,moduleName:pe.RangeSelectionModule,beans:[Y5e,n4e],agStackComponents:[{componentName:"AgFillHandle",componentClass:Vte},{componentName:"AgRangeHandle",componentClass:Bte}],dependantModules:[jn]},zI=function(n,t){var e=typeof Symbol=="function"&&n[Symbol.iterator];if(!e)return n;var r=e.call(n),i,o=[],a;try{for(;(t===void 0||t-- >0)&&!(i=r.next()).done;)o.push(i.value)}catch(s){a={error:s}}finally{try{i&&!i.done&&(e=r.return)&&e.call(r)}finally{if(a)throw a.error}}return o},jte=28,$te=6;function KI(n){return n&&n.match(/\d+\.\d+\.\d+/)}function o4e(n){var t=n.gridMajorVersion,e=n.chartsMajorVersion,r=parseInt(t,10),i=parseInt(e,10),o=r-jte,a=i-$te,s=o>=0;return o===a&&s}function a4e(n){if(!(!n||!KI(n))){var t=zI(n.split(".")||[],2),e=t[0],r=t[1],i="".concat(e,".").concat(r,".x"),o=parseInt(e,10),a=o-jte+$te;if(!(a<0)){var s=r,l="".concat(a,".").concat(s,".x");return{gridMajorMinor:i,chartsMajorMinor:l}}}}function Ex(n){var t=n.type,e=n.gridVersion,r=n.chartsVersion,i="AG Grid: AG Grid version is incompatible. Please see https://www.ag-grid.com/javascript-data-grid/modules/ for more information.";if(!e)return i;var o=a4e(e);if(!o)return i;var a=o.gridMajorMinor,s=o.chartsMajorMinor;return t==="incompatible"?"AG Grid version ".concat(e," and AG Charts version ").concat(r," is not supported. AG Grid version ").concat(a," should be used with AG Chart ").concat(s,". Please see https://www.ag-grid.com/javascript-data-grid/modules/ for more information."):t==="invalidCharts"?"AG Grid version ".concat(a," should be used with AG Chart ").concat(s,". Please see https://www.ag-grid.com/javascript-data-grid/modules/ for more information."):i}function s4e(n){var t=n.gridVersion,e=n.chartsVersion;if(!KI(e))return{isValid:!1,message:Ex({type:"invalidCharts",gridVersion:t,chartsVersion:e})};if(!KI(t))return{isValid:!1,message:Ex({type:"invalidGrid",gridVersion:t,chartsVersion:e})};var r=zI(t.split(".")||[],2),i=r[0],o=r[1],a=zI(e.split(".")||[],2),s=a[0],l=a[1],u=o4e({gridMajorVersion:i,chartsMajorVersion:s});return u&&o===l?{isValid:!0}:!u||o!==l?{isValid:!1,message:Ex({type:"incompatible",gridVersion:t,chartsVersion:e})}:{isValid:!1,message:Ex({type:"invalid",gridVersion:t,chartsVersion:e})}}var l4e={version:hw,validate:function(){return s4e({gridVersion:hw,chartsVersion:g5.CHARTS_VERSION})},moduleName:pe.GridChartsModule,beans:[g5,$5e,U5e],agStackComponents:[{componentName:"AgColorPicker",componentClass:Ote},{componentName:"AgAngleSelect",componentClass:bte}],dependantModules:[Hte,jn]},u4e=function(){var n=function(t,e){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])},n(t,e)};return function(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");n(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}}(),YI=function(){return YI=Object.assign||function(n){for(var t,e=1,r=arguments.length;e<r;e++){t=arguments[e];for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(n[i]=t[i])}return n},YI.apply(this,arguments)},y5=function(n,t,e,r){var i=arguments.length,o=i<3?t:r===null?r=Object.getOwnPropertyDescriptor(t,e):r,a;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(n,t,e,r);else for(var s=n.length-1;s>=0;s--)(a=n[s])&&(o=(i<3?a(o):i>3?a(t,e,o):a(t,e))||o);return i>3&&o&&Object.defineProperty(t,e,o),o},Wte=function(n){u4e(t,n);function t(){var e=n!==null&&n.apply(this,arguments)||this;return e.loadRowDataVersion=0,e}return t.prototype.init=function(e,r){this.params=r,this.comp=e;var i=r.pinned!=null;i||(this.setAutoHeightClasses(),this.setupRefreshStrategy(),this.addThemeToDetailGrid(),this.createDetailGrid(),this.loadRowData(),this.addManagedListener(this.eventService,T.EVENT_FULL_WIDTH_ROW_FOCUSED,this.onFullWidthRowFocused.bind(this)))},t.prototype.onFullWidthRowFocused=function(e){var r=this.params,i={rowIndex:r.node.rowIndex,rowPinned:r.node.rowPinned},o={rowIndex:e.rowIndex,rowPinned:e.rowPinned},a=this.rowPositionUtils.sameRow(i,o);a&&this.focusService.focusInto(this.comp.getGui(),e.fromBelow)},t.prototype.setAutoHeightClasses=function(){var e=this.gridOptionsService.get("detailRowAutoHeight"),r=e?"ag-details-row-auto-height":"ag-details-row-fixed-height",i=e?"ag-details-grid-auto-height":"ag-details-grid-fixed-height";this.comp.addOrRemoveCssClass(r,!0),this.comp.addOrRemoveDetailGridCssClass(i,!0)},t.prototype.setupRefreshStrategy=function(){var e=this.params.refreshStrategy,r=e=="everything"||e=="nothing"||e=="rows";if(r){this.refreshStrategy=e;return}e!=null&&console.warn("AG Grid: invalid cellRendererParams.refreshStrategy = '"+e+"' supplied, defaulting to refreshStrategy = 'rows'."),this.refreshStrategy="rows"},t.prototype.addThemeToDetailGrid=function(){var e=this.environment.getTheme().theme;e&&this.comp.addOrRemoveDetailGridCssClass(e,!0)},t.prototype.createDetailGrid=function(){if(A.missing(this.params.detailGridOptions)){console.warn("AG Grid: could not find detail grid options for master detail, please set gridOptions.detailCellRendererParams.detailGridOptions");return}var e=this.gridOptionsService.get("detailRowAutoHeight"),r=YI({},this.params.detailGridOptions);e&&(r.domLayout="autoHeight"),this.comp.setDetailGrid(r)},t.prototype.registerDetailWithMaster=function(e,r){var i=this.params.node.id,o=this.params.api,a={id:i,api:e,columnApi:r},s=this.params.node;o.addDetailGridInfo(i,a),s.detailGridInfo=a,this.addDestroyFunc(function(){s.detailGridInfo===a&&(o.removeDetailGridInfo(i),s.detailGridInfo=null)})},t.prototype.loadRowData=function(){var e=this,r,i,o;this.loadRowDataVersion++;var a=this.loadRowDataVersion;if(((r=this.params.detailGridOptions)===null||r===void 0?void 0:r.rowModelType)==="serverSide"){var s=this.params.node;(o=(i=s.detailGridInfo)===null||i===void 0?void 0:i.api)===null||o===void 0||o.refreshServerSide({purge:!0});return}var l=this.params.getDetailRowData;if(!l){console.warn("AG Grid: could not find getDetailRowData for master / detail, please set gridOptions.detailCellRendererParams.getDetailRowData");return}var u=function(d){var p=e.loadRowDataVersion===a;p&&e.comp.setRowData(d)},c={node:this.params.node,data:this.params.node.data,successCallback:u,context:this.gridOptionsService.getGridCommonParams().context};l(c)},t.prototype.refresh=function(){var e=!1,r=!0;switch(this.refreshStrategy){case"nothing":return r;case"everything":return e}return this.loadRowData(),r},y5([E("rowPositionUtils")],t.prototype,"rowPositionUtils",void 0),y5([E("focusService")],t.prototype,"focusService",void 0),t}(X),c4e=function(){var n=function(t,e){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])},n(t,e)};return function(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");n(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}}(),d4e=function(n,t,e,r){var i=arguments.length,o=i<3?t:r===null?r=Object.getOwnPropertyDescriptor(t,e):r,a;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(n,t,e,r);else for(var s=n.length-1;s>=0;s--)(a=n[s])&&(o=(i<3?a(o):i>3?a(t,e,o):a(t,e))||o);return i>3&&o&&Object.defineProperty(t,e,o),o},p4e=function(n){c4e(t,n);function t(){return n!==null&&n.apply(this,arguments)||this}return t.prototype.init=function(e){var r=this;this.params=e,this.selectAndSetTemplate();var i={addOrRemoveCssClass:function(o,a){return r.addOrRemoveCssClass(o,a)},addOrRemoveDetailGridCssClass:function(o,a){return r.eDetailGrid.classList.toggle(o,a)},setDetailGrid:function(o){return r.setDetailGrid(o)},setRowData:function(o){return r.setRowData(o)},getGui:function(){return r.eDetailGrid}};this.ctrl=this.createManagedBean(new Wte),this.ctrl.init(i,e)},t.prototype.refresh=function(){return this.ctrl&&this.ctrl.refresh()},t.prototype.destroy=function(){n.prototype.destroy.call(this)},t.prototype.selectAndSetTemplate=function(){var e=this;if(this.params.pinned){this.setTemplate('<div class="ag-details-row"></div>');return}var r=function(){e.setTemplate(t.TEMPLATE)};if(A.missing(this.params.template))r();else if(typeof this.params.template=="string")this.setTemplate(this.params.template);else if(typeof this.params.template=="function"){var i=this.params.template,o=i(this.params);this.setTemplate(o)}else console.warn("AG Grid: detailCellRendererParams.template should be function or string"),r();this.eDetailGrid==null&&console.warn('AG Grid: reference to eDetailGrid was missing from the details template. Please add ref="eDetailGrid" to the template.')},t.prototype.setDetailGrid=function(e){if(this.eDetailGrid){var r=this.context.getBean("agGridReact"),i=r?A.cloneObject(r):void 0,o=this.context.getBean("frameworkComponentWrapper"),a=this.getFrameworkOverrides(),s=sq(this.eDetailGrid,e,{frameworkOverrides:a,providedBeanInstances:{agGridReact:i,frameworkComponentWrapper:o},modules:He.__getGridRegisteredModules(this.params.api.getGridId())});this.detailApi=s,this.ctrl.registerDetailWithMaster(s,new Uw(s)),this.addDestroyFunc(function(){s==null||s.destroy()})}},t.prototype.setRowData=function(e){this.detailApi&&this.detailApi.setGridOption("rowData",e)},t.TEMPLATE=`<div class="ag-details-row" role="gridcell">
            <div ref="eDetailGrid" class="ag-details-grid" role="presentation"></div>
        </div>`,d4e([j("eDetailGrid")],t.prototype,"eDetailGrid",void 0),t}(ae),h4e="31.1.1",f4e={version:h4e,moduleName:pe.MasterDetailModule,beans:[],userComponents:[{componentName:"agDetailCellRenderer",componentClass:p4e}],controllers:[{controllerName:"detailCellRenderer",controllerClass:Wte}],dependantModules:[jn]},JB=function(){var n=function(t,e){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])},n(t,e)};return function(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");n(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}}(),In=function(n,t,e,r){var i=arguments.length,o=i<3?t:r===null?r=Object.getOwnPropertyDescriptor(t,e):r,a;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(n,t,e,r);else for(var s=n.length-1;s>=0;s--)(a=n[s])&&(o=(i<3?a(o):i>3?a(t,e,o):a(t,e))||o);return i>3&&o&&Object.defineProperty(t,e,o),o},v4e=function(n){JB(t,n);function t(){return n!==null&&n.apply(this,arguments)||this}return t.prototype.hideActiveMenu=function(){this.destroyBean(this.activeMenu)},t.prototype.showMenuAfterMouseEvent=function(e,r,i,o){var a=this,s=o?"filterMenuTab":void 0;this.showMenu(e,function(l){var u,c=l.getGui();a.popupService.positionPopupUnderMouseEvent({type:i,column:e,mouseEvent:r,ePopup:c}),s&&((u=l.showTab)===null||u===void 0||u.call(l,s)),a.dispatchVisibleChangedEvent(!0,!1,e,s)},i,s,void 0,r.target)},t.prototype.showMenuAfterButtonClick=function(e,r,i,o){var a=this,s=-1,l="left";this.gridOptionsService.get("enableRtl")&&(s=1,l="right");var u=o?"filterMenuTab":void 0,c=u?[u]:void 0,d=this.menuService.isLegacyMenuEnabled(),p=(d?9:4)*s,h=d?-23:4;this.showMenu(e,function(f){var v,g=f.getGui();a.popupService.positionPopupByComponent({type:i,column:e,eventSource:r,ePopup:g,alignSide:l,nudgeX:p,nudgeY:h,position:"under",keepWithinBounds:!0}),u&&((v=f.showTab)===null||v===void 0||v.call(f,u)),a.dispatchVisibleChangedEvent(!0,!1,e,u)},i,u,c,r)},t.prototype.showMenu=function(e,r,i,o,a,s){var l=this,u,c=this.getMenuParams(e,a,s),d=c.menu,p=c.eMenuGui,h=c.anchorToElement,f=c.restoreFocusParams,v=[];e&&v.push(function(m){var C=d.getGui();l.destroyBean(d),e==null||e.setMenuVisible(!1,"contextMenu"),l.menuUtils.restoreFocusOnClose(f,C,m)});var g=this.localeService.getLocaleTextFunc();if(this.popupService.addPopup({modal:!0,eChild:p,closeOnEsc:!0,closedCallback:function(m){v.forEach(function(C){return C(m)}),l.dispatchVisibleChangedEvent(!1,!1,e,o)},afterGuiAttached:function(m){return d.afterGuiAttached(Object.assign({},{container:i},m))},positionCallback:o?function(){return r(d)}:void 0,ariaLabel:g("ariaLabelColumnMenu","Column Menu")}),o||((u=d.showTabBasedOnPreviousSelection)===null||u===void 0||u.call(d),r(d)),this.menuService.isColumnMenuAnchoringEnabled()){var y=this.popupService.setPopupPositionRelatedToElement(p,h);y&&e&&this.addStopAnchoring(y,e,v)}d.addEventListener(Tm.EVENT_TAB_SELECTED,function(m){l.dispatchVisibleChangedEvent(!1,!0,e),l.lastSelectedTab=m.key,l.dispatchVisibleChangedEvent(!0,!0,e)}),e==null||e.setMenuVisible(!0,"contextMenu"),this.activeMenu=d,d.addEventListener(X.EVENT_DESTROYED,function(){l.activeMenu===d&&(l.activeMenu=null)})},t.prototype.addStopAnchoring=function(e,r,i){e.then(function(o){r.addEventListener("leftChanged",o),r.addEventListener("visibleChanged",o),i.push(function(){r.removeEventListener("leftChanged",o),r.removeEventListener("visibleChanged",o)})})},t.prototype.getMenuParams=function(e,r,i){var o={column:e,headerPosition:this.focusService.getFocusedHeader(),columnIndex:this.columnModel.getAllDisplayedColumns().indexOf(e),eventSource:i},a=this.createMenu(e,o,r,i);return{menu:a,eMenuGui:a.getGui(),anchorToElement:i||this.ctrlsService.getGridBodyCtrl().getGui(),restoreFocusParams:o}},t.prototype.createMenu=function(e,r,i,o){return this.menuService.isLegacyMenuEnabled()?this.createBean(new Tm(e,r,this.lastSelectedTab,i,o)):this.createBean(new g4e(e,r,o))},t.prototype.dispatchVisibleChangedEvent=function(e,r,i,o){var a,s,l={type:T.EVENT_COLUMN_MENU_VISIBLE_CHANGED,visible:e,switchingTab:r,key:(s=(a=this.lastSelectedTab)!==null&&a!==void 0?a:o)!==null&&s!==void 0?s:this.menuService.isLegacyMenuEnabled()?Tm.TAB_GENERAL:"columnMenu",column:i??null};this.eventService.dispatchEvent(l)},t.prototype.isMenuEnabled=function(e){var r;if(!this.menuService.isLegacyMenuEnabled())return!0;var i=!this.filterManager.isFilterAllowed(e),o=(r=e.getColDef().menuTabs)!==null&&r!==void 0?r:Tm.TABS_DEFAULT,a=i&&o.includes(Tm.TAB_FILTER)?o.length-1:o.length;return a>0},t.prototype.showMenuAfterContextMenuEvent=function(e,r,i){var o=this;this.menuUtils.onContextMenu(r,i,function(a){return o.showMenuAfterMouseEvent(e,a,"columnMenu"),!0})},In([E("popupService")],t.prototype,"popupService",void 0),In([E("focusService")],t.prototype,"focusService",void 0),In([E("ctrlsService")],t.prototype,"ctrlsService",void 0),In([E("columnModel")],t.prototype,"columnModel",void 0),In([E("filterManager")],t.prototype,"filterManager",void 0),In([E("menuUtils")],t.prototype,"menuUtils",void 0),In([E("menuService")],t.prototype,"menuService",void 0),t=In([ie("enterpriseMenuFactory")],t),t}(X),Tm=function(n){JB(t,n);function t(e,r,i,o,a){var s=n.call(this)||this;return s.column=e,s.restoreFocusParams=r,s.initialSelection=i,s.restrictTo=o,s.sourceElement=a,s.tabFactories={},s.includeChecks={},s.tabFactories[t.TAB_GENERAL]=s.createMainPanel.bind(s),s.tabFactories[t.TAB_FILTER]=s.createFilterPanel.bind(s),s.tabFactories[t.TAB_COLUMNS]=s.createColumnsPanel.bind(s),s.includeChecks[t.TAB_GENERAL]=function(){return!0},s.includeChecks[t.TAB_FILTER]=function(){return e?s.filterManager.isFilterAllowed(e):!1},s.includeChecks[t.TAB_COLUMNS]=function(){return!0},s}return t.prototype.init=function(){var e=this,r=this.getTabsToCreate().map(function(i){return e.createTab(i)});this.tabbedLayout=new wG({items:r,cssClass:"ag-menu",onActiveItemClicked:this.onHidePopup.bind(this),onItemClicked:this.onTabItemClicked.bind(this)}),this.createBean(this.tabbedLayout),this.mainMenuList&&this.mainMenuList.setParentComponent(this.tabbedLayout),this.addDestroyFunc(function(){return e.destroyBean(e.tabbedLayout)})},t.prototype.getTabsToCreate=function(){var e=this,r,i;return this.restrictTo?this.restrictTo:((i=(r=this.column)===null||r===void 0?void 0:r.getColDef().menuTabs)!==null&&i!==void 0?i:t.TABS_DEFAULT).filter(function(o){return e.isValidMenuTabItem(o)}).filter(function(o){return e.isNotSuppressed(o)}).filter(function(o){return e.isModuleLoaded(o)})},t.prototype.isModuleLoaded=function(e){return e===t.TAB_COLUMNS?He.__isRegistered(pe.ColumnsToolPanelModule,this.context.getGridId()):!0},t.prototype.isValidMenuTabItem=function(e){var r=!0,i=t.TABS_DEFAULT;return this.restrictTo!=null&&(r=this.restrictTo.indexOf(e)>-1,i=this.restrictTo),r=r&&t.TABS_DEFAULT.indexOf(e)>-1,r||console.warn("AG Grid: Trying to render an invalid menu item '".concat(e,"'. Check that your 'menuTabs' contains one of [").concat(i,"]")),r},t.prototype.isNotSuppressed=function(e){return this.includeChecks[e]()},t.prototype.createTab=function(e){return this.tabFactories[e]()},t.prototype.showTabBasedOnPreviousSelection=function(){this.showTab(this.initialSelection)},t.prototype.showTab=function(e){this.tabItemColumns&&e===t.TAB_COLUMNS?this.tabbedLayout.showItem(this.tabItemColumns):this.tabItemFilter&&e===t.TAB_FILTER?this.tabbedLayout.showItem(this.tabItemFilter):this.tabItemGeneral&&e===t.TAB_GENERAL?this.tabbedLayout.showItem(this.tabItemGeneral):this.tabbedLayout.showFirstItem()},t.prototype.onTabItemClicked=function(e){var r=null;switch(e.item){case this.tabItemColumns:r=t.TAB_COLUMNS;break;case this.tabItemFilter:r=t.TAB_FILTER;break;case this.tabItemGeneral:r=t.TAB_GENERAL;break}r&&this.activateTab(r)},t.prototype.activateTab=function(e){var r={type:t.EVENT_TAB_SELECTED,key:e};this.dispatchEvent(r)},t.prototype.createMainPanel=function(){var e=this;return this.mainMenuList=this.columnMenuFactory.createMenu(this,this.column,function(){var r;return(r=e.sourceElement)!==null&&r!==void 0?r:e.getGui()}),this.mainMenuList.addEventListener(ja.EVENT_CLOSE_MENU,this.onHidePopup.bind(this)),this.tabItemGeneral={title:A.createIconNoSpan("menu",this.gridOptionsService,this.column),titleLabel:t.TAB_GENERAL.replace("MenuTab",""),bodyPromise:tt.resolve(this.mainMenuList.getGui()),name:t.TAB_GENERAL},this.tabItemGeneral},t.prototype.onHidePopup=function(e){this.menuUtils.closePopupAndRestoreFocusOnSelect(this.hidePopupFunc,this.restoreFocusParams,e)},t.prototype.createFilterPanel=function(){var e=this.column?this.filterManager.getOrCreateFilterWrapper(this.column,"COLUMN_MENU"):null;if(!e)throw new Error("AG Grid - Unable to instantiate filter");var r=function(o){e!=null&&e.filterPromise&&e.filterPromise.then(function(a){a&&a.afterGuiAttached&&a.afterGuiAttached(o)})},i=function(){var o;return(o=e==null?void 0:e.filterPromise)===null||o===void 0?void 0:o.then(function(a){var s;return(s=a==null?void 0:a.afterGuiDetached)===null||s===void 0?void 0:s.call(a)})};return this.tabItemFilter={title:A.createIconNoSpan("filter",this.gridOptionsService,this.column),titleLabel:t.TAB_FILTER.replace("MenuTab",""),bodyPromise:e==null?void 0:e.guiPromise,afterAttachedCallback:r,afterDetachedCallback:i,name:t.TAB_FILTER},this.tabItemFilter},t.prototype.createColumnsPanel=function(){var e=document.createElement("div");e.classList.add("ag-menu-column-select-wrapper");var r=this.columnChooserFactory.createColumnSelectPanel(this,this.column),i=r.getGui();return i.classList.add("ag-menu-column-select"),e.appendChild(i),this.tabItemColumns={title:A.createIconNoSpan("columns",this.gridOptionsService,this.column),titleLabel:t.TAB_COLUMNS.replace("MenuTab",""),bodyPromise:tt.resolve(e),name:t.TAB_COLUMNS},this.tabItemColumns},t.prototype.afterGuiAttached=function(e){var r=e.container,i=e.hidePopup;this.tabbedLayout.setAfterAttachedParams({container:r,hidePopup:i}),i&&(this.hidePopupFunc=i,this.addDestroyFunc(i))},t.prototype.getGui=function(){return this.tabbedLayout.getGui()},t.EVENT_TAB_SELECTED="tabSelected",t.TAB_FILTER="filterMenuTab",t.TAB_GENERAL="generalMenuTab",t.TAB_COLUMNS="columnsMenuTab",t.TABS_DEFAULT=[t.TAB_GENERAL,t.TAB_FILTER,t.TAB_COLUMNS],In([E("filterManager")],t.prototype,"filterManager",void 0),In([E("columnChooserFactory")],t.prototype,"columnChooserFactory",void 0),In([E("columnMenuFactory")],t.prototype,"columnMenuFactory",void 0),In([E("menuUtils")],t.prototype,"menuUtils",void 0),In([z],t.prototype,"init",null),t}(X),g4e=function(n){JB(t,n);function t(e,r,i){var o=n.call(this,`
            <div ref="eColumnMenu" role="presentation" class="ag-menu ag-column-menu"></div>
        `)||this;return o.column=e,o.restoreFocusParams=r,o.sourceElement=i,o}return t.prototype.init=function(){var e=this;this.mainMenuList=this.columnMenuFactory.createMenu(this,this.column,function(){var r;return(r=e.sourceElement)!==null&&r!==void 0?r:e.getGui()}),this.mainMenuList.addEventListener(ja.EVENT_CLOSE_MENU,this.onHidePopup.bind(this)),this.eColumnMenu.appendChild(this.mainMenuList.getGui())},t.prototype.onHidePopup=function(e){this.menuUtils.closePopupAndRestoreFocusOnSelect(this.hidePopupFunc,this.restoreFocusParams,e)},t.prototype.afterGuiAttached=function(e){var r=e.hidePopup;r&&(this.hidePopupFunc=r,this.addDestroyFunc(r)),this.focusService.focusInto(this.mainMenuList.getGui())},In([E("columnMenuFactory")],t.prototype,"columnMenuFactory",void 0),In([E("menuUtils")],t.prototype,"menuUtils",void 0),In([E("focusService")],t.prototype,"focusService",void 0),In([j("eColumnMenu")],t.prototype,"eColumnMenu",void 0),In([z],t.prototype,"init",null),t}(ae),Ute=function(){var n=function(t,e){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])},n(t,e)};return function(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");n(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}}(),WO=function(){return WO=Object.assign||function(n){for(var t,e=1,r=arguments.length;e<r;e++){t=arguments[e];for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(n[i]=t[i])}return n},WO.apply(this,arguments)},Pl=function(n,t,e,r){var i=arguments.length,o=i<3?t:r===null?r=Object.getOwnPropertyDescriptor(t,e):r,a;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(n,t,e,r);else for(var s=n.length-1;s>=0;s--)(a=n[s])&&(o=(i<3?a(o):i>3?a(t,e,o):a(t,e))||o);return i>3&&o&&Object.defineProperty(t,e,o),o},y4e="ag-menu",m5="ag-context-menu-open",m4e=function(n){Ute(t,n);function t(){return n!==null&&n.apply(this,arguments)||this}return t.prototype.hideActiveMenu=function(){this.destroyBean(this.activeMenu)},t.prototype.getMenuItems=function(e,r,i){var o=[];if(A.exists(e)&&He.__isRegistered(pe.ClipboardModule,this.context.getGridId())&&r&&(this.gridOptionsService.get("suppressCutToClipboard")||o.push("cut"),o.push("copy","copyWithHeaders","copyWithGroupHeaders","paste","separator")),this.gridOptionsService.get("enableCharts")&&He.__isRegistered(pe.GridChartsModule,this.context.getGridId())&&(this.columnModel.isPivotMode()&&o.push("pivotChart"),this.rangeService&&!this.rangeService.isEmpty()&&o.push("chartRange")),A.exists(e)){var a=!He.__isRegistered(pe.CsvExportModule,this.context.getGridId()),s=!He.__isRegistered(pe.ExcelExportModule,this.context.getGridId()),l=this.gridOptionsService.get("suppressExcelExport")||s,u=this.gridOptionsService.get("suppressCsvExport")||a,c=A.isIOSUserAgent(),d=!c&&(!l||!u);d&&o.push("export")}var p=o.length?o:void 0,h=r==null?void 0:r.getColDef().contextMenuItems;if(Array.isArray(h))return h;if(typeof h=="function")return h(this.gridOptionsService.addGridCommonParams({column:r,node:e,value:i,defaultItems:p}));var f=this.gridOptionsService.getCallback("getContextMenuItems");return f?f({column:r,node:e,value:i,defaultItems:p}):o},t.prototype.onContextMenu=function(e,r,i,o,a,s){var l=this;this.menuUtils.onContextMenu(e,r,function(u){return l.showMenu(i,o,a,u,s)})},t.prototype.showMenu=function(e,r,i,o,a){var s=this,l=this.getMenuItems(e,r,i),u=this.ctrlsService.getGridBodyCtrl().getGui();if(l===void 0||A.missingOrEmpty(l))return!1;var c=new C4e(l,r,e,i);this.createBean(c);var d=c.getGui(),p={column:r,rowNode:e,type:"contextMenu",mouseEvent:o,ePopup:d,nudgeY:1},h=this.localeService.getLocaleTextFunc(),f=this.popupService.addPopup({modal:!0,eChild:d,closeOnEsc:!0,closedCallback:function(){u.classList.remove(m5),s.destroyBean(c)},click:o,positionCallback:function(){var v=s.gridOptionsService.get("enableRtl");s.popupService.positionPopupUnderMouseEvent(WO(WO({},p),{nudgeX:v?(d.offsetWidth+1)*-1:1}))},anchorToElement:a,ariaLabel:h("ariaLabelContextMenu","Context Menu")});return f&&(u.classList.add(m5),c.afterGuiAttached({container:"contextMenu",hidePopup:f.hideFunc})),this.activeMenu&&this.hideActiveMenu(),this.activeMenu=c,c.addEventListener(X.EVENT_DESTROYED,function(){s.activeMenu===c&&(s.activeMenu=null)}),f&&c.addEventListener(ja.EVENT_CLOSE_MENU,f.hideFunc),!0},Pl([E("popupService")],t.prototype,"popupService",void 0),Pl([et("rangeService")],t.prototype,"rangeService",void 0),Pl([E("ctrlsService")],t.prototype,"ctrlsService",void 0),Pl([E("columnModel")],t.prototype,"columnModel",void 0),Pl([E("menuUtils")],t.prototype,"menuUtils",void 0),t=Pl([ie("contextMenuFactory")],t),t}(X),C4e=function(n){Ute(t,n);function t(e,r,i,o){var a=n.call(this,'<div class="'.concat(y4e,'" role="presentation"></div>'))||this;return a.menuItems=e,a.column=r,a.node=i,a.value=o,a.menuList=null,a.focusedCell=null,a}return t.prototype.addMenuItems=function(){var e=this,r=this.createManagedBean(new Ww(0,{column:this.column,node:this.node,value:this.value})),i=this.menuItemMapper.mapWithStockItems(this.menuItems,null,function(){return e.getGui()});r.addMenuItems(i),this.appendChild(r),this.menuList=r,r.addEventListener(ja.EVENT_CLOSE_MENU,function(o){return e.dispatchEvent(o)})},t.prototype.afterGuiAttached=function(e){e.hidePopup&&this.addDestroyFunc(e.hidePopup),this.focusedCell=this.focusService.getFocusedCell(),this.menuList&&this.focusService.focusInto(this.menuList.getGui())},t.prototype.restoreFocusedCell=function(){var e=this.focusService.getFocusedCell();if(e&&this.focusedCell&&this.cellPositionUtils.equals(e,this.focusedCell)){var r=this.focusedCell,i=r.rowIndex,o=r.rowPinned,a=r.column,s=this.gridOptionsService.getDocument();s.activeElement===s.body&&this.focusService.setFocusedCell({rowIndex:i,column:a,rowPinned:o,forceBrowserFocus:!0})}},t.prototype.destroy=function(){this.restoreFocusedCell(),n.prototype.destroy.call(this)},Pl([E("menuItemMapper")],t.prototype,"menuItemMapper",void 0),Pl([E("focusService")],t.prototype,"focusService",void 0),Pl([E("cellPositionUtils")],t.prototype,"cellPositionUtils",void 0),Pl([z],t.prototype,"addMenuItems",null),t}(ae),S4e=function(){var n=function(t,e){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])},n(t,e)};return function(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");n(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}}(),XI=function(){return XI=Object.assign||function(n){for(var t,e=1,r=arguments.length;e<r;e++){t=arguments[e];for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(n[i]=t[i])}return n},XI.apply(this,arguments)},hl=function(n,t,e,r){var i=arguments.length,o=i<3?t:r===null?r=Object.getOwnPropertyDescriptor(t,e):r,a;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(n,t,e,r);else for(var s=n.length-1;s>=0;s--)(a=n[s])&&(o=(i<3?a(o):i>3?a(t,e,o):a(t,e))||o);return i>3&&o&&Object.defineProperty(t,e,o),o},w4e=function(n){S4e(t,n);function t(){return n!==null&&n.apply(this,arguments)||this}return t.prototype.mapWithStockItems=function(e,r,i){var o=this;if(!e)return[];var a=[];return e.forEach(function(s){var l;if(typeof s=="string"?l=o.getStockMenuItem(s,r,i):l=XI({},s),!!l){var u=l,c=u.subMenu;c&&c instanceof Array&&(u.subMenu=o.mapWithStockItems(c,r,i)),l!=null&&a.push(l)}}),a},t.prototype.getStockMenuItem=function(e,r,i){var o=this,a,s=this.localeService.getLocaleTextFunc(),l=this.gridOptionsService.get("skipHeaderOnAutoSize");switch(e){case"pinSubMenu":return{name:s("pinColumn","Pin Column"),icon:A.createIconNoSpan("menuPin",this.gridOptionsService,null),subMenu:["clearPinned","pinLeft","pinRight"]};case"pinLeft":return{name:s("pinLeft","Pin Left"),action:function(){return o.columnModel.setColumnsPinned([r],"left","contextMenu")},checked:!!r&&r.isPinnedLeft()};case"pinRight":return{name:s("pinRight","Pin Right"),action:function(){return o.columnModel.setColumnsPinned([r],"right","contextMenu")},checked:!!r&&r.isPinnedRight()};case"clearPinned":return{name:s("noPin","No Pin"),action:function(){return o.columnModel.setColumnsPinned([r],null,"contextMenu")},checked:!!r&&!r.isPinned()};case"valueAggSubMenu":return He.__assertRegistered(pe.RowGroupingModule,"Aggregation from Menu",this.context.getGridId())?!(r!=null&&r.isPrimary())&&!(r!=null&&r.getColDef().pivotValueColumn)?null:{name:s("valueAggregation","Value Aggregation"),icon:A.createIconNoSpan("menuValue",this.gridOptionsService,null),subMenu:this.createAggregationSubMenu(r)}:null;case"autoSizeThis":return{name:s("autosizeThiscolumn","Autosize This Column"),action:function(){return o.columnModel.autoSizeColumn(r,"contextMenu",l)}};case"autoSizeAll":return{name:s("autosizeAllColumns","Autosize All Columns"),action:function(){return o.columnModel.autoSizeAllColumns("contextMenu",l)}};case"rowGroup":return{name:s("groupBy","Group by")+" "+A.escapeString(this.columnModel.getDisplayNameForColumn(r,"header")),disabled:(r==null?void 0:r.isRowGroupActive())||!(r!=null&&r.getColDef().enableRowGroup),action:function(){return o.columnModel.addRowGroupColumns([r],"contextMenu")},icon:A.createIconNoSpan("menuAddRowGroup",this.gridOptionsService,null)};case"rowUnGroup":var u=A.createIconNoSpan("menuRemoveRowGroup",this.gridOptionsService,null),c=r==null?void 0:r.getColDef().showRowGroup,d=this.gridOptionsService.get("groupLockGroupColumns");if(c===!0)return{name:s("ungroupAll","Un-Group All"),disabled:d===-1||d>=this.columnModel.getRowGroupColumns().length,action:function(){return o.columnModel.setRowGroupColumns(o.columnModel.getRowGroupColumns().slice(0,d),"contextMenu")},icon:u};if(typeof c=="string"){var p=this.columnModel.getPrimaryColumn(c),h=p!=null?A.escapeString(this.columnModel.getDisplayNameForColumn(p,"header")):c;return{name:s("ungroupBy","Un-Group by")+" "+h,disabled:p!=null&&this.columnModel.isColumnGroupingLocked(p),action:function(){return o.columnModel.removeRowGroupColumns([c],"contextMenu")},icon:u}}return{name:s("ungroupBy","Un-Group by")+" "+A.escapeString(this.columnModel.getDisplayNameForColumn(r,"header")),disabled:!(r!=null&&r.isRowGroupActive())||!(r!=null&&r.getColDef().enableRowGroup)||this.columnModel.isColumnGroupingLocked(r),action:function(){return o.columnModel.removeRowGroupColumns([r],"contextMenu")},icon:u};case"resetColumns":return{name:s("resetColumns","Reset Columns"),action:function(){return o.columnModel.resetColumnState("contextMenu")}};case"expandAll":return{name:s("expandAll","Expand All Row Groups"),action:function(){return o.gridApi.expandAll()}};case"contractAll":return{name:s("collapseAll","Collapse All Row Groups"),action:function(){return o.gridApi.collapseAll()}};case"copy":return He.__assertRegistered(pe.ClipboardModule,"Copy from Menu",this.context.getGridId())?{name:s("copy","Copy"),shortcut:s("ctrlC","Ctrl+C"),icon:A.createIconNoSpan("clipboardCopy",this.gridOptionsService,null),action:function(){return o.clipboardService.copyToClipboard()}}:null;case"copyWithHeaders":return He.__assertRegistered(pe.ClipboardModule,"Copy with Headers from Menu",this.context.getGridId())?{name:s("copyWithHeaders","Copy with Headers"),icon:A.createIconNoSpan("clipboardCopy",this.gridOptionsService,null),action:function(){return o.clipboardService.copyToClipboard({includeHeaders:!0})}}:null;case"copyWithGroupHeaders":return He.__assertRegistered(pe.ClipboardModule,"Copy with Group Headers from Menu",this.context.getGridId())?{name:s("copyWithGroupHeaders","Copy with Group Headers"),icon:A.createIconNoSpan("clipboardCopy",this.gridOptionsService,null),action:function(){return o.clipboardService.copyToClipboard({includeHeaders:!0,includeGroupHeaders:!0})}}:null;case"cut":if(He.__assertRegistered(pe.ClipboardModule,"Cut from Menu",this.context.getGridId())){var f=this.focusService.getFocusedCell(),v=f?this.rowPositionUtils.getRowNode(f):null,g=v?f==null?void 0:f.column.isCellEditable(v):!1;return{name:s("cut","Cut"),shortcut:s("ctrlX","Ctrl+X"),icon:A.createIconNoSpan("clipboardCut",this.gridOptionsService,null),disabled:!g||this.gridOptionsService.get("suppressCutToClipboard"),action:function(){return o.clipboardService.cutToClipboard(void 0,"contextMenu")}}}else return null;case"paste":return He.__assertRegistered(pe.ClipboardModule,"Paste from Clipboard",this.context.getGridId())?{name:s("paste","Paste"),shortcut:s("ctrlV","Ctrl+V"),disabled:!0,icon:A.createIconNoSpan("clipboardPaste",this.gridOptionsService,null),action:function(){return o.clipboardService.pasteFromClipboard()}}:null;case"export":var y=[],m=He.__isRegistered(pe.CsvExportModule,this.context.getGridId()),C=He.__isRegistered(pe.ExcelExportModule,this.context.getGridId());return!this.gridOptionsService.get("suppressCsvExport")&&m&&y.push("csvExport"),!this.gridOptionsService.get("suppressExcelExport")&&C&&y.push("excelExport"),{name:s("export","Export"),subMenu:y,icon:A.createIconNoSpan("save",this.gridOptionsService,null)};case"csvExport":return{name:s("csvExport","CSV Export"),icon:A.createIconNoSpan("csvExport",this.gridOptionsService,null),action:function(){return o.gridApi.exportDataAsCsv({})}};case"excelExport":return{name:s("excelExport","Excel Export"),icon:A.createIconNoSpan("excelExport",this.gridOptionsService,null),action:function(){return o.gridApi.exportDataAsExcel()}};case"separator":return"separator";case"pivotChart":case"chartRange":return(a=this.chartMenuItemMapper.getChartItems(e))!==null&&a!==void 0?a:null;case"columnFilter":return r?{name:s("columnFilter","Column Filter"),icon:A.createIconNoSpan("filter",this.gridOptionsService,null),action:function(){return o.menuService.showFilterMenu({column:r,buttonElement:i(),containerType:"columnFilter",positionBy:"button"})}}:null;case"columnChooser":return He.__isRegistered(pe.ColumnsToolPanelModule,this.context.getGridId())?{name:s("columnChooser","Choose Columns"),icon:A.createIconNoSpan("columns",this.gridOptionsService,null),action:function(){return o.menuService.showColumnChooser({column:r,eventSource:i()})}}:null;case"sortAscending":return{name:s("sortAscending","Sort Ascending"),icon:A.createIconNoSpan("sortAscending",this.gridOptionsService,null),action:function(){return o.sortController.setSortForColumn(r,"asc",!1,"columnMenu")}};case"sortDescending":return{name:s("sortDescending","Sort Descending"),icon:A.createIconNoSpan("sortDescending",this.gridOptionsService,null),action:function(){return o.sortController.setSortForColumn(r,"desc",!1,"columnMenu")}};case"sortUnSort":return{name:s("sortUnSort","Clear Sort"),icon:A.createIconNoSpan("sortUnSort",this.gridOptionsService,null),action:function(){return o.sortController.setSortForColumn(r,null,!1,"columnMenu")}};default:return console.warn("AG Grid: unknown menu item type ".concat(e)),null}},t.prototype.createAggregationSubMenu=function(e){var r=this,i=this.localeService.getLocaleTextFunc(),o;if(e.isPrimary())o=e;else{var a=e.getColDef().pivotValueColumn;o=A.exists(a)?a:void 0}var s=[];if(o){var l=o.isValueActive(),u=this.aggFuncService.getFuncNames(o);s.push({name:i("noAggregation","None"),action:function(){r.columnModel.removeValueColumns([o],"contextMenu"),r.columnModel.setColumnAggFunc(o,void 0,"contextMenu")},checked:!l}),u.forEach(function(c){s.push({name:i(c,r.aggFuncService.getDefaultFuncLabel(c)),action:function(){r.columnModel.setColumnAggFunc(o,c,"contextMenu"),r.columnModel.addValueColumns([o],"contextMenu")},checked:l&&o.getAggFunc()===c})})}return s},hl([E("columnModel")],t.prototype,"columnModel",void 0),hl([E("gridApi")],t.prototype,"gridApi",void 0),hl([et("clipboardService")],t.prototype,"clipboardService",void 0),hl([et("aggFuncService")],t.prototype,"aggFuncService",void 0),hl([E("focusService")],t.prototype,"focusService",void 0),hl([E("rowPositionUtils")],t.prototype,"rowPositionUtils",void 0),hl([E("chartMenuItemMapper")],t.prototype,"chartMenuItemMapper",void 0),hl([E("menuService")],t.prototype,"menuService",void 0),hl([E("sortController")],t.prototype,"sortController",void 0),t=hl([ie("menuItemMapper")],t),t}(X),_4e="31.1.1",x4e=function(){var n=function(t,e){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])},n(t,e)};return function(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");n(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}}(),Bv=function(){return Bv=Object.assign||function(n){for(var t,e=1,r=arguments.length;e<r;e++){t=arguments[e];for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(n[i]=t[i])}return n},Bv.apply(this,arguments)},C5=function(n,t,e,r){var i=arguments.length,o=i<3?t:r===null?r=Object.getOwnPropertyDescriptor(t,e):r,a;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(n,t,e,r);else for(var s=n.length-1;s>=0;s--)(a=n[s])&&(o=(i<3?a(o):i>3?a(t,e,o):a(t,e))||o);return i>3&&o&&Object.defineProperty(t,e,o),o},E4e=function(n,t){var e=typeof Symbol=="function"&&n[Symbol.iterator];if(!e)return n;var r=e.call(n),i,o=[],a;try{for(;(t===void 0||t-- >0)&&!(i=r.next()).done;)o.push(i.value)}catch(s){a={error:s}}finally{try{i&&!i.done&&(e=r.return)&&e.call(r)}finally{if(a)throw a.error}}return o},b4e=function(n){x4e(t,n);function t(){return n!==null&&n.apply(this,arguments)||this}e=t,t.prototype.getChartItems=function(r){var i,o;if(!this.chartService){He.__assertRegistered(pe.GridChartsModule,'the Context Menu key "'.concat(r,'"'),this.context.getGridId());return}var a=r==="pivotChart"?new O4e(this.gridOptionsService,this.chartService,this.localeService):new R4e(this.gridOptionsService,this.chartService,this.localeService),s=this.chartService.isEnterprise(),l=a.getMenuItem();if(l&&l.subMenu&&!s){var u=function(d){var p;return Bv(Bv({},d),{subMenu:(p=d.subMenu)===null||p===void 0?void 0:p.filter(function(h){return!h._enterprise}).map(function(h){return u(h)})})};l=u(l)}var c=(o=(i=this.gridOptionsService.get("chartToolPanelsDef"))===null||i===void 0?void 0:i.settingsPanel)===null||o===void 0?void 0:o.chartGroupsDef;return c&&(l=e.filterAndOrderChartMenu(l,c,a.getConfigLookup())),this.cleanInternals(l)},t.prototype.cleanInternals=function(r){if(!r)return r;var i=function(o){var a;return o==null||delete o._key,o==null||delete o._enterprise,(a=o==null?void 0:o.subMenu)===null||a===void 0||a.forEach(function(s){return i(s)}),o};return i(r)},t.buildLookup=function(r){var i={},o=function(a){i[a._key]=a,a.subMenu&&a.subMenu.forEach(function(s){return o(s)})};return o(r),i},t.filterAndOrderChartMenu=function(r,i,o){var a,s=this.buildLookup(r),l=Bv(Bv({},r),{subMenu:[]});if(Object.entries(i).forEach(function(u){var c,d,p=E4e(u,2),h=p[0],f=p[1],v=o[h];if(v!==null){if(v==null){A.warnOnce("invalid chartGroupsDef config '".concat(h,"'"));return}var g=s[v._key];if(g)if(g.subMenu){var y=f.map(function(m){var C=v[m];if(C==null){A.warnOnce("invalid chartGroupsDef config '".concat(h,".").concat(m,"'"));return}return s[C]}).filter(function(m){return m!==void 0});y.length>0&&(g.subMenu=y,(c=l.subMenu)===null||c===void 0||c.push(g))}else(d=l.subMenu)===null||d===void 0||d.push(g)}}),((a=l.subMenu)===null||a===void 0?void 0:a.length)!=0)return l};var e;return C5([et("chartService")],t.prototype,"chartService",void 0),t=e=C5([ie("chartMenuItemMapper")],t),t}(X),O4e=function(){function n(t,e,r){this.gridOptionsService=t,this.chartService=e,this.localeService=r}return n.prototype.getMenuItem=function(){var t=this,e=this.localeService.getLocaleTextFunc(),r=function(i,o,a,s,l){return l===void 0&&(l=!1),{name:e(i,o),action:function(){return t.chartService.createPivotChart({chartType:a})},_key:s,_enterprise:l}};return{name:e("pivotChart","Pivot Chart"),_key:"pivotChart",subMenu:[{_key:"pivotColumnChart",name:e("columnChart","Column"),subMenu:[r("groupedColumn","Grouped&lrm;","groupedColumn","pivotGroupedColumn"),r("stackedColumn","Stacked&lrm;","stackedColumn","pivotStackedColumn"),r("normalizedColumn","100% Stacked&lrm;","normalizedColumn","pivotNormalizedColumn")]},{_key:"pivotBarChart",name:e("barChart","Bar"),subMenu:[r("groupedBar","Grouped&lrm;","groupedBar","pivotGroupedBar"),r("stackedBar","Stacked&lrm;","stackedBar","pivotStackedBar"),r("normalizedBar","100% Stacked&lrm;","normalizedBar","pivotNormalizedBar")]},{_key:"pivotPieChart",name:e("pieChart","Pie"),subMenu:[r("pie","Pie&lrm;","pie","pivotPie"),r("donut","Donut&lrm;","donut","pivotDonut")]},r("line","Line&lrm;","line","pivotLineChart"),{_key:"pivotXYChart",name:e("xyChart","X Y (Scatter)"),subMenu:[r("scatter","Scatter&lrm;","scatter","pivotScatter"),r("bubble","Bubble&lrm;","bubble","pivotBubble")]},{_key:"pivotAreaChart",name:e("areaChart","Area"),subMenu:[r("area","Area&lrm;","area","pivotArea"),r("stackedArea","Stacked&lrm;","stackedArea","pivotStackedArea"),r("normalizedArea","100% Stacked&lrm;","normalizedArea","pivotNormalizedArea")]},{_key:"pivotStatisticalChart",_enterprise:!1,name:e("statisticalChart","Statistical"),subMenu:[r("histogramChart","Histogram&lrm;","histogram","pivotHistogram",!1)]},{_key:"pivotHierarchicalChart",_enterprise:!0,name:e("hierarchicalChart","Hierarchical"),subMenu:[r("treemapChart","Treemap&lrm;","treemap","pivotTreemap",!0),r("sunburstChart","Sunburst&lrm;","sunburst","pivotSunburst",!0)]},{_key:"pivotCombinationChart",name:e("combinationChart","Combination"),subMenu:[r("columnLineCombo","Column & Line&lrm;","columnLineCombo","pivotColumnLineCombo"),r("AreaColumnCombo","Area & Column&lrm;","areaColumnCombo","pivotAreaColumnCombo")]}],icon:A.createIconNoSpan("chart",this.gridOptionsService,void 0)}},n.prototype.getConfigLookup=function(){return{columnGroup:{_key:"pivotColumnChart",column:"pivotGroupedColumn",stackedColumn:"pivotStackedColumn",normalizedColumn:"pivotNormalizedColumn"},barGroup:{_key:"pivotBarChart",bar:"pivotGroupedBar",stackedBar:"pivotStackedBar",normalizedBar:"pivotNormalizedBar"},pieGroup:{_key:"pivotPieChart",pie:"pivotPie",donut:"pivotDonut",doughnut:"pivotDonut"},lineGroup:{_key:"pivotLineChart",line:"pivotLineChart"},scatterGroup:{_key:"pivotXYChart",bubble:"pivotBubble",scatter:"pivotScatter"},areaGroup:{_key:"pivotAreaChart",area:"pivotArea",stackedArea:"pivotStackedArea",normalizedArea:"pivotNormalizedArea"},combinationGroup:{_key:"pivotCombinationChart",columnLineCombo:"pivotColumnLineCombo",areaColumnCombo:"pivotAreaColumnCombo",customCombo:null},hierarchicalGroup:{_key:"pivotHierarchicalChart",treemap:"pivotTreemap",sunburst:"pivotSunburst"},statisticalGroup:{_key:"pivotStatisticalChart",histogram:"pivotHistogram",rangeBar:null,rangeArea:null,boxPlot:null},polarGroup:null,specializedGroup:null}},n}(),R4e=function(){function n(t,e,r){this.gridOptionsService=t,this.chartService=e,this.localeService=r}return n.prototype.getMenuItem=function(){var t=this,e=this.localeService.getLocaleTextFunc(),r=function(i,o,a,s,l){return l===void 0&&(l=!1),{name:e(i,o),action:function(){return t.chartService.createChartFromCurrentRange(a)},_key:s,_enterprise:l}};return{name:e("chartRange","Chart Range"),_key:"chartRange",subMenu:[{name:e("columnChart","Column"),subMenu:[r("groupedColumn","Grouped&lrm;","groupedColumn","rangeGroupedColumn"),r("stackedColumn","Stacked&lrm;","stackedColumn","rangeStackedColumn"),r("normalizedColumn","100% Stacked&lrm;","normalizedColumn","rangeNormalizedColumn")],_key:"rangeColumnChart"},{name:e("barChart","Bar"),subMenu:[r("groupedBar","Grouped&lrm;","groupedBar","rangeGroupedBar"),r("stackedBar","Stacked&lrm;","stackedBar","rangeStackedBar"),r("normalizedBar","100% Stacked&lrm;","normalizedBar","rangeNormalizedBar")],_key:"rangeBarChart"},{name:e("pieChart","Pie"),subMenu:[r("pie","Pie&lrm;","pie","rangePie"),r("donut","Donut&lrm;","donut","rangeDonut")],_key:"rangePieChart"},r("line","Line&lrm;","line","rangeLineChart"),{name:e("xyChart","X Y (Scatter)"),subMenu:[r("scatter","Scatter&lrm;","scatter","rangeScatter"),r("bubble","Bubble&lrm;","bubble","rangeBubble")],_key:"rangeXYChart"},{name:e("areaChart","Area"),subMenu:[r("area","Area&lrm;","area","rangeArea"),r("stackedArea","Stacked&lrm;","stackedArea","rangeStackedArea"),r("normalizedArea","100% Stacked&lrm;","normalizedArea","rangeNormalizedArea")],_key:"rangeAreaChart"},{name:e("polarChart","Polar"),subMenu:[r("radarLine","Radar Line&lrm;","radarLine","rangeRadarLine"),r("radarArea","Radar Area&lrm;","radarArea","rangeRadarArea"),r("nightingale","Nightingale&lrm;","nightingale","rangeNightingale"),r("radialColumn","Radial Column&lrm;","radialColumn","rangeRadialColumn"),r("radialBar","Radial Bar&lrm;","radialBar","rangeRadialBar")],_key:"rangePolarChart",_enterprise:!0},{name:e("statisticalChart","Statistical"),subMenu:[r("boxPlot","Box Plot&lrm;","boxPlot","rangeBoxPlot",!0),r("histogramChart","Histogram&lrm;","histogram","rangeHistogram",!1),r("rangeBar","Range Bar&lrm;","rangeBar","rangeRangeBar",!0),r("rangeArea","Range Area&lrm;","rangeArea","rangeRangeArea",!0)],_key:"rangeStatisticalChart",_enterprise:!1},{name:e("hierarchicalChart","Hierarchical"),subMenu:[r("treemap","Treemap&lrm;","treemap","rangeTreemap"),r("sunburst","Sunburst&lrm;","sunburst","rangeSunburst")],_key:"rangeHierarchicalChart",_enterprise:!0},{name:e("specializedChart","Specialized"),subMenu:[r("heatmap","Heatmap&lrm;","heatmap","rangeHeatmap"),r("waterfall","Waterfall&lrm;","waterfall","rangeWaterfall")],_key:"rangeSpecializedChart",_enterprise:!0},{name:e("combinationChart","Combination"),subMenu:[r("columnLineCombo","Column & Line&lrm;","columnLineCombo","rangeColumnLineCombo"),r("AreaColumnCombo","Area & Column&lrm;","areaColumnCombo","rangeAreaColumnCombo")],_key:"rangeCombinationChart"}],icon:A.createIconNoSpan("chart",this.gridOptionsService,void 0)}},n.prototype.getConfigLookup=function(){return{columnGroup:{_key:"rangeColumnChart",column:"rangeGroupedColumn",stackedColumn:"rangeStackedColumn",normalizedColumn:"rangeNormalizedColumn"},barGroup:{_key:"rangeBarChart",bar:"rangeGroupedBar",stackedBar:"rangeStackedBar",normalizedBar:"rangeNormalizedBar"},pieGroup:{_key:"rangePieChart",pie:"rangePie",donut:"rangeDonut",doughnut:"rangeDonut"},lineGroup:{_key:"rangeLineChart",line:"rangeLineChart"},scatterGroup:{_key:"rangeXYChart",bubble:"rangeBubble",scatter:"rangeScatter"},areaGroup:{_key:"rangeAreaChart",area:"rangeArea",stackedArea:"rangeStackedArea",normalizedArea:"rangeNormalizedArea"},polarGroup:{_key:"rangePolarChart",radarLine:"rangeRadarLine",radarArea:"rangeRadarArea",nightingale:"rangeNightingale",radialColumn:"rangeRadialColumn",radialBar:"rangeRadialBar"},statisticalGroup:{_key:"rangeStatisticalChart",boxPlot:"rangeBoxPlot",histogram:"rangeHistogram",rangeBar:"rangeRangeBar",rangeArea:"rangeRangeArea"},hierarchicalGroup:{_key:"rangeHierarchicalChart",treemap:"rangeTreemap",sunburst:"rangeSunburst"},specializedGroup:{_key:"rangeSpecializedChart",heatmap:"rangeHeatmap",waterfall:"rangeWaterfall"},combinationGroup:{_key:"rangeCombinationChart",columnLineCombo:"rangeColumnLineCombo",areaColumnCombo:"rangeAreaColumnCombo",customCombo:null}}},n}(),T4e=function(){var n=function(t,e){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])},n(t,e)};return function(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");n(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}}(),bx=function(n,t,e,r){var i=arguments.length,o=i<3?t:r===null?r=Object.getOwnPropertyDescriptor(t,e):r,a;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(n,t,e,r);else for(var s=n.length-1;s>=0;s--)(a=n[s])&&(o=(i<3?a(o):i>3?a(t,e,o):a(t,e))||o);return i>3&&o&&Object.defineProperty(t,e,o),o},P4e=function(n){T4e(t,n);function t(){return n!==null&&n.apply(this,arguments)||this}return t.prototype.createColumnSelectPanel=function(e,r,i,o){var a,s,l=e.createManagedBean(new SV),u=(s=(a=o??(r==null?void 0:r.getColDef().columnChooserParams))!==null&&a!==void 0?a:r==null?void 0:r.getColDef().columnsMenuParams)!==null&&s!==void 0?s:{},c=u.contractColumnSelection,d=u.suppressColumnExpandAll,p=u.suppressColumnFilter,h=u.suppressColumnSelectAll,f=u.suppressSyncLayoutWithGrid,v=u.columnLayout;return l.init(!!i,this.gridOptionsService.addGridCommonParams({suppressColumnMove:!1,suppressValues:!1,suppressPivots:!1,suppressRowGroups:!1,suppressPivotMode:!1,contractColumnSelection:!!c,suppressColumnExpandAll:!!d,suppressColumnFilter:!!p,suppressColumnSelectAll:!!h,suppressSyncLayoutWithGrid:!!v||!!f,onStateUpdated:function(){}}),"columnMenu"),v&&l.setColumnLayout(v),l},t.prototype.showColumnChooser=function(e){var r=this,i=e.column,o=e.chooserParams,a=e.eventSource;this.hideActiveColumnChooser();var s=this.createColumnSelectPanel(this,i,!0,o),l=this.localeService.getLocaleTextFunc(),u=this.columnModel.getAllDisplayedColumns().indexOf(i),c=i?this.focusService.getFocusedHeader():null;this.activeColumnChooserDialog=this.createBean(new rf({title:l("chooseColumns","Choose Columns"),component:s,width:300,height:300,resizable:!0,movable:!0,centered:!0,closable:!0,afterGuiAttached:function(){var d;(d=r.focusService.findNextFocusableElement(s.getGui()))===null||d===void 0||d.focus(),r.dispatchVisibleChangedEvent(!0,i)},closedCallback:function(d){var p=r.activeColumnChooser.getGui();r.destroyBean(r.activeColumnChooser),r.activeColumnChooser=void 0,r.activeColumnChooserDialog=void 0,r.dispatchVisibleChangedEvent(!1,i),i&&r.menuUtils.restoreFocusOnClose({column:i,headerPosition:c,columnIndex:u,eventSource:a},p,d,!0)}})),this.activeColumnChooser=s},t.prototype.hideActiveColumnChooser=function(){this.activeColumnChooserDialog&&this.destroyBean(this.activeColumnChooserDialog)},t.prototype.dispatchVisibleChangedEvent=function(e,r){var i={type:T.EVENT_COLUMN_MENU_VISIBLE_CHANGED,visible:e,switchingTab:!1,key:"columnChooser",column:r??null};this.eventService.dispatchEvent(i)},bx([E("focusService")],t.prototype,"focusService",void 0),bx([E("menuUtils")],t.prototype,"menuUtils",void 0),bx([E("columnModel")],t.prototype,"columnModel",void 0),t=bx([ie("columnChooserFactory")],t),t}(X),A4e=function(){var n=function(t,e){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])},n(t,e)};return function(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");n(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}}(),sv=function(n,t,e,r){var i=arguments.length,o=i<3?t:r===null?r=Object.getOwnPropertyDescriptor(t,e):r,a;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(n,t,e,r);else for(var s=n.length-1;s>=0;s--)(a=n[s])&&(o=(i<3?a(o):i>3?a(t,e,o):a(t,e))||o);return i>3&&o&&Object.defineProperty(t,e,o),o},D4e=function(n){A4e(t,n);function t(){return n!==null&&n.apply(this,arguments)||this}e=t,t.prototype.createMenu=function(r,i,o){var a=r.createManagedBean(new Ww(0,{column:i??null,node:null,value:null})),s=this.getMenuItems(i),l=this.menuItemMapper.mapWithStockItems(s,i??null,o);return a.addMenuItems(l),a},t.prototype.getMenuItems=function(r){var i=this.getDefaultMenuOptions(r),o,a=r==null?void 0:r.getColDef().mainMenuItems;if(Array.isArray(a))o=a;else if(typeof a=="function")o=a(this.gridOptionsService.addGridCommonParams({column:r,defaultItems:i}));else{var s=this.gridOptionsService.getCallback("getMainMenuItems");s&&r?o=s({column:r,defaultItems:i}):o=i}return A.removeRepeatsFromArray(o,e.MENU_ITEM_SEPARATOR),o},t.prototype.getDefaultMenuOptions=function(r){var i=[],o=this.menuService.isLegacyMenuEnabled();if(!r)return o||i.push("columnChooser"),i.push("resetColumns"),i;var a=!r.getColDef().lockPinned,s=this.columnModel.getRowGroupColumns().length,l=s>0,u=r.isAllowValue(),c=r.isAllowRowGroup(),d=r.isPrimary(),p=this.columnModel.isPivotMode(),h=this.rowModel.getType()==="clientSide",f=this.gridOptionsService.get("treeData"),v=d&&l&&u||!d;if(!o&&r.isSortable()){var g=r.getSort();g!=="asc"&&i.push("sortAscending"),g!=="desc"&&i.push("sortDescending"),g&&i.push("sortUnSort"),i.push(e.MENU_ITEM_SEPARATOR)}this.menuService.isFilterMenuItemEnabled(r)&&(i.push("columnFilter"),i.push(e.MENU_ITEM_SEPARATOR)),a&&i.push("pinSubMenu"),v&&i.push("valueAggSubMenu"),(a||v)&&i.push(e.MENU_ITEM_SEPARATOR),i.push("autoSizeThis"),i.push("autoSizeAll"),i.push(e.MENU_ITEM_SEPARATOR);var y=r.getColDef().showRowGroup;if(y)i.push("rowUnGroup");else if(c&&r.isPrimary())if(r.isRowGroupActive()){var m=this.columnModel.isColumnGroupingLocked(r);m||i.push("rowUnGroup")}else i.push("rowGroup");i.push(e.MENU_ITEM_SEPARATOR),o||i.push("columnChooser"),i.push("resetColumns");var C=h&&(f||s>(p?1:0));return C&&(i.push("expandAll"),i.push("contractAll")),i};var e;return t.MENU_ITEM_SEPARATOR="separator",sv([E("menuItemMapper")],t.prototype,"menuItemMapper",void 0),sv([E("columnModel")],t.prototype,"columnModel",void 0),sv([E("rowModel")],t.prototype,"rowModel",void 0),sv([E("filterManager")],t.prototype,"filterManager",void 0),sv([E("menuService")],t.prototype,"menuService",void 0),t=e=sv([ie("columnMenuFactory")],t),t}(X),M4e=function(){var n=function(t,e){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])},n(t,e)};return function(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");n(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}}(),Ox=function(n,t,e,r){var i=arguments.length,o=i<3?t:r===null?r=Object.getOwnPropertyDescriptor(t,e):r,a;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(n,t,e,r);else for(var s=n.length-1;s>=0;s--)(a=n[s])&&(o=(i<3?a(o):i>3?a(t,e,o):a(t,e))||o);return i>3&&o&&Object.defineProperty(t,e,o),o},L4e=function(n){M4e(t,n);function t(){return n!==null&&n.apply(this,arguments)||this}return t.prototype.restoreFocusOnClose=function(e,r,i,o){var a=e.eventSource,s=i instanceof KeyboardEvent;if(!(!o&&!s||!a)){var l=this.gridOptionsService.getDocument();!r.contains(l.activeElement)&&l.activeElement!==l.body||this.focusHeaderCell(e)}},t.prototype.closePopupAndRestoreFocusOnSelect=function(e,r,i){var o;i&&i.event&&i.event instanceof KeyboardEvent&&(o=i.event),e(o&&{keyboardEvent:o});var a=this.focusService.getFocusedCell(),s=this.gridOptionsService.getDocument();if(s.activeElement===s.body)if(a){var l=a.rowIndex,u=a.rowPinned,c=a.column;this.focusService.setFocusedCell({rowIndex:l,column:c,rowPinned:u,forceBrowserFocus:!0,preventScrollOnBrowserFocus:!0})}else this.focusHeaderCell(r)},t.prototype.onContextMenu=function(e,r,i){if(!(!this.gridOptionsService.get("allowContextMenuWithControlKey")&&e&&(e.ctrlKey||e.metaKey))&&(e&&this.blockMiddleClickScrollsIfNeeded(e),!this.gridOptionsService.get("suppressContextMenu"))){var o=e??r.touches[0];if(i(o)){var a=e??r;a.preventDefault()}}},t.prototype.focusHeaderCell=function(e){var r=e.column,i=e.columnIndex,o=e.headerPosition,a=e.eventSource,s=this.columnModel.getAllDisplayedColumns().some(function(d){return d===r});if(s&&a&&A.isVisible(a)){var l=this.focusService.findTabbableParent(a);l&&(r&&this.headerNavigationService.scrollToColumn(r),l.focus())}else if(o&&i!==-1){var u=this.columnModel.getAllDisplayedColumns(),c=u[i]||A.last(u);c&&this.focusService.focusHeaderPosition({headerPosition:{headerRowIndex:o.headerRowIndex,column:c}})}},t.prototype.blockMiddleClickScrollsIfNeeded=function(e){var r=this.gridOptionsService,i=e.which;r.get("suppressMiddleClickScrolls")&&i===2&&e.preventDefault()},Ox([E("focusService")],t.prototype,"focusService",void 0),Ox([E("headerNavigationService")],t.prototype,"headerNavigationService",void 0),Ox([E("columnModel")],t.prototype,"columnModel",void 0),t=Ox([ie("menuUtils")],t),t}(X),F4e={version:_4e,moduleName:pe.MenuModule,beans:[v4e,m4e,w4e,b4e,P4e,D4e,L4e],dependantModules:[jn]},I4e=function(){var n=function(t,e){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])},n(t,e)};return function(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");n(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}}(),Hv=function(){return Hv=Object.assign||function(n){for(var t,e=1,r=arguments.length;e<r;e++){t=arguments[e];for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(n[i]=t[i])}return n},Hv.apply(this,arguments)},gM=function(n,t,e,r){var i=arguments.length,o=i<3?t:r===null?r=Object.getOwnPropertyDescriptor(t,e):r,a;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(n,t,e,r);else for(var s=n.length-1;s>=0;s--)(a=n[s])&&(o=(i<3?a(o):i>3?a(t,e,o):a(t,e))||o);return i>3&&o&&Object.defineProperty(t,e,o),o},qI=function(n){I4e(t,n);function t(){var e=n.call(this,'<div class="ag-multi-filter ag-menu-list-compact"></div>')||this;return e.filterDefs=[],e.filters=[],e.guiDestroyFuncs=[],e.filterGuis=[],e.activeFilterIndices=[],e.lastActivatedMenuItem=null,e.afterFiltersReadyFuncs=[],e}return t.prototype.postConstruct=function(){var e=this;this.initialiseTabGuard({onFocusIn:function(r){return e.onFocusIn(r)}})},t.getFilterDefs=function(e){var r=e.filters;return r&&r.length>0?r:[{filter:"agTextColumnFilter"},{filter:"agSetColumnFilter"}]},t.prototype.init=function(e){var r=this;this.params=e,this.filterDefs=t.getFilterDefs(e);var i=e.column,o=e.filterChangedCallback;this.column=i,this.filterChangedCallback=o;var a=[];return this.filterDefs.forEach(function(s,l){var u=r.createFilter(s,l);u!=null&&a.push(u)}),new tt(function(s){tt.all(a).then(function(l){r.filters=l,r.refreshGui("columnMenu").then(function(){s()})})}).then(function(){r.afterFiltersReadyFuncs.forEach(function(s){return s()}),r.afterFiltersReadyFuncs.length=0})},t.prototype.refreshGui=function(e){var r=this;return e===this.lastOpenedInContainer?tt.resolve():(this.removeAllChildrenExceptTabGuards(),this.destroyChildren(),tt.all(this.filters.map(function(i,o){var a=r.filterDefs[o],s=r.getFilterTitle(i,a),l;if(a.display==="subMenu"&&e!=="toolPanel")l=r.insertFilterMenu(i,s).then(function(c){return c.getGui()});else if(a.display==="subMenu"||a.display==="accordion"){var u=r.insertFilterGroup(i,s);l=tt.resolve(u.getGui())}else l=tt.resolve(i.getGui());return l})).then(function(i){i.forEach(function(o,a){a>0&&r.appendChild(A.loadTemplate('<div class="ag-filter-separator"></div>')),r.appendChild(o)}),r.filterGuis=i,r.lastOpenedInContainer=e}))},t.prototype.getFilterTitle=function(e,r){return r.title!=null?r.title:e instanceof Yd?e.getFilterTitle():"Filter"},t.prototype.destroyChildren=function(){this.guiDestroyFuncs.forEach(function(e){return e()}),this.guiDestroyFuncs.length=0,this.filterGuis.length=0},t.prototype.insertFilterMenu=function(e,r){var i=this,o=this.createBean(new ja);return o.init({menuItemDef:{name:r,subMenu:[],cssClasses:["ag-multi-filter-menu-item"],menuItem:pG,menuItemParams:{cssClassPrefix:"ag-compact-menu-option",isCompact:!0}},level:0,isAnotherSubMenuOpen:function(){return!1},childComponent:e,contextParams:{column:null,node:null,value:null}}).then(function(){o.setParentComponent(i),i.guiDestroyFuncs.push(function(){return i.destroyBean(o)}),i.addManagedListener(o,ja.EVENT_MENU_ITEM_ACTIVATED,function(s){i.lastActivatedMenuItem&&i.lastActivatedMenuItem!==s.menuItem&&i.lastActivatedMenuItem.deactivate(),i.lastActivatedMenuItem=s.menuItem});var a=o.getGui();return o.addManagedListener(a,"keydown",function(s){var l=s.key;switch(l){case U.UP:case U.RIGHT:case U.DOWN:case U.LEFT:s.preventDefault(),l===U.RIGHT&&o.openSubMenu(!0);break}}),o.addManagedListener(a,"focusin",function(){return o.activate()}),o.addManagedListener(a,"focusout",function(){!o.isSubMenuOpen()&&!o.isSubMenuOpening()&&o.deactivate()}),o})},t.prototype.insertFilterGroup=function(e,r){var i=this,o=this.createBean(new Ha({title:r,cssIdentifier:"multi-filter"}));return this.guiDestroyFuncs.push(function(){return i.destroyBean(o)}),o.addItem(e.getGui()),o.toggleGroupExpand(!1),e.afterGuiAttached&&o.addManagedListener(o,Ha.EVENT_EXPANDED,function(){return e.afterGuiAttached({container:i.lastOpenedInContainer,suppressFocus:!0,hidePopup:i.hidePopup})}),o},t.prototype.isFilterActive=function(){return this.filters.some(function(e){return e.isFilterActive()})},t.prototype.getLastActiveFilterIndex=function(){return this.activeFilterIndices.length>0?this.activeFilterIndices[this.activeFilterIndices.length-1]:null},t.prototype.doesFilterPass=function(e,r){var i=!0;return this.filters.forEach(function(o){!i||o===r||!o.isFilterActive()||(i=o.doesFilterPass(e))}),i},t.prototype.getFilterType=function(){return"multi"},t.prototype.getModelFromUi=function(){var e={filterType:this.getFilterType(),filterModels:this.filters.map(function(r){var i=r;return typeof i.getModelFromUi=="function"?i.getModelFromUi():null})};return e},t.prototype.getModel=function(){if(!this.isFilterActive())return null;var e={filterType:this.getFilterType(),filterModels:this.filters.map(function(r){return r.isFilterActive()?r.getModel():null})};return e},t.prototype.setModel=function(e){var r=this,i=function(a,s){return new tt(function(l){var u=a.setModel(s);u?u.then(function(){return l()}):l()})},o=[];return e==null?o=this.filters.map(function(a,s){var l=i(a,null).then(function(){r.updateActiveList(s)});return l}):this.filters.forEach(function(a,s){var l=e.filterModels.length>s?e.filterModels[s]:null,u=i(a,l).then(function(){r.updateActiveList(s)});o.push(u)}),tt.all(o).then(function(){})},t.prototype.applyModel=function(e){e===void 0&&(e="api");var r=!1;return this.filters.forEach(function(i){i instanceof Yd&&(r=i.applyModel(e)||r)}),r},t.prototype.getChildFilterInstance=function(e){return this.filters[e]},t.prototype.afterGuiAttached=function(e){var r=this,i;e?(this.hidePopup=e.hidePopup,i=this.refreshGui(e.container)):(this.hidePopup=void 0,i=tt.resolve()),i.then(function(){var o=r.filterDefs,a=!1;o&&A.forEachReverse(o,function(u,c){var d,p=c===0,h=!p||u.display!=="inline",f=Hv(Hv({},e??{}),{suppressFocus:h}),v=(d=r.filters)===null||d===void 0?void 0:d[c];if(v&&(r.executeFunctionIfExistsOnFilter(v,"afterGuiAttached",f),p&&(a=!0)),p&&h){var g=r.filterGuis[c];g&&(g.focus(),a=!0)}});var s=r.gridOptionsService.getDocument(),l=s.activeElement;!a&&(l===s.body||r.getGui().contains(l))&&r.forceFocusOutOfContainer(!0)})},t.prototype.afterGuiDetached=function(){this.executeFunctionIfExists("afterGuiDetached")},t.prototype.onAnyFilterChanged=function(){this.executeFunctionIfExists("onAnyFilterChanged")},t.prototype.onNewRowsLoaded=function(){this.executeFunctionIfExists("onNewRowsLoaded")},t.prototype.destroy=function(){var e=this;this.filters.forEach(function(r){r.setModel(null),e.destroyBean(r)}),this.filters.length=0,this.destroyChildren(),this.hidePopup=void 0,n.prototype.destroy.call(this)},t.prototype.executeFunctionIfExists=function(e){for(var r=this,i=[],o=1;o<arguments.length;o++)i[o-1]=arguments[o];A.forEachReverse(this.filters,function(a){r.executeFunctionIfExistsOnFilter(a,e,i)})},t.prototype.executeFunctionIfExistsOnFilter=function(e,r){for(var i=[],o=2;o<arguments.length;o++)i[o-2]=arguments[o];var a=e[r];typeof a=="function"&&a.apply(e,i)},t.prototype.createFilter=function(e,r){var i=this,o=this.params,a=o.filterModifiedCallback,s=o.doesRowPassOtherFilter,l,u=Hv(Hv({},this.filterManager.createFilterParams(this.column,this.column.getColDef())),{filterModifiedCallback:a,filterChangedCallback:function(p){i.executeWhenAllFiltersReady(function(){return i.filterChanged(r,p)})},doesRowPassOtherFilter:function(p){return s(p)&&i.doesFilterPass({node:p,data:p.data},l)}}),c=this.userComponentFactory.getFilterDetails(e,u,"agTextColumnFilter");if(!c)return null;var d=c.newAgStackInstance();return d&&d.then(function(p){return l=p}),d},t.prototype.executeWhenAllFiltersReady=function(e){this.filters&&this.filters.length>0?e():this.afterFiltersReadyFuncs.push(e)},t.prototype.updateActiveList=function(e){var r=this.filters[e];A.removeFromArray(this.activeFilterIndices,e),r.isFilterActive()&&this.activeFilterIndices.push(e)},t.prototype.filterChanged=function(e,r){this.updateActiveList(e),this.filterChangedCallback(r);var i=this.filters[e];this.filters.forEach(function(o){o!==i&&typeof o.onAnyFilterChanged=="function"&&o.onAnyFilterChanged()})},t.prototype.onFocusIn=function(e){this.lastActivatedMenuItem!=null&&!this.lastActivatedMenuItem.getGui().contains(e.target)&&(this.lastActivatedMenuItem.deactivate(),this.lastActivatedMenuItem=null)},t.prototype.getModelAsString=function(e){var r,i,o,a;if(!this.filters||!(!((r=e==null?void 0:e.filterModels)===null||r===void 0)&&r.length))return"";var s=(i=this.getLastActiveFilterIndex())!==null&&i!==void 0?i:0,l=this.filters[s];return(a=(o=l.getModelAsString)===null||o===void 0?void 0:o.call(l,e.filterModels[s]))!==null&&a!==void 0?a:""},gM([E("filterManager")],t.prototype,"filterManager",void 0),gM([E("userComponentFactory")],t.prototype,"userComponentFactory",void 0),gM([z],t.prototype,"postConstruct",null),t}(Cc),N4e=function(){var n=function(t,e){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])},n(t,e)};return function(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");n(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}}(),UO=function(){return UO=Object.assign||function(n){for(var t,e=1,r=arguments.length;e<r;e++){t=arguments[e];for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(n[i]=t[i])}return n},UO.apply(this,arguments)},S5=function(n,t,e,r){var i=arguments.length,o=i<3?t:r===null?r=Object.getOwnPropertyDescriptor(t,e):r,a;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(n,t,e,r);else for(var s=n.length-1;s>=0;s--)(a=n[s])&&(o=(i<3?a(o):i>3?a(t,e,o):a(t,e))||o);return i>3&&o&&Object.defineProperty(t,e,o),o},k4e=function(n){N4e(t,n);function t(){var e=n.call(this,'<div class="ag-multi-floating-filter ag-floating-filter-input"></div>')||this;return e.floatingFilters=[],e.compDetailsList=[],e}return t.prototype.init=function(e){this.params=e;var r=this.getCompDetailsList(e).compDetailsList;return this.setParams(r)},t.prototype.setParams=function(e){var r=this,i=[];return e.forEach(function(o){var a=o==null?void 0:o.newAgStackInstance();a!=null&&(r.compDetailsList.push(o),i.push(a))}),tt.all(i).then(function(o){o.forEach(function(a,s){r.floatingFilters.push(a);var l=a.getGui();r.appendChild(l),s>0&&A.setDisplayed(l,!1)})})},t.prototype.onParamsUpdated=function(e){this.refresh(e)},t.prototype.refresh=function(e){var r=this;this.params=e;var i=this.getCompDetailsList(e),o=i.compDetailsList,a=i.floatingFilterParamsList,s=o.length===this.compDetailsList.length&&o.every(function(l,u){return!r.filterManager.areFilterCompsDifferent(r.compDetailsList[u],l)});s?a.forEach(function(l,u){var c,d=r.floatingFilters[u],p=!1;if(d.refresh){var h=d.refresh(l);h!==null&&(p=!0)}p||(c=d.onParamsUpdated)===null||c===void 0||c.call(d,l)}):(A.clearElement(this.getGui()),this.destroyBeans(this.floatingFilters),this.floatingFilters=[],this.compDetailsList=[],this.setParams(o))},t.prototype.getCompDetailsList=function(e){var r=this,i=[],o=[],a=e.filterParams;return qI.getFilterDefs(a).forEach(function(s,l){var u=UO(UO({},e),{parentFilterInstance:function(d){r.parentMultiFilterInstance(function(p){var h=p.getChildFilterInstance(l);h!=null&&d(h)})}});A.mergeDeep(u.filterParams,s.filterParams);var c=r.getCompDetails(s,u);c&&(i.push(c),o.push(u))}),{compDetailsList:i,floatingFilterParamsList:o}},t.prototype.onParentModelChanged=function(e,r){var i=this;r&&r.afterFloatingFilter||this.parentMultiFilterInstance(function(o){if(e==null)i.floatingFilters.forEach(function(s,l){s.onParentModelChanged(null,r),A.setDisplayed(s.getGui(),l===0)});else{var a=o.getLastActiveFilterIndex();i.floatingFilters.forEach(function(s,l){var u=e.filterModels.length>l?e.filterModels[l]:null;s.onParentModelChanged(u,r);var c=a==null?l===0:l===a;A.setDisplayed(s.getGui(),c)})}})},t.prototype.destroy=function(){this.destroyBeans(this.floatingFilters),this.floatingFilters.length=0,n.prototype.destroy.call(this)},t.prototype.getCompDetails=function(e,r){var i=this,o,a=(o=this.userComponentFactory.getDefaultFloatingFilterType(e,function(){return i.filterManager.getDefaultFloatingFilter(i.params.column)}))!==null&&o!==void 0?o:"agReadOnlyFloatingFilter";return this.userComponentFactory.getFloatingFilterCompDetails(e,r,a)},t.prototype.parentMultiFilterInstance=function(e){this.params.parentFilterInstance(function(r){if(!(r instanceof qI))throw new Error("AG Grid - MultiFloatingFilterComp expects MultiFilter as its parent");e(r)})},S5([E("userComponentFactory")],t.prototype,"userComponentFactory",void 0),S5([E("filterManager")],t.prototype,"filterManager",void 0),t}(ae),G4e="31.1.1",V4e={version:G4e,moduleName:pe.MultiFilterModule,beans:[],userComponents:[{componentName:"agMultiColumnFilter",componentClass:qI},{componentName:"agMultiColumnFloatingFilter",componentClass:k4e}],dependantModules:[jn]},B4e=function(){var n=function(t,e){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])},n(t,e)};return function(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");n(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}}(),w5=function(n){B4e(t,n);function t(){return n.call(this,'<div class="ag-cell-edit-wrapper"></div>')||this}return t.prototype.init=function(e){var r=this;this.params=e;var i=e.cellStartedEdit,o=e.cellHeight,a=e.values;A.missing(a)&&console.warn("AG Grid: agRichSelectCellEditor requires cellEditorParams.values to be set");var s=this.buildRichSelectParams(),l=s.params,u=s.valuesPromise;this.richSelect=this.createManagedBean(new $w(l)),this.richSelect.addCssClass("ag-cell-editor"),this.appendChild(this.richSelect),u&&u.then(function(c){r.richSelect.setValueList({valueList:c,refresh:!0});var d=r.getSearchStringCallback(c);d&&r.richSelect.setSearchStringCreator(d)}),this.addManagedListener(this.richSelect,T.EVENT_FIELD_PICKER_VALUE_SELECTED,this.onEditorPickerValueSelected.bind(this)),this.addManagedListener(this.richSelect.getGui(),"focusout",this.onEditorFocusOut.bind(this)),this.focusAfterAttached=i,A.exists(o)&&this.richSelect.setRowHeight(o)},t.prototype.onEditorPickerValueSelected=function(e){this.params.stopEditing(!e.fromEnterKey)},t.prototype.onEditorFocusOut=function(e){this.richSelect.getGui().contains(e.relatedTarget)||this.params.stopEditing(!0)},t.prototype.buildRichSelectParams=function(){var e=this.params,r=e.cellRenderer,i=e.value,o=e.values,a=e.formatValue,s=e.searchDebounceDelay,l=e.valueListGap,u=e.valueListMaxHeight,c=e.valueListMaxWidth,d=e.allowTyping,p=e.filterList,h=e.searchType,f=e.highlightMatch,v=e.valuePlaceholder,g=e.eventKey,y={value:i,cellRenderer:r,searchDebounceDelay:s,valueFormatter:a,pickerAriaLabelKey:"ariaLabelRichSelectField",pickerAriaLabelValue:"Rich Select Field",pickerType:"virtual-list",pickerGap:l,allowTyping:d,filterList:p,searchType:h,highlightMatch:f,maxPickerHeight:u,maxPickerWidth:c,placeholder:v,initialInputValue:(g==null?void 0:g.length)===1?g:void 0},m,C;return typeof o=="function"?m=o(this.params):m=o??[],Array.isArray(m)?(y.valueList=m,y.searchStringCreator=this.getSearchStringCallback(m)):C=m,{params:y,valuesPromise:C}},t.prototype.getSearchStringCallback=function(e){var r=this,i=this.params.colDef;if(!(typeof e[0]!="object"||!i.keyCreator))return function(o){return o.map(function(a){var s=r.gridOptionsService.addGridCommonParams({value:a,colDef:r.params.colDef,column:r.params.column,node:r.params.node,data:r.params.data});return i.keyCreator(s)})}},t.prototype.afterGuiAttached=function(){var e=this,r=this,i=r.focusAfterAttached,o=r.params;setTimeout(function(){if(e.isAlive()){if(i){var a=e.richSelect.getFocusableElement();a.focus();var s=e.params,l=s.allowTyping,u=s.eventKey;l&&(!u||u.length!==1)&&a.select()}e.richSelect.showPicker();var c=o.eventKey;c&&(c==null?void 0:c.length)===1&&e.richSelect.searchTextFromString(c)}})},t.prototype.getValue=function(){return this.richSelect.getValue()},t.prototype.isPopup=function(){return!1},t}(mc),H4e="31.1.1",j4e={version:H4e,moduleName:pe.RichSelectModule,beans:[],userComponents:[{componentName:"agRichSelect",componentClass:w5},{componentName:"agRichSelectCellEditor",componentClass:w5}],dependantModules:[jn]},$4e=function(){var n=function(t,e){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])},n(t,e)};return function(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");n(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}}(),No=function(n,t,e,r){var i=arguments.length,o=i<3?t:r===null?r=Object.getOwnPropertyDescriptor(t,e):r,a;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(n,t,e,r);else for(var s=n.length-1;s>=0;s--)(a=n[s])&&(o=(i<3?a(o):i>3?a(t,e,o):a(t,e))||o);return i>3&&o&&Object.defineProperty(t,e,o),o},ZI=function(n){$4e(t,n);function t(e,r,i){var o=n.call(this,0)||this;return o.nodeIdSequence=new ti,o.info={},o.ssrmParams=e,o.parentRowNode=i,o.level=i.level+1,o.groupLevel=e.rowGroupCols?o.level<e.rowGroupCols.length:void 0,o.leafGroup=e.rowGroupCols?o.level===e.rowGroupCols.length-1:!1,o}return t.prototype.postConstruct=function(){var e=this;if(this.usingTreeData=this.gridOptionsService.get("treeData"),this.nodeIdPrefix=this.blockUtils.createNodeIdPrefix(this.parentRowNode),!this.usingTreeData&&this.groupLevel){var r=this.ssrmParams.rowGroupCols[this.level];this.groupField=r.field,this.rowGroupColumn=this.columnModel.getRowGroupColumns()[this.level]}var i=1,o=this.parentRowNode.level===-1,a=this.storeUtils.getServerSideInitialRowCount();o&&a!=null&&(i=a),this.initialiseRowNodes(i),this.rowNodeBlockLoader.addBlock(this),this.addDestroyFunc(function(){return e.rowNodeBlockLoader.removeBlock(e)}),this.postSortFunc=this.gridOptionsService.getCallback("postSortRows"),a!=null&&this.eventService.dispatchEventOnce({type:T.EVENT_ROW_COUNT_READY})},t.prototype.destroyRowNodes=function(){this.blockUtils.destroyRowNodes(this.allRowNodes),this.allRowNodes=[],this.nodesAfterSort=[],this.nodesAfterFilter=[],this.allNodesMap={}},t.prototype.initialiseRowNodes=function(e,r){r===void 0&&(r=!1),this.destroyRowNodes();for(var i=0;i<e;i++){var o=this.blockUtils.createRowNode({field:this.groupField,group:this.groupLevel,leafGroup:this.leafGroup,level:this.level,parent:this.parentRowNode,rowGroupColumn:this.rowGroupColumn});r&&(o.failedLoad=!0),this.allRowNodes.push(o),this.nodesAfterFilter.push(o),this.nodesAfterSort.push(o)}},t.prototype.getBlockStateJson=function(){return{id:this.nodeIdPrefix?this.nodeIdPrefix:"",state:this.getState()}},t.prototype.loadFromDatasource=function(){this.storeUtils.loadFromDatasource({startRow:void 0,endRow:void 0,parentBlock:this,parentNode:this.parentRowNode,storeParams:this.ssrmParams,success:this.success.bind(this,this.getVersion()),fail:this.pageLoadFailed.bind(this,this.getVersion())})},t.prototype.getStartRow=function(){return 0},t.prototype.getEndRow=function(){return this.nodesAfterSort.length},t.prototype.createDataNode=function(e,r){var i=this.blockUtils.createRowNode({field:this.groupField,group:this.groupLevel,leafGroup:this.leafGroup,level:this.level,parent:this.parentRowNode,rowGroupColumn:this.rowGroupColumn});r!=null?A.insertIntoArray(this.allRowNodes,i,r):this.allRowNodes.push(i);var o=this.prefixId(this.nodeIdSequence.next());return this.blockUtils.setDataIntoRowNode(i,e,o,void 0),this.nodeManager.addRowNode(i),this.blockUtils.checkOpenByDefault(i),this.allNodesMap[i.id]=i,i},t.prototype.prefixId=function(e){return this.nodeIdPrefix?this.nodeIdPrefix+"-"+e:e.toString()},t.prototype.processServerFail=function(){this.initialiseRowNodes(1,!0),this.fireStoreUpdatedEvent(),this.flushAsyncTransactions()},t.prototype.processServerResult=function(e){if(this.isAlive()){var r=e.groupLevelInfo;r&&Object.assign(this.info,r),e.pivotResultFields&&this.serverSideRowModel.generateSecondaryColumns(e.pivotResultFields);var i=this.allRowNodes.length>0?this.allNodesMap:void 0;this.allRowNodes=[],this.nodesAfterSort=[],this.nodesAfterFilter=[],this.allNodesMap={},e.rowData||A.warnOnce('"params.data" is missing from Server-Side Row Model success() callback. Please use the "data" attribute. If no data is returned, set an empty list.'),this.createOrRecycleNodes(i,e.rowData),i&&this.blockUtils.destroyRowNodes(A.getAllValuesInObject(i)),this.level===0&&this.eventService.dispatchEventOnce({type:T.EVENT_ROW_COUNT_READY}),this.filterAndSortNodes(),this.fireStoreUpdatedEvent(),this.flushAsyncTransactions()}},t.prototype.createOrRecycleNodes=function(e,r){var i=this;if(r){var o=function(s){if(e){var l=i.gridOptionsService.getCallback("getRowId");if(l){var u=i.parentRowNode.getGroupKeys(),c=i.level,d=l({data:s,parentKeys:u.length>0?u:void 0,level:c}),p=e[d];if(p)return delete e[d],p}}},a=function(s,l){i.allNodesMap[s.id]=s,i.blockUtils.updateDataIntoRowNode(s,l),i.allRowNodes.push(s)};r.forEach(function(s){var l=o(s);l?a(l,s):i.createDataNode(s)})}},t.prototype.flushAsyncTransactions=function(){var e=this;window.setTimeout(function(){return e.transactionManager.flushAsyncTransactions()},0)},t.prototype.filterAndSortNodes=function(){this.filterRowNodes(),this.sortRowNodes()},t.prototype.sortRowNodes=function(){var e=this.storeUtils.isServerSideSortAllLevels()||this.storeUtils.isServerSideSortOnServer(),r=this.sortController.getSortOptions(),i=!r||r.length==0;if(e||i){this.nodesAfterSort=this.nodesAfterFilter;return}if(this.nodesAfterSort=this.rowNodeSorter.doFullSort(this.nodesAfterFilter,r),this.postSortFunc){var o={nodes:this.nodesAfterSort};this.postSortFunc(o)}},t.prototype.filterRowNodes=function(){var e=this,r=!this.storeUtils.isServerSideOnlyRefreshFilteredGroups()||this.storeUtils.isServerSideFilterOnServer(),i=this.groupLevel;if(r||i){this.nodesAfterFilter=this.allRowNodes;return}this.nodesAfterFilter=this.allRowNodes.filter(function(o){return e.filterManager.doesRowPassFilter({rowNode:o})})},t.prototype.clearDisplayIndexes=function(){var e=this;this.displayIndexStart=void 0,this.displayIndexEnd=void 0,this.allRowNodes.forEach(function(r){return e.blockUtils.clearDisplayIndex(r)})},t.prototype.getDisplayIndexEnd=function(){return this.displayIndexEnd},t.prototype.isDisplayIndexInStore=function(e){return this.getRowCount()===0?!1:e>=this.displayIndexStart&&e<this.displayIndexEnd},t.prototype.setDisplayIndexes=function(e,r){var i=this;this.displayIndexStart=e.peek(),this.topPx=r.value;var o={};this.nodesAfterSort.forEach(function(a){i.blockUtils.setDisplayIndex(a,e,r),o[a.id]=!0}),this.allRowNodes.forEach(function(a){o[a.id]||i.blockUtils.clearDisplayIndex(a)}),this.displayIndexEnd=e.peek(),this.heightPx=r.value-this.topPx},t.prototype.forEachStoreDeep=function(e,r){r===void 0&&(r=new ti),e(this,r.next()),this.allRowNodes.forEach(function(i){var o=i.childStore;o&&o.forEachStoreDeep(e,r)})},t.prototype.forEachNodeDeep=function(e,r){r===void 0&&(r=new ti),this.allRowNodes.forEach(function(i){e(i,r.next());var o=i.childStore;o&&o.forEachNodeDeep(e,r)})},t.prototype.forEachNodeDeepAfterFilterAndSort=function(e,r,i){r===void 0&&(r=new ti),i===void 0&&(i=!1),this.nodesAfterSort.forEach(function(o){e(o,r.next());var a=o.childStore;a&&a.forEachNodeDeepAfterFilterAndSort(e,r,i)}),i&&this.parentRowNode.sibling&&e(this.parentRowNode.sibling,r.next())},t.prototype.getRowUsingDisplayIndex=function(e){if(this.isDisplayIndexInStore(e)){var r=this.blockUtils.binarySearchForDisplayIndex(e,this.nodesAfterSort);return r}},t.prototype.getRowBounds=function(e){for(var r=0;r<this.nodesAfterSort.length;r++){var i=this.nodesAfterSort[r],o=this.blockUtils.extractRowBounds(i,e);if(o)return o}return null},t.prototype.isPixelInRange=function(e){return e>=this.topPx&&e<this.topPx+this.heightPx},t.prototype.getRowIndexAtPixel=function(e){var r=this,i=e<=this.topPx;if(i){var o=this.nodesAfterSort[0];return o.rowIndex}var a=e>=this.topPx+this.heightPx;if(a){var s=this.nodesAfterSort[this.nodesAfterSort.length-1],l=s.rowTop+s.rowHeight;if(e>=l&&s.expanded){if(s.childStore&&s.childStore.getRowCount()>0)return s.childStore.getRowIndexAtPixel(e);if(s.detailNode)return s.detailNode.rowIndex}return s.rowIndex}var u=null;this.nodesAfterSort.forEach(function(d){var p=r.blockUtils.getIndexAtPixel(d,e);p!=null&&(u=p)});var c=u==null;return c?this.displayIndexEnd-1:u},t.prototype.getChildStore=function(e){var r=this;return this.storeUtils.getChildStore(e,this,function(i){var o=r.allRowNodes.find(function(a){return a.key==i});return o})},t.prototype.forEachChildStoreShallow=function(e){this.allRowNodes.forEach(function(r){var i=r.childStore;i&&e(i)})},t.prototype.refreshAfterFilter=function(e){var r=this.storeUtils.isServerSideFilterOnServer(),i=this.storeUtils.isServerRefreshNeeded(this.parentRowNode,this.ssrmParams.rowGroupCols,e),o=!this.storeUtils.isServerSideOnlyRefreshFilteredGroups();if(o||r&&i){this.refreshStore(!0),this.sortRowNodes();return}this.filterRowNodes(),this.sortRowNodes(),this.forEachChildStoreShallow(function(a){return a.refreshAfterFilter(e)})},t.prototype.refreshAfterSort=function(e){var r=this.storeUtils.isServerSideSortOnServer(),i=this.storeUtils.isServerRefreshNeeded(this.parentRowNode,this.ssrmParams.rowGroupCols,e),o=this.storeUtils.isServerSideSortAllLevels();if(o||r&&i){this.refreshStore(!0),this.filterRowNodes();return}this.filterRowNodes(),this.sortRowNodes(),this.forEachChildStoreShallow(function(a){return a.refreshAfterSort(e)})},t.prototype.applyTransaction=function(e){switch(this.getState()){case Rl.STATE_FAILED:return{status:Qn.StoreLoadingFailed};case Rl.STATE_LOADING:return{status:Qn.StoreLoading};case Rl.STATE_WAITING_TO_LOAD:return{status:Qn.StoreWaitingToLoad}}var r=this.gridOptionsService.getCallback("isApplyServerSideTransaction");if(r){var i={transaction:e,parentNode:this.parentRowNode,groupLevelInfo:this.info},o=r(i);if(!o)return{status:Qn.Cancelled}}var a={status:Qn.Applied,remove:[],update:[],add:[]},s=[];return this.executeAdd(e,a),this.executeRemove(e,a,s),this.executeUpdate(e,a,s),this.filterAndSortNodes(),this.updateSelection(s),a},t.prototype.updateSelection=function(e){var r=e.length>0;if(r){this.selectionService.setNodesSelected({newValue:!1,nodes:e,suppressFinishActions:!0,clearSelection:!1,source:"rowDataChanged"});var i={type:T.EVENT_SELECTION_CHANGED,source:"rowDataChanged"};this.eventService.dispatchEvent(i)}},t.prototype.executeAdd=function(e,r){var i=this,o=e.add,a=e.addIndex;if(!A.missingOrEmpty(o)){var s=typeof a=="number"&&a>=0;s?o.reverse().forEach(function(l){var u=i.createDataNode(l,a);r.add.push(u)}):o.forEach(function(l){var u=i.createDataNode(l);r.add.push(u)})}},t.prototype.executeRemove=function(e,r,i){var o=this,a=e.remove;if(a!=null){var s={};a.forEach(function(l){var u=o.lookupRowNode(l);u&&(u.isSelected()&&i.push(u),u.clearRowTopAndRowIndex(),s[u.id]=!0,delete o.allNodesMap[u.id],r.remove.push(u),o.nodeManager.removeNode(u))}),this.allRowNodes=this.allRowNodes.filter(function(l){return!s[l.id]})}},t.prototype.executeUpdate=function(e,r,i){var o=this,a=e.update;a!=null&&a.forEach(function(s){var l=o.lookupRowNode(s);l&&(o.blockUtils.updateDataIntoRowNode(l,s),!l.selectable&&l.isSelected()&&i.push(l),r.update.push(l))})},t.prototype.lookupRowNode=function(e){var r=this.gridOptionsService.getCallback("getRowId"),i;if(r!=null){var o=this.level,a=this.parentRowNode.getGroupKeys(),s=r({data:e,parentKeys:a.length>0?a:void 0,level:o});if(i=this.allNodesMap[s],!i)return console.error("AG Grid: could not find row id=".concat(s,", data item was not found for this id")),null}else if(i=this.allRowNodes.find(function(l){return l.data===e}),!i)return console.error("AG Grid: could not find data item as object was not found",e),null;return i},t.prototype.addStoreStates=function(e){e.push({suppressInfiniteScroll:!0,route:this.parentRowNode.getGroupKeys(),rowCount:this.allRowNodes.length,info:this.info}),this.forEachChildStoreShallow(function(r){return r.addStoreStates(e)})},t.prototype.refreshStore=function(e){if(e){var r=this.nodesAfterSort?this.nodesAfterSort.length:1;this.initialiseRowNodes(r)}this.scheduleLoad(),this.fireStoreUpdatedEvent()},t.prototype.retryLoads=function(){this.getState()===Rl.STATE_FAILED&&(this.initialiseRowNodes(1),this.scheduleLoad()),this.forEachChildStoreShallow(function(e){return e.retryLoads()})},t.prototype.scheduleLoad=function(){this.setStateWaitingToLoad(),this.rowNodeBlockLoader.checkBlockToLoad()},t.prototype.fireStoreUpdatedEvent=function(){var e={type:T.EVENT_STORE_UPDATED};this.eventService.dispatchEvent(e)},t.prototype.getRowCount=function(){return this.nodesAfterSort.length},t.prototype.getTopLevelRowDisplayedIndex=function(e){var r=this.nodesAfterSort[e];return r.rowIndex},t.prototype.isLastRowIndexKnown=function(){return this.getState()==Rl.STATE_LOADED},t.prototype.getRowNodesInRange=function(e,r){var i=[],o=!1;A.missing(e)&&(o=!0),this.nodesAfterSort.forEach(function(s){var l=s===e||s===r;(o||l)&&i.push(s),l&&(o=!o)});var a=o;return a?[]:i},t.prototype.getStoreBounds=function(){return{topPx:this.topPx,heightPx:this.heightPx}},No([E("ssrmStoreUtils")],t.prototype,"storeUtils",void 0),No([E("ssrmBlockUtils")],t.prototype,"blockUtils",void 0),No([E("columnModel")],t.prototype,"columnModel",void 0),No([E("rowNodeBlockLoader")],t.prototype,"rowNodeBlockLoader",void 0),No([E("rowNodeSorter")],t.prototype,"rowNodeSorter",void 0),No([E("sortController")],t.prototype,"sortController",void 0),No([E("selectionService")],t.prototype,"selectionService",void 0),No([E("ssrmNodeManager")],t.prototype,"nodeManager",void 0),No([E("filterManager")],t.prototype,"filterManager",void 0),No([E("ssrmTransactionManager")],t.prototype,"transactionManager",void 0),No([E("rowModel")],t.prototype,"serverSideRowModel",void 0),No([z],t.prototype,"postConstruct",null),No([ar],t.prototype,"destroyRowNodes",null),t}(Rl),W4e=function(){var n=function(t,e){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])},n(t,e)};return function(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");n(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}}(),yM=function(n,t,e,r){var i=arguments.length,o=i<3?t:r===null?r=Object.getOwnPropertyDescriptor(t,e):r,a;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(n,t,e,r);else for(var s=n.length-1;s>=0;s--)(a=n[s])&&(o=(i<3?a(o):i>3?a(t,e,o):a(t,e))||o);return i>3&&o&&Object.defineProperty(t,e,o),o},U4e=function(n,t){var e=typeof Symbol=="function"&&n[Symbol.iterator];if(!e)return n;var r=e.call(n),i,o=[],a;try{for(;(t===void 0||t-- >0)&&!(i=r.next()).done;)o.push(i.value)}catch(s){a={error:s}}finally{try{i&&!i.done&&(e=r.return)&&e.call(r)}finally{if(a)throw a.error}}return o},z4e=function(n){W4e(t,n);function t(e,r,i){var o=n.call(this)||this;return o.loadingNodes=new Set,o.checkForLoadQueued=!1,o.loaderTimeout=void 0,o.nextBlockToLoad=void 0,o.parentNode=r,o.cache=e,o.storeParams=i,o}return t.prototype.init=function(){var e=this;this.addManagedListener(this.rowNodeBlockLoader,xG.BLOCK_LOADED_EVENT,function(){return e.queueLoadAction()})},t.prototype.isRowLoading=function(e){return this.loadingNodes.has(e)},t.prototype.getBlockToLoad=function(){for(var e=this,r,i=this.api.getFirstDisplayedRowIndex(),o=this.api.getLastDisplayedRowIndex(),a=i;a<=o;a++){var s=this.cache.getNodeCachedByDisplayIndex(a);if(s){var l=this.cache.getNodes().getBy("node",s);if(l&&!this.isRowLoading(l.index)&&(s.__needsRefreshWhenVisible||s.stub&&!s.failedLoad))return this.getBlockStartIndexForIndex(l.index)}}var u=this.cache.getNodesToRefresh(),c=null,d=Number.MAX_SAFE_INTEGER;u.forEach(function(h){if(h.rowIndex==null){c=h;return}if(!e.isRowLoading(h.rowIndex)){var f=Math.abs(i-h.rowIndex),v=Math.abs(h.rowIndex-o);f<d&&(c=h,d=f),v<d&&(c=h,d=v)}});var p=(r=this.cache.getNodes().getBy("node",c))===null||r===void 0?void 0:r.index;return p==null?void 0:this.getBlockStartIndexForIndex(p)},t.prototype.reset=function(){this.loadingNodes.clear(),clearTimeout(this.loaderTimeout),this.loaderTimeout=void 0},t.prototype.executeLoad=function(e,r){var i=this,o,a=this.cache.getSsrmParams(),s={startRow:e,endRow:r,rowGroupCols:a.rowGroupCols,valueCols:a.valueCols,pivotCols:a.pivotCols,pivotMode:a.pivotMode,groupKeys:this.parentNode.getGroupKeys(),filterModel:a.filterModel,sortModel:a.sortModel},l=function(){for(var h=0;h<r-e;h++)i.loadingNodes.delete(e+h)},u=function(){for(var h=0;h<r-e;h++)i.loadingNodes.add(e+h)},c=function(h){i.rowNodeBlockLoader.loadComplete(),i.cache.onLoadSuccess(e,r-e,h),l(),i.queueLoadAction()},d=function(){i.rowNodeBlockLoader.loadComplete(),i.cache.onLoadFailed(e,r-e),l(),i.queueLoadAction()},p=this.gridOptionsService.addGridCommonParams({request:s,success:c,fail:d,parentNode:this.parentNode});u(),(o=this.cache.getSsrmParams().datasource)===null||o===void 0||o.getRows(p)},t.prototype.getNextBlockToLoad=function(){var e=this.getBlockToLoad();return e!=null?[String(e),e+this.getBlockSize()]:null},t.prototype.queueLoadCheck=function(){var e=this;this.checkForLoadQueued||(this.checkForLoadQueued=!0,window.queueMicrotask(function(){e.checkForLoadQueued=!1,e.queueLoadAction()}))},t.prototype.queueLoadAction=function(){var e=this,r=this.getNextBlockToLoad();if(!r){window.clearTimeout(this.loaderTimeout),this.loaderTimeout=void 0,this.nextBlockToLoad=void 0;return}if(!this.nextBlockToLoad||this.nextBlockToLoad[0]!==r[0]&&this.nextBlockToLoad[1]!==r[1]){this.nextBlockToLoad=r,window.clearTimeout(this.loaderTimeout);var i=U4e(this.nextBlockToLoad,2),o=i[0],a=i[1],s=Number(o);this.loaderTimeout=window.setTimeout(function(){e.cache.isAlive()&&(e.loaderTimeout=void 0,e.attemptLoad(s,a),e.nextBlockToLoad=void 0)},this.gridOptionsService.get("blockLoadDebounceMillis"))}},t.prototype.attemptLoad=function(e,r){var i=this.rowNodeBlockLoader.getAvailableLoadingCount();i!=null&&i===0||(this.rowNodeBlockLoader.registerLoads(1),this.executeLoad(e,r),this.queueLoadAction())},t.prototype.getBlockSize=function(){return this.storeParams.cacheBlockSize||t.DEFAULT_BLOCK_SIZE},t.prototype.getBlockStartIndexForIndex=function(e){var r=this.getBlockSize();return e-e%r},t.prototype.getBlockBoundsForIndex=function(e){var r=this.getBlockStartIndexForIndex(e),i=this.getBlockSize();return[r,r+i]},t.DEFAULT_BLOCK_SIZE=100,yM([E("gridApi")],t.prototype,"api",void 0),yM([E("rowNodeBlockLoader")],t.prototype,"rowNodeBlockLoader",void 0),yM([z],t.prototype,"init",null),t}(X),K4e=function(){function n(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];if(t.length<1)throw new Error("AG Grid: At least one index must be provided.");this.indexes=t,this.maps=new Map(this.indexes.map(function(r){return[r,new Map]}))}return n.prototype.getSize=function(){return this.maps.get(this.indexes[0]).size},n.prototype.getBy=function(t,e){var r=this.maps.get(t);if(!r)throw new Error("AG Grid: ".concat(String(t)," not found"));return r.get(e)},n.prototype.set=function(t){var e=this;this.indexes.forEach(function(r){var i=e.maps.get(r);if(!i)throw new Error("AG Grid: ".concat(String(r)," not found"));i.set(t[r],t)})},n.prototype.delete=function(t){var e=this;this.indexes.forEach(function(r){var i=e.maps.get(r);if(!i)throw new Error("AG Grid: ".concat(String(r)," not found"));i.delete(t[r])})},n.prototype.clear=function(){this.maps.forEach(function(t){return t.clear()})},n.prototype.getIterator=function(t){var e=this.maps.get(t);if(!e)throw new Error("AG Grid: ".concat(String(t)," not found"));return e.values()},n.prototype.forEach=function(t){for(var e=this.getIterator(this.indexes[0]),r;(r=e.next())&&!r.done;)t(r.value)},n.prototype.find=function(t){for(var e=this.getIterator(this.indexes[0]),r;(r=e.next())&&!r.done;)if(t(r.value))return r.value},n.prototype.filter=function(t){for(var e=this.getIterator(this.indexes[0]),r,i=[];(r=e.next())&&!r.done;)t(r.value)&&i.push(r.value);return i},n}(),Y4e=function(){var n=function(t,e){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])},n(t,e)};return function(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");n(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}}(),bu=function(n,t,e,r){var i=arguments.length,o=i<3?t:r===null?r=Object.getOwnPropertyDescriptor(t,e):r,a;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(n,t,e,r);else for(var s=n.length-1;s>=0;s--)(a=n[s])&&(o=(i<3?a(o):i>3?a(t,e,o):a(t,e))||o);return i>3&&o&&Object.defineProperty(t,e,o),o},Hp=function(n,t){var e=typeof Symbol=="function"&&n[Symbol.iterator];if(!e)return n;var r=e.call(n),i,o=[],a;try{for(;(t===void 0||t-- >0)&&!(i=r.next()).done;)o.push(i.value)}catch(s){a={error:s}}finally{try{i&&!i.done&&(e=r.return)&&e.call(r)}finally{if(a)throw a.error}}return o},mM=function(n,t,e){if(e||arguments.length===2)for(var r=0,i=t.length,o;r<i;r++)(o||!(r in t))&&(o||(o=Array.prototype.slice.call(t,0,r)),o[r]=t[r]);return n.concat(o||Array.prototype.slice.call(t))},CM=function(n){Y4e(t,n);function t(e,r,i){var o=n.call(this)||this;return o.live=!0,o.removedNodeCache=new Map,o.store=e,o.numberOfRows=r,o.isLastRowKnown=!1,o.storeParams=i,o}return t.prototype.init=function(){this.nodeMap=new K4e("index","id","node"),this.nodeDisplayIndexMap=new Map,this.nodesToRefresh=new Set,this.defaultNodeIdPrefix=this.blockUtils.createNodeIdPrefix(this.store.getParentNode()),this.rowLoader=this.createManagedBean(new z4e(this,this.store.getParentNode(),this.storeParams)),this.getRowIdFunc=this.gridOptionsService.getCallback("getRowId"),this.isMasterDetail=this.gridOptionsService.get("masterDetail")},t.prototype.destroyRowNodes=function(){var e=this;this.numberOfRows=0,this.nodeMap.forEach(function(r){return e.blockUtils.destroyRowNode(r.node)}),this.nodeMap.clear(),this.nodeDisplayIndexMap.clear(),this.nodesToRefresh.clear(),this.live=!1},t.prototype.getRowByDisplayIndex=function(e){var r,i,o,a;if(this.store.isDisplayIndexInStore(e)){var s=this.nodeDisplayIndexMap.get(e);if(s)return(s.stub||s.__needsRefreshWhenVisible)&&this.rowLoader.queueLoadCheck(),s;if(e===this.store.getDisplayIndexStart())return this.createStubNode(0,e);var l=this.nodeDisplayIndexMap.get(e-1);if(l){if(this.isMasterDetail&&l.master&&l.expanded)return l.detailNode;if(l.expanded&&(!((r=l.childStore)===null||r===void 0)&&r.isDisplayIndexInStore(e)))return(i=l.childStore)===null||i===void 0?void 0:i.getRowUsingDisplayIndex(e);var u=this.nodeMap.getBy("node",l);return this.createStubNode(u.index+1,e)}var c=this.getSurroundingNodesByDisplayIndex(e);if(c==null){var d=this.store.getRowCount()-(this.store.getDisplayIndexEnd()-e);return this.createStubNode(d,e)}var p=c.previousNode,h=c.nextNode;if(p&&p.node.expanded&&(!((o=p.node.childStore)===null||o===void 0)&&o.isDisplayIndexInStore(e)))return(a=p.node.childStore)===null||a===void 0?void 0:a.getRowUsingDisplayIndex(e);if(h){var f=h.node.rowIndex-e,v=h.index-f;return this.createStubNode(v,e)}var g=this.store.getRowCount()-(this.store.getDisplayIndexEnd()-e);return this.createStubNode(g,e)}},t.prototype.createStubNode=function(e,r){var i=this,o=this.store.getRowBounds(r),a=this.createRowAtIndex(e,null,function(s){s.setRowIndex(r),s.setRowTop(o.rowTop),i.nodeDisplayIndexMap.set(r,s)});return this.rowLoader.queueLoadCheck(),a},t.prototype.getRowByStoreIndex=function(e){var r;return(r=this.nodeMap.getBy("index",e))===null||r===void 0?void 0:r.node},t.prototype.skipDisplayIndexes=function(e,r,i){if(e!==0){var o=this.gridOptionsService.getRowHeightAsNumber();r.skip(e),i.value+=e*o}},t.prototype.setDisplayIndexes=function(e,r){this.nodeDisplayIndexMap.clear();var i={};this.nodeMap.forEach(function(d){i[d.index]=d.node});var o=-1;for(var a in i){var s=i[a],l=Number(a),u=l-1-o;this.skipDisplayIndexes(u,e,r),this.blockUtils.setDisplayIndex(s,e,r),this.nodeDisplayIndexMap.set(s.rowIndex,s),o=l}var c=this.numberOfRows-1-o;this.skipDisplayIndexes(c,e,r),this.purgeExcessRows()},t.prototype.getRowCount=function(){return this.numberOfRows},t.prototype.setRowCount=function(e,r){if(e<0)throw new Error("AG Grid: setRowCount can only accept a positive row count.");this.numberOfRows=e,r!=null&&(this.isLastRowKnown=r,r===!1&&(this.numberOfRows+=1)),this.fireStoreUpdatedEvent()},t.prototype.getNodes=function(){return this.nodeMap},t.prototype.getNodeCachedByDisplayIndex=function(e){var r;return(r=this.nodeDisplayIndexMap.get(e))!==null&&r!==void 0?r:null},t.prototype.getNodesToRefresh=function(){return this.nodesToRefresh},t.prototype.getSurroundingNodesByDisplayIndex=function(e){var r,i;return this.nodeMap.forEach(function(o){if(e>o.node.rowIndex){(i==null||i.node.rowIndex<o.node.rowIndex)&&(i=o);return}if(r==null||r.node.rowIndex>o.node.rowIndex){r=o;return}}),!i&&!r?null:{previousNode:i,nextNode:r}},t.prototype.getDisplayIndexFromStoreIndex=function(e){var r,i,o=this.nodeMap.getBy("index",e);if(o)return o.node.rowIndex;var a,s;if(this.nodeMap.forEach(function(c){if(e>c.index){(s==null||s.index<c.index)&&(s=c);return}if(a==null||a.index>c.index){a=c;return}}),!a)return this.store.getDisplayIndexEnd()-(this.numberOfRows-e);if(!s)return this.store.getDisplayIndexStart()+e;var l=e-s.index,u=(i=(r=s.node.childStore)===null||r===void 0?void 0:r.getDisplayIndexEnd())!==null&&i!==void 0?i:s.node.rowIndex;return u+l},t.prototype.createRowAtIndex=function(e,r,i){var o,a,s=this.nodeMap.getBy("index",e);if(s){var l=s.node;if(l.__needsRefreshWhenVisible=!1,this.doesNodeMatch(r,l))return this.blockUtils.updateDataIntoRowNode(l,r),this.nodesToRefresh.delete(l),l;if(this.getRowIdFunc==null&&l.hasChildren()&&l.expanded)return this.nodesToRefresh.delete(l),l;this.destroyRowAtIndex(e)}if(r&&this.getRowIdFunc!=null){var u=this.getRowId(r),c=u&&((o=this.removedNodeCache)===null||o===void 0?void 0:o.get(u));if(c)return(a=this.removedNodeCache)===null||a===void 0||a.delete(u),this.blockUtils.updateDataIntoRowNode(c,r),this.nodeMap.set({id:c.id,node:c,index:e}),c;var d=this.nodeMap.getBy("id",u);if(d){this.nodeMap.delete(d);var l=d.node,p=d.index;return this.blockUtils.updateDataIntoRowNode(l,r),this.nodeMap.set({id:l.id,node:l,index:e}),this.nodesToRefresh.delete(l),this.rowLoader.getBlockStartIndexForIndex(p)===this.rowLoader.getBlockStartIndexForIndex(e)||this.markBlockForVerify(p),l}}var h=this.blockUtils.createRowNode(this.store.getRowDetails());if(r!=null){var f=this.getPrefixedId(this.store.getIdSequence().next());this.blockUtils.setDataIntoRowNode(h,r,f,void 0),this.blockUtils.checkOpenByDefault(h),this.nodeManager.addRowNode(h)}return this.nodeMap.set({id:h.id,node:h,index:e}),i&&i(h),h},t.prototype.getBlockStates=function(){var e=this,r={},i={};this.nodeMap.forEach(function(l){var u,c=l.node,d=l.index,p=e.rowLoader.getBlockStartIndexForIndex(d);!c.stub&&!c.failedLoad&&(r[p]=((u=r[p])!==null&&u!==void 0?u:0)+1);var h="loaded";c.failedLoad?h="failed":e.rowLoader.isRowLoading(p)?h="loading":(e.nodesToRefresh.has(c)||c.stub)&&(h="needsLoading"),i[p]||(i[p]=new Set),i[p].add(h)});var o={loading:4,failed:3,needsLoading:2,loaded:1},a=this.blockUtils.createNodeIdPrefix(this.store.getParentNode()),s={};return Object.entries(i).forEach(function(l){var u,c=Hp(l,2),d=c[0],p=c[1],h=mM([],Hp(p),!1).sort(function(y,m){var C,S;return((C=o[y])!==null&&C!==void 0?C:0)-((S=o[m])!==null&&S!==void 0?S:0)}),f=h[0],v=Number(d)/e.rowLoader.getBlockSize(),g=a?"".concat(a,"-").concat(v):String(v);s[g]={blockNumber:v,startRow:Number(d),endRow:Number(d)+e.rowLoader.getBlockSize(),pageStatus:f,loadedRowCount:(u=r[d])!==null&&u!==void 0?u:0}}),s},t.prototype.destroyRowAtIndex=function(e){var r=this.nodeMap.getBy("index",e);r&&(this.nodeMap.delete(r),this.nodeDisplayIndexMap.delete(r.node.rowIndex),this.nodesToRefresh.size>0?this.removedNodeCache.set(r.node.id,r.node):this.blockUtils.destroyRowNode(r.node),this.nodesToRefresh.delete(r.node))},t.prototype.getSsrmParams=function(){return this.store.getSsrmParams()},t.prototype.getPrefixedId=function(e){return this.defaultNodeIdPrefix?this.defaultNodeIdPrefix+"-"+e:e.toString()},t.prototype.markBlockForVerify=function(e){var r=Hp(this.rowLoader.getBlockBoundsForIndex(e),2),i=r[0],o=r[1],a=this.nodeMap.filter(function(s){return s.index>=i&&s.index<o});a.forEach(function(s){var l=s.node;l.__needsRefreshWhenVisible=!0})},t.prototype.doesNodeMatch=function(e,r){if(r.stub)return!1;if(this.getRowIdFunc!=null){var i=this.getRowId(e);return r.id===i}return r.data===e},t.prototype.purgeStubsOutsideOfViewport=function(){var e=this,r=this.api.getFirstDisplayedRowIndex(),i=this.api.getLastDisplayedRowIndex(),o=this.rowLoader.getBlockStartIndexForIndex(r),a=Hp(this.rowLoader.getBlockBoundsForIndex(i),2);a[0];var s=a[1];this.nodeMap.forEach(function(l){e.rowLoader.isRowLoading(l.index)||l.node.failedLoad||l.node.stub&&(l.index<o||l.index>s)&&e.destroyRowAtIndex(l.index)})},t.prototype.getBlocksDistanceFromRow=function(e,r){var i=this,o={};return e.forEach(function(a){var s=a.node,l=a.index,u=Hp(i.rowLoader.getBlockBoundsForIndex(l),2),c=u[0],d=u[1];if(!(c in o)){var p=Math.abs(s.rowIndex-r),h,f=i.nodeMap.getBy("index",[d-1]);f&&(h=Math.abs(f.node.rowIndex-r));var v=h==null||p<h?p:h;o[c]=v}}),Object.entries(o)},t.prototype.purgeExcessRows=function(){var e=this,r;if(this.purgeStubsOutsideOfViewport(),!(this.store.getDisplayIndexEnd()==null||this.storeParams.maxBlocksInCache==null)){var i=this.api.getFirstDisplayedRowIndex(),o=this.api.getLastDisplayedRowIndex(),a=new Set,s=new Set;this.nodeMap.forEach(function(w){var _=w.index,x=w.node,b=e.rowLoader.getBlockStartIndexForIndex(_);a.add(b);var O=x.rowIndex>=i&&x.rowIndex<=o;O&&s.add(b)});var l=Math.max(s.size,(r=this.storeParams.maxBlocksInCache)!==null&&r!==void 0?r:0),u=a.size,c=u-l;if(!(c<=0)){var d=Number.MAX_SAFE_INTEGER,p=Number.MIN_SAFE_INTEGER;s.forEach(function(w){d>w&&(d=w),p<w&&(p=w)});var h=this.nodeMap.filter(function(w){var _=w.node,x=w.index,b=e.rowLoader.getBlockStartIndexForIndex(x),O=b>=d&&b<=p;return!O&&!e.isNodeCached(_)});if(h.length!==0){var f=i+(o-i)/2,v=this.getBlocksDistanceFromRow(h,f),g=this.rowLoader.getBlockSize();v.sort(function(w,_){return Math.sign(_[1]-w[1])});for(var y=0;y<Math.min(c,v.length);y++)for(var m=Number(v[y][0]),C=m;C<m+g;C++){var S=this.nodeMap.getBy("index",C);!S||this.isNodeCached(S.node)||this.destroyRowAtIndex(C)}}}}},t.prototype.isNodeFocused=function(e){var r=this.focusService.getFocusCellToUseAfterRefresh();if(!r||r.rowPinned!=null)return!1;var i=r.rowIndex===e.rowIndex;return i},t.prototype.isNodeCached=function(e){return e.isExpandable()&&e.expanded||this.isNodeFocused(e)},t.prototype.extractDuplicateIds=function(e){var r=this;if(this.getRowIdFunc==null)return[];var i=new Set,o=new Set;return e.forEach(function(a){var s=r.getRowId(a);if(i.has(s)){o.add(s);return}i.add(s)}),mM([],Hp(o),!1)},t.prototype.onLoadSuccess=function(e,r,i){var o=this;if(this.live){var a=i.groupLevelInfo;if(this.store.setStoreInfo(a),this.getRowIdFunc!=null){var s=this.extractDuplicateIds(i.rowData);if(s.length>0){var l=s.join(", ");console.warn("AG Grid: Unable to display rows as duplicate row ids (".concat(l,") were returned by the getRowId callback. Please modify the getRowId callback to provide unique ids.")),this.onLoadFailed(e,r);return}}i.pivotResultFields&&this.serverSideRowModel.generateSecondaryColumns(i.pivotResultFields);var u=this.nodesToRefresh.size>0;if(i.rowData.forEach(function(h,f){var v,g=e+f,y=o.nodeMap.getBy("index",g);if(!((v=y==null?void 0:y.node)===null||v===void 0)&&v.stub){o.createRowAtIndex(g,h);return}if(y&&o.doesNodeMatch(h,y.node)){o.blockUtils.updateDataIntoRowNode(y.node,h),o.nodesToRefresh.delete(y.node),y.node.__needsRefreshWhenVisible=!1;return}o.createRowAtIndex(g,h)}),i.rowCount!=null&&i.rowCount!==-1)this.numberOfRows=i.rowCount,this.isLastRowKnown=!0;else if(r>i.rowData.length)this.numberOfRows=e+i.rowData.length,this.isLastRowKnown=!0;else if(!this.isLastRowKnown){var c=e+i.rowData.length+1;c>this.numberOfRows&&(this.numberOfRows=c)}if(this.isLastRowKnown){var d=this.nodeMap.filter(function(h){return h.index>=o.numberOfRows});d.forEach(function(h){return o.destroyRowAtIndex(h.index)})}this.fireStoreUpdatedEvent();var p=this.nodesToRefresh.size===0;u&&p&&this.fireRefreshFinishedEvent()}},t.prototype.fireRefreshFinishedEvent=function(){var e=this,r=this.nodesToRefresh.size===0;r&&(this.removedNodeCache.forEach(function(i){e.blockUtils.destroyRowNode(i)}),this.removedNodeCache=new Map,this.store.fireRefreshFinishedEvent())},t.prototype.isStoreFullyLoaded=function(){var e=this.isLastRowKnown,r=this.nodeMap.getSize()===this.numberOfRows;if(!(!e||!r)&&!(this.nodesToRefresh.size>0)){var i=-1,o=this.nodeMap.find(function(a){return i+=1,!!(a.index!==i||a.node.__needsRefreshWhenVisible||a.node.stub)});return o==null}},t.prototype.isLastRowIndexKnown=function(){return this.isLastRowKnown},t.prototype.onLoadFailed=function(e,r){var i;if(this.live){for(var o=this.nodesToRefresh.size>0,a=e;a<e+r&&a<this.getRowCount();a++){var s=((i=this.nodeMap.getBy("index",a))!==null&&i!==void 0?i:{}).node;s&&this.nodesToRefresh.delete(s),(!s||!s.stub)&&(s&&!s.stub&&this.destroyRowAtIndex(a),s=this.createRowAtIndex(a)),s.__needsRefreshWhenVisible=!1,s.failedLoad=!0}var l=this.nodesToRefresh.size===0;o&&l&&this.fireRefreshFinishedEvent(),this.fireStoreUpdatedEvent()}},t.prototype.markNodesForRefresh=function(){var e=this;this.nodeMap.forEach(function(r){r.node.stub&&!r.node.failedLoad||e.nodesToRefresh.add(r.node)}),this.rowLoader.queueLoadCheck(),this.isLastRowKnown&&this.numberOfRows===0&&(this.numberOfRows=1,this.isLastRowKnown=!1,this.fireStoreUpdatedEvent())},t.prototype.isNodeInCache=function(e){return!!this.nodeMap.getBy("id",e)},t.prototype.fireStoreUpdatedEvent=function(){this.live&&this.store.fireStoreUpdatedEvent()},t.prototype.getRowId=function(e){if(this.getRowIdFunc==null)return null;var r=this.store.getRowDetails().level,i=this.store.getParentNode().getGroupKeys(),o=this.getRowIdFunc({data:e,parentKeys:i.length>0?i:void 0,level:r});return String(o)},t.prototype.getOrderedNodeMap=function(){var e={};return this.nodeMap.forEach(function(r){return e[r.index]=r}),e},t.prototype.clearDisplayIndexes=function(){this.nodeDisplayIndexMap.clear()},t.prototype.clientSideSortRows=function(){var e=this,r=this.sortController.getSortOptions(),i=r.some(function(s){return s.sort!=null});if(i){var o=new Array(this.nodeMap.getSize());this.nodeMap.forEach(function(s){return o[s.index]=s.node}),this.nodeMap.clear();var a=this.rowNodeSorter.doFullSort(o,r);a.forEach(function(s,l){e.nodeMap.set({id:s.id,node:s,index:l})})}},t.prototype.updateRowNodes=function(e){var r=this;if(this.getRowIdFunc==null)throw new Error("AG Grid: Transactions can only be applied when row ids are supplied.");var i=[];return e.forEach(function(o){var a=r.getRowId(o),s=r.nodeMap.getBy("id",a);s&&(r.blockUtils.updateDataIntoRowNode(s.node,o),i.push(s.node))}),i},t.prototype.insertRowNodes=function(e,r){var i=this,o=this.store.getRowCount()-(this.store.getParentNode().sibling?1:0),a=r==null&&this.isLastRowKnown?o:r;if(a==null||o<a)return[];if(this.getRowIdFunc==null)throw new Error("AG Grid: Transactions can only be applied when row ids are supplied.");var s={};e.forEach(function(d){var p=i.getRowId(d);p&&i.isNodeInCache(p)||(s[p]=d)});var l=Object.values(s),u=l.length;if(u===0)return[];var c=this.nodeMap.filter(function(d){return d.index>=a});return c.forEach(function(d){return i.nodeMap.delete(d)}),c.forEach(function(d){i.nodeMap.set({node:d.node,index:d.index+u,id:d.id})}),this.numberOfRows+=u,l.map(function(d,p){return i.createRowAtIndex(a+p,d)})},t.prototype.removeRowNodes=function(e){if(this.getRowIdFunc==null)throw new Error("AG Grid: Transactions can only be applied when row ids are supplied.");var r=[],i=[],o=0,a=mM([],Hp(e),!1),s=this.getOrderedNodeMap(),l=-1,u=function(p){l+=1;var h=s[p],f=a.findIndex(function(g){return g===h.id});if(f!==-1)return a.splice(f,1),c.destroyRowAtIndex(Number(p)),r.push(h.node),o+=1,"continue";if(o===0)return"continue";var v=Number(p);l!==v&&i.push(h.node),c.nodeMap.delete(s[p]),c.nodeMap.set({id:h.id,node:h.node,index:v-o})},c=this;for(var d in s)u(d);return this.numberOfRows-=this.isLastRowIndexKnown()?e.length:o,a.length>0&&i.length>0&&(i.forEach(function(p){return p.__needsRefreshWhenVisible=!0}),this.rowLoader.queueLoadCheck()),r},bu([E("gridApi")],t.prototype,"api",void 0),bu([E("ssrmBlockUtils")],t.prototype,"blockUtils",void 0),bu([E("focusService")],t.prototype,"focusService",void 0),bu([E("ssrmNodeManager")],t.prototype,"nodeManager",void 0),bu([E("rowModel")],t.prototype,"serverSideRowModel",void 0),bu([E("rowNodeSorter")],t.prototype,"rowNodeSorter",void 0),bu([E("sortController")],t.prototype,"sortController",void 0),bu([z],t.prototype,"init",null),bu([ar],t.prototype,"destroyRowNodes",null),t}(X),X4e=function(){var n=function(t,e){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])},n(t,e)};return function(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");n(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}}(),lv=function(n,t,e,r){var i=arguments.length,o=i<3?t:r===null?r=Object.getOwnPropertyDescriptor(t,e):r,a;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(n,t,e,r);else for(var s=n.length-1;s>=0;s--)(a=n[s])&&(o=(i<3?a(o):i>3?a(t,e,o):a(t,e))||o);return i>3&&o&&Object.defineProperty(t,e,o),o},q4e=function(n,t){var e=typeof Symbol=="function"&&n[Symbol.iterator];if(!e)return n;var r=e.call(n),i,o=[],a;try{for(;(t===void 0||t-- >0)&&!(i=r.next()).done;)o.push(i.value)}catch(s){a={error:s}}finally{try{i&&!i.done&&(e=r.return)&&e.call(r)}finally{if(a)throw a.error}}return o},Z4e=function(n,t,e){if(e||arguments.length===2)for(var r=0,i=t.length,o;r<i;r++)(o||!(r in t))&&(o||(o=Array.prototype.slice.call(t,0,r)),o[r]=t[r]);return n.concat(o||Array.prototype.slice.call(t))},OE=function(n){X4e(t,n);function t(e,r,i){var o=n.call(this)||this;return o.idSequence=new ti,o.ssrmParams=e,o.parentRowNode=i,o.storeParams=r,o.level=i.level+1,o.group=e.rowGroupCols?o.level<e.rowGroupCols.length:!1,o.leafGroup=e.rowGroupCols?o.level===e.rowGroupCols.length-1:!1,o.info={},o}return t.prototype.init=function(){var e,r=1;this.level===0&&(r=(e=this.storeUtils.getServerSideInitialRowCount())!==null&&e!==void 0?e:1,this.eventService.dispatchEventOnce({type:T.EVENT_ROW_COUNT_READY})),this.cache=this.createManagedBean(new CM(this,r,this.storeParams));var i=this.gridOptionsService.get("treeData");if(!i&&this.group){var o=this.ssrmParams.rowGroupCols[this.level];this.groupField=o.field,this.rowGroupColumn=this.columnModel.getRowGroupColumns()[this.level]}},t.prototype.destroyRowNodes=function(){this.displayIndexStart=void 0,this.displayIndexEnd=void 0,this.destroyBean(this.cache)},t.prototype.applyRowData=function(e,r,i){this.cache.onLoadSuccess(r,i,e)},t.prototype.applyTransaction=function(e){var r=this,i,o,a,s=this.gridOptionsService.getCallback("getRowId");if(!s)return console.warn("AG Grid: getRowId callback must be implemented for transactions to work. Transaction was ignored."),{status:Qn.Cancelled};var l=this.gridOptionsService.getCallback("isApplyServerSideTransaction");if(l){var u={transaction:e,parentNode:this.parentRowNode,groupLevelInfo:this.info},c=l(u);if(!c)return{status:Qn.Cancelled}}var d=this.cache.isStoreFullyLoaded(),p=void 0;!((i=e.update)===null||i===void 0)&&i.length&&(p=this.cache.updateRowNodes(e.update));var h=void 0;if(!((o=e.add)===null||o===void 0)&&o.length){var f=e.addIndex;f!=null&&f<0&&(f=void 0),h=this.cache.insertRowNodes(e.add,f)}var v=void 0;if(!((a=e.remove)===null||a===void 0)&&a.length){var g=e.remove.map(function(w){return s({level:r.level,parentKeys:r.parentRowNode.getGroupKeys(),data:w})}),y=Z4e([],q4e(new Set(g)),!1);v=this.cache.removeRowNodes(y)}var m=this.gridOptionsService.get("serverSideEnableClientSideSort"),C=(p==null?void 0:p.length)||(h==null?void 0:h.length),S=d&&m;return S&&C&&this.cache.clientSideSortRows(),this.updateSelectionAfterTransaction(p,v),{status:Qn.Applied,update:p,add:h,remove:v}},t.prototype.updateSelectionAfterTransaction=function(e,r){var i=[];e==null||e.forEach(function(o){o.isSelected()&&!o.selectable&&i.push(o)}),r==null||r.forEach(function(o){o.isSelected()&&i.push(o)}),i.length&&this.selectionService.setNodesSelected({newValue:!1,clearSelection:!1,nodes:i,source:"rowDataChanged"})},t.prototype.clearDisplayIndexes=function(){var e=this;this.displayIndexStart=void 0,this.displayIndexEnd=void 0,this.cache.getNodes().forEach(function(r){return e.blockUtils.clearDisplayIndex(r.node)}),this.parentRowNode.sibling&&this.blockUtils.clearDisplayIndex(this.parentRowNode.sibling),this.cache.clearDisplayIndexes()},t.prototype.getDisplayIndexStart=function(){return this.displayIndexStart},t.prototype.getDisplayIndexEnd=function(){return this.displayIndexEnd},t.prototype.getRowCount=function(){return this.parentRowNode.sibling?this.cache.getRowCount()+1:this.cache.getRowCount()},t.prototype.setRowCount=function(e,r){this.cache.setRowCount(e,r)},t.prototype.isDisplayIndexInStore=function(e){return this.cache.getRowCount()===0?!1:this.displayIndexStart<=e&&e<this.getDisplayIndexEnd()},t.prototype.setDisplayIndexes=function(e,r){this.displayIndexStart=e.peek(),this.topPx=r.value,this.cache.setDisplayIndexes(e,r),this.parentRowNode.sibling&&this.blockUtils.setDisplayIndex(this.parentRowNode.sibling,e,r),this.displayIndexEnd=e.peek(),this.heightPx=r.value-this.topPx},t.prototype.forEachStoreDeep=function(e,r){r===void 0&&(r=new ti),e(this,r.next()),this.cache.getNodes().forEach(function(i){var o=i.node.childStore;o&&o.forEachStoreDeep(e,r)})},t.prototype.forEachNodeDeep=function(e,r){r===void 0&&(r=new ti),this.cache.getNodes().forEach(function(i){e(i.node,r.next());var o=i.node.childStore;o&&o.forEachNodeDeep(e,r)})},t.prototype.forEachNodeDeepAfterFilterAndSort=function(e,r,i){r===void 0&&(r=new ti),i===void 0&&(i=!1);var o=this.cache.getOrderedNodeMap();for(var a in o){var s=o[a];e(s.node,r.next());var l=s.node.childStore;l&&l.forEachNodeDeepAfterFilterAndSort(e,r,i)}i&&this.parentRowNode.sibling&&e(this.parentRowNode.sibling,r.next())},t.prototype.retryLoads=function(){this.cache.getNodes().forEach(function(e){var r=e.node;r.failedLoad&&(r.failedLoad=!1,r.__needsRefreshWhenVisible=!0,r.stub=!0)}),this.forEachChildStoreShallow(function(e){return e.retryLoads()}),this.fireStoreUpdatedEvent()},t.prototype.getRowUsingDisplayIndex=function(e){return this.parentRowNode.sibling&&e===this.parentRowNode.sibling.rowIndex?this.parentRowNode.sibling:this.cache.getRowByDisplayIndex(e)},t.prototype.getRowBounds=function(e){var r;if(!this.isDisplayIndexInStore(e))return null;var i=this.cache.getNodeCachedByDisplayIndex(e);if(i){var o=this.blockUtils.extractRowBounds(i,e);if(o)return o}var a=(r=this.cache.getSurroundingNodesByDisplayIndex(e))!==null&&r!==void 0?r:{},s=a.previousNode,l=a.nextNode;if(s){var o=this.blockUtils.extractRowBounds(s.node,e);if(o!=null)return o}var u=this.gridOptionsService.getRowHeightAsNumber();if(l){var c=(l.node.rowIndex-e)*u;return{rowTop:l.node.rowTop-c,rowHeight:u}}var d=this.topPx+this.heightPx,p=(this.getDisplayIndexEnd()-e)*u;return{rowTop:d-p,rowHeight:u}},t.prototype.isPixelInRange=function(e){return e>=this.topPx&&e<this.topPx+this.heightPx},t.prototype.getRowIndexAtPixel=function(e){if(e<this.topPx)return this.getDisplayIndexStart();if(e>=this.topPx+this.heightPx)return this.getDisplayIndexEnd()-1;var r=Number.MAX_SAFE_INTEGER,i=null,o=Number.MAX_SAFE_INTEGER,a=null;if(this.cache.getNodes().forEach(function(h){var f=h.node,v=Math.abs(e-f.rowTop);if(f.rowTop<e){v<r&&(r=v,i=f);return}v<o&&(o=v,a=f)}),i=i,a=a,i){var s=this.blockUtils.getIndexAtPixel(i,e);if(s!=null)return s}var l=this.gridOptionsService.getRowHeightAsNumber();if(a){var u=a.rowTop,c=Math.ceil((u-e)/l);return a.rowIndex-c}var d=this.topPx+this.heightPx,p=Math.floor((d-e)/l);return this.getDisplayIndexEnd()-p},t.prototype.getChildStore=function(e){var r=this;return this.storeUtils.getChildStore(e,this,function(i){var o=r.cache.getNodes().find(function(a){return a.node.key==i});return o?o.node:null})},t.prototype.forEachChildStoreShallow=function(e){this.cache.getNodes().forEach(function(r){var i=r.node;i.childStore&&e(i.childStore)})},t.prototype.refreshAfterSort=function(e){var r=this.storeUtils.isServerSideSortAllLevels();if(r||this.storeUtils.isServerRefreshNeeded(this.parentRowNode,this.ssrmParams.rowGroupCols,e)){var i=this.cache.isStoreFullyLoaded(),o=this.gridOptionsService.get("serverSideEnableClientSideSort"),a=i&&o;if(!a){var s=this.cache.getRowCount();this.destroyBean(this.cache),this.cache=this.createManagedBean(new CM(this,s,this.storeParams));return}this.cache.clientSideSortRows()}this.forEachChildStoreShallow(function(l){return l.refreshAfterSort(e)})},t.prototype.refreshAfterFilter=function(e){var r=!this.storeUtils.isServerSideOnlyRefreshFilteredGroups();if(r||this.storeUtils.isServerRefreshNeeded(this.parentRowNode,this.ssrmParams.rowGroupCols,e)){this.refreshStore(!0);return}this.forEachChildStoreShallow(function(i){return i.refreshAfterFilter(e)})},t.prototype.refreshStore=function(e){if(e){this.destroyBean(this.cache),this.cache=this.createManagedBean(new CM(this,1,this.storeParams)),this.fireStoreUpdatedEvent();return}this.cache.markNodesForRefresh()},t.prototype.getTopLevelRowDisplayedIndex=function(e){var r=this.cache.getDisplayIndexFromStoreIndex(e);return r??e},t.prototype.isLastRowIndexKnown=function(){return this.cache.isLastRowIndexKnown()},t.prototype.getRowNodesInRange=function(e,r){return A.missing(e),this.cache.getNodes().filter(function(i){var o=i.node;return o.rowIndex>=e.rowIndex&&o.rowIndex<=r.rowIndex}).map(function(i){var o=i.node;return o})},t.prototype.addStoreStates=function(e){e.push({suppressInfiniteScroll:!1,route:this.parentRowNode.getGroupKeys(),rowCount:this.getRowCount(),lastRowIndexKnown:this.isLastRowIndexKnown(),info:this.info,maxBlocksInCache:this.storeParams.maxBlocksInCache,cacheBlockSize:this.storeParams.cacheBlockSize}),this.forEachChildStoreShallow(function(r){return r.addStoreStates(e)})},t.prototype.getIdSequence=function(){return this.idSequence},t.prototype.getParentNode=function(){return this.parentRowNode},t.prototype.getRowDetails=function(){return{field:this.groupField,group:this.group,leafGroup:this.leafGroup,level:this.level,parent:this.parentRowNode,rowGroupColumn:this.rowGroupColumn}},t.prototype.getSsrmParams=function(){return this.ssrmParams},t.prototype.setStoreInfo=function(e){e&&Object.assign(this.info,e)},t.prototype.fireStoreUpdatedEvent=function(){var e={type:T.EVENT_STORE_UPDATED};this.eventService.dispatchEvent(e)},t.prototype.fireRefreshFinishedEvent=function(){var e={type:T.EVENT_STORE_REFRESHED,route:this.parentRowNode.getRoute()};this.eventService.dispatchEvent(e)},t.prototype.getBlockStates=function(){return this.cache.getBlockStates()},t.prototype.getStoreBounds=function(){return{topPx:this.topPx,heightPx:this.heightPx}},lv([E("ssrmBlockUtils")],t.prototype,"blockUtils",void 0),lv([E("ssrmStoreUtils")],t.prototype,"storeUtils",void 0),lv([E("columnModel")],t.prototype,"columnModel",void 0),lv([E("selectionService")],t.prototype,"selectionService",void 0),lv([z],t.prototype,"init",null),lv([ar],t.prototype,"destroyRowNodes",null),t}(X),Q4e=function(){var n=function(t,e){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])},n(t,e)};return function(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");n(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}}(),ko=function(n,t,e,r){var i=arguments.length,o=i<3?t:r===null?r=Object.getOwnPropertyDescriptor(t,e):r,a;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(n,t,e,r);else for(var s=n.length-1;s>=0;s--)(a=n[s])&&(o=(i<3?a(o):i>3?a(t,e,o):a(t,e))||o);return i>3&&o&&Object.defineProperty(t,e,o),o},_5=function(n,t){var e=typeof Symbol=="function"&&n[Symbol.iterator];if(!e)return n;var r=e.call(n),i,o=[],a;try{for(;(t===void 0||t-- >0)&&!(i=r.next()).done;)o.push(i.value)}catch(s){a={error:s}}finally{try{i&&!i.done&&(e=r.return)&&e.call(r)}finally{if(a)throw a.error}}return o},J4e=function(n){Q4e(t,n);function t(){var e=n!==null&&n.apply(this,arguments)||this;return e.onRowHeightChanged_debounced=A.debounce(e.onRowHeightChanged.bind(e),100),e.pauseStoreUpdateListening=!1,e.started=!1,e.managingPivotResultColumns=!1,e}return t.prototype.ensureRowHeightsValid=function(){return!1},t.prototype.start=function(){this.started=!0,this.updateDatasource()},t.prototype.destroyDatasource=function(){this.datasource&&(this.datasource.destroy&&this.datasource.destroy(),this.rowRenderer.datasourceChanged(),this.datasource=void 0)},t.prototype.addEventListeners=function(){var e=this;this.addManagedListener(this.eventService,T.EVENT_NEW_COLUMNS_LOADED,this.onColumnEverything.bind(this)),this.addManagedListener(this.eventService,T.EVENT_STORE_UPDATED,this.onStoreUpdated.bind(this));var r=this.resetRootStore.bind(this);this.addManagedListener(this.eventService,T.EVENT_COLUMN_VALUE_CHANGED,r),this.addManagedListener(this.eventService,T.EVENT_COLUMN_PIVOT_CHANGED,r),this.addManagedListener(this.eventService,T.EVENT_COLUMN_ROW_GROUP_CHANGED,r),this.addManagedListener(this.eventService,T.EVENT_COLUMN_PIVOT_MODE_CHANGED,r),this.addManagedPropertyListeners(["masterDetail","treeData","removePivotHeaderRowWhenSingleValueColumn","suppressServerSideInfiniteScroll","cacheBlockSize"],r),this.addManagedPropertyListener("rowHeight",function(){return e.resetRowHeights()}),this.verifyProps(),this.addManagedPropertyListener("serverSideDatasource",function(){return e.updateDatasource()})},t.prototype.updateDatasource=function(){var e=this.gridOptionsService.get("serverSideDatasource");e&&this.setDatasource(e)},t.prototype.verifyProps=function(){this.gridOptionsService.exists("initialGroupOrderComparator")&&A.warnOnce("initialGroupOrderComparator cannot be used with Server Side Row Model."),this.gridOptionsService.isRowSelection()&&!this.gridOptionsService.exists("getRowId")&&A.warnOnce("getRowId callback must be provided for Server Side Row Model selection to work correctly.")},t.prototype.setDatasource=function(e){this.started&&(this.destroyDatasource(),this.datasource=e,this.resetRootStore())},t.prototype.applyRowData=function(e,r,i){var o=this.getRootStore();if(o){var a=o.getChildStore(i);a&&(a instanceof OE?a.applyRowData(e,r,e.rowData.length):a instanceof ZI&&a.processServerResult(e))}},t.prototype.isLastRowIndexKnown=function(){var e=this.getRootStore();return e?e.isLastRowIndexKnown():!1},t.prototype.onColumnEverything=function(){if(!this.storeParams){this.resetRootStore();return}var e=this.columnsToValueObjects(this.columnModel.getRowGroupColumns()),r=this.columnsToValueObjects(this.columnModel.getValueColumns()),i=this.columnsToValueObjects(this.columnModel.getPivotColumns()),o=function(p){var h={};p.oldCols.forEach(function(g){return h[g.id]=g});var f=p.newCols.every(function(g){var y=h[g.id];return y&&delete h[g.id],y&&y.field===g.field&&y.aggFunc===g.aggFunc}),v=!p.allowRemovedColumns&&!!Object.values(h).length;return f&&!v},a=!A.jsonEquals(this.storeParams.sortModel,this.sortController.getSortModel()),s=!o({oldCols:this.storeParams.rowGroupCols,newCols:e}),l=!o({oldCols:this.storeParams.pivotCols,newCols:i}),u=!!(e!=null&&e.length)&&!o({oldCols:this.storeParams.valueCols,newCols:r,allowRemovedColumns:!0}),c=a||s||l||u;if(c)this.resetRootStore();else{var d=this.createStoreParams();this.storeParams.rowGroupCols=d.rowGroupCols,this.storeParams.pivotCols=d.pivotCols,this.storeParams.valueCols=d.valueCols}},t.prototype.destroyRootStore=function(){!this.rootNode||!this.rootNode.childStore||(this.rootNode.childStore=this.destroyBean(this.rootNode.childStore),this.nodeManager.clear())},t.prototype.refreshAfterSort=function(e,r){this.storeParams&&(this.storeParams.sortModel=e);var i=this.getRootStore();i&&(i.refreshAfterSort(r),this.onStoreUpdated())},t.prototype.generateSecondaryColumns=function(e){var r=this.pivotColDefService.createColDefsFromFields(e);this.managingPivotResultColumns=!0,this.columnModel.setSecondaryColumns(r,"rowModelUpdated")},t.prototype.resetRowHeights=function(){var e=this.resetRowHeightsForAllRowNodes(),r=this.gridOptionsService.getRowHeightForNode(this.rootNode);if(this.rootNode.setRowHeight(r.height,r.estimated),this.rootNode.sibling){var i=this.gridOptionsService.getRowHeightForNode(this.rootNode.sibling);this.rootNode.sibling.setRowHeight(i.height,i.estimated)}e&&this.onRowHeightChanged()},t.prototype.resetRowHeightsForAllRowNodes=function(){var e=this,r=!1;return this.forEachNode(function(i){var o=e.gridOptionsService.getRowHeightForNode(i);i.setRowHeight(o.height,o.estimated);var a=i.detailNode;if(a){var s=e.gridOptionsService.getRowHeightForNode(a);a.setRowHeight(s.height,s.estimated)}if(i.sibling){var l=e.gridOptionsService.getRowHeightForNode(i.sibling);a.setRowHeight(l.height,l.estimated)}r=!0}),r},t.prototype.resetRootStore=function(){this.destroyRootStore(),this.rootNode=new Xe(this.beans),this.rootNode.group=!0,this.rootNode.level=-1,this.datasource&&(this.storeParams=this.createStoreParams(),this.rootNode.childStore=this.createBean(this.storeFactory.createStore(this.storeParams,this.rootNode)),this.updateRowIndexesAndBounds()),this.managingPivotResultColumns&&(this.columnModel.setSecondaryColumns(null,"api"),this.managingPivotResultColumns=!1),this.dispatchModelUpdated(!0)},t.prototype.columnsToValueObjects=function(e){var r=this;return e.map(function(i){return{id:i.getId(),aggFunc:i.getAggFunc(),displayName:r.columnModel.getDisplayNameForColumn(i,"model"),field:i.getColDef().field}})},t.prototype.createStoreParams=function(){var e=this.columnsToValueObjects(this.columnModel.getRowGroupColumns()),r=this.columnsToValueObjects(this.columnModel.getValueColumns()),i=this.columnsToValueObjects(this.columnModel.getPivotColumns()),o=this.gridOptionsService.isGetRowHeightFunction(),a={valueCols:r,rowGroupCols:e,pivotCols:i,pivotMode:this.columnModel.isPivotMode(),filterModel:this.filterManager.isAdvancedFilterEnabled()?this.filterManager.getAdvancedFilterModel():this.filterManager.getFilterModel(),sortModel:this.sortController.getSortModel(),datasource:this.datasource,lastAccessedSequence:new ti,dynamicRowHeight:o};return a},t.prototype.getParams=function(){return this.storeParams},t.prototype.dispatchModelUpdated=function(e){e===void 0&&(e=!1);var r={type:T.EVENT_MODEL_UPDATED,animate:!e,keepRenderedRows:!e,newPage:!1,newData:!1};this.eventService.dispatchEvent(r)},t.prototype.onStoreUpdated=function(){this.pauseStoreUpdateListening||(this.updateRowIndexesAndBounds(),this.dispatchModelUpdated())},t.prototype.onRowHeightChangedDebounced=function(){this.onRowHeightChanged_debounced()},t.prototype.onRowHeightChanged=function(){this.updateRowIndexesAndBounds(),this.dispatchModelUpdated()},t.prototype.updateRowIndexesAndBounds=function(){var e=this.getRootStore();e&&e.setDisplayIndexes(new ti,{value:0})},t.prototype.retryLoads=function(){var e=this.getRootStore();e&&(e.retryLoads(),this.onStoreUpdated())},t.prototype.getRow=function(e){var r=this.getRootStore();if(r)return r.getRowUsingDisplayIndex(e)},t.prototype.expandAll=function(e){this.pauseStoreUpdateListening=!0,this.forEachNode(function(r){r.stub||r.hasChildren()&&r.setExpanded(e)}),this.pauseStoreUpdateListening=!1,this.onStoreUpdated()},t.prototype.refreshAfterFilter=function(e,r){this.storeParams&&(this.storeParams.filterModel=e);var i=this.getRootStore();i&&(i.refreshAfterFilter(r),this.onStoreUpdated())},t.prototype.getRootStore=function(){if(this.rootNode&&this.rootNode.childStore)return this.rootNode.childStore},t.prototype.getRowCount=function(){var e=this.getRootStore();return e?e.getDisplayIndexEnd():0},t.prototype.getTopLevelRowCount=function(){var e=this.getRootStore();return e?e.getRowCount():1},t.prototype.getTopLevelRowDisplayedIndex=function(e){var r=this.getRootStore();return r?r.getTopLevelRowDisplayedIndex(e):e},t.prototype.getRowBounds=function(e){var r=this.getRootStore();if(!r){var i=this.gridOptionsService.getRowHeightAsNumber();return{rowTop:0,rowHeight:i}}return r.getRowBounds(e)},t.prototype.getBlockStates=function(){var e=this.getRootStore();if(e){var r={};return e.forEachStoreDeep(function(i){if(i instanceof ZI){var o=i.getBlockStateJson(),a=o.id,s=o.state;r[a]=s}else if(i instanceof OE)Object.entries(i.getBlockStates()).forEach(function(l){var u=_5(l,2),c=u[0],d=u[1];r[c]=d});else throw new Error("AG Grid: Unsupported store type")}),r}},t.prototype.getRowIndexAtPixel=function(e){var r=this.getRootStore();return e<=0||!r?0:r.getRowIndexAtPixel(e)},t.prototype.isEmpty=function(){return!1},t.prototype.isRowsToRender=function(){return this.getRootStore()!=null&&this.getRowCount()>0},t.prototype.getType=function(){return"serverSide"},t.prototype.forEachNode=function(e){var r=this.getRootStore();r&&r.forEachNodeDeep(e)},t.prototype.forEachNodeAfterFilterAndSort=function(e,r){r===void 0&&(r=!1);var i=this.getRootStore();i&&i.forEachNodeDeepAfterFilterAndSort(e,void 0,r)},t.prototype.executeOnStore=function(e,r){if(!this.started)return!1;var i=this.getRootStore();if(!i)return!0;var o=i.getChildStore(e);return o&&r(o),!0},t.prototype.refreshStore=function(e){e===void 0&&(e={});var r=e.route?e.route:[];this.executeOnStore(r,function(i){return i.refreshStore(e.purge==!0)})},t.prototype.getStoreState=function(){var e=[],r=this.getRootStore();return r&&r.addStoreStates(e),e},t.prototype.getNodesInRangeForSelection=function(e,r){if(!A.exists(e))return[];if(!r)return[e];var i=e.rowIndex,o=r.rowIndex;if(i===null||o===null)return[e];var a=[],s=_5([i,o].sort(function(c,d){return c-d}),2),l=s[0],u=s[1];return this.forEachNode(function(c){var d=c.rowIndex;d==null||c.stub||d>=l&&d<=u&&a.push(c)}),a.length!==u-l+1?[e]:a},t.prototype.getRowNode=function(e){var r;return this.forEachNode(function(i){i.id===e&&(r=i),i.detailNode&&i.detailNode.id===e&&(r=i.detailNode)}),r},t.prototype.isRowPresent=function(e){var r=this.getRowNode(e.id);return!!r},t.prototype.setRowCount=function(e,r){var i=this.getRootStore();if(i){if(i instanceof OE){i.setRowCount(e,r);return}console.error("AG Grid: Infinite scrolling must be enabled in order to set the row count.")}},ko([E("columnModel")],t.prototype,"columnModel",void 0),ko([E("filterManager")],t.prototype,"filterManager",void 0),ko([E("sortController")],t.prototype,"sortController",void 0),ko([E("rowRenderer")],t.prototype,"rowRenderer",void 0),ko([E("ssrmSortService")],t.prototype,"sortListener",void 0),ko([E("ssrmNodeManager")],t.prototype,"nodeManager",void 0),ko([E("ssrmStoreFactory")],t.prototype,"storeFactory",void 0),ko([E("beans")],t.prototype,"beans",void 0),ko([et("pivotColDefService")],t.prototype,"pivotColDefService",void 0),ko([ar],t.prototype,"destroyDatasource",null),ko([z],t.prototype,"addEventListeners",null),ko([ar],t.prototype,"destroyRootStore",null),t=ko([ie("rowModel")],t),t}(X),e6e=function(){var n=function(t,e){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])},n(t,e)};return function(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");n(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}}(),Rx=function(n,t,e,r){var i=arguments.length,o=i<3?t:r===null?r=Object.getOwnPropertyDescriptor(t,e):r,a;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(n,t,e,r);else for(var s=n.length-1;s>=0;s--)(a=n[s])&&(o=(i<3?a(o):i>3?a(t,e,o):a(t,e))||o);return i>3&&o&&Object.defineProperty(t,e,o),o},t6e=function(n){e6e(t,n);function t(){return n!==null&&n.apply(this,arguments)||this}return t.prototype.loadFromDatasource=function(e){var r=e.storeParams,i=e.parentBlock,o=e.parentNode,a=o.getGroupKeys();if(r.datasource){var s={startRow:e.startRow,endRow:e.endRow,rowGroupCols:r.rowGroupCols,valueCols:r.valueCols,pivotCols:r.pivotCols,pivotMode:r.pivotMode,groupKeys:a,filterModel:r.filterModel,sortModel:r.sortModel},l=this.gridOptionsService.addGridCommonParams({success:e.success,fail:e.fail,request:s,parentNode:e.parentNode});window.setTimeout(function(){if(!r.datasource||!i.isAlive()){e.fail();return}r.datasource.getRows(l)},0)}},t.prototype.getChildStore=function(e,r,i){if(A.missingOrEmpty(e))return r;var o=e[0],a=i(o);if(a){if(e.length===1&&!a.childStore){var s=this.serverSideRowModel.getParams();a.childStore=this.createBean(this.storeFactory.createStore(s,a))}var l=e.slice(1,e.length),u=a.childStore;return u?u.getChildStore(l):null}return null},t.prototype.isServerRefreshNeeded=function(e,r,i){if(i.valueColChanged||i.secondaryColChanged)return!0;var o=e.level+1,a=o<r.length,s=!a;if(s)return!0;var l=r[o].id,u=i.changedColumns.indexOf(l)>-1;if(u)return!0;var c=this.columnModel.getAllGridColumns(),d=c.filter(function(p){return p.getColDef().showRowGroup&&i.changedColumns.includes(p.getId())}).map(function(p){return p.getColDef().showRowGroup}).some(function(p){return p===!0||p===l});return d},t.prototype.getServerSideInitialRowCount=function(){return this.gridOptionsService.get("serverSideInitialRowCount")},t.prototype.assertRowModelIsServerSide=function(e){return this.gridOptionsService.isRowModelType("serverSide")?!0:(A.warnOnce("The '".concat(e,"' property can only be used with the Server Side Row Model.")),!1)},t.prototype.assertNotTreeData=function(e){return this.gridOptionsService.get("treeData")?(A.warnOnce("The '".concat(e,"' property cannot be used while using tree data.")),!1):!0},t.prototype.isServerSideSortAllLevels=function(){return this.gridOptionsService.get("serverSideSortAllLevels")&&this.assertRowModelIsServerSide("serverSideSortAllLevels")},t.prototype.isServerSideOnlyRefreshFilteredGroups=function(){return this.gridOptionsService.get("serverSideOnlyRefreshFilteredGroups")&&this.assertRowModelIsServerSide("serverSideOnlyRefreshFilteredGroups")},t.prototype.isServerSideSortOnServer=function(){return this.gridOptionsService.get("serverSideSortOnServer")&&this.assertRowModelIsServerSide("serverSideSortOnServer")&&this.assertNotTreeData("serverSideSortOnServer")},t.prototype.isServerSideFilterOnServer=function(){return this.gridOptionsService.get("serverSideFilterOnServer")&&this.assertRowModelIsServerSide("serverSideFilterOnServer")&&this.assertNotTreeData("serverSideFilterOnServer")},Rx([E("columnModel")],t.prototype,"columnModel",void 0),Rx([E("rowModel")],t.prototype,"serverSideRowModel",void 0),Rx([E("ssrmStoreFactory")],t.prototype,"storeFactory",void 0),t=Rx([ie("ssrmStoreUtils")],t),t}(X),r6e=function(){var n=function(t,e){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])},n(t,e)};return function(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");n(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}}(),uv=function(n,t,e,r){var i=arguments.length,o=i<3?t:r===null?r=Object.getOwnPropertyDescriptor(t,e):r,a;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(n,t,e,r);else for(var s=n.length-1;s>=0;s--)(a=n[s])&&(o=(i<3?a(o):i>3?a(t,e,o):a(t,e))||o);return i>3&&o&&Object.defineProperty(t,e,o),o},n6e="ag-Grid-MissingKey",i6e=function(n){r6e(t,n);function t(){return n!==null&&n.apply(this,arguments)||this}return t.prototype.createRowNode=function(e){var r=new Xe(this.beans),i=e.rowHeight!=null?e.rowHeight:this.gridOptionsService.getRowHeightAsNumber();return r.setRowHeight(i),r.group=e.group,r.leafGroup=e.leafGroup,r.level=e.level,r.uiLevel=e.level,r.parent=e.parent,r.stub=!0,r.__needsRefreshWhenVisible=!1,r.group&&(r.expanded=!1,r.field=e.field,r.rowGroupColumn=e.rowGroupColumn),r},t.prototype.destroyRowNodes=function(e){var r=this;e&&e.forEach(function(i){return r.destroyRowNode(i)})},t.prototype.destroyRowNode=function(e,r){r===void 0&&(r=!1),e.childStore&&!r&&(this.destroyBean(e.childStore),e.childStore=null),e.sibling&&!e.footer&&this.destroyRowNode(e.sibling,!1),e.clearRowTopAndRowIndex(),e.id!=null&&this.nodeManager.removeNode(e)},t.prototype.setTreeGroupInfo=function(e){e.updateHasChildren();var r=this.gridOptionsService.get("getServerSideGroupKey");e.hasChildren()&&r!=null&&(e.key=r(e.data)),!e.hasChildren()&&e.childStore!=null&&(this.destroyBean(e.childStore),e.childStore=null,e.expanded=!1)},t.prototype.setRowGroupInfo=function(e){e.key=this.valueService.getValue(e.rowGroupColumn,e),(e.key===null||e.key===void 0)&&A.doOnce(function(){console.warn("AG Grid: null and undefined values are not allowed for server side row model keys"),e.rowGroupColumn&&console.warn("column = ".concat(e.rowGroupColumn.getId())),console.warn("data is ",e.data)},"ServerSideBlock-CannotHaveNullOrUndefinedForKey");var r=this.beans.gridOptionsService.getGroupIncludeFooter(),i=r({node:e});i&&(e.createFooter(),e.sibling&&(e.sibling.uiLevel=e.uiLevel+1))},t.prototype.setMasterDetailInfo=function(e){var r=this.gridOptionsService.get("isRowMaster");r!=null?e.master=r(e.data):e.master=!0},t.prototype.updateDataIntoRowNode=function(e,r){if(e.updateData(r),this.gridOptionsService.get("treeData"))this.setTreeGroupInfo(e),this.setChildCountIntoRowNode(e);else if(e.group){if(this.setChildCountIntoRowNode(e),!e.footer){var i=this.beans.gridOptionsService.getGroupIncludeFooter(),o=i({node:e});o?e.sibling?e.sibling.updateData(r):e.createFooter():e.sibling&&e.destroyFooter()}}else this.gridOptionsService.get("masterDetail")},t.prototype.setDataIntoRowNode=function(e,r,i,o){var a;e.stub=!1;var s=this.gridOptionsService.get("treeData");A.exists(r)?(e.setDataAndId(r,i),s?this.setTreeGroupInfo(e):e.group?this.setRowGroupInfo(e):this.gridOptionsService.get("masterDetail")&&this.setMasterDetailInfo(e)):(e.setDataAndId(void 0,void 0),e.key=null),(s||e.group)&&(this.setGroupDataIntoRowNode(e),this.setChildCountIntoRowNode(e)),A.exists(r)&&(e.setRowHeight(this.gridOptionsService.getRowHeightForNode(e,!1,o).height),(a=e.sibling)===null||a===void 0||a.setRowHeight(this.gridOptionsService.getRowHeightForNode(e.sibling,!1,o).height))},t.prototype.setChildCountIntoRowNode=function(e){var r=this.gridOptionsService.get("getChildCount");r&&e.setAllChildrenCount(r(e.data))},t.prototype.setGroupDataIntoRowNode=function(e){var r=this,i=this.columnModel.getGroupDisplayColumns(),o=this.gridOptionsService.get("treeData");i.forEach(function(a){if(e.groupData==null&&(e.groupData={}),o)e.groupData[a.getColId()]=e.key;else if(a.isRowGroupDisplayed(e.rowGroupColumn.getId())){var s=r.valueService.getValue(e.rowGroupColumn,e);e.groupData[a.getColId()]=s}})},t.prototype.clearDisplayIndex=function(e){e.clearRowTopAndRowIndex();var r=e.hasChildren()&&A.exists(e.childStore);if(r){var i=e.childStore;i.clearDisplayIndexes()}var o=e.master&&e.detailNode;o&&e.detailNode.clearRowTopAndRowIndex()},t.prototype.setDisplayIndex=function(e,r,i){if(e.setRowIndex(r.next()),e.setRowTop(i.value),i.value+=e.rowHeight,!e.footer){var o=e.master;o&&(e.expanded&&e.detailNode?(e.detailNode.setRowIndex(r.next()),e.detailNode.setRowTop(i.value),i.value+=e.detailNode.rowHeight):e.detailNode&&e.detailNode.clearRowTopAndRowIndex());var a=e.hasChildren()&&A.exists(e.childStore);if(a){var s=e.childStore;e.expanded?s.setDisplayIndexes(r,i):s.clearDisplayIndexes()}}},t.prototype.binarySearchForDisplayIndex=function(e,r){var i=0,o=r.length-1;if(A.missing(o)||A.missing(i)){console.warn("AG Grid: error: topPointer = ".concat(o,", bottomPointer = ").concat(i));return}for(;;){var a=Math.floor((i+o)/2),s=r[a];if(s.rowIndex===e)return s;var l=s.master&&s.expanded,u=s.detailNode;if(l&&u&&u.rowIndex===e)return s.detailNode;var c=s.childStore;if(s.expanded&&c&&c.isDisplayIndexInStore(e))return c.getRowUsingDisplayIndex(e);if(s.rowIndex<e)i=a+1;else if(s.rowIndex>e)o=a-1;else{console.warn("AG Grid: error: unable to locate rowIndex = ".concat(e," in cache"));return}}},t.prototype.extractRowBounds=function(e,r){var i=function(a){return{rowHeight:a.rowHeight,rowTop:a.rowTop}};if(e.rowIndex===r)return i(e);if(e.hasChildren()&&e.expanded&&A.exists(e.childStore)){var o=e.childStore;if(o.isDisplayIndexInStore(r))return o.getRowBounds(r)}else if(e.master&&e.expanded&&A.exists(e.detailNode)&&e.detailNode.rowIndex===r)return i(e.detailNode)},t.prototype.getIndexAtPixel=function(e,r){if(e.isPixelInRange(r))return e.rowIndex;var i=e.master&&e.expanded,o=e.detailNode;if(i&&o&&o.isPixelInRange(r))return e.detailNode.rowIndex;if(e.hasChildren()&&e.expanded&&A.exists(e.childStore)){var a=e.childStore;if(a.isPixelInRange(r))return a.getRowIndexAtPixel(r)}return null},t.prototype.createNodeIdPrefix=function(e){for(var r=[],i=e;i&&i.level>=0;)i.key===""?r.push(n6e):r.push(i.key),i=i.parent;if(r.length>0)return r.reverse().join("-")},t.prototype.checkOpenByDefault=function(e){return this.expansionService.checkOpenByDefault(e)},uv([E("valueService")],t.prototype,"valueService",void 0),uv([E("columnModel")],t.prototype,"columnModel",void 0),uv([E("ssrmNodeManager")],t.prototype,"nodeManager",void 0),uv([E("beans")],t.prototype,"beans",void 0),uv([E("expansionService")],t.prototype,"expansionService",void 0),t=uv([ie("ssrmBlockUtils")],t),t}(X),x5=function(n,t,e,r){var i=arguments.length,o=i<3?t:r===null?r=Object.getOwnPropertyDescriptor(t,e):r,a;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(n,t,e,r);else for(var s=n.length-1;s>=0;s--)(a=n[s])&&(o=(i<3?a(o):i>3?a(t,e,o):a(t,e))||o);return i>3&&o&&Object.defineProperty(t,e,o),o},o6e=function(){function n(){this.rowNodes={}}return n.prototype.addRowNode=function(t){var e=t.id;this.rowNodes[e]&&(console.warn("AG Grid: Duplicate node id ".concat(t.id,". Row ID's are provided via the getRowId() callback. Please modify the getRowId() callback code to provide unique row id values.")),console.warn("first instance",this.rowNodes[e].data),console.warn("second instance",t.data)),this.rowNodes[e]=t},n.prototype.removeNode=function(t){var e=t.id;this.rowNodes[e]&&(this.rowNodes[e]=void 0)},n.prototype.clear=function(){this.rowNodes={}},x5([ar],n.prototype,"clear",null),n=x5([ie("ssrmNodeManager")],n),n}(),a6e=function(){var n=function(t,e){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])},n(t,e)};return function(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");n(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}}(),jp=function(n,t,e,r){var i=arguments.length,o=i<3?t:r===null?r=Object.getOwnPropertyDescriptor(t,e):r,a;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(n,t,e,r);else for(var s=n.length-1;s>=0;s--)(a=n[s])&&(o=(i<3?a(o):i>3?a(t,e,o):a(t,e))||o);return i>3&&o&&Object.defineProperty(t,e,o),o},s6e=function(n){a6e(t,n);function t(){var e=n!==null&&n.apply(this,arguments)||this;return e.asyncTransactions=[],e}return t.prototype.postConstruct=function(){this.gridOptionsService.isRowModelType("serverSide")},t.prototype.applyTransactionAsync=function(e,r){this.asyncTransactionsTimeout==null&&this.scheduleExecuteAsync(),this.asyncTransactions.push({transaction:e,callback:r})},t.prototype.scheduleExecuteAsync=function(){var e=this,r=this.gridOptionsService.getAsyncTransactionWaitMillis();this.asyncTransactionsTimeout=window.setTimeout(function(){e.executeAsyncTransactions()},r)},t.prototype.executeAsyncTransactions=function(){var e=this;if(this.asyncTransactions){var r=[],i=[],o=[],a=!1;if(this.asyncTransactions.forEach(function(l){var u,c=e.serverSideRowModel.executeOnStore(l.transaction.route,function(p){u=p.applyTransaction(l.transaction)});c?u==null&&(u={status:Qn.StoreNotFound}):u={status:Qn.StoreNotStarted},i.push(u);var d=u.status==Qn.StoreLoading;if(d){o.push(l);return}l.callback&&r.push(function(){return l.callback(u)}),u.status===Qn.Applied&&(a=!0)}),r.length>0&&window.setTimeout(function(){r.forEach(function(l){return l()})},0),this.asyncTransactionsTimeout=void 0,this.asyncTransactions=o,a&&(this.valueCache.onDataChanged(),this.eventService.dispatchEvent({type:T.EVENT_STORE_UPDATED})),i.length>0){var s={type:T.EVENT_ASYNC_TRANSACTIONS_FLUSHED,results:i};this.eventService.dispatchEvent(s)}}},t.prototype.flushAsyncTransactions=function(){this.asyncTransactionsTimeout!=null&&clearTimeout(this.asyncTransactionsTimeout),this.executeAsyncTransactions()},t.prototype.applyTransaction=function(e){var r,i=this.serverSideRowModel.executeOnStore(e.route,function(a){r=a.applyTransaction(e)});if(i)if(r){if(this.valueCache.onDataChanged(),r.remove){var o=r.remove.map(function(a){return a.id});this.selectionService.deleteSelectionStateFromParent(e.route||[],o)}return this.eventService.dispatchEvent({type:T.EVENT_STORE_UPDATED}),r}else return{status:Qn.StoreNotFound};else return{status:Qn.StoreNotStarted}},jp([E("rowNodeBlockLoader")],t.prototype,"rowNodeBlockLoader",void 0),jp([E("valueCache")],t.prototype,"valueCache",void 0),jp([E("rowModel")],t.prototype,"serverSideRowModel",void 0),jp([E("rowRenderer")],t.prototype,"rowRenderer",void 0),jp([E("selectionService")],t.prototype,"selectionService",void 0),jp([z],t.prototype,"postConstruct",null),t=jp([ie("ssrmTransactionManager")],t),t}(X),l6e=function(){var n=function(t,e){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])},n(t,e)};return function(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");n(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}}(),Pm=function(n,t,e,r){var i=arguments.length,o=i<3?t:r===null?r=Object.getOwnPropertyDescriptor(t,e):r,a;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(n,t,e,r);else for(var s=n.length-1;s>=0;s--)(a=n[s])&&(o=(i<3?a(o):i>3?a(t,e,o):a(t,e))||o);return i>3&&o&&Object.defineProperty(t,e,o),o},u6e=function(n){l6e(t,n);function t(){return n!==null&&n.apply(this,arguments)||this}return t.prototype.postConstruct=function(){this.gridOptionsService.isRowModelType("serverSide")&&this.addManagedListener(this.eventService,T.EVENT_ROW_GROUP_OPENED,this.onRowGroupOpened.bind(this))},t.prototype.onRowGroupOpened=function(e){var r=e.node;if(r.expanded){if(r.master)this.createDetailNode(r);else if(A.missing(r.childStore)){var i=this.serverSideRowModel.getParams();r.childStore=this.createBean(this.storeFactory.createStore(i,r))}}else this.gridOptionsService.get("purgeClosedRowNodes")&&A.exists(r.childStore)&&(r.childStore=this.destroyBean(r.childStore));var o={type:T.EVENT_STORE_UPDATED};this.eventService.dispatchEvent(o)},t.prototype.createDetailNode=function(e){if(A.exists(e.detailNode))return e.detailNode;var r=new Xe(this.beans);r.detail=!0,r.selectable=!1,r.parent=e,A.exists(e.id)&&(r.id="detail_"+e.id),r.data=e.data,r.level=e.level+1;var i=200,o=this.gridOptionsService.getRowHeightForNode(r).height;return r.rowHeight=o||i,e.detailNode=r,r},Pm([E("rowModel")],t.prototype,"serverSideRowModel",void 0),Pm([E("ssrmStoreFactory")],t.prototype,"storeFactory",void 0),Pm([E("beans")],t.prototype,"beans",void 0),Pm([z],t.prototype,"postConstruct",null),t=Pm([ie("ssrmExpandListener")],t),t}(X),c6e=function(){var n=function(t,e){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])},n(t,e)};return function(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");n(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}}(),Am=function(n,t,e,r){var i=arguments.length,o=i<3?t:r===null?r=Object.getOwnPropertyDescriptor(t,e):r,a;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(n,t,e,r);else for(var s=n.length-1;s>=0;s--)(a=n[s])&&(o=(i<3?a(o):i>3?a(t,e,o):a(t,e))||o);return i>3&&o&&Object.defineProperty(t,e,o),o},d6e=function(n){c6e(t,n);function t(){return n!==null&&n.apply(this,arguments)||this}return t.prototype.postConstruct=function(){this.gridOptionsService.isRowModelType("serverSide")&&this.addManagedListener(this.eventService,T.EVENT_SORT_CHANGED,this.onSortChanged.bind(this))},t.prototype.onSortChanged=function(){var e=this.serverSideRowModel.getParams();if(e){var r=this.sortController.getSortModel(),i=e.sortModel,o=this.findChangedColumnsInSort(r,i),a=this.listenerUtils.isSortingWithValueColumn(o),s=this.listenerUtils.isSortingWithSecondaryColumn(o),l={valueColChanged:a,secondaryColChanged:s,changedColumns:o};this.serverSideRowModel.refreshAfterSort(r,l)}},t.prototype.findChangedColumnsInSort=function(e,r){var i=[];[e,r].forEach(function(s){if(s){var l=s.map(function(u){return u.colId});i=i.concat(l)}});var o=function(s,l){var u=s?s.sort:null,c=l?l.sort:null;return u!==c},a=function(s,l){var u=s?r.indexOf(s):-1,c=l?e.indexOf(l):-1;return u!==c};return i.filter(function(s){var l=r.find(function(c){return c.colId===s}),u=e.find(function(c){return c.colId===s});return o(l,u)||a(l,u)})},Am([E("sortController")],t.prototype,"sortController",void 0),Am([E("rowModel")],t.prototype,"serverSideRowModel",void 0),Am([E("ssrmListenerUtils")],t.prototype,"listenerUtils",void 0),Am([z],t.prototype,"postConstruct",null),t=Am([ie("ssrmSortService")],t),t}(X),p6e=function(){var n=function(t,e){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])},n(t,e)};return function(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");n(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}}(),Dm=function(n,t,e,r){var i=arguments.length,o=i<3?t:r===null?r=Object.getOwnPropertyDescriptor(t,e):r,a;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(n,t,e,r);else for(var s=n.length-1;s>=0;s--)(a=n[s])&&(o=(i<3?a(o):i>3?a(t,e,o):a(t,e))||o);return i>3&&o&&Object.defineProperty(t,e,o),o},h6e=function(n){p6e(t,n);function t(){return n!==null&&n.apply(this,arguments)||this}return t.prototype.postConstruct=function(){var e=this;this.gridOptionsService.isRowModelType("serverSide")&&(this.addManagedListener(this.eventService,T.EVENT_ADVANCED_FILTER_ENABLED_CHANGED,function(){return e.onFilterChanged(!0)}),this.addManagedListener(this.eventService,T.EVENT_FILTER_CHANGED,function(){return e.onFilterChanged()}))},t.prototype.onFilterChanged=function(e){var r=this.serverSideRowModel.getParams();if(r){var i=r.filterModel,o,a;if(this.filterManager.isAdvancedFilterEnabled()){o=this.filterManager.getAdvancedFilterModel();var s=e?Object.keys(i??{}):this.getAdvancedFilterColumns(i),l=this.getAdvancedFilterColumns(o);s.forEach(function(h){return l.add(h)}),a=Array.from(l)}else if(o=this.filterManager.getFilterModel(),e){var u=this.getAdvancedFilterColumns(i);Object.keys(o).forEach(function(h){return u.add(h)}),a=Array.from(u)}else a=this.findChangedColumns(i,o);var c=this.listenerUtils.isSortingWithValueColumn(a),d=this.listenerUtils.isSortingWithSecondaryColumn(a),p={valueColChanged:c,secondaryColChanged:d,changedColumns:a};this.serverSideRowModel.refreshAfterFilter(o,p)}},t.prototype.findChangedColumns=function(e,r){var i={};Object.keys(e).forEach(function(a){return i[a]=!0}),Object.keys(r).forEach(function(a){return i[a]=!0});var o=[];return Object.keys(i).forEach(function(a){var s=JSON.stringify(e[a]),l=JSON.stringify(r[a]),u=s!=l;u&&o.push(a)}),o},t.prototype.getAdvancedFilterColumns=function(e){var r=new Set;if(!e)return r;var i=function(o){o.filterType==="join"?o.conditions.forEach(function(a){return i(a)}):r.add(o.colId)};return i(e),r},Dm([E("rowModel")],t.prototype,"serverSideRowModel",void 0),Dm([E("filterManager")],t.prototype,"filterManager",void 0),Dm([E("ssrmListenerUtils")],t.prototype,"listenerUtils",void 0),Dm([z],t.prototype,"postConstruct",null),t=Dm([ie("ssrmFilterListener")],t),t}(X),SM=function(n,t,e,r){var i=arguments.length,o=i<3?t:r===null?r=Object.getOwnPropertyDescriptor(t,e):r,a;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(n,t,e,r);else for(var s=n.length-1;s>=0;s--)(a=n[s])&&(o=(i<3?a(o):i>3?a(t,e,o):a(t,e))||o);return i>3&&o&&Object.defineProperty(t,e,o),o},f6e=function(){function n(){}return n.prototype.createStore=function(t,e){var r=this.getStoreParams(t,e),i=r.suppressInfiniteScroll?ZI:OE;return new i(t,r,e)},n.prototype.getStoreParams=function(t,e){var r=this.getLevelSpecificParams(e),i=this.isInfiniteScroll(r),o=this.getBlockSize(i,r),a=this.getMaxBlocksInCache(i,t,r),s={suppressInfiniteScroll:!i,cacheBlockSize:o,maxBlocksInCache:a};return s},n.prototype.getMaxBlocksInCache=function(t,e,r){if(t){var i=r&&r.maxBlocksInCache!=null?r.maxBlocksInCache:this.gridOptionsService.get("maxBlocksInCache"),o=i!=null&&i>=0;if(o){if(e.dynamicRowHeight){var a="Server Side Row Model does not support Dynamic Row Height and Cache Purging. Either a) remove getRowHeight() callback or b) remove maxBlocksInCache property. Purging has been disabled.";A.warnOnce(a);return}if(this.columnModel.isAutoRowHeightActive()){var a="Server Side Row Model does not support Auto Row Height and Cache Purging. Either a) remove colDef.autoHeight or b) remove maxBlocksInCache property. Purging has been disabled.";A.warnOnce(a);return}return i}}},n.prototype.getBlockSize=function(t,e){if(t){var r=e&&e.cacheBlockSize!=null?e.cacheBlockSize:this.gridOptionsService.get("cacheBlockSize");return r!=null&&r>0?r:100}},n.prototype.getLevelSpecificParams=function(t){var e=this.gridOptionsService.getCallback("getServerSideGroupLevelParams");if(e){var r={level:t.level+1,parentRowNode:t.level>=0?t:void 0,rowGroupColumns:this.columnModel.getRowGroupColumns(),pivotColumns:this.columnModel.getPivotColumns(),pivotMode:this.columnModel.isPivotMode()},i=e(r);return i}},n.prototype.isInfiniteScroll=function(t){var e=t&&t.suppressInfiniteScroll!=null?t.suppressInfiniteScroll:this.isSuppressServerSideInfiniteScroll();return!e},n.prototype.isSuppressServerSideInfiniteScroll=function(){return this.gridOptionsService.get("suppressServerSideInfiniteScroll")},SM([E("gridOptionsService")],n.prototype,"gridOptionsService",void 0),SM([E("columnModel")],n.prototype,"columnModel",void 0),n=SM([ie("ssrmStoreFactory")],n),n}(),E5=function(n,t,e,r){var i=arguments.length,o=i<3?t:r===null?r=Object.getOwnPropertyDescriptor(t,e):r,a;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(n,t,e,r);else for(var s=n.length-1;s>=0;s--)(a=n[s])&&(o=(i<3?a(o):i>3?a(t,e,o):a(t,e))||o);return i>3&&o&&Object.defineProperty(t,e,o),o},v6e=function(){function n(){}return n.prototype.isSortingWithValueColumn=function(t){for(var e=this.columnModel.getValueColumns().map(function(i){return i.getColId()}),r=0;r<t.length;r++)if(e.indexOf(t[r])>-1)return!0;return!1},n.prototype.isSortingWithSecondaryColumn=function(t){if(!this.columnModel.getSecondaryColumns())return!1;for(var e=this.columnModel.getSecondaryColumns().map(function(i){return i.getColId()}),r=0;r<t.length;r++)if(e.indexOf(t[r])>-1)return!0;return!1},E5([E("columnModel")],n.prototype,"columnModel",void 0),n=E5([ie("ssrmListenerUtils")],n),n}(),g6e=function(){var n=function(t,e){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])},n(t,e)};return function(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");n(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}}(),b5=function(n,t,e,r){var i=arguments.length,o=i<3?t:r===null?r=Object.getOwnPropertyDescriptor(t,e):r,a;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(n,t,e,r);else for(var s=n.length-1;s>=0;s--)(a=n[s])&&(o=(i<3?a(o):i>3?a(t,e,o):a(t,e))||o);return i>3&&o&&Object.defineProperty(t,e,o),o},y6e=function(n,t){var e=typeof Symbol=="function"&&n[Symbol.iterator];if(!e)return n;var r=e.call(n),i,o=[],a;try{for(;(t===void 0||t-- >0)&&!(i=r.next()).done;)o.push(i.value)}catch(s){a={error:s}}finally{try{i&&!i.done&&(e=r.return)&&e.call(r)}finally{if(a)throw a.error}}return o},m6e=function(n,t,e){if(e||arguments.length===2)for(var r=0,i=t.length,o;r<i;r++)(o||!(r in t))&&(o||(o=Array.prototype.slice.call(t,0,r)),o[r]=t[r]);return n.concat(o||Array.prototype.slice.call(t))},O5=function(n){g6e(t,n);function t(){var e=n!==null&&n.apply(this,arguments)||this;return e.selectedState={selectAll:!1,toggledNodes:new Set},e.lastSelected=null,e.selectAllUsed=!1,e.selectedNodes={},e}return t.prototype.init=function(){var e=this;this.rowSelection=this.gridOptionsService.get("rowSelection"),this.addManagedPropertyListener("rowSelection",function(r){e.rowSelection=r.currentValue})},t.prototype.getSelectedState=function(){return{selectAll:this.selectedState.selectAll,toggledNodes:m6e([],y6e(this.selectedState.toggledNodes),!1)}},t.prototype.setSelectedState=function(e){var r={selectAll:!1,toggledNodes:new Set};if(typeof e!="object"){console.error("AG Grid: The provided selection state should be an object.");return}if("selectAll"in e&&typeof e.selectAll=="boolean")r.selectAll=e.selectAll;else{console.error("AG Grid: Select all status should be of boolean type.");return}if("toggledNodes"in e&&Array.isArray(e.toggledNodes))e.toggledNodes.forEach(function(i){typeof i=="string"?r.toggledNodes.add(i):console.warn("AG Grid: Provided ids must be of string type. Invalid id provided: ".concat(i))});else{console.error("AG Grid: `toggledNodes` must be an array of string ids.");return}this.selectedState=r},t.prototype.deleteSelectionStateFromParent=function(e,r){var i=this;if(this.selectedState.toggledNodes.size===0)return!1;var o=!1;return r.forEach(function(a){i.selectedState.toggledNodes.delete(a)&&(o=!0)}),o},t.prototype.setNodesSelected=function(e){var r,i=this;if(e.nodes.length===0)return 0;var o=e.clearSelection&&e.newValue&&!e.rangeSelect;if(this.rowSelection!=="multiple"||o){if(e.nodes.length>1)throw new Error("AG Grid: cannot select multiple rows when rowSelection is set to 'single'");var a=e.nodes[0];return e.newValue?(this.selectedNodes=(r={},r[a.id]=a,r),this.selectedState={selectAll:!1,toggledNodes:new Set([a.id])}):(this.selectedNodes={},this.selectedState={selectAll:!1,toggledNodes:new Set}),this.lastSelected=a.id,1}var s=function(u){e.newValue?i.selectedNodes[u.id]=u:delete i.selectedNodes[u.id];var c=u.selectable,d=e.newValue===i.selectedState.selectAll;if(d||!c){i.selectedState.toggledNodes.delete(u.id);return}i.selectedState.toggledNodes.add(u.id)};if(e.rangeSelect&&this.lastSelected){if(e.nodes.length>1)throw new Error("AG Grid: cannot select multiple rows when using rangeSelect");var a=e.nodes[0],l=this.rowModel.getRowNode(this.lastSelected);return this.rowModel.getNodesInRangeForSelection(a,l??null).forEach(s),this.lastSelected=a.id,1}return e.nodes.forEach(s),this.lastSelected=e.nodes[e.nodes.length-1].id,1},t.prototype.processNewRow=function(e){this.selectedNodes[e.id]&&(this.selectedNodes[e.id]=e)},t.prototype.isNodeSelected=function(e){var r=this.selectedState.toggledNodes.has(e.id);return this.selectedState.selectAll?!r:r},t.prototype.getSelectedNodes=function(){return this.selectAllUsed&&console.warn("AG Grid: getSelectedNodes and getSelectedRows functions cannot be used with select all functionality with the server-side row model.\n                Use `api.getServerSideSelectionState()` instead."),Object.values(this.selectedNodes)},t.prototype.getSelectedRows=function(){return this.getSelectedNodes().map(function(e){return e.data})},t.prototype.getSelectionCount=function(){return this.selectedState.selectAll?-1:this.selectedState.toggledNodes.size},t.prototype.clearOtherNodes=function(e,r){var i=this.selectedState.selectAll?1:this.selectedState.toggledNodes.size-1;this.selectedState={selectAll:!1,toggledNodes:new Set([e.id])},this.rowModel.forEachNode(function(a){a!==e&&a.selectThisNode(!1,void 0,r)});var o={type:T.EVENT_SELECTION_CHANGED,source:r};return this.eventService.dispatchEvent(o),i},t.prototype.isEmpty=function(){var e;return!this.selectedState.selectAll&&!(!((e=this.selectedState.toggledNodes)===null||e===void 0)&&e.size)},t.prototype.selectAllRowNodes=function(e){this.selectedState={selectAll:!0,toggledNodes:new Set},this.selectedNodes={},this.selectAllUsed=!0},t.prototype.deselectAllRowNodes=function(e){this.selectedState={selectAll:!1,toggledNodes:new Set},this.selectedNodes={}},t.prototype.getSelectAllState=function(e,r){return this.selectedState.selectAll?this.selectedState.toggledNodes.size>0?null:!0:this.selectedState.toggledNodes.size>0?null:!1},b5([E("rowModel")],t.prototype,"rowModel",void 0),b5([z],t.prototype,"init",null),t}(X),C6e=function(){var n=function(t,e){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])},n(t,e)};return function(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");n(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}}(),KC=function(){return KC=Object.assign||function(n){for(var t,e=1,r=arguments.length;e<r;e++){t=arguments[e];for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(n[i]=t[i])}return n},KC.apply(this,arguments)},cv=function(n,t,e,r){var i=arguments.length,o=i<3?t:r===null?r=Object.getOwnPropertyDescriptor(t,e):r,a;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(n,t,e,r);else for(var s=n.length-1;s>=0;s--)(a=n[s])&&(o=(i<3?a(o):i>3?a(t,e,o):a(t,e))||o);return i>3&&o&&Object.defineProperty(t,e,o),o},S6e=function(n,t){var e={};for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&t.indexOf(r)<0&&(e[r]=n[r]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(n);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(n,r[i])&&(e[r[i]]=n[r[i]]);return e},Mm=function(n,t){var e=typeof Symbol=="function"&&n[Symbol.iterator];if(!e)return n;var r=e.call(n),i,o=[],a;try{for(;(t===void 0||t-- >0)&&!(i=r.next()).done;)o.push(i.value)}catch(s){a={error:s}}finally{try{i&&!i.done&&(e=r.return)&&e.call(r)}finally{if(a)throw a.error}}return o},w6e=function(n,t,e){if(e||arguments.length===2)for(var r=0,i=t.length,o;r<i;r++)(o||!(r in t))&&(o||(o=Array.prototype.slice.call(t,0,r)),o[r]=t[r]);return n.concat(o||Array.prototype.slice.call(t))},_6e=function(n){var t=typeof Symbol=="function"&&Symbol.iterator,e=t&&n[t],r=0;if(e)return e.call(n);if(n&&typeof n.length=="number")return{next:function(){return n&&r>=n.length&&(n=void 0),{value:n&&n[r++],done:!n}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")},R5=function(n){C6e(t,n);function t(){var e=n!==null&&n.apply(this,arguments)||this;return e.selectedState={selectAllChildren:!1,toggledNodes:new Map},e.lastSelected=null,e}return t.prototype.init=function(){var e=this;this.addManagedListener(this.eventService,T.EVENT_MODEL_UPDATED,function(){return e.removeRedundantState()}),this.addManagedListener(this.eventService,T.EVENT_COLUMN_ROW_GROUP_CHANGED,function(){return e.selectionService.reset("rowGroupChanged")})},t.prototype.getSelectedState=function(){var e=this,r=this.gridOptionsService.get("treeData"),i=function(o,a,s){var l={nodeId:s};if((r||a<=e.columnModel.getRowGroupColumns().length)&&(l.selectAllChildren=o.selectAllChildren),o.toggledNodes.size){var u=[];o.toggledNodes.forEach(function(c,d){var p=i(c,a+1,d);u.push(p)}),l.toggledNodes=u}return l};return i(this.selectedState,0)},t.prototype.setSelectedState=function(e){var r=function(i,o){var a,s;if(typeof i!="object")throw new Error("AG Grid: Each provided state object must be an object.");if("selectAllChildren"in i&&typeof i.selectAllChildren!="boolean")throw new Error("AG Grid: `selectAllChildren` must be a boolean value or undefined.");if("toggledNodes"in i){if(!Array.isArray(i.toggledNodes))throw new Error("AG Grid: `toggledNodes` must be an array.");var l=i.toggledNodes.every(function(p){return typeof p=="object"&&"nodeId"in p&&typeof p.nodeId=="string"});if(!l)throw new Error("AG Grid: Every `toggledNode` requires an associated string id.")}var u=(a=i.selectAllChildren)!==null&&a!==void 0?a:!o,c=(s=i.toggledNodes)===null||s===void 0?void 0:s.map(function(p){return[p.nodeId,r(p,u)]}),d=c==null?void 0:c.some(function(p){var h=Mm(p,2);h[0];var f=h[1];return u===f.selectAllChildren&&f.toggledNodes.size===0});if(d)throw new Error(`
                    AG Grid: AG Grid: Row selection state could not be parsed due to invalid data. Ensure all child state has toggledNodes or does not conform with the parent rule.
                    Please rebuild the selection state and reapply it.
                `);return{selectAllChildren:u,toggledNodes:new Map(c)}};try{this.selectedState=r(e,!!e.selectAllChildren)}catch(i){console.error(i.message)}},t.prototype.deleteSelectionStateFromParent=function(e,r){for(var i=this.selectedState,o=w6e([],Mm(e),!1);i&&o.length;)i=i.toggledNodes.get(o.pop());if(!i)return!1;var a=!1;return r.forEach(function(s){i!=null&&i.toggledNodes.delete(s)&&(a=!0)}),a&&this.removeRedundantState(),a},t.prototype.setNodesSelected=function(e){var r=this,i=e.nodes,o=S6e(e,["nodes"]);if(i.length===0)return 0;if(e.rangeSelect){if(i.length>1)throw new Error("AG Grid: cannot select multiple rows when using rangeSelect");var a=i[0],s=this.rowModel.getNodesInRangeForSelection(a,this.lastSelected),l=s.map(this.getRouteToNode).sort(function(c,d){return d.length-c.length}),u=new Set;return l.forEach(function(c){u.has(c[c.length-1])||(c.forEach(function(d){return u.add(d)}),r.recursivelySelectNode(c,r.selectedState,KC({node:a},o)))}),this.removeRedundantState(),this.lastSelected=a,1}return e.nodes.forEach(function(c){var d=r.getRouteToNode(c);r.recursivelySelectNode(d,r.selectedState,KC(KC({},o),{node:c}))}),this.removeRedundantState(),this.lastSelected=e.nodes[e.nodes.length-1],1},t.prototype.isNodeSelected=function(e){var r=this.getRouteToNode(e);return this.isNodePathSelected(r,this.selectedState)},t.prototype.isNodePathSelected=function(e,r){var i=Mm(e),o=i[0],a=i.slice(1);if(a.length===0){var s=r.toggledNodes.has(o.id);if(o.hasChildren()){var l=r.toggledNodes.get(o.id);if(l&&l.toggledNodes.size)return}return r.selectAllChildren?!s:s}if(r.toggledNodes.has(o.id)){var u=r.toggledNodes.get(o.id);if(u)return this.isNodePathSelected(a,u)}return!!r.selectAllChildren},t.prototype.getRouteToNode=function(e){for(var r=[],i=e;i.parent;)r.push(i),i=i.parent;return r.reverse()},t.prototype.removeRedundantState=function(){var e=this;if(!this.filterManager.isAnyFilterPresent()){var r=function(i,o,a){var s,l;if(i===void 0&&(i=e.selectedState),i.toggledNodes.forEach(function(_,x){r(_,x,i)}),o){var u=e.rowModel.getRowNode(o),c=u==null?void 0:u.childStore,d=c==null?void 0:c.isLastRowIndexKnown();if(d){var p=i.toggledNodes.size>=c.getRowCount();if(p){try{for(var h=_6e(i.toggledNodes.entries()),f=h.next();!f.done;f=h.next()){var v=f.value,g=Mm(v,2),y=g[0],m=g[1];if(m.toggledNodes.size>0)return;var C=!e.rowModel.getRowNode(y);if(C)return}}catch(_){s={error:_}}finally{try{f&&!f.done&&(l=h.return)&&l.call(h)}finally{if(s)throw s.error}}i.selectAllChildren=!i.selectAllChildren,i.toggledNodes.clear()}}}var S=i.toggledNodes.size===0,w=(a==null?void 0:a.selectAllChildren)===i.selectAllChildren;S&&w&&(a==null||a.toggledNodes.delete(o))};r()}},t.prototype.recursivelySelectNode=function(e,r,i){var o=Mm(e),a=o[0],s=o.slice(1);if(a){var l=!s.length;if(l){var u=a.selectable,c=r.selectAllChildren===i.newValue;if(c||!u){r.toggledNodes.delete(a.id);return}var d={selectAllChildren:i.newValue,toggledNodes:new Map};r.toggledNodes.set(a.id,d);return}var p=r.toggledNodes.has(a.id),h=p?r.toggledNodes.get(a.id):{selectAllChildren:r.selectAllChildren,toggledNodes:new Map};p||r.toggledNodes.set(a.id,h),this.recursivelySelectNode(s,h,i),r.selectAllChildren===h.selectAllChildren&&h.toggledNodes.size===0&&r.toggledNodes.delete(a.id)}},t.prototype.getSelectedNodes=function(){console.warn("AG Grid: `getSelectedNodes` and `getSelectedRows` functions cannot be used with `groupSelectsChildren` and the server-side row model.\n            Use `api.getServerSideSelectionState()` instead.");var e=[];return this.rowModel.forEachNode(function(r){r.isSelected()&&e.push(r)}),e},t.prototype.processNewRow=function(e){},t.prototype.getSelectedRows=function(){return this.getSelectedNodes().map(function(e){return e.data})},t.prototype.getSelectionCount=function(){return-1},t.prototype.isEmpty=function(){var e;return!this.selectedState.selectAllChildren&&!(!((e=this.selectedState.toggledNodes)===null||e===void 0)&&e.size)},t.prototype.selectAllRowNodes=function(e){this.selectedState={selectAllChildren:!0,toggledNodes:new Map}},t.prototype.deselectAllRowNodes=function(e){this.selectedState={selectAllChildren:!1,toggledNodes:new Map}},t.prototype.getSelectAllState=function(e,r){return this.selectedState.selectAllChildren?this.selectedState.toggledNodes.size>0?null:!0:this.selectedState.toggledNodes.size>0?null:!1},cv([E("rowModel")],t.prototype,"rowModel",void 0),cv([E("columnModel")],t.prototype,"columnModel",void 0),cv([E("filterManager")],t.prototype,"filterManager",void 0),cv([E("rowModel")],t.prototype,"serverSideRowModel",void 0),cv([E("selectionService")],t.prototype,"selectionService",void 0),cv([z],t.prototype,"init",null),t}(X),x6e=function(){var n=function(t,e){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])},n(t,e)};return function(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");n(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}}(),QI=function(){return QI=Object.assign||function(n){for(var t,e=1,r=arguments.length;e<r;e++){t=arguments[e];for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(n[i]=t[i])}return n},QI.apply(this,arguments)},wM=function(n,t,e,r){var i=arguments.length,o=i<3?t:r===null?r=Object.getOwnPropertyDescriptor(t,e):r,a;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(n,t,e,r);else for(var s=n.length-1;s>=0;s--)(a=n[s])&&(o=(i<3?a(o):i>3?a(t,e,o):a(t,e))||o);return i>3&&o&&Object.defineProperty(t,e,o),o},E6e=function(n,t){var e={};for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&t.indexOf(r)<0&&(e[r]=n[r]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(n);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(n,r[i])&&(e[r[i]]=n[r[i]]);return e},b6e=function(n){x6e(t,n);function t(){return n!==null&&n.apply(this,arguments)||this}return t.prototype.init=function(){var e=this,r=this.gridOptionsService.get("groupSelectsChildren");this.addManagedPropertyListener("groupSelectsChildren",function(o){e.destroyBean(e.selectionStrategy);var a=o.currentValue?R5:O5;e.selectionStrategy=e.createManagedBean(new a),e.shotgunResetNodeSelectionState();var s={type:T.EVENT_SELECTION_CHANGED,source:"api"};e.eventService.dispatchEvent(s)}),this.addManagedPropertyListener("rowSelection",function(){return e.deselectAllRowNodes({source:"api"})});var i=r?R5:O5;this.selectionStrategy=this.createManagedBean(new i)},t.prototype.getSelectionState=function(){return this.selectionStrategy.getSelectedState()},t.prototype.setSelectionState=function(e,r){if(!Array.isArray(e)){this.selectionStrategy.setSelectedState(e),this.shotgunResetNodeSelectionState();var i={type:T.EVENT_SELECTION_CHANGED,source:r};this.eventService.dispatchEvent(i)}},t.prototype.setNodesSelected=function(e){var r=e.nodes,i=E6e(e,["nodes"]),o=this.gridOptionsService.get("rowSelection");if(r.length>1&&o!=="multiple")return console.warn("AG Grid: cannot multi select while rowSelection='single'"),0;if(r.length>1&&e.rangeSelect)return console.warn("AG Grid: cannot use range selection when multi selecting rows"),0;var a=QI({nodes:r.filter(function(u){return u.selectable})},i);if(!a.nodes.length)return 0;var s=this.selectionStrategy.setNodesSelected(a);this.shotgunResetNodeSelectionState(a.source);var l={type:T.EVENT_SELECTION_CHANGED,source:a.source};return this.eventService.dispatchEvent(l),s},t.prototype.deleteSelectionStateFromParent=function(e,r){var i=this.selectionStrategy.deleteSelectionStateFromParent(e,r);if(i){this.shotgunResetNodeSelectionState();var o={type:T.EVENT_SELECTION_CHANGED,source:"api"};this.eventService.dispatchEvent(o)}},t.prototype.shotgunResetNodeSelectionState=function(e){var r=this;this.rowModel.forEachNode(function(i){if(!i.stub){var o=r.selectionStrategy.isNodeSelected(i);o!==i.isSelected()&&i.selectThisNode(o,void 0,e)}})},t.prototype.getSelectedNodes=function(){return this.selectionStrategy.getSelectedNodes()},t.prototype.getSelectedRows=function(){return this.selectionStrategy.getSelectedRows()},t.prototype.getSelectionCount=function(){return this.selectionStrategy.getSelectionCount()},t.prototype.syncInRowNode=function(e,r){this.selectionStrategy.processNewRow(e);var i=this.selectionStrategy.isNodeSelected(e);if(i!=!1&&!e.selectable){this.selectionStrategy.setNodesSelected({nodes:[e],newValue:!1,source:"api"}),this.shotgunResetNodeSelectionState();var o={type:T.EVENT_SELECTION_CHANGED,source:"api"};this.eventService.dispatchEvent(o);return}e.setSelectedInitialValue(i)},t.prototype.reset=function(){this.selectionStrategy.deselectAllRowNodes({source:"api"})},t.prototype.isEmpty=function(){return this.selectionStrategy.isEmpty()},t.prototype.hasNodesToSelect=function(e,r){return!0},t.prototype.selectAllRowNodes=function(e){(e.justCurrentPage||e.justFiltered)&&console.warn("AG Grid: selecting just filtered only works when gridOptions.rowModelType='clientSide'"),this.selectionStrategy.selectAllRowNodes(e),this.rowModel.forEachNode(function(i){i.stub||i.selectThisNode(!0,void 0,e.source)});var r={type:T.EVENT_SELECTION_CHANGED,source:e.source};this.eventService.dispatchEvent(r)},t.prototype.deselectAllRowNodes=function(e){(e.justCurrentPage||e.justFiltered)&&console.warn("AG Grid: selecting just filtered only works when gridOptions.rowModelType='clientSide'"),this.selectionStrategy.deselectAllRowNodes(e),this.rowModel.forEachNode(function(i){i.stub||i.selectThisNode(!1,void 0,e.source)});var r={type:T.EVENT_SELECTION_CHANGED,source:e.source};this.eventService.dispatchEvent(r)},t.prototype.getSelectAllState=function(e,r){return this.selectionStrategy.getSelectAllState(e,r)},t.prototype.updateGroupsFromChildrenSelections=function(e,r){return!1},t.prototype.getBestCostNodeSelection=function(){console.warn("AG Grid: calling gridApi.getBestCostNodeSelection() is only possible when using rowModelType=`clientSide`.")},t.prototype.filterFromSelection=function(){},wM([E("rowModel")],t.prototype,"rowModel",void 0),wM([z],t.prototype,"init",null),t=wM([ie("selectionService")],t),t}(X),O6e="31.1.1",R6e=function(){var n=function(t,e){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])},n(t,e)};return function(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");n(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}}(),T5=function(n,t,e,r){var i=arguments.length,o=i<3?t:r===null?r=Object.getOwnPropertyDescriptor(t,e):r,a;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(n,t,e,r);else for(var s=n.length-1;s>=0;s--)(a=n[s])&&(o=(i<3?a(o):i>3?a(t,e,o):a(t,e))||o);return i>3&&o&&Object.defineProperty(t,e,o),o},T6e=function(n){R6e(t,n);function t(){var e=n!==null&&n.apply(this,arguments)||this;return e.queuedRowIds=new Set,e}return t.prototype.postConstruct=function(){var e=this;n.prototype.postConstruct.call(this),this.addManagedListener(this.eventService,T.EVENT_COLUMN_ROW_GROUP_CHANGED,function(){e.queuedRowIds.clear()})},t.prototype.checkOpenByDefault=function(e){if(e.isExpandable()){var r=function(){window.setTimeout(function(){return e.setExpanded(!0)},0)};if(this.queuedRowIds.has(e.id)){this.queuedRowIds.delete(e.id),r();return}var i=this.gridOptionsService.getCallback("isServerSideGroupOpenByDefault");if(i){var o={data:e.data,rowNode:e},a=i(o);a&&r()}}},t.prototype.expandRows=function(e){var r=this;e.forEach(function(i){var o=r.serverSideRowModel.getRowNode(i);o?o.setExpanded(!0):r.queuedRowIds.add(i)})},t.prototype.expandAll=function(e){this.serverSideRowModel.expandAll(e)},t.prototype.onGroupExpandedOrCollapsed=function(){},T5([E("rowModel")],t.prototype,"serverSideRowModel",void 0),t=T5([ie("expansionService")],t),t}(_G),P6e={version:O6e,moduleName:pe.ServerSideRowModelModule,rowModel:"serverSide",beans:[J4e,u6e,d6e,t6e,i6e,o6e,s6e,h6e,f6e,v6e,b6e,T6e],dependantModules:[jn]},A6e=function(){function n(t,e,r,i,o,a,s,l,u,c,d){this.rowModel=t,this.filterParams=e,this.createKey=r,this.caseFormat=i,this.columnModel=o,this.valueService=a,this.treeDataOrGrouping=s,this.treeData=l,this.getDataPath=u,this.groupAllowUnbalanced=c,this.addManagedListener=d}return n.prototype.extractUniqueValuesAsync=function(t,e){var r=this;return new tt(function(i){if(r.rowModel.isRowDataLoaded())i(r.extractUniqueValues(t,e));else var o=r.addManagedListener(T.EVENT_ROW_COUNT_READY,function(){o==null||o(),i(r.extractUniqueValues(t,e))})})},n.prototype.extractUniqueValues=function(t,e){var r=this,i=new Map,o=this.extractExistingFormattedKeys(e),a=new Set,s=this.treeData&&!!this.getDataPath,l=this.columnModel.getRowGroupColumns(),u=function(c,d){var p=r.caseFormat(c);if(!a.has(p)){a.add(p);var h=c,f=A.makeNull(d),v=o==null?void 0:o.get(p);v!=null&&(h=v,f=e.get(v)),i.set(h,f)}};return this.rowModel.forEachLeafNode(function(c){if(!(!c.data||!t(c))){if(r.treeDataOrGrouping){r.addValueForTreeDataOrGrouping(c,s,l,u);return}var d=r.getValue(c);if(r.filterParams.convertValuesToStrings){r.addValueForConvertValuesToString(c,d,u);return}d!=null&&Array.isArray(d)?(d.forEach(function(p){u(r.createKey(p,c),p)}),d.length===0&&u(null,null)):u(r.createKey(d,c),d)}}),i},n.prototype.addValueForConvertValuesToString=function(t,e,r){var i=this.createKey(e,t);i!=null&&Array.isArray(i)?(i.forEach(function(o){var a=A.toStringOrNull(A.makeNull(o));r(a,a)}),i.length===0&&r(null,null)):r(i,i)},n.prototype.addValueForTreeDataOrGrouping=function(t,e,r,i){var o=this,a,s;if(e){if(!((a=t.childrenAfterGroup)===null||a===void 0)&&a.length)return;s=this.getDataPath(t.data)}else s=r.map(function(l){return o.valueService.getKeyForNode(l,t)}),s.push(this.getValue(t));s&&(s=s.map(function(l){return A.toStringOrNull(A.makeNull(l))})),!e&&this.groupAllowUnbalanced&&(s!=null&&s.some(function(l){return l==null}))&&(s=s.filter(function(l){return l!=null})),i(this.createKey(s),s)},n.prototype.getValue=function(t){return this.filterParams.getValue(t)},n.prototype.extractExistingFormattedKeys=function(t){var e=this;if(!t)return null;var r=new Map;return t.forEach(function(i,o){r.set(e.caseFormat(o),o)}),r},n}(),io=function(){function n(){}return n.SELECT_ALL="__AG_SELECT_ALL__",n.ADD_SELECTION_TO_FILTER="__AG_ADD_SELECTION_TO_FILTER__",n}(),D6e=function(n){var t=typeof Symbol=="function"&&Symbol.iterator,e=t&&n[t],r=0;if(e)return e.call(n);if(n&&typeof n.length=="number")return{next:function(){return n&&r>=n.length&&(n=void 0),{value:n&&n[r++],done:!n}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")},M6e=function(){function n(t,e,r,i){this.valueFormatterService=t,this.valueFormatter=e,this.formatter=r,this.column=i,this.displayedKeys=[]}return n.prototype.updateDisplayedValuesToAllAvailable=function(t,e,r){this.displayedKeys=Array.from(r)},n.prototype.updateDisplayedValuesToMatchMiniFilter=function(t,e,r,i,o){var a,s;this.displayedKeys=[];try{for(var l=D6e(r),u=l.next();!u.done;u=l.next()){var c=u.value;if(c==null)o&&this.displayedKeys.push(c);else{var d=t(c),p=this.valueFormatterService.formatValue(this.column,null,d,this.valueFormatter,!1),h=this.formatter(p);i(h)&&this.displayedKeys.push(c)}}}catch(f){a={error:f}}finally{try{u&&!u.done&&(s=l.return)&&s.call(l)}finally{if(a)throw a.error}}},n.prototype.getDisplayedValueCount=function(){return this.displayedKeys.length},n.prototype.getDisplayedItem=function(t){return this.displayedKeys[t]},n.prototype.getSelectAllItem=function(){return io.SELECT_ALL},n.prototype.getAddSelectionToFilterItem=function(){return io.ADD_SELECTION_TO_FILTER},n.prototype.getDisplayedKeys=function(){return this.displayedKeys},n.prototype.forEachDisplayedKey=function(t){this.displayedKeys.forEach(t)},n.prototype.someDisplayedKey=function(t){return this.displayedKeys.some(t)},n.prototype.hasGroups=function(){return!1},n.prototype.refresh=function(){},n}(),L6e=function(n,t){var e=typeof Symbol=="function"&&n[Symbol.iterator];if(!e)return n;var r=e.call(n),i,o=[],a;try{for(;(t===void 0||t-- >0)&&!(i=r.next()).done;)o.push(i.value)}catch(s){a={error:s}}finally{try{i&&!i.done&&(e=r.return)&&e.call(r)}finally{if(a)throw a.error}}return o},P5=function(n,t,e){if(e||arguments.length===2)for(var r=0,i=t.length,o;r<i;r++)(o||!(r in t))&&(o||(o=Array.prototype.slice.call(t,0,r)),o[r]=t[r]);return n.concat(o||Array.prototype.slice.call(t))},_M=function(n){var t=typeof Symbol=="function"&&Symbol.iterator,e=t&&n[t],r=0;if(e)return e.call(n);if(n&&typeof n.length=="number")return{next:function(){return n&&r>=n.length&&(n=void 0),{value:n&&n[r++],done:!n}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")},F6e=function(){function n(t,e,r,i){this.formatter=t,this.treeListPathGetter=e,this.treeListFormatter=r,this.treeDataOrGrouping=i,this.allDisplayedItemsTree=[],this.activeDisplayedItemsFlat=[],this.selectAllItem={depth:0,filterPasses:!0,available:!0,treeKey:io.SELECT_ALL,children:this.allDisplayedItemsTree,expanded:!0,key:io.SELECT_ALL,parentTreeKeys:[]},this.addSelectionToFilterItem={depth:0,filterPasses:!0,available:!0,treeKey:io.ADD_SELECTION_TO_FILTER,expanded:!0,key:io.ADD_SELECTION_TO_FILTER,parentTreeKeys:[]}}return n.prototype.updateDisplayedValuesToAllAvailable=function(t,e,r,i){i==="reload"?this.generateItemTree(t,e,r):i==="otherFilter"?(this.updateAvailable(r),this.updateExpandAll()):i==="miniFilter"&&(this.resetFilter(),this.updateExpandAll()),this.flattenItems()},n.prototype.updateDisplayedValuesToMatchMiniFilter=function(t,e,r,i,o,a){a==="reload"?this.generateItemTree(t,e,r):a==="otherFilter"&&this.updateAvailable(r),this.updateFilter(i,o),this.updateExpandAll(),this.flattenItems()},n.prototype.generateItemTree=function(t,e,r){var i,o,a;this.allDisplayedItemsTree=[],this.groupsExist=!1;var s=this.getTreeListPathGetter(t,r),l=function(h){var f=t(h),v=(a=s(f))!==null&&a!==void 0?a:[null];v.length>1&&(u.groupsExist=!0);var g=r.has(h),y=u.allDisplayedItemsTree,m,C=[];v.forEach(function(S,w){y||(y=[],m.children=y),m=y.find(function(_){var x;return((x=_.treeKey)===null||x===void 0?void 0:x.toUpperCase())===(S==null?void 0:S.toUpperCase())}),m||(m={treeKey:S,depth:w,filterPasses:!0,expanded:!1,available:g,parentTreeKeys:C},w===v.length-1&&(m.key=h),y.push(m)),y=m.children,C=P5(P5([],L6e(C),!1),[S],!1)})},u=this;try{for(var c=_M(e),d=c.next();!d.done;d=c.next()){var p=d.value;l(p)}}catch(h){i={error:h}}finally{try{d&&!d.done&&(o=c.return)&&o.call(c)}finally{if(i)throw i.error}}this.updateAvailable(r),this.selectAllItem.children=this.allDisplayedItemsTree,this.selectAllItem.expanded=!1},n.prototype.getTreeListPathGetter=function(t,e){var r,i;if(this.treeListPathGetter)return this.treeListPathGetter;if(this.treeDataOrGrouping)return function(c){return c};var o=!1;try{for(var a=_M(e),s=a.next();!s.done;s=a.next()){var l=s.value,u=t(l);if(u instanceof Date){o=!0;break}else if(u!=null)break}}catch(c){r={error:c}}finally{try{s&&!s.done&&(i=a.return)&&i.call(a)}finally{if(r)throw r.error}}return o?n.DATE_TREE_LIST_PATH_GETTER:(A.warnOnce("property treeList=true for Set Filter params, but you did not provide a treeListPathGetter or values of type Date."),function(c){return[String(c)]})},n.prototype.flattenItems=function(){var t=this;this.activeDisplayedItemsFlat=[];var e=function(r){r.forEach(function(i){!i.filterPasses||!i.available||(t.activeDisplayedItemsFlat.push(i),i.children&&i.expanded&&e(i.children))})};e(this.allDisplayedItemsTree)},n.prototype.resetFilter=function(){var t=function(e){e.children&&e.children.forEach(function(r){t(r)}),e.filterPasses=!0};this.allDisplayedItemsTree.forEach(function(e){return t(e)})},n.prototype.updateFilter=function(t,e){var r=this,i=function(o){return o.available?o.treeKey==null?e:t(r.formatter(r.treeListFormatter?r.treeListFormatter(o.treeKey,o.depth,o.parentTreeKeys):o.treeKey)):!1};this.allDisplayedItemsTree.forEach(function(o){return r.recursiveItemCheck(o,!1,i,"filterPasses")})},n.prototype.getDisplayedValueCount=function(){return this.activeDisplayedItemsFlat.length},n.prototype.getDisplayedItem=function(t){return this.activeDisplayedItemsFlat[t]},n.prototype.getSelectAllItem=function(){return this.selectAllItem},n.prototype.getAddSelectionToFilterItem=function(){return this.addSelectionToFilterItem},n.prototype.getDisplayedKeys=function(){var t=[];return this.forEachDisplayedKey(function(e){return t.push(e)}),t},n.prototype.forEachDisplayedKey=function(t){var e=function(r,i){r.children?(!r.expanded||!i)&&r.children.forEach(function(o){o.filterPasses&&e(o,!1)}):t(r.key)};this.activeDisplayedItemsFlat.forEach(function(r){return e(r,!0)})},n.prototype.someDisplayedKey=function(t){var e=function(r,i){if(r.children){if(!r.expanded||!i)return r.children.some(function(o){return o.filterPasses?e(o,!1):!1})}else return t(r.key);return!1};return this.activeDisplayedItemsFlat.some(function(r){return e(r,!0)})},n.prototype.hasGroups=function(){return this.groupsExist},n.prototype.refresh=function(){this.updateExpandAll(),this.flattenItems()},n.prototype.updateExpandAll=function(){var t=function(r,i,o){var a,s;try{for(var l=_M(r),u=l.next();!u.done;u=l.next()){var c=u.value;if(!(!c.filterPasses||!c.available||!c.children)){if(i=i||!!c.expanded,o=o||!c.expanded,i&&o)return;var d=t(c.children,i,o);if(d===void 0)return;d?i=!0:o=!0}}}catch(p){a={error:p}}finally{try{u&&!u.done&&(s=l.return)&&s.call(l)}finally{if(a)throw a.error}}return i&&o?void 0:i},e=this.getSelectAllItem();e.expanded=t(e.children,!1,!1)},n.prototype.recursiveItemCheck=function(t,e,r,i){var o=this,a=!1;t.children&&t.children.forEach(function(l){var u=o.recursiveItemCheck(l,e||r(t),r,i);a=a||u});var s=e||a||r(t);return t[i]=s,s},n.prototype.updateAvailable=function(t){var e=this,r=function(i){return t.has(i.key)};this.allDisplayedItemsTree.forEach(function(i){return e.recursiveItemCheck(i,!1,r,"available")})},n.DATE_TREE_LIST_PATH_GETTER=function(t){return t?[String(t.getFullYear()),String(t.getMonth()+1),String(t.getDate())]:null},n}(),I6e=function(){function n(t){var e=t.caseFormat;this.filteringKeys=null,this.filteringKeysCaseFormatted=null,this.hasNoAppliedFilteringKeys=!1,this.caseFormat=e}return n.prototype.allFilteringKeys=function(){return this.filteringKeys},n.prototype.allFilteringKeysCaseFormatted=function(){return this.filteringKeysCaseFormatted},n.prototype.noAppliedFilteringKeys=function(){return this.hasNoAppliedFilteringKeys},n.prototype.setFilteringKeys=function(t){var e=this;this.filteringKeys=new Set(t),this.hasNoAppliedFilteringKeys=!this.filteringKeys||this.filteringKeys.size===0,this.filteringKeysCaseFormatted=new Set,this.filteringKeys.forEach(function(r){return e.filteringKeysCaseFormatted.add(e.caseFormat(r))})},n.prototype.addFilteringKey=function(t){this.filteringKeys==null&&(this.filteringKeys=new Set,this.filteringKeysCaseFormatted=new Set),this.filteringKeys.add(t),this.filteringKeysCaseFormatted.add(this.caseFormat(t)),this.hasNoAppliedFilteringKeys&&(this.hasNoAppliedFilteringKeys=!1)},n.prototype.hasCaseFormattedFilteringKey=function(t){return this.filteringKeysCaseFormatted.has(this.caseFormat(t))},n.prototype.hasFilteringKey=function(t){return this.filteringKeys.has(t)},n.prototype.reset=function(){this.filteringKeys=null,this.filteringKeysCaseFormatted=null,this.hasNoAppliedFilteringKeys=!1},n}(),Ou=function(n,t){var e=typeof Symbol=="function"&&n[Symbol.iterator];if(!e)return n;var r=e.call(n),i,o=[],a;try{for(;(t===void 0||t-- >0)&&!(i=r.next()).done;)o.push(i.value)}catch(s){a={error:s}}finally{try{i&&!i.done&&(e=r.return)&&e.call(r)}finally{if(a)throw a.error}}return o},A5=function(n,t,e){if(e||arguments.length===2)for(var r=0,i=t.length,o;r<i;r++)(o||!(r in t))&&(o||(o=Array.prototype.slice.call(t,0,r)),o[r]=t[r]);return n.concat(o||Array.prototype.slice.call(t))},Ri;(function(n){n[n.PROVIDED_LIST=0]="PROVIDED_LIST",n[n.PROVIDED_CALLBACK=1]="PROVIDED_CALLBACK",n[n.TAKEN_FROM_GRID_VALUES=2]="TAKEN_FROM_GRID_VALUES"})(Ri||(Ri={}));var zte=function(){function n(t){var e=this,r;this.localEventService=new Us,this.miniFilterText=null,this.addCurrentSelectionToFilter=!1,this.providedValues=null,this.allValues=new Map,this.availableKeys=new Set,this.selectedKeys=new Set,this.initialised=!1;var i=t.usingComplexObjects,o=t.columnModel,a=t.valueService,s=t.treeDataTreeList,l=t.groupingTreeList,u=t.filterParams,c=t.gridOptionsService,d=t.valueFormatterService,p=t.valueFormatter,h=t.addManagedListener,f=u.column,v=u.colDef,g=u.textFormatter,y=u.doesRowPassOtherFilter,m=u.suppressSorting,C=u.comparator,S=u.rowModel,w=u.values,_=u.caseSensitive,x=u.convertValuesToStrings,b=u.treeList,O=u.treeListPathGetter,P=u.treeListFormatter;this.filterParams=u,this.gridOptionsService=c,this.setIsLoading=t.setIsLoading,this.translate=t.translate,this.caseFormat=t.caseFormat,this.createKey=t.createKey,this.usingComplexObjects=!!t.usingComplexObjects,this.formatter=g||Lg.DEFAULT_FORMATTER,this.doesRowPassOtherFilters=y,this.suppressSorting=m||!1,this.convertValuesToStrings=!!x,this.filteringKeys=new I6e({caseFormat:this.caseFormat});var D=C??v.comparator,N=!!s||!!l;this.compareByValue=!!(i&&D||N||b&&!O),N&&!D?this.entryComparator=this.createTreeDataOrGroupingComparator():b&&!O&&!D?this.entryComparator=function(k,H){var $=Ou(k,2);$[0];var V=$[1],W=Ou(H,2);W[0];var K=W[1];return A.defaultComparator(V,K)}:this.entryComparator=function(k,H){var $=Ou(k,2);$[0];var V=$[1],W=Ou(H,2);W[0];var K=W[1];return D(V,K)},this.keyComparator=(r=D)!==null&&r!==void 0?r:A.defaultComparator,this.caseSensitive=!!_;var L=c.get("getDataPath"),I=c.get("groupAllowUnbalanced");S.getType()==="clientSide"&&(this.clientSideValuesExtractor=new A6e(S,this.filterParams,this.createKey,this.caseFormat,o,a,N,!!s,L,I,h)),w==null?this.valuesType=Ri.TAKEN_FROM_GRID_VALUES:(this.valuesType=Array.isArray(w)?Ri.PROVIDED_LIST:Ri.PROVIDED_CALLBACK,this.providedValues=w),this.displayValueModel=b?new F6e(this.formatter,O,P,s||l):new M6e(d,p,this.formatter,f),this.updateAllValues().then(function(k){return e.resetSelectionState(k||[])})}return n.prototype.addEventListener=function(t,e,r){this.localEventService.addEventListener(t,e,r)},n.prototype.removeEventListener=function(t,e,r){this.localEventService.removeEventListener(t,e,r)},n.prototype.updateOnParamsChange=function(t){var e=this;return new tt(function(r){var i=t.values,o=t.textFormatter,a=t.suppressSorting,s=e.providedValues,l=e.suppressSorting;if(e.filterParams=t,e.formatter=o||Lg.DEFAULT_FORMATTER,e.suppressSorting=a||!1,e.providedValues=i??null,e.providedValues!==s||e.suppressSorting!==l){if(!i||i.length===0)e.valuesType=Ri.TAKEN_FROM_GRID_VALUES,e.providedValues=null;else{var u=Array.isArray(i)&&i.length>0&&typeof i[0]=="function";e.valuesType=u?Ri.PROVIDED_CALLBACK:Ri.PROVIDED_LIST}var c=e.getModel();e.updateAllValues().then(function(d){e.setModel(c).then(function(){return r()})})}else r()})},n.prototype.refreshValues=function(){var t=this;return new tt(function(e){t.allValuesPromise.then(function(){var r=t.getModel();t.updateAllValues(),t.setModel(r).then(function(){return e()})})})},n.prototype.overrideValues=function(t){var e=this;return new tt(function(r){e.allValuesPromise.then(function(){e.valuesType=Ri.PROVIDED_LIST,e.providedValues=t,e.refreshValues().then(function(){return r()})})})},n.prototype.refreshAfterAnyFilterChanged=function(){var t=this;return this.showAvailableOnly()?this.allValuesPromise.then(function(e){return t.updateAvailableKeys(e??[],"otherFilter"),!0}):tt.resolve(!1)},n.prototype.isInitialised=function(){return this.initialised},n.prototype.updateAllValues=function(){var t=this;return this.allValuesPromise=new tt(function(e){switch(t.valuesType){case Ri.TAKEN_FROM_GRID_VALUES:t.getValuesFromRowsAsync(!1).then(function(l){return e(t.processAllValues(l))});break;case Ri.PROVIDED_LIST:{e(t.processAllValues(t.uniqueValues(t.validateProvidedValues(t.providedValues))));break}case Ri.PROVIDED_CALLBACK:{t.setIsLoading(!0);var r=t.providedValues,i=t.filterParams,o=i.column,a=i.colDef,s=t.gridOptionsService.addGridCommonParams({success:function(l){t.setIsLoading(!1),e(t.processAllValues(t.uniqueValues(t.validateProvidedValues(l))))},colDef:a,column:o});window.setTimeout(function(){return r(s)},0);break}default:throw new Error("Unrecognised valuesType")}}),this.allValuesPromise.then(function(e){return t.updateAvailableKeys(e||[],"reload")}).then(function(){return t.initialised=!0}),this.allValuesPromise},n.prototype.processAllValues=function(t){var e=this.sortKeys(t);return this.allValues=t??new Map,e},n.prototype.validateProvidedValues=function(t){if(this.usingComplexObjects&&(t!=null&&t.length)){var e=t[0];if(e&&typeof e!="object"&&typeof e!="function"){var r=this.createKey(e);r==null?A.warnOnce("Set Filter Key Creator is returning null for provided values and provided values are primitives. Please provide complex objects or set convertValuesToStrings=true in the filterParams. See https://www.ag-grid.com/javascript-data-grid/filter-set-filter-list/#filter-value-types"):A.warnOnce("Set Filter has a Key Creator, but provided values are primitives. Did you mean to provide complex objects or enable convertValuesToStrings?")}}return t},n.prototype.setValuesType=function(t){this.valuesType=t},n.prototype.getValuesType=function(){return this.valuesType},n.prototype.isKeyAvailable=function(t){return this.availableKeys.has(t)},n.prototype.showAvailableOnly=function(){return this.valuesType===Ri.TAKEN_FROM_GRID_VALUES},n.prototype.updateAvailableKeys=function(t,e){var r=this.showAvailableOnly()?this.sortKeys(this.getValuesFromRows(!0)):t;this.availableKeys=new Set(r),this.localEventService.dispatchEvent({type:n.EVENT_AVAILABLE_VALUES_CHANGED}),this.updateDisplayedValues(e,t)},n.prototype.sortKeys=function(t){var e=t??new Map;if(this.suppressSorting)return Array.from(e.keys());var r;return this.compareByValue?r=Array.from(e.entries()).sort(this.entryComparator).map(function(i){var o=Ou(i,1),a=o[0];return a}):r=Array.from(e.keys()).sort(this.keyComparator),this.filterParams.excelMode&&e.has(null)&&(r=r.filter(function(i){return i!=null}),r.push(null)),r},n.prototype.getParamsForValuesFromRows=function(t){var e=this;if(t===void 0&&(t=!1),!this.clientSideValuesExtractor)return A.doOnce(function(){console.error("AG Grid: Set Filter cannot initialise because you are using a row model that does not contain all rows in the browser. Either use a different filter type, or configure Set Filter such that you provide it with values")},"setFilterValueNotCSRM"),null;var r=function(o){return!t||e.doesRowPassOtherFilters(o)},i=t&&!this.caseSensitive?this.allValues:void 0;return{predicate:r,existingValues:i}},n.prototype.getValuesFromRows=function(t){t===void 0&&(t=!1);var e=this.getParamsForValuesFromRows(t);return e?this.clientSideValuesExtractor.extractUniqueValues(e.predicate,e.existingValues):null},n.prototype.getValuesFromRowsAsync=function(t){t===void 0&&(t=!1);var e=this.getParamsForValuesFromRows(t);return e?this.clientSideValuesExtractor.extractUniqueValuesAsync(e.predicate,e.existingValues):tt.resolve(null)},n.prototype.setMiniFilter=function(t){return t=A.makeNull(t),this.miniFilterText===t?!1:(t===null&&this.setAddCurrentSelectionToFilter(!1),this.miniFilterText=t,this.updateDisplayedValues("miniFilter"),!0)},n.prototype.getMiniFilter=function(){return this.miniFilterText},n.prototype.updateDisplayedValues=function(t,e){var r=this;if(t==="expansion"){this.displayValueModel.refresh();return}if(this.miniFilterText==null){this.displayValueModel.updateDisplayedValuesToAllAvailable(function(s){return r.getValue(s)},e,this.availableKeys,t);return}var i=this.caseFormat(this.formatter(this.miniFilterText)||""),o=function(s){return s!=null&&r.caseFormat(s).indexOf(i)>=0},a=!!this.filterParams.excelMode&&o(this.translate("blanks"));this.displayValueModel.updateDisplayedValuesToMatchMiniFilter(function(s){return r.getValue(s)},e,this.availableKeys,o,a,t)},n.prototype.getDisplayedValueCount=function(){return this.displayValueModel.getDisplayedValueCount()},n.prototype.getDisplayedItem=function(t){return this.displayValueModel.getDisplayedItem(t)},n.prototype.getSelectAllItem=function(){return this.displayValueModel.getSelectAllItem()},n.prototype.getAddSelectionToFilterItem=function(){return this.displayValueModel.getAddSelectionToFilterItem()},n.prototype.hasSelections=function(){return this.filterParams.defaultToNothingSelected?this.selectedKeys.size>0:this.allValues.size!==this.selectedKeys.size},n.prototype.getKeys=function(){return Array.from(this.allValues.keys())},n.prototype.getValues=function(){return Array.from(this.allValues.values())},n.prototype.getValue=function(t){return this.allValues.get(t)},n.prototype.setAddCurrentSelectionToFilter=function(t){this.addCurrentSelectionToFilter=t},n.prototype.isInWindowsExcelMode=function(){return this.filterParams.excelMode==="windows"},n.prototype.isAddCurrentSelectionToFilterChecked=function(){return this.isInWindowsExcelMode()&&this.addCurrentSelectionToFilter},n.prototype.showAddCurrentSelectionToFilter=function(){return this.isInWindowsExcelMode()&&A.exists(this.miniFilterText)&&this.miniFilterText.length>0},n.prototype.selectAllMatchingMiniFilter=function(t){var e=this;t===void 0&&(t=!1),this.miniFilterText==null?this.selectedKeys=new Set(this.allValues.keys()):(t&&this.selectedKeys.clear(),this.displayValueModel.forEachDisplayedKey(function(r){return e.selectedKeys.add(r)}))},n.prototype.deselectAllMatchingMiniFilter=function(){var t=this;this.miniFilterText==null?this.selectedKeys.clear():this.displayValueModel.forEachDisplayedKey(function(e){return t.selectedKeys.delete(e)})},n.prototype.selectKey=function(t){this.selectedKeys.add(t)},n.prototype.deselectKey=function(t){this.filterParams.excelMode&&this.isEverythingVisibleSelected()&&this.resetSelectionState(this.displayValueModel.getDisplayedKeys()),this.selectedKeys.delete(t)},n.prototype.isKeySelected=function(t){return this.selectedKeys.has(t)},n.prototype.isEverythingVisibleSelected=function(){var t=this;return!this.displayValueModel.someDisplayedKey(function(e){return!t.isKeySelected(e)})},n.prototype.isNothingVisibleSelected=function(){var t=this;return!this.displayValueModel.someDisplayedKey(function(e){return t.isKeySelected(e)})},n.prototype.getModel=function(){if(!this.hasSelections())return null;var t=this.isAddCurrentSelectionToFilterChecked()?this.filteringKeys.allFilteringKeys():null;if(t&&t.size>0){if(this.selectedKeys){var e=new Set(A5(A5([],Ou(Array.from(t)),!1),Ou(Array.from(this.selectedKeys).filter(function(r){return!t.has(r)})),!1));return Array.from(e)}return Array.from(t)}return Array.from(this.selectedKeys)},n.prototype.setModel=function(t){var e=this;return this.allValuesPromise.then(function(r){if(t==null)e.resetSelectionState(r??[]);else{e.selectedKeys.clear();var i=new Map;e.allValues.forEach(function(o,a){i.set(e.caseFormat(a),a)}),t.forEach(function(o){var a=e.caseFormat(A.makeNull(o)),s=i.get(a);s!==void 0&&e.selectKey(s)})}})},n.prototype.uniqueValues=function(t){var e=this,r=new Map,i=new Set;return(t??[]).forEach(function(o){var a=A.makeNull(o),s=e.convertAndGetKey(a),l=e.caseFormat(s);i.has(l)||(i.add(l),r.set(s,a))}),r},n.prototype.convertAndGetKey=function(t){return this.convertValuesToStrings?t:this.createKey(t)},n.prototype.resetSelectionState=function(t){this.filterParams.defaultToNothingSelected?this.selectedKeys.clear():this.selectedKeys=new Set(t)},n.prototype.hasGroups=function(){return this.displayValueModel.hasGroups()},n.prototype.createTreeDataOrGroupingComparator=function(){return function(t,e){var r=Ou(t,2);r[0];var i=r[1],o=Ou(e,2);o[0];var a=o[1];if(i==null)return a==null?0:-1;if(a==null)return 1;for(var s=0;s<i.length;s++){if(s>=a.length)return 1;var l=A.defaultComparator(i[s],a[s]);if(l!==0)return l}return 0}},n.prototype.setAppliedModelKeys=function(t){this.filteringKeys.setFilteringKeys(t)},n.prototype.addToAppliedModelKeys=function(t){this.filteringKeys.addFilteringKey(t)},n.prototype.getAppliedModelKeys=function(){return this.filteringKeys.allFilteringKeys()},n.prototype.getCaseFormattedAppliedModelKeys=function(){return this.filteringKeys.allFilteringKeysCaseFormatted()},n.prototype.hasAppliedModelKey=function(t){return this.filteringKeys.hasCaseFormattedFilteringKey(t)},n.prototype.hasAnyAppliedModelKey=function(){return!this.filteringKeys.noAppliedFilteringKeys()},n.EVENT_AVAILABLE_VALUES_CHANGED="availableValuesChanged",n}(),N6e=function(){var n=function(t,e){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])},n(t,e)};return function(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");n(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}}(),$p=function(n,t,e,r){var i=arguments.length,o=i<3?t:r===null?r=Object.getOwnPropertyDescriptor(t,e):r,a;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(n,t,e,r);else for(var s=n.length-1;s>=0;s--)(a=n[s])&&(o=(i<3?a(o):i>3?a(t,e,o):a(t,e))||o);return i>3&&o&&Object.defineProperty(t,e,o),o},xM=function(n){N6e(t,n);function t(e){var r=this,i;return r=n.call(this,e.isGroup?t.GROUP_TEMPLATE:t.TEMPLATE)||this,r.focusWrapper=e.focusWrapper,r.value=e.value,r.params=e.params,r.translate=e.translate,r.valueFormatter=e.valueFormatter,r.item=e.item,r.isSelected=e.isSelected,r.isTree=e.isTree,r.depth=(i=e.depth)!==null&&i!==void 0?i:0,r.isGroup=e.isGroup,r.groupsExist=e.groupsExist,r.isExpanded=e.isExpanded,r.hasIndeterminateExpandState=e.hasIndeterminateExpandState,r}return t.prototype.init=function(){var e=this;this.addDestroyFunc(function(){var r;return(r=e.destroyCellRendererComponent)===null||r===void 0?void 0:r.call(e)}),this.render(),this.eCheckbox.setLabelEllipsis(!0).setValue(this.isSelected,!0).setDisabled(!!this.params.readOnly).getInputElement().setAttribute("tabindex","-1"),this.refreshVariableAriaLabels(),this.isTree&&(this.depth>0&&this.addCssClass("ag-set-filter-indent-"+this.depth),this.isGroup?this.setupExpansion():this.groupsExist&&this.addCssClass("ag-set-filter-add-group-indent"),A.setAriaLevel(this.getAriaElement(),this.depth+1)),this.refreshAriaChecked(),!this.params.readOnly&&this.eCheckbox.onValueChange(function(r){return e.onCheckboxChanged(!!r)})},t.prototype.getFocusableElement=function(){return this.focusWrapper},t.prototype.setupExpansion=function(){this.eGroupClosedIcon.appendChild(A.createIcon("setFilterGroupClosed",this.gridOptionsService,null)),this.eGroupOpenedIcon.appendChild(A.createIcon("setFilterGroupOpen",this.gridOptionsService,null)),this.addManagedListener(this.eGroupClosedIcon,"click",this.onExpandOrContractClicked.bind(this)),this.addManagedListener(this.eGroupOpenedIcon,"click",this.onExpandOrContractClicked.bind(this)),this.hasIndeterminateExpandState&&(this.eGroupIndeterminateIcon.appendChild(A.createIcon("setFilterGroupIndeterminate",this.gridOptionsService,null)),this.addManagedListener(this.eGroupIndeterminateIcon,"click",this.onExpandOrContractClicked.bind(this))),this.setExpandedIcons(),this.refreshAriaExpanded()},t.prototype.onExpandOrContractClicked=function(){this.setExpanded(!this.isExpanded)},t.prototype.setExpanded=function(e,r){if(this.isGroup&&e!==this.isExpanded){this.isExpanded=e;var i={type:t.EVENT_EXPANDED_CHANGED,isExpanded:!!e,item:this.item};r||this.dispatchEvent(i),this.setExpandedIcons(),this.refreshAriaExpanded()}},t.prototype.setExpandedIcons=function(){A.setDisplayed(this.eGroupClosedIcon,this.hasIndeterminateExpandState?this.isExpanded===!1:!this.isExpanded),A.setDisplayed(this.eGroupOpenedIcon,this.isExpanded===!0),this.hasIndeterminateExpandState&&A.setDisplayed(this.eGroupIndeterminateIcon,this.isExpanded===void 0)},t.prototype.onCheckboxChanged=function(e){this.isSelected=e;var r={type:t.EVENT_SELECTION_CHANGED,isSelected:e,item:this.item};this.dispatchEvent(r),this.refreshVariableAriaLabels(),this.refreshAriaChecked()},t.prototype.toggleSelected=function(){this.params.readOnly||this.setSelected(!this.isSelected)},t.prototype.setSelected=function(e,r){this.isSelected=e,this.eCheckbox.setValue(e,r),this.refreshAriaChecked()},t.prototype.refreshVariableAriaLabels=function(){if(this.isTree){var e=this.localeService.getLocaleTextFunc(),r=this.eCheckbox.getValue(),i=r===void 0?e("ariaIndeterminate","indeterminate"):r?e("ariaVisible","visible"):e("ariaHidden","hidden"),o=e("ariaToggleVisibility","Press SPACE to toggle visibility");A.setAriaLabelledBy(this.eCheckbox.getInputElement(),void 0),this.eCheckbox.setInputAriaLabel("".concat(o," (").concat(i,")"))}},t.prototype.setupFixedAriaLabels=function(e){if(this.isTree){var r=this.localeService.getLocaleTextFunc(),i=r("ariaFilterValue","Filter Value"),o=this.getAriaElement();A.setAriaLabel(o,"".concat(e," ").concat(i)),A.setAriaDescribedBy(o,this.eCheckbox.getInputElement().id)}},t.prototype.refreshAriaChecked=function(){var e=this.getAriaElement();A.setAriaChecked(e,this.eCheckbox.getValue())},t.prototype.refreshAriaExpanded=function(){A.setAriaExpanded(this.getAriaElement(),!!this.isExpanded)},t.prototype.refresh=function(e,r,i){var o,a;if(this.item=e,r!==this.isSelected&&this.setSelected(r,!0),this.setExpanded(i,!0),this.valueFunction){var s=this.valueFunction();this.setTooltipAndCellRendererParams(s,s),this.cellRendererComponent||this.renderCellWithoutCellRenderer()}if(this.cellRendererComponent){var l=(a=(o=this.cellRendererComponent).refresh)===null||a===void 0?void 0:a.call(o,this.cellRendererParams);if(!l){var u=this.cellRendererComponent;this.renderCell(),this.destroyBean(u)}}},t.prototype.render=function(){var e=this.params.column,r=this.value,i=null;typeof r=="function"?(this.valueFunction=r,i=this.valueFunction(),r=i):this.isTree?i=A.toStringOrNull(r):i=this.getFormattedValue(e,r),this.setTooltipAndCellRendererParams(r,i),this.renderCell()},t.prototype.setTooltipAndCellRendererParams=function(e,r){if(this.params.showTooltips){var i=r??A.toStringOrNull(e);this.setTooltip(i)}this.cellRendererParams=this.gridOptionsService.addGridCommonParams({value:e,valueFormatted:r,colDef:this.params.colDef,column:this.params.column})},t.prototype.getTooltipParams=function(){var e=n.prototype.getTooltipParams.call(this);return e.location="setFilterValue",e.colDef=this.getComponentHolder(),this.isTree&&(e.level=this.depth),e},t.prototype.getFormattedValue=function(e,r){return this.valueFormatterService.formatValue(e,null,r,this.valueFormatter,!1)},t.prototype.renderCell=function(){var e=this,r=this.userComponentFactory.getSetFilterCellRendererDetails(this.params,this.cellRendererParams),i=r?r.newAgStackInstance():void 0;if(i==null){this.renderCellWithoutCellRenderer();return}i.then(function(o){o&&(e.cellRendererComponent=o,e.eCheckbox.setLabel(o.getGui()),e.destroyCellRendererComponent=function(){return e.destroyBean(o)})})},t.prototype.renderCellWithoutCellRenderer=function(){var e,r=(e=this.cellRendererParams.valueFormatted==null?this.cellRendererParams.value:this.cellRendererParams.valueFormatted)!==null&&e!==void 0?e:this.translate("blanks");typeof r!="string"&&(A.warnOnce("Set Filter Value Formatter must return string values. Please ensure the Set Filter Value Formatter returns string values for complex objects, or set convertValuesToStrings=true in the filterParams. See ".concat(this.getFrameworkOverrides().getDocLink("filter-set-filter-list/#filter-value-types"))),r=""),this.eCheckbox.setLabel(r),this.setupFixedAriaLabels(r)},t.prototype.getComponentHolder=function(){return this.params.column.getColDef()},t.EVENT_SELECTION_CHANGED="selectionChanged",t.EVENT_EXPANDED_CHANGED="expandedChanged",t.GROUP_TEMPLATE=`
        <div class="ag-set-filter-item" aria-hidden="true">
            <span class="ag-set-filter-group-icons">
                <span class="ag-set-filter-group-closed-icon" ref="eGroupClosedIcon"></span>
                <span class="ag-set-filter-group-opened-icon" ref="eGroupOpenedIcon"></span>
                <span class="ag-set-filter-group-indeterminate-icon" ref="eGroupIndeterminateIcon"></span>
            </span>
            <ag-checkbox ref="eCheckbox" class="ag-set-filter-item-checkbox"></ag-checkbox>
        </div>`,t.TEMPLATE=`
        <div class="ag-set-filter-item">
            <ag-checkbox ref="eCheckbox" class="ag-set-filter-item-checkbox"></ag-checkbox>
        </div>`,$p([E("valueFormatterService")],t.prototype,"valueFormatterService",void 0),$p([E("userComponentFactory")],t.prototype,"userComponentFactory",void 0),$p([j("eCheckbox")],t.prototype,"eCheckbox",void 0),$p([j("eGroupOpenedIcon")],t.prototype,"eGroupOpenedIcon",void 0),$p([j("eGroupClosedIcon")],t.prototype,"eGroupClosedIcon",void 0),$p([j("eGroupIndeterminateIcon")],t.prototype,"eGroupIndeterminateIcon",void 0),$p([z],t.prototype,"init",null),t}(ae),k6e={loadingOoo:"Loading...",blanks:"(Blanks)",searchOoo:"Search...",selectAll:"(Select All)",selectAllSearchResults:"(Select All Search Results)",addCurrentSelectionToFilter:"Add current selection to filter",noMatches:"No matches."},Kte=function(){function n(){}return n.prototype.getModelAsString=function(t,e){var r=(t||e.getModel()||{}).values,i=e.getValueModel();if(r==null||i==null)return"";var o=r.filter(function(l){return i.isKeyAvailable(l)}),a=o.length,s=o.slice(0,10).map(function(l){return e.getFormattedValue(l)});return"(".concat(a,") ").concat(s.join(",")).concat(a>10?",...":"")},n}(),G6e=function(){var n=function(t,e){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])},n(t,e)};return function(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");n(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}}(),Wp=function(n,t,e,r){var i=arguments.length,o=i<3?t:r===null?r=Object.getOwnPropertyDescriptor(t,e):r,a;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(n,t,e,r);else for(var s=n.length-1;s>=0;s--)(a=n[s])&&(o=(i<3?a(o):i>3?a(t,e,o):a(t,e))||o);return i>3&&o&&Object.defineProperty(t,e,o),o},Yte=function(n){G6e(t,n);function t(){var e=n.call(this,"setFilter")||this;return e.valueModel=null,e.setFilterParams=null,e.virtualList=null,e.caseSensitive=!1,e.convertValuesToStrings=!1,e.treeDataTreeList=!1,e.groupingTreeList=!1,e.hardRefreshVirtualList=!1,e.noValueFormatterSupplied=!1,e.filterModelFormatter=new Kte,e.updateSetFilterOnParamsChange=function(r){var i;e.setFilterParams=r,e.convertValuesToStrings=!!r.convertValuesToStrings,e.caseSensitive=!!r.caseSensitive;var o=(i=r.keyCreator)!==null&&i!==void 0?i:r.colDef.keyCreator;e.setValueFormatter(r.valueFormatter,o,e.convertValuesToStrings,!!r.treeList,!!r.colDef.refData);var a=r.column.getId().startsWith(ic);e.treeDataTreeList=e.gridOptionsService.get("treeData")&&!!r.treeList&&a,e.getDataPath=e.gridOptionsService.get("getDataPath"),e.groupingTreeList=!!e.columnModel.getRowGroupColumns().length&&!!r.treeList&&a,e.createKey=e.generateCreateKey(o,e.convertValuesToStrings,e.treeDataTreeList||e.groupingTreeList)},e}return t.prototype.postConstruct=function(){n.prototype.postConstruct.call(this)},t.prototype.updateUiVisibility=function(){},t.prototype.createBodyTemplate=function(){return`
            <div class="ag-set-filter">
                <div ref="eFilterLoading" class="ag-filter-loading ag-hidden">`.concat(this.translateForSetFilter("loadingOoo"),`</div>
                <ag-input-text-field class="ag-mini-filter" ref="eMiniFilter"></ag-input-text-field>
                <div ref="eFilterNoMatches" class="ag-filter-no-matches ag-hidden">`).concat(this.translateForSetFilter("noMatches"),`</div>
                <div ref="eSetFilterList" class="ag-set-filter-list" role="presentation"></div>
            </div>`)},t.prototype.handleKeyDown=function(e){if(n.prototype.handleKeyDown.call(this,e),!e.defaultPrevented)switch(e.key){case U.SPACE:this.handleKeySpace(e);break;case U.ENTER:this.handleKeyEnter(e);break;case U.LEFT:this.handleKeyLeft(e);break;case U.RIGHT:this.handleKeyRight(e);break}},t.prototype.handleKeySpace=function(e){var r;(r=this.getComponentForKeyEvent(e))===null||r===void 0||r.toggleSelected()},t.prototype.handleKeyEnter=function(e){if(this.setFilterParams){var r=this.setFilterParams||{},i=r.excelMode,o=r.readOnly;!i||o||(e.preventDefault(),this.onBtApply(!1,!1,e),this.setFilterParams.excelMode==="mac"&&this.eMiniFilter.getInputElement().select())}},t.prototype.handleKeyLeft=function(e){var r;(r=this.getComponentForKeyEvent(e))===null||r===void 0||r.setExpanded(!1)},t.prototype.handleKeyRight=function(e){var r;(r=this.getComponentForKeyEvent(e))===null||r===void 0||r.setExpanded(!0)},t.prototype.getComponentForKeyEvent=function(e){var r,i=this.gridOptionsService.getDocument();if(!(!this.eSetFilterList.contains(i.activeElement)||!this.virtualList)){var o=this.virtualList.getLastFocusedRow();if(o!=null){var a=this.virtualList.getComponentAt(o);if(a!=null){e.preventDefault();var s=((r=this.setFilterParams)!==null&&r!==void 0?r:{}).readOnly;if(!s)return a}}}},t.prototype.getCssIdentifier=function(){return"set-filter"},t.prototype.setModel=function(e){var r;return e==null&&((r=this.valueModel)===null||r===void 0?void 0:r.getModel())==null?(this.setMiniFilter(null),tt.resolve()):n.prototype.setModel.call(this,e)},t.prototype.refresh=function(e){var r=this,i,o,a;if(!n.prototype.refresh.call(this,e))return!1;var s=["treeList","treeListFormatter","treeListPathGetter","keyCreator","convertValuesToStrings","caseSensitive","comparator","suppressSelectAll","excelMode"];return s.some(function(l){var u;return e[l]!==((u=r.setFilterParams)===null||u===void 0?void 0:u[l])})||this.haveColDefParamsChanged(e.colDef)?!1:(n.prototype.updateParams.call(this,e),this.updateSetFilterOnParamsChange(e),this.updateMiniFilter(),(e.cellRenderer!==((i=this.setFilterParams)===null||i===void 0?void 0:i.cellRenderer)||e.valueFormatter!==((o=this.setFilterParams)===null||o===void 0?void 0:o.valueFormatter))&&this.checkAndRefreshVirtualList(),(a=this.valueModel)===null||a===void 0||a.updateOnParamsChange(e).then(function(){var l;!((l=r.valueModel)===null||l===void 0)&&l.hasSelections()&&r.refreshFilterValues()}),!0)},t.prototype.haveColDefParamsChanged=function(e){var r,i=["keyCreator","filterValueGetter"],o=(r=this.setFilterParams)===null||r===void 0?void 0:r.colDef;return i.some(function(a){return e[a]!==(o==null?void 0:o[a])})},t.prototype.setModelAndRefresh=function(e){var r=this;return this.valueModel?this.valueModel.setModel(e).then(function(){return r.checkAndRefreshVirtualList()}):tt.resolve()},t.prototype.resetUiToDefaults=function(){return this.setMiniFilter(null),this.setModelAndRefresh(null)},t.prototype.setModelIntoUi=function(e){this.setMiniFilter(null);var r=e==null?null:e.values;return this.setModelAndRefresh(r)},t.prototype.getModelFromUi=function(){if(!this.valueModel)throw new Error("Value model has not been created.");var e=this.valueModel.getModel();return e?{values:e,filterType:this.getFilterType()}:null},t.prototype.getFilterType=function(){return"set"},t.prototype.getValueModel=function(){return this.valueModel},t.prototype.areModelsEqual=function(e,r){return e==null&&r==null?!0:e!=null&&r!=null&&A.areEqual(e.values,r.values)},t.prototype.setParams=function(e){var r=this,i;this.applyExcelModeOptions(e),n.prototype.setParams.call(this,e),this.updateSetFilterOnParamsChange(e);var o=(i=e.keyCreator)!==null&&i!==void 0?i:e.colDef.keyCreator;this.valueModel=new zte({filterParams:e,setIsLoading:function(a){return r.setIsLoading(a)},valueFormatterService:this.valueFormatterService,translate:function(a){return r.translateForSetFilter(a)},caseFormat:function(a){return r.caseFormat(a)},createKey:this.createKey,valueFormatter:this.valueFormatter,usingComplexObjects:!!o,gridOptionsService:this.gridOptionsService,columnModel:this.columnModel,valueService:this.valueService,treeDataTreeList:this.treeDataTreeList,groupingTreeList:this.groupingTreeList,addManagedListener:function(a,s){return r.addManagedListener(r.eventService,a,s)}}),this.initialiseFilterBodyUi(),this.addEventListenersForDataChanges()},t.prototype.onAddCurrentSelectionToFilterChange=function(e){if(!this.valueModel)throw new Error("Value model has not been created.");this.valueModel.setAddCurrentSelectionToFilter(e)},t.prototype.setValueFormatter=function(e,r,i,o,a){var s=e;if(!s){if(r&&!i&&!o)throw new Error("AG Grid: Must supply a Value Formatter in Set Filter params when using a Key Creator unless convertValuesToStrings is enabled");this.noValueFormatterSupplied=!0,a||(s=function(l){return A.toStringOrNull(l.value)})}this.valueFormatter=s},t.prototype.generateCreateKey=function(e,r,i){var o=this;if(i&&!e)throw new Error("AG Grid: Must supply a Key Creator in Set Filter params when `treeList = true` on a group column, and Tree Data or Row Grouping is enabled.");return e?function(a,s){s===void 0&&(s=null);var l=o.getKeyCreatorParams(a,s);return A.makeNull(e(l))}:r?function(a){return Array.isArray(a)?a:A.makeNull(A.toStringOrNull(a))}:function(a){return A.makeNull(A.toStringOrNull(a))}},t.prototype.getFormattedValue=function(e){var r,i=this.valueModel.getValue(e);this.noValueFormatterSupplied&&(this.treeDataTreeList||this.groupingTreeList)&&Array.isArray(i)&&(i=A.last(i));var o=this.valueFormatterService.formatValue(this.setFilterParams.column,null,i,this.valueFormatter,!1);return(r=o??A.toStringOrNull(i))!==null&&r!==void 0?r:this.translateForSetFilter("blanks")},t.prototype.applyExcelModeOptions=function(e){e.excelMode==="windows"?(e.buttons||(e.buttons=["apply","cancel"]),e.closeOnApply==null&&(e.closeOnApply=!0)):e.excelMode==="mac"&&(e.buttons||(e.buttons=["reset"]),e.applyMiniFilterWhileTyping==null&&(e.applyMiniFilterWhileTyping=!0),e.debounceMs==null&&(e.debounceMs=500)),e.excelMode&&e.defaultToNothingSelected&&(e.defaultToNothingSelected=!1,A.warnOnce('The Set Filter Parameter "defaultToNothingSelected" value was ignored because it does not work when "excelMode" is used.'))},t.prototype.addEventListenersForDataChanges=function(){var e=this;this.isValuesTakenFromGrid()&&(this.addManagedListener(this.eventService,T.EVENT_CELL_VALUE_CHANGED,function(r){e.setFilterParams&&r.column===e.setFilterParams.column&&e.syncAfterDataChange()}),this.addManagedPropertyListeners(["treeData","getDataPath","groupAllowUnbalanced"],function(){e.syncAfterDataChange()}))},t.prototype.syncAfterDataChange=function(){var e=this;if(!this.valueModel)throw new Error("Value model has not been created.");var r=this.valueModel.refreshValues();return r.then(function(){e.checkAndRefreshVirtualList(),e.onBtApply(!1,!0)})},t.prototype.setIsLoading=function(e){A.setDisplayed(this.eFilterLoading,e),e||(this.hardRefreshVirtualList=!0)},t.prototype.initialiseFilterBodyUi=function(){this.initVirtualList(),this.initMiniFilter()},t.prototype.initVirtualList=function(){var e=this;if(!this.setFilterParams)throw new Error("Set filter params have not been provided.");if(!this.valueModel)throw new Error("Value model has not been created.");var r=this.localeService.getLocaleTextFunc(),i=r("ariaFilterList","Filter List"),o=!!this.setFilterParams.treeList,a=this.virtualList=this.createBean(new yf({cssIdentifier:"filter",ariaRole:o?"tree":"listbox",listName:i})),s=this.getRefElement("eSetFilterList");o&&s.classList.add("ag-set-filter-tree-list"),s&&s.appendChild(a.getGui());var l=this.setFilterParams.cellHeight;l!=null&&a.setRowHeight(l);var u=function(p,h){return e.createSetListItem(p,o,h)};a.setComponentCreator(u);var c=function(p,h){return e.updateSetListItem(p,h)};a.setComponentUpdater(c);var d;this.setFilterParams.suppressSelectAll?d=new V6e(this.valueModel):d=new B6e(this.valueModel,function(){return e.isSelectAllSelected()}),o&&(d=new H6e(d)),a.setModel(d)},t.prototype.getSelectAllLabel=function(){if(!this.setFilterParams)throw new Error("Set filter params have not been provided.");if(!this.valueModel)throw new Error("Value model has not been created.");var e=this.valueModel.getMiniFilter()==null||!this.setFilterParams.excelMode?"selectAll":"selectAllSearchResults";return this.translateForSetFilter(e)},t.prototype.getAddSelectionToFilterLabel=function(){if(!this.setFilterParams)throw new Error("Set filter params have not been provided.");if(!this.valueModel)throw new Error("Value model has not been created.");return this.translateForSetFilter("addCurrentSelectionToFilter")},t.prototype.createSetListItem=function(e,r,i){var o=this;if(!this.setFilterParams)throw new Error("Set filter params have not been provided.");if(!this.valueModel)throw new Error("Value model has not been created.");var a=this.valueModel.hasGroups(),s=this.isSelectedExpanded(e),l=s.isSelected,u=s.isExpanded,c=this.newSetListItemAttributes(e,r),d=c.value,p=c.depth,h=c.isGroup,f=c.hasIndeterminateExpandState,v=c.selectedListener,g=c.expandedListener,y={focusWrapper:i,value:d,params:this.setFilterParams,translate:function(C){return o.translateForSetFilter(C)},valueFormatter:this.valueFormatter,item:e,isSelected:l,isTree:r,depth:p,groupsExist:a,isGroup:h,isExpanded:u,hasIndeterminateExpandState:f},m=this.createBean(new xM(y));return m.addEventListener(xM.EVENT_SELECTION_CHANGED,v),g&&m.addEventListener(xM.EVENT_EXPANDED_CHANGED,g),m},t.prototype.newSetTreeItemAttributes=function(e,r){var i=this,o,a,s,l,u,c;if(!this.setFilterParams)throw new Error("Set filter params have not been provided.");if(!this.valueModel)throw new Error("Value model has not been created.");var d=this.valueModel.hasGroups();return e.key===io.SELECT_ALL?{value:function(){return i.getSelectAllLabel()},isGroup:d,depth:e.depth,hasIndeterminateExpandState:!0,selectedListener:function(p){return i.onSelectAll(p.isSelected)},expandedListener:function(p){return i.onExpandAll(p.item,p.isExpanded)}}:e.key===io.ADD_SELECTION_TO_FILTER?{value:function(){return i.getAddSelectionToFilterLabel()},depth:e.depth,isGroup:!1,hasIndeterminateExpandState:!1,selectedListener:function(p){i.onAddCurrentSelectionToFilterChange(p.isSelected)}}:e.children?{value:(s=(a=(o=this.setFilterParams).treeListFormatter)===null||a===void 0?void 0:a.call(o,e.treeKey,e.depth,e.parentTreeKeys))!==null&&s!==void 0?s:e.treeKey,depth:e.depth,isGroup:!0,selectedListener:function(p){return i.onGroupItemSelected(p.item,p.isSelected)},expandedListener:function(p){return i.onExpandedChanged(p.item,p.isExpanded)}}:{value:(c=(u=(l=this.setFilterParams).treeListFormatter)===null||u===void 0?void 0:u.call(l,e.treeKey,e.depth,e.parentTreeKeys))!==null&&c!==void 0?c:e.treeKey,depth:e.depth,selectedListener:function(p){return i.onItemSelected(p.item.key,p.isSelected)}}},t.prototype.newSetListItemAttributes=function(e,r){var i=this;if(!this.setFilterParams)throw new Error("Set filter params have not been provided.");if(!this.valueModel)throw new Error("Value model has not been created.");return this.isSetFilterModelTreeItem(e)?this.newSetTreeItemAttributes(e,r):e===io.SELECT_ALL?{value:function(){return i.getSelectAllLabel()},selectedListener:function(o){return i.onSelectAll(o.isSelected)}}:e===io.ADD_SELECTION_TO_FILTER?{value:function(){return i.getAddSelectionToFilterLabel()},selectedListener:function(o){i.onAddCurrentSelectionToFilterChange(o.isSelected)}}:{value:this.valueModel.getValue(e),selectedListener:function(o){return i.onItemSelected(o.item,o.isSelected)}}},t.prototype.updateSetListItem=function(e,r){var i=this.isSelectedExpanded(e),o=i.isSelected,a=i.isExpanded;r.refresh(e,o,a)},t.prototype.isSelectedExpanded=function(e){var r,i;return this.isSetFilterModelTreeItem(e)?(i=e.expanded,e.key===io.SELECT_ALL?r=this.isSelectAllSelected():e.key===io.ADD_SELECTION_TO_FILTER?r=this.valueModel.isAddCurrentSelectionToFilterChecked():e.children?r=this.areAllChildrenSelected(e):r=this.valueModel.isKeySelected(e.key)):e===io.SELECT_ALL?r=this.isSelectAllSelected():e===io.ADD_SELECTION_TO_FILTER?r=this.valueModel.isAddCurrentSelectionToFilterChecked():r=this.valueModel.isKeySelected(e),{isSelected:r,isExpanded:i}},t.prototype.isSetFilterModelTreeItem=function(e){return(e==null?void 0:e.treeKey)!==void 0},t.prototype.initMiniFilter=function(){var e=this;if(!this.setFilterParams)throw new Error("Set filter params have not been provided.");if(!this.valueModel)throw new Error("Value model has not been created.");var r=this,i=r.eMiniFilter,o=r.localeService,a=o.getLocaleTextFunc();i.setDisplayed(!this.setFilterParams.suppressMiniFilter),i.setValue(this.valueModel.getMiniFilter()),i.onValueChange(function(){return e.onMiniFilterInput()}),i.setInputAriaLabel(a("ariaSearchFilterValues","Search filter values")),this.addManagedListener(i.getInputElement(),"keydown",function(s){return e.onMiniFilterKeyDown(s)})},t.prototype.updateMiniFilter=function(){if(!this.setFilterParams)throw new Error("Set filter params have not been provided.");if(!this.valueModel)throw new Error("Value model has not been created.");var e=this.eMiniFilter;e.isDisplayed()!==!this.setFilterParams.suppressMiniFilter&&e.setDisplayed(!this.setFilterParams.suppressMiniFilter);var r=this.valueModel.getMiniFilter();e.getValue()!==r&&e.setValue(r)},t.prototype.afterGuiAttached=function(e){if(!this.setFilterParams)throw new Error("Set filter params have not been provided.");n.prototype.afterGuiAttached.call(this,e),this.resetExpansion(),this.refreshVirtualList();var r=this.eMiniFilter;r.setInputPlaceholder(this.translateForSetFilter("searchOoo")),(!e||!e.suppressFocus)&&r.getFocusableElement().focus()},t.prototype.afterGuiDetached=function(){var e,r;n.prototype.afterGuiDetached.call(this),!((e=this.setFilterParams)===null||e===void 0)&&e.excelMode&&this.resetMiniFilter();var i=this.getModel();(!((r=this.setFilterParams)===null||r===void 0)&&r.excelMode||!this.areModelsEqual(i,this.getModelFromUi()))&&(this.resetUiToActiveModel(i),this.showOrHideResults())},t.prototype.applyModel=function(e){var r=this;if(e===void 0&&(e="api"),!this.setFilterParams)throw new Error("Set filter params have not been provided.");if(!this.valueModel)throw new Error("Value model has not been created.");this.setFilterParams.excelMode&&e!=="rowDataUpdated"&&this.valueModel.isEverythingVisibleSelected()&&this.valueModel.selectAllMatchingMiniFilter();var i=this.valueModel.showAddCurrentSelectionToFilter()&&this.valueModel.isAddCurrentSelectionToFilterChecked();if(i&&!this.getModel())return!1;var o=n.prototype.applyModel.call(this,e),a=this.getModel();return a?(i||this.valueModel.setAppliedModelKeys(new Set),a.values.forEach(function(s){r.valueModel.addToAppliedModelKeys(s)})):i||this.valueModel.setAppliedModelKeys(null),o},t.prototype.isModelValid=function(e){return this.setFilterParams&&this.setFilterParams.excelMode?e==null||e.values.length>0:!0},t.prototype.doesFilterPass=function(e){var r=this;if(!this.setFilterParams||!this.valueModel||!this.valueModel.getCaseFormattedAppliedModelKeys())return!0;if(!this.valueModel.hasAnyAppliedModelKey())return!1;var i=e.node,o=e.data;if(this.treeDataTreeList)return this.doesFilterPassForTreeData(i,o);if(this.groupingTreeList)return this.doesFilterPassForGrouping(i);var a=this.getValueFromNode(i);return this.convertValuesToStrings?this.doesFilterPassForConvertValuesToString(i,a):a!=null&&Array.isArray(a)?a.length===0?this.valueModel.hasAppliedModelKey(null):a.some(function(s){return r.isInAppliedModel(r.createKey(s,i))}):this.isInAppliedModel(this.createKey(a,i))},t.prototype.doesFilterPassForConvertValuesToString=function(e,r){var i=this,o=this.createKey(r,e);return o!=null&&Array.isArray(o)?o.length===0?this.valueModel.hasAppliedModelKey(null):o.some(function(a){return i.isInAppliedModel(a)}):this.isInAppliedModel(o)},t.prototype.doesFilterPassForTreeData=function(e,r){var i;return!((i=e.childrenAfterGroup)===null||i===void 0)&&i.length?!1:this.isInAppliedModel(this.createKey(this.checkMakeNullDataPath(this.getDataPath(r))))},t.prototype.doesFilterPassForGrouping=function(e){var r=this,i=this.columnModel.getRowGroupColumns().map(function(o){return r.valueService.getKeyForNode(o,e)});return i.push(this.getValueFromNode(e)),this.isInAppliedModel(this.createKey(this.checkMakeNullDataPath(i)))},t.prototype.checkMakeNullDataPath=function(e){return e&&(e=e.map(function(r){return A.toStringOrNull(A.makeNull(r))})),e!=null&&e.some(function(r){return r==null})?null:e},t.prototype.isInAppliedModel=function(e){return this.valueModel.hasAppliedModelKey(e)},t.prototype.getValueFromNode=function(e){return this.setFilterParams.getValue(e)},t.prototype.getKeyCreatorParams=function(e,r){return r===void 0&&(r=null),{value:e,colDef:this.setFilterParams.colDef,column:this.setFilterParams.column,node:r,data:r==null?void 0:r.data,api:this.setFilterParams.api,columnApi:this.setFilterParams.columnApi,context:this.setFilterParams.context}},t.prototype.onNewRowsLoaded=function(){this.isValuesTakenFromGrid()&&this.syncAfterDataChange()},t.prototype.isValuesTakenFromGrid=function(){if(!this.valueModel)return!1;var e=this.valueModel.getValuesType();return e===Ri.TAKEN_FROM_GRID_VALUES},t.prototype.setFilterValues=function(e){var r=this;if(!this.valueModel)throw new Error("Value model has not been created.");this.valueModel.overrideValues(e).then(function(){r.checkAndRefreshVirtualList(),r.onUiChanged()})},t.prototype.resetFilterValues=function(){if(!this.valueModel)throw new Error("Value model has not been created.");this.valueModel.setValuesType(Ri.TAKEN_FROM_GRID_VALUES),this.syncAfterDataChange()},t.prototype.refreshFilterValues=function(){var e=this;if(!this.valueModel)throw new Error("Value model has not been created.");this.valueModel.isInitialised()&&this.valueModel.refreshValues().then(function(){e.checkAndRefreshVirtualList(),e.onUiChanged()})},t.prototype.onAnyFilterChanged=function(){var e=this;setTimeout(function(){if(e.isAlive()){if(!e.valueModel)throw new Error("Value model has not been created.");e.valueModel.refreshAfterAnyFilterChanged().then(function(r){r&&(e.checkAndRefreshVirtualList(),e.showOrHideResults())})}},0)},t.prototype.onMiniFilterInput=function(){if(!this.setFilterParams)throw new Error("Set filter params have not been provided.");if(!this.valueModel)throw new Error("Value model has not been created.");if(this.valueModel.setMiniFilter(this.eMiniFilter.getValue())){var e=this.setFilterParams||{},r=e.applyMiniFilterWhileTyping,i=e.readOnly;!i&&r?this.filterOnAllVisibleValues(!1):this.updateUiAfterMiniFilterChange()}},t.prototype.updateUiAfterMiniFilterChange=function(){if(!this.setFilterParams)throw new Error("Set filter params have not been provided.");if(!this.valueModel)throw new Error("Value model has not been created.");var e=this.setFilterParams||{},r=e.excelMode,i=e.readOnly;r==null||i?this.checkAndRefreshVirtualList():this.valueModel.getMiniFilter()==null?this.resetUiToActiveModel(this.getModel()):(this.valueModel.selectAllMatchingMiniFilter(!0),this.checkAndRefreshVirtualList(),this.onUiChanged()),this.showOrHideResults()},t.prototype.showOrHideResults=function(){if(!this.valueModel)throw new Error("Value model has not been created.");var e=this.valueModel.getMiniFilter()!=null&&this.valueModel.getDisplayedValueCount()<1;A.setDisplayed(this.eNoMatches,e),A.setDisplayed(this.eSetFilterList,!e)},t.prototype.resetMiniFilter=function(){var e;this.eMiniFilter.setValue(null,!0),(e=this.valueModel)===null||e===void 0||e.setMiniFilter(null)},t.prototype.resetUiToActiveModel=function(e,r){var i=this;this.setModelAndRefresh(e==null?null:e.values).then(function(){i.onUiChanged(!1,"prevent"),r==null||r()})},t.prototype.handleCancelEnd=function(e){this.setMiniFilter(null),n.prototype.handleCancelEnd.call(this,e)},t.prototype.onMiniFilterKeyDown=function(e){var r=this.setFilterParams||{},i=r.excelMode,o=r.readOnly;e.key===U.ENTER&&!i&&!o&&this.filterOnAllVisibleValues()},t.prototype.filterOnAllVisibleValues=function(e){e===void 0&&(e=!0);var r=(this.setFilterParams||{}).readOnly;if(!this.valueModel)throw new Error("Value model has not been created.");if(r)throw new Error("Unable to filter in readOnly mode.");this.valueModel.selectAllMatchingMiniFilter(!0),this.checkAndRefreshVirtualList(),this.onUiChanged(!1,e?"immediately":"debounce"),this.showOrHideResults()},t.prototype.focusRowIfAlive=function(e){var r=this;e!=null&&window.setTimeout(function(){if(!r.virtualList)throw new Error("Virtual list has not been created.");r.isAlive()&&r.virtualList.focusRow(e)},0)},t.prototype.onSelectAll=function(e){if(!this.valueModel)throw new Error("Value model has not been created.");if(!this.virtualList)throw new Error("Virtual list has not been created.");e?this.valueModel.selectAllMatchingMiniFilter():this.valueModel.deselectAllMatchingMiniFilter(),this.refreshAfterSelection()},t.prototype.onGroupItemSelected=function(e,r){var i=this,o=function(a){a.children?a.children.forEach(function(s){return o(s)}):i.selectItem(a.key,r)};o(e),this.refreshAfterSelection()},t.prototype.onItemSelected=function(e,r){if(!this.valueModel)throw new Error("Value model has not been created.");if(!this.virtualList)throw new Error("Virtual list has not been created.");this.selectItem(e,r),this.refreshAfterSelection()},t.prototype.selectItem=function(e,r){r?this.valueModel.selectKey(e):this.valueModel.deselectKey(e)},t.prototype.onExpandAll=function(e,r){var i=function(o){o.filterPasses&&o.available&&o.children&&(o.children.forEach(function(a){return i(a)}),o.expanded=r)};i(e),this.refreshAfterExpansion()},t.prototype.onExpandedChanged=function(e,r){e.expanded=r,this.refreshAfterExpansion()},t.prototype.refreshAfterExpansion=function(){var e=this.virtualList.getLastFocusedRow();this.valueModel.updateDisplayedValues("expansion"),this.checkAndRefreshVirtualList(),this.focusRowIfAlive(e)},t.prototype.refreshAfterSelection=function(){var e=this.virtualList.getLastFocusedRow();this.checkAndRefreshVirtualList(),this.onUiChanged(),this.focusRowIfAlive(e)},t.prototype.setMiniFilter=function(e){this.eMiniFilter.setValue(e),this.onMiniFilterInput()},t.prototype.getMiniFilter=function(){return this.valueModel?this.valueModel.getMiniFilter():null},t.prototype.checkAndRefreshVirtualList=function(){if(!this.virtualList)throw new Error("Virtual list has not been created.");this.virtualList.refresh(!this.hardRefreshVirtualList),this.hardRefreshVirtualList&&(this.hardRefreshVirtualList=!1)},t.prototype.getFilterKeys=function(){return this.valueModel?this.valueModel.getKeys():[]},t.prototype.getFilterValues=function(){return this.valueModel?this.valueModel.getValues():[]},t.prototype.getValues=function(){return this.getFilterKeys()},t.prototype.refreshVirtualList=function(){this.setFilterParams&&this.setFilterParams.refreshValuesOnOpen?this.refreshFilterValues():this.checkAndRefreshVirtualList()},t.prototype.translateForSetFilter=function(e){var r=this.localeService.getLocaleTextFunc();return r(e,k6e[e])},t.prototype.isSelectAllSelected=function(){if(!this.setFilterParams||!this.valueModel)return!1;if(this.setFilterParams.defaultToNothingSelected){if(this.valueModel.hasSelections()&&this.valueModel.isEverythingVisibleSelected())return!0;if(this.valueModel.isNothingVisibleSelected())return!1}else{if(this.valueModel.hasSelections()&&this.valueModel.isNothingVisibleSelected())return!1;if(this.valueModel.isEverythingVisibleSelected())return!0}},t.prototype.areAllChildrenSelected=function(e){var r=this,i=function(o){if(o.children){var a=!1,s=!1,l=o.children.some(function(u){if(!u.filterPasses||!u.available)return!1;var c=i(u);return c===void 0?!0:(c?a=!0:s=!0,a&&s)});return l?void 0:a}else return r.valueModel.isKeySelected(o.key)};return this.setFilterParams.defaultToNothingSelected?this.valueModel.hasSelections()&&i(e):i(e)},t.prototype.destroy=function(){this.virtualList!=null&&(this.virtualList.destroy(),this.virtualList=null),n.prototype.destroy.call(this)},t.prototype.caseFormat=function(e){return e==null||typeof e!="string"||this.caseSensitive?e:e.toUpperCase()},t.prototype.resetExpansion=function(){var e,r;if(!((e=this.setFilterParams)===null||e===void 0)&&e.treeList){var i=(r=this.valueModel)===null||r===void 0?void 0:r.getSelectAllItem();if(this.isSetFilterModelTreeItem(i)){var o=function(a){a.children&&(a.children.forEach(function(s){return o(s)}),a.expanded=!1)};o(i),this.valueModel.updateDisplayedValues("expansion")}}},t.prototype.getModelAsString=function(e){return this.filterModelFormatter.getModelAsString(e,this)},t.prototype.getPositionableElement=function(){return this.eSetFilterList},Wp([j("eMiniFilter")],t.prototype,"eMiniFilter",void 0),Wp([j("eFilterLoading")],t.prototype,"eFilterLoading",void 0),Wp([j("eSetFilterList")],t.prototype,"eSetFilterList",void 0),Wp([j("eFilterNoMatches")],t.prototype,"eNoMatches",void 0),Wp([E("valueFormatterService")],t.prototype,"valueFormatterService",void 0),Wp([E("columnModel")],t.prototype,"columnModel",void 0),Wp([E("valueService")],t.prototype,"valueService",void 0),t}(Yd),V6e=function(){function n(t){this.model=t}return n.prototype.getRowCount=function(){return this.model.getDisplayedValueCount()},n.prototype.getRow=function(t){return this.model.getDisplayedItem(t)},n.prototype.areRowsEqual=function(t,e){return t===e},n}(),B6e=function(){function n(t,e){this.model=t,this.isSelectAllSelected=e}return n.prototype.getRowCount=function(){var t=this.model.showAddCurrentSelectionToFilter(),e=t?2:1;return this.model.getDisplayedValueCount()+e},n.prototype.getRow=function(t){if(t===0)return this.model.getSelectAllItem();var e=this.model.showAddCurrentSelectionToFilter(),r=e?2:1;return t===1&&e?this.model.getAddSelectionToFilterItem():this.model.getDisplayedItem(t-r)},n.prototype.areRowsEqual=function(t,e){return t===e},n}(),H6e=function(){function n(t){this.model=t}return n.prototype.getRowCount=function(){return this.model.getRowCount()},n.prototype.getRow=function(t){return this.model.getRow(t)},n.prototype.areRowsEqual=function(t,e){return t==null&&e==null?!0:t!=null&&e!=null&&t.treeKey===e.treeKey&&t.depth===e.depth},n}(),j6e=function(){var n=function(t,e){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])},n(t,e)};return function(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");n(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}}(),D5=function(n,t,e,r){var i=arguments.length,o=i<3?t:r===null?r=Object.getOwnPropertyDescriptor(t,e):r,a;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(n,t,e,r);else for(var s=n.length-1;s>=0;s--)(a=n[s])&&(o=(i<3?a(o):i>3?a(t,e,o):a(t,e))||o);return i>3&&o&&Object.defineProperty(t,e,o),o},$6e=function(n){j6e(t,n);function t(){var e=n.call(this,`
            <div class="ag-floating-filter-input ag-set-floating-filter-input" role="presentation">
                <ag-input-text-field ref="eFloatingFilterText"></ag-input-text-field>
            </div>`)||this;return e.availableValuesListenerAdded=!1,e.filterModelFormatter=new Kte,e}return t.prototype.destroy=function(){n.prototype.destroy.call(this)},t.prototype.init=function(e){var r=this;this.params=e,this.eFloatingFilterText.setDisabled(!0).addGuiEventListener("click",function(){return r.params.showParentFilter()}),this.setParams(e)},t.prototype.setParams=function(e){var r=this.columnModel.getDisplayNameForColumn(e.column,"header",!0),i=this.localeService.getLocaleTextFunc();this.eFloatingFilterText.setInputAriaLabel("".concat(r," ").concat(i("ariaFilterInput","Filter Input")))},t.prototype.onParamsUpdated=function(e){this.refresh(e)},t.prototype.refresh=function(e){this.params=e,this.setParams(e)},t.prototype.onParentModelChanged=function(e){this.updateFloatingFilterText(e)},t.prototype.parentSetFilterInstance=function(e){this.params.parentFilterInstance(function(r){if(!(r instanceof Yte))throw new Error("AG Grid - SetFloatingFilter expects SetFilter as its parent");e(r)})},t.prototype.addAvailableValuesListener=function(){var e=this;this.parentSetFilterInstance(function(r){var i=r.getValueModel();i&&e.addManagedListener(i,zte.EVENT_AVAILABLE_VALUES_CHANGED,function(){return e.updateFloatingFilterText()})}),this.availableValuesListenerAdded=!0},t.prototype.updateFloatingFilterText=function(e){var r=this;this.availableValuesListenerAdded||this.addAvailableValuesListener(),this.parentSetFilterInstance(function(i){r.eFloatingFilterText.setValue(r.filterModelFormatter.getModelAsString(e,i))})},D5([j("eFloatingFilterText")],t.prototype,"eFloatingFilterText",void 0),D5([E("columnModel")],t.prototype,"columnModel",void 0),t}(ae),W6e="31.1.1",U6e={version:W6e,moduleName:pe.SetFilterModule,beans:[],userComponents:[{componentName:"agSetColumnFilter",componentClass:Yte},{componentName:"agSetColumnFloatingFilter",componentClass:$6e}],dependantModules:[jn]},z6e=function(){var n=function(t,e){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])},n(t,e)};return function(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");n(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}}(),K6e=function(n,t,e,r){var i=arguments.length,o=i<3?t:r===null?r=Object.getOwnPropertyDescriptor(t,e):r,a;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(n,t,e,r);else for(var s=n.length-1;s>=0;s--)(a=n[s])&&(o=(i<3?a(o):i>3?a(t,e,o):a(t,e))||o);return i>3&&o&&Object.defineProperty(t,e,o),o},Y6e=function(n){z6e(t,n);function t(){var e=n.call(this)||this;return e.allComponents=new Map,e}return t.prototype.registerStatusPanel=function(e,r){this.allComponents.set(e,r)},t.prototype.unregisterStatusPanel=function(e){this.allComponents.delete(e)},t.prototype.unregisterAllComponents=function(){this.allComponents.clear()},t.prototype.getStatusPanel=function(e){return this.allComponents.get(e)},t.prototype.destroy=function(){this.unregisterAllComponents(),n.prototype.destroy.call(this)},t=K6e([ie("statusBarService")],t),t}(X),X6e=function(){var n=function(t,e){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])},n(t,e)};return function(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");n(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}}(),Up=function(n,t,e,r){var i=arguments.length,o=i<3?t:r===null?r=Object.getOwnPropertyDescriptor(t,e):r,a;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(n,t,e,r);else for(var s=n.length-1;s>=0;s--)(a=n[s])&&(o=(i<3?a(o):i>3?a(t,e,o):a(t,e))||o);return i>3&&o&&Object.defineProperty(t,e,o),o},q6e=function(n){X6e(t,n);function t(){var e=n.call(this,t.TEMPLATE)||this;return e.compDestroyFunctions={},e}return t.prototype.postConstruct=function(){this.processStatusPanels(new Map),this.addManagedPropertyListeners(["statusBar"],this.handleStatusBarChanged.bind(this))},t.prototype.processStatusPanels=function(e){var r,i=(r=this.gridOptionsService.get("statusBar"))===null||r===void 0?void 0:r.statusPanels;if(i){var o=i.filter(function(l){return l.align==="left"});this.createAndRenderComponents(o,this.eStatusBarLeft,e);var a=i.filter(function(l){return l.align==="center"});this.createAndRenderComponents(a,this.eStatusBarCenter,e);var s=i.filter(function(l){return!l.align||l.align==="right"});this.createAndRenderComponents(s,this.eStatusBarRight,e)}else this.setDisplayed(!1)},t.prototype.handleStatusBarChanged=function(){var e=this,r,i=(r=this.gridOptionsService.get("statusBar"))===null||r===void 0?void 0:r.statusPanels,o=Array.isArray(i)&&i.length>0;this.setDisplayed(o);var a=new Map;o&&i.forEach(function(s){var l,u,c=(l=s.key)!==null&&l!==void 0?l:s.statusPanel,d=e.statusBarService.getStatusPanel(c);if(d!=null&&d.refresh){var p=e.gridOptionsService.addGridCommonParams((u=s.statusPanelParams)!==null&&u!==void 0?u:{}),h=d.refresh(p);h&&(a.set(c,d),delete e.compDestroyFunctions[c],A.removeFromParent(d.getGui()))}}),this.resetStatusBar(),o&&this.processStatusPanels(a)},t.prototype.resetStatusBar=function(){this.eStatusBarLeft.innerHTML="",this.eStatusBarCenter.innerHTML="",this.eStatusBarRight.innerHTML="",this.destroyComponents(),this.statusBarService.unregisterAllComponents()},t.prototype.destroyComponents=function(){Object.values(this.compDestroyFunctions).forEach(function(e){return e()}),this.compDestroyFunctions={}},t.prototype.createAndRenderComponents=function(e,r,i){var o=this,a=[];e.forEach(function(s){var l=s.key||s.statusPanel,u=i.get(l),c;if(u)c=tt.resolve(u);else{var d={},p=o.userComponentFactory.getStatusPanelCompDetails(s,d);if(c=p.newAgStackInstance(),!c)return}a.push({key:l,promise:c})}),tt.all(a.map(function(s){return s.promise})).then(function(){a.forEach(function(s){s.promise.then(function(l){var u=function(){o.getContext().destroyBean(l)};o.isAlive()?(o.statusBarService.registerStatusPanel(s.key,l),r.appendChild(l.getGui()),o.compDestroyFunctions[s.key]=u):u()})})})},t.TEMPLATE=`<div class="ag-status-bar">
            <div ref="eStatusBarLeft" class="ag-status-bar-left" role="status"></div>
            <div ref="eStatusBarCenter" class="ag-status-bar-center" role="status"></div>
            <div ref="eStatusBarRight" class="ag-status-bar-right" role="status"></div>
        </div>`,Up([E("userComponentFactory")],t.prototype,"userComponentFactory",void 0),Up([E("statusBarService")],t.prototype,"statusBarService",void 0),Up([j("eStatusBarLeft")],t.prototype,"eStatusBarLeft",void 0),Up([j("eStatusBarCenter")],t.prototype,"eStatusBarCenter",void 0),Up([j("eStatusBarRight")],t.prototype,"eStatusBarRight",void 0),Up([z],t.prototype,"postConstruct",null),Up([ar],t.prototype,"destroyComponents",null),t}(ae),Z6e=function(){var n=function(t,e){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])},n(t,e)};return function(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");n(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}}(),M5=function(n,t,e,r){var i=arguments.length,o=i<3?t:r===null?r=Object.getOwnPropertyDescriptor(t,e):r,a;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(n,t,e,r);else for(var s=n.length-1;s>=0;s--)(a=n[s])&&(o=(i<3?a(o):i>3?a(t,e,o):a(t,e))||o);return i>3&&o&&Object.defineProperty(t,e,o),o},m0=function(n){Z6e(t,n);function t(){return n.call(this,t.TEMPLATE)||this}return t.prototype.setLabel=function(e,r){this.setDisplayed(!1);var i=this.localeService.getLocaleTextFunc();this.eLabel.innerHTML=i(e,r)},t.prototype.setValue=function(e){this.eValue.innerHTML=e},t.TEMPLATE=`<div class="ag-status-name-value">
            <span ref="eLabel"></span>:&nbsp;
            <span ref="eValue" class="ag-status-name-value-value"></span>
        </div>`,M5([j("eLabel")],t.prototype,"eLabel",void 0),M5([j("eValue")],t.prototype,"eValue",void 0),t}(ae),Q6e=function(){var n=function(t,e){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])},n(t,e)};return function(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");n(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}}(),L5=function(n,t,e,r){var i=arguments.length,o=i<3?t:r===null?r=Object.getOwnPropertyDescriptor(t,e):r,a;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(n,t,e,r);else for(var s=n.length-1;s>=0;s--)(a=n[s])&&(o=(i<3?a(o):i>3?a(t,e,o):a(t,e))||o);return i>3&&o&&Object.defineProperty(t,e,o),o},J6e=function(n){Q6e(t,n);function t(){return n!==null&&n.apply(this,arguments)||this}return t.prototype.postConstruct=function(){if(this.gridApi.__getModel().getType()!=="clientSide"){console.warn("AG Grid: agTotalAndFilteredRowCountComponent should only be used with the client side row model.");return}this.setLabel("totalAndFilteredRows","Rows"),this.addCssClass("ag-status-panel"),this.addCssClass("ag-status-panel-total-and-filtered-row-count"),this.setDisplayed(!0),this.addManagedListener(this.eventService,T.EVENT_MODEL_UPDATED,this.onDataChanged.bind(this)),this.onDataChanged()},t.prototype.onDataChanged=function(){var e=this.localeService.getLocaleTextFunc(),r=e("thousandSeparator",","),i=e("decimalSeparator","."),o=A.formatNumberCommas(this.getFilteredRowCountValue(),r,i),a=A.formatNumberCommas(this.getTotalRowCount(),r,i);if(o===a)this.setValue(o);else{var s=this.localeService.getLocaleTextFunc();this.setValue("".concat(o," ").concat(s("of","of")," ").concat(a))}},t.prototype.getFilteredRowCountValue=function(){var e=0;return this.gridApi.forEachNodeAfterFilter(function(r){r.group||e++}),e},t.prototype.getTotalRowCount=function(){var e=0;return this.gridApi.forEachNode(function(r){r.group||e++}),e},t.prototype.init=function(){},t.prototype.refresh=function(){return!0},t.prototype.destroy=function(){n.prototype.destroy.call(this)},L5([E("gridApi")],t.prototype,"gridApi",void 0),L5([z],t.prototype,"postConstruct",null),t}(m0),eKe=function(){var n=function(t,e){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])},n(t,e)};return function(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");n(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}}(),F5=function(n,t,e,r){var i=arguments.length,o=i<3?t:r===null?r=Object.getOwnPropertyDescriptor(t,e):r,a;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(n,t,e,r);else for(var s=n.length-1;s>=0;s--)(a=n[s])&&(o=(i<3?a(o):i>3?a(t,e,o):a(t,e))||o);return i>3&&o&&Object.defineProperty(t,e,o),o},tKe=function(n){eKe(t,n);function t(){return n!==null&&n.apply(this,arguments)||this}return t.prototype.postConstruct=function(){if(this.setLabel("filteredRows","Filtered"),this.gridApi.__getModel().getType()!=="clientSide"){console.warn("AG Grid: agFilteredRowCountComponent should only be used with the client side row model.");return}this.addCssClass("ag-status-panel"),this.addCssClass("ag-status-panel-filtered-row-count"),this.setDisplayed(!0);var e=this.onDataChanged.bind(this);this.addManagedListener(this.eventService,T.EVENT_MODEL_UPDATED,e),e()},t.prototype.onDataChanged=function(){var e=this.getTotalRowCountValue(),r=this.getFilteredRowCountValue(),i=this.localeService.getLocaleTextFunc(),o=i("thousandSeparator",","),a=i("decimalSeparator",".");this.setValue(A.formatNumberCommas(r,o,a)),this.setDisplayed(e!==r)},t.prototype.getTotalRowCountValue=function(){var e=0;return this.gridApi.forEachNode(function(r){return e+=1}),e},t.prototype.getFilteredRowCountValue=function(){var e=0;return this.gridApi.forEachNodeAfterFilter(function(r){r.group||(e+=1)}),e},t.prototype.init=function(){},t.prototype.refresh=function(){return!0},t.prototype.destroy=function(){n.prototype.destroy.call(this)},F5([E("gridApi")],t.prototype,"gridApi",void 0),F5([z],t.prototype,"postConstruct",null),t}(m0),rKe=function(){var n=function(t,e){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])},n(t,e)};return function(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");n(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}}(),I5=function(n,t,e,r){var i=arguments.length,o=i<3?t:r===null?r=Object.getOwnPropertyDescriptor(t,e):r,a;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(n,t,e,r);else for(var s=n.length-1;s>=0;s--)(a=n[s])&&(o=(i<3?a(o):i>3?a(t,e,o):a(t,e))||o);return i>3&&o&&Object.defineProperty(t,e,o),o},nKe=function(n){rKe(t,n);function t(){return n!==null&&n.apply(this,arguments)||this}return t.prototype.postConstruct=function(){if(this.setLabel("totalRows","Total Rows"),this.gridApi.__getModel().getType()!=="clientSide"){console.warn("AG Grid: agTotalRowCountComponent should only be used with the client side row model.");return}this.addCssClass("ag-status-panel"),this.addCssClass("ag-status-panel-total-row-count"),this.setDisplayed(!0),this.addManagedListener(this.eventService,T.EVENT_MODEL_UPDATED,this.onDataChanged.bind(this)),this.onDataChanged()},t.prototype.onDataChanged=function(){var e=this.localeService.getLocaleTextFunc(),r=e("thousandSeparator",","),i=e("decimalSeparator",".");this.setValue(A.formatNumberCommas(this.getRowCountValue(),r,i))},t.prototype.getRowCountValue=function(){var e=0;return this.gridApi.forEachLeafNode(function(r){return e+=1}),e},t.prototype.init=function(){},t.prototype.refresh=function(){return!0},t.prototype.destroy=function(){n.prototype.destroy.call(this)},I5([E("gridApi")],t.prototype,"gridApi",void 0),I5([z],t.prototype,"postConstruct",null),t}(m0),iKe=function(){var n=function(t,e){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])},n(t,e)};return function(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");n(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}}(),EM=function(n,t,e,r){var i=arguments.length,o=i<3?t:r===null?r=Object.getOwnPropertyDescriptor(t,e):r,a;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(n,t,e,r);else for(var s=n.length-1;s>=0;s--)(a=n[s])&&(o=(i<3?a(o):i>3?a(t,e,o):a(t,e))||o);return i>3&&o&&Object.defineProperty(t,e,o),o},oKe=function(n){iKe(t,n);function t(){return n!==null&&n.apply(this,arguments)||this}return t.prototype.postConstruct=function(){if(!this.isValidRowModel()){console.warn("AG Grid: agSelectedRowCountComponent should only be used with the client and server side row model.");return}this.setLabel("selectedRows","Selected"),this.addCssClass("ag-status-panel"),this.addCssClass("ag-status-panel-selected-row-count"),this.onRowSelectionChanged();var e=this.onRowSelectionChanged.bind(this);this.addManagedListener(this.eventService,T.EVENT_MODEL_UPDATED,e),this.addManagedListener(this.eventService,T.EVENT_SELECTION_CHANGED,e)},t.prototype.isValidRowModel=function(){var e=this.gridApi.__getModel().getType();return e==="clientSide"||e==="serverSide"},t.prototype.onRowSelectionChanged=function(){var e=this.selectionService.getSelectionCount();if(e<0){this.setValue("?"),this.setDisplayed(!0);return}var r=this.localeService.getLocaleTextFunc(),i=r("thousandSeparator",","),o=r("decimalSeparator",".");this.setValue(A.formatNumberCommas(e,i,o)),this.setDisplayed(e>0)},t.prototype.init=function(){},t.prototype.refresh=function(){return!0},t.prototype.destroy=function(){n.prototype.destroy.call(this)},EM([E("gridApi")],t.prototype,"gridApi",void 0),EM([E("selectionService")],t.prototype,"selectionService",void 0),EM([z],t.prototype,"postConstruct",null),t}(m0),aKe=function(){var n=function(t,e){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])},n(t,e)};return function(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");n(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}}(),Go=function(n,t,e,r){var i=arguments.length,o=i<3?t:r===null?r=Object.getOwnPropertyDescriptor(t,e):r,a;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(n,t,e,r);else for(var s=n.length-1;s>=0;s--)(a=n[s])&&(o=(i<3?a(o):i>3?a(t,e,o):a(t,e))||o);return i>3&&o&&Object.defineProperty(t,e,o),o},sKe=function(n){aKe(t,n);function t(){return n.call(this,t.TEMPLATE)||this}return t.prototype.destroy=function(){n.prototype.destroy.call(this)},t.prototype.postConstruct=function(){if(!this.isValidRowModel()){console.warn("AG Grid: agAggregationComponent should only be used with the client and server side row model.");return}this.avgAggregationComp.setLabel("avg","Average"),this.countAggregationComp.setLabel("count","Count"),this.minAggregationComp.setLabel("min","Min"),this.maxAggregationComp.setLabel("max","Max"),this.sumAggregationComp.setLabel("sum","Sum"),this.addManagedListener(this.eventService,T.EVENT_RANGE_SELECTION_CHANGED,this.onRangeSelectionChanged.bind(this)),this.addManagedListener(this.eventService,T.EVENT_MODEL_UPDATED,this.onRangeSelectionChanged.bind(this))},t.prototype.isValidRowModel=function(){var e=this.gridApi.__getModel().getType();return e==="clientSide"||e==="serverSide"},t.prototype.init=function(e){this.params=e},t.prototype.refresh=function(e){return this.params=e,this.onRangeSelectionChanged(),!0},t.prototype.setAggregationComponentValue=function(e,r,i){var o,a=this.getAllowedAggregationValueComponent(e);if(A.exists(a)&&a){var s=this.localeService.getLocaleTextFunc(),l=s("thousandSeparator",","),u=s("decimalSeparator",".");a.setValue(A.formatNumberTwoDecimalPlacesAndCommas(r,l,u)),a.setDisplayed(i)}else(o=this.getAggregationValueComponent(e))===null||o===void 0||o.setDisplayed(!1)},t.prototype.getAllowedAggregationValueComponent=function(e){var r=this.params.aggFuncs;return!r||r.includes(e)?this.getAggregationValueComponent(e):null},t.prototype.getAggregationValueComponent=function(e){var r="".concat(e,"AggregationComp");return this[r]},t.prototype.onRangeSelectionChanged=function(){var e=this,r=this.rangeService?this.rangeService.getCellRanges():void 0,i=0,o=0,a=0,s=null,l=null,u={};r&&!A.missingOrEmpty(r)&&r.forEach(function(p){for(var h=e.rangeService.getRangeStartRow(p),f=e.rangeService.getRangeEndRow(p);;){var v=A.missing(h)||!h||e.rowPositionUtils.before(f,h);if(v||!h||!p.columns)break;p.columns.forEach(function(g){if(h!==null){var y=e.cellPositionUtils.createId({rowPinned:h.rowPinned,column:g,rowIndex:h.rowIndex});if(!u[y]){u[y]=!0;var m=e.rowRenderer.getRowNode(h);if(!A.missing(m)){var C=e.valueService.getValue(g,m);A.missing(C)||C===""||(o++,!(typeof C=="object"&&"value"in C&&(C=C.value,C===""))&&(typeof C=="string"&&(C=Number(C)),typeof C=="number"&&!isNaN(C)&&(i+=C,(l===null||C>l)&&(l=C),(s===null||C<s)&&(s=C),a++)))}}}}),h=e.cellNavigationService.getRowBelow(h)}});var c=o>1,d=a>1;this.setAggregationComponentValue("count",o,c),this.setAggregationComponentValue("sum",i,d),this.setAggregationComponentValue("min",s,d),this.setAggregationComponentValue("max",l,d),this.setAggregationComponentValue("avg",i/a,d)},t.TEMPLATE=`<div class="ag-status-panel ag-status-panel-aggregations">
            <ag-name-value ref="avgAggregationComp"></ag-name-value>
            <ag-name-value ref="countAggregationComp"></ag-name-value>
            <ag-name-value ref="minAggregationComp"></ag-name-value>
            <ag-name-value ref="maxAggregationComp"></ag-name-value>
            <ag-name-value ref="sumAggregationComp"></ag-name-value>
        </div>`,Go([et("rangeService")],t.prototype,"rangeService",void 0),Go([E("valueService")],t.prototype,"valueService",void 0),Go([E("cellNavigationService")],t.prototype,"cellNavigationService",void 0),Go([E("rowRenderer")],t.prototype,"rowRenderer",void 0),Go([E("gridApi")],t.prototype,"gridApi",void 0),Go([E("cellPositionUtils")],t.prototype,"cellPositionUtils",void 0),Go([E("rowPositionUtils")],t.prototype,"rowPositionUtils",void 0),Go([j("sumAggregationComp")],t.prototype,"sumAggregationComp",void 0),Go([j("countAggregationComp")],t.prototype,"countAggregationComp",void 0),Go([j("minAggregationComp")],t.prototype,"minAggregationComp",void 0),Go([j("maxAggregationComp")],t.prototype,"maxAggregationComp",void 0),Go([j("avgAggregationComp")],t.prototype,"avgAggregationComp",void 0),Go([z],t.prototype,"postConstruct",null),t}(ae),lKe="31.1.1",uKe={version:lKe,moduleName:pe.StatusBarModule,beans:[Y6e],agStackComponents:[{componentName:"AgStatusBar",componentClass:q6e},{componentName:"AgNameValue",componentClass:m0}],userComponents:[{componentName:"agAggregationComponent",componentClass:sKe},{componentName:"agSelectedRowCountComponent",componentClass:oKe},{componentName:"agTotalRowCountComponent",componentClass:nKe},{componentName:"agFilteredRowCountComponent",componentClass:tKe},{componentName:"agTotalAndFilteredRowCountComponent",componentClass:J6e}],dependantModules:[jn]},cKe="31.1.1",dKe=function(){var n=function(t,e){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])},n(t,e)};return function(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");n(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}}(),dv=function(n,t,e,r){var i=arguments.length,o=i<3?t:r===null?r=Object.getOwnPropertyDescriptor(t,e):r,a;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(n,t,e,r);else for(var s=n.length-1;s>=0;s--)(a=n[s])&&(o=(i<3?a(o):i>3?a(t,e,o):a(t,e))||o);return i>3&&o&&Object.defineProperty(t,e,o),o},pKe=function(n){dKe(t,n);function t(){var e=n!==null&&n.apply(this,arguments)||this;return e.firstRow=-1,e.lastRow=-1,e.rowCount=-1,e.rowNodesByIndex={},e}return t.prototype.ensureRowHeightsValid=function(e,r,i,o){return!1},t.prototype.init=function(){var e=this;this.rowHeight=this.gridOptionsService.getRowHeightAsNumber(),this.addManagedListener(this.eventService,T.EVENT_VIEWPORT_CHANGED,this.onViewportChanged.bind(this)),this.addManagedPropertyListener("viewportDatasource",function(){return e.updateDatasource()}),this.addManagedPropertyListener("rowHeight",function(){e.rowHeight=e.gridOptionsService.getRowHeightAsNumber(),e.updateRowHeights()})},t.prototype.start=function(){this.updateDatasource()},t.prototype.isLastRowIndexKnown=function(){return!0},t.prototype.destroyDatasource=function(){this.viewportDatasource&&(this.viewportDatasource.destroy&&this.viewportDatasource.destroy(),this.rowRenderer.datasourceChanged(),this.firstRow=-1,this.lastRow=-1)},t.prototype.updateDatasource=function(){var e=this.gridOptionsService.get("viewportDatasource");e&&this.setViewportDatasource(e)},t.prototype.getViewportRowModelPageSize=function(){return this.gridOptionsService.get("viewportRowModelPageSize")},t.prototype.getViewportRowModelBufferSize=function(){return this.gridOptionsService.get("viewportRowModelBufferSize")},t.prototype.calculateFirstRow=function(e){var r=this.getViewportRowModelBufferSize(),i=this.getViewportRowModelPageSize(),o=e-r;return o<0?0:Math.floor(o/i)*i},t.prototype.calculateLastRow=function(e){if(e===-1)return e;var r=this.getViewportRowModelBufferSize(),i=this.getViewportRowModelPageSize(),o=e+r,a=Math.ceil(o/i)*i,s=this.rowCount-1;return Math.min(a,s)},t.prototype.onViewportChanged=function(e){var r=this.calculateFirstRow(e.firstRow),i=this.calculateLastRow(e.lastRow);(this.firstRow!==r||this.lastRow!==i)&&(this.firstRow=r,this.lastRow=i,this.purgeRowsNotInViewport(),this.viewportDatasource&&this.viewportDatasource.setViewportRange(this.firstRow,this.lastRow))},t.prototype.purgeRowsNotInViewport=function(){var e=this;Object.keys(this.rowNodesByIndex).forEach(function(r){var i=parseInt(r,10);if(i<e.firstRow||i>e.lastRow){if(e.isRowFocused(i))return;delete e.rowNodesByIndex[i]}})},t.prototype.isRowFocused=function(e){var r=this.focusService.getFocusCellToUseAfterRefresh();if(!r||r.rowPinned!=null)return!1;var i=r.rowIndex===e;return i},t.prototype.setViewportDatasource=function(e){this.destroyDatasource(),this.viewportDatasource=e,this.rowCount=-1,e.init?e.init({setRowCount:this.setRowCount.bind(this),setRowData:this.setRowData.bind(this),getRow:this.getRow.bind(this)}):console.warn("AG Grid: viewport is missing init method.")},t.prototype.getType=function(){return"viewport"},t.prototype.getRow=function(e){return this.rowNodesByIndex[e]||(this.rowNodesByIndex[e]=this.createBlankRowNode(e)),this.rowNodesByIndex[e]},t.prototype.getRowNode=function(e){var r;return this.forEachNode(function(i){i.id===e&&(r=i)}),r},t.prototype.getRowCount=function(){return this.rowCount===-1?0:this.rowCount},t.prototype.getRowIndexAtPixel=function(e){return this.rowHeight!==0?Math.floor(e/this.rowHeight):0},t.prototype.getRowBounds=function(e){return{rowHeight:this.rowHeight,rowTop:this.rowHeight*e}},t.prototype.updateRowHeights=function(){var e=this;this.forEachNode(function(i){i.setRowHeight(e.rowHeight),i.setRowTop(e.rowHeight*i.rowIndex)});var r={type:T.EVENT_MODEL_UPDATED,newData:!1,newPage:!1,keepRenderedRows:!0,animate:!1};this.eventService.dispatchEvent(r)},t.prototype.getTopLevelRowCount=function(){return this.getRowCount()},t.prototype.getTopLevelRowDisplayedIndex=function(e){return e},t.prototype.isEmpty=function(){return this.rowCount>0},t.prototype.isRowsToRender=function(){return this.rowCount>0},t.prototype.getNodesInRangeForSelection=function(e,r){var i=A.missing(e)?0:e.rowIndex,o=r.rowIndex,a=i<this.firstRow||i>this.lastRow,s=o<this.firstRow||o>this.lastRow;if(a||s)return[];for(var l=[],u=i<=o?i:o,c=i<=o?o:i,d=u;d<=c;d++)l.push(this.rowNodesByIndex[d]);return l},t.prototype.forEachNode=function(e){var r=this,i=0;Object.keys(this.rowNodesByIndex).forEach(function(o){var a=parseInt(o,10),s=r.rowNodesByIndex[a];e(s,i),i++})},t.prototype.setRowData=function(e){var r=this;A.iterateObject(e,function(i,o){var a=parseInt(i,10);if(a>=r.firstRow&&a<=r.lastRow){var s=r.rowNodesByIndex[a];A.missing(s)&&(s=r.createBlankRowNode(a),r.rowNodesByIndex[a]=s),s.setDataAndId(o,a.toString())}})},t.prototype.createBlankRowNode=function(e){var r=new Xe(this.beans);return r.setRowHeight(this.rowHeight),r.setRowTop(this.rowHeight*e),r.setRowIndex(e),r},t.prototype.setRowCount=function(e,r){if(r===void 0&&(r=!1),e!==this.rowCount){this.rowCount=e,this.eventService.dispatchEventOnce({type:T.EVENT_ROW_COUNT_READY});var i={type:T.EVENT_MODEL_UPDATED,newData:!1,newPage:!1,keepRenderedRows:r,animate:!1};this.eventService.dispatchEvent(i)}},t.prototype.isRowPresent=function(e){var r=this.getRowNode(e.id);return!!r},dv([E("rowRenderer")],t.prototype,"rowRenderer",void 0),dv([E("focusService")],t.prototype,"focusService",void 0),dv([E("beans")],t.prototype,"beans",void 0),dv([z],t.prototype,"init",null),dv([ar],t.prototype,"destroyDatasource",null),t=dv([ie("rowModel")],t),t}(X),hKe={version:cKe,moduleName:pe.ViewportRowModelModule,rowModel:"viewport",beans:[pKe],dependantModules:[jn]},fKe=`
.ag-sparkline-tooltip-wrapper {
    position: absolute;
    user-select: none;
    pointer-events: none;
}

.ag-sparkline-tooltip {
    position: relative;
    font: 12px arial,sans-serif;
    border-radius: 2px;
    box-shadow: 0 1px 3px rgb(0 0 0 / 20%), 0 1px 1px rgb(0 0 0 / 14%);
    line-height: 1.7em;
    overflow: hidden;
    white-space: nowrap;
    z-index: 99999;
    background-color: rgb(255, 255, 255);
    color: rgba(0,0,0, 0.67);
}

.ag-sparkline-tooltip-content {
    padding: 0 7px;
    opacity: 1;
}

.ag-sparkline-tooltip-title {
    padding-left: 7px;
    opacity: 1;
}

.ag-sparkline-tooltip-wrapper-hidden {
    top: -10000px !important;
}

.ag-sparkline-wrapper {
    box-sizing: border-box;
    overflow: hidden;
}
`,vKe=function(n){var t=typeof Symbol=="function"&&Symbol.iterator,e=t&&n[t],r=0;if(e)return e.call(n);if(n&&typeof n.length=="number")return{next:function(){return n&&r>=n.length&&(n=void 0),{value:n&&n[r++],done:!n}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")},gKe=Pr.extent,Lm=Pr.isNumber,yKe=Pr.isString,mKe=Pr.isStringObject,N5=Pr.isDate,CKe=Pr.createId,SKe=Pr.Padding,bM=wp.LinearScale,wKe=wp.BandScale,k5=wp.TimeScale,Ai;(function(n){n[n.SERIES_FILL_ZINDEX=50]="SERIES_FILL_ZINDEX",n[n.AXIS_LINE_ZINDEX=500]="AXIS_LINE_ZINDEX",n[n.SERIES_STROKE_ZINDEX=1e3]="SERIES_STROKE_ZINDEX",n[n.SERIES_LABEL_ZINDEX=1500]="SERIES_LABEL_ZINDEX",n[n.CROSSHAIR_ZINDEX=2e3]="CROSSHAIR_ZINDEX",n[n.SERIES_MARKERS_ZINDEX=2500]="SERIES_MARKERS_ZINDEX"})(Ai||(Ai={}));var _Ke=function(){function n(){this.type="category",this.stroke="rgb(204, 214, 235)",this.strokeWidth=1}return n}(),e2=function(){function n(){this.id=CKe(this),this.seriesRect={x:0,y:0,width:0,height:0},this._context=void 0,this._container=void 0,this._data=void 0,this.padding=new SKe(3),this.xKey="x",this.yKey="y",this.dataType=void 0,this.xData=[],this.yData=[],this.min=void 0,this.max=void 0,this.yScale=new bM,this.axis=new _Ke,this.highlightStyle={size:6,fill:"yellow",stroke:"silver",strokeWidth:1},this._width=100,this._height=100,this.smallestInterval=void 0,this.layoutId=0,this.defaultDateFormatter=new Intl.DateTimeFormat("en-US",{year:"numeric",month:"2-digit",day:"2-digit",hour:"2-digit",minute:"2-digit",second:"2-digit",hour12:!1}),this._onMouseMove=this.onMouseMove.bind(this),this._onMouseOut=this.onMouseOut.bind(this);var t=new ne.Group;this.rootGroup=t;var e=document.createElement("div");e.setAttribute("class","ag-sparkline-wrapper");var r=new ne.Scene({window,document});this.scene=r,this.canvasElement=r.canvas.element,r.root=t,r.container=e,this.resizeAndSetDimensions(this.width,this.height),n.tooltipDocuments.includes(document)||this.initialiseTooltipStyles(),this.setupDomEventListeners(this.canvasElement)}return Object.defineProperty(n.prototype,"context",{get:function(){return this._context},set:function(t){this._context!==t&&(this._context=t)},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"container",{get:function(){return this._container},set:function(t){if(this._container!==t){var e=this.canvasElement.parentNode;e!=null&&e.removeChild(this.canvasElement),t&&t.appendChild(this.canvasElement),this._container=t}},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"data",{get:function(){return this._data},set:function(t){this._data!==t&&(this._data=t,this.processData(),this.mouseMoveEvent&&this.highlightedDatum&&this.updateHitPoint(this.mouseMoveEvent))},enumerable:!1,configurable:!0}),n.prototype.resizeAndSetDimensions=function(t,e){this.scene.resize(t,e),this.seriesRect.width=t,this.seriesRect.height=e},n.prototype.initialiseTooltipStyles=function(){var t=document.createElement("style");t.innerHTML=fKe,document.head.insertBefore(t,document.head.querySelector("style")),n.tooltipDocuments.push(document)},Object.defineProperty(n.prototype,"width",{get:function(){return this._width},set:function(t){this._width!==t&&(this._width=t,this.scene.resize(t,this.height),this.scheduleLayout())},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"height",{get:function(){return this._height},set:function(t){this._height!==t&&(this._height=t,this.scene.resize(this.width,t),this.scheduleLayout())},enumerable:!1,configurable:!0}),n.prototype.update=function(){},n.prototype.updateYScale=function(){this.updateYScaleRange(),this.updateYScaleDomain()},n.prototype.updateYScaleDomain=function(){},n.prototype.updateYScaleRange=function(){var t=this,e=t.yScale,r=t.seriesRect;e.range=[r.height,0]},n.prototype.updateXScale=function(){var t=this.axis.type;this.xScale=this.getXScale(t),this.updateXScaleRange(),this.updateXScaleDomain()},n.prototype.updateXScaleRange=function(){this.xScale.range=[0,this.seriesRect.width]},n.prototype.updateXScaleDomain=function(){var t=this,e=t.xData,r=t.xScale,i;(r instanceof bM||r instanceof k5)&&(i=gKe(e)),this.xScale.domain=i?i.slice():e},n.prototype.getXScale=function(t){switch(t===void 0&&(t="category"),t){case"number":return new bM;case"time":return new k5;case"category":default:return new wKe}},n.prototype.updateAxisLine=function(){},n.prototype.updateAxes=function(){this.updateYScale(),this.updateXScale(),this.updateAxisLine()},n.prototype.updateCrosshairs=function(){this.updateXCrosshairLine(),this.updateYCrosshairLine()},n.prototype.generateNodeData=function(){return[]},n.prototype.getNodeData=function(){return[]},n.prototype.updateNodes=function(){},n.prototype.updateXCrosshairLine=function(){},n.prototype.updateYCrosshairLine=function(){},n.prototype.highlightDatum=function(t){this.updateNodes()},n.prototype.dehighlightDatum=function(){this.highlightedDatum=void 0,this.updateNodes(),this.updateCrosshairs()},n.prototype.onMouseMove=function(t){this.mouseMoveEvent=t,this.updateHitPoint(t)},n.prototype.updateHitPoint=function(t){var e,r,i,o=this.pickClosestSeriesNodeDatum(t.offsetX,t.offsetY);if(o){var a=this.highlightedDatum;this.highlightedDatum=o,(this.highlightedDatum&&!a||this.highlightedDatum&&a&&this.highlightedDatum!==a)&&(this.highlightDatum(o),this.updateCrosshairs(),this.scene.render().catch(function(l){return console.error("AG Grid - chart rendering failed",l)}));var s=(i=(r=(e=this.processedOptions)===null||e===void 0?void 0:e.tooltip)===null||r===void 0?void 0:r.enabled)!==null&&i!==void 0?i:!0;s&&this.handleTooltip(t,o)}},n.prototype.onMouseOut=function(t){this.dehighlightDatum(),this.tooltip.toggle(!1),this.scene.render().catch(function(e){return console.error("AG Grid - chart rendering failed",e)})},n.prototype.processData=function(){var t=this,e=this,r=e.data,i=e.yData,o=e.xData;if(!(!r||this.invalidData(this.data))){i.length=0,o.length=0;var a=r.length,s=this.getDataType(r);this.dataType=s;var l=this.axis.type,u=l!=="number"&&l!=="time"?"category":l,c=u==="number"||u==="time",d=function(_,x){t.smallestInterval==null&&(t.smallestInterval={x:1/0,y:1/0});var b=t.smallestInterval.x,O=Math.abs(_-x);O>0&&O<b&&(t.smallestInterval.x=O)},p;if(s==="number")for(var h=0;h<a;h++){var f=h,v=r[h],g=this.getDatum(f,u),y=this.getDatum(v,"number");c&&d(g,p),o.push(g),i.push(y),p=g}else if(s==="array")for(var h=0;h<a;h++){var m=r[h];if(Array.isArray(m)){var f=m[0],v=m[1],g=this.getDatum(f,u),y=this.getDatum(v,"number");if(g==null)continue;c&&d(g,p),o.push(g),i.push(y),p=g}}else if(s==="object")for(var C=this,S=C.yKey,w=C.xKey,h=0;h<a;h++){var m=r[h];if(typeof m=="object"&&!Array.isArray(m)){var f=m[w],v=m[S],g=this.getDatum(f,u),y=this.getDatum(v,"number");if(g==null)continue;c&&d(g,p),o.push(g),i.push(y),p=g}}this.updateAxes(),this.immediateLayout()}},n.prototype.getDataType=function(t){var e,r;try{for(var i=vKe(t),o=i.next();!o.done;o=i.next()){var a=o.value;if(a!=null){if(Lm(a))return"number";if(Array.isArray(a))return"array";if(typeof a=="object")return"object"}}}catch(s){e={error:s}}finally{try{o&&!o.done&&(r=i.return)&&r.call(i)}finally{if(e)throw e.error}}},n.prototype.getDatum=function(t,e){if(e==="number"&&Lm(t)||e==="time"&&(Lm(t)||N5(t)))return t;if(e==="category"){if(yKe(t)||N5(t)||Lm(t))return{toString:function(){return String(t)}};if(mKe(t))return t}},Object.defineProperty(n.prototype,"layoutScheduled",{get:function(){return!!this.layoutId},enumerable:!1,configurable:!0}),n.prototype.scheduleLayout=function(){var t=this;this.layoutId&&cancelAnimationFrame(this.layoutId),this.layoutId=requestAnimationFrame(function(){t.immediateLayout(),t.layoutId=0})},n.prototype.immediateLayout=function(){this.setSparklineDimensions(),!this.invalidData(this.data)&&(this.updateXScaleRange(),this.updateYScaleRange(),this.updateAxisLine(),this.update(),this.scene.render().catch(function(t){return console.error("AG Grid - chart rendering failed",t)}))},n.prototype.setSparklineDimensions=function(){var t=this,e=t.width,r=t.height,i=t.padding,o=t.seriesRect,a=t.rootGroup,s=e-i.left-i.right,l=r-i.top-i.bottom;o.width=s,o.height=l,o.x=i.left,o.y=i.top,a.translationX=o.x,a.translationY=o.y},n.prototype.pickClosestSeriesNodeDatum=function(t,e){for(var r=1/0,i,o=this.rootGroup.transformPoint(t,e),a=this.getNodeData(),s=0;s<a.length;s++){var l=a[s];if(!l.point)return;var u=this.getDistance(o,l.point);u<=r&&(r=u,i=l)}return i},n.prototype.getDistance=function(t,e){return Math.abs(t.x-e.x)},n.prototype.handleTooltip=function(t,e){var r,i,o=e.seriesDatum,a=this.canvasElement,s=t.clientX,l=t.clientY,u=(r=this.processedOptions)===null||r===void 0?void 0:r.tooltip,c={pageX:s,pageY:l,position:{xOffset:u==null?void 0:u.xOffset,yOffset:u==null?void 0:u.yOffset},container:u==null?void 0:u.container};c.container==null&&(c.container=a);var d=o.y,p=o.x,h=(i=u==null?void 0:u.enabled)!==null&&i!==void 0?i:!0,f=u==null?void 0:u.renderer;if(f){var v=f({context:this.context,datum:o,yValue:d,xValue:p});h=typeof v!="string"&&v.enabled!==void 0?v.enabled:h}var g=h&&o.y!==void 0&&this.getTooltipHtml(e);g&&this.tooltip.show(c,g)},n.prototype.formatNumericDatum=function(t){return String(Math.round(t*10)/10)},n.prototype.formatDatum=function(t){var e=this.axis.type||"category";return e==="number"&&typeof t=="number"?this.formatNumericDatum(t):e==="time"&&(t instanceof Date||Lm(t))?this.defaultDateFormatter.format(t):String(t)},n.prototype.setupDomEventListeners=function(t){t.addEventListener("mousemove",this._onMouseMove),t.addEventListener("mouseout",this._onMouseOut)},n.prototype.cleanupDomEventListeners=function(t){t.removeEventListener("mousemove",this._onMouseMove),t.removeEventListener("mouseout",this._onMouseOut)},n.prototype.invalidData=function(t){return!t||!Array.isArray(t)||t.length===0},n.prototype.destroy=function(){this.scene.container=void 0,this.container=void 0,this.cleanupDomEventListeners(this.scene.canvas.element)},n.tooltipDocuments=[],n}();function Vg(n,t){var e,r,i;if(typeof n=="string")return n;t=t??{};var o=n.content,a=o===void 0?(e=t.content)!==null&&e!==void 0?e:"":o,s=n.title,l=s===void 0?(r=t.title)!==null&&r!==void 0?r:void 0:s,u=n.color,c=u===void 0?t.color:u,d=n.backgroundColor,p=d===void 0?t.backgroundColor:d,h=n.opacity,f=h===void 0?(i=t.opacity)!==null&&i!==void 0?i:1:h,v,g;c?(v=l?'<span class="'.concat(fv.class,'-title"; style="color: ').concat(c,'">').concat(l,"</span>"):"",g='<span class="'.concat(fv.class,'-content" style="color: ').concat(c,'">').concat(a,"</span>")):(v=l?'<span class="'.concat(fv.class,'-title">').concat(l,"</span>"):"",g='<span class="'.concat(fv.class,'-content">').concat(a,"</span>"));var y="opacity: ".concat(f);return p&&(y+="; background-color: ".concat(p.toLowerCase())),'<div class="'.concat(fv.class,'" style="').concat(y,`">
                `).concat(v,`
                `).concat(g,`
            </div>`)}var fv=function(){function n(){this.element=document.createElement("div");var t=document.body;t.appendChild(this.element)}return n.prototype.isVisible=function(){var t=this.element;if(t.classList)return!t.classList.contains("".concat(n.class,"-wrapper-hidden"));var e=t.getAttribute("class");return e?e.split(" ").indexOf("".concat(n.class,"-wrapper-hidden"))<0:!1},n.prototype.updateClass=function(t){var e=["".concat(n.class,"-wrapper")];t!==!0&&e.push("".concat(n.class,"-wrapper-hidden")),this.element.setAttribute("class",e.join(" "))},n.prototype.show=function(t,e){var r,i,o,a;this.toggle(!1);var s=this.element;if(e!==void 0)s.innerHTML=e;else if(!s.innerHTML)return;var l=(i=(r=t.position)===null||r===void 0?void 0:r.xOffset)!==null&&i!==void 0?i:10,u=(a=(o=t.position)===null||o===void 0?void 0:o.yOffset)!==null&&a!==void 0?a:0,c=t.pageX+l,d=t.pageY+u,p=s.getBoundingClientRect(),h=window.innerWidth-p.width;if(t.container){var f=t.container.getBoundingClientRect();h=f.left+(f.width-p.width)}c>h&&(c=t.pageX-s.clientWidth-l),typeof scrollX<"u"&&(c+=scrollX),typeof scrollY<"u"&&(d+=scrollY),s.style.left="".concat(Math.round(c),"px"),s.style.top="".concat(Math.round(d),"px"),this.toggle(!0)},n.prototype.toggle=function(t){this.updateClass(t)},n.prototype.destroy=function(){var t=this.element.parentNode;t&&t.removeChild(this.element)},n.class="ag-sparkline-tooltip",n}();function Xte(n){switch(n){case"circle":return ne.Circle;case"square":return ne.Square;case"diamond":return ne.Diamond;default:return ne.Circle}}function zO(n,t){t===void 0&&(t="solid");var e={solid:[],dash:[4,3],dot:[1,3],dashDot:[4,3,1,3],dashDotDot:[4,3,1,3,1,3],shortDot:[1,1],shortDash:[3,1],shortDashDot:[3,1,1,1],shortDashDotDot:[3,1,1,1,1,1],longDash:[8,3],longDashDot:[8,3,1,3],longDashDotDot:[8,3,1,3,1,3]},r={solid:[],dash:[3,3],dot:[0,3],dashDot:[3,3,0,3],dashDotDot:[3,3,0,3,0,3],shortDot:[0,2],shortDash:[2,2],shortDashDot:[2,2,0,2],shortDashDotDot:[2,2,0,2,0,2],longDash:[7,3],longDashDot:[7,3,0,3],longDashDotDot:[7,3,0,3,0,3]};return n==="round"||n==="square"?r[t]==null?(console.warn("'".concat(t,"' is not a valid 'lineDash' option.")),r.solid):r[t]:e[t]==null?(console.warn("'".concat(t,"' is not a valid 'lineDash' option.")),e.solid):e[t]}var xKe=function(){var n=function(t,e){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])},n(t,e)};return function(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");n(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}}(),EKe=Pr.extent,bKe=wp.BandScale,OKe=function(){function n(){this.enabled=!0,this.shape="circle",this.size=0,this.fill="rgb(124, 181, 236)",this.stroke="rgb(124, 181, 236)",this.strokeWidth=1,this.formatter=void 0}return n}(),RKe=function(){function n(){this.stroke="rgb(124, 181, 236)",this.strokeWidth=1}return n}(),TKe=function(){function n(){this.xLine={enabled:!0,stroke:"rgba(0,0,0, 0.54)",strokeWidth:1,lineDash:"solid",lineCap:void 0},this.yLine={enabled:!1,stroke:"rgba(0,0,0, 0.54)",strokeWidth:1,lineDash:"solid",lineCap:void 0}}return n}(),PKe=function(n){xKe(t,n);function t(){var e=n.call(this)||this;return e.fill="rgba(124, 181, 236, 0.25)",e.strokePath=new ne.Path,e.fillPath=new ne.Path,e.xCrosshairLine=new ne.Line,e.yCrosshairLine=new ne.Line,e.areaSparklineGroup=new ne.Group,e.xAxisLine=new ne.Line,e.markers=new ne.Group,e.markerSelection=ne.Selection.select(e.markers,function(){return e.markerFactory()}),e.markerSelectionData=[],e.marker=new OKe,e.line=new RKe,e.crosshairs=new TKe,e.rootGroup.append(e.areaSparklineGroup),e.xAxisLine.zIndex=Ai.AXIS_LINE_ZINDEX,e.fillPath.zIndex=Ai.SERIES_FILL_ZINDEX,e.strokePath.zIndex=Ai.SERIES_STROKE_ZINDEX,e.xCrosshairLine.zIndex=Ai.CROSSHAIR_ZINDEX,e.yCrosshairLine.zIndex=Ai.CROSSHAIR_ZINDEX,e.markers.zIndex=Ai.SERIES_MARKERS_ZINDEX,e.areaSparklineGroup.append([e.fillPath,e.xAxisLine,e.strokePath,e.xCrosshairLine,e.yCrosshairLine,e.markers]),e}return t.prototype.markerFactory=function(){var e=this.marker.shape,r=Xte(e);return new r},t.prototype.getNodeData=function(){return this.markerSelectionData},t.prototype.update=function(){var e=this.generateNodeData();if(e){var r=e.nodeData,i=e.fillData,o=e.strokeData;this.markerSelectionData=r,this.updateSelection(r),this.updateNodes(),this.updateStroke(o),this.updateFill(i)}},t.prototype.updateYScaleDomain=function(){var e=this,r=e.yData,i=e.yScale,o=EKe(r),a=0,s=1;o!==void 0&&(a=this.min=o[0],s=this.max=o[1]),a=a<0?a:0,s=s<0?0:s,i.domain=[a,s]},t.prototype.generateNodeData=function(){var e=this,r=e.data,i=e.yData,o=e.xData,a=e.xScale,s=e.yScale;if(r){for(var l=!(a instanceof bKe),u=l?0:a.bandwidth/2,c=i.length,d=[],p=[],h=[],f,v,g,y,m=s.convert(0),C=0;C<c;C++){var S=i[C],w=o[C],_=a.convert(l?a.toDomain(w):w)+u,x=S===void 0?NaN:s.convert(S);C+1<c&&(y=a.convert(l?a.toDomain(o[C+1]):o[C+1])+u),h.push({seriesDatum:{x:w,y:S},point:{x:_,y:x}}),S===void 0&&g!==void 0?(p.push({seriesDatum:void 0,point:{x:g,y:m}}),y!==void 0&&p.push({seriesDatum:void 0,point:{x:y,y:m}})):S!==void 0&&(p.push({seriesDatum:{x:w,y:S},point:{x:_,y:x}}),d.push({seriesDatum:{x:w,y:S},point:{x:_,y:x}}),f=f!==void 0?f:_,v=_),g=_}return p.push({seriesDatum:void 0,point:{x:v,y:m}},{seriesDatum:void 0,point:{x:f,y:m}}),{nodeData:d,fillData:p,strokeData:h}}},t.prototype.updateAxisLine=function(){var e=this,r=e.xScale,i=e.yScale,o=e.axis,a=e.xAxisLine;a.x1=r.range[0],a.x2=r.range[1],a.y1=a.y2=0,a.stroke=o.stroke,a.strokeWidth=o.strokeWidth;var s=i.convert(0);a.translationY=s},t.prototype.updateSelection=function(e){this.markerSelection.update(e)},t.prototype.updateNodes=function(){var e=this,r=this,i=r.highlightedDatum,o=r.highlightStyle,a=r.marker,s=o.size,l=o.fill,u=o.stroke,c=o.strokeWidth,d=a.formatter;this.markerSelection.each(function(p,h,f){var v=h.point,g=h.seriesDatum;if(v){var y=h===i,m=y&&l!==void 0?l:a.fill,C=y&&u!==void 0?u:a.stroke,S=y&&c!==void 0?c:a.strokeWidth,w=y&&s!==void 0?s:a.size,_;if(d){var x=f===0,b=f===e.markerSelectionData.length-1,O=g.y===e.min,P=g.y===e.max;_=d({datum:h,xValue:g.x,yValue:g.y,min:O,max:P,first:x,last:b,fill:m,stroke:C,strokeWidth:S,size:w,highlighted:y})}p.size=_&&_.size!=null?_.size:w,p.fill=_&&_.fill!=null?_.fill:m,p.stroke=_&&_.stroke!=null?_.stroke:C,p.strokeWidth=_&&_.strokeWidth!=null?_.strokeWidth:S,p.translationX=v.x,p.translationY=v.y,p.visible=_&&_.enabled!=null?_.enabled:a.enabled&&p.size>0}})},t.prototype.updateStroke=function(e){var r=this,i=r.strokePath,o=r.yData,a=r.line;if(!(o.length<2)){var s=i.path,l=e.length,u=!0;s.clear();for(var c=0;c<l;c++){var d=e[c],p=d.point,h=d.seriesDatum,f=p.x,v=p.y;h.y==null?u=!0:u?(s.moveTo(f,v),u=!1):s.lineTo(f,v)}i.lineJoin=i.lineCap="round",i.fill=void 0,i.stroke=a.stroke,i.strokeWidth=a.strokeWidth}},t.prototype.updateFill=function(e){var r=this,i=r.fillPath,o=r.yData,a=r.fill,s=i.path,l=e.length;if(s.clear(),!(o.length<2)){for(var u=0;u<l;u++){var c=e[u].point,d=c.x,p=c.y;u>0?s.lineTo(d,p):s.moveTo(d,p)}s.closePath(),i.lineJoin="round",i.stroke=void 0,i.fill=a}},t.prototype.updateXCrosshairLine=function(){var e,r=this,i=r.yScale,o=r.xCrosshairLine,a=r.highlightedDatum,s=r.crosshairs.xLine;if(!s.enabled||a==null){o.strokeWidth=0;return}o.y1=i.range[0],o.y2=i.range[1],o.x1=o.x2=0,o.stroke=s.stroke,o.strokeWidth=(e=s.strokeWidth)!==null&&e!==void 0?e:1,o.lineCap=s.lineCap==="round"||s.lineCap==="square"?s.lineCap:void 0;var l=s.lineDash;o.lineDash=Array.isArray(l)?l:zO(o.lineCap,s.lineDash),o.translationX=a.point.x},t.prototype.updateYCrosshairLine=function(){var e,r=this,i=r.xScale,o=r.yCrosshairLine,a=r.highlightedDatum,s=r.crosshairs.yLine;if(!s.enabled||a==null){o.strokeWidth=0;return}o.x1=i.range[0],o.x2=i.range[1],o.y1=o.y2=0,o.stroke=s.stroke,o.strokeWidth=(e=s.strokeWidth)!==null&&e!==void 0?e:1,o.lineCap=s.lineCap==="round"||s.lineCap==="square"?s.lineCap:void 0;var l=s.lineDash;o.lineDash=Array.isArray(l)?l:zO(o.lineCap,s.lineDash),o.translationY=a.point.y},t.prototype.getTooltipHtml=function(e){var r,i,o=this.dataType,a=e.seriesDatum,s=a.y,l=a.x,u=this.formatNumericDatum(s),c=o==="array"||o==="object"?this.formatDatum(l):void 0,d={content:u,title:c},p=(i=(r=this.processedOptions)===null||r===void 0?void 0:r.tooltip)===null||i===void 0?void 0:i.renderer;return p?Vg(p({context:this.context,datum:a,yValue:s,xValue:l}),d):Vg(d)},t.className="AreaSparkline",t}(e2),AKe=function(){var n=function(t,e){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])},n(t,e)};return function(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");n(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}}(),DKe=Pr.extent,G5=wp.BandScale,MKe=function(){function n(){this.enabled=!0,this.shape="circle",this.size=0,this.fill="rgb(124, 181, 236)",this.stroke="rgb(124, 181, 236)",this.strokeWidth=1,this.formatter=void 0}return n}(),LKe=function(){function n(){this.stroke="rgb(124, 181, 236)",this.strokeWidth=1}return n}(),FKe=function(){function n(){this.xLine={enabled:!0,stroke:"rgba(0,0,0, 0.54)",strokeWidth:1,lineDash:"solid",lineCap:void 0},this.yLine={enabled:!1,stroke:"rgba(0,0,0, 0.54)",strokeWidth:1,lineDash:"solid",lineCap:void 0}}return n}(),IKe=function(n){AKe(t,n);function t(){var e=n.call(this)||this;return e.linePath=new ne.Path,e.xCrosshairLine=new ne.Line,e.yCrosshairLine=new ne.Line,e.lineSparklineGroup=new ne.Group,e.markers=new ne.Group,e.markerSelection=ne.Selection.select(e.markers,function(){return e.markerFactory()}),e.markerSelectionData=[],e.marker=new MKe,e.line=new LKe,e.crosshairs=new FKe,e.rootGroup.append(e.lineSparklineGroup),e.linePath.zIndex=Ai.SERIES_STROKE_ZINDEX,e.xCrosshairLine.zIndex=Ai.CROSSHAIR_ZINDEX,e.yCrosshairLine.zIndex=Ai.CROSSHAIR_ZINDEX,e.markers.zIndex=Ai.SERIES_MARKERS_ZINDEX,e.lineSparklineGroup.append([e.linePath,e.xCrosshairLine,e.yCrosshairLine,e.markers]),e}return t.prototype.getNodeData=function(){return this.markerSelectionData},t.prototype.markerFactory=function(){var e=this.marker.shape,r=Xte(e);return new r},t.prototype.onMarkerShapeChange=function(){this.markerSelection=this.markerSelection.clear(),this.scheduleLayout()},t.prototype.update=function(){var e=this.generateNodeData();e&&(this.markerSelectionData=e,this.updateSelection(e),this.updateNodes(),this.updateLine())},t.prototype.updateYScaleDomain=function(){var e=this,r=e.yData,i=e.yScale,o=DKe(r),a=0,s=1;if(o!==void 0&&(a=this.min=o[0],s=this.max=o[1]),a===s){var l=Math.abs(a*.01);a-=l,s+=l}i.domain=[a,s]},t.prototype.generateNodeData=function(){var e=this,r=e.data,i=e.yData,o=e.xData,a=e.xScale,s=e.yScale;if(r){for(var l=!(a instanceof G5),u=l?0:a.bandwidth/2,c=[],d=0;d<i.length;d++){var p=i[d],h=o[d];if(p!=null){var f=a.convert(l?a.toDomain(h):h)+u,v=p===void 0?NaN:s.convert(p);c.push({seriesDatum:{x:h,y:p},point:{x:f,y:v}})}}return c}},t.prototype.updateSelection=function(e){this.markerSelection.update(e)},t.prototype.updateNodes=function(){var e=this,r=this,i=r.highlightedDatum,o=r.highlightStyle,a=r.marker,s=o.size,l=o.fill,u=o.stroke,c=o.strokeWidth,d=a.formatter;this.markerSelection.each(function(p,h,f){var v=h===i,g=v&&l!==void 0?l:a.fill,y=v&&u!==void 0?u:a.stroke,m=v&&c!==void 0?c:a.strokeWidth,C=v&&s!==void 0?s:a.size,S,w=h.seriesDatum,_=h.point;if(d){var x=f===0,b=f===e.markerSelectionData.length-1,O=w.y===e.min,P=w.y===e.max;S=d({datum:h,xValue:w.x,yValue:w.y,min:O,max:P,first:x,last:b,fill:g,stroke:y,strokeWidth:m,size:C,highlighted:v})}p.size=S&&S.size!=null?S.size:C,p.fill=S&&S.fill!=null?S.fill:g,p.stroke=S&&S.stroke!=null?S.stroke:y,p.strokeWidth=S&&S.strokeWidth!=null?S.strokeWidth:m,p.translationX=_.x,p.translationY=_.y,p.visible=S&&S.enabled!=null?S.enabled:a.enabled&&p.size>0})},t.prototype.updateLine=function(){var e=this,r=e.linePath,i=e.yData,o=e.xData,a=e.xScale,s=e.yScale,l=e.line;if(!(i.length<2)){var u=!(a instanceof G5),c=r.path,d=i.length,p=u?0:a.bandwidth/2,h=!0;c.clear();for(var f=0;f<d;f++){var v=o[f],g=i[f],y=a.convert(u?a.toDomain(v):v)+p,m=g===void 0?NaN:s.convert(g);g==null?h=!0:h?(c.moveTo(y,m),h=!1):c.lineTo(y,m)}r.fill=void 0,r.stroke=l.stroke,r.strokeWidth=l.strokeWidth}},t.prototype.updateXCrosshairLine=function(){var e,r=this,i=r.yScale,o=r.xCrosshairLine,a=r.highlightedDatum,s=r.crosshairs.xLine;if(!s.enabled||a==null){o.strokeWidth=0;return}o.y1=i.range[0],o.y2=i.range[1],o.x1=o.x2=0,o.stroke=s.stroke,o.strokeWidth=(e=s.strokeWidth)!==null&&e!==void 0?e:1,o.lineCap=s.lineCap==="round"||s.lineCap==="square"?s.lineCap:void 0;var l=s.lineDash;o.lineDash=Array.isArray(l)?l:zO(o.lineCap,s.lineDash),o.translationX=a.point.x},t.prototype.updateYCrosshairLine=function(){var e,r=this,i=r.xScale,o=r.yCrosshairLine,a=r.highlightedDatum,s=r.crosshairs.yLine;if(!s.enabled||a==null){o.strokeWidth=0;return}o.x1=i.range[0],o.x2=i.range[1],o.y1=o.y2=0,o.stroke=s.stroke,o.strokeWidth=(e=s.strokeWidth)!==null&&e!==void 0?e:1,o.lineCap=s.lineCap==="round"||s.lineCap==="square"?s.lineCap:void 0;var l=s.lineDash;o.lineDash=Array.isArray(l)?l:zO(o.lineCap,s.lineDash),o.translationY=a.point.y},t.prototype.getTooltipHtml=function(e){var r,i,o=this.dataType,a=e.seriesDatum,s=a.y,l=a.x,u=this.formatNumericDatum(s),c=o==="array"||o==="object"?this.formatDatum(l):void 0,d={content:u,title:c},p=(i=(r=this.processedOptions)===null||r===void 0?void 0:r.tooltip)===null||i===void 0?void 0:i.renderer;return p?Vg(p({context:this.context,datum:a,yValue:s,xValue:l}),d):Vg(d)},t.className="LineSparkline",t}(e2),NKe=function(){function n(){this.enabled=!0,this.fontSize=8,this.fontFamily="Verdana, sans-serif",this.fontStyle=void 0,this.fontWeight=void 0,this.color="rgba(70, 70, 70, 1)"}return n}(),qte=function(){var n=function(t,e){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])},n(t,e)};return function(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");n(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}}(),kKe=Pr.extent,JI;(function(n){n[n.Rect=0]="Rect",n[n.Label=1]="Label"})(JI||(JI={}));var zu;(function(n){n.InsideBase="insideBase",n.InsideEnd="insideEnd",n.Center="center",n.OutsideEnd="outsideEnd"})(zu||(zu={}));var GKe=function(n){qte(t,n);function t(){var e=n!==null&&n.apply(this,arguments)||this;return e.formatter=void 0,e.placement=zu.InsideEnd,e}return t}(NKe),Zte=function(n){qte(t,n);function t(){var e=n.call(this)||this;return e.fill="rgb(124, 181, 236)",e.stroke="silver",e.strokeWidth=0,e.paddingInner=.1,e.paddingOuter=.2,e.valueAxisDomain=void 0,e.formatter=void 0,e.axisLine=new ne.Line,e.bandWidth=0,e.sparklineGroup=new ne.Group,e.rectGroup=new ne.Group,e.labelGroup=new ne.Group,e.rectSelection=ne.Selection.select(e.rectGroup,ne.Rect),e.labelSelection=ne.Selection.select(e.labelGroup,ne.Text),e.nodeSelectionData=[],e.label=new GKe,e.rootGroup.append(e.sparklineGroup),e.rectGroup.zIndex=Ai.SERIES_FILL_ZINDEX,e.axisLine.zIndex=Ai.AXIS_LINE_ZINDEX,e.labelGroup.zIndex=Ai.SERIES_LABEL_ZINDEX,e.sparklineGroup.append([e.rectGroup,e.axisLine,e.labelGroup]),e.axisLine.lineCap="round",e.label.enabled=!1,e}return t.prototype.getNodeData=function(){return this.nodeSelectionData},t.prototype.update=function(){this.updateSelections(),this.updateNodes()},t.prototype.updateSelections=function(){var e=this.generateNodeData();e&&(this.nodeSelectionData=e,this.updateRectSelection(e),this.updateLabelSelection(e))},t.prototype.updateNodes=function(){this.updateRectNodes(),this.updateLabelNodes()},t.prototype.calculateStep=function(e){var r,i=this,o=i.xScale,a=i.paddingInner,s=i.paddingOuter,l=i.smallestInterval,u=o.domain[1]-o.domain[0],c=u/((r=l==null?void 0:l.x)!==null&&r!==void 0?r:1)+1,d=50,p=Math.min(c,d),h=p-1,f=e/Math.max(1,2*s+h*a+p);return f},t.prototype.updateYScaleDomain=function(){var e=this,r=e.yScale,i=e.yData,o=e.valueAxisDomain,a=kKe(i),s=0,l=1;a!==void 0&&(s=this.min=a[0],l=this.max=a[1]),s=s<0?s:0,l=l<0?0:l,o&&(o[1]<l&&(o[1]=l),o[0]>s&&(o[0]=s)),r.domain=o||[s,l]},t.prototype.updateRectSelection=function(e){this.rectSelection.update(e)},t.prototype.updateRectNodes=function(){var e=this,r=this,i=r.highlightedDatum,o=r.formatter,a=r.fill,s=r.stroke,l=r.strokeWidth,u=this.highlightStyle,c=u.fill,d=u.stroke,p=u.strokeWidth;this.rectSelection.each(function(h,f,v){var g=f===i,y=g&&c!==void 0?c:a,m=g&&d!==void 0?d:s,C=g&&p!==void 0?p:l,S,w=f.x,_=f.y,x=f.width,b=f.height,O=f.seriesDatum;if(o){var P=v===0,D=v===e.nodeSelectionData.length-1,N=O.y===e.min,L=O.y===e.max;S=o({datum:f,xValue:O.x,yValue:O.y,width:x,height:b,min:N,max:L,first:P,last:D,fill:y,stroke:m,strokeWidth:C,highlighted:g})}h.fill=S&&S.fill||y,h.stroke=S&&S.stroke||m,h.strokeWidth=S&&S.strokeWidth||C,h.x=h.y=0,h.width=x,h.height=b,h.visible=h.height>0,h.translationX=w,h.translationY=_})},t.prototype.updateLabelSelection=function(e){this.labelSelection.update(e,function(r){r.tag=JI.Label,r.pointerEvents=ne.PointerEvents.None})},t.prototype.updateLabelNodes=function(){var e=this.label,r=e.enabled,i=e.fontStyle,o=e.fontWeight,a=e.fontSize,s=e.fontFamily,l=e.color;this.labelSelection.each(function(u,c){var d=c.label;d&&r?(u.fontStyle=i,u.fontWeight=o,u.fontSize=a,u.fontFamily=s,u.textAlign=d.textAlign,u.textBaseline=d.textBaseline,u.text=d.text,u.x=d.x,u.y=d.y,u.fill=l,u.visible=!0):u.visible=!1})},t.prototype.getTooltipHtml=function(e){var r,i,o=this.dataType,a=e.seriesDatum,s=a.y,l=a.x,u=this.formatNumericDatum(s),c=o==="array"||o==="object"?this.formatDatum(l):void 0,d={content:u,title:c},p=(i=(r=this.processedOptions)===null||r===void 0?void 0:r.tooltip)===null||i===void 0?void 0:i.renderer;return p?Vg(p({context:this.context,datum:a,yValue:s,xValue:l}),d):Vg(d)},t.prototype.formatLabelValue=function(e){return e%1!==0?e.toFixed(1):e.toFixed(0)},t}(e2),VKe=function(){var n=function(t,e){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])},n(t,e)};return function(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");n(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}}(),BKe=Pr.isNumber,V5=wp.BandScale,HKe=function(n){VKe(t,n);function t(){return n!==null&&n.apply(this,arguments)||this}return t.prototype.updateYScaleRange=function(){var e=this,r=e.seriesRect,i=e.yScale;i.range=[0,r.width]},t.prototype.updateXScaleRange=function(){var e=this,r=e.xScale,i=e.seriesRect,o=e.paddingOuter,a=e.paddingInner;if(r instanceof V5)r.range=[0,i.height],r.paddingInner=a,r.paddingOuter=o;else{var s=this.calculateStep(i.height),l=s*o;this.bandWidth=s*(1-a),r.range=[l,i.height-l-this.bandWidth]}},t.prototype.updateAxisLine=function(){var e=this,r=e.yScale,i=e.axis,o=e.axisLine,a=e.seriesRect,s=i.strokeWidth;o.x1=0,o.x2=0,o.y1=0,o.y2=a.height,o.stroke=i.stroke,o.strokeWidth=s+(s%2===1?1:0);var l=r.convert(0);o.translationX=l},t.prototype.generateNodeData=function(){var e=this,r=e.data,i=e.yData,o=e.xData,a=e.xScale,s=e.yScale,l=e.fill,u=e.stroke,c=e.strokeWidth,d=e.label;if(r){for(var p=d.fontStyle,h=d.fontWeight,f=d.fontSize,v=d.fontFamily,g=d.color,y=d.formatter,m=d.placement,C=[],S=s.convert(0),w=!(a instanceof V5),_=0,x=i.length;_<x;_++){var b=i[_],O=o[_],P=b===void 0;P&&(b=0);var D=a.convert(w?a.toDomain(O):O),N=Math.min(b===void 0?NaN:s.convert(b),S),L=Math.max(b===void 0?NaN:s.convert(b),S),I=w?this.bandWidth:a.bandwidth,k=L-N,H={x:S,y:D},$=void 0;y?$=y({value:b}):$=b!==void 0&&BKe(b)?this.formatLabelValue(b):"";var V=D+I/2,W=void 0,K="middle",Z=void 0,Q=b!==void 0&&b>=0,ce=4;if(m===zu.Center)W=N+k/2,Z="center";else if(m===zu.OutsideEnd)W=N+(Q?k+ce:-ce),Z=Q?"start":"end";else if(m===zu.InsideEnd){W=N+(Q?k-ce:ce),Z=Q?"end":"start";var ue=ne.HdpiCanvas.getTextSize($,v),se=ue.width||20,q=S+se,he=S-se,be=Q&&W<q||!Q&&W>he;be&&(W=S+ce*(Q?1:-1),Z=Q?"start":"end")}else W=S+ce*(Q?1:-1),Z=Q?"start":"end";C.push({x:N,y:D,width:k,height:I,fill:l,stroke:u,strokeWidth:c,seriesDatum:{x:O,y:P?void 0:b},point:H,label:{x:W,y:V,text:$,fontStyle:p,fontWeight:h,fontSize:f,fontFamily:v,textAlign:Z,textBaseline:K,fill:g}})}return C}},t.prototype.getDistance=function(e,r){return Math.abs(e.y-r.y)},t.className="BarSparkline",t}(Zte),jKe=function(){var n=function(t,e){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])},n(t,e)};return function(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");n(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}}(),$Ke=Pr.isNumber,B5=wp.BandScale,WKe=function(n){jKe(t,n);function t(){return n!==null&&n.apply(this,arguments)||this}return t.prototype.updateYScaleRange=function(){var e=this,r=e.seriesRect,i=e.yScale;i.range=[r.height,0]},t.prototype.updateXScaleRange=function(){var e=this,r=e.xScale,i=e.seriesRect,o=e.paddingOuter,a=e.paddingInner;if(r instanceof B5)r.range=[0,i.width],r.paddingInner=a,r.paddingOuter=o;else{var s=this.calculateStep(i.width),l=s*o;this.bandWidth=s*(1-a),r.range=[l,i.width-l-this.bandWidth]}},t.prototype.updateAxisLine=function(){var e=this,r=e.yScale,i=e.axis,o=e.axisLine,a=e.seriesRect,s=i.strokeWidth;o.x1=0,o.x2=a.width,o.y1=0,o.y2=0,o.stroke=i.stroke,o.strokeWidth=s+(s%2===1?1:0);var l=r.convert(0);o.translationY=l},t.prototype.generateNodeData=function(){var e=this,r=e.data,i=e.yData,o=e.xData,a=e.xScale,s=e.yScale,l=e.fill,u=e.stroke,c=e.strokeWidth,d=e.label;if(r){for(var p=d.fontStyle,h=d.fontWeight,f=d.fontSize,v=d.fontFamily,g=d.color,y=d.formatter,m=d.placement,C=[],S=s.convert(0),w=!(a instanceof B5),_=0,x=i.length;_<x;_++){var b=i[_],O=o[_],P=b===void 0;P&&(b=0);var D=Math.min(b===void 0?NaN:s.convert(b),S),N=a.convert(w?a.toDomain(O):O),L=Math.max(b===void 0?NaN:s.convert(b),S),I=w?this.bandWidth:a.bandwidth,k=L-D,H={x:N+I/2,y:S},$=void 0;y?$=y({value:b}):$=b!==void 0&&$Ke(b)?this.formatLabelValue(b):"";var V=N+I/2,W=void 0,K="center",Z=void 0,Q=b!==void 0&&b>=0,ce=2;if(m===zu.Center)W=D+k/2,Z="middle";else if(m===zu.OutsideEnd)W=D+(Q?-ce:k+ce),Z=Q?"bottom":"top";else if(m===zu.InsideEnd){W=D+(Q?ce:k-ce),Z=Q?"top":"bottom";var ue=ne.HdpiCanvas.getTextSize($,v),se=ue.height||10,q=S-se,he=S+se,be=Q&&W>q||!Q&&W<he;be&&(W=S+ce*(Q?-1:1),Z=Q?"bottom":"top")}else W=S+ce*(Q?-1:1),Z=Q?"bottom":"top";C.push({x:N,y:D,width:I,height:k,fill:l,stroke:u,strokeWidth:c,seriesDatum:{x:O,y:P?void 0:b},point:H,label:{x:V,y:W,text:$,fontStyle:p,fontWeight:h,fontSize:f,fontFamily:v,textAlign:K,textBaseline:Z,fill:g}})}return C}},t.className="ColumnSparkline",t}(Zte),UKe=Pr.isNumber,zKe=function(){function n(){}return n.create=function(t,e){t=Pr.deepClone(t);var r=KKe(t.type);return e&&(r.tooltip=e),XKe(r,t),YKe(r,t),t.data&&(r.data=t.data),r.processedOptions=t,r},n}();function KKe(n){switch(n===void 0&&(n="line"),n){case"column":return new WKe;case"bar":return new HKe;case"area":return new PKe;case"line":default:return new IKe}}function YKe(n,t){switch(t.type){case"bar":H5(n,t);break;case"column":H5(n,t);break;case"area":ZKe(n,t);break;case"line":default:qKe(n,t);break}}function XKe(n,t){Ze(n,"context",t.context,t),Ze(n,"width",t.width,t),Ze(n,"height",t.height,t),Ze(n,"container",t.container,t),Ze(n,"xKey",t.xKey,t),Ze(n,"yKey",t.yKey,t),t.padding&&QKe(n.padding,t.padding),t.axis&&e9e(n.axis,t.axis),t.highlightStyle&&t9e(n.highlightStyle,t.highlightStyle)}function qKe(n,t){t.marker&&Qte(n.marker,t.marker),t.line&&Jte(n.line,t.line),t.crosshairs&&ere(n.crosshairs,t.crosshairs)}function ZKe(n,t){Ze(n,"fill",t.fill,t),t.marker&&Qte(n.marker,t.marker),t.line&&Jte(n.line,t.line),t.crosshairs&&ere(n.crosshairs,t.crosshairs)}function H5(n,t){Ze(n,"valueAxisDomain",t.valueAxisDomain,t),Ze(n,"fill",t.fill,t),Ze(n,"stroke",t.stroke,t),Ze(n,"strokeWidth",t.strokeWidth,t),Ze(n,"paddingInner",t.paddingInner,t),Ze(n,"paddingOuter",t.paddingOuter,t),Ze(n,"formatter",t.formatter,t),t.label&&JKe(n.label,t.label)}function QKe(n,t){Ze(n,"top",t.top,t),Ze(n,"right",t.right,t),Ze(n,"bottom",t.bottom,t),Ze(n,"left",t.left,t)}function Qte(n,t){Ze(n,"enabled",t.enabled,t),Ze(n,"size",t.size,t),Ze(n,"shape",t.shape,t),Ze(n,"fill",t.fill,t),Ze(n,"stroke",t.stroke,t),Ze(n,"strokeWidth",t.strokeWidth,t),Ze(n,"formatter",t.formatter,t)}function JKe(n,t){Ze(n,"enabled",t.enabled,t),Ze(n,"fontStyle",t.fontStyle,t),Ze(n,"fontWeight",t.fontWeight,t),Ze(n,"fontSize",t.fontSize,t),Ze(n,"fontFamily",t.fontFamily,t),Ze(n,"textAlign",t.textAlign,t),Ze(n,"textBaseline",t.textBaseline,t),Ze(n,"color",t.color,t),Ze(n,"formatter",t.formatter,t),Ze(n,"placement",t.placement,t)}function Jte(n,t){Ze(n,"stroke",t.stroke,t),Ze(n,"strokeWidth",t.strokeWidth,t)}function e9e(n,t){Ze(n,"type",t.type,t),Ze(n,"stroke",t.stroke,t),Ze(n,"strokeWidth",t.strokeWidth,t)}function t9e(n,t){Ze(n,"fill",t.fill,t),Ze(n,"size",t.size,t),Ze(n,"stroke",t.stroke,t),Ze(n,"strokeWidth",t.strokeWidth,t)}function ere(n,t){n.xLine&&t.xLine&&j5(n.xLine,t.xLine),n.yLine&&t.yLine&&j5(n.yLine,t.yLine)}function j5(n,t){Ze(n,"enabled",t.enabled,t),Ze(n,"stroke",t.stroke,t),Ze(n,"strokeWidth",t.strokeWidth,t),Ze(n,"lineDash",t.lineDash,t),Ze(n,"lineCap",t.lineCap,t)}var $5={};function r9e(n,t){$5[t]||(n(),$5[t]=!0)}var W5=function(n,t,e){if(UKe(t))return!0;var r="AG Charts: ".concat(n," must be a number, the value you provided is not a valid number. Using the default of ").concat(e,"px.");return r9e(function(){return console.warn(r)},"".concat(n," not a number")),!1},n9e={xOffset:W5,yOffset:W5};function Ze(n,t,e,r){if(t in r)if(t in n){var i=n9e[t],o=i?i(t,e,n[t]):!0;o&&n[t]!==e&&(n[t]=e)}else console.warn("Property ".concat(t," does not exist on the target object."))}var i9e=function(){var n=function(t,e){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])},n(t,e)};return function(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");n(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}}(),e1=function(){return e1=Object.assign||function(n){for(var t,e=1,r=arguments.length;e<r;e++){t=arguments[e];for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(n[i]=t[i])}return n},e1.apply(this,arguments)},OM=function(n,t,e,r){var i=arguments.length,o=i<3?t:r===null?r=Object.getOwnPropertyDescriptor(t,e):r,a;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(n,t,e,r);else for(var s=n.length-1;s>=0;s--)(a=n[s])&&(o=(i<3?a(o):i>3?a(t,e,o):a(t,e))||o);return i>3&&o&&Object.defineProperty(t,e,o),o},o9e=function(n){i9e(t,n);function t(){return n.call(this,t.TEMPLATE)||this}return t.prototype.init=function(e){var r=this,i=!0,o=function(){var s=r.getGui(),l=s.clientWidth,u=s.clientHeight;if(!(l===0||u===0))if(i){var c=e1({data:e.value,width:l,height:u,context:{data:e.data}},e.sparklineOptions);r.sparkline=zKe.create(c,r.sparklineTooltipSingleton.getSparklineTooltip()),r.eSparkline.appendChild(r.sparkline.canvasElement),i=!1}else r.sparkline.width=l,r.sparkline.height=u},a=this.resizeObserverService.observeResize(this.getGui(),o);this.addDestroyFunc(function(){return a()})},t.prototype.refresh=function(e){return this.sparkline?(this.sparkline.data=e.value,!0):!1},t.prototype.destroy=function(){this.sparkline&&this.sparkline.destroy(),n.prototype.destroy.call(this)},t.TEMPLATE=`<div class="ag-sparkline-wrapper">
            <span ref="eSparkline"></span>
        </div>`,OM([j("eSparkline")],t.prototype,"eSparkline",void 0),OM([E("resizeObserverService")],t.prototype,"resizeObserverService",void 0),OM([E("sparklineTooltipSingleton")],t.prototype,"sparklineTooltipSingleton",void 0),t}(ae),a9e=function(){var n=function(t,e){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])},n(t,e)};return function(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");n(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}}(),RM=function(n,t,e,r){var i=arguments.length,o=i<3?t:r===null?r=Object.getOwnPropertyDescriptor(t,e):r,a;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(n,t,e,r);else for(var s=n.length-1;s>=0;s--)(a=n[s])&&(o=(i<3?a(o):i>3?a(t,e,o):a(t,e))||o);return i>3&&o&&Object.defineProperty(t,e,o),o},s9e=function(n){a9e(t,n);function t(){return n!==null&&n.apply(this,arguments)||this}return t.prototype.postConstruct=function(){this.tooltip=new fv},t.prototype.getSparklineTooltip=function(){return this.tooltip},t.prototype.destroyTooltip=function(){this.tooltip&&this.tooltip.destroy()},RM([z],t.prototype,"postConstruct",null),RM([ar],t.prototype,"destroyTooltip",null),t=RM([ie("sparklineTooltipSingleton")],t),t}(X),l9e="31.1.1",u9e={version:l9e,moduleName:pe.SparklinesModule,beans:[s9e],userComponents:[{componentName:"agSparklineCellRenderer",componentClass:o9e}],dependantModules:[jn]};const c9e=[eNe,aNe,Cke,CVe,PVe,l4e,f4e,F4e,V4e,Hte,j4e,OZ,P6e,U6e,wV,uKe,hKe,u9e];He.registerModules(c9e);const d9e=({userSelected:n,handleSnackbarOpen:t})=>{const[e,r]=F.useState([]),i=F.useRef(),o=[{field:"ФИО",cellDataType:"text",filter:"agMultiColumnFilter"},{field:"Дата рождения",cellDataType:"dateString"},{field:"Номер телефона",cellDataType:"text"},{field:"Адрес",cellDataType:"text"},{field:"Пол",cellDataType:"text"}],a=F.useMemo(()=>({enableRowGroup:!0,enablePivot:!0,enableValue:!0,editable:!0}),[]),s=F.useMemo(()=>({minWidth:200}),[]),l=F.useCallback(()=>{window.colState=i.current.api.getColumnState(),t("success","Порядок столбцов сохранен")},[]),u=F.useCallback(()=>{if(!window.colState){t("error","Нет столбцов по умолчанию, сначала сохраните нужное состояние");return}i.current.api.applyColumnState({state:window.colState,applyOrder:!0}),t("success","Порядок столбцов сброшен")},[]),c=F.useCallback(()=>{i.current.api.resetColumnState(),t("success","Порядок столбцов восстановлен")},[]),d=F.useCallback(()=>{i.current.api.applyColumnState({defaultState:{sort:null}}),t("success","Сортировка сброшена")},[]),p=F.useCallback(()=>{i.current.api.applyColumnState({state:[{colId:"ФИО",sort:"asc",sortIndex:0},{colId:"Дата рождения",sort:"asc",sortIndex:1}],defaultState:{sort:null}}),t("success","Сортировка настроена")},[]),h=F.useMemo(()=>({type:"fitGridWidth",defaultMinWidth:200,columnLimits:[{colId:"ФИО",minWidth:270},{colId:"Дата рождения",minWidth:130},{colId:"Номер телефона",minWidth:170},{colId:"Адрес",minWidth:400},{colId:"Пол",minWidth:100}]}),[]),f=F.useCallback(()=>{const m=[];Xh.forEach(C=>{const S={};S.id=C.id,C.params.value.forEach(w=>{S[w.title]=w.value}),m.push(S)}),i.current.api.setGridOption("rowData",m)},[Xh]),[v,g]=F.useState(null),y=F.useCallback(()=>{const m=i.current.api.getSelectedRows();m.length===1&&n(m[0].id)},[n]);return F.useEffect(()=>{v!==null&&n(v)},[n,v]),G.jsxs("div",{className:"table-container",children:[G.jsx("div",{className:"header",children:G.jsxs("div",{className:"btn-section",children:[G.jsxs("div",{className:"btn-group",children:[G.jsx("div",{className:"group-title",children:"Порядок столбцов"}),G.jsxs(wj,{children:[G.jsx(cd,{variant:"contained",onClick:l,children:"Сохранить"}),G.jsx(cd,{variant:"contained",onClick:u,children:"Восстановить"}),G.jsx(cd,{variant:"contained",onClick:c,children:"Сбросить"})]})]}),G.jsxs("div",{className:"btn-group",children:[G.jsx("div",{className:"group-title",children:"Сортировка"}),G.jsxs(wj,{children:[G.jsx(cd,{variant:"contained",onClick:p,children:"ФИО, затем дата рождения"}),G.jsx(cd,{variant:"contained",onClick:d,children:"Очистить"})]})]})]})}),G.jsx("div",{style:{height:"700px",padding:"20px"},className:"ag-theme-quartz",children:G.jsx(v7.AgGridReact,{ref:i,rowData:e,columnDefs:o,defaultColDef:a,autoGroupColumnDef:s,rowGroupPanelShow:"always",pivotPanelShow:"always",autoSizeStrategy:h,rowSelection:"single",onSelectionChanged:y,onGridReady:f})})]})};var t2={},p9e=fc;Object.defineProperty(t2,"__esModule",{value:!0});var tre=t2.default=void 0,h9e=p9e(pf()),f9e=G;tre=t2.default=(0,h9e.default)((0,f9e.jsx)("path",{d:"M6.23 20.23 8 22l10-10L8 2 6.23 3.77 14.46 12z"}),"ArrowForwardIos");const v9e=({handleSnackbarOpen:n})=>{const[t,e]=F.useState(null),r=a=>{e(a)},[i,o]=F.useState(!1);return F.useEffect(()=>{t!==null&&o(!0)},[t]),G.jsxs("div",{className:"home",children:[G.jsxs("div",{className:"charts",children:[G.jsx(Pwe,{}),G.jsx(r0e,{}),G.jsx(h0e,{})]}),G.jsx("div",{children:G.jsx(d9e,{userSelected:r,handleSnackbarOpen:n})}),i&&G.jsx(fK,{to:t!==null?`user/${parseInt(t)}`:"#",children:G.jsx(F9,{color:"primary",className:"navigate-button animate-slide-right",style:{position:"fixed",bottom:16,right:16},children:G.jsx(tre,{})})})]})},rre=F.createContext(null);function g9e(){const[n,t]=F.useState(null);return F.useEffect(()=>{t(`mui-p-${Math.round(Math.random()*1e5)}`)},[]),n}function y9e(n){const{children:t,value:e}=n,r=g9e(),i=F.useMemo(()=>({idPrefix:r,value:e}),[r,e]);return G.jsx(rre.Provider,{value:i,children:t})}function nre(){return F.useContext(rre)}function ire(n,t){const{idPrefix:e}=n;return e===null?null:`${n.idPrefix}-P-${t}`}function ore(n,t){const{idPrefix:e}=n;return e===null?null:`${n.idPrefix}-T-${t}`}const m9e=["children"],C9e=F.forwardRef(function(t,e){const{children:r}=t,i=Le(t,m9e),o=nre();if(o===null)throw new TypeError("No TabContext provided");const a=F.Children.map(r,s=>F.isValidElement(s)?F.cloneElement(s,{"aria-controls":ire(o,s.props.value),id:ore(o,s.props.value)}):null);return G.jsx(Mfe,B({},i,{ref:e,value:o.value,children:a}))}),S9e=C9e;function w9e(n){return zt("MuiTabPanel",n)}Gt("MuiTabPanel",["root"]);const _9e=["children","className","value"],x9e=n=>{const{classes:t}=n;return Wt({root:["root"]},w9e,t)},E9e=Ke("div",{name:"MuiTabPanel",slot:"Root",overridesResolver:(n,t)=>t.root})(({theme:n})=>({padding:n.spacing(3)})),b9e=F.forwardRef(function(t,e){const r=Ir({props:t,name:"MuiTabPanel"}),{children:i,className:o,value:a}=r,s=Le(r,_9e),l=B({},r),u=x9e(l),c=nre();if(c===null)throw new TypeError("No TabContext provided");const d=ire(c,a),p=ore(c,a);return G.jsx(E9e,B({"aria-labelledby":p,className:st(u.root,o),hidden:a!==c.value,id:d,ref:e,role:"tabpanel",ownerState:l},s,{children:a===c.value&&i}))}),Tx=b9e;var r2={},O9e=fc;Object.defineProperty(r2,"__esModule",{value:!0});var are=r2.default=void 0,R9e=O9e(pf()),T9e=G;are=r2.default=(0,R9e.default)((0,T9e.jsx)("path",{d:"M3 17.25V21h3.75L17.81 9.94l-3.75-3.75zM20.71 7.04c.39-.39.39-1.02 0-1.41l-2.34-2.34a.9959.9959 0 0 0-1.41 0l-1.83 1.83 3.75 3.75z"}),"Edit");var n2={},P9e=fc;Object.defineProperty(n2,"__esModule",{value:!0});var sre=n2.default=void 0,A9e=P9e(pf()),D9e=G;sre=n2.default=(0,A9e.default)((0,D9e.jsx)("path",{d:"M9 16.2 4.8 12l-1.4 1.4L9 19 21 7l-1.4-1.4z"}),"Done");var i2={},M9e=fc;Object.defineProperty(i2,"__esModule",{value:!0});var lre=i2.default=void 0,L9e=M9e(pf()),F9e=G;lre=i2.default=(0,L9e.default)((0,F9e.jsx)("path",{d:"M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"}),"Close");const Px=({data:n,handleSnackbarOpen:t})=>{const[e,r]=F.useState(null),[i,o]=F.useState({}),a=c=>{r(c),o({...n.value[c]})},s=()=>{console.log("Изменения сохранены в консоли:",i),t("success","Изменения сохранены в консоли"),r(null)},l=()=>{t("warning","Изменения отклонены"),r(null)},u=c=>{const{name:d,value:p}=c.target;o({...i,[d]:p})};return G.jsx("div",{children:G.jsxs("table",{style:{width:"100%",tableLayout:"fixed"},children:[G.jsxs("colgroup",{children:[G.jsx("col",{style:{width:"150px"}}),G.jsx("col",{style:{width:"310px"}})]}),G.jsx("tbody",{children:n.value.map((c,d)=>G.jsxs("tr",{children:[G.jsx("td",{style:{paddingRight:"20px"},children:G.jsx("strong",{children:c.title})}),G.jsx("td",{children:e===d?G.jsxs("div",{style:{display:"flex",flexDirection:"row",flexWrap:"nowrap"},children:[G.jsx("button",{onClick:s,children:G.jsx(sre,{fontSize:"small"})}),G.jsx("button",{onClick:l,style:{paddingRight:"5px",alignContent:"center"},children:G.jsx(lre,{fontSize:"small"})}),c.type==="text"?G.jsx("input",{type:"text",name:"value",value:i.value||"",onChange:u,style:{width:"100%"}}):c.type==="dropList"?G.jsx("select",{name:"value",value:i.value||"",onChange:u,style:{width:"100%"},children:c.variants.map((p,h)=>G.jsx("option",{value:p,children:p},h))}):c.value]}):G.jsxs(G.Fragment,{children:[G.jsx("button",{onClick:()=>a(d),style:{paddingRight:"5px"},children:G.jsx(are,{fontSize:"small"})}),c.value]})})]},d))})]})})};var o2={},I9e=fc;Object.defineProperty(o2,"__esModule",{value:!0});var ure=o2.default=void 0,N9e=I9e(pf()),k9e=G;ure=o2.default=(0,N9e.default)((0,k9e.jsx)("path",{d:"M17.77 3.77 16 2 6 12l10 10 1.77-1.77L9.54 12z"}),"ArrowBackIosNew");const G9e=({handleSnackbarOpen:n})=>{const{id:t}=coe(),e=Xh.find(l=>l.id===parseInt(t));if(!e)return G.jsx("div",{children:"User not found"});const{params:r,modules:i}=e,[o,a]=Os.useState("1"),s=(l,u)=>{a(u)};return G.jsxs("div",{style:{display:"flex",maxWidth:"790px",margin:"auto",alignItems:"flex-start"},children:[G.jsx(fK,{to:"/",children:G.jsx(F9,{color:"primary",className:"",style:{marginTop:"25px"},children:G.jsx(ure,{})})}),G.jsx("div",{style:{display:"flex",maxWidth:"700px",margin:"auto",marginTop:"25px",boxShadow:"0px 0px 10px rgba(0, 0, 0, 0.5)"},children:G.jsx(Sj,{sx:{width:"100%",typography:"body1"},children:G.jsxs(y9e,{value:o,children:[G.jsx(Sj,{sx:{borderBottom:1,borderColor:"divider"},children:G.jsxs(S9e,{onChange:s,"aria-label":"lab API tabs example",children:[G.jsx(j0,{label:"Основная информация",value:"1"}),G.jsx(j0,{label:"Образование",value:"2"}),G.jsx(j0,{label:"Карьера",value:"3"}),G.jsx(j0,{label:"Семья",value:"4"})]})}),G.jsx(Tx,{value:"1",children:G.jsx(Px,{data:r,handleSnackbarOpen:n})}),G.jsx(Tx,{value:"2",children:G.jsx(Px,{data:i.education,handleSnackbarOpen:n})}),G.jsx(Tx,{value:"3",children:G.jsx(Px,{data:i.career,handleSnackbarOpen:n})}),G.jsx(Tx,{value:"4",children:G.jsx(Px,{data:i.family,handleSnackbarOpen:n})})]})})})]})},V9e=()=>{const[n,t]=F.useState(!1),[e,r]=F.useState(""),[i,o]=F.useState("success"),a=(l,u)=>{r(u),o(l),t(!0)},s=(l,u)=>{t(!1)};return G.jsxs(Moe,{children:[G.jsx(kfe,{}),G.jsxs(boe,{children:[G.jsx(_L,{path:"/",element:G.jsx(v9e,{handleSnackbarOpen:a})}),G.jsx(_L,{path:"/user/:id",element:G.jsx(G9e,{handleSnackbarOpen:a})})]}),G.jsx(Yhe,{open:n,autoHideDuration:5e3,onClose:s,children:G.jsx(sde,{onClose:s,severity:i,variant:"filled",sx:{width:"100%"},children:e})})]})};TM.createRoot(document.getElementById("root")).render(G.jsx(V9e,{}));
